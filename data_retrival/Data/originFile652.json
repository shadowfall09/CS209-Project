{"items":[{"tags":["java","unit-testing","junit","mockito","powermock"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1676301346,"post_id":75437699,"comment_id":133104623,"body_markdown":"Can you add one complete [mre] please? With tested method _and_ test method please.","body":"Can you add one complete <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please? With tested method <i>and</i> test method please."}],"owner":{"account_id":27775098,"reputation":1,"user_id":21204632,"display_name":"Mohit Arora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676301260,"creation_date":1676300928,"question_id":75437699,"body_markdown":"I&#39;m using power Mockito to mock method with void return type. I want to make my method throw an exception. However below line doesn&#39;t seems to be working.\r\n\r\n I am getting **RuntimeException** with message - `test should never throw an exception to this level` Am I missing anything? Is there a better solution which works?\r\n\r\n\r\n\r\n\r\n     @RunWith(PowerMockRunner.class)\r\n     @PrepareForTest({AppConfig.class, NetworkPlanUtils.class})\r\n     @PowerMockIgnore(&quot;javax.management.*&quot;)\r\n     public class MyTestClass {\r\n     ..\r\n     ..\r\n     \r\n     @Mock \r\n     private Handler handler;\r\n     ..\r\n     ..\r\n     \r\n     @Test\r\n     private void myTestCase() {\r\n     ..\r\n      Mockito.doThrow(new NullPointerException(&quot;exception&quot;)).when(handler).evaluate(operation);\r\n     ..\r\n     }\r\n     }\r\n\r\n```\r\njava.lang.RuntimeException: test should never throw an exception to this level\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:310)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:131)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.access$100(PowerMockJUnit47RunnerDelegateImpl.java:59)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner$TestExecutorStatement.evaluate(PowerMockJUnit47RunnerDelegateImpl.java:147)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.evaluateStatement(PowerMockJUnit47RunnerDelegateImpl.java:107)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:298)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:218)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\r\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:117)\r\nat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\r\nat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\r\n```\r\n\r\n\r\nThank you so much in advance!","title":"How to mock method to throw an exception?","body":"<p>I'm using power Mockito to mock method with void return type. I want to make my method throw an exception. However below line doesn't seems to be working.</p>\n<p>I am getting <strong>RuntimeException</strong> with message - <code>test should never throw an exception to this level</code> Am I missing anything? Is there a better solution which works?</p>\n<pre><code> @RunWith(PowerMockRunner.class)\n @PrepareForTest({AppConfig.class, NetworkPlanUtils.class})\n @PowerMockIgnore(&quot;javax.management.*&quot;)\n public class MyTestClass {\n ..\n ..\n \n @Mock \n private Handler handler;\n ..\n ..\n \n @Test\n private void myTestCase() {\n ..\n  Mockito.doThrow(new NullPointerException(&quot;exception&quot;)).when(handler).evaluate(operation);\n ..\n }\n }\n</code></pre>\n<pre><code>java.lang.RuntimeException: test should never throw an exception to this level\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:310)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:131)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.access$100(PowerMockJUnit47RunnerDelegateImpl.java:59)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner$TestExecutorStatement.evaluate(PowerMockJUnit47RunnerDelegateImpl.java:147)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.evaluateStatement(PowerMockJUnit47RunnerDelegateImpl.java:107)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:298)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:218)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:117)\nat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\nat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\n</code></pre>\n<p>Thank you so much in advance!</p>\n"},{"tags":["java","sharepoint","microsoft-graph-api","sites"],"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676301174,"creation_date":1676300835,"question_id":75437674,"body_markdown":"\t\tString searchFile = &quot;fileName.txt&quot;;\r\n\r\n\t\tGraphServiceClient graphClient = (GraphServiceClient) GraphServiceClient.builder().authenticationProvider(authProvider).buildClient();\r\n\r\n\t\tUser me = graphClient.me().buildRequest().get();\r\n\r\n\r\n\t\tISiteRequestBuilder siteReq = graphClient.sites(&quot;sharepointSiteId&quot;);\r\n\t\tIDriveRequestBuilder driveReq = siteReq.drive();\r\n\t\tIDriveItemRequestBuilder driveRootReq = driveReq.root();\r\n\t\tIDriveItemRequestBuilder source = driveRootReq.itemWithPath(&quot;sourcePath&quot;);\r\n\t\tIDriveItemRequestBuilder destination = driveRootReq.itemWithPath(&quot;destinationPath&quot;);\r\n\t\tIDriveItemCollectionRequestBuilder childrenReq = source.children();\r\n\r\n\t\tString sourceId = source.buildRequest().get().id;\r\n\t\tString destinationId = destination.buildRequest().get().id;\r\n\r\n\t\tIDriveItemSearchCollectionPage searchResult = source.search(searchFile).buildRequest().get();\r\n\r\n\r\n\t\tDriveItem fileResult = null;\r\n\t\tfor(DriveItem driveItem : searchResult.getCurrentPage()){\r\n\t\t\tfileResult = driveItem;\r\n\t\t}\r\n\r\n\t\tif(fileResult!=null){\r\n\t\t\tItemReference parentReference = new ItemReference();\r\n\t\t\tparentReference.id = destinationId;\r\n\t\t\tdriveReq.items(fileResult.id).copy(searchFile, parentReference).buildRequest().post();\r\n\t\t}\r\n\r\nI have this Java code to search a file on a sharepoint site location and copy it to another one. \r\n\r\nIt works ok but it has a bug, I cannot seem to be able to limit the search only to the source path and instead the search the whole site for the files with that name, so if I got multiple files with that name in the site it will bring them all in the results and that can mess up my copy.\r\n\r\nAny one can help me solve this?\r\n\r\nPS. if you have any pointers also to optimise this code they are also welcome.","title":"Sharepoint search file and copy from one location to another","body":"<pre><code>    String searchFile = &quot;fileName.txt&quot;;\n\n    GraphServiceClient graphClient = (GraphServiceClient) GraphServiceClient.builder().authenticationProvider(authProvider).buildClient();\n\n    User me = graphClient.me().buildRequest().get();\n\n\n    ISiteRequestBuilder siteReq = graphClient.sites(&quot;sharepointSiteId&quot;);\n    IDriveRequestBuilder driveReq = siteReq.drive();\n    IDriveItemRequestBuilder driveRootReq = driveReq.root();\n    IDriveItemRequestBuilder source = driveRootReq.itemWithPath(&quot;sourcePath&quot;);\n    IDriveItemRequestBuilder destination = driveRootReq.itemWithPath(&quot;destinationPath&quot;);\n    IDriveItemCollectionRequestBuilder childrenReq = source.children();\n\n    String sourceId = source.buildRequest().get().id;\n    String destinationId = destination.buildRequest().get().id;\n\n    IDriveItemSearchCollectionPage searchResult = source.search(searchFile).buildRequest().get();\n\n\n    DriveItem fileResult = null;\n    for(DriveItem driveItem : searchResult.getCurrentPage()){\n        fileResult = driveItem;\n    }\n\n    if(fileResult!=null){\n        ItemReference parentReference = new ItemReference();\n        parentReference.id = destinationId;\n        driveReq.items(fileResult.id).copy(searchFile, parentReference).buildRequest().post();\n    }\n</code></pre>\n<p>I have this Java code to search a file on a sharepoint site location and copy it to another one.</p>\n<p>It works ok but it has a bug, I cannot seem to be able to limit the search only to the source path and instead the search the whole site for the files with that name, so if I got multiple files with that name in the site it will bring them all in the results and that can mess up my copy.</p>\n<p>Any one can help me solve this?</p>\n<p>PS. if you have any pointers also to optimise this code they are also welcome.</p>\n"},{"tags":["java","kotlin","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676297180,"creation_date":1676297180,"answer_id":75436933,"question_id":75436818,"body_markdown":"You may be able to convert common elements to a [key-value pair](https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/values/KV.html) (e.g., KV&lt;String, Demographics&gt;) and apply a [GroupByKey](https://beam.apache.org/documentation/transforms/java/aggregation/groupbykey/).\r\n\r\nAfter a GroupByKey operation you will have a key-value pair of your key, and an Iterable of the Demographics. You should be able to write a [ParDo/DoFn](https://beam.apache.org/documentation/transforms/java/elementwise/pardo/) that will convert that to a JSON.\r\n\r\nPlease note that depending on the size of the data or group, there are parallelism concerns. The entire group will be processed by a single worker.\r\n\r\nIf using streaming, you will need to use the concept of windows and triggers to define the behavior of your pipeline. Please check [Beam Programming Guide](https://beam.apache.org/documentation/programming-guide/) for more information.\r\n","title":"How can I join all the JSON into one using Java on Apache beam, considering it works in parallel?","body":"<p>You may be able to convert common elements to a <a href=\"https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/values/KV.html\" rel=\"nofollow noreferrer\">key-value pair</a> (e.g., KV&lt;String, Demographics&gt;) and apply a <a href=\"https://beam.apache.org/documentation/transforms/java/aggregation/groupbykey/\" rel=\"nofollow noreferrer\">GroupByKey</a>.</p>\n<p>After a GroupByKey operation you will have a key-value pair of your key, and an Iterable of the Demographics. You should be able to write a <a href=\"https://beam.apache.org/documentation/transforms/java/elementwise/pardo/\" rel=\"nofollow noreferrer\">ParDo/DoFn</a> that will convert that to a JSON.</p>\n<p>Please note that depending on the size of the data or group, there are parallelism concerns. The entire group will be processed by a single worker.</p>\n<p>If using streaming, you will need to use the concept of windows and triggers to define the behavior of your pipeline. Please check <a href=\"https://beam.apache.org/documentation/programming-guide/\" rel=\"nofollow noreferrer\">Beam Programming Guide</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":14798284,"reputation":1363,"user_id":10687325,"display_name":"Alexey Romanenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676301113,"creation_date":1676301113,"answer_id":75437727,"question_id":75436818,"body_markdown":"You can use [JsonToRow][1] transform to convert your Json into Beam rows and then leverage all [Beam Schema transforms][2], like Group, Join, etc \r\n\r\n\r\n  [1]: https://github.com/apache/beam/blob/master/sdks/java/core/src/main/java/org/apache/beam/sdk/transforms/JsonToRow.java\r\n  [2]: https://beam.apache.org/documentation/programming-guide/#662-schema-transforms","title":"How can I join all the JSON into one using Java on Apache beam, considering it works in parallel?","body":"<p>You can use <a href=\"https://github.com/apache/beam/blob/master/sdks/java/core/src/main/java/org/apache/beam/sdk/transforms/JsonToRow.java\" rel=\"nofollow noreferrer\">JsonToRow</a> transform to convert your Json into Beam rows and then leverage all <a href=\"https://beam.apache.org/documentation/programming-guide/#662-schema-transforms\" rel=\"nofollow noreferrer\">Beam Schema transforms</a>, like Group, Join, etc</p>\n"}],"owner":{"account_id":17939769,"reputation":49,"user_id":13035306,"display_name":"Duany Bar&#243; Men&#233;ndez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676301113,"creation_date":1676296635,"question_id":75436818,"body_markdown":"I have a JSON structure that is formatted like this\r\n\r\n```json\r\n{&quot;companyId&quot;:&quot;xxxx&quot;, &quot;asOfDate&quot;:&quot;2022-12-11T00:00:00&quot;, &quot;data&quot;:[{&quot;demographicVariable&quot;:&quot;Ethnicity&quot;, &quot;value&quot;: &quot;23&quot; }]}\r\n\r\n{&quot;companyId&quot;:&quot;xxxx&quot;, &quot;asOfDate&quot;:&quot;2022-12-11T00:00:00&quot;, &quot;data&quot;:[{&quot;demographicVariable&quot;:&quot;Age Band&quot;, &quot;value&quot;: 10}]}\r\n```\r\n\r\nHow can I join all the JSON into one using Java on Apache beam, considering it works in parallel?\r\n\r\nThe result should be:\r\n\r\n```json\r\n{&quot;companyId&quot;:&quot;xxxx&quot;, &quot;asOfDate&quot;:&quot;2022-12-11T00:00:00&quot;, &quot;data&quot;:[{&quot;demographicVariable&quot;:&quot;Age Band&quot;, &quot;value&quot;: 10},{&quot;demographicVariable&quot;:&quot;Ethnicity&quot;, &quot;value&quot;: &quot;23&quot; }]\r\n```","title":"How can I join all the JSON into one using Java on Apache beam, considering it works in parallel?","body":"<p>I have a JSON structure that is formatted like this</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;companyId&quot;:&quot;xxxx&quot;, &quot;asOfDate&quot;:&quot;2022-12-11T00:00:00&quot;, &quot;data&quot;:[{&quot;demographicVariable&quot;:&quot;Ethnicity&quot;, &quot;value&quot;: &quot;23&quot; }]}\n\n{&quot;companyId&quot;:&quot;xxxx&quot;, &quot;asOfDate&quot;:&quot;2022-12-11T00:00:00&quot;, &quot;data&quot;:[{&quot;demographicVariable&quot;:&quot;Age Band&quot;, &quot;value&quot;: 10}]}\n</code></pre>\n<p>How can I join all the JSON into one using Java on Apache beam, considering it works in parallel?</p>\n<p>The result should be:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;companyId&quot;:&quot;xxxx&quot;, &quot;asOfDate&quot;:&quot;2022-12-11T00:00:00&quot;, &quot;data&quot;:[{&quot;demographicVariable&quot;:&quot;Age Band&quot;, &quot;value&quot;: 10},{&quot;demographicVariable&quot;:&quot;Ethnicity&quot;, &quot;value&quot;: &quot;23&quot; }]\n</code></pre>\n"},{"tags":["java","html"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1539678157,"post_id":52830981,"comment_id":92578369,"body_markdown":"Use JSP, JSTL, HTML and CSS - not java","body":"Use JSP, JSTL, HTML and CSS - not java"},{"owner":{"account_id":4995088,"reputation":178,"user_id":5401399,"display_name":"Shalvin"},"score":0,"creation_date":1539678415,"post_id":52830981,"comment_id":92578514,"body_markdown":"Why dont you model your query in such a way, that the output you get from your sql seems like one table output, hence it will be easier to print it out. \n\nAlso please give more details of your problem, its kind of difficult to understand what data you are trying to display.","body":"Why dont you model your query in such a way, that the output you get from your sql seems like one table output, hence it will be easier to print it out.   Also please give more details of your problem, its kind of difficult to understand what data you are trying to display."},{"owner":{"display_name":"user9654671"},"score":0,"creation_date":1539711289,"post_id":52830981,"comment_id":92597949,"body_markdown":"I don&#39;t understand the question at all - **mainly because** you have only posted 1 row of 1 table!  Usually, by the way, the best way to make &quot;Two Tables&quot; appear &quot;Side by Side&quot; is to have a **super-table** (outer-table - usually with just one row) that has it&#39;s **left-column** as **Table 1** and then it&#39;s **right-column** as **Table 2.**  - I, personally, cannot identify from your question what you would want to place in Table 1 and what you would want in Table 2.","body":"I don&#39;t understand the question at all - <b>mainly because</b> you have only posted 1 row of 1 table!  Usually, by the way, the best way to make &quot;Two Tables&quot; appear &quot;Side by Side&quot; is to have a <b>super-table</b> (outer-table - usually with just one row) that has it&#39;s <b>left-column</b> as <b>Table 1</b> and then it&#39;s <b>right-column</b> as <b>Table 2.</b>  - I, personally, cannot identify from your question what you would want to place in Table 1 and what you would want in Table 2."}],"answers":[{"tags":[],"owner":{"account_id":14545588,"reputation":46,"user_id":10505911,"display_name":"Florian Erbs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539678605,"creation_date":1539678605,"answer_id":52831145,"question_id":52830981,"body_markdown":"In HTML/CSS you need to give the first table float: left; and the second table margin-left\r\n\r\nFor Example\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    table{\r\n     border: solid;\r\n    }\r\n\r\n    #one{\r\n      float: left;\r\n    }\r\n    #two{\r\n     /* margin has to be atleast the width of #one */\r\n      margin-left: 50px;\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;table id=&quot;one&quot;&gt;\r\n      &lt;tr&gt;\r\n        &lt;th&gt;Test&lt;/th&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;Test&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    &lt;table id=&quot;two&quot;&gt;\r\n      &lt;tr&gt;\r\n        &lt;th&gt;Test&lt;/th&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;Test&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Generate two HTML tables side by side from Java","body":"<p>In HTML/CSS you need to give the first table float: left; and the second table margin-left</p>\n\n<p>For Example</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>table{\r\n border: solid;\r\n}\r\n\r\n#one{\r\n  float: left;\r\n}\r\n#two{\r\n /* margin has to be atleast the width of #one */\r\n  margin-left: 50px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table id=\"one\"&gt;\r\n  &lt;tr&gt;\r\n    &lt;th&gt;Test&lt;/th&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Test&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;\r\n&lt;table id=\"two\"&gt;\r\n  &lt;tr&gt;\r\n    &lt;th&gt;Test&lt;/th&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Test&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":7797856,"reputation":1,"user_id":5898336,"display_name":"Vinoth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676300791,"creation_date":1539678082,"question_id":52830981,"body_markdown":"I need to print the output of two tables side by side in HTML using JAVA. But they are not printed side by side. I am using this code:\r\n\t\r\n\t\tFileWriter fw = new FileWriter(strFilePath,true); //the true will append the new data\r\n\t\tfw.write(&quot;&lt;h1&gt;&quot;+name+&quot;&lt;/h1&gt;&quot;);\r\n\t\tfw.write(&quot;&lt;table float=&#39;left&#39; border=&#39;1&#39; BORDERCOLOR=Black  width=&#39;50%&#39; height=&#39;47&#39;&gt;&quot;);\r\n\t\tfw.write(&quot;&lt;tr&gt;&quot;);\r\n\t\tfw.write(&quot;&lt;td width=&#39;24%&#39; bgcolor=&#39;#CCCCFF&#39;&gt;&lt;b&gt;&lt;font color=&#39;#000000&#39; face=&#39;Tahoma&#39; size=&#39;2&#39;&gt;Environment&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\tfw.write(&quot;&lt;td width=&#39;24%&#39; bgcolor=&#39;#CCCCFF&#39;&gt;&lt;b&gt;&lt;font color=&#39;#000000&#39; face=&#39;Tahoma&#39; size=&#39;2&#39;&gt;Account&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\tfw.write(&quot;&lt;td width=&#39;23%&#39; bgcolor=&#39;#CCCCFF&#39;&gt;&lt;b&gt;&lt;font color=&#39;#000000&#39; face=&#39;Tahoma&#39; size=&#39;2&#39;&gt;COUNT&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\tfw.write(&quot;&lt;td width=&#39;18%&#39; bgcolor=&#39;#CCCCFF&#39; align=&#39;center&#39;&gt;&lt;b&gt;&lt;font color=&#39;#000000&#39; face=&#39;Tahoma&#39; size=&#39;2&#39;&gt;Frequency&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\tfw.write(&quot;&lt;/tr&gt;&quot;);\r\n\t\tfw.close();","title":"Generate two HTML tables side by side from Java","body":"<p>I need to print the output of two tables side by side in HTML using JAVA. But they are not printed side by side. I am using this code:</p>\n<pre><code>    FileWriter fw = new FileWriter(strFilePath,true); //the true will append the new data\n    fw.write(&quot;&lt;h1&gt;&quot;+name+&quot;&lt;/h1&gt;&quot;);\n    fw.write(&quot;&lt;table float='left' border='1' BORDERCOLOR=Black  width='50%' height='47'&gt;&quot;);\n    fw.write(&quot;&lt;tr&gt;&quot;);\n    fw.write(&quot;&lt;td width='24%' bgcolor='#CCCCFF'&gt;&lt;b&gt;&lt;font color='#000000' face='Tahoma' size='2'&gt;Environment&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;&quot;);\n    fw.write(&quot;&lt;td width='24%' bgcolor='#CCCCFF'&gt;&lt;b&gt;&lt;font color='#000000' face='Tahoma' size='2'&gt;Account&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;&quot;);\n    fw.write(&quot;&lt;td width='23%' bgcolor='#CCCCFF'&gt;&lt;b&gt;&lt;font color='#000000' face='Tahoma' size='2'&gt;COUNT&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;&quot;);\n    fw.write(&quot;&lt;td width='18%' bgcolor='#CCCCFF' align='center'&gt;&lt;b&gt;&lt;font color='#000000' face='Tahoma' size='2'&gt;Frequency&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;&quot;);\n    fw.write(&quot;&lt;/tr&gt;&quot;);\n    fw.close();\n</code></pre>\n"},{"tags":["java","iso8583","jpos"],"comments":[{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1676217157,"post_id":75428127,"comment_id":133088732,"body_markdown":"If the packager is the same, then It&#39;s probably a misalignment at channel level, maybe the sender response message has a header the client channel isn&#39;t expecting. Please share in the question the logs of sever and channel as well as it&#39;s definitions (XML or java code you are using for writing them)","body":"If the packager is the same, then It&#39;s probably a misalignment at channel level, maybe the sender response message has a header the client channel isn&#39;t expecting. Please share in the question the logs of sever and channel as well as it&#39;s definitions (XML or java code you are using for writing them)"},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1676222083,"post_id":75428127,"comment_id":133089694,"body_markdown":"I think there was a mistake before, now i tried to adjust with the same packager and my client getting another error like this [link](https://pastebin.com/v1pHMdMj) and my ISO Server sending this [link](https://pastebin.com/VuhyvND8), as you can see my server return field 54 correctly below the maximum length, but why my client read it too long? Any idea?","body":"I think there was a mistake before, now i tried to adjust with the same packager and my client getting another error like this <a href=\"https://pastebin.com/v1pHMdMj\" rel=\"nofollow noreferrer\">link</a> and my ISO Server sending this <a href=\"https://pastebin.com/VuhyvND8\" rel=\"nofollow noreferrer\">link</a>, as you can see my server return field 54 correctly below the maximum length, but why my client read it too long? Any idea?"},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1676222468,"post_id":75428127,"comment_id":133089773,"body_markdown":"Also i want to ask, if the field if absent on the server response? the client will also try to unpack the absent field?","body":"Also i want to ask, if the field if absent on the server response? the client will also try to unpack the absent field?"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1676224137,"post_id":75428127,"comment_id":133090065,"body_markdown":"As the packager or channel is not correctly aligned it is reading the bitmap wrong","body":"As the packager or channel is not correctly aligned it is reading the bitmap wrong"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1676224230,"post_id":75428127,"comment_id":133090082,"body_markdown":"Please add the text to the question not links in the comments. It makes it hard for someone watching this question later to know the problems or how to solve it","body":"Please add the text to the question not links in the comments. It makes it hard for someone watching this question later to know the problems or how to solve it"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1676224349,"post_id":75428127,"comment_id":133090107,"body_markdown":"Add the code to the question also, and the relevant outputs, help us help you","body":"Add the code to the question also, and the relevant outputs, help us help you"},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1676254377,"post_id":75428127,"comment_id":133094447,"body_markdown":"@Andr&#233;sAlcarraz i already edited my question to the updated issue, provided my code and etc","body":"@Andr&#233;sAlcarraz i already edited my question to the updated issue, provided my code and etc"}],"answers":[{"tags":[],"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676298983,"creation_date":1676256910,"answer_id":75431563,"question_id":75428127,"body_markdown":"The issue was solved the issue by setting a header on the client channel, this is because the channel needs to know how many of the incoming bytes are for the header.\r\n\r\nHere isthe fixed code \r\n\r\n```java\r\npublic static void main(String[] args) throws IOException, ISOException {\r\n    // Create Packager based on XML that contain DE type\r\n    GenericPackager packager = new GenericPackager(&quot;iso87ascii.xml&quot;);\r\n\r\n    // Create ISO Message\r\n    ISOMsg isoMsg = new ISOMsg();\r\n    isoMsg.setPackager(packager);\r\n     //isoMsg.setHeader(&quot;6003560000&quot;.getBytes());\r\n    isoMsg.setHeader(&quot;ISO016000010&quot;.getBytes());\r\n    isoMsg.setMTI(&quot;0200&quot;);\r\n    isoMsg.set(2, &quot;1818180000000001&quot;);\r\n    isoMsg.set(3, &quot;011000&quot;);\r\n    isoMsg.set(4, &quot;000020000000&quot;);\r\n    isoMsg.set(7, &quot;0713085819&quot;);\r\n    isoMsg.set(11, &quot;000017&quot;);\r\n    isoMsg.set(12, &quot;155819&quot;);\r\n    isoMsg.set(13, &quot;0713&quot;);\r\n    isoMsg.set(17,&quot;0713&quot;);\r\n    isoMsg.set(18,&quot;6011&quot;);\r\n    isoMsg.set(32,&quot;11&quot;);\r\n    isoMsg.set(35, &quot;1818180000000001=9912&quot;);\r\n    isoMsg.set(37, &quot;1039&quot;);\r\n    isoMsg.set(41, &quot;00001641&quot;);\r\n    isoMsg.set(43, &quot;RPC MAKASSAR          UJUNG PANDANG   ID&quot;);\r\n    isoMsg.set(49, &quot;360&quot;);\r\n    isoMsg.set(60, &quot;BDANPRO1+000&quot;);\r\n    isoMsg.set(61, &quot;CBDAPRO10000P&quot;);\r\n    isoMsg.set(100, &quot;888&quot;);\r\n    isoMsg.set(102, &quot;003600108017&quot;);\r\n    isoMsg.set(126, &quot;&amp; 0000200122! QJ00100 081278329015   123456      47059965    5577911488052911                                             &quot;);\r\n\r\n    BASE24Channel c = new BASE24Channel(&quot;localhost&quot;, 8000, packager);\r\n\tc.setHeader(&quot;ISO016000010&quot;);\r\n\r\n    logISOMsg(isoMsg);\r\n    System.out.println(ISOUtil.hexdump(isoMsg.pack()));\r\n    c.connect();\r\n    c.send(isoMsg);\r\n    ISOMsg response = c.receive();\r\n    System.out.println(ISOUtil.hexdump(response.pack()));\r\n    System.out.println(&quot;****************Response *********************&quot;);\r\n    logISOMsg(response);\r\n```\r\n","title":"Problem unpacking field 54 when ISO Server and ISO Client has the same packager","body":"<p>The issue was solved the issue by setting a header on the client channel, this is because the channel needs to know how many of the incoming bytes are for the header.</p>\n<p>Here isthe fixed code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException, ISOException {\n    // Create Packager based on XML that contain DE type\n    GenericPackager packager = new GenericPackager(&quot;iso87ascii.xml&quot;);\n\n    // Create ISO Message\n    ISOMsg isoMsg = new ISOMsg();\n    isoMsg.setPackager(packager);\n     //isoMsg.setHeader(&quot;6003560000&quot;.getBytes());\n    isoMsg.setHeader(&quot;ISO016000010&quot;.getBytes());\n    isoMsg.setMTI(&quot;0200&quot;);\n    isoMsg.set(2, &quot;1818180000000001&quot;);\n    isoMsg.set(3, &quot;011000&quot;);\n    isoMsg.set(4, &quot;000020000000&quot;);\n    isoMsg.set(7, &quot;0713085819&quot;);\n    isoMsg.set(11, &quot;000017&quot;);\n    isoMsg.set(12, &quot;155819&quot;);\n    isoMsg.set(13, &quot;0713&quot;);\n    isoMsg.set(17,&quot;0713&quot;);\n    isoMsg.set(18,&quot;6011&quot;);\n    isoMsg.set(32,&quot;11&quot;);\n    isoMsg.set(35, &quot;1818180000000001=9912&quot;);\n    isoMsg.set(37, &quot;1039&quot;);\n    isoMsg.set(41, &quot;00001641&quot;);\n    isoMsg.set(43, &quot;RPC MAKASSAR          UJUNG PANDANG   ID&quot;);\n    isoMsg.set(49, &quot;360&quot;);\n    isoMsg.set(60, &quot;BDANPRO1+000&quot;);\n    isoMsg.set(61, &quot;CBDAPRO10000P&quot;);\n    isoMsg.set(100, &quot;888&quot;);\n    isoMsg.set(102, &quot;003600108017&quot;);\n    isoMsg.set(126, &quot;&amp; 0000200122! QJ00100 081278329015   123456      47059965    5577911488052911                                             &quot;);\n\n    BASE24Channel c = new BASE24Channel(&quot;localhost&quot;, 8000, packager);\n    c.setHeader(&quot;ISO016000010&quot;);\n\n    logISOMsg(isoMsg);\n    System.out.println(ISOUtil.hexdump(isoMsg.pack()));\n    c.connect();\n    c.send(isoMsg);\n    ISOMsg response = c.receive();\n    System.out.println(ISOUtil.hexdump(response.pack()));\n    System.out.println(&quot;****************Response *********************&quot;);\n    logISOMsg(response);\n</code></pre>\n"}],"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676300752,"creation_date":1676215900,"question_id":75428127,"body_markdown":"I am making a jPOS Client and a ISO Server program, in which I&#39;m trying to hit the server from the client. \r\n\r\nI got this exception on my client, my server successfully returned this response (both using the same packager).\r\n\r\nISO Server response\r\n```\r\n&lt;log realm=&quot;xml-server-8000/127.0.0.1:54830&quot; at=&quot;2023-02-13T09:30:02.218720900&quot;&gt;\r\n  &lt;send&gt;\r\n    &lt;isomsg direction=&quot;outgoing&quot;&gt;\r\n      &lt;!-- org.jpos.iso.packager.GenericPackager[cfg/iso87ascii.xml] --&gt;\r\n      &lt;header&gt;49534F303136303030303135&lt;/header&gt;\r\n      &lt;field id=&quot;0&quot; value=&quot;0210&quot;/&gt;\r\n      &lt;field id=&quot;2&quot; value=&quot;1818180000000001&quot;/&gt;\r\n      &lt;field id=&quot;3&quot; value=&quot;011000&quot;/&gt;\r\n      &lt;field id=&quot;4&quot; value=&quot;000020000000&quot;/&gt;\r\n      &lt;field id=&quot;5&quot; value=&quot;000020000000&quot;/&gt;\r\n      &lt;field id=&quot;6&quot; value=&quot;000020000000&quot;/&gt;\r\n      &lt;field id=&quot;7&quot; value=&quot;0713085819&quot;/&gt;\r\n      &lt;field id=&quot;9&quot; value=&quot;61000000&quot;/&gt;\r\n      &lt;field id=&quot;10&quot; value=&quot;61000000&quot;/&gt;\r\n      &lt;field id=&quot;11&quot; value=&quot;000017&quot;/&gt;\r\n      &lt;field id=&quot;12&quot; value=&quot;155819&quot;/&gt;\r\n      &lt;field id=&quot;13&quot; value=&quot;0713&quot;/&gt;\r\n      &lt;field id=&quot;17&quot; value=&quot;0713&quot;/&gt;\r\n      &lt;field id=&quot;18&quot; value=&quot;6011&quot;/&gt;\r\n      &lt;field id=&quot;32&quot; value=&quot;11&quot;/&gt;\r\n      &lt;field id=&quot;35&quot; value=&quot;1818180000000001=9912&quot;/&gt;\r\n      &lt;field id=&quot;37&quot; value=&quot;1039        &quot;/&gt;\r\n      &lt;field id=&quot;38&quot; value=&quot;000017&quot;/&gt;\r\n      &lt;field id=&quot;39&quot; value=&quot;00&quot;/&gt;\r\n      &lt;field id=&quot;41&quot; value=&quot;00001641&quot;/&gt;\r\n      &lt;field id=&quot;43&quot; value=&quot;RPC MAKASSAR          UJUNG PANDANG   ID                                                           &quot;/&gt;\r\n      &lt;field id=&quot;49&quot; value=&quot;360&quot;/&gt;\r\n      &lt;field id=&quot;50&quot; value=&quot;360&quot;/&gt;\r\n      &lt;field id=&quot;51&quot; value=&quot;360&quot;/&gt;\r\n      &lt;field id=&quot;54&quot; value=&quot;1002360C000268000980&quot;/&gt;\r\n      &lt;field id=&quot;60&quot; value=&quot;BDANPRO1+000&quot;/&gt;\r\n      &lt;field id=&quot;61&quot; value=&quot;CBDAPRO10000P&quot;/&gt;\r\n      &lt;field id=&quot;100&quot; value=&quot;888&quot;/&gt;\r\n      &lt;field id=&quot;102&quot; value=&quot;003600108017&quot;/&gt;\r\n      &lt;field id=&quot;126&quot; value=&quot;&amp;amp; 0000200122! QJ00100 081278329015   123456      47059965    5577911488052911                                             &quot;/&gt;\r\n    &lt;/isomsg&gt;\r\n  &lt;/send&gt;\r\n&lt;/log&gt;\r\n\r\n```\r\nISOClient packager log after receiving response\r\n```\r\n&lt;log realm=&quot;debug&quot; at=&quot;2023-02-13T09:30:02.210741800&quot;&gt;\r\n  &lt;pack&gt;\r\n    30323030463233384330303132384130383031383030303030303030313430303030303431363138313831383030303030303030303130313130303030303030323030303030303030373133303835383139303030303137313535383139303731333037313336303131303231313231313831383138303030303030303030313D393931323130333920202020202020203030303031363431525043204D414B415353415220202020202020202020554A554E472050414E44414E47202020494420202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020203336303031324244414E50524F312B3030303031334342444150524F313030303050303338383831323030333630303130383031373132322620303030303230303132322120514A30303130302030383132373833323930313520202031323334353620202020202034373035393936352020202035353737393131343838303532393131202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020\r\n  &lt;/pack&gt;\r\n&lt;/log&gt;\r\n&lt;log realm=&quot;debug&quot; at=&quot;2023-02-13T09:30:02.221712900&quot; lifespan=&quot;2ms&quot;&gt;\r\n  &lt;unpack&gt;\r\n    49534F3031363030303031353032313046454638433030313245413045343138303030303030303031343030303030343136313831383138303030303030303030313031313030303030303032303030303030303030303032303030303030303030303032303030303030303037313330383538313936313030303030303631303030303030303030303137313535383139303731333037313336303131303231313231313831383138303030303030303030313D3939313231303339202020202020202030303030313730303030303031363431525043204D414B415353415220202020202020202020554A554E472050414E44414E472020204944202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202033363033363033363030323031303032333630433030303236383030303938303031324244414E50524F312B3030303031334342444150524F313030303050303338383831323030333630303130383031373132322620303030303230303132322120514A30303130302030383132373833323930313520202031323334353620202020202034373035393936352020202035353737393131343838303532393131202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020\r\n    &lt;bitmap&gt;{4, 6, 7, 28, 30, 32, 39, 44, 49, 50, 51, 52, 53, 54, 55, 57, 58, 59, 60, 61}&lt;/bitmap&gt;\r\n    &lt;unpack fld=&quot;4&quot; packager=&quot;org.jpos.iso.IFA_NUMERIC&quot;&gt;\r\n      &lt;!-- AMOUNT, TRANSACTION --&gt;\r\n      &lt;value&gt;C0012EA0E418&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;6&quot; packager=&quot;org.jpos.iso.IFA_NUMERIC&quot;&gt;\r\n      &lt;!-- AMOUNT, CARDHOLDER BILLING --&gt;\r\n      &lt;value&gt;000000001400&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;7&quot; packager=&quot;org.jpos.iso.IFA_NUMERIC&quot;&gt;\r\n      &lt;!-- TRANSMISSION DATE AND TIME --&gt;\r\n      &lt;value&gt;0004161818&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;28&quot; packager=&quot;org.jpos.iso.IFA_AMOUNT&quot;&gt;\r\n      &lt;!-- AMOUNT, TRANSACTION FEE --&gt;\r\n      &lt;value&gt;180000000&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;30&quot; packager=&quot;org.jpos.iso.IFA_AMOUNT&quot;&gt;\r\n      &lt;!-- AMOUNT, TRANSACTION PROCESSING FEE --&gt;\r\n      &lt;value&gt;001011000&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;32&quot; packager=&quot;org.jpos.iso.IFA_LLNUM&quot;&gt;\r\n      &lt;!-- ACQUIRING INSTITUTION IDENT CODE --&gt;\r\n      &lt;value&gt;&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;39&quot; packager=&quot;org.jpos.iso.IF_CHAR&quot;&gt;\r\n      &lt;!-- RESPONSE CODE --&gt;\r\n      &lt;value&gt;00&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;44&quot; packager=&quot;org.jpos.iso.IFA_LLCHAR&quot;&gt;\r\n      &lt;!-- ADITIONAL RESPONSE DATA --&gt;\r\n      &lt;value&gt;00000000002000000000&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;49&quot; packager=&quot;org.jpos.iso.IF_CHAR&quot;&gt;\r\n      &lt;!-- CURRENCY CODE, TRANSACTION --&gt;\r\n      &lt;value&gt;002&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;50&quot; packager=&quot;org.jpos.iso.IF_CHAR&quot;&gt;\r\n      &lt;!-- CURRENCY CODE, SETTLEMENT --&gt;\r\n      &lt;value&gt;000&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;51&quot; packager=&quot;org.jpos.iso.IF_CHAR&quot;&gt;\r\n      &lt;!-- CURRENCY CODE, CARDHOLDER BILLING --&gt;\r\n      &lt;value&gt;000&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;52&quot; packager=&quot;org.jpos.iso.IFA_BINARY&quot;&gt;\r\n      &lt;!-- PIN DATA --&gt;\r\n      &lt;value type=&#39;binary&#39;&gt;0071308581961000&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;53&quot; packager=&quot;org.jpos.iso.IFA_NUMERIC&quot;&gt;\r\n      &lt;!-- SECURITY RELATED CONTROL INFORMATION --&gt;\r\n      &lt;value&gt;0006100000000001&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    error unpacking field 54 consumed=139\r\n    &lt;iso-exception&gt;\r\n      org.jpos.iso.IFA_LLLCHAR: Problem unpacking field 54\r\n      &lt;iso-exception&gt;\r\n        Field length 715 too long. Max: 120\r\n        org.jpos.iso.ISOException: Field length 715 too long. Max: 120\r\n\tat org.jpos.iso.ISOStringFieldPackager.unpack(ISOStringFieldPackager.java:179)\r\n\tat org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:306)\r\n\tat org.jpos.iso.ISOMsg.unpack(ISOMsg.java:479)\r\n\tat org.jpos.iso.BaseChannel.unpack(BaseChannel.java:978)\r\n\tat org.jpos.iso.BaseChannel.receive(BaseChannel.java:748)\r\n\tat com.taskincomplete.jpos.SampleRequestB24Channel.main(SampleRequestB24Channel.java:103)\r\n      &lt;/iso-exception&gt;\r\n      org.jpos.iso.ISOException: org.jpos.iso.IFA_LLLCHAR: Problem unpacking field 54 (org.jpos.iso.ISOException: Field length 715 too long. Max: 120)\r\n\tat org.jpos.iso.ISOStringFieldPackager.unpack(ISOStringFieldPackager.java:187)\r\n\tat org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:306)\r\n\tat org.jpos.iso.ISOMsg.unpack(ISOMsg.java:479)\r\n\tat org.jpos.iso.BaseChannel.unpack(BaseChannel.java:978)\r\n\tat org.jpos.iso.BaseChannel.receive(BaseChannel.java:748)\r\n\tat com.taskincomplete.jpos.SampleRequestB24Channel.main(SampleRequestB24Channel.java:103)\r\nNested:org.jpos.iso.ISOException: Field length 715 too long. Max: 120\r\n\tat org.jpos.iso.ISOStringFieldPackager.unpack(ISOStringFieldPackager.java:179)\r\n\tat org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:306)\r\n\tat org.jpos.iso.ISOMsg.unpack(ISOMsg.java:479)\r\n\tat org.jpos.iso.BaseChannel.unpack(BaseChannel.java:978)\r\n\tat org.jpos.iso.BaseChannel.receive(BaseChannel.java:748)\r\n\tat com.taskincomplete.jpos.SampleRequestB24Channel.main(SampleRequestB24Channel.java:103)\r\n    &lt;/iso-exception&gt;\r\n    &lt;iso-exception&gt;\r\n      org.jpos.iso.IFA_LLLCHAR: Problem unpacking field 54 (org.jpos.iso.ISOException: Field length 715 too long. Max: 120) unpacking field=54, consumed=139\r\n      org.jpos.iso.ISOException: org.jpos.iso.IFA_LLLCHAR: Problem unpacking field 54 (org.jpos.iso.ISOException: Field length 715 too long. Max: 120) unpacking field=54, consumed=139\r\n\tat org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:341)\r\n\tat org.jpos.iso.ISOMsg.unpack(ISOMsg.java:479)\r\n\tat org.jpos.iso.BaseChannel.unpack(BaseChannel.java:978)\r\n\tat org.jpos.iso.BaseChannel.receive(BaseChannel.java:748)\r\n\tat com.taskincomplete.jpos.SampleRequestB24Channel.main(SampleRequestB24Channel.java:103)\r\n    &lt;/iso-exception&gt;\r\n  &lt;/unpack&gt;\r\n&lt;/log&gt;\r\n  ```\r\n\r\nthis is the ISO Client Code i used\r\n\r\n```\r\n\tpublic static void main(String[] args) throws IOException, ISOException {\r\n\t\t// Create Packager based on XML that contain DE type\r\n\t\tGenericPackager packager = new GenericPackager(&quot;iso87ascii.xml&quot;);\r\n\r\n\t\t// Create ISO Message\r\n\t\tISOMsg isoMsg = new ISOMsg();\r\n\t\tisoMsg.setPackager(packager);\r\n\t\t //isoMsg.setHeader(&quot;6003560000&quot;.getBytes());\r\n\t\tisoMsg.setHeader(&quot;ISO016000010&quot;.getBytes());\r\n\t\tisoMsg.setMTI(&quot;0200&quot;);\r\n        isoMsg.set(2, &quot;1818180000000001&quot;);\r\n        isoMsg.set(3, &quot;011000&quot;);\r\n        isoMsg.set(4, &quot;000020000000&quot;);\r\n        isoMsg.set(7, &quot;0713085819&quot;);\r\n        isoMsg.set(11, &quot;000017&quot;);\r\n        isoMsg.set(12, &quot;155819&quot;);\r\n        isoMsg.set(13, &quot;0713&quot;);\r\n        isoMsg.set(17,&quot;0713&quot;);\r\n        isoMsg.set(18,&quot;6011&quot;);\r\n        isoMsg.set(32,&quot;11&quot;);\r\n        isoMsg.set(35, &quot;1818180000000001=9912&quot;);\r\n        isoMsg.set(37, &quot;1039&quot;);\r\n        isoMsg.set(41, &quot;00001641&quot;);\r\n        isoMsg.set(43, &quot;RPC MAKASSAR          UJUNG PANDANG   ID&quot;);\r\n        isoMsg.set(49, &quot;360&quot;);\r\n        isoMsg.set(60, &quot;BDANPRO1+000&quot;);\r\n        isoMsg.set(61, &quot;CBDAPRO10000P&quot;);\r\n        isoMsg.set(100, &quot;888&quot;);\r\n        isoMsg.set(102, &quot;003600108017&quot;);\r\n        isoMsg.set(126, &quot;&amp; 0000200122! QJ00100 081278329015   123456      47059965    5577911488052911                                             &quot;);\r\n\r\n\t\tBASE24Channel c = new BASE24Channel(&quot;localhost&quot;, 8000, packager/*\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t * , ISOUtil.str2bcd(&quot;600356&quot;, false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t */);\r\n\t\tlogISOMsg(isoMsg);\r\n\t\tSystem.out.println(ISOUtil.hexdump(isoMsg.pack()));\r\n\t\tc.connect();\r\n\t\tc.send(isoMsg);\r\n\t\tISOMsg response = c.receive();\r\n\t\tSystem.out.println(ISOUtil.hexdump(response.pack()));\r\n\t\tSystem.out.println(&quot;****************Response *********************&quot;);\r\n\t\tlogISOMsg(response);\r\n\r\n```\r\n\r\nthe current jpos server xml i use using the same ISOChannelType as the client\r\n\r\n```\r\n&lt;server class=&quot;org.jpos.q2.iso.QServer&quot; logger=&quot;Q2&quot; name=&quot;xml-server-8000&quot; realm=&quot;xml-server-8000&quot;&gt;\r\n    &lt;attr name=&quot;port&quot; type=&quot;java.lang.Integer&quot;&gt;8000&lt;/attr&gt;\r\n    &lt;channel class=&quot;org.jpos.iso.channel.BASE24Channel&quot;\r\n             packager=&quot;org.jpos.iso.packager.GenericPackager&quot;\r\n             type=&quot;server&quot;\r\n             logger=&quot;Q2&quot;\r\n             realm=&quot;xml-server-8000&quot;\r\n\t\t\t header= &quot;ISO016000010&quot;&gt;\r\n        &lt;property name=&quot;timeout&quot; value=&quot;180000&quot;/&gt;\r\n\t\t&lt;property name=&quot;packager-config&quot; value=&quot;cfg/iso87ascii.xml&quot; /&gt;\r\n    &lt;/channel&gt;\r\n    &lt;request-listener class=&quot;org.jpos.tutorial.LogonRequest&quot; /&gt;\r\n&lt;/server&gt;\r\n```\r\n\r\nlast the packager\r\n[myPackager](https://easyupload.io/bfb0p9) both server and client using the same packager, but still the client can&#39;t parse the message, any idea? Also just noticed my ISOClient received different bitmap with my ISOServer response bitmap","title":"Problem unpacking field 54 when ISO Server and ISO Client has the same packager","body":"<p>I am making a jPOS Client and a ISO Server program, in which I'm trying to hit the server from the client.</p>\n<p>I got this exception on my client, my server successfully returned this response (both using the same packager).</p>\n<p>ISO Server response</p>\n<pre><code>&lt;log realm=&quot;xml-server-8000/127.0.0.1:54830&quot; at=&quot;2023-02-13T09:30:02.218720900&quot;&gt;\n  &lt;send&gt;\n    &lt;isomsg direction=&quot;outgoing&quot;&gt;\n      &lt;!-- org.jpos.iso.packager.GenericPackager[cfg/iso87ascii.xml] --&gt;\n      &lt;header&gt;49534F303136303030303135&lt;/header&gt;\n      &lt;field id=&quot;0&quot; value=&quot;0210&quot;/&gt;\n      &lt;field id=&quot;2&quot; value=&quot;1818180000000001&quot;/&gt;\n      &lt;field id=&quot;3&quot; value=&quot;011000&quot;/&gt;\n      &lt;field id=&quot;4&quot; value=&quot;000020000000&quot;/&gt;\n      &lt;field id=&quot;5&quot; value=&quot;000020000000&quot;/&gt;\n      &lt;field id=&quot;6&quot; value=&quot;000020000000&quot;/&gt;\n      &lt;field id=&quot;7&quot; value=&quot;0713085819&quot;/&gt;\n      &lt;field id=&quot;9&quot; value=&quot;61000000&quot;/&gt;\n      &lt;field id=&quot;10&quot; value=&quot;61000000&quot;/&gt;\n      &lt;field id=&quot;11&quot; value=&quot;000017&quot;/&gt;\n      &lt;field id=&quot;12&quot; value=&quot;155819&quot;/&gt;\n      &lt;field id=&quot;13&quot; value=&quot;0713&quot;/&gt;\n      &lt;field id=&quot;17&quot; value=&quot;0713&quot;/&gt;\n      &lt;field id=&quot;18&quot; value=&quot;6011&quot;/&gt;\n      &lt;field id=&quot;32&quot; value=&quot;11&quot;/&gt;\n      &lt;field id=&quot;35&quot; value=&quot;1818180000000001=9912&quot;/&gt;\n      &lt;field id=&quot;37&quot; value=&quot;1039        &quot;/&gt;\n      &lt;field id=&quot;38&quot; value=&quot;000017&quot;/&gt;\n      &lt;field id=&quot;39&quot; value=&quot;00&quot;/&gt;\n      &lt;field id=&quot;41&quot; value=&quot;00001641&quot;/&gt;\n      &lt;field id=&quot;43&quot; value=&quot;RPC MAKASSAR          UJUNG PANDANG   ID                                                           &quot;/&gt;\n      &lt;field id=&quot;49&quot; value=&quot;360&quot;/&gt;\n      &lt;field id=&quot;50&quot; value=&quot;360&quot;/&gt;\n      &lt;field id=&quot;51&quot; value=&quot;360&quot;/&gt;\n      &lt;field id=&quot;54&quot; value=&quot;1002360C000268000980&quot;/&gt;\n      &lt;field id=&quot;60&quot; value=&quot;BDANPRO1+000&quot;/&gt;\n      &lt;field id=&quot;61&quot; value=&quot;CBDAPRO10000P&quot;/&gt;\n      &lt;field id=&quot;100&quot; value=&quot;888&quot;/&gt;\n      &lt;field id=&quot;102&quot; value=&quot;003600108017&quot;/&gt;\n      &lt;field id=&quot;126&quot; value=&quot;&amp;amp; 0000200122! QJ00100 081278329015   123456      47059965    5577911488052911                                             &quot;/&gt;\n    &lt;/isomsg&gt;\n  &lt;/send&gt;\n&lt;/log&gt;\n\n</code></pre>\n<p>ISOClient packager log after receiving response</p>\n<pre><code>&lt;log realm=&quot;debug&quot; at=&quot;2023-02-13T09:30:02.210741800&quot;&gt;\n  &lt;pack&gt;\n    30323030463233384330303132384130383031383030303030303030313430303030303431363138313831383030303030303030303130313130303030303030323030303030303030373133303835383139303030303137313535383139303731333037313336303131303231313231313831383138303030303030303030313D393931323130333920202020202020203030303031363431525043204D414B415353415220202020202020202020554A554E472050414E44414E47202020494420202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020203336303031324244414E50524F312B3030303031334342444150524F313030303050303338383831323030333630303130383031373132322620303030303230303132322120514A30303130302030383132373833323930313520202031323334353620202020202034373035393936352020202035353737393131343838303532393131202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020\n  &lt;/pack&gt;\n&lt;/log&gt;\n&lt;log realm=&quot;debug&quot; at=&quot;2023-02-13T09:30:02.221712900&quot; lifespan=&quot;2ms&quot;&gt;\n  &lt;unpack&gt;\n    49534F3031363030303031353032313046454638433030313245413045343138303030303030303031343030303030343136313831383138303030303030303030313031313030303030303032303030303030303030303032303030303030303030303032303030303030303037313330383538313936313030303030303631303030303030303030303137313535383139303731333037313336303131303231313231313831383138303030303030303030313D3939313231303339202020202020202030303030313730303030303031363431525043204D414B415353415220202020202020202020554A554E472050414E44414E472020204944202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202033363033363033363030323031303032333630433030303236383030303938303031324244414E50524F312B3030303031334342444150524F313030303050303338383831323030333630303130383031373132322620303030303230303132322120514A30303130302030383132373833323930313520202031323334353620202020202034373035393936352020202035353737393131343838303532393131202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020\n    &lt;bitmap&gt;{4, 6, 7, 28, 30, 32, 39, 44, 49, 50, 51, 52, 53, 54, 55, 57, 58, 59, 60, 61}&lt;/bitmap&gt;\n    &lt;unpack fld=&quot;4&quot; packager=&quot;org.jpos.iso.IFA_NUMERIC&quot;&gt;\n      &lt;!-- AMOUNT, TRANSACTION --&gt;\n      &lt;value&gt;C0012EA0E418&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;6&quot; packager=&quot;org.jpos.iso.IFA_NUMERIC&quot;&gt;\n      &lt;!-- AMOUNT, CARDHOLDER BILLING --&gt;\n      &lt;value&gt;000000001400&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;7&quot; packager=&quot;org.jpos.iso.IFA_NUMERIC&quot;&gt;\n      &lt;!-- TRANSMISSION DATE AND TIME --&gt;\n      &lt;value&gt;0004161818&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;28&quot; packager=&quot;org.jpos.iso.IFA_AMOUNT&quot;&gt;\n      &lt;!-- AMOUNT, TRANSACTION FEE --&gt;\n      &lt;value&gt;180000000&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;30&quot; packager=&quot;org.jpos.iso.IFA_AMOUNT&quot;&gt;\n      &lt;!-- AMOUNT, TRANSACTION PROCESSING FEE --&gt;\n      &lt;value&gt;001011000&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;32&quot; packager=&quot;org.jpos.iso.IFA_LLNUM&quot;&gt;\n      &lt;!-- ACQUIRING INSTITUTION IDENT CODE --&gt;\n      &lt;value&gt;&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;39&quot; packager=&quot;org.jpos.iso.IF_CHAR&quot;&gt;\n      &lt;!-- RESPONSE CODE --&gt;\n      &lt;value&gt;00&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;44&quot; packager=&quot;org.jpos.iso.IFA_LLCHAR&quot;&gt;\n      &lt;!-- ADITIONAL RESPONSE DATA --&gt;\n      &lt;value&gt;00000000002000000000&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;49&quot; packager=&quot;org.jpos.iso.IF_CHAR&quot;&gt;\n      &lt;!-- CURRENCY CODE, TRANSACTION --&gt;\n      &lt;value&gt;002&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;50&quot; packager=&quot;org.jpos.iso.IF_CHAR&quot;&gt;\n      &lt;!-- CURRENCY CODE, SETTLEMENT --&gt;\n      &lt;value&gt;000&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;51&quot; packager=&quot;org.jpos.iso.IF_CHAR&quot;&gt;\n      &lt;!-- CURRENCY CODE, CARDHOLDER BILLING --&gt;\n      &lt;value&gt;000&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;52&quot; packager=&quot;org.jpos.iso.IFA_BINARY&quot;&gt;\n      &lt;!-- PIN DATA --&gt;\n      &lt;value type='binary'&gt;0071308581961000&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;53&quot; packager=&quot;org.jpos.iso.IFA_NUMERIC&quot;&gt;\n      &lt;!-- SECURITY RELATED CONTROL INFORMATION --&gt;\n      &lt;value&gt;0006100000000001&lt;/value&gt;\n    &lt;/unpack&gt;\n    error unpacking field 54 consumed=139\n    &lt;iso-exception&gt;\n      org.jpos.iso.IFA_LLLCHAR: Problem unpacking field 54\n      &lt;iso-exception&gt;\n        Field length 715 too long. Max: 120\n        org.jpos.iso.ISOException: Field length 715 too long. Max: 120\n    at org.jpos.iso.ISOStringFieldPackager.unpack(ISOStringFieldPackager.java:179)\n    at org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:306)\n    at org.jpos.iso.ISOMsg.unpack(ISOMsg.java:479)\n    at org.jpos.iso.BaseChannel.unpack(BaseChannel.java:978)\n    at org.jpos.iso.BaseChannel.receive(BaseChannel.java:748)\n    at com.taskincomplete.jpos.SampleRequestB24Channel.main(SampleRequestB24Channel.java:103)\n      &lt;/iso-exception&gt;\n      org.jpos.iso.ISOException: org.jpos.iso.IFA_LLLCHAR: Problem unpacking field 54 (org.jpos.iso.ISOException: Field length 715 too long. Max: 120)\n    at org.jpos.iso.ISOStringFieldPackager.unpack(ISOStringFieldPackager.java:187)\n    at org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:306)\n    at org.jpos.iso.ISOMsg.unpack(ISOMsg.java:479)\n    at org.jpos.iso.BaseChannel.unpack(BaseChannel.java:978)\n    at org.jpos.iso.BaseChannel.receive(BaseChannel.java:748)\n    at com.taskincomplete.jpos.SampleRequestB24Channel.main(SampleRequestB24Channel.java:103)\nNested:org.jpos.iso.ISOException: Field length 715 too long. Max: 120\n    at org.jpos.iso.ISOStringFieldPackager.unpack(ISOStringFieldPackager.java:179)\n    at org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:306)\n    at org.jpos.iso.ISOMsg.unpack(ISOMsg.java:479)\n    at org.jpos.iso.BaseChannel.unpack(BaseChannel.java:978)\n    at org.jpos.iso.BaseChannel.receive(BaseChannel.java:748)\n    at com.taskincomplete.jpos.SampleRequestB24Channel.main(SampleRequestB24Channel.java:103)\n    &lt;/iso-exception&gt;\n    &lt;iso-exception&gt;\n      org.jpos.iso.IFA_LLLCHAR: Problem unpacking field 54 (org.jpos.iso.ISOException: Field length 715 too long. Max: 120) unpacking field=54, consumed=139\n      org.jpos.iso.ISOException: org.jpos.iso.IFA_LLLCHAR: Problem unpacking field 54 (org.jpos.iso.ISOException: Field length 715 too long. Max: 120) unpacking field=54, consumed=139\n    at org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:341)\n    at org.jpos.iso.ISOMsg.unpack(ISOMsg.java:479)\n    at org.jpos.iso.BaseChannel.unpack(BaseChannel.java:978)\n    at org.jpos.iso.BaseChannel.receive(BaseChannel.java:748)\n    at com.taskincomplete.jpos.SampleRequestB24Channel.main(SampleRequestB24Channel.java:103)\n    &lt;/iso-exception&gt;\n  &lt;/unpack&gt;\n&lt;/log&gt;\n</code></pre>\n<p>this is the ISO Client Code i used</p>\n<pre><code>    public static void main(String[] args) throws IOException, ISOException {\n        // Create Packager based on XML that contain DE type\n        GenericPackager packager = new GenericPackager(&quot;iso87ascii.xml&quot;);\n\n        // Create ISO Message\n        ISOMsg isoMsg = new ISOMsg();\n        isoMsg.setPackager(packager);\n         //isoMsg.setHeader(&quot;6003560000&quot;.getBytes());\n        isoMsg.setHeader(&quot;ISO016000010&quot;.getBytes());\n        isoMsg.setMTI(&quot;0200&quot;);\n        isoMsg.set(2, &quot;1818180000000001&quot;);\n        isoMsg.set(3, &quot;011000&quot;);\n        isoMsg.set(4, &quot;000020000000&quot;);\n        isoMsg.set(7, &quot;0713085819&quot;);\n        isoMsg.set(11, &quot;000017&quot;);\n        isoMsg.set(12, &quot;155819&quot;);\n        isoMsg.set(13, &quot;0713&quot;);\n        isoMsg.set(17,&quot;0713&quot;);\n        isoMsg.set(18,&quot;6011&quot;);\n        isoMsg.set(32,&quot;11&quot;);\n        isoMsg.set(35, &quot;1818180000000001=9912&quot;);\n        isoMsg.set(37, &quot;1039&quot;);\n        isoMsg.set(41, &quot;00001641&quot;);\n        isoMsg.set(43, &quot;RPC MAKASSAR          UJUNG PANDANG   ID&quot;);\n        isoMsg.set(49, &quot;360&quot;);\n        isoMsg.set(60, &quot;BDANPRO1+000&quot;);\n        isoMsg.set(61, &quot;CBDAPRO10000P&quot;);\n        isoMsg.set(100, &quot;888&quot;);\n        isoMsg.set(102, &quot;003600108017&quot;);\n        isoMsg.set(126, &quot;&amp; 0000200122! QJ00100 081278329015   123456      47059965    5577911488052911                                             &quot;);\n\n        BASE24Channel c = new BASE24Channel(&quot;localhost&quot;, 8000, packager/*\n                                                                         * , ISOUtil.str2bcd(&quot;600356&quot;, false)\n                                                                         */);\n        logISOMsg(isoMsg);\n        System.out.println(ISOUtil.hexdump(isoMsg.pack()));\n        c.connect();\n        c.send(isoMsg);\n        ISOMsg response = c.receive();\n        System.out.println(ISOUtil.hexdump(response.pack()));\n        System.out.println(&quot;****************Response *********************&quot;);\n        logISOMsg(response);\n\n</code></pre>\n<p>the current jpos server xml i use using the same ISOChannelType as the client</p>\n<pre><code>&lt;server class=&quot;org.jpos.q2.iso.QServer&quot; logger=&quot;Q2&quot; name=&quot;xml-server-8000&quot; realm=&quot;xml-server-8000&quot;&gt;\n    &lt;attr name=&quot;port&quot; type=&quot;java.lang.Integer&quot;&gt;8000&lt;/attr&gt;\n    &lt;channel class=&quot;org.jpos.iso.channel.BASE24Channel&quot;\n             packager=&quot;org.jpos.iso.packager.GenericPackager&quot;\n             type=&quot;server&quot;\n             logger=&quot;Q2&quot;\n             realm=&quot;xml-server-8000&quot;\n             header= &quot;ISO016000010&quot;&gt;\n        &lt;property name=&quot;timeout&quot; value=&quot;180000&quot;/&gt;\n        &lt;property name=&quot;packager-config&quot; value=&quot;cfg/iso87ascii.xml&quot; /&gt;\n    &lt;/channel&gt;\n    &lt;request-listener class=&quot;org.jpos.tutorial.LogonRequest&quot; /&gt;\n&lt;/server&gt;\n</code></pre>\n<p>last the packager\n<a href=\"https://easyupload.io/bfb0p9\" rel=\"nofollow noreferrer\">myPackager</a> both server and client using the same packager, but still the client can't parse the message, any idea? Also just noticed my ISOClient received different bitmap with my ISOServer response bitmap</p>\n"},{"tags":["java","apache-poi","apache-poi-4"],"comments":[{"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1676261128,"post_id":75431790,"comment_id":133095099,"body_markdown":"I&#39;ve updated my question with these details.","body":"I&#39;ve updated my question with these details."}],"answers":[{"tags":[],"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676264889,"creation_date":1676264889,"answer_id":75432066,"question_id":75431790,"body_markdown":"To my surprise the following works:\r\n\r\n    XSSFColor color = new XSSFColor(new byte[]{ (byte) 60,\r\n                                                (byte) 120,\r\n                                                (byte) 216 },\r\n                                    new DefaultIndexedColorMap());\r\n    \r\n    CellStyle style = workBook.createCellStyle();\r\n    style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n    style.setFillForegroundColor(color);\r\n    \r\n    XSSFCell cell = createCell(row, CellType.STRING, style, cellIndex);\r\n\r\nSpecifying a `new DefaultIndexedColorMap()` seems to solve it!\r\n","title":"How to set a custom color to a XSSFCell using POI?","body":"<p>To my surprise the following works:</p>\n<pre><code>XSSFColor color = new XSSFColor(new byte[]{ (byte) 60,\n                                            (byte) 120,\n                                            (byte) 216 },\n                                new DefaultIndexedColorMap());\n\nCellStyle style = workBook.createCellStyle();\nstyle.setFillPattern(FillPatternType.SOLID_FOREGROUND);\nstyle.setFillForegroundColor(color);\n\nXSSFCell cell = createCell(row, CellType.STRING, style, cellIndex);\n</code></pre>\n<p>Specifying a <code>new DefaultIndexedColorMap()</code> seems to solve it!</p>\n"},{"tags":[],"owner":{"account_id":17986322,"reputation":78,"user_id":13071509,"display_name":"AnotherOne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676300669,"creation_date":1676298459,"answer_id":75437175,"question_id":75431790,"body_markdown":"You can create Color class of Java awt to achieve this.\r\n\r\n     XSSFCellStyle cellStyle = this.createCellStyle(workbook);\r\n     XSSFColor colorGrey = new XSSFColor(new Color(210, 210, 210));\r\n     cellStyle.setFillForegroundColor(colorGrey);","title":"How to set a custom color to a XSSFCell using POI?","body":"<p>You can create Color class of Java awt to achieve this.</p>\n<pre><code> XSSFCellStyle cellStyle = this.createCellStyle(workbook);\n XSSFColor colorGrey = new XSSFColor(new Color(210, 210, 210));\n cellStyle.setFillForegroundColor(colorGrey);\n</code></pre>\n"}],"owner":{"account_id":405356,"reputation":31601,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1676300669,"creation_date":1676260691,"question_id":75431790,"body_markdown":"I would like to set a custom color to a `CellStyle` in POI, but it doesn&#39;t seem to be getting applied.\r\n\r\nI have the following code:\r\n\r\n        XSSFColor color = new XSSFColor(new byte[]{ (byte) 60,\r\n                                                    (byte) 120,\r\n                                                    (byte) 216 });\r\n        \r\n        CellStyle style = workBook.createCellStyle();\r\n        style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n        style.setFillForegroundColor(color);\r\n        \r\n        XSSFCell cell = createCell(row, CellType.STRING, style, cellIndex);\r\n\r\nI have the following Gradle dependencies:\r\n\r\n    implementation(&quot;org.apache.poi:poi:5.2.3&quot;)\r\n    implementation(&quot;org.apache.poi:poi-ooxml:5.2.3&quot;)\r\n\r\nIf I use a different fille pattern and do something like this: `style.setFillPattern(FillPatternType.SOLID_FOREGROUND)`, the background gets set, but the fill pattern is, obviously, not solid.\r\n\r\nWhat&#39;s the correct way to do this?\r\n\r\n","title":"How to set a custom color to a XSSFCell using POI?","body":"<p>I would like to set a custom color to a <code>CellStyle</code> in POI, but it doesn't seem to be getting applied.</p>\n<p>I have the following code:</p>\n<pre><code>    XSSFColor color = new XSSFColor(new byte[]{ (byte) 60,\n                                                (byte) 120,\n                                                (byte) 216 });\n    \n    CellStyle style = workBook.createCellStyle();\n    style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n    style.setFillForegroundColor(color);\n    \n    XSSFCell cell = createCell(row, CellType.STRING, style, cellIndex);\n</code></pre>\n<p>I have the following Gradle dependencies:</p>\n<pre><code>implementation(&quot;org.apache.poi:poi:5.2.3&quot;)\nimplementation(&quot;org.apache.poi:poi-ooxml:5.2.3&quot;)\n</code></pre>\n<p>If I use a different fille pattern and do something like this: <code>style.setFillPattern(FillPatternType.SOLID_FOREGROUND)</code>, the background gets set, but the fill pattern is, obviously, not solid.</p>\n<p>What's the correct way to do this?</p>\n"},{"tags":["java","spring","spring-boot","swagger-ui","springdoc-openapi-ui"],"owner":{"account_id":1689738,"reputation":1307,"user_id":1552348,"accept_rate":9,"display_name":"Ashwin Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676300107,"creation_date":1659294333,"question_id":73186180,"body_markdown":"Swagger UI not loading when we try to access with base-path even after setting below properties\r\n         \r\n         spring.webflux.base-path=/test\r\n         springdoc.swagger-ui.enabled=true\r\n         springdoc.api-docs.groups.enabled=true\r\n         springdoc.swagger-ui.use-root-path=true\r\n         springdoc.swagger-ui.path=/swagger-doc/swagger-ui.html\r\n         springdoc.api-docs.path=/swagger-doc/v3/api-docs\r\n\r\nI am not able to access swagger with - http://localhost:8080/test/swagger-doc/swagger-ui.html","title":"How to configure springdoc ui with spring.webflux.base-path","body":"<p>Swagger UI not loading when we try to access with base-path even after setting below properties</p>\n<pre><code>     spring.webflux.base-path=/test\n     springdoc.swagger-ui.enabled=true\n     springdoc.api-docs.groups.enabled=true\n     springdoc.swagger-ui.use-root-path=true\n     springdoc.swagger-ui.path=/swagger-doc/swagger-ui.html\n     springdoc.api-docs.path=/swagger-doc/v3/api-docs\n</code></pre>\n<p>I am not able to access swagger with - http://localhost:8080/test/swagger-doc/swagger-ui.html</p>\n"},{"tags":["java","servlets","jax-rs"],"owner":{"account_id":893884,"reputation":117,"user_id":3625897,"display_name":"raneq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676300063,"creation_date":1676300063,"question_id":75437513,"body_markdown":"I have a maven project that has no code, it just imports 3 projects. Two of them define their servlets in a web.xml, so in this project, I import all classes and define only the servlets I need this way\r\n\r\n```xml\r\n&lt;web-app&gt;\r\n  &lt;servlet&gt;...&lt;/servlet&gt;\r\n  &lt;servlet-mapping&gt;...&lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nAnd this works. The third project to import works when run standalone, but I fail to import it and I ask for your help. Its source code is anotated with JAX-RS like:\r\n\r\n```java\r\npackage org.acme.rest;\r\n\r\n@Path(&quot;search&quot;)\r\npublic class MySearch {\r\n\r\n  @GET\r\n  @Path(&quot;/{type}/{text}&quot;)\r\n  @Produces(&quot;application/json; charset=UTF-8&quot;)\r\n  public MyResponse typedSearch(@PathParam(&quot;type&quot;) String type, @PathParam(&quot;text&quot;) String text) {\r\n    /**/\r\n  }\r\n}\r\n```\r\n\r\nThis class `MySearch` has a method that defines an endpoint with parameters. The class is registered in the app class like:\r\n\r\n```java\r\npackage org.acme.util;\r\nimport org.acme.rest;\r\n\r\n@ApplicationPath(&quot;&quot;)\r\n\r\npublic class SearchApp extends ResourceConfig {\r\n  public SearchApp (@Context ServletContext servletContext) {\r\n    try {\r\n      /* ... */\r\n      register(MySearch.class);\r\n      /* ... */\r\n    } catch (/* ... */){/* ... */}\r\n}\r\n```\r\n\r\nBecause of logging, I know that the SearchApp servlet is initiated, and that register() is called. However, the endpoint is not loaded, as I receive only a 404. I don&#39;t see any hint on why the endpoint may be ignored.\r\n\r\n\r\n\r\nSee my web.xml for reference:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app\r\n    version=&quot;4.0&quot;\r\n    xmlns:xsi=&quot;https://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns=&quot;https://java.sun.com/xml/ns/javaee&quot;\r\n    xsi:schemaLocation=&quot;https://xmlns.jcp.org/xml/ns/javaee\r\n                        https://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;&gt;\r\n    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n\r\n    &lt;!-- some servlet from project 1 --&gt;\r\n    &lt;servlet&gt;...&lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;...&lt;/servlet-mapping&gt;\r\n\r\n    &lt;!-- some servlet from project 2 --&gt;\r\n    &lt;servlet&gt;...&lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;...&lt;/servlet-mapping&gt;\r\n\r\n    &lt;!-- special servlet for project 3 --&gt;\r\n    &lt;servlet&gt;\r\n      &lt;servlet-name&gt;Suggest&lt;/servlet-name&gt;\r\n      &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n        &lt;param-value&gt;org.acme.util&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n\r\n    &lt;servlet-mapping&gt;\r\n      &lt;servlet-name&gt;Search&lt;/servlet-name&gt;\r\n      &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nI expect to receive a response from typedSearch method by querying `/api/search/sometype/sometext`. But it&#39;s not working.\r\n\r\n\r\n----------\r\n\r\nI am using\r\n\r\n- Tomcat 9\r\n- Java 1.8\r\n- Jersey 2.14. I&#39;ve tried also 2.38 with same result.\r\n- Eclipse  2022-03 (4.23.0)\r\n\r\n----------\r\n\r\nCan you think of something that can be going wrong? Or how to debug it?\r\nI suspect that register() is silently ignoring the endpoint class for some reason, but I can&#39;t tell why.\r\n\r\nThank you!","title":"Import a Java project that uses Jersey 2 servlets to another project defined with a servlets 4.0 web.xml using &lt;servlet&gt; tags","body":"<p>I have a maven project that has no code, it just imports 3 projects. Two of them define their servlets in a web.xml, so in this project, I import all classes and define only the servlets I need this way</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app&gt;\n  &lt;servlet&gt;...&lt;/servlet&gt;\n  &lt;servlet-mapping&gt;...&lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>And this works. The third project to import works when run standalone, but I fail to import it and I ask for your help. Its source code is anotated with JAX-RS like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.acme.rest;\n\n@Path(&quot;search&quot;)\npublic class MySearch {\n\n  @GET\n  @Path(&quot;/{type}/{text}&quot;)\n  @Produces(&quot;application/json; charset=UTF-8&quot;)\n  public MyResponse typedSearch(@PathParam(&quot;type&quot;) String type, @PathParam(&quot;text&quot;) String text) {\n    /**/\n  }\n}\n</code></pre>\n<p>This class <code>MySearch</code> has a method that defines an endpoint with parameters. The class is registered in the app class like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.acme.util;\nimport org.acme.rest;\n\n@ApplicationPath(&quot;&quot;)\n\npublic class SearchApp extends ResourceConfig {\n  public SearchApp (@Context ServletContext servletContext) {\n    try {\n      /* ... */\n      register(MySearch.class);\n      /* ... */\n    } catch (/* ... */){/* ... */}\n}\n</code></pre>\n<p>Because of logging, I know that the SearchApp servlet is initiated, and that register() is called. However, the endpoint is not loaded, as I receive only a 404. I don't see any hint on why the endpoint may be ignored.</p>\n<p>See my web.xml for reference:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app\n    version=&quot;4.0&quot;\n    xmlns:xsi=&quot;https://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns=&quot;https://java.sun.com/xml/ns/javaee&quot;\n    xsi:schemaLocation=&quot;https://xmlns.jcp.org/xml/ns/javaee\n                        https://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;&gt;\n    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n\n    &lt;!-- some servlet from project 1 --&gt;\n    &lt;servlet&gt;...&lt;/servlet&gt;\n    &lt;servlet-mapping&gt;...&lt;/servlet-mapping&gt;\n\n    &lt;!-- some servlet from project 2 --&gt;\n    &lt;servlet&gt;...&lt;/servlet&gt;\n    &lt;servlet-mapping&gt;...&lt;/servlet-mapping&gt;\n\n    &lt;!-- special servlet for project 3 --&gt;\n    &lt;servlet&gt;\n      &lt;servlet-name&gt;Suggest&lt;/servlet-name&gt;\n      &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n      &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n        &lt;param-value&gt;org.acme.util&lt;/param-value&gt;\n      &lt;/init-param&gt;\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n      &lt;servlet-name&gt;Search&lt;/servlet-name&gt;\n      &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>I expect to receive a response from typedSearch method by querying <code>/api/search/sometype/sometext</code>. But it's not working.</p>\n<hr />\n<p>I am using</p>\n<ul>\n<li>Tomcat 9</li>\n<li>Java 1.8</li>\n<li>Jersey 2.14. I've tried also 2.38 with same result.</li>\n<li>Eclipse  2022-03 (4.23.0)</li>\n</ul>\n<hr />\n<p>Can you think of something that can be going wrong? Or how to debug it?\nI suspect that register() is silently ignoring the endpoint class for some reason, but I can't tell why.</p>\n<p>Thank you!</p>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1501158138,"post_id":45350546,"comment_id":77662210,"body_markdown":"So you exclude the configuration which configures the datasource and spa and you still expect that to be available... Just remove all annotations except the `@SpringBootApplication` annotation and restart the app. Also your `spring.jpa.database-platform` property is wrong, it has the wrong package name (there is a typo in the `hibernate` and `dialect`).","body":"So you exclude the configuration which configures the datasource and spa and you still expect that to be available... Just remove all annotations except the <code>@SpringBootApplication</code> annotation and restart the app. Also your <code>spring.jpa.database-platform</code> property is wrong, it has the wrong package name (there is a typo in the <code>hibernate</code> and <code>dialect</code>)."},{"owner":{"account_id":8403362,"reputation":444,"user_id":6307700,"accept_rate":80,"display_name":"Asker"},"score":0,"creation_date":1501158439,"post_id":45350546,"comment_id":77662467,"body_markdown":"I did this, but now it states: Cannot determine embedded database driver class for database type NONE","body":"I did this, but now it states: Cannot determine embedded database driver class for database type NONE"},{"owner":{"account_id":3357289,"reputation":1456,"user_id":2819935,"accept_rate":83,"display_name":"Syed Anas"},"score":1,"creation_date":1501158779,"post_id":45350546,"comment_id":77662712,"body_markdown":"i had the same above issue &#39;Cannot determine embedded database driver class for database type NONE&#39; and in my ide intellij it suggested to add the db in my jpa .... can u try doing that if not already done","body":"i had the same above issue &#39;Cannot determine embedded database driver class for database type NONE&#39; and in my ide intellij it suggested to add the db in my jpa .... can u try doing that if not already done"},{"owner":{"account_id":8403362,"reputation":444,"user_id":6307700,"accept_rate":80,"display_name":"Asker"},"score":0,"creation_date":1501158875,"post_id":45350546,"comment_id":77662790,"body_markdown":"Sorry, what do you mean by adding the db in my jpa? How do you do that? did you solve the issue?","body":"Sorry, what do you mean by adding the db in my jpa? How do you do that? did you solve the issue?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1501158929,"post_id":45350546,"comment_id":77662828,"body_markdown":"Fix your `spring.jpa.database-platform` property. The value should be something like `org.hibernate.dialect.MySQL57InnoDBDialect`. Your value is wrong.","body":"Fix your <code>spring.jpa.database-platform</code> property. The value should be something like <code>org.hibernate.dialect.MySQL57InnoDBDialect</code>. Your value is wrong."},{"owner":{"account_id":8403362,"reputation":444,"user_id":6307700,"accept_rate":80,"display_name":"Asker"},"score":0,"creation_date":1501158987,"post_id":45350546,"comment_id":77662877,"body_markdown":"Did this, still same error","body":"Did this, still same error"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1501158996,"post_id":45350546,"comment_id":77662884,"body_markdown":"You should also have a datasource on your class path. You only have a driver.","body":"You should also have a datasource on your class path. You only have a driver."},{"owner":{"account_id":8403362,"reputation":444,"user_id":6307700,"accept_rate":80,"display_name":"Asker"},"score":0,"creation_date":1501159206,"post_id":45350546,"comment_id":77663040,"body_markdown":"I tried looking this up, is there a way to just add this to the properties file without adding annotations? thanks!","body":"I tried looking this up, is there a way to just add this to the properties file without adding annotations? thanks!"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1501159447,"post_id":45350546,"comment_id":77663230,"body_markdown":"Add what with annotations? You should have a datasource implementation on your class path, like HikariCP or Tomcat JDBC. Without that a datasource won&#39;t be auto configured.","body":"Add what with annotations? You should have a datasource implementation on your class path, like HikariCP or Tomcat JDBC. Without that a datasource won&#39;t be auto configured."},{"owner":{"account_id":8403362,"reputation":444,"user_id":6307700,"accept_rate":80,"display_name":"Asker"},"score":0,"creation_date":1501159955,"post_id":45350546,"comment_id":77663641,"body_markdown":"But how do I add that? I quickly looked it up and people use XML files, not annotations. I have only dependencies in my XML, but I am not sure how to set this up.","body":"But how do I add that? I quickly looked it up and people use XML files, not annotations. I have only dependencies in my XML, but I am not sure how to set this up."},{"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"score":0,"creation_date":1523889682,"post_id":45350546,"comment_id":86734989,"body_markdown":"In my case, I removed the packages inside of src/test/java and my spring boot project start working after maven-install.","body":"In my case, I removed the packages inside of src/test/java and my spring boot project start working after maven-install."}],"answers":[{"tags":[],"owner":{"account_id":4476106,"reputation":361,"user_id":3641203,"display_name":"ryan2049"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1501271952,"creation_date":1501163033,"answer_id":45352626,"question_id":45350546,"body_markdown":"Remove this line `@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class}) //added for MySQL` from your `EmployeeApiDataApplication` class.  \r\n\r\nThe `@SpringBootApplication` annotation implicitly includes the `@EnableAutoConfiguration`.  Also `DataSourceAutoConfiguration` is necessary for spring-boot to instantiate a `DataSource` and `HibernateJpaAutoConfiguration` is necessary to instantiate the `EntityManagerFactory`.  \r\n\r\nIt looks like you have included the `mysql:mysql-connector-java` dependency and that is good.  Make sure you have done a maven update on your project if it was recently added so that it will be added to your classpath.\r\n\r\nYour properties should look like this\r\n\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/db_example\r\n    spring.datasource.username=springuser\r\n    spring.datasource.password=ThePassword\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\n`com.mysql.jdbc.Driver` depends on the `mysql:mysql-connector-java` dependency.\r\n\r\nAlso make sure `create-drop` is the correct setting you want on `spring.jpa.hibernate.ddl-auto`.  You can find the possible values here https://stackoverflow.com/a/1689769/.\r\n\r\n**UPDATE (after git inspection):**\r\n\r\n1. I removed the additional annotations against `EmployeeApiDataApplication` leaving only `@SpringBootApplication`.  You don&#39;t need so much specificity here unless you actually have a reason for it.\r\n\r\n2. I updated `application.properties` to reflect the changes notated above.\r\n\r\n3. I removed the methods from `UserRepository` and updated `UserService` to handle those changes.\r\n\r\nI created a pull request here https://github.com/MatejaSela/SpringBootEmployeeLogin/pull/1\r\n\r\nHope this helps.","title":"EntityManagerFactory not found in SpringBoot","body":"<p>Remove this line <code>@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class}) //added for MySQL</code> from your <code>EmployeeApiDataApplication</code> class.  </p>\n\n<p>The <code>@SpringBootApplication</code> annotation implicitly includes the <code>@EnableAutoConfiguration</code>.  Also <code>DataSourceAutoConfiguration</code> is necessary for spring-boot to instantiate a <code>DataSource</code> and <code>HibernateJpaAutoConfiguration</code> is necessary to instantiate the <code>EntityManagerFactory</code>.  </p>\n\n<p>It looks like you have included the <code>mysql:mysql-connector-java</code> dependency and that is good.  Make sure you have done a maven update on your project if it was recently added so that it will be added to your classpath.</p>\n\n<p>Your properties should look like this</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=create-drop\nspring.datasource.url=jdbc:mysql://localhost:3306/db_example\nspring.datasource.username=springuser\nspring.datasource.password=ThePassword\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n\n<p><code>com.mysql.jdbc.Driver</code> depends on the <code>mysql:mysql-connector-java</code> dependency.</p>\n\n<p>Also make sure <code>create-drop</code> is the correct setting you want on <code>spring.jpa.hibernate.ddl-auto</code>.  You can find the possible values here <a href=\"https://stackoverflow.com/a/1689769/\">https://stackoverflow.com/a/1689769/</a>.</p>\n\n<p><strong>UPDATE (after git inspection):</strong></p>\n\n<ol>\n<li><p>I removed the additional annotations against <code>EmployeeApiDataApplication</code> leaving only <code>@SpringBootApplication</code>.  You don't need so much specificity here unless you actually have a reason for it.</p></li>\n<li><p>I updated <code>application.properties</code> to reflect the changes notated above.</p></li>\n<li><p>I removed the methods from <code>UserRepository</code> and updated <code>UserService</code> to handle those changes.</p></li>\n</ol>\n\n<p>I created a pull request here <a href=\"https://github.com/MatejaSela/SpringBootEmployeeLogin/pull/1\" rel=\"noreferrer\">https://github.com/MatejaSela/SpringBootEmployeeLogin/pull/1</a></p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":4159217,"reputation":273,"user_id":4890775,"accept_rate":100,"display_name":"Santosh Anantharamaiah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501273315,"creation_date":1501273315,"answer_id":45381810,"question_id":45350546,"body_markdown":"Based on your question, I understand, you are looking for achieving the basic Spring Boot JPA integration.\r\n\r\n[http://www.dineshonjava.com/2016/08/spring-data-jpa-using-in-spring-boot-application.html][1]\r\n\r\nThis is the best working example what you could leverage and customize according to your requirements.\r\n\r\nEach and very individual steps are clearly explained in this example.\r\n\r\n\r\n  [1]: http://www.dineshonjava.com/2016/08/spring-data-jpa-using-in-spring-boot-application.html","title":"EntityManagerFactory not found in SpringBoot","body":"<p>Based on your question, I understand, you are looking for achieving the basic Spring Boot JPA integration.</p>\n\n<p><a href=\"http://www.dineshonjava.com/2016/08/spring-data-jpa-using-in-spring-boot-application.html\" rel=\"nofollow noreferrer\">http://www.dineshonjava.com/2016/08/spring-data-jpa-using-in-spring-boot-application.html</a></p>\n\n<p>This is the best working example what you could leverage and customize according to your requirements.</p>\n\n<p>Each and very individual steps are clearly explained in this example.</p>\n"},{"tags":[],"owner":{"account_id":13605759,"reputation":1,"user_id":9814979,"display_name":"user9814979"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530163542,"creation_date":1530163542,"answer_id":51075242,"question_id":45350546,"body_markdown":"in my code,it was also happend like :\r\n\r\n**Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration.**\r\n\r\nwhen i change the version of hibernate.jar (pop.xml) from 4.*.* final to 5.*.* final.\r\nthen it is ok.\r\nMaybe the main problem is the version of hibernate...","title":"EntityManagerFactory not found in SpringBoot","body":"<p>in my code,it was also happend like :</p>\n\n<p><strong>Consider defining a bean named 'entityManagerFactory' in your configuration.</strong></p>\n\n<p>when i change the version of hibernate.jar (pop.xml) from 4.<em>.</em> final to 5.<em>.</em> final.\nthen it is ok.\nMaybe the main problem is the version of hibernate...</p>\n"},{"tags":[],"owner":{"account_id":15238686,"reputation":31,"user_id":10995625,"display_name":"Evan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612275294,"creation_date":1612275294,"answer_id":66011472,"question_id":45350546,"body_markdown":"Check your versions:\r\nI had the same issue on &quot;2.0.0.RELEASE&quot; and updated it to the 2.4.2. &lt;br&gt;\r\nNow pom file includes this parent relation:\r\n\r\n    &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; \r\n    &lt;/parent&gt;\r\n\r\nAll other dependencies goes next:\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;","title":"EntityManagerFactory not found in SpringBoot","body":"<p>Check your versions:\nI had the same issue on &quot;2.0.0.RELEASE&quot; and updated it to the 2.4.2. <br>\nNow pom file includes this parent relation:</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;relativePath/&gt; \n&lt;/parent&gt;\n</code></pre>\n<p>All other dependencies goes next:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11401571,"reputation":63,"user_id":12255367,"display_name":"BlackViper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673330123,"creation_date":1673330123,"answer_id":75065992,"question_id":45350546,"body_markdown":"In my case, I had downgraded Spring boot parent from 3.0.0 and 2.6.6. I had manually changed spring-boot-starter-data-jpa version to 3.0.1.\r\n\r\nSpring boot autoconfiguration failed to load EntityManagerFactory and the application startup failed. \r\n\r\nI believe spring-boot-starter-data-jpa 3.0.1 loads artifacts from  org.hibernate.orm whereas auto configuration looks for org.hibernate.\r\n\r\n&gt; Dependency management and the spring-boot-starter-data-jpa starter have been updated to use the new org.hibernate.orm group ID for their Hibernate dependencies.\r\n\r\n\r\n[Spring-Boot-3.0-Migration-Guide - Hibernate 6.1][1]\r\n\r\nAnyway, My issue got resolved as I downgraded the **spring-boot-starter-data-jpa** version also to **2.6.6**.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#hibernate-61","title":"EntityManagerFactory not found in SpringBoot","body":"<p>In my case, I had downgraded Spring boot parent from 3.0.0 and 2.6.6. I had manually changed spring-boot-starter-data-jpa version to 3.0.1.</p>\n<p>Spring boot autoconfiguration failed to load EntityManagerFactory and the application startup failed.</p>\n<p>I believe spring-boot-starter-data-jpa 3.0.1 loads artifacts from  org.hibernate.orm whereas auto configuration looks for org.hibernate.</p>\n<blockquote>\n<p>Dependency management and the spring-boot-starter-data-jpa starter have been updated to use the new org.hibernate.orm group ID for their Hibernate dependencies.</p>\n</blockquote>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#hibernate-61\" rel=\"nofollow noreferrer\">Spring-Boot-3.0-Migration-Guide - Hibernate 6.1</a></p>\n<p>Anyway, My issue got resolved as I downgraded the <strong>spring-boot-starter-data-jpa</strong> version also to <strong>2.6.6</strong>.</p>\n"}],"owner":{"account_id":8403362,"reputation":444,"user_id":6307700,"accept_rate":80,"display_name":"Asker"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27133,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1676299868,"creation_date":1501157683,"question_id":45350546,"body_markdown":"I am trying to create a login for employees, using MySQL and SpringBoot. I made my code work using an in-memory Database, but as soon as I switched my code to MySQL, it stopped working. This project is a Frankenstein, so I am not sure whether some of my components can work together. I am not sure whether all the annotations in my App class are needed... The error is the following:\r\n\r\nDescription:\r\n\r\n    Field employeeRepository in io.msela.springbootstarter.employee.EmployeeService \r\n    required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n\r\nAction:\r\n\r\nConsider defining a bean named `&#39;entityManagerFactory&#39;` in your configuration.\r\n\r\nHere is my `App` class, that runs the whole thing:\r\n\r\n    package io.msela;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    \r\n    import io.msela.springbootstarter.employee.EmployeeRepository;\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class}) //added for MySQL\r\n    @ComponentScan({&quot;io.msela&quot;})\r\n    @EntityScan(&quot;io.msela.springbootstarter&quot;)\r\n    @EnableJpaRepositories(basePackageClasses = EmployeeRepository.class)\r\n    public class EmployeeApiDataApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(EmployeeApiDataApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nAnd here is the XML file and the properties file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;io.msela&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;course-api-data&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;course-api-data&lt;/name&gt;\r\n    \t&lt;description&gt;Course API with Spring Data&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt; --&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nAnd properies:\r\n\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/db_example\r\n    spring.datasource.username=springuser\r\n    spring.datasource.password=ThePassword\r\n    spring.jpa.database-platform = org.hiberante.dialetct.MySQLSDialect\r\n    spring.datasource.driver-class-name = com.mysql.jdbc.Driver\r\n\r\nWhere should the entityManager be? And how should I make it considering my project is very simple for now (has a service, control, employee and app classes)","title":"EntityManagerFactory not found in SpringBoot","body":"<p>I am trying to create a login for employees, using MySQL and SpringBoot. I made my code work using an in-memory Database, but as soon as I switched my code to MySQL, it stopped working. This project is a Frankenstein, so I am not sure whether some of my components can work together. I am not sure whether all the annotations in my App class are needed... The error is the following:</p>\n\n<p>Description:</p>\n\n<pre><code>Field employeeRepository in io.msela.springbootstarter.employee.EmployeeService \nrequired a bean named 'entityManagerFactory' that could not be found.\n</code></pre>\n\n<p>Action:</p>\n\n<p>Consider defining a bean named <code>'entityManagerFactory'</code> in your configuration.</p>\n\n<p>Here is my <code>App</code> class, that runs the whole thing:</p>\n\n<pre><code>package io.msela;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\nimport io.msela.springbootstarter.employee.EmployeeRepository;\n\n@SpringBootApplication\n@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class}) //added for MySQL\n@ComponentScan({\"io.msela\"})\n@EntityScan(\"io.msela.springbootstarter\")\n@EnableJpaRepositories(basePackageClasses = EmployeeRepository.class)\npublic class EmployeeApiDataApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EmployeeApiDataApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>And here is the XML file and the properties file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;io.msela&lt;/groupId&gt;\n    &lt;artifactId&gt;course-api-data&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;course-api-data&lt;/name&gt;\n    &lt;description&gt;Course API with Spring Data&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n            &lt;artifactId&gt;derby&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt; --&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>And properies:</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=create-drop\nspring.datasource.url=jdbc:mysql://localhost:3306/db_example\nspring.datasource.username=springuser\nspring.datasource.password=ThePassword\nspring.jpa.database-platform = org.hiberante.dialetct.MySQLSDialect\nspring.datasource.driver-class-name = com.mysql.jdbc.Driver\n</code></pre>\n\n<p>Where should the entityManager be? And how should I make it considering my project is very simple for now (has a service, control, employee and app classes)</p>\n"},{"tags":["java","arrays","loops"],"answers":[{"tags":[],"owner":{"account_id":3186389,"reputation":2247,"user_id":2691904,"display_name":"hugh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439729085,"creation_date":1439729085,"answer_id":32035224,"question_id":32035161,"body_markdown":"It&#39;s taking a 2*5 array of integers and finding the maximum in each row of 5, (then presumably summing these (2) values up, although that code isn&#39;t included in your snipper).\r\n\r\nThe line \r\n\r\n    int max= array[i][0];\r\n\r\nis initializing the maximum value on the `i`th row to the first value in that row, than scanning the row to find any larger and increase `max` accordingly.  Typically you&#39;d then start the loop counter from 1, since the 0th value is already dealt with:\r\n\r\n    for(int j=1; j&lt;array[i].length; j++){\r\n\r\nAnother common approach is to initialize `max` to `MIN_INT` instead, since all values will be greater than this.","title":"Java- Finding maximum number in a 2D array","body":"<p>It's taking a 2*5 array of integers and finding the maximum in each row of 5, (then presumably summing these (2) values up, although that code isn't included in your snipper).</p>\n\n<p>The line </p>\n\n<pre><code>int max= array[i][0];\n</code></pre>\n\n<p>is initializing the maximum value on the <code>i</code>th row to the first value in that row, than scanning the row to find any larger and increase <code>max</code> accordingly.  Typically you'd then start the loop counter from 1, since the 0th value is already dealt with:</p>\n\n<pre><code>for(int j=1; j&lt;array[i].length; j++){\n</code></pre>\n\n<p>Another common approach is to initialize <code>max</code> to <code>MIN_INT</code> instead, since all values will be greater than this.</p>\n"},{"tags":[],"owner":{"account_id":1890392,"reputation":5619,"user_id":1708647,"accept_rate":75,"display_name":"Amit Bhati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1439729087,"creation_date":1439729087,"answer_id":32035225,"question_id":32035161,"body_markdown":"In below line, the max is getting initialized with the first element of the row:-\r\n     \r\n    int max= array[i][0];\r\n\r\nYour purpose is to find the maximum of each row, so basically you are starting the every iteration with the first element of the row.","title":"Java- Finding maximum number in a 2D array","body":"<p>In below line, the max is getting initialized with the first element of the row:-</p>\n\n<pre><code>int max= array[i][0];\n</code></pre>\n\n<p>Your purpose is to find the maximum of each row, so basically you are starting the every iteration with the first element of the row.</p>\n"},{"tags":[],"owner":{"account_id":5287140,"reputation":19,"user_id":4220737,"display_name":"someoneGreat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676299734,"creation_date":1439988315,"answer_id":32095908,"question_id":32035161,"body_markdown":"    //I hope this helps you \r\n        public class Compare{\r\n    \r\n    \r\n            public static void main(String[] args) {\r\n    \r\n                Scanner input= new Scanner(System.in);\r\n                int row = 2;\r\n                int col = 5;\r\n                int array[][]= new int[row][col];\r\n                System.out.println(&quot;Please enter 10 integers&quot;);\r\n                for(int i=0; i&lt;row; i++){\r\n                    for(int j=0; j&lt;col;j++){\r\n                        array[i][j]= input.nextInt();\r\n                    }\r\n                }\r\n    \r\n                System.out.println(Arrays.deepToString(array));\r\n                int max = Integer.MIN_VALUE;\r\n                for(int i=0; i&lt;row; i++){\r\n                    for(int j =0; j&lt;col; j++){\r\n                        if(max&lt;array[i][j]){\r\n                            max = array[i][j];\r\n                        }\r\n                    }\r\n                    System.out.println(&quot;Maximum number in the row is &quot;+ max);\r\n                }\r\n    \r\n            }\r\n    \r\n        }","title":"Java- Finding maximum number in a 2D array","body":"<pre><code>//I hope this helps you \n    public class Compare{\n\n\n        public static void main(String[] args) {\n\n            Scanner input= new Scanner(System.in);\n            int row = 2;\n            int col = 5;\n            int array[][]= new int[row][col];\n            System.out.println(&quot;Please enter 10 integers&quot;);\n            for(int i=0; i&lt;row; i++){\n                for(int j=0; j&lt;col;j++){\n                    array[i][j]= input.nextInt();\n                }\n            }\n\n            System.out.println(Arrays.deepToString(array));\n            int max = Integer.MIN_VALUE;\n            for(int i=0; i&lt;row; i++){\n                for(int j =0; j&lt;col; j++){\n                    if(max&lt;array[i][j]){\n                        max = array[i][j];\n                    }\n                }\n                System.out.println(&quot;Maximum number in the row is &quot;+ max);\n            }\n\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13529838,"reputation":485,"user_id":10644028,"display_name":"Ritam Chakraborty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563706802,"creation_date":1563706802,"answer_id":57132548,"question_id":32035161,"body_markdown":"In other way you can use `Collection.max(Stream.of(..).collect(Collectors.toList()));`\r\n\r\nHere&#39;s an example\r\n\r\n    System.out.println(Collections.max(Stream.of(new int[][]{{1, 2}, {3, 4}})\r\n\t\t\t.map(a -&gt; Collections.max(Arrays.stream(a).boxed()\r\n\t\t\t\t.collect(Collectors.toList())))\r\n\t\t\t\t.collect(Collectors.toList())));\r\n    Output: 4","title":"Java- Finding maximum number in a 2D array","body":"<p>In other way you can use <code>Collection.max(Stream.of(..).collect(Collectors.toList()));</code></p>\n\n<p>Here's an example</p>\n\n<pre><code>System.out.println(Collections.max(Stream.of(new int[][]{{1, 2}, {3, 4}})\n        .map(a -&gt; Collections.max(Arrays.stream(a).boxed()\n            .collect(Collectors.toList())))\n            .collect(Collectors.toList())));\nOutput: 4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20672278,"reputation":118,"user_id":15209742,"display_name":"Ender"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676146837,"creation_date":1676146837,"answer_id":75423070,"question_id":32035161,"body_markdown":"The following code allows you to enter number of columns and rows and numbers. It outputs the array of numbers and highest numbers in each column. It expands your code a bit\r\n\r\n    public static void main(String[] args) {\r\n        System.out.print(&quot;Enter number of rows: &quot;);\r\n        Scanner sc1 = new Scanner(System.in);\r\n        int row = sc1.nextInt();\r\n        \r\n        System.out.print(&quot;Enter number of columns: &quot;);\r\n        Scanner sc2 = new Scanner(System.in);\r\n        int col = sc2.nextInt();\r\n\r\n\r\n        System.out.print(&quot;Enter numbers: &quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n\r\n        int array[][] = new int[row][col];\r\n\r\n        for(int i = 0; i &lt; row; i++) {\r\n            for(int j = 0; j &lt; col; j++) {\r\n                array[i][j] = sc.nextInt();\r\n            }\r\n        }\r\n\r\n        System.out.println(Arrays.deepToString(array));\r\n\r\n        int max = Integer.MIN_VALUE;\r\n        int[] arrayMax;\r\n        System.out.print(&quot;Maximum numbers are: &quot;);\r\n        for(int i = 0; i &lt; row; i++){\r\n            for(int j = 0; j &lt; col; j++) {\r\n                if(max &lt; array[i][j]) max = array[i][j];\r\n            }\r\n            arrayMax = new int[]{max};\r\n            System.out.print(Arrays.toString(arrayMax) + &quot;, &quot;);\r\n\r\n        }\r\n\r\n    }","title":"Java- Finding maximum number in a 2D array","body":"<p>The following code allows you to enter number of columns and rows and numbers. It outputs the array of numbers and highest numbers in each column. It expands your code a bit</p>\n<pre><code>public static void main(String[] args) {\n    System.out.print(&quot;Enter number of rows: &quot;);\n    Scanner sc1 = new Scanner(System.in);\n    int row = sc1.nextInt();\n    \n    System.out.print(&quot;Enter number of columns: &quot;);\n    Scanner sc2 = new Scanner(System.in);\n    int col = sc2.nextInt();\n\n\n    System.out.print(&quot;Enter numbers: &quot;);\n    Scanner sc = new Scanner(System.in);\n\n\n    int array[][] = new int[row][col];\n\n    for(int i = 0; i &lt; row; i++) {\n        for(int j = 0; j &lt; col; j++) {\n            array[i][j] = sc.nextInt();\n        }\n    }\n\n    System.out.println(Arrays.deepToString(array));\n\n    int max = Integer.MIN_VALUE;\n    int[] arrayMax;\n    System.out.print(&quot;Maximum numbers are: &quot;);\n    for(int i = 0; i &lt; row; i++){\n        for(int j = 0; j &lt; col; j++) {\n            if(max &lt; array[i][j]) max = array[i][j];\n        }\n        arrayMax = new int[]{max};\n        System.out.print(Arrays.toString(arrayMax) + &quot;, &quot;);\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5613283,"reputation":1220,"user_id":4445422,"accept_rate":87,"display_name":"Tia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25735,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":32035225,"answer_count":5,"score":2,"last_activity_date":1676299734,"creation_date":1439728599,"question_id":32035161,"body_markdown":"This program compares two numbers in a 2*5 array which the user inputs and displays the largest number between the two. But I have some problem in understanding what `[0]` really does in `int max = array[i][0]`. I mean, shouldn&#39;t it be `int max = array[i][j]`? Because basically, what I understand from `array[i][0]` is that the numbers being input for the rows is being compared with the first element of the column since it&#39;s `[0]` but I would like some explanation how it actually works.\r\n\r\n    import java.util.*;\r\n\r\n    public class L2 {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\r\n\t\t    Scanner input= new Scanner(System.in);\r\n\t\t\r\n\t\t    System.out.println(&quot;Please enter 10 integers&quot;);\r\n\t\t    \r\n\t\t    int array[][]= new int[2][5];\r\n\t\t\r\n\t\t    for(int i=0; i&lt;array.length; i++){\r\n\t\t\t\r\n\t\t\t    int max= array[i][0];\r\n\t\t\t    for(int j=0; j&lt;array[i].length; j++){\r\n\t\t\t\t\r\n\t\t\t\t    array[i][j]= input.nextInt();\r\n\t\t\t\t\r\n\t\t\t\t    if(max&lt;array[i][j]){\r\n\t\t\t\t\t\r\n\t\t\t\t\t    max= array[i][j];\r\n\t\t\t\t    }\r\n\t\t\t\t}\r\n\t\t\t    System.out.println(&quot;Maximum number in the row is &quot;+ max);\r\n\t\t\t    System.out.println();\r\n\t\t\t}\t\t\t   \r\n\t\t\t \r\n\t\t}\r\n\t\t\t\r\n    }","title":"Java- Finding maximum number in a 2D array","body":"<p>This program compares two numbers in a 2*5 array which the user inputs and displays the largest number between the two. But I have some problem in understanding what <code>[0]</code> really does in <code>int max = array[i][0]</code>. I mean, shouldn't it be <code>int max = array[i][j]</code>? Because basically, what I understand from <code>array[i][0]</code> is that the numbers being input for the rows is being compared with the first element of the column since it's <code>[0]</code> but I would like some explanation how it actually works.</p>\n\n<pre><code>import java.util.*;\n\npublic class L2 {\n\n    public static void main(String[] args) {\n\n        Scanner input= new Scanner(System.in);\n\n        System.out.println(\"Please enter 10 integers\");\n\n        int array[][]= new int[2][5];\n\n        for(int i=0; i&lt;array.length; i++){\n\n            int max= array[i][0];\n            for(int j=0; j&lt;array[i].length; j++){\n\n                array[i][j]= input.nextInt();\n\n                if(max&lt;array[i][j]){\n\n                    max= array[i][j];\n                }\n            }\n            System.out.println(\"Maximum number in the row is \"+ max);\n            System.out.println();\n        }              \n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","rcp"],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676299586,"creation_date":1676299586,"answer_id":75437421,"question_id":75436606,"body_markdown":"The &quot;Number of opened editors before closing&quot; preference id is the `REUSE_EDITORS` constant in `org.eclipse.ui.internal.IPreferenceConstants`.\r\n\r\nThe preference must be set in the `WorkbenchPlugin.getDefault().getPreferenceStore()` preference store.\r\n\r\nNote that both `IPreferenceConstants` and `WorkbenchPlugin` are **internal** so really should not be used.\r\n\r\nSee `org.eclipse.ui.internal.ide.dialogs.IDEEditorsPreferencePage` for more details.\r\n\r\n\r\n\r\n\r\n\r\n","title":"change the number of opened editors before closing value","body":"<p>The &quot;Number of opened editors before closing&quot; preference id is the <code>REUSE_EDITORS</code> constant in <code>org.eclipse.ui.internal.IPreferenceConstants</code>.</p>\n<p>The preference must be set in the <code>WorkbenchPlugin.getDefault().getPreferenceStore()</code> preference store.</p>\n<p>Note that both <code>IPreferenceConstants</code> and <code>WorkbenchPlugin</code> are <strong>internal</strong> so really should not be used.</p>\n<p>See <code>org.eclipse.ui.internal.ide.dialogs.IDEEditorsPreferencePage</code> for more details.</p>\n"}],"owner":{"account_id":20854262,"reputation":17,"user_id":15318020,"display_name":"mk56852"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75437421,"answer_count":1,"score":0,"last_activity_date":1676299586,"creation_date":1676295396,"question_id":75436606,"body_markdown":"For my eclipse rcp application, I tried to change the &quot;Number of opened editors before closing&quot; programatically by modifying the extension point org.eclipse.ui.editors : \r\n\r\n     IPreferenceStore prefs = getPreferenceStore(); \r\n     prefs.setValue(&quot;org.eclipse.editorss.maxEditorTabs&quot;,15) ;\r\n    ((IPersistentPreferenceStore) prefs).save() ;\r\n[https://i.stack.imgur.com/G5rS0.png][1]\r\n\r\n\r\nbut it doesn&#39;t work, so I tried to use IWorkbenchPreferenceConstants.MAX_EDITORS_FROM_MODEL but I guess it&#39;s not available in the latest version of Eclipse anymore.\r\n\r\nso my question is can i change this value or not ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G5rS0.png","title":"change the number of opened editors before closing value","body":"<p>For my eclipse rcp application, I tried to change the &quot;Number of opened editors before closing&quot; programatically by modifying the extension point org.eclipse.ui.editors :</p>\n<pre><code> IPreferenceStore prefs = getPreferenceStore(); \n prefs.setValue(&quot;org.eclipse.editorss.maxEditorTabs&quot;,15) ;\n((IPersistentPreferenceStore) prefs).save() ;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/G5rS0.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/G5rS0.png</a></p>\n<p>but it doesn't work, so I tried to use IWorkbenchPreferenceConstants.MAX_EDITORS_FROM_MODEL but I guess it's not available in the latest version of Eclipse anymore.</p>\n<p>so my question is can i change this value or not ?</p>\n"},{"tags":["java","jvm","jvm-hotspot"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676309461,"post_id":75428209,"comment_id":133107404,"body_markdown":"Why does the second picture assume that the `Entry` object has references to `Method` objects? This is still the same kind of object as in the left half of the first image. The object doesn’t change when you create `Method` objects. Further, there is no need for a generated `MethodAccessorImpl` object to have a special way to access bytecode. It is encapsulating an invocation that does exactly the same thing as in the left half of the first image.","body":"Why does the second picture assume that the <code>Entry</code> object has references to <code>Method</code> objects? This is still the same kind of object as in the left half of the first image. The object doesn’t change when you create <code>Method</code> objects. Further, there is no need for a generated <code>MethodAccessorImpl</code> object to have a special way to access bytecode. It is encapsulating an invocation that does exactly the same thing as in the left half of the first image."},{"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"score":0,"creation_date":1676352181,"post_id":75428209,"comment_id":133114930,"body_markdown":"I think there has been a typo in the second picture (in the book). I think it should be an Entry.class","body":"I think there has been a typo in the second picture (in the book). I think it should be an Entry.class"}],"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676299361,"creation_date":1676216749,"question_id":75428209,"body_markdown":"I am reading the book &quot;The Well Grounded Java Developer 2nd edition&quot;, and in chapter 17 (Modern internals) there is a description of how the reflection internals work. First the duality of the Entry vs Entry.class is discussed (the first picture), which shows how the array of Methods from the Class will match the ordering (indexing) as the ones from the klassOop for the actual type. Following that, in the second screenshot, we are shown a DelegatingMethodAccessorImpl whose role is to delegate the actual invocation to the native or custom method accessor.\r\n\r\nWhen and how is the bytecode for the method to be executed retrieved from the klassOop by the MethodAccessor&#39;s invocation.  I guess the Method.slot field used, but from the available code, I don&#39;t see exactly how, but I suspect it&#39;s some native call which may read it. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6JSlA.png\r\n  [2]: https://i.stack.imgur.com/aFopG.png","title":"When does Method.invoke retrieve the vtable method pointer in Java","body":"<p>I am reading the book &quot;The Well Grounded Java Developer 2nd edition&quot;, and in chapter 17 (Modern internals) there is a description of how the reflection internals work. First the duality of the Entry vs Entry.class is discussed (the first picture), which shows how the array of Methods from the Class will match the ordering (indexing) as the ones from the klassOop for the actual type. Following that, in the second screenshot, we are shown a DelegatingMethodAccessorImpl whose role is to delegate the actual invocation to the native or custom method accessor.</p>\n<p>When and how is the bytecode for the method to be executed retrieved from the klassOop by the MethodAccessor's invocation.  I guess the Method.slot field used, but from the available code, I don't see exactly how, but I suspect it's some native call which may read it.</p>\n<p><a href=\"https://i.stack.imgur.com/6JSlA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6JSlA.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/aFopG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aFopG.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","xml","jaxb"],"answers":[{"tags":[],"owner":{"account_id":45716,"reputation":11768,"user_id":134894,"accept_rate":54,"display_name":"ptomli"},"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1311198968,"creation_date":1311196483,"answer_id":6768664,"question_id":6768544,"body_markdown":"Your JAXB is looking at both the `getTimeSeries()` method and the member `timeSeries`. You don&#39;t say which JAXB implementation you&#39;re using, or its configuration, but the exception is fairly clear.\r\n\r\n&gt; at public java.util.List testjaxp.ModeleREP.getTimeSeries()\r\n\r\nand \r\n\r\n&gt; at protected java.util.List testjaxp.ModeleREP.timeSeries\r\n\r\nYou need to configure you JAXB stuff to use annotations (as per your `@XmlElement(name=&quot;TimeSeries&quot;)`) and ignore public methods.","title":"Jaxb, Class has two properties of the same name","body":"<p>Your JAXB is looking at both the <code>getTimeSeries()</code> method and the member <code>timeSeries</code>. You don't say which JAXB implementation you're using, or its configuration, but the exception is fairly clear.</p>\n\n<blockquote>\n  <p>at public java.util.List testjaxp.ModeleREP.getTimeSeries()</p>\n</blockquote>\n\n<p>and </p>\n\n<blockquote>\n  <p>at protected java.util.List testjaxp.ModeleREP.timeSeries</p>\n</blockquote>\n\n<p>You need to configure you JAXB stuff to use annotations (as per your <code>@XmlElement(name=\"TimeSeries\")</code>) and ignore public methods.</p>\n"},{"tags":[],"owner":{"account_id":455910,"reputation":479,"user_id":854370,"display_name":"megathor"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1311197299,"creation_date":1311197299,"answer_id":6768776,"question_id":6768544,"body_markdown":"You didn&#39;t specified what JAXB-IMPL version are you using, but once I had the same problem (with jaxb-impl 2.0.5) and solved it using the annotation at the getter level instead of using it at the member level.","title":"Jaxb, Class has two properties of the same name","body":"<p>You didn't specified what JAXB-IMPL version are you using, but once I had the same problem (with jaxb-impl 2.0.5) and solved it using the annotation at the getter level instead of using it at the member level.</p>\n"},{"tags":[],"owner":{"account_id":2027668,"reputation":3481,"user_id":1812235,"display_name":"Kondal Kolipaka"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1366147249,"creation_date":1354102626,"answer_id":13604168,"question_id":6768544,"body_markdown":"These are the two properties JAXB is looking at.    \r\n\r\n    public java.util.List testjaxp.ModeleREP.getTimeSeries()  \r\n\r\n   and  \r\n\r\n    protected java.util.List testjaxp.ModeleREP.timeSeries\r\n\r\n\r\nThis can be avoided by using JAXB annotation at get method just like mentioned below.\r\n\r\n    @XmlElement(name=&quot;TimeSeries&quot;))  \r\n    public java.util.List testjaxp.ModeleREP.getTimeSeries()","title":"Jaxb, Class has two properties of the same name","body":"<p>These are the two properties JAXB is looking at.    </p>\n\n<pre><code>public java.util.List testjaxp.ModeleREP.getTimeSeries()  \n</code></pre>\n\n<p>and  </p>\n\n<pre><code>protected java.util.List testjaxp.ModeleREP.timeSeries\n</code></pre>\n\n<p>This can be avoided by using JAXB annotation at get method just like mentioned below.</p>\n\n<pre><code>@XmlElement(name=\"TimeSeries\"))  \npublic java.util.List testjaxp.ModeleREP.getTimeSeries()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1674259,"reputation":121,"user_id":1540118,"accept_rate":50,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1404767687,"creation_date":1358410372,"answer_id":14374654,"question_id":6768544,"body_markdown":"You need to configure class `ModeleREP` as well with `@XmlAccessorType(XmlAccessType.FIELD)` as you did with class `TimeSeries`.\r\n\r\nHave al look at [OOXS][1]\r\n\r\n  [1]: https://web.archive.org/web/20130308074323/http://ooxs-be.goracer.nl/EN/java/Java%20and%20XML%20Binding.html","title":"Jaxb, Class has two properties of the same name","body":"<p>You need to configure class <code>ModeleREP</code> as well with <code>@XmlAccessorType(XmlAccessType.FIELD)</code> as you did with class <code>TimeSeries</code>.</p>\n\n<p>Have al look at <a href=\"https://web.archive.org/web/20130308074323/http://ooxs-be.goracer.nl/EN/java/Java%20and%20XML%20Binding.html\" rel=\"nofollow\">OOXS</a></p>\n"},{"tags":[],"owner":{"account_id":2360647,"reputation":2577,"user_id":2067376,"display_name":"user2067376"},"down_vote_count":1,"up_vote_count":258,"is_accepted":false,"score":257,"last_activity_date":1676298867,"creation_date":1362967965,"answer_id":15330184,"question_id":6768544,"body_markdown":"I set these properties when I faced this problem. Setting one or both of them may solve your issue:\r\n\r\n    @XmlRootElement(name=&quot;yourRootElementName&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n","title":"Jaxb, Class has two properties of the same name","body":"<p>I set these properties when I faced this problem. Setting one or both of them may solve your issue:</p>\n<pre><code>@XmlRootElement(name=&quot;yourRootElementName&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74264,"reputation":1368,"user_id":213480,"display_name":"Slava Imeshev"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1676299151,"creation_date":1364337311,"answer_id":15648698,"question_id":6768544,"body_markdown":"The source of the problem is that you have both XmlAccessType.FIELD and pairs of getters and setters. The solution is to remove setters and add a default constructor and a constructor that takes all fields. ","title":"Jaxb, Class has two properties of the same name","body":"<p>The source of the problem is that you have both XmlAccessType.FIELD and pairs of getters and setters. The solution is to remove setters and add a default constructor and a constructor that takes all fields.</p>\n"},{"tags":[],"owner":{"account_id":193906,"reputation":4673,"user_id":435912,"accept_rate":78,"display_name":"Sri"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1388130079,"creation_date":1388129343,"answer_id":20796682,"question_id":6768544,"body_markdown":"I&#39;ve also seen some similiar issues like this. \r\n\r\nI think, it&#39;s because of the *place* where we use the &quot;**@XMLElement**&quot; ***annotation*** in the (bean) class.\r\n\r\nAnd I think, the *JAXB* (annotation processor) considers the member field &amp; getter method of the same field element as different properties, when we use the  **@XMLElement** annotation at the **field** level and throws the *IllegalAnnotationExceptions* exception.\r\n\r\nException Message :\r\n&gt; Class has **two properties** of the ***same*** *name* &quot;timeSeries&quot;\r\n\r\nAt Getter Method :\r\n&gt;         at public java.util.List testjaxp.ModeleREP.getTimeSeries()\r\n\r\nAt Member Field :\r\n&gt;         at protected java.util.List testjaxp.ModeleREP.timeSeries\r\n\r\n\r\n*Solution :*\r\nInstead of using ***@XmlElement*** in the **field**, use it in the **getter** method.\r\n\r\n\r\n\r\n","title":"Jaxb, Class has two properties of the same name","body":"<p>I've also seen some similiar issues like this. </p>\n\n<p>I think, it's because of the <em>place</em> where we use the \"<strong>@XMLElement</strong>\" <strong><em>annotation</em></strong> in the (bean) class.</p>\n\n<p>And I think, the <em>JAXB</em> (annotation processor) considers the member field &amp; getter method of the same field element as different properties, when we use the  <strong>@XMLElement</strong> annotation at the <strong>field</strong> level and throws the <em>IllegalAnnotationExceptions</em> exception.</p>\n\n<p>Exception Message :</p>\n\n<blockquote>\n  <p>Class has <strong>two properties</strong> of the <strong><em>same</em></strong> <em>name</em> \"timeSeries\"</p>\n</blockquote>\n\n<p>At Getter Method :</p>\n\n<blockquote>\n<pre><code>    at public java.util.List testjaxp.ModeleREP.getTimeSeries()\n</code></pre>\n</blockquote>\n\n<p>At Member Field :</p>\n\n<blockquote>\n<pre><code>    at protected java.util.List testjaxp.ModeleREP.timeSeries\n</code></pre>\n</blockquote>\n\n<p><em>Solution :</em>\nInstead of using <strong><em>@XmlElement</em></strong> in the <strong>field</strong>, use it in the <strong>getter</strong> method.</p>\n"},{"tags":[],"owner":{"account_id":2772557,"reputation":154,"user_id":2386860,"display_name":"kmaziarz"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1413232504,"creation_date":1413232504,"answer_id":26348440,"question_id":6768544,"body_markdown":"Annotating with &lt;code&gt;@XmlTransient&lt;/code&gt; resolves that issue\r\n\r\n    @XmlTransient\r\n    public void setTimeSeries(List&lt;TimeSeries&gt; timeSeries) {\r\n       this.timeSeries = timeSeries;\r\n    }\r\n\r\nLook at http://docs.oracle.com/javase/8/docs/api/javax/xml/bind/annotation/XmlTransient.html for more details ","title":"Jaxb, Class has two properties of the same name","body":"<p>Annotating with <code>@XmlTransient</code> resolves that issue</p>\n\n<pre><code>@XmlTransient\npublic void setTimeSeries(List&lt;TimeSeries&gt; timeSeries) {\n   this.timeSeries = timeSeries;\n}\n</code></pre>\n\n<p>Look at <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/xml/bind/annotation/XmlTransient.html\" rel=\"nofollow\">http://docs.oracle.com/javase/8/docs/api/javax/xml/bind/annotation/XmlTransient.html</a> for more details </p>\n"},{"tags":[],"owner":{"account_id":6782944,"reputation":11,"user_id":5222589,"display_name":"S Agrawal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676299162,"creation_date":1440672424,"answer_id":32247320,"question_id":6768544,"body_markdown":"I had a service class with a signature as below:\r\n\r\n    @WebMethod\r\n    public FetchIQAStatusResponseVO fetchIQAStatus(FetchIQAStatusRequest fetchIQAStatusRequest) {\r\n\r\nOn run I got the same error for `FetchIQAStatusResponseVO` fields. I just added a line on top of `FetchIQAStatusResponseVO`:\r\n    \r\n    \r\n    @XmlAccessorType(XmlAccessType.FIELD) //This line added\r\n    public class FetchIQAStatusResponseVO {\r\n\r\nand this resolved the issue.","title":"Jaxb, Class has two properties of the same name","body":"<p>I had a service class with a signature as below:</p>\n<pre><code>@WebMethod\npublic FetchIQAStatusResponseVO fetchIQAStatus(FetchIQAStatusRequest fetchIQAStatusRequest) {\n</code></pre>\n<p>On run I got the same error for <code>FetchIQAStatusResponseVO</code> fields. I just added a line on top of <code>FetchIQAStatusResponseVO</code>:</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD) //This line added\npublic class FetchIQAStatusResponseVO {\n</code></pre>\n<p>and this resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":7015403,"reputation":91,"user_id":5376919,"display_name":"Naveen Rahangdale"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1470314664,"creation_date":1443196518,"answer_id":32786123,"question_id":6768544,"body_markdown":"If we use the below annotations and remove the &quot;@XmlElement&quot; annotation, code should work properly and resultant XML would have the element names similar to the class member.\r\n\r\n    @XmlRootElement(name=&quot;&lt;RootElementName&gt;&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n\r\nIn case use of &quot;@XmlElement&quot; is really required, please define it as field level and code should work perfectly. Don&#39;t define the annotation on the top of getter method.\r\n\r\nHad tried both the above approaches mentioned and got to fix the issue.\r\n","title":"Jaxb, Class has two properties of the same name","body":"<p>If we use the below annotations and remove the \"@XmlElement\" annotation, code should work properly and resultant XML would have the element names similar to the class member.</p>\n\n<pre><code>@XmlRootElement(name=\"&lt;RootElementName&gt;\")\n@XmlAccessorType(XmlAccessType.FIELD)\n</code></pre>\n\n<p>In case use of \"@XmlElement\" is really required, please define it as field level and code should work perfectly. Don't define the annotation on the top of getter method.</p>\n\n<p>Had tried both the above approaches mentioned and got to fix the issue.</p>\n"},{"tags":[],"owner":{"account_id":5202562,"reputation":841,"user_id":4356919,"accept_rate":25,"display_name":"Tayab Hussain"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1676299090,"creation_date":1443609627,"answer_id":32864006,"question_id":6768544,"body_markdown":"Declare the member variables to private in the class you want to convert to XML.","title":"Jaxb, Class has two properties of the same name","body":"<p>Declare the member variables to private in the class you want to convert to XML.</p>\n"},{"tags":[],"owner":{"account_id":6259924,"reputation":745,"user_id":4867374,"display_name":"Sourav Purakayastha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676299205,"creation_date":1482319363,"answer_id":41261636,"question_id":6768544,"body_markdown":"A quick and simple way to fix this issue is to remove the `@XmlElement(name=&quot;TimeSeries&quot;)` from the top of the variable declaration statement `protected List&lt;TimeSeries&gt; timeSeries;` to the top of its getter, ` public List&lt;TimeSeries&gt; getTimeSeries()`.\r\n\r\nThus your `ModeleREP ` class will look like:\r\n\r\n    @XmlRootElement(name=&quot;ModeleREP&quot;, namespace=&quot;urn:test:mod_rep.xsd&quot;)\r\n    public class ModeleREP {\r\n\r\n    \r\n      protected List&lt;TimeSeries&gt; timeSeries;\r\n\r\n      @XmlElement(name=&quot;TimeSeries&quot;)\r\n      public List&lt;TimeSeries&gt; getTimeSeries() {\r\n        if (this.timeSeries == null) {\r\n          this.timeSeries = new ArrayList&lt;TimeSeries&gt;();\r\n        }\r\n        return this.timeSeries;\r\n      }\r\n\r\n      public void setTimeSeries(List&lt;TimeSeries&gt; timeSeries) {\r\n        this.timeSeries = timeSeries;\r\n      }\r\n    }","title":"Jaxb, Class has two properties of the same name","body":"<p>A quick and simple way to fix this issue is to remove the <code>@XmlElement(name=&quot;TimeSeries&quot;)</code> from the top of the variable declaration statement <code>protected List&lt;TimeSeries&gt; timeSeries;</code> to the top of its getter, <code> public List&lt;TimeSeries&gt; getTimeSeries()</code>.</p>\n<p>Thus your <code>ModeleREP </code> class will look like:</p>\n<pre><code>@XmlRootElement(name=&quot;ModeleREP&quot;, namespace=&quot;urn:test:mod_rep.xsd&quot;)\npublic class ModeleREP {\n\n\n  protected List&lt;TimeSeries&gt; timeSeries;\n\n  @XmlElement(name=&quot;TimeSeries&quot;)\n  public List&lt;TimeSeries&gt; getTimeSeries() {\n    if (this.timeSeries == null) {\n      this.timeSeries = new ArrayList&lt;TimeSeries&gt;();\n    }\n    return this.timeSeries;\n  }\n\n  public void setTimeSeries(List&lt;TimeSeries&gt; timeSeries) {\n    this.timeSeries = timeSeries;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1484473722,"creation_date":1484473722,"answer_id":41659801,"question_id":6768544,"body_markdown":"***&quot;Class has two properties of the same name exception&quot;*** can happen when you have a class member x with a public access level and a getter/setter for the same member.\r\n\r\nAs a java rule of thumb, it is not recommended to use a **public** access level together with getters and setters.\r\n\r\nCheck this for more details: \r\n[https://stackoverflow.com/questions/8002928/public-property-vs-private-property-with-getter][1]\r\n \r\nTo fix that:\r\n \r\n1. Change your member&#39;s access level to **private** and keep your getter/setter\r\n2. Remove the member&#39;s getter and setter \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8002928/public-property-vs-private-property-with-getter","title":"Jaxb, Class has two properties of the same name","body":"<p><strong><em>\"Class has two properties of the same name exception\"</em></strong> can happen when you have a class member x with a public access level and a getter/setter for the same member.</p>\n\n<p>As a java rule of thumb, it is not recommended to use a <strong>public</strong> access level together with getters and setters.</p>\n\n<p>Check this for more details: \n<a href=\"https://stackoverflow.com/questions/8002928/public-property-vs-private-property-with-getter\">Public property VS Private property with getter?</a></p>\n\n<p>To fix that:</p>\n\n<ol>\n<li>Change your member's access level to <strong>private</strong> and keep your getter/setter</li>\n<li>Remove the member's getter and setter </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7619039,"reputation":573,"user_id":5777565,"display_name":"Ismael ozil"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1498194488,"creation_date":1498194488,"answer_id":44713449,"question_id":6768544,"body_markdown":"just added this to my class \r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n\r\nworked like a cham","title":"Jaxb, Class has two properties of the same name","body":"<p>just added this to my class </p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n</code></pre>\n\n<p>worked like a cham</p>\n"},{"tags":[],"owner":{"account_id":7889285,"reputation":462,"user_id":6035731,"accept_rate":100,"display_name":"Lilia"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515049147,"creation_date":1515049147,"answer_id":48090204,"question_id":6768544,"body_markdown":"It will work when you put your annotation before the getters, and remove it from the protected attributes:\r\n\r\n\r\n    protected String codingScheme;\r\n    \r\n    @XmlAttribute(name = &quot;codingScheme&quot;)\r\n    public String getCodingScheme() {\r\n        return this.codingScheme;\r\n    }\r\n","title":"Jaxb, Class has two properties of the same name","body":"<p>It will work when you put your annotation before the getters, and remove it from the protected attributes:</p>\n\n<pre><code>protected String codingScheme;\n\n@XmlAttribute(name = \"codingScheme\")\npublic String getCodingScheme() {\n    return this.codingScheme;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4008749,"reputation":3475,"user_id":3302747,"accept_rate":61,"display_name":"Baked Inhalf"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1674714576,"creation_date":1535024240,"answer_id":51984928,"question_id":6768544,"body_markdown":"There are multiple solutions: If you annotate on variable declaration then you need `@XmlAccessorType(XmlAccessType.FIELD)`, but if you prefer to annotate either a get- or set-method then you don&#39;t.\r\n\r\nSo you can do:\r\n\r\n    @XmlRootElement(name=&quot;MY_CLASS_A&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class MyClassA\r\n    {\r\n        @XmlElement(name = &quot;STATUS&quot;)   \r\n        private int status;\r\n       //.. and so on\r\n    }\r\n\r\n\r\nOr:\r\n\r\n    @XmlRootElement(name=&quot;MY_CLASS_A&quot;)\r\n    public class MyClassA\r\n    {\r\n        private int status;\r\n          \r\n        @XmlElement(name = &quot;STATUS&quot;)         \r\n        public int getStatus()\r\n        {\r\n        }\r\n    }","title":"Jaxb, Class has two properties of the same name","body":"<p>There are multiple solutions: If you annotate on variable declaration then you need <code>@XmlAccessorType(XmlAccessType.FIELD)</code>, but if you prefer to annotate either a get- or set-method then you don't.</p>\n<p>So you can do:</p>\n<pre><code>@XmlRootElement(name=&quot;MY_CLASS_A&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class MyClassA\n{\n    @XmlElement(name = &quot;STATUS&quot;)   \n    private int status;\n   //.. and so on\n}\n</code></pre>\n<p>Or:</p>\n<pre><code>@XmlRootElement(name=&quot;MY_CLASS_A&quot;)\npublic class MyClassA\n{\n    private int status;\n      \n    @XmlElement(name = &quot;STATUS&quot;)         \n    public int getStatus()\n    {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10120865,"reputation":763,"user_id":7477819,"accept_rate":80,"display_name":"Armer B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572961726,"creation_date":1572961726,"answer_id":58712722,"question_id":6768544,"body_markdown":"`ModeleREP#getTimeSeries()` have to be with `@Transient` annotation. That would help.","title":"Jaxb, Class has two properties of the same name","body":"<p><code>ModeleREP#getTimeSeries()</code> have to be with <code>@Transient</code> annotation. That would help.</p>\n"},{"tags":[],"owner":{"account_id":2480948,"reputation":1857,"user_id":2160440,"accept_rate":84,"display_name":"wlnirvana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577858378,"creation_date":1577858378,"answer_id":59550292,"question_id":6768544,"body_markdown":"Many solutions have been given, and the internals are briefly touched by @Sriram and @ptomli as well. I just want to add a few references to the source code to help understand what is happening under the hood.\r\n\r\nBy default (i.e. no extra annotations used at all except `@XmlRootElement` on the root class), JABX tries to marshal things exposed via two ways:\r\n\r\n1. public [fields][1]\r\n2. [getter methods][2] that are named following the [convention][3] and have a corresponding setter method.\r\n\r\nNotice that if a field is (or method returns) `null`, it will not be written into the output.\r\n\r\nNow if `@XmlElement` is used, non-public things (could be fields or getter methods) can be marshalled as well.\r\n\r\nBut the two ways, i.e. fields and getter-methods, must not conflict with each other. Otherwise you get [the exception][4].\r\n\r\n\r\n  [1]: https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/83985e41faded5c5fe48877c0abfa2c6c70c3b27/jaxws/src/share/jaxws_classes/com/sun/xml/internal/bind/v2/model/impl/ClassInfoImpl.java#L296\r\n  [2]: https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/83985e41faded5c5fe48877c0abfa2c6c70c3b27/jaxws/src/share/jaxws_classes/com/sun/xml/internal/bind/v2/model/impl/ClassInfoImpl.java#L298\r\n  [3]: https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/83985e41faded5c5fe48877c0abfa2c6c70c3b27/jaxws/src/share/jaxws_classes/com/sun/xml/internal/bind/v2/model/impl/ClassInfoImpl.java#L1154\r\n  [4]: https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/83985e41faded5c5fe48877c0abfa2c6c70c3b27/jaxws/src/share/jaxws_classes/com/sun/xml/internal/bind/v2/runtime/JAXBContextImpl.java#L445","title":"Jaxb, Class has two properties of the same name","body":"<p>Many solutions have been given, and the internals are briefly touched by @Sriram and @ptomli as well. I just want to add a few references to the source code to help understand what is happening under the hood.</p>\n\n<p>By default (i.e. no extra annotations used at all except <code>@XmlRootElement</code> on the root class), JABX tries to marshal things exposed via two ways:</p>\n\n<ol>\n<li>public <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/83985e41faded5c5fe48877c0abfa2c6c70c3b27/jaxws/src/share/jaxws_classes/com/sun/xml/internal/bind/v2/model/impl/ClassInfoImpl.java#L296\" rel=\"nofollow noreferrer\">fields</a></li>\n<li><a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/83985e41faded5c5fe48877c0abfa2c6c70c3b27/jaxws/src/share/jaxws_classes/com/sun/xml/internal/bind/v2/model/impl/ClassInfoImpl.java#L298\" rel=\"nofollow noreferrer\">getter methods</a> that are named following the <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/83985e41faded5c5fe48877c0abfa2c6c70c3b27/jaxws/src/share/jaxws_classes/com/sun/xml/internal/bind/v2/model/impl/ClassInfoImpl.java#L1154\" rel=\"nofollow noreferrer\">convention</a> and have a corresponding setter method.</li>\n</ol>\n\n<p>Notice that if a field is (or method returns) <code>null</code>, it will not be written into the output.</p>\n\n<p>Now if <code>@XmlElement</code> is used, non-public things (could be fields or getter methods) can be marshalled as well.</p>\n\n<p>But the two ways, i.e. fields and getter-methods, must not conflict with each other. Otherwise you get <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/83985e41faded5c5fe48877c0abfa2c6c70c3b27/jaxws/src/share/jaxws_classes/com/sun/xml/internal/bind/v2/runtime/JAXBContextImpl.java#L445\" rel=\"nofollow noreferrer\">the exception</a>.</p>\n"}],"owner":{"account_id":334205,"reputation":2030,"user_id":660503,"accept_rate":35,"display_name":"redfox26"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156464,"favorite_count":0,"down_vote_count":0,"up_vote_count":148,"answer_count":18,"score":148,"last_activity_date":1676299205,"creation_date":1311195805,"question_id":6768544,"body_markdown":"With Jaxb (jaxb-impl-2.1.12), UI try to read [an XML file][1]\r\n\r\nOnly a few element in the XML file are interesting, so I would like to skip most of the elements.\r\n\r\nThe XML I&#39;m trying to read:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!--Sample XML file generated by XMLSpy v2010 rel. 3 sp1 (http://www.altova.com)--&gt;\r\n    &lt;flx:ModeleREP xsi:schemaLocation=&quot;urn:test:mod_rep.xsd mod_rep.xsd&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:flx=&quot;urn:test:mod_rep.xsd&quot;&gt;\r\n\t&lt;flx:DocumentHeader&gt;\r\n\t\t&lt;flx:Identification v=&quot;04489&quot;/&gt;\r\n\t&lt;/flx:DocumentHeader&gt;\r\n\t&lt;flx:TimeSeries&gt;\r\n\t\t&lt;flx:Identification v=&quot;test1a&quot;/&gt;\r\n\t\t&lt;flx:BusinessType v=&quot;A01&quot;/&gt;\r\n\t\t&lt;flx:Product v=&quot;123a&quot;/&gt;\r\n\t\t&lt;flx:ResourceObject codingScheme=&quot;N&quot; v=&quot;testa&quot;/&gt;\r\n\t\t&lt;flx:Period&gt;\r\n\t\t\t&lt;flx:TimeInterval v=&quot;2011-07-02T00:00/2011-07-16T00:00&quot;/&gt;\r\n\t\t\t&lt;flx:Resolution v=&quot;PT2H&quot;/&gt;\r\n\t\t\t&lt;flx:Pt&gt;\r\n\t\t\t\t&lt;flx:P v=&quot;1&quot;/&gt;\r\n\t\t\t\t&lt;flx:Q unitCode=&quot;String&quot; v=&quot;1.0&quot;/&gt;\r\n\t\t\t\t&lt;flx:A currencyIdentifier=&quot;String&quot; v=&quot;195.0&quot;/&gt;\r\n\t\t\t&lt;/flx:Pt&gt;\r\n\t\t&lt;/flx:Period&gt;\r\n\t&lt;/flx:TimeSeries&gt;\r\n\t&lt;flx:TimeSeries&gt;\r\n\t\t&lt;flx:Identification v=&quot;test2a&quot;/&gt;\r\n\t\t&lt;flx:BusinessType v=&quot;A01&quot;/&gt;\r\n\t\t&lt;flx:Product v=&quot;a123b&quot;/&gt;\r\n\t\t&lt;flx:ResourceObject codingScheme=&quot;N&quot; v=&quot;test2&quot;/&gt;\r\n\t\t&lt;flx:Period&gt;\r\n\t\t\t&lt;flx:TimeInterval v=&quot;2011-07-02T00:00/2011-07-16T00:00&quot;/&gt;\r\n\t\t\t&lt;flx:Resolution v=&quot;PT2H&quot;/&gt;\r\n\t\t\t&lt;flx:Pt&gt;\r\n\t\t\t\t&lt;flx:P v=&quot;1&quot;/&gt;\r\n\t\t\t\t&lt;flx:Q unitCode=&quot;String&quot; v=&quot;1.0&quot;/&gt;\r\n\t\t\t\t&lt;flx:A currencyIdentifier=&quot;String&quot; v=&quot;195.0&quot;/&gt;\r\n\t\t\t&lt;/flx:Pt&gt;\r\n\t\t\t&lt;flx:Pt&gt;\r\n\t\t\t\t&lt;flx:P v=&quot;2&quot;/&gt;\r\n\t\t\t\t&lt;flx:Q unitCode=&quot;String&quot; v=&quot;1.0&quot;/&gt;\r\n\t\t\t\t&lt;flx:A currencyIdentifier=&quot;String&quot; v=&quot;195.0&quot;/&gt;\r\n\t\t\t&lt;/flx:Pt&gt;\r\n\t\t&lt;/flx:Period&gt;\r\n\t&lt;/flx:TimeSeries&gt;\r\n    &lt;/flx:ModeleREP&gt;\r\n\r\nmy class\r\n\r\n    @XmlRootElement(name=&quot;ModeleREP&quot;, namespace=&quot;urn:test:mod_rep.xsd&quot;)\r\n    public class ModeleREP {\r\n\r\n      @XmlElement(name=&quot;TimeSeries&quot;)\r\n      protected List&lt;TimeSeries&gt; timeSeries;\r\n\r\n      public List&lt;TimeSeries&gt; getTimeSeries() {\r\n\t  if (this.timeSeries == null) {\r\n\t      this.timeSeries = new ArrayList&lt;TimeSeries&gt;();\r\n\t  }\r\n\t  return this.timeSeries;\r\n      }\r\n\r\n      public void setTimeSeries(List&lt;TimeSeries&gt; timeSeries) {\r\n\t  this.timeSeries = timeSeries;\r\n      }\r\n\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;TimeSeries&quot;)\r\n    public class TimeSeries {\r\n\r\n\t@XmlElement(name=&quot;ResourceObject&quot;)\r\n\tprotected RessourceObject resourceObject;\r\n\r\n\t@XmlElement(name = &quot;Period&quot;)\r\n\tprotected Period period;\r\n\r\n\tpublic RessourceObject getResourceObject() {\r\n\t    return this.resourceObject;\r\n\t}\r\n\r\n\tpublic void setResourceObject(RessourceObject resourceObject) {\r\n\t    this.resourceObject = resourceObject;\r\n\t}\r\n\r\n\tpublic Period getPeriod() {\r\n\t    return this.period;\r\n\t}\r\n\r\n\tpublic void setPeriod(Period period) {\r\n\t    this.period = period;\r\n\t}\r\n\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;ResourceObject&quot;)\r\n\r\n    public class RessourceObject {\r\n\t@XmlAttribute(name = &quot;codingScheme&quot;)\r\n\tprotected String codingScheme;\r\n\r\n\t@XmlAttribute(name = &quot;v&quot;)\r\n\tprotected String v;\r\n\r\n\tpublic String getCodingScheme() {\r\n\t    return this.codingScheme;\r\n\t}\r\n\r\n\tpublic void setCodingScheme(String codingScheme) {\r\n\t    this.codingScheme = codingScheme;\r\n\t}\r\n\r\n\tpublic String getV() {\r\n\t    return this.v;\r\n\t}\r\n\r\n\tpublic void setV(String v) {\r\n\t    this.v = v;\r\n\t}\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.NONE)\r\n    @XmlRootElement(name = &quot;Period&quot;)\r\n    public class Period {\r\n\r\n\t@XmlElement(name = &quot;TimeInterval&quot;)\r\n\tprotected TimeInterval timeInterval;\r\n\r\n\t@XmlElement(name = &quot;Pt&quot;)\r\n\tprotected List&lt;Pt&gt; pt;\r\n\r\n\tpublic TimeInterval getTimeInterval() {\r\n\t    return this.timeInterval;\r\n\t}\r\n\r\n\tpublic void setTimeInterval(TimeInterval timeInterval) {\r\n\t    this.timeInterval = timeInterval;\r\n\t}\r\n\r\n\tpublic List&lt;Pt&gt; getPt() {\r\n\t    if (this.pt == null) {\r\n\t\tthis.pt = new ArrayList&lt;Pt&gt;();\r\n\t    }\r\n\t    return this.pt;\r\n\t}\r\n\r\n\tpublic void setPt(List&lt;Pt&gt; pt) {\r\n\t    this.pt=pt;\r\n\t}\r\n\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;TimeInterval&quot;)\r\n    public class TimeInterval {\r\n\r\n\t@XmlAttribute(name = &quot;v&quot;)\r\n\tprivate String timeIntervalPeriod;\r\n\r\n\tpublic String getTimeIntervalPeriod() {\r\n\t    return this.timeIntervalPeriod;\r\n\t}\r\n\r\n\tpublic void setTimeIntervalPeriod(String timeIntervalPeriod) {\r\n\t    this.timeIntervalPeriod = timeIntervalPeriod;\r\n\t}\r\n\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;Pt&quot;)\r\n    public class Pt {\r\n\r\n\t@XmlElement(name = &quot;P&quot;)\r\n\tprotected P p;\r\n\r\n\t@XmlElement(name = &quot;A&quot;)\r\n\tprotected A a;\r\n\r\n\tpublic P getP() {\r\n\t    return this.p;\r\n\t}\r\n\r\n\tpublic void setP(P p) {\r\n\t    this.p = p;\r\n\t}\r\n\r\n\tpublic A getA() {\r\n\t    return this.a;\r\n\t}\r\n\r\n\tpublic void setA(A a) {\r\n\t    this.a = a;\r\n\t}\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;P&quot;)\r\n    public class P {\r\n\t@XmlAttribute(name = &quot;v&quot;)\r\n\tprotected String position;\r\n\r\n\r\n\tpublic String getPosition(){\r\n\t    return this.position;\r\n\t}\r\n\r\n\tpublic void setPosition(String position){\r\n\t    this.position=position;\r\n\t}\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;A&quot;)\r\n    public class A {\r\n\t@XmlAttribute(name = &quot;v&quot;)\r\n\tprotected String calculatedAmount;\r\n\r\n\tpublic String getCalculatedAmount() {\r\n\t    return this.calculatedAmount;\r\n\t}\r\n\r\n\tpublic void setCalculatedAmount(String calculatedAmount) {\r\n\t    this.calculatedAmount = calculatedAmount;\r\n\t}\r\n    }\r\n\r\n\r\nwhen I try to read the XML file, I get this error:\r\n\r\n    com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions\r\n    Class has two properties of the same name &quot;timeSeries&quot;\r\n\t    this problem is related to the following location:\r\n\t\t    at public java.util.List testjaxp.ModeleREP.getTimeSeries()\r\n\t\t    at testjaxp.ModeleREP\r\n\t    this problem is related to the following location:\r\n\t\t    at protected java.util.List testjaxp.ModeleREP.timeSeries\r\n\t\t    at testjaxp.ModeleREP\r\n\r\n\r\n  [1]: http://www.copypastecode.com/75029/\r\n\r\nI don&#39;t understand this error. And sometimes when I check my object, timeSeries is null.\r\n\r\nHow can I fix this error/prevent timeSeries from returning null?","title":"Jaxb, Class has two properties of the same name","body":"<p>With Jaxb (jaxb-impl-2.1.12), UI try to read <a href=\"http://www.copypastecode.com/75029/\" rel=\"noreferrer\">an XML file</a></p>\n<p>Only a few element in the XML file are interesting, so I would like to skip most of the elements.</p>\n<p>The XML I'm trying to read:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!--Sample XML file generated by XMLSpy v2010 rel. 3 sp1 (http://www.altova.com)--&gt;\n&lt;flx:ModeleREP xsi:schemaLocation=&quot;urn:test:mod_rep.xsd mod_rep.xsd&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:flx=&quot;urn:test:mod_rep.xsd&quot;&gt;\n&lt;flx:DocumentHeader&gt;\n    &lt;flx:Identification v=&quot;04489&quot;/&gt;\n&lt;/flx:DocumentHeader&gt;\n&lt;flx:TimeSeries&gt;\n    &lt;flx:Identification v=&quot;test1a&quot;/&gt;\n    &lt;flx:BusinessType v=&quot;A01&quot;/&gt;\n    &lt;flx:Product v=&quot;123a&quot;/&gt;\n    &lt;flx:ResourceObject codingScheme=&quot;N&quot; v=&quot;testa&quot;/&gt;\n    &lt;flx:Period&gt;\n        &lt;flx:TimeInterval v=&quot;2011-07-02T00:00/2011-07-16T00:00&quot;/&gt;\n        &lt;flx:Resolution v=&quot;PT2H&quot;/&gt;\n        &lt;flx:Pt&gt;\n            &lt;flx:P v=&quot;1&quot;/&gt;\n            &lt;flx:Q unitCode=&quot;String&quot; v=&quot;1.0&quot;/&gt;\n            &lt;flx:A currencyIdentifier=&quot;String&quot; v=&quot;195.0&quot;/&gt;\n        &lt;/flx:Pt&gt;\n    &lt;/flx:Period&gt;\n&lt;/flx:TimeSeries&gt;\n&lt;flx:TimeSeries&gt;\n    &lt;flx:Identification v=&quot;test2a&quot;/&gt;\n    &lt;flx:BusinessType v=&quot;A01&quot;/&gt;\n    &lt;flx:Product v=&quot;a123b&quot;/&gt;\n    &lt;flx:ResourceObject codingScheme=&quot;N&quot; v=&quot;test2&quot;/&gt;\n    &lt;flx:Period&gt;\n        &lt;flx:TimeInterval v=&quot;2011-07-02T00:00/2011-07-16T00:00&quot;/&gt;\n        &lt;flx:Resolution v=&quot;PT2H&quot;/&gt;\n        &lt;flx:Pt&gt;\n            &lt;flx:P v=&quot;1&quot;/&gt;\n            &lt;flx:Q unitCode=&quot;String&quot; v=&quot;1.0&quot;/&gt;\n            &lt;flx:A currencyIdentifier=&quot;String&quot; v=&quot;195.0&quot;/&gt;\n        &lt;/flx:Pt&gt;\n        &lt;flx:Pt&gt;\n            &lt;flx:P v=&quot;2&quot;/&gt;\n            &lt;flx:Q unitCode=&quot;String&quot; v=&quot;1.0&quot;/&gt;\n            &lt;flx:A currencyIdentifier=&quot;String&quot; v=&quot;195.0&quot;/&gt;\n        &lt;/flx:Pt&gt;\n    &lt;/flx:Period&gt;\n&lt;/flx:TimeSeries&gt;\n&lt;/flx:ModeleREP&gt;\n</code></pre>\n<p>my class</p>\n<pre><code>@XmlRootElement(name=&quot;ModeleREP&quot;, namespace=&quot;urn:test:mod_rep.xsd&quot;)\npublic class ModeleREP {\n\n  @XmlElement(name=&quot;TimeSeries&quot;)\n  protected List&lt;TimeSeries&gt; timeSeries;\n\n  public List&lt;TimeSeries&gt; getTimeSeries() {\n  if (this.timeSeries == null) {\n      this.timeSeries = new ArrayList&lt;TimeSeries&gt;();\n  }\n  return this.timeSeries;\n  }\n\n  public void setTimeSeries(List&lt;TimeSeries&gt; timeSeries) {\n  this.timeSeries = timeSeries;\n  }\n\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;TimeSeries&quot;)\npublic class TimeSeries {\n\n@XmlElement(name=&quot;ResourceObject&quot;)\nprotected RessourceObject resourceObject;\n\n@XmlElement(name = &quot;Period&quot;)\nprotected Period period;\n\npublic RessourceObject getResourceObject() {\n    return this.resourceObject;\n}\n\npublic void setResourceObject(RessourceObject resourceObject) {\n    this.resourceObject = resourceObject;\n}\n\npublic Period getPeriod() {\n    return this.period;\n}\n\npublic void setPeriod(Period period) {\n    this.period = period;\n}\n\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;ResourceObject&quot;)\n\npublic class RessourceObject {\n@XmlAttribute(name = &quot;codingScheme&quot;)\nprotected String codingScheme;\n\n@XmlAttribute(name = &quot;v&quot;)\nprotected String v;\n\npublic String getCodingScheme() {\n    return this.codingScheme;\n}\n\npublic void setCodingScheme(String codingScheme) {\n    this.codingScheme = codingScheme;\n}\n\npublic String getV() {\n    return this.v;\n}\n\npublic void setV(String v) {\n    this.v = v;\n}\n}\n\n@XmlAccessorType(XmlAccessType.NONE)\n@XmlRootElement(name = &quot;Period&quot;)\npublic class Period {\n\n@XmlElement(name = &quot;TimeInterval&quot;)\nprotected TimeInterval timeInterval;\n\n@XmlElement(name = &quot;Pt&quot;)\nprotected List&lt;Pt&gt; pt;\n\npublic TimeInterval getTimeInterval() {\n    return this.timeInterval;\n}\n\npublic void setTimeInterval(TimeInterval timeInterval) {\n    this.timeInterval = timeInterval;\n}\n\npublic List&lt;Pt&gt; getPt() {\n    if (this.pt == null) {\n    this.pt = new ArrayList&lt;Pt&gt;();\n    }\n    return this.pt;\n}\n\npublic void setPt(List&lt;Pt&gt; pt) {\n    this.pt=pt;\n}\n\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;TimeInterval&quot;)\npublic class TimeInterval {\n\n@XmlAttribute(name = &quot;v&quot;)\nprivate String timeIntervalPeriod;\n\npublic String getTimeIntervalPeriod() {\n    return this.timeIntervalPeriod;\n}\n\npublic void setTimeIntervalPeriod(String timeIntervalPeriod) {\n    this.timeIntervalPeriod = timeIntervalPeriod;\n}\n\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;Pt&quot;)\npublic class Pt {\n\n@XmlElement(name = &quot;P&quot;)\nprotected P p;\n\n@XmlElement(name = &quot;A&quot;)\nprotected A a;\n\npublic P getP() {\n    return this.p;\n}\n\npublic void setP(P p) {\n    this.p = p;\n}\n\npublic A getA() {\n    return this.a;\n}\n\npublic void setA(A a) {\n    this.a = a;\n}\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;P&quot;)\npublic class P {\n@XmlAttribute(name = &quot;v&quot;)\nprotected String position;\n\n\npublic String getPosition(){\n    return this.position;\n}\n\npublic void setPosition(String position){\n    this.position=position;\n}\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;A&quot;)\npublic class A {\n@XmlAttribute(name = &quot;v&quot;)\nprotected String calculatedAmount;\n\npublic String getCalculatedAmount() {\n    return this.calculatedAmount;\n}\n\npublic void setCalculatedAmount(String calculatedAmount) {\n    this.calculatedAmount = calculatedAmount;\n}\n}\n</code></pre>\n<p>when I try to read the XML file, I get this error:</p>\n<pre><code>com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions\nClass has two properties of the same name &quot;timeSeries&quot;\n    this problem is related to the following location:\n        at public java.util.List testjaxp.ModeleREP.getTimeSeries()\n        at testjaxp.ModeleREP\n    this problem is related to the following location:\n        at protected java.util.List testjaxp.ModeleREP.timeSeries\n        at testjaxp.ModeleREP\n</code></pre>\n<p>I don't understand this error. And sometimes when I check my object, timeSeries is null.</p>\n<p>How can I fix this error/prevent timeSeries from returning null?</p>\n"},{"tags":["java","spring","spring-boot","transactions"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1676279831,"post_id":75433929,"comment_id":133098260,"body_markdown":"Did you enable Transactions?","body":"Did you enable Transactions?"},{"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"score":0,"creation_date":1676280435,"post_id":75433929,"comment_id":133098406,"body_markdown":"Sure, I&#39;ve used ```@EnableTransactionManagement``` on my DatabaseConfiguration class","body":"Sure, I&#39;ve used <code>@EnableTransactionManagement</code> on my DatabaseConfiguration class"},{"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"score":0,"creation_date":1676281283,"post_id":75433929,"comment_id":133098648,"body_markdown":"I&#39;m using multiple database connections. I&#39;ve found that my abstract class doesn&#39;t use correct transactionManager.","body":"I&#39;m using multiple database connections. I&#39;ve found that my abstract class doesn&#39;t use correct transactionManager."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1676282378,"post_id":75433929,"comment_id":133098975,"body_markdown":"Don&#39;t do a catch in your service as that will break tx management (assuming your service is the actual `@Transactional`) also make sure you are using the proper tx manager for the technology you are using. THe log show the `DataSourceTransactionManager` but when using JPA this will not work. Also there could be an issue in your dao implementation (especially if you mess around iwth connections yourself instead of  using a pre-pound one). Finally make sure your DB actually supports transactions (MySQL with MyISAM tables doesn&#39;t).","body":"Don&#39;t do a catch in your service as that will break tx management (assuming your service is the actual <code>@Transactional</code>) also make sure you are using the proper tx manager for the technology you are using. THe log show the <code>DataSourceTransactionManager</code> but when using JPA this will not work. Also there could be an issue in your dao implementation (especially if you mess around iwth connections yourself instead of  using a pre-pound one). Finally make sure your DB actually supports transactions (MySQL with MyISAM tables doesn&#39;t)."},{"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"score":0,"creation_date":1676339239,"post_id":75433929,"comment_id":133113525,"body_markdown":"Using transactionManager with abstract class calls only ```@Primary``` transactionManager. That was the problem. After ```@Override``` the method want to apply transaction in child class, and set ```@Transactional( transactionManager = &quot;txManagerName&quot; )``` worked for me.","body":"Using transactionManager with abstract class calls only <code>@Primary</code> transactionManager. That was the problem. After <code>@Override</code> the method want to apply transaction in child class, and set <code>@Transactional( transactionManager = &quot;txManagerName&quot; )</code> worked for me."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676282733,"creation_date":1676282733,"answer_id":75434428,"question_id":75433929,"body_markdown":"By default Spring rolls transaction back a for `RuntimeException`, so you should use plain `@Transactional` and throw `RuntimeException` if you want to roll back.\r\n\r\nAlso make sure you don&#39;t start another transaction within `myMapper.updateSomething()`.","title":"Spring boot Transactional doesn&#39;t rollback","body":"<p>By default Spring rolls transaction back a for <code>RuntimeException</code>, so you should use plain <code>@Transactional</code> and throw <code>RuntimeException</code> if you want to roll back.</p>\n<p>Also make sure you don't start another transaction within <code>myMapper.updateSomething()</code>.</p>\n"}],"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676299036,"creation_date":1676279735,"question_id":75433929,"body_markdown":"I&#39;m trying to rollback update with ```@Transactional``` annotation.\r\n\r\nBut it doesn&#39;t working on any exception.\r\n\r\n```\r\npublic abstract class MyService&lt;T1 extends MyDao&lt;T2&gt;, T2 extends MyMapper&gt; {\r\n\r\n  private final T1 myDao;\r\n\r\n  public MyService( T1 myDao ) {\r\n    this.myDao = myDao;\r\n  }\r\n\r\n  public updateSomething() {\r\n    try {\r\n      myDao.updateSomething();\r\n    } catch (Exception e) {\r\n      ...\r\n    }\r\n  }\r\n}\r\n\r\n@RequiredArgsConstructor\r\npublic abstract class MyDao&lt;T extends MyMapper&gt; {\r\n\r\n  private final T myMapper;\r\n\r\n  @Transactional( rollbackFor = Exception.class )\r\n  public void updateSomething() throws Exception {\r\n    myMapper.updateSomething();\r\n\r\n    throw new Exception();\r\n  }\r\n}\r\n```\r\n\r\nWhen I throw exception in ```MyDao.updateSomething()```, rollback not working.\r\n\r\nI&#39;ve tried to move ```@Transactional``` annotation to ```MyService.updateSomething()``` and removed ```try-catch```, it was same.\r\n\r\nI saw the transaction rollback log, but nothing was rollback.\r\n\r\n```\r\n[DEBUG ] o.s.j.d.DataSourceTransactionManager[processRollback:833] - Initiating transaction rollback\r\n[DEBUG ] o.s.j.d.DataSourceTransactionManager[doRollback:345] - Rolling back JDBC transaction on Connection [HikariProxyConnection@1241981043 wrapping net.sf.log4jdbc.sql.jdbcapi.ConnectionSpy@1347fc2]\r\n[DEBUG ] o.s.j.d.DataSourceTransactionManager[doCleanupAfterCompletion:389] - Releasing JDBC Connection [HikariProxyConnection@1241981043 wrapping net.sf.log4jdbc.sql.jdbcapi.ConnectionSpy@1347fc2] after transaction\r\n```\r\n\r\nWhy rollback doesn&#39;t working?","title":"Spring boot Transactional doesn&#39;t rollback","body":"<p>I'm trying to rollback update with <code>@Transactional</code> annotation.</p>\n<p>But it doesn't working on any exception.</p>\n<pre><code>public abstract class MyService&lt;T1 extends MyDao&lt;T2&gt;, T2 extends MyMapper&gt; {\n\n  private final T1 myDao;\n\n  public MyService( T1 myDao ) {\n    this.myDao = myDao;\n  }\n\n  public updateSomething() {\n    try {\n      myDao.updateSomething();\n    } catch (Exception e) {\n      ...\n    }\n  }\n}\n\n@RequiredArgsConstructor\npublic abstract class MyDao&lt;T extends MyMapper&gt; {\n\n  private final T myMapper;\n\n  @Transactional( rollbackFor = Exception.class )\n  public void updateSomething() throws Exception {\n    myMapper.updateSomething();\n\n    throw new Exception();\n  }\n}\n</code></pre>\n<p>When I throw exception in <code>MyDao.updateSomething()</code>, rollback not working.</p>\n<p>I've tried to move <code>@Transactional</code> annotation to <code>MyService.updateSomething()</code> and removed <code>try-catch</code>, it was same.</p>\n<p>I saw the transaction rollback log, but nothing was rollback.</p>\n<pre><code>[DEBUG ] o.s.j.d.DataSourceTransactionManager[processRollback:833] - Initiating transaction rollback\n[DEBUG ] o.s.j.d.DataSourceTransactionManager[doRollback:345] - Rolling back JDBC transaction on Connection [HikariProxyConnection@1241981043 wrapping net.sf.log4jdbc.sql.jdbcapi.ConnectionSpy@1347fc2]\n[DEBUG ] o.s.j.d.DataSourceTransactionManager[doCleanupAfterCompletion:389] - Releasing JDBC Connection [HikariProxyConnection@1241981043 wrapping net.sf.log4jdbc.sql.jdbcapi.ConnectionSpy@1347fc2] after transaction\n</code></pre>\n<p>Why rollback doesn't working?</p>\n"},{"tags":["java","swing","jframe","jpanel","jscrollbar"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1442060656,"post_id":32538389,"comment_id":52934913,"body_markdown":"*&quot;I am using null as lay out because i used setBounds for the all items location&quot;* Java GUIs have to work on different OS&#39;, screen size, screen resolution etc.  using different PLAFs in different locales.  As such, they are not conducive to pixel perfect layout.  Instead use layout managers, or [combinations of them](http://stackoverflow.com/a/5630271/418556) along with layout padding and borders for [white space](http://stackoverflow.com/a/17874718/418556).","body":"<i>&quot;I am using null as lay out because i used setBounds for the all items location&quot;</i> Java GUIs have to work on different OS&#39;, screen size, screen resolution etc.  using different PLAFs in different locales.  As such, they are not conducive to pixel perfect layout.  Instead use layout managers, or <a href=\"http://stackoverflow.com/a/5630271/418556\">combinations of them</a> along with layout padding and borders for <a href=\"http://stackoverflow.com/a/17874718/418556\">white space</a>."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1442060829,"post_id":32538389,"comment_id":52934954,"body_markdown":"*&quot;every time i try to add a scroll bar to the textArea , it just disappears from the screen&quot;*  I&#39;m not surprised, because of this.. `JTextArea textBoxFailReport = new JTextArea();`.  Suggest a size in columns and rows (then put it in a layout that will respect that size).  Something like this.. `JTextArea textBoxFailReport = new JTextArea(40,10);`","body":"<i>&quot;every time i try to add a scroll bar to the textArea , it just disappears from the screen&quot;</i>  I&#39;m not surprised, because of this.. <code>JTextArea textBoxFailReport = new JTextArea();</code>.  Suggest a size in columns and rows (then put it in a layout that will respect that size).  Something like this.. <code>JTextArea textBoxFailReport = new JTextArea(40,10);</code>"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442058920,"creation_date":1442058920,"answer_id":32538489,"question_id":32538389,"body_markdown":"You create a JScrollPane containing the text area, but instead of adding this scrollPane to your main panel, you&#39;re adding the textarea directly. So that removes the textarea from its scrollpane parent and adds it to the main panel. And the scrollpane is thus not used at all.\r\n\r\nUsing a null layout is also not something you should do.","title":"Using JPanels without JFrame","body":"<p>You create a JScrollPane containing the text area, but instead of adding this scrollPane to your main panel, you're adding the textarea directly. So that removes the textarea from its scrollpane parent and adds it to the main panel. And the scrollpane is thus not used at all.</p>\n\n<p>Using a null layout is also not something you should do.</p>\n"},{"tags":[],"owner":{"account_id":6462685,"reputation":1399,"user_id":5005897,"display_name":"shan1024"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442059813,"creation_date":1442059095,"answer_id":32538514,"question_id":32538389,"body_markdown":"Wrap the `JPanel` in a `JScrollPane` and then add it to the `JOptionPane`. This should solve the problem.\r\n\r\nUpdate:\r\n\r\nHere is a sample code. I have used `GridLayout` here.\r\n\r\n    private static JScrollPane pane;\r\n\r\n    public static void main(String[] arg) {\r\n\r\n        JPanel panel = new JPanel();\r\n        panel.setPreferredSize(new Dimension(425, 400));\r\n        panel.setLayout(new GridLayout(5, 2));//Grid Layout with 5 rows, 2 columns used\r\n        JLabel labelName = new JLabel(&quot;Name and Surname&quot;);\r\n        JTextField textFieldName = new JTextField();\r\n        JLabel labelFailSubject = new JLabel(&quot;Fail Subject&quot;);\r\n        JTextField textFieldFailSubject = new JTextField(15);\r\n        JLabel labelTime = new JLabel(&quot;Fail Time&quot;);\r\n        JTextField textFieldFailTime = new JTextField(8);\r\n        JLabel labelFailDate = new JLabel(&quot;Fail Date&quot;);\r\n        JTextField textFieldFailDate = new JTextField(8);\r\n        JLabel labelFailReport = new JLabel(&quot;Fail Report&quot;);\r\n        JTextArea textBoxFailReport = new JTextArea();\r\n\r\n        panel.add(labelName);\r\n        panel.add(textFieldName);\r\n        panel.add(labelFailDate);\r\n        panel.add(textFieldFailDate);\r\n        panel.add(labelTime);\r\n        panel.add(textFieldFailTime);\r\n        panel.add(labelFailSubject);\r\n        panel.add(textFieldFailSubject);\r\n        panel.add(labelFailReport);\r\n        panel.add(textBoxFailReport);\r\n        textBoxFailReport.setLineWrap(true);\r\n\r\n        pane = new JScrollPane(panel);//JPanel is wrapped with JScrollPane\r\n\r\n        JOptionPane.showMessageDialog(null, pane, &quot;Fail Report&quot;, JOptionPane.PLAIN_MESSAGE);//JScrollPane is added to the JOptionPane\r\n    }","title":"Using JPanels without JFrame","body":"<p>Wrap the <code>JPanel</code> in a <code>JScrollPane</code> and then add it to the <code>JOptionPane</code>. This should solve the problem.</p>\n\n<p>Update:</p>\n\n<p>Here is a sample code. I have used <code>GridLayout</code> here.</p>\n\n<pre><code>private static JScrollPane pane;\n\npublic static void main(String[] arg) {\n\n    JPanel panel = new JPanel();\n    panel.setPreferredSize(new Dimension(425, 400));\n    panel.setLayout(new GridLayout(5, 2));//Grid Layout with 5 rows, 2 columns used\n    JLabel labelName = new JLabel(\"Name and Surname\");\n    JTextField textFieldName = new JTextField();\n    JLabel labelFailSubject = new JLabel(\"Fail Subject\");\n    JTextField textFieldFailSubject = new JTextField(15);\n    JLabel labelTime = new JLabel(\"Fail Time\");\n    JTextField textFieldFailTime = new JTextField(8);\n    JLabel labelFailDate = new JLabel(\"Fail Date\");\n    JTextField textFieldFailDate = new JTextField(8);\n    JLabel labelFailReport = new JLabel(\"Fail Report\");\n    JTextArea textBoxFailReport = new JTextArea();\n\n    panel.add(labelName);\n    panel.add(textFieldName);\n    panel.add(labelFailDate);\n    panel.add(textFieldFailDate);\n    panel.add(labelTime);\n    panel.add(textFieldFailTime);\n    panel.add(labelFailSubject);\n    panel.add(textFieldFailSubject);\n    panel.add(labelFailReport);\n    panel.add(textBoxFailReport);\n    textBoxFailReport.setLineWrap(true);\n\n    pane = new JScrollPane(panel);//JPanel is wrapped with JScrollPane\n\n    JOptionPane.showMessageDialog(null, pane, \"Fail Report\", JOptionPane.PLAIN_MESSAGE);//JScrollPane is added to the JOptionPane\n}\n</code></pre>\n"}],"owner":{"account_id":6877674,"reputation":1,"user_id":5285580,"display_name":"Monveu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1676298895,"creation_date":1442058227,"question_id":32538389,"body_markdown":"I was wondering if is possible to use JPanels without JFrames because I am making a program that is asking to write a failure report.\r\n\r\nI am using JOptionpane for new window but every time I try to add a scroll bar to the textArea, it just disappears from the screen but if I do that in JFrames it doesn&#39;t. I need to use JPanels because I have 2 Jpanel in one frame and everyone of them has to have a scroll bar separately.\r\n\r\n```java\r\npublic class aa {\r\n\tprivate static JScrollPane pane;\r\n\r\n\tpublic static void main(String[] arg){\r\n\t\tJPanel panel = new JPanel();\r\n\t\tpanel.setPreferredSize(new Dimension(425, 400));\r\n\t\tpanel.setLayout(null);\r\n\t\tJLabel labelName= new JLabel(&quot;Name and Surname&quot;);\r\n\t\tJTextField textFieldName = new JTextField();\r\n\t\tJLabel labelFailSubject= new JLabel(&quot;Fail Subject&quot;);\r\n\t\tJTextField textFieldFailSubject = new JTextField(15);\r\n\t\tJLabel labelTime= new JLabel(&quot;Fail Time&quot;);\r\n\t\tJTextField textFieldFailTime = new JTextField(8);\r\n\t\tJLabel labelFailDate = new JLabel(&quot;Fail Date&quot;);\r\n\t\tJTextField textFieldFailDate= new JTextField(8);\r\n\t\tJLabel labelFailReport= new JLabel(&quot;Fail Report&quot;);\r\n\t\tJTextArea textBoxFailReport = new JTextArea();\r\n\t\tpane = new JScrollPane(textBoxFailReport);\r\n\r\n\t\tpanel.add(labelName);\r\n\t\tpanel.add(textFieldName);\t\r\n\t\tpanel.add(labelFailDate);\r\n\t\tpanel.add(textFieldFailDate);\r\n\t\tpanel.add(labelTime);\r\n\t\tpanel.add(textFieldFailTime);\r\n\t\tpanel.add(labelFailSubject);\r\n\t\tpanel.add(textFieldFailSubject);\r\n\t\tpanel.add(labelFailReport);\r\n\t\tpanel.add(textBoxFailReport);\r\n\t\ttextBoxFailReport.setLineWrap(true);\r\n\t\t\r\n\t\tJOptionPane.showMessageDialog(null, panel, &quot;Fail Report&quot;, JOptionPane.PLAIN_MESSAGE);\r\n\t}\r\n}\r\n```","title":"Using JPanels without JFrame","body":"<p>I was wondering if is possible to use JPanels without JFrames because I am making a program that is asking to write a failure report.</p>\n<p>I am using JOptionpane for new window but every time I try to add a scroll bar to the textArea, it just disappears from the screen but if I do that in JFrames it doesn't. I need to use JPanels because I have 2 Jpanel in one frame and everyone of them has to have a scroll bar separately.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class aa {\n    private static JScrollPane pane;\n\n    public static void main(String[] arg){\n        JPanel panel = new JPanel();\n        panel.setPreferredSize(new Dimension(425, 400));\n        panel.setLayout(null);\n        JLabel labelName= new JLabel(&quot;Name and Surname&quot;);\n        JTextField textFieldName = new JTextField();\n        JLabel labelFailSubject= new JLabel(&quot;Fail Subject&quot;);\n        JTextField textFieldFailSubject = new JTextField(15);\n        JLabel labelTime= new JLabel(&quot;Fail Time&quot;);\n        JTextField textFieldFailTime = new JTextField(8);\n        JLabel labelFailDate = new JLabel(&quot;Fail Date&quot;);\n        JTextField textFieldFailDate= new JTextField(8);\n        JLabel labelFailReport= new JLabel(&quot;Fail Report&quot;);\n        JTextArea textBoxFailReport = new JTextArea();\n        pane = new JScrollPane(textBoxFailReport);\n\n        panel.add(labelName);\n        panel.add(textFieldName);   \n        panel.add(labelFailDate);\n        panel.add(textFieldFailDate);\n        panel.add(labelTime);\n        panel.add(textFieldFailTime);\n        panel.add(labelFailSubject);\n        panel.add(textFieldFailSubject);\n        panel.add(labelFailReport);\n        panel.add(textBoxFailReport);\n        textBoxFailReport.setLineWrap(true);\n        \n        JOptionPane.showMessageDialog(null, panel, &quot;Fail Report&quot;, JOptionPane.PLAIN_MESSAGE);\n    }\n}\n</code></pre>\n"},{"tags":["java","gwt"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1675856614,"post_id":75385273,"comment_id":133016835,"body_markdown":"Is this an actual question? Is this actually a self-answer question? Do you have a question? Does your code not work?","body":"Is this an actual question? Is this actually a self-answer question? Do you have a question? Does your code not work?"},{"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"score":0,"creation_date":1675857241,"post_id":75385273,"comment_id":133017020,"body_markdown":"Self-answer but better solutions are welcome","body":"Self-answer but better solutions are welcome"},{"owner":{"account_id":3670691,"reputation":1950,"user_id":3057983,"display_name":"JohnH"},"score":0,"creation_date":1676132799,"post_id":75385273,"comment_id":133078134,"body_markdown":"Consider editing your question to list the code that is causing a problem and a description of that problem.","body":"Consider editing your question to list the code that is causing a problem and a description of that problem."},{"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"score":1,"creation_date":1676138029,"post_id":75385273,"comment_id":133079045,"body_markdown":"@JohnH I&#39;ve improved the question with a code skeleton","body":"@JohnH I&#39;ve improved the question with a code skeleton"}],"answers":[{"tags":[],"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675859604,"creation_date":1675856417,"answer_id":75385274,"question_id":75385273,"body_markdown":"Here&#39;s what I&#39;ve got so far:\r\n```java\r\nimport elemental2.core.ArrayBuffer;\r\nimport elemental2.core.Int8Array;\r\n\r\npublic static byte[] toBytes(ArrayBuffer buffer) {\r\n    Int8Array arr = new Int8Array(buffer);\r\n    byte[] result = new byte[arr.length];\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        Double elem = arr.getAt(i);\r\n        result[i] = elem.byteValue();\r\n    }\r\n    return result;\r\n}\r\n```","title":"How to convert ArrayBuffer to byte[]?","body":"<p>Here's what I've got so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import elemental2.core.ArrayBuffer;\nimport elemental2.core.Int8Array;\n\npublic static byte[] toBytes(ArrayBuffer buffer) {\n    Int8Array arr = new Int8Array(buffer);\n    byte[] result = new byte[arr.length];\n    for (int i = 0; i &lt; arr.length; i++) {\n        Double elem = arr.getAt(i);\n        result[i] = elem.byteValue();\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675956386,"creation_date":1675912157,"answer_id":75393795,"question_id":75385273,"body_markdown":"It turns out that as long as you don&#39;t look too closely at it, a JS `Int8Array` (and so a `elemental2.core.Int8Array`) behaves like you&#39;d expect a GWT/Java `byte[]` to do - it will only contain values from -127 to 128. Unlike a &quot;real&quot; `byte[]`, it will not correctly cast to `byte[]` and anything calling `.getClass()` or other Java methods on it will not work correctly either. It also can&#39;t be cast (by generics or explicitly) to `byte[]` either.\r\n\r\nSo if you need to treat the contents as a real Java array, you have to copy it first. Your answer will do what you want, but it might be more clearly correct to not &quot;convert it from Double&quot; along the way:\r\n\r\n```java\r\nimport elemental2.core.ArrayBuffer;\r\nimport elemental2.core.Int8Array;\r\nimport jsinterop.base.Js;\r\n\r\npublic static byte[] toBytes(ArrayBuffer buffer) {\r\n    // Use uncheckedCast since we are outright lying to the compiler\r\n    byte[] arr = Js.uncheckedCast(new Int8Array(buffer));\r\n    byte[] result = new byte[arr.length];\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        result[i] = arr[i];\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nYour solution is also correct - a `java.lang.Double` in GWT and J2CL is exactly the same as a JS Number type, which is what your Int8Array is going to return when you query its values. The `byteValue()` call you&#39;re making will ask the compiler to make certain that the values are what is expected - it will truncate (probably via `value &amp; 0xFF`?) the value, which should be cheap, but not entirely free.\r\n\r\nFinally as long as you are just going to treat the resulting `byte[]` as a collection you can iterate, and won&#39;t be dealing with it in some way that the actual type will be checked, we can get away with not copying it at all:\r\n\r\n```java\r\nimport elemental2.core.ArrayBuffer;\r\nimport elemental2.core.Int8Array;\r\nimport jsinterop.base.Js;\r\n\r\npublic static byte[] toBytes(ArrayBuffer buffer) {\r\n    byte[] result = Js.uncheckedCast(new Int8Array(buffer));\r\n    return result;\r\n}\r\n```\r\n\r\nThis really is cheating though, and has other downsides, like if the original buffer is modified the array will be changed too, and vice versa. But it is very fast!","title":"How to convert ArrayBuffer to byte[]?","body":"<p>It turns out that as long as you don't look too closely at it, a JS <code>Int8Array</code> (and so a <code>elemental2.core.Int8Array</code>) behaves like you'd expect a GWT/Java <code>byte[]</code> to do - it will only contain values from -127 to 128. Unlike a &quot;real&quot; <code>byte[]</code>, it will not correctly cast to <code>byte[]</code> and anything calling <code>.getClass()</code> or other Java methods on it will not work correctly either. It also can't be cast (by generics or explicitly) to <code>byte[]</code> either.</p>\n<p>So if you need to treat the contents as a real Java array, you have to copy it first. Your answer will do what you want, but it might be more clearly correct to not &quot;convert it from Double&quot; along the way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import elemental2.core.ArrayBuffer;\nimport elemental2.core.Int8Array;\nimport jsinterop.base.Js;\n\npublic static byte[] toBytes(ArrayBuffer buffer) {\n    // Use uncheckedCast since we are outright lying to the compiler\n    byte[] arr = Js.uncheckedCast(new Int8Array(buffer));\n    byte[] result = new byte[arr.length];\n    for (int i = 0; i &lt; arr.length; i++) {\n        result[i] = arr[i];\n    }\n    return result;\n}\n</code></pre>\n<p>Your solution is also correct - a <code>java.lang.Double</code> in GWT and J2CL is exactly the same as a JS Number type, which is what your Int8Array is going to return when you query its values. The <code>byteValue()</code> call you're making will ask the compiler to make certain that the values are what is expected - it will truncate (probably via <code>value &amp; 0xFF</code>?) the value, which should be cheap, but not entirely free.</p>\n<p>Finally as long as you are just going to treat the resulting <code>byte[]</code> as a collection you can iterate, and won't be dealing with it in some way that the actual type will be checked, we can get away with not copying it at all:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import elemental2.core.ArrayBuffer;\nimport elemental2.core.Int8Array;\nimport jsinterop.base.Js;\n\npublic static byte[] toBytes(ArrayBuffer buffer) {\n    byte[] result = Js.uncheckedCast(new Int8Array(buffer));\n    return result;\n}\n</code></pre>\n<p>This really is cheating though, and has other downsides, like if the original buffer is modified the array will be changed too, and vice versa. But it is very fast!</p>\n"}],"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75393795,"answer_count":2,"score":1,"last_activity_date":1676298612,"creation_date":1675856417,"question_id":75385273,"body_markdown":"I&#39;m reading a file from a `FileList` retrieved from `HTMLInputElement` and want to get the raw bytes out of `File#arrayBuffer()`. How do I do it?\r\n```\r\nimport elemental2.core.ArrayBuffer;\r\n\r\npublic static byte[] toBytes(ArrayBuffer buffer) {\r\n    // code in question\r\n}\r\n\r\n```","title":"How to convert ArrayBuffer to byte[]?","body":"<p>I'm reading a file from a <code>FileList</code> retrieved from <code>HTMLInputElement</code> and want to get the raw bytes out of <code>File#arrayBuffer()</code>. How do I do it?</p>\n<pre><code>import elemental2.core.ArrayBuffer;\n\npublic static byte[] toBytes(ArrayBuffer buffer) {\n    // code in question\n}\n\n</code></pre>\n"},{"tags":["java","jersey-2.0"],"owner":{"account_id":113555,"reputation":1226,"user_id":299014,"accept_rate":82,"display_name":"JRSofty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676298563,"creation_date":1676298192,"question_id":75437126,"body_markdown":"we have an application running Jersey 2.25 and we have an old interface that contains a signature like this:\r\n\r\n     @GET\r\n     @Path(&quot;/release/{id}.{filename}&quot;)\r\n     public Response release(@PathParam(&quot;id&quot;) long id, @PathParam(&quot;filename&quot;) String filename) { ... }\r\n\r\nThis interface worked fine under Jersey 1, but now we are having problems. After a little research we found that when Jersey 2 attempts to inject the value into the path parameter of the id value, it takes both parameters which of course causes a NumberFormatException as it cannot parse a parameter `1031.myfile.txt` as a long. Where as it should have split the value into two parameters. \r\n\r\nAs stated with Jersey 1 this functioned perfectly, but since we moved to Jersey 2 we&#39;ve noticed the problem during testing.  Is this a change in behavior of Jersey, meaning we&#39;ll need to redefine our interface, or is this something that was simply overlooked during the development of Jersey 2?","title":"Jersey 2 Path Parameters separated by a . throws exception when one parameter is numeric","body":"<p>we have an application running Jersey 2.25 and we have an old interface that contains a signature like this:</p>\n<pre><code> @GET\n @Path(&quot;/release/{id}.{filename}&quot;)\n public Response release(@PathParam(&quot;id&quot;) long id, @PathParam(&quot;filename&quot;) String filename) { ... }\n</code></pre>\n<p>This interface worked fine under Jersey 1, but now we are having problems. After a little research we found that when Jersey 2 attempts to inject the value into the path parameter of the id value, it takes both parameters which of course causes a NumberFormatException as it cannot parse a parameter <code>1031.myfile.txt</code> as a long. Where as it should have split the value into two parameters.</p>\n<p>As stated with Jersey 1 this functioned perfectly, but since we moved to Jersey 2 we've noticed the problem during testing.  Is this a change in behavior of Jersey, meaning we'll need to redefine our interface, or is this something that was simply overlooked during the development of Jersey 2?</p>\n"},{"tags":["java","spring","spring-boot","spring-integration","jakarta-mail"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1676283490,"post_id":75429991,"comment_id":133099276,"body_markdown":"Have you checked that IMAP is enabled? https://support.google.com/mail/answer/7126229?hl=en#zippy=%2Cstep-check-that-imap-is-turned-on%2Cstep-change-smtp-other-settings-in-your-email-client I also think you need to use `imaps://` for SSL but I do not know the ImapMailReceiver client","body":"Have you checked that IMAP is enabled? <a href=\"https://support.google.com/mail/answer/7126229?hl=en#zippy=%2Cstep-check-that-imap-is-turned-on%2Cstep-change-smtp-other-settings-in-your-email-client\" rel=\"nofollow noreferrer\">support.google.com/mail/answer/&hellip;</a> I also think you need to use <code>imaps:&#47;&#47;</code> for SSL but I do not know the ImapMailReceiver client"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676298491,"creation_date":1676298491,"answer_id":75437180,"question_id":75429991,"body_markdown":"The Spring Integration Mail module is fully based on Java Mail API. How to configure a Java Mail client is out of Spring Integration scope. So, make yourself familiar with GMail requirements for Java Mail API first. The go through `ImapMailReceiver` Javadocs to see if you need to provide anything else, not just an URL: \r\n\r\nhttps://github.com/google/gmail-oauth2-tools/tree/master/java\r\n\r\nhttps://www.tzhwang.com/2022/01/28/using-javamail-to-search-gmail-with-imap/","title":"listing emails from gmail with spring boot","body":"<p>The Spring Integration Mail module is fully based on Java Mail API. How to configure a Java Mail client is out of Spring Integration scope. So, make yourself familiar with GMail requirements for Java Mail API first. The go through <code>ImapMailReceiver</code> Javadocs to see if you need to provide anything else, not just an URL:</p>\n<p><a href=\"https://github.com/google/gmail-oauth2-tools/tree/master/java\" rel=\"nofollow noreferrer\">https://github.com/google/gmail-oauth2-tools/tree/master/java</a></p>\n<p><a href=\"https://www.tzhwang.com/2022/01/28/using-javamail-to-search-gmail-with-imap/\" rel=\"nofollow noreferrer\">https://www.tzhwang.com/2022/01/28/using-javamail-to-search-gmail-with-imap/</a></p>\n"}],"owner":{"account_id":24630799,"reputation":69,"user_id":18530057,"display_name":"Bilel Feki Dit Kaaniche"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676298491,"creation_date":1676233793,"question_id":75429991,"body_markdown":"---\r\n# I want to retrieve all my emails from Gmail with spring \r\nI found that spring integration provide a class named ImapMailReceiver\r\nbut this  doesn&#39;t work \r\nthe documentation says that I have to add java mail api implementation SO  I added this dependency angus-mail\r\n\r\n\r\n```\r\ntry {\r\n    ImapMailReceiver imapMailReceiver = new ImapMailReceiver(s);\r\n    imapMailReceiver.receive();\r\n } catch (MessagingException e) {\r\n            throw new RuntimeException(e);\r\n}\r\n```\r\n\r\n`s=&quot;imap://username@gmail.com:pass@imap.gmail.com:993/INBOX&quot;\r\n`\r\nIs there anyone who has a suggestion for how to proceed ?\r\n\r\nERROR:\r\n\r\n```\r\nFactory method &#39;mailReceiver&#39; threw exception with message: jakarta.mail.MessagingException: Connection dropped by server?\r\n```","title":"listing emails from gmail with spring boot","body":"<hr />\n<h1>I want to retrieve all my emails from Gmail with spring</h1>\n<p>I found that spring integration provide a class named ImapMailReceiver\nbut this  doesn't work\nthe documentation says that I have to add java mail api implementation SO  I added this dependency angus-mail</p>\n<pre><code>try {\n    ImapMailReceiver imapMailReceiver = new ImapMailReceiver(s);\n    imapMailReceiver.receive();\n } catch (MessagingException e) {\n            throw new RuntimeException(e);\n}\n</code></pre>\n<p><code>s=&quot;imap://username@gmail.com:pass@imap.gmail.com:993/INBOX&quot; </code>\nIs there anyone who has a suggestion for how to proceed ?</p>\n<p>ERROR:</p>\n<pre><code>Factory method 'mailReceiver' threw exception with message: jakarta.mail.MessagingException: Connection dropped by server?\n</code></pre>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1676272984,"post_id":75432190,"comment_id":133096651,"body_markdown":"Please include your whole test class (annotations used)","body":"Please include your whole test class (annotations used)"},{"owner":{"account_id":25912139,"reputation":3,"user_id":19636161,"display_name":"Ernesto Orozco"},"score":0,"creation_date":1676273776,"post_id":75432190,"comment_id":133096805,"body_markdown":"I did just now, included the full code","body":"I did just now, included the full code"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676274610,"post_id":75432190,"comment_id":133096945,"body_markdown":"Which Spring Boot version and which dependencies are you using.","body":"Which Spring Boot version and which dependencies are you using."},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1676275078,"post_id":75432190,"comment_id":133097052,"body_markdown":"you&#39;re using javax.validation? i think there should be a @Valid annotation on the entity class.","body":"you&#39;re using javax.validation? i think there should be a @Valid annotation on the entity class."},{"owner":{"account_id":25912139,"reputation":3,"user_id":19636161,"display_name":"Ernesto Orozco"},"score":0,"creation_date":1676276807,"post_id":75432190,"comment_id":133097454,"body_markdown":"just added the POM @M.Deinum","body":"just added the POM @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676277596,"post_id":75432190,"comment_id":133097672,"body_markdown":"And there is your problem. Ditch `hibernate-validator` and add `spring-boot-starter-validation` to get both the proper API as well as a supported version of `hibernate-validator`. After the change your code will fail to compile fix the imports from `javax.validation` to `jakarta.validation` to have the proper and supported ones.","body":"And there is your problem. Ditch <code>hibernate-validator</code> and add <code>spring-boot-starter-validation</code> to get both the proper API as well as a supported version of <code>hibernate-validator</code>. After the change your code will fail to compile fix the imports from <code>javax.validation</code> to <code>jakarta.validation</code> to have the proper and supported ones."},{"owner":{"account_id":25912139,"reputation":3,"user_id":19636161,"display_name":"Ernesto Orozco"},"score":0,"creation_date":1676279682,"post_id":75432190,"comment_id":133098212,"body_markdown":"Yes, I figured out and fixed the dependencies and it is now working. Additonally I had to include a EntityManager and run flush() at the assertions for it to work.","body":"Yes, I figured out and fixed the dependencies and it is now working. Additonally I had to include a EntityManager and run flush() at the assertions for it to work."}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676298330,"creation_date":1676298330,"answer_id":75437154,"question_id":75432190,"body_markdown":"When using `@DataJpaTest`, every test is executed within a transaction (-&gt; [JavaDoc][1] for the annotation includes the `@Transactional` annotation). This means, that your data is never actually flushed to the DB unless you use the `.saveAndFlush` method or flush the changes diretly with the `EntityManager`. You have to options:\r\n### 1. Use `.saveAndFlush`\r\nor\r\n### 2. Use `@SpringBootTest` instead of `@DataJpaTest`\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html","title":"@Size testing does not throw DataIntegrityViolationException","body":"<p>When using <code>@DataJpaTest</code>, every test is executed within a transaction (-&gt; <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html\" rel=\"nofollow noreferrer\">JavaDoc</a> for the annotation includes the <code>@Transactional</code> annotation). This means, that your data is never actually flushed to the DB unless you use the <code>.saveAndFlush</code> method or flush the changes diretly with the <code>EntityManager</code>. You have to options:</p>\n<h3>1. Use <code>.saveAndFlush</code></h3>\n<p>or</p>\n<h3>2. Use <code>@SpringBootTest</code> instead of <code>@DataJpaTest</code></h3>\n"}],"owner":{"account_id":25912139,"reputation":3,"user_id":19636161,"display_name":"Ernesto Orozco"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676298330,"creation_date":1676266413,"question_id":75432190,"body_markdown":"I am trying to test the @Size annotation on the following class, I expect the test to throw an Exception when a Topic with name lenght less than 3 is &quot;saved&quot; using the repository. The problem is that nothing is thrown. \r\n\r\nClass: \r\n\r\n    @Entity \r\n    @Builder \r\n    @Data \r\n    @AllArgsConstructor \r\n    @NoArgsConstructor\r\n    @Table(name = &quot;topic&quot;)\r\n    public class TopicEntity implements Serializable {\r\n        \r\n        @Id @GeneratedValue( strategy = GenerationType.IDENTITY )\r\n        private Long id;\r\n    \r\n        @Column( length=200, unique = true, nullable = false )\r\n        @Size(min = 3, max = 200, message \r\n          = &quot;Topic name must be between 3 and 200 characters&quot;)\r\n        @NotBlank\r\n        private String name;\r\n    \r\n        @Builder.Default\r\n        @OneToMany( mappedBy=&quot;theTopic&quot;, cascade = CascadeType.MERGE )\r\n        List&lt;QuestionEntity&gt; questions =  new ArrayList&lt;&gt;();\r\n    \r\n        @Builder.Default\r\n        @OneToMany( mappedBy=&quot;theTopic&quot;, cascade = CascadeType.MERGE )\r\n        List&lt;Source&gt; sources =  new ArrayList&lt;&gt;();\r\n    }\r\n\r\nTest,  it is actually in a Test Class file, per request of one of you guys I am including the full class code.. Looks like the @Size annotation has nothing to do with the Database Constraints, please let me know of some good practices for applying/testing this kind of Validations \r\n   \r\n\r\n       \r\n    \r\n    @DataJpaTest\r\n    public class TopicRepositoryTest {\r\n    \r\n    @Autowired\r\n    TopicRepository repository;\r\n    \r\n    TopicEntity topicA, topicB;\r\n    \r\n    @BeforeEach\r\n    public void setUp(){\r\n        topicA = TopicEntity.builder()\r\n            .name(&quot;Java&quot;)\r\n            .build();\r\n        \r\n        topicB = TopicEntity.builder()\r\n            .name(&quot;Java&quot;)\r\n            .build();\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n        @Test\r\n        void giventopicsWithSameName_whenSaveThem_thenThrowException(){\r\n            repository.save(topicA);\r\n    \r\n            assertThrows(DataIntegrityViolationException.class,\r\n                () -&gt; repository.save(topicB));\r\n    \r\n        }\r\n    \r\n        @Test\r\n        void givenNullTopicName_whenSaveTopic_thenThrowException(){\r\n            TopicEntity topic = TopicEntity.builder()\r\n                .build();\r\n            assertThrows(DataIntegrityViolationException.class,\r\n                () -&gt; repository.save(topic));\r\n    \r\n        }\r\n    \r\n         @Test\r\n        void givenShortTopicName_whenSaveTopic_thenThrowException(){\r\n            TopicEntity topic = TopicEntity.builder()\r\n                .name(&quot;&quot;)\r\n                .build();\r\n    \r\n            assertThrows(DataIntegrityViolationException.class,\r\n                () -&gt; repository.save(topic));\r\n    \r\n        }\r\n    }\r\n\r\nRepository: \r\n\r\n    package com.learning.javainterviewquestions.repositories;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import com.learning.javainterviewquestions.entities.TopicEntity;\r\n    \r\n    public interface TopicRepository extends  JpaRepository &lt; TopicEntity, Long &gt;{\r\n    \r\n        TopicEntity findByName(String topic);\r\n        \r\n    }\r\n\r\nPOM:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.learning&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;java-interview-questions&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;java-interview-questions&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n         &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.12.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"@Size testing does not throw DataIntegrityViolationException","body":"<p>I am trying to test the @Size annotation on the following class, I expect the test to throw an Exception when a Topic with name lenght less than 3 is &quot;saved&quot; using the repository. The problem is that nothing is thrown.</p>\n<p>Class:</p>\n<pre><code>@Entity \n@Builder \n@Data \n@AllArgsConstructor \n@NoArgsConstructor\n@Table(name = &quot;topic&quot;)\npublic class TopicEntity implements Serializable {\n    \n    @Id @GeneratedValue( strategy = GenerationType.IDENTITY )\n    private Long id;\n\n    @Column( length=200, unique = true, nullable = false )\n    @Size(min = 3, max = 200, message \n      = &quot;Topic name must be between 3 and 200 characters&quot;)\n    @NotBlank\n    private String name;\n\n    @Builder.Default\n    @OneToMany( mappedBy=&quot;theTopic&quot;, cascade = CascadeType.MERGE )\n    List&lt;QuestionEntity&gt; questions =  new ArrayList&lt;&gt;();\n\n    @Builder.Default\n    @OneToMany( mappedBy=&quot;theTopic&quot;, cascade = CascadeType.MERGE )\n    List&lt;Source&gt; sources =  new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Test,  it is actually in a Test Class file, per request of one of you guys I am including the full class code.. Looks like the @Size annotation has nothing to do with the Database Constraints, please let me know of some good practices for applying/testing this kind of Validations</p>\n<pre><code>@DataJpaTest\npublic class TopicRepositoryTest {\n\n@Autowired\nTopicRepository repository;\n\nTopicEntity topicA, topicB;\n\n@BeforeEach\npublic void setUp(){\n    topicA = TopicEntity.builder()\n        .name(&quot;Java&quot;)\n        .build();\n    \n    topicB = TopicEntity.builder()\n        .name(&quot;Java&quot;)\n        .build();\n\n}\n\n\n\n    @Test\n    void giventopicsWithSameName_whenSaveThem_thenThrowException(){\n        repository.save(topicA);\n\n        assertThrows(DataIntegrityViolationException.class,\n            () -&gt; repository.save(topicB));\n\n    }\n\n    @Test\n    void givenNullTopicName_whenSaveTopic_thenThrowException(){\n        TopicEntity topic = TopicEntity.builder()\n            .build();\n        assertThrows(DataIntegrityViolationException.class,\n            () -&gt; repository.save(topic));\n\n    }\n\n     @Test\n    void givenShortTopicName_whenSaveTopic_thenThrowException(){\n        TopicEntity topic = TopicEntity.builder()\n            .name(&quot;&quot;)\n            .build();\n\n        assertThrows(DataIntegrityViolationException.class,\n            () -&gt; repository.save(topic));\n\n    }\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>package com.learning.javainterviewquestions.repositories;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport com.learning.javainterviewquestions.entities.TopicEntity;\n\npublic interface TopicRepository extends  JpaRepository &lt; TopicEntity, Long &gt;{\n\n    TopicEntity findByName(String topic);\n    \n}\n</code></pre>\n<p>POM:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.learning&lt;/groupId&gt;\n    &lt;artifactId&gt;java-interview-questions&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;java-interview-questions&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n     &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.0.12.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring"],"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676297998,"creation_date":1676297998,"question_id":75437093,"body_markdown":"I have some webapp UI components that are currently generated in loops - a necessity because they are representing dynamic one-to-many associations. The hierarchy is 3 levels deep (tabs-&gt;tables-&gt;rows/columns). I&#39;m using spring&#39;s getBean(...) to generate them so that as the codebase is enhanced we can @Autowire service dependencies without changing constructors all the way up the hierarchy. \r\n\r\nThe code currently works like this...\r\n\r\n        class Tab {\r\n            public void postConstruct(){\r\n                for(int i=0;i&lt;count;i++) {\r\n                   context.getBean(Table.class);\r\n                }\r\n            }\r\n        }\r\n\r\n    class Table {\r\n        public void postConstruct(){\r\n                for(int i=0;i&lt;count;i++) {\r\n                   context.getBean(Column.class);\r\n                }\r\n            }\r\n    }\r\n\r\n    class Column {\r\n        public void postConstruct(){\r\n             ...\r\n        }\r\n    }\r\n\r\nI understand the calls to getBean() are frowned upon, and I also have concerns about the performance of getBean(), but Im not sure I have much choice here. There is almost certainly a performance impact, and I don&#39;t want to head down this road if it&#39;s going to be an issue.\r\n\r\nI&#39;m wondering if Im missing a better alternative that still uses spring, or should I revert to using constructors and manually pass all dependencies.\r\n","title":"Dynamic Spring getBean calls inside a loop, performance impact over new()","body":"<p>I have some webapp UI components that are currently generated in loops - a necessity because they are representing dynamic one-to-many associations. The hierarchy is 3 levels deep (tabs-&gt;tables-&gt;rows/columns). I'm using spring's getBean(...) to generate them so that as the codebase is enhanced we can @Autowire service dependencies without changing constructors all the way up the hierarchy.</p>\n<p>The code currently works like this...</p>\n<pre><code>    class Tab {\n        public void postConstruct(){\n            for(int i=0;i&lt;count;i++) {\n               context.getBean(Table.class);\n            }\n        }\n    }\n\nclass Table {\n    public void postConstruct(){\n            for(int i=0;i&lt;count;i++) {\n               context.getBean(Column.class);\n            }\n        }\n}\n\nclass Column {\n    public void postConstruct(){\n         ...\n    }\n}\n</code></pre>\n<p>I understand the calls to getBean() are frowned upon, and I also have concerns about the performance of getBean(), but Im not sure I have much choice here. There is almost certainly a performance impact, and I don't want to head down this road if it's going to be an issue.</p>\n<p>I'm wondering if Im missing a better alternative that still uses spring, or should I revert to using constructors and manually pass all dependencies.</p>\n"},{"tags":["java","glassfish","seedstack"],"comments":[{"owner":{"account_id":1283433,"reputation":331,"user_id":1236985,"accept_rate":0,"display_name":"sorab"},"score":0,"creation_date":1676912242,"post_id":75436675,"comment_id":133228454,"body_markdown":"The application is deployed on AWS cloud","body":"The application is deployed on AWS cloud"}],"owner":{"account_id":1283433,"reputation":331,"user_id":1236985,"accept_rate":0,"display_name":"sorab"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676297997,"creation_date":1676295730,"question_id":75436675,"body_markdown":"I have java application based on seedstack framework, it uses internally glassfish server.\r\nI generate a xls file and export it. If the file generation completes in 60 second, it works fine. If the file generation takes more than 60 sec it error out. How to resolve this issue ?  Is this related to  &#160;proxy_read_timeout ?  how to set this key to increase the time ? Thanks for help.\r\n\r\nLog \r\n `{ &quot;@timestamp&quot;: &quot;2023-02-10T05:35:31.671Z&quot;, &quot;@version&quot;: &quot;1&quot;, &quot;message&quot;: &quot;An I/O error has occurred while writing a response message entity to the container output stream.&quot;, &quot;logger_name&quot;: &quot;org.glassfish.jersey.server.ServerRuntime$Responder&quot;, &quot;thread_name&quot;: &quot;XNIO-1 task-4&quot;, &quot;level&quot;: &quot;ERROR&quot;, &quot;level_value&quot;: 40000, &quot;stack_trace&quot;: &quot;org.glassfish.jersey.server.internal.process.MappableException: java.io.IOException: Broken pipe\\n\\tat org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor.aroundWriteTo(MappableExceptionWrapperInterceptor.java:91)\\n\\tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:163)\\n\\tat org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1135)\\n\\tat`","title":"Configuration for glassfish server ( proxy_read_timeout )","body":"<p>I have java application based on seedstack framework, it uses internally glassfish server.\nI generate a xls file and export it. If the file generation completes in 60 second, it works fine. If the file generation takes more than 60 sec it error out. How to resolve this issue ?  Is this related to   proxy_read_timeout ?  how to set this key to increase the time ? Thanks for help.</p>\n<p>Log\n<code>{ &quot;@timestamp&quot;: &quot;2023-02-10T05:35:31.671Z&quot;, &quot;@version&quot;: &quot;1&quot;, &quot;message&quot;: &quot;An I/O error has occurred while writing a response message entity to the container output stream.&quot;, &quot;logger_name&quot;: &quot;org.glassfish.jersey.server.ServerRuntime$Responder&quot;, &quot;thread_name&quot;: &quot;XNIO-1 task-4&quot;, &quot;level&quot;: &quot;ERROR&quot;, &quot;level_value&quot;: 40000, &quot;stack_trace&quot;: &quot;org.glassfish.jersey.server.internal.process.MappableException: java.io.IOException: Broken pipe\\n\\tat org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor.aroundWriteTo(MappableExceptionWrapperInterceptor.java:91)\\n\\tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:163)\\n\\tat org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1135)\\n\\tat</code></p>\n"},{"tags":["java","spring-boot","cucumber","bdd","cucumber-spring"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1658764951,"post_id":73092281,"comment_id":129127374,"body_markdown":"The error mentions a `@CucumberContextConfiguration` annotation that I don&#39;t see in your code.","body":"The error mentions a <code>@CucumberContextConfiguration</code> annotation that I don&#39;t see in your code."}],"owner":{"account_id":6205834,"reputation":1451,"user_id":4833874,"accept_rate":50,"display_name":"Alok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676297746,"creation_date":1658592594,"question_id":73092281,"body_markdown":"I have integrated Cucumber with Spring Boot. \r\nWhen I run the **CucumberTestRunner** from the IntelliJ it is giving the following error.\r\n\r\n[![Error Screenshot for reference][1]][1]\r\n\r\nBelow is the screenshot of the relevant code.\r\n\r\n**SpringBootTest class:**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**CucumberTestRunner:**\r\n\r\n[![CucumberTestRunner Class][3]][3]\r\n\r\n**POM.xml:**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.alok&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;SampleProject&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;SampleProject&lt;/name&gt;\r\n    \t&lt;description&gt;Sample Project for Selenium&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.18.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.18.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.6.1&lt;/version&gt;\r\n    \t\t\t&lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Cucumber Dependencies - START --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.4.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.4.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.4.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.4.1&lt;/version&gt;\r\n    \t\t\t&lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.4.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.4.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.7.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Cucumber Dependencies - END --&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nI have already tried the solutions given [here][4] and [here][5] but it is not working for me.\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yE9Qs.png\r\n  [2]: https://i.stack.imgur.com/IUFb0.png\r\n  [3]: https://i.stack.imgur.com/uJUkr.png\r\n  [4]: https://stackoverflow.com/questions/69461291/cucumber-with-spring-config-doesnt-work-cant-run-tests-io-cucumber-core-backe\r\n  [5]: https://stackoverflow.com/questions/17491989/cucumber-options-annotation","title":"Error: io.cucumber.core.backend.CucumberBackendException: Please annotate a glue class with some context configuration","body":"<p>I have integrated Cucumber with Spring Boot.\nWhen I run the <strong>CucumberTestRunner</strong> from the IntelliJ it is giving the following error.</p>\n<p><a href=\"https://i.stack.imgur.com/yE9Qs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yE9Qs.png\" alt=\"Error Screenshot for reference\" /></a></p>\n<p>Below is the screenshot of the relevant code.</p>\n<p><strong>SpringBootTest class:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/IUFb0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IUFb0.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>CucumberTestRunner:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/uJUkr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uJUkr.png\" alt=\"CucumberTestRunner Class\" /></a></p>\n<p><strong>POM.xml:</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.alok&lt;/groupId&gt;\n    &lt;artifactId&gt;SampleProject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SampleProject&lt;/name&gt;\n    &lt;description&gt;Sample Project for Selenium&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.18.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.18.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.6.1&lt;/version&gt;\n            &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Cucumber Dependencies - START --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n            &lt;version&gt;7.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\n            &lt;version&gt;7.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;7.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;7.4.1&lt;/version&gt;\n            &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;7.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n            &lt;version&gt;7.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\n            &lt;version&gt;5.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Cucumber Dependencies - END --&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M7&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have already tried the solutions given <a href=\"https://stackoverflow.com/questions/69461291/cucumber-with-spring-config-doesnt-work-cant-run-tests-io-cucumber-core-backe\">here</a> and <a href=\"https://stackoverflow.com/questions/17491989/cucumber-options-annotation\">here</a> but it is not working for me.</p>\n<p>Thanks.</p>\n"},{"tags":["java","mapreduce","hadoop-yarn","hadoop-streaming","hadoop3"],"owner":{"account_id":27746880,"reputation":1,"user_id":21182190,"display_name":"Pranav Sheth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676297305,"creation_date":1675965778,"question_id":75402662,"body_markdown":"I am newbie and have setup Hadoop 3.3.4 on my laptop. I have performed the configurations like setting HADOOP_HOME in .bash_profile, changes to mapred-site.xml, yarn-site.xml, core-site.xml and hdfs-site.xml. I am able to start dfs and yarn and they are accessible via browser, but whenever I execute any program, I get below error.\r\n\r\n2023-02-09 23:15:59,864 INFO mapreduce.Job: Job job_1675964716435_0001 failed with state FAILED due to: Application application_1675964716435_0001 failed 2 times due to AM Container for appattempt_1675964716435_0001_000002 exited with  exitCode: 1\r\nFailing this attempt.Diagnostics: [2023-02-09 23:15:59.073]Exception from container-launch.\r\nContainer id: container_1675964716435_0001_02_000001\r\nExit code: 1\r\n\r\n[2023-02-09 23:15:59.077]Container exited with a non-zero exit code 1. Error file: prelaunch.err.\r\nLast 4096 bytes of prelaunch.err :\r\nLast 4096 bytes of stderr :\r\nError: Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster\r\nCaused by: java.lang.ClassNotFoundException: org.apache.hadoop.mapreduce.v2.app.MRAppMaster\r\n\r\nPlease check whether your &lt;HADOOP_HOME&gt;/etc/hadoop/mapred-site.xml contains the below configuration:\r\n```\r\n  &lt;property&gt;\r\n      &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\r\n      &lt;value&gt;HADOOP_MAPRED_HOME=${full path of your hadoop distribution directory}&lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n      &lt;name&gt;mapreduce.map.env&lt;/name&gt;\r\n      &lt;value&gt;HADOOP_MAPRED_HOME=${full path of your hadoop distribution directory}&lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n      &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\r\n      &lt;value&gt;HADOOP_MAPRED_HOME=${full path of your hadoop distribution directory}&lt;/value&gt;\r\n  &lt;/property&gt;\r\n```\r\n\r\n\r\nI have tried various options suggested by colleagues like setting the values in mapred-site.xml as below:\r\n```\r\n    &lt;property&gt;\r\n        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\r\n        &lt;value&gt;yarn&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n        &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\r\n        &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n        &lt;name&gt;mapreduce.map.env&lt;/name&gt;\r\n        &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n        &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\r\n        &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\r\n    &lt;/property&gt;\r\n```\r\nI have also tried to setup class path in yarn-site.xml as suggested in a different thread as:\r\n```\r\n    &lt;property&gt;\r\n        &lt;name&gt;yarn.application.classpath&lt;/name&gt;\r\n        &lt;value&gt;[Value generated by $(hadoop class path)]&lt;/value&gt;\r\n    &lt;/property&gt;\r\n```\r\nAfter setting individual options, I also stopped all daemon processes and started all but am unable to get through this problem.\r\n\r\nAppreciate any help/suggestions that can be given for this!","title":"Unable to run MapReduce program on Hadoop 3.3.4","body":"<p>I am newbie and have setup Hadoop 3.3.4 on my laptop. I have performed the configurations like setting HADOOP_HOME in .bash_profile, changes to mapred-site.xml, yarn-site.xml, core-site.xml and hdfs-site.xml. I am able to start dfs and yarn and they are accessible via browser, but whenever I execute any program, I get below error.</p>\n<p>2023-02-09 23:15:59,864 INFO mapreduce.Job: Job job_1675964716435_0001 failed with state FAILED due to: Application application_1675964716435_0001 failed 2 times due to AM Container for appattempt_1675964716435_0001_000002 exited with  exitCode: 1\nFailing this attempt.Diagnostics: [2023-02-09 23:15:59.073]Exception from container-launch.\nContainer id: container_1675964716435_0001_02_000001\nExit code: 1</p>\n<p>[2023-02-09 23:15:59.077]Container exited with a non-zero exit code 1. Error file: prelaunch.err.\nLast 4096 bytes of prelaunch.err :\nLast 4096 bytes of stderr :\nError: Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster\nCaused by: java.lang.ClassNotFoundException: org.apache.hadoop.mapreduce.v2.app.MRAppMaster</p>\n<p>Please check whether your &lt;HADOOP_HOME&gt;/etc/hadoop/mapred-site.xml contains the below configuration:</p>\n<pre><code>  &lt;property&gt;\n      &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\n      &lt;value&gt;HADOOP_MAPRED_HOME=${full path of your hadoop distribution directory}&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n      &lt;name&gt;mapreduce.map.env&lt;/name&gt;\n      &lt;value&gt;HADOOP_MAPRED_HOME=${full path of your hadoop distribution directory}&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n      &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\n      &lt;value&gt;HADOOP_MAPRED_HOME=${full path of your hadoop distribution directory}&lt;/value&gt;\n  &lt;/property&gt;\n</code></pre>\n<p>I have tried various options suggested by colleagues like setting the values in mapred-site.xml as below:</p>\n<pre><code>    &lt;property&gt;\n        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\n        &lt;value&gt;yarn&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\n        &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;mapreduce.map.env&lt;/name&gt;\n        &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\n        &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\n    &lt;/property&gt;\n</code></pre>\n<p>I have also tried to setup class path in yarn-site.xml as suggested in a different thread as:</p>\n<pre><code>    &lt;property&gt;\n        &lt;name&gt;yarn.application.classpath&lt;/name&gt;\n        &lt;value&gt;[Value generated by $(hadoop class path)]&lt;/value&gt;\n    &lt;/property&gt;\n</code></pre>\n<p>After setting individual options, I also stopped all daemon processes and started all but am unable to get through this problem.</p>\n<p>Appreciate any help/suggestions that can be given for this!</p>\n"},{"tags":["java","arrays","hashset"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1527588876,"post_id":50581707,"comment_id":88172609,"body_markdown":"It basically computes a hashmap whose key the element and the value the index of its duplicate. It then computes search for the min index in the hashmap.","body":"It basically computes a hashmap whose key the element and the value the index of its duplicate. It then computes search for the min index in the hashmap."},{"owner":{"account_id":12975459,"reputation":1665,"user_id":9379617,"display_name":"Ben"},"score":0,"creation_date":1527588915,"post_id":50581707,"comment_id":88172632,"body_markdown":"`Set.add` will return `false` if the set already contains the object you want to add. So by checking if the return value is `false` you can check if the object was already in the set. If it was not in the set yet (and is the second occurence, not a later one) you save it&#39;s position in a map. This results in a map with all duplicates and their first occurence. Nwo you simply see which one was the first double and you are done. You could greatly shorten this code with some stream logic though to be honest or by just returning on the first false as this is obviously the earliest duplicate...","body":"<code>Set.add</code> will return <code>false</code> if the set already contains the object you want to add. So by checking if the return value is <code>false</code> you can check if the object was already in the set. If it was not in the set yet (and is the second occurence, not a later one) you save it&#39;s position in a map. This results in a map with all duplicates and their first occurence. Nwo you simply see which one was the first double and you are done. You could greatly shorten this code with some stream logic though to be honest or by just returning on the first false as this is obviously the earliest duplicate..."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1527590049,"creation_date":1527588797,"answer_id":50581778,"question_id":50581707,"body_markdown":"The reason your first attempt failed is that you add the array elements as keys to the `Map` without checking if they are already there, which means you can&#39;t know if there are any duplicates by the time you finish populating the `Map`.\r\n\r\nThe alternative code you found does something different. It uses the `Set` to determine if the current array element already appeared earlier in the array, and if that&#39;s the case, it adds it as key to the `Map` only if it&#39;s not already there. This means that the `Map` will only contain elements that appear multiple times in the array, and the index associated with each element is the occurrence of the first duplicate. I.e. for the array `{2, 1, 3, 5, 3, 2}`, the `Map` will contain `{2=5, 3=4}`. Then it will return the key having the smallest value (which corresponds with the index of the first duplicate).\r\n\r\nHowever, the `Map` is unnecessary, since you only need to find one duplicate, not all of them. Use the `Set` to locate the first duplicate and return it:\r\n\r\n    int firstDuplicate(int[] a) \r\n    {\r\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n        for(int i=0;i&lt;a.length;i++){\r\n            if(!set.add(a[i])) {\r\n                return a[i];\r\n            }\r\n        }\r\n        return -1; // no duplicates found \r\n    }\r\n\r\nThis relies on `set.add()` returning `false` if the `Set` already contains the element you wish to add. Once it returns `false` for the first time, you found the first duplicate.","title":"find the first duplicate element in an array having the minimal index","body":"<p>The reason your first attempt failed is that you add the array elements as keys to the <code>Map</code> without checking if they are already there, which means you can't know if there are any duplicates by the time you finish populating the <code>Map</code>.</p>\n\n<p>The alternative code you found does something different. It uses the <code>Set</code> to determine if the current array element already appeared earlier in the array, and if that's the case, it adds it as key to the <code>Map</code> only if it's not already there. This means that the <code>Map</code> will only contain elements that appear multiple times in the array, and the index associated with each element is the occurrence of the first duplicate. I.e. for the array <code>{2, 1, 3, 5, 3, 2}</code>, the <code>Map</code> will contain <code>{2=5, 3=4}</code>. Then it will return the key having the smallest value (which corresponds with the index of the first duplicate).</p>\n\n<p>However, the <code>Map</code> is unnecessary, since you only need to find one duplicate, not all of them. Use the <code>Set</code> to locate the first duplicate and return it:</p>\n\n<pre><code>int firstDuplicate(int[] a) \n{\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n    for(int i=0;i&lt;a.length;i++){\n        if(!set.add(a[i])) {\n            return a[i];\n        }\n    }\n    return -1; // no duplicates found \n}\n</code></pre>\n\n<p>This relies on <code>set.add()</code> returning <code>false</code> if the <code>Set</code> already contains the element you wish to add. Once it returns <code>false</code> for the first time, you found the first duplicate.</p>\n"},{"tags":[],"owner":{"account_id":7526858,"reputation":339,"user_id":5716701,"display_name":"Arnauld Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527590338,"creation_date":1527590338,"answer_id":50582292,"question_id":50581707,"body_markdown":"You can use java 8 with lambda and stream. \r\n\r\nHere is the code in one line :\r\n\r\n    Set&lt;Integer&gt; allItems = new HashSet&lt;&gt;();\r\n    Arrays.stream(a).filter(i -&gt; !allItems.add(i)).findFirst().orElse(-1)\r\n\r\nit returns what you expect","title":"find the first duplicate element in an array having the minimal index","body":"<p>You can use java 8 with lambda and stream. </p>\n\n<p>Here is the code in one line :</p>\n\n<pre><code>Set&lt;Integer&gt; allItems = new HashSet&lt;&gt;();\nArrays.stream(a).filter(i -&gt; !allItems.add(i)).findFirst().orElse(-1)\n</code></pre>\n\n<p>it returns what you expect</p>\n"},{"tags":[],"owner":{"account_id":12530868,"reputation":23,"user_id":9119192,"display_name":"MichaelB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534349348,"creation_date":1534349348,"answer_id":51862379,"question_id":50581707,"body_markdown":"There are two ways to implement this problem, by using a HashSet with time complexity o(n) and by using nested loops o(n2)\r\n\r\n    for(int i = 0; i &lt; a.length; i++){\r\n        for(int j = i +1; j &lt; a.length; j++){\r\n               if(a[i] == a[j]){\r\n                       System.out.println(a[i]);\r\n                       return;\r\n               }\r\n         }\r\n     }\r\n\r\nOr you can make it more efficient time complexity O(n)\r\n\r\n    int index -1;\r\n    Set&lt;Integer&gt; hashSet = new HashSet&lt;Integer&gt;();\r\n    for(int i = a.length-1; i &gt;= 0; i--){\r\n         if(hashSet.contains(a[i])){\r\n               index = i;\r\n         }else{\r\n               hashSet.add(a[i]);\r\n         }\r\n    }\r\n     System.out.println(a[index]);\r\n\r\n","title":"find the first duplicate element in an array having the minimal index","body":"<p>There are two ways to implement this problem, by using a HashSet with time complexity o(n) and by using nested loops o(n2)</p>\n\n<pre><code>for(int i = 0; i &lt; a.length; i++){\n    for(int j = i +1; j &lt; a.length; j++){\n           if(a[i] == a[j]){\n                   System.out.println(a[i]);\n                   return;\n           }\n     }\n }\n</code></pre>\n\n<p>Or you can make it more efficient time complexity O(n)</p>\n\n<pre><code>int index -1;\nSet&lt;Integer&gt; hashSet = new HashSet&lt;Integer&gt;();\nfor(int i = a.length-1; i &gt;= 0; i--){\n     if(hashSet.contains(a[i])){\n           index = i;\n     }else{\n           hashSet.add(a[i]);\n     }\n}\n System.out.println(a[index]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16324564,"reputation":61,"user_id":11789447,"display_name":"Ms_Sri"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1563287452,"creation_date":1563287452,"answer_id":57059676,"question_id":50581707,"body_markdown":"I would strongly recommend you to try this to get the correct results\r\n\r\nyou can make it more efficient time complexity O(n)\r\n    \r\n\r\n    int firstDuplicate(int[] a){\r\n    int n = a.length;\r\n    for(int i=0; i&lt;n; i++)\r\n    {\r\n       if(a[Math.abs(a[i])-1]&lt;0) return Math.abs(a[i]);\r\n       else a[Math.abs(a[i])-1] = - a[Math.abs(a[i])-1];\r\n    }\r\n    return -1;\r\n    }\r\n","title":"find the first duplicate element in an array having the minimal index","body":"<p>I would strongly recommend you to try this to get the correct results</p>\n\n<p>you can make it more efficient time complexity O(n)</p>\n\n<pre><code>int firstDuplicate(int[] a){\nint n = a.length;\nfor(int i=0; i&lt;n; i++)\n{\n   if(a[Math.abs(a[i])-1]&lt;0) return Math.abs(a[i]);\n   else a[Math.abs(a[i])-1] = - a[Math.abs(a[i])-1];\n}\nreturn -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15049011,"reputation":11,"user_id":10861202,"display_name":"Adedamola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588400067,"creation_date":1588398644,"answer_id":61555071,"question_id":50581707,"body_markdown":"    int firstDuplicate(int[] a)\r\n        {\r\n            int DupIndex = 0;\r\n            int DupValue = 0;\r\n            for (int i = 0; i &lt; a.Length; i++)\r\n            {\r\n                for (int j = i + 1; j &lt; a.Length; j++)\r\n                {\r\n                    if (a[i] == a[j])\r\n                   {\r\n                        if (j &lt; DupIndex)\r\n                        {\r\n                            DupIndex = j;\r\n                            DupValue = a[i];\r\n                        }\r\n                        else if (DupIndex == 0)\r\n                        {\r\n                            DupIndex = j;\r\n                            DupValue = a[i];\r\n                        }\r\n                    }\r\n                };\r\n            };\r\n            return (DupValue == 0) ? -1 : DupValue;\r\n        }","title":"find the first duplicate element in an array having the minimal index","body":"<pre><code>int firstDuplicate(int[] a)\n    {\n        int DupIndex = 0;\n        int DupValue = 0;\n        for (int i = 0; i &lt; a.Length; i++)\n        {\n            for (int j = i + 1; j &lt; a.Length; j++)\n            {\n                if (a[i] == a[j])\n               {\n                    if (j &lt; DupIndex)\n                    {\n                        DupIndex = j;\n                        DupValue = a[i];\n                    }\n                    else if (DupIndex == 0)\n                    {\n                        DupIndex = j;\n                        DupValue = a[i];\n                    }\n                }\n            };\n        };\n        return (DupValue == 0) ? -1 : DupValue;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16633591,"reputation":16,"user_id":12020867,"display_name":"Suvit Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622835311,"creation_date":1622835311,"answer_id":67843063,"question_id":50581707,"body_markdown":"\r\n    public static void main(String[] args){\r\n        int array[]={2, 1, 3, 5, 3, 2};\r\n        int tempArray[]=new int[array.length];\r\n        int index=0;\r\n        while(index&lt; array.length){\r\n            if(++(tempArray[array[index]])==2) \r\n                break;\r\n            index++;\r\n        }\r\n        if(index&gt; array.length){\r\n            System.out.println(&quot;No Duplicate&quot;);\r\n        }else {\r\n            System.out.println(&quot;First Duplicate &quot; + array[index]);\r\n        }\r\n    }\r\nUse counting sort, sweet and simple :)","title":"find the first duplicate element in an array having the minimal index","body":"<pre><code>public static void main(String[] args){\n    int array[]={2, 1, 3, 5, 3, 2};\n    int tempArray[]=new int[array.length];\n    int index=0;\n    while(index&lt; array.length){\n        if(++(tempArray[array[index]])==2) \n            break;\n        index++;\n    }\n    if(index&gt; array.length){\n        System.out.println(&quot;No Duplicate&quot;);\n    }else {\n        System.out.println(&quot;First Duplicate &quot; + array[index]);\n    }\n}\n</code></pre>\n<p>Use counting sort, sweet and simple :)</p>\n"},{"tags":[],"owner":{"account_id":20265056,"reputation":11,"user_id":14862464,"display_name":"HighDeFing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625016966,"creation_date":1625016966,"answer_id":68187498,"question_id":50581707,"body_markdown":"```Java\r\nint firstDuplicate(int[] a){\r\nint n = a.length;\r\nfor(int i=0; i&lt;n; i++)\r\n   {\r\n    if(a[Math.abs(a[i])-1]&lt;0) return Math.abs(a[i]);\r\n    else a[Math.abs(a[i])-1] = - a[Math.abs(a[i])-1];\r\n   }\r\nreturn -1;\r\n}\r\n```\r\n\r\nI will explain why and how this one works.\r\nIt&#39;s important that this constrain: `1 ≤ a[i] ≤ a.length` is present, meaning that in an array like this: `a = [2,8,2]` this algorithm **WILL NOT work** because **8** is **bigger** than `a.length` in this case **3**. \r\n\r\nYou&#39;ll find the explanation [here][1] as well:\r\n\r\n## Hashmap\r\n\r\nThis solution follows the idea of a hashmap. Another structure where you count `hash[arr[i]-1]++` the number of occurrences for any given index `i` in the array. Example:\r\n\r\nIf you have `arr[2,1,3,5,3,2]` hashmap will begin in an 6 zero array: `hashmap[0,0,0,0,0,0]` because that&#39;s the size of `arr`. As the algorithm progress it will sum `+1` in the position `arr[i]-1`. It&#39;s using the value as the index of the sum. At then end you get: `arr[1,2,2,0,1,0]`.\r\n\r\nThis has ***O(n)*** in time complexity because it runs the full arr, and ***O(n)*** in time because it runs the array at least 1 time.\r\n\r\n## Without Hashmap\r\n\r\nThe idea of the algorithm above is that you don&#39;t need the extra structure of a hashmap but can use the same array to count the frequency. This might lead to a problem. Let `i-th` element be `a` or (`arr[i]=a`) then the count should be stored at `arr[arr[i]-1]` or (`arr[a-1]`), but when the frequency will be stored the element will be lost.\r\n\r\nExample iteration:  \r\n1. `a[2,1,3,5,3,2]` -&gt; `a[2,1,3,5,3,2]`\r\n2. `a[2,1,3,5,3,2]` -&gt; `a[1,1,3,5,3,2]`\r\n3. `a[1,1,3,5,3,2]` -&gt; `a[1,1,1,5,3,2]`\r\n4. `a[1,1,1,5,3,2]` -&gt; `a[1,1,1,5`**`,1`**,`2]` As you can see we lost the value of `3` when we read `5` as it stored the frequency in `arr[arr[4]-1]` or (`arr[5-1]`).\r\n\r\n#### Solve the missing problem\r\n\r\nTo solve this problem first we put replace the i-th element with `arr[arr[i]-1]` or (`arr[a-1]`) then put `-1` at array `arr[arr[i]-1]` or (`arr[a-1]`). \r\nThe algorithm:\r\n1. Traverse the array from start to end.\r\n2. For each element check if the element is less than or equal to zero or not. If negative or zero skip the element as it is frequency.\r\n3. If an element (`a = arr[i] – 1`) is positive, then check if `arr[a]` is positive or not. If positive then that means it is the first occurrence of `a` in the array and replace `arr[i]` with `arr[a]`, and assign `arr[a] = -1`. If `arr[a]` is negative, then it is not the first occurrence, then update `arr[a]` as `arr[a]--` and update `arr[i]` as `arr[i] = 0`. You use an auxiliary value to save arr[a] that will be used in the next iteration.\r\n4. Again, traverse the array and print `i+1` as value and `arr[i]` as frequency.\r\n\r\nExample iteration: \r\n1. `a[2,1,3,5,3,2]` -&gt; `a[1,1,3,5,3,2]` -&gt; `a[1,-1,3,5,3,2]`\r\n2. `a[1,-1,3,5,3,2]` -&gt; `a[1,-1,3,5,3,2]` -&gt; `a[1,-1,-1,5,3,2]`\r\n3. `a[1,-1,-1,5,3,2]` -&gt; `a[1,-1,-1,0,3,2]`\r\n4. `a[1,-1,-1,0,3,2]` -&gt; `a[1,-1,-1,0,-1,2]` -&gt; `a[1,-1,-2,0,-1,2]`\r\n5. `a[1,-1,-2,0,-1,2]` -&gt; `a[1,-1,-2,0,-1,0]`\r\n6. `a[1,-1,-2,0,-1,0]` -&gt; `a[1,-2,-2,0,-1,0]`\r\n\r\n## firstDuplicate\r\n\r\nAfter knowing this we can now grasp how `firstDuplicate` works. The idea is not to count the frequency but instead just print the `index` that has already a negative in frequency. When we get a negative frequency we return.\r\nSo running the algorithm we get:\r\n\r\n1. With `if(a[2-1]&lt;0)` or `if(1&lt;0)` this comparation is between `arr[arr[0]-1]` or (`arr[1]`) and `0` so we don&#39;t return. `a[2,1,3,5,3,2]` -&gt; `a[2,-1,3,5,3,2]`\r\n2. With `if(a[1-1]&lt;0)` or `if(2&lt;0)` we don&#39;t return `a[2,-1,3,5,3,2]` -&gt; `a[-1,-1,3,5,3,2]`.\r\n3. With `if(a[3-1]&lt;0)` or `if(3&lt;0)` we don&#39;t return. `a[-1,-1,3,5,3,2]` -&gt; `a[-2,-1,-3,5,3,2]` \r\n4. With `if(a[5-1]&lt;0)` or `if(3&lt;0)` we don&#39;t return. `a[-2,-1,-3,5,3,2]` -&gt; `a[-2,-1,-3,5,-3,2]`\r\n5. With `if(a[3-1]&lt;0)` or `if(-3&lt;0)` we return.\r\n\r\n**All of this is based on the idea that `element-1` is the index.**\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/count-frequencies-elements-array-o1-extra-space-time/","title":"find the first duplicate element in an array having the minimal index","body":"<pre><code>int firstDuplicate(int[] a){\nint n = a.length;\nfor(int i=0; i&lt;n; i++)\n   {\n    if(a[Math.abs(a[i])-1]&lt;0) return Math.abs(a[i]);\n    else a[Math.abs(a[i])-1] = - a[Math.abs(a[i])-1];\n   }\nreturn -1;\n}\n</code></pre>\n<p>I will explain why and how this one works.\nIt's important that this constrain: <code>1 ≤ a[i] ≤ a.length</code> is present, meaning that in an array like this: <code>a = [2,8,2]</code> this algorithm <strong>WILL NOT work</strong> because <strong>8</strong> is <strong>bigger</strong> than <code>a.length</code> in this case <strong>3</strong>.</p>\n<p>You'll find the explanation <a href=\"https://www.geeksforgeeks.org/count-frequencies-elements-array-o1-extra-space-time/\" rel=\"nofollow noreferrer\">here</a> as well:</p>\n<h2>Hashmap</h2>\n<p>This solution follows the idea of a hashmap. Another structure where you count <code>hash[arr[i]-1]++</code> the number of occurrences for any given index <code>i</code> in the array. Example:</p>\n<p>If you have <code>arr[2,1,3,5,3,2]</code> hashmap will begin in an 6 zero array: <code>hashmap[0,0,0,0,0,0]</code> because that's the size of <code>arr</code>. As the algorithm progress it will sum <code>+1</code> in the position <code>arr[i]-1</code>. It's using the value as the index of the sum. At then end you get: <code>arr[1,2,2,0,1,0]</code>.</p>\n<p>This has <em><strong>O(n)</strong></em> in time complexity because it runs the full arr, and <em><strong>O(n)</strong></em> in time because it runs the array at least 1 time.</p>\n<h2>Without Hashmap</h2>\n<p>The idea of the algorithm above is that you don't need the extra structure of a hashmap but can use the same array to count the frequency. This might lead to a problem. Let <code>i-th</code> element be <code>a</code> or (<code>arr[i]=a</code>) then the count should be stored at <code>arr[arr[i]-1]</code> or (<code>arr[a-1]</code>), but when the frequency will be stored the element will be lost.</p>\n<p>Example iteration:</p>\n<ol>\n<li><code>a[2,1,3,5,3,2]</code> -&gt; <code>a[2,1,3,5,3,2]</code></li>\n<li><code>a[2,1,3,5,3,2]</code> -&gt; <code>a[1,1,3,5,3,2]</code></li>\n<li><code>a[1,1,3,5,3,2]</code> -&gt; <code>a[1,1,1,5,3,2]</code></li>\n<li><code>a[1,1,1,5,3,2]</code> -&gt; <code>a[1,1,1,5</code><strong><code>,1</code></strong>,<code>2]</code> As you can see we lost the value of <code>3</code> when we read <code>5</code> as it stored the frequency in <code>arr[arr[4]-1]</code> or (<code>arr[5-1]</code>).</li>\n</ol>\n<h4>Solve the missing problem</h4>\n<p>To solve this problem first we put replace the i-th element with <code>arr[arr[i]-1]</code> or (<code>arr[a-1]</code>) then put <code>-1</code> at array <code>arr[arr[i]-1]</code> or (<code>arr[a-1]</code>).\nThe algorithm:</p>\n<ol>\n<li>Traverse the array from start to end.</li>\n<li>For each element check if the element is less than or equal to zero or not. If negative or zero skip the element as it is frequency.</li>\n<li>If an element (<code>a = arr[i] – 1</code>) is positive, then check if <code>arr[a]</code> is positive or not. If positive then that means it is the first occurrence of <code>a</code> in the array and replace <code>arr[i]</code> with <code>arr[a]</code>, and assign <code>arr[a] = -1</code>. If <code>arr[a]</code> is negative, then it is not the first occurrence, then update <code>arr[a]</code> as <code>arr[a]--</code> and update <code>arr[i]</code> as <code>arr[i] = 0</code>. You use an auxiliary value to save arr[a] that will be used in the next iteration.</li>\n<li>Again, traverse the array and print <code>i+1</code> as value and <code>arr[i]</code> as frequency.</li>\n</ol>\n<p>Example iteration:</p>\n<ol>\n<li><code>a[2,1,3,5,3,2]</code> -&gt; <code>a[1,1,3,5,3,2]</code> -&gt; <code>a[1,-1,3,5,3,2]</code></li>\n<li><code>a[1,-1,3,5,3,2]</code> -&gt; <code>a[1,-1,3,5,3,2]</code> -&gt; <code>a[1,-1,-1,5,3,2]</code></li>\n<li><code>a[1,-1,-1,5,3,2]</code> -&gt; <code>a[1,-1,-1,0,3,2]</code></li>\n<li><code>a[1,-1,-1,0,3,2]</code> -&gt; <code>a[1,-1,-1,0,-1,2]</code> -&gt; <code>a[1,-1,-2,0,-1,2]</code></li>\n<li><code>a[1,-1,-2,0,-1,2]</code> -&gt; <code>a[1,-1,-2,0,-1,0]</code></li>\n<li><code>a[1,-1,-2,0,-1,0]</code> -&gt; <code>a[1,-2,-2,0,-1,0]</code></li>\n</ol>\n<h2>firstDuplicate</h2>\n<p>After knowing this we can now grasp how <code>firstDuplicate</code> works. The idea is not to count the frequency but instead just print the <code>index</code> that has already a negative in frequency. When we get a negative frequency we return.\nSo running the algorithm we get:</p>\n<ol>\n<li>With <code>if(a[2-1]&lt;0)</code> or <code>if(1&lt;0)</code> this comparation is between <code>arr[arr[0]-1]</code> or (<code>arr[1]</code>) and <code>0</code> so we don't return. <code>a[2,1,3,5,3,2]</code> -&gt; <code>a[2,-1,3,5,3,2]</code></li>\n<li>With <code>if(a[1-1]&lt;0)</code> or <code>if(2&lt;0)</code> we don't return <code>a[2,-1,3,5,3,2]</code> -&gt; <code>a[-1,-1,3,5,3,2]</code>.</li>\n<li>With <code>if(a[3-1]&lt;0)</code> or <code>if(3&lt;0)</code> we don't return. <code>a[-1,-1,3,5,3,2]</code> -&gt; <code>a[-2,-1,-3,5,3,2]</code></li>\n<li>With <code>if(a[5-1]&lt;0)</code> or <code>if(3&lt;0)</code> we don't return. <code>a[-2,-1,-3,5,3,2]</code> -&gt; <code>a[-2,-1,-3,5,-3,2]</code></li>\n<li>With <code>if(a[3-1]&lt;0)</code> or <code>if(-3&lt;0)</code> we return.</li>\n</ol>\n<p><strong>All of this is based on the idea that <code>element-1</code> is the index.</strong></p>\n"},{"tags":[],"owner":{"account_id":8496926,"reputation":3,"user_id":6371249,"display_name":"Shahid Nauman"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1652881216,"creation_date":1652881216,"answer_id":72290306,"question_id":50581707,"body_markdown":"**Solution in Javascript**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function solution(a) {\r\n        let i = -1;\r\n        while (++i &lt; a.length)\r\n            if (a.indexOf(a[i]) !== i)\r\n                return a[i];\r\n\r\n        return -1;\r\n    }\r\n\r\n    console.log(solution([2, 1, 3, 5, 3, 2])); // 3\r\n    console.log(solution([2, 2])); // 2\r\n    console.log(solution([2, 4, 3, 5, 1])); // -1\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"find the first duplicate element in an array having the minimal index","body":"<p><strong>Solution in Javascript</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function solution(a) {\n    let i = -1;\n    while (++i &lt; a.length)\n        if (a.indexOf(a[i]) !== i)\n            return a[i];\n\n    return -1;\n}\n\nconsole.log(solution([2, 1, 3, 5, 3, 2])); // 3\nconsole.log(solution([2, 2])); // 2\nconsole.log(solution([2, 4, 3, 5, 1])); // -1</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":25883689,"reputation":1,"user_id":19612248,"display_name":"Somdip Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658678234,"creation_date":1658678139,"answer_id":73099917,"question_id":50581707,"body_markdown":"    Java implementation \r\n    Time complexity O(n) -- Linear\r\n    Space Complexity O(n) -- Linear\r\n    \r\n    //Approach\r\n    //run a loop and try to insert it into a map.\r\n    //check if map contains key for arr[nextValue]\r\n    //if contains key, break loop and return value.\r\n    //if not, keep on adding in the map.\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class ReturnFirstRecurringCharacter {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint[] arr1 = {2,5,5,2};\r\n    \t\tInteger recurringNumber = checkForRecurringNumber(arr1);\r\n    \t\tif (recurringNumber != null) {\r\n    \t\t\tSystem.out.println(recurringNumber);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Undefined&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static Integer checkForRecurringNumber(int[] arr1) {\r\n    \t\ttry {\r\n    \t\t\tif (arr1 != null) {\r\n    \t\t\t\tMap&lt;Integer, Integer&gt; dataMap = new HashMap&lt;&gt;();\r\n    \t\t\t\tfor (int i = 0; i &lt; arr1.length; i++) {\r\n    \t\t\t\t\tif (dataMap.containsKey(arr1[i])) {\r\n    \t\t\t\t\t\treturn arr1[i];\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tdataMap.put(arr1[i], i);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t\te.getStackTrace();\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    }","title":"find the first duplicate element in an array having the minimal index","body":"<pre><code>Java implementation \nTime complexity O(n) -- Linear\nSpace Complexity O(n) -- Linear\n\n//Approach\n//run a loop and try to insert it into a map.\n//check if map contains key for arr[nextValue]\n//if contains key, break loop and return value.\n//if not, keep on adding in the map.\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class ReturnFirstRecurringCharacter {\n\n    public static void main(String[] args) {\n        int[] arr1 = {2,5,5,2};\n        Integer recurringNumber = checkForRecurringNumber(arr1);\n        if (recurringNumber != null) {\n            System.out.println(recurringNumber);\n        } else {\n            System.out.println(&quot;Undefined&quot;);\n        }\n    }\n\n    private static Integer checkForRecurringNumber(int[] arr1) {\n        try {\n            if (arr1 != null) {\n                Map&lt;Integer, Integer&gt; dataMap = new HashMap&lt;&gt;();\n                for (int i = 0; i &lt; arr1.length; i++) {\n                    if (dataMap.containsKey(arr1[i])) {\n                        return arr1[i];\n                    }\n                    dataMap.put(arr1[i], i);\n                }\n            }\n        } catch (Exception e) {\n            System.out.println(e);\n            e.getStackTrace();\n        }\n        return null;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5965021,"reputation":86,"user_id":4688994,"display_name":"Shivam Latawa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676297088,"creation_date":1676297088,"answer_id":75436910,"question_id":50581707,"body_markdown":"JS solution:\r\n\r\nfunction solution(a) {\r\n    \r\n    const map = {};\r\n    \r\n    for(let i=0; i&lt;a.length; i++) {\r\n        if(map[a[i]]) {\r\n            if(map[a[i]][0] === 1) {\r\n            map[a[i]][0]++&#160;;\r\n            map[a[i]][1] = i;\r\n            }\r\n        } else {\r\n            map[a[i]] = [1, i];\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    const data = Object.keys(map).filter(key =&gt; map[key][0] == 2).map(el =&gt; parseInt(el));\r\n    \r\n    \r\n    let smallest = Infinity;\r\n    let smallestData = -1;\r\n    for(let i=0; i&lt;data.length; i++) {\r\n        if(map[data[i]][1] &lt; smallest) {\r\n            smallest = map[data[i]][1];\r\n            smallestData = data[i];\r\n        }\r\n    }\r\n        \r\n    return smallestData;\r\n}\r\n","title":"find the first duplicate element in an array having the minimal index","body":"<p>JS solution:</p>\n<p>function solution(a) {</p>\n<pre><code>const map = {};\n\nfor(let i=0; i&lt;a.length; i++) {\n    if(map[a[i]]) {\n        if(map[a[i]][0] === 1) {\n        map[a[i]][0]++ ;\n        map[a[i]][1] = i;\n        }\n    } else {\n        map[a[i]] = [1, i];\n    }\n}\n\n\n\nconst data = Object.keys(map).filter(key =&gt; map[key][0] == 2).map(el =&gt; parseInt(el));\n\n\nlet smallest = Infinity;\nlet smallestData = -1;\nfor(let i=0; i&lt;data.length; i++) {\n    if(map[data[i]][1] &lt; smallest) {\n        smallest = map[data[i]][1];\n        smallestData = data[i];\n    }\n}\n    \nreturn smallestData;\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":8148408,"reputation":155,"user_id":6136336,"accept_rate":43,"display_name":"ra_pri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17088,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50581778,"answer_count":10,"score":1,"last_activity_date":1676297088,"creation_date":1527588575,"question_id":50581707,"body_markdown":"I have an array containing some duplicate elements like this :\r\n\r\nfind the first duplicate number for which the second occurrence has the minimal index. In other words, if there are more than 1 duplicated numbers, return the number for which the second occurrence has a smaller index than the second occurrence of the other number does. If there are no such elements, return -1\r\n\r\nFor a = [2, 1, 3, 5, 3, 2], the output should be\r\nfirstDuplicate(a) = 3.\r\n\r\nThere are 2 duplicates: numbers 2 and 3. The second occurrence of 3 has a smaller index than the second occurrence of 2 does, so the answer is 3.\r\n\r\nI tried this :\r\n\r\n    int firstDuplicate(int[] a) {\r\n      Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n      Map&lt;Integer, Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\r\n      Map.Entry&lt;Integer, Integer&gt; min = null;\r\n      for(int i=0;i&lt;a.length;i++){\r\n           // if(!hm.containsKey(a[i]))\r\n                  hm.put(a[i],i);\r\n      }\r\n      for(Map.Entry&lt;Integer,Integer&gt; entry : hm.entrySet()){\r\n            if(min == null || entry.getValue() &lt; min.getValue()){\r\n                  min = entry;\r\n            }\r\n      }\r\n      return min == null ? new Integer(-1) : min.getKey();\r\n}\r\n\r\nIt&#39;s not working out, but I got another solution online which is like this :\r\n\r\n    int firstDuplicate(int[] a) {\r\n      Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n      Map&lt;Integer, Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\r\n      Map.Entry&lt;Integer, Integer&gt; min = null;\r\n      for(int i=0;i&lt;a.length;i++){\r\n            if(set.add(a[i])==false &amp;&amp; !hm.containsKey(a[i]))\r\n                  hm.put(a[i],i);\r\n      }\r\n      for(Map.Entry&lt;Integer,Integer&gt; entry : hm.entrySet()){\r\n            if(min == null || entry.getValue() &lt; min.getValue()){\r\n                  min = entry;\r\n            }\r\n      }\r\n      return min == null ? new Integer(-1) : min.getKey();\r\n}\r\n\r\n\r\n    \r\nCan anyone please explain me the use of Hashset here, as it doesn&#39;t allow the duplicates so how that if condition will be workable. ","title":"find the first duplicate element in an array having the minimal index","body":"<p>I have an array containing some duplicate elements like this :</p>\n\n<p>find the first duplicate number for which the second occurrence has the minimal index. In other words, if there are more than 1 duplicated numbers, return the number for which the second occurrence has a smaller index than the second occurrence of the other number does. If there are no such elements, return -1</p>\n\n<p>For a = [2, 1, 3, 5, 3, 2], the output should be\nfirstDuplicate(a) = 3.</p>\n\n<p>There are 2 duplicates: numbers 2 and 3. The second occurrence of 3 has a smaller index than the second occurrence of 2 does, so the answer is 3.</p>\n\n<p>I tried this :</p>\n\n<pre><code>int firstDuplicate(int[] a) {\n  Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n  Map&lt;Integer, Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\n  Map.Entry&lt;Integer, Integer&gt; min = null;\n  for(int i=0;i&lt;a.length;i++){\n       // if(!hm.containsKey(a[i]))\n              hm.put(a[i],i);\n  }\n  for(Map.Entry&lt;Integer,Integer&gt; entry : hm.entrySet()){\n        if(min == null || entry.getValue() &lt; min.getValue()){\n              min = entry;\n        }\n  }\n  return min == null ? new Integer(-1) : min.getKey();\n</code></pre>\n\n<p>}</p>\n\n<p>It's not working out, but I got another solution online which is like this :</p>\n\n<pre><code>int firstDuplicate(int[] a) {\n  Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n  Map&lt;Integer, Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\n  Map.Entry&lt;Integer, Integer&gt; min = null;\n  for(int i=0;i&lt;a.length;i++){\n        if(set.add(a[i])==false &amp;&amp; !hm.containsKey(a[i]))\n              hm.put(a[i],i);\n  }\n  for(Map.Entry&lt;Integer,Integer&gt; entry : hm.entrySet()){\n        if(min == null || entry.getValue() &lt; min.getValue()){\n              min = entry;\n        }\n  }\n  return min == null ? new Integer(-1) : min.getKey();\n</code></pre>\n\n<p>}</p>\n\n<p>Can anyone please explain me the use of Hashset here, as it doesn't allow the duplicates so how that if condition will be workable. </p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":1,"creation_date":1676136927,"post_id":75422020,"comment_id":133078860,"body_markdown":"So do you get an error when you run the application?","body":"So do you get an error when you run the application?"},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1676137351,"post_id":75422020,"comment_id":133078941,"body_markdown":"See: https://www.baeldung.com/spring-boot-data-sql-and-schema-sql","body":"See: <a href=\"https://www.baeldung.com/spring-boot-data-sql-and-schema-sql\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-data-sql-and-schema-sql</a>"},{"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"score":0,"creation_date":1676138514,"post_id":75422020,"comment_id":133079142,"body_markdown":"maybe depend on repository or service or resource layers, would you please share these layers?","body":"maybe depend on repository or service or resource layers, would you please share these layers?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1676148899,"post_id":75422020,"comment_id":133080840,"body_markdown":"Side note: &quot;_... `javax.persistence` ... I don&#39;t have this package._&quot; - Yes, the use of `javax.persistence` is still around (especially in tutorials), but it is older/outdated. See [Transition from Java EE to Jakarta EE](https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee).","body":"Side note: &quot;<i>... <code>javax.persistence</code> ... I don&#39;t have this package.</i>&quot; - Yes, the use of <code>javax.persistence</code> is still around (especially in tutorials), but it is older/outdated. See <a href=\"https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee\" rel=\"nofollow noreferrer\">Transition from Java EE to Jakarta EE</a>."},{"owner":{"account_id":21118238,"reputation":33,"user_id":15524880,"display_name":"Jan "},"score":0,"creation_date":1676204638,"post_id":75422020,"comment_id":133086667,"body_markdown":"@Youans I just added to the post the error stack-trace","body":"@Youans I just added to the post the error stack-trace"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1676208727,"post_id":75422020,"comment_id":133087327,"body_markdown":"try to remove the `@Table` annotation, just keep the `@Entity`, but also remove the parameter `name` and its value from the `@Entity` declaraion.","body":"try to remove the <code>@Table</code> annotation, just keep the <code>@Entity</code>, but also remove the parameter <code>name</code> and its value from the <code>@Entity</code> declaraion."},{"owner":{"account_id":21118238,"reputation":33,"user_id":15524880,"display_name":"Jan "},"score":0,"creation_date":1676216618,"post_id":75422020,"comment_id":133088645,"body_markdown":"@cyberbrain Unfortunately it does not help. Still have the same error... Strange is that if I remove the data.sql file, Spring will create an empty table, but when I add the data.sql file it shows that the table is not created.....","body":"@cyberbrain Unfortunately it does not help. Still have the same error... Strange is that if I remove the data.sql file, Spring will create an empty table, but when I add the data.sql file it shows that the table is not created....."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1676221070,"post_id":75422020,"comment_id":133089483,"body_markdown":"You didn&#39;t mention a *data.sql* file in your setup before - please add details about to to the question.","body":"You didn&#39;t mention a <i>data.sql</i> file in your setup before - please add details about to to the question."},{"owner":{"account_id":21118238,"reputation":33,"user_id":15524880,"display_name":"Jan "},"score":0,"creation_date":1676275606,"post_id":75422020,"comment_id":133097165,"body_markdown":"@cyberbrain in data.sql I have only one sql line &quot;insert into person (name) values(&quot;jan&quot;);&quot; nothing more.","body":"@cyberbrain in data.sql I have only one sql line &quot;insert into person (name) values(&quot;jan&quot;);&quot; nothing more."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676296319,"creation_date":1676296319,"answer_id":75436771,"question_id":75422020,"body_markdown":"The presence of your `data.sql` file disables the schema creation by Hibernate, because it is assumed that you manually want to create the schema via a `schema.sql` as well.\r\n\r\nIf you want Hibernates schema generation but want to add data with a script, [the documentation has the following advice][1]:\r\n\r\n&gt; Script-based DataSource initialization is performed, by default, before any JPA EntityManagerFactory beans are created. schema.sql can be used to create the schema for JPA-managed entities and data.sql can be used to populate it. While we do not recommend using multiple data source initialization technologies, if you want script-based DataSource initialization to be able to build upon the schema creation performed by Hibernate, set spring.jpa.defer-datasource-initialization to true. This will defer data source initialization until after any EntityManagerFactory beans have been created and initialized. schema.sql can then be used to make additions to any schema creation performed by Hibernate and data.sql can be used to populate it.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.data-initialization.using-basic-sql-scripts","title":"JPA insert data to H2 database","body":"<p>The presence of your <code>data.sql</code> file disables the schema creation by Hibernate, because it is assumed that you manually want to create the schema via a <code>schema.sql</code> as well.</p>\n<p>If you want Hibernates schema generation but want to add data with a script, <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.data-initialization.using-basic-sql-scripts\" rel=\"nofollow noreferrer\">the documentation has the following advice</a>:</p>\n<blockquote>\n<p>Script-based DataSource initialization is performed, by default, before any JPA EntityManagerFactory beans are created. schema.sql can be used to create the schema for JPA-managed entities and data.sql can be used to populate it. While we do not recommend using multiple data source initialization technologies, if you want script-based DataSource initialization to be able to build upon the schema creation performed by Hibernate, set spring.jpa.defer-datasource-initialization to true. This will defer data source initialization until after any EntityManagerFactory beans have been created and initialized. schema.sql can then be used to make additions to any schema creation performed by Hibernate and data.sql can be used to populate it.</p>\n</blockquote>\n"}],"owner":{"account_id":21118238,"reputation":33,"user_id":15524880,"display_name":"Jan "},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75436771,"answer_count":1,"score":1,"last_activity_date":1676296319,"creation_date":1676136741,"question_id":75422020,"body_markdown":"I&#39;m trying to add some data to H2 database via JPA. I see a lot of materials where they use javax.persistence unfortunately when I download JPA starter I don&#39;t have this package. I use jakarta.persistance and it&#39;s generate me the empty table but when I add to resource folder data.sql file with insert command (insert into person (name) values(&quot;jan&quot;)) I have nothing to add. \r\n\r\n\r\n\r\n\r\nBelow @SpringBootAplication:\r\n\r\n    package com.example.jpa.database.jpadatabase;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    \r\n    @SpringBootApplication\r\n    public class JpadatabaseApplication  {\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(JpadatabaseApplication.class, args);\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nand POJO class\r\n\r\n    package com.example.jpa.database.jpadatabase;\r\n    \r\n    \r\n    \r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;\r\n    \r\n    \r\n    \r\n    @Entity(name=&quot;Person&quot;)\r\n    @Table(name=&quot;Person&quot;)\r\n    public class Person   {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int id;\r\n        private String name;\r\n    \r\n    \r\n        public Person() {\r\n          \r\n        }\r\n    \r\n        public Person(String name) {\r\n            this.name = name;\r\n    \r\n        }\r\n    \r\n        public Person(int id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n    \r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Person [id=&quot; + id + &quot;, name=&quot; + name + &quot;]&quot;;\r\n        }\r\n    \r\n    \r\n    \r\n      \r\n    }\r\n\r\n\r\n\r\nalso my application.properties\r\n\r\n  \r\n\r\n    spring.datasource.driver-class-name = org.h2.Driver\r\n    \r\n    spring.h2.console.enable=true\r\n    \r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n\r\n\r\nand sql insert into person (name) values(&quot;jan&quot;);\r\n\r\n\r\n\r\n\r\nBelow is the error:\r\n\r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-02-12T13:18:43.516+01:00 ERROR 73739 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of URL [file:/Users/janhandzel/Developer/Kurs%20IBM%20/database-jpa/jpadatabase/target/classes/data.sql]: insert into person (name) values(&quot;jan&quot;)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at com.example.jpa.database.jpadatabase.JpadatabaseApplication.main(JpadatabaseApplication.java:12) ~[classes/:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\r\n            at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.2.jar:3.0.2]\r\n    Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/Users/janhandzel/Developer/Kurs%20IBM%20/database-jpa/jpadatabase/target/classes/data.sql]: insert into person (name) values(&quot;jan&quot;)\r\n            at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282) ~[spring-jdbc-6.0.4.jar:6.0.4]\r\n            at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-6.0.4.jar:6.0.4]\r\n            at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54) ~[spring-jdbc-6.0.4.jar:6.0.4]\r\n            at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            ... 23 common frames omitted\r\n    Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;PERSON&quot; not found (this database is empty); SQL statement:\r\n    insert into person (name) values(&quot;jan&quot;) [42104-214]\r\n            at org.h2.message.DbException.getJdbcSQLException(DbException.java:502) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8385) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8369) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.readTableOrView(Parser.java:8358) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.readTableOrView(Parser.java:8328) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.parseInsert(Parser.java:1632) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.parsePrepared(Parser.java:814) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.parse(Parser.java:689) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.parse(Parser.java:661) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.prepareCommand(Parser.java:569) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.1.214.jar:2.1.214]\r\n            at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\r\n            at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n            at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-6.0.4.jar:6.0.4]\r\n            ... 33 common frames omitted\r\n\r\n\r\n\r\n\r\n\r\n","title":"JPA insert data to H2 database","body":"<p>I'm trying to add some data to H2 database via JPA. I see a lot of materials where they use javax.persistence unfortunately when I download JPA starter I don't have this package. I use jakarta.persistance and it's generate me the empty table but when I add to resource folder data.sql file with insert command (insert into person (name) values(&quot;jan&quot;)) I have nothing to add.</p>\n<p>Below @SpringBootAplication:</p>\n<pre><code>package com.example.jpa.database.jpadatabase;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n\n@SpringBootApplication\npublic class JpadatabaseApplication  {\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(JpadatabaseApplication.class, args);\n    }\n\n\n\n}\n</code></pre>\n<p>and POJO class</p>\n<pre><code>package com.example.jpa.database.jpadatabase;\n\n\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n\n\n@Entity(name=&quot;Person&quot;)\n@Table(name=&quot;Person&quot;)\npublic class Person   {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    private String name;\n\n\n    public Person() {\n      \n    }\n\n    public Person(String name) {\n        this.name = name;\n\n    }\n\n    public Person(int id, String name) {\n        this.id = id;\n        this.name = name;\n\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Person [id=&quot; + id + &quot;, name=&quot; + name + &quot;]&quot;;\n    }\n\n\n\n  \n}\n</code></pre>\n<p>also my application.properties</p>\n<pre><code>spring.datasource.driver-class-name = org.h2.Driver\n\nspring.h2.console.enable=true\n\nspring.datasource.url=jdbc:h2:mem:testdb\n</code></pre>\n<p>and sql insert into person (name) values(&quot;jan&quot;);</p>\n<p>Below is the error:</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-02-12T13:18:43.516+01:00 ERROR 73739 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of URL [file:/Users/janhandzel/Developer/Kurs%20IBM%20/database-jpa/jpadatabase/target/classes/data.sql]: insert into person (name) values(&quot;jan&quot;)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n        at com.example.jpa.database.jpadatabase.JpadatabaseApplication.main(JpadatabaseApplication.java:12) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.2.jar:3.0.2]\nCaused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/Users/janhandzel/Developer/Kurs%20IBM%20/database-jpa/jpadatabase/target/classes/data.sql]: insert into person (name) values(&quot;jan&quot;)\n        at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282) ~[spring-jdbc-6.0.4.jar:6.0.4]\n        at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-6.0.4.jar:6.0.4]\n        at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54) ~[spring-jdbc-6.0.4.jar:6.0.4]\n        at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\n        ... 23 common frames omitted\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;PERSON&quot; not found (this database is empty); SQL statement:\ninsert into person (name) values(&quot;jan&quot;) [42104-214]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:502) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8385) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8369) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.readTableOrView(Parser.java:8358) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.readTableOrView(Parser.java:8328) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.parseInsert(Parser.java:1632) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.parsePrepared(Parser.java:814) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.parse(Parser.java:689) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.parse(Parser.java:661) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.prepareCommand(Parser.java:569) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.1.214.jar:2.1.214]\n        at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\n        at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\n        at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-6.0.4.jar:6.0.4]\n        ... 33 common frames omitted\n</code></pre>\n"},{"tags":["java","android","android-arrayadapter"],"answers":[{"tags":[],"owner":{"account_id":1063646,"reputation":31628,"user_id":1064728,"accept_rate":77,"display_name":"Jave"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1324559539,"creation_date":1324559539,"answer_id":8604352,"question_id":8604274,"body_markdown":"The `setTextColor()` is expecting a color-integer (0xFF00FF00 in your case), but you supply it with the resource id of that color, which can be any number.  \r\nYou can either use it like this:\r\n\r\n    holder.item1.setTextColor(0xFF00FF00);\r\n\r\nor like this:\r\n\r\n    holder.item1.setTextColor(getResources().getColor(R.color.green));\r\n\r\n\r\n","title":"setting textview color in custom arrayadapter","body":"<p>The <code>setTextColor()</code> is expecting a color-integer (0xFF00FF00 in your case), but you supply it with the resource id of that color, which can be any number.<br>\nYou can either use it like this:</p>\n\n<pre><code>holder.item1.setTextColor(0xFF00FF00);\n</code></pre>\n\n<p>or like this:</p>\n\n<pre><code>holder.item1.setTextColor(getResources().getColor(R.color.green));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1524925,"reputation":2013,"user_id":1423608,"accept_rate":65,"display_name":"BENN1TH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481708743,"creation_date":1481708743,"answer_id":41139369,"question_id":8604274,"body_markdown":"You can use from @colour/my_value set in values/colors.xml like so;\r\n\r\n    holder.item1.setTextColor(Color.green(R.color.colorWarning));","title":"setting textview color in custom arrayadapter","body":"<p>You can use from @colour/my_value set in values/colors.xml like so;</p>\n\n<pre><code>holder.item1.setTextColor(Color.green(R.color.colorWarning));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19682700,"reputation":1,"user_id":14409448,"display_name":"Sanne Karibo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676296129,"creation_date":1676296129,"answer_id":75436737,"question_id":8604274,"body_markdown":"The issue is with your code holder.item1.setTextColor(R.color.green);\r\nIt doesn&#39;t  pass in a Colour it passes an Id saved in R.java \r\n&lt;p&gt;It should rightly be &lt;/p&gt;\r\n\r\n```\r\nholder.item1.setTextColor(getColor((R.color.green));\r\n```\t\r\n\r\nAlternatively You can use without Xml dependencies by\r\n```\r\nholder.item1.setTextColor(android.graphics.Color.GREEN);\r\n```\r\n\r\nOr you can try a TextView that allows you to use multiple colours in one line &lt;a href=&quot;https://www.github.com/sanneemmanuel/MultiColorTextView&quot;&gt;Here&lt;/a&gt;\r\n\t\t\r\n","title":"setting textview color in custom arrayadapter","body":"<p>The issue is with your code holder.item1.setTextColor(R.color.green);\nIt doesn't  pass in a Colour it passes an Id saved in R.java</p>\n<p>It should rightly be </p>\n<pre><code>holder.item1.setTextColor(getColor((R.color.green));\n</code></pre>\n<p>Alternatively You can use without Xml dependencies by</p>\n<pre><code>holder.item1.setTextColor(android.graphics.Color.GREEN);\n</code></pre>\n<p>Or you can try a TextView that allows you to use multiple colours in one line <a href=\"https://www.github.com/sanneemmanuel/MultiColorTextView\" rel=\"nofollow noreferrer\">Here</a></p>\n"}],"owner":{"account_id":1074603,"reputation":659,"user_id":1073025,"accept_rate":63,"display_name":"Dikobraz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2070,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8604352,"answer_count":3,"score":1,"last_activity_date":1676296129,"creation_date":1324559169,"question_id":8604274,"body_markdown":"**I&#39;m trying to set color of TextView in custom arrayadapter, but it does&#39;nt work - I&#39;m getting grey color text instead of green.**\r\n\r\nI tried to set default textview color in row.xml, but it did&#39;nt had any effect either.\r\n\r\n\r\n\r\n \r\n\r\n    public class ReadCustomAdapter extends ArrayAdapter&lt;ReadModel&gt;{\r\n      \r\n        public ReadCustomAdapter(Activity a, int textViewResourceId, ArrayList&lt;ReadModel&gt; entries) {\r\n            super(a, textViewResourceId, entries);\r\n            this.entries = entries;\r\n            this.activity = a;\r\n        }\r\n     \r\n        public static class ViewHolder{\r\n            public TextView item1;\r\n            public TextView item2;\r\n        }\r\n     \r\n       \t  \r\n        @Override\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n            View v = convertView;\r\n            ViewHolder holder;\r\n            if (v == null) {\r\n                LayoutInflater vi =\r\n                    (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n                v = vi.inflate(R.layout.row, null);\r\n                holder = new ViewHolder();\r\n                holder.item1 = (TextView) v.findViewById(android.R.id.text1);\r\n                holder.item2 = (TextView) v.findViewById(android.R.id.text2);             \r\n                v.setTag(holder);\r\n            }\r\n            else\r\n                holder=(ViewHolder)v.getTag();\r\n     \r\n            final ReadModel custom = entries.get(position);\r\n            \r\n            if (custom != null) {\r\n                holder.item1.setText(custom.getNick());\r\n                holder.item2.setText(custom.getMsg());\r\n          \r\n                holder.item1.setTextColor(R.color.green);\r\n                \r\n            }\r\n            return v;\r\n        }\r\n     \r\n    }\r\n\r\ncolor.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n    &lt;color name=&quot;green&quot;&gt;#00ff00&lt;/color&gt;\r\n    &lt;/resources&gt;\r\n","title":"setting textview color in custom arrayadapter","body":"<p><strong>I'm trying to set color of TextView in custom arrayadapter, but it does'nt work - I'm getting grey color text instead of green.</strong></p>\n\n<p>I tried to set default textview color in row.xml, but it did'nt had any effect either.</p>\n\n<pre><code>public class ReadCustomAdapter extends ArrayAdapter&lt;ReadModel&gt;{\n\n    public ReadCustomAdapter(Activity a, int textViewResourceId, ArrayList&lt;ReadModel&gt; entries) {\n        super(a, textViewResourceId, entries);\n        this.entries = entries;\n        this.activity = a;\n    }\n\n    public static class ViewHolder{\n        public TextView item1;\n        public TextView item2;\n    }\n\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        View v = convertView;\n        ViewHolder holder;\n        if (v == null) {\n            LayoutInflater vi =\n                (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            v = vi.inflate(R.layout.row, null);\n            holder = new ViewHolder();\n            holder.item1 = (TextView) v.findViewById(android.R.id.text1);\n            holder.item2 = (TextView) v.findViewById(android.R.id.text2);             \n            v.setTag(holder);\n        }\n        else\n            holder=(ViewHolder)v.getTag();\n\n        final ReadModel custom = entries.get(position);\n\n        if (custom != null) {\n            holder.item1.setText(custom.getNick());\n            holder.item2.setText(custom.getMsg());\n\n            holder.item1.setTextColor(R.color.green);\n\n        }\n        return v;\n    }\n\n}\n</code></pre>\n\n<p>color.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n&lt;color name=\"green\"&gt;#00ff00&lt;/color&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":["java","google-analytics-api","liferay-7"],"comments":[{"owner":{"account_id":33535,"reputation":9309,"user_id":93961,"accept_rate":79,"display_name":"Eugene"},"score":0,"creation_date":1675275881,"post_id":75287321,"comment_id":132895676,"body_markdown":"Have you tried &quot;Try adding a dependency on the grpc-okhttp, grpc-netty, or grpc-netty-shaded&quot;?","body":"Have you tried &quot;Try adding a dependency on the grpc-okhttp, grpc-netty, or grpc-netty-shaded&quot;?"},{"owner":{"account_id":27658779,"reputation":1,"user_id":21112083,"display_name":"Addagar"},"score":0,"creation_date":1675410919,"post_id":75287321,"comment_id":132927048,"body_markdown":"Yes, I have tried","body":"Yes, I have tried"}],"answers":[{"tags":[],"owner":{"account_id":27658779,"reputation":1,"user_id":21112083,"display_name":"Addagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676295861,"creation_date":1676295825,"answer_id":75436685,"question_id":75287321,"body_markdown":"The problem is solved.\r\nThis is the code that work:\r\n\r\n    BetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings\r\n\t\t\t\t.newHttpJsonBuilder()\r\n\t\t\t\t.setCredentialsProvider(FixedCredentialsProvider.create(credential))\r\n\t\t\t\t.build();\r\n\r\nOnly I had to put &quot;.newHttpJsonBuilder()&quot;","title":"Google Analytics Data Client for Java - io.grpc.ManagedChannelProvider$ProviderNotFoundException: No functional channel service provider found","body":"<p>The problem is solved.\nThis is the code that work:</p>\n<pre><code>BetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings\n            .newHttpJsonBuilder()\n            .setCredentialsProvider(FixedCredentialsProvider.create(credential))\n            .build();\n</code></pre>\n<p>Only I had to put &quot;.newHttpJsonBuilder()&quot;</p>\n"}],"owner":{"account_id":27658779,"reputation":1,"user_id":21112083,"display_name":"Addagar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676295861,"creation_date":1675096279,"question_id":75287321,"body_markdown":"I&#39;m trying to implement Analytics Data Client API for Java in Liferay 7.3 version but It cant work.\r\n\r\n\r\n\r\n\r\n\r\n```\r\nInputStream fileInputStream = GoogleAnalyticsReportsGA4Portlet.class.getResourceAsStream(KEY_FILE_LOCATION);\r\n\t\tGoogleCredentials credential = GoogleCredentials.fromStream(fileInputStream);\r\n\t\tBetaAnalyticsDataSettings betaAnalyticsDataSettings =\r\n\t\t\t\tBetaAnalyticsDataSettings.newBuilder()\r\n\t\t\t\t\t\t.setCredentialsProvider(FixedCredentialsProvider.create(credential))\r\n\t\t\t\t\t\t.build();\r\n\r\n\t\ttry (BetaAnalyticsDataClient analyticsData = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings)) {...}\r\n\r\n```\r\nWhen BetaAnalyticsDataClient.create(...) is when have the next issue: \r\n\r\nio.grpc.ManagedChannelProvider$ProviderNotFoundException: No functional channel service provider found. Try adding a dependency on the grpc-okhttp, grpc-netty, or grpc-netty-shaded artifact\r\n\tat io.grpc.ManagedChannelProvider.provider(ManagedChannelProvider.java:45)\r\n\tat io.grpc.ManagedChannelBuilder.forAddress(ManagedChannelBuilder.java:39)\r\n\tat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createSingleChannel(InstantiatingGrpcChannelProvider.java:351)\r\n\tat com.google.api.gax.grpc.ChannelPool.&lt;init&gt;(ChannelPool.java:105)\r\n\tat com.google.api.gax.grpc.ChannelPool.create(ChannelPool.java:83)\r\n\tat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createChannel(InstantiatingGrpcChannelProvider.java:236)\r\n\tat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:230)\r\n\tat com.google.api.gax.rpc.ClientContext.create(ClientContext.java:201)\r\n\tat com.google.analytics.data.v1beta.stub.GrpcBetaAnalyticsDataStub.create(GrpcBetaAnalyticsDataStub.java:149)\r\n\tat com.google.analytics.data.v1beta.stub.BetaAnalyticsDataStubSettings.createStub(BetaAnalyticsDataStubSettings.java:161)\r\n\tat com.google.analytics.data.v1beta.BetaAnalyticsDataClient.&lt;init&gt;(BetaAnalyticsDataClient.java:172)\r\n\tat com.google.analytics.data.v1beta.BetaAnalyticsDataClient.create(BetaAnalyticsDataClient.java:154)","title":"Google Analytics Data Client for Java - io.grpc.ManagedChannelProvider$ProviderNotFoundException: No functional channel service provider found","body":"<p>I'm trying to implement Analytics Data Client API for Java in Liferay 7.3 version but It cant work.</p>\n<pre><code>InputStream fileInputStream = GoogleAnalyticsReportsGA4Portlet.class.getResourceAsStream(KEY_FILE_LOCATION);\n        GoogleCredentials credential = GoogleCredentials.fromStream(fileInputStream);\n        BetaAnalyticsDataSettings betaAnalyticsDataSettings =\n                BetaAnalyticsDataSettings.newBuilder()\n                        .setCredentialsProvider(FixedCredentialsProvider.create(credential))\n                        .build();\n\n        try (BetaAnalyticsDataClient analyticsData = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings)) {...}\n\n</code></pre>\n<p>When BetaAnalyticsDataClient.create(...) is when have the next issue:</p>\n<p>io.grpc.ManagedChannelProvider$ProviderNotFoundException: No functional channel service provider found. Try adding a dependency on the grpc-okhttp, grpc-netty, or grpc-netty-shaded artifact\nat io.grpc.ManagedChannelProvider.provider(ManagedChannelProvider.java:45)\nat io.grpc.ManagedChannelBuilder.forAddress(ManagedChannelBuilder.java:39)\nat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createSingleChannel(InstantiatingGrpcChannelProvider.java:351)\nat com.google.api.gax.grpc.ChannelPool.(ChannelPool.java:105)\nat com.google.api.gax.grpc.ChannelPool.create(ChannelPool.java:83)\nat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createChannel(InstantiatingGrpcChannelProvider.java:236)\nat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:230)\nat com.google.api.gax.rpc.ClientContext.create(ClientContext.java:201)\nat com.google.analytics.data.v1beta.stub.GrpcBetaAnalyticsDataStub.create(GrpcBetaAnalyticsDataStub.java:149)\nat com.google.analytics.data.v1beta.stub.BetaAnalyticsDataStubSettings.createStub(BetaAnalyticsDataStubSettings.java:161)\nat com.google.analytics.data.v1beta.BetaAnalyticsDataClient.(BetaAnalyticsDataClient.java:172)\nat com.google.analytics.data.v1beta.BetaAnalyticsDataClient.create(BetaAnalyticsDataClient.java:154)</p>\n"},{"tags":["java","xml","tags","rename","jackson2"],"answers":[{"tags":[],"owner":{"account_id":13526281,"reputation":1610,"user_id":9758017,"display_name":"41 72 6c"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676295801,"creation_date":1676283625,"answer_id":75434590,"question_id":75434508,"body_markdown":"I think you can use the @JacksonXmlRootElement like this:\r\n\r\n\tpublic class Album {\r\n\t\tprivate String name;\r\n\t\tprivate int year;\r\n        \r\n        @JacksonXmlRootElement(localName = &quot;album&quot;)\r\n\t\tpublic Album(String name, int year) {\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.year = year;\r\n\t\t}\r\n\t\t@JacksonXmlProperty(isAttribute = true)\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}    \r\n\t\t@JacksonXmlProperty(isAttribute = true)\r\n\t\tpublic int getYear() {\r\n\t\t\treturn year;\r\n\t\t}\r\n\t}\r\n\r\nThis can be adapted with `@JacksonXmlElementWrapper` or `@JacksonXmlProperty` based on your structure.","title":"Rename tag in xml using jakson","body":"<p>I think you can use the @JacksonXmlRootElement like this:</p>\n<pre><code>public class Album {\n    private String name;\n    private int year;\n    \n    @JacksonXmlRootElement(localName = &quot;album&quot;)\n    public Album(String name, int year) {\n        this.name = name;\n        this.year = year;\n    }\n    @JacksonXmlProperty(isAttribute = true)\n    public String getName() {\n        return name;\n    }    \n    @JacksonXmlProperty(isAttribute = true)\n    public int getYear() {\n        return year;\n    }\n}\n</code></pre>\n<p>This can be adapted with <code>@JacksonXmlElementWrapper</code> or <code>@JacksonXmlProperty</code> based on your structure.</p>\n"}],"owner":{"account_id":26313726,"reputation":1,"user_id":19976848,"display_name":"Nikita Zakharov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676295801,"creation_date":1676283217,"question_id":75434508,"body_markdown":"Please help, How can i rename tags in xml file usind jakson\r\n\r\nMy class:\r\n\r\n```\r\npublic class Artist {\r\n    private String name;\r\n    private List&lt;Album&gt; albums = new ArrayList&lt;&gt;();\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public List&lt;Album&gt; getAlbums() {\r\n        return albums;\r\n    }\r\n}\r\npublic class Album {\r\n    private String name;\r\n    private int year;\r\n    public Album(String name, int year) {\r\n        this.name = name;\r\n        this.year = year;\r\n    }\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    public String getName() {\r\n        return name;\r\n    }    \r\n    @JacksonXmlProperty(isAttribute = true)\r\n    public int getYear() {\r\n        return year;\r\n    }\r\n}\r\n```\r\n\r\nWhen i try to rename one tag \\&lt;Albums\\&gt; both are changed \\&lt;Album\\&gt;\r\n\r\ni have:\r\n\r\n```\r\n    &lt;Artist&gt;\r\n      &lt;name&gt;Some name&lt;/name&gt;\r\n      &lt;albums&gt;\r\n        &lt;albums name=&quot;Some name1&quot; year=&quot;1985&quot;/&gt;\r\n        &lt;albums name=&quot;Some name2&quot; year=&quot;1986&quot;/&gt;\r\n      &lt;/albums&gt;\r\n    &lt;/Artist&gt;\r\n```\r\n\r\ni want to see:\r\n\r\n```\r\n    &lt;Artist&gt;\r\n      &lt;name&gt;Some name&lt;/name&gt;\r\n      &lt;albums&gt;\r\n        &lt;album name=&quot;Some name1&quot; year=&quot;1985&quot;/&gt;\r\n        &lt;album name=&quot;Some name2&quot; year=&quot;1986&quot;/&gt;\r\n      &lt;/albums&gt;\r\n    &lt;/Artist&gt;\r\n```\r\n\r\ndo you have any idea?","title":"Rename tag in xml using jakson","body":"<p>Please help, How can i rename tags in xml file usind jakson</p>\n<p>My class:</p>\n<pre><code>public class Artist {\n    private String name;\n    private List&lt;Album&gt; albums = new ArrayList&lt;&gt;();\n    public String getName() {\n        return name;\n    }\n    public List&lt;Album&gt; getAlbums() {\n        return albums;\n    }\n}\npublic class Album {\n    private String name;\n    private int year;\n    public Album(String name, int year) {\n        this.name = name;\n        this.year = year;\n    }\n    @JacksonXmlProperty(isAttribute = true)\n    public String getName() {\n        return name;\n    }    \n    @JacksonXmlProperty(isAttribute = true)\n    public int getYear() {\n        return year;\n    }\n}\n</code></pre>\n<p>When i try to rename one tag &lt;Albums&gt; both are changed &lt;Album&gt;</p>\n<p>i have:</p>\n<pre><code>    &lt;Artist&gt;\n      &lt;name&gt;Some name&lt;/name&gt;\n      &lt;albums&gt;\n        &lt;albums name=&quot;Some name1&quot; year=&quot;1985&quot;/&gt;\n        &lt;albums name=&quot;Some name2&quot; year=&quot;1986&quot;/&gt;\n      &lt;/albums&gt;\n    &lt;/Artist&gt;\n</code></pre>\n<p>i want to see:</p>\n<pre><code>    &lt;Artist&gt;\n      &lt;name&gt;Some name&lt;/name&gt;\n      &lt;albums&gt;\n        &lt;album name=&quot;Some name1&quot; year=&quot;1985&quot;/&gt;\n        &lt;album name=&quot;Some name2&quot; year=&quot;1986&quot;/&gt;\n      &lt;/albums&gt;\n    &lt;/Artist&gt;\n</code></pre>\n<p>do you have any idea?</p>\n"},{"tags":["java","google-analytics","google-analytics-api","google-analytics-4"],"owner":{"account_id":27658779,"reputation":1,"user_id":21112083,"display_name":"Addagar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676295727,"creation_date":1676295727,"question_id":75436674,"body_markdown":"I need to make a request to obtain a page views about a specific URL but also i need the device category and country id. \r\nThe problem is that when i make a request get the next error: \r\n&gt; POST https://analyticsdata.googleapis.com:443/v1beta/properties/317256757:runReport?$alt=json;enum-encoding%3Dint\r\n{\r\n  &quot;error&quot;: {\r\n    &quot;code&quot;: 400,\r\n    &quot;message&quot;: &quot;Please remove pagePathPlusQueryString to make the request compatible. The request&#39;s dimensions &amp; metrics are incompatible. To learn more, see https://ga-dev-tools.web.app/ga4/dimensions-metrics-explorer/&quot;,\r\n    &quot;errors&quot;: [\r\n      {\r\n        &quot;message&quot;: &quot;Please remove pagePathPlusQueryString to make the request compatible. The request&#39;s dimensions &amp; metrics are incompatible. To learn more, see https://ga-dev-tools.web.app/ga4/dimensions-metrics-explorer/&quot;,\r\n        &quot;domain&quot;: &quot;global&quot;,\r\n        &quot;reason&quot;: &quot;badRequest&quot;\r\n      }\r\n    ],\r\n    &quot;status&quot;: &quot;INVALID_ARGUMENT&quot;\r\n  }\r\n&gt; \r\n\r\nI use a Google Analytics Data API the version of GA4 in Java\r\nThis is request code:\r\n\r\n```\r\nRunReportRequest request =\r\n\t\t\t\t\tRunReportRequest.newBuilder()\r\n\t\t\t\t\t\t\t.setProperty(&quot;properties/&quot; + propertyID)\r\n\t\t\t\t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;screenPageViews&quot;))\r\n\t\t\t\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;pagePathPlusQueryString&quot;))\r\n\t\t\t\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;deviceCategory&quot;))\r\n\t\t\t\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;countryId&quot;))\r\n\t\t\t\t\t\t\t.addDateRanges(DateRange.newBuilder().setStartDate(startDate).setEndDate(endDate))\r\n\t\t\t\t\t\t\t.build();\r\n```\r\n","title":"Can it be possible to make a request with pagePathPlusQueryString dimension and deviceCategory dimension?","body":"<p>I need to make a request to obtain a page views about a specific URL but also i need the device category and country id.\nThe problem is that when i make a request get the next error:</p>\n<blockquote>\n<p>POST <a href=\"https://analyticsdata.googleapis.com:443/v1beta/properties/317256757:runReport?$alt=json;enum-encoding%3Dint\" rel=\"nofollow noreferrer\">https://analyticsdata.googleapis.com:443/v1beta/properties/317256757:runReport?$alt=json;enum-encoding%3Dint</a>\n{\n&quot;error&quot;: {\n&quot;code&quot;: 400,\n&quot;message&quot;: &quot;Please remove pagePathPlusQueryString to make the request compatible. The request's dimensions &amp; metrics are incompatible. To learn more, see <a href=\"https://ga-dev-tools.web.app/ga4/dimensions-metrics-explorer/%22\" rel=\"nofollow noreferrer\">https://ga-dev-tools.web.app/ga4/dimensions-metrics-explorer/&quot;</a>,\n&quot;errors&quot;: [\n{\n&quot;message&quot;: &quot;Please remove pagePathPlusQueryString to make the request compatible. The request's dimensions &amp; metrics are incompatible. To learn more, see https://ga-dev-tools.web.app/ga4/dimensions-metrics-explorer/&quot;,\n&quot;domain&quot;: &quot;global&quot;,\n&quot;reason&quot;: &quot;badRequest&quot;\n}\n],\n&quot;status&quot;: &quot;INVALID_ARGUMENT&quot;\n}</p>\n</blockquote>\n<p>I use a Google Analytics Data API the version of GA4 in Java\nThis is request code:</p>\n<pre><code>RunReportRequest request =\n                    RunReportRequest.newBuilder()\n                            .setProperty(&quot;properties/&quot; + propertyID)\n                            .addMetrics(Metric.newBuilder().setName(&quot;screenPageViews&quot;))\n                            .addDimensions(Dimension.newBuilder().setName(&quot;pagePathPlusQueryString&quot;))\n                            .addDimensions(Dimension.newBuilder().setName(&quot;deviceCategory&quot;))\n                            .addDimensions(Dimension.newBuilder().setName(&quot;countryId&quot;))\n                            .addDateRanges(DateRange.newBuilder().setStartDate(startDate).setEndDate(endDate))\n                            .build();\n</code></pre>\n"},{"tags":["java","android","gradle","intellij-idea","attributes"],"comments":[{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1676288755,"post_id":75421755,"comment_id":133100621,"body_markdown":"Please post your xml layout content which may have any clues about what is the problem here.","body":"Please post your xml layout content which may have any clues about what is the problem here."},{"owner":{"account_id":27760345,"reputation":1,"user_id":21192910,"display_name":"Kaan G&#220;L"},"score":0,"creation_date":1676295529,"post_id":75421755,"comment_id":133102642,"body_markdown":"@LJreplica I updated the question, can you take a look again","body":"@LJreplica I updated the question, can you take a look again"}],"owner":{"account_id":27760345,"reputation":1,"user_id":21192910,"display_name":"Kaan G&#220;L"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676295678,"creation_date":1676134155,"question_id":75421755,"body_markdown":"I use the design part to design the android application in Intellij Idea, but I cannot design because many features such as &quot;textColor&quot;, &quot;textSize&quot;, &quot;backgroundColor&quot; are missing in the attributes part. When I try to write to the XML file manually, the automatic code completion does not work and does not recognize the functions.\r\nI did a lot of research but couldn&#39;t find anything on this topic. I would be glad if you help.\r\nI tried creating new project, invalidating the cache but it didn&#39;t work.\r\n\r\n[attributes-----](https://i.stack.imgur.com/dGD0v.png)\r\n[I&#39;m looking for the attributes but nothing comes up------](https://i.stack.imgur.com/B7vkx.png)\r\n[I&#39;m trying the XML file](https://i.stack.imgur.com/vBrL0.png)\r\n\r\n-----------------update-------------\r\n\r\nWhen I add a property to the XML file, it starts to appear in the attributes panel, but if I do not add it, it does not appear in the panel.\r\nI couldn&#39;t understand why.\r\nFor example, when I add these properties to the textView, the properties appear on the panel, but when I add a new textView in the same project, the properties are not visible on the panel again.\r\nHow can I make these properties available in the attributes panel by default in the project?\r\n\r\nIn picture 1, the property does not appear in the attributes panel. When I add it manually to the XML file in Picture 2, it starts to appear on the panel.\r\n[picture 1][2]\r\n[picture 2][1]\r\n\r\n  [1]: https://i.stack.imgur.com/eFTZC.png\r\n  [2]: https://i.stack.imgur.com/fkvTs.png","title":"Many attributes are missing in attributes in design in Intellij Idea for android app develop","body":"<p>I use the design part to design the android application in Intellij Idea, but I cannot design because many features such as &quot;textColor&quot;, &quot;textSize&quot;, &quot;backgroundColor&quot; are missing in the attributes part. When I try to write to the XML file manually, the automatic code completion does not work and does not recognize the functions.\nI did a lot of research but couldn't find anything on this topic. I would be glad if you help.\nI tried creating new project, invalidating the cache but it didn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/dGD0v.png\" rel=\"nofollow noreferrer\">attributes-----</a>\n<a href=\"https://i.stack.imgur.com/B7vkx.png\" rel=\"nofollow noreferrer\">I'm looking for the attributes but nothing comes up------</a>\n<a href=\"https://i.stack.imgur.com/vBrL0.png\" rel=\"nofollow noreferrer\">I'm trying the XML file</a></p>\n<p>-----------------update-------------</p>\n<p>When I add a property to the XML file, it starts to appear in the attributes panel, but if I do not add it, it does not appear in the panel.\nI couldn't understand why.\nFor example, when I add these properties to the textView, the properties appear on the panel, but when I add a new textView in the same project, the properties are not visible on the panel again.\nHow can I make these properties available in the attributes panel by default in the project?</p>\n<p>In picture 1, the property does not appear in the attributes panel. When I add it manually to the XML file in Picture 2, it starts to appear on the panel.\n<a href=\"https://i.stack.imgur.com/fkvTs.png\" rel=\"nofollow noreferrer\">picture 1</a>\n<a href=\"https://i.stack.imgur.com/eFTZC.png\" rel=\"nofollow noreferrer\">picture 2</a></p>\n"},{"tags":["java","maven","azure-pipelines"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659256094,"post_id":73138624,"comment_id":129247373,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":24423556,"reputation":699,"user_id":18349408,"display_name":"Ging Yuan-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659011282,"creation_date":1659011282,"answer_id":73152919,"question_id":73138624,"body_markdown":"According to your description, you could try to install the [Replace Token][1] extension first.Then you could use the #{PAT}# in your pom.xml file. \r\n\r\n    scm connection scm:git:https://#{PAT}#@dev.azure.com/microservice-git-code\r\n\r\nAnd create the PAT variable as secret in you pipeline and set the target file as **/pom.xml.\r\n\r\n[![PAT][2]][2]\r\n[![settings][3]][3]\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=qetza.replacetokens\r\n  [2]: https://i.stack.imgur.com/JZqw3.png\r\n  [3]: https://i.stack.imgur.com/zwFYR.png","title":"How to refer pat token present under setting.xml in pom file","body":"<p>According to your description, you could try to install the <a href=\"https://marketplace.visualstudio.com/items?itemName=qetza.replacetokens\" rel=\"nofollow noreferrer\">Replace Token</a> extension first.Then you could use the #{PAT}# in your pom.xml file.</p>\n<pre><code>scm connection scm:git:https://#{PAT}#@dev.azure.com/microservice-git-code\n</code></pre>\n<p>And create the PAT variable as secret in you pipeline and set the target file as **/pom.xml.</p>\n<p><a href=\"https://i.stack.imgur.com/JZqw3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JZqw3.png\" alt=\"PAT\" /></a>\n<a href=\"https://i.stack.imgur.com/zwFYR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zwFYR.png\" alt=\"settings\" /></a></p>\n"},{"tags":[],"owner":{"account_id":25908352,"reputation":1,"user_id":19633061,"display_name":"fredy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676295663,"creation_date":1675950768,"answer_id":75399596,"question_id":73138624,"body_markdown":"I was able to achieve that by using the `project.scm.id` tag in the properties file of `pom.xml`","title":"How to refer pat token present under setting.xml in pom file","body":"<p>I was able to achieve that by using the <code>project.scm.id</code> tag in the properties file of <code>pom.xml</code></p>\n"}],"owner":{"account_id":25908352,"reputation":1,"user_id":19633061,"display_name":"fredy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676295663,"creation_date":1658927655,"question_id":73138624,"body_markdown":"I have below scm tag in pom.xml file. I am currently passing pat token in connection so that it can autrozie azure pipeline to comit the next version number in pom file after release.\r\n\r\nHow can I remove the pat-token from this connecton and refer it from setting.xml file or how to use it a variable so that its not visible to everyone\r\n\r\nscm\r\nconnection\r\nscm:git:https://pat-token@dev.azure.com/microservice-git-code\r\n","title":"How to refer pat token present under setting.xml in pom file","body":"<p>I have below scm tag in pom.xml file. I am currently passing pat token in connection so that it can autrozie azure pipeline to comit the next version number in pom file after release.</p>\n<p>How can I remove the pat-token from this connecton and refer it from setting.xml file or how to use it a variable so that its not visible to everyone</p>\n<p>scm\nconnection\nscm:git:https://pat-token@dev.azure.com/microservice-git-code</p>\n"},{"tags":["java","git","eclipse","github","repository"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676290352,"post_id":75435549,"comment_id":133101079,"body_markdown":"Not everything Java is built using Eclipse. From which url did you clone the repository?","body":"Not everything Java is built using Eclipse. From which url did you clone the repository?"},{"owner":{"account_id":27379464,"reputation":21,"user_id":20884266,"display_name":"Risk&#233;"},"score":0,"creation_date":1676290716,"post_id":75435549,"comment_id":133101170,"body_markdown":"@g00se https://gaufre.informatique.univ-paris-diderot.fr/abdorohm/projets4.git","body":"@g00se <a href=\"https://gaufre.informatique.univ-paris-diderot.fr/abdorohm/projets4.git\" rel=\"nofollow noreferrer\">gaufre.informatique.univ-paris-diderot.fr/abdorohm/projets4.&zwnj;&#8203;git</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676290921,"post_id":75435549,"comment_id":133101222,"body_markdown":"Unfortunately that requires a login","body":"Unfortunately that requires a login"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1676294750,"post_id":75435549,"comment_id":133102417,"body_markdown":"Create a new Java project and copy the *.java files into the source folder.","body":"Create a new Java project and copy the *.java files into the source folder."},{"owner":{"account_id":27379464,"reputation":21,"user_id":20884266,"display_name":"Risk&#233;"},"score":0,"creation_date":1676295043,"post_id":75435549,"comment_id":133102500,"body_markdown":"@g00se sorry i cant turn on public mmmh, i can send u my project","body":"@g00se sorry i cant turn on public mmmh, i can send u my project"},{"owner":{"account_id":27379464,"reputation":21,"user_id":20884266,"display_name":"Risk&#233;"},"score":0,"creation_date":1676295112,"post_id":75435549,"comment_id":133102517,"body_markdown":"@howlger i don&#39;t understand, where is the source folder ?","body":"@howlger i don&#39;t understand, where is the source folder ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1676297330,"post_id":75435549,"comment_id":133103188,"body_markdown":"The upshot of all this is going to be creating a new project and building it from your source","body":"The upshot of all this is going to be creating a new project and building it from your source"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1676301366,"post_id":75435549,"comment_id":133104634,"body_markdown":"In a new Java project the source folder is by default `src`.","body":"In a new Java project the source folder is by default <code>src</code>."},{"owner":{"account_id":27379464,"reputation":21,"user_id":20884266,"display_name":"Risk&#233;"},"score":0,"creation_date":1676302417,"post_id":75435549,"comment_id":133105046,"body_markdown":"@g00se here the project https://wetransfer.com/downloads/3eff950b7043b27dcf729784e5d1438820230213153249/3b59ecc14a09a9369442223118acbff620230213153249/0e4594 if u import it on eclipse, u cant run it, in vs code we can but i want to code in exlipse and push it on github.","body":"@g00se here the project <a href=\"https://wetransfer.com/downloads/3eff950b7043b27dcf729784e5d1438820230213153249/3b59ecc14a09a9369442223118acbff620230213153249/0e4594\" rel=\"nofollow noreferrer\">wetransfer.com/downloads/&hellip;</a> if u import it on eclipse, u cant run it, in vs code we can but i want to code in exlipse and push it on github."},{"owner":{"account_id":1203353,"reputation":95,"user_id":1173565,"accept_rate":50,"display_name":"kev"},"score":1,"creation_date":1676303150,"post_id":75435549,"comment_id":133105295,"body_markdown":"A git repository should contain only source files (*.java), no code compiled (*.class). I would recommend you to create a Java project from scratch in eclipse, and then copy the *.java files in source folder.","body":"A git repository should contain only source files (<i>.java), no code compiled (</i>.class). I would recommend you to create a Java project from scratch in eclipse, and then copy the *.java files in source folder."},{"owner":{"account_id":27379464,"reputation":21,"user_id":20884266,"display_name":"Risk&#233;"},"score":0,"creation_date":1676305876,"post_id":75435549,"comment_id":133106253,"body_markdown":"@kev ok, how do i link the new project with git so i can push","body":"@kev ok, how do i link the new project with git so i can push"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1676306144,"post_id":75435549,"comment_id":133106351,"body_markdown":"I wouldn&#39;t tie your project to a particular IDE. That&#39;s only going to make it less likely to appeal to users of different IDEs. I would make a Maven project and use that for your repro","body":"I wouldn&#39;t tie your project to a particular IDE. That&#39;s only going to make it less likely to appeal to users of different IDEs. I would make a Maven project and use that for your repro"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676307995,"post_id":75435549,"comment_id":133106936,"body_markdown":"*repo  not &quot;repro&quot;","body":"*repo  not &quot;repro&quot;"}],"owner":{"account_id":27379464,"reputation":21,"user_id":20884266,"display_name":"Risk&#233;"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676295372,"creation_date":1676289284,"question_id":75435549,"body_markdown":"[![enter image description here][1]][1]I have a problem on a git project that I cloned on eclipse, I can&#39;t run it and create a class in this project, when I try to create a class, eclipse tells me that it&#39;s not a project , How can I fix this? I tried window preferences, java editor, but it still doesn&#39;t work, I uninstalled eclipse it still doesn&#39;t work, the problem probably comes from the project but I don&#39;t know how to fix it. Thanks for the help.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N8xyK.png\r\n  [2]: https://i.stack.imgur.com/k6NRO.png\r\n\r\n","title":"Can&#39;t run &amp; create a class on Eclipse because my clone is not a project","body":"<p><a href=\"https://i.stack.imgur.com/N8xyK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N8xyK.png\" alt=\"enter image description here\" /></a>I have a problem on a git project that I cloned on eclipse, I can't run it and create a class in this project, when I try to create a class, eclipse tells me that it's not a project , How can I fix this? I tried window preferences, java editor, but it still doesn't work, I uninstalled eclipse it still doesn't work, the problem probably comes from the project but I don't know how to fix it. Thanks for the help.</p>\n<p><a href=\"https://i.stack.imgur.com/k6NRO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k6NRO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1571570530,"creation_date":1571570530,"answer_id":58472480,"question_id":58472144,"body_markdown":"The default for the MySQL Connector/J JDBC driver is not `TRANSACTION_REPEATABLE_READ`, it is `TRANSACTION_READ_COMMITTED` as communicated by that `DatabaseMetaData` implementation. So, although MySQL itself may default to repeatable read when no transaction configuration is specified, the JDBC driver will use read committed as its default when creating transactions.\r\n\r\nThe choice for `TRANSACTION_READ_COMMITTED` is likely historical, the previous default engine of MySQL was MyISAM, and this engine does not actually support transactions, so any change was technically immediately committed, and therefor any read would read those new rows. For MyISAM the behaviour matches - largely - `TRANSACTION_READ_COMMITTED`.\r\n\r\nHowever, we cannot answer with certainty why the developers of MySQL Connector/J really chose this as the default. The JDBC specification itself does not require a specific default, but in my experience, a lot of JDBC drivers use this as the default.\r\n\r\n","title":"Why mysql JDBC driver returns TRANSACTION_READ_COMMITTED as default isolation level","body":"<p>The default for the MySQL Connector/J JDBC driver is not <code>TRANSACTION_REPEATABLE_READ</code>, it is <code>TRANSACTION_READ_COMMITTED</code> as communicated by that <code>DatabaseMetaData</code> implementation. So, although MySQL itself may default to repeatable read when no transaction configuration is specified, the JDBC driver will use read committed as its default when creating transactions.</p>\n\n<p>The choice for <code>TRANSACTION_READ_COMMITTED</code> is likely historical, the previous default engine of MySQL was MyISAM, and this engine does not actually support transactions, so any change was technically immediately committed, and therefor any read would read those new rows. For MyISAM the behaviour matches - largely - <code>TRANSACTION_READ_COMMITTED</code>.</p>\n\n<p>However, we cannot answer with certainty why the developers of MySQL Connector/J really chose this as the default. The JDBC specification itself does not require a specific default, but in my experience, a lot of JDBC drivers use this as the default.</p>\n"},{"tags":[],"owner":{"account_id":264733,"reputation":1602,"user_id":1961779,"accept_rate":100,"display_name":"Adrian B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676295252,"creation_date":1676295252,"answer_id":75436576,"question_id":58472144,"body_markdown":"Actually, in `mysql-connector-j:8.0.31`, the default is indeed TRANSACTION_REPEATABLE_READ:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo it really depends on the version of the driver you&#39;re using.\r\n\r\n  [1]: https://i.stack.imgur.com/EyaKC.png","title":"Why mysql JDBC driver returns TRANSACTION_READ_COMMITTED as default isolation level","body":"<p>Actually, in <code>mysql-connector-j:8.0.31</code>, the default is indeed TRANSACTION_REPEATABLE_READ:</p>\n<p><a href=\"https://i.stack.imgur.com/EyaKC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EyaKC.png\" alt=\"enter image description here\" /></a></p>\n<p>So it really depends on the version of the driver you're using.</p>\n"}],"owner":{"account_id":15284220,"reputation":3452,"user_id":11027700,"display_name":"i.bondarenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1774,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58472480,"answer_count":2,"score":3,"last_activity_date":1676295252,"creation_date":1571567903,"question_id":58472144,"body_markdown":"As I know default transaction isolation level for Mysql DB is REPEATABLE_READ. (see [Mysql Transaction Isolation Levels][1]). But Mysql connector 8 has following code:\r\n\r\n\r\n    public class DatabaseMetaData implements java.sql.DatabaseMetaData {\r\n    ...\r\n        @Override  \r\n        public int getDefaultTransactionIsolation() throws SQLException {\r\n            return java.sql.Connection.TRANSACTION_READ_COMMITTED;\r\n        }\r\n    }\r\n\r\nThey just ignore default `REPEATABLE_READ` and set less restricted `TRANSACTION_READ_COMMITTED`.\r\n \r\nIt is not clear for me why they did it?\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/8.0/en/innodb-transaction-isolation-levels.html","title":"Why mysql JDBC driver returns TRANSACTION_READ_COMMITTED as default isolation level","body":"<p>As I know default transaction isolation level for Mysql DB is REPEATABLE_READ. (see <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-transaction-isolation-levels.html\" rel=\"nofollow noreferrer\">Mysql Transaction Isolation Levels</a>). But Mysql connector 8 has following code:</p>\n\n<pre><code>public class DatabaseMetaData implements java.sql.DatabaseMetaData {\n...\n    @Override  \n    public int getDefaultTransactionIsolation() throws SQLException {\n        return java.sql.Connection.TRANSACTION_READ_COMMITTED;\n    }\n}\n</code></pre>\n\n<p>They just ignore default <code>REPEATABLE_READ</code> and set less restricted <code>TRANSACTION_READ_COMMITTED</code>.</p>\n\n<p>It is not clear for me why they did it?</p>\n"},{"tags":["java","sonarqube","refactoring","code-readability"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1654677915,"post_id":72542618,"comment_id":128145506,"body_markdown":"Remove the numbered variables.","body":"Remove the numbered variables."},{"owner":{"account_id":7132908,"reputation":189,"user_id":5453550,"display_name":"NLxDoDge"},"score":0,"creation_date":1654677944,"post_id":72542618,"comment_id":128145518,"body_markdown":"Can you also post `AccessLevels` and `Relationship`? Maybe we can optimize this code block better then.","body":"Can you also post <code>AccessLevels</code> and <code>Relationship</code>? Maybe we can optimize this code block better then."},{"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"score":0,"creation_date":1654678024,"post_id":72542618,"comment_id":128145546,"body_markdown":"Its just example, I can&#39;t share real code. Just think numbers are different variables","body":"Its just example, I can&#39;t share real code. Just think numbers are different variables"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1654678425,"post_id":72542618,"comment_id":128145680,"body_markdown":"Remove all, rewrite from scratch.","body":"Remove all, rewrite from scratch."},{"owner":{"account_id":10812856,"reputation":1446,"user_id":7952953,"display_name":"logeshpalani31"},"score":0,"creation_date":1676295132,"post_id":72542618,"comment_id":133102520,"body_markdown":"In the issue, what is mean by 7 authorized","body":"In the issue, what is mean by 7 authorized"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654679388,"creation_date":1654679388,"answer_id":72543002,"question_id":72542618,"body_markdown":"You can use streams for your return statement to git rid of the sonar issue, but refactoring the whole thing might be a better idea\r\n\r\n    return Stream.of(readAccessLevel.isAll(),isAccessed1,isAccessed2,isAccessed3,\r\n            isAccessed4,isAccessed5,isAccessed6).anyMatch(Boolean.TRUE::equals);","title":"The Cyclomatic Complexity of this method is 13 which is greater than 10 authorized","body":"<p>You can use streams for your return statement to git rid of the sonar issue, but refactoring the whole thing might be a better idea</p>\n<pre><code>return Stream.of(readAccessLevel.isAll(),isAccessed1,isAccessed2,isAccessed3,\n        isAccessed4,isAccessed5,isAccessed6).anyMatch(Boolean.TRUE::equals);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10812856,"reputation":1446,"user_id":7952953,"display_name":"logeshpalani31"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676295145,"creation_date":1676295145,"answer_id":75436557,"question_id":72542618,"body_markdown":"Here, what is mean by 7 authorized ","title":"The Cyclomatic Complexity of this method is 13 which is greater than 10 authorized","body":"<p>Here, what is mean by 7 authorized</p>\n"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72543002,"answer_count":2,"score":0,"last_activity_date":1676295145,"creation_date":1654677642,"question_id":72542618,"body_markdown":"Please help reduce the cyclomatic complexity of this method. I don&#39;t really understand how this can be done, I need all the conditions in this method and obviously there are no duplicates.\r\n\r\n    private boolean isPropertyAccessed(AccessLevels readAccessLevel, Relationship relationship) {\r\n        boolean isAccessed1 = readAccessLevel.isAccessed1() &amp;&amp; relationship.getAccessed1Relationship() == ACCESSED1;\r\n        boolean isAccessed2 = readAccessLevel.isAccessed2() &amp;&amp; relationship.getAccessed2Relationship() == ACCESSED2;\r\n        boolean isAccessed3 = readAccessLevel.isAccessed3() &amp;&amp; relationship.getAccessed3Relationship() == ACCESSED3;\r\n        boolean isAccessed4 = readAccessLevel.isAccessed4() &amp;&amp; relationship.getAccessed4Relationship() == ACCESSED4;\r\n        boolean isAccessed5 = readAccessLevel.isAccessed5() &amp;&amp; relationship.getAccessed5Relationship() == ACCESSED5;\r\n        boolean isAccessed6 = readAccessLevel.isAccessed6() &amp;&amp; relationship.getAccessed6Relationship() == ACCESSED6;\r\n        return readAccessLevel.isAll() || isAccessed1 || isAccessed2 || isAccessed3\r\n            || isAccessed4 || isAccessed5 || isAccessed6;\r\n    }\r\n\r\nThanks","title":"The Cyclomatic Complexity of this method is 13 which is greater than 10 authorized","body":"<p>Please help reduce the cyclomatic complexity of this method. I don't really understand how this can be done, I need all the conditions in this method and obviously there are no duplicates.</p>\n<pre><code>private boolean isPropertyAccessed(AccessLevels readAccessLevel, Relationship relationship) {\n    boolean isAccessed1 = readAccessLevel.isAccessed1() &amp;&amp; relationship.getAccessed1Relationship() == ACCESSED1;\n    boolean isAccessed2 = readAccessLevel.isAccessed2() &amp;&amp; relationship.getAccessed2Relationship() == ACCESSED2;\n    boolean isAccessed3 = readAccessLevel.isAccessed3() &amp;&amp; relationship.getAccessed3Relationship() == ACCESSED3;\n    boolean isAccessed4 = readAccessLevel.isAccessed4() &amp;&amp; relationship.getAccessed4Relationship() == ACCESSED4;\n    boolean isAccessed5 = readAccessLevel.isAccessed5() &amp;&amp; relationship.getAccessed5Relationship() == ACCESSED5;\n    boolean isAccessed6 = readAccessLevel.isAccessed6() &amp;&amp; relationship.getAccessed6Relationship() == ACCESSED6;\n    return readAccessLevel.isAll() || isAccessed1 || isAccessed2 || isAccessed3\n        || isAccessed4 || isAccessed5 || isAccessed6;\n}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["javascript","java","xml","security","ws-security"],"comments":[{"owner":{"account_id":180089,"reputation":32736,"user_id":413180,"accept_rate":80,"display_name":"SilverlightFox"},"score":0,"creation_date":1448532219,"post_id":33916309,"comment_id":55631141,"body_markdown":"Can they enter any JavaScript they want? What prevents something else malicious from being entered (e.g. infinite loop to create a DOS attack)?","body":"Can they enter any JavaScript they want? What prevents something else malicious from being entered (e.g. infinite loop to create a DOS attack)?"},{"owner":{"account_id":251551,"reputation":516,"user_id":529033,"accept_rate":100,"display_name":"Zulfi Tapia"},"score":0,"creation_date":1448623728,"post_id":33916309,"comment_id":55670549,"body_markdown":"That&#39;s handled, the script is killed if it runs more than a certain time. There&#39;s some fighting against other possible attacks but for this I&#39;m stumped.","body":"That&#39;s handled, the script is killed if it runs more than a certain time. There&#39;s some fighting against other possible attacks but for this I&#39;m stumped."}],"owner":{"account_id":251551,"reputation":516,"user_id":529033,"accept_rate":100,"display_name":"Zulfi Tapia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676295122,"creation_date":1448453752,"question_id":33916309,"body_markdown":"I have an application that manages APIs.\r\nAs a part of creation of an API we allow users to enter some JavaScript that will be executed every time the API is hit.\r\n\r\nThis JavaScript is executed on the server side so the flow is -\r\n\r\n 1. End user hits API link generated by me \r\n 2. I run the JavaScript entered at API creation time \r\n 3. I forward the request to wherever\r\n 4. I return the result to the front end\r\n\r\nThe intended use case is to set some request headers and the like.\r\n\r\nNow, we recently had a security audit and this of course opens the door to an XXE vulnerability -\r\n\r\n    var x=&#39;&lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE foo [  &lt;!ELEMENT foo ANY &gt;&lt;!ENTITY lol SYSTEM &quot;file:///etc/xxxx&quot; &gt;]&gt;&lt;foo&gt;&amp;lol;&lt;/foo&gt;&#39;;\r\n    \r\n    \r\n    var xee = new javascript.ScriptableDocument(x);\r\n    \r\n    \r\n    context.setVariable(&quot;request.queryparam.foo&quot;,xee.toString()) \r\n\r\nI will have this entire content body in Java but how do I block against XEE vulnerabilities? I can imagine I&#39;d have to run through the incoming JavaScript look for any XML and use one of Java&#39;s well known XEE stripping methods (described [here][1] excellently).\r\n\r\nBut the persistent hacker can simply just befuddle any attempts to identify JavaScript XML identification on my part.\r\nExample -\r\n\r\n    var a=&#39;&lt;&#39;, b=&quot;?&quot; c=&quot;x&quot;;\r\n    \r\n    new javascript.ScriptableDocument(a+b+c+...);\r\n\r\nIs this an unwinnable fight? Or is there something super obvious I can do to mitigate this?\r\n\r\nThanks!\r\nZulfi\r\n\r\n  [1]: https://stackoverflow.com/questions/12977299/prevent-xxe-attack-with-jaxb","title":"XXE Vulnerabilities in incoming XML strings in Javascript code prased in Java","body":"<p>I have an application that manages APIs.\nAs a part of creation of an API we allow users to enter some JavaScript that will be executed every time the API is hit.</p>\n\n<p>This JavaScript is executed on the server side so the flow is -</p>\n\n<ol>\n<li>End user hits API link generated by me </li>\n<li>I run the JavaScript entered at API creation time </li>\n<li>I forward the request to wherever</li>\n<li>I return the result to the front end</li>\n</ol>\n\n<p>The intended use case is to set some request headers and the like.</p>\n\n<p>Now, we recently had a security audit and this of course opens the door to an XXE vulnerability -</p>\n\n<pre><code>var x='&lt;?xml version=\"1.0\"?&gt;&lt;!DOCTYPE foo [  &lt;!ELEMENT foo ANY &gt;&lt;!ENTITY lol SYSTEM \"file:///etc/xxxx\" &gt;]&gt;&lt;foo&gt;&amp;lol;&lt;/foo&gt;';\n\n\nvar xee = new javascript.ScriptableDocument(x);\n\n\ncontext.setVariable(\"request.queryparam.foo\",xee.toString()) \n</code></pre>\n\n<p>I will have this entire content body in Java but how do I block against XEE vulnerabilities? I can imagine I'd have to run through the incoming JavaScript look for any XML and use one of Java's well known XEE stripping methods (described <a href=\"https://stackoverflow.com/questions/12977299/prevent-xxe-attack-with-jaxb\">here</a> excellently).</p>\n\n<p>But the persistent hacker can simply just befuddle any attempts to identify JavaScript XML identification on my part.\nExample -</p>\n\n<pre><code>var a='&lt;', b=\"?\" c=\"x\";\n\nnew javascript.ScriptableDocument(a+b+c+...);\n</code></pre>\n\n<p>Is this an unwinnable fight? Or is there something super obvious I can do to mitigate this?</p>\n\n<p>Thanks!\nZulfi</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676269465,"post_id":75431390,"comment_id":133096037,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676278831,"post_id":75431390,"comment_id":133098005,"body_markdown":"*I used IntelliJ IDEA to extract the class into a JAR* Not an accurate description of what you should be doing. &quot;Build executable jar with IntelliJ&quot; would be","body":"<i>I used IntelliJ IDEA to extract the class into a JAR</i> Not an accurate description of what you should be doing. &quot;Build executable jar with IntelliJ&quot; would be"}],"owner":{"account_id":27770117,"reputation":1,"user_id":21200549,"display_name":"ret thechet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676294980,"creation_date":1676254152,"question_id":75431390,"body_markdown":"The class I have asks for input (NON GUI), but how do I make it a Jar, which would go to the CMD and ask for input?\r\n\r\nI used IntelliJ IDEA to extract the class into a JAR and when I run it nothing happens ","title":"How to make a JAR that opens CMD and displays text or asks for input?","body":"<p>The class I have asks for input (NON GUI), but how do I make it a Jar, which would go to the CMD and ask for input?</p>\n<p>I used IntelliJ IDEA to extract the class into a JAR and when I run it nothing happens</p>\n"},{"tags":["java","design-patterns","web-applications","value-objects","data-transfer-objects"],"comments":[{"owner":{"account_id":204470,"reputation":8571,"user_id":452708,"accept_rate":0,"display_name":"Abhijeet"},"score":2,"creation_date":1468921423,"post_id":8830957,"comment_id":64313972,"body_markdown":"[An object that carries data between processes in order to reduce the number of method calls.](http://martinfowler.com/eaaCatalog/dataTransferObject.html)","body":"<a href=\"http://martinfowler.com/eaaCatalog/dataTransferObject.html\" rel=\"nofollow noreferrer\">An object that carries data between processes in order to reduce the number of method calls.</a>"}],"answers":[{"tags":[],"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1326379981,"creation_date":1326379981,"answer_id":8837044,"question_id":8830957,"body_markdown":"A value object is a simple object whose equality isn&#39;t based on identity.\r\nA data transfer object is an object used to transfer data between software application subsystems, usually between business layers and UI. It is focused just on plain data, so it doesn&#39;t have any behaviour.","title":"Is a Data Transfer Object the same as a Value Object?","body":"<p>A value object is a simple object whose equality isn't based on identity.\nA data transfer object is an object used to transfer data between software application subsystems, usually between business layers and UI. It is focused just on plain data, so it doesn't have any behaviour.</p>\n"},{"tags":[],"owner":{"account_id":1159007,"reputation":210,"user_id":1138915,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1326382598,"creation_date":1326382598,"answer_id":8837737,"question_id":8830957,"body_markdown":"use a DTO at the boundary of your services if you don&#39;t want to send the actual domain object to the service&#39;s clients - this helps reduce dependencies between the client and service.\r\n\r\nvalues objects are simply objects whose equality isn&#39;t based on identity e.g. java.lang.Integer\r\n\r\nDTOs and value objects aren&#39;t really alternatives to each other.","title":"Is a Data Transfer Object the same as a Value Object?","body":"<p>use a DTO at the boundary of your services if you don't want to send the actual domain object to the service's clients - this helps reduce dependencies between the client and service.</p>\n\n<p>values objects are simply objects whose equality isn't based on identity e.g. java.lang.Integer</p>\n\n<p>DTOs and value objects aren't really alternatives to each other.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1439391424,"creation_date":1329313203,"answer_id":9294473,"question_id":8830957,"body_markdown":"A Data Transfer Object is a kludge for moving a bunch of data from one layer or tier to another, the goal is to minimize the number of calls back and forth by packing a bunch of stuff into the same data structure and sending it together. Some people also use it, like [Michael points out in his post here][1], so that the classes used by one layer are not exposed to the layer calling it. When I refer to DTO as a kludge, I mean there&#39;s not a precise abstract concept getting implemented, it&#39;s a practical workaround for helping with communication between application layers.\r\n\r\nA Value Object is something where we&#39;re only interested in its value, like a [monetary amount][2], a date range, or a code from a [lookup table][3]. It does not have an identity, meaning you would not be concerned, if you had several of them, of keeping track of which is which, because they are not things in themselves. \r\n\r\nContrast Value Objects to things that do have a unique identity in your system, which are called Entities. If you have a system where it tracks a customer making a payment, the customer and the payment are entities, because they represent specific things, but the monetary amount on the payment is just a value, it doesn&#39;t have an existence by itself, as far as your system is concerned. How something relates to your system determines if it is a Value Object or an Entity.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8837737/217324\r\n  [2]: http://martinfowler.com/bliki/CurrencyAsValue.html\r\n  [3]: http://www.simple-talk.com/sql/t-sql-programming/look-up-tables-in-sql-/","title":"Is a Data Transfer Object the same as a Value Object?","body":"<p>A Data Transfer Object is a kludge for moving a bunch of data from one layer or tier to another, the goal is to minimize the number of calls back and forth by packing a bunch of stuff into the same data structure and sending it together. Some people also use it, like <a href=\"https://stackoverflow.com/a/8837737/217324\">Michael points out in his post here</a>, so that the classes used by one layer are not exposed to the layer calling it. When I refer to DTO as a kludge, I mean there's not a precise abstract concept getting implemented, it's a practical workaround for helping with communication between application layers.</p>\n\n<p>A Value Object is something where we're only interested in its value, like a <a href=\"http://martinfowler.com/bliki/CurrencyAsValue.html\" rel=\"noreferrer\">monetary amount</a>, a date range, or a code from a <a href=\"http://www.simple-talk.com/sql/t-sql-programming/look-up-tables-in-sql-/\" rel=\"noreferrer\">lookup table</a>. It does not have an identity, meaning you would not be concerned, if you had several of them, of keeping track of which is which, because they are not things in themselves. </p>\n\n<p>Contrast Value Objects to things that do have a unique identity in your system, which are called Entities. If you have a system where it tracks a customer making a payment, the customer and the payment are entities, because they represent specific things, but the monetary amount on the payment is just a value, it doesn't have an existence by itself, as far as your system is concerned. How something relates to your system determines if it is a Value Object or an Entity.</p>\n"},{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533680104,"creation_date":1533679700,"answer_id":51736099,"question_id":8830957,"body_markdown":"They are different, but I&#39;ve even used the two interchangeably in the past, which is wrong.  I read that DTO (Data Transfer Object) was called a VO ( Value Object) in the first edition of the Core J2EE Patterns book, but wasn&#39;t able to find that reference.\r\n\r\nA DTO, which I&#39;ve sometimes called a Dumb Transfer Object to help me remember it&#39;s a container and shouldn&#39;t have any business logic is used to transport data between layers and tiers.  It just should be an object with attributes that has getters/setters.\r\n\r\nA VO however is similar to a JAVA Enum and represents a fixed set of data. A VO doesn&#39;t have object identity (the address of the object instance in memory), it is identified by its value and is immutable.","title":"Is a Data Transfer Object the same as a Value Object?","body":"<p>They are different, but I've even used the two interchangeably in the past, which is wrong.  I read that DTO (Data Transfer Object) was called a VO ( Value Object) in the first edition of the Core J2EE Patterns book, but wasn't able to find that reference.</p>\n\n<p>A DTO, which I've sometimes called a Dumb Transfer Object to help me remember it's a container and shouldn't have any business logic is used to transport data between layers and tiers.  It just should be an object with attributes that has getters/setters.</p>\n\n<p>A VO however is similar to a JAVA Enum and represents a fixed set of data. A VO doesn't have object identity (the address of the object instance in memory), it is identified by its value and is immutable.</p>\n"},{"tags":[],"owner":{"account_id":1734438,"reputation":36245,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630407180,"creation_date":1630407180,"answer_id":68997391,"question_id":8830957,"body_markdown":"[Martin Fowler, talking about Data Transfer Objects (DTOs)][1]:\r\n\r\n&gt; Many people in the Sun community use the term &quot;Value Object&quot; for this pattern. I use it to mean something else.\r\n\r\nSo the term &quot;Value Object&quot; has been used to mean DTO, but as of him (and the other posters), its use as a DTO seems discouraged.\r\n\r\n\r\n  [1]: https://martinfowler.com/eaaCatalog/dataTransferObject.html","title":"Is a Data Transfer Object the same as a Value Object?","body":"<p><a href=\"https://martinfowler.com/eaaCatalog/dataTransferObject.html\" rel=\"nofollow noreferrer\">Martin Fowler, talking about Data Transfer Objects (DTOs)</a>:</p>\n<blockquote>\n<p>Many people in the Sun community use the term &quot;Value Object&quot; for this pattern. I use it to mean something else.</p>\n</blockquote>\n<p>So the term &quot;Value Object&quot; has been used to mean DTO, but as of him (and the other posters), its use as a DTO seems discouraged.</p>\n"},{"tags":[],"owner":{"account_id":16389090,"reputation":21,"user_id":11838304,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671396696,"creation_date":1671396696,"answer_id":74844328,"question_id":8830957,"body_markdown":"Good detailed answer in Matthias Noback article [Is it a DTO or a Value Object?][1]  \r\nIn short a DTO:\r\n\r\n    Declares and enforces a schema for data: names and types\r\n    Offers no guarantees about correctness of values\r\n\r\nA value object:\r\n\r\n    Wraps one or more values or value objects\r\n    Provides evidence of the correctness of these values\r\n\r\n\r\n\r\n\r\n  [1]: https://matthiasnoback.nl/2022/09/is-it-a-dto-or-a-value-object/","title":"Is a Data Transfer Object the same as a Value Object?","body":"<p>Good detailed answer in Matthias Noback article <a href=\"https://matthiasnoback.nl/2022/09/is-it-a-dto-or-a-value-object/\" rel=\"nofollow noreferrer\">Is it a DTO or a Value Object?</a><br />\nIn short a DTO:</p>\n<pre><code>Declares and enforces a schema for data: names and types\nOffers no guarantees about correctness of values\n</code></pre>\n<p>A value object:</p>\n<pre><code>Wraps one or more values or value objects\nProvides evidence of the correctness of these values\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25314120,"reputation":39,"user_id":19136486,"display_name":"Zeljko Miloradovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676294779,"creation_date":1676294779,"answer_id":75436492,"question_id":8830957,"body_markdown":"Maybe because of lack of experience, but I would put it this way: It&#39;s the matter of scope. \r\n\r\nDTO has word transfer in it so it means some parts of the system will communicate using it.\r\n\r\nValue object has smaller scope, you will pass set of data in value object instead in array from one service to the other.\r\n\r\nAs much as I understood niether of them is &quot;object whose equality isn&#39;t based on identity&quot;.","title":"Is a Data Transfer Object the same as a Value Object?","body":"<p>Maybe because of lack of experience, but I would put it this way: It's the matter of scope.</p>\n<p>DTO has word transfer in it so it means some parts of the system will communicate using it.</p>\n<p>Value object has smaller scope, you will pass set of data in value object instead in array from one service to the other.</p>\n<p>As much as I understood niether of them is &quot;object whose equality isn't based on identity&quot;.</p>\n"}],"owner":{"account_id":1166732,"reputation":1590,"user_id":1144812,"accept_rate":78,"display_name":"Gaurav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12385,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":8837044,"answer_count":7,"score":22,"last_activity_date":1676294779,"creation_date":1326349285,"question_id":8830957,"body_markdown":"Is a Data Transfer Object the same as a Value Object or are they different? If they are different then where should we use a DTO and where should we use a VO?\r\n\r\nThe programming language we are talking about is Java and the context is - there is a web application, which fetches data from a database and then processes it and ultimately the processed information is displayed on the front-end.","title":"Is a Data Transfer Object the same as a Value Object?","body":"<p>Is a Data Transfer Object the same as a Value Object or are they different? If they are different then where should we use a DTO and where should we use a VO?</p>\n<p>The programming language we are talking about is Java and the context is - there is a web application, which fetches data from a database and then processes it and ultimately the processed information is displayed on the front-end.</p>\n"},{"tags":["java","rest","gson"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1676258332,"post_id":75431632,"comment_id":133094822,"body_markdown":"if the parser is fine, it might jsut be your pojo","body":"if the parser is fine, it might jsut be your pojo"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676259735,"post_id":75431632,"comment_id":133094955,"body_markdown":"What&#39;s `UsuarioPessoa`?","body":"What&#39;s <code>UsuarioPessoa</code>?"}],"owner":{"account_id":27770199,"reputation":1,"user_id":21200616,"display_name":"Lucas Baur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676294767,"answer_count":0,"score":0,"last_activity_date":1676294757,"creation_date":1676257976,"question_id":75431632,"body_markdown":"When I try to receive a JSON, Gson shows the following message error:\r\n\r\n&gt; Expected a string but was BEGIN_OBJECT\r\n\r\nActually at the line `System.out.println(jsonCep.toString());` I can see the right JSON. Here&#39;s the JSON printed:\r\n\r\n`{&quot;status&quot;:{&quot;code&quot;:200,&quot;message&quot;:&quot;Ok&quot;},&quot;data&quot;:\\[\\],&quot;page&quot;:{&quot;next&quot;:&quot;https://sandbox-api.arquivei.com.br/v1/nfe/received?cnpj%5C%5B0%5C%5D=34174654000153&amp;cursor=0&amp;limit=50%22,%22previous%22:%22https://sandbox-api.arquivei.com.br/v1/nfe/received?cnpj%5C%5B0%5C%5D=34174654000153&amp;cursor=0&amp;limit=50%22%7D,%22count%22:0,%22signature%22:%224f53cda18c2baa0c0354bb5f9a3ecbe5ed12ab4d8e11ba873c2f11161202b945&quot;}`\r\n\r\nBut when I try to send JSON to an object, it shows the error. Here is the line where I try to receive a JSON converted:\r\n```\r\nUsuarioPessoa user = new Gson().fromJson(jsonCep.toString(), UsuarioPessoa.class);\r\n```\r\n\r\nHere is my full code:\r\n\r\n```java\r\npublic void pesquisaCode() {\r\n\ttry {\r\n    \tString code=&quot;34174654000153&quot;;\r\n    \tString apikey = &quot;69087091f4d28d29e5c2d326831c86bfc7903634&quot;;\r\n    \tString apiID=&quot;b79cbfedaf0d9b0be1a3a2d7263fdc61c94e2311&quot;;\r\n    \tURL url = new URL(&quot;https://sandbox-api.arquivei.com.br/v1/nfe/received?cnpj[]=&quot;+code+&quot;&quot;);\r\n    \tURLConnection connection = url.openConnection();\r\n    \tconnection.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json&quot;);\r\n    \tconnection.setRequestProperty(&quot;X-API-KEY&quot;, apikey);\r\n    \tconnection.setRequestProperty(&quot;X-API-ID&quot;, apiID);\r\n    \t((HttpURLConnection) connection).setRequestMethod(&quot;GET&quot;);\r\n    \tconnection.setDoOutput(true);\r\n    \tInputStream is = connection.getInputStream();\r\n    \tBufferedReader br = new BufferedReader(new InputStreamReader(is, &quot;UTF-8&quot;));\r\n\r\n\t\tString cep=&quot;&quot;;\r\n\t\tStringBuilder jsonCep = new StringBuilder();\r\n\t\twhile((cep = br.readLine()) != null) {\r\n\t\t    jsonCep.append(cep);\r\n\t\t}\r\n\t\tSystem.out.println(jsonCep.toString());\r\n\t\tUsuarioPessoa user = new Gson().fromJson(jsonCep.toString(), UsuarioPessoa.class);\r\n\t}\t\r\n\tcatch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n```\r\n\r\nI would like to receive in my object the following result. Here is the result in postman.\r\n\r\n```json\r\n{\r\n  &quot;status&quot;: {\r\n    &quot;code&quot;: 200,\r\n    &quot;message&quot;: &quot;Ok&quot;\r\n  },\r\n  &quot;data&quot;: [\r\n    \r\n  ],\r\n  &quot;page&quot;: {\r\n    &quot;next&quot;: &quot;https:\\/\\/sandbox-api.arquivei.com.br\\/v1\\/nfe\\/received?cnpj[0]=34174654000153&amp;cursor=0&amp;limit=50&quot;,\r\n    &quot;previous&quot;: &quot;https:\\/\\/sandbox-api.arquivei.com.br\\/v1\\/nfe\\/received?cnpj[0]=34174654000153&amp;cursor=0&amp;limit=50&quot;\r\n  },\r\n  &quot;count&quot;: 0,\r\n  &quot;signature&quot;: &quot;4f53cda18c2baa0c0354bb5f9a3ecbe5ed12ab4d8e11ba873c2f11161202b945&quot;\r\n}\r\n```","title":"JSON GSON - Expected a string but was BEGIN_OBJECT","body":"<p>When I try to receive a JSON, Gson shows the following message error:</p>\n<blockquote>\n<p>Expected a string but was BEGIN_OBJECT</p>\n</blockquote>\n<p>Actually at the line <code>System.out.println(jsonCep.toString());</code> I can see the right JSON. Here's the JSON printed:</p>\n<p><code>{&quot;status&quot;:{&quot;code&quot;:200,&quot;message&quot;:&quot;Ok&quot;},&quot;data&quot;:\\[\\],&quot;page&quot;:{&quot;next&quot;:&quot;https://sandbox-api.arquivei.com.br/v1/nfe/received?cnpj%5C%5B0%5C%5D=34174654000153&amp;cursor=0&amp;limit=50%22,%22previous%22:%22https://sandbox-api.arquivei.com.br/v1/nfe/received?cnpj%5C%5B0%5C%5D=34174654000153&amp;cursor=0&amp;limit=50%22%7D,%22count%22:0,%22signature%22:%224f53cda18c2baa0c0354bb5f9a3ecbe5ed12ab4d8e11ba873c2f11161202b945&quot;}</code></p>\n<p>But when I try to send JSON to an object, it shows the error. Here is the line where I try to receive a JSON converted:</p>\n<pre><code>UsuarioPessoa user = new Gson().fromJson(jsonCep.toString(), UsuarioPessoa.class);\n</code></pre>\n<p>Here is my full code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void pesquisaCode() {\n    try {\n        String code=&quot;34174654000153&quot;;\n        String apikey = &quot;69087091f4d28d29e5c2d326831c86bfc7903634&quot;;\n        String apiID=&quot;b79cbfedaf0d9b0be1a3a2d7263fdc61c94e2311&quot;;\n        URL url = new URL(&quot;https://sandbox-api.arquivei.com.br/v1/nfe/received?cnpj[]=&quot;+code+&quot;&quot;);\n        URLConnection connection = url.openConnection();\n        connection.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json&quot;);\n        connection.setRequestProperty(&quot;X-API-KEY&quot;, apikey);\n        connection.setRequestProperty(&quot;X-API-ID&quot;, apiID);\n        ((HttpURLConnection) connection).setRequestMethod(&quot;GET&quot;);\n        connection.setDoOutput(true);\n        InputStream is = connection.getInputStream();\n        BufferedReader br = new BufferedReader(new InputStreamReader(is, &quot;UTF-8&quot;));\n\n        String cep=&quot;&quot;;\n        StringBuilder jsonCep = new StringBuilder();\n        while((cep = br.readLine()) != null) {\n            jsonCep.append(cep);\n        }\n        System.out.println(jsonCep.toString());\n        UsuarioPessoa user = new Gson().fromJson(jsonCep.toString(), UsuarioPessoa.class);\n    }   \n    catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I would like to receive in my object the following result. Here is the result in postman.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;status&quot;: {\n    &quot;code&quot;: 200,\n    &quot;message&quot;: &quot;Ok&quot;\n  },\n  &quot;data&quot;: [\n    \n  ],\n  &quot;page&quot;: {\n    &quot;next&quot;: &quot;https:\\/\\/sandbox-api.arquivei.com.br\\/v1\\/nfe\\/received?cnpj[0]=34174654000153&amp;cursor=0&amp;limit=50&quot;,\n    &quot;previous&quot;: &quot;https:\\/\\/sandbox-api.arquivei.com.br\\/v1\\/nfe\\/received?cnpj[0]=34174654000153&amp;cursor=0&amp;limit=50&quot;\n  },\n  &quot;count&quot;: 0,\n  &quot;signature&quot;: &quot;4f53cda18c2baa0c0354bb5f9a3ecbe5ed12ab4d8e11ba873c2f11161202b945&quot;\n}\n</code></pre>\n"},{"tags":["java","arrays","string","object","parameters"],"comments":[{"owner":{"account_id":1391063,"reputation":111,"user_id":1321893,"display_name":"Apar"},"score":0,"creation_date":1676289258,"post_id":75434421,"comment_id":133100744,"body_markdown":"String is immutable, better to  check this https://stackoverflow.com/questions/1552301/immutability-of-strings-in-java","body":"String is immutable, better to  check this <a href=\"https://stackoverflow.com/questions/1552301/immutability-of-strings-in-java\" title=\"immutability of strings in java\">stackoverflow.com/questions/1552301/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676294422,"post_id":75434421,"comment_id":133102318,"body_markdown":"You are modifying (the contents of) the array, but you are not modifying the string, you are assigning a different string to the parameter.","body":"You are modifying (the contents of) the array, but you are not modifying the string, you are assigning a different string to the parameter."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676283031,"creation_date":1676283031,"answer_id":75434474,"question_id":75434421,"body_markdown":"In your first method:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    static int[] changeFirstEntryToZero(int[] array) {\r\n        array[0] = 0;\r\n        return array;\r\n    }\r\n\r\nwhen you use `array[0] = 0` you are deferencing the array and accessing the first element of the original array passed to the method.  You may conceptually think of passing an array as passing a reference to the original array.\r\n\r\nOn the other hand, in the second method:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    static String changeString(String s) {\r\n        s = &quot;changed&quot;;\r\n        return s;\r\n    }\r\n\r\nthe string `s` is a variable which is _local_ to the method.  When the method is called, it will be assigned the value of the string being passed in.  However, making an assignment to `s` only affects this local string, and not the original string which was passed in.","title":"Changing arrays inside a method also changes them permanently. Does this apply to Strings too, since they are objects?","body":"<p>In your first method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int[] changeFirstEntryToZero(int[] array) {\n    array[0] = 0;\n    return array;\n}\n</code></pre>\n<p>when you use <code>array[0] = 0</code> you are deferencing the array and accessing the first element of the original array passed to the method.  You may conceptually think of passing an array as passing a reference to the original array.</p>\n<p>On the other hand, in the second method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String changeString(String s) {\n    s = &quot;changed&quot;;\n    return s;\n}\n</code></pre>\n<p>the string <code>s</code> is a variable which is <em>local</em> to the method.  When the method is called, it will be assigned the value of the string being passed in.  However, making an assignment to <code>s</code> only affects this local string, and not the original string which was passed in.</p>\n"}],"owner":{"account_id":27735415,"reputation":15,"user_id":21173114,"display_name":"grecode97"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1676294470,"answer_count":1,"score":-1,"last_activity_date":1676294381,"creation_date":1676282688,"question_id":75434421,"body_markdown":"I do know that when you pass an array as a parameter into a method and then alter it in some way, the original array will be changed. However, does this also apply to Strings?\r\n\r\nIf you have these variables:\r\n```\r\nint[] testArray = {1,2,3};\r\nString testString = &quot;helloWorld&quot;;\r\n```\r\n\r\nAnd these methods:\r\n```\r\nstatic int[] changeFirstEntryToZero(int[] array) {\r\n\t\tarray[0] = 0;\r\n\t\treturn array;\r\n}\r\n\r\nstatic String changeString(String s) {\r\n\t\ts = &quot;changed&quot;;\r\n\t\treturn s;\r\n}\r\n```\r\n\r\nAnd then in the main method you do this:\r\n\r\n```\r\nSystem.out.println(testArray[0]);\r\nchangeFirstEntryToZero(testArray);\r\nSystem.out.println(testArray[0]);\r\n\r\nSystem.out.println(testString);\r\nchangeString(testString);\r\nSystem.out.println(testString);\r\n```\r\n\r\nThen the result is this:\r\n\r\n1\r\n\r\n0\r\n\r\nhelloworld\r\n\r\nhelloworld\r\n\r\nThat tells me that it does not permanently change the String. But why?\r\n\r\nI thought that Strings are objects too in Java. Is there something I&#39;m missing, or is it that simple?\r\n\r\nCould a String accidentally be permanently changed if I did something slightly different.","title":"Changing arrays inside a method also changes them permanently. Does this apply to Strings too, since they are objects?","body":"<p>I do know that when you pass an array as a parameter into a method and then alter it in some way, the original array will be changed. However, does this also apply to Strings?</p>\n<p>If you have these variables:</p>\n<pre><code>int[] testArray = {1,2,3};\nString testString = &quot;helloWorld&quot;;\n</code></pre>\n<p>And these methods:</p>\n<pre><code>static int[] changeFirstEntryToZero(int[] array) {\n        array[0] = 0;\n        return array;\n}\n\nstatic String changeString(String s) {\n        s = &quot;changed&quot;;\n        return s;\n}\n</code></pre>\n<p>And then in the main method you do this:</p>\n<pre><code>System.out.println(testArray[0]);\nchangeFirstEntryToZero(testArray);\nSystem.out.println(testArray[0]);\n\nSystem.out.println(testString);\nchangeString(testString);\nSystem.out.println(testString);\n</code></pre>\n<p>Then the result is this:</p>\n<p>1</p>\n<p>0</p>\n<p>helloworld</p>\n<p>helloworld</p>\n<p>That tells me that it does not permanently change the String. But why?</p>\n<p>I thought that Strings are objects too in Java. Is there something I'm missing, or is it that simple?</p>\n<p>Could a String accidentally be permanently changed if I did something slightly different.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":3471610,"reputation":15218,"user_id":2905768,"accept_rate":80,"display_name":"PMF"},"score":3,"creation_date":1676267825,"post_id":75432272,"comment_id":133095793,"body_markdown":"You are reading paragraph by paragraph, there are no line numbers in paragraphs. How many lines or pages this will give depends on page size, font size, etc.","body":"You are reading paragraph by paragraph, there are no line numbers in paragraphs. How many lines or pages this will give depends on page size, font size, etc."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":2,"creation_date":1676279660,"post_id":75432272,"comment_id":133098204,"body_markdown":"Render to a page-based format like PDF, then check? (Word DOC / DOCX are not page based)","body":"Render to a page-based format like PDF, then check? (Word DOC / DOCX are not page based)"},{"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"score":0,"creation_date":1676458693,"post_id":75432272,"comment_id":133139303,"body_markdown":"Is it possible to read a word file element by element including paragraphs, tables and images, shapes in the order in which they are and having a track of page number using any other library?","body":"Is it possible to read a word file element by element including paragraphs, tables and images, shapes in the order in which they are and having a track of page number using any other library?"}],"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676294241,"creation_date":1676267414,"question_id":75432272,"body_markdown":"While reading the Word file element by element using the Apache POI library, I need to have a track of current page number and current line number where the element is at? I have used the below code to get element by element:\r\n\r\n```\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport org.apache.poi.xwpf.usermodel.*;\r\n\r\npublic class ReadWordFile {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            // Open the Word file using an InputStream\r\n            FileInputStream fis = new FileInputStream(&quot;file.docx&quot;);\r\n            // Create an XWPFDocument object to represent the Word file\r\n            XWPFDocument document = new XWPFDocument(fis);\r\n            // Iterate through the elements in the Word file\r\n            for (IBodyElement element : document.getBodyElements()) {\r\n                if (element instanceof XWPFParagraph) {\r\n                    // If the element is a paragraph, retrieve the text\r\n                    XWPFParagraph paragraph = (XWPFParagraph) element;\r\n                    String text = paragraph.getText();\r\n                    System.out.println(text);\r\n                } else if (element instanceof XWPFTable) {\r\n                    // If the element is a table, iterate through the rows and cells\r\n                    XWPFTable table = (XWPFTable) element;\r\n                    for (XWPFTableRow row : table.getRows()) {\r\n                        for (XWPFTableCell cell : row.getTableCells()) {\r\n                            String text = cell.getText();\r\n                            System.out.println(text);\r\n                        }\r\n                    }\r\n                } else if (element instanceof XWPFRun) {\r\n                    // If the element is an image, retrieve it and save it to a file\r\n                    XWPFRun run = (XWPFRun) element;\r\n                    if (run.getEmbeddedPictures() != null &amp;&amp; run.getEmbeddedPictures().size() &gt; 0) {\r\n                        XWPFPicture picture = run.getEmbeddedPictures().get(0);\r\n                        byte[] data = picture.getPictureData().getData();\r\n                    }\r\n                }\r\n            }\r\n            // Close the input stream\r\n            fis.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"How can we get the current page number and line number of an element in word file","body":"<p>While reading the Word file element by element using the Apache POI library, I need to have a track of current page number and current line number where the element is at? I have used the below code to get element by element:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.IOException;\nimport org.apache.poi.xwpf.usermodel.*;\n\npublic class ReadWordFile {\n\n    public static void main(String[] args) {\n        try {\n            // Open the Word file using an InputStream\n            FileInputStream fis = new FileInputStream(&quot;file.docx&quot;);\n            // Create an XWPFDocument object to represent the Word file\n            XWPFDocument document = new XWPFDocument(fis);\n            // Iterate through the elements in the Word file\n            for (IBodyElement element : document.getBodyElements()) {\n                if (element instanceof XWPFParagraph) {\n                    // If the element is a paragraph, retrieve the text\n                    XWPFParagraph paragraph = (XWPFParagraph) element;\n                    String text = paragraph.getText();\n                    System.out.println(text);\n                } else if (element instanceof XWPFTable) {\n                    // If the element is a table, iterate through the rows and cells\n                    XWPFTable table = (XWPFTable) element;\n                    for (XWPFTableRow row : table.getRows()) {\n                        for (XWPFTableCell cell : row.getTableCells()) {\n                            String text = cell.getText();\n                            System.out.println(text);\n                        }\n                    }\n                } else if (element instanceof XWPFRun) {\n                    // If the element is an image, retrieve it and save it to a file\n                    XWPFRun run = (XWPFRun) element;\n                    if (run.getEmbeddedPictures() != null &amp;&amp; run.getEmbeddedPictures().size() &gt; 0) {\n                        XWPFPicture picture = run.getEmbeddedPictures().get(0);\n                        byte[] data = picture.getPictureData().getData();\n                    }\n                }\n            }\n            // Close the input stream\n            fis.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":14505927,"reputation":472,"user_id":10477712,"display_name":"Raheela Aslam"},"score":0,"creation_date":1541579156,"post_id":53185575,"comment_id":93260936,"body_markdown":"Please have a look inot https://github.com/spring-projects/spring-boot/issues/13833#issuecomment-412368711. May it will help you.","body":"Please have a look inot <a href=\"https://github.com/spring-projects/spring-boot/issues/13833#issuecomment-412368711\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/&hellip;</a>. May it will help you."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1541579284,"post_id":53185575,"comment_id":93260997,"body_markdown":"That ticket won&#39;t help I guess. I suspect this is an oversight in the implementation of the bootstrap mode. I suggest raising a ticket on the Spring Data JPA project.","body":"That ticket won&#39;t help I guess. I suspect this is an oversight in the implementation of the bootstrap mode. I suggest raising a ticket on the Spring Data JPA project."}],"answers":[{"tags":[],"owner":{"account_id":4745035,"reputation":1,"user_id":3836604,"display_name":"Melih Ozdemirkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543328156,"creation_date":1543328156,"answer_id":53501684,"question_id":53185575,"body_markdown":"Setting BootstrapMode.LAZY is working with multiple EMF. I had the same problem with DEFERRED mode. ","title":"Spring Data Jpa multiple @EnableJpaRepositories with BootstrapMode.DEFERRED not working","body":"<p>Setting BootstrapMode.LAZY is working with multiple EMF. I had the same problem with DEFERRED mode. </p>\n"},{"tags":[],"owner":{"account_id":27572705,"reputation":41,"user_id":21043571,"display_name":"Pete Nattress"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676294160,"creation_date":1676294160,"answer_id":75436382,"question_id":53185575,"body_markdown":"If you look at the [the bean][1] which is being erroneously re-registered, its implementation is simply doing a call to `beanFactory.getBeansOfType(Repository.class)`, which will force all repositories in the app context to be initialized on application startup, regardless of their EMF. So in theory it should be safe to have only one EMF marked as `DEFERRED` to get the desired behaviour.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-commons/blob/main/src/main/java/org/springframework/data/repository/config/DeferredRepositoryInitializationListener.java","title":"Spring Data Jpa multiple @EnableJpaRepositories with BootstrapMode.DEFERRED not working","body":"<p>If you look at the <a href=\"https://github.com/spring-projects/spring-data-commons/blob/main/src/main/java/org/springframework/data/repository/config/DeferredRepositoryInitializationListener.java\" rel=\"nofollow noreferrer\">the bean</a> which is being erroneously re-registered, its implementation is simply doing a call to <code>beanFactory.getBeansOfType(Repository.class)</code>, which will force all repositories in the app context to be initialized on application startup, regardless of their EMF. So in theory it should be safe to have only one EMF marked as <code>DEFERRED</code> to get the desired behaviour.</p>\n"}],"owner":{"account_id":6105471,"reputation":4298,"user_id":4763309,"accept_rate":75,"display_name":"mrkernelpanic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676294160,"creation_date":1541578167,"question_id":53185575,"body_markdown":"I have two `DataSource` beans in my Spring Boot application and also two `LocalContainerEntityManagerFactoryBean` beans to configure Jpa and Hibernate for each of them. Thus I have 2 Spring Java Configs for them.\r\n\r\n**After upgrading to** Spring Boot 2.1.0 I wanted to enable the new BootstrapMode `BootstrapMode.DEFERRED` for both configurations, but my application failed to startup in my StartupTests and also when starting the application in real.\r\n\r\n**LOG**\r\n\r\n    main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFERRED mode.\r\n    main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 394ms. Found 14 repository interfaces.\r\n    main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFERRED mode.\r\n    main] o.s.boot.SpringApplication               : Application run failed\r\n\r\n**Exception**\r\n\r\n    java.lang.IllegalStateException: Could not register object\r\n     [org.springframework.data.repository.config.DeferredRepositoryInitializationListener@422ab737]\r\n     under bean name\r\n     &#39;org.springframework.data.repository.config.DeferredRepositoryInitializationListener&#39;:\r\n     there is already object\r\n     [org.springframework.data.repository.config.DeferredRepositoryInitializationListener@3fe512d2]\r\n     bound \tat\r\n     org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.registerSingleton(DefaultSingletonBeanRegistry.java:120)\r\n     \tat\r\n     org.springframework.beans.factory.support.DefaultListableBeanFactory.registerSingleton(DefaultListableBeanFactory.java:1027)\r\n     \tat\r\n     org.springframework.data.repository.config.RepositoryConfigurationDelegate.potentiallyLazifyRepositories(RepositoryConfigurationDelegate.java:226)\r\n     \tat\r\n     org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:177)\r\n     \tat\r\n     org.springframework.data.repository.config.RepositoryBeanDefinitionRegistrarSupport.registerBeanDefinitions(RepositoryBeanDefinitionRegistrarSupport.java:85)\r\n     \tat\r\n     org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:364)\r\n     \tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\r\n     \tat\r\n     org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:363)\r\n     \tat\r\n     org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:145)\r\n     \tat\r\n     org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:117)\r\n     \tat\r\n     org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:327)\r\n     \tat\r\n     org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232)\r\n     \tat\r\n     org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\r\n     \tat\r\n     org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\r\n     \tat\r\n     org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:691)\r\n     \tat\r\n     org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\r\n     \tat\r\n     org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\r\n     \tat\r\n     org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\r\n     \tat\r\n     org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n     \tat\r\n     org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\r\n     \tat\r\n     org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\r\n     \tat\r\n     org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\r\n\r\nI managed to get the application startup when only **ONE** `@EnableJpaRepositories` was set to `BootstrapMode.DEFERRED` and the other to `BootstrapMode.DEFAULT`.\r\n\r\n**Question**\r\n\r\nSo my question is: Is it possible to configure multiple Spring Configurations with `@EnableJpaRepositories` and both `BootstrapMode` set to `DEFERRED`?","title":"Spring Data Jpa multiple @EnableJpaRepositories with BootstrapMode.DEFERRED not working","body":"<p>I have two <code>DataSource</code> beans in my Spring Boot application and also two <code>LocalContainerEntityManagerFactoryBean</code> beans to configure Jpa and Hibernate for each of them. Thus I have 2 Spring Java Configs for them.</p>\n\n<p><strong>After upgrading to</strong> Spring Boot 2.1.0 I wanted to enable the new BootstrapMode <code>BootstrapMode.DEFERRED</code> for both configurations, but my application failed to startup in my StartupTests and also when starting the application in real.</p>\n\n<p><strong>LOG</strong></p>\n\n<pre><code>main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFERRED mode.\nmain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 394ms. Found 14 repository interfaces.\nmain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFERRED mode.\nmain] o.s.boot.SpringApplication               : Application run failed\n</code></pre>\n\n<p><strong>Exception</strong></p>\n\n<pre><code>java.lang.IllegalStateException: Could not register object\n [org.springframework.data.repository.config.DeferredRepositoryInitializationListener@422ab737]\n under bean name\n 'org.springframework.data.repository.config.DeferredRepositoryInitializationListener':\n there is already object\n [org.springframework.data.repository.config.DeferredRepositoryInitializationListener@3fe512d2]\n bound  at\n org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.registerSingleton(DefaultSingletonBeanRegistry.java:120)\n    at\n org.springframework.beans.factory.support.DefaultListableBeanFactory.registerSingleton(DefaultListableBeanFactory.java:1027)\n    at\n org.springframework.data.repository.config.RepositoryConfigurationDelegate.potentiallyLazifyRepositories(RepositoryConfigurationDelegate.java:226)\n    at\n org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:177)\n    at\n org.springframework.data.repository.config.RepositoryBeanDefinitionRegistrarSupport.registerBeanDefinitions(RepositoryBeanDefinitionRegistrarSupport.java:85)\n    at\n org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:364)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\n    at\n org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:363)\n    at\n org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:145)\n    at\n org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:117)\n    at\n org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:327)\n    at\n org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232)\n    at\n org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\n    at\n org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\n    at\n org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:691)\n    at\n org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\n    at\n org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\n    at\n org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\n    at\n org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n    at\n org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\n    at\n org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\n    at\n org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\n</code></pre>\n\n<p>I managed to get the application startup when only <strong>ONE</strong> <code>@EnableJpaRepositories</code> was set to <code>BootstrapMode.DEFERRED</code> and the other to <code>BootstrapMode.DEFAULT</code>.</p>\n\n<p><strong>Question</strong></p>\n\n<p>So my question is: Is it possible to configure multiple Spring Configurations with <code>@EnableJpaRepositories</code> and both <code>BootstrapMode</code> set to <code>DEFERRED</code>?</p>\n"},{"tags":["java","glassfish","ejb","cdi","ejb-3.1"],"answers":[{"tags":[],"owner":{"account_id":34986,"reputation":17510,"user_id":98959,"display_name":"covener"},"down_vote_count":2,"up_vote_count":9,"is_accepted":true,"score":7,"last_activity_date":1496827103,"creation_date":1321729757,"answer_id":8196527,"question_id":8166187,"body_markdown":"You can lookup the `BeanManager` via JNDI (`java:comp/BeanManager`) then use the JSR-299 API hung off of the `BeanManager` to get a contextual reference to a managed bean.\r\n\r\nJSR-299 managed beans are not available for direct JNDI lookup.\r\n\r\n","title":"Can I (and how) lookup CDI managed beans using javax.naming.Context#lookup in EJB module?","body":"<p>You can lookup the <code>BeanManager</code> via JNDI (<code>java:comp/BeanManager</code>) then use the JSR-299 API hung off of the <code>BeanManager</code> to get a contextual reference to a managed bean.</p>\n\n<p>JSR-299 managed beans are not available for direct JNDI lookup.</p>\n"},{"tags":[],"owner":{"account_id":3057808,"reputation":4769,"user_id":2591088,"accept_rate":80,"display_name":"Chris Ritchie"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1490921989,"creation_date":1426011237,"answer_id":28971109,"question_id":8166187,"body_markdown":"You can also access the BeanManager by using CDI.current(), which saves you typing a good few lines of code. Example taken from [here][1]\r\n\r\nUsing CDI.current()\r\n\r\n    BeanManager bm = CDI.current().getBeanManager();\r\n\r\nUsing JNDI:\r\n\r\n    BeanManager bm = null;\r\n    try {\r\n        InitialContext context = new InitialContext();\r\n        bm = (BeanManager) context.lookup(&quot;java:comp/BeanManager&quot;);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nNow you have the BeanManager you can access your CDI beans by doing either a type-based lookup or a name-based lookup.\r\n\r\nType based:\r\n\r\n    Bean&lt;CrudService&gt; bean = (Bean&lt;CrudService&gt;) bm.getBeans(CrudService.class).iterator().next();\r\n    CreationalContext&lt;CrudService&gt; ctx = bm.createCreationalContext(bean);\r\n    CrudService crudService = (CrudService) bm.getReference(bean, CrudService.class, ctx);\r\n\r\nName-based\r\n\r\n    Bean bean = bm.getBeans(&quot;crudService&quot;).iterator().next();\r\n    CreationalContext ctx = bm.createCreationalContext(bean);\r\n    CrudService crudService = bm.getReference(bean, bean.getClass(), ctx);\r\n\r\nFull example:\r\n\r\n    //get reference to BeanManager\r\n    BeanManager bm = CDI.current().getBeanManager();\r\n    Bean&lt;CrudService&gt; bean = (Bean&lt;CrudService&gt;) bm.getBeans(CrudService.class).iterator().next();\r\n    CreationalContext&lt;CrudService&gt; ctx = bm.createCreationalContext(bean);\r\n    \r\n    //get reference to your CDI managed bean\r\n    CrudService crudService = (CrudService) bm.getReference(bean, CrudService.class, ctx);\r\n\r\n  [1]: http://blog.chris-ritchie.com/2015/03/obtaining-reference-to-cdi-managed-bean.html\r\n\r\nUPDATE - This can now be achieved in one line if you are using CDI 1.1:\r\n\r\n    CrudService crudService = CDI.current().select(CrudService.class).get();\r\n","title":"Can I (and how) lookup CDI managed beans using javax.naming.Context#lookup in EJB module?","body":"<p>You can also access the BeanManager by using CDI.current(), which saves you typing a good few lines of code. Example taken from <a href=\"http://blog.chris-ritchie.com/2015/03/obtaining-reference-to-cdi-managed-bean.html\" rel=\"noreferrer\">here</a></p>\n\n<p>Using CDI.current()</p>\n\n<pre><code>BeanManager bm = CDI.current().getBeanManager();\n</code></pre>\n\n<p>Using JNDI:</p>\n\n<pre><code>BeanManager bm = null;\ntry {\n    InitialContext context = new InitialContext();\n    bm = (BeanManager) context.lookup(\"java:comp/BeanManager\");\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Now you have the BeanManager you can access your CDI beans by doing either a type-based lookup or a name-based lookup.</p>\n\n<p>Type based:</p>\n\n<pre><code>Bean&lt;CrudService&gt; bean = (Bean&lt;CrudService&gt;) bm.getBeans(CrudService.class).iterator().next();\nCreationalContext&lt;CrudService&gt; ctx = bm.createCreationalContext(bean);\nCrudService crudService = (CrudService) bm.getReference(bean, CrudService.class, ctx);\n</code></pre>\n\n<p>Name-based</p>\n\n<pre><code>Bean bean = bm.getBeans(\"crudService\").iterator().next();\nCreationalContext ctx = bm.createCreationalContext(bean);\nCrudService crudService = bm.getReference(bean, bean.getClass(), ctx);\n</code></pre>\n\n<p>Full example:</p>\n\n<pre><code>//get reference to BeanManager\nBeanManager bm = CDI.current().getBeanManager();\nBean&lt;CrudService&gt; bean = (Bean&lt;CrudService&gt;) bm.getBeans(CrudService.class).iterator().next();\nCreationalContext&lt;CrudService&gt; ctx = bm.createCreationalContext(bean);\n\n//get reference to your CDI managed bean\nCrudService crudService = (CrudService) bm.getReference(bean, CrudService.class, ctx);\n</code></pre>\n\n<p>UPDATE - This can now be achieved in one line if you are using CDI 1.1:</p>\n\n<pre><code>CrudService crudService = CDI.current().select(CrudService.class).get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676294065,"creation_date":1676294065,"answer_id":75436360,"question_id":8166187,"body_markdown":"If you are working on a JSF / Jakarta Faces project and you&#39;re using [OmniFaces](https://omnifaces.org/), you can simply do:\r\n\r\n```java\r\nMyBean myBean = org.omnifaces.util.Beans.getInstance(&quot;myBeanName&quot;);\r\n```\r\n\r\nSee also:\r\n\r\n* https://showcase.omnifaces.org/utils/Beans\r\n* https://omnifaces.org/docs/javadoc/4.0/org/omnifaces/util/Beans.html","title":"Can I (and how) lookup CDI managed beans using javax.naming.Context#lookup in EJB module?","body":"<p>If you are working on a JSF / Jakarta Faces project and you're using <a href=\"https://omnifaces.org/\" rel=\"nofollow noreferrer\">OmniFaces</a>, you can simply do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyBean myBean = org.omnifaces.util.Beans.getInstance(&quot;myBeanName&quot;);\n</code></pre>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://showcase.omnifaces.org/utils/Beans\" rel=\"nofollow noreferrer\">https://showcase.omnifaces.org/utils/Beans</a></li>\n<li><a href=\"https://omnifaces.org/docs/javadoc/4.0/org/omnifaces/util/Beans.html\" rel=\"nofollow noreferrer\">https://omnifaces.org/docs/javadoc/4.0/org/omnifaces/util/Beans.html</a></li>\n</ul>\n"}],"owner":{"account_id":444856,"reputation":8760,"user_id":836941,"accept_rate":73,"display_name":"zacheusz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19889,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":8196527,"answer_count":3,"score":18,"last_activity_date":1676294065,"creation_date":1321528566,"question_id":8166187,"body_markdown":"Can I (and if so, how?) lookup CDI managed beans using `javax.naming.Context#lookup` in EJB module?\r\n\r\nI&#39;m using GlassFish v3. I suppose that I can use `@Named`, but what is JNDI name of CDI managed bean? I want to lookup them from unmanaged POJOs so I can&#39;t use `@Inject`.","title":"Can I (and how) lookup CDI managed beans using javax.naming.Context#lookup in EJB module?","body":"<p>Can I (and if so, how?) lookup CDI managed beans using <code>javax.naming.Context#lookup</code> in EJB module?</p>\n\n<p>I'm using GlassFish v3. I suppose that I can use <code>@Named</code>, but what is JNDI name of CDI managed bean? I want to lookup them from unmanaged POJOs so I can't use <code>@Inject</code>.</p>\n"},{"tags":["java","spring-boot","microservices"],"comments":[{"owner":{"account_id":2075909,"reputation":2169,"user_id":1849261,"accept_rate":78,"display_name":"4EACH"},"score":0,"creation_date":1676292222,"post_id":75435933,"comment_id":133101655,"body_markdown":"If I understood your needs, you should implement two different mappers and then use one of them depends on where you came from.","body":"If I understood your needs, you should implement two different mappers and then use one of them depends on where you came from."}],"answers":[{"tags":[],"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676294059,"creation_date":1676293639,"answer_id":75436290,"question_id":75435933,"body_markdown":"Possible ways to tackle this can be: \r\n\r\n**1.** Using ObjectMapper.convertValue() / Gson.fromJson to clone object to another type using json parsers.  \r\n```\r\n    public &lt;T&gt; T convertValue(Object dto, Class&lt;T&gt; clazz) {\r\n        return gson.fromJson(gson.toJson(dto), clazz);\r\n    }\r\n\r\n\r\n    private &lt;T&gt; T convertValue(Object dto, Class&lt;T&gt; clazz) {\r\n        return objectMapper.convertValue(dto, clazz);\r\n    }\r\n```\r\n\r\n**2.** Using MapStruct to generate code of mapper, and change the type without converting it to json first.\r\n```\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface EmployeeMapper {\r\n        com.test.service1.Employee toEmployee1(com.test.service2.Employee dto);\r\n        com.test.service2.Employee toEmployee2(com.test.service1.Employee dto);\r\n    }\r\n```\r\nin build.gradle\r\n```\r\n\timplementation &#39;org.mapstruct:mapstruct:1.5.3.Final&#39;\r\n```\r\nthen just autowire the mapper bean and call the methods to convert the objects.\r\n\r\n**3.** Implementing the converters manually. (not recommended)\r\n\r\n**4.** Extracting Employee class to a third module and use it as common code, ditching the obligation of mapping objects back and forth. ","title":"Reading the data and setting from and to a class with same class in different packages","body":"<p>Possible ways to tackle this can be:</p>\n<p><strong>1.</strong> Using ObjectMapper.convertValue() / Gson.fromJson to clone object to another type using json parsers.</p>\n<pre><code>    public &lt;T&gt; T convertValue(Object dto, Class&lt;T&gt; clazz) {\n        return gson.fromJson(gson.toJson(dto), clazz);\n    }\n\n\n    private &lt;T&gt; T convertValue(Object dto, Class&lt;T&gt; clazz) {\n        return objectMapper.convertValue(dto, clazz);\n    }\n</code></pre>\n<p><strong>2.</strong> Using MapStruct to generate code of mapper, and change the type without converting it to json first.</p>\n<pre><code>\n    @Mapper(componentModel = &quot;spring&quot;)\n    public interface EmployeeMapper {\n        com.test.service1.Employee toEmployee1(com.test.service2.Employee dto);\n        com.test.service2.Employee toEmployee2(com.test.service1.Employee dto);\n    }\n</code></pre>\n<p>in build.gradle</p>\n<pre><code>    implementation 'org.mapstruct:mapstruct:1.5.3.Final'\n</code></pre>\n<p>then just autowire the mapper bean and call the methods to convert the objects.</p>\n<p><strong>3.</strong> Implementing the converters manually. (not recommended)</p>\n<p><strong>4.</strong> Extracting Employee class to a third module and use it as common code, ditching the obligation of mapping objects back and forth.</p>\n"}],"owner":{"account_id":8772924,"reputation":27,"user_id":6559067,"display_name":"chand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1676294059,"creation_date":1676291612,"question_id":75435933,"body_markdown":"I have a service with Class SomeClass.java in pkg com.test.service1. \r\nI have another service with class SomeClass.java in pkg com.test.service2.\r\n```\r\nSomeClass // Service1\r\n{\r\nList&lt;Employee&gt; empList;\r\n}\r\n```\r\n\r\n```\r\nSomeClass // Service2\r\n{\r\nList&lt;Employee&gt; empList;\r\n}\r\n```\r\n\r\nI am currently working in service2 from which I will be invoking the service1 and getting the response from service1 SomeClass.\r\nThe contents of class in both the services is same But, I want to manipulate the data coming from service 1 SomeClass attributes so as not to disturb the Service1 response.\r\nSo, I am getting the response from service1 and trying to set it to the class in service2 before manipulating the data.\r\n\r\nI tried the below code which is not working.\r\nImporting two classes with same name anyways do not work.\r\n```\r\nList&lt;com.test.service1.Employee&gt; employees = service1.SomeClass.getEmpList();\r\nList&lt;com.test.service2.Employee&gt; employeesList = employees;\r\n\r\n```\r\nPlease help.\r\n","title":"Reading the data and setting from and to a class with same class in different packages","body":"<p>I have a service with Class SomeClass.java in pkg com.test.service1.\nI have another service with class SomeClass.java in pkg com.test.service2.</p>\n<pre><code>SomeClass // Service1\n{\nList&lt;Employee&gt; empList;\n}\n</code></pre>\n<pre><code>SomeClass // Service2\n{\nList&lt;Employee&gt; empList;\n}\n</code></pre>\n<p>I am currently working in service2 from which I will be invoking the service1 and getting the response from service1 SomeClass.\nThe contents of class in both the services is same But, I want to manipulate the data coming from service 1 SomeClass attributes so as not to disturb the Service1 response.\nSo, I am getting the response from service1 and trying to set it to the class in service2 before manipulating the data.</p>\n<p>I tried the below code which is not working.\nImporting two classes with same name anyways do not work.</p>\n<pre><code>List&lt;com.test.service1.Employee&gt; employees = service1.SomeClass.getEmpList();\nList&lt;com.test.service2.Employee&gt; employeesList = employees;\n\n</code></pre>\n<p>Please help.</p>\n"},{"tags":["java","pdf"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1676293918,"post_id":75436256,"comment_id":133102146,"body_markdown":"That is a document template. Which you said in your question. For [example `PDFTemplateBuilder`](https://pdfbox.apache.org/docs/2.0.4/javadocs/org/apache/pdfbox/pdmodel/interactive/digitalsignature/visible/PDFTemplateBuilder.html).","body":"That is a document template. Which you said in your question. For <a href=\"https://pdfbox.apache.org/docs/2.0.4/javadocs/org/apache/pdfbox/pdmodel/interactive/digitalsignature/visible/PDFTemplateBuilder.html\" rel=\"nofollow noreferrer\">example <code>PDFTemplateBuilder</code></a>."},{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":2,"creation_date":1676683705,"post_id":75436256,"comment_id":133193283,"body_markdown":"In the olden days this used to be called Mail-merge?","body":"In the olden days this used to be called Mail-merge?"}],"answers":[{"tags":[],"owner":{"account_id":17986322,"reputation":78,"user_id":13071509,"display_name":"AnotherOne"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676293985,"creation_date":1676293985,"answer_id":75436348,"question_id":75436256,"body_markdown":"There are a few useful library for generating PDF document in Java,\r\n\r\nI suggest you to look at this library : [Apache PdfBox][1]\r\n\r\nalso you can check this question for creating table:\r\n\r\n[Creating table in pdf box][2]\r\n\r\n\r\n  [1]: https://pdfbox.apache.org/\r\n  [2]: https://stackoverflow.com/questions/28059563/how-to-create-table-using-apache-pdfbox","title":"What do you call the process of exporting information and data to a PDF document template?","body":"<p>There are a few useful library for generating PDF document in Java,</p>\n<p>I suggest you to look at this library : <a href=\"https://pdfbox.apache.org/\" rel=\"nofollow noreferrer\">Apache PdfBox</a></p>\n<p>also you can check this question for creating table:</p>\n<p><a href=\"https://stackoverflow.com/questions/28059563/how-to-create-table-using-apache-pdfbox\">Creating table in pdf box</a></p>\n"}],"owner":{"account_id":27262881,"reputation":83,"user_id":20785457,"display_name":"Vense"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75436348,"answer_count":1,"score":0,"last_activity_date":1676293985,"creation_date":1676293460,"question_id":75436256,"body_markdown":"I want to create a program in Java where the student information will be embedded to a specific template and generated into a PDF. The PDF may contain tables, image, and text.\r\n\r\nI just want to know this technique? Here is a sample output below:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/8W2k1.jpg)](https://i.stack.imgur.com/8W2k1.jpg)\r\n\r\nThanks in advance!\r\n\r\nI tried looking for the term, and I was not able to find it. I am curious about it since I saw the operator in my cashier where they used a Java program that can generate the PDF that contains the student information from a database and print it.","title":"What do you call the process of exporting information and data to a PDF document template?","body":"<p>I want to create a program in Java where the student information will be embedded to a specific template and generated into a PDF. The PDF may contain tables, image, and text.</p>\n<p>I just want to know this technique? Here is a sample output below:</p>\n<p><a href=\"https://i.stack.imgur.com/8W2k1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8W2k1.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Thanks in advance!</p>\n<p>I tried looking for the term, and I was not able to find it. I am curious about it since I saw the operator in my cashier where they used a Java program that can generate the PDF that contains the student information from a database and print it.</p>\n"},{"tags":["java","java-websocket"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1676292576,"post_id":75436072,"comment_id":133101732,"body_markdown":"Within `onMessage`!?","body":"Within <code>onMessage</code>!?"},{"owner":{"account_id":15554997,"reputation":903,"user_id":11221706,"display_name":"robtot"},"score":0,"creation_date":1676292757,"post_id":75436072,"comment_id":133101791,"body_markdown":"Yes, but web socket communication is different than sending HTTP requests as it is a completely different protocol. I still need to listen to incoming HTTP requests.","body":"Yes, but web socket communication is different than sending HTTP requests as it is a completely different protocol. I still need to listen to incoming HTTP requests."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1676292990,"post_id":75436072,"comment_id":133101868,"body_markdown":"Do you have an example where you actually sent GET and POST requests via a websocket? That is simply not what websockets are normally used for. Obviously you can send whatever data you want through there but putting HTTP on top makes little sense. Just change your backend code to only have onMessage and see what happens if a client actually makes a GET or POST request against it.","body":"Do you have an example where you actually sent GET and POST requests via a websocket? That is simply not what websockets are normally used for. Obviously you can send whatever data you want through there but putting HTTP on top makes little sense. Just change your backend code to only have onMessage and see what happens if a client actually makes a GET or POST request against it."}],"owner":{"account_id":15554997,"reputation":903,"user_id":11221706,"display_name":"robtot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676293748,"creation_date":1676292379,"question_id":75436072,"body_markdown":"In older Java versions you could extend a class with WebSocketServlet, and because WebSocketServlet itself extended HttpServlet it was possible to add CRUD method, such as doGet(...), doPost(...) etc in the class. \r\n\r\nHowever, now WebSocketServlet is deprecated and and using @ServerEndpoint with @OnOpen, @OnMessage, etc does not provide any &quot;listen to doGet, doPost&quot; messages. How can I migrate something like this?\r\n\r\n    public class Test extends WebSocketServlet \r\n    {\r\n       String something = &quot;&quot;;\r\n\r\n       @Override \r\n       protected StreamInBound createWebSocketInbound(String string, HttpServletRequest hsr)\r\n       {\r\n           // DO STUFF\r\n       }\r\n    \r\n       @Override\r\n       protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException,IOException\r\n       {\r\n            this.something = &quot;get&quot;;\r\n       }\r\n    }\r\nWhere do put doGet(...) and doPost(...)?\r\n\r\n    @ServerEndpoint(value = &quot;/test&quot;)\r\n    public class Test {\r\n        \r\n      @OnOpen\r\n      public void onOpen(Session session) {\r\n        // DO STUFF\r\n      }\r\n    \r\n      @OnMessage\r\n      public String onMessage(String message, Session session) {\r\n        // DO STUFF\r\n      }\r\n        \r\n      @OnClose\r\n      public void onClose(Session session, CloseReason closeReason) {\r\n        // DO STUFF\r\n      }\r\n    }\r\n\r\nAlso notice that I need to change a variable from the doGet(...) method that exist in the Test class.\r\n\r\nThanks!\r\n\r\n","title":"Java: How to replace doPost, doGet in deprecated WebSocketServlet class","body":"<p>In older Java versions you could extend a class with WebSocketServlet, and because WebSocketServlet itself extended HttpServlet it was possible to add CRUD method, such as doGet(...), doPost(...) etc in the class.</p>\n<p>However, now WebSocketServlet is deprecated and and using @ServerEndpoint with @OnOpen, @OnMessage, etc does not provide any &quot;listen to doGet, doPost&quot; messages. How can I migrate something like this?</p>\n<pre><code>public class Test extends WebSocketServlet \n{\n   String something = &quot;&quot;;\n\n   @Override \n   protected StreamInBound createWebSocketInbound(String string, HttpServletRequest hsr)\n   {\n       // DO STUFF\n   }\n\n   @Override\n   protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException,IOException\n   {\n        this.something = &quot;get&quot;;\n   }\n}\n</code></pre>\n<p>Where do put doGet(...) and doPost(...)?</p>\n<pre><code>@ServerEndpoint(value = &quot;/test&quot;)\npublic class Test {\n    \n  @OnOpen\n  public void onOpen(Session session) {\n    // DO STUFF\n  }\n\n  @OnMessage\n  public String onMessage(String message, Session session) {\n    // DO STUFF\n  }\n    \n  @OnClose\n  public void onClose(Session session, CloseReason closeReason) {\n    // DO STUFF\n  }\n}\n</code></pre>\n<p>Also notice that I need to change a variable from the doGet(...) method that exist in the Test class.</p>\n<p>Thanks!</p>\n"},{"tags":["java","jar","compilation","java-compiler-api","javacompiler"],"answers":[{"tags":[],"owner":{"account_id":2976047,"reputation":121,"user_id":2527075,"display_name":"Silvan Van Leeuwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676293585,"creation_date":1676293585,"answer_id":75436283,"question_id":75434323,"body_markdown":"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html#CBHHCGFB suggests to me you want to ; separate the files in the -cp option to the compiler. It looks like you&#39;re using spaces and you may want to try semi colons ","title":"Issues with jar exporter tool","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html#CBHHCGFB\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html#CBHHCGFB</a> suggests to me you want to ; separate the files in the -cp option to the compiler. It looks like you're using spaces and you may want to try semi colons</p>\n"}],"owner":{"account_id":9206764,"reputation":21,"user_id":6841705,"display_name":"Temps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676293585,"creation_date":1676282115,"question_id":75434323,"body_markdown":"I am attempting to write a Java project, which will compile any Java project and export a *.jar file. The program expects 3 runtime arguments, which I am specifying as:\r\n```\r\nC:\\dev\\Kronos\\Kronos\r\nvendor\r\nsrc\\com\\starworks\\kronos\r\n```\r\n\r\nHere is my code so far:\r\n\r\n```\r\npublic class GenJar {\r\n    \r\n    private static String PROJECT_DIR;\r\n    private static String DEPENDENCIES_DIR;\r\n    private static String SRC_DIR;\r\n\r\n    private static final List&lt;String&gt; s_classpath = new ArrayList&lt;String&gt;();\r\n    private static final List&lt;String&gt; s_sourceFiles = new ArrayList&lt;String&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        PROJECT_DIR = args[0];\r\n        DEPENDENCIES_DIR = PROJECT_DIR + File.separator + args[1];\r\n        SRC_DIR = PROJECT_DIR + File.separator + args[2];\r\n\r\n        File dependenciesDir = new File(DEPENDENCIES_DIR);\r\n        for (File file : dependenciesDir.listFiles()) {\r\n            if (!file.getName().endsWith(&quot;.jar&quot;) || (file.getName().contains(&quot;sources&quot;) || file.getName().contains(&quot;javadoc&quot;))) {\r\n                continue;\r\n            }\r\n            s_classpath.add(file.getPath());\r\n            System.out.println(&quot;Added dependency: &quot; + file.getPath());\r\n        }\r\n        \r\n        File srcDir = new File(SRC_DIR);\r\n        for (File file : srcDir.listFiles()) {\r\n            addSourceFiles(file);\r\n        }\r\n\r\n        int success = compile();\r\n        if (success != 0) {\r\n            System.err.println(&quot;Compilation failed!&quot;);\r\n            System.exit(1);\r\n        }\r\n        System.out.println(&quot;Compilation successful!&quot;);\r\n        \r\n        Manifest manifest = new Manifest();\r\n        manifest.getMainAttributes().put(Attributes.Name.MANIFEST_VERSION, &quot;1.0&quot;);\r\n        manifest.getMainAttributes().put(Attributes.Name.CLASS_PATH, String.join(&quot;;&quot;, s_classpath));\r\n        \r\n        exportJar();\r\n    }\r\n\r\n    private static int compile() {\r\n        JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n        return compiler.run(null, null, null, &quot;-d&quot;, PROJECT_DIR + File.separator + &quot;bin&quot;, &quot;-cp&quot;, String.join(File.pathSeparator, s_classpath), String.join(&quot; &quot;, s_sourceFiles));\r\n\t}\r\n    \r\n    private static void exportJar() {\r\n\t}\r\n\r\n\tprivate static void addSourceFiles(File file) {\r\n        if (file.isDirectory()) {\r\n            File[] files = file.listFiles();\r\n            if (files != null) {\r\n                for (File f : files) {\r\n                    addSourceFiles(f);\r\n                }\r\n            }\r\n        } else {\r\n            s_sourceFiles.add(file.getPath());\r\n            System.out.println(&quot;Added source file: &quot; + file.getPath());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen running the program, this error occurs:\r\n\r\n(%fn[x]% stands for file name, since they are quite long; filename e.g. C:\\dev\\Kronos\\Kronos\\src\\com\\starworks\\kronos\\Configuration.java)\r\n```\r\nerror: Invalid filename: %fn[0]% %fn[1]% %fn[2]% .. %fn[N]%\r\nUsage: javac &lt;options&gt; &lt;source files&gt;\r\nuse --help for a list of possible options\r\nCompilation failed!\r\n```\r\n\r\nI believe the issue boils down to not knowing how to properly target multiple source files for compilation, but I am not sure what the issue is precisely. Any assistance would be apricated.\r\n\r\nI wrote an application which targets the directory of a Java project, to then be exported as a *.jar file. I expected the code to compile the source directory of a java project, but the files aren&#39;t being targeted in the proper way.","title":"Issues with jar exporter tool","body":"<p>I am attempting to write a Java project, which will compile any Java project and export a *.jar file. The program expects 3 runtime arguments, which I am specifying as:</p>\n<pre><code>C:\\dev\\Kronos\\Kronos\nvendor\nsrc\\com\\starworks\\kronos\n</code></pre>\n<p>Here is my code so far:</p>\n<pre><code>public class GenJar {\n    \n    private static String PROJECT_DIR;\n    private static String DEPENDENCIES_DIR;\n    private static String SRC_DIR;\n\n    private static final List&lt;String&gt; s_classpath = new ArrayList&lt;String&gt;();\n    private static final List&lt;String&gt; s_sourceFiles = new ArrayList&lt;String&gt;();\n\n    public static void main(String[] args) {\n        PROJECT_DIR = args[0];\n        DEPENDENCIES_DIR = PROJECT_DIR + File.separator + args[1];\n        SRC_DIR = PROJECT_DIR + File.separator + args[2];\n\n        File dependenciesDir = new File(DEPENDENCIES_DIR);\n        for (File file : dependenciesDir.listFiles()) {\n            if (!file.getName().endsWith(&quot;.jar&quot;) || (file.getName().contains(&quot;sources&quot;) || file.getName().contains(&quot;javadoc&quot;))) {\n                continue;\n            }\n            s_classpath.add(file.getPath());\n            System.out.println(&quot;Added dependency: &quot; + file.getPath());\n        }\n        \n        File srcDir = new File(SRC_DIR);\n        for (File file : srcDir.listFiles()) {\n            addSourceFiles(file);\n        }\n\n        int success = compile();\n        if (success != 0) {\n            System.err.println(&quot;Compilation failed!&quot;);\n            System.exit(1);\n        }\n        System.out.println(&quot;Compilation successful!&quot;);\n        \n        Manifest manifest = new Manifest();\n        manifest.getMainAttributes().put(Attributes.Name.MANIFEST_VERSION, &quot;1.0&quot;);\n        manifest.getMainAttributes().put(Attributes.Name.CLASS_PATH, String.join(&quot;;&quot;, s_classpath));\n        \n        exportJar();\n    }\n\n    private static int compile() {\n        JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n        return compiler.run(null, null, null, &quot;-d&quot;, PROJECT_DIR + File.separator + &quot;bin&quot;, &quot;-cp&quot;, String.join(File.pathSeparator, s_classpath), String.join(&quot; &quot;, s_sourceFiles));\n    }\n    \n    private static void exportJar() {\n    }\n\n    private static void addSourceFiles(File file) {\n        if (file.isDirectory()) {\n            File[] files = file.listFiles();\n            if (files != null) {\n                for (File f : files) {\n                    addSourceFiles(f);\n                }\n            }\n        } else {\n            s_sourceFiles.add(file.getPath());\n            System.out.println(&quot;Added source file: &quot; + file.getPath());\n        }\n    }\n}\n</code></pre>\n<p>When running the program, this error occurs:</p>\n<p>(%fn[x]% stands for file name, since they are quite long; filename e.g. C:\\dev\\Kronos\\Kronos\\src\\com\\starworks\\kronos\\Configuration.java)</p>\n<pre><code>error: Invalid filename: %fn[0]% %fn[1]% %fn[2]% .. %fn[N]%\nUsage: javac &lt;options&gt; &lt;source files&gt;\nuse --help for a list of possible options\nCompilation failed!\n</code></pre>\n<p>I believe the issue boils down to not knowing how to properly target multiple source files for compilation, but I am not sure what the issue is precisely. Any assistance would be apricated.</p>\n<p>I wrote an application which targets the directory of a Java project, to then be exported as a *.jar file. I expected the code to compile the source directory of a java project, but the files aren't being targeted in the proper way.</p>\n"},{"tags":["java","google-bigquery","pipeline","google-cloud-dataflow","apache-beam-io"],"comments":[{"owner":{"account_id":2063361,"reputation":31419,"user_id":1839439,"accept_rate":98,"display_name":"Dharman"},"score":0,"creation_date":1675337550,"post_id":74826050,"comment_id":132909231,"body_markdown":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the [CC BY-SA 4.0 license](//creativecommons.org/licenses/by-sa/4.0/), for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: [How does deleting work?](//meta.stackexchange.com/q/5221)","body":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the <a href=\"//creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a>, for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: <a href=\"//meta.stackexchange.com/q/5221\">How does deleting work?</a>"}],"answers":[{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671204277,"creation_date":1671204277,"answer_id":74826470,"question_id":74826050,"body_markdown":"Before to be executed your `Dataflow` job needs to be instantiated.\r\n\r\nI think you have a problem in the code part where you calculating the `TableDestination`. Your row object seems to be `null`.\r\n\r\nIn this case your `Dataflow` job cannot be instantiated and will throw and display the `NullPointerException` in the log proposed in `Dataflow` GUI and in `Cloud Logging`.\r\n\r\nPlease try to understand why you have a `NullPointerException` in this code part.\r\n\r\nYou can also launch your job with `Direct runner` to debug your code locally.","title":"BigQueryIO.write() step in the Dataflow job runs before TextIO.Read() causing Null pointer exception","body":"<p>Before to be executed your <code>Dataflow</code> job needs to be instantiated.</p>\n<p>I think you have a problem in the code part where you calculating the <code>TableDestination</code>. Your row object seems to be <code>null</code>.</p>\n<p>In this case your <code>Dataflow</code> job cannot be instantiated and will throw and display the <code>NullPointerException</code> in the log proposed in <code>Dataflow</code> GUI and in <code>Cloud Logging</code>.</p>\n<p>Please try to understand why you have a <code>NullPointerException</code> in this code part.</p>\n<p>You can also launch your job with <code>Direct runner</code> to debug your code locally.</p>\n"},{"tags":[],"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671230063,"creation_date":1671230063,"answer_id":74830390,"question_id":74826050,"body_markdown":"You are getting a `NullPointerException` because your `Transform File lines into TableAndRow` DoFn is emitting `null` objects. \r\n\r\nYou should probably change the lines at \r\n\r\n```\r\nif (row!=null &amp;&amp; tabName!=null) {\r\n    tbObj = new TableAndRow(row, tabName);\r\n}\r\n                        \r\nc.output(tbObj);\r\n```\r\n\r\nto \r\n\r\n```\r\nif (row!=null &amp;&amp; tabName!=null) {\r\n    c.output(new TableAndRow(row, tabName));\r\n}\r\n```\r\n\r\nIf you do that you won&#39;t have to `setCoder(NullableCoder.of(TableAndRowCoder.of()))` either.","title":"BigQueryIO.write() step in the Dataflow job runs before TextIO.Read() causing Null pointer exception","body":"<p>You are getting a <code>NullPointerException</code> because your <code>Transform File lines into TableAndRow</code> DoFn is emitting <code>null</code> objects.</p>\n<p>You should probably change the lines at</p>\n<pre><code>if (row!=null &amp;&amp; tabName!=null) {\n    tbObj = new TableAndRow(row, tabName);\n}\n                        \nc.output(tbObj);\n</code></pre>\n<p>to</p>\n<pre><code>if (row!=null &amp;&amp; tabName!=null) {\n    c.output(new TableAndRow(row, tabName));\n}\n</code></pre>\n<p>If you do that you won't have to <code>setCoder(NullableCoder.of(TableAndRowCoder.of()))</code> either.</p>\n"}],"owner":{"account_id":18291883,"reputation":19,"user_id":13318518,"display_name":"Ashwini C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1676293360,"creation_date":1671202211,"question_id":74826050,"body_markdown":"I am trying to read the contents of .tsv file stored in GCS bucket and write each line to respective BigQuery table. While doing this I am getting Null pointer exception , this could be because of BigQueryIO.write() step in the dataflow job is starting before Reading the contents of the file using TextIO.read().\r\n\r\n\r\n```\r\nError message from worker: java.lang.NullPointerException: Cannot invoke    gradle_inital_load.TableAndRow.getTab_name()&quot; because &quot;row&quot; is null\r\n\tgradle_inital_load.ReadFilexxxx.getTableName(ReadFilexxxx.java:318)\r\n\tgradle_inital_load.ReadFilexxxx.lambda$0(ReadFilexxxx.java:287)\r\n\torg.apache.beam.sdk.io.gcp.bigquery.DynamicDestinationsHelpers$TableFunctionDestinations.getDestination(DynamicDestinationsHelpers.java:128)\r\n\torg.apache.beam.sdk.io.gcp.bigquery.DynamicDestinationsHelpers$TableFunctionDestinations.getDestination(DynamicDestinationsHelpers.java:114)\r\n\torg.apache.beam.sdk.io.gcp.bigquery.PrepareWrite$1.processElement(PrepareWrite.java:71)\r\n\r\n```\r\n[Dataflow job graph](https://i.stack.imgur.com/7UzW6.png)\r\n\r\n\r\nBelow is my code \r\n\r\n   \r\n```\r\npackage XXXXX_inital_load;\r\n\r\nimport org.apache.beam.sdk.Pipeline;\r\nimport org.apache.beam.sdk.coders.CoderRegistry;\r\nimport org.apache.beam.sdk.coders.NullableCoder;\r\nimport org.apache.beam.sdk.coders.SerializableCoder;\r\nimport org.apache.beam.sdk.coders.StringUtf8Coder;\r\nimport org.apache.beam.sdk.io.Compression;\r\nimport org.apache.beam.sdk.io.FileIO;\r\nimport org.apache.beam.sdk.io.FileIO.ReadableFile;\r\nimport org.apache.beam.sdk.io.FileSystems;\r\nimport org.apache.beam.sdk.io.TextIO;\r\nimport org.apache.beam.sdk.io.fs.MatchResult;\r\nimport org.apache.beam.sdk.io.fs.ResolveOptions.StandardResolveOptions;\r\nimport org.apache.beam.sdk.io.fs.ResourceId;\r\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO;\r\nimport org.apache.beam.sdk.io.gcp.bigquery.TableDestination;\r\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO.Write.CreateDisposition;\r\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO.Write.WriteDisposition;\r\nimport org.apache.beam.sdk.options.PipelineOptions;\r\nimport org.apache.beam.sdk.options.PipelineOptions.DirectRunner;\r\nimport org.apache.beam.sdk.options.PipelineOptionsFactory;\r\nimport org.apache.beam.sdk.options.ValueProvider;\r\nimport org.apache.beam.sdk.transforms.*;\r\nimport org.apache.beam.sdk.transforms.DoFn.ProcessContext;\r\nimport org.apache.beam.sdk.transforms.DoFn.ProcessElement;\r\nimport org.apache.beam.sdk.values.KV;\r\nimport org.apache.beam.sdk.values.PCollection;\r\nimport org.apache.beam.sdk.values.PCollectionView;\r\nimport org.apache.beam.sdk.values.TypeDescriptors;\r\nimport org.apache.beam.sdk.values.ValueInSingleWindow;\r\nimport org.apache.commons.compress.archivers.tar.TarArchiveEntry;\r\nimport org.apache.commons.compress.archivers.tar.TarArchiveInputStream;\r\nimport org.apache.commons.compress.compressors.gzip.GzipCompressorInputStream;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport com.google.api.services.bigquery.model.TableRow;\r\nimport com.google.common.io.Files;\r\n\r\nimport org.apache.beam.sdk.annotations.*;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.nio.channels.Channels;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.apache.beam.runners.dataflow.DataflowRunner;\r\nimport org.apache.beam.runners.dataflow.options.DataflowPipelineOptions;\r\n\r\n  public class ReadFilexxxx {\r\n\r\n\t private static final Logger LOG = LoggerFactory.getLogger(ReadFilexxxx.class);\r\n\tstatic String outputTableProject = &quot;xxx-x-xxxx&quot;;\r\n\tstatic String outputTableDataset = &quot;user_events&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\t  DataflowPipelineOptions dfOptions = PipelineOptionsFactory.as(MyOptions.class);\r\n\r\n\r\n\t\t  dfOptions.setProject(&quot;xxx-x-xxxx&quot;);\r\n\t\tdfOptions.setStagingLocation(&quot;fs://xxx_xxx_events/xxxx&quot;);\r\n\t\t   dfOptions.setRegion(&quot;us-eastx&quot;);\r\n\t\tdfOptions.setTempLocation(&quot;fs://xxx_xxx_events/temp&quot;);\r\n\t\tdfOptions.setServiceAccount(&quot;xxxx-xx@xxx-x-xxxx.iam.xserviceaccount.com&quot;);\r\n\t\t  dfOptions.setSubnetwork(\r\n\t\t\t\t&quot;https://www.googleapis.com/compute/v1/projects/xxx-xxx-x-xxxxx-xxx/regions/us-eastx/subnetworks/x-xxxx-xxxx-xxxx&quot;);\r\n\t\t dfOptions.setUsePublicIps(false);\r\n\t\t\r\n\r\n\t\t\r\n\r\n\t\t dfOptions.setRunner(DataflowRunner.class);\r\n\r\n\r\n\t\t DataflowRunner.fromOptions(dfOptions);\r\n\r\n\r\n\t\t Pipeline p = Pipeline.create(dfOptions);\r\n\r\n\r\n\t\t\r\n\r\n\t\t\r\n\t\tPCollectionView&lt;String[]&gt; filecontents = (PCollectionView&lt;String[]&gt;) p.apply(&quot;Read column headers&quot;, TextIO.read()\r\n\t\t\t\t.from(&quot;fs://xxxx_events/initial_load/column_headers.tsv&quot;).withCompression(Compression.AUTO))\r\n\t\t\t\t.apply(&quot;Create column header Array&quot;, ParDo.of(new DoFn&lt;String, String[]&gt;(){\r\n\t\t\t\t@ProcessElement\r\n\t\t\t\tpublic void processElement(ProcessContext c)\r\n\t\t\t\t{\r\n\t\t\t\tString fileLines = c.element().toString();\r\n\t\t\t\tString[] Data = fileLines.split(&quot;\\t&quot;);\r\n\t\t\t\tc.output(Data);\r\n\t\t\t\t}\r\n\t\t\t\t})).apply(View.asSingleton());\r\n\r\n\t\tPCollection&lt;String&gt; lines = p.apply(&quot;Read Files&quot;,\r\n\t\t\t\tTextIO.read().from(&quot;fs://xxxx_events/initial_load/test.tsv.gz&quot;).withCompression(Compression.GZIP)).setCoder(NullableCoder.of(StringUtf8Coder.of()));\r\n\r\n\t\tp.getCoderRegistry().registerCoderForClass(ReadFilexxxx.class, TableAndRowCoder.of());\r\n\r\n\t\tPCollection&lt;TableAndRow&gt; tablerows = lines\r\n\t\t\t\t.apply(&quot;Transform File lines into TableAndRow&quot;, ParDo.of(new DoFn&lt;String, TableAndRow&gt;() {\r\n\r\n\t\t\t\t\t@ProcessElement\r\n\t\t\t\t\tpublic void processElement(ProcessContext c) {\r\n\t\t\t\t\t\tint tabnam_idx, indx;\r\n\t\t\t\t\t\tTableAndRow tbObj = null;\r\n\t\t\t\t\t\tString tabName = null;\r\n\t\t\t\t\t\tTableRow row =new TableRow();\r\n\t\t\t\t\t\t//TableRow row = new TableRow();\r\n\t\t\t\t\t\tString[] columns = c.sideInput(filecontents);\r\n\t\t\t\t\t\tString[] arr = c.element().split(&quot;\\t&quot;);\r\n\r\n\t\t\t\t\t\tif (arr.length &gt; 0) {\r\n\r\n\t\t\t\t\t\t\ttabnam_idx = getIndex(columns, &quot;channel&quot;);\r\n\t\t\t\t\t\t\tindx = getIndex(columns, &quot;page_event&quot;);\r\n\r\n\t\t\t\t\t\t\t// ProductDetails\r\n\t\t\t\t\t\t\tif ((arr[tabnam_idx].toString()).contains(&quot;productdetails&quot;)) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;detail_page_view_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t// tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\r\n\t\t\t\t\t\t\t\t// outputTableDataset,&quot;Detail_Page_View_Events&quot;);\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;detail-page-view&quot;);\r\n\t\t\t\t\t\t\t\tint index = getIndex(columns, &quot;evar6&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot;&quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventTime&quot;, arr[getIndex(columns, &quot;date_time&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;experimentIds&quot;, arr[getIndex(columns, &quot;evar104&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;userInfo.userId&quot;, &quot;1&quot;);\r\n\t\t\t\t\t\t\t\trow.set(&quot;userInfo.ipAddress&quot;, arr[getIndex(columns, &quot;ip&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;userInfo.userAgent&quot;, arr[getIndex(columns, &quot;user_agent&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;userInfo.directUserRequest&quot;, &quot;1&quot;);\r\n\t\t\t\t\t\t\t\trow.set(&quot;uri&quot;, arr[getIndex(columns, &quot;page_url&quot;)]);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;visit_referrer&quot;)] == &quot;&quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;referrerUri&quot;, &quot;1&quot;);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;referrerUri&quot;, arr[getIndex(columns, &quot;visit_referrer&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Homepage\r\n\t\t\t\t\t\t\tif ((arr[tabnam_idx].toString()).contains(&quot;homepage1&quot;)) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;home_page_view_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t// tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\r\n\t\t\t\t\t\t\t\t// outputTableDataset,&quot;Home_Page_View_Events&quot;);\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;home-page-view&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Search\r\n\t\t\t\t\t\t\tindx = getIndex(columns, &quot;page_event&quot;);\r\n\t\t\t\t\t\t\tif ((arr[tabnam_idx].toString()).contains(&quot;search&quot;) &amp;&amp; arr[indx] == &quot;0&quot;) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;search_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t// tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\r\n\t\t\t\t\t\t\t\t// outputTableDataset,&quot;Pass Table Name here&quot;);\r\n\t\t\t\t\t\t\t\t/* create row here */\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;search&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;searchQuery&quot;, arr[getIndex(columns, &quot;evar1&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;searchQuery&quot;, arr[getIndex(columns, &quot;evar2&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Browse\r\n\t\t\t\t\t\t\tindx = getIndex(columns, &quot;page_event&quot;);\r\n\t\t\t\t\t\t\tif ((arr[tabnam_idx].toString()).contains(&quot;category-landing&quot;) &amp;&amp; arr[indx] == &quot;0&quot;) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;category_page_view_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t/* create row here */\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;category-page-view&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;pageCategories&quot;, arr[getIndex(columns, &quot;evar104&quot;)]);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// add-to-cart\r\n\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;product_list&quot;)] != null &amp;&amp; arr[indx] == &quot;12&quot;) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;add_to_cart_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t/* create row here */\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;add-to-cart&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// purchase complete\r\n\t\t\t\t\t\t\tindx = getIndex(columns, &quot;page_event&quot;);\r\n\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;product_list&quot;)] != null &amp;&amp; arr[indx] == &quot;1&quot;) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;purchase_complete_events_idl&quot;);\r\n\r\n\t\t\t\t\t\t\t\t/* create row here */\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;home-page-view&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.quantity&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;purchaseTransaction.revenue&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;purchaseTransaction.currencyCode&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tLOG.info(&quot;Row:&quot; + row.toString());\r\n\t\t\t\t\t\tif(row!=null &amp;&amp; tabName!=null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttbObj = new TableAndRow(row, tabName);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tc.output(tbObj);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}).withSideInputs(filecontents)).setCoder(NullableCoder.of(TableAndRowCoder.of()));\r\n\r\n\t\ttablerows.apply(&quot;Write to BigQuery&quot;,\r\n\t\t\t\tBigQueryIO.&lt;TableAndRow&gt;write().to(line -&gt; getTableName(line))\r\n\t\t\t\t\t\t.withFormatFunction((TableAndRow line) -&gt; convertToTableRow(line))\r\n\t\t\t\t\t\t.withCreateDisposition(CreateDisposition.CREATE_NEVER)\r\n\t\t\t\t\t\t.withWriteDisposition(WriteDisposition.WRITE_APPEND));\r\n\r\n\t\tp.run().waitUntilFinish();\r\n\t\tSystem.out.println(&quot;Pipeline Executed&quot;);\r\n\t}\r\n\r\n\tprivate static TableRow convertToTableRow(TableAndRow line) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tTableRow row = line.getRow();\r\n\t\treturn row;\r\n\t}\r\n\r\n\tpublic static int getIndex(String[] Data, String str) {\r\n\t\tint index = -1;\r\n\t\tfor (int j = 0; j &lt; Data.length; j++) {\r\n\t\t\tif (Data[j].contains(str)) {\r\n\t\t\t\tindex = j;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn index;\r\n\t}\r\n\r\n\tpublic static TableDestination getTableName(ValueInSingleWindow&lt;TableAndRow&gt; line) {\r\n\r\n\t\tTableDestination destination = null;\r\n\t\tTableAndRow row = line.getValue();\r\n       if(row.getTab_name()!=null)\r\n       {\r\n    \t   destination = new TableDestination(row.getTab_name(), null);  \r\n       }\r\n\t\t\r\n\r\n\t\treturn destination;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe file contents should be read first and each line from the file must be converted into table row and return to the BigQuery table. Table name is also determined from the contents of each line from the file.","title":"BigQueryIO.write() step in the Dataflow job runs before TextIO.Read() causing Null pointer exception","body":"<p>I am trying to read the contents of .tsv file stored in GCS bucket and write each line to respective BigQuery table. While doing this I am getting Null pointer exception , this could be because of BigQueryIO.write() step in the dataflow job is starting before Reading the contents of the file using TextIO.read().</p>\n<pre><code>Error message from worker: java.lang.NullPointerException: Cannot invoke    gradle_inital_load.TableAndRow.getTab_name()&quot; because &quot;row&quot; is null\n    gradle_inital_load.ReadFilexxxx.getTableName(ReadFilexxxx.java:318)\n    gradle_inital_load.ReadFilexxxx.lambda$0(ReadFilexxxx.java:287)\n    org.apache.beam.sdk.io.gcp.bigquery.DynamicDestinationsHelpers$TableFunctionDestinations.getDestination(DynamicDestinationsHelpers.java:128)\n    org.apache.beam.sdk.io.gcp.bigquery.DynamicDestinationsHelpers$TableFunctionDestinations.getDestination(DynamicDestinationsHelpers.java:114)\n    org.apache.beam.sdk.io.gcp.bigquery.PrepareWrite$1.processElement(PrepareWrite.java:71)\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7UzW6.png\" rel=\"nofollow noreferrer\">Dataflow job graph</a></p>\n<p>Below is my code</p>\n<pre><code>package XXXXX_inital_load;\n\nimport org.apache.beam.sdk.Pipeline;\nimport org.apache.beam.sdk.coders.CoderRegistry;\nimport org.apache.beam.sdk.coders.NullableCoder;\nimport org.apache.beam.sdk.coders.SerializableCoder;\nimport org.apache.beam.sdk.coders.StringUtf8Coder;\nimport org.apache.beam.sdk.io.Compression;\nimport org.apache.beam.sdk.io.FileIO;\nimport org.apache.beam.sdk.io.FileIO.ReadableFile;\nimport org.apache.beam.sdk.io.FileSystems;\nimport org.apache.beam.sdk.io.TextIO;\nimport org.apache.beam.sdk.io.fs.MatchResult;\nimport org.apache.beam.sdk.io.fs.ResolveOptions.StandardResolveOptions;\nimport org.apache.beam.sdk.io.fs.ResourceId;\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO;\nimport org.apache.beam.sdk.io.gcp.bigquery.TableDestination;\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO.Write.CreateDisposition;\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO.Write.WriteDisposition;\nimport org.apache.beam.sdk.options.PipelineOptions;\nimport org.apache.beam.sdk.options.PipelineOptions.DirectRunner;\nimport org.apache.beam.sdk.options.PipelineOptionsFactory;\nimport org.apache.beam.sdk.options.ValueProvider;\nimport org.apache.beam.sdk.transforms.*;\nimport org.apache.beam.sdk.transforms.DoFn.ProcessContext;\nimport org.apache.beam.sdk.transforms.DoFn.ProcessElement;\nimport org.apache.beam.sdk.values.KV;\nimport org.apache.beam.sdk.values.PCollection;\nimport org.apache.beam.sdk.values.PCollectionView;\nimport org.apache.beam.sdk.values.TypeDescriptors;\nimport org.apache.beam.sdk.values.ValueInSingleWindow;\nimport org.apache.commons.compress.archivers.tar.TarArchiveEntry;\nimport org.apache.commons.compress.archivers.tar.TarArchiveInputStream;\nimport org.apache.commons.compress.compressors.gzip.GzipCompressorInputStream;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport com.google.api.services.bigquery.model.TableRow;\nimport com.google.common.io.Files;\n\nimport org.apache.beam.sdk.annotations.*;\n\nimport java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.nio.channels.Channels;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.beam.runners.dataflow.DataflowRunner;\nimport org.apache.beam.runners.dataflow.options.DataflowPipelineOptions;\n\n  public class ReadFilexxxx {\n\n     private static final Logger LOG = LoggerFactory.getLogger(ReadFilexxxx.class);\n    static String outputTableProject = &quot;xxx-x-xxxx&quot;;\n    static String outputTableDataset = &quot;user_events&quot;;\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n          DataflowPipelineOptions dfOptions = PipelineOptionsFactory.as(MyOptions.class);\n\n\n          dfOptions.setProject(&quot;xxx-x-xxxx&quot;);\n        dfOptions.setStagingLocation(&quot;fs://xxx_xxx_events/xxxx&quot;);\n           dfOptions.setRegion(&quot;us-eastx&quot;);\n        dfOptions.setTempLocation(&quot;fs://xxx_xxx_events/temp&quot;);\n        dfOptions.setServiceAccount(&quot;xxxx-xx@xxx-x-xxxx.iam.xserviceaccount.com&quot;);\n          dfOptions.setSubnetwork(\n                &quot;https://www.googleapis.com/compute/v1/projects/xxx-xxx-x-xxxxx-xxx/regions/us-eastx/subnetworks/x-xxxx-xxxx-xxxx&quot;);\n         dfOptions.setUsePublicIps(false);\n        \n\n        \n\n         dfOptions.setRunner(DataflowRunner.class);\n\n\n         DataflowRunner.fromOptions(dfOptions);\n\n\n         Pipeline p = Pipeline.create(dfOptions);\n\n\n        \n\n        \n        PCollectionView&lt;String[]&gt; filecontents = (PCollectionView&lt;String[]&gt;) p.apply(&quot;Read column headers&quot;, TextIO.read()\n                .from(&quot;fs://xxxx_events/initial_load/column_headers.tsv&quot;).withCompression(Compression.AUTO))\n                .apply(&quot;Create column header Array&quot;, ParDo.of(new DoFn&lt;String, String[]&gt;(){\n                @ProcessElement\n                public void processElement(ProcessContext c)\n                {\n                String fileLines = c.element().toString();\n                String[] Data = fileLines.split(&quot;\\t&quot;);\n                c.output(Data);\n                }\n                })).apply(View.asSingleton());\n\n        PCollection&lt;String&gt; lines = p.apply(&quot;Read Files&quot;,\n                TextIO.read().from(&quot;fs://xxxx_events/initial_load/test.tsv.gz&quot;).withCompression(Compression.GZIP)).setCoder(NullableCoder.of(StringUtf8Coder.of()));\n\n        p.getCoderRegistry().registerCoderForClass(ReadFilexxxx.class, TableAndRowCoder.of());\n\n        PCollection&lt;TableAndRow&gt; tablerows = lines\n                .apply(&quot;Transform File lines into TableAndRow&quot;, ParDo.of(new DoFn&lt;String, TableAndRow&gt;() {\n\n                    @ProcessElement\n                    public void processElement(ProcessContext c) {\n                        int tabnam_idx, indx;\n                        TableAndRow tbObj = null;\n                        String tabName = null;\n                        TableRow row =new TableRow();\n                        //TableRow row = new TableRow();\n                        String[] columns = c.sideInput(filecontents);\n                        String[] arr = c.element().split(&quot;\\t&quot;);\n\n                        if (arr.length &gt; 0) {\n\n                            tabnam_idx = getIndex(columns, &quot;channel&quot;);\n                            indx = getIndex(columns, &quot;page_event&quot;);\n\n                            // ProductDetails\n                            if ((arr[tabnam_idx].toString()).contains(&quot;productdetails&quot;)) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;detail_page_view_events_idl&quot;);\n                                // tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\n                                // outputTableDataset,&quot;Detail_Page_View_Events&quot;);\n                                row.set(&quot;eventType&quot;, &quot;detail-page-view&quot;);\n                                int index = getIndex(columns, &quot;evar6&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot;&quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                row.set(&quot;eventTime&quot;, arr[getIndex(columns, &quot;date_time&quot;)]);\n                                row.set(&quot;experimentIds&quot;, arr[getIndex(columns, &quot;evar104&quot;)]);\n                                row.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                                row.set(&quot;userInfo.userId&quot;, &quot;1&quot;);\n                                row.set(&quot;userInfo.ipAddress&quot;, arr[getIndex(columns, &quot;ip&quot;)]);\n                                row.set(&quot;userInfo.userAgent&quot;, arr[getIndex(columns, &quot;user_agent&quot;)]);\n                                row.set(&quot;userInfo.directUserRequest&quot;, &quot;1&quot;);\n                                row.set(&quot;uri&quot;, arr[getIndex(columns, &quot;page_url&quot;)]);\n                                if (arr[getIndex(columns, &quot;visit_referrer&quot;)] == &quot;&quot;) {\n                                    row.set(&quot;referrerUri&quot;, &quot;1&quot;);\n                                } else {\n                                    row.set(&quot;referrerUri&quot;, arr[getIndex(columns, &quot;visit_referrer&quot;)]);\n                                }\n                            }\n\n                            // Homepage\n                            if ((arr[tabnam_idx].toString()).contains(&quot;homepage1&quot;)) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;home_page_view_events_idl&quot;);\n                                // tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\n                                // outputTableDataset,&quot;Home_Page_View_Events&quot;);\n                                row.set(&quot;eventType&quot;, &quot;home-page-view&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n\n                            }\n\n                            // Search\n                            indx = getIndex(columns, &quot;page_event&quot;);\n                            if ((arr[tabnam_idx].toString()).contains(&quot;search&quot;) &amp;&amp; arr[indx] == &quot;0&quot;) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;search_events_idl&quot;);\n                                // tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\n                                // outputTableDataset,&quot;Pass Table Name here&quot;);\n                                /* create row here */\n                                row.set(&quot;eventType&quot;, &quot;search&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;searchQuery&quot;, arr[getIndex(columns, &quot;evar1&quot;)]);\n                                } else {\n                                    row.set(&quot;searchQuery&quot;, arr[getIndex(columns, &quot;evar2&quot;)]);\n                                }\n                                row.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n\n                            }\n\n                            // Browse\n                            indx = getIndex(columns, &quot;page_event&quot;);\n                            if ((arr[tabnam_idx].toString()).contains(&quot;category-landing&quot;) &amp;&amp; arr[indx] == &quot;0&quot;) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;category_page_view_events_idl&quot;);\n                                /* create row here */\n                                row.set(&quot;eventType&quot;, &quot;category-page-view&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                row.set(&quot;pageCategories&quot;, arr[getIndex(columns, &quot;evar104&quot;)]);\n                            }\n\n                            // add-to-cart\n                            if (arr[getIndex(columns, &quot;product_list&quot;)] != null &amp;&amp; arr[indx] == &quot;12&quot;) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;add_to_cart_events_idl&quot;);\n                                /* create row here */\n                                row.set(&quot;eventType&quot;, &quot;add-to-cart&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                row.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                            }\n\n                            // purchase complete\n                            indx = getIndex(columns, &quot;page_event&quot;);\n                            if (arr[getIndex(columns, &quot;product_list&quot;)] != null &amp;&amp; arr[indx] == &quot;1&quot;) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;purchase_complete_events_idl&quot;);\n\n                                /* create row here */\n                                row.set(&quot;eventType&quot;, &quot;home-page-view&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                row.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                                row.set(&quot;productDetails.product.quantity&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                                row.set(&quot;purchaseTransaction.revenue&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                                row.set(&quot;purchaseTransaction.currencyCode&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                            }\n\n                        }\n\n                        LOG.info(&quot;Row:&quot; + row.toString());\n                        if(row!=null &amp;&amp; tabName!=null)\n                        {\n                            tbObj = new TableAndRow(row, tabName);\n                        }\n                        \n                        c.output(tbObj);\n\n                    }\n                }).withSideInputs(filecontents)).setCoder(NullableCoder.of(TableAndRowCoder.of()));\n\n        tablerows.apply(&quot;Write to BigQuery&quot;,\n                BigQueryIO.&lt;TableAndRow&gt;write().to(line -&gt; getTableName(line))\n                        .withFormatFunction((TableAndRow line) -&gt; convertToTableRow(line))\n                        .withCreateDisposition(CreateDisposition.CREATE_NEVER)\n                        .withWriteDisposition(WriteDisposition.WRITE_APPEND));\n\n        p.run().waitUntilFinish();\n        System.out.println(&quot;Pipeline Executed&quot;);\n    }\n\n    private static TableRow convertToTableRow(TableAndRow line) {\n        // TODO Auto-generated method stub\n        TableRow row = line.getRow();\n        return row;\n    }\n\n    public static int getIndex(String[] Data, String str) {\n        int index = -1;\n        for (int j = 0; j &lt; Data.length; j++) {\n            if (Data[j].contains(str)) {\n                index = j;\n                break;\n            }\n        }\n\n        return index;\n    }\n\n    public static TableDestination getTableName(ValueInSingleWindow&lt;TableAndRow&gt; line) {\n\n        TableDestination destination = null;\n        TableAndRow row = line.getValue();\n       if(row.getTab_name()!=null)\n       {\n           destination = new TableDestination(row.getTab_name(), null);  \n       }\n        \n\n        return destination;\n    }\n}\n\n</code></pre>\n<p>The file contents should be read first and each line from the file must be converted into table row and return to the BigQuery table. Table name is also determined from the contents of each line from the file.</p>\n"},{"tags":["java","google-cloud-dataflow","pipeline","apache-beam","google-cloud-search"],"answers":[{"tags":[],"owner":{"account_id":541415,"reputation":1277,"user_id":1260237,"accept_rate":80,"display_name":"Jeff Klukas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671300922,"creation_date":1670960582,"answer_id":74790117,"question_id":74789302,"body_markdown":"I believe the issue here is that you&#39;re sending a GCS path into Java&#39;s `FileInputStream` which isn&#39;t aware of GCS and doesn&#39;t know what to do with `gs://` paths. Your `element` in this case is a Beam [ReadableFile](https://beam.apache.org/releases/javadoc/2.2.0/org/apache/beam/sdk/io/FileIO.ReadableFile.html#open--). The methods of that class such as `open` and `readFullyAsBytes` _are_ aware of GCS and can make appropriate calls under the hood.\r\n\r\nYour line above for creating the `TarArchiveInputStream` would look something like the following:\r\n\r\n```\r\nimport java.nio.channels.Channels;\r\n\r\nTarArchiveInputStream tarInput = \r\n  new TarArchiveInputStream(\r\n    new GzipCompressorInputStream(\r\n      Channels.newInputStream(c.element.open())));\r\n```\r\n\r\nAlternatively, you can see an example of using Beam constructs to read a file based on a string path (which could be a GCS path) in https://github.com/mozilla/gcp-ingestion/blob/main/ingestion-beam/src/main/java/com/mozilla/telemetry/util/BeamFileInputStream.java","title":"GCS Dataflow throws an error - FileNotFoundException(No such file or directory found)","body":"<p>I believe the issue here is that you're sending a GCS path into Java's <code>FileInputStream</code> which isn't aware of GCS and doesn't know what to do with <code>gs://</code> paths. Your <code>element</code> in this case is a Beam <a href=\"https://beam.apache.org/releases/javadoc/2.2.0/org/apache/beam/sdk/io/FileIO.ReadableFile.html#open--\" rel=\"nofollow noreferrer\">ReadableFile</a>. The methods of that class such as <code>open</code> and <code>readFullyAsBytes</code> <em>are</em> aware of GCS and can make appropriate calls under the hood.</p>\n<p>Your line above for creating the <code>TarArchiveInputStream</code> would look something like the following:</p>\n<pre><code>import java.nio.channels.Channels;\n\nTarArchiveInputStream tarInput = \n  new TarArchiveInputStream(\n    new GzipCompressorInputStream(\n      Channels.newInputStream(c.element.open())));\n</code></pre>\n<p>Alternatively, you can see an example of using Beam constructs to read a file based on a string path (which could be a GCS path) in <a href=\"https://github.com/mozilla/gcp-ingestion/blob/main/ingestion-beam/src/main/java/com/mozilla/telemetry/util/BeamFileInputStream.java\" rel=\"nofollow noreferrer\">https://github.com/mozilla/gcp-ingestion/blob/main/ingestion-beam/src/main/java/com/mozilla/telemetry/util/BeamFileInputStream.java</a></p>\n"}],"owner":{"account_id":18291883,"reputation":19,"user_id":13318518,"display_name":"Ashwini C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676293263,"creation_date":1670955487,"question_id":74789302,"body_markdown":"I have created a dataflow job in GCS which reads .tsv files from GCS Bucket and inserts into BigQuery Tables. Before forming a table row, I have to read a lookup file which has the column names. \r\nThis lookup file is inside .tar.gz directory along with other files but I need to read only the lookup files with the name column_headers.tsv\r\n\r\nI have used a FileIO.match().filepattern() to read a list of file names from the .tar.gz directory but dataflow in GCS is throwing error stating FileNotFoundException \r\n\r\nBelow is the stack trace,\r\n\r\n```text\r\nseverity: &quot;ERROR&quot;\r\ntextPayload: &quot;Error message from worker: java.lang.RuntimeException: org.apache.beam.sdk.util.UserCodeException: java.io.FileNotFoundException: fs:/xxx_xxxx_xxxxx/initial_load/xxxxxxxx_2022-10-11-lookup_data.tar.gz (No such file or directory)\r\n\torg.apache.beam.runners.dataflow.worker.GroupAlsoByWindowsParDoFn$1.output(GroupAlsoByWindowsParDoFn.java:187)\r\n\torg.apache.beam.runners.dataflow.worker.GroupAlsoByWindowFnRunner$1.outputWindowedValue(GroupAlsoByWindowFnRunner.java:108)\r\n\torg.apache.beam.runners.dataflow.worker.util.BatchGroupAlsoByWindowReshuffleFn.processElement(BatchGroupAlsoByWindowReshuffleFn.java:56)\r\n\torg.apache.beam.runners.dataflow.worker.util.BatchGroupAlsoByWindowReshuffleFn.processElement(BatchGroupAlsoByWindowReshuffleFn.java:39)\r\n\torg.apache.beam.runners.dataflow.worker.GroupAlsoByWindowFnRunner.invokeProcessElement(GroupAlsoByWindowFnRunner.java:121)\r\n\torg.apache.beam.runners.dataflow.worker.GroupAlsoByWindowFnRunner.processElement(GroupAlsoByWindowFnRunner.java:73)\r\n\torg.apache.beam.runners.dataflow.worker.GroupAlsoByWindowsParDoFn.processElement(GroupAlsoByWindowsParDoFn.java:117)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.ReadOperation.runReadLoop(ReadOperation.java:218)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.ReadOperation.start(ReadOperation.java:169)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.MapTaskExecutor.execute(MapTaskExecutor.java:83)\r\n\torg.apache.beam.runners.dataflow.worker.BatchDataflowWorker.executeWork(BatchDataflowWorker.java:420)\r\n\torg.apache.beam.runners.dataflow.worker.BatchDataflowWorker.doWork(BatchDataflowWorker.java:389)\r\n\torg.apache.beam.runners.dataflow.worker.BatchDataflowWorker.getAndPerformWork(BatchDataflowWorker.java:314)\r\n\torg.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.doWork(DataflowBatchWorkerHarness.java:140)\r\n\torg.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.call(DataflowBatchWorkerHarness.java:120)\r\n\torg.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.call(DataflowBatchWorkerHarness.java:107)\r\n\t java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tjava.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.apache.beam.sdk.util.UserCodeException: java.io.FileNotFoundException: gs:/crs_user_events/initial_load/napaonlineglobal_2022-10-11-lookup_data.tar.gz (No such file or directory)\r\n\torg.apache.beam.sdk.util.UserCodeException.wrap(UserCodeException.java:39)\r\n\tgradle_inital_load.ReadTarDir$1$DoFnInvoker.invokeProcessElement(Unknown Source)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.invokeProcessElement(SimpleDoFnRunner.java:211)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.processElement(SimpleDoFnRunner.java:188)\r\n\torg.apache.beam.runners.dataflow.worker.SimpleParDoFn.processElement(SimpleParDoFn.java:340)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\r\n\torg.apache.beam.runners.dataflow.worker.SimpleParDoFn$1.output(SimpleParDoFn.java:285)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.outputWindowedValue(SimpleDoFnRunner.java:275)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.access$900(SimpleDoFnRunner.java:85)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:423)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:411)\r\n\torg.apache.beam.sdk.io.FileIO$ReadMatches$ToReadableFileFn.process(FileIO.java:874)\r\n\torg.apache.beam.sdk.io.FileIO$ReadMatches$ToReadableFileFn$DoFnInvoker.invokeProcessElement(Unknown Source)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.invokeProcessElement(SimpleDoFnRunner.java:211)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.processElement(SimpleDoFnRunner.java:188)\r\n\torg.apache.beam.runners.dataflow.worker.SimpleParDoFn.processElement(SimpleParDoFn.java:340)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\r\n\torg.apache.beam.runners.dataflow.worker.SimpleParDoFn$1.output(SimpleParDoFn.java:285)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.outputWindowedValue(SimpleDoFnRunner.java:275)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.access$900(SimpleDoFnRunner.java:85)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:423)\r\n\torg.apache.beam.sdk.transforms.DoFnOutputReceivers$WindowedContextOutputReceiver.output(DoFnOutputReceivers.java:76)\r\n\torg.apache.beam.sdk.transforms.MapElements$1.processElement(MapElements.java:142)\r\n\torg.apache.beam.sdk.transforms.MapElements$1$DoFnInvoker.invokeProcessElement(Unknown Source)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.invokeProcessElement(SimpleDoFnRunner.java:211)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.processElement(SimpleDoFnRunner.java:188)\r\n\torg.apache.beam.runners.dataflow.worker.SimpleParDoFn.processElement(SimpleParDoFn.java:340)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\r\n\torg.apache.beam.runners.dataflow.worker.SimpleParDoFn$1.output(SimpleParDoFn.java:285)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.outputWindowedValue(SimpleDoFnRunner.java:275)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.access$900(SimpleDoFnRunner.java:85)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:423)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:411)\r\n\torg.apache.beam.runners.dataflow.ReshuffleOverrideFactory$ReshuffleWithOnlyTrigger$1.processElement(ReshuffleOverrideFactory.java:86)\r\n\torg.apache.beam.runners.dataflow.ReshuffleOverrideFactory$ReshuffleWithOnlyTrigger$1$DoFnInvoker.invokeProcessElement(Unknown Source)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.invokeProcessElement(SimpleDoFnRunner.java:211)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.processElement(SimpleDoFnRunner.java:188)\r\n\torg.apache.beam.runners.dataflow.worker.SimpleParDoFn.processElement(SimpleParDoFn.java:340)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\r\n\torg.apache.beam.runners.dataflow.worker.GroupAlsoByWindowsParDoFn$1.output(GroupAlsoByWindowsParDoFn.java:185)\r\n\t... 21 more\r\n    Caused by: java.io.FileNotFoundException:      fs:/xxx_xxxx_xxxx/initial_load/xxxxxx_2022-10-11-lookup_data.tar.gz (No such file or directory)\r\n\t    java.base/java.io.FileInputStream.open0(Native Method)\r\n\t   java.base/java.io.FileInputStream.open(FileInputStream.java:216)\r\n\t\r\n\txxxx_inital_load.ReadFilexxxx.processElement(ReadFilexxxx.java:97)\r\n&quot;\r\ntimestamp: &quot;2022-12-13T17:31:06.310507157Z&quot;\r\n}\r\n```\r\n\r\n[Dataflow steps fails ](https://i.stack.imgum/vSVut.png)\r\n\r\nMy pipeline code is as below,\r\n\r\n\r\n\r\n\r\n\r\n```\r\n  package xxxx_inital_load;\r\n\r\n import org.apache.beam.sdk.Pipeline;\r\n import org.apache.beam.sdk.coders.CoderRegistry;\r\nimport org.apache.beam.sdk.coders.SerializableCoder;\r\nimport org.apache.beam.sdk.io.Compression;\r\nimport org.apache.beam.sdk.io.FileIO;\r\nimport org.apache.beam.sdk.io.FileIO.ReadableFile;\r\nimport org.apache.beam.sdk.io.FileSystems;\r\nimport org.apache.beam.sdk.io.TextIO;\r\nimport org.apache.beam.sdk.io.fs.MatchResult;\r\nimport org.apache.beam.sdk.io.fs.ResolveOptions.StandardResolveOptions;\r\nimport org.apache.beam.sdk.io.fs.ResourceId;\r\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO;\r\nimport org.apache.beam.sdk.io.gcp.bigquery.TableDestination;\r\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO.Write.CreateDisposition;\r\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO.Write.WriteDisposition;\r\nimport org.apache.beam.sdk.options.PipelineOptions;\r\nimport org.apache.beam.sdk.options.PipelineOptions.DirectRunner;\r\nimport org.apache.beam.sdk.options.PipelineOptionsFactory;\r\nimport org.apache.beam.sdk.options.ValueProvider;\r\nimport org.apache.beam.sdk.transforms.*;\r\nimport org.apache.beam.sdk.transforms.DoFn.ProcessContext;\r\nimport org.apache.beam.sdk.transforms.DoFn.ProcessElement;\r\nimport org.apache.beam.sdk.values.KV;\r\nimport org.apache.beam.sdk.values.PCollection;\r\nimport org.apache.beam.sdk.values.PCollectionView;\r\nimport org.apache.beam.sdk.values.TypeDescriptors;\r\nimport org.apache.beam.sdk.values.ValueInSingleWindow;\r\nimport org.apache.commons.compress.archivers.tar.TarArchiveEntry;\r\nimport org.apache.commons.compress.archivers.tar.TarArchiveInputStream;\r\nimport org.apache.commons.compress.compressors.gzip.GzipCompressorInputStream;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport com.google.api.services.bigquery.model.TableRow;\r\nimport com.google.common.io.Files;\r\n\r\nimport org.apache.beam.sdk.annotations.*;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.nio.channels.Channels;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.apache.beam.runners.dataflow.DataflowRunner;\r\nimport org.apache.beam.runners.dataflow.options.DataflowPipelineOptions;\r\n\r\npublic class ReadFilexxxx {\r\n\r\n\t private static final Logger LOG = LoggerFactory.getLogger(ReadFilexxxx.class);\r\n\t static String outputTableProject = &quot;xxx-x-xxxx&quot;;\r\n\tstatic String outputTableDataset = &quot;xxxx_events&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tDataflowPipelineOptions dfOptions = PipelineOptionsFactory.as(MyOptions.class);\r\n\t\t\r\n\t\tdfOptions.setProject(&quot;xxx-x-xxxx&quot;);\r\n\t\tdfOptions.setStagingLocation(&quot;fs://xxxx_events/xxxx&quot;);\r\n\t\tdfOptions.setRegion(&quot;us-eastx&quot;);\r\n\t\tdfOptions.setTempLocation(&quot;fs://xxxx_events/xxxx&quot;);\r\n\t\tdfOptions.setServiceAccount(&quot;xxxx-xx@xxx-x-xxxx.xxx.xxxxxxx.com&quot;);\r\n\t\tdfOptions.setSubnetwork(\r\n\t\t\t\t&quot;https://www.googleapis.com/compute/v1/projects/xxx-xxx-x-xxxx-xxx/regions/us-eastx/subnetworks/x-xxxxxx-xxxx-xxxx&quot;);\r\n\t\tdfOptions.setUsePublicIps(false);\r\n\r\n\t\tdfOptions.setRunner(DataflowRunner.class);\r\n\r\n\t\tDataflowRunner.fromOptions(dfOptions);\r\n\r\n\t\tPipeline p = Pipeline.create(dfOptions);\r\n\r\n\t\t// PCollection&lt;String[]&gt; fileContents =\r\n\t\tPCollectionView&lt;String[]&gt; filecontents = (PCollectionView&lt;String[]&gt;) p\r\n\t\t\t\t \r\n\t\t\t\t.apply(&quot;MatchFile(s)&quot;, FileIO.match().filepattern(\r\n\t\t\t\t\t\t&quot;fs://xxxx_events/initial_load/*.tar.gz&quot;))\r\n\t\t\t\t.apply(&quot;GCS File Match&quot;, FileIO.readMatches().withCompression(Compression.AUTO))\r\n\t\t\t\t.apply(&quot;Untar and read files&quot;, ParDo.of(new DoFn&lt;FileIO.ReadableFile, String[]&gt;() {\r\n\t\t\t\t//.apply(&quot;Untar and read files&quot;, ParDo.of(new DoFn&lt;MatchResult.Metadata, String[]&gt;() {\r\n\r\n\t\t\t\t\t@ProcessElement\r\n\t\t\t\t\tpublic void processElement(ProcessContext c) throws FileNotFoundException, IOException {\r\n\t\t\t\t\t\tString line = null;\r\n\t\t\t\t\t\tString tmp = null;\r\n\t\t\t\t\t\tString[] Data = null;// = new ArrayList&lt;&gt;();\r\n\t\t\t\t\t\tString filename = c.element().getMetadata().resourceId().getFilename();\r\n\t\t\t\t\t\tfilename = &quot;fs://xxxxx_events/initial_load/&quot;.concat(filename);\r\n\t\t\t\t\t\tLOG.info(&quot;columns file path:&quot;, filename);\r\n\t\t\t\t\t\tTarArchiveInputStream tarInput = new TarArchiveInputStream(\r\n\t\t\t\t\t\t\t\tnew GzipCompressorInputStream(new FileInputStream(filename)));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tTarArchiveEntry currentEntry = tarInput.getNextTarEntry();\r\n\t\t\t\t\t\tBufferedReader br = null;\r\n\t\t\t\t\t\twhile (currentEntry != null) {\r\n\t\t\t\t\t\t\tif (currentEntry.getName().contains(&quot;column_headers.tsv&quot;)) {\r\n\t\t\t\t\t\t\t\tbr = new BufferedReader(new InputStreamReader(tarInput)); // Read directly from tarInput\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;For File = &quot; + currentEntry.getName());\r\n\t\t\t\t\t\t\t\twhile ((tmp = br.readLine()) != null) {\r\n\t\t\t\t\t\t\t\t\tline = tmp;\r\n\t\t\t\t\t\t\t\t\tData = line.split(&quot;\\t&quot;);\r\n\t\t\t\t\t\t\t\t\tSystem.out.println(&quot;line=&quot; + line);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// br.close();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcurrentEntry = tarInput.getNextTarEntry(); // You forgot to iterate to the next file\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbr.close();\r\n\t\t\t\t\t\ttarInput.close();\r\n\t\t\t\t\t\tc.output(Data);\r\n\t\t\t\t\t}\r\n\t\t\t\t})).apply(View.asSingleton());\r\n\r\n\t\tPCollection&lt;String&gt; lines = p.apply(&quot;Read Files&quot;,\r\n\t\t\t\tTextIO.read().from(&quot;fs://xxxx_events/initial_load/*.tsv.gz&quot;)\r\n\t\t\t\t\t\t.withCompression(Compression.GZIP));\r\n\r\n\t\tp.getCoderRegistry().registerCoderForClass(ReadTarDir.class, TableAndRowCoder.of());\r\n\r\n\t\tPCollection&lt;TableAndRow&gt; tablerows = lines\r\n\t\t\t\t.apply(&quot;Transform File lines into TableAndRow&quot;, ParDo.of(new DoFn&lt;String, TableAndRow&gt;() {\r\n\r\n\t\t\t\t\t@ProcessElement\r\n\t\t\t\t\tpublic void processElement(ProcessContext c) {\r\n\t\t\t\t\t\tint tabnam_idx, indx;\r\n\t\t\t\t\t\tTableAndRow tbObj;\r\n\t\t\t\t\t\tString tabName = null;\r\n\t\t\t\t\t\tTableRow row = new TableRow();\r\n\t\t\t\t\t\tString[] columns = c.sideInput(filecontents);\r\n\t\t\t\t\t\tString[] arr = c.element().split(&quot;\\t&quot;);\r\n\r\n\t\t\t\t\t\tif (arr.length &gt; 0) {\r\n\r\n\t\t\t\t\t\t\ttabnam_idx = getIndex(columns, &quot;channel&quot;);\r\n\t\t\t\t\t\t\tindx = getIndex(columns, &quot;page_event&quot;);\r\n\r\n\t\t\t\t\t\t\t// ProductDetails\r\n\t\t\t\t\t\t\tif ((arr[tabnam_idx].toString()).contains(&quot;productdetails&quot;)) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;detail_page_view_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t// tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\r\n\t\t\t\t\t\t\t\t// outputTableDataset,&quot;Detail_Page_View_Events&quot;);\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;detail-page-view&quot;);\r\n\t\t\t\t\t\t\t\tint index = getIndex(columns, &quot;evar6&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot;&quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventTime&quot;, arr[getIndex(columns, &quot;date_time&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;experimentIds&quot;, arr[getIndex(columns, &quot;evar104&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;userInfo.userId&quot;, &quot;1&quot;);\r\n\t\t\t\t\t\t\t\trow.set(&quot;userInfo.ipAddress&quot;, arr[getIndex(columns, &quot;ip&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;userInfo.userAgent&quot;, arr[getIndex(columns, &quot;user_agent&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;userInfo.directUserRequest&quot;, &quot;1&quot;);\r\n\t\t\t\t\t\t\t\trow.set(&quot;uri&quot;, arr[getIndex(columns, &quot;page_url&quot;)]);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;visit_referrer&quot;)] == &quot;&quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;referrerUri&quot;, &quot;1&quot;);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;referrerUri&quot;, arr[getIndex(columns, &quot;visit_referrer&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Homepage\r\n\t\t\t\t\t\t\t\r\nif ((arr[tabnam_idx].toString()).contains(&quot;homepage1&quot;)) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;home_page_view_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t// tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\r\n\t\t\t\t\t\t\t\t// outputTableDataset,&quot;Home_Page_View_Events&quot;);\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;home-page-view&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Search\r\n\t\t\t\t\t\t\tindx = getIndex(columns, &quot;page_event&quot;);\r\n\t\t\t\t\t\t\tif ((arr[tabnam_idx].toString()).contains(&quot;search&quot;) &amp;&amp; arr[indx] == &quot;0&quot;) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;search_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t// tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\r\n\t\t\t\t\t\t\t\t// outputTableDataset,&quot;Pass Table Name here&quot;);\r\n\t\t\t\t\t\t\t\t/* create row here */\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;search&quot;);\r\n\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;searchQuery&quot;, arr[getIndex(columns, &quot;evar1&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;searchQuery&quot;, arr[getIndex(columns, &quot;evar2&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Browse\r\n\t\t\t\t\t\t\tindx = getIndex(columns, &quot;page_event&quot;);\r\n\t\t\t\t\t\t\tif ((arr[tabnam_idx].toString()).contains(&quot;category-landing&quot;) &amp;&amp; arr[indx] == &quot;0&quot;) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;category_page_view_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t/* create row here */\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;category-page-view&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;pageCategories&quot;, arr[getIndex(columns, &quot;evar104&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// add-to-cart\r\n\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;product_list&quot;)] != null &amp;&amp; arr[indx] == &quot;12&quot;) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;add_to_cart_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t/* create row here */\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;add-to-cart&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\t\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// purchase complete\r\n\t\t\t\t\t\t\tindx = getIndex(columns, &quot;page_event&quot;);\r\n\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;product_list&quot;)] != null &amp;&amp; arr[indx] == &quot;1&quot;) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;purchase_complete_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n/* create row here */\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;home-page-view&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.quantity&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;purchaseTransaction.revenue&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;purchaseTransaction.currencyCode&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\tLOG.info(&quot;Row:&quot; + row.toString());\r\n\t\t\t\ttbObj = new TableAndRow(row, tabName);\r\n\t\t\t\tc.output(tbObj);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t}).withSideInputs(filecontents)).setCoder(TableAndRowCoder.of());\r\n\r\n\ttablerows.apply(&quot;Write to BigQuery&quot;,\r\n\t\t\tBigQueryIO.&lt;TableAndRow&gt;write().to(line -&gt; getTableName(line))\r\n\t\t\t\t\t.withFormatFunction((TableAndRow line) -&gt; convertToTableRow(line))\r\n\t\t\t\t\t\t .withCreateDisposition(CreateDisposition.CREATE_NEVER)\r\n\t\t\t\t\t\t .withWriteDisposition(WriteDisposition.WRITE_APPEND));\r\n\r\n\t\t p.run().waitUntilFinish();\r\n\t\t System.out.println(&quot;Pipeline Executed&quot;);\r\n\t}\r\n\r\n\t private static TableRow convertToTableRow(TableAndRow line) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tTableRow row = line.getRow();\r\n\t\treturn row;\r\n\t}\r\n\r\n\tpublic static int getIndex(String[] Data, String str) {\r\n\t\tint index = -1;\r\n\t\tfor (int j = 0; j &lt; Data.length; j++) {\r\n\t\t\tif (Data[j].contains(str)) {\r\n\t\t\t\tindex = j;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn index;\r\n\t}\r\n\r\n\tpublic static TableDestination getTableName(ValueInSingleWindow&lt;TableAndRow&gt; line) {\r\n\r\n\t\tTableDestination destination;\r\n\t\tTableAndRow row = line.getValue();\r\n\r\n\t\tdestination = new TableDestination(row.getTab_name(), null);\r\n\r\n\t\treturn destination;\r\n\t}\r\n\r\n}\r\n```","title":"GCS Dataflow throws an error - FileNotFoundException(No such file or directory found)","body":"<p>I have created a dataflow job in GCS which reads .tsv files from GCS Bucket and inserts into BigQuery Tables. Before forming a table row, I have to read a lookup file which has the column names.\nThis lookup file is inside .tar.gz directory along with other files but I need to read only the lookup files with the name column_headers.tsv</p>\n<p>I have used a FileIO.match().filepattern() to read a list of file names from the .tar.gz directory but dataflow in GCS is throwing error stating FileNotFoundException</p>\n<p>Below is the stack trace,</p>\n<pre><code>severity: &quot;ERROR&quot;\ntextPayload: &quot;Error message from worker: java.lang.RuntimeException: org.apache.beam.sdk.util.UserCodeException: java.io.FileNotFoundException: fs:/xxx_xxxx_xxxxx/initial_load/xxxxxxxx_2022-10-11-lookup_data.tar.gz (No such file or directory)\n    org.apache.beam.runners.dataflow.worker.GroupAlsoByWindowsParDoFn$1.output(GroupAlsoByWindowsParDoFn.java:187)\n    org.apache.beam.runners.dataflow.worker.GroupAlsoByWindowFnRunner$1.outputWindowedValue(GroupAlsoByWindowFnRunner.java:108)\n    org.apache.beam.runners.dataflow.worker.util.BatchGroupAlsoByWindowReshuffleFn.processElement(BatchGroupAlsoByWindowReshuffleFn.java:56)\n    org.apache.beam.runners.dataflow.worker.util.BatchGroupAlsoByWindowReshuffleFn.processElement(BatchGroupAlsoByWindowReshuffleFn.java:39)\n    org.apache.beam.runners.dataflow.worker.GroupAlsoByWindowFnRunner.invokeProcessElement(GroupAlsoByWindowFnRunner.java:121)\n    org.apache.beam.runners.dataflow.worker.GroupAlsoByWindowFnRunner.processElement(GroupAlsoByWindowFnRunner.java:73)\n    org.apache.beam.runners.dataflow.worker.GroupAlsoByWindowsParDoFn.processElement(GroupAlsoByWindowsParDoFn.java:117)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.ReadOperation.runReadLoop(ReadOperation.java:218)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.ReadOperation.start(ReadOperation.java:169)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.MapTaskExecutor.execute(MapTaskExecutor.java:83)\n    org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.executeWork(BatchDataflowWorker.java:420)\n    org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.doWork(BatchDataflowWorker.java:389)\n    org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.getAndPerformWork(BatchDataflowWorker.java:314)\n    org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.doWork(DataflowBatchWorkerHarness.java:140)\n    org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.call(DataflowBatchWorkerHarness.java:120)\n    org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.call(DataflowBatchWorkerHarness.java:107)\n     java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.apache.beam.sdk.util.UserCodeException: java.io.FileNotFoundException: gs:/crs_user_events/initial_load/napaonlineglobal_2022-10-11-lookup_data.tar.gz (No such file or directory)\n    org.apache.beam.sdk.util.UserCodeException.wrap(UserCodeException.java:39)\n    gradle_inital_load.ReadTarDir$1$DoFnInvoker.invokeProcessElement(Unknown Source)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.invokeProcessElement(SimpleDoFnRunner.java:211)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.processElement(SimpleDoFnRunner.java:188)\n    org.apache.beam.runners.dataflow.worker.SimpleParDoFn.processElement(SimpleParDoFn.java:340)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\n    org.apache.beam.runners.dataflow.worker.SimpleParDoFn$1.output(SimpleParDoFn.java:285)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.outputWindowedValue(SimpleDoFnRunner.java:275)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.access$900(SimpleDoFnRunner.java:85)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:423)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:411)\n    org.apache.beam.sdk.io.FileIO$ReadMatches$ToReadableFileFn.process(FileIO.java:874)\n    org.apache.beam.sdk.io.FileIO$ReadMatches$ToReadableFileFn$DoFnInvoker.invokeProcessElement(Unknown Source)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.invokeProcessElement(SimpleDoFnRunner.java:211)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.processElement(SimpleDoFnRunner.java:188)\n    org.apache.beam.runners.dataflow.worker.SimpleParDoFn.processElement(SimpleParDoFn.java:340)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\n    org.apache.beam.runners.dataflow.worker.SimpleParDoFn$1.output(SimpleParDoFn.java:285)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.outputWindowedValue(SimpleDoFnRunner.java:275)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.access$900(SimpleDoFnRunner.java:85)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:423)\n    org.apache.beam.sdk.transforms.DoFnOutputReceivers$WindowedContextOutputReceiver.output(DoFnOutputReceivers.java:76)\n    org.apache.beam.sdk.transforms.MapElements$1.processElement(MapElements.java:142)\n    org.apache.beam.sdk.transforms.MapElements$1$DoFnInvoker.invokeProcessElement(Unknown Source)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.invokeProcessElement(SimpleDoFnRunner.java:211)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.processElement(SimpleDoFnRunner.java:188)\n    org.apache.beam.runners.dataflow.worker.SimpleParDoFn.processElement(SimpleParDoFn.java:340)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\n    org.apache.beam.runners.dataflow.worker.SimpleParDoFn$1.output(SimpleParDoFn.java:285)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.outputWindowedValue(SimpleDoFnRunner.java:275)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.access$900(SimpleDoFnRunner.java:85)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:423)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:411)\n    org.apache.beam.runners.dataflow.ReshuffleOverrideFactory$ReshuffleWithOnlyTrigger$1.processElement(ReshuffleOverrideFactory.java:86)\n    org.apache.beam.runners.dataflow.ReshuffleOverrideFactory$ReshuffleWithOnlyTrigger$1$DoFnInvoker.invokeProcessElement(Unknown Source)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.invokeProcessElement(SimpleDoFnRunner.java:211)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.processElement(SimpleDoFnRunner.java:188)\n    org.apache.beam.runners.dataflow.worker.SimpleParDoFn.processElement(SimpleParDoFn.java:340)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\n    org.apache.beam.runners.dataflow.worker.GroupAlsoByWindowsParDoFn$1.output(GroupAlsoByWindowsParDoFn.java:185)\n    ... 21 more\n    Caused by: java.io.FileNotFoundException:      fs:/xxx_xxxx_xxxx/initial_load/xxxxxx_2022-10-11-lookup_data.tar.gz (No such file or directory)\n        java.base/java.io.FileInputStream.open0(Native Method)\n       java.base/java.io.FileInputStream.open(FileInputStream.java:216)\n    \n    xxxx_inital_load.ReadFilexxxx.processElement(ReadFilexxxx.java:97)\n&quot;\ntimestamp: &quot;2022-12-13T17:31:06.310507157Z&quot;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgum/vSVut.png\" rel=\"nofollow noreferrer\">Dataflow steps fails </a></p>\n<p>My pipeline code is as below,</p>\n<pre><code>  package xxxx_inital_load;\n\n import org.apache.beam.sdk.Pipeline;\n import org.apache.beam.sdk.coders.CoderRegistry;\nimport org.apache.beam.sdk.coders.SerializableCoder;\nimport org.apache.beam.sdk.io.Compression;\nimport org.apache.beam.sdk.io.FileIO;\nimport org.apache.beam.sdk.io.FileIO.ReadableFile;\nimport org.apache.beam.sdk.io.FileSystems;\nimport org.apache.beam.sdk.io.TextIO;\nimport org.apache.beam.sdk.io.fs.MatchResult;\nimport org.apache.beam.sdk.io.fs.ResolveOptions.StandardResolveOptions;\nimport org.apache.beam.sdk.io.fs.ResourceId;\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO;\nimport org.apache.beam.sdk.io.gcp.bigquery.TableDestination;\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO.Write.CreateDisposition;\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO.Write.WriteDisposition;\nimport org.apache.beam.sdk.options.PipelineOptions;\nimport org.apache.beam.sdk.options.PipelineOptions.DirectRunner;\nimport org.apache.beam.sdk.options.PipelineOptionsFactory;\nimport org.apache.beam.sdk.options.ValueProvider;\nimport org.apache.beam.sdk.transforms.*;\nimport org.apache.beam.sdk.transforms.DoFn.ProcessContext;\nimport org.apache.beam.sdk.transforms.DoFn.ProcessElement;\nimport org.apache.beam.sdk.values.KV;\nimport org.apache.beam.sdk.values.PCollection;\nimport org.apache.beam.sdk.values.PCollectionView;\nimport org.apache.beam.sdk.values.TypeDescriptors;\nimport org.apache.beam.sdk.values.ValueInSingleWindow;\nimport org.apache.commons.compress.archivers.tar.TarArchiveEntry;\nimport org.apache.commons.compress.archivers.tar.TarArchiveInputStream;\nimport org.apache.commons.compress.compressors.gzip.GzipCompressorInputStream;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport com.google.api.services.bigquery.model.TableRow;\nimport com.google.common.io.Files;\n\nimport org.apache.beam.sdk.annotations.*;\n\nimport java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.nio.channels.Channels;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.beam.runners.dataflow.DataflowRunner;\nimport org.apache.beam.runners.dataflow.options.DataflowPipelineOptions;\n\npublic class ReadFilexxxx {\n\n     private static final Logger LOG = LoggerFactory.getLogger(ReadFilexxxx.class);\n     static String outputTableProject = &quot;xxx-x-xxxx&quot;;\n    static String outputTableDataset = &quot;xxxx_events&quot;;\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        DataflowPipelineOptions dfOptions = PipelineOptionsFactory.as(MyOptions.class);\n        \n        dfOptions.setProject(&quot;xxx-x-xxxx&quot;);\n        dfOptions.setStagingLocation(&quot;fs://xxxx_events/xxxx&quot;);\n        dfOptions.setRegion(&quot;us-eastx&quot;);\n        dfOptions.setTempLocation(&quot;fs://xxxx_events/xxxx&quot;);\n        dfOptions.setServiceAccount(&quot;xxxx-xx@xxx-x-xxxx.xxx.xxxxxxx.com&quot;);\n        dfOptions.setSubnetwork(\n                &quot;https://www.googleapis.com/compute/v1/projects/xxx-xxx-x-xxxx-xxx/regions/us-eastx/subnetworks/x-xxxxxx-xxxx-xxxx&quot;);\n        dfOptions.setUsePublicIps(false);\n\n        dfOptions.setRunner(DataflowRunner.class);\n\n        DataflowRunner.fromOptions(dfOptions);\n\n        Pipeline p = Pipeline.create(dfOptions);\n\n        // PCollection&lt;String[]&gt; fileContents =\n        PCollectionView&lt;String[]&gt; filecontents = (PCollectionView&lt;String[]&gt;) p\n                 \n                .apply(&quot;MatchFile(s)&quot;, FileIO.match().filepattern(\n                        &quot;fs://xxxx_events/initial_load/*.tar.gz&quot;))\n                .apply(&quot;GCS File Match&quot;, FileIO.readMatches().withCompression(Compression.AUTO))\n                .apply(&quot;Untar and read files&quot;, ParDo.of(new DoFn&lt;FileIO.ReadableFile, String[]&gt;() {\n                //.apply(&quot;Untar and read files&quot;, ParDo.of(new DoFn&lt;MatchResult.Metadata, String[]&gt;() {\n\n                    @ProcessElement\n                    public void processElement(ProcessContext c) throws FileNotFoundException, IOException {\n                        String line = null;\n                        String tmp = null;\n                        String[] Data = null;// = new ArrayList&lt;&gt;();\n                        String filename = c.element().getMetadata().resourceId().getFilename();\n                        filename = &quot;fs://xxxxx_events/initial_load/&quot;.concat(filename);\n                        LOG.info(&quot;columns file path:&quot;, filename);\n                        TarArchiveInputStream tarInput = new TarArchiveInputStream(\n                                new GzipCompressorInputStream(new FileInputStream(filename)));\n                        \n                        TarArchiveEntry currentEntry = tarInput.getNextTarEntry();\n                        BufferedReader br = null;\n                        while (currentEntry != null) {\n                            if (currentEntry.getName().contains(&quot;column_headers.tsv&quot;)) {\n                                br = new BufferedReader(new InputStreamReader(tarInput)); // Read directly from tarInput\n                                System.out.println(&quot;For File = &quot; + currentEntry.getName());\n                                while ((tmp = br.readLine()) != null) {\n                                    line = tmp;\n                                    Data = line.split(&quot;\\t&quot;);\n                                    System.out.println(&quot;line=&quot; + line);\n                                }\n                                // br.close();\n                            }\n                            currentEntry = tarInput.getNextTarEntry(); // You forgot to iterate to the next file\n                        }\n                        br.close();\n                        tarInput.close();\n                        c.output(Data);\n                    }\n                })).apply(View.asSingleton());\n\n        PCollection&lt;String&gt; lines = p.apply(&quot;Read Files&quot;,\n                TextIO.read().from(&quot;fs://xxxx_events/initial_load/*.tsv.gz&quot;)\n                        .withCompression(Compression.GZIP));\n\n        p.getCoderRegistry().registerCoderForClass(ReadTarDir.class, TableAndRowCoder.of());\n\n        PCollection&lt;TableAndRow&gt; tablerows = lines\n                .apply(&quot;Transform File lines into TableAndRow&quot;, ParDo.of(new DoFn&lt;String, TableAndRow&gt;() {\n\n                    @ProcessElement\n                    public void processElement(ProcessContext c) {\n                        int tabnam_idx, indx;\n                        TableAndRow tbObj;\n                        String tabName = null;\n                        TableRow row = new TableRow();\n                        String[] columns = c.sideInput(filecontents);\n                        String[] arr = c.element().split(&quot;\\t&quot;);\n\n                        if (arr.length &gt; 0) {\n\n                            tabnam_idx = getIndex(columns, &quot;channel&quot;);\n                            indx = getIndex(columns, &quot;page_event&quot;);\n\n                            // ProductDetails\n                            if ((arr[tabnam_idx].toString()).contains(&quot;productdetails&quot;)) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;detail_page_view_events_idl&quot;);\n                                // tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\n                                // outputTableDataset,&quot;Detail_Page_View_Events&quot;);\n                                row.set(&quot;eventType&quot;, &quot;detail-page-view&quot;);\n                                int index = getIndex(columns, &quot;evar6&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot;&quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                row.set(&quot;eventTime&quot;, arr[getIndex(columns, &quot;date_time&quot;)]);\n                                row.set(&quot;experimentIds&quot;, arr[getIndex(columns, &quot;evar104&quot;)]);\n                                row.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                                row.set(&quot;userInfo.userId&quot;, &quot;1&quot;);\n                                row.set(&quot;userInfo.ipAddress&quot;, arr[getIndex(columns, &quot;ip&quot;)]);\n                                row.set(&quot;userInfo.userAgent&quot;, arr[getIndex(columns, &quot;user_agent&quot;)]);\n                                row.set(&quot;userInfo.directUserRequest&quot;, &quot;1&quot;);\n                                row.set(&quot;uri&quot;, arr[getIndex(columns, &quot;page_url&quot;)]);\n                                if (arr[getIndex(columns, &quot;visit_referrer&quot;)] == &quot;&quot;) {\n                                    row.set(&quot;referrerUri&quot;, &quot;1&quot;);\n                                } else {\n                                    row.set(&quot;referrerUri&quot;, arr[getIndex(columns, &quot;visit_referrer&quot;)]);\n                                }\n                            }\n\n                            // Homepage\n                            \nif ((arr[tabnam_idx].toString()).contains(&quot;homepage1&quot;)) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;home_page_view_events_idl&quot;);\n                                // tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\n                                // outputTableDataset,&quot;Home_Page_View_Events&quot;);\n                                row.set(&quot;eventType&quot;, &quot;home-page-view&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n\n                            }\n\n                            // Search\n                            indx = getIndex(columns, &quot;page_event&quot;);\n                            if ((arr[tabnam_idx].toString()).contains(&quot;search&quot;) &amp;&amp; arr[indx] == &quot;0&quot;) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;search_events_idl&quot;);\n                                // tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\n                                // outputTableDataset,&quot;Pass Table Name here&quot;);\n                                /* create row here */\n                                row.set(&quot;eventType&quot;, &quot;search&quot;);\n                            if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;searchQuery&quot;, arr[getIndex(columns, &quot;evar1&quot;)]);\n                                } else {\n                                    row.set(&quot;searchQuery&quot;, arr[getIndex(columns, &quot;evar2&quot;)]);\n                                }\n                                row.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n\n                            }\n\n                            // Browse\n                            indx = getIndex(columns, &quot;page_event&quot;);\n                            if ((arr[tabnam_idx].toString()).contains(&quot;category-landing&quot;) &amp;&amp; arr[indx] == &quot;0&quot;) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;category_page_view_events_idl&quot;);\n                                /* create row here */\n                                row.set(&quot;eventType&quot;, &quot;category-page-view&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                row.set(&quot;pageCategories&quot;, arr[getIndex(columns, &quot;evar104&quot;)]);\n                                }\n\n                            // add-to-cart\n                            if (arr[getIndex(columns, &quot;product_list&quot;)] != null &amp;&amp; arr[indx] == &quot;12&quot;) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;add_to_cart_events_idl&quot;);\n                                /* create row here */\n                                row.set(&quot;eventType&quot;, &quot;add-to-cart&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                row.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);   \n                            }\n\n                            // purchase complete\n                            indx = getIndex(columns, &quot;page_event&quot;);\n                            if (arr[getIndex(columns, &quot;product_list&quot;)] != null &amp;&amp; arr[indx] == &quot;1&quot;) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;purchase_complete_events_idl&quot;);\n                                \n                                \n/* create row here */\n                                row.set(&quot;eventType&quot;, &quot;home-page-view&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                row.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                                row.set(&quot;productDetails.product.quantity&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                                row.set(&quot;purchaseTransaction.revenue&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                                row.set(&quot;purchaseTransaction.currencyCode&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                            }\n                                \n                            }\n\n                        \n                LOG.info(&quot;Row:&quot; + row.toString());\n                tbObj = new TableAndRow(row, tabName);\n                c.output(tbObj);\n\n                    }\n            }).withSideInputs(filecontents)).setCoder(TableAndRowCoder.of());\n\n    tablerows.apply(&quot;Write to BigQuery&quot;,\n            BigQueryIO.&lt;TableAndRow&gt;write().to(line -&gt; getTableName(line))\n                    .withFormatFunction((TableAndRow line) -&gt; convertToTableRow(line))\n                         .withCreateDisposition(CreateDisposition.CREATE_NEVER)\n                         .withWriteDisposition(WriteDisposition.WRITE_APPEND));\n\n         p.run().waitUntilFinish();\n         System.out.println(&quot;Pipeline Executed&quot;);\n    }\n\n     private static TableRow convertToTableRow(TableAndRow line) {\n        // TODO Auto-generated method stub\n        TableRow row = line.getRow();\n        return row;\n    }\n\n    public static int getIndex(String[] Data, String str) {\n        int index = -1;\n        for (int j = 0; j &lt; Data.length; j++) {\n            if (Data[j].contains(str)) {\n                index = j;\n                break;\n            }\n        }\n\n        return index;\n    }\n\n    public static TableDestination getTableName(ValueInSingleWindow&lt;TableAndRow&gt; line) {\n\n        TableDestination destination;\n        TableAndRow row = line.getValue();\n\n        destination = new TableDestination(row.getTab_name(), null);\n\n        return destination;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","sql-server","linux","ssl","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1593151774,"post_id":62582542,"comment_id":110684749,"body_markdown":"The error indicates that the server does provide SSL (or: TLS) with a self-signed certificate with CN &#39;SSL_Self_Signed_Fallback&#39;, which isn&#39;t trusted by Java. So, maybe you DBA didn&#39;t configure SSL on SQL Server, but it is definitely enabled. See also https://support.microsoft.com/en-us/help/2007728/error-message-when-you-use-ssl-for-connections-to-sql-server-the-certi","body":"The error indicates that the server does provide SSL (or: TLS) with a self-signed certificate with CN &#39;SSL_Self_Signed_Fallback&#39;, which isn&#39;t trusted by Java. So, maybe you DBA didn&#39;t configure SSL on SQL Server, but it is definitely enabled. See also <a href=\"https://support.microsoft.com/en-us/help/2007728/error-message-when-you-use-ssl-for-connections-to-sql-server-the-certi\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/help/2007728/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4608741,"reputation":104,"user_id":3737478,"display_name":"smithapambalath"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1593168157,"creation_date":1593112404,"answer_id":62582708,"question_id":62582542,"body_markdown":"The driver believes  that the connection is secure , if it is connecting to a port that is meant to receive only secure connections. \r\n1.Check the port \r\n2.Check for any other explicit setting of TLS / SSL on the JDBC url","title":"Cannot connect to SQL Server server with MS JDBC Driver from CentOS 8 server: SSL error but not using secure connection","body":"<p>The driver believes  that the connection is secure , if it is connecting to a port that is meant to receive only secure connections.\n1.Check the port\n2.Check for any other explicit setting of TLS / SSL on the JDBC url</p>\n"},{"tags":[],"owner":{"account_id":1357419,"reputation":448,"user_id":1295543,"accept_rate":17,"display_name":"Pete Helgren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1593446351,"creation_date":1593446351,"answer_id":62642070,"question_id":62582542,"body_markdown":"So, the way I was able to get this to work after much trial and error was to copy the java.security file from the windows 10 install to the CentOS 8 install.  The ONLY thing I can see as different between the two was in this section:\r\n\r\n#\r\n&#39;# List of comma-separated packages that start with or equal this string\r\n\r\n&#39;# will cause a security exception to be thrown when\r\n\r\n&#39;# passed to checkPackageDefinition unless the\r\n\r\n&#39;# corresponding RuntimePermission (&quot;defineClassInPackage.&quot;+package) has\r\n\r\n&#39;# been granted.\r\n\r\n&#39;#\r\n\r\n&#39;# by default, none of the class loaders supplied with the JDK call\r\n\r\n&#39;# checkPackageDefinition.\r\n\r\n&#39;#\r\n\r\nThe entries in CentOS included at the end of the list:\r\n\r\n               org.GNOME.Accessibility.,\\\r\n               org.GNOME.Bonobo.\r\n    \r\n\r\nThe entries in the Windows version had only one entry at the end:\r\n\r\n               com.sun.java.accessibility.\r\n\r\nThat was the only difference I could find.  And, I don&#39;t understand why that made a difference..  But it DOES connect without error now and that is all I wanted....","title":"Cannot connect to SQL Server server with MS JDBC Driver from CentOS 8 server: SSL error but not using secure connection","body":"<p>So, the way I was able to get this to work after much trial and error was to copy the java.security file from the windows 10 install to the CentOS 8 install.  The ONLY thing I can see as different between the two was in this section:</p>\n<h1></h1>\n<p>'# List of comma-separated packages that start with or equal this string</p>\n<p>'# will cause a security exception to be thrown when</p>\n<p>'# passed to checkPackageDefinition unless the</p>\n<p>'# corresponding RuntimePermission (&quot;defineClassInPackage.&quot;+package) has</p>\n<p>'# been granted.</p>\n<p>'#</p>\n<p>'# by default, none of the class loaders supplied with the JDK call</p>\n<p>'# checkPackageDefinition.</p>\n<p>'#</p>\n<p>The entries in CentOS included at the end of the list:</p>\n<pre><code>           org.GNOME.Accessibility.,\\\n           org.GNOME.Bonobo.\n</code></pre>\n<p>The entries in the Windows version had only one entry at the end:</p>\n<pre><code>           com.sun.java.accessibility.\n</code></pre>\n<p>That was the only difference I could find.  And, I don't understand why that made a difference..  But it DOES connect without error now and that is all I wanted....</p>\n"},{"tags":[],"owner":{"account_id":19238701,"reputation":1,"user_id":14059166,"display_name":"Rainer Schl&#246;&#223;er"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596715716,"creation_date":1596705878,"answer_id":63280603,"question_id":62582542,"body_markdown":"spend quite some time to solve the connection issues between centos 8 with tomcat and jdbc:sql server 2014.\r\nI replaced the self-signed certificate in the properties of protocols in sql server configuration. \r\nIt is misleading that you can&#39;t see it on windows. It&#39;s only visible in the tomcat catalina.out file  - use debug with `-Djavax.net.debug=ssl:handshake:all`.\r\nYou have to prepare a certificate from an authority (a self-signed should also work) and store it in local computer - own certificate of the windows server. \r\nMake sure the service account of sql server has access right on the private key of the certificate. Otherwise, the sql service will not start.\r\nRestart sql server.\r\n\r\nAdd the certificate and chain to your tomcat configuration cacerts file.\r\nadd `-Djavax.net.ssl.trustStore=` and `-Djavax.net.ssl.trustStorePassword=` to setenv.sh\r\n\r\nThe string in the webapps web.xml had to be as simple as:\r\n`jdbc:sqlserver://yourURL;DatabaseName=yourDB;user=youruser;password=secret`\r\n[other options did not work and led to further exceptions: integratedSecurity=true;encrypt=true;trustServerCertificate=true - trustStore=storeName;trustStorePassword=storePassword\r\nand i&#39;ve tried all boolean options i.e.: false/true]\r\nRestart tomcat","title":"Cannot connect to SQL Server server with MS JDBC Driver from CentOS 8 server: SSL error but not using secure connection","body":"<p>spend quite some time to solve the connection issues between centos 8 with tomcat and jdbc:sql server 2014.\nI replaced the self-signed certificate in the properties of protocols in sql server configuration.\nIt is misleading that you can't see it on windows. It's only visible in the tomcat catalina.out file  - use debug with <code>-Djavax.net.debug=ssl:handshake:all</code>.\nYou have to prepare a certificate from an authority (a self-signed should also work) and store it in local computer - own certificate of the windows server.\nMake sure the service account of sql server has access right on the private key of the certificate. Otherwise, the sql service will not start.\nRestart sql server.</p>\n<p>Add the certificate and chain to your tomcat configuration cacerts file.\nadd <code>-Djavax.net.ssl.trustStore=</code> and <code>-Djavax.net.ssl.trustStorePassword=</code> to setenv.sh</p>\n<p>The string in the webapps web.xml had to be as simple as:\n<code>jdbc:sqlserver://yourURL;DatabaseName=yourDB;user=youruser;password=secret</code>\n[other options did not work and led to further exceptions: integratedSecurity=true;encrypt=true;trustServerCertificate=true - trustStore=storeName;trustStorePassword=storePassword\nand i've tried all boolean options i.e.: false/true]\nRestart tomcat</p>\n"},{"tags":[],"owner":{"account_id":1102109,"reputation":702,"user_id":1094300,"accept_rate":33,"display_name":"tibortru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607422229,"creation_date":1607422229,"answer_id":65196896,"question_id":62582542,"body_markdown":"It has to do something with openjdk version of java. We have switched to amazon correto 1.8 you can find it [here][1], and everything worked perfectly.\r\n\r\n\r\n  [1]: https://aws.amazon.com/corretto/","title":"Cannot connect to SQL Server server with MS JDBC Driver from CentOS 8 server: SSL error but not using secure connection","body":"<p>It has to do something with openjdk version of java. We have switched to amazon correto 1.8 you can find it <a href=\"https://aws.amazon.com/corretto/\" rel=\"nofollow noreferrer\">here</a>, and everything worked perfectly.</p>\n"},{"tags":[],"owner":{"account_id":9707205,"reputation":650,"user_id":7200296,"display_name":"B&#252;nyamin Şent&#252;rk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676293013,"creation_date":1676293013,"answer_id":75436194,"question_id":62582542,"body_markdown":"If anyone having the same problem at a Redhat 8 Linux, below command worked for me (it lowers the security)\r\n\r\n    update-crypto-policies --set LEGACY","title":"Cannot connect to SQL Server server with MS JDBC Driver from CentOS 8 server: SSL error but not using secure connection","body":"<p>If anyone having the same problem at a Redhat 8 Linux, below command worked for me (it lowers the security)</p>\n<pre><code>update-crypto-policies --set LEGACY\n</code></pre>\n"}],"owner":{"account_id":1357419,"reputation":448,"user_id":1295543,"accept_rate":17,"display_name":"Pete Helgren"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19338,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":62642070,"answer_count":5,"score":7,"last_activity_date":1676293013,"creation_date":1593111678,"question_id":62582542,"body_markdown":"I found one article that was close to the issue I am experiencing.  It is this one:\r\n\r\nhttps://stackoverflow.com/questions/32766114/sql-server-jdbc-error-on-java-8-the-driver-could-not-establish-a-secure-connect\r\n\r\nI can provide the entire stack trace but the pruned version has this series of errors:\r\n\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;java.security.cert.CertificateException: Certificates do not conform to algorithm constraints&quot;. ClientConnectionId:e7a5ebc2-d489-4743-85ba-7873926508fe\r\n&gt;\r\n&gt; Caused by: javax.net.ssl.SSLHandshakeException:   \r\n&gt; java.security.cert.CertificateException: Certificates do not conform to algorithm constraints\r\n&gt;\r\n&gt; Caused by: java.security.cert.CertificateException: Certificates do not conform to algorithm constraints\r\n&gt;\r\n&gt; Caused by: java.security.cert.CertPathValidatorException: Algorithm constraints check failed on keysize limits. RSA 1024bit key used with certificate: CN=SSL_Self_Signed_Fallback.  Usage was tls server\r\n\r\nThe JDBC connection is to a SQL Server 2012 that does NOT have connection encryption enabled or any security that I know of. I talked to our DB guy and he says there is no security on the connection that he knows of. So, I am not sure WHY the MS driver continues to complain about the SSL connection.\r\n\r\nThis Linux server (CentOS 8) has two tomcat installations that use JDBC connections. I have a Tomcat 8.0.32 instance that connects to the SQL Server 2012 instance using the JTDS driver that has no problem at all in connecting. I tried switching that driver to the MS driver and it then experienced the same errors.  So I switched it back.  But the second installation of Tomcat (9.0.33) has an app that requires a JDBC 4.0 or above driver and the JTDS driver is only a 3.0 driver so I have to use the MS driver.  But, I cannot figure out how to get a successful connection.\r\n\r\nDigging through the Internet I found reference to the jsse.jar and having the correct certs installed (although nothing specific as to how to do it or why).  I also dug of an article that said that the JTDS driver uses NTLM to connect (not 100% sure about that since I have no reference to a domain in my connection for JTDS).   In any case, I just need some guidance on how to configure the MS driver to connect from Linux to a non-secured SQL Server 2012. The Microsoft references I found addressed secured connections but nothing about connections that were not secured.\r\n\r\nRunning Java version:\r\n* openjdk version &quot;1.8.0_252&quot;\r\n* OpenJDK Runtime Environment (build 1.8.0_252-b09)\r\n* OpenJDK 64-Bit Server VM (build 25.252-b09, mixed mode)\r\n\r\n    driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    url=jdbc:sqlserver://192.168.80.214:1433;databaseName=DB_Central;   \r\n    integratedSecurity=true;authenticationScheme=NTLM;domain=mydomain.org;\r\n\r\nAlso tried:\r\n\r\n    url=jdbc:sqlserver://192.168.80.214:1433;databaseName=DB_Central;encrypt=false;sslProtocol=TLSv1.2;\r\n\r\nAnd just:\r\n\r\n    url=jdbc:sqlserver://192.168.80.214:1433;databaseName=DB_Central\r\n\r\nJTDS that works (in the tomcat 8.0.32 / JDBC 3.0 environment):\r\n\r\n    driverClassName=net.sourceforge.jtds.jdbc.Driver\r\n    url=jdbc:jtds:sqlserver://192.168.80.214:1433;databaseName=DB_Central\r\n\r\nANYTHING that might point me in the right direction would be helpful especially why the MS driver wants (or thinks) the connection is secure.  The other tidbit is that I see none of these errors when deployed to Windows 10...so it has something to do with Linux and maybe the Java config on Linux.  Or, maybe I just need the correct incantation for the connection string when in Linux.....\r\n","title":"Cannot connect to SQL Server server with MS JDBC Driver from CentOS 8 server: SSL error but not using secure connection","body":"<p>I found one article that was close to the issue I am experiencing.  It is this one:</p>\n<p><a href=\"https://stackoverflow.com/questions/32766114/sql-server-jdbc-error-on-java-8-the-driver-could-not-establish-a-secure-connect\">SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption</a></p>\n<p>I can provide the entire stack trace but the pruned version has this series of errors:</p>\n<blockquote>\n<p>com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;java.security.cert.CertificateException: Certificates do not conform to algorithm constraints&quot;. ClientConnectionId:e7a5ebc2-d489-4743-85ba-7873926508fe</p>\n<p>Caused by: javax.net.ssl.SSLHandshakeException:<br />\njava.security.cert.CertificateException: Certificates do not conform to algorithm constraints</p>\n<p>Caused by: java.security.cert.CertificateException: Certificates do not conform to algorithm constraints</p>\n<p>Caused by: java.security.cert.CertPathValidatorException: Algorithm constraints check failed on keysize limits. RSA 1024bit key used with certificate: CN=SSL_Self_Signed_Fallback.  Usage was tls server</p>\n</blockquote>\n<p>The JDBC connection is to a SQL Server 2012 that does NOT have connection encryption enabled or any security that I know of. I talked to our DB guy and he says there is no security on the connection that he knows of. So, I am not sure WHY the MS driver continues to complain about the SSL connection.</p>\n<p>This Linux server (CentOS 8) has two tomcat installations that use JDBC connections. I have a Tomcat 8.0.32 instance that connects to the SQL Server 2012 instance using the JTDS driver that has no problem at all in connecting. I tried switching that driver to the MS driver and it then experienced the same errors.  So I switched it back.  But the second installation of Tomcat (9.0.33) has an app that requires a JDBC 4.0 or above driver and the JTDS driver is only a 3.0 driver so I have to use the MS driver.  But, I cannot figure out how to get a successful connection.</p>\n<p>Digging through the Internet I found reference to the jsse.jar and having the correct certs installed (although nothing specific as to how to do it or why).  I also dug of an article that said that the JTDS driver uses NTLM to connect (not 100% sure about that since I have no reference to a domain in my connection for JTDS).   In any case, I just need some guidance on how to configure the MS driver to connect from Linux to a non-secured SQL Server 2012. The Microsoft references I found addressed secured connections but nothing about connections that were not secured.</p>\n<p>Running Java version:</p>\n<ul>\n<li><p>openjdk version &quot;1.8.0_252&quot;</p>\n</li>\n<li><p>OpenJDK Runtime Environment (build 1.8.0_252-b09)</p>\n</li>\n<li><p>OpenJDK 64-Bit Server VM (build 25.252-b09, mixed mode)</p>\n<p>driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\nurl=jdbc:sqlserver://192.168.80.214:1433;databaseName=DB_Central;<br />\nintegratedSecurity=true;authenticationScheme=NTLM;domain=mydomain.org;</p>\n</li>\n</ul>\n<p>Also tried:</p>\n<pre><code>url=jdbc:sqlserver://192.168.80.214:1433;databaseName=DB_Central;encrypt=false;sslProtocol=TLSv1.2;\n</code></pre>\n<p>And just:</p>\n<pre><code>url=jdbc:sqlserver://192.168.80.214:1433;databaseName=DB_Central\n</code></pre>\n<p>JTDS that works (in the tomcat 8.0.32 / JDBC 3.0 environment):</p>\n<pre><code>driverClassName=net.sourceforge.jtds.jdbc.Driver\nurl=jdbc:jtds:sqlserver://192.168.80.214:1433;databaseName=DB_Central\n</code></pre>\n<p>ANYTHING that might point me in the right direction would be helpful especially why the MS driver wants (or thinks) the connection is secure.  The other tidbit is that I see none of these errors when deployed to Windows 10...so it has something to do with Linux and maybe the Java config on Linux.  Or, maybe I just need the correct incantation for the connection string when in Linux.....</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1415352843,"post_id":26798073,"comment_id":42170191,"body_markdown":"Well, if you `.wait()`, another thread has to `.notify()` you -- on the exact same object reference. `.yield()` is simply a hint to the JVM that &quot;if you ant to schedule me out, you can for the moment&quot;","body":"Well, if you <code>.wait()</code>, another thread has to <code>.notify()</code> you -- on the exact same object reference. <code>.yield()</code> is simply a hint to the JVM that &quot;if you ant to schedule me out, you can for the moment&quot;"},{"owner":{"account_id":2526737,"reputation":394,"user_id":2195963,"accept_rate":67,"display_name":"Awani"},"score":0,"creation_date":1415353288,"post_id":26798073,"comment_id":42170428,"body_markdown":"So aren&#39;t they both doing the same task - waiting so that other threads can execute?\nAlso, when using yield(), how will the thread come back to runnable state?","body":"So aren&#39;t they both doing the same task - waiting so that other threads can execute? Also, when using yield(), how will the thread come back to runnable state?"}],"answers":[{"tags":[],"owner":{"account_id":5243963,"reputation":130,"user_id":4190267,"display_name":"indian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538390322,"creation_date":1415353577,"answer_id":26798351,"question_id":26798073,"body_markdown":"The first difference is that `yield()` is a `Thread` method , `wait()` is at the origins `Object` method inheritid in `thread` as for all classes , that in the shape, in the background (using java doc) \r\n\r\n    wait()\r\nCauses the current thread to wait until another thread invokes the notify() method or the notifyAll() method for this object. In other words, this method behaves exactly as if it simply performs the call wait(0).\r\n\r\n    yield()\r\nA hint to the scheduler that the current thread is willing to yield its current use of a processor. The scheduler is free to ignore this hint.\r\n\r\nand here you can see the [difference][1] between [yield()][2] and [wait()][3]\r\n\r\n\r\n  [1]: http://javarevisited.blogspot.fr/2011/12/difference-between-wait-sleep-yield.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#yield()\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait()","title":"difference between wait() and yield()","body":"<p>The first difference is that <code>yield()</code> is a <code>Thread</code> method , <code>wait()</code> is at the origins <code>Object</code> method inheritid in <code>thread</code> as for all classes , that in the shape, in the background (using java doc) </p>\n\n<pre><code>wait()\n</code></pre>\n\n<p>Causes the current thread to wait until another thread invokes the notify() method or the notifyAll() method for this object. In other words, this method behaves exactly as if it simply performs the call wait(0).</p>\n\n<pre><code>yield()\n</code></pre>\n\n<p>A hint to the scheduler that the current thread is willing to yield its current use of a processor. The scheduler is free to ignore this hint.</p>\n\n<p>and here you can see the <a href=\"http://javarevisited.blogspot.fr/2011/12/difference-between-wait-sleep-yield.html\" rel=\"nofollow noreferrer\">difference</a> between <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#yield()\" rel=\"nofollow noreferrer\">yield()</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait()\" rel=\"nofollow noreferrer\">wait()</a></p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1415354856,"creation_date":1415354856,"answer_id":26798737,"question_id":26798073,"body_markdown":"`wait` is for *waiting* on a condition. This might not jump into the eye when looking at the method as it is entirely up to you to define what kind of condition it is. But the API tries to force you to use it correctly by requiring that you own the monitor of the object on which you are waiting, which is necessary for a correct condition check in a multi-threaded environment.\r\n\r\nSo a correct use of `wait` looks like:\r\n\r\n    synchronized(object) {\r\n      while( ! /* your defined condition */)\r\n        object.wait();\r\n      /* execute other critical actions if needed */\r\n    }\r\n\r\nAnd it must be paired with another thread executing code like:\r\n\r\n    synchronized(object) {\r\n      /* make your defined condition true */)\r\n      object.notify();\r\n    }\r\n\r\n---\r\nIn contrast `Thread.yield()` is just a *hint* that your thread might release the CPU at this point of time. It’s not specified whether it actually does anything and, regardless of whether the CPU has been released or not, it has no impact on the semantics in respect to the memory model. In other words, it does not create any relationship to other threads which would be required for accessing shared variables correctly.\r\n\r\nFor example the following loop accessing `sharedVariable` (which is not declared `volatile`) might run forever without ever noticing updates made by other threads:\r\n\r\n    while(sharedVariable != expectedValue) Thread.yield();\r\n\r\nWhile `Thread.yield` might help other threads to run (they will run anyway on most systems), it does *not* enforce re-reading the value of `sharedVariable` from the shared memory. Thus, without other constructs enforcing memory visibility, e.g. decaring `sharedVariable` as `volatile`, this loop is broken.\r\n","title":"difference between wait() and yield()","body":"<p><code>wait</code> is for <em>waiting</em> on a condition. This might not jump into the eye when looking at the method as it is entirely up to you to define what kind of condition it is. But the API tries to force you to use it correctly by requiring that you own the monitor of the object on which you are waiting, which is necessary for a correct condition check in a multi-threaded environment.</p>\n\n<p>So a correct use of <code>wait</code> looks like:</p>\n\n<pre><code>synchronized(object) {\n  while( ! /* your defined condition */)\n    object.wait();\n  /* execute other critical actions if needed */\n}\n</code></pre>\n\n<p>And it must be paired with another thread executing code like:</p>\n\n<pre><code>synchronized(object) {\n  /* make your defined condition true */)\n  object.notify();\n}\n</code></pre>\n\n<hr>\n\n<p>In contrast <code>Thread.yield()</code> is just a <em>hint</em> that your thread might release the CPU at this point of time. It’s not specified whether it actually does anything and, regardless of whether the CPU has been released or not, it has no impact on the semantics in respect to the memory model. In other words, it does not create any relationship to other threads which would be required for accessing shared variables correctly.</p>\n\n<p>For example the following loop accessing <code>sharedVariable</code> (which is not declared <code>volatile</code>) might run forever without ever noticing updates made by other threads:</p>\n\n<pre><code>while(sharedVariable != expectedValue) Thread.yield();\n</code></pre>\n\n<p>While <code>Thread.yield</code> might help other threads to run (they will run anyway on most systems), it does <em>not</em> enforce re-reading the value of <code>sharedVariable</code> from the shared memory. Thus, without other constructs enforcing memory visibility, e.g. decaring <code>sharedVariable</code> as <code>volatile</code>, this loop is broken.</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1415369583,"creation_date":1415369124,"answer_id":26803040,"question_id":26798073,"body_markdown":"&gt; aren&#39;t they both doing the same task - waiting so that other threads can execute?\r\n\r\nNot even close, because `yield()` does not _wait_ for anything.\r\n\r\nEvery thread can be in one of a number of different states:  _Running_ means that the thread is actually running on a CPU, _Runnable_ means that nothing is preventing the thread from running except, maybe the availability of a CPU for it to run on.  All of the other states can be lumped into a category called _blocked_.  A blocked thread is a thread that is waiting for something to happen before it can become runnable.\r\n\r\nThe operating system _preempts_ running threads on a regular basis:  Every so often (between 10 times per second and 100 times per second on most operating systems) the OS tags each running thread and says, &quot;your turn is up, go to the back of the run queue&#39; (i.e., change state from running to runnable).  Then it lets whatever thread is at the head of the run queue use that CPU (i.e., become running again).\r\n\r\nWhen your program calls `Thread.yield()`, it&#39;s saying to the operating system, &quot;I still have work to do, but it might not be as important as the work that some other thread is doing.  Please send me to the back of the run queue right now.&quot;  If there is an available CPU for the thread to run on though, then it effectively will just keep running (i.e., the yield() call will immediately return).\r\n\r\nWhen your program calls `foobar.wait()` on the other hand, it&#39;s saying to the operating system, &quot;Block me until some other thread calls `foobar.notify()`.\r\n\r\nYielding was first implemented on non-preemptive operating systems and, in non-preemptive threading libraries.  On a computer with only one CPU, the _only_ way that more than one thread ever got to run was when the threads explicitly yielded to one another.\r\n\r\nYielding also was useful for _busy waiting_.  That&#39;s where a thread waits for something to happen by sitting in a tight loop, testing the same condition over and over again.  If the condition depended on some other thread to do some work, the waiting thread would yield() each time around the loop in order to let the other thread do its work.\r\n\r\nNow that we have preemption and multiprocessor systems and libraries that provide us with higher-level synchronization objects, there is basically no reason why an application programs would need to call `yield()` anymore.","title":"difference between wait() and yield()","body":"<blockquote>\n  <p>aren't they both doing the same task - waiting so that other threads can execute?</p>\n</blockquote>\n\n<p>Not even close, because <code>yield()</code> does not <em>wait</em> for anything.</p>\n\n<p>Every thread can be in one of a number of different states:  <em>Running</em> means that the thread is actually running on a CPU, <em>Runnable</em> means that nothing is preventing the thread from running except, maybe the availability of a CPU for it to run on.  All of the other states can be lumped into a category called <em>blocked</em>.  A blocked thread is a thread that is waiting for something to happen before it can become runnable.</p>\n\n<p>The operating system <em>preempts</em> running threads on a regular basis:  Every so often (between 10 times per second and 100 times per second on most operating systems) the OS tags each running thread and says, \"your turn is up, go to the back of the run queue' (i.e., change state from running to runnable).  Then it lets whatever thread is at the head of the run queue use that CPU (i.e., become running again).</p>\n\n<p>When your program calls <code>Thread.yield()</code>, it's saying to the operating system, \"I still have work to do, but it might not be as important as the work that some other thread is doing.  Please send me to the back of the run queue right now.\"  If there is an available CPU for the thread to run on though, then it effectively will just keep running (i.e., the yield() call will immediately return).</p>\n\n<p>When your program calls <code>foobar.wait()</code> on the other hand, it's saying to the operating system, \"Block me until some other thread calls <code>foobar.notify()</code>.</p>\n\n<p>Yielding was first implemented on non-preemptive operating systems and, in non-preemptive threading libraries.  On a computer with only one CPU, the <em>only</em> way that more than one thread ever got to run was when the threads explicitly yielded to one another.</p>\n\n<p>Yielding also was useful for <em>busy waiting</em>.  That's where a thread waits for something to happen by sitting in a tight loop, testing the same condition over and over again.  If the condition depended on some other thread to do some work, the waiting thread would yield() each time around the loop in order to let the other thread do its work.</p>\n\n<p>Now that we have preemption and multiprocessor systems and libraries that provide us with higher-level synchronization objects, there is basically no reason why an application programs would need to call <code>yield()</code> anymore.</p>\n"},{"tags":[],"owner":{"account_id":27771970,"reputation":11,"user_id":21202100,"display_name":"pt7092 "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676292635,"creation_date":1676292557,"answer_id":75436114,"question_id":26798073,"body_markdown":"Yield(): When a running thread is stopped to give its space to another thread with a high priority, this is called Yield.Here the running thread changes to runnable thread.\r\n\r\nWait(): A thread is waiting to get resources from a thread to continue its execution.","title":"difference between wait() and yield()","body":"<p>Yield(): When a running thread is stopped to give its space to another thread with a high priority, this is called Yield.Here the running thread changes to runnable thread.</p>\n<p>Wait(): A thread is waiting to get resources from a thread to continue its execution.</p>\n"}],"owner":{"account_id":2526737,"reputation":394,"user_id":2195963,"accept_rate":67,"display_name":"Awani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16964,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":26803040,"answer_count":4,"score":9,"last_activity_date":1676292635,"creation_date":1415352611,"question_id":26798073,"body_markdown":"So far what I have understood about wait() and yield () methods is that yield() is called when the thread is not carrying out any task and lets the CPU execute some other thread. wait() is used when some thread is put on hold and usually used in the concept of synchronization. However, I fail to understand the difference in their functionality and i&#39;m not sure if what I have understood is right or wrong. Can someone please explain the difference between them(apart from the package they are present in).","title":"difference between wait() and yield()","body":"<p>So far what I have understood about wait() and yield () methods is that yield() is called when the thread is not carrying out any task and lets the CPU execute some other thread. wait() is used when some thread is put on hold and usually used in the concept of synchronization. However, I fail to understand the difference in their functionality and i'm not sure if what I have understood is right or wrong. Can someone please explain the difference between them(apart from the package they are present in).</p>\n"},{"tags":["java","logging","wildfly","log4j2"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1675933556,"post_id":75386838,"comment_id":133035376,"body_markdown":"What version of WildFly are you using?","body":"What version of WildFly are you using?"},{"owner":{"account_id":8136326,"reputation":191,"user_id":6127819,"display_name":"Cristian Stancalau"},"score":0,"creation_date":1676292085,"post_id":75386838,"comment_id":133101613,"body_markdown":"Hi @JamesR.Perkins, I am using wildfly-26.0.0.Final","body":"Hi @JamesR.Perkins, I am using wildfly-26.0.0.Final"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1676394169,"post_id":75386838,"comment_id":133126597,"body_markdown":"Is there a reason you need to use a separate log4j2 configuration? If not, you could simply remove log4j-core and the configuration file from your deployment and it should log to the console with the same pattern.","body":"Is there a reason you need to use a separate log4j2 configuration? If not, you could simply remove log4j-core and the configuration file from your deployment and it should log to the console with the same pattern."},{"owner":{"account_id":8136326,"reputation":191,"user_id":6127819,"display_name":"Cristian Stancalau"},"score":0,"creation_date":1676531120,"post_id":75386838,"comment_id":133156158,"body_markdown":"I am not sure what configuration you are referring to. Those settings are in standalone.xml","body":"I am not sure what configuration you are referring to. Those settings are in standalone.xml"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1676562158,"post_id":75386838,"comment_id":133165665,"body_markdown":"Those settings are yes, but something is logging to `stdout` as you can see with the `15:35:54,357 INFO [stdout]` snippet. This means you likely have some other logging configuration file in your deployment with a console handler/appender defined.","body":"Those settings are yes, but something is logging to <code>stdout</code> as you can see with the <code>15:35:54,357 INFO [stdout]</code> snippet. This means you likely have some other logging configuration file in your deployment with a console handler/appender defined."}],"owner":{"account_id":8136326,"reputation":191,"user_id":6127819,"display_name":"Cristian Stancalau"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676292256,"creation_date":1675864667,"question_id":75386838,"body_markdown":"I use Wildfly to launch a single JEE application and all subsystem logs appear to be wrapped inside the root logger under INFO, regardless of their intended level.\r\n\r\nExample:\r\n\r\n*15:35:54,357 **INFO** [stdout] (default task-1) 2023-02-08 15:35:54 782b3ed6-0a93-4d30-a4fc-eaf7932840b0 **WARN** com.mycompany.MyResource:45 - [OK] - GET /v1/call*\r\n\r\nAs you can see INFO is the root logger and WARN is the intended level. This is a huge issue when these logs get queried by LogDNA as everything appears in INFO and I can&#39;t filter by level.\r\n\r\n\r\nI tried setting the pattern to:\r\n```\r\n&lt;formatter name=&quot;COLOR-PATTERN&quot;&gt;\r\n    &lt;pattern-formatter pattern=&quot;%s%e%n&quot;/&gt;\r\n&lt;/formatter&gt;\r\n```\r\n\r\nfrom:\r\n\r\n```\r\n&lt;formatter name=&quot;COLOR-PATTERN&quot;&gt;\r\n    &lt;pattern-formatter pattern=&quot;%K{level}%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n&quot;/&gt;\r\n&lt;/formatter&gt;\r\n```\r\n\r\nAnd it kinda works, but also makes LogDNA misinterpret a good portion of the logs, not linking them to the service, but rather the underlying pods. No idea how and why.\r\n\r\nAny help in configuring Wildfly and Log4j2 to specify the correct log level or not print subsystem logs through the root logger would be greatly appreciated. \r\n\r\nEdit: It appears the LogDna issues are not related to the pattern, but still, using pattern=&quot;%s%e%n&quot; does not log enough information on container log events.","title":"Make Wildfly console log subsystem messages without wrapping in the root logger","body":"<p>I use Wildfly to launch a single JEE application and all subsystem logs appear to be wrapped inside the root logger under INFO, regardless of their intended level.</p>\n<p>Example:</p>\n<p><em>15:35:54,357 <strong>INFO</strong> [stdout] (default task-1) 2023-02-08 15:35:54 782b3ed6-0a93-4d30-a4fc-eaf7932840b0 <strong>WARN</strong> com.mycompany.MyResource:45 - [OK] - GET /v1/call</em></p>\n<p>As you can see INFO is the root logger and WARN is the intended level. This is a huge issue when these logs get queried by LogDNA as everything appears in INFO and I can't filter by level.</p>\n<p>I tried setting the pattern to:</p>\n<pre><code>&lt;formatter name=&quot;COLOR-PATTERN&quot;&gt;\n    &lt;pattern-formatter pattern=&quot;%s%e%n&quot;/&gt;\n&lt;/formatter&gt;\n</code></pre>\n<p>from:</p>\n<pre><code>&lt;formatter name=&quot;COLOR-PATTERN&quot;&gt;\n    &lt;pattern-formatter pattern=&quot;%K{level}%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n&quot;/&gt;\n&lt;/formatter&gt;\n</code></pre>\n<p>And it kinda works, but also makes LogDNA misinterpret a good portion of the logs, not linking them to the service, but rather the underlying pods. No idea how and why.</p>\n<p>Any help in configuring Wildfly and Log4j2 to specify the correct log level or not print subsystem logs through the root logger would be greatly appreciated.</p>\n<p>Edit: It appears the LogDna issues are not related to the pattern, but still, using pattern=&quot;%s%e%n&quot; does not log enough information on container log events.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1602528999,"post_id":64323694,"comment_id":113743887,"body_markdown":"Some weird font setting?","body":"Some weird font setting?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":4,"creation_date":1602531632,"post_id":64323694,"comment_id":113744873,"body_markdown":"This is a problem with the font settings on your system see [here](https://bugs.eclipse.org/bugs/show_bug.cgi?id=551965)","body":"This is a problem with the font settings on your system see <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=551965\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":18380016,"reputation":61,"user_id":13388247,"display_name":"Jamie Lee"},"score":0,"creation_date":1602538199,"post_id":64323694,"comment_id":113747119,"body_markdown":"thanks, I solved a problem with the font","body":"thanks, I solved a problem with the font"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1602583476,"post_id":64323694,"comment_id":113759969,"body_markdown":"@greg-449 Is there a question where you answered that not only with a comment so we can close this question as a duplicate? I found only duplicates ([here](https://stackoverflow.com/q/62970368/6505250) and [here](https://stackoverflow.com/q/63151885/6505250)) with your helpfull comment but not as an answer.","body":"@greg-449 Is there a question where you answered that not only with a comment so we can close this question as a duplicate? I found only duplicates (<a href=\"https://stackoverflow.com/q/62970368/6505250\">here</a> and <a href=\"https://stackoverflow.com/q/63151885/6505250\">here</a>) with your helpfull comment but not as an answer."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1602583854,"post_id":64323694,"comment_id":113760170,"body_markdown":"@howlger No I haven&#39;t answered anywhere because I don&#39;t use Windows so I don&#39;t know what the exact solution is!","body":"@howlger No I haven&#39;t answered anywhere because I don&#39;t use Windows so I don&#39;t know what the exact solution is!"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1602586546,"post_id":64323694,"comment_id":113761412,"body_markdown":"@greg-449 The solution is to set a font (e.g. _Tahoma_ or _Verdana_) in _Window &gt; Preferences: General &gt; Appearance &gt; Colors and Fonts_ for _View and Editor Folders &gt; Part title font_ that is shown correctly in the _Preview_ of the preference page.","body":"@greg-449 The solution is to set a font (e.g. <i>Tahoma</i> or <i>Verdana</i>) in <i>Window &gt; Preferences: General &gt; Appearance &gt; Colors and Fonts</i> for <i>View and Editor Folders &gt; Part title font</i> that is shown correctly in the <i>Preview</i> of the preference page."}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1602598353,"creation_date":1602598353,"answer_id":64336896,"question_id":64323694,"body_markdown":"This is caused by the font settings in Windows. It is described in [this](https://bugs.eclipse.org/bugs/show_bug.cgi?id=551965) Eclipse bug report (closed as not an Eclipse bug).\r\n\r\nYou should be able to fix it in Eclipse by changing the &quot;Part Title&quot; font - Window &gt; Preferences &gt; General &gt; Appearance &gt; Colors and Fonts, in the &quot;View and Editor Folders&quot; section change the &quot;Part title font&quot; to something that displays correctly.","title":"Eclipse tabs are broken how to fix it?","body":"<p>This is caused by the font settings in Windows. It is described in <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=551965\" rel=\"noreferrer\">this</a> Eclipse bug report (closed as not an Eclipse bug).</p>\n<p>You should be able to fix it in Eclipse by changing the &quot;Part Title&quot; font - Window &gt; Preferences &gt; General &gt; Appearance &gt; Colors and Fonts, in the &quot;View and Editor Folders&quot; section change the &quot;Part title font&quot; to something that displays correctly.</p>\n"}],"owner":{"account_id":18380016,"reputation":61,"user_id":13388247,"display_name":"Jamie Lee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"answer_count":1,"score":3,"last_activity_date":1676291714,"creation_date":1602528644,"question_id":64323694,"body_markdown":"I just downloaded eclipse but it shows broken language so. how can I fix this problem?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8FTYw.png","title":"Eclipse tabs are broken how to fix it?","body":"<p>I just downloaded eclipse but it shows broken language so. how can I fix this problem?</p>\n<p><a href=\"https://i.stack.imgur.com/8FTYw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8FTYw.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jax-rs"],"comments":[{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":1,"creation_date":1676138433,"post_id":75422133,"comment_id":133079118,"body_markdown":"https://docs.oracle.com/javaee/7/api/javax/ws/rs/core/UriBuilder.html#queryParam-java.lang.String-java.lang.Object...-","body":"<a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/core/UriBuilder.html#queryParam-java.lang.String-java.lang.Object...-\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/ws/rs/core/&hellip;</a>"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1676408770,"post_id":75422133,"comment_id":133130557,"body_markdown":"https://docs.oracle.com/javaee/7/api/javax/ws/rs/core/UriBuilder.html#buildFromMap-java.util.Map- (It&#39;s used for _templates_)","body":"<a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/core/UriBuilder.html#buildFromMap-java.util.Map-\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/ws/rs/core/&hellip;</a> (It&#39;s used for <i>templates</i>)"}],"owner":{"account_id":16932921,"reputation":1,"user_id":21194281,"display_name":"sony9494"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676291608,"creation_date":1676137779,"question_id":75422133,"body_markdown":"Problem: `buildFromMap` is not adding query parameters\r\n\r\nI&#39;m using JAX-RS API\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\r\n  &lt;version&gt;2.1.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis is my method to build URIs with query parameters\r\n```\r\n    protected URI buildUri(final String uriString, final Map&lt;String, Object&gt; queryParameters) {\r\n        return UriBuilder.fromUri(uriString).buildFromMap(queryParameters);\r\n    }\r\n```\r\n\r\n\r\nIt doesn&#39;t add the parameters. I would expect this to pass:\r\n```\r\n        @Test\r\n        public void testBuildUriWithQueryParameters() {\r\n            final var endpoint = &quot;https://www.example.com/test&quot;;\r\n            final var queryParameters = Map.&lt;String, Object&gt;of(\r\n                    &quot;field1&quot;, &quot;value1&quot;,\r\n                    &quot;field2&quot;, 2\r\n            );\r\n            final var expected = endpoint + &quot;?field1=value1&amp;field2=2&quot;;\r\n            final var actual = httpService.buildUri(endpoint, queryParameters);\r\n            Assertions.assertEquals(expected, actual.toString());\r\n        }\r\n```\r\n\r\nBut the test fails:\r\n```\r\n\r\norg.opentest4j.AssertionFailedError: \r\nExpected :https://www.example.com/test?field1=value1&amp;field2=2\r\nActual   :https://www.example.com/test\r\n```\r\n\r\nThis implementation passes:\r\n```\r\n    protected URI buildUri(final String uriString, final Map&lt;String, Object&gt; queryParameters) {\r\n        final var uriBuilder = UriBuilder.fromUri(uriString);\r\n        for (final var queryParameter : queryParameters.entrySet()) {\r\n            uriBuilder.queryParam(queryParameter.getKey(), queryParameter.getValue());\r\n        }\r\n        return uriBuilder.build();\r\n    }\r\n```","title":"JAX-RS UriBuilder#buildFromMap not adding query parameters","body":"<p>Problem: <code>buildFromMap</code> is not adding query parameters</p>\n<p>I'm using JAX-RS API</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\n  &lt;version&gt;2.1.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is my method to build URIs with query parameters</p>\n<pre><code>    protected URI buildUri(final String uriString, final Map&lt;String, Object&gt; queryParameters) {\n        return UriBuilder.fromUri(uriString).buildFromMap(queryParameters);\n    }\n</code></pre>\n<p>It doesn't add the parameters. I would expect this to pass:</p>\n<pre><code>        @Test\n        public void testBuildUriWithQueryParameters() {\n            final var endpoint = &quot;https://www.example.com/test&quot;;\n            final var queryParameters = Map.&lt;String, Object&gt;of(\n                    &quot;field1&quot;, &quot;value1&quot;,\n                    &quot;field2&quot;, 2\n            );\n            final var expected = endpoint + &quot;?field1=value1&amp;field2=2&quot;;\n            final var actual = httpService.buildUri(endpoint, queryParameters);\n            Assertions.assertEquals(expected, actual.toString());\n        }\n</code></pre>\n<p>But the test fails:</p>\n<pre><code>\norg.opentest4j.AssertionFailedError: \nExpected :https://www.example.com/test?field1=value1&amp;field2=2\nActual   :https://www.example.com/test\n</code></pre>\n<p>This implementation passes:</p>\n<pre><code>    protected URI buildUri(final String uriString, final Map&lt;String, Object&gt; queryParameters) {\n        final var uriBuilder = UriBuilder.fromUri(uriString);\n        for (final var queryParameter : queryParameters.entrySet()) {\n            uriBuilder.queryParam(queryParameter.getKey(), queryParameter.getValue());\n        }\n        return uriBuilder.build();\n    }\n</code></pre>\n"},{"tags":["java","jackson"],"owner":{"account_id":4095402,"reputation":2030,"user_id":3362334,"accept_rate":28,"display_name":"user3362334"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676291562,"creation_date":1676234039,"question_id":75430011,"body_markdown":"I have the following problem using JsonInentityInfo\r\n\r\n    public class A {\r\n    \tLong id;\r\n    \t@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\n    \tB b;\r\n    }\r\n    \r\n    public class B {\r\n    \tLong id;\r\n    \t@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\n    \tA a;\r\n    }\r\n\r\n\r\nSo, let&#39;s say I have 2 instances of entity A that have the same entity B. The result I would like to get is the following:\r\n\r\n    [\r\n    \t{\r\n    \t\t&quot;id&quot;: 1,\r\n    \t\t&quot;b&quot;: { \r\n    \t\t\t\r\n    \t\t\t\t&quot;id&quot;: 3,\r\n    \t\t\t\t&quot;a&quot;: 1\r\n    \t\t}\r\n    \t},\r\n    \t{\r\n    \t\t&quot;id&quot;: 2,\r\n    \t\t&quot;b&quot;: { \r\n    \t\t\t\r\n    \t\t\t\t&quot;id&quot;: 3,\r\n    \t\t\t\t&quot;a&quot;: 2\r\n    \t\t}\r\n    \t}\r\n    ]\r\n\r\n\r\nWhat I get instead is this:\r\n\r\n    [\r\n    \t{\r\n    \t\t&quot;id&quot;: 1,\r\n    \t\t&quot;b&quot;: { \r\n    \t\t\t\r\n    \t\t\t\t&quot;id&quot;: 3,\r\n    \t\t\t\t&quot;a&quot;: 1\r\n    \t\t}\r\n    \t},\r\n    \t{\r\n    \t\t&quot;id&quot;: 2,\r\n    \t\t&quot;b&quot;: 3\r\n    \t}\r\n    ]\r\n\r\nIs there any way to tell @JsonIdentityInfo to ignore 1st level or to apply on every object separately when serializing arrays of objects?\r\n\r\nI know I can omit the annotation in class A to get what I want, but if I want to get a list of entites of type B I will experience the same problem","title":"Make @JsonIdentityInfo return only first leve depth of the object","body":"<p>I have the following problem using JsonInentityInfo</p>\n<pre><code>public class A {\n    Long id;\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\n    B b;\n}\n\npublic class B {\n    Long id;\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\n    A a;\n}\n</code></pre>\n<p>So, let's say I have 2 instances of entity A that have the same entity B. The result I would like to get is the following:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;b&quot;: { \n            \n                &quot;id&quot;: 3,\n                &quot;a&quot;: 1\n        }\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;b&quot;: { \n            \n                &quot;id&quot;: 3,\n                &quot;a&quot;: 2\n        }\n    }\n]\n</code></pre>\n<p>What I get instead is this:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;b&quot;: { \n            \n                &quot;id&quot;: 3,\n                &quot;a&quot;: 1\n        }\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;b&quot;: 3\n    }\n]\n</code></pre>\n<p>Is there any way to tell @JsonIdentityInfo to ignore 1st level or to apply on every object separately when serializing arrays of objects?</p>\n<p>I know I can omit the annotation in class A to get what I want, but if I want to get a list of entites of type B I will experience the same problem</p>\n"},{"tags":["java","swing","jscrollpane"],"answers":[{"tags":[],"owner":{"account_id":6469508,"reputation":748,"user_id":5010116,"display_name":"Top Sekret"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481832915,"creation_date":1481832448,"answer_id":41172523,"question_id":41172472,"body_markdown":" 1. Initialize `JPanel`, not `JScrollPane` with picture\r\n 2. To add the `JPanel` to `JScrollPane`, do:\r\n\r\n        scrollPane.setViewportView (panel)\r\n\r\n 3. Add the `JScrollPane`, not `JPanel` to the `JFrame`","title":"How to make JPanel scrollable?","body":"<ol>\n<li>Initialize <code>JPanel</code>, not <code>JScrollPane</code> with picture</li>\n<li><p>To add the <code>JPanel</code> to <code>JScrollPane</code>, do:</p>\n\n<pre><code>scrollPane.setViewportView (panel)\n</code></pre></li>\n<li><p>Add the <code>JScrollPane</code>, not <code>JPanel</code> to the <code>JFrame</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481832647,"creation_date":1481832647,"answer_id":41172577,"question_id":41172472,"body_markdown":"The simplest way is to create your JPanel and specify it when creating the JScrollPane:\r\n\r\n     JPanel myPanel = ...;\r\n     JScrollPane scroller = new JScrollPane( myPanel );\r\n\r\nThen just add the scroller to your GUI (instead of adding myPanel ).","title":"How to make JPanel scrollable?","body":"<p>The simplest way is to create your JPanel and specify it when creating the JScrollPane:</p>\n\n<pre><code> JPanel myPanel = ...;\n JScrollPane scroller = new JScrollPane( myPanel );\n</code></pre>\n\n<p>Then just add the scroller to your GUI (instead of adding myPanel ).</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481861987,"creation_date":1481861987,"answer_id":41177224,"question_id":41172472,"body_markdown":"The problem seems to come from the default `FlowLayout` of the inner panel. Change it to another layout (I use `BordeLayout`) and it should work. Having said that, I cannot explain why flow layout fails!\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.image.BufferedImage;\r\n    import javax.swing.*;\r\n    \r\n    public class ScrollPaneTest {\r\n    \r\n        public static void main(String[] args) {\r\n            JFrame testFrame = new JFrame(&quot;ramka testowa&quot;);\r\n            testFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            JLabel picture = new JLabel(new ImageIcon(\r\n                    new BufferedImage(370, 1200, BufferedImage.TYPE_INT_RGB)));\r\n            JScrollPane scrollPane = new JScrollPane(picture);\r\n    \r\n            JPanel insidePanel = new JPanel(new BorderLayout());\r\n            insidePanel.add(scrollPane);\r\n            testFrame.add(insidePanel, BorderLayout.CENTER);\r\n            \r\n            insidePanel.add(new JLabel(&quot;Stay&quot;), BorderLayout.LINE_START);\r\n            insidePanel.add(new JLabel(&quot;Stay&quot;), BorderLayout.LINE_END);\r\n            insidePanel.add(new JLabel(&quot;Stay&quot;), BorderLayout.PAGE_START);\r\n            insidePanel.add(new JLabel(&quot;Stay&quot;), BorderLayout.PAGE_END);\r\n            \r\n            testFrame.pack();\r\n    \r\n            testFrame.setSize(400, 400);\r\n            // failing to do this will end the main &amp; the app.\r\n            // doing it will cause the EDT to start.\r\n            testFrame.setVisible(true);\r\n        }\r\n    }","title":"How to make JPanel scrollable?","body":"<p>The problem seems to come from the default <code>FlowLayout</code> of the inner panel. Change it to another layout (I use <code>BordeLayout</code>) and it should work. Having said that, I cannot explain why flow layout fails!</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.image.BufferedImage;\nimport javax.swing.*;\n\npublic class ScrollPaneTest {\n\n    public static void main(String[] args) {\n        JFrame testFrame = new JFrame(\"ramka testowa\");\n        testFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JLabel picture = new JLabel(new ImageIcon(\n                new BufferedImage(370, 1200, BufferedImage.TYPE_INT_RGB)));\n        JScrollPane scrollPane = new JScrollPane(picture);\n\n        JPanel insidePanel = new JPanel(new BorderLayout());\n        insidePanel.add(scrollPane);\n        testFrame.add(insidePanel, BorderLayout.CENTER);\n\n        insidePanel.add(new JLabel(\"Stay\"), BorderLayout.LINE_START);\n        insidePanel.add(new JLabel(\"Stay\"), BorderLayout.LINE_END);\n        insidePanel.add(new JLabel(\"Stay\"), BorderLayout.PAGE_START);\n        insidePanel.add(new JLabel(\"Stay\"), BorderLayout.PAGE_END);\n\n        testFrame.pack();\n\n        testFrame.setSize(400, 400);\n        // failing to do this will end the main &amp; the app.\n        // doing it will cause the EDT to start.\n        testFrame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8061626,"reputation":1,"user_id":6076994,"display_name":"Baljeet Verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676291259,"creation_date":1676291259,"answer_id":75435884,"question_id":41172472,"body_markdown":"I just passed my jpanel to the jscrollpane constructor... you can also use vertical and horizontal scroll policies like this...\r\n\r\n    JPanel sideBar = ......\r\n    JScrollPane scrollSideBar = new JScrollPane(sideBar, JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,\r\n        \t\t\t\tJScrollPane.HORIZONTAL_SCROLLBAR_NEVER);","title":"How to make JPanel scrollable?","body":"<p>I just passed my jpanel to the jscrollpane constructor... you can also use vertical and horizontal scroll policies like this...</p>\n<pre><code>JPanel sideBar = ......\nJScrollPane scrollSideBar = new JScrollPane(sideBar, JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,\n                    JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n</code></pre>\n"}],"owner":{"account_id":9154837,"reputation":133,"user_id":6808086,"accept_rate":14,"display_name":"Karol Pokomeda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5357,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1676291259,"creation_date":1481832258,"question_id":41172472,"body_markdown":"I&#39;m creating GUI for my university project and I &#39;m trying to understand how `JScrollPane` works.\r\n\r\nI have successfully written simple program which shows picture in a scrollable way:\r\n        \r\n    public class ScrollPaneTest{\r\n\t    public static void main(String[] args){\r\n\t\t    JFrame testFrame = new JFrame(&quot;ramka testowa&quot;);\r\n    \t\ttestFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t    \tJLabel picture = new JLabel(new ImageIcon(&quot;JavaSwingCompoentsList.PNG&quot;));\r\n\t\t    JScrollPane scrollPane = new JScrollPane(picture);\r\n\r\n    \t\ttestFrame.add(scrollPane, BorderLayout.CENTER);\r\n    \t\ttestFrame.setSize(400, 400);\r\n    \t\ttestFrame.setVisible(true);\r\n    \t}\r\n    }\r\n\r\nAlthough, in my final GUI, I would like to apply `JScrollPane` only to a part of it, e.g. single `JPanel`. To test this idea I have written following code, which unfortunately does not work:\r\n\r\n    public class ScrollPaneTest{\r\n    \tpublic static void main(String[] args){\r\n    \t\tJFrame testFrame = new JFrame(&quot;ramka testowa&quot;);\r\n    \t\ttestFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tJLabel picture = new JLabel(new ImageIcon(&quot;JavaSwingCompoentsList.PNG&quot;));\r\n    \t\tJScrollPane scrollPane = new JScrollPane(picture);\r\n    \t\t\r\n    \t\tJPanel insidePanel = new JPanel();\r\n    \t\tinsidePanel.add(scrollPane);\r\n    \t\ttestFrame.add(insidePanel, BorderLayout.CENTER);\r\n    \t\t\r\n    \t\ttestFrame.setSize(400, 400);\r\n    \t\ttestFrame.setVisible(true);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nI have read numerous tutorials, as well as Stack and CodeRanch articles and I still fail to grasp the idea of how the `JScrollPane` work. I suspect, that my mistake has something to do with specifying the dimension of `JPanel`-to-scroll, but every single approach I have tried gave me no scrollbars or no picture at all.\r\n\r\nIf you could show me the right solution to this problem and most importantly, show me where I was wrong I would be very grateful.","title":"How to make JPanel scrollable?","body":"<p>I'm creating GUI for my university project and I 'm trying to understand how <code>JScrollPane</code> works.</p>\n\n<p>I have successfully written simple program which shows picture in a scrollable way:</p>\n\n<pre><code>public class ScrollPaneTest{\n    public static void main(String[] args){\n        JFrame testFrame = new JFrame(\"ramka testowa\");\n        testFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JLabel picture = new JLabel(new ImageIcon(\"JavaSwingCompoentsList.PNG\"));\n        JScrollPane scrollPane = new JScrollPane(picture);\n\n        testFrame.add(scrollPane, BorderLayout.CENTER);\n        testFrame.setSize(400, 400);\n        testFrame.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>Although, in my final GUI, I would like to apply <code>JScrollPane</code> only to a part of it, e.g. single <code>JPanel</code>. To test this idea I have written following code, which unfortunately does not work:</p>\n\n<pre><code>public class ScrollPaneTest{\n    public static void main(String[] args){\n        JFrame testFrame = new JFrame(\"ramka testowa\");\n        testFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JLabel picture = new JLabel(new ImageIcon(\"JavaSwingCompoentsList.PNG\"));\n        JScrollPane scrollPane = new JScrollPane(picture);\n\n        JPanel insidePanel = new JPanel();\n        insidePanel.add(scrollPane);\n        testFrame.add(insidePanel, BorderLayout.CENTER);\n\n        testFrame.setSize(400, 400);\n        testFrame.setVisible(true);\n\n    }\n}\n</code></pre>\n\n<p>I have read numerous tutorials, as well as Stack and CodeRanch articles and I still fail to grasp the idea of how the <code>JScrollPane</code> work. I suspect, that my mistake has something to do with specifying the dimension of <code>JPanel</code>-to-scroll, but every single approach I have tried gave me no scrollbars or no picture at all.</p>\n\n<p>If you could show me the right solution to this problem and most importantly, show me where I was wrong I would be very grateful.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":4,"creation_date":1676220160,"post_id":75428500,"comment_id":133089330,"body_markdown":"The javadoc also mentions the (optional) `UnsupportedOperationException`.","body":"The javadoc also mentions the (optional) <code>UnsupportedOperationException</code>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":4,"creation_date":1676220851,"post_id":75428500,"comment_id":133089446,"body_markdown":"from the javadoc you posted: &quot;**Throws:** ... `UnsupportedOperationException` - if the put operation is not supported by this map (optional)&quot;","body":"from the javadoc you posted: &quot;<b>Throws:</b> ... <code>UnsupportedOperationException</code> - if the put operation is not supported by this map (optional)&quot;"},{"owner":{"account_id":9314272,"reputation":94,"user_id":6915066,"display_name":"Trần Ho&#224;n"},"score":0,"creation_date":1676221415,"post_id":75428500,"comment_id":133089562,"body_markdown":"So, is it just for consistency? Because in my op, returning null give me simpler flow in code. In my case, the emptyMap is the value from getOrDefault of a Map&lt;Integer, Map&lt;Integer, Integer&gt;&gt;, then the next step is to update value if present. Currently, I must check null/containsKey instead","body":"So, is it just for consistency? Because in my op, returning null give me simpler flow in code. In my case, the emptyMap is the value from getOrDefault of a Map&lt;Integer, Map&lt;Integer, Integer&gt;&gt;, then the next step is to update value if present. Currently, I must check null/containsKey instead"},{"owner":{"account_id":9314272,"reputation":94,"user_id":6915066,"display_name":"Trần Ho&#224;n"},"score":0,"creation_date":1676222060,"post_id":75428500,"comment_id":133089689,"body_markdown":"If just check not null for the remapping function and return null, the map is still immutable","body":"If just check not null for the remapping function and return null, the map is still immutable"}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676220356,"creation_date":1676220356,"answer_id":75428577,"question_id":75428500,"body_markdown":"computeIfPresent is a mutation. It inserts a value into the map. That map implementation is immutable. \r\n\r\nUse getOrDefault.","title":"Why Collections.EmptyMap.computeIfPresent() throws an exception intead of return null?","body":"<p>computeIfPresent is a mutation. It inserts a value into the map. That map implementation is immutable.</p>\n<p>Use getOrDefault.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676291178,"creation_date":1676291178,"answer_id":75435865,"question_id":75428500,"body_markdown":"This aspect is provided in the [documentation of the `Collection` interface]:\r\n\r\n&gt; ### Unmodifiable Collections\r\n&gt; Certain methods of this interface are considered &quot;destructive&quot; and are called &quot;mutator&quot; methods in that they modify the group of objects contained within the collection on which they operate. They can be specified to throw `UnsupportedOperationException` if this collection implementation does not support the operation. Such methods should (but are not required to) throw an `UnsupportedOperationException` if the invocation would have no effect on the collection. For example, consider a collection that does not support the [`add`] operation. What will happen if the [`addAll`] method is invoked on this collection, with an empty collection as the argument? The addition of zero elements has no effect, so it is permissible for this collection simply to do nothing and not to throw an exception. However, it is recommended that such cases throw an exception unconditionally, as throwing only in certain cases can lead to programming errors.\r\n\r\nA similar section is in the [`Map` interface’s documentation], but I think, it’s easier to understand if you have read the collection’s version first:\r\n\r\n&gt; The &quot;destructive&quot; methods contained in this interface, that is, the methods that modify the map on which they operate, are specified to throw `UnsupportedOperationException` if this map does not support the operation. If this is the case, these methods may, but are not required to, throw an `UnsupportedOperationException` if the invocation would have no effect on the map. For example, invoking the [`putAll(Map)`] method on an unmodifiable map may, but is not required to, throw the exception if the map whose mappings are to be &quot;superimposed&quot; is empty.\r\n\r\nSo it would be legal if the immutable empty map’s `computeIfPresent` method just returns `null`, but the general recommendation is that immutable collections should throw `UnsupportedOperationException` unconditionally, to help detecting errors.\r\n\r\nInterestingly, `Collections.emptyMap().putAll(Collections.emptyMap());` does not throw an exception, which contradicts the recommendation, but does not violate the specification. In contrast, `Map.of().putAll(Map.of())` does throw an exception.\r\n\r\nYou can easily create your own always-empty map whose `computeIfPresent` won’t throw:\r\n\r\n```java\r\n/**\r\n * Does not throw on mutation methods if the call has no effect.\r\n */\r\nfinal class AlwaysEmpty&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; {\r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      public static &lt;K,V&gt; Map&lt;K,V&gt; instance() {\r\n          return INSTANCE;\r\n      }\r\n    \r\n      @SuppressWarnings(&quot;rawtypes&quot;)\r\n      static final AlwaysEmpty INSTANCE = new AlwaysEmpty();\r\n    \r\n      @Override\r\n      public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\r\n          return Collections.emptySet();\r\n      }\r\n}\r\n```\r\n\r\nwhich works with your intended use case like the following example\r\n\r\n```java\r\nMap&lt;Integer, Map&lt;Integer, Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\nMap&lt;Integer, Integer&gt; m = new HashMap&lt;&gt;();\r\nmap.put(1, m);\r\nm.put(2, 3);\r\n\r\nfor(int i = 1; i &lt; 3; i++)\r\n    map.getOrDefault(i, AlwaysEmpty.instance()).computeIfPresent(2, (k,v) -&gt; v + 1);\r\n\r\nSystem.out.println(map);\r\n```\r\n\r\n[documentation of the `Collection` interface]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#unmodifiable\r\n[`add`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#add(E)\r\n[`addAll`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#addAll(java.util.Collection)\r\n[`Map` interface’s documentation]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#:~:text=The%20%22destructive%22%20methods,superimposed%22%20is%20empty.\r\n[`putAll(Map)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#putAll(java.util.Map)","title":"Why Collections.EmptyMap.computeIfPresent() throws an exception intead of return null?","body":"<p>This aspect is provided in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#unmodifiable\" rel=\"nofollow noreferrer\">documentation of the <code>Collection</code> interface</a>:</p>\n<blockquote>\n<h3>Unmodifiable Collections</h3>\n<p>Certain methods of this interface are considered &quot;destructive&quot; and are called &quot;mutator&quot; methods in that they modify the group of objects contained within the collection on which they operate. They can be specified to throw <code>UnsupportedOperationException</code> if this collection implementation does not support the operation. Such methods should (but are not required to) throw an <code>UnsupportedOperationException</code> if the invocation would have no effect on the collection. For example, consider a collection that does not support the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#add(E)\" rel=\"nofollow noreferrer\"><code>add</code></a> operation. What will happen if the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#addAll(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>addAll</code></a> method is invoked on this collection, with an empty collection as the argument? The addition of zero elements has no effect, so it is permissible for this collection simply to do nothing and not to throw an exception. However, it is recommended that such cases throw an exception unconditionally, as throwing only in certain cases can lead to programming errors.</p>\n</blockquote>\n<p>A similar section is in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#:%7E:text=The%20%22destructive%22%20methods,superimposed%22%20is%20empty.\" rel=\"nofollow noreferrer\"><code>Map</code> interface’s documentation</a>, but I think, it’s easier to understand if you have read the collection’s version first:</p>\n<blockquote>\n<p>The &quot;destructive&quot; methods contained in this interface, that is, the methods that modify the map on which they operate, are specified to throw <code>UnsupportedOperationException</code> if this map does not support the operation. If this is the case, these methods may, but are not required to, throw an <code>UnsupportedOperationException</code> if the invocation would have no effect on the map. For example, invoking the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#putAll(java.util.Map)\" rel=\"nofollow noreferrer\"><code>putAll(Map)</code></a> method on an unmodifiable map may, but is not required to, throw the exception if the map whose mappings are to be &quot;superimposed&quot; is empty.</p>\n</blockquote>\n<p>So it would be legal if the immutable empty map’s <code>computeIfPresent</code> method just returns <code>null</code>, but the general recommendation is that immutable collections should throw <code>UnsupportedOperationException</code> unconditionally, to help detecting errors.</p>\n<p>Interestingly, <code>Collections.emptyMap().putAll(Collections.emptyMap());</code> does not throw an exception, which contradicts the recommendation, but does not violate the specification. In contrast, <code>Map.of().putAll(Map.of())</code> does throw an exception.</p>\n<p>You can easily create your own always-empty map whose <code>computeIfPresent</code> won’t throw:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Does not throw on mutation methods if the call has no effect.\n */\nfinal class AlwaysEmpty&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; {\n      @SuppressWarnings(&quot;unchecked&quot;)\n      public static &lt;K,V&gt; Map&lt;K,V&gt; instance() {\n          return INSTANCE;\n      }\n    \n      @SuppressWarnings(&quot;rawtypes&quot;)\n      static final AlwaysEmpty INSTANCE = new AlwaysEmpty();\n    \n      @Override\n      public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\n          return Collections.emptySet();\n      }\n}\n</code></pre>\n<p>which works with your intended use case like the following example</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, Map&lt;Integer, Integer&gt;&gt; map = new HashMap&lt;&gt;();\nMap&lt;Integer, Integer&gt; m = new HashMap&lt;&gt;();\nmap.put(1, m);\nm.put(2, 3);\n\nfor(int i = 1; i &lt; 3; i++)\n    map.getOrDefault(i, AlwaysEmpty.instance()).computeIfPresent(2, (k,v) -&gt; v + 1);\n\nSystem.out.println(map);\n</code></pre>\n"}],"owner":{"account_id":9314272,"reputation":94,"user_id":6915066,"display_name":"Trần Ho&#224;n"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1676291178,"creation_date":1676219541,"question_id":75428500,"body_markdown":"The source code for the class is at https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Collections.java\r\n\r\nAccording to [javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfPresent-K-java.util.function.BiFunction-) and [the default implementation for Map.computeIfPresent()](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Map.java#L1133), the method should return the new value associated with the specified key, or `null` if none. On the other hand, `EmptyMap` contain no element, then the `EmptyMap.computeIfPresent()` method should always return `null`.\r\n\r\nSo why does the implementation doesn&#39;t do that, but throw an exception instead?\r\n\r\nI have tried to search for things about `EmptyMap.computeIfPresent()` but just found websites that write about the class or websites about the method, not telling me why they combine like that.","title":"Why Collections.EmptyMap.computeIfPresent() throws an exception intead of return null?","body":"<p>The source code for the class is at <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Collections.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Collections.java</a></p>\n<p>According to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfPresent-K-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">javadoc</a> and <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Map.java#L1133\" rel=\"nofollow noreferrer\">the default implementation for Map.computeIfPresent()</a>, the method should return the new value associated with the specified key, or <code>null</code> if none. On the other hand, <code>EmptyMap</code> contain no element, then the <code>EmptyMap.computeIfPresent()</code> method should always return <code>null</code>.</p>\n<p>So why does the implementation doesn't do that, but throw an exception instead?</p>\n<p>I have tried to search for things about <code>EmptyMap.computeIfPresent()</code> but just found websites that write about the class or websites about the method, not telling me why they combine like that.</p>\n"},{"tags":["java","spring-boot","spring-restcontroller","exceptionhandler","controller-advice"],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676256090,"creation_date":1676256090,"answer_id":75431515,"question_id":75430351,"body_markdown":"Try to remove ```ResponseEntityExceptionHandler ``` . \r\nwhich some ExceptionHandler has defined  and  it may catch exception before you custom exceptionHandler.\r\nI had made some   unit test  here is code sample;\r\n- Application\r\n```Java\r\n@SpringBootApplication\r\npublic class AccountApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(AccountApplication.class);\r\n    }\r\n}\r\n\r\n```\r\n\r\n- Controller \r\n```java\r\n\r\n/**\r\n * @author pengpeng\r\n * @description\r\n * @date 2023/2/13\r\n */\r\n@RequestMapping\r\n@RestController\r\npublic class AccountController {\r\n\r\n    @GetMapping(&quot;/test/{args}&quot;)\r\n    public String testError(@PathVariable (&quot;args&quot;) String args) throws IllegalAccessException {\r\n        if (args .equals(&quot;ill&quot;)){\r\n            throw new IllegalAccessException();\r\n\r\n        } else if (args.equals(&quot;exception&quot;)) {\r\n            throw new RuntimeException();\r\n        }else {\r\n            return &quot;success&quot;;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n- exceptionHandler\r\n```java\r\n\r\n/**\r\n * @author pengpeng\r\n * @description\r\n * @date 2023/2/13\r\n */\r\n@RestControllerAdvice\r\npublic class ControllerException extends ResponseEntityResultHandler {\r\n\r\n\r\n    public ControllerException(List&lt;HttpMessageWriter&lt;?&gt;&gt; writers, RequestedContentTypeResolver resolver) {\r\n        super(writers, resolver);\r\n    }\r\n\r\n    public ControllerException(List&lt;HttpMessageWriter&lt;?&gt;&gt; writers, RequestedContentTypeResolver resolver, ReactiveAdapterRegistry registry) {\r\n        super(writers, resolver, registry);\r\n    }\r\n\r\n    @ExceptionHandler\r\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n    public String illegalFail(IllegalAccessException exception){\r\n        return &quot;illegalFail&quot;;\r\n    }\r\n\r\n\r\n\r\n    @ExceptionHandler\r\n    @ResponseStatus(HttpStatus.BAD_GATEWAY)\r\n    public String fail(Exception exception){\r\n        return &quot;fail&quot;;\r\n    }\r\n}\r\n```\r\n\r\nafter application start  use the default  application port to initiates  HTTP call\r\n- http\r\n```\r\n127.0.0.1/test/ill\r\n127.0.0.1/test/exception\r\n127.0.0.1/test/success\r\n```\r\n\r\n\r\n\r\n","title":"@RestContollerAdvice not throwing custom exception","body":"<p>Try to remove <code>ResponseEntityExceptionHandler </code> .\nwhich some ExceptionHandler has defined  and  it may catch exception before you custom exceptionHandler.\nI had made some   unit test  here is code sample;</p>\n<ul>\n<li>Application</li>\n</ul>\n<pre><code>@SpringBootApplication\npublic class AccountApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(AccountApplication.class);\n    }\n}\n\n</code></pre>\n<ul>\n<li>Controller</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\n/**\n * @author pengpeng\n * @description\n * @date 2023/2/13\n */\n@RequestMapping\n@RestController\npublic class AccountController {\n\n    @GetMapping(&quot;/test/{args}&quot;)\n    public String testError(@PathVariable (&quot;args&quot;) String args) throws IllegalAccessException {\n        if (args .equals(&quot;ill&quot;)){\n            throw new IllegalAccessException();\n\n        } else if (args.equals(&quot;exception&quot;)) {\n            throw new RuntimeException();\n        }else {\n            return &quot;success&quot;;\n        }\n    }\n\n}\n\n</code></pre>\n<ul>\n<li>exceptionHandler</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\n/**\n * @author pengpeng\n * @description\n * @date 2023/2/13\n */\n@RestControllerAdvice\npublic class ControllerException extends ResponseEntityResultHandler {\n\n\n    public ControllerException(List&lt;HttpMessageWriter&lt;?&gt;&gt; writers, RequestedContentTypeResolver resolver) {\n        super(writers, resolver);\n    }\n\n    public ControllerException(List&lt;HttpMessageWriter&lt;?&gt;&gt; writers, RequestedContentTypeResolver resolver, ReactiveAdapterRegistry registry) {\n        super(writers, resolver, registry);\n    }\n\n    @ExceptionHandler\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    public String illegalFail(IllegalAccessException exception){\n        return &quot;illegalFail&quot;;\n    }\n\n\n\n    @ExceptionHandler\n    @ResponseStatus(HttpStatus.BAD_GATEWAY)\n    public String fail(Exception exception){\n        return &quot;fail&quot;;\n    }\n}\n</code></pre>\n<p>after application start  use the default  application port to initiates  HTTP call</p>\n<ul>\n<li>http</li>\n</ul>\n<pre><code>127.0.0.1/test/ill\n127.0.0.1/test/exception\n127.0.0.1/test/success\n</code></pre>\n"}],"owner":{"account_id":12825230,"reputation":3,"user_id":9278539,"display_name":"Ranjit Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676291120,"creation_date":1676237945,"question_id":75430351,"body_markdown":"I am using Spring Boot 3 to develop a simple Rest API and want to handle exceptions using @RestControllerAdvice, but my code is throwing a 500 error even if the code in @exceptionHandler is throwing a 404 error code. I verified in debugging that execution reaches the ExceptionHandler method, but the default exception is still thrown.&#160;\r\n\r\nBelow is sample code for:\r\n\r\n\r\n    @RestControllerAdvice\r\n    public class ControllerExceptionHandler extends ResponseEntityExceptionHandler {\r\n    \r\n        @ExceptionHandler(ResourceNotFoundException.class)\r\n        @ResponseStatus(code = HttpStatus.NOT_FOUND)\r\n        public Messsage resourceNotFoundException(ResourceNotFoundException exception, WebRequest request) {\r\n            return new Messsage(HttpStatus.NOT_FOUND.value(), exception.getMessage(), LocalDateTime.now());\r\n        }\r\n    \r\n        @ExceptionHandler(Exception.class)\r\n        @ResponseStatus(code = HttpStatus.NOT_FOUND)\r\n        public Messsage globalException(Exception exception, WebRequest request) {\r\n            return new Messsage(HttpStatus.NOT_FOUND.value(), exception.getMessage(), LocalDateTime.now());\r\n        }\r\n    }\r\n\r\n","title":"@RestContollerAdvice not throwing custom exception","body":"<p>I am using Spring Boot 3 to develop a simple Rest API and want to handle exceptions using @RestControllerAdvice, but my code is throwing a 500 error even if the code in @exceptionHandler is throwing a 404 error code. I verified in debugging that execution reaches the ExceptionHandler method, but the default exception is still thrown. </p>\n<p>Below is sample code for:</p>\n<pre><code>@RestControllerAdvice\npublic class ControllerExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(ResourceNotFoundException.class)\n    @ResponseStatus(code = HttpStatus.NOT_FOUND)\n    public Messsage resourceNotFoundException(ResourceNotFoundException exception, WebRequest request) {\n        return new Messsage(HttpStatus.NOT_FOUND.value(), exception.getMessage(), LocalDateTime.now());\n    }\n\n    @ExceptionHandler(Exception.class)\n    @ResponseStatus(code = HttpStatus.NOT_FOUND)\n    public Messsage globalException(Exception exception, WebRequest request) {\n        return new Messsage(HttpStatus.NOT_FOUND.value(), exception.getMessage(), LocalDateTime.now());\n    }\n}\n</code></pre>\n"},{"tags":["java","jdbc"],"answers":[{"tags":[],"owner":{"account_id":17657794,"reputation":33,"user_id":12816955,"display_name":"inao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676231614,"creation_date":1676231479,"answer_id":75429769,"question_id":75429696,"body_markdown":"Just from a quick look at it, it looks like your jdbc connector address isn&#39;t complete. You are missing a db there, something like\r\n`jdbc:mysql://localhost:3306/ReallyNiceDb`\r\n\r\nIn MySQL, you will need to create a database, in this case, called `ReallyNiceDb`. Then, to this database, you will need to allow your user to interact with that database.\r\nMore info can be found here:\r\n\r\nhttps://dev.mysql.com/doc/refman/8.0/en/creating-database.html","title":"Why is an error produced due to the MySQL driver and JDBC when I run my Spring Boot app?","body":"<p>Just from a quick look at it, it looks like your jdbc connector address isn't complete. You are missing a db there, something like\n<code>jdbc:mysql://localhost:3306/ReallyNiceDb</code></p>\n<p>In MySQL, you will need to create a database, in this case, called <code>ReallyNiceDb</code>. Then, to this database, you will need to allow your user to interact with that database.\nMore info can be found here:</p>\n<p><a href=\"https://dev.mysql.com/doc/refman/8.0/en/creating-database.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/creating-database.html</a></p>\n"}],"owner":{"account_id":21837851,"reputation":1,"user_id":16131830,"display_name":"Zacharie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1676290790,"creation_date":1676230856,"question_id":75429696,"body_markdown":"When running the Spring Boot app, I have these error messages: \r\n\r\n&gt; &quot;Caused by: java.lang.RuntimeException: Driver\r\n&gt; com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl,\r\n&gt; mysql://localhost:3306&quot;\r\n\r\nand \r\n\r\n&gt; &quot;Caused by: org.springframework.beans.BeanInstantiationException:\r\n&gt; Failed to instantiate\r\n&gt; [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]:\r\n&gt; Factory method &#39;entityManagerFactory&#39; threw exception; nested\r\n&gt; exception is java.lang.RuntimeException: Driver\r\n&gt; com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl,\r\n&gt; mysql://localhost:3306&quot;.\r\n\r\n[enter image description here](https://i.stack.imgur.com/wGwLU.png)\r\n\r\nI have added the dependencies in the POM file: \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.27&lt;/version&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nJava version is: \r\n\r\n```xml\r\n&lt;properties&gt;\r\n    &lt;java.version&gt;17&lt;/java.version&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/Np4I9.png)","title":"Why is an error produced due to the MySQL driver and JDBC when I run my Spring Boot app?","body":"<p>When running the Spring Boot app, I have these error messages:</p>\n<blockquote>\n<p>&quot;Caused by: java.lang.RuntimeException: Driver\ncom.mysql.cj.jdbc.Driver claims to not accept jdbcUrl,\nmysql://localhost:3306&quot;</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>&quot;Caused by: org.springframework.beans.BeanInstantiationException:\nFailed to instantiate\n[org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]:\nFactory method 'entityManagerFactory' threw exception; nested\nexception is java.lang.RuntimeException: Driver\ncom.mysql.cj.jdbc.Driver claims to not accept jdbcUrl,\nmysql://localhost:3306&quot;.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/wGwLU.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have added the dependencies in the POM file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.27&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Java version is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/Np4I9.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","android","xml","kotlin"],"comments":[{"owner":{"account_id":20908872,"reputation":366,"user_id":15360188,"display_name":"Syed Ibrahim"},"score":0,"creation_date":1676290044,"post_id":75435640,"comment_id":133100991,"body_markdown":"Can you add dark theme style also, i will check that. because sometimes when you switch to dark mode colors also changes.","body":"Can you add dark theme style also, i will check that. because sometimes when you switch to dark mode colors also changes."}],"owner":{"account_id":18738827,"reputation":979,"user_id":13662507,"display_name":"Kaita John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676290658,"creation_date":1676289862,"question_id":75435640,"body_markdown":"I have a simple activity that contains a RelativeLayout with background as white color. When launched sometimes the activity is white in color but other times it picks up a blue color which I have not declared in my theme. Where can I look?\r\n\r\nI have noticed that the white background remain consistent only if I add a white backgroundtint color. Strange.\r\n\r\n    &lt;RelativeLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\nManifest\r\n\r\n    &lt;application\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:name=&quot;.Dagger.MyApplication&quot;\r\n        android:allowBackup=&quot;false&quot;\r\n        android:icon=&quot;@drawable/app_launch&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:roundIcon=&quot;@drawable/app_launch&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:replace=&quot;android:allowBackup&quot;&gt;\r\n\r\nThemes\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;AppTheme.AppBarOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Dark.ActionBar&quot; /&gt;\r\n    &lt;style name=&quot;AppTheme.PopupOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot; /&gt;\r\n\r\nColors\r\n\r\n    &lt;color name=&quot;colorPrimary&quot;&gt;#FFFFFF&lt;/color&gt;\r\n    &lt;color name=&quot;colorPrimaryDark&quot;&gt;#000&lt;/color&gt;\r\n    &lt;color name=&quot;colorAccent&quot;&gt;#FFFFFF&lt;/color&gt;\r\n    &lt;color name=&quot;themeColor&quot;&gt;#FFFFFF&lt;/color&gt;\r\n    &lt;color name=&quot;primaryTextColor&quot;&gt;#11CFC5&lt;/color&gt;\r\n","title":"Activity showing different color than that set as background color","body":"<p>I have a simple activity that contains a RelativeLayout with background as white color. When launched sometimes the activity is white in color but other times it picks up a blue color which I have not declared in my theme. Where can I look?</p>\n<p>I have noticed that the white background remain consistent only if I add a white backgroundtint color. Strange.</p>\n<pre><code>&lt;RelativeLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/white&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Manifest</p>\n<pre><code>&lt;application\n    android:theme=&quot;@style/AppTheme&quot;\n    android:name=&quot;.Dagger.MyApplication&quot;\n    android:allowBackup=&quot;false&quot;\n    android:icon=&quot;@drawable/app_launch&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:largeHeap=&quot;true&quot;\n    android:roundIcon=&quot;@drawable/app_launch&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:usesCleartextTraffic=&quot;true&quot;\n    tools:replace=&quot;android:allowBackup&quot;&gt;\n</code></pre>\n<p>Themes</p>\n<pre><code>&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/black&lt;/item&gt;\n    &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;AppTheme.AppBarOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Dark.ActionBar&quot; /&gt;\n&lt;style name=&quot;AppTheme.PopupOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot; /&gt;\n</code></pre>\n<p>Colors</p>\n<pre><code>&lt;color name=&quot;colorPrimary&quot;&gt;#FFFFFF&lt;/color&gt;\n&lt;color name=&quot;colorPrimaryDark&quot;&gt;#000&lt;/color&gt;\n&lt;color name=&quot;colorAccent&quot;&gt;#FFFFFF&lt;/color&gt;\n&lt;color name=&quot;themeColor&quot;&gt;#FFFFFF&lt;/color&gt;\n&lt;color name=&quot;primaryTextColor&quot;&gt;#11CFC5&lt;/color&gt;\n</code></pre>\n"},{"tags":["java","ethereum","remix","ganache","web3-java"],"answers":[{"tags":[],"owner":{"account_id":1329139,"reputation":11,"user_id":1273386,"display_name":"Ashton Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583748109,"creation_date":1583748109,"answer_id":60598228,"question_id":60581930,"body_markdown":"Looks like it&#39;s one Ganache related issue https://github.com/trufflesuite/ganache-cli/issues/465\r\n\r\nPer my test, it could work well my local Ganache 2.1.2","title":"Web3j gets stack underflow error with Ganache","body":"<p>Looks like it's one Ganache related issue <a href=\"https://github.com/trufflesuite/ganache-cli/issues/465\" rel=\"nofollow noreferrer\">https://github.com/trufflesuite/ganache-cli/issues/465</a></p>\n\n<p>Per my test, it could work well my local Ganache 2.1.2</p>\n"},{"tags":[],"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583830922,"creation_date":1583765278,"answer_id":60602984,"question_id":60581930,"body_markdown":"Finally I figured out the problem.  Web3j-cli does not accept the binary provided by Remix-IDE, but only the field &quot;binary&quot;. Giving as input a file containing only  binary data to Web3j-cli produced the correct wrapper.","title":"Web3j gets stack underflow error with Ganache","body":"<p>Finally I figured out the problem.  Web3j-cli does not accept the binary provided by Remix-IDE, but only the field \"binary\". Giving as input a file containing only  binary data to Web3j-cli produced the correct wrapper.</p>\n"},{"tags":[],"owner":{"account_id":478864,"reputation":1349,"user_id":891203,"accept_rate":80,"display_name":"devdanke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676290233,"creation_date":1676290233,"answer_id":75435690,"question_id":60581930,"body_markdown":"I got the same _stack underflow_ error when deploying a Vyper contract to ganache with _Web3j_.  The exact cause was, when Vyper outputs the contract bytecode (A.K.A. binary), it adds `0x` to front and `\\n` to the end.   To fix the problem, I wrote a shell script that strips the unwanted chars from the bytecode.   \r\n\r\nIt&#39;s worth noting that, the contract deployed successfully, _with no changes_, when deployed with _Truffle_ or _Web3.py_.  So, the problem really comes down to whether the compiler output format matches the format the deployer utility wants.","title":"Web3j gets stack underflow error with Ganache","body":"<p>I got the same <em>stack underflow</em> error when deploying a Vyper contract to ganache with <em>Web3j</em>.  The exact cause was, when Vyper outputs the contract bytecode (A.K.A. binary), it adds <code>0x</code> to front and <code>\\n</code> to the end.   To fix the problem, I wrote a shell script that strips the unwanted chars from the bytecode.</p>\n<p>It's worth noting that, the contract deployed successfully, <em>with no changes</em>, when deployed with <em>Truffle</em> or <em>Web3.py</em>.  So, the problem really comes down to whether the compiler output format matches the format the deployer utility wants.</p>\n"}],"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1611,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1676290233,"creation_date":1583612942,"question_id":60581930,"body_markdown":"I&#39;m experiencing the error &quot;Error processing transaction request: VM Exception while processing transaction: stack underflow&quot; basically with any contract. I&#39;m using Ganache v2.1.2 and Web3j 4.5.15. Same thing with Ganache CLI v6.9.1 (ganache-core: 2.10.2). I&#39;m able to deploy the contract with Remix IDE and Metamask plug-in without any issue.\r\n\r\nThe Java code:\r\n\r\n```\r\npublic class contractCR\r\n  {\r\n        \r\n    static class OSCGasProvider implements ContractGasProvider\r\n      {     \r\n        \r\n        public OSCGasProvider(){}\r\n         \r\n        @Override\r\n        public BigInteger getGasPrice(String string)\r\n          {            \r\n           return Convert.toWei(&quot;1&quot;, Convert.Unit.GWEI).toBigInteger();             \r\n          }       \r\n\r\n        @Override\r\n        public BigInteger getGasLimit(String string)\r\n          {\r\n            return BigInteger.valueOf(3000000);\r\n          }\r\n\r\n        @Override\r\n        public BigInteger getGasPrice()\r\n          {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n          }\r\n\r\n        @Override\r\n        public BigInteger getGasLimit()\r\n          {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n          }\r\n\r\n      }\r\n    \r\n    public static void main (String args[])\r\n      {\r\n        System.out.println(&quot;Connecting to Ethereum ...&quot;);\r\n        Web3j web3 = Web3j.build(new HttpService(&quot;http://localhost:7545&quot;));\r\n        System.out.println(&quot;Successfuly connected to Ethereum&quot;);\r\n        try \r\n          {\r\n            // web3_clientVersion returns the current client version.\r\n            Web3ClientVersion clientVersion = web3.web3ClientVersion().send();\r\n            Credentials credentials=Credentials.create(privateKey);\r\n            Faucet osc = Faucet.deploy(web3, credentials, new OSCGasProvider()).send();\r\n            String contractAddress = osc.getContractAddress();\r\n            System.out.println(&quot;The contract address is: &quot;+contractAddress);\r\n           } \r\n        catch (IOException ex)\r\n          {\r\n            throw new RuntimeException(&quot;Error while sending json-rpc requests&quot;, ex);\r\n          }\r\n        catch (Exception ex)\r\n          {\r\n              System.out.println(ex.toString());\r\n          }     \r\n      }\r\n}\r\n```\r\n\r\nThe simple Faucet contract:\r\n\r\n```\r\n// Version of Solidity compiler this program was written for\r\npragma solidity ^0.5.12;\r\n\r\n// Our first contract is a faucet!\r\ncontract Faucet {\r\n\r\n    address payable owner_addr; //the owner address\r\n    \r\n    //initialize the contract\r\n    constructor() public \r\n    {\r\n      owner_addr=msg.sender;\r\n    }\r\n    \r\n    //contract destructor\r\n    modifier owner_allowed\r\n    {\r\n      require (msg.sender==owner_addr, &quot;Only contract owner is allowed to call this function&quot;);    \r\n      _;\r\n    }\r\n    \r\n    function destroy() public owner_allowed\r\n    {\r\n      selfdestruct(owner_addr);\r\n    }\r\n    \r\n    // Give out ether to anyone who asks\r\n    function withdraw(uint withdraw_amount) public\r\n     {\r\n        // Limit withdrawal amount\r\n        require(withdraw_amount &lt;= 100000000000000000); //0.1ether\r\n        // Send the amount to the address that requested it\r\n        msg.sender.transfer(withdraw_amount);\r\n    }\r\n\r\n    // Accept any incoming amount\r\n    function () external payable {} //fallback or default function\r\n\r\n}\r\n```","title":"Web3j gets stack underflow error with Ganache","body":"<p>I'm experiencing the error \"Error processing transaction request: VM Exception while processing transaction: stack underflow\" basically with any contract. I'm using Ganache v2.1.2 and Web3j 4.5.15. Same thing with Ganache CLI v6.9.1 (ganache-core: 2.10.2). I'm able to deploy the contract with Remix IDE and Metamask plug-in without any issue.</p>\n\n<p>The Java code:</p>\n\n<pre><code>public class contractCR\n  {\n\n    static class OSCGasProvider implements ContractGasProvider\n      {     \n\n        public OSCGasProvider(){}\n\n        @Override\n        public BigInteger getGasPrice(String string)\n          {            \n           return Convert.toWei(\"1\", Convert.Unit.GWEI).toBigInteger();             \n          }       \n\n        @Override\n        public BigInteger getGasLimit(String string)\n          {\n            return BigInteger.valueOf(3000000);\n          }\n\n        @Override\n        public BigInteger getGasPrice()\n          {\n            throw new UnsupportedOperationException(\"Not supported yet.\"); //To change body of generated methods, choose Tools | Templates.\n          }\n\n        @Override\n        public BigInteger getGasLimit()\n          {\n            throw new UnsupportedOperationException(\"Not supported yet.\"); //To change body of generated methods, choose Tools | Templates.\n          }\n\n      }\n\n    public static void main (String args[])\n      {\n        System.out.println(\"Connecting to Ethereum ...\");\n        Web3j web3 = Web3j.build(new HttpService(\"http://localhost:7545\"));\n        System.out.println(\"Successfuly connected to Ethereum\");\n        try \n          {\n            // web3_clientVersion returns the current client version.\n            Web3ClientVersion clientVersion = web3.web3ClientVersion().send();\n            Credentials credentials=Credentials.create(privateKey);\n            Faucet osc = Faucet.deploy(web3, credentials, new OSCGasProvider()).send();\n            String contractAddress = osc.getContractAddress();\n            System.out.println(\"The contract address is: \"+contractAddress);\n           } \n        catch (IOException ex)\n          {\n            throw new RuntimeException(\"Error while sending json-rpc requests\", ex);\n          }\n        catch (Exception ex)\n          {\n              System.out.println(ex.toString());\n          }     \n      }\n}\n</code></pre>\n\n<p>The simple Faucet contract:</p>\n\n<pre><code>// Version of Solidity compiler this program was written for\npragma solidity ^0.5.12;\n\n// Our first contract is a faucet!\ncontract Faucet {\n\n    address payable owner_addr; //the owner address\n\n    //initialize the contract\n    constructor() public \n    {\n      owner_addr=msg.sender;\n    }\n\n    //contract destructor\n    modifier owner_allowed\n    {\n      require (msg.sender==owner_addr, \"Only contract owner is allowed to call this function\");    \n      _;\n    }\n\n    function destroy() public owner_allowed\n    {\n      selfdestruct(owner_addr);\n    }\n\n    // Give out ether to anyone who asks\n    function withdraw(uint withdraw_amount) public\n     {\n        // Limit withdrawal amount\n        require(withdraw_amount &lt;= 100000000000000000); //0.1ether\n        // Send the amount to the address that requested it\n        msg.sender.transfer(withdraw_amount);\n    }\n\n    // Accept any incoming amount\n    function () external payable {} //fallback or default function\n\n}\n</code></pre>\n"},{"tags":["java","spring","option-type"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1561984263,"post_id":56835708,"comment_id":100223672,"body_markdown":"You can&#39;t return from the method in which you invoke `ifPresent`, from inside `ifPresent`: it&#39;s a fundamental limitation of lambdas. You just have to use an `if` checking `isPresent()`, and return in the block.","body":"You can&#39;t return from the method in which you invoke <code>ifPresent</code>, from inside <code>ifPresent</code>: it&#39;s a fundamental limitation of lambdas. You just have to use an <code>if</code> checking <code>isPresent()</code>, and return in the block."},{"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"score":0,"creation_date":1561984320,"post_id":56835708,"comment_id":100223711,"body_markdown":"The [ifPresent](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ifPresent-java.util.function.Consumer-) has no return value.","body":"The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ifPresent-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">ifPresent</a> has no return value."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":2,"creation_date":1561984389,"post_id":56835708,"comment_id":100223748,"body_markdown":"[From a Java Language Architect](https://stackoverflow.com/a/26328555): &quot;_For example, you probably should never use it for something that returns an array of results, or a list of results; instead return an empty array or list._&quot;","body":"<a href=\"https://stackoverflow.com/a/26328555\">From a Java Language Architect</a>: &quot;<i>For example, you probably should never use it for something that returns an array of results, or a list of results; instead return an empty array or list.</i>&quot;"},{"owner":{"account_id":11050835,"reputation":201,"user_id":8115355,"display_name":"TravelerVihaan"},"score":0,"creation_date":1561984396,"post_id":56835708,"comment_id":100223757,"body_markdown":"But I also can&#39;t do something like that: getAllSomething().ifPresent().stream().anyMatch(something-here)\n\nI want to check if something in list match to argument given to the function, but only if list exists.","body":"But I also can&#39;t do something like that: getAllSomething().ifPresent().stream().anyMatch(something-he&zwnj;&#8203;re)  I want to check if something in list match to argument given to the function, but only if list exists."},{"owner":{"account_id":6766059,"reputation":1299,"user_id":5211043,"accept_rate":100,"display_name":"The Bitman"},"score":0,"creation_date":1561984788,"post_id":56835708,"comment_id":100223972,"body_markdown":"One of the clean code rules : never return NULL by a function. Instead throw an exception. If you use this rule, you will no need to use Optional at all.","body":"One of the clean code rules : never return NULL by a function. Instead throw an exception. If you use this rule, you will no need to use Optional at all."}],"answers":[{"tags":[],"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1561984507,"creation_date":1561984507,"answer_id":56835830,"question_id":56835708,"body_markdown":"You could try something like\r\n\r\n    private boolean isComputerProducerAlreadyExist(ComputerProducer computerProducer){\r\n        return this.getAllComputerProducers()\r\n                .map((List&lt;ComputerProducer&gt; computerProducers) -&gt; computerProducers.stream()\r\n                        .anyMatch(producer -&gt; producer.getProducerName().equalsIgnoreCase(computerProducer.getProducerName())))\r\n                .orElse(Boolean.FALSE);\r\n    }\r\n\r\nOr instead of loading all computer producers load only the ones using its name.\r\n\r\n    private boolean isComputerProducerAlreadyExist(ComputerProducer computerProducer){\r\n        return computerProducerRepository.findByName(computerProducer.getProducerName()).isEmpty();\r\n    }\r\n\r\nAnd as far as I know Spring supports also &quot;exist&quot; methods for repositories without even the need to load the Entity.","title":"How can I return boolean value using Optional.ifPresent","body":"<p>You could try something like</p>\n\n<pre><code>private boolean isComputerProducerAlreadyExist(ComputerProducer computerProducer){\n    return this.getAllComputerProducers()\n            .map((List&lt;ComputerProducer&gt; computerProducers) -&gt; computerProducers.stream()\n                    .anyMatch(producer -&gt; producer.getProducerName().equalsIgnoreCase(computerProducer.getProducerName())))\n            .orElse(Boolean.FALSE);\n}\n</code></pre>\n\n<p>Or instead of loading all computer producers load only the ones using its name.</p>\n\n<pre><code>private boolean isComputerProducerAlreadyExist(ComputerProducer computerProducer){\n    return computerProducerRepository.findByName(computerProducer.getProducerName()).isEmpty();\n}\n</code></pre>\n\n<p>And as far as I know Spring supports also \"exist\" methods for repositories without even the need to load the Entity.</p>\n"},{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676289990,"creation_date":1561984636,"answer_id":56835863,"question_id":56835708,"body_markdown":"The following should work\r\n\r\n    Predicate&lt;ComputerProducer&gt; cpPredicate = producer -&gt; producer.getProducerName()\r\n        .equalsIgnoreCase(computerProducer.getProducerName());\r\n\r\n    boolean compProdExists = getAllCimputerProducers()\r\n        .map(list -&gt; list.stream()\r\n            .filter(cpPredicate)\r\n            .findFirst()))\r\n        .isPresent();","title":"How can I return boolean value using Optional.ifPresent","body":"<p>The following should work</p>\n<pre><code>Predicate&lt;ComputerProducer&gt; cpPredicate = producer -&gt; producer.getProducerName()\n    .equalsIgnoreCase(computerProducer.getProducerName());\n\nboolean compProdExists = getAllCimputerProducers()\n    .map(list -&gt; list.stream()\n        .filter(cpPredicate)\n        .findFirst()))\n    .isPresent();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user9065831"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561984640,"creation_date":1561984640,"answer_id":56835865,"question_id":56835708,"body_markdown":"You can pass the ```computerProducer.getProducerName()``` to repository to get the existing record. Method name will be &#39;```findByProducerName(String producerName)```&#39;, if producerName has unique constraint, return type will be ```Optional&lt;ComputerProducer&gt;```, else ```Optional&lt;List&lt;ComputerProducer&gt;&gt;```. However, JPA returns empty list instead of null, so optional on list is not required.","title":"How can I return boolean value using Optional.ifPresent","body":"<p>You can pass the <code>computerProducer.getProducerName()</code> to repository to get the existing record. Method name will be '<code>findByProducerName(String producerName)</code>', if producerName has unique constraint, return type will be <code>Optional&lt;ComputerProducer&gt;</code>, else <code>Optional&lt;List&lt;ComputerProducer&gt;&gt;</code>. However, JPA returns empty list instead of null, so optional on list is not required.</p>\n"}],"owner":{"account_id":11050835,"reputation":201,"user_id":8115355,"display_name":"TravelerVihaan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10856,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56835830,"answer_count":3,"score":2,"last_activity_date":1676289990,"creation_date":1561984036,"question_id":56835708,"body_markdown":"I have some problems with using `Optional.ifPresent` statement. I would like to reduce number of `NullPointerExceptions`, so I decided to use `Optional` values. \r\n\r\nAlso I am trying to avoid a ladder of `if` statements anti-pattern. \r\n\r\nSo I implemented `Optional.isPresent` statement. But it&#39;s not really that what I expected. \r\n\r\nPlease look at these listings:\r\n\r\nThis is a part of my service:\r\n\r\n        if (getAllComputerProducers().isPresent()) {\r\n            if (isComputerProducerAlreadyExist(computerProducer))\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT);\r\n        }\r\n\r\n        computerProducerRepository.save(computerProducer);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\r\n\r\n`getAllComputerProducers` function looks like that:\r\n\r\n    private Optional&lt;List&lt;ComputerProducer&gt;&gt; getAllComputerProducers() {\r\n        return Optional.ofNullable(computerProducerRepository.findAll());\r\n    }\r\n\r\nAs you can see, this function returns `Optional` of `List`.\r\n\r\nThe `isComputerProducerAlreadyExist` function is implemented like that:\r\n\r\n    private boolean isComputerProducerAlreadyExist(ComputerProducer computerProducer) {\r\n        return getAllComputerProducers()\r\n                .get()\r\n                .stream()\r\n                .anyMatch(producer -&gt; producer.getProducerName()\r\n                        .equalsIgnoreCase(computerProducer.getProducerName()));\r\n    }\r\n\r\nIt&#39;s so much code and I believe that it could be made simpler.\r\nMy target is to reduce code to one line command like:\r\n\r\n    getAllCimputerProducers().ifPresent(***and-here-some-anyMatch-boolean-function***)\r\n\r\nbut I can&#39;t insert there a function which returns something. How can I do it?\r\n\r\nRegards to everyone :)","title":"How can I return boolean value using Optional.ifPresent","body":"<p>I have some problems with using <code>Optional.ifPresent</code> statement. I would like to reduce number of <code>NullPointerExceptions</code>, so I decided to use <code>Optional</code> values. </p>\n\n<p>Also I am trying to avoid a ladder of <code>if</code> statements anti-pattern. </p>\n\n<p>So I implemented <code>Optional.isPresent</code> statement. But it's not really that what I expected. </p>\n\n<p>Please look at these listings:</p>\n\n<p>This is a part of my service:</p>\n\n<pre><code>    if (getAllComputerProducers().isPresent()) {\n        if (isComputerProducerAlreadyExist(computerProducer))\n            return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT);\n    }\n\n    computerProducerRepository.save(computerProducer);\n    return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\n</code></pre>\n\n<p><code>getAllComputerProducers</code> function looks like that:</p>\n\n<pre><code>private Optional&lt;List&lt;ComputerProducer&gt;&gt; getAllComputerProducers() {\n    return Optional.ofNullable(computerProducerRepository.findAll());\n}\n</code></pre>\n\n<p>As you can see, this function returns <code>Optional</code> of <code>List</code>.</p>\n\n<p>The <code>isComputerProducerAlreadyExist</code> function is implemented like that:</p>\n\n<pre><code>private boolean isComputerProducerAlreadyExist(ComputerProducer computerProducer) {\n    return getAllComputerProducers()\n            .get()\n            .stream()\n            .anyMatch(producer -&gt; producer.getProducerName()\n                    .equalsIgnoreCase(computerProducer.getProducerName()));\n}\n</code></pre>\n\n<p>It's so much code and I believe that it could be made simpler.\nMy target is to reduce code to one line command like:</p>\n\n<pre><code>getAllCimputerProducers().ifPresent(***and-here-some-anyMatch-boolean-function***)\n</code></pre>\n\n<p>but I can't insert there a function which returns something. How can I do it?</p>\n\n<p>Regards to everyone :)</p>\n"},{"tags":["java","docker","maven","dependencies"],"comments":[{"owner":{"account_id":2087834,"reputation":7157,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"score":0,"creation_date":1664218609,"post_id":63433361,"comment_id":130416596,"body_markdown":"You may be interested in [this](https://stackoverflow.com/a/38294215/1858327). It shows how to avoid redownloading every dependency every time.","body":"You may be interested in <a href=\"https://stackoverflow.com/a/38294215/1858327\">this</a>. It shows how to avoid redownloading every dependency every time."}],"answers":[{"tags":[],"owner":{"account_id":13334063,"reputation":4845,"user_id":9624452,"display_name":"Konrad Botor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634207809,"creation_date":1597580302,"answer_id":63436809,"question_id":63433361,"body_markdown":"Simple answer - you can&#39;t, because there is no way to mount a volume for `docker build` command.\r\n\r\nI&#39;m assuming your end goal is a Docker image that runs contains your project&#39;s built jar or war.\r\n\r\nTo accomplish that you need two Dockerfiles - one that can be used to create a container that will build your project and exit and a second one that will describe the image that you actually want - one that can be used to create a container that runs your project.\r\n\r\nThere is a nice article describing how to create and use the first one [here][1]. As \r\nfor the second one, that depends on whether your project builds as jar or a war and how it needs to be started/deployed.\r\n\r\n  [1]: https://dzone.com/articles/maven-build-local-project-with-docker-why","title":"Use local m2 repository in docker build stage","body":"<p>Simple answer - you can't, because there is no way to mount a volume for <code>docker build</code> command.</p>\n<p>I'm assuming your end goal is a Docker image that runs contains your project's built jar or war.</p>\n<p>To accomplish that you need two Dockerfiles - one that can be used to create a container that will build your project and exit and a second one that will describe the image that you actually want - one that can be used to create a container that runs your project.</p>\n<p>There is a nice article describing how to create and use the first one <a href=\"https://dzone.com/articles/maven-build-local-project-with-docker-why\" rel=\"nofollow noreferrer\">here</a>. As\nfor the second one, that depends on whether your project builds as jar or a war and how it needs to be started/deployed.</p>\n"},{"tags":[],"owner":{"account_id":3729349,"reputation":805,"user_id":3102259,"display_name":"GintsGints"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597585456,"creation_date":1597585456,"answer_id":63437631,"question_id":63433361,"body_markdown":"There is two ways of managing libraries (including private):\r\n\r\n1. (old way) copy your compiled library to your project lib directory and make sure your project pick it up.\r\n\r\n2. use some repository management software. Good options is - Artifactory https://jfrog.com/artifactory or Nexus repository management - https://www.sonatype.com/product-nexus-repository","title":"Use local m2 repository in docker build stage","body":"<p>There is two ways of managing libraries (including private):</p>\n<ol>\n<li><p>(old way) copy your compiled library to your project lib directory and make sure your project pick it up.</p>\n</li>\n<li><p>use some repository management software. Good options is - Artifactory <a href=\"https://jfrog.com/artifactory\" rel=\"nofollow noreferrer\">https://jfrog.com/artifactory</a> or Nexus repository management - <a href=\"https://www.sonatype.com/product-nexus-repository\" rel=\"nofollow noreferrer\">https://www.sonatype.com/product-nexus-repository</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":9011826,"reputation":379,"user_id":6716090,"display_name":"abarazal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3213,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1676289867,"creation_date":1597554411,"question_id":63433361,"body_markdown":"I made a Java project which uses an own library, which is installed in my local m2 repository. Now, I&#39;m trying to create a Docker image that generates the jar in a build stage. It fails because it can&#39;t resolve dependencies for project of my own library. Is there any way to tell maven (from container) to use my local m2 repository (outside container) so it could resolve my library dependency when I run `mvn package`?","title":"Use local m2 repository in docker build stage","body":"<p>I made a Java project which uses an own library, which is installed in my local m2 repository. Now, I'm trying to create a Docker image that generates the jar in a build stage. It fails because it can't resolve dependencies for project of my own library. Is there any way to tell maven (from container) to use my local m2 repository (outside container) so it could resolve my library dependency when I run <code>mvn package</code>?</p>\n"},{"tags":["java","cucumber","bdd","gherkin"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1676160810,"post_id":75423975,"comment_id":133082430,"body_markdown":"Step definitions and hooks are not coupled to a feature file. Rather they are global. You can use every step definition and hook in every scenario.","body":"Step definitions and hooks are not coupled to a feature file. Rather they are global. You can use every step definition and hook in every scenario."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676289780,"creation_date":1676289780,"answer_id":75435631,"question_id":75423975,"body_markdown":"**Option 1**\r\n\r\nThis is a bad practice to have different implementations for the same step. To have things properly arranged you can use conditional hooks. So that you tag your feature in one feature file as say `@mytag1` and feature in another feature file with `@mytag2`.\r\n\r\nNow you can distinguish `Before` hook for both the cases like:\r\n\r\n```java\r\n@Before(&quot;@mytag1&quot;)\r\npublic void before1() {\r\n    // Some logic\r\n}\r\n\r\n@Before(&quot;@mytag2&quot;)\r\npublic void before2() {\r\n    // Some different logic\r\n}\r\n```\r\n\r\n&gt; **P.S.** - Avoid using `@Before` wherever possible because it hides test logic from a person who just analyses the gherkin script\r\n\r\n**Option 2**\r\n\r\nDo not use `@Before` at all but make use power of `Background` so that you have different set up for both your cases. Use different step sytax where the actual actions are different\r\n\r\n**Option 3**\r\n\r\nThe last and less desirable option is to to what you are particulary asking. When Cucumber glues everything together (having no explisit setup) it uses package structure to distinguish what is glued to what.\r\n\r\nSay you have feature files like this:\r\n\r\n```\r\nFeature: my feature1\r\n\r\nScenario: test\r\n  When doing a step\r\n``` \r\n\r\nand \r\n\r\n```\r\nFeature: my feature2\r\n\r\nScenario: test\r\n  When doing a step\r\n``` \r\n\r\nNow. You can have different implementation for `When doing a step` if you have the class/package structure like this:\r\n\r\n```\r\nrootpkg\r\n somepkg1\r\n  TestRunnerClass1\r\n  somepkg2\r\n   StepDef1\r\n somepkg3\r\n  TestRunnerClass2\r\n  somepkg4\r\n   StepDef2\r\n```\r\n\r\nAnd also you have the following resource structure:\r\n\r\n```\r\nrootpkg/somepkg1/somepkg2/myfeature1.feature\r\nrootpkg/somepkg3/somepkg4/myfeature2.feature\r\n```\r\n\r\nSo once you are running `mvn test` it picks both test runners and since each in isolated package &quot;branch&quot; it would use different step definition implmentation.","title":"How to specify a specific StepDefinitions file for a Cucumber (.feature) file","body":"<p><strong>Option 1</strong></p>\n<p>This is a bad practice to have different implementations for the same step. To have things properly arranged you can use conditional hooks. So that you tag your feature in one feature file as say <code>@mytag1</code> and feature in another feature file with <code>@mytag2</code>.</p>\n<p>Now you can distinguish <code>Before</code> hook for both the cases like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Before(&quot;@mytag1&quot;)\npublic void before1() {\n    // Some logic\n}\n\n@Before(&quot;@mytag2&quot;)\npublic void before2() {\n    // Some different logic\n}\n</code></pre>\n<blockquote>\n<p><strong>P.S.</strong> - Avoid using <code>@Before</code> wherever possible because it hides test logic from a person who just analyses the gherkin script</p>\n</blockquote>\n<p><strong>Option 2</strong></p>\n<p>Do not use <code>@Before</code> at all but make use power of <code>Background</code> so that you have different set up for both your cases. Use different step sytax where the actual actions are different</p>\n<p><strong>Option 3</strong></p>\n<p>The last and less desirable option is to to what you are particulary asking. When Cucumber glues everything together (having no explisit setup) it uses package structure to distinguish what is glued to what.</p>\n<p>Say you have feature files like this:</p>\n<pre><code>Feature: my feature1\n\nScenario: test\n  When doing a step\n</code></pre>\n<p>and</p>\n<pre><code>Feature: my feature2\n\nScenario: test\n  When doing a step\n</code></pre>\n<p>Now. You can have different implementation for <code>When doing a step</code> if you have the class/package structure like this:</p>\n<pre><code>rootpkg\n somepkg1\n  TestRunnerClass1\n  somepkg2\n   StepDef1\n somepkg3\n  TestRunnerClass2\n  somepkg4\n   StepDef2\n</code></pre>\n<p>And also you have the following resource structure:</p>\n<pre><code>rootpkg/somepkg1/somepkg2/myfeature1.feature\nrootpkg/somepkg3/somepkg4/myfeature2.feature\n</code></pre>\n<p>So once you are running <code>mvn test</code> it picks both test runners and since each in isolated package &quot;branch&quot; it would use different step definition implmentation.</p>\n"}],"owner":{"account_id":19614289,"reputation":41,"user_id":14370829,"display_name":"raulpacheco2k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676289780,"creation_date":1676158119,"question_id":75423975,"body_markdown":"I&#39;m doing some tests with cucumber, currently I have two .feature files, one for login and one for registration) and a StepDefinitions file for each .feature file.\r\n\r\nEach StepDefinitions file has a @Before method, so I can do some settings before starting the tests.\r\n\r\nThe problem is that when I run all the login tests both the @Before specified for the login test and the @Before that I specified in the test for registration.\r\n\r\n***Cucumber file (test for registration):***\r\n```gherkin\r\nFeature: Sign up\r\nAs a user\r\nI want to create a new account\r\nSo that I can use the application\r\n\r\n  Background:\r\n    Given I am on the sign up page\r\n\r\n  Scenario Outline: User can create a new account\r\n    When I fill name with &quot;&lt;first_name&gt;&quot;\r\n    And I fill lastname with &quot;&lt;last_name&gt;&quot;\r\n    And I fill email with &quot;&lt;email&gt;&quot;\r\n    And I fill password with &quot;&lt;password&gt;&quot;\r\n    And I fill password confirmation with &quot;&lt;password_confirmation&gt;&quot;\r\n    When I click on Sign up\r\n    Then I must be authenticated\r\n\r\n    Examples:\r\n      | first_name | last_name   | email                      | password  | password_confirmation |\r\n      | Rita       | A. Cheatham | RitaACyheatham@armyspy.com | 123456789 | 123456789             |\r\n```\r\n\r\n***StepDefinitions for Cucumber file:***\r\n```java\r\npublic class SignUpStepDefinitions {\r\n\r\n    private SignUp signUp;\r\n\r\n    @Before\r\n    public void before() {\r\n        signUp = new SignUp();\r\n        signUp.beforeEach();\r\n    }\r\n\r\n   # Code continuation...\r\n}\r\n\r\n```","title":"How to specify a specific StepDefinitions file for a Cucumber (.feature) file","body":"<p>I'm doing some tests with cucumber, currently I have two .feature files, one for login and one for registration) and a StepDefinitions file for each .feature file.</p>\n<p>Each StepDefinitions file has a @Before method, so I can do some settings before starting the tests.</p>\n<p>The problem is that when I run all the login tests both the @Before specified for the login test and the @Before that I specified in the test for registration.</p>\n<p><em><strong>Cucumber file (test for registration):</strong></em></p>\n<pre><code>Feature: Sign up\nAs a user\nI want to create a new account\nSo that I can use the application\n\n  Background:\n    Given I am on the sign up page\n\n  Scenario Outline: User can create a new account\n    When I fill name with &quot;&lt;first_name&gt;&quot;\n    And I fill lastname with &quot;&lt;last_name&gt;&quot;\n    And I fill email with &quot;&lt;email&gt;&quot;\n    And I fill password with &quot;&lt;password&gt;&quot;\n    And I fill password confirmation with &quot;&lt;password_confirmation&gt;&quot;\n    When I click on Sign up\n    Then I must be authenticated\n\n    Examples:\n      | first_name | last_name   | email                      | password  | password_confirmation |\n      | Rita       | A. Cheatham | RitaACyheatham@armyspy.com | 123456789 | 123456789             |\n</code></pre>\n<p><em><strong>StepDefinitions for Cucumber file:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SignUpStepDefinitions {\n\n    private SignUp signUp;\n\n    @Before\n    public void before() {\n        signUp = new SignUp();\n        signUp.beforeEach();\n    }\n\n   # Code continuation...\n}\n\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","gridview"],"owner":{"account_id":14500152,"reputation":93,"user_id":10473593,"display_name":"Kabilan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676289503,"creation_date":1676272122,"question_id":75432796,"body_markdown":"I am having a grid view of 2 columns. Here, the item is TextView designed like a chip. My case is, for example length of the text in item 0 is small and length of the text in item 1 is big. Then, I want item 0 to resize its height to the height of item 1. It should happen in every row\r\n\r\nI tried with custom adapter and similar solutions but not working[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hKmSY.jpg","title":"How to resize gridView item height based on length of the text in android?","body":"<p>I am having a grid view of 2 columns. Here, the item is TextView designed like a chip. My case is, for example length of the text in item 0 is small and length of the text in item 1 is big. Then, I want item 0 to resize its height to the height of item 1. It should happen in every row</p>\n<p>I tried with custom adapter and similar solutions but not working<a href=\"https://i.stack.imgur.com/hKmSY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hKmSY.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jodatime","java-time","datetimeformatter"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676143001,"post_id":75413652,"comment_id":133079868,"body_markdown":"Why are you involving the old and poorly designed `Date` class too? Wondering very much.","body":"Why are you involving the old and poorly designed <code>Date</code> class too? Wondering very much."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676143176,"post_id":75413652,"comment_id":133079899,"body_markdown":"I suggest separating formatting and parsing. You want that you can parse different variants, but when formatting you want one specific of those variants. So use one formatter for parsing (with optional parts) and another one for formatting (with no optional parts).","body":"I suggest separating formatting and parsing. You want that you can parse different variants, but when formatting you want one specific of those variants. So use one formatter for parsing (with optional parts) and another one for formatting (with no optional parts)."},{"owner":{"account_id":27754415,"reputation":11,"user_id":21188225,"display_name":"kevin h"},"score":1,"creation_date":1676285188,"post_id":75413652,"comment_id":133099696,"body_markdown":"I must use old Date, because this a old projet and we don&#39;t use (Instant, LocalDate etc.). But thank you for your answer, I try to use a formater for &quot;parsing&quot; and &quot;formating&quot;. It seems ok.","body":"I must use old Date, because this a old projet and we don&#39;t use (Instant, LocalDate etc.). But thank you for your answer, I try to use a formater for &quot;parsing&quot; and &quot;formating&quot;. It seems ok."}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676287856,"creation_date":1676142886,"answer_id":75422710,"question_id":75413652,"body_markdown":"You want to be able to parse 4 possible formats, not 4 concatenated optional ends.\r\n\r\nYou should use [DateTimeFormatterBuilder#appendOptional][1] to add the 4 variants you want to your DateTimeFormatterBuilder.\r\n\r\nSomething like this:\r\n\r\n    dateTimeFormatter = new DateTimeFormatterBuilder()\r\n        .appendOptional(DateTimeFormatter.ISO_LOCAL_DATE_TIME)\r\n        .appendOptional(DateTimeFormatter.ofPattern(&quot;with .SSS&quot;))\r\n        .appendOptional(DateTimeFormatter.ofPattern(&quot;with +HH:MM&quot;))\r\n        .appendOptional(DateTimeFormatter.ofPattern(&quot;with +HHMM&quot;))\r\n        .appendOptional(DateTimeFormatter.ofPattern(&quot;with +HHZ&quot;))\r\n        .toFormatter();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendOptional-java.time.format.DateTimeFormatter-","title":"How to format only one offset but support mutiples offsets with DateTimeFormatterBuilder with a migration from joda?","body":"<p>You want to be able to parse 4 possible formats, not 4 concatenated optional ends.</p>\n<p>You should use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendOptional-java.time.format.DateTimeFormatter-\" rel=\"nofollow noreferrer\">DateTimeFormatterBuilder#appendOptional</a> to add the 4 variants you want to your DateTimeFormatterBuilder.</p>\n<p>Something like this:</p>\n<pre><code>dateTimeFormatter = new DateTimeFormatterBuilder()\n    .appendOptional(DateTimeFormatter.ISO_LOCAL_DATE_TIME)\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;with .SSS&quot;))\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;with +HH:MM&quot;))\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;with +HHMM&quot;))\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;with +HHZ&quot;))\n    .toFormatter();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676289329,"creation_date":1676289329,"answer_id":75435558,"question_id":75413652,"body_markdown":"Optional parts are good for parsing string to DateTime instance, but not for formatting. When formatting you should create 1 or several DateTimeFormatters without any optional parts that would reflect your standard how the date should be formatted. Optional parts are good for parsing strings where the strings may come in several formats and you don&#39;t have any control over it. I once wrote a feature where I tried to parse string in any known format. So I had a property file where I had several formats one after another that should cover all the possibilities and I tried to parse the incoming string with each format one after another until first success or until I ran out of formats. Having it in file allowed me to add and rearange formats without changing the code. I wrote an article about it where I described in detail the idea. Here is the article: [Java 8 java.time package: parsing any string to date][1]\r\n\r\n\r\n  [1]: https://www.linkedin.com/pulse/java-8-javatime-package-parsing-any-string-date-michael-gantman/","title":"How to format only one offset but support mutiples offsets with DateTimeFormatterBuilder with a migration from joda?","body":"<p>Optional parts are good for parsing string to DateTime instance, but not for formatting. When formatting you should create 1 or several DateTimeFormatters without any optional parts that would reflect your standard how the date should be formatted. Optional parts are good for parsing strings where the strings may come in several formats and you don't have any control over it. I once wrote a feature where I tried to parse string in any known format. So I had a property file where I had several formats one after another that should cover all the possibilities and I tried to parse the incoming string with each format one after another until first success or until I ran out of formats. Having it in file allowed me to add and rearange formats without changing the code. I wrote an article about it where I described in detail the idea. Here is the article: <a href=\"https://www.linkedin.com/pulse/java-8-javatime-package-parsing-any-string-date-michael-gantman/\" rel=\"nofollow noreferrer\">Java 8 java.time package: parsing any string to date</a></p>\n"}],"owner":{"account_id":27754415,"reputation":11,"user_id":21188225,"display_name":"kevin h"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676289329,"creation_date":1676046090,"question_id":75413652,"body_markdown":"I want to migrate my code from Joda to java.time.\r\nI use DateTimeFormatter for parsing and formating multiple date.\r\nThe problem is with DateTimeFormatter.format(...), the return String is &quot;2023-02-08T09:30:00.000+01:00+0100+01&quot; instead of 2023-02-08T09:30:00.000+01:00\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI writed a test to expose my issue. The wrong test is testFormatWithJava()\r\n```\r\n\r\nimport java.time.Instant;\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.format.DateTimeFormatterBuilder;\r\nimport java.time.temporal.TemporalAccessor;\r\nimport java.util.Date;\r\n\r\nimport org.joda.time.DateTime;\r\nimport org.joda.time.format.ISODateTimeFormat;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\n\r\npublic class TestU {\r\n\r\n\tprivate DateTimeFormatter dateTimeFormatter;\r\n\r\n\t@Before\r\n\tpublic void before() {\r\n\t\tDateTimeFormatterBuilder dateTimeFormatterBuilder = new DateTimeFormatterBuilder()\r\n\t\t\t\t.append(DateTimeFormatter.ISO_LOCAL_DATE_TIME) //\r\n\t\t\t\t.optionalStart().appendPattern(&quot;.SSS&quot;).optionalEnd() //\r\n\t\t\t\t.optionalStart().appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;).optionalEnd() //\r\n\t\t\t\t.optionalStart().appendOffset(&quot;+HHMM&quot;, &quot;+0000&quot;).optionalEnd() //\r\n\t\t\t\t.optionalStart().appendOffset(&quot;+HH&quot;, &quot;Z&quot;).optionalEnd();\r\n\t\tdateTimeFormatter = dateTimeFormatterBuilder.toFormatter();\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testParseDateStringWithJoda() {\r\n\t\tString dateString1 = &quot;2023-02-08T09:30:00.787+0000&quot;;\r\n\t\tString dateString2 = &quot;2023-02-08t09:30:00.000+01:00&quot;;\r\n\t\tString dateString3 = &quot;2013-07-05t14:04:15+01:00&quot;;\r\n\r\n\t\torg.joda.time.format.DateTimeFormatter formatter = ISODateTimeFormat.dateTime().withOffsetParsed();\r\n\t\torg.joda.time.format.DateTimeFormatter formatterWithoutMs = ISODateTimeFormat.dateTimeNoMillis()\r\n\t\t\t\t.withOffsetParsed();\r\n\r\n\t\tDateTime dateTime1 = formatter.parseDateTime(dateString1);\r\n\t\tDateTime dateTime2 = formatter.parseDateTime(dateString2);\r\n\t\tDateTime dateTime3 = formatterWithoutMs.parseDateTime(dateString3);\r\n\r\n\t\tassertEquals(&quot;Wed Feb 08 10:30:00 CET 2023&quot;, dateTime1.toDate().toString());\r\n\t\tassertEquals(&quot;Wed Feb 08 09:30:00 CET 2023&quot;, dateTime2.toDate().toString());\r\n\t\tassertEquals(&quot;Fri Jul 05 15:04:15 CEST 2013&quot;, dateTime3.toDate().toString());\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testParseDateStringWithJava() {\r\n\t\tString dateString1 = &quot;2023-02-08T09:30:00.787+0000&quot;;\r\n\t\tString dateString2 = &quot;2023-02-08t09:30:00.000+01:00&quot;;\r\n\t\tString dateString3 = &quot;2013-07-05t14:04:15+01:00&quot;;\r\n\r\n\t\tTemporalAccessor temporalAccessor1 = dateTimeFormatter.parse(dateString1);\r\n\t\tTemporalAccessor temporalAccessor2 = dateTimeFormatter.parse(dateString2);\r\n\t\tTemporalAccessor temporalAccessor3 = dateTimeFormatter.parse(dateString3);\r\n\r\n\t\tassertEquals(&quot;Wed Feb 08 10:30:00 CET 2023&quot;, Date.from(Instant.from(temporalAccessor1)).toString());\r\n\t\tassertEquals(&quot;Wed Feb 08 09:30:00 CET 2023&quot;, Date.from(Instant.from(temporalAccessor2)).toString());\r\n\t\tassertEquals(&quot;Fri Jul 05 15:04:15 CEST 2013&quot;, Date.from(Instant.from(temporalAccessor3)).toString());\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testFormatWithJoda() {\r\n\t\tDate date = Date.from(LocalDateTime.of(2023, 02, 8, 9, 30).atZone(ZoneId.of(&quot;Europe/Paris&quot;)).toInstant());\r\n\r\n\t\torg.joda.time.format.DateTimeFormatter formatter = ISODateTimeFormat.dateTime().withOffsetParsed();\r\n\t\tDateTime dt = new DateTime(date);\r\n\r\n\t\tassertEquals(&quot;2023-02-08T09:30:00.000+01:00&quot;, formatter.print(dt));\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testFormatWithJava() {\r\n\t\tDate date = Date.from(LocalDateTime.of(2023, 02, 8, 9, 30).atZone(ZoneId.of(&quot;Europe/Paris&quot;)).toInstant());\r\n\r\n\t\tassertEquals(&quot;2023-02-08T09:30:00.000+01:00&quot;,\r\n\t\t\t\tdateTimeFormatter.withZone(ZoneId.systemDefault()).format(date.toInstant()));\r\n\t}\r\n}\r\n```","title":"How to format only one offset but support mutiples offsets with DateTimeFormatterBuilder with a migration from joda?","body":"<p>I want to migrate my code from Joda to java.time.\nI use DateTimeFormatter for parsing and formating multiple date.\nThe problem is with DateTimeFormatter.format(...), the return String is &quot;2023-02-08T09:30:00.000+01:00+0100+01&quot; instead of 2023-02-08T09:30:00.000+01:00</p>\n<p>I writed a test to expose my issue. The wrong test is testFormatWithJava()</p>\n<pre><code>\nimport java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\nimport java.time.temporal.TemporalAccessor;\nimport java.util.Date;\n\nimport org.joda.time.DateTime;\nimport org.joda.time.format.ISODateTimeFormat;\nimport org.junit.Before;\nimport org.junit.Test;\n\npublic class TestU {\n\n    private DateTimeFormatter dateTimeFormatter;\n\n    @Before\n    public void before() {\n        DateTimeFormatterBuilder dateTimeFormatterBuilder = new DateTimeFormatterBuilder()\n                .append(DateTimeFormatter.ISO_LOCAL_DATE_TIME) //\n                .optionalStart().appendPattern(&quot;.SSS&quot;).optionalEnd() //\n                .optionalStart().appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;).optionalEnd() //\n                .optionalStart().appendOffset(&quot;+HHMM&quot;, &quot;+0000&quot;).optionalEnd() //\n                .optionalStart().appendOffset(&quot;+HH&quot;, &quot;Z&quot;).optionalEnd();\n        dateTimeFormatter = dateTimeFormatterBuilder.toFormatter();\n    }\n\n    @Test\n    public void testParseDateStringWithJoda() {\n        String dateString1 = &quot;2023-02-08T09:30:00.787+0000&quot;;\n        String dateString2 = &quot;2023-02-08t09:30:00.000+01:00&quot;;\n        String dateString3 = &quot;2013-07-05t14:04:15+01:00&quot;;\n\n        org.joda.time.format.DateTimeFormatter formatter = ISODateTimeFormat.dateTime().withOffsetParsed();\n        org.joda.time.format.DateTimeFormatter formatterWithoutMs = ISODateTimeFormat.dateTimeNoMillis()\n                .withOffsetParsed();\n\n        DateTime dateTime1 = formatter.parseDateTime(dateString1);\n        DateTime dateTime2 = formatter.parseDateTime(dateString2);\n        DateTime dateTime3 = formatterWithoutMs.parseDateTime(dateString3);\n\n        assertEquals(&quot;Wed Feb 08 10:30:00 CET 2023&quot;, dateTime1.toDate().toString());\n        assertEquals(&quot;Wed Feb 08 09:30:00 CET 2023&quot;, dateTime2.toDate().toString());\n        assertEquals(&quot;Fri Jul 05 15:04:15 CEST 2013&quot;, dateTime3.toDate().toString());\n    }\n\n    @Test\n    public void testParseDateStringWithJava() {\n        String dateString1 = &quot;2023-02-08T09:30:00.787+0000&quot;;\n        String dateString2 = &quot;2023-02-08t09:30:00.000+01:00&quot;;\n        String dateString3 = &quot;2013-07-05t14:04:15+01:00&quot;;\n\n        TemporalAccessor temporalAccessor1 = dateTimeFormatter.parse(dateString1);\n        TemporalAccessor temporalAccessor2 = dateTimeFormatter.parse(dateString2);\n        TemporalAccessor temporalAccessor3 = dateTimeFormatter.parse(dateString3);\n\n        assertEquals(&quot;Wed Feb 08 10:30:00 CET 2023&quot;, Date.from(Instant.from(temporalAccessor1)).toString());\n        assertEquals(&quot;Wed Feb 08 09:30:00 CET 2023&quot;, Date.from(Instant.from(temporalAccessor2)).toString());\n        assertEquals(&quot;Fri Jul 05 15:04:15 CEST 2013&quot;, Date.from(Instant.from(temporalAccessor3)).toString());\n    }\n\n    @Test\n    public void testFormatWithJoda() {\n        Date date = Date.from(LocalDateTime.of(2023, 02, 8, 9, 30).atZone(ZoneId.of(&quot;Europe/Paris&quot;)).toInstant());\n\n        org.joda.time.format.DateTimeFormatter formatter = ISODateTimeFormat.dateTime().withOffsetParsed();\n        DateTime dt = new DateTime(date);\n\n        assertEquals(&quot;2023-02-08T09:30:00.000+01:00&quot;, formatter.print(dt));\n    }\n\n    @Test\n    public void testFormatWithJava() {\n        Date date = Date.from(LocalDateTime.of(2023, 02, 8, 9, 30).atZone(ZoneId.of(&quot;Europe/Paris&quot;)).toInstant());\n\n        assertEquals(&quot;2023-02-08T09:30:00.000+01:00&quot;,\n                dateTimeFormatter.withZone(ZoneId.systemDefault()).format(date.toInstant()));\n    }\n}\n</code></pre>\n"},{"tags":["java","scheduled-tasks"],"answers":[{"tags":[],"owner":{"account_id":161503,"reputation":18031,"user_id":382307,"accept_rate":96,"display_name":"Jorge"},"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1318974065,"creation_date":1318974065,"answer_id":7814113,"question_id":7814089,"body_markdown":" You should take a look to [Quartz][1] it&#39;s a java framework wich works with EE and SE editions and allows to define jobs to execute an specific time\r\n\r\n\r\n  [1]: http://www.quartz-scheduler.org/","title":"How to schedule a periodic task in Java?","body":"<p>You should take a look to <a href=\"http://www.quartz-scheduler.org/\">Quartz</a> it's a java framework wich works with EE and SE editions and allows to define jobs to execute an specific time</p>\n"},{"tags":[],"owner":{"account_id":979394,"reputation":1305,"user_id":999537,"accept_rate":70,"display_name":"Belizzle"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1319028124,"creation_date":1318974266,"answer_id":7814146,"question_id":7814089,"body_markdown":"If you want to stick with `java.util.Timer`, you can use it to schedule at large time intervals. You simply pass in the period you are shooting for. Check the documentation [here][1].\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Timer.html","title":"How to schedule a periodic task in Java?","body":"<p>If you want to stick with <code>java.util.Timer</code>, you can use it to schedule at large time intervals. You simply pass in the period you are shooting for. Check the documentation <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Timer.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":85613,"reputation":21012,"user_id":238578,"accept_rate":75,"display_name":"b_erb"},"down_vote_count":1,"up_vote_count":326,"is_accepted":true,"score":325,"last_activity_date":1430350302,"creation_date":1318974287,"answer_id":7814149,"question_id":7814089,"body_markdown":"Use a [ScheduledExecutorService][1]:\r\n\r\n     private final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n     scheduler.scheduleAtFixedRate(yourRunnable, 8, 8, TimeUnit.HOURS);\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledExecutorService.html","title":"How to schedule a periodic task in Java?","body":"<p>Use a <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledExecutorService.html\">ScheduledExecutorService</a>:</p>\n\n<pre><code> private final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n scheduler.scheduleAtFixedRate(yourRunnable, 8, 8, TimeUnit.HOURS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1477140,"reputation":1906,"user_id":1387275,"accept_rate":100,"display_name":"Shessuky"},"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1670316835,"creation_date":1379598106,"answer_id":18896316,"question_id":7814089,"body_markdown":"Try this way -&gt;\r\n\r\nFirstly create a class TimeTask that runs your task, it looks like:\r\n\r\n    public class CustomTask extends TimerTask  {\r\n\r\n       public CustomTask(){\r\n     \r\n         //Constructor\r\n\r\n       }\r\n\r\n       public void run() {\r\n\t       try {\r\n\t\t \r\n             // Your task process\r\n\r\n           } catch (Exception ex) {\r\n               System.out.println(&quot;error running thread &quot; + ex.getMessage());\r\n           }\r\n\t\t}\r\n\t}\r\n\r\nThen in main class you instantiate the task and run it periodically started by a precised date:\r\n\r\n     public void runTask() {\r\n\r\n            Calendar calendar = Calendar.getInstance();\r\n            calendar.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\r\n            calendar.set(Calendar.HOUR_OF_DAY, 15);\r\n            calendar.set(Calendar.MINUTE, 40);\r\n            calendar.set(Calendar.SECOND, 0);\r\n            calendar.set(Calendar.MILLISECOND, 0);\r\n\r\n\r\n\t\t\r\n            Timer time = new Timer(); // Instantiate Timer Object\r\n\r\n            // Start running the task on Monday at 15:40:00, period is set to 8 hours\r\n            // if you want to run the task immediately, set the 2nd parameter to 0\r\n            time.schedule(new CustomTask(), calendar.getTime(), TimeUnit.HOURS.toMillis(8));\r\n    }\r\n\r\n","title":"How to schedule a periodic task in Java?","body":"<p>Try this way -&gt;</p>\n<p>Firstly create a class TimeTask that runs your task, it looks like:</p>\n<pre><code>public class CustomTask extends TimerTask  {\n\n   public CustomTask(){\n \n     //Constructor\n\n   }\n\n   public void run() {\n       try {\n     \n         // Your task process\n\n       } catch (Exception ex) {\n           System.out.println(&quot;error running thread &quot; + ex.getMessage());\n       }\n    }\n}\n</code></pre>\n<p>Then in main class you instantiate the task and run it periodically started by a precised date:</p>\n<pre><code> public void runTask() {\n\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\n        calendar.set(Calendar.HOUR_OF_DAY, 15);\n        calendar.set(Calendar.MINUTE, 40);\n        calendar.set(Calendar.SECOND, 0);\n        calendar.set(Calendar.MILLISECOND, 0);\n\n\n    \n        Timer time = new Timer(); // Instantiate Timer Object\n\n        // Start running the task on Monday at 15:40:00, period is set to 8 hours\n        // if you want to run the task immediately, set the 2nd parameter to 0\n        time.schedule(new CustomTask(), calendar.getTime(), TimeUnit.HOURS.toMillis(8));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3097818,"reputation":181,"user_id":2622665,"display_name":"Aride Chettali"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1598442515,"creation_date":1405958722,"answer_id":24869575,"question_id":7814089,"body_markdown":"Use Google Guava `AbstractScheduledService` as given below:\r\n\r\n    public class ScheduledExecutor extends AbstractScheduledService {\r\n\r\n       @Override\r\n       protected void runOneIteration() throws Exception {\r\n          System.out.println(&quot;Executing....&quot;);\r\n       }\r\n\r\n       @Override\r\n       protected Scheduler scheduler() {\r\n            return Scheduler.newFixedRateSchedule(0, 3, TimeUnit.SECONDS);\r\n       }\r\n\r\n       @Override\r\n       protected void startUp() {\r\n           System.out.println(&quot;StartUp Activity....&quot;);\r\n       }\r\n\r\n\r\n       @Override\r\n       protected void shutDown() {\r\n           System.out.println(&quot;Shutdown Activity...&quot;);\r\n       }\r\n\r\n       public static void main(String[] args) throws InterruptedException {\r\n           ScheduledExecutor se = new ScheduledExecutor();\r\n           se.startAsync();\r\n           Thread.sleep(15000);\r\n           se.stopAsync();\r\n       }\r\n    }\r\n\r\nIf you have more services like this, then registering all services in ServiceManager will be good as all services can be started and stopped together. Read [here][1] for more on ServiceManager.\r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki/ServiceExplained","title":"How to schedule a periodic task in Java?","body":"<p>Use Google Guava <code>AbstractScheduledService</code> as given below:</p>\n<pre><code>public class ScheduledExecutor extends AbstractScheduledService {\n\n   @Override\n   protected void runOneIteration() throws Exception {\n      System.out.println(&quot;Executing....&quot;);\n   }\n\n   @Override\n   protected Scheduler scheduler() {\n        return Scheduler.newFixedRateSchedule(0, 3, TimeUnit.SECONDS);\n   }\n\n   @Override\n   protected void startUp() {\n       System.out.println(&quot;StartUp Activity....&quot;);\n   }\n\n\n   @Override\n   protected void shutDown() {\n       System.out.println(&quot;Shutdown Activity...&quot;);\n   }\n\n   public static void main(String[] args) throws InterruptedException {\n       ScheduledExecutor se = new ScheduledExecutor();\n       se.startAsync();\n       Thread.sleep(15000);\n       se.stopAsync();\n   }\n}\n</code></pre>\n<p>If you have more services like this, then registering all services in ServiceManager will be good as all services can be started and stopped together. Read <a href=\"https://github.com/google/guava/wiki/ServiceExplained\" rel=\"nofollow noreferrer\">here</a> for more on ServiceManager.</p>\n"},{"tags":[],"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"down_vote_count":4,"up_vote_count":10,"is_accepted":false,"score":6,"last_activity_date":1413325557,"creation_date":1413325557,"answer_id":26371447,"question_id":7814089,"body_markdown":"If your application is already using Spring framework, you have [Scheduling][1] built in \r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html","title":"How to schedule a periodic task in Java?","body":"<p>If your application is already using Spring framework, you have <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html\" rel=\"noreferrer\">Scheduling</a> built in </p>\n"},{"tags":[],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1469100491,"creation_date":1469100491,"answer_id":38503057,"question_id":7814089,"body_markdown":"I use Spring Framework&#39;s feature. (*spring-context* jar or maven dependency).\r\n\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.beans.factory.annotation.Qualifier;\r\n\timport org.springframework.scheduling.annotation.Scheduled;\r\n\timport org.springframework.stereotype.Component;\r\n\t\r\n\t\r\n\t@Component\r\n\tpublic class ScheduledTaskRunner {\r\n\t\r\n\t    @Autowired\r\n\t    @Qualifier(&quot;TempFilesCleanerExecution&quot;)\r\n\t    private ScheduledTask tempDataCleanerExecution;\r\n\t\r\n\t    @Scheduled(fixedDelay = TempFilesCleanerExecution.INTERVAL_TO_RUN_TMP_CLEAN_MS /* 1000 */)\r\n\t    public void performCleanTempData() {\r\n\t        tempDataCleanerExecution.execute();\r\n\t    }\r\n\t\r\n\t}\r\n\r\n***ScheduledTask*** is my own interface with my custom method ***execute***, which I call as my scheduled task.","title":"How to schedule a periodic task in Java?","body":"<p>I use Spring Framework's feature. (<em>spring-context</em> jar or maven dependency).</p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\n\n@Component\npublic class ScheduledTaskRunner {\n\n    @Autowired\n    @Qualifier(\"TempFilesCleanerExecution\")\n    private ScheduledTask tempDataCleanerExecution;\n\n    @Scheduled(fixedDelay = TempFilesCleanerExecution.INTERVAL_TO_RUN_TMP_CLEAN_MS /* 1000 */)\n    public void performCleanTempData() {\n        tempDataCleanerExecution.execute();\n    }\n\n}\n</code></pre>\n\n<p><strong><em>ScheduledTask</em></strong> is my own interface with my custom method <strong><em>execute</em></strong>, which I call as my scheduled task.</p>\n"},{"tags":[],"owner":{"account_id":11700102,"reputation":99,"user_id":8565513,"display_name":"Duchic"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1584095200,"creation_date":1528796533,"answer_id":50814013,"question_id":7814089,"body_markdown":"Do something every one second\r\n```java\r\nTimer timer = new Timer();\r\ntimer.schedule(new TimerTask() {\r\n    @Override\r\n    public void run() {\r\n        //code\r\n    }\r\n}, 0, 1000);\r\n```","title":"How to schedule a periodic task in Java?","body":"<p>Do something every one second</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Timer timer = new Timer();\ntimer.schedule(new TimerTask() {\n    @Override\n    public void run() {\n        //code\n    }\n}, 0, 1000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12929058,"reputation":505,"user_id":9348676,"display_name":"SumiSujith"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1546289842,"creation_date":1542800616,"answer_id":53411316,"question_id":7814089,"body_markdown":"These two classes can work together to schedule a periodic task:\r\n\r\nScheduled Task\r\n----\r\n    \r\n    import java.util.TimerTask;\r\n    import java.util.Date;\r\n\r\n    // Create a class extending TimerTask\r\n    public class ScheduledTask extends TimerTask {\r\n        Date now; \r\n        public void run() {\r\n            // Write code here that you want to execute periodically.\r\n            now = new Date();                      // initialize date\r\n            System.out.println(&quot;Time is :&quot; + now); // Display current time\r\n        }\r\n    }\r\n\r\nRun Scheduled Task\r\n----\r\n\r\n    import java.util.Timer;\r\n\r\n    public class SchedulerMain {\r\n        public static void main(String args[]) throws InterruptedException {\r\n            Timer time = new Timer();               // Instantiate Timer Object\r\n            ScheduledTask st = new ScheduledTask(); // Instantiate SheduledTask class\r\n            time.schedule(st, 0, 1000);             // Create task repeating every 1 sec\r\n            //for demo only.\r\n            for (int i = 0; i &lt;= 5; i++) {\r\n                System.out.println(&quot;Execution in Main Thread....&quot; + i);\r\n                Thread.sleep(2000);\r\n                if (i == 5) {\r\n                    System.out.println(&quot;Application Terminates&quot;);\r\n                    System.exit(0);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nReference https://www.mkyong.com/java/how-to-run-a-task-periodically-in-java/\r\n","title":"How to schedule a periodic task in Java?","body":"<p>These two classes can work together to schedule a periodic task:</p>\n\n<h2>Scheduled Task</h2>\n\n<pre><code>import java.util.TimerTask;\nimport java.util.Date;\n\n// Create a class extending TimerTask\npublic class ScheduledTask extends TimerTask {\n    Date now; \n    public void run() {\n        // Write code here that you want to execute periodically.\n        now = new Date();                      // initialize date\n        System.out.println(\"Time is :\" + now); // Display current time\n    }\n}\n</code></pre>\n\n<h2>Run Scheduled Task</h2>\n\n<pre><code>import java.util.Timer;\n\npublic class SchedulerMain {\n    public static void main(String args[]) throws InterruptedException {\n        Timer time = new Timer();               // Instantiate Timer Object\n        ScheduledTask st = new ScheduledTask(); // Instantiate SheduledTask class\n        time.schedule(st, 0, 1000);             // Create task repeating every 1 sec\n        //for demo only.\n        for (int i = 0; i &lt;= 5; i++) {\n            System.out.println(\"Execution in Main Thread....\" + i);\n            Thread.sleep(2000);\n            if (i == 5) {\n                System.out.println(\"Application Terminates\");\n                System.exit(0);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Reference <a href=\"https://www.mkyong.com/java/how-to-run-a-task-periodically-in-java/\" rel=\"noreferrer\">https://www.mkyong.com/java/how-to-run-a-task-periodically-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":2703025,"reputation":785,"user_id":2333311,"accept_rate":50,"display_name":"madhu_karnati"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1546008553,"creation_date":1546008553,"answer_id":53960319,"question_id":7814089,"body_markdown":"Have you tried **Spring Scheduler** using annotations ? \r\n\r\n    @Scheduled(cron = &quot;0 0 0/8 ? * * *&quot;)\r\n    public void scheduledMethodNoReturnValue(){\r\n        //body can be another method call which returns some value.\r\n    }\r\n\r\nyou can do this with xml as well. \r\n  \r\n\r\n     &lt;task:scheduled-tasks&gt;\r\n       &lt;task:scheduled ref = &quot;reference&quot; method = &quot;methodName&quot; cron = &quot;&lt;cron expression here&gt; -or- ${&lt;cron expression from property files&gt;}&quot;\r\n     &lt;task:scheduled-tasks&gt;\r\n\r\n\r\n","title":"How to schedule a periodic task in Java?","body":"<p>Have you tried <strong>Spring Scheduler</strong> using annotations ? </p>\n\n<pre><code>@Scheduled(cron = \"0 0 0/8 ? * * *\")\npublic void scheduledMethodNoReturnValue(){\n    //body can be another method call which returns some value.\n}\n</code></pre>\n\n<p>you can do this with xml as well. </p>\n\n<pre><code> &lt;task:scheduled-tasks&gt;\n   &lt;task:scheduled ref = \"reference\" method = \"methodName\" cron = \"&lt;cron expression here&gt; -or- ${&lt;cron expression from property files&gt;}\"\n &lt;task:scheduled-tasks&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17445568,"reputation":367,"user_id":12646702,"display_name":"gopal krishna mareti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584095166,"creation_date":1578478814,"answer_id":59643745,"question_id":7814089,"body_markdown":"my servlet contains this as a code how to keep this in scheduler if a user presses accept\r\n```java\r\nif(bt.equals(&quot;accept&quot;)) {\r\n    ScheduledExecutorService scheduler=Executors.newScheduledThreadPool(1);\r\n    String lat=request.getParameter(&quot;latlocation&quot;);\r\n    String lng=request.getParameter(&quot;lnglocation&quot;);\r\n    requestingclass.updatelocation(lat,lng);\r\n}\r\n```","title":"How to schedule a periodic task in Java?","body":"<p>my servlet contains this as a code how to keep this in scheduler if a user presses accept</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if(bt.equals(\"accept\")) {\n    ScheduledExecutorService scheduler=Executors.newScheduledThreadPool(1);\n    String lat=request.getParameter(\"latlocation\");\n    String lng=request.getParameter(\"lnglocation\");\n    requestingclass.updatelocation(lat,lng);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1748128,"reputation":3542,"user_id":1597841,"accept_rate":64,"display_name":"nAkhmedov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1617801357,"creation_date":1617801357,"answer_id":66986884,"question_id":7814089,"body_markdown":"There is a `ScheduledFuture` class in java.util.concurrent, it may helps you.","title":"How to schedule a periodic task in Java?","body":"<p>There is a <code>ScheduledFuture</code> class in java.util.concurrent, it may helps you.</p>\n"},{"tags":[],"owner":{"account_id":986840,"reputation":784,"user_id":1005124,"accept_rate":29,"display_name":"rdehuyss"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676288737,"creation_date":1676288737,"answer_id":75435445,"question_id":7814089,"body_markdown":"You can also use [JobRunr](https://www.jobrunr.io/en/), an easy to use and [open-source Java Scheduler](https://github.com/jobrunr/jobrunr).\r\n\r\nTo schedule a Job every 8 hours using JobRunr, you would use the following code:\r\n\r\n```java\r\nBackgroundJob.scheduleRecurrently(Duration.ofHours(8), () -&gt; yourService.methodToRunEvery8Hours());\r\n```\r\n\r\nIf you are using Spring Boot, Micronaut or Quarkus, you can also use the `@Recurring` annotation:\r\n\r\n```java\r\n\r\npublic class YourService {\r\n\r\n    @Recurring(interval=&quot;PT8H&quot;)\r\n    public void methodToRunEvery8Hours() {\r\n        // your business logic\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nJobRunr also comes with an embedded dashboard that allows you to follow-up on how your jobs are doing.\r\n","title":"How to schedule a periodic task in Java?","body":"<p>You can also use <a href=\"https://www.jobrunr.io/en/\" rel=\"noreferrer\">JobRunr</a>, an easy to use and <a href=\"https://github.com/jobrunr/jobrunr\" rel=\"noreferrer\">open-source Java Scheduler</a>.</p>\n<p>To schedule a Job every 8 hours using JobRunr, you would use the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BackgroundJob.scheduleRecurrently(Duration.ofHours(8), () -&gt; yourService.methodToRunEvery8Hours());\n</code></pre>\n<p>If you are using Spring Boot, Micronaut or Quarkus, you can also use the <code>@Recurring</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class YourService {\n\n    @Recurring(interval=&quot;PT8H&quot;)\n    public void methodToRunEvery8Hours() {\n        // your business logic\n    }\n\n}\n\n</code></pre>\n<p>JobRunr also comes with an embedded dashboard that allows you to follow-up on how your jobs are doing.</p>\n"}],"owner":{"account_id":137693,"reputation":14870,"user_id":342059,"accept_rate":71,"display_name":"Ariyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390431,"favorite_count":0,"down_vote_count":0,"up_vote_count":225,"accepted_answer_id":7814149,"answer_count":13,"score":225,"last_activity_date":1676288737,"creation_date":1318973931,"question_id":7814089,"body_markdown":"I need to schedule a task to run in at fixed interval of time. How can I do this with support of long intervals (for example on each 8 hours)?\r\n\r\nI&#39;m currently using `java.util.Timer.scheduleAtFixedRate`. Does `java.util.Timer.scheduleAtFixedRate` support long time intervals? ","title":"How to schedule a periodic task in Java?","body":"<p>I need to schedule a task to run in at fixed interval of time. How can I do this with support of long intervals (for example on each 8 hours)?</p>\n\n<p>I'm currently using <code>java.util.Timer.scheduleAtFixedRate</code>. Does <code>java.util.Timer.scheduleAtFixedRate</code> support long time intervals? </p>\n"},{"tags":["java","pdfbox","sign"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1674631363,"post_id":75230246,"comment_id":132753163,"body_markdown":"Please share an example PDF signed like that for analysis.","body":"Please share an example PDF signed like that for analysis."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1674638639,"post_id":75230246,"comment_id":132755107,"body_markdown":"@mkl shared PDF","body":"@mkl shared PDF"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1674639424,"post_id":75230246,"comment_id":132755363,"body_markdown":"Thanks, but can you please share the PDF *with the invalid signature* for analysis.","body":"Thanks, but can you please share the PDF <i>with the invalid signature</i> for analysis."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1674640386,"post_id":75230246,"comment_id":132755703,"body_markdown":"@mkl added signed PDF","body":"@mkl added signed PDF"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1675021969,"post_id":75230246,"comment_id":132834079,"body_markdown":"Rajath, concerning my analysis of your files (see my answer below), have you found what caused the zeroing out of the two 4KB regions in your file?","body":"Rajath, concerning my analysis of your files (see my answer below), have you found what caused the zeroing out of the two 4KB regions in your file?"},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1675058416,"post_id":75230246,"comment_id":132838866,"body_markdown":"Thanks for taking time on the analysis. I am not sure whats causing it.\nI just signed another document without Signature fields(but with other form fields like radio, dropdown, input box etc) in PDF with same code. that signature looks good.\nhttps://drive.google.com/file/d/1M0jqg5UQIcFiFkyU1jpHFDjd1BaCFtPh/view?usp=share_link","body":"Thanks for taking time on the analysis. I am not sure whats causing it. I just signed another document without Signature fields(but with other form fields like radio, dropdown, input box etc) in PDF with same code. that signature looks good. <a href=\"https://drive.google.com/file/d/1M0jqg5UQIcFiFkyU1jpHFDjd1BaCFtPh/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1M0jqg5UQIcFiFkyU1jpHFDjd1BaCFtPh/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1675071748,"post_id":75230246,"comment_id":132841922,"body_markdown":"*&quot;I just signed another document ...  that signature looks good.&quot;* - It does but that document is much much smaller than the earlier one. It&#39;s just 0xad5d bytes long while the first zeroed gap in your problem PDF starts at offset 0x2c000. You may want to test with larger files.","body":"<i>&quot;I just signed another document ...  that signature looks good.&quot;</i> - It does but that document is much much smaller than the earlier one. It&#39;s just 0xad5d bytes long while the first zeroed gap in your problem PDF starts at offset 0x2c000. You may want to test with larger files."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1675072038,"post_id":75230246,"comment_id":132842018,"body_markdown":"Furthermore, I see that your *Embedding signature code* not only embeds the signature but also has a `try` block in which a method `makeLtv` may be called and always an incremental update is stored. As you don&#39;t show the code of `makeLtv`, we cannot tell whether that code may do the damage...","body":"Furthermore, I see that your <i>Embedding signature code</i> not only embeds the signature but also has a <code>try</code> block in which a method <code>makeLtv</code> may be called and always an incremental update is stored. As you don&#39;t show the code of <code>makeLtv</code>, we cannot tell whether that code may do the damage..."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1675144955,"post_id":75230246,"comment_id":132860190,"body_markdown":"Thanks for pointing out &#39;makeLtv&#39; might be causing the problem.\nI tried signing without making PDF LTV and it worked.\n&#39;makeLtv&#39; is method used to add revocation info(OCSPs &amp; CRLs) to PDF to make it LTV enabled.\nAre you seeing anything which might be going in makeLtv code? below link has &#39;makeLtv&#39; related code\nhttps://drive.google.com/file/d/1smDvOhyDreM9ffaCyjNt_SqOHqFdXLj3/view?usp=share_link","body":"Thanks for pointing out &#39;makeLtv&#39; might be causing the problem. I tried signing without making PDF LTV and it worked. &#39;makeLtv&#39; is method used to add revocation info(OCSPs &amp; CRLs) to PDF to make it LTV enabled. Are you seeing anything which might be going in makeLtv code? below link has &#39;makeLtv&#39; related code <a href=\"https://drive.google.com/file/d/1smDvOhyDreM9ffaCyjNt_SqOHqFdXLj3/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1smDvOhyDreM9ffaCyjNt_SqOHqFdXLj3/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1675150645,"post_id":75230246,"comment_id":132861212,"body_markdown":"I don&#39;t see anything in the shared code that may cause the zeroed gaps in the error outputs. BUT a possible problem is that in the `try` structure enclosing your `makeLtv` call, you use the same file to load the document from (`PDDocument doc = PDDocument.load(file)`) and to write the result to (`FileOutputStream fos = new FileOutputStream(file)`). Try to use different files there. During `doc.saveIncremental(fos)` PDFBox attempts to access the file `doc` was loaded from but in your structure creating `fos` already truncated that file. Also don&#39;t create that unneeded `FileInputStream fis`.","body":"I don&#39;t see anything in the shared code that may cause the zeroed gaps in the error outputs. BUT a possible problem is that in the <code>try</code> structure enclosing your <code>makeLtv</code> call, you use the same file to load the document from (<code>PDDocument doc = PDDocument.load(file)</code>) and to write the result to (<code>FileOutputStream fos = new FileOutputStream(file)</code>). Try to use different files there. During <code>doc.saveIncremental(fos)</code> PDFBox attempts to access the file <code>doc</code> was loaded from but in your structure creating <code>fos</code> already truncated that file. Also don&#39;t create that unneeded <code>FileInputStream fis</code>."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":1,"creation_date":1675318551,"post_id":75230246,"comment_id":132904007,"body_markdown":"Thanks @mkl. I was searching for solution in wrong place while it was issue with the way streams were used to read and write file data.\nSignature is valid now. Thanks.","body":"Thanks @mkl. I was searching for solution in wrong place while it was issue with the way streams were used to read and write file data. Signature is valid now. Thanks."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1675328230,"post_id":75230246,"comment_id":132906195,"body_markdown":"@RajathRJoshi consider adding your own answer that explains the mistake you made, so that it can help others.","body":"@RajathRJoshi consider adding your own answer that explains the mistake you made, so that it can help others."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674685247,"creation_date":1674685247,"answer_id":75240457,"question_id":75230246,"body_markdown":"Something indeed damaged your file, and it&#39;s apparently not the code you show.\r\n\r\nComparing your signed file &quot;Formulier DSS-01 - DC+QV Onboarding Checklist-signed.pdf&quot; with your original &quot;Formulier DSS-01 - DC+QV Onboarding Checklist.pdf&quot;, one sees that the former is not simply the latter with incremental updates as one would expect but that some regions in that file part have been overwritten with zeros.\r\n\r\nThe regions in question are from 0x2c000-0x2cfff and 0x40000-0x40fff.\r\n\r\nAfter fixing this issue by copying the contents from those regions of the original file into the signed file, Adobe Acrobat validates the signature positively.\r\n\r\nSo you should try and find out what zeroed those two 4KB regions in your file.","title":"Adding new signature by reatining existing unsigned signature fields using PDFBox","body":"<p>Something indeed damaged your file, and it's apparently not the code you show.</p>\n<p>Comparing your signed file &quot;Formulier DSS-01 - DC+QV Onboarding Checklist-signed.pdf&quot; with your original &quot;Formulier DSS-01 - DC+QV Onboarding Checklist.pdf&quot;, one sees that the former is not simply the latter with incremental updates as one would expect but that some regions in that file part have been overwritten with zeros.</p>\n<p>The regions in question are from 0x2c000-0x2cfff and 0x40000-0x40fff.</p>\n<p>After fixing this issue by copying the contents from those regions of the original file into the signed file, Adobe Acrobat validates the signature positively.</p>\n<p>So you should try and find out what zeroed those two 4KB regions in your file.</p>\n"},{"tags":[],"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676288647,"creation_date":1675660667,"answer_id":75357559,"question_id":75230246,"body_markdown":"I was looking for mistake in code for generating hash of the document.\r\nBut the issue actually was with the way file streams were used to write CMSSignedData and adding DSS dictionary for making signing PDF LTV.\r\n\r\nUsing same File for loading and writing was causing some parts of file getting overwritten by zeros.\r\n\r\nBelow piece of code for embedding external signature solved my issue.\r\n\r\n&lt;!-- begin snippet: java hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Blob docBlob = documentSignatureStructure.getReadyDocument();                      \r\n    byte[] originalDocumentByte = docBlob.getBytes(1L, (int) docBlob.length());        \r\n    File signedFile = new File(getTempFolderPath(), getTempFileName(&quot;signed_&quot;));       \r\n    try (FileOutputStream fos = new FileOutputStream(signedFile)) {                    \r\n        fos.write(originalDocumentByte);                                               \r\n    }                                                                                  \r\n    try (RandomAccessFile raf = new RandomAccessFile(signedFile, &quot;rw&quot;)) {              \r\n        raf.seek(documentSignatureStructure.getOffset());                              \r\n        raf.write(Hex.getBytes(Base64.decode(encodedSignature)));                      \r\n    }                                                                                  \r\n                                                                                       \r\n    File signedLtvFile = new File(getTempFolderPath(), getTempFileName(&quot;signedLtv_&quot;)); \r\n    try (PDDocument doc = PDDocument.load(signedFile);                                 \r\n         FileOutputStream fos = new FileOutputStream(signedLtvFile)) {                 \r\n        if (createDss) {                                                               \r\n            log.info(&quot;Adding revocation information to DSS dictionary of PDF&quot;);        \r\n            makeLtv(doc, revocationData);                                              \r\n            doc.saveIncremental(fos);                                                  \r\n        }                                                                              \r\n    }                                                                                  \r\n                                                                                       \r\n    Blob signedAndLtvBlob;                                                             \r\n    try (FileInputStream fis = new FileInputStream(signedLtvFile)) {                   \r\n        signedAndLtvBlob = new javax.sql.rowset.serial.SerialBlob(fis.readAllBytes()); \r\n    }                                                                                  \r\n                                                                                       \r\n    Files.delete(signedFile.toPath());                                                 \r\n    log.debug(&quot;temp signed file {} deleted successfully&quot;, signedFile.getName());       \r\n    Files.delete(signedLtvFile.toPath());                                              \r\n    log.debug(&quot;temp ltv signed file {} deleted successfully&quot;, signedLtvFile.getName());\r\n    return signedAndLtvBlob;                                                           \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Adding new signature by reatining existing unsigned signature fields using PDFBox","body":"<p>I was looking for mistake in code for generating hash of the document.\nBut the issue actually was with the way file streams were used to write CMSSignedData and adding DSS dictionary for making signing PDF LTV.</p>\n<p>Using same File for loading and writing was causing some parts of file getting overwritten by zeros.</p>\n<p>Below piece of code for embedding external signature solved my issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Blob docBlob = documentSignatureStructure.getReadyDocument();                      \nbyte[] originalDocumentByte = docBlob.getBytes(1L, (int) docBlob.length());        \nFile signedFile = new File(getTempFolderPath(), getTempFileName(&quot;signed_&quot;));       \ntry (FileOutputStream fos = new FileOutputStream(signedFile)) {                    \n    fos.write(originalDocumentByte);                                               \n}                                                                                  \ntry (RandomAccessFile raf = new RandomAccessFile(signedFile, &quot;rw&quot;)) {              \n    raf.seek(documentSignatureStructure.getOffset());                              \n    raf.write(Hex.getBytes(Base64.decode(encodedSignature)));                      \n}                                                                                  \n                                                                                   \nFile signedLtvFile = new File(getTempFolderPath(), getTempFileName(&quot;signedLtv_&quot;)); \ntry (PDDocument doc = PDDocument.load(signedFile);                                 \n     FileOutputStream fos = new FileOutputStream(signedLtvFile)) {                 \n    if (createDss) {                                                               \n        log.info(&quot;Adding revocation information to DSS dictionary of PDF&quot;);        \n        makeLtv(doc, revocationData);                                              \n        doc.saveIncremental(fos);                                                  \n    }                                                                              \n}                                                                                  \n                                                                                   \nBlob signedAndLtvBlob;                                                             \ntry (FileInputStream fis = new FileInputStream(signedLtvFile)) {                   \n    signedAndLtvBlob = new javax.sql.rowset.serial.SerialBlob(fis.readAllBytes()); \n}                                                                                  \n                                                                                   \nFiles.delete(signedFile.toPath());                                                 \nlog.debug(&quot;temp signed file {} deleted successfully&quot;, signedFile.getName());       \nFiles.delete(signedLtvFile.toPath());                                              \nlog.debug(&quot;temp ltv signed file {} deleted successfully&quot;, signedLtvFile.getName());\nreturn signedAndLtvBlob;                                                           \n</code></pre>\n"}],"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676288647,"creation_date":1674627009,"question_id":75230246,"body_markdown":"I want to sign PDF which has signature fields in it already. I need to add new signature field retaining existing unsigned signature fields. After signing such PDFs, I see that  new signature field added by code is always invalid.  Says &#39;document has been altered&#39;.\r\n\r\nBelow code being used to compute hash of the document:\r\n\r\n```\r\nprivate DocumentSignatureStructure createSignatureStructureAndComputeHash(byte[] inputFile, File tempFile,\r\n                                                                              SignatureProperties sigProperties)\r\n            throws IOException, NoSuchAlgorithmException {\r\n\r\n        try (FileOutputStream fos = new FileOutputStream(tempFile);\r\n             PDDocument doc = PDDocument.load(inputFile);\r\n             SignatureOptions signatureOptions = new SignatureOptions();) {\r\n\r\n            signatureOptions.setPreferredSignatureSize(SignatureOptions.DEFAULT_SIGNATURE_SIZE * 2);\r\n            signatureOptions.setPage(sigProperties.getPage() - 1);\r\n            if (sigProperties.isVisibleSignature()) {\r\n                PDRectangle rect = createSignatureRectangle(doc, sigProperties);\r\n                signatureOptions.setVisualSignature(createVisualSignatureTemplate(doc, rect, sigProperties));\r\n            }\r\n\r\n\r\n            PDSignature signature = new PDSignature();\r\n            signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n            signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\r\n            signature.setSignDate(Calendar.getInstance());\r\n            doc.addSignature(signature, signatureOptions);\r\n            ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);\r\n\r\n            MessageDigest digest = MessageDigest.getInstance(sigProperties.getHashAlgorithm().getAlgoName());\r\n            byte[] hashBytes = digest.digest(IOUtils.toByteArray(externalSigning.getContent()));\r\n            String base64Hash = Base64.toBase64String(hashBytes);\r\n            externalSigning.setSignature(new byte[0]);\r\n            int offset = signature.getByteRange()[1] + 1;\r\n            IOUtils.closeQuietly(signatureOptions);\r\n            return DocumentSignatureStructure.builder().offset(offset)\r\n                    .hashValue(base64Hash)\r\n                    .build();\r\n        }\r\n    }\r\n```\r\n\r\nEmbedding signature code:\r\n\r\n```\r\nbyte[] originalDocumentByte = docBlob.getBytes(1L, (int) docBlob.length());\r\n            File file = new File(getTempFolderPath(), getTempFileName(&quot;signed&quot;));\r\n            try (FileOutputStream fos = new FileOutputStream(file);) {\r\n                fos.write(originalDocumentByte);\r\n            }\r\n            try (RandomAccessFile raf = new RandomAccessFile(file, &quot;rw&quot;)) {\r\n                raf.seek(documentSignatureStructure.getOffset());\r\n                raf.write(Hex.getBytes(Base64.decode(encodedSignature)));\r\n            }\r\n            Blob signedAndLtvBlob;\r\n            try (PDDocument doc = PDDocument.load(file);\r\n                 FileOutputStream fos = new FileOutputStream(file);\r\n                 FileInputStream fis = new FileInputStream(file)) {\r\n                if (createDss) {\r\n                    log.info(&quot;Adding revocation information to DSS dictionary of PDF&quot;);\r\n                    makeLtv(doc, revocationData);\r\n                }\r\n                doc.saveIncremental(fos);\r\n            }\r\n```\r\n\r\nIt did not work with above code.\r\n\r\nGoogled up and saw few solutions where COSObject &#39;NeedToBeUpdated&#39; flag needs to be set to true.\r\nAdded below code block before adding new signature fields in above code.\r\n\r\n```\r\n//..\r\nif (sigProperties.isVisibleSignature()) {\r\n                PDRectangle rect = createSignatureRectangle(doc, sigProperties);\r\n                signatureOptions.setVisualSignature(createVisualSignatureTemplate(doc, rect, sigProperties));\r\n            }\r\n\r\n            PDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm();\r\n            COSDictionary catalogDictionary = doc.getDocumentCatalog().getCOSObject();\r\n            catalogDictionary.setNeedToBeUpdated(true);\r\n            COSDictionary acroFormDictionary = (COSDictionary) catalogDictionary.getDictionaryObject(COSName.ACRO_FORM);\r\n            acroFormDictionary.setNeedToBeUpdated(true);\r\n            COSArray array = (COSArray) acroFormDictionary.getDictionaryObject(COSName.FIELDS);\r\n            array.setNeedToBeUpdated(true);\r\n            for (PDField field : acroForm.getFieldTree()) {\r\n                if (field instanceof PDSignatureField) {\r\n                    COSDictionary fieldDictionary = field.getCOSObject();\r\n                    COSDictionary dictionary = (COSDictionary) fieldDictionary.getDictionaryObject(COSName.AP);\r\n                    dictionary.setNeedToBeUpdated(true);\r\n                    COSStream stream = (COSStream) dictionary.getDictionaryObject(COSName.N);\r\n                    stream.setNeedToBeUpdated(true);\r\n                    while (fieldDictionary != null)\r\n                    {\r\n                        fieldDictionary.setNeedToBeUpdated(true);\r\n                        fieldDictionary = (COSDictionary) fieldDictionary.getDictionaryObject(COSName.PARENT);\r\n                    }\r\n                }\r\n            }\r\n            \r\n            PDSignature signature = new PDSignature();\r\n            signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n            signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\r\n//..\r\n```\r\nEven this did not work.\r\n\r\n\r\nResulting PDF shows signature is invalid:\r\n[![enter image description here][1]][1]\r\n\r\nPDF used for signing with signature fields:\r\n[![enter image description here][2]][2]\r\n\r\nWhats the piece I am missing here?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OzJ4H.png\r\n  [2]: https://i.stack.imgur.com/BHRqq.png\r\n\r\nPDF file : https://drive.google.com/file/d/1-vu9_WIfFo198v6AxoBMxCuyX1rE2FOS/view?usp=share_link\r\n\r\nSigned PDF (invalid): https://drive.google.com/file/d/1DD0aKVkonH9a_CfGrj9mACe6DBt4Ijsj/view?usp=share_link","title":"Adding new signature by reatining existing unsigned signature fields using PDFBox","body":"<p>I want to sign PDF which has signature fields in it already. I need to add new signature field retaining existing unsigned signature fields. After signing such PDFs, I see that  new signature field added by code is always invalid.  Says 'document has been altered'.</p>\n<p>Below code being used to compute hash of the document:</p>\n<pre><code>private DocumentSignatureStructure createSignatureStructureAndComputeHash(byte[] inputFile, File tempFile,\n                                                                              SignatureProperties sigProperties)\n            throws IOException, NoSuchAlgorithmException {\n\n        try (FileOutputStream fos = new FileOutputStream(tempFile);\n             PDDocument doc = PDDocument.load(inputFile);\n             SignatureOptions signatureOptions = new SignatureOptions();) {\n\n            signatureOptions.setPreferredSignatureSize(SignatureOptions.DEFAULT_SIGNATURE_SIZE * 2);\n            signatureOptions.setPage(sigProperties.getPage() - 1);\n            if (sigProperties.isVisibleSignature()) {\n                PDRectangle rect = createSignatureRectangle(doc, sigProperties);\n                signatureOptions.setVisualSignature(createVisualSignatureTemplate(doc, rect, sigProperties));\n            }\n\n\n            PDSignature signature = new PDSignature();\n            signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n            signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n            signature.setSignDate(Calendar.getInstance());\n            doc.addSignature(signature, signatureOptions);\n            ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);\n\n            MessageDigest digest = MessageDigest.getInstance(sigProperties.getHashAlgorithm().getAlgoName());\n            byte[] hashBytes = digest.digest(IOUtils.toByteArray(externalSigning.getContent()));\n            String base64Hash = Base64.toBase64String(hashBytes);\n            externalSigning.setSignature(new byte[0]);\n            int offset = signature.getByteRange()[1] + 1;\n            IOUtils.closeQuietly(signatureOptions);\n            return DocumentSignatureStructure.builder().offset(offset)\n                    .hashValue(base64Hash)\n                    .build();\n        }\n    }\n</code></pre>\n<p>Embedding signature code:</p>\n<pre><code>byte[] originalDocumentByte = docBlob.getBytes(1L, (int) docBlob.length());\n            File file = new File(getTempFolderPath(), getTempFileName(&quot;signed&quot;));\n            try (FileOutputStream fos = new FileOutputStream(file);) {\n                fos.write(originalDocumentByte);\n            }\n            try (RandomAccessFile raf = new RandomAccessFile(file, &quot;rw&quot;)) {\n                raf.seek(documentSignatureStructure.getOffset());\n                raf.write(Hex.getBytes(Base64.decode(encodedSignature)));\n            }\n            Blob signedAndLtvBlob;\n            try (PDDocument doc = PDDocument.load(file);\n                 FileOutputStream fos = new FileOutputStream(file);\n                 FileInputStream fis = new FileInputStream(file)) {\n                if (createDss) {\n                    log.info(&quot;Adding revocation information to DSS dictionary of PDF&quot;);\n                    makeLtv(doc, revocationData);\n                }\n                doc.saveIncremental(fos);\n            }\n</code></pre>\n<p>It did not work with above code.</p>\n<p>Googled up and saw few solutions where COSObject 'NeedToBeUpdated' flag needs to be set to true.\nAdded below code block before adding new signature fields in above code.</p>\n<pre><code>//..\nif (sigProperties.isVisibleSignature()) {\n                PDRectangle rect = createSignatureRectangle(doc, sigProperties);\n                signatureOptions.setVisualSignature(createVisualSignatureTemplate(doc, rect, sigProperties));\n            }\n\n            PDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm();\n            COSDictionary catalogDictionary = doc.getDocumentCatalog().getCOSObject();\n            catalogDictionary.setNeedToBeUpdated(true);\n            COSDictionary acroFormDictionary = (COSDictionary) catalogDictionary.getDictionaryObject(COSName.ACRO_FORM);\n            acroFormDictionary.setNeedToBeUpdated(true);\n            COSArray array = (COSArray) acroFormDictionary.getDictionaryObject(COSName.FIELDS);\n            array.setNeedToBeUpdated(true);\n            for (PDField field : acroForm.getFieldTree()) {\n                if (field instanceof PDSignatureField) {\n                    COSDictionary fieldDictionary = field.getCOSObject();\n                    COSDictionary dictionary = (COSDictionary) fieldDictionary.getDictionaryObject(COSName.AP);\n                    dictionary.setNeedToBeUpdated(true);\n                    COSStream stream = (COSStream) dictionary.getDictionaryObject(COSName.N);\n                    stream.setNeedToBeUpdated(true);\n                    while (fieldDictionary != null)\n                    {\n                        fieldDictionary.setNeedToBeUpdated(true);\n                        fieldDictionary = (COSDictionary) fieldDictionary.getDictionaryObject(COSName.PARENT);\n                    }\n                }\n            }\n            \n            PDSignature signature = new PDSignature();\n            signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n            signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n//..\n</code></pre>\n<p>Even this did not work.</p>\n<p>Resulting PDF shows signature is invalid:\n<a href=\"https://i.stack.imgur.com/OzJ4H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OzJ4H.png\" alt=\"enter image description here\" /></a></p>\n<p>PDF used for signing with signature fields:\n<a href=\"https://i.stack.imgur.com/BHRqq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BHRqq.png\" alt=\"enter image description here\" /></a></p>\n<p>Whats the piece I am missing here?</p>\n<p>PDF file : <a href=\"https://drive.google.com/file/d/1-vu9_WIfFo198v6AxoBMxCuyX1rE2FOS/view?usp=share_link\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1-vu9_WIfFo198v6AxoBMxCuyX1rE2FOS/view?usp=share_link</a></p>\n<p>Signed PDF (invalid): <a href=\"https://drive.google.com/file/d/1DD0aKVkonH9a_CfGrj9mACe6DBt4Ijsj/view?usp=share_link\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1DD0aKVkonH9a_CfGrj9mACe6DBt4Ijsj/view?usp=share_link</a></p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676288413,"creation_date":1676288413,"answer_id":75435382,"question_id":75435308,"body_markdown":"Using the `@Query` annotation you can define the query directly:\r\n\r\n    @Query(&quot;SELECT se FROM SystemEntity se WHERE (se.name = :name AND se.flag = true) OR (. . .) OR (. . .)&quot;)\r\n    Page&lt;SystemEntity&gt; findSystemEntities(String name, String family ,String email, Pageable pageable);","title":"Multiple &quot;And/Or&quot; Condition Expressions spring data jpa","body":"<p>Using the <code>@Query</code> annotation you can define the query directly:</p>\n<pre><code>@Query(&quot;SELECT se FROM SystemEntity se WHERE (se.name = :name AND se.flag = true) OR (. . .) OR (. . .)&quot;)\nPage&lt;SystemEntity&gt; findSystemEntities(String name, String family ,String email, Pageable pageable);\n</code></pre>\n"}],"owner":{"account_id":11450501,"reputation":311,"user_id":8423371,"display_name":"SM. Hosseini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":695,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1676293426,"answer_count":1,"score":1,"last_activity_date":1676288413,"creation_date":1676287978,"question_id":75435308,"body_markdown":"I want to have a filter query using spring data JPA.\r\ncondition is something like this:\r\n\r\n*(A or B or C) and D*\r\n\r\nwhen I want to use Spring Data JPA I should change it to be like below (The precedence order is And then Or, just like Java.):\r\n\r\n*(A and D) or (B and D) or (C and D)*\r\n\r\nthe code in the Spring Repository class is:\r\n\r\n    Page&lt;SystemEntity&gt;&#160;&#160;findByNameContainsAndFlagIsFalseOrFamilyContainsAndFlagIsFalseOrEmailContainsAndFlagIsFalse(String name, String family&#160;,String email,&#160;Pageable pageable); \r\n\r\nyou can see that the **D** condition at the above line &quot;**AndFlagIsFalse**&quot; is repeated 3 times.\r\n\r\nis there any way to implement using a shorter format like &quot;(A or B or C) and D&quot;?","title":"Multiple &quot;And/Or&quot; Condition Expressions spring data jpa","body":"<p>I want to have a filter query using spring data JPA.\ncondition is something like this:</p>\n<p><em>(A or B or C) and D</em></p>\n<p>when I want to use Spring Data JPA I should change it to be like below (The precedence order is And then Or, just like Java.):</p>\n<p><em>(A and D) or (B and D) or (C and D)</em></p>\n<p>the code in the Spring Repository class is:</p>\n<pre><code>Page&lt;SystemEntity&gt;  findByNameContainsAndFlagIsFalseOrFamilyContainsAndFlagIsFalseOrEmailContainsAndFlagIsFalse(String name, String family ,String email, Pageable pageable); \n</code></pre>\n<p>you can see that the <strong>D</strong> condition at the above line &quot;<strong>AndFlagIsFalse</strong>&quot; is repeated 3 times.</p>\n<p>is there any way to implement using a shorter format like &quot;(A or B or C) and D&quot;?</p>\n"},{"tags":["java","okhttp","mockwebserver"],"answers":[{"tags":[],"owner":{"account_id":3037164,"reputation":1912,"user_id":2574965,"display_name":"Pukhraj soni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676287503,"creation_date":1676287503,"answer_id":75435224,"question_id":75434177,"body_markdown":"Resolved the issue by adding additional config to my yml for httpconfiguration. The issue was that I was not passing a config **clientId** for HttpConfiguration due to which, for every test case execution a new metric was getting created for the http clients.","title":"java.lang.IllegalArgumentException: A metric named okhttp3.OkHttpClient.connection-pool-total-count already exists","body":"<p>Resolved the issue by adding additional config to my yml for httpconfiguration. The issue was that I was not passing a config <strong>clientId</strong> for HttpConfiguration due to which, for every test case execution a new metric was getting created for the http clients.</p>\n"}],"owner":{"account_id":3037164,"reputation":1912,"user_id":2574965,"display_name":"Pukhraj soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676287769,"creation_date":1676281189,"question_id":75434177,"body_markdown":"I have upgrade HttpExecutor to v2 version recently. Now start facing duplicate metric issue while running test cases.\r\n\r\n    Caused by: java.lang.IllegalArgumentException: A metric named okhttp3.OkHttpClient.connection-pool-total-count already exists\r\n    [ERROR] com.main.testSuccessMetadataStore  Time elapsed: 0.088 s  &lt;&lt;&lt; ERROR!\r\n    com.google.inject.ProvisionException: \r\n    Unable to provision, see the following errors:\r\n    1) [Guice/ErrorInjectingConstructor]: IllegalArgumentException: A metric named okhttp3.OkHttpClient.connection-pool-total-count already exists","title":"java.lang.IllegalArgumentException: A metric named okhttp3.OkHttpClient.connection-pool-total-count already exists","body":"<p>I have upgrade HttpExecutor to v2 version recently. Now start facing duplicate metric issue while running test cases.</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: A metric named okhttp3.OkHttpClient.connection-pool-total-count already exists\n[ERROR] com.main.testSuccessMetadataStore  Time elapsed: 0.088 s  &lt;&lt;&lt; ERROR!\ncom.google.inject.ProvisionException: \nUnable to provision, see the following errors:\n1) [Guice/ErrorInjectingConstructor]: IllegalArgumentException: A metric named okhttp3.OkHttpClient.connection-pool-total-count already exists\n</code></pre>\n"},{"tags":["java","maven","jboss-web"],"answers":[{"tags":[],"owner":{"account_id":1136625,"reputation":3087,"user_id":1121571,"accept_rate":61,"display_name":"Aure77"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676286814,"creation_date":1676286814,"answer_id":75435091,"question_id":75397615,"body_markdown":"Try with JBoss repository:\r\n\r\n    &lt;repositories&gt;\r\n        ...\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jboss-releases&lt;/id&gt;\r\n            &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/releases/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;","title":"Maven clean install jbossweb dependency unauthorized","body":"<p>Try with JBoss repository:</p>\n<pre><code>&lt;repositories&gt;\n    ...\n    &lt;repository&gt;\n        &lt;id&gt;jboss-releases&lt;/id&gt;\n        &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/releases/&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n"}],"owner":{"account_id":2551381,"reputation":466,"user_id":2215065,"accept_rate":62,"display_name":"anais1477"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75435091,"answer_count":1,"score":0,"last_activity_date":1676286814,"creation_date":1675940271,"question_id":75397615,"body_markdown":"On my project, i try to install it for the first time. But when i launch clean install, it can&#39;t download the dependency &quot;jbossweb&quot; because of unauthorized. \r\n\r\nOn mvnrepository( https://mvnrepository.com/artifact/org.jboss.web/jbossweb/7.4.10.Final) , it says this artifact is located at Spring Plugins repository (https://repo.spring.io/plugins-release/).\r\n\r\nThat is what I have in my pom.xml : \r\n\r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;securecentral&lt;/id&gt;\r\n                &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring&lt;/id&gt;\r\n                &lt;url&gt;https://repo.spring.io/plugins-release/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n\r\nAnd it define this dependency like this : \r\n\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.jboss.web&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jbossweb&lt;/artifactId&gt;\r\n                    &lt;version&gt;7.4.10.Final&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n\r\nThe error when I launch clean install : \r\n\r\n&gt; [ERROR] Failed to execute goal on project Pilotage_WS: Could not\r\n&gt; resolve dependencies for project bpce:Pilotage_WS:war:1.0-SNAPSHOT:\r\n&gt; Failed to collect dependencies at\r\n&gt; org.jboss.web:jbossweb:jar:7.4.10.Final: Failed to read artifact\r\n&gt; descriptor for org.jboss.web:jbossweb:jar:7.4.10.Final: Could not\r\n&gt; transfer artifact org.jboss.web:jbossweb:pom:7.4.10.Final from/to\r\n&gt; spring (https://repo.spring.io/plugins-release/): authentication\r\n&gt; failed for\r\n&gt; https://repo.spring.io/plugins-release/org/jboss/web/jbossweb/7.4.10.Final/jbossweb-7.4.10.Final.pom,\r\n&gt; status: 401 Unauthorized -&gt; [Help 1]\r\n\r\n\r\nI don&#39;t understand, we need authentication ? If yes i couldn&#39;t find any information about this. \r\nMoreover, when I go on https://repo.spring.io/plugins-release/, it redirects to https://repo.spring.io/ui/native/plugins-release/, but i cannot find the dependency here anyway. \r\n\r\nAny idea ? ","title":"Maven clean install jbossweb dependency unauthorized","body":"<p>On my project, i try to install it for the first time. But when i launch clean install, it can't download the dependency &quot;jbossweb&quot; because of unauthorized.</p>\n<p>On mvnrepository( <a href=\"https://mvnrepository.com/artifact/org.jboss.web/jbossweb/7.4.10.Final\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.jboss.web/jbossweb/7.4.10.Final</a>) , it says this artifact is located at Spring Plugins repository (<a href=\"https://repo.spring.io/plugins-release/\" rel=\"nofollow noreferrer\">https://repo.spring.io/plugins-release/</a>).</p>\n<p>That is what I have in my pom.xml :</p>\n<pre><code>    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;securecentral&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring&lt;/id&gt;\n            &lt;url&gt;https://repo.spring.io/plugins-release/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n</code></pre>\n<p>And it define this dependency like this :</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;org.jboss.web&lt;/groupId&gt;\n                &lt;artifactId&gt;jbossweb&lt;/artifactId&gt;\n                &lt;version&gt;7.4.10.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>The error when I launch clean install :</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal on project Pilotage_WS: Could not\nresolve dependencies for project bpce:Pilotage_WS:war:1.0-SNAPSHOT:\nFailed to collect dependencies at\norg.jboss.web:jbossweb:jar:7.4.10.Final: Failed to read artifact\ndescriptor for org.jboss.web:jbossweb:jar:7.4.10.Final: Could not\ntransfer artifact org.jboss.web:jbossweb:pom:7.4.10.Final from/to\nspring (<a href=\"https://repo.spring.io/plugins-release/\" rel=\"nofollow noreferrer\">https://repo.spring.io/plugins-release/</a>): authentication\nfailed for\n<a href=\"https://repo.spring.io/plugins-release/org/jboss/web/jbossweb/7.4.10.Final/jbossweb-7.4.10.Final.pom\" rel=\"nofollow noreferrer\">https://repo.spring.io/plugins-release/org/jboss/web/jbossweb/7.4.10.Final/jbossweb-7.4.10.Final.pom</a>,\nstatus: 401 Unauthorized -&gt; [Help 1]</p>\n</blockquote>\n<p>I don't understand, we need authentication ? If yes i couldn't find any information about this.\nMoreover, when I go on <a href=\"https://repo.spring.io/plugins-release/\" rel=\"nofollow noreferrer\">https://repo.spring.io/plugins-release/</a>, it redirects to <a href=\"https://repo.spring.io/ui/native/plugins-release/\" rel=\"nofollow noreferrer\">https://repo.spring.io/ui/native/plugins-release/</a>, but i cannot find the dependency here anyway.</p>\n<p>Any idea ?</p>\n"},{"tags":["java","border","tiles","openjfx"],"owner":{"account_id":4168155,"reputation":2397,"user_id":3416648,"accept_rate":83,"display_name":"DDS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676286749,"creation_date":1676286044,"question_id":75434971,"body_markdown":"I&#39;m facing this problem usin tilesfx:\r\nI&#39;m trying to reduce the distance between the tiles &quot;frame&quot; (the area of background visible between my node and the &quot;border&quot;) and the inner object that is a JavaFX node with my content\r\n\r\n    var n = MyNode(&quot;This is my node content&quot;);\r\n    n.setW(412);\r\n    n.setH(610);\r\n    n.setTitle(&quot;Node Title&quot;);\r\n\tTile tile = \r\n    TileBuilder.create()\r\n               .skinType(SkinType.CUSTOM)\r\n               .prefSize(n.getW(), n.getH())\r\n\t\t\t   .textVisible(false).graphic(n).value(0)\r\n    //         .borderColor(Color.BLUE).borderWidth(3)\r\n               .title(n.getTitle())\r\n               .titleAlignment(TextAlignment.CENTER)\r\n               .animated(true)\r\n               .build();\r\nHere is a picture of the value I&#39;d like to shrink\r\n\r\n[![picture][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vJL8J.png\r\n\r\nNote, I also tried setting insets with `tile.setPadding(new Insets(1.0,1.0,1.0,1.0));` but still no effect","title":"tilesfx - can&#39;t reduce frame","body":"<p>I'm facing this problem usin tilesfx:\nI'm trying to reduce the distance between the tiles &quot;frame&quot; (the area of background visible between my node and the &quot;border&quot;) and the inner object that is a JavaFX node with my content</p>\n<pre><code>var n = MyNode(&quot;This is my node content&quot;);\nn.setW(412);\nn.setH(610);\nn.setTitle(&quot;Node Title&quot;);\nTile tile = \nTileBuilder.create()\n           .skinType(SkinType.CUSTOM)\n           .prefSize(n.getW(), n.getH())\n           .textVisible(false).graphic(n).value(0)\n//         .borderColor(Color.BLUE).borderWidth(3)\n           .title(n.getTitle())\n           .titleAlignment(TextAlignment.CENTER)\n           .animated(true)\n           .build();\n</code></pre>\n<p>Here is a picture of the value I'd like to shrink</p>\n<p><a href=\"https://i.stack.imgur.com/vJL8J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vJL8J.png\" alt=\"picture\" /></a></p>\n<p>Note, I also tried setting insets with <code>tile.setPadding(new Insets(1.0,1.0,1.0,1.0));</code> but still no effect</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1676285419,"post_id":75434860,"comment_id":133099761,"body_markdown":"This means that `getProductId()` returns an empty optional. To fix, you have to set a value (or not use `orElseThrow`, but maybe `orElse`/`orElseGet` – but only you know the requirements what would be &quot;correct&quot;)","body":"This means that <code>getProductId()</code> returns an empty optional. To fix, you have to set a value (or not use <code>orElseThrow</code>, but maybe <code>orElse</code>/<code>orElseGet</code> – but only you know the requirements what would be &quot;correct&quot;)"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676286193,"post_id":75434860,"comment_id":133099996,"body_markdown":"What error occurs? What is `cartPojo.getProductId()` returning for type?","body":"What error occurs? What is <code>cartPojo.getProductId()</code> returning for type?"},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1676286200,"post_id":75434860,"comment_id":133099997,"body_markdown":"If `cartPojo.getProductid()` returns an `Optional`, then it is very unlikely that it can ever return a `null` value. You likely meant `cartPojo.getProductid().isPresent()` instead of `cartPojo.getProductid() != null`.","body":"If <code>cartPojo.getProductid()</code> returns an <code>Optional</code>, then it is very unlikely that it can ever return a <code>null</code> value. You likely meant <code>cartPojo.getProductid().isPresent()</code> instead of <code>cartPojo.getProductid() != null</code>."}],"answers":[{"tags":[],"owner":{"account_id":4230767,"reputation":521,"user_id":6077973,"display_name":"kagof"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676286409,"creation_date":1676286409,"answer_id":75435027,"question_id":75434860,"body_markdown":"You are checking `getProductid()` for nullity, however since it (looks like it) returns an `Optional`, you should instead be checking if it is empty.\r\n\r\n```java\r\n    if (cartPojo.getProductid().isPresent())\r\n```\r\n\r\nas an added bonus, you can use the `Optional` type a little bit more elegantly:\r\n\r\n```java\r\n@Override\r\npublic CartPojo save(CartPojo cartPojo) throws IOException {\r\n    Cart cart = cartPojo.getProductid()\r\n        .map(cartRepo::findById)\r\n        .orElseGet(Cart::new);\r\n    // ...\r\n}\r\n```\r\n\r\nThis accomplishes the same thing as your above code, but takes advantage of some of the niceties of the `Optional` type. It gets rid of needing to throw a `RuntimeException` in a scenario that should never happen.","title":"How to solve this ElseThrow exception","body":"<p>You are checking <code>getProductid()</code> for nullity, however since it (looks like it) returns an <code>Optional</code>, you should instead be checking if it is empty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    if (cartPojo.getProductid().isPresent())\n</code></pre>\n<p>as an added bonus, you can use the <code>Optional</code> type a little bit more elegantly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic CartPojo save(CartPojo cartPojo) throws IOException {\n    Cart cart = cartPojo.getProductid()\n        .map(cartRepo::findById)\n        .orElseGet(Cart::new);\n    // ...\n}\n</code></pre>\n<p>This accomplishes the same thing as your above code, but takes advantage of some of the niceties of the <code>Optional</code> type. It gets rid of needing to throw a <code>RuntimeException</code> in a scenario that should never happen.</p>\n"}],"owner":{"account_id":27773099,"reputation":1,"user_id":21203014,"display_name":"Ritika Shrestha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1676292853,"answer_count":1,"score":-1,"last_activity_date":1676286674,"creation_date":1676285227,"question_id":75434860,"body_markdown":"```\r\n@Override\r\npublic CartPojo save(CartPojo cartPojo) throws IOException {\r\n    Cart cart;\r\n    if (cartPojo.getProductid() != null) {\r\n        cart = cartRepo.findById(cartPojo.getProductid().orElseThrow(() -&gt; new RuntimeException(&quot;Not Found&quot;)));\r\n    } else {\r\n        cart = new Cart();\r\n}\r\n```\r\n\r\nAn error occur in `orElseThrow` and I can&#39;t fix it.\r\n","title":"How to solve this ElseThrow exception","body":"<pre><code>@Override\npublic CartPojo save(CartPojo cartPojo) throws IOException {\n    Cart cart;\n    if (cartPojo.getProductid() != null) {\n        cart = cartRepo.findById(cartPojo.getProductid().orElseThrow(() -&gt; new RuntimeException(&quot;Not Found&quot;)));\n    } else {\n        cart = new Cart();\n}\n</code></pre>\n<p>An error occur in <code>orElseThrow</code> and I can't fix it.</p>\n"},{"tags":["java","xml","arraylist"],"owner":{"account_id":12510349,"reputation":3,"user_id":20551866,"display_name":"Nikolette"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676286584,"creation_date":1676217313,"question_id":75428258,"body_markdown":"I&#39;m somewhat new to Java using Android Studio.\r\n\r\nI working on a simple app. When the user presses the change name button the name, address, and occupation on the screen should change to the next name, address, and occupation of that person in the ArrayList. I&#39;ve got only the name to work using Random but I don&#39;t want a random output, I need it to show in order (0-4). I also need the addresses and occupations to show along with the button \r\n\r\nAny suggestions? Thanks in advance!\r\n\r\nJava Code:\r\n\r\n```\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.collection_home);\r\n        TextView name = findViewById(R.id.name);\r\n        TextView address = findViewById(R.id.address);\r\n        TextView occupation = findViewById(R.id.occupation);\r\n        Button btn = findViewById(R.id.btn);\r\n\r\n        ArrayList&lt;String&gt; names = new ArrayList&lt;String&gt;();\r\n        names.add(&quot;Danielle&quot;);\r\n        names.add(&quot;Zoey&quot;);\r\n        names.add(&quot;Sally&quot;);\r\n        names.add(&quot;Lisa&quot;);\r\n        names.add(&quot;Duane&quot;);\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Random ran = new Random();\r\n                int choose = ran.nextInt(names.size());\r\n                name.setText(names.get(choose));\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\n\r\n\r\nXML Code:\r\n\r\n```\r\n&lt;TextView\r\n        android:id=&quot;@+id/address&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hi, Let&#39;s get started\\nPress Change Name Button!&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/occupation&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hi, Let&#39;s get started\\nPress Change Name Button!&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/name&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hi, Let&#39;s get started\\nPress Change Name Button!&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintVertical_bias=&quot;1&quot;\r\n        android:text=&quot;Change Name&quot;\r\n        /&gt;\r\n```\r\n\r\n\r\nI&#39;ve tried indexOf(), if-else statement, and a few more scenarios.","title":"How to get next ArrayList String when pressing button onClick()?","body":"<p>I'm somewhat new to Java using Android Studio.</p>\n<p>I working on a simple app. When the user presses the change name button the name, address, and occupation on the screen should change to the next name, address, and occupation of that person in the ArrayList. I've got only the name to work using Random but I don't want a random output, I need it to show in order (0-4). I also need the addresses and occupations to show along with the button</p>\n<p>Any suggestions? Thanks in advance!</p>\n<p>Java Code:</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.collection_home);\n        TextView name = findViewById(R.id.name);\n        TextView address = findViewById(R.id.address);\n        TextView occupation = findViewById(R.id.occupation);\n        Button btn = findViewById(R.id.btn);\n\n        ArrayList&lt;String&gt; names = new ArrayList&lt;String&gt;();\n        names.add(&quot;Danielle&quot;);\n        names.add(&quot;Zoey&quot;);\n        names.add(&quot;Sally&quot;);\n        names.add(&quot;Lisa&quot;);\n        names.add(&quot;Duane&quot;);\n\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Random ran = new Random();\n                int choose = ran.nextInt(names.size());\n                name.setText(names.get(choose));\n            }\n        });\n    }\n</code></pre>\n<p>XML Code:</p>\n<pre><code>&lt;TextView\n        android:id=&quot;@+id/address&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hi, Let's get started\\nPress Change Name Button!&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/occupation&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hi, Let's get started\\nPress Change Name Button!&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/name&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hi, Let's get started\\nPress Change Name Button!&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintVertical_bias=&quot;1&quot;\n        android:text=&quot;Change Name&quot;\n        /&gt;\n</code></pre>\n<p>I've tried indexOf(), if-else statement, and a few more scenarios.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"score":0,"creation_date":1676283296,"post_id":75434441,"comment_id":133099230,"body_markdown":"You can return boolean from B() to know was method execution successful or not. and return from A if it was not. Or, catch exception in A() instead.","body":"You can return boolean from B() to know was method execution successful or not. and return from A if it was not. Or, catch exception in A() instead."},{"owner":{"account_id":27565608,"reputation":43,"user_id":21037846,"display_name":"SevenEli"},"score":0,"creation_date":1676284346,"post_id":75434441,"comment_id":133099493,"body_markdown":"@gneginskiy This is just the basic structure of the real code. In the real code, there are a lot of Bs. And in both the  solutions that you have provided, I would have to change all those Bs. That&#39;s why I was looking for a solution where I can simply check if the transaction has been marked for rollback in A itself so that I can solve this by changing just one method.","body":"@gneginskiy This is just the basic structure of the real code. In the real code, there are a lot of Bs. And in both the  solutions that you have provided, I would have to change all those Bs. That&#39;s why I was looking for a solution where I can simply check if the transaction has been marked for rollback in A itself so that I can solve this by changing just one method."},{"owner":{"account_id":9310969,"reputation":561,"user_id":6912832,"display_name":"Fabio Miranda"},"score":0,"creation_date":1676284720,"post_id":75434441,"comment_id":133099582,"body_markdown":"If you catch the exception in B() and not throws it, you gonna need to control the flow with some kind of value returned from B(), a boolean value for example, and check in each nested method the value returned, so you can rollback the transaction.\nThis is totally weird and gonna make your code smell, don&#39;t do that, refactor your code to throws an exception.","body":"If you catch the exception in B() and not throws it, you gonna need to control the flow with some kind of value returned from B(), a boolean value for example, and check in each nested method the value returned, so you can rollback the transaction. This is totally weird and gonna make your code smell, don&#39;t do that, refactor your code to throws an exception."}],"answers":[{"tags":[],"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676286391,"creation_date":1676286391,"answer_id":75435022,"question_id":75434441,"body_markdown":"With your current approach, I see several issues.\r\n\r\n- Exception in `B()` is consumed, which is bad. [why consuming exception is bad][1]\r\n- Exceptional case is not handled properly in `A()` (when there is an exception in `B()`), which is breaking the whole purpose of Exceptions\r\n- As you have multiple `B()` methods, handling response from all of them in a single `A()` would look very ugly.\r\n\r\nWhy do you want to avoid using Exceptions for the very same reason they are built for? This situation calls for exception since the exception would not only provide you with break of flow, it will also provide you complete stack trace and you will be able to handle the situation in a much better way.\r\n\r\n  [1]: https://stackoverflow.com/questions/921471/why-do-java-people-frequently-consume-exceptions-silently","title":"How to check if the @Transactional is marked for a rollback?","body":"<p>With your current approach, I see several issues.</p>\n<ul>\n<li>Exception in <code>B()</code> is consumed, which is bad. <a href=\"https://stackoverflow.com/questions/921471/why-do-java-people-frequently-consume-exceptions-silently\">why consuming exception is bad</a></li>\n<li>Exceptional case is not handled properly in <code>A()</code> (when there is an exception in <code>B()</code>), which is breaking the whole purpose of Exceptions</li>\n<li>As you have multiple <code>B()</code> methods, handling response from all of them in a single <code>A()</code> would look very ugly.</li>\n</ul>\n<p>Why do you want to avoid using Exceptions for the very same reason they are built for? This situation calls for exception since the exception would not only provide you with break of flow, it will also provide you complete stack trace and you will be able to handle the situation in a much better way.</p>\n"}],"owner":{"account_id":27565608,"reputation":43,"user_id":21037846,"display_name":"SevenEli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676286391,"creation_date":1676282779,"question_id":75434441,"body_markdown":"Here&#39;s the basic structure of the code in which I am facing the issue.\r\n\r\n    @Transactional\r\n    void A(){\r\n        B();\r\n        // Can I identify transaction rollback here?\r\n        APICall(); // THIS SHOULD NOT BE CALLED IF THE TRANSACTION FAILS\r\n    }\r\n\r\n    \r\n    void B(){\r\n       try{\r\n           C() // throws Null Pointer Exception\r\n        }catch(Exception e){\r\n            // logs the details\r\n        }\r\n    }\r\n\r\n    @Transactional\r\n    void C(){\r\n       D() // throws Null Pointer Exception\r\n    }\r\n\r\nThe entire problem is that APICall() in method A(). That API shouldn&#39;t be called if the transaction fails.\r\nSince C() doesn&#39;t catch the exception thrown by D(), the transaction (method C()) is rolled back and hence the outer transaction (method A()) will also be marked for the roll back.\r\nBut since the method B() catches the NullPointerException thrown by C(), the execution of the instructions continues in method A() and APICall() method is called. But the transaction of method A() will be rolled back since the internal transaction was rolled back.\r\n\r\nSo is there a way to check if the transaction of method A() is marked for a rollback inside the method A() itself? So that I can prevent the APICall?\r\nOr the  only way is to rethrow the caught exception in method B()?","title":"How to check if the @Transactional is marked for a rollback?","body":"<p>Here's the basic structure of the code in which I am facing the issue.</p>\n<pre><code>@Transactional\nvoid A(){\n    B();\n    // Can I identify transaction rollback here?\n    APICall(); // THIS SHOULD NOT BE CALLED IF THE TRANSACTION FAILS\n}\n\n\nvoid B(){\n   try{\n       C() // throws Null Pointer Exception\n    }catch(Exception e){\n        // logs the details\n    }\n}\n\n@Transactional\nvoid C(){\n   D() // throws Null Pointer Exception\n}\n</code></pre>\n<p>The entire problem is that APICall() in method A(). That API shouldn't be called if the transaction fails.\nSince C() doesn't catch the exception thrown by D(), the transaction (method C()) is rolled back and hence the outer transaction (method A()) will also be marked for the roll back.\nBut since the method B() catches the NullPointerException thrown by C(), the execution of the instructions continues in method A() and APICall() method is called. But the transaction of method A() will be rolled back since the internal transaction was rolled back.</p>\n<p>So is there a way to check if the transaction of method A() is marked for a rollback inside the method A() itself? So that I can prevent the APICall?\nOr the  only way is to rethrow the caught exception in method B()?</p>\n"},{"tags":["java","spring","jackson"],"owner":{"account_id":4095402,"reputation":2030,"user_id":3362334,"accept_rate":28,"display_name":"user3362334"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676286182,"creation_date":1676242955,"question_id":75430721,"body_markdown":"I am trying to make custom jackson serializer and apply it to all objects, so that it only goes 2 levels deep.\r\n\r\nI am having hard time figuring out how to track depth level. One idea was to use a `ThreadLocal` instance in my custom serializer. However, that doesn&#39;t seem to work. Seems like every time I call the REST endpoint which trigger the object serialization, I access the same instance of ThreadLocal int doesn&#39;t anyone know why this is the case?\r\n\r\nCurrently my code looks like this:\r\n\r\n    public class ObjectSerializer extends StdSerializer&lt;Object&gt; {\r\n    \r\n        private Logger LOG = LoggerFactory.getLogger(ObjectSerializer.class);\r\n        protected ObjectSerializer(Class&lt;Object&gt; t) {\r\n            super(t);\r\n        }\r\n    \r\n        public ObjectSerializer() {\r\n            this(null);\r\n        }\r\n    \r\n        private static ThreadLocal&lt;Integer&gt; depth = new ThreadLocal&lt;Integer&gt;() {\r\n    \r\n            @Override\r\n            protected Integer initialValue() {\r\n                return 0;\r\n            }\r\n    \r\n        };\r\n    \r\n        @Override\r\n        public void serialize(Object o, JsonGenerator jgen, SerializerProvider serializerProvider) throws IOException {\r\n            depth.set(depth.get() + 1);\r\n            LOG.warn(&quot;Depth: &quot;);\r\n            LOG.warn(depth.get().toString());\r\n    \r\n            LOG.warn(&quot;Object: &quot;);\r\n            LOG.warn(o.getClass().getName());\r\n    \r\n            if (depth.get() &gt; 2) {\r\n                jgen.writeNull();\r\n            } else {\r\n    //            jgen.writeStartObject();\r\n                jgen.writeObject(o);\r\n    //            jgen.writeEndObject();\r\n            }\r\n        }\r\n    }\r\n\r\nAnd the log output confirms that for every call depth level gets increased by one. Is there any way to check if the root object is closed, so that I can reset the counter?\r\n\r\nWhat I don&#39;t understand is why I always get the same instance of ThreadLocal int for different transactions, like they are always using the same thread","title":"Get depth level in custom Jackson serializer","body":"<p>I am trying to make custom jackson serializer and apply it to all objects, so that it only goes 2 levels deep.</p>\n<p>I am having hard time figuring out how to track depth level. One idea was to use a <code>ThreadLocal</code> instance in my custom serializer. However, that doesn't seem to work. Seems like every time I call the REST endpoint which trigger the object serialization, I access the same instance of ThreadLocal int doesn't anyone know why this is the case?</p>\n<p>Currently my code looks like this:</p>\n<pre><code>public class ObjectSerializer extends StdSerializer&lt;Object&gt; {\n\n    private Logger LOG = LoggerFactory.getLogger(ObjectSerializer.class);\n    protected ObjectSerializer(Class&lt;Object&gt; t) {\n        super(t);\n    }\n\n    public ObjectSerializer() {\n        this(null);\n    }\n\n    private static ThreadLocal&lt;Integer&gt; depth = new ThreadLocal&lt;Integer&gt;() {\n\n        @Override\n        protected Integer initialValue() {\n            return 0;\n        }\n\n    };\n\n    @Override\n    public void serialize(Object o, JsonGenerator jgen, SerializerProvider serializerProvider) throws IOException {\n        depth.set(depth.get() + 1);\n        LOG.warn(&quot;Depth: &quot;);\n        LOG.warn(depth.get().toString());\n\n        LOG.warn(&quot;Object: &quot;);\n        LOG.warn(o.getClass().getName());\n\n        if (depth.get() &gt; 2) {\n            jgen.writeNull();\n        } else {\n//            jgen.writeStartObject();\n            jgen.writeObject(o);\n//            jgen.writeEndObject();\n        }\n    }\n}\n</code></pre>\n<p>And the log output confirms that for every call depth level gets increased by one. Is there any way to check if the root object is closed, so that I can reset the counter?</p>\n<p>What I don't understand is why I always get the same instance of ThreadLocal int for different transactions, like they are always using the same thread</p>\n"},{"tags":["java","c++","bouncycastle","msdn","windows-11"],"comments":[{"owner":{"account_id":5076960,"reputation":2868,"user_id":4074081,"display_name":"dewaffled"},"score":0,"creation_date":1676312696,"post_id":75434956,"comment_id":133108318,"body_markdown":"_It decrypts the first part of the data correctly_ - maybe `CryptDecrypt(m_Key, 0, TRUE` - should be [FALSE](https://learn.microsoft.com/en-us/windows/win32/api/wincrypt/nf-wincrypt-cryptdecrypt#remarks)","body":"<i>It decrypts the first part of the data correctly</i> - maybe <code>CryptDecrypt(m_Key, 0, TRUE</code> - should be <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/wincrypt/nf-wincrypt-cryptdecrypt#remarks\" rel=\"nofollow noreferrer\">FALSE</a>"},{"owner":{"account_id":4110235,"reputation":63,"user_id":3373220,"display_name":"RituV"},"score":0,"creation_date":1676372719,"post_id":75434956,"comment_id":133119655,"body_markdown":"Tried..but didn&#39;t work","body":"Tried..but didn&#39;t work"}],"owner":{"account_id":4110235,"reputation":63,"user_id":3373220,"display_name":"RituV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676285932,"creation_date":1676285932,"question_id":75434956,"body_markdown":"My application runs on Windows desktop. Algorithm used is Triple DES. The Data is encrypted on the server using Bouncycastle java API. The application is able to decrypt the data on Windows 10 but fails to decrypt correctly on windows 11. It decrypts the first part of the data correctly the remaining part is remains encrypted.\r\n\r\nJava Encryption:\r\n```\r\n    static final int BLOCK_SIZE_3DES = 8;\r\n    public byte[] encryptDESede(byte[] data, byte[] key, byte[] initVec) throws StandardException {  \r\n    //add paddingif req\r\n    if(data.length % BLOCK_SIZE_3DES != 0) {     \r\n     byte[] padding = new byte[BLOCK_SIZE_3DES - (data.length % BLOCK_SIZE_3DES)];     \r\n     for (int i = 0; i &lt; padding.length; i++) \r\n       padding[i] = (byte) padding.length;     \r\n     data = Bytes.join(new byte[][]{data, padding});   \r\n    }  \r\n    \r\n    \r\n     BlockCipher engine = new DESedeEngine(); \r\n    CBCBlockCipher cbc = new CBCBlockCipher(engine);  \r\n     BufferedBlockCipher cipher = new BufferedBlockCipher(cbc);   cipher.init(true, new ParametersWithIV(new KeyParameter(key), initVec)); \r\n    byte[] out = new byte[data.length];   cipher.processBytes(data, 0, data.length, out, 0);   \r\n    return out;\r\n    }\r\n\r\n```\r\nC++ Decryption \r\n\r\n    bool Decipher(CData &amp; _Data) const {\r\n    \r\n    \tDWORD FinalSize = _Data.size();\r\n    \t//check that size is multiple of 8\r\n    \tif ( _Data.size() % 8) {\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n        BOOL Result = CryptDecrypt(m_Key, 0, TRUE, 0, _Data.data(), &amp;FinalSize);\r\n    \t\r\n    \tDWORD err = GetLastError();\r\n    \tif (Result == FALSE &amp;&amp; err != NTE_BAD_DATA)\r\n    \t\treturn false;\r\n    \r\n    \tif ((Result == FALSE) &amp;&amp; (err == NTE_BAD_DATA)) {\r\n    \t\tCData EmptyBlob;\r\n    \t\tEncipher(EmptyBlob);\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\t// Return ciphered data and final size\r\n    \t\t_Data.resize(FinalSize);\r\n    \t}\r\n    \r\n    \treturn true;\r\n    }\r\n\r\nHow can I make it work on windows 11 as well? Thanks in Advance.","title":"cryptdecrypt API not able to decrypt 3Des Encrypted data on Windows 11","body":"<p>My application runs on Windows desktop. Algorithm used is Triple DES. The Data is encrypted on the server using Bouncycastle java API. The application is able to decrypt the data on Windows 10 but fails to decrypt correctly on windows 11. It decrypts the first part of the data correctly the remaining part is remains encrypted.</p>\n<p>Java Encryption:</p>\n<pre><code>    static final int BLOCK_SIZE_3DES = 8;\n    public byte[] encryptDESede(byte[] data, byte[] key, byte[] initVec) throws StandardException {  \n    //add paddingif req\n    if(data.length % BLOCK_SIZE_3DES != 0) {     \n     byte[] padding = new byte[BLOCK_SIZE_3DES - (data.length % BLOCK_SIZE_3DES)];     \n     for (int i = 0; i &lt; padding.length; i++) \n       padding[i] = (byte) padding.length;     \n     data = Bytes.join(new byte[][]{data, padding});   \n    }  \n    \n    \n     BlockCipher engine = new DESedeEngine(); \n    CBCBlockCipher cbc = new CBCBlockCipher(engine);  \n     BufferedBlockCipher cipher = new BufferedBlockCipher(cbc);   cipher.init(true, new ParametersWithIV(new KeyParameter(key), initVec)); \n    byte[] out = new byte[data.length];   cipher.processBytes(data, 0, data.length, out, 0);   \n    return out;\n    }\n\n</code></pre>\n<p>C++ Decryption</p>\n<pre><code>bool Decipher(CData &amp; _Data) const {\n\n    DWORD FinalSize = _Data.size();\n    //check that size is multiple of 8\n    if ( _Data.size() % 8) {\n        return false;\n    }\n    \n    BOOL Result = CryptDecrypt(m_Key, 0, TRUE, 0, _Data.data(), &amp;FinalSize);\n    \n    DWORD err = GetLastError();\n    if (Result == FALSE &amp;&amp; err != NTE_BAD_DATA)\n        return false;\n\n    if ((Result == FALSE) &amp;&amp; (err == NTE_BAD_DATA)) {\n        CData EmptyBlob;\n        Encipher(EmptyBlob);\n    }\n    else\n    {\n        // Return ciphered data and final size\n        _Data.resize(FinalSize);\n    }\n\n    return true;\n}\n</code></pre>\n<p>How can I make it work on windows 11 as well? Thanks in Advance.</p>\n"},{"tags":["java","apache","web","velocity","template-engine"],"answers":[{"tags":[],"owner":{"account_id":5561423,"reputation":138,"user_id":4410485,"accept_rate":100,"display_name":"Karma-yogi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436882802,"creation_date":1436880285,"answer_id":31407966,"question_id":31384395,"body_markdown":"In velocity, there are no explicit data types and hence there is no Boolean variables support. But since velocity has been built on JAVA platform, if you specify a compatible value then it can give you expected results in such operations like the &quot;if&quot; operation (the one shown in your code). This is because in Java, a boolean value is expected in an if expression and you are providing something which can be easily casted to a boolean.\r\n\r\nIf you give something like #set($isRight=true1) , the above written code will be internally treated by the Java engine like you specified a String inside &#39;if&#39; expression which couldn&#39;t be casted to a boolean and hence will throw up a type cast exception(or ClassCastException). This will happen with any value other than &#39;true&#39; or &#39;false&#39; which are actually strings here but can be successfully casted to Boolean which is expected inside &#39;if&#39; expression.\r\n\r\nThus its not the Boolean type support, but the Java implementation behind the scenes makes the things work.","title":"Java velocity vm file #set use boolean variable","body":"<p>In velocity, there are no explicit data types and hence there is no Boolean variables support. But since velocity has been built on JAVA platform, if you specify a compatible value then it can give you expected results in such operations like the \"if\" operation (the one shown in your code). This is because in Java, a boolean value is expected in an if expression and you are providing something which can be easily casted to a boolean.</p>\n\n<p>If you give something like #set($isRight=true1) , the above written code will be internally treated by the Java engine like you specified a String inside 'if' expression which couldn't be casted to a boolean and hence will throw up a type cast exception(or ClassCastException). This will happen with any value other than 'true' or 'false' which are actually strings here but can be successfully casted to Boolean which is expected inside 'if' expression.</p>\n\n<p>Thus its not the Boolean type support, but the Java implementation behind the scenes makes the things work.</p>\n"},{"tags":[],"owner":{"account_id":365392,"reputation":4105,"user_id":710286,"display_name":"Claude Brisson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676285576,"creation_date":1436948516,"answer_id":31425121,"question_id":31384395,"body_markdown":"Velocity 2.0, yet to be released, does support such tests.\r\n\r\nMeanwhile, you can resort to `#if(&quot;$isRight&quot;==&quot;true&quot;)...`\r\n","title":"Java velocity vm file #set use boolean variable","body":"<p>Velocity 2.0, yet to be released, does support such tests.</p>\n<p>Meanwhile, you can resort to <code>#if(&quot;$isRight&quot;==&quot;true&quot;)...</code></p>\n"},{"tags":[],"owner":{"account_id":5282977,"reputation":32603,"user_id":4217744,"accept_rate":50,"display_name":"simhumileco"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1574999705,"creation_date":1574998927,"answer_id":59098510,"question_id":31384395,"body_markdown":"Experience shows that your example works, **but you are right that the documentation does not say explicitly that you can assign a *Boolean* value to variables using the `#set` directive** (there are [meticulously detailed cases][1] and lack of information about *Boolean* among them).\r\n\r\nTherefore, if you want to be sure that you are writing code 100% compatible with the documentation, then instead of explicit *Boolean* you can use other values, which [according to the documentation][2] will be converted to *Boolean*. They are e.g. `0` for `false` and `1` for `true`.\r\n\r\nThen your example would look like this:\r\n\r\n    #set ($isRight = 1)\r\n    #if ($isRight)\r\n      ## execute\r\n    #end\r\n    \r\n    #set ($isRight = 0)\r\n    #if ($isRight)\r\n      ## not execute\r\n    #end\r\n\r\n  [1]: http://velocity.apache.org/engine/devel/user-guide.html#set\r\n  [2]: http://velocity.apache.org/engine/devel/user-guide.html#conditionals","title":"Java velocity vm file #set use boolean variable","body":"<p>Experience shows that your example works, <strong>but you are right that the documentation does not say explicitly that you can assign a <em>Boolean</em> value to variables using the <code>#set</code> directive</strong> (there are <a href=\"http://velocity.apache.org/engine/devel/user-guide.html#set\" rel=\"nofollow noreferrer\">meticulously detailed cases</a> and lack of information about <em>Boolean</em> among them).</p>\n\n<p>Therefore, if you want to be sure that you are writing code 100% compatible with the documentation, then instead of explicit <em>Boolean</em> you can use other values, which <a href=\"http://velocity.apache.org/engine/devel/user-guide.html#conditionals\" rel=\"nofollow noreferrer\">according to the documentation</a> will be converted to <em>Boolean</em>. They are e.g. <code>0</code> for <code>false</code> and <code>1</code> for <code>true</code>.</p>\n\n<p>Then your example would look like this:</p>\n\n<pre><code>#set ($isRight = 1)\n#if ($isRight)\n  ## execute\n#end\n\n#set ($isRight = 0)\n#if ($isRight)\n  ## not execute\n#end\n</code></pre>\n"}],"owner":{"account_id":6618492,"reputation":51,"user_id":5110994,"display_name":"Micwell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12882,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1676285576,"creation_date":1436793156,"question_id":31384395,"body_markdown":"We can not use Boolean variable by `#set` when I find velocity project guidelines in Apache official site, but it is also worked when I use in my project.\r\n\r\n    #set($isRight=true)\r\n    #if($isRight)\r\n      ##execute\r\n    #end\r\n\r\n    #set($isRight=false)\r\n    #if($isRight)\r\n      ##not execute\r\n    #end\r\n\r\nI want to know whether `#set` Boolean variable is supported by velocity and the way I use whether is legal.","title":"Java velocity vm file #set use boolean variable","body":"<p>We can not use Boolean variable by <code>#set</code> when I find velocity project guidelines in Apache official site, but it is also worked when I use in my project.</p>\n\n<pre><code>#set($isRight=true)\n#if($isRight)\n  ##execute\n#end\n\n#set($isRight=false)\n#if($isRight)\n  ##not execute\n#end\n</code></pre>\n\n<p>I want to know whether <code>#set</code> Boolean variable is supported by velocity and the way I use whether is legal.</p>\n"},{"tags":["java","xml","loops","spring-camel"],"owner":{"account_id":27772119,"reputation":1,"user_id":21202238,"display_name":"Guillaume FILALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676285448,"creation_date":1676277340,"question_id":75433529,"body_markdown":"Recently we update our version of Appache Camel.\r\nAnd we used CamelLoopIndex like this in the previous version : \r\n\r\n\r\n```\r\n&lt;loop copy=&quot;false&quot;&gt;\r\n  &lt;simple&gt;${in.body.tabs.size}&lt;/simple&gt;\r\n    &lt;choice&gt;\r\n      &lt;when&gt;\r\n        &lt;simple&gt;${in.body.tabs.get(property.CamelLoopIndex).code} == &#39;ABC&#39;&lt;/simple&gt;\r\n         ...\r\n       &lt;/when&gt;\r\n    &lt;/choice&gt;\r\n&lt;/loop&gt;\r\n```\r\n\r\nSince the update &quot;property.CamelLoopIndex doesn&#39;t work anymore. \r\n\r\nPlease someone have any ideas ? \r\n\r\n\r\n\r\nI tried to change &quot;property&quot; into &quot;exchangeProperty but it doesn&#39;t work...\r\n","title":"Use CamelLoopIndex in Camel XML Root","body":"<p>Recently we update our version of Appache Camel.\nAnd we used CamelLoopIndex like this in the previous version :</p>\n<pre><code>&lt;loop copy=&quot;false&quot;&gt;\n  &lt;simple&gt;${in.body.tabs.size}&lt;/simple&gt;\n    &lt;choice&gt;\n      &lt;when&gt;\n        &lt;simple&gt;${in.body.tabs.get(property.CamelLoopIndex).code} == 'ABC'&lt;/simple&gt;\n         ...\n       &lt;/when&gt;\n    &lt;/choice&gt;\n&lt;/loop&gt;\n</code></pre>\n<p>Since the update &quot;property.CamelLoopIndex doesn't work anymore.</p>\n<p>Please someone have any ideas ?</p>\n<p>I tried to change &quot;property&quot; into &quot;exchangeProperty but it doesn't work...</p>\n"},{"tags":["java","spring","hibernate","spring-transactions"],"comments":[{"owner":{"account_id":1584205,"reputation":9787,"user_id":1468919,"accept_rate":90,"display_name":"Jaiwo99"},"score":2,"creation_date":1412081586,"post_id":26121297,"comment_id":40938824,"body_markdown":"spring does it for you, and `readonly=false` is default, you don&#39;t have declare it","body":"spring does it for you, and <code>readonly=false</code> is default, you don&#39;t have declare it"},{"owner":{"account_id":3155343,"reputation":6408,"user_id":2667872,"accept_rate":75,"display_name":"Alexey Malev"},"score":0,"creation_date":1412081721,"post_id":26121297,"comment_id":40938897,"body_markdown":"I think automatic commit doesn&#39;t intend to flush `Session` to DB immediately, but making the changes done in that transaction available to other transactions working with the same `Session`.","body":"I think automatic commit doesn&#39;t intend to flush <code>Session</code> to DB immediately, but making the changes done in that transaction available to other transactions working with the same <code>Session</code>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1477399220,"post_id":26121297,"comment_id":67742307,"body_markdown":"If you would have properly setup transactions then yes... But your setup is flawed. Why are you using both a `SessionFactory` and `EntitymanagerFactory`? You are only using a single transaction manager. The main issue is your setup.","body":"If you would have properly setup transactions then yes... But your setup is flawed. Why are you using both a <code>SessionFactory</code> and <code>EntitymanagerFactory</code>? You are only using a single transaction manager. The main issue is your setup."},{"owner":{"account_id":289963,"reputation":2107,"user_id":591234,"accept_rate":50,"display_name":"Sashi"},"score":0,"creation_date":1501931092,"post_id":26121297,"comment_id":78002703,"body_markdown":"Yup, agree with @M.Deinum, you are using a SessionFactory that&#39;s not tied to the Spring TransactionManager. So, spring is not taking care of your transactions in your setup.","body":"Yup, agree with @M.Deinum, you are using a SessionFactory that&#39;s not tied to the Spring TransactionManager. So, spring is not taking care of your transactions in your setup."}],"answers":[{"tags":[],"owner":{"account_id":2357612,"reputation":15503,"user_id":2065083,"accept_rate":67,"display_name":"Chaitanya"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1412142255,"creation_date":1412083295,"answer_id":26121938,"question_id":26121297,"body_markdown":"Yes, if you have `@Transactional` for your DAO method then you need not flush the session manually, hibernate will take care of flushing the session as part of committing the transaction if the operations in the method are successful.\r\n\r\nCheck this link to know on how @Transactional works - https://stackoverflow.com/questions/1099025/spring-transactional-what-happens-in-background\r\n\r\n","title":"hibernate session.flush with spring @transactional","body":"<p>Yes, if you have <code>@Transactional</code> for your DAO method then you need not flush the session manually, hibernate will take care of flushing the session as part of committing the transaction if the operations in the method are successful.</p>\n\n<p>Check this link to know on how @Transactional works - <a href=\"https://stackoverflow.com/questions/1099025/spring-transactional-what-happens-in-background\">Spring - @Transactional - What happens in background?</a></p>\n"},{"tags":[],"owner":{"account_id":4447833,"reputation":1,"user_id":3620653,"display_name":"user3620653"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676285218,"creation_date":1424329751,"answer_id":28600487,"question_id":26121297,"body_markdown":"By default, hibernate stacks its queries so they can be optimized when they are finally executed onto the database.\r\n\r\nThe whole point of flush is to flush this stack and execute it in your transaction onto the database. Your leaving the &quot;safe&quot; house of the JVM and execute your query on a big strange database. \r\n\r\nThis is why you can&#39;t select something you&#39;ve just saved without a flush. It&#39;s simply not in the database yet.\r\n\r\nThe meaning of commit is to end the transaction and make changes of the database visible for others. Once commit has been executed there&#39;s no return possible anymore.\r\n\r\nFrankly I&#39;m not exactly sure if it is a best practice but for normal CRUD operations you should be able to add flush into your DAO layer. \r\nThis way you don&#39;t need to worry about it into the service layer.\r\n\r\nIf you want java to optimize your transaction then you&#39;ll have to add it into your service layer. But remember that you don&#39;t need to solve performance issues when there aren&#39;t any! Flushes all over your code into the service layer is not good for the code readability. Keep it simple and stupid ;)","title":"hibernate session.flush with spring @transactional","body":"<p>By default, hibernate stacks its queries so they can be optimized when they are finally executed onto the database.</p>\n<p>The whole point of flush is to flush this stack and execute it in your transaction onto the database. Your leaving the &quot;safe&quot; house of the JVM and execute your query on a big strange database.</p>\n<p>This is why you can't select something you've just saved without a flush. It's simply not in the database yet.</p>\n<p>The meaning of commit is to end the transaction and make changes of the database visible for others. Once commit has been executed there's no return possible anymore.</p>\n<p>Frankly I'm not exactly sure if it is a best practice but for normal CRUD operations you should be able to add flush into your DAO layer.\nThis way you don't need to worry about it into the service layer.</p>\n<p>If you want java to optimize your transaction then you'll have to add it into your service layer. But remember that you don't need to solve performance issues when there aren't any! Flushes all over your code into the service layer is not good for the code readability. Keep it simple and stupid ;)</p>\n"}],"owner":{"account_id":4721363,"reputation":2529,"user_id":3819117,"accept_rate":17,"display_name":"Ankit Gupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28615,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1676285218,"creation_date":1412081298,"question_id":26121297,"body_markdown":"I am using Spring and Hibernate in my application and using Spring Transaction.\r\n\r\nSo I have a service layer with annotation `@Transaction` on methods and DAO layer having methods for database query.\r\n\r\n    @Transactional(readOnly = false)\r\n\tpublic void get(){\r\n    \r\n    }\r\n\r\nThe issue is when I want to save an object in the database,then I have to use `session.flush()` at the end of DAO layer method. Why?\r\n\r\n\r\nI think if I have annotated `@Transaction`, then Spring should automatically commit the transaction on completion of the service method.\r\n\r\nDAO layer : \r\n\r\n    public BaseEntity saveEntity(BaseEntity entity) throws Exception {\r\n    \t\ttry {\r\n    \t\t\tSession session = sessionFactory.getCurrentSession();\r\n    \t\t\tsession.saveOrUpdate(entity);\r\n    \t\t\tsession.flush();\r\n    \t\t} catch (HibernateException he) {\r\n    \t\t\tthrow new Exception(&quot;Failed to save entity &quot; + entity);\r\n    \t\t}\r\n    \t\treturn entity;\r\n    \t}\r\n\r\nService layer :\r\n\r\n        @Transactional(readOnly = false)\r\n    \tpublic BaseEntity saveEntity(BaseEntity entity) throws Exception {\r\n    \t\treturn dao.saveEntity(entity);\r\n    \t}\r\n\r\nspring config : \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;context:property-placeholder properties-ref=&quot;deployProperties&quot; /&gt;\r\n    \r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot; /&gt;\t\r\n    \r\n    \t&lt;!-- Activate Spring Data JPA repository support --&gt;\r\n      \t&lt;jpa:repositories base-package=&quot;com&quot; /&gt;\r\n      \t\r\n    \t&lt;!-- Declare a datasource that has pooling capabilities--&gt;\t \r\n    \t&lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;\r\n    \t\tdestroy-method=&quot;close&quot;\r\n    \t\tp:driverClass=&quot;${app.jdbc.driverClassName}&quot;\r\n    \t\tp:jdbcUrl=&quot;${app.jdbc.url}&quot;\r\n    \t\tp:user=&quot;${app.jdbc.username}&quot;\r\n    \t\tp:password=&quot;${app.jdbc.password}&quot;\r\n    \t\tp:acquireIncrement=&quot;5&quot;\r\n    \t\tp:idleConnectionTestPeriod=&quot;60&quot;\r\n    \t\tp:maxPoolSize=&quot;100&quot;\r\n    \t\tp:maxStatements=&quot;50&quot;\r\n    \t\tp:minPoolSize=&quot;10&quot; /&gt;\r\n    \r\n     \t&lt;!-- Declare a JPA entityManagerFactory --&gt;\r\n    \t&lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot; \r\n    \t\tp:persistenceXmlLocation=&quot;classpath*:META-INF/persistence.xml&quot;\r\n    \t\tp:persistenceUnitName=&quot;hibernatePersistenceUnit&quot;\r\n    \t\tp:dataSource-ref=&quot;dataSource&quot;\r\n    \t\tp:jpaVendorAdapter-ref=&quot;hibernateVendor&quot;/&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;sessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;\r\n    \t\tp:dataSource-ref=&quot;dataSource&quot; p:configLocation=&quot;${hibernate.config}&quot;\r\n    \t\tp:packagesToScan=&quot;com&quot; /&gt;\r\n    \r\n    \t&lt;!-- Specify our ORM vendor --&gt;\r\n    \t&lt;bean id=&quot;hibernateVendor&quot; class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;\r\n    \t            p:showSql=&quot;false&quot;/&gt;\r\n    \r\n    \t&lt;!-- Declare a transaction manager--&gt;\r\n    \t&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot; \r\n    \t\tp:entityManagerFactory-ref=&quot;entityManagerFactory&quot;/&gt;","title":"hibernate session.flush with spring @transactional","body":"<p>I am using Spring and Hibernate in my application and using Spring Transaction.</p>\n\n<p>So I have a service layer with annotation <code>@Transaction</code> on methods and DAO layer having methods for database query.</p>\n\n<pre><code>@Transactional(readOnly = false)\npublic void get(){\n\n}\n</code></pre>\n\n<p>The issue is when I want to save an object in the database,then I have to use <code>session.flush()</code> at the end of DAO layer method. Why?</p>\n\n<p>I think if I have annotated <code>@Transaction</code>, then Spring should automatically commit the transaction on completion of the service method.</p>\n\n<p>DAO layer : </p>\n\n<pre><code>public BaseEntity saveEntity(BaseEntity entity) throws Exception {\n        try {\n            Session session = sessionFactory.getCurrentSession();\n            session.saveOrUpdate(entity);\n            session.flush();\n        } catch (HibernateException he) {\n            throw new Exception(\"Failed to save entity \" + entity);\n        }\n        return entity;\n    }\n</code></pre>\n\n<p>Service layer :</p>\n\n<pre><code>    @Transactional(readOnly = false)\n    public BaseEntity saveEntity(BaseEntity entity) throws Exception {\n        return dao.saveEntity(entity);\n    }\n</code></pre>\n\n<p>spring config : </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;context:property-placeholder properties-ref=\"deployProperties\" /&gt;\n\n    &lt;tx:annotation-driven transaction-manager=\"transactionManager\" /&gt;   \n\n    &lt;!-- Activate Spring Data JPA repository support --&gt;\n    &lt;jpa:repositories base-package=\"com\" /&gt;\n\n    &lt;!-- Declare a datasource that has pooling capabilities--&gt;   \n    &lt;bean id=\"dataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\"\n        destroy-method=\"close\"\n        p:driverClass=\"${app.jdbc.driverClassName}\"\n        p:jdbcUrl=\"${app.jdbc.url}\"\n        p:user=\"${app.jdbc.username}\"\n        p:password=\"${app.jdbc.password}\"\n        p:acquireIncrement=\"5\"\n        p:idleConnectionTestPeriod=\"60\"\n        p:maxPoolSize=\"100\"\n        p:maxStatements=\"50\"\n        p:minPoolSize=\"10\" /&gt;\n\n    &lt;!-- Declare a JPA entityManagerFactory --&gt;\n    &lt;bean id=\"entityManagerFactory\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\" \n        p:persistenceXmlLocation=\"classpath*:META-INF/persistence.xml\"\n        p:persistenceUnitName=\"hibernatePersistenceUnit\"\n        p:dataSource-ref=\"dataSource\"\n        p:jpaVendorAdapter-ref=\"hibernateVendor\"/&gt;\n\n    &lt;bean id=\"sessionFactory\"\n        class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"\n        p:dataSource-ref=\"dataSource\" p:configLocation=\"${hibernate.config}\"\n        p:packagesToScan=\"com\" /&gt;\n\n    &lt;!-- Specify our ORM vendor --&gt;\n    &lt;bean id=\"hibernateVendor\" class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"\n                p:showSql=\"false\"/&gt;\n\n    &lt;!-- Declare a transaction manager--&gt;\n    &lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\" \n        p:entityManagerFactory-ref=\"entityManagerFactory\"/&gt;\n</code></pre>\n"},{"tags":["java","android","kotlin","android-multidex"],"comments":[{"owner":{"account_id":3962994,"reputation":6386,"user_id":3548046,"accept_rate":75,"display_name":"Umair"},"score":0,"creation_date":1555402588,"post_id":55703378,"comment_id":98088085,"body_markdown":"you have to make your bundle nullable in base activity. It&#39;s not nullable atm so that&#39;s why your app is crashing.","body":"you have to make your bundle nullable in base activity. It&#39;s not nullable atm so that&#39;s why your app is crashing."},{"owner":{"account_id":15261563,"reputation":229,"user_id":11011419,"display_name":"KokoBand"},"score":0,"creation_date":1555402710,"post_id":55703378,"comment_id":98088145,"body_markdown":"@Umair, can you send to me code with my above codes? please","body":"@Umair, can you send to me code with my above codes? please"},{"owner":{"account_id":3962994,"reputation":6386,"user_id":3548046,"accept_rate":75,"display_name":"Umair"},"score":0,"creation_date":1555403051,"post_id":55703378,"comment_id":98088345,"body_markdown":"can you tell me what is line number 221 in your Application class. Error might be there.","body":"can you tell me what is line number 221 in your Application class. Error might be there."},{"owner":{"account_id":15261563,"reputation":229,"user_id":11011419,"display_name":"KokoBand"},"score":0,"creation_date":1555406016,"post_id":55703378,"comment_id":98090088,"body_markdown":"@Umair, i haven&#39;t line 221 in Application class !","body":"@Umair, i haven&#39;t line 221 in Application class !"},{"owner":{"account_id":15261563,"reputation":229,"user_id":11011419,"display_name":"KokoBand"},"score":0,"creation_date":1555406065,"post_id":55703378,"comment_id":98090116,"body_markdown":"@Umair, 221 line has Application class from android package. code is : `/* package */ void dispatchActivityCreated(Activity activity, Bundle savedInstanceState) {\n        Object[] callbacks = collectActivityLifecycleCallbacks();\n        if (callbacks != null) {\n            for (int i=0; i&lt;callbacks.length; i++) {\n                ((ActivityLifecycleCallbacks)callbacks[i]).onActivityCreated(activity,\n                        savedInstanceState);\n            }\n        }\n    }`","body":"@Umair, 221 line has Application class from android package. code is : <code>&#47;* package *&#47; void dispatchActivityCreated(Activity activity, Bundle savedInstanceState) {         Object[] callbacks = collectActivityLifecycleCallbacks();         if (callbacks != null) {             for (int i=0; i&lt;callbacks.length; i++) {                 ((ActivityLifecycleCallbacks)callbacks[i]).onActivityCreated&zwnj;&#8203;(activity,                         savedInstanceState);             }         }     }</code>"},{"owner":{"account_id":3962994,"reputation":6386,"user_id":3548046,"accept_rate":75,"display_name":"Umair"},"score":0,"creation_date":1555406507,"post_id":55703378,"comment_id":98090380,"body_markdown":"can your try removing ? from the end of Bundle  `override fun onCreate(savedInstanceState: Bundle) {`","body":"can your try removing ? from the end of Bundle  <code>override fun onCreate(savedInstanceState: Bundle) {</code>"},{"owner":{"account_id":15261563,"reputation":229,"user_id":11011419,"display_name":"KokoBand"},"score":0,"creation_date":1555407314,"post_id":55703378,"comment_id":98090909,"body_markdown":"@Umair, when remove this line then not show me FC error : `registerActivityLifecycleCallbacks(AdjustLifecycleCallbacks())`","body":"@Umair, when remove this line then not show me FC error : <code>registerActivityLifecycleCallbacks(AdjustLifecycleCallbacks(&zwnj;&#8203;))</code>"}],"answers":[{"tags":[],"owner":{"account_id":12213088,"reputation":7885,"user_id":8914336,"display_name":"coroutineDispatcher"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1591014456,"creation_date":1555407443,"answer_id":55705024,"question_id":55703378,"body_markdown":"Try extending the `MultiDexApplication()` in your App class instead of `Application()`\r\n\r\n**Edit**\r\n\r\nOk since the answer is in the same answer but in the comment , I would update this answer in case others need it  : \r\n\r\nAnd also try this : \r\n```\r\noverride fun onActivitySaveInstanceState(activity: Activity, outState: Bundle?) {}\r\n``` \r\ninstead of\r\n ``` \r\noverride fun onActivitySaveInstanceState(activity: Activity, outState: Bundle) {}\r\n```\r\n if you see the bundle in my comment is marked with &quot;?&quot; ","title":"How to fix Parameter specified as non-null is null error in Android","body":"<p>Try extending the <code>MultiDexApplication()</code> in your App class instead of <code>Application()</code></p>\n\n<p><strong>Edit</strong></p>\n\n<p>Ok since the answer is in the same answer but in the comment , I would update this answer in case others need it  : </p>\n\n<p>And also try this : </p>\n\n<pre><code>override fun onActivitySaveInstanceState(activity: Activity, outState: Bundle?) {}\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>override fun onActivitySaveInstanceState(activity: Activity, outState: Bundle) {}\n</code></pre>\n\n<p>if you see the bundle in my comment is marked with \"?\" </p>\n"},{"tags":[],"owner":{"account_id":12997654,"reputation":116,"user_id":9394700,"display_name":"mirsaidoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591057013,"creation_date":1591057013,"answer_id":62142900,"question_id":55703378,"body_markdown":"   \r\n    override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle)\r\nsavedInstanceState parameter here should be nullable (Bundle?), also\r\n\r\n","title":"How to fix Parameter specified as non-null is null error in Android","body":"<pre><code>override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle)\n</code></pre>\n\n<p>savedInstanceState parameter here should be nullable (Bundle?), also</p>\n"}],"owner":{"account_id":15261563,"reputation":229,"user_id":11011419,"display_name":"KokoBand"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8171,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":55705024,"answer_count":2,"score":0,"last_activity_date":1676285079,"creation_date":1555401974,"question_id":55703378,"body_markdown":"In my application i should implement **MultiDex** dependency, and i added this in **gradle.build** file and write some codes into **application** `class`!&lt;br&gt;\r\nBut after run application, show me **force close** error and not started application!&lt;br&gt;\r\n**gradle.build :**\r\n\r\n    implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n    implementation &#39;com.android.support:multidex-instrumentation:1.0.3&#39;\r\n\r\n**BaseActivity class :**\r\n\r\n    abstract class BaseActivity : AppCompatActivity() {\r\n        /**\r\n         * Set your page layout when initialize `layoutId`, Ex. R.layout.activity_main\r\n         */\r\n        abstract var layoutId: Int\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(layoutId)\r\n        }\r\n    \r\n        /**\r\n         * With below method, we can set custom font to all of activities\r\n         */\r\n        override fun attachBaseContext(newBase: Context) {\r\n            super.attachBaseContext(ViewPumpContextWrapper.wrap(newBase))\r\n        }\r\n    }\r\n\r\n**Application class :** \r\n\r\n    import android.app.Activity\r\n    import android.app.Application\r\n    import android.content.Context\r\n    import android.os.Bundle\r\n    import androidx.multidex.MultiDex\r\n    import com.adjust.sdk.Adjust\r\n    import com.adjust.sdk.AdjustConfig\r\n    import com.adjust.sdk.LogLevel\r\n    import com.app.android.R\r\n    import com.app.android.utils.ADJUST_APP_TOKEN\r\n    import com.crashlytics.android.Crashlytics\r\n    import com.crashlytics.android.answers.Answers\r\n    import com.crashlytics.android.answers.ContentViewEvent\r\n    import com.google.android.gms.analytics.GoogleAnalytics\r\n    import com.google.android.gms.analytics.HitBuilders\r\n    import com.google.android.gms.analytics.Tracker\r\n    import io.fabric.sdk.android.Fabric\r\n    import io.github.inflationx.calligraphy3.CalligraphyConfig\r\n    import io.github.inflationx.calligraphy3.CalligraphyInterceptor\r\n    import io.github.inflationx.viewpump.ViewPump\r\n    \r\n    class App : Application() {\r\n    \r\n        private var adjustEnvironment: String = &quot;&quot;\r\n        private lateinit var adjustConfig: AdjustConfig\r\n        private lateinit var analytics: GoogleAnalytics\r\n        private lateinit var tracker: Tracker\r\n    \r\n        override fun onCreate() {\r\n            super.onCreate()\r\n            //Calligraphy\r\n            ViewPump.init(\r\n                ViewPump.builder().addInterceptor(\r\n                    CalligraphyInterceptor(\r\n                        CalligraphyConfig.Builder().setDefaultFontPath(&quot;fonts/IranSans.ttf&quot;)\r\n                            .setFontAttrId(R.attr.fontPath)\r\n                            .build()\r\n                    )\r\n                ).build()\r\n            )\r\n            //GoodPres\r\n            GoodPrefs.init(applicationContext)\r\n            //Fabric initialize kits\r\n            val fabric = Fabric.Builder(this)\r\n                .kits(Answers())\r\n    //            .kits(Crashlytics())\r\n                .debuggable(true)\r\n                .build()\r\n            Fabric.with(fabric)\r\n            //Adjust\r\n            adjustEnvironment = AdjustConfig.ENVIRONMENT_PRODUCTION\r\n            adjustConfig = AdjustConfig(this, ADJUST_APP_TOKEN, adjustEnvironment, true)\r\n            adjustConfig.setSendInBackground(true)\r\n            adjustConfig.setLogLevel(LogLevel.SUPRESS)\r\n            Adjust.onCreate(adjustConfig)\r\n            registerActivityLifecycleCallbacks(AdjustLifecycleCallbacks())\r\n            //Google Analytics\r\n            analytics = GoogleAnalytics.getInstance(this)\r\n        }\r\n    \r\n        override fun attachBaseContext(base: Context) {\r\n            super.attachBaseContext(base)\r\n            MultiDex.install(this)\r\n        }\r\n    \r\n        //Adjust lifecycle method\r\n        private class AdjustLifecycleCallbacks : Application.ActivityLifecycleCallbacks {\r\n            override fun onActivityResumed(activity: Activity) {\r\n                Adjust.onResume()\r\n            }\r\n    \r\n            override fun onActivityPaused(activity: Activity) {\r\n                Adjust.onPause()\r\n            }\r\n    \r\n            override fun onActivityStopped(activity: Activity) {}\r\n    \r\n            override fun onActivitySaveInstanceState(activity: Activity, outState: Bundle) {}\r\n    \r\n            override fun onActivityDestroyed(activity: Activity) {}\r\n    \r\n            override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle) {}\r\n    \r\n            override fun onActivityStarted(activity: Activity) {}\r\n        }\r\n    \r\n        @Synchronized\r\n        fun getDefaultTracker(): Tracker {\r\n            if (tracker == null) {\r\n                tracker = analytics.newTracker(R.xml.global_tracker)\r\n            }\r\n            return tracker\r\n        }\r\n    \r\n        fun anserTracker(name: String, type: String, id: String) {\r\n            Answers.getInstance().logContentView(\r\n                ContentViewEvent()\r\n                    .putContentName(name)\r\n                    .putContentType(type)\r\n                    .putContentId(id)\r\n            )\r\n        }\r\n    \r\n        fun googleTracker(category: String, action: String, label: String) {\r\n            val tracker: Tracker = getDefaultTracker()\r\n            tracker.send(\r\n                HitBuilders.EventBuilder()\r\n                    .setCategory(category)\r\n                    .setAction(action)\r\n                    .setLabel(label)\r\n                    .build()\r\n            )\r\n        }\r\n\r\n**Error message :**  \r\n\r\n    Caused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState\r\n        at com.app.android.ui.App$AdjustLifecycleCallbacks.onActivityCreated(Unknown Source:7)\r\n        at android.app.Application.dispatchActivityCreated(Application.java:221)\r\n        at android.app.Activity.onCreate(Activity.java:1071)\r\n        at androidx.activity.ComponentActivity.onCreate(ComponentActivity.java:147)\r\n        at androidx.fragment.app.FragmentActivity.onCreate(FragmentActivity.java:317)\r\n        at androidx.appcompat.app.AppCompatActivity.onCreate(AppCompatActivity.java:106)\r\n        at com.app.android.ui.base.BaseActivity.onCreate(BaseActivity.kt:16)\r\n\r\n\r\nShow me error for this line : `import androidx.multidex.MultiDex`\r\n\r\n\r\nHow can i fix this issue?","title":"How to fix Parameter specified as non-null is null error in Android","body":"<p>In my application i should implement <strong>MultiDex</strong> dependency, and i added this in <strong>gradle.build</strong> file and write some codes into <strong>application</strong> <code>class</code>!<br>\nBut after run application, show me <strong>force close</strong> error and not started application!<br>\n<strong>gradle.build :</strong></p>\n<pre><code>implementation 'com.android.support:multidex:1.0.3'\nimplementation 'com.android.support:multidex-instrumentation:1.0.3'\n</code></pre>\n<p><strong>BaseActivity class :</strong></p>\n<pre><code>abstract class BaseActivity : AppCompatActivity() {\n    /**\n     * Set your page layout when initialize `layoutId`, Ex. R.layout.activity_main\n     */\n    abstract var layoutId: Int\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(layoutId)\n    }\n\n    /**\n     * With below method, we can set custom font to all of activities\n     */\n    override fun attachBaseContext(newBase: Context) {\n        super.attachBaseContext(ViewPumpContextWrapper.wrap(newBase))\n    }\n}\n</code></pre>\n<p><strong>Application class :</strong></p>\n<pre><code>import android.app.Activity\nimport android.app.Application\nimport android.content.Context\nimport android.os.Bundle\nimport androidx.multidex.MultiDex\nimport com.adjust.sdk.Adjust\nimport com.adjust.sdk.AdjustConfig\nimport com.adjust.sdk.LogLevel\nimport com.app.android.R\nimport com.app.android.utils.ADJUST_APP_TOKEN\nimport com.crashlytics.android.Crashlytics\nimport com.crashlytics.android.answers.Answers\nimport com.crashlytics.android.answers.ContentViewEvent\nimport com.google.android.gms.analytics.GoogleAnalytics\nimport com.google.android.gms.analytics.HitBuilders\nimport com.google.android.gms.analytics.Tracker\nimport io.fabric.sdk.android.Fabric\nimport io.github.inflationx.calligraphy3.CalligraphyConfig\nimport io.github.inflationx.calligraphy3.CalligraphyInterceptor\nimport io.github.inflationx.viewpump.ViewPump\n\nclass App : Application() {\n\n    private var adjustEnvironment: String = &quot;&quot;\n    private lateinit var adjustConfig: AdjustConfig\n    private lateinit var analytics: GoogleAnalytics\n    private lateinit var tracker: Tracker\n\n    override fun onCreate() {\n        super.onCreate()\n        //Calligraphy\n        ViewPump.init(\n            ViewPump.builder().addInterceptor(\n                CalligraphyInterceptor(\n                    CalligraphyConfig.Builder().setDefaultFontPath(&quot;fonts/IranSans.ttf&quot;)\n                        .setFontAttrId(R.attr.fontPath)\n                        .build()\n                )\n            ).build()\n        )\n        //GoodPres\n        GoodPrefs.init(applicationContext)\n        //Fabric initialize kits\n        val fabric = Fabric.Builder(this)\n            .kits(Answers())\n//            .kits(Crashlytics())\n            .debuggable(true)\n            .build()\n        Fabric.with(fabric)\n        //Adjust\n        adjustEnvironment = AdjustConfig.ENVIRONMENT_PRODUCTION\n        adjustConfig = AdjustConfig(this, ADJUST_APP_TOKEN, adjustEnvironment, true)\n        adjustConfig.setSendInBackground(true)\n        adjustConfig.setLogLevel(LogLevel.SUPRESS)\n        Adjust.onCreate(adjustConfig)\n        registerActivityLifecycleCallbacks(AdjustLifecycleCallbacks())\n        //Google Analytics\n        analytics = GoogleAnalytics.getInstance(this)\n    }\n\n    override fun attachBaseContext(base: Context) {\n        super.attachBaseContext(base)\n        MultiDex.install(this)\n    }\n\n    //Adjust lifecycle method\n    private class AdjustLifecycleCallbacks : Application.ActivityLifecycleCallbacks {\n        override fun onActivityResumed(activity: Activity) {\n            Adjust.onResume()\n        }\n\n        override fun onActivityPaused(activity: Activity) {\n            Adjust.onPause()\n        }\n\n        override fun onActivityStopped(activity: Activity) {}\n\n        override fun onActivitySaveInstanceState(activity: Activity, outState: Bundle) {}\n\n        override fun onActivityDestroyed(activity: Activity) {}\n\n        override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle) {}\n\n        override fun onActivityStarted(activity: Activity) {}\n    }\n\n    @Synchronized\n    fun getDefaultTracker(): Tracker {\n        if (tracker == null) {\n            tracker = analytics.newTracker(R.xml.global_tracker)\n        }\n        return tracker\n    }\n\n    fun anserTracker(name: String, type: String, id: String) {\n        Answers.getInstance().logContentView(\n            ContentViewEvent()\n                .putContentName(name)\n                .putContentType(type)\n                .putContentId(id)\n        )\n    }\n\n    fun googleTracker(category: String, action: String, label: String) {\n        val tracker: Tracker = getDefaultTracker()\n        tracker.send(\n            HitBuilders.EventBuilder()\n                .setCategory(category)\n                .setAction(action)\n                .setLabel(label)\n                .build()\n        )\n    }\n</code></pre>\n<p><strong>Error message :</strong></p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState\n    at com.app.android.ui.App$AdjustLifecycleCallbacks.onActivityCreated(Unknown Source:7)\n    at android.app.Application.dispatchActivityCreated(Application.java:221)\n    at android.app.Activity.onCreate(Activity.java:1071)\n    at androidx.activity.ComponentActivity.onCreate(ComponentActivity.java:147)\n    at androidx.fragment.app.FragmentActivity.onCreate(FragmentActivity.java:317)\n    at androidx.appcompat.app.AppCompatActivity.onCreate(AppCompatActivity.java:106)\n    at com.app.android.ui.base.BaseActivity.onCreate(BaseActivity.kt:16)\n</code></pre>\n<p>Show me error for this line : <code>import androidx.multidex.MultiDex</code></p>\n<p>How can i fix this issue?</p>\n"},{"tags":["java","spring","security"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1676297620,"post_id":75434717,"comment_id":133103278,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":11502714,"reputation":23,"user_id":8430004,"display_name":"Michael Wayne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676284980,"creation_date":1676284980,"answer_id":75434820,"question_id":75434717,"body_markdown":"You can use spring security plugin with jwt token. Check out this documentation, https://www.javainuse.com/spring/boot-jwt it&#39;s very well explained. To add on that check out cores; the cores ensure only the allowed client url can communicate with your api, check out this https://spring.io/guides/gs/rest-service-cors/  ","title":"Spring - How to protect my api with client\\secret for server to server using","body":"<p>You can use spring security plugin with jwt token. Check out this documentation, <a href=\"https://www.javainuse.com/spring/boot-jwt\" rel=\"nofollow noreferrer\">https://www.javainuse.com/spring/boot-jwt</a> it's very well explained. To add on that check out cores; the cores ensure only the allowed client url can communicate with your api, check out this <a href=\"https://spring.io/guides/gs/rest-service-cors/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/rest-service-cors/</a></p>\n"}],"owner":{"account_id":13516163,"reputation":1,"user_id":9750669,"display_name":"Y A"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676284980,"creation_date":1676284425,"question_id":75434717,"body_markdown":"In Spring boot - how can I protect my API with client\\secret for server to server implementation?\r\nThe users details will saved in out custom DB\r\n\r\nI look for an example without form-login\r\n\r\nThanks!\r\n\r\n\r\n\r\nI listened to https://www.youtube.com/watch?v=DaUGKnA7aro\r\nBut it use form-data (interactive with user)\r\n","title":"Spring - How to protect my api with client\\secret for server to server using","body":"<p>In Spring boot - how can I protect my API with client\\secret for server to server implementation?\nThe users details will saved in out custom DB</p>\n<p>I look for an example without form-login</p>\n<p>Thanks!</p>\n<p>I listened to <a href=\"https://www.youtube.com/watch?v=DaUGKnA7aro\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=DaUGKnA7aro</a>\nBut it use form-data (interactive with user)</p>\n"},{"tags":["java","spring","spring-boot","localdate"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1545175860,"post_id":53842541,"comment_id":94533316,"body_markdown":"Did you try [jackson-modules-java8](https://github.com/FasterXML/jackson-modules-java8) yet?","body":"Did you try <a href=\"https://github.com/FasterXML/jackson-modules-java8\" rel=\"nofollow noreferrer\">jackson-modules-java8</a> yet?"},{"owner":{"account_id":9269503,"reputation":419,"user_id":6883957,"accept_rate":88,"display_name":"Keka Bron"},"score":0,"creation_date":1545176011,"post_id":53842541,"comment_id":94533346,"body_markdown":"Try the solution with the serializer.class just put them in the same package where your `prepareBooktoRent` class is","body":"Try the solution with the serializer.class just put them in the same package where your <code>prepareBooktoRent</code> class is"},{"owner":{"account_id":14286153,"reputation":587,"user_id":10319470,"display_name":"pipilam"},"score":0,"creation_date":1545176058,"post_id":53842541,"comment_id":94533359,"body_markdown":"@OleV.V. no I don&#39;t. I dont know where to put mapper.","body":"@OleV.V. no I don&#39;t. I dont know where to put mapper."},{"owner":{"account_id":9269503,"reputation":419,"user_id":6883957,"accept_rate":88,"display_name":"Keka Bron"},"score":0,"creation_date":1545208615,"post_id":53842541,"comment_id":94542192,"body_markdown":"try Tagas&#39; solution first,just read the solution below","body":"try Tagas&#39; solution first,just read the solution below"},{"owner":{"account_id":14286153,"reputation":587,"user_id":10319470,"display_name":"pipilam"},"score":0,"creation_date":1545209103,"post_id":53842541,"comment_id":94542409,"body_markdown":"@KekaBron I edited my question as to update code.","body":"@KekaBron I edited my question as to update code."},{"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"score":0,"creation_date":1545210255,"post_id":53842541,"comment_id":94543040,"body_markdown":"Hi there! Are you using Spring Boot 1.5.x and 2.0.x at the same time? Seems you&#39;re using start-json:2.0.5, in combination with Spring Boot 1.5.9.","body":"Hi there! Are you using Spring Boot 1.5.x and 2.0.x at the same time? Seems you&#39;re using start-json:2.0.5, in combination with Spring Boot 1.5.9."},{"owner":{"account_id":14286153,"reputation":587,"user_id":10319470,"display_name":"pipilam"},"score":0,"creation_date":1545210402,"post_id":53842541,"comment_id":94543114,"body_markdown":"@ErikPragt Hi, I&#39;ve updated pom.xml. I deleted version of start-json. But it did not work.","body":"@ErikPragt Hi, I&#39;ve updated pom.xml. I deleted version of start-json. But it did not work."},{"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"score":0,"creation_date":1545210408,"post_id":53842541,"comment_id":94543117,"body_markdown":"(I just checked, there is no spring-boot-starter-json for 1.x. Why did you actually go for a 1.5 version of spring boot?)","body":"(I just checked, there is no spring-boot-starter-json for 1.x. Why did you actually go for a 1.5 version of spring boot?)"},{"owner":{"account_id":14286153,"reputation":587,"user_id":10319470,"display_name":"pipilam"},"score":0,"creation_date":1545210730,"post_id":53842541,"comment_id":94543288,"body_markdown":"@ErikPragt here they guy https://stackoverflow.com/questions/38628674/spring-boot-issues-serializing-java-time-localdatetime-with-jackson-to-return-is has 1.3.6 SpringBoot.","body":"@ErikPragt here they guy <a href=\"https://stackoverflow.com/questions/38628674/spring-boot-issues-serializing-java-time-localdatetime-with-jackson-to-return-is\" title=\"spring boot issues serializing java time localdatetime with jackson to return is\">stackoverflow.com/questions/38628674/&hellip;</a> has 1.3.6 SpringBoot."},{"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"score":0,"creation_date":1545210821,"post_id":53842541,"comment_id":94543330,"body_markdown":"Well, how about going for the newest version (which is 2.1.1, see https://start.spring.io)","body":"Well, how about going for the newest version (which is 2.1.1, see <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a>)"},{"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"score":0,"creation_date":1545211342,"post_id":53842541,"comment_id":94543594,"body_markdown":"I&#39;ve published my complete example here: https://github.com/bodiam/spring-boot-java8-json-time","body":"I&#39;ve published my complete example here: <a href=\"https://github.com/bodiam/spring-boot-java8-json-time\" rel=\"nofollow noreferrer\">github.com/bodiam/spring-boot-java8-json-time</a>"},{"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"score":0,"creation_date":1675953522,"post_id":53842541,"comment_id":133041854,"body_markdown":"Service layer shouldn&#39;t return ResponseEntity. It&#39;s bad design.\nResponseEntity should exists only on Controller layer.","body":"Service layer shouldn&#39;t return ResponseEntity. It&#39;s bad design. ResponseEntity should exists only on Controller layer."}],"answers":[{"tags":[],"owner":{"account_id":5015882,"reputation":1519,"user_id":4030765,"accept_rate":25,"display_name":"Patric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545177745,"creation_date":1545177745,"answer_id":53842836,"question_id":53842541,"body_markdown":"Do you even need the `@JsonSerialize(using = LocalDateTimeSerializer.class)` and `@JsonDeserialize(using = LocalDateTimeDeserializer.class)`?\r\n\r\nI had the exact same problem, also using the `jackson-datatype-jsr310` dependency. Switching to [spring-boot-starter-json][1] solved the issue for me:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-json&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-starters/spring-boot-starter-json/pom.xml","title":"LocalDateTime format in Spring Boot","body":"<p>Do you even need the <code>@JsonSerialize(using = LocalDateTimeSerializer.class)</code> and <code>@JsonDeserialize(using = LocalDateTimeDeserializer.class)</code>?</p>\n\n<p>I had the exact same problem, also using the <code>jackson-datatype-jsr310</code> dependency. Switching to <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-starters/spring-boot-starter-json/pom.xml\" rel=\"nofollow noreferrer\">spring-boot-starter-json</a> solved the issue for me:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-json&lt;/artifactId&gt;\n    &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545211180,"creation_date":1545211180,"answer_id":53848020,"question_id":53842541,"body_markdown":"This is an updated example using Spring 2.1.1:\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.time.LocalDateTime;\r\n    \r\n    @SpringBootApplication\r\n    class PipilamApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(PipilamApplication.class, args);\r\n        }\r\n    }\r\n    \r\n    @RestController\r\n    class Controller {\r\n    \r\n        @GetMapping(&quot;/demo&quot;)\r\n        public Demo demo() {\r\n            return new Demo(&quot;pipilam&quot;,LocalDateTime.now());\r\n        }\r\n    }\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    class Demo {\r\n        String name;\r\n        LocalDateTime dateTime;\r\n    }\r\n\r\nConnecting to http://localhost:8080/demo gives the following output:\r\n\r\n    {&quot;name&quot;:&quot;pipilam&quot;,&quot;dateTime&quot;:&quot;2018-12-19T20:16:12.780268&quot;}\r\n\r\nNo configuration nor annotations needed. Consider [my previous answer][1] deprecated. This is the pom.xml I used:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.stackoverflow&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;pipilam&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;pipilam&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nYou can find the project in Github here: https://github.com/bodiam/spring-boot-java8-json-time\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29956175/json-java-8-localdatetime-format-in-spring-boot","title":"LocalDateTime format in Spring Boot","body":"<p>This is an updated example using Spring 2.1.1:</p>\n\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.time.LocalDateTime;\n\n@SpringBootApplication\nclass PipilamApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(PipilamApplication.class, args);\n    }\n}\n\n@RestController\nclass Controller {\n\n    @GetMapping(\"/demo\")\n    public Demo demo() {\n        return new Demo(\"pipilam\",LocalDateTime.now());\n    }\n}\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\nclass Demo {\n    String name;\n    LocalDateTime dateTime;\n}\n</code></pre>\n\n<p>Connecting to <a href=\"http://localhost:8080/demo\" rel=\"nofollow noreferrer\">http://localhost:8080/demo</a> gives the following output:</p>\n\n<pre><code>{\"name\":\"pipilam\",\"dateTime\":\"2018-12-19T20:16:12.780268\"}\n</code></pre>\n\n<p>No configuration nor annotations needed. Consider <a href=\"https://stackoverflow.com/questions/29956175/json-java-8-localdatetime-format-in-spring-boot\">my previous answer</a> deprecated. This is the pom.xml I used:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.stackoverflow&lt;/groupId&gt;\n    &lt;artifactId&gt;pipilam&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;pipilam&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>You can find the project in Github here: <a href=\"https://github.com/bodiam/spring-boot-java8-json-time\" rel=\"nofollow noreferrer\">https://github.com/bodiam/spring-boot-java8-json-time</a></p>\n"},{"tags":[],"owner":{"account_id":15764865,"reputation":41,"user_id":11375575,"display_name":"Justin Kersten"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676284903,"creation_date":1675947026,"answer_id":75398851,"question_id":53842541,"body_markdown":"Here is what did the trick for me, running Spring Boot 3.0.2:\r\n\r\nI just added the annotation\r\n\r\n    @JsonFormat(shape = Shape.STRING)\r\n\r\nto the regarding field inside my dto, resulting in\r\n\r\n    @JsonFormat(shape = Shape.STRING)\r\n    private LocalDateTime timestamp;\r\n\r\nThis way the result went from\r\n\r\n    &quot;timestamp&quot;: [\r\n\t\t2023,\r\n\t\t2,\r\n\t\t3,\r\n\t\t12,\r\n\t\t29,\r\n\t\t20,\r\n\t\t584451000\r\n\t],\r\n\r\nto the wanted ISO format\r\n\r\n    &quot;timestamp&quot;: &quot;2023-02-03T12:29:20.584451&quot;,\r\n\r\nThe reason this happens is because the default value for the json format is `Shape.ANY` and the [now isolated `ObjectMapper`][1] parses single integers to an array. The annotation forces the `ObjectMapper` to actually parse the value as a String. \r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#actuator-json","title":"LocalDateTime format in Spring Boot","body":"<p>Here is what did the trick for me, running Spring Boot 3.0.2:</p>\n<p>I just added the annotation</p>\n<pre><code>@JsonFormat(shape = Shape.STRING)\n</code></pre>\n<p>to the regarding field inside my dto, resulting in</p>\n<pre><code>@JsonFormat(shape = Shape.STRING)\nprivate LocalDateTime timestamp;\n</code></pre>\n<p>This way the result went from</p>\n<pre><code>&quot;timestamp&quot;: [\n    2023,\n    2,\n    3,\n    12,\n    29,\n    20,\n    584451000\n],\n</code></pre>\n<p>to the wanted ISO format</p>\n<pre><code>&quot;timestamp&quot;: &quot;2023-02-03T12:29:20.584451&quot;,\n</code></pre>\n<p>The reason this happens is because the default value for the json format is <code>Shape.ANY</code> and the <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#actuator-json\" rel=\"nofollow noreferrer\">now isolated <code>ObjectMapper</code></a> parses single integers to an array. The annotation forces the <code>ObjectMapper</code> to actually parse the value as a String.</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675949391,"creation_date":1675949391,"answer_id":75399317,"question_id":53842541,"body_markdown":"In your code remove the annotation `@JsonSerialize(using = LocalDateTimeSerializer.class)` and modify your annotation &lt;br&gt;`@JsonFormat(pattern = (&quot;yyyy/MM/dd HH:mm:ss&quot;))` to this:&lt;br&gt; `@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy/MM/dd HH:mm:ss&quot;))`&lt;br&gt; See [Spring Data JPA - ZonedDateTime format for json serialization][1] for more details\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization","title":"LocalDateTime format in Spring Boot","body":"<p>In your code remove the annotation <code>@JsonSerialize(using = LocalDateTimeSerializer.class)</code> and modify your annotation <br><code>@JsonFormat(pattern = (&quot;yyyy/MM/dd HH:mm:ss&quot;))</code> to this:<br> <code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy/MM/dd HH:mm:ss&quot;))</code><br> See <a href=\"https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization\">Spring Data JPA - ZonedDateTime format for json serialization</a> for more details</p>\n"}],"owner":{"account_id":14286153,"reputation":587,"user_id":10319470,"display_name":"pipilam"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10426,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1676284903,"creation_date":1545175345,"question_id":53842541,"body_markdown":"Hey I&#39;ve got the same problem as here: [https://stackoverflow.com/questions/29956175/json-java-8-localdatetime-format-in-spring-boot][1] I tried solutionts from there and it does not work. Could someone tell me what I did wrong?\r\n\r\nI added\r\n\r\n    spring.jackson.serialization.write-dates-as-timestamps=false\r\nto application.property\r\nMy model class looks like this:\r\n\r\n    package bookrental.model.book;\r\n    \r\n    import bookrental.model.account.User;\r\n    import com.fasterxml.jackson.annotation.JsonFormat;\r\n    import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\n    import com.fasterxml.jackson.databind.annotation.JsonSerialize;\r\n    import com.fasterxml.jackson.databind.util.ISO8601DateFormat;\r\n    import com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer;\r\n    import com.fasterxml.jackson.datatype.jsr310.ser.LocalDateTimeSerializer;\r\n    import lombok.*;\r\n    \r\n    import javax.persistence.*;\r\n    import java.time.LocalDateTime;\r\n    import java.util.Date;\r\n    \r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @EqualsAndHashCode\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class BookRentals {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int id;\r\n        @OneToOne\r\n        private Book book;\r\n        @OneToOne\r\n        private User user;\r\n        @JsonFormat(pattern = (&quot;yyyy/MM/dd HH:mm:ss&quot;))\r\n        @JsonSerialize(using = LocalDateTimeSerializer.class)\r\n        @JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n        private LocalDateTime dateOfRental;\r\n    \r\n        public BookRentals(Book book, User user) {\r\n            this.book = book;\r\n            this.user = user;\r\n        }\r\n    \r\n    }\r\n  \r\n\r\nI set time like this:\r\n\r\n    private BookRentals prepareBookToRent(int userID, Book book) {\r\n            BookRentals bookRentals = new BookRentals(book, new User(userID));\r\n            bookRentals.setDateOfRental(LocalDateTime.now());\r\n            return bookRentals;\r\n        }\r\n\r\nI added dependency:\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nAnd my JSON, looks like this:\r\n\r\n    [\r\n        {\r\n            &quot;book&quot;: {\r\n                &quot;author&quot;: &quot;Henryk Sienkiewicz&quot;,\r\n                &quot;category&quot;: &quot;powieść historyczna&quot;,\r\n                &quot;id&quot;: 1,\r\n                &quot;title&quot;: &quot;Krzyżacy&quot;\r\n            },\r\n            &quot;class&quot;: &quot;bookrental.model.book.BookRentals&quot;,\r\n            &quot;dateOfRental&quot;: {\r\n                &quot;class&quot;: &quot;java.time.LocalDateTime&quot;,\r\n                &quot;dayOfMonth&quot;: 19,\r\n                &quot;dayOfWeek&quot;: &quot;WEDNESDAY&quot;,\r\n                &quot;dayOfYear&quot;: 353,\r\n                &quot;hour&quot;: 0,\r\n                &quot;minute&quot;: 13,\r\n                &quot;month&quot;: &quot;DECEMBER&quot;,\r\n                &quot;monthValue&quot;: 12,\r\n                &quot;nano&quot;: 758649300,\r\n                &quot;second&quot;: 8,\r\n                &quot;year&quot;: 2018\r\n            },\r\n            &quot;id&quot;: 1,\r\n            &quot;user&quot;: {\r\n                &quot;id&quot;: 2,\r\n                &quot;name&quot;: &quot;piotri&quot;,\r\n                &quot;password&quot;: &quot;123&quot;\r\n            }\r\n        }\r\n    ]\r\n\r\nWhat else should I do?\r\n\r\nI didn&#39;t try solutions with classes, because I dont know, where I should put them in what package.\r\n// **EDIT**\r\nAfter Erik&#39;s advice, pom.xml looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    &lt;groupId&gt;com.book.rental.piotrek&lt;/groupId&gt;\r\n    &lt;artifactId&gt;BookRental&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;8&lt;/source&gt;\r\n                    &lt;target&gt;8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    \r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.flexjson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flexjson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nUpgrading didn&#39;t work.\r\nJSON:\r\n\r\n    [\r\n        {\r\n            &quot;book&quot;: {\r\n                &quot;author&quot;: &quot;Henryk Sienkiewicz&quot;,\r\n                &quot;category&quot;: &quot;powieść historyczna&quot;,\r\n                &quot;id&quot;: 1,\r\n                &quot;title&quot;: &quot;Krzyżacy&quot;\r\n            },\r\n            &quot;dateOfRental&quot;: {\r\n                &quot;dayOfMonth&quot;: 19,\r\n                &quot;dayOfWeek&quot;: &quot;WEDNESDAY&quot;,\r\n                &quot;dayOfYear&quot;: 353,\r\n                &quot;hour&quot;: 11,\r\n                &quot;minute&quot;: 22,\r\n                &quot;month&quot;: &quot;DECEMBER&quot;,\r\n                &quot;monthValue&quot;: 12,\r\n                &quot;nano&quot;: 884499000,\r\n                &quot;second&quot;: 17,\r\n                &quot;year&quot;: 2018\r\n            },\r\n            &quot;id&quot;: 7,\r\n            &quot;user&quot;: {\r\n                &quot;id&quot;: 5,\r\n                &quot;name&quot;: &quot;admin&quot;,\r\n                &quot;password&quot;: &quot;123&quot;\r\n            }\r\n        }\r\n    ]\r\n\r\nBookRentals:\r\n\r\n    package bookrental.model.book;\r\n    \r\n    import bookrental.model.account.User;\r\n    import lombok.*;\r\n    \r\n    import javax.persistence.*;\r\n    import java.time.LocalDateTime;\r\n    \r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @EqualsAndHashCode\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class BookRentals {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int id;\r\n        @OneToOne\r\n        private Book book;\r\n        @OneToOne\r\n        private User user;\r\n        private LocalDateTime dateOfRental;\r\n    \r\n        public BookRentals(Book book, User user) {\r\n            this.book = book;\r\n            this.user = user;\r\n        }\r\n    }\r\n\r\n**//EDIT2**\r\n\r\nHey. Accidently I found the cause of problem. I&#39;ve got class that is responsible for finding exact rantals for exact user. When I go to `/books/rentals/{userID}` Im getting properly foramtted date. As you can see method return `List&lt;BookRentals&gt;`. In `BookRentalsService` I return ResponseEntity&lt;String&gt; and I think because of that it looks like this. Do you know how to resolve it?\r\n\r\n        package bookrental.service.account;\r\n        \r\n        import bookrental.model.book.BookRentals;\r\n        import bookrental.repository.book.BookRentalsRepository;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.stereotype.Service;\r\n        \r\n        import java.util.List;\r\n        \r\n        @Service\r\n        public class UserRentalsService {\r\n        \r\n            private final BookRentalsRepository bookRentalsRepository;\r\n        \r\n            @Autowired\r\n            public UserRentalsService(BookRentalsRepository bookRentalsRepository) {\r\n                this.bookRentalsRepository = bookRentalsRepository;\r\n            }\r\n        \r\n            public List&lt;BookRentals&gt; findUserRentalsByGivenID(int userID) {\r\n                return bookRentalsRepository.getUserRentalsByGivenID(userID);\r\n            }\r\n        }\r\n    \r\n    \r\n    package bookrental.controller.account;\r\n    \r\n    import bookrental.model.book.BookRentals;\r\n    import bookrental.service.account.UserRentalsService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    public class UserRentalsController {\r\n    \r\n        private final UserRentalsService userRentalsService;\r\n    \r\n        @Autowired\r\n        public UserRentalsController(UserRentalsService userRentalsService) {\r\n            this.userRentalsService = userRentalsService;\r\n        }\r\n    \r\n        @GetMapping(&quot;books/rentals/{userID}&quot;)\r\n        public List&lt;BookRentals&gt; findUserRentalsByGivenID(@PathVariable int userID) {\r\n            return userRentalsService.findUserRentalsByGivenID(userID);\r\n        }\r\n    }\r\n\r\n**BookRentalsService**\r\n\r\n    package bookrental.service.book.rentals;\r\n    \r\n    import bookrental.model.account.User;\r\n    import bookrental.model.book.Book;\r\n    import bookrental.model.book.BookRentals;\r\n    import bookrental.repository.account.UserRepository;\r\n    import bookrental.repository.book.BookRepository;\r\n    import bookrental.repository.book.BookRentalsRepository;\r\n    import flexjson.JSONSerializer;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    @Service\r\n    public class BookRentalService {\r\n    \r\n        private final UserRepository userRepository;\r\n        private final BookRepository bookRepository;\r\n        private final BookRentalsRepository bookRentalsRepository;\r\n    \r\n        @Autowired\r\n        public BookRentalService(BookRepository bookRepository, BookRentalsRepository bookRentalsRepository, UserRepository userRepository) {\r\n            this.bookRepository = bookRepository;\r\n            this.bookRentalsRepository = bookRentalsRepository;\r\n            this.userRepository = userRepository;\r\n        }\r\n    \r\n        ....\r\n    \r\n        public ResponseEntity&lt;String&gt; findAllRentals() {\r\n            List&lt;BookRentals&gt; rentedBooks = new ArrayList&lt;&gt;();\r\n            bookRentalsRepository.findAll().forEach(rentedBooks::add);\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.add(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;);\r\n            return new ResponseEntity&lt;&gt;(new JSONSerializer().exclude(&quot;book.class&quot;)\r\n                    .exclude(&quot;book.available&quot;)\r\n                    .exclude(&quot;dateOfReturn&quot;)\r\n                    .exclude(&quot;*.class&quot;)\r\n                    .exclude(&quot;user.amountOfCashToPay&quot;)\r\n                    .exclude(&quot;password&quot;)\r\n                    .serialize(rentedBooks), headers, HttpStatus.OK);\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29956175/json-java-8-localdatetime-format-in-spring-boot","title":"LocalDateTime format in Spring Boot","body":"<p>Hey I've got the same problem as here: <a href=\"https://stackoverflow.com/questions/29956175/json-java-8-localdatetime-format-in-spring-boot\">JSON Java 8 LocalDateTime format in Spring Boot</a> I tried solutionts from there and it does not work. Could someone tell me what I did wrong?</p>\n\n<p>I added</p>\n\n<pre><code>spring.jackson.serialization.write-dates-as-timestamps=false\n</code></pre>\n\n<p>to application.property\nMy model class looks like this:</p>\n\n<pre><code>package bookrental.model.book;\n\nimport bookrental.model.account.User;\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport com.fasterxml.jackson.databind.util.ISO8601DateFormat;\nimport com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer;\nimport com.fasterxml.jackson.datatype.jsr310.ser.LocalDateTimeSerializer;\nimport lombok.*;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\nimport java.util.Date;\n\n@Entity\n@Getter\n@Setter\n@EqualsAndHashCode\n@AllArgsConstructor\n@NoArgsConstructor\npublic class BookRentals {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    @OneToOne\n    private Book book;\n    @OneToOne\n    private User user;\n    @JsonFormat(pattern = (\"yyyy/MM/dd HH:mm:ss\"))\n    @JsonSerialize(using = LocalDateTimeSerializer.class)\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\n    private LocalDateTime dateOfRental;\n\n    public BookRentals(Book book, User user) {\n        this.book = book;\n        this.user = user;\n    }\n\n}\n</code></pre>\n\n<p>I set time like this:</p>\n\n<pre><code>private BookRentals prepareBookToRent(int userID, Book book) {\n        BookRentals bookRentals = new BookRentals(book, new User(userID));\n        bookRentals.setDateOfRental(LocalDateTime.now());\n        return bookRentals;\n    }\n</code></pre>\n\n<p>I added dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n            &lt;version&gt;2.9.7&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>And my JSON, looks like this:</p>\n\n<pre><code>[\n    {\n        \"book\": {\n            \"author\": \"Henryk Sienkiewicz\",\n            \"category\": \"powieść historyczna\",\n            \"id\": 1,\n            \"title\": \"Krzyżacy\"\n        },\n        \"class\": \"bookrental.model.book.BookRentals\",\n        \"dateOfRental\": {\n            \"class\": \"java.time.LocalDateTime\",\n            \"dayOfMonth\": 19,\n            \"dayOfWeek\": \"WEDNESDAY\",\n            \"dayOfYear\": 353,\n            \"hour\": 0,\n            \"minute\": 13,\n            \"month\": \"DECEMBER\",\n            \"monthValue\": 12,\n            \"nano\": 758649300,\n            \"second\": 8,\n            \"year\": 2018\n        },\n        \"id\": 1,\n        \"user\": {\n            \"id\": 2,\n            \"name\": \"piotri\",\n            \"password\": \"123\"\n        }\n    }\n]\n</code></pre>\n\n<p>What else should I do?</p>\n\n<p>I didn't try solutions with classes, because I dont know, where I should put them in what package.\n// <strong>EDIT</strong>\nAfter Erik's advice, pom.xml looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.book.rental.piotrek&lt;/groupId&gt;\n&lt;artifactId&gt;BookRental&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;8&lt;/source&gt;\n                &lt;target&gt;8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.16.22&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.flexjson&lt;/groupId&gt;\n        &lt;artifactId&gt;flexjson&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Upgrading didn't work.\nJSON:</p>\n\n<pre><code>[\n    {\n        \"book\": {\n            \"author\": \"Henryk Sienkiewicz\",\n            \"category\": \"powieść historyczna\",\n            \"id\": 1,\n            \"title\": \"Krzyżacy\"\n        },\n        \"dateOfRental\": {\n            \"dayOfMonth\": 19,\n            \"dayOfWeek\": \"WEDNESDAY\",\n            \"dayOfYear\": 353,\n            \"hour\": 11,\n            \"minute\": 22,\n            \"month\": \"DECEMBER\",\n            \"monthValue\": 12,\n            \"nano\": 884499000,\n            \"second\": 17,\n            \"year\": 2018\n        },\n        \"id\": 7,\n        \"user\": {\n            \"id\": 5,\n            \"name\": \"admin\",\n            \"password\": \"123\"\n        }\n    }\n]\n</code></pre>\n\n<p>BookRentals:</p>\n\n<pre><code>package bookrental.model.book;\n\nimport bookrental.model.account.User;\nimport lombok.*;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\n\n@Entity\n@Getter\n@Setter\n@EqualsAndHashCode\n@AllArgsConstructor\n@NoArgsConstructor\npublic class BookRentals {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    @OneToOne\n    private Book book;\n    @OneToOne\n    private User user;\n    private LocalDateTime dateOfRental;\n\n    public BookRentals(Book book, User user) {\n        this.book = book;\n        this.user = user;\n    }\n}\n</code></pre>\n\n<p><strong>//EDIT2</strong></p>\n\n<p>Hey. Accidently I found the cause of problem. I've got class that is responsible for finding exact rantals for exact user. When I go to <code>/books/rentals/{userID}</code> Im getting properly foramtted date. As you can see method return <code>List&lt;BookRentals&gt;</code>. In <code>BookRentalsService</code> I return ResponseEntity and I think because of that it looks like this. Do you know how to resolve it?</p>\n\n<pre><code>    package bookrental.service.account;\n\n    import bookrental.model.book.BookRentals;\n    import bookrental.repository.book.BookRentalsRepository;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.stereotype.Service;\n\n    import java.util.List;\n\n    @Service\n    public class UserRentalsService {\n\n        private final BookRentalsRepository bookRentalsRepository;\n\n        @Autowired\n        public UserRentalsService(BookRentalsRepository bookRentalsRepository) {\n            this.bookRentalsRepository = bookRentalsRepository;\n        }\n\n        public List&lt;BookRentals&gt; findUserRentalsByGivenID(int userID) {\n            return bookRentalsRepository.getUserRentalsByGivenID(userID);\n        }\n    }\n\n\npackage bookrental.controller.account;\n\nimport bookrental.model.book.BookRentals;\nimport bookrental.service.account.UserRentalsService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\npublic class UserRentalsController {\n\n    private final UserRentalsService userRentalsService;\n\n    @Autowired\n    public UserRentalsController(UserRentalsService userRentalsService) {\n        this.userRentalsService = userRentalsService;\n    }\n\n    @GetMapping(\"books/rentals/{userID}\")\n    public List&lt;BookRentals&gt; findUserRentalsByGivenID(@PathVariable int userID) {\n        return userRentalsService.findUserRentalsByGivenID(userID);\n    }\n}\n</code></pre>\n\n<p><strong>BookRentalsService</strong></p>\n\n<pre><code>package bookrental.service.book.rentals;\n\nimport bookrental.model.account.User;\nimport bookrental.model.book.Book;\nimport bookrental.model.book.BookRentals;\nimport bookrental.repository.account.UserRepository;\nimport bookrental.repository.book.BookRepository;\nimport bookrental.repository.book.BookRentalsRepository;\nimport flexjson.JSONSerializer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Service;\n\nimport java.time.LocalDateTime;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Service\npublic class BookRentalService {\n\n    private final UserRepository userRepository;\n    private final BookRepository bookRepository;\n    private final BookRentalsRepository bookRentalsRepository;\n\n    @Autowired\n    public BookRentalService(BookRepository bookRepository, BookRentalsRepository bookRentalsRepository, UserRepository userRepository) {\n        this.bookRepository = bookRepository;\n        this.bookRentalsRepository = bookRentalsRepository;\n        this.userRepository = userRepository;\n    }\n\n    ....\n\n    public ResponseEntity&lt;String&gt; findAllRentals() {\n        List&lt;BookRentals&gt; rentedBooks = new ArrayList&lt;&gt;();\n        bookRentalsRepository.findAll().forEach(rentedBooks::add);\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(\"Content-Type\", \"application/json; charset=utf-8\");\n        return new ResponseEntity&lt;&gt;(new JSONSerializer().exclude(\"book.class\")\n                .exclude(\"book.available\")\n                .exclude(\"dateOfReturn\")\n                .exclude(\"*.class\")\n                .exclude(\"user.amountOfCashToPay\")\n                .exclude(\"password\")\n                .serialize(rentedBooks), headers, HttpStatus.OK);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","maven","amazon-sns"],"answers":[{"tags":[],"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676284664,"creation_date":1676284664,"answer_id":75434763,"question_id":75434020,"body_markdown":"Have you specified scope below on purpose?    \r\n```\r\n&lt;scope&gt;provided&lt;/scope&gt;\r\n```\r\n\r\n&quot;provided&quot; dependency should be provided by application server / servlet container. \r\nIf they are not provided, the deployment will fail. Try to change scope to compile to make the dependency a part of a package.","title":"Unable to resolve software.amazon.awssdk.auth.credentials&#160;(AWS SDK )in maven project","body":"<p>Have you specified scope below on purpose?</p>\n<pre><code>&lt;scope&gt;provided&lt;/scope&gt;\n</code></pre>\n<p>&quot;provided&quot; dependency should be provided by application server / servlet container.\nIf they are not provided, the deployment will fail. Try to change scope to compile to make the dependency a part of a package.</p>\n"}],"owner":{"account_id":25523476,"reputation":151,"user_id":19312929,"display_name":"Mario R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1603,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1676284664,"creation_date":1676280316,"question_id":75434020,"body_markdown":"I am trying to integrate AWS SNS in my maven project. I get below error while deploying the code&#160;\r\n\r\n    Could not start bundle aem-myproject.core [622]. Reason: {}. Will retry.\r\n    org.osgi.framework.BundleException: Unable to resolve aem-myproject.core [622](R 622.69): missing requirement [aem-myproject.core [622](R 622.69)] osgi.wiring.package; (osgi.wiring.package=software.amazon.awssdk.auth.credentials) Unresolved requirements: [[aem-myproject.core [622](R 622.69)] osgi.wiring.package; (osgi.wiring.package=software.amazon.awssdk.auth.credentials)]\r\n    \tat org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4368)\r\n    \tat org.apache.felix.framework.Felix.startBundle(Felix.java:2281)\r\n    \tat org.apache.felix.framework.BundleImpl.start(BundleImpl.java:998)\r\n    \tat org.apache.felix.framework.BundleImpl.start(BundleImpl.java:984)\r\n    \tat org.apache.sling.installer.core.impl.tasks.BundleStartTask.execute(BundleStartTask.java:97) [org.apache.sling.installer.core:3.9.0.B002]\r\n    \tat org.apache.sling.installer.core.impl.OsgiInstallerImpl.doExecuteTasks(OsgiInstallerImpl.java:914) [org.apache.sling.installer.core:3.9.0.B002]\r\n    \tat org.apache.sling.installer.core.impl.OsgiInstallerImpl.executeTasks(OsgiInstallerImpl.java:749) [org.apache.sling.installer.core:3.9.0.B002]\r\n    \tat org.apache.sling.installer.core.impl.OsgiInstallerImpl.run(OsgiInstallerImpl.java:298) [org.apache.sling.installer.core:3.9.0.B002]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nI have&#160;added below&#160;two dependencies in my POM file,\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;aws-sdk-java&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.20.2&lt;/version&gt;\r\n    \t&lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/software.amazon.awssdk/auth --&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;auth&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.20.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut I am not sure why it could not resolve&#160;software.amazon.awssdk.auth.credentials. Can anyone tell me if I need any other dependency&#160;to resolve&#160;this?\r\n\r\nRef - https://github.com/aws/aws-sdk-java-v2/#using-the-sdk\r\nhttps://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-simple-notification-service.html\r\n\r\nBasically I want to get all below import statement classes, \r\n\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.sns.SnsClient;\r\n    import software.amazon.awssdk.services.sns.model.CreateTopicRequest;\r\n    import software.amazon.awssdk.services.sns.model.CreateTopicResponse;\r\n    import software.amazon.awssdk.services.sns.model.SnsException;\r\n\r\n","title":"Unable to resolve software.amazon.awssdk.auth.credentials&#160;(AWS SDK )in maven project","body":"<p>I am trying to integrate AWS SNS in my maven project. I get below error while deploying the code </p>\n<pre><code>Could not start bundle aem-myproject.core [622]. Reason: {}. Will retry.\norg.osgi.framework.BundleException: Unable to resolve aem-myproject.core [622](R 622.69): missing requirement [aem-myproject.core [622](R 622.69)] osgi.wiring.package; (osgi.wiring.package=software.amazon.awssdk.auth.credentials) Unresolved requirements: [[aem-myproject.core [622](R 622.69)] osgi.wiring.package; (osgi.wiring.package=software.amazon.awssdk.auth.credentials)]\n    at org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4368)\n    at org.apache.felix.framework.Felix.startBundle(Felix.java:2281)\n    at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:998)\n    at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:984)\n    at org.apache.sling.installer.core.impl.tasks.BundleStartTask.execute(BundleStartTask.java:97) [org.apache.sling.installer.core:3.9.0.B002]\n    at org.apache.sling.installer.core.impl.OsgiInstallerImpl.doExecuteTasks(OsgiInstallerImpl.java:914) [org.apache.sling.installer.core:3.9.0.B002]\n    at org.apache.sling.installer.core.impl.OsgiInstallerImpl.executeTasks(OsgiInstallerImpl.java:749) [org.apache.sling.installer.core:3.9.0.B002]\n    at org.apache.sling.installer.core.impl.OsgiInstallerImpl.run(OsgiInstallerImpl.java:298) [org.apache.sling.installer.core:3.9.0.B002]\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>I have added below two dependencies in my POM file,</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-sdk-java&lt;/artifactId&gt;\n    &lt;version&gt;2.20.2&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/software.amazon.awssdk/auth --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;auth&lt;/artifactId&gt;\n    &lt;version&gt;2.20.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But I am not sure why it could not resolve software.amazon.awssdk.auth.credentials. Can anyone tell me if I need any other dependency to resolve this?</p>\n<p>Ref - <a href=\"https://github.com/aws/aws-sdk-java-v2/#using-the-sdk\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java-v2/#using-the-sdk</a>\n<a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-simple-notification-service.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-simple-notification-service.html</a></p>\n<p>Basically I want to get all below import statement classes,</p>\n<pre><code>import software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.sns.SnsClient;\nimport software.amazon.awssdk.services.sns.model.CreateTopicRequest;\nimport software.amazon.awssdk.services.sns.model.CreateTopicResponse;\nimport software.amazon.awssdk.services.sns.model.SnsException;\n</code></pre>\n"},{"tags":["java","swagger"],"answers":[{"tags":[],"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676284260,"creation_date":1676284260,"answer_id":75434689,"question_id":75434303,"body_markdown":"It&#39;s not possible.\r\n\r\nThe only workaround is to have two different paths, for example, `/readplans1` under tag1 and `/readplans2` under tag2. In this case you can have a unique description for each path.","title":"Swagger, tag based conditional description for the api","body":"<p>It's not possible.</p>\n<p>The only workaround is to have two different paths, for example, <code>/readplans1</code> under tag1 and <code>/readplans2</code> under tag2. In this case you can have a unique description for each path.</p>\n"}],"owner":{"account_id":10103282,"reputation":5,"user_id":12576895,"display_name":"Sudha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676284260,"creation_date":1676281963,"question_id":75434303,"body_markdown":"I am relatively new to swagger. I have a case where I have an api with 2 tags as mentioned below.\r\n\r\n```\r\n    @ApiOperation(value = &quot;readplans&quot;, nickname=&quot;readplans&quot;,notes = &quot;readplansfortag1, readplansfortag2&quot;, tags = {&quot;tag1&quot;,&quot;tag2&quot;})\r\n    @RequestMapping(value = &quot;/readplans&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;String[]&gt; readplans() {\r\n        log.info(&quot;readAddonPlansByBasePlan() - start&quot;);\r\n        String a ={&quot;plana&quot;,&quot;planb&quot;,&quot;planc&quot;};\r\n        log.info(&quot;readAddonPlansByBasePlan()  -end&quot;);\r\n        return new ResponseEntity&lt;&gt;(a, &quot;OK&quot;);\r\n\r\n    }\r\n```\r\n\r\nNow, I want to give different descriptions like readplansfortag1 when it is shown under tag1 and readplansfortag2 when it is shown under tag2.\r\n\r\nAny help would be appreciated!!","title":"Swagger, tag based conditional description for the api","body":"<p>I am relatively new to swagger. I have a case where I have an api with 2 tags as mentioned below.</p>\n<pre><code>    @ApiOperation(value = &quot;readplans&quot;, nickname=&quot;readplans&quot;,notes = &quot;readplansfortag1, readplansfortag2&quot;, tags = {&quot;tag1&quot;,&quot;tag2&quot;})\n    @RequestMapping(value = &quot;/readplans&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;String[]&gt; readplans() {\n        log.info(&quot;readAddonPlansByBasePlan() - start&quot;);\n        String a ={&quot;plana&quot;,&quot;planb&quot;,&quot;planc&quot;};\n        log.info(&quot;readAddonPlansByBasePlan()  -end&quot;);\n        return new ResponseEntity&lt;&gt;(a, &quot;OK&quot;);\n\n    }\n</code></pre>\n<p>Now, I want to give different descriptions like readplansfortag1 when it is shown under tag1 and readplansfortag2 when it is shown under tag2.</p>\n<p>Any help would be appreciated!!</p>\n"},{"tags":["java","collections","java-stream"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676284106,"creation_date":1676245861,"answer_id":75430912,"question_id":75430769,"body_markdown":"Create compound keys using the fields you are interested in from `listEmployeesB` and remove an element from `listEmployeesA` if a compound key is contained in the set:\r\n\r\n    Set&lt;List&lt;String&gt;&gt; set = listEmployeesB.stream()\r\n                                    .map(e -&gt; Arrays.asList(e.empId, e.name, e.group))\r\n                                    .collect(Collectors.toSet());\r\n\r\n    listEmployeesA.removeIf(e -&gt; set.contains( Arrays.asList(e.empId, e.name, e.group)));","title":"How do I remove multiple object elements from a list from another in Java 8?","body":"<p>Create compound keys using the fields you are interested in from <code>listEmployeesB</code> and remove an element from <code>listEmployeesA</code> if a compound key is contained in the set:</p>\n<pre><code>Set&lt;List&lt;String&gt;&gt; set = listEmployeesB.stream()\n                                .map(e -&gt; Arrays.asList(e.empId, e.name, e.group))\n                                .collect(Collectors.toSet());\n\nlistEmployeesA.removeIf(e -&gt; set.contains( Arrays.asList(e.empId, e.name, e.group)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676250266,"creation_date":1676250266,"answer_id":75431162,"question_id":75430769,"body_markdown":"You can get `removeAll` to work with `listEmployeesA.removeAll(listEmployeesB)` by adding two methods to the `Employee` class: \r\n\r\n      @Override\r\n      public boolean equals (Object other)\r\n \r\n      @Override\r\n      public int hashCode () \r\n\r\nWhen you do, in `equals`, compare only the ID, name, and group. Also, in `hashCode`, build a hash code from those fields. Exclude salary from both `equals` and `hashCode`. \r\n\r\nIf you don&#39;t know how to code a good `hashCode` or `equals` method, check your IDE for a tool that can create code for these methods.\r\n\r\nOverriding `equals` works because `removeAll` uses `equals (Object)` to compare the elements in each `List`.  Without overriding the equals method, the `equals (Object o)` method inherited from `Object` is used, which tests to see if the references are the same.\r\n\r\nWhen you override `equals` method, *always* override `hashCode` method. \r\n","title":"How do I remove multiple object elements from a list from another in Java 8?","body":"<p>You can get <code>removeAll</code> to work with <code>listEmployeesA.removeAll(listEmployeesB)</code> by adding two methods to the <code>Employee</code> class:</p>\n<pre><code>  @Override\n  public boolean equals (Object other)\n\n  @Override\n  public int hashCode () \n</code></pre>\n<p>When you do, in <code>equals</code>, compare only the ID, name, and group. Also, in <code>hashCode</code>, build a hash code from those fields. Exclude salary from both <code>equals</code> and <code>hashCode</code>.</p>\n<p>If you don't know how to code a good <code>hashCode</code> or <code>equals</code> method, check your IDE for a tool that can create code for these methods.</p>\n<p>Overriding <code>equals</code> works because <code>removeAll</code> uses <code>equals (Object)</code> to compare the elements in each <code>List</code>.  Without overriding the equals method, the <code>equals (Object o)</code> method inherited from <code>Object</code> is used, which tests to see if the references are the same.</p>\n<p>When you override <code>equals</code> method, <em>always</em> override <code>hashCode</code> method.</p>\n"}],"owner":{"account_id":5037087,"reputation":33,"user_id":4045556,"display_name":"Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75431162,"answer_count":2,"score":-1,"last_activity_date":1676284106,"creation_date":1676243560,"question_id":75430769,"body_markdown":"I have class Employee which have 3 fields.\r\n\r\nAnd I have a list of DTO objects.\r\n\r\n    public class Employee {\r\n       private String empId;\r\n       private String name;\r\n       private String group;\r\n       private String salary;       \r\n    }\r\n\r\n\r\n    List&lt;Employee&gt; listEmployeesA = new ArrayList&lt;&gt;(List.of(\r\n     new Employee(&quot;101&quot;.&quot;Mark&quot;, &quot;A&quot;, 20000),\r\n     new Employee(&quot;102&quot;.&quot;Tom&quot;, &quot;B&quot;, 3000),\r\n     new Employee(&quot;103&quot;.&quot;Travis&quot;, &quot;C&quot;, 5000),\r\n     new Employee(&quot;104&quot;.&quot;Diana&quot;, null, 3500),\r\n     new Employee(&quot;105&quot;.&quot;Keith&quot;, &quot;D&quot;, 4200),\r\n     new Employee(&quot;106&quot;.&quot;Liam&quot;, &quot;E&quot;, 6500),\r\n     new Employee(&quot;107&quot;.&quot;Whitney&quot;, &quot;F&quot;, 6100),\r\n     new Employee(&quot;108&quot;.&quot;Tina&quot;, null,2900)\r\n     new Employee(&quot;109&quot;.&quot;Patrick&quot;, &quot;G&quot;, 3400)\r\n     ));\r\n\r\n\r\n    List&lt;Employee&gt; listEmployeesB = new ArrayList&lt;&gt;(List.of(\r\n     new Employee(&quot;101&quot;.&quot;Mark&quot;, &quot;A&quot;, 20000),\r\n     new Employee(&quot;103&quot;.&quot;Travis&quot;, &quot;C&quot;, 5000),\r\n     new Employee(&quot;104&quot;.&quot;Diana&quot;, null, 3500),\r\n     ));\r\n\r\nI have two list for employee class, I remove all object elements from listEmployeesA which is already in the listEmployeesB only based on only property **empId, name and group** but not the based on **salary**.\r\n\r\nI want to do something look like below example (based on few class property):\r\n\r\n    listEmployeesA.removeAll(listEmployeesB);\r\n\r\nExpected out below list for listEmployeesA: \r\n\r\n    Employee(&quot;102&quot;.&quot;Tom&quot;, &quot;B&quot;, 3000),\r\n    Employee(&quot;105&quot;.&quot;Keith&quot;, &quot;D&quot;, 4200),\r\n    Employee(&quot;106&quot;.&quot;Liam&quot;, &quot;E&quot;, 6500),\r\n    Employee(&quot;107&quot;.&quot;Whitney&quot;, &quot;F&quot;, 6100),\r\n    Employee(&quot;108&quot;.&quot;Tina&quot;, null,2900)\r\n    Employee(&quot;109&quot;.&quot;Patrick&quot;, &quot;G&quot;, 3400)\r\n\r\n","title":"How do I remove multiple object elements from a list from another in Java 8?","body":"<p>I have class Employee which have 3 fields.</p>\n<p>And I have a list of DTO objects.</p>\n<pre><code>public class Employee {\n   private String empId;\n   private String name;\n   private String group;\n   private String salary;       \n}\n\n\nList&lt;Employee&gt; listEmployeesA = new ArrayList&lt;&gt;(List.of(\n new Employee(&quot;101&quot;.&quot;Mark&quot;, &quot;A&quot;, 20000),\n new Employee(&quot;102&quot;.&quot;Tom&quot;, &quot;B&quot;, 3000),\n new Employee(&quot;103&quot;.&quot;Travis&quot;, &quot;C&quot;, 5000),\n new Employee(&quot;104&quot;.&quot;Diana&quot;, null, 3500),\n new Employee(&quot;105&quot;.&quot;Keith&quot;, &quot;D&quot;, 4200),\n new Employee(&quot;106&quot;.&quot;Liam&quot;, &quot;E&quot;, 6500),\n new Employee(&quot;107&quot;.&quot;Whitney&quot;, &quot;F&quot;, 6100),\n new Employee(&quot;108&quot;.&quot;Tina&quot;, null,2900)\n new Employee(&quot;109&quot;.&quot;Patrick&quot;, &quot;G&quot;, 3400)\n ));\n\n\nList&lt;Employee&gt; listEmployeesB = new ArrayList&lt;&gt;(List.of(\n new Employee(&quot;101&quot;.&quot;Mark&quot;, &quot;A&quot;, 20000),\n new Employee(&quot;103&quot;.&quot;Travis&quot;, &quot;C&quot;, 5000),\n new Employee(&quot;104&quot;.&quot;Diana&quot;, null, 3500),\n ));\n</code></pre>\n<p>I have two list for employee class, I remove all object elements from listEmployeesA which is already in the listEmployeesB only based on only property <strong>empId, name and group</strong> but not the based on <strong>salary</strong>.</p>\n<p>I want to do something look like below example (based on few class property):</p>\n<pre><code>listEmployeesA.removeAll(listEmployeesB);\n</code></pre>\n<p>Expected out below list for listEmployeesA:</p>\n<pre><code>Employee(&quot;102&quot;.&quot;Tom&quot;, &quot;B&quot;, 3000),\nEmployee(&quot;105&quot;.&quot;Keith&quot;, &quot;D&quot;, 4200),\nEmployee(&quot;106&quot;.&quot;Liam&quot;, &quot;E&quot;, 6500),\nEmployee(&quot;107&quot;.&quot;Whitney&quot;, &quot;F&quot;, 6100),\nEmployee(&quot;108&quot;.&quot;Tina&quot;, null,2900)\nEmployee(&quot;109&quot;.&quot;Patrick&quot;, &quot;G&quot;, 3400)\n</code></pre>\n"},{"tags":["java","mysql","mysql-workbench"],"comments":[{"owner":{"account_id":1208968,"reputation":1661,"user_id":1177897,"accept_rate":65,"display_name":"Nabor"},"score":0,"creation_date":1485162956,"post_id":41802577,"comment_id":70792979,"body_markdown":"Uuh, just now I found this http://mysqlserverteam.com/mysql-8-0-labs-descending-indexes-in-mysql/ MySQL 5.7 does not support DESC indexes, so why am I able to select DESC as an option for an index in MySQL Workbench...","body":"Uuh, just now I found this <a href=\"http://mysqlserverteam.com/mysql-8-0-labs-descending-indexes-in-mysql/\" rel=\"nofollow noreferrer\">mysqlserverteam.com/mysql-8-0-labs-descending-indexes-in-mys&zwnj;&#8203;ql</a> MySQL 5.7 does not support DESC indexes, so why am I able to select DESC as an option for an index in MySQL Workbench..."},{"owner":{"account_id":1156784,"reputation":50182,"user_id":1137174,"accept_rate":78,"display_name":"Mike Lischke"},"score":1,"creation_date":1485244728,"post_id":41802577,"comment_id":70833044,"body_markdown":"There are a few things that originally had no support, but were accepted by the SQL parser (CHECK is another example). Things imporve over time.","body":"There are a few things that originally had no support, but were accepted by the SQL parser (CHECK is another example). Things imporve over time."}],"owner":{"account_id":1208968,"reputation":1661,"user_id":1177897,"accept_rate":65,"display_name":"Nabor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1030,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676284096,"creation_date":1485162614,"question_id":41802577,"body_markdown":"MySQL Version: 5.7.17 on Windows 10\r\n\r\nI used the following SQL statement to generate a table.\r\n\r\n\tCREATE TABLE `attributes` (\r\n\t  `id` varchar(36) NOT NULL,\r\n\t  `name` varchar(255) NOT NULL,\r\n\t  `created` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n\t  `modified` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\r\n\t  PRIMARY KEY (`id`),\r\n\t  UNIQUE KEY `id_UNIQUE` (`id`),\r\n\t  KEY `name_idx` (`name` DESC)\r\n\t)\r\n\r\nI tried that statement from Java Code. I tried this statement also from MySQL Workbench.  \r\nIt never creates a descending index on name.  \r\nIs this a known issue?  \r\nHave I made a mistake?","title":"MySQL 5.7 unable to create desc index","body":"<p>MySQL Version: 5.7.17 on Windows 10</p>\n\n<p>I used the following SQL statement to generate a table.</p>\n\n<pre><code>CREATE TABLE `attributes` (\n  `id` varchar(36) NOT NULL,\n  `name` varchar(255) NOT NULL,\n  `created` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `modified` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `id_UNIQUE` (`id`),\n  KEY `name_idx` (`name` DESC)\n)\n</code></pre>\n\n<p>I tried that statement from Java Code. I tried this statement also from MySQL Workbench.<br>\nIt never creates a descending index on name.<br>\nIs this a known issue?<br>\nHave I made a mistake?</p>\n"},{"tags":["java","spring-boot","swagger","springfox"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1676282709,"post_id":75433777,"comment_id":133099062,"body_markdown":"Can you please share your swagger?","body":"Can you please share your swagger?"},{"owner":{"account_id":18936970,"reputation":209,"user_id":13817825,"display_name":"phildeg31"},"score":0,"creation_date":1676283898,"post_id":75433777,"comment_id":133099370,"body_markdown":"My swagger? I do not understand what do you want sorry","body":"My swagger? I do not understand what do you want sorry"}],"owner":{"account_id":18936970,"reputation":209,"user_id":13817825,"display_name":"phildeg31"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676283969,"creation_date":1676278806,"question_id":75433777,"body_markdown":"I use Spring Boot 2.7.6 and I tried to configure Swagger but it is not working and I do not know why. I tried to do the same configuration than the answers given for other questions related to Swagger but it does not work. I will try to give all needed information to explain my configuration.\r\n\r\nI have this dependency in my pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI have these properties:\r\n\r\n    server.servlet.context-path=/my-api-web\r\n    server.port=8081\r\n\r\nHere is my swagger configuration:\r\n\r\n    @Configuration\r\n    public class SwaggerConfig implements WebMvcConfigurer {\r\n    \r\n    \t@Bean\r\n    \tpublic Docket api() {\r\n    \t\treturn new Docket(DocumentationType.SWAGGER_2).select()\r\n    .apis(RequestHandlerSelectors.basePackage(&quot;com.test.api.controller&quot;)).paths(PathSelectors.any())\r\n    \t\t\t\t.build();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addResourceHandlers(final ResourceHandlerRegistry registry) {\r\n    \t\tregistry.addResourceHandler(&quot;/swagger-ui.html&quot;)\r\n    \t\t\t\t.addResourceLocations(&quot;classpath:/META-INF/resources/swagger-ui.html&quot;);\r\n    \t\tregistry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n    \t}\r\n    }\r\n\r\nHere is my Spring security configuration:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n    \t@Override\r\n    \tpublic void configure(final WebSecurity web) throws Exception {\r\n    \t\tweb.ignoring().antMatchers(&quot;/v2/api-docs&quot;, &quot;/configuration/**&quot;, &quot;/swagger*/**&quot;, &quot;/webjars/**&quot;)\r\n    \t\t\t\t.antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(final HttpSecurity http) throws Exception {\r\n    \r\n    \t\t// configure provider and filter\r\n    \t\thttp.requestMatchers().antMatchers(&quot;/enpoint1/**&quot;, &quot;/endpoint2/**&quot;).and()\r\n    \t\t\t\t.authenticationProvider(this.preAuthenticatedAuthenticationProvider())\r\n    \t\t\t\t.addFilter(this.userContextFilter());\r\n    \r\n    \t\t// configure what is authenticated and what is anonymous\r\n    \t\thttp.authorizeRequests().antMatchers(&quot;/endpoint1/**&quot;, &quot;/endpoint2/**&quot;).authenticated() //\r\n    \t\t\t\t.antMatchers(&quot;/**&quot;, &quot;/v2/api-docs&quot;, &quot;/configuration/**&quot;, &quot;/swagger*/**&quot;, &quot;/webjars/**&quot;).permitAll() //\r\n    \t\t\t\t.anyRequest().permitAll();\r\n    \r\n    \t\thttp.csrf().disable();\r\n    \r\n    \t\thttp.exceptionHandling().authenticationEntryPoint(this.authenticationEntryPoint());\r\n    \t}\r\n    \r\n    \t...\r\n    }\r\n\r\nWhen I try to connect to http://localhost:8081/my-api-web/v2/api-docs , I have a JSON but I also see this error in the console on back-end side:\r\n\r\n     ee4321ce-8c76-4da9-a3da-b8a86da13155 ERROR 2023-02-13 09:51:55.287 springfox.documentation.swagger2.mappers.ReferenceModelSpecificationToPropertyConverter - Unable to find a model that matches key ModelKey{qualifiedModelName=ModelName{namespace=&#39;java.lang&#39;, name=&#39;Void&#39;}, viewDiscriminator=null, validationGroupDiscriminators=[], isResponse=true}\r\n\r\nWhen I try to access to swagger-ui, it does not work. I tried https://localhost:8081/my-api-web/swagger-ui/ and http://localhost:8081/my-api-web/swagger-ui/index.html .\r\n\r\nFor the second one I have this error on front-end side:\r\n\r\n    Whitelabel Error Page\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    \r\n    Mon Feb 13 09:55:12 CET 2023\r\n    There was an unexpected error (type=Not Found, status=404).\r\n\r\nI also saw this error on back-end side but I do not know if it is linked:\r\n\r\n    java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x020x000x010x000x010xfc0x030x030xd2f0xbd0x130x07?L0xa99F0x0e0xfbu0xa40xae0xde&#39;0xc370xf70xad0x990xcf0x830xe290xa30xac0x840xd60x0c0x18 ]. HTTP method names must be tokens\r\n    \tat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:750)\r\n\r\nI do not know how to make swagger UI work for my case.\r\n\r\nI also saw an answer with springdoc-openapi-ui but I do not know if it is useful for me to use swagger or if it is a replacement?","title":"Swagger not working with spring-boot 2.7.6","body":"<p>I use Spring Boot 2.7.6 and I tried to configure Swagger but it is not working and I do not know why. I tried to do the same configuration than the answers given for other questions related to Swagger but it does not work. I will try to give all needed information to explain my configuration.</p>\n<p>I have this dependency in my pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have these properties:</p>\n<pre><code>server.servlet.context-path=/my-api-web\nserver.port=8081\n</code></pre>\n<p>Here is my swagger configuration:</p>\n<pre><code>@Configuration\npublic class SwaggerConfig implements WebMvcConfigurer {\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2).select()\n.apis(RequestHandlerSelectors.basePackage(&quot;com.test.api.controller&quot;)).paths(PathSelectors.any())\n                .build();\n    }\n\n    @Override\n    public void addResourceHandlers(final ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/swagger-ui.html&quot;)\n                .addResourceLocations(&quot;classpath:/META-INF/resources/swagger-ui.html&quot;);\n        registry.addResourceHandler(&quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n    }\n}\n</code></pre>\n<p>Here is my Spring security configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    public void configure(final WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/v2/api-docs&quot;, &quot;/configuration/**&quot;, &quot;/swagger*/**&quot;, &quot;/webjars/**&quot;)\n                .antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;);\n    }\n\n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n\n        // configure provider and filter\n        http.requestMatchers().antMatchers(&quot;/enpoint1/**&quot;, &quot;/endpoint2/**&quot;).and()\n                .authenticationProvider(this.preAuthenticatedAuthenticationProvider())\n                .addFilter(this.userContextFilter());\n\n        // configure what is authenticated and what is anonymous\n        http.authorizeRequests().antMatchers(&quot;/endpoint1/**&quot;, &quot;/endpoint2/**&quot;).authenticated() //\n                .antMatchers(&quot;/**&quot;, &quot;/v2/api-docs&quot;, &quot;/configuration/**&quot;, &quot;/swagger*/**&quot;, &quot;/webjars/**&quot;).permitAll() //\n                .anyRequest().permitAll();\n\n        http.csrf().disable();\n\n        http.exceptionHandling().authenticationEntryPoint(this.authenticationEntryPoint());\n    }\n\n    ...\n}\n</code></pre>\n<p>When I try to connect to http://localhost:8081/my-api-web/v2/api-docs , I have a JSON but I also see this error in the console on back-end side:</p>\n<pre><code> ee4321ce-8c76-4da9-a3da-b8a86da13155 ERROR 2023-02-13 09:51:55.287 springfox.documentation.swagger2.mappers.ReferenceModelSpecificationToPropertyConverter - Unable to find a model that matches key ModelKey{qualifiedModelName=ModelName{namespace='java.lang', name='Void'}, viewDiscriminator=null, validationGroupDiscriminators=[], isResponse=true}\n</code></pre>\n<p>When I try to access to swagger-ui, it does not work. I tried https://localhost:8081/my-api-web/swagger-ui/ and http://localhost:8081/my-api-web/swagger-ui/index.html .</p>\n<p>For the second one I have this error on front-end side:</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nMon Feb 13 09:55:12 CET 2023\nThere was an unexpected error (type=Not Found, status=404).\n</code></pre>\n<p>I also saw this error on back-end side but I do not know if it is linked:</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid character found in method name [0x160x030x010x020x000x010x000x010xfc0x030x030xd2f0xbd0x130x07?L0xa99F0x0e0xfbu0xa40xae0xde'0xc370xf70xad0x990xcf0x830xe290xa30xac0x840xd60x0c0x18 ]. HTTP method names must be tokens\n    at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:419)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p>I do not know how to make swagger UI work for my case.</p>\n<p>I also saw an answer with springdoc-openapi-ui but I do not know if it is useful for me to use swagger or if it is a replacement?</p>\n"},{"tags":["java","grpc","quarkus","grpc-java","quarkus-grpc"],"answers":[{"tags":[],"owner":{"account_id":230858,"reputation":418,"user_id":494709,"display_name":"alesj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676283806,"creation_date":1676283806,"answer_id":75434614,"question_id":75412735,"body_markdown":"OK, same discussion -- answered here:\r\n* https://github.com/quarkusio/quarkus/discussions/31110#discussioncomment-4956320","title":"Quarkus gRPC ExceptionHandlerProvider does not close response message with the correct status","body":"<p>OK, same discussion -- answered here:</p>\n<ul>\n<li><a href=\"https://github.com/quarkusio/quarkus/discussions/31110#discussioncomment-4956320\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/discussions/31110#discussioncomment-4956320</a></li>\n</ul>\n"}],"owner":{"account_id":3055119,"reputation":2347,"user_id":2611798,"display_name":"Junior Dussouillez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75434614,"answer_count":1,"score":1,"last_activity_date":1676283806,"creation_date":1676041092,"question_id":75412735,"body_markdown":"I have a Quarkus gRPC server (reactive with Mutiny) and I want to customize the response status if an exception is thrown on the server side service.\r\n\r\n[Repo to reproduce](https://github.com/jdussouillez/quarkus-grpc-exception-handler)\r\n\r\nBy default, when an exception is thrown, the server responds a gRPC status `UNKNOWN`. When some exception is thrown, I want to respond with status `INTERNAL` (or others).\r\n\r\nTo do this, I used the `ExceptionHandlerProvider` ([doc](https://quarkus.io/guides/grpc-service-consumption#custom-exception-handling)). The problem is that the method `ExceptionHandler::handleException` is never called (but [`ExceptionHandlerProvider::transform`](https://github.com/quarkusio/quarkus/blob/2.16.2.Final/extensions/grpc/api/src/main/java/io/quarkus/grpc/ExceptionHandlerProvider.java#L22) is).\r\n\r\n*Code simplified, real code [here](https://github.com/jdussouillez/quarkus-grpc-exception-handler/blob/master/src/main/java/io/quarkus/grpc/examples/hello/HelloExceptionHandlerProvider.java)*\r\n```java\r\n@ApplicationScoped\r\npublic class HelloExceptionHandlerProvider implements ExceptionHandlerProvider {\r\n\r\n    @Override\r\n    public &lt;ReqT, RespT&gt; ExceptionHandler&lt;ReqT, RespT&gt; createHandler(ServerCall.Listener&lt;ReqT&gt; listener, ServerCall&lt;ReqT, RespT&gt; serverCall, Metadata metadata) {\r\n        System.out.println(&quot;HelloExceptionHandlerProvider::createHandler&quot;);\r\n        return new HelloExceptionHandler&lt;&gt;(listener, serverCall, metadata);\r\n    }\r\n\r\n    @Override\r\n    public Throwable transform(final Throwable throwable) {\r\n        return new StatusException().status(Status.INTERNAL); // TODO: transform the throwable to status exception\r\n    }\r\n\r\n    protected static class HelloExceptionHandler&lt;I, O&gt; extends ExceptionHandler&lt;I, O&gt; {\r\n\r\n        public HelloExceptionHandler(ServerCall.Listener&lt;I&gt; listener, ServerCall&lt;I, O&gt; call, Metadata metadata) {\r\n            super(listener, call, metadata);\r\n        }\r\n\r\n        @Override\r\n        protected void handleException(Throwable throwable, ServerCall&lt;I, O&gt; call, Metadata metadata) {\r\n            // This is never called!\r\n            StatusException ex = (StatusException) throwable;\r\n            call.close(ex.getStatus(), ex.getTrailers());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo on the client side, when an exception is thrown, the response status is still `UNKNOWN` (should be `INTERNAL)` but there is a `grpc-status` metadata value with value 13 (`INTERNAL` code value).\r\n\r\n![Error response](https://raw.githubusercontent.com/jdussouillez/quarkus-grpc-exception-handler/master/assets/response.png)\r\n\r\nIn the logs, everything is fine except that [the missing `handleException` call](https://github.com/jdussouillez/quarkus-grpc-exception-handler/blob/master/src/main/java/io/quarkus/grpc/examples/hello/HelloExceptionHandlerProvider.java#L53) :\r\n\r\n```\r\nHelloExceptionHandlerProvider::createHandler\r\nHelloExceptionHandler::constructor\r\nHelloExceptionHandlerProvider::transform - Should exit with status INTERNAL\r\n```\r\n\r\nDo I miss something here?\r\n\r\n-----\r\n\r\nAnother weird thing is that if I comment the `metadata.put(Metadata.Key.of(&quot;hello-error-code&quot;, Metadata.ASCII_STRING_MARSHALLER), ex.getCode());` line then the status is `INTERNAL` as expected. It seems that adding trailer metadata cause the response to fail with `UNKNOWN` status.\r\n\r\n**Edit:** It seems fine when using the Quarkus gRPC client. This weird behavior is seen in Postman interface. See https://github.com/quarkusio/quarkus/discussions/31110#discussioncomment-4956272","title":"Quarkus gRPC ExceptionHandlerProvider does not close response message with the correct status","body":"<p>I have a Quarkus gRPC server (reactive with Mutiny) and I want to customize the response status if an exception is thrown on the server side service.</p>\n<p><a href=\"https://github.com/jdussouillez/quarkus-grpc-exception-handler\" rel=\"nofollow noreferrer\">Repo to reproduce</a></p>\n<p>By default, when an exception is thrown, the server responds a gRPC status <code>UNKNOWN</code>. When some exception is thrown, I want to respond with status <code>INTERNAL</code> (or others).</p>\n<p>To do this, I used the <code>ExceptionHandlerProvider</code> (<a href=\"https://quarkus.io/guides/grpc-service-consumption#custom-exception-handling\" rel=\"nofollow noreferrer\">doc</a>). The problem is that the method <code>ExceptionHandler::handleException</code> is never called (but <a href=\"https://github.com/quarkusio/quarkus/blob/2.16.2.Final/extensions/grpc/api/src/main/java/io/quarkus/grpc/ExceptionHandlerProvider.java#L22\" rel=\"nofollow noreferrer\"><code>ExceptionHandlerProvider::transform</code></a> is).</p>\n<p><em>Code simplified, real code <a href=\"https://github.com/jdussouillez/quarkus-grpc-exception-handler/blob/master/src/main/java/io/quarkus/grpc/examples/hello/HelloExceptionHandlerProvider.java\" rel=\"nofollow noreferrer\">here</a></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationScoped\npublic class HelloExceptionHandlerProvider implements ExceptionHandlerProvider {\n\n    @Override\n    public &lt;ReqT, RespT&gt; ExceptionHandler&lt;ReqT, RespT&gt; createHandler(ServerCall.Listener&lt;ReqT&gt; listener, ServerCall&lt;ReqT, RespT&gt; serverCall, Metadata metadata) {\n        System.out.println(&quot;HelloExceptionHandlerProvider::createHandler&quot;);\n        return new HelloExceptionHandler&lt;&gt;(listener, serverCall, metadata);\n    }\n\n    @Override\n    public Throwable transform(final Throwable throwable) {\n        return new StatusException().status(Status.INTERNAL); // TODO: transform the throwable to status exception\n    }\n\n    protected static class HelloExceptionHandler&lt;I, O&gt; extends ExceptionHandler&lt;I, O&gt; {\n\n        public HelloExceptionHandler(ServerCall.Listener&lt;I&gt; listener, ServerCall&lt;I, O&gt; call, Metadata metadata) {\n            super(listener, call, metadata);\n        }\n\n        @Override\n        protected void handleException(Throwable throwable, ServerCall&lt;I, O&gt; call, Metadata metadata) {\n            // This is never called!\n            StatusException ex = (StatusException) throwable;\n            call.close(ex.getStatus(), ex.getTrailers());\n        }\n    }\n}\n</code></pre>\n<p>So on the client side, when an exception is thrown, the response status is still <code>UNKNOWN</code> (should be <code>INTERNAL)</code> but there is a <code>grpc-status</code> metadata value with value 13 (<code>INTERNAL</code> code value).</p>\n<p><img src=\"https://raw.githubusercontent.com/jdussouillez/quarkus-grpc-exception-handler/master/assets/response.png\" alt=\"Error response\" /></p>\n<p>In the logs, everything is fine except that <a href=\"https://github.com/jdussouillez/quarkus-grpc-exception-handler/blob/master/src/main/java/io/quarkus/grpc/examples/hello/HelloExceptionHandlerProvider.java#L53\" rel=\"nofollow noreferrer\">the missing <code>handleException</code> call</a> :</p>\n<pre><code>HelloExceptionHandlerProvider::createHandler\nHelloExceptionHandler::constructor\nHelloExceptionHandlerProvider::transform - Should exit with status INTERNAL\n</code></pre>\n<p>Do I miss something here?</p>\n<hr />\n<p>Another weird thing is that if I comment the <code>metadata.put(Metadata.Key.of(&quot;hello-error-code&quot;, Metadata.ASCII_STRING_MARSHALLER), ex.getCode());</code> line then the status is <code>INTERNAL</code> as expected. It seems that adding trailer metadata cause the response to fail with <code>UNKNOWN</code> status.</p>\n<p><strong>Edit:</strong> It seems fine when using the Quarkus gRPC client. This weird behavior is seen in Postman interface. See <a href=\"https://github.com/quarkusio/quarkus/discussions/31110#discussioncomment-4956272\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/discussions/31110#discussioncomment-4956272</a></p>\n"},{"tags":["java","java-package"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1676283172,"post_id":75434481,"comment_id":133099195,"body_markdown":"You need the full package name in a package declaration, so `package highest-level-package-name.sub-package-name;`","body":"You need the full package name in a package declaration, so <code>package highest-level-package-name.sub-package-name;</code>"}],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676283772,"creation_date":1676283433,"answer_id":75434558,"question_id":75434481,"body_markdown":"## Example ##\r\n\r\nYou are only supposed to write a **single** `package` statement, with the **full name** of the package. So if you have a directory hierarchy for your packages like:\r\n\r\n```java\r\nfoo/\r\n└─ bar/\r\n   └─ baz/\r\n      └─ Test.java\r\n```\r\n\r\nYour `Test.java` file would have a statement like:\r\n\r\n```java\r\npackage foo.bar.baz;\r\n```\r\n\r\n## Nested packages ##\r\n\r\nJava itself actually has **no concept of nested packages**.\r\n\r\nAs far as the language is concerned,\r\n* `foo`,\r\n* `foo.bar` and\r\n* `foo.bar.baz`\r\n\r\nare considered three **independent packages**. *Sub-packages* or *parent-packages* are not a thing to Java.\r\n\r\nConsequently, _package-visibility_ also does **not carry over** to *sub-* or *parent-packages*.","title":"How to write package-statements for nested packages?","body":"<h2>Example</h2>\n<p>You are only supposed to write a <strong>single</strong> <code>package</code> statement, with the <strong>full name</strong> of the package. So if you have a directory hierarchy for your packages like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>foo/\n└─ bar/\n   └─ baz/\n      └─ Test.java\n</code></pre>\n<p>Your <code>Test.java</code> file would have a statement like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package foo.bar.baz;\n</code></pre>\n<h2>Nested packages</h2>\n<p>Java itself actually has <strong>no concept of nested packages</strong>.</p>\n<p>As far as the language is concerned,</p>\n<ul>\n<li><code>foo</code>,</li>\n<li><code>foo.bar</code> and</li>\n<li><code>foo.bar.baz</code></li>\n</ul>\n<p>are considered three <strong>independent packages</strong>. <em>Sub-packages</em> or <em>parent-packages</em> are not a thing to Java.</p>\n<p>Consequently, <em>package-visibility</em> also does <strong>not carry over</strong> to <em>sub-</em> or <em>parent-packages</em>.</p>\n"}],"owner":{"account_id":11049975,"reputation":33,"user_id":8114775,"display_name":"Tushar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75434558,"answer_count":1,"score":1,"last_activity_date":1676283772,"creation_date":1676283080,"question_id":75434481,"body_markdown":"If I have a class in a sub-package like `sub-package-name`, which is in a parent-package like `higher-level-package-name`, do I just write\r\n\r\n    package &quot;sub-package-name&quot;;\r\n\r\nOr also add the parent-package, maybe like\r\n\r\n    package &quot;sub-package-name&quot;;\r\n    package &quot;higher-level-package-name&quot;;","title":"How to write package-statements for nested packages?","body":"<p>If I have a class in a sub-package like <code>sub-package-name</code>, which is in a parent-package like <code>higher-level-package-name</code>, do I just write</p>\n<pre><code>package &quot;sub-package-name&quot;;\n</code></pre>\n<p>Or also add the parent-package, maybe like</p>\n<pre><code>package &quot;sub-package-name&quot;;\npackage &quot;higher-level-package-name&quot;;\n</code></pre>\n"},{"tags":["java","itext","itext7"],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676283650,"creation_date":1676283650,"question_id":75434593,"body_markdown":"I have a PDF document with fillable fields; I need to resave it without them. I have tried to do it the following way:\r\n```\r\npublic static void main(String[] args) throws IOException {\r\n        PdfReader reader = new PdfReader(Objects.requireNonNull(Main.class.getClassLoader().getResourceAsStream(&quot;FillableFields.pdf&quot;)));\r\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n        PdfWriter writer = new PdfWriter(os);\r\n        PdfDocument document = new PdfDocument(reader, writer);\r\n        PdfAcroForm acroForm = PdfAcroForm.getAcroForm(document, true);\r\n        acroForm.flattenFields();\r\n        document.close();\r\n        Files.write(Paths.get(&quot;WithoutFields.pdf&quot;), os.toByteArray(), StandardOpenOption.CREATE);\r\n    }\r\n```\r\nThis approach is not suitable for me because the values from these fields stay in the document, but I need to remove all data (fields and their values).\r\nThen I tried to do it the next way:\r\n```\r\n    public static void main(String[] args) throws IOException {\r\n        PdfReader reader = new PdfReader(Objects.requireNonNull(Main.class.getClassLoader().getResourceAsStream(&quot;FillableFields.pdf&quot;)));\r\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n        PdfWriter writer = new PdfWriter(os);\r\n        PdfDocument document = new PdfDocument(reader, writer);\r\n        PdfAcroForm acroForm = PdfAcroForm.getAcroForm(document, true);\r\n        if(acroForm.hasXfaForm())\r\n            acroForm.removeXfaForm();\r\n        document.close();\r\n        System.out.println(os.size());\r\n        Files.write(Paths.get(&quot;WithoutFields.pdf&quot;), os.toByteArray(), StandardOpenOption.CREATE);\r\n    }\r\n```\r\nIt is also not suitable for me because the condition ```if(acroForm.hasXfaForm())``` has returned ```false```.\r\n\r\nCan anyone suggest to me how can I save a PDF without fillable fields and their values?","title":"How to save a pdf ignoring fillable fields","body":"<p>I have a PDF document with fillable fields; I need to resave it without them. I have tried to do it the following way:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n        PdfReader reader = new PdfReader(Objects.requireNonNull(Main.class.getClassLoader().getResourceAsStream(&quot;FillableFields.pdf&quot;)));\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\n        PdfWriter writer = new PdfWriter(os);\n        PdfDocument document = new PdfDocument(reader, writer);\n        PdfAcroForm acroForm = PdfAcroForm.getAcroForm(document, true);\n        acroForm.flattenFields();\n        document.close();\n        Files.write(Paths.get(&quot;WithoutFields.pdf&quot;), os.toByteArray(), StandardOpenOption.CREATE);\n    }\n</code></pre>\n<p>This approach is not suitable for me because the values from these fields stay in the document, but I need to remove all data (fields and their values).\nThen I tried to do it the next way:</p>\n<pre><code>    public static void main(String[] args) throws IOException {\n        PdfReader reader = new PdfReader(Objects.requireNonNull(Main.class.getClassLoader().getResourceAsStream(&quot;FillableFields.pdf&quot;)));\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\n        PdfWriter writer = new PdfWriter(os);\n        PdfDocument document = new PdfDocument(reader, writer);\n        PdfAcroForm acroForm = PdfAcroForm.getAcroForm(document, true);\n        if(acroForm.hasXfaForm())\n            acroForm.removeXfaForm();\n        document.close();\n        System.out.println(os.size());\n        Files.write(Paths.get(&quot;WithoutFields.pdf&quot;), os.toByteArray(), StandardOpenOption.CREATE);\n    }\n</code></pre>\n<p>It is also not suitable for me because the condition <code>if(acroForm.hasXfaForm())</code> has returned <code>false</code>.</p>\n<p>Can anyone suggest to me how can I save a PDF without fillable fields and their values?</p>\n"},{"tags":["java","ios","selenium","instruments","appium"],"answers":[{"tags":[],"owner":{"account_id":5532679,"reputation":112,"user_id":4392168,"display_name":"amk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437080750,"creation_date":1437080750,"answer_id":31464511,"question_id":31455145,"body_markdown":"Just writing a possible solution without having the code we use at hand, notice this is what we have done on our nodes running in a windows machine, but it may work for Appium aswell. AFAIK there is an IOSDriver which you instance, that driver extends from RemoteWebDriver which has an overridable log method (don&#39;t remember the name). You may extend the IOSDriver class and override that logging method so that you can log wherever you want using the log library you like.","title":"How to get Appium Server logs","body":"<p>Just writing a possible solution without having the code we use at hand, notice this is what we have done on our nodes running in a windows machine, but it may work for Appium aswell. AFAIK there is an IOSDriver which you instance, that driver extends from RemoteWebDriver which has an overridable log method (don't remember the name). You may extend the IOSDriver class and override that logging method so that you can log wherever you want using the log library you like.</p>\n"},{"tags":[],"owner":{"account_id":3911305,"reputation":1530,"user_id":3236557,"accept_rate":80,"display_name":"Kirill"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437107733,"creation_date":1437107733,"answer_id":31468455,"question_id":31455145,"body_markdown":"From official [documentation][1]:  \r\n\r\n - You can specify file path where you want to store logs using appium flag `-g` or `--log` and later filter it by `[INST]` maybe? \r\n - Also you can send log output to HTTP listener using flag `-G` or `--webhook` like that: `--webhook localhost:9876`. I don&#39;t know how it works though, but would like to know!\r\n - There is flag `--log-timestamp` which turns on timestamps in console output (by default it is to `false`). I&#39;d recommend to enable it :)\r\n\r\n  [1]: http://appium.io/slate/en/master/?ruby#server-flags","title":"How to get Appium Server logs","body":"<p>From official <a href=\"http://appium.io/slate/en/master/?ruby#server-flags\" rel=\"nofollow\">documentation</a>:  </p>\n\n<ul>\n<li>You can specify file path where you want to store logs using appium flag <code>-g</code> or <code>--log</code> and later filter it by <code>[INST]</code> maybe? </li>\n<li>Also you can send log output to HTTP listener using flag <code>-G</code> or <code>--webhook</code> like that: <code>--webhook localhost:9876</code>. I don't know how it works though, but would like to know!</li>\n<li>There is flag <code>--log-timestamp</code> which turns on timestamps in console output (by default it is to <code>false</code>). I'd recommend to enable it :)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3755726,"reputation":5760,"user_id":3122133,"accept_rate":83,"display_name":"Madhan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1437145084,"creation_date":1437145084,"answer_id":31478765,"question_id":31455145,"body_markdown":"\r\nAs said by @Kirill Zhukov.\r\n\r\nAlso you can send log output to HTTP listener using flag `-G` or `--webhook` like that: `--webhook localhost:9876`.\r\n\r\nIf you&#39;re using UI you have to enable this Log to webhook\r\n\r\n![enter image description here][1]\r\n\r\nI have created a simple Socket server to listen to the logs and it works perfectly.Use this server to get the logs as per your need.The below code will print the logs in the console\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.util.logging.Level;\r\n\r\n    import java.util.logging.Logger;\r\n    \r\n    public class Server extends Thread {\r\n\r\n    private static ServerSocket socket;\r\n    private static String home = &quot;./&quot;;\r\n    private static int port = 9876;\r\n    private static boolean isAlive = true;\r\n    private static final Server server = new Server();\r\n\r\n    public static Server getServer(String[] args) {\r\n        if (args.length == 2) {\r\n            home = args[1];\r\n        }\r\n        port = Integer.parseInt(args[0]);\r\n        return server;\r\n    }\r\n\r\n    private Server() {\r\n\r\n    }\r\n\r\n    public static Server getServer() {\r\n        return server;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            if (socket != null) {\r\n                if (!socket.isClosed()) {\r\n                    if (port == getPort()) {\r\n                        System.err.println(&quot;Server active at the Same Port! &quot;);\r\n                    } else {\r\n                        close();\r\n                    }\r\n                }\r\n            }\r\n            socket = new ServerSocket(port);\r\n            port = socket.getLocalPort();\r\n            System.out.println(&quot;Server accepting connections on port :&quot; + port);\r\n            socket.setReceiveBufferSize(146988);\r\n            handlleRequest();\r\n        } catch (IOException e) {\r\n            System.err.println(&quot;Could not start server: &quot; + e.getMessage());\r\n            port = 0;\r\n            run();\r\n        }\r\n    }\r\n\r\n    public int getPort() {\r\n        return socket == null ? 0 : port;\r\n    }\r\n\r\n    public String getPortS() {\r\n        return String.valueOf(port);\r\n    }\r\n\r\n    public void Stop() {\r\n        isAlive = false;\r\n    }\r\n\r\n    public void handlleRequest() {\r\n        while (isAlive) {\r\n            System.out.println(&quot;Test&quot;);\r\n            try (Socket connection = socket.accept()) {\r\n                display(connection);\r\n            } catch (IOException e) {\r\n                System.err.println(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void display(Socket connection) {\r\n        try (BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()))) {\r\n            String line = in.readLine();\r\n            while (in.ready() &amp;&amp; line != null) {\r\n                System.out.println(line);\r\n                line = in.readLine();\r\n            }\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(Server.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n\r\n    public void close() throws IOException {\r\n        if (socket != null &amp;&amp; !socket.isClosed()) {\r\n            isAlive = false;\r\n            socket.close();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        args = new String[]{&quot;9876&quot;, &quot;./&quot;};\r\n        Server f = Server.getServer(args);\r\n        f.start();\r\n    }\r\n\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/dLkFs.png","title":"How to get Appium Server logs","body":"<p>As said by @Kirill Zhukov.</p>\n\n<p>Also you can send log output to HTTP listener using flag <code>-G</code> or <code>--webhook</code> like that: <code>--webhook localhost:9876</code>.</p>\n\n<p>If you're using UI you have to enable this Log to webhook</p>\n\n<p><img src=\"https://i.stack.imgur.com/dLkFs.png\" alt=\"enter image description here\"></p>\n\n<p>I have created a simple Socket server to listen to the logs and it works perfectly.Use this server to get the logs as per your need.The below code will print the logs in the console</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.logging.Level;\n\nimport java.util.logging.Logger;\n\npublic class Server extends Thread {\n\nprivate static ServerSocket socket;\nprivate static String home = \"./\";\nprivate static int port = 9876;\nprivate static boolean isAlive = true;\nprivate static final Server server = new Server();\n\npublic static Server getServer(String[] args) {\n    if (args.length == 2) {\n        home = args[1];\n    }\n    port = Integer.parseInt(args[0]);\n    return server;\n}\n\nprivate Server() {\n\n}\n\npublic static Server getServer() {\n    return server;\n}\n\n@Override\npublic void run() {\n    try {\n        if (socket != null) {\n            if (!socket.isClosed()) {\n                if (port == getPort()) {\n                    System.err.println(\"Server active at the Same Port! \");\n                } else {\n                    close();\n                }\n            }\n        }\n        socket = new ServerSocket(port);\n        port = socket.getLocalPort();\n        System.out.println(\"Server accepting connections on port :\" + port);\n        socket.setReceiveBufferSize(146988);\n        handlleRequest();\n    } catch (IOException e) {\n        System.err.println(\"Could not start server: \" + e.getMessage());\n        port = 0;\n        run();\n    }\n}\n\npublic int getPort() {\n    return socket == null ? 0 : port;\n}\n\npublic String getPortS() {\n    return String.valueOf(port);\n}\n\npublic void Stop() {\n    isAlive = false;\n}\n\npublic void handlleRequest() {\n    while (isAlive) {\n        System.out.println(\"Test\");\n        try (Socket connection = socket.accept()) {\n            display(connection);\n        } catch (IOException e) {\n            System.err.println(e);\n        }\n    }\n}\n\npublic void display(Socket connection) {\n    try (BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()))) {\n        String line = in.readLine();\n        while (in.ready() &amp;&amp; line != null) {\n            System.out.println(line);\n            line = in.readLine();\n        }\n    } catch (IOException ex) {\n        Logger.getLogger(Server.class.getName()).log(Level.SEVERE, null, ex);\n    }\n}\n\npublic void close() throws IOException {\n    if (socket != null &amp;&amp; !socket.isClosed()) {\n        isAlive = false;\n        socket.close();\n    }\n}\n\npublic static void main(String[] args) {\n    args = new String[]{\"9876\", \"./\"};\n    Server f = Server.getServer(args);\n    f.start();\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25496206,"reputation":11,"user_id":19290223,"display_name":"DireWolfer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676283089,"creation_date":1676283089,"answer_id":75434484,"question_id":31455145,"body_markdown":"There is one more option, you can start the appium server from the Editor.\r\nWrite a custom function, to start and stop the server from you&#39;re test, While doing so you can see the server logs in the console - in runtime.\r\nand after test completion. Logs can be captured and converted to any other formats from the editor.  \r\n\r\nAddon: If you schedule the CI/CD through Jenkins, Logs will also be a part of the report. \r\n\r\n\r\nRefer to below Code to start appiumserver Automatically:\r\npublic void startNewAppiumServer() {\r\n\r\n\t\tAppiumDriverLocalService service = new AppiumServiceBuilder()\r\n\t\t\t\t.withAppiumJS(new File(\r\n\t\t\t\t\t\t&quot;C:\\\\Users\\\\John\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\build\\\\lib\\\\main.js&quot;))\r\n\t\t\t\t.withIPAddress(&quot;127.0.0.1&quot;).usingPort(4723).build();\r\n\t\tthis.service = service;\r\n\t\tservice.start();\r\n\t}","title":"How to get Appium Server logs","body":"<p>There is one more option, you can start the appium server from the Editor.\nWrite a custom function, to start and stop the server from you're test, While doing so you can see the server logs in the console - in runtime.\nand after test completion. Logs can be captured and converted to any other formats from the editor.</p>\n<p>Addon: If you schedule the CI/CD through Jenkins, Logs will also be a part of the report.</p>\n<p>Refer to below Code to start appiumserver Automatically:\npublic void startNewAppiumServer() {</p>\n<pre><code>    AppiumDriverLocalService service = new AppiumServiceBuilder()\n            .withAppiumJS(new File(\n                    &quot;C:\\\\Users\\\\John\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\build\\\\lib\\\\main.js&quot;))\n            .withIPAddress(&quot;127.0.0.1&quot;).usingPort(4723).build();\n    this.service = service;\n    service.start();\n}\n</code></pre>\n"}],"owner":{"account_id":3755726,"reputation":5760,"user_id":3122133,"accept_rate":83,"display_name":"Madhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20350,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":31478765,"answer_count":4,"score":5,"last_activity_date":1676283089,"creation_date":1437052205,"question_id":31455145,"body_markdown":"Is there any way to get the Appium server logs in the test script like\r\n\r\n     driver.manage().logs().get(&quot;appium server&quot;);\r\n\r\nor redirect the appium server logs to console\r\n\r\nMy main purpose is to get the Instrumentation Logs alone not all logs\r\n\r\n     info: [debug] [INST]  instrument logs","title":"How to get Appium Server logs","body":"<p>Is there any way to get the Appium server logs in the test script like</p>\n\n<pre><code> driver.manage().logs().get(\"appium server\");\n</code></pre>\n\n<p>or redirect the appium server logs to console</p>\n\n<p>My main purpose is to get the Instrumentation Logs alone not all logs</p>\n\n<pre><code> info: [debug] [INST]  instrument logs\n</code></pre>\n"},{"tags":["java","xml","spring-boot","jackson","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676282721,"creation_date":1676282721,"answer_id":75434425,"question_id":75434326,"body_markdown":"Make changes in the config class to set the default wrapper to false.\r\n\r\n    @Component\r\n    public class JacksonCustomizer implements Jackson2ObjectMapperBuilderCustomizer {\r\n    \t@Override\r\n    \tpublic void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\r\n    \t\tjacksonObjectMapperBuilder.modulesToInstall(new JaxbAnnotationModule());\r\n    \t\tjacksonObjectMapperBuilder.defaultUseWrapper(false);  //This was missing before\r\n    \t}\r\n    }","title":"Annotation based XML Marshalling in Spring Boot","body":"<p>Make changes in the config class to set the default wrapper to false.</p>\n<pre><code>@Component\npublic class JacksonCustomizer implements Jackson2ObjectMapperBuilderCustomizer {\n    @Override\n    public void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\n        jacksonObjectMapperBuilder.modulesToInstall(new JaxbAnnotationModule());\n        jacksonObjectMapperBuilder.defaultUseWrapper(false);  //This was missing before\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4996271,"reputation":971,"user_id":4108345,"accept_rate":61,"display_name":"Harsh Kanakhara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75434425,"answer_count":1,"score":0,"last_activity_date":1676282721,"creation_date":1676282123,"question_id":75434326,"body_markdown":"In my spring boot application, I have below DTO class\r\n\r\n    @Data\r\n    public clsss Feed {\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \tprivate String title;\r\n    \t\r\n    \t@Builder\r\n    \t@XmlRootElement(name = &quot;feeds&quot;)\r\n    \tpublic static class Feeds {\r\n    \t\t@XmlElement(name = &quot;feed&quot;)\r\n    \t\t@Singular\r\n    \t\tprivate List&lt;Feed&gt; feeds;\r\n    \t}\r\n    }\r\n\r\nMy config class as below\r\n\r\n    @Component\r\n    public class JacksonCustomizer implements Jackson2ObjectMapperBuilderCustomizer {\r\n    \t@Override\r\n    \tpublic void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\r\n    \t\tjacksonObjectMapperBuilder.modulesToInstall(new JaxbAnnotationModule());\r\n    \t}\r\n    }\r\n\r\nDAO class implementation as below\r\n\r\n    public Feeds getAll() {\r\n    \tString sqlQuery = &quot;SELECT * FROM feed WHERE trash = 0&quot;;\r\n    \treturn Feeds.builder().feeds(namedParameterJdbcTemplate.query(sqlQuery, new BeanPropertyRowMapper&lt;&gt;(Feed.class))).build();\r\n    }\r\n\r\nUsing my ReST API, XML response I am receiving as below:\r\n\r\n    &lt;feeds&gt;\r\n    \t&lt;feed&gt;\r\n    \t\t&lt;feed&gt;\r\n    \t\t\t&lt;id&gt;1&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Val1&lt;/name&gt;\r\n    \t\t\t&lt;title&gt;Title1&lt;/title&gt;\r\n    \t\t&lt;/feed&gt;\r\n    \t\t&lt;feed&gt;\r\n    \t\t\t&lt;id&gt;2&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Val2&lt;/name&gt;\r\n    \t\t\t&lt;title&gt;Title2&lt;/title&gt;\r\n    \t\t&lt;/feed&gt;\r\n    \t&lt;/feed&gt;\r\n    &lt;/feeds&gt;\r\n\r\nI want to remove `&lt;feed&gt;` which comes as a wrapper element. **Desired output is as below**:\r\n\r\n    &lt;feeds&gt;\r\n    \t&lt;feed&gt;\r\n    \t\t&lt;id&gt;1&lt;/id&gt;\r\n    \t\t&lt;name&gt;Val1&lt;/name&gt;\r\n    \t\t&lt;title&gt;Title1&lt;/title&gt;\r\n    \t&lt;/feed&gt;\r\n    \t&lt;feed&gt;\r\n    \t\t&lt;id&gt;2&lt;/id&gt;\r\n    \t\t&lt;name&gt;Val2&lt;/name&gt;\r\n    \t\t&lt;title&gt;Title2&lt;/title&gt;\r\n    \t&lt;/feed&gt;\r\n    &lt;/feeds&gt;\r\n\r\n","title":"Annotation based XML Marshalling in Spring Boot","body":"<p>In my spring boot application, I have below DTO class</p>\n<pre><code>@Data\npublic clsss Feed {\n    private int id;\n    private String name;\n    private String title;\n    \n    @Builder\n    @XmlRootElement(name = &quot;feeds&quot;)\n    public static class Feeds {\n        @XmlElement(name = &quot;feed&quot;)\n        @Singular\n        private List&lt;Feed&gt; feeds;\n    }\n}\n</code></pre>\n<p>My config class as below</p>\n<pre><code>@Component\npublic class JacksonCustomizer implements Jackson2ObjectMapperBuilderCustomizer {\n    @Override\n    public void customize(Jackson2ObjectMapperBuilder jacksonObjectMapperBuilder) {\n        jacksonObjectMapperBuilder.modulesToInstall(new JaxbAnnotationModule());\n    }\n}\n</code></pre>\n<p>DAO class implementation as below</p>\n<pre><code>public Feeds getAll() {\n    String sqlQuery = &quot;SELECT * FROM feed WHERE trash = 0&quot;;\n    return Feeds.builder().feeds(namedParameterJdbcTemplate.query(sqlQuery, new BeanPropertyRowMapper&lt;&gt;(Feed.class))).build();\n}\n</code></pre>\n<p>Using my ReST API, XML response I am receiving as below:</p>\n<pre><code>&lt;feeds&gt;\n    &lt;feed&gt;\n        &lt;feed&gt;\n            &lt;id&gt;1&lt;/id&gt;\n            &lt;name&gt;Val1&lt;/name&gt;\n            &lt;title&gt;Title1&lt;/title&gt;\n        &lt;/feed&gt;\n        &lt;feed&gt;\n            &lt;id&gt;2&lt;/id&gt;\n            &lt;name&gt;Val2&lt;/name&gt;\n            &lt;title&gt;Title2&lt;/title&gt;\n        &lt;/feed&gt;\n    &lt;/feed&gt;\n&lt;/feeds&gt;\n</code></pre>\n<p>I want to remove <code>&lt;feed&gt;</code> which comes as a wrapper element. <strong>Desired output is as below</strong>:</p>\n<pre><code>&lt;feeds&gt;\n    &lt;feed&gt;\n        &lt;id&gt;1&lt;/id&gt;\n        &lt;name&gt;Val1&lt;/name&gt;\n        &lt;title&gt;Title1&lt;/title&gt;\n    &lt;/feed&gt;\n    &lt;feed&gt;\n        &lt;id&gt;2&lt;/id&gt;\n        &lt;name&gt;Val2&lt;/name&gt;\n        &lt;title&gt;Title2&lt;/title&gt;\n    &lt;/feed&gt;\n&lt;/feeds&gt;\n</code></pre>\n"},{"tags":["java","android","camera","photo"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676227771,"post_id":75429299,"comment_id":133090814,"body_markdown":"That is an undocumented `Intent` extra AFAICT. There is no requirement for any camera app to support it. If you need this degree of control over the camera, you will need to implement the camera UI yourself, using something like CameraX.","body":"That is an undocumented <code>Intent</code> extra AFAICT. There is no requirement for any camera app to support it. If you need this degree of control over the camera, you will need to implement the camera UI yourself, using something like CameraX."}],"answers":[{"tags":[],"owner":{"account_id":26307879,"reputation":21,"user_id":19971998,"display_name":"ByteMaster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676282307,"creation_date":1676236273,"answer_id":75430204,"question_id":75429299,"body_markdown":"This code is for launching the camera application and capturing an image, but it&#39;s not guaranteed that it will always open the front camera. The line\r\n```java\r\ntakePicture.putExtra(&quot;android.intent.extras.CAMERA_FACING&quot;, 1);\r\n```\r\n\r\nis an attempt to specify that the front camera should be used, but not all camera applications support this extra. To ensure that the front camera is opened, you need to handle the camera access in your own code using the Android Camera API.\r\n\r\nI&#39;ll share an example right below:\r\n```java\r\n    private Camera camera;\r\n    private int cameraId = 0;\r\n    public void openFrontCamera() {\r\n    \r\n    int numberOfCameras = Camera.getNumberOfCameras();\r\n    for (int i = 0; i &lt; numberOfCameras; i++) {\r\n        Camera.CameraInfo info = new Camera.CameraInfo();\r\n        Camera.getCameraInfo(i, info);\r\n        if (info.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {\r\n            cameraId = i;\r\n            break;\r\n        }\r\n    }    \r\n    camera = Camera.open(cameraId);\r\n```","title":"how open front camera in android java","body":"<p>This code is for launching the camera application and capturing an image, but it's not guaranteed that it will always open the front camera. The line</p>\n<pre class=\"lang-java prettyprint-override\"><code>takePicture.putExtra(&quot;android.intent.extras.CAMERA_FACING&quot;, 1);\n</code></pre>\n<p>is an attempt to specify that the front camera should be used, but not all camera applications support this extra. To ensure that the front camera is opened, you need to handle the camera access in your own code using the Android Camera API.</p>\n<p>I'll share an example right below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private Camera camera;\n    private int cameraId = 0;\n    public void openFrontCamera() {\n    \n    int numberOfCameras = Camera.getNumberOfCameras();\n    for (int i = 0; i &lt; numberOfCameras; i++) {\n        Camera.CameraInfo info = new Camera.CameraInfo();\n        Camera.getCameraInfo(i, info);\n        if (info.facing == Camera.CameraInfo.CAMERA_FACING_FRONT) {\n            cameraId = i;\n            break;\n        }\n    }    \n    camera = Camera.open(cameraId);\n</code></pre>\n"}],"owner":{"account_id":27768289,"reputation":1,"user_id":21199179,"display_name":"Ouriel Bennathan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676282307,"creation_date":1676227025,"question_id":75429299,"body_markdown":"I want to open front camera, this code open camera but not front:\r\n\r\n    Intent takePicture = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n    takePicture.putExtra(&quot;android.intent.extras.CAMERA_FACING&quot;, 1);\r\n    startActivityForResult(takePicture, 1);","title":"how open front camera in android java","body":"<p>I want to open front camera, this code open camera but not front:</p>\n<pre><code>Intent takePicture = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\ntakePicture.putExtra(&quot;android.intent.extras.CAMERA_FACING&quot;, 1);\nstartActivityForResult(takePicture, 1);\n</code></pre>\n"},{"tags":["java","quarkus","resteasy","quarkus-rest-client"],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1652874868,"creation_date":1652874868,"answer_id":72288729,"question_id":72273760,"body_markdown":"`ClientRequestFilter` for the REST Client are registered  via `@RegisterProvider`, so no build item is needed","title":"Quarkus Resteasy reactive missing builditem?","body":"<p><code>ClientRequestFilter</code> for the REST Client are registered  via <code>@RegisterProvider</code>, so no build item is needed</p>\n"},{"tags":[],"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676281512,"creation_date":1676281512,"answer_id":75434238,"question_id":72273760,"body_markdown":"I had a similar issue; I wanted to use an extension to instrument an application and add request and response filters. For the `ContainerResponseFilter`, I used a `ContainerResponseFilterBuildItem` to register it. \r\n\r\nFor the `ClientRequestFilter`, I was a bit stuck. I eventually had success using a `RegisterProviderAnnotationInstanceBuildItem`. What this process is doing is an extension-side version of what the manual process would be; find classes annotated with `@RestClient`, and add a `@RegisterProvider(ClientFilter.class)`: \r\n\r\n```\r\n    private static final DotName CLIENT_FILTER = DotName.createSimple(ClientFilter.class.getName());\r\n    private static final DotName REGISTER_REST_CLIENT = DotName.createSimple(&quot;org.eclipse.microprofile.rest.client.inject.RegisterRestClient&quot;);\r\n\r\n\r\n    @BuildStep\r\n    void clientFilterSupport(CombinedIndexBuildItem indexBuildItem, BuildProducer&lt;GeneratedBeanBuildItem&gt; generatedBean,\r\n                             BuildProducer&lt;RegisterProviderAnnotationInstanceBuildItem&gt; producer) {\r\n\r\n        Collection&lt;AnnotationInstance&gt; instances = indexBuildItem.getIndex().getAnnotations(REGISTER_REST_CLIENT);\r\n        for (AnnotationInstance instance : instances) {\r\n\r\n            final AnnotationValue valueAttr = createClassValue(CLIENT_FILTER);\r\n\r\n            String targetClass = instance.target().asClass().name().toString();\r\n            producer.produce(new RegisterProviderAnnotationInstanceBuildItem(targetClass, AnnotationInstance.create(\r\n                    DotNames.REGISTER_PROVIDER, instance.target(), List.of(valueAttr))));\r\n        }\r\n    }\r\n\r\n```\r\n\r\nThe helper for making annotation values is just\r\n\r\n```\r\n    private AnnotationValue createClassValue(DotName filter) {\r\n        return AnnotationValue.createClassValue(&quot;value&quot;,\r\n                Type.create(filter, Type.Kind.CLASS));\r\n    }\r\n```\r\n\r\nI also told CDI about the filter:\r\n\r\n```\r\n    @BuildStep\r\n    void beans(BuildProducer&lt;AdditionalBeanBuildItem&gt; producer) {\r\n          producer.produce(AdditionalBeanBuildItem.unremovableOf(ClientFilter.class));\r\n    }\r\n```","title":"Quarkus Resteasy reactive missing builditem?","body":"<p>I had a similar issue; I wanted to use an extension to instrument an application and add request and response filters. For the <code>ContainerResponseFilter</code>, I used a <code>ContainerResponseFilterBuildItem</code> to register it.</p>\n<p>For the <code>ClientRequestFilter</code>, I was a bit stuck. I eventually had success using a <code>RegisterProviderAnnotationInstanceBuildItem</code>. What this process is doing is an extension-side version of what the manual process would be; find classes annotated with <code>@RestClient</code>, and add a <code>@RegisterProvider(ClientFilter.class)</code>:</p>\n<pre><code>    private static final DotName CLIENT_FILTER = DotName.createSimple(ClientFilter.class.getName());\n    private static final DotName REGISTER_REST_CLIENT = DotName.createSimple(&quot;org.eclipse.microprofile.rest.client.inject.RegisterRestClient&quot;);\n\n\n    @BuildStep\n    void clientFilterSupport(CombinedIndexBuildItem indexBuildItem, BuildProducer&lt;GeneratedBeanBuildItem&gt; generatedBean,\n                             BuildProducer&lt;RegisterProviderAnnotationInstanceBuildItem&gt; producer) {\n\n        Collection&lt;AnnotationInstance&gt; instances = indexBuildItem.getIndex().getAnnotations(REGISTER_REST_CLIENT);\n        for (AnnotationInstance instance : instances) {\n\n            final AnnotationValue valueAttr = createClassValue(CLIENT_FILTER);\n\n            String targetClass = instance.target().asClass().name().toString();\n            producer.produce(new RegisterProviderAnnotationInstanceBuildItem(targetClass, AnnotationInstance.create(\n                    DotNames.REGISTER_PROVIDER, instance.target(), List.of(valueAttr))));\n        }\n    }\n\n</code></pre>\n<p>The helper for making annotation values is just</p>\n<pre><code>    private AnnotationValue createClassValue(DotName filter) {\n        return AnnotationValue.createClassValue(&quot;value&quot;,\n                Type.create(filter, Type.Kind.CLASS));\n    }\n</code></pre>\n<p>I also told CDI about the filter:</p>\n<pre><code>    @BuildStep\n    void beans(BuildProducer&lt;AdditionalBeanBuildItem&gt; producer) {\n          producer.produce(AdditionalBeanBuildItem.unremovableOf(ClientFilter.class));\n    }\n</code></pre>\n"}],"owner":{"account_id":4565174,"reputation":508,"user_id":3706372,"accept_rate":50,"display_name":"godo57"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72288729,"answer_count":2,"score":1,"last_activity_date":1676281512,"creation_date":1652789113,"question_id":72273760,"body_markdown":"I am upgrading my extension to quarkus 2.9.0 and migrating to resteasy reactive.\r\n\r\nSome of existing builditems in resteasy classic do not exist anymore in reactive implementation. I was using `ResteasyJaxrsProviderBuildItem` to record an `ExceptionMapper` and a `ClientRequestFilter`.\r\n\r\nFor my `ExceptionMapper`, I use now an `ExceptionMapperBuildItem` without any problem. But for my `ClientRequestFilter`, I do not know which builditem i have to choose (there is no such a ClientRequestFilterBuildItem)\r\n\r\nMaybe am I missing something obvious ? Thanks","title":"Quarkus Resteasy reactive missing builditem?","body":"<p>I am upgrading my extension to quarkus 2.9.0 and migrating to resteasy reactive.</p>\n<p>Some of existing builditems in resteasy classic do not exist anymore in reactive implementation. I was using <code>ResteasyJaxrsProviderBuildItem</code> to record an <code>ExceptionMapper</code> and a <code>ClientRequestFilter</code>.</p>\n<p>For my <code>ExceptionMapper</code>, I use now an <code>ExceptionMapperBuildItem</code> without any problem. But for my <code>ClientRequestFilter</code>, I do not know which builditem i have to choose (there is no such a ClientRequestFilterBuildItem)</p>\n<p>Maybe am I missing something obvious ? Thanks</p>\n"},{"tags":["java","oauth-2.0","keycloak","jbpm","businesscentral"],"owner":{"account_id":27772447,"reputation":1,"user_id":21202516,"display_name":"Liudmila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676281436,"creation_date":1676281436,"question_id":75434222,"body_markdown":"I&#39;m deploying jbpm (7.57.0.Final)in docker with authorization via keycloak and google. I can log in to BuissnesCentral with my Google account through Keycloak, and I see my email in the top right corner. However, when I create a human task and write my email in the Actor field, jbpm does not show me the task in the Task &amp; TaskInbox section. \r\n[actor not define](https://i.stack.imgur.com/gUJJY.png) \r\nAnd initiator is unknown (but must be my email)\r\n[initiator is unknown](https://i.stack.imgur.com/ixp1Y.png)\r\nAt the same time, I can see in the TaskReport that the task has been assigned to me. \r\n[TaskReport section](https://i.stack.imgur.com/qkIJx.png)\r\nAs I understand it, jbpm does not recognize me as a user and does not map my email. How to solve this problem?\r\nI&#39;ve tried creating a role in keycloak and the same group in jbpm - it doesn&#39;t work for me.\r\n\r\nI tried to map the keyclock role to the jbpm group. I tried to create a default user role and an Administrators role, as advised in other topics - it does not work. I tried to assign the task to any default jbpm user - but I can&#39;t log in with the credentials of these users in jbpm after keyclock integration.","title":"JBPM + KeyCloak + Google auth does not map the user after authorization","body":"<p>I'm deploying jbpm (7.57.0.Final)in docker with authorization via keycloak and google. I can log in to BuissnesCentral with my Google account through Keycloak, and I see my email in the top right corner. However, when I create a human task and write my email in the Actor field, jbpm does not show me the task in the Task &amp; TaskInbox section.\n<a href=\"https://i.stack.imgur.com/gUJJY.png\" rel=\"nofollow noreferrer\">actor not define</a>\nAnd initiator is unknown (but must be my email)\n<a href=\"https://i.stack.imgur.com/ixp1Y.png\" rel=\"nofollow noreferrer\">initiator is unknown</a>\nAt the same time, I can see in the TaskReport that the task has been assigned to me.\n<a href=\"https://i.stack.imgur.com/qkIJx.png\" rel=\"nofollow noreferrer\">TaskReport section</a>\nAs I understand it, jbpm does not recognize me as a user and does not map my email. How to solve this problem?\nI've tried creating a role in keycloak and the same group in jbpm - it doesn't work for me.</p>\n<p>I tried to map the keyclock role to the jbpm group. I tried to create a default user role and an Administrators role, as advised in other topics - it does not work. I tried to assign the task to any default jbpm user - but I can't log in with the credentials of these users in jbpm after keyclock integration.</p>\n"},{"tags":["java","scala","apache-spark","google-cloud-platform"],"owner":{"account_id":11762207,"reputation":117,"user_id":8607900,"display_name":"Aavash Bhandari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676281411,"creation_date":1676278009,"question_id":75433644,"body_markdown":"I am trying to run a java based spark application on the DataProcCluster, \r\nSpark version that I use in my project: Spark 2.4.8\r\nDataProcCluster Spark version Spark 2.4.8\r\nWhen I run it I get the following error:\r\n\r\n```\r\nApplication application_1676252836684_0013 failed 2 times due to AM Container for appattempt_1676252836684_0013_000002 exited with exitCode: 13\r\nFailing this attempt.Diagnostics: [2023-02-13 08:39:33.239]Exception from container-launch.\r\nContainer id: container_1676252836684_0013_02_000001\r\nExit code: 13\r\n[2023-02-13 08:39:33.240]Container exited with a non-zero exit code 13. Error file: prelaunch.err.\r\nLast 4096 bytes of prelaunch.err :\r\nLast 4096 bytes of stderr :\r\nonnected to master\r\n23/02/13 08:39:32 ERROR org.apache.spark.SparkContext: Error initializing SparkContext.\r\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\nat scala.Predef$.require(Predef.scala:281)\r\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\r\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\r\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\n23/02/13 08:39:32 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: User class threw exception: java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\nat scala.Predef$.require(Predef.scala:281)\r\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\r\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\r\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\n23/02/13 08:39:32 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: Uncaught exception:\r\norg.apache.spark.SparkException: Exception thrown in awaitResult:\r\nat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:226)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.runDriver(ApplicationMaster.scala:470)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.runImpl(ApplicationMaster.scala:305)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.$anonfun$run$1(ApplicationMaster.scala:245)\r\nat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:781)\r\nat java.security.AccessController.doPrivileged(Native Method)\r\nat javax.security.auth.Subject.doAs(Subject.java:422)\r\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1938)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.doAsUser(ApplicationMaster.scala:780)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.run(ApplicationMaster.scala:245)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$.main(ApplicationMaster.scala:805)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.main(ApplicationMaster.scala)\r\nCaused by: java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\nat scala.Predef$.require(Predef.scala:281)\r\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\r\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\r\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\n[2023-02-13 08:39:33.240]Container exited with a non-zero exit code 13. Error file: prelaunch.err.\r\nLast 4096 bytes of prelaunch.err :\r\nLast 4096 bytes of stderr :\r\nonnected to master\r\n23/02/13 08:39:32 ERROR org.apache.spark.SparkContext: Error initializing SparkContext.\r\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\nat scala.Predef$.require(Predef.scala:281)\r\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\r\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\r\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\n23/02/13 08:39:32 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: User class threw exception: java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\nat scala.Predef$.require(Predef.scala:281)\r\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\r\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\r\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\n23/02/13 08:39:32 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: Uncaught exception:\r\norg.apache.spark.SparkException: Exception thrown in awaitResult:\r\nat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:226)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.runDriver(ApplicationMaster.scala:470)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.runImpl(ApplicationMaster.scala:305)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.$anonfun$run$1(ApplicationMaster.scala:245)\r\nat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:781)\r\nat java.security.AccessController.doPrivileged(Native Method)\r\nat javax.security.auth.Subject.doAs(Subject.java:422)\r\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1938)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.doAsUser(ApplicationMaster.scala:780)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.run(ApplicationMaster.scala:245)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$.main(ApplicationMaster.scala:805)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster.main(ApplicationMaster.scala)\r\nCaused by: java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\r\nat scala.Predef$.require(Predef.scala:281)\r\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\r\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\r\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\r\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke(Method.java:498)\r\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\r\nFor more detailed output, check the application tracking page: http://spark-cluster-m:8188/applicationhistory/app/application_1676252836684_0013 Then click on links to logs of each attempt.\r\n. Failing the application.\r\n```\r\n\r\nWhat is causing the error? How to solve this error?\r\nI have added the MetricsSystem too explicitly. However, It is said that when initializing the spark automatically starts the MetricSystem. I am still clueless about what is wrong here!\r\nMy apache spark config is as follows:\r\n\r\n```SparkConf config = new SparkConf().setAppName(&quot;ANN-SCL-FIN&quot;).set(&quot;spark.locality.wait&quot;, &quot;0&quot;)\r\n\t\t\t\t.set(&quot;spark.submit.deployMode&quot;, &quot;cluster&quot;).set(&quot;spark.driver.maxResultSize&quot;, &quot;6g&quot;)\r\n\t\t\t\t.set(&quot;spark.executor.memory&quot;, &quot;6g&quot;).setMaster(&quot;spark://35.194.176.13:8188&quot;).set(&quot;spark.cores.max&quot;, &quot;8&quot;)\r\n\t\t\t\t.set(&quot;spark.blockManager.port&quot;, &quot;10025&quot;).set(&quot;spark.driver.blockManager.port&quot;, &quot;10026&quot;)\r\n\t\t\t\t.set(&quot;spark.driver.port&quot;, &quot;10027&quot;).set(&quot;spark.shuffle.service.enabled&quot;, &quot;false&quot;)\r\n\t\t\t\t.set(&quot;spark.dynamicAllocation.enabled&quot;, &quot;false&quot;);\r\n\t\t\tJavaSparkContext jscontext = new JavaSparkContext(config);\r\n\t\tSecurityManager securityMgr = new SecurityManager(config, null, null);\r\n\t\tMetricsSystem metricsSystem = MetricsSystem.createMetricsSystem(&quot;GraphNetworkSCLAlgorithm&quot;, config,\r\n\t\t\t\tsecurityMgr);\r\n\t\tmetricsSystem.start(true);\r\n```","title":"&quot;spark-submit&quot; in DataProcCluster not running the jobs","body":"<p>I am trying to run a java based spark application on the DataProcCluster,\nSpark version that I use in my project: Spark 2.4.8\nDataProcCluster Spark version Spark 2.4.8\nWhen I run it I get the following error:</p>\n<pre><code>Application application_1676252836684_0013 failed 2 times due to AM Container for appattempt_1676252836684_0013_000002 exited with exitCode: 13\nFailing this attempt.Diagnostics: [2023-02-13 08:39:33.239]Exception from container-launch.\nContainer id: container_1676252836684_0013_02_000001\nExit code: 13\n[2023-02-13 08:39:33.240]Container exited with a non-zero exit code 13. Error file: prelaunch.err.\nLast 4096 bytes of prelaunch.err :\nLast 4096 bytes of stderr :\nonnected to master\n23/02/13 08:39:32 ERROR org.apache.spark.SparkContext: Error initializing SparkContext.\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\nat scala.Predef$.require(Predef.scala:281)\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\n23/02/13 08:39:32 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: User class threw exception: java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\nat scala.Predef$.require(Predef.scala:281)\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\n23/02/13 08:39:32 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: Uncaught exception:\norg.apache.spark.SparkException: Exception thrown in awaitResult:\nat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:226)\nat org.apache.spark.deploy.yarn.ApplicationMaster.runDriver(ApplicationMaster.scala:470)\nat org.apache.spark.deploy.yarn.ApplicationMaster.runImpl(ApplicationMaster.scala:305)\nat org.apache.spark.deploy.yarn.ApplicationMaster.$anonfun$run$1(ApplicationMaster.scala:245)\nat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:781)\nat java.security.AccessController.doPrivileged(Native Method)\nat javax.security.auth.Subject.doAs(Subject.java:422)\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1938)\nat org.apache.spark.deploy.yarn.ApplicationMaster.doAsUser(ApplicationMaster.scala:780)\nat org.apache.spark.deploy.yarn.ApplicationMaster.run(ApplicationMaster.scala:245)\nat org.apache.spark.deploy.yarn.ApplicationMaster$.main(ApplicationMaster.scala:805)\nat org.apache.spark.deploy.yarn.ApplicationMaster.main(ApplicationMaster.scala)\nCaused by: java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\nat scala.Predef$.require(Predef.scala:281)\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\n[2023-02-13 08:39:33.240]Container exited with a non-zero exit code 13. Error file: prelaunch.err.\nLast 4096 bytes of prelaunch.err :\nLast 4096 bytes of stderr :\nonnected to master\n23/02/13 08:39:32 ERROR org.apache.spark.SparkContext: Error initializing SparkContext.\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\nat scala.Predef$.require(Predef.scala:281)\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\n23/02/13 08:39:32 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: User class threw exception: java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\njava.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\nat scala.Predef$.require(Predef.scala:281)\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\n23/02/13 08:39:32 ERROR org.apache.spark.deploy.yarn.ApplicationMaster: Uncaught exception:\norg.apache.spark.SparkException: Exception thrown in awaitResult:\nat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:226)\nat org.apache.spark.deploy.yarn.ApplicationMaster.runDriver(ApplicationMaster.scala:470)\nat org.apache.spark.deploy.yarn.ApplicationMaster.runImpl(ApplicationMaster.scala:305)\nat org.apache.spark.deploy.yarn.ApplicationMaster.$anonfun$run$1(ApplicationMaster.scala:245)\nat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:781)\nat java.security.AccessController.doPrivileged(Native Method)\nat javax.security.auth.Subject.doAs(Subject.java:422)\nat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1938)\nat org.apache.spark.deploy.yarn.ApplicationMaster.doAsUser(ApplicationMaster.scala:780)\nat org.apache.spark.deploy.yarn.ApplicationMaster.run(ApplicationMaster.scala:245)\nat org.apache.spark.deploy.yarn.ApplicationMaster$.main(ApplicationMaster.scala:805)\nat org.apache.spark.deploy.yarn.ApplicationMaster.main(ApplicationMaster.scala)\nCaused by: java.lang.IllegalArgumentException: requirement failed: Can only call getServletHandlers on a running MetricsSystem\nat scala.Predef$.require(Predef.scala:281)\nat org.apache.spark.metrics.MetricsSystem.getServletHandlers(MetricsSystem.scala:91)\nat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:517)\nat org.apache.spark.api.java.JavaSparkContext.&lt;init&gt;(JavaSparkContext.scala:58)\nat main.GraphNetworkSCLAlgorithm.main(GraphNetworkSCLAlgorithm.java:355)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:686)\nFor more detailed output, check the application tracking page: http://spark-cluster-m:8188/applicationhistory/app/application_1676252836684_0013 Then click on links to logs of each attempt.\n. Failing the application.\n</code></pre>\n<p>What is causing the error? How to solve this error?\nI have added the MetricsSystem too explicitly. However, It is said that when initializing the spark automatically starts the MetricSystem. I am still clueless about what is wrong here!\nMy apache spark config is as follows:</p>\n<pre><code>                .set(&quot;spark.submit.deployMode&quot;, &quot;cluster&quot;).set(&quot;spark.driver.maxResultSize&quot;, &quot;6g&quot;)\n                .set(&quot;spark.executor.memory&quot;, &quot;6g&quot;).setMaster(&quot;spark://35.194.176.13:8188&quot;).set(&quot;spark.cores.max&quot;, &quot;8&quot;)\n                .set(&quot;spark.blockManager.port&quot;, &quot;10025&quot;).set(&quot;spark.driver.blockManager.port&quot;, &quot;10026&quot;)\n                .set(&quot;spark.driver.port&quot;, &quot;10027&quot;).set(&quot;spark.shuffle.service.enabled&quot;, &quot;false&quot;)\n                .set(&quot;spark.dynamicAllocation.enabled&quot;, &quot;false&quot;);\n            JavaSparkContext jscontext = new JavaSparkContext(config);\n        SecurityManager securityMgr = new SecurityManager(config, null, null);\n        MetricsSystem metricsSystem = MetricsSystem.createMetricsSystem(&quot;GraphNetworkSCLAlgorithm&quot;, config,\n                securityMgr);\n        metricsSystem.start(true);\n</code></pre>\n"},{"tags":["java","spring-boot","minio"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1676281449,"post_id":75434160,"comment_id":133098692,"body_markdown":"Yes, that is how it works. You cannot / must not save the presigned url in the database. Instead your application needs to generate a presigned url whenever someone wants to see the image. All you can save in the database is the key / object name.","body":"Yes, that is how it works. You cannot / must not save the presigned url in the database. Instead your application needs to generate a presigned url whenever someone wants to see the image. All you can save in the database is the key / object name."}],"owner":{"account_id":10089677,"reputation":9,"user_id":7457050,"display_name":"shamil khalid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676281396,"creation_date":1676281096,"question_id":75434160,"body_markdown":"I use java in my application. I use minio server to for file server. When I upload my file to the minio server, I save the url of the same file in the database. But after 7 days the same url is not working. I am using project in localhost and minio server free. I don&#39;t want to end the expiration date as 7 days. I want to show for life.\r\n \r\n\r\n    public Boolean uploadFile(List&lt;MultipartFile&gt; multipartFiles, \r\n    Product product) {\r\n        LinkedList&lt;AppFile&gt; appFiles = new LinkedList&lt;&gt;();\r\n        multipartFiles.forEach(multipartFile -&gt; {\r\n\r\n            String fileName = multipartFile.getOriginalFilename();\r\n            String ext = FileNameUtils.getExtension(fileName);\r\n            AppFile appFile = new AppFile();\r\n            appFile.setName(fileName);\r\n            appFile.setExt(ext);\r\n            appFile.setDateCreated(new Date());\r\n            appFile.setUserId(UUID.randomUUID().toString());\r\n            appFile.setUuid(UUID.randomUUID().toString());  \r\n\r\n            try {\r\n                UUID uuid = UUID.randomUUID();\r\n                // save minio server\r\n                minioClient.putObject(PutObjectArgs.builder()\r\n                        .bucket(bucketName)\r\n                        .object(uuid + &quot;-&quot; + multipartFile.getOriginalFilename())\r\n                        .stream(multipartFile.getInputStream(), multipartFile.getSize(), -1)\r\n                        .contentType(multipartFile.getContentType())\r\n                        .build());\r\n\r\n                // file url\r\n                String url = minioClient.getPresignedObjectUrl(GetPresignedObjectUrlArgs.builder()\r\n                        .method(Method.GET)\r\n                        .bucket(bucketName)\r\n                        .object(uuid + &quot;-&quot; + multipartFile.getOriginalFilename())\r\n                        .build());\r\n                appFile.setUrl(url);\r\n                appFile.setProductId(product);\r\n                appFiles.add(appFile);\r\n            } catch (Exception e) {\r\n                throw new FileException(EnumFile.FILE_CAN_NOT_ADDED.getName() + &quot; &quot; + e.getMessage());\r\n            }\r\n            appFileRepository.saveAll(appFiles);\r\n        });\r\n        return true;\r\n    }\r\n\r\n\r\n","title":"Expiry must be minimum 1 second to maximum 7 days in minio server","body":"<p>I use java in my application. I use minio server to for file server. When I upload my file to the minio server, I save the url of the same file in the database. But after 7 days the same url is not working. I am using project in localhost and minio server free. I don't want to end the expiration date as 7 days. I want to show for life.</p>\n<pre><code>public Boolean uploadFile(List&lt;MultipartFile&gt; multipartFiles, \nProduct product) {\n    LinkedList&lt;AppFile&gt; appFiles = new LinkedList&lt;&gt;();\n    multipartFiles.forEach(multipartFile -&gt; {\n\n        String fileName = multipartFile.getOriginalFilename();\n        String ext = FileNameUtils.getExtension(fileName);\n        AppFile appFile = new AppFile();\n        appFile.setName(fileName);\n        appFile.setExt(ext);\n        appFile.setDateCreated(new Date());\n        appFile.setUserId(UUID.randomUUID().toString());\n        appFile.setUuid(UUID.randomUUID().toString());  \n\n        try {\n            UUID uuid = UUID.randomUUID();\n            // save minio server\n            minioClient.putObject(PutObjectArgs.builder()\n                    .bucket(bucketName)\n                    .object(uuid + &quot;-&quot; + multipartFile.getOriginalFilename())\n                    .stream(multipartFile.getInputStream(), multipartFile.getSize(), -1)\n                    .contentType(multipartFile.getContentType())\n                    .build());\n\n            // file url\n            String url = minioClient.getPresignedObjectUrl(GetPresignedObjectUrlArgs.builder()\n                    .method(Method.GET)\n                    .bucket(bucketName)\n                    .object(uuid + &quot;-&quot; + multipartFile.getOriginalFilename())\n                    .build());\n            appFile.setUrl(url);\n            appFile.setProductId(product);\n            appFiles.add(appFile);\n        } catch (Exception e) {\n            throw new FileException(EnumFile.FILE_CAN_NOT_ADDED.getName() + &quot; &quot; + e.getMessage());\n        }\n        appFileRepository.saveAll(appFiles);\n    });\n    return true;\n}\n</code></pre>\n"},{"tags":["java","sql","oracle"],"comments":[{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":0,"creation_date":1676275576,"post_id":75432898,"comment_id":133097157,"body_markdown":"According to [syntax diagram](https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/img_text/single_table_insert.html) `returning` is only possible for `values` clause, not for subquery.","body":"According to <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/img_text/single_table_insert.html\" rel=\"nofollow noreferrer\">syntax diagram</a> <code>returning</code> is only possible for <code>values</code> clause, not for subquery."}],"answers":[{"tags":[],"owner":{"account_id":11672949,"reputation":195,"user_id":9149706,"display_name":"максим ильин"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676273899,"creation_date":1676273899,"answer_id":75433030,"question_id":75432898,"body_markdown":"there is no such method, you can return the value to a variable : `INSERT INTO &lt;table&gt; VALUES (&lt;values&gt;) RETURNING ID into &lt;variable&gt;`","title":"Oracle get the IDs of the inserted record","body":"<p>there is no such method, you can return the value to a variable : <code>INSERT INTO &lt;table&gt; VALUES (&lt;values&gt;) RETURNING ID into &lt;variable&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676274114,"creation_date":1676274114,"answer_id":75433050,"question_id":75432898,"body_markdown":"For INSERT/UPDATE/DELETE, you must use &quot;executeUpdate&quot; not &quot;executeQuery&quot;. To get back the inserted PK you can use &quot;INSERT ... RETURNING column_name INTO ?&quot; in an anonymous block or in a procedure &quot;INTO an_OUT_param&quot;. In both cases, you must register an OUT parameter in the Java code. ","title":"Oracle get the IDs of the inserted record","body":"<p>For INSERT/UPDATE/DELETE, you must use &quot;executeUpdate&quot; not &quot;executeQuery&quot;. To get back the inserted PK you can use &quot;INSERT ... RETURNING column_name INTO ?&quot; in an anonymous block or in a procedure &quot;INTO an_OUT_param&quot;. In both cases, you must register an OUT parameter in the Java code.</p>\n"},{"tags":[],"owner":{"account_id":17404044,"reputation":728,"user_id":21139120,"display_name":"Bogdan Dincescu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676280992,"creation_date":1676280992,"answer_id":75434142,"question_id":75432898,"body_markdown":"That returning clause makes sense only inside a pl/sql block, and not in some SQL statement sent from Java or some other client. That is why it doesn&#39;t work.\r\nA pl/sql block means basically somethign like below:\r\n\r\n    Declare \r\n      /* variable declarations as needed*/\r\n      v_ret number;\r\n    begin\r\n      /* several SQL statements as needed*/\r\n      insert into x_table (... /* list of columns*/\r\n      ) values (\r\n      /* values to insert*/&#39;\r\n      x_id\r\n      ...\r\n      ) returning x_id into v_ret;     \r\n    end;\r\n\r\nI never recall having used returning with an insert select. Why? Because that select may possibly return no rows whatsoever or may return several rows. How could that work then with a simple variable? \r\nIn case a DML (could be insert select or could be even an update or delete) may affect several rows you should use returning bulk collect, like in the example at https://doyensys.com/blogs/returning-clause-with-bulk-collect/\r\n","title":"Oracle get the IDs of the inserted record","body":"<p>That returning clause makes sense only inside a pl/sql block, and not in some SQL statement sent from Java or some other client. That is why it doesn't work.\nA pl/sql block means basically somethign like below:</p>\n<pre><code>Declare \n  /* variable declarations as needed*/\n  v_ret number;\nbegin\n  /* several SQL statements as needed*/\n  insert into x_table (... /* list of columns*/\n  ) values (\n  /* values to insert*/'\n  x_id\n  ...\n  ) returning x_id into v_ret;     \nend;\n</code></pre>\n<p>I never recall having used returning with an insert select. Why? Because that select may possibly return no rows whatsoever or may return several rows. How could that work then with a simple variable?\nIn case a DML (could be insert select or could be even an update or delete) may affect several rows you should use returning bulk collect, like in the example at <a href=\"https://doyensys.com/blogs/returning-clause-with-bulk-collect/\" rel=\"nofollow noreferrer\">https://doyensys.com/blogs/returning-clause-with-bulk-collect/</a></p>\n"}],"owner":{"account_id":6248735,"reputation":1758,"user_id":4859626,"display_name":"Sithija Piyuman Thewa Hettige"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75433050,"answer_count":3,"score":2,"last_activity_date":1676280992,"creation_date":1676272854,"question_id":75432898,"body_markdown":"I have the below query \r\n\r\n    insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem)\r\n    select fund_id, fund_name, active, domicile, &#39;EMIS_FUNDS&#39;, &#39;EMIS&#39; from EMIS_FUNDS  \r\n    where status in (2, 3, 4) and active = 1 order by fund_id\r\n\r\nI want to get the IDs of inserted records returned to me \r\n\r\nI have tried below methods without success \r\n\r\n    insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem)\r\n    select fund_id, fund_name, active, domicile, &#39;EMIS_FUNDS&#39;, &#39;EMIS&#39; from EMIS_FUNDS  \r\n    where status in (2, 3, 4) and active = 1 order by fund_id RETURNING ID INTO :1\r\n\r\ntried with the returning key word it did not work (table has an ID column which is not an auto generated or auto incremented column , neither it is the primary key) \r\n\r\nSecondly in my java program I use prepared statements \r\n\r\n    String sql = &quot;insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem) select fund_id, fund_name, active, domicile, &#39;EMIS_FUNDS&#39;, &#39;EMIS&#39; from EMIS_FUNDS  where status in (2, 3, 4) and active = 1 order by fund_id&quot;;\r\n    try (PreparedStatement preparedStatement = conn.prepareStatement(sql,new String[] {&quot;ID&quot;})) {\r\n                    preparedStatement.setFetchSize(fetchSize);\r\n                    ResultSet rs1 =preparedStatement.executeQuery();\r\n                    if (rs1.next()) {\r\n                        System.out.println(rs1.getString(&quot;ID&quot;));\r\n                    }\r\n    }\r\n\r\n\r\nAbove also fails with the below error \r\n\r\n    Caused by: Error : 933, Position : 233, Sql = insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem) select fund_id, fund_name, active, domicile, &#39;EMIS_FUNDS&#39;, &#39;EMIS&#39; from EMIS_FUNDS  where status in (2, 3, 4) and active = 1 order by fund_id RETURNING ID INTO :1 , OriginalSql = insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem) select fund_id, fund_name, active, domicile, &#39;EMIS_FUNDS&#39;, &#39;EMIS&#39; from EMIS_FUNDS  where status in (2, 3, 4) and active = 1 order by fund_id RETURNING ID INTO ?, Error Msg = ORA-00933: SQL command not properly ended\r\n\r\nAny input on this will be highly appreciated \r\n\r\nI just want to get the IDs of the inserted records via prepared statements immediately back. my table column is named ID (ID is neither auto generated, nor the primary key)\r\n\r\n","title":"Oracle get the IDs of the inserted record","body":"<p>I have the below query</p>\n<pre><code>insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem)\nselect fund_id, fund_name, active, domicile, 'EMIS_FUNDS', 'EMIS' from EMIS_FUNDS  \nwhere status in (2, 3, 4) and active = 1 order by fund_id\n</code></pre>\n<p>I want to get the IDs of inserted records returned to me</p>\n<p>I have tried below methods without success</p>\n<pre><code>insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem)\nselect fund_id, fund_name, active, domicile, 'EMIS_FUNDS', 'EMIS' from EMIS_FUNDS  \nwhere status in (2, 3, 4) and active = 1 order by fund_id RETURNING ID INTO :1\n</code></pre>\n<p>tried with the returning key word it did not work (table has an ID column which is not an auto generated or auto incremented column , neither it is the primary key)</p>\n<p>Secondly in my java program I use prepared statements</p>\n<pre><code>String sql = &quot;insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem) select fund_id, fund_name, active, domicile, 'EMIS_FUNDS', 'EMIS' from EMIS_FUNDS  where status in (2, 3, 4) and active = 1 order by fund_id&quot;;\ntry (PreparedStatement preparedStatement = conn.prepareStatement(sql,new String[] {&quot;ID&quot;})) {\n                preparedStatement.setFetchSize(fetchSize);\n                ResultSet rs1 =preparedStatement.executeQuery();\n                if (rs1.next()) {\n                    System.out.println(rs1.getString(&quot;ID&quot;));\n                }\n}\n</code></pre>\n<p>Above also fails with the below error</p>\n<pre><code>Caused by: Error : 933, Position : 233, Sql = insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem) select fund_id, fund_name, active, domicile, 'EMIS_FUNDS', 'EMIS' from EMIS_FUNDS  where status in (2, 3, 4) and active = 1 order by fund_id RETURNING ID INTO :1 , OriginalSql = insert into amalgam_care (id, name, activestatus, incorpcountry, sourcetable, sourcesystem) select fund_id, fund_name, active, domicile, 'EMIS_FUNDS', 'EMIS' from EMIS_FUNDS  where status in (2, 3, 4) and active = 1 order by fund_id RETURNING ID INTO ?, Error Msg = ORA-00933: SQL command not properly ended\n</code></pre>\n<p>Any input on this will be highly appreciated</p>\n<p>I just want to get the IDs of the inserted records via prepared statements immediately back. my table column is named ID (ID is neither auto generated, nor the primary key)</p>\n"},{"tags":["java","api","server","mocking"],"comments":[{"owner":{"account_id":7031916,"reputation":1939,"user_id":5387290,"display_name":"de_classified"},"score":0,"creation_date":1676265332,"post_id":75432085,"comment_id":133095530,"body_markdown":"Yes, you can use Java REST API calls to connect to the server and then the front-end for passing the data. What have you attempted so far?","body":"Yes, you can use Java REST API calls to connect to the server and then the front-end for passing the data. What have you attempted so far?"},{"owner":{"account_id":26127740,"reputation":11,"user_id":19818933,"display_name":"Rafig Mammadzada"},"score":0,"creation_date":1676275414,"post_id":75432085,"comment_id":133097125,"body_markdown":"what do you mean? I think you misunderstood requirements","body":"what do you mean? I think you misunderstood requirements"},{"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"score":0,"creation_date":1676275782,"post_id":75432085,"comment_id":133097196,"body_markdown":"I would consider using wiremock for this purpose.\nhttps://www.baeldung.com/introduction-to-wiremock","body":"I would consider using wiremock for this purpose. <a href=\"https://www.baeldung.com/introduction-to-wiremock\" rel=\"nofollow noreferrer\">baeldung.com/introduction-to-wiremock</a>"}],"answers":[{"tags":[],"owner":{"account_id":27107553,"reputation":9,"user_id":20653181,"display_name":"jswordfish"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676280678,"creation_date":1676280678,"answer_id":75434088,"question_id":75432085,"body_markdown":"Well, a simple mock server in your case can be build by - \r\n\r\n1. Get the signatures &amp; input/output payloads of your Microservices api&#39;s that are not yet developed. If the signatures &amp; payloads are not yet defined, you need to get in a huddle with stakeholders to articulate them first\r\n2. Simulate the input/output jsons and place them in a folder structure having the mapping in folder naming conventions\r\n3. Write a simple Spring Boot Webservices component, with Swagger enabled. Your Spring endpoints can refer the json folders &amp; return the example jsons. Swagger will allow you to publish an API listing url for consumption by respective teams.","title":"Real time request/response server (Java)","body":"<p>Well, a simple mock server in your case can be build by -</p>\n<ol>\n<li>Get the signatures &amp; input/output payloads of your Microservices api's that are not yet developed. If the signatures &amp; payloads are not yet defined, you need to get in a huddle with stakeholders to articulate them first</li>\n<li>Simulate the input/output jsons and place them in a folder structure having the mapping in folder naming conventions</li>\n<li>Write a simple Spring Boot Webservices component, with Swagger enabled. Your Spring endpoints can refer the json folders &amp; return the example jsons. Swagger will allow you to publish an API listing url for consumption by respective teams.</li>\n</ol>\n"}],"owner":{"account_id":26127740,"reputation":11,"user_id":19818933,"display_name":"Rafig Mammadzada"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1676294562,"answer_count":1,"score":1,"last_activity_date":1676280678,"creation_date":1676265118,"question_id":75432085,"body_markdown":"I need to write a service which will be acting as a real time mock server. We have multiple microservices and some of them are not ready. That is why I got a task to write this kind of service using java. But the main challenge for me is that it should create response upon requests in real time, so this service should mock APIs in real time without new deploy.\r\n\r\nArchitecture can be built on API calls which will set request and response, and those requests and responses will be used later. \r\n\r\nOr it can read from some folder requests and responses in .json format files and mock APIs.\r\n\r\nI am not sure did I explained my question clearly. Appreciate any kind of help.\r\n\r\nI haven&#39;t tried something, but I saw [Mockoon](https://mockoon.com) has this functionality. It is written in python. ","title":"Real time request/response server (Java)","body":"<p>I need to write a service which will be acting as a real time mock server. We have multiple microservices and some of them are not ready. That is why I got a task to write this kind of service using java. But the main challenge for me is that it should create response upon requests in real time, so this service should mock APIs in real time without new deploy.</p>\n<p>Architecture can be built on API calls which will set request and response, and those requests and responses will be used later.</p>\n<p>Or it can read from some folder requests and responses in .json format files and mock APIs.</p>\n<p>I am not sure did I explained my question clearly. Appreciate any kind of help.</p>\n<p>I haven't tried something, but I saw <a href=\"https://mockoon.com\" rel=\"nofollow noreferrer\">Mockoon</a> has this functionality. It is written in python.</p>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":4007082,"reputation":23327,"user_id":3301492,"display_name":"Boris"},"score":0,"creation_date":1583426546,"post_id":60550049,"comment_id":107121395,"body_markdown":"Are you using [spring-boot-starter-data-elasticsearch](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-elasticsearch)?","body":"Are you using <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-elasticsearch\" rel=\"nofollow noreferrer\">spring-boot-starter-data-elasticsearch</a>?"},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1583501737,"post_id":60550049,"comment_id":107148888,"body_markdown":"No, I use `spring-data-elasticsearch` of `org.springframework.data` version `3.2.5.RELEASE`. Do you recommend trying the spring boot starter?","body":"No, I use <code>spring-data-elasticsearch</code> of <code>org.springframework.data</code> version <code>3.2.5.RELEASE</code>. Do you recommend trying the spring boot starter?"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":1,"creation_date":1583529259,"post_id":60550049,"comment_id":107161334,"body_markdown":"This idle connection problems seems to come up from time to time; I will create a ticket for a feature to be handle this.","body":"This idle connection problems seems to come up from time to time; I will create a ticket for a feature to be handle this."},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1583590748,"post_id":60550049,"comment_id":107172302,"body_markdown":"@P.J.Meisch Wow, that would be awesome!","body":"@P.J.Meisch Wow, that would be awesome!"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":1,"creation_date":1583661262,"post_id":60550049,"comment_id":107186221,"body_markdown":"what if you configure @Retryable to be triggered by the `org.springframework.data.elasticsearch.ElasticsearchException` class?","body":"what if you configure @Retryable to be triggered by the <code>org.springframework.data.elasticsearch.ElasticsearchExceptio&zwnj;&#8203;n</code> class?"},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1583668466,"post_id":60550049,"comment_id":107187875,"body_markdown":"@P.J.Meisch please check out the Update section I just added. In the past I have also tried including `org.springframework.data.elasticsearch.ElasticsearchException` in the `@Retryable` without any effect. Now I know why.","body":"@P.J.Meisch please check out the Update section I just added. In the past I have also tried including <code>org.springframework.data.elasticsearch.ElasticsearchExceptio&zwnj;&#8203;n</code> in the <code>@Retryable</code> without any effect. Now I know why."},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1583684268,"post_id":60550049,"comment_id":107191933,"body_markdown":"And after removing the @Repository annotation the repository still works? Exception translation does not swallow an exception, it translates implementation based exceptions into Spring Data exceptions where possible. I rather think that Spring Retry conflicts with Spring Data repository logic as it seems that retry does it&#39;s own aop stuff","body":"And after removing the @Repository annotation the repository still works? Exception translation does not swallow an exception, it translates implementation based exceptions into Spring Data exceptions where possible. I rather think that Spring Retry conflicts with Spring Data repository logic as it seems that retry does it&#39;s own aop stuff"},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1584355513,"post_id":60550049,"comment_id":107402571,"body_markdown":"@P.J.Meisch Yeah, it still works. I was only able to handle this properly by wrapping the code in a try/catch block. I would appreciate it, if Spring Data Elasticsaerch had it own connection retry mechanism or would keep the connections alive somehow.","body":"@P.J.Meisch Yeah, it still works. I was only able to handle this properly by wrapping the code in a try/catch block. I would appreciate it, if Spring Data Elasticsaerch had it own connection retry mechanism or would keep the connections alive somehow."},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1584612367,"post_id":60550049,"comment_id":107491564,"body_markdown":"@P.J.Meisch it seems that it was the `@Retryable` though, that prevented that issue from occurring.","body":"@P.J.Meisch it seems that it was the <code>@Retryable</code> though, that prevented that issue from occurring."}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584980270,"creation_date":1584980270,"answer_id":60817453,"question_id":60550049,"body_markdown":"I finally found an easily viable workaround. I let Spring execute a scheduled task which executes the count method of the relevant ElasticsearchRepositories. By that means, the connection is kept alive so that no Exceptions can occur due to the system being idle for too long.\r\n\r\nThe code looks as follows:\r\n```\r\n@Component\r\n@Slf4j\r\npublic class ElasticsearchConnectionTester {\r\n\r\n    private final SportsFacilityViewRepository sportsFacilityViewRepository;\r\n\r\n    @Autowired\r\n    public ElasticsearchConnectionTester(SportsFacilityViewRepository sportsFacilityViewRepository) {\r\n        this.sportsFacilityViewRepository = sportsFacilityViewRepository;\r\n    }\r\n\r\n    @Scheduled(fixedRate = 1800000, initialDelay = 1800000)\r\n    public void keepConnectionAlive() {\r\n        log.debug(&quot;Trying to ping Elasticsearch&quot;);\r\n        try {\r\n            final long noOfSportsFacilities = sportsFacilityViewRepository.count();\r\n            log.debug(&quot;Ping succeeded for SportsFacilityViewRepository, it contains {} entities&quot;, noOfSportsFacilities);\r\n        } catch (Exception e) {\r\n            log.debug(&quot;Ping failed for SportsFacilityViewRepository&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe logging is optional, but it provides the necessary insight whether the chosen rate for the scheduled job is sufficient.","title":"ElasticSearch RestHighLevelClient throws java.io.IOException: Connection reset by peer","body":"<p>I finally found an easily viable workaround. I let Spring execute a scheduled task which executes the count method of the relevant ElasticsearchRepositories. By that means, the connection is kept alive so that no Exceptions can occur due to the system being idle for too long.</p>\n\n<p>The code looks as follows:</p>\n\n<pre><code>@Component\n@Slf4j\npublic class ElasticsearchConnectionTester {\n\n    private final SportsFacilityViewRepository sportsFacilityViewRepository;\n\n    @Autowired\n    public ElasticsearchConnectionTester(SportsFacilityViewRepository sportsFacilityViewRepository) {\n        this.sportsFacilityViewRepository = sportsFacilityViewRepository;\n    }\n\n    @Scheduled(fixedRate = 1800000, initialDelay = 1800000)\n    public void keepConnectionAlive() {\n        log.debug(\"Trying to ping Elasticsearch\");\n        try {\n            final long noOfSportsFacilities = sportsFacilityViewRepository.count();\n            log.debug(\"Ping succeeded for SportsFacilityViewRepository, it contains {} entities\", noOfSportsFacilities);\n        } catch (Exception e) {\n            log.debug(\"Ping failed for SportsFacilityViewRepository\");\n        }\n    }\n}\n</code></pre>\n\n<p>The logging is optional, but it provides the necessary insight whether the chosen rate for the scheduled job is sufficient.</p>\n"},{"tags":[],"owner":{"account_id":13764396,"reputation":21,"user_id":9933300,"display_name":"WENPIN1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667473544,"creation_date":1666972904,"answer_id":74237977,"question_id":60550049,"body_markdown":"Here&#39;s some configuration:\r\n\r\n```java\r\n @Configuration\r\n public class ElasticSearchConfig extendsAbstractElasticsearchConfiguration {\r\n    @Value(&quot;${spring.elasticsearch.rest.uris}&quot;)\r\n    private String uris;\r\n\r\n    @Value(&quot;${spring.elasticsearch.rest.username:#{\\&quot;\\&quot;}}&quot;)\r\n    private String username;\r\n\r\n    @Value(&quot;${spring.elasticsearch.rest.password:#{\\&quot;\\&quot;}}&quot;)\r\n    private String password;\r\n\r\n    @Override\r\n    public RestHighLevelClient elasticsearchClient() {\r\n\r\n        final ClientConfiguration clientConfiguration = ClientConfiguration.builder()\r\n                .connectedTo(uris)\r\n                .withBasicAuth(username, password)\r\n                .withHttpClientConfigurer(clientBuilder -&gt; {\r\n                    clientBuilder.setKeepAliveStrategy((httpResponse, httpContext) -&gt; 1000 * 60);\r\n                    return clientBuilder;\r\n                })\r\n                .build();\r\n        return RestClients.create(clientConfiguration).rest();\r\n\r\n    }\r\n\r\n}\r\n```","title":"ElasticSearch RestHighLevelClient throws java.io.IOException: Connection reset by peer","body":"<p>Here's some configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Configuration\n public class ElasticSearchConfig extendsAbstractElasticsearchConfiguration {\n    @Value(&quot;${spring.elasticsearch.rest.uris}&quot;)\n    private String uris;\n\n    @Value(&quot;${spring.elasticsearch.rest.username:#{\\&quot;\\&quot;}}&quot;)\n    private String username;\n\n    @Value(&quot;${spring.elasticsearch.rest.password:#{\\&quot;\\&quot;}}&quot;)\n    private String password;\n\n    @Override\n    public RestHighLevelClient elasticsearchClient() {\n\n        final ClientConfiguration clientConfiguration = ClientConfiguration.builder()\n                .connectedTo(uris)\n                .withBasicAuth(username, password)\n                .withHttpClientConfigurer(clientBuilder -&gt; {\n                    clientBuilder.setKeepAliveStrategy((httpResponse, httpContext) -&gt; 1000 * 60);\n                    return clientBuilder;\n                })\n                .build();\n        return RestClients.create(clientConfiguration).rest();\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14370752,"reputation":1,"user_id":10380585,"display_name":"StanZhao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676280664,"creation_date":1676280664,"answer_id":75434080,"question_id":60550049,"body_markdown":"Maybe you can config the client like this:\r\n\r\n```\r\n    @Override\r\n    @Bean\r\n    public RestHighLevelClient elasticsearchClient() {\r\n\r\n        // Connect to elastic search in https://app.bonsai.io/\r\n        final ClientConfiguration clientConfiguration = ClientConfiguration.builder()\r\n                .connectedTo(hostAndPort)\r\n                .withBasicAuth(userName, pwd)\r\n                // config the connect\r\n                .withConnectTimeout(5000)\r\n                .withSocketTimeout(60000)\r\n                .build();\r\n\r\n        return RestClients.create(clientConfiguration).rest();\r\n    }\r\n```","title":"ElasticSearch RestHighLevelClient throws java.io.IOException: Connection reset by peer","body":"<p>Maybe you can config the client like this:</p>\n<pre><code>    @Override\n    @Bean\n    public RestHighLevelClient elasticsearchClient() {\n\n        // Connect to elastic search in https://app.bonsai.io/\n        final ClientConfiguration clientConfiguration = ClientConfiguration.builder()\n                .connectedTo(hostAndPort)\n                .withBasicAuth(userName, pwd)\n                // config the connect\n                .withConnectTimeout(5000)\n                .withSocketTimeout(60000)\n                .build();\n\n        return RestClients.create(clientConfiguration).rest();\n    }\n</code></pre>\n"}],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5847,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1676280664,"creation_date":1583425939,"question_id":60550049,"body_markdown":"Summary\r\n----------\r\nWhen my Spring Boot app has been idle for a while, calling the `search` method of an `ElasticsearchRepository` (which uses the `RestHighLevelClient` for the underlying ES connection) results in a `java.io.IOException: Connection reset by peer` being thrown.    \r\n  \r\n----------------------\r\n\r\nDetailed problem\r\n--------------------\r\nI have a Spring Boot app (version `2.2.4.RELEASE`) and an ElasticSearch (version `6.8.6`). For communication with the ES instance I use Spring Data Elasticsearch (version `3.2.5.RELEASE`), to be specific I use an `ElasticsearchRepository`. \r\n\r\n\r\n\r\n\r\nMy ES configuration class looks as follows: \r\n\r\n```\r\n@Configuration\r\n@EnableElasticsearchRepositories\r\npublic class ElasticsearchConfiguration {\r\n\r\n    private final RestHighLevelClient restHighLevelClient;\r\n\r\n    @Autowired\r\n    public ElasticsearchConfiguration(RestHighLevelClient restHighLevelClient) {\r\n        this.restHighLevelClient = restHighLevelClient;\r\n    }\r\n\r\n    @Bean\r\n    public ElasticsearchRestTemplate elasticsearchTemplate() {\r\n        return new ElasticsearchRestTemplate(restHighLevelClient);\r\n    }\r\n\r\n}\r\n```  \r\n\r\nI have got an REST endpoint which triggers a lookup in the ES by calling the below method:\r\n```\r\n@Service\r\n@Transactional(readOnly = true)\r\npublic class SportsFacilityViewFilterService {\r\n\r\n    private final SportsFacilityViewRepository sportsFacilityViewRepository;\r\n\r\n    @Autowired\r\n    public SportsFacilityViewFilterService(SportsFacilityViewRepository sportsFacilityViewRepository) {\r\n        this.sportsFacilityViewRepository = sportsFacilityViewRepository;\r\n    }\r\n\r\n    /**\r\n     * Retrieves all {@link SportsFacilityView}s stored in the search index that match the given filter parameters.\r\n     *\r\n     * @param activity filter parameter.\r\n     * @param city     filter parameter.\r\n     * @param date     filter parameter.\r\n     * @param capacity filter parameter.\r\n     * @return {@code List&lt;SportsFacilityView&gt;} the filtered sports facilities in a display optimized format.\r\n     */\r\n    @Retryable(include = IOException.class, maxAttempts = 1, backoff = @Backoff(delay = 15))\r\n    @Transactional(readOnly = true)\r\n    public List&lt;SportsFacilityView&gt; filterSportsFacilities(final String activity, final Integer capacity,\r\n                                                           final String city, final LocalDate date) {\r\n        // Use filter query to retrieve sports facility views\r\n        final NativeSearchQuery searchQuery = new NativeSearchQueryBuilder()\r\n            .withFilter(buildFilterQuery(activity, capacity, city))\r\n            .withPageable(PageRequest.of(0, 50))\r\n            .withSort(new FieldSortBuilder(&quot;vendorName&quot;).order(SortOrder.ASC))\r\n            .build();\r\n        final List&lt;SportsFacilityView&gt; sportsFacilities = Lists.newArrayList(sportsFacilityViewRepository.search(searchQuery));\r\n\r\n        // Post-process filter results\r\n        removeClosedSportsFacilities(sportsFacilities, date);\r\n        updateMinimumPrice(sportsFacilities, date);\r\n\r\n        // Return\r\n        return sportsFacilities;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI defined the `SportsFacilityViewRepository` as follows:\r\n```\r\n@Repository\r\npublic interface SportsFacilityViewRepository extends ElasticsearchRepository&lt;SportsFacilityView, Long&gt; {\r\n\r\n}\r\n```\r\n\r\nThis code works perfectly fine, but when the system has been idle for a while, the following exception is thrown when invoking the above illustrated method:\r\n\r\n```\r\norg.springframework.data.elasticsearch.ElasticsearchException: Error for search request with scroll: SearchRequest{searchType=DFS_QUERY_THEN_FETCH, indices=[sportsfacility], indicesOptions=IndicesOptions[ignore_unavailable=false, allow_no_indices=true, expand_wildcards_open=true, expand_wildcards_closed=false, allow_aliases_to_multiple_indices=true, forbid_closed_indices=true, ignore_aliases=false, ignore_throttled=true], types=[sportsfacilityview], routing=&#39;null&#39;, preference=&#39;null&#39;, requestCache=null, scroll=null, maxConcurrentShardRequests=0, batchedReduceSize=512, preFilterShardSize=128, allowPartialSearchResults=null, localClusterAlias=null, getOrCreateAbsoluteStartMillis=-1, source={&quot;from&quot;:0,&quot;size&quot;:50,&quot;post_filter&quot;:{&quot;bool&quot;:{&quot;filter&quot;:[{&quot;term&quot;:{&quot;address.city&quot;:{&quot;value&quot;:&quot;K&#246;ln&quot;,&quot;boost&quot;:1.0}}}],&quot;adjust_pure_negative&quot;:true,&quot;boost&quot;:1.0}},&quot;version&quot;:true,&quot;sort&quot;:[{&quot;vendorName&quot;:{&quot;order&quot;:&quot;asc&quot;}}]}}\r\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doSearch(ElasticsearchRestTemplate.java:1153) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.queryForPage(ElasticsearchRestTemplate.java:381) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.queryForPage(ElasticsearchRestTemplate.java:376) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.queryForPage(ElasticsearchRestTemplate.java:147) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n        at org.springframework.data.elasticsearch.repository.support.AbstractElasticsearchRepository.search(AbstractElasticsearchRepository.java:259) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n        at sun.reflect.GeneratedMethodAccessor260.invoke(Unknown Source) ~[na:na]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222]\r\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:371) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:204) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:657) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:621) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at com.sun.proxy.$Proxy239.search(Unknown Source) ~[na:na]\r\n        at sun.reflect.GeneratedMethodAccessor259.invoke(Unknown Source) ~[na:na]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222]\r\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222]\r\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at com.sun.proxy.$Proxy239.search(Unknown Source) ~[na:na]\r\n        at com.myapp.service.SportsFacilityViewFilterService.filterSportsFacilities(SportsFacilityViewFilterService.java:74) ~[app/:na]\r\n        at com.myapp.service.SportsFacilityViewFilterService$$FastClassBySpringCGLIB$$d9ad847c.invoke(&lt;generated&gt;) ~[app/:na]\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor$$Lambda$1117.00000000674D8570.proceedWithInvocation(Unknown Source) ~[na:na]\r\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366) ~[spring-tx-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99) ~[spring-tx-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at com.myapp.service.SportsFacilityViewFilterService$$EnhancerBySpringCGLIB$$492633ab.filterSportsFacilities(&lt;generated&gt;) ~[app/:na]\r\n        at com.myapp.web.controller.publicapi.SportsFacilityFilterController.filterSportsFacilities(SportsFacilityFilterController.java:42) ~[app/:na]\r\n        at com.myapp.web.controller.publicapi.SportsFacilityFilterController$$FastClassBySpringCGLIB$$13529b2a.invoke(&lt;generated&gt;) ~[app/:na]\r\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:120) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at com.myapp.web.controller.publicapi.SportsFacilityFilterController$$EnhancerBySpringCGLIB$$221bc350.filterSportsFacilities(&lt;generated&gt;) ~[app/:na]\r\n        at sun.reflect.GeneratedMethodAccessor258.invoke(Unknown Source) ~[na:na]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222]\r\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209) [spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\r\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:747) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_222]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_222]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.29.jar:9.0.29]\r\n        at java.lang.Thread.run(Thread.java:819) [na:1.8.0_222]\r\nCaused by: java.io.IOException: Connection reset by peer\r\n        at org.elasticsearch.client.RestClient$SyncResponseListener.get(RestClient.java:964) ~[elasticsearch-rest-client-6.8.6.jar:6.8.6]\r\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:233) ~[elasticsearch-rest-client-6.8.6.jar:6.8.6]\r\n        at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1764) ~[elasticsearch-rest-high-level-client-6.8.6.jar:6.8.6]\r\n        at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1734) ~[elasticsearch-rest-high-level-client-6.8.6.jar:6.8.6]\r\n        at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1696) ~[elasticsearch-rest-high-level-client-6.8.6.jar:6.8.6]\r\n        at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:1092) ~[elasticsearch-rest-high-level-client-6.8.6.jar:6.8.6]\r\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doSearch(ElasticsearchRestTemplate.java:1151) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\r\n        ... 108 common frames omitted\r\nCaused by: java.io.IOException: Connection reset by peer\r\n        at sun.nio.ch.FileDispatcherImpl.read0(Native Method) ~[na:1.8.0_222]\r\n        at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39) ~[na:1.8.0_222]\r\n        at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223) ~[na:1.8.0_222]\r\n        at sun.nio.ch.IOUtil.read(IOUtil.java:197) ~[na:1.8.0_222]\r\n        at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:380) ~[na:1.8.0_222]\r\n        at org.apache.http.impl.nio.reactor.SessionInputBufferImpl.fill(SessionInputBufferImpl.java:231) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.codecs.AbstractMessageParser.fillBuffer(AbstractMessageParser.java:136) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:241) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:81) ~[httpasyncclient-4.1.4.jar:4.1.4]\r\n        at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:39) ~[httpasyncclient-4.1.4.jar:4.1.4]\r\n        at org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.12.jar:4.4.12]\r\n        ... 1 common frames omitted\r\n```\r\n\r\nI tried forcing a retry by annotating the method with `@Retryable`, but unfortunately this appears to be ignored, despite being picked up in other places of the program.\r\n\r\nCan somebody please explain why I get this exception and how I can prevent it from occurring?\r\n\r\nUpdate\r\n--------------\r\n\r\nRemoving the `@Repository` annotation from `SportsFacilityViewRepository` made it possible to `try/catch` the code, respectively automatically retry by means of the `@Retryable` annotation. Obviously, the [Spring Exception Translation mechanism][1] applied due to the `@Repository` annotation being present prevented a `try/catch` block and Spring Retry to catch the exception that was shown on the console.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/data-access.html#orm-exception-translation","title":"ElasticSearch RestHighLevelClient throws java.io.IOException: Connection reset by peer","body":"<h2>Summary</h2>\n\n<p>When my Spring Boot app has been idle for a while, calling the <code>search</code> method of an <code>ElasticsearchRepository</code> (which uses the <code>RestHighLevelClient</code> for the underlying ES connection) results in a <code>java.io.IOException: Connection reset by peer</code> being thrown.    </p>\n\n<hr>\n\n<h2>Detailed problem</h2>\n\n<p>I have a Spring Boot app (version <code>2.2.4.RELEASE</code>) and an ElasticSearch (version <code>6.8.6</code>). For communication with the ES instance I use Spring Data Elasticsearch (version <code>3.2.5.RELEASE</code>), to be specific I use an <code>ElasticsearchRepository</code>. </p>\n\n<p>My ES configuration class looks as follows: </p>\n\n<pre><code>@Configuration\n@EnableElasticsearchRepositories\npublic class ElasticsearchConfiguration {\n\n    private final RestHighLevelClient restHighLevelClient;\n\n    @Autowired\n    public ElasticsearchConfiguration(RestHighLevelClient restHighLevelClient) {\n        this.restHighLevelClient = restHighLevelClient;\n    }\n\n    @Bean\n    public ElasticsearchRestTemplate elasticsearchTemplate() {\n        return new ElasticsearchRestTemplate(restHighLevelClient);\n    }\n\n}\n</code></pre>\n\n<p>I have got an REST endpoint which triggers a lookup in the ES by calling the below method:</p>\n\n<pre><code>@Service\n@Transactional(readOnly = true)\npublic class SportsFacilityViewFilterService {\n\n    private final SportsFacilityViewRepository sportsFacilityViewRepository;\n\n    @Autowired\n    public SportsFacilityViewFilterService(SportsFacilityViewRepository sportsFacilityViewRepository) {\n        this.sportsFacilityViewRepository = sportsFacilityViewRepository;\n    }\n\n    /**\n     * Retrieves all {@link SportsFacilityView}s stored in the search index that match the given filter parameters.\n     *\n     * @param activity filter parameter.\n     * @param city     filter parameter.\n     * @param date     filter parameter.\n     * @param capacity filter parameter.\n     * @return {@code List&lt;SportsFacilityView&gt;} the filtered sports facilities in a display optimized format.\n     */\n    @Retryable(include = IOException.class, maxAttempts = 1, backoff = @Backoff(delay = 15))\n    @Transactional(readOnly = true)\n    public List&lt;SportsFacilityView&gt; filterSportsFacilities(final String activity, final Integer capacity,\n                                                           final String city, final LocalDate date) {\n        // Use filter query to retrieve sports facility views\n        final NativeSearchQuery searchQuery = new NativeSearchQueryBuilder()\n            .withFilter(buildFilterQuery(activity, capacity, city))\n            .withPageable(PageRequest.of(0, 50))\n            .withSort(new FieldSortBuilder(\"vendorName\").order(SortOrder.ASC))\n            .build();\n        final List&lt;SportsFacilityView&gt; sportsFacilities = Lists.newArrayList(sportsFacilityViewRepository.search(searchQuery));\n\n        // Post-process filter results\n        removeClosedSportsFacilities(sportsFacilities, date);\n        updateMinimumPrice(sportsFacilities, date);\n\n        // Return\n        return sportsFacilities;\n    }\n\n}\n</code></pre>\n\n<p>I defined the <code>SportsFacilityViewRepository</code> as follows:</p>\n\n<pre><code>@Repository\npublic interface SportsFacilityViewRepository extends ElasticsearchRepository&lt;SportsFacilityView, Long&gt; {\n\n}\n</code></pre>\n\n<p>This code works perfectly fine, but when the system has been idle for a while, the following exception is thrown when invoking the above illustrated method:</p>\n\n<pre><code>org.springframework.data.elasticsearch.ElasticsearchException: Error for search request with scroll: SearchRequest{searchType=DFS_QUERY_THEN_FETCH, indices=[sportsfacility], indicesOptions=IndicesOptions[ignore_unavailable=false, allow_no_indices=true, expand_wildcards_open=true, expand_wildcards_closed=false, allow_aliases_to_multiple_indices=true, forbid_closed_indices=true, ignore_aliases=false, ignore_throttled=true], types=[sportsfacilityview], routing='null', preference='null', requestCache=null, scroll=null, maxConcurrentShardRequests=0, batchedReduceSize=512, preFilterShardSize=128, allowPartialSearchResults=null, localClusterAlias=null, getOrCreateAbsoluteStartMillis=-1, source={\"from\":0,\"size\":50,\"post_filter\":{\"bool\":{\"filter\":[{\"term\":{\"address.city\":{\"value\":\"Köln\",\"boost\":1.0}}}],\"adjust_pure_negative\":true,\"boost\":1.0}},\"version\":true,\"sort\":[{\"vendorName\":{\"order\":\"asc\"}}]}}\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doSearch(ElasticsearchRestTemplate.java:1153) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.queryForPage(ElasticsearchRestTemplate.java:381) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.queryForPage(ElasticsearchRestTemplate.java:376) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.queryForPage(ElasticsearchRestTemplate.java:147) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\n        at org.springframework.data.elasticsearch.repository.support.AbstractElasticsearchRepository.search(AbstractElasticsearchRepository.java:259) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\n        at sun.reflect.GeneratedMethodAccessor260.invoke(Unknown Source) ~[na:na]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222]\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:371) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:204) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:657) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:621) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:605) ~[spring-data-commons-2.2.3.RELEASE.jar:2.2.3.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at com.sun.proxy.$Proxy239.search(Unknown Source) ~[na:na]\n        at sun.reflect.GeneratedMethodAccessor259.invoke(Unknown Source) ~[na:na]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222]\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at com.sun.proxy.$Proxy239.search(Unknown Source) ~[na:na]\n        at com.myapp.service.SportsFacilityViewFilterService.filterSportsFacilities(SportsFacilityViewFilterService.java:74) ~[app/:na]\n        at com.myapp.service.SportsFacilityViewFilterService$$FastClassBySpringCGLIB$$d9ad847c.invoke(&lt;generated&gt;) ~[app/:na]\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.transaction.interceptor.TransactionInterceptor$$Lambda$1117.00000000674D8570.proceedWithInvocation(Unknown Source) ~[na:na]\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:366) ~[spring-tx-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99) ~[spring-tx-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at com.myapp.service.SportsFacilityViewFilterService$$EnhancerBySpringCGLIB$$492633ab.filterSportsFacilities(&lt;generated&gt;) ~[app/:na]\n        at com.myapp.web.controller.publicapi.SportsFacilityFilterController.filterSportsFacilities(SportsFacilityFilterController.java:42) ~[app/:na]\n        at com.myapp.web.controller.publicapi.SportsFacilityFilterController$$FastClassBySpringCGLIB$$13529b2a.invoke(&lt;generated&gt;) ~[app/:na]\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:769) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:120) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:747) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at com.myapp.web.controller.publicapi.SportsFacilityFilterController$$EnhancerBySpringCGLIB$$221bc350.filterSportsFacilities(&lt;generated&gt;) ~[app/:na]\n        at sun.reflect.GeneratedMethodAccessor258.invoke(Unknown Source) ~[na:na]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_222]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_222]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138) ~[spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:888) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:793) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943) ~[spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:634) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) [spring-webmvc-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) [tomcat-embed-websocket-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:209) [spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.2.1.RELEASE.jar:5.2.1.RELEASE]\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) [spring-web-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:526) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:747) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1591) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_222]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_222]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.29.jar:9.0.29]\n        at java.lang.Thread.run(Thread.java:819) [na:1.8.0_222]\nCaused by: java.io.IOException: Connection reset by peer\n        at org.elasticsearch.client.RestClient$SyncResponseListener.get(RestClient.java:964) ~[elasticsearch-rest-client-6.8.6.jar:6.8.6]\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:233) ~[elasticsearch-rest-client-6.8.6.jar:6.8.6]\n        at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1764) ~[elasticsearch-rest-high-level-client-6.8.6.jar:6.8.6]\n        at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1734) ~[elasticsearch-rest-high-level-client-6.8.6.jar:6.8.6]\n        at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1696) ~[elasticsearch-rest-high-level-client-6.8.6.jar:6.8.6]\n        at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:1092) ~[elasticsearch-rest-high-level-client-6.8.6.jar:6.8.6]\n        at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doSearch(ElasticsearchRestTemplate.java:1151) ~[spring-data-elasticsearch-3.2.3.RELEASE.jar:3.2.3.RELEASE]\n        ... 108 common frames omitted\nCaused by: java.io.IOException: Connection reset by peer\n        at sun.nio.ch.FileDispatcherImpl.read0(Native Method) ~[na:1.8.0_222]\n        at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39) ~[na:1.8.0_222]\n        at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223) ~[na:1.8.0_222]\n        at sun.nio.ch.IOUtil.read(IOUtil.java:197) ~[na:1.8.0_222]\n        at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:380) ~[na:1.8.0_222]\n        at org.apache.http.impl.nio.reactor.SessionInputBufferImpl.fill(SessionInputBufferImpl.java:231) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.codecs.AbstractMessageParser.fillBuffer(AbstractMessageParser.java:136) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:241) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:81) ~[httpasyncclient-4.1.4.jar:4.1.4]\n        at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:39) ~[httpasyncclient-4.1.4.jar:4.1.4]\n        at org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591) ~[httpcore-nio-4.4.12.jar:4.4.12]\n        ... 1 common frames omitted\n</code></pre>\n\n<p>I tried forcing a retry by annotating the method with <code>@Retryable</code>, but unfortunately this appears to be ignored, despite being picked up in other places of the program.</p>\n\n<p>Can somebody please explain why I get this exception and how I can prevent it from occurring?</p>\n\n<h2>Update</h2>\n\n<p>Removing the <code>@Repository</code> annotation from <code>SportsFacilityViewRepository</code> made it possible to <code>try/catch</code> the code, respectively automatically retry by means of the <code>@Retryable</code> annotation. Obviously, the <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/data-access.html#orm-exception-translation\" rel=\"nofollow noreferrer\">Spring Exception Translation mechanism</a> applied due to the <code>@Repository</code> annotation being present prevented a <code>try/catch</code> block and Spring Retry to catch the exception that was shown on the console.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9340,"page":652,"page_size":100}
