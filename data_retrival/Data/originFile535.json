{"items":[{"tags":["java","hibernate","maven","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":297410,"reputation":10125,"user_id":602928,"accept_rate":86,"display_name":"Michael Laffargue"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1427104085,"creation_date":1427103243,"answer_id":29206910,"question_id":29206837,"body_markdown":"Since Hibernate 4.3.x, the `JtaPlatform` class is refactored to a new package.\r\nYou should either:\r\n\r\n* downgrade Hibernate to 4.2.x or older\r\n* upgrade the Spring framework.\r\n\r\nYou should upgrade Spring as it seems you&#39;re grabbing version 3.1.1-release for `spring-orm` and `spring-jdbc`. \r\n\r\nFrom : https://jira.spring.io/browse/SPR-10839\r\n\r\n\r\n&gt;     Spring Framework 3.2.3+ fully supports Hibernate 4.0 to 4.2.x in its orm.hibernate4 package.\r\n&gt;     Spring Framework 4.0.1+ fully supports Hibernate 4.0 to 4.3.x in its orm.hibernate4 package.\r\n\r\n","title":"HHH000302: Unable to construct current session context [org.springframework.orm.hibernate4.SpringSessionContext]","body":"<p>Since Hibernate 4.3.x, the <code>JtaPlatform</code> class is refactored to a new package.\nYou should either:</p>\n\n<ul>\n<li>downgrade Hibernate to 4.2.x or older</li>\n<li>upgrade the Spring framework.</li>\n</ul>\n\n<p>You should upgrade Spring as it seems you're grabbing version 3.1.1-release for <code>spring-orm</code> and <code>spring-jdbc</code>. </p>\n\n<p>From : <a href=\"https://jira.spring.io/browse/SPR-10839\" rel=\"nofollow\">https://jira.spring.io/browse/SPR-10839</a></p>\n\n<blockquote>\n<pre><code>Spring Framework 3.2.3+ fully supports Hibernate 4.0 to 4.2.x in its orm.hibernate4 package.\nSpring Framework 4.0.1+ fully supports Hibernate 4.0 to 4.3.x in its orm.hibernate4 package.\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":28170412,"reputation":1,"user_id":21529069,"display_name":"Wilber Mamani Salguero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680191833,"creation_date":1680191833,"answer_id":75890496,"question_id":29206837,"body_markdown":"I&#39;m add after I work well\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.0.1.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"HHH000302: Unable to construct current session context [org.springframework.orm.hibernate4.SpringSessionContext]","body":"<p>I'm add after I work well</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4674710,"reputation":169,"user_id":3785461,"accept_rate":100,"display_name":"JDevil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7489,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29206910,"answer_count":2,"score":1,"last_activity_date":1680191833,"creation_date":1427103028,"question_id":29206837,"body_markdown":"I am facing Error with hibernate 4.3.5.Final and spring mvc 4.0.4.RELEASE with maven. There are some jar which will be take from maven reposterty and some jar includes jar directly. i am not shore about version of spring and hibernate \r\n            Please provide me solution  \r\n\r\n        ERROR: org.hibernate.internal.SessionFactoryImpl - HHH000302: Unable to construct current session context [org.springframework.orm.hibernate4.SpringSessionContext]\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.buildCurrentSessionContext(SessionFactoryImpl.java:1513)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:532)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1857)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1928)\r\n    \tat org.springframework.orm.hibernate4.LocalSessionFactoryBuilder.buildSessionFactory(LocalSessionFactoryBuilder.java:189)\r\n    \tat org.springframework.orm.hibernate4.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:350)\r\n    \tat org.springframework.orm.hibernate4.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:335)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:684)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:760)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4779)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5273)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1566)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1556)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.NoClassDefFoundError: org/hibernate/service/jta/platform/spi/JtaPlatform\r\n    \tat org.springframework.orm.hibernate4.SpringSessionContext.&lt;init&gt;(SpringSessionContext.java:56)\r\n    \t... 35 more\r\n    Caused by: java.lang.ClassNotFoundException: org.hibernate.service.jta.platform.spi.JtaPlatform\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1711)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1556)\r\n    \t... 36 more\r\n\r\nPom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;org.com&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;iffco&lt;/artifactId&gt;\r\n    \t&lt;name&gt;iffco&lt;/name&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.0.0-BUILD-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java-version&gt;1.6&lt;/java-version&gt;\r\n    \t\t&lt;org.springframework-version&gt;4.0.4.RELEASE&lt;/org.springframework-version&gt;\r\n    \t\t&lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\r\n    \t\t&lt;org.slf4j-version&gt;1.6.6&lt;/org.slf4j-version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- Spring --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n    \t\t\t\t &lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.springframework-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\t\t\r\n    \t\t&lt;!-- AspectJ --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.aspectj-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\t\r\n    \t\t\r\n    \t\t&lt;!-- Logging --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.slf4j-version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.15&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- @Inject --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\t\t\r\n    \t\t&lt;!-- Servlet --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      \t\t&lt;version&gt;4.3.5.Final&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n    \t\r\n    \t\t&lt;!-- Test --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.7&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;  \r\n    \r\n    \t\t      \r\n    \t&lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.9&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;additionalProjectnatures&gt;\r\n                            &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\r\n                        &lt;/additionalProjectnatures&gt;\r\n                        &lt;additionalBuildcommands&gt;\r\n                            &lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\r\n                        &lt;/additionalBuildcommands&gt;\r\n                        &lt;downloadSources&gt;true&lt;/downloadSources&gt;\r\n                        &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.6&lt;/source&gt;\r\n                        &lt;target&gt;1.6&lt;/target&gt;\r\n                        &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\r\n                        &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n                        &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.2.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n   There are Some Jar Include External\r\n\r\n![jar.png][1](https://i.stack.imgur.com/o6Zav.png)\r\n  [1]: https://i.stack.imgur.com/o6Zav.png &quot;jarStructure&quot;\r\n\r\n root-context.xml\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n    \t\r\n    \t&lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\r\n    \t\t\r\n    &lt;bean id=&quot;dataSourceBean&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:postgresql://localhost:5432/iffco&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;postgres&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;postgres&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;sessionfactory&quot; class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSourceBean&quot;&gt;&lt;/property&gt;\r\n         &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\n","title":"HHH000302: Unable to construct current session context [org.springframework.orm.hibernate4.SpringSessionContext]","body":"<p>I am facing Error with hibernate 4.3.5.Final and spring mvc 4.0.4.RELEASE with maven. There are some jar which will be take from maven reposterty and some jar includes jar directly. i am not shore about version of spring and hibernate \n            Please provide me solution  </p>\n\n<pre><code>    ERROR: org.hibernate.internal.SessionFactoryImpl - HHH000302: Unable to construct current session context [org.springframework.orm.hibernate4.SpringSessionContext]\njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at org.hibernate.internal.SessionFactoryImpl.buildCurrentSessionContext(SessionFactoryImpl.java:1513)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:532)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1857)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1928)\n    at org.springframework.orm.hibernate4.LocalSessionFactoryBuilder.buildSessionFactory(LocalSessionFactoryBuilder.java:189)\n    at org.springframework.orm.hibernate4.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:350)\n    at org.springframework.orm.hibernate4.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:335)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1612)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1549)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:539)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:475)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:304)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:195)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:684)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:760)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:482)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:403)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:306)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:106)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4779)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5273)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1566)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1556)\n    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/service/jta/platform/spi/JtaPlatform\n    at org.springframework.orm.hibernate4.SpringSessionContext.&lt;init&gt;(SpringSessionContext.java:56)\n    ... 35 more\nCaused by: java.lang.ClassNotFoundException: org.hibernate.service.jta.platform.spi.JtaPlatform\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1711)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1556)\n    ... 36 more\n</code></pre>\n\n<p>Pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.com&lt;/groupId&gt;\n    &lt;artifactId&gt;iffco&lt;/artifactId&gt;\n    &lt;name&gt;iffco&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;1.0.0-BUILD-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;java-version&gt;1.6&lt;/java-version&gt;\n        &lt;org.springframework-version&gt;4.0.4.RELEASE&lt;/org.springframework-version&gt;\n        &lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\n        &lt;org.slf4j-version&gt;1.6.6&lt;/org.slf4j-version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!-- Spring --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;!-- Exclude Commons Logging in favor of SLF4j --&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                 &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${org.springframework-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- AspectJ --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;${org.aspectj-version}&lt;/version&gt;\n        &lt;/dependency&gt;   \n\n        &lt;!-- Logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;${org.slf4j-version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.15&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n                    &lt;artifactId&gt;mail&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n                    &lt;artifactId&gt;jms&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n                    &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- @Inject --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n            &lt;version&gt;1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Servlet --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;4.3.5.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n        &lt;!-- Test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.7&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;  \n\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-eclipse-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.9&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;additionalProjectnatures&gt;\n                        &lt;projectnature&gt;org.springframework.ide.eclipse.core.springnature&lt;/projectnature&gt;\n                    &lt;/additionalProjectnatures&gt;\n                    &lt;additionalBuildcommands&gt;\n                        &lt;buildcommand&gt;org.springframework.ide.eclipse.core.springbuilder&lt;/buildcommand&gt;\n                    &lt;/additionalBuildcommands&gt;\n                    &lt;downloadSources&gt;true&lt;/downloadSources&gt;\n                    &lt;downloadJavadocs&gt;true&lt;/downloadJavadocs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.6&lt;/source&gt;\n                    &lt;target&gt;1.6&lt;/target&gt;\n                    &lt;compilerArgument&gt;-Xlint:all&lt;/compilerArgument&gt;\n                    &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;org.test.int1.Main&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>There are Some Jar Include External</p>\n\n<p><img src=\"https://i.stack.imgur.com/o6Zav.png\" alt=\"jar.png\" title=\"jarStructure\">(<a href=\"https://i.stack.imgur.com/o6Zav.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/o6Zav.png</a>)\n root-context.xml</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\n\n&lt;bean id=\"dataSourceBean\" class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"org.postgresql.Driver\"/&gt;\n    &lt;property name=\"url\" value=\"jdbc:postgresql://localhost:5432/iffco\"/&gt;\n    &lt;property name=\"username\" value=\"postgres\"/&gt;\n    &lt;property name=\"password\" value=\"postgres\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"sessionfactory\" class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSourceBean\"&gt;&lt;/property&gt;\n     &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.PostgreSQLDialect&lt;/prop&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","powershell","kerberos","credentials","powershell-remoting"],"comments":[{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1679756996,"post_id":75842367,"comment_id":133779643,"body_markdown":"What version of Windows?  See : https://learn.microsoft.com/en-us/aspnet/core/security/authentication/windowsauth?view=aspnetcore-7.0&amp;tabs=visual-studio#kestrel  I think issue is with the version of windows you are using.  What error are you getting.  Are you using Net or Core?","body":"What version of Windows?  See : <a href=\"https://learn.microsoft.com/en-us/aspnet/core/security/authentication/windowsauth?view=aspnetcore-7.0&amp;tabs=visual-studio#kestrel\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/aspnet/core/security/authenticatio&zwnj;&#8203;n/&hellip;</a>  I think issue is with the version of windows you are using.  What error are you getting.  Are you using Net or Core?"},{"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"score":0,"creation_date":1679758509,"post_id":75842367,"comment_id":133779903,"body_markdown":"Not sure about which windows version you are asking. Running PowerShell script on Windows 10 machine and the remote machines also the same. Generating Kerberos ticket using Keytab file is part of PowerShell script. Java Web Application (JDK 11) is invoking the PowerShell Script using CreateProcessAsUser Windows API function.","body":"Not sure about which windows version you are asking. Running PowerShell script on Windows 10 machine and the remote machines also the same. Generating Kerberos ticket using Keytab file is part of PowerShell script. Java Web Application (JDK 11) is invoking the PowerShell Script using CreateProcessAsUser Windows API function."},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1679771364,"post_id":75842367,"comment_id":133781814,"body_markdown":"Wasn&#39;t sure which version of windows you were using  Most likely your issue is a proxy enabled.","body":"Wasn&#39;t sure which version of windows you were using  Most likely your issue is a proxy enabled."}],"answers":[{"tags":[],"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680191734,"creation_date":1679990501,"answer_id":75863691,"question_id":75842367,"body_markdown":"PowerShell on Windows does not deal with Kerberos directly – it uses the SSPI interface provided by Windows. In SSPI, only _Windows itself_ is in charge of acquiring all tickets; instead of a file-based keytab, the Kerberos TGT is acquired using the username and password that must be either given to LSASS at logon time, or given to SSPI afterwards.\r\n\r\nSo in addition to CreateProcessAsUser(), you&#39;d need to use LogonUser() and specify the account&#39;s password; the newly created &quot;logon session&quot; will automatically have Kerberos credentials associated with it.\r\n\r\nBut it is also possible to give a password credential to &#39;Enter-PSSession&#39;; as long as the username is in `user@REALM` format, SSPI will acquire Kerberos tickets for it. This would be a better solution in general.\r\n\r\n```powershell\r\n$cred = [PSCredential]::new(&quot;foo@AD.EXAMPLE.COM&quot;, $passwd)\r\nEnter-PSSession $host -Credential $cred -Authentication Kerberos \r\n```\r\n\r\n(It is also possible to store the password in Windows Credential Store; SSPI will use the stored usernames and passwords to acquire tickets for &quot;foreign&quot; systems. This works even if the client machine is not a domain member.)\r\n\r\nFinally, if your application is already running on a domain member system, then it _already has_ Kerberos credentials anyway – it doesn&#39;t need to specify anything extra. Just configure the Windows service to &quot;log in&quot; as a specific domain user (or if you don&#39;t, the service will use the machine credentials) and PowerShell will inherit those credentials automatically.","title":"Has anyone successfully implemented PowerShell remoting using authentication methods other than password-based, particularly Kerberos?","body":"<p>PowerShell on Windows does not deal with Kerberos directly – it uses the SSPI interface provided by Windows. In SSPI, only <em>Windows itself</em> is in charge of acquiring all tickets; instead of a file-based keytab, the Kerberos TGT is acquired using the username and password that must be either given to LSASS at logon time, or given to SSPI afterwards.</p>\n<p>So in addition to CreateProcessAsUser(), you'd need to use LogonUser() and specify the account's password; the newly created &quot;logon session&quot; will automatically have Kerberos credentials associated with it.</p>\n<p>But it is also possible to give a password credential to 'Enter-PSSession'; as long as the username is in <code>user@REALM</code> format, SSPI will acquire Kerberos tickets for it. This would be a better solution in general.</p>\n<pre><code>$cred = [PSCredential]::new(&quot;foo@AD.EXAMPLE.COM&quot;, $passwd)\nEnter-PSSession $host -Credential $cred -Authentication Kerberos \n</code></pre>\n<p>(It is also possible to store the password in Windows Credential Store; SSPI will use the stored usernames and passwords to acquire tickets for &quot;foreign&quot; systems. This works even if the client machine is not a domain member.)</p>\n<p>Finally, if your application is already running on a domain member system, then it <em>already has</em> Kerberos credentials anyway – it doesn't need to specify anything extra. Just configure the Windows service to &quot;log in&quot; as a specific domain user (or if you don't, the service will use the machine credentials) and PowerShell will inherit those credentials automatically.</p>\n"}],"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680191811,"creation_date":1679754698,"question_id":75842367,"body_markdown":"Our objective is to use Kerberos-based authentication for Remote PowerShell in order to execute commands on a remote machine and retrieve the CPU usage.\r\n\r\nWe intend to execute a PowerShell script from a Java web application using the CreateProcessAsUser function. In order to run the script within the user context, we plan to utilize the CreateProcessAsUser Windows API function via JNA.\r\n\r\nOur plan is to utilize a Keytab file and Krb5Cache file to obtain a valid Kerberos ticket for the currently logged-in user. This will enable us to fetch the ST ticket for the user who run the PowerShell Script.\r\n\r\nThus far, obtaining the Kerberos Service ticket using a Keytab file and Krb5Cache file seems feasible. However, the challenge lies in creating a PowerShell credential object using the Kerberos Service ticket. It appears that we cannot use credentials such as Kerberos or GSSCredential directly in PowerShell, and the only option is to utilize the PsCredential function, which solely accepts a username and password. Although ChatGPT suggests using a Base64 encoded Kerberos Ticket as the second argument, this approach does not seem to work.\r\n\r\nIs it possible to pass a Kerberos Service Ticket in PsCredential function? Can you please confirm if I am missing anything? \r\n\r\nI am trying to fetch the CPU usage of the remote machines in a Windows workstation cluster before running the actual workflow script using SSH. \r\n\r\n**How can we achieve PowerShell remoting without requiring a password for each PS-Session or communication, given that every PS authentication method, except for Kerberos, requires a password? It&#39;s important to note that the Default Windows Kerberos Ticket cannot be accessed by all logged-in users as it&#39;s protected by Windows LSASS, and the only way to generate a Kerberos ticket is through a Keytab file. Furthermore, we have explored all possible options to accomplish this.** \r\n\r\nI have attached a PowerShell script that has successfully generated a Kerberos ticket. However, I am unsure whether the **PSCredential will accept the Kerberos ST ticket as the second argument. Can someone please confirm this**?\r\n\r\n[PowerShell Script][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75841963/powershell-remoting-with-kerberos-authentication-keytab-based","title":"Has anyone successfully implemented PowerShell remoting using authentication methods other than password-based, particularly Kerberos?","body":"<p>Our objective is to use Kerberos-based authentication for Remote PowerShell in order to execute commands on a remote machine and retrieve the CPU usage.</p>\n<p>We intend to execute a PowerShell script from a Java web application using the CreateProcessAsUser function. In order to run the script within the user context, we plan to utilize the CreateProcessAsUser Windows API function via JNA.</p>\n<p>Our plan is to utilize a Keytab file and Krb5Cache file to obtain a valid Kerberos ticket for the currently logged-in user. This will enable us to fetch the ST ticket for the user who run the PowerShell Script.</p>\n<p>Thus far, obtaining the Kerberos Service ticket using a Keytab file and Krb5Cache file seems feasible. However, the challenge lies in creating a PowerShell credential object using the Kerberos Service ticket. It appears that we cannot use credentials such as Kerberos or GSSCredential directly in PowerShell, and the only option is to utilize the PsCredential function, which solely accepts a username and password. Although ChatGPT suggests using a Base64 encoded Kerberos Ticket as the second argument, this approach does not seem to work.</p>\n<p>Is it possible to pass a Kerberos Service Ticket in PsCredential function? Can you please confirm if I am missing anything?</p>\n<p>I am trying to fetch the CPU usage of the remote machines in a Windows workstation cluster before running the actual workflow script using SSH.</p>\n<p><strong>How can we achieve PowerShell remoting without requiring a password for each PS-Session or communication, given that every PS authentication method, except for Kerberos, requires a password? It's important to note that the Default Windows Kerberos Ticket cannot be accessed by all logged-in users as it's protected by Windows LSASS, and the only way to generate a Kerberos ticket is through a Keytab file. Furthermore, we have explored all possible options to accomplish this.</strong></p>\n<p>I have attached a PowerShell script that has successfully generated a Kerberos ticket. However, I am unsure whether the <strong>PSCredential will accept the Kerberos ST ticket as the second argument. Can someone please confirm this</strong>?</p>\n<p><a href=\"https://stackoverflow.com/questions/75841963/powershell-remoting-with-kerberos-authentication-keytab-based\">PowerShell Script</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1680192122,"post_id":75890491,"comment_id":133860163,"body_markdown":"You won&#39;t be able to access your apps files in that way. Here is an overview of what&#39;s available on Android: https://developer.android.com/training/data-storage","body":"You won&#39;t be able to access your apps files in that way. Here is an overview of what&#39;s available on Android: <a href=\"https://developer.android.com/training/data-storage\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage</a>"}],"owner":{"account_id":28170294,"reputation":1,"user_id":21528971,"display_name":"GregT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680191798,"creation_date":1680191798,"question_id":75890491,"body_markdown":"I&#39;m trying to get the current path of the running file (HomeViewModel) in Android Studio with Paths.get. \r\n\r\nI&#39;ve tried using Paths.get(&quot;.&quot;) since that normally returns the current directory, but when I check it via logcat, it just shows up as &quot;/.&quot;. I&#39;ve even tried typing out the full path through how Android might see it (&quot;/app/java/com/example/appname/ui/saves/save.ser&quot;) and it still doesn&#39;t work. Is there a way to make it work while not being too specific with the path so that the code can be used regardless of directory? (Or, if the directory will be the same on all android devices, what that directory might be)?","title":"Paths.get doesn&#39;t work properly in Android Studio","body":"<p>I'm trying to get the current path of the running file (HomeViewModel) in Android Studio with Paths.get.</p>\n<p>I've tried using Paths.get(&quot;.&quot;) since that normally returns the current directory, but when I check it via logcat, it just shows up as &quot;/.&quot;. I've even tried typing out the full path through how Android might see it (&quot;/app/java/com/example/appname/ui/saves/save.ser&quot;) and it still doesn't work. Is there a way to make it work while not being too specific with the path so that the code can be used regardless of directory? (Or, if the directory will be the same on all android devices, what that directory might be)?</p>\n"},{"tags":["java","scala","intellij-idea"],"comments":[{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":2,"creation_date":1680190960,"post_id":75890316,"comment_id":133859776,"body_markdown":"What are you using to compile the project? Can you share exactly what you do to get it compiled? Also, do you have a folder `common` with a child folder `mypackage` with a children folder `firsts`? And why are you keeping `.java` files inside the scala folder?","body":"What are you using to compile the project? Can you share exactly what you do to get it compiled? Also, do you have a folder <code>common</code> with a child folder <code>mypackage</code> with a children folder <code>firsts</code>? And why are you keeping <code>.java</code> files inside the scala folder?"},{"owner":{"account_id":18071003,"reputation":69,"user_id":13135667,"display_name":"it2901"},"score":0,"creation_date":1680191391,"post_id":75890316,"comment_id":133859916,"body_markdown":"@AnthonyAccioly there&#39;s not a lot I can share, but a few things if not all are handled by gradle","body":"@AnthonyAccioly there&#39;s not a lot I can share, but a few things if not all are handled by gradle"},{"owner":{"account_id":18071003,"reputation":69,"user_id":13135667,"display_name":"it2901"},"score":0,"creation_date":1680191649,"post_id":75890316,"comment_id":133860009,"body_markdown":"@AnthonyAccioly I edited my post. There is indeed `.scala` files in the scala folder and I correctly changed the project structure, `common/java/com/mypackage/firsts`","body":"@AnthonyAccioly I edited my post. There is indeed <code>.scala</code> files in the scala folder and I correctly changed the project structure, <code>common&#47;java&#47;com&#47;mypackage&#47;firsts</code>"},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":1,"creation_date":1680192155,"post_id":75890316,"comment_id":133860175,"body_markdown":"I suggest that you take take the time to create a [MVE](https://stackoverflow.com/help/minimal-reproducible-example). Chances are that you will figure out what&#39;s wrong as part of the process. Otherwise, you will have something more concrete to share in your question. Without at least a simplified (but functional) gradle build definition and the contents of the source files people can&#39;t do much to help you other than guess what the problem may be.","body":"I suggest that you take take the time to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MVE</a>. Chances are that you will figure out what&#39;s wrong as part of the process. Otherwise, you will have something more concrete to share in your question. Without at least a simplified (but functional) gradle build definition and the contents of the source files people can&#39;t do much to help you other than guess what the problem may be."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1680221782,"post_id":75890316,"comment_id":133865975,"body_markdown":"@it2901  If you&#39;re managing the while project with IntelliJ (without build tools) then look `File -&gt; Project Structure`.","body":"@it2901  If you&#39;re managing the while project with IntelliJ (without build tools) then look <code>File -&gt; Project Structure</code>."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1680221880,"post_id":75890316,"comment_id":133865990,"body_markdown":"@it2901 *&quot;a few things if not all are handled by gradle&quot;* If you&#39;re already using Gradle, why not to organize your project according to [standard directory structure](https://docs.gradle.org/current/userguide/organizing_gradle_projects.html) so that you&#39;ll not rely on marking directories as source roots in IntelliJ? Try to manage the whole your project with your build tool (Gradle, Maven, sbt etc.). I suspect that if you manage it partially with a build tool, partially with IntelliJ, this can confuse IntelliJ.","body":"@it2901 <i>&quot;a few things if not all are handled by gradle&quot;</i> If you&#39;re already using Gradle, why not to organize your project according to <a href=\"https://docs.gradle.org/current/userguide/organizing_gradle_projects.html\" rel=\"nofollow noreferrer\">standard directory structure</a> so that you&#39;ll not rely on marking directories as source roots in IntelliJ? Try to manage the whole your project with your build tool (Gradle, Maven, sbt etc.). I suspect that if you manage it partially with a build tool, partially with IntelliJ, this can confuse IntelliJ."}],"owner":{"account_id":18071003,"reputation":69,"user_id":13135667,"display_name":"it2901"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680191539,"creation_date":1680190792,"question_id":75890316,"body_markdown":"Project Structure\r\n\r\n```\r\n/\r\nfirst\r\n--- build\r\n    --- common\r\n        --- java\r\n            --- com.mypackage.firsts\r\n                --- file1_1.java\r\n                --- file2_1.java\r\nsecond\r\n--- src\r\n    --- main\r\n        --- scala\r\n            --- com.mypackage.seconds\r\n                --- file2_1.scala\r\n                --- file2_1.scala\r\n```\r\n\r\n`file2_1.java` imports `file1_1.java` as follows `import com.mypackage.firsts.file1_1`. IntelliJ allows me to use the auto-complete feature to fill out that import just fine. However, when compiling (this project does not use sbt) I get the following error\r\n\r\n```\r\nobject firsts is not a member of package com.impact\r\n    import com.impact.firsts.file1_1\r\n```\r\n\r\nHow can I solve this issue? The `java` directory above is marked as a `source root`.\r\n","title":"Object is not a member of package - No SBT, Using IntelliJ","body":"<p>Project Structure</p>\n<pre><code>/\nfirst\n--- build\n    --- common\n        --- java\n            --- com.mypackage.firsts\n                --- file1_1.java\n                --- file2_1.java\nsecond\n--- src\n    --- main\n        --- scala\n            --- com.mypackage.seconds\n                --- file2_1.scala\n                --- file2_1.scala\n</code></pre>\n<p><code>file2_1.java</code> imports <code>file1_1.java</code> as follows <code>import com.mypackage.firsts.file1_1</code>. IntelliJ allows me to use the auto-complete feature to fill out that import just fine. However, when compiling (this project does not use sbt) I get the following error</p>\n<pre><code>object firsts is not a member of package com.impact\n    import com.impact.firsts.file1_1\n</code></pre>\n<p>How can I solve this issue? The <code>java</code> directory above is marked as a <code>source root</code>.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680189791,"creation_date":1680189791,"answer_id":75890129,"question_id":75890069,"body_markdown":"Although I agree it should respect your override, that really comes down to the [naming strategy][1] in [use][2]. You&#39;ll want to choose the one that works for your case. And, I&#39;ll not lie: I&#39;ve always been confused by which does what\r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-naming-strategy\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.1/userguide/html_single/chapters/domain/naming.html","title":"Why can&#39;t JPA findAll get the existing column?","body":"<p>Although I agree it should respect your override, that really comes down to the <a href=\"https://www.baeldung.com/hibernate-naming-strategy\" rel=\"nofollow noreferrer\">naming strategy</a> in <a href=\"https://docs.jboss.org/hibernate/orm/5.1/userguide/html_single/chapters/domain/naming.html\" rel=\"nofollow noreferrer\">use</a>. You'll want to choose the one that works for your case. And, I'll not lie: I've always been confused by which does what</p>\n"},{"tags":[],"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680191509,"creation_date":1680191052,"answer_id":75890359,"question_id":75890069,"body_markdown":"Finally resolved, with 2 steps.\r\n\r\n1. Append the following in your application.properties file ([credit][1])\r\n\r\n\r\n```\r\n### For Hibernate 5.0\r\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\n### How to know your Hibernate version? Simply print this line below\r\nSystem.out.println(org.hibernate.Version.getVersionString());\r\n```\r\n\r\n2. Append `@Column` annotation inside your `@Entity` ([credit][2])\r\n```\r\n    @Column(name = &quot;\\&quot;ageGroup\\&quot;&quot;)\r\n    private Integer ageGroup;\r\n    @Column(name = &quot;\\&quot;lastUpdate\\&quot;&quot;)\r\n    private Timestamp lastUpdate;\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/6264#issuecomment-229893825\r\n  [2]: https://stackoverflow.com/a/35708531/4311268","title":"Why can&#39;t JPA findAll get the existing column?","body":"<p>Finally resolved, with 2 steps.</p>\n<ol>\n<li>Append the following in your application.properties file (<a href=\"https://github.com/spring-projects/spring-boot/issues/6264#issuecomment-229893825\" rel=\"nofollow noreferrer\">credit</a>)</li>\n</ol>\n<pre><code>### For Hibernate 5.0\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n\n### How to know your Hibernate version? Simply print this line below\nSystem.out.println(org.hibernate.Version.getVersionString());\n</code></pre>\n<ol start=\"2\">\n<li>Append <code>@Column</code> annotation inside your <code>@Entity</code> (<a href=\"https://stackoverflow.com/a/35708531/4311268\">credit</a>)</li>\n</ol>\n<pre><code>    @Column(name = &quot;\\&quot;ageGroup\\&quot;&quot;)\n    private Integer ageGroup;\n    @Column(name = &quot;\\&quot;lastUpdate\\&quot;&quot;)\n    private Timestamp lastUpdate;\n</code></pre>\n"}],"owner":{"account_id":5416181,"reputation":2699,"user_id":4311268,"display_name":"Tommy Leong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75890359,"answer_count":2,"score":1,"last_activity_date":1680191509,"creation_date":1680189528,"question_id":75890069,"body_markdown":"Im using Springboot `version &#39;2.5.1&#39;`, doing some simple application by using Hibernate to query data from local database. While using Hibernate `.findAll()`, I&#39;ve received a error message of `The column name last_update was not found in this ResultSet.` \r\n\r\nI notice the issue with Hibernate for reading my `lastUpdate` column as `last_update`. Despite I have specified the field using `@Column` annotation.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCan one help to correct my mistake please?\r\n\r\n**Database**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Entity**\r\n```\r\npackage com.user.learning.springboot.springboot.entity;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\nimport java.sql.Timestamp;\r\nimport java.util.Date;\r\n\r\n@Entity\r\n@Table(name=&quot;student&quot;)\r\npublic class Student {\r\n    // define fields\r\n    @Id\r\n    @Column (name=&quot;email&quot;)\r\n    private String email;\r\n    private String name;\r\n    private Date dob;\r\n    private Integer age;\r\n    @Column (name=&quot;lastUpdate&quot;)\r\n    private Timestamp lastUpdate;\r\n\r\n    // define constructors\r\n    public Student(){\r\n\r\n    }\r\n\r\n    public Student(String name, Date dob, Integer age, Timestamp lastUpdate) {\r\n        this.name = name;\r\n        this.dob = dob;\r\n        this.age = age;\r\n        this.lastUpdate = lastUpdate;\r\n    }\r\n\r\n    // define getters/setters - using auto generate function provided by IDE (just right click, generate)\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public Date getDob() {\r\n        return dob;\r\n    }\r\n\r\n    public void setDob(Date dob) {\r\n        this.dob = dob;\r\n    }\r\n\r\n    public Integer getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(Integer age) {\r\n        this.age = age;\r\n    }\r\n\r\n    public Timestamp getLastUpdate() {\r\n        return lastUpdate;\r\n    }\r\n\r\n    public void setLastUpdate(Timestamp lastUpdate) {\r\n        this.lastUpdate = lastUpdate;\r\n    }\r\n\r\n\r\n    //     define toString() method\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Student{&quot; +\r\n                &quot;email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, dob=&quot; + dob +\r\n                &quot;, age=&quot; + age +\r\n                &quot;, lastUpdate=&quot; + lastUpdate +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n**Service Implemenatation**\r\n```\r\npackage com.user.learning.springboot.springboot.service;\r\n\r\nimport com.user.learning.springboot.springboot.entity.Student;\r\nimport com.user.learning.springboot.springboot.repository.StudentRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class StudentServiceImpl implements StudentService{\r\n\r\n    @Autowired\r\n    StudentRepository studentRepository;\r\n\r\n    @Override\r\n    public List&lt;Student&gt; getAll() {\r\n        return studentRepository.findAll();\r\n    }\r\n}\r\n\r\n```\r\n\r\nSolution tried:\r\n1. https://stackoverflow.com/a/38875123/4311268\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1KKiA.png\r\n  [2]: https://i.stack.imgur.com/hMEC2.png","title":"Why can&#39;t JPA findAll get the existing column?","body":"<p>Im using Springboot <code>version '2.5.1'</code>, doing some simple application by using Hibernate to query data from local database. While using Hibernate <code>.findAll()</code>, I've received a error message of <code>The column name last_update was not found in this ResultSet.</code></p>\n<p>I notice the issue with Hibernate for reading my <code>lastUpdate</code> column as <code>last_update</code>. Despite I have specified the field using <code>@Column</code> annotation.</p>\n<p><a href=\"https://i.stack.imgur.com/1KKiA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1KKiA.png\" alt=\"enter image description here\" /></a></p>\n<p>Can one help to correct my mistake please?</p>\n<p><strong>Database</strong></p>\n<p><a href=\"https://i.stack.imgur.com/hMEC2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hMEC2.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Entity</strong></p>\n<pre><code>package com.user.learning.springboot.springboot.entity;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport java.sql.Timestamp;\nimport java.util.Date;\n\n@Entity\n@Table(name=&quot;student&quot;)\npublic class Student {\n    // define fields\n    @Id\n    @Column (name=&quot;email&quot;)\n    private String email;\n    private String name;\n    private Date dob;\n    private Integer age;\n    @Column (name=&quot;lastUpdate&quot;)\n    private Timestamp lastUpdate;\n\n    // define constructors\n    public Student(){\n\n    }\n\n    public Student(String name, Date dob, Integer age, Timestamp lastUpdate) {\n        this.name = name;\n        this.dob = dob;\n        this.age = age;\n        this.lastUpdate = lastUpdate;\n    }\n\n    // define getters/setters - using auto generate function provided by IDE (just right click, generate)\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Date getDob() {\n        return dob;\n    }\n\n    public void setDob(Date dob) {\n        this.dob = dob;\n    }\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n\n    public Timestamp getLastUpdate() {\n        return lastUpdate;\n    }\n\n    public void setLastUpdate(Timestamp lastUpdate) {\n        this.lastUpdate = lastUpdate;\n    }\n\n\n    //     define toString() method\n    @Override\n    public String toString() {\n        return &quot;Student{&quot; +\n                &quot;email='&quot; + email + '\\'' +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, dob=&quot; + dob +\n                &quot;, age=&quot; + age +\n                &quot;, lastUpdate=&quot; + lastUpdate +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>Service Implemenatation</strong></p>\n<pre><code>package com.user.learning.springboot.springboot.service;\n\nimport com.user.learning.springboot.springboot.entity.Student;\nimport com.user.learning.springboot.springboot.repository.StudentRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\npublic class StudentServiceImpl implements StudentService{\n\n    @Autowired\n    StudentRepository studentRepository;\n\n    @Override\n    public List&lt;Student&gt; getAll() {\n        return studentRepository.findAll();\n    }\n}\n\n</code></pre>\n<p>Solution tried:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/a/38875123/4311268\">https://stackoverflow.com/a/38875123/4311268</a></li>\n</ol>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680191423,"creation_date":1680191423,"answer_id":75890417,"question_id":75890105,"body_markdown":"I think there is a bit of misunderstanding on how Spring Boot works and how java class loading works.\r\n\r\nSpring boot looks at all of your declared dependencies and bundles them up into a single jar along with their own custom class loader; a jar-of-jars. This then becomes part of what&#39;s available to be loaded by the JVM, but it&#39;s not definitive, and this is crucial to remember.\r\n\r\nWhen the JVM starts, it starts loading classes through the class loader on-demand; in this case it would use springs custom class loader. So, spring boot doesn&#39;t &quot;load&quot; jars - it makes them available to the JVM in a convenient fashion - 1 fat jar. \r\n\r\n**My answer** There are a few ways you can accomplish what you&#39;re trying to do; 1 is experimental as I have never tried it\r\n\r\n1. Declare your jar as an actual dependency and let spring/maven/gradle do it&#39;s job normally - this is my recommendation. And, even if you don&#39;t have a dedicated artifact repository, you can configure both maven and gradle to treat a specific file path as a &quot;repo&quot;. So, that&#39;s not a limitation.\r\n2. Literally just drop the file in your target (maven) or lib (gradle) directory. I don&#39;t know if Spring boot just vacuums up all jars in the dir on the assumption they are correct or only the ones actually declared as dependencies. If I were implementing it, I&#39;d only pull in declared dependencies.\r\n3. Directly add it to the classpath when you run the spring boot jar by adding an extra arg: `--classpath mything.jar`\r\n\r\nI recommend option 1, then option 3. It depends on what you&#39;re trying to achieve and what you have accessible to you\r\n","title":"How to add a JAR to a Spring Boot layered lib/ dir and loading it?","body":"<p>I think there is a bit of misunderstanding on how Spring Boot works and how java class loading works.</p>\n<p>Spring boot looks at all of your declared dependencies and bundles them up into a single jar along with their own custom class loader; a jar-of-jars. This then becomes part of what's available to be loaded by the JVM, but it's not definitive, and this is crucial to remember.</p>\n<p>When the JVM starts, it starts loading classes through the class loader on-demand; in this case it would use springs custom class loader. So, spring boot doesn't &quot;load&quot; jars - it makes them available to the JVM in a convenient fashion - 1 fat jar.</p>\n<p><strong>My answer</strong> There are a few ways you can accomplish what you're trying to do; 1 is experimental as I have never tried it</p>\n<ol>\n<li>Declare your jar as an actual dependency and let spring/maven/gradle do it's job normally - this is my recommendation. And, even if you don't have a dedicated artifact repository, you can configure both maven and gradle to treat a specific file path as a &quot;repo&quot;. So, that's not a limitation.</li>\n<li>Literally just drop the file in your target (maven) or lib (gradle) directory. I don't know if Spring boot just vacuums up all jars in the dir on the assumption they are correct or only the ones actually declared as dependencies. If I were implementing it, I'd only pull in declared dependencies.</li>\n<li>Directly add it to the classpath when you run the spring boot jar by adding an extra arg: <code>--classpath mything.jar</code></li>\n</ol>\n<p>I recommend option 1, then option 3. It depends on what you're trying to achieve and what you have accessible to you</p>\n"}],"owner":{"account_id":1756163,"reputation":2476,"user_id":1604170,"accept_rate":84,"display_name":"BBacon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680191423,"creation_date":1680189696,"question_id":75890105,"body_markdown":"I have a Spring Boot app that I extract in layers using layertools jarmode and run:\r\n\r\n```\r\nMyApp \r\n│\r\n└───BOOT-INF\r\n    |\r\n    └-lib\r\n       |  my-jar-here-that-i-manually-added.jar\r\n│   \r\n└───META-INF\r\n    |   ...\r\n│   \r\n└───org\r\n    |   ...\r\n```\r\n\r\nHow would I make Spring Boot load my externally/manually added jar from its directory automatically?\r\n\r\nThe jar that I am manually adding is an UberJar built with `maven-assembly-plugin` and I want it to be picked up and scanned by spring. It has a `spring.factories` file inside.","title":"How to add a JAR to a Spring Boot layered lib/ dir and loading it?","body":"<p>I have a Spring Boot app that I extract in layers using layertools jarmode and run:</p>\n<pre><code>MyApp \n│\n└───BOOT-INF\n    |\n    └-lib\n       |  my-jar-here-that-i-manually-added.jar\n│   \n└───META-INF\n    |   ...\n│   \n└───org\n    |   ...\n</code></pre>\n<p>How would I make Spring Boot load my externally/manually added jar from its directory automatically?</p>\n<p>The jar that I am manually adding is an UberJar built with <code>maven-assembly-plugin</code> and I want it to be picked up and scanned by spring. It has a <code>spring.factories</code> file inside.</p>\n"},{"tags":["java","spring-boot","constraintviolationexception"],"answers":[{"tags":[],"owner":{"account_id":27521887,"reputation":1,"user_id":21001910,"display_name":"Gregory Pellegrin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680191009,"creation_date":1680191009,"answer_id":75890353,"question_id":75890062,"body_markdown":"mvn clean package then in Intelij invalidates caches and maven/reimport and it works !","title":"ConstraintViolationException won&#39;t be thrown","body":"<p>mvn clean package then in Intelij invalidates caches and maven/reimport and it works !</p>\n"}],"owner":{"account_id":27521887,"reputation":1,"user_id":21001910,"display_name":"Gregory Pellegrin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680191009,"creation_date":1680189492,"question_id":75890062,"body_markdown":"When I launch my request, the ConstraintViolationException does not want to be thrown for a field with a regex in the contract\r\n\r\n&gt; Here the request in postman\r\n\r\n```\r\napiName/v1/account?cardNumer=55^fields=customerName\r\n```\r\n\r\n&gt; Here the contract AccountApi with a regex on the field cardNumber\r\n\r\n```\r\n@Pattern(regexp = &quot;^[0-9]{6}[A-Z][0-9]{9}$&quot;) @Parameter(name = &quot;cardNumber&quot;)\r\n```\r\n\r\n&gt; Here the Controller.java with the @Validated annotation\r\n&gt;\r\n&gt; The AccountController .java implements AccountApi which is the contract\r\n\r\n```\r\n@RestController\r\n@Validated\r\n@Slf4j\r\npublic class AccountController implements AccountApi {\r\n\r\n    @Override\r\n    public ResponseEntity&lt;List&lt;Account&gt;&gt; getAccount(String cardNumer) {\r\n    }\r\n}\r\n```\r\n\r\n&gt; Here the AccountControllerExceptionHandler.java with the ConstraintViolationException\r\n\r\n```\r\n@ControllerAdvice\r\npublic class AccountControllerExceptionHandler{\r\n    @ExceptionHandler(value = {ConstraintViolationException.class})\r\n    @ResponseBody\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    public Error manageErrorRegexViolation(final ConstraintViolationException e, HttpServletResponse response) {\r\n        log.error(&quot;Error ConstraintViolationException {}.&quot;, e.getMessage());\r\n    }\r\n}\r\n```\r\n\r\n- The regex in the contract for the field cardNumber is here\r\n\r\n- The @Validated annotation in the Controller is here\r\n\r\n- The ConstraintViolationException in the ExceptionHandler.java is here\r\n\r\nIn others threads they only said to add thoses 3 things","title":"ConstraintViolationException won&#39;t be thrown","body":"<p>When I launch my request, the ConstraintViolationException does not want to be thrown for a field with a regex in the contract</p>\n<blockquote>\n<p>Here the request in postman</p>\n</blockquote>\n<pre><code>apiName/v1/account?cardNumer=55^fields=customerName\n</code></pre>\n<blockquote>\n<p>Here the contract AccountApi with a regex on the field cardNumber</p>\n</blockquote>\n<pre><code>@Pattern(regexp = &quot;^[0-9]{6}[A-Z][0-9]{9}$&quot;) @Parameter(name = &quot;cardNumber&quot;)\n</code></pre>\n<blockquote>\n<p>Here the Controller.java with the @Validated annotation</p>\n<p>The AccountController .java implements AccountApi which is the contract</p>\n</blockquote>\n<pre><code>@RestController\n@Validated\n@Slf4j\npublic class AccountController implements AccountApi {\n\n    @Override\n    public ResponseEntity&lt;List&lt;Account&gt;&gt; getAccount(String cardNumer) {\n    }\n}\n</code></pre>\n<blockquote>\n<p>Here the AccountControllerExceptionHandler.java with the ConstraintViolationException</p>\n</blockquote>\n<pre><code>@ControllerAdvice\npublic class AccountControllerExceptionHandler{\n    @ExceptionHandler(value = {ConstraintViolationException.class})\n    @ResponseBody\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    public Error manageErrorRegexViolation(final ConstraintViolationException e, HttpServletResponse response) {\n        log.error(&quot;Error ConstraintViolationException {}.&quot;, e.getMessage());\n    }\n}\n</code></pre>\n<ul>\n<li><p>The regex in the contract for the field cardNumber is here</p>\n</li>\n<li><p>The @Validated annotation in the Controller is here</p>\n</li>\n<li><p>The ConstraintViolationException in the ExceptionHandler.java is here</p>\n</li>\n</ul>\n<p>In others threads they only said to add thoses 3 things</p>\n"},{"tags":["java","gradle","libgdx","java-platform-module-system"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1680186806,"post_id":75889442,"comment_id":133858574,"body_markdown":"That library does no have a module descriptor or a stable module name.","body":"That library does no have a module descriptor or a stable module name."},{"owner":{"account_id":28169218,"reputation":41,"user_id":21528002,"display_name":"Joakim Leed"},"score":0,"creation_date":1680188675,"post_id":75889442,"comment_id":133859091,"body_markdown":"Is it possible to add a module descriptor to the library?","body":"Is it possible to add a module descriptor to the library?"},{"owner":{"account_id":28169218,"reputation":41,"user_id":21528002,"display_name":"Joakim Leed"},"score":0,"creation_date":1680188829,"post_id":75889442,"comment_id":133859149,"body_markdown":"Another observation I have done is that, my modules can discover the &quot;gdx&quot; dependency if I don&#39;t have nested modules. https://imgur.com/8xXtzUM : it does seem that Gradle assumes that main must be a module.","body":"Another observation I have done is that, my modules can discover the &quot;gdx&quot; dependency if I don&#39;t have nested modules. <a href=\"https://imgur.com/8xXtzUM\" rel=\"nofollow noreferrer\">imgur.com/8xXtzUM</a> : it does seem that Gradle assumes that main must be a module."}],"owner":{"account_id":28169218,"reputation":41,"user_id":21528002,"display_name":"Joakim Leed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680190760,"creation_date":1680186133,"question_id":75889442,"body_markdown":"I am building a project with LibGDX using Java Module System (JPMS) from Java 9, unfortunately JPMS is unable locate the gdx dependency that I am retrieving in my build.gradle file from:\r\nhttps://mvnrepository.com/artifact/com.badlogicgames.gdx/gdx/1.11.0\r\n\r\nrepositories:\r\n```\r\n        mavenLocal()\r\n        mavenCentral()\r\n        google()\r\n        gradlePluginPortal()\r\n        maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\r\n        maven { url &quot;https://oss.sonatype.org/content/repositories/releases/&quot; }\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n```\r\n\r\nmodule specific dependencies:\r\n```\r\nproject(&quot;:core&quot;) {\r\n    apply plugin: &quot;java&quot;\r\n    dependencies {\r\n        implementation project(&#39;:common&#39;)\r\n        implementation &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\r\n    }\r\n}\r\n```\r\n\r\nmodule-info.java file\r\n\r\n```\r\nmodule core {\r\n    exports sdu.dk.group.one;\r\n    requires common;\r\n    requires gdx;\r\n}\r\n```\r\n\r\nThe module is able to find the `implementation project(&#39;:common&#39;)` which means Gradle is able to discover dependency sources and Java is able to infer the dependencies of the modules correctly to them. \r\nAdditional information: \r\n\r\n\r\n# Steps taken to solve this issue:\r\n1. Using different keywords to store the dependency differently at compile/run-time:\r\n\r\n```\r\nimplementation &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\r\nruntime &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\r\napi &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\r\ncompileOnly &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\r\n```\r\nI have also attempted the official dependency declaration from: https://mvnrepository.com/artifact/com.badlogicgames.gdx/gdx/1.11.0#gradle\r\n```\r\nimplementation group: &#39;com.badlogicgames.gdx&#39;, name: &#39;gdx&#39;, version: &#39;1.11.0&#39;\r\n```\r\nAll resulting in the same error: &quot;error: module not found: gdx \\n requires gdx;&quot;\r\n\r\nI have consulted the official documentation from Gradle about Java 9 modules:\r\nhttps://docs.gradle.org/current/samples/sample_java_modules_multi_project.html\r\nHowever, this does not seem to be related to my issue since my local dependencies are working as expected i.e. (&#39;:common&#39;)\r\n\r\nI have also tried different plugins for Gradle such as:\r\n```\r\napply plugin: &quot;java&quot;\r\napply plugin: &quot;java-library&quot;\r\n```\r\n\r\nI&#39;ve spent the majority of the day trying to solve this issue so any help would be greatly appreciated. \r\nThank you for the time spent on reading this post. \r\n\r\nupdate:\r\nDisregarding the project structure that Gradle Assumes (src:directory/main:module/java:sources-root) https://i.stack.imgur.com/ht07H.jpg will make the JPSM discover the gdx dependency, however this is overwritten when reloading Gradle. ","title":"Java module system unable to discover Gradle dependency: gdx (libgdx)","body":"<p>I am building a project with LibGDX using Java Module System (JPMS) from Java 9, unfortunately JPMS is unable locate the gdx dependency that I am retrieving in my build.gradle file from:\n<a href=\"https://mvnrepository.com/artifact/com.badlogicgames.gdx/gdx/1.11.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.badlogicgames.gdx/gdx/1.11.0</a></p>\n<p>repositories:</p>\n<pre><code>        mavenLocal()\n        mavenCentral()\n        google()\n        gradlePluginPortal()\n        maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\n        maven { url &quot;https://oss.sonatype.org/content/repositories/releases/&quot; }\n        maven { url &quot;https://jitpack.io&quot; }\n</code></pre>\n<p>module specific dependencies:</p>\n<pre><code>project(&quot;:core&quot;) {\n    apply plugin: &quot;java&quot;\n    dependencies {\n        implementation project(':common')\n        implementation &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\n    }\n}\n</code></pre>\n<p>module-info.java file</p>\n<pre><code>module core {\n    exports sdu.dk.group.one;\n    requires common;\n    requires gdx;\n}\n</code></pre>\n<p>The module is able to find the <code>implementation project(':common')</code> which means Gradle is able to discover dependency sources and Java is able to infer the dependencies of the modules correctly to them.\nAdditional information:</p>\n<h1>Steps taken to solve this issue:</h1>\n<ol>\n<li>Using different keywords to store the dependency differently at compile/run-time:</li>\n</ol>\n<pre><code>implementation &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\nruntime &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\napi &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\ncompileOnly &quot;com.badlogicgames.gdx:gdx:$gdxVersion&quot;\n</code></pre>\n<p>I have also attempted the official dependency declaration from: <a href=\"https://mvnrepository.com/artifact/com.badlogicgames.gdx/gdx/1.11.0#gradle\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.badlogicgames.gdx/gdx/1.11.0#gradle</a></p>\n<pre><code>implementation group: 'com.badlogicgames.gdx', name: 'gdx', version: '1.11.0'\n</code></pre>\n<p>All resulting in the same error: &quot;error: module not found: gdx \\n requires gdx;&quot;</p>\n<p>I have consulted the official documentation from Gradle about Java 9 modules:\n<a href=\"https://docs.gradle.org/current/samples/sample_java_modules_multi_project.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/samples/sample_java_modules_multi_project.html</a>\nHowever, this does not seem to be related to my issue since my local dependencies are working as expected i.e. (':common')</p>\n<p>I have also tried different plugins for Gradle such as:</p>\n<pre><code>apply plugin: &quot;java&quot;\napply plugin: &quot;java-library&quot;\n</code></pre>\n<p>I've spent the majority of the day trying to solve this issue so any help would be greatly appreciated.\nThank you for the time spent on reading this post.</p>\n<p>update:\nDisregarding the project structure that Gradle Assumes (src:directory/main:module/java:sources-root) <a href=\"https://i.stack.imgur.com/ht07H.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ht07H.jpg</a> will make the JPSM discover the gdx dependency, however this is overwritten when reloading Gradle.</p>\n"},{"tags":["java","mongodb","aggregation-framework","rename"],"comments":[{"owner":{"account_id":1122347,"reputation":35187,"user_id":1110423,"accept_rate":70,"display_name":"Alex Blex"},"score":2,"creation_date":1492765014,"post_id":43537943,"comment_id":74128363,"body_markdown":"[$project](https://docs.mongodb.com/manual/reference/operator/aggregation/project/) it on the next stage in the pipeline","body":"<a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/project/\" rel=\"nofollow noreferrer\">$project</a> it on the next stage in the pipeline"},{"owner":{"account_id":3541340,"reputation":296,"user_id":2958358,"accept_rate":56,"display_name":"artemitSoft"},"score":0,"creation_date":1661345602,"post_id":43537943,"comment_id":129749686,"body_markdown":"{  $addFields: { newName: &quot;$_id&quot; } },\n{ $project: { _id: 1 } }","body":"{  $addFields: { newName: &quot;$_id&quot; } }, { $project: { _id: 1 } }"}],"answers":[{"tags":[],"owner":{"account_id":9232677,"reputation":9117,"user_id":6858274,"accept_rate":92,"display_name":"felix"},"down_vote_count":0,"up_vote_count":109,"is_accepted":true,"score":109,"last_activity_date":1545214242,"creation_date":1492766333,"answer_id":43538722,"question_id":43537943,"body_markdown":"You can achieve this by adding a [**`$project`**][1] stage at the end of your pipeline like this : \r\n\r\n\r\n    { $project: {  \r\n          _id: 0,\r\n          name: &quot;$_id&quot;,\r\n          count: 1,\r\n          sum: 1\r\n       }\r\n    }\r\n\r\ntry it online: [mongoplayground.net/p/QpVyh-0I-bP](https://mongoplayground.net/p/QpVyh-0I-bP)\r\n\r\n\r\n  [1]: https://docs.mongodb.com/manual/reference/operator/aggregation/project/","title":"Is it possible to rename _id field after mongo&#39;s group aggregation?","body":"<p>You can achieve this by adding a <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/project/\" rel=\"noreferrer\"><strong><code>$project</code></strong></a> stage at the end of your pipeline like this : </p>\n\n<pre><code>{ $project: {  \n      _id: 0,\n      name: \"$_id\",\n      count: 1,\n      sum: 1\n   }\n}\n</code></pre>\n\n<p>try it online: <a href=\"https://mongoplayground.net/p/QpVyh-0I-bP\" rel=\"noreferrer\">mongoplayground.net/p/QpVyh-0I-bP</a></p>\n"},{"tags":[],"owner":{"account_id":4018130,"reputation":11533,"user_id":3309466,"accept_rate":78,"display_name":"Manuel Spigolon"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1518085076,"creation_date":1518085076,"answer_id":48683015,"question_id":43537943,"body_markdown":"From mongo v3.4 you could use [`$addFields`][1] in conjunction with `$project` to avoid to write all the fields in `$project` that could be **very tedious**.\r\n\r\nThis happen in `$project` because if you include specifically a field, the other fields will be automatically excluded.\r\n\r\nExample:\r\n\r\n    { \r\n      $addFields: { my_new_id_name: &quot;$_id&quot; }\r\n    },\r\n    {\r\n      $project: { _id: 0 }\r\n    }\r\n\r\n\r\n  [1]: https://docs.mongodb.com/manual/reference/operator/aggregation/addFields/","title":"Is it possible to rename _id field after mongo&#39;s group aggregation?","body":"<p>From mongo v3.4 you could use <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/addFields/\" rel=\"noreferrer\"><code>$addFields</code></a> in conjunction with <code>$project</code> to avoid to write all the fields in <code>$project</code> that could be <strong>very tedious</strong>.</p>\n\n<p>This happen in <code>$project</code> because if you include specifically a field, the other fields will be automatically excluded.</p>\n\n<p>Example:</p>\n\n<pre><code>{ \n  $addFields: { my_new_id_name: \"$_id\" }\n},\n{\n  $project: { _id: 0 }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12546993,"reputation":1272,"user_id":9129924,"display_name":"andranikasl"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1540113477,"creation_date":1540113477,"answer_id":52913757,"question_id":43537943,"body_markdown":"if you are using `find` method you can&#39;t do this, but if you using `aggregation` it is very easy like this:\r\n\r\n    db.collectionName.aggregate([\r\n        {\r\n            $project: {\r\n                newName: &quot;$existingKeyName&quot;\r\n            }\r\n        }\r\n    ]);","title":"Is it possible to rename _id field after mongo&#39;s group aggregation?","body":"<p>if you are using <code>find</code> method you can't do this, but if you using <code>aggregation</code> it is very easy like this:</p>\n\n<pre><code>db.collectionName.aggregate([\n    {\n        $project: {\n            newName: \"$existingKeyName\"\n        }\n    }\n]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3657397,"reputation":1107,"user_id":3048005,"display_name":"Prasad"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1547124471,"creation_date":1547124471,"answer_id":54129086,"question_id":43537943,"body_markdown":"     db.report.aggregate(   \r\n    {     \r\n    $group: {_id: &#39;$name&#39;} \r\n    },\r\n    {\r\n    $project:{\r\n      name:&quot;$_id&quot;,\r\n     _id:false} }\r\n     )","title":"Is it possible to rename _id field after mongo&#39;s group aggregation?","body":"<pre><code> db.report.aggregate(   \n{     \n$group: {_id: '$name'} \n},\n{\n$project:{\n  name:\"$_id\",\n _id:false} }\n )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631987535,"creation_date":1631987535,"answer_id":69237131,"question_id":43537943,"body_markdown":"As all of the answers are written the solution in MongoDB query despite the question seeks the solution in Java, posting my approach using Java for posterities.\r\n\r\nAfter the grouping, we can rename the `_id` fieldname using \r\n`Projections.computed(&quot;&lt;expected field name&gt;&quot;, &quot;$_id&quot;)))`\r\n\r\nTo Transform the core part of the query mentioned in the question to Java\r\n```\r\n        Bson mainIdMatch = match(eq(&quot;main_id&quot;, new ObjectId(&quot;58f0f67f50c6af16709fd2c7&quot;)));\r\n        Bson group = Aggregates.group(&quot;$name&quot;, Accumulators.sum(&quot;count&quot;, 1L));\r\n        Bson project = Aggregates.project(Projections.fields(Projections.excludeId(),\r\n                Projections.computed(&quot;name&quot;, &quot;$_id&quot;)));\r\n        reportMongoCollection.aggregate(Arrays.asList(mainIdMatch, group, project))\r\n                .into(new ArrayList&lt;&gt;());\r\n```\r\nTo answer specifically, I have added an excerpt from the above code snippet, where I am renaming `_id` field value as name using `Projections.computed(&quot;name&quot;, &quot;$_id&quot;)` which map the values of `_id` which we got as a result of grouping to the field called `name`. Also, we should exclude the id using `Projections.excludeId()`.\r\n\r\n```\r\nAggregates.project(Projections.fields(Projections.excludeId(),\r\n                Projections.computed(&quot;name&quot;, &quot;$_id&quot;)))\r\n```\r\n","title":"Is it possible to rename _id field after mongo&#39;s group aggregation?","body":"<p>As all of the answers are written the solution in MongoDB query despite the question seeks the solution in Java, posting my approach using Java for posterities.</p>\n<p>After the grouping, we can rename the <code>_id</code> fieldname using\n<code>Projections.computed(&quot;&lt;expected field name&gt;&quot;, &quot;$_id&quot;)))</code></p>\n<p>To Transform the core part of the query mentioned in the question to Java</p>\n<pre><code>        Bson mainIdMatch = match(eq(&quot;main_id&quot;, new ObjectId(&quot;58f0f67f50c6af16709fd2c7&quot;)));\n        Bson group = Aggregates.group(&quot;$name&quot;, Accumulators.sum(&quot;count&quot;, 1L));\n        Bson project = Aggregates.project(Projections.fields(Projections.excludeId(),\n                Projections.computed(&quot;name&quot;, &quot;$_id&quot;)));\n        reportMongoCollection.aggregate(Arrays.asList(mainIdMatch, group, project))\n                .into(new ArrayList&lt;&gt;());\n</code></pre>\n<p>To answer specifically, I have added an excerpt from the above code snippet, where I am renaming <code>_id</code> field value as name using <code>Projections.computed(&quot;name&quot;, &quot;$_id&quot;)</code> which map the values of <code>_id</code> which we got as a result of grouping to the field called <code>name</code>. Also, we should exclude the id using <code>Projections.excludeId()</code>.</p>\n<pre><code>Aggregates.project(Projections.fields(Projections.excludeId(),\n                Projections.computed(&quot;name&quot;, &quot;$_id&quot;)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12852886,"reputation":56785,"user_id":9297144,"display_name":"Xavier Guihot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1638607906,"creation_date":1638607906,"answer_id":70224237,"question_id":43537943,"body_markdown":"Starting in `Mongo 4.2`, you can use a combination of [`$set`](https://docs.mongodb.com/manual/reference/operator/aggregation/set/) / [`$unset`](https://docs.mongodb.com/manual/reference/operator/aggregation/unset/) stages:\r\n\r\n&lt;!-- language-all: lang-javascript --&gt;\r\n\r\n    // { x: 1, z: &quot;a&quot; }\r\n    // { x: 2, z: &quot;b&quot; }\r\n    db.collection.aggregate([\r\n      { $set: { y: &quot;$x&quot; } },\r\n      { $unset: &quot;x&quot; }\r\n    ])\r\n    // { y: 1, z: &quot;a&quot; }\r\n    // { y: 2, z: &quot;b&quot; }\r\n\r\nThe [`$set`](https://docs.mongodb.com/manual/reference/operator/aggregation/set/) stage adds the new field to documents and the [`$unset`](https://docs.mongodb.com/manual/reference/operator/aggregation/unset/) stage removes/excludes the field to be renamed from documents.\r\n","title":"Is it possible to rename _id field after mongo&#39;s group aggregation?","body":"<p>Starting in <code>Mongo 4.2</code>, you can use a combination of <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/set/\" rel=\"nofollow noreferrer\"><code>$set</code></a> / <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/unset/\" rel=\"nofollow noreferrer\"><code>$unset</code></a> stages:</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>// { x: 1, z: &quot;a&quot; }\n// { x: 2, z: &quot;b&quot; }\ndb.collection.aggregate([\n  { $set: { y: &quot;$x&quot; } },\n  { $unset: &quot;x&quot; }\n])\n// { y: 1, z: &quot;a&quot; }\n// { y: 2, z: &quot;b&quot; }\n</code></pre>\n<p>The <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/set/\" rel=\"nofollow noreferrer\"><code>$set</code></a> stage adds the new field to documents and the <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/unset/\" rel=\"nofollow noreferrer\"><code>$unset</code></a> stage removes/excludes the field to be renamed from documents.</p>\n"},{"tags":[],"owner":{"account_id":5602161,"reputation":4883,"user_id":4438061,"display_name":"Sandeep Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680190180,"creation_date":1680190180,"answer_id":75890202,"question_id":43537943,"body_markdown":"Here is working example In Java using MongoTemplate:\r\n\r\n\r\n    GroupOperation groupByMovie = Aggregation.group(&quot;movieId&quot;)\r\n                    .avg(&quot;rating&quot;).as(&quot;averageRating&quot;);\r\n    \r\n            SortOperation sortByAvgRatingDesc = Aggregation.sort(Sort.Direction.DESC, &quot;averageRating&quot;);\r\n            LimitOperation limitRows = Aggregation.limit(limit);\r\n            ProjectionOperation projectionOperation = Aggregation.project()\r\n                    .and(&quot;_id&quot;).as(&quot;movieId&quot;)\r\n                    .and(&quot;averageRating&quot;).as(&quot;averageRating&quot;)\r\n                    .andExclude(&quot;_id&quot;);\r\n    \r\n            Aggregation aggregation = Aggregation.newAggregation(\r\n                    groupByMovie,\r\n                    projectionOperation,\r\n                    sortByAvgRatingDesc,\r\n                    limitRows\r\n            );\r\n    \r\n            AggregationResults&lt;TopRatedMovie&gt; results = mongoTemplate.aggregate(aggregation, MovieRating.class, TopRatedMovie.class);\r\n    \r\n            return results.getMappedResults();","title":"Is it possible to rename _id field after mongo&#39;s group aggregation?","body":"<p>Here is working example In Java using MongoTemplate:</p>\n<pre><code>GroupOperation groupByMovie = Aggregation.group(&quot;movieId&quot;)\n                .avg(&quot;rating&quot;).as(&quot;averageRating&quot;);\n\n        SortOperation sortByAvgRatingDesc = Aggregation.sort(Sort.Direction.DESC, &quot;averageRating&quot;);\n        LimitOperation limitRows = Aggregation.limit(limit);\n        ProjectionOperation projectionOperation = Aggregation.project()\n                .and(&quot;_id&quot;).as(&quot;movieId&quot;)\n                .and(&quot;averageRating&quot;).as(&quot;averageRating&quot;)\n                .andExclude(&quot;_id&quot;);\n\n        Aggregation aggregation = Aggregation.newAggregation(\n                groupByMovie,\n                projectionOperation,\n                sortByAvgRatingDesc,\n                limitRows\n        );\n\n        AggregationResults&lt;TopRatedMovie&gt; results = mongoTemplate.aggregate(aggregation, MovieRating.class, TopRatedMovie.class);\n\n        return results.getMappedResults();\n</code></pre>\n"}],"owner":{"account_id":49766,"reputation":1746,"user_id":148320,"accept_rate":65,"display_name":"mykola"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46710,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":43538722,"answer_count":7,"score":65,"last_activity_date":1680190180,"creation_date":1492764190,"question_id":43537943,"body_markdown":"I have a query like this (simplified):\r\n\r\n&lt;!-- language-all: lang-javascript --&gt;\r\n\r\n    db.collection.aggregate([\r\n      { $match: { main_id: ObjectId(&quot;58f0f67f50c6af16709fd2c7&quot;) } }, \r\n      {\r\n        $group: {\r\n          _id: &quot;$name&quot;,\r\n          count: { $sum: 1 },\r\n          sum: { $sum: { $add: [&quot;$P31&quot;, &quot;$P32&quot;] } }\r\n        }\r\n      }\r\n    ])\r\n\r\nI do this query from Java, and I want to map it on my class, but I don&#39;t want `_id` to be mapped on `name` field. Because if I do something like this:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    @JsonProperty(&quot;_id&quot;)\r\n    private String name;\r\n\r\nthen when I save this data back to mongo (after some modification) the data is saved with name as `_id` while I want a real Id to be generated.\r\n\r\nSo, how can I **rename** `_id` after `$group` operation?\r\n","title":"Is it possible to rename _id field after mongo&#39;s group aggregation?","body":"<p>I have a query like this (simplified):</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>db.collection.aggregate([\n  { $match: { main_id: ObjectId(&quot;58f0f67f50c6af16709fd2c7&quot;) } }, \n  {\n    $group: {\n      _id: &quot;$name&quot;,\n      count: { $sum: 1 },\n      sum: { $sum: { $add: [&quot;$P31&quot;, &quot;$P32&quot;] } }\n    }\n  }\n])\n</code></pre>\n<p>I do this query from Java, and I want to map it on my class, but I don't want <code>_id</code> to be mapped on <code>name</code> field. Because if I do something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@JsonProperty(&quot;_id&quot;)\nprivate String name;\n</code></pre>\n<p>then when I save this data back to mongo (after some modification) the data is saved with name as <code>_id</code> while I want a real Id to be generated.</p>\n<p>So, how can I <strong>rename</strong> <code>_id</code> after <code>$group</code> operation?</p>\n"},{"tags":["java","spring","spring-boot","gradle"],"owner":{"account_id":13507880,"reputation":151,"user_id":9745412,"display_name":"Haohan Yang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680190153,"creation_date":1680190153,"question_id":75890196,"body_markdown":"My project has two SpringBootApplications(One is client(`ClientApplication.java`) and another is server(`ServerApplication.java`). The structure is like this:\r\n```\r\njava/org.example.project/\r\n                        client/ClientApplication.java\r\n                        server/ServerApplication.java\r\nresources/application-client.properties\r\n          application-server.properties\r\n                  \r\n```\r\nI had no problem running those applications in Intellij. But when I tried to run them with command line I had problem.\r\n\r\nI tried to run server app with\r\n```\r\n./gradlew bootRun --args=&#39;--spring.profiles.active=server&#39;\r\n```\r\nbut I had error\r\n```\r\n&gt; Task :resolveMainClassName FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:resolveMainClassName&#39;.\r\n&gt; Unable to find a single main class from the following candidates\r\n```\r\nThe same problem occurred with `./gradlew bootRun --args=&#39;--spring.profiles.active=client&#39;`.\r\n\r\nHow can I run client and server seperately with gradle command line? ","title":"Run gradle in one project with multiple SpringBootApplications failed: resolveMainClassName FAILED","body":"<p>My project has two SpringBootApplications(One is client(<code>ClientApplication.java</code>) and another is server(<code>ServerApplication.java</code>). The structure is like this:</p>\n<pre><code>java/org.example.project/\n                        client/ClientApplication.java\n                        server/ServerApplication.java\nresources/application-client.properties\n          application-server.properties\n                  \n</code></pre>\n<p>I had no problem running those applications in Intellij. But when I tried to run them with command line I had problem.</p>\n<p>I tried to run server app with</p>\n<pre><code>./gradlew bootRun --args='--spring.profiles.active=server'\n</code></pre>\n<p>but I had error</p>\n<pre><code>&gt; Task :resolveMainClassName FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':resolveMainClassName'.\n&gt; Unable to find a single main class from the following candidates\n</code></pre>\n<p>The same problem occurred with <code>./gradlew bootRun --args='--spring.profiles.active=client'</code>.</p>\n<p>How can I run client and server seperately with gradle command line?</p>\n"},{"tags":["java","list","sorting","xslt"],"comments":[{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1680188792,"post_id":75889829,"comment_id":133859129,"body_markdown":"How would you define a &quot;list&quot;? And what if some items in the same list are numbers and others are strings?","body":"How would you define a &quot;list&quot;? And what if some items in the same list are numbers and others are strings?"}],"answers":[{"tags":[],"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680190033,"creation_date":1680190033,"answer_id":75890174,"question_id":75889829,"body_markdown":"Generic stylesheets are difficult to write. Try perhaps something like:\r\n\r\n**XSLT 1.0**\r\n\r\n    &lt;xsl:stylesheet version=&quot;1.0&quot; \r\n    xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n    &lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\r\n    &lt;xsl:strip-space elements=&quot;*&quot;/&gt;\r\n    \r\n    &lt;!-- identity transform --&gt;\r\n    &lt;xsl:template match=&quot;@*|node()&quot;&gt;\r\n    \t&lt;xsl:copy&gt;\r\n    \t\t&lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;\r\n    \t&lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template match=&quot;*[* and not(*/*)]&quot;&gt;\r\n    \t&lt;xsl:copy&gt;\r\n    \t\t&lt;xsl:choose&gt;\r\n    \t\t\t&lt;xsl:when test=&quot;number(*[1]) = number(*[1])&quot;&gt;\r\n    \t\t\t\t&lt;xsl:apply-templates&gt;\r\n    \t\t\t\t\t&lt;xsl:sort select=&quot;.&quot; data-type=&quot;number&quot; order=&quot;ascending&quot;/&gt;\r\n    \t\t\t\t&lt;/xsl:apply-templates&gt;\r\n    \t\t\t&lt;/xsl:when&gt;\r\n    \t\t\t&lt;xsl:otherwise&gt;\r\n    \t\t\t\t&lt;xsl:apply-templates&gt;\r\n    \t\t\t\t\t&lt;xsl:sort select=&quot;.&quot; data-type=&quot;text&quot; order=&quot;ascending&quot;/&gt;\r\n    \t\t\t\t&lt;/xsl:apply-templates&gt;\r\n    \t\t\t&lt;/xsl:otherwise&gt;\r\n    \t\t&lt;/xsl:choose&gt;\r\n    \t&lt;/xsl:copy&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nThis looks for elements with only leaf nodes as child elements. It then tests if the first child is a number; if so, the child elements are sorted numerically, otherwise as text.","title":"I need to sort Java lists or xml lists automatically","body":"<p>Generic stylesheets are difficult to write. Try perhaps something like:</p>\n<p><strong>XSLT 1.0</strong></p>\n<pre><code>&lt;xsl:stylesheet version=&quot;1.0&quot; \nxmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n&lt;xsl:output method=&quot;xml&quot; version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; indent=&quot;yes&quot;/&gt;\n&lt;xsl:strip-space elements=&quot;*&quot;/&gt;\n\n&lt;!-- identity transform --&gt;\n&lt;xsl:template match=&quot;@*|node()&quot;&gt;\n    &lt;xsl:copy&gt;\n        &lt;xsl:apply-templates select=&quot;@*|node()&quot;/&gt;\n    &lt;/xsl:copy&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template match=&quot;*[* and not(*/*)]&quot;&gt;\n    &lt;xsl:copy&gt;\n        &lt;xsl:choose&gt;\n            &lt;xsl:when test=&quot;number(*[1]) = number(*[1])&quot;&gt;\n                &lt;xsl:apply-templates&gt;\n                    &lt;xsl:sort select=&quot;.&quot; data-type=&quot;number&quot; order=&quot;ascending&quot;/&gt;\n                &lt;/xsl:apply-templates&gt;\n            &lt;/xsl:when&gt;\n            &lt;xsl:otherwise&gt;\n                &lt;xsl:apply-templates&gt;\n                    &lt;xsl:sort select=&quot;.&quot; data-type=&quot;text&quot; order=&quot;ascending&quot;/&gt;\n                &lt;/xsl:apply-templates&gt;\n            &lt;/xsl:otherwise&gt;\n        &lt;/xsl:choose&gt;\n    &lt;/xsl:copy&gt;\n&lt;/xsl:template&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>This looks for elements with only leaf nodes as child elements. It then tests if the first child is a number; if so, the child elements are sorted numerically, otherwise as text.</p>\n"}],"owner":{"account_id":10086370,"reputation":1,"user_id":7454825,"display_name":"Schlomo Dumbo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680190033,"creation_date":1680188318,"question_id":75889829,"body_markdown":"I have many xml structures with lists like\r\n\r\n```\r\n&lt;a&gt;\r\n&lt;b&gt;\r\n&lt;list1&gt;\r\n&lt;item&gt;Paris&lt;/item&gt;\r\n&lt;item&gt;London&lt;/item&gt;\r\n&lt;item&gt;Berlin&lt;/item&gt;\r\n&lt;item&gt;Zurich&lt;/item&gt;\r\n&lt;/list1&gt;\r\n&lt;/b&gt;\r\n&lt;list2&gt;\r\n&lt;item&gt;Butter&lt;/item&gt;\r\n&lt;item&gt;Sugar&lt;/item&gt;\r\n&lt;item&gt;Flower&lt;/item&gt;\r\n&lt;item&gt;Eggs&lt;/item&gt;\r\n&lt;/list2&gt;\r\n&lt;list2&gt;\r\n&lt;item&gt;0.1&lt;/item&gt;\r\n&lt;item&gt;20.0&lt;/item&gt;\r\n&lt;item&gt;10.0&lt;/item&gt;\r\n&lt;item&gt;0.01&lt;/item&gt;\r\n&lt;/list2&gt;\r\n&lt;/a&gt;\r\n```\r\n\r\nI want xslt function, that automatically sorts **every** list regardless of the name by name or by number in ascending order. I do not want to specifically mention the names of the lists. It should also not mention where the list is in the hierarchy.\r\n\r\n\r\nI did not find anything. I expect the lists to be sorted in ascending order.","title":"I need to sort Java lists or xml lists automatically","body":"<p>I have many xml structures with lists like</p>\n<pre><code>&lt;a&gt;\n&lt;b&gt;\n&lt;list1&gt;\n&lt;item&gt;Paris&lt;/item&gt;\n&lt;item&gt;London&lt;/item&gt;\n&lt;item&gt;Berlin&lt;/item&gt;\n&lt;item&gt;Zurich&lt;/item&gt;\n&lt;/list1&gt;\n&lt;/b&gt;\n&lt;list2&gt;\n&lt;item&gt;Butter&lt;/item&gt;\n&lt;item&gt;Sugar&lt;/item&gt;\n&lt;item&gt;Flower&lt;/item&gt;\n&lt;item&gt;Eggs&lt;/item&gt;\n&lt;/list2&gt;\n&lt;list2&gt;\n&lt;item&gt;0.1&lt;/item&gt;\n&lt;item&gt;20.0&lt;/item&gt;\n&lt;item&gt;10.0&lt;/item&gt;\n&lt;item&gt;0.01&lt;/item&gt;\n&lt;/list2&gt;\n&lt;/a&gt;\n</code></pre>\n<p>I want xslt function, that automatically sorts <strong>every</strong> list regardless of the name by name or by number in ascending order. I do not want to specifically mention the names of the lists. It should also not mention where the list is in the hierarchy.</p>\n<p>I did not find anything. I expect the lists to be sorted in ascending order.</p>\n"},{"tags":["java","spring","validation","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1680158425,"post_id":75883654,"comment_id":133851086,"body_markdown":"Which Spring version are you using and make sure you have `hibernate-validator` on the classpath.","body":"Which Spring version are you using and make sure you have <code>hibernate-validator</code> on the classpath."},{"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"score":0,"creation_date":1680182035,"post_id":75883654,"comment_id":133857064,"body_markdown":"Thanks @M.Deinum . I have version &#39;3.0.4&#39;. I thought maybe  hibernate-validator was missing, but I asked chatGPT about that last night:\n\n&gt; Additionally, you have added the hibernate-validator dependency, but it is commented out. This is not necessary for basic validation functionality in Spring MVC, as the spring-boot-starter-validation dependency should provide all the necessary validation functionality. If you require advanced validation features like custom validators or programmatic validation, you may need to include the hibernate-validator dependency and additional configuration.","body":"Thanks @M.Deinum . I have version &#39;3.0.4&#39;. I thought maybe  hibernate-validator was missing, but I asked chatGPT about that last night:  &gt; Additionally, you have added the hibernate-validator dependency, but it is commented out. This is not necessary for basic validation functionality in Spring MVC, as the spring-boot-starter-validation dependency should provide all the necessary validation functionality. If you require advanced validation features like custom validators or programmatic validation, you may need to include the hibernate-validator dependency and additional configuration."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1680182462,"post_id":75883654,"comment_id":133857222,"body_markdown":"You are nowhere mentioning that you are using Spring BOot (just spring). Please provide your dependencies (you are using Spring Boot 3.0.4 which uses Spring 6). So again please add your dependencies.","body":"You are nowhere mentioning that you are using Spring BOot (just spring). Please provide your dependencies (you are using Spring Boot 3.0.4 which uses Spring 6). So again please add your dependencies."}],"answers":[{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680189634,"creation_date":1680189634,"answer_id":75890096,"question_id":75883654,"body_markdown":"If you have a nested object, you need to add an `@Valid` annotation in the &quot;parent&quot; as well. Something like this should work:\r\n\r\n```\r\npublic class UserAlignmentDTO {\r\n\r\n    private UnitsEnum units;\r\n\r\n    @Builder.Default\r\n    private List&lt;@Valid UserAlignmentSourceDTO2&gt; userAlignmentSources = new ArrayList&lt;&gt;();\r\n\r\n```\r\n\r\nNotice the extra `@Valid` in the generic list declaration.","title":"Form fields are not being validated through DTO with @Valid and Thymeleaf","body":"<p>If you have a nested object, you need to add an <code>@Valid</code> annotation in the &quot;parent&quot; as well. Something like this should work:</p>\n<pre><code>public class UserAlignmentDTO {\n\n    private UnitsEnum units;\n\n    @Builder.Default\n    private List&lt;@Valid UserAlignmentSourceDTO2&gt; userAlignmentSources = new ArrayList&lt;&gt;();\n\n</code></pre>\n<p>Notice the extra <code>@Valid</code> in the generic list declaration.</p>\n"}],"owner":{"account_id":19303193,"reputation":141,"user_id":14110623,"display_name":"Nathan Lively"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75890096,"answer_count":1,"score":0,"last_activity_date":1680189634,"creation_date":1680143487,"question_id":75883654,"body_markdown":"This seems to be a very common case of form validation. I have read through many other stackoverflow questions and articles and I can&#39;t find where my problem lies.\r\n\r\n# What did I try\r\n\r\n## Gradle\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.0.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;nathanLively&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n//\timplementation &#39;org.springframework.boot:spring-boot-starter-data-redis&#39;\r\n//\timplementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;  // :3.0.5\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.thymeleaf.extras:thymeleaf-extras-springsecurity6&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\truntimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\n## DTO\r\n\r\n### UserAlignmentDTO\r\n\r\n```\r\npackage nathanLively.subAlignerjava.DTO;\r\n\r\nimport jakarta.validation.constraints.NotBlank;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\r\nimport nathanLively.subAlignerjava.Models.PreAlignment;\r\nimport nathanLively.subAlignerjava.Models.Speaker;\r\nimport nathanLively.subAlignerjava.Models.UserAlignment;\r\nimport nathanLively.subAlignerjava.Models.UserAlignmentSource;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport java.util.stream.Collectors;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class UserAlignmentDTO {\r\n\r\n    private UnitsEnum units;\r\n\r\n    @Builder.Default\r\n    private List&lt;UserAlignmentSourceDTO2&gt; userAlignmentSources = new ArrayList&lt;&gt;();\r\n\r\n    // Constructor\r\n    public UserAlignmentDTO(PreAlignment preAlignment) {\r\n        int numberOfPreAlignmentSources = preAlignment.getPreAlignmentSources().size();\r\n        this.userAlignmentSources = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; numberOfPreAlignmentSources; i++) {\r\n            UserAlignmentSourceDTO2 userAlignmentSourceDTO2 = UserAlignmentSourceDTO2.builder()\r\n                    .modelName(preAlignment.getPreAlignmentSources().get(i).getSpeaker().getSpeakerModel().getName())\r\n                    .build();\r\n            this.userAlignmentSources.add(userAlignmentSourceDTO2);\r\n        }\r\n    }\r\n\r\n    // Methods\r\n    public UserAlignment toUserAlignment(PreAlignment preAlignment) {\r\n        ArrayList&lt;UserAlignmentSource&gt; userAlignmentSourceList = userAlignmentSources.stream()\r\n                .map(UserAlignmentSourceDTO2::toUserAlignmentSource)\r\n                .collect(Collectors.toCollection(ArrayList::new));\r\n\r\n        UserAlignment userAlignment = UserAlignment.builder()\r\n                .preAlignment(preAlignment)\r\n                .userAlignmentSources(userAlignmentSourceList)\r\n                .distanceUnit(units)\r\n                .build();\r\n\r\n        for (UserAlignmentSource userAlignmentSource : userAlignmentSourceList) {\r\n            userAlignmentSource.setUserAlignment(userAlignment);\r\n        }\r\n\r\n        return userAlignment;\r\n    }\r\n}\r\n```\r\n\r\n### UserAlignmentSourceDTO2\r\n\r\n```\r\npackage nathanLively.subAlignerjava.DTO;\r\n\r\nimport jakarta.validation.constraints.Min;\r\nimport jakarta.validation.constraints.NotNull;\r\nimport jakarta.validation.constraints.Positive;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\r\nimport nathanLively.subAlignerjava.Models.PreAlignment;\r\nimport nathanLively.subAlignerjava.Models.PreAlignmentSource;\r\nimport nathanLively.subAlignerjava.Models.Speaker;\r\nimport nathanLively.subAlignerjava.Models.UserAlignmentSource;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class UserAlignmentSourceDTO2 {\r\n\r\n    private String modelName;\r\n\r\n    @Min(message = &quot;The minimum is 1.&quot;, value = 1)\r\n    @NotNull(message = &quot;The count must not be null.&quot;)\r\n    private Integer count;\r\n\r\n    @NotNull(message = &quot;The distance must not be null.&quot;)\r\n    @Positive(message = &quot;The distance should be positive.&quot;)\r\n    private Float distance;\r\n\r\n    public UserAlignmentSource toUserAlignmentSource() {\r\n\r\n        return UserAlignmentSource.builder()\r\n                .count(count)\r\n                .distance(distance)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\n## Controller\r\n\r\n```\r\npackage nathanLively.subAlignerjava.Controllers;\r\n\r\nimport jakarta.validation.Valid;\r\nimport lombok.RequiredArgsConstructor;\r\nimport nathanLively.subAlignerjava.DTO.UserAlignmentDTO;\r\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\r\nimport nathanLively.subAlignerjava.Models.PreAlignment;\r\nimport nathanLively.subAlignerjava.Models.UserAlignment;\r\nimport nathanLively.subAlignerjava.Services.*;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@Controller\r\n@RequiredArgsConstructor\r\n@RequestMapping(&quot;/align&quot;)\r\npublic class AlignController {\r\n    \r\n    private final UserAlignmentService userAlignmentService;\r\n    private final PreAlignmentService preAlignmentService;\r\n\r\n// Create UserAlignment and calculate result\r\n    @PostMapping(&quot;/calculate/{id}&quot;)\r\n    public String calculateUserAlignment(@PathVariable(&quot;id&quot;) Long preAlignmentId,\r\n                                         @Valid @ModelAttribute(&quot;userAlignmentDTO&quot;) UserAlignmentDTO userAlignmentDTO,\r\n                                         BindingResult bindingResult, Model model) {\r\n        // Form validation\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;user-alignment&quot;;\r\n        }\r\n\r\n        // Find pre-alignment\r\n        PreAlignment preAlignment = preAlignmentService.findById(preAlignmentId);\r\n\r\n        // Calculate result and add to model\r\n        UserAlignment UserAlignmentResult = userAlignmentService.calculateResultAndSave(preAlignment, userAlignmentDTO);\r\n        model.addAttribute(&quot;userAlignment&quot;, UserAlignmentResult);\r\n\r\n        // Show UserAlignment unit because I&#39;m not sure how to get it out of the userAlignment object\r\n        model.addAttribute(&quot;unit&quot;, UserAlignmentResult.getDistanceUnit().getAbbreviation());\r\n\r\n        return &quot;result&quot;;\r\n    }\r\n}\r\n```\r\n\r\n## Thymeleaf template\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\r\n      layout:decorate=&quot;~{layout/layout}&quot;\r\n      th:with=&quot;activeMenuItem=&#39;align&#39;&quot;\r\n      xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;User Alignment&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div layout:fragment=&quot;page-content&quot;&gt;\r\n    &lt;h1&gt;User-Alignment&lt;/h1&gt;\r\n    &lt;form id=&quot;source-form&quot;\r\n          th:object=&quot;${userAlignmentDTO}&quot;\r\n          th:action=&quot;@{/align/calculate/{id}(id=${preAlignment.id})}&quot;\r\n          method=&quot;post&quot;&gt;\r\n        &lt;th:block th:each=&quot;source,iter : *{userAlignmentSources}&quot;&gt;\r\n            &lt;label th:text=&quot;${iter.index + 1} + &#39;.&#39;&quot;&gt;&lt;/label&gt;\r\n            &lt;label&gt;Total [[${source.modelName}]] in array:&lt;/label&gt;\r\n            &lt;input type=&quot;number&quot;\r\n                   th:field=&quot;*{userAlignmentSources[__${iter.index}__].count}&quot;&gt;\r\n            &lt;p th:if=&quot;${#fields.hasErrors(&#39;userAlignmentSources[__${iter.index}__].count&#39;)}&quot;\r\n               th:text=&quot;${#strings.listJoin(#fields.errors(&#39;userAlignmentSources[__${iter.index}__].count&#39;), &#39;, &#39;)}&quot;&gt;&lt;/p&gt;\r\n            &lt;label&gt;Distance from [[${source.modelName}]] to FOH:&lt;/label&gt;\r\n            &lt;input type=&quot;number&quot;\r\n                   th:field=&quot;*{userAlignmentSources[__${iter.index}__].distance}&quot;&gt;\r\n            &lt;p th:if=&quot;${#fields.hasErrors(&#39;userAlignmentSources[__${iter.index}__].distance&#39;)}&quot;\r\n               th:text=&quot;${#strings.listJoin(#fields.errors(&#39;userAlignmentSources[__${iter.index}__].distance&#39;), &#39;, &#39;)}&quot;&gt;&lt;/p&gt;\r\n        &lt;/th:block&gt;\r\n        &lt;label&gt;Unit&lt;/label&gt;\r\n        &lt;select th:field=&quot;*{units}&quot;&gt;\r\n            &lt;option th:each=&quot;unit : ${units}&quot;\r\n                    th:text=&quot;${unit.fullName}&quot;\r\n                    th:value=&quot;${unit}&quot;&gt;meters\r\n            &lt;/option&gt;\r\n        &lt;/select&gt;\r\n        &lt;button type=&quot;submit&quot;&gt;Align&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n# What I was expecting\r\n\r\nWith any of the specified field errors, I expect the bindingResult to have more than zero errors and for the form to be reloaded with the error messages visible. This never happens. The bindingResult is always empty and the application attempts to persist the form data, which crashes because of the database validation.\r\n\r\n","title":"Form fields are not being validated through DTO with @Valid and Thymeleaf","body":"<p>This seems to be a very common case of form validation. I have read through many other stackoverflow questions and articles and I can't find where my problem lies.</p>\n<h1>What did I try</h1>\n<h2>Gradle</h2>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.4'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'nathanLively'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n//  implementation 'org.springframework.boot:spring-boot-starter-data-redis'\n//  implementation 'org.springframework.boot:spring-boot-starter-oauth2-client'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'  // :3.0.5\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.thymeleaf.extras:thymeleaf-extras-springsecurity6'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<h2>DTO</h2>\n<h3>UserAlignmentDTO</h3>\n<pre><code>package nathanLively.subAlignerjava.DTO;\n\nimport jakarta.validation.constraints.NotBlank;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\nimport nathanLively.subAlignerjava.Models.PreAlignment;\nimport nathanLively.subAlignerjava.Models.Speaker;\nimport nathanLively.subAlignerjava.Models.UserAlignment;\nimport nathanLively.subAlignerjava.Models.UserAlignmentSource;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class UserAlignmentDTO {\n\n    private UnitsEnum units;\n\n    @Builder.Default\n    private List&lt;UserAlignmentSourceDTO2&gt; userAlignmentSources = new ArrayList&lt;&gt;();\n\n    // Constructor\n    public UserAlignmentDTO(PreAlignment preAlignment) {\n        int numberOfPreAlignmentSources = preAlignment.getPreAlignmentSources().size();\n        this.userAlignmentSources = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; numberOfPreAlignmentSources; i++) {\n            UserAlignmentSourceDTO2 userAlignmentSourceDTO2 = UserAlignmentSourceDTO2.builder()\n                    .modelName(preAlignment.getPreAlignmentSources().get(i).getSpeaker().getSpeakerModel().getName())\n                    .build();\n            this.userAlignmentSources.add(userAlignmentSourceDTO2);\n        }\n    }\n\n    // Methods\n    public UserAlignment toUserAlignment(PreAlignment preAlignment) {\n        ArrayList&lt;UserAlignmentSource&gt; userAlignmentSourceList = userAlignmentSources.stream()\n                .map(UserAlignmentSourceDTO2::toUserAlignmentSource)\n                .collect(Collectors.toCollection(ArrayList::new));\n\n        UserAlignment userAlignment = UserAlignment.builder()\n                .preAlignment(preAlignment)\n                .userAlignmentSources(userAlignmentSourceList)\n                .distanceUnit(units)\n                .build();\n\n        for (UserAlignmentSource userAlignmentSource : userAlignmentSourceList) {\n            userAlignmentSource.setUserAlignment(userAlignment);\n        }\n\n        return userAlignment;\n    }\n}\n</code></pre>\n<h3>UserAlignmentSourceDTO2</h3>\n<pre><code>package nathanLively.subAlignerjava.DTO;\n\nimport jakarta.validation.constraints.Min;\nimport jakarta.validation.constraints.NotNull;\nimport jakarta.validation.constraints.Positive;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\nimport nathanLively.subAlignerjava.Models.PreAlignment;\nimport nathanLively.subAlignerjava.Models.PreAlignmentSource;\nimport nathanLively.subAlignerjava.Models.Speaker;\nimport nathanLively.subAlignerjava.Models.UserAlignmentSource;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class UserAlignmentSourceDTO2 {\n\n    private String modelName;\n\n    @Min(message = &quot;The minimum is 1.&quot;, value = 1)\n    @NotNull(message = &quot;The count must not be null.&quot;)\n    private Integer count;\n\n    @NotNull(message = &quot;The distance must not be null.&quot;)\n    @Positive(message = &quot;The distance should be positive.&quot;)\n    private Float distance;\n\n    public UserAlignmentSource toUserAlignmentSource() {\n\n        return UserAlignmentSource.builder()\n                .count(count)\n                .distance(distance)\n                .build();\n    }\n}\n</code></pre>\n<h2>Controller</h2>\n<pre><code>package nathanLively.subAlignerjava.Controllers;\n\nimport jakarta.validation.Valid;\nimport lombok.RequiredArgsConstructor;\nimport nathanLively.subAlignerjava.DTO.UserAlignmentDTO;\nimport nathanLively.subAlignerjava.Models.Enums.UnitsEnum;\nimport nathanLively.subAlignerjava.Models.PreAlignment;\nimport nathanLively.subAlignerjava.Models.UserAlignment;\nimport nathanLively.subAlignerjava.Services.*;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@Controller\n@RequiredArgsConstructor\n@RequestMapping(&quot;/align&quot;)\npublic class AlignController {\n    \n    private final UserAlignmentService userAlignmentService;\n    private final PreAlignmentService preAlignmentService;\n\n// Create UserAlignment and calculate result\n    @PostMapping(&quot;/calculate/{id}&quot;)\n    public String calculateUserAlignment(@PathVariable(&quot;id&quot;) Long preAlignmentId,\n                                         @Valid @ModelAttribute(&quot;userAlignmentDTO&quot;) UserAlignmentDTO userAlignmentDTO,\n                                         BindingResult bindingResult, Model model) {\n        // Form validation\n        if (bindingResult.hasErrors()) {\n            return &quot;user-alignment&quot;;\n        }\n\n        // Find pre-alignment\n        PreAlignment preAlignment = preAlignmentService.findById(preAlignmentId);\n\n        // Calculate result and add to model\n        UserAlignment UserAlignmentResult = userAlignmentService.calculateResultAndSave(preAlignment, userAlignmentDTO);\n        model.addAttribute(&quot;userAlignment&quot;, UserAlignmentResult);\n\n        // Show UserAlignment unit because I'm not sure how to get it out of the userAlignment object\n        model.addAttribute(&quot;unit&quot;, UserAlignmentResult.getDistanceUnit().getAbbreviation());\n\n        return &quot;result&quot;;\n    }\n}\n</code></pre>\n<h2>Thymeleaf template</h2>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;\n      layout:decorate=&quot;~{layout/layout}&quot;\n      th:with=&quot;activeMenuItem='align'&quot;\n      xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;User Alignment&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div layout:fragment=&quot;page-content&quot;&gt;\n    &lt;h1&gt;User-Alignment&lt;/h1&gt;\n    &lt;form id=&quot;source-form&quot;\n          th:object=&quot;${userAlignmentDTO}&quot;\n          th:action=&quot;@{/align/calculate/{id}(id=${preAlignment.id})}&quot;\n          method=&quot;post&quot;&gt;\n        &lt;th:block th:each=&quot;source,iter : *{userAlignmentSources}&quot;&gt;\n            &lt;label th:text=&quot;${iter.index + 1} + '.'&quot;&gt;&lt;/label&gt;\n            &lt;label&gt;Total [[${source.modelName}]] in array:&lt;/label&gt;\n            &lt;input type=&quot;number&quot;\n                   th:field=&quot;*{userAlignmentSources[__${iter.index}__].count}&quot;&gt;\n            &lt;p th:if=&quot;${#fields.hasErrors('userAlignmentSources[__${iter.index}__].count')}&quot;\n               th:text=&quot;${#strings.listJoin(#fields.errors('userAlignmentSources[__${iter.index}__].count'), ', ')}&quot;&gt;&lt;/p&gt;\n            &lt;label&gt;Distance from [[${source.modelName}]] to FOH:&lt;/label&gt;\n            &lt;input type=&quot;number&quot;\n                   th:field=&quot;*{userAlignmentSources[__${iter.index}__].distance}&quot;&gt;\n            &lt;p th:if=&quot;${#fields.hasErrors('userAlignmentSources[__${iter.index}__].distance')}&quot;\n               th:text=&quot;${#strings.listJoin(#fields.errors('userAlignmentSources[__${iter.index}__].distance'), ', ')}&quot;&gt;&lt;/p&gt;\n        &lt;/th:block&gt;\n        &lt;label&gt;Unit&lt;/label&gt;\n        &lt;select th:field=&quot;*{units}&quot;&gt;\n            &lt;option th:each=&quot;unit : ${units}&quot;\n                    th:text=&quot;${unit.fullName}&quot;\n                    th:value=&quot;${unit}&quot;&gt;meters\n            &lt;/option&gt;\n        &lt;/select&gt;\n        &lt;button type=&quot;submit&quot;&gt;Align&lt;/button&gt;\n    &lt;/form&gt;\n\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<h1>What I was expecting</h1>\n<p>With any of the specified field errors, I expect the bindingResult to have more than zero errors and for the form to be reloaded with the error messages visible. This never happens. The bindingResult is always empty and the application attempts to persist the form data, which crashes because of the database validation.</p>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":3,"creation_date":1680185601,"post_id":75889321,"comment_id":133858204,"body_markdown":"Welcome to StackOverflow! Can you please show us how it looked when you added the Laptop import that didn&#39;t work? It&#39;d be best if you edited it into the question.","body":"Welcome to StackOverflow! Can you please show us how it looked when you added the Laptop import that didn&#39;t work? It&#39;d be best if you edited it into the question."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1680185693,"post_id":75889321,"comment_id":133858226,"body_markdown":"you sure must `import com.mycompany.laptop.Laptop;`, `import com.mycompany.laptop.*;`, or use `com.mycompany.laptop.Laptop a = new com.mycompany.laptop.Laptop();`","body":"you sure must <code>import com.mycompany.laptop.Laptop;</code>, <code>import com.mycompany.laptop.*;</code>, or use <code>com.mycompany.laptop.Laptop a = new com.mycompany.laptop.Laptop();</code>"},{"owner":{"account_id":22795271,"reputation":1,"user_id":16948934,"display_name":"Markie the newbie programmer"},"score":0,"creation_date":1680186473,"post_id":75889321,"comment_id":133858458,"body_markdown":"i have tried all three but it only had this error that highlighted the &quot;com&quot; word. `package com.mycompany,laptop does not exist`","body":"i have tried all three but it only had this error that highlighted the &quot;com&quot; word. <code>package com.mycompany,laptop does not exist</code>"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1680187061,"post_id":75889321,"comment_id":133858643,"body_markdown":"In which folders are the two classes? How are you compiling? Java or IDE","body":"In which folders are the two classes? How are you compiling? Java or IDE"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1680187745,"post_id":75889321,"comment_id":133858849,"body_markdown":"[mcve] please .. that is edit the the question and actually add the imports to the code you are showing (vs. stating what you did in a comment)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. that is edit the the question and actually add the imports to the code you are showing (vs. stating what you did in a comment)"},{"owner":{"account_id":22795271,"reputation":1,"user_id":16948934,"display_name":"Markie the newbie programmer"},"score":0,"creation_date":1680188515,"post_id":75889321,"comment_id":133859043,"body_markdown":"i have edited it already","body":"i have edited it already"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1680208204,"post_id":75889321,"comment_id":133863948,"body_markdown":"For the [mcve], also tell us in which folders the .java files are. These must match the `package` declarations, and the compiler needs to know where to look for them.","body":"For the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, also tell us in which folders the .java files are. These must match the <code>package</code> declarations, and the compiler needs to know where to look for them."}],"answers":[{"tags":[],"owner":{"account_id":28169914,"reputation":1,"user_id":21528629,"display_name":"Sanjeet Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680189368,"creation_date":1680189368,"answer_id":75890030,"question_id":75889321,"body_markdown":"First of all make all field public then try ...\r\n\r\n\r\npackage com.mycompany.laptop;\r\n\r\n   public class Laptop {\r\n\r\n\tpublic String brand, \r\n    public String color;\r\n\tpublic double size;\r\n\r\n\tpublic void type() {\r\n\t\tSystem.out.println(&quot;Brand: &quot; + brand);\r\n\t\tSystem.out.println(&quot;Color: &quot; + color);\r\n\t\tSystem.out.println(&quot;Size: &quot; + size);\r\n\t}\r\n\r\n\tpublic void print() {\r\n\t\tSystem.out.println(&quot;My Laptop&quot;);\r\n\t}\r\n}\r\n\r\n\r\n","title":"How do i resolve this error that says &quot;cannot find symbol&quot; in my code that wants to output an inheritance?","body":"<p>First of all make all field public then try ...</p>\n<p>package com.mycompany.laptop;</p>\n<p>public class Laptop {</p>\n<pre><code>public String brand, \npublic String color;\npublic double size;\n\npublic void type() {\n    System.out.println(&quot;Brand: &quot; + brand);\n    System.out.println(&quot;Color: &quot; + color);\n    System.out.println(&quot;Size: &quot; + size);\n}\n\npublic void print() {\n    System.out.println(&quot;My Laptop&quot;);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":22795271,"reputation":1,"user_id":16948934,"display_name":"Markie the newbie programmer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680258292,"answer_count":1,"score":0,"last_activity_date":1680189621,"creation_date":1680185449,"question_id":75889321,"body_markdown":"i was doing this code to practice inheritance. i have declared a class &quot;Laptop&quot; and tried to call it in my main code, the thing is that the main code cannot seem to read it even though the spelling was right.\r\n[Class Laptop Code](https://i.stack.imgur.com/9ZDug.png)\r\n[Main Class Code](https://i.stack.imgur.com/0GyhR.png)\r\n\r\ni tried importing the class Laptop unto my Main but it didn&#39;t work\r\n\r\nhere is the code of the class &quot;Laptop&quot;\r\n\r\n\r\n    package com.mycompany.laptop;\r\n    \r\n    /**\r\n     *\r\n     * \r\n     */\r\n    public class Laptop {\r\n        String brand, color;\r\n        double size;\r\n    \r\n        void type() {\r\n            System.out.println(&quot;Brand: &quot; + brand);\r\n            System.out.println(&quot;Color: &quot; + color);\r\n            System.out.println(&quot;Size: &quot; + size );\r\n        }\r\n        \r\n        void print(){\r\n            System.out.println(&quot;My Laptop&quot;);\r\n        }\r\n    }\r\n\r\nHere is the code for the &quot;Main&quot; that tries to call the &quot;Laptop&quot; class\r\n\r\n    package com.mycompany.main;\r\n    \r\n    /**\r\n     *\r\n     * \r\n     */\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Laptop a = new Laptop();\r\n            \r\n            \r\n            System.out.println(&quot;-Inheritance-&quot;);\r\n            a.brand = &quot;HP&quot;;\r\n            a.color = &quot;Black&quot;;\r\n            a.size = 15.7;\r\n            \r\n            a.print();\r\n            a.type();\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n\r\nthe error was in the main that tries to call the Laptop class which is Laptop a = new Laptop();\r\n\r\nwhen i hover the Laptop name it says this error,\r\n\r\n    &quot;cannot find symbol\r\n    \r\n    symbol: class Laptop\r\n    \r\n    location: class Main&quot;\r\n\r\nedit: i have tried to import using the suggested comments below but the ide says that the package does not exist, here is the code\r\n\r\n    package com.mycompany.main;\r\n    \r\n    /**\r\n     *\r\n     * \r\n     */\r\n    \r\n    import com.mycompany.laptop.Laptop;\r\n    \r\n    import com.mycompany.laptop.*;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Laptop a = new Laptop();\r\n            com.mycompany.laptop.Laptop a = new com.mycompany.laptop.Laptop();\r\n            \r\n            System.out.println(&quot;-Inheritance-&quot;);\r\n            a.brand = &quot;HP&quot;;\r\n            a.color = &quot;Black&quot;;\r\n            a.size = 15.7;\r\n            \r\n            a.print();\r\n            a.type();\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n","title":"How do i resolve this error that says &quot;cannot find symbol&quot; in my code that wants to output an inheritance?","body":"<p>i was doing this code to practice inheritance. i have declared a class &quot;Laptop&quot; and tried to call it in my main code, the thing is that the main code cannot seem to read it even though the spelling was right.\n<a href=\"https://i.stack.imgur.com/9ZDug.png\" rel=\"nofollow noreferrer\">Class Laptop Code</a>\n<a href=\"https://i.stack.imgur.com/0GyhR.png\" rel=\"nofollow noreferrer\">Main Class Code</a></p>\n<p>i tried importing the class Laptop unto my Main but it didn't work</p>\n<p>here is the code of the class &quot;Laptop&quot;</p>\n<pre><code>package com.mycompany.laptop;\n\n/**\n *\n * \n */\npublic class Laptop {\n    String brand, color;\n    double size;\n\n    void type() {\n        System.out.println(&quot;Brand: &quot; + brand);\n        System.out.println(&quot;Color: &quot; + color);\n        System.out.println(&quot;Size: &quot; + size );\n    }\n    \n    void print(){\n        System.out.println(&quot;My Laptop&quot;);\n    }\n}\n</code></pre>\n<p>Here is the code for the &quot;Main&quot; that tries to call the &quot;Laptop&quot; class</p>\n<pre><code>package com.mycompany.main;\n\n/**\n *\n * \n */\npublic class Main {\n\n    public static void main(String[] args) {\n        Laptop a = new Laptop();\n        \n        \n        System.out.println(&quot;-Inheritance-&quot;);\n        a.brand = &quot;HP&quot;;\n        a.color = &quot;Black&quot;;\n        a.size = 15.7;\n        \n        a.print();\n        a.type();\n        System.out.println();\n    }\n}\n</code></pre>\n<p>the error was in the main that tries to call the Laptop class which is Laptop a = new Laptop();</p>\n<p>when i hover the Laptop name it says this error,</p>\n<pre><code>&quot;cannot find symbol\n\nsymbol: class Laptop\n\nlocation: class Main&quot;\n</code></pre>\n<p>edit: i have tried to import using the suggested comments below but the ide says that the package does not exist, here is the code</p>\n<pre><code>package com.mycompany.main;\n\n/**\n *\n * \n */\n\nimport com.mycompany.laptop.Laptop;\n\nimport com.mycompany.laptop.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Laptop a = new Laptop();\n        com.mycompany.laptop.Laptop a = new com.mycompany.laptop.Laptop();\n        \n        System.out.println(&quot;-Inheritance-&quot;);\n        a.brand = &quot;HP&quot;;\n        a.color = &quot;Black&quot;;\n        a.size = 15.7;\n        \n        a.print();\n        a.type();\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","tomcat"],"owner":{"account_id":19127947,"reputation":31,"user_id":13970526,"display_name":"nihilist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680189485,"creation_date":1680189485,"question_id":75890060,"body_markdown":"Historically, we had several Linux environments running apps on tomcat 9.0.22 as root user.\r\nFor security reason I want to switch to a less privileged user created for that purpose.\r\nI changed the tomcat.service adding :\r\n```\r\nUser=etemptation\r\nGroup=etemptation\r\n```\r\nAnd the ownership of the tomcat directory using : \r\n```\r\nchown -R etemptation:etemptation /appli/tomcat\r\n```\r\nIt worked for PROD and n&#176;1 INT environnement but oddly, I can&#39;t make it works for the second INT environnement.\r\nVisually, I get en loging error page saying &quot;An error occured&quot; and in the tomcat access_log I see 1 error 500 the several 404 error :\r\n```\r\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /webquartz/ HTTP/1.1&quot; 500 398\r\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /js/dream.js HTTP/1.1&quot; 404 1011\r\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /css/auth.css HTTP/1.1&quot; 404 1012\r\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /css/styleeTempora.css HTTP/1.1&quot; 404 1021\r\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /css/auth.css HTTP/1.1&quot; 404 1012\r\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /favicon.ico HTTP/1.1&quot; 200 21630\r\n```\r\n\r\nThe catalina log does not show any error, just like the application log (webquartz). I compared the two INT environnement to no avail.\r\n\r\nWhat can be the cause of this behaviour and how to solve it ?\r\n\r\nMany thanks.","title":"change running user for tomcat - error 500","body":"<p>Historically, we had several Linux environments running apps on tomcat 9.0.22 as root user.\nFor security reason I want to switch to a less privileged user created for that purpose.\nI changed the tomcat.service adding :</p>\n<pre><code>User=etemptation\nGroup=etemptation\n</code></pre>\n<p>And the ownership of the tomcat directory using :</p>\n<pre><code>chown -R etemptation:etemptation /appli/tomcat\n</code></pre>\n<p>It worked for PROD and n°1 INT environnement but oddly, I can't make it works for the second INT environnement.\nVisually, I get en loging error page saying &quot;An error occured&quot; and in the tomcat access_log I see 1 error 500 the several 404 error :</p>\n<pre><code>172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /webquartz/ HTTP/1.1&quot; 500 398\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /js/dream.js HTTP/1.1&quot; 404 1011\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /css/auth.css HTTP/1.1&quot; 404 1012\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /css/styleeTempora.css HTTP/1.1&quot; 404 1021\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /css/auth.css HTTP/1.1&quot; 404 1012\n172.20.45.88 - - [30/Mar/2023:17:07:39 +0200] &quot;GET /favicon.ico HTTP/1.1&quot; 200 21630\n</code></pre>\n<p>The catalina log does not show any error, just like the application log (webquartz). I compared the two INT environnement to no avail.</p>\n<p>What can be the cause of this behaviour and how to solve it ?</p>\n<p>Many thanks.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"score":0,"creation_date":1680190039,"post_id":75889999,"comment_id":133859485,"body_markdown":"can you try adding &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt; permission as well to your AndroidManifest.xml file?","body":"can you try adding &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt; permission as well to your AndroidManifest.xml file?"},{"owner":{"account_id":27810618,"reputation":36,"user_id":21233086,"display_name":"LuciferRules"},"score":0,"creation_date":1680190845,"post_id":75889999,"comment_id":133859757,"body_markdown":"mind to teach me what is this function? I just deleted emulator and redownload it. the app is working fine now, I am really confused where went wrong.","body":"mind to teach me what is this function? I just deleted emulator and redownload it. the app is working fine now, I am really confused where went wrong."},{"owner":{"account_id":27810618,"reputation":36,"user_id":21233086,"display_name":"LuciferRules"},"score":0,"creation_date":1680191114,"post_id":75889999,"comment_id":133859823,"body_markdown":"@inkredusk please teach me something. Why the old version of android studio, there is something called allprojects{ repositories {}} inside build.gradle, but in my version of android studio those things are there.And once i added them, it output errors on my Run output terminal.","body":"@inkredusk please teach me something. Why the old version of android studio, there is something called allprojects{ repositories {}} inside build.gradle, but in my version of android studio those things are there.And once i added them, it output errors on my Run output terminal."}],"owner":{"account_id":27810618,"reputation":36,"user_id":21233086,"display_name":"LuciferRules"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680189224,"creation_date":1680189224,"question_id":75889999,"body_markdown":"I went though all the post from 2019-2021 regarding Using Glide to load image from url. But none of them working for me.\r\n\r\nI made sure the following:\r\n1. The JPG URL can be accessed using emulator browser.\r\n2. Internet permission added to AndroidManifest.xml\r\n3. Glider dependency added\r\n4. placeholder image can be displayed if URL didn&#39;t fetch the image successfully\r\n\r\nI put my config and part of codes here in case something were missed out. Some sample of Logcat messages taken. (It is way too much to paste all). Even with Logcat,i cannot understand what went wrong, I am too new on this.\r\n\r\n**AndroidManifest.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Ui_basics_lesson17&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;\r\n\r\n**build.gradle**\r\n\r\n    plugins {\r\n    id &#39;com.android.application&#39;\r\n    }\r\n\r\n    android {\r\n    namespace &#39;com.example.ui_basics_lesson17&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.ui_basics_lesson17&quot;\r\n        minSdk 19\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;),\r\n            &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.3.0&#39; //added\r\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot; //added\r\n    implementation &#39;com.github.bumptech.glide:glide:4.15.1&#39; //added\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.15.1&#39; //added\r\n    }\r\n\r\n**ViewAdapter.java**\r\n\r\n    \r\n       @Override \r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position ) {\r\n         holder.txtName.setText(contacts.get(position).getName());\r\n         holder.txtEmail.setText(contacts.get(position).getEmail());\r\n       \r\n       Glide.with(contextFromMainActivity)\r\n       .load(contacts.get(position)\r\n       .getImageUrl()).apply(options)\r\n       .into(holder.image);\r\n\r\n         //Use Glide (github library) to load image to holder\r\n        Glide.with(contextFromMainActivity).asBitmap().load(contacts.get(position).getImageUrl())\r\n                .placeholder(R.mipmap.ic_failsafe_image1)\r\n                .into(holder.image);\r\n\r\n        //set on listener here\r\n        holder.parent.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(contextFromMainActivity, contacts.get(position)\r\n                .getName() + &quot; Selected!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        }\r\n\r\n**MainActivity.java**\r\n\r\n    package com.example.ui_basics_lesson17;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.recyclerview.widget.GridLayoutManager;\r\n    import androidx.recyclerview.widget.LinearLayoutManager;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n\r\n    import android.os.Bundle;\r\n\r\n    import java.util.ArrayList;\r\n\r\n    /*RECYCLE VIEW*/\r\n    public class MainActivity extends AppCompatActivity {\r\n    //declare RecyclerView attribute\r\n    private RecyclerView contactsRecView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        //RecycleView selector\r\n        contactsRecView = findViewById(R.id.contactsRecView);\r\n\r\n        //Mock contacts instance ArrayList as database\r\n        ArrayList&lt;Contact&gt; mockContacts = new ArrayList&lt;&gt;();\r\n        mockContacts.add(new Contact(&quot;Elon Musk&quot;,&quot;elonmusk@gmail.com&quot;,&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Elon_Musk_Royal_Society_%28crop2%29.jpg/220px-Elon_Musk_Royal_Society_%28crop2%29.jpg&quot;));\r\n        mockContacts.add(new Contact(&quot;Jack Ma&quot;,&quot;jackma@gmail.com&quot;,&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Enabling_eCommerce-_Small_Enterprises%2C_Global_Players_%2839008130265%29_%28cropped%29.jpg/220px-Enabling_eCommerce-_Small_Enterprises%2C_Global_Players_%2839008130265%29_%28cropped%29.jpg&quot;));\r\n        mockContacts.add(new Contact(&quot;Mark Zuckerberg&quot;,&quot;zuckerberg@gmail.com&quot;,&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Mark_Zuckerberg_F8_2019_Keynote_%2832830578717%29_%28cropped%29.jpg/220px-Mark_Zuckerberg_F8_2019_Keynote_%2832830578717%29_%28cropped%29.jpg&quot;));\r\n        mockContacts.add(new Contact(&quot;Barack Obama&quot;,&quot;obamabarack@gmail.com&quot;,&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/President_Barack_Obama.jpg/220px-President_Barack_Obama.jpg&quot;));\r\n        mockContacts.add(new Contact(&quot;Sumire Uesaka&quot;,&quot;sumipe@gmail.com&quot;,&quot;https://cdn.myanimelist.net/images/voiceactors/1/65562.jpg&quot;));\r\n\r\n        //Use adapter class that was created to adapter instance\r\n        ContactsRecViewAdapter adapter =new ContactsRecViewAdapter(this);\r\n        //set mockContacts to adapter\r\n        adapter.setContacts(mockContacts);\r\n\r\n        //set adapter to recycle view\r\n        contactsRecView.setAdapter(adapter);\r\n\r\n        //configure Recycle view to be vertical list\r\n          contactsRecView.setLayoutManager(new GridLayoutManager(this,2));\r\n          }\r\n        }\r\n\r\n**LogCat**\r\n\r\n        W/Glide: Load failed for [https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Mark_Zuckerberg_F8_2019_Keynote_%2832830578717%29_%28cropped%29.jpg/220px-Mark_Zuckerberg_F8_2019_Keynote_%2832830578717%29_%28cropped%29.jpg] with dimensions [525x525]\r\n    class com.bumptech.glide.load.engine.GlideException: Failed to load resource\r\n    There was 1 root cause:\r\n    com.bumptech.glide.load.HttpException(Failed to connect or obtain data, status code: -1)\r\n     call GlideException#logRootCauses(String) for more detail\r\n      Cause (1 of 1): class com.bumptech.glide.load.engine.GlideException: Fetching data failed, class java.io.InputStream, REMOTE\r\n    There was 1 root cause:\r\n    com.bumptech.glide.load.HttpException(Failed to connect or obtain data, status code: -1)\r\n     call GlideException#logRootCauses(String) for more detail\r\n        Cause (1 of 1): class com.bumptech.glide.load.engine.GlideException: Fetch failed\r\n    There was 1 root cause:\r\n    com.bumptech.glide.load.HttpException(Failed to connect or obtain data, status code: -1)\r\n     call GlideException#logRootCauses(String) for more detail\r\n          Cause (1 of 1): class com.bumptech.glide.load.HttpException: Failed to connect or obtain data, status code: -1\r\n    I/Glide: Root cause (1 of 1)\r\n    com.bumptech.glide.load.HttpException: Failed to connect or obtain data, status code: -1\r\n        at com.bumptech.glide.load.data.HttpUrlFetcher.loadDataWithRedirects(HttpUrlFetcher.java:98)\r\n        at com.bumptech.glide.load.data.HttpUrlFetcher.loadData(HttpUrlFetcher.java:58)\r\n        at com.bumptech.glide.load.model.MultiModelLoader$MultiFetcher.loadData(MultiModelLoader.java:100)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:95)\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:88)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:311)\r\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:280)\r\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:235)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:424)\r\n        at java.lang.Thread.run(Thread.java:919)\r\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultPriorityThreadFactory$1.run(GlideExecutor.java:383)\r\n     Caused by: java.net.SocketException: socket failed: EPERM (Operation not permitted)\r\n        at java.net.Socket.createImpl(Socket.java:492)\r\n        at java.net.Socket.getImpl(Socket.java:552)\r\n        at java.net.Socket.setSoTimeout(Socket.java:1180)\r\n        at com.android.okhttp.internal.io.RealConnection.connectSocket(RealConnection.java:143)\r\n        at com.android.okhttp.internal.io.RealConnection.connect(RealConnection.java:116)\r\n        at com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:186)\r\n        at com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\r\n        at com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\r\n        at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\r\n        at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\r\n        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\r\n        at com.android.okhttp.internal.huc.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:131)\r\n        at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.connect(DelegatingHttpsURLConnection.java:90)\r\n        at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:30)\r\n        at com.bumptech.glide.load.data.HttpUrlFetcher.loadDataWithRedirects(HttpUrlFetcher.java:93)\r\n        at com.bumptech.glide.load.data.HttpUrlFetcher.loadData(HttpUrlFetcher.java:58)&#160;\r\n        at com.bumptech.glide.load.model.MultiModelLoader$MultiFetcher.loadData(MultiModelLoader.java:100)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:95)&#160;\r\n        at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:88)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:311)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:280)&#160;\r\n        at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:235)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:424)&#160;\r\n        at java.lang.Thread.run(Thread.java:919)&#160;\r\n        at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultPriorityThreadFactory$1.run(GlideExecutor.java:383)&#160;\r\n","title":"Android app ImageView , not able to load jpg image from internet using Glide","body":"<p>I went though all the post from 2019-2021 regarding Using Glide to load image from url. But none of them working for me.</p>\n<p>I made sure the following:</p>\n<ol>\n<li>The JPG URL can be accessed using emulator browser.</li>\n<li>Internet permission added to AndroidManifest.xml</li>\n<li>Glider dependency added</li>\n<li>placeholder image can be displayed if URL didn't fetch the image successfully</li>\n</ol>\n<p>I put my config and part of codes here in case something were missed out. Some sample of Logcat messages taken. (It is way too much to paste all). Even with Logcat,i cannot understand what went wrong, I am too new on this.</p>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.Ui_basics_lesson17&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\nid 'com.android.application'\n}\n\nandroid {\nnamespace 'com.example.ui_basics_lesson17'\ncompileSdk 33\n\ndefaultConfig {\n    applicationId &quot;com.example.ui_basics_lesson17&quot;\n    minSdk 19\n    targetSdk 33\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'),\n        'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n}\n\ndependencies {\n\nimplementation 'androidx.appcompat:appcompat:1.6.1'\nimplementation 'com.google.android.material:material:1.8.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.5'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\nimplementation 'androidx.recyclerview:recyclerview:1.3.0' //added\nimplementation &quot;androidx.cardview:cardview:1.0.0&quot; //added\nimplementation 'com.github.bumptech.glide:glide:4.15.1' //added\nannotationProcessor 'com.github.bumptech.glide:compiler:4.15.1' //added\n}\n</code></pre>\n<p><strong>ViewAdapter.java</strong></p>\n<pre><code>   @Override \npublic void onBindViewHolder(@NonNull ViewHolder holder, int position ) {\n     holder.txtName.setText(contacts.get(position).getName());\n     holder.txtEmail.setText(contacts.get(position).getEmail());\n   \n   Glide.with(contextFromMainActivity)\n   .load(contacts.get(position)\n   .getImageUrl()).apply(options)\n   .into(holder.image);\n\n     //Use Glide (github library) to load image to holder\n    Glide.with(contextFromMainActivity).asBitmap().load(contacts.get(position).getImageUrl())\n            .placeholder(R.mipmap.ic_failsafe_image1)\n            .into(holder.image);\n\n    //set on listener here\n    holder.parent.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Toast.makeText(contextFromMainActivity, contacts.get(position)\n            .getName() + &quot; Selected!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n    }\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>package com.example.ui_basics_lesson17;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.GridLayoutManager;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\n\nimport java.util.ArrayList;\n\n/*RECYCLE VIEW*/\npublic class MainActivity extends AppCompatActivity {\n//declare RecyclerView attribute\nprivate RecyclerView contactsRecView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    //RecycleView selector\n    contactsRecView = findViewById(R.id.contactsRecView);\n\n    //Mock contacts instance ArrayList as database\n    ArrayList&lt;Contact&gt; mockContacts = new ArrayList&lt;&gt;();\n    mockContacts.add(new Contact(&quot;Elon Musk&quot;,&quot;elonmusk@gmail.com&quot;,&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Elon_Musk_Royal_Society_%28crop2%29.jpg/220px-Elon_Musk_Royal_Society_%28crop2%29.jpg&quot;));\n    mockContacts.add(new Contact(&quot;Jack Ma&quot;,&quot;jackma@gmail.com&quot;,&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Enabling_eCommerce-_Small_Enterprises%2C_Global_Players_%2839008130265%29_%28cropped%29.jpg/220px-Enabling_eCommerce-_Small_Enterprises%2C_Global_Players_%2839008130265%29_%28cropped%29.jpg&quot;));\n    mockContacts.add(new Contact(&quot;Mark Zuckerberg&quot;,&quot;zuckerberg@gmail.com&quot;,&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Mark_Zuckerberg_F8_2019_Keynote_%2832830578717%29_%28cropped%29.jpg/220px-Mark_Zuckerberg_F8_2019_Keynote_%2832830578717%29_%28cropped%29.jpg&quot;));\n    mockContacts.add(new Contact(&quot;Barack Obama&quot;,&quot;obamabarack@gmail.com&quot;,&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/President_Barack_Obama.jpg/220px-President_Barack_Obama.jpg&quot;));\n    mockContacts.add(new Contact(&quot;Sumire Uesaka&quot;,&quot;sumipe@gmail.com&quot;,&quot;https://cdn.myanimelist.net/images/voiceactors/1/65562.jpg&quot;));\n\n    //Use adapter class that was created to adapter instance\n    ContactsRecViewAdapter adapter =new ContactsRecViewAdapter(this);\n    //set mockContacts to adapter\n    adapter.setContacts(mockContacts);\n\n    //set adapter to recycle view\n    contactsRecView.setAdapter(adapter);\n\n    //configure Recycle view to be vertical list\n      contactsRecView.setLayoutManager(new GridLayoutManager(this,2));\n      }\n    }\n</code></pre>\n<p><strong>LogCat</strong></p>\n<pre><code>    W/Glide: Load failed for [https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Mark_Zuckerberg_F8_2019_Keynote_%2832830578717%29_%28cropped%29.jpg/220px-Mark_Zuckerberg_F8_2019_Keynote_%2832830578717%29_%28cropped%29.jpg] with dimensions [525x525]\nclass com.bumptech.glide.load.engine.GlideException: Failed to load resource\nThere was 1 root cause:\ncom.bumptech.glide.load.HttpException(Failed to connect or obtain data, status code: -1)\n call GlideException#logRootCauses(String) for more detail\n  Cause (1 of 1): class com.bumptech.glide.load.engine.GlideException: Fetching data failed, class java.io.InputStream, REMOTE\nThere was 1 root cause:\ncom.bumptech.glide.load.HttpException(Failed to connect or obtain data, status code: -1)\n call GlideException#logRootCauses(String) for more detail\n    Cause (1 of 1): class com.bumptech.glide.load.engine.GlideException: Fetch failed\nThere was 1 root cause:\ncom.bumptech.glide.load.HttpException(Failed to connect or obtain data, status code: -1)\n call GlideException#logRootCauses(String) for more detail\n      Cause (1 of 1): class com.bumptech.glide.load.HttpException: Failed to connect or obtain data, status code: -1\nI/Glide: Root cause (1 of 1)\ncom.bumptech.glide.load.HttpException: Failed to connect or obtain data, status code: -1\n    at com.bumptech.glide.load.data.HttpUrlFetcher.loadDataWithRedirects(HttpUrlFetcher.java:98)\n    at com.bumptech.glide.load.data.HttpUrlFetcher.loadData(HttpUrlFetcher.java:58)\n    at com.bumptech.glide.load.model.MultiModelLoader$MultiFetcher.loadData(MultiModelLoader.java:100)\n    at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:95)\n    at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:88)\n    at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:311)\n    at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:280)\n    at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:235)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:424)\n    at java.lang.Thread.run(Thread.java:919)\n    at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultPriorityThreadFactory$1.run(GlideExecutor.java:383)\n Caused by: java.net.SocketException: socket failed: EPERM (Operation not permitted)\n    at java.net.Socket.createImpl(Socket.java:492)\n    at java.net.Socket.getImpl(Socket.java:552)\n    at java.net.Socket.setSoTimeout(Socket.java:1180)\n    at com.android.okhttp.internal.io.RealConnection.connectSocket(RealConnection.java:143)\n    at com.android.okhttp.internal.io.RealConnection.connect(RealConnection.java:116)\n    at com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:186)\n    at com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\n    at com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\n    at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\n    at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\n    at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\n    at com.android.okhttp.internal.huc.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:131)\n    at com.android.okhttp.internal.huc.DelegatingHttpsURLConnection.connect(DelegatingHttpsURLConnection.java:90)\n    at com.android.okhttp.internal.huc.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:30)\n    at com.bumptech.glide.load.data.HttpUrlFetcher.loadDataWithRedirects(HttpUrlFetcher.java:93)\n    at com.bumptech.glide.load.data.HttpUrlFetcher.loadData(HttpUrlFetcher.java:58) \n    at com.bumptech.glide.load.model.MultiModelLoader$MultiFetcher.loadData(MultiModelLoader.java:100) \n    at com.bumptech.glide.load.engine.SourceGenerator.startNextLoad(SourceGenerator.java:95) \n    at com.bumptech.glide.load.engine.SourceGenerator.startNext(SourceGenerator.java:88) \n    at com.bumptech.glide.load.engine.DecodeJob.runGenerators(DecodeJob.java:311) \n    at com.bumptech.glide.load.engine.DecodeJob.runWrapped(DecodeJob.java:280) \n    at com.bumptech.glide.load.engine.DecodeJob.run(DecodeJob.java:235) \n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n    at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultThreadFactory$1.run(GlideExecutor.java:424) \n    at java.lang.Thread.run(Thread.java:919) \n    at com.bumptech.glide.load.engine.executor.GlideExecutor$DefaultPriorityThreadFactory$1.run(GlideExecutor.java:383) \n</code></pre>\n"},{"tags":["java","maven","apache-spark","hadoop","hive"],"answers":[{"tags":[],"owner":{"account_id":325703,"reputation":28509,"user_id":647053,"display_name":"Ram Ghadiyaram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1588826155,"creation_date":1588825768,"answer_id":61649920,"question_id":61649781,"body_markdown":"    &lt;dependency&gt; &lt;!-- Spark dependency --&gt;\r\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spark-hive_2.11&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI dont know why `compile` is the scope it should be `runtime`. Since You are using maven shade plugin you can package uber jar(with `target/original-kafka-consumer-0.1-SNAPSHOT.jar`) with all dependencies in one umbrella/archive and it will be in the classpath so that nothing is missed try this.\r\n\r\nAlso `hive-site.xml` should be in classpath. then there is no need to seperately configure metastoreuris.  in programatic way.\r\n\r\n[Further reading][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39444493/how-to-create-sparksession-with-hive-support-fails-with-hive-classes-are-not-f","title":"Spark with Hive, Unable to instantiate SparkSession with Hive support because Hive classes are not found","body":"<pre><code>&lt;dependency&gt; &lt;!-- Spark dependency --&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-hive_2.11&lt;/artifactId&gt;\n    &lt;version&gt;2.4.4&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I dont know why <code>compile</code> is the scope it should be <code>runtime</code>. Since You are using maven shade plugin you can package uber jar(with <code>target/original-kafka-consumer-0.1-SNAPSHOT.jar</code>) with all dependencies in one umbrella/archive and it will be in the classpath so that nothing is missed try this.</p>\n\n<p>Also <code>hive-site.xml</code> should be in classpath. then there is no need to seperately configure metastoreuris.  in programatic way.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/39444493/how-to-create-sparksession-with-hive-support-fails-with-hive-classes-are-not-f\">Further reading</a></p>\n"},{"tags":[],"owner":{"account_id":174171,"reputation":1053,"user_id":403372,"display_name":"Joviano Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680189139,"creation_date":1680189139,"answer_id":75889977,"question_id":61649781,"body_markdown":"My pom (via MvnRepository.com) had it as this, \r\n\r\n```&lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-hive --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-hive_2.13&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.2&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\ntaking out `&lt;scope&gt;provided&lt;/scope&gt;` from it, fixed it for me\r\n","title":"Spark with Hive, Unable to instantiate SparkSession with Hive support because Hive classes are not found","body":"<p>My pom (via MvnRepository.com) had it as this,</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-hive_2.13&lt;/artifactId&gt;\n    &lt;version&gt;3.3.2&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>taking out <code>&lt;scope&gt;provided&lt;/scope&gt;</code> from it, fixed it for me</p>\n"}],"owner":{"account_id":8197299,"reputation":3975,"user_id":6169688,"display_name":"DennisLi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2961,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61649920,"answer_count":2,"score":1,"last_activity_date":1680189139,"creation_date":1588824786,"question_id":61649781,"body_markdown":"The spark app is to load data from Hive:\r\n\r\n```\r\n    SparkSession spark = SparkSession.builder()\r\n        .appName(topics)\r\n        .config(&quot;hive.metastore.uris&quot;, &quot;thrift://device1:9083&quot;)\r\n        .enableHiveSupport()\r\n        .getOrCreate();\r\n```\r\nI start the spark by:\r\n```\r\nspark-submit --master local[*] --class zhihu.SparkConsumer target/original-kafka-consumer-0.1-SNAPSHOT.jar  --jars spark-hive_2.11-2.4.4.jar\r\n```\r\nmaven pom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.zhihu&lt;/groupId&gt;\r\n  &lt;artifactId&gt;kafka-consumer&lt;/artifactId&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n  &lt;version&gt;0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;kafkadev&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n  &lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;!-- Proper URL for Cloudera maven artifactory --&gt;\r\n      &lt;id&gt;cloudera&lt;/id&gt;\r\n      &lt;url&gt;https://repository.cloudera.com/artifactory/cloudera-repos/&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n\r\n&lt;/repositories&gt;\r\n&lt;dependencies&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.8.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt; &lt;!-- Spark dependency --&gt;\r\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.4&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt; &lt;!-- Spark dependency --&gt;\r\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-hive_2.11&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.4&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-streaming_2.11&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.4&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-streaming-kafka-0-10_2.11&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.4&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n          &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n          &lt;version&gt;2.1.0&lt;/version&gt;\r\n\r\n          &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.apache.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n\r\n\t  &lt;scope&gt;compile&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;!-- gson --&gt;\r\n  &lt;dependency&gt;\r\n\t  &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t  &lt;version&gt;2.8.2&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n\r\n  &lt;dependency&gt;\r\n\t  &lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t  &lt;version&gt;3.8.1&lt;/version&gt;\r\n\t  &lt;scope&gt;test&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n\r\n  &lt;dependency&gt;\r\n\t  &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;hive-metastore&lt;/artifactId&gt;\r\n\t  &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n\r\n  &lt;dependency&gt;\r\n\t  &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;hive-service&lt;/artifactId&gt;\r\n\t  &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n\r\n  &lt;!-- runtime Hive --&gt;\r\n  &lt;dependency&gt;\r\n\t  &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;hive-common&lt;/artifactId&gt;\r\n\t  &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n\t  &lt;scope&gt;runtime&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hive-beeline&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hive-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hive-shims&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hive-exec&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hive-serde&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hive-contrib&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.7.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\r\n\t\t\t\t\t&lt;filters&gt;\r\n\r\n\t\t\t\t\t\t&lt;filter&gt;\r\n\t\t\t\t\t\t\t&lt;artifact&gt;*:*&lt;/artifact&gt;\r\n\t\t\t\t\t\t\t&lt;excludes&gt;\r\n                        &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/filter&gt;\r\n\r\n\t\t\t\t\t\t&lt;filter&gt;\r\n\t\t\t\t\t\t\t&lt;artifact&gt;*:*&lt;/artifact&gt;\r\n\t\t\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n\t\t\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t\t\t&lt;/filter&gt;\r\n\t\t\t\t\t&lt;/filters&gt;\r\n\t\t\t\t\t&lt;artifactSet&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;classworlds:classworlds&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;junit:junit&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;jmock:*&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;*:xml-apis&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;org.apache.maven:lib:tests&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/artifactSet&gt;\r\n            &lt;skip&gt;true&lt;/skip&gt;\r\n        &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nit looks no problem, but it always raised:\r\n```\r\n20/05/07 12:03:17 INFO spark.SparkContext: Added JAR file:/data/projects/zhihu_scraper/consumers/target/original-kafka-consumer-0.1-SNAPSHOT.jar at spark://device2:42395/jars/original-kafka-consumer-0.1-SNAPSHOT.jar with timestamp 1588824197724\r\n20/05/07 12:03:17 INFO executor.Executor: Starting executor ID driver on host localhost\r\n20/05/07 12:03:17 INFO util.Utils: Successfully started service &#39;org.apache.spark.network.netty.NettyBlockTransferService&#39; on port 33849.\r\n20/05/07 12:03:17 INFO netty.NettyBlockTransferService: Server created on device2:33849\r\n20/05/07 12:03:17 INFO storage.BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\r\n20/05/07 12:03:17 INFO storage.BlockManagerMaster: Registering BlockManager BlockManagerId(driver, device2, 33849, None)\r\n20/05/07 12:03:17 INFO storage.BlockManagerMasterEndpoint: Registering block manager device2:33849 with 366.3 MB RAM, BlockManagerId(driver, device2, 33849, None)\r\n20/05/07 12:03:17 INFO storage.BlockManagerMaster: Registered BlockManager BlockManagerId(driver, device2, 33849, None)\r\n20/05/07 12:03:17 INFO storage.BlockManager: Initialized BlockManager: BlockManagerId(driver, device2, 33849, None)\r\n20/05/07 12:03:17 INFO handler.ContextHandler: Started o.s.j.s.ServletContextHandler@63e5e5b4{/metrics/json,null,AVAILABLE,@Spark}\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Unable to instantiate SparkSession with Hive support because Hive classes are not found.\r\n\tat org.apache.spark.sql.SparkSession$Builder.enableHiveSupport(SparkSession.scala:869)\r\n\tat zhihu.SparkConsumer.main(SparkConsumer.java:72)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n\tat org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:845)\r\n\tat org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:161)\r\n\tat org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:184)\r\n\tat org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:86)\r\n\tat org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:920)\r\n\tat org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:929)\r\n\tat org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n20/05/07 12:03:18 INFO spark.SparkContext: Invoking stop() from shutdown hook\r\n```\r\nI have tried all answers in this post [How to create SparkSession with Hive support][1]. But, none of them work for me.\r\n\r\n[1]: https://stackoverflow.com/questions/39444493/how-to-create-sparksession-with-hive-support-fails-with-hive-classes-are-not-f/61050495#61050495","title":"Spark with Hive, Unable to instantiate SparkSession with Hive support because Hive classes are not found","body":"<p>The spark app is to load data from Hive:</p>\n\n<pre><code>    SparkSession spark = SparkSession.builder()\n        .appName(topics)\n        .config(\"hive.metastore.uris\", \"thrift://device1:9083\")\n        .enableHiveSupport()\n        .getOrCreate();\n</code></pre>\n\n<p>I start the spark by:</p>\n\n<pre><code>spark-submit --master local[*] --class zhihu.SparkConsumer target/original-kafka-consumer-0.1-SNAPSHOT.jar  --jars spark-hive_2.11-2.4.4.jar\n</code></pre>\n\n<p>maven pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.zhihu&lt;/groupId&gt;\n  &lt;artifactId&gt;kafka-consumer&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;version&gt;0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;kafkadev&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;!-- Proper URL for Cloudera maven artifactory --&gt;\n      &lt;id&gt;cloudera&lt;/id&gt;\n      &lt;url&gt;https://repository.cloudera.com/artifactory/cloudera-repos/&lt;/url&gt;\n    &lt;/repository&gt;\n\n&lt;/repositories&gt;\n&lt;dependencies&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.8.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt; &lt;!-- Spark dependency --&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\n    &lt;version&gt;2.4.4&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt; &lt;!-- Spark dependency --&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-hive_2.11&lt;/artifactId&gt;\n    &lt;version&gt;2.4.4&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-streaming_2.11&lt;/artifactId&gt;\n    &lt;version&gt;2.4.4&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-streaming-kafka-0-10_2.11&lt;/artifactId&gt;\n    &lt;version&gt;2.4.4&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n          &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n          &lt;version&gt;2.1.0&lt;/version&gt;\n\n          &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n\n      &lt;scope&gt;compile&lt;/scope&gt;\n  &lt;/dependency&gt;\n  &lt;!-- gson --&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\n      &lt;version&gt;2.8.2&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n      &lt;artifactId&gt;hive-metastore&lt;/artifactId&gt;\n      &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n      &lt;artifactId&gt;hive-service&lt;/artifactId&gt;\n      &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;!-- runtime Hive --&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n      &lt;artifactId&gt;hive-common&lt;/artifactId&gt;\n      &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n        &lt;artifactId&gt;hive-beeline&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n        &lt;artifactId&gt;hive-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n        &lt;artifactId&gt;hive-shims&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n        &lt;artifactId&gt;hive-exec&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n        &lt;artifactId&gt;hive-serde&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n        &lt;artifactId&gt;hive-contrib&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1-cdh6.2.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;shade&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n\n                    &lt;filters&gt;\n\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                        &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/filter&gt;\n\n                        &lt;filter&gt;\n                            &lt;artifact&gt;*:*&lt;/artifact&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                        &lt;/filter&gt;\n                    &lt;/filters&gt;\n                    &lt;artifactSet&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;classworlds:classworlds&lt;/exclude&gt;\n                        &lt;exclude&gt;junit:junit&lt;/exclude&gt;\n                        &lt;exclude&gt;jmock:*&lt;/exclude&gt;\n                        &lt;exclude&gt;*:xml-apis&lt;/exclude&gt;\n                        &lt;exclude&gt;org.apache.maven:lib:tests&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/artifactSet&gt;\n            &lt;skip&gt;true&lt;/skip&gt;\n        &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>it looks no problem, but it always raised:</p>\n\n<pre><code>20/05/07 12:03:17 INFO spark.SparkContext: Added JAR file:/data/projects/zhihu_scraper/consumers/target/original-kafka-consumer-0.1-SNAPSHOT.jar at spark://device2:42395/jars/original-kafka-consumer-0.1-SNAPSHOT.jar with timestamp 1588824197724\n20/05/07 12:03:17 INFO executor.Executor: Starting executor ID driver on host localhost\n20/05/07 12:03:17 INFO util.Utils: Successfully started service 'org.apache.spark.network.netty.NettyBlockTransferService' on port 33849.\n20/05/07 12:03:17 INFO netty.NettyBlockTransferService: Server created on device2:33849\n20/05/07 12:03:17 INFO storage.BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\n20/05/07 12:03:17 INFO storage.BlockManagerMaster: Registering BlockManager BlockManagerId(driver, device2, 33849, None)\n20/05/07 12:03:17 INFO storage.BlockManagerMasterEndpoint: Registering block manager device2:33849 with 366.3 MB RAM, BlockManagerId(driver, device2, 33849, None)\n20/05/07 12:03:17 INFO storage.BlockManagerMaster: Registered BlockManager BlockManagerId(driver, device2, 33849, None)\n20/05/07 12:03:17 INFO storage.BlockManager: Initialized BlockManager: BlockManagerId(driver, device2, 33849, None)\n20/05/07 12:03:17 INFO handler.ContextHandler: Started o.s.j.s.ServletContextHandler@63e5e5b4{/metrics/json,null,AVAILABLE,@Spark}\nException in thread \"main\" java.lang.IllegalArgumentException: Unable to instantiate SparkSession with Hive support because Hive classes are not found.\n    at org.apache.spark.sql.SparkSession$Builder.enableHiveSupport(SparkSession.scala:869)\n    at zhihu.SparkConsumer.main(SparkConsumer.java:72)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n    at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:845)\n    at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:161)\n    at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:184)\n    at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:86)\n    at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:920)\n    at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:929)\n    at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\n20/05/07 12:03:18 INFO spark.SparkContext: Invoking stop() from shutdown hook\n</code></pre>\n\n<p>I have tried all answers in this post <a href=\"https://stackoverflow.com/questions/39444493/how-to-create-sparksession-with-hive-support-fails-with-hive-classes-are-not-f/61050495#61050495\">How to create SparkSession with Hive support</a>. But, none of them work for me.</p>\n"},{"tags":["java","android","background","styles","shapes"],"owner":{"account_id":21588851,"reputation":49,"user_id":15918831,"display_name":"Programmer Ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680188718,"creation_date":1680188718,"question_id":75889904,"body_markdown":"I have created a button shape and I have saved it in my drawable folder. In the java code, I have created buttons dynamically. I have added the shape as a background to my button. It works fine, but when the button loses the focus, the shape doesn&#39;t covers the button properly.\r\n\r\n[![Buttons on focus](https://i.stack.imgur.com/oC92y.png)](https://i.stack.imgur.com/oC92y.png)\r\n\r\nAs on the image, I just started this activity and it works fine.\r\nBut when I click the Search Bar (EditText),\r\nThe situation is like this:\r\n[![enter image description here](https://i.stack.imgur.com/nzgSW.png)](https://i.stack.imgur.com/nzgSW.png)\r\n\r\nIt&#39;s a kind of bug to my app. Here&#39;s my java code:\r\n\r\n\r\n```\r\n\r\n\r\nStateListDrawable states = new StateListDrawable();\r\n\r\nstates.addState(new int[]{android.R.attr.state_pressed},\r\n\r\ngetApplicationContext().getDrawable(R.drawable.button_style));\r\n\r\nstates.addState(new int[]{android.R.attr.state_focused},\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tgetApplicationContext().getDrawable(R.drawable.button_style));\r\n\r\nstates.addState(new int[]{},\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle);\r\n\r\nbutton.setBackground(states);\r\n```\r\n\r\nI have also tried the `button.setBackground(style)` but still the same results. \r\n\r\nWhat shall I do to make the button background work as normal?","title":"Drawable background not working properly whenever the button loses the focus","body":"<p>I have created a button shape and I have saved it in my drawable folder. In the java code, I have created buttons dynamically. I have added the shape as a background to my button. It works fine, but when the button loses the focus, the shape doesn't covers the button properly.</p>\n<p><a href=\"https://i.stack.imgur.com/oC92y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oC92y.png\" alt=\"Buttons on focus\" /></a></p>\n<p>As on the image, I just started this activity and it works fine.\nBut when I click the Search Bar (EditText),\nThe situation is like this:\n<a href=\"https://i.stack.imgur.com/nzgSW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nzgSW.png\" alt=\"enter image description here\" /></a></p>\n<p>It's a kind of bug to my app. Here's my java code:</p>\n<pre><code>\n\nStateListDrawable states = new StateListDrawable();\n\nstates.addState(new int[]{android.R.attr.state_pressed},\n\ngetApplicationContext().getDrawable(R.drawable.button_style));\n\nstates.addState(new int[]{android.R.attr.state_focused},\n\n                                                getApplicationContext().getDrawable(R.drawable.button_style));\n\nstates.addState(new int[]{},\n\n                                                style);\n\nbutton.setBackground(states);\n</code></pre>\n<p>I have also tried the <code>button.setBackground(style)</code> but still the same results.</p>\n<p>What shall I do to make the button background work as normal?</p>\n"},{"tags":["java","spring","kubernetes","deployment","minikube"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1680185114,"post_id":75889224,"comment_id":133858067,"body_markdown":"WIthout knowing what is happening in your app this will be impossible to answer. 1 cpu might be a little low but I don&#39;t know. Generally most of the time, during startup, is spend trying to connect and validate the database. But as stated without knowing more about your application this will be impossible to answer.","body":"WIthout knowing what is happening in your app this will be impossible to answer. 1 cpu might be a little low but I don&#39;t know. Generally most of the time, during startup, is spend trying to connect and validate the database. But as stated without knowing more about your application this will be impossible to answer."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1680185268,"post_id":75889224,"comment_id":133858118,"body_markdown":"Try without the CPU and the memory config i.e. `minikube start --driver=docker`.","body":"Try without the CPU and the memory config i.e. <code>minikube start --driver=docker</code>."},{"owner":{"account_id":20053504,"reputation":1,"user_id":14701696,"display_name":"Slava Kruglov"},"score":0,"creation_date":1680190578,"post_id":75889224,"comment_id":133859657,"body_markdown":"@M.Deinum I tried with 4 CPUs as requests/limits, same result. My working assumption is that something is wrong with the cluster itlself. No idea what, unfortunately.","body":"@M.Deinum I tried with 4 CPUs as requests/limits, same result. My working assumption is that something is wrong with the cluster itlself. No idea what, unfortunately."},{"owner":{"account_id":20053504,"reputation":1,"user_id":14701696,"display_name":"Slava Kruglov"},"score":0,"creation_date":1680190648,"post_id":75889224,"comment_id":133859675,"body_markdown":"@ArvindKumarAvinash I am not sure it would help, the default CPU/memory settings are lower in minikube (https://github.com/kubernetes/minikube/blob/232080ae0cbcf9cb9a388eb76cc11cf6884e19c0/pkg/minikube/constants/constants.go#L102)","body":"@ArvindKumarAvinash I am not sure it would help, the default CPU/memory settings are lower in minikube (<a href=\"https://github.com/kubernetes/minikube/blob/232080ae0cbcf9cb9a388eb76cc11cf6884e19c0/pkg/minikube/constants/constants.go#L102\" rel=\"nofollow noreferrer\">github.com/kubernetes/minikube/blob/&hellip;</a>)"},{"owner":{"account_id":20053504,"reputation":1,"user_id":14701696,"display_name":"Slava Kruglov"},"score":0,"creation_date":1680804863,"post_id":75889224,"comment_id":133963647,"body_markdown":"After many other attempts there is still no imrovement. I eventually decided to replace Minikube with something else. I also found a blog post from Nicolas Frankel mentioning performance issues with Minikube: https://blog.frankel.ch/goodbye-minikube/","body":"After many other attempts there is still no imrovement. I eventually decided to replace Minikube with something else. I also found a blog post from Nicolas Frankel mentioning performance issues with Minikube: <a href=\"https://blog.frankel.ch/goodbye-minikube/\" rel=\"nofollow noreferrer\">blog.frankel.ch/goodbye-minikube</a>"}],"owner":{"account_id":20053504,"reputation":1,"user_id":14701696,"display_name":"Slava Kruglov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680188601,"creation_date":1680184745,"question_id":75889224,"body_markdown":"I have a simple Spring Boot app (Spring Boot 3.0.0, Java 17) deployed to Kubernetes. The app is  straightforward at the moment. It has a PostgreSQL DB connection with a couple of Flyway migrations and a basic REST controller. \r\n\r\nThe application starts fine on my machine (MacBook Pro M1 Max), both in the IDE and in a Docker container. I use `amazoncorretto:17` as a base image. Docker has more than enough resources.\r\n\r\n[Docker resources configuration](https://i.stack.imgur.com/vGrjV.png)\r\n\r\nHowever, when I deploy the application in a local K8s cluster created with Minikube the application is incredibly slow. Previously, it could become irresponsible with CPU consumption constant at 100%. I could not connect to java process to take a thread dump or a heap dump due to timeouts. Apparently, there is not enough resources for the application. However, I cannot understand why. \r\n\r\n[Excessive CPU consumption](https://i.stack.imgur.com/9QeRE.png)\r\n\r\nBelow are a couple of differences between the app in minikube and in IDE.\r\n\r\n[App start time locally](https://i.stack.imgur.com/VeujO.png) vs [App start time in minikube](https://i.stack.imgur.com/FLp2H.png)\r\n\r\n\r\nI started the minikube with the following configuration: \r\n\r\n\r\n```\r\nminikube start --cpus 7 --memory 16000 --driver=docker\r\n```\r\n\r\nResources for the container (I also tried with up to 4 CPUs, same issue): \r\n\r\n```\r\n         resources:\r\n            limits:\r\n              cpu: 2\r\n              memory: 3024Mi\r\n            requests:\r\n              cpu: 1\r\n              memory: 1024Mi\r\n```\r\n\r\n\r\n\r\nI deployed the same configuration to AWS EKS. The application works there.\r\n\r\nIs it a known issue with minikube or a misconfiguration? Are there any configuration options that I miss? Are there reliable alternatives to minikube for local development?","title":"Why a Java application is slow in the minikube cluster?","body":"<p>I have a simple Spring Boot app (Spring Boot 3.0.0, Java 17) deployed to Kubernetes. The app is  straightforward at the moment. It has a PostgreSQL DB connection with a couple of Flyway migrations and a basic REST controller.</p>\n<p>The application starts fine on my machine (MacBook Pro M1 Max), both in the IDE and in a Docker container. I use <code>amazoncorretto:17</code> as a base image. Docker has more than enough resources.</p>\n<p><a href=\"https://i.stack.imgur.com/vGrjV.png\" rel=\"nofollow noreferrer\">Docker resources configuration</a></p>\n<p>However, when I deploy the application in a local K8s cluster created with Minikube the application is incredibly slow. Previously, it could become irresponsible with CPU consumption constant at 100%. I could not connect to java process to take a thread dump or a heap dump due to timeouts. Apparently, there is not enough resources for the application. However, I cannot understand why.</p>\n<p><a href=\"https://i.stack.imgur.com/9QeRE.png\" rel=\"nofollow noreferrer\">Excessive CPU consumption</a></p>\n<p>Below are a couple of differences between the app in minikube and in IDE.</p>\n<p><a href=\"https://i.stack.imgur.com/VeujO.png\" rel=\"nofollow noreferrer\">App start time locally</a> vs <a href=\"https://i.stack.imgur.com/FLp2H.png\" rel=\"nofollow noreferrer\">App start time in minikube</a></p>\n<p>I started the minikube with the following configuration:</p>\n<pre><code>minikube start --cpus 7 --memory 16000 --driver=docker\n</code></pre>\n<p>Resources for the container (I also tried with up to 4 CPUs, same issue):</p>\n<pre><code>         resources:\n            limits:\n              cpu: 2\n              memory: 3024Mi\n            requests:\n              cpu: 1\n              memory: 1024Mi\n</code></pre>\n<p>I deployed the same configuration to AWS EKS. The application works there.</p>\n<p>Is it a known issue with minikube or a misconfiguration? Are there any configuration options that I miss? Are there reliable alternatives to minikube for local development?</p>\n"},{"tags":["java","android","google-api","google-api-client"],"comments":[{"owner":{"account_id":12957859,"reputation":836,"user_id":9368010,"display_name":"Sarah Khan"},"score":0,"creation_date":1606018776,"post_id":64887692,"comment_id":114829650,"body_markdown":"I am not sure I understand totally. How do you read sms from &quot;VT-ViCARE&quot;? Can you give that statement where you read it? I suppose you can simple using String &#39;contains(&quot;&quot;)&#39; method.","body":"I am not sure I understand totally. How do you read sms from &quot;VT-ViCARE&quot;? Can you give that statement where you read it? I suppose you can simple using String &#39;contains(&quot;&quot;)&#39; method."},{"owner":{"account_id":1965027,"reputation":1507,"user_id":1765530,"accept_rate":56,"display_name":"appukrb"},"score":0,"creation_date":1606124880,"post_id":64887692,"comment_id":114855411,"body_markdown":"@SarahKhan In startSmsUserConsent() function you can pass sender number, In that I passed that name &quot;VT-ViCARE&quot; it works.","body":"@SarahKhan In startSmsUserConsent() function you can pass sender number, In that I passed that name &quot;VT-ViCARE&quot; it works."},{"owner":{"account_id":18614888,"reputation":689,"user_id":13566428,"display_name":"Andrei Stoicescu"},"score":1,"creation_date":1606134686,"post_id":64887692,"comment_id":114859740,"body_markdown":"you can call it with null to retrieve any sender \n`startSmsUserConsent(null)`","body":"you can call it with null to retrieve any sender  <code>startSmsUserConsent(null)</code>"},{"owner":{"account_id":12957859,"reputation":836,"user_id":9368010,"display_name":"Sarah Khan"},"score":0,"creation_date":1606156203,"post_id":64887692,"comment_id":114870569,"body_markdown":"What happens when you only send ViCARE?","body":"What happens when you only send ViCARE?"},{"owner":{"account_id":1965027,"reputation":1507,"user_id":1765530,"accept_rate":56,"display_name":"appukrb"},"score":0,"creation_date":1606223978,"post_id":64887692,"comment_id":114893337,"body_markdown":"@SarahKhan nothing filtered","body":"@SarahKhan nothing filtered"},{"owner":{"account_id":1965027,"reputation":1507,"user_id":1765530,"accept_rate":56,"display_name":"appukrb"},"score":0,"creation_date":1606224035,"post_id":64887692,"comment_id":114893372,"body_markdown":"@AndreiStoicescu null I know, but I am asking particular sender name","body":"@AndreiStoicescu null I know, but I am asking particular sender name"},{"owner":{"account_id":12779071,"reputation":318,"user_id":14105067,"display_name":"imraklr"},"score":0,"creation_date":1606443479,"post_id":64887692,"comment_id":114970017,"body_markdown":"Just use null or set contact permissions to get recent contacts to get the sender name and match the Strings leaving two dynamic character. If confirmed use the sender name.","body":"Just use null or set contact permissions to get recent contacts to get the sender name and match the Strings leaving two dynamic character. If confirmed use the sender name."}],"answers":[{"tags":[],"owner":{"account_id":12957859,"reputation":836,"user_id":9368010,"display_name":"Sarah Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607292113,"creation_date":1607292113,"answer_id":65173551,"question_id":64887692,"body_markdown":"I did research a lot but currently can&#39;t find an exact answer to your question but here is a workaround. How about you call the String&#39;s contains method, check if the sender name contains ViCARE, and then pass it to startSmsUserConsent ?\r\n\r\n    Boolean sender = &quot;YourDynamicSender&quot;.contains(&quot;ViCARE&quot;);\r\n    if (sender) {\r\n        val task1 = SmsRetriever.getClient(applicationContext).startSmsUserConsent(&quot;YourDynamicSender&quot;)\r\n    }","title":"SmsUserConsentAPI to read sender name with first two letter dynamic","body":"<p>I did research a lot but currently can't find an exact answer to your question but here is a workaround. How about you call the String's contains method, check if the sender name contains ViCARE, and then pass it to startSmsUserConsent ?</p>\n<pre><code>Boolean sender = &quot;YourDynamicSender&quot;.contains(&quot;ViCARE&quot;);\nif (sender) {\n    val task1 = SmsRetriever.getClient(applicationContext).startSmsUserConsent(&quot;YourDynamicSender&quot;)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28169899,"reputation":1,"user_id":21528613,"display_name":"Rahul Lone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680188516,"creation_date":1680188473,"answer_id":75889861,"question_id":64887692,"body_markdown":"Add all of these lines to your code and you are good to go.\r\n\r\n    SmsRetriever.getClient(applicationContext).startSmsUserConsent(&quot;VT-ViCARE&quot;);\r\n    SmsRetriever.getClient(applicationContext).startSmsUserConsent(&quot;BT-ViCARE&quot;);\r\n    SmsRetriever.getClient(applicationContext).startSmsUserConsent(&quot;AD-ViCARE&quot;);","title":"SmsUserConsentAPI to read sender name with first two letter dynamic","body":"<p>Add all of these lines to your code and you are good to go.</p>\n<pre><code>SmsRetriever.getClient(applicationContext).startSmsUserConsent(&quot;VT-ViCARE&quot;);\nSmsRetriever.getClient(applicationContext).startSmsUserConsent(&quot;BT-ViCARE&quot;);\nSmsRetriever.getClient(applicationContext).startSmsUserConsent(&quot;AD-ViCARE&quot;);\n</code></pre>\n"}],"owner":{"account_id":1965027,"reputation":1507,"user_id":1765530,"accept_rate":56,"display_name":"appukrb"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680188516,"creation_date":1605678052,"question_id":64887692,"body_markdown":"I am using UserConsentAPI for reading SMS in Android App, In that there is a method\r\n\r\n&gt; startSmsUserConsent()\r\n\r\nIn this method we need to pass sender Number/Name, For example my sender name is **ViCARE**,\r\nI received VT-ViCARE, BT-ViCARE, AD-ViCare like that each time.First two character of sender name is dynamically changed. If I give below like that reading particular sms from &quot;VT-ViCARE&quot; it works fine, How to read the sender contain &quot;??-ViCARE&quot; using User Consent API? \r\n\r\n&gt; smsRetrieverClient.startSmsUserConsent(&quot;VT-ViCARE&quot;)\r\n\r\n","title":"SmsUserConsentAPI to read sender name with first two letter dynamic","body":"<p>I am using UserConsentAPI for reading SMS in Android App, In that there is a method</p>\n<blockquote>\n<p>startSmsUserConsent()</p>\n</blockquote>\n<p>In this method we need to pass sender Number/Name, For example my sender name is <strong>ViCARE</strong>,\nI received VT-ViCARE, BT-ViCARE, AD-ViCare like that each time.First two character of sender name is dynamically changed. If I give below like that reading particular sms from &quot;VT-ViCARE&quot; it works fine, How to read the sender contain &quot;??-ViCARE&quot; using User Consent API?</p>\n<blockquote>\n<p>smsRetrieverClient.startSmsUserConsent(&quot;VT-ViCARE&quot;)</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","logback"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":1,"up_vote_count":46,"is_accepted":true,"score":45,"last_activity_date":1518509484,"creation_date":1427583336,"answer_id":29323582,"question_id":29322709,"body_markdown":"`${...}` is not &quot;Spring EL&quot; in Spring; they are property placeholders.\r\n\r\nI think you are confusing logback &quot;variables&quot; with Spring &quot;Property Placeholders&quot;.\r\n\r\nThey just happen to use the same syntax `${...}`.\r\n\r\nlogback knows nothing about the Spring property placeholder mechanism and vice-versa. You need to configure your logback variables according to the logback documentation and not in `application.properties` / `application.yml` which is strictly a Spring (boot) concept.\r\n\r\n__EDIT:__\r\n\r\nAfter a quick look at the logback docs, adding\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;property resource=&quot;application.properties&quot; /&gt;\r\n\r\nto the `logback.xml` should work.\r\n\r\n\r\n","title":"Unable to use Spring Property Placeholders in logback.xml","body":"<p><code>${...}</code> is not \"Spring EL\" in Spring; they are property placeholders.</p>\n\n<p>I think you are confusing logback \"variables\" with Spring \"Property Placeholders\".</p>\n\n<p>They just happen to use the same syntax <code>${...}</code>.</p>\n\n<p>logback knows nothing about the Spring property placeholder mechanism and vice-versa. You need to configure your logback variables according to the logback documentation and not in <code>application.properties</code> / <code>application.yml</code> which is strictly a Spring (boot) concept.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>After a quick look at the logback docs, adding</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property resource=\"application.properties\" /&gt;\n</code></pre>\n\n<p>to the <code>logback.xml</code> should work.</p>\n"},{"tags":[],"owner":{"account_id":1187074,"reputation":1288,"user_id":1160824,"accept_rate":100,"display_name":"Lasse L"},"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1680188402,"creation_date":1453810092,"answer_id":35013522,"question_id":29322709,"body_markdown":"Since Spring Boot 1.3 you have a better way of getting spring properties into your logback-spring.xml configuration:\r\n\r\nNow you can just add a &quot;springProperty&quot; element.&lt;br&gt; \r\nThe attribute *name* refers to the logback property and the attribute *source* refers to the spring property\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;springProperty name=&quot;destination&quot; source=&quot;my.loggger.extradest&quot;/&gt;\r\n\t&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n\t\t&lt;file&gt;${destination}&lt;/file&gt;\r\n\t\t\t...\r\n\t\t&lt;/file&gt;\r\n\t&lt;/appender&gt;\r\n\r\n\r\nhttps://github.com/spring-projects/spring-boot/commit/055ace37f006120b0006956b03c7f358d5f3729f\r\n\r\nedit: thanks to Anders\r\n\r\n.........","title":"Unable to use Spring Property Placeholders in logback.xml","body":"<p>Since Spring Boot 1.3 you have a better way of getting spring properties into your logback-spring.xml configuration:</p>\n<p>Now you can just add a &quot;springProperty&quot; element.<br>\nThe attribute <em>name</em> refers to the logback property and the attribute <em>source</em> refers to the spring property</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;springProperty name=&quot;destination&quot; source=&quot;my.loggger.extradest&quot;/&gt;\n&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n    &lt;file&gt;${destination}&lt;/file&gt;\n        ...\n    &lt;/file&gt;\n&lt;/appender&gt;\n</code></pre>\n<p><a href=\"https://github.com/spring-projects/spring-boot/commit/055ace37f006120b0006956b03c7f358d5f3729f\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/commit/055ace37f006120b0006956b03c7f358d5f3729f</a></p>\n<p>edit: thanks to Anders</p>\n<p>.........</p>\n"},{"tags":[],"owner":{"account_id":140023,"reputation":814,"user_id":346027,"display_name":"anders"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1466071744,"creation_date":1466071744,"answer_id":37856131,"question_id":29322709,"body_markdown":"As answered above you can access the spring boot properties using the `&lt;springProperty&gt;` element...but a thing to keep in mind is that the logback configuration file must be named `logback-spring.xml`, it doesn&#39;t work if you name the file `logback.xml` (I&#39;m using `spring-boot 1.3.5.RELEASE`)","title":"Unable to use Spring Property Placeholders in logback.xml","body":"<p>As answered above you can access the spring boot properties using the <code>&lt;springProperty&gt;</code> element...but a thing to keep in mind is that the logback configuration file must be named <code>logback-spring.xml</code>, it doesn't work if you name the file <code>logback.xml</code> (I'm using <code>spring-boot 1.3.5.RELEASE</code>)</p>\n"},{"tags":[],"owner":{"account_id":125163,"reputation":2985,"user_id":320761,"display_name":"Lukasz Frankowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513258903,"creation_date":1513258903,"answer_id":47814780,"question_id":29322709,"body_markdown":"The solutions above work mostly for `bootrap.properties`. However, the only way to use properties from remote Spring Config Server in logback config I&#39;ve currently found, is to apply them programatically:\r\n\r\n\t@Component\r\n\tpublic class LoggerConfiguration implements ApplicationListener&lt;EnvironmentChangeEvent&gt; {\r\n\r\n\t\t@Autowired protected Environment environment;\r\n\r\n\t\t@Override\r\n\t\tpublic void onApplicationEvent(EnvironmentChangeEvent event) {\r\n\t\t\t// enviroment here has already loaded all properties and you may alter logback config programatically\r\n\t\t\tch.qos.logback.classic.Logger rootLogger = (ch.qos.logback.classic.Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\n[Here][1] is a good example how to customize logback with new appender this way.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17215011/320761","title":"Unable to use Spring Property Placeholders in logback.xml","body":"<p>The solutions above work mostly for <code>bootrap.properties</code>. However, the only way to use properties from remote Spring Config Server in logback config I've currently found, is to apply them programatically:</p>\n\n<pre><code>@Component\npublic class LoggerConfiguration implements ApplicationListener&lt;EnvironmentChangeEvent&gt; {\n\n    @Autowired protected Environment environment;\n\n    @Override\n    public void onApplicationEvent(EnvironmentChangeEvent event) {\n        // enviroment here has already loaded all properties and you may alter logback config programatically\n        ch.qos.logback.classic.Logger rootLogger = (ch.qos.logback.classic.Logger) LoggerFactory.getLogger(Logger.ROOT_LOGGER_NAME);\n    }\n\n\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/17215011/320761\">Here</a> is a good example how to customize logback with new appender this way.</p>\n"},{"tags":[],"owner":{"account_id":1411025,"reputation":1356,"user_id":1337605,"display_name":"sereja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605589815,"creation_date":1605589815,"answer_id":64869658,"question_id":29322709,"body_markdown":"There is a way to map Spring properties to Logback properties and use them in the Conditions:\r\n\r\n    logback-spring.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;ACTIVE_PROFILE&quot; source=&quot;spring.profiles.active&quot;/&gt;\r\n    &lt;!--   defined in the application-prod.properties/&gt;--&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;SPRING_WRITER_DISABLED&quot; source=&quot;writer.disabled&quot;/&gt;\r\n    &lt;property name=&quot;LOGBACK_WRITER_DISABLED&quot; value=&quot;${SPRING_WRITER_DISABLED}&quot;/&gt;\r\n\r\n    &lt;if condition=&#39;property(&quot;LOGBACK_WRITER_DISABLED&quot;).equals(&quot;false&quot;)&#39;&gt;\r\n        &lt;then&gt;\r\n            &lt;appender name=&quot;testappender&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n                &lt;file&gt;${ACTIVE_PROFILE}/${HOSTNAME}/testappender.log&lt;/file&gt;\r\n                &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                    &lt;fileNamePattern&gt;\r\n                        {ACTIVE_PROFILE}/${HOSTNAME}/testappender-%d{yyyy-MM-dd}.%i.log\r\n                    &lt;/fileNamePattern&gt;\r\n                    &lt;maxFileSize&gt;300MB&lt;/maxFileSize&gt;\r\n                    &lt;maxHistory&gt;3&lt;/maxHistory&gt;\r\n                    &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt;\r\n                &lt;/rollingPolicy&gt;\r\n                &lt;encoder&gt;\r\n                    &lt;pattern&gt;%msg%n&lt;/pattern&gt;\r\n                &lt;/encoder&gt;\r\n            &lt;/appender&gt;\r\n            &lt;logger name=&quot;testappender&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;appender-ref ref=&quot;testappender&quot;/&gt;\r\n            &lt;/logger&gt;\r\n        &lt;/then&gt;\r\n    &lt;/if&gt;\r\n    &lt;/configuration&gt;","title":"Unable to use Spring Property Placeholders in logback.xml","body":"<p>There is a way to map Spring properties to Logback properties and use them in the Conditions:</p>\n<pre><code>logback-spring.xml\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n&lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n&lt;springProperty scope=&quot;context&quot; name=&quot;ACTIVE_PROFILE&quot; source=&quot;spring.profiles.active&quot;/&gt;\n&lt;!--   defined in the application-prod.properties/&gt;--&gt;\n&lt;springProperty scope=&quot;context&quot; name=&quot;SPRING_WRITER_DISABLED&quot; source=&quot;writer.disabled&quot;/&gt;\n&lt;property name=&quot;LOGBACK_WRITER_DISABLED&quot; value=&quot;${SPRING_WRITER_DISABLED}&quot;/&gt;\n\n&lt;if condition='property(&quot;LOGBACK_WRITER_DISABLED&quot;).equals(&quot;false&quot;)'&gt;\n    &lt;then&gt;\n        &lt;appender name=&quot;testappender&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n            &lt;file&gt;${ACTIVE_PROFILE}/${HOSTNAME}/testappender.log&lt;/file&gt;\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n                &lt;fileNamePattern&gt;\n                    {ACTIVE_PROFILE}/${HOSTNAME}/testappender-%d{yyyy-MM-dd}.%i.log\n                &lt;/fileNamePattern&gt;\n                &lt;maxFileSize&gt;300MB&lt;/maxFileSize&gt;\n                &lt;maxHistory&gt;3&lt;/maxHistory&gt;\n                &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt;\n            &lt;/rollingPolicy&gt;\n            &lt;encoder&gt;\n                &lt;pattern&gt;%msg%n&lt;/pattern&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n        &lt;logger name=&quot;testappender&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;testappender&quot;/&gt;\n        &lt;/logger&gt;\n    &lt;/then&gt;\n&lt;/if&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":6016212,"reputation":465,"user_id":4724996,"display_name":"brmc72"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51874,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":29323582,"answer_count":5,"score":45,"last_activity_date":1680188402,"creation_date":1427577298,"question_id":29322709,"body_markdown":"I have a Spring Boot console app using Logback. All of the properties (for the app as well as for Logback) are externalized into a standard application.properties file in the classpath. These properties are picked up just fine in the app itself, but are not picked up in the logback.xml file. It appears as though the logback.xml is processed before Spring Boot fires up, therefore the EL placeholders are not processed.\r\n\r\nUsing the FileNamePattern as an example, in the application.properties, I have something like this:\r\n\r\n    log.filePattern=/%d{yyyy/MM-MMMM/dd-EEEE}\r\n\r\nand in logback.xml, I&#39;ll have this:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n        &lt;FileNamePattern&gt;${log.logDirectory}${log.filePattern}.log\r\n        &lt;/FileNamePattern&gt;\r\n    &lt;/rollingPolicy&gt;\r\n\r\nWhen running the app, I&#39;ll see errors such as:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    ERROR in ch.qos.logback.core.joran.spi.Interpreter@24:25 - \r\n    RuntimeException in Action for tag [rollingPolicy]\r\n    java.lang.IllegalStateException: FileNamePattern\r\n    [log.logDirectory_IS_UNDEFINEDlog.filePattern_IS_UNDEFINED.log]\r\n    does not contain a valid DateToken\r\n\r\nSimilar code works just fine in other Spring (not Spring Boot) apps, so I&#39;m curious if Spring Boot just behaves a bit differently.\r\n\r\nSolution:\r\n================\r\n\r\nThanks for the reply @Gary! Good to know about the difference between Spring EL and Logback&#39;s variables...I had assumed it was Spring that was in charge of parsing those variables for me. I **did** have the &lt;property resource=&quot;application.properties&quot; /&gt; element, but that got me to thinking.\r\n\r\nMy application.properties file was outside of the jar, so Logback had no idea where to find it. By keeping my Spring-related properties in my external application.properties file, moving the logging-related properties into an application-internal.properties file (located **inside** the jar), and pointing Logback to **that** file (`&lt;property resource=&quot;application-internal.properties&quot; /&gt;`) got everything working as expected!","title":"Unable to use Spring Property Placeholders in logback.xml","body":"<p>I have a Spring Boot console app using Logback. All of the properties (for the app as well as for Logback) are externalized into a standard application.properties file in the classpath. These properties are picked up just fine in the app itself, but are not picked up in the logback.xml file. It appears as though the logback.xml is processed before Spring Boot fires up, therefore the EL placeholders are not processed.</p>\n\n<p>Using the FileNamePattern as an example, in the application.properties, I have something like this:</p>\n\n<pre><code>log.filePattern=/%d{yyyy/MM-MMMM/dd-EEEE}\n</code></pre>\n\n<p>and in logback.xml, I'll have this:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;\n    &lt;FileNamePattern&gt;${log.logDirectory}${log.filePattern}.log\n    &lt;/FileNamePattern&gt;\n&lt;/rollingPolicy&gt;\n</code></pre>\n\n<p>When running the app, I'll see errors such as:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>ERROR in ch.qos.logback.core.joran.spi.Interpreter@24:25 - \nRuntimeException in Action for tag [rollingPolicy]\njava.lang.IllegalStateException: FileNamePattern\n[log.logDirectory_IS_UNDEFINEDlog.filePattern_IS_UNDEFINED.log]\ndoes not contain a valid DateToken\n</code></pre>\n\n<p>Similar code works just fine in other Spring (not Spring Boot) apps, so I'm curious if Spring Boot just behaves a bit differently.</p>\n\n<h1>Solution:</h1>\n\n<p>Thanks for the reply @Gary! Good to know about the difference between Spring EL and Logback's variables...I had assumed it was Spring that was in charge of parsing those variables for me. I <strong>did</strong> have the  element, but that got me to thinking.</p>\n\n<p>My application.properties file was outside of the jar, so Logback had no idea where to find it. By keeping my Spring-related properties in my external application.properties file, moving the logging-related properties into an application-internal.properties file (located <strong>inside</strong> the jar), and pointing Logback to <strong>that</strong> file (<code>&lt;property resource=\"application-internal.properties\" /&gt;</code>) got everything working as expected!</p>\n"},{"tags":["java","spring-boot","spring-security","amazon-elastic-beanstalk","aws-application-load-balancer"],"owner":{"account_id":8355801,"reputation":26,"user_id":6276138,"display_name":"Josh Koopman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680188331,"creation_date":1680188331,"question_id":75889834,"body_markdown":"I have a very unique problem when using Spring Security for login on a web application.\r\n\r\nThe web app is running in an Elastic Beanstalk environment behind an application load balancer.\r\n\r\nWhen I log in directly to the environment, everything works regardless of if the &quot;remember me&quot; box is checked.\r\n\r\nWhen I log in through the application load balancer when &quot;remember me&quot; is not checked, I am redirected to my &quot;success&quot; url, but the SecurityContextHolder does not hold the account and I am not logged in.  It only holds the account when the &quot;remember me&quot; box is checked.\r\n\r\nHas anyone run into a similar situation?","title":"Login Using Spring Security on AWS Application Load Balancer Only Works when &quot;Remember Me&quot; is Checked","body":"<p>I have a very unique problem when using Spring Security for login on a web application.</p>\n<p>The web app is running in an Elastic Beanstalk environment behind an application load balancer.</p>\n<p>When I log in directly to the environment, everything works regardless of if the &quot;remember me&quot; box is checked.</p>\n<p>When I log in through the application load balancer when &quot;remember me&quot; is not checked, I am redirected to my &quot;success&quot; url, but the SecurityContextHolder does not hold the account and I am not logged in.  It only holds the account when the &quot;remember me&quot; box is checked.</p>\n<p>Has anyone run into a similar situation?</p>\n"},{"tags":["java","spring","spring-boot","docker"],"comments":[{"owner":{"account_id":20354853,"reputation":188,"user_id":14930632,"display_name":"CodeDead"},"score":0,"creation_date":1610464157,"post_id":65686551,"comment_id":116137740,"body_markdown":"Try loading the file using: `new ClasspathResource(&quot;wsdl/custom.wsdl&quot;, getClass())\n` **or** `File file = new File(getClass().getResource(&quot;wsdl/custom.wsdl&quot;).getFile());`","body":"Try loading the file using: <code>new ClasspathResource(&quot;wsdl&#47;custom.wsdl&quot;, getClass()) </code> <b>or</b> <code>File file = new File(getClass().getResource(&quot;wsdl&#47;custom.wsdl&quot;).getFile());</code>"},{"owner":{"account_id":1399240,"reputation":699,"user_id":1328323,"accept_rate":16,"display_name":"s_k_t"},"score":0,"creation_date":1610466369,"post_id":65686551,"comment_id":116138925,"body_markdown":"@CodeDead I tried that but the URL is taking the full path where the class is defined and append &quot;wsdl/custom.wsdl&quot;, but it should look into resource folder.","body":"@CodeDead I tried that but the URL is taking the full path where the class is defined and append &quot;wsdl/custom.wsdl&quot;, but it should look into resource folder."}],"answers":[{"tags":[],"owner":{"account_id":9025175,"reputation":27,"user_id":6724705,"display_name":"Sudarshan Nagre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680188328,"creation_date":1680188328,"answer_id":75889832,"question_id":65686551,"body_markdown":"Try this approach, it works inside the docker image also.\r\n\r\n    import com.fasterxml.jackson.core.type.TypeReference;\r\n\r\n    InputStream inputStream = TypeReference.class.getResourceAsStream(&quot;wsdl/custom.wsdl&quot;);\r\n\r\n    StringBuffer sb = new StringBuffer();\r\n\tint i=0;\r\n\twhile((i=inputStream.read())!=-1) {\r\n\t   sb.append((char)i);\r\n\t}\r\n    System.out.println(new String(sb));\r\n\r\nIn my case, too, I am facing the same issue. Docker image can&#39;t find the files in the resource folder, but the above solution solved my issue.","title":"File inside resource folder is not visible for docker file","body":"<p>Try this approach, it works inside the docker image also.</p>\n<pre><code>import com.fasterxml.jackson.core.type.TypeReference;\n\nInputStream inputStream = TypeReference.class.getResourceAsStream(&quot;wsdl/custom.wsdl&quot;);\n\nStringBuffer sb = new StringBuffer();\nint i=0;\nwhile((i=inputStream.read())!=-1) {\n   sb.append((char)i);\n}\nSystem.out.println(new String(sb));\n</code></pre>\n<p>In my case, too, I am facing the same issue. Docker image can't find the files in the resource folder, but the above solution solved my issue.</p>\n"}],"owner":{"account_id":1399240,"reputation":699,"user_id":1328323,"accept_rate":16,"display_name":"s_k_t"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1118,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680188328,"creation_date":1610463907,"question_id":65686551,"body_markdown":"I have a spring boot application and I am consuming external soap service and I have requirement to put the wsdl file local and I put it in resources folder under wsdl folder. I am reading that file which is inside resources folder under wsdl folder -\r\n\r\n    ClassPathResource resource = new ClassPathResource(&quot;wsdl/custom.wsdl&quot;);\r\n    File file = resource.getFile();\r\n    wsdlURL = file.toURI().toURL();\r\n\r\nI have created a simple Dockerfile with below content and running the spring boot application \r\n\r\n    FROM openjdk:8-jdk-alpine\r\n    ADD target/*.jar /app/app.jar\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot;]\r\n    EXPOSE 8080\r\n\r\nBUt I am getting below error. \r\n\r\n    java.io.FileNotFoundException: class path resource [wsdl/custom.wsdl] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/app/app.jar!/BOOT-INF/classes!/wsdl/custom.wsdl","title":"File inside resource folder is not visible for docker file","body":"<p>I have a spring boot application and I am consuming external soap service and I have requirement to put the wsdl file local and I put it in resources folder under wsdl folder. I am reading that file which is inside resources folder under wsdl folder -</p>\n<pre><code>ClassPathResource resource = new ClassPathResource(&quot;wsdl/custom.wsdl&quot;);\nFile file = resource.getFile();\nwsdlURL = file.toURI().toURL();\n</code></pre>\n<p>I have created a simple Dockerfile with below content and running the spring boot application</p>\n<pre><code>FROM openjdk:8-jdk-alpine\nADD target/*.jar /app/app.jar\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/app.jar&quot;]\nEXPOSE 8080\n</code></pre>\n<p>BUt I am getting below error.</p>\n<pre><code>java.io.FileNotFoundException: class path resource [wsdl/custom.wsdl] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/app/app.jar!/BOOT-INF/classes!/wsdl/custom.wsdl\n</code></pre>\n"},{"tags":["java","sql","database","swing","user-interface"],"comments":[{"owner":{"account_id":8716173,"reputation":964,"user_id":6520695,"accept_rate":80,"display_name":"Mohammed Julfikar Ali Mahbub"},"score":1,"creation_date":1605645888,"post_id":64882911,"comment_id":114713772,"body_markdown":"You want the number of rows in `jTable` equal to the number of rows in `SQL Database`? If so then just the `model.addRow(...)` should do the work. So, what exactly is the problem? Can you please explain further?","body":"You want the number of rows in <code>jTable</code> equal to the number of rows in <code>SQL Database</code>? If so then just the <code>model.addRow(...)</code> should do the work. So, what exactly is the problem? Can you please explain further?"},{"owner":{"account_id":5520249,"reputation":363,"user_id":8095704,"display_name":"kwkw"},"score":1,"creation_date":1605645906,"post_id":64882911,"comment_id":114713778,"body_markdown":"Hi Ryan, I am not sure what you want. But I am assuming your table is not displayed. One thing I did notice is that you create the table in each iteration. So you call DefaultTableModel model=(DefaultTableModel)Ordertable.getModel(); for every row in the ResultSet. Start by creating the DefaultTable above the while-loop.","body":"Hi Ryan, I am not sure what you want. But I am assuming your table is not displayed. One thing I did notice is that you create the table in each iteration. So you call DefaultTableModel model=(DefaultTableModel)Ordertable.getModel(); for every row in the ResultSet. Start by creating the DefaultTable above the while-loop."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1605659422,"post_id":64882911,"comment_id":114718030,"body_markdown":"@Wkrem *One thing I did notice is that you create the table in each iteration.* - the table is not being created. The code is just referencing the current model from the existing table so a new row of data can be added.","body":"@Wkrem <i>One thing I did notice is that you create the table in each iteration.</i> - the table is not being created. The code is just referencing the current model from the existing table so a new row of data can be added."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1605659563,"post_id":64882911,"comment_id":114718058,"body_markdown":"1) Variable names should NOT start with an upper case character. 2) What is the point of making the table header transparent and then attempting to set the background color? 3) Why do you set properties of the header in a finally block? You should set the properties when you create the table. The properties of the header have nothing to do with reading the data from the database.  4) *i want to make the jtable size to be automatically the size of the rows?* - what size do you see now. Looks to me like the logic is adding all rows of data to the model.","body":"1) Variable names should NOT start with an upper case character. 2) What is the point of making the table header transparent and then attempting to set the background color? 3) Why do you set properties of the header in a finally block? You should set the properties when you create the table. The properties of the header have nothing to do with reading the data from the database.  4) <i>i want to make the jtable size to be automatically the size of the rows?</i> - what size do you see now. Looks to me like the logic is adding all rows of data to the model."},{"owner":{"account_id":18786077,"reputation":11,"user_id":13699640,"display_name":"Ryan Anjalo"},"score":0,"creation_date":1605693397,"post_id":64882911,"comment_id":114727103,"body_markdown":"I just wanted to make make my table size same as the row size ? i am fairly new here so please excuse my mistakes. for example , if 3 rows then it should be the maximum, how can i obtain that ?","body":"I just wanted to make make my table size same as the row size ? i am fairly new here so please excuse my mistakes. for example , if 3 rows then it should be the maximum, how can i obtain that ?"},{"owner":{"account_id":18786077,"reputation":11,"user_id":13699640,"display_name":"Ryan Anjalo"},"score":0,"creation_date":1605693586,"post_id":64882911,"comment_id":114727203,"body_markdown":"@camickr thanks for pointing it out , i should just create a another method for the current table formating , As far i knew variables should be uppercase when starting , i will see into that thanks.","body":"@camickr thanks for pointing it out , i should just create a another method for the current table formating , As far i knew variables should be uppercase when starting , i will see into that thanks."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1605716726,"post_id":64882911,"comment_id":114738209,"body_markdown":"*As far i knew variables should be uppercase when starting* 1) Comment doesn&#39;t make sense. Look at your code. Majority of the variables are correct, only some are incorrect. Be conssistent!!! 2) Any text book or online tutorial will follow Java conventions, so learn  by example. *I just wanted to make make my table size same as the row size ?* - that does not clarify anything. What is the &quot;row size&quot;? What do you see in the table? What do you expect to see?","body":"<i>As far i knew variables should be uppercase when starting</i> 1) Comment doesn&#39;t make sense. Look at your code. Majority of the variables are correct, only some are incorrect. Be conssistent!!! 2) Any text book or online tutorial will follow Java conventions, so learn  by example. <i>I just wanted to make make my table size same as the row size ?</i> - that does not clarify anything. What is the &quot;row size&quot;? What do you see in the table? What do you expect to see?"}],"owner":{"account_id":18786077,"reputation":11,"user_id":13699640,"display_name":"Ryan Anjalo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1680188193,"creation_date":1605645214,"question_id":64882911,"body_markdown":"I have retrieved data from SQL Database into a `JTable`. I want to make the table size to be automatically the size of the rows. It would be plus if I can also make the data in the rows centered.\r\n\r\nI am fairly new to GUI Java Programming. Can someone please let me understand how it can be done?\r\n\r\n    private  void DisplayOrder() {\r\n        String qry = &quot;SELECT * FROM SALESORDER&quot;; //Creating Query\r\n        try {\r\n            conn = DriverManager.getConnection(connectionUrl, username, Pass);\r\n            Statement st = conn.prepareStatement(qry);\r\n            ResultSet rs = st.executeQuery(qry);\r\n            \r\n            while (rs.next()){\r\n                String Des   = rs.getString(&quot;ProductDescription&quot;);\r\n                String qty   = String.valueOf(rs.getInt(&quot;Quantity&quot;));\r\n                String price = String.valueOf(rs.getInt(&quot;TotalPrice&quot;));\r\n                String tbdata[] = {Des, qty, price};\r\n                DefaultTableModel model = (DefaultTableModel) Ordertable.getModel();\r\n                model.addRow(new Object[]{Des, qty, price});\r\n            }\r\n        } catch (SQLException e){\r\n            \r\n        } finally{\r\n            Ordertable.getTableHeader().setFont(new Font(&quot;Segoe UI&quot;,Font.BOLD,15));\r\n            Ordertable.getTableHeader().setOpaque(false);\r\n            Ordertable.getTableHeader().setBackground(new Color(32,136,203));\r\n            Ordertable.getTableHeader().setForeground(new Color(255,255,255));\r\n            Ordertable.setRowHeight(25);\r\n        }\r\n    }","title":"How to make the table size same as the row size in java?","body":"<p>I have retrieved data from SQL Database into a <code>JTable</code>. I want to make the table size to be automatically the size of the rows. It would be plus if I can also make the data in the rows centered.</p>\n<p>I am fairly new to GUI Java Programming. Can someone please let me understand how it can be done?</p>\n<pre><code>private  void DisplayOrder() {\n    String qry = &quot;SELECT * FROM SALESORDER&quot;; //Creating Query\n    try {\n        conn = DriverManager.getConnection(connectionUrl, username, Pass);\n        Statement st = conn.prepareStatement(qry);\n        ResultSet rs = st.executeQuery(qry);\n        \n        while (rs.next()){\n            String Des   = rs.getString(&quot;ProductDescription&quot;);\n            String qty   = String.valueOf(rs.getInt(&quot;Quantity&quot;));\n            String price = String.valueOf(rs.getInt(&quot;TotalPrice&quot;));\n            String tbdata[] = {Des, qty, price};\n            DefaultTableModel model = (DefaultTableModel) Ordertable.getModel();\n            model.addRow(new Object[]{Des, qty, price});\n        }\n    } catch (SQLException e){\n        \n    } finally{\n        Ordertable.getTableHeader().setFont(new Font(&quot;Segoe UI&quot;,Font.BOLD,15));\n        Ordertable.getTableHeader().setOpaque(false);\n        Ordertable.getTableHeader().setBackground(new Color(32,136,203));\n        Ordertable.getTableHeader().setForeground(new Color(255,255,255));\n        Ordertable.setRowHeight(25);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-webflux","project-reactor","spring-cloud-gateway"],"comments":[{"owner":{"account_id":3092852,"reputation":113,"user_id":2618629,"display_name":"Xogaz"},"score":0,"creation_date":1686767642,"post_id":75889613,"comment_id":134845976,"body_markdown":"`.subscriberContext` has been deprecated quite a while ago, \n\nYou can set the order of your filters, may be that helps. \n\n```\n       http.addFilter(myFilter-&gt; http.addFilterBefore(myFilter, SecurityWebFiltersOrder.AUTHENTICATION));\n        http.addFilterAt(authenticationWebFilter, SecurityWebFiltersOrder.AUTHENTICATION);\n```","body":"<code>.subscriberContext</code> has been deprecated quite a while ago,   You can set the order of your filters, may be that helps.   ```        http.addFilter(myFilter-&gt; http.addFilterBefore(myFilter, SecurityWebFiltersOrder.AUTHENTICATION));         http.addFilterAt(authenticationWebFilter, SecurityWebFiltersOrder.AUTHENTICATION); ```"}],"owner":{"account_id":1064662,"reputation":514,"user_id":1065545,"accept_rate":92,"display_name":"Flanfl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680188120,"creation_date":1680187151,"question_id":75889613,"body_markdown":"I&#39;ve a Spring Cloud Gateway service with the following security config: \r\n\r\n```\r\n@Configuration\r\n@EnableWebFluxSecurity\r\n@Slf4j\r\npublic class SecurityConfig {\r\n    @Bean\r\n    public SecurityWebFilterChain securityApiFilterChain(ServerHttpSecurity http) {\r\n         // ... additional security config\r\n\r\n        http.authorizeExchange()\r\n                .pathMatchers(HttpMethod.GET, &quot;/api/foo/**&quot;)\r\n                .access((authenticationMono, context) -&gt; authenticationMono\r\n                        .flatMap(authentication -&gt; authorizationService.canDo(authentication, FOO, ACCESS))\r\n                        .map(AuthorizationDecision::new));\r\n    }\r\n}\r\n```\r\n\r\n`authorizationService.canDo` checks if the user can do the requested action on the requested API. The relevant code:\r\n\r\n    return webClient.get().uri(url)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .headers(fillHeaders())\r\n                    .retrieve()\r\n                    .toEntity(new ParameterizedTypeReference&lt;&gt;() {});\r\n\r\n\r\nIf the user has access, then the request is forwarded to the relevant service. \r\n\r\nThe response of the access control contains some HTTP headers that I want to add in the request sent to `/api/foo/**`. \r\n\r\nI tried to set these headers in the reactor `Context` with `subscriberContext` or adding a `ExchangeFilterFunction.ofResponseProcessor`to the webClient. While the context is properly set it&#39;s not propagated. The context is lost when I&#39;m in a custom `WebFilter`.\r\n\r\nI&#39;ve added the following code at multiple places with no luck:\r\n`.subscriberContext(ctx -&gt; ctx.put(&quot;testContext&quot;, &quot;testContextData&quot;));`\r\n\r\nI looked at how `ReactiveSecurityContextHolder.getContext()` works and I don&#39;t see how it&#39;s different from what I&#39;m doing. However, the context is initiated in `ReactorContextWebFilter` which seems to be the first `WebFilter` called. My custom filters are called much later on (after the `canDo` method was called). I did try to find a way to init a context earlier but I can&#39;t find anything.\r\n\r\nDo we have anyway to have a filter that get called even before `SecurityWebFilterChain`? Or maybe a better solution? The amount of data I could find is limited and I&#39;m new to WebFlux/Reactor. \r\n\r\nSpring Security: 5.13.3\r\nSpring Webflux: 2.3.12.RELEASE","title":"Propagating context with Spring WebFlux","body":"<p>I've a Spring Cloud Gateway service with the following security config:</p>\n<pre><code>@Configuration\n@EnableWebFluxSecurity\n@Slf4j\npublic class SecurityConfig {\n    @Bean\n    public SecurityWebFilterChain securityApiFilterChain(ServerHttpSecurity http) {\n         // ... additional security config\n\n        http.authorizeExchange()\n                .pathMatchers(HttpMethod.GET, &quot;/api/foo/**&quot;)\n                .access((authenticationMono, context) -&gt; authenticationMono\n                        .flatMap(authentication -&gt; authorizationService.canDo(authentication, FOO, ACCESS))\n                        .map(AuthorizationDecision::new));\n    }\n}\n</code></pre>\n<p><code>authorizationService.canDo</code> checks if the user can do the requested action on the requested API. The relevant code:</p>\n<pre><code>return webClient.get().uri(url)\n                .accept(MediaType.APPLICATION_JSON)\n                .headers(fillHeaders())\n                .retrieve()\n                .toEntity(new ParameterizedTypeReference&lt;&gt;() {});\n</code></pre>\n<p>If the user has access, then the request is forwarded to the relevant service.</p>\n<p>The response of the access control contains some HTTP headers that I want to add in the request sent to <code>/api/foo/**</code>.</p>\n<p>I tried to set these headers in the reactor <code>Context</code> with <code>subscriberContext</code> or adding a <code>ExchangeFilterFunction.ofResponseProcessor</code>to the webClient. While the context is properly set it's not propagated. The context is lost when I'm in a custom <code>WebFilter</code>.</p>\n<p>I've added the following code at multiple places with no luck:\n<code>.subscriberContext(ctx -&gt; ctx.put(&quot;testContext&quot;, &quot;testContextData&quot;));</code></p>\n<p>I looked at how <code>ReactiveSecurityContextHolder.getContext()</code> works and I don't see how it's different from what I'm doing. However, the context is initiated in <code>ReactorContextWebFilter</code> which seems to be the first <code>WebFilter</code> called. My custom filters are called much later on (after the <code>canDo</code> method was called). I did try to find a way to init a context earlier but I can't find anything.</p>\n<p>Do we have anyway to have a filter that get called even before <code>SecurityWebFilterChain</code>? Or maybe a better solution? The amount of data I could find is limited and I'm new to WebFlux/Reactor.</p>\n<p>Spring Security: 5.13.3\nSpring Webflux: 2.3.12.RELEASE</p>\n"},{"tags":["java","angular","backend"],"comments":[{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1680187324,"post_id":75889535,"comment_id":133858735,"body_markdown":"your UserService dont have addUser method","body":"your UserService dont have addUser method"}],"owner":{"account_id":27994875,"reputation":13,"user_id":21380352,"display_name":"avishkar dixit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680188058,"creation_date":1680186729,"question_id":75889535,"body_markdown":"this is the code of the signup.component.ts in which i am facing the error\r\n``` import { Component, OnInit } from &#39;@angular/core&#39;;\r\nimport { UserService } from &#39;src/app/services/user.service&#39;;\r\n\r\n@Component({\r\n  selector: &#39;app-signup&#39;,\r\n  templateUrl: &#39;./signup.component.html&#39;,\r\n  styleUrls: [&#39;./signup.component.css&#39;],\r\n})\r\nexport class SignupComponent implements OnInit {\r\n  constructor(private userService:UserService) {}\r\n\r\n  public user = {\r\n    username: &#39;&#39;,\r\n    password: &#39;&#39;,\r\n    firstName: &#39;&#39;,\r\n    lastName: &#39;&#39;,\r\n    email: &#39;&#39;,\r\n    phone: &#39;&#39;,\r\n  };\r\n\r\n  ngOnInit(): void {}\r\n\r\n  formSubmit() {\r\n    console.log(this.user);\r\n    if (this.user.username == &#39;&#39; || this.user.username == null) {\r\n      alert(&#39;user is requierde &#39;);\r\n      return;\r\n    }\r\n\r\n    //add user\r\n    this.userService.addUser(this.user).subscribe(\r\n      (data) =&gt; {\r\n        //success\r\n        console.log(data);\r\n        alert(&#39;success&#39;);\r\n      },\r\n      (error) =&gt; {\r\n        //error\r\n        console.log(error);\r\n        alert(&#39;something went wrong&#39;);\r\n      }\r\n    );\r\n  }\r\n}\r\n```\r\n\r\nin given code the &quot;subscribe&quot; is getting depricated and hence i am not able to send the data from form to the backend database \r\n\r\nplease help me to solve these error\r\nthese is the user.service.ts file\r\n```import { HttpClient } from &#39;@angular/common/http&#39;;\r\nimport { Injectable } from &#39;@angular/core&#39;;\r\nimport baseUrl from &#39;./helper&#39;;\r\n\r\n@Injectable({\r\n  providedIn: &#39;root&#39;\r\n})\r\nexport class UserService {\r\n\r\n  constructor(private http:HttpClient)  {}\r\n\r\n   //add user\r\n  public addUser(user:any)\r\n  {\r\n\r\n    return this.http.post(`${baseUrl}/user/`,user);\r\n\r\n  }\r\n}\r\n```\r\n\r\nwhen i am trying to run the code it is showing the following error\r\n\r\nError is given below\r\n```\r\nError: src/app/pages/signup/signup.component.ts:32:22 - error TS2339: Property &#39;addUser&#39; does not exist on type &#39;UserService&#39;.     \r\n\r\n32     this.userService.addUser(this.user).subscribe(\r\n                        ~~~~~~~\r\n\r\n\r\nError: src/app/pages/signup/signup.component.ts:33:8 - error TS7006: Parameter &#39;data&#39; implicitly has an &#39;any&#39; type.\r\n\r\n33       (data) =&gt; {\r\n          ~~~~\r\n\r\n\r\nError: src/app/pages/signup/signup.component.ts:38:8 - error TS7006: Parameter &#39;error&#39; implicitly has an &#39;any&#39; type.\r\n\r\n38       (error) =&gt; {\r\n          ~~~~~\r\n\r\n\r\n\r\n\r\n** Angular Live Development Server is listening on localhost:4200, open your browser on http://localhost:4200/ **\r\n\r\n\r\n&#215; Failed to compile.\r\nPS C:\\Users\\admin\\Desktop\\java exam project\\examfront&gt; \r\n\r\n``` ","title":"getting error when i want to send data to the java backend from angular front end","body":"<p>this is the code of the signup.component.ts in which i am facing the error</p>\n<pre><code>import { UserService } from 'src/app/services/user.service';\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.component.html',\n  styleUrls: ['./signup.component.css'],\n})\nexport class SignupComponent implements OnInit {\n  constructor(private userService:UserService) {}\n\n  public user = {\n    username: '',\n    password: '',\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: '',\n  };\n\n  ngOnInit(): void {}\n\n  formSubmit() {\n    console.log(this.user);\n    if (this.user.username == '' || this.user.username == null) {\n      alert('user is requierde ');\n      return;\n    }\n\n    //add user\n    this.userService.addUser(this.user).subscribe(\n      (data) =&gt; {\n        //success\n        console.log(data);\n        alert('success');\n      },\n      (error) =&gt; {\n        //error\n        console.log(error);\n        alert('something went wrong');\n      }\n    );\n  }\n}\n</code></pre>\n<p>in given code the &quot;subscribe&quot; is getting depricated and hence i am not able to send the data from form to the backend database</p>\n<p>please help me to solve these error\nthese is the user.service.ts file</p>\n<pre><code>import { Injectable } from '@angular/core';\nimport baseUrl from './helper';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n\n  constructor(private http:HttpClient)  {}\n\n   //add user\n  public addUser(user:any)\n  {\n\n    return this.http.post(`${baseUrl}/user/`,user);\n\n  }\n}\n</code></pre>\n<p>when i am trying to run the code it is showing the following error</p>\n<p>Error is given below</p>\n<pre><code>Error: src/app/pages/signup/signup.component.ts:32:22 - error TS2339: Property 'addUser' does not exist on type 'UserService'.     \n\n32     this.userService.addUser(this.user).subscribe(\n                        ~~~~~~~\n\n\nError: src/app/pages/signup/signup.component.ts:33:8 - error TS7006: Parameter 'data' implicitly has an 'any' type.\n\n33       (data) =&gt; {\n          ~~~~\n\n\nError: src/app/pages/signup/signup.component.ts:38:8 - error TS7006: Parameter 'error' implicitly has an 'any' type.\n\n38       (error) =&gt; {\n          ~~~~~\n\n\n\n\n** Angular Live Development Server is listening on localhost:4200, open your browser on http://localhost:4200/ **\n\n\n× Failed to compile.\nPS C:\\Users\\admin\\Desktop\\java exam project\\examfront&gt; \n\n</code></pre>\n"},{"tags":["java","react-native","react-native-firebase"],"owner":{"account_id":23335903,"reputation":114,"user_id":17411570,"display_name":"seth8656"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680188033,"creation_date":1680188033,"question_id":75889789,"body_markdown":"I am setting up react native firebase&#39;s analytics with my existing expo app. I believe I have the set up for it configured, however now that I have an EAS build with my project, I am getting the following error.\r\n\r\nNative module Vibration tried to override com.facebook.react.module/vibration.VibrationModule. Check the getPackages() method... or setOverRide=true.\r\n\r\nThe strange thing, is that I cannot find any module named vibration. I even did a global search in my directory and found nothing related to the word &#39;vibration&#39;. I also doubled checked my getPackages method in my MainApplication.java to make sure it was not repeated. I am fairly new to react native and configuring things with java, so maybe I missed something. Down below is my MainApplication.java.\r\n\r\n   \r\n\r\n ```import android.app.Application;\r\nimport android.content.res.Configuration;\r\nimport androidx.annotation.NonNull;\r\n\r\nimport com.facebook.react.PackageList;\r\nimport com.facebook.react.ReactApplication;\r\nimport com.facebook.react.ReactNativeHost;\r\nimport com.facebook.react.ReactPackage;\r\nimport com.facebook.react.defaults.DefaultNewArchitectureEntryPoint;\r\nimport com.facebook.react.defaults.DefaultReactNativeHost;\r\nimport com.facebook.soloader.SoLoader;\r\n\r\n// import firebase\r\nimport io.invertase.firebase.app.ReactNativeFirebaseAppPackage;\r\nimport com.facebook.react.shell.MainReactPackage;\r\n\r\nimport expo.modules.ApplicationLifecycleDispatcher;\r\nimport expo.modules.ReactNativeHostWrapper;\r\n\r\nimport java.util.List;\r\n\r\npublic class MainApplication extends Application implements ReactApplication {\r\n\r\n  private final ReactNativeHost mReactNativeHost =\r\n    new ReactNativeHostWrapper(this, new DefaultReactNativeHost(this) {\r\n      @Override\r\n      public boolean getUseDeveloperSupport() {\r\n        return BuildConfig.DEBUG;\r\n      }\r\n\r\n      // @Override    \r\n      // public boolean canOverrideExistingModule() {        \r\n      //   return true;    \r\n      // }   \r\n\r\n      @Override\r\n      protected List&lt;ReactPackage&gt; getPackages() {\r\n\r\n\r\n        @SuppressWarnings(&quot;UnnecessaryLocalVariable&quot;)\r\n        List&lt;ReactPackage&gt; packages = new PackageList(this).getPackages();\r\n        // Packages that cannot be autolinked yet can be added manually here, for example:\r\n        // packages.add(new MyReactNativePackage());\r\n        packages.add(new MainReactPackage());\r\n        packages.add(new ReactNativeFirebaseAppPackage());\r\n\r\n        return packages;\r\n      }\r\n\r\n      @Override\r\n      protected String getJSMainModuleName() {\r\n        return &quot;index&quot;;\r\n      }\r\n\r\n      @Override\r\n      protected boolean isNewArchEnabled() {\r\n        return BuildConfig.IS_NEW_ARCHITECTURE_ENABLED;\r\n      }\r\n\r\n      @Override\r\n      protected Boolean isHermesEnabled() {\r\n        return BuildConfig.IS_HERMES_ENABLED;\r\n      }\r\n\r\n  \r\n  });\r\n\r\n  @Override\r\n  public ReactNativeHost getReactNativeHost() {\r\n    return mReactNativeHost;\r\n  }\r\n\r\n  @Override\r\n  public void onCreate() {\r\n    super.onCreate();\r\n    SoLoader.init(this, /* native exopackage */ false);\r\n    if (BuildConfig.IS_NEW_ARCHITECTURE_ENABLED) {\r\n      // If you opted-in for the New Architecture, we load the native entry point for this app.\r\n      DefaultNewArchitectureEntryPoint.load();\r\n    }\r\n    ReactNativeFlipper.initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\r\n    ApplicationLifecycleDispatcher.onApplicationCreate(this);\r\n  }\r\n\r\n  @Override\r\n  public void onConfigurationChanged(@NonNull Configuration newConfig) {\r\n    super.onConfigurationChanged(newConfig);\r\n    ApplicationLifecycleDispatcher.onConfigurationChanged(this, newConfig);\r\n  }\r\n}\r\n```\r\nMy initial thoughts on this is that, importing \r\n\r\nimport io.invertase.firebase.app.ReactNativeFirebaseAppPackage; and \r\nimport com.facebook.react.shell.MainReactPackage;\r\n\r\nare the cause of the issue since that is pretty much the only modification I  have done to this file. However if I delete these additions, EAS build fails while running gradle, and I cant download the updated version of the app. I have seen a lot of similar question on stack overflow, however I was not able to fix it with the normal &#39;just delete the repeated package&#39; response since I don&#39;t even think I have a &#39;Vibration&#39; module installed anywhere. Thanks in advance!","title":"Native module Vibration tried to override com.facebook.react.module.vibration","body":"<p>I am setting up react native firebase's analytics with my existing expo app. I believe I have the set up for it configured, however now that I have an EAS build with my project, I am getting the following error.</p>\n<p>Native module Vibration tried to override com.facebook.react.module/vibration.VibrationModule. Check the getPackages() method... or setOverRide=true.</p>\n<p>The strange thing, is that I cannot find any module named vibration. I even did a global search in my directory and found nothing related to the word 'vibration'. I also doubled checked my getPackages method in my MainApplication.java to make sure it was not repeated. I am fairly new to react native and configuring things with java, so maybe I missed something. Down below is my MainApplication.java.</p>\n<pre><code>import android.content.res.Configuration;\nimport androidx.annotation.NonNull;\n\nimport com.facebook.react.PackageList;\nimport com.facebook.react.ReactApplication;\nimport com.facebook.react.ReactNativeHost;\nimport com.facebook.react.ReactPackage;\nimport com.facebook.react.defaults.DefaultNewArchitectureEntryPoint;\nimport com.facebook.react.defaults.DefaultReactNativeHost;\nimport com.facebook.soloader.SoLoader;\n\n// import firebase\nimport io.invertase.firebase.app.ReactNativeFirebaseAppPackage;\nimport com.facebook.react.shell.MainReactPackage;\n\nimport expo.modules.ApplicationLifecycleDispatcher;\nimport expo.modules.ReactNativeHostWrapper;\n\nimport java.util.List;\n\npublic class MainApplication extends Application implements ReactApplication {\n\n private final ReactNativeHost mReactNativeHost =\n   new ReactNativeHostWrapper(this, new DefaultReactNativeHost(this) {\n     @Override\n     public boolean getUseDeveloperSupport() {\n       return BuildConfig.DEBUG;\n     }\n\n     // @Override    \n     // public boolean canOverrideExistingModule() {        \n     //   return true;    \n     // }   \n\n     @Override\n     protected List&lt;ReactPackage&gt; getPackages() {\n\n\n       @SuppressWarnings(&quot;UnnecessaryLocalVariable&quot;)\n       List&lt;ReactPackage&gt; packages = new PackageList(this).getPackages();\n       // Packages that cannot be autolinked yet can be added manually here, for example:\n       // packages.add(new MyReactNativePackage());\n       packages.add(new MainReactPackage());\n       packages.add(new ReactNativeFirebaseAppPackage());\n\n       return packages;\n     }\n\n     @Override\n     protected String getJSMainModuleName() {\n       return &quot;index&quot;;\n     }\n\n     @Override\n     protected boolean isNewArchEnabled() {\n       return BuildConfig.IS_NEW_ARCHITECTURE_ENABLED;\n     }\n\n     @Override\n     protected Boolean isHermesEnabled() {\n       return BuildConfig.IS_HERMES_ENABLED;\n     }\n\n \n });\n\n @Override\n public ReactNativeHost getReactNativeHost() {\n   return mReactNativeHost;\n }\n\n @Override\n public void onCreate() {\n   super.onCreate();\n   SoLoader.init(this, /* native exopackage */ false);\n   if (BuildConfig.IS_NEW_ARCHITECTURE_ENABLED) {\n     // If you opted-in for the New Architecture, we load the native entry point for this app.\n     DefaultNewArchitectureEntryPoint.load();\n   }\n   ReactNativeFlipper.initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\n   ApplicationLifecycleDispatcher.onApplicationCreate(this);\n }\n\n @Override\n public void onConfigurationChanged(@NonNull Configuration newConfig) {\n   super.onConfigurationChanged(newConfig);\n   ApplicationLifecycleDispatcher.onConfigurationChanged(this, newConfig);\n }\n}\n</code></pre>\n<p>My initial thoughts on this is that, importing</p>\n<p>import io.invertase.firebase.app.ReactNativeFirebaseAppPackage; and\nimport com.facebook.react.shell.MainReactPackage;</p>\n<p>are the cause of the issue since that is pretty much the only modification I  have done to this file. However if I delete these additions, EAS build fails while running gradle, and I cant download the updated version of the app. I have seen a lot of similar question on stack overflow, however I was not able to fix it with the normal 'just delete the repeated package' response since I don't even think I have a 'Vibration' module installed anywhere. Thanks in advance!</p>\n"},{"tags":["java","file","io","metadata"],"comments":[{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1379928325,"post_id":18955475,"comment_id":27994602,"body_markdown":"does this attribute mean that file `encdec.properties` is encryped?","body":"does this attribute mean that file <code>encdec.properties</code> is encryped?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1533292887,"post_id":18955475,"comment_id":90304179,"body_markdown":"It means whatever you want it to mean.","body":"It means whatever you want it to mean."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1680187805,"creation_date":1379928328,"answer_id":18955796,"question_id":18955475,"body_markdown":"If your file system supports user-defined (aka extended) attributes, then the way to set one would be like this:\r\n\r\n    Files.setAttribute(path, &quot;user:encryption used&quot;, &quot;testtesttest&quot;);\r\n\r\nAs the [javadoc][1] for `setAttribute` explains, the 2nd argument takes the form of an optional *view-name* and an attribute name.  In this case, you need to use the [`UserDefinedFileAttributeView`][2] whose view-name is &quot;user&quot;.\r\n\r\nNote that different file system types support different attribute views, and your file system *may not* support this one.  This particularly applies across different operating systems; e.g. you can&#39;t read a file&#39;s MacOS file attributes on a Linux system via these APIs.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#setAttribute%28java.nio.file.Path,%20java.lang.String,%20java.lang.Object,%20java.nio.file.LinkOption...%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/UserDefinedFileAttributeView.html","title":"add custom attribute or metadata to file java","body":"<p>If your file system supports user-defined (aka extended) attributes, then the way to set one would be like this:</p>\n<pre><code>Files.setAttribute(path, &quot;user:encryption used&quot;, &quot;testtesttest&quot;);\n</code></pre>\n<p>As the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#setAttribute%28java.nio.file.Path,%20java.lang.String,%20java.lang.Object,%20java.nio.file.LinkOption...%29\" rel=\"nofollow noreferrer\">javadoc</a> for <code>setAttribute</code> explains, the 2nd argument takes the form of an optional <em>view-name</em> and an attribute name.  In this case, you need to use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/UserDefinedFileAttributeView.html\" rel=\"nofollow noreferrer\"><code>UserDefinedFileAttributeView</code></a> whose view-name is &quot;user&quot;.</p>\n<p>Note that different file system types support different attribute views, and your file system <em>may not</em> support this one.  This particularly applies across different operating systems; e.g. you can't read a file's MacOS file attributes on a Linux system via these APIs.</p>\n"}],"owner":{"account_id":991301,"reputation":491,"user_id":1008531,"accept_rate":67,"display_name":"user1008531"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17539,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":18955796,"answer_count":1,"score":9,"last_activity_date":1680187805,"creation_date":1379927213,"question_id":18955475,"body_markdown":"I have files that need an extra attribute called &quot;encryption used&quot;. But this gives &quot;IllegalArgumentExeption&quot;. I know why it gives that error, &quot;encryption used&quot; isn&#39;t known as an attribute, but is there a way I can force it to be? Or add custom metadata to the file?\r\n\r\n     Path path = new File(&quot;/propertyfiles/encdec.properties&quot;).toPath();\r\n\r\n        try{\r\n            Files.setAttribute(path, &quot;encryption used&quot;, &quot;testtesttest&quot;);\r\n        }catch(IOException e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n        try{\r\n            System.out.println(Files.getAttribute(path, &quot;encryption used&quot;));\r\n        }catch(IOException e){\r\n            System.out.println(e.getMessage());\r\n        }","title":"add custom attribute or metadata to file java","body":"<p>I have files that need an extra attribute called \"encryption used\". But this gives \"IllegalArgumentExeption\". I know why it gives that error, \"encryption used\" isn't known as an attribute, but is there a way I can force it to be? Or add custom metadata to the file?</p>\n\n<pre><code> Path path = new File(\"/propertyfiles/encdec.properties\").toPath();\n\n    try{\n        Files.setAttribute(path, \"encryption used\", \"testtesttest\");\n    }catch(IOException e){\n        System.out.println(e.getMessage());\n    }\n    try{\n        System.out.println(Files.getAttribute(path, \"encryption used\"));\n    }catch(IOException e){\n        System.out.println(e.getMessage());\n    }\n</code></pre>\n"},{"tags":["java","json","jackson","gson","json-deserialization"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":2,"creation_date":1680127630,"post_id":75882543,"comment_id":133847181,"body_markdown":"Are these actually variations? Looks the same minus some missing data.","body":"Are these actually variations? Looks the same minus some missing data."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1680128614,"post_id":75882543,"comment_id":133847348,"body_markdown":"You have shown us two examples. You need to explain what the actual variation is.","body":"You have shown us two examples. You need to explain what the actual variation is."},{"owner":{"account_id":12000414,"reputation":27,"user_id":8780539,"display_name":"ASHOK KUMAR"},"score":0,"creation_date":1680129399,"post_id":75882543,"comment_id":133847456,"body_markdown":"@ChristopherSchneider -- Assume there are n keys (eg: &quot;confidentialDetails&quot; or &quot;addressDetails&quot;) &amp; out of those i can get any k of them with no fixed order . Also, the structure of the value for some keys can be same as it&#39;s in 2nd example .","body":"@ChristopherSchneider -- Assume there are n keys (eg: &quot;confidentialDetails&quot; or &quot;addressDetails&quot;) &amp; out of those i can get any k of them with no fixed order . Also, the structure of the value for some keys can be same as it&#39;s in 2nd example ."},{"owner":{"account_id":12000414,"reputation":27,"user_id":8780539,"display_name":"ASHOK KUMAR"},"score":0,"creation_date":1680129502,"post_id":75882543,"comment_id":133847481,"body_markdown":"@tgdavies , replied back to your comment above -- let me know if you still require some more info before you can help","body":"@tgdavies , replied back to your comment above -- let me know if you still require some more info before you can help"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1680130619,"post_id":75882543,"comment_id":133847675,"body_markdown":"Jackson will simply ignore missing values and set the relevant properties to null. Try it.","body":"Jackson will simply ignore missing values and set the relevant properties to null. Try it."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680172862,"post_id":75882543,"comment_id":133854612,"body_markdown":"Both Gson and Jackson shouldn&#39;t have any problems with the example as shown (it may need some config to declare that fields can be optional/absent). In the deserialized object, the absent fields will simply be null.","body":"Both Gson and Jackson shouldn&#39;t have any problems with the example as shown (it may need some config to declare that fields can be optional/absent). In the deserialized object, the absent fields will simply be null."}],"answers":[{"tags":[],"owner":{"account_id":28144514,"reputation":1,"user_id":21507028,"display_name":"lin_delisy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680138185,"creation_date":1680138185,"answer_id":75883333,"question_id":75882543,"body_markdown":"I don&#39;t know if I understand your question. However, you can try to define all possible JSON objects into one object and then serialize them using GSON or another JSON conversion tool.\r\nlike this:\r\n\r\n    public class Parent {\r\n        private AddressDetails addressDetails;\r\n        private PersonalDetails personalDetails;\r\n        private PersonalDetails confidentialDetails;\r\n    }\r\n    class AddressDetails{\r\n        private List&lt;HomeAddresses&gt; homeAddresses;\r\n        private List&lt;CurrentAddress&gt; currentAddresses;\r\n    }\r\n    class Addresses{\r\n        private String houseNo;\r\n        private String city;\r\n    }\r\n    class BirthDetails{\r\n        private String birthDetails;\r\n        private String birthMonth;\r\n    }\r\n    class HomeAddresses extends Addresses{\r\n    }\r\n    class CurrentAddress extends Addresses{\r\n    }\r\n    class PersonalDetails extends BirthDetails{\r\n    }\r\n\r\nOr if there are too many types to define, you can simply convert the JSON string to a JSON object for use\r\nlike this:\r\n\r\n    String jsonStr = &quot;{\\n&quot; +\r\n                &quot;  \\&quot;addressDetails\\&quot;: {\\n&quot; +\r\n                &quot;    \\&quot;homeAddresses\\&quot;: [\\n&quot; +\r\n                &quot;      {\\n&quot; +\r\n                &quot;        \\&quot;houseNo\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\r\n                &quot;        \\&quot;city\\&quot;: \\&quot;2\\&quot;\\n&quot; +\r\n                &quot;      }\\n&quot; +\r\n                &quot;    ],\\n&quot; +\r\n                &quot;    \\&quot;currentAddress\\&quot;: {\\n&quot; +\r\n                &quot;      \\&quot;houseNo\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;city\\&quot;: \\&quot;2\\&quot;\\n&quot; +\r\n                &quot;    }\\n&quot; +\r\n                &quot;  },\\n&quot; +\r\n                &quot;  \\&quot;personalDetails\\&quot;: {\\n&quot; +\r\n                &quot;    \\&quot;birthDetails\\&quot;: {\\n&quot; +\r\n                &quot;      \\&quot;birthPlace\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;birthMonth\\&quot;: \\&quot;2\\&quot;\\n&quot; +\r\n                &quot;    }\\n&quot; +\r\n                &quot;  },\\n&quot; +\r\n                &quot;  \\&quot;confidentialDetails\\&quot;: {\\n&quot; +\r\n                &quot;    \\&quot;birthDetails\\&quot;: {\\n&quot; +\r\n                &quot;      \\&quot;birthPlace\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;birthMonth\\&quot;: \\&quot;2\\&quot;\\n&quot; +\r\n                &quot;    }\\n&quot; +\r\n                &quot;  },\\n&quot; +\r\n                &quot;  \\&quot;bankingDetails\\&quot;: {\\n&quot; +\r\n                &quot;    \\&quot;bankName\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;bankAccountNo\\&quot;: 2\\n&quot; +\r\n                &quot;  }\\n&quot; +\r\n                &quot;}&quot;;\r\n        JSONObject jsonObject = JSONUtil.parseObj(jsonStr);\r\n        JSONObject addressDetails = jsonObject.get(&quot;addressDetails&quot;, JSONObject.class);\r\n        JSONArray homeAddresses = addressDetails.get(&quot;homeAddresses&quot;, JSONArray.class);\r\n        JSONObject object = homeAddresses.get(0, JSONObject.class);\r\n        System.out.println(object.get(&quot;houseNo&quot;));\r\n        System.out.println(object.get(&quot;city&quot;));\r\n\r\n","title":"Deserialise a dynamic JSON into a java object","body":"<p>I don't know if I understand your question. However, you can try to define all possible JSON objects into one object and then serialize them using GSON or another JSON conversion tool.\nlike this:</p>\n<pre><code>public class Parent {\n    private AddressDetails addressDetails;\n    private PersonalDetails personalDetails;\n    private PersonalDetails confidentialDetails;\n}\nclass AddressDetails{\n    private List&lt;HomeAddresses&gt; homeAddresses;\n    private List&lt;CurrentAddress&gt; currentAddresses;\n}\nclass Addresses{\n    private String houseNo;\n    private String city;\n}\nclass BirthDetails{\n    private String birthDetails;\n    private String birthMonth;\n}\nclass HomeAddresses extends Addresses{\n}\nclass CurrentAddress extends Addresses{\n}\nclass PersonalDetails extends BirthDetails{\n}\n</code></pre>\n<p>Or if there are too many types to define, you can simply convert the JSON string to a JSON object for use\nlike this:</p>\n<pre><code>String jsonStr = &quot;{\\n&quot; +\n            &quot;  \\&quot;addressDetails\\&quot;: {\\n&quot; +\n            &quot;    \\&quot;homeAddresses\\&quot;: [\\n&quot; +\n            &quot;      {\\n&quot; +\n            &quot;        \\&quot;houseNo\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\n            &quot;        \\&quot;city\\&quot;: \\&quot;2\\&quot;\\n&quot; +\n            &quot;      }\\n&quot; +\n            &quot;    ],\\n&quot; +\n            &quot;    \\&quot;currentAddress\\&quot;: {\\n&quot; +\n            &quot;      \\&quot;houseNo\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\n            &quot;      \\&quot;city\\&quot;: \\&quot;2\\&quot;\\n&quot; +\n            &quot;    }\\n&quot; +\n            &quot;  },\\n&quot; +\n            &quot;  \\&quot;personalDetails\\&quot;: {\\n&quot; +\n            &quot;    \\&quot;birthDetails\\&quot;: {\\n&quot; +\n            &quot;      \\&quot;birthPlace\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\n            &quot;      \\&quot;birthMonth\\&quot;: \\&quot;2\\&quot;\\n&quot; +\n            &quot;    }\\n&quot; +\n            &quot;  },\\n&quot; +\n            &quot;  \\&quot;confidentialDetails\\&quot;: {\\n&quot; +\n            &quot;    \\&quot;birthDetails\\&quot;: {\\n&quot; +\n            &quot;      \\&quot;birthPlace\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\n            &quot;      \\&quot;birthMonth\\&quot;: \\&quot;2\\&quot;\\n&quot; +\n            &quot;    }\\n&quot; +\n            &quot;  },\\n&quot; +\n            &quot;  \\&quot;bankingDetails\\&quot;: {\\n&quot; +\n            &quot;    \\&quot;bankName\\&quot;: \\&quot;1\\&quot;,\\n&quot; +\n            &quot;    \\&quot;bankAccountNo\\&quot;: 2\\n&quot; +\n            &quot;  }\\n&quot; +\n            &quot;}&quot;;\n    JSONObject jsonObject = JSONUtil.parseObj(jsonStr);\n    JSONObject addressDetails = jsonObject.get(&quot;addressDetails&quot;, JSONObject.class);\n    JSONArray homeAddresses = addressDetails.get(&quot;homeAddresses&quot;, JSONArray.class);\n    JSONObject object = homeAddresses.get(0, JSONObject.class);\n    System.out.println(object.get(&quot;houseNo&quot;));\n    System.out.println(object.get(&quot;city&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680145961,"creation_date":1680145120,"answer_id":75883759,"question_id":75882543,"body_markdown":"It is possible to do that with Jackson library. Just read the JSON and remove data with `addressDetails` and `bankingDetails` keys.\r\n```java\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.databind.node.ObjectNode;\r\nimport java.io.IOException;\r\n\r\npublic class JavaApplication {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n\r\n        ObjectNode jsonData = (ObjectNode) mapper.readTree(&quot;{\\&quot;addressDetails\\&quot;:{\\&quot;homeAddresses\\&quot;:[{\\&quot;houseNo\\&quot;:\\&quot;1\\&quot;,\\&quot;city\\&quot;:\\&quot;2\\&quot;}],\\&quot;currentAddress\\&quot;:{\\&quot;houseNo\\&quot;:\\&quot;1\\&quot;,\\&quot;city\\&quot;:\\&quot;2\\&quot;}},\\&quot;personalDetails\\&quot;:{\\&quot;birthDetails\\&quot;:{\\&quot;birthPlace\\&quot;:\\&quot;1\\&quot;,\\&quot;birthMonth\\&quot;:\\&quot;2\\&quot;}},\\&quot;confidentialDetails\\&quot;:{\\&quot;birthDetails\\&quot;:{\\&quot;birthPlace\\&quot;:\\&quot;1\\&quot;,\\&quot;birthMonth\\&quot;:\\&quot;2\\&quot;}},\\&quot;bankingDetails\\&quot;:{\\&quot;bankName\\&quot;:\\&quot;1\\&quot;,\\&quot;bankAccountNo\\&quot;:2}}&quot;);\r\n        jsonData.remove(&quot;addressDetails&quot;);\r\n        jsonData.remove(&quot;bankingDetails&quot;);\r\n        System.out.println(mapper.writeValueAsString(jsonData));\r\n    }\r\n}\r\n```\r\nThe output will be:\r\n```json\r\n{\r\n  &quot;personalDetails&quot; : {\r\n    &quot;birthDetails&quot; : {\r\n      &quot;birthPlace&quot; : &quot;1&quot;,\r\n      &quot;birthMonth&quot; : &quot;2&quot;\r\n    }\r\n  },\r\n  &quot;confidentialDetails&quot; : {\r\n    &quot;birthDetails&quot; : {\r\n      &quot;birthPlace&quot; : &quot;1&quot;,\r\n      &quot;birthMonth&quot; : &quot;2&quot;\r\n    }\r\n  }\r\n}\r\n```","title":"Deserialise a dynamic JSON into a java object","body":"<p>It is possible to do that with Jackson library. Just read the JSON and remove data with <code>addressDetails</code> and <code>bankingDetails</code> keys.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport java.io.IOException;\n\npublic class JavaApplication {\n\n    public static void main(String[] args) throws IOException {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.enable(SerializationFeature.INDENT_OUTPUT);\n\n        ObjectNode jsonData = (ObjectNode) mapper.readTree(&quot;{\\&quot;addressDetails\\&quot;:{\\&quot;homeAddresses\\&quot;:[{\\&quot;houseNo\\&quot;:\\&quot;1\\&quot;,\\&quot;city\\&quot;:\\&quot;2\\&quot;}],\\&quot;currentAddress\\&quot;:{\\&quot;houseNo\\&quot;:\\&quot;1\\&quot;,\\&quot;city\\&quot;:\\&quot;2\\&quot;}},\\&quot;personalDetails\\&quot;:{\\&quot;birthDetails\\&quot;:{\\&quot;birthPlace\\&quot;:\\&quot;1\\&quot;,\\&quot;birthMonth\\&quot;:\\&quot;2\\&quot;}},\\&quot;confidentialDetails\\&quot;:{\\&quot;birthDetails\\&quot;:{\\&quot;birthPlace\\&quot;:\\&quot;1\\&quot;,\\&quot;birthMonth\\&quot;:\\&quot;2\\&quot;}},\\&quot;bankingDetails\\&quot;:{\\&quot;bankName\\&quot;:\\&quot;1\\&quot;,\\&quot;bankAccountNo\\&quot;:2}}&quot;);\n        jsonData.remove(&quot;addressDetails&quot;);\n        jsonData.remove(&quot;bankingDetails&quot;);\n        System.out.println(mapper.writeValueAsString(jsonData));\n    }\n}\n</code></pre>\n<p>The output will be:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;personalDetails&quot; : {\n    &quot;birthDetails&quot; : {\n      &quot;birthPlace&quot; : &quot;1&quot;,\n      &quot;birthMonth&quot; : &quot;2&quot;\n    }\n  },\n  &quot;confidentialDetails&quot; : {\n    &quot;birthDetails&quot; : {\n      &quot;birthPlace&quot; : &quot;1&quot;,\n      &quot;birthMonth&quot; : &quot;2&quot;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":12000414,"reputation":27,"user_id":8780539,"display_name":"ASHOK KUMAR"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680187657,"creation_date":1680127442,"question_id":75882543,"body_markdown":"Is it possible to somehow convert a dynamic JSON object (No fixed schema) into a Java object?\r\n\r\nFor example, for first time, I can get the following JSON object at runtime:\r\n\r\n```json\r\n{\r\n  &quot;addressDetails&quot;: {\r\n    &quot;homeAddresses&quot;: [\r\n      {\r\n        &quot;houseNo&quot;: &quot;1&quot;,\r\n        &quot;city&quot;: &quot;2&quot;\r\n      }\r\n    ],\r\n    &quot;currentAddress&quot;: {\r\n      &quot;houseNo&quot;: &quot;1&quot;,\r\n      &quot;city&quot;: &quot;2&quot;\r\n    }\r\n  },\r\n  &quot;personalDetails&quot;: {\r\n    &quot;birthDetails&quot;: {\r\n      &quot;birthPlace&quot;: &quot;1&quot;,\r\n      &quot;birthMonth&quot;: &quot;2&quot;\r\n    }\r\n  },\r\n  &quot;confidentialDetails&quot;: {\r\n    &quot;birthDetails&quot;: {\r\n      &quot;birthPlace&quot;: &quot;1&quot;,\r\n      &quot;birthMonth&quot;: &quot;2&quot;\r\n    }\r\n  },\r\n  &quot;bankingDetails&quot;: {\r\n    &quot;bankName&quot;: &quot;1&quot;,\r\n    &quot;bankAccountNo&quot;: 2\r\n  }\r\n}\r\n```\r\n\r\nThe next time, maybe with something like this:\r\n\r\n```json\r\n{\r\n  &quot;confidentialDetails&quot;: {\r\n    &quot;birthDetails&quot;: {\r\n      &quot;birthPlace&quot;: &quot;1&quot;,\r\n      &quot;birthMonth&quot;: &quot;2&quot;\r\n    }\r\n  },\r\n  &quot;personalDetails&quot;: {\r\n    &quot;birthDetails&quot;: {\r\n      &quot;birthPlace&quot;: &quot;1&quot;,\r\n      &quot;birthMonth&quot;: &quot;2&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nHow can I handle all these variations? Is it possible with Jackson/Gson or some other library?\r\n\r\nI expect to find a solution which is very generic and can handle the different variations in JSON object gracefully.","title":"Deserialise a dynamic JSON into a java object","body":"<p>Is it possible to somehow convert a dynamic JSON object (No fixed schema) into a Java object?</p>\n<p>For example, for first time, I can get the following JSON object at runtime:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;addressDetails&quot;: {\n    &quot;homeAddresses&quot;: [\n      {\n        &quot;houseNo&quot;: &quot;1&quot;,\n        &quot;city&quot;: &quot;2&quot;\n      }\n    ],\n    &quot;currentAddress&quot;: {\n      &quot;houseNo&quot;: &quot;1&quot;,\n      &quot;city&quot;: &quot;2&quot;\n    }\n  },\n  &quot;personalDetails&quot;: {\n    &quot;birthDetails&quot;: {\n      &quot;birthPlace&quot;: &quot;1&quot;,\n      &quot;birthMonth&quot;: &quot;2&quot;\n    }\n  },\n  &quot;confidentialDetails&quot;: {\n    &quot;birthDetails&quot;: {\n      &quot;birthPlace&quot;: &quot;1&quot;,\n      &quot;birthMonth&quot;: &quot;2&quot;\n    }\n  },\n  &quot;bankingDetails&quot;: {\n    &quot;bankName&quot;: &quot;1&quot;,\n    &quot;bankAccountNo&quot;: 2\n  }\n}\n</code></pre>\n<p>The next time, maybe with something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;confidentialDetails&quot;: {\n    &quot;birthDetails&quot;: {\n      &quot;birthPlace&quot;: &quot;1&quot;,\n      &quot;birthMonth&quot;: &quot;2&quot;\n    }\n  },\n  &quot;personalDetails&quot;: {\n    &quot;birthDetails&quot;: {\n      &quot;birthPlace&quot;: &quot;1&quot;,\n      &quot;birthMonth&quot;: &quot;2&quot;\n    }\n  }\n}\n</code></pre>\n<p>How can I handle all these variations? Is it possible with Jackson/Gson or some other library?</p>\n<p>I expect to find a solution which is very generic and can handle the different variations in JSON object gracefully.</p>\n"},{"tags":["java","kotlin","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":5213950,"reputation":96,"user_id":4169495,"display_name":"marhewa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680187480,"creation_date":1680187480,"answer_id":75889671,"question_id":75725266,"body_markdown":"You can modify your class to accept `BadPingIdentifier` in the constructor, like this:\r\n\r\n```kotlin\r\nclass BadPingsMarker(private val pingIdentifier: BadPingIdentifier) : Transformer&lt;ID, Ping, KeyValue&lt;ID, Ping&gt;&gt; {\r\n    \r\n}\r\n```\r\n\r\nThen remove `badPingIdentifier` parameter from `init` method and remove `val pingIdentifier: BadPingIdentifier` from class field declarations. Once you do that, your commented out code in `identifyBadPings` will work.\r\n","title":"How to pass parameter to a kafka processor","body":"<p>You can modify your class to accept <code>BadPingIdentifier</code> in the constructor, like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class BadPingsMarker(private val pingIdentifier: BadPingIdentifier) : Transformer&lt;ID, Ping, KeyValue&lt;ID, Ping&gt;&gt; {\n    \n}\n</code></pre>\n<p>Then remove <code>badPingIdentifier</code> parameter from <code>init</code> method and remove <code>val pingIdentifier: BadPingIdentifier</code> from class field declarations. Once you do that, your commented out code in <code>identifyBadPings</code> will work.</p>\n"}],"owner":{"account_id":8199410,"reputation":2119,"user_id":6171195,"accept_rate":96,"display_name":"Christos Hadjinikolis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75889671,"answer_count":1,"score":0,"last_activity_date":1680187480,"creation_date":1678729680,"question_id":75725266,"body_markdown":"Is there a way to pass a parameter to a Kafka processor? \r\n\r\nE.g. Suppose I have something like: \r\n\r\n```kotlin\r\n    private fun identifyBadPings(\r\npingStream: KStream&lt;ID, Ping&gt;,\r\n        mySignletonBadPingIdentifier: BadPingIdentifier\r\n    ): KStream&lt;ID, Ping&gt; {\r\n\r\n        return pingStream.transform(TransformerSupplier { BadPingsMarker() }, MY_STATE_STORE)\r\n        // Could I somehow pass `mySignletonBadPingIdentifier` here? Like: \r\n        // return pingStream.transform(TransformerSupplier { BadPingsMarker(mySignletonBadPingIdentifier) }, MY_STATE_STORE)\r\n    }\r\n```\r\nwhere my transformer is something like this: \r\n\r\n```kotlin\r\nclass BadPingsMarker : Transformer&lt;ID, Ping, KeyValue&lt;ID, Ping&gt;&gt; {\r\n    var state: KeyValueStore&lt;String, Tuple&lt;String, String&gt;&gt;? = null\r\n    val logger: Logger = LogManager.getLogger(BadPingsMarker::class.java)!!\r\n    val pingIdentifier: BadPingIdentifier\r\n\r\n    override fun init(context: ProcessorContext, badPingIdentifier: BadPingIdentifier) {\r\n        state = context.getStateStore(MY_STATE_STORE) as KeyValueStore&lt;String, Tuple&lt;String, String&gt;&gt;\r\n        pingIdentifier = badPingIdentifier\r\n    }\r\n\r\n    override fun transform(key: ID, value: Ping): KeyValue&lt;ID, Ping&gt; {\r\n        val somevalue = value.somevalue\r\n        val state_checker = state!![MY_STATE_STORE_A]\r\n\r\n        // .. IMPLEMENT MARKING LOGIC HERE USING pingIdentifier\r\n        return KeyValue(key, value)\r\n    }\r\n\r\n    override fun close() {}\r\n}\r\n```","title":"How to pass parameter to a kafka processor","body":"<p>Is there a way to pass a parameter to a Kafka processor?</p>\n<p>E.g. Suppose I have something like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    private fun identifyBadPings(\npingStream: KStream&lt;ID, Ping&gt;,\n        mySignletonBadPingIdentifier: BadPingIdentifier\n    ): KStream&lt;ID, Ping&gt; {\n\n        return pingStream.transform(TransformerSupplier { BadPingsMarker() }, MY_STATE_STORE)\n        // Could I somehow pass `mySignletonBadPingIdentifier` here? Like: \n        // return pingStream.transform(TransformerSupplier { BadPingsMarker(mySignletonBadPingIdentifier) }, MY_STATE_STORE)\n    }\n</code></pre>\n<p>where my transformer is something like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class BadPingsMarker : Transformer&lt;ID, Ping, KeyValue&lt;ID, Ping&gt;&gt; {\n    var state: KeyValueStore&lt;String, Tuple&lt;String, String&gt;&gt;? = null\n    val logger: Logger = LogManager.getLogger(BadPingsMarker::class.java)!!\n    val pingIdentifier: BadPingIdentifier\n\n    override fun init(context: ProcessorContext, badPingIdentifier: BadPingIdentifier) {\n        state = context.getStateStore(MY_STATE_STORE) as KeyValueStore&lt;String, Tuple&lt;String, String&gt;&gt;\n        pingIdentifier = badPingIdentifier\n    }\n\n    override fun transform(key: ID, value: Ping): KeyValue&lt;ID, Ping&gt; {\n        val somevalue = value.somevalue\n        val state_checker = state!![MY_STATE_STORE_A]\n\n        // .. IMPLEMENT MARKING LOGIC HERE USING pingIdentifier\n        return KeyValue(key, value)\n    }\n\n    override fun close() {}\n}\n</code></pre>\n"},{"tags":["java","spring","post","webhooks","adyen"],"comments":[{"owner":{"account_id":12495309,"reputation":11902,"user_id":9095551,"display_name":"Beppe C"},"score":0,"creation_date":1680187895,"post_id":75889629,"comment_id":133858883,"body_markdown":"Why do you consume `MediaType.APPLICATION_FORM_URLENCODED_VALUE`? The webhook payload is JSON","body":"Why do you consume <code>MediaType.APPLICATION_FORM_URLENCODED_VALUE</code>? The webhook payload is JSON"},{"owner":{"account_id":28169595,"reputation":1,"user_id":21528339,"display_name":"Matteo Sperti"},"score":0,"creation_date":1680250126,"post_id":75889629,"comment_id":133869579,"body_markdown":"because i got error &quot;Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported when they call me","body":"because i got error &quot;Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported when they call me"},{"owner":{"account_id":12495309,"reputation":11902,"user_id":9095551,"display_name":"Beppe C"},"score":0,"creation_date":1680250663,"post_id":75889629,"comment_id":133869693,"body_markdown":"try to remove `consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})` and add `@RequestBody` to the signature in your second example","body":"try to remove <code>consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})</code> and add <code>@RequestBody</code> to the signature in your second example"},{"owner":{"account_id":28169595,"reputation":1,"user_id":21528339,"display_name":"Matteo Sperti"},"score":0,"creation_date":1680259770,"post_id":75889629,"comment_id":133871883,"body_markdown":"it doesn&#39;t work","body":"it doesn&#39;t work"},{"owner":{"account_id":12495309,"reputation":11902,"user_id":9095551,"display_name":"Beppe C"},"score":0,"creation_date":1680264508,"post_id":75889629,"comment_id":133872935,"body_markdown":"Same error? Which version of the Java library are you using? You can also take a look at the webhook in the Java Sample app https://github.com/adyen-examples/adyen-java-spring-online-payments/blob/main/checkout-example/src/main/java/com/adyen/checkout/api/WebhookResource.java","body":"Same error? Which version of the Java library are you using? You can also take a look at the webhook in the Java Sample app <a href=\"https://github.com/adyen-examples/adyen-java-spring-online-payments/blob/main/checkout-example/src/main/java/com/adyen/checkout/api/WebhookResource.java\" rel=\"nofollow noreferrer\">github.com/adyen-examples/adyen-java-spring-online-payments/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":28169595,"reputation":1,"user_id":21528339,"display_name":"Matteo Sperti"},"score":0,"creation_date":1680267829,"post_id":75889629,"comment_id":133873829,"body_markdown":"i tried same of that example and now i have a different error: Could not read JSON: Problem deserializing &#39;setterless&#39; property &#39;notificationItems&#39;: get method returned null\\n at [Source: (org.apache.catalina.connector.CoyoteInputStream); line: 3, column: 24] (through reference chain: com.adyen.model.notification.NotificationRequest[\\&quot;notificationItems\\&quot;]); nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Problem deserializing &#39;setterless&#39; property &#39;notificationItems&#39;: get method returned null\\n at [Source: (org.apache.catalina.connector.CoyoteInputStream","body":"i tried same of that example and now i have a different error: Could not read JSON: Problem deserializing &#39;setterless&#39; property &#39;notificationItems&#39;: get method returned null\\n at [Source: (org.apache.catalina.connector.CoyoteInputStream); line: 3, column: 24] (through reference chain: com.adyen.model.notification.NotificationRequest[\\&quot;notificat&zwnj;&#8203;ionItems\\&quot;]); nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionExceptio&zwnj;&#8203;n: Problem deserializing &#39;setterless&#39; property &#39;notificationItems&#39;: get method returned null\\n at [Source: (org.apache.catalina.connector.CoyoteInputStream"},{"owner":{"account_id":28169595,"reputation":1,"user_id":21528339,"display_name":"Matteo Sperti"},"score":0,"creation_date":1680269049,"post_id":75889629,"comment_id":133874139,"body_markdown":"same error again&quot;Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported","body":"same error again&quot;Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported"},{"owner":{"account_id":12495309,"reputation":11902,"user_id":9095551,"display_name":"Beppe C"},"score":1,"creation_date":1680271301,"post_id":75889629,"comment_id":133874757,"body_markdown":"ok, I think you use Adyen Java v19.0.0 (just released) which is not compatible with Jackson (used by Spring). Use v18.1.3 instead","body":"ok, I think you use Adyen Java v19.0.0 (just released) which is not compatible with Jackson (used by Spring). Use v18.1.3 instead"}],"owner":{"account_id":28169595,"reputation":1,"user_id":21528339,"display_name":"Matteo Sperti"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680187228,"creation_date":1680187228,"question_id":75889629,"body_markdown":"Hello i am trying to implements adyen webhook, but i recived error because i can&#39;t mapping they&#39;re request into an object.\r\n\r\n\r\nHow can i recive a call &#39;application/x-www-form-urlencoded and mapping into an object with java spring?\r\n\r\n\r\n\r\n\r\n```\r\nRequestMapping(value = &quot;/webhooks/notifications&quot;, method = RequestMethod.POST, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\r\n\tpublic Response webhooks(Map&lt;String, Object&gt;  notificationRequest) throws Exception{\r\n\t\ttry {\r\n\t\t\ttry {\r\n\t\t\t//notificationRequest.get(notificationRequest);\r\n\t\t\t        \r\n\t\t\t        ObjectMapper mapper = new ObjectMapper();\r\n\t\t\t        NotificationRequestDTO notification = mapper.convertValue(notificationRequest, NotificationRequestDTO.class);\r\n\t\t\t        adyenService.webhooks(notification);\r\n\t\t\t\t \r\n\t\t\t\treturn Response.ok(&quot;accepted&quot;).build();\r\n\t\t\t} catch (Exception ex) {\r\n\t\t\t\tlog.error(&quot;Errore durante la richiesta di webhooks  adyen&quot;, ex);\r\n\t\t\t\treturn Response.serverError(ex.getMessage()).build();\r\n\t\t\t}\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlog.error(&quot;Error purchase: {}&quot;, new Object[] { ex.getMessage() });\r\n\t\t\treturn Response.serverError(ex.getMessage()).build();\r\n\t\t}\r\n\t}```\r\n\r\ni have tried multiple solution with @RequestBody or @RequestParam or without annotaion, but bothing works, i can recive data only using Map but then objectmapper failed to transform into the object we need.\r\n\r\nanother example is \r\n\r\n```\r\n\t@RequestMapping(value = &quot;/webhooks/notifications&quot;, method = RequestMethod.POST, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\r\n\tpublic Response webhooks( NotificationRequestDTO notificationRequest) throws Exception{\r\n\t\ttry {\r\n\t\t\ttry {\r\n\t\t\t//notificationRequest.get(notificationRequest);\r\n\t\t\t        \r\n\t\t\t        ObjectMapper mapper = new ObjectMapper();\r\n\t\t\t        NotificationRequestDTO notification = mapper.convertValue(notificationRequest, NotificationRequestDTO.class);\r\n\t\t\t        adyenService.webhooks(notification);\r\n\t\t\t\t \r\n\t\t\t\treturn Response.ok(&quot;accepted&quot;).build();\r\n\t\t\t} catch (Exception ex) {\r\n\t\t\t\tlog.error(&quot;Errore durante la richiesta di webhooks  adyen&quot;, ex);\r\n\t\t\t\treturn Response.serverError(ex.getMessage()).build();\r\n\t\t\t}\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlog.error(&quot;Error purchase: {}&quot;, new Object[] { ex.getMessage() });\r\n\t\t\treturn Response.serverError(ex.getMessage()).build();\r\n\t\t}\r\n\t}\r\n\t\r\n```\r\n\r\nthe error is {&quot;code&quot;:&quot;500&quot;,&quot;entity&quot;:&quot;Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported&quot;}","title":"Error integreting webhook adyen API in java spring backend, Content type &#39;application/x-www-form-urlencoded;charset=UTF-8&#39; not supported","body":"<p>Hello i am trying to implements adyen webhook, but i recived error because i can't mapping they're request into an object.</p>\n<p>How can i recive a call 'application/x-www-form-urlencoded and mapping into an object with java spring?</p>\n<pre><code>RequestMapping(value = &quot;/webhooks/notifications&quot;, method = RequestMethod.POST, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\n    public Response webhooks(Map&lt;String, Object&gt;  notificationRequest) throws Exception{\n        try {\n            try {\n            //notificationRequest.get(notificationRequest);\n                    \n                    ObjectMapper mapper = new ObjectMapper();\n                    NotificationRequestDTO notification = mapper.convertValue(notificationRequest, NotificationRequestDTO.class);\n                    adyenService.webhooks(notification);\n                 \n                return Response.ok(&quot;accepted&quot;).build();\n            } catch (Exception ex) {\n                log.error(&quot;Errore durante la richiesta di webhooks  adyen&quot;, ex);\n                return Response.serverError(ex.getMessage()).build();\n            }\n        } catch (Exception ex) {\n            log.error(&quot;Error purchase: {}&quot;, new Object[] { ex.getMessage() });\n            return Response.serverError(ex.getMessage()).build();\n        }\n    }```\n\ni have tried multiple solution with @RequestBody or @RequestParam or without annotaion, but bothing works, i can recive data only using Map but then objectmapper failed to transform into the object we need.\n\nanother example is \n\n</code></pre>\n<pre><code>@RequestMapping(value = &quot;/webhooks/notifications&quot;, method = RequestMethod.POST, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\npublic Response webhooks( NotificationRequestDTO notificationRequest) throws Exception{\n    try {\n        try {\n        //notificationRequest.get(notificationRequest);\n                \n                ObjectMapper mapper = new ObjectMapper();\n                NotificationRequestDTO notification = mapper.convertValue(notificationRequest, NotificationRequestDTO.class);\n                adyenService.webhooks(notification);\n             \n            return Response.ok(&quot;accepted&quot;).build();\n        } catch (Exception ex) {\n            log.error(&quot;Errore durante la richiesta di webhooks  adyen&quot;, ex);\n            return Response.serverError(ex.getMessage()).build();\n        }\n    } catch (Exception ex) {\n        log.error(&quot;Error purchase: {}&quot;, new Object[] { ex.getMessage() });\n        return Response.serverError(ex.getMessage()).build();\n    }\n}\n</code></pre>\n<pre><code>\nthe error is {&quot;code&quot;:&quot;500&quot;,&quot;entity&quot;:&quot;Content type 'application/x-www-form-urlencoded;charset=UTF-8' not supported&quot;}\n</code></pre>\n"},{"tags":["java","java-11","http2"],"owner":{"account_id":1346868,"reputation":2157,"user_id":1287439,"accept_rate":84,"display_name":"sunjinbo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680187063,"creation_date":1680187063,"question_id":75889588,"body_markdown":"JDK 11 redesigned HTTP API for supporting HTTP/2 protocol and other features, now we can use HttpClient API to sending Http/2 request. As far as I know HTTP/2 support Multiplexing tech, meanings that sending multiple HTTP requests between the client and server allows the usage of a single connection channel per client. So if my program create 2 HttpClient instances and each send a HTTP request that they all are the same HTTP host, is there have only one real connection channel between client and server?","title":"How many connection channel when client sending multiple and same HTTP request to server in HTTP/2?","body":"<p>JDK 11 redesigned HTTP API for supporting HTTP/2 protocol and other features, now we can use HttpClient API to sending Http/2 request. As far as I know HTTP/2 support Multiplexing tech, meanings that sending multiple HTTP requests between the client and server allows the usage of a single connection channel per client. So if my program create 2 HttpClient instances and each send a HTTP request that they all are the same HTTP host, is there have only one real connection channel between client and server?</p>\n"},{"tags":["java","android","sql","database","sqlite"],"comments":[{"owner":{"account_id":7290156,"reputation":525,"user_id":5556887,"display_name":"bouletta"},"score":0,"creation_date":1489436936,"post_id":42771654,"comment_id":72661066,"body_markdown":"You are probably going to want a db.commit() before closing or whatever the equivalent is for java/android","body":"You are probably going to want a db.commit() before closing or whatever the equivalent is for java/android"},{"owner":{"account_id":9928136,"reputation":260,"user_id":7349012,"accept_rate":45,"display_name":"dranreb dino"},"score":0,"creation_date":1489464466,"post_id":42771654,"comment_id":72669862,"body_markdown":"have you checked your xml? double check the name of your button or editTexts on your XML file.","body":"have you checked your xml? double check the name of your button or editTexts on your XML file."},{"owner":{"display_name":"user7624275"},"score":0,"creation_date":1489464745,"post_id":42771654,"comment_id":72669939,"body_markdown":"@dranrebdino  i did. Data really just isnt inserted. also, the table is not created. I dont understand why. Im thinking maybe im not connected to the cloud database but it isnt. Its been 14 hours working on this problem","body":"@dranrebdino  i did. Data really just isnt inserted. also, the table is not created. I dont understand why. Im thinking maybe im not connected to the cloud database but it isnt. Its been 14 hours working on this problem"}],"answers":[{"tags":[],"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Cătălin Cucer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680186853,"creation_date":1680186853,"answer_id":75889549,"question_id":42771654,"body_markdown":"The insertion of data into `database` is working fine.\r\n\r\nThe issue is because it&#39;s not specified how the data is gonna be displayed or received from the `database`. You need to query `database` to get the inserted data.\r\n\r\n---\r\n\r\nUse query method of `SQLiteDatabase` class. This worked for me:\r\n\r\n    Cursor cursor = db.query(DBAdapter.DATABASE_TABLE, null, null, null, null, null, null);\r\n    \r\n    if (cursor.moveToFirst()) {\r\n        do {\r\n            // retrieve data from cursor\r\n            String fname = cursor.getString(cursor.getColumnIndex(DBAdapter.KEY_FNAME));\r\n            String lname = cursor.getString(cursor.getColumnIndex(DBAdapter.KEY_LNAME));\r\n            // ...\r\n            \r\n            // do something with the retrieved data\r\n        } while (cursor.moveToNext());\r\n    }\r\n\r\nThe query is called on `db` obj and returns the `Cursor`. It contains the data.\r\n\r\nThe `moveToFirst` is called the `Cursor` obj.\r\n\r\nThe `do-while` loop is used to iterate over all rows in the obj, `getString` receiving the data from the column.\r\n\r\n\r\nCustomise the query to retrieve specific data using `selection`, `selectionArgs`, `groupBy`, `having`, `orderBy` but also limit parameters.\r\n\r\n---\r\n\r\nIf the errors still persist when you&#39;re inserting data to the `database`, add error handling to the insertion code to check if data is corectly inserted or if there are any exceptions during the process.\r\n\r\n##### This will help you identify any issue with `database` insertion.","title":"Why can&#39;t i see the inserted data from user input?","body":"<p>The insertion of data into <code>database</code> is working fine.</p>\n<p>The issue is because it's not specified how the data is gonna be displayed or received from the <code>database</code>. You need to query <code>database</code> to get the inserted data.</p>\n<hr />\n<p>Use query method of <code>SQLiteDatabase</code> class. This worked for me:</p>\n<pre><code>Cursor cursor = db.query(DBAdapter.DATABASE_TABLE, null, null, null, null, null, null);\n\nif (cursor.moveToFirst()) {\n    do {\n        // retrieve data from cursor\n        String fname = cursor.getString(cursor.getColumnIndex(DBAdapter.KEY_FNAME));\n        String lname = cursor.getString(cursor.getColumnIndex(DBAdapter.KEY_LNAME));\n        // ...\n        \n        // do something with the retrieved data\n    } while (cursor.moveToNext());\n}\n</code></pre>\n<p>The query is called on <code>db</code> obj and returns the <code>Cursor</code>. It contains the data.</p>\n<p>The <code>moveToFirst</code> is called the <code>Cursor</code> obj.</p>\n<p>The <code>do-while</code> loop is used to iterate over all rows in the obj, <code>getString</code> receiving the data from the column.</p>\n<p>Customise the query to retrieve specific data using <code>selection</code>, <code>selectionArgs</code>, <code>groupBy</code>, <code>having</code>, <code>orderBy</code> but also limit parameters.</p>\n<hr />\n<p>If the errors still persist when you're inserting data to the <code>database</code>, add error handling to the insertion code to check if data is corectly inserted or if there are any exceptions during the process.</p>\n<h5>This will help you identify any issue with <code>database</code> insertion.</h5>\n"}],"owner":{"display_name":"user7624275"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680186853,"creation_date":1489432401,"question_id":42771654,"body_markdown":"When the user presses Register button, the details he input will be saved into the database but it doesnt show anything.\r\n\r\nIs there something wrong with my code? Why can&#39;t i see the data i inserted into the database? It doesnt crashes or something.\r\n\r\nDBAdapter\r\n\r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.Cursor;\r\n    import android.database.SQLException;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    import android.util.Log;\r\n    \r\n    public class DBAdapter\r\n    {\r\n        public static final String KEY_ROWID = &quot;_id&quot;;\r\n        public static final String KEY_FNAME = &quot;fname&quot;;\r\n        public static final String KEY_LNAME = &quot;lname&quot;;\r\n        public static final String KEY_MNAME = &quot;mname&quot;;\r\n        public static final String KEY_CONTACTNUM = &quot;contactNum&quot;;\r\n        public static final String KEY_LICENSE = &quot;license&quot;;\r\n        public static final String KEY_USER = &quot;username&quot;;\r\n        public static final String KEY_PASS = &quot;password&quot;;\r\n        private static final String TAG = &quot;DBAdapter&quot;;\r\n    \r\n        private static final String DATABASE_NAME = &quot;sampleForFinals&quot;;\r\n        private static final String DATABASE_TABLE = &quot;drivers&quot;;\r\n        private static final int DATABASE_VERSION = 1;\r\n    \r\n        private static final String DATABASE_CREATE =\r\n                &quot;create table drivers (_id integer primary key autoincrement, &quot;\r\n                        + &quot;fname text not null, lname text not null, &quot;\r\n                        + &quot;mname text not null, contactNum text not null,&quot; +\r\n                        &quot;license text not null, username text not null, password text not null);&quot;;\r\n    \r\n        private final Context context;\r\n    \r\n        private DatabaseHelper DBHelper;\r\n        private SQLiteDatabase db;\r\n    \r\n        public DBAdapter(Context ctx)\r\n        {\r\n            this.context = ctx;\r\n            DBHelper = new DatabaseHelper(context);\r\n        }\r\n    \r\n        private static class DatabaseHelper extends SQLiteOpenHelper\r\n        {\r\n            DatabaseHelper(Context context)\r\n            {\r\n                super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n            }\r\n    \r\n            @Override\r\n            public void onCreate(SQLiteDatabase db)\r\n            {\r\n                db.execSQL(DATABASE_CREATE);\r\n            }\r\n    \r\n            @Override\r\n            public void onUpgrade(SQLiteDatabase db, int oldVersion,\r\n                                  int newVersion)\r\n            {\r\n                Log.w(TAG, &quot;Upgrading database from version &quot; + oldVersion\r\n                        + &quot; to &quot;\r\n                        + newVersion + &quot;, which will destroy all old data&quot;);\r\n                db.execSQL(&quot;DROP TABLE IF EXISTS drivers&quot;);\r\n                onCreate(db);\r\n            }\r\n        }\r\n    \r\n        //---opens the database---\r\n        public DBAdapter open() throws SQLException\r\n        {\r\n            db = DBHelper.getWritableDatabase();\r\n            return this;\r\n        }\r\n    \r\n        //---closes the database---\r\n        public void close()\r\n        {\r\n            DBHelper.close();\r\n        }\r\n    \r\n        //---insert a driver&#39;s information into the database---\r\n        public long insertDriver(String fname, String lname, String mname, String contactNum, String license, String user, String pass)\r\n        {\r\n            ContentValues initialValues = new ContentValues();\r\n            initialValues.put(KEY_FNAME, fname);\r\n            initialValues.put(KEY_LNAME, lname);\r\n            initialValues.put(KEY_MNAME, mname);\r\n            initialValues.put(KEY_CONTACTNUM, contactNum);\r\n            initialValues.put(KEY_LICENSE, license);\r\n            initialValues.put(KEY_USER, user);\r\n            initialValues.put(KEY_PASS, pass);\r\n            return db.insert(DATABASE_TABLE, null, initialValues);\r\n        }\r\n    }\r\n\r\n\r\nRegister\r\n\r\n    import android.app.Activity;\r\n    import android.content.ContentValues;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AlertDialog;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    \r\n    import com.ftlibrary.Fit;\r\n    \r\n    public class Register extends Activity {\r\n    \r\n        EditText firstname,lastname, middlename, contactNum, license, username, password;\r\n        Button register;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_register);\r\n    \r\n            Fit.FitSetClientKey(&quot;SZIERAINE1527&quot;);\r\n            Fit.FitSetAppName(&quot;sampleForFinals&quot;);\r\n    \r\n            firstname = (EditText) findViewById(R.id.et_firstname);\r\n            lastname = (EditText) findViewById(R.id.et_lastname);\r\n            middlename = (EditText) findViewById(R.id.et_middlename);\r\n            contactNum = (EditText) findViewById(R.id.et_contactNumber);\r\n            license = (EditText) findViewById(R.id.et_license);\r\n            username = (EditText) findViewById(R.id.et_username);\r\n            password = (EditText) findViewById(R.id.et_password);\r\n            register = (Button) findViewById(R.id.btn_register);\r\n    \r\n            register.setOnClickListener(new View.OnClickListener()\r\n            {\r\n                @Override\r\n                public void onClick(View v)\r\n                {\r\n                        DBAdapter    db = new DBAdapter(Register.this);\r\n    \r\n                        String fname = firstname.getText().toString();\r\n                        String lname = lastname.getText().toString();\r\n                        String mname = middlename.getText().toString();\r\n                        String contact = contactNum.getText().toString();\r\n                        String plate = license.getText().toString();\r\n                        String user = username.getText().toString();\r\n                        String pass = password.getText().toString();\r\n    \r\n                        db.open();\r\n    \r\n                        long id = db.insertDriver(fname, lname, mname, contact, plate, user, pass);\r\n    \r\n                        db.close();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nWhy can&#39;t i see any record in the database? TT TT","title":"Why can&#39;t i see the inserted data from user input?","body":"<p>When the user presses Register button, the details he input will be saved into the database but it doesnt show anything.</p>\n\n<p>Is there something wrong with my code? Why can't i see the data i inserted into the database? It doesnt crashes or something.</p>\n\n<p>DBAdapter</p>\n\n<pre><code>import android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\npublic class DBAdapter\n{\n    public static final String KEY_ROWID = \"_id\";\n    public static final String KEY_FNAME = \"fname\";\n    public static final String KEY_LNAME = \"lname\";\n    public static final String KEY_MNAME = \"mname\";\n    public static final String KEY_CONTACTNUM = \"contactNum\";\n    public static final String KEY_LICENSE = \"license\";\n    public static final String KEY_USER = \"username\";\n    public static final String KEY_PASS = \"password\";\n    private static final String TAG = \"DBAdapter\";\n\n    private static final String DATABASE_NAME = \"sampleForFinals\";\n    private static final String DATABASE_TABLE = \"drivers\";\n    private static final int DATABASE_VERSION = 1;\n\n    private static final String DATABASE_CREATE =\n            \"create table drivers (_id integer primary key autoincrement, \"\n                    + \"fname text not null, lname text not null, \"\n                    + \"mname text not null, contactNum text not null,\" +\n                    \"license text not null, username text not null, password text not null);\";\n\n    private final Context context;\n\n    private DatabaseHelper DBHelper;\n    private SQLiteDatabase db;\n\n    public DBAdapter(Context ctx)\n    {\n        this.context = ctx;\n        DBHelper = new DatabaseHelper(context);\n    }\n\n    private static class DatabaseHelper extends SQLiteOpenHelper\n    {\n        DatabaseHelper(Context context)\n        {\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        }\n\n        @Override\n        public void onCreate(SQLiteDatabase db)\n        {\n            db.execSQL(DATABASE_CREATE);\n        }\n\n        @Override\n        public void onUpgrade(SQLiteDatabase db, int oldVersion,\n                              int newVersion)\n        {\n            Log.w(TAG, \"Upgrading database from version \" + oldVersion\n                    + \" to \"\n                    + newVersion + \", which will destroy all old data\");\n            db.execSQL(\"DROP TABLE IF EXISTS drivers\");\n            onCreate(db);\n        }\n    }\n\n    //---opens the database---\n    public DBAdapter open() throws SQLException\n    {\n        db = DBHelper.getWritableDatabase();\n        return this;\n    }\n\n    //---closes the database---\n    public void close()\n    {\n        DBHelper.close();\n    }\n\n    //---insert a driver's information into the database---\n    public long insertDriver(String fname, String lname, String mname, String contactNum, String license, String user, String pass)\n    {\n        ContentValues initialValues = new ContentValues();\n        initialValues.put(KEY_FNAME, fname);\n        initialValues.put(KEY_LNAME, lname);\n        initialValues.put(KEY_MNAME, mname);\n        initialValues.put(KEY_CONTACTNUM, contactNum);\n        initialValues.put(KEY_LICENSE, license);\n        initialValues.put(KEY_USER, user);\n        initialValues.put(KEY_PASS, pass);\n        return db.insert(DATABASE_TABLE, null, initialValues);\n    }\n}\n</code></pre>\n\n<p>Register</p>\n\n<pre><code>import android.app.Activity;\nimport android.content.ContentValues;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.support.v7.app.AlertDialog;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport com.ftlibrary.Fit;\n\npublic class Register extends Activity {\n\n    EditText firstname,lastname, middlename, contactNum, license, username, password;\n    Button register;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register);\n\n        Fit.FitSetClientKey(\"SZIERAINE1527\");\n        Fit.FitSetAppName(\"sampleForFinals\");\n\n        firstname = (EditText) findViewById(R.id.et_firstname);\n        lastname = (EditText) findViewById(R.id.et_lastname);\n        middlename = (EditText) findViewById(R.id.et_middlename);\n        contactNum = (EditText) findViewById(R.id.et_contactNumber);\n        license = (EditText) findViewById(R.id.et_license);\n        username = (EditText) findViewById(R.id.et_username);\n        password = (EditText) findViewById(R.id.et_password);\n        register = (Button) findViewById(R.id.btn_register);\n\n        register.setOnClickListener(new View.OnClickListener()\n        {\n            @Override\n            public void onClick(View v)\n            {\n                    DBAdapter    db = new DBAdapter(Register.this);\n\n                    String fname = firstname.getText().toString();\n                    String lname = lastname.getText().toString();\n                    String mname = middlename.getText().toString();\n                    String contact = contactNum.getText().toString();\n                    String plate = license.getText().toString();\n                    String user = username.getText().toString();\n                    String pass = password.getText().toString();\n\n                    db.open();\n\n                    long id = db.insertDriver(fname, lname, mname, contact, plate, user, pass);\n\n                    db.close();\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>Why can't i see any record in the database? TT TT</p>\n"},{"tags":["java","eclipse","windowbuilder"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1680182966,"post_id":75888761,"comment_id":133857384,"body_markdown":"Which GUI toolkit do you use, Swing or SWT? Please show `mainFrame.java` and tell how you have created it.","body":"Which GUI toolkit do you use, Swing or SWT? Please show <code>mainFrame.java</code> and tell how you have created it."},{"owner":{"account_id":14019587,"reputation":11,"user_id":10126110,"display_name":"Leo Chen"},"score":0,"creation_date":1680185128,"post_id":75888761,"comment_id":133858075,"body_markdown":"I&#39;m using Swing and I update my mainFrame.java above. But actually I just tried SWT it comes to the same result.","body":"I&#39;m using Swing and I update my mainFrame.java above. But actually I just tried SWT it comes to the same result."},{"owner":{"account_id":14019587,"reputation":11,"user_id":10126110,"display_name":"Leo Chen"},"score":0,"creation_date":1680185454,"post_id":75888761,"comment_id":133858163,"body_markdown":"I create Swing Application Window by clicking the shortcut button on Eclipse, and it automatically creates a mainFrame.java file for me under src folder of my java project, which looks good.","body":"I create Swing Application Window by clicking the shortcut button on Eclipse, and it automatically creates a mainFrame.java file for me under src folder of my java project, which looks good."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1680185694,"post_id":75888761,"comment_id":133858227,"body_markdown":"You must first fix the errors to be able to use WindowBuilder. If you have a `module-info.java` file, delete it (if needed you can recreate it later via right-click on project and _Configure_) or [in `module-info.java` add the required `requires ...;` statement](https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules). `mainFrame.java` does not look like created by WindowBuilder, right?","body":"You must first fix the errors to be able to use WindowBuilder. If you have a <code>module-info.java</code> file, delete it (if needed you can recreate it later via right-click on project and <i>Configure</i>) or <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules\" rel=\"nofollow noreferrer\">in <code>module-info.java</code> add the required <code>requires ...;</code> statement</a>. <code>mainFrame.java</code> does not look like created by WindowBuilder, right?"},{"owner":{"account_id":14019587,"reputation":11,"user_id":10126110,"display_name":"Leo Chen"},"score":0,"creation_date":1680186897,"post_id":75888761,"comment_id":133858590,"body_markdown":"It works after I delete module-info.java, why are those files related? I update how I create mainFrame.java above.","body":"It works after I delete module-info.java, why are those files related? I update how I create mainFrame.java above."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1680194307,"post_id":75888761,"comment_id":133860700,"body_markdown":"So, does it work now? Follow the link in my previous comment to learn about the `module-info.java` file.","body":"So, does it work now? Follow the link in my previous comment to learn about the <code>module-info.java</code> file."}],"owner":{"account_id":14019587,"reputation":11,"user_id":10126110,"display_name":"Leo Chen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680186829,"creation_date":1680182201,"question_id":75888761,"body_markdown":"I&#39;m trying to use Windowbuilder on Eclipse but it always pops up error &quot;Unknown GUI toolkit&quot;. &lt;br&gt;\r\n[![enter image description here](https://i.stack.imgur.com/Yisg0.png)](https://i.stack.imgur.com/Yisg0.png)\r\n[![enter image description here][1]][1]\r\n\r\nThe mainFrame.java is created by the drop down menu below:\r\n[![enter image description here][2]][2]\r\n\r\nI install Windowbuilder from Eclipse MarketPlace.\r\n\r\nLooks like everything is installed properly, including SWT Designer.\r\n[![enter image description here](https://i.stack.imgur.com/yjXn3.png)](https://i.stack.imgur.com/yjXn3.png)\r\n\r\nHere is all my environment: &lt;br&gt;\r\ncomputer: macbook pro intel i5 &lt;br&gt;\r\nEclipse: 2023-03 (4.27.0) &lt;br&gt;\r\nJava JDK: 17.0.6 &lt;br&gt;\r\n\r\n\r\n\r\nI tried un/install Windowbuilder several times but every time end up having the same problem, and I even reinstall java JDK and Eclipse.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fon1R.jpg\r\n  [2]: https://i.stack.imgur.com/cLG8g.png","title":"Eclipse Windowbuilder Unknown GUI toolkit","body":"<p>I'm trying to use Windowbuilder on Eclipse but it always pops up error &quot;Unknown GUI toolkit&quot;. <br>\n<a href=\"https://i.stack.imgur.com/Yisg0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yisg0.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/fon1R.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fon1R.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The mainFrame.java is created by the drop down menu below:\n<a href=\"https://i.stack.imgur.com/cLG8g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cLG8g.png\" alt=\"enter image description here\" /></a></p>\n<p>I install Windowbuilder from Eclipse MarketPlace.</p>\n<p>Looks like everything is installed properly, including SWT Designer.\n<a href=\"https://i.stack.imgur.com/yjXn3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yjXn3.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is all my environment: <br>\ncomputer: macbook pro intel i5 <br>\nEclipse: 2023-03 (4.27.0) <br>\nJava JDK: 17.0.6 <br></p>\n<p>I tried un/install Windowbuilder several times but every time end up having the same problem, and I even reinstall java JDK and Eclipse.</p>\n"},{"tags":["java","sql","hibernate","hql","derby"],"comments":[{"owner":{"account_id":238759,"reputation":11691,"user_id":507864,"accept_rate":100,"display_name":"ManuPK"},"score":0,"creation_date":1320225520,"post_id":7977765,"comment_id":9756316,"body_markdown":"You are telling **like** will not work HQL in Derby database?","body":"You are telling <b>like</b> will not work HQL in Derby database?"},{"owner":{"account_id":46863,"reputation":13123,"user_id":138606,"accept_rate":64,"display_name":"gotch4"},"score":1,"creation_date":1320226240,"post_id":7977765,"comment_id":9756487,"body_markdown":"like *will* work, but case sensitive","body":"like <i>will</i> work, but case sensitive"}],"answers":[{"tags":[],"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1320225446,"creation_date":1320225446,"answer_id":7977958,"question_id":7977765,"body_markdown":"I&#39;m affraid, there is no way to achieve this via HQL, as it is just translated to native  SQL.  I think it could be possible by tuning schema:\r\n\r\nhttp://old.nabble.com/case-insensitive-searching-td17756019.html\r\n  ","title":"Does HQL have an equivalent for Restrictions.ilike (for case-insensitive matching)?","body":"<p>I'm affraid, there is no way to achieve this via HQL, as it is just translated to native  SQL.  I think it could be possible by tuning schema:</p>\n\n<p><a href=\"http://old.nabble.com/case-insensitive-searching-td17756019.html\" rel=\"nofollow\">http://old.nabble.com/case-insensitive-searching-td17756019.html</a></p>\n"},{"tags":[],"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1680186677,"creation_date":1320226889,"answer_id":7978259,"question_id":7977765,"body_markdown":"There is no `ilike` equivalent functionality in HQL. As Konstantin has already pointed out in his [suggestion](https://stackoverflow.com/questions/7977765/hql-like-and-case-sensitive/7977958#7977958), your best choice is to [tune the database connection](http://db.apache.org/derby/docs/10.7/ref/rrefattrib24612.html) and set [collation](http://db.apache.org/derby/docs/10.7/ref/rrefattribcollation.html) to `TERRITORY_BASED:SECONDARY`, as explained in this JIRA: [DERBY-1748: Global case insensitive setting](https://issues.apache.org/jira/browse/DERBY-1748).\r\n\r\nTake into account that all equalities (`=`) and `like`s will be case insensitive. This might go a bit too far, and be not suitable for your particular situation.\r\n\r\nAnother way of addressing this would be creating function-based indexes (if Derby supports them, of course) and tune your HQL to combine `like` and `lower` like this.  \r\n\r\n    Query q = session.createQuery(&quot;... WHERE lower(entity.field) like lower(?)&quot;);\r\n    q.setString(0, &#39;%&#39; + variable + &#39;%&#39;);\r\n\r\nIf Derby doesn&#39;t support FBI&#39;s (I think it doesn&#39;t), you could also create trigger-filled columns with the lower values and index them. \r\n\r\n**UPDATE** It seems to be possible to define derived/autogenerated columns, as explained in this other JIRA: [JIRA-481: implement SQL generated columns](https://issues.apache.org/jira/browse/DERBY-481). ","title":"Does HQL have an equivalent for Restrictions.ilike (for case-insensitive matching)?","body":"<p>There is no <code>ilike</code> equivalent functionality in HQL. As Konstantin has already pointed out in his <a href=\"https://stackoverflow.com/questions/7977765/hql-like-and-case-sensitive/7977958#7977958\">suggestion</a>, your best choice is to <a href=\"http://db.apache.org/derby/docs/10.7/ref/rrefattrib24612.html\" rel=\"nofollow noreferrer\">tune the database connection</a> and set <a href=\"http://db.apache.org/derby/docs/10.7/ref/rrefattribcollation.html\" rel=\"nofollow noreferrer\">collation</a> to <code>TERRITORY_BASED:SECONDARY</code>, as explained in this JIRA: <a href=\"https://issues.apache.org/jira/browse/DERBY-1748\" rel=\"nofollow noreferrer\">DERBY-1748: Global case insensitive setting</a>.</p>\n<p>Take into account that all equalities (<code>=</code>) and <code>like</code>s will be case insensitive. This might go a bit too far, and be not suitable for your particular situation.</p>\n<p>Another way of addressing this would be creating function-based indexes (if Derby supports them, of course) and tune your HQL to combine <code>like</code> and <code>lower</code> like this.</p>\n<pre><code>Query q = session.createQuery(&quot;... WHERE lower(entity.field) like lower(?)&quot;);\nq.setString(0, '%' + variable + '%');\n</code></pre>\n<p>If Derby doesn't support FBI's (I think it doesn't), you could also create trigger-filled columns with the lower values and index them.</p>\n<p><strong>UPDATE</strong> It seems to be possible to define derived/autogenerated columns, as explained in this other JIRA: <a href=\"https://issues.apache.org/jira/browse/DERBY-481\" rel=\"nofollow noreferrer\">JIRA-481: implement SQL generated columns</a>.</p>\n"},{"tags":[],"owner":{"account_id":294096,"reputation":1168,"user_id":597786,"accept_rate":17,"display_name":"luisZavaleta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365909083,"creation_date":1365909083,"answer_id":15995374,"question_id":7977765,"body_markdown":"a easy workaround would be to convert both words to to upper case (or lower case)  something like this: \r\n\r\n\r\nfrom DomesticCat cat where upper(cat.name) like &#39;FRI%&#39;\r\n\r\n\r\n\r\nreferences: http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html","title":"Does HQL have an equivalent for Restrictions.ilike (for case-insensitive matching)?","body":"<p>a easy workaround would be to convert both words to to upper case (or lower case)  something like this: </p>\n\n<p>from DomesticCat cat where upper(cat.name) like 'FRI%'</p>\n\n<p>references: <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html\" rel=\"nofollow\">http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/queryhql.html</a></p>\n"}],"owner":{"account_id":46863,"reputation":13123,"user_id":138606,"accept_rate":64,"display_name":"gotch4"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17793,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":7978259,"answer_count":3,"score":16,"last_activity_date":1680186677,"creation_date":1320224376,"question_id":7977765,"body_markdown":"I wrote a project for Hibernate+MySQL. Now I&#39;m porting it to Derby (for a number of reasons). \r\n\r\nNow I discovered that Derby is case sensitive when using LIKE in queries. This could be solved using [`Restrictions.ilike(...)`][1] in Criteria queries... but I&#39;ve many *complex* HQL queries that use that. Is there a way to have a functionality similar to `ilike` in HQL?\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/criterion/Restrictions.html#ilike%28java.lang.String,%20java.lang.Object%29","title":"Does HQL have an equivalent for Restrictions.ilike (for case-insensitive matching)?","body":"<p>I wrote a project for Hibernate+MySQL. Now I'm porting it to Derby (for a number of reasons). </p>\n\n<p>Now I discovered that Derby is case sensitive when using LIKE in queries. This could be solved using <a href=\"http://docs.jboss.org/hibernate/orm/4.1/javadocs/org/hibernate/criterion/Restrictions.html#ilike%28java.lang.String,%20java.lang.Object%29\"><code>Restrictions.ilike(...)</code></a> in Criteria queries... but I've many <em>complex</em> HQL queries that use that. Is there a way to have a functionality similar to <code>ilike</code> in HQL?</p>\n"},{"tags":["java","spring","testing","spring-boot","integration-testing"],"comments":[{"owner":{"account_id":9592064,"reputation":5123,"user_id":7122593,"accept_rate":78,"display_name":"Barath"},"score":0,"creation_date":1506925682,"post_id":46518857,"comment_id":79994706,"body_markdown":"I faced similar issue as posted here https://stackoverflow.com/questions/45522778/springboottest-not-creating-inner-beans-while-loading-the-context","body":"I faced similar issue as posted here <a href=\"https://stackoverflow.com/questions/45522778/springboottest-not-creating-inner-beans-while-loading-the-context\" title=\"springboottest not creating inner beans while loading the context\">stackoverflow.com/questions/45522778/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4227579,"reputation":402,"user_id":3460763,"accept_rate":56,"display_name":"chetank"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1506912426,"creation_date":1506912426,"answer_id":46518876,"question_id":46518857,"body_markdown":"Instead of using @Runwith(SpringJunit4Classrunner.class) use @RunWith(SpringRunner.class). That should help you with the error.","title":"SpringBootTest - how to replace one bean in runtime configuration?","body":"<p>Instead of using @Runwith(SpringJunit4Classrunner.class) use @RunWith(SpringRunner.class). That should help you with the error.</p>\n"},{"tags":[],"owner":{"account_id":10899779,"reputation":7224,"user_id":8012379,"display_name":"Indra Basak"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1506971176,"creation_date":1506919847,"answer_id":46519671,"question_id":46518857,"body_markdown":"### Unit Test with One Bean\r\nJust use `@RunWith(SpringRunner.class)` annotation, it should work. You can also use `@RunWith(SpringJUnit4ClassRunner.class)`. Both should work.\r\n\r\n**Please don&#39;t use** `@SpringBootTest` annotation. It will wire up the whole application.\r\n\r\nHere is your updated example,\r\n\r\n    @RunWith(SpringRunner.class)\r\n    public class CombinedControllerIntegrationTest2 {\r\n    \r\n        @TestConfiguration\r\n        static class ContextConfiguration {\r\n            \r\n            @Bean\r\n            public SolrDocumentTypeMapRepository solrDocumentTypeMapRepository() {\r\n                LOG.debug(&quot;SolrDocumentTypeMapRepository is being initialized.&quot;);\r\n                return new SolrDocumentTypeMapRepository(...);\r\n            }\r\n        }\r\n    \r\n        @Autowired\r\n        private SolrDocumentTypeMapRepository repository;\r\n    \r\n        @Test\r\n        public void test() {\r\n            assertNotNull(repository);\r\n        }\r\n    }\r\n\r\n### Integration Test with a Replaced Bean\r\n\r\n - Create a new test Spring Boot application. It should exclude the configuration class (for e.g., `SolrConfiguration`)  which is responsible for creating `SolrDocumentTypeMapRepository` bean.\r\n\r\n        @SpringBootApplication\r\n        @ComponentScan(basePackages = {\r\n                &quot;com.abc.pkg1&quot;,\r\n                &quot;com.abc.pk2&quot;},\r\n                excludeFilters = {\r\n                        @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, \r\n                        value = SolrConfiguration.class)})\r\n        public class TestApplication {\r\n            public static void main(String[] args) throws Exception {\r\n                SpringApplication.run(TestApplication.class, args);\r\n            }\r\n        }\r\n\r\n - Now, use the `@ContextConfiguration` annotation in your test class to add the `TestApplication.class` and the `ContextConfiguration.class`. This will wire up your application with the all the required beans including the replaced bean. Shown below is the updated test class,\r\n\r\n        @ActiveProfiles(&quot;test&quot;)\r\n        @RunWith(SpringJUnit4ClassRunner.class)\r\n        @SpringBootTest(webEnvironment = \r\n            SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n        @ContextConfiguration(classes = {TestApplication.class, \r\n            CombinedControllerIntegrationTest2.ContextConfiguration.class})\r\n        public class CombinedControllerIntegrationTest2 {\r\n        \r\n            @TestConfiguration\r\n            static class ContextConfiguration {\r\n                \r\n                @Bean\r\n                public SolrDocumentTypeMapRepository solrDocumentTypeMapRepository() {\r\n                    LOG.debug(&quot;SolrDocumentTypeMapRepository is being initialized.&quot;);\r\n                    return new SolrDocumentTypeMapRepository(...);\r\n                }\r\n            }\r\n        \r\n            ...\r\n        }","title":"SpringBootTest - how to replace one bean in runtime configuration?","body":"<h3>Unit Test with One Bean</h3>\n\n<p>Just use <code>@RunWith(SpringRunner.class)</code> annotation, it should work. You can also use <code>@RunWith(SpringJUnit4ClassRunner.class)</code>. Both should work.</p>\n\n<p><strong>Please don't use</strong> <code>@SpringBootTest</code> annotation. It will wire up the whole application.</p>\n\n<p>Here is your updated example,</p>\n\n<pre><code>@RunWith(SpringRunner.class)\npublic class CombinedControllerIntegrationTest2 {\n\n    @TestConfiguration\n    static class ContextConfiguration {\n\n        @Bean\n        public SolrDocumentTypeMapRepository solrDocumentTypeMapRepository() {\n            LOG.debug(\"SolrDocumentTypeMapRepository is being initialized.\");\n            return new SolrDocumentTypeMapRepository(...);\n        }\n    }\n\n    @Autowired\n    private SolrDocumentTypeMapRepository repository;\n\n    @Test\n    public void test() {\n        assertNotNull(repository);\n    }\n}\n</code></pre>\n\n<h3>Integration Test with a Replaced Bean</h3>\n\n<ul>\n<li><p>Create a new test Spring Boot application. It should exclude the configuration class (for e.g., <code>SolrConfiguration</code>)  which is responsible for creating <code>SolrDocumentTypeMapRepository</code> bean.</p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = {\n        \"com.abc.pkg1\",\n        \"com.abc.pk2\"},\n        excludeFilters = {\n                @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, \n                value = SolrConfiguration.class)})\npublic class TestApplication {\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(TestApplication.class, args);\n    }\n}\n</code></pre></li>\n<li><p>Now, use the <code>@ContextConfiguration</code> annotation in your test class to add the <code>TestApplication.class</code> and the <code>ContextConfiguration.class</code>. This will wire up your application with the all the required beans including the replaced bean. Shown below is the updated test class,</p>\n\n<pre><code>@ActiveProfiles(\"test\")\n@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest(webEnvironment = \n    SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ContextConfiguration(classes = {TestApplication.class, \n    CombinedControllerIntegrationTest2.ContextConfiguration.class})\npublic class CombinedControllerIntegrationTest2 {\n\n    @TestConfiguration\n    static class ContextConfiguration {\n\n        @Bean\n        public SolrDocumentTypeMapRepository solrDocumentTypeMapRepository() {\n            LOG.debug(\"SolrDocumentTypeMapRepository is being initialized.\");\n            return new SolrDocumentTypeMapRepository(...);\n        }\n    }\n\n    ...\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1571208391,"creation_date":1571138339,"answer_id":58393444,"question_id":46518857,"body_markdown":"Use @Mockean to mock your repository. And add behavior in the test:\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    @RunWith(SpringRunner.class)      \r\n    public abstract class IntegrationTest {\r\n         \r\n      @MockBean\r\n      SolrDocumentTypeMapRepository solrDocumentTypeMapRepository;\r\n     \r\n      @Test\r\n      public void mySuperTest(){ \r\n    Mockito.when(solrDocumentTypeMapRepository.getById(Mockito.any())).thenReturn(someInstance);\r\n    Assert.assertEquals(solrDocumentTypeMapRepository.getById(&quot;someId&quot;), someInstance);\r\n    }\r\n    }","title":"SpringBootTest - how to replace one bean in runtime configuration?","body":"<p>Use @Mockean to mock your repository. And add behavior in the test:</p>\n\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\n@RunWith(SpringRunner.class)      \npublic abstract class IntegrationTest {\n\n  @MockBean\n  SolrDocumentTypeMapRepository solrDocumentTypeMapRepository;\n\n  @Test\n  public void mySuperTest(){ \nMockito.when(solrDocumentTypeMapRepository.getById(Mockito.any())).thenReturn(someInstance);\nAssert.assertEquals(solrDocumentTypeMapRepository.getById(\"someId\"), someInstance);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":7436532,"reputation":753,"user_id":5655772,"accept_rate":15,"display_name":"Alexander"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14329,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":46519671,"answer_count":3,"score":8,"last_activity_date":1680186607,"creation_date":1506912204,"question_id":46518857,"body_markdown":"I am writing an integration test for Spring Boot application. All goes well as long as I&#39;m using 100% runtime configuration for the test. But when I&#39;m trying to provide just one custom bean for the bean, everything breaks.\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class CombinedControllerIntegrationTest2 {\r\n\r\n    @TestConfiguration\r\n    static class ContextConfiguration {\r\n\r\n        @Bean\r\n        @Primary\r\n        public SolrDocumentTypeMapRepository solrDocumentTypeMapRepository() {\r\n            LOG.debug(&quot;SolrDocumentTypeMapRepository is being initialized.&quot;);\r\n\r\n    // etc.\r\n\r\ncode variant above is causing the real runtime `SolrDocumentTypeMapRepository` to load. Therefore the `ContextConfiguration` in my test class is ignored.\r\n\r\nIf I try to use `@Configuration` instead of `@TestConfiguration` on my inner `ContextConfiguration`, execution falls to another extreme - it ends with:\r\n\r\n    org.springframework.context.ApplicationContextException: \r\n    Unable to start EmbeddedWebApplicationContext due to missing\r\n    EmbeddedServletContainerFactory bean.\r\n\r\nBecause, apparently, the rest of configuration is not loaded.\r\n\r\nIf I try to put\r\n\r\n    @ContextConfiguration(\r\n     classes = { CombinedControllerIntegrationTest2.ContextConfiguration.class,\r\n                 GatewayApplication.class})\r\n\r\non my main testing class, it fails the same way as in #1 - i.e. my `ContextConfiguration` is ignored.\r\n\r\nAny ideas?\r\n\r\nP.S. I know I can use `@MockBean` (and this even works in other cases), but here, because at some point I have dependency on `@PostConsruct` methods in the main code, `@MockBeans` are useless.\r\n","title":"SpringBootTest - how to replace one bean in runtime configuration?","body":"<p>I am writing an integration test for Spring Boot application. All goes well as long as I'm using 100% runtime configuration for the test. But when I'm trying to provide just one custom bean for the bean, everything breaks.</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class CombinedControllerIntegrationTest2 {\n\n@TestConfiguration\nstatic class ContextConfiguration {\n\n    @Bean\n    @Primary\n    public SolrDocumentTypeMapRepository solrDocumentTypeMapRepository() {\n        LOG.debug(&quot;SolrDocumentTypeMapRepository is being initialized.&quot;);\n\n// etc.\n</code></pre>\n<p>code variant above is causing the real runtime <code>SolrDocumentTypeMapRepository</code> to load. Therefore the <code>ContextConfiguration</code> in my test class is ignored.</p>\n<p>If I try to use <code>@Configuration</code> instead of <code>@TestConfiguration</code> on my inner <code>ContextConfiguration</code>, execution falls to another extreme - it ends with:</p>\n<pre><code>org.springframework.context.ApplicationContextException: \nUnable to start EmbeddedWebApplicationContext due to missing\nEmbeddedServletContainerFactory bean.\n</code></pre>\n<p>Because, apparently, the rest of configuration is not loaded.</p>\n<p>If I try to put</p>\n<pre><code>@ContextConfiguration(\n classes = { CombinedControllerIntegrationTest2.ContextConfiguration.class,\n             GatewayApplication.class})\n</code></pre>\n<p>on my main testing class, it fails the same way as in #1 - i.e. my <code>ContextConfiguration</code> is ignored.</p>\n<p>Any ideas?</p>\n<p>P.S. I know I can use <code>@MockBean</code> (and this even works in other cases), but here, because at some point I have dependency on <code>@PostConsruct</code> methods in the main code, <code>@MockBeans</code> are useless.</p>\n"},{"tags":["java","calculator"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1680186392,"post_id":75889466,"comment_id":133858425,"body_markdown":"It is not possible to know what is wrong with the code, if you do not post the code","body":"It is not possible to know what is wrong with the code, if you do not post the code"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1680186420,"post_id":75889466,"comment_id":133858437,"body_markdown":"Please read [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please read <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a>"}],"owner":{"account_id":26315392,"reputation":1,"user_id":19978257,"display_name":"Deniz Gok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680186547,"creation_date":1680186289,"question_id":75889466,"body_markdown":"My code works with 2 sequences such as &#39;2x5=&#39; which would output 10.0. However I need it to work with multiple different sequences with different operators. So if I tried to input &#39;2x5/2=&#39; the output would be 2.5. it clearly only takes the last two sequences, In this case being &#39;5/2&#39;. I&#39;ve tried so many things to figure this out and I need help.\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n\r\n    public class Calculator implements ActionListener {\r\n\r\n    JFrame frame;\r\n    JTextField textfield;\r\n    JButton[] numberButtons = new JButton[10];\r\n    JButton[] functionButtons = new JButton[6];\r\n    JButton addButton, subButton, mulButton, divButton;\r\n    JButton equButton, clrButton;\r\n    JPanel panel;\r\n\r\n    Font myFont = new Font(&quot;Ink Free&quot;, Font.BOLD, 30);\r\n\r\n    double num1 = 0, num2 = 0, result = 0;\r\n    char operator;\r\n\r\n    Calculator() {\r\n\r\n        frame = new JFrame(&quot;Calculator&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(420, 550);\r\n        frame.setLayout(null);\r\n\r\n        textfield = new JTextField();\r\n        textfield.setBounds(50, 25, 300, 50);\r\n        textfield.setFont(myFont);\r\n\r\n        addButton = new JButton(&quot;+&quot;);\r\n        subButton = new JButton(&quot;-&quot;);\r\n        mulButton = new JButton(&quot;x&quot;);\r\n        divButton = new JButton(&quot;&#247;&quot;);\r\n        equButton = new JButton(&quot;=&quot;);\r\n        clrButton = new JButton(&quot;AC&quot;);\r\n\r\n        functionButtons[0] = addButton;\r\n        functionButtons[1] = subButton;\r\n        functionButtons[2] = mulButton;\r\n        functionButtons[3] = divButton;\r\n        functionButtons[4] = equButton;\r\n        functionButtons[5] = clrButton;\r\n\r\n        for (int i = 0; i &lt; 6; i++) {\r\n            functionButtons[i].addActionListener(this);\r\n            functionButtons[i].setFont(myFont);\r\n            functionButtons[i].setFocusable(false);\r\n        }\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            numberButtons[i] = new             \r\n\r\n    JButton(String.valueOf(i));\r\n            numberButtons[i].addActionListener(this);\r\n            numberButtons[i].setFont(myFont);\r\n            numberButtons[i].setFocusable(false);\r\n        }\r\n\r\n        panel = new JPanel();\r\n        panel.setBounds(50, 100, 300, 300);\r\n        panel.setLayout(new GridLayout(4, 4, 10, 10));\r\n        // panel.setBackground(Color.GRAY);\r\n\r\n        panel.add(numberButtons[7]);\r\n        panel.add(numberButtons[8]);\r\n        panel.add(numberButtons[9]);\r\n        panel.add(divButton);\r\n        panel.add(numberButtons[4]);\r\n        panel.add(numberButtons[5]);\r\n        panel.add(numberButtons[6]);\r\n        panel.add(mulButton);\r\n        panel.add(numberButtons[1]);\r\n        panel.add(numberButtons[2]);\r\n        panel.add(numberButtons[3]);\r\n        panel.add(subButton);\r\n        panel.add(clrButton);\r\n        panel.add(numberButtons[0]);\r\n        panel.add(equButton);\r\n        panel.add(addButton);\r\n\r\n        frame.add(panel);\r\n        frame.add(textfield);\r\n        frame.setVisible(true);\r\n\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            if (e.getSource() == numberButtons[i]) {\r\n                    \r\n\r\n          textfield.setText(textfield.getText().concat(String.valueOf(I  )));\r\n            }\r\n        }\r\n        if (e.getSource() == addButton) {\r\n            num1 = Double.parseDouble(textfield.getText());\r\n            operator = &#39;+&#39;;\r\n            textfield.setText(&quot;&quot;);\r\n        }\r\n        if (e.getSource() == subButton) {\r\n            num1 = Double.parseDouble(textfield.getText());\r\n            operator = &#39;-&#39;;\r\n            textfield.setText(&quot;&quot;);\r\n        }\r\n        if (e.getSource() == mulButton) {\r\n            num1 = Double.parseDouble(textfield.getText());\r\n            operator = &#39;*&#39;;\r\n            textfield.setText(&quot;&quot;);\r\n        }\r\n        if (e.getSource() == divButton) {\r\n            num1 = Double.parseDouble(textfield.getText());\r\n            operator = &#39;/&#39;;\r\n            textfield.setText(&quot;&quot;);\r\n        }\r\n        if (e.getSource() == equButton) {\r\n            num2 = Double.parseDouble(textfield.getText());\r\n\r\n            switch (operator) {\r\n                case &#39;+&#39;:\r\n                    result = num1 + num2;\r\n                    break;\r\n                case &#39;-&#39;:\r\n                    result = num1 - num2;\r\n                    break;\r\n                case &#39;*&#39;:\r\n                    result = num1 * num2;\r\n                    break;\r\n                case &#39;/&#39;:\r\n                    result = num1 / num2;\r\n                    break;\r\n            }\r\n\r\n            textfield.setText(String.valueOf(result));\r\n            num1 = result;\r\n        }\r\n        if (e.getSource() == clrButton) {\r\n            textfield.setText(&quot;&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nI tried to apply stacks and pops into my actionPerformed part of my code but no matter what I try, it ruins the function of my original code, which is not what I want of course.","title":"How do I apply BODMAS or BIDMAS to my Java calculator code?","body":"<p>My code works with 2 sequences such as '2x5=' which would output 10.0. However I need it to work with multiple different sequences with different operators. So if I tried to input '2x5/2=' the output would be 2.5. it clearly only takes the last two sequences, In this case being '5/2'. I've tried so many things to figure this out and I need help.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\n\npublic class Calculator implements ActionListener {\n\nJFrame frame;\nJTextField textfield;\nJButton[] numberButtons = new JButton[10];\nJButton[] functionButtons = new JButton[6];\nJButton addButton, subButton, mulButton, divButton;\nJButton equButton, clrButton;\nJPanel panel;\n\nFont myFont = new Font(&quot;Ink Free&quot;, Font.BOLD, 30);\n\ndouble num1 = 0, num2 = 0, result = 0;\nchar operator;\n\nCalculator() {\n\n    frame = new JFrame(&quot;Calculator&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(420, 550);\n    frame.setLayout(null);\n\n    textfield = new JTextField();\n    textfield.setBounds(50, 25, 300, 50);\n    textfield.setFont(myFont);\n\n    addButton = new JButton(&quot;+&quot;);\n    subButton = new JButton(&quot;-&quot;);\n    mulButton = new JButton(&quot;x&quot;);\n    divButton = new JButton(&quot;÷&quot;);\n    equButton = new JButton(&quot;=&quot;);\n    clrButton = new JButton(&quot;AC&quot;);\n\n    functionButtons[0] = addButton;\n    functionButtons[1] = subButton;\n    functionButtons[2] = mulButton;\n    functionButtons[3] = divButton;\n    functionButtons[4] = equButton;\n    functionButtons[5] = clrButton;\n\n    for (int i = 0; i &lt; 6; i++) {\n        functionButtons[i].addActionListener(this);\n        functionButtons[i].setFont(myFont);\n        functionButtons[i].setFocusable(false);\n    }\n\n    for (int i = 0; i &lt; 10; i++) {\n        numberButtons[i] = new             \n\nJButton(String.valueOf(i));\n        numberButtons[i].addActionListener(this);\n        numberButtons[i].setFont(myFont);\n        numberButtons[i].setFocusable(false);\n    }\n\n    panel = new JPanel();\n    panel.setBounds(50, 100, 300, 300);\n    panel.setLayout(new GridLayout(4, 4, 10, 10));\n    // panel.setBackground(Color.GRAY);\n\n    panel.add(numberButtons[7]);\n    panel.add(numberButtons[8]);\n    panel.add(numberButtons[9]);\n    panel.add(divButton);\n    panel.add(numberButtons[4]);\n    panel.add(numberButtons[5]);\n    panel.add(numberButtons[6]);\n    panel.add(mulButton);\n    panel.add(numberButtons[1]);\n    panel.add(numberButtons[2]);\n    panel.add(numberButtons[3]);\n    panel.add(subButton);\n    panel.add(clrButton);\n    panel.add(numberButtons[0]);\n    panel.add(equButton);\n    panel.add(addButton);\n\n    frame.add(panel);\n    frame.add(textfield);\n    frame.setVisible(true);\n\n}\n\npublic void actionPerformed(ActionEvent e) {\n\n    for (int i = 0; i &lt; 10; i++) {\n        if (e.getSource() == numberButtons[i]) {\n                \n\n      textfield.setText(textfield.getText().concat(String.valueOf(I  )));\n        }\n    }\n    if (e.getSource() == addButton) {\n        num1 = Double.parseDouble(textfield.getText());\n        operator = '+';\n        textfield.setText(&quot;&quot;);\n    }\n    if (e.getSource() == subButton) {\n        num1 = Double.parseDouble(textfield.getText());\n        operator = '-';\n        textfield.setText(&quot;&quot;);\n    }\n    if (e.getSource() == mulButton) {\n        num1 = Double.parseDouble(textfield.getText());\n        operator = '*';\n        textfield.setText(&quot;&quot;);\n    }\n    if (e.getSource() == divButton) {\n        num1 = Double.parseDouble(textfield.getText());\n        operator = '/';\n        textfield.setText(&quot;&quot;);\n    }\n    if (e.getSource() == equButton) {\n        num2 = Double.parseDouble(textfield.getText());\n\n        switch (operator) {\n            case '+':\n                result = num1 + num2;\n                break;\n            case '-':\n                result = num1 - num2;\n                break;\n            case '*':\n                result = num1 * num2;\n                break;\n            case '/':\n                result = num1 / num2;\n                break;\n        }\n\n        textfield.setText(String.valueOf(result));\n        num1 = result;\n    }\n    if (e.getSource() == clrButton) {\n        textfield.setText(&quot;&quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>I tried to apply stacks and pops into my actionPerformed part of my code but no matter what I try, it ruins the function of my original code, which is not what I want of course.</p>\n"},{"tags":["java","algorithm","search"],"comments":[{"owner":{"account_id":26482234,"reputation":1276,"user_id":20121320,"display_name":"Florent Monin"},"score":4,"creation_date":1680178043,"post_id":75887904,"comment_id":133855905,"body_markdown":"some of the logic seems pretty complex, but I suspect you can break it down in smaller functions. For instance, a function that returns all adjacent tiles from a given tile will probably be very helpful. Without the code you&#39;ve written, it is hard to say what is wrong/could be improved with it though","body":"some of the logic seems pretty complex, but I suspect you can break it down in smaller functions. For instance, a function that returns all adjacent tiles from a given tile will probably be very helpful. Without the code you&#39;ve written, it is hard to say what is wrong/could be improved with it though"},{"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"score":0,"creation_date":1680178357,"post_id":75887904,"comment_id":133855971,"body_markdown":"That&#39;s a good suggestion. The codes are way too long to be reviewed. I was hoping to start again from scratch and try to look in another way.","body":"That&#39;s a good suggestion. The codes are way too long to be reviewed. I was hoping to start again from scratch and try to look in another way."},{"owner":{"account_id":26482234,"reputation":1276,"user_id":20121320,"display_name":"Florent Monin"},"score":1,"creation_date":1680178996,"post_id":75887904,"comment_id":133856145,"body_markdown":"I think, having a `GetAdjacentTiles` function should be enough to solve the bear, Hawk and Fox rules. For the Salmon, you will need something looking like [this](https://stackoverflow.com/questions/16506150/longest-path-on-a-grid-without-revisiting-grid-cells). And for the Elk, I guess some function like `NumberOfElkInThisDirection` which walks through one of the 6 directions from a tile, and counts the number of elks in a row should do the trick","body":"I think, having a <code>GetAdjacentTiles</code> function should be enough to solve the bear, Hawk and Fox rules. For the Salmon, you will need something looking like <a href=\"https://stackoverflow.com/questions/16506150/longest-path-on-a-grid-without-revisiting-grid-cells\">this</a>. And for the Elk, I guess some function like <code>NumberOfElkInThisDirection</code> which walks through one of the 6 directions from a tile, and counts the number of elks in a row should do the trick"},{"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"score":0,"creation_date":1680183048,"post_id":75887904,"comment_id":133857413,"body_markdown":"@FlorentMonin if I have an arrayList `ArrayList&lt;Point&gt; bear;` which contains the point of all bears in the board. Is this going to help?","body":"@FlorentMonin if I have an arrayList <code>ArrayList&lt;Point&gt; bear;</code> which contains the point of all bears in the board. Is this going to help?"},{"owner":{"account_id":26482234,"reputation":1276,"user_id":20121320,"display_name":"Florent Monin"},"score":0,"creation_date":1680251307,"post_id":75887904,"comment_id":133869853,"body_markdown":"for the bears, I think what you can do is run an algorithm to find the connected components (so you number each &quot;group of bear&quot;) and then, for each group, if it has exactly 2 members, then it&#39;s a pair, otherwise it isn&#39;t. I think that should work","body":"for the bears, I think what you can do is run an algorithm to find the connected components (so you number each &quot;group of bear&quot;) and then, for each group, if it has exactly 2 members, then it&#39;s a pair, otherwise it isn&#39;t. I think that should work"},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1680260017,"post_id":75887904,"comment_id":133871936,"body_markdown":"Not directly related: Why using a `HashMap` instead of an 2D array (you already have x,y coordinates in your image)) which is a wildly used way to store such a hex-raster?\nhere a nice resource for hex-grid algorithms and data-structures https://www.redblobgames.com/grids/hexagons/","body":"Not directly related: Why using a <code>HashMap</code> instead of an 2D array (you already have x,y coordinates in your image)) which is a wildly used way to store such a hex-raster? here a nice resource for hex-grid algorithms and data-structures <a href=\"https://www.redblobgames.com/grids/hexagons/\" rel=\"nofollow noreferrer\">redblobgames.com/grids/hexagons</a>"},{"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"score":0,"creation_date":1680265429,"post_id":75887904,"comment_id":133873163,"body_markdown":"@MrSmith42 How would you implement this in 2D array? The coordinate in this data structure has negative coordinate, which I&#39;m not sure of how to implement in 2D array..","body":"@MrSmith42 How would you implement this in 2D array? The coordinate in this data structure has negative coordinate, which I&#39;m not sure of how to implement in 2D array.."},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1680267810,"post_id":75887904,"comment_id":133873822,"body_markdown":"@st3ems By adding an offset all coordinates become positive.","body":"@st3ems By adding an offset all coordinates become positive."},{"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"score":0,"creation_date":1680270398,"post_id":75887904,"comment_id":133874488,"body_markdown":"@MrSmith42 that makes sense. But a 2D array would take up more memory than I intended to use? I also have to define the size of the 2D array, which I&#39;m not sure of since the user can place a tile at any position..","body":"@MrSmith42 that makes sense. But a 2D array would take up more memory than I intended to use? I also have to define the size of the 2D array, which I&#39;m not sure of since the user can place a tile at any position.."}],"owner":{"account_id":27679966,"reputation":39,"user_id":21128942,"display_name":"st3ems"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680186107,"creation_date":1680177096,"question_id":75887904,"body_markdown":"Supposed I have this data structure:\r\n\r\n[![Hexagon structure][1]][1]\r\n\r\nI am using a hash map to represent the data structure:\r\n\r\n     HashMap&lt;Point, Tile&gt; board;\r\n\r\nWhere Point class is just consisting of int x and int y which is used to represent the coordinate in the data structure above.\r\n\r\n    Point(int x, int y);\r\n\r\nIn Tile class, every tile has an animal token on top. Such that:\r\n\r\n    Tile(Habitat habitat, Animal animalToken);\r\n\r\n\r\nMy aim is to calculate the score according to the animal tokens placed on top of the tiles.\r\n\r\nThis [link][2] has the rules for scoring for each animal.\r\n\r\nWhat I&#39;ve tried is completely mess, which always end up with 100+ of codes just to calculate a score for one specific animal. Is there any algorithm/searching algorithm I should know about to make my life easier?\r\n\r\nPS: I have little knowledge on graph structure.\r\n\r\nEdit:\r\n\r\n    private static ArrayList&lt;Tile&gt; adjacentAvailableTile(Point point)\r\n    {\r\n        return adjacentAvailableTile(adjacentAvailablePoints(point));\r\n    }\r\n\r\n\r\n    private static ArrayList&lt;Tile&gt; adjacentAvailableTile(ArrayList&lt;Point&gt; points)\r\n    {\r\n        ArrayList&lt;Tile&gt; availableTiles = new ArrayList&lt;&gt;();\r\n        for (Point point : points)\r\n        {\r\n            Tile tile = board.get(point);\r\n            availableTiles.add(tile);\r\n        }\r\n        return availableTiles;\r\n    }\r\n\r\n\r\n    private static ArrayList&lt;Point&gt; adjacentAvailablePoints(Point originPoint)\r\n    {\r\n        Point[] sixAdjacentPoint = new Point[6];\r\n        int i = 0;\r\n        for (Position pos : Position.values())      //loop through enum Position\r\n        {\r\n            //sixAdjacentPoint now has the adjacent points of the given point\r\n            sixAdjacentPoint[i++] = getPoint(originPoint, pos);\r\n        }\r\n\r\n        ArrayList&lt;Point&gt; availablePoint = new ArrayList&lt;&gt;();\r\n        for (Point point : sixAdjacentPoint)\r\n        {\r\n            if (board.containsKey(point))\r\n                availablePoint.add(point);\r\n        }\r\n        return availablePoint;\r\n    }\r\n\r\nI now can find adjacent tiles from a given point.\r\n\r\n  [1]: https://i.stack.imgur.com/L1CZk.png\r\n  [2]: https://cascadiagame.github.io/","title":"algorithm for hexagon structure","body":"<p>Supposed I have this data structure:</p>\n<p><a href=\"https://i.stack.imgur.com/L1CZk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L1CZk.png\" alt=\"Hexagon structure\" /></a></p>\n<p>I am using a hash map to represent the data structure:</p>\n<pre><code> HashMap&lt;Point, Tile&gt; board;\n</code></pre>\n<p>Where Point class is just consisting of int x and int y which is used to represent the coordinate in the data structure above.</p>\n<pre><code>Point(int x, int y);\n</code></pre>\n<p>In Tile class, every tile has an animal token on top. Such that:</p>\n<pre><code>Tile(Habitat habitat, Animal animalToken);\n</code></pre>\n<p>My aim is to calculate the score according to the animal tokens placed on top of the tiles.</p>\n<p>This <a href=\"https://cascadiagame.github.io/\" rel=\"nofollow noreferrer\">link</a> has the rules for scoring for each animal.</p>\n<p>What I've tried is completely mess, which always end up with 100+ of codes just to calculate a score for one specific animal. Is there any algorithm/searching algorithm I should know about to make my life easier?</p>\n<p>PS: I have little knowledge on graph structure.</p>\n<p>Edit:</p>\n<pre><code>private static ArrayList&lt;Tile&gt; adjacentAvailableTile(Point point)\n{\n    return adjacentAvailableTile(adjacentAvailablePoints(point));\n}\n\n\nprivate static ArrayList&lt;Tile&gt; adjacentAvailableTile(ArrayList&lt;Point&gt; points)\n{\n    ArrayList&lt;Tile&gt; availableTiles = new ArrayList&lt;&gt;();\n    for (Point point : points)\n    {\n        Tile tile = board.get(point);\n        availableTiles.add(tile);\n    }\n    return availableTiles;\n}\n\n\nprivate static ArrayList&lt;Point&gt; adjacentAvailablePoints(Point originPoint)\n{\n    Point[] sixAdjacentPoint = new Point[6];\n    int i = 0;\n    for (Position pos : Position.values())      //loop through enum Position\n    {\n        //sixAdjacentPoint now has the adjacent points of the given point\n        sixAdjacentPoint[i++] = getPoint(originPoint, pos);\n    }\n\n    ArrayList&lt;Point&gt; availablePoint = new ArrayList&lt;&gt;();\n    for (Point point : sixAdjacentPoint)\n    {\n        if (board.containsKey(point))\n            availablePoint.add(point);\n    }\n    return availablePoint;\n}\n</code></pre>\n<p>I now can find adjacent tiles from a given point.</p>\n"},{"tags":["java","spring","domain-driven-design"],"answers":[{"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680185741,"creation_date":1680185636,"answer_id":75889354,"question_id":75887930,"body_markdown":"I noticed that you tagged your question with `domain-driven-design`. One of the key principles in domain driven design is that every aggregate has one root and that operations on that aggregate happen via the root. Looking at the example that you provided it looks like that encapsulation is broken.\r\n\r\nI recommend to rethink your design. Some questions that could help in that effort:\r\n - Can a user exist without a shopping cart (for example when he has just logged in) or is he assigned an empty shopping cart during creation?\r\n - Can a shopping cart exist without a user (likely not) -&gt; This may be a pointer that all operations on shopping cart actually have to go via its aggregate root which is user. So now you could question why `User` needs to be an attribute of `ShoppingCart`, since `ShoppingCart` can never be accessed directly, it always has to be accessed via `User`.","title":"Java Domain and DAO Mapper","body":"<p>I noticed that you tagged your question with <code>domain-driven-design</code>. One of the key principles in domain driven design is that every aggregate has one root and that operations on that aggregate happen via the root. Looking at the example that you provided it looks like that encapsulation is broken.</p>\n<p>I recommend to rethink your design. Some questions that could help in that effort:</p>\n<ul>\n<li>Can a user exist without a shopping cart (for example when he has just logged in) or is he assigned an empty shopping cart during creation?</li>\n<li>Can a shopping cart exist without a user (likely not) -&gt; This may be a pointer that all operations on shopping cart actually have to go via its aggregate root which is user. So now you could question why <code>User</code> needs to be an attribute of <code>ShoppingCart</code>, since <code>ShoppingCart</code> can never be accessed directly, it always has to be accessed via <code>User</code>.</li>\n</ul>\n"}],"owner":{"account_id":21978200,"reputation":25,"user_id":16253680,"display_name":"Adrian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680185741,"creation_date":1680177236,"question_id":75887930,"body_markdown":"The structure of the project is that there are Domain objects that are used to perform some logical operations on them and DAO objects that are only used to save and read data from the database. And after reading the DAO object from the database there are mappers whose job is to convert the DAO object to the Domain version.\r\n\r\nSample of a Domain object:\r\n``` \r\npublic class User {\r\n    UserId userId;\r\n\tString name;\r\n\tShoppingCart shoppingCart;\r\n    ...\r\n}\r\n\r\npublic class ShoppingCart {\r\n    ShoppingCartId shoppingCartId;\r\n    float price;\r\n\tUser user;\r\n    ...\r\n}\r\n``` \r\n\r\nSample of DAO objects:\r\n``` \r\npublic class UserDAO {\r\n    Long id;\r\n\tString name;\r\n\tShoppingCartDAO shoppingCart;\r\n    ...\r\n}\r\n\r\npublic class ShoppingCartDAO {\r\n    Long id;\r\n    float price;\r\n\tUserDAO user;\r\n    ...\r\n}\r\n``` \r\nBut there is a problem when the DAO object has a relation with another object and this relation is bidirectional. \r\n\r\nFor example:\r\nUser object has ShoppingCart object inside and ShoppingCart has User object inside in @OneToOne relation.\r\n\r\nThe idea of mappers is that they map the whole object so the mapper for the User object would rewrite regular fields into UserDAO and would run mapper for ShoppingCart so it can convert it so ShoppingCartDAO and assign it to UserDAO. But once it does so the mapper ShoppingCart mapper will try to map the User to DAO and it ends up in a loop of mappers calling each other. \r\n\r\nSample mapper:\r\n``` \r\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class UserDAOMapper {\r\n\r\n    public static UserDAO toDAO(User user) {\r\n\r\n        return UserDAO.builder()\r\n                .id(user.getUserId().getId())\r\n                .name(user.getName())\r\n                .shoppingCart(ShoppingCartDAOMapper.toDAO(user.getShoppingCar())\r\n                .build();\r\n    }\r\n}\r\n``` \r\n\r\nHow can I avoid such loops and at the same time keep the code simple? The only solution I see so far is the usage of Factory services that would take a list of arguments with objects inside the object and map it only if the passed argument is null. ","title":"Java Domain and DAO Mapper","body":"<p>The structure of the project is that there are Domain objects that are used to perform some logical operations on them and DAO objects that are only used to save and read data from the database. And after reading the DAO object from the database there are mappers whose job is to convert the DAO object to the Domain version.</p>\n<p>Sample of a Domain object:</p>\n<pre><code>public class User {\n    UserId userId;\n    String name;\n    ShoppingCart shoppingCart;\n    ...\n}\n\npublic class ShoppingCart {\n    ShoppingCartId shoppingCartId;\n    float price;\n    User user;\n    ...\n}\n</code></pre>\n<p>Sample of DAO objects:</p>\n<pre><code>public class UserDAO {\n    Long id;\n    String name;\n    ShoppingCartDAO shoppingCart;\n    ...\n}\n\npublic class ShoppingCartDAO {\n    Long id;\n    float price;\n    UserDAO user;\n    ...\n}\n</code></pre>\n<p>But there is a problem when the DAO object has a relation with another object and this relation is bidirectional.</p>\n<p>For example:\nUser object has ShoppingCart object inside and ShoppingCart has User object inside in @OneToOne relation.</p>\n<p>The idea of mappers is that they map the whole object so the mapper for the User object would rewrite regular fields into UserDAO and would run mapper for ShoppingCart so it can convert it so ShoppingCartDAO and assign it to UserDAO. But once it does so the mapper ShoppingCart mapper will try to map the User to DAO and it ends up in a loop of mappers calling each other.</p>\n<p>Sample mapper:</p>\n<pre><code>@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class UserDAOMapper {\n\n    public static UserDAO toDAO(User user) {\n\n        return UserDAO.builder()\n                .id(user.getUserId().getId())\n                .name(user.getName())\n                .shoppingCart(ShoppingCartDAOMapper.toDAO(user.getShoppingCar())\n                .build();\n    }\n}\n</code></pre>\n<p>How can I avoid such loops and at the same time keep the code simple? The only solution I see so far is the usage of Factory services that would take a list of arguments with objects inside the object and map it only if the passed argument is null.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680194183,"post_id":75886098,"comment_id":133860669,"body_markdown":"Realistically, you should not create a JVM max heap size that large, anyway. GC pauses will take forever.","body":"Realistically, you should not create a JVM max heap size that large, anyway. GC pauses will take forever."}],"answers":[{"tags":[],"owner":{"account_id":12285741,"reputation":155,"user_id":8965263,"display_name":"Joom187"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680185561,"creation_date":1680185561,"answer_id":75889338,"question_id":75886098,"body_markdown":"These kinds of errors can not only occur because the total amount of heap space is exhausted, but also when the number of memory-mapped areas is exhausted.\r\n\r\nIn Linux, the maximum per-process number of map areas is controlled by vm.max_map_count sysctl parameter (which defaults to 65536). So, i would try, for example, to double it and examine what happens:\r\n\r\nsysctl -w vm.max_map_count=131072\r\nAn indicator that you have hit into this problem is when the heap dump lists a huge number of open mmap areas (under &quot;Dynamic Libraries&quot; section)\r\n\r\n ","title":"Kafka Jvm out of memory","body":"<p>These kinds of errors can not only occur because the total amount of heap space is exhausted, but also when the number of memory-mapped areas is exhausted.</p>\n<p>In Linux, the maximum per-process number of map areas is controlled by vm.max_map_count sysctl parameter (which defaults to 65536). So, i would try, for example, to double it and examine what happens:</p>\n<p>sysctl -w vm.max_map_count=131072\nAn indicator that you have hit into this problem is when the heap dump lists a huge number of open mmap areas (under &quot;Dynamic Libraries&quot; section)</p>\n"}],"owner":{"account_id":12285741,"reputation":155,"user_id":8965263,"display_name":"Joom187"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680185561,"creation_date":1680166568,"question_id":75886098,"body_markdown":"have 1 kafka broker and 1 zookeeper on same VM with following specs\r\n```\r\n\r\nVcpu: 96\r\n\r\nRAM: 442GB\r\n```\r\n\r\nAnd for testing purposes I want to test how many partitions can will be on broker so I do the following steps\r\n\r\n```\r\n\r\n    Create topic with 128 partitions\r\n    Scale this topics to 50.000 partitions\r\n```\r\n\r\nThen when number of partitions reach the 32168 partitions, kafka brokers Exited with following error log hs_err_pid.log\r\n\r\n```\r\n\r\n head -100 hs_err_pid120814.log\r\n\r\n\r\n\r\n There is insufficient memory for the Java Runtime Environment to continue.\r\n\r\n Native memory allocation (mmap) failed to map 262144 bytes for committing reserved memory.\r\n\r\n Possible reasons:\r\n\r\n   The system is out of physical RAM or swap space\r\n\r\n Possible solutions:\r\n\r\n   Reduce memory load on the system\r\n\r\n   Increase physical memory or swap space\r\n\r\n   Check if swap backing store is full\r\n\r\n   Decrease Java heap size (-Xmx/-Xms)\r\n\r\n   Decrease number of Java threads\r\n\r\n  Decrease Java thread stack sizes (-Xss)\r\n\r\n   Set larger code cache with -XX:ReservedCodeCacheSize=\r\n\r\n This output file may be truncated or incomplete.\r\n\r\n\r\n\r\n  Out of Memory Error (os_linux.cpp:2795), pid=120814, tid=0x00007f4ba5e2d700\r\n\r\n\r\n\r\n JRE version: OpenJDK Runtime Environment (8.0_362-b09) (build 1.8.0_362-b09)\r\n\r\n Java VM: OpenJDK 64-Bit Server VM (25.362-b09 mixed mode linux-amd64 )\r\n\r\n```\r\n\r\n\r\n But why Out Of memory? Here is Kafka heap size\r\n\r\n\r\n**Environment=&quot;KAFKA_HEAP_OPTS=-Xms1G -Xmx96G&quot;**\r\n\r\n\r\nand here is pick RAM consumption when partitions is created\r\n\r\n```\r\nfree -h\r\n\r\n          total        used        free      shared  buff/cache   available\r\n\r\nMem: 442Gi 7.4Gi 435Gi 2.2Gi 4.5Gi 435Gi\r\n\r\nSwap: 0B 0B 0B\r\n```\r\n\r\nWhy it is exited because of RAM? I have no limits in my linux system\r\n\r\n\r\n```\r\nulimit -a\r\n\r\ncore file size          (blocks, -c) unlimited\r\n\r\ndata seg size           (kbytes, -d) unlimited\r\n\r\nscheduling priority             (-e) 0\r\n\r\nfile size               (blocks, -f) unlimited\r\n\r\npending signals                 (-i) unlimited\r\n\r\nmax locked memory       (kbytes, -l) unlimited\r\n\r\nmax memory size         (kbytes, -m) unlimited\r\n\r\nopen files                      (-n) 1048576\r\n\r\npipe size            (512 bytes, -p) 8\r\n\r\nPOSIX message queues     (bytes, -q) unlimited\r\n\r\nreal-time priority              (-r) 0\r\n\r\nstack size              (kbytes, -s) unlimited\r\n\r\ncpu time               (seconds, -t) unlimited\r\n\r\nmax user processes              (-u) unlimited\r\n\r\nvirtual memory          (kbytes, -v) unlimited\r\n\r\nfile locks                      (-x) unlimited\r\n```\r\n","title":"Kafka Jvm out of memory","body":"<p>have 1 kafka broker and 1 zookeeper on same VM with following specs</p>\n<pre><code>\nVcpu: 96\n\nRAM: 442GB\n</code></pre>\n<p>And for testing purposes I want to test how many partitions can will be on broker so I do the following steps</p>\n<pre><code>\n    Create topic with 128 partitions\n    Scale this topics to 50.000 partitions\n</code></pre>\n<p>Then when number of partitions reach the 32168 partitions, kafka brokers Exited with following error log hs_err_pid.log</p>\n<pre><code>\n head -100 hs_err_pid120814.log\n\n\n\n There is insufficient memory for the Java Runtime Environment to continue.\n\n Native memory allocation (mmap) failed to map 262144 bytes for committing reserved memory.\n\n Possible reasons:\n\n   The system is out of physical RAM or swap space\n\n Possible solutions:\n\n   Reduce memory load on the system\n\n   Increase physical memory or swap space\n\n   Check if swap backing store is full\n\n   Decrease Java heap size (-Xmx/-Xms)\n\n   Decrease number of Java threads\n\n  Decrease Java thread stack sizes (-Xss)\n\n   Set larger code cache with -XX:ReservedCodeCacheSize=\n\n This output file may be truncated or incomplete.\n\n\n\n  Out of Memory Error (os_linux.cpp:2795), pid=120814, tid=0x00007f4ba5e2d700\n\n\n\n JRE version: OpenJDK Runtime Environment (8.0_362-b09) (build 1.8.0_362-b09)\n\n Java VM: OpenJDK 64-Bit Server VM (25.362-b09 mixed mode linux-amd64 )\n\n</code></pre>\n<p>But why Out Of memory? Here is Kafka heap size</p>\n<p><strong>Environment=&quot;KAFKA_HEAP_OPTS=-Xms1G -Xmx96G&quot;</strong></p>\n<p>and here is pick RAM consumption when partitions is created</p>\n<pre><code>free -h\n\n          total        used        free      shared  buff/cache   available\n\nMem: 442Gi 7.4Gi 435Gi 2.2Gi 4.5Gi 435Gi\n\nSwap: 0B 0B 0B\n</code></pre>\n<p>Why it is exited because of RAM? I have no limits in my linux system</p>\n<pre><code>ulimit -a\n\ncore file size          (blocks, -c) unlimited\n\ndata seg size           (kbytes, -d) unlimited\n\nscheduling priority             (-e) 0\n\nfile size               (blocks, -f) unlimited\n\npending signals                 (-i) unlimited\n\nmax locked memory       (kbytes, -l) unlimited\n\nmax memory size         (kbytes, -m) unlimited\n\nopen files                      (-n) 1048576\n\npipe size            (512 bytes, -p) 8\n\nPOSIX message queues     (bytes, -q) unlimited\n\nreal-time priority              (-r) 0\n\nstack size              (kbytes, -s) unlimited\n\ncpu time               (seconds, -t) unlimited\n\nmax user processes              (-u) unlimited\n\nvirtual memory          (kbytes, -v) unlimited\n\nfile locks                      (-x) unlimited\n</code></pre>\n"},{"tags":["java","mysql","hibernate"],"owner":{"account_id":5220340,"reputation":51,"user_id":5908972,"display_name":"Vaibhav Khandekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680185503,"creation_date":1680185503,"question_id":75889331,"body_markdown":"I want to join 1 table to another using hibernate. \r\n\r\n    Invitation (\r\n    primary key (id, config_version_id),\r\n    other columns\r\n    );\r\n\r\n    ConfigVersion(\r\n    primary key (id),\r\n    boolean active\r\n    other columns\r\n    );\r\n\r\n\r\n    User(\r\n    primary key (id),\r\n    InvitationId\r\n    )\r\n\r\n\r\nI want to join User table to Invitation Table, But this join should only use InvitationId, and it should consider config_version having active = true;\r\n\r\nI tried the following, it did not work.\r\n\r\n    Class User {\r\n    @Id\r\n    private Long id;\r\n    \r\n    @ManyToOne\r\n    @JoinColumnsOrFormulas(\r\n    value = {\r\n    @JoinColumnOrFormula(column = @JoinColumn(name = &quot;invitation_id&quot;, referencedColumnName = &quot;id&quot;)),\r\n    @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;(SELECT id  from config_version where active = true)&quot;))\r\n    })\r\n    Invitation invitation;\r\n    \r\n    }\r\n\r\nIn MySQL the query would be,\r\n\r\n    select * from user u\r\n    inner join invitation i on i.id = u.invitationId and i.config_version_id = (select id from configVersion where id = i.config_version_id and active = true)\r\n\r\n","title":"Hibernate: Map composite key using one joinColumn and one direct query","body":"<p>I want to join 1 table to another using hibernate.</p>\n<pre><code>Invitation (\nprimary key (id, config_version_id),\nother columns\n);\n\nConfigVersion(\nprimary key (id),\nboolean active\nother columns\n);\n\n\nUser(\nprimary key (id),\nInvitationId\n)\n</code></pre>\n<p>I want to join User table to Invitation Table, But this join should only use InvitationId, and it should consider config_version having active = true;</p>\n<p>I tried the following, it did not work.</p>\n<pre><code>Class User {\n@Id\nprivate Long id;\n\n@ManyToOne\n@JoinColumnsOrFormulas(\nvalue = {\n@JoinColumnOrFormula(column = @JoinColumn(name = &quot;invitation_id&quot;, referencedColumnName = &quot;id&quot;)),\n@JoinColumnOrFormula(formula = @JoinFormula(value = &quot;(SELECT id  from config_version where active = true)&quot;))\n})\nInvitation invitation;\n\n}\n</code></pre>\n<p>In MySQL the query would be,</p>\n<pre><code>select * from user u\ninner join invitation i on i.id = u.invitationId and i.config_version_id = (select id from configVersion where id = i.config_version_id and active = true)\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","handlerinterceptor"],"comments":[{"owner":{"account_id":15670743,"reputation":135,"user_id":11307336,"display_name":"zoobiE-"},"score":0,"creation_date":1680181475,"post_id":75888564,"comment_id":133856901,"body_markdown":"Can you please include some additional information regarding versions, Spring etc. \nAlso I believe you would need to ensure every library is up to date with jakarta dependencies and not using any old javax ones.","body":"Can you please include some additional information regarding versions, Spring etc.  Also I believe you would need to ensure every library is up to date with jakarta dependencies and not using any old javax ones."},{"owner":{"account_id":4122476,"reputation":71,"user_id":3382421,"display_name":"witilongi"},"score":0,"creation_date":1680184135,"post_id":75888564,"comment_id":133857769,"body_markdown":"Yes of course!! Spring-web in library is version 6.0.5 and spring-web in war project is 5.3.23. I hope this help you!","body":"Yes of course!! Spring-web in library is version 6.0.5 and spring-web in war project is 5.3.23. I hope this help you!"},{"owner":{"account_id":15670743,"reputation":135,"user_id":11307336,"display_name":"zoobiE-"},"score":0,"creation_date":1680254178,"post_id":75888564,"comment_id":133870537,"body_markdown":"There is your problem, you can&#39;t mix those unfortunately since one is using javax and other Jakarta dependencies.","body":"There is your problem, you can&#39;t mix those unfortunately since one is using javax and other Jakarta dependencies."}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680185430,"creation_date":1680185430,"answer_id":75889320,"question_id":75888564,"body_markdown":"You cannot mix Spring MVC 5.3.x and 6.0.x in the same application. As you have seen, the former requires `javax.servlet` while the latter requires `jakarta.servlet`. You will either have to upgrade your war project to use Spring Framework 6.0.x or downgrade you library to use Spring Framework 5.3.x. The servlet container to which you are deploying the war file will determine which is the better approach. If it supports Servlet 5.0 or later, you should upgrade to Spring Framework 6.0. If it only supports Servlet 4.0, you should downgrade to Spring Framework 5.3.","title":"HandlerInterceptor with jakarta HttpServletRequest not working with javax HttpServletRequest","body":"<p>You cannot mix Spring MVC 5.3.x and 6.0.x in the same application. As you have seen, the former requires <code>javax.servlet</code> while the latter requires <code>jakarta.servlet</code>. You will either have to upgrade your war project to use Spring Framework 6.0.x or downgrade you library to use Spring Framework 5.3.x. The servlet container to which you are deploying the war file will determine which is the better approach. If it supports Servlet 5.0 or later, you should upgrade to Spring Framework 6.0. If it only supports Servlet 4.0, you should downgrade to Spring Framework 5.3.</p>\n"}],"owner":{"account_id":4122476,"reputation":71,"user_id":3382421,"display_name":"witilongi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680185430,"creation_date":1680180971,"question_id":75888564,"body_markdown":"I have a HandlerInterceptor implemented with jakarta libraries:\r\n\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    \r\n    \r\n    \r\n    @ControllerAdvice\r\n    public class RequestGETInterceptor implements HandlerInterceptor {\r\n    \r\n        /** The log. */\r\n        private final Logger log = LoggerFactory.getLogger(this.getClass());\r\n    \r\n        @Autowired\r\n        private Tracer       tracer;\r\n    \r\n        public boolean preHandle(final HttpServletRequest request, final HttpServletResponse response,\r\n                final Object handler) {\r\n    \r\n            if (DispatcherType.REQUEST.name().equals(request.getDispatcherType().name())\r\n                    &amp;&amp; request.getMethod().equals(HttpMethod.GET.name())) {\r\n                Collections.list(request.getHeaderNames()).stream().collect(Collectors.toMap(h -&gt; h, request::getHeader));\r\n                request.getAttribute(HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE);\r\n                if (handler instanceof HandlerMethod) {\r\n                    ((HandlerMethod) handler).getMethod().getName();\r\n                }\r\n    \r\n                final Span span = this.tracer.currentSpan();\r\n                this.log.info(&quot;{} Request {}&quot;, request.getMethod(), span.context().spanId());\r\n    \r\n                // log.info(&quot;headers: {} {} request: {}&quot;, headers, StructuredArguments.keyValue(&quot;method&quot;, method),\r\n                // StructuredArguments.keyValue(&quot;request&quot;, parametersInput));\r\n            }\r\n    \r\n            return true;\r\n        }\r\n\r\nAnd I register this Interceptor in configuration of my app with SpringBoot:\r\n\r\n    @Configuration\r\n    public class WebConfigInterceptors implements WebMvcConfigurer {\r\n    \r\n        @Autowired\r\n        private RequestGETInterceptor getInterceptor;\r\n    \r\n        @Override\r\n        public void addInterceptors(InterceptorRegistry registry) {\r\n            registry.addInterceptor(getInterceptor);\r\n        }\r\n    \r\n    }\r\n\r\nThe problem, I think, is that my project uses javax libraries and my library (where the interceptor stay in) use jakarta libraris and doesn&#39;t intercept the requests. Any idea for solve this?\r\n\r\nThanks!!!\r\n\r\n\r\n","title":"HandlerInterceptor with jakarta HttpServletRequest not working with javax HttpServletRequest","body":"<p>I have a HandlerInterceptor implemented with jakarta libraries:</p>\n<pre><code>import jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n\n\n@ControllerAdvice\npublic class RequestGETInterceptor implements HandlerInterceptor {\n\n    /** The log. */\n    private final Logger log = LoggerFactory.getLogger(this.getClass());\n\n    @Autowired\n    private Tracer       tracer;\n\n    public boolean preHandle(final HttpServletRequest request, final HttpServletResponse response,\n            final Object handler) {\n\n        if (DispatcherType.REQUEST.name().equals(request.getDispatcherType().name())\n                &amp;&amp; request.getMethod().equals(HttpMethod.GET.name())) {\n            Collections.list(request.getHeaderNames()).stream().collect(Collectors.toMap(h -&gt; h, request::getHeader));\n            request.getAttribute(HandlerMapping.URI_TEMPLATE_VARIABLES_ATTRIBUTE);\n            if (handler instanceof HandlerMethod) {\n                ((HandlerMethod) handler).getMethod().getName();\n            }\n\n            final Span span = this.tracer.currentSpan();\n            this.log.info(&quot;{} Request {}&quot;, request.getMethod(), span.context().spanId());\n\n            // log.info(&quot;headers: {} {} request: {}&quot;, headers, StructuredArguments.keyValue(&quot;method&quot;, method),\n            // StructuredArguments.keyValue(&quot;request&quot;, parametersInput));\n        }\n\n        return true;\n    }\n</code></pre>\n<p>And I register this Interceptor in configuration of my app with SpringBoot:</p>\n<pre><code>@Configuration\npublic class WebConfigInterceptors implements WebMvcConfigurer {\n\n    @Autowired\n    private RequestGETInterceptor getInterceptor;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(getInterceptor);\n    }\n\n}\n</code></pre>\n<p>The problem, I think, is that my project uses javax libraries and my library (where the interceptor stay in) use jakarta libraris and doesn't intercept the requests. Any idea for solve this?</p>\n<p>Thanks!!!</p>\n"},{"tags":["java","gradle","build.gradle"],"owner":{"account_id":3608930,"reputation":331,"user_id":3010454,"display_name":"othp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680185427,"creation_date":1680185427,"question_id":75889319,"body_markdown":"I recently updated a large project to use java.time instead of joda.time. Unfortunately, I wasn&#39;t able to remove joda.time completely from the classpath because some thirdparty dependencies depend on it. Since many classes in joda.time and java.time have the same or similar names, I wanted to avoid other members of the team accidentally importing and using joda.time in new code when their IDE tries to be helpful and adds the import statement for them. To that end, I wanted to update the build.grade file to make the joda.time dependency runtime only. \r\n\r\nI ended up adding a `runtimeOnly(&#39;joda-time:joda-time:2.10.8&#39;)` line to my dependencies configuration and then for each dependency that pulled in joda I added an `exclude module: &#39;joda-time&#39;`. This works but requires that the same exclude be added every time anyone adds a new dependency that uses joda (which is likely to be forgotten) and was extra annoying when joda wasn&#39;t a direct dependency (if my project needs A which depends on B which depends on joda I had to configure A with an exclude of B and include B myself with an exclude of joda). I&#39;d rather have something at a higher level, like how adding exclude statements to `configurations.all` excludes a dependency from everything. \r\n\r\nThere are obviously other solutions to this involving IDE configuration changes, linting rules, developer training, etc; but I would like to know if there&#39;s a straightforward way to tell gradle to convert a transitive dependency from being on the compile and runtime classpaths to being runtime only.","title":"Is it possible to force a transitive dependency in gradle to be runtime only?","body":"<p>I recently updated a large project to use java.time instead of joda.time. Unfortunately, I wasn't able to remove joda.time completely from the classpath because some thirdparty dependencies depend on it. Since many classes in joda.time and java.time have the same or similar names, I wanted to avoid other members of the team accidentally importing and using joda.time in new code when their IDE tries to be helpful and adds the import statement for them. To that end, I wanted to update the build.grade file to make the joda.time dependency runtime only.</p>\n<p>I ended up adding a <code>runtimeOnly('joda-time:joda-time:2.10.8')</code> line to my dependencies configuration and then for each dependency that pulled in joda I added an <code>exclude module: 'joda-time'</code>. This works but requires that the same exclude be added every time anyone adds a new dependency that uses joda (which is likely to be forgotten) and was extra annoying when joda wasn't a direct dependency (if my project needs A which depends on B which depends on joda I had to configure A with an exclude of B and include B myself with an exclude of joda). I'd rather have something at a higher level, like how adding exclude statements to <code>configurations.all</code> excludes a dependency from everything.</p>\n<p>There are obviously other solutions to this involving IDE configuration changes, linting rules, developer training, etc; but I would like to know if there's a straightforward way to tell gradle to convert a transitive dependency from being on the compile and runtime classpaths to being runtime only.</p>\n"},{"tags":["java","spring-boot","kubernetes","config","classnotfoundexception"],"comments":[{"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"score":0,"creation_date":1680179429,"post_id":75888265,"comment_id":133856272,"body_markdown":"It probably has to do with your Java version. Make sure that the java version that you use in  your computer when running this is same as the java version used in Kubernetes. Check your dockerfile to find which java version it uses. run `java --version` in your computer to find out your local java version. Both must match.","body":"It probably has to do with your Java version. Make sure that the java version that you use in  your computer when running this is same as the java version used in Kubernetes. Check your dockerfile to find which java version it uses. run <code>java --version</code> in your computer to find out your local java version. Both must match."}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680185245,"creation_date":1680185245,"answer_id":75889288,"question_id":75888265,"body_markdown":"The version of Spring Cloud Kubernetes that you are using (1.1.10.RELEASE) requires Spring Boot 2.2.x. You are using 2.0.x. This older version of Spring Boot uses an older version of Spring Framework that does not contain the `org.springframework.core.env.Profiles` class. It was introduced in Spring Framework 5.1 and Spring Boot 2.0.x uses Spring Framework 5.0.x.\r\n\r\nYou should update your dependency versions to ensure that they&#39;re compatible. To make it easier to do so, I would recommend using the `spring-cloud-dependencies` bom as shown on its [project page](https://spring.io/projects/spring-cloud).","title":"Caused by: java.lang.ClassNotFoundException: org.springframework.core.env.Profiles","body":"<p>The version of Spring Cloud Kubernetes that you are using (1.1.10.RELEASE) requires Spring Boot 2.2.x. You are using 2.0.x. This older version of Spring Boot uses an older version of Spring Framework that does not contain the <code>org.springframework.core.env.Profiles</code> class. It was introduced in Spring Framework 5.1 and Spring Boot 2.0.x uses Spring Framework 5.0.x.</p>\n<p>You should update your dependency versions to ensure that they're compatible. To make it easier to do so, I would recommend using the <code>spring-cloud-dependencies</code> bom as shown on its <a href=\"https://spring.io/projects/spring-cloud\" rel=\"nofollow noreferrer\">project page</a>.</p>\n"}],"owner":{"account_id":20667761,"reputation":53,"user_id":15174185,"display_name":"Chaithra Shenoy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":760,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75889288,"answer_count":1,"score":1,"last_activity_date":1680185245,"creation_date":1680179156,"question_id":75888265,"body_markdown":"When I run the application locally the application is up and running but when i deploy the same application in the Kubernetes cluster i am getting the error \r\n\r\n**Error** \r\n```\r\njava.lang.NoClassDefFoundError: org/springframework/core/env/Profiles\r\n        at org.springframework.cloud.kubernetes.config.PropertySourceUtils.lambda$null$3(PropertySourceUtils.java:69)\r\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:239)\r\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:167)\r\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:139)\r\n        at org.springframework.beans.factory.config.YamlPropertiesFactoryBean.createProperties(YamlPropertiesFactoryBean.java:135)\r\n        at org.springframework.beans.factory.config.YamlPropertiesFactoryBean.getObject(YamlPropertiesFactoryBean.java:115)\r\n        at org.springframework.cloud.kubernetes.config.PropertySourceUtils.lambda$yamlParserGenerator$4(PropertySourceUtils.java:77)\r\n        at java.util.function.Function.lambda$andThen$1(Function.java:88)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.processAllEntries(ConfigMapPropertySource.java:149)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.getData(ConfigMapPropertySource.java:100)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.&lt;init&gt;(ConfigMapPropertySource.java:78)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.getMapPropertySourceForSingleConfigMap(ConfigMapPropertySourceLocator.java:96)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.lambda$locate$0(ConfigMapPropertySourceLocator.java:79)\r\n        at java.util.ArrayList.forEach(ArrayList.java:1259)\r\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.locate(ConfigMapPropertySourceLocator.java:78)\r\n        at org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:94)\r\n        at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:628)\r\n        at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:364)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1242)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1230)\r\n        at com.daimler.daivb.msl.MbappsSnapLocalSearchServiceApplication.main(MbappsSnapLocalSearchServiceApplication.java:30)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.env.Profiles\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\r\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n```\r\n\r\nDependencies I am using in the application are \r\n\r\n1. spring-boot-starter-web - 2.0.8.RELEASE\r\n2. gson                    - 2.3.1\r\n3. json-lib                - 2.3\r\n4. spring-cloud-starter-kubernetes-config -1.1.10.RELEASE\r\n5. json                    - 20230227\r\n6. xmlrpc-client           - 3.1.3\r\n7. spring-security-oauth2-autoconfigure - 2.0.8.RELEASE\r\n8. spring-security-config\r\n9. spring-security-web\r\n10. spring-cloud-starter-openfeign - 2.0.0.RELEASE\r\n11. spring-cloud-starter-netflix-ribbon - 2.0.0.RELEASE\r\n12. spring-boot-starter-actuator\r\n13. commons-lang3           - 3.8.1\r\n14. lombok\r\n15. spring-cloud-starter-config - 2.0.3.RELEASE\r\n16. micrometer-registry-prometheus - 1.2.2\r\n17. micrometer-core - 1.2.2\r\n18. spring-boot-starter-test\r\n19. spring-cloud-dependencies - Finchley.SR3\r\n","title":"Caused by: java.lang.ClassNotFoundException: org.springframework.core.env.Profiles","body":"<p>When I run the application locally the application is up and running but when i deploy the same application in the Kubernetes cluster i am getting the error</p>\n<p><strong>Error</strong></p>\n<pre><code>java.lang.NoClassDefFoundError: org/springframework/core/env/Profiles\n        at org.springframework.cloud.kubernetes.config.PropertySourceUtils.lambda$null$3(PropertySourceUtils.java:69)\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:239)\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:167)\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:139)\n        at org.springframework.beans.factory.config.YamlPropertiesFactoryBean.createProperties(YamlPropertiesFactoryBean.java:135)\n        at org.springframework.beans.factory.config.YamlPropertiesFactoryBean.getObject(YamlPropertiesFactoryBean.java:115)\n        at org.springframework.cloud.kubernetes.config.PropertySourceUtils.lambda$yamlParserGenerator$4(PropertySourceUtils.java:77)\n        at java.util.function.Function.lambda$andThen$1(Function.java:88)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.processAllEntries(ConfigMapPropertySource.java:149)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.getData(ConfigMapPropertySource.java:100)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySource.&lt;init&gt;(ConfigMapPropertySource.java:78)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.getMapPropertySourceForSingleConfigMap(ConfigMapPropertySourceLocator.java:96)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.lambda$locate$0(ConfigMapPropertySourceLocator.java:79)\n        at java.util.ArrayList.forEach(ArrayList.java:1259)\n        at org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator.locate(ConfigMapPropertySourceLocator.java:78)\n        at org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:94)\n        at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:628)\n        at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:364)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:305)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1242)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1230)\n        at com.daimler.daivb.msl.MbappsSnapLocalSearchServiceApplication.main(MbappsSnapLocalSearchServiceApplication.java:30)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.env.Profiles\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n</code></pre>\n<p>Dependencies I am using in the application are</p>\n<ol>\n<li>spring-boot-starter-web - 2.0.8.RELEASE</li>\n<li>gson                    - 2.3.1</li>\n<li>json-lib                - 2.3</li>\n<li>spring-cloud-starter-kubernetes-config -1.1.10.RELEASE</li>\n<li>json                    - 20230227</li>\n<li>xmlrpc-client           - 3.1.3</li>\n<li>spring-security-oauth2-autoconfigure - 2.0.8.RELEASE</li>\n<li>spring-security-config</li>\n<li>spring-security-web</li>\n<li>spring-cloud-starter-openfeign - 2.0.0.RELEASE</li>\n<li>spring-cloud-starter-netflix-ribbon - 2.0.0.RELEASE</li>\n<li>spring-boot-starter-actuator</li>\n<li>commons-lang3           - 3.8.1</li>\n<li>lombok</li>\n<li>spring-cloud-starter-config - 2.0.3.RELEASE</li>\n<li>micrometer-registry-prometheus - 1.2.2</li>\n<li>micrometer-core - 1.2.2</li>\n<li>spring-boot-starter-test</li>\n<li>spring-cloud-dependencies - Finchley.SR3</li>\n</ol>\n"},{"tags":["java","firebase","android-studio"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1680154110,"post_id":75883939,"comment_id":133850326,"body_markdown":"I&#39;m having a hard time understanding what the problem is.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1680211344,"post_id":75883939,"comment_id":133864591,"body_markdown":"You need to add the error you&#39;re getting to your question and also add your xml file.","body":"You need to add the error you&#39;re getting to your question and also add your xml file."}],"owner":{"account_id":26872758,"reputation":1,"user_id":20454464,"display_name":"Sam_Paris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680185241,"creation_date":1680147885,"question_id":75883939,"body_markdown":"I&#39;m trying to have the users email which is a textview for that menu show up on the menu in a main activity but I have no clue how to have it instantiated [error][1]in the main activity java file   \r\n\r\n```\r\npackage com.example.mymycology;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\nFirebaseAuth auth;\r\nTextView textView;\r\nFirebaseUser user;\r\n\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.logout_menu, menu);\r\n        return true;\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.Logout:\r\n                FirebaseAuth.getInstance().signOut();\r\n                Intent intent  = new Intent(getApplicationContext(), Login.class);\r\n                startActivity(intent);\r\n                finish();\r\n\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState ) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        auth = FirebaseAuth.getInstance();\r\n        user = auth.getCurrentUser();\r\n        textView = findViewById(R.id.user_details);\r\n        \r\n        if (user == null) {\r\n            Intent intent  = new Intent(getApplicationContext(), Login.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }else{\r\n            textView.setText(user.getEmail());\r\n        }\r\n\r\n        }\r\n    }\r\n```\r\n\r\nUser details is the ID for that Text in the menu the error is where i try to set the textview to that id\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oAuMb.png","title":"How can I Initiate a TextView item from a menu xml in a Main Activity in android studio","body":"<p>I'm trying to have the users email which is a textview for that menu show up on the menu in a main activity but I have no clue how to have it instantiated <a href=\"https://i.stack.imgur.com/oAuMb.png\" rel=\"nofollow noreferrer\">error</a>in the main activity java file</p>\n<pre><code>package com.example.mymycology;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.Spinner;\nimport android.widget.TextView;\n\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\n\npublic class MainActivity extends AppCompatActivity {\nFirebaseAuth auth;\nTextView textView;\nFirebaseUser user;\n\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.logout_menu, menu);\n        return true;\n    }\n\n\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.Logout:\n                FirebaseAuth.getInstance().signOut();\n                Intent intent  = new Intent(getApplicationContext(), Login.class);\n                startActivity(intent);\n                finish();\n\n        }\n\n        return super.onOptionsItemSelected(item);\n    }\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState ) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        auth = FirebaseAuth.getInstance();\n        user = auth.getCurrentUser();\n        textView = findViewById(R.id.user_details);\n        \n        if (user == null) {\n            Intent intent  = new Intent(getApplicationContext(), Login.class);\n            startActivity(intent);\n            finish();\n        }else{\n            textView.setText(user.getEmail());\n        }\n\n        }\n    }\n</code></pre>\n<p>User details is the ID for that Text in the menu the error is where i try to set the textview to that id</p>\n"},{"tags":["java","firebase","android-studio","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680349732,"post_id":75889244,"comment_id":133885604,"body_markdown":"Have you tried to check what happens if the Task is not successful?","body":"Have you tried to check what happens if the Task is not successful?"}],"owner":{"account_id":28169232,"reputation":1,"user_id":21528018,"display_name":"Josh 46"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680184888,"creation_date":1680184888,"question_id":75889244,"body_markdown":"So I am working on a android studio project where users can book on to a barbering service, For previous appointments to go into a history page, then have a field on firestore, called done, when its past the appointments due date/time the done field should change to true so that the appointment can be shown in the history page on the app. For some reason it is not doing it, can anyone see why.\r\n\r\nThis is how the directory and layout of the firestore for this problem is laid out:\r\n[Starts with collection User, into the documents that are the users emails, then into another collection called Booking and in this collection has each booking appointment.](https://i.stack.imgur.com/Xbizq.png)\r\n\r\nHere an example of one of the bookings with all the fields:\r\n[As you can see the done field is on false, which I need to change to true when its a past appointment.](https://i.stack.imgur.com/HEWTN.png)\r\n\r\nAs you can see the done field is on false, which I need to change to true when its a past appointment.\r\n\r\nHere is the code envolved with updating the done field:\r\n\r\n\r\n```\r\npackage com.example.loginpage.Firestore;\r\n\r\nimport android.util.Log;\r\n\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.Query;\r\n\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\n\r\npublic class UpdateDoneField {\r\n\r\n    private final FirebaseFirestore db;\r\n\r\n    public UpdateDoneField() {\r\n        db = FirebaseFirestore.getInstance();\r\n    }\r\n\r\n    public void updatePreviousBookings() {\r\n        // Get current time\r\n        Date currentTime = Calendar.getInstance().getTime();\r\n        Log.d(&quot;UpdateDoneField&quot;, &quot;Current time: &quot; + currentTime.toString());\r\n\r\n        // Get all user documents\r\n        CollectionReference usersRef = db.collection(&quot;User&quot;);\r\n        usersRef.get().addOnCompleteListener(task -&gt; {\r\n            if (task.isSuccessful()) {\r\n                Log.d(&quot;UpdateDoneField&quot;, &quot;Got user documents&quot;);\r\n                for (DocumentSnapshot userDoc : task.getResult().getDocuments()) {\r\n                    Log.d(&quot;UpdateDoneField&quot;, &quot;Got &quot; + task.getResult().size() + &quot; user documents&quot;);\r\n\r\n                    // Get user&#39;s booking collection\r\n                    CollectionReference bookingRef = userDoc.getReference().collection(&quot;Booking&quot;);\r\n\r\n                    // Query for previous bookings that are not done\r\n                    Query prevBookingsQuery = bookingRef.whereLessThan(&quot;time&quot;, currentTime).whereEqualTo(&quot;done&quot;, false);\r\n                    prevBookingsQuery.get().addOnCompleteListener(queryTask -&gt; {\r\n                        if (queryTask.isSuccessful()) {\r\n                            for (DocumentSnapshot prevBookingDoc : queryTask.getResult().getDocuments()) {\r\n                                // Update &#39;done&#39; field to true\r\n                                prevBookingDoc.getReference().update(&quot;done&quot;, true).addOnCompleteListener(Task::isSuccessful);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\nI then have the method called when the home fragment begins, so when I launch the app and the home fragment begins, it should go through the bookings automatically and change any previous bookings done fields to true.\r\n\r\nI have tried logging and it seems that when trying to receive the documents in the User collection it comes back as 0, which I actually have 2 documents as you can see in the image above.","title":"Can anyone help me figure out why these firestore fields will not update when I run this method?","body":"<p>So I am working on a android studio project where users can book on to a barbering service, For previous appointments to go into a history page, then have a field on firestore, called done, when its past the appointments due date/time the done field should change to true so that the appointment can be shown in the history page on the app. For some reason it is not doing it, can anyone see why.</p>\n<p>This is how the directory and layout of the firestore for this problem is laid out:\n<a href=\"https://i.stack.imgur.com/Xbizq.png\" rel=\"nofollow noreferrer\">Starts with collection User, into the documents that are the users emails, then into another collection called Booking and in this collection has each booking appointment.</a></p>\n<p>Here an example of one of the bookings with all the fields:\n<a href=\"https://i.stack.imgur.com/HEWTN.png\" rel=\"nofollow noreferrer\">As you can see the done field is on false, which I need to change to true when its a past appointment.</a></p>\n<p>As you can see the done field is on false, which I need to change to true when its a past appointment.</p>\n<p>Here is the code envolved with updating the done field:</p>\n<pre><code>package com.example.loginpage.Firestore;\n\nimport android.util.Log;\n\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.firestore.CollectionReference;\nimport com.google.firebase.firestore.DocumentSnapshot;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.Query;\n\nimport java.util.Calendar;\nimport java.util.Date;\n\npublic class UpdateDoneField {\n\n    private final FirebaseFirestore db;\n\n    public UpdateDoneField() {\n        db = FirebaseFirestore.getInstance();\n    }\n\n    public void updatePreviousBookings() {\n        // Get current time\n        Date currentTime = Calendar.getInstance().getTime();\n        Log.d(&quot;UpdateDoneField&quot;, &quot;Current time: &quot; + currentTime.toString());\n\n        // Get all user documents\n        CollectionReference usersRef = db.collection(&quot;User&quot;);\n        usersRef.get().addOnCompleteListener(task -&gt; {\n            if (task.isSuccessful()) {\n                Log.d(&quot;UpdateDoneField&quot;, &quot;Got user documents&quot;);\n                for (DocumentSnapshot userDoc : task.getResult().getDocuments()) {\n                    Log.d(&quot;UpdateDoneField&quot;, &quot;Got &quot; + task.getResult().size() + &quot; user documents&quot;);\n\n                    // Get user's booking collection\n                    CollectionReference bookingRef = userDoc.getReference().collection(&quot;Booking&quot;);\n\n                    // Query for previous bookings that are not done\n                    Query prevBookingsQuery = bookingRef.whereLessThan(&quot;time&quot;, currentTime).whereEqualTo(&quot;done&quot;, false);\n                    prevBookingsQuery.get().addOnCompleteListener(queryTask -&gt; {\n                        if (queryTask.isSuccessful()) {\n                            for (DocumentSnapshot prevBookingDoc : queryTask.getResult().getDocuments()) {\n                                // Update 'done' field to true\n                                prevBookingDoc.getReference().update(&quot;done&quot;, true).addOnCompleteListener(Task::isSuccessful);\n                            }\n                        }\n                    });\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>I then have the method called when the home fragment begins, so when I launch the app and the home fragment begins, it should go through the bookings automatically and change any previous bookings done fields to true.</p>\n<p>I have tried logging and it seems that when trying to receive the documents in the User collection it comes back as 0, which I actually have 2 documents as you can see in the image above.</p>\n"},{"tags":["java","android","layout"],"comments":[{"owner":{"account_id":111674,"reputation":20653,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"score":0,"creation_date":1614781637,"post_id":3316431,"comment_id":117489835,"body_markdown":"Does this answer your question? [What is textview.setTextSize()?](https://stackoverflow.com/questions/23590943/what-is-textview-settextsize)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23590943/what-is-textview-settextsize\">What is textview.setTextSize()?</a>"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1614848623,"post_id":3316431,"comment_id":117511961,"body_markdown":"Does this answer your question? [Android specifying pixel units (like sp, px, dp) without using XML](https://stackoverflow.com/questions/5012840/android-specifying-pixel-units-like-sp-px-dp-without-using-xml)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5012840/android-specifying-pixel-units-like-sp-px-dp-without-using-xml\">Android specifying pixel units (like sp, px, dp) without using XML</a>"}],"answers":[{"tags":[],"owner":{"account_id":104971,"reputation":4161,"user_id":280384,"accept_rate":71,"display_name":"sven"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1371641451,"creation_date":1297963184,"answer_id":5032267,"question_id":3316431,"body_markdown":"Solved &lt;a href=&quot;https://stackoverflow.com/questions/5012840/android-specifying-pixel-units-like-sp-px-dp-without-using-xml/5012893#5012893&quot;&gt;here&lt;/a&gt;.\r\n\r\nExtract:\r\n\r\n    DisplayMetrics metrics = getContext().getResources().getDisplayMetrics();\r\n    float dp = 20f;\r\n    float fpixels = metrics.density * dp;\r\n    int pixels = (int) (fpixels + 0.5f);","title":"How do I set Layout and Text size to DP inside program?","body":"<p>Solved <a href=\"https://stackoverflow.com/questions/5012840/android-specifying-pixel-units-like-sp-px-dp-without-using-xml/5012893#5012893\">here</a>.</p>\n\n<p>Extract:</p>\n\n<pre><code>DisplayMetrics metrics = getContext().getResources().getDisplayMetrics();\nfloat dp = 20f;\nfloat fpixels = metrics.density * dp;\nint pixels = (int) (fpixels + 0.5f);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":477935,"reputation":13271,"user_id":889715,"display_name":"Santosh"},"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1363700799,"creation_date":1343030937,"answer_id":11608619,"question_id":3316431,"body_markdown":"You can use:\r\n\r\n    float pixels = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10, getResources().getDisplayMetrics());\r\n\r\nNow the value of `pixels` is equivalent to `10dp` at the device&#39;s current screen density.\r\n\r\nThe [TypedValue][1] contains other similar methods that help in conversion.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/util/TypedValue.html","title":"How do I set Layout and Text size to DP inside program?","body":"<p>You can use:</p>\n\n<pre><code>float pixels = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, 10, getResources().getDisplayMetrics());\n</code></pre>\n\n<p>Now the value of <code>pixels</code> is equivalent to <code>10dp</code> at the device's current screen density.</p>\n\n<p>The <a href=\"http://developer.android.com/reference/android/util/TypedValue.html\">TypedValue</a> contains other similar methods that help in conversion.</p>\n"},{"tags":[],"owner":{"account_id":6631047,"reputation":805,"user_id":5119746,"display_name":"Julian Horst"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1509572075,"creation_date":1436970941,"answer_id":31433388,"question_id":3316431,"body_markdown":"Just for completeness: Another solution (which I&#39;d prefer) for the question is given [here][1]\r\n\r\n&gt; `setTextSize(float)` expects a scaled pixel value. So, `setTextSize(10)` would give you the desired result. However, `getDimension()` and `getDimensionPixelSize()` return the size in units of pixels.\r\n    \r\nSo for your example it would be\r\n\r\n    setTextSize(TypedValue.COMPLEX_UNIT_PX, getResources().getDimensionPixelSize(R.dimen.edTxt_text_size));\r\n\r\nwhere `&lt;dimen name=&quot;edtxt_text_size&quot;&gt;10dp&lt;/dimen&gt;` is set in your dimens.xml file for example.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/19497680/5119746","title":"How do I set Layout and Text size to DP inside program?","body":"<p>Just for completeness: Another solution (which I'd prefer) for the question is given <a href=\"https://stackoverflow.com/a/19497680/5119746\">here</a></p>\n\n<blockquote>\n  <p><code>setTextSize(float)</code> expects a scaled pixel value. So, <code>setTextSize(10)</code> would give you the desired result. However, <code>getDimension()</code> and <code>getDimensionPixelSize()</code> return the size in units of pixels.</p>\n</blockquote>\n\n<p>So for your example it would be</p>\n\n<pre><code>setTextSize(TypedValue.COMPLEX_UNIT_PX, getResources().getDimensionPixelSize(R.dimen.edTxt_text_size));\n</code></pre>\n\n<p>where <code>&lt;dimen name=\"edtxt_text_size\"&gt;10dp&lt;/dimen&gt;</code> is set in your dimens.xml file for example.</p>\n"},{"tags":[],"owner":{"account_id":111674,"reputation":20653,"user_id":294884,"accept_rate":87,"display_name":"Fattie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616895788,"creation_date":1614781870,"answer_id":66459077,"question_id":3316431,"body_markdown":"## Regarding setting the TEXT SIZE:\r\n\r\nFor 2021 ...\r\n\r\nFortunately, the correct modern answer is just\r\n\r\n    textView.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 25);\r\n\r\nor you can use COMPLEX_UNIT_SP, etc.\r\n\r\n## Exactly matches xml for text size:\r\n\r\nChecked, on all devices this produces exactly the same result as just setting it in xml:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n---\r\n\r\n## Regarding setting, say, a layout parameter:\r\n\r\n    int h = 66; // the new value\r\n    ViewGroup.LayoutParams p = some_frame.getLayoutParams();\r\n    float fdp = TypedValue.applyDimension(\r\n        TypedValue.COMPLEX_UNIT_DIP,\r\n        h,\r\n        getResources().getDisplayMetrics());\r\n    p.height = Math.round(fdp);\r\n    some_frame.setLayoutParams(p);\r\n\r\nThis appears to work correctly, on a test device. The value &quot;h&quot; is now the &quot;same&quot; as simply in the xml, enter 66dp.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wgUwv.png","title":"How do I set Layout and Text size to DP inside program?","body":"<h2>Regarding setting the TEXT SIZE:</h2>\n<p>For 2021 ...</p>\n<p>Fortunately, the correct modern answer is just</p>\n<pre><code>textView.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 25);\n</code></pre>\n<p>or you can use COMPLEX_UNIT_SP, etc.</p>\n<h2>Exactly matches xml for text size:</h2>\n<p>Checked, on all devices this produces exactly the same result as just setting it in xml:</p>\n<p><a href=\"https://i.stack.imgur.com/wgUwv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wgUwv.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<h2>Regarding setting, say, a layout parameter:</h2>\n<pre><code>int h = 66; // the new value\nViewGroup.LayoutParams p = some_frame.getLayoutParams();\nfloat fdp = TypedValue.applyDimension(\n    TypedValue.COMPLEX_UNIT_DIP,\n    h,\n    getResources().getDisplayMetrics());\np.height = Math.round(fdp);\nsome_frame.setLayoutParams(p);\n</code></pre>\n<p>This appears to work correctly, on a test device. The value &quot;h&quot; is now the &quot;same&quot; as simply in the xml, enter 66dp.</p>\n"},{"tags":[],"owner":{"account_id":1807763,"reputation":394,"user_id":3127526,"accept_rate":62,"display_name":"sandip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680184851,"creation_date":1680184851,"answer_id":75889235,"question_id":3316431,"body_markdown":"For Kotlin to increase/decrease font size with below logic. It works in 2\r\n\r\n   \r\n\r\n     `  private var fontSize: Float = 17F //default font size\r\n        \r\n        btnTextDecrease.setOnClickListener {\r\n           if (fontSize &lt;= 13F) {return@setOnClickListener}\r\n           fontSize -= 0.5F\r\n           etBook.setTextSize(TypedValue.COMPLEX_UNIT_SP, fontSize)\r\n           Toast.makeText(activity, &quot;Decrease Size$fontSize&quot;, Toast.LENGTH_SHORT).show()\r\n        }\r\n    \r\n        btnTextIncrease.setOnClickListener {\r\n           fontSize += 0.5F\r\n           etBook.setTextSize(TypedValue.COMPLEX_UNIT_SP, fontSize)\r\n           Toast.makeText(activity, &quot;Increase Size$fontSize&quot;, Toast.LENGTH_SHORT).show()\r\n        }`","title":"How do I set Layout and Text size to DP inside program?","body":"<p>For Kotlin to increase/decrease font size with below logic. It works in 2</p>\n<pre><code> `  private var fontSize: Float = 17F //default font size\n    \n    btnTextDecrease.setOnClickListener {\n       if (fontSize &lt;= 13F) {return@setOnClickListener}\n       fontSize -= 0.5F\n       etBook.setTextSize(TypedValue.COMPLEX_UNIT_SP, fontSize)\n       Toast.makeText(activity, &quot;Decrease Size$fontSize&quot;, Toast.LENGTH_SHORT).show()\n    }\n\n    btnTextIncrease.setOnClickListener {\n       fontSize += 0.5F\n       etBook.setTextSize(TypedValue.COMPLEX_UNIT_SP, fontSize)\n       Toast.makeText(activity, &quot;Increase Size$fontSize&quot;, Toast.LENGTH_SHORT).show()\n    }`\n</code></pre>\n"}],"owner":{"account_id":100892,"reputation":5969,"user_id":271736,"accept_rate":64,"display_name":"RobGThai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55149,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":5032267,"answer_count":5,"score":40,"last_activity_date":1680184851,"creation_date":1279872836,"question_id":3316431,"body_markdown":"Basically I have this inside XML, but I have to recreate it inside a code. How do I do it?\r\n\r\n    &lt;EditText \r\n\t\t\tandroid:layout_width=&quot;140dp&quot;\r\n\t\t\tandroid:layout_height=&quot;20dp&quot;\r\n\t\t\tandroid:background=&quot;@drawable/input_bg01&quot;\r\n\t\t\tandroid:textSize=&quot;10dp&quot;\r\n\t\t\tandroid:gravity=&quot;center&quot;\r\n\t\t\tandroid:text=&quot;111-222-333     FOOO&quot; /&gt;\r\n\r\n\r\nI can use this to set text size, but what about the layout_width and height?\r\n\r\n    edTxt.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 10);\r\n\r\n\r\nIs there a way to tell the code to use DP unit instead of pixel? Or a conversion function to convert DP into pixel?\r\n","title":"How do I set Layout and Text size to DP inside program?","body":"<p>Basically I have this inside XML, but I have to recreate it inside a code. How do I do it?</p>\n\n<pre><code>&lt;EditText \n        android:layout_width=\"140dp\"\n        android:layout_height=\"20dp\"\n        android:background=\"@drawable/input_bg01\"\n        android:textSize=\"10dp\"\n        android:gravity=\"center\"\n        android:text=\"111-222-333     FOOO\" /&gt;\n</code></pre>\n\n<p>I can use this to set text size, but what about the layout_width and height?</p>\n\n<pre><code>edTxt.setTextSize(TypedValue.COMPLEX_UNIT_DIP, 10);\n</code></pre>\n\n<p>Is there a way to tell the code to use DP unit instead of pixel? Or a conversion function to convert DP into pixel?</p>\n"},{"tags":["java","android","sql","database","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Cătălin Cucer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680184706,"creation_date":1680184706,"answer_id":75889219,"question_id":53161376,"body_markdown":"Inserting val manually into SQLite database you have to use [`addQuestion()`]() method in [`DatabaseHelper`]() class to insert val into the table.\r\n\r\nYou add only one question. Call [`addQuestion()`]() from `onCreate()` method after the call to [`fillQuestionTable()`]() method.\r\n\r\n\r\n\r\n    public class DatabaseHelper extends SQLiteOpenHelper {\r\n        public static final String DATABASE_NAME = &quot;Questions.db&quot;;\r\n        public static final String TABLE_NAME = &quot;Questions&quot;;\r\n        public static final String QUESTION_NUMBER = &quot;Question_Number&quot;;\r\n        public static final String QUESTION = &quot;Question&quot;;\r\n        public static final String ANSWER_ONE = &quot;Answer_ONE&quot;;\r\n        public static final String ANSWER_TWO = &quot;Answer_THREE&quot;;\r\n        public static final String ANSWER_THREE = &quot;Answer_FOUR&quot;;\r\n        private SQLiteDatabase db;\r\n    \r\n        // Constructor for DatabaseHelper\r\n        public DatabaseHelper(Context context) {\r\n            super(context, DATABASE_NAME, null, 1);\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n        }\r\n    \r\n        // Create database table\r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            this.db = db;\r\n            final String SQL_CREATE_QUESTIONS_TABLE = &quot;CREATE TABLE &quot; +\r\n                    TABLE_NAME + &quot; ( &quot; +\r\n                    QUESTION_NUMBER + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                    QUESTION + &quot; TEXT, &quot; +\r\n                    ANSWER_ONE + &quot; TEXT, &quot; +\r\n                    ANSWER_TWO + &quot; TEXT, &quot; +\r\n                    ANSWER_THREE + &quot; TEXT &quot; +\r\n                    &quot;)&quot;;\r\n            db.execSQL(SQL_CREATE_QUESTIONS_TABLE);\r\n    \r\n            // Fill the database table with questions\r\n            fillQuestionTable();\r\n        }\r\n    \r\n        // Upgrade database table if version changes\r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int i, int i1) {\r\n            db.execSQL(&quot;DROP TABLE IF EXISTS &quot; +TABLE_NAME);\r\n            onCreate(db);\r\n        }\r\n    \r\n        // Fill database table with example question\r\n        private void fillQuestionTable() {\r\n            Question q1 = new Question(1,&quot;Example Question?&quot;,&quot;Yes&quot;,&quot;Sometimes&quot;,&quot;No&quot;);\r\n            addQuestion(q1);\r\n        }\r\n    \r\n        // Add question to database table\r\n        private void addQuestion (Question question) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(QUESTION_NUMBER, question.getQuestionNum());\r\n            cv.put(QUESTION, question.getQuestion());\r\n            cv.put(ANSWER_ONE, question.getOption1());\r\n            cv.put(ANSWER_TWO, question.getOption2());\r\n            cv.put(ANSWER_THREE, question.getOption3());\r\n            db.insert(TABLE_NAME,null,cv);\r\n        }\r\n    }\r\n\r\n---\r\n\r\n`MainActivity`:\r\n\r\n    public class MainActivity extends Activity implements View.OnClickListener {\r\n        Button screenOneButton;\r\n        Button screenTwoButton;\r\n        Button screenThreeButton;\r\n        Button quitButton;\r\n        DatabaseHelper mydb;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            // Create instance of DatabaseHelper\r\n            DatabaseHelper mydb = new DatabaseHelper(this);\r\n        }\r\n    }\r\n\r\n---\r\n\r\n\r\nYou created the `database` with the columns, but you didn&#39;t add values to it, you add them manually using SQL insert statements.\r\n\r\nThis works for me: \r\n\r\n    SQLiteDatabase db = this.getWritableDatabase();\r\n    ContentValues contentValues = new ContentValues();\r\n    contentValues.put(QUESTION_NUMBER, 1);\r\n    contentValues.put(QUESTION, &quot;Example Question?&quot;);\r\n    contentValues.put(ANSWER_ONE, &quot;Yes&quot;);\r\n    contentValues.put(ANSWER_TWO, &quot;Sometimes&quot;);\r\n    contentValues.put(ANSWER_THREE, &quot;No&quot;);\r\n    db.insert(TABLE_NAME, null, contentValues);\r\n\r\nModify the values according to your needs and make sure to call the table in `onCreate()` method.\r\n\r\n---\r\n\r\nYou are creating new instance of `DatabaseHelper` inside `onCreate()` method in `MainActivity`.\r\n\r\nThis worked for me:\r\n\r\n    public class MainActivity extends Activity implements View.OnClickListener {\r\n        Button screenOneButton;\r\n        Button screenTwoButton;\r\n        Button screenThreeButton;\r\n        Button quitButton;\r\n        DatabaseHelper mydb;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mydb = new DatabaseHelper(this);\r\n        }\r\n    }\r\n\r\nAccess the `mydb` instance throughout your &#39;MainActivity&#39; class.","title":"Android - SQL Insert Manually","body":"<p>Inserting val manually into SQLite database you have to use <code>addQuestion()</code> method in <code>DatabaseHelper</code> class to insert val into the table.</p>\n<p>You add only one question. Call <code>addQuestion()</code> from <code>onCreate()</code> method after the call to <code>fillQuestionTable()</code> method.</p>\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper {\n    public static final String DATABASE_NAME = &quot;Questions.db&quot;;\n    public static final String TABLE_NAME = &quot;Questions&quot;;\n    public static final String QUESTION_NUMBER = &quot;Question_Number&quot;;\n    public static final String QUESTION = &quot;Question&quot;;\n    public static final String ANSWER_ONE = &quot;Answer_ONE&quot;;\n    public static final String ANSWER_TWO = &quot;Answer_THREE&quot;;\n    public static final String ANSWER_THREE = &quot;Answer_FOUR&quot;;\n    private SQLiteDatabase db;\n\n    // Constructor for DatabaseHelper\n    public DatabaseHelper(Context context) {\n        super(context, DATABASE_NAME, null, 1);\n        SQLiteDatabase db = this.getWritableDatabase();\n    }\n\n    // Create database table\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        this.db = db;\n        final String SQL_CREATE_QUESTIONS_TABLE = &quot;CREATE TABLE &quot; +\n                TABLE_NAME + &quot; ( &quot; +\n                QUESTION_NUMBER + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n                QUESTION + &quot; TEXT, &quot; +\n                ANSWER_ONE + &quot; TEXT, &quot; +\n                ANSWER_TWO + &quot; TEXT, &quot; +\n                ANSWER_THREE + &quot; TEXT &quot; +\n                &quot;)&quot;;\n        db.execSQL(SQL_CREATE_QUESTIONS_TABLE);\n\n        // Fill the database table with questions\n        fillQuestionTable();\n    }\n\n    // Upgrade database table if version changes\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int i, int i1) {\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; +TABLE_NAME);\n        onCreate(db);\n    }\n\n    // Fill database table with example question\n    private void fillQuestionTable() {\n        Question q1 = new Question(1,&quot;Example Question?&quot;,&quot;Yes&quot;,&quot;Sometimes&quot;,&quot;No&quot;);\n        addQuestion(q1);\n    }\n\n    // Add question to database table\n    private void addQuestion (Question question) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n        cv.put(QUESTION_NUMBER, question.getQuestionNum());\n        cv.put(QUESTION, question.getQuestion());\n        cv.put(ANSWER_ONE, question.getOption1());\n        cv.put(ANSWER_TWO, question.getOption2());\n        cv.put(ANSWER_THREE, question.getOption3());\n        db.insert(TABLE_NAME,null,cv);\n    }\n}\n</code></pre>\n<hr />\n<p><code>MainActivity</code>:</p>\n<pre><code>public class MainActivity extends Activity implements View.OnClickListener {\n    Button screenOneButton;\n    Button screenTwoButton;\n    Button screenThreeButton;\n    Button quitButton;\n    DatabaseHelper mydb;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Create instance of DatabaseHelper\n        DatabaseHelper mydb = new DatabaseHelper(this);\n    }\n}\n</code></pre>\n<hr />\n<p>You created the <code>database</code> with the columns, but you didn't add values to it, you add them manually using SQL insert statements.</p>\n<p>This works for me:</p>\n<pre><code>SQLiteDatabase db = this.getWritableDatabase();\nContentValues contentValues = new ContentValues();\ncontentValues.put(QUESTION_NUMBER, 1);\ncontentValues.put(QUESTION, &quot;Example Question?&quot;);\ncontentValues.put(ANSWER_ONE, &quot;Yes&quot;);\ncontentValues.put(ANSWER_TWO, &quot;Sometimes&quot;);\ncontentValues.put(ANSWER_THREE, &quot;No&quot;);\ndb.insert(TABLE_NAME, null, contentValues);\n</code></pre>\n<p>Modify the values according to your needs and make sure to call the table in <code>onCreate()</code> method.</p>\n<hr />\n<p>You are creating new instance of <code>DatabaseHelper</code> inside <code>onCreate()</code> method in <code>MainActivity</code>.</p>\n<p>This worked for me:</p>\n<pre><code>public class MainActivity extends Activity implements View.OnClickListener {\n    Button screenOneButton;\n    Button screenTwoButton;\n    Button screenThreeButton;\n    Button quitButton;\n    DatabaseHelper mydb;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mydb = new DatabaseHelper(this);\n    }\n}\n</code></pre>\n<p>Access the <code>mydb</code> instance throughout your 'MainActivity' class.</p>\n"}],"owner":{"account_id":14691141,"reputation":11,"user_id":10609788,"display_name":"FlyingPotato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680184706,"creation_date":1541448105,"question_id":53161376,"body_markdown":"I am currently working on an android quiz application with the questions linking to the database, however, I was be able to create the database created but somehow the values such as list of questions won&#39;t be inserted manually. As I have opened the database, it has organized the columns I have wanted but no values will be display such as the &#39;example question&#39; Have I been missing some line of code?\r\n\r\nMany Thanks\r\n\r\n\r\n    public class DatabaseHelper extends SQLiteOpenHelper\r\n    {\r\n    \r\n       public static final String DATABASE_NAME = &quot;Questions.db&quot;;\r\n       public static final String TABLE_NAME = &quot;Questions&quot;;\r\n       public static final String QUESTION_NUMBER = &quot;Question_Number&quot;;\r\n       public static final String QUESTION = &quot;Question&quot;;\r\n       public static final String ANSWER_ONE = &quot;Answer_ONE&quot;;\r\n       public static final String ANSWER_TWO = &quot;Answer_THREE&quot;;\r\n       public static final String ANSWER_THREE = &quot;Answer_FOUR&quot;;\r\n    \r\n       private SQLiteDatabase db;\r\n    \r\n    \r\n    \r\n       public DatabaseHelper(Context context)\r\n       {\r\n          super(context,DATABASE_NAME, null, 1);\r\n          SQLiteDatabase db = this.getWritableDatabase();\r\n       }\r\n    \r\n       @Override\r\n       public void onCreate(SQLiteDatabase db)\r\n       {\r\n          this.db = db;\r\n          final String SQL_CREATE_QUESTIONS_TABLE = &quot;CREATE TABLE &quot; +\r\n                TABLE_NAME + &quot; ( &quot; +\r\n                QUESTION_NUMBER + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                QUESTION + &quot; TEXT, &quot; +\r\n                ANSWER_ONE + &quot; TEXT, &quot; +\r\n                ANSWER_TWO + &quot; TEXT, &quot; +\r\n                ANSWER_THREE + &quot; TEXT &quot; +\r\n                &quot;)&quot;;\r\n    \r\n          db.execSQL(SQL_CREATE_QUESTIONS_TABLE);\r\n          fillQuestionTable();\r\n    \r\n    \r\n       }\r\n    \r\n       @Override\r\n       public void onUpgrade(SQLiteDatabase db, int i, int i1)\r\n       {\r\n          db.execSQL(&quot;DROP TABLE IF EXISTS &quot; +TABLE_NAME);\r\n          onCreate(db);\r\n       }\r\n    \r\n       private void fillQuestionTable()\r\n       {\r\n          Question q1 = new Question(1,&quot;Example Question?&quot;,&quot;Yes&quot;,&quot;Sometimes&quot;,&quot;No&quot;);\r\n          addQuestion(q1);\r\n       }\r\n    \r\n       private void addQuestion (Question question)\r\n       {\r\n          SQLiteDatabase db = this.getWritableDatabase();\r\n          ContentValues cv = new ContentValues();\r\n          cv.put(QUESTION_NUMBER, question.getQuestionNum());\r\n          cv.put(QUESTION, question.getQuestion());\r\n          cv.put(ANSWER_ONE, question.getOption1());\r\n          cv.put(ANSWER_TWO, question.getOption2());\r\n          cv.put(ANSWER_THREE, question.getOption3());\r\n          db.insert(TABLE_NAME,null,cv);\r\n       }\r\n    \r\n    }\r\n\r\nThis is the activity Class\r\n\r\n    public class MainActivity extends Activity implements View.OnClickListener\r\n    {\r\n       Button screenOneButton;\r\n       Button screenTwoButton;\r\n       Button screenThreeButton;\r\n       Button quitButton;\r\n       DatabaseHelper mydb;\r\n    \r\n    \r\n       @Override\r\n       protected void onCreate(Bundle savedInstanceState)\r\n       {\r\n          super.onCreate(savedInstanceState);\r\n          setContentView(R.layout.activity_main);\r\n    \r\n          DatabaseHelper mydb = new DatabaseHelper(this);\r\n    }\r\n\r\nThis is programmed under Intellij software and was able to open the database under DB SQL software FYI!\r\n\r\nMany thanks\r\n","title":"Android - SQL Insert Manually","body":"<p>I am currently working on an android quiz application with the questions linking to the database, however, I was be able to create the database created but somehow the values such as list of questions won't be inserted manually. As I have opened the database, it has organized the columns I have wanted but no values will be display such as the 'example question' Have I been missing some line of code?</p>\n\n<p>Many Thanks</p>\n\n<pre><code>public class DatabaseHelper extends SQLiteOpenHelper\n{\n\n   public static final String DATABASE_NAME = \"Questions.db\";\n   public static final String TABLE_NAME = \"Questions\";\n   public static final String QUESTION_NUMBER = \"Question_Number\";\n   public static final String QUESTION = \"Question\";\n   public static final String ANSWER_ONE = \"Answer_ONE\";\n   public static final String ANSWER_TWO = \"Answer_THREE\";\n   public static final String ANSWER_THREE = \"Answer_FOUR\";\n\n   private SQLiteDatabase db;\n\n\n\n   public DatabaseHelper(Context context)\n   {\n      super(context,DATABASE_NAME, null, 1);\n      SQLiteDatabase db = this.getWritableDatabase();\n   }\n\n   @Override\n   public void onCreate(SQLiteDatabase db)\n   {\n      this.db = db;\n      final String SQL_CREATE_QUESTIONS_TABLE = \"CREATE TABLE \" +\n            TABLE_NAME + \" ( \" +\n            QUESTION_NUMBER + \" INTEGER PRIMARY KEY AUTOINCREMENT, \" +\n            QUESTION + \" TEXT, \" +\n            ANSWER_ONE + \" TEXT, \" +\n            ANSWER_TWO + \" TEXT, \" +\n            ANSWER_THREE + \" TEXT \" +\n            \")\";\n\n      db.execSQL(SQL_CREATE_QUESTIONS_TABLE);\n      fillQuestionTable();\n\n\n   }\n\n   @Override\n   public void onUpgrade(SQLiteDatabase db, int i, int i1)\n   {\n      db.execSQL(\"DROP TABLE IF EXISTS \" +TABLE_NAME);\n      onCreate(db);\n   }\n\n   private void fillQuestionTable()\n   {\n      Question q1 = new Question(1,\"Example Question?\",\"Yes\",\"Sometimes\",\"No\");\n      addQuestion(q1);\n   }\n\n   private void addQuestion (Question question)\n   {\n      SQLiteDatabase db = this.getWritableDatabase();\n      ContentValues cv = new ContentValues();\n      cv.put(QUESTION_NUMBER, question.getQuestionNum());\n      cv.put(QUESTION, question.getQuestion());\n      cv.put(ANSWER_ONE, question.getOption1());\n      cv.put(ANSWER_TWO, question.getOption2());\n      cv.put(ANSWER_THREE, question.getOption3());\n      db.insert(TABLE_NAME,null,cv);\n   }\n\n}\n</code></pre>\n\n<p>This is the activity Class</p>\n\n<pre><code>public class MainActivity extends Activity implements View.OnClickListener\n{\n   Button screenOneButton;\n   Button screenTwoButton;\n   Button screenThreeButton;\n   Button quitButton;\n   DatabaseHelper mydb;\n\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState)\n   {\n      super.onCreate(savedInstanceState);\n      setContentView(R.layout.activity_main);\n\n      DatabaseHelper mydb = new DatabaseHelper(this);\n}\n</code></pre>\n\n<p>This is programmed under Intellij software and was able to open the database under DB SQL software FYI!</p>\n\n<p>Many thanks</p>\n"},{"tags":["java","winapi","jna"],"answers":[{"tags":[],"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679707862,"creation_date":1679707438,"answer_id":75839197,"question_id":75837475,"body_markdown":"You are not assigning a guid value to `riid`, so you are effectively setting it to `IID_NULL` (`{00000000-0000-0000-0000-000000000000}`).  You need to set it to `IID_IADs` (`{FD8256D0-FD15-11CE-ABC4-02608C9E7553}`) instead.\r\n\r\nThat will cause `ADsGetObject()` (if successful) to set `ppObject` to point at an [`IADs`](https://learn.microsoft.com/en-us/windows/win32/api/iads/nn-iads-iads) interface. Make sure that you call [`IUnknown.Release()`](https://learn.microsoft.com/en-us/windows/win32/api/unknwn/nf-unknwn-iunknown-release) on `ppObject` when you are done using that interface.\r\n\r\nAlso, the thread that is calling `ADsGetObject()` must call [`CoInitialize/Ex()`](https://learn.microsoft.com/en-us/windows/win32/api/combaseapi/nf-combaseapi-coinitializeex) beforehand. And call [`CoUninitialize()`](https://learn.microsoft.com/en-us/windows/win32/api/combaseapi/nf-combaseapi-couninitialize) when it is done using the COM library.  You can use `com.sun.jna.platform.win32.Ole32` for that.\r\n\r\nSee the examples at [How to use CoInitializeEx method in com.sun.jna.platform.win32.Ole32](https://www.tabnine.com/code/java/methods/com.sun.jna.platform.win32.Ole32/CoInitializeEx). Also see https://stackoverflow.com/questions/26872146/","title":"Error when calling winAPI native code (ADsGetObject) from JNA","body":"<p>You are not assigning a guid value to <code>riid</code>, so you are effectively setting it to <code>IID_NULL</code> (<code>{00000000-0000-0000-0000-000000000000}</code>).  You need to set it to <code>IID_IADs</code> (<code>{FD8256D0-FD15-11CE-ABC4-02608C9E7553}</code>) instead.</p>\n<p>That will cause <code>ADsGetObject()</code> (if successful) to set <code>ppObject</code> to point at an <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/iads/nn-iads-iads\" rel=\"nofollow noreferrer\"><code>IADs</code></a> interface. Make sure that you call <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/unknwn/nf-unknwn-iunknown-release\" rel=\"nofollow noreferrer\"><code>IUnknown.Release()</code></a> on <code>ppObject</code> when you are done using that interface.</p>\n<p>Also, the thread that is calling <code>ADsGetObject()</code> must call <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/combaseapi/nf-combaseapi-coinitializeex\" rel=\"nofollow noreferrer\"><code>CoInitialize/Ex()</code></a> beforehand. And call <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/combaseapi/nf-combaseapi-couninitialize\" rel=\"nofollow noreferrer\"><code>CoUninitialize()</code></a> when it is done using the COM library.  You can use <code>com.sun.jna.platform.win32.Ole32</code> for that.</p>\n<p>See the examples at <a href=\"https://www.tabnine.com/code/java/methods/com.sun.jna.platform.win32.Ole32/CoInitializeEx\" rel=\"nofollow noreferrer\">How to use CoInitializeEx method in com.sun.jna.platform.win32.Ole32</a>. Also see <a href=\"https://stackoverflow.com/questions/26872146/\">JNA calling CoInitialize when loading a dll</a></p>\n"}],"owner":{"account_id":28113877,"reputation":11,"user_id":21481257,"display_name":"Dmitry I. Gornev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680184572,"creation_date":1679685925,"question_id":75837475,"body_markdown":"I&#39;m trying to learn how to work with windows native code from Java. For this I use the JNA library. I&#39;m just starting to learn how to work with this library and ran into this problem. The [ADsGetObject](https://learn.microsoft.com/en-us/windows/win32/api/adshlp/nf-adshlp-adsgetobject) function call fails. Perhaps I did not fully understand how to convert data types and do not use them correctly. \r\n\r\n\r\n\r\nHere is my code:\r\n```\r\nimport com.sun.jna.Native;\r\nimport com.sun.jna.WString;\r\nimport com.sun.jna.platform.win32.Guid.REFIID;\r\nimport com.sun.jna.ptr.PointerByReference;\r\nimport com.sun.jna.win32.StdCallLibrary;\r\nimport com.sun.jna.platform.win32.WinNT.HRESULT;\r\n\r\npublic class GetUserAttribute {\r\n    public static void main(String[] args) {\r\n        getUser(&quot;CN=Scaner,OU=Services,DC=my,DC=domain&quot;);\r\n    }\r\n\r\n    public interface Activeds extends StdCallLibrary {\r\n        Activeds INSTANCE = (Activeds) Native.load(&quot;Activeds&quot;, Activeds.class);\r\n        HRESULT ADsGetObject(WString lpszPathName, REFIID riid, PointerByReference ppObject);\r\n    }\r\n\r\n    public static void getUser(String dn) {\r\n        WString userDN = new WString(dn);\r\n        REFIID riid = new REFIID();\r\n        PointerByReference ppObject = new PointerByReference();\r\n        HRESULT hr = Activeds.INSTANCE.ADsGetObject(userDN,riid,ppObject);\r\n        System.out.println(hr);\r\n    }\r\n```\r\nWhen executed, hr is 0x80004005 (Unspecified error). I would be grateful for any hints on what I&#39;m doing wrong and maybe for an example of a working code.\r\n\r\nHere is the code on VBS that works correctly. Would like to &quot;translate&quot; it into Java code:\r\n\r\n```\r\nDim strUserDN = &quot;CN=Scaner,OU=Services,DC=my,DC=domain&quot; \r\nset objUser = GetObject(&quot;LDAP://&quot; &amp; strUserDN)\r\nWscript.echo objUser.cn\r\n```","title":"Error when calling winAPI native code (ADsGetObject) from JNA","body":"<p>I'm trying to learn how to work with windows native code from Java. For this I use the JNA library. I'm just starting to learn how to work with this library and ran into this problem. The <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/adshlp/nf-adshlp-adsgetobject\" rel=\"nofollow noreferrer\">ADsGetObject</a> function call fails. Perhaps I did not fully understand how to convert data types and do not use them correctly.</p>\n<p>Here is my code:</p>\n<pre><code>import com.sun.jna.Native;\nimport com.sun.jna.WString;\nimport com.sun.jna.platform.win32.Guid.REFIID;\nimport com.sun.jna.ptr.PointerByReference;\nimport com.sun.jna.win32.StdCallLibrary;\nimport com.sun.jna.platform.win32.WinNT.HRESULT;\n\npublic class GetUserAttribute {\n    public static void main(String[] args) {\n        getUser(&quot;CN=Scaner,OU=Services,DC=my,DC=domain&quot;);\n    }\n\n    public interface Activeds extends StdCallLibrary {\n        Activeds INSTANCE = (Activeds) Native.load(&quot;Activeds&quot;, Activeds.class);\n        HRESULT ADsGetObject(WString lpszPathName, REFIID riid, PointerByReference ppObject);\n    }\n\n    public static void getUser(String dn) {\n        WString userDN = new WString(dn);\n        REFIID riid = new REFIID();\n        PointerByReference ppObject = new PointerByReference();\n        HRESULT hr = Activeds.INSTANCE.ADsGetObject(userDN,riid,ppObject);\n        System.out.println(hr);\n    }\n</code></pre>\n<p>When executed, hr is 0x80004005 (Unspecified error). I would be grateful for any hints on what I'm doing wrong and maybe for an example of a working code.</p>\n<p>Here is the code on VBS that works correctly. Would like to &quot;translate&quot; it into Java code:</p>\n<pre><code>Dim strUserDN = &quot;CN=Scaner,OU=Services,DC=my,DC=domain&quot; \nset objUser = GetObject(&quot;LDAP://&quot; &amp; strUserDN)\nWscript.echo objUser.cn\n</code></pre>\n"},{"tags":["java","apache-camel","amazon-sqs","aws-sqs-fifo"],"answers":[{"tags":[],"owner":{"account_id":8536154,"reputation":344,"user_id":6397895,"display_name":"Otavio Miguel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680184463,"creation_date":1680184463,"answer_id":75889171,"question_id":75889170,"body_markdown":"Since I did not found any answers anywhere, I&#39;ll put it here in case you need it too.\r\n\r\nBefore send it to your queue, you&#39;ll have to put it in the .setProperty tag, e.g. just like this:\r\n\r\n    from(....)\r\n       ....\r\n       ....\r\n       .setProperty(&quot;CamelAwsMessageGroupId&quot;, &quot;YOUR_VALUE&quot;)\r\n       .to(&quot;YOUR_QUEUE_URI&quot;);\r\n\r\n\r\n\r\n","title":"Put MessageGroupId in Camel SQS FIFO queue","body":"<p>Since I did not found any answers anywhere, I'll put it here in case you need it too.</p>\n<p>Before send it to your queue, you'll have to put it in the .setProperty tag, e.g. just like this:</p>\n<pre><code>from(....)\n   ....\n   ....\n   .setProperty(&quot;CamelAwsMessageGroupId&quot;, &quot;YOUR_VALUE&quot;)\n   .to(&quot;YOUR_QUEUE_URI&quot;);\n</code></pre>\n"}],"owner":{"account_id":8536154,"reputation":344,"user_id":6397895,"display_name":"Otavio Miguel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75889171,"answer_count":1,"score":0,"last_activity_date":1680184463,"creation_date":1680184463,"question_id":75889170,"body_markdown":"When you need to send a message to a FIFO queue in AWS SQS using Apache Camel, you&#39;ll need to put a property named &quot;MessageGroupId&quot;. But, we do know that Apache Camel is not always friendly, so how to? We do have docs telling us how to implement AWS SQS in Apache Camel, such like this one [Doc][1], but in terms of MessageGroupId, it does not explains much and don&#39;t truly tells we how to put in in the message [at least not in current date of this post].\r\n\r\n\r\n  [1]: https://camel.apache.org/components/2.x/aws-sqs-component.html","title":"Put MessageGroupId in Camel SQS FIFO queue","body":"<p>When you need to send a message to a FIFO queue in AWS SQS using Apache Camel, you'll need to put a property named &quot;MessageGroupId&quot;. But, we do know that Apache Camel is not always friendly, so how to? We do have docs telling us how to implement AWS SQS in Apache Camel, such like this one <a href=\"https://camel.apache.org/components/2.x/aws-sqs-component.html\" rel=\"nofollow noreferrer\">Doc</a>, but in terms of MessageGroupId, it does not explains much and don't truly tells we how to put in in the message [at least not in current date of this post].</p>\n"},{"tags":["java","automated-tests","cucumber","build.gradle","junit5"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1680195622,"post_id":75889169,"comment_id":133861033,"body_markdown":"Are you using `cucumber-junit` or `cucumber-junit-platform-engine`?","body":"Are you using <code>cucumber-junit</code> or <code>cucumber-junit-platform-engine</code>?"}],"owner":{"account_id":7705429,"reputation":1,"user_id":5836549,"display_name":"Java Learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680184459,"creation_date":1680184459,"question_id":75889169,"body_markdown":"I wanted to execute the the cucumbers Feature scenarios parallelly in test suite to minimize the execution time,\r\nIn maven we have surefire plugin to achieve the same.\r\nbut we are using gradle Please let me know how we can achieve the same in gradle. \r\n\r\nI have used below settings in build. gradle\r\n```\r\ntask runInParallel() {\r\n    group = &#39;Cucumber Parallel&#39;\r\n    description = &#39;Runs build in parallel if used&#39;\r\n    doLast {\r\n        setParallel = &quot;true&quot;\r\n    }\r\n\r\ntask cucumberTests(type: Test){ \r\n    includes = [&#39;**/*Runner*&#39;] \r\n}\r\n    \r\ntasks.withType(Test) {\r\n    maxParallelForks = 20\r\n}\r\n```\r\nBut it not working","title":"How to execute JUnit(5) tests in parallel for a single test class in Gradle","body":"<p>I wanted to execute the the cucumbers Feature scenarios parallelly in test suite to minimize the execution time,\nIn maven we have surefire plugin to achieve the same.\nbut we are using gradle Please let me know how we can achieve the same in gradle.</p>\n<p>I have used below settings in build. gradle</p>\n<pre><code>task runInParallel() {\n    group = 'Cucumber Parallel'\n    description = 'Runs build in parallel if used'\n    doLast {\n        setParallel = &quot;true&quot;\n    }\n\ntask cucumberTests(type: Test){ \n    includes = ['**/*Runner*'] \n}\n    \ntasks.withType(Test) {\n    maxParallelForks = 20\n}\n</code></pre>\n<p>But it not working</p>\n"},{"tags":["java","csv","io","filewriter","bufferedwriter"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1446408700,"post_id":33466688,"comment_id":54718989,"body_markdown":"This is nonsense. Post your code.","body":"This is nonsense. Post your code."},{"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"score":1,"creation_date":1446408760,"post_id":33466688,"comment_id":54719003,"body_markdown":"Have you called `.close()` on the `FileWriter` after you&#39;re done writing?","body":"Have you called <code>.close()</code> on the <code>FileWriter</code> after you&#39;re done writing?"},{"owner":{"account_id":2351777,"reputation":986,"user_id":2061755,"accept_rate":71,"display_name":"wadda_wadda"},"score":1,"creation_date":1446408838,"post_id":33466688,"comment_id":54719028,"body_markdown":"Given that I&#39;ve written a 1.1GB dat file using `FileWriter`, I don&#39;t think your assessment that it can only write ~1216 character is correct. Post a code sample so we can diagnose it?","body":"Given that I&#39;ve written a 1.1GB dat file using <code>FileWriter</code>, I don&#39;t think your assessment that it can only write ~1216 character is correct. Post a code sample so we can diagnose it?"},{"owner":{"account_id":7220663,"reputation":468,"user_id":5511320,"display_name":"the happy mamba"},"score":0,"creation_date":1446408877,"post_id":33466688,"comment_id":54719041,"body_markdown":"Agree with Elliot.  Need to show us this before we Bo-leeve","body":"Agree with Elliot.  Need to show us this before we Bo-leeve"},{"owner":{"account_id":5610137,"reputation":191,"user_id":4443210,"accept_rate":43,"display_name":"Matt"},"score":0,"creation_date":1446409435,"post_id":33466688,"comment_id":54719226,"body_markdown":"Edited my post with code.","body":"Edited my post with code."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1446409573,"post_id":33466688,"comment_id":54719275,"body_markdown":"Why don&#39;t you use Commons CSV?","body":"Why don&#39;t you use Commons CSV?"},{"owner":{"account_id":5610137,"reputation":191,"user_id":4443210,"accept_rate":43,"display_name":"Matt"},"score":0,"creation_date":1446409614,"post_id":33466688,"comment_id":54719295,"body_markdown":"I solved it ladies and gents. Getting up and making a sandwich must have cleared my mind. The issue was that I was re-insantiating the mergedWriter 100 times, but I had forgotten to flush/close it each time.","body":"I solved it ladies and gents. Getting up and making a sandwich must have cleared my mind. The issue was that I was re-insantiating the mergedWriter 100 times, but I had forgotten to flush/close it each time."},{"owner":{"account_id":5610137,"reputation":191,"user_id":4443210,"accept_rate":43,"display_name":"Matt"},"score":0,"creation_date":1446409665,"post_id":33466688,"comment_id":54719303,"body_markdown":"Thanks for your time! Sorry it turned out to be somewhat of a boneheaded move. I guess that&#39;s what happens when you&#39;re working with 5 different writers at once, with one of the writers needing to iterate through 100 files.","body":"Thanks for your time! Sorry it turned out to be somewhat of a boneheaded move. I guess that&#39;s what happens when you&#39;re working with 5 different writers at once, with one of the writers needing to iterate through 100 files."},{"owner":{"account_id":4531605,"reputation":1869,"user_id":3681882,"display_name":"Swastik Padhi"},"score":0,"creation_date":1446409721,"post_id":33466688,"comment_id":54719319,"body_markdown":"@Matt Please remove the question or answer it if you have solved your problem.","body":"@Matt Please remove the question or answer it if you have solved your problem."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1446412766,"post_id":33466688,"comment_id":54720261,"body_markdown":"Since [`FileWriter`](http://docs.oracle.com/javase/7/docs/api/java/io/FileWriter.html) doesn&#39;t have an `append`, I&#39;ll just ask why are you building everything into `String`(s) instead of ***streaming*** to your `File`?","body":"Since <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/FileWriter.html\" rel=\"nofollow noreferrer\"><code>FileWriter</code></a> doesn&#39;t have an <code>append</code>, I&#39;ll just ask why are you building everything into <code>String</code>(s) instead of <b><i>streaming</i></b> to your <code>File</code>?"}],"answers":[{"tags":[],"owner":{"account_id":5610137,"reputation":191,"user_id":4443210,"accept_rate":43,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1446409731,"creation_date":1446409731,"answer_id":33466849,"question_id":33466688,"body_markdown":"Solved.\r\n\r\nI wasn&#39;t flushing/closing my writer before re-instantiating it to a new file. I should have either made an array of mergedWriters, or flushed/closed it each time before re-assigning it.","title":"FileWriter not writing all of its contents - how to get around maximum?","body":"<p>Solved.</p>\n\n<p>I wasn't flushing/closing my writer before re-instantiating it to a new file. I should have either made an array of mergedWriters, or flushed/closed it each time before re-assigning it.</p>\n"},{"tags":[],"owner":{"account_id":7066105,"reputation":11,"user_id":5409387,"display_name":"RaviRaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680184200,"creation_date":1680184200,"answer_id":75889124,"question_id":33466688,"body_markdown":"Add `fw.close()` after write system.","title":"FileWriter not writing all of its contents - how to get around maximum?","body":"<p>Add <code>fw.close()</code> after write system.</p>\n"}],"owner":{"account_id":5610137,"reputation":191,"user_id":4443210,"accept_rate":43,"display_name":"Matt"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1927,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680184200,"creation_date":1446408663,"question_id":33466688,"body_markdown":"After a good amount of time researching the issue, and doing a little counting/debugging on my own, I found out that the max number of characters a FileWriter can contain at once is about 1216. Can anyone help me figure out how to get around this issue?\r\n\r\nI&#39;m essentially writing a script in Java to combine two .csv files because I need to put the contents of each file side by side in one .csv file. I&#39;m iterating through and appending the characters, along with commas and new lines, to the file writer. However, all of my outputs are stopping about 80% through the writing process. I&#39;m not getting any errors, but it appears obvious to me now that it is an issue of FileWriter capacity.\r\n\r\nIf I write what I have then start appending to a new FileWriter, I will lose my spot in the .csv file. I&#39;m not really sure what to do here.\r\n\r\nI look forward to feedback. Thank you!!\r\n\r\nEDIT - code\r\n\r\nThe problem is with the mergedWriter.\r\n\r\nI&#39;ve verified that the length of &quot;mainLines[j].size() - 1&quot; is 101, and it is only writing 85ish lines for my outputs. It stops mid-string.\r\n\r\n    for (int k = 0; k &lt; mainLines[j].size() - 1; k++) {\r\n\t\t\t\t\t// All deletions for bottleneck\r\n\t\t\t\t\tif (k != 0) {\r\n\t\t\t\t\t\teachEffWriter.append(mergedFileNum + COMMA + &quot;1,&quot; + mainLines[j].get(k)[6] + NEWLINE);\r\n\t\t\t\t\t\tefficiencyWriter.append(mergedFileNum + COMMA + &quot;1,&quot; + mainLines[j].get(k)[5] + NEWLINE);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Write deletionoutput data\r\n\t\t\t\t\tStringBuilder builder = new StringBuilder();\r\n\t\t\t\t\tfor (String str : mainLines[j].get(k)) {\r\n\t\t\t\t\t\tbuilder.append(str);\r\n\t\t\t\t\t\tbuilder.append(COMMA);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbuilder.append(COMMA);\r\n\t\t\t\t\tif (k == 0) {\r\n\t\t\t\t\t\tbuilder.append(COMMA);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (String str : kingpinLines[j].get(k)) {\r\n\t\t\t\t\t\tbuilder.append(str);\r\n\t\t\t\t\t\tbuilder.append(COMMA);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmergedWriter.append(builder.toString());\r\n\t\t\t\t\tmergedWriter.append(NEWLINE);\r\n\t\t\t\t}","title":"FileWriter not writing all of its contents - how to get around maximum?","body":"<p>After a good amount of time researching the issue, and doing a little counting/debugging on my own, I found out that the max number of characters a FileWriter can contain at once is about 1216. Can anyone help me figure out how to get around this issue?</p>\n\n<p>I'm essentially writing a script in Java to combine two .csv files because I need to put the contents of each file side by side in one .csv file. I'm iterating through and appending the characters, along with commas and new lines, to the file writer. However, all of my outputs are stopping about 80% through the writing process. I'm not getting any errors, but it appears obvious to me now that it is an issue of FileWriter capacity.</p>\n\n<p>If I write what I have then start appending to a new FileWriter, I will lose my spot in the .csv file. I'm not really sure what to do here.</p>\n\n<p>I look forward to feedback. Thank you!!</p>\n\n<p>EDIT - code</p>\n\n<p>The problem is with the mergedWriter.</p>\n\n<p>I've verified that the length of \"mainLines[j].size() - 1\" is 101, and it is only writing 85ish lines for my outputs. It stops mid-string.</p>\n\n<pre><code>for (int k = 0; k &lt; mainLines[j].size() - 1; k++) {\n                // All deletions for bottleneck\n                if (k != 0) {\n                    eachEffWriter.append(mergedFileNum + COMMA + \"1,\" + mainLines[j].get(k)[6] + NEWLINE);\n                    efficiencyWriter.append(mergedFileNum + COMMA + \"1,\" + mainLines[j].get(k)[5] + NEWLINE);\n                }\n                // Write deletionoutput data\n                StringBuilder builder = new StringBuilder();\n                for (String str : mainLines[j].get(k)) {\n                    builder.append(str);\n                    builder.append(COMMA);\n                }\n                builder.append(COMMA);\n                if (k == 0) {\n                    builder.append(COMMA);\n                }\n\n                for (String str : kingpinLines[j].get(k)) {\n                    builder.append(str);\n                    builder.append(COMMA);\n                }\n                mergedWriter.append(builder.toString());\n                mergedWriter.append(NEWLINE);\n            }\n</code></pre>\n"},{"tags":["java","tomcat","logging","logrotate","tomcat8.5"],"comments":[{"owner":{"account_id":2157109,"reputation":3274,"user_id":1912077,"accept_rate":62,"display_name":"Renjith"},"score":0,"creation_date":1680032510,"post_id":75870388,"comment_id":133827105,"body_markdown":"Have you tried setting up ```java.util.logging.FileHandler.append = true``` in logging.properties?","body":"Have you tried setting up <code>java.util.logging.FileHandler.append = true</code> in logging.properties?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1680035087,"post_id":75870388,"comment_id":133827641,"body_markdown":"I was searching for such a property but could not find it in https://tomcat.apache.org/tomcat-10.1-doc/api/org/apache/juli/FileHandler.html. Surprised that this one should apply (Tomcat&#39;s FileHandler does not inherit): https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/FileHandler.html","body":"I was searching for such a property but could not find it in <a href=\"https://tomcat.apache.org/tomcat-10.1-doc/api/org/apache/juli/FileHandler.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-10.1-doc/api/org/apache/juli/&hellip;</a>. Surprised that this one should apply (Tomcat&#39;s FileHandler does not inherit): <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.logging/java/util/logging/FileHandler.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.logging/java&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680183939,"creation_date":1680183939,"answer_id":75889079,"question_id":75870388,"body_markdown":"&gt; when [Tomcat] running as a daemon.\r\n\r\nAssuming you are using [jsvc](https://commons.apache.org/proper/commons-daemon/jsvc.html), there does not appear to be an option for *appending* to log files instead of *overwriting* them. You could file an enhancement request against the [Commons project](https://commons.apache.org/proper/commons-daemon/issue-tracking.html) to add that capability. It does not seem like a difficult thing to implement.\r\n\r\n&gt; I believe that the &quot;correct&quot; answer would be to implement proper error handling and separate logging for the applications being served[...]\r\n\r\nI agree. Writing to `stdout` is not a great practice and, as you see, can cause some problems that you have to work hard to get around. It would be better to log to a real logging framework which already knows how to append, rotate, etc. and not have to cobble-together your own ad-hoc set of tools to replicate this capability which already exists.","title":"Can I prevent Tomcat from overwriting catalina.out on restart?","body":"<blockquote>\n<p>when [Tomcat] running as a daemon.</p>\n</blockquote>\n<p>Assuming you are using <a href=\"https://commons.apache.org/proper/commons-daemon/jsvc.html\" rel=\"nofollow noreferrer\">jsvc</a>, there does not appear to be an option for <em>appending</em> to log files instead of <em>overwriting</em> them. You could file an enhancement request against the <a href=\"https://commons.apache.org/proper/commons-daemon/issue-tracking.html\" rel=\"nofollow noreferrer\">Commons project</a> to add that capability. It does not seem like a difficult thing to implement.</p>\n<blockquote>\n<p>I believe that the &quot;correct&quot; answer would be to implement proper error handling and separate logging for the applications being served[...]</p>\n</blockquote>\n<p>I agree. Writing to <code>stdout</code> is not a great practice and, as you see, can cause some problems that you have to work hard to get around. It would be better to log to a real logging framework which already knows how to append, rotate, etc. and not have to cobble-together your own ad-hoc set of tools to replicate this capability which already exists.</p>\n"}],"owner":{"account_id":21338925,"reputation":21,"user_id":15709715,"display_name":"Adri C"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680183939,"creation_date":1680032052,"question_id":75870388,"body_markdown":"The default Tomcat 8.5 configuration outputs the contents of stdout &amp; stderr to $CATALINA_HOME/logs/catalina.out (and catalina.err if specified in the startup parameters) when running as a daemon. In these files are low-level system messages, startup/shutdown output, and stack traces for errors. Unfortunately, these files are overwritten when Tomcat is restarted. I have forgotten this fact on more than one occasion, when we were having an issue and my first thought was to bounce the app server. When I did that, the prior contents of catalina.out were gone, and we can&#39;t then go back through the logs looking for a root cause of the issue. Is there a way to save me and other admins from ourselves and append to catalina.out/.err on startup instead of overwriting it?\r\n\r\nI believe that the &quot;correct&quot; answer would be to implement proper error handling and separate logging for the applications being served, but it seems like we should be able to take advantage of this built-in facility with a simple config change, rather than try to make modifications to third party application code for which the source is unavailable.\r\n\r\nAlso, in our case, logrotate is taking care of rotating catalina.out weekly, so I am not worried about the file getting too large. I thought about maybe calling logrotate in shutdown.sh, but we also have logrotate doing log cleanup; if we want to be able to have more than one log archived per day we would have to break the logrotate naming convention for the shutdown logs, which would then mean the old logs created as a result of shutdown would never get cleaned up, if I understand correctly.","title":"Can I prevent Tomcat from overwriting catalina.out on restart?","body":"<p>The default Tomcat 8.5 configuration outputs the contents of stdout &amp; stderr to $CATALINA_HOME/logs/catalina.out (and catalina.err if specified in the startup parameters) when running as a daemon. In these files are low-level system messages, startup/shutdown output, and stack traces for errors. Unfortunately, these files are overwritten when Tomcat is restarted. I have forgotten this fact on more than one occasion, when we were having an issue and my first thought was to bounce the app server. When I did that, the prior contents of catalina.out were gone, and we can't then go back through the logs looking for a root cause of the issue. Is there a way to save me and other admins from ourselves and append to catalina.out/.err on startup instead of overwriting it?</p>\n<p>I believe that the &quot;correct&quot; answer would be to implement proper error handling and separate logging for the applications being served, but it seems like we should be able to take advantage of this built-in facility with a simple config change, rather than try to make modifications to third party application code for which the source is unavailable.</p>\n<p>Also, in our case, logrotate is taking care of rotating catalina.out weekly, so I am not worried about the file getting too large. I thought about maybe calling logrotate in shutdown.sh, but we also have logrotate doing log cleanup; if we want to be able to have more than one log archived per day we would have to break the logrotate naming convention for the shutdown logs, which would then mean the old logs created as a result of shutdown would never get cleaned up, if I understand correctly.</p>\n"},{"tags":["java","post","xmlhttprequest"],"comments":[{"owner":{"account_id":61252,"reputation":407488,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":0,"creation_date":1680183829,"post_id":75889012,"comment_id":133857650,"body_markdown":"You&#39;re programming in Java, not JavaScript.","body":"You&#39;re programming in Java, not JavaScript."}],"owner":{"account_id":3821390,"reputation":11,"user_id":3169415,"display_name":"user3169415"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680183811,"creation_date":1680183512,"question_id":75889012,"body_markdown":"I&#39;m not really sure but sometimes my data are sended twice to the server.\r\nIt is simple XMLHttpRequest wchich posts some data to server:\r\n\r\n\r\n```\r\nprivate static class XhrHttpRequest extends HttpRequest implements ReadyStateChangeHandler {\r\n\r\n        private XMLHttpRequest xhr;\r\n\r\n        public XhrHttpRequest(String url, GlobalCallback callback, JsonRequest request) {\r\n            super(url, callback, request);\r\n        }\r\n\r\n        @Override\r\n        protected void send(String data) {\r\n            xhr = XMLHttpRequest.create();\r\n            xhr.open(&quot;POST&quot;, url);\r\n            xhr.setResponseType(ResponseType.Default);\r\n            xhr.setOnReadyStateChange(this);\r\n\r\n            xhr.send(data);\r\n        }\r\n\r\n        @Override\r\n        public void onReadyStateChange(XMLHttpRequest xhr) {\r\n            if (xhr.getReadyState() == XMLHttpRequest.DONE) {\r\n                if (xhr.getStatus() == Response.SC_OK || xhr.getStatus() == Response.SC_NOT_MODIFIED) {\r\n                    onData(xhr.getResponseText());\r\n                } else {\r\n                    onError(&quot;Response status: &quot; + xhr.getStatus() + &quot; [&quot; + xhr.getStatusText() + &quot;]&quot;);\r\n                }\r\n\r\n                xhr.clearOnReadyStateChange();\r\n            \r\n                this.xhr = null;\r\n            }\r\n        }\r\n    }\r\n```\r\nIs this even possible that data is sended more than once?\r\n\r\nI want to know it is possible that data is sended multiple times in one request","title":"XMLHttpRequest - is it possible that data is send more than once","body":"<p>I'm not really sure but sometimes my data are sended twice to the server.\nIt is simple XMLHttpRequest wchich posts some data to server:</p>\n<pre><code>private static class XhrHttpRequest extends HttpRequest implements ReadyStateChangeHandler {\n\n        private XMLHttpRequest xhr;\n\n        public XhrHttpRequest(String url, GlobalCallback callback, JsonRequest request) {\n            super(url, callback, request);\n        }\n\n        @Override\n        protected void send(String data) {\n            xhr = XMLHttpRequest.create();\n            xhr.open(&quot;POST&quot;, url);\n            xhr.setResponseType(ResponseType.Default);\n            xhr.setOnReadyStateChange(this);\n\n            xhr.send(data);\n        }\n\n        @Override\n        public void onReadyStateChange(XMLHttpRequest xhr) {\n            if (xhr.getReadyState() == XMLHttpRequest.DONE) {\n                if (xhr.getStatus() == Response.SC_OK || xhr.getStatus() == Response.SC_NOT_MODIFIED) {\n                    onData(xhr.getResponseText());\n                } else {\n                    onError(&quot;Response status: &quot; + xhr.getStatus() + &quot; [&quot; + xhr.getStatusText() + &quot;]&quot;);\n                }\n\n                xhr.clearOnReadyStateChange();\n            \n                this.xhr = null;\n            }\n        }\n    }\n</code></pre>\n<p>Is this even possible that data is sended more than once?</p>\n<p>I want to know it is possible that data is sended multiple times in one request</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"score":1,"creation_date":1680183050,"post_id":75888898,"comment_id":133857414,"body_markdown":"add NoargsAnnotation too","body":"add NoargsAnnotation too"},{"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1680183249,"post_id":75888898,"comment_id":133857475,"body_markdown":"Show the class in question.","body":"Show the class in question."}],"answers":[{"tags":[],"owner":{"account_id":18564295,"reputation":1600,"user_id":13527621,"display_name":"Thomas Zimmermann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680183216,"creation_date":1680183216,"answer_id":75888954,"question_id":75888898,"body_markdown":"The @AllArgsConstructor annotation creates a constructor for your class where every parameter has to be passed to initialize the class. As suggested, you have to annotate your class with the @NoArgsConstructor if you want to give your class the opportunity to be initialized like this:\r\n\r\n    final var myClass = new MyClass(); // Initialized using the &#39;NoArgs&#39; constructor\r\n    myClass.setProperty(value);\r\n    ...\r\n","title":"@Data @AllArgsConstructor [Lombok]","body":"<p>The @AllArgsConstructor annotation creates a constructor for your class where every parameter has to be passed to initialize the class. As suggested, you have to annotate your class with the @NoArgsConstructor if you want to give your class the opportunity to be initialized like this:</p>\n<pre><code>final var myClass = new MyClass(); // Initialized using the 'NoArgs' constructor\nmyClass.setProperty(value);\n...\n</code></pre>\n"}],"owner":{"account_id":8474264,"reputation":17,"user_id":6355981,"display_name":"SPONGEBOB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680183216,"creation_date":1680182938,"question_id":75888898,"body_markdown":"I have a class person, annoted by two annotations @Data @AllArgsConstructor.\r\nWhen i try to initialize class person by constructor i have a problem.\r\nNo problem in compilation but in runtime i have this error\r\n\r\njava: constructor Person in class com.app.net.model.Person cannot be applied to given types;\r\n  required: no arguments\r\n  found: java.lang.String,java.lang.String,java.lang.String,java.util.List&lt;com.app.net.model.Publication&gt;,java.util.List&lt;com.app.net.model.Comment&gt;\r\n  reason: **actual and formal argument lists differ in length**\r\n\r\nAnybody has a solution?\r\nthank you\r\n\r\nI try to initialize class with constructor with all arguments ","title":"@Data @AllArgsConstructor [Lombok]","body":"<p>I have a class person, annoted by two annotations @Data @AllArgsConstructor.\nWhen i try to initialize class person by constructor i have a problem.\nNo problem in compilation but in runtime i have this error</p>\n<p>java: constructor Person in class com.app.net.model.Person cannot be applied to given types;\nrequired: no arguments\nfound: java.lang.String,java.lang.String,java.lang.String,java.util.List&lt;com.app.net.model.Publication&gt;,java.util.List&lt;com.app.net.model.Comment&gt;\nreason: <strong>actual and formal argument lists differ in length</strong></p>\n<p>Anybody has a solution?\nthank you</p>\n<p>I try to initialize class with constructor with all arguments</p>\n"},{"tags":["java","rest","apache-camel","bearer-token"],"comments":[{"owner":{"account_id":20035415,"reputation":21,"user_id":14687258,"display_name":"arora_suman"},"score":0,"creation_date":1606150925,"post_id":64956963,"comment_id":114868101,"body_markdown":"I changed the camel version and it solved the problem.","body":"I changed the camel version and it solved the problem."},{"owner":{"account_id":6317719,"reputation":125,"user_id":4907054,"accept_rate":67,"display_name":"Denys Shabelnyk"},"score":0,"creation_date":1679663758,"post_id":64956963,"comment_id":133766000,"body_markdown":"which Apache Camel version do you used on this case ?","body":"which Apache Camel version do you used on this case ?"}],"answers":[{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680183159,"creation_date":1680183159,"answer_id":75888943,"question_id":64956963,"body_markdown":"I use:\r\n\r\n    Message message = exchange.getIn();\r\n    message.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n\r\nThis works for me. I can see token in the Exchange properties. Apache Camel 2.7.5.\r\n\r\nSlightly different though, is that I do it in a `.bean(SomeBean.class)` and then send to `toD()` with dynamic URL.","title":"Authorization Bearer token in Apache Camel","body":"<p>I use:</p>\n<pre><code>Message message = exchange.getIn();\nmessage.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n</code></pre>\n<p>This works for me. I can see token in the Exchange properties. Apache Camel 2.7.5.</p>\n<p>Slightly different though, is that I do it in a <code>.bean(SomeBean.class)</code> and then send to <code>toD()</code> with dynamic URL.</p>\n"}],"owner":{"account_id":20035415,"reputation":21,"user_id":14687258,"display_name":"arora_suman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2598,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680183159,"creation_date":1606064414,"question_id":64956963,"body_markdown":"I want to use Apache Camel to call a rest webservice which takes a bearer token as authorization. I am getting 401 unauthorized access if I use the below code-- \r\n\r\n```java\r\n@Component\r\npublic class LoadFileRouteBuilder extends RouteBuilder{\r\n    \r\n    @Override\r\n    public void configure() throws Exception {\r\n\r\n        from(&quot;timer:mytimer?repeatCount=1&quot;)\r\n            .log(&quot;Scheduled job!&quot;)\r\n            .to(&quot;direct:httpRoute&quot;);\r\n    \t\t\r\n    \tfrom(&quot;direct:httpRoute&quot;)\r\n            .log(&quot;Http Route started&quot;)\r\n            .setHeader(Exchange.HTTP_METHOD).constant(HttpMethod.GET)\r\n            .setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/json&quot;))\r\n    \t    .setHeader(&quot;Authorization&quot;).simple(&quot;Bearer &quot;+ myToken)\r\n    \t\t.to(&quot;https://my-rest-ws-url&quot;)\r\n    \t\t.log(&quot;Response : ${body}&quot;);\r\n    }   \r\n}\r\n```\r\nI have also tried using process method to set the authorization token  exchange.getIn().setHeader(&quot;Authorization&quot;, &quot;Bearer &quot;+myToken); didn&#39;t work either. \r\n\r\nIs it the correct way to send bearer token ?  ","title":"Authorization Bearer token in Apache Camel","body":"<p>I want to use Apache Camel to call a rest webservice which takes a bearer token as authorization. I am getting 401 unauthorized access if I use the below code--</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class LoadFileRouteBuilder extends RouteBuilder{\n    \n    @Override\n    public void configure() throws Exception {\n\n        from(&quot;timer:mytimer?repeatCount=1&quot;)\n            .log(&quot;Scheduled job!&quot;)\n            .to(&quot;direct:httpRoute&quot;);\n            \n        from(&quot;direct:httpRoute&quot;)\n            .log(&quot;Http Route started&quot;)\n            .setHeader(Exchange.HTTP_METHOD).constant(HttpMethod.GET)\n            .setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/json&quot;))\n            .setHeader(&quot;Authorization&quot;).simple(&quot;Bearer &quot;+ myToken)\n            .to(&quot;https://my-rest-ws-url&quot;)\n            .log(&quot;Response : ${body}&quot;);\n    }   \n}\n</code></pre>\n<p>I have also tried using process method to set the authorization token  exchange.getIn().setHeader(&quot;Authorization&quot;, &quot;Bearer &quot;+myToken); didn't work either.</p>\n<p>Is it the correct way to send bearer token ?</p>\n"},{"tags":["java","spring-webflux","spring-kafka","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680182393,"creation_date":1680182393,"answer_id":75888791,"question_id":75882294,"body_markdown":"Unlike Spring for Apache Kafaka (`spring-kafka`); `reactor-kafka` has no built-in mechanism to handle deserialization exceptions. \r\n\r\nOne solution would be to use Spring&#39;s `ErrorHandlingDeserializer` and, when the `value()` (or `key()`) is `null`, look for the deserialization exception in a header.\r\n\r\nSince you are already using the template to wrap the reactor-kafka code, you will already have it on class path.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer\r\n\r\n&gt;When a deserializer fails to deserialize a message, Spring has no way to handle the problem, because it occurs before the `poll()` returns. To solve this problem, the `ErrorHandlingDeserializer` has been introduced. This deserializer delegates to a real deserializer (key or value). If the delegate fails to deserialize the record content, the `ErrorHandlingDeserializer` returns a `null` value and a `DeserializationException` in a header that contains the cause and the raw bytes. \r\n\r\nTake a look at the `DeadLetterPublishingRecoverer` to see how it uses `ListenerUtils` to extract the deserialization exception from the header(s).\r\n\r\nhttps://github.com/spring-projects/spring-kafka/blob/1eaf5b3e7dac58102e1e346dd03b40ab0ff5d711/spring-kafka/src/main/java/org/springframework/kafka/listener/DeadLetterPublishingRecoverer.java#L474-L477\r\n\r\n```java\r\nDeserializationException vDeserEx = ListenerUtils.getExceptionFromHeader(record,\r\n\t\tSerializationUtils.VALUE_DESERIALIZER_EXCEPTION_HEADER, this.logger);\r\nDeserializationException kDeserEx = ListenerUtils.getExceptionFromHeader(record,\r\n\t\tSerializationUtils.KEY_DESERIALIZER_EXCEPTION_HEADER, this.logger);\r\n```\r\n\r\nThe raw data is in the `data` field of the exception, as well as a flag to indicate whether it was a key or value that failed to deserialize.","title":"How to handle deserialization errors in (spring) reactor-kafka","body":"<p>Unlike Spring for Apache Kafaka (<code>spring-kafka</code>); <code>reactor-kafka</code> has no built-in mechanism to handle deserialization exceptions.</p>\n<p>One solution would be to use Spring's <code>ErrorHandlingDeserializer</code> and, when the <code>value()</code> (or <code>key()</code>) is <code>null</code>, look for the deserialization exception in a header.</p>\n<p>Since you are already using the template to wrap the reactor-kafka code, you will already have it on class path.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#error-handling-deserializer</a></p>\n<blockquote>\n<p>When a deserializer fails to deserialize a message, Spring has no way to handle the problem, because it occurs before the <code>poll()</code> returns. To solve this problem, the <code>ErrorHandlingDeserializer</code> has been introduced. This deserializer delegates to a real deserializer (key or value). If the delegate fails to deserialize the record content, the <code>ErrorHandlingDeserializer</code> returns a <code>null</code> value and a <code>DeserializationException</code> in a header that contains the cause and the raw bytes.</p>\n</blockquote>\n<p>Take a look at the <code>DeadLetterPublishingRecoverer</code> to see how it uses <code>ListenerUtils</code> to extract the deserialization exception from the header(s).</p>\n<p><a href=\"https://github.com/spring-projects/spring-kafka/blob/1eaf5b3e7dac58102e1e346dd03b40ab0ff5d711/spring-kafka/src/main/java/org/springframework/kafka/listener/DeadLetterPublishingRecoverer.java#L474-L477\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-kafka/blob/1eaf5b3e7dac58102e1e346dd03b40ab0ff5d711/spring-kafka/src/main/java/org/springframework/kafka/listener/DeadLetterPublishingRecoverer.java#L474-L477</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>DeserializationException vDeserEx = ListenerUtils.getExceptionFromHeader(record,\n        SerializationUtils.VALUE_DESERIALIZER_EXCEPTION_HEADER, this.logger);\nDeserializationException kDeserEx = ListenerUtils.getExceptionFromHeader(record,\n        SerializationUtils.KEY_DESERIALIZER_EXCEPTION_HEADER, this.logger);\n</code></pre>\n<p>The raw data is in the <code>data</code> field of the exception, as well as a flag to indicate whether it was a key or value that failed to deserialize.</p>\n"}],"owner":{"account_id":27836545,"reputation":37,"user_id":21253875,"display_name":"Inessa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":840,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680182393,"creation_date":1680125120,"question_id":75882294,"body_markdown":"I am trying on reactor-kafka for consuming messages. I am using spring-kafka as a wrapper for reactive-kafka. I need to handle a deserialization exception - I need to send an unsuccessful message by rest (that is, it has further processing). \r\nI wrote this solution, but it doesn&#39;t seem good to me.\r\n\r\nBelow is my consumer template and solution:\r\n```\r\n        reactiveKafkaConsumerTemplate\r\n                .receiveAutoAck()\r\n                .flatMap(record -&gt; deserialize(record)) \r\n                .flatMap(toy -&gt; handle(toy))\r\n                .subscribe();\r\n```\r\nconvert method \r\n```\r\n    public Mono&lt;Toy&gt; deserialize(ConsumerRecord&lt;String, String&gt; record) {\r\n        return Mono.just(record)\r\n                .map(t -&gt; objectMapper.readValue(record.value(), Toy.class))\r\n                .onErrorResume(e -&gt; handleError(record.value())); //here is further processing of the deserialization exception\r\n\r\n    }\r\n```\r\nI can change the deserializer to, for example\r\n```\r\n props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n```\r\nor something custom,but I do not know how to handle the deserialization error in this case","title":"How to handle deserialization errors in (spring) reactor-kafka","body":"<p>I am trying on reactor-kafka for consuming messages. I am using spring-kafka as a wrapper for reactive-kafka. I need to handle a deserialization exception - I need to send an unsuccessful message by rest (that is, it has further processing).\nI wrote this solution, but it doesn't seem good to me.</p>\n<p>Below is my consumer template and solution:</p>\n<pre><code>        reactiveKafkaConsumerTemplate\n                .receiveAutoAck()\n                .flatMap(record -&gt; deserialize(record)) \n                .flatMap(toy -&gt; handle(toy))\n                .subscribe();\n</code></pre>\n<p>convert method</p>\n<pre><code>    public Mono&lt;Toy&gt; deserialize(ConsumerRecord&lt;String, String&gt; record) {\n        return Mono.just(record)\n                .map(t -&gt; objectMapper.readValue(record.value(), Toy.class))\n                .onErrorResume(e -&gt; handleError(record.value())); //here is further processing of the deserialization exception\n\n    }\n</code></pre>\n<p>I can change the deserializer to, for example</p>\n<pre><code> props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n</code></pre>\n<p>or something custom,but I do not know how to handle the deserialization error in this case</p>\n"},{"tags":["java","spring-boot","soap"],"answers":[{"tags":[],"owner":{"account_id":7204808,"reputation":95,"user_id":5500794,"display_name":"Thiago Rodrigues"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680182384,"creation_date":1680182384,"answer_id":75888790,"question_id":75730100,"body_markdown":"Try this setup:\r\n\r\n```\r\n@WebServiceServerTest(components = { YourWsInterceptor.class })\r\n@Import({ YourWsConfig.class })\r\nclass YourWsServerTest {\r\n    ...\r\n}\r\n```\r\n \r\n```\r\n@Configuration\r\n@EnableWs\r\npublic class YourWsConfig extends WsConfigurerAdapter {\r\n    ...\r\n    @Override\r\n\tpublic void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors) {\r\n        ...\r\n    }\r\n\r\n}\r\n```","title":"How to setup configuration for SOAP service testing when using WebServiceServerTest, MockWebServiceClient in Java?","body":"<p>Try this setup:</p>\n<pre><code>@WebServiceServerTest(components = { YourWsInterceptor.class })\n@Import({ YourWsConfig.class })\nclass YourWsServerTest {\n    ...\n}\n</code></pre>\n<pre><code>@Configuration\n@EnableWs\npublic class YourWsConfig extends WsConfigurerAdapter {\n    ...\n    @Override\n    public void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors) {\n        ...\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":123693,"reputation":4352,"user_id":318306,"accept_rate":87,"display_name":"Eugene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680182384,"creation_date":1678778578,"question_id":75730100,"body_markdown":"As question states, I am a bit confused about how to setup **SOAP** service testing in **Java (Spring)**.\r\n\r\nIn my specific case, I have custom endpoint *interceptors*. I would like to confirm, that there is interaction with them and maybe capture what they are receiving, during test.\r\n\r\nAt the moment, I can see, that they are missing during testing. I can tell it, because I&#39;m mutating response in actual application, but don&#39;t see same/expected result during testing.\r\n\r\nI am using `Java 17`, latest `spring-ws-test` and `spring-boot 2.7.6`\r\n\r\n**UPD:**\r\nSome references, that I used\r\n- https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-webservices.server\r\n- https://jschmitz.dev/posts/how_to_test_the_web_services_of_your_spring_boot_application_with_webservicesservertest/\r\n\r\nThe problem is, that none of them cover configuration.\r\n\r\nOn Baeldung, there was one note:\r\n&gt; As mentioned previously, `@WebServiceServerTest` will not load the whole application context. If we do need to load the entire application context for the test, then we should consider using the `@SpringBootTest` combined with the `@AutoConfigureMockWebServiceClient`. We can then use this client in a similar fashion to send the request and verify the response, as shown previously.\r\n\r\nBut I am wondering if this is the only way to approach it.","title":"How to setup configuration for SOAP service testing when using WebServiceServerTest, MockWebServiceClient in Java?","body":"<p>As question states, I am a bit confused about how to setup <strong>SOAP</strong> service testing in <strong>Java (Spring)</strong>.</p>\n<p>In my specific case, I have custom endpoint <em>interceptors</em>. I would like to confirm, that there is interaction with them and maybe capture what they are receiving, during test.</p>\n<p>At the moment, I can see, that they are missing during testing. I can tell it, because I'm mutating response in actual application, but don't see same/expected result during testing.</p>\n<p>I am using <code>Java 17</code>, latest <code>spring-ws-test</code> and <code>spring-boot 2.7.6</code></p>\n<p><strong>UPD:</strong>\nSome references, that I used</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-webservices.server\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-webservices.server</a></li>\n<li><a href=\"https://jschmitz.dev/posts/how_to_test_the_web_services_of_your_spring_boot_application_with_webservicesservertest/\" rel=\"nofollow noreferrer\">https://jschmitz.dev/posts/how_to_test_the_web_services_of_your_spring_boot_application_with_webservicesservertest/</a></li>\n</ul>\n<p>The problem is, that none of them cover configuration.</p>\n<p>On Baeldung, there was one note:</p>\n<blockquote>\n<p>As mentioned previously, <code>@WebServiceServerTest</code> will not load the whole application context. If we do need to load the entire application context for the test, then we should consider using the <code>@SpringBootTest</code> combined with the <code>@AutoConfigureMockWebServiceClient</code>. We can then use this client in a similar fashion to send the request and verify the response, as shown previously.</p>\n</blockquote>\n<p>But I am wondering if this is the only way to approach it.</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1680182421,"post_id":75887817,"comment_id":133857206,"body_markdown":"What isn&#39;t working about the code you shared? Is there an error message?","body":"What isn&#39;t working about the code you shared? Is there an error message?"},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1680185918,"post_id":75887817,"comment_id":133858295,"body_markdown":"the idea was that when a supervisor is being retrieved on random basis as shown in the code, the retrieved supervisor is been assigned to a student and the db is updated. the situation continue till all the supervisors are filled. The issue is that when the supervisor are all filled, the database changes all the supervisors status to &quot;filled&quot; but my app still retrieve the supervisors whose status is &quot;filled&quot; which means that the app is not updated with the supervisor&#39;s status at real time. The app supposed to query the supervisors whose status are not filled as indicated in my query.","body":"the idea was that when a supervisor is being retrieved on random basis as shown in the code, the retrieved supervisor is been assigned to a student and the db is updated. the situation continue till all the supervisors are filled. The issue is that when the supervisor are all filled, the database changes all the supervisors status to &quot;filled&quot; but my app still retrieve the supervisors whose status is &quot;filled&quot; which means that the app is not updated with the supervisor&#39;s status at real time. The app supposed to query the supervisors whose status are not filled as indicated in my query."},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1680186010,"post_id":75887817,"comment_id":133858316,"body_markdown":"Immediately the last available supervisor is assigned to a student, the app supposed to return null instantly which shows that there is no supervisor in the db again whose status is &quot;Not Filled&quot;","body":"Immediately the last available supervisor is assigned to a student, the app supposed to return null instantly which shows that there is no supervisor in the db again whose status is &quot;Not Filled&quot;"},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1680186034,"post_id":75887817,"comment_id":133858321,"body_markdown":"That&#39;s the issue I am facing @FrankvanPuffelen","body":"That&#39;s the issue I am facing @FrankvanPuffelen"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1680200058,"post_id":75887817,"comment_id":133862058,"body_markdown":"That is repeating the use-case you already outlined in your question. What I&#39;m not clear on what exact line in the code you shared isn&#39;t working. I.e. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the **first** line that doesn&#39;t do what you expect it to do? --- I.e. this *could* be: &quot;When I step through the `onDataChange` line by line, I see that it updates `supervisorsList` with the right users and picks a `supervisorChose ` at random, but it never shows that chosen supervisor in my UI&quot;","body":"That is repeating the use-case you already outlined in your question. What I&#39;m not clear on what exact line in the code you shared isn&#39;t working. I.e. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the <b>first</b> line that doesn&#39;t do what you expect it to do? --- I.e. this <i>could</i> be: &quot;When I step through the <code>onDataChange</code> line by line, I see that it updates <code>supervisorsList</code> with the right users and picks a <code>supervisorChose </code> at random, but it never shows that chosen supervisor in my UI&quot;"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680244821,"post_id":75887817,"comment_id":133868522,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."},{"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"score":0,"creation_date":1680256036,"post_id":75887817,"comment_id":133870954,"body_markdown":"I didn&#39;t want it to be shown on the UI, the picked supervisor is used elsewhere. Actually I solved the issue by moving to another activity after successful registration. With that, my getSupervisors was updated from the database when a new user want to register. thanks for all your time","body":"I didn&#39;t want it to be shown on the UI, the picked supervisor is used elsewhere. Actually I solved the issue by moving to another activity after successful registration. With that, my getSupervisors was updated from the database when a new user want to register. thanks for all your time"}],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680182355,"creation_date":1680176701,"question_id":75887817,"body_markdown":"I am querying a realtime firebase database and I think orderByChild cannot be updated on realtime. I want a situation whereby the status will be updated immediately a supervisor was generated from the db without having to relaunch the app because immediately a supervisor is generated from the app, the status changed to &quot;Filled&quot; and I want the app to stop at that moment. From what I saw on stack overflow, they said that the orderByChild query should be moved inside the snapshot that has the listener and I don&#39;t know how to do it.\r\n    \r\n    private void getSupervisors() {\r\n    \r\n        Query databaseReference = FirebaseDatabase.getInstance().getReference()\r\n                .child(&quot;Supervisors&quot;).orderByChild(&quot;status&quot;).equalTo(&quot;Not Filled&quot;);\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if (snapshot.exists()) {\r\n                    List&lt;String&gt; supervisorsList =new ArrayList&lt;&gt;();\r\n                    for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n\r\n                            supervisorsList.add(dataSnapshot.child(&quot;sid&quot;).getValue().toString());\r\n                        }\r\n                    supervisorChose = supervisorsList.get(new Random().nextInt(supervisorsList.size()));\r\n                    Log.d(&quot;Main&quot;,&quot;Supervisor List contains &quot;+supervisorsList);\r\n                    Log.d(&quot;Main&quot;,&quot;Supervisor chose is &quot;+supervisorChose);\r\n\r\n                }else {\r\n                    //Toast.makeText(StudentRegistrationActivity.this, &quot;No Supervisor in the database&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(StudentRegistrationActivity.this, &quot;Error From the database&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n","title":"how to update firebase realtime database","body":"<p>I am querying a realtime firebase database and I think orderByChild cannot be updated on realtime. I want a situation whereby the status will be updated immediately a supervisor was generated from the db without having to relaunch the app because immediately a supervisor is generated from the app, the status changed to &quot;Filled&quot; and I want the app to stop at that moment. From what I saw on stack overflow, they said that the orderByChild query should be moved inside the snapshot that has the listener and I don't know how to do it.</p>\n<pre><code>private void getSupervisors() {\n\n    Query databaseReference = FirebaseDatabase.getInstance().getReference()\n            .child(&quot;Supervisors&quot;).orderByChild(&quot;status&quot;).equalTo(&quot;Not Filled&quot;);\n    databaseReference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            if (snapshot.exists()) {\n                List&lt;String&gt; supervisorsList =new ArrayList&lt;&gt;();\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n\n                        supervisorsList.add(dataSnapshot.child(&quot;sid&quot;).getValue().toString());\n                    }\n                supervisorChose = supervisorsList.get(new Random().nextInt(supervisorsList.size()));\n                Log.d(&quot;Main&quot;,&quot;Supervisor List contains &quot;+supervisorsList);\n                Log.d(&quot;Main&quot;,&quot;Supervisor chose is &quot;+supervisorChose);\n\n            }else {\n                //Toast.makeText(StudentRegistrationActivity.this, &quot;No Supervisor in the database&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            Toast.makeText(StudentRegistrationActivity.this, &quot;Error From the database&quot;, Toast.LENGTH_SHORT).show();\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","android","firebase","listview","firebase-realtime-database"],"comments":[{"owner":{"account_id":6083808,"reputation":2163,"user_id":4748607,"display_name":"Nirav Bhavsar"},"score":0,"creation_date":1534962730,"post_id":51972787,"comment_id":90896599,"body_markdown":"why you are clearing the whole adapter, after you call **appleSnapshot.getRef().removeValue();**, just remove that position item from list and then call **arrayAdapter.notifyDataSetChanged();**","body":"why you are clearing the whole adapter, after you call <b>appleSnapshot.getRef().removeValue();</b>, just remove that position item from list and then call <b>arrayAdapter.notifyDataSetChanged();</b>"},{"owner":{"account_id":13782805,"reputation":37,"user_id":9947548,"display_name":"Manuj Sharma"},"score":0,"creation_date":1534998454,"post_id":51972787,"comment_id":90906416,"body_markdown":"How do i do that,Im a beginner,please help.","body":"How do i do that,Im a beginner,please help."},{"owner":{"account_id":6083808,"reputation":2163,"user_id":4748607,"display_name":"Nirav Bhavsar"},"score":1,"creation_date":1534999937,"post_id":51972787,"comment_id":90906705,"body_markdown":"after call of for loop of **appleSnapshot.getRef().removeValue()** then remove that position item from arraylist like **arraylist.remove(yourposition);**, then call notifydatasetchanged and check.","body":"after call of for loop of <b>appleSnapshot.getRef().removeValue()</b> then remove that position item from arraylist like <b>arraylist.remove(yourposition);</b>, then call notifydatasetchanged and check."},{"owner":{"account_id":13782805,"reputation":37,"user_id":9947548,"display_name":"Manuj Sharma"},"score":0,"creation_date":1535002670,"post_id":51972787,"comment_id":90907585,"body_markdown":"Thank you so much.I did this changes.arrayList.remove(listView.getPositionForView(view));","body":"Thank you so much.I did this changes.arrayList.remove(listView.getPositionForView(view));"},{"owner":{"account_id":6083808,"reputation":2163,"user_id":4748607,"display_name":"Nirav Bhavsar"},"score":0,"creation_date":1535003096,"post_id":51972787,"comment_id":90907731,"body_markdown":"welcome mate , i have add the above suggestion comment as my answer will you accept it.?","body":"welcome mate , i have add the above suggestion comment as my answer will you accept it.?"}],"answers":[{"tags":[],"owner":{"account_id":6083808,"reputation":2163,"user_id":4748607,"display_name":"Nirav Bhavsar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1535003318,"creation_date":1535003318,"answer_id":51979075,"question_id":51972787,"body_markdown":"After call of for loop of `appleSnapshot.getRef().removeValue();` then remove that position item from arraylist , then call notifydatasetchanged and check like below\r\n\r\n    public void deleteTask(View view) {\r\n\r\n        int index=listView.getPositionForView(view);\r\n        String str= (String) arrayAdapter.getItem(index++);\r\n\r\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\r\n        Query taskQuery = ref.child(&quot;Todo&quot;).orderByChild(&quot;Task&quot;).equalTo(str);\r\n        taskQuery.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                for (DataSnapshot appleSnapshot: dataSnapshot.getChildren()) {\r\n                    appleSnapshot.getRef().removeValue();\r\n                }\r\n                arrayList.remove(listView.getPositionForView(view)); // remove the item from list\r\n                arrayAdapter.notifyDataSetChanged();// notify the changed\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                Log.e(&quot;TAG&quot;, &quot;onCancelled&quot;, databaseError.toException());\r\n            }\r\n        });\r\n\r\n    }","title":"how do i update my listView after deleting the data in firebase realtime database","body":"<p>After call of for loop of <code>appleSnapshot.getRef().removeValue();</code> then remove that position item from arraylist , then call notifydatasetchanged and check like below</p>\n\n<pre><code>public void deleteTask(View view) {\n\n    int index=listView.getPositionForView(view);\n    String str= (String) arrayAdapter.getItem(index++);\n\n    DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\n    Query taskQuery = ref.child(\"Todo\").orderByChild(\"Task\").equalTo(str);\n    taskQuery.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            for (DataSnapshot appleSnapshot: dataSnapshot.getChildren()) {\n                appleSnapshot.getRef().removeValue();\n            }\n            arrayList.remove(listView.getPositionForView(view)); // remove the item from list\n            arrayAdapter.notifyDataSetChanged();// notify the changed\n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n            Log.e(\"TAG\", \"onCancelled\", databaseError.toException());\n        }\n    });\n\n}\n</code></pre>\n"}],"owner":{"account_id":13782805,"reputation":37,"user_id":9947548,"display_name":"Manuj Sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1551,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":51979075,"answer_count":1,"score":-3,"last_activity_date":1680182332,"creation_date":1534961404,"question_id":51972787,"body_markdown":"My app saves the data in a [Firebase realtime database][1] and I have retreived the data and showed them in a [ListtView][2]. Now I want to delete a particular data in a `ListView`  and I have used the [removeValue()][3] method for deleting task and the data is deleted. However, I am not able to update the `ListView` after deleting data from database. `ListView` is either cleared od gets contained only one item. If i reopen my app,then the items are properly updated. Why `ListView` is not updated?\r\n\r\n**This is my MainActivity.java**\r\n\r\n    package com.example.manuj.todolist;\r\n    \r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.support.design.widget.FloatingActionButton;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.Button;\r\n    import android.widget.ListView;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import com.google.firebase.database.ChildEventListener;\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.Query;\r\n    import com.google.firebase.database.ValueEventListener;\r\n    \r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        ListView listView;\r\n        TextView textView;\r\n        Button button;\r\n    \r\n    \r\n        String tasks;\r\n        FirebaseDatabase db = FirebaseDatabase.getInstance();\r\n        DatabaseReference rootRef = db.getReference();\r\n        DatabaseReference dataRef = rootRef.child(&quot;Todo&quot;);\r\n        ArrayList&lt;String&gt;arrayList=new ArrayList&lt;&gt;();\r\n        ArrayAdapter arrayAdapter;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            button=findViewById(R.id.delButton);\r\n            textView=findViewById(R.id.taskText);\r\n            listView=findViewById(R.id.listView);\r\n    \r\n    \r\n            arrayAdapter=new ArrayAdapter&lt;String&gt;(this,R.layout.list_items,R.id.taskText,arrayList);\r\n            listView.setAdapter(arrayAdapter);\r\n    \r\n            dataRef.addChildEventListener(new ChildEventListener() {\r\n                @Override\r\n                public void onChildAdded(DataSnapshot dataSnapshot, String s) {\r\n                    String value = dataSnapshot.getValue().toString();\r\n                    try {\r\n                        JSONObject object = new JSONObject(value);\r\n                        tasks = object.getString(&quot;Task&quot;);\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    arrayList.add(tasks);\r\n                    arrayAdapter.notifyDataSetChanged();\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onChildChanged(DataSnapshot dataSnapshot, String s) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onChildRemoved(DataSnapshot dataSnapshot) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onChildMoved(DataSnapshot dataSnapshot, String s) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n    \r\n                }\r\n            });\r\n            listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view, final int position, long id) {\r\n                    Toast.makeText(MainActivity.this,&quot;sffad&quot;,Toast.LENGTH_SHORT).show();\r\n    \r\n                }\r\n    \r\n            });\r\n    \r\n    \r\n            //Get the floating action button and set onClickLiter\r\n            FloatingActionButton fab = findViewById(R.id.fab);\r\n            fab.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent intent=new Intent(MainActivity.this,CustomDialog.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n    \r\n        public void deleteTask(View view) {\r\n    \r\n            int index=listView.getPositionForView(view);\r\n            String str= (String) arrayAdapter.getItem(index++);\r\n    \r\n            DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\r\n            Query taskQuery = ref.child(&quot;Todo&quot;).orderByChild(&quot;Task&quot;).equalTo(str);\r\n            taskQuery.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    for (DataSnapshot appleSnapshot: dataSnapshot.getChildren()) {\r\n                        appleSnapshot.getRef().removeValue();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n                    Log.e(&quot;TAG&quot;, &quot;onCancelled&quot;, databaseError.toException());\r\n                }\r\n            });\r\n    \r\n    \r\n            arrayAdapter.clear();\r\n            arrayAdapter.addAll(arrayList);\r\n            arrayAdapter.notifyDataSetChanged();\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://firebase.google.com/\r\n  [2]: https://developer.android.com/reference/android/widget/ListView\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#removeValue()","title":"how do i update my listView after deleting the data in firebase realtime database","body":"<p>My app saves the data in a <a href=\"https://firebase.google.com/\" rel=\"nofollow noreferrer\">Firebase realtime database</a> and I have retreived the data and showed them in a <a href=\"https://developer.android.com/reference/android/widget/ListView\" rel=\"nofollow noreferrer\">ListtView</a>. Now I want to delete a particular data in a <code>ListView</code>  and I have used the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#removeValue()\" rel=\"nofollow noreferrer\">removeValue()</a> method for deleting task and the data is deleted. However, I am not able to update the <code>ListView</code> after deleting data from database. <code>ListView</code> is either cleared od gets contained only one item. If i reopen my app,then the items are properly updated. Why <code>ListView</code> is not updated?</p>\n<p><strong>This is my MainActivity.java</strong></p>\n<pre><code>package com.example.manuj.todolist;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.support.design.widget.FloatingActionButton;\nimport android.support.v7.app.AppCompatActivity;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.ListView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.firebase.database.ChildEventListener;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.Query;\nimport com.google.firebase.database.ValueEventListener;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n    ListView listView;\n    TextView textView;\n    Button button;\n\n\n    String tasks;\n    FirebaseDatabase db = FirebaseDatabase.getInstance();\n    DatabaseReference rootRef = db.getReference();\n    DatabaseReference dataRef = rootRef.child(&quot;Todo&quot;);\n    ArrayList&lt;String&gt;arrayList=new ArrayList&lt;&gt;();\n    ArrayAdapter arrayAdapter;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        button=findViewById(R.id.delButton);\n        textView=findViewById(R.id.taskText);\n        listView=findViewById(R.id.listView);\n\n\n        arrayAdapter=new ArrayAdapter&lt;String&gt;(this,R.layout.list_items,R.id.taskText,arrayList);\n        listView.setAdapter(arrayAdapter);\n\n        dataRef.addChildEventListener(new ChildEventListener() {\n            @Override\n            public void onChildAdded(DataSnapshot dataSnapshot, String s) {\n                String value = dataSnapshot.getValue().toString();\n                try {\n                    JSONObject object = new JSONObject(value);\n                    tasks = object.getString(&quot;Task&quot;);\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n                arrayList.add(tasks);\n                arrayAdapter.notifyDataSetChanged();\n\n            }\n\n            @Override\n            public void onChildChanged(DataSnapshot dataSnapshot, String s) {\n\n            }\n\n            @Override\n            public void onChildRemoved(DataSnapshot dataSnapshot) {\n\n            }\n\n            @Override\n            public void onChildMoved(DataSnapshot dataSnapshot, String s) {\n\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n\n            }\n        });\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, final int position, long id) {\n                Toast.makeText(MainActivity.this,&quot;sffad&quot;,Toast.LENGTH_SHORT).show();\n\n            }\n\n        });\n\n\n        //Get the floating action button and set onClickLiter\n        FloatingActionButton fab = findViewById(R.id.fab);\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent=new Intent(MainActivity.this,CustomDialog.class);\n                startActivity(intent);\n            }\n        });\n\n    }\n\n\n    public void deleteTask(View view) {\n\n        int index=listView.getPositionForView(view);\n        String str= (String) arrayAdapter.getItem(index++);\n\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\n        Query taskQuery = ref.child(&quot;Todo&quot;).orderByChild(&quot;Task&quot;).equalTo(str);\n        taskQuery.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                for (DataSnapshot appleSnapshot: dataSnapshot.getChildren()) {\n                    appleSnapshot.getRef().removeValue();\n                }\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                Log.e(&quot;TAG&quot;, &quot;onCancelled&quot;, databaseError.toException());\n            }\n        });\n\n\n        arrayAdapter.clear();\n        arrayAdapter.addAll(arrayList);\n        arrayAdapter.notifyDataSetChanged();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","gradle","apache-commons-beanutils"],"answers":[{"tags":[],"owner":{"account_id":9245299,"reputation":21,"user_id":6867368,"display_name":"M. Wismer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680182278,"creation_date":1680018988,"answer_id":75868478,"question_id":75868239,"body_markdown":"\r\nI did get it to work but I had to include\r\n\r\n\r\nimplementation &#39;commons-collections:commons-collections:3.2.1&#39;\r\n\r\nimplementation &#39;commons-logging:commons-logging:1.2&#39;\r\n\r\nin my build.gradle","title":"Trying to use BeanComparator in my gradle project","body":"<p>I did get it to work but I had to include</p>\n<p>implementation 'commons-collections:commons-collections:3.2.1'</p>\n<p>implementation 'commons-logging:commons-logging:1.2'</p>\n<p>in my build.gradle</p>\n"},{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680031405,"creation_date":1680031405,"answer_id":75870290,"question_id":75868239,"body_markdown":"In build.gradle\r\n```\r\ndependencies{\r\n    // https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils\r\n    implementation &#39;commons-beanutils:commons-beanutils:1.9.4&#39;\r\n    . . . \r\n}\r\n```\r\n\r\nIn your Java class file: \r\n```\r\nimport java.util.Comparator;\r\nimport org.apache.commons.beanutils.BeanComparator;\r\n...\r\n    // Assume you want to compare Person objects based on their age properties.\r\n    private Comparator&lt;Person&gt; bc = new BeanComparator&lt;&gt;(&quot;age&quot;);\r\n\r\n```\r\nGoogle &quot;apache BeanComparator example&quot; for lots of usage examples.\r\n\r\nBut I would use \r\n```\r\npeople.sort((Person p1, Person p2)-&gt;p1.getAge()-p2.getAge());\r\n```\r\nas in \r\n```\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Comparator;\r\nimport org.apache.commons.beanutils.BeanComparator;\r\n\r\npublic class BeanComparatorDemo {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Person&gt; people = Arrays.asList(new Person(&quot;Bart&quot;, 28), new Person(&quot;Iris&quot;, 23), new Person(&quot;Dumsani&quot;, 71));\r\n\r\n        people.sort((Person p1, Person p2) -&gt; p1.getAge() - p2.getAge());\r\n        System.out.println(&quot;Sort using comparator lambda: &quot; + people);\r\n\r\n        // I wouldn&#39;t use BeanComparator because you can do this in regular Java\r\n        // without additional dependencies (and possible vulnerabilities),\r\n        // and BeanComparator seems to be hostile to Java records.\r\n        Comparator&lt;Person&gt; bc = new BeanComparator&lt;&gt;(&quot;name&quot;);\r\n        people.sort(bc);\r\n        System.out.println(&quot;Sort on name using BeanComparator: &quot; + people);\r\n    }\r\n\r\n    public static class Person {\r\n        private String name;\r\n        private int age;\r\n\r\n        Person(String name, int age) {\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n\r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n        public int getAge() { \r\n            return this.age;\r\n        }\r\n        public String toString() {\r\n            return &quot;Person [&quot; + name + &quot;, &quot; + age + &quot;]&quot;;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nAlso, `BeanComparator` doesn&#39;t seem to like Java `record`.","title":"Trying to use BeanComparator in my gradle project","body":"<p>In build.gradle</p>\n<pre><code>dependencies{\n    // https://mvnrepository.com/artifact/commons-beanutils/commons-beanutils\n    implementation 'commons-beanutils:commons-beanutils:1.9.4'\n    . . . \n}\n</code></pre>\n<p>In your Java class file:</p>\n<pre><code>import java.util.Comparator;\nimport org.apache.commons.beanutils.BeanComparator;\n...\n    // Assume you want to compare Person objects based on their age properties.\n    private Comparator&lt;Person&gt; bc = new BeanComparator&lt;&gt;(&quot;age&quot;);\n\n</code></pre>\n<p>Google &quot;apache BeanComparator example&quot; for lots of usage examples.</p>\n<p>But I would use</p>\n<pre><code>people.sort((Person p1, Person p2)-&gt;p1.getAge()-p2.getAge());\n</code></pre>\n<p>as in</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Comparator;\nimport org.apache.commons.beanutils.BeanComparator;\n\npublic class BeanComparatorDemo {\n\n    public static void main(String[] args) {\n        List&lt;Person&gt; people = Arrays.asList(new Person(&quot;Bart&quot;, 28), new Person(&quot;Iris&quot;, 23), new Person(&quot;Dumsani&quot;, 71));\n\n        people.sort((Person p1, Person p2) -&gt; p1.getAge() - p2.getAge());\n        System.out.println(&quot;Sort using comparator lambda: &quot; + people);\n\n        // I wouldn't use BeanComparator because you can do this in regular Java\n        // without additional dependencies (and possible vulnerabilities),\n        // and BeanComparator seems to be hostile to Java records.\n        Comparator&lt;Person&gt; bc = new BeanComparator&lt;&gt;(&quot;name&quot;);\n        people.sort(bc);\n        System.out.println(&quot;Sort on name using BeanComparator: &quot; + people);\n    }\n\n    public static class Person {\n        private String name;\n        private int age;\n\n        Person(String name, int age) {\n            this.name = name;\n            this.age = age;\n        }\n\n        public String getName() {\n            return this.name;\n        }\n        public int getAge() { \n            return this.age;\n        }\n        public String toString() {\n            return &quot;Person [&quot; + name + &quot;, &quot; + age + &quot;]&quot;;\n        }\n    }\n\n}\n</code></pre>\n<p>Also, <code>BeanComparator</code> doesn't seem to like Java <code>record</code>.</p>\n"}],"owner":{"account_id":9245299,"reputation":21,"user_id":6867368,"display_name":"M. Wismer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680182278,"creation_date":1680017443,"question_id":75868239,"body_markdown":" I&#39;m having trouble using BeanComparator in my gradle project. I can import in my build.gradle with implementation &#39;commons-beanutils:commons-beanutils:1.9.4&#39;\r\n\r\nbut when I try to import \r\nimport commons-beanutils.commons.beanutils.BeanComparator\r\nI always see cannot resolve symbol commons\r\n\r\n\r\nDoes anyone have a working example of using BeanComparator with the import statement? Is using BeanComparator not a good idea because it uses reflection? It seems to do exactly what I want it to do.\r\n\r\nI have tried multiple variations \r\nimport commons-beanutils.commons-beanutils.BeanComparator\r\nimport commons.beanutils.commons-beanutils.BeanComparator etc.\r\n\r\nI have also tried \r\nimplementation &#39;org.apache.commons.beanutils:1.9.4&#39;\r\nbut that doesn&#39;t exist","title":"Trying to use BeanComparator in my gradle project","body":"<p>I'm having trouble using BeanComparator in my gradle project. I can import in my build.gradle with implementation 'commons-beanutils:commons-beanutils:1.9.4'</p>\n<p>but when I try to import\nimport commons-beanutils.commons.beanutils.BeanComparator\nI always see cannot resolve symbol commons</p>\n<p>Does anyone have a working example of using BeanComparator with the import statement? Is using BeanComparator not a good idea because it uses reflection? It seems to do exactly what I want it to do.</p>\n<p>I have tried multiple variations\nimport commons-beanutils.commons-beanutils.BeanComparator\nimport commons.beanutils.commons-beanutils.BeanComparator etc.</p>\n<p>I have also tried\nimplementation 'org.apache.commons.beanutils:1.9.4'\nbut that doesn't exist</p>\n"},{"tags":["java","annotations","javac"],"comments":[{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1679994712,"post_id":75864102,"comment_id":133816629,"body_markdown":"Why do you think the problem lies in javac and not java itself ? I mean, you only used javac to compile it in the beginning, java is the one that worked with different contexts.","body":"Why do you think the problem lies in javac and not java itself ? I mean, you only used javac to compile it in the beginning, java is the one that worked with different contexts."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1679994922,"post_id":75864102,"comment_id":133816697,"body_markdown":"@YassinHajaj: I asserted (just like that!) that the Right Thing™ to do here is to ignore this missing enum reference. A user of `x` (running `java`) can&#39;t really do much about it anyway, whereas a user of `q` (running `javac`) might still be able to fix things by adding a dependency.","body":"@YassinHajaj: I asserted (just like that!) that the Right Thing™ to do here is to ignore this missing enum reference. A user of <code>x</code> (running <code>java</code>) can&#39;t really do much about it anyway, whereas a user of <code>q</code> (running <code>javac</code>) might still be able to fix things by adding a dependency."},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1679999986,"post_id":75864102,"comment_id":133817993,"body_markdown":"Indeed, I read through some of the information here. Thanks for the additional information, it indeed can only be `javac`","body":"Indeed, I read through some of the information here. Thanks for the additional information, it indeed can only be <code>javac</code>"},{"owner":{"account_id":7413250,"reputation":592,"user_id":5639961,"display_name":"yyyy"},"score":0,"creation_date":1680103156,"post_id":75864102,"comment_id":133841351,"body_markdown":"I found a probably related bug report https://bugs.openjdk.org/browse/JDK-6550655 mentioned &quot;If a completion failure is thrown when entering an annotation through ClassReader, a **warning** is issued.&quot;. So the warning is intentional.\nI don&#39;t think JLS said anything about warnings during compiling.","body":"I found a probably related bug report <a href=\"https://bugs.openjdk.org/browse/JDK-6550655\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-6550655</a> mentioned &quot;If a completion failure is thrown when entering an annotation through ClassReader, a <b>warning</b> is issued.&quot;. So the warning is intentional. I don&#39;t think JLS said anything about warnings during compiling."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1680103556,"post_id":75864102,"comment_id":133841489,"body_markdown":"@yyyy: Great finding! I wonder if it was implemented wrongly. There&#39;s a claim that *&quot;but C.java is successfully compiled, and C.class correctly seems to contain the @B annotation. Probably some added warning is in order in case A.class could be found but A$E.class could not.&quot;* - The test in your linked issue only removed the enum, not the annotation, in case of which I agree with the warning. If both are removed, then I don&#39;t see the point of the warning.","body":"@yyyy: Great finding! I wonder if it was implemented wrongly. There&#39;s a claim that <i>&quot;but C.java is successfully compiled, and C.class correctly seems to contain the @B annotation. Probably some added warning is in order in case A.class could be found but A$E.class could not.&quot;</i> - The test in your linked issue only removed the enum, not the annotation, in case of which I agree with the warning. If both are removed, then I don&#39;t see the point of the warning."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680182156,"creation_date":1680182156,"answer_id":75888750,"question_id":75864102,"body_markdown":"As [commented by user yyyy][1] and also on the [library bug tracker][2], the current behaviour is defined by a fix [JDK-6550655][3], which introduced the warning in Java 7 (before, this annotation/enum usage resulted in a compilation error).\r\n\r\n[JDK-6550655][3] is slightly different. The warning was introduced for cases where only the enum `p.E` is absent, not the annotation `p.A`, in case of which, indeed, undesired runtime errors will occur when accessing `p.A` using reflection API. Warning developers of this situation is certainly desired. In this case here, however, all content of the `p` package is absent, meaning there can&#39;t be any runtime errors, and the absence should be fine as per the design of annotations, which are allowed to be absent.\r\n\r\nIn my opinion, this is a bug in javac, which I&#39;ve reported: [JDK-8305250][4]. It may or may not be accepted or fixed.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75864102/how-to-avoid-javac-warning-unknown-enum-constant-reason-class-file-not-found?noredirect=1#comment133841351_75864102\r\n  [2]: https://github.com/jOOQ/jOOQ/issues/14865#issuecomment-1489310283\r\n  [3]: https://bugs.openjdk.org/browse/JDK-6550655\r\n  [4]: https://bugs.openjdk.org/browse/JDK-8305250","title":"How to avoid javac warning: unknown enum constant, reason: class file not found, when dependency has optional annotations with enums","body":"<p>As <a href=\"https://stackoverflow.com/questions/75864102/how-to-avoid-javac-warning-unknown-enum-constant-reason-class-file-not-found?noredirect=1#comment133841351_75864102\">commented by user yyyy</a> and also on the <a href=\"https://github.com/jOOQ/jOOQ/issues/14865#issuecomment-1489310283\" rel=\"nofollow noreferrer\">library bug tracker</a>, the current behaviour is defined by a fix <a href=\"https://bugs.openjdk.org/browse/JDK-6550655\" rel=\"nofollow noreferrer\">JDK-6550655</a>, which introduced the warning in Java 7 (before, this annotation/enum usage resulted in a compilation error).</p>\n<p><a href=\"https://bugs.openjdk.org/browse/JDK-6550655\" rel=\"nofollow noreferrer\">JDK-6550655</a> is slightly different. The warning was introduced for cases where only the enum <code>p.E</code> is absent, not the annotation <code>p.A</code>, in case of which, indeed, undesired runtime errors will occur when accessing <code>p.A</code> using reflection API. Warning developers of this situation is certainly desired. In this case here, however, all content of the <code>p</code> package is absent, meaning there can't be any runtime errors, and the absence should be fine as per the design of annotations, which are allowed to be absent.</p>\n<p>In my opinion, this is a bug in javac, which I've reported: <a href=\"https://bugs.openjdk.org/browse/JDK-8305250\" rel=\"nofollow noreferrer\">JDK-8305250</a>. It may or may not be accepted or fixed.</p>\n"}],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2214,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":75888750,"answer_count":1,"score":20,"last_activity_date":1680182156,"creation_date":1679993215,"question_id":75864102,"body_markdown":"I have this example setup:\r\n\r\n**`p.E`**\r\n\r\n```java\r\npackage p;\r\n\r\npublic enum E { E }\r\n```\r\n\r\n**`p.A`**\r\n\r\n```java\r\npackage p;\r\n\r\nimport java.lang.annotation.*;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface A {\r\n    p.E e();\r\n}\r\n```\r\n\r\n**`q.Test`**\r\n\r\n```java\r\npackage q;\r\n\r\nimport p.*;\r\n\r\n@A(e = E.E)\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Test.main()&quot;);\r\n    }\r\n}\r\n```\r\n\r\nSo, I can now do this:\r\n\r\n```none\r\n$ javac q/Test.java\r\n$ rm p/*.class\r\n$ ll */*\r\n-rw-r--r-- 1 lukas 197609 118 Mar 28 10:21 p/A.java\r\n-rw-r--r-- 1 lukas 197609  32 Mar 28 09:43 p/E.java\r\n-rw-r--r-- 1 lukas 197609 486 Mar 28 10:22 q/Test.class\r\n-rw-r--r-- 1 lukas 197609 153 Mar 28 09:55 q/Test.java\r\n$ java q/Test\r\nTest.main()\r\n```\r\n\r\nNo problem, the annotations are optional and ignored by the runtime, no `NoClassDefFoundError`\r\n\r\nHowever, when I remove the source files of `p` as well, keeping the compiled `Test.class`:\r\n\r\n```\r\n$ rm -Rf p\r\n```\r\n\r\nAnd then create:\r\n\r\n**`x.Test2`**\r\n\r\n```java\r\npackage x;\r\n\r\npublic class Test2 {\r\n    q.Test test;\r\n}\r\n```\r\n\r\nCompiling that class gives a warning:\r\n\r\n```none\r\n$ javac x/Test2.java\r\nwarning: unknown enum constant E.E\r\n  reason: class file for p.E not found\r\n1 warning\r\n```\r\n\r\n## Alternatives, that don&#39;t produce such a warning\r\n\r\n### No enum\r\n\r\nI don&#39;t get this warning for an annotation that doesn&#39;t depend on any enums. I.e. repeat the procedure for these, and there&#39;s no warning:\r\n\r\n**`p.A`**\r\n\r\n```java\r\npackage p;\r\n\r\nimport java.lang.annotation.*;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface A {}\r\n```\r\n\r\n**`q.Test`**\r\n\r\n```java\r\npackage q;\r\n\r\nimport p.*;\r\n\r\n@A\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Test.main()&quot;);\r\n    }\r\n}\r\n```\r\n\r\n### Class reference\r\n\r\nWhen `A` references `Class&lt;E&gt;` instead of an `E.E` enum value, I still don&#39;t get any warnings:\r\n\r\n**`p.A`**\r\n\r\n```java\r\npackage p;\r\n\r\nimport java.lang.annotation.*;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface A {\r\n    Class&lt;?&gt; a();\r\n}\r\n```\r\n\r\n**`q.Test`**\r\n\r\n```java\r\npackage q;\r\n\r\nimport p.*;\r\n\r\n@A(a = E.class)\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Test.main()&quot;);\r\n    }\r\n}\r\n```\r\n\r\n## My questions:\r\n\r\n1. Is this a correct warning according to the JLS? It seems like a bug in javac to me, given the annotation is optional and doesn&#39;t produce a warning if there&#39;s no `enum` type involved, but I may be missing something.\r\n2. Is there any way to work around this warning in client code?\r\n\r\n**For context: the real world use-case is:**\r\n\r\n- The `p` package containing the annotations are from JAXB\r\n- The `q` package containing library code that references the annotations is a library whose dependency on `p` is optional. (jOOQ to be specific, [more details here][1])\r\n- The `x` package is client code, depending on the `q` package, which has an optional dependency on `p`, meaning, the dependency is effectively missing by default.\r\n\r\n\r\n  [1]: https://github.com/jOOQ/jOOQ/issues/14865","title":"How to avoid javac warning: unknown enum constant, reason: class file not found, when dependency has optional annotations with enums","body":"<p>I have this example setup:</p>\n<p><strong><code>p.E</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package p;\n\npublic enum E { E }\n</code></pre>\n<p><strong><code>p.A</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package p;\n\nimport java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface A {\n    p.E e();\n}\n</code></pre>\n<p><strong><code>q.Test</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package q;\n\nimport p.*;\n\n@A(e = E.E)\npublic class Test {\n    public static void main(String[] args) {\n        System.out.println(&quot;Test.main()&quot;);\n    }\n}\n</code></pre>\n<p>So, I can now do this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ javac q/Test.java\n$ rm p/*.class\n$ ll */*\n-rw-r--r-- 1 lukas 197609 118 Mar 28 10:21 p/A.java\n-rw-r--r-- 1 lukas 197609  32 Mar 28 09:43 p/E.java\n-rw-r--r-- 1 lukas 197609 486 Mar 28 10:22 q/Test.class\n-rw-r--r-- 1 lukas 197609 153 Mar 28 09:55 q/Test.java\n$ java q/Test\nTest.main()\n</code></pre>\n<p>No problem, the annotations are optional and ignored by the runtime, no <code>NoClassDefFoundError</code></p>\n<p>However, when I remove the source files of <code>p</code> as well, keeping the compiled <code>Test.class</code>:</p>\n<pre><code>$ rm -Rf p\n</code></pre>\n<p>And then create:</p>\n<p><strong><code>x.Test2</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package x;\n\npublic class Test2 {\n    q.Test test;\n}\n</code></pre>\n<p>Compiling that class gives a warning:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ javac x/Test2.java\nwarning: unknown enum constant E.E\n  reason: class file for p.E not found\n1 warning\n</code></pre>\n<h2>Alternatives, that don't produce such a warning</h2>\n<h3>No enum</h3>\n<p>I don't get this warning for an annotation that doesn't depend on any enums. I.e. repeat the procedure for these, and there's no warning:</p>\n<p><strong><code>p.A</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package p;\n\nimport java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface A {}\n</code></pre>\n<p><strong><code>q.Test</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package q;\n\nimport p.*;\n\n@A\npublic class Test {\n    public static void main(String[] args) {\n        System.out.println(&quot;Test.main()&quot;);\n    }\n}\n</code></pre>\n<h3>Class reference</h3>\n<p>When <code>A</code> references <code>Class&lt;E&gt;</code> instead of an <code>E.E</code> enum value, I still don't get any warnings:</p>\n<p><strong><code>p.A</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package p;\n\nimport java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface A {\n    Class&lt;?&gt; a();\n}\n</code></pre>\n<p><strong><code>q.Test</code></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package q;\n\nimport p.*;\n\n@A(a = E.class)\npublic class Test {\n    public static void main(String[] args) {\n        System.out.println(&quot;Test.main()&quot;);\n    }\n}\n</code></pre>\n<h2>My questions:</h2>\n<ol>\n<li>Is this a correct warning according to the JLS? It seems like a bug in javac to me, given the annotation is optional and doesn't produce a warning if there's no <code>enum</code> type involved, but I may be missing something.</li>\n<li>Is there any way to work around this warning in client code?</li>\n</ol>\n<p><strong>For context: the real world use-case is:</strong></p>\n<ul>\n<li>The <code>p</code> package containing the annotations are from JAXB</li>\n<li>The <code>q</code> package containing library code that references the annotations is a library whose dependency on <code>p</code> is optional. (jOOQ to be specific, <a href=\"https://github.com/jOOQ/jOOQ/issues/14865\" rel=\"noreferrer\">more details here</a>)</li>\n<li>The <code>x</code> package is client code, depending on the <code>q</code> package, which has an optional dependency on <code>p</code>, meaning, the dependency is effectively missing by default.</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3395647,"reputation":8918,"user_id":2849346,"accept_rate":50,"display_name":"MWiesner"},"score":0,"creation_date":1430719652,"post_id":30023545,"comment_id":48164336,"body_markdown":"so, now what is your question?","body":"so, now what is your question?"},{"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"score":0,"creation_date":1430719665,"post_id":30023545,"comment_id":48164342,"body_markdown":"check your `path` variable","body":"check your <code>path</code> variable"},{"owner":{"account_id":2814449,"reputation":5714,"user_id":2419922,"accept_rate":72,"display_name":"cshu"},"score":0,"creation_date":1430719881,"post_id":30023545,"comment_id":48164417,"body_markdown":"I remember that java 8 puts a `java.exe` under `Windows\\System32`. You cannot pretend it doesn&#39;t exist. You may have to use the full path of `jdk1.6.0`, or just uninstall java 8","body":"I remember that java 8 puts a <code>java.exe</code> under <code>Windows\\System32</code>. You cannot pretend it doesn&#39;t exist. You may have to use the full path of <code>jdk1.6.0</code>, or just uninstall java 8"}],"answers":[{"tags":[],"owner":{"account_id":1914874,"reputation":13438,"user_id":1727645,"accept_rate":81,"display_name":"Prasad Kharkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430719645,"creation_date":1430719645,"answer_id":30023575,"question_id":30023545,"body_markdown":"You need to add the path to `jJAVA_HOME%/bin` directory in the `path` variable too. `java` command is located in `%JAVA_HOME%/bin`","title":"JAVA_HOME set but not taking effect","body":"<p>You need to add the path to <code>jJAVA_HOME%/bin</code> directory in the <code>path</code> variable too. <code>java</code> command is located in <code>%JAVA_HOME%/bin</code></p>\n"},{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430719662,"creation_date":1430719662,"answer_id":30023579,"question_id":30023545,"body_markdown":"`JAVA_HOME` is environment variable that various application reads in their launcher script\r\n\r\nwhen you invoke `java` it looks up for all paths specified in your env variable named `PATH` and wherever the first match is it gets picked up\r\n\r\nso if you like command prompt to refer to jdk 6&#39;s Java append the path to `PATH`","title":"JAVA_HOME set but not taking effect","body":"<p><code>JAVA_HOME</code> is environment variable that various application reads in their launcher script</p>\n\n<p>when you invoke <code>java</code> it looks up for all paths specified in your env variable named <code>PATH</code> and wherever the first match is it gets picked up</p>\n\n<p>so if you like command prompt to refer to jdk 6's Java append the path to <code>PATH</code></p>\n"},{"tags":[],"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430719667,"creation_date":1430719667,"answer_id":30023580,"question_id":30023545,"body_markdown":"Check your `PATH` environment variable also. Your system is referring to latest Java installation through PATH variable.","title":"JAVA_HOME set but not taking effect","body":"<p>Check your <code>PATH</code> environment variable also. Your system is referring to latest Java installation through PATH variable.</p>\n"},{"tags":[],"owner":{"account_id":5984666,"reputation":7885,"user_id":4702544,"accept_rate":50,"display_name":"Sachin Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430719771,"creation_date":1430719771,"answer_id":30023595,"question_id":30023545,"body_markdown":"I think in your `path` variable you have hardcoded the path to `bin` folder. it should always be `%JAVA_HOME%/bin`.\r\n\r\nSo that it can pick path from `JAVA_HOME` variable and you don&#39;t need to change both the variables every time.","title":"JAVA_HOME set but not taking effect","body":"<p>I think in your <code>path</code> variable you have hardcoded the path to <code>bin</code> folder. it should always be <code>%JAVA_HOME%/bin</code>.</p>\n\n<p>So that it can pick path from <code>JAVA_HOME</code> variable and you don't need to change both the variables every time.</p>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1654061375,"creation_date":1430719775,"answer_id":30023598,"question_id":30023545,"body_markdown":"I had the same trouble and I solved it with the following steps:\r\n\r\nYou need the correct environment variables.\r\n\r\nTo be exactly correct, you only need to set the `Path` variable.\r\n\r\nYou need to find where you add `%JAVA_HOME%\\bin` to the path.\r\n\r\nPut it at first place in the `Path` variable:\r\n\r\n    %JAVA_HOME%\\bin;... \r\n\r\nwhere `...` represents all other values of `Path`.\r\n\r\nI assume that `JAVA_HOME` is defined as a variable and had the correct value.\r\n\r\nAfter this reopen console and check:  \r\n \r\n    java -version","title":"JAVA_HOME set but not taking effect","body":"<p>I had the same trouble and I solved it with the following steps:</p>\n<p>You need the correct environment variables.</p>\n<p>To be exactly correct, you only need to set the <code>Path</code> variable.</p>\n<p>You need to find where you add <code>%JAVA_HOME%\\bin</code> to the path.</p>\n<p>Put it at first place in the <code>Path</code> variable:</p>\n<pre><code>%JAVA_HOME%\\bin;... \n</code></pre>\n<p>where <code>...</code> represents all other values of <code>Path</code>.</p>\n<p>I assume that <code>JAVA_HOME</code> is defined as a variable and had the correct value.</p>\n<p>After this reopen console and check:</p>\n<pre><code>java -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4139586,"reputation":129,"user_id":3395310,"display_name":"Nilesh Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680182104,"creation_date":1680182104,"answer_id":75888737,"question_id":30023545,"body_markdown":"Windows has this peculiar way of considering JAVA version. By default there is a java folder where jre is placed by windows. It is under C:\\Program Files (x86)\\Java\\jre1.8.0_351. \r\n\r\nAnd when you will read your Environment variable in windows 10 onward, you will notice there is a path entry &quot;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath&quot;. This messes up with Custom java home that we declare. To fix this just **move up** the **&quot;%JAVA_HOME%/bin&quot;** as a **first** entry in path variable.","title":"JAVA_HOME set but not taking effect","body":"<p>Windows has this peculiar way of considering JAVA version. By default there is a java folder where jre is placed by windows. It is under C:\\Program Files (x86)\\Java\\jre1.8.0_351.</p>\n<p>And when you will read your Environment variable in windows 10 onward, you will notice there is a path entry &quot;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath&quot;. This messes up with Custom java home that we declare. To fix this just <strong>move up</strong> the <strong>&quot;%JAVA_HOME%/bin&quot;</strong> as a <strong>first</strong> entry in path variable.</p>\n"}],"owner":{"account_id":2411926,"reputation":2788,"user_id":2106815,"accept_rate":69,"display_name":"Jabir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23240,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":30023598,"answer_count":6,"score":6,"last_activity_date":1680182104,"creation_date":1430719538,"question_id":30023545,"body_markdown":"![enter image description here][1]\r\n\r\nAs depicted in above image java home is set and is being echoed but when i check for version it gives me latest version. \r\nAlready restarted the command prompt after setting env variable.\r\nOS is Windows 7\r\n\r\nUpdate:\r\n\r\nFollowing is the Path.\r\n\r\n&gt; ..ProgramData\\Oracle\\Java\\javapath;%SystemRoot%\\system32;%SystemRoot%;%SystemRoot%\\System32\\Wbem;%SYSTEMROOT%\\System32\\WindowsPowerShell\\v1.0\\;;%JAVA_HOME%/bin;\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/g8mpr.png","title":"JAVA_HOME set but not taking effect","body":"<p><img src=\"https://i.stack.imgur.com/g8mpr.png\" alt=\"enter image description here\"></p>\n\n<p>As depicted in above image java home is set and is being echoed but when i check for version it gives me latest version. \nAlready restarted the command prompt after setting env variable.\nOS is Windows 7</p>\n\n<p>Update:</p>\n\n<p>Following is the Path.</p>\n\n<blockquote>\n  <p>..ProgramData\\Oracle\\Java\\javapath;%SystemRoot%\\system32;%SystemRoot%;%SystemRoot%\\System32\\Wbem;%SYSTEMROOT%\\System32\\WindowsPowerShell\\v1.0\\;;%JAVA_HOME%/bin;</p>\n</blockquote>\n"},{"tags":["java","selenium-webdriver","testing","webdriverwait","web-testing"],"comments":[{"owner":{"account_id":17313891,"reputation":135,"user_id":12540841,"display_name":"gxslash"},"score":1,"creation_date":1679515267,"post_id":75816376,"comment_id":133737857,"body_markdown":"Did you consider using WebDriverWait? https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait","body":"Did you consider using WebDriverWait? <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/WebDriverWait\" rel=\"nofollow noreferrer\">selenium.dev/selenium/docs/api/java/org/openqa/selenium/supp&zwnj;&#8203;ort/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":28049622,"reputation":460,"user_id":21425739,"display_name":"howard_9"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679516274,"creation_date":1679516274,"answer_id":75816916,"question_id":75816376,"body_markdown":"Two ideas...\r\n***\r\n## Idea #1\r\n\r\nRight after you click &quot;next page&quot;, you mentioned there is a 1-second window that the previous product remains on the page.\r\n\r\nStart checking for `visibilityOfElementLocated() = false` on the **previous product** right after you click &quot;next page&quot;.\r\n\r\n***\r\n## Idea #2\r\n\r\nIdea #1 might fail if your CPU is not fast enough to catch the previous product during that 1-second window.  In that case, try forking a new worker thread to check for the previous product right before you click &quot;next page&quot;.  Then, after you click &quot;next page&quot;, the master thread will wait for the worker thread to confirm that the previous product has disappeared.\r\n","title":"How to make Selenium wait until the elements on the page are replaced (java)","body":"<p>Two ideas...</p>\n<hr />\n<h2>Idea #1</h2>\n<p>Right after you click &quot;next page&quot;, you mentioned there is a 1-second window that the previous product remains on the page.</p>\n<p>Start checking for <code>visibilityOfElementLocated() = false</code> on the <strong>previous product</strong> right after you click &quot;next page&quot;.</p>\n<hr />\n<h2>Idea #2</h2>\n<p>Idea #1 might fail if your CPU is not fast enough to catch the previous product during that 1-second window.  In that case, try forking a new worker thread to check for the previous product right before you click &quot;next page&quot;.  Then, after you click &quot;next page&quot;, the master thread will wait for the worker thread to confirm that the previous product has disappeared.</p>\n"},{"tags":[],"owner":{"account_id":5196911,"reputation":33,"user_id":4282691,"display_name":"Joshua Penn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679616128,"creation_date":1679616128,"answer_id":75828978,"question_id":75816376,"body_markdown":"You&#39;ll want to pair WebdriverWait with ExpectedConditions\r\n\r\n    new WebDriverWait(driver1, timeout).until(ExpectedConditions.visibilityOf(element));\r\n\r\nI recommend this explanation of how to use WebDriverWait in conjunction with ExpectedConditions: https://www.browserstack.com/guide/expectedconditions-in-selenium","title":"How to make Selenium wait until the elements on the page are replaced (java)","body":"<p>You'll want to pair WebdriverWait with ExpectedConditions</p>\n<pre><code>new WebDriverWait(driver1, timeout).until(ExpectedConditions.visibilityOf(element));\n</code></pre>\n<p>I recommend this explanation of how to use WebDriverWait in conjunction with ExpectedConditions: <a href=\"https://www.browserstack.com/guide/expectedconditions-in-selenium\" rel=\"nofollow noreferrer\">https://www.browserstack.com/guide/expectedconditions-in-selenium</a></p>\n"},{"tags":[],"owner":{"account_id":28006101,"reputation":1,"user_id":21389490,"display_name":"Narendra Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680181891,"creation_date":1679815364,"answer_id":75846405,"question_id":75816376,"body_markdown":"Use like this...\r\n\r\n    webdeivewait wait =new webdeivewait (driver,some seconds here);\r\n    \r\n    wait.until (ExpectedConditions.Visibilityofelementlocated(By.xpath(&quot;xpath of webelement you want to wait&quot;)).click();","title":"How to make Selenium wait until the elements on the page are replaced (java)","body":"<p>Use like this...</p>\n<pre><code>webdeivewait wait =new webdeivewait (driver,some seconds here);\n\nwait.until (ExpectedConditions.Visibilityofelementlocated(By.xpath(&quot;xpath of webelement you want to wait&quot;)).click();\n</code></pre>\n"}],"owner":{"account_id":23556202,"reputation":123,"user_id":19734191,"display_name":"Lydia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75816916,"answer_count":3,"score":2,"last_activity_date":1680181891,"creation_date":1679512199,"question_id":75816376,"body_markdown":"For a graduation project, I am testing an online store using Selenium Webdriver and Java. I&#39;m stuck in this part of the testing , where I have to check whether all search results (products) contains partucular word.  \r\nMy search returns several pages of products. There is a pagination at the bottom of the page, but I don&#39;t know and can&#39;t check the exact number of pages, so I just click the [Next page] button while it is available.  \r\n\r\nSo the promblem is that when I click the [Next Page] button at the bottom of the page, the page scrolls up, the previous products remain for about 1 second, and then are replaced with new ones from the next page. The page itself is not reloaded, only the previous products are replaced by the next ones in the corresponding block on the page. The block and products are &lt;div&gt; element.  \r\n\r\nIt works if I use Thread.sleep, but this is considered a bad decision. I can&#39;t figure out if there&#39;s any way I can use explicity wait (textToBePresentInElement, elementToBeClickable, visibilityOfElementLocated, presenceOfElementLocated don&#39;t suit) as in my other tests.\r\n\r\n        List&lt;WebElement&gt; products = driver.findElements(By.className(SearchPage.LABEL_PRODUCT_NAME));\r\n        for (WebElement product : products) {\r\n            Assertions.assertTrue(product.getText().toLowerCase().contains(SearchPage.textForSearchWithResults),\r\n                    &quot;Error. No &quot; + SearchPage.textForSearchWithResults + &quot; found.&quot;);\r\n        }\r\n\r\n        WebElement pagination = driver.findElement(By.xpath(SearchPage.BUTTON_PAGINATION_NEXT));\r\n        while (driver.findElements(By.xpath(SearchPage.BUTTON_PAGINATION_NEXT)).size() &gt; 0) {\r\n            pagination.click();\r\n            try {\r\n                Thread.sleep(2000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            List&lt;WebElement&gt; productsOnTheNextPage = driver.findElements(By.className(SearchPage.LABEL_PRODUCT_NAME));\r\n            for (WebElement product : productsOnTheNextPage) {\r\n                System.out.println(product.getText());\r\n                Assertions.assertTrue(product.getText().toLowerCase().\r\n                                contains(SearchPage.textForSearchWithResults.toLowerCase()),\r\n                        &quot;Error. No &quot; + SearchPage.textForSearchWithResults + &quot; found.&quot;);\r\n            }\r\n        }\r\n\r\nHow can I replace this Thread.sleep?","title":"How to make Selenium wait until the elements on the page are replaced (java)","body":"<p>For a graduation project, I am testing an online store using Selenium Webdriver and Java. I'm stuck in this part of the testing , where I have to check whether all search results (products) contains partucular word.<br />\nMy search returns several pages of products. There is a pagination at the bottom of the page, but I don't know and can't check the exact number of pages, so I just click the [Next page] button while it is available.</p>\n<p>So the promblem is that when I click the [Next Page] button at the bottom of the page, the page scrolls up, the previous products remain for about 1 second, and then are replaced with new ones from the next page. The page itself is not reloaded, only the previous products are replaced by the next ones in the corresponding block on the page. The block and products are  element.</p>\n<p>It works if I use Thread.sleep, but this is considered a bad decision. I can't figure out if there's any way I can use explicity wait (textToBePresentInElement, elementToBeClickable, visibilityOfElementLocated, presenceOfElementLocated don't suit) as in my other tests.</p>\n<pre><code>    List&lt;WebElement&gt; products = driver.findElements(By.className(SearchPage.LABEL_PRODUCT_NAME));\n    for (WebElement product : products) {\n        Assertions.assertTrue(product.getText().toLowerCase().contains(SearchPage.textForSearchWithResults),\n                &quot;Error. No &quot; + SearchPage.textForSearchWithResults + &quot; found.&quot;);\n    }\n\n    WebElement pagination = driver.findElement(By.xpath(SearchPage.BUTTON_PAGINATION_NEXT));\n    while (driver.findElements(By.xpath(SearchPage.BUTTON_PAGINATION_NEXT)).size() &gt; 0) {\n        pagination.click();\n        try {\n            Thread.sleep(2000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        List&lt;WebElement&gt; productsOnTheNextPage = driver.findElements(By.className(SearchPage.LABEL_PRODUCT_NAME));\n        for (WebElement product : productsOnTheNextPage) {\n            System.out.println(product.getText());\n            Assertions.assertTrue(product.getText().toLowerCase().\n                            contains(SearchPage.textForSearchWithResults.toLowerCase()),\n                    &quot;Error. No &quot; + SearchPage.textForSearchWithResults + &quot; found.&quot;);\n        }\n    }\n</code></pre>\n<p>How can I replace this Thread.sleep?</p>\n"},{"tags":["java","time-complexity"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1680179995,"post_id":75888355,"comment_id":133856422,"body_markdown":"Please fix the syntax errors in the code and format the code as code block. You can do this by surrounding your code by three backtick characters (`\\`\\`\\``) both on top of the code and at the bottom.","body":"Please fix the syntax errors in the code and format the code as code block. You can do this by surrounding your code by three backtick characters (<code>```</code>) both on top of the code and at the bottom."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1680179997,"post_id":75888355,"comment_id":133856423,"body_markdown":"First of all can you plese format your code so that we can read it conveniently","body":"First of all can you plese format your code so that we can read it conveniently"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":5,"creation_date":1680180263,"post_id":75888355,"comment_id":133856491,"body_markdown":"In the first function, the outer loop will only run once, because the inner loop raises `i` past the end of the outer loop&#39;s limit.","body":"In the first function, the outer loop will only run once, because the inner loop raises <code>i</code> past the end of the outer loop&#39;s limit."}],"answers":[{"tags":[],"owner":{"account_id":23907022,"reputation":21,"user_id":17904485,"display_name":"Shubham Jangid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680180762,"creation_date":1680180762,"answer_id":75888535,"question_id":75888355,"body_markdown":"The first code has the time-complexity O(n^2), because we are using the same iterator `i` in both loops so it will run only when `i&lt;n` from outer-loop, doesn&#39;t matter if we put `i&lt;n^3 or i&lt;n^10` in inner-loop, it will exit the both loops as soon as it becomes `i=n`.\r\n\r\n&amp; the second loop certainly has the time-complexity of `O(n^3)`","title":"Iam still confused how time complexity is calculated","body":"<p>The first code has the time-complexity O(n^2), because we are using the same iterator <code>i</code> in both loops so it will run only when <code>i&lt;n</code> from outer-loop, doesn't matter if we put <code>i&lt;n^3 or i&lt;n^10</code> in inner-loop, it will exit the both loops as soon as it becomes <code>i=n</code>.</p>\n<p>&amp; the second loop certainly has the time-complexity of <code>O(n^3)</code></p>\n"},{"tags":[],"owner":{"account_id":15670743,"reputation":135,"user_id":11307336,"display_name":"zoobiE-"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680181153,"creation_date":1680181153,"answer_id":75888596,"question_id":75888355,"body_markdown":"You are right in the case of the second example, the time complexity is O(n^3) since the outer loop iterates n-1 times and inner one n^2 which results in (n-1) * n^2 or n^3 - n^2 so considering constant time operations the complexity can be expressed as O(n^3).\r\n\r\nHowever in the first example the complexity is only O(n^2) which reflects the number of iterations of the inner loop since the outer loop will always execute  only once. This is because the inner loop will exit with i=n*n-1 after the first iteration of outer loop which is outside the first loop&#39;s bounds (i &lt; n).","title":"Iam still confused how time complexity is calculated","body":"<p>You are right in the case of the second example, the time complexity is O(n^3) since the outer loop iterates n-1 times and inner one n^2 which results in (n-1) * n^2 or n^3 - n^2 so considering constant time operations the complexity can be expressed as O(n^3).</p>\n<p>However in the first example the complexity is only O(n^2) which reflects the number of iterations of the inner loop since the outer loop will always execute  only once. This is because the inner loop will exit with i=n*n-1 after the first iteration of outer loop which is outside the first loop's bounds (i &lt; n).</p>\n"}],"owner":{"account_id":28168448,"reputation":33,"user_id":21527326,"display_name":"Coder1234"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75888596,"answer_count":2,"score":2,"last_activity_date":1680181814,"creation_date":1680179733,"question_id":75888355,"body_markdown":"For the below code it is said that the time complexity is `O(n^2)` \r\n\r\nIf the inner loop runs for `n*n` times \r\nand outer loop runs for n times then shouldn&#39;t it be `O(n^3)`\r\n\r\n```\r\npublic static void func(int n){\r\n    int sum=0;\r\n    \r\n    for(int i=1;i&lt;n;i++) {\r\n      for(;i&lt;n*n;i++)\r\n       sum+=1;\r\n     \r\n      System.out.println(sum):\r\n    \r\n    }\r\n}\r\n```\r\nBut similarily for below code,the time complexity is `O(n^3)`\r\n    \r\n```\r\npublic static void func(int n) {\r\n    int sum=0;\r\n    \r\n    for(int i=1;i&lt;n;i++) {\r\n      for(int j=0;j&lt;n*n;j++) {\r\n        sum+=1;\r\n        System.out.println(sum);\r\n      }\r\n    }\r\n}\r\n```\r\nSo can someone explain the reason ?\r\n\r\nI felt that time complexity for the cases should be O(n^3) but that&#39;s not the case.","title":"Iam still confused how time complexity is calculated","body":"<p>For the below code it is said that the time complexity is <code>O(n^2)</code></p>\n<p>If the inner loop runs for <code>n*n</code> times\nand outer loop runs for n times then shouldn't it be <code>O(n^3)</code></p>\n<pre><code>public static void func(int n){\n    int sum=0;\n    \n    for(int i=1;i&lt;n;i++) {\n      for(;i&lt;n*n;i++)\n       sum+=1;\n     \n      System.out.println(sum):\n    \n    }\n}\n</code></pre>\n<p>But similarily for below code,the time complexity is <code>O(n^3)</code></p>\n<pre><code>public static void func(int n) {\n    int sum=0;\n    \n    for(int i=1;i&lt;n;i++) {\n      for(int j=0;j&lt;n*n;j++) {\n        sum+=1;\n        System.out.println(sum);\n      }\n    }\n}\n</code></pre>\n<p>So can someone explain the reason ?</p>\n<p>I felt that time complexity for the cases should be O(n^3) but that's not the case.</p>\n"},{"tags":["java","reflections"],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1680105196,"creation_date":1680105196,"answer_id":75879501,"question_id":75879448,"body_markdown":"Check the [documentation of the `SubTypesScanner` class](https://ronmamo.github.io/reflections/org/reflections/scanners/SubTypesScanner.html):\r\n\r\n&gt; **Deprecated.**\r\n&gt;\r\n&gt; scan superclass and interfaces of a class, allowing a reverse lookup for subtypes. *Deprecated, use [`Scanners.SubTypes`](https://ronmamo.github.io/reflections/org/reflections/scanners/Scanners.html#SubTypes) instead*\r\n\r\nSo the solution is to use the [`Scanners.SubTypes`](https://ronmamo.github.io/reflections/org/reflections/scanners/Scanners.html#SubTypes) field instead.","title":"Deprecated Reflection constructor","body":"<p>Check the <a href=\"https://ronmamo.github.io/reflections/org/reflections/scanners/SubTypesScanner.html\" rel=\"noreferrer\">documentation of the <code>SubTypesScanner</code> class</a>:</p>\n<blockquote>\n<p><strong>Deprecated.</strong></p>\n<p>scan superclass and interfaces of a class, allowing a reverse lookup for subtypes. <em>Deprecated, use <a href=\"https://ronmamo.github.io/reflections/org/reflections/scanners/Scanners.html#SubTypes\" rel=\"noreferrer\"><code>Scanners.SubTypes</code></a> instead</em></p>\n</blockquote>\n<p>So the solution is to use the <a href=\"https://ronmamo.github.io/reflections/org/reflections/scanners/Scanners.html#SubTypes\" rel=\"noreferrer\"><code>Scanners.SubTypes</code></a> field instead.</p>\n"}],"owner":{"account_id":15919644,"reputation":133,"user_id":14420635,"display_name":"gmn_1450"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680181755,"creation_date":1680104846,"question_id":75879448,"body_markdown":"I am running sonar cloud through my Java code and it has some deprecated constructors. I managed to update most of them, but not this one:\r\n\r\n```\r\nimport org.reflections.util.ClasspathHelper;\r\n\r\nprivate static final String PACKAGE_ENTITIES = &quot;my.package&quot;;\r\n\r\nnew Reflections(PACKAGE_ENTITIES, new SubTypesScanner(false), ClasspathHelper.forClassLoader());\r\n```\r\n\r\n```&#39;org.reflections.scanners.SubTypesScanner&#39; is deprecated``` is the official sonar message. \r\n\r\nMy guess is ```Scanners.SubTypes (s -&gt; true)```\r\n\r\nAny tips?\r\n\r\nThanks in advance.\r\n","title":"Deprecated Reflection constructor","body":"<p>I am running sonar cloud through my Java code and it has some deprecated constructors. I managed to update most of them, but not this one:</p>\n<pre><code>import org.reflections.util.ClasspathHelper;\n\nprivate static final String PACKAGE_ENTITIES = &quot;my.package&quot;;\n\nnew Reflections(PACKAGE_ENTITIES, new SubTypesScanner(false), ClasspathHelper.forClassLoader());\n</code></pre>\n<p><code>'org.reflections.scanners.SubTypesScanner' is deprecated</code> is the official sonar message.</p>\n<p>My guess is <code>Scanners.SubTypes (s -&gt; true)</code></p>\n<p>Any tips?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","algorithm","cumulative-sum"],"comments":[{"owner":{"account_id":16016658,"reputation":64,"user_id":11559187,"display_name":"Volzy"},"score":0,"creation_date":1680181774,"post_id":75888672,"comment_id":133856986,"body_markdown":"it looks a dynamic programming exercise","body":"it looks a dynamic programming exercise"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1680181796,"post_id":75888672,"comment_id":133856992,"body_markdown":"This is called the {0,1} knapsack problem. You can find lots of information about it by searching.","body":"This is called the {0,1} knapsack problem. You can find lots of information about it by searching."},{"owner":{"account_id":3711000,"reputation":31781,"user_id":3088349,"accept_rate":100,"display_name":"Maytham Fahmi"},"score":0,"creation_date":1680182057,"post_id":75888672,"comment_id":133857078,"body_markdown":"I was just thinking, as a student, it is also a good idea to try something before asking. Searching for solutions won&#39;t make you learn.","body":"I was just thinking, as a student, it is also a good idea to try something before asking. Searching for solutions won&#39;t make you learn."},{"owner":{"account_id":15670743,"reputation":135,"user_id":11307336,"display_name":"zoobiE-"},"score":0,"creation_date":1680182134,"post_id":75888672,"comment_id":133857106,"body_markdown":"Try to ask here https://chat.openai.com :)","body":"Try to ask here <a href=\"https://chat.openai.com\" rel=\"nofollow noreferrer\">chat.openai.com</a> :)"}],"owner":{"account_id":28168696,"reputation":11,"user_id":21527542,"display_name":"Bartkooo98"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680181935,"answer_count":0,"score":1,"last_activity_date":1680181660,"creation_date":1680181660,"question_id":75888672,"body_markdown":"I have small exercise to be done with algorithms. The task is “There are N trees to be arranged.  Each tree has a specific height and width.  we have to arrange the trees in such a way that the sum of the heights of the trees is as large as possible, and their width does not exceed the maximum width of the row.”\r\nCan someone help me with that? Any algorithmic explanation or maybe solution in Java?\r\n\r\nI tried to search any solutions or ideas in books about algorithms. I expect to find any help.","title":"Algorithm to find highest sum","body":"<p>I have small exercise to be done with algorithms. The task is “There are N trees to be arranged.  Each tree has a specific height and width.  we have to arrange the trees in such a way that the sum of the heights of the trees is as large as possible, and their width does not exceed the maximum width of the row.”\nCan someone help me with that? Any algorithmic explanation or maybe solution in Java?</p>\n<p>I tried to search any solutions or ideas in books about algorithms. I expect to find any help.</p>\n"},{"tags":["java","spring-boot","docker","macos","hazelcast"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1677159379,"post_id":75545257,"comment_id":133285329,"body_markdown":"reason is clearly mentioned in log statements, &quot;Could not connect to any cluster, shutting down the client: Giving up retrying to connect to cluster since client is shutdown&quot;, you might need to check why hazelcast client is not able to connect to any server cluster(I assume you are using hazelcast as server-client mode).","body":"reason is clearly mentioned in log statements, &quot;Could not connect to any cluster, shutting down the client: Giving up retrying to connect to cluster since client is shutdown&quot;, you might need to check why hazelcast client is not able to connect to any server cluster(I assume you are using hazelcast as server-client mode)."}],"answers":[{"tags":[],"owner":{"account_id":16194217,"reputation":622,"user_id":11692264,"display_name":"petrov.aleksandr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680181647,"creation_date":1680181647,"answer_id":75888671,"question_id":75545257,"body_markdown":"I used Hazelcast:3.12.2 and it doesn’t work in docker on Mac m* chips. Newer versions such 4.* and 5* of Hazelcast don’t work with Hazelcast client 3.* versions. \r\nBut 3.12.12 Hazelcast version which also doesn’t not optimised for arm, works properly.","title":"Hazelcast: client is shutdown, when I start Hazelcast container on Mac","body":"<p>I used Hazelcast:3.12.2 and it doesn’t work in docker on Mac m* chips. Newer versions such 4.* and 5* of Hazelcast don’t work with Hazelcast client 3.* versions.\nBut 3.12.12 Hazelcast version which also doesn’t not optimised for arm, works properly.</p>\n"}],"owner":{"account_id":16194217,"reputation":622,"user_id":11692264,"display_name":"petrov.aleksandr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75888671,"answer_count":1,"score":1,"last_activity_date":1680181647,"creation_date":1677157659,"question_id":75545257,"body_markdown":"I have docker-compose.yml file:\r\n\r\n    version: &quot;2&quot;\r\n    services:\r\n      postgres:\r\n        image: postgres:12.4\r\n        environment:\r\n          - POSTGRES_USER=postgres\r\n          - POSTGRES_PASSWORD=postgres\r\n          - POSTGRES_DB=password\r\n        ports:\r\n          - 5432:5432\r\n      hazelcast:\r\n        image: hazelcast/hazelcast:3.11\r\n        ports:\r\n          - 5701:5701\r\n        environment:\r\n          - JAVA_OPTS=-Dhazelcast.local.publicAddress=localhost:5701\r\n\r\nAnd I have 2 computers: 1 with **ubuntu**, 1 with **MacOs** on arm.\r\n\r\n 1. After starting **Hazelcast** container in **MacOs**, the log:\r\n    \r\n    &gt;  ########################################  \r\n    &gt; \\# JAVA_OPTS=-Djava.net.preferIPv4Stack=true\r\n    &gt; -Dhazelcast.local.publicAddress=localhost:5701&lt;br/&gt;\r\n    &gt; \\# CLASSPATH=/opt/hazelcast:/opt/hazelcast/* &lt;br/&gt;\r\n    &gt; \\# starting now.... &lt;br/&gt;\r\n    &gt; ########################################&lt;br/&gt;\r\n    &gt;  \\+ exec java -server -Djava.net.preferIPv4Stack=true -Dhazelcast.local.publicAddress=localhost:5701 com.hazelcast.core.server.StartServer\r\n    \r\n    Then, I try to run my **Spring-Boot** app.\r\n    \r\n    Log:\r\n    \r\n    &gt; hz.client_1 [dev] [3.12.12] HazelcastClient 3.12.12 (20210209 - 35096ec) is SHUTTING_DOWN&lt;br/&gt; hz.client_1 [dev] [3.12.12] Could not\r\n    connect to any cluster, shutting down the client: Giving up retrying\r\n    to connect to cluster since client is shutdown.&lt;br/&gt; hz.client_1\r\n    [dev] [3.12.12] HazelcastClient 3.12.12 (20210209 - 35096ec) is\r\n    SHUTDOWN\r\n\r\n2 When I starting **Hazelcast** container on **Ubuntu**, its log\r\n\r\n\r\n    ########################################\r\n    # JAVA_OPTS=-Djava.net.preferIPv4Stack=true -Dhazelcast.local.publicAddress=localhost:5701\r\n    # CLASSPATH=/opt/hazelcast:/opt/hazelcast/*\r\n    # starting now....\r\n    ########################################\r\n    + exec java -server -Djava.net.preferIPv4Stack=true -Dhazelcast.local.publicAddress=localhost:5701 com.hazelcast.core.server.StartServer\r\n    Feb 23, 2023 12:41:45 PM com.hazelcast.config.XmlConfigLocator\r\n    INFO: Loading &#39;hazelcast-default.xml&#39; from classpath.\r\n    Feb 23, 2023 12:41:45 PM com.hazelcast.instance.AddressPicker\r\n    INFO: [LOCAL] [dev] [3.11] Prefer IPv4 stack is true, prefer IPv6 addresses is false\r\n    Feb 23, 2023 12:41:45 PM com.hazelcast.instance.AddressPicker\r\n    INFO: [LOCAL] [dev] [3.11] Picked [172.22.0.2]:5701, using socket ServerSocket[addr=/0.0.0.0,localport=5701], bind any local is true\r\n    Feb 23, 2023 12:41:45 PM com.hazelcast.instance.AddressPicker\r\n    INFO: [LOCAL] [dev] [3.11] Using public address: [localhost]:5701\r\n    Feb 23, 2023 12:41:46 PM com.hazelcast.system\r\n    INFO: [localhost]:5701 [dev] [3.11] Hazelcast 3.11 (20181023 - 1500bbb) starting at [localhost]:5701\r\n    Feb 23, 2023 12:41:46 PM com.hazelcast.system\r\n    INFO: [localhost]:5701 [dev] [3.11] Copyright (c) 2008-2018, Hazelcast, Inc. All Rights Reserved.\r\n    Feb 23, 2023 12:41:46 PM com.hazelcast.instance.Node\r\n    INFO: [localhost]:5701 [dev] [3.11] A non-empty group password is configured for the Hazelcast member. Starting with Hazelcast version 3.8.2, members with the same group name, but with different group passwords (that do not use authentication) form a cluster. The group password configuration will be removed completely in a future release.\r\n    Feb 23, 2023 12:41:46 PM com.hazelcast.spi.impl.operationservice.impl.BackpressureRegulator\r\n    INFO: [localhost]:5701 [dev] [3.11] Backpressure is disabled\r\n    Feb 23, 2023 12:41:46 PM com.hazelcast.instance.Node\r\n    INFO: [localhost]:5701 [dev] [3.11] Creating MulticastJoiner\r\n    Feb 23, 2023 12:41:46 PM com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl\r\n    INFO: [localhost]:5701 [dev] [3.11] Starting 8 partition threads and 5 generic threads (1 dedicated for priority tasks)\r\n    Feb 23, 2023 12:41:46 PM com.hazelcast.internal.diagnostics.Diagnostics\r\n    INFO: [localhost]:5701 [dev] [3.11] Diagnostics disabled. To enable add -Dhazelcast.diagnostics.enabled=true to the JVM arguments.\r\n    Feb 23, 2023 12:41:46 PM com.hazelcast.core.LifecycleService\r\n    INFO: [localhost]:5701 [dev] [3.11] [localhost]:5701 is STARTING\r\n    Feb 23, 2023 12:41:49 PM com.hazelcast.internal.cluster.ClusterService\r\n    INFO: [localhost]:5701 [dev] [3.11] \r\n    \r\n    Members {size:1, ver:1} [\r\n            Member [localhost]:5701 - 704a653c-7a09-4b9e-83cf-85b136c2e6d0 this\r\n    ]\r\n    \r\n    Feb 23, 2023 12:41:49 PM com.hazelcast.core.LifecycleService\r\n    INFO: [localhost]:5701 [dev] [3.11] [localhost]:5701 is STARTED\r\n\r\nAnd **Spring-Boot** app starts successfully.\r\n\r\nWhy does the same project doesn&#39;t work proper on **MacOs**? \r\n\r\nWhy **postrgres** works correctly? \r\n\r\nHow can I fix problem with **Hazelcast**?\r\n\r\n","title":"Hazelcast: client is shutdown, when I start Hazelcast container on Mac","body":"<p>I have docker-compose.yml file:</p>\n<pre><code>version: &quot;2&quot;\nservices:\n  postgres:\n    image: postgres:12.4\n    environment:\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=postgres\n      - POSTGRES_DB=password\n    ports:\n      - 5432:5432\n  hazelcast:\n    image: hazelcast/hazelcast:3.11\n    ports:\n      - 5701:5701\n    environment:\n      - JAVA_OPTS=-Dhazelcast.local.publicAddress=localhost:5701\n</code></pre>\n<p>And I have 2 computers: 1 with <strong>ubuntu</strong>, 1 with <strong>MacOs</strong> on arm.</p>\n<ol>\n<li><p>After starting <strong>Hazelcast</strong> container in <strong>MacOs</strong>, the log:</p>\n<blockquote>\n<p>########################################<br />\n# JAVA_OPTS=-Djava.net.preferIPv4Stack=true\n-Dhazelcast.local.publicAddress=localhost:5701<br/>\n# CLASSPATH=/opt/hazelcast:/opt/hazelcast/* <br/>\n# starting now.... <br/>\n########################################<br/>\n+ exec java -server -Djava.net.preferIPv4Stack=true -Dhazelcast.local.publicAddress=localhost:5701 com.hazelcast.core.server.StartServer</p>\n</blockquote>\n<p>Then, I try to run my <strong>Spring-Boot</strong> app.</p>\n<p>Log:</p>\n<blockquote>\n<p>hz.client_1 [dev] [3.12.12] HazelcastClient 3.12.12 (20210209 - 35096ec) is SHUTTING_DOWN<br/> hz.client_1 [dev] [3.12.12] Could not\nconnect to any cluster, shutting down the client: Giving up retrying\nto connect to cluster since client is shutdown.<br/> hz.client_1\n[dev] [3.12.12] HazelcastClient 3.12.12 (20210209 - 35096ec) is\nSHUTDOWN</p>\n</blockquote>\n</li>\n</ol>\n<p>2 When I starting <strong>Hazelcast</strong> container on <strong>Ubuntu</strong>, its log</p>\n<pre><code>########################################\n# JAVA_OPTS=-Djava.net.preferIPv4Stack=true -Dhazelcast.local.publicAddress=localhost:5701\n# CLASSPATH=/opt/hazelcast:/opt/hazelcast/*\n# starting now....\n########################################\n+ exec java -server -Djava.net.preferIPv4Stack=true -Dhazelcast.local.publicAddress=localhost:5701 com.hazelcast.core.server.StartServer\nFeb 23, 2023 12:41:45 PM com.hazelcast.config.XmlConfigLocator\nINFO: Loading 'hazelcast-default.xml' from classpath.\nFeb 23, 2023 12:41:45 PM com.hazelcast.instance.AddressPicker\nINFO: [LOCAL] [dev] [3.11] Prefer IPv4 stack is true, prefer IPv6 addresses is false\nFeb 23, 2023 12:41:45 PM com.hazelcast.instance.AddressPicker\nINFO: [LOCAL] [dev] [3.11] Picked [172.22.0.2]:5701, using socket ServerSocket[addr=/0.0.0.0,localport=5701], bind any local is true\nFeb 23, 2023 12:41:45 PM com.hazelcast.instance.AddressPicker\nINFO: [LOCAL] [dev] [3.11] Using public address: [localhost]:5701\nFeb 23, 2023 12:41:46 PM com.hazelcast.system\nINFO: [localhost]:5701 [dev] [3.11] Hazelcast 3.11 (20181023 - 1500bbb) starting at [localhost]:5701\nFeb 23, 2023 12:41:46 PM com.hazelcast.system\nINFO: [localhost]:5701 [dev] [3.11] Copyright (c) 2008-2018, Hazelcast, Inc. All Rights Reserved.\nFeb 23, 2023 12:41:46 PM com.hazelcast.instance.Node\nINFO: [localhost]:5701 [dev] [3.11] A non-empty group password is configured for the Hazelcast member. Starting with Hazelcast version 3.8.2, members with the same group name, but with different group passwords (that do not use authentication) form a cluster. The group password configuration will be removed completely in a future release.\nFeb 23, 2023 12:41:46 PM com.hazelcast.spi.impl.operationservice.impl.BackpressureRegulator\nINFO: [localhost]:5701 [dev] [3.11] Backpressure is disabled\nFeb 23, 2023 12:41:46 PM com.hazelcast.instance.Node\nINFO: [localhost]:5701 [dev] [3.11] Creating MulticastJoiner\nFeb 23, 2023 12:41:46 PM com.hazelcast.spi.impl.operationexecutor.impl.OperationExecutorImpl\nINFO: [localhost]:5701 [dev] [3.11] Starting 8 partition threads and 5 generic threads (1 dedicated for priority tasks)\nFeb 23, 2023 12:41:46 PM com.hazelcast.internal.diagnostics.Diagnostics\nINFO: [localhost]:5701 [dev] [3.11] Diagnostics disabled. To enable add -Dhazelcast.diagnostics.enabled=true to the JVM arguments.\nFeb 23, 2023 12:41:46 PM com.hazelcast.core.LifecycleService\nINFO: [localhost]:5701 [dev] [3.11] [localhost]:5701 is STARTING\nFeb 23, 2023 12:41:49 PM com.hazelcast.internal.cluster.ClusterService\nINFO: [localhost]:5701 [dev] [3.11] \n\nMembers {size:1, ver:1} [\n        Member [localhost]:5701 - 704a653c-7a09-4b9e-83cf-85b136c2e6d0 this\n]\n\nFeb 23, 2023 12:41:49 PM com.hazelcast.core.LifecycleService\nINFO: [localhost]:5701 [dev] [3.11] [localhost]:5701 is STARTED\n</code></pre>\n<p>And <strong>Spring-Boot</strong> app starts successfully.</p>\n<p>Why does the same project doesn't work proper on <strong>MacOs</strong>?</p>\n<p>Why <strong>postrgres</strong> works correctly?</p>\n<p>How can I fix problem with <strong>Hazelcast</strong>?</p>\n"},{"tags":["java","ceph"],"answers":[{"tags":[],"owner":{"display_name":"user19709242"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1660161276,"creation_date":1659845276,"answer_id":73264814,"question_id":73264767,"body_markdown":"Please follow Ceph&#39;s official documentation. &lt;br&gt;\r\nDocs: https://docs.ceph.com/en/quincy/radosgw/s3/java/\r\n\r\nTo get `accessKey` and `secretKey` please follow this step. &lt;br&gt;\r\nhttps://docs.ceph.com/en/quincy/radosgw/s3/authentication/. &lt;br&gt;\r\nhttps://docs.ceph.com/en/quincy/radosgw/keystone/ &lt;br&gt;\r\n\r\n`openstack --os-interface public ec2 credentials create`","title":"Create Bucket Ceph with Spring","body":"<p>Please follow Ceph's official documentation. <br>\nDocs: <a href=\"https://docs.ceph.com/en/quincy/radosgw/s3/java/\" rel=\"nofollow noreferrer\">https://docs.ceph.com/en/quincy/radosgw/s3/java/</a></p>\n<p>To get <code>accessKey</code> and <code>secretKey</code> please follow this step. <br>\n<a href=\"https://docs.ceph.com/en/quincy/radosgw/s3/authentication/\" rel=\"nofollow noreferrer\">https://docs.ceph.com/en/quincy/radosgw/s3/authentication/</a>. <br>\n<a href=\"https://docs.ceph.com/en/quincy/radosgw/keystone/\" rel=\"nofollow noreferrer\">https://docs.ceph.com/en/quincy/radosgw/keystone/</a> <br></p>\n<p><code>openstack --os-interface public ec2 credentials create</code></p>\n"}],"owner":{"display_name":"user19709202"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73264814,"answer_count":1,"score":0,"last_activity_date":1680180802,"creation_date":1659844449,"question_id":73264767,"body_markdown":"I am not sure how to create a bucket `Ceph` with Spring. &lt;br&gt;\r\n\r\nAre there any documents I can prefer? &lt;br&gt;\r\nHow to get this accessKey and secretKey? &lt;br&gt;\r\n```\r\nString accessKey = &quot;insert your access key here!&quot;;\r\nString secretKey = &quot;insert your secret key here!&quot;;\r\n\r\nAWSCredentials credentials = new BasicAWSCredentials(accessKey, secretKey);\r\nAmazonS3 conn = new AmazonS3Client(credentials);\r\nconn.setEndpoint(&quot;objects.dreamhost.com&quot;);\r\n```","title":"Create Bucket Ceph with Spring","body":"<p>I am not sure how to create a bucket <code>Ceph</code> with Spring. <br></p>\n<p>Are there any documents I can prefer? <br>\nHow to get this accessKey and secretKey? <br></p>\n<pre><code>String accessKey = &quot;insert your access key here!&quot;;\nString secretKey = &quot;insert your secret key here!&quot;;\n\nAWSCredentials credentials = new BasicAWSCredentials(accessKey, secretKey);\nAmazonS3 conn = new AmazonS3Client(credentials);\nconn.setEndpoint(&quot;objects.dreamhost.com&quot;);\n</code></pre>\n"},{"tags":["java","spring-boot","netflix-eureka","spring-cloud-netflix"],"comments":[{"owner":{"account_id":7828744,"reputation":2225,"user_id":5919568,"accept_rate":83,"display_name":"Morteza Jalambadani"},"score":0,"creation_date":1686816423,"post_id":75888500,"comment_id":134852098,"body_markdown":"Please provide your Eureka server and client application.properties files, Maven files, and the ApplicationStarter class here.","body":"Please provide your Eureka server and client application.properties files, Maven files, and the ApplicationStarter class here."}],"owner":{"account_id":16905342,"reputation":46,"user_id":12225780,"display_name":"Harichand Hs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1680180564,"creation_date":1680180564,"question_id":75888500,"body_markdown":"Java Version : 19\r\nSpring Boot Version : 3.0.1\r\nSpring Cloud Version: 2022.0.1\r\n\r\n\r\n*********\r\nAPPLICATION FAILED TO START\r\n*********\r\n\r\nDescription:\r\n\r\nField optionalArgs in org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration required a bean of type &#39;com.netflix.discovery.AbstractDiscoveryClientOptionalArgs&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.netflix.discovery.AbstractDiscoveryClientOptionalArgs&#39; in your configuration.\r\n\r\nUnable to run Eureka client services","title":"Spring Eureka Client Fail to register with Eureka","body":"<p>Java Version : 19\nSpring Boot Version : 3.0.1\nSpring Cloud Version: 2022.0.1</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Field optionalArgs in org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration required a bean of type 'com.netflix.discovery.AbstractDiscoveryClientOptionalArgs' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.netflix.discovery.AbstractDiscoveryClientOptionalArgs' in your configuration.</p>\n<p>Unable to run Eureka client services</p>\n"},{"tags":["java","android-fragments","android-activity","menu","android-navigation"],"owner":{"account_id":26171809,"reputation":223,"user_id":19856629,"display_name":"Kanan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680179998,"creation_date":1680177680,"question_id":75888017,"body_markdown":"I have an activity and I use 1 menu, when I replace one fragment with another, some menu items will be invisible or visible. For example, I use the date icon in fragment one and the search icon in fragment two. The problem is I used `onOptionsItemSelected` and `onCreateOptionsMenu` in Activity to set option some icons. But I want to use the date icon selected option inside of fragment one when I `setHasOptionsMenu(true);` in the fragment, it works but when I change the navigation bar to the second fragment, the date icon does not become invisible and the search menu item does not become visible. In the second click it changes to search. How can I solve this problem?\r\n\r\nMy fragment one:\r\n\r\n        public class MainFragment_1 extends Fragment {\r\n    \r\n        private Calendar calendar;\r\n        private View view;\r\n        private final HashMap&lt;String, String&gt; hsparams = new HashMap&lt;&gt;();\r\n        private AsyncInforming asyncInforming;\r\n        private String date;\r\n        private InformingHelper informingHelper;\r\n        private SimpleDateFormat simpleDateFormat;\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            view = inflater.inflate(R.layout.activity_list_planlar, container, false);\r\n    \r\n            informingHelper = new InformingHelper();\r\n            simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.getDefault());\r\n            calendar = Calendar.getInstance();\r\n    \r\n            calendar.set(Calendar.DAY_OF_MONTH, 1);\r\n    \r\n            setHasOptionsMenu(true);\r\n    \r\n            runAsyncTask();\r\n    \r\n            return view;\r\n        }\r\n    \r\n        private DatePickerDialog.OnDateSetListener dateDialog = new DatePickerDialog.OnDateSetListener() {\r\n    \r\n            @Override\r\n            public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {\r\n    \r\n                calendar.set(Calendar.DAY_OF_MONTH, dayOfMonth);\r\n    \r\n                runAsyncTask();\r\n            }\r\n        };\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n    \r\n            super.onOptionsItemSelected(item);\r\n            if (item.getItemId() == R.id.informing_date) {\r\n    \r\n                int year = calendar.get(Calendar.YEAR);\r\n                int month = calendar.get(Calendar.MONTH);\r\n                int day = calendar.get(Calendar.DAY_OF_MONTH);\r\n    \r\n                new DatePickerDialog(view.getContext(), dateDialog, year, month, day).show();\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    \r\n       super.onPause();\r\n        }\r\n    }\r\n    \r\nActivity:\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            this.menu = menu;\r\n    \r\n            if (menu.size() == 0) {\r\n                menu.clear();\r\n                getMenuInflater().inflate(R.menu.main_page, menu);\r\n            }\r\n    \r\n            MenuItem item2 = menu.findItem(R.id.date);\r\n            item2.setVisible(true);\r\n    \r\n            onCreateIrsaliyeSearchMenu(menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            super.onOptionsItemSelected(item);\r\n            switch (item.getItemId()) {\r\n    \r\n                case R.id.search:\r\n    \r\n                    FragmentTransaction ftr8 = getFragmentManager().beginTransaction();\r\n                    pro.show(ftr8, &quot;PropSet&quot;);\r\n                    break;\r\n          \r\n        @Override\r\n        public boolean onNavigationItemSelected(MenuItem item) {\r\n            FragmentManager fm = getFragmentManager();\r\n    \r\n            int id = item.getItemId();\r\n            if (id == R.id.menu_1) {\r\n                FragmentTransaction fragmentTransaction = fm.beginTransaction();\r\n    \r\n                MainFragment_1 forecastFragment = new MainFragment_1();\r\n    \r\n        //            forecastFragment.setRetainInstance(true);\r\n                forecastFragment.setHasOptionsMenu(true);\r\n    \r\n                fragmentTransaction.replace(R.id.content_frame, forecastFragment);\r\n                fragmentTransaction.commit();\r\n    \r\n                MainBarIcons(null);\r\n    \r\n                MenuItem item13 = menu.findItem(R.id.informing_date);\r\n                item13.setVisible(true);\r\n    \r\n            } else if (id == R.id.menu_2) {\r\n    \r\n                FragmentTransaction fragmentTransaction = fm.beginTransaction();\r\n    \r\n                MainFragment_2 forecastFragment2 = new MainFragment_2();\r\n    \r\n                forecastFragment2.setHasOptionsMenu(false);\r\n    \r\n                fragmentTransaction.replace(R.id.content_frame, forecastFragment2);\r\n                fragmentTransaction.commit();\r\n    \r\n                MainBarIcons(null);\r\n    \r\n                MenuItem item1 = menu.findItem(R.id.search);\r\n    \r\n                item1.setVisible(true);\r\n    \r\n            }","title":"Using menu item multiple times activity and fragmen with navigation bar","body":"<p>I have an activity and I use 1 menu, when I replace one fragment with another, some menu items will be invisible or visible. For example, I use the date icon in fragment one and the search icon in fragment two. The problem is I used <code>onOptionsItemSelected</code> and <code>onCreateOptionsMenu</code> in Activity to set option some icons. But I want to use the date icon selected option inside of fragment one when I <code>setHasOptionsMenu(true);</code> in the fragment, it works but when I change the navigation bar to the second fragment, the date icon does not become invisible and the search menu item does not become visible. In the second click it changes to search. How can I solve this problem?</p>\n<p>My fragment one:</p>\n<pre><code>    public class MainFragment_1 extends Fragment {\n\n    private Calendar calendar;\n    private View view;\n    private final HashMap&lt;String, String&gt; hsparams = new HashMap&lt;&gt;();\n    private AsyncInforming asyncInforming;\n    private String date;\n    private InformingHelper informingHelper;\n    private SimpleDateFormat simpleDateFormat;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        view = inflater.inflate(R.layout.activity_list_planlar, container, false);\n\n        informingHelper = new InformingHelper();\n        simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.getDefault());\n        calendar = Calendar.getInstance();\n\n        calendar.set(Calendar.DAY_OF_MONTH, 1);\n\n        setHasOptionsMenu(true);\n\n        runAsyncTask();\n\n        return view;\n    }\n\n    private DatePickerDialog.OnDateSetListener dateDialog = new DatePickerDialog.OnDateSetListener() {\n\n        @Override\n        public void onDateSet(DatePicker view, int year, int monthOfYear, int dayOfMonth) {\n\n            calendar.set(Calendar.DAY_OF_MONTH, dayOfMonth);\n\n            runAsyncTask();\n        }\n    };\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n\n        super.onOptionsItemSelected(item);\n        if (item.getItemId() == R.id.informing_date) {\n\n            int year = calendar.get(Calendar.YEAR);\n            int month = calendar.get(Calendar.MONTH);\n            int day = calendar.get(Calendar.DAY_OF_MONTH);\n\n            new DatePickerDialog(view.getContext(), dateDialog, year, month, day).show();\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n   super.onPause();\n    }\n}\n</code></pre>\n<p>Activity:</p>\n<pre><code>    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        this.menu = menu;\n\n        if (menu.size() == 0) {\n            menu.clear();\n            getMenuInflater().inflate(R.menu.main_page, menu);\n        }\n\n        MenuItem item2 = menu.findItem(R.id.date);\n        item2.setVisible(true);\n\n        onCreateIrsaliyeSearchMenu(menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        super.onOptionsItemSelected(item);\n        switch (item.getItemId()) {\n\n            case R.id.search:\n\n                FragmentTransaction ftr8 = getFragmentManager().beginTransaction();\n                pro.show(ftr8, &quot;PropSet&quot;);\n                break;\n      \n    @Override\n    public boolean onNavigationItemSelected(MenuItem item) {\n        FragmentManager fm = getFragmentManager();\n\n        int id = item.getItemId();\n        if (id == R.id.menu_1) {\n            FragmentTransaction fragmentTransaction = fm.beginTransaction();\n\n            MainFragment_1 forecastFragment = new MainFragment_1();\n\n    //            forecastFragment.setRetainInstance(true);\n            forecastFragment.setHasOptionsMenu(true);\n\n            fragmentTransaction.replace(R.id.content_frame, forecastFragment);\n            fragmentTransaction.commit();\n\n            MainBarIcons(null);\n\n            MenuItem item13 = menu.findItem(R.id.informing_date);\n            item13.setVisible(true);\n\n        } else if (id == R.id.menu_2) {\n\n            FragmentTransaction fragmentTransaction = fm.beginTransaction();\n\n            MainFragment_2 forecastFragment2 = new MainFragment_2();\n\n            forecastFragment2.setHasOptionsMenu(false);\n\n            fragmentTransaction.replace(R.id.content_frame, forecastFragment2);\n            fragmentTransaction.commit();\n\n            MainBarIcons(null);\n\n            MenuItem item1 = menu.findItem(R.id.search);\n\n            item1.setVisible(true);\n\n        }\n</code></pre>\n"},{"tags":["java","mongodb","aws-documentdb"],"answers":[{"tags":[],"owner":{"account_id":24287687,"reputation":366,"user_id":18233221,"display_name":"Mihai A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680179825,"creation_date":1680179825,"answer_id":75888368,"question_id":75800386,"body_markdown":"You&#39;re trying to update documents with aggregation pipeline, which was [added][1] in MongoDB 4.2. This is not currently supported in Amazon DocumentDB, not even in the newly released 5.0 version. You&#39;ll have to find another way to update the documents, probably the way before MongoDB 4.2, which is to get a cursor for the documents matching the filter and iterate using a loop. See this [thread][2].\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/manual/tutorial/update-documents-with-aggregation-pipeline/\r\n  [2]: https://stackoverflow.com/questions/19384871/aggregation-with-update-in-mongodb","title":"Mongo Db to AWS DocumentDb Migration - Error in BulkWrite and UpdateMany methods","body":"<p>You're trying to update documents with aggregation pipeline, which was <a href=\"https://www.mongodb.com/docs/manual/tutorial/update-documents-with-aggregation-pipeline/\" rel=\"nofollow noreferrer\">added</a> in MongoDB 4.2. This is not currently supported in Amazon DocumentDB, not even in the newly released 5.0 version. You'll have to find another way to update the documents, probably the way before MongoDB 4.2, which is to get a cursor for the documents matching the filter and iterate using a loop. See this <a href=\"https://stackoverflow.com/questions/19384871/aggregation-with-update-in-mongodb\">thread</a>.</p>\n"}],"owner":{"account_id":17974452,"reputation":3,"user_id":13062414,"display_name":"mradima07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680179825,"creation_date":1679396721,"question_id":75800386,"body_markdown":"I am migrating from Mongo DB 4.4.0 to Amazon DocumentDB (with mongodb compatibility) 4.0. \r\n\r\nThe database migration is done but few errors are occurring in the application. The APIs are in java language and below piece of code is executed when API is called -\r\n\r\n**executeAPI()**\r\n\r\n    private final MongoDAO statisticsDBService; // Assigned from constructor\r\n    List&lt;WriteModel&lt;Document&gt;&gt; statsBulkWrites = new ArrayList&lt;&gt;();\r\n    \r\n    MongoCollection&lt;Document&gt; collection = statisticsDBService.getCollection();\r\n    collection.bulkWrite(statsBulkWrites);\r\n\r\n\r\n**Sample JSON Data (statsBulkWrites) -** \r\n\r\n     [{&quot;$set&quot;: {&quot;months&quot;: &quot;$months&quot;}},&#160;\r\n        {&quot;$set&quot;: {&quot;months&quot;: {&quot;$concatArrays&quot;: [{&quot;$filter&quot;: {&quot;input&quot;: &quot;$months&quot;, &quot;cond&quot;: {&quot;$not&quot;: [{&quot;$in&quot;: [&quot;$$this.date&quot;, [{&quot;$numberLong&quot;: &quot;0000000000000&quot;}]]}]}}}, {&quot;$map&quot;: {&quot;input&quot;: [{&quot;$numberLong&quot;: &quot;0000000000000&quot;}], &quot;in&quot;: {&quot;$cond&quot;: [{&quot;$in&quot;: [&quot;$$this&quot;, &quot;$months.date&quot;]}, {&quot;date&quot;: &quot;$$this&quot;, &quot;value&quot;: {&quot;$sum&quot;: [{&quot;$arrayElemAt&quot;: [&quot;$months.value&quot;, {&quot;$indexOfArray&quot;: [&quot;$months.date&quot;, &quot;$$this&quot;]}]}, {&quot;$numberLong&quot;: &quot;000000&quot;}]}}, {&quot;date&quot;: &quot;$$this&quot;, &quot;value&quot;: {&quot;$numberLong&quot;: &quot;000000&quot;}}]}}}]}}},\r\n        {&quot;$set&quot;: {&quot;sum&quot;: {&quot;$sum&quot;: &quot;$years.value&quot;}}}]&#160;\r\n\r\nThe executeAPI() methods gives this error - \r\n\r\n    com.mongodb.MongoBulkWriteException: Bulk write operation error on server a207849-mktp-docdb-cluster2.csahjzki9umq.us-east-1.docdb.amazonaws.com:27017. \r\n    Write errors: [BulkWriteError{index=0, code=14, message=&#39;Wrong type for parameter u&#39;, details={}}]. \r\n        at com.mongodb.connection.BulkWriteBatchCombiner.getError(BulkWriteBatchCombiner.java:173)\r\n        at com.mongodb.connection.BulkWriteBatchCombiner.throwOnError(BulkWriteBatchCombiner.java:202)\r\n        at com.mongodb.connection.BulkWriteBatchCombiner.getResult(BulkWriteBatchCombiner.java:143)\r\n        at com.mongodb.operation.BulkWriteBatch.getResult(BulkWriteBatch.java:227)\r\n        at com.mongodb.operation.MixedBulkWriteOperation.executeBulkWriteBatch(MixedBulkWriteOperation.java:282)\r\n        at com.mongodb.operation.MixedBulkWriteOperation.access$700(MixedBulkWriteOperation.java:72)\r\n        at com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:205)\r\n        at com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:196)\r\n        at com.mongodb.operation.OperationHelper.withReleasableConnection(OperationHelper.java:501)\r\n        at com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:196)\r\n        at com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:71)\r\n        at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:206)\r\n        at com.mongodb.client.internal.MongoCollectionImpl.executeBulkWrite(MongoCollectionImpl.java:471)\r\n        at com.mongodb.client.internal.MongoCollectionImpl.bulkWrite(MongoCollectionImpl.java:451)\r\n        at com.mongodb.client.internal.MongoCollectionImpl.bulkWrite(MongoCollectionImpl.java:446)\r\n        at io.cloudexchange.market.async.StatsProcessor.processIncr(StatsProcessor.java:221)\r\n        at io.cloudexchange.market.async.StatsProcessor.run(StatsProcessor.java:176)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n  \r\n**After that I changed BulkWrite to UpdateMany -** \r\n\r\n    for(val setQ: statsBulkWrites) {\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; statisticsDBService.getCollection().updateMany(document, setQ);}\r\n\r\n**Then above code gives this error -**\r\n\r\n    com.mongodb.MongoWriteException: Document can&#39;t have $ prefix field names: $concatArrays\r\n    &#160;&#160;&#160; at com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1055)\r\n    &#160;&#160;&#160; at com.mongodb.client.internal.MongoCollectionImpl.executeUpdate(MongoCollectionImpl.java:1032)\r\n    &#160;&#160;&#160; at com.mongodb.client.internal.MongoCollectionImpl.updateMany(MongoCollectionImpl.java:663)\r\n    &#160;&#160;&#160; at com.mongodb.client.internal.MongoCollectionImpl.updateMany(MongoCollectionImpl.java:658)\r\n    &#160;&#160;&#160; at io.cloudexchange.market.async.StatsProcessor.processIncr(StatsProcessor.java:218)\r\n    &#160;&#160;&#160; at io.cloudexchange.market.async.StatsProcessor.run(StatsProcessor.java:176)\r\n    &#160;&#160;&#160; at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\n   \r\n\r\nPlease provide a solution.","title":"Mongo Db to AWS DocumentDb Migration - Error in BulkWrite and UpdateMany methods","body":"<p>I am migrating from Mongo DB 4.4.0 to Amazon DocumentDB (with mongodb compatibility) 4.0.</p>\n<p>The database migration is done but few errors are occurring in the application. The APIs are in java language and below piece of code is executed when API is called -</p>\n<p><strong>executeAPI()</strong></p>\n<pre><code>private final MongoDAO statisticsDBService; // Assigned from constructor\nList&lt;WriteModel&lt;Document&gt;&gt; statsBulkWrites = new ArrayList&lt;&gt;();\n\nMongoCollection&lt;Document&gt; collection = statisticsDBService.getCollection();\ncollection.bulkWrite(statsBulkWrites);\n</code></pre>\n<p><strong>Sample JSON Data (statsBulkWrites) -</strong></p>\n<pre><code> [{&quot;$set&quot;: {&quot;months&quot;: &quot;$months&quot;}}, \n    {&quot;$set&quot;: {&quot;months&quot;: {&quot;$concatArrays&quot;: [{&quot;$filter&quot;: {&quot;input&quot;: &quot;$months&quot;, &quot;cond&quot;: {&quot;$not&quot;: [{&quot;$in&quot;: [&quot;$$this.date&quot;, [{&quot;$numberLong&quot;: &quot;0000000000000&quot;}]]}]}}}, {&quot;$map&quot;: {&quot;input&quot;: [{&quot;$numberLong&quot;: &quot;0000000000000&quot;}], &quot;in&quot;: {&quot;$cond&quot;: [{&quot;$in&quot;: [&quot;$$this&quot;, &quot;$months.date&quot;]}, {&quot;date&quot;: &quot;$$this&quot;, &quot;value&quot;: {&quot;$sum&quot;: [{&quot;$arrayElemAt&quot;: [&quot;$months.value&quot;, {&quot;$indexOfArray&quot;: [&quot;$months.date&quot;, &quot;$$this&quot;]}]}, {&quot;$numberLong&quot;: &quot;000000&quot;}]}}, {&quot;date&quot;: &quot;$$this&quot;, &quot;value&quot;: {&quot;$numberLong&quot;: &quot;000000&quot;}}]}}}]}}},\n    {&quot;$set&quot;: {&quot;sum&quot;: {&quot;$sum&quot;: &quot;$years.value&quot;}}}] \n</code></pre>\n<p>The executeAPI() methods gives this error -</p>\n<pre><code>com.mongodb.MongoBulkWriteException: Bulk write operation error on server a207849-mktp-docdb-cluster2.csahjzki9umq.us-east-1.docdb.amazonaws.com:27017. \nWrite errors: [BulkWriteError{index=0, code=14, message='Wrong type for parameter u', details={}}]. \n    at com.mongodb.connection.BulkWriteBatchCombiner.getError(BulkWriteBatchCombiner.java:173)\n    at com.mongodb.connection.BulkWriteBatchCombiner.throwOnError(BulkWriteBatchCombiner.java:202)\n    at com.mongodb.connection.BulkWriteBatchCombiner.getResult(BulkWriteBatchCombiner.java:143)\n    at com.mongodb.operation.BulkWriteBatch.getResult(BulkWriteBatch.java:227)\n    at com.mongodb.operation.MixedBulkWriteOperation.executeBulkWriteBatch(MixedBulkWriteOperation.java:282)\n    at com.mongodb.operation.MixedBulkWriteOperation.access$700(MixedBulkWriteOperation.java:72)\n    at com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:205)\n    at com.mongodb.operation.MixedBulkWriteOperation$1.call(MixedBulkWriteOperation.java:196)\n    at com.mongodb.operation.OperationHelper.withReleasableConnection(OperationHelper.java:501)\n    at com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:196)\n    at com.mongodb.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:71)\n    at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:206)\n    at com.mongodb.client.internal.MongoCollectionImpl.executeBulkWrite(MongoCollectionImpl.java:471)\n    at com.mongodb.client.internal.MongoCollectionImpl.bulkWrite(MongoCollectionImpl.java:451)\n    at com.mongodb.client.internal.MongoCollectionImpl.bulkWrite(MongoCollectionImpl.java:446)\n    at io.cloudexchange.market.async.StatsProcessor.processIncr(StatsProcessor.java:221)\n    at io.cloudexchange.market.async.StatsProcessor.run(StatsProcessor.java:176)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p><strong>After that I changed BulkWrite to UpdateMany -</strong></p>\n<pre><code>for(val setQ: statsBulkWrites) {\n            statisticsDBService.getCollection().updateMany(document, setQ);}\n</code></pre>\n<p><strong>Then above code gives this error -</strong></p>\n<pre><code>com.mongodb.MongoWriteException: Document can't have $ prefix field names: $concatArrays\n    at com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1055)\n    at com.mongodb.client.internal.MongoCollectionImpl.executeUpdate(MongoCollectionImpl.java:1032)\n    at com.mongodb.client.internal.MongoCollectionImpl.updateMany(MongoCollectionImpl.java:663)\n    at com.mongodb.client.internal.MongoCollectionImpl.updateMany(MongoCollectionImpl.java:658)\n    at io.cloudexchange.market.async.StatsProcessor.processIncr(StatsProcessor.java:218)\n    at io.cloudexchange.market.async.StatsProcessor.run(StatsProcessor.java:176)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>Please provide a solution.</p>\n"},{"tags":["java","oracle","hibernate","jpa"],"comments":[{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1680180161,"post_id":75888359,"comment_id":133856459,"body_markdown":"A little bit off your question, but why do you need column &quot;ID&quot; in table &quot;A_B&quot;?","body":"A little bit off your question, but why do you need column &quot;ID&quot; in table &quot;A_B&quot;?"},{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":0,"creation_date":1680180649,"post_id":75888359,"comment_id":133856614,"body_markdown":"Seems like things are happening out of order. You cannot insert into `A_B` until referential data exists in both `A` and `B`. The insert to the join table must come last, and must include both valid `A_ID` and `B_ID`.","body":"Seems like things are happening out of order. You cannot insert into <code>A_B</code> until referential data exists in both <code>A</code> and <code>B</code>. The insert to the join table must come last, and must include both valid <code>A_ID</code> and <code>B_ID</code>."}],"owner":{"account_id":23034067,"reputation":23,"user_id":17153096,"display_name":"Tomy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680179753,"creation_date":1680179753,"question_id":75888359,"body_markdown":"I have many-to-many oracle db model between tables `A` and `B`. In db model there is common table, let&#39;s say `A_B` with fields `id` (primary key not null), `a_id` (foreign key to table A) and `b_id` (foreign key to table B).\r\n\r\nModel in Java is like:\r\n\r\n```\r\n@Table(name = &quot;A&quot;)\r\npublic class A\r\n{\r\n\r\n    @Id\r\n    @Column(name = &quot;A_ID&quot;, nullable = false)\r\n    private Long aId;\r\n\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade= CascadeType.ALL)\r\n    @JoinTable(name = &quot;A_B&quot;,\r\n            joinColumns = { @JoinColumn(name = &quot;A_ID&quot;, nullable = false) },\r\n            inverseJoinColumns = { @JoinColumn(name = &quot;B_ID&quot;, nullable = false) }\r\n    )\r\n    private List&lt;B&gt; b;\r\n}\r\n\r\n@Entity(name = &quot;B&quot;)\r\npublic class B\r\n{\r\n    @Id\r\n    @Column(name = &quot;B_ID&quot;, nullable = false)\r\n    private Long bId;\r\n}\r\n```\r\n\r\nWhen inserting entity A I&#39;m receiving an error:\r\n`cannot insert NULL into (&quot;A_B&quot;.&quot;ID&quot;)`.\r\n\r\nI suppose that hibernate can not see this additional `id` as primary key in tabe `A_B`. What can I do?\r\n\r\nI know that I can remove unnecessary `id` or set something default. But is there any way to avoid database model changes? Can I somehow implement it using only Hibernate and JPA?\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to insert non null value into many to many table","body":"<p>I have many-to-many oracle db model between tables <code>A</code> and <code>B</code>. In db model there is common table, let's say <code>A_B</code> with fields <code>id</code> (primary key not null), <code>a_id</code> (foreign key to table A) and <code>b_id</code> (foreign key to table B).</p>\n<p>Model in Java is like:</p>\n<pre><code>@Table(name = &quot;A&quot;)\npublic class A\n{\n\n    @Id\n    @Column(name = &quot;A_ID&quot;, nullable = false)\n    private Long aId;\n\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade= CascadeType.ALL)\n    @JoinTable(name = &quot;A_B&quot;,\n            joinColumns = { @JoinColumn(name = &quot;A_ID&quot;, nullable = false) },\n            inverseJoinColumns = { @JoinColumn(name = &quot;B_ID&quot;, nullable = false) }\n    )\n    private List&lt;B&gt; b;\n}\n\n@Entity(name = &quot;B&quot;)\npublic class B\n{\n    @Id\n    @Column(name = &quot;B_ID&quot;, nullable = false)\n    private Long bId;\n}\n</code></pre>\n<p>When inserting entity A I'm receiving an error:\n<code>cannot insert NULL into (&quot;A_B&quot;.&quot;ID&quot;)</code>.</p>\n<p>I suppose that hibernate can not see this additional <code>id</code> as primary key in tabe <code>A_B</code>. What can I do?</p>\n<p>I know that I can remove unnecessary <code>id</code> or set something default. But is there any way to avoid database model changes? Can I somehow implement it using only Hibernate and JPA?</p>\n"},{"tags":["java","reflection","package"],"comments":[{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":2,"creation_date":1266352306,"post_id":520328,"comment_id":2238820,"body_markdown":"FYI the solution Amit links to works, although it has a bug if the class path has a space character in it (and probably for other non-alphanumeric characters too). if you&#39;re using it in any kind of production code, see my comment to his answer for a workaround.","body":"FYI the solution Amit links to works, although it has a bug if the class path has a space character in it (and probably for other non-alphanumeric characters too). if you&#39;re using it in any kind of production code, see my comment to his answer for a workaround."},{"owner":{"account_id":987285,"reputation":17009,"user_id":1005481,"accept_rate":89,"display_name":"barfuin"},"score":2,"creation_date":1389606491,"post_id":520328,"comment_id":31719661,"body_markdown":"Also note [this post](http://stackoverflow.com/q/1156552/1005481).","body":"Also note <a href=\"http://stackoverflow.com/q/1156552/1005481\">this post</a>."},{"owner":{"account_id":5117496,"reputation":2302,"user_id":4102160,"accept_rate":75,"display_name":"Cfx"},"score":1,"creation_date":1431254153,"post_id":520328,"comment_id":48408223,"body_markdown":"See related answer: http://stackoverflow.com/a/30149061/4102160","body":"See related answer: <a href=\"http://stackoverflow.com/a/30149061/4102160\">stackoverflow.com/a/30149061/4102160</a>"},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":1,"creation_date":1480680346,"post_id":520328,"comment_id":69074464,"body_markdown":"Also note [this post](http://stackoverflow.com/q/15519626/1225328).","body":"Also note <a href=\"http://stackoverflow.com/q/15519626/1225328\">this post</a>."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":2,"creation_date":1570272499,"post_id":520328,"comment_id":102866119,"body_markdown":"See my answer below about ClassGraph, it is currently the most robust method for scanning the classpath and module path.","body":"See my answer below about ClassGraph, it is currently the most robust method for scanning the classpath and module path."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1646869657,"post_id":520328,"comment_id":126233398,"body_markdown":"This is a very difficult problem, especially considering that not all classloaders have to be file based (I&#39;ve seen them load classes from the database) Your best bet is probably to use compile-time annotation processing to create a file of classes to process at runtime. Most people that think it&#39;s easy just iterate over class files on your classpath--this is not a great approach in general since, as I said, not all classloaders are restricted to the classpath.","body":"This is a very difficult problem, especially considering that not all classloaders have to be file based (I&#39;ve seen them load classes from the database) Your best bet is probably to use compile-time annotation processing to create a file of classes to process at runtime. Most people that think it&#39;s easy just iterate over class files on your classpath--this is not a great approach in general since, as I said, not all classloaders are restricted to the classpath."}],"answers":[{"tags":[],"owner":{"account_id":14956,"reputation":30472,"user_id":31141,"accept_rate":79,"display_name":"Marko"},"down_vote_count":11,"up_vote_count":8,"is_accepted":false,"score":-3,"last_activity_date":1233928008,"creation_date":1233928008,"answer_id":520335,"question_id":520328,"body_markdown":"It is not possible, since all classes in the package might not be loaded, while you always  knows package of a class.","title":"Can you find all classes in a package using reflection?","body":"<p>It is not possible, since all classes in the package might not be loaded, while you always  knows package of a class.</p>\n"},{"tags":[],"owner":{"account_id":2414,"reputation":27392,"user_id":3355,"accept_rate":69,"display_name":"Staale"},"down_vote_count":11,"up_vote_count":430,"is_accepted":true,"score":419,"last_activity_date":1412196198,"creation_date":1233928077,"answer_id":520339,"question_id":520328,"body_markdown":"Due to the dynamic nature of class loaders, this is not possible. Class loaders are not required to tell the VM which classes it can provide, instead they are just handed requests for classes, and have to return a class or throw an exception.\r\n\r\nHowever, if you write your own class loaders, or examine the classpaths and it&#39;s jars, it&#39;s possible to find this information. This will be via filesystem operations though, and not reflection. There might even be libraries that can help you do this.\r\n\r\nIf there are classes that get generated, or delivered remotely, you will not be able to discover those classes.\r\n\r\nThe normal method is instead to somewhere register the classes you need access to in a file, or reference them in a different class. Or just use convention when it comes to naming.\r\n\r\nAddendum: [The Reflections Library][1] will allow you to look up classes in the current classpath. It can be used to get all classes in a package:\r\n\r\n     Reflections reflections = new Reflections(&quot;my.project.prefix&quot;);\r\n\r\n     Set&lt;Class&lt;? extends Object&gt;&gt; allClasses = \r\n         reflections.getSubTypesOf(Object.class);\r\n\r\n\r\n  [1]: https://github.com/ronmamo/reflections","title":"Can you find all classes in a package using reflection?","body":"<p>Due to the dynamic nature of class loaders, this is not possible. Class loaders are not required to tell the VM which classes it can provide, instead they are just handed requests for classes, and have to return a class or throw an exception.</p>\n\n<p>However, if you write your own class loaders, or examine the classpaths and it's jars, it's possible to find this information. This will be via filesystem operations though, and not reflection. There might even be libraries that can help you do this.</p>\n\n<p>If there are classes that get generated, or delivered remotely, you will not be able to discover those classes.</p>\n\n<p>The normal method is instead to somewhere register the classes you need access to in a file, or reference them in a different class. Or just use convention when it comes to naming.</p>\n\n<p>Addendum: <a href=\"https://github.com/ronmamo/reflections\" rel=\"noreferrer\">The Reflections Library</a> will allow you to look up classes in the current classpath. It can be used to get all classes in a package:</p>\n\n<pre><code> Reflections reflections = new Reflections(\"my.project.prefix\");\n\n Set&lt;Class&lt;? extends Object&gt;&gt; allClasses = \n     reflections.getSubTypesOf(Object.class);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user59634"},"down_vote_count":2,"up_vote_count":155,"is_accepted":false,"score":153,"last_activity_date":1538465495,"creation_date":1233928180,"answer_id":520344,"question_id":520328,"body_markdown":"You could use [this method][0]&lt;sup&gt;1&lt;/sup&gt; that uses the `ClassLoader`.\r\n\r\n\r\n    /**\r\n     * Scans all classes accessible from the context class loader which belong to the given package and subpackages.\r\n     *\r\n     * @param packageName The base package\r\n     * @return The classes\r\n     * @throws ClassNotFoundException\r\n     * @throws IOException\r\n     */\r\n    private static Class[] getClasses(String packageName)\r\n            throws ClassNotFoundException, IOException {\r\n        ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n        assert classLoader != null;\r\n        String path = packageName.replace(&#39;.&#39;, &#39;/&#39;);\r\n        Enumeration&lt;URL&gt; resources = classLoader.getResources(path);\r\n        List&lt;File&gt; dirs = new ArrayList&lt;File&gt;();\r\n        while (resources.hasMoreElements()) {\r\n            URL resource = resources.nextElement();\r\n            dirs.add(new File(resource.getFile()));\r\n        }\r\n        ArrayList&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\r\n        for (File directory : dirs) {\r\n            classes.addAll(findClasses(directory, packageName));\r\n        }\r\n        return classes.toArray(new Class[classes.size()]);\r\n    }\r\n\r\n    /**\r\n     * Recursive method used to find all classes in a given directory and subdirs.\r\n     *\r\n     * @param directory   The base directory\r\n     * @param packageName The package name for classes found inside the base directory\r\n     * @return The classes\r\n     * @throws ClassNotFoundException\r\n     */\r\n    private static List&lt;Class&gt; findClasses(File directory, String packageName) throws ClassNotFoundException {\r\n        List&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\r\n        if (!directory.exists()) {\r\n            return classes;\r\n        }\r\n        File[] files = directory.listFiles();\r\n        for (File file : files) {\r\n            if (file.isDirectory()) {\r\n                assert !file.getName().contains(&quot;.&quot;);\r\n                classes.addAll(findClasses(file, packageName + &quot;.&quot; + file.getName()));\r\n            } else if (file.getName().endsWith(&quot;.class&quot;)) {\r\n                classes.add(Class.forName(packageName + &#39;.&#39; + file.getName().substring(0, file.getName().length() - 6)));\r\n            }\r\n        }\r\n        return classes;\r\n    }\r\n\r\n\\__________  \r\n&lt;sub&gt;&lt;sup&gt;1&lt;/sup&gt; This method was taken originally from &lt;http://snippets.dzone.com/posts/show/4831&gt;, which was [archived][0] by the Internet Archive, as linked to now. The snippet is also available at &lt;https://dzone.com/articles/get-all-classes-within-package&gt;.&lt;/sub&gt;\r\n\r\n\r\n  [0]: https://web.archive.org/web/20090227113602/http://snippets.dzone.com:80/posts/show/4831","title":"Can you find all classes in a package using reflection?","body":"<p>You could use <a href=\"https://web.archive.org/web/20090227113602/http://snippets.dzone.com:80/posts/show/4831\" rel=\"noreferrer\">this method</a><sup>1</sup> that uses the <code>ClassLoader</code>.</p>\n\n<pre><code>/**\n * Scans all classes accessible from the context class loader which belong to the given package and subpackages.\n *\n * @param packageName The base package\n * @return The classes\n * @throws ClassNotFoundException\n * @throws IOException\n */\nprivate static Class[] getClasses(String packageName)\n        throws ClassNotFoundException, IOException {\n    ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n    assert classLoader != null;\n    String path = packageName.replace('.', '/');\n    Enumeration&lt;URL&gt; resources = classLoader.getResources(path);\n    List&lt;File&gt; dirs = new ArrayList&lt;File&gt;();\n    while (resources.hasMoreElements()) {\n        URL resource = resources.nextElement();\n        dirs.add(new File(resource.getFile()));\n    }\n    ArrayList&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\n    for (File directory : dirs) {\n        classes.addAll(findClasses(directory, packageName));\n    }\n    return classes.toArray(new Class[classes.size()]);\n}\n\n/**\n * Recursive method used to find all classes in a given directory and subdirs.\n *\n * @param directory   The base directory\n * @param packageName The package name for classes found inside the base directory\n * @return The classes\n * @throws ClassNotFoundException\n */\nprivate static List&lt;Class&gt; findClasses(File directory, String packageName) throws ClassNotFoundException {\n    List&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\n    if (!directory.exists()) {\n        return classes;\n    }\n    File[] files = directory.listFiles();\n    for (File file : files) {\n        if (file.isDirectory()) {\n            assert !file.getName().contains(\".\");\n            classes.addAll(findClasses(file, packageName + \".\" + file.getName()));\n        } else if (file.getName().endsWith(\".class\")) {\n            classes.add(Class.forName(packageName + '.' + file.getName().substring(0, file.getName().length() - 6)));\n        }\n    }\n    return classes;\n}\n</code></pre>\n\n<p>__________<br>\n<sub><sup>1</sup> This method was taken originally from <a href=\"http://snippets.dzone.com/posts/show/4831\" rel=\"noreferrer\">http://snippets.dzone.com/posts/show/4831</a>, which was <a href=\"https://web.archive.org/web/20090227113602/http://snippets.dzone.com:80/posts/show/4831\" rel=\"noreferrer\">archived</a> by the Internet Archive, as linked to now. The snippet is also available at <a href=\"https://dzone.com/articles/get-all-classes-within-package\" rel=\"noreferrer\">https://dzone.com/articles/get-all-classes-within-package</a>.</sub></p>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1267641141,"creation_date":1267641141,"answer_id":2373928,"question_id":520328,"body_markdown":"Provided you are not using any dynamic class loaders you can search the classpath and for each entry search the directory or JAR file.","title":"Can you find all classes in a package using reflection?","body":"<p>Provided you are not using any dynamic class loaders you can search the classpath and for each entry search the directory or JAR file.</p>\n"},{"tags":[],"owner":{"account_id":80316,"reputation":18412,"user_id":227192,"accept_rate":100,"display_name":"Aleksander Blomsk&#248;ld"},"down_vote_count":4,"up_vote_count":213,"is_accepted":false,"score":209,"last_activity_date":1444396250,"creation_date":1330968584,"answer_id":9571146,"question_id":520328,"body_markdown":"You should probably take a look at the open source [Reflections library][1]. With it you can easily achieve what you want.\r\n\r\nFirst, setup the reflections index (it&#39;s a bit messy since searching for all classes is disabled by default):\r\n\r\n    List&lt;ClassLoader&gt; classLoadersList = new LinkedList&lt;ClassLoader&gt;();\r\n    classLoadersList.add(ClasspathHelper.contextClassLoader());\r\n    classLoadersList.add(ClasspathHelper.staticClassLoader());\r\n    \t\t\t   \r\n    Reflections reflections = new Reflections(new ConfigurationBuilder()\r\n    \t.setScanners(new SubTypesScanner(false /* don&#39;t exclude Object.class */), new ResourcesScanner())\r\n    \t.setUrls(ClasspathHelper.forClassLoader(classLoadersList.toArray(new ClassLoader[0])))\r\n        .filterInputsBy(new FilterBuilder().include(FilterBuilder.prefix(&quot;org.your.package&quot;))));\r\n\r\nThen you can query for all objects in a given package:\r\n\r\n    Set&lt;Class&lt;?&gt;&gt; classes = reflections.getSubTypesOf(Object.class);\r\n\r\n  [1]: https://github.com/ronmamo/reflections\r\n\r\n","title":"Can you find all classes in a package using reflection?","body":"<p>You should probably take a look at the open source <a href=\"https://github.com/ronmamo/reflections\" rel=\"noreferrer\">Reflections library</a>. With it you can easily achieve what you want.</p>\n\n<p>First, setup the reflections index (it's a bit messy since searching for all classes is disabled by default):</p>\n\n<pre><code>List&lt;ClassLoader&gt; classLoadersList = new LinkedList&lt;ClassLoader&gt;();\nclassLoadersList.add(ClasspathHelper.contextClassLoader());\nclassLoadersList.add(ClasspathHelper.staticClassLoader());\n\nReflections reflections = new Reflections(new ConfigurationBuilder()\n    .setScanners(new SubTypesScanner(false /* don't exclude Object.class */), new ResourcesScanner())\n    .setUrls(ClasspathHelper.forClassLoader(classLoadersList.toArray(new ClassLoader[0])))\n    .filterInputsBy(new FilterBuilder().include(FilterBuilder.prefix(\"org.your.package\"))));\n</code></pre>\n\n<p>Then you can query for all objects in a given package:</p>\n\n<pre><code>Set&lt;Class&lt;?&gt;&gt; classes = reflections.getSubTypesOf(Object.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":176808,"reputation":41960,"user_id":407731,"accept_rate":77,"display_name":"Dave Dopson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1351115399,"creation_date":1351115399,"answer_id":13058324,"question_id":520328,"body_markdown":"I put together a simple github project that solves this problem:\r\n\r\nhttps://github.com/ddopson/java-class-enumerator\r\n\r\nIt should work for BOTH file-based classpaths AND for jar files.\r\n\r\nIf you run &#39;make&#39; after checking out the project it will print this out:\r\n&lt;pre&gt;&lt;code&gt; Cleaning...\r\nrm -rf build/\r\n Building...\r\njavac -d build/classes src/pro/ddopson/ClassEnumerator.java src/test/ClassIShouldFindOne.java src/test/ClassIShouldFindTwo.java src/test/subpkg/ClassIShouldFindThree.java src/test/TestClassEnumeration.java\r\n Making JAR Files...\r\njar cf build/ClassEnumerator_test.jar -C build/classes/ . \r\njar cf build/ClassEnumerator.jar -C build/classes/ pro\r\n Running Filesystem Classpath Test...\r\njava -classpath build/classes test.TestClassEnumeration\r\nClassDiscovery: Package: &#39;test&#39; becomes Resource: &#39;file:/Users/Dopson/work/other/java-class-enumeration/build/classes/test&#39;\r\nClassDiscovery: Reading Directory &#39;/Users/Dopson/work/other/java-class-enumeration/build/classes/test&#39;\r\nClassDiscovery: FileName &#39;ClassIShouldFindOne.class&#39;  =&gt;  class &#39;test.ClassIShouldFindOne&#39;\r\nClassDiscovery: FileName &#39;ClassIShouldFindTwo.class&#39;  =&gt;  class &#39;test.ClassIShouldFindTwo&#39;\r\nClassDiscovery: FileName &#39;subpkg&#39;  =&gt;  class &#39;null&#39;\r\nClassDiscovery: Reading Directory &#39;/Users/Dopson/work/other/java-class-enumeration/build/classes/test/subpkg&#39;\r\nClassDiscovery: FileName &#39;ClassIShouldFindThree.class&#39;  =&gt;  class &#39;test.subpkg.ClassIShouldFindThree&#39;\r\nClassDiscovery: FileName &#39;TestClassEnumeration.class&#39;  =&gt;  class &#39;test.TestClassEnumeration&#39;\r\n Running JAR Classpath Test...\r\njava -classpath build/ClassEnumerator_test.jar  test.TestClassEnumeration\r\nClassDiscovery: Package: &#39;test&#39; becomes Resource: &#39;jar:file:/Users/Dopson/work/other/java-class-enumeration/build/ClassEnumerator_test.jar!/test&#39;\r\nClassDiscovery: Reading JAR file: &#39;/Users/Dopson/work/other/java-class-enumeration/build/ClassEnumerator_test.jar&#39;\r\nClassDiscovery: JarEntry &#39;META-INF/&#39;  =&gt;  class &#39;null&#39;\r\nClassDiscovery: JarEntry &#39;META-INF/MANIFEST.MF&#39;  =&gt;  class &#39;null&#39;\r\nClassDiscovery: JarEntry &#39;pro/&#39;  =&gt;  class &#39;null&#39;\r\nClassDiscovery: JarEntry &#39;pro/ddopson/&#39;  =&gt;  class &#39;null&#39;\r\nClassDiscovery: JarEntry &#39;pro/ddopson/ClassEnumerator.class&#39;  =&gt;  class &#39;null&#39;\r\nClassDiscovery: JarEntry &#39;test/&#39;  =&gt;  class &#39;null&#39;\r\nClassDiscovery: JarEntry &#39;test/ClassIShouldFindOne.class&#39;  =&gt;  class &#39;test.ClassIShouldFindOne&#39;\r\nClassDiscovery: JarEntry &#39;test/ClassIShouldFindTwo.class&#39;  =&gt;  class &#39;test.ClassIShouldFindTwo&#39;\r\nClassDiscovery: JarEntry &#39;test/subpkg/&#39;  =&gt;  class &#39;null&#39;\r\nClassDiscovery: JarEntry &#39;test/subpkg/ClassIShouldFindThree.class&#39;  =&gt;  class &#39;test.subpkg.ClassIShouldFindThree&#39;\r\nClassDiscovery: JarEntry &#39;test/TestClassEnumeration.class&#39;  =&gt;  class &#39;test.TestClassEnumeration&#39;\r\n Tests Passed. \r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\n\r\nSee also [my other answer](https://stackoverflow.com/questions/176527/how-can-i-enumerate-all-classes-in-a-package-and-add-them-to-a-list/3527428#3527428)","title":"Can you find all classes in a package using reflection?","body":"<p>I put together a simple github project that solves this problem:</p>\n\n<p><a href=\"https://github.com/ddopson/java-class-enumerator\" rel=\"nofollow noreferrer\">https://github.com/ddopson/java-class-enumerator</a></p>\n\n<p>It should work for BOTH file-based classpaths AND for jar files.</p>\n\n<p>If you run 'make' after checking out the project it will print this out:</p>\n\n<pre><code> Cleaning...\nrm -rf build/\n Building...\njavac -d build/classes src/pro/ddopson/ClassEnumerator.java src/test/ClassIShouldFindOne.java src/test/ClassIShouldFindTwo.java src/test/subpkg/ClassIShouldFindThree.java src/test/TestClassEnumeration.java\n Making JAR Files...\njar cf build/ClassEnumerator_test.jar -C build/classes/ . \njar cf build/ClassEnumerator.jar -C build/classes/ pro\n Running Filesystem Classpath Test...\njava -classpath build/classes test.TestClassEnumeration\nClassDiscovery: Package: 'test' becomes Resource: 'file:/Users/Dopson/work/other/java-class-enumeration/build/classes/test'\nClassDiscovery: Reading Directory '/Users/Dopson/work/other/java-class-enumeration/build/classes/test'\nClassDiscovery: FileName 'ClassIShouldFindOne.class'  =>  class 'test.ClassIShouldFindOne'\nClassDiscovery: FileName 'ClassIShouldFindTwo.class'  =>  class 'test.ClassIShouldFindTwo'\nClassDiscovery: FileName 'subpkg'  =>  class 'null'\nClassDiscovery: Reading Directory '/Users/Dopson/work/other/java-class-enumeration/build/classes/test/subpkg'\nClassDiscovery: FileName 'ClassIShouldFindThree.class'  =>  class 'test.subpkg.ClassIShouldFindThree'\nClassDiscovery: FileName 'TestClassEnumeration.class'  =>  class 'test.TestClassEnumeration'\n Running JAR Classpath Test...\njava -classpath build/ClassEnumerator_test.jar  test.TestClassEnumeration\nClassDiscovery: Package: 'test' becomes Resource: 'jar:file:/Users/Dopson/work/other/java-class-enumeration/build/ClassEnumerator_test.jar!/test'\nClassDiscovery: Reading JAR file: '/Users/Dopson/work/other/java-class-enumeration/build/ClassEnumerator_test.jar'\nClassDiscovery: JarEntry 'META-INF/'  =>  class 'null'\nClassDiscovery: JarEntry 'META-INF/MANIFEST.MF'  =>  class 'null'\nClassDiscovery: JarEntry 'pro/'  =>  class 'null'\nClassDiscovery: JarEntry 'pro/ddopson/'  =>  class 'null'\nClassDiscovery: JarEntry 'pro/ddopson/ClassEnumerator.class'  =>  class 'null'\nClassDiscovery: JarEntry 'test/'  =>  class 'null'\nClassDiscovery: JarEntry 'test/ClassIShouldFindOne.class'  =>  class 'test.ClassIShouldFindOne'\nClassDiscovery: JarEntry 'test/ClassIShouldFindTwo.class'  =>  class 'test.ClassIShouldFindTwo'\nClassDiscovery: JarEntry 'test/subpkg/'  =>  class 'null'\nClassDiscovery: JarEntry 'test/subpkg/ClassIShouldFindThree.class'  =>  class 'test.subpkg.ClassIShouldFindThree'\nClassDiscovery: JarEntry 'test/TestClassEnumeration.class'  =>  class 'test.TestClassEnumeration'\n Tests Passed. \n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/176527/how-can-i-enumerate-all-classes-in-a-package-and-add-them-to-a-list/3527428#3527428\">my other answer</a></p>\n"},{"tags":[],"owner":{"account_id":320110,"reputation":9175,"user_id":638225,"display_name":"Christoph Leiter"},"down_vote_count":1,"up_vote_count":147,"is_accepted":false,"score":146,"last_activity_date":1678717402,"creation_date":1353427586,"answer_id":13477227,"question_id":520328,"body_markdown":"Google Guava 14 includes a new class [`ClassPath`][1] with three methods to scan for top level classes:\r\n\r\n* `getTopLevelClasses()`\r\n* `getTopLevelClasses(String packageName)`\r\n* `getTopLevelClassesRecursive(String packageName)`\r\n\r\nSee the [`ClassPath` javadocs][2] for more info.\r\n\r\n\r\n  [1]: https://github.com/google/guava/blob/master/guava/src/com/google/common/reflect/ClassPath.java\r\n  [2]: http://google.github.io/guava/releases/17.0/api/docs/index.html?com/google/common/reflect/ClassPath.html","title":"Can you find all classes in a package using reflection?","body":"<p>Google Guava 14 includes a new class <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/reflect/ClassPath.java\" rel=\"nofollow noreferrer\"><code>ClassPath</code></a> with three methods to scan for top level classes:</p>\n<ul>\n<li><code>getTopLevelClasses()</code></li>\n<li><code>getTopLevelClasses(String packageName)</code></li>\n<li><code>getTopLevelClassesRecursive(String packageName)</code></li>\n</ul>\n<p>See the <a href=\"http://google.github.io/guava/releases/17.0/api/docs/index.html?com/google/common/reflect/ClassPath.html\" rel=\"nofollow noreferrer\"><code>ClassPath</code> javadocs</a> for more info.</p>\n"},{"tags":[],"owner":{"account_id":1129788,"reputation":1470,"user_id":1116153,"display_name":"Sławek"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1392834060,"creation_date":1356177750,"answer_id":14002663,"question_id":520328,"body_markdown":"In general class loaders do not allow for scanning through all the classes on the classpath. But usually the only used class loader is UrlClassLoader from which we can retrieve the list of directories and jar files (see [getURLs][1]) and open them one by one to list available classes. This approach, called class path scanning, is implemented in [Scannotation][4] and [Reflections][5].\r\n\r\n    Reflections reflections = new Reflections(&quot;my.package&quot;);\r\n    Set&lt;Class&lt;? extends Object&gt;&gt; classes = reflections.getSubTypesOf(Object.class);\r\n\r\nAnother approach is to use [Java Pluggable Annotation Processing API][3] to write annotation processor which will collect all annotated classes at compile time and build the index file for runtime use. This mechanism is implemented in [ClassIndex][2] library:\r\n\r\n    // package-info.java\r\n    @IndexSubclasses\r\n    package my.package;\r\n\r\n    // your code\r\n    Iterable&lt;Class&gt; classes = ClassIndex.getPackageClasses(&quot;my.package&quot;);\r\n\r\nNotice that no additional setup is needed as the scanning is fully automated thanks to Java compiler automatically discovering any processors found on the classpath.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/URLClassLoader.html#getURLs%28%29\r\n  [2]: https://github.com/atteo/classindex\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/javax/annotation/processing/Processor.html\r\n  [4]: http://scannotation.sourceforge.net/\r\n  [5]: https://code.google.com/p/reflections/","title":"Can you find all classes in a package using reflection?","body":"<p>In general class loaders do not allow for scanning through all the classes on the classpath. But usually the only used class loader is UrlClassLoader from which we can retrieve the list of directories and jar files (see <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/URLClassLoader.html#getURLs%28%29\">getURLs</a>) and open them one by one to list available classes. This approach, called class path scanning, is implemented in <a href=\"http://scannotation.sourceforge.net/\">Scannotation</a> and <a href=\"https://code.google.com/p/reflections/\">Reflections</a>.</p>\n\n<pre><code>Reflections reflections = new Reflections(\"my.package\");\nSet&lt;Class&lt;? extends Object&gt;&gt; classes = reflections.getSubTypesOf(Object.class);\n</code></pre>\n\n<p>Another approach is to use <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/annotation/processing/Processor.html\">Java Pluggable Annotation Processing API</a> to write annotation processor which will collect all annotated classes at compile time and build the index file for runtime use. This mechanism is implemented in <a href=\"https://github.com/atteo/classindex\">ClassIndex</a> library:</p>\n\n<pre><code>// package-info.java\n@IndexSubclasses\npackage my.package;\n\n// your code\nIterable&lt;Class&gt; classes = ClassIndex.getPackageClasses(\"my.package\");\n</code></pre>\n\n<p>Notice that no additional setup is needed as the scanning is fully automated thanks to Java compiler automatically discovering any processors found on the classpath.</p>\n"},{"tags":[],"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1380098696,"creation_date":1380098696,"answer_id":19000174,"question_id":520328,"body_markdown":"You need to look up every class loader entry in the class path:\r\n\r\n\t\tString pkg = &quot;org/apache/commons/lang&quot;;\r\n\t\tClassLoader cl = ClassLoader.getSystemClassLoader();\r\n\t\tURL[] urls = ((URLClassLoader) cl).getURLs();\r\n\t\tfor (URL url : urls) {\r\n\t\t\tSystem.out.println(url.getFile());\r\n\t\t\tFile jar = new File(url.getFile());\r\n\t\t\t// ....\r\n\t\t}\t\r\n\r\nIf entry is directory, just look up in the right subdirectory: \r\n\r\n\tif (jar.isDirectory()) {\r\n\t\tFile subdir = new File(jar, pkg);\r\n\t\tif (!subdir.exists())\r\n\t\t\tcontinue;\r\n\t\tFile[] files = subdir.listFiles();\r\n\t\tfor (File file : files) {\r\n\t\t\tif (!file.isFile())\r\n\t\t\t\tcontinue;\r\n\t\t\tif (file.getName().endsWith(&quot;.class&quot;))\r\n\t\t\t\tSystem.out.println(&quot;Found class: &quot;\r\n\t\t\t\t\t\t+ file.getName().substring(0,\r\n\t\t\t\t\t\t\t\tfile.getName().length() - 6));\r\n\t\t}\r\n\t}\t\r\n\r\nIf the entry is the file, and it&#39;s jar, inspect the ZIP entries of it: \r\n\r\n\telse {\r\n\t\t// try to open as ZIP\r\n\t\ttry {\r\n\t\t\tZipFile zip = new ZipFile(jar);\r\n\t\t\tfor (Enumeration&lt;? extends ZipEntry&gt; entries = zip\r\n\t\t\t\t\t.entries(); entries.hasMoreElements();) {\r\n\t\t\t\tZipEntry entry = entries.nextElement();\r\n\t\t\t\tString name = entry.getName();\r\n\t\t\t\tif (!name.startsWith(pkg))\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tname = name.substring(pkg.length() + 1);\r\n\t\t\t\tif (name.indexOf(&#39;/&#39;) &lt; 0 &amp;&amp; name.endsWith(&quot;.class&quot;))\r\n\t\t\t\t\tSystem.out.println(&quot;Found class: &quot;\r\n\t\t\t\t\t\t\t+ name.substring(0, name.length() - 6));\r\n\t\t\t}\r\n\t\t} catch (ZipException e) {\r\n\t\t\tSystem.out.println(&quot;Not a ZIP: &quot; + e.getMessage());\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\nNow once you have all class names withing package, you can try loading them with reflection and analyze if they are classes or interfaces, etc.","title":"Can you find all classes in a package using reflection?","body":"<p>You need to look up every class loader entry in the class path:</p>\n\n<pre><code>    String pkg = \"org/apache/commons/lang\";\n    ClassLoader cl = ClassLoader.getSystemClassLoader();\n    URL[] urls = ((URLClassLoader) cl).getURLs();\n    for (URL url : urls) {\n        System.out.println(url.getFile());\n        File jar = new File(url.getFile());\n        // ....\n    }   \n</code></pre>\n\n<p>If entry is directory, just look up in the right subdirectory: </p>\n\n<pre><code>if (jar.isDirectory()) {\n    File subdir = new File(jar, pkg);\n    if (!subdir.exists())\n        continue;\n    File[] files = subdir.listFiles();\n    for (File file : files) {\n        if (!file.isFile())\n            continue;\n        if (file.getName().endsWith(\".class\"))\n            System.out.println(\"Found class: \"\n                    + file.getName().substring(0,\n                            file.getName().length() - 6));\n    }\n}   \n</code></pre>\n\n<p>If the entry is the file, and it's jar, inspect the ZIP entries of it: </p>\n\n<pre><code>else {\n    // try to open as ZIP\n    try {\n        ZipFile zip = new ZipFile(jar);\n        for (Enumeration&lt;? extends ZipEntry&gt; entries = zip\n                .entries(); entries.hasMoreElements();) {\n            ZipEntry entry = entries.nextElement();\n            String name = entry.getName();\n            if (!name.startsWith(pkg))\n                continue;\n            name = name.substring(pkg.length() + 1);\n            if (name.indexOf('/') &lt; 0 &amp;&amp; name.endsWith(\".class\"))\n                System.out.println(\"Found class: \"\n                        + name.substring(0, name.length() - 6));\n        }\n    } catch (ZipException e) {\n        System.out.println(\"Not a ZIP: \" + e.getMessage());\n    } catch (IOException e) {\n        System.err.println(e.getMessage());\n    }\n}\n</code></pre>\n\n<p>Now once you have all class names withing package, you can try loading them with reflection and analyze if they are classes or interfaces, etc.</p>\n"},{"tags":[],"owner":{"account_id":2415063,"reputation":1037,"user_id":2109292,"display_name":"Mart&#237;n C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1386111542,"creation_date":1386093155,"answer_id":20358207,"question_id":520328,"body_markdown":"I&#39;ve been trying to use the Reflections library, but had some problems using it, and there were too many jars I should include just to simply obtain the classes on a package.\r\n\r\nI&#39;ll post a solution I&#39;ve found in this duplicate question: https://stackoverflow.com/questions/15519626/how-to-get-all-classes-names-in-a-package\r\n\r\nThe [answer was written by sp00m][1]; I&#39;ve added some corrections to make it work:\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.util.Enumeration;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    \r\n    public final class ClassFinder {\r\n    \r\n        private final static char DOT = &#39;.&#39;;\r\n        private final static char SLASH = &#39;/&#39;;\r\n        private final static String CLASS_SUFFIX = &quot;.class&quot;;\r\n        private final static String BAD_PACKAGE_ERROR = &quot;Unable to get resources from path &#39;%s&#39;. Are you sure the given &#39;%s&#39; package exists?&quot;;\r\n    \r\n        public final static List&lt;Class&lt;?&gt;&gt; find(final String scannedPackage) {\r\n            final ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\r\n            final String scannedPath = scannedPackage.replace(DOT, SLASH);\r\n            final Enumeration&lt;URL&gt; resources;\r\n            try {\r\n                resources = classLoader.getResources(scannedPath);\r\n            } catch (IOException e) {\r\n                throw new IllegalArgumentException(String.format(BAD_PACKAGE_ERROR, scannedPath, scannedPackage), e);\r\n            }\r\n            final List&lt;Class&lt;?&gt;&gt; classes = new LinkedList&lt;Class&lt;?&gt;&gt;();\r\n            while (resources.hasMoreElements()) {\r\n                final File file = new File(resources.nextElement().getFile());\r\n               \tclasses.addAll(find(file, scannedPackage));\r\n            }\r\n            return classes;\r\n        }\r\n    \r\n        private final static List&lt;Class&lt;?&gt;&gt; find(final File file, final String scannedPackage) {\r\n            final List&lt;Class&lt;?&gt;&gt; classes = new LinkedList&lt;Class&lt;?&gt;&gt;();\r\n            if (file.isDirectory()) {\r\n                for (File nestedFile : file.listFiles()) {\r\n                    classes.addAll(find(nestedFile, scannedPackage));\r\n                }\r\n            //File names with the $1, $2 holds the anonymous inner classes, we are not interested on them. \r\n            } else if (file.getName().endsWith(CLASS_SUFFIX) &amp;&amp; !file.getName().contains(&quot;$&quot;)) {\r\n    \r\n            \tfinal int beginIndex = 0;\r\n                final int endIndex = file.getName().length() - CLASS_SUFFIX.length();\r\n                final String className = file.getName().substring(beginIndex, endIndex);\r\n                try {\r\n                \tfinal String resource = scannedPackage + DOT + className;\r\n                    classes.add(Class.forName(resource));\r\n                } catch (ClassNotFoundException ignore) {\r\n                }\r\n            }\r\n            return classes;\r\n        }\r\n    \r\n    }\r\n\r\nTo use it just call the find method as sp00n mentioned in this example:\r\nI&#39;ve added the creation of instances of the classes if needed.\r\n\r\n    List&lt;Class&lt;?&gt;&gt; classes = ClassFinder.find(&quot;com.package&quot;);\r\n    \r\n    ExcelReporting excelReporting;\r\n    for (Class&lt;?&gt; aClass : classes) {\r\n    \tConstructor constructor = aClass.getConstructor();\r\n    \t//Create an object of the class type\r\n    \tconstructor.newInstance();\r\n    \t//...\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15519626/how-to-get-all-classes-names-in-a-package/15519745#15519745","title":"Can you find all classes in a package using reflection?","body":"<p>I've been trying to use the Reflections library, but had some problems using it, and there were too many jars I should include just to simply obtain the classes on a package.</p>\n\n<p>I'll post a solution I've found in this duplicate question: <a href=\"https://stackoverflow.com/questions/15519626/how-to-get-all-classes-names-in-a-package\">How to get all classes names in a package?</a></p>\n\n<p>The <a href=\"https://stackoverflow.com/questions/15519626/how-to-get-all-classes-names-in-a-package/15519745#15519745\">answer was written by sp00m</a>; I've added some corrections to make it work:</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.Enumeration;\nimport java.util.LinkedList;\nimport java.util.List;\n\npublic final class ClassFinder {\n\n    private final static char DOT = '.';\n    private final static char SLASH = '/';\n    private final static String CLASS_SUFFIX = \".class\";\n    private final static String BAD_PACKAGE_ERROR = \"Unable to get resources from path '%s'. Are you sure the given '%s' package exists?\";\n\n    public final static List&lt;Class&lt;?&gt;&gt; find(final String scannedPackage) {\n        final ClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n        final String scannedPath = scannedPackage.replace(DOT, SLASH);\n        final Enumeration&lt;URL&gt; resources;\n        try {\n            resources = classLoader.getResources(scannedPath);\n        } catch (IOException e) {\n            throw new IllegalArgumentException(String.format(BAD_PACKAGE_ERROR, scannedPath, scannedPackage), e);\n        }\n        final List&lt;Class&lt;?&gt;&gt; classes = new LinkedList&lt;Class&lt;?&gt;&gt;();\n        while (resources.hasMoreElements()) {\n            final File file = new File(resources.nextElement().getFile());\n            classes.addAll(find(file, scannedPackage));\n        }\n        return classes;\n    }\n\n    private final static List&lt;Class&lt;?&gt;&gt; find(final File file, final String scannedPackage) {\n        final List&lt;Class&lt;?&gt;&gt; classes = new LinkedList&lt;Class&lt;?&gt;&gt;();\n        if (file.isDirectory()) {\n            for (File nestedFile : file.listFiles()) {\n                classes.addAll(find(nestedFile, scannedPackage));\n            }\n        //File names with the $1, $2 holds the anonymous inner classes, we are not interested on them. \n        } else if (file.getName().endsWith(CLASS_SUFFIX) &amp;&amp; !file.getName().contains(\"$\")) {\n\n            final int beginIndex = 0;\n            final int endIndex = file.getName().length() - CLASS_SUFFIX.length();\n            final String className = file.getName().substring(beginIndex, endIndex);\n            try {\n                final String resource = scannedPackage + DOT + className;\n                classes.add(Class.forName(resource));\n            } catch (ClassNotFoundException ignore) {\n            }\n        }\n        return classes;\n    }\n\n}\n</code></pre>\n\n<p>To use it just call the find method as sp00n mentioned in this example:\nI've added the creation of instances of the classes if needed.</p>\n\n<pre><code>List&lt;Class&lt;?&gt;&gt; classes = ClassFinder.find(\"com.package\");\n\nExcelReporting excelReporting;\nfor (Class&lt;?&gt; aClass : classes) {\n    Constructor constructor = aClass.getConstructor();\n    //Create an object of the class type\n    constructor.newInstance();\n    //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1386609100,"creation_date":1386609100,"answer_id":20476490,"question_id":520328,"body_markdown":"I just wrote a util class, it include test methods, you can have a check ~\r\n\r\nIteratePackageUtil.java:\r\n\r\n    package eric.j2se.reflect;\r\n\r\n    import java.util.Set;\r\n    \r\n    import org.reflections.Reflections;\r\n    import org.reflections.scanners.ResourcesScanner;\r\n    import org.reflections.scanners.SubTypesScanner;\r\n    import org.reflections.util.ClasspathHelper;\r\n    import org.reflections.util.ConfigurationBuilder;\r\n    import org.reflections.util.FilterBuilder;\r\n    \r\n    /**\r\n     * an util to iterate class in a package,\r\n     * \r\n     * @author eric\r\n     * @date Dec 10, 2013 12:36:46 AM\r\n     */\r\n    public class IteratePackageUtil {\r\n        /**\r\n         * &lt;p&gt;\r\n         * Get set of all class in a specified package recursively. this only support lib\r\n         * &lt;/p&gt;\r\n         * &lt;p&gt;\r\n         * class of sub package will be included, inner class will be included,\r\n         * &lt;/p&gt;\r\n         * &lt;p&gt;\r\n         * could load class that use the same classloader of current class, can&#39;t load system packages,\r\n         * &lt;/p&gt;\r\n         * \r\n         * @param pkg\r\n         *            path of a package\r\n         * @return\r\n         */\r\n        public static Set&lt;Class&lt;? extends Object&gt;&gt; getClazzSet(String pkg) {\r\n            // prepare reflection, include direct subclass of Object.class\r\n            Reflections reflections = new Reflections(new ConfigurationBuilder().setScanners(new SubTypesScanner(false), new ResourcesScanner())\r\n                    .setUrls(ClasspathHelper.forClassLoader(ClasspathHelper.classLoaders(new ClassLoader[0])))\r\n                    .filterInputsBy(new FilterBuilder().includePackage(pkg)));\r\n    \r\n            return reflections.getSubTypesOf(Object.class);\r\n        }\r\n    \r\n        public static void test() {\r\n            String pkg = &quot;org.apache.tomcat.util&quot;;\r\n    \r\n            Set&lt;Class&lt;? extends Object&gt;&gt; clazzSet = getClazzSet(pkg);\r\n            for (Class&lt;? extends Object&gt; clazz : clazzSet) {\r\n                System.out.println(clazz.getName());\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            test();\r\n        }\r\n    }\r\n\r\n","title":"Can you find all classes in a package using reflection?","body":"<p>I just wrote a util class, it include test methods, you can have a check ~</p>\n\n<p>IteratePackageUtil.java:</p>\n\n<pre><code>package eric.j2se.reflect;\n\nimport java.util.Set;\n\nimport org.reflections.Reflections;\nimport org.reflections.scanners.ResourcesScanner;\nimport org.reflections.scanners.SubTypesScanner;\nimport org.reflections.util.ClasspathHelper;\nimport org.reflections.util.ConfigurationBuilder;\nimport org.reflections.util.FilterBuilder;\n\n/**\n * an util to iterate class in a package,\n * \n * @author eric\n * @date Dec 10, 2013 12:36:46 AM\n */\npublic class IteratePackageUtil {\n    /**\n     * &lt;p&gt;\n     * Get set of all class in a specified package recursively. this only support lib\n     * &lt;/p&gt;\n     * &lt;p&gt;\n     * class of sub package will be included, inner class will be included,\n     * &lt;/p&gt;\n     * &lt;p&gt;\n     * could load class that use the same classloader of current class, can't load system packages,\n     * &lt;/p&gt;\n     * \n     * @param pkg\n     *            path of a package\n     * @return\n     */\n    public static Set&lt;Class&lt;? extends Object&gt;&gt; getClazzSet(String pkg) {\n        // prepare reflection, include direct subclass of Object.class\n        Reflections reflections = new Reflections(new ConfigurationBuilder().setScanners(new SubTypesScanner(false), new ResourcesScanner())\n                .setUrls(ClasspathHelper.forClassLoader(ClasspathHelper.classLoaders(new ClassLoader[0])))\n                .filterInputsBy(new FilterBuilder().includePackage(pkg)));\n\n        return reflections.getSubTypesOf(Object.class);\n    }\n\n    public static void test() {\n        String pkg = \"org.apache.tomcat.util\";\n\n        Set&lt;Class&lt;? extends Object&gt;&gt; clazzSet = getClazzSet(pkg);\n        for (Class&lt;? extends Object&gt; clazz : clazzSet) {\n            System.out.println(clazz.getName());\n        }\n    }\n\n    public static void main(String[] args) {\n        test();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2298937,"reputation":2835,"user_id":2019710,"accept_rate":67,"display_name":"voho"},"down_vote_count":2,"up_vote_count":129,"is_accepted":false,"score":127,"last_activity_date":1437491423,"creation_date":1390997709,"answer_id":21430849,"question_id":520328,"body_markdown":"&lt;!-- language: lang-java --&gt;\r\n\r\n## Spring\r\n\r\nThis example is for Spring 4, but you can find the classpath scanner in earlier versions as well.\r\n\r\n    // create scanner and disable default filters (that is the &#39;false&#39; argument)\r\n    final ClassPathScanningCandidateComponentProvider provider = new ClassPathScanningCandidateComponentProvider(false);\r\n    // add include filters which matches all the classes (or use your own)\r\n    provider.addIncludeFilter(new RegexPatternTypeFilter(Pattern.compile(&quot;.*&quot;)));\r\n        \r\n    // get matching classes defined in the package\r\n    final Set&lt;BeanDefinition&gt; classes = provider.findCandidateComponents(&quot;my.package.name&quot;);\r\n        \r\n    // this is how you can load the class type from BeanDefinition instance\r\n    for (BeanDefinition bean: classes) {\r\n        Class&lt;?&gt; clazz = Class.forName(bean.getBeanClassName());\r\n        // ... do your magic with the class ...\r\n    }\r\n\r\n## Google Guava\r\n\r\n**Note:** In version 14, the API is still marked as *@Beta*, so beware in production code.\r\n\r\n    final ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n\r\n    for (final ClassPath.ClassInfo info : ClassPath.from(loader).getTopLevelClasses()) {\r\n      if (info.getName().startsWith(&quot;my.package.&quot;)) {\r\n        final Class&lt;?&gt; clazz = info.load();\r\n        // do something with your clazz\r\n      }\r\n    }","title":"Can you find all classes in a package using reflection?","body":"<h2>Spring</h2>\n\n<p>This example is for Spring 4, but you can find the classpath scanner in earlier versions as well.</p>\n\n<pre><code>// create scanner and disable default filters (that is the 'false' argument)\nfinal ClassPathScanningCandidateComponentProvider provider = new ClassPathScanningCandidateComponentProvider(false);\n// add include filters which matches all the classes (or use your own)\nprovider.addIncludeFilter(new RegexPatternTypeFilter(Pattern.compile(\".*\")));\n\n// get matching classes defined in the package\nfinal Set&lt;BeanDefinition&gt; classes = provider.findCandidateComponents(\"my.package.name\");\n\n// this is how you can load the class type from BeanDefinition instance\nfor (BeanDefinition bean: classes) {\n    Class&lt;?&gt; clazz = Class.forName(bean.getBeanClassName());\n    // ... do your magic with the class ...\n}\n</code></pre>\n\n<h2>Google Guava</h2>\n\n<p><strong>Note:</strong> In version 14, the API is still marked as <em>@Beta</em>, so beware in production code.</p>\n\n<pre><code>final ClassLoader loader = Thread.currentThread().getContextClassLoader();\n\nfor (final ClassPath.ClassInfo info : ClassPath.from(loader).getTopLevelClasses()) {\n  if (info.getName().startsWith(\"my.package.\")) {\n    final Class&lt;?&gt; clazz = info.load();\n    // do something with your clazz\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3551830,"reputation":301,"user_id":2966520,"display_name":"Williams L&#243;pez"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1420819022,"creation_date":1392677337,"answer_id":21840860,"question_id":520328,"body_markdown":"Without using any extra libraries:\r\n\r\n    package test;\r\n\r\n    import java.io.DataInputStream;\r\n    import java.io.InputStream;\r\n    import java.net.URL;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws Exception{\r\n            List&lt;Class&gt; classes = getClasses(Test.class.getClassLoader(),&quot;test&quot;);\r\n            for(Class c:classes){\r\n                System.out.println(&quot;Class: &quot;+c);\r\n            }\r\n        }\r\n        \r\n        public static List&lt;Class&gt; getClasses(ClassLoader cl,String pack) throws Exception{\r\n            \r\n            String dottedPackage = pack.replaceAll(&quot;[/]&quot;, &quot;.&quot;);\r\n            List&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\r\n            URL upackage = cl.getResource(pack);\r\n            \r\n            DataInputStream dis = new DataInputStream((InputStream) upackage.getContent());\r\n            String line = null;\r\n            while ((line = dis.readLine()) != null) {\r\n                if(line.endsWith(&quot;.class&quot;)) {\r\n                   classes.add(Class.forName(dottedPackage+&quot;.&quot;+line.substring(0,line.lastIndexOf(&#39;.&#39;))));\r\n                }\r\n            }\r\n            return classes;\r\n        }\r\n    }","title":"Can you find all classes in a package using reflection?","body":"<p>Without using any extra libraries:</p>\n\n<pre><code>package test;\n\nimport java.io.DataInputStream;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Test {\n    public static void main(String[] args) throws Exception{\n        List&lt;Class&gt; classes = getClasses(Test.class.getClassLoader(),\"test\");\n        for(Class c:classes){\n            System.out.println(\"Class: \"+c);\n        }\n    }\n\n    public static List&lt;Class&gt; getClasses(ClassLoader cl,String pack) throws Exception{\n\n        String dottedPackage = pack.replaceAll(\"[/]\", \".\");\n        List&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\n        URL upackage = cl.getResource(pack);\n\n        DataInputStream dis = new DataInputStream((InputStream) upackage.getContent());\n        String line = null;\n        while ((line = dis.readLine()) != null) {\n            if(line.endsWith(\".class\")) {\n               classes.add(Class.forName(dottedPackage+\".\"+line.substring(0,line.lastIndexOf('.'))));\n            }\n        }\n        return classes;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2267875,"reputation":3038,"user_id":1996022,"accept_rate":77,"display_name":"BrainStone"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1557306791,"creation_date":1395082036,"answer_id":22462785,"question_id":520328,"body_markdown":"&lt;!-- language-all: java --&gt;\r\nHello. I always have had some issues with the solutions above (and on other sites).  \r\nI, as a developer, am programming a addon for a API. The API prevents the use of any external libraries or 3rd party tools. The setup also consists of a mixture of code in jar or zip files and class files located directly in some directories. So my code had to be able to work arround every setup. After a lot of research I have come up with a method that will work in at least 95% of all possible setups.\r\n\r\nThe following code is basically the overkill method that will always work.\r\n\r\nThe code:\r\n----------------\r\n\r\nThis code scans a given package for all classes that are included in it. It will only work for all classes in the current ``ClassLoader``.\r\n\r\n\t/**\r\n\t * Private helper method\r\n\t * \r\n\t * @param directory\r\n\t *            The directory to start with\r\n\t * @param pckgname\r\n\t *            The package name to search for. Will be needed for getting the\r\n\t *            Class object.\r\n\t * @param classes\r\n\t *            if a file isn&#39;t loaded but still is in the directory\r\n\t * @throws ClassNotFoundException\r\n\t */\r\n\tprivate static void checkDirectory(File directory, String pckgname,\r\n\t\t\tArrayList&lt;Class&lt;?&gt;&gt; classes) throws ClassNotFoundException {\r\n\t\tFile tmpDirectory;\r\n\r\n\t\tif (directory.exists() &amp;&amp; directory.isDirectory()) {\r\n\t\t\tfinal String[] files = directory.list();\r\n\r\n\t\t\tfor (final String file : files) {\r\n\t\t\t\tif (file.endsWith(&quot;.class&quot;)) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tclasses.add(Class.forName(pckgname + &#39;.&#39;\r\n\t\t\t\t\t\t\t\t+ file.substring(0, file.length() - 6)));\r\n\t\t\t\t\t} catch (final NoClassDefFoundError e) {\r\n\t\t\t\t\t\t// do nothing. this class hasn&#39;t been found by the\r\n\t\t\t\t\t\t// loader, and we don&#39;t care.\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ((tmpDirectory = new File(directory, file))\r\n\t\t\t\t\t\t.isDirectory()) {\r\n\t\t\t\t\tcheckDirectory(tmpDirectory, pckgname + &quot;.&quot; + file, classes);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Private helper method.\r\n\t * \r\n\t * @param connection\r\n\t *            the connection to the jar\r\n\t * @param pckgname\r\n\t *            the package name to search for\r\n\t * @param classes\r\n\t *            the current ArrayList of all classes. This method will simply\r\n\t *            add new classes.\r\n\t * @throws ClassNotFoundException\r\n\t *             if a file isn&#39;t loaded but still is in the jar file\r\n\t * @throws IOException\r\n\t *             if it can&#39;t correctly read from the jar file.\r\n\t */\r\n\tprivate static void checkJarFile(JarURLConnection connection,\r\n\t\t\tString pckgname, ArrayList&lt;Class&lt;?&gt;&gt; classes)\r\n\t\t\tthrows ClassNotFoundException, IOException {\r\n\t\tfinal JarFile jarFile = connection.getJarFile();\r\n\t\tfinal Enumeration&lt;JarEntry&gt; entries = jarFile.entries();\r\n\t\tString name;\r\n\r\n\t\tfor (JarEntry jarEntry = null; entries.hasMoreElements()\r\n\t\t\t\t&amp;&amp; ((jarEntry = entries.nextElement()) != null);) {\r\n\t\t\tname = jarEntry.getName();\r\n\r\n\t\t\tif (name.contains(&quot;.class&quot;)) {\r\n\t\t\t\tname = name.substring(0, name.length() - 6).replace(&#39;/&#39;, &#39;.&#39;);\r\n\r\n\t\t\t\tif (name.contains(pckgname)) {\r\n\t\t\t\t\tclasses.add(Class.forName(name));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Attempts to list all the classes in the specified package as determined\r\n\t * by the context class loader\r\n\t * \r\n\t * @param pckgname\r\n\t *            the package name to search\r\n\t * @return a list of classes that exist within that package\r\n\t * @throws ClassNotFoundException\r\n\t *             if something went wrong\r\n\t */\r\n\tpublic static ArrayList&lt;Class&lt;?&gt;&gt; getClassesForPackage(String pckgname)\r\n\t\t\tthrows ClassNotFoundException {\r\n\t\tfinal ArrayList&lt;Class&lt;?&gt;&gt; classes = new ArrayList&lt;Class&lt;?&gt;&gt;();\r\n\r\n\t\ttry {\r\n\t\t\tfinal ClassLoader cld = Thread.currentThread()\r\n\t\t\t\t\t.getContextClassLoader();\r\n\r\n\t\t\tif (cld == null)\r\n\t\t\t\tthrow new ClassNotFoundException(&quot;Can&#39;t get class loader.&quot;);\r\n\r\n\t\t\tfinal Enumeration&lt;URL&gt; resources = cld.getResources(pckgname\r\n\t\t\t\t\t.replace(&#39;.&#39;, &#39;/&#39;));\r\n\t\t\tURLConnection connection;\r\n\r\n\t\t\tfor (URL url = null; resources.hasMoreElements()\r\n\t\t\t\t\t&amp;&amp; ((url = resources.nextElement()) != null);) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconnection = url.openConnection();\r\n\r\n\t\t\t\t\tif (connection instanceof JarURLConnection) {\r\n\t\t\t\t\t\tcheckJarFile((JarURLConnection) connection, pckgname,\r\n\t\t\t\t\t\t\t\tclasses);\r\n\t\t\t\t\t} else if (connection instanceof FileURLConnection) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tcheckDirectory(\r\n\t\t\t\t\t\t\t\t\tnew File(URLDecoder.decode(url.getPath(),\r\n\t\t\t\t\t\t\t\t\t\t\t&quot;UTF-8&quot;)), pckgname, classes);\r\n\t\t\t\t\t\t} catch (final UnsupportedEncodingException ex) {\r\n\t\t\t\t\t\t\tthrow new ClassNotFoundException(\r\n\t\t\t\t\t\t\t\t\tpckgname\r\n\t\t\t\t\t\t\t\t\t\t\t+ &quot; does not appear to be a valid package (Unsupported encoding)&quot;,\r\n\t\t\t\t\t\t\t\t\tex);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\tthrow new ClassNotFoundException(pckgname + &quot; (&quot;\r\n\t\t\t\t\t\t\t\t+ url.getPath()\r\n\t\t\t\t\t\t\t\t+ &quot;) does not appear to be a valid package&quot;);\r\n\t\t\t\t} catch (final IOException ioex) {\r\n\t\t\t\t\tthrow new ClassNotFoundException(\r\n\t\t\t\t\t\t\t&quot;IOException was thrown when trying to get all resources for &quot;\r\n\t\t\t\t\t\t\t\t\t+ pckgname, ioex);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (final NullPointerException ex) {\r\n\t\t\tthrow new ClassNotFoundException(\r\n\t\t\t\t\tpckgname\r\n\t\t\t\t\t\t\t+ &quot; does not appear to be a valid package (Null pointer exception)&quot;,\r\n\t\t\t\t\tex);\r\n\t\t} catch (final IOException ioex) {\r\n\t\t\tthrow new ClassNotFoundException(\r\n\t\t\t\t\t&quot;IOException was thrown when trying to get all resources for &quot;\r\n\t\t\t\t\t\t\t+ pckgname, ioex);\r\n\t\t}\r\n\r\n\t\treturn classes;\r\n\t}\r\n\r\nThese three methods provide you with the ability to find all classes in a given package.  \r\nYou use it like this:\r\n\r\n    getClassesForPackage(&quot;package.your.classes.are.in&quot;);\r\n\r\nThe explanation:\r\n-------------------------\r\n\r\nThe method first gets the current ``ClassLoader``. It then fetches all resources that contain said package and iterates of these ``URL``s. It then creates a ``URLConnection`` and determines what type of URl we have. It can either be a directory (``FileURLConnection``) or a directory inside a jar or zip file (``JarURLConnection``). Depending on what type of connection we have two different methods will be called.\r\n\r\nFirst lets see what happens if it is a ``FileURLConnection``.  \r\nIt first checks if the passed File exists and is a directory. If that&#39;s the case it checks if it is a class file. If so a ``Class`` object will be created and put in the ``ArrayList``. If it is not a class file but is a directory, we simply iterate into it and do the same thing. All other cases/files will be ignored.\r\n\r\nIf the ``URLConnection`` is a ``JarURLConnection`` the other private helper method will be called. This method iterates over all Entries in the zip/jar archive. If one entry is a class file and is inside of the package a ``Class`` object will be created and stored in the ``ArrayList``.\r\n\r\nAfter all resources have been parsed it (the main method) returns the ``ArrayList`` containig all classes in the given package, that the current ``ClassLoader`` knows about.\r\n\r\nIf the process fails at any point a ``ClassNotFoundException`` will be thrown containg detailed information about the exact cause.","title":"Can you find all classes in a package using reflection?","body":"<p>\nHello. I always have had some issues with the solutions above (and on other sites).<br>\nI, as a developer, am programming a addon for a API. The API prevents the use of any external libraries or 3rd party tools. The setup also consists of a mixture of code in jar or zip files and class files located directly in some directories. So my code had to be able to work arround every setup. After a lot of research I have come up with a method that will work in at least 95% of all possible setups.</p>\n\n<p>The following code is basically the overkill method that will always work.</p>\n\n<h2>The code:</h2>\n\n<p>This code scans a given package for all classes that are included in it. It will only work for all classes in the current <code>ClassLoader</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Private helper method\n * \n * @param directory\n *            The directory to start with\n * @param pckgname\n *            The package name to search for. Will be needed for getting the\n *            Class object.\n * @param classes\n *            if a file isn't loaded but still is in the directory\n * @throws ClassNotFoundException\n */\nprivate static void checkDirectory(File directory, String pckgname,\n        ArrayList&lt;Class&lt;?&gt;&gt; classes) throws ClassNotFoundException {\n    File tmpDirectory;\n\n    if (directory.exists() &amp;&amp; directory.isDirectory()) {\n        final String[] files = directory.list();\n\n        for (final String file : files) {\n            if (file.endsWith(\".class\")) {\n                try {\n                    classes.add(Class.forName(pckgname + '.'\n                            + file.substring(0, file.length() - 6)));\n                } catch (final NoClassDefFoundError e) {\n                    // do nothing. this class hasn't been found by the\n                    // loader, and we don't care.\n                }\n            } else if ((tmpDirectory = new File(directory, file))\n                    .isDirectory()) {\n                checkDirectory(tmpDirectory, pckgname + \".\" + file, classes);\n            }\n        }\n    }\n}\n\n/**\n * Private helper method.\n * \n * @param connection\n *            the connection to the jar\n * @param pckgname\n *            the package name to search for\n * @param classes\n *            the current ArrayList of all classes. This method will simply\n *            add new classes.\n * @throws ClassNotFoundException\n *             if a file isn't loaded but still is in the jar file\n * @throws IOException\n *             if it can't correctly read from the jar file.\n */\nprivate static void checkJarFile(JarURLConnection connection,\n        String pckgname, ArrayList&lt;Class&lt;?&gt;&gt; classes)\n        throws ClassNotFoundException, IOException {\n    final JarFile jarFile = connection.getJarFile();\n    final Enumeration&lt;JarEntry&gt; entries = jarFile.entries();\n    String name;\n\n    for (JarEntry jarEntry = null; entries.hasMoreElements()\n            &amp;&amp; ((jarEntry = entries.nextElement()) != null);) {\n        name = jarEntry.getName();\n\n        if (name.contains(\".class\")) {\n            name = name.substring(0, name.length() - 6).replace('/', '.');\n\n            if (name.contains(pckgname)) {\n                classes.add(Class.forName(name));\n            }\n        }\n    }\n}\n\n/**\n * Attempts to list all the classes in the specified package as determined\n * by the context class loader\n * \n * @param pckgname\n *            the package name to search\n * @return a list of classes that exist within that package\n * @throws ClassNotFoundException\n *             if something went wrong\n */\npublic static ArrayList&lt;Class&lt;?&gt;&gt; getClassesForPackage(String pckgname)\n        throws ClassNotFoundException {\n    final ArrayList&lt;Class&lt;?&gt;&gt; classes = new ArrayList&lt;Class&lt;?&gt;&gt;();\n\n    try {\n        final ClassLoader cld = Thread.currentThread()\n                .getContextClassLoader();\n\n        if (cld == null)\n            throw new ClassNotFoundException(\"Can't get class loader.\");\n\n        final Enumeration&lt;URL&gt; resources = cld.getResources(pckgname\n                .replace('.', '/'));\n        URLConnection connection;\n\n        for (URL url = null; resources.hasMoreElements()\n                &amp;&amp; ((url = resources.nextElement()) != null);) {\n            try {\n                connection = url.openConnection();\n\n                if (connection instanceof JarURLConnection) {\n                    checkJarFile((JarURLConnection) connection, pckgname,\n                            classes);\n                } else if (connection instanceof FileURLConnection) {\n                    try {\n                        checkDirectory(\n                                new File(URLDecoder.decode(url.getPath(),\n                                        \"UTF-8\")), pckgname, classes);\n                    } catch (final UnsupportedEncodingException ex) {\n                        throw new ClassNotFoundException(\n                                pckgname\n                                        + \" does not appear to be a valid package (Unsupported encoding)\",\n                                ex);\n                    }\n                } else\n                    throw new ClassNotFoundException(pckgname + \" (\"\n                            + url.getPath()\n                            + \") does not appear to be a valid package\");\n            } catch (final IOException ioex) {\n                throw new ClassNotFoundException(\n                        \"IOException was thrown when trying to get all resources for \"\n                                + pckgname, ioex);\n            }\n        }\n    } catch (final NullPointerException ex) {\n        throw new ClassNotFoundException(\n                pckgname\n                        + \" does not appear to be a valid package (Null pointer exception)\",\n                ex);\n    } catch (final IOException ioex) {\n        throw new ClassNotFoundException(\n                \"IOException was thrown when trying to get all resources for \"\n                        + pckgname, ioex);\n    }\n\n    return classes;\n}\n</code></pre>\n\n<p>These three methods provide you with the ability to find all classes in a given package.<br>\nYou use it like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>getClassesForPackage(\"package.your.classes.are.in\");\n</code></pre>\n\n<h2>The explanation:</h2>\n\n<p>The method first gets the current <code>ClassLoader</code>. It then fetches all resources that contain said package and iterates of these <code>URL</code>s. It then creates a <code>URLConnection</code> and determines what type of URl we have. It can either be a directory (<code>FileURLConnection</code>) or a directory inside a jar or zip file (<code>JarURLConnection</code>). Depending on what type of connection we have two different methods will be called.</p>\n\n<p>First lets see what happens if it is a <code>FileURLConnection</code>.<br>\nIt first checks if the passed File exists and is a directory. If that's the case it checks if it is a class file. If so a <code>Class</code> object will be created and put in the <code>ArrayList</code>. If it is not a class file but is a directory, we simply iterate into it and do the same thing. All other cases/files will be ignored.</p>\n\n<p>If the <code>URLConnection</code> is a <code>JarURLConnection</code> the other private helper method will be called. This method iterates over all Entries in the zip/jar archive. If one entry is a class file and is inside of the package a <code>Class</code> object will be created and stored in the <code>ArrayList</code>.</p>\n\n<p>After all resources have been parsed it (the main method) returns the <code>ArrayList</code> containig all classes in the given package, that the current <code>ClassLoader</code> knows about.</p>\n\n<p>If the process fails at any point a <code>ClassNotFoundException</code> will be thrown containg detailed information about the exact cause.</p>\n"},{"tags":[],"owner":{"account_id":161274,"reputation":6294,"user_id":381897,"accept_rate":100,"display_name":"bhdrkn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443462709,"creation_date":1443462709,"answer_id":32828953,"question_id":520328,"body_markdown":"Almost all the answers either uses `Reflections` or reads class files from file system. If you try to read classes from file system, you may get errors when you package your application as JAR or other. Also you may not want to use a separate library for that purpose. \r\n\r\nHere is another approach which is pure java and not depends on file system. \r\n\r\n    import javax.tools.JavaFileObject;\r\n    import javax.tools.StandardJavaFileManager;\r\n    import javax.tools.StandardLocation;\r\n    import javax.tools.ToolProvider;\r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.Collections;\r\n    import java.util.regex.Pattern;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.StreamSupport;\r\n    \r\n    public class PackageUtil {\r\n    \r\n        public static Collection&lt;Class&gt; getClasses(final String pack) throws Exception {\r\n            final StandardJavaFileManager fileManager = ToolProvider.getSystemJavaCompiler().getStandardFileManager(null, null, null);\r\n            return StreamSupport.stream(fileManager.list(StandardLocation.CLASS_PATH, pack, Collections.singleton(JavaFileObject.Kind.CLASS), false).spliterator(), false)\r\n                    .map(javaFileObject -&gt; {\r\n                        try {\r\n                            final String[] split = javaFileObject.getName()\r\n                                    .replace(&quot;.class&quot;, &quot;&quot;)\r\n                                    .replace(&quot;)&quot;, &quot;&quot;)\r\n                                    .split(Pattern.quote(File.separator));\r\n    \r\n                            final String fullClassName = pack + &quot;.&quot; + split[split.length - 1];\r\n                            return Class.forName(fullClassName);\r\n                        } catch (ClassNotFoundException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n    \r\n                    })\r\n                    .collect(Collectors.toCollection(ArrayList::new));\r\n        }\r\n    }\r\n\r\n**Java 8 is not a must**. You can use for loops instead of streams.\r\nAnd you can test it like this\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        final String pack = &quot;java.nio.file&quot;; // Or any other package\r\n        PackageUtil.getClasses(pack).stream().forEach(System.out::println);\r\n    }","title":"Can you find all classes in a package using reflection?","body":"<p>Almost all the answers either uses <code>Reflections</code> or reads class files from file system. If you try to read classes from file system, you may get errors when you package your application as JAR or other. Also you may not want to use a separate library for that purpose. </p>\n\n<p>Here is another approach which is pure java and not depends on file system. </p>\n\n<pre><code>import javax.tools.JavaFileObject;\nimport javax.tools.StandardJavaFileManager;\nimport javax.tools.StandardLocation;\nimport javax.tools.ToolProvider;\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Collections;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\nimport java.util.stream.StreamSupport;\n\npublic class PackageUtil {\n\n    public static Collection&lt;Class&gt; getClasses(final String pack) throws Exception {\n        final StandardJavaFileManager fileManager = ToolProvider.getSystemJavaCompiler().getStandardFileManager(null, null, null);\n        return StreamSupport.stream(fileManager.list(StandardLocation.CLASS_PATH, pack, Collections.singleton(JavaFileObject.Kind.CLASS), false).spliterator(), false)\n                .map(javaFileObject -&gt; {\n                    try {\n                        final String[] split = javaFileObject.getName()\n                                .replace(\".class\", \"\")\n                                .replace(\")\", \"\")\n                                .split(Pattern.quote(File.separator));\n\n                        final String fullClassName = pack + \".\" + split[split.length - 1];\n                        return Class.forName(fullClassName);\n                    } catch (ClassNotFoundException e) {\n                        throw new RuntimeException(e);\n                    }\n\n                })\n                .collect(Collectors.toCollection(ArrayList::new));\n    }\n}\n</code></pre>\n\n<p><strong>Java 8 is not a must</strong>. You can use for loops instead of streams.\nAnd you can test it like this</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    final String pack = \"java.nio.file\"; // Or any other package\n    PackageUtil.getClasses(pack).stream().forEach(System.out::println);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1450191101,"creation_date":1450191101,"answer_id":34292253,"question_id":520328,"body_markdown":"&lt;sup&gt;Worth mentioning&lt;/sup&gt;\r\n\r\nIf you want to have a list of all classes under some package, you can use `Reflection` the following way:\r\n\r\n    List&lt;Class&gt; myTypes = new ArrayList&lt;&gt;();\r\n\r\n\tReflections reflections = new Reflections(&quot;com.package&quot;);\r\n    for (String s : reflections.getStore().get(SubTypesScanner.class).values()) {\r\n        myTypes.add(Class.forName(s));\r\n    }\r\n\r\nThis will create a list of classes that later you can use them as you wish.","title":"Can you find all classes in a package using reflection?","body":"<p><sup>Worth mentioning</sup></p>\n\n<p>If you want to have a list of all classes under some package, you can use <code>Reflection</code> the following way:</p>\n\n<pre><code>List&lt;Class&gt; myTypes = new ArrayList&lt;&gt;();\n\nReflections reflections = new Reflections(\"com.package\");\nfor (String s : reflections.getStore().get(SubTypesScanner.class).values()) {\n    myTypes.add(Class.forName(s));\n}\n</code></pre>\n\n<p>This will create a list of classes that later you can use them as you wish.</p>\n"},{"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1597138976,"creation_date":1469929696,"answer_id":38680038,"question_id":520328,"body_markdown":"The most robust mechanism for listing all classes in a given package is currently [ClassGraph][1], because it handles the [widest possible array of classpath specification mechanisms][2], including the new JPMS module system. (I am the author.)\r\n\r\n    List&lt;String&gt; classNames = new ArrayList&lt;&gt;();\r\n    try (ScanResult scanResult = new ClassGraph().acceptPackages(&quot;my.package&quot;)\r\n            .enableClassInfo().scan()) {\r\n        classNames.addAll(scanResult.getAllClasses().getNames());\r\n    }\r\n\r\n  [1]: https://github.com/classgraph/classgraph/wiki/Code-examples\r\n  [2]: https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\r\n","title":"Can you find all classes in a package using reflection?","body":"<p>The most robust mechanism for listing all classes in a given package is currently <a href=\"https://github.com/classgraph/classgraph/wiki/Code-examples\" rel=\"noreferrer\">ClassGraph</a>, because it handles the <a href=\"https://github.com/classgraph/classgraph/wiki/Classpath-Specification-Mechanisms\" rel=\"noreferrer\">widest possible array of classpath specification mechanisms</a>, including the new JPMS module system. (I am the author.)</p>\n<pre><code>List&lt;String&gt; classNames = new ArrayList&lt;&gt;();\ntry (ScanResult scanResult = new ClassGraph().acceptPackages(&quot;my.package&quot;)\n        .enableClassInfo().scan()) {\n    classNames.addAll(scanResult.getAllClasses().getNames());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1109288,"reputation":1653,"user_id":1100060,"accept_rate":0,"display_name":"Nathan B"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1471467263,"creation_date":1471467263,"answer_id":39006103,"question_id":520328,"body_markdown":"Here&#39;s how I do it. I scan all the subfolders (sub-packages) and I don&#39;t try to load anonymous classes:\r\n\r\n       /**\r\n       * Attempts to list all the classes in the specified package as determined\r\n       * by the context class loader, recursively, avoiding anonymous classes\r\n       * \r\n       * @param pckgname\r\n       *            the package name to search\r\n       * @return a list of classes that exist within that package\r\n       * @throws ClassNotFoundException\r\n       *             if something went wrong\r\n       */\r\n      private static List&lt;Class&gt; getClassesForPackage(String pckgname) throws ClassNotFoundException {\r\n          // This will hold a list of directories matching the pckgname. There may be more than one if a package is split over multiple jars/paths\r\n          ArrayList&lt;File&gt; directories = new ArrayList&lt;File&gt;();\r\n          String packageToPath = pckgname.replace(&#39;.&#39;, &#39;/&#39;);\r\n          try {\r\n              ClassLoader cld = Thread.currentThread().getContextClassLoader();\r\n              if (cld == null) {\r\n                  throw new ClassNotFoundException(&quot;Can&#39;t get class loader.&quot;);\r\n              }\r\n              \r\n              // Ask for all resources for the packageToPath\r\n              Enumeration&lt;URL&gt; resources = cld.getResources(packageToPath);\r\n              while (resources.hasMoreElements()) {\r\n                  directories.add(new File(URLDecoder.decode(resources.nextElement().getPath(), &quot;UTF-8&quot;)));\r\n              }\r\n          } catch (NullPointerException x) {\r\n              throw new ClassNotFoundException(pckgname + &quot; does not appear to be a valid package (Null pointer exception)&quot;);\r\n          } catch (UnsupportedEncodingException encex) {\r\n              throw new ClassNotFoundException(pckgname + &quot; does not appear to be a valid package (Unsupported encoding)&quot;);\r\n          } catch (IOException ioex) {\r\n              throw new ClassNotFoundException(&quot;IOException was thrown when trying to get all resources for &quot; + pckgname);\r\n          }\r\n\r\n          ArrayList&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\r\n          // For every directoryFile identified capture all the .class files\r\n          while (!directories.isEmpty()){\r\n              File directoryFile  = directories.remove(0);             \r\n              if (directoryFile.exists()) {\r\n                  // Get the list of the files contained in the package\r\n                  File[] files = directoryFile.listFiles();\r\n                  \r\n                  for (File file : files) {\r\n                      // we are only interested in .class files\r\n                      if ((file.getName().endsWith(&quot;.class&quot;)) &amp;&amp; (!file.getName().contains(&quot;$&quot;))) {\r\n                          // removes the .class extension\r\n                          int index = directoryFile.getPath().indexOf(packageToPath);\r\n                          String packagePrefix = directoryFile.getPath().substring(index).replace(&#39;/&#39;, &#39;.&#39;);;                          \r\n                        try {                  \r\n                          String className = packagePrefix + &#39;.&#39; + file.getName().substring(0, file.getName().length() - 6);                            \r\n                          classes.add(Class.forName(className));                                \r\n                        } catch (NoClassDefFoundError e)\r\n                        {\r\n                          // do nothing. this class hasn&#39;t been found by the loader, and we don&#39;t care.\r\n                        }\r\n                      } else if (file.isDirectory()){ // If we got to a subdirectory\r\n                          directories.add(new File(file.getPath()));                          \r\n                      }\r\n                  }\r\n              } else {\r\n                  throw new ClassNotFoundException(pckgname + &quot; (&quot; + directoryFile.getPath() + &quot;) does not appear to be a valid package&quot;);\r\n              }\r\n          }\r\n          return classes;\r\n      }  \r\n   ","title":"Can you find all classes in a package using reflection?","body":"<p>Here's how I do it. I scan all the subfolders (sub-packages) and I don't try to load anonymous classes:</p>\n\n<pre><code>   /**\n   * Attempts to list all the classes in the specified package as determined\n   * by the context class loader, recursively, avoiding anonymous classes\n   * \n   * @param pckgname\n   *            the package name to search\n   * @return a list of classes that exist within that package\n   * @throws ClassNotFoundException\n   *             if something went wrong\n   */\n  private static List&lt;Class&gt; getClassesForPackage(String pckgname) throws ClassNotFoundException {\n      // This will hold a list of directories matching the pckgname. There may be more than one if a package is split over multiple jars/paths\n      ArrayList&lt;File&gt; directories = new ArrayList&lt;File&gt;();\n      String packageToPath = pckgname.replace('.', '/');\n      try {\n          ClassLoader cld = Thread.currentThread().getContextClassLoader();\n          if (cld == null) {\n              throw new ClassNotFoundException(\"Can't get class loader.\");\n          }\n\n          // Ask for all resources for the packageToPath\n          Enumeration&lt;URL&gt; resources = cld.getResources(packageToPath);\n          while (resources.hasMoreElements()) {\n              directories.add(new File(URLDecoder.decode(resources.nextElement().getPath(), \"UTF-8\")));\n          }\n      } catch (NullPointerException x) {\n          throw new ClassNotFoundException(pckgname + \" does not appear to be a valid package (Null pointer exception)\");\n      } catch (UnsupportedEncodingException encex) {\n          throw new ClassNotFoundException(pckgname + \" does not appear to be a valid package (Unsupported encoding)\");\n      } catch (IOException ioex) {\n          throw new ClassNotFoundException(\"IOException was thrown when trying to get all resources for \" + pckgname);\n      }\n\n      ArrayList&lt;Class&gt; classes = new ArrayList&lt;Class&gt;();\n      // For every directoryFile identified capture all the .class files\n      while (!directories.isEmpty()){\n          File directoryFile  = directories.remove(0);             \n          if (directoryFile.exists()) {\n              // Get the list of the files contained in the package\n              File[] files = directoryFile.listFiles();\n\n              for (File file : files) {\n                  // we are only interested in .class files\n                  if ((file.getName().endsWith(\".class\")) &amp;&amp; (!file.getName().contains(\"$\"))) {\n                      // removes the .class extension\n                      int index = directoryFile.getPath().indexOf(packageToPath);\n                      String packagePrefix = directoryFile.getPath().substring(index).replace('/', '.');;                          \n                    try {                  \n                      String className = packagePrefix + '.' + file.getName().substring(0, file.getName().length() - 6);                            \n                      classes.add(Class.forName(className));                                \n                    } catch (NoClassDefFoundError e)\n                    {\n                      // do nothing. this class hasn't been found by the loader, and we don't care.\n                    }\n                  } else if (file.isDirectory()){ // If we got to a subdirectory\n                      directories.add(new File(file.getPath()));                          \n                  }\n              }\n          } else {\n              throw new ClassNotFoundException(pckgname + \" (\" + directoryFile.getPath() + \") does not appear to be a valid package\");\n          }\n      }\n      return classes;\n  }  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3378015,"reputation":991,"user_id":2835764,"accept_rate":75,"display_name":"Sujal Mandal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1538465335,"creation_date":1486551435,"answer_id":42111223,"question_id":520328,"body_markdown":"Yeah using few API&#39;s you can, here is how I like doing it, faced this problem which I was using hibernate core &amp; had to find classes which where annotated with a certain annotation.\r\n\r\n\r\nMake these an custom annotation using which you will mark which classes you want to be picked up.\r\n\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.TYPE)\r\n    public @interface EntityToBeScanned {\r\n    \r\n    }\r\n\r\n\r\nThen mark your class with it like\r\n\r\n    @EntityToBeScanned \r\n    public MyClass{\r\n    \r\n    }\r\n\r\nMake this utility class which has the following method\r\n\r\n    public class ClassScanner {\r\n    \t\r\n    \tpublic static Set&lt;Class&lt;?&gt;&gt; allFoundClassesAnnotatedWithEntityToBeScanned(){\r\n    \t\tReflections reflections = new Reflections(&quot;.*&quot;);\r\n    \t\tSet&lt;Class&lt;?&gt;&gt; annotated = reflections.getTypesAnnotatedWith(EntityToBeScanned.class);\r\n    \t\treturn annotated;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\nCall the **allFoundClassesAnnotatedWithEntityToBeScanned()** method to get a **Set** of Classes found.\r\n\r\nYou will need libs given below\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;21.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.javassist/javassist --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n        &lt;version&gt;3.22.0-CR1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.reflections/reflections --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.reflections&lt;/groupId&gt;\r\n        &lt;artifactId&gt;reflections&lt;/artifactId&gt;\r\n        &lt;version&gt;0.9.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Can you find all classes in a package using reflection?","body":"<p>Yeah using few API's you can, here is how I like doing it, faced this problem which I was using hibernate core &amp; had to find classes which where annotated with a certain annotation.</p>\n\n<p>Make these an custom annotation using which you will mark which classes you want to be picked up.</p>\n\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\npublic @interface EntityToBeScanned {\n\n}\n</code></pre>\n\n<p>Then mark your class with it like</p>\n\n<pre><code>@EntityToBeScanned \npublic MyClass{\n\n}\n</code></pre>\n\n<p>Make this utility class which has the following method</p>\n\n<pre><code>public class ClassScanner {\n\n    public static Set&lt;Class&lt;?&gt;&gt; allFoundClassesAnnotatedWithEntityToBeScanned(){\n        Reflections reflections = new Reflections(\".*\");\n        Set&lt;Class&lt;?&gt;&gt; annotated = reflections.getTypesAnnotatedWith(EntityToBeScanned.class);\n        return annotated;\n    }\n\n}\n</code></pre>\n\n<p>Call the <strong>allFoundClassesAnnotatedWithEntityToBeScanned()</strong> method to get a <strong>Set</strong> of Classes found.</p>\n\n<p>You will need libs given below</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;21.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.javassist/javassist --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n    &lt;version&gt;3.22.0-CR1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.reflections/reflections --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.reflections&lt;/groupId&gt;\n    &lt;artifactId&gt;reflections&lt;/artifactId&gt;\n    &lt;version&gt;0.9.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9429443,"reputation":449,"user_id":7013460,"display_name":"Muskovets"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495804002,"creation_date":1495804002,"answer_id":44202417,"question_id":520328,"body_markdown":"It is very possible, but without additional libraries like `Reflections` it is hard...  \r\nIt is hard because you haven&#39;t full instrument for get class name.  \r\nAnd, I take the code of my `ClassFinder` class:\r\n\r\n    package play.util;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.Enumeration;\r\n    import java.util.List;\r\n    import java.util.jar.JarEntry;\r\n    import java.util.jar.JarFile;\r\n    \r\n    /**\r\n     * Created by LINKOR on 26.05.2017 in 15:12.\r\n     * Date: 2017.05.26\r\n     */\r\n    public class FileClassFinder {\r\n    private JarFile file;\r\n    private boolean trouble;\r\n    public FileClassFinder(String filePath) {\r\n        try {\r\n            file = new JarFile(filePath);\r\n        } catch (IOException e) {\r\n            trouble = true;\r\n        }\r\n    }\r\n    \r\n    public List&lt;String&gt; findClasses(String pkg) {\r\n        ArrayList&lt;String&gt; classes = new ArrayList&lt;&gt;();\r\n        Enumeration&lt;JarEntry&gt; entries = file.entries();\r\n        while (entries.hasMoreElements()) {\r\n            JarEntry cls = entries.nextElement();\r\n            if (!cls.isDirectory()) {\r\n                String fileName = cls.getName();\r\n                String className = fileName.replaceAll(&quot;/&quot;,         &quot;.&quot;).replaceAll(File.pathSeparator, &quot;.&quot;).substring(0, fileName.lastIndexOf(&#39;.&#39;));\r\n                if (className.startsWith(pkg)) classes.add(className.substring(pkg.length() + 1));\r\n            }\r\n        }\r\n        return classes;\r\n    }\r\n    }\r\n\r\n","title":"Can you find all classes in a package using reflection?","body":"<p>It is very possible, but without additional libraries like <code>Reflections</code> it is hard...<br>\nIt is hard because you haven't full instrument for get class name.<br>\nAnd, I take the code of my <code>ClassFinder</code> class:</p>\n\n<pre><code>package play.util;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Enumeration;\nimport java.util.List;\nimport java.util.jar.JarEntry;\nimport java.util.jar.JarFile;\n\n/**\n * Created by LINKOR on 26.05.2017 in 15:12.\n * Date: 2017.05.26\n */\npublic class FileClassFinder {\nprivate JarFile file;\nprivate boolean trouble;\npublic FileClassFinder(String filePath) {\n    try {\n        file = new JarFile(filePath);\n    } catch (IOException e) {\n        trouble = true;\n    }\n}\n\npublic List&lt;String&gt; findClasses(String pkg) {\n    ArrayList&lt;String&gt; classes = new ArrayList&lt;&gt;();\n    Enumeration&lt;JarEntry&gt; entries = file.entries();\n    while (entries.hasMoreElements()) {\n        JarEntry cls = entries.nextElement();\n        if (!cls.isDirectory()) {\n            String fileName = cls.getName();\n            String className = fileName.replaceAll(\"/\",         \".\").replaceAll(File.pathSeparator, \".\").substring(0, fileName.lastIndexOf('.'));\n            if (className.startsWith(pkg)) classes.add(className.substring(pkg.length() + 1));\n        }\n    }\n    return classes;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7844898,"reputation":356,"user_id":5930295,"display_name":"Thorsten"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498717041,"creation_date":1498717041,"answer_id":44817646,"question_id":520328,"body_markdown":"[Aleksander Blomsk&#248;ld&#39;s solution][1] did not work for me for parameterized tests `@RunWith(Parameterized.class)` when using Maven. The tests were named correctly and also where found but not executed:\r\n\r\n    -------------------------------------------------------\r\n    T E S T S\r\n    -------------------------------------------------------\r\n    Running some.properly.named.test.run.with.maven.SomeTest\r\n    Tests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.123 sec\r\n\r\nA similar issue has been reported [here][2].\r\n\r\nIn my case `@Parameters` is creating instances of each class in a package. The tests worked well when run locally in the IDE. However, when running Maven no classes where found with Aleksander Blomsk&#248;ld&#39;s solution.\r\n\r\nI did make it work with the following snipped which was inspired by David P&#228;rsson&#39;s comment on Aleksander Blomsk&#248;ld&#39;s answer:\r\n\r\n    Reflections reflections = new Reflections(new ConfigurationBuilder()\r\n                .setScanners(new SubTypesScanner(false /* don&#39;t exclude Object.class */), new ResourcesScanner())\r\n                .addUrls(ClasspathHelper.forJavaClassPath()) \r\n                .filterInputsBy(new FilterBuilder()\r\n                .include(FilterBuilder.prefix(basePackage))));\r\n\r\n    Set&lt;Class&lt;?&gt;&gt; subTypesOf = reflections.getSubTypesOf(Object.class);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/9571146\r\n  [2]: https://stackoverflow.com/a/18450752/5930295","title":"Can you find all classes in a package using reflection?","body":"<p><a href=\"https://stackoverflow.com/a/9571146\">Aleksander Blomskøld's solution</a> did not work for me for parameterized tests <code>@RunWith(Parameterized.class)</code> when using Maven. The tests were named correctly and also where found but not executed:</p>\n\n<pre><code>-------------------------------------------------------\nT E S T S\n-------------------------------------------------------\nRunning some.properly.named.test.run.with.maven.SomeTest\nTests run: 0, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.123 sec\n</code></pre>\n\n<p>A similar issue has been reported <a href=\"https://stackoverflow.com/a/18450752/5930295\">here</a>.</p>\n\n<p>In my case <code>@Parameters</code> is creating instances of each class in a package. The tests worked well when run locally in the IDE. However, when running Maven no classes where found with Aleksander Blomskøld's solution.</p>\n\n<p>I did make it work with the following snipped which was inspired by David Pärsson's comment on Aleksander Blomskøld's answer:</p>\n\n<pre><code>Reflections reflections = new Reflections(new ConfigurationBuilder()\n            .setScanners(new SubTypesScanner(false /* don't exclude Object.class */), new ResourcesScanner())\n            .addUrls(ClasspathHelper.forJavaClassPath()) \n            .filterInputsBy(new FilterBuilder()\n            .include(FilterBuilder.prefix(basePackage))));\n\nSet&lt;Class&lt;?&gt;&gt; subTypesOf = reflections.getSubTypesOf(Object.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1735668,"reputation":1932,"user_id":1588303,"display_name":"Rodney P. Barbati"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1631289469,"creation_date":1507155770,"answer_id":46575084,"question_id":520328,"body_markdown":"If you are merely looking to load a group of related classes, then Spring can help you.\r\n\r\nSpring can instantiate a list or map of all classes that implement a given interface in one line of code. The list or map will contain instances of all the classes that implement that interface.\r\n\r\nThat being said, as an alternative to loading the list of classes out of the file system, instead just implement the same interface in all the classes you want to load, regardless of package and use Spring to provide you instances of all of them. That way, you can load (and instantiate) all the classes you desire regardless of what package they are in.\r\n\r\nOn the other hand, if having them all in a package is what you want, then simply have all the classes in that package implement a given interface.\r\n\r\nNote that the interface itself doesn&#39;t have to declare any methods - it can be completely empty.\r\n\r\nTo inject a list of classes implementing a given interface, use the following lines of code...\r\n\r\n      @Autowired\r\n      private List&lt;ISomeInterface&gt; implementationList;\r\n\r\nIt is also possible to inject a Map of classes using Spring.  Read the docs if interested to see how.\r\n\r\nFinally, I will offer one other solution that is a bit more elegant than searching the entire file system tree.\r\n\r\nCreate a custom annotation that builds a catalog of the classes to which it is applied - something like @ClassCatalog.\r\n","title":"Can you find all classes in a package using reflection?","body":"<p>If you are merely looking to load a group of related classes, then Spring can help you.</p>\n<p>Spring can instantiate a list or map of all classes that implement a given interface in one line of code. The list or map will contain instances of all the classes that implement that interface.</p>\n<p>That being said, as an alternative to loading the list of classes out of the file system, instead just implement the same interface in all the classes you want to load, regardless of package and use Spring to provide you instances of all of them. That way, you can load (and instantiate) all the classes you desire regardless of what package they are in.</p>\n<p>On the other hand, if having them all in a package is what you want, then simply have all the classes in that package implement a given interface.</p>\n<p>Note that the interface itself doesn't have to declare any methods - it can be completely empty.</p>\n<p>To inject a list of classes implementing a given interface, use the following lines of code...</p>\n<pre><code>  @Autowired\n  private List&lt;ISomeInterface&gt; implementationList;\n</code></pre>\n<p>It is also possible to inject a Map of classes using Spring.  Read the docs if interested to see how.</p>\n<p>Finally, I will offer one other solution that is a bit more elegant than searching the entire file system tree.</p>\n<p>Create a custom annotation that builds a catalog of the classes to which it is applied - something like @ClassCatalog.</p>\n"},{"tags":[],"owner":{"account_id":1611959,"reputation":3349,"user_id":1490636,"display_name":"Maksim Kostromin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558996752,"creation_date":1558992131,"answer_id":56332568,"question_id":520328,"body_markdown":"plain java: _FindAllClassesUsingPlainJavaReflectionTest.java_\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Slf4j\r\n    class FindAllClassesUsingPlainJavaReflectionTest {\r\n    \r\n      private static final Function&lt;Throwable, RuntimeException&gt; asRuntimeException = throwable -&gt; {\r\n        log.error(throwable.getLocalizedMessage());\r\n        return new RuntimeException(throwable);\r\n      };\r\n    \r\n      private static final Function&lt;String, Collection&lt;Class&lt;?&gt;&gt;&gt; findAllPackageClasses = basePackageName -&gt; {\r\n    \r\n        Locale locale = Locale.getDefault();\r\n        Charset charset = StandardCharsets.UTF_8;\r\n        val fileManager = ToolProvider.getSystemJavaCompiler()\r\n                                      .getStandardFileManager(/* diagnosticListener */ null, locale, charset);\r\n    \r\n        StandardLocation location = StandardLocation.CLASS_PATH;\r\n        JavaFileObject.Kind kind = JavaFileObject.Kind.CLASS;\r\n        Set&lt;JavaFileObject.Kind&gt; kinds = Collections.singleton(kind);\r\n        val javaFileObjects = Try.of(() -&gt; fileManager.list(location, basePackageName, kinds, /* recurse */ true))\r\n                                 .getOrElseThrow(asRuntimeException);\r\n    \r\n        String pathToPackageAndClass = basePackageName.replace(&quot;.&quot;, File.separator);\r\n        Function&lt;String, String&gt; mapToClassName = s -&gt; {\r\n          String prefix = Arrays.stream(s.split(pathToPackageAndClass))\r\n                                .findFirst()\r\n                                .orElse(&quot;&quot;);\r\n          return s.replaceFirst(prefix, &quot;&quot;)\r\n                  .replaceAll(File.separator, &quot;.&quot;);\r\n        };\r\n    \r\n        return StreamSupport.stream(javaFileObjects.spliterator(), /* parallel */ true)\r\n                            .filter(javaFileObject -&gt; javaFileObject.getKind().equals(kind))\r\n                            .map(FileObject::getName)\r\n                            .map(fileObjectName -&gt; fileObjectName.replace(&quot;.class&quot;, &quot;&quot;))\r\n                            .map(mapToClassName)\r\n                            .map(className -&gt; Try.of(() -&gt; Class.forName(className))\r\n                                                 .getOrElseThrow(asRuntimeException))\r\n                            .collect(Collectors.toList());\r\n      };\r\n    \r\n      @Test\r\n      @DisplayName(&quot;should get classes recursively in given package&quot;)\r\n      void test() {\r\n        Collection&lt;Class&lt;?&gt;&gt; classes = findAllPackageClasses.apply(getClass().getPackage().getName());\r\n        assertThat(classes).hasSizeGreaterThan(4);\r\n        classes.stream().map(String::valueOf).forEach(log::info);\r\n      }\r\n    }\r\n\r\nPS: to simplify boilerplates for handling errors, etc, I&#39;m using here `vavr` and `lombok` libraries\r\n\r\nother implementations could be found in [my GitHub daggerok/java-reflection-find-annotated-classes-or-methods repo][1]\r\n\r\n\r\n  [1]: https://github.com/daggerok/java-reflection-find-annotated-classes-or-methods/tree/master/src/test/java/com/github/daggerok","title":"Can you find all classes in a package using reflection?","body":"<p>plain java: <em>FindAllClassesUsingPlainJavaReflectionTest.java</em></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\nclass FindAllClassesUsingPlainJavaReflectionTest {\n\n  private static final Function&lt;Throwable, RuntimeException&gt; asRuntimeException = throwable -&gt; {\n    log.error(throwable.getLocalizedMessage());\n    return new RuntimeException(throwable);\n  };\n\n  private static final Function&lt;String, Collection&lt;Class&lt;?&gt;&gt;&gt; findAllPackageClasses = basePackageName -&gt; {\n\n    Locale locale = Locale.getDefault();\n    Charset charset = StandardCharsets.UTF_8;\n    val fileManager = ToolProvider.getSystemJavaCompiler()\n                                  .getStandardFileManager(/* diagnosticListener */ null, locale, charset);\n\n    StandardLocation location = StandardLocation.CLASS_PATH;\n    JavaFileObject.Kind kind = JavaFileObject.Kind.CLASS;\n    Set&lt;JavaFileObject.Kind&gt; kinds = Collections.singleton(kind);\n    val javaFileObjects = Try.of(() -&gt; fileManager.list(location, basePackageName, kinds, /* recurse */ true))\n                             .getOrElseThrow(asRuntimeException);\n\n    String pathToPackageAndClass = basePackageName.replace(\".\", File.separator);\n    Function&lt;String, String&gt; mapToClassName = s -&gt; {\n      String prefix = Arrays.stream(s.split(pathToPackageAndClass))\n                            .findFirst()\n                            .orElse(\"\");\n      return s.replaceFirst(prefix, \"\")\n              .replaceAll(File.separator, \".\");\n    };\n\n    return StreamSupport.stream(javaFileObjects.spliterator(), /* parallel */ true)\n                        .filter(javaFileObject -&gt; javaFileObject.getKind().equals(kind))\n                        .map(FileObject::getName)\n                        .map(fileObjectName -&gt; fileObjectName.replace(\".class\", \"\"))\n                        .map(mapToClassName)\n                        .map(className -&gt; Try.of(() -&gt; Class.forName(className))\n                                             .getOrElseThrow(asRuntimeException))\n                        .collect(Collectors.toList());\n  };\n\n  @Test\n  @DisplayName(\"should get classes recursively in given package\")\n  void test() {\n    Collection&lt;Class&lt;?&gt;&gt; classes = findAllPackageClasses.apply(getClass().getPackage().getName());\n    assertThat(classes).hasSizeGreaterThan(4);\n    classes.stream().map(String::valueOf).forEach(log::info);\n  }\n}\n</code></pre>\n\n<p>PS: to simplify boilerplates for handling errors, etc, I'm using here <code>vavr</code> and <code>lombok</code> libraries</p>\n\n<p>other implementations could be found in <a href=\"https://github.com/daggerok/java-reflection-find-annotated-classes-or-methods/tree/master/src/test/java/com/github/daggerok\" rel=\"nofollow noreferrer\">my GitHub daggerok/java-reflection-find-annotated-classes-or-methods repo</a></p>\n"},{"tags":[],"owner":{"display_name":"user4718768"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1573342571,"creation_date":1573243056,"answer_id":58773038,"question_id":520328,"body_markdown":"What about this:\r\n\r\n\tpublic static List&lt;Class&lt;?&gt;&gt; getClassesForPackage(final String pkgName) throws IOException, URISyntaxException {\r\n\t\tfinal String pkgPath = pkgName.replace(&#39;.&#39;, &#39;/&#39;);\r\n\t\tfinal URI pkg = Objects.requireNonNull(ClassLoader.getSystemClassLoader().getResource(pkgPath)).toURI();\r\n\t\tfinal ArrayList&lt;Class&lt;?&gt;&gt; allClasses = new ArrayList&lt;Class&lt;?&gt;&gt;();\r\n\r\n\t\tPath root;\r\n\t\tif (pkg.toString().startsWith(&quot;jar:&quot;)) {\r\n\t\t\ttry {\r\n\t\t\t\troot = FileSystems.getFileSystem(pkg).getPath(pkgPath);\r\n\t\t\t} catch (final FileSystemNotFoundException e) {\r\n\t\t\t\troot = FileSystems.newFileSystem(pkg, Collections.emptyMap()).getPath(pkgPath);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\troot = Paths.get(pkg);\r\n\t\t}\r\n\r\n\t\tfinal String extension = &quot;.class&quot;;\r\n\t\ttry (final Stream&lt;Path&gt; allPaths = Files.walk(root)) {\r\n\t\t\tallPaths.filter(Files::isRegularFile).forEach(file -&gt; {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfinal String path = file.toString().replace(&#39;/&#39;, &#39;.&#39;);\r\n\t\t\t\t\tfinal String name = path.substring(path.indexOf(pkgName), path.length() - extension.length());\r\n\t\t\t\t\tallClasses.add(Class.forName(name));\r\n\t\t\t\t} catch (final ClassNotFoundException | StringIndexOutOfBoundsException ignored) {\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn allClasses;\r\n\t}\r\n\r\nYou can then overload the function:\r\n\r\n\tpublic static List&lt;Class&lt;?&gt;&gt; getClassesForPackage(final Package pkg) throws IOException, URISyntaxException {\r\n\t\treturn getClassesForPackage(pkg.getName());\r\n\t}\r\n\r\nIf you need to test it:\r\n\r\n\tpublic static void main(final String[] argv) throws IOException, URISyntaxException {\r\n\t\tfor (final Class&lt;?&gt; cls : getClassesForPackage(&quot;my.package&quot;)) {\r\n\t\t\tSystem.out.println(cls);\r\n\t\t}\r\n\t\tfor (final Class&lt;?&gt; cls : getClassesForPackage(MyClass.class.getPackage())) {\r\n\t\t\tSystem.out.println(cls);\r\n\t\t}\r\n\t}\r\n\r\nIf your IDE does not have import helper:\r\n\r\n\timport java.io.IOException;\r\n\timport java.net.URI;\r\n\timport java.net.URISyntaxException;\r\n\timport java.nio.file.FileSystemNotFoundException;\r\n\timport java.nio.file.FileSystems;\r\n\timport java.nio.file.Files;\r\n\timport java.nio.file.Path;\r\n\timport java.nio.file.Paths;\r\n\timport java.util.ArrayList;\r\n\timport java.util.Collections;\r\n\timport java.util.List;\r\n\timport java.util.Objects;\r\n\timport java.util.stream.Stream;\r\n\r\nIt works:\r\n\r\n- from your IDE\r\n\r\n- for a JAR file\r\n\r\n- without external dependencies","title":"Can you find all classes in a package using reflection?","body":"<p>What about this:</p>\n\n<pre><code>public static List&lt;Class&lt;?&gt;&gt; getClassesForPackage(final String pkgName) throws IOException, URISyntaxException {\n    final String pkgPath = pkgName.replace('.', '/');\n    final URI pkg = Objects.requireNonNull(ClassLoader.getSystemClassLoader().getResource(pkgPath)).toURI();\n    final ArrayList&lt;Class&lt;?&gt;&gt; allClasses = new ArrayList&lt;Class&lt;?&gt;&gt;();\n\n    Path root;\n    if (pkg.toString().startsWith(\"jar:\")) {\n        try {\n            root = FileSystems.getFileSystem(pkg).getPath(pkgPath);\n        } catch (final FileSystemNotFoundException e) {\n            root = FileSystems.newFileSystem(pkg, Collections.emptyMap()).getPath(pkgPath);\n        }\n    } else {\n        root = Paths.get(pkg);\n    }\n\n    final String extension = \".class\";\n    try (final Stream&lt;Path&gt; allPaths = Files.walk(root)) {\n        allPaths.filter(Files::isRegularFile).forEach(file -&gt; {\n            try {\n                final String path = file.toString().replace('/', '.');\n                final String name = path.substring(path.indexOf(pkgName), path.length() - extension.length());\n                allClasses.add(Class.forName(name));\n            } catch (final ClassNotFoundException | StringIndexOutOfBoundsException ignored) {\n            }\n        });\n    }\n    return allClasses;\n}\n</code></pre>\n\n<p>You can then overload the function:</p>\n\n<pre><code>public static List&lt;Class&lt;?&gt;&gt; getClassesForPackage(final Package pkg) throws IOException, URISyntaxException {\n    return getClassesForPackage(pkg.getName());\n}\n</code></pre>\n\n<p>If you need to test it:</p>\n\n<pre><code>public static void main(final String[] argv) throws IOException, URISyntaxException {\n    for (final Class&lt;?&gt; cls : getClassesForPackage(\"my.package\")) {\n        System.out.println(cls);\n    }\n    for (final Class&lt;?&gt; cls : getClassesForPackage(MyClass.class.getPackage())) {\n        System.out.println(cls);\n    }\n}\n</code></pre>\n\n<p>If your IDE does not have import helper:</p>\n\n<pre><code>import java.io.IOException;\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.nio.file.FileSystemNotFoundException;\nimport java.nio.file.FileSystems;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.stream.Stream;\n</code></pre>\n\n<p>It works:</p>\n\n<ul>\n<li><p>from your IDE</p></li>\n<li><p>for a JAR file</p></li>\n<li><p>without external dependencies</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1897772,"reputation":4354,"user_id":1714329,"accept_rate":83,"display_name":"botenvouwer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655346447,"creation_date":1574070609,"answer_id":58911838,"question_id":520328,"body_markdown":"I couldn&#39;t find a short working snippet for something so simple. So here it is, I made it myself after screwing around for a while:\r\n\r\n    Reflections reflections =\r\n        new Reflections(new ConfigurationBuilder()\r\n                .filterInputsBy(new FilterBuilder().includePackage(packagePath))\r\n                .setUrls(ClasspathHelper.forPackage(packagePath))\r\n                .setScanners(new SubTypesScanner(false)));\r\n    \r\n    Set&lt;String&gt; typeList = reflections.getAllTypes();\r\nIt uses `org.reflections`.","title":"Can you find all classes in a package using reflection?","body":"<p>I couldn't find a short working snippet for something so simple. So here it is, I made it myself after screwing around for a while:</p>\n<pre><code>Reflections reflections =\n    new Reflections(new ConfigurationBuilder()\n            .filterInputsBy(new FilterBuilder().includePackage(packagePath))\n            .setUrls(ClasspathHelper.forPackage(packagePath))\n            .setScanners(new SubTypesScanner(false)));\n\nSet&lt;String&gt; typeList = reflections.getAllTypes();\n</code></pre>\n<p>It uses <code>org.reflections</code>.</p>\n"},{"tags":[],"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1588257982,"creation_date":1588256464,"answer_id":61525596,"question_id":520328,"body_markdown":"If you&#39;re in Spring-land you can use `PathMatchingResourcePatternResolver`;\r\n\r\n      PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\r\n      Resource[] resources = resolver.getResources(&quot;classpath*:some/package/name/*.class&quot;);\r\n\t\t\t\r\n\t\tArrays.asList(resources).forEach(r-&gt;{\r\n\t\t    ...\r\n\t\t});","title":"Can you find all classes in a package using reflection?","body":"<p>If you're in Spring-land you can use <code>PathMatchingResourcePatternResolver</code>;</p>\n\n<pre><code>  PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\n  Resource[] resources = resolver.getResources(\"classpath*:some/package/name/*.class\");\n\n    Arrays.asList(resources).forEach(r-&gt;{\n        ...\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2657838,"reputation":1407,"user_id":2298162,"display_name":"ognjenkl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649086045,"creation_date":1649086045,"answer_id":71739824,"question_id":520328,"body_markdown":"As of `org.reflections` version `0.10` :\r\n\r\n    org.reflections.scanners.SubTypesScanner \r\n\r\nand \r\n\r\n    org.reflections.Reflections.getAllTypes() \r\n\r\nare deprecated. I userd:\r\n\r\n   \r\n\r\n    public Set&lt;String&gt; getEntityNamesInPackage(String packagePath) {\r\n        Reflections reflections = new Reflections(new ConfigurationBuilder()\r\n                        .filterInputsBy(new FilterBuilder().includePackage(packagePath))\r\n                        .setUrls(ClasspathHelper.forPackage(packagePath))\r\n                        .setScanners(SubTypes.filterResultsBy(s -&gt; true)));\r\n    \r\n        return reflections.getAll(SubTypes).stream()\r\n                .filter(s -&gt; s.startsWith(packagePath))\r\n                .collect(Collectors.toSet());\r\n    }\r\n\r\n\r\n\r\n","title":"Can you find all classes in a package using reflection?","body":"<p>As of <code>org.reflections</code> version <code>0.10</code> :</p>\n<pre><code>org.reflections.scanners.SubTypesScanner \n</code></pre>\n<p>and</p>\n<pre><code>org.reflections.Reflections.getAllTypes() \n</code></pre>\n<p>are deprecated. I userd:</p>\n<pre><code>public Set&lt;String&gt; getEntityNamesInPackage(String packagePath) {\n    Reflections reflections = new Reflections(new ConfigurationBuilder()\n                    .filterInputsBy(new FilterBuilder().includePackage(packagePath))\n                    .setUrls(ClasspathHelper.forPackage(packagePath))\n                    .setScanners(SubTypes.filterResultsBy(s -&gt; true)));\n\n    return reflections.getAll(SubTypes).stream()\n            .filter(s -&gt; s.startsWith(packagePath))\n            .collect(Collectors.toSet());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24310333,"reputation":31,"user_id":18252455,"display_name":"Patrick Hechler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650366987,"creation_date":1650039810,"answer_id":71886472,"question_id":520328,"body_markdown":"this scans the class loaders and all parent loaders for jar files and directories.\r\nthe jar files and directories referred by the Class-Path of the jars are also loaded.\r\n\r\nthis code is testet with Java 8,11,18.\r\non 8 everything works perfectly using the URLClassLoader and the getURLs() method.\r\non 11 it works fine using reflections, but the JVM prints a warning on the stderr stream (not redirectible with System.setErr() with my JVM)\r\non 18 the reflections are useless (throws NoSuchMethod/Field), and the only thing (where I know that it works) is to use the getResource() method. When the class loader loades the resources of the given package from the file system a simple path url is returned. When the class loader loades the resources from a jar a url like &#39;jar:file:[jar-path]!/[in-jar-path]&#39; is returned.\r\n\r\nI have used the answer https://stackoverflow.com/a/1157352/18252455 (from a duplicate question) and added the functionality to read the Class-Path and also search for directory URLs.\r\n\r\n    /**\r\n     * orig description:&lt;br&gt;\r\n     * Scans all classloaders for the current thread for loaded jars, and then scans\r\n     * each jar for the package name in question, listing all classes directly under\r\n     * the package name in question. Assumes directory structure in jar file and class\r\n     * package naming follow java conventions (i.e. com.example.test.MyTest would be in\r\n     * /com/example/test/MyTest.class)\r\n     * &lt;p&gt;\r\n     * in addition this method also scans for directories, where also is assumed, that the classes are\r\n     * placed followed by the java conventions. (i.e. &lt;code&gt;com.example.test.MyTest&lt;/code&gt; would be in\r\n     * &lt;code&gt;directory/com/example/test/MyTest.class&lt;/code&gt;)\r\n     * &lt;p&gt;\r\n     * this method also reads the jars Class-Path for other jars and directories. for the jars and\r\n     * directories referred in the jars are scanned with the same rules as defined here.&lt;br&gt;\r\n     * it is ensured that no jar/directory is scanned exactly one time.\r\n     * &lt;p&gt;\r\n     * if {@code bailError} is &lt;code&gt;true&lt;/code&gt; all errors will be wrapped in a\r\n     * {@link RuntimeException}\r\n     * and then thrown.&lt;br&gt;\r\n     * a {@link RuntimeException} will also be thrown if something unexpected happens.&lt;br&gt;\r\n     * \r\n     * @param packageName\r\n     *            the name of the package for which the classes should be searched\r\n     * @param allowSubPackages\r\n     *            &lt;code&gt;true&lt;/code&gt; is also classes in sub packages should be found\r\n     * @param loader\r\n     *            the {@link ClassLoader} which should be used to find the URLs and to load classes\r\n     * @param bailError\r\n     *            if all {@link Exception} should be re-thrown wrapped in {@link RuntimeException} and\r\n     *            if a {@link RuntimeException} should be thrown, when something is not as expected.\r\n     * @see https://stackoverflow.com/questions/1156552/java-package-introspection\r\n     * @see https://stackoverflow.com/a/1157352/18252455\r\n     * @see https://creativecommons.org/licenses/by-sa/2.5/\r\n     * @see https://creativecommons.org/licenses/by-sa/2.5/legalcode\r\n     */\r\n    public static Set &lt;Class &lt;?&gt;&gt; tryGetClassesForPackage(String packageName, boolean allowSubPackages, ClassLoader loader, boolean bailError) {\r\n        Set &lt;URL&gt; jarUrls = new HashSet &lt;URL&gt;();\r\n        Set &lt;Path&gt; directorys = new HashSet &lt;Path&gt;();\r\n        findClassPools(loader, jarUrls, directorys, bailError, packageName);\r\n        Set &lt;Class &lt;?&gt;&gt; jarClasses = findJarClasses(allowSubPackages, packageName, jarUrls, directorys, loader, bailError);\r\n        Set &lt;Class &lt;?&gt;&gt; dirClasses = findDirClasses(allowSubPackages, packageName, directorys, loader, bailError);\r\n        jarClasses.addAll(dirClasses);\r\n        return jarClasses;\r\n    }\r\n    \r\n    private static Set &lt;Class &lt;?&gt;&gt; findDirClasses(boolean subPackages, String packageName, Set &lt;Path&gt; directorys, ClassLoader loader, boolean bailError) {\r\n        Filter &lt;Path&gt; filter;\r\n        Set &lt;Class &lt;?&gt;&gt; result = new HashSet &lt;&gt;();\r\n        for (Path startPath : directorys) {\r\n            String packagePath = packageName.replace(&quot;.&quot;, startPath.getFileSystem().getSeparator());\r\n            final Path searchPath = startPath.resolve(packagePath).toAbsolutePath();\r\n            if (subPackages) {\r\n                filter = p -&gt; {\r\n                    p = p.toAbsolutePath();\r\n                    Path other;\r\n                    if (p.getNameCount() &gt;= searchPath.getNameCount()) {\r\n                        other = searchPath;\r\n                    } else {\r\n                        other = searchPath.subpath(0, p.getNameCount());\r\n                    }\r\n                    if (p.startsWith(other)) {\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                };\r\n            } else {\r\n                filter = p -&gt; {\r\n                    p = p.toAbsolutePath();\r\n                    if (p.getNameCount() &gt; searchPath.getNameCount() + 1) {\r\n                        return false;\r\n                    } else if (p.toAbsolutePath().startsWith(searchPath)) {\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                };\r\n            }\r\n            if (Files.exists(searchPath)) {\r\n                findDirClassFilesRecursive(filter, searchPath, startPath, result, loader, bailError);\r\n            } // the package does not have to exist in every directory\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    private static void findDirClassFilesRecursive(Filter &lt;Path&gt; filter, Path path, Path start, Set &lt;Class &lt;?&gt;&gt; classes, ClassLoader loader, boolean bailError) {\r\n        try (DirectoryStream &lt;Path&gt; dirStream = Files.newDirectoryStream(path, filter)) {\r\n            for (Path p : dirStream) {\r\n                if (Files.isDirectory(p)) {\r\n                    findDirClassFilesRecursive(filter, p, start, classes, loader, bailError);\r\n                } else {\r\n                    Path subp = p.subpath(start.getNameCount(), p.getNameCount());\r\n                    String str = subp.toString();\r\n                    if (str.endsWith(&quot;.class&quot;)) {\r\n                        str = str.substring(0, str.length() - 6);\r\n                        String sep = p.getFileSystem().getSeparator();\r\n                        if (str.startsWith(sep)) {\r\n                            str = str.substring(sep.length());\r\n                        }\r\n                        if (str.endsWith(sep)) {\r\n                            str = str.substring(0, str.length() - sep.length());\r\n                        }\r\n                        String fullClassName = str.replace(sep, &quot;.&quot;);\r\n                        try {\r\n                            Class &lt;?&gt; cls = Class.forName(fullClassName, false, loader);\r\n                            classes.add(cls);\r\n                        } catch (ClassNotFoundException e) {\r\n                            if (bailError) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            if (bailError) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n    \r\n    private static Set &lt;Class &lt;?&gt;&gt; findJarClasses(boolean subPackages, String packageName, Set &lt;URL&gt; nextJarUrls, Set &lt;Path&gt; directories, ClassLoader loader, boolean bailError) {\r\n        String packagePath = packageName.replace(&#39;.&#39;, &#39;/&#39;);\r\n        Set &lt;Class &lt;?&gt;&gt; result = new HashSet &lt;&gt;();\r\n        Set &lt;URL&gt; allJarUrls = new HashSet &lt;&gt;();\r\n        while (true) {\r\n            Set &lt;URL&gt; thisJarUrls = new HashSet &lt;&gt;(nextJarUrls);\r\n            thisJarUrls.removeAll(allJarUrls);\r\n            if (thisJarUrls.isEmpty()) {\r\n                break;\r\n            }\r\n            allJarUrls.addAll(thisJarUrls);\r\n            for (URL url : thisJarUrls) {\r\n                try (JarInputStream stream = new JarInputStream(url.openStream())) {\r\n                    // may want better way to open url connections\r\n                    readJarClassPath(stream, nextJarUrls, directories, bailError);\r\n                    JarEntry entry = stream.getNextJarEntry();\r\n                    while (entry != null) {\r\n                        String name = entry.getName();\r\n                        int i = name.lastIndexOf(&quot;/&quot;);\r\n                        \r\n                        if (i &gt; 0 &amp;&amp; name.endsWith(&quot;.class&quot;)) {\r\n                            try {\r\n                                if (subPackages) {\r\n                                    if (name.substring(0, i).startsWith(packagePath)) {\r\n                                        Class &lt;?&gt; cls = Class.forName(name.substring(0, name.length() - 6).replace(&quot;/&quot;, &quot;.&quot;), false, loader);\r\n                                        result.add(cls);\r\n                                    }\r\n                                } else {\r\n                                    if (name.substring(0, i).equals(packagePath)) {\r\n                                        Class &lt;?&gt; cls = Class.forName(name.substring(0, name.length() - 6).replace(&quot;/&quot;, &quot;.&quot;), false, loader);\r\n                                        result.add(cls);\r\n                                    }\r\n                                }\r\n                            } catch (ClassNotFoundException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                        entry = stream.getNextJarEntry();\r\n                    }\r\n                    stream.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    private static void readJarClassPath(JarInputStream stream, Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directories, boolean bailError) {\r\n        Object classPathObj = stream.getManifest().getMainAttributes().get(new Name(&quot;Class-Path&quot;));\r\n        if (classPathObj == null) {\r\n            return;\r\n        }\r\n        if (classPathObj instanceof String) {\r\n            String[] entries = ((String) classPathObj).split(&quot;\\\\s+&quot;);// should also work with a single space (&quot; &quot;)\r\n            for (String entry : entries) {\r\n                try {\r\n                    URL url = new URL(entry);\r\n                    addFromUrl(jarUrls, directories, url, bailError);\r\n                } catch (MalformedURLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        } else if (bailError) {\r\n            throw new RuntimeException(&quot;the Class-Path attribute is no String: &quot; + classPathObj.getClass().getName() + &quot; tos=&#39;&quot; + classPathObj + &quot;&#39;&quot;);\r\n        }\r\n    }\r\n    \r\n    private static void findClassPools(ClassLoader classLoader, Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directoryPaths, boolean bailError, String packageName) {\r\n        packageName = packageName.replace(&#39;.&#39;, &#39;/&#39;);\r\n        while (classLoader != null) {\r\n            if (classLoader instanceof URLClassLoader) {\r\n                for (URL url : ((URLClassLoader) classLoader).getURLs()) {\r\n                    addFromUrl(jarUrls, directoryPaths, url, bailError);\r\n                    System.out.println(&quot;rurl-class-loade.url[n]r-&gt;&#39;&quot; + url + &quot;&#39;&quot;);\r\n                }\r\n            } else {\r\n                URL res = classLoader.getResource(&quot;&quot;);\r\n                if (res != null) {\r\n                    addFromUrl(jarUrls, directoryPaths, res, bailError);\r\n                }\r\n                res = classLoader.getResource(&quot;/&quot;);\r\n                if (res != null) {\r\n                    addFromUrl(jarUrls, directoryPaths, res, bailError);\r\n                }\r\n                res = classLoader.getResource(&quot;/&quot; + packageName);\r\n                if (res != null) {\r\n                    res = removePackageFromUrl(res, packageName, bailError);\r\n                    if (res != null) {\r\n                        addFromUrl(jarUrls, directoryPaths, res, bailError);\r\n                    }\r\n                }\r\n                res = classLoader.getResource(packageName);\r\n                if (res != null) {\r\n                    res = removePackageFromUrl(res, packageName, bailError);\r\n                    if (res != null) {\r\n                        addFromUrl(jarUrls, directoryPaths, res, bailError);\r\n                    }\r\n                }\r\n                addFromUnknownClass(classLoader, jarUrls, directoryPaths, bailError, 8);\r\n            }\r\n            classLoader = classLoader.getParent();\r\n        }\r\n    }\r\n    \r\n    private static URL removePackageFromUrl(URL res, String packagePath, boolean bailError) {\r\n        packagePath = &quot;/&quot; + packagePath;\r\n        String urlStr = res.toString();\r\n        if ( !urlStr.endsWith(packagePath)) {\r\n            if (bailError) {\r\n                throw new RuntimeException(&quot;the url string does not end with the packagepath! packagePath=&#39;&quot; + packagePath + &quot;&#39; urlStr=&#39;&quot; + urlStr + &quot;&#39;&quot;);\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n        urlStr = urlStr.substring(0, urlStr.length() - packagePath.length());\r\n        if (urlStr.endsWith(&quot;!&quot;)) {\r\n            urlStr = urlStr.substring(0, urlStr.length() - 1);\r\n        }\r\n        if (urlStr.startsWith(&quot;jar:&quot;)) {\r\n            urlStr = urlStr.substring(4);\r\n        }\r\n        try {\r\n            return new URL(urlStr);\r\n        } catch (MalformedURLException e) {\r\n            if (bailError) {\r\n                throw new RuntimeException(e);\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n    \r\n    private static void addFromUnknownClass(Object instance, Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directoryPaths, boolean bailError, int maxDeep) {\r\n        Class &lt;?&gt; cls = instance.getClass();\r\n        while (cls != null) {\r\n            Field[] fields = cls.getDeclaredFields();\r\n            for (Field field : fields) {\r\n                Class &lt;?&gt; type = field.getType();\r\n                Object value;\r\n                try {\r\n                    value = getValue(instance, field);\r\n                    if (value != null) {\r\n                        addFromUnknownValue(value, jarUrls, directoryPaths, bailError, type, field.getName(), maxDeep - 1);\r\n                    }\r\n                } catch (IllegalArgumentException | IllegalAccessException | SecurityException e) {\r\n                    if (bailError) {\r\n                        final String version = System.getProperty(&quot;java.version&quot;);\r\n                        String vers = version;\r\n                        if (vers.startsWith(&quot;1.&quot;)) {\r\n                            vers = vers.substring(2);\r\n                        }\r\n                        int dotindex = vers.indexOf(&#39;.&#39;);\r\n                        if (dotindex != -1) {\r\n                            vers = vers.substring(0, dotindex);\r\n                        }\r\n                        int versNum;\r\n                        try {\r\n                            versNum = Integer.parseInt(vers);\r\n                        } catch (NumberFormatException e1) {\r\n                            throw new RuntimeException(&quot;illegal version: &#39;&quot; + version + &quot;&#39; lastError: &quot; + e.getMessage(), e);\r\n                        }\r\n                        if (versNum &lt;= 11) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            cls = cls.getSuperclass();\r\n        }\r\n        \r\n    }\r\n    \r\n    private static Object getValue(Object instance, Field field) throws IllegalArgumentException, IllegalAccessException, SecurityException {\r\n        try {\r\n            boolean flag = field.isAccessible();\r\n            boolean newflag = flag;\r\n            try {\r\n                field.setAccessible(true);\r\n                newflag = true;\r\n            } catch (Exception e) {}\r\n            try {\r\n                return field.get(instance);\r\n            } finally {\r\n                if (flag != newflag) {\r\n                    field.setAccessible(flag);\r\n                }\r\n            }\r\n        } catch (IllegalArgumentException | IllegalAccessException | SecurityException e) {\r\n            try {\r\n                Field override = AccessibleObject.class.getDeclaredField(&quot;override&quot;);\r\n                boolean flag = override.isAccessible();\r\n                boolean newFlag = flag;\r\n                try {\r\n                    override.setAccessible(true);\r\n                    flag = true;\r\n                } catch (Exception s) {}\r\n                override.setBoolean(field, true);\r\n                if (flag != newFlag) {\r\n                    override.setAccessible(flag);\r\n                }\r\n                return field.get(instance);\r\n            } catch (IllegalArgumentException | IllegalAccessException | NoSuchFieldException | SecurityException e1) {\r\n                e.addSuppressed(e1);\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n    \r\n    private static void addFromUnknownValue(Object value, Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directoryPaths, boolean bailError, Class &lt;?&gt; type, String fieldName, int maxDeep) {\r\n        if (Collection.class.isAssignableFrom(type)) {\r\n            for (Object obj : (Collection &lt;?&gt;) value) {\r\n                URL url = null;\r\n                try {\r\n                    if (obj instanceof URL) {\r\n                        url = (URL) obj;\r\n                    } else if (obj instanceof Path) {\r\n                        url = ((Path) obj).toUri().toURL();\r\n                    } else if (obj instanceof File) {\r\n                        url = ((File) obj).toURI().toURL();\r\n                    }\r\n                } catch (MalformedURLException e) {\r\n                    if (bailError) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n                if (url != null) {\r\n                    addFromUrl(jarUrls, directoryPaths, url, bailError);\r\n                }\r\n            }\r\n        } else if (URL[].class.isAssignableFrom(type)) {\r\n            for (URL url : (URL[]) value) {\r\n                addFromUrl(jarUrls, directoryPaths, url, bailError);\r\n            }\r\n        } else if (Path[].class.isAssignableFrom(type)) {\r\n            for (Path path : (Path[]) value) {\r\n                try {\r\n                    addFromUrl(jarUrls, directoryPaths, path.toUri().toURL(), bailError);\r\n                } catch (MalformedURLException e) {\r\n                    if (bailError) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        } else if (File[].class.isAssignableFrom(type)) {\r\n            for (File file : (File[]) value) {\r\n                try {\r\n                    addFromUrl(jarUrls, directoryPaths, file.toURI().toURL(), bailError);\r\n                } catch (MalformedURLException e) {\r\n                    if (bailError) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        } else if (maxDeep &gt; 0) {\r\n            addFromUnknownClass(value, jarUrls, directoryPaths, bailError, maxDeep - 1);\r\n        }\r\n    }\r\n    \r\n    private static void addFromUrl(Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directoryPaths, URL url, boolean bailError) {\r\n        if (url.getFile().endsWith(&quot;.jar&quot;) || url.getFile().endsWith(&quot;.zip&quot;)) {\r\n            // may want better way to detect jar files\r\n            jarUrls.add(url);\r\n        } else {\r\n            try {\r\n                Path path = Paths.get(url.toURI());\r\n                if (Files.isDirectory(path)) {\r\n                    directoryPaths.add(path);\r\n                } else if (bailError) {\r\n                    throw new RuntimeException(&quot;unknown url for class loading: &quot; + url);\r\n                }\r\n            } catch (URISyntaxException e) {\r\n                if (bailError) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nimports:\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.lang.reflect.AccessibleObject;\r\n    import java.lang.reflect.Field;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URISyntaxException;\r\n    import java.net.URL;\r\n    import java.net.URLClassLoader;\r\n    import java.nio.file.DirectoryStream;\r\n    import java.nio.file.DirectoryStream.Filter;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.Collection;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import java.util.jar.Attributes.Name;\r\n    import java.util.jar.JarEntry;\r\n    import java.util.jar.JarInputStream;\r\n","title":"Can you find all classes in a package using reflection?","body":"<p>this scans the class loaders and all parent loaders for jar files and directories.\nthe jar files and directories referred by the Class-Path of the jars are also loaded.</p>\n<p>this code is testet with Java 8,11,18.\non 8 everything works perfectly using the URLClassLoader and the getURLs() method.\non 11 it works fine using reflections, but the JVM prints a warning on the stderr stream (not redirectible with System.setErr() with my JVM)\non 18 the reflections are useless (throws NoSuchMethod/Field), and the only thing (where I know that it works) is to use the getResource() method. When the class loader loades the resources of the given package from the file system a simple path url is returned. When the class loader loades the resources from a jar a url like 'jar:file:[jar-path]!/[in-jar-path]' is returned.</p>\n<p>I have used the answer <a href=\"https://stackoverflow.com/a/1157352/18252455\">https://stackoverflow.com/a/1157352/18252455</a> (from a duplicate question) and added the functionality to read the Class-Path and also search for directory URLs.</p>\n<pre><code>/**\n * orig description:&lt;br&gt;\n * Scans all classloaders for the current thread for loaded jars, and then scans\n * each jar for the package name in question, listing all classes directly under\n * the package name in question. Assumes directory structure in jar file and class\n * package naming follow java conventions (i.e. com.example.test.MyTest would be in\n * /com/example/test/MyTest.class)\n * &lt;p&gt;\n * in addition this method also scans for directories, where also is assumed, that the classes are\n * placed followed by the java conventions. (i.e. &lt;code&gt;com.example.test.MyTest&lt;/code&gt; would be in\n * &lt;code&gt;directory/com/example/test/MyTest.class&lt;/code&gt;)\n * &lt;p&gt;\n * this method also reads the jars Class-Path for other jars and directories. for the jars and\n * directories referred in the jars are scanned with the same rules as defined here.&lt;br&gt;\n * it is ensured that no jar/directory is scanned exactly one time.\n * &lt;p&gt;\n * if {@code bailError} is &lt;code&gt;true&lt;/code&gt; all errors will be wrapped in a\n * {@link RuntimeException}\n * and then thrown.&lt;br&gt;\n * a {@link RuntimeException} will also be thrown if something unexpected happens.&lt;br&gt;\n * \n * @param packageName\n *            the name of the package for which the classes should be searched\n * @param allowSubPackages\n *            &lt;code&gt;true&lt;/code&gt; is also classes in sub packages should be found\n * @param loader\n *            the {@link ClassLoader} which should be used to find the URLs and to load classes\n * @param bailError\n *            if all {@link Exception} should be re-thrown wrapped in {@link RuntimeException} and\n *            if a {@link RuntimeException} should be thrown, when something is not as expected.\n * @see https://stackoverflow.com/questions/1156552/java-package-introspection\n * @see https://stackoverflow.com/a/1157352/18252455\n * @see https://creativecommons.org/licenses/by-sa/2.5/\n * @see https://creativecommons.org/licenses/by-sa/2.5/legalcode\n */\npublic static Set &lt;Class &lt;?&gt;&gt; tryGetClassesForPackage(String packageName, boolean allowSubPackages, ClassLoader loader, boolean bailError) {\n    Set &lt;URL&gt; jarUrls = new HashSet &lt;URL&gt;();\n    Set &lt;Path&gt; directorys = new HashSet &lt;Path&gt;();\n    findClassPools(loader, jarUrls, directorys, bailError, packageName);\n    Set &lt;Class &lt;?&gt;&gt; jarClasses = findJarClasses(allowSubPackages, packageName, jarUrls, directorys, loader, bailError);\n    Set &lt;Class &lt;?&gt;&gt; dirClasses = findDirClasses(allowSubPackages, packageName, directorys, loader, bailError);\n    jarClasses.addAll(dirClasses);\n    return jarClasses;\n}\n\nprivate static Set &lt;Class &lt;?&gt;&gt; findDirClasses(boolean subPackages, String packageName, Set &lt;Path&gt; directorys, ClassLoader loader, boolean bailError) {\n    Filter &lt;Path&gt; filter;\n    Set &lt;Class &lt;?&gt;&gt; result = new HashSet &lt;&gt;();\n    for (Path startPath : directorys) {\n        String packagePath = packageName.replace(&quot;.&quot;, startPath.getFileSystem().getSeparator());\n        final Path searchPath = startPath.resolve(packagePath).toAbsolutePath();\n        if (subPackages) {\n            filter = p -&gt; {\n                p = p.toAbsolutePath();\n                Path other;\n                if (p.getNameCount() &gt;= searchPath.getNameCount()) {\n                    other = searchPath;\n                } else {\n                    other = searchPath.subpath(0, p.getNameCount());\n                }\n                if (p.startsWith(other)) {\n                    return true;\n                } else {\n                    return false;\n                }\n            };\n        } else {\n            filter = p -&gt; {\n                p = p.toAbsolutePath();\n                if (p.getNameCount() &gt; searchPath.getNameCount() + 1) {\n                    return false;\n                } else if (p.toAbsolutePath().startsWith(searchPath)) {\n                    return true;\n                } else {\n                    return false;\n                }\n            };\n        }\n        if (Files.exists(searchPath)) {\n            findDirClassFilesRecursive(filter, searchPath, startPath, result, loader, bailError);\n        } // the package does not have to exist in every directory\n    }\n    return result;\n}\n\nprivate static void findDirClassFilesRecursive(Filter &lt;Path&gt; filter, Path path, Path start, Set &lt;Class &lt;?&gt;&gt; classes, ClassLoader loader, boolean bailError) {\n    try (DirectoryStream &lt;Path&gt; dirStream = Files.newDirectoryStream(path, filter)) {\n        for (Path p : dirStream) {\n            if (Files.isDirectory(p)) {\n                findDirClassFilesRecursive(filter, p, start, classes, loader, bailError);\n            } else {\n                Path subp = p.subpath(start.getNameCount(), p.getNameCount());\n                String str = subp.toString();\n                if (str.endsWith(&quot;.class&quot;)) {\n                    str = str.substring(0, str.length() - 6);\n                    String sep = p.getFileSystem().getSeparator();\n                    if (str.startsWith(sep)) {\n                        str = str.substring(sep.length());\n                    }\n                    if (str.endsWith(sep)) {\n                        str = str.substring(0, str.length() - sep.length());\n                    }\n                    String fullClassName = str.replace(sep, &quot;.&quot;);\n                    try {\n                        Class &lt;?&gt; cls = Class.forName(fullClassName, false, loader);\n                        classes.add(cls);\n                    } catch (ClassNotFoundException e) {\n                        if (bailError) {\n                            throw new RuntimeException(e);\n                        }\n                    }\n                }\n            }\n        }\n    } catch (IOException e) {\n        if (bailError) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\nprivate static Set &lt;Class &lt;?&gt;&gt; findJarClasses(boolean subPackages, String packageName, Set &lt;URL&gt; nextJarUrls, Set &lt;Path&gt; directories, ClassLoader loader, boolean bailError) {\n    String packagePath = packageName.replace('.', '/');\n    Set &lt;Class &lt;?&gt;&gt; result = new HashSet &lt;&gt;();\n    Set &lt;URL&gt; allJarUrls = new HashSet &lt;&gt;();\n    while (true) {\n        Set &lt;URL&gt; thisJarUrls = new HashSet &lt;&gt;(nextJarUrls);\n        thisJarUrls.removeAll(allJarUrls);\n        if (thisJarUrls.isEmpty()) {\n            break;\n        }\n        allJarUrls.addAll(thisJarUrls);\n        for (URL url : thisJarUrls) {\n            try (JarInputStream stream = new JarInputStream(url.openStream())) {\n                // may want better way to open url connections\n                readJarClassPath(stream, nextJarUrls, directories, bailError);\n                JarEntry entry = stream.getNextJarEntry();\n                while (entry != null) {\n                    String name = entry.getName();\n                    int i = name.lastIndexOf(&quot;/&quot;);\n                    \n                    if (i &gt; 0 &amp;&amp; name.endsWith(&quot;.class&quot;)) {\n                        try {\n                            if (subPackages) {\n                                if (name.substring(0, i).startsWith(packagePath)) {\n                                    Class &lt;?&gt; cls = Class.forName(name.substring(0, name.length() - 6).replace(&quot;/&quot;, &quot;.&quot;), false, loader);\n                                    result.add(cls);\n                                }\n                            } else {\n                                if (name.substring(0, i).equals(packagePath)) {\n                                    Class &lt;?&gt; cls = Class.forName(name.substring(0, name.length() - 6).replace(&quot;/&quot;, &quot;.&quot;), false, loader);\n                                    result.add(cls);\n                                }\n                            }\n                        } catch (ClassNotFoundException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                    entry = stream.getNextJarEntry();\n                }\n                stream.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    return result;\n}\n\nprivate static void readJarClassPath(JarInputStream stream, Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directories, boolean bailError) {\n    Object classPathObj = stream.getManifest().getMainAttributes().get(new Name(&quot;Class-Path&quot;));\n    if (classPathObj == null) {\n        return;\n    }\n    if (classPathObj instanceof String) {\n        String[] entries = ((String) classPathObj).split(&quot;\\\\s+&quot;);// should also work with a single space (&quot; &quot;)\n        for (String entry : entries) {\n            try {\n                URL url = new URL(entry);\n                addFromUrl(jarUrls, directories, url, bailError);\n            } catch (MalformedURLException e) {\n                e.printStackTrace();\n            }\n        }\n    } else if (bailError) {\n        throw new RuntimeException(&quot;the Class-Path attribute is no String: &quot; + classPathObj.getClass().getName() + &quot; tos='&quot; + classPathObj + &quot;'&quot;);\n    }\n}\n\nprivate static void findClassPools(ClassLoader classLoader, Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directoryPaths, boolean bailError, String packageName) {\n    packageName = packageName.replace('.', '/');\n    while (classLoader != null) {\n        if (classLoader instanceof URLClassLoader) {\n            for (URL url : ((URLClassLoader) classLoader).getURLs()) {\n                addFromUrl(jarUrls, directoryPaths, url, bailError);\n                System.out.println(&quot;rurl-class-loade.url[n]r-&gt;'&quot; + url + &quot;'&quot;);\n            }\n        } else {\n            URL res = classLoader.getResource(&quot;&quot;);\n            if (res != null) {\n                addFromUrl(jarUrls, directoryPaths, res, bailError);\n            }\n            res = classLoader.getResource(&quot;/&quot;);\n            if (res != null) {\n                addFromUrl(jarUrls, directoryPaths, res, bailError);\n            }\n            res = classLoader.getResource(&quot;/&quot; + packageName);\n            if (res != null) {\n                res = removePackageFromUrl(res, packageName, bailError);\n                if (res != null) {\n                    addFromUrl(jarUrls, directoryPaths, res, bailError);\n                }\n            }\n            res = classLoader.getResource(packageName);\n            if (res != null) {\n                res = removePackageFromUrl(res, packageName, bailError);\n                if (res != null) {\n                    addFromUrl(jarUrls, directoryPaths, res, bailError);\n                }\n            }\n            addFromUnknownClass(classLoader, jarUrls, directoryPaths, bailError, 8);\n        }\n        classLoader = classLoader.getParent();\n    }\n}\n\nprivate static URL removePackageFromUrl(URL res, String packagePath, boolean bailError) {\n    packagePath = &quot;/&quot; + packagePath;\n    String urlStr = res.toString();\n    if ( !urlStr.endsWith(packagePath)) {\n        if (bailError) {\n            throw new RuntimeException(&quot;the url string does not end with the packagepath! packagePath='&quot; + packagePath + &quot;' urlStr='&quot; + urlStr + &quot;'&quot;);\n        } else {\n            return null;\n        }\n    }\n    urlStr = urlStr.substring(0, urlStr.length() - packagePath.length());\n    if (urlStr.endsWith(&quot;!&quot;)) {\n        urlStr = urlStr.substring(0, urlStr.length() - 1);\n    }\n    if (urlStr.startsWith(&quot;jar:&quot;)) {\n        urlStr = urlStr.substring(4);\n    }\n    try {\n        return new URL(urlStr);\n    } catch (MalformedURLException e) {\n        if (bailError) {\n            throw new RuntimeException(e);\n        } else {\n            return null;\n        }\n    }\n}\n\nprivate static void addFromUnknownClass(Object instance, Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directoryPaths, boolean bailError, int maxDeep) {\n    Class &lt;?&gt; cls = instance.getClass();\n    while (cls != null) {\n        Field[] fields = cls.getDeclaredFields();\n        for (Field field : fields) {\n            Class &lt;?&gt; type = field.getType();\n            Object value;\n            try {\n                value = getValue(instance, field);\n                if (value != null) {\n                    addFromUnknownValue(value, jarUrls, directoryPaths, bailError, type, field.getName(), maxDeep - 1);\n                }\n            } catch (IllegalArgumentException | IllegalAccessException | SecurityException e) {\n                if (bailError) {\n                    final String version = System.getProperty(&quot;java.version&quot;);\n                    String vers = version;\n                    if (vers.startsWith(&quot;1.&quot;)) {\n                        vers = vers.substring(2);\n                    }\n                    int dotindex = vers.indexOf('.');\n                    if (dotindex != -1) {\n                        vers = vers.substring(0, dotindex);\n                    }\n                    int versNum;\n                    try {\n                        versNum = Integer.parseInt(vers);\n                    } catch (NumberFormatException e1) {\n                        throw new RuntimeException(&quot;illegal version: '&quot; + version + &quot;' lastError: &quot; + e.getMessage(), e);\n                    }\n                    if (versNum &lt;= 11) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n        }\n        cls = cls.getSuperclass();\n    }\n    \n}\n\nprivate static Object getValue(Object instance, Field field) throws IllegalArgumentException, IllegalAccessException, SecurityException {\n    try {\n        boolean flag = field.isAccessible();\n        boolean newflag = flag;\n        try {\n            field.setAccessible(true);\n            newflag = true;\n        } catch (Exception e) {}\n        try {\n            return field.get(instance);\n        } finally {\n            if (flag != newflag) {\n                field.setAccessible(flag);\n            }\n        }\n    } catch (IllegalArgumentException | IllegalAccessException | SecurityException e) {\n        try {\n            Field override = AccessibleObject.class.getDeclaredField(&quot;override&quot;);\n            boolean flag = override.isAccessible();\n            boolean newFlag = flag;\n            try {\n                override.setAccessible(true);\n                flag = true;\n            } catch (Exception s) {}\n            override.setBoolean(field, true);\n            if (flag != newFlag) {\n                override.setAccessible(flag);\n            }\n            return field.get(instance);\n        } catch (IllegalArgumentException | IllegalAccessException | NoSuchFieldException | SecurityException e1) {\n            e.addSuppressed(e1);\n            throw e;\n        }\n    }\n}\n\nprivate static void addFromUnknownValue(Object value, Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directoryPaths, boolean bailError, Class &lt;?&gt; type, String fieldName, int maxDeep) {\n    if (Collection.class.isAssignableFrom(type)) {\n        for (Object obj : (Collection &lt;?&gt;) value) {\n            URL url = null;\n            try {\n                if (obj instanceof URL) {\n                    url = (URL) obj;\n                } else if (obj instanceof Path) {\n                    url = ((Path) obj).toUri().toURL();\n                } else if (obj instanceof File) {\n                    url = ((File) obj).toURI().toURL();\n                }\n            } catch (MalformedURLException e) {\n                if (bailError) {\n                    throw new RuntimeException(e);\n                }\n            }\n            if (url != null) {\n                addFromUrl(jarUrls, directoryPaths, url, bailError);\n            }\n        }\n    } else if (URL[].class.isAssignableFrom(type)) {\n        for (URL url : (URL[]) value) {\n            addFromUrl(jarUrls, directoryPaths, url, bailError);\n        }\n    } else if (Path[].class.isAssignableFrom(type)) {\n        for (Path path : (Path[]) value) {\n            try {\n                addFromUrl(jarUrls, directoryPaths, path.toUri().toURL(), bailError);\n            } catch (MalformedURLException e) {\n                if (bailError) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }\n    } else if (File[].class.isAssignableFrom(type)) {\n        for (File file : (File[]) value) {\n            try {\n                addFromUrl(jarUrls, directoryPaths, file.toURI().toURL(), bailError);\n            } catch (MalformedURLException e) {\n                if (bailError) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }\n    } else if (maxDeep &gt; 0) {\n        addFromUnknownClass(value, jarUrls, directoryPaths, bailError, maxDeep - 1);\n    }\n}\n\nprivate static void addFromUrl(Set &lt;URL&gt; jarUrls, Set &lt;Path&gt; directoryPaths, URL url, boolean bailError) {\n    if (url.getFile().endsWith(&quot;.jar&quot;) || url.getFile().endsWith(&quot;.zip&quot;)) {\n        // may want better way to detect jar files\n        jarUrls.add(url);\n    } else {\n        try {\n            Path path = Paths.get(url.toURI());\n            if (Files.isDirectory(path)) {\n                directoryPaths.add(path);\n            } else if (bailError) {\n                throw new RuntimeException(&quot;unknown url for class loading: &quot; + url);\n            }\n        } catch (URISyntaxException e) {\n            if (bailError) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>imports:</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.lang.reflect.AccessibleObject;\nimport java.lang.reflect.Field;\nimport java.net.MalformedURLException;\nimport java.net.URISyntaxException;\nimport java.net.URL;\nimport java.net.URLClassLoader;\nimport java.nio.file.DirectoryStream;\nimport java.nio.file.DirectoryStream.Filter;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Collection;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.jar.Attributes.Name;\nimport java.util.jar.JarEntry;\nimport java.util.jar.JarInputStream;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24411678,"reputation":173,"user_id":18339056,"display_name":"lost.sof"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652144064,"creation_date":1652141150,"answer_id":72179391,"question_id":520328,"body_markdown":"### Define classes to be scanning in the package `test`\r\n```java\r\npackage test;\r\n\r\npublic class A {\r\n  private class B {}\r\n\r\n  enum C {}\r\n\r\n  record D() {}\r\n}\r\n```\r\n\r\n### For `org.reflections:reflections:0.10.2`, it works for me as follows:\r\n\r\n### Use reflection lib to scan classes in package `test`\r\n```java\r\n@Test\r\nvoid t() {\r\n  final String packagePath = &quot;test&quot;;\r\n  final Reflections reflections =\r\n    new Reflections(packagePath, Scanners.SubTypes.filterResultsBy(v -&gt; true));\r\n  reflections.getAll(Scanners.SubTypes).forEach(System.out::println);\r\n}\r\n```\r\n\r\n### Output\r\n```\r\njava.lang.constant.Constable\r\njava.lang.Enum\r\njava.lang.Comparable\r\njava.lang.Record\r\njava.lang.Object\r\njava.io.Serializable\r\ntest.A$C\r\ntest.A$D\r\ntest.A$B\r\ntest.A\r\n```\r\n\r\n### For `io.github.classgraph:classgraph:4.8.146`, it works for me as follows:\r\n\r\n```java\r\n\r\n@Test\r\nvoid t() {\r\n  final String packagePath = &quot;test&quot;;\r\n  try (ScanResult scanResult = new ClassGraph()\r\n    .enableClassInfo()\r\n    .ignoreClassVisibility()\r\n    .acceptPackages(packagePath)\r\n    .scan()) {\r\n    \r\n    scanResult.getAllClasses()\r\n      .forEach(v -&gt; {\r\n        System.out.println(v.getName());\r\n      });\r\n  }\r\n}\r\n```\r\n\r\n### Output\r\n```\r\ntest.A\r\ntest.A$B\r\ntest.A$C\r\ntest.A$D\r\n```","title":"Can you find all classes in a package using reflection?","body":"<h3>Define classes to be scanning in the package <code>test</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>package test;\n\npublic class A {\n  private class B {}\n\n  enum C {}\n\n  record D() {}\n}\n</code></pre>\n<h3>For <code>org.reflections:reflections:0.10.2</code>, it works for me as follows:</h3>\n<h3>Use reflection lib to scan classes in package <code>test</code></h3>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid t() {\n  final String packagePath = &quot;test&quot;;\n  final Reflections reflections =\n    new Reflections(packagePath, Scanners.SubTypes.filterResultsBy(v -&gt; true));\n  reflections.getAll(Scanners.SubTypes).forEach(System.out::println);\n}\n</code></pre>\n<h3>Output</h3>\n<pre><code>java.lang.constant.Constable\njava.lang.Enum\njava.lang.Comparable\njava.lang.Record\njava.lang.Object\njava.io.Serializable\ntest.A$C\ntest.A$D\ntest.A$B\ntest.A\n</code></pre>\n<h3>For <code>io.github.classgraph:classgraph:4.8.146</code>, it works for me as follows:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Test\nvoid t() {\n  final String packagePath = &quot;test&quot;;\n  try (ScanResult scanResult = new ClassGraph()\n    .enableClassInfo()\n    .ignoreClassVisibility()\n    .acceptPackages(packagePath)\n    .scan()) {\n    \n    scanResult.getAllClasses()\n      .forEach(v -&gt; {\n        System.out.println(v.getName());\n      });\n  }\n}\n</code></pre>\n<h3>Output</h3>\n<pre><code>test.A\ntest.A$B\ntest.A$C\ntest.A$D\n</code></pre>\n"}],"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517554,"favorite_count":0,"down_vote_count":0,"up_vote_count":644,"accepted_answer_id":520339,"answer_count":29,"score":644,"last_activity_date":1680179359,"creation_date":1233927796,"question_id":520328,"body_markdown":"Is it possible to find all classes or interfaces in a given package? (Quickly looking at e.g. [`Package`](http://java.sun.com/javase/6/docs/api/java/lang/Package.html), it would seem like no.)","title":"Can you find all classes in a package using reflection?","body":"<p>Is it possible to find all classes or interfaces in a given package? (Quickly looking at e.g. <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Package.html\" rel=\"noreferrer\"><code>Package</code></a>, it would seem like no.)</p>\n"},{"tags":["java","io","inputstream","outputstream"],"answers":[{"tags":[],"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1259729810,"creation_date":1259729508,"answer_id":1830719,"question_id":1830698,"body_markdown":"you read from an InputStream and write to an OutputStream.\r\n\r\nfor example, say you want to copy a file. You would create a FileInputStream to read from the source file and a FileOutputStream to write to the new file.\r\n\r\nIf your data is a character stream, you could use a FileReader instead of an InputStream and a FileWriter instead of an OutputStream if you prefer.\r\n\r\n    InputStream input = ... // many different types\r\n    OutputStream output = ... // many different types\r\n    \r\n    byte[] buffer = new byte[1024];\r\n    int n = 0;\r\n    while ((n = input.read(buffer)) != -1)\r\n    \toutput.write(buffer, 0, n);\r\n    \r\n    input.close();\r\n    output.close();","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p>you read from an InputStream and write to an OutputStream.</p>\n\n<p>for example, say you want to copy a file. You would create a FileInputStream to read from the source file and a FileOutputStream to write to the new file.</p>\n\n<p>If your data is a character stream, you could use a FileReader instead of an InputStream and a FileWriter instead of an OutputStream if you prefer.</p>\n\n<pre><code>InputStream input = ... // many different types\nOutputStream output = ... // many different types\n\nbyte[] buffer = new byte[1024];\nint n = 0;\nwhile ((n = input.read(buffer)) != -1)\n    output.write(buffer, 0, n);\n\ninput.close();\noutput.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1259729697,"creation_date":1259729697,"answer_id":1830733,"question_id":1830698,"body_markdown":"OutputStream is an abstract class that represents writing output.  There are many different OutputStream classes, and they write out to certain things (like the screen, or Files, or byte arrays, or network connections, or etc).  InputStream classes access the same things, but they read data in from them.\r\n\r\nHere is [a good basic example][1] of using FileOutputStream and FileInputStream to write data to a file, then read it back in.\r\n\r\n\r\n  [1]: http://www.javacoffeebreak.com/java103/java103.html","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p>OutputStream is an abstract class that represents writing output.  There are many different OutputStream classes, and they write out to certain things (like the screen, or Files, or byte arrays, or network connections, or etc).  InputStream classes access the same things, but they read data in from them.</p>\n\n<p>Here is <a href=\"http://www.javacoffeebreak.com/java103/java103.html\" rel=\"noreferrer\">a good basic example</a> of using FileOutputStream and FileInputStream to write data to a file, then read it back in.</p>\n"},{"tags":[],"owner":{"account_id":72519,"reputation":7464,"user_id":209359,"display_name":"Chip Uni"},"down_vote_count":0,"up_vote_count":240,"is_accepted":true,"score":240,"last_activity_date":1503833127,"creation_date":1259730737,"answer_id":1830783,"question_id":1830698,"body_markdown":"The goal of `InputStream` and `OutputStream` is to abstract different ways to input and output: whether the stream is a file, a web page, or the screen shouldn&#39;t matter.  All that matters is that you receive information from the stream (or send information into that stream.)\r\n\r\n`InputStream` is used for many things that you read from.\r\n\r\n`OutputStream` is used for many things that you write to.\r\n\r\nHere&#39;s some sample code. It assumes the `InputStream instr` and `OutputStream osstr` have already been created:\r\n\r\n    int i;\r\n\r\n    while ((i = instr.read()) != -1) {\r\n        osstr.write(i);\r\n    }\r\n\r\n    instr.close();\r\n    osstr.close();","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p>The goal of <code>InputStream</code> and <code>OutputStream</code> is to abstract different ways to input and output: whether the stream is a file, a web page, or the screen shouldn't matter.  All that matters is that you receive information from the stream (or send information into that stream.)</p>\n\n<p><code>InputStream</code> is used for many things that you read from.</p>\n\n<p><code>OutputStream</code> is used for many things that you write to.</p>\n\n<p>Here's some sample code. It assumes the <code>InputStream instr</code> and <code>OutputStream osstr</code> have already been created:</p>\n\n<pre><code>int i;\n\nwhile ((i = instr.read()) != -1) {\n    osstr.write(i);\n}\n\ninstr.close();\nosstr.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70734,"reputation":14669,"user_id":204845,"accept_rate":68,"display_name":"Arne Deutsch"},"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1474921959,"creation_date":1259733981,"answer_id":1830948,"question_id":1830698,"body_markdown":"InputStream is used for reading, OutputStream for writing. They are connected as decorators to one another such that you can read/write all different types of data from all different types of sources.\r\n\r\nFor example, you can write primitive data to a file:\r\n\r\n    File file = new File(&quot;C:/text.bin&quot;);\r\n    file.createNewFile();\r\n    DataOutputStream stream = new DataOutputStream(new FileOutputStream(file));\r\n    stream.writeBoolean(true);\r\n    stream.writeInt(1234);\r\n    stream.close();\r\n\r\nTo read the written contents:\r\n\r\n    File file = new File(&quot;C:/text.bin&quot;);\r\n    DataInputStream stream = new DataInputStream(new FileInputStream(file));\r\n    boolean isTrue = stream.readBoolean();\r\n    int value = stream.readInt();\r\n    stream.close();\r\n    System.out.printlin(isTrue + &quot; &quot; + value);\r\n\r\nYou can use other types of streams to enhance the reading/writing. For example, you can introduce a buffer for efficiency:\r\n\r\n    DataInputStream stream = new DataInputStream(\r\n        new BufferedInputStream(new FileInputStream(file)));\r\n\r\nYou can write other data such as objects:\r\n\r\n    MyClass myObject = new MyClass(); // MyClass have to implement Serializable\r\n    ObjectOutputStream stream = new ObjectOutputStream(\r\n        new FileOutputStream(&quot;C:/text.obj&quot;));\r\n    stream.writeObject(myObject);\r\n    stream.close();\r\n\r\nYou can read from other different input sources:\r\n\r\n    byte[] test = new byte[] {0, 0, 1, 0, 0, 0, 1, 1, 8, 9};\r\n    DataInputStream stream = new DataInputStream(new ByteArrayInputStream(test));\r\n    int value0 = stream.readInt();\r\n    int value1 = stream.readInt();\r\n    byte value2 = stream.readByte();\r\n    byte value3 = stream.readByte();\r\n    stream.close();\r\n    System.out.println(value0 + &quot; &quot; + value1 + &quot; &quot; + value2 + &quot; &quot; + value3);\r\n\r\nFor most input streams there is an output stream, also. You can define your own streams to reading/writing special things and there are complex streams for reading complex things (for example there are Streams for reading/writing ZIP format).","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p>InputStream is used for reading, OutputStream for writing. They are connected as decorators to one another such that you can read/write all different types of data from all different types of sources.</p>\n\n<p>For example, you can write primitive data to a file:</p>\n\n<pre><code>File file = new File(\"C:/text.bin\");\nfile.createNewFile();\nDataOutputStream stream = new DataOutputStream(new FileOutputStream(file));\nstream.writeBoolean(true);\nstream.writeInt(1234);\nstream.close();\n</code></pre>\n\n<p>To read the written contents:</p>\n\n<pre><code>File file = new File(\"C:/text.bin\");\nDataInputStream stream = new DataInputStream(new FileInputStream(file));\nboolean isTrue = stream.readBoolean();\nint value = stream.readInt();\nstream.close();\nSystem.out.printlin(isTrue + \" \" + value);\n</code></pre>\n\n<p>You can use other types of streams to enhance the reading/writing. For example, you can introduce a buffer for efficiency:</p>\n\n<pre><code>DataInputStream stream = new DataInputStream(\n    new BufferedInputStream(new FileInputStream(file)));\n</code></pre>\n\n<p>You can write other data such as objects:</p>\n\n<pre><code>MyClass myObject = new MyClass(); // MyClass have to implement Serializable\nObjectOutputStream stream = new ObjectOutputStream(\n    new FileOutputStream(\"C:/text.obj\"));\nstream.writeObject(myObject);\nstream.close();\n</code></pre>\n\n<p>You can read from other different input sources:</p>\n\n<pre><code>byte[] test = new byte[] {0, 0, 1, 0, 0, 0, 1, 1, 8, 9};\nDataInputStream stream = new DataInputStream(new ByteArrayInputStream(test));\nint value0 = stream.readInt();\nint value1 = stream.readInt();\nbyte value2 = stream.readByte();\nbyte value3 = stream.readByte();\nstream.close();\nSystem.out.println(value0 + \" \" + value1 + \" \" + value2 + \" \" + value3);\n</code></pre>\n\n<p>For most input streams there is an output stream, also. You can define your own streams to reading/writing special things and there are complex streams for reading complex things (for example there are Streams for reading/writing ZIP format).</p>\n"},{"tags":[],"owner":{"account_id":11084550,"reputation":9,"user_id":8138760,"display_name":"Deep Arora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498318943,"creation_date":1498317627,"answer_id":44737922,"question_id":1830698,"body_markdown":"An output stream is generally related to some data destination like a file or a network etc.In java output stream is a destination where data is eventually written and it ends\r\n\r\n\r\n\r\n\r\n    import java.io.printstream;\r\n\r\n    class PPrint {\r\n        static PPrintStream oout = new PPrintStream();\r\n    }\r\n\r\n    class PPrintStream {\r\n        void print(String str) { \r\n            System.out.println(str)\r\n        }\r\n    }\r\n\r\n    class outputstreamDemo {\r\n        public static void main(String args[]) {\r\n            System.out.println(&quot;hello world&quot;);\r\n            System.out.prinln(&quot;this is output stream demo&quot;);\r\n        }\r\n    }\r\n\r\n","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p>An output stream is generally related to some data destination like a file or a network etc.In java output stream is a destination where data is eventually written and it ends</p>\n\n<pre><code>import java.io.printstream;\n\nclass PPrint {\n    static PPrintStream oout = new PPrintStream();\n}\n\nclass PPrintStream {\n    void print(String str) { \n        System.out.println(str)\n    }\n}\n\nclass outputstreamDemo {\n    public static void main(String args[]) {\n        System.out.println(\"hello world\");\n        System.out.prinln(\"this is output stream demo\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8064165,"reputation":121,"user_id":6078867,"display_name":"Sher Mohammad"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1510721142,"creation_date":1510721142,"answer_id":47299511,"question_id":1830698,"body_markdown":"&lt;p&gt;&lt;b&gt;Stream&lt;/b&gt;: In laymen terms stream is data , most generic stream is binary representation of data.&lt;/p&gt;\n&lt;p&gt; \n&lt;b&gt;Input Stream&lt;/b&gt; : If you are reading data from a file or any other source , stream used is input stream. In a simpler terms input stream acts as a channel to read data. \n&lt;/p&gt;\n\n&lt;p&gt;\n&lt;b&gt;Output Stream&lt;/b&gt; : If you want to read and process data from a source (file etc) you first need to save the data , the mean to store data is output stream . \n&lt;/p&gt;","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p><b>Stream</b>: In laymen terms stream is data , most generic stream is binary representation of data.</p>\n<p> \n<b>Input Stream</b> : If you are reading data from a file or any other source , stream used is input stream. In a simpler terms input stream acts as a channel to read data. \n</p>\n<p>\n<b>Output Stream</b> : If you want to read and process data from a source (file etc) you first need to save the data , the mean to store data is output stream . \n</p>\n"},{"tags":[],"owner":{"account_id":2283646,"reputation":11117,"user_id":2008247,"accept_rate":77,"display_name":"Jan Bodnar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1575023259,"creation_date":1513607409,"answer_id":47870584,"question_id":1830698,"body_markdown":"&gt; A stream is a continuous flow of liquid, air, or gas.\r\n\r\nJava stream is a flow of data from a source into a destination. The source or destination can be a disk, memory, socket, or other programs. The data can be bytes, characters, or objects. The same applies for C# or C++ streams. A good metaphor for Java streams is water flowing from a tap into a bathtub and later into a drainage.\r\n\r\nThe data represents the static part of the stream; the read and write methods the dynamic part of the stream. \r\n\r\n`InputStream` represents a flow of data from the source, the `OutputStream` represents a flow of data into the destination.\r\nFinally, `InputStream` and `OutputStream` are abstractions over low-level access to data, such as C file pointers.","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<blockquote>\n  <p>A stream is a continuous flow of liquid, air, or gas.</p>\n</blockquote>\n\n<p>Java stream is a flow of data from a source into a destination. The source or destination can be a disk, memory, socket, or other programs. The data can be bytes, characters, or objects. The same applies for C# or C++ streams. A good metaphor for Java streams is water flowing from a tap into a bathtub and later into a drainage.</p>\n\n<p>The data represents the static part of the stream; the read and write methods the dynamic part of the stream. </p>\n\n<p><code>InputStream</code> represents a flow of data from the source, the <code>OutputStream</code> represents a flow of data into the destination.\nFinally, <code>InputStream</code> and <code>OutputStream</code> are abstractions over low-level access to data, such as C file pointers.</p>\n"},{"tags":[],"owner":{"account_id":21021471,"reputation":21,"user_id":15447713,"display_name":"bjmd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616379748,"creation_date":1616368414,"answer_id":66738542,"question_id":1830698,"body_markdown":"For one kind of InputStream, you can think of it as a &quot;representation&quot; of a data source, like a file.\r\nFor example:\r\n\r\n    FileInputStream fileInputStream = new FileInputStream(&quot;/path/to/file/abc.txt&quot;);\r\n\r\nfileInputStream represents the data in this path, which you can use read method to read bytes from the file.\r\n\r\nFor the other kind of InputStream, they take in another inputStream and do further processing, like decompression.\r\nFor example:\r\n\r\n    GZIPInputStream gzipInputStream = new GZIPInputStream(fileInputStream);\r\n\r\ngzipInputStream will treat the fileInputStream as a compressed data source. When you use the read(buffer, 0, buffer.length) method, it will decompress part of the gzip file into the buffer you provide.\r\n\r\nThe reason why we use InputStream because as the data in the source becomes larger and larger, say we have 500GB data in the source file, we don&#39;t want to hold everything in the memory (expensive machine; not friendly for GC allocation), and we want to get some result faster (reading the whole file may take a long time).\r\n\r\nThe same thing for OutputStream. We can start moving some result to the destination without waiting for the whole thing to finish, plus less memory consumption.\r\n\r\nIf you want more explanations and examples, you have check these summaries: [InputStream][1], [OutputStream][2], [How To Use InputStream][3], [How To Use OutputStream][4]\r\n\r\n\r\n  [1]: https://coderfoobar.com/what-is-a-java-inputstream/\r\n  [2]: https://coderfoobar.com/what-is-a-java-outputstream/\r\n  [3]: https://coderfoobar.com/how-to-write-efficient-code-using-java-inputstream/\r\n  [4]: https://coderfoobar.com/how-to-write-efficient-code-using-java-outputstream/","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p>For one kind of InputStream, you can think of it as a &quot;representation&quot; of a data source, like a file.\nFor example:</p>\n<pre><code>FileInputStream fileInputStream = new FileInputStream(&quot;/path/to/file/abc.txt&quot;);\n</code></pre>\n<p>fileInputStream represents the data in this path, which you can use read method to read bytes from the file.</p>\n<p>For the other kind of InputStream, they take in another inputStream and do further processing, like decompression.\nFor example:</p>\n<pre><code>GZIPInputStream gzipInputStream = new GZIPInputStream(fileInputStream);\n</code></pre>\n<p>gzipInputStream will treat the fileInputStream as a compressed data source. When you use the read(buffer, 0, buffer.length) method, it will decompress part of the gzip file into the buffer you provide.</p>\n<p>The reason why we use InputStream because as the data in the source becomes larger and larger, say we have 500GB data in the source file, we don't want to hold everything in the memory (expensive machine; not friendly for GC allocation), and we want to get some result faster (reading the whole file may take a long time).</p>\n<p>The same thing for OutputStream. We can start moving some result to the destination without waiting for the whole thing to finish, plus less memory consumption.</p>\n<p>If you want more explanations and examples, you have check these summaries: <a href=\"https://coderfoobar.com/what-is-a-java-inputstream/\" rel=\"nofollow noreferrer\">InputStream</a>, <a href=\"https://coderfoobar.com/what-is-a-java-outputstream/\" rel=\"nofollow noreferrer\">OutputStream</a>, <a href=\"https://coderfoobar.com/how-to-write-efficient-code-using-java-inputstream/\" rel=\"nofollow noreferrer\">How To Use InputStream</a>, <a href=\"https://coderfoobar.com/how-to-write-efficient-code-using-java-outputstream/\" rel=\"nofollow noreferrer\">How To Use OutputStream</a></p>\n"},{"tags":[],"owner":{"account_id":13483389,"reputation":497,"user_id":9727918,"display_name":"lingar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625685076,"creation_date":1625685076,"answer_id":68291870,"question_id":1830698,"body_markdown":"In continue to the great other answers, in my simple words: \r\n\r\n**Stream** - like mentioned @Sher Mohammad is data. \r\n\r\n**Input** stream - for example is to get input – data – from the file. The case is when I have a file (the user upload a file – input) – and I want to read what we have there.\r\n \r\n**Output** Stream – is the vice versa. For example  – you are generating an excel file, and output it to some place.\r\n \r\nThe “how to write” to the file, is defined at the sender (the excel workbook class) not at the file output stream. \r\n\r\nSee [here][1] example in this context.\r\n\r\n    try (OutputStream fileOut = new FileOutputStream(&quot;xssf-align.xlsx&quot;)) {\r\n        wb.write(fileOut);\r\n    }\r\n    wb.close();\r\n\r\n\r\n\r\n  [1]: https://poi.apache.org/components/spreadsheet/quick-guide.html","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p>In continue to the great other answers, in my simple words:</p>\n<p><strong>Stream</strong> - like mentioned @Sher Mohammad is data.</p>\n<p><strong>Input</strong> stream - for example is to get input – data – from the file. The case is when I have a file (the user upload a file – input) – and I want to read what we have there.</p>\n<p><strong>Output</strong> Stream – is the vice versa. For example  – you are generating an excel file, and output it to some place.</p>\n<p>The “how to write” to the file, is defined at the sender (the excel workbook class) not at the file output stream.</p>\n<p>See <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html\" rel=\"nofollow noreferrer\">here</a> example in this context.</p>\n<pre><code>try (OutputStream fileOut = new FileOutputStream(&quot;xssf-align.xlsx&quot;)) {\n    wb.write(fileOut);\n}\nwb.close();\n</code></pre>\n"}],"owner":{"account_id":879814,"reputation":5997,"user_id":199525,"accept_rate":100,"display_name":"Bohemian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281072,"favorite_count":0,"down_vote_count":1,"up_vote_count":322,"accepted_answer_id":1830783,"answer_count":9,"score":321,"last_activity_date":1680179325,"creation_date":1259729040,"question_id":1830698,"body_markdown":"Someone explain to me what `InputStream` and `OutputStream` are?\r\n\r\nI am confused about the use cases for both `InputStream` and `OutputStream`.\r\n\r\nIf you could also include a snippet of code to go along with your explanation, that would be great. Thanks!","title":"What is InputStream &amp; Output Stream? Why and when do we use them?","body":"<p>Someone explain to me what <code>InputStream</code> and <code>OutputStream</code> are?</p>\n\n<p>I am confused about the use cases for both <code>InputStream</code> and <code>OutputStream</code>.</p>\n\n<p>If you could also include a snippet of code to go along with your explanation, that would be great. Thanks!</p>\n"},{"tags":["java","eclipse","plugins","eclipse-plugin"],"owner":{"account_id":20798008,"reputation":181,"user_id":15274669,"display_name":"majixin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680179299,"creation_date":1679662333,"question_id":75833893,"body_markdown":"I have reviewed the older questions around creating projects programmatically within Eclipse, which I need to do from a plugin. Essentially the scenario is source project is downloaded to disk, then needs to be loaded in to the IDE without user intervention.\r\n\r\nThe only user intervention is the user decides where the project will go on disk, and that means they can choose any folder, including one in the Eclipse workspace. The source code the user downloads is placed in the target folder ***BEFORE*** calling the code below. The downloaded source code has never been loaded in an Eclipse environment beforehand, so the download target is simply the source root folder.\r\n\r\nThe code works for importing projects that are located outside the workspace. I use the ```createProject``` function to get an ```IProject``` reference, then pass this to the ```importProject``` function. This works as long as the target folder is outside the workspace.\r\n\r\nIf trying to use this code to import in to the workspace folder ```newProject.create(newProjectDescription, monitor)``` will throw the exception ```org.eclipse.core.internal.resources.ResourceException: Invalid project description.```\r\n\r\nI know that when importing from outside the Eclipse workspace, Eclipse itself will want to create a project folder within the workspace for project settings/tracking, which will essentially have the same project name. So if trying to do this inside the workspace, the tracking folder Eclipse wants to create will already exist - it would be where the user downloaded code to. That is, &lt;workspace&gt;\\&lt;projectName&gt; would be the same folder the user specified as where the downloaded project will reside.\r\n\r\nAgain, my question is what needs to change to enable the code to work for any new folder location, whether inside or outside the Eclipse workspace?\r\n\r\nNOTE: A potential gotcha is that the ```projectName``` passed to ```createProject``` is intended to be the displayed name of the project in Eclipse&#39;s project explorer tab when it creates a suitable node there. The folder Eclipse creates in the workspace is based on this - it&#39;s used to form the project description passed to the ```newProject.create(newProjectDescription, monitor)``` line. Maybe I just need to ensure the project folder and ```projectName``` don&#39;t match when the user-specified folder if within the workspace and find a means to silently do something to allow the code to continue, but I&#39;m not sure this is always going to be enough. I&#39;m hoping somebody who understands more about how Eclipse manages the workspace can give insight to making this code much more flexible and robust.\r\n\r\n```\r\n    private IProject createProject(String projectPath, String projectName, IProgressMonitor monitor) {\r\n        IWorkspace workspace = ResourcesPlugin.getWorkspace();\r\n        IProject newProject = null;\r\n        IProjectDescription newProjectDescription = workspace.newProjectDescription(projectName);\r\n        newProjectDescription.setLocation(Path.fromOSString(projectPath));\r\n\t\tnewProject = workspace.getRoot().getProject(projectName);\r\n\t\ttry {\r\n\t\t\tnewProject.create(newProjectDescription, monitor);\r\n\t\t} catch (CoreException ex) {\r\n\t\t\t// &lt;snipped&gt; Log the error\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n        try {\r\n            newProject.open(monitor);\r\n        } catch (CoreException e) {\r\n            // &lt;snipped&gt; Log the error\r\n            return null;\r\n        }\r\n        return newProject;  // may be null\r\n    }\r\n\t\r\n    private boolean importProject(File projectFolder, IProject newProject, IProgressMonitor monitor) {\r\n        ImportOperation importOperation = new ImportOperation(newProject.getFullPath(), projectFolder,FileSystemStructureProvider.INSTANCE, pathString -&gt; IOverwriteQuery.ALL);\r\n        importOperation.setCreateContainerStructure(false);\r\n        try {\r\n            importOperation.run(monitor);\r\n\t\t\treturn true;\r\n        } catch (InvocationTargetException e) {\r\n            // &lt;snipped&gt; Log the error\r\n        } catch (InterruptedException e) {\r\n            // &lt;snipped&gt; Log the error\r\n        }\r\n        return false;\r\n    }\r\n```\r\n\r\n**UPDATE:**\r\n\r\nThe ```importProject``` function is not required to get a folder on disk loaded as a project in the IDE. As far as creating the code using a project name that reports ```Invalid project description```, the **cause** is actually that the project is indeed a duplicate with the same name previously loaded in to Eclipse (and so also the following location). So within \r\n\r\n```&lt;eclipse-workspace&gt;\\.metadata\\.plugins\\org.eclipse.core.resources\\.projects```\r\n\r\n... there is indeed a matching folder for the name of the project I am trying to create in the IDE.\r\n\r\nI have solved this as one might expect - doing the appropriate checks in code before trying to create the project, and making the user aware and able to decide on a remedy.\r\n\r\nI no longer need any answer for this question, but I will leave it here with the code in case it helps anybody.\r\n","title":"Programmatic creation of Eclipse project in the Eclipse workspace","body":"<p>I have reviewed the older questions around creating projects programmatically within Eclipse, which I need to do from a plugin. Essentially the scenario is source project is downloaded to disk, then needs to be loaded in to the IDE without user intervention.</p>\n<p>The only user intervention is the user decides where the project will go on disk, and that means they can choose any folder, including one in the Eclipse workspace. The source code the user downloads is placed in the target folder <em><strong>BEFORE</strong></em> calling the code below. The downloaded source code has never been loaded in an Eclipse environment beforehand, so the download target is simply the source root folder.</p>\n<p>The code works for importing projects that are located outside the workspace. I use the <code>createProject</code> function to get an <code>IProject</code> reference, then pass this to the <code>importProject</code> function. This works as long as the target folder is outside the workspace.</p>\n<p>If trying to use this code to import in to the workspace folder <code>newProject.create(newProjectDescription, monitor)</code> will throw the exception <code>org.eclipse.core.internal.resources.ResourceException: Invalid project description.</code></p>\n<p>I know that when importing from outside the Eclipse workspace, Eclipse itself will want to create a project folder within the workspace for project settings/tracking, which will essentially have the same project name. So if trying to do this inside the workspace, the tracking folder Eclipse wants to create will already exist - it would be where the user downloaded code to. That is, &lt;projectName&gt; would be the same folder the user specified as where the downloaded project will reside.</p>\n<p>Again, my question is what needs to change to enable the code to work for any new folder location, whether inside or outside the Eclipse workspace?</p>\n<p>NOTE: A potential gotcha is that the <code>projectName</code> passed to <code>createProject</code> is intended to be the displayed name of the project in Eclipse's project explorer tab when it creates a suitable node there. The folder Eclipse creates in the workspace is based on this - it's used to form the project description passed to the <code>newProject.create(newProjectDescription, monitor)</code> line. Maybe I just need to ensure the project folder and <code>projectName</code> don't match when the user-specified folder if within the workspace and find a means to silently do something to allow the code to continue, but I'm not sure this is always going to be enough. I'm hoping somebody who understands more about how Eclipse manages the workspace can give insight to making this code much more flexible and robust.</p>\n<pre><code>    private IProject createProject(String projectPath, String projectName, IProgressMonitor monitor) {\n        IWorkspace workspace = ResourcesPlugin.getWorkspace();\n        IProject newProject = null;\n        IProjectDescription newProjectDescription = workspace.newProjectDescription(projectName);\n        newProjectDescription.setLocation(Path.fromOSString(projectPath));\n        newProject = workspace.getRoot().getProject(projectName);\n        try {\n            newProject.create(newProjectDescription, monitor);\n        } catch (CoreException ex) {\n            // &lt;snipped&gt; Log the error\n            return null;\n        }\n\n        try {\n            newProject.open(monitor);\n        } catch (CoreException e) {\n            // &lt;snipped&gt; Log the error\n            return null;\n        }\n        return newProject;  // may be null\n    }\n    \n    private boolean importProject(File projectFolder, IProject newProject, IProgressMonitor monitor) {\n        ImportOperation importOperation = new ImportOperation(newProject.getFullPath(), projectFolder,FileSystemStructureProvider.INSTANCE, pathString -&gt; IOverwriteQuery.ALL);\n        importOperation.setCreateContainerStructure(false);\n        try {\n            importOperation.run(monitor);\n            return true;\n        } catch (InvocationTargetException e) {\n            // &lt;snipped&gt; Log the error\n        } catch (InterruptedException e) {\n            // &lt;snipped&gt; Log the error\n        }\n        return false;\n    }\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p>The <code>importProject</code> function is not required to get a folder on disk loaded as a project in the IDE. As far as creating the code using a project name that reports <code>Invalid project description</code>, the <strong>cause</strong> is actually that the project is indeed a duplicate with the same name previously loaded in to Eclipse (and so also the following location). So within</p>\n<p><code>&lt;eclipse-workspace&gt;\\.metadata\\.plugins\\org.eclipse.core.resources\\.projects</code></p>\n<p>... there is indeed a matching folder for the name of the project I am trying to create in the IDE.</p>\n<p>I have solved this as one might expect - doing the appropriate checks in code before trying to create the project, and making the user aware and able to decide on a remedy.</p>\n<p>I no longer need any answer for this question, but I will leave it here with the code in case it helps anybody.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1680181150,"post_id":75888135,"comment_id":133856791,"body_markdown":"Looks like the call to the API has been omitted, so basic idea would be to mock the multiple calls to the API.  For example: `when(api.getPagedResults(1, ...)).thenReturn(getPage1MockResults());` and `when(api.getPagedResults(2, ...)).thenReturn(getPage2MockResults());`","body":"Looks like the call to the API has been omitted, so basic idea would be to mock the multiple calls to the API.  For example: <code>when(api.getPagedResults(1, ...)).thenReturn(getPage1MockResults());</code> and <code>when(api.getPagedResults(2, ...)).thenReturn(getPage2MockResults());</code>"}],"owner":{"account_id":7770850,"reputation":502,"user_id":5880486,"display_name":"erondem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680179077,"creation_date":1680178397,"question_id":75888135,"body_markdown":"In a function, I am making API calls to fetch all the results from an API that has pagination. How can I write a unit test for that? The one-page result is easy but when there are multiple pages how can I mock this response? \r\n\r\n\r\n    @Data\r\n    public class PaginatedJiraBase&lt;T&gt; {\r\n    \r\n        int maxResults;\r\n        int startAt;\r\n        int total;\r\n        @JsonProperty(value = &quot;isLast&quot;)\r\n        boolean isLast;\r\n        @JsonAlias({&quot;values&quot;, &quot;issues&quot;})\r\n        List&lt;T&gt; values;\r\n    }\r\n\r\nAPI uses the `isLast` field and until isLast is false, I am making API call in a loop.\r\n\r\n\r\n \r\n\r\n       public PaginatedJiraBase&lt;SprintDetail&gt; getSprintsByBoardId(Integer boardId, Integer size) {\r\n            PaginatedJiraBase&lt;SprintDetail&gt; paginatedJiraBase = getPaginatedSprintsByBoardId(boardId);\r\n    \r\n            List&lt;SprintDetail&gt; sortedSprints = paginatedJiraBase.getValues().stream()\r\n                    .sorted(Comparator.comparing(SprintDetail::getEndDate).reversed())\r\n                    .limit(size)\r\n                    .collect(Collectors.toList());\r\n    \r\n            paginatedJiraBase.setValues(sortedSprints);\r\n            return paginatedJiraBase;\r\n    \r\n        }\r\n    \r\n        private PaginatedJiraBase&lt;SprintDetail&gt; getPaginatedSprintsByBoardId(Integer boardId) {\r\n            var responseDTO = new PaginatedJiraBase&lt;SprintDetail&gt;();\r\n            responseDTO.setLast(false);\r\n            responseDTO.setValues(new ArrayList&lt;&gt;());\r\n    \r\n            var startAt = 0;\r\n            // Get sprints as if they are 50 items on a page\r\n            while (!responseDTO.isLast()) {\r\n                var newResponse = jiraServerRestClient.getSprintsByBoardId(boardId, startAt, null, &quot;closed,active&quot;);\r\n                responseDTO.getValues().addAll(newResponse.getValues());\r\n                responseDTO.setLast(newResponse.isLast());\r\n                startAt += 50;\r\n            }\r\n    \r\n            responseDTO.setTotal(responseDTO.getValues().size());\r\n            return responseDTO;\r\n        }","title":"How to write unit test a function that has multiple rest call for paginated response?","body":"<p>In a function, I am making API calls to fetch all the results from an API that has pagination. How can I write a unit test for that? The one-page result is easy but when there are multiple pages how can I mock this response?</p>\n<pre><code>@Data\npublic class PaginatedJiraBase&lt;T&gt; {\n\n    int maxResults;\n    int startAt;\n    int total;\n    @JsonProperty(value = &quot;isLast&quot;)\n    boolean isLast;\n    @JsonAlias({&quot;values&quot;, &quot;issues&quot;})\n    List&lt;T&gt; values;\n}\n</code></pre>\n<p>API uses the <code>isLast</code> field and until isLast is false, I am making API call in a loop.</p>\n<pre><code>   public PaginatedJiraBase&lt;SprintDetail&gt; getSprintsByBoardId(Integer boardId, Integer size) {\n        PaginatedJiraBase&lt;SprintDetail&gt; paginatedJiraBase = getPaginatedSprintsByBoardId(boardId);\n\n        List&lt;SprintDetail&gt; sortedSprints = paginatedJiraBase.getValues().stream()\n                .sorted(Comparator.comparing(SprintDetail::getEndDate).reversed())\n                .limit(size)\n                .collect(Collectors.toList());\n\n        paginatedJiraBase.setValues(sortedSprints);\n        return paginatedJiraBase;\n\n    }\n\n    private PaginatedJiraBase&lt;SprintDetail&gt; getPaginatedSprintsByBoardId(Integer boardId) {\n        var responseDTO = new PaginatedJiraBase&lt;SprintDetail&gt;();\n        responseDTO.setLast(false);\n        responseDTO.setValues(new ArrayList&lt;&gt;());\n\n        var startAt = 0;\n        // Get sprints as if they are 50 items on a page\n        while (!responseDTO.isLast()) {\n            var newResponse = jiraServerRestClient.getSprintsByBoardId(boardId, startAt, null, &quot;closed,active&quot;);\n            responseDTO.getValues().addAll(newResponse.getValues());\n            responseDTO.setLast(newResponse.isLast());\n            startAt += 50;\n        }\n\n        responseDTO.setTotal(responseDTO.getValues().size());\n        return responseDTO;\n    }\n</code></pre>\n"},{"tags":["java","eclipse","spring-boot","gradle-eclipse"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":3,"creation_date":1447500495,"post_id":33707854,"comment_id":55187514,"body_markdown":"I could imagine you could workaround this by adding `@Profile(&quot;test&quot;)`  to this class + `@ActiveProfiles(&quot;test&quot;)` on the test. That would make the bean condtional on that profile. See http://docs.spring.io/spring/docs/current/spring-framework-reference/html/integration-testing.html#testcontext-ctx-management-env-profiles","body":"I could imagine you could workaround this by adding <code>@Profile(&quot;test&quot;)</code>  to this class + <code>@ActiveProfiles(&quot;test&quot;)</code> on the test. That would make the bean condtional on that profile. See <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/integration-testing.html#testcontext-ctx-management-env-profiles\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/spring-framework-referenc&zwnj;&#8203;e/&hellip;</a>"},{"owner":{"account_id":1246269,"reputation":3386,"user_id":1207655,"accept_rate":83,"display_name":"Martin Wilson"},"score":0,"creation_date":1447501490,"post_id":33707854,"comment_id":55187740,"body_markdown":"Looks like a good potential solution, although even after I added @profile(&quot;test&quot;) to the test config class it is still being used when I run the app. I&#39;ll investigate this further later - thanks.","body":"Looks like a good potential solution, although even after I added @profile(&quot;test&quot;) to the test config class it is still being used when I run the app. I&#39;ll investigate this further later - thanks."},{"owner":{"account_id":2455831,"reputation":3908,"user_id":2141091,"accept_rate":100,"display_name":"Kris"},"score":2,"creation_date":1447693518,"post_id":33707854,"comment_id":55249832,"body_markdown":"I can confirm that the problem almost certainly that runtime classpath includes &#39;test&#39; things on it. It is kind of a known problem though I do not think there is an issue ticket for it. This is a problem caused by gradle&#39;s tooling model not distinuguishing between &#39;test&#39; and &#39;runtime&#39; classpaths. I&#39;m afraid the easiest way to avoid this problem is to switch to using maven. I know m2e/maven does this correctly.","body":"I can confirm that the problem almost certainly that runtime classpath includes &#39;test&#39; things on it. It is kind of a known problem though I do not think there is an issue ticket for it. This is a problem caused by gradle&#39;s tooling model not distinuguishing between &#39;test&#39; and &#39;runtime&#39; classpaths. I&#39;m afraid the easiest way to avoid this problem is to switch to using maven. I know m2e/maven does this correctly."},{"owner":{"account_id":1246269,"reputation":3386,"user_id":1207655,"accept_rate":83,"display_name":"Martin Wilson"},"score":0,"creation_date":1447703766,"post_id":33707854,"comment_id":55255571,"body_markdown":"Thanks @Kris - I&#39;ve got round it for now by removing the need for a separate config for the tests.","body":"Thanks @Kris - I&#39;ve got round it for now by removing the need for a separate config for the tests."},{"owner":{"account_id":1524893,"reputation":1418,"user_id":1423583,"accept_rate":82,"display_name":"Nathan"},"score":0,"creation_date":1479354823,"post_id":33707854,"comment_id":68524478,"body_markdown":"I have written some code in my build.gradle file that generates an Eclipse launch configuration using the runtime classpath.  I use this launch configuration to run my local app server.  See http://stackoverflow.com/a/40646309/1423583","body":"I have written some code in my build.gradle file that generates an Eclipse launch configuration using the runtime classpath.  I use this launch configuration to run my local app server.  See <a href=\"http://stackoverflow.com/a/40646309/1423583\">stackoverflow.com/a/40646309/1423583</a>"},{"owner":{"account_id":1177055,"reputation":143,"user_id":1152790,"display_name":"KSobkowiak"},"score":1,"creation_date":1480522752,"post_id":33707854,"comment_id":69000284,"body_markdown":"I use maven and have the same problem.","body":"I use maven and have the same problem."}],"answers":[{"tags":[],"owner":{"account_id":4431041,"reputation":9073,"user_id":3608192,"display_name":"Stefan Isele - prefabware.com"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491724803,"creation_date":1491724803,"answer_id":43304413,"question_id":33707854,"body_markdown":"When you run the test from eclipse, the classpath is prepared by eclipse (and not by maven or gradle).\r\n\r\nEclipse only uses one classpath per project and does not know anything about dependency scopes (like &#39;compile&#39; or &#39;test&#39;).\r\nSo the classpath always contains any resources of a referenced project.\r\n\r\nYou cannot change this behavior of eclipse. \r\nYou need to use naming conventions, profile etc. to avoid accidental use of test resources.\r\n\r\n","title":"Running Spring Boot application through Eclipse picks up test classes","body":"<p>When you run the test from eclipse, the classpath is prepared by eclipse (and not by maven or gradle).</p>\n\n<p>Eclipse only uses one classpath per project and does not know anything about dependency scopes (like 'compile' or 'test').\nSo the classpath always contains any resources of a referenced project.</p>\n\n<p>You cannot change this behavior of eclipse. \nYou need to use naming conventions, profile etc. to avoid accidental use of test resources.</p>\n"},{"tags":[],"owner":{"account_id":455616,"reputation":558,"user_id":853892,"accept_rate":0,"display_name":"StefanR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500644277,"creation_date":1500644277,"answer_id":45239152,"question_id":33707854,"body_markdown":"You can append `@TestComponent` to you test configuration class. These bean configurations will be skipped during component scan of your application. Depending on the component scan configuration, you need to define an @ComponentScan exclude filter:\r\n`excludeFilters = @ComponentScan.Filter(value = TestComponent.class, type = FilterType.ANNOTATION))`\r\n","title":"Running Spring Boot application through Eclipse picks up test classes","body":"<p>You can append <code>@TestComponent</code> to you test configuration class. These bean configurations will be skipped during component scan of your application. Depending on the component scan configuration, you need to define an @ComponentScan exclude filter:\n<code>excludeFilters = @ComponentScan.Filter(value = TestComponent.class, type = FilterType.ANNOTATION))</code></p>\n"},{"tags":[],"owner":{"account_id":2246496,"reputation":417,"user_id":1979717,"display_name":"Industrious"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680178907,"creation_date":1680178907,"answer_id":75888227,"question_id":33707854,"body_markdown":"At least Eclipse IDE Version: 2022-12 (4.26.0) has the feature that allows to exclude test code from Debug/Run configuration classpath:\r\n\r\nGo to Run/Debug configuration you use to run your app, choose Dependencies tab, click the checkbox &#39;Exclude test code&#39;.","title":"Running Spring Boot application through Eclipse picks up test classes","body":"<p>At least Eclipse IDE Version: 2022-12 (4.26.0) has the feature that allows to exclude test code from Debug/Run configuration classpath:</p>\n<p>Go to Run/Debug configuration you use to run your app, choose Dependencies tab, click the checkbox 'Exclude test code'.</p>\n"}],"owner":{"account_id":1246269,"reputation":3386,"user_id":1207655,"accept_rate":83,"display_name":"Martin Wilson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4761,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1680178907,"creation_date":1447500229,"question_id":33707854,"body_markdown":"I am developing a Spring Boot application using STS with the Gradle plugin.\r\nI have a different configuration for tests, to prevent our Selenium tests from having to login.\r\n\r\nSo in `src/test/java/etc` I have something like this:\r\n\r\n\t@Configuration\r\n\t@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n\t@EnableWebSecurity\r\n\tpublic static class SecurityConfig extends WebSecurityConfigurerAdapter\r\n\t{\r\n\t\t@Override\r\n\t\tprotected void configure(HttpSecurity http) throws Exception\r\n\t\t{\t\r\n\t\t\thttp.authorizeRequests().anyRequest().permitAll();\r\n\t\t}\r\n    }\r\n\r\nWhereas in `src/main/java` I have an equivalent class that configures login etc, requiring login for all pages.\r\n\r\nIf I run the application through the Gradle plugin (bootRun), everything works fine. \r\n\r\nHowever, if I run or debug it through Eclipse directly (e.g. right clicking on the project, Run As-&gt;Spring Boot App or by clicking \r\nthe run/debug buttons in the Spring or Java view) then the test config is applied, so access is granted to all pages without login.\r\n\r\nI&#39;m guessing that the test classes are being included in the classpath when I start the application this way.\r\nIs there an easy way to prevent this from happening? ","title":"Running Spring Boot application through Eclipse picks up test classes","body":"<p>I am developing a Spring Boot application using STS with the Gradle plugin.\nI have a different configuration for tests, to prevent our Selenium tests from having to login.</p>\n\n<p>So in <code>src/test/java/etc</code> I have something like this:</p>\n\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@EnableWebSecurity\npublic static class SecurityConfig extends WebSecurityConfigurerAdapter\n{\n    @Override\n    protected void configure(HttpSecurity http) throws Exception\n    {   \n        http.authorizeRequests().anyRequest().permitAll();\n    }\n}\n</code></pre>\n\n<p>Whereas in <code>src/main/java</code> I have an equivalent class that configures login etc, requiring login for all pages.</p>\n\n<p>If I run the application through the Gradle plugin (bootRun), everything works fine. </p>\n\n<p>However, if I run or debug it through Eclipse directly (e.g. right clicking on the project, Run As->Spring Boot App or by clicking \nthe run/debug buttons in the Spring or Java view) then the test config is applied, so access is granted to all pages without login.</p>\n\n<p>I'm guessing that the test classes are being included in the classpath when I start the application this way.\nIs there an easy way to prevent this from happening? </p>\n"},{"tags":["java","dxf"],"comments":[{"owner":{"account_id":9432667,"reputation":1340,"user_id":7015661,"accept_rate":100,"display_name":"TM00"},"score":0,"creation_date":1679943389,"post_id":73376153,"comment_id":133808482,"body_markdown":"Did you ever arrive at a solution to this? I&#39;m sitting with the exact same question :)","body":"Did you ever arrive at a solution to this? I&#39;m sitting with the exact same question :)"},{"owner":{"account_id":15760460,"reputation":11,"user_id":11372323,"display_name":"mnystrktr"},"score":0,"creation_date":1680087206,"post_id":73376153,"comment_id":133836497,"body_markdown":"Part-1:\nTo answer your question I have good news and bad news. :) BAD news is that NO, I have not solved it just yet, as I had other projects and this issue did not have a top priority in my work.\nBUT - and this is the GOOD news -  since than in connection with another task I recognized that there might have been some improvements in jdxf since then (or I just missed it before, I don&#39;t know), because if you open this link https://jsevy.com/wordpress/index.php/java-and-android/jdxf-java-dxf-library/jdxf-user-guide/ and read the chapter &quot;Layer&quot;, it says that this can be done from version 2.0+.","body":"Part-1: To answer your question I have good news and bad news. :) BAD news is that NO, I have not solved it just yet, as I had other projects and this issue did not have a top priority in my work. BUT - and this is the GOOD news -  since than in connection with another task I recognized that there might have been some improvements in jdxf since then (or I just missed it before, I don&#39;t know), because if you open this link <a href=\"https://jsevy.com/wordpress/index.php/java-and-android/jdxf-java-dxf-library/jdxf-user-guide/\" rel=\"nofollow noreferrer\">jsevy.com/wordpress/index.php/java-and-android/&hellip;</a> and read the chapter &quot;Layer&quot;, it says that this can be done from version 2.0+."},{"owner":{"account_id":15760460,"reputation":11,"user_id":11372323,"display_name":"mnystrktr"},"score":0,"creation_date":1680087308,"post_id":73376153,"comment_id":133836517,"body_markdown":"Part-2:\nI am sure I was using older version and I have not yet checked it out if it works or not, BUT even if You (or We) won&#39;t find it useful, I&#39;m quite optimistic that it can be done just by examining the Autodesk documentation of dxf format: (https://damassets.autodesk.net/content/dam/autodesk/www/developer-network/platform-technologies/autocad-dxf-archive/acad_r12_dxf.pdf#page=4&amp;zoom=100,92,4769)","body":"Part-2: I am sure I was using older version and I have not yet checked it out if it works or not, BUT even if You (or We) won&#39;t find it useful, I&#39;m quite optimistic that it can be done just by examining the Autodesk documentation of dxf format: (<a href=\"https://damassets.autodesk.net/content/dam/autodesk/www/developer-network/platform-technologies/autocad-dxf-archive/acad_r12_dxf.pdf#page=4&amp;zoom=100,92,4769\" rel=\"nofollow noreferrer\">damassets.autodesk.net/content/dam/autodesk/www/&hellip;</a>)"},{"owner":{"account_id":15760460,"reputation":11,"user_id":11372323,"display_name":"mnystrktr"},"score":0,"creation_date":1680087442,"post_id":73376153,"comment_id":133836561,"body_markdown":"Part-3:\nIn my other task I mentioned, I needed to open a dxf file, add other drawings to it, then save and close. After some google search I decided to do the coding by myself just by taking a look at the autodesk document (I did not read through all the 59 pages, just the structure of the dxf file itself at pages 4-5 and maybe the UCS section). After that I managed to do a test file manually to use it as a &quot;sample&quot;, and after another day of coding and debugging, I managed to reproduce the same sample by my code.","body":"Part-3: In my other task I mentioned, I needed to open a dxf file, add other drawings to it, then save and close. After some google search I decided to do the coding by myself just by taking a look at the autodesk document (I did not read through all the 59 pages, just the structure of the dxf file itself at pages 4-5 and maybe the UCS section). After that I managed to do a test file manually to use it as a &quot;sample&quot;, and after another day of coding and debugging, I managed to reproduce the same sample by my code."},{"owner":{"account_id":15760460,"reputation":11,"user_id":11372323,"display_name":"mnystrktr"},"score":0,"creation_date":1680087524,"post_id":73376153,"comment_id":133836584,"body_markdown":"Part-4(last): In this case, I think we should set somehow the color code in the Layer properties of TABLES section. Sorry for lots of comments, I needed to separate it to be short enough for StachOverflow.","body":"Part-4(last): In this case, I think we should set somehow the color code in the Layer properties of TABLES section. Sorry for lots of comments, I needed to separate it to be short enough for StachOverflow."}],"answers":[{"tags":[],"owner":{"account_id":9432667,"reputation":1340,"user_id":7015661,"accept_rate":100,"display_name":"TM00"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680178597,"creation_date":1680178597,"answer_id":75888173,"question_id":73376153,"body_markdown":"As per your suggestions. Version 2.0 of jDXF allows to set the layer color. Albeit in a strange way. Here&#39;s [their guidance][1]. \r\n\r\nEssentially it comes down to setting the color and pen width and setting `setPenByLayer` to true.\r\n\r\nCode sample from the docs:\r\n\r\n    DXFDocument dxfDocument = new \r\n        DXFDocument(&quot;Example&quot;);\r\n    DXFGraphics dxfGraphics =\r\n        dxfDocument.getGraphics();\r\n    \r\n    // set pen characteristics to be used for layer\r\n    graphics.setStroke(new BasicStroke(2));\r\n    graphics.setColor(Color.RED);\r\n    \r\n    // set layer; will be assigned the current \r\n    // color/linewidth of graphics (red, 2)\r\n    dxfDocument.setLayer(&quot;Layer 1&quot;);\r\n    \r\n    // now set all subsequently drawn objects \r\n    // to take on the pen of their layer, not the\r\n    // graphics at the time they are drawn\r\n    dxfDocument.setPenByLayer(true);\r\n    \r\n    // oval will have color/pen of Layer 1 (red, 2)\r\n    // in the DXF output\r\n    graphics.drawOval(500, 500, 150, 150);\r\n    // change pen color and draw;\r\n    // since the rectangle is going on Layer 1\r\n    // and setPenByLayer is true, it will appear\r\n    // red in the DXF image since it takes the\r\n    // color of its layer\r\n    graphics.setColor(Color.BLUE);\r\n    graphics.drawRect(1000, 500, 150, 150);\r\n    \r\n    // turn off the ByLayer flag; subsequent objects\r\n    // will be given the current color/style, not \r\n    // that of their layer; the oval will be blue\r\n    dxfDocument.setPenByLayer(false);\r\n    graphics.drawOval(1000, 500, 150, 150);\r\n\r\n\r\n  [1]: https://jsevy.com/wordpress/index.php/java-and-android/jdxf-java-dxf-library/jdxf-user-guide/","title":"How to change dxf layer color in java using jdxf library?","body":"<p>As per your suggestions. Version 2.0 of jDXF allows to set the layer color. Albeit in a strange way. Here's <a href=\"https://jsevy.com/wordpress/index.php/java-and-android/jdxf-java-dxf-library/jdxf-user-guide/\" rel=\"nofollow noreferrer\">their guidance</a>.</p>\n<p>Essentially it comes down to setting the color and pen width and setting <code>setPenByLayer</code> to true.</p>\n<p>Code sample from the docs:</p>\n<pre><code>DXFDocument dxfDocument = new \n    DXFDocument(&quot;Example&quot;);\nDXFGraphics dxfGraphics =\n    dxfDocument.getGraphics();\n\n// set pen characteristics to be used for layer\ngraphics.setStroke(new BasicStroke(2));\ngraphics.setColor(Color.RED);\n\n// set layer; will be assigned the current \n// color/linewidth of graphics (red, 2)\ndxfDocument.setLayer(&quot;Layer 1&quot;);\n\n// now set all subsequently drawn objects \n// to take on the pen of their layer, not the\n// graphics at the time they are drawn\ndxfDocument.setPenByLayer(true);\n\n// oval will have color/pen of Layer 1 (red, 2)\n// in the DXF output\ngraphics.drawOval(500, 500, 150, 150);\n// change pen color and draw;\n// since the rectangle is going on Layer 1\n// and setPenByLayer is true, it will appear\n// red in the DXF image since it takes the\n// color of its layer\ngraphics.setColor(Color.BLUE);\ngraphics.drawRect(1000, 500, 150, 150);\n\n// turn off the ByLayer flag; subsequent objects\n// will be given the current color/style, not \n// that of their layer; the oval will be blue\ndxfDocument.setPenByLayer(false);\ngraphics.drawOval(1000, 500, 150, 150);\n</code></pre>\n"}],"owner":{"account_id":15760460,"reputation":11,"user_id":11372323,"display_name":"mnystrktr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680178597,"creation_date":1660662038,"question_id":73376153,"body_markdown":"I have a java code generating dxf files, I am using jdxf library. Almost everything works fine with it, there is only one thing I could not figure out. When I&#39;m adding a new Layer, I wish to do it with a new color so that all entities I draw under this new layer shall have a &quot;ByLayer&quot; color, which would be this new color I specify. \r\nI can only achieve that the entities shall have the color I specify, but their layer&#39;s default color would still be black/white. Here is my DXFHandler object:\r\n\r\n    public class DXFHandler {\r\n    //https://jsevy.com/wordpress/index.php/java-and-android/jdxf-java-dxf-library/\r\n\r\n    DXFGraphics graphics;\r\n    DXFDocument dXFDocument;\r\n    int mirrorY, mirrorX;\r\n\r\n    public DXFHandler() {\r\n        dXFDocument = new DXFDocument();\r\n        dXFDocument.setUnits(4);//set units to mm\r\n        dXFDocument.setPrecisionDigits(1);//set precision digits\r\n        dXFDocument.setViewportCenter(0, 0);        \r\n        graphics = dXFDocument.getGraphics();\r\n        mirrorX=1;\r\n        mirrorY=-1;\r\n    }\r\n\r\n    public void addLayer(String layerName, Color c) {\r\n        dXFDocument.setLayer(layerName);      \r\n        graphics.setColor(c);//This will only achieve that the drawing entities get this color, but the layer&#39;s color would not be touched.      \r\n    }\r\n    public void drawLine(double[]x, double[]y){\r\n         if (x!=null&amp;&amp;y!=null&amp;x.length==y.length) {\r\n            for (int i = 1; i &lt; x.length; i++) {\r\n                graphics.drawLine(mirrorX*x[i-1], mirrorY*y[i-1],mirrorX*x[i],mirrorY*y[i]);\r\n            }\r\n        }\r\n    }\r\n    public void drawPoint(double[]x, double[]y){\r\n        if (x!=null&amp;&amp;y!=null&amp;x.length==y.length) {\r\n            for (int i = 0; i &lt; x.length; i++) {\r\n                graphics.drawPoint(mirrorX*x[i], mirrorY*y[i]);\r\n            }\r\n        }\r\n    }\r\n    public void drawRect(double x1, double y1, double x2, double y2){\r\n        graphics.drawRect(mirrorX*x1, mirrorY*y1, mirrorX*x2, mirrorY*y2);\r\n    }\r\n\r\n    public void saveToDXF(String outputPath) throws IOException {\r\n        String stringOutput = dXFDocument.toDXFString();\r\n        FileWriter fileWriter = new FileWriter(outputPath);\r\n        fileWriter.write(stringOutput);\r\n        fileWriter.flush();\r\n        fileWriter.close();\r\n    }\r\n\r\nAnd here is an example code to test it:\r\n\r\n     public static void main(String[] args) {\r\n        String outputFile=&quot;d:\\\\test.dxf&quot;;\r\n        int points=500;//Number of drawn points .\r\n        String layer1Name=&quot;Layer_1&quot;;\r\n        double[]xCoordinatesOfPoints1=new double[points];//creating first test-pointset_Xcoordinates\r\n        double[]yCoordinatesOfPoints1=new double[points];//creating first test-pointset_Ycoordinates\r\n        for (int i = 0; i &lt; xCoordinatesOfPoints1.length; i++) {\r\n            xCoordinatesOfPoints1[i]=i;\r\n            yCoordinatesOfPoints1[i]=i;\r\n        }                \r\n        String layer2Name=&quot;Layer_2&quot;;\r\n        double[]xCoordinatesOfPoints2=new double[points];//creating second test-pointset_Xcoordinates\r\n        double[]yCoordinatesOfPoints2=new double[points];//creating second test-pointset_Ycoordinates\r\n        for (int i = 0; i &lt; xCoordinatesOfPoints1.length; i++) {\r\n            xCoordinatesOfPoints2[i]=-1*i;\r\n            yCoordinatesOfPoints2[i]=i;\r\n        }\r\n         \r\n        DXFHandler dXFHandler=new DXFHandler(); //Creating dxf handler object        \r\n        dXFHandler.addLayer(layer1Name, Color.red);//Creating layer1\r\n        dXFHandler.drawPoint(xCoordinatesOfPoints1, yCoordinatesOfPoints1);//drawing points of layer1\r\n        dXFHandler.addLayer(layer2Name, Color.GREEN);//Creating layer2\r\n        dXFHandler.drawPoint(xCoordinatesOfPoints2, yCoordinatesOfPoints2);//drawing points of layer2\r\n        try {\r\n            dXFHandler.saveToDXF(outputFile);//Exporting dxf file\r\n        } catch (IOException ex) {\r\n            System.out.println(&quot;FAILED&quot;);\r\n        }\r\n                \r\n    }\r\nAs a result I get a &quot;test.dxf&quot; file which has a green and red point-set. That would be fine but both layers&#39; default color is white. I would prefer if the points&#39; color was &quot;ByLayer&quot; and the layer color was green/red, as it is in my &quot;wantedSolution.dxf&quot;, which I failed to see how to attach. I will attach it as soon as I figure out how to do that...","title":"How to change dxf layer color in java using jdxf library?","body":"<p>I have a java code generating dxf files, I am using jdxf library. Almost everything works fine with it, there is only one thing I could not figure out. When I'm adding a new Layer, I wish to do it with a new color so that all entities I draw under this new layer shall have a &quot;ByLayer&quot; color, which would be this new color I specify.\nI can only achieve that the entities shall have the color I specify, but their layer's default color would still be black/white. Here is my DXFHandler object:</p>\n<pre><code>public class DXFHandler {\n//https://jsevy.com/wordpress/index.php/java-and-android/jdxf-java-dxf-library/\n\nDXFGraphics graphics;\nDXFDocument dXFDocument;\nint mirrorY, mirrorX;\n\npublic DXFHandler() {\n    dXFDocument = new DXFDocument();\n    dXFDocument.setUnits(4);//set units to mm\n    dXFDocument.setPrecisionDigits(1);//set precision digits\n    dXFDocument.setViewportCenter(0, 0);        \n    graphics = dXFDocument.getGraphics();\n    mirrorX=1;\n    mirrorY=-1;\n}\n\npublic void addLayer(String layerName, Color c) {\n    dXFDocument.setLayer(layerName);      \n    graphics.setColor(c);//This will only achieve that the drawing entities get this color, but the layer's color would not be touched.      \n}\npublic void drawLine(double[]x, double[]y){\n     if (x!=null&amp;&amp;y!=null&amp;x.length==y.length) {\n        for (int i = 1; i &lt; x.length; i++) {\n            graphics.drawLine(mirrorX*x[i-1], mirrorY*y[i-1],mirrorX*x[i],mirrorY*y[i]);\n        }\n    }\n}\npublic void drawPoint(double[]x, double[]y){\n    if (x!=null&amp;&amp;y!=null&amp;x.length==y.length) {\n        for (int i = 0; i &lt; x.length; i++) {\n            graphics.drawPoint(mirrorX*x[i], mirrorY*y[i]);\n        }\n    }\n}\npublic void drawRect(double x1, double y1, double x2, double y2){\n    graphics.drawRect(mirrorX*x1, mirrorY*y1, mirrorX*x2, mirrorY*y2);\n}\n\npublic void saveToDXF(String outputPath) throws IOException {\n    String stringOutput = dXFDocument.toDXFString();\n    FileWriter fileWriter = new FileWriter(outputPath);\n    fileWriter.write(stringOutput);\n    fileWriter.flush();\n    fileWriter.close();\n}\n</code></pre>\n<p>And here is an example code to test it:</p>\n<pre><code> public static void main(String[] args) {\n    String outputFile=&quot;d:\\\\test.dxf&quot;;\n    int points=500;//Number of drawn points .\n    String layer1Name=&quot;Layer_1&quot;;\n    double[]xCoordinatesOfPoints1=new double[points];//creating first test-pointset_Xcoordinates\n    double[]yCoordinatesOfPoints1=new double[points];//creating first test-pointset_Ycoordinates\n    for (int i = 0; i &lt; xCoordinatesOfPoints1.length; i++) {\n        xCoordinatesOfPoints1[i]=i;\n        yCoordinatesOfPoints1[i]=i;\n    }                \n    String layer2Name=&quot;Layer_2&quot;;\n    double[]xCoordinatesOfPoints2=new double[points];//creating second test-pointset_Xcoordinates\n    double[]yCoordinatesOfPoints2=new double[points];//creating second test-pointset_Ycoordinates\n    for (int i = 0; i &lt; xCoordinatesOfPoints1.length; i++) {\n        xCoordinatesOfPoints2[i]=-1*i;\n        yCoordinatesOfPoints2[i]=i;\n    }\n     \n    DXFHandler dXFHandler=new DXFHandler(); //Creating dxf handler object        \n    dXFHandler.addLayer(layer1Name, Color.red);//Creating layer1\n    dXFHandler.drawPoint(xCoordinatesOfPoints1, yCoordinatesOfPoints1);//drawing points of layer1\n    dXFHandler.addLayer(layer2Name, Color.GREEN);//Creating layer2\n    dXFHandler.drawPoint(xCoordinatesOfPoints2, yCoordinatesOfPoints2);//drawing points of layer2\n    try {\n        dXFHandler.saveToDXF(outputFile);//Exporting dxf file\n    } catch (IOException ex) {\n        System.out.println(&quot;FAILED&quot;);\n    }\n            \n}\n</code></pre>\n<p>As a result I get a &quot;test.dxf&quot; file which has a green and red point-set. That would be fine but both layers' default color is white. I would prefer if the points' color was &quot;ByLayer&quot; and the layer color was green/red, as it is in my &quot;wantedSolution.dxf&quot;, which I failed to see how to attach. I will attach it as soon as I figure out how to do that...</p>\n"},{"tags":["java","pdf","itext"],"answers":[{"tags":[],"owner":{"account_id":187390,"reputation":7647,"user_id":425406,"display_name":"Sean"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1284573685,"creation_date":1284569946,"answer_id":3719932,"question_id":3719673,"body_markdown":"There is a bit of a messy way around this in the earlier versions of iText. If you store the element above the horizontal line in a PdfPCell, you can then set the border of that to show only the bottom. (That cell can also be blank if needed)\r\n\r\n    PdfPCell myCell = new PdfPCell(new Paragraph(&quot;Hello World&quot;) );\r\n    myCell.setBorder(Rectangle.BOTTOM);\r\n\r\n\r\nThe result should look like (solid line, not checkered)\r\n\r\n    Hello World\r\n    -----------\r\n\r\nThis should give you what you desire. Not the optimal solution but it is a way to work around the limitations of the old jar.\r\n\r\nFor your reference, if you want to perform this trick to put a line on top and below your text to give a result of \r\n\r\n    -----------\r\n    Hello World\r\n    -----------\r\n\r\nThe argument to setBorder() is an int which you can use bitwise operation on to manipulate the values. So the above example can would be accomplished with\r\n\r\n    myCell.setBorder(Rectangle.BOTTOM | Rectangle.TOP);\r\n\r\n\r\nedit: Example\r\n\r\n    //Create the table which will be 2 Columns wide and make it 100% of the page\r\n    PdfPTable myTable = new PdfPtable(2);\r\n    myTable.setWidthPercentage(100.0f);\r\n    \r\n    //create a 3 cells and add them to the table\r\n    PdfPCell cellOne = new PdfPCell(new Paragraph(&quot;Hello World&quot;));\r\n    PdfPCell cellTwo = new PdfPCell(new Paragraph(&quot;Bottom Left&quot;));\r\n    PdfPcell cellThree = new PdfPCell(new Paragraph(&quot;Bottom Right&quot;));\r\n    \r\n    cellOne.setColspan(2);\r\n    cellOne.setBorder(Rectangle.BOTTOM);\r\n    cellOne.setHorizontalAlignment(Element.ALIGN_LEFT);\r\n    \r\n    cellTwo.setBorder(Rectangle.NO_BORDER);\r\n    cellTwo.setHorizontalAlignment(Element.ALIGN_LEFT);\r\n    cellThree.setBorder(Rectangle.LEFT);\r\n    cellThree.setHorizontalAlignment(Element.ALIGN_RIGHT);\r\n    \r\n    //Add the three cells to the table\r\n    myTable.addCell(cellOne);\r\n    myTable.addCell(cellTwo);\r\n    myTable.addCell(cellThree);\r\n    \r\n    //Do something to add the table to your root document\r\n\r\nThis should create you a table which looks something like the following (assuming you correct my typos)\r\n\r\n    Hello World\r\n    ------------------------------------\r\n    Bottom Left      |      Bottom Right\r\n\r\n","title":"Alternative for LineSeparator in iText old versions?","body":"<p>There is a bit of a messy way around this in the earlier versions of iText. If you store the element above the horizontal line in a PdfPCell, you can then set the border of that to show only the bottom. (That cell can also be blank if needed)</p>\n\n<pre><code>PdfPCell myCell = new PdfPCell(new Paragraph(\"Hello World\") );\nmyCell.setBorder(Rectangle.BOTTOM);\n</code></pre>\n\n<p>The result should look like (solid line, not checkered)</p>\n\n<pre><code>Hello World\n-----------\n</code></pre>\n\n<p>This should give you what you desire. Not the optimal solution but it is a way to work around the limitations of the old jar.</p>\n\n<p>For your reference, if you want to perform this trick to put a line on top and below your text to give a result of </p>\n\n<pre><code>-----------\nHello World\n-----------\n</code></pre>\n\n<p>The argument to setBorder() is an int which you can use bitwise operation on to manipulate the values. So the above example can would be accomplished with</p>\n\n<pre><code>myCell.setBorder(Rectangle.BOTTOM | Rectangle.TOP);\n</code></pre>\n\n<p>edit: Example</p>\n\n<pre><code>//Create the table which will be 2 Columns wide and make it 100% of the page\nPdfPTable myTable = new PdfPtable(2);\nmyTable.setWidthPercentage(100.0f);\n\n//create a 3 cells and add them to the table\nPdfPCell cellOne = new PdfPCell(new Paragraph(\"Hello World\"));\nPdfPCell cellTwo = new PdfPCell(new Paragraph(\"Bottom Left\"));\nPdfPcell cellThree = new PdfPCell(new Paragraph(\"Bottom Right\"));\n\ncellOne.setColspan(2);\ncellOne.setBorder(Rectangle.BOTTOM);\ncellOne.setHorizontalAlignment(Element.ALIGN_LEFT);\n\ncellTwo.setBorder(Rectangle.NO_BORDER);\ncellTwo.setHorizontalAlignment(Element.ALIGN_LEFT);\ncellThree.setBorder(Rectangle.LEFT);\ncellThree.setHorizontalAlignment(Element.ALIGN_RIGHT);\n\n//Add the three cells to the table\nmyTable.addCell(cellOne);\nmyTable.addCell(cellTwo);\nmyTable.addCell(cellThree);\n\n//Do something to add the table to your root document\n</code></pre>\n\n<p>This should create you a table which looks something like the following (assuming you correct my typos)</p>\n\n<pre><code>Hello World\n------------------------------------\nBottom Left      |      Bottom Right\n</code></pre>\n"},{"tags":[],"owner":{"account_id":407907,"reputation":279,"user_id":778252,"display_name":"ftarucco"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1306873185,"creation_date":1306873185,"answer_id":6193090,"question_id":3719673,"body_markdown":"    LineSeparator ls = new LineSeparator();\r\n    document.add(new Chunk(ls));\r\n\r\nExample: [iText in action][1]\r\n\r\n\r\n  [1]: http://itextpdf.com/examples/iia.php?id=45","title":"Alternative for LineSeparator in iText old versions?","body":"<pre><code>LineSeparator ls = new LineSeparator();\ndocument.add(new Chunk(ls));\n</code></pre>\n\n<p>Example: <a href=\"http://itextpdf.com/examples/iia.php?id=45\" rel=\"noreferrer\">iText in action</a></p>\n"},{"tags":[],"owner":{"account_id":1001358,"reputation":11,"user_id":1016136,"display_name":"Boolasa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324466666,"creation_date":1324462566,"answer_id":8588214,"question_id":3719673,"body_markdown":"`table.setExtendLastRow(true);`\r\n\r\nwill do it!","title":"Alternative for LineSeparator in iText old versions?","body":"<p><code>table.setExtendLastRow(true);</code></p>\n\n<p>will do it!</p>\n"},{"tags":[],"owner":{"account_id":1143161,"reputation":436,"user_id":1126533,"display_name":"Laurent"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1337950430,"creation_date":1337950430,"answer_id":10754816,"question_id":3719673,"body_markdown":"I&#39;m also in favor of using Line elements rather than tables... do not repeat HTML formatting mistakes !\r\n\r\n\tfinal LineSeparator lineSeparator = new LineSeparator();\r\n\tlineSeparator.drawLine(pdfCB, leftX, rightX, y);\r\n","title":"Alternative for LineSeparator in iText old versions?","body":"<p>I'm also in favor of using Line elements rather than tables... do not repeat HTML formatting mistakes !</p>\n\n<pre><code>final LineSeparator lineSeparator = new LineSeparator();\nlineSeparator.drawLine(pdfCB, leftX, rightX, y);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2101131,"reputation":49,"user_id":1868722,"display_name":"pritesh dhebar"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1354371286,"creation_date":1354369913,"answer_id":13660095,"question_id":3719673,"body_markdown":"Just Add a line separator object to pdf document object. That should be it\r\n\r\n    LineSeparator objectName = new LineSeparator();\t\t         \r\n    document.add(objectName);","title":"Alternative for LineSeparator in iText old versions?","body":"<p>Just Add a line separator object to pdf document object. That should be it</p>\n\n<pre><code>LineSeparator objectName = new LineSeparator();              \ndocument.add(objectName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1233419,"reputation":3265,"user_id":1197539,"accept_rate":79,"display_name":"hdoghmen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1384010922,"creation_date":1384010922,"answer_id":19877623,"question_id":3719673,"body_markdown":"The solution given by Sean offer more flexibility when dealing with a text underlined by the line separator.\r\nI don&#39;t know if LineSeparator can do that, it seems to be meant to be just a line separator.\r\n\r\n    Paragraph ph = new Paragraph(new Phrase(&quot;My line separator&quot;, yourFont));\r\n    PdfPCell cell = new PdfPCell(ph);\r\n    cell.Border = Rectangle.BOTTOM_BORDER;\r\n    cell.BorderColor = new BaseColor(44, 67, 144);\r\n    cell.BorderWidth = 2f;\r\n              \r\n    PdfPTable table = new PdfPTable(1);                \r\n    table.AddCell(cell);\r\n    table.HorizontalAlignment = Element.ALIGN_LEFT;\r\n    table.WidthPercentage = 100f;\r\n    doc.Add(table);\r\n\r\nHope this can help.\r\nShould print something like this .![A line separator with text ][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/hoc2J.jpg","title":"Alternative for LineSeparator in iText old versions?","body":"<p>The solution given by Sean offer more flexibility when dealing with a text underlined by the line separator.\nI don't know if LineSeparator can do that, it seems to be meant to be just a line separator.</p>\n\n<pre><code>Paragraph ph = new Paragraph(new Phrase(\"My line separator\", yourFont));\nPdfPCell cell = new PdfPCell(ph);\ncell.Border = Rectangle.BOTTOM_BORDER;\ncell.BorderColor = new BaseColor(44, 67, 144);\ncell.BorderWidth = 2f;\n\nPdfPTable table = new PdfPTable(1);                \ntable.AddCell(cell);\ntable.HorizontalAlignment = Element.ALIGN_LEFT;\ntable.WidthPercentage = 100f;\ndoc.Add(table);\n</code></pre>\n\n<p>Hope this can help.\nShould print something like this .<img src=\"https://i.stack.imgur.com/hoc2J.jpg\" alt=\"A line separator with text \"></p>\n"},{"tags":[],"owner":{"account_id":3206454,"reputation":2823,"user_id":2707444,"display_name":"luizMello"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1464907111,"creation_date":1464907111,"answer_id":37603256,"question_id":3719673,"body_markdown":"A simple way, if you want a whole new line:\r\n\r\n        document.add(Chunk.NEWLINE);\r\n        LineSeparator ls = new LineSeparator();\r\n        document.add(new Chunk(ls));\r\n\r\n","title":"Alternative for LineSeparator in iText old versions?","body":"<p>A simple way, if you want a whole new line:</p>\n\n<pre><code>    document.add(Chunk.NEWLINE);\n    LineSeparator ls = new LineSeparator();\n    document.add(new Chunk(ls));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11415712,"reputation":45,"user_id":8368565,"display_name":"Akshay Kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501058322,"creation_date":1501058322,"answer_id":45321637,"question_id":3719673,"body_markdown":"I also faced the similar problem as my company was also using older version of iText i.e. 1.4.2. These are the two solutions that I propose for creating horizontal rule. First one uses Graphic and second uses Table with bottom border. Both works fine for me.\r\n\r\nSolution 1 : \r\n\r\n    protected static final Graphic HR = new Graphic();\r\n      static {\r\n        HR.setHorizontalLine(1f, 100f, Color.BLACK);\r\n      }\r\n\r\nSolution 2 : \r\n\r\n\r\n        private static void addHorizontalLine(Document document, PdfWriter writer) throws DocumentException, IOException{\r\n    \tPdfPTable myTable = new PdfPTable(1);\r\n    \tmyTable.setWidthPercentage(100.0f);\r\n    \tPdfPCell cellOne = new PdfPCell();\r\n    \tcellOne.setBorder(Rectangle.BOTTOM);\r\n    \tdocument.add(new Paragraph(&quot; &quot;));\r\n    \tdocument.add(myTable);\r\n    }\r\n\r\nPS : The reason we can not update JAR is that older versions of iText are free for commercial use and newer versions are paid.\r\n\r\nHope that it helps!","title":"Alternative for LineSeparator in iText old versions?","body":"<p>I also faced the similar problem as my company was also using older version of iText i.e. 1.4.2. These are the two solutions that I propose for creating horizontal rule. First one uses Graphic and second uses Table with bottom border. Both works fine for me.</p>\n\n<p>Solution 1 : </p>\n\n<pre><code>protected static final Graphic HR = new Graphic();\n  static {\n    HR.setHorizontalLine(1f, 100f, Color.BLACK);\n  }\n</code></pre>\n\n<p>Solution 2 : </p>\n\n<pre><code>    private static void addHorizontalLine(Document document, PdfWriter writer) throws DocumentException, IOException{\n    PdfPTable myTable = new PdfPTable(1);\n    myTable.setWidthPercentage(100.0f);\n    PdfPCell cellOne = new PdfPCell();\n    cellOne.setBorder(Rectangle.BOTTOM);\n    document.add(new Paragraph(\" \"));\n    document.add(myTable);\n}\n</code></pre>\n\n<p>PS : The reason we can not update JAR is that older versions of iText are free for commercial use and newer versions are paid.</p>\n\n<p>Hope that it helps!</p>\n"},{"tags":[],"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520336190,"creation_date":1520336190,"answer_id":49129903,"question_id":3719673,"body_markdown":"I found this most closely resembles an HTML `&lt;HR&gt;` tag:\r\n\r\n    import com.itextpdf.kernel.color.Color;\r\n    import com.itextpdf.kernel.pdf.canvas.draw.SolidLine;\r\n    import com.itextpdf.layout.element.LineSeparator;\r\n\r\n    ...\r\n\r\n    final SolidLine lineDrawer = new SolidLine(1f);\r\n    lineDrawer.setColor(Color.GRAY);\r\n    document.add(new LineSeparator(lineDrawer));\r\n\r\n(iText 7.0.0)\r\n","title":"Alternative for LineSeparator in iText old versions?","body":"<p>I found this most closely resembles an HTML <code>&lt;HR&gt;</code> tag:</p>\n\n<pre><code>import com.itextpdf.kernel.color.Color;\nimport com.itextpdf.kernel.pdf.canvas.draw.SolidLine;\nimport com.itextpdf.layout.element.LineSeparator;\n\n...\n\nfinal SolidLine lineDrawer = new SolidLine(1f);\nlineDrawer.setColor(Color.GRAY);\ndocument.add(new LineSeparator(lineDrawer));\n</code></pre>\n\n<p>(iText 7.0.0)</p>\n"},{"tags":[],"owner":{"account_id":5350815,"reputation":4694,"user_id":4264996,"accept_rate":0,"display_name":"madhu527"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680178271,"creation_date":1680178271,"answer_id":75888115,"question_id":3719673,"body_markdown":"   **iText 7** - Java | Android - It works for me\r\n\r\nReference: https://bitbucket.itextsupport.com/projects/I7J/repos/itextcore/browse/kernel/src/main/java/com/itextpdf/kernel/pdf/canvas/draw/SolidLine.java?at=4d0ecad5f6a89f4232909ede99ba502d30c6d61f\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    SolidLine customLine = new SolidLine(0);\r\n    customLine.setLineWidth(10);\r\n    customLine.setColor(WebColors.getRGBColor(&quot;#AA2E25&quot;));\r\n    customLine.setLineWidth(1);\r\n    doc.add(new LineSeparator(customLine));\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gmyFL.png\r\n\r\n**iText 5**\r\n  \r\n\r\n     LineSeparator lineSeparator = new LineSeparator();\r\n     lineSeparator.setLineWidth(1);\r\n     lineSeparator.setLineColor(WebColors.getRGBColor(&quot;#AA2E25&quot;));\r\n     doc.add(new Chunk(lineSeparator));","title":"Alternative for LineSeparator in iText old versions?","body":"<p><strong>iText 7</strong> - Java | Android - It works for me</p>\n<p>Reference: <a href=\"https://bitbucket.itextsupport.com/projects/I7J/repos/itextcore/browse/kernel/src/main/java/com/itextpdf/kernel/pdf/canvas/draw/SolidLine.java?at=4d0ecad5f6a89f4232909ede99ba502d30c6d61f\" rel=\"nofollow noreferrer\">https://bitbucket.itextsupport.com/projects/I7J/repos/itextcore/browse/kernel/src/main/java/com/itextpdf/kernel/pdf/canvas/draw/SolidLine.java?at=4d0ecad5f6a89f4232909ede99ba502d30c6d61f</a></p>\n<p><a href=\"https://i.stack.imgur.com/gmyFL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gmyFL.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>SolidLine customLine = new SolidLine(0);\ncustomLine.setLineWidth(10);\ncustomLine.setColor(WebColors.getRGBColor(&quot;#AA2E25&quot;));\ncustomLine.setLineWidth(1);\ndoc.add(new LineSeparator(customLine));\n</code></pre>\n<p><strong>iText 5</strong></p>\n<pre><code> LineSeparator lineSeparator = new LineSeparator();\n lineSeparator.setLineWidth(1);\n lineSeparator.setLineColor(WebColors.getRGBColor(&quot;#AA2E25&quot;));\n doc.add(new Chunk(lineSeparator));\n</code></pre>\n"}],"owner":{"account_id":196417,"reputation":18062,"user_id":439836,"accept_rate":67,"display_name":"Fran Fitzpatrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49852,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":3719932,"answer_count":10,"score":15,"last_activity_date":1680178271,"creation_date":1284567664,"question_id":3719673,"body_markdown":"I&#39;m trying to insert a line separator (you know, that horizontal line that runs across documents) into my document with iText. I&#39;ve found some resources via Google that use com.lowagie.text.pdf.draw.LineSeparator but the version of iText that I&#39;m using (1.4.2) doesn&#39;t seem to have that package.\r\n\r\nCan anyone suggest another way to add a nice line seperator for my pdf? And please don&#39;t say update the .jar-- I&#39;m locked in to 1.4.2.\r\n\r\nThanks!","title":"Alternative for LineSeparator in iText old versions?","body":"<p>I'm trying to insert a line separator (you know, that horizontal line that runs across documents) into my document with iText. I've found some resources via Google that use com.lowagie.text.pdf.draw.LineSeparator but the version of iText that I'm using (1.4.2) doesn't seem to have that package.</p>\n\n<p>Can anyone suggest another way to add a nice line seperator for my pdf? And please don't say update the .jar-- I'm locked in to 1.4.2.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","mysql","sql","database","user-interface"],"comments":[{"owner":{"account_id":12190699,"reputation":2759,"user_id":8898324,"display_name":"TomC"},"score":0,"creation_date":1573525904,"post_id":58811023,"comment_id":103901599,"body_markdown":"There seems to be some unnecessary code here. If you have run a query that only selects the name, there is no need to check if the data you got back is correct. You only need to know that you got a row. Also, I&#39;m not familiar with the library - but do you need a next() to get to the first row? If not then you will be already going past the row before you check name=name.","body":"There seems to be some unnecessary code here. If you have run a query that only selects the name, there is no need to check if the data you got back is correct. You only need to know that you got a row. Also, I&#39;m not familiar with the library - but do you need a next() to get to the first row? If not then you will be already going past the row before you check name=name."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1573528141,"post_id":58811023,"comment_id":103901984,"body_markdown":"It should be obvious that a single JTextField cannot display the names of all of your recipes.  When you want to display multiple records, typically you use a [JTable](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html).","body":"It should be obvious that a single JTextField cannot display the names of all of your recipes.  When you want to display multiple records, typically you use a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">JTable</a>."}],"answers":[{"tags":[],"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Cătălin Cucer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680178215,"creation_date":1680178215,"answer_id":75888102,"question_id":58811023,"body_markdown":"Connect to the [`database`](https://dbmstools.com/categories/database-documentation-tools#:~:text=Database%20documentation%20is%20a%20set,relationships%2C%20data%20types%2C%20etc.):\r\n\r\nUse a [`JDBC`](https://docs.oracle.com/javase/8/docs/technotes/guides/jdbc/) driver to connect to the database like this:\r\n\r\n    String url = &quot;jdbc:derby://localhost:1527/Cookbook&quot;;\r\n    Connection conn = DriverManager.getConnection(url);\r\n\r\n---\r\n\r\nPrepare a `SELECT` query:\r\n\r\nWrite a `SELECT` query to get the data from [`database`](https://dbmstools.com/categories/database-documentation-tools#:~:text=Database%20documentation%20is%20a%20set,relationships%2C%20data%20types%2C%20etc.). Use [`PreparedStatement`](https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html) to bind the parameters to the query:\r\n\r\n    String sql = &quot;SELECT * from RECIPES where name=?&quot;;\r\n    PreparedStatement pst = conn.prepareStatement(sql);\r\n    pst.setString(1, name);\r\n\r\n---\r\n\r\nExecute the query:\r\n\r\nExecute the query and get the [`ResultSet`](https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html), also check if it has any data:\r\n\r\n    ResultSet rs = pst.executeQuery();\r\n    if (rs.next()) {\r\n      // the result set has data\r\n    } else {\r\n      // the result set is empty\r\n    }\r\n\r\n---\r\n\r\nLoad the data in [GUI](https://enrico.readthedocs.io/en/latest/gui.html):\r\n\r\nUse data from [`ResultSet`](https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html) to load [GUI](https://enrico.readthedocs.io/en/latest/gui.html):\r\n\r\n    txtName.setText(rs.getString(1));\r\n    txtSubcatagory.setText(rs.getString(2));\r\n    cmbCatagory.setSelectedItem(rs.getString(3));\r\n    txtIngredients.setText(rs.getString(4));\r\n    txtInstructions.setText(rs.getString(5));\r\n    txtMod.setText(rs.getString(6));\r\n\r\nThe GUI components must be initialised before [`setText()`](https://developer.android.com/reference/android/widget/TextView) or [`setSelectedItem()`](https://docs.oracle.com/javase/7/docs/api/javax/swing/JComboBox.html) methods.\r\n\r\nGUI must be initialised either the data won&#39;t be loaded.\r\n\r\n---\r\n\r\n    public void presetPage() {\r\n      //modifyRecipe m = new modifyRecipe();\r\n      //String name = m.getSR();\r\n      try {\r\n        String url = &quot;jdbc:derby://localhost:1527/Cookbook&quot;;\r\n        Connection conn = DriverManager.getConnection(url);\r\n        String sql = &quot;SELECT * from RECIPES where name=?&quot;;\r\n        //PreparedStatement pst = conn.prepareStatement(sql);\r\n        //pst.setString(1, name);\r\n        ResultSet rs = pst.executeQuery();\r\n        if (rs.next()) {\r\n          txtName.setText(rs.getString(1));\r\n          txtSubcatagory.setText(rs.getString(2));\r\n          cmbCatagory.setSelectedItem(rs.getString(3));\r\n          txtIngredients.setText(rs.getString(4));\r\n          txtInstructions.setText(rs.getString(5));\r\n          txtMod.setText(rs.getString(6));\r\n        } else {\r\n          //JOptionPane.showMessageDialog(null, &quot;Item Not Found!&quot;);\r\n          //this.dispose();\r\n        }\r\n      } catch (SQLException ex) {\r\n        ex.printStackTrace();\r\n      }\r\n    }\r\n\r\nWe assume the GUI comp are initialised and the SQL query returns a single row. If query returns multiple rows, you have to handle that appropriately.","title":"How to preload a GUI with database entry data?","body":"<p>Connect to the <a href=\"https://dbmstools.com/categories/database-documentation-tools#:%7E:text=Database%20documentation%20is%20a%20set,relationships%2C%20data%20types%2C%20etc.\" rel=\"nofollow noreferrer\"><code>database</code></a>:</p>\n<p>Use a <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jdbc/\" rel=\"nofollow noreferrer\"><code>JDBC</code></a> driver to connect to the database like this:</p>\n<pre><code>String url = &quot;jdbc:derby://localhost:1527/Cookbook&quot;;\nConnection conn = DriverManager.getConnection(url);\n</code></pre>\n<hr />\n<p>Prepare a <code>SELECT</code> query:</p>\n<p>Write a <code>SELECT</code> query to get the data from <a href=\"https://dbmstools.com/categories/database-documentation-tools#:%7E:text=Database%20documentation%20is%20a%20set,relationships%2C%20data%20types%2C%20etc.\" rel=\"nofollow noreferrer\"><code>database</code></a>. Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html\" rel=\"nofollow noreferrer\"><code>PreparedStatement</code></a> to bind the parameters to the query:</p>\n<pre><code>String sql = &quot;SELECT * from RECIPES where name=?&quot;;\nPreparedStatement pst = conn.prepareStatement(sql);\npst.setString(1, name);\n</code></pre>\n<hr />\n<p>Execute the query:</p>\n<p>Execute the query and get the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\"><code>ResultSet</code></a>, also check if it has any data:</p>\n<pre><code>ResultSet rs = pst.executeQuery();\nif (rs.next()) {\n  // the result set has data\n} else {\n  // the result set is empty\n}\n</code></pre>\n<hr />\n<p>Load the data in <a href=\"https://enrico.readthedocs.io/en/latest/gui.html\" rel=\"nofollow noreferrer\">GUI</a>:</p>\n<p>Use data from <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\"><code>ResultSet</code></a> to load <a href=\"https://enrico.readthedocs.io/en/latest/gui.html\" rel=\"nofollow noreferrer\">GUI</a>:</p>\n<pre><code>txtName.setText(rs.getString(1));\ntxtSubcatagory.setText(rs.getString(2));\ncmbCatagory.setSelectedItem(rs.getString(3));\ntxtIngredients.setText(rs.getString(4));\ntxtInstructions.setText(rs.getString(5));\ntxtMod.setText(rs.getString(6));\n</code></pre>\n<p>The GUI components must be initialised before <a href=\"https://developer.android.com/reference/android/widget/TextView\" rel=\"nofollow noreferrer\"><code>setText()</code></a> or <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JComboBox.html\" rel=\"nofollow noreferrer\"><code>setSelectedItem()</code></a> methods.</p>\n<p>GUI must be initialised either the data won't be loaded.</p>\n<hr />\n<pre><code>public void presetPage() {\n  //modifyRecipe m = new modifyRecipe();\n  //String name = m.getSR();\n  try {\n    String url = &quot;jdbc:derby://localhost:1527/Cookbook&quot;;\n    Connection conn = DriverManager.getConnection(url);\n    String sql = &quot;SELECT * from RECIPES where name=?&quot;;\n    //PreparedStatement pst = conn.prepareStatement(sql);\n    //pst.setString(1, name);\n    ResultSet rs = pst.executeQuery();\n    if (rs.next()) {\n      txtName.setText(rs.getString(1));\n      txtSubcatagory.setText(rs.getString(2));\n      cmbCatagory.setSelectedItem(rs.getString(3));\n      txtIngredients.setText(rs.getString(4));\n      txtInstructions.setText(rs.getString(5));\n      txtMod.setText(rs.getString(6));\n    } else {\n      //JOptionPane.showMessageDialog(null, &quot;Item Not Found!&quot;);\n      //this.dispose();\n    }\n  } catch (SQLException ex) {\n    ex.printStackTrace();\n  }\n}\n</code></pre>\n<p>We assume the GUI comp are initialised and the SQL query returns a single row. If query returns multiple rows, you have to handle that appropriately.</p>\n"}],"owner":{"account_id":16962778,"reputation":21,"user_id":12269507,"display_name":"Justin YING"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680178215,"creation_date":1573524690,"question_id":58811023,"body_markdown":"I am trying to preload a GUI with the data of a database entry. Basically in the previous JForm I have asked the user to input a name, and this class takes that name and fills up the existing textfields and areas with the database entry, although it doesn&#39;t seem to be working as it doesn&#39;t preload any of the existing fields although it does exist in the database. If anyone could help it would be gratefully appreciated as this is due very soon!\r\n\r\n\r\n\r\n      public void presetPage(){\r\n        modifyRecipe m = new modifyRecipe();\r\n        String name = m.getSR();\r\n        try{\r\n            String url = &quot;jdbc:derby://localhost:1527/Cookbook&quot;;\r\n            Connection conn = DriverManager.getConnection(url);\r\n            String sql = &quot;SELECT * from RECIPES where name=?&quot;;\r\n            PreparedStatement pst = conn.prepareStatement(sql);\r\n            pst.setString(1, name);\r\n            \r\n            ResultSet rs = pst.executeQuery();\r\n            boolean found = false;\r\n           \r\n            while(rs.next()){\r\n                if(rs.getString(1).equalsIgnoreCase(name)){\r\n                    JOptionPane.showMessageDialog(null, &quot;Found &quot; + name );\r\n                    found = true;\r\n                    \r\n                    txtName.setText(rs.getString(1));\r\n                    txtSubcatagory.setText(rs.getString(2));\r\n                    cmbCatagory.getSelectedItem().toString();\r\n                    txtIngredients.setText(rs.getString(4));\r\n                    txtInstructions.setText(rs.getString(5));\r\n                    txtMod.setText(rs.getString(6));\r\n                        \r\n                    \r\n              \r\n                }else if(!found){\r\n                JOptionPane.showMessageDialog(null, &quot;Item Not Found!&quot;);\r\n                this.dispose();\r\n                \r\n            }\r\n            }\r\n            \r\n            ","title":"How to preload a GUI with database entry data?","body":"<p>I am trying to preload a GUI with the data of a database entry. Basically in the previous JForm I have asked the user to input a name, and this class takes that name and fills up the existing textfields and areas with the database entry, although it doesn't seem to be working as it doesn't preload any of the existing fields although it does exist in the database. If anyone could help it would be gratefully appreciated as this is due very soon!</p>\n\n<pre><code>  public void presetPage(){\n    modifyRecipe m = new modifyRecipe();\n    String name = m.getSR();\n    try{\n        String url = \"jdbc:derby://localhost:1527/Cookbook\";\n        Connection conn = DriverManager.getConnection(url);\n        String sql = \"SELECT * from RECIPES where name=?\";\n        PreparedStatement pst = conn.prepareStatement(sql);\n        pst.setString(1, name);\n\n        ResultSet rs = pst.executeQuery();\n        boolean found = false;\n\n        while(rs.next()){\n            if(rs.getString(1).equalsIgnoreCase(name)){\n                JOptionPane.showMessageDialog(null, \"Found \" + name );\n                found = true;\n\n                txtName.setText(rs.getString(1));\n                txtSubcatagory.setText(rs.getString(2));\n                cmbCatagory.getSelectedItem().toString();\n                txtIngredients.setText(rs.getString(4));\n                txtInstructions.setText(rs.getString(5));\n                txtMod.setText(rs.getString(6));\n\n\n\n            }else if(!found){\n            JOptionPane.showMessageDialog(null, \"Item Not Found!\");\n            this.dispose();\n\n        }\n        }\n</code></pre>\n"},{"tags":["java","android","android-intent","android-activity"],"comments":[{"owner":{"account_id":1565373,"reputation":3362,"user_id":2548187,"accept_rate":74,"display_name":"u3l"},"score":2,"creation_date":1378551278,"post_id":18672482,"comment_id":27501178,"body_markdown":"Perhaps this may answer your question:\nhttp://stackoverflow.com/questions/10143222/sending-data-to-another-activity-that-may-be-started (you have to override onNewIntent() ). I&#39;m not sure though.","body":"Perhaps this may answer your question: <a href=\"http://stackoverflow.com/questions/10143222/sending-data-to-another-activity-that-may-be-started\" title=\"sending data to another activity that may be started\">stackoverflow.com/questions/10143222/&hellip;</a> (you have to override onNewIntent() ). I&#39;m not sure though."},{"owner":{"account_id":415074,"reputation":14411,"user_id":789657,"accept_rate":84,"display_name":"Simon"},"score":1,"creation_date":1378552958,"post_id":18672482,"comment_id":27501585,"body_markdown":"You need an `Interface`.  Define a callback.","body":"You need an <code>Interface</code>.  Define a callback."}],"answers":[{"tags":[],"owner":{"account_id":1499204,"reputation":5419,"user_id":1404407,"accept_rate":100,"display_name":"Cory Roy"},"down_vote_count":1,"up_vote_count":51,"is_accepted":true,"score":50,"last_activity_date":1389810640,"creation_date":1389810339,"answer_id":21145401,"question_id":18672482,"body_markdown":"Make sure when you are launching the intent from the BroadcastReceiver you set the FLAG_ACTIVITY_SINGLE_TOP flag.\r\n\r\n    intent.addFlags (FLAG_ACTIVITY_SINGLE_TOP);\r\n  \r\n    ...\r\n\r\n\r\n    class HomeActivity extends Activity {\r\n       ...\r\n       @Override\r\n       protected void onNewIntent(Intent intent) {\r\n          Bundle extras = intent.getExtras();\r\n       }\r\n       ...\r\n    }","title":"How to pass intent with extras to an already running activity","body":"<p>Make sure when you are launching the intent from the BroadcastReceiver you set the FLAG_ACTIVITY_SINGLE_TOP flag.</p>\n\n<pre><code>intent.addFlags (FLAG_ACTIVITY_SINGLE_TOP);\n\n...\n\n\nclass HomeActivity extends Activity {\n   ...\n   @Override\n   protected void onNewIntent(Intent intent) {\n      Bundle extras = intent.getExtras();\n   }\n   ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1077468,"reputation":20907,"user_id":1075289,"accept_rate":65,"display_name":"Amio.io"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1432983282,"creation_date":1432983282,"answer_id":30545258,"question_id":18672482,"body_markdown":"Just extending Cory Roy&#39;s answer you have to define &quot;SingleTop&quot; in AndroidManifest.xml too.\r\n\r\n    &lt;activity\r\n            android:name=&quot;MainActivity&quot;            \r\n            android:launchMode=&quot;singleTop&quot;\r\n\r\n\r\nIt seems that extending android.support.v7.app.ActionBarActivity this method does not work...","title":"How to pass intent with extras to an already running activity","body":"<p>Just extending Cory Roy's answer you have to define \"SingleTop\" in AndroidManifest.xml too.</p>\n\n<pre><code>&lt;activity\n        android:name=\"MainActivity\"            \n        android:launchMode=\"singleTop\"\n</code></pre>\n\n<p>It seems that extending android.support.v7.app.ActionBarActivity this method does not work...</p>\n"},{"tags":[],"owner":{"account_id":20058566,"reputation":11,"user_id":14705750,"display_name":"Kirill H&#228;uptli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680177611,"creation_date":1680177611,"answer_id":75888000,"question_id":18672482,"body_markdown":"Forget starting activities from a Broadcastreceiver, google added since Android 12 a trampoline prevention.\r\nSee docs:\r\nhttps://developer.android.com/about/versions/12/behavior-changes-12","title":"How to pass intent with extras to an already running activity","body":"<p>Forget starting activities from a Broadcastreceiver, google added since Android 12 a trampoline prevention.\nSee docs:\n<a href=\"https://developer.android.com/about/versions/12/behavior-changes-12\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/12/behavior-changes-12</a></p>\n"}],"owner":{"account_id":424481,"reputation":3755,"user_id":804503,"accept_rate":88,"display_name":"Ayrton Senna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15190,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":21145401,"answer_count":3,"score":29,"last_activity_date":1680177611,"creation_date":1378550733,"question_id":18672482,"body_markdown":"I have a `BroadcastReceiver` which launches a `HomeActivity` with some information passed with the extras. \r\n\r\nWhat happens when the activity is already running and the broadcast receiver gets triggered again which tries to launch the `HomeActivity` with new info. Does the `OnResume()` or `OnCreate()` of the activity execute? \r\n\r\nIf not, is there any other way of passing/reloading a running activity when a `BroadcastReceiver` is triggered?","title":"How to pass intent with extras to an already running activity","body":"<p>I have a <code>BroadcastReceiver</code> which launches a <code>HomeActivity</code> with some information passed with the extras. </p>\n\n<p>What happens when the activity is already running and the broadcast receiver gets triggered again which tries to launch the <code>HomeActivity</code> with new info. Does the <code>OnResume()</code> or <code>OnCreate()</code> of the activity execute? </p>\n\n<p>If not, is there any other way of passing/reloading a running activity when a <code>BroadcastReceiver</code> is triggered?</p>\n"},{"tags":["java","methods","overloading"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680127652,"post_id":75882313,"comment_id":133847184,"body_markdown":"Vague title. Rewrite to summarize your *specific* technical issue.","body":"Vague title. Rewrite to summarize your <i>specific</i> technical issue."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680128287,"creation_date":1680127982,"answer_id":75882599,"question_id":75882313,"body_markdown":"With `method(1, 1, 1);`, strict invocation finds two applicable methods: `method(long x, long y, long z)` and `method(int x, long y, int z)`. `method(short x, int y, double z)` is not applicable because [strict invocation](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.12.2.2) only allows widening primitives conversions. `int` to `long` is fine, but not `int` to `short`.\r\n\r\nAccording to [&#167;15.12.2.5. Choosing the Most Specific Method](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.12.2.5):\r\n\r\n&lt;blockquote&gt;\r\nOne applicable method m1 is more specific than another applicable method m2, for an invocation with argument expressions e1, ..., ek, if any of the following are true:\r\n\r\n- [...]\r\n- m1 and m2 are applicable by strict or loose invocation, and where m1 has formal parameter types S1, ..., Sn and m2 has formal parameter types T1, ..., Tn, the type Si is more specific than Ti for argument ei for all i (1 ≤ i ≤ n, n = k).\r\n&lt;/blockquote&gt;\r\n\r\nAnd on type specificity:\r\n\r\n&gt; A type S is more specific than a type T for any expression if S &lt;: T\r\n\r\nFrom [4.10.1. Subtyping among Primitive Types](https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.10.1), we have that `int` is considered a subtype of `long`. `method(int x, long y, int z)` is thus more specific than `method(long x, long y, long z)` since the type of each parameter is either the same or a subtype of the corresponding parameter of the latter method. \r\n\r\n&gt; A method m1 is strictly more specific than another method m2 if and only if m1 is more specific than m2 and m2 is not more specific than m1. &lt;br&gt;\r\n&gt; A method is said to be maximally specific for a method invocation if it is accessible and applicable and there is no other method that is accessible and applicable that is strictly more specific.\r\n\r\n`method(long x, long y, long z)` is not more specific than `method(int x, long y, int z)`, so `method(int x, long y, int z)` is maximally specific. There are no other maximally specific methods, so it is the most specific method and will be called.\r\n\r\nWith `method((short) 1, 1, 1);`, all three methods are considered applicable by widening conversion. \r\n\r\nHowever, `method(short x, int y, double z)` is not more specific than all the other two methods because `double` is not a subtype or `int` or a subtype of `long` (in fact, it is considered a supertype). Similarly, none of the other methods have a more specific first parameter type since `int` and `long` are supertypes of `short`.\r\n\r\nWe have no method that is strictly more specific than every other applicable method, so there is no single maximally specific method. Thus the call is ambiguous.\r\n\r\nSee [&#167;15.12.2. Compile-Time Step 2: Determine Method Signature](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.12.2) to read more about the whole process.","title":"Unexpected ambiguity between overloaded methods with long, int &amp; short arguments","body":"<p>With <code>method(1, 1, 1);</code>, strict invocation finds two applicable methods: <code>method(long x, long y, long z)</code> and <code>method(int x, long y, int z)</code>. <code>method(short x, int y, double z)</code> is not applicable because <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.12.2.2\" rel=\"nofollow noreferrer\">strict invocation</a> only allows widening primitives conversions. <code>int</code> to <code>long</code> is fine, but not <code>int</code> to <code>short</code>.</p>\n<p>According to <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.12.2.5\" rel=\"nofollow noreferrer\">§15.12.2.5. Choosing the Most Specific Method</a>:</p>\n<blockquote>\nOne applicable method m1 is more specific than another applicable method m2, for an invocation with argument expressions e1, ..., ek, if any of the following are true:\n<ul>\n<li>[...]</li>\n<li>m1 and m2 are applicable by strict or loose invocation, and where m1 has formal parameter types S1, ..., Sn and m2 has formal parameter types T1, ..., Tn, the type Si is more specific than Ti for argument ei for all i (1 ≤ i ≤ n, n = k).</li>\n</ul>\n</blockquote>\n<p>And on type specificity:</p>\n<blockquote>\n<p>A type S is more specific than a type T for any expression if S &lt;: T</p>\n</blockquote>\n<p>From <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.10.1\" rel=\"nofollow noreferrer\">4.10.1. Subtyping among Primitive Types</a>, we have that <code>int</code> is considered a subtype of <code>long</code>. <code>method(int x, long y, int z)</code> is thus more specific than <code>method(long x, long y, long z)</code> since the type of each parameter is either the same or a subtype of the corresponding parameter of the latter method.</p>\n<blockquote>\n<p>A method m1 is strictly more specific than another method m2 if and only if m1 is more specific than m2 and m2 is not more specific than m1. <br>\nA method is said to be maximally specific for a method invocation if it is accessible and applicable and there is no other method that is accessible and applicable that is strictly more specific.</p>\n</blockquote>\n<p><code>method(long x, long y, long z)</code> is not more specific than <code>method(int x, long y, int z)</code>, so <code>method(int x, long y, int z)</code> is maximally specific. There are no other maximally specific methods, so it is the most specific method and will be called.</p>\n<p>With <code>method((short) 1, 1, 1);</code>, all three methods are considered applicable by widening conversion.</p>\n<p>However, <code>method(short x, int y, double z)</code> is not more specific than all the other two methods because <code>double</code> is not a subtype or <code>int</code> or a subtype of <code>long</code> (in fact, it is considered a supertype). Similarly, none of the other methods have a more specific first parameter type since <code>int</code> and <code>long</code> are supertypes of <code>short</code>.</p>\n<p>We have no method that is strictly more specific than every other applicable method, so there is no single maximally specific method. Thus the call is ambiguous.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.12.2\" rel=\"nofollow noreferrer\">§15.12.2. Compile-Time Step 2: Determine Method Signature</a> to read more about the whole process.</p>\n"}],"owner":{"account_id":28162476,"reputation":21,"user_id":21522145,"display_name":"nemidunam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680177476,"creation_date":1680125260,"question_id":75882313,"body_markdown":"Why is method((short)1,1,1); only ambiguous between the 2nd and 3rd method although it can also be implicitly casted to the first? \r\nWhy is it ambigious at all even though it needs less implicit casting for the 3rd than for the 2nd?\r\n\r\nIf the amount of implicit castings doesn&#39;t matter, why is method(1,1,1) not ambiguous between 1 and 2 although it can be implicitly casted to both?\r\n\r\n\r\n```\r\npublic class Main {\r\n\tstatic void method(long x, long y, long z) {\r\n\t\tSystem.out.println(&quot;1&quot;);\r\n\t}\r\n\r\n\tstatic void method(int x, long y, int z) {\r\n\t\tSystem.out.println(&quot;2&quot;);\r\n\t}\r\n\r\n\tstatic void method(short x, int y, double z) {\r\n\t\tSystem.out.println(&quot;3&quot;);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tmethod((short) 1, 1, 1); // ambiguous between 2 and 3\r\n\t\tmethod(1, 1, 1); // calls 2\r\n\t}\r\n}\r\n```","title":"Unexpected ambiguity between overloaded methods with long, int &amp; short arguments","body":"<p>Why is method((short)1,1,1); only ambiguous between the 2nd and 3rd method although it can also be implicitly casted to the first?\nWhy is it ambigious at all even though it needs less implicit casting for the 3rd than for the 2nd?</p>\n<p>If the amount of implicit castings doesn't matter, why is method(1,1,1) not ambiguous between 1 and 2 although it can be implicitly casted to both?</p>\n<pre><code>public class Main {\n    static void method(long x, long y, long z) {\n        System.out.println(&quot;1&quot;);\n    }\n\n    static void method(int x, long y, int z) {\n        System.out.println(&quot;2&quot;);\n    }\n\n    static void method(short x, int y, double z) {\n        System.out.println(&quot;3&quot;);\n    }\n\n    public static void main(String[] args) {\n        method((short) 1, 1, 1); // ambiguous between 2 and 3\n        method(1, 1, 1); // calls 2\n    }\n}\n</code></pre>\n"},{"tags":["java","protocol-buffers","protobuf-java"],"answers":[{"tags":[],"owner":{"account_id":2463651,"reputation":7805,"user_id":2147218,"display_name":"bazza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680158723,"creation_date":1680158723,"answer_id":75884903,"question_id":75881433,"body_markdown":"It&#39;s a matter of specification: from the [docs][1]:\r\n\r\n&quot;The JSON format follows Proto3 JSON specification and only proto3 features are supported.&quot;\r\n\r\nThis means that someone has decided how protobuf objects are to be represented in JSON, and they chose this way. The purpose for doing so is that any protobuf object serialised to JSON will be in a standard form of JSON, and thus guaranteeed to be de-serialisable by protobuf code. If you started tampering with it, e.g. by removing quotes, that&#39;ll stop working. They can represent all fields as quoted strings, because protobuf knows what the field type is from its own .proto schema file that was used to generate the code in the first place. \r\n\r\nPerhaps you&#39;re looking to re-use such JSON data in another way, without the benefit of protobuf autogenerated code? If so, this encoder is not appropriate for your purpose. However, doing so rather defeats the point of using something like Protobufs in the first place. \r\n\r\nThe whole idea of protobufs (and other things like it) is that you use protobufs and protobuf-generated code exclusively. It&#39;s there to support efficient implementation of systems with intra-system heterogenity (you can use lots of different languages) without having to muck around deciding how bits of the system are going to exchange data with each other. You use the one .proto file for code generation across the entire system, and then details like &quot;are field quoted strings or not?&quot; become of no concern, and (really) the details of the wire format should be considered opaque, not something you need to know about. Generally, before adopting a serialisation standard such as protobuf, one should ensure that it supports all the languages and environments into / out of which your data needs to pass, otherwise you run into situations where you then can&#39;t easily consume data in one part of a project. Protobuf is widely supported, so it&#39;s a pretty good bet, but it does not support every lanuage on every platform. I note that the official documentation doesn&#39;t really mention Javascript anywhere.\r\n\r\nIf for some reason you can&#39;t use protobuf generated code in part of the project, well that makes life a bit more difficult. You&#39;d have to hand-spin an intermediate parser to convert from Google&#39;s settled standard on what the JSON should look like and whatever else you need it to be. \r\n\r\n  [1]: https://protobuf.dev/reference/java/api-docs/com/google/protobuf/util/JsonFormat","title":"Convert Protobuf to Json without Quotes","body":"<p>It's a matter of specification: from the <a href=\"https://protobuf.dev/reference/java/api-docs/com/google/protobuf/util/JsonFormat\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<p>&quot;The JSON format follows Proto3 JSON specification and only proto3 features are supported.&quot;</p>\n<p>This means that someone has decided how protobuf objects are to be represented in JSON, and they chose this way. The purpose for doing so is that any protobuf object serialised to JSON will be in a standard form of JSON, and thus guaranteeed to be de-serialisable by protobuf code. If you started tampering with it, e.g. by removing quotes, that'll stop working. They can represent all fields as quoted strings, because protobuf knows what the field type is from its own .proto schema file that was used to generate the code in the first place.</p>\n<p>Perhaps you're looking to re-use such JSON data in another way, without the benefit of protobuf autogenerated code? If so, this encoder is not appropriate for your purpose. However, doing so rather defeats the point of using something like Protobufs in the first place.</p>\n<p>The whole idea of protobufs (and other things like it) is that you use protobufs and protobuf-generated code exclusively. It's there to support efficient implementation of systems with intra-system heterogenity (you can use lots of different languages) without having to muck around deciding how bits of the system are going to exchange data with each other. You use the one .proto file for code generation across the entire system, and then details like &quot;are field quoted strings or not?&quot; become of no concern, and (really) the details of the wire format should be considered opaque, not something you need to know about. Generally, before adopting a serialisation standard such as protobuf, one should ensure that it supports all the languages and environments into / out of which your data needs to pass, otherwise you run into situations where you then can't easily consume data in one part of a project. Protobuf is widely supported, so it's a pretty good bet, but it does not support every lanuage on every platform. I note that the official documentation doesn't really mention Javascript anywhere.</p>\n<p>If for some reason you can't use protobuf generated code in part of the project, well that makes life a bit more difficult. You'd have to hand-spin an intermediate parser to convert from Google's settled standard on what the JSON should look like and whatever else you need it to be.</p>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680177208,"creation_date":1680177208,"answer_id":75887924,"question_id":75881433,"body_markdown":"This must be a dependency version issue. I have simulated this and it does not wrap numbers in quotes.\r\n\r\nResult:\r\n\r\n    toString():\r\n    name: &quot;fred&quot;\r\n    type: DISABLED\r\n    id: 10\r\n    \r\n    as json:\r\n    {\r\n      &quot;name&quot;: &quot;fred&quot;,\r\n      &quot;type&quot;: &quot;DISABLED&quot;,\r\n      &quot;id&quot;: 10\r\n    }\r\n\r\nCode:\r\n\r\n    import org.example.proto.generated.HelloRequest;\r\n    import org.example.proto.generated.Status;\r\n    \r\n    import com.google.protobuf.InvalidProtocolBufferException;\r\n    import com.google.protobuf.util.JsonFormat;\r\n    \r\n    public class Protobuf2Json {\r\n    \r\n    \tpublic static void main(String[] args) throws InvalidProtocolBufferException {\r\n    \r\n    \t\tHelloRequest helloRequest = HelloRequest.newBuilder().setId(10).setName(&quot;fred&quot;).setType(Status.DISABLED).build();\r\n    \r\n    \t\tSystem.out.println(&quot;toString():\\n&quot; + helloRequest);\r\n    \t\tString jsonString = JsonFormat.printer().print(helloRequest);\r\n    \t\tSystem.out.println(&quot;as json:\\n&quot; + jsonString);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nProto def:\r\n\r\n    syntax = &quot;proto3&quot;;\r\n    \r\n    option java_multiple_files = true;\r\n    option java_package = &quot;org.example.proto.generated&quot;;\r\n    option java_outer_classname = &quot;HelloWorldProto&quot;;\r\n    \r\n    package helloworld;\r\n    \r\n    enum Status {\r\n      ENABLED = 0;\r\n      DISABLED = 1;\r\n    }\r\n    \r\n    // The greeting service definition.\r\n    service Greeter {\r\n        // Sends a greeting\r\n        rpc SayHello (HelloRequest) returns (HelloReply) {}\r\n    }\r\n    \r\n    // The request message containing the user&#39;s name.\r\n    message HelloRequest {\r\n        string name = 1;\r\n        Status type = 2;\r\n        int32 id = 3;\r\n    }\r\n    \r\n    // The response message containing the greetings\r\n    message HelloReply {\r\n        string message = 1;\r\n    }\r\n\r\nDependencies:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ProtobufGames&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;ProtobufGames&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.22.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.22.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      \r\n      \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;11&lt;/source&gt; &lt;!-- depending on your project --&gt;\r\n    \t\t\t\t\t&lt;target&gt;11&lt;/target&gt; &lt;!-- depending on your project --&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.6.1&lt;/version&gt;\r\n    \t\t\t\t&lt;extensions&gt;true&lt;/extensions&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;test-compile&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;additionalProtoPathElements&gt;\r\n    \t\t\t\t\t\t&lt;additionalProtoPathElement&gt;${project.basedir}/src/main/resources&lt;/additionalProtoPathElement&gt;\r\n    \t\t\t\t\t&lt;/additionalProtoPathElements&gt;\r\n    \t\t\t\t\t&lt;protocArtifact&gt;com.google.protobuf:protoc:3.7.0:exe:windows-x86_64&lt;/protocArtifact&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \r\n    \t&lt;/build&gt;\r\n      \r\n    &lt;/project&gt;\r\n\r\n \r\n\r\n","title":"Convert Protobuf to Json without Quotes","body":"<p>This must be a dependency version issue. I have simulated this and it does not wrap numbers in quotes.</p>\n<p>Result:</p>\n<pre><code>toString():\nname: &quot;fred&quot;\ntype: DISABLED\nid: 10\n\nas json:\n{\n  &quot;name&quot;: &quot;fred&quot;,\n  &quot;type&quot;: &quot;DISABLED&quot;,\n  &quot;id&quot;: 10\n}\n</code></pre>\n<p>Code:</p>\n<pre><code>import org.example.proto.generated.HelloRequest;\nimport org.example.proto.generated.Status;\n\nimport com.google.protobuf.InvalidProtocolBufferException;\nimport com.google.protobuf.util.JsonFormat;\n\npublic class Protobuf2Json {\n\n    public static void main(String[] args) throws InvalidProtocolBufferException {\n\n        HelloRequest helloRequest = HelloRequest.newBuilder().setId(10).setName(&quot;fred&quot;).setType(Status.DISABLED).build();\n\n        System.out.println(&quot;toString():\\n&quot; + helloRequest);\n        String jsonString = JsonFormat.printer().print(helloRequest);\n        System.out.println(&quot;as json:\\n&quot; + jsonString);\n\n    }\n\n}\n</code></pre>\n<p>Proto def:</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\noption java_multiple_files = true;\noption java_package = &quot;org.example.proto.generated&quot;;\noption java_outer_classname = &quot;HelloWorldProto&quot;;\n\npackage helloworld;\n\nenum Status {\n  ENABLED = 0;\n  DISABLED = 1;\n}\n\n// The greeting service definition.\nservice Greeter {\n    // Sends a greeting\n    rpc SayHello (HelloRequest) returns (HelloReply) {}\n}\n\n// The request message containing the user's name.\nmessage HelloRequest {\n    string name = 1;\n    Status type = 2;\n    int32 id = 3;\n}\n\n// The response message containing the greetings\nmessage HelloReply {\n    string message = 1;\n}\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;ProtobufGames&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;ProtobufGames&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n            &lt;version&gt;3.22.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\n            &lt;version&gt;3.22.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt; &lt;!-- depending on your project --&gt;\n                    &lt;target&gt;11&lt;/target&gt; &lt;!-- depending on your project --&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.6.1&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;additionalProtoPathElements&gt;\n                        &lt;additionalProtoPathElement&gt;${project.basedir}/src/main/resources&lt;/additionalProtoPathElement&gt;\n                    &lt;/additionalProtoPathElements&gt;\n                    &lt;protocArtifact&gt;com.google.protobuf:protoc:3.7.0:exe:windows-x86_64&lt;/protocArtifact&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n\n    &lt;/build&gt;\n  \n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75884903,"answer_count":2,"score":1,"last_activity_date":1680177208,"creation_date":1680118213,"question_id":75881433,"body_markdown":"```protobuf\r\nad_group {\r\n  resource_name: &quot;customers/8776659915/adGroups/143689544046&quot;\r\n  status: ENABLED\r\n  type: VIDEO_TRUE_VIEW_IN_STREAM\r\n  id: 143689544046\r\n  name: &quot;Video Consideration - 2023-01-06&quot;\r\n  base_ad_group: &quot;customers/8776659915/adGroups/143689544046&quot;\r\n  campaign: &quot;customers/8776659915/campaigns/19500015051&quot;\r\n  cpc_bid_micros: 0\r\n  cpm_bid_micros: 10000\r\n  target_cpa_micros: 0\r\n  cpv_bid_micros: 567000000\r\n  target_cpm_micros: 10000\r\n  effective_target_cpa_micros: 0\r\n}\r\n```\r\nThis is the Protobuf that I have and I&#39;m using `com.google.protobuf.util.JsonFormat` to convert it to Json. Here&#39;s the code snippet:\r\n```java\r\nString jsonString = JsonFormat.printer().print(googleAdsRow);\r\n```\r\nAnd the JSON String looks like this:\r\n```json\r\n{\r\n  &quot;adGroup&quot;: {\r\n    &quot;resourceName&quot;: &quot;customers/8776659915/adGroups/143689544046&quot;,\r\n    &quot;status&quot;: &quot;ENABLED&quot;,\r\n    &quot;type&quot;: &quot;VIDEO_TRUE_VIEW_IN_STREAM&quot;,\r\n    &quot;id&quot;: &quot;143689544046&quot;,\r\n    &quot;name&quot;: &quot;Video Consideration - 2023-01-06&quot;,\r\n    &quot;baseAdGroup&quot;: &quot;customers/8776659915/adGroups/143689544046&quot;,\r\n    &quot;campaign&quot;: &quot;customers/8776659915/campaigns/19500015051&quot;,\r\n    &quot;cpcBidMicros&quot;: &quot;0&quot;,\r\n    &quot;cpmBidMicros&quot;: &quot;10000&quot;,\r\n    &quot;targetCpaMicros&quot;: &quot;0&quot;,\r\n    &quot;cpvBidMicros&quot;: &quot;567000000&quot;,\r\n    &quot;targetCpmMicros&quot;: &quot;10000&quot;,\r\n    &quot;effectiveTargetCpaMicros&quot;: &quot;0&quot;\r\n  }\r\n}\r\n```\r\nThe problem is that all the values have been converted to String by default. Is there any way we can convert values with the actual datatype and not String by default?\r\n\r\nI see there&#39;s a `printSingleFieldValue` method that accepts `alwaysWithQuotes` a boolean as a parameter in `JsonFormat.PrinterImpl` that is used to add quotes, but I am not being able to figure out a way to reach there. Any suggestions will be appreciated. Thanks in advance.","title":"Convert Protobuf to Json without Quotes","body":"<pre class=\"lang-protobuf prettyprint-override\"><code>ad_group {\n  resource_name: &quot;customers/8776659915/adGroups/143689544046&quot;\n  status: ENABLED\n  type: VIDEO_TRUE_VIEW_IN_STREAM\n  id: 143689544046\n  name: &quot;Video Consideration - 2023-01-06&quot;\n  base_ad_group: &quot;customers/8776659915/adGroups/143689544046&quot;\n  campaign: &quot;customers/8776659915/campaigns/19500015051&quot;\n  cpc_bid_micros: 0\n  cpm_bid_micros: 10000\n  target_cpa_micros: 0\n  cpv_bid_micros: 567000000\n  target_cpm_micros: 10000\n  effective_target_cpa_micros: 0\n}\n</code></pre>\n<p>This is the Protobuf that I have and I'm using <code>com.google.protobuf.util.JsonFormat</code> to convert it to Json. Here's the code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String jsonString = JsonFormat.printer().print(googleAdsRow);\n</code></pre>\n<p>And the JSON String looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;adGroup&quot;: {\n    &quot;resourceName&quot;: &quot;customers/8776659915/adGroups/143689544046&quot;,\n    &quot;status&quot;: &quot;ENABLED&quot;,\n    &quot;type&quot;: &quot;VIDEO_TRUE_VIEW_IN_STREAM&quot;,\n    &quot;id&quot;: &quot;143689544046&quot;,\n    &quot;name&quot;: &quot;Video Consideration - 2023-01-06&quot;,\n    &quot;baseAdGroup&quot;: &quot;customers/8776659915/adGroups/143689544046&quot;,\n    &quot;campaign&quot;: &quot;customers/8776659915/campaigns/19500015051&quot;,\n    &quot;cpcBidMicros&quot;: &quot;0&quot;,\n    &quot;cpmBidMicros&quot;: &quot;10000&quot;,\n    &quot;targetCpaMicros&quot;: &quot;0&quot;,\n    &quot;cpvBidMicros&quot;: &quot;567000000&quot;,\n    &quot;targetCpmMicros&quot;: &quot;10000&quot;,\n    &quot;effectiveTargetCpaMicros&quot;: &quot;0&quot;\n  }\n}\n</code></pre>\n<p>The problem is that all the values have been converted to String by default. Is there any way we can convert values with the actual datatype and not String by default?</p>\n<p>I see there's a <code>printSingleFieldValue</code> method that accepts <code>alwaysWithQuotes</code> a boolean as a parameter in <code>JsonFormat.PrinterImpl</code> that is used to add quotes, but I am not being able to figure out a way to reach there. Any suggestions will be appreciated. Thanks in advance.</p>\n"},{"tags":["java","hashmap","linkedhashmap"],"comments":[{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":2,"creation_date":1680103875,"post_id":75879270,"comment_id":133841587,"body_markdown":"`int` in java is a primitive type with a default value of 0. You never called any of the functions, so the value never changed.","body":"<code>int</code> in java is a primitive type with a default value of 0. You never called any of the functions, so the value never changed."},{"owner":{"account_id":27220194,"reputation":13,"user_id":20749607,"display_name":"Ad270"},"score":0,"creation_date":1680104542,"post_id":75879270,"comment_id":133841786,"body_markdown":"I called the functions in the main method and changed all data structures and variables to static and I am still getting 0, if I change maxKey to Integer I get &quot;null&quot; returned instead. What changes do I need to make to get it to work as intended?","body":"I called the functions in the main method and changed all data structures and variables to static and I am still getting 0, if I change maxKey to Integer I get &quot;null&quot; returned instead. What changes do I need to make to get it to work as intended?"},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1680104598,"post_id":75879270,"comment_id":133841805,"body_markdown":"And even if you would call your methods, your method `getHighestKey` returns the value and only temporarily sets `Integer maxKey` which is a local variable and not your `static int maxKey` that you print. I would recommend deleting the `static int maxKey` field as you do not need it. Instead create an object of you class and call your methods and print the return value of your `getHighestKey()` call.","body":"And even if you would call your methods, your method <code>getHighestKey</code> returns the value and only temporarily sets <code>Integer maxKey</code> which is a local variable and not your <code>static int maxKey</code> that you print. I would recommend deleting the <code>static int maxKey</code> field as you do not need it. Instead create an object of you class and call your methods and print the return value of your <code>getHighestKey()</code> call."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680105108,"creation_date":1680104643,"answer_id":75879415,"question_id":75879270,"body_markdown":"You&#39;re comparing the map&#39;s *values* for the keys, not the keys themselves.\r\n\r\nChange:\r\n\r\n```\r\nfor (Integer key : hashMap.keySet()) {\r\n    if (maxKey == null || hashMap.get(key) &gt; hashMap.get(maxKey)) {\r\n        maxKey = key;\r\n    }\r\n}\r\n```\r\n\r\nTo\r\n\r\n```\r\nfor (Integer key : hashMap.keySet()) {\r\n    if (maxKey == null || key &gt; maxKey) {\r\n        maxKey = key;\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\nRather than write your own code, you could have just done this:\r\n\r\n    Integer maxKey = Collections.max(hashMap.keySet());","title":"Unexpected output when trying to return key with largest value in LinkedHashMap java","body":"<p>You're comparing the map's <em>values</em> for the keys, not the keys themselves.</p>\n<p>Change:</p>\n<pre><code>for (Integer key : hashMap.keySet()) {\n    if (maxKey == null || hashMap.get(key) &gt; hashMap.get(maxKey)) {\n        maxKey = key;\n    }\n}\n</code></pre>\n<p>To</p>\n<pre><code>for (Integer key : hashMap.keySet()) {\n    if (maxKey == null || key &gt; maxKey) {\n        maxKey = key;\n    }\n}\n</code></pre>\n<hr />\n<p>Rather than write your own code, you could have just done this:</p>\n<pre><code>Integer maxKey = Collections.max(hashMap.keySet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680177197,"creation_date":1680104651,"answer_id":75879419,"question_id":75879270,"body_markdown":"Here is yet another way.\r\n- first, check if the map exists and has values.  Otherwise throw an exception since returing any default `int` could be misleading.\r\n- then just iterate over the keys, comparing current value to max.\r\n```\r\n public int getHighestKey() {\r\n     if(hashMap == null || hashMap.size() == 0) {\r\n         throw new IllegalArgumentException(&quot;Map is null or empty&quot;);\r\n     }\r\n     int max = Integer.MIN_VALUE;\r\n     for (int i : hashMap.keySet()) {\r\n         max = Math.max(max, i);\r\n     }\r\n     return max;    \r\n    }\r\n}\r\n```\r\nUnless a `LinkedHashMap` is required, you could use a [TreeMap](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/TreeMap.html#TreeMap()) which maintains the keys in a sorted order (ascending by default).\r\n```\r\nNavigableMap&lt;Integer,Integer&gt; map = new TreeMap&lt;&gt;();\r\nmap.put(7,8);\r\nmap.put(4,2);\r\nmap.put(5,2);\r\n\r\nint maxKey = map.lastKey();\r\nSystem.out.println(maxKey);\r\n```\r\nprints\r\n```\r\n7","title":"Unexpected output when trying to return key with largest value in LinkedHashMap java","body":"<p>Here is yet another way.</p>\n<ul>\n<li>first, check if the map exists and has values.  Otherwise throw an exception since returing any default <code>int</code> could be misleading.</li>\n<li>then just iterate over the keys, comparing current value to max.</li>\n</ul>\n<pre><code> public int getHighestKey() {\n     if(hashMap == null || hashMap.size() == 0) {\n         throw new IllegalArgumentException(&quot;Map is null or empty&quot;);\n     }\n     int max = Integer.MIN_VALUE;\n     for (int i : hashMap.keySet()) {\n         max = Math.max(max, i);\n     }\n     return max;    \n    }\n}\n</code></pre>\n<p>Unless a <code>LinkedHashMap</code> is required, you could use a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/TreeMap.html#TreeMap()\" rel=\"nofollow noreferrer\">TreeMap</a> which maintains the keys in a sorted order (ascending by default).</p>\n<pre><code>NavigableMap&lt;Integer,Integer&gt; map = new TreeMap&lt;&gt;();\nmap.put(7,8);\nmap.put(4,2);\nmap.put(5,2);\n\nint maxKey = map.lastKey();\nSystem.out.println(maxKey);\n</code></pre>\n<p>prints</p>\n<pre><code>7\n</code></pre>\n"}],"owner":{"account_id":27220194,"reputation":13,"user_id":20749607,"display_name":"Ad270"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680177197,"creation_date":1680103774,"question_id":75879270,"body_markdown":"Im trying to return the key with largest value in LinkedHashMap,\r\n\r\n    import java.util.LinkedHashMap;\r\n\r\n    public class stuff {\r\n\tLinkedHashMap&lt;Integer, Integer&gt; hashMap = new LinkedHashMap&lt;&gt;();\r\n\tstatic int maxKey;\r\n\t\r\n\t  public void createHashmap() {\r\n\t\t  hashMap.put(0,0);\r\n\t\t  hashMap.put(2,3);\r\n\t\t  }\r\n\t\r\n\t\t\r\n\t  public int getHighestKey() {\r\n\t\t  Integer maxKey = null;\r\n\t\t  for (Integer key : hashMap.keySet()) {\r\n\t\t\t  if (maxKey == null || hashMap.get(key) &gt; hashMap.get(maxKey)) {\r\n\t\t\t\t  maxKey = key;\r\n\t\t\t  }\r\n\t\t  }\r\n\t\t  return maxKey;\r\n\t  }\r\n\t\r\n\t  public static void main(String[] args) {\r\n\t\t  System.out.println(maxKey);\r\n\t\t\r\n\t  }\r\n    }\t\r\n\t\r\n\r\n The output I get when I run this code is 0, even though in theory it should be 2. Why is this happening and how do I fix it.","title":"Unexpected output when trying to return key with largest value in LinkedHashMap java","body":"<p>Im trying to return the key with largest value in LinkedHashMap,</p>\n<pre><code>import java.util.LinkedHashMap;\n\npublic class stuff {\nLinkedHashMap&lt;Integer, Integer&gt; hashMap = new LinkedHashMap&lt;&gt;();\nstatic int maxKey;\n\n  public void createHashmap() {\n      hashMap.put(0,0);\n      hashMap.put(2,3);\n      }\n\n    \n  public int getHighestKey() {\n      Integer maxKey = null;\n      for (Integer key : hashMap.keySet()) {\n          if (maxKey == null || hashMap.get(key) &gt; hashMap.get(maxKey)) {\n              maxKey = key;\n          }\n      }\n      return maxKey;\n  }\n\n  public static void main(String[] args) {\n      System.out.println(maxKey);\n    \n  }\n}   \n</code></pre>\n<p>The output I get when I run this code is 0, even though in theory it should be 2. Why is this happening and how do I fix it.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":487787,"reputation":5145,"user_id":947111,"accept_rate":71,"display_name":"Anatoly"},"score":0,"creation_date":1431094072,"post_id":30125465,"comment_id":48361306,"body_markdown":"Can you place full stacktrace error message?","body":"Can you place full stacktrace error message?"},{"owner":{"account_id":873159,"reputation":26684,"user_id":923560,"accept_rate":47,"display_name":"Abdull"},"score":10,"creation_date":1473253881,"post_id":30125465,"comment_id":66069725,"body_markdown":"What about `sheet.getRow(i).getCell(0).toString()`?","body":"What about <code>sheet.getRow(i).getCell(0).toString()</code>?"},{"owner":{"account_id":6494580,"reputation":177,"user_id":5027575,"accept_rate":100,"display_name":"pouyan021"},"score":1,"creation_date":1511591872,"post_id":30125465,"comment_id":81921306,"body_markdown":"@Abdull Your comment did more than the official answer :) Solved my problem","body":"@Abdull Your comment did more than the official answer :) Solved my problem"},{"owner":{"account_id":3782942,"reputation":755,"user_id":3141844,"accept_rate":43,"display_name":"Criss"},"score":1,"creation_date":1571362803,"post_id":30125465,"comment_id":103224876,"body_markdown":"try cell.getRawValue() if you need string form numeric type : https://stackoverflow.com/questions/13563747","body":"try cell.getRawValue() if you need string form numeric type : <a href=\"https://stackoverflow.com/questions/13563747\">stackoverflow.com/questions/13563747</a>"}],"answers":[{"tags":[],"owner":{"account_id":487787,"reputation":5145,"user_id":947111,"accept_rate":71,"display_name":"Anatoly"},"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1431174747,"creation_date":1431093188,"answer_id":30125586,"question_id":30125465,"body_markdown":"   &lt;strike&gt;\r\n\r\n        Cell cell = sheet.getRow(i).getCell(0);\r\n        cell.setCellType ( Cell.CELL_TYPE_STRING );\r\n        String j_username = cell.getStringCellValue();\r\n\r\n   &lt;/strike&gt;\r\n\r\n**UPDATE**\r\n\r\nOk, as have been said in comments, despite this works it isn&#39;t correct method of retrieving data from an Excel&#39;s cell. \r\n\r\nAccording to the manual [here][1]:\r\n\r\n&gt; If what you want to do is get a String value for your numeric cell,\r\n&gt; stop!. This is not the way to do it. Instead, for fetching the string\r\n&gt; value of a numeric or boolean or date cell, use DataFormatter instead.\r\n\r\nAnd according to the [DataFormatter API][2] \r\n\r\n&gt; DataFormatter contains methods for formatting the value stored in an\r\n&gt; Cell. **This can be useful for reports and GUI presentations when you\r\n&gt; need to display data exactly as it appears in Excel.** Supported formats\r\n&gt; include currency, SSN, percentages, decimals, dates, phone numbers,\r\n&gt; zip codes, etc.\r\n\r\nSo, right way to show numeric cell&#39;s value is as following:\r\n\r\n \r\n\r\n     DataFormatter formatter = new DataFormatter(); //creating formatter using the default locale\r\n     Cell cell = sheet.getRow(i).getCell(0);\r\n     String j_username = formatter.formatCellValue(cell); //Returns the formatted value of a cell as a String regardless of the cell type.\r\n\r\n\r\n  [1]: https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\r\n  [2]: https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p><strike></p>\n\n<pre><code>    Cell cell = sheet.getRow(i).getCell(0);\n    cell.setCellType ( Cell.CELL_TYPE_STRING );\n    String j_username = cell.getStringCellValue();\n</code></pre>\n\n<p></strike></p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Ok, as have been said in comments, despite this works it isn't correct method of retrieving data from an Excel's cell. </p>\n\n<p>According to the manual <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\">here</a>:</p>\n\n<blockquote>\n  <p>If what you want to do is get a String value for your numeric cell,\n  stop!. This is not the way to do it. Instead, for fetching the string\n  value of a numeric or boolean or date cell, use DataFormatter instead.</p>\n</blockquote>\n\n<p>And according to the <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html\">DataFormatter API</a> </p>\n\n<blockquote>\n  <p>DataFormatter contains methods for formatting the value stored in an\n  Cell. <strong>This can be useful for reports and GUI presentations when you\n  need to display data exactly as it appears in Excel.</strong> Supported formats\n  include currency, SSN, percentages, decimals, dates, phone numbers,\n  zip codes, etc.</p>\n</blockquote>\n\n<p>So, right way to show numeric cell's value is as following:</p>\n\n<pre><code> DataFormatter formatter = new DataFormatter(); //creating formatter using the default locale\n Cell cell = sheet.getRow(i).getCell(0);\n String j_username = formatter.formatCellValue(cell); //Returns the formatted value of a cell as a String regardless of the cell type.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1431168312,"creation_date":1431168312,"answer_id":30138967,"question_id":30125465,"body_markdown":"As explained in the [Apache POI Javadocs](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29), you *should not* use `cell.setCellType(Cell.CELL_TYPE_STRING)` to get the string value of a numeric cell, as you&#39;ll loose all the formatting\r\n\r\nInstead, as the [javadocs explain](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29), you should use [DataFormatter](http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html)\r\n\r\nWhat DataFormatter does is take the floating point value representing the cell is stored in the file, along with the formatting rules applied to it, and returns you a string that look like it the cell does in Excel.\r\n\r\nSo, if you&#39;re after a String of the cell, looking much as you had it looking in Excel, just do:\r\n\r\n     // Create a formatter, do this once\r\n     DataFormatter formatter = new DataFormatter(Locale.US);\r\n     \r\n     .....\r\n\r\n     for (int i=1; i &lt;= sheet.getLastRowNum(); i++) {\r\n            Row r = sheet.getRow(i);\r\n            if (r == null) { \r\n               // empty row, skip\r\n            } else {\r\n               String j_username = formatter.formatCellValue(row.getCell(0));\r\n               String j_password =  formatter.formatCellValue(row.getCell(1));\r\n\r\n               // Use these\r\n            }\r\n     }\r\n\r\nThe formatter will return String cells as-is, and for Numeric cells will apply the formatting rules on the style to the number of the cell","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>As explained in the <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\" rel=\"noreferrer\">Apache POI Javadocs</a>, you <em>should not</em> use <code>cell.setCellType(Cell.CELL_TYPE_STRING)</code> to get the string value of a numeric cell, as you'll loose all the formatting</p>\n\n<p>Instead, as the <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\" rel=\"noreferrer\">javadocs explain</a>, you should use <a href=\"http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html\" rel=\"noreferrer\">DataFormatter</a></p>\n\n<p>What DataFormatter does is take the floating point value representing the cell is stored in the file, along with the formatting rules applied to it, and returns you a string that look like it the cell does in Excel.</p>\n\n<p>So, if you're after a String of the cell, looking much as you had it looking in Excel, just do:</p>\n\n<pre><code> // Create a formatter, do this once\n DataFormatter formatter = new DataFormatter(Locale.US);\n\n .....\n\n for (int i=1; i &lt;= sheet.getLastRowNum(); i++) {\n        Row r = sheet.getRow(i);\n        if (r == null) { \n           // empty row, skip\n        } else {\n           String j_username = formatter.formatCellValue(row.getCell(0));\n           String j_password =  formatter.formatCellValue(row.getCell(1));\n\n           // Use these\n        }\n }\n</code></pre>\n\n<p>The formatter will return String cells as-is, and for Numeric cells will apply the formatting rules on the style to the number of the cell</p>\n"},{"tags":[],"owner":{"account_id":7541229,"reputation":411,"user_id":5725745,"display_name":"Harshil Kulkarni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457418653,"creation_date":1457418275,"answer_id":35860454,"question_id":30125465,"body_markdown":"Use that code it definitely works and I modified it.\r\n\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import org.apache.poi.poifs.filesystem.POIFSFileSystem;\r\n    //import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    \r\n    public class TestApp {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            try {\r\n    \r\n                Class forName = Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                Connection con = null;\r\n                con = DriverManager.getConnection(&quot;jdbc:mysql://localhost/tables&quot;, &quot;root&quot;, &quot;root&quot;);\r\n                con.setAutoCommit(false);\r\n                PreparedStatement pstm = null;\r\n                FileInputStream input = new FileInputStream(&quot;C:\\\\Users\\\\Desktop\\\\a1.xls&quot;);\r\n                POIFSFileSystem fs = new POIFSFileSystem(input);\r\n                Workbook workbook;\r\n                workbook = WorkbookFactory.create(fs);\r\n                Sheet sheet = workbook.getSheetAt(0);\r\n                Row row;\r\n                for (int i = 1; i &lt;= sheet.getLastRowNum(); i++) {\r\n                    row = (Row) sheet.getRow(i);\r\n                    String name = row.getCell(0).getStringCellValue();\r\n                    String add = row.getCell(1).getStringCellValue();\r\n    \r\n                    int  contact = (int) row.getCell(2).getNumericCellValue();\r\n                   \r\n                    String email = row.getCell(3).getStringCellValue();\r\n    \r\n                    String sql = &quot;INSERT INTO employee (name, address, contactNo, email) VALUES(&#39;&quot; + name + &quot;&#39;,&#39;&quot; + add + &quot;&#39;,&quot; + contact + &quot;,&#39;&quot; + email + &quot;&#39;)&quot;;\r\n                    pstm = (PreparedStatement) con.prepareStatement(sql);\r\n                    pstm.execute();\r\n                    System.out.println(&quot;Import rows &quot; + i);\r\n                }\r\n                con.commit();\r\n                pstm.close();\r\n                con.close();\r\n                input.close();\r\n                System.out.println(&quot;Success import excel to mysql table&quot;);\r\n            } catch (IOException e) {\r\n            }\r\n        }\r\n    \r\n    }","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>Use that code it definitely works and I modified it.</p>\n\n<pre><code>import java.io.FileInputStream;\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport org.apache.poi.poifs.filesystem.POIFSFileSystem;\n//import org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.*;\n\npublic class TestApp {\n\n    public static void main(String[] args) throws Exception {\n\n        try {\n\n            Class forName = Class.forName(\"com.mysql.jdbc.Driver\");\n            Connection con = null;\n            con = DriverManager.getConnection(\"jdbc:mysql://localhost/tables\", \"root\", \"root\");\n            con.setAutoCommit(false);\n            PreparedStatement pstm = null;\n            FileInputStream input = new FileInputStream(\"C:\\\\Users\\\\Desktop\\\\a1.xls\");\n            POIFSFileSystem fs = new POIFSFileSystem(input);\n            Workbook workbook;\n            workbook = WorkbookFactory.create(fs);\n            Sheet sheet = workbook.getSheetAt(0);\n            Row row;\n            for (int i = 1; i &lt;= sheet.getLastRowNum(); i++) {\n                row = (Row) sheet.getRow(i);\n                String name = row.getCell(0).getStringCellValue();\n                String add = row.getCell(1).getStringCellValue();\n\n                int  contact = (int) row.getCell(2).getNumericCellValue();\n\n                String email = row.getCell(3).getStringCellValue();\n\n                String sql = \"INSERT INTO employee (name, address, contactNo, email) VALUES('\" + name + \"','\" + add + \"',\" + contact + \",'\" + email + \"')\";\n                pstm = (PreparedStatement) con.prepareStatement(sql);\n                pstm.execute();\n                System.out.println(\"Import rows \" + i);\n            }\n            con.commit();\n            pstm.close();\n            con.close();\n            input.close();\n            System.out.println(\"Success import excel to mysql table\");\n        } catch (IOException e) {\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8691023,"reputation":11,"user_id":6503911,"display_name":"user6503911"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1466683534,"creation_date":1466681374,"answer_id":37990371,"question_id":30125465,"body_markdown":"This will work:\r\n\r\n    WebElement searchbox = driver.findElement(By.name(&quot;j_username&quot;));\r\n    WebElement searchbox2 = driver.findElement(By.name(&quot;j_password&quot;));         \r\n    \r\n    \r\n    try {\r\n    \r\n          FileInputStream file = new FileInputStream(new File(&quot;C:\\\\paulo.xls&quot;)); \r\n          HSSFWorkbook workbook = new HSSFWorkbook(file);\r\n    \r\n          HSSFSheet sheet = workbook.getSheetAt(0);\r\n    \r\n        for (int i=1; i &lt;= sheet.getLastRowNum(); i++){\r\n    \r\n                HSSFCell j_username = sheet.getRow(i).getCell(0)\r\n                HSSFCell j_password = sheet.getRow(i).getCell(0)\r\n    \t\t\t\r\n    \t\t\t//Setting the Cell type as String\r\n    \t\t\tj_username.setCellType(j_username.CELL_TYPE_STRING)\r\n    \t\t\tj_password.setCellType(j_password.CELL_TYPE_STRING)\r\n    \t\t\t\r\n                searchbox.sendKeys(j_username.toString());\r\n                searchbox2.sendKeys(j_password.toString());\r\n    \r\n    \r\n                searchbox.submit();       \r\n    \r\n                driver.manage().timeouts().implicitlyWait(10000, TimeUnit.MILLISECONDS);\r\n    \r\n        }\r\n    \r\n          workbook.close();\r\n          file.close();\r\n    \r\n         } catch (FileNotFoundException fnfe) {\r\n          fnfe.printStackTrace();\r\n         } catch (IOException ioe) {\r\n          ioe.printStackTrace();\r\n         }","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>This will work:</p>\n\n<pre><code>WebElement searchbox = driver.findElement(By.name(\"j_username\"));\nWebElement searchbox2 = driver.findElement(By.name(\"j_password\"));         \n\n\ntry {\n\n      FileInputStream file = new FileInputStream(new File(\"C:\\\\paulo.xls\")); \n      HSSFWorkbook workbook = new HSSFWorkbook(file);\n\n      HSSFSheet sheet = workbook.getSheetAt(0);\n\n    for (int i=1; i &lt;= sheet.getLastRowNum(); i++){\n\n            HSSFCell j_username = sheet.getRow(i).getCell(0)\n            HSSFCell j_password = sheet.getRow(i).getCell(0)\n\n            //Setting the Cell type as String\n            j_username.setCellType(j_username.CELL_TYPE_STRING)\n            j_password.setCellType(j_password.CELL_TYPE_STRING)\n\n            searchbox.sendKeys(j_username.toString());\n            searchbox2.sendKeys(j_password.toString());\n\n\n            searchbox.submit();       \n\n            driver.manage().timeouts().implicitlyWait(10000, TimeUnit.MILLISECONDS);\n\n    }\n\n      workbook.close();\n      file.close();\n\n     } catch (FileNotFoundException fnfe) {\n      fnfe.printStackTrace();\n     } catch (IOException ioe) {\n      ioe.printStackTrace();\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9976446,"reputation":79,"user_id":7380877,"display_name":"Coder"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1483644169,"creation_date":1483642626,"answer_id":41492606,"question_id":30125465,"body_markdown":"Using the `DataFormatter` this issue is resolved. Thanks to &quot;Gagravarr&quot; for the initial post.\r\n\r\n\r\n    DataFormatter formatter = new DataFormatter();\r\n\r\n    String empno = formatter.formatCellValue(cell0);","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>Using the <code>DataFormatter</code> this issue is resolved. Thanks to \"Gagravarr\" for the initial post.</p>\n\n<pre><code>DataFormatter formatter = new DataFormatter();\n\nString empno = formatter.formatCellValue(cell0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10785873,"reputation":1085,"user_id":7934895,"display_name":"Manish"},"down_vote_count":1,"up_vote_count":96,"is_accepted":true,"score":95,"last_activity_date":1526553893,"creation_date":1493878635,"answer_id":43775213,"question_id":30125465,"body_markdown":"Formatter will work fine in this case.\r\n\r\n    import org.apache.poi.ss.usermodel.DataFormatter;\r\n    \r\n    FileInputStream fis = new FileInputStream(workbookName);\r\n    Workbook workbook = WorkbookFactory.create(fis);\r\n    Sheet sheet = workbook.getSheet(sheetName);\r\n    DataFormatter formatter = new DataFormatter();\r\n    String val = formatter.formatCellValue(sheet.getRow(row).getCell(col));\r\n    list.add(val);   //Adding value to list\r\n\r\n\r\n","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>Formatter will work fine in this case.</p>\n\n<pre><code>import org.apache.poi.ss.usermodel.DataFormatter;\n\nFileInputStream fis = new FileInputStream(workbookName);\nWorkbook workbook = WorkbookFactory.create(fis);\nSheet sheet = workbook.getSheet(sheetName);\nDataFormatter formatter = new DataFormatter();\nString val = formatter.formatCellValue(sheet.getRow(row).getCell(col));\nlist.add(val);   //Adding value to list\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7313618,"reputation":51,"user_id":5572002,"display_name":"ZoranS"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542095911,"creation_date":1533303055,"answer_id":51673802,"question_id":30125465,"body_markdown":"    CellType cell = row.getCell(j).getCellTypeEnum();\r\n\r\n    switch(cell) {\r\n        case NUMERIC:\r\n            intVal = row.getCell(j).getNumericCellValue();\r\n            System.out.print(intVal);\r\n            break;\r\n        case STRING:\r\n            stringVal = row.getCell(j).getStringCellValue();\r\n            System.out.print(stringVal);\r\n            break;\r\n    }","title":"Cannot get a text value from a numeric cell “Poi”","body":"<pre><code>CellType cell = row.getCell(j).getCellTypeEnum();\n\nswitch(cell) {\n    case NUMERIC:\n        intVal = row.getCell(j).getNumericCellValue();\n        System.out.print(intVal);\n        break;\n    case STRING:\n        stringVal = row.getCell(j).getStringCellValue();\n        System.out.print(stringVal);\n        break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12110238,"reputation":190,"user_id":8847395,"accept_rate":100,"display_name":"Kiran Antony"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1550819567,"creation_date":1535651961,"answer_id":52102928,"question_id":30125465,"body_markdown":"use the code &lt;br/&gt;\r\n`cell.setCellType(Cell.CELL_TYPE_STRING); `&lt;br/&gt;\r\nbefore reading the string value, Which can help you.&lt;br/&gt;\r\nI am using POI version 3.17 Beta1 version, \r\nsure the version compatibility also..","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>use the code <br/>\n<code>cell.setCellType(Cell.CELL_TYPE_STRING);</code><br/>\nbefore reading the string value, Which can help you.<br/>\nI am using POI version 3.17 Beta1 version, \nsure the version compatibility also..</p>\n"},{"tags":[],"owner":{"account_id":14739376,"reputation":11,"user_id":10644387,"display_name":"yathin c"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542092448,"creation_date":1542092448,"answer_id":53275484,"question_id":30125465,"body_markdown":"This is one of the other method to solve the Error: &quot;Cannot get a text value from a numeric cell “Poi”&quot;\r\n\r\nGo to the Excel Sheet. Drag and Select the Numerics which you are importing Data from the Excel sheet. Go to Format &gt; Number &gt; Then Select &quot;Plain Text&quot; Then Export as .xlsx. Now Try to Run the Script\r\n\r\nHope works Fine...! \r\n\r\n[Cannot get a text value from a numeric cell “Poi”.img][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/njKzP.png","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>This is one of the other method to solve the Error: \"Cannot get a text value from a numeric cell “Poi”\"</p>\n\n<p>Go to the Excel Sheet. Drag and Select the Numerics which you are importing Data from the Excel sheet. Go to Format > Number > Then Select \"Plain Text\" Then Export as .xlsx. Now Try to Run the Script</p>\n\n<p>Hope works Fine...! </p>\n\n<p><a href=\"https://i.stack.imgur.com/njKzP.png\" rel=\"nofollow noreferrer\">Cannot get a text value from a numeric cell “Poi”.img</a></p>\n"},{"tags":[],"owner":{"account_id":447250,"reputation":2382,"user_id":840772,"accept_rate":22,"display_name":"virtuvious"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548873550,"creation_date":1548269219,"answer_id":54333793,"question_id":30125465,"body_markdown":"If you are processing in rows with cellIterator....then this worked for me ....\r\n\r\n      DataFormatter formatter = new DataFormatter();   \r\n      while(cellIterator.hasNext())\r\n\t  { \t\t\t\t\t\t\r\n\t\t\tcell = cellIterator.next();\r\n            String val = &quot;&quot;;\t\t\t\r\n\t\t\tswitch(cell.getCellType()) \r\n\t\t\t{\r\n\t\t\t    case Cell.CELL_TYPE_NUMERIC:\r\n\t\t\t        val = String.valueOf(formatter.formatCellValue(cell));\r\n\t\t\t        break;\r\n\t\t\t    case Cell.CELL_TYPE_STRING:\r\n\t\t\t        val = formatter.formatCellValue(cell);\r\n\t\t\t        break;\r\n\t\t\t}\r\n        .....\r\n        .....\r\n      }","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>If you are processing in rows with cellIterator....then this worked for me ....</p>\n\n<pre><code>  DataFormatter formatter = new DataFormatter();   \n  while(cellIterator.hasNext())\n  {                         \n        cell = cellIterator.next();\n        String val = \"\";            \n        switch(cell.getCellType()) \n        {\n            case Cell.CELL_TYPE_NUMERIC:\n                val = String.valueOf(formatter.formatCellValue(cell));\n                break;\n            case Cell.CELL_TYPE_STRING:\n                val = formatter.formatCellValue(cell);\n                break;\n        }\n    .....\n    .....\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15365078,"reputation":11,"user_id":11084864,"display_name":"Yogen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550584896,"creation_date":1550584824,"answer_id":54768052,"question_id":30125465,"body_markdown":"    public class B3PassingExcelDataBase {\r\n    \r\n    \t\r\n    \t@Test()\r\n    \t//Import the data::row start at 3 and column at 1: \r\n    \tpublic static void imortingData () throws IOException {\r\n    \t\t\r\n    \t\tFileInputStream  file=new         FileInputStream(&quot;/Users/Downloads/Book2.xlsx&quot;);\r\n    \t\tXSSFWorkbook book=new XSSFWorkbook(file);\r\n    \t\tXSSFSheet sheet=book.getSheet(&quot;Sheet1&quot;);\r\n    \t\t\r\n    \t\tint rowNum=sheet.getLastRowNum();\r\n    \t\tSystem.out.println(rowNum);\r\n    \t\t\r\n    \t\t//get the row and value and assigned to variable to use in application\r\n    \t\tfor (int r=3;r&lt;rowNum;r++) {\r\n    \t\t\t\r\n    \t\t\t// Rows stays same but column num changes and this is for only one person. It iterate for other.\r\n    \t\t\t XSSFRow currentRow=sheet.getRow(r);\r\n    \t\t\t\r\n    \t\t\t String fName=currentRow.getCell(1).toString();\r\n    \t\t\t String lName=currentRow.getCell(2).toString();\r\n    \t\t\t String phone=currentRow.getCell(3).toString();\r\n    \t\t\t String email=currentRow.getCell(4).toString()\r\n    \t\t\t \r\n                   //passing the data\r\n    \t\t\t\tyogen.findElement(By.name(&quot;firstName&quot;)).sendKeys(fName);\t;\r\n    \t\t\t\tyogen.findElement(By.name(&quot;lastName&quot;)).sendKeys(lName);\t;\r\n    \t\t\t\tyogen.findElement(By.name(&quot;phone&quot;)).sendKeys(phone);\t;\r\n    \t \r\n    \t\t}\r\n    \t\t\r\n    \t\tyogen.close();\r\n    \t\t\r\n    \t\r\n    \t}\r\n    \r\n    }","title":"Cannot get a text value from a numeric cell “Poi”","body":"<pre><code>public class B3PassingExcelDataBase {\n\n\n    @Test()\n    //Import the data::row start at 3 and column at 1: \n    public static void imortingData () throws IOException {\n\n        FileInputStream  file=new         FileInputStream(\"/Users/Downloads/Book2.xlsx\");\n        XSSFWorkbook book=new XSSFWorkbook(file);\n        XSSFSheet sheet=book.getSheet(\"Sheet1\");\n\n        int rowNum=sheet.getLastRowNum();\n        System.out.println(rowNum);\n\n        //get the row and value and assigned to variable to use in application\n        for (int r=3;r&lt;rowNum;r++) {\n\n            // Rows stays same but column num changes and this is for only one person. It iterate for other.\n             XSSFRow currentRow=sheet.getRow(r);\n\n             String fName=currentRow.getCell(1).toString();\n             String lName=currentRow.getCell(2).toString();\n             String phone=currentRow.getCell(3).toString();\n             String email=currentRow.getCell(4).toString()\n\n               //passing the data\n                yogen.findElement(By.name(\"firstName\")).sendKeys(fName);    ;\n                yogen.findElement(By.name(\"lastName\")).sendKeys(lName); ;\n                yogen.findElement(By.name(\"phone\")).sendKeys(phone);    ;\n\n        }\n\n        yogen.close();\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":420683,"reputation":10207,"user_id":798502,"accept_rate":86,"display_name":"seinecle"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680177092,"creation_date":1621346527,"answer_id":67587831,"question_id":30125465,"body_markdown":"Helper method for different cell types:\r\n\r\n    private static String returnStringValue(Cell cell) {\r\n        CellType cellType = cell.getCellType();\r\n    \r\n        switch (cellType) {\r\n            case NUMERIC -&gt; {\r\n                double doubleVal = cell.getNumericCellValue();\r\n                if (doubleVal == (int) doubleVal) {\r\n                    int value = Double.valueOf(doubleVal).intValue();\r\n                    return String.valueOf(value);\r\n                } else {\r\n                    return String.valueOf(doubleVal);\r\n                }\r\n            }\r\n            case STRING -&gt; {\r\n                return cell.getStringCellValue();\r\n            }\r\n            case ERROR -&gt; {\r\n                return String.valueOf(cell.getErrorCellValue());\r\n            }\r\n            case BLANK -&gt; {\r\n                return &quot;&quot;;\r\n            }\r\n            case FORMULA -&gt; {\r\n                return cell.getCellFormula();\r\n            }\r\n            case BOOLEAN -&gt; {\r\n                return String.valueOf(cell.getBooleanCellValue());\r\n            }\r\n        }\r\n        return &quot;error decoding string value of the cell&quot;;\r\n\r\n    }","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>Helper method for different cell types:</p>\n<pre><code>private static String returnStringValue(Cell cell) {\n    CellType cellType = cell.getCellType();\n\n    switch (cellType) {\n        case NUMERIC -&gt; {\n            double doubleVal = cell.getNumericCellValue();\n            if (doubleVal == (int) doubleVal) {\n                int value = Double.valueOf(doubleVal).intValue();\n                return String.valueOf(value);\n            } else {\n                return String.valueOf(doubleVal);\n            }\n        }\n        case STRING -&gt; {\n            return cell.getStringCellValue();\n        }\n        case ERROR -&gt; {\n            return String.valueOf(cell.getErrorCellValue());\n        }\n        case BLANK -&gt; {\n            return &quot;&quot;;\n        }\n        case FORMULA -&gt; {\n            return cell.getCellFormula();\n        }\n        case BOOLEAN -&gt; {\n            return String.valueOf(cell.getBooleanCellValue());\n        }\n    }\n    return &quot;error decoding string value of the cell&quot;;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18466069,"reputation":1,"user_id":13452214,"display_name":"Anany Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658143881,"creation_date":1658143301,"answer_id":73021531,"question_id":30125465,"body_markdown":"    public static List&lt;SupplierSubmittedDataMapperModel&gt; convertExcelToList(String NAME){\r\n\t\r\n\t\tList&lt;SupplierSubmittedDataMapperModel&gt; list = new ArrayList&lt;&gt;();\r\n\t\ttry {\r\n\t\t\tFileInputStream file = new FileInputStream(new File(NAME));\r\n\t\t\tDataFormatter dataFormatter = new DataFormatter();\r\n\t\t\tXSSFWorkbook workbook = new XSSFWorkbook(file);\r\n\t\t\tXSSFSheet sheet = workbook.getSheetAt(2);\r\n\t\t\t\r\n\t\t\tint rowNumber = 2;\r\n\t\t\t  Iterator&lt;Row&gt; iterator = sheet.iterator();\r\n\t\t\t  while(iterator.hasNext()) {\r\n\t\t\t\t  Row row=iterator.next();\r\n\t\t\t\t  \r\n\t\t\t\t  \r\n\t\t\t\t  Iterator&lt;Cell&gt; cells = row.iterator();\r\n\t\t\t\t  int cid = 0;\r\n\t\t\t\t  SupplierSubmittedDataMapperModel sp = new SupplierSubmittedDataMapperModel();\r\n\t\t\t\t \r\n\t\t\t\t  while(cells.hasNext()) {\r\n\t\t\t\t\t  Cell cell = cells.next();\r\n\t\t\t\t\t  String cellValue = dataFormatter.formatCellValue(cell.getRow().getCell(cid));\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  switch(cid) {\r\n\t\t\t\t\t  case 0:\r\n\t\t\t\t\t\t  sp.setSectorType(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 1:\r\n\t\t\t\t\t\t  sp.setPlatformFamily(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 2:\r\n\t\t\t\t\t\t  sp.setT1Supplier(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 3:\r\n\t\t\t\t\t\t  sp.setT2Supplier(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 4:\r\n\t\t\t\t\t\t  sp.setDistribotor(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 5:\r\n\t\t\t\t\t\t  sp.setT2PartCodeAtT1(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 6:\r\n\t\t\t\t\t\t  sp.setT2PartNumber(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 7:\r\n\t\t\t\t\t\t  sp.setLoA(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 8:\r\n\t\t\t\t\t\t  sp.setMultiSource(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 9:\r\n\t\t\t\t\t\t  sp.setQtyUsage(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 10:\r\n\t\t\t\t\t\t  sp.setDataType(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 11:\r\n\t\t\t\t\t\t  sp.setWeek22(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 12:\r\n\t\t\t\t\t\t  sp.setWeek23(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 13:\r\n\t\t\t\t\t\t  sp.setWeek23(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 14:\r\n\t\t\t\t\t\t  sp.setWeek24(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 15:\r\n\t\t\t\t\t\t  sp.setWeek25(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 16:\r\n\t\t\t\t\t\t  sp.setWeek26(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 17:\r\n\t\t\t\t\t\t  sp.setWeek27(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 18:\r\n\t\t\t\t\t\t  sp.setWeek28(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 19:\r\n\t\t\t\t\t\t  sp.setWeek29(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 20:\r\n\t\t\t\t\t\t  sp.setWeek30(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 21:\r\n\t\t\t\t\t\t  sp.setWeek31(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 22:\r\n\t\t\t\t\t\t  sp.setWeek32(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 23:\r\n\t\t\t\t\t\t  sp.setWeek33(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 24:\r\n\t\t\t\t\t\t  sp.setWeek34(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 25:\r\n\t\t\t\t\t\t  sp.setWeek35(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 26:\r\n\t\t\t\t\t\t  sp.setWeek36(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 27:\r\n\t\t\t\t\t\t  sp.setWeek37(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 28:\r\n\t\t\t\t\t\t  sp.setWeek38(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 29:\r\n\t\t\t\t\t\t  sp.setWeek39(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 30:\r\n\t\t\t\t\t\t  sp.setWeek40(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 31:\r\n\t\t\t\t\t\t  sp.setWeek41(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 32:\r\n\t\t\t\t\t\t  sp.setWeek42(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 33:\r\n\t\t\t\t\t\t  sp.setWeek43(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 34:\r\n\t\t\t\t\t\t  sp.setWeek44(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 35:\r\n\t\t\t\t\t\t  sp.setWeek45(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 36:\r\n\t\t\t\t\t\t  sp.setWeek46(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 37:\r\n\t\t\t\t\t\t  sp.setWeek47(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 38:\r\n\t\t\t\t\t\t  sp.setWeek48(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 39:\r\n\t\t\t\t\t\t  sp.setWeek49(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 40:\r\n\t\t\t\t\t\t  sp.setWeek50(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 41:\r\n\t\t\t\t\t\t  sp.setWeek51(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 42:\r\n\t\t\t\t\t\t  sp.setWeek52(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 43:\r\n\t\t\t\t\t\t  sp.setYear2023(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 44:\r\n\t\t\t\t\t\t  sp.setYear2024(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  case 45:\r\n\t\t\t\t\t\t  sp.setYear2059(cellValue);\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  default :\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t\t  \r\n\t\t\t\t\t  \r\n\t\t\t\t\t  }\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  cid++;\r\n\t\t\t\t\t  \r\n\t\t\t\t  }\r\n\t\t\t\t  list.add(sp);\r\n\t\t\t\t System.out.println(sp);\r\n\t\t\t\t   }\r\n\t\t\t  \r\n\t\t\t  workbook.close();\r\n\t\t\t}catch(Exception e) {\r\n\t\t\t\r\n\t\t\te.printStackTrace();\r\n\t\t\t}\t\r\n\t\treturn list;\r\n\t\r\n\t}\r\n\t","title":"Cannot get a text value from a numeric cell “Poi”","body":"<pre><code>public static List&lt;SupplierSubmittedDataMapperModel&gt; convertExcelToList(String NAME){\n\n    List&lt;SupplierSubmittedDataMapperModel&gt; list = new ArrayList&lt;&gt;();\n    try {\n        FileInputStream file = new FileInputStream(new File(NAME));\n        DataFormatter dataFormatter = new DataFormatter();\n        XSSFWorkbook workbook = new XSSFWorkbook(file);\n        XSSFSheet sheet = workbook.getSheetAt(2);\n        \n        int rowNumber = 2;\n          Iterator&lt;Row&gt; iterator = sheet.iterator();\n          while(iterator.hasNext()) {\n              Row row=iterator.next();\n              \n              \n              Iterator&lt;Cell&gt; cells = row.iterator();\n              int cid = 0;\n              SupplierSubmittedDataMapperModel sp = new SupplierSubmittedDataMapperModel();\n             \n              while(cells.hasNext()) {\n                  Cell cell = cells.next();\n                  String cellValue = dataFormatter.formatCellValue(cell.getRow().getCell(cid));\n                  \n                  switch(cid) {\n                  case 0:\n                      sp.setSectorType(cellValue);\n                      break;\n                  case 1:\n                      sp.setPlatformFamily(cellValue);\n                      break;\n                  case 2:\n                      sp.setT1Supplier(cellValue);\n                      break;\n                  case 3:\n                      sp.setT2Supplier(cellValue);\n                      break;\n                  case 4:\n                      sp.setDistribotor(cellValue);\n                      break;\n                  case 5:\n                      sp.setT2PartCodeAtT1(cellValue);\n                      break;\n                  case 6:\n                      sp.setT2PartNumber(cellValue);\n                      break;\n                  case 7:\n                      sp.setLoA(cellValue);\n                      break;\n                  case 8:\n                      sp.setMultiSource(cellValue);\n                      break;\n                  case 9:\n                      sp.setQtyUsage(cellValue);\n                      break;\n                  case 10:\n                      sp.setDataType(cellValue);\n                      break;\n                  case 11:\n                      sp.setWeek22(cellValue);\n                      break;\n                  case 12:\n                      sp.setWeek23(cellValue);\n                      break;\n                  case 13:\n                      sp.setWeek23(cellValue);\n                      break;\n                  case 14:\n                      sp.setWeek24(cellValue);\n                      break;\n                  case 15:\n                      sp.setWeek25(cellValue);\n                      break;\n                  case 16:\n                      sp.setWeek26(cellValue);\n                      break;\n                  case 17:\n                      sp.setWeek27(cellValue);\n                      break;\n                  case 18:\n                      sp.setWeek28(cellValue);\n                      break;\n                  case 19:\n                      sp.setWeek29(cellValue);\n                      break;\n                  case 20:\n                      sp.setWeek30(cellValue);\n                      break;\n                  case 21:\n                      sp.setWeek31(cellValue);\n                      break;\n                  case 22:\n                      sp.setWeek32(cellValue);\n                      break;\n                  case 23:\n                      sp.setWeek33(cellValue);\n                      break;\n                  case 24:\n                      sp.setWeek34(cellValue);\n                      break;\n                  case 25:\n                      sp.setWeek35(cellValue);\n                      break;\n                  case 26:\n                      sp.setWeek36(cellValue);\n                      break;\n                  case 27:\n                      sp.setWeek37(cellValue);\n                      break;\n                  case 28:\n                      sp.setWeek38(cellValue);\n                      break;\n                  case 29:\n                      sp.setWeek39(cellValue);\n                      break;\n                  case 30:\n                      sp.setWeek40(cellValue);\n                      break;\n                  case 31:\n                      sp.setWeek41(cellValue);\n                      break;\n                  case 32:\n                      sp.setWeek42(cellValue);\n                      break;\n                  case 33:\n                      sp.setWeek43(cellValue);\n                      break;\n                  case 34:\n                      sp.setWeek44(cellValue);\n                      break;\n                  case 35:\n                      sp.setWeek45(cellValue);\n                      break;\n                  case 36:\n                      sp.setWeek46(cellValue);\n                      break;\n                  case 37:\n                      sp.setWeek47(cellValue);\n                      break;\n                  case 38:\n                      sp.setWeek48(cellValue);\n                      break;\n                  case 39:\n                      sp.setWeek49(cellValue);\n                      break;\n                  case 40:\n                      sp.setWeek50(cellValue);\n                      break;\n                  case 41:\n                      sp.setWeek51(cellValue);\n                      break;\n                  case 42:\n                      sp.setWeek52(cellValue);\n                      break;\n                  case 43:\n                      sp.setYear2023(cellValue);\n                      break;\n                  case 44:\n                      sp.setYear2024(cellValue);\n                      break;\n                  case 45:\n                      sp.setYear2059(cellValue);\n                      break;\n                  default :\n                      break;\n                      \n                  \n                  }\n                  \n                  cid++;\n                  \n              }\n              list.add(sp);\n             System.out.println(sp);\n               }\n          \n          workbook.close();\n        }catch(Exception e) {\n        \n        e.printStackTrace();\n        }   \n    return list;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670934276,"creation_date":1670934276,"answer_id":74784824,"question_id":30125465,"body_markdown":"You could add the `cell.setCellType ( Cell.CELL_TYPE_STRING );` inside the loop, so it would treat the cell as per your requirement. \r\n\r\nFollowing would be the code:\r\n\r\n    WebElement searchbox = driver.findElement(By.name(&quot;j_username&quot;));\r\n    WebElement searchbox2 = driver.findElement(By.name(&quot;j_password&quot;));         \r\n    \r\n    try {\r\n        FileInputStream file = new FileInputStream(new File(&quot;C:\\\\paulo.xls&quot;)); \r\n        HSSFWorkbook workbook = new HSSFWorkbook(file);\r\n        HSSFSheet sheet = workbook.getSheetAt(0);\r\n    \r\n        for (int i=1; i &lt;= sheet.getLastRowNum(); i++){\r\n            // Row will be iterated and Cell will be 0 and 1 as per the example:   \r\n            row.getCell(0).setCellType(CellType.STRING); // set Cell Type as String\r\n            row.getCell(1).setCellType(CellType.STRING); // set Cell Type as String\r\n    \r\n            String j_username = sheet.getRow(i).getCell(0).getStringCellValue();\r\n            String j_password = sheet.getRow(i).getCell(1).getStringCellValue();\r\n    \r\n            searchbox.sendKeys(j_username);\r\n            searchbox2.sendKeys(j_password);\r\n            searchbox.submit();  \r\n    \r\n            driver.manage().timeouts().implicitlyWait(10000, TimeUnit.MILLISECONDS);\r\n        }\r\n    \r\n        workbook.close();\r\n        file.close();\r\n    } catch (FileNotFoundException fnfe) {\r\n        fnfe.printStackTrace();\r\n    } catch (IOException ioe) {\r\n        ioe.printStackTrace();","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>You could add the <code>cell.setCellType ( Cell.CELL_TYPE_STRING );</code> inside the loop, so it would treat the cell as per your requirement.</p>\n<p>Following would be the code:</p>\n<pre><code>WebElement searchbox = driver.findElement(By.name(&quot;j_username&quot;));\nWebElement searchbox2 = driver.findElement(By.name(&quot;j_password&quot;));         \n\ntry {\n    FileInputStream file = new FileInputStream(new File(&quot;C:\\\\paulo.xls&quot;)); \n    HSSFWorkbook workbook = new HSSFWorkbook(file);\n    HSSFSheet sheet = workbook.getSheetAt(0);\n\n    for (int i=1; i &lt;= sheet.getLastRowNum(); i++){\n        // Row will be iterated and Cell will be 0 and 1 as per the example:   \n        row.getCell(0).setCellType(CellType.STRING); // set Cell Type as String\n        row.getCell(1).setCellType(CellType.STRING); // set Cell Type as String\n\n        String j_username = sheet.getRow(i).getCell(0).getStringCellValue();\n        String j_password = sheet.getRow(i).getCell(1).getStringCellValue();\n\n        searchbox.sendKeys(j_username);\n        searchbox2.sendKeys(j_password);\n        searchbox.submit();  \n\n        driver.manage().timeouts().implicitlyWait(10000, TimeUnit.MILLISECONDS);\n    }\n\n    workbook.close();\n    file.close();\n} catch (FileNotFoundException fnfe) {\n    fnfe.printStackTrace();\n} catch (IOException ioe) {\n    ioe.printStackTrace();\n</code></pre>\n"}],"owner":{"account_id":4014971,"reputation":1508,"user_id":3585595,"accept_rate":69,"display_name":"Paulo Roberto"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218813,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":43775213,"answer_count":14,"score":81,"last_activity_date":1680177092,"creation_date":1431092832,"question_id":30125465,"body_markdown":"I&#39;m trying to consume data from a spreadsheet in Excel, but always of this error, already tried formatting the worksheet to text and number and still the error persists.\r\n\r\nI saw a person using it resolved `cell.setCellType ( Cell.CELL_TYPE_STRING ) ;` but I do not know where I fit this passage in my code.\r\n\r\n    WebElement searchbox = driver.findElement(By.name(&quot;j_username&quot;));\r\n    WebElement searchbox2 = driver.findElement(By.name(&quot;j_password&quot;));         \r\n\r\n    try {\r\n        FileInputStream file = new FileInputStream(new File(&quot;C:\\\\paulo.xls&quot;)); \r\n        HSSFWorkbook workbook = new HSSFWorkbook(file);\r\n        HSSFSheet sheet = workbook.getSheetAt(0);\r\n\r\n        for (int i=1; i &lt;= sheet.getLastRowNum(); i++){\r\n            String j_username = sheet.getRow(i).getCell(0).getStringCellValue();\r\n            String j_password = sheet.getRow(i).getCell(0).getStringCellValue();\r\n\r\n            searchbox.sendKeys(j_username);\r\n            searchbox2.sendKeys(j_password);\r\n            searchbox.submit();  \r\n     \r\n            driver.manage().timeouts().implicitlyWait(10000, TimeUnit.MILLISECONDS);\r\n        }\r\n\r\n        workbook.close();\r\n        file.close();\r\n    } catch (FileNotFoundException fnfe) {\r\n        fnfe.printStackTrace();\r\n    } catch (IOException ioe) {\r\n        ioe.printStackTrace();","title":"Cannot get a text value from a numeric cell “Poi”","body":"<p>I'm trying to consume data from a spreadsheet in Excel, but always of this error, already tried formatting the worksheet to text and number and still the error persists.</p>\n\n<p>I saw a person using it resolved <code>cell.setCellType ( Cell.CELL_TYPE_STRING ) ;</code> but I do not know where I fit this passage in my code.</p>\n\n<pre><code>WebElement searchbox = driver.findElement(By.name(\"j_username\"));\nWebElement searchbox2 = driver.findElement(By.name(\"j_password\"));         \n\ntry {\n    FileInputStream file = new FileInputStream(new File(\"C:\\\\paulo.xls\")); \n    HSSFWorkbook workbook = new HSSFWorkbook(file);\n    HSSFSheet sheet = workbook.getSheetAt(0);\n\n    for (int i=1; i &lt;= sheet.getLastRowNum(); i++){\n        String j_username = sheet.getRow(i).getCell(0).getStringCellValue();\n        String j_password = sheet.getRow(i).getCell(0).getStringCellValue();\n\n        searchbox.sendKeys(j_username);\n        searchbox2.sendKeys(j_password);\n        searchbox.submit();  \n\n        driver.manage().timeouts().implicitlyWait(10000, TimeUnit.MILLISECONDS);\n    }\n\n    workbook.close();\n    file.close();\n} catch (FileNotFoundException fnfe) {\n    fnfe.printStackTrace();\n} catch (IOException ioe) {\n    ioe.printStackTrace();\n</code></pre>\n"},{"tags":["java","postgresql","spring-data-jpa"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1680175906,"post_id":75886233,"comment_id":133855389,"body_markdown":"Does this answer your question? [How to convert Set&lt;String&gt; to String\\[\\]?](https://stackoverflow.com/questions/5982447/how-to-convert-setstring-to-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5982447/how-to-convert-setstring-to-string\">How to convert Set&lt;String&gt; to String&#91;&#93;?</a>"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":1,"creation_date":1680180967,"post_id":75886233,"comment_id":133856724,"body_markdown":"[This link](https://stackoverflow.com/questions/70944044/check-existence-of-multiple-ids-with-spring-data-jpa) might also help you achieve the desired result.","body":"<a href=\"https://stackoverflow.com/questions/70944044/check-existence-of-multiple-ids-with-spring-data-jpa\">This link</a> might also help you achieve the desired result."}],"answers":[{"tags":[],"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680176710,"creation_date":1680175681,"answer_id":75887642,"question_id":75886233,"body_markdown":"What works ist to send the ids as array constant in string format, i.e.\r\n\r\n    &#39;{00000000-0000-0014-0000-000000000001, 00000000-0000-0014-0000-000000000002}&#39;\r\n\r\n\r\nso what could work is\r\n\r\n    @Query(value =\r\n            &quot;SELECT COUNT(1) = 0 &quot; +\r\n                    &quot;FROM unnest(cast(:ids AS UUID[])) AS checked_id &quot; +\r\n                    &quot;WHERE checked_id NOT IN (&quot; +\r\n                    &quot;   SELECT DISTINCT(id) &quot; +\r\n                    &quot;   FROM my_table&quot; +\r\n                    &quot;   WHERE id IN (:idset)&quot; +\r\n                    &quot;)&quot;,\r\n            nativeQuery = true)\r\n    boolean allIdsPresented(String ids, Set&lt;UUID&gt; idset);\r\n\r\n    default boolean allIdsPresented(Set&lt;UUID&gt; ids) {\r\n        return allIdsPresented( &quot;{&quot;+ids.stream().map(UUID::toString).collect(Collectors.joining(&quot;,&quot;)) + &quot;}&quot;, ids);\r\n    }\r\n\r\n","title":"How cast Set&lt;UUID&gt; to UUID array in Spring Jpa","body":"<p>What works ist to send the ids as array constant in string format, i.e.</p>\n<pre><code>'{00000000-0000-0014-0000-000000000001, 00000000-0000-0014-0000-000000000002}'\n</code></pre>\n<p>so what could work is</p>\n<pre><code>@Query(value =\n        &quot;SELECT COUNT(1) = 0 &quot; +\n                &quot;FROM unnest(cast(:ids AS UUID[])) AS checked_id &quot; +\n                &quot;WHERE checked_id NOT IN (&quot; +\n                &quot;   SELECT DISTINCT(id) &quot; +\n                &quot;   FROM my_table&quot; +\n                &quot;   WHERE id IN (:idset)&quot; +\n                &quot;)&quot;,\n        nativeQuery = true)\nboolean allIdsPresented(String ids, Set&lt;UUID&gt; idset);\n\ndefault boolean allIdsPresented(Set&lt;UUID&gt; ids) {\n    return allIdsPresented( &quot;{&quot;+ids.stream().map(UUID::toString).collect(Collectors.joining(&quot;,&quot;)) + &quot;}&quot;, ids);\n}\n</code></pre>\n"}],"owner":{"account_id":22847253,"reputation":1,"user_id":16993430,"display_name":"Oleg Picik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680176710,"creation_date":1680167372,"question_id":75886233,"body_markdown":"I need a method that checks whether all ids from the set are presented in the DB, so I wrote this query, but I have a problem with casting a set to an array. I use Postgres.\r\n\r\nMy method:\r\n\r\n```java\r\n@Query(value =\r\n        &quot;SELECT COUNT(1) = 0 &quot; +\r\n                &quot;FROM unnest(cast((:ids) AS UUID[])) AS checked_id &quot; +\r\n                &quot;WHERE checked_id NOT IN (&quot; +\r\n                &quot;   SELECT DISTINCT(id) &quot; +\r\n                &quot;   FROM my_table&quot; +\r\n                &quot;   WHERE id IN (:ids)&quot; +\r\n                &quot;)&quot;,\r\n        nativeQuery = true)\r\nboolean allIdsPresented(Set&lt;UUID&gt; ids);\r\n```\r\n```none\r\nERROR: cannot cast type record to uuid[]\r\n\r\n    Hibernate converts it as: SELECT COUNT(1) = 0 FROM unnest(cast((?, ?, ?) AS UUID[])) ....\r\n```","title":"How cast Set&lt;UUID&gt; to UUID array in Spring Jpa","body":"<p>I need a method that checks whether all ids from the set are presented in the DB, so I wrote this query, but I have a problem with casting a set to an array. I use Postgres.</p>\n<p>My method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value =\n        &quot;SELECT COUNT(1) = 0 &quot; +\n                &quot;FROM unnest(cast((:ids) AS UUID[])) AS checked_id &quot; +\n                &quot;WHERE checked_id NOT IN (&quot; +\n                &quot;   SELECT DISTINCT(id) &quot; +\n                &quot;   FROM my_table&quot; +\n                &quot;   WHERE id IN (:ids)&quot; +\n                &quot;)&quot;,\n        nativeQuery = true)\nboolean allIdsPresented(Set&lt;UUID&gt; ids);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>ERROR: cannot cast type record to uuid[]\n\n    Hibernate converts it as: SELECT COUNT(1) = 0 FROM unnest(cast((?, ?, ?) AS UUID[])) ....\n</code></pre>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":18669285,"reputation":91,"user_id":13608506,"display_name":"pbl9"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680176615,"creation_date":1680176615,"question_id":75887805,"body_markdown":"I know that from Android 12 deep links with web scheme (http or https) are open by browser by default and to change that proper json file must be provided avalable from specific domain like described in that article https://doordash.engineering/2022/01/25/your-deep-links-might-be-broken-web-intents-and-android-12/. However when in app settings user sets &#39;Supported web address&#39; in Settings -&gt; &#39;App&#39; -&gt; Set as default -&gt; Supported web address web links are open by app. So, my question is: Is a way to check programmaticaly using Android API to check if user enabled supported web addresses for given application? I know that is not a perfect solution and I suppose that is not possible but maybe I&#39;m missing something.  \r\n\r\nI tried to query all aplications that can open my deep link with https scheme and on devices with android version lower than 12 I saw my app but in android 12 and above my app wasn&#39;t on that list even if I enabled supported web address for my app.","title":"Android 12 retrieve open by default setting","body":"<p>I know that from Android 12 deep links with web scheme (http or https) are open by browser by default and to change that proper json file must be provided avalable from specific domain like described in that article <a href=\"https://doordash.engineering/2022/01/25/your-deep-links-might-be-broken-web-intents-and-android-12/\" rel=\"nofollow noreferrer\">https://doordash.engineering/2022/01/25/your-deep-links-might-be-broken-web-intents-and-android-12/</a>. However when in app settings user sets 'Supported web address' in Settings -&gt; 'App' -&gt; Set as default -&gt; Supported web address web links are open by app. So, my question is: Is a way to check programmaticaly using Android API to check if user enabled supported web addresses for given application? I know that is not a perfect solution and I suppose that is not possible but maybe I'm missing something.</p>\n<p>I tried to query all aplications that can open my deep link with https scheme and on devices with android version lower than 12 I saw my app but in android 12 and above my app wasn't on that list even if I enabled supported web address for my app.</p>\n"},{"tags":["java","spring-boot","maven","gradle"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1680179496,"post_id":75887803,"comment_id":133856295,"body_markdown":"What is the reason you want to set up a Gradle and a Maven build? This is an unusual requirement.","body":"What is the reason you want to set up a Gradle and a Maven build? This is an unusual requirement."},{"owner":{"account_id":10579662,"reputation":25,"user_id":7793981,"display_name":"SZ."},"score":0,"creation_date":1680180623,"post_id":75887803,"comment_id":133856603,"body_markdown":"I have been assigned this task.","body":"I have been assigned this task."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1680181049,"post_id":75887803,"comment_id":133856755,"body_markdown":"Please explain to us the background behind this assignment. Why is it useful in your case?","body":"Please explain to us the background behind this assignment. Why is it useful in your case?"},{"owner":{"account_id":10579662,"reputation":25,"user_id":7793981,"display_name":"SZ."},"score":0,"creation_date":1680181166,"post_id":75887803,"comment_id":133856796,"body_markdown":"To make comparison between gradle and maven build in terms of efficiency. It&#39;s mandatory that I do it on same project.","body":"To make comparison between gradle and maven build in terms of efficiency. It&#39;s mandatory that I do it on same project."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1680182458,"post_id":75887803,"comment_id":133857220,"body_markdown":"Then I would create two git branches of the same project, one with Gradle and one with Maven. This allows you to compare efficiency without having to use both at once.","body":"Then I would create two git branches of the same project, one with Gradle and one with Maven. This allows you to compare efficiency without having to use both at once."},{"owner":{"account_id":10579662,"reputation":25,"user_id":7793981,"display_name":"SZ."},"score":0,"creation_date":1680183314,"post_id":75887803,"comment_id":133857497,"body_markdown":"Even if I do that, this issue persists. incompatible types, because dependancies are same","body":"Even if I do that, this issue persists. incompatible types, because dependancies are same"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1680186185,"post_id":75887803,"comment_id":133858360,"body_markdown":"Based on what I see is that you seemed to be using different versions of dependencies because of the differences jakarta/javax... I would analyse the dependency tree exactly... and see what the used transitive dependencies are... I expect there are some differences...","body":"Based on what I see is that you seemed to be using different versions of dependencies because of the differences jakarta/javax... I would analyse the dependency tree exactly... and see what the used transitive dependencies are... I expect there are some differences..."}],"owner":{"account_id":10579662,"reputation":25,"user_id":7793981,"display_name":"SZ."},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680176590,"creation_date":1680176590,"question_id":75887803,"body_markdown":"I have a Spring Boot application with the following project structure:\r\n\r\nMain\r\n- serverModule\r\n- coreModule\r\n\r\nInitially, I set up my project using Gradle and everything was working fine with my dependencies. However, I&#39;m now trying to add the same dependencies to my Maven build as well to have both Gradle and Maven builds side by side.\r\n\r\nThe issue I&#39;m facing is that I&#39;m getting a compatibility error when I build with Maven. The error message says:\r\n\r\n**incompatible types: @javax.validation.constraints.NotNull javax.servlet.http.HttpServletRequest cannot be converted to jakarta.servlet.http.HttpServletRequest**\r\n\r\nI understand that the error is related to the use of different servlet classes by different versions of the validation library. However, I&#39;m not sure how to resolve this issue so that I can use both Gradle and Maven builds without any compatibility issues.\r\n\r\n\r\nI have tried the following steps so far:\r\n\r\n- Adding Jakarta instead of Java\r\n- Copying exact versions from my Gradle build\r\n- Adding the Java dependency for validation in Maven (whereas in Gradle, implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39; was enough to provide validation)\r\n- Updating the OkHttp dependency to com.squareup.okhttp3 in Maven (whereas in Gradle, implementation &#39;com.c.okhttp3:okhttp:4.10.0&#39; was working alright)\r\n\r\nHowever, I&#39;m still unable to resolve this compatibility error and use both Gradle and Maven builds without any issues.\r\n\r\nCan someone please suggest a solution to resolve this error and help me set up both Gradle and Maven builds for my Spring Boot application? Thank you in advance!","title":"How to resolve compatibility issue when using both Gradle and Maven builds in Spring Boot application?","body":"<p>I have a Spring Boot application with the following project structure:</p>\n<p>Main</p>\n<ul>\n<li>serverModule</li>\n<li>coreModule</li>\n</ul>\n<p>Initially, I set up my project using Gradle and everything was working fine with my dependencies. However, I'm now trying to add the same dependencies to my Maven build as well to have both Gradle and Maven builds side by side.</p>\n<p>The issue I'm facing is that I'm getting a compatibility error when I build with Maven. The error message says:</p>\n<p><strong>incompatible types: @javax.validation.constraints.NotNull javax.servlet.http.HttpServletRequest cannot be converted to jakarta.servlet.http.HttpServletRequest</strong></p>\n<p>I understand that the error is related to the use of different servlet classes by different versions of the validation library. However, I'm not sure how to resolve this issue so that I can use both Gradle and Maven builds without any compatibility issues.</p>\n<p>I have tried the following steps so far:</p>\n<ul>\n<li>Adding Jakarta instead of Java</li>\n<li>Copying exact versions from my Gradle build</li>\n<li>Adding the Java dependency for validation in Maven (whereas in Gradle, implementation 'org.springframework.boot:spring-boot-starter-validation' was enough to provide validation)</li>\n<li>Updating the OkHttp dependency to com.squareup.okhttp3 in Maven (whereas in Gradle, implementation 'com.c.okhttp3:okhttp:4.10.0' was working alright)</li>\n</ul>\n<p>However, I'm still unable to resolve this compatibility error and use both Gradle and Maven builds without any issues.</p>\n<p>Can someone please suggest a solution to resolve this error and help me set up both Gradle and Maven builds for my Spring Boot application? Thank you in advance!</p>\n"},{"tags":["java","sorting","group-by"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1680176781,"post_id":75887800,"comment_id":133855616,"body_markdown":"You are on the right track with `Collectors.groupingBy` and `Collectors.counting`. Once you have the map from character to count (e.g. `Map&lt;Character,Long&gt; counts;`), you can use it for sorting, i.e. `list.sort(Comparator.comparing(string -&gt; counts.get(string.charAt(0)));` or `list.sort(Collections.reverseOrder((Comparator.comparing(string -&gt; counts.get(string.charAt(0))));`","body":"You are on the right track with <code>Collectors.groupingBy</code> and <code>Collectors.counting</code>. Once you have the map from character to count (e.g. <code>Map&lt;Character,Long&gt; counts;</code>), you can use it for sorting, i.e. <code>list.sort(Comparator.comparing(string -&gt; counts.get(string.charAt(0)));</code> or <code>list.sort(Collections.reverseOrder((Comparator.comparing(str&zwnj;&#8203;ing -&gt; counts.get(string.charAt(0))));</code>"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1680199464,"post_id":75887800,"comment_id":133861929,"body_markdown":"@Holger how does the above guarantee that the subgroups are also sorted in lexical order.  E.g.  ABF and ABG should be in ascending lexical order and not ABG followed by ABF.  Unless it is coincidental, the expected output has a regular lexical ordering in addition to the count.","body":"@Holger how does the above guarantee that the subgroups are also sorted in lexical order.  E.g.  ABF and ABG should be in ascending lexical order and not ABG followed by ABF.  Unless it is coincidental, the expected output has a regular lexical ordering in addition to the count."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1680252052,"post_id":75887800,"comment_id":133870019,"body_markdown":"@WJS there’s nothing said about lexical order but that would be the easier task. At the moment, it’s not even clear whether the second character based sub-ordering should use the frequency within the group or the total frequency among the entire list. The example is not sufficient to describe the task…","body":"@WJS there’s nothing said about lexical order but that would be the easier task. At the moment, it’s not even clear whether the second character based sub-ordering should use the frequency within the group or the total frequency among the entire list. The example is not sufficient to describe the task…"},{"owner":{"account_id":8088644,"reputation":1066,"user_id":6095334,"display_name":"Hervian"},"score":0,"creation_date":1680266577,"post_id":75887800,"comment_id":133873479,"body_markdown":"Holger&#39;s answer gave me just what I needed. Thanks. As hinted at by WJS&#39;s comment I also wanted to use lexicographical ordering whenever two groups have same size. This is why ABF comes before ABG: they are both part of the charAt(0)=A group, and part of the charAt(1)=B group. But to provide a consistent sorting I needed lexicographical sorting for the charAt(2) group since they both have the group size/count=1 for their 3rd char. Luckily this was an easy addition. Subordering happens within the group - fx: once Strings starting with B has been placed in top they remain at top.","body":"Holger&#39;s answer gave me just what I needed. Thanks. As hinted at by WJS&#39;s comment I also wanted to use lexicographical ordering whenever two groups have same size. This is why ABF comes before ABG: they are both part of the charAt(0)=A group, and part of the charAt(1)=B group. But to provide a consistent sorting I needed lexicographical sorting for the charAt(2) group since they both have the group size/count=1 for their 3rd char. Luckily this was an easy addition. Subordering happens within the group - fx: once Strings starting with B has been placed in top they remain at top."}],"owner":{"account_id":8088644,"reputation":1066,"user_id":6095334,"display_name":"Hervian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680176573,"creation_date":1680176573,"question_id":75887800,"body_markdown":"I want to sort a list of strings in a way where the strings are sorted by the biggest group with respect to the first char, then the second char, then the third char etc.  \r\nThe result should be that the strings at top of the list all belong to the biggest group when inspecting the first char. Within this group the top most should be the one whose second char belongs to the biggest group etc.\r\n\r\nHere is an example of strings that are sorted the way I hope to achieve:  \r\n```\r\nBYA\r\nBYB\r\nBYC\r\nBXD\r\nBXE\r\nABF\r\nABG\r\nAAH\r\nCAI\r\n```\r\nNote that all those strings starting with B comes first in the list because if we group on first char then the group of strings that begins with the letter B is the biggest. The sub-sort of the strings within this group are ordered by a similar logic: Those that have the the letter Y in the second place belongs to the biggest group for which reason they appear at the top.  \r\n\r\nI am unsure if this is best solved using an algoritm or a datastructure.\r\nI have tried to use the Stream api and `Collectors.groupingBy` and `Collectors.counting` but this gives me a map from Character to all those strings beginning with that Character but I need to sort the list.","title":"Sort list of strings by grouping on first char so that all those string from biggest group comes first, then those from second biggest group etc","body":"<p>I want to sort a list of strings in a way where the strings are sorted by the biggest group with respect to the first char, then the second char, then the third char etc.<br />\nThe result should be that the strings at top of the list all belong to the biggest group when inspecting the first char. Within this group the top most should be the one whose second char belongs to the biggest group etc.</p>\n<p>Here is an example of strings that are sorted the way I hope to achieve:</p>\n<pre><code>BYA\nBYB\nBYC\nBXD\nBXE\nABF\nABG\nAAH\nCAI\n</code></pre>\n<p>Note that all those strings starting with B comes first in the list because if we group on first char then the group of strings that begins with the letter B is the biggest. The sub-sort of the strings within this group are ordered by a similar logic: Those that have the the letter Y in the second place belongs to the biggest group for which reason they appear at the top.</p>\n<p>I am unsure if this is best solved using an algoritm or a datastructure.\nI have tried to use the Stream api and <code>Collectors.groupingBy</code> and <code>Collectors.counting</code> but this gives me a map from Character to all those strings beginning with that Character but I need to sort the list.</p>\n"},{"tags":["java","apache-spark","hadoop"],"comments":[{"owner":{"account_id":8504996,"reputation":1111,"user_id":6376877,"display_name":"Amit"},"score":1,"creation_date":1680181623,"post_id":75887719,"comment_id":133856949,"body_markdown":"Please refer this - https://archive.apache.org/dist/spark/spark-3.0.1/  and see if you have downloaded spark built with Hadoop 2.7 ( which is the version of hadoop you have shown above)","body":"Please refer this - <a href=\"https://archive.apache.org/dist/spark/spark-3.0.1/\" rel=\"nofollow noreferrer\">archive.apache.org/dist/spark/spark-3.0.1</a>  and see if you have downloaded spark built with Hadoop 2.7 ( which is the version of hadoop you have shown above)"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680215534,"post_id":75887719,"comment_id":133865290,"body_markdown":"Why not use latest Hadoop 3 version?","body":"Why not use latest Hadoop 3 version?"}],"owner":{"account_id":10966452,"reputation":61,"user_id":8058046,"display_name":"Ilya Timokhin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680176094,"creation_date":1680176094,"question_id":75887719,"body_markdown":"Let&#39;s assume that we have the next simple command:\r\n\r\n`./spark-sql --master spark://&lt;ip:port&gt; --driver-memory 2G --driver-cores 1 --num-executors 10 --executor-cores 4 --executor-memory 10G` \r\n\r\n**[Problem] On its execution Spark returns the next message:**\r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.spark.sql.AnalysisException: java.lang.UnsatisfiedLinkError: org.apache.                  hadoop.io.nativeio.NativeIO$POSIX.stat(Ljava/lang/String;)Lorg/apache/hadoop/io/nativeio/NativeIO$POSIX$Stat;;\r\n        at org.apache.spark.sql.hive.HiveExternalCatalog.withClient(HiveExternalCatalog.scala:113)\r\n        at org.apache.spark.sql.hive.HiveExternalCatalog.databaseExists(HiveExternalCatalog.scala:225)\r\n        at org.apache.spark.sql.internal.SharedState.externalCatalog$lzycompute(SharedState.scala:137)\r\n        at org.apache.spark.sql.internal.SharedState.externalCatalog(SharedState.scala:127)\r\n        at org.apache.spark.sql.internal.SharedState.globalTempViewManager$lzycompute(SharedState.scala:157)\r\n        at org.apache.spark.sql.internal.SharedState.globalTempViewManager(SharedState.scala:155)\r\n        at org.apache.spark.sql.hive.HiveSessionStateBuilder.$anonfun$catalog$2(HiveSessionStateBuilder.scala:                  60)\r\n        at org.apache.spark.sql.catalyst.catalog.SessionCatalog.globalTempViewManager$lzycompute(SessionCatalo                  g.scala:93)\r\n        at org.apache.spark.sql.catalyst.catalog.SessionCatalog.globalTempViewManager(SessionCatalog.scala:93)\r\n        at org.apache.spark.sql.catalyst.catalog.SessionCatalog.setCurrentDatabase(SessionCatalog.scala:260)\r\n        at org.apache.spark.sql.connector.catalog.CatalogManager.setCurrentNamespace(CatalogManager.scala:113)\r\n        at org.apache.spark.sql.execution.datasources.v2.SetCatalogAndNamespaceExec.$anonfun$run$2(SetCatalogA                  ndNamespaceExec.scala:36)\r\n        at org.apache.spark.sql.execution.datasources.v2.SetCatalogAndNamespaceExec.$anonfun$run$2$adapted(Set                  CatalogAndNamespaceExec.scala:36)\r\n        at scala.Option.map(Option.scala:230)\r\n        at org.apache.spark.sql.execution.datasources.v2.SetCatalogAndNamespaceExec.run(SetCatalogAndNamespace                  Exec.scala:36)\r\n        at org.apache.spark.sql.execution.datasources.v2.V2CommandExec.result$lzycompute(V2CommandExec.scala:3                  9)\r\n        at org.apache.spark.sql.execution.datasources.v2.V2CommandExec.result(V2CommandExec.scala:39)\r\n        at org.apache.spark.sql.execution.datasources.v2.V2CommandExec.executeCollect(V2CommandExec.scala:45)\r\n        at org.apache.spark.sql.Dataset.$anonfun$logicalPlan$1(Dataset.scala:229)\r\n        at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3618)\r\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:100)\r\n        at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:160)\r\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:87)\r\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\r\n        at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n        at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3616)\r\n        at org.apache.spark.sql.Dataset.&lt;init&gt;(Dataset.scala:229)\r\n        at org.apache.spark.sql.Dataset$.$anonfun$ofRows$2(Dataset.scala:100)\r\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\r\n        at org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:97)\r\n        at org.apache.spark.sql.SparkSession.$anonfun$sql$1(SparkSession.scala:607)\r\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\r\n        at org.apache.spark.sql.SparkSession.sql(SparkSession.scala:602)\r\n        at org.gts.torchlight.sql.SchemaSql$.calculate(SchemaSql.scala:68)\r\n        at org.gts.torchlight.sql.SchemaSql$.runTask(SchemaSql.scala:161)\r\n        at org.gts.torchlight.sql.SchemaSql$.main(SchemaSql.scala:186)\r\n        at org.gts.torchlight.sql.SchemaSql.main(SchemaSql.scala)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:                  928)\r\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\r\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\r\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\r\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1007)\r\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1016)\r\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\nCaused by: java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$POSIX.stat(Ljava/lang/String                  ;)Lorg/apache/hadoop/io/nativeio/NativeIO$POSIX$Stat;\r\n        at org.apache.hadoop.io.nativeio.NativeIO$POSIX.stat(Native Method)\r\n        at org.apache.hadoop.io.nativeio.NativeIO$POSIX.getStat(NativeIO.java:456)\r\n        at org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.loadPermissionInfoByNativeIO(R                  awLocalFileSystem.java:821)\r\n        at org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.loadPermissionInfo(RawLocalFil                  eSystem.java:735)\r\n        at org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.getPermission(RawLocalFileSyst                  em.java:703)\r\n        at org.apache.hadoop.hive.ql.session.SessionState.createRootHDFSDir(SessionState.java:711)\r\n        at org.apache.hadoop.hive.ql.session.SessionState.createSessionDirs(SessionState.java:654)\r\n        at org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:586)\r\n        at org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:548)\r\n        at org.apache.spark.sql.hive.client.HiveClientImpl.newState(HiveClientImpl.scala:175)\r\n        at org.apache.spark.sql.hive.client.HiveClientImpl.&lt;init&gt;(HiveClientImpl.scala:128)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45                  )\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n        at org.apache.spark.sql.hive.client.IsolatedClientLoader.createClient(IsolatedClientLoader.scala:301)\r\n        at org.apache.spark.sql.hive.HiveUtils$.newClientForMetadata(HiveUtils.scala:431)\r\n        at org.apache.spark.sql.hive.HiveUtils$.newClientForMetadata(HiveUtils.scala:324)\r\n        at org.apache.spark.sql.hive.HiveExternalCatalog.client$lzycompute(HiveExternalCatalog.scala:72)\r\n        at org.apache.spark.sql.hive.HiveExternalCatalog.client(HiveExternalCatalog.scala:71)\r\n        at org.apache.spark.sql.hive.HiveExternalCatalog.$anonfun$databaseExists$1(HiveExternalCatalog.scala:2                  25)\r\n        at scala.runtime.java8.JFunction0$mcZ$sp.apply(JFunction0$mcZ$sp.java:23)\r\n        at org.apache.spark.sql.hive.HiveExternalCatalog.withClient(HiveExternalCatalog.scala:103)\r\n        ... 48 more\r\n```\r\n\r\nI&#39;ve set environmental variables on the following principles:\r\n\r\n`export SPARK_HOME=/usr/local/spark-3.0.1`\r\n\r\n`export PATH=$SPARK_HOME:$PATH`\r\n\r\n`export HADOOP_HOME=/usr/hadoop-2.7.2`\r\n\r\n`export LD_LIBRARY_PATH=$HADOOP_HOME/lib/native:$HADOOP_HOME`\r\n\r\nSpark cluster has the correct WebUI on 8080 port, HDFS healthcare and file browser is also listening.\r\n\r\n**What should I check to avoid the problem?** I guess that `PATH`, `LD_LIBRARY_PATH`, `SPARK_HOME` and `HADOOP_HOME` variables have correct values.","title":"Spark: Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError","body":"<p>Let's assume that we have the next simple command:</p>\n<p><code>./spark-sql --master spark://&lt;ip:port&gt; --driver-memory 2G --driver-cores 1 --num-executors 10 --executor-cores 4 --executor-memory 10G</code></p>\n<p><strong>[Problem] On its execution Spark returns the next message:</strong></p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.spark.sql.AnalysisException: java.lang.UnsatisfiedLinkError: org.apache.                  hadoop.io.nativeio.NativeIO$POSIX.stat(Ljava/lang/String;)Lorg/apache/hadoop/io/nativeio/NativeIO$POSIX$Stat;;\n        at org.apache.spark.sql.hive.HiveExternalCatalog.withClient(HiveExternalCatalog.scala:113)\n        at org.apache.spark.sql.hive.HiveExternalCatalog.databaseExists(HiveExternalCatalog.scala:225)\n        at org.apache.spark.sql.internal.SharedState.externalCatalog$lzycompute(SharedState.scala:137)\n        at org.apache.spark.sql.internal.SharedState.externalCatalog(SharedState.scala:127)\n        at org.apache.spark.sql.internal.SharedState.globalTempViewManager$lzycompute(SharedState.scala:157)\n        at org.apache.spark.sql.internal.SharedState.globalTempViewManager(SharedState.scala:155)\n        at org.apache.spark.sql.hive.HiveSessionStateBuilder.$anonfun$catalog$2(HiveSessionStateBuilder.scala:                  60)\n        at org.apache.spark.sql.catalyst.catalog.SessionCatalog.globalTempViewManager$lzycompute(SessionCatalo                  g.scala:93)\n        at org.apache.spark.sql.catalyst.catalog.SessionCatalog.globalTempViewManager(SessionCatalog.scala:93)\n        at org.apache.spark.sql.catalyst.catalog.SessionCatalog.setCurrentDatabase(SessionCatalog.scala:260)\n        at org.apache.spark.sql.connector.catalog.CatalogManager.setCurrentNamespace(CatalogManager.scala:113)\n        at org.apache.spark.sql.execution.datasources.v2.SetCatalogAndNamespaceExec.$anonfun$run$2(SetCatalogA                  ndNamespaceExec.scala:36)\n        at org.apache.spark.sql.execution.datasources.v2.SetCatalogAndNamespaceExec.$anonfun$run$2$adapted(Set                  CatalogAndNamespaceExec.scala:36)\n        at scala.Option.map(Option.scala:230)\n        at org.apache.spark.sql.execution.datasources.v2.SetCatalogAndNamespaceExec.run(SetCatalogAndNamespace                  Exec.scala:36)\n        at org.apache.spark.sql.execution.datasources.v2.V2CommandExec.result$lzycompute(V2CommandExec.scala:3                  9)\n        at org.apache.spark.sql.execution.datasources.v2.V2CommandExec.result(V2CommandExec.scala:39)\n        at org.apache.spark.sql.execution.datasources.v2.V2CommandExec.executeCollect(V2CommandExec.scala:45)\n        at org.apache.spark.sql.Dataset.$anonfun$logicalPlan$1(Dataset.scala:229)\n        at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3618)\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:100)\n        at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:160)\n        at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:87)\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\n        at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n        at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3616)\n        at org.apache.spark.sql.Dataset.&lt;init&gt;(Dataset.scala:229)\n        at org.apache.spark.sql.Dataset$.$anonfun$ofRows$2(Dataset.scala:100)\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\n        at org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:97)\n        at org.apache.spark.sql.SparkSession.$anonfun$sql$1(SparkSession.scala:607)\n        at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\n        at org.apache.spark.sql.SparkSession.sql(SparkSession.scala:602)\n        at org.gts.torchlight.sql.SchemaSql$.calculate(SchemaSql.scala:68)\n        at org.gts.torchlight.sql.SchemaSql$.runTask(SchemaSql.scala:161)\n        at org.gts.torchlight.sql.SchemaSql$.main(SchemaSql.scala:186)\n        at org.gts.torchlight.sql.SchemaSql.main(SchemaSql.scala)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n        at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:                  928)\n        at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\n        at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\n        at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\n        at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1007)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1016)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nCaused by: java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$POSIX.stat(Ljava/lang/String                  ;)Lorg/apache/hadoop/io/nativeio/NativeIO$POSIX$Stat;\n        at org.apache.hadoop.io.nativeio.NativeIO$POSIX.stat(Native Method)\n        at org.apache.hadoop.io.nativeio.NativeIO$POSIX.getStat(NativeIO.java:456)\n        at org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.loadPermissionInfoByNativeIO(R                  awLocalFileSystem.java:821)\n        at org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.loadPermissionInfo(RawLocalFil                  eSystem.java:735)\n        at org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.getPermission(RawLocalFileSyst                  em.java:703)\n        at org.apache.hadoop.hive.ql.session.SessionState.createRootHDFSDir(SessionState.java:711)\n        at org.apache.hadoop.hive.ql.session.SessionState.createSessionDirs(SessionState.java:654)\n        at org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:586)\n        at org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:548)\n        at org.apache.spark.sql.hive.client.HiveClientImpl.newState(HiveClientImpl.scala:175)\n        at org.apache.spark.sql.hive.client.HiveClientImpl.&lt;init&gt;(HiveClientImpl.scala:128)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45                  )\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n        at org.apache.spark.sql.hive.client.IsolatedClientLoader.createClient(IsolatedClientLoader.scala:301)\n        at org.apache.spark.sql.hive.HiveUtils$.newClientForMetadata(HiveUtils.scala:431)\n        at org.apache.spark.sql.hive.HiveUtils$.newClientForMetadata(HiveUtils.scala:324)\n        at org.apache.spark.sql.hive.HiveExternalCatalog.client$lzycompute(HiveExternalCatalog.scala:72)\n        at org.apache.spark.sql.hive.HiveExternalCatalog.client(HiveExternalCatalog.scala:71)\n        at org.apache.spark.sql.hive.HiveExternalCatalog.$anonfun$databaseExists$1(HiveExternalCatalog.scala:2                  25)\n        at scala.runtime.java8.JFunction0$mcZ$sp.apply(JFunction0$mcZ$sp.java:23)\n        at org.apache.spark.sql.hive.HiveExternalCatalog.withClient(HiveExternalCatalog.scala:103)\n        ... 48 more\n</code></pre>\n<p>I've set environmental variables on the following principles:</p>\n<p><code>export SPARK_HOME=/usr/local/spark-3.0.1</code></p>\n<p><code>export PATH=$SPARK_HOME:$PATH</code></p>\n<p><code>export HADOOP_HOME=/usr/hadoop-2.7.2</code></p>\n<p><code>export LD_LIBRARY_PATH=$HADOOP_HOME/lib/native:$HADOOP_HOME</code></p>\n<p>Spark cluster has the correct WebUI on 8080 port, HDFS healthcare and file browser is also listening.</p>\n<p><strong>What should I check to avoid the problem?</strong> I guess that <code>PATH</code>, <code>LD_LIBRARY_PATH</code>, <code>SPARK_HOME</code> and <code>HADOOP_HOME</code> variables have correct values.</p>\n"},{"tags":["java","class","intellij-idea","naming"],"comments":[{"owner":{"account_id":6254111,"reputation":874,"user_id":4863272,"display_name":"kunruh"},"score":1,"creation_date":1467925175,"post_id":38254612,"comment_id":63931440,"body_markdown":"Are you saying you are trying to make a literal `.class` file? That&#39;s the only thing I can think of that would cause it to complain like that. Your Java files that contain your classes should be all `.java`. The `.class` files are created by the java compiler, not by the programmer directly.","body":"Are you saying you are trying to make a literal <code>.class</code> file? That&#39;s the only thing I can think of that would cause it to complain like that. Your Java files that contain your classes should be all <code>.java</code>. The <code>.class</code> files are created by the java compiler, not by the programmer directly."}],"answers":[{"tags":[],"owner":{"account_id":8584522,"reputation":177,"user_id":6431125,"display_name":"Vishal Jumani"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1467923880,"creation_date":1467923880,"answer_id":38254855,"question_id":38254612,"body_markdown":"This would usually be because of the way your project is setup. It may not be setup correctly to indicate where your source code is.\r\n\r\n - To setup your project, in the Project Tab, click on the top most folder and select F4. This should bring up the Project Settings dialog window.\r\n - Now click on Modules in the LHS, and then select the Sources Tab on the RHS\r\n - Select your src folder and click on the Sources button, to indicate this is your source folder. Now IntelliJ is aware that this is where your code is.\r\n - Click on Apply and OK. This should close the Dialog Window.\r\n - Now right click on the src folder and then select New -&gt; Java Class to create your Java class","title":"Intelli-J: cannot create class-file?","body":"<p>This would usually be because of the way your project is setup. It may not be setup correctly to indicate where your source code is.</p>\n\n<ul>\n<li>To setup your project, in the Project Tab, click on the top most folder and select F4. This should bring up the Project Settings dialog window.</li>\n<li>Now click on Modules in the LHS, and then select the Sources Tab on the RHS</li>\n<li>Select your src folder and click on the Sources button, to indicate this is your source folder. Now IntelliJ is aware that this is where your code is.</li>\n<li>Click on Apply and OK. This should close the Dialog Window.</li>\n<li>Now right click on the src folder and then select New -> Java Class to create your Java class</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6352179,"reputation":2791,"user_id":4930850,"accept_rate":62,"display_name":"Chad Van De Hey"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1481311605,"creation_date":1481311605,"answer_id":41067541,"question_id":38254612,"body_markdown":"More directly, based on what @Vishal Jumani  touched on, you need to tell IntelliJ what directories are &#39;source&#39; or &#39;test&#39; directories.\r\n\r\nA directory structure you can use as an example, but you can use whatever you wish.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nRight click on the directory you wish to mark as &#39;root&#39; --&gt; find &#39;Mark Directory As&#39; --&gt; Select &#39;Sources Root&#39;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nNow you should be able to add java classes in the directory without IntelliJ interrupting you!\r\n\r\n  [1]: https://i.stack.imgur.com/LavR7.png\r\n  [2]: https://i.stack.imgur.com/LbWvZ.png","title":"Intelli-J: cannot create class-file?","body":"<p>More directly, based on what @Vishal Jumani  touched on, you need to tell IntelliJ what directories are 'source' or 'test' directories.</p>\n\n<p>A directory structure you can use as an example, but you can use whatever you wish.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LavR7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LavR7.png\" alt=\"enter image description here\"></a></p>\n\n<p>Right click on the directory you wish to mark as 'root' --> find 'Mark Directory As' --> Select 'Sources Root'</p>\n\n<p><a href=\"https://i.stack.imgur.com/LbWvZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LbWvZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now you should be able to add java classes in the directory without IntelliJ interrupting you!</p>\n"}],"owner":{"account_id":7224002,"reputation":1904,"user_id":5513336,"accept_rate":16,"display_name":"Leia_Organa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31220,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1680175847,"creation_date":1467923047,"question_id":38254612,"body_markdown":"This is honestly a tiny problem but it&#39;s keeping me from proceeding with my small Java practice app.\r\n\r\nI&#39;m currently practicing making an API call in Java. I was trying to create a simple class file called &quot;Film&quot;. However, when I try to create it as a class-file, Intelli-J keeps telling me that it is unable to create a class-file. I&#39;m trying to set this file up in a folder called &quot;models&quot;. All of these class files are going to be utilized as part of an app that performs API calls.\r\n\r\nIs there some naming convention I haven&#39;t followed? I&#39;ve been Googling but haven&#39;t really found anything.","title":"Intelli-J: cannot create class-file?","body":"<p>This is honestly a tiny problem but it's keeping me from proceeding with my small Java practice app.</p>\n\n<p>I'm currently practicing making an API call in Java. I was trying to create a simple class file called \"Film\". However, when I try to create it as a class-file, Intelli-J keeps telling me that it is unable to create a class-file. I'm trying to set this file up in a folder called \"models\". All of these class files are going to be utilized as part of an app that performs API calls.</p>\n\n<p>Is there some naming convention I haven't followed? I've been Googling but haven't really found anything.</p>\n"},{"tags":["java","tuples","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":967190,"reputation":6086,"user_id":990421,"display_name":"Amit Portnoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680175420,"creation_date":1364874796,"answer_id":15755762,"question_id":15755682,"body_markdown":"You can use [`java.util.Vector`][1]: \r\n\r\nso it should be something like:\r\n\r\n    Vector&lt;Integer&gt; values = new Vector&lt;Integer&gt;(Arrays.asList([5,1,7]));\r\n    Vector&lt;Vector&lt;Integer&gt;&gt; data = new Vector&lt;Vector&lt;Integer&gt;&gt;(values.size()) \r\n    //you&#39;ll also need to actually create the inner vector objects:\r\n    for (int i = 0; i&lt;values.size(); i++){\r\n       data.set(i,new Vector&lt;Integer&gt;(desiredGoal + 1);\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Vector.html","title":"How would you create a 2D array of tuples in Java?","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Vector.html\" rel=\"nofollow noreferrer\"><code>java.util.Vector</code></a>:</p>\n<p>so it should be something like:</p>\n<pre><code>Vector&lt;Integer&gt; values = new Vector&lt;Integer&gt;(Arrays.asList([5,1,7]));\nVector&lt;Vector&lt;Integer&gt;&gt; data = new Vector&lt;Vector&lt;Integer&gt;&gt;(values.size()) \n//you'll also need to actually create the inner vector objects:\nfor (int i = 0; i&lt;values.size(); i++){\n   data.set(i,new Vector&lt;Integer&gt;(desiredGoal + 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2316842,"reputation":7874,"user_id":2033703,"display_name":"Eric Jablow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364875300,"creation_date":1364875300,"answer_id":15755827,"question_id":15755682,"body_markdown":"He probably doesn&#39;t need the synchronization of `Vector`, so he should stick to `List` and `ArrayList`.  Assuming Java 7, try this:\r\n\r\n    List&lt;Integer&gt; values = new ArrayList&lt;&gt;();\r\n    Collections.addAll(values, 5, 1, 7);\r\n    int desiredGoal = 77;\r\n    List&lt;List&lt;Integer&gt;&gt; data = new List&lt;&gt;(); \r\n    // Create the inner lists:\r\n    for (final int ignored: values) {\r\n        data.add(new ArrayList&lt;&gt;(desiredGoal + 1));\r\n        // List&lt;Integer&gt; is wanted, so use type inference.\r\n    }\r\n","title":"How would you create a 2D array of tuples in Java?","body":"<p>He probably doesn't need the synchronization of <code>Vector</code>, so he should stick to <code>List</code> and <code>ArrayList</code>.  Assuming Java 7, try this:</p>\n\n<pre><code>List&lt;Integer&gt; values = new ArrayList&lt;&gt;();\nCollections.addAll(values, 5, 1, 7);\nint desiredGoal = 77;\nList&lt;List&lt;Integer&gt;&gt; data = new List&lt;&gt;(); \n// Create the inner lists:\nfor (final int ignored: values) {\n    data.add(new ArrayList&lt;&gt;(desiredGoal + 1));\n    // List&lt;Integer&gt; is wanted, so use type inference.\n}\n</code></pre>\n"}],"owner":{"account_id":1355819,"reputation":327,"user_id":1294227,"accept_rate":77,"display_name":"crashprophet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1940,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680175420,"creation_date":1364874217,"question_id":15755682,"body_markdown":"I am trying to create a double array of tuples. Would anyone know how this is done? \r\n\r\nI basically am looking to have something like the following:\r\n\r\n    int[] values = {5, 1, 7}; // This array length can vary with different values\r\n    int desiredGoal = 77;\r\n\r\n    int data[][] = new int[values.length][desiredGoal + 1];\r\n\r\nEach of the indexes of the 2D array would contain a tuple. The tuple would be be the same length as the values array (no matter what it&#39;s length was) and would contain various combinations of the values in the values array in order to achieve the desiredGoal value.","title":"How would you create a 2D array of tuples in Java?","body":"<p>I am trying to create a double array of tuples. Would anyone know how this is done? </p>\n\n<p>I basically am looking to have something like the following:</p>\n\n<pre><code>int[] values = {5, 1, 7}; // This array length can vary with different values\nint desiredGoal = 77;\n\nint data[][] = new int[values.length][desiredGoal + 1];\n</code></pre>\n\n<p>Each of the indexes of the 2D array would contain a tuple. The tuple would be be the same length as the values array (no matter what it's length was) and would contain various combinations of the values in the values array in order to achieve the desiredGoal value.</p>\n"},{"tags":["java","algorithm","loops","for-loop"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1680171624,"post_id":75886840,"comment_id":133854278,"body_markdown":"You&#39;re probably observing the *JIT (just-in-time) compiler* (&lt;- search keyword to find out more) in action. You can try the `-Xint` command line option, which disables it. That should make the results noticeably slower, but perfectly linear.","body":"You&#39;re probably observing the <i>JIT (just-in-time) compiler</i> (&lt;- search keyword to find out more) in action. You can try the <code>-Xint</code> command line option, which disables it. That should make the results noticeably slower, but perfectly linear."},{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1680171779,"post_id":75886840,"comment_id":133854315,"body_markdown":"What about memory and CPU in your machine? When you add large data you get much memory for heap. Check memory and JVM actual state","body":"What about memory and CPU in your machine? When you add large data you get much memory for heap. Check memory and JVM actual state"},{"owner":{"account_id":28072808,"reputation":33,"user_id":21445132,"display_name":"oresky"},"score":0,"creation_date":1680172707,"post_id":75886840,"comment_id":133854577,"body_markdown":"@teapot418 How do I re-enable JIT?","body":"@teapot418 How do I re-enable JIT?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1680172791,"post_id":75886840,"comment_id":133854596,"body_markdown":"It&#39;s enabled by default. If you don&#39;t put the option to disable, it will be enabled.","body":"It&#39;s enabled by default. If you don&#39;t put the option to disable, it will be enabled."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1680173474,"post_id":75886840,"comment_id":133854758,"body_markdown":"Consider replacing the multiplication with addition in the for-loop increment clause - integer addition is faster than integer multiplication.   Interestingly, this is not always true with floating point addition versus floating point multiplication.","body":"Consider replacing the multiplication with addition in the for-loop increment clause - integer addition is faster than integer multiplication.   Interestingly, this is not always true with floating point addition versus floating point multiplication."},{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1680262063,"post_id":75886840,"comment_id":133872360,"body_markdown":"You have to run methods several times before JIT kicks in. So whenever you time something tinme it several times (in the same JVM-run) and wait until values have stabilized. Also GarbageCollection might make some measurements useless (also therefore you need to measure the same test several times).","body":"You have to run methods several times before JIT kicks in. So whenever you time something tinme it several times (in the same JVM-run) and wait until values have stabilized. Also GarbageCollection might make some measurements useless (also therefore you need to measure the same test several times)."}],"owner":{"account_id":28072808,"reputation":33,"user_id":21445132,"display_name":"oresky"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680175281,"creation_date":1680170943,"question_id":75886840,"body_markdown":"NOTE: The libraries used in this code can be found [here](https://introcs.cs.princeton.edu/java/stdlib/). The classes/functions used here are pretty self explanatory though.\r\n\r\nThis brute force algorithm counts all the triplets in the given input that sum to 0:\r\n\r\n```\r\n    public static int count(int[] a) {\r\n        int n = a.length;\r\n        int count = 0;\r\n        for (int i = 0; i &lt; n; i++) {\r\n            for (int j = i + 1; j &lt; n; j++) {\r\n                for (int k = j + 1; k &lt; n; k++) {\r\n                    if (a[i] + a[j] + a[k] == 0) {\r\n                        count++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n```\r\n\r\nWhen I test it from `i = 250` to `16000`, incrementing `i` by `250` at each iteration:\r\n```\r\nimport edu.princeton.cs.algs4.StdOut;\r\nimport edu.princeton.cs.algs4.StdRandom;\r\nimport edu.princeton.cs.algs4.Stopwatch;\r\n\r\npublic class DoublingTest {\r\n    public static double timeTrial(int N) {\r\n        int MAX = 1000000;\r\n        int[] a = new int[N];\r\n        for (int i = 0; i &lt; N; i++)\r\n            a[i] = StdRandom.uniform(-MAX, MAX);\r\n        Stopwatch timer = new Stopwatch();\r\n        int cnt = ThreeSum.count(a);\r\n        return timer.elapsedTime();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        double total = 0;\r\n        for (int i = 250; i &lt;= 16000; i += 250) {\r\n            double time = timeTrial(i);\r\n            total += time;\r\n            StdOut.printf(&quot;%7d %5.2f&quot;, i, time);;\r\n            StdOut.printf(&quot;Total time = %5.2f\\n&quot;, total);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\ni = 4000 takes 12.91s:\r\n\r\n```\r\n    250  0.03\r\nTotal time =  0.03\r\n    500  0.10\r\nTotal time =  0.13\r\n    750  0.43\r\nTotal time =  0.56\r\n   1000  0.95\r\nTotal time =  1.51\r\n   1250  1.80\r\nTotal time =  3.31\r\n   1500  3.12\r\nTotal time =  6.44\r\n   1750  1.11\r\nTotal time =  7.55\r\n   2000  1.65\r\nTotal time =  9.20\r\n   2250  2.35\r\nTotal time = 11.54\r\n   2500  3.19\r\nTotal time = 14.74\r\n   2750  4.26\r\nTotal time = 18.99\r\n   3000  5.51\r\nTotal time = 24.50\r\n   3250  6.99\r\nTotal time = 31.50\r\n   3500  8.73\r\nTotal time = 40.23\r\n   3750 10.66\r\nTotal time = 50.88\r\n   4000 12.91\r\nTotal time = 63.80\r\n```\r\n\r\nBut when I double `i` at each iteration:\r\n\r\n```\r\nimport edu.princeton.cs.algs4.StdOut;\r\nimport edu.princeton.cs.algs4.StdRandom;\r\nimport edu.princeton.cs.algs4.Stopwatch;\r\n\r\npublic class DoublingTest {\r\n    public static double timeTrial(int N) {\r\n        int MAX = 1000000;\r\n        int[] a = new int[N];\r\n        for (int i = 0; i &lt; N; i++)\r\n            a[i] = StdRandom.uniform(-MAX, MAX);\r\n        Stopwatch timer = new Stopwatch();\r\n        int cnt = ThreeSum.count(a);\r\n        return timer.elapsedTime();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        double total = 0;\r\n        for (int i = 250; i &lt;= 16000; i *= 2) {\r\n            double time = timeTrial(i);\r\n            total += time;\r\n            StdOut.printf(&quot;%7d %5.2f&quot;, i, time);\r\n            StdOut.printf(&quot;Total time = %5.2f\\n&quot;, total);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\ni = 4000 takes significantly longer (59.22s):\r\n\r\n```\r\n    250  0.04\r\nTotal time =  0.04\r\n    500  0.12\r\nTotal time =  0.16\r\n   1000  0.96\r\nTotal time =  1.11\r\n   2000  7.38\r\nTotal time =  8.50\r\n   4000 59.22\r\nTotal time = 67.71\r\n```\r\n\r\nYet, total time is similar in both cases. Why does this happen?","title":"Why does each iteration in this loop take a shorter time when there are more iterations?","body":"<p>NOTE: The libraries used in this code can be found <a href=\"https://introcs.cs.princeton.edu/java/stdlib/\" rel=\"nofollow noreferrer\">here</a>. The classes/functions used here are pretty self explanatory though.</p>\n<p>This brute force algorithm counts all the triplets in the given input that sum to 0:</p>\n<pre><code>    public static int count(int[] a) {\n        int n = a.length;\n        int count = 0;\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = i + 1; j &lt; n; j++) {\n                for (int k = j + 1; k &lt; n; k++) {\n                    if (a[i] + a[j] + a[k] == 0) {\n                        count++;\n                    }\n                }\n            }\n        }\n        return count;\n    }\n</code></pre>\n<p>When I test it from <code>i = 250</code> to <code>16000</code>, incrementing <code>i</code> by <code>250</code> at each iteration:</p>\n<pre><code>import edu.princeton.cs.algs4.StdOut;\nimport edu.princeton.cs.algs4.StdRandom;\nimport edu.princeton.cs.algs4.Stopwatch;\n\npublic class DoublingTest {\n    public static double timeTrial(int N) {\n        int MAX = 1000000;\n        int[] a = new int[N];\n        for (int i = 0; i &lt; N; i++)\n            a[i] = StdRandom.uniform(-MAX, MAX);\n        Stopwatch timer = new Stopwatch();\n        int cnt = ThreeSum.count(a);\n        return timer.elapsedTime();\n    }\n\n    public static void main(String[] args) {\n        double total = 0;\n        for (int i = 250; i &lt;= 16000; i += 250) {\n            double time = timeTrial(i);\n            total += time;\n            StdOut.printf(&quot;%7d %5.2f&quot;, i, time);;\n            StdOut.printf(&quot;Total time = %5.2f\\n&quot;, total);\n        }\n    }\n}\n\n</code></pre>\n<p>i = 4000 takes 12.91s:</p>\n<pre><code>    250  0.03\nTotal time =  0.03\n    500  0.10\nTotal time =  0.13\n    750  0.43\nTotal time =  0.56\n   1000  0.95\nTotal time =  1.51\n   1250  1.80\nTotal time =  3.31\n   1500  3.12\nTotal time =  6.44\n   1750  1.11\nTotal time =  7.55\n   2000  1.65\nTotal time =  9.20\n   2250  2.35\nTotal time = 11.54\n   2500  3.19\nTotal time = 14.74\n   2750  4.26\nTotal time = 18.99\n   3000  5.51\nTotal time = 24.50\n   3250  6.99\nTotal time = 31.50\n   3500  8.73\nTotal time = 40.23\n   3750 10.66\nTotal time = 50.88\n   4000 12.91\nTotal time = 63.80\n</code></pre>\n<p>But when I double <code>i</code> at each iteration:</p>\n<pre><code>import edu.princeton.cs.algs4.StdOut;\nimport edu.princeton.cs.algs4.StdRandom;\nimport edu.princeton.cs.algs4.Stopwatch;\n\npublic class DoublingTest {\n    public static double timeTrial(int N) {\n        int MAX = 1000000;\n        int[] a = new int[N];\n        for (int i = 0; i &lt; N; i++)\n            a[i] = StdRandom.uniform(-MAX, MAX);\n        Stopwatch timer = new Stopwatch();\n        int cnt = ThreeSum.count(a);\n        return timer.elapsedTime();\n    }\n\n    public static void main(String[] args) {\n        double total = 0;\n        for (int i = 250; i &lt;= 16000; i *= 2) {\n            double time = timeTrial(i);\n            total += time;\n            StdOut.printf(&quot;%7d %5.2f&quot;, i, time);\n            StdOut.printf(&quot;Total time = %5.2f\\n&quot;, total);\n        }\n    }\n}\n\n</code></pre>\n<p>i = 4000 takes significantly longer (59.22s):</p>\n<pre><code>    250  0.04\nTotal time =  0.04\n    500  0.12\nTotal time =  0.16\n   1000  0.96\nTotal time =  1.11\n   2000  7.38\nTotal time =  8.50\n   4000 59.22\nTotal time = 67.71\n</code></pre>\n<p>Yet, total time is similar in both cases. Why does this happen?</p>\n"},{"tags":["java","encode","zxing","gs1-datamatrix"],"answers":[{"tags":[],"owner":{"account_id":4358095,"reputation":434,"user_id":3556071,"accept_rate":56,"display_name":"Koeus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1447150836,"creation_date":1446710298,"answer_id":33539257,"question_id":33521900,"body_markdown":"Thanks to [Lachezar Dobrev over at the zxing Google group][1] I was able to get this working as expected. As it turns out, you can hand over an EncodeHintType to the DataMatrixWriter, which forces it to apply a square shape.\r\n\r\nThis does the trick for me:\r\n\r\n            HashMap hintMap = new HashMap();\r\n            hintMap.put(EncodeHintType.DATA_MATRIX_SHAPE, SymbolShapeHint.FORCE_SQUARE);\r\n            BitMatrix bitMatrix = new DataMatrixWriter().encode(input, BarcodeFormat.DATA_MATRIX, 50, 50, hintMap);\r\n\r\n**Update some week later**: As it turns out, zxing is not GS1 compatible no matter what input you give it, so the whole FNC1/&lt;GS&gt; issue is besides the point. Instead, I would recommend using [Okapi Barcode][2], which works flawlessly.\r\n\r\nI haven&#39;t found any guides or tutorials, but based on how the Okapi Java GUI generates its barcodes I puzzled this together from the project&#39;s `Make Barcode` class.\r\n\r\n    DataMatrix dataMatrix = new DataMatrix();\r\n    dataMatrix.setDataType(Symbol.DataType.GS1);\r\n    dataMatrix.setReaderInit();\r\n    dataMatrix.setPreferredSize(24); //144x144\r\n    dataMatrix.forceSquare(true);\r\n    dataMatrix.setContent(dataToEncode);\r\n    BufferedImage image = new BufferedImage((dataMatrix.getWidth() * magnification) + (2 * borderSize),\r\n                        (dataMatrix.getHeight() * magnification) + (2 * borderSize), BufferedImage.TYPE_INT_RGB);\r\n    Graphics2D g2d = image.createGraphics();\r\n    g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n    g2d.setColor(Color.WHITE);\r\n    g2d.fillRect(0, 0, (dataMatrix.getWidth() * magnification) + (2 * borderSize),\r\n                        (dataMatrix.getHeight() * magnification) + (2 * borderSize));\r\n    Java2DRenderer renderer = new Java2DRenderer(g2d, magnification, borderSize, Color.WHITE, Color.BLACK);\r\n    renderer.render(dataMatrix);\r\n    try {\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        ImageIO.write(image, &quot;png&quot;, baos);\r\n        //Before Base64-encoding the image and return as a String        \r\n        Base64.Encoder encoder = Base64.getEncoder(); \r\n        return encoder.encodeToString(baos.toByteArray());\r\n    } catch (IOException e) {\r\n    //Do some logging\r\n    return &quot;Something went wrong&quot;;//Return super-informative error message\r\n    }\r\n\r\n\r\n  [1]: https://groups.google.com/forum/#!topic/zxing/uH1u6BGNVcI\r\n  [2]: https://github.com/woo-j/OkapiBarcode","title":"How to handle FNC1/&lt;GS&gt; when encoding GS1 compatible DataMatrix code?","body":"<p>Thanks to <a href=\"https://groups.google.com/forum/#!topic/zxing/uH1u6BGNVcI\" rel=\"nofollow\">Lachezar Dobrev over at the zxing Google group</a> I was able to get this working as expected. As it turns out, you can hand over an EncodeHintType to the DataMatrixWriter, which forces it to apply a square shape.</p>\n\n<p>This does the trick for me:</p>\n\n<pre><code>        HashMap hintMap = new HashMap();\n        hintMap.put(EncodeHintType.DATA_MATRIX_SHAPE, SymbolShapeHint.FORCE_SQUARE);\n        BitMatrix bitMatrix = new DataMatrixWriter().encode(input, BarcodeFormat.DATA_MATRIX, 50, 50, hintMap);\n</code></pre>\n\n<p><strong>Update some week later</strong>: As it turns out, zxing is not GS1 compatible no matter what input you give it, so the whole FNC1/ issue is besides the point. Instead, I would recommend using <a href=\"https://github.com/woo-j/OkapiBarcode\" rel=\"nofollow\">Okapi Barcode</a>, which works flawlessly.</p>\n\n<p>I haven't found any guides or tutorials, but based on how the Okapi Java GUI generates its barcodes I puzzled this together from the project's <code>Make Barcode</code> class.</p>\n\n<pre><code>DataMatrix dataMatrix = new DataMatrix();\ndataMatrix.setDataType(Symbol.DataType.GS1);\ndataMatrix.setReaderInit();\ndataMatrix.setPreferredSize(24); //144x144\ndataMatrix.forceSquare(true);\ndataMatrix.setContent(dataToEncode);\nBufferedImage image = new BufferedImage((dataMatrix.getWidth() * magnification) + (2 * borderSize),\n                    (dataMatrix.getHeight() * magnification) + (2 * borderSize), BufferedImage.TYPE_INT_RGB);\nGraphics2D g2d = image.createGraphics();\ng2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\ng2d.setColor(Color.WHITE);\ng2d.fillRect(0, 0, (dataMatrix.getWidth() * magnification) + (2 * borderSize),\n                    (dataMatrix.getHeight() * magnification) + (2 * borderSize));\nJava2DRenderer renderer = new Java2DRenderer(g2d, magnification, borderSize, Color.WHITE, Color.BLACK);\nrenderer.render(dataMatrix);\ntry {\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    ImageIO.write(image, \"png\", baos);\n    //Before Base64-encoding the image and return as a String        \n    Base64.Encoder encoder = Base64.getEncoder(); \n    return encoder.encodeToString(baos.toByteArray());\n} catch (IOException e) {\n//Do some logging\nreturn \"Something went wrong\";//Return super-informative error message\n}\n</code></pre>\n"}],"owner":{"account_id":4358095,"reputation":434,"user_id":3556071,"accept_rate":56,"display_name":"Koeus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4043,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":33539257,"answer_count":1,"score":1,"last_activity_date":1680175079,"creation_date":1446639941,"question_id":33521900,"body_markdown":"I get my DataMatrix code using the following line:\r\n\r\n`BitMatrix bitMatrix = new DataMatrixWriter().encode(dmie.preEncodeBarcode(dataToEncode), BarcodeFormat.DATA_MATRIX, 50, 50, null);`\r\n\r\nThe input string I get contains &quot;FNC1&quot; (just as plain characters in the string) to mark the end of a dynamic field, and in total the string has 4 different GS1 DataMatrix Application Identifiers and their respective values.\r\n\r\nWhat preEncodeBarcode() does is to replace &quot;FNC1&quot; with `&lt;GS&gt;`, like so:\r\n\r\n`input = input.replaceAll(&quot;FNC1&quot;, new String(new byte[] {0x1d}));`\r\n\r\nSince otherwise I simply get &quot;FNC1910005FNC1230202[...]&quot; encoded in the DataMatrix, while what I want is of course `&lt;GS&gt;` instead of the text &quot;FNC1&quot;.\r\n\r\nHowever, when replacing FNC1 with `&lt;GS&gt;` (I&#39;ve tried using &#39;\\u001c&#39; as well), I get this very strange double-DM-code instead of a normal one: \r\n\r\n[![Strange-double-data-matrix][1]][1]\r\n\r\nOnly if I skip replacing &quot;FNC1&quot; with `&lt;GS&gt;` do I get a proper one.\r\n\r\nAny idea how to get a proper DataMatrix code based on my `&lt;GS&gt;`-containing String? Or am I simply doing something wrong by having `&lt;GS&gt;` directly in the String? What should I do instead in that case to get zxing to give me a correct DataMatrix? I&#39;ve been reading all over but I really can&#39;t wrap my head around this.\r\n\r\nUpdate: I&#39;m not sure, but I might be on to some strange sort of bug here. This is what I&#39;m sending to the DataMatrixWriter once I&#39;ve preprocessed the input string (spaces are &lt;GS&gt;): \r\n\r\n[d29100001  21000000049347037  24000163718  390300000002990 \r\n\r\nWhat I find rather obscure is that if I (at the time of writing) send `input.substring(2, input.length());` or `input.substring(0, input.length()-3);` then it works just fine, while if I instead remove only one (or less) character from the beginning or 2 or less from the end then I get this strange DataMatrix. What&#39;s even stranger is that this behaviour is not even consistent - if I add say 6 some random numbers at the end then it works fine, but if I then remove three of those numbers then I again I get the problem. And worst of all, an hour ago I couldn&#39;t send in `input.substring(0, input.length()-3)`, but now I can.\r\n\r\nIn other words, I&#39;m utterly perplexed.\r\n\r\n(PS. I am using the code found [here][2] to scale the DataMatrix to the size I want, but it&#39;s zxing that gives the wrong output from the start.)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/tX6p7.png\r\n  [2]: https://stackoverflow.com/questions/22766017/datamatrix-encoding-with-zxing-only-generates-14px-bitmap?answertab=votes#tab-top","title":"How to handle FNC1/&lt;GS&gt; when encoding GS1 compatible DataMatrix code?","body":"<p>I get my DataMatrix code using the following line:</p>\n\n<p><code>BitMatrix bitMatrix = new DataMatrixWriter().encode(dmie.preEncodeBarcode(dataToEncode), BarcodeFormat.DATA_MATRIX, 50, 50, null);</code></p>\n\n<p>The input string I get contains \"FNC1\" (just as plain characters in the string) to mark the end of a dynamic field, and in total the string has 4 different GS1 DataMatrix Application Identifiers and their respective values.</p>\n\n<p>What preEncodeBarcode() does is to replace \"FNC1\" with <code>&lt;GS&gt;</code>, like so:</p>\n\n<p><code>input = input.replaceAll(\"FNC1\", new String(new byte[] {0x1d}));</code></p>\n\n<p>Since otherwise I simply get \"FNC1910005FNC1230202[...]\" encoded in the DataMatrix, while what I want is of course <code>&lt;GS&gt;</code> instead of the text \"FNC1\".</p>\n\n<p>However, when replacing FNC1 with <code>&lt;GS&gt;</code> (I've tried using '\\u001c' as well), I get this very strange double-DM-code instead of a normal one: </p>\n\n<p><a href=\"https://i.stack.imgur.com/tX6p7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tX6p7.png\" alt=\"Strange-double-data-matrix\"></a></p>\n\n<p>Only if I skip replacing \"FNC1\" with <code>&lt;GS&gt;</code> do I get a proper one.</p>\n\n<p>Any idea how to get a proper DataMatrix code based on my <code>&lt;GS&gt;</code>-containing String? Or am I simply doing something wrong by having <code>&lt;GS&gt;</code> directly in the String? What should I do instead in that case to get zxing to give me a correct DataMatrix? I've been reading all over but I really can't wrap my head around this.</p>\n\n<p>Update: I'm not sure, but I might be on to some strange sort of bug here. This is what I'm sending to the DataMatrixWriter once I've preprocessed the input string (spaces are ): </p>\n\n<p>[d29100001  21000000049347037  24000163718  390300000002990 </p>\n\n<p>What I find rather obscure is that if I (at the time of writing) send <code>input.substring(2, input.length());</code> or <code>input.substring(0, input.length()-3);</code> then it works just fine, while if I instead remove only one (or less) character from the beginning or 2 or less from the end then I get this strange DataMatrix. What's even stranger is that this behaviour is not even consistent - if I add say 6 some random numbers at the end then it works fine, but if I then remove three of those numbers then I again I get the problem. And worst of all, an hour ago I couldn't send in <code>input.substring(0, input.length()-3)</code>, but now I can.</p>\n\n<p>In other words, I'm utterly perplexed.</p>\n\n<p>(PS. I am using the code found <a href=\"https://stackoverflow.com/questions/22766017/datamatrix-encoding-with-zxing-only-generates-14px-bitmap?answertab=votes#tab-top\">here</a> to scale the DataMatrix to the size I want, but it's zxing that gives the wrong output from the start.)</p>\n"},{"tags":["java","collections","immutability"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1612539842,"post_id":66066233,"comment_id":116806907,"body_markdown":"Needs code.  What did you try?  Can you show us how you produce the problem?","body":"Needs code.  What did you try?  Can you show us how you produce the problem?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1612540046,"post_id":66066233,"comment_id":116806998,"body_markdown":"Yes, that collection violates the [Liskov substitution principle](https://en.wikipedia.org/wiki/Liskov_substitution_principle) for multiple reasons and you have encountered one of those cases and the reason for why classes should strive NOT to violate that principle. There is no clean way around this specific issue, you could check the actual object type and then do different checks depending on it, but that is a code smell as well. Btw: you can add items to collections but this class throws exceptions instead, bad idea as well but it is the way it is.","body":"Yes, that collection violates the <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">Liskov substitution principle</a> for multiple reasons and you have encountered one of those cases and the reason for why classes should strive NOT to violate that principle. There is no clean way around this specific issue, you could check the actual object type and then do different checks depending on it, but that is a code smell as well. Btw: you can add items to collections but this class throws exceptions instead, bad idea as well but it is the way it is."},{"owner":{"account_id":8793652,"reputation":740,"user_id":6572357,"display_name":"D&#225;niel Somogyi"},"score":0,"creation_date":1612541515,"post_id":66066233,"comment_id":116807636,"body_markdown":"@markspace You reproduce just how I said: call `.contains(null)` on any ImmutableCollection (e.g. ImmutableList)","body":"@markspace You reproduce just how I said: call <code>.contains(null)</code> on any ImmutableCollection (e.g. ImmutableList)"},{"owner":{"account_id":8793652,"reputation":740,"user_id":6572357,"display_name":"D&#225;niel Somogyi"},"score":0,"creation_date":1612541642,"post_id":66066233,"comment_id":116807702,"body_markdown":"@luk2302 thanks for the Principles. That was my Problem, but I did not have a name for it. \nI also know that it throws an error when you insert (that&#39;s why it&#39;s immutable), but I find it strange for the contains function...","body":"@luk2302 thanks for the Principles. That was my Problem, but I did not have a name for it.  I also know that it throws an error when you insert (that&#39;s why it&#39;s immutable), but I find it strange for the contains function..."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1612542032,"creation_date":1612542032,"answer_id":66066821,"question_id":66066233,"body_markdown":"&gt; why does in Java the call coll.contains(null) fail for ImmutableCollections?\r\n\r\nBecause the design team (the ones who have created guava) decided that, for their collections, null is unwanted, and therefore any interaction between their collections and a `null` check, even in this case, should just throw to highlight to the programmer, at the earliest possible opportunity, that there is a mismatch. Even where the established behaviour (as per the existing implementations in the core runtime itself, such as ArrayList and friends, as well as the javadoc), rather explicitly go the other way and say that a non-sequitur check (is this pear part of this list of apples?) strongly suggests that the right move is to just return `false` and not throw.\r\n\r\nIn other words, guava messed up. But now that they have done so, going back is potentially backwards compatibility breaking. It really isn&#39;t very - you are replacing an exception thrown with a `false` return value; presumably code could be out there that relies on the NPE (catching it and doing something different from what the code would do had `contains(null)` returned false instead of throwing) - but that&#39;s a rare case, and guava breaks backwards compatibility all the time.\r\n\r\n&gt; And how can I properly check for nulls in a Collection in general?\r\n\r\nBy calling `.contains(null)`, just as you are. The fact that guava doesn&#39;t do it right doesn&#39;t change the answer. You might as well ask &#39;how do I add elements to a list&#39;, and counter the answer of &quot;well, you call `list.add(item)` to do that&quot; with: Well, I have this implementation of the List interface that plays Rick Astley over the speaker instead of adding to the list, so, I reject your answer.\r\n\r\nThat&#39;s.. how java and interfaces work: You can have implementations of them, and the only guardianship that they do what the interface dictates they must, is that the author understands there is a contract that needs to be followed.\r\n\r\nNow, normally a library so badly written they break contract for no good reason*, isn&#39;t popular. But guava IS popular. Very popular. That gets at a simple truth: No library is perfect. Guava&#39;s API design is generally quite good (in my opinion, _vastly_ superior to e.g. Apache commons libraries), and the team actively spends a lot of time debating proper API design, in the sense that the code that one would write using guava is nice (as defined by: Easy to understand, has few surprises, easy to maintain, easy to test, and probably easy to mutate to deal with changing requirements - the only useful definition for nebulous terms like &#39;nice&#39; or &#39;elegant&#39; code - it&#39;s code that does those things, anything else is pointless aesthetic drivel). In other words, they are actively trying, and they usually get it right.\r\n\r\nJust, not in this case. Work around it: `return item != null &amp;&amp; coll.contains(item);` will get the job done.\r\n\r\nThere is one major argument in favour of guava&#39;s choice: They &#39;contract break&#39; is an implicit break - one would expect that `.contains(null)` works, and always returns false, but it&#39;s not _explicitly_ stated in the javadoc that one must do this. Contrast to e.g. `IdentityHashMap`, which uses identity equivalence (`a==b`) and not value equality (`a.equals(b)`) in its `.containsKey` etc implementations, which _explicitly_ goes against the javadoc contract as stated in the `j.u.Map` interface. IHM has an excellent reason for it, and highlights the discrepancy, plus explains the reason, in the javadoc. Guava isn&#39;t nearly as clear about their bizarre null behaviour, but, here&#39;s a crucial thing about null in java:\r\n\r\nIts meaning is nebulous. Sometimes it means &#39;empty&#39;, which is bad design: You should never write `if (x == null || x.isEmpty())` - that implies some API is badly coded. If null is semantically equivalent to some value (such as `&quot;&quot;` or `List.of()`), then you should just return `&quot;&quot;` or `List.of()`, and not null. However, in such a design, `list.contains(null) == false`) would make sense.\r\n\r\nBut sometimes null means `not found`, `irrelevant`, `not applicable`, or `unknown` (for example, if `map.get(k)` returns null, that&#39;s what it means: Not found. Not &#39;I found an empty value for you&#39;). This matches with what NULL means in e.g. SQL. In all those cases, `.contains(null)` should be returning neither true nor false. If I hand you a bag of marbles and ask you if there is a marble in there that is grue, and you have no idea what `grue` means, you shouldn&#39;t answer either `yes` or `no` to my query: Either answer is a meaningless guess. You should tell me that the question cannot be answered. Which is best represented in java by throwing, which is precisely what guava does. This also matches with what NULL does in SQL. In SQL, `v IN (x)` returns one of 3 values, not 2 values: It can resolve to `true`, `false`, or `null`. `v IN (NULL)` would resolve to NULL and not `false`. It is answering a question that can&#39;t be answered with the NULL value, which is to be read as: Don&#39;t know.\r\n\r\nIn other words, guava made a call on what `null` implies which evidently does not match with your definitions, as you expect `.contains(null)` to return false. I think your viewpoint is more idiomatic, but the point is, guava&#39;s viewpoint is different but also consistent, and the javadoc merely insinuates, but does not explicitly demand, that `.contains(null)` returns false.\r\n\r\nThat&#39;s not useful whatsoever in fixing your code, but hopefully it gives you a mental model, and answers your question of &quot;why does it work like this?&quot;.\r\n","title":"Why does ImmutableCollection.contains(null) fail?","body":"<blockquote>\n<p>why does in Java the call coll.contains(null) fail for ImmutableCollections?</p>\n</blockquote>\n<p>Because the design team (the ones who have created guava) decided that, for their collections, null is unwanted, and therefore any interaction between their collections and a <code>null</code> check, even in this case, should just throw to highlight to the programmer, at the earliest possible opportunity, that there is a mismatch. Even where the established behaviour (as per the existing implementations in the core runtime itself, such as ArrayList and friends, as well as the javadoc), rather explicitly go the other way and say that a non-sequitur check (is this pear part of this list of apples?) strongly suggests that the right move is to just return <code>false</code> and not throw.</p>\n<p>In other words, guava messed up. But now that they have done so, going back is potentially backwards compatibility breaking. It really isn't very - you are replacing an exception thrown with a <code>false</code> return value; presumably code could be out there that relies on the NPE (catching it and doing something different from what the code would do had <code>contains(null)</code> returned false instead of throwing) - but that's a rare case, and guava breaks backwards compatibility all the time.</p>\n<blockquote>\n<p>And how can I properly check for nulls in a Collection in general?</p>\n</blockquote>\n<p>By calling <code>.contains(null)</code>, just as you are. The fact that guava doesn't do it right doesn't change the answer. You might as well ask 'how do I add elements to a list', and counter the answer of &quot;well, you call <code>list.add(item)</code> to do that&quot; with: Well, I have this implementation of the List interface that plays Rick Astley over the speaker instead of adding to the list, so, I reject your answer.</p>\n<p>That's.. how java and interfaces work: You can have implementations of them, and the only guardianship that they do what the interface dictates they must, is that the author understands there is a contract that needs to be followed.</p>\n<p>Now, normally a library so badly written they break contract for no good reason*, isn't popular. But guava IS popular. Very popular. That gets at a simple truth: No library is perfect. Guava's API design is generally quite good (in my opinion, <em>vastly</em> superior to e.g. Apache commons libraries), and the team actively spends a lot of time debating proper API design, in the sense that the code that one would write using guava is nice (as defined by: Easy to understand, has few surprises, easy to maintain, easy to test, and probably easy to mutate to deal with changing requirements - the only useful definition for nebulous terms like 'nice' or 'elegant' code - it's code that does those things, anything else is pointless aesthetic drivel). In other words, they are actively trying, and they usually get it right.</p>\n<p>Just, not in this case. Work around it: <code>return item != null &amp;&amp; coll.contains(item);</code> will get the job done.</p>\n<p>There is one major argument in favour of guava's choice: They 'contract break' is an implicit break - one would expect that <code>.contains(null)</code> works, and always returns false, but it's not <em>explicitly</em> stated in the javadoc that one must do this. Contrast to e.g. <code>IdentityHashMap</code>, which uses identity equivalence (<code>a==b</code>) and not value equality (<code>a.equals(b)</code>) in its <code>.containsKey</code> etc implementations, which <em>explicitly</em> goes against the javadoc contract as stated in the <code>j.u.Map</code> interface. IHM has an excellent reason for it, and highlights the discrepancy, plus explains the reason, in the javadoc. Guava isn't nearly as clear about their bizarre null behaviour, but, here's a crucial thing about null in java:</p>\n<p>Its meaning is nebulous. Sometimes it means 'empty', which is bad design: You should never write <code>if (x == null || x.isEmpty())</code> - that implies some API is badly coded. If null is semantically equivalent to some value (such as <code>&quot;&quot;</code> or <code>List.of()</code>), then you should just return <code>&quot;&quot;</code> or <code>List.of()</code>, and not null. However, in such a design, <code>list.contains(null) == false</code>) would make sense.</p>\n<p>But sometimes null means <code>not found</code>, <code>irrelevant</code>, <code>not applicable</code>, or <code>unknown</code> (for example, if <code>map.get(k)</code> returns null, that's what it means: Not found. Not 'I found an empty value for you'). This matches with what NULL means in e.g. SQL. In all those cases, <code>.contains(null)</code> should be returning neither true nor false. If I hand you a bag of marbles and ask you if there is a marble in there that is grue, and you have no idea what <code>grue</code> means, you shouldn't answer either <code>yes</code> or <code>no</code> to my query: Either answer is a meaningless guess. You should tell me that the question cannot be answered. Which is best represented in java by throwing, which is precisely what guava does. This also matches with what NULL does in SQL. In SQL, <code>v IN (x)</code> returns one of 3 values, not 2 values: It can resolve to <code>true</code>, <code>false</code>, or <code>null</code>. <code>v IN (NULL)</code> would resolve to NULL and not <code>false</code>. It is answering a question that can't be answered with the NULL value, which is to be read as: Don't know.</p>\n<p>In other words, guava made a call on what <code>null</code> implies which evidently does not match with your definitions, as you expect <code>.contains(null)</code> to return false. I think your viewpoint is more idiomatic, but the point is, guava's viewpoint is different but also consistent, and the javadoc merely insinuates, but does not explicitly demand, that <code>.contains(null)</code> returns false.</p>\n<p>That's not useful whatsoever in fixing your code, but hopefully it gives you a mental model, and answers your question of &quot;why does it work like this?&quot;.</p>\n"},{"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1623571691,"creation_date":1623571182,"answer_id":67956082,"question_id":66066233,"body_markdown":"I am distressed by this discussion!\r\n\r\nCollections that do this have been a pet peeve of mine since before I wrote the first collections that eventually became Guava. If you find any Guava collection that throws NPE just because you asked it a perfectly innocent question like `.contains(null)`, please file a bug! We hate that crap.\r\n\r\nEDIT: I was so distressed that I had to go back to look at my 2007 changelist that first created ImmutableSet and saw literally this:\r\n\r\n```\r\n  @Override public boolean contains(@Nullable Object target) {\r\n    if (target == null) {\r\n      return false;\r\n    }\r\n```\r\n\r\nahhhhh.\r\n","title":"Why does ImmutableCollection.contains(null) fail?","body":"<p>I am distressed by this discussion!</p>\n<p>Collections that do this have been a pet peeve of mine since before I wrote the first collections that eventually became Guava. If you find any Guava collection that throws NPE just because you asked it a perfectly innocent question like <code>.contains(null)</code>, please file a bug! We hate that crap.</p>\n<p>EDIT: I was so distressed that I had to go back to look at my 2007 changelist that first created ImmutableSet and saw literally this:</p>\n<pre><code>  @Override public boolean contains(@Nullable Object target) {\n    if (target == null) {\n      return false;\n    }\n</code></pre>\n<p>ahhhhh.</p>\n"},{"tags":[],"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680174908,"creation_date":1680174305,"answer_id":75887421,"question_id":66066233,"body_markdown":"The problem gets worse, if calling `containsAll()` on `ImmutableCollections`:\r\n\r\n    @Override\r\n    public boolean contains(Object o) {\r\n        return o.equals(e0) || e1.equals(o); // implicit nullcheck of o\r\n    }\r\n\r\nwhich uses `AbstractCollection`&#39;s super implementation:\r\n\r\n    public boolean containsAll(Collection&lt;?&gt; c) {\r\n        for (Object e : c)\r\n            if (!contains(e))\r\n                return false;\r\n        return true;\r\n    }\r\n\r\nThis provokes a `NullPointerException`, as soon as the (disallowing null) ImmutableCollection&#39;s check against another Collection (that allows null) encounters a `null` reference.\r\n\r\nSo, when trying something like this, where an `ImmutableCollection` is compared against a `HashSet` (in OpenJDK 15):\r\n\r\n    Set.of(&quot;&quot;).containsAll(Stream.of((Object)null).collect(Collectors.toSet()));\r\n\r\nA `NullPointerException` is thrown. Things like that can make it very unpleasant to work with the &#39;modern&#39; Collection API in projects, that have a way back history.\r\n\r\nYou&#39;d have to do a potentially absurd explicit check of the compared &#39;legacy&#39; Collection beforehand like this:\r\n\r\n    Collection coll = Stream.of((Object)null).collect(Collectors.toSet());\r\n    boolean hasNull = coll == null || coll.contains(null);\r\n    if (!hasNull) {\r\n        Set.of(&quot;&quot;).containsAll(coll);\r\n    }","title":"Why does ImmutableCollection.contains(null) fail?","body":"<p>The problem gets worse, if calling <code>containsAll()</code> on <code>ImmutableCollections</code>:</p>\n<pre><code>@Override\npublic boolean contains(Object o) {\n    return o.equals(e0) || e1.equals(o); // implicit nullcheck of o\n}\n</code></pre>\n<p>which uses <code>AbstractCollection</code>'s super implementation:</p>\n<pre><code>public boolean containsAll(Collection&lt;?&gt; c) {\n    for (Object e : c)\n        if (!contains(e))\n            return false;\n    return true;\n}\n</code></pre>\n<p>This provokes a <code>NullPointerException</code>, as soon as the (disallowing null) ImmutableCollection's check against another Collection (that allows null) encounters a <code>null</code> reference.</p>\n<p>So, when trying something like this, where an <code>ImmutableCollection</code> is compared against a <code>HashSet</code> (in OpenJDK 15):</p>\n<pre><code>Set.of(&quot;&quot;).containsAll(Stream.of((Object)null).collect(Collectors.toSet()));\n</code></pre>\n<p>A <code>NullPointerException</code> is thrown. Things like that can make it very unpleasant to work with the 'modern' Collection API in projects, that have a way back history.</p>\n<p>You'd have to do a potentially absurd explicit check of the compared 'legacy' Collection beforehand like this:</p>\n<pre><code>Collection coll = Stream.of((Object)null).collect(Collectors.toSet());\nboolean hasNull = coll == null || coll.contains(null);\nif (!hasNull) {\n    Set.of(&quot;&quot;).containsAll(coll);\n}\n</code></pre>\n"}],"owner":{"account_id":8793652,"reputation":740,"user_id":6572357,"display_name":"D&#225;niel Somogyi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4108,"favorite_count":0,"down_vote_count":3,"up_vote_count":8,"accepted_answer_id":67956082,"answer_count":3,"score":5,"last_activity_date":1680174908,"creation_date":1612539794,"question_id":66066233,"body_markdown":"Question ahead:\r\nwhy does in Java the call `coll.contains(null)` fail for ImmutableCollections?\r\n\r\nI know, that immutable collections cannot contain null-elements, and I do not want to discuss whether that&#39;s good or bad.\r\n\r\nBut when I write a Function, that takes a (general, not explicit immutable) Collection, it fails upon checking for nulls. Why does the implementation not return false (which is actually the &#39;correct&#39; answer)?\r\n\r\nAnd how can I properly check for nulls in a `Collection` in general?\r\n\r\n**Edit:** \r\nwith some discussions (thanks to the commenters!) I realized, that I mixed up two things: [ImmutableCollection](https://guava.dev/releases/19.0/api/docs/com/google/common/collect/ImmutableCollection.html) from the guava library, and the List returned by [java.util.List.of](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#of(E)), being some class from ImmutableCollections. However, both classes throw an NPE on `.contains(null)`.\r\n \r\nMy problem was with the `List.of` result, but technically the same would happen with guaves implementation. [edit: It does not]","title":"Why does ImmutableCollection.contains(null) fail?","body":"<p>Question ahead:\nwhy does in Java the call <code>coll.contains(null)</code> fail for ImmutableCollections?</p>\n<p>I know, that immutable collections cannot contain null-elements, and I do not want to discuss whether that's good or bad.</p>\n<p>But when I write a Function, that takes a (general, not explicit immutable) Collection, it fails upon checking for nulls. Why does the implementation not return false (which is actually the 'correct' answer)?</p>\n<p>And how can I properly check for nulls in a <code>Collection</code> in general?</p>\n<p><strong>Edit:</strong>\nwith some discussions (thanks to the commenters!) I realized, that I mixed up two things: <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/collect/ImmutableCollection.html\" rel=\"nofollow noreferrer\">ImmutableCollection</a> from the guava library, and the List returned by <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#of(E)\" rel=\"nofollow noreferrer\">java.util.List.of</a>, being some class from ImmutableCollections. However, both classes throw an NPE on <code>.contains(null)</code>.</p>\n<p>My problem was with the <code>List.of</code> result, but technically the same would happen with guaves implementation. [edit: It does not]</p>\n"},{"tags":["java","qr-code","zxing"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680006152,"post_id":75865905,"comment_id":133819707,"body_markdown":"Never assume we know what API you&#39;re using. Unless only the standard JRE library is being used, always state what API you&#39;re using. It looks like whatever is &#39;doing OCR&#39; is having character encoding problems or missing glyph problems somewhere in the chain. *Where* are you seeing that question mark?","body":"Never assume we know what API you&#39;re using. Unless only the standard JRE library is being used, always state what API you&#39;re using. It looks like whatever is &#39;doing OCR&#39; is having character encoding problems or missing glyph problems somewhere in the chain. <i>Where</i> are you seeing that question mark?"},{"owner":{"account_id":9165187,"reputation":1165,"user_id":7783649,"display_name":"samar taj Shaikh"},"score":0,"creation_date":1680006640,"post_id":75865905,"comment_id":133819822,"body_markdown":"as i said, after generating a QR code against a string. When i am scanning the QR code via my mobile-phone the QR code text generated after scanning has `?` in place of `₹`","body":"as i said, after generating a QR code against a string. When i am scanning the QR code via my mobile-phone the QR code text generated after scanning has <code>?</code> in place of <code>₹</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680006817,"post_id":75865905,"comment_id":133819871,"body_markdown":"Please also attach the calling code to your question, showing how that Rupee sign is being input","body":"Please also attach the calling code to your question, showing how that Rupee sign is being input"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1680008123,"post_id":75865905,"comment_id":133820257,"body_markdown":"Adding `Map.of(EncodeHintType.CHARACTER_SET, &quot;UTF-8&quot;)` as the last parameter to of the `encode()` method made it work for me.","body":"Adding <code>Map.of(EncodeHintType.CHARACTER_SET, &quot;UTF-8&quot;)</code> as the last parameter to of the <code>encode()</code> method made it work for me."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680009376,"post_id":75865905,"comment_id":133820663,"body_markdown":"Yes. Strange that it doesn&#39;t default to UTF-8","body":"Yes. Strange that it doesn&#39;t default to UTF-8"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1680105357,"post_id":75865905,"comment_id":133842020,"body_markdown":"Also see [What are the supported values for CHARACTER_SET](https://groups.google.com/g/zxing/c/i8ABpVs9mjc) if you want to be certain that the specified value of `EncodeHintType.CHARACTER_SET` is valid at runtime.","body":"Also see <a href=\"https://groups.google.com/g/zxing/c/i8ABpVs9mjc\" rel=\"nofollow noreferrer\">What are the supported values for CHARACTER_SET</a> if you want to be certain that the specified value of <code>EncodeHintType.CHARACTER_SET</code> is valid at runtime."}],"owner":{"account_id":9165187,"reputation":1165,"user_id":7783649,"display_name":"samar taj Shaikh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680174813,"answer_count":0,"score":0,"last_activity_date":1680174794,"creation_date":1680004325,"question_id":75865905,"body_markdown":"This is the function I am using to generate a QR file:\r\n\r\n    import com.google.zxing.BarcodeFormat;\r\n    import com.google.zxing.WriterException;\r\n    import com.google.zxing.client.j2se.MatrixToImageWriter;\r\n    import com.google.zxing.common.BitMatrix;\r\n    import com.google.zxing.qrcode.QRCodeWriter;\r\n\r\n    public boolean generateQRCode(String qrCodeContent, String filePath, int width, int height) {\r\n        try {\r\n            QRCodeWriter qrCodeWriter = new QRCodeWriter();\r\n            BitMatrix bitMatrix = qrCodeWriter.encode(qrCodeContent, BarcodeFormat.QR_CODE, width, height);\r\n            Path path = Paths.get(filePath);\r\n            MatrixToImageWriter.writeToPath(bitMatrix, &quot;PNG&quot;, path);\r\n            return true;\r\n        } catch (WriterException | IOException e) {\r\n            log.error(&quot;Exception occurred while generating QR Code&quot;, e);\r\n        }\r\n        return false;\r\n    }\r\n\r\nWhen I am sending the `₹` symbol in `qrCodeContent` string, nothing goes wrong, the QR code gets generated successfully.\r\n\r\nHowever, when I scan the code, all those places where `₹` was there are replaced by `?`.\r\n\r\nThe variable `qrCodeContent` is of type `String` which contains a normal string with literals like `Your total saving are ₹ 100.00`.","title":"₹ symbol on scaning generated QR code is replaced by &#39;?&#39; symbol","body":"<p>This is the function I am using to generate a QR file:</p>\n<pre><code>import com.google.zxing.BarcodeFormat;\nimport com.google.zxing.WriterException;\nimport com.google.zxing.client.j2se.MatrixToImageWriter;\nimport com.google.zxing.common.BitMatrix;\nimport com.google.zxing.qrcode.QRCodeWriter;\n\npublic boolean generateQRCode(String qrCodeContent, String filePath, int width, int height) {\n    try {\n        QRCodeWriter qrCodeWriter = new QRCodeWriter();\n        BitMatrix bitMatrix = qrCodeWriter.encode(qrCodeContent, BarcodeFormat.QR_CODE, width, height);\n        Path path = Paths.get(filePath);\n        MatrixToImageWriter.writeToPath(bitMatrix, &quot;PNG&quot;, path);\n        return true;\n    } catch (WriterException | IOException e) {\n        log.error(&quot;Exception occurred while generating QR Code&quot;, e);\n    }\n    return false;\n}\n</code></pre>\n<p>When I am sending the <code>₹</code> symbol in <code>qrCodeContent</code> string, nothing goes wrong, the QR code gets generated successfully.</p>\n<p>However, when I scan the code, all those places where <code>₹</code> was there are replaced by <code>?</code>.</p>\n<p>The variable <code>qrCodeContent</code> is of type <code>String</code> which contains a normal string with literals like <code>Your total saving are ₹ 100.00</code>.</p>\n"},{"tags":["java","android","database","sqlite","android-room"],"comments":[{"owner":{"account_id":11209879,"reputation":611,"user_id":8224232,"display_name":"m3g4tr0n"},"score":0,"creation_date":1560768596,"post_id":56628647,"comment_id":99831370,"body_markdown":"which file are you opening in SqliteBrowser ?","body":"which file are you opening in SqliteBrowser ?"},{"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"score":0,"creation_date":1560768642,"post_id":56628647,"comment_id":99831394,"body_markdown":"@m3g4tr0n , the first one , but i tried all of them","body":"@m3g4tr0n , the first one , but i tried all of them"},{"owner":{"account_id":11209879,"reputation":611,"user_id":8224232,"display_name":"m3g4tr0n"},"score":0,"creation_date":1560768685,"post_id":56628647,"comment_id":99831415,"body_markdown":"Can you upload your file somewhere from where I could download","body":"Can you upload your file somewhere from where I could download"},{"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"score":0,"creation_date":1560768690,"post_id":56628647,"comment_id":99831417,"body_markdown":"I think its about permission , what do you think?","body":"I think its about permission , what do you think?"},{"owner":{"account_id":11209879,"reputation":611,"user_id":8224232,"display_name":"m3g4tr0n"},"score":0,"creation_date":1560768732,"post_id":56628647,"comment_id":99831435,"body_markdown":"I don&#39;t think so, Sqlite Browser clearly says Invalid File Format","body":"I don&#39;t think so, Sqlite Browser clearly says Invalid File Format"},{"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"score":0,"creation_date":1560768843,"post_id":56628647,"comment_id":99831486,"body_markdown":"@m3g4tr0n , [link](https://filebin.net/bj9wjvck01hbtbl5)","body":"@m3g4tr0n , <a href=\"https://filebin.net/bj9wjvck01hbtbl5\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":11209879,"reputation":611,"user_id":8224232,"display_name":"m3g4tr0n"},"score":0,"creation_date":1560769128,"post_id":56628647,"comment_id":99831633,"body_markdown":"Just tried, I am getting a different error : Could Not Open Database File, Reason file is not a Database","body":"Just tried, I am getting a different error : Could Not Open Database File, Reason file is not a Database"},{"owner":{"account_id":11209879,"reputation":611,"user_id":8224232,"display_name":"m3g4tr0n"},"score":0,"creation_date":1560769156,"post_id":56628647,"comment_id":99831652,"body_markdown":"Add Some Data to tables then try exporting once again","body":"Add Some Data to tables then try exporting once again"},{"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"score":0,"creation_date":1560769358,"post_id":56628647,"comment_id":99831760,"body_markdown":"@m3g4tr0n , you import it in DB browser or other one?","body":"@m3g4tr0n , you import it in DB browser or other one?"},{"owner":{"account_id":11209879,"reputation":611,"user_id":8224232,"display_name":"m3g4tr0n"},"score":0,"creation_date":1560769363,"post_id":56628647,"comment_id":99831765,"body_markdown":"Try adding ```exportSchema``` in ```@Database(entities = {Authentication.class}, version = 1, exportSchema = false) ```","body":"Try adding <code>exportSchema</code> in <code>@Database(entities = {Authentication.class}, version = 1, exportSchema = false) </code>"},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1560769366,"post_id":56628647,"comment_id":99831768,"body_markdown":"Definitely not an SQLite Database first 16 bytes should be **SQLite format 3\\000** instead the first bytes are &#227;O&#192;D&#243;7QX&#170;&#228;&#210;Ž&#215;&#240;&#244;dw&#212;&#162;. I&#39;d suggest try copying the 3 files again.","body":"Definitely not an SQLite Database first 16 bytes should be <b>SQLite format 3\\000</b> instead the first bytes are &#227;O&#192;D&#243;7QX&#170;&#228;&#210;Ž&#215;&#240;&#244;dw&#212;&#162;. I&#39;d suggest try copying the 3 files again."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1560769419,"post_id":56628647,"comment_id":99831792,"body_markdown":"@MikeT: This is a SQLCipher for Android database; I do not know if they share the same byte header.","body":"@MikeT: This is a SQLCipher for Android database; I do not know if they share the same byte header."},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1560769553,"post_id":56628647,"comment_id":99831861,"body_markdown":"@CommonsWare then it would need to be opened with the key as I believe that decrypts the entire file.","body":"@CommonsWare then it would need to be opened with the key as I believe that decrypts the entire file."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1560769606,"post_id":56628647,"comment_id":99831887,"body_markdown":"&quot;how can i change permission&quot; -- you need to be copying the files down to your development machine before attempting to use them in some external tool. &quot;open my room database in DB browser?&quot; -- I have no idea if that tool supports SQLCipher databases.","body":"&quot;how can i change permission&quot; -- you need to be copying the files down to your development machine before attempting to use them in some external tool. &quot;open my room database in DB browser?&quot; -- I have no idea if that tool supports SQLCipher databases."},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1560769754,"post_id":56628647,"comment_id":99831952,"body_markdown":"@CommonsWare I believe you can IF you have a version of DB Browser with SQliteCipher.","body":"@CommonsWare I believe you can IF you have a version of DB Browser with SQliteCipher."},{"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"score":0,"creation_date":1560770370,"post_id":56628647,"comment_id":99832295,"body_markdown":"Thanks for your answering every body , @CommonsWare , you mean is that DB browser does not support SQLCipher database?","body":"Thanks for your answering every body , @CommonsWare , you mean is that DB browser does not support SQLCipher database?"},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":2,"creation_date":1560770968,"post_id":56628647,"comment_id":99832585,"body_markdown":"at [Encrypted Databases](https://github.com/sqlitebrowser/sqlitebrowser/wiki/Encrypted-Databases) it says *DB Browser for SQLite can be downloaded with SQLCipher support on Mac OSX and Windows, or if you compile it yourself you can get support on Linux.* But then says *You can only encrypt an existing database, so if you want a new encrypted database you first need to create a new database file and then encrypt it.* So wondering if it&#39;s a self contained so can&#39;t open a db encrypted elsewhere.","body":"at <a href=\"https://github.com/sqlitebrowser/sqlitebrowser/wiki/Encrypted-Databases\" rel=\"nofollow noreferrer\">Encrypted Databases</a> it says <i>DB Browser for SQLite can be downloaded with SQLCipher support on Mac OSX and Windows, or if you compile it yourself you can get support on Linux.</i> But then says <i>You can only encrypt an existing database, so if you want a new encrypted database you first need to create a new database file and then encrypt it.</i> So wondering if it&#39;s a self contained so can&#39;t open a db encrypted elsewhere."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1560771458,"post_id":56628647,"comment_id":99832832,"body_markdown":"&quot;you mean is that DB browser does not support SQLCipher database?&quot; -- as I wrote, I have no idea if that tool supports SQLCipher databases.","body":"&quot;you mean is that DB browser does not support SQLCipher database?&quot; -- as I wrote, I have no idea if that tool supports SQLCipher databases."},{"owner":{"account_id":2907259,"reputation":3446,"user_id":2543013,"accept_rate":69,"display_name":"LeTadas"},"score":0,"creation_date":1560778632,"post_id":56628647,"comment_id":99836830,"body_markdown":"Most likely sqlite browser doesn&#39;t work properly, try other ones","body":"Most likely sqlite browser doesn&#39;t work properly, try other ones"},{"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"score":0,"creation_date":1560834707,"post_id":56628647,"comment_id":99854618,"body_markdown":"@kosas , i use  Stetho [link](https://stackoverflow.com/questions/29138442/browse-sqlite-database-from-android-studio)  library that faceboook release it and sqliteviewer but does not show anything again","body":"@kosas , i use  Stetho <a href=\"https://stackoverflow.com/questions/29138442/browse-sqlite-database-from-android-studio\">link</a>  library that faceboook release it and sqliteviewer but does not show anything again"}],"answers":[{"tags":[],"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1561524347,"creation_date":1561524347,"answer_id":56765348,"question_id":56628647,"body_markdown":"As i found The DB browser that developed in Linux cant open my encrypted room database because i open it in MAC OS.\r\n\r\n**You can see more detail in [this][1] issue that i open it,i hope that this is useful for your problem**.\r\n\r\n\r\n  [1]: https://github.com/commonsguy/cwac-saferoom/issues/58","title":"Android Room database file is invalid file format in DB browser","body":"<p>As i found The DB browser that developed in Linux cant open my encrypted room database because i open it in MAC OS.</p>\n\n<p><strong>You can see more detail in <a href=\"https://github.com/commonsguy/cwac-saferoom/issues/58\" rel=\"nofollow noreferrer\">this</a> issue that i open it,i hope that this is useful for your problem</strong>.</p>\n"},{"tags":[],"owner":{"account_id":11826940,"reputation":31,"user_id":8654632,"display_name":"vikas khot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680174705,"creation_date":1680174705,"answer_id":75887477,"question_id":56628647,"body_markdown":"If you are using **SQLCipher** in Room DB then it will not show in App Inspection-&gt;Database Inspector \r\n\r\nRemove this below line and check-\r\n\r\n.openHelperFactory(factory) //will not show  in App Inspection -&gt;Database inspection\r\n","title":"Android Room database file is invalid file format in DB browser","body":"<p>If you are using <strong>SQLCipher</strong> in Room DB then it will not show in App Inspection-&gt;Database Inspector</p>\n<p>Remove this below line and check-</p>\n<p>.openHelperFactory(factory) //will not show  in App Inspection -&gt;Database inspection</p>\n"}],"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3188,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":56765348,"answer_count":2,"score":1,"last_activity_date":1680174705,"creation_date":1560764401,"question_id":56628647,"body_markdown":"I am going to `data/data/myPackage` in emulator and download these three files about my apps database :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut when i import it to DB browser i faced with this error :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ha1W8.png\r\n  [2]: https://i.stack.imgur.com/jrat9.png\r\n\r\nI think the problem is about permissions`(-rw------)` because when i import other database that has this `(-rw-rw----)`,DB browser can open it.\r\n\r\n**Then how can i change permission or open my room database in DB browser?**\r\n\r\nThis is my room config :\r\n\r\n\r\n    @Database(entities = {Authentication.class}, version = 1)\r\n    public abstract class InsensitiveDatabase extends RoomDatabase {\r\n    \r\n        private static InsensitiveDatabase INSTANCE;\r\n    \r\n        public abstract AuthenticationDao authenticationDao();\r\n    \r\n        public static InsensitiveDatabase getInsensitiveDatabase(Context context) {\r\n            if (INSTANCE == null) {\r\n                Editable editable = new SpannableStringBuilder(&quot;1234&quot;);\r\n                SafeHelperFactory factory = SafeHelperFactory.fromUser(editable);\r\n                INSTANCE = Room.databaseBuilder(context, InsensitiveDatabase.class, &quot;insensitive.db&quot;)\r\n                        .openHelperFactory(factory)\r\n                        .build();\r\n            }\r\n            return INSTANCE;\r\n        }\r\n    }","title":"Android Room database file is invalid file format in DB browser","body":"<p>I am going to <code>data/data/myPackage</code> in emulator and download these three files about my apps database :</p>\n\n<p><a href=\"https://i.stack.imgur.com/ha1W8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ha1W8.png\" alt=\"enter image description here\"></a></p>\n\n<p>But when i import it to DB browser i faced with this error :</p>\n\n<p><a href=\"https://i.stack.imgur.com/jrat9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jrat9.png\" alt=\"enter image description here\"></a></p>\n\n<p>I think the problem is about permissions<code>(-rw------)</code> because when i import other database that has this <code>(-rw-rw----)</code>,DB browser can open it.</p>\n\n<p><strong>Then how can i change permission or open my room database in DB browser?</strong></p>\n\n<p>This is my room config :</p>\n\n<pre><code>@Database(entities = {Authentication.class}, version = 1)\npublic abstract class InsensitiveDatabase extends RoomDatabase {\n\n    private static InsensitiveDatabase INSTANCE;\n\n    public abstract AuthenticationDao authenticationDao();\n\n    public static InsensitiveDatabase getInsensitiveDatabase(Context context) {\n        if (INSTANCE == null) {\n            Editable editable = new SpannableStringBuilder(\"1234\");\n            SafeHelperFactory factory = SafeHelperFactory.fromUser(editable);\n            INSTANCE = Room.databaseBuilder(context, InsensitiveDatabase.class, \"insensitive.db\")\n                    .openHelperFactory(factory)\n                    .build();\n        }\n        return INSTANCE;\n    }\n}\n</code></pre>\n"},{"tags":["java","assert","runtimeexception","java-17"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1680101007,"post_id":75878685,"comment_id":133840615,"body_markdown":"Assuming `getOctentString` returns a `byte[]`, then all of your `new String(...)` calls suffer from using the &quot;use default character set&quot; problem. I doubt this is the fundamental problem here, but it&#39;s something you need to look out for. Also: which `Asserts` class are you using? Overusing `assertTrue()` is one of the reasons why you don&#39;t get useful output of your test, there should be something like `assertContains()` or similar notation that would provide more useful context when the assert fails.","body":"Assuming <code>getOctentString</code> returns a <code>byte[]</code>, then all of your <code>new String(...)</code> calls suffer from using the &quot;use default character set&quot; problem. I doubt this is the fundamental problem here, but it&#39;s something you need to look out for. Also: which <code>Asserts</code> class are you using? Overusing <code>assertTrue()</code> is one of the reasons why you don&#39;t get useful output of your test, there should be something like <code>assertContains()</code> or similar notation that would provide more useful context when the assert fails."}],"owner":{"account_id":27253272,"reputation":11,"user_id":20777347,"display_name":"Navie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680174674,"creation_date":1680100609,"question_id":75878685,"body_markdown":"I have the following code:\r\n\r\n```java\r\npublic class Properties {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        Files.writeString(Path.of(&quot;anything&quot;), &quot;anything&quot;);\r\n        JarUtils.createJarFile(Path.of(&quot;src.jar&quot;), Path.of(&quot;.&quot;),\r\n                Files.write(Path.of(&quot;anything&quot;), new byte[100]));\r\n\r\n        var cakg = new CertAndKeyGen(&quot;EC&quot;, &quot;SHA1withECDSA&quot;);\r\n        cakg.generate(&quot;secp256r1&quot;);\r\n        JarSigner.Builder jsb = new JarSigner.Builder(\r\n                cakg.getPrivateKey(),\r\n                CertificateFactory.getInstance(&quot;X.509&quot;).generateCertPath(List.of(\r\n                        cakg.getSelfCertificate(new X500Name(&quot;CN=Me&quot;), 100))));\r\n        jsb.signerName(&quot;E&quot;);\r\n        String sf;\r\n\r\n        byte[] i0 = sign(jsb.setProperty(&quot;internalsf&quot;, &quot;false&quot;));\r\n        // EncapsulatedContentInfo no content\r\n        DerUtils.shouldNotExist(i0, &quot;1021&quot;);\r\n\r\n        byte[] i1 = sign(jsb.setProperty(&quot;internalsf&quot;, &quot;true&quot;));\r\n        // EncapsulatedContentInfo has content being the SF\r\n        sf = new String(DerUtils.innerDerValue(i1, &quot;10210&quot;).getOctetString());\r\n        Asserts.assertTrue(sf.startsWith(&quot;Signature-Version&quot;));\r\n\r\n        // There is a SignedAttributes\r\n        byte[] d0 = sign(jsb);\r\n        Asserts.assertTrue(DerUtils.innerDerValue(d0, &quot;10403&quot;)\r\n                .isContextSpecific((byte)0));\r\n\r\n        // Has a hash for the whole manifest\r\n        byte[] s0 = sign(jsb.setProperty(&quot;sectionsonly&quot;, &quot;false&quot;));\r\n        sf = new String(DerUtils.innerDerValue(s0, &quot;10210&quot;).getOctetString());\r\n        Asserts.assertTrue(sf.contains(&quot;SHA-256-Digest-Manifest:&quot;));\r\n\r\n        // Has no hash for the whole manifest\r\n        byte[] s1 = sign(jsb.setProperty(&quot;sectionsonly&quot;, &quot;true&quot;));\r\n        sf = new String(DerUtils.innerDerValue(s1, &quot;10210&quot;).getOctetString());\r\n        Asserts.assertFalse(sf.contains(&quot;SHA-256-Digest-Manifest:&quot;));\r\n    }\r\n\r\n    // Sign and returns the content of the PKCS7 signature block inside\r\n    static byte[] sign(JarSigner.Builder b) throws Exception {\r\n        ByteArrayOutputStream bout = new ByteArrayOutputStream();\r\n        try (ZipFile zf = new ZipFile(&quot;src.jar&quot;)) {\r\n            b.build().sign(zf, bout);\r\n        }\r\n        var jf = new JarInputStream(\r\n                new ByteArrayInputStream(bout.toByteArray()));\r\n        while (true) {\r\n            JarEntry je = jf.getNextJarEntry();\r\n            if (je == null) {\r\n                throw new RuntimeException(&quot;Cannot find signature&quot;);\r\n            }\r\n            if (je.getName().equals(&quot;META-INF/E.EC&quot;)) {\r\n                return jf.readAllBytes();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSpecifically, the assertion `Asserts.assertTrue(sf.contains(&quot;SHA-256-Digest-Manifest:&quot;))` is failing. This assertion is checking that the output of the `sign()` method when the `sectionsonly` property is set to false contains a hash for the whole manifest. The hash should be included in the SF file of the signed JAR file, which is read by the test from a byte array returned by the `sign()` method.\r\n\r\nThe failure of the assertion suggests that the SF file does not contain the expected hash. I tried printing out the `sf` value of `sf = new String(DerUtils.innerDerValue(i1, &quot;10210&quot;).getOctetString());`, but the output is not showing up in my stack trace. Also, I tried adding `sf = new String(DerUtils.innerDerValue(i1, &quot;10210&quot;).getOctetString(StandardCharsets.UTF_8));` to see if there is an encoding issue, but the syntax seems to be wrong. Any insights would be helpful.","title":"Test failed with java.lang.RuntimeException: assertTrue: expected true, was false","body":"<p>I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Properties {\n\n    public static void main(String[] args) throws Exception {\n\n        Files.writeString(Path.of(&quot;anything&quot;), &quot;anything&quot;);\n        JarUtils.createJarFile(Path.of(&quot;src.jar&quot;), Path.of(&quot;.&quot;),\n                Files.write(Path.of(&quot;anything&quot;), new byte[100]));\n\n        var cakg = new CertAndKeyGen(&quot;EC&quot;, &quot;SHA1withECDSA&quot;);\n        cakg.generate(&quot;secp256r1&quot;);\n        JarSigner.Builder jsb = new JarSigner.Builder(\n                cakg.getPrivateKey(),\n                CertificateFactory.getInstance(&quot;X.509&quot;).generateCertPath(List.of(\n                        cakg.getSelfCertificate(new X500Name(&quot;CN=Me&quot;), 100))));\n        jsb.signerName(&quot;E&quot;);\n        String sf;\n\n        byte[] i0 = sign(jsb.setProperty(&quot;internalsf&quot;, &quot;false&quot;));\n        // EncapsulatedContentInfo no content\n        DerUtils.shouldNotExist(i0, &quot;1021&quot;);\n\n        byte[] i1 = sign(jsb.setProperty(&quot;internalsf&quot;, &quot;true&quot;));\n        // EncapsulatedContentInfo has content being the SF\n        sf = new String(DerUtils.innerDerValue(i1, &quot;10210&quot;).getOctetString());\n        Asserts.assertTrue(sf.startsWith(&quot;Signature-Version&quot;));\n\n        // There is a SignedAttributes\n        byte[] d0 = sign(jsb);\n        Asserts.assertTrue(DerUtils.innerDerValue(d0, &quot;10403&quot;)\n                .isContextSpecific((byte)0));\n\n        // Has a hash for the whole manifest\n        byte[] s0 = sign(jsb.setProperty(&quot;sectionsonly&quot;, &quot;false&quot;));\n        sf = new String(DerUtils.innerDerValue(s0, &quot;10210&quot;).getOctetString());\n        Asserts.assertTrue(sf.contains(&quot;SHA-256-Digest-Manifest:&quot;));\n\n        // Has no hash for the whole manifest\n        byte[] s1 = sign(jsb.setProperty(&quot;sectionsonly&quot;, &quot;true&quot;));\n        sf = new String(DerUtils.innerDerValue(s1, &quot;10210&quot;).getOctetString());\n        Asserts.assertFalse(sf.contains(&quot;SHA-256-Digest-Manifest:&quot;));\n    }\n\n    // Sign and returns the content of the PKCS7 signature block inside\n    static byte[] sign(JarSigner.Builder b) throws Exception {\n        ByteArrayOutputStream bout = new ByteArrayOutputStream();\n        try (ZipFile zf = new ZipFile(&quot;src.jar&quot;)) {\n            b.build().sign(zf, bout);\n        }\n        var jf = new JarInputStream(\n                new ByteArrayInputStream(bout.toByteArray()));\n        while (true) {\n            JarEntry je = jf.getNextJarEntry();\n            if (je == null) {\n                throw new RuntimeException(&quot;Cannot find signature&quot;);\n            }\n            if (je.getName().equals(&quot;META-INF/E.EC&quot;)) {\n                return jf.readAllBytes();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Specifically, the assertion <code>Asserts.assertTrue(sf.contains(&quot;SHA-256-Digest-Manifest:&quot;))</code> is failing. This assertion is checking that the output of the <code>sign()</code> method when the <code>sectionsonly</code> property is set to false contains a hash for the whole manifest. The hash should be included in the SF file of the signed JAR file, which is read by the test from a byte array returned by the <code>sign()</code> method.</p>\n<p>The failure of the assertion suggests that the SF file does not contain the expected hash. I tried printing out the <code>sf</code> value of <code>sf = new String(DerUtils.innerDerValue(i1, &quot;10210&quot;).getOctetString());</code>, but the output is not showing up in my stack trace. Also, I tried adding <code>sf = new String(DerUtils.innerDerValue(i1, &quot;10210&quot;).getOctetString(StandardCharsets.UTF_8));</code> to see if there is an encoding issue, but the syntax seems to be wrong. Any insights would be helpful.</p>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1598922867,"post_id":63679929,"comment_id":112607251,"body_markdown":"the first you clicked the notification, it is working fine, but for the second attempt, it is not working fine ?","body":"the first you clicked the notification, it is working fine, but for the second attempt, it is not working fine ?"},{"owner":{"account_id":12457732,"reputation":234,"user_id":9070325,"display_name":"Jesse R"},"score":0,"creation_date":1598923854,"post_id":63679929,"comment_id":112607405,"body_markdown":"@Ticherhaz only if i click the notification while the app is terminated. Google FCM allows for receiving of notifications while the app is not actively running, so anytime i click on a notification while the app is not running (thus launching the app) and THEN click on a notification in the app, it doesn&#39;t work. If I open the app normally then I can click as many notifications as I want and it works.","body":"@Ticherhaz only if i click the notification while the app is terminated. Google FCM allows for receiving of notifications while the app is not actively running, so anytime i click on a notification while the app is not running (thus launching the app) and THEN click on a notification in the app, it doesn&#39;t work. If I open the app normally then I can click as many notifications as I want and it works."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1598975635,"post_id":63679929,"comment_id":112627489,"body_markdown":"Are you on the `NotificationActivity` when it doesn&#39;t work while the app is running? If yes, try overriding the `onNewIntent()` and see whether you get the new intent details in it, and act accordingly.","body":"Are you on the <code>NotificationActivity</code> when it doesn&#39;t work while the app is running? If yes, try overriding the <code>onNewIntent()</code> and see whether you get the new intent details in it, and act accordingly."},{"owner":{"account_id":12457732,"reputation":234,"user_id":9070325,"display_name":"Jesse R"},"score":0,"creation_date":1598993164,"post_id":63679929,"comment_id":112634370,"body_markdown":"@Shark I am not on that activity when it doesn&#39;t work. I tried to override that method just to check and it also is not being called.","body":"@Shark I am not on that activity when it doesn&#39;t work. I tried to override that method just to check and it also is not being called."},{"owner":{"account_id":12457732,"reputation":234,"user_id":9070325,"display_name":"Jesse R"},"score":0,"creation_date":1598994825,"post_id":63679929,"comment_id":112634898,"body_markdown":"Changing my pending intent flag from PendingIntent.FLAG_UPDATE_CURRENT to PendingIntent.FLAG_CANCEL_CURRENT has seemed to fix it. I have a vague intuition as to why but would certainly appreciate anyone being able to explain why this would have fixed it.","body":"Changing my pending intent flag from PendingIntent.FLAG_UPDATE_CURRENT to PendingIntent.FLAG_CANCEL_CURRENT has seemed to fix it. I have a vague intuition as to why but would certainly appreciate anyone being able to explain why this would have fixed it."},{"owner":{"account_id":14624310,"reputation":91,"user_id":10562061,"display_name":"Ameen Aliu"},"score":0,"creation_date":1637192644,"post_id":63679929,"comment_id":123763856,"body_markdown":"Did you later find an explanation to why this is happening, or why FLAG_CANCEL_CURRENT fixed it for you? I am experiencing the same situation and the flag did not fix it for me.","body":"Did you later find an explanation to why this is happening, or why FLAG_CANCEL_CURRENT fixed it for you? I am experiencing the same situation and the flag did not fix it for me."},{"owner":{"account_id":12457732,"reputation":234,"user_id":9070325,"display_name":"Jesse R"},"score":0,"creation_date":1637205963,"post_id":63679929,"comment_id":123766127,"body_markdown":"@AmeenAliu sorry it&#39;s been a while so am pretty rusty on the specifics of this. Looking at my final code what I ended up doing was using that CANCEL_CURRENT flag and passing the intent to the main activity that I use. In that activitiy&#39;s onNewIntent I grab the data for the intent and then route accordingly. I ended up getting rid of the separate NotificationActivity that does the routing","body":"@AmeenAliu sorry it&#39;s been a while so am pretty rusty on the specifics of this. Looking at my final code what I ended up doing was using that CANCEL_CURRENT flag and passing the intent to the main activity that I use. In that activitiy&#39;s onNewIntent I grab the data for the intent and then route accordingly. I ended up getting rid of the separate NotificationActivity that does the routing"},{"owner":{"account_id":14624310,"reputation":91,"user_id":10562061,"display_name":"Ameen Aliu"},"score":0,"creation_date":1637248439,"post_id":63679929,"comment_id":123780330,"body_markdown":"hmm. Thanks @Jesse","body":"hmm. Thanks @Jesse"},{"owner":{"account_id":5749383,"reputation":930,"user_id":4539582,"accept_rate":62,"display_name":"newbie"},"score":0,"creation_date":1661746008,"post_id":63679929,"comment_id":129836447,"body_markdown":"is that solve? I have got the issue but still have no idea how to solve this.","body":"is that solve? I have got the issue but still have no idea how to solve this."}],"answers":[{"tags":[],"owner":{"account_id":6088466,"reputation":1,"user_id":4751612,"display_name":"Kirchhoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680174659,"creation_date":1680174659,"answer_id":75887469,"question_id":63679929,"body_markdown":"I faced the same issue some time ago. I managed to solve it by adding a random string to the intent. \r\n\r\n     val intent = Intent(this, SomeActivity::class.java).apply {\r\n         action = Random.nextInt().toString()\r\n     }\r\n\r\nWith your example it&#39;s should look like: \r\n\r\n    Intent notificationIntent = new Intent(this, NotificationActivity.class);\r\n    notificationIntent.putExtra(Variables.INTENT_NOTIFICATION_DATA, &quot;dummy_data&quot;);\r\n    notificationIntent.setAction(String.valueOf(new Random().nextInt()));","title":"Android PendingIntent not launching activity after opened from background from notification","body":"<p>I faced the same issue some time ago. I managed to solve it by adding a random string to the intent.</p>\n<pre><code> val intent = Intent(this, SomeActivity::class.java).apply {\n     action = Random.nextInt().toString()\n }\n</code></pre>\n<p>With your example it's should look like:</p>\n<pre><code>Intent notificationIntent = new Intent(this, NotificationActivity.class);\nnotificationIntent.putExtra(Variables.INTENT_NOTIFICATION_DATA, &quot;dummy_data&quot;);\nnotificationIntent.setAction(String.valueOf(new Random().nextInt()));\n</code></pre>\n"}],"owner":{"account_id":12457732,"reputation":234,"user_id":9070325,"display_name":"Jesse R"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2046,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1680174659,"creation_date":1598921531,"question_id":63679929,"body_markdown":"I&#39;m using Google FCM to deliver notifications to my app. I am currently sending data notifications and having my android app construct the push notification. I want the user to be able to click on the notification and have it route them to the appropriate fragment/activity.\r\n\r\nIt is working great except for one flow.\r\nUser terminates app -&gt; Receives notification -&gt; Clicks notification -&gt; App launches and data passed correctly to the splash activity from the notification (I&#39;m using a notification activity to broadcast/start intents) -&gt; User receives another notification while app is open -&gt; User clicks notification -&gt; Notification activity, which just previously launched correctly, does not launch.\r\n\r\nI&#39;m scratching my head trying to figure out why this could be. My guess is something to do with the contexts being wrong since the app is being launched from the notification, but I&#39;ve tried to use both &quot;this&quot; and &quot;getApplicationContext()&quot; and neither fixed the issue.\r\n\r\nBelow is how I construct the notification and pending intent.\r\n\r\n```\r\nIntent notificationIntent = new Intent(this, NotificationActivity.class);\r\nnotificationIntent.putExtra(Variables.INTENT_NOTIFICATION_DATA, &quot;dummy_data&quot;);\r\nnotificationIntent.setAction(Variables.NOTIFICATION_CLICK);\r\nPendingIntent contentIntent = PendingIntent.getActivity(this,\r\n\t\t0, notificationIntent, PendingIntent.FLAG_UPDATE_CURRENT);\r\nNotification notification = new NotificationCompat.Builder(this, Variables.CHANNEL)\r\n\t\t.setContentTitle(&quot;New Notification&quot;)\r\n\t\t.setContentText(&quot;Dummy text&quot;)\r\n\t\t.setSmallIcon(R.drawable.notification_icon)\r\n\t\t.setContentIntent(contentIntent)\r\n\t\t.setAutoCancel(true)\r\n\t\t.setOngoing(false)\r\n\t\t.build();\r\nNotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\nif (mNotificationManager != null) {\r\n\tmNotificationManager.notify(0, notification);\r\n}\r\n```","title":"Android PendingIntent not launching activity after opened from background from notification","body":"<p>I'm using Google FCM to deliver notifications to my app. I am currently sending data notifications and having my android app construct the push notification. I want the user to be able to click on the notification and have it route them to the appropriate fragment/activity.</p>\n<p>It is working great except for one flow.\nUser terminates app -&gt; Receives notification -&gt; Clicks notification -&gt; App launches and data passed correctly to the splash activity from the notification (I'm using a notification activity to broadcast/start intents) -&gt; User receives another notification while app is open -&gt; User clicks notification -&gt; Notification activity, which just previously launched correctly, does not launch.</p>\n<p>I'm scratching my head trying to figure out why this could be. My guess is something to do with the contexts being wrong since the app is being launched from the notification, but I've tried to use both &quot;this&quot; and &quot;getApplicationContext()&quot; and neither fixed the issue.</p>\n<p>Below is how I construct the notification and pending intent.</p>\n<pre><code>Intent notificationIntent = new Intent(this, NotificationActivity.class);\nnotificationIntent.putExtra(Variables.INTENT_NOTIFICATION_DATA, &quot;dummy_data&quot;);\nnotificationIntent.setAction(Variables.NOTIFICATION_CLICK);\nPendingIntent contentIntent = PendingIntent.getActivity(this,\n        0, notificationIntent, PendingIntent.FLAG_UPDATE_CURRENT);\nNotification notification = new NotificationCompat.Builder(this, Variables.CHANNEL)\n        .setContentTitle(&quot;New Notification&quot;)\n        .setContentText(&quot;Dummy text&quot;)\n        .setSmallIcon(R.drawable.notification_icon)\n        .setContentIntent(contentIntent)\n        .setAutoCancel(true)\n        .setOngoing(false)\n        .build();\nNotificationManager mNotificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\nif (mNotificationManager != null) {\n    mNotificationManager.notify(0, notification);\n}\n</code></pre>\n"},{"tags":["java","apache-spark","pyspark","apache-spark-sql","user-defined-functions"],"answers":[{"tags":[],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680174569,"creation_date":1680174569,"answer_id":75887457,"question_id":75884928,"body_markdown":"You have 2 choices:\r\n\r\n 1. Declare your map as final and call it from your udf:\r\n    \r\n        final HashMap&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\r\n        public String call(Integer x, Integer y) {\r\n             // Pseudocode\r\n             return myMap.get(x) + myMap.get(y);\r\n        }\r\n 2. But a better solution is to use broadcast variable and then call it\r\n    from you udf:\r\n    \r\n        HashMap&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\r\n        Broadcast&lt;HashMap&lt;String, String&gt;&gt; myMapBroadcast = new JavaSparkContext(spark.sparkContext()).broadcast(myMap);\r\n        public String call(Integer x, Integer y) {\r\n             // Pseudocode\r\n             HashMap&lt;String, String&gt; myMap2 = myMapBroadcast.value();\r\n             return myMap2.get(x) + myMap2.get(y);\r\n        }\r\n\r\n","title":"How to initialize Java UDFs in Spark?","body":"<p>You have 2 choices:</p>\n<ol>\n<li><p>Declare your map as final and call it from your udf:</p>\n<pre><code>final HashMap&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\npublic String call(Integer x, Integer y) {\n     // Pseudocode\n     return myMap.get(x) + myMap.get(y);\n}\n</code></pre>\n</li>\n<li><p>But a better solution is to use broadcast variable and then call it\nfrom you udf:</p>\n<pre><code>HashMap&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\nBroadcast&lt;HashMap&lt;String, String&gt;&gt; myMapBroadcast = new JavaSparkContext(spark.sparkContext()).broadcast(myMap);\npublic String call(Integer x, Integer y) {\n     // Pseudocode\n     HashMap&lt;String, String&gt; myMap2 = myMapBroadcast.value();\n     return myMap2.get(x) + myMap2.get(y);\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":151036,"reputation":2696,"user_id":364651,"accept_rate":64,"display_name":"johngreen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680174635,"creation_date":1680158880,"question_id":75884928,"body_markdown":"My driver script is written in PySpark, where I do some complex transformations on columns. The transformations have been implemented as Java UDFs for performance reasons.\r\n\r\nIn my PySpark code, I register the Java UDF using : \r\n\r\n```\r\nsession.udf.registerJavaFunction(&quot;my_udf&quot;, &quot;com.example.MyUDF&quot;, StringType())\r\n```\r\n\r\nI am able to execute the transformation in PySpark as follows : \r\n```\r\noutput_df = input_df.withColumn(f&quot;transformed&quot;, F.expr(&quot;my_udf(col1, col2)&quot;))\r\n```\r\n\r\nMy Java UDF is defined as follows :\r\n\r\n```\r\nimport org.apache.spark.sql.api.java.UDF2;\r\n\r\npublic class MyUDF implements UDF2&lt;Integer, Integer, String&gt; {\r\n\r\n  @Override\r\n  public String call(Integer x, Integer y) {\r\n       // Do something ...\r\n  }\r\n}\r\n```\r\n\r\nNow, the transformation defined by `MyUDF` requires some other data as inputs. E.g. let&#39;s say there is a map of values against which lookup needs to be performed, and the output is the sum of the mapped values, i.e. \r\n\r\n```\r\n  public String call(Integer x, Integer y) {\r\n       // Pseudocode\r\n       return myMap.get(x) + myMap.get(y);\r\n  }\r\n```\r\n\r\n\r\nQuestion: What is a good way to read the `myMap` from a database and make it available to the UDF written in Java? \r\n\r\nI have read that broadcast variables are meant for such purposes, but I need help in understanding how I can access any broadcast variable created in PySpark from the Java UDF? Or is there a better way to do this?","title":"How to initialize Java UDFs in Spark?","body":"<p>My driver script is written in PySpark, where I do some complex transformations on columns. The transformations have been implemented as Java UDFs for performance reasons.</p>\n<p>In my PySpark code, I register the Java UDF using :</p>\n<pre><code>session.udf.registerJavaFunction(&quot;my_udf&quot;, &quot;com.example.MyUDF&quot;, StringType())\n</code></pre>\n<p>I am able to execute the transformation in PySpark as follows :</p>\n<pre><code>output_df = input_df.withColumn(f&quot;transformed&quot;, F.expr(&quot;my_udf(col1, col2)&quot;))\n</code></pre>\n<p>My Java UDF is defined as follows :</p>\n<pre><code>import org.apache.spark.sql.api.java.UDF2;\n\npublic class MyUDF implements UDF2&lt;Integer, Integer, String&gt; {\n\n  @Override\n  public String call(Integer x, Integer y) {\n       // Do something ...\n  }\n}\n</code></pre>\n<p>Now, the transformation defined by <code>MyUDF</code> requires some other data as inputs. E.g. let's say there is a map of values against which lookup needs to be performed, and the output is the sum of the mapped values, i.e.</p>\n<pre><code>  public String call(Integer x, Integer y) {\n       // Pseudocode\n       return myMap.get(x) + myMap.get(y);\n  }\n</code></pre>\n<p>Question: What is a good way to read the <code>myMap</code> from a database and make it available to the UDF written in Java?</p>\n<p>I have read that broadcast variables are meant for such purposes, but I need help in understanding how I can access any broadcast variable created in PySpark from the Java UDF? Or is there a better way to do this?</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9457,"page":535,"page_size":100}
