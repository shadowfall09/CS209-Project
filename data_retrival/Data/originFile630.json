{"items":[{"tags":["java","arrays"],"comments":[{"owner":{"account_id":11368907,"reputation":4584,"user_id":8334991,"display_name":"Alexandre Fenyo"},"score":1,"creation_date":1676883390,"post_id":75507073,"comment_id":133220133,"body_markdown":"Seems you could simply start by removing duplicates, then apply the previous algorithm. Since numbers are ordered, removing duplicates has the efficiency of O(n) algorithms.","body":"Seems you could simply start by removing duplicates, then apply the previous algorithm. Since numbers are ordered, removing duplicates has the efficiency of O(n) algorithms."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1676883466,"post_id":75507073,"comment_id":133220148,"body_markdown":"How can I do that? without loops? The data is my app needs to  update every 2-3 seconds and so this approach is not good, is it?","body":"How can I do that? without loops? The data is my app needs to  update every 2-3 seconds and so this approach is not good, is it?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1676883502,"post_id":75507073,"comment_id":133220157,"body_markdown":"[How to efficiently remove duplicates from an array without using Set](https://stackoverflow.com/questions/17967114/how-to-efficiently-remove-duplicates-from-an-array-without-using-set)","body":"<a href=\"https://stackoverflow.com/questions/17967114/how-to-efficiently-remove-duplicates-from-an-array-without-using-set\">How to efficiently remove duplicates from an array without using Set</a>"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1676883545,"post_id":75507073,"comment_id":133220174,"body_markdown":"Sorry, but I missed out something. The duplicates are necessary for proper functioning of the app and cant be eliminated.","body":"Sorry, but I missed out something. The duplicates are necessary for proper functioning of the app and cant be eliminated."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1676883888,"post_id":75507073,"comment_id":133220269,"body_markdown":"You shouldn&#39;t remove the duplicates from your actual payload. You should remove the duplicates from a temporary copy of that data, to make the algorithm work.","body":"You shouldn&#39;t remove the duplicates from your actual payload. You should remove the duplicates from a temporary copy of that data, to make the algorithm work."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1676885587,"post_id":75507073,"comment_id":133220702,"body_markdown":"There’s no point removing the duplicates (an O(n) operations) just to be able to optimise finding missing numbers. You’re already iterating through the elements, so you might as well look for the missing number while you do it. I don’t think there’s a way to do better than O(n) in this case.","body":"There’s no point removing the duplicates (an O(n) operations) just to be able to optimise finding missing numbers. You’re already iterating through the elements, so you might as well look for the missing number while you do it. I don’t think there’s a way to do better than O(n) in this case."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1676887274,"post_id":75507073,"comment_id":133221200,"body_markdown":"It really depends on your exact use case. If a few of thousands of numbers are missing, you could store *ranges* instead of each number individually.","body":"It really depends on your exact use case. If a few of thousands of numbers are missing, you could store <i>ranges</i> instead of each number individually."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1676896251,"post_id":75507073,"comment_id":133223654,"body_markdown":"It sounds like you just need to do a binary search but your phrasing makes it unclear what you are really trying to do.  Please include an [mre].","body":"It sounds like you just need to do a binary search but your phrasing makes it unclear what you are really trying to do.  Please include an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":3765857,"reputation":117,"user_id":3129429,"display_name":"Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676886844,"creation_date":1676886844,"answer_id":75507709,"question_id":75507073,"body_markdown":"As far as I know, there is no way to detect a missing number in a list except for looping through.\r\n\r\nIf your array is sorted, it should look like something like this:\r\n\r\n    [1,2,3,3,4,6]\r\n\r\nSo, this code should do the work:\r\n\r\n    int getMissingNumber(int[] numbers){\r\n        for (int i=0; i&lt;numbers.length -1; i++){\r\n            int current = numbers[i];\r\n            int next = numbers[i+1];\r\n            if(next - current &gt; 1){\r\n                return current + 1;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\nOther than this, there is the option of changing the `Array` to the `Set` and then back to `Array` and then, use the previous approach. Be sure to use `LinkedHashSet` to preserve insertion order. But I don&#39;t know if it would be any faster.\r\n\r\n","title":"How to find a missing number with a range of millions of numbers in an array where duplicates are present?","body":"<p>As far as I know, there is no way to detect a missing number in a list except for looping through.</p>\n<p>If your array is sorted, it should look like something like this:</p>\n<pre><code>[1,2,3,3,4,6]\n</code></pre>\n<p>So, this code should do the work:</p>\n<pre><code>int getMissingNumber(int[] numbers){\n    for (int i=0; i&lt;numbers.length -1; i++){\n        int current = numbers[i];\n        int next = numbers[i+1];\n        if(next - current &gt; 1){\n            return current + 1;\n        }\n    }\n    return -1;\n}\n</code></pre>\n<p>Other than this, there is the option of changing the <code>Array</code> to the <code>Set</code> and then back to <code>Array</code> and then, use the previous approach. Be sure to use <code>LinkedHashSet</code> to preserve insertion order. But I don't know if it would be any faster.</p>\n"},{"tags":[],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676906305,"creation_date":1676902491,"answer_id":75510354,"question_id":75507073,"body_markdown":"I just tried to see if breaking down the tasks as much as I can using Fork Join as a fun exercise to get to know the library better (also because I thought dividing the task down into smaller tasks and processing it parallelly would take less time) and contrasted it with a simple for loop.\r\n\r\n    public class misc {\r\n    \tpublic void getMissingNumbers(int[] numbers){\r\n    \t    for (int i=0; i&lt;numbers.length -1; i++){\r\n    \t        int current = numbers[i];\r\n    \t        int next = numbers[i+1];\r\n    \t        if(current+1 != next){\r\n    \t            System.out.println(&quot;Problem! - &quot;+current+&quot; &quot;+next);\r\n    \t        }\r\n    \t    }\r\n    \t}\r\n         \r\n         public static void main(String []args){\r\n        \t int[] range = IntStream.rangeClosed(1, 50_000_000).toArray();\r\n        \t int index = 50000;\r\n        \t range[index] =  range[index-1];  //duplicate\r\n        \t index = 390;\r\n        \t range[index] =  range[index-1];\r\n        \t index = 500390;\r\n        \t range[index] =  range[index-1];\r\n        \t index = 2500390;\r\n        \t range[index] =  range[index-1];\r\n        \t \r\n        \t ZonedDateTime now = ZonedDateTime.now();\r\n        \t misc m = new misc();\r\n        \t m.getMissingNumbers(range);\r\n        \t System.out.printf(&quot;%s exec time: %dms\\n&quot;,\r\n                     m.getClass().getSimpleName(),\r\n                     ChronoUnit.MILLIS.between(now, ZonedDateTime.now()));\r\n        \t \r\n        \t now = ZonedDateTime.now();\r\n        \t ForkJoinPool forkJoinPool = ForkJoinPool.commonPool();\r\n        \t breakDownRecursively bdr = new breakDownRecursively(range);\r\n             forkJoinPool.invoke(bdr);\r\n             System.out.printf(&quot;%s exec time: %dms\\n&quot;,\r\n                     bdr.getClass().getSimpleName(),\r\n                     ChronoUnit.MILLIS.between(now, ZonedDateTime.now()));\r\n         }\r\n    }\r\n    \r\n    class breakDownRecursively extends RecursiveAction {\r\n    \tprivate final int[] arr;\r\n    \tprivate final ArrayList&lt;Integer&gt; arrlst = new ArrayList&lt;&gt;();\r\n    \t\r\n    \tpublic breakDownRecursively(int[] arr) {\r\n    \t\tthis.arr = arr;\r\n    \t}\r\n    \t\r\n    \tpublic void compute() {\r\n    \t\tint n = arr.length;\r\n    \t\tif (arr.length &lt; 2) return;\r\n    \t    int mid = arr.length / 2;\r\n    \r\n    \t    int[] left = new int[mid];\r\n    \t    System.arraycopy(arr, 0, left, 0, mid);\r\n    \r\n    \t    int[] right = new int[arr.length - mid];\r\n    \t    System.arraycopy(arr, mid, right, 0, arr.length - mid);\r\n    \r\n    \t    invokeAll(new breakDownRecursively(left), new breakDownRecursively(right));\r\n    \t    compare(left, right);\r\n    \t}\r\n    \t\r\n    \tprivate void compare(int[] left, int[] right) {\r\n\t\t    if (left.length == 1 &amp;&amp; right.length == 1) {\r\n\t\t\t    if (left[0]+1 != right[0]) {\r\n\t\t\t\t    //System.out.println(&quot;Problem! - &quot;+left[0]+&quot; &quot;+right[0]);\r\n\t\t\t    }\r\n\t\t    }\r\n\t    }\r\n    }\r\n\r\nOutput:\r\n\r\n    Problem! - 390 390\r\n    Problem! - 390 392\r\n    Problem! - 50000 50000\r\n    Problem! - 50000 50002\r\n    Problem! - 500390 500390\r\n    Problem! - 500390 500392\r\n    Problem! - 2500390 2500390\r\n    Problem! - 2500390 2500392\r\n    misc exec time: 60ms\r\n    Problem! - 390 392\r\n    Problem! - 500390 500392\r\n    Problem! - 2500390 2500392\r\n    breakDownRecursively exec time: 2435ms\r\n\r\nI suppose I probably made a mistake somewhere during implementation of the fork join, but at the very least you should see that a for loop isn&#39;t THAT bad.\r\n\r\nand when I used Runnable:\r\n\r\n         int mid = range.length/2;\r\n         int[] half1 = new int[mid+1];\r\n         System.arraycopy(range, 0, half1, 0, mid+1);\r\n         int[] half2 = new int[mid];\r\n         System.arraycopy(range, mid, half2, 0, range.length - mid);\r\n         RunnableTask r1 = new RunnableTask(half1);\r\n         RunnableTask r2 = new RunnableTask(half2);\r\n         now = ZonedDateTime.now();\r\n         Thread t1 = new Thread(r1);\r\n         Thread t2 = new Thread(r2);\r\n         \r\n         t1.start();\r\n         t2.start();\r\n         t1.join();\r\n         t2.join();\r\n         \r\n         System.out.printf(&quot;%s exec time: %dms\\n&quot;,\r\n                 r1.getClass().getSimpleName(),\r\n                 ChronoUnit.MILLIS.between(now, ZonedDateTime.now()));\r\n\r\n    class RunnableTask implements Runnable{\r\n    \tprivate final int[] arr;\r\n    \tpublic RunnableTask(int[] arr) {\r\n    \t\tthis.arr = arr;\r\n    \t}\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tfor (int i=0; i&lt;arr.length -1; i++){\r\n    \t        int current = arr[i];\r\n    \t        int next = arr[i+1];\r\n    \t        if(current+1 != next){\r\n    \t            System.out.println(&quot;Problem! - &quot;+current+&quot; &quot;+next);\r\n    \t        }\r\n    \t    }\r\n    \t}\r\n    \t\r\n    }\r\n\r\nOutput:\r\n\r\n    Problem! - 390 390\r\n    Problem! - 390 392\r\n    Problem! - 50000 50000\r\n    Problem! - 50000 50002\r\n    Problem! - 500390 500390\r\n    Problem! - 500390 500392\r\n    Problem! - 2500390 2500390\r\n    Problem! - 2500390 2500392\r\n    RunnableTask exec time: 49ms\r\n\r\nOnly slightly better than a for loop.","title":"How to find a missing number with a range of millions of numbers in an array where duplicates are present?","body":"<p>I just tried to see if breaking down the tasks as much as I can using Fork Join as a fun exercise to get to know the library better (also because I thought dividing the task down into smaller tasks and processing it parallelly would take less time) and contrasted it with a simple for loop.</p>\n<pre><code>public class misc {\n    public void getMissingNumbers(int[] numbers){\n        for (int i=0; i&lt;numbers.length -1; i++){\n            int current = numbers[i];\n            int next = numbers[i+1];\n            if(current+1 != next){\n                System.out.println(&quot;Problem! - &quot;+current+&quot; &quot;+next);\n            }\n        }\n    }\n     \n     public static void main(String []args){\n         int[] range = IntStream.rangeClosed(1, 50_000_000).toArray();\n         int index = 50000;\n         range[index] =  range[index-1];  //duplicate\n         index = 390;\n         range[index] =  range[index-1];\n         index = 500390;\n         range[index] =  range[index-1];\n         index = 2500390;\n         range[index] =  range[index-1];\n         \n         ZonedDateTime now = ZonedDateTime.now();\n         misc m = new misc();\n         m.getMissingNumbers(range);\n         System.out.printf(&quot;%s exec time: %dms\\n&quot;,\n                 m.getClass().getSimpleName(),\n                 ChronoUnit.MILLIS.between(now, ZonedDateTime.now()));\n         \n         now = ZonedDateTime.now();\n         ForkJoinPool forkJoinPool = ForkJoinPool.commonPool();\n         breakDownRecursively bdr = new breakDownRecursively(range);\n         forkJoinPool.invoke(bdr);\n         System.out.printf(&quot;%s exec time: %dms\\n&quot;,\n                 bdr.getClass().getSimpleName(),\n                 ChronoUnit.MILLIS.between(now, ZonedDateTime.now()));\n     }\n}\n\nclass breakDownRecursively extends RecursiveAction {\n    private final int[] arr;\n    private final ArrayList&lt;Integer&gt; arrlst = new ArrayList&lt;&gt;();\n    \n    public breakDownRecursively(int[] arr) {\n        this.arr = arr;\n    }\n    \n    public void compute() {\n        int n = arr.length;\n        if (arr.length &lt; 2) return;\n        int mid = arr.length / 2;\n\n        int[] left = new int[mid];\n        System.arraycopy(arr, 0, left, 0, mid);\n\n        int[] right = new int[arr.length - mid];\n        System.arraycopy(arr, mid, right, 0, arr.length - mid);\n\n        invokeAll(new breakDownRecursively(left), new breakDownRecursively(right));\n        compare(left, right);\n    }\n    \n    private void compare(int[] left, int[] right) {\n        if (left.length == 1 &amp;&amp; right.length == 1) {\n            if (left[0]+1 != right[0]) {\n                //System.out.println(&quot;Problem! - &quot;+left[0]+&quot; &quot;+right[0]);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Problem! - 390 390\nProblem! - 390 392\nProblem! - 50000 50000\nProblem! - 50000 50002\nProblem! - 500390 500390\nProblem! - 500390 500392\nProblem! - 2500390 2500390\nProblem! - 2500390 2500392\nmisc exec time: 60ms\nProblem! - 390 392\nProblem! - 500390 500392\nProblem! - 2500390 2500392\nbreakDownRecursively exec time: 2435ms\n</code></pre>\n<p>I suppose I probably made a mistake somewhere during implementation of the fork join, but at the very least you should see that a for loop isn't THAT bad.</p>\n<p>and when I used Runnable:</p>\n<pre><code>     int mid = range.length/2;\n     int[] half1 = new int[mid+1];\n     System.arraycopy(range, 0, half1, 0, mid+1);\n     int[] half2 = new int[mid];\n     System.arraycopy(range, mid, half2, 0, range.length - mid);\n     RunnableTask r1 = new RunnableTask(half1);\n     RunnableTask r2 = new RunnableTask(half2);\n     now = ZonedDateTime.now();\n     Thread t1 = new Thread(r1);\n     Thread t2 = new Thread(r2);\n     \n     t1.start();\n     t2.start();\n     t1.join();\n     t2.join();\n     \n     System.out.printf(&quot;%s exec time: %dms\\n&quot;,\n             r1.getClass().getSimpleName(),\n             ChronoUnit.MILLIS.between(now, ZonedDateTime.now()));\n\nclass RunnableTask implements Runnable{\n    private final int[] arr;\n    public RunnableTask(int[] arr) {\n        this.arr = arr;\n    }\n    @Override\n    public void run() {\n        // TODO Auto-generated method stub\n        for (int i=0; i&lt;arr.length -1; i++){\n            int current = arr[i];\n            int next = arr[i+1];\n            if(current+1 != next){\n                System.out.println(&quot;Problem! - &quot;+current+&quot; &quot;+next);\n            }\n        }\n    }\n    \n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Problem! - 390 390\nProblem! - 390 392\nProblem! - 50000 50000\nProblem! - 50000 50002\nProblem! - 500390 500390\nProblem! - 500390 500392\nProblem! - 2500390 2500390\nProblem! - 2500390 2500392\nRunnableTask exec time: 49ms\n</code></pre>\n<p>Only slightly better than a for loop.</p>\n"},{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676996484,"creation_date":1676915631,"answer_id":75512654,"question_id":75507073,"body_markdown":"A binary search benefits from being able to cut a problem space in half, and then eliminating one of the halves.  In this case, any half that contains both a missing value and a duplicate is indistinguishable from one that doesn&#39;t, no matter how many additional duplicates exist, so you&#39;d end up having to process both halves.\r\n\r\nMillions of integer comparisons requires very little compute time.  A linear solution would still be very fast, and in this case, is as efficient as you can be on a worst-case basis.\r\n\r\nI ran the code multiple times below on my desktop, and came up with an average of about 5ms to process an array of 10 million elements, and in all cases, it found the results in under 10ms.\r\n\r\n\tpublic class Millions {\r\n\r\n\t\tpublic static int[] fillArray(int size) {\r\n\t\t\tint[] ar=new int[size];\r\n\t\t\tint randomPos=(int)(Math.random()*size);\r\n\t\t\tSystem.out.println(&quot;Placing missing value at position &quot; + randomPos);\r\n\t\t\tint nextNum=1;\r\n\t\t\tfor (int i=0; i&lt;size; i++) {\r\n\t\t\t\tif (i==randomPos) {\r\n\t\t\t\t\tnextNum+=2;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (Math.random() &gt; 0.999995) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Placing duplicate value at position &quot; + i);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnextNum++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tar[i] = nextNum;\r\n\t\t\t}\r\n\t\t\treturn ar;\r\n\t\t}\r\n\r\n\t\tpublic static int missingValue(int[] ar) {\r\n\t\t\tfor (int i=1; i&lt;ar.length; i++) {\r\n\t\t\t\tif (ar[i]-ar[i-1]==2) return ar[i]-1;\r\n\t\t\t}\r\n\t\t\treturn -1;\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tint SIZE=10000000;\r\n\t\t\tint[] ar=fillArray(SIZE);\r\n\t\t\tlong start=System.currentTimeMillis();\r\n\t\t\tint missing=missingValue(ar);\r\n\t\t\tlong duration=System.currentTimeMillis()-start;\r\n\t\t\tif (missing&lt;0) {\r\n\t\t\t\tSystem.out.println(&quot;No missing value found.&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Missing value = &quot; + missing);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Duration : &quot; + duration + &quot; ms&quot;);\r\n\t\t}\r\n\t}","title":"How to find a missing number with a range of millions of numbers in an array where duplicates are present?","body":"<p>A binary search benefits from being able to cut a problem space in half, and then eliminating one of the halves.  In this case, any half that contains both a missing value and a duplicate is indistinguishable from one that doesn't, no matter how many additional duplicates exist, so you'd end up having to process both halves.</p>\n<p>Millions of integer comparisons requires very little compute time.  A linear solution would still be very fast, and in this case, is as efficient as you can be on a worst-case basis.</p>\n<p>I ran the code multiple times below on my desktop, and came up with an average of about 5ms to process an array of 10 million elements, and in all cases, it found the results in under 10ms.</p>\n<pre><code>public class Millions {\n\n    public static int[] fillArray(int size) {\n        int[] ar=new int[size];\n        int randomPos=(int)(Math.random()*size);\n        System.out.println(&quot;Placing missing value at position &quot; + randomPos);\n        int nextNum=1;\n        for (int i=0; i&lt;size; i++) {\n            if (i==randomPos) {\n                nextNum+=2;\n            } else {\n                if (Math.random() &gt; 0.999995) {\n                    System.out.println(&quot;Placing duplicate value at position &quot; + i);\n                } else {\n                    nextNum++;\n                }\n            }\n            ar[i] = nextNum;\n        }\n        return ar;\n    }\n\n    public static int missingValue(int[] ar) {\n        for (int i=1; i&lt;ar.length; i++) {\n            if (ar[i]-ar[i-1]==2) return ar[i]-1;\n        }\n        return -1;\n    }\n\n    public static void main(String[] args) {\n        int SIZE=10000000;\n        int[] ar=fillArray(SIZE);\n        long start=System.currentTimeMillis();\n        int missing=missingValue(ar);\n        long duration=System.currentTimeMillis()-start;\n        if (missing&lt;0) {\n            System.out.println(&quot;No missing value found.&quot;);\n        } else {\n            System.out.println(&quot;Missing value = &quot; + missing);\n        }\n        System.out.println(&quot;Duration : &quot; + duration + &quot; ms&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75512654,"answer_count":3,"score":-1,"last_activity_date":1676996484,"creation_date":1676883164,"question_id":75507073,"body_markdown":"&gt; *Im asking this question in relation to [this](https://stackoverflow.com/questions/74704738/how-to-find-a-missing-number-if-a-range-of-millions-of-numbers-in-an-array) question posted a few months ago*\r\n\r\nCurrently, in the app I am working, I get series of numbers where numbers may be missing and duplicated but are ordered in ascending manner.\r\n\r\nThere were two problems.\r\n\r\n1.  If there were not duplicates, finding the missing number was pretty easy using the method suggested in the accepted answer of the mention question.\r\n\r\n2. But, if there are duplicates, that approach doesnt work anymore.\r\n\r\nHow can I solve the problem? No logic seems to work out. And even if it would(using loop), it wouldn&#39;t be efficient.\r\n\r\n**NOTE:** I also searched for some libraries but couldn&#39;t find any.","title":"How to find a missing number with a range of millions of numbers in an array where duplicates are present?","body":"<blockquote>\n<p><em>Im asking this question in relation to <a href=\"https://stackoverflow.com/questions/74704738/how-to-find-a-missing-number-if-a-range-of-millions-of-numbers-in-an-array\">this</a> question posted a few months ago</em></p>\n</blockquote>\n<p>Currently, in the app I am working, I get series of numbers where numbers may be missing and duplicated but are ordered in ascending manner.</p>\n<p>There were two problems.</p>\n<ol>\n<li><p>If there were not duplicates, finding the missing number was pretty easy using the method suggested in the accepted answer of the mention question.</p>\n</li>\n<li><p>But, if there are duplicates, that approach doesnt work anymore.</p>\n</li>\n</ol>\n<p>How can I solve the problem? No logic seems to work out. And even if it would(using loop), it wouldn't be efficient.</p>\n<p><strong>NOTE:</strong> I also searched for some libraries but couldn't find any.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676993860,"post_id":75522577,"comment_id":133246892,"body_markdown":"Not sure what this has to do with Spring or Spring Boot. Seems like more of a general design question. Extract the common part to a method, call that with the needed input.","body":"Not sure what this has to do with Spring or Spring Boot. Seems like more of a general design question. Extract the common part to a method, call that with the needed input."}],"answers":[{"tags":[],"owner":{"account_id":3675707,"reputation":5532,"user_id":3061857,"accept_rate":65,"display_name":"nbokmans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676993986,"creation_date":1676993986,"answer_id":75522696,"question_id":75522577,"body_markdown":"If I understand your question, I think you are looking for something akin to interfaces. I&#39;m gonna make some assumptions but it looks like you are trying to put all the fields of a class in an `Object[]` array and are looking for a way to do so without having many methods with different input parameters.. \r\n\r\nSo what you could do is create an interface `IMyInterface` (sorry for the unoriginal name):\r\n```\r\npublic interface IMyInterface {\r\n    public Object[] toObjectArray();\r\n}\r\n```\r\n\r\nYour `ClassA` and `ClassB` could then both implement this interface:\r\n```\r\npublic class ClassA implements IMyInterface {\r\n    private String a1;\r\n    private String a2;\r\n\r\n    @Override\r\n    public Object[] toObjectArray() {\r\n        return new Object[]{ getA1(), getA2() };\r\n    }\r\n}\r\n\r\npublic class ClassB implements IMyInterface {\r\n    private String b1;\r\n    private String b2;\r\n    private String b3;\r\n\r\n    @Override\r\n    public Object[] toObjectArray() {\r\n        return new Object[]{ getB1(), getB2(), getB3() };\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis would make the `ClassA` and `ClassB` in control of how the object array is built up.\r\n\r\n\r\nThen, in the rest of your application, you can simply use this `IMyInterface` instance to either accept parameters of type `ClassA` or `ClassB`:\r\n\r\n```\r\npublic void someFunction(IMyInterface item) {\r\n    Object[] obj = item.toObjectArray();\r\n    // Rest of your code..\r\n}\r\n```\r\n\r\nI&#39;m not sure if that&#39;s exactly what you&#39;re looking for.","title":"How to abstract same behavior of different classes","body":"<p>If I understand your question, I think you are looking for something akin to interfaces. I'm gonna make some assumptions but it looks like you are trying to put all the fields of a class in an <code>Object[]</code> array and are looking for a way to do so without having many methods with different input parameters..</p>\n<p>So what you could do is create an interface <code>IMyInterface</code> (sorry for the unoriginal name):</p>\n<pre><code>public interface IMyInterface {\n    public Object[] toObjectArray();\n}\n</code></pre>\n<p>Your <code>ClassA</code> and <code>ClassB</code> could then both implement this interface:</p>\n<pre><code>public class ClassA implements IMyInterface {\n    private String a1;\n    private String a2;\n\n    @Override\n    public Object[] toObjectArray() {\n        return new Object[]{ getA1(), getA2() };\n    }\n}\n\npublic class ClassB implements IMyInterface {\n    private String b1;\n    private String b2;\n    private String b3;\n\n    @Override\n    public Object[] toObjectArray() {\n        return new Object[]{ getB1(), getB2(), getB3() };\n    }\n}\n</code></pre>\n<p>This would make the <code>ClassA</code> and <code>ClassB</code> in control of how the object array is built up.</p>\n<p>Then, in the rest of your application, you can simply use this <code>IMyInterface</code> instance to either accept parameters of type <code>ClassA</code> or <code>ClassB</code>:</p>\n<pre><code>public void someFunction(IMyInterface item) {\n    Object[] obj = item.toObjectArray();\n    // Rest of your code..\n}\n</code></pre>\n<p>I'm not sure if that's exactly what you're looking for.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676994617,"creation_date":1676994063,"answer_id":75522715,"question_id":75522577,"body_markdown":"Create an abstraction to extract common functionality - define an interface.\r\n```\r\npublic interface MyInterface {\r\n\r\n  Object[] getValues();\r\n}\r\n```\r\nHave your classes implement it. Then refactor your handler method to accept `MyInterface`.\r\n```\r\npublic void function(MyInterface myInterface) {\r\n  Object[] values = myInterface.getValues();\r\n  //handle\r\n}\r\n```\r\nI would also suggest to read this question - [What does it mean to &quot;program to an interface&quot;?][1] - it has one of the best explanations on the topic.\r\n\r\n  [1]: https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface","title":"How to abstract same behavior of different classes","body":"<p>Create an abstraction to extract common functionality - define an interface.</p>\n<pre><code>public interface MyInterface {\n\n  Object[] getValues();\n}\n</code></pre>\n<p>Have your classes implement it. Then refactor your handler method to accept <code>MyInterface</code>.</p>\n<pre><code>public void function(MyInterface myInterface) {\n  Object[] values = myInterface.getValues();\n  //handle\n}\n</code></pre>\n<p>I would also suggest to read this question - <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a> - it has one of the best explanations on the topic.</p>\n"}],"owner":{"account_id":20247303,"reputation":1,"user_id":14849404,"display_name":"TriNauD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676996128,"creation_date":1676993375,"question_id":75522577,"body_markdown":"I&#39;m a Java web beginner. Today I came onto the following scenario:\r\n\r\nI have several classes with no inheritance relationship like `ClassA` and `ClassB`\r\n\r\n```lang-java\r\npublic class ClassA {\r\n    private String a1;\r\n    private String a2;\r\n}\r\n\r\npublic class ClassB {\r\n    private String b1;\r\n    private String b2;\r\n    private String b3;\r\n}\r\n```\r\n\r\nFunctions to process them are exactly the same, except for the input parameter type and some get methods.\r\n\r\n```lang-java\r\npublic void function functionA(ClassA a) {\r\n    ...\r\n    Object[] obj = new Object[]{a.getA2()};\r\n    ...\r\n    \r\n}\r\n\r\npublic void function functionB(ClassB b) {\r\n    ...\r\n    Object[] obj = new Object[]{b.getB1(),b.getB2(),b.getB3()};\r\n    ...\r\n    \r\n}\r\n```\r\nApparently, writing in this way causes code duplication and low scalability, I&#39;ve tried to make it tidy, but I have no idea about handling with the input type difference.\r\n\r\nCould any one tell me how to extract the common logic of `functionA` and `functionB`?\r\n\r\n","title":"How to abstract same behavior of different classes","body":"<p>I'm a Java web beginner. Today I came onto the following scenario:</p>\n<p>I have several classes with no inheritance relationship like <code>ClassA</code> and <code>ClassB</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ClassA {\n    private String a1;\n    private String a2;\n}\n\npublic class ClassB {\n    private String b1;\n    private String b2;\n    private String b3;\n}\n</code></pre>\n<p>Functions to process them are exactly the same, except for the input parameter type and some get methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void function functionA(ClassA a) {\n    ...\n    Object[] obj = new Object[]{a.getA2()};\n    ...\n    \n}\n\npublic void function functionB(ClassB b) {\n    ...\n    Object[] obj = new Object[]{b.getB1(),b.getB2(),b.getB3()};\n    ...\n    \n}\n</code></pre>\n<p>Apparently, writing in this way causes code duplication and low scalability, I've tried to make it tidy, but I have no idea about handling with the input type difference.</p>\n<p>Could any one tell me how to extract the common logic of <code>functionA</code> and <code>functionB</code>?</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":11975,"reputation":1033812,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"score":0,"creation_date":1677084331,"post_id":75510453,"comment_id":133268913,"body_markdown":"possibly related to: https://bugs.chromium.org/p/chromedriver/issues/detail?id=4330","body":"possibly related to: <a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=4330\" rel=\"nofollow noreferrer\">bugs.chromium.org/p/chromedriver/issues/detail?id=4330</a>"},{"owner":{"account_id":24766365,"reputation":41,"user_id":18650187,"display_name":"Jeetendra Navgikar"},"score":0,"creation_date":1677094086,"post_id":75510453,"comment_id":133271714,"body_markdown":"@MarcGravell Thank you very much that was very informative","body":"@MarcGravell Thank you very much that was very informative"}],"owner":{"account_id":24766365,"reputation":41,"user_id":18650187,"display_name":"Jeetendra Navgikar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1676995907,"creation_date":1676903011,"question_id":75510453,"body_markdown":"```\r\n[1676877376.906][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\r\n```\r\n I Have this Warning Error in my console while running Selenium Scripts, Does Anyone came across this and knows how to fix it, Thank you ","title":"I Am Generating listener Error In Console","body":"<pre><code>[1676877376.906][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\n</code></pre>\n<p>I Have this Warning Error in my console while running Selenium Scripts, Does Anyone came across this and knows how to fix it, Thank you</p>\n"},{"tags":["java","mysql","reactjs","spring","spring-boot"],"owner":{"account_id":24493909,"reputation":1,"user_id":18410533,"display_name":"DestinyFcker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676995873,"creation_date":1676994179,"question_id":75522742,"body_markdown":"I am working in a group project. My task is, when user logs in they can add exercise and exerciseTimes. \r\n\r\nMy groupmates have User, UserService, UserController, UserRepository, SecurityConfiguration, JWTService, JWTAuthenticationFilter, UserDetailsService and AccountCredentials classes.\r\n\r\n\r\nI have got FitnessTrackerUser, FitnessTrackerController and FitnessTrackerUser. \r\n\r\nI want when Users log in, when they click fitnessTracker and put their exericise details the exercise information gets stored with their email/username. And when they click show they can see all their exercise information.\r\nI am using JPA repository and they are using CRUD repository.\r\n\r\n\r\n    @RestController\r\n    //@RequestMapping(&quot;/exercises&quot;)\r\n    @CrossOrigin()\r\n    \r\n    public class FitnessTrackerController {\r\n        \t@Autowired\tprivate FitnessTrackerRepository fitnessTrackerRepository;\r\n    \t\t\t\tprivate UserRepository userRepository;\r\n    \t\r\n    \t   @PostMapping(&quot;/create&quot;)\r\n    \t    public ResponseEntity&lt;Void&gt; addExercise(@RequestBody FitnessTrackerUser fitnessTrackerUser, Principal principal) {\r\n    \t        User user = userRepository.findByEmail(principal.getName());\r\n    \r\n    \t        fitnessTrackerUser.setUser(user);\r\n    \t        fitnessTrackerRepository.save(fitnessTrackerUser);\r\n    \r\n    \t        return ResponseEntity.status(HttpStatus.CREATED).build();\r\n    \t    }\r\n    \t\r\n    \t}\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;Users&quot;)\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class User implements Serializable {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tLong id;\r\n    \t\r\n    \t@NotBlank\r\n    \tString firstname;\r\n    \t\r\n    \t@NotBlank\r\n    \tString lastname;\r\n    \t\r\n    \t@NotBlank\r\n    \tString birthday;\r\n    \t\r\n    \t@NotBlank\r\n    \t@Column(unique=true)\r\n    \tString email;\r\n    \t\r\n    \t@NotBlank\r\n    \tString username;\r\n    \t\r\n    \t@NotBlank\r\n    \tString password;\r\n    \t\r\n    \t@Column(nullable = false, updatable = false)\r\n    \t@Temporal(TemporalType.TIMESTAMP)\r\n    \t@CreatedDate\r\n    \tprivate Date createdAt;\r\n    \r\n    \t@Column(nullable = false)\r\n    \t@Temporal(TemporalType.TIMESTAMP)\r\n    \t@LastModifiedDate\r\n    \tprivate Date updatedAt;\r\n    \t\r\n    \t\r\n    \t public User() {\r\n    \t\t\tsuper();\r\n    \t\t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \t\t\r\n    \t \r\n    \t public User(String firstname, String lastname, String birthday, String email, String username, String password) {\r\n    \t\tsuper();\r\n    \t\tthis.firstname = firstname;\r\n    \t\tthis.lastname = lastname;\r\n    \t\tthis.birthday = birthday;\r\n    \t\tthis.email = email;\r\n    \t\tthis.username = username;\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstname;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setFirstName(String firstname) {\r\n    \t\tthis.firstname = firstname;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic String getLastName() {\r\n    \t\treturn lastname;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setLastName(String lastname) {\r\n    \t\tthis.lastname = lastname;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic String getBirthday() {\r\n    \t\treturn birthday;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setBirthday(String birthday) {\r\n    \t\tthis.birthday = birthday;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic String getUsername() {\r\n    \t\treturn username;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setUsername(String username) {\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;User [id=&quot; + id + &quot;, firstname=&quot; + firstname + &quot;, lastname=&quot; + lastname + \r\n    \t\t\t\t&quot;, birthday=&quot; + birthday + &quot;, email=&quot; + email + &quot;, username=&quot; + username + \r\n    \t\t\t\t&quot;, password=&quot; + password + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\n\r\n\r\n\r\n    @Entity\r\n    //@Table(name = &quot;student_details&quot;)\r\n    public class FitnessTrackerUser {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \t\r\n    \t\r\n    //\t@Column(name = &quot;student_name&quot;)\r\n    \tprivate String dat;\r\n    \t\t\r\n    \t\r\n    \r\n    \tpublic String getDat() {\r\n    \t\treturn dat;\r\n    \t}\r\n    \r\n    \tpublic void setDat(String dat) {\r\n    \t\tthis.dat = dat;\r\n    \t}\r\n    \r\n    \t@OneToMany(cascade=CascadeType.ALL)\r\n    \tprivate List&lt;Exercise&gt; exercise;\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic List&lt;Exercise&gt; getExercise() {\r\n    \t\treturn exercise;\r\n    \t}\r\n    \r\n    \tpublic void setExercise(List&lt;Exercise&gt; exercise) {\r\n    \t\tthis.exercise = exercise;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t@ManyToOne(cascade=CascadeType.ALL)\r\n    \t@JoinColumn(name=&quot;user_id&quot;)\r\n    \tprivate User user;\r\n    \t\r\n    \tpublic User getUser() {\r\n    \t\treturn user;\r\n    \t}\r\n    \r\n    \tpublic void setUser(User user) {\r\n    \t\tthis.user = user;\r\n    \t}\r\n    \r\n    \t\r\n    }","title":"How do I make user add exercise details when they log in?","body":"<p>I am working in a group project. My task is, when user logs in they can add exercise and exerciseTimes.</p>\n<p>My groupmates have User, UserService, UserController, UserRepository, SecurityConfiguration, JWTService, JWTAuthenticationFilter, UserDetailsService and AccountCredentials classes.</p>\n<p>I have got FitnessTrackerUser, FitnessTrackerController and FitnessTrackerUser.</p>\n<p>I want when Users log in, when they click fitnessTracker and put their exericise details the exercise information gets stored with their email/username. And when they click show they can see all their exercise information.\nI am using JPA repository and they are using CRUD repository.</p>\n<pre><code>@RestController\n//@RequestMapping(&quot;/exercises&quot;)\n@CrossOrigin()\n\npublic class FitnessTrackerController {\n        @Autowired  private FitnessTrackerRepository fitnessTrackerRepository;\n                private UserRepository userRepository;\n    \n       @PostMapping(&quot;/create&quot;)\n        public ResponseEntity&lt;Void&gt; addExercise(@RequestBody FitnessTrackerUser fitnessTrackerUser, Principal principal) {\n            User user = userRepository.findByEmail(principal.getName());\n\n            fitnessTrackerUser.setUser(user);\n            fitnessTrackerRepository.save(fitnessTrackerUser);\n\n            return ResponseEntity.status(HttpStatus.CREATED).build();\n        }\n    \n    }\n\n\n@Entity\n@Table(name = &quot;Users&quot;)\n@EntityListeners(AuditingEntityListener.class)\npublic class User implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    Long id;\n    \n    @NotBlank\n    String firstname;\n    \n    @NotBlank\n    String lastname;\n    \n    @NotBlank\n    String birthday;\n    \n    @NotBlank\n    @Column(unique=true)\n    String email;\n    \n    @NotBlank\n    String username;\n    \n    @NotBlank\n    String password;\n    \n    @Column(nullable = false, updatable = false)\n    @Temporal(TemporalType.TIMESTAMP)\n    @CreatedDate\n    private Date createdAt;\n\n    @Column(nullable = false)\n    @Temporal(TemporalType.TIMESTAMP)\n    @LastModifiedDate\n    private Date updatedAt;\n    \n    \n     public User() {\n            super();\n            // TODO Auto-generated constructor stub\n    }\n        \n     \n     public User(String firstname, String lastname, String birthday, String email, String username, String password) {\n        super();\n        this.firstname = firstname;\n        this.lastname = lastname;\n        this.birthday = birthday;\n        this.email = email;\n        this.username = username;\n        this.password = password;\n    }\n    \n    \n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n\n    public String getFirstName() {\n        return firstname;\n    }\n\n\n    public void setFirstName(String firstname) {\n        this.firstname = firstname;\n    }\n    \n    \n    public String getLastName() {\n        return lastname;\n    }\n\n\n    public void setLastName(String lastname) {\n        this.lastname = lastname;\n    }\n    \n    \n    public String getBirthday() {\n        return birthday;\n    }\n\n\n    public void setBirthday(String birthday) {\n        this.birthday = birthday;\n    }\n    \n    \n    public String getUsername() {\n        return username;\n    }\n\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n\n    public String getPassword() {\n        return password;\n    }\n\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n\n    @Override\n    public String toString() {\n        return &quot;User [id=&quot; + id + &quot;, firstname=&quot; + firstname + &quot;, lastname=&quot; + lastname + \n                &quot;, birthday=&quot; + birthday + &quot;, email=&quot; + email + &quot;, username=&quot; + username + \n                &quot;, password=&quot; + password + &quot;]&quot;;\n    }\n    \n    \n}\n\n\n\n\n@Entity\n//@Table(name = &quot;student_details&quot;)\npublic class FitnessTrackerUser {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    \n//  @Column(name = &quot;student_name&quot;)\n    private String dat;\n        \n    \n\n    public String getDat() {\n        return dat;\n    }\n\n    public void setDat(String dat) {\n        this.dat = dat;\n    }\n\n    @OneToMany(cascade=CascadeType.ALL)\n    private List&lt;Exercise&gt; exercise;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public List&lt;Exercise&gt; getExercise() {\n        return exercise;\n    }\n\n    public void setExercise(List&lt;Exercise&gt; exercise) {\n        this.exercise = exercise;\n    }\n\n\n\n    @ManyToOne(cascade=CascadeType.ALL)\n    @JoinColumn(name=&quot;user_id&quot;)\n    private User user;\n    \n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    \n}\n</code></pre>\n"},{"tags":["java","api","real-time","dashboard"],"answers":[{"tags":[],"owner":{"account_id":27683139,"reputation":16,"user_id":21131458,"display_name":"Nepmeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676994112,"creation_date":1676994112,"answer_id":75522724,"question_id":75522672,"body_markdown":"A solution to push data realtime from server to client can be done through Webockets. Using WebSockets you can push data from the server to the client without the client having to poll the server for updates. ","title":"Real Time Dashboard - Data refresh issue","body":"<p>A solution to push data realtime from server to client can be done through Webockets. Using WebSockets you can push data from the server to the client without the client having to poll the server for updates.</p>\n"},{"tags":[],"owner":{"account_id":8510347,"reputation":382,"user_id":6380596,"accept_rate":50,"display_name":"Rinat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676995725,"creation_date":1676995725,"answer_id":75523030,"question_id":75522672,"body_markdown":"You can use Kafka. Let all databases write to some specific Kafka topic. Your application will read messages from this topic when it needs to. Thus, you will get rid of the need to write different queries for different databases.","title":"Real Time Dashboard - Data refresh issue","body":"<p>You can use Kafka. Let all databases write to some specific Kafka topic. Your application will read messages from this topic when it needs to. Thus, you will get rid of the need to write different queries for different databases.</p>\n"}],"owner":{"account_id":24400981,"reputation":11,"user_id":18329733,"display_name":"Nithish Subramaniyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75522724,"answer_count":2,"score":-1,"last_activity_date":1676995725,"creation_date":1676993835,"question_id":75522672,"body_markdown":"I want to build an dashboard to visualize data from multiple database through an API. I don&#39;t want to pull data at regular interval because each database have individual API so I need to pull from 25 different servers.\r\n\r\nI need some solution to push from server side to the dashboard","title":"Real Time Dashboard - Data refresh issue","body":"<p>I want to build an dashboard to visualize data from multiple database through an API. I don't want to pull data at regular interval because each database have individual API so I need to pull from 25 different servers.</p>\n<p>I need some solution to push from server side to the dashboard</p>\n"},{"tags":["java","spring","multithreading","spring-boot","scheduled-tasks"],"comments":[{"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"score":0,"creation_date":1676994041,"post_id":75519335,"comment_id":133246951,"body_markdown":"How are you calling get() here? What annotations are used for Foo1&lt;K&gt; ?","body":"How are you calling get() here? What annotations are used for Foo1&lt;K&gt; ?"},{"owner":{"account_id":12563685,"reputation":2227,"user_id":9140438,"accept_rate":33,"display_name":"Pankaj Sharma"},"score":0,"creation_date":1676995733,"post_id":75519335,"comment_id":133247500,"body_markdown":"@Mukti09 Foo1 is inherited by a class let say `FooImpl`, I am add those details in question","body":"@Mukti09 Foo1 is inherited by a class let say <code>FooImpl</code>, I am add those details in question"}],"owner":{"account_id":12563685,"reputation":2227,"user_id":9140438,"accept_rate":33,"display_name":"Pankaj Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676995724,"creation_date":1676976119,"question_id":75519335,"body_markdown":"I am adding values in ConcurrentHashMap by main thread. While trying to access the ConcurrentHashMap from another thread it&#39;s always returning empty list.\r\n\r\nI am sure the values are updated by main thread.\r\n\r\nHere is my code\r\n\r\n```\r\npublic abstract class Foo1&lt;K&gt; implements Foo {\r\n\r\n    ...\r\n    private final ConcurrentHashMap&lt;K, String&gt; keyToRequestMapping = new ConcurrentHashMap&lt;&gt;();\r\n\r\n\r\n    @Override\r\n    public AttributeSet get(String request) {\r\n\r\n        //Some logic\r\n        ...\r\n\r\n        keyToRequestMapping.put(key, request);\r\n\r\n        ...\r\n    }\r\n\r\n    @Override\r\n    @Async\r\n    @Scheduled(fixedDelay = REFRESH_WINDOW_SECONDS, initialDelay = 0, timeUnit = TimeUnit.SECONDS)\r\n    public synchronized void runPeriodicUpdateForCache() {\r\n\r\n        Set&lt;K&gt; key_set = keyToRequestMapping.keySet();\r\n        Iterator&lt;K&gt; itr = key_set.iterator();\r\n\r\n        log.debug(&quot;ketToRequestMapping keys {}&quot;, key_set); // Logging empty lis\r\n        ....\r\n    }\r\n}\r\n```\r\n\r\nThis Food1 class in extended \r\n\r\n```\r\n\r\n@Component\r\n@EnableAsync\r\n@EnableScheduling\r\npublic class FooImpl extends Foo1&lt;String&gt; {\r\n\r\n\r\n    public static synchronized FooImpl getInstance() {\r\n        return StaticApplicationContext.getContext().getBean(FooImpl.class);\r\n    }\r\n\r\n    public FooImpl() {\r\n        super(configStoreKey, getResponseAttributes());\r\n    }\r\n\r\n    @Override\r\n    public String getCacheKey(AttributeSet request) {\r\n        return request.get(&quot;ABC&quot;);\r\n    }\r\n\r\n}\r\n\r\n\r\n// Usage\r\n\r\nFooImpl.getInstance()get(request);\r\n\r\n```\r\n\r\nUnable to understand what&#39;s wrong with this.. also tried to remove `synchronized` from `runPeriodicUpdateForCache` function but no luck.\r\nI also tried to make keyToRequestMapping `volatile` but result was same.\r\nNot able to understand why I am getting the empty list.","title":"ConcurrentHashMap updated values not reflecting in another thread","body":"<p>I am adding values in ConcurrentHashMap by main thread. While trying to access the ConcurrentHashMap from another thread it's always returning empty list.</p>\n<p>I am sure the values are updated by main thread.</p>\n<p>Here is my code</p>\n<pre><code>public abstract class Foo1&lt;K&gt; implements Foo {\n\n    ...\n    private final ConcurrentHashMap&lt;K, String&gt; keyToRequestMapping = new ConcurrentHashMap&lt;&gt;();\n\n\n    @Override\n    public AttributeSet get(String request) {\n\n        //Some logic\n        ...\n\n        keyToRequestMapping.put(key, request);\n\n        ...\n    }\n\n    @Override\n    @Async\n    @Scheduled(fixedDelay = REFRESH_WINDOW_SECONDS, initialDelay = 0, timeUnit = TimeUnit.SECONDS)\n    public synchronized void runPeriodicUpdateForCache() {\n\n        Set&lt;K&gt; key_set = keyToRequestMapping.keySet();\n        Iterator&lt;K&gt; itr = key_set.iterator();\n\n        log.debug(&quot;ketToRequestMapping keys {}&quot;, key_set); // Logging empty lis\n        ....\n    }\n}\n</code></pre>\n<p>This Food1 class in extended</p>\n<pre><code>\n@Component\n@EnableAsync\n@EnableScheduling\npublic class FooImpl extends Foo1&lt;String&gt; {\n\n\n    public static synchronized FooImpl getInstance() {\n        return StaticApplicationContext.getContext().getBean(FooImpl.class);\n    }\n\n    public FooImpl() {\n        super(configStoreKey, getResponseAttributes());\n    }\n\n    @Override\n    public String getCacheKey(AttributeSet request) {\n        return request.get(&quot;ABC&quot;);\n    }\n\n}\n\n\n// Usage\n\nFooImpl.getInstance()get(request);\n\n</code></pre>\n<p>Unable to understand what's wrong with this.. also tried to remove <code>synchronized</code> from <code>runPeriodicUpdateForCache</code> function but no luck.\nI also tried to make keyToRequestMapping <code>volatile</code> but result was same.\nNot able to understand why I am getting the empty list.</p>\n"},{"tags":["java","gremlin","tinkerpop","tinkerpop3"],"answers":[{"tags":[],"owner":{"account_id":14025132,"reputation":2074,"user_id":10130372,"display_name":"Taylor Riggan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676995364,"creation_date":1676995364,"answer_id":75522958,"question_id":75522878,"body_markdown":"Is there a reason that you need to build the query using an Anonymous Traversal instead of off of a Graph Traversal Source object?\r\n\r\nIf you have a Graph Traversal Source object, you can do something like:\r\n\r\n```\r\nquery = g.V()\r\n\r\nquery = query.has(&#39;name&#39;,&#39;Bob&#39;)\r\n\r\nquery = query.out(&#39;friendsWith&#39;)\r\n```\r\n\r\nAnd then the query only gets executed when you add the terminal step:\r\n```\r\nresults = query.toList()\r\n```","title":"How can I apply an anonymous traversal to a graph in Gremlin?","body":"<p>Is there a reason that you need to build the query using an Anonymous Traversal instead of off of a Graph Traversal Source object?</p>\n<p>If you have a Graph Traversal Source object, you can do something like:</p>\n<pre><code>query = g.V()\n\nquery = query.has('name','Bob')\n\nquery = query.out('friendsWith')\n</code></pre>\n<p>And then the query only gets executed when you add the terminal step:</p>\n<pre><code>results = query.toList()\n</code></pre>\n"}],"owner":{"account_id":3719550,"reputation":6826,"user_id":3094906,"accept_rate":71,"display_name":"Martin H&#228;usler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676995364,"creation_date":1676994930,"question_id":75522878,"body_markdown":"I&#39;ve got a (generated) anonymous gremlin traversal. I know for a fact that:\r\n- it contains start steps (`.V()` / `.E()`)\r\n- it has been created exclusively using anonmous traversal (the `__` class)\r\n\r\nNow, I want to evaluate the traversal on my real graph. How exactly do I do this in the Gremlin 3.x API?\r\n\r\nI already tried:\r\n\r\n```java\r\nanonymousTraversal.asAdmin().setGraph(myGraph);\r\nvar result = anonymousTraversal.toList();\r\n```\r\n\r\n... but that didn&#39;t produce any data. I also tried the traversal union trick:\r\n\r\n```java\r\nmyGraph.traversal().inject(0).union(anonymousTraversal)\r\n```\r\n\r\nThis produced the expected result, but I feel that this is a bit overkill for the task at hand. Is there a better way to do this?","title":"How can I apply an anonymous traversal to a graph in Gremlin?","body":"<p>I've got a (generated) anonymous gremlin traversal. I know for a fact that:</p>\n<ul>\n<li>it contains start steps (<code>.V()</code> / <code>.E()</code>)</li>\n<li>it has been created exclusively using anonmous traversal (the <code>__</code> class)</li>\n</ul>\n<p>Now, I want to evaluate the traversal on my real graph. How exactly do I do this in the Gremlin 3.x API?</p>\n<p>I already tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>anonymousTraversal.asAdmin().setGraph(myGraph);\nvar result = anonymousTraversal.toList();\n</code></pre>\n<p>... but that didn't produce any data. I also tried the traversal union trick:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myGraph.traversal().inject(0).union(anonymousTraversal)\n</code></pre>\n<p>This produced the expected result, but I feel that this is a bit overkill for the task at hand. Is there a better way to do this?</p>\n"},{"tags":["java","flyway"],"answers":[{"tags":[],"owner":{"account_id":9139105,"reputation":3600,"user_id":6797663,"display_name":"codemonkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676995316,"creation_date":1676995316,"answer_id":75522950,"question_id":75486603,"body_markdown":"Support for Oracle 11g was dropped in [Flyway 5.0.0][1]\r\n\r\n&gt; * Oracle 12.1 is now the new minimum supported by Flyway Community\r\n&gt; Edition\r\n\r\nThe latest community version to support Oracle 11g is Flyway 4.2.0.\r\n\r\n  [1]: https://flywaydb.org/documentation/learnmore/releaseNotes.html#5.0.0","title":"Why even older version of flyway dont let using them with Oracle XE 11g?","body":"<p>Support for Oracle 11g was dropped in <a href=\"https://flywaydb.org/documentation/learnmore/releaseNotes.html#5.0.0\" rel=\"nofollow noreferrer\">Flyway 5.0.0</a></p>\n<blockquote>\n<ul>\n<li>Oracle 12.1 is now the new minimum supported by Flyway Community\nEdition</li>\n</ul>\n</blockquote>\n<p>The latest community version to support Oracle 11g is Flyway 4.2.0.</p>\n"}],"owner":{"account_id":27813095,"reputation":13,"user_id":21235098,"display_name":"RubySpirit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75522950,"answer_count":1,"score":1,"last_activity_date":1676995316,"creation_date":1676649757,"question_id":75486603,"body_markdown":"Is there any old version of flyway that supports Oracle XE 11g. I just got down to 5.7.1 version and still the same error :\r\n` Flyway Enterprise Edition or Oracle upgrade required: Oracle 11.2 is past regular support by Oracle and no longer supported by Flyway Community Edition and Flyway Pro Edition, but still supported by Flyway Enterprise Edition.`\r\n\r\nI have tried downgrading flyway version from 8 to 5 and still the same error. Is there any chances to resolve or only one thing that can help is to update oracle XE?\r\nI have found https://stackoverflow.com/questions/61951224/flyway-with-oracle  and tried downgrading but same error appears\r\n","title":"Why even older version of flyway dont let using them with Oracle XE 11g?","body":"<p>Is there any old version of flyway that supports Oracle XE 11g. I just got down to 5.7.1 version and still the same error :\n<code> Flyway Enterprise Edition or Oracle upgrade required: Oracle 11.2 is past regular support by Oracle and no longer supported by Flyway Community Edition and Flyway Pro Edition, but still supported by Flyway Enterprise Edition.</code></p>\n<p>I have tried downgrading flyway version from 8 to 5 and still the same error. Is there any chances to resolve or only one thing that can help is to update oracle XE?\nI have found <a href=\"https://stackoverflow.com/questions/61951224/flyway-with-oracle\">Flyway With Oracle</a>  and tried downgrading but same error appears</p>\n"},{"tags":["java","datetime","java-8","date-conversion","hour"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1676640301,"post_id":75484763,"comment_id":133183117,"body_markdown":"Unless it is a legacy requirement you would be much better off using `LocalDateTime` from the `java.time` package as `Date` and it&#39;s supporting methods are deprecated and buggy.","body":"Unless it is a legacy requirement you would be much better off using <code>LocalDateTime</code> from the <code>java.time</code> package as <code>Date</code> and it&#39;s supporting methods are deprecated and buggy."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676640655,"post_id":75484763,"comment_id":133183235,"body_markdown":"Please clarify. If you mean `java.util.Date`, then you are right that it prints like `Sun Feb 13 05:30:00 IST 2023`, but not like `12-FEB-23`. Also if it was already a `Date` and you wanted it converted to `Date`, there would be no conversion to do. So what is `oldDate`??","body":"Please clarify. If you mean <code>java.util.Date</code>, then you are right that it prints like <code>Sun Feb 13 05:30:00 IST 2023</code>, but not like <code>12-FEB-23</code>. Also if it was already a <code>Date</code> and you wanted it converted to <code>Date</code>, there would be no conversion to do. So what is <code>oldDate</code>??"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676640813,"post_id":75484763,"comment_id":133183286,"body_markdown":"As @WJS said, avoid the need to a `java.util.Date` if there is any way you can. That class was poorly designed and is long outdated. Depending on your situation and requirements you may want to use `LocalDate`, `ZonedDateTime` and/or other classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"As @WJS said, avoid the need to a <code>java.util.Date</code> if there is any way you can. That class was poorly designed and is long outdated. Depending on your situation and requirements you may want to use <code>LocalDate</code>, <code>ZonedDateTime</code> and/or other classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676640936,"post_id":75484763,"comment_id":133183312,"body_markdown":"By IST do you mean India Standard Time? Other interpretations exist. And which RFC does your title refer to? They have got numbers. And Java has not got any RFC date time type, so I am worried that you may be asking the impossible.","body":"By IST do you mean India Standard Time? Other interpretations exist. And which RFC does your title refer to? They have got numbers. And Java has not got any RFC date time type, so I am worried that you may be asking the impossible."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1676641537,"post_id":75484763,"comment_id":133183528,"body_markdown":"None of the [Java] [date-time types](https://docs.oracle.com/javase/tutorial/datetime/index.html) have a format. The format is used when you want to display a string representation of that type. As mentioned in the other [comment](https://stackoverflow.com/questions/75484763/convert-date-to-rfc-date-time#comment133183235_75484763), the default string representation of a `java.util.Date` object is as shown in your question, i.e. `Sun Feb 13 05:30:00 IST 2023`. So your question doesn&#39;t really make sense.","body":"None of the [Java] <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">date-time types</a> have a format. The format is used when you want to display a string representation of that type. As mentioned in the other <a href=\"https://stackoverflow.com/questions/75484763/convert-date-to-rfc-date-time#comment133183235_75484763\">comment</a>, the default string representation of a <code>java.util.Date</code> object is as shown in your question, i.e. <code>Sun Feb 13 05:30:00 IST 2023</code>. So your question doesn&#39;t really make sense."},{"owner":{"account_id":8772924,"reputation":27,"user_id":6559067,"display_name":"chand"},"score":0,"creation_date":1676644504,"post_id":75484763,"comment_id":133184392,"body_markdown":"Yeah. We dont want to use java.util.Date package.\nDate oldDate = &quot;13-FEB-23&quot;\nDateFormat formatter&#160;&#160;&#160;&#160;&#160;&#160; = new SimpleDateFormat(&quot;dd-MMM-yy&quot;);\nDate&#160;&#160;&#160;&#160;&#160;&#160; newDate&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;= formatter.parse(oldDate);\nwith this, we are getting Sun Feb 13 00:00:00 IST 2023\nSo, we are setting hours to this as newDate.setHours(5)\nbut this is deprecated. So, we dont want to use it anymore.","body":"Yeah. We dont want to use java.util.Date package. Date oldDate = &quot;13-FEB-23&quot; DateFormat formatter       = new SimpleDateFormat(&quot;dd-MMM-yy&quot;); Date       newDate        = formatter.parse(oldDate); with this, we are getting Sun Feb 13 00:00:00 IST 2023 So, we are setting hours to this as newDate.setHours(5) but this is deprecated. So, we dont want to use it anymore."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676645167,"post_id":75484763,"comment_id":133184572,"body_markdown":"Surely that must be `String oldDate = &quot;13-FEB-23&quot;;`?? Otherwise your code can’t compile. So `String`, not `Date` here. Please take care and be precise. It’s not fair that people who are trying to help you should guess and ask you repeatedly before the question gets clear.","body":"Surely that must be <code>String oldDate = &quot;13-FEB-23&quot;;</code>?? Otherwise your code can’t compile. So <code>String</code>, not <code>Date</code> here. Please take care and be precise. It’s not fair that people who are trying to help you should guess and ask you repeatedly before the question gets clear."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676645392,"post_id":75484763,"comment_id":133184632,"body_markdown":"I understand you don’t want a `java.util.Date`. That’s nice. So will you accept a `LocalDate`?  A `ZonedDateTime`? An `Instant`? What are your requirements? `LocalDate` seems most natural to me. Then you neither need to care about time of day nor time zone nor UTC offset.","body":"I understand you don’t want a <code>java.util.Date</code>. That’s nice. So will you accept a <code>LocalDate</code>?  A <code>ZonedDateTime</code>? An <code>Instant</code>? What are your requirements? <code>LocalDate</code> seems most natural to me. Then you neither need to care about time of day nor time zone nor UTC offset."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676695172,"post_id":75484763,"comment_id":133194108,"body_markdown":"I still don’t get all of what you are trying to do. Some steps of it may be `LocalDate .of(2023, Month.FEBRUARY, 13) .atStartOfDay(ZoneOffset.UTC) .withZoneSameInstant(ZoneId.of(&quot;Asia/Kolkata&quot;))`. Which yields `2023-02-13T05:30+05:30[Asia/Kolkata]`. See also [Java 8 DateTimeFormatter for month in all CAPS not working \\[duplicate\\]](https://stackoverflow.com/questions/33520491/java-8-datetimeformatter-for-month-in-all-caps-not-working).","body":"I still don’t get all of what you are trying to do. Some steps of it may be <code>LocalDate .of(2023, Month.FEBRUARY, 13) .atStartOfDay(ZoneOffset.UTC) .withZoneSameInstant(ZoneId.of(&quot;Asia&#47;Kolkata&quot;))</code>. Which yields <code>2023-02-13T05:30+05:30[Asia&#47;Kolkata]</code>. See also <a href=\"https://stackoverflow.com/questions/33520491/java-8-datetimeformatter-for-month-in-all-caps-not-working\">Java 8 DateTimeFormatter for month in all CAPS not working &#91;duplicate&#93;</a>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676995063,"creation_date":1676796930,"answer_id":75498993,"question_id":75484763,"body_markdown":"Apparently you want to:\r\n\r\n 1. Parse a string representing a date.\r\n 2. Determine the first moment of the day an that date as seen in a particular time zone.\r\n\r\nFirst, parsing.\r\n\r\nThe trick here is that all caps for a month abbreviation does not fit the cultural norms of any locale I know of. So we must build a custom formatter that ignores case.\r\n\r\n```java\r\nDateTimeFormatter f =\r\n        new DateTimeFormatterBuilder()\r\n                .parseCaseInsensitive()\r\n                .appendPattern( &quot;dd-MMM-uu&quot; )\r\n                .toFormatter( Locale.US );\r\n```\r\n\r\nDo the parsing, to produce a `LocalDate` object representing the date alone.\r\n\r\n```java\r\nString input = &quot;12-FEB-23&quot;;\r\nLocalDate localDate = LocalDate.parse( input , f );\r\n```\r\n\r\nSpecify your desired time zone. `IST` is not a [real time zone][1], so I do not know what you meant exactly. I suppose from your example offset of five and half hours ahead of UTC that you meant `Asia/Kolkata` rather than `Europe/Dublin`.\r\n\r\n```java\r\nZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; );\r\n```\r\n\r\nDetermine the first moment of the day on that date in that zone. Never assume the day starts at 00:00. Some dates in same zones may start at another time such as 01:00. Let *java.time* determine the start.\r\n\r\n```java\r\nZonedDateTime zdt = localDate.atStartOfDay( z );\r\n```\r\n\r\n&gt;Sun Feb 13 05:30:00 IST 2023\r\n\r\nIf you mean to generate text in that format, define a formatter to suit your taste. Use the `DateTimeFormatter` class. Search Stack Overflow to learn more as this has been covered many many times already.\r\n\r\n&gt;RFC Date time\r\n\r\nIf you meant a [*Request For Comments*][2], you will need to specify which one. \r\n\r\nIf you meant [RFC 1123][3], your example is incorrect, missing the comma after the day of the week. \r\n\r\n    String output = zdt.format( DateTimeFormatter.RFC_1123_DATE_TIME ) ; \r\n\r\nSee code [run at Ideone.com][4]. \r\n\r\n&gt; Sun, 12 Feb 2023 00:00:00 +0530\r\n\r\n\r\nBy the way, this format is outmoded. Modern protocols adopt [ISO 8601][5] for date-time formats in text. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [2]: https://en.wikipedia.org/wiki/Request_for_Comments\r\n  [3]: https://www.rfc-editor.org/rfc/rfc1123\r\n  [4]: https://ideone.com/t7DqgC\r\n  [5]: https://en.m.wikipedia.org/wiki/ISO_8601","title":"convert Date to RFC Date time","body":"<p>Apparently you want to:</p>\n<ol>\n<li>Parse a string representing a date.</li>\n<li>Determine the first moment of the day an that date as seen in a particular time zone.</li>\n</ol>\n<p>First, parsing.</p>\n<p>The trick here is that all caps for a month abbreviation does not fit the cultural norms of any locale I know of. So we must build a custom formatter that ignores case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter f =\n        new DateTimeFormatterBuilder()\n                .parseCaseInsensitive()\n                .appendPattern( &quot;dd-MMM-uu&quot; )\n                .toFormatter( Locale.US );\n</code></pre>\n<p>Do the parsing, to produce a <code>LocalDate</code> object representing the date alone.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;12-FEB-23&quot;;\nLocalDate localDate = LocalDate.parse( input , f );\n</code></pre>\n<p>Specify your desired time zone. <code>IST</code> is not a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">real time zone</a>, so I do not know what you meant exactly. I suppose from your example offset of five and half hours ahead of UTC that you meant <code>Asia/Kolkata</code> rather than <code>Europe/Dublin</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; );\n</code></pre>\n<p>Determine the first moment of the day on that date in that zone. Never assume the day starts at 00:00. Some dates in same zones may start at another time such as 01:00. Let <em>java.time</em> determine the start.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime zdt = localDate.atStartOfDay( z );\n</code></pre>\n<blockquote>\n<p>Sun Feb 13 05:30:00 IST 2023</p>\n</blockquote>\n<p>If you mean to generate text in that format, define a formatter to suit your taste. Use the <code>DateTimeFormatter</code> class. Search Stack Overflow to learn more as this has been covered many many times already.</p>\n<blockquote>\n<p>RFC Date time</p>\n</blockquote>\n<p>If you meant a <a href=\"https://en.wikipedia.org/wiki/Request_for_Comments\" rel=\"nofollow noreferrer\"><em>Request For Comments</em></a>, you will need to specify which one.</p>\n<p>If you meant <a href=\"https://www.rfc-editor.org/rfc/rfc1123\" rel=\"nofollow noreferrer\">RFC 1123</a>, your example is incorrect, missing the comma after the day of the week.</p>\n<pre><code>String output = zdt.format( DateTimeFormatter.RFC_1123_DATE_TIME ) ; \n</code></pre>\n<p>See code <a href=\"https://ideone.com/t7DqgC\" rel=\"nofollow noreferrer\">run at Ideone.com</a>.</p>\n<blockquote>\n<p>Sun, 12 Feb 2023 00:00:00 +0530</p>\n</blockquote>\n<p>By the way, this format is outmoded. Modern protocols adopt <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> for date-time formats in text.</p>\n"}],"owner":{"account_id":8772924,"reputation":27,"user_id":6559067,"display_name":"chand"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1676896882,"answer_count":1,"score":-1,"last_activity_date":1676995063,"creation_date":1676639543,"question_id":75484763,"body_markdown":"I have a date field in the input as below\r\n```\r\noldDate = 12-FEB-23\r\n```\r\nI want to convert this to \r\n```\r\nnewDate = Sun Feb 13 05:30:00 IST 2023\r\n```\r\nusing java 8 . Please help\r\nBoth oldDate and newDate are of Date type.\r\n\r\nWe dont want to use the `java.util.Date` class.\r\n\r\n```\r\nString oldDate = &quot;13-FEB-23&quot;\r\nDateFormat formatter = new SimpleDateFormat(&quot;dd-MMM-yy&quot;);\r\nDate newDate = formatter.parse(oldDate);\r\n```\r\n\r\nWith this, we are getting `Sun Feb 13 00:00:00 IST 2023`. So, we are setting hours to this as `newDate.setHours(5)`, but this is deprecated. So, we don’t want to use it anymore.","title":"convert Date to RFC Date time","body":"<p>I have a date field in the input as below</p>\n<pre><code>oldDate = 12-FEB-23\n</code></pre>\n<p>I want to convert this to</p>\n<pre><code>newDate = Sun Feb 13 05:30:00 IST 2023\n</code></pre>\n<p>using java 8 . Please help\nBoth oldDate and newDate are of Date type.</p>\n<p>We dont want to use the <code>java.util.Date</code> class.</p>\n<pre><code>String oldDate = &quot;13-FEB-23&quot;\nDateFormat formatter = new SimpleDateFormat(&quot;dd-MMM-yy&quot;);\nDate newDate = formatter.parse(oldDate);\n</code></pre>\n<p>With this, we are getting <code>Sun Feb 13 00:00:00 IST 2023</code>. So, we are setting hours to this as <code>newDate.setHours(5)</code>, but this is deprecated. So, we don’t want to use it anymore.</p>\n"},{"tags":["java","intellij-idea","apple-silicon"],"comments":[{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1676991592,"post_id":75522044,"comment_id":133246087,"body_markdown":"Do you have to use jdk-19? In IntelliJ you can choose a lower jdk version as your project jdk. Curious if you would get passed issues if you used a lower jdk version.","body":"Do you have to use jdk-19? In IntelliJ you can choose a lower jdk version as your project jdk. Curious if you would get passed issues if you used a lower jdk version."},{"owner":{"account_id":27842640,"reputation":13,"user_id":21258819,"display_name":"MatteoCampa"},"score":0,"creation_date":1676992307,"post_id":75522044,"comment_id":133246348,"body_markdown":"@ZackMacomber i tried with jdk-17 and i have the same issue. I tested it also with other computers, and it works with jdk-19, but not on mine.","body":"@ZackMacomber i tried with jdk-17 and i have the same issue. I tested it also with other computers, and it works with jdk-19, but not on mine."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1676993899,"post_id":75522044,"comment_id":133246905,"body_markdown":"Does https://youtrack.jetbrains.com/issue/IDEA-281300/Scratch-Java-file-wont-run-if-theres-an-emoji-in-the-project-name look like your case? Are there any emojis in the project paths or file names?","body":"Does <a href=\"https://youtrack.jetbrains.com/issue/IDEA-281300/Scratch-Java-file-wont-run-if-theres-an-emoji-in-the-project-name\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-281300/&hellip;</a> look like your case? Are there any emojis in the project paths or file names?"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676994947,"creation_date":1676994947,"answer_id":75522880,"question_id":75522044,"body_markdown":"This problem can occur when there are special characters in the project paths, like emojis. The solution is to move the project into a different directory without emojis.\r\n\r\n- [Related IntelliJ IDEA issue](https://youtrack.jetbrains.com/issue/IDEA-281300/Scratch-Java-file-wont-run-if-theres-an-emoji-in-the-project-name).","title":"FATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed","body":"<p>This problem can occur when there are special characters in the project paths, like emojis. The solution is to move the project into a different directory without emojis.</p>\n<ul>\n<li><a href=\"https://youtrack.jetbrains.com/issue/IDEA-281300/Scratch-Java-file-wont-run-if-theres-an-emoji-in-the-project-name\" rel=\"nofollow noreferrer\">Related IntelliJ IDEA issue</a>.</li>\n</ul>\n"}],"owner":{"account_id":27842640,"reputation":13,"user_id":21258819,"display_name":"MatteoCampa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75522880,"answer_count":1,"score":1,"last_activity_date":1676994947,"creation_date":1676990592,"question_id":75522044,"body_markdown":"i&#39;m trying to compile my Java project on IntelliJ, but i have this issue:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Error decoding percent encoded characters\r\n\tat java.base/sun.net.www.ParseUtil.decode(ParseUtil.java:218)\r\n\tat java.base/jdk.internal.loader.URLClassPath$FileLoader.&lt;init&gt;(URLClassPath.java:1218)\r\n\tat java.base/jdk.internal.loader.URLClassPath$3.run(URLClassPath.java:491)\r\n\tat java.base/jdk.internal.loader.URLClassPath$3.run(URLClassPath.java:485)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n\tat java.base/jdk.internal.loader.URLClassPath.getLoader(URLClassPath.java:484)\r\n\tat java.base/jdk.internal.loader.URLClassPath.getLoader(URLClassPath.java:452)\r\n\tat java.base/jdk.internal.loader.URLClassPath.getResource(URLClassPath.java:321)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:757)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:435)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:503)\r\n*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at open/src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\r\nFATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\r\n\r\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\r\n```\r\n\r\n(jdk-19, apple silicon)\r\n\r\nThanks\r\n\r\nMaybe is due to my JDK and some configurations about Java","title":"FATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed","body":"<p>i'm trying to compile my Java project on IntelliJ, but i have this issue:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Error decoding percent encoded characters\n    at java.base/sun.net.www.ParseUtil.decode(ParseUtil.java:218)\n    at java.base/jdk.internal.loader.URLClassPath$FileLoader.&lt;init&gt;(URLClassPath.java:1218)\n    at java.base/jdk.internal.loader.URLClassPath$3.run(URLClassPath.java:491)\n    at java.base/jdk.internal.loader.URLClassPath$3.run(URLClassPath.java:485)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n    at java.base/jdk.internal.loader.URLClassPath.getLoader(URLClassPath.java:484)\n    at java.base/jdk.internal.loader.URLClassPath.getLoader(URLClassPath.java:452)\n    at java.base/jdk.internal.loader.URLClassPath.getResource(URLClassPath.java:321)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:757)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:435)\n    at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:503)\n*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at open/src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\nFATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\n\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\n</code></pre>\n<p>(jdk-19, apple silicon)</p>\n<p>Thanks</p>\n<p>Maybe is due to my JDK and some configurations about Java</p>\n"},{"tags":["java","intellij-idea","yaml","intellij-plugin"],"comments":[{"owner":{"account_id":11179248,"reputation":11890,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":1,"creation_date":1644161221,"post_id":70999895,"comment_id":125526878,"body_markdown":"Elaborate on your question, please. What is the project type? How it is configured and how do you check what .yaml file is in use? How do you run the application?","body":"Elaborate on your question, please. What is the project type? How it is configured and how do you check what .yaml file is in use? How do you run the application?"},{"owner":{"account_id":11179248,"reputation":11890,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":1,"creation_date":1644161338,"post_id":70999895,"comment_id":125526913,"body_markdown":"If it is Spring application and you run it via IntelliJ IDEA, you may set the active profile using environment variables. See https://stackoverflow.com/a/42461757/8203759","body":"If it is Spring application and you run it via IntelliJ IDEA, you may set the active profile using environment variables. See <a href=\"https://stackoverflow.com/a/42461757/8203759\">stackoverflow.com/a/42461757/8203759</a>"}],"answers":[{"tags":[],"owner":{"account_id":9823844,"reputation":43,"user_id":7277596,"display_name":"user7277596"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676994712,"creation_date":1676994712,"answer_id":75522838,"question_id":70999895,"body_markdown":"Go to the run configuration and add to CLI arguments:\r\n\r\n    --spring.config.additional-location=classpath:application-local.yml --spring.profiles.active=local","title":"How to point to application-local.yml instead of application-dev.yml in IntelliJ?","body":"<p>Go to the run configuration and add to CLI arguments:</p>\n<pre><code>--spring.config.additional-location=classpath:application-local.yml --spring.profiles.active=local\n</code></pre>\n"}],"owner":{"account_id":16094768,"reputation":41,"user_id":11617238,"display_name":"Prudhvi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6147,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1676994712,"creation_date":1644078535,"question_id":70999895,"body_markdown":"How to point to local application.yml instead of other .yml files. IntelliJ is taking application.yml by default. I want to change configuration to point to local yml, so that I can run  application in my local.","title":"How to point to application-local.yml instead of application-dev.yml in IntelliJ?","body":"<p>How to point to local application.yml instead of other .yml files. IntelliJ is taking application.yml by default. I want to change configuration to point to local yml, so that I can run  application in my local.</p>\n"},{"tags":["java","spring","logging","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1676989609,"post_id":75518998,"comment_id":133245322,"body_markdown":"This seems like a log4j / logback config, more than anything to do with Kafka. Or can you use external tooling to obfuscate log patterns","body":"This seems like a log4j / logback config, more than anything to do with Kafka. Or can you use external tooling to obfuscate log patterns"},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1676994064,"post_id":75518998,"comment_id":133246958,"body_markdown":"There is a static method on `KafkaUtils` to format producer and consumer records for logging.","body":"There is a static method on <code>KafkaUtils</code> to format producer and consumer records for logging."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676994037,"creation_date":1676994037,"answer_id":75522708,"question_id":75518998,"body_markdown":"See `KafkaUtils.setProducerRecordFormatter()`.\r\n\r\n```java\r\n/**\r\n * Set a formatter for logging {@link ProducerRecord}s.\r\n * @param formatter a function to format the record as a String\r\n * @since 2.7.12\r\n */\r\npublic static void setProducerRecordFormatter(Function&lt;ProducerRecord&lt;?, ?&gt;, String&gt; formatter) {\r\n```\r\n","title":"Java Kafka Customize Producer Error Logging Format","body":"<p>See <code>KafkaUtils.setProducerRecordFormatter()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Set a formatter for logging {@link ProducerRecord}s.\n * @param formatter a function to format the record as a String\n * @since 2.7.12\n */\npublic static void setProducerRecordFormatter(Function&lt;ProducerRecord&lt;?, ?&gt;, String&gt; formatter) {\n</code></pre>\n"}],"owner":{"account_id":19279659,"reputation":332,"user_id":14091920,"display_name":"Fran Na Jaya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676994037,"creation_date":1676974317,"question_id":75518998,"body_markdown":"I have problem on logging from the kafka error. I am currently integrate our logging to alert program using OpsGenie and our logging is recorded in Loki\r\nWe want to make our log with same data to be grouped in one log only, the OpsGenie that creating the alert is already have mechanism to group the alert by log `message`\r\n\r\nThe problem is in error that logged by kafka error. The `org.springframework.kafka.support.LoggingProducerListener` have logged each message with `key` and `payload` of message inside the `log.message`.\r\n\r\nIs there any way to customize the logging config used in `org.springframework.kafka.support.LoggingProducerListener` or we should surround the kafkaTemplate.send inside a try catch so we can log our own custom logging.\r\n\r\n    @Component\r\n    public class CustomPublisher {\r\n\r\n       @Autowired\r\n       @Qualifier(KafkaProducerConfiguration.DEFAULT_PUBLISHER)\r\n       private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n\r\n       @Autowired\r\n       private ObjectMapper objectMapper;\r\n\r\n       @SneakyThrows\r\n       public void sendKafkaObjectDto(ObjectDTO message) {\r\n          final String json = objectMapper.writeValueAsString(message);\r\n          kafkaTemplate.send(&quot;topic_name&quot;, message.getKey(), json);\r\n       }\r\n\r\n    }\r\n\r\nWhen the `kafkaTemplate.send` failed the logger will log it like this\r\n\r\n    {&quot;@timestamp&quot;:&quot;2023-02-21T14:02:37.906+07:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;environment&quot;:&quot;production&quot;,&quot;headers&quot;:{},&quot;host&quot;:&quot;service-prd-000112&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;level_value&quot;:40000,&quot;log.file.directory&quot;:&quot;logs&quot;,&quot;logger_name&quot;:&quot;org.springframework.kafka.support.LoggingProducerListener&quot;,&quot;message&quot;:&quot;Exception thrown when sending a message with key=&#39;keys&#39; and payload=&#39;{\\json_payload...&#39; to topic com.ajaib.coin.data.message.coin.pair.detail.message:&quot;,&quot;message_key&quot;:null,&quot;offset&quot;:158198,&quot;partition&quot;:1,&quot;service_type&quot;:&quot;java&quot;,&quot;source_type&quot;:&quot;kafka&quot;,&quot;stack_trace&quot;:&quot;org.apache.kafka.common.errors.TimeoutException: Expiring 7 record(s) for payload.message-0:120000 ms has passed since batch creation\\n&quot;,&quot;thread_name&quot;:&quot;kafka-producer-network-thread | producer-1&quot;,&quot;topic&quot;:&quot;logging_production.service&quot;}\r\n\r\nI want to customize the `&quot;message&quot;` so the log will not logging `key` and `payload` inside the message string. as example the &quot;message&quot; will be like this \r\n\r\n    &quot;message&quot;:&quot;Exception thrown when sending a message with key=&#39;keys&#39; and payload=&#39;{\\json_payload...&#39; to topic com.ajaib.coin.data.message.coin.pair.detail.message:&quot;\r\n\r\nThis is the configuration of kafkaProducer that we use\r\n\r\n    @Configuration\r\n    public class KafkaProducerConfiguration {\r\n\r\n        public static final String DEFAULT_PUBLISHER = &quot;kafkaTemplate&quot;;\r\n\r\n        @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n        private String brokers;\r\n\r\n        @Autowired\r\n        private MeterRegistry meterRegistry;\r\n\r\n        @Bean(name = DEFAULT_PUBLISHER)\r\n        public KafkaTemplate&lt;String, String&gt; kafkaTemplate(KafkaProperties kafkaProperties) {\r\n            return new KafkaTemplate&lt;&gt;(producerFactory(kafkaProperties));\r\n        }\r\n\r\n        private ProducerFactory&lt;String, String&gt; producerFactory(KafkaProperties kafkaProperties) {\r\n            DefaultKafkaProducerFactory factory = new DefaultKafkaProducerFactory&lt;String, String&gt;(kafkaProperties.buildProducerProperties());\r\n            factory.addListener(new MicrometerProducerListener(meterRegistry));\r\n            return factory;\r\n        }\r\n    \r\n    }\r\n\r\nCan it achieved by changing the kafka producer configuration only?","title":"Java Kafka Customize Producer Error Logging Format","body":"<p>I have problem on logging from the kafka error. I am currently integrate our logging to alert program using OpsGenie and our logging is recorded in Loki\nWe want to make our log with same data to be grouped in one log only, the OpsGenie that creating the alert is already have mechanism to group the alert by log <code>message</code></p>\n<p>The problem is in error that logged by kafka error. The <code>org.springframework.kafka.support.LoggingProducerListener</code> have logged each message with <code>key</code> and <code>payload</code> of message inside the <code>log.message</code>.</p>\n<p>Is there any way to customize the logging config used in <code>org.springframework.kafka.support.LoggingProducerListener</code> or we should surround the kafkaTemplate.send inside a try catch so we can log our own custom logging.</p>\n<pre><code>@Component\npublic class CustomPublisher {\n\n   @Autowired\n   @Qualifier(KafkaProducerConfiguration.DEFAULT_PUBLISHER)\n   private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\n   @Autowired\n   private ObjectMapper objectMapper;\n\n   @SneakyThrows\n   public void sendKafkaObjectDto(ObjectDTO message) {\n      final String json = objectMapper.writeValueAsString(message);\n      kafkaTemplate.send(&quot;topic_name&quot;, message.getKey(), json);\n   }\n\n}\n</code></pre>\n<p>When the <code>kafkaTemplate.send</code> failed the logger will log it like this</p>\n<pre><code>{&quot;@timestamp&quot;:&quot;2023-02-21T14:02:37.906+07:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;environment&quot;:&quot;production&quot;,&quot;headers&quot;:{},&quot;host&quot;:&quot;service-prd-000112&quot;,&quot;level&quot;:&quot;ERROR&quot;,&quot;level_value&quot;:40000,&quot;log.file.directory&quot;:&quot;logs&quot;,&quot;logger_name&quot;:&quot;org.springframework.kafka.support.LoggingProducerListener&quot;,&quot;message&quot;:&quot;Exception thrown when sending a message with key='keys' and payload='{\\json_payload...' to topic com.ajaib.coin.data.message.coin.pair.detail.message:&quot;,&quot;message_key&quot;:null,&quot;offset&quot;:158198,&quot;partition&quot;:1,&quot;service_type&quot;:&quot;java&quot;,&quot;source_type&quot;:&quot;kafka&quot;,&quot;stack_trace&quot;:&quot;org.apache.kafka.common.errors.TimeoutException: Expiring 7 record(s) for payload.message-0:120000 ms has passed since batch creation\\n&quot;,&quot;thread_name&quot;:&quot;kafka-producer-network-thread | producer-1&quot;,&quot;topic&quot;:&quot;logging_production.service&quot;}\n</code></pre>\n<p>I want to customize the <code>&quot;message&quot;</code> so the log will not logging <code>key</code> and <code>payload</code> inside the message string. as example the &quot;message&quot; will be like this</p>\n<pre><code>&quot;message&quot;:&quot;Exception thrown when sending a message with key='keys' and payload='{\\json_payload...' to topic com.ajaib.coin.data.message.coin.pair.detail.message:&quot;\n</code></pre>\n<p>This is the configuration of kafkaProducer that we use</p>\n<pre><code>@Configuration\npublic class KafkaProducerConfiguration {\n\n    public static final String DEFAULT_PUBLISHER = &quot;kafkaTemplate&quot;;\n\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String brokers;\n\n    @Autowired\n    private MeterRegistry meterRegistry;\n\n    @Bean(name = DEFAULT_PUBLISHER)\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate(KafkaProperties kafkaProperties) {\n        return new KafkaTemplate&lt;&gt;(producerFactory(kafkaProperties));\n    }\n\n    private ProducerFactory&lt;String, String&gt; producerFactory(KafkaProperties kafkaProperties) {\n        DefaultKafkaProducerFactory factory = new DefaultKafkaProducerFactory&lt;String, String&gt;(kafkaProperties.buildProducerProperties());\n        factory.addListener(new MicrometerProducerListener(meterRegistry));\n        return factory;\n    }\n\n}\n</code></pre>\n<p>Can it achieved by changing the kafka producer configuration only?</p>\n"},{"tags":["java","spring-security"],"answers":[{"tags":[],"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507044117,"creation_date":1507044117,"answer_id":46548093,"question_id":46547833,"body_markdown":"Create a new object representing the subset of data you want to be returned from the endpoint. Then copy the data from the principal to the new object and finally return the new object.","title":"Spring Security: How to get details from the principal?","body":"<p>Create a new object representing the subset of data you want to be returned from the endpoint. Then copy the data from the principal to the new object and finally return the new object.</p>\n"},{"tags":[],"owner":{"account_id":276956,"reputation":1353,"user_id":570654,"display_name":"Mario Rojas"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1512175405,"creation_date":1512174490,"answer_id":47603322,"question_id":46547833,"body_markdown":"    import org.springframework.security.oauth2.provider.OAuth2Authentication;\r\n\r\n    @SpringBootApplication\r\n    @RestController\r\n    public class DemoOAuth2Application {\r\n\r\n        @RequestMapping(&quot;/user&quot;)\r\n        public Authentication user(OAuth2Authentication authentication) {\r\n            LinkedHashMap&lt;String, Object&gt; properties = (LinkedHashMap&lt;String, Object&gt;) authentication.getUserAuthentication().getDetails();\r\n            return properties.get(&quot;email&quot;);\r\n        }\r\n\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(DemoOAuth2Application.class, args);\r\n        }\r\n    }","title":"Spring Security: How to get details from the principal?","body":"<pre><code>import org.springframework.security.oauth2.provider.OAuth2Authentication;\n\n@SpringBootApplication\n@RestController\npublic class DemoOAuth2Application {\n\n    @RequestMapping(\"/user\")\n    public Authentication user(OAuth2Authentication authentication) {\n        LinkedHashMap&lt;String, Object&gt; properties = (LinkedHashMap&lt;String, Object&gt;) authentication.getUserAuthentication().getDetails();\n        return properties.get(\"email\");\n    }\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoOAuth2Application.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10185931,"reputation":11,"user_id":7520887,"display_name":"Mike Glabay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676993942,"creation_date":1676993942,"answer_id":75522687,"question_id":46547833,"body_markdown":"For the Dev searching a similar thing... I had an issue writing my Discord login feature and I was high and low on Google...\r\n\r\nSo using some of the posts from here I propose my solution to you below.\r\n\r\n```java\r\n@GetMapping(&quot;/profile&quot;)\r\npublic String getProfilePage(Principal principal, Model model) {\r\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n    // If the user requesting this page, is not an anonymous user\r\n    if (!(authentication instanceof AnonymousAuthenticationToken)) {\r\n        // parse the user for some basic information\r\n        parseAuthorizedUser(authentication);\r\n        return &quot;profile&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThe parseAuthorizedUser was taken from one of the above answers and utilizing Simple Json\r\n\r\n```maven\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI was able to take the authentication and, in my case, loop over the authorities, and for each of the OAuth2UserAuthority I  make sure I&#39;m checking my user role, and then breaking the authorities into a JSON Object, before then selecting just the attributes of the authority, and mapping it to a JSON Object as well. Then I just assurer it&#39;s not null or empty... and finally just set some atomicRefs I am using elsewhere\r\n\r\n```java\r\nprivate void parseAuthorizedUser(Authentication authentication) {\r\n    // ... some previous code for profile basics\r\n    authentication.getAuthorities().forEach(oAuth2UserAuthority -&gt;  {\r\n        if (Objects.equals(&quot;ROLE_USER&quot;, oAuth2UserAuthority.getAuthority())) {\r\n            try {\r\n                String jsonAttributes = JsonUtil.getObjectAsJson(oAuth2UserAuthority);\r\n                JSONObject jsonObject = (JSONObject) new JSONParser().parse(jsonAttributes);\r\n                if (Objects.nonNull(jsonObject)) {\r\n                    JSONObject userAttributes = (JSONObject) jsonObject.get(&quot;attributes&quot;);\r\n                    if (Objects.nonNull(userAttributes) &amp;&amp; !userAttributes.isEmpty()) {\r\n                        discordId.set(userAttributes.get(&quot;id&quot;).toString());\r\n                        discordAvatar.set(userAttributes.get(&quot;avatar&quot;).toString());\r\n                    }\r\n                }\r\n            } catch (JsonProcessingException | ParseException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    });\r\n    // ... continue on with the rest of the method\r\n}\r\n```\r\n\r\nAs for the mention of `JsonUtil.getObjectAsJson(Object)` This is the method I use\r\n\r\n```java\r\npublic static String getObjectAsJson(Object object) throws JsonProcessingException {\r\n    return new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(object);\r\n}\r\n```\r\n\r\nIt&#39;s a vague idea that may point you along the right path. ","title":"Spring Security: How to get details from the principal?","body":"<p>For the Dev searching a similar thing... I had an issue writing my Discord login feature and I was high and low on Google...</p>\n<p>So using some of the posts from here I propose my solution to you below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/profile&quot;)\npublic String getProfilePage(Principal principal, Model model) {\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    // If the user requesting this page, is not an anonymous user\n    if (!(authentication instanceof AnonymousAuthenticationToken)) {\n        // parse the user for some basic information\n        parseAuthorizedUser(authentication);\n        return &quot;profile&quot;;\n    }\n}\n</code></pre>\n<p>The parseAuthorizedUser was taken from one of the above answers and utilizing Simple Json</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I was able to take the authentication and, in my case, loop over the authorities, and for each of the OAuth2UserAuthority I  make sure I'm checking my user role, and then breaking the authorities into a JSON Object, before then selecting just the attributes of the authority, and mapping it to a JSON Object as well. Then I just assurer it's not null or empty... and finally just set some atomicRefs I am using elsewhere</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void parseAuthorizedUser(Authentication authentication) {\n    // ... some previous code for profile basics\n    authentication.getAuthorities().forEach(oAuth2UserAuthority -&gt;  {\n        if (Objects.equals(&quot;ROLE_USER&quot;, oAuth2UserAuthority.getAuthority())) {\n            try {\n                String jsonAttributes = JsonUtil.getObjectAsJson(oAuth2UserAuthority);\n                JSONObject jsonObject = (JSONObject) new JSONParser().parse(jsonAttributes);\n                if (Objects.nonNull(jsonObject)) {\n                    JSONObject userAttributes = (JSONObject) jsonObject.get(&quot;attributes&quot;);\n                    if (Objects.nonNull(userAttributes) &amp;&amp; !userAttributes.isEmpty()) {\n                        discordId.set(userAttributes.get(&quot;id&quot;).toString());\n                        discordAvatar.set(userAttributes.get(&quot;avatar&quot;).toString());\n                    }\n                }\n            } catch (JsonProcessingException | ParseException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    });\n    // ... continue on with the rest of the method\n}\n</code></pre>\n<p>As for the mention of <code>JsonUtil.getObjectAsJson(Object)</code> This is the method I use</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getObjectAsJson(Object object) throws JsonProcessingException {\n    return new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(object);\n}\n</code></pre>\n<p>It's a vague idea that may point you along the right path.</p>\n"}],"owner":{"account_id":3186826,"reputation":2269,"user_id":3395716,"accept_rate":90,"display_name":"Registered User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7347,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":47603322,"answer_count":3,"score":4,"last_activity_date":1676993942,"creation_date":1507043333,"question_id":46547833,"body_markdown":"Using spring boot and spring security, the details of user are available in principal object. But it has only few methods to retrieve details, like `getName()`.\r\n\r\nHow do I get other details out of it?\r\n\r\nCurrently my class looks like this\r\n\r\n    @SpringBootApplication\r\n    @RestController\r\n    public class DemoOAuth2Application {\r\n    \r\n    \t@RequestMapping(&quot;/user&quot;)\r\n    \tpublic Principal user(Principal principal) {\r\n    \t\treturn principal;\r\n    \t}\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoOAuth2Application.class, args);\r\n    \t}\r\n    }\r\n\r\nIt returns this,\r\n\r\n    {\r\n      &quot;authorities&quot;: [\r\n        {\r\n          &quot;authority&quot;: &quot;ROLE_USER&quot;\r\n        }\r\n      ],\r\n      &quot;details&quot;: {\r\n        &quot;remoteAddress&quot;: &quot;0:0:0:0:0:0:0:1&quot;,\r\n        &quot;sessionId&quot;: &quot;43Fxxxxxx&quot;,\r\n        &quot;tokenValue&quot;: &quot;ya29.xxxxxxxxx&quot;,\r\n        &quot;tokenType&quot;: &quot;Bearer&quot;,\r\n        &quot;decodedDetails&quot;: null\r\n      },\r\n      &quot;authenticated&quot;: true,\r\n      &quot;userAuthentication&quot;: {\r\n        &quot;authorities&quot;: [\r\n          {\r\n            &quot;authority&quot;: &quot;ROLE_USER&quot;\r\n          }\r\n        ],\r\n        &quot;details&quot;: {\r\n          &quot;id&quot;: &quot;106xxxxx&quot;,\r\n          &quot;email&quot;: &quot;xxxxxxxx@gmail.com&quot;,\r\n          &quot;verified_email&quot;: true,\r\n          &quot;name&quot;: &quot;xxxx yyyyyy&quot;,\r\n          &quot;given_name&quot;: &quot;xxxxxx&quot;,\r\n          &quot;family_name&quot;: &quot;yyyyy&quot;,\r\n          &quot;link&quot;: &quot;https://plus.google.com/xxxxxxxxxx&quot;,\r\n          &quot;picture&quot;: &quot;https://lh5.googleusercontent.com/xxxxxx/photo.jpg&quot;,\r\n          &quot;locale&quot;: &quot;en&quot;\r\n        },\r\n        &quot;authenticated&quot;: true,\r\n        &quot;principal&quot;: &quot;106xxxxx&quot;,\r\n        &quot;credentials&quot;: &quot;N/A&quot;,\r\n        &quot;name&quot;: &quot;106xxxxxxx&quot;\r\n      },\r\n      &quot;principal&quot;: &quot;106xxxxxxxxxxx&quot;,\r\n      &quot;clientOnly&quot;: false,\r\n      &quot;credentials&quot;: &quot;&quot;,\r\n      &quot;oauth2Request&quot;: {\r\n        &quot;clientId&quot;: &quot;xxxxxxxxx.apps.googleusercontent.com&quot;,\r\n        &quot;scope&quot;: [],\r\n        &quot;requestParameters&quot;: {},\r\n        &quot;resourceIds&quot;: [],\r\n        &quot;authorities&quot;: [],\r\n        &quot;approved&quot;: true,\r\n        &quot;refresh&quot;: false,\r\n        &quot;redirectUri&quot;: null,\r\n        &quot;responseTypes&quot;: [],\r\n        &quot;extensions&quot;: {},\r\n        &quot;refreshTokenRequest&quot;: null,\r\n        &quot;grantType&quot;: null\r\n      },\r\n      &quot;name&quot;: &quot;106xxxxxxxxxx&quot;\r\n    }\r\n\r\nBut instead of returning all the data, I&#39;d like to return only specific data I need. How do I get that data(specifically email, name, link, picture). ","title":"Spring Security: How to get details from the principal?","body":"<p>Using spring boot and spring security, the details of user are available in principal object. But it has only few methods to retrieve details, like <code>getName()</code>.</p>\n\n<p>How do I get other details out of it?</p>\n\n<p>Currently my class looks like this</p>\n\n<pre><code>@SpringBootApplication\n@RestController\npublic class DemoOAuth2Application {\n\n    @RequestMapping(\"/user\")\n    public Principal user(Principal principal) {\n        return principal;\n    }\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoOAuth2Application.class, args);\n    }\n}\n</code></pre>\n\n<p>It returns this,</p>\n\n<pre><code>{\n  \"authorities\": [\n    {\n      \"authority\": \"ROLE_USER\"\n    }\n  ],\n  \"details\": {\n    \"remoteAddress\": \"0:0:0:0:0:0:0:1\",\n    \"sessionId\": \"43Fxxxxxx\",\n    \"tokenValue\": \"ya29.xxxxxxxxx\",\n    \"tokenType\": \"Bearer\",\n    \"decodedDetails\": null\n  },\n  \"authenticated\": true,\n  \"userAuthentication\": {\n    \"authorities\": [\n      {\n        \"authority\": \"ROLE_USER\"\n      }\n    ],\n    \"details\": {\n      \"id\": \"106xxxxx\",\n      \"email\": \"xxxxxxxx@gmail.com\",\n      \"verified_email\": true,\n      \"name\": \"xxxx yyyyyy\",\n      \"given_name\": \"xxxxxx\",\n      \"family_name\": \"yyyyy\",\n      \"link\": \"https://plus.google.com/xxxxxxxxxx\",\n      \"picture\": \"https://lh5.googleusercontent.com/xxxxxx/photo.jpg\",\n      \"locale\": \"en\"\n    },\n    \"authenticated\": true,\n    \"principal\": \"106xxxxx\",\n    \"credentials\": \"N/A\",\n    \"name\": \"106xxxxxxx\"\n  },\n  \"principal\": \"106xxxxxxxxxxx\",\n  \"clientOnly\": false,\n  \"credentials\": \"\",\n  \"oauth2Request\": {\n    \"clientId\": \"xxxxxxxxx.apps.googleusercontent.com\",\n    \"scope\": [],\n    \"requestParameters\": {},\n    \"resourceIds\": [],\n    \"authorities\": [],\n    \"approved\": true,\n    \"refresh\": false,\n    \"redirectUri\": null,\n    \"responseTypes\": [],\n    \"extensions\": {},\n    \"refreshTokenRequest\": null,\n    \"grantType\": null\n  },\n  \"name\": \"106xxxxxxxxxx\"\n}\n</code></pre>\n\n<p>But instead of returning all the data, I'd like to return only specific data I need. How do I get that data(specifically email, name, link, picture). </p>\n"},{"tags":["java","html","spring-boot","tags","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676955615,"creation_date":1676955615,"answer_id":75516451,"question_id":75516396,"body_markdown":"Some characters are reserved in HTML.\r\nIf you use the less than (&lt;) or greater than (&gt;) signs in your text, the browser might mix them with tags.\r\nCharacter entities are used to display reserved characters in HTML.\r\nA character entity looks like this:\r\n&amp;entity_name;\r\nOR\r\n&amp;#entity_number;\r\n&lt;br&gt;To display a less than sign (&lt;) we must write: &amp;lt or &amp;#60","title":"Email address inside &lt;&gt;tag is taken as html tag and unable to display in UI? How to fix this?","body":"<p>Some characters are reserved in HTML.\nIf you use the less than (&lt;) or greater than (&gt;) signs in your text, the browser might mix them with tags.\nCharacter entities are used to display reserved characters in HTML.\nA character entity looks like this:\n&amp;entity_name;\nOR\n&amp;#entity_number;\n<br>To display a less than sign (&lt;) we must write: &amp;lt or &amp;#60</p>\n"},{"tags":[],"owner":{"account_id":21339689,"reputation":23,"user_id":15710358,"display_name":"OverpoweredCoding"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676956305,"creation_date":1676956305,"answer_id":75516506,"question_id":75516396,"body_markdown":"The code snippet below is how you&#39;d update the test@gmail.com to some other variable. Simply use javascript to change emailHolderVariable to whatever email address you want it to be. The &quot;&amp;#60&quot; and &quot;&amp;#62&quot; tags (with a semi-colon on the end) mean &quot;&lt;&quot; and &quot;&gt;&quot; when the file is read. For a full list of these codes, please visit https://www.teachucomp.com/special-characters-in-html-tutorial. I hope this answer helps you out.\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;body&gt;\r\n&lt;p id=&quot;content-holder&quot;&gt;random placeholder&lt;/p&gt;\r\n&lt;script&gt;\r\n    var emailHolderVariable = &quot;test@gmail.com&quot;\r\n    var emailInput = &quot;&amp;#60;&quot; + emailHolderVariable + &quot;&amp;#62; Your text here...&quot;;\r\n    var contentHolder = document.getElementById(&#39;content-holder&#39;);\r\n    contentHolder.innerHTML = emailInput;\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n```","title":"Email address inside &lt;&gt;tag is taken as html tag and unable to display in UI? How to fix this?","body":"<p>The code snippet below is how you'd update the test@gmail.com to some other variable. Simply use javascript to change emailHolderVariable to whatever email address you want it to be. The &quot;&amp;#60&quot; and &quot;&amp;#62&quot; tags (with a semi-colon on the end) mean &quot;&lt;&quot; and &quot;&gt;&quot; when the file is read. For a full list of these codes, please visit <a href=\"https://www.teachucomp.com/special-characters-in-html-tutorial\" rel=\"nofollow noreferrer\">https://www.teachucomp.com/special-characters-in-html-tutorial</a>. I hope this answer helps you out.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;body&gt;\n&lt;p id=&quot;content-holder&quot;&gt;random placeholder&lt;/p&gt;\n&lt;script&gt;\n    var emailHolderVariable = &quot;test@gmail.com&quot;\n    var emailInput = &quot;&amp;#60;&quot; + emailHolderVariable + &quot;&amp;#62; Your text here...&quot;;\n    var contentHolder = document.getElementById('content-holder');\n    contentHolder.innerHTML = emailInput;\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676992838,"creation_date":1676992838,"answer_id":75522465,"question_id":75516396,"body_markdown":"As others said, you have to escape some special characters in your text. If you are using a templating engine like Velocity there are usually build-in mechanism for proper escaping (in case of Velocity the [EscapeTool][1].\r\n\r\nIf you use simple string concatenation you should use [Apache Commons Text&#39;s StringEscapeUtils#escapeHtml4​()][2] method or equivalent **for all** your text content but not for the tags.\r\n\r\nSomething like:\r\n\r\n    String htmlFragment = &quot;&lt;p&gt;&quot; + StringEscapeUtils.escapeHtml4​(plainText) + &quot;&lt;/p&quot;;\r\n\r\n\r\n  [1]: https://velocity.apache.org/tools/1.4/generic/EscapeTool.html\r\n  [2]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#escapeHtml4(java.lang.String)","title":"Email address inside &lt;&gt;tag is taken as html tag and unable to display in UI? How to fix this?","body":"<p>As others said, you have to escape some special characters in your text. If you are using a templating engine like Velocity there are usually build-in mechanism for proper escaping (in case of Velocity the <a href=\"https://velocity.apache.org/tools/1.4/generic/EscapeTool.html\" rel=\"nofollow noreferrer\">EscapeTool</a>.</p>\n<p>If you use simple string concatenation you should use <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/StringEscapeUtils.html#escapeHtml4(java.lang.String)\" rel=\"nofollow noreferrer\">Apache Commons Text's StringEscapeUtils#escapeHtml4​()</a> method or equivalent <strong>for all</strong> your text content but not for the tags.</p>\n<p>Something like:</p>\n<pre><code>String htmlFragment = &quot;&lt;p&gt;&quot; + StringEscapeUtils.escapeHtml4​(plainText) + &quot;&lt;/p&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16301748,"reputation":311,"user_id":11772682,"display_name":"Farouk Mhamdi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676993468,"creation_date":1676993468,"answer_id":75522598,"question_id":75516396,"body_markdown":"declare this variable \r\n\r\n      adress:string =&#39;&lt;test@gmai.com&gt;&#39;\r\n\r\nthen bind it on your html file :\r\n\r\n    &lt;br&gt; {{adress}}\r\n\r\n\r\nit works for me \r\n\r\n","title":"Email address inside &lt;&gt;tag is taken as html tag and unable to display in UI? How to fix this?","body":"<p>declare this variable</p>\n<pre><code>  adress:string ='&lt;test@gmai.com&gt;'\n</code></pre>\n<p>then bind it on your html file :</p>\n<pre><code>&lt;br&gt; {{adress}}\n</code></pre>\n<p>it works for me</p>\n"}],"owner":{"account_id":22310428,"reputation":55,"user_id":20916403,"display_name":"rose pauline"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1676993468,"creation_date":1676954932,"question_id":75516396,"body_markdown":"I want to display the email address inside &#39;&lt;test@gmail.com&#39;&gt;&#39; tag in UI, how can I achieve this? How to display email address with tag in UI?\r\n\r\n```\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;br&gt; I&#39;m sorry to have to inform you that your message could not\r\n\t&lt;br&gt; be delivered to one or more recipients. It&#39;s attached below.\r\n\t&lt;br&gt; &lt;test@gmail.com&gt;: host mx.gmail.com[136.143.191.44] said: 550 5.1.1\r\n\t&lt;br&gt;     &lt;test@gmail.com&gt; User unknown (in reply to RCPT TO command)\r\n\t&lt;br&gt; Reporting-MTA: dns; smtp5.to.test.com\r\n\t&lt;br&gt; X-Postfix-Queue-ID: E982A3346F\r\n\t&lt;br&gt; X-Postfix-Sender: rfc822; test1@test.in\r\n\t&lt;br&gt; Arrival-Date: Mon, 20 Feb 2023 17:37:11 +0530 (IST)\r\n\t&lt;br&gt; Final-Recipient: rfc822; test@gmail.com\r\n\t&lt;br&gt; Original-Recipient: rfc822;test@gmail.com\r\n\t&lt;br&gt; Remote-MTA: dns; mx.zoho.com\r\n\t&lt;br&gt; Diagnostic-Code: smtp; 550 5.1.1 &lt;test@gmail.com&gt; User unknown\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**It is display as in below image, not displaying email address with tag**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G4AxA.png","title":"Email address inside &lt;&gt;tag is taken as html tag and unable to display in UI? How to fix this?","body":"<p>I want to display the email address inside '&lt;test@gmail.com'&gt;' tag in UI, how can I achieve this? How to display email address with tag in UI?</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;br&gt; I'm sorry to have to inform you that your message could not\n    &lt;br&gt; be delivered to one or more recipients. It's attached below.\n    &lt;br&gt; &lt;test@gmail.com&gt;: host mx.gmail.com[136.143.191.44] said: 550 5.1.1\n    &lt;br&gt;     &lt;test@gmail.com&gt; User unknown (in reply to RCPT TO command)\n    &lt;br&gt; Reporting-MTA: dns; smtp5.to.test.com\n    &lt;br&gt; X-Postfix-Queue-ID: E982A3346F\n    &lt;br&gt; X-Postfix-Sender: rfc822; test1@test.in\n    &lt;br&gt; Arrival-Date: Mon, 20 Feb 2023 17:37:11 +0530 (IST)\n    &lt;br&gt; Final-Recipient: rfc822; test@gmail.com\n    &lt;br&gt; Original-Recipient: rfc822;test@gmail.com\n    &lt;br&gt; Remote-MTA: dns; mx.zoho.com\n    &lt;br&gt; Diagnostic-Code: smtp; 550 5.1.1 &lt;test@gmail.com&gt; User unknown\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>It is display as in below image, not displaying email address with tag</strong></p>\n<p><a href=\"https://i.stack.imgur.com/G4AxA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G4AxA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","android-camera"],"answers":[{"tags":[],"owner":{"account_id":27804823,"reputation":1,"user_id":21228480,"display_name":"Danny"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676993373,"creation_date":1676566387,"answer_id":75475498,"question_id":75470964,"body_markdown":"1. Get the supported preview sizes using the `getSupportedPreviewSizes()` method.\r\n\r\n2. Find the preview size that has a height greater than its width. This will be the portrait mode size.\r\n\r\n3. Set the preview size to this portrait mode size and use `setRotation(90)` to rotate the preview.\r\n\r\n4. To make the preview full screen, set the layout parameters of the `SurfaceView` or `TextureView` that you are using to display the camera preview to fill the parent.\r\n\r\nHere is an example:\r\n\r\n    CameraManager cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n    String cameraId = &quot;0&quot;; // Choose the desired camera ID\r\n    CameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(cameraId);\r\n    StreamConfigurationMap configMap = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\r\n    Size[] sizes = configMap.getOutputSizes(SurfaceTexture.class);\r\n    Size portraitSize = null;\r\n\r\n    for (Size size : sizes) {\r\n     if (size.getHeight() &gt; size.getWidth()) {\r\n        portraitSize = size;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (portraitSize != null) {\r\n      previewSize = portraitSize;\r\n      int rotation = getWindowManager().getDefaultDisplay().getRotation();\r\n      int sensorOrientation = characteristics.get(CameraCharacteristics.SENSOR_ORIENTATION);\r\n      int deviceRotation = ORIENTATIONS.get(rotation);\r\n      int totalRotation = (sensorOrientation + deviceRotation + 360) % 360;\r\n      previewRequestBuilder.set(CaptureRequest.JPEG_ORIENTATION, totalRotation);\r\n    }\r\n    SurfaceView surfaceView = findViewById(R.id.camera_preview);\r\n    surfaceView.setLayoutParams(new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\r\n\r\n\r\n\r\n    ","title":"Android - getSupportedPreviewSizes only returns Landscape sizes","body":"<ol>\n<li><p>Get the supported preview sizes using the <code>getSupportedPreviewSizes()</code> method.</p>\n</li>\n<li><p>Find the preview size that has a height greater than its width. This will be the portrait mode size.</p>\n</li>\n<li><p>Set the preview size to this portrait mode size and use <code>setRotation(90)</code> to rotate the preview.</p>\n</li>\n<li><p>To make the preview full screen, set the layout parameters of the <code>SurfaceView</code> or <code>TextureView</code> that you are using to display the camera preview to fill the parent.</p>\n</li>\n</ol>\n<p>Here is an example:</p>\n<pre><code>CameraManager cameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\nString cameraId = &quot;0&quot;; // Choose the desired camera ID\nCameraCharacteristics characteristics = cameraManager.getCameraCharacteristics(cameraId);\nStreamConfigurationMap configMap = characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\nSize[] sizes = configMap.getOutputSizes(SurfaceTexture.class);\nSize portraitSize = null;\n\nfor (Size size : sizes) {\n if (size.getHeight() &gt; size.getWidth()) {\n    portraitSize = size;\n    break;\n  }\n}\n\nif (portraitSize != null) {\n  previewSize = portraitSize;\n  int rotation = getWindowManager().getDefaultDisplay().getRotation();\n  int sensorOrientation = characteristics.get(CameraCharacteristics.SENSOR_ORIENTATION);\n  int deviceRotation = ORIENTATIONS.get(rotation);\n  int totalRotation = (sensorOrientation + deviceRotation + 360) % 360;\n  previewRequestBuilder.set(CaptureRequest.JPEG_ORIENTATION, totalRotation);\n}\nSurfaceView surfaceView = findViewById(R.id.camera_preview);\nsurfaceView.setLayoutParams(new FrameLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\n</code></pre>\n"}],"owner":{"account_id":4390607,"reputation":128,"user_id":3579130,"display_name":"APIS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676993373,"creation_date":1676543495,"question_id":75470964,"body_markdown":"I am trying to build a Live feature similar to Instagram Live. And I want to open the camera preview full screen in portrait mode. I am using the below to set the size of the preview of the camera. But I am only getting stretched and distorted scales.\r\n\r\n**Reason being that getSupportedPreviewSizes from which we choose the optimal resolution to be used, is only returning landscape sizes and not portrait ones (Width &gt; Height).** \r\n\r\n**Any idea how to make *getSupportedPreviewSizes()* return Supported Portrait sizes instead ?**   \r\n\r\n     public int[] setPreviewResolution(int width, int height) {                \r\n            mCamera = openCamera();\r\n            \r\n            mPreviewWidth = width;\r\n            mPreviewHeight = height;\r\n            Camera.Size rs = adaptPreviewResolution(mCamera.new Size(width, height));\r\n            if (rs != null) {\r\n                mPreviewWidth = rs.width;\r\n                mPreviewHeight = rs.height;\r\n            }\r\n            \r\n            getHolder().setFixedSize(mPreviewWidth, mPreviewHeight);\r\n            \r\n            mCamera.getParameters().setPreviewSize(mPreviewWidth, mPreviewHeight);\r\n    \r\n            mGLPreviewBuffer = ByteBuffer.allocate(mPreviewWidth  mPreviewHeight  4);\r\n            mInputAspectRatio = mPreviewWidth &gt; mPreviewHeight ?\r\n                (float) mPreviewWidth / mPreviewHeight : (float) mPreviewHeight / mPreviewWidth;\r\n    \r\n            return new int[] { mPreviewWidth, mPreviewHeight };\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        private Camera.Size adaptPreviewResolution(Camera.Size resolution) {\r\n                float diff = 100f;\r\n                float xdy = (float) resolution.width / (float) resolution.height;\r\n                Camera.Size best = null;\r\n                for (Camera.Size size : mCamera.getParameters().getSupportedPreviewSizes()) {\r\n                    Log.v(&quot;widthhhhhhhhhhhdddd supported&quot;,&quot;&quot; +&quot; size.width: &quot;+size.width+&quot;   hhhh: &quot;+size.height);\r\n                    if (size.equals(resolution)) {\r\n                        return size;\r\n                    }\r\n                    float tmp = Math.abs(((float) size.height / (float) size.width) - xdy);\r\n                    if (tmp &lt; diff) {\r\n                        diff = tmp;\r\n                        best = size;\r\n                    }\r\n        \r\n                }\r\n        \r\n                return best;\r\n            }\r\n\r\n","title":"Android - getSupportedPreviewSizes only returns Landscape sizes","body":"<p>I am trying to build a Live feature similar to Instagram Live. And I want to open the camera preview full screen in portrait mode. I am using the below to set the size of the preview of the camera. But I am only getting stretched and distorted scales.</p>\n<p><strong>Reason being that getSupportedPreviewSizes from which we choose the optimal resolution to be used, is only returning landscape sizes and not portrait ones (Width &gt; Height).</strong></p>\n<p><strong>Any idea how to make <em>getSupportedPreviewSizes()</em> return Supported Portrait sizes instead ?</strong></p>\n<pre><code> public int[] setPreviewResolution(int width, int height) {                \n        mCamera = openCamera();\n        \n        mPreviewWidth = width;\n        mPreviewHeight = height;\n        Camera.Size rs = adaptPreviewResolution(mCamera.new Size(width, height));\n        if (rs != null) {\n            mPreviewWidth = rs.width;\n            mPreviewHeight = rs.height;\n        }\n        \n        getHolder().setFixedSize(mPreviewWidth, mPreviewHeight);\n        \n        mCamera.getParameters().setPreviewSize(mPreviewWidth, mPreviewHeight);\n\n        mGLPreviewBuffer = ByteBuffer.allocate(mPreviewWidth  mPreviewHeight  4);\n        mInputAspectRatio = mPreviewWidth &gt; mPreviewHeight ?\n            (float) mPreviewWidth / mPreviewHeight : (float) mPreviewHeight / mPreviewWidth;\n\n        return new int[] { mPreviewWidth, mPreviewHeight };\n    }\n\n\n\n\n    private Camera.Size adaptPreviewResolution(Camera.Size resolution) {\n            float diff = 100f;\n            float xdy = (float) resolution.width / (float) resolution.height;\n            Camera.Size best = null;\n            for (Camera.Size size : mCamera.getParameters().getSupportedPreviewSizes()) {\n                Log.v(&quot;widthhhhhhhhhhhdddd supported&quot;,&quot;&quot; +&quot; size.width: &quot;+size.width+&quot;   hhhh: &quot;+size.height);\n                if (size.equals(resolution)) {\n                    return size;\n                }\n                float tmp = Math.abs(((float) size.height / (float) size.width) - xdy);\n                if (tmp &lt; diff) {\n                    diff = tmp;\n                    best = size;\n                }\n    \n            }\n    \n            return best;\n        }\n</code></pre>\n"},{"tags":["java","azure-active-directory","web.xml"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1676906754,"post_id":75510910,"comment_id":133226800,"body_markdown":"Is your key vault URL well-formed? It should be something like `https://some-name.vault.azure.net/`","body":"Is your key vault URL well-formed? It should be something like <code>https:&#47;&#47;some-name.vault.azure.net&#47;</code>"},{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":0,"creation_date":1676906843,"post_id":75510910,"comment_id":133226826,"body_markdown":"Yes it is well formed and matches the format which you&#39;ve specified.","body":"Yes it is well formed and matches the format which you&#39;ve specified."}],"answers":[{"tags":[],"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676993064,"creation_date":1676993064,"answer_id":75522524,"question_id":75510910,"body_markdown":"The issue is in the repository code. Created an issue for the GIThub repo owners to make the change.\r\n\r\nThe arrowed statement (in the image) should come above the below statement because getKeyVaultClient method is using the variable vaultBaseUrl.\r\n\r\nclient = getKeyVaultClient();\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LzGF4.jpg","title":"How to resolve &quot;The Azure Key Vault url is malformed&quot; exception","body":"<p>The issue is in the repository code. Created an issue for the GIThub repo owners to make the change.</p>\n<p>The arrowed statement (in the image) should come above the below statement because getKeyVaultClient method is using the variable vaultBaseUrl.</p>\n<p>client = getKeyVaultClient();</p>\n<p><a href=\"https://i.stack.imgur.com/LzGF4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LzGF4.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75522524,"answer_count":1,"score":0,"last_activity_date":1676993064,"creation_date":1676905337,"question_id":75510910,"body_markdown":" I have cloned the project - https://github.com/Microsoft/Partner-Center-Java-Samples/tree/master/secure-app-model/keyvault from GIT to my local Eclipse.\r\n\r\nAdded tomcat server and when I run the partnerconsent project, I get this exception\r\n\r\n    SEVERE: Exception starting filter [AuthenticationFilter]\r\n    java.lang.IllegalArgumentException: The Azure Key Vault url is malformed.\r\n    \tat com.azure.security.keyvault.secrets.SecretClientBuilder.vaultUrl(SecretClientBuilder.java:177)\r\n    \tat com.microsoft.store.samples.partnerconsent.security.KeyVaultProvider.getKeyVaultClient(KeyVaultProvider.java:68)\r\n    \tat com.microsoft.store.samples.partnerconsent.security.KeyVaultProvider.&lt;init&gt;(KeyVaultProvider.java:33)\r\n    \tat com.microsoft.store.samples.partnerconsent.security.AuthenticationFilter.init(AuthenticationFilter.java:236)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:272)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:253)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:102)\r\n    \tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4613)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5256)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n    Caused by: java.net.MalformedURLException: Cannot invoke &quot;String.length()&quot; because &quot;spec&quot; is null\r\n    \tat java.base/java.net.URL.&lt;init&gt;(URL.java:708)\r\n    \tat java.base/java.net.URL.&lt;init&gt;(URL.java:569)\r\n    \tat java.base/java.net.URL.&lt;init&gt;(URL.java:516)\r\n    \tat com.azure.security.keyvault.secrets.SecretClientBuilder.vaultUrl(SecretClientBuilder.java:175)\r\n    \t... 36 more\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;spec&quot; is null\r\n    \tat java.base/java.net.URL.&lt;init&gt;(URL.java:614)\r\n    \t... 39 more\r\n\r\nI have added the keyvault_base_url value in web.xml and it is well-formed. So, not sure why the exception is still coming.\r\n\r\n\r\n\r\n","title":"How to resolve &quot;The Azure Key Vault url is malformed&quot; exception","body":"<p>I have cloned the project - <a href=\"https://github.com/Microsoft/Partner-Center-Java-Samples/tree/master/secure-app-model/keyvault\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/Partner-Center-Java-Samples/tree/master/secure-app-model/keyvault</a> from GIT to my local Eclipse.</p>\n<p>Added tomcat server and when I run the partnerconsent project, I get this exception</p>\n<pre><code>SEVERE: Exception starting filter [AuthenticationFilter]\njava.lang.IllegalArgumentException: The Azure Key Vault url is malformed.\n    at com.azure.security.keyvault.secrets.SecretClientBuilder.vaultUrl(SecretClientBuilder.java:177)\n    at com.microsoft.store.samples.partnerconsent.security.KeyVaultProvider.getKeyVaultClient(KeyVaultProvider.java:68)\n    at com.microsoft.store.samples.partnerconsent.security.KeyVaultProvider.&lt;init&gt;(KeyVaultProvider.java:33)\n    at com.microsoft.store.samples.partnerconsent.security.AuthenticationFilter.init(AuthenticationFilter.java:236)\n    at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:272)\n    at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:253)\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:102)\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4613)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5256)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\nCaused by: java.net.MalformedURLException: Cannot invoke &quot;String.length()&quot; because &quot;spec&quot; is null\n    at java.base/java.net.URL.&lt;init&gt;(URL.java:708)\n    at java.base/java.net.URL.&lt;init&gt;(URL.java:569)\n    at java.base/java.net.URL.&lt;init&gt;(URL.java:516)\n    at com.azure.security.keyvault.secrets.SecretClientBuilder.vaultUrl(SecretClientBuilder.java:175)\n    ... 36 more\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;spec&quot; is null\n    at java.base/java.net.URL.&lt;init&gt;(URL.java:614)\n    ... 39 more\n</code></pre>\n<p>I have added the keyvault_base_url value in web.xml and it is well-formed. So, not sure why the exception is still coming.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676992751,"creation_date":1671555439,"answer_id":74866403,"question_id":74860028,"body_markdown":"OK I fixed it myself. There are 2 things:\r\n\r\n1. I missed one part in the middle where some validation fails and I do an early return and send, and that bean should set the IN body to be the same POJO to return, the OutboundMessage class, which is not done. So I have to do `exchange.getIn().setBody(xxx)` there, so that when going to the reply route, the message type is the same as the normal, validation OK path. I also have to `.marshal().json(JsonLibrary.Jsonb, OutboundMessage.class)` before sending the reply to make sure the message body is a valid string message.\r\n\r\n2. But then, a similar error happens where it is like `Caused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: byte[] to the required type: com.example.IncomingMessage with value [Bxxxxxxx`. I notice that it is now a byte array, meaning that it is already marshalled correctly, but Camel continues to try to process it even after sending. So, after trying all possible, I add `.stop()` after sending, and this error is gone. **Notice that `.stop()` also ensures the callback(sending reply to reply queue in `JMSReplyTo` header) is executed**, so you will always want to call `stop()` in request/reply mode.\r\n\r\nSo, make sure you:\r\n\r\n - return the same POJO at the end of each logic path/branch, especially after a short circuit/premature return one\r\n - stop the route at the end, to stop Camel to do further conversion. In my case, this error is only shown in logs, and ActiveMQ side already received the message, i.e. does not affect the business flow, so it&#39;s kind of hard to detect on client side. But it should be stopped.\r\n","title":"Why does Camel expect to deserialize IN message POJO while I want to change response POJO; no destination set, only JMSReplyTo present","body":"<p>OK I fixed it myself. There are 2 things:</p>\n<ol>\n<li><p>I missed one part in the middle where some validation fails and I do an early return and send, and that bean should set the IN body to be the same POJO to return, the OutboundMessage class, which is not done. So I have to do <code>exchange.getIn().setBody(xxx)</code> there, so that when going to the reply route, the message type is the same as the normal, validation OK path. I also have to <code>.marshal().json(JsonLibrary.Jsonb, OutboundMessage.class)</code> before sending the reply to make sure the message body is a valid string message.</p>\n</li>\n<li><p>But then, a similar error happens where it is like <code>Caused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: byte[] to the required type: com.example.IncomingMessage with value [Bxxxxxxx</code>. I notice that it is now a byte array, meaning that it is already marshalled correctly, but Camel continues to try to process it even after sending. So, after trying all possible, I add <code>.stop()</code> after sending, and this error is gone. <strong>Notice that <code>.stop()</code> also ensures the callback(sending reply to reply queue in <code>JMSReplyTo</code> header) is executed</strong>, so you will always want to call <code>stop()</code> in request/reply mode.</p>\n</li>\n</ol>\n<p>So, make sure you:</p>\n<ul>\n<li>return the same POJO at the end of each logic path/branch, especially after a short circuit/premature return one</li>\n<li>stop the route at the end, to stop Camel to do further conversion. In my case, this error is only shown in logs, and ActiveMQ side already received the message, i.e. does not affect the business flow, so it's kind of hard to detect on client side. But it should be stopped.</li>\n</ul>\n"}],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74866403,"answer_count":1,"score":0,"last_activity_date":1676992751,"creation_date":1671523298,"question_id":74860028,"body_markdown":"I have a Camel route which listens to an ActiveMQ queue, do some processing, and sends the result to a JMSReplyTo header queue as response.\r\n\r\nIn previous version of the app, the destination needs to be explicitly set and it was sending the message with a `ProducerTemplate.sendBody()`; but I read in Camel doc that JMSReplyTo will be respected. So I want to try set no destination; however, seems that Camel expects the body to be the incoming message POJO.\r\n\r\nHow can I send the modified body? \r\n\r\nhttps://camel.apache.org/components/3.19.x/eips/requestReply-eip.html has an illustration, where the request and reply have different color. I suppose they are different message, which makes sense; who wants the original message? \r\n\r\n[![Camel-EIP-request-reply-illustration][1]][1]\r\n\r\nIn the last step of my route I did: `exchange.getIn().setBody(myString);`; also tried `exchange.getMessage().setBody(myString);` but I got error:\r\n\r\n&gt; Caused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: java.lang.String to the required type: com.example.IncomingMessage with value {&quot;failedEndpointsAndCauses&quot;:{},&quot;message&quot;:&quot;Message does not contain some ID field&quot;,&quot;status&quot;:&quot;ERROR&quot;}\r\n\r\nwhich is exactly what I want to put into the response. `IncomingMessage` is the POJO coming in in the first place from ActiveMQ. **Seems that Camel expects my outgoing response POJO to be the same type as incoming message.**\r\n\r\nI cannot `getOut().setBody()`, as this is deprecated. I don&#39;t know why(maybe I know, that it&#39;s better just to `getIn()` and `setBody()`, because we need to copy everything from IN to OUT; but in the annotation of `@Deprecated` there are no explanations. )\r\n\r\nSimilar question: https://stackoverflow.com/questions/56414437/how-exactly-is-jmsreplyto-handled-by-apache-camel-when-does-camel-implicitly-ut which suggests set `disableReplyTo`. But why Camel is not following the EIP of Request and Reply? I want a different body as response. \r\n\r\n\r\nComplete stacktrace(I am trying to return the POJO to `toD()` and `marshall()` but similar error, just now it&#39;s not string but POJO not matching the expected type):\r\n\r\n```\r\n2022-12-20 14:09:49,293 DEBUG [org.apa.cam.com.jms.DefaultJmsMessageListenerContainer] (Camel (camel-1) thread #6 - JmsConsumer[my.queue]) Initiating transaction rollback on application exception: org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]\r\n    at org.apache.camel.CamelExecutionException.wrapCamelExecutionException(CamelExecutionException.java:45)\r\n    at org.apache.camel.support.builder.ExpressionBuilder$33.evaluate(ExpressionBuilder.java:1030)\r\n    at org.apache.camel.support.ExpressionAdapter.evaluate(ExpressionAdapter.java:45)\r\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterBinding(MethodInfo.java:738)\r\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterExpressions(MethodInfo.java:624)\r\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluate(MethodInfo.java:592)\r\n    at org.apache.camel.component.bean.MethodInfo.initializeArguments(MethodInfo.java:263)\r\n    at org.apache.camel.component.bean.MethodInfo.createMethodInvocation(MethodInfo.java:271)\r\n    at org.apache.camel.component.bean.BeanInfo.createInvocation(BeanInfo.java:277)\r\n    at org.apache.camel.component.bean.AbstractBeanProcessor.process(AbstractBeanProcessor.java:126)\r\n    at org.apache.camel.component.bean.BeanProcessor.process(BeanProcessor.java:81)\r\n    at org.apache.camel.processor.errorhandler.NoErrorHandler.process(NoErrorHandler.java:47)\r\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\r\n    at org.apache.camel.processor.Pipeline$PipelineTask.run(Pipeline.java:109)\r\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:187)\r\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:64)\r\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:184)\r\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\r\n    at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83)\r\n    at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41)\r\n    at org.apache.camel.component.jms.EndpointMessageListener.onMessage(EndpointMessageListener.java:132)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674)\r\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318)\r\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:245)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1237)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.apache.camel.InvalidPayloadException: No body available of type: com.example.IncomingMessage but has value: OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={}) of type: com.example.OutboundMessage on: Message[ID:foo-40805-1671538168705-4:1:1:4:1]. Caused by: No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={}). Exchange[]. Caused by: [org.apache.camel.NoTypeConversionAvailableException - No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={})]\r\n    at org.apache.camel.support.MessageSupport.getMandatoryBody(MessageSupport.java:125)\r\n    at org.apache.camel.support.builder.ExpressionBuilder$33.evaluate(ExpressionBuilder.java:1028)\r\n    ... 30 more\r\nCaused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={})\r\n    at org.apache.camel.impl.converter.CoreTypeConverterRegistry.mandatoryConvertTo(CoreTypeConverterRegistry.java:275)\r\n    at org.apache.camel.support.MessageSupport.getMandatoryBody(MessageSupport.java:123)\r\n    ... 31 more\r\n2022-12-20 14:09:49,298 DEBUG [org.apa.cam.com.jms.DefaultJmsMessageListenerContainer] (Camel (camel-1) thread #6 - JmsConsumer[my.queue]) Rolling back transaction because of listener exception thrown: org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]\r\n2022-12-20 14:09:49,299 WARN  [org.apa.cam.com.jms.EndpointMessageListener] (Camel (camel-1) thread #6 - JmsConsumer[my.queue]) Execution of JMS message listener failed. Caused by: [org.apache.camel.CamelExecutionException - Exception occurred during execution on the exchange: Exchange[]]: org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]\r\n    at org.apache.camel.CamelExecutionException.wrapCamelExecutionException(CamelExecutionException.java:45)\r\n    at org.apache.camel.support.builder.ExpressionBuilder$33.evaluate(ExpressionBuilder.java:1030)\r\n    at org.apache.camel.support.ExpressionAdapter.evaluate(ExpressionAdapter.java:45)\r\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterBinding(MethodInfo.java:738)\r\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterExpressions(MethodInfo.java:624)\r\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluate(MethodInfo.java:592)\r\n    at org.apache.camel.component.bean.MethodInfo.initializeArguments(MethodInfo.java:263)\r\n    at org.apache.camel.component.bean.MethodInfo.createMethodInvocation(MethodInfo.java:271)\r\n    at org.apache.camel.component.bean.BeanInfo.createInvocation(BeanInfo.java:277)\r\n    at org.apache.camel.component.bean.AbstractBeanProcessor.process(AbstractBeanProcessor.java:126)\r\n    at org.apache.camel.component.bean.BeanProcessor.process(BeanProcessor.java:81)\r\n    at org.apache.camel.processor.errorhandler.NoErrorHandler.process(NoErrorHandler.java:47)\r\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\r\n    at org.apache.camel.processor.Pipeline$PipelineTask.run(Pipeline.java:109)\r\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:187)\r\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:64)\r\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:184)\r\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\r\n    at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83)\r\n    at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41)\r\n    at org.apache.camel.component.jms.EndpointMessageListener.onMessage(EndpointMessageListener.java:132)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696)\r\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674)\r\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318)\r\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:245)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1237)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227)\r\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: org.apache.camel.InvalidPayloadException: No body available of type: com.example.IncomingMessage but has value: OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={}) of type: com.example.OutboundMessage on: Message[ID:foo-40805-1671538168705-4:1:1:4:1]. Caused by: No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={}). Exchange[]. Caused by: [org.apache.camel.NoTypeConversionAvailableException - No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={})]\r\n    at org.apache.camel.support.MessageSupport.getMandatoryBody(MessageSupport.java:125)\r\n    at org.apache.camel.support.builder.ExpressionBuilder$33.evaluate(ExpressionBuilder.java:1028)\r\n    ... 30 more\r\nCaused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={})\r\n    at org.apache.camel.impl.converter.CoreTypeConverterRegistry.mandatoryConvertTo(CoreTypeConverterRegistry.java:275)\r\n    at org.apache.camel.support.MessageSupport.getMandatoryBody(MessageSupport.java:123)\r\n    ... 31 more\r\n2022-12-20 14:09:49,873 SEVERE [org.ecl.yas.int.Unmarshaller] (awaitility-thread) Unexpected char 111 at (line no=1, column no=2, offset=1), expecting &#39;u&#39;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/yxDJm.png","title":"Why does Camel expect to deserialize IN message POJO while I want to change response POJO; no destination set, only JMSReplyTo present","body":"<p>I have a Camel route which listens to an ActiveMQ queue, do some processing, and sends the result to a JMSReplyTo header queue as response.</p>\n<p>In previous version of the app, the destination needs to be explicitly set and it was sending the message with a <code>ProducerTemplate.sendBody()</code>; but I read in Camel doc that JMSReplyTo will be respected. So I want to try set no destination; however, seems that Camel expects the body to be the incoming message POJO.</p>\n<p>How can I send the modified body?</p>\n<p><a href=\"https://camel.apache.org/components/3.19.x/eips/requestReply-eip.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.19.x/eips/requestReply-eip.html</a> has an illustration, where the request and reply have different color. I suppose they are different message, which makes sense; who wants the original message?</p>\n<p><a href=\"https://i.stack.imgur.com/yxDJm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yxDJm.png\" alt=\"Camel-EIP-request-reply-illustration\" /></a></p>\n<p>In the last step of my route I did: <code>exchange.getIn().setBody(myString);</code>; also tried <code>exchange.getMessage().setBody(myString);</code> but I got error:</p>\n<blockquote>\n<p>Caused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: java.lang.String to the required type: com.example.IncomingMessage with value {&quot;failedEndpointsAndCauses&quot;:{},&quot;message&quot;:&quot;Message does not contain some ID field&quot;,&quot;status&quot;:&quot;ERROR&quot;}</p>\n</blockquote>\n<p>which is exactly what I want to put into the response. <code>IncomingMessage</code> is the POJO coming in in the first place from ActiveMQ. <strong>Seems that Camel expects my outgoing response POJO to be the same type as incoming message.</strong></p>\n<p>I cannot <code>getOut().setBody()</code>, as this is deprecated. I don't know why(maybe I know, that it's better just to <code>getIn()</code> and <code>setBody()</code>, because we need to copy everything from IN to OUT; but in the annotation of <code>@Deprecated</code> there are no explanations. )</p>\n<p>Similar question: <a href=\"https://stackoverflow.com/questions/56414437/how-exactly-is-jmsreplyto-handled-by-apache-camel-when-does-camel-implicitly-ut\">How exactly is JMSReplyTo handled by Apache Camel? When does camel implicitly utilises the destination?</a> which suggests set <code>disableReplyTo</code>. But why Camel is not following the EIP of Request and Reply? I want a different body as response.</p>\n<p>Complete stacktrace(I am trying to return the POJO to <code>toD()</code> and <code>marshall()</code> but similar error, just now it's not string but POJO not matching the expected type):</p>\n<pre><code>2022-12-20 14:09:49,293 DEBUG [org.apa.cam.com.jms.DefaultJmsMessageListenerContainer] (Camel (camel-1) thread #6 - JmsConsumer[my.queue]) Initiating transaction rollback on application exception: org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]\n    at org.apache.camel.CamelExecutionException.wrapCamelExecutionException(CamelExecutionException.java:45)\n    at org.apache.camel.support.builder.ExpressionBuilder$33.evaluate(ExpressionBuilder.java:1030)\n    at org.apache.camel.support.ExpressionAdapter.evaluate(ExpressionAdapter.java:45)\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterBinding(MethodInfo.java:738)\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterExpressions(MethodInfo.java:624)\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluate(MethodInfo.java:592)\n    at org.apache.camel.component.bean.MethodInfo.initializeArguments(MethodInfo.java:263)\n    at org.apache.camel.component.bean.MethodInfo.createMethodInvocation(MethodInfo.java:271)\n    at org.apache.camel.component.bean.BeanInfo.createInvocation(BeanInfo.java:277)\n    at org.apache.camel.component.bean.AbstractBeanProcessor.process(AbstractBeanProcessor.java:126)\n    at org.apache.camel.component.bean.BeanProcessor.process(BeanProcessor.java:81)\n    at org.apache.camel.processor.errorhandler.NoErrorHandler.process(NoErrorHandler.java:47)\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\n    at org.apache.camel.processor.Pipeline$PipelineTask.run(Pipeline.java:109)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:187)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:64)\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:184)\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\n    at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83)\n    at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41)\n    at org.apache.camel.component.jms.EndpointMessageListener.onMessage(EndpointMessageListener.java:132)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:245)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1237)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.apache.camel.InvalidPayloadException: No body available of type: com.example.IncomingMessage but has value: OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={}) of type: com.example.OutboundMessage on: Message[ID:foo-40805-1671538168705-4:1:1:4:1]. Caused by: No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={}). Exchange[]. Caused by: [org.apache.camel.NoTypeConversionAvailableException - No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={})]\n    at org.apache.camel.support.MessageSupport.getMandatoryBody(MessageSupport.java:125)\n    at org.apache.camel.support.builder.ExpressionBuilder$33.evaluate(ExpressionBuilder.java:1028)\n    ... 30 more\nCaused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={})\n    at org.apache.camel.impl.converter.CoreTypeConverterRegistry.mandatoryConvertTo(CoreTypeConverterRegistry.java:275)\n    at org.apache.camel.support.MessageSupport.getMandatoryBody(MessageSupport.java:123)\n    ... 31 more\n2022-12-20 14:09:49,298 DEBUG [org.apa.cam.com.jms.DefaultJmsMessageListenerContainer] (Camel (camel-1) thread #6 - JmsConsumer[my.queue]) Rolling back transaction because of listener exception thrown: org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]\n2022-12-20 14:09:49,299 WARN  [org.apa.cam.com.jms.EndpointMessageListener] (Camel (camel-1) thread #6 - JmsConsumer[my.queue]) Execution of JMS message listener failed. Caused by: [org.apache.camel.CamelExecutionException - Exception occurred during execution on the exchange: Exchange[]]: org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]\n    at org.apache.camel.CamelExecutionException.wrapCamelExecutionException(CamelExecutionException.java:45)\n    at org.apache.camel.support.builder.ExpressionBuilder$33.evaluate(ExpressionBuilder.java:1030)\n    at org.apache.camel.support.ExpressionAdapter.evaluate(ExpressionAdapter.java:45)\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterBinding(MethodInfo.java:738)\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluateParameterExpressions(MethodInfo.java:624)\n    at org.apache.camel.component.bean.MethodInfo$ParameterExpression.evaluate(MethodInfo.java:592)\n    at org.apache.camel.component.bean.MethodInfo.initializeArguments(MethodInfo.java:263)\n    at org.apache.camel.component.bean.MethodInfo.createMethodInvocation(MethodInfo.java:271)\n    at org.apache.camel.component.bean.BeanInfo.createInvocation(BeanInfo.java:277)\n    at org.apache.camel.component.bean.AbstractBeanProcessor.process(AbstractBeanProcessor.java:126)\n    at org.apache.camel.component.bean.BeanProcessor.process(BeanProcessor.java:81)\n    at org.apache.camel.processor.errorhandler.NoErrorHandler.process(NoErrorHandler.java:47)\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\n    at org.apache.camel.processor.Pipeline$PipelineTask.run(Pipeline.java:109)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:187)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:64)\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:184)\n    at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:398)\n    at org.apache.camel.impl.engine.DefaultAsyncProcessorAwaitManager.process(DefaultAsyncProcessorAwaitManager.java:83)\n    at org.apache.camel.support.AsyncProcessorSupport.process(AsyncProcessorSupport.java:41)\n    at org.apache.camel.component.jms.EndpointMessageListener.onMessage(EndpointMessageListener.java:132)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:736)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:696)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:674)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:318)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:245)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1237)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.apache.camel.InvalidPayloadException: No body available of type: com.example.IncomingMessage but has value: OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={}) of type: com.example.OutboundMessage on: Message[ID:foo-40805-1671538168705-4:1:1:4:1]. Caused by: No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={}). Exchange[]. Caused by: [org.apache.camel.NoTypeConversionAvailableException - No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={})]\n    at org.apache.camel.support.MessageSupport.getMandatoryBody(MessageSupport.java:125)\n    at org.apache.camel.support.builder.ExpressionBuilder$33.evaluate(ExpressionBuilder.java:1028)\n    ... 30 more\nCaused by: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: com.example.OutboundMessage to the required type: com.example.IncomingMessage with value OutboundMessage(jobResourceId=null, status=something, message=Message does not contain some ID, failedEndpointsAndCauses={})\n    at org.apache.camel.impl.converter.CoreTypeConverterRegistry.mandatoryConvertTo(CoreTypeConverterRegistry.java:275)\n    at org.apache.camel.support.MessageSupport.getMandatoryBody(MessageSupport.java:123)\n    ... 31 more\n2022-12-20 14:09:49,873 SEVERE [org.ecl.yas.int.Unmarshaller] (awaitility-thread) Unexpected char 111 at (line no=1, column no=2, offset=1), expecting 'u'\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1676773570,"post_id":75497509,"comment_id":133204590,"body_markdown":"What prevents the loop from running? That determines a strategy for detecting that it&#39;s not.  You don&#39;t want to add a detection mehanism that&#39;s more likely to get stuck than the loop is...","body":"What prevents the loop from running? That determines a strategy for detecting that it&#39;s not.  You don&#39;t want to add a detection mehanism that&#39;s more likely to get stuck than the loop is..."},{"owner":{"account_id":3200009,"reputation":7174,"user_id":2702249,"accept_rate":57,"display_name":"Om Sao"},"score":0,"creation_date":1676773745,"post_id":75497509,"comment_id":133204600,"body_markdown":"I already have several catch logics and handling as per the exceptions. Still once in couple of days, polling stops with new error. I want to know when polling stopped, so that I quickly read the logs for errors, otherwise the error reasons are lost in tonnes of cloud logs.","body":"I already have several catch logics and handling as per the exceptions. Still once in couple of days, polling stops with new error. I want to know when polling stopped, so that I quickly read the logs for errors, otherwise the error reasons are lost in tonnes of cloud logs."},{"owner":{"account_id":3428850,"reputation":4324,"user_id":2873875,"accept_rate":25,"display_name":"Gokhan Dilek"},"score":0,"creation_date":1676774246,"post_id":75497509,"comment_id":133204633,"body_markdown":"Are you able to provide the rest of the logic inside the for loop try/catch block?","body":"Are you able to provide the rest of the logic inside the for loop try/catch block?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1676774777,"post_id":75497509,"comment_id":133204663,"body_markdown":"Why not alert on an unhandled exception?","body":"Why not alert on an unhandled exception?"}],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676775532,"creation_date":1676775532,"answer_id":75497732,"question_id":75497509,"body_markdown":"There are two different reasons why polling stops making progress, and each needs a different approach:\r\n\r\nIf the logic throws a `Throwable` other than an `Exception`, for instance an `Error`, the catch does not match, and execution will leave the for-loop, and likely reach the thread&#39;s `UncaughtExceptionHandler`, the default implementation of which logs the exception to `System.err` and terminates the thread. To prevent this, you should catch `Throwable` rather than `Exception`.\r\n\r\nThe second possibility is that some step in your logic doesn&#39;t terminate, for instance due to an infinite loop, a deadlock, waiting for I/O operations, or whatever. In this case, you&#39;ll want to take a thread dump to see where the thread is stuck. You can automate this as follows:\r\n\r\n```\r\nclass Watchdog {\r\n\tfinal Duration gracePeriod;\r\n\tfinal Thread watchedThread;\r\n\tvolatile Instant lastProgress;\r\n\r\n\tpublic Watchdog(Duration gracePeriod) {\r\n\t\tthis.gracePeriod = gracePeriod;\r\n\t\twatchedThread = Thread.currentThread();\r\n\t\teverythingIsFine();\r\n\t\t\r\n\t\tvar t = new Thread(this::keepWatch);\r\n\t\tt.setDaemon(true);\r\n\t\tt.start();\r\n\t}\r\n\t\r\n\tpublic void everythingIsFine() {\r\n\t\tlastProgress = Instant.now();\r\n\t}\r\n\t\r\n\tvoid keepWatch() {\r\n\t\twhile (true) {\r\n\t\t\tvar silence = Duration.between(lastProgress, Instant.now());\r\n\t\t\tif (silence.compareTo(gracePeriod) &gt; 0) {\r\n\t\t\t\tSystem.err.println(&quot;Watchdog hasn&#39;t seen any progress for &quot; + silence.toSeconds() + &quot; seconds. The watched thread is currently at:&quot;);\r\n\t\t\t\tfor (var element : watchedThread.getStackTrace()) {\r\n\t\t\t\t\tSystem.err.println(&quot;\\tat &quot; + element);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(gracePeriod);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nwhile you can use as follows:\r\n\r\n```\r\npublic class Test {\r\n\tvoid step() throws Exception {\r\n\t\tSystem.in.read();\r\n\t}\r\n\t\r\n\tvoid job() {\r\n\t\tvar snoopy = new Watchdog(Duration.ofSeconds(2));\r\n\t\tfor (;;) {\r\n\t\t\ttry {\r\n\t\t\t\tstep();\r\n\t\t\t\tsnoopy.everythingIsFine();\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t} catch (Throwable t) {\r\n\t\t\t\tSystem.err.println(t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tnew Test().job();\r\n\t}\r\n}\r\n```\r\n\r\nonce the grace period elapses, the WatchDog will print something like:\r\n\r\n&lt;pre&gt;\r\nWatchdog hasn&#39;t seen any progress for 2 seconds. The watched thread is currently at:\r\n\tat java.base/java.io.FileInputStream.readBytes(Native Method)\r\n\tat java.base/java.io.FileInputStream.read(FileInputStream.java:293)\r\n\tat java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:255)\r\n\tat java.base/java.io.BufferedInputStream.implRead(BufferedInputStream.java:289)\r\n\tat java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:276)\r\n\tat stackoverflow.Test.step(Test.java:48)\r\n\tat stackoverflow.Test.job(Test.java:55)\r\n\tat stackoverflow.Test.main(Test.java:65)\r\n&lt;/pre&gt;","title":"How to check when polling stopped","body":"<p>There are two different reasons why polling stops making progress, and each needs a different approach:</p>\n<p>If the logic throws a <code>Throwable</code> other than an <code>Exception</code>, for instance an <code>Error</code>, the catch does not match, and execution will leave the for-loop, and likely reach the thread's <code>UncaughtExceptionHandler</code>, the default implementation of which logs the exception to <code>System.err</code> and terminates the thread. To prevent this, you should catch <code>Throwable</code> rather than <code>Exception</code>.</p>\n<p>The second possibility is that some step in your logic doesn't terminate, for instance due to an infinite loop, a deadlock, waiting for I/O operations, or whatever. In this case, you'll want to take a thread dump to see where the thread is stuck. You can automate this as follows:</p>\n<pre><code>class Watchdog {\n    final Duration gracePeriod;\n    final Thread watchedThread;\n    volatile Instant lastProgress;\n\n    public Watchdog(Duration gracePeriod) {\n        this.gracePeriod = gracePeriod;\n        watchedThread = Thread.currentThread();\n        everythingIsFine();\n        \n        var t = new Thread(this::keepWatch);\n        t.setDaemon(true);\n        t.start();\n    }\n    \n    public void everythingIsFine() {\n        lastProgress = Instant.now();\n    }\n    \n    void keepWatch() {\n        while (true) {\n            var silence = Duration.between(lastProgress, Instant.now());\n            if (silence.compareTo(gracePeriod) &gt; 0) {\n                System.err.println(&quot;Watchdog hasn't seen any progress for &quot; + silence.toSeconds() + &quot; seconds. The watched thread is currently at:&quot;);\n                for (var element : watchedThread.getStackTrace()) {\n                    System.err.println(&quot;\\tat &quot; + element);\n                }\n            }\n            try {\n                Thread.sleep(gracePeriod);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>while you can use as follows:</p>\n<pre><code>public class Test {\n    void step() throws Exception {\n        System.in.read();\n    }\n    \n    void job() {\n        var snoopy = new Watchdog(Duration.ofSeconds(2));\n        for (;;) {\n            try {\n                step();\n                snoopy.everythingIsFine();\n                Thread.sleep(1000);\n            } catch (Throwable t) {\n                System.err.println(t);\n            }\n        }\n    }\n    \n    public static void main(String[] args) throws Exception {\n        new Test().job();\n    }\n}\n</code></pre>\n<p>once the grace period elapses, the WatchDog will print something like:</p>\n<pre>\nWatchdog hasn't seen any progress for 2 seconds. The watched thread is currently at:\n    at java.base/java.io.FileInputStream.readBytes(Native Method)\n    at java.base/java.io.FileInputStream.read(FileInputStream.java:293)\n    at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:255)\n    at java.base/java.io.BufferedInputStream.implRead(BufferedInputStream.java:289)\n    at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:276)\n    at stackoverflow.Test.step(Test.java:48)\n    at stackoverflow.Test.job(Test.java:55)\n    at stackoverflow.Test.main(Test.java:65)\n</pre>\n"}],"owner":{"account_id":3200009,"reputation":7174,"user_id":2702249,"accept_rate":57,"display_name":"Om Sao"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1676992701,"creation_date":1676771251,"question_id":75497509,"body_markdown":"I have a message stream, where messages comes which I need to process and then store them in database. In Java, I&#39;ve written polling code which polls stream and consumes messages every 20 seconds. \r\n\r\nThis is done inside an infinite for-loop, like below:\r\n\r\n    for (;;) {\r\n        try{\r\n            //1. Logic for polling.\r\n            //2. Logic for processing the message.\r\n            //3. Logic for storing the message in database.\r\n            Thread.sleep(20000 - &lt;time taken for above 3 steps &gt;); \r\n        } catch(Exception E){\r\n            //4. Exception handling.\r\n        }\r\n    }\r\n\r\nThis logic runs as expected and the stream is polled, but once in a while it hits an exception or something goes wrong and polling stops.\r\n\r\nI want to have a mechanism, that as soon as polling stopped, let&#39;s say this `for` loop is not running for 60 seconds, I should receive a mail or ping.\r\n\r\nHow can I invoke a method if this for loop is not running for 60 seconds?\r\n\r\nI am thinking like, each for-loop execution will ping a heartbeat, and when that heartbeat pinging not received from for-loop then a mail sending is invoked.\r\n\r\n","title":"How to check when polling stopped","body":"<p>I have a message stream, where messages comes which I need to process and then store them in database. In Java, I've written polling code which polls stream and consumes messages every 20 seconds.</p>\n<p>This is done inside an infinite for-loop, like below:</p>\n<pre><code>for (;;) {\n    try{\n        //1. Logic for polling.\n        //2. Logic for processing the message.\n        //3. Logic for storing the message in database.\n        Thread.sleep(20000 - &lt;time taken for above 3 steps &gt;); \n    } catch(Exception E){\n        //4. Exception handling.\n    }\n}\n</code></pre>\n<p>This logic runs as expected and the stream is polled, but once in a while it hits an exception or something goes wrong and polling stops.</p>\n<p>I want to have a mechanism, that as soon as polling stopped, let's say this <code>for</code> loop is not running for 60 seconds, I should receive a mail or ping.</p>\n<p>How can I invoke a method if this for loop is not running for 60 seconds?</p>\n<p>I am thinking like, each for-loop execution will ping a heartbeat, and when that heartbeat pinging not received from for-loop then a mail sending is invoked.</p>\n"},{"tags":["java","validation","constraints"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676992818,"post_id":75522394,"comment_id":133246519,"body_markdown":"You can have only multiple validators for different types not for the same type. That is also the case in the question you linked.","body":"You can have only multiple validators for different types not for the same type. That is also the case in the question you linked."},{"owner":{"account_id":4114728,"reputation":511,"user_id":3376635,"accept_rate":75,"display_name":"Bancarel Valentin"},"score":0,"creation_date":1676993611,"post_id":75522394,"comment_id":133246805,"body_markdown":"Damn, thank you !! I was banging my head on this one. It makes a bit of sense I guess, but I feel like the error message is not clear; or maybe I just did not understand it correctly.","body":"Damn, thank you !! I was banging my head on this one. It makes a bit of sense I guess, but I feel like the error message is not clear; or maybe I just did not understand it correctly."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676993682,"post_id":75522394,"comment_id":133246835,"body_markdown":"Well the message is clear (at least IMHO). **HV000150: The constraint NirValidator defines multiple validators for the type NirResource** states that the validator contains more then 1 validator for a specific type.","body":"Well the message is clear (at least IMHO). <b>HV000150: The constraint NirValidator defines multiple validators for the type NirResource</b> states that the validator contains more then 1 validator for a specific type."},{"owner":{"account_id":4114728,"reputation":511,"user_id":3376635,"accept_rate":75,"display_name":"Bancarel Valentin"},"score":0,"creation_date":1677145020,"post_id":75522394,"comment_id":133281131,"body_markdown":"Yes it does now i read it knowing what it mean; I guess my brain was just not working when seeing it first time","body":"Yes it does now i read it knowing what it mean; I guess my brain was just not working when seeing it first time"}],"owner":{"account_id":4114728,"reputation":511,"user_id":3376635,"accept_rate":75,"display_name":"Bancarel Valentin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676992451,"creation_date":1676992451,"question_id":75522394,"body_markdown":"I&#39;m trying to have one validator use multiple constraints withtout success. \r\nThe @Constraint annotations take an array as input; and as described in this post, it should be possible: https://stackoverflow.com/questions/16405765/multiple-validation-options-in-annotation.  \r\n\r\nWhen I try to validate a Resource, I get the following error\r\n\r\n\r\n```log \r\nHV000150: The constraint NirValidator defines multiple validators for the type NirResource: NirCalculCleConstraint, NirBrutLongueurConstraint. Only one is allowed\r\n```\r\n\r\n\r\nHere is my interface:\r\n\r\n``` java\r\n\r\n@Documented\r\n@Target({ElementType.FIELD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy = {NirCalculCleConstraint.class, NirBrutLongueurConstraint.class})\r\npublic @interface NirValidator {\r\n\r\n    String message() default &quot;&quot;;\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\nand those 2 constraints classes:\r\n\r\n``` java \r\npublic class NirBrutLongueurConstraint implements ConstraintValidator&lt;NirValidator, NirResource&gt; {\r\n    @Override\r\n    public boolean isValid(NirResource value, ConstraintValidatorContext constraintValidatorContext) {\r\n        return value == null || value.toString().length() == LONGUEUR_MIN_NIR || value.toString().length() == LONGUEUR_MAX_NIR;\r\n    }\r\n}\r\n\r\npublic class NirCalculCleConstraint implements ConstraintValidator&lt;NirValidator, NirResource&gt; {\r\n \r\n    private int calculerCle(NirResource value) {\r\n        return (int) (CONSTANTE_CALCUL_CLE_NIR - ((Long.parseLong(value.toString(false))) % CONSTANTE_CALCUL_CLE_NIR));\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(NirResource value, ConstraintValidatorContext constraintValidatorContext) {\r\n        return Integer.parseInt(value.getCleNir()) != calculerCle(value);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nAll I could find online concerning thie error code is [this link](https://hibernate.org/validator/faq/) but it&#39;s not relevant in my situation as the lib mentionned is not on my classpath.","title":"Javax validator interface with multiple @Constraint throw error","body":"<p>I'm trying to have one validator use multiple constraints withtout success.\nThe @Constraint annotations take an array as input; and as described in this post, it should be possible: <a href=\"https://stackoverflow.com/questions/16405765/multiple-validation-options-in-annotation\">Multiple validation options in Annotation</a>.</p>\n<p>When I try to validate a Resource, I get the following error</p>\n<pre><code>HV000150: The constraint NirValidator defines multiple validators for the type NirResource: NirCalculCleConstraint, NirBrutLongueurConstraint. Only one is allowed\n</code></pre>\n<p>Here is my interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Documented\n@Target({ElementType.FIELD})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = {NirCalculCleConstraint.class, NirBrutLongueurConstraint.class})\npublic @interface NirValidator {\n\n    String message() default &quot;&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>and those 2 constraints classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class NirBrutLongueurConstraint implements ConstraintValidator&lt;NirValidator, NirResource&gt; {\n    @Override\n    public boolean isValid(NirResource value, ConstraintValidatorContext constraintValidatorContext) {\n        return value == null || value.toString().length() == LONGUEUR_MIN_NIR || value.toString().length() == LONGUEUR_MAX_NIR;\n    }\n}\n\npublic class NirCalculCleConstraint implements ConstraintValidator&lt;NirValidator, NirResource&gt; {\n \n    private int calculerCle(NirResource value) {\n        return (int) (CONSTANTE_CALCUL_CLE_NIR - ((Long.parseLong(value.toString(false))) % CONSTANTE_CALCUL_CLE_NIR));\n    }\n\n    @Override\n    public boolean isValid(NirResource value, ConstraintValidatorContext constraintValidatorContext) {\n        return Integer.parseInt(value.getCleNir()) != calculerCle(value);\n    }\n}\n\n</code></pre>\n<p>All I could find online concerning thie error code is <a href=\"https://hibernate.org/validator/faq/\" rel=\"nofollow noreferrer\">this link</a> but it's not relevant in my situation as the lib mentionned is not on my classpath.</p>\n"},{"tags":["java","maven","repository","maven-3","nexus"],"comments":[{"owner":{"account_id":1422298,"reputation":5871,"user_id":1346690,"accept_rate":71,"display_name":"Heetola"},"score":0,"creation_date":1338977288,"post_id":10911287,"comment_id":14229742,"body_markdown":"can you post the whole error?","body":"can you post the whole error?"},{"owner":{"account_id":18964,"reputation":303,"user_id":43968,"display_name":"Ogo Pogo"},"score":0,"creation_date":1357126774,"post_id":10911287,"comment_id":19546020,"body_markdown":"Just got the same error and could not figure it out either. I am using a customized settings.xml which is the same for the whole team.\nI downgraded to 3.0.3 and could not reproduce the same &quot;easonPhrase:Unauthorized.&quot; issue.","body":"Just got the same error and could not figure it out either. I am using a customized settings.xml which is the same for the whole team. I downgraded to 3.0.3 and could not reproduce the same &quot;easonPhrase:Unauthorized.&quot; issue."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1474061937,"post_id":10911287,"comment_id":66394852,"body_markdown":"See also http://stackoverflow.com/a/32119725/32453","body":"See also <a href=\"http://stackoverflow.com/a/32119725/32453\">stackoverflow.com/a/32119725/32453</a>"}],"answers":[{"tags":[],"owner":{"account_id":1546528,"reputation":2209,"user_id":1439964,"accept_rate":64,"display_name":"blacelle"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1338992389,"creation_date":1338992389,"answer_id":10916116,"question_id":10911287,"body_markdown":"The issue may happen while fetching dependencies from a remote repository. In my case, the repository did not need any authentication and it has been resolved by removing the servers section in the settings.xml file:\r\n\r\n    &lt;servers&gt;\r\n        &lt;server&gt;\r\n          &lt;id&gt;SomeRepo&lt;/id&gt;\r\n          &lt;username&gt;SomeUN&lt;/username&gt;\r\n          &lt;password&gt;SomePW&lt;/password&gt;\r\n        &lt;/server&gt;\r\n    &lt;/servers&gt;\r\n\r\nps: I guess your target is *mvn clean install* instead of *maven install clean*","title":"Maven error: Not authorized, ReasonPhrase:Unauthorized","body":"<p>The issue may happen while fetching dependencies from a remote repository. In my case, the repository did not need any authentication and it has been resolved by removing the servers section in the settings.xml file:</p>\n\n<pre><code>&lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;SomeRepo&lt;/id&gt;\n      &lt;username&gt;SomeUN&lt;/username&gt;\n      &lt;password&gt;SomePW&lt;/password&gt;\n    &lt;/server&gt;\n&lt;/servers&gt;\n</code></pre>\n\n<p>ps: I guess your target is <em>mvn clean install</em> instead of <em>maven install clean</em></p>\n"},{"tags":[],"owner":{"account_id":271507,"reputation":13000,"user_id":562073,"accept_rate":76,"display_name":"Mahendra Liya"},"down_vote_count":2,"up_vote_count":15,"is_accepted":true,"score":13,"last_activity_date":1348635181,"creation_date":1348635181,"answer_id":12594758,"question_id":10911287,"body_markdown":"The problem here was a typo error in the password used, which was not easily identified due to the characters / letters used in the password.","title":"Maven error: Not authorized, ReasonPhrase:Unauthorized","body":"<p>The problem here was a typo error in the password used, which was not easily identified due to the characters / letters used in the password.</p>\n"},{"tags":[],"owner":{"account_id":7304266,"reputation":561,"user_id":5565746,"display_name":"Vineela Thonupunuri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1536682818,"creation_date":1536675949,"answer_id":52278199,"question_id":10911287,"body_markdown":"You have an old password in the `settings.xml`. It is trying to connect to the repositories, but is not able to, since the password is not updated. Once you update and re-run the command, you should be good.\r\n","title":"Maven error: Not authorized, ReasonPhrase:Unauthorized","body":"<p>You have an old password in the <code>settings.xml</code>. It is trying to connect to the repositories, but is not able to, since the password is not updated. Once you update and re-run the command, you should be good.</p>\n"},{"tags":[],"owner":{"account_id":10945705,"reputation":236,"user_id":8043915,"display_name":"huanghao"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1551168711,"creation_date":1551168711,"answer_id":54880963,"question_id":10911287,"body_markdown":"I have recently encountered this problem. Here are the steps to resolve\r\n\r\n1. Check the servers section in the settings.xml file.Is username and password correct?\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;servers&gt;\r\n      &lt;server&gt;\r\n        &lt;id&gt;serverId&lt;/id&gt;\r\n        &lt;username&gt;username&lt;/username&gt;\r\n        &lt;password&gt;password&lt;/password&gt;\r\n      &lt;/server&gt;\r\n    &lt;/servers&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n2. Check the repository section in the pom.xml file.**The id of the server tag should be the same as the id of the repository tag.**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;repositories&gt;\r\n    \t&lt;repository&gt;\r\n    \t  &lt;id&gt;serverId&lt;/id&gt;  \r\n    \t  &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;\r\n    \t&lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n3. If the repository tag is not configured in the pom.xml file, look in the settings.xml file.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;profiles&gt;\r\n    \t&lt;profile&gt;\r\n    \t  &lt;repositories&gt;\r\n    \t    &lt;repository&gt;\r\n    \t\t    &lt;id&gt;serverId&lt;/id&gt;\r\n    \t\t    &lt;name&gt;aliyun&lt;/name&gt;\r\n    \t\t    &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;\r\n    \t    &lt;/repository&gt;\r\n    \t  &lt;/repositories&gt;\r\n    \t&lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nNote that you should ensure that **the id of the server tag should be the same as the id of the repository tag.**","title":"Maven error: Not authorized, ReasonPhrase:Unauthorized","body":"<p>I have recently encountered this problem. Here are the steps to resolve</p>\n\n<ol>\n<li>Check the servers section in the settings.xml file.Is username and password correct?</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;servers&gt;\r\n  &lt;server&gt;\r\n    &lt;id&gt;serverId&lt;/id&gt;\r\n    &lt;username&gt;username&lt;/username&gt;\r\n    &lt;password&gt;password&lt;/password&gt;\r\n  &lt;/server&gt;\r\n&lt;/servers&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"2\">\n<li>Check the repository section in the pom.xml file.<strong>The id of the server tag should be the same as the id of the repository tag.</strong></li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;repositories&gt;\r\n\t&lt;repository&gt;\r\n\t  &lt;id&gt;serverId&lt;/id&gt;  \r\n\t  &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;\r\n\t&lt;/repository&gt;\r\n&lt;/repositories&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"3\">\n<li>If the repository tag is not configured in the pom.xml file, look in the settings.xml file.</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;profiles&gt;\r\n\t&lt;profile&gt;\r\n\t  &lt;repositories&gt;\r\n\t    &lt;repository&gt;\r\n\t\t    &lt;id&gt;serverId&lt;/id&gt;\r\n\t\t    &lt;name&gt;aliyun&lt;/name&gt;\r\n\t\t    &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;\r\n\t    &lt;/repository&gt;\r\n\t  &lt;/repositories&gt;\r\n\t&lt;/profile&gt;\r\n&lt;/profiles&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note that you should ensure that <strong>the id of the server tag should be the same as the id of the repository tag.</strong></p>\n"},{"tags":[],"owner":{"account_id":4746883,"reputation":1553,"user_id":3837982,"accept_rate":8,"display_name":"Shek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636822686,"creation_date":1636822345,"answer_id":69956372,"question_id":10911287,"body_markdown":"I also faced similar issue, but for me, my password had `!` in it and to fix that I updated my nexus password without `!` (I changed my password basically, you can also achieve this by escaping `!`, I found this issue when I tried to manually perform this operation from my jenkins node, it didn&#39;t like `!` in my password) and this has resolved my issue, I&#39;m assuming `!` in my password string caused this issue when Jenkins tried to connect to SonaType Nexus from my jenkins node terminal. My issue could be totally unrelated to yours but I wanted to document my experience and solution here as well. ","title":"Maven error: Not authorized, ReasonPhrase:Unauthorized","body":"<p>I also faced similar issue, but for me, my password had <code>!</code> in it and to fix that I updated my nexus password without <code>!</code> (I changed my password basically, you can also achieve this by escaping <code>!</code>, I found this issue when I tried to manually perform this operation from my jenkins node, it didn't like <code>!</code> in my password) and this has resolved my issue, I'm assuming <code>!</code> in my password string caused this issue when Jenkins tried to connect to SonaType Nexus from my jenkins node terminal. My issue could be totally unrelated to yours but I wanted to document my experience and solution here as well.</p>\n"},{"tags":[],"owner":{"account_id":1899037,"reputation":176,"user_id":1715310,"accept_rate":100,"display_name":"Aur&#233;lio Antonio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637601949,"creation_date":1637601949,"answer_id":70069954,"question_id":10911287,"body_markdown":"In my case the issue was that I was executing the mvn command with &quot;sudo&quot;.\r\n\r\nmvn test looks for credentials here:\r\n/home/aurelio/.m2/settings.xml -&gt; configured with repo credentials\r\n\r\nsudo mvn test looks for credentials here:\r\n/home/root/.m2/settings.xml -&gt; no repo credentials configured.\r\n","title":"Maven error: Not authorized, ReasonPhrase:Unauthorized","body":"<p>In my case the issue was that I was executing the mvn command with &quot;sudo&quot;.</p>\n<p>mvn test looks for credentials here:\n/home/aurelio/.m2/settings.xml -&gt; configured with repo credentials</p>\n<p>sudo mvn test looks for credentials here:\n/home/root/.m2/settings.xml -&gt; no repo credentials configured.</p>\n"},{"tags":[],"owner":{"account_id":5445355,"reputation":660,"user_id":4332110,"accept_rate":20,"display_name":"Siddharth Kumar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1639100336,"creation_date":1639100336,"answer_id":70298764,"question_id":10911287,"body_markdown":"I commented out/removed this part of the code from the pom.xml. And it worked. So dependencies got downloaded from maven central repos.\r\n\r\n    &lt;repositories&gt;\r\n    \t...\r\n    &lt;/repositories&gt;\r\n\r\n","title":"Maven error: Not authorized, ReasonPhrase:Unauthorized","body":"<p>I commented out/removed this part of the code from the pom.xml. And it worked. So dependencies got downloaded from maven central repos.</p>\n<pre><code>&lt;repositories&gt;\n    ...\n&lt;/repositories&gt;\n</code></pre>\n"}],"owner":{"account_id":271507,"reputation":13000,"user_id":562073,"accept_rate":76,"display_name":"Mahendra Liya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151214,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":12594758,"answer_count":7,"score":52,"last_activity_date":1676992004,"creation_date":1338973908,"question_id":10911287,"body_markdown":"I checked out my code from the Nexus repository repository. I changed the password for my account and set it correctly inside my `settings.xml` file. While executing `mvn install clean` I get the error saying `Not authorized, ReasonPhrase:Unauthorized` when it tries to download files from that repository.\r\n\r\nAny idea how to solve this error? I am using Windows 7 with Maven 3.04\r\n","title":"Maven error: Not authorized, ReasonPhrase:Unauthorized","body":"<p>I checked out my code from the Nexus repository repository. I changed the password for my account and set it correctly inside my <code>settings.xml</code> file. While executing <code>mvn install clean</code> I get the error saying <code>Not authorized, ReasonPhrase:Unauthorized</code> when it tries to download files from that repository.</p>\n\n<p>Any idea how to solve this error? I am using Windows 7 with Maven 3.04</p>\n"},{"tags":["java","logging","methods","quarkus","interceptor"],"answers":[{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676991941,"creation_date":1676985155,"answer_id":75520998,"question_id":75520339,"body_markdown":"By design interceptors work only for `public`, `protected` and `package-private` (default visibility) methods.&lt;br/&gt;\r\nDuring Quarkus deployment any interceptor on private methods is just ignored but should leads to a a failed build if [this property][1] is setted.&lt;br/&gt;\r\nQuarkus allows [interception of non-private static method][2]\r\n\r\n\r\n  [1]: https://quarkus.io/guides/cdi-reference#quarkus-arc_quarkus.arc.fail-on-intercepted-private-method\r\n  [2]: https://quarkus.io/guides/cdi-reference#interception-of-static-methods","title":"Quarkus Interceptor on private methods","body":"<p>By design interceptors work only for <code>public</code>, <code>protected</code> and <code>package-private</code> (default visibility) methods.<br/>\nDuring Quarkus deployment any interceptor on private methods is just ignored but should leads to a a failed build if <a href=\"https://quarkus.io/guides/cdi-reference#quarkus-arc_quarkus.arc.fail-on-intercepted-private-method\" rel=\"nofollow noreferrer\">this property</a> is setted.<br/>\nQuarkus allows <a href=\"https://quarkus.io/guides/cdi-reference#interception-of-static-methods\" rel=\"nofollow noreferrer\">interception of non-private static method</a></p>\n"}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676991941,"creation_date":1676981412,"question_id":75520339,"body_markdown":"Is it possible to add a quarkus interceptor on a private method? I would like to log the time the method takes and want to use an interceptor i have for this purpose. It works fine on all public methods and doesn&#39;t on the private method. ","title":"Quarkus Interceptor on private methods","body":"<p>Is it possible to add a quarkus interceptor on a private method? I would like to log the time the method takes and want to use an interceptor i have for this purpose. It works fine on all public methods and doesn't on the private method.</p>\n"},{"tags":["java","swagger","jersey-2.0"],"comments":[{"owner":{"account_id":184628,"reputation":6754,"user_id":420797,"display_name":"fehguy"},"score":0,"creation_date":1451870761,"post_id":34543576,"comment_id":56912477,"body_markdown":"Hi, you&#39;ll need to provide a bit more information to this question.  What do your models look like?  Can you please post one in source?","body":"Hi, you&#39;ll need to provide a bit more information to this question.  What do your models look like?  Can you please post one in source?"}],"answers":[{"tags":[],"owner":{"account_id":184628,"reputation":6754,"user_id":420797,"display_name":"fehguy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451925662,"creation_date":1451925662,"answer_id":34595738,"question_id":34543576,"body_markdown":"OK thank you.  You are correct, the swagger introspector cannot follow the mapping by Jackson in this case.  You can add the `@ApiModelProperty(name = &quot;property_details&quot;)` annotation on each field to change the interpreted name by the swagger introspector.","title":"CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES not reflected in swagger.json","body":"<p>OK thank you.  You are correct, the swagger introspector cannot follow the mapping by Jackson in this case.  You can add the <code>@ApiModelProperty(name = \"property_details\")</code> annotation on each field to change the interpreted name by the swagger introspector.</p>\n"},{"tags":[],"owner":{"account_id":927500,"reputation":765,"user_id":957979,"accept_rate":93,"display_name":"cesaregb"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1479599797,"creation_date":1456680139,"answer_id":35685722,"question_id":34543576,"body_markdown":"Swagger doesnt use the Object Mapper you configure for the service. \r\nYou need to configure the swagger object mapper with something like: \r\n\r\n    ...\r\n    ApplicationConfig.initializeSwaggerConfiguration(); // call from app config\r\n    ...\r\n\r\n    /* Swagger configuratoin */\r\n    \t@PostConstruct\r\n    \tpublic static void initializeSwaggerConfiguration() {\r\n    \t\tBeanConfig beanConfig = new BeanConfig();\r\n    \t\tbeanConfig.setSchemes(new String[] { &quot;http&quot; });\r\n    \t\t\r\n    \t\tString host = PropertyHandler.getInstance().getValue(PARAM_API_HOST) + &quot;:&quot;\r\n    \t\t\t\t+ PropertyHandler.getInstance().getValue(PARAM_PORT);\r\n    \t\tbeanConfig.setHost(host);\r\n    \t\tbeanConfig.setBasePath(PropertyHandler.getInstance().getValue(PARAM_API_BASEPATH));\r\n    \t\tbeanConfig.setVersion(PropertyHandler.getInstance().getValue(PARAM_VERSION) + &quot; Profile: &quot; + App.getProfile());\r\n    \t\tbeanConfig.setTitle(&quot;SOD Services&quot;);\r\n    \t\tbeanConfig.setDescription(&quot;Services for handlign the be&quot;);\r\n    \t\tbeanConfig.setResourcePackage(SERVICES_PACKAGE);\r\n    \t\tbeanConfig.setScan(true);\r\n    \t\tJson.mapper().setPropertyNamingStrategy(PropertyNamingStrategy.CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES);\r\n    \t}\r\n\r\nWhen you configure the swagger, my understanding is that Swagger by default use this singleton to be used on swagger api. \r\n\r\nJust notice that your Swagger-ui make break because the &quot;basePath&quot; property change as well to &quot;lower_case_with_underscores&quot; as notice here: https://github.com/swagger-api/swagger-core/issues/947\r\n\r\n\r\nI hope this helps someone \r\nRegards\r\n","title":"CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES not reflected in swagger.json","body":"<p>Swagger doesnt use the Object Mapper you configure for the service. \nYou need to configure the swagger object mapper with something like: </p>\n\n<pre><code>...\nApplicationConfig.initializeSwaggerConfiguration(); // call from app config\n...\n\n/* Swagger configuratoin */\n    @PostConstruct\n    public static void initializeSwaggerConfiguration() {\n        BeanConfig beanConfig = new BeanConfig();\n        beanConfig.setSchemes(new String[] { \"http\" });\n\n        String host = PropertyHandler.getInstance().getValue(PARAM_API_HOST) + \":\"\n                + PropertyHandler.getInstance().getValue(PARAM_PORT);\n        beanConfig.setHost(host);\n        beanConfig.setBasePath(PropertyHandler.getInstance().getValue(PARAM_API_BASEPATH));\n        beanConfig.setVersion(PropertyHandler.getInstance().getValue(PARAM_VERSION) + \" Profile: \" + App.getProfile());\n        beanConfig.setTitle(\"SOD Services\");\n        beanConfig.setDescription(\"Services for handlign the be\");\n        beanConfig.setResourcePackage(SERVICES_PACKAGE);\n        beanConfig.setScan(true);\n        Json.mapper().setPropertyNamingStrategy(PropertyNamingStrategy.CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES);\n    }\n</code></pre>\n\n<p>When you configure the swagger, my understanding is that Swagger by default use this singleton to be used on swagger api. </p>\n\n<p>Just notice that your Swagger-ui make break because the \"basePath\" property change as well to \"lower_case_with_underscores\" as notice here: <a href=\"https://github.com/swagger-api/swagger-core/issues/947\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-core/issues/947</a></p>\n\n<p>I hope this helps someone \nRegards</p>\n"},{"tags":[],"owner":{"account_id":27800406,"reputation":1,"user_id":21224964,"display_name":"user21224964"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676991652,"creation_date":1676534345,"answer_id":75469307,"question_id":34543576,"body_markdown":"The annotation on the model helped me.\r\n\r\n```\r\n@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)\r\n```\r\n\r\n[baeldung.com/jackson-deserialize-snake-to-camel-case](https://www.baeldung.com/jackson-deserialize-snake-to-camel-case)","title":"CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES not reflected in swagger.json","body":"<p>The annotation on the model helped me.</p>\n<pre><code>@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy.class)\n</code></pre>\n<p><a href=\"https://www.baeldung.com/jackson-deserialize-snake-to-camel-case\" rel=\"nofollow noreferrer\">baeldung.com/jackson-deserialize-snake-to-camel-case</a></p>\n"}],"owner":{"account_id":7549025,"reputation":41,"user_id":5731138,"display_name":"Tamar Rosen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2237,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1676991652,"creation_date":1451551279,"question_id":34543576,"body_markdown":"I am using Jersey, Jax-rs and swagger (+ Spring for injection). My objects have some members and embedded objects with names that are composed of more than one word, and in code I use camelCase. \r\nI defined a resolver so they are emitted as underscore as per standard convention. The problem is that swagger apparently doesn&#39;t pick up this resolver, so that the objects still appear as camelCase in the swagger json. \r\n\r\nBelow are some details of my specific configuration:\r\n\r\nSnippets of my pom.xml:\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;springframework.version&gt;4.2.3.RELEASE&lt;/springframework.version&gt;\r\n    \t\t&lt;glassfish.jersey.version&gt;2.22.1&lt;/glassfish.jersey.version&gt;\r\n    \t&lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n......\r\n\r\n    &lt;!-- Jersey --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${glassfish.jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${glassfish.jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${glassfish.jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${glassfish.jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    &lt;!-- swagger documentation --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.swagger&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;swagger-jersey2-jaxrs&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.5.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n.....\r\n\r\n    &lt;/dependencies&gt;\r\n\r\nI am using annotations only, so my web.xml is empty and I have an AppInitializer class. The Swagger servlet is initialized in the class\r\n\r\n\r\n    public class AppInitializer implements WebApplicationInitializer {\r\n    \r\n    \tpublic void onStartup(ServletContext container) throws ServletException {\r\n    \r\n    \t\tAnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\r\n    \t\tctx.register(MongoDbConfig.class);\r\n    \t\tctx.register(CORSResponseFilter.class);\r\n    \t\tctx.setServletContext(container);\r\n    \t\t\r\n    \t\tcontainer.addListener(new ContextLoaderListener(ctx));\r\n    \t\tcontainer.addListener(new RequestContextListener());\r\n    \t\t\r\n    \t\tServletRegistration.Dynamic servlet = container.addServlet(&quot;jersey-servlet&quot;,\r\n    \t\t\t\tnew org.glassfish.jersey.servlet.ServletContainer());\r\n    \t\tservlet.setInitParameter(&quot;jersey.config.server.provider.packages&quot;, &quot;io.swagger.jaxrs.listing,com.my.server.config,com.my.server.resource&quot;);\r\n    \t\tservlet.setLoadOnStartup(1);\r\n    \t\tservlet.addMapping(&quot;/api/*&quot;);\r\n    \t\t\r\n    \t\tServletRegistration.Dynamic swagger = container.addServlet(&quot;SwaggerServlet&quot;,\r\n    \t\t\t\tnew io.swagger.jersey.config.JerseyJaxrsConfig());\r\n    \t\tswagger.setInitParameter(&quot;api.version&quot;, &quot;1.0.0&quot;);\r\n    \t\tswagger.setInitParameter(&quot;swagger.api.basepath&quot;, container.getContextPath()+&quot;/api&quot;);\r\n    \t\tswagger.setLoadOnStartup(2);\r\n    \t}\r\n    \r\n    }\r\n\r\nHere is my main model:\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    import javax.validation.constraints.NotNull;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    \r\n    import io.swagger.annotations.ApiModel;\r\n    \r\n    \r\n    /**\r\n     * @author Tamar Rosen\r\n     *\r\n     */\r\n    \r\n    \r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n    @ApiModel\r\n    public class Property implements Serializable{\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 1L;\t\r\n    \t\r\n    \tprivate String id;\r\n    \t\r\n    \t@NotNull\r\n    \tprivate String name;\r\n    \t\r\n    \t@NotNull\r\n    \tprivate String description;\r\n    \t\r\n    \tprivate PropertyDetails propertyDetails;\r\n    \t\r\n    \tprivate int monthlyTax;\r\n    \t\r\n    \tprivate String schemaUrl;\r\n    \r\n    \tpublic String getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(String id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \r\n    \tpublic PropertyDetails getPropertyDetails() {\r\n    \t\treturn propertyDetails;\r\n    \t}\r\n    \r\n    \tpublic void setPropertyDetails(PropertyDetails propertyDetails) {\r\n    \t\tthis.propertyDetails = propertyDetails;\r\n    \t}\r\n    \r\n    \tpublic int getMonthlyTax() {\r\n    \t\treturn monthlyTax;\r\n    \t}\r\n    \r\n    \tpublic void setMonthlyTax(int monthlyTax) {\r\n    \t\tthis.monthlyTax = monthlyTax;\r\n    \t}\r\n    \r\n    \tpublic String getSchemaUrl() {\r\n    \t\treturn schemaUrl;\r\n    \t}\r\n    \r\n    \tpublic void setSchemaUrl(String schemaUrl) {\r\n    \t\tthis.schemaUrl = schemaUrl;\r\n    \t}\r\n    \r\n    }\r\n\r\n \r\n\r\nThe CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES in set in a ContextResolver class. This works fine except that its not reflected in the doc generated by swagger. \r\n\r\nBelow is the ContextResolver implementation:\r\n\r\n        import javax.ws.rs.ext.ContextResolver;\r\n    import javax.ws.rs.ext.Provider;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.PropertyNamingStrategy;\r\n    \r\n    @Provider\r\n    public class ObjectMapperContextResolver implements ContextResolver&lt;ObjectMapper&gt; {\r\n    \r\n        private final ObjectMapper mapper;\r\n    \r\n        public ObjectMapperContextResolver() {\r\n            mapper = new ObjectMapper();\r\n            mapper.setPropertyNamingStrategy(\r\n                PropertyNamingStrategy.CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES\r\n            );\r\n        }\r\n    \r\n        public ObjectMapper getContext(Class&lt;?&gt; type) {\r\n            return mapper;\r\n        }\r\n    }\r\n\r\nI suspect the problem is that the swagger servlet doesn&#39;t see the Context resolver, but I don&#39;t know how to fix this problem \r\n\r\n\r\n\r\n\r\n","title":"CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES not reflected in swagger.json","body":"<p>I am using Jersey, Jax-rs and swagger (+ Spring for injection). My objects have some members and embedded objects with names that are composed of more than one word, and in code I use camelCase. \nI defined a resolver so they are emitted as underscore as per standard convention. The problem is that swagger apparently doesn't pick up this resolver, so that the objects still appear as camelCase in the swagger json. </p>\n\n<p>Below are some details of my specific configuration:</p>\n\n<p>Snippets of my pom.xml:</p>\n\n<pre><code>&lt;properties&gt;\n        &lt;springframework.version&gt;4.2.3.RELEASE&lt;/springframework.version&gt;\n        &lt;glassfish.jersey.version&gt;2.22.1&lt;/glassfish.jersey.version&gt;\n    &lt;/properties&gt;\n&lt;dependencies&gt;\n</code></pre>\n\n<p>......</p>\n\n<pre><code>&lt;!-- Jersey --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n            &lt;version&gt;${glassfish.jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;${glassfish.jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;${glassfish.jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${glassfish.jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;!-- swagger documentation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-jersey2-jaxrs&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>.....</p>\n\n<pre><code>&lt;/dependencies&gt;\n</code></pre>\n\n<p>I am using annotations only, so my web.xml is empty and I have an AppInitializer class. The Swagger servlet is initialized in the class</p>\n\n<pre><code>public class AppInitializer implements WebApplicationInitializer {\n\n    public void onStartup(ServletContext container) throws ServletException {\n\n        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();\n        ctx.register(MongoDbConfig.class);\n        ctx.register(CORSResponseFilter.class);\n        ctx.setServletContext(container);\n\n        container.addListener(new ContextLoaderListener(ctx));\n        container.addListener(new RequestContextListener());\n\n        ServletRegistration.Dynamic servlet = container.addServlet(\"jersey-servlet\",\n                new org.glassfish.jersey.servlet.ServletContainer());\n        servlet.setInitParameter(\"jersey.config.server.provider.packages\", \"io.swagger.jaxrs.listing,com.my.server.config,com.my.server.resource\");\n        servlet.setLoadOnStartup(1);\n        servlet.addMapping(\"/api/*\");\n\n        ServletRegistration.Dynamic swagger = container.addServlet(\"SwaggerServlet\",\n                new io.swagger.jersey.config.JerseyJaxrsConfig());\n        swagger.setInitParameter(\"api.version\", \"1.0.0\");\n        swagger.setInitParameter(\"swagger.api.basepath\", container.getContextPath()+\"/api\");\n        swagger.setLoadOnStartup(2);\n    }\n\n}\n</code></pre>\n\n<p>Here is my main model:</p>\n\n<pre><code>import java.io.Serializable;\n\nimport javax.validation.constraints.NotNull;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonInclude;\n\nimport io.swagger.annotations.ApiModel;\n\n\n/**\n * @author Tamar Rosen\n *\n */\n\n\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\n@ApiModel\npublic class Property implements Serializable{\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;    \n\n    private String id;\n\n    @NotNull\n    private String name;\n\n    @NotNull\n    private String description;\n\n    private PropertyDetails propertyDetails;\n\n    private int monthlyTax;\n\n    private String schemaUrl;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public PropertyDetails getPropertyDetails() {\n        return propertyDetails;\n    }\n\n    public void setPropertyDetails(PropertyDetails propertyDetails) {\n        this.propertyDetails = propertyDetails;\n    }\n\n    public int getMonthlyTax() {\n        return monthlyTax;\n    }\n\n    public void setMonthlyTax(int monthlyTax) {\n        this.monthlyTax = monthlyTax;\n    }\n\n    public String getSchemaUrl() {\n        return schemaUrl;\n    }\n\n    public void setSchemaUrl(String schemaUrl) {\n        this.schemaUrl = schemaUrl;\n    }\n\n}\n</code></pre>\n\n<p>The CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES in set in a ContextResolver class. This works fine except that its not reflected in the doc generated by swagger. </p>\n\n<p>Below is the ContextResolver implementation:</p>\n\n<pre><code>    import javax.ws.rs.ext.ContextResolver;\nimport javax.ws.rs.ext.Provider;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.PropertyNamingStrategy;\n\n@Provider\npublic class ObjectMapperContextResolver implements ContextResolver&lt;ObjectMapper&gt; {\n\n    private final ObjectMapper mapper;\n\n    public ObjectMapperContextResolver() {\n        mapper = new ObjectMapper();\n        mapper.setPropertyNamingStrategy(\n            PropertyNamingStrategy.CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES\n        );\n    }\n\n    public ObjectMapper getContext(Class&lt;?&gt; type) {\n        return mapper;\n    }\n}\n</code></pre>\n\n<p>I suspect the problem is that the swagger servlet doesn't see the Context resolver, but I don't know how to fix this problem </p>\n"},{"tags":["java","spring-boot","spring-webflux","flux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":3,"creation_date":1676991763,"post_id":75521728,"comment_id":133246154,"body_markdown":"you should not subscribe in your code unless you are the final consumer of the data. In your case, postman is the subscriber. So remove the subscribe, and instead return a `Mono` or a `Flux` all the way out to postman.","body":"you should not subscribe in your code unless you are the final consumer of the data. In your case, postman is the subscriber. So remove the subscribe, and instead return a <code>Mono</code> or a <code>Flux</code> all the way out to postman."}],"owner":{"account_id":27842176,"reputation":1,"user_id":21258449,"display_name":"Sonu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676991647,"creation_date":1676988971,"question_id":75521728,"body_markdown":"In the below code `responseMono.subscribe` is executing after getting the response in postman.\r\ndue to that response (List) is getting empty.  \r\n\r\n```java\r\npublic Mono&lt;List&lt;Response&gt;&gt; Sample() {\r\n    Mono&lt;List&lt;Response&gt;&gt; response = Mono.just(new ArrayList&lt;Response&gt;()); // webclient call post\r\n    Mono&lt;List&lt;Response&gt;&gt; tempresponse = getAppointment(requestBody);\r\n    response = response.flatMap(firstList -&gt; tempresponse.map(responseList -&gt; {\r\n        List&lt;Response&gt; combinedList = new ArrayList&lt;&gt;(firstList);\r\n        if (StringUtils.equals(responseList.get(0).getStatus(), &quot;inProgress&quot;)) {\r\n            Mono&lt;Response&gt; responseMono = getResponseInProgressStatus(&quot;/searchTimeSlot/00092492&quot;);// webclient getCall\r\n            responseMono.subscribe(response1 -&gt; {\r\n                Boolean b = combinedList.add(response1);\r\n            });\r\n        } else {\r\n            combinedList.addAll(responseList);\r\n        }\r\n        return combinedList;\r\n    }));\r\n    return response;\r\n}\r\n```\r\n\r\nExpectation are `responseMono.subscribe` should execute before getting the response in postman.\r\n ","title":"Getting response before subscribe mono in webclient rest call in java","body":"<p>In the below code <code>responseMono.subscribe</code> is executing after getting the response in postman.\ndue to that response (List) is getting empty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;List&lt;Response&gt;&gt; Sample() {\n    Mono&lt;List&lt;Response&gt;&gt; response = Mono.just(new ArrayList&lt;Response&gt;()); // webclient call post\n    Mono&lt;List&lt;Response&gt;&gt; tempresponse = getAppointment(requestBody);\n    response = response.flatMap(firstList -&gt; tempresponse.map(responseList -&gt; {\n        List&lt;Response&gt; combinedList = new ArrayList&lt;&gt;(firstList);\n        if (StringUtils.equals(responseList.get(0).getStatus(), &quot;inProgress&quot;)) {\n            Mono&lt;Response&gt; responseMono = getResponseInProgressStatus(&quot;/searchTimeSlot/00092492&quot;);// webclient getCall\n            responseMono.subscribe(response1 -&gt; {\n                Boolean b = combinedList.add(response1);\n            });\n        } else {\n            combinedList.addAll(responseList);\n        }\n        return combinedList;\n    }));\n    return response;\n}\n</code></pre>\n<p>Expectation are <code>responseMono.subscribe</code> should execute before getting the response in postman.</p>\n"},{"tags":["java","javac","java-9","java-platform-module-system"],"comments":[{"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1501235703,"post_id":45370178,"comment_id":77701260,"body_markdown":"@Tavo That question is about `--add-exports`. My question is about the combination of `--add-exports` and `--release` which makes it completely different.","body":"@Tavo That question is about <code>--add-exports</code>. My question is about the combination of <code>--add-exports</code> and <code>--release</code> which makes it completely different."},{"owner":{"account_id":5190889,"reputation":2147,"user_id":4153863,"display_name":"Stanislav Lukyanov"},"score":0,"creation_date":1501657439,"post_id":45370178,"comment_id":77868154,"body_markdown":"As correctly said by Michael Easter, this combination of options have been forbidden in javac, so it is now for IDEA devs to adjust their compiler invocation. I&#39;ve filed https://youtrack.jetbrains.com/issue/IDEA-176994 - hopefully, it will be fixed soon.","body":"As correctly said by Michael Easter, this combination of options have been forbidden in javac, so it is now for IDEA devs to adjust their compiler invocation. I&#39;ve filed <a href=\"https://youtrack.jetbrains.com/issue/IDEA-176994\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-176994</a> - hopefully, it will be fixed soon."},{"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1501669615,"post_id":45370178,"comment_id":77876562,"body_markdown":"@StanislavLukyanov Thank you for the bug report! I wanted to do it but had no chance and time.","body":"@StanislavLukyanov Thank you for the bug report! I wanted to do it but had no chance and time."},{"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1509986187,"post_id":45370178,"comment_id":81233099,"body_markdown":"@StanislavLukyanov I think this is fixed in IDEA. I just tried 2017.2.5 and everything worked.","body":"@StanislavLukyanov I think this is fixed in IDEA. I just tried 2017.2.5 and everything worked."}],"answers":[{"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1676991536,"creation_date":1501438741,"answer_id":45403134,"question_id":45370178,"body_markdown":"Due to [JDK-8178152][1] `--release` cannot be used in combination with `--add-exports`, `--add-reads`, and `--patch-module`. \r\n\r\nQuoting JDK-8178152:\r\n\r\n&gt; The overall proposal here is to get make --release 9 work consistently\r\n&gt; between JDK 9 and the (anticipated) JDK 10, even at the cost of a\r\n&gt; possible different behavior of commands like:  \r\n&gt; `$ &lt;jdk9&gt;/javac Test.java`  \r\n&gt; `$ &lt;jdk9&gt;/javac --release 9 Test.java`\r\n\r\nAlso:\r\n\r\n&gt; Which should be acceptable, given the intents of --release - allow to\r\n&gt; compile code using supported APIs for the given JDK release. \r\n&gt; \r\n&gt; In particular the proposal is to: \r\n&gt;\r\n&gt; [edit]\r\n&gt;\r\n&gt; -prevents use of --add-exports, -add-reads and --patch-module for system modules in combination with --release (any version)\r\n\r\n[Here][2] is the file diff that contains:\r\n\r\n&gt; exporting a package from system module {0} is not allowed with\r\n&gt; --release\r\n\r\nI can&#39;t comment on the rationale but from the above quote, it pertains to allowing JDK 9 to work consistently with JDK 10. \r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8178152\r\n  [2]: http://hg.openjdk.java.net/jdk9/jdk9/langtools/rev/77a2d6c1f321","title":"Exporting a package from system module is not allowed with --release","body":"<p>Due to <a href=\"https://bugs.openjdk.java.net/browse/JDK-8178152\" rel=\"nofollow noreferrer\">JDK-8178152</a> <code>--release</code> cannot be used in combination with <code>--add-exports</code>, <code>--add-reads</code>, and <code>--patch-module</code>.</p>\n<p>Quoting JDK-8178152:</p>\n<blockquote>\n<p>The overall proposal here is to get make --release 9 work consistently\nbetween JDK 9 and the (anticipated) JDK 10, even at the cost of a\npossible different behavior of commands like:<br />\n<code>$ &lt;jdk9&gt;/javac Test.java</code><br />\n<code>$ &lt;jdk9&gt;/javac --release 9 Test.java</code></p>\n</blockquote>\n<p>Also:</p>\n<blockquote>\n<p>Which should be acceptable, given the intents of --release - allow to\ncompile code using supported APIs for the given JDK release.</p>\n<p>In particular the proposal is to:</p>\n<p>[edit]</p>\n<p>-prevents use of --add-exports, -add-reads and --patch-module for system modules in combination with --release (any version)</p>\n</blockquote>\n<p><a href=\"http://hg.openjdk.java.net/jdk9/jdk9/langtools/rev/77a2d6c1f321\" rel=\"nofollow noreferrer\">Here</a> is the file diff that contains:</p>\n<blockquote>\n<p>exporting a package from system module {0} is not allowed with\n--release</p>\n</blockquote>\n<p>I can't comment on the rationale but from the above quote, it pertains to allowing JDK 9 to work consistently with JDK 10.</p>\n"},{"tags":[],"owner":{"account_id":4129643,"reputation":133,"user_id":4369547,"display_name":"xoric"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1554538322,"creation_date":1554538322,"answer_id":55547128,"question_id":45370178,"body_markdown":"If you are using IntelliJ idea, try checking your Java compiler settings:\r\n\r\nGo to the File menu -&gt; [Settings] -&gt; [Build, Execution, Deployment] -&gt; [Java Compiler] and check the setting &quot;Project bytecode version&quot;. I got a similar error (&quot;exporting a package from system module java.datatransfer is not allowed with --release&quot;) when using JDK 11 while this value was still set to version 9. Setting it to 11 fixed the problem for me.\r\n\r\n[![Screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P0oiq.png","title":"Exporting a package from system module is not allowed with --release","body":"<p>If you are using IntelliJ idea, try checking your Java compiler settings:</p>\n\n<p>Go to the File menu -> [Settings] -> [Build, Execution, Deployment] -> [Java Compiler] and check the setting \"Project bytecode version\". I got a similar error (\"exporting a package from system module java.datatransfer is not allowed with --release\") when using JDK 11 while this value was still set to version 9. Setting it to 11 fixed the problem for me.</p>\n\n<p><a href=\"https://i.stack.imgur.com/P0oiq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/P0oiq.png\" alt=\"Screenshot\"></a></p>\n"},{"tags":[],"owner":{"account_id":2517854,"reputation":91,"user_id":2188840,"display_name":"William Lam"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1556212196,"creation_date":1556209520,"answer_id":55853763,"question_id":45370178,"body_markdown":"use `-target` &amp; `-source` instead:\r\n\r\n    -target 11 -source 11","title":"Exporting a package from system module is not allowed with --release","body":"<p>use <code>-target</code> &amp; <code>-source</code> instead:</p>\n\n<pre><code>-target 11 -source 11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17421787,"reputation":31,"user_id":12627239,"display_name":"Sabbir Ahmed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602840650,"creation_date":1584905291,"answer_id":60803943,"question_id":45370178,"body_markdown":"Go to the File menu -&gt; [Settings] -&gt; [Build, Execution, Deployment] -&gt; [Java Compiler]\r\nand select your JDK version. (Make sure it is higher than JDK 11)\r\n\r\n![See the image below][1]\r\n\r\n  [1]: https://i.stack.imgur.com/oBJZV.jpg","title":"Exporting a package from system module is not allowed with --release","body":"<p>Go to the File menu -&gt; [Settings] -&gt; [Build, Execution, Deployment] -&gt; [Java Compiler]\nand select your JDK version. (Make sure it is higher than JDK 11)</p>\n<p><img src=\"https://i.stack.imgur.com/oBJZV.jpg\" alt=\"See the image below\" /></p>\n"},{"tags":[],"owner":{"account_id":18297926,"reputation":1,"user_id":13323449,"display_name":"ravi kumar sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587026680,"creation_date":1586972727,"answer_id":61235204,"question_id":45370178,"body_markdown":"If you are using InetlliJ Idea do this setting:\r\nGo to the File menu -&gt; [Settings] -&gt; [Build, Execution, Deployment] -&gt; [Java Compiler] and select your JDK version and sometimes this is empty so insert the java version like [if you use 11] and save, \r\nThen compile the program and run.","title":"Exporting a package from system module is not allowed with --release","body":"<p>If you are using InetlliJ Idea do this setting:\nGo to the File menu -> [Settings] -> [Build, Execution, Deployment] -> [Java Compiler] and select your JDK version and sometimes this is empty so insert the java version like [if you use 11] and save, \nThen compile the program and run.</p>\n"},{"tags":[],"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1636430011,"creation_date":1636430011,"answer_id":69892626,"question_id":45370178,"body_markdown":"If you are using IntelliJ, there is a better solution.\r\nJust uncheck the &quot;Use &#39;--release&#39; option&quot; checkbox in the Java compiler settings\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xybXv.png","title":"Exporting a package from system module is not allowed with --release","body":"<p>If you are using IntelliJ, there is a better solution.\nJust uncheck the &quot;Use '--release' option&quot; checkbox in the Java compiler settings\n<a href=\"https://i.stack.imgur.com/xybXv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xybXv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2744780,"reputation":785,"user_id":2365426,"display_name":"Mohamed Dernoun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674954175,"creation_date":1674954175,"answer_id":75271993,"question_id":45370178,"body_markdown":"In eclipse, uncheck the --release from the **project properties** and not from general settings\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I7Swp.png","title":"Exporting a package from system module is not allowed with --release","body":"<p>In eclipse, uncheck the --release from the <strong>project properties</strong> and not from general settings</p>\n<p><a href=\"https://i.stack.imgur.com/I7Swp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I7Swp.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29935,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":45403134,"answer_count":7,"score":23,"last_activity_date":1676991536,"creation_date":1501235223,"question_id":45370178,"body_markdown":"I have the following program:\r\n\r\n**module-info.java**\r\n\r\n    module a {\r\n    }\r\n\r\n**Main.java**\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(sun.nio.ByteBuffered.class);\r\n        }\r\n    }\r\n\r\nThis program successfully compiles with the `--add-exports` option:\r\n\r\n    &gt; javac --add-exports java.base/sun.nio=a module-info.java Main.java\r\n\r\nHowever, when I add the `--release` argument, it fails:\r\n\r\n    &gt; javac --add-exports java.base/sun.nio=a --release 9 module-info.java Main.java\r\n    error: exporting a package from system module java.base is not allowed with --release\r\n    1 error\r\n\r\nBasically, these two commands are equivalent. So why is the latter one forbidden?\r\n\r\nAlso, since IDEA passes the `--release` argument to javac, this makes the development in IDEA impossible if my project needs an internal API.\r\n\r\nI&#39;m using JDK 9+178.","title":"Exporting a package from system module is not allowed with --release","body":"<p>I have the following program:</p>\n\n<p><strong>module-info.java</strong></p>\n\n<pre><code>module a {\n}\n</code></pre>\n\n<p><strong>Main.java</strong></p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(sun.nio.ByteBuffered.class);\n    }\n}\n</code></pre>\n\n<p>This program successfully compiles with the <code>--add-exports</code> option:</p>\n\n<pre><code>&gt; javac --add-exports java.base/sun.nio=a module-info.java Main.java\n</code></pre>\n\n<p>However, when I add the <code>--release</code> argument, it fails:</p>\n\n<pre><code>&gt; javac --add-exports java.base/sun.nio=a --release 9 module-info.java Main.java\nerror: exporting a package from system module java.base is not allowed with --release\n1 error\n</code></pre>\n\n<p>Basically, these two commands are equivalent. So why is the latter one forbidden?</p>\n\n<p>Also, since IDEA passes the <code>--release</code> argument to javac, this makes the development in IDEA impossible if my project needs an internal API.</p>\n\n<p>I'm using JDK 9+178.</p>\n"},{"tags":["java","windows","windows-10"],"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1495546577,"post_id":44136342,"comment_id":75291287,"body_markdown":"A bit outdated, but I think those are still valid answers... [https://stackoverflow.com/q/2896610/1759845](https://stackoverflow.com/q/2896610/1759845)","body":"A bit outdated, but I think those are still valid answers... <a href=\"https://stackoverflow.com/q/2896610/1759845\">https://stackoverflow.com/q/2896610/1759845</a>"},{"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"score":0,"creation_date":1495546648,"post_id":44136342,"comment_id":75291329,"body_markdown":"I don&#39;t know which registry setting it is, but it&#39;ll be one of them: https://stackoverflow.com/questions/62289/read-write-to-windows-registry-using-java","body":"I don&#39;t know which registry setting it is, but it&#39;ll be one of them: <a href=\"https://stackoverflow.com/questions/62289/read-write-to-windows-registry-using-java\" title=\"read write to windows registry using java\">stackoverflow.com/questions/62289/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10085366,"reputation":1994,"user_id":7454177,"accept_rate":100,"display_name":"creyD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495561977,"creation_date":1495547144,"answer_id":44136634,"question_id":44136342,"body_markdown":"As pointed out in the discussion beneath, the solution using the registry values isn&#180;t good at all and will most likely not work. You shouldn&#180;t read the registry as it is for storage of those values for windows only. A more programmable interface would be the shell where you can get the same info by typing `SHGet*Folder*`. This function is documented [here][1]\r\n\r\nThanks to @Anders and @IInspectable who mentioned this.\r\n\r\nIn the beginning I got this all wrong because the solution I suggested first worked on my PC, so I thought it would be alright. As it turned out this was only a coincidence.\r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/windows/desktop/bb762181(v=vs.85).aspx","title":"How do I get the Users Music Directory?","body":"<p>As pointed out in the discussion beneath, the solution using the registry values isn´t good at all and will most likely not work. You shouldn´t read the registry as it is for storage of those values for windows only. A more programmable interface would be the shell where you can get the same info by typing <code>SHGet*Folder*</code>. This function is documented <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb762181(v=vs.85).aspx\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Thanks to @Anders and @IInspectable who mentioned this.</p>\n\n<p>In the beginning I got this all wrong because the solution I suggested first worked on my PC, so I thought it would be alright. As it turned out this was only a coincidence.</p>\n"},{"tags":[],"owner":{"account_id":2513,"reputation":98324,"user_id":3501,"accept_rate":30,"display_name":"Anders"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676991493,"creation_date":1495582440,"answer_id":44146651,"question_id":44136342,"body_markdown":"The correct way to get the path to special folders on Windows is to call a shell function like [`SHGetFolderPath`][1] with the `CSIDL_*` constants (`CSIDL_MYMUSIC` in your case). \r\n\r\nYou need to use JNI or JNA in Java to do this. Examples can be found [here][2] and [here][3].\r\n\r\nAnd for completeness, reading from the registry is [not the correct way][4] to do this...\r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/windows/desktop/bb762181(v=vs.85).aspx\r\n  [2]: https://stackoverflow.com/a/586917/3501\r\n  [3]: http://www.rgagnon.com/javadetails/java-get-windows-special-folders-using-jna.html\r\n  [4]: https://web.archive.org/web/20160802184740/https://blogs.msdn.microsoft.com/oldnewthing/20031103-00/?p=41973","title":"How do I get the Users Music Directory?","body":"<p>The correct way to get the path to special folders on Windows is to call a shell function like <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb762181(v=vs.85).aspx\" rel=\"nofollow noreferrer\"><code>SHGetFolderPath</code></a> with the <code>CSIDL_*</code> constants (<code>CSIDL_MYMUSIC</code> in your case).</p>\n<p>You need to use JNI or JNA in Java to do this. Examples can be found <a href=\"https://stackoverflow.com/a/586917/3501\">here</a> and <a href=\"http://www.rgagnon.com/javadetails/java-get-windows-special-folders-using-jna.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>And for completeness, reading from the registry is <a href=\"https://web.archive.org/web/20160802184740/https://blogs.msdn.microsoft.com/oldnewthing/20031103-00/?p=41973\" rel=\"nofollow noreferrer\">not the correct way</a> to do this...</p>\n"}],"owner":{"account_id":5977403,"reputation":38,"user_id":4697764,"display_name":"Georg Grubner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44146651,"answer_count":2,"score":1,"last_activity_date":1676991493,"creation_date":1495546373,"question_id":44136342,"body_markdown":"It is possible to change the Users Music, Pictures etc Directory. For this, go to your Windows Explorer, Right-Click on &quot;Music&quot; and go to Path.\r\n\r\n![German Screenshot][1]\r\n\r\nHere you can see, that I have my Music moved to an other hard disk.\r\n\r\nNow the Question: How can I get this Directory in Java?\r\n\r\nBecause `System.getProperty(&quot;user.home&quot;).concat(&quot;\\\\Music&quot;)` leads to &quot;C:\\Users\\GG\\Music&quot; and not to &quot;D:\\GG\\Music&quot;.\r\n\r\n\r\n**UPDATE:**\r\n\r\nas answered by [Anders][2]:\r\n\r\nThe way that worked for me were the following 3 lines of code:\r\n\r\n    char[] pszPath = new char[WinDef.MAX_PATH];\r\n    Shell32.INSTANCE.SHGetFolderPath(null, ShlObj.CSIDL_MYMUSIC, null, ShlObj.SHGFP_TYPE_CURRENT, pszPath);\r\n    File f = new File(String.valueOf(pszPath).trim());\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fUWyt.png\r\n  [2]: https://stackoverflow.com/a/44146651/4697764","title":"How do I get the Users Music Directory?","body":"<p>It is possible to change the Users Music, Pictures etc Directory. For this, go to your Windows Explorer, Right-Click on \"Music\" and go to Path.</p>\n\n<p><img src=\"https://i.stack.imgur.com/fUWyt.png\" alt=\"German Screenshot\"></p>\n\n<p>Here you can see, that I have my Music moved to an other hard disk.</p>\n\n<p>Now the Question: How can I get this Directory in Java?</p>\n\n<p>Because <code>System.getProperty(\"user.home\").concat(\"\\\\Music\")</code> leads to \"C:\\Users\\GG\\Music\" and not to \"D:\\GG\\Music\".</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>as answered by <a href=\"https://stackoverflow.com/a/44146651/4697764\">Anders</a>:</p>\n\n<p>The way that worked for me were the following 3 lines of code:</p>\n\n<pre><code>char[] pszPath = new char[WinDef.MAX_PATH];\nShell32.INSTANCE.SHGetFolderPath(null, ShlObj.CSIDL_MYMUSIC, null, ShlObj.SHGFP_TYPE_CURRENT, pszPath);\nFile f = new File(String.valueOf(pszPath).trim());\n</code></pre>\n"},{"tags":["java","android","okhttp"],"answers":[{"tags":[],"owner":{"account_id":5413096,"reputation":585,"user_id":4309170,"display_name":"Han"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487422185,"creation_date":1487418453,"answer_id":42314728,"question_id":42314652,"body_markdown":"Putting a &#39;/&#39; at the end of URL causes the redirect to happen because your server likes urls that end in &#39;/&#39;. POST is fully supported by the URL your server redirects you to, but the client is executing a GET request when it behaves according to your setRedirecting() call (cURL does the same exact thing with the -L switch) The fix is to either put a &#39;/&#39; at the end of URL, or to grab the Location header from the response yourself and then initiate another POST request manually.\r\n\r\nThis can be observed in wireshark. You can test the theory by trying to perform a GET request with your browser to the URL with a slash appended to it. That will cause the browser to get a 405. Here&#39;s the fixed code for Android, this code uses the simple fix of appending a &#39;/&#39; to the URL (not production ready):\r\n\r\nRead more from [here.][1]\r\n\r\nDo let me know if this helps :)\r\n\r\nAdditionally, try using this piece of code:\r\n\r\n    public void postData() {\r\n    // Create a new HttpClient and Post Header\r\n    HttpClient httpclient = new DefaultHttpClient();\r\n    HttpPost httppost = new HttpPost(&quot;https://your URL&quot;);\r\n\r\n    try {\r\n        // Add your data\r\n        List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;(2);\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;id&quot;, &quot;12345&quot;));\r\n        nameValuePairs.add(new BasicNameValuePair(&quot;stringdata&quot;, &quot;Hi&quot;));\r\n        httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n\r\n        // Execute HTTP Post Request\r\n        HttpResponse response = httpclient.execute(httppost);\r\n\r\n    } catch (ClientProtocolException e) {\r\n        // TODO Auto-generated catch block\r\n    } catch (IOException e) {\r\n        // TODO Auto-generated catch block\r\n    }\r\n    } \r\n\r\n  [1]: https://stackoverflow.com/a/6604491/6715557","title":"I tried from POSTMAN API working fine but not from my Java code?","body":"<p>Putting a '/' at the end of URL causes the redirect to happen because your server likes urls that end in '/'. POST is fully supported by the URL your server redirects you to, but the client is executing a GET request when it behaves according to your setRedirecting() call (cURL does the same exact thing with the -L switch) The fix is to either put a '/' at the end of URL, or to grab the Location header from the response yourself and then initiate another POST request manually.</p>\n\n<p>This can be observed in wireshark. You can test the theory by trying to perform a GET request with your browser to the URL with a slash appended to it. That will cause the browser to get a 405. Here's the fixed code for Android, this code uses the simple fix of appending a '/' to the URL (not production ready):</p>\n\n<p>Read more from <a href=\"https://stackoverflow.com/a/6604491/6715557\">here.</a></p>\n\n<p>Do let me know if this helps :)</p>\n\n<p>Additionally, try using this piece of code:</p>\n\n<pre><code>public void postData() {\n// Create a new HttpClient and Post Header\nHttpClient httpclient = new DefaultHttpClient();\nHttpPost httppost = new HttpPost(\"https://your URL\");\n\ntry {\n    // Add your data\n    List&lt;NameValuePair&gt; nameValuePairs = new ArrayList&lt;NameValuePair&gt;(2);\n    nameValuePairs.add(new BasicNameValuePair(\"id\", \"12345\"));\n    nameValuePairs.add(new BasicNameValuePair(\"stringdata\", \"Hi\"));\n    httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\n\n    // Execute HTTP Post Request\n    HttpResponse response = httpclient.execute(httppost);\n\n} catch (ClientProtocolException e) {\n    // TODO Auto-generated catch block\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n}\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4214752,"reputation":2537,"user_id":3451344,"display_name":"Sangeet Suresh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487423651,"creation_date":1487423651,"answer_id":42315614,"question_id":42314652,"body_markdown":"Your API call is reciveving data in GET parameter. So data should send along with url as given below\r\n\r\n\r\n                String postData = Uri.encode(&quot;key1=valu1&amp;key2=valu2&quot;);\r\n                URL url = new URL(&quot;sample url&quot;+&quot;?+postData);\r\n","title":"I tried from POSTMAN API working fine but not from my Java code?","body":"<p>Your API call is reciveving data in GET parameter. So data should send along with url as given below</p>\n\n<pre><code>            String postData = Uri.encode(\"key1=valu1&amp;key2=valu2\");\n            URL url = new URL(\"sample url\"+\"?+postData);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2247164,"reputation":21,"user_id":1980255,"display_name":"Arjan van IJzendoorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676991387,"creation_date":1676991387,"answer_id":75522196,"question_id":42314652,"body_markdown":"I just had a similar problem with the `HttpClient` in Java. The solution was to specify the HTTP version explicitly:\r\n\r\n    HttpClient.newBuilder()\r\n                .version(HttpClient.Version.HTTP_1_1)\r\n                .build();\r\n\r\nNow my requests returns the same result as through Postman.","title":"I tried from POSTMAN API working fine but not from my Java code?","body":"<p>I just had a similar problem with the <code>HttpClient</code> in Java. The solution was to specify the HTTP version explicitly:</p>\n<pre><code>HttpClient.newBuilder()\n            .version(HttpClient.Version.HTTP_1_1)\n            .build();\n</code></pre>\n<p>Now my requests returns the same result as through Postman.</p>\n"}],"owner":{"account_id":3845739,"reputation":6759,"user_id":3187349,"accept_rate":56,"display_name":"Maheshwar Ligade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13350,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1676991387,"creation_date":1487417980,"question_id":42314652,"body_markdown":"Please I have gone through all the question from stackoverflow, but those are not applicable to my problem.\r\n\r\n[![enter image description here][1]][1]\r\nPlease have look in image request working fine from `POSTMAN`.\r\n\r\n  [1]: https://i.stack.imgur.com/wrrOq.png\r\n\r\nBut When I tried from `android` code it is not working.\r\nMy Sample Android code is here.\r\n\r\n \r\n\r\n    @Override\r\n            protected String doInBackground(Void... params) {\r\n                HttpURLConnection urlConnection = null;\r\n                BufferedReader reader = null;\r\n    \r\n                // Will contain the raw JSON response as a string.\r\n                String forecastJsonStr = null;\r\n    \r\n                try {\r\n                    URL url = new URL(&quot;sample url&quot;);\r\n    \r\n                    String postData = &quot;key1=valu1&amp;key2=valu2&quot;;\r\n    \r\n                    HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n                    conn.setReadTimeout(55000 /* milliseconds */);\r\n                    conn.setConnectTimeout(55000 /* milliseconds */);\r\n                    conn.setRequestMethod(&quot;POST&quot;);\r\n                    conn.setDoInput(true);\r\n                    conn.setDoOutput(true);\r\n                    OutputStream os = conn.getOutputStream();\r\n                    BufferedWriter writer = new BufferedWriter(\r\n                            new OutputStreamWriter(os));\r\n                    writer.write(postData);\r\n    \r\n                    writer.flush();\r\n                    writer.close();\r\n                    os.close();\r\n    \r\n                    int responseCode=conn.getResponseCode();\r\n    \r\n                    if (responseCode == HttpsURLConnection.HTTP_OK) {\r\n    \r\n                        BufferedReader in=new BufferedReader(\r\n                                new InputStreamReader(\r\n                                        conn.getInputStream()));\r\n                        StringBuffer sb = new StringBuffer(&quot;&quot;);\r\n                        String line=&quot;&quot;;\r\n    \r\n                        while((line = in.readLine()) != null) {\r\n                            Log.e(&quot;response &quot;,line);\r\n                            sb.append(line);\r\n                            break;\r\n                        }\r\n    \r\n                        in.close();\r\n                        return sb.toString();\r\n    \r\n                    }\r\n                    else {\r\n                        return new String(&quot;false : &quot;+responseCode);\r\n                    }\r\n                } catch (Exception e) {\r\n                    Log.e(&quot;PlaceholderFragment&quot;, &quot;Error &quot;, e);\r\n                    // If the code didn&#39;t successfully get the weather data, there&#39;s no point in attemping\r\n                    // to parse it.\r\n                    return null;\r\n                } finally {\r\n                    if (urlConnection != null) {\r\n                        urlConnection.disconnect();\r\n                    }\r\n                    if (reader != null) {\r\n                        try {\r\n                            reader.close();\r\n                        } catch (final IOException e) {\r\n                           \r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\nAbove  java code return 405 error code. I also tried from `OkHttp` also.\r\nPlease help.","title":"I tried from POSTMAN API working fine but not from my Java code?","body":"<p>Please I have gone through all the question from stackoverflow, but those are not applicable to my problem.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wrrOq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wrrOq.png\" alt=\"enter image description here\"></a>\nPlease have look in image request working fine from <code>POSTMAN</code>.</p>\n\n<p>But When I tried from <code>android</code> code it is not working.\nMy Sample Android code is here.</p>\n\n<pre><code>@Override\n        protected String doInBackground(Void... params) {\n            HttpURLConnection urlConnection = null;\n            BufferedReader reader = null;\n\n            // Will contain the raw JSON response as a string.\n            String forecastJsonStr = null;\n\n            try {\n                URL url = new URL(\"sample url\");\n\n                String postData = \"key1=valu1&amp;key2=valu2\";\n\n                HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n                conn.setReadTimeout(55000 /* milliseconds */);\n                conn.setConnectTimeout(55000 /* milliseconds */);\n                conn.setRequestMethod(\"POST\");\n                conn.setDoInput(true);\n                conn.setDoOutput(true);\n                OutputStream os = conn.getOutputStream();\n                BufferedWriter writer = new BufferedWriter(\n                        new OutputStreamWriter(os));\n                writer.write(postData);\n\n                writer.flush();\n                writer.close();\n                os.close();\n\n                int responseCode=conn.getResponseCode();\n\n                if (responseCode == HttpsURLConnection.HTTP_OK) {\n\n                    BufferedReader in=new BufferedReader(\n                            new InputStreamReader(\n                                    conn.getInputStream()));\n                    StringBuffer sb = new StringBuffer(\"\");\n                    String line=\"\";\n\n                    while((line = in.readLine()) != null) {\n                        Log.e(\"response \",line);\n                        sb.append(line);\n                        break;\n                    }\n\n                    in.close();\n                    return sb.toString();\n\n                }\n                else {\n                    return new String(\"false : \"+responseCode);\n                }\n            } catch (Exception e) {\n                Log.e(\"PlaceholderFragment\", \"Error \", e);\n                // If the code didn't successfully get the weather data, there's no point in attemping\n                // to parse it.\n                return null;\n            } finally {\n                if (urlConnection != null) {\n                    urlConnection.disconnect();\n                }\n                if (reader != null) {\n                    try {\n                        reader.close();\n                    } catch (final IOException e) {\n\n                    }\n                }\n            }\n        }\n</code></pre>\n\n<p>Above  java code return 405 error code. I also tried from <code>OkHttp</code> also.\nPlease help.</p>\n"},{"tags":["java","equals"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1676989821,"post_id":75521849,"comment_id":133245405,"body_markdown":"Considering that the body of `Object::equals` is just `return (this == obj);`, calling `super.equals` instead seems pointless.","body":"Considering that the body of <code>Object::equals</code> is just <code>return (this == obj);</code>, calling <code>super.equals</code> instead seems pointless."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1676990018,"post_id":75521849,"comment_id":133245489,"body_markdown":"The default implementation of equals returns pointer equality (meaning either it&#39;s the same instance, or it&#39;s not equal). Usually equals (and hashCode together) are overridden as you show to provide functional equality, meaning for example two different instances that have the same data are considered to be equal, to then leverage such functional equality on data structures like hash tables. Of course the overriden equals is (slightly) less performant but it is functionally completely different from the pointer equality","body":"The default implementation of equals returns pointer equality (meaning either it&#39;s the same instance, or it&#39;s not equal). Usually equals (and hashCode together) are overridden as you show to provide functional equality, meaning for example two different instances that have the same data are considered to be equal, to then leverage such functional equality on data structures like hash tables. Of course the overriden equals is (slightly) less performant but it is functionally completely different from the pointer equality"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1676990086,"post_id":75521849,"comment_id":133245519,"body_markdown":"Does this answer your question? [Why do I need to override the equals and hashCode methods in Java?](https://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java\">Why do I need to override the equals and hashCode methods in Java?</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1676990088,"post_id":75521849,"comment_id":133245522,"body_markdown":"And before you think about performance, think about what other coders expect. My first instinct when reading the version with the call to `super.equals` would be to double check whether the class inherits from another class, wasting *my* time rather than CPU time.","body":"And before you think about performance, think about what other coders expect. My first instinct when reading the version with the call to <code>super.equals</code> would be to double check whether the class inherits from another class, wasting <i>my</i> time rather than CPU time."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1676990264,"post_id":75521849,"comment_id":133245581,"body_markdown":"&quot;if you redefine the equals method in a subclass, use super.equals(other).&quot; This is really bad advice: equals is _hard_ to define correctly across a hierarchy of types. For example, equals needs to be symmetrical; but `parent.equals(child)` is not necessarily equal to `child.equals(parent)`, because the child equals may test additional properties that only exist on the child class. And you can&#39;t say &quot;oh, if you&#39;re comparing a child and parent class, only consider properties of the parent class&quot;, because you then potentially invalidate transitivity.","body":"&quot;if you redefine the equals method in a subclass, use super.equals(other).&quot; This is really bad advice: equals is <i>hard</i> to define correctly across a hierarchy of types. For example, equals needs to be symmetrical; but <code>parent.equals(child)</code> is not necessarily equal to <code>child.equals(parent)</code>, because the child equals may test additional properties that only exist on the child class. And you can&#39;t say &quot;oh, if you&#39;re comparing a child and parent class, only consider properties of the parent class&quot;, because you then potentially invalidate transitivity."}],"answers":[{"tags":[],"owner":{"account_id":388928,"reputation":2941,"user_id":3692110,"display_name":"erosb"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676990070,"creation_date":1676990070,"answer_id":75521937,"question_id":75521849,"body_markdown":"`if (super.equals(o)) return true;` that doesn&#39;t make much sense, just use the `==` version.\r\n\r\nNote: you can test the correctness of your hashCode() - equals() implementations using the [equalsverifier library][1].\r\n\r\n\r\n  [1]: https://jqno.nl/equalsverifier/","title":"How to properly define method equals()?","body":"<p><code>if (super.equals(o)) return true;</code> that doesn't make much sense, just use the <code>==</code> version.</p>\n<p>Note: you can test the correctness of your hashCode() - equals() implementations using the <a href=\"https://jqno.nl/equalsverifier/\" rel=\"nofollow noreferrer\">equalsverifier library</a>.</p>\n"},{"tags":[],"owner":{"account_id":26646454,"reputation":11,"user_id":20261329,"display_name":"Ma&#235;l"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676990414,"creation_date":1676990414,"answer_id":75522010,"question_id":75521849,"body_markdown":"By default, `equals()` refers to the method from Object class, however your book means that if you work with a child and a parent class which overrides the `equals()` method, you should use `super.equals()` to call the function redefined in the parent element.","title":"How to properly define method equals()?","body":"<p>By default, <code>equals()</code> refers to the method from Object class, however your book means that if you work with a child and a parent class which overrides the <code>equals()</code> method, you should use <code>super.equals()</code> to call the function redefined in the parent element.</p>\n"},{"tags":[],"owner":{"account_id":3533020,"reputation":3091,"user_id":2952011,"accept_rate":80,"display_name":"Mukit09"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1676991248,"creation_date":1676990627,"answer_id":75522049,"question_id":75521849,"body_markdown":"It actually depends on the requirement. I&#39;m elaborating. \r\n\r\nSuppose, your requirement is to be equal with another object, parents needed to be equal as well, you should use \r\n\r\n    if (super.equals(o)) return true;\r\n\r\nThe topmost class in the inheritance tree will use \r\n\r\n    if (this == o) return true;\r\n\r\nthen. Though, if you keep the same as its child class, it will call the Object class&#39;s equals() which checks reference, so still same output with another extra calling.\r\n\r\nHere instead of calling parent class equals() you could compare parent class fields directly in the subclass. But think that, in the future, if your business doesn&#39;t need some field from the parent class, and tells you that to remove that field from the parent class, you will need to delete it in subclasses as well. So to reduce that extra coding, better don&#39;t use the parent class field in the subclass&#39;s equals() method to compare equality. \r\n\r\nBut if the requirement is just a specific class needs to be considered to get equality, then you can use \r\n\r\n    if (this == o) return true;\r\nwithout any problem. ","title":"How to properly define method equals()?","body":"<p>It actually depends on the requirement. I'm elaborating.</p>\n<p>Suppose, your requirement is to be equal with another object, parents needed to be equal as well, you should use</p>\n<pre><code>if (super.equals(o)) return true;\n</code></pre>\n<p>The topmost class in the inheritance tree will use</p>\n<pre><code>if (this == o) return true;\n</code></pre>\n<p>then. Though, if you keep the same as its child class, it will call the Object class's equals() which checks reference, so still same output with another extra calling.</p>\n<p>Here instead of calling parent class equals() you could compare parent class fields directly in the subclass. But think that, in the future, if your business doesn't need some field from the parent class, and tells you that to remove that field from the parent class, you will need to delete it in subclasses as well. So to reduce that extra coding, better don't use the parent class field in the subclass's equals() method to compare equality.</p>\n<p>But if the requirement is just a specific class needs to be considered to get equality, then you can use</p>\n<pre><code>if (this == o) return true;\n</code></pre>\n<p>without any problem.</p>\n"}],"owner":{"account_id":27842488,"reputation":15,"user_id":21258697,"display_name":"JavaStudent001"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676993187,"accepted_answer_id":75522049,"answer_count":3,"score":0,"last_activity_date":1676991248,"creation_date":1676989614,"question_id":75521849,"body_markdown":"I&#39;m learning Java language and I have one question for you.\r\n\r\nFor example:\r\nI have a class Employee like this:\r\n\r\n\r\n```\r\npublic class Employee {\r\n\r\n    private int id;\r\n    private String name;\r\n\r\n    public Employee(int id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nSo I should write method equals() like:\r\n\r\n```\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Employee employee = (Employee) o;\r\n        return id == employee.id &amp;&amp; Objects.equals(name, employee.name);\r\n    }\r\n```\r\n\r\nor\r\n\r\n```\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (super.equals(o)) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Employee employee = (Employee) o;\r\n        return id == employee.id &amp;&amp; Objects.equals(name, employee.name);\r\n    }\r\n```\r\n\r\nMy book says:\r\n&gt; if you redefine the equals method in a subclass, use super.equals(other).\r\n\r\nbut all classes extends Object class so which version of this method is better? I think that the first option will be faster (CPU). And the first method is the most popular, but why?","title":"How to properly define method equals()?","body":"<p>I'm learning Java language and I have one question for you.</p>\n<p>For example:\nI have a class Employee like this:</p>\n<pre><code>public class Employee {\n\n    private int id;\n    private String name;\n\n    public Employee(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<p>So I should write method equals() like:</p>\n<pre><code>    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Employee employee = (Employee) o;\n        return id == employee.id &amp;&amp; Objects.equals(name, employee.name);\n    }\n</code></pre>\n<p>or</p>\n<pre><code>    @Override\n    public boolean equals(Object o) {\n        if (super.equals(o)) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Employee employee = (Employee) o;\n        return id == employee.id &amp;&amp; Objects.equals(name, employee.name);\n    }\n</code></pre>\n<p>My book says:</p>\n<blockquote>\n<p>if you redefine the equals method in a subclass, use super.equals(other).</p>\n</blockquote>\n<p>but all classes extends Object class so which version of this method is better? I think that the first option will be faster (CPU). And the first method is the most popular, but why?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-mirrormaker"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676991136,"creation_date":1676991136,"answer_id":75522154,"question_id":75511943,"body_markdown":"To my knowledge, MM2 was written without any Zookeeper API in mind, as there were already talks about removing Zookeeper completely when it was developed, so there was no reason to add functions for it.\r\n\r\nIn fact, I&#39;m not even sure it&#39;ll work on Kafka clusters less than approx 0.10.2, as it uses other metadata to sync topic information using AdminClient API and record timestamps (and possibly headers, added in 0.11)","title":"Does MirrorMaker2 replicates offset that are stored in zookeeper storage?","body":"<p>To my knowledge, MM2 was written without any Zookeeper API in mind, as there were already talks about removing Zookeeper completely when it was developed, so there was no reason to add functions for it.</p>\n<p>In fact, I'm not even sure it'll work on Kafka clusters less than approx 0.10.2, as it uses other metadata to sync topic information using AdminClient API and record timestamps (and possibly headers, added in 0.11)</p>\n"}],"owner":{"account_id":3512151,"reputation":3433,"user_id":2936216,"accept_rate":47,"display_name":"Jaya Ananthram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75522154,"answer_count":1,"score":0,"last_activity_date":1676991136,"creation_date":1676911013,"question_id":75511943,"body_markdown":"I am having Kafka consumer (zookeeper based) with client version `0.8.1.1` which uses zookeeper as offset storage (consuming from Kafka cluster `1.0.1`). Now, I want to replicate the messages and offsets (that are stored in zookeeper) to a new Kafka cluster `2.8.0` using MirrorMaker2. But I need the replicated offsets to store in Kafka storage instead of zookeeper storage. From my testing, I found that MirrorMaker2 is not replicating the offsets that are stored in zookeeper storage but it does only if it is stored in Kafka storage. \r\n\r\nOne of the options is to upgrade the consumer to `0.8.2.x` and set `dual.commit.enabled` to `True` so that MirrorMaker2 can replicate the offset from Kafka storage to Kafka storage. But for some reason, I would like to avoid this due to technical limitations. \r\n\r\nIs there any config or workaround to achieve the use case to migrate the offset from zookeeper storage to Kafka storage using MirrorMaker2?&#160;","title":"Does MirrorMaker2 replicates offset that are stored in zookeeper storage?","body":"<p>I am having Kafka consumer (zookeeper based) with client version <code>0.8.1.1</code> which uses zookeeper as offset storage (consuming from Kafka cluster <code>1.0.1</code>). Now, I want to replicate the messages and offsets (that are stored in zookeeper) to a new Kafka cluster <code>2.8.0</code> using MirrorMaker2. But I need the replicated offsets to store in Kafka storage instead of zookeeper storage. From my testing, I found that MirrorMaker2 is not replicating the offsets that are stored in zookeeper storage but it does only if it is stored in Kafka storage.</p>\n<p>One of the options is to upgrade the consumer to <code>0.8.2.x</code> and set <code>dual.commit.enabled</code> to <code>True</code> so that MirrorMaker2 can replicate the offset from Kafka storage to Kafka storage. But for some reason, I would like to avoid this due to technical limitations.</p>\n<p>Is there any config or workaround to achieve the use case to migrate the offset from zookeeper storage to Kafka storage using MirrorMaker2? </p>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1676988575,"post_id":75521608,"comment_id":133244930,"body_markdown":"Your query, as your image as well as the error is telling you , returns more then 1 `Order`. Your method signature is returning `Order` which is for 1 row, you have 21 rows, how should that be shoehorned into 1 order? Instead return a `List&lt;Order&gt;` to obtain all the orders for a customer.","body":"Your query, as your image as well as the error is telling you , returns more then 1 <code>Order</code>. Your method signature is returning <code>Order</code> which is for 1 row, you have 21 rows, how should that be shoehorned into 1 order? Instead return a <code>List&lt;Order&gt;</code> to obtain all the orders for a customer."},{"owner":{"account_id":26344704,"reputation":28,"user_id":20003268,"display_name":"sarah6"},"score":0,"creation_date":1676988836,"post_id":75521608,"comment_id":133245039,"body_markdown":"i tried to make it as List&lt;Order&gt; but it did not work, maybe i wrote it wrong","body":"i tried to make it as List&lt;Order&gt; but it did not work, maybe i wrote it wrong"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676989078,"post_id":75521608,"comment_id":133245126,"body_markdown":"You changed it where? Please update your question, with the modified code and (if any) error (preferably the **full stacktrace**)","body":"You changed it where? Please update your question, with the modified code and (if any) error (preferably the <b>full stacktrace</b>)"},{"owner":{"account_id":26344704,"reputation":28,"user_id":20003268,"display_name":"sarah6"},"score":0,"creation_date":1676989497,"post_id":75521608,"comment_id":133245283,"body_markdown":"i dont know what kind of magic you and stackoverflow did but my code with list works now :D omg i guess i only needed to post :D thank you, now i also understood better diffrence between Order and List&lt;Order&gt;, i missed part where Order only returns one row","body":"i dont know what kind of magic you and stackoverflow did but my code with list works now :D omg i guess i only needed to post :D thank you, now i also understood better diffrence between Order and List&lt;Order&gt;, i missed part where Order only returns one row"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676989683,"post_id":75521608,"comment_id":133245354,"body_markdown":"@M.Deinum your comment should be an Answer, and sarah6 can then accept it. That&#39;s how SO works - questions get answers, one of which is accepted by the question author so that others know what was helpful.","body":"@M.Deinum your comment should be an Answer, and sarah6 can then accept it. That&#39;s how SO works - questions get answers, one of which is accepted by the question author so that others know what was helpful."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676990955,"creation_date":1676990955,"answer_id":75522126,"question_id":75521608,"body_markdown":"If you look at your own screenshot you see the query returns 21 rows. This is also what the exception/error is telling you (no unique result). \r\n\r\nYour repository method returns a single `Order` whilst your query returns 21. That isn&#39;t going to fit. Instead you need to return a collection of orders, like `List&lt;Order&gt;`. \r\n\r\n```java\r\nList&lt;Order&gt; getOrdersByCustomerId(Long customerId);\r\n```\r\n\r\nAn `Order` represents a row in the database, so in your case you will get a list with 21 `Order` objects in it. \r\n","title":"query did not return a unique result:","body":"<p>If you look at your own screenshot you see the query returns 21 rows. This is also what the exception/error is telling you (no unique result).</p>\n<p>Your repository method returns a single <code>Order</code> whilst your query returns 21. That isn't going to fit. Instead you need to return a collection of orders, like <code>List&lt;Order&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Order&gt; getOrdersByCustomerId(Long customerId);\n</code></pre>\n<p>An <code>Order</code> represents a row in the database, so in your case you will get a list with 21 <code>Order</code> objects in it.</p>\n"}],"owner":{"account_id":26344704,"reputation":28,"user_id":20003268,"display_name":"sarah6"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75522126,"answer_count":1,"score":0,"last_activity_date":1676990955,"creation_date":1676988379,"question_id":75521608,"body_markdown":"im new to Spring Jpa and i have problem saying query did not return a unique result:18;\r\n\r\nI have table orders and customer. Order table has a foreing key (customer_id_fk) to customers table. So in order table i can see all customers who have   ordered and what. But i need a query what will return me all  orders by (customer_id_fk). I already looked up this problem and it looks like when i search it, it can return one one uniqu id from customer table. But all i need is just find all those fk without accessing customers table.\r\n\r\nFor example like we are writing in MySQL -\\&gt;select \\* From orders Where customer_id_fk =1; and it could show me only that data. But spring does not seem to understand it, i also tried to write Custom query but it did not work.\r\n\r\nIs there a way i can do this ?\r\n\r\nData from MySQL\r\n\r\n![enter image description here](https://i.stack.imgur.com/8aDMa.png)\r\n\r\n```\r\n@Repository\r\npublic interface OrderRepository extends CrudRepository&lt;Order,Long&gt; {\r\n\r\n    @Override\r\n    Iterable&lt;Order&gt; findAll();\r\n\r\n    Order getOrdersByCustomerId(Long customerId);\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class OrderService {\r\n\r\n    OrderRepository orderRepository;\r\n    @Autowired\r\n    public OrderService(OrderRepository orderRepository) {\r\n        this.orderRepository = orderRepository;\r\n    }\r\n public Order findOrderByCustomerId(Long customerId) throws SQLException{\r\n         return this.orderRepository.getOrdersByCustomerId(customerId);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Entity\r\n\r\n@Table(name = &quot;orders&quot;)\r\npublic class Order{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private Date orderTime;\r\n    private Double productCost;\r\n    private Double subtotal;\r\n\r\n    @ManyToOne\r\n    @JoinColumn (name = &quot;customer_id_fk&quot;,foreignKey = @ForeignKey(name = &quot;customer_id&quot;)) \r\n    private  Customer customer; \r\n\r\n    private String street;\r\n    private String city;\r\n    private String country;\r\n    private String postCode;\r\n\r\n    @Enumerated (EnumType.STRING)\r\n    private PaymentMethod paymentMethod;\r\n\r\n    private Integer quantity;\r\n\r\n    @ManyToOne\r\n    @JoinColumn (name = &quot;foodItem_id&quot;,foreignKey = @ForeignKey(name = &quot;foodItem_id_fk&quot;))\r\n    private FoodItem foodItem;\r\n \r\n}\r\n```\r\n\r\n```\r\n\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n\r\npublic class Customer {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String dateOfBirth;\r\n    private Integer phoneNumber;\r\n    @Column(unique = true)\r\n    private String email;\r\n    private String password;\r\n    @OneToOne\r\n    private CustomerAddress customerAddress;\r\n\r\n\r\n}\r\n```\r\n\r\nController class:\r\n\r\n```\r\n@GetMapping(&quot;menu/{customerId}/orderHistory&quot;)\r\npublic String showOrderHistory(Model model, @PathVariable  Long customerId) throws Exception {\r\n    model.addAttribute(&quot;customerId&quot;,customerId);\r\n    Customer customer=customerService.findCustomerById(customerId);\r\n    System.out.println(&quot;ccustomer iss: &quot;+customer);\r\n\r\n   Order order=  orderService.findOrderByCustomerId(customer.getId()); // query did not return a unique result: 18\r\n\r\n    model.addAttribute(&quot;customerName&quot;,customer.getFirstName()+&quot; &quot;+customer.getLastName()); //this works\r\n    // model.addAttribute(&quot;order&quot;,order);\r\n   \r\n\r\n\r\n    return &quot;customer/orderHistory&quot;;\r\n}\r\n```","title":"query did not return a unique result:","body":"<p>im new to Spring Jpa and i have problem saying query did not return a unique result:18;</p>\n<p>I have table orders and customer. Order table has a foreing key (customer_id_fk) to customers table. So in order table i can see all customers who have   ordered and what. But i need a query what will return me all  orders by (customer_id_fk). I already looked up this problem and it looks like when i search it, it can return one one uniqu id from customer table. But all i need is just find all those fk without accessing customers table.</p>\n<p>For example like we are writing in MySQL -&gt;select * From orders Where customer_id_fk =1; and it could show me only that data. But spring does not seem to understand it, i also tried to write Custom query but it did not work.</p>\n<p>Is there a way i can do this ?</p>\n<p>Data from MySQL</p>\n<p><img src=\"https://i.stack.imgur.com/8aDMa.png\" alt=\"enter image description here\" /></p>\n<pre><code>@Repository\npublic interface OrderRepository extends CrudRepository&lt;Order,Long&gt; {\n\n    @Override\n    Iterable&lt;Order&gt; findAll();\n\n    Order getOrdersByCustomerId(Long customerId);\n}\n</code></pre>\n<pre><code>@Service\npublic class OrderService {\n\n    OrderRepository orderRepository;\n    @Autowired\n    public OrderService(OrderRepository orderRepository) {\n        this.orderRepository = orderRepository;\n    }\n public Order findOrderByCustomerId(Long customerId) throws SQLException{\n         return this.orderRepository.getOrdersByCustomerId(customerId);\n    }\n\n}\n</code></pre>\n<pre><code>\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Entity\n\n@Table(name = &quot;orders&quot;)\npublic class Order{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private Date orderTime;\n    private Double productCost;\n    private Double subtotal;\n\n    @ManyToOne\n    @JoinColumn (name = &quot;customer_id_fk&quot;,foreignKey = @ForeignKey(name = &quot;customer_id&quot;)) \n    private  Customer customer; \n\n    private String street;\n    private String city;\n    private String country;\n    private String postCode;\n\n    @Enumerated (EnumType.STRING)\n    private PaymentMethod paymentMethod;\n\n    private Integer quantity;\n\n    @ManyToOne\n    @JoinColumn (name = &quot;foodItem_id&quot;,foreignKey = @ForeignKey(name = &quot;foodItem_id_fk&quot;))\n    private FoodItem foodItem;\n \n}\n</code></pre>\n<pre><code>\n@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n\npublic class Customer {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private String dateOfBirth;\n    private Integer phoneNumber;\n    @Column(unique = true)\n    private String email;\n    private String password;\n    @OneToOne\n    private CustomerAddress customerAddress;\n\n\n}\n</code></pre>\n<p>Controller class:</p>\n<pre><code>@GetMapping(&quot;menu/{customerId}/orderHistory&quot;)\npublic String showOrderHistory(Model model, @PathVariable  Long customerId) throws Exception {\n    model.addAttribute(&quot;customerId&quot;,customerId);\n    Customer customer=customerService.findCustomerById(customerId);\n    System.out.println(&quot;ccustomer iss: &quot;+customer);\n\n   Order order=  orderService.findOrderByCustomerId(customer.getId()); // query did not return a unique result: 18\n\n    model.addAttribute(&quot;customerName&quot;,customer.getFirstName()+&quot; &quot;+customer.getLastName()); //this works\n    // model.addAttribute(&quot;order&quot;,order);\n   \n\n\n    return &quot;customer/orderHistory&quot;;\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot","pojo"],"comments":[{"owner":{"account_id":2293937,"reputation":90,"user_id":2015923,"display_name":"MD9"},"score":0,"creation_date":1663826463,"post_id":73809930,"comment_id":130331198,"body_markdown":"Could you please add the JSON and POJO class to your question?","body":"Could you please add the JSON and POJO class to your question?"},{"owner":{"account_id":25332744,"reputation":23,"user_id":19152330,"display_name":"Anuj Sharma"},"score":0,"creation_date":1663827007,"post_id":73809930,"comment_id":130331315,"body_markdown":"Added Json and pojo","body":"Added Json and pojo"},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1663829338,"post_id":73809930,"comment_id":130331946,"body_markdown":"Why is this tagged `groovy`?","body":"Why is this tagged <code>groovy</code>?"},{"owner":{"account_id":25332744,"reputation":23,"user_id":19152330,"display_name":"Anuj Sharma"},"score":0,"creation_date":1663829505,"post_id":73809930,"comment_id":130332005,"body_markdown":"@tim_yates I am also looking if I can get similar solution in groovy as well.","body":"@tim_yates I am also looking if I can get similar solution in groovy as well."}],"answers":[{"tags":[],"owner":{"account_id":27842686,"reputation":1,"user_id":21258855,"display_name":"Yury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676990493,"creation_date":1676990320,"answer_id":75521989,"question_id":73809930,"body_markdown":"Add this method to `DefaultGenerationConfig`:\r\n\r\n    @Override\r\n    public boolean isIncludeAdditionalProperties() { \r\n        return false;\r\n    }\r\n","title":"Json schema to Pojo generator in Java using library jsonschema2pojo-core","body":"<p>Add this method to <code>DefaultGenerationConfig</code>:</p>\n<pre><code>@Override\npublic boolean isIncludeAdditionalProperties() { \n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":25332744,"reputation":23,"user_id":19152330,"display_name":"Anuj Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1874,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676990493,"creation_date":1663826258,"question_id":73809930,"body_markdown":"I am trying to convert json schema to pojo using library jsonschema2pojo-core version 1.0.2 but I am getting error &quot;trying to create the same field twice: additionalProperties&quot;. I am also attaching the code that I am using with Library. Can you guys let me know what I doing wrong here.\r\n```\r\nclass JsonToPojo {\r\n\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        JCodeModel codeModel = new JCodeModel();\r\n        URL source = JsonToPojo.class.getResource(&quot;/test.json&quot;);\r\n        GenerationConfig config = new DefaultGenerationConfig() {\r\n            @Override\r\n            public boolean isGenerateBuilders() { // set config option by overriding method\r\n                return true;\r\n            }\r\n            @Override\r\n            public SourceType getSourceType() {\r\n                return SourceType.JSON;\r\n            }\r\n        };\r\n        SchemaMapper mapper = new SchemaMapper(\r\n                new RuleFactory(config, new Jackson2Annotator(config), new SchemaStore()), new SchemaGenerator());\r\n        mapper.generate(codeModel, &quot;JsonToPojo&quot;, &quot;com.controller&quot;, source);\r\n        File file = Files.createTempDirectory(&quot;required&quot;).toFile();\r\n        codeModel.build(file);\r\n        System.out.println(&quot;path is &quot; + file);\r\n    }\r\n\r\n```\r\n\r\nJson -\r\n```\r\n{\r\n  &quot;$id&quot;: &quot;https://example.com/person.schema.json&quot;,\r\n  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2020-12/schema&quot;,\r\n  &quot;title&quot;: &quot;Person&quot;,\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;firstName&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;,\r\n      &quot;description&quot;: &quot;The person&#39;s first name.&quot;\r\n    },\r\n    &quot;lastName&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;,\r\n      &quot;description&quot;: &quot;The person&#39;s last name.&quot;\r\n    },\r\n    &quot;age&quot;: {\r\n      &quot;description&quot;: &quot;Age in years which must be equal to or greater than zero.&quot;,\r\n      &quot;type&quot;: &quot;integer&quot;,\r\n      &quot;minimum&quot;: 0\r\n    }\r\n  }\r\n}\r\n```\r\nExpected Pojo-\r\n```\r\n*/\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n&quot;firstName&quot;,\r\n&quot;lastName&quot;,\r\n&quot;age&quot;\r\n})\r\n@Generated(&quot;jsonschema2pojo&quot;)\r\npublic class Example {\r\n\r\n/**\r\n* The person&#39;s first name.\r\n*\r\n*/\r\n@JsonProperty(&quot;firstName&quot;)\r\n@JsonPropertyDescription(&quot;The person&#39;s first name.&quot;)\r\nprivate String firstName;\r\n/**\r\n* The person&#39;s last name.\r\n*\r\n*/\r\n@JsonProperty(&quot;lastName&quot;)\r\n@JsonPropertyDescription(&quot;The person&#39;s last name.&quot;)\r\nprivate String lastName;\r\n/**\r\n* Age in years which must be equal to or greater than zero.\r\n*\r\n*/\r\n@JsonProperty(&quot;age&quot;)\r\n@JsonPropertyDescription(&quot;Age in years which must be equal to or greater than zero.&quot;)\r\nprivate Integer age;\r\n@JsonIgnore\r\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\r\n/**\r\n* The person&#39;s first name.\r\n*\r\n*/\r\n@JsonProperty(&quot;firstName&quot;)\r\npublic String getFirstName() {\r\nreturn firstName;\r\n}\r\n\r\n/**\r\n* The person&#39;s first name.\r\n*\r\n*/\r\n@JsonProperty(&quot;firstName&quot;)\r\npublic void setFirstName(String firstName) {\r\nthis.firstName = firstName;\r\n}\r\n\r\n/**\r\n* The person&#39;s last name.\r\n*\r\n*/\r\n@JsonProperty(&quot;lastName&quot;)\r\npublic String getLastName() {\r\nreturn lastName;\r\n}\r\n\r\n/**\r\n* The person&#39;s last name.\r\n*\r\n*/\r\n@JsonProperty(&quot;lastName&quot;)\r\npublic void setLastName(String lastName) {\r\nthis.lastName = lastName;\r\n}\r\n\r\n/**\r\n* Age in years which must be equal to or greater than zero.\r\n*\r\n*/\r\n@JsonProperty(&quot;age&quot;)\r\npublic Integer getAge() {\r\nreturn age;\r\n}\r\n\r\n/**\r\n* Age in years which must be equal to or greater than zero.\r\n*\r\n*/\r\n@JsonProperty(&quot;age&quot;)\r\npublic void setAge(Integer age) {\r\nthis.age = age;\r\n}\r\n\r\n@JsonAnyGetter\r\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\r\nreturn this.additionalProperties;\r\n}\r\n\r\n@JsonAnySetter\r\npublic void setAdditionalProperty(String name, Object value) {\r\nthis.additionalProperties.put(name, value);\r\n}\r\n\r\n```","title":"Json schema to Pojo generator in Java using library jsonschema2pojo-core","body":"<p>I am trying to convert json schema to pojo using library jsonschema2pojo-core version 1.0.2 but I am getting error &quot;trying to create the same field twice: additionalProperties&quot;. I am also attaching the code that I am using with Library. Can you guys let me know what I doing wrong here.</p>\n<pre><code>class JsonToPojo {\n\n\n    public static void main(String[] args) throws IOException {\n        JCodeModel codeModel = new JCodeModel();\n        URL source = JsonToPojo.class.getResource(&quot;/test.json&quot;);\n        GenerationConfig config = new DefaultGenerationConfig() {\n            @Override\n            public boolean isGenerateBuilders() { // set config option by overriding method\n                return true;\n            }\n            @Override\n            public SourceType getSourceType() {\n                return SourceType.JSON;\n            }\n        };\n        SchemaMapper mapper = new SchemaMapper(\n                new RuleFactory(config, new Jackson2Annotator(config), new SchemaStore()), new SchemaGenerator());\n        mapper.generate(codeModel, &quot;JsonToPojo&quot;, &quot;com.controller&quot;, source);\n        File file = Files.createTempDirectory(&quot;required&quot;).toFile();\n        codeModel.build(file);\n        System.out.println(&quot;path is &quot; + file);\n    }\n\n</code></pre>\n<p>Json -</p>\n<pre><code>{\n  &quot;$id&quot;: &quot;https://example.com/person.schema.json&quot;,\n  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2020-12/schema&quot;,\n  &quot;title&quot;: &quot;Person&quot;,\n  &quot;type&quot;: &quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;firstName&quot;: {\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;description&quot;: &quot;The person's first name.&quot;\n    },\n    &quot;lastName&quot;: {\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;description&quot;: &quot;The person's last name.&quot;\n    },\n    &quot;age&quot;: {\n      &quot;description&quot;: &quot;Age in years which must be equal to or greater than zero.&quot;,\n      &quot;type&quot;: &quot;integer&quot;,\n      &quot;minimum&quot;: 0\n    }\n  }\n}\n</code></pre>\n<p>Expected Pojo-</p>\n<pre><code>*/\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n&quot;firstName&quot;,\n&quot;lastName&quot;,\n&quot;age&quot;\n})\n@Generated(&quot;jsonschema2pojo&quot;)\npublic class Example {\n\n/**\n* The person's first name.\n*\n*/\n@JsonProperty(&quot;firstName&quot;)\n@JsonPropertyDescription(&quot;The person's first name.&quot;)\nprivate String firstName;\n/**\n* The person's last name.\n*\n*/\n@JsonProperty(&quot;lastName&quot;)\n@JsonPropertyDescription(&quot;The person's last name.&quot;)\nprivate String lastName;\n/**\n* Age in years which must be equal to or greater than zero.\n*\n*/\n@JsonProperty(&quot;age&quot;)\n@JsonPropertyDescription(&quot;Age in years which must be equal to or greater than zero.&quot;)\nprivate Integer age;\n@JsonIgnore\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n/**\n* The person's first name.\n*\n*/\n@JsonProperty(&quot;firstName&quot;)\npublic String getFirstName() {\nreturn firstName;\n}\n\n/**\n* The person's first name.\n*\n*/\n@JsonProperty(&quot;firstName&quot;)\npublic void setFirstName(String firstName) {\nthis.firstName = firstName;\n}\n\n/**\n* The person's last name.\n*\n*/\n@JsonProperty(&quot;lastName&quot;)\npublic String getLastName() {\nreturn lastName;\n}\n\n/**\n* The person's last name.\n*\n*/\n@JsonProperty(&quot;lastName&quot;)\npublic void setLastName(String lastName) {\nthis.lastName = lastName;\n}\n\n/**\n* Age in years which must be equal to or greater than zero.\n*\n*/\n@JsonProperty(&quot;age&quot;)\npublic Integer getAge() {\nreturn age;\n}\n\n/**\n* Age in years which must be equal to or greater than zero.\n*\n*/\n@JsonProperty(&quot;age&quot;)\npublic void setAge(Integer age) {\nthis.age = age;\n}\n\n@JsonAnyGetter\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\nreturn this.additionalProperties;\n}\n\n@JsonAnySetter\npublic void setAdditionalProperty(String name, Object value) {\nthis.additionalProperties.put(name, value);\n}\n\n</code></pre>\n"},{"tags":["java","frameworks","micronaut"],"comments":[{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":0,"creation_date":1676900501,"post_id":75509726,"comment_id":133224848,"body_markdown":"Please provide more context. How did you generate the app? What JDK version your running on? How does your `build.gradle` look like?","body":"Please provide more context. How did you generate the app? What JDK version your running on? How does your <code>build.gradle</code> look like?"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1676908519,"post_id":75509726,"comment_id":133227373,"body_markdown":"With which version of Micronaut are you able to produce that error?","body":"With which version of Micronaut are you able to produce that error?"},{"owner":{"account_id":9528777,"reputation":49,"user_id":7081196,"display_name":"Shavoks"},"score":0,"creation_date":1676939723,"post_id":75509726,"comment_id":133234292,"body_markdown":"I used the launch page (https://micronaut.io/launch), Micronaut version 3.8.5 with JDK 17.  I added the dependencies with the launcher, could some of them still be in conflict with each other? I added the pom.xml in the question as well.","body":"I used the launch page (<a href=\"https://micronaut.io/launch\" rel=\"nofollow noreferrer\">micronaut.io/launch</a>), Micronaut version 3.8.5 with JDK 17.  I added the dependencies with the launcher, could some of them still be in conflict with each other? I added the pom.xml in the question as well."}],"answers":[{"tags":[],"owner":{"account_id":9528777,"reputation":49,"user_id":7081196,"display_name":"Shavoks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676990346,"creation_date":1676990346,"answer_id":75521994,"question_id":75509726,"body_markdown":"I found a solution, it was indeed a dependency that was causing this, removing micronaut-netflix-hystrix fixed it.\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.netflix&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-netflix-hystrix&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"ReflectionUtils.setFieldIfPossible method not found while running tests with Micronaut framework","body":"<p>I found a solution, it was indeed a dependency that was causing this, removing micronaut-netflix-hystrix fixed it.</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.netflix&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-netflix-hystrix&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9528777,"reputation":49,"user_id":7081196,"display_name":"Shavoks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676990346,"creation_date":1676898986,"question_id":75509726,"body_markdown":"I am trying to launch a basic test with Micronaut, it&#39;s the one that came with the generated project. The test fails with the following error:\r\n\r\n\r\n```\r\n\r\njava.lang.NoSuchMethodError: &#39;void io.micronaut.core.reflect.ReflectionUtils.setFieldIfPossible(java.lang.Class, java.lang.String, java.lang.Object)&#39;\r\n\r\n\tat io.micronaut.configuration.archaius1.EnvironmentDeploymentContext.close(EnvironmentDeploymentContext.java:210)\r\n\tat io.micronaut.configuration.archaius1.$EnvironmentDeploymentContextDefinition.dispose(Unknown Source)\r\n\tat io.micronaut.inject.DisposableBeanDefinition.dispose(DisposableBeanDefinition.java:44)\r\n\tat io.micronaut.context.DefaultBeanContext.destroyBean(DefaultBeanContext.java:1148)\r\n\tat io.micronaut.context.DefaultBeanContext.destroyBean(DefaultBeanContext.java:1119)\r\n\tat io.micronaut.context.DefaultBeanContext.stop(DefaultBeanContext.java:406)\r\n\tat io.micronaut.context.DefaultApplicationContext.stop(DefaultApplicationContext.java:200)\r\n\tat io.micronaut.servlet.engine.server.AbstractServletServer.stop(AbstractServletServer.java:105)\r\n\tat io.micronaut.servlet.engine.server.AbstractServletServer.stop(AbstractServletServer.java:34)\r\n\tat io.micronaut.test.extensions.AbstractMicronautExtension.stopEmbeddedApplication(AbstractMicronautExtension.java:483)\r\n\tat io.micronaut.test.extensions.AbstractMicronautExtension.afterClass(AbstractMicronautExtension.java:397)\r\n\tat io.micronaut.test.extensions.junit5.MicronautJunit5Extension.afterAll(MicronautJunit5Extension.java:209)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$18(ClassBasedTestDescriptor.java:461)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$19(ClassBasedTestDescriptor.java:461)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeAfterAllCallbacks(ClassBasedTestDescriptor.java:461)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:235)\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:84)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:161)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:161)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\nThis is the test that I&#39;m trying to launch, nothing fancy in there:\r\n\r\n```\r\n@Inject\r\n    EmbeddedApplication&lt;?&gt; application;\r\n\r\n    @Test\r\n    void testItWorks() {\r\n        Assertions.assertTrue(application.isRunning());\r\n    }\r\n```\r\n\r\nFrom what I saw, the ReflectionUtils is not having that method it calls anymore starting with version 3.x, only setFields is exposed now.\r\nAny help would be appreciated.\r\n\r\nEdit, added pom.xml file content:\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-http-client&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-http-server&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-management&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-runtime&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-session&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.kubernetes&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-kubernetes-client&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.kubernetes&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-kubernetes-informer&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.netflix&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-netflix-hystrix&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.serde&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-serde-jackson&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-http-server-tomcat&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n      &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-spring-boot&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-spring-web&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-test-junit5&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-data-mongodb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.micronaut.mongodb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;micronaut-mongo-sync&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;io.micronaut.build&lt;/groupId&gt;\r\n        &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;configFile&gt;aot-${packaging}.properties&lt;/configFile&gt;\r\n          &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      \r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;!-- Uncomment to enable incremental compilation --&gt;\r\n          &lt;!-- &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt; --&gt;\r\n\r\n          &lt;annotationProcessorPaths combine.self=&quot;override&quot;&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n              &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-data-document-processor&lt;/artifactId&gt;\r\n              &lt;version&gt;3.9.6&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-data-processor&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.data.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-graal&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-http-validation&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.openapi&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-openapi&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.openapi.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.serde&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-serde-processor&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.serialization.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-spring-annotation&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.spring.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-spring-boot-annotation&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.spring.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\r\n              &lt;artifactId&gt;micronaut-spring-web-annotation&lt;/artifactId&gt;\r\n              &lt;version&gt;${micronaut.spring.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n          &lt;/annotationProcessorPaths&gt;\r\n          &lt;compilerArgs&gt;\r\n            &lt;arg&gt;-Amicronaut.processing.group=fr.tas.co2m&lt;/arg&gt;\r\n            &lt;arg&gt;-Amicronaut.processing.module=tradeoff&lt;/arg&gt;\r\n          &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;to&gt;\r\n            &lt;image&gt;${jib.docker.image}:${jib.docker.tag}&lt;/image&gt;\r\n          &lt;/to&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```","title":"ReflectionUtils.setFieldIfPossible method not found while running tests with Micronaut framework","body":"<p>I am trying to launch a basic test with Micronaut, it's the one that came with the generated project. The test fails with the following error:</p>\n<pre><code>\njava.lang.NoSuchMethodError: 'void io.micronaut.core.reflect.ReflectionUtils.setFieldIfPossible(java.lang.Class, java.lang.String, java.lang.Object)'\n\n    at io.micronaut.configuration.archaius1.EnvironmentDeploymentContext.close(EnvironmentDeploymentContext.java:210)\n    at io.micronaut.configuration.archaius1.$EnvironmentDeploymentContextDefinition.dispose(Unknown Source)\n    at io.micronaut.inject.DisposableBeanDefinition.dispose(DisposableBeanDefinition.java:44)\n    at io.micronaut.context.DefaultBeanContext.destroyBean(DefaultBeanContext.java:1148)\n    at io.micronaut.context.DefaultBeanContext.destroyBean(DefaultBeanContext.java:1119)\n    at io.micronaut.context.DefaultBeanContext.stop(DefaultBeanContext.java:406)\n    at io.micronaut.context.DefaultApplicationContext.stop(DefaultApplicationContext.java:200)\n    at io.micronaut.servlet.engine.server.AbstractServletServer.stop(AbstractServletServer.java:105)\n    at io.micronaut.servlet.engine.server.AbstractServletServer.stop(AbstractServletServer.java:34)\n    at io.micronaut.test.extensions.AbstractMicronautExtension.stopEmbeddedApplication(AbstractMicronautExtension.java:483)\n    at io.micronaut.test.extensions.AbstractMicronautExtension.afterClass(AbstractMicronautExtension.java:397)\n    at io.micronaut.test.extensions.junit5.MicronautJunit5Extension.afterAll(MicronautJunit5Extension.java:209)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$18(ClassBasedTestDescriptor.java:461)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeAfterAllCallbacks$19(ClassBasedTestDescriptor.java:461)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeAfterAllCallbacks(ClassBasedTestDescriptor.java:461)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:235)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.after(ClassBasedTestDescriptor.java:84)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:161)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:161)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>This is the test that I'm trying to launch, nothing fancy in there:</p>\n<pre><code>@Inject\n    EmbeddedApplication&lt;?&gt; application;\n\n    @Test\n    void testItWorks() {\n        Assertions.assertTrue(application.isRunning());\n    }\n</code></pre>\n<p>From what I saw, the ReflectionUtils is not having that method it calls anymore starting with version 3.x, only setFields is exposed now.\nAny help would be appreciated.</p>\n<p>Edit, added pom.xml file content:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-inject&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-http-client&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-http-server&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-management&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-runtime&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-session&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.kubernetes&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-kubernetes-client&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.kubernetes&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-kubernetes-informer&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.netflix&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-netflix-hystrix&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.serde&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-serde-jackson&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-http-server-tomcat&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n      &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.annotation&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.annotation-api&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-spring-boot&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-spring-web&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.test&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-test-junit5&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micronaut.mongodb&lt;/groupId&gt;\n      &lt;artifactId&gt;micronaut-mongo-sync&lt;/artifactId&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.micronaut.build&lt;/groupId&gt;\n        &lt;artifactId&gt;micronaut-maven-plugin&lt;/artifactId&gt;\n          &lt;configuration&gt;\n            &lt;configFile&gt;aot-${packaging}.properties&lt;/configFile&gt;\n          &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      \n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;!-- Uncomment to enable incremental compilation --&gt;\n          &lt;!-- &lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt; --&gt;\n\n          &lt;annotationProcessorPaths combine.self=&quot;override&quot;&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n              &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-data-document-processor&lt;/artifactId&gt;\n              &lt;version&gt;3.9.6&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-inject-java&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.data&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-data-processor&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.data.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-graal&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-http-validation&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-validation&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.openapi&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-openapi&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.openapi.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.serde&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-serde-processor&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.serialization.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-spring-annotation&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.spring.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-spring-boot-annotation&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.spring.version}&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;io.micronaut.spring&lt;/groupId&gt;\n              &lt;artifactId&gt;micronaut-spring-web-annotation&lt;/artifactId&gt;\n              &lt;version&gt;${micronaut.spring.version}&lt;/version&gt;\n            &lt;/path&gt;\n          &lt;/annotationProcessorPaths&gt;\n          &lt;compilerArgs&gt;\n            &lt;arg&gt;-Amicronaut.processing.group=fr.tas.co2m&lt;/arg&gt;\n            &lt;arg&gt;-Amicronaut.processing.module=tradeoff&lt;/arg&gt;\n          &lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n        &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;to&gt;\n            &lt;image&gt;${jib.docker.image}:${jib.docker.tag}&lt;/image&gt;\n          &lt;/to&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","string","generics","enums"],"comments":[{"owner":{"account_id":6282830,"reputation":12360,"user_id":4883195,"display_name":"Moritz Ringler"},"score":0,"creation_date":1676904112,"post_id":75510025,"comment_id":133226024,"body_markdown":"Is that Java? You should add the language to the tags, otherwise people will not see your question. Also, giving properly formatted code increases people&#39;s willingness to read it...","body":"Is that Java? You should add the language to the tags, otherwise people will not see your question. Also, giving properly formatted code increases people&#39;s willingness to read it..."},{"owner":{"account_id":27832200,"reputation":3,"user_id":21250412,"display_name":"Ivan Ostapenko"},"score":1,"creation_date":1676984907,"post_id":75510025,"comment_id":133243718,"body_markdown":"Thanks, tags added, code formatted - it&#39;s my first question here.","body":"Thanks, tags added, code formatted - it&#39;s my first question here."}],"answers":[{"tags":[],"owner":{"account_id":23632607,"reputation":114,"user_id":17664120,"display_name":"Sri mani789"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676990286,"creation_date":1676985892,"answer_id":75521128,"question_id":75510025,"body_markdown":"[`Enum.valueOf(Class, String)`][1] - Returns the enum constant of the specified **enum class** with the specified name.\r\n\r\nSo change getElement method signature into following\r\n\r\n    static protected &lt;E extends Enum&lt;E&gt;&gt; E getElement(Class&lt;E&gt; enumType, String elementName) {\r\n        try {\r\n            return Enum.valueOf(enumType, elementName);\r\n        } catch (IllegalArgumentException e) {\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)","title":"Trouble to use generic with Enum in Java abstract class","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Enum.html#valueOf(java.lang.Class,java.lang.String)\" rel=\"nofollow noreferrer\"><code>Enum.valueOf(Class, String)</code></a> - Returns the enum constant of the specified <strong>enum class</strong> with the specified name.</p>\n<p>So change getElement method signature into following</p>\n<pre><code>static protected &lt;E extends Enum&lt;E&gt;&gt; E getElement(Class&lt;E&gt; enumType, String elementName) {\n    try {\n        return Enum.valueOf(enumType, elementName);\n    } catch (IllegalArgumentException e) {\n        return null;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27832200,"reputation":3,"user_id":21250412,"display_name":"Ivan Ostapenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75521128,"answer_count":1,"score":0,"last_activity_date":1676990286,"creation_date":1676900673,"question_id":75510025,"body_markdown":"I have public abstract class AbstractDevice to extend on some certain Device classes (such as valve, motor, temp sensor etc) which to be controlled by String command, processed as follows: \r\n\r\n```\r\npublic class Valve extends AbstractDevice {\r\n\r\n  protected static enum Mode {OPEN, CLOSE};\r\n\r\n  protected Mode mode;\r\n\r\n  ...\r\n\r\n  protected void processCommand(String command) {\r\n\r\n     mode = Enum.valueOf(Mode.class, command);\r\n\r\n    switch (mode)\r\n\r\n      case OPEN: ...(execute OPEN command)\r\n\r\n}\r\n```\r\n\r\nand it works correctly. \r\n\r\nBut when I try to move the String-to-Enum conversion in abstract class to work with any command set:\r\n\r\n```\r\npublic abstract class AbstractDevice {\r\n\r\nstatic protected &lt;E&gt; E getElement(Class&lt;E&gt; enumType, String elementName) {\r\n\r\n  try {\r\n\r\n    return Enum.valueOf(enumType, elementName);\r\n\r\n  } catch (IllegalArgumentException e) {\r\n\r\n    return null;\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\nI have compilation error `The method valueOf(Class&lt;T&gt;, String) in the type Enum is not applicable for the arguments (Class&lt;E&gt;, String)`\r\n\r\nWhat&#39;s wrong here?","title":"Trouble to use generic with Enum in Java abstract class","body":"<p>I have public abstract class AbstractDevice to extend on some certain Device classes (such as valve, motor, temp sensor etc) which to be controlled by String command, processed as follows:</p>\n<pre><code>public class Valve extends AbstractDevice {\n\n  protected static enum Mode {OPEN, CLOSE};\n\n  protected Mode mode;\n\n  ...\n\n  protected void processCommand(String command) {\n\n     mode = Enum.valueOf(Mode.class, command);\n\n    switch (mode)\n\n      case OPEN: ...(execute OPEN command)\n\n}\n</code></pre>\n<p>and it works correctly.</p>\n<p>But when I try to move the String-to-Enum conversion in abstract class to work with any command set:</p>\n<pre><code>public abstract class AbstractDevice {\n\nstatic protected &lt;E&gt; E getElement(Class&lt;E&gt; enumType, String elementName) {\n\n  try {\n\n    return Enum.valueOf(enumType, elementName);\n\n  } catch (IllegalArgumentException e) {\n\n    return null;\n\n  }\n\n}\n</code></pre>\n<p>I have compilation error <code>The method valueOf(Class&lt;T&gt;, String) in the type Enum is not applicable for the arguments (Class&lt;E&gt;, String)</code></p>\n<p>What's wrong here?</p>\n"},{"tags":["java","apache-kafka","avro"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676990264,"creation_date":1676990264,"answer_id":75521974,"question_id":75515528,"body_markdown":"Kafka producers alone, already have `retries` property for the whole request. \r\n\r\nSo, no, Kafka (or rather, Confluent) serializers have no retry mechanisms, so you will need code such as what you&#39;ve written if you only want to retry serialization. \r\n\r\nAlternatively, I&#39;d recommend tuning your Schema Registry for more high availability (run more instances? Use a load balancer?) ","title":"How to retry transient Avro serialization/deserialisation problems in kafka producers and consumers?","body":"<p>Kafka producers alone, already have <code>retries</code> property for the whole request.</p>\n<p>So, no, Kafka (or rather, Confluent) serializers have no retry mechanisms, so you will need code such as what you've written if you only want to retry serialization.</p>\n<p>Alternatively, I'd recommend tuning your Schema Registry for more high availability (run more instances? Use a load balancer?)</p>\n"}],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75521974,"answer_count":1,"score":0,"last_activity_date":1676990264,"creation_date":1676942291,"question_id":75515528,"body_markdown":"Because of infrastructure issues, I occasionally see timeouts getting schemas from our avro schema registry.\r\n\r\nI don&#39;t have a full stack trace, but a typical error message is:\r\n```\r\norg.apache.kafka.common.errors.SerializationException: Could not register new Avro schema: Could not retrieve schema for subject &#39;my-topic-name&#39;: connect timed out\r\n```\r\nThis locates the issue to an `IOException` in `com.tibco.messaging.kafka.avro.AvroSerializer.getSchemaID`.\r\n\r\nI have written a retrying serializer which fixes the issue (and I&#39;ll need to do the same for deserialization), but I&#39;d like to know whether there is any configuration I could have done to avoid writing this code.\r\n\r\n```\r\nimport com.tibco.messaging.kafka.avro.AvroSerializer;\r\nimport com.tibco.messaging.schema.registry.SchemaRegistryCache;\r\nimport org.apache.kafka.common.serialization.Serializer;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.util.Map;\r\n\r\npublic class RetryingAvroSerializer implements Serializer&lt;Object&gt; {\r\n    private static Logger log = LoggerFactory.getLogger(RetryingAvroSerializer.class);\r\n    private final AvroSerializer avroSerializer = new AvroSerializer();\r\n\r\n    @Override\r\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\r\n        avroSerializer.configure(configs, isKey);\r\n    }\r\n\r\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey, SchemaRegistryCache sharedCache) {\r\n        avroSerializer.configure(configs, isKey, sharedCache);\r\n    }\r\n\r\n    @Override\r\n    public byte[] serialize(String topic, Object data) {\r\n        int retries = 5;\r\n        int delay = 10;\r\n        while (true) {\r\n            try {\r\n                return avroSerializer.serialize(topic, data);\r\n            } catch (org.apache.kafka.common.errors.SerializationException e) {\r\n                if (retries == 0) {\r\n                    throw e;\r\n                }\r\n                log.warn(&quot;Retrying serialization for {}&quot;, topic);\r\n                try {\r\n                    Thread.sleep(delay);\r\n                } catch (InterruptedException ex) {\r\n                    Thread.currentThread().interrupt();\r\n                }\r\n                retries--;\r\n                delay *= 2;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How to retry transient Avro serialization/deserialisation problems in kafka producers and consumers?","body":"<p>Because of infrastructure issues, I occasionally see timeouts getting schemas from our avro schema registry.</p>\n<p>I don't have a full stack trace, but a typical error message is:</p>\n<pre><code>org.apache.kafka.common.errors.SerializationException: Could not register new Avro schema: Could not retrieve schema for subject 'my-topic-name': connect timed out\n</code></pre>\n<p>This locates the issue to an <code>IOException</code> in <code>com.tibco.messaging.kafka.avro.AvroSerializer.getSchemaID</code>.</p>\n<p>I have written a retrying serializer which fixes the issue (and I'll need to do the same for deserialization), but I'd like to know whether there is any configuration I could have done to avoid writing this code.</p>\n<pre><code>import com.tibco.messaging.kafka.avro.AvroSerializer;\nimport com.tibco.messaging.schema.registry.SchemaRegistryCache;\nimport org.apache.kafka.common.serialization.Serializer;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.Map;\n\npublic class RetryingAvroSerializer implements Serializer&lt;Object&gt; {\n    private static Logger log = LoggerFactory.getLogger(RetryingAvroSerializer.class);\n    private final AvroSerializer avroSerializer = new AvroSerializer();\n\n    @Override\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey) {\n        avroSerializer.configure(configs, isKey);\n    }\n\n    public void configure(Map&lt;String, ?&gt; configs, boolean isKey, SchemaRegistryCache sharedCache) {\n        avroSerializer.configure(configs, isKey, sharedCache);\n    }\n\n    @Override\n    public byte[] serialize(String topic, Object data) {\n        int retries = 5;\n        int delay = 10;\n        while (true) {\n            try {\n                return avroSerializer.serialize(topic, data);\n            } catch (org.apache.kafka.common.errors.SerializationException e) {\n                if (retries == 0) {\n                    throw e;\n                }\n                log.warn(&quot;Retrying serialization for {}&quot;, topic);\n                try {\n                    Thread.sleep(delay);\n                } catch (InterruptedException ex) {\n                    Thread.currentThread().interrupt();\n                }\n                retries--;\n                delay *= 2;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","jpa","optimistic-locking"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1676990902,"post_id":75521927,"comment_id":133245820,"body_markdown":"Have you read documentation? That is described in https://docs.oracle.com/javaee/7/api/javax/persistence/LockModeType.html. In short `LockModeType.OPTIMISTIC` prevents *Non-repeatable read* phenomena","body":"Have you read documentation? That is described in <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/LockModeType.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/persistence/&hellip;</a>. In short <code>LockModeType.OPTIMISTIC</code> prevents <i>Non-repeatable read</i> phenomena"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1676995028,"post_id":75521927,"comment_id":133247273,"body_markdown":"The settings in question are for Spring to add a hint to the query. IMO it does nothing that optimistic locking within the entities themselves (a version field of some kind) doesn&#39;t do automatically. The notes for requirements on optimistic locking apply to all entities with it set, so it is fairly redundant to add it to the query. How your provider handles it is undefined - it just has to ensure that  transaction changes are isolated and that the version field value from the original query is used when writing out change so it can throw an exception if it has changed since last read.","body":"The settings in question are for Spring to add a hint to the query. IMO it does nothing that optimistic locking within the entities themselves (a version field of some kind) doesn&#39;t do automatically. The notes for requirements on optimistic locking apply to all entities with it set, so it is fairly redundant to add it to the query. How your provider handles it is undefined - it just has to ensure that  transaction changes are isolated and that the version field value from the original query is used when writing out change so it can throw an exception if it has changed since last read."}],"owner":{"account_id":17843100,"reputation":41,"user_id":12960592,"display_name":"Leelee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676990026,"creation_date":1676990026,"question_id":75521927,"body_markdown":"To implement an Optimistic lock in Spring JPA, declaring only the @Version Long version field in Entity automatically applies the Optimistic lock function, resulting in an ObjectOptimistic LockingFailureException exception upon concurrent requests.\r\n\r\nHowever, examples show that CustomRepository, which inherited the JpaRepository interface, has seen a lot of code setting @Lock(LockModeType.OPTIMISTIC) on the method.\r\n\r\n```java\r\npublic interface CustomRepository extends JpaRepository&lt;Entity, Long&gt; {\r\n\r\n    @Lock(LockModeType.OPTIMISTIC)\r\n    Optional&lt;Entity&gt; findByShop(Shop shop);\r\n}\r\n```\r\n\r\nWhat are the benefits of applying these settings?\r\nAlso, you don&#39;t have to apply it, but why do you apply it?","title":"why using @Lock(LockModeType.OPTIMISTIC) in Spring JPA?","body":"<p>To implement an Optimistic lock in Spring JPA, declaring only the @Version Long version field in Entity automatically applies the Optimistic lock function, resulting in an ObjectOptimistic LockingFailureException exception upon concurrent requests.</p>\n<p>However, examples show that CustomRepository, which inherited the JpaRepository interface, has seen a lot of code setting @Lock(LockModeType.OPTIMISTIC) on the method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CustomRepository extends JpaRepository&lt;Entity, Long&gt; {\n\n    @Lock(LockModeType.OPTIMISTIC)\n    Optional&lt;Entity&gt; findByShop(Shop shop);\n}\n</code></pre>\n<p>What are the benefits of applying these settings?\nAlso, you don't have to apply it, but why do you apply it?</p>\n"},{"tags":["java","tomcat","heap-memory"],"comments":[{"owner":{"account_id":6447972,"reputation":623,"user_id":4995907,"display_name":"Rahul Agrawal"},"score":0,"creation_date":1582182348,"post_id":60314472,"comment_id":106690844,"body_markdown":"You have declared the maximum heap size to be 28GB. Does your RAM support this much capacity","body":"You have declared the maximum heap size to be 28GB. Does your RAM support this much capacity"},{"owner":{"account_id":6806166,"reputation":5402,"user_id":5237806,"accept_rate":24,"display_name":"chenchuk"},"score":0,"creation_date":1582183604,"post_id":60314472,"comment_id":106691324,"body_markdown":"@Rahul i got 32GB on this machine","body":"@Rahul i got 32GB on this machine"},{"owner":{"account_id":3008034,"reputation":190,"user_id":2552104,"display_name":"stanly"},"score":0,"creation_date":1584952884,"post_id":60314472,"comment_id":107588799,"body_markdown":"do you resolve this problem ? many solution about this is to install an debuginfo rpm with identical version of the jdk. but I have this problem after install an jdk-debuginfo.","body":"do you resolve this problem ? many solution about this is to install an debuginfo rpm with identical version of the jdk. but I have this problem after install an jdk-debuginfo."}],"answers":[{"tags":[],"owner":{"account_id":9645355,"reputation":21,"user_id":7158326,"display_name":"Deepak Krishna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676989960,"creation_date":1676989960,"answer_id":75521917,"question_id":60314472,"body_markdown":"You would have to install **openjdk-8-dbg**. This package provides the necessary debugging symbols for the utilities.","title":"jmap -heap {pid} : throws java.lang.reflect.InvocationTargetException","body":"<p>You would have to install <strong>openjdk-8-dbg</strong>. This package provides the necessary debugging symbols for the utilities.</p>\n"}],"owner":{"account_id":6806166,"reputation":5402,"user_id":5237806,"accept_rate":24,"display_name":"chenchuk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676989960,"creation_date":1582182199,"question_id":60314472,"body_markdown":"I increased my tomcat Xms and Xms args via setenv.sh :\r\n\r\n    export CATALINA_OPTS=&quot;-Xms1000m -Xmx28000m&quot;\r\n\r\nbut when i verify i got an exception ( NOTE: it has nothing to do with the values, it happen on another machine which i didnt set the Xms/Xmx)\r\n\r\n    $ sudo jmap -heap 17744\r\n    Attaching to process ID 17744, please wait...\r\n    Debugger attached successfully.\r\n    Server compiler detected.\r\n    JVM version is 25.242-b08\r\n    \r\n    using thread-local object allocation.\r\n    Parallel GC with 8 thread(s)\r\n    \r\n    Heap Configuration:\r\n       MinHeapFreeRatio         = 0\r\n       MaxHeapFreeRatio         = 100\r\n       MaxHeapSize              = 29360128000 (28000.0MB)\r\n       NewSize                  = 349175808 (333.0MB)\r\n       MaxNewSize               = 9786359808 (9333.0MB)\r\n       OldSize                  = 699400192 (667.0MB)\r\n       NewRatio                 = 2\r\n       SurvivorRatio            = 8\r\n       MetaspaceSize            = 21807104 (20.796875MB)\r\n       CompressedClassSpaceSize = 1073741824 (1024.0MB)\r\n       MaxMetaspaceSize         = 17592186044415 MB\r\n       G1HeapRegionSize         = 0 (0.0MB)\r\n    \r\n    Heap Usage:\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat sun.tools.jmap.JMap.runTool(JMap.java:201)\r\n    \tat sun.tools.jmap.JMap.main(JMap.java:130)\r\n    Caused by: java.lang.RuntimeException: unknown CollectedHeap type : class sun.jvm.hotspot.gc_interface.CollectedHeap\r\n    \tat sun.jvm.hotspot.tools.HeapSummary.run(HeapSummary.java:144)\r\n    \tat sun.jvm.hotspot.tools.Tool.startInternal(Tool.java:260)\r\n    \tat sun.jvm.hotspot.tools.Tool.start(Tool.java:223)\r\n    \tat sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\r\n    \tat sun.jvm.hotspot.tools.HeapSummary.main(HeapSummary.java:49)\r\n    \t... 6 more\r\n\r\n    $ /usr/bin/java -version\r\n    openjdk version &quot;1.8.0_242&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_242-8u242-b08-0ubuntu3~16.04-b08)\r\n    OpenJDK 64-Bit Server VM (build 25.242-b08, mixed mode)\r\n\r\n","title":"jmap -heap {pid} : throws java.lang.reflect.InvocationTargetException","body":"<p>I increased my tomcat Xms and Xms args via setenv.sh :</p>\n\n<pre><code>export CATALINA_OPTS=\"-Xms1000m -Xmx28000m\"\n</code></pre>\n\n<p>but when i verify i got an exception ( NOTE: it has nothing to do with the values, it happen on another machine which i didnt set the Xms/Xmx)</p>\n\n<pre><code>$ sudo jmap -heap 17744\nAttaching to process ID 17744, please wait...\nDebugger attached successfully.\nServer compiler detected.\nJVM version is 25.242-b08\n\nusing thread-local object allocation.\nParallel GC with 8 thread(s)\n\nHeap Configuration:\n   MinHeapFreeRatio         = 0\n   MaxHeapFreeRatio         = 100\n   MaxHeapSize              = 29360128000 (28000.0MB)\n   NewSize                  = 349175808 (333.0MB)\n   MaxNewSize               = 9786359808 (9333.0MB)\n   OldSize                  = 699400192 (667.0MB)\n   NewRatio                 = 2\n   SurvivorRatio            = 8\n   MetaspaceSize            = 21807104 (20.796875MB)\n   CompressedClassSpaceSize = 1073741824 (1024.0MB)\n   MaxMetaspaceSize         = 17592186044415 MB\n   G1HeapRegionSize         = 0 (0.0MB)\n\nHeap Usage:\nException in thread \"main\" java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.tools.jmap.JMap.runTool(JMap.java:201)\n    at sun.tools.jmap.JMap.main(JMap.java:130)\nCaused by: java.lang.RuntimeException: unknown CollectedHeap type : class sun.jvm.hotspot.gc_interface.CollectedHeap\n    at sun.jvm.hotspot.tools.HeapSummary.run(HeapSummary.java:144)\n    at sun.jvm.hotspot.tools.Tool.startInternal(Tool.java:260)\n    at sun.jvm.hotspot.tools.Tool.start(Tool.java:223)\n    at sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\n    at sun.jvm.hotspot.tools.HeapSummary.main(HeapSummary.java:49)\n    ... 6 more\n\n$ /usr/bin/java -version\nopenjdk version \"1.8.0_242\"\nOpenJDK Runtime Environment (build 1.8.0_242-8u242-b08-0ubuntu3~16.04-b08)\nOpenJDK 64-Bit Server VM (build 25.242-b08, mixed mode)\n</code></pre>\n"},{"tags":["java","maven","swagger-ui","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":12405531,"reputation":321,"user_id":9040672,"display_name":"Rayen Rejeb"},"score":1,"creation_date":1676991745,"post_id":75521908,"comment_id":133246145,"body_markdown":"check springdoc documentation here https://springdoc.org/#getting-started\nno need for any extra configuration. just add the dependency to your pom.xml and go to `http://server:port/context-path/swagger-ui.html`\nif it doesn&#39;t work, check your spring-security configuration and allow swagger path.","body":"check springdoc documentation here <a href=\"https://springdoc.org/#getting-started\" rel=\"nofollow noreferrer\">springdoc.org/#getting-started</a> no need for any extra configuration. just add the dependency to your pom.xml and go to <code>http:&#47;&#47;server:port&#47;context-path&#47;swagger-ui.html</code> if it doesn&#39;t work, check your spring-security configuration and allow swagger path."}],"owner":{"account_id":968842,"reputation":45616,"user_id":991788,"accept_rate":100,"display_name":"Sachin Kainth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676989911,"creation_date":1676989911,"question_id":75521908,"body_markdown":"I have the following library referenced in my POM file\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIn my code I have the following class defined\r\n\r\n    @EnableWebMvc\r\n    public class SwaggerMVC implements WebMvcConfigurer {\r\n\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n            registry.addResourceHandler(&quot;swagger-ui.html&quot;)\r\n                .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n\r\n            registry.addResourceHandler(&quot;/webjars/**&quot;)\r\n                .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n        }\r\n    }\r\n\r\nI also have this class defined\r\n\r\n    @Configuration\r\n    public class SwaggerConfig {\r\n\r\n       @Bean\r\n       public GroupedOpenApi api() {\r\n          return GroupedOpenApi.builder()\r\n                .group(&quot;my-api&quot;)\r\n                .pathsToMatch(&quot;/**&quot;)\r\n                .pathsToExclude(&quot;/error.*&quot;)\r\n                .pathsToExclude(&quot;/actuator.*&quot;)\r\n                .pathsToExclude(&quot;/test.*&quot;)\r\n                .pathsToExclude(&quot;/swagger-ui.html&quot;)\r\n                .pathsToExclude(&quot;/swagger-ui/**&quot;)\r\n                .pathsToExclude(&quot;/v3/api-docs/**&quot;)\r\n                .pathsToExclude(&quot;/v3/api-docs.yaml&quot;)\r\n                .pathsToExclude(&quot;/api-docs/**&quot;)\r\n                .pathsToExclude(&quot;/api-docs.yaml&quot;)\r\n                .pathsToExclude(&quot;/swagger-ui-custom.html&quot;)\r\n                .pathsToExclude(&quot;/cloudfoundryapplication.*&quot;)\r\n                .build();\r\n        }\r\n    }\r\n\r\nWhile experimenting with this and trying to get it to work, I added this to my `application.properties` file\r\n\r\n    springdoc.api-docs.path=/api-docs\r\n    springdoc.swagger-ui.path=/swagger-ui-custom.html\r\n\r\nBut, no matter what I try, I always get a 404 when I hit any of the following urls\r\n\r\n    http://localhost:8080/api-docs\r\n    http://localhost:8080/v3/api-docs\r\n    http://localhost:8080/api-docs.yaml\r\n    http://localhost:8080/v3/api-docs.yaml\r\n    http://localhost:8080/swagger-ui.html\r\n\r\nWhat am I doing wrong?\r\n\r\n","title":"404 Every Time I Try To Retrieve SpringDocs","body":"<p>I have the following library referenced in my POM file</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.14&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>In my code I have the following class defined</p>\n<pre><code>@EnableWebMvc\npublic class SwaggerMVC implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;swagger-ui.html&quot;)\n            .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\n\n        registry.addResourceHandler(&quot;/webjars/**&quot;)\n            .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n    }\n}\n</code></pre>\n<p>I also have this class defined</p>\n<pre><code>@Configuration\npublic class SwaggerConfig {\n\n   @Bean\n   public GroupedOpenApi api() {\n      return GroupedOpenApi.builder()\n            .group(&quot;my-api&quot;)\n            .pathsToMatch(&quot;/**&quot;)\n            .pathsToExclude(&quot;/error.*&quot;)\n            .pathsToExclude(&quot;/actuator.*&quot;)\n            .pathsToExclude(&quot;/test.*&quot;)\n            .pathsToExclude(&quot;/swagger-ui.html&quot;)\n            .pathsToExclude(&quot;/swagger-ui/**&quot;)\n            .pathsToExclude(&quot;/v3/api-docs/**&quot;)\n            .pathsToExclude(&quot;/v3/api-docs.yaml&quot;)\n            .pathsToExclude(&quot;/api-docs/**&quot;)\n            .pathsToExclude(&quot;/api-docs.yaml&quot;)\n            .pathsToExclude(&quot;/swagger-ui-custom.html&quot;)\n            .pathsToExclude(&quot;/cloudfoundryapplication.*&quot;)\n            .build();\n    }\n}\n</code></pre>\n<p>While experimenting with this and trying to get it to work, I added this to my <code>application.properties</code> file</p>\n<pre><code>springdoc.api-docs.path=/api-docs\nspringdoc.swagger-ui.path=/swagger-ui-custom.html\n</code></pre>\n<p>But, no matter what I try, I always get a 404 when I hit any of the following urls</p>\n<pre><code>http://localhost:8080/api-docs\nhttp://localhost:8080/v3/api-docs\nhttp://localhost:8080/api-docs.yaml\nhttp://localhost:8080/v3/api-docs.yaml\nhttp://localhost:8080/swagger-ui.html\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","regex","regex-lookarounds"],"comments":[{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1676988811,"post_id":75521673,"comment_id":133245027,"body_markdown":"Then capture the lookbehind pattern (`(?&lt;=(two ))three`) and use `m.start(1)` instead of `m.start()`.","body":"Then capture the lookbehind pattern (<code>(?&lt;=(two ))three</code>) and use <code>m.start(1)</code> instead of <code>m.start()</code>."},{"owner":{"account_id":6045939,"reputation":13,"user_id":10324344,"display_name":"annamaria07"},"score":0,"creation_date":1676991427,"post_id":75521673,"comment_id":133246022,"body_markdown":"Thank you very much for your answer! That&#39;s really a nice solution! Thanks! Would it be possible to get the same result without any changes in regex?","body":"Thank you very much for your answer! That&#39;s really a nice solution! Thanks! Would it be possible to get the same result without any changes in regex?"},{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1676992488,"post_id":75521673,"comment_id":133246411,"body_markdown":"No, you cannot. Lookbehind patterns are non-consuming patterns.","body":"No, you cannot. Lookbehind patterns are non-consuming patterns."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676988997,"creation_date":1676988997,"answer_id":75521735,"question_id":75521673,"body_markdown":"There is an easier way to do this which avoids regex and instead uses the base string functions:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String text = &quot;one two three&quot;;\r\n    String sub = &quot;two three&quot;;\r\n    int start = text.indexOf(sub);\r\n    int end = start + sub.length();\r\n    System.out.println(start + &quot; - &quot; + end);  // 4 - 13","title":"How to get Lookahead/Lookbehind position?","body":"<p>There is an easier way to do this which avoids regex and instead uses the base string functions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String text = &quot;one two three&quot;;\nString sub = &quot;two three&quot;;\nint start = text.indexOf(sub);\nint end = start + sub.length();\nSystem.out.println(start + &quot; - &quot; + end);  // 4 - 13\n</code></pre>\n"}],"owner":{"account_id":6045939,"reputation":13,"user_id":10324344,"display_name":"annamaria07"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676989799,"creation_date":1676988703,"question_id":75521673,"body_markdown":"I want to get the Lookahead/Lookbehind position. \r\nExample:\r\n\r\n```\r\nString text = &quot;one two three&quot;;\r\nString pattern = &quot;(?&lt;=two )three&quot;;\r\nMatcher m = pattern.matcher(text);\r\nwhile(m.find()){\r\n System.out.println(m.start() + &quot; - &quot; + m.end())\r\n}\r\n```\r\nOutput is &quot;8 - 13&quot; but I need to get the position where lookbehind (&quot;two&quot;) starts: &quot;4 - 13&quot;.\r\nIs it possible?","title":"How to get Lookahead/Lookbehind position?","body":"<p>I want to get the Lookahead/Lookbehind position.\nExample:</p>\n<pre><code>String text = &quot;one two three&quot;;\nString pattern = &quot;(?&lt;=two )three&quot;;\nMatcher m = pattern.matcher(text);\nwhile(m.find()){\n System.out.println(m.start() + &quot; - &quot; + m.end())\n}\n</code></pre>\n<p>Output is &quot;8 - 13&quot; but I need to get the position where lookbehind (&quot;two&quot;) starts: &quot;4 - 13&quot;.\nIs it possible?</p>\n"},{"tags":["java","image","servlets","file-upload","bufferedimage"],"comments":[{"owner":{"account_id":19469,"reputation":35953,"user_id":45685,"accept_rate":100,"display_name":"AndersK"},"score":0,"creation_date":1289601870,"post_id":4169713,"comment_id":14684703,"body_markdown":"Your best bet is to look at the file extension, there is no 100% method to determine whether a file is an image or not.","body":"Your best bet is to look at the file extension, there is no 100% method to determine whether a file is an image or not."}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":112,"is_accepted":true,"score":112,"last_activity_date":1676989769,"creation_date":1289602329,"answer_id":4169776,"question_id":4169713,"body_markdown":"I&#39;m assuming that you&#39;re running this in a servlet context. If it&#39;s affordable to check the content type based on just the file extension, then use [`ServletContext#getMimeType()`][1] to get the mime type (content type). Just check if it starts with `image/`. \r\n\r\n    String fileName = uploadedFile.getFileName();\r\n    String mimeType = getServletContext().getMimeType(fileName);\r\n    if (mimeType.startsWith(&quot;image/&quot;)) {\r\n        // It&#39;s an image.\r\n    } else {\r\n        // It&#39;s not an image.\r\n    }\r\n\r\nThe default mime types are definied in the `web.xml` of the servletcontainer in question. In for example Tomcat, it&#39;s located in `/conf/web.xml`. You can extend/override it in the `/WEB-INF/web.xml` of your webapp as follows:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;mime-mapping&gt;\r\n        &lt;extension&gt;svg&lt;/extension&gt;\r\n        &lt;mime-type&gt;image/svg+xml&lt;/mime-type&gt;\r\n    &lt;/mime-mapping&gt;\r\n\r\nBut this doesn&#39;t prevent you from users who are fooling you by changing the file extension. If you&#39;d like to cover this as well, then you can also determine the mime type based on the *actual* file content. If it&#39;s affordable to check for [only][2] BMP, GIF, JPEG, PNG, TIFF or WBMP types (but not PSD, SVG, etc), then you can just feed it directly to [`ImageIO#read()`][3] and check if it doesn&#39;t throw an exception.\r\n\r\n    try (InputStream input = uploadedFile.getInputStream()) {\r\n        try {\r\n            ImageIO.read(input).toString();\r\n            // It&#39;s an image (only BMP, GIF, JPEG, PNG, TIFF and WBMP are recognized).\r\n        } catch (Exception e) {\r\n            // It&#39;s not an image.\r\n        }\r\n    }\r\n\r\nBut if you&#39;d like to cover more image types as well, then consider using a 3rd party library which does all the work by sniffing the [file signatures][4]. For example [Apache Tika][5] which recognizes on top of `ImageIO` formats also PSD, BPG, WEBP, ICNS and SVG as well:\r\n\r\n    Tika tika = new Tika();\r\n    try (InputStream input = uploadedFile.getInputStream()) {\r\n        String mimeType = tika.detect(input);\r\n        if (mimeType.startsWith(&quot;image/&quot;)) {\r\n            // It&#39;s an image.\r\n        } else {\r\n            // It&#39;s not an image.\r\n        }\r\n    }\r\n\r\nYou could if necessary use combinations and outweigh the one and other.\r\n\r\nThat said, you don&#39;t necessarily need `ImageIO#write()` to save the uploaded image to disk. Just writing the obtained `InputStream` directly to a `Path` or any `OutputStream` like `FileOutputStream` the usual Java IO way is more than sufficient (see also https://stackoverflow.com/questions/18664579/recommended-way-to-save-files-uploaded-to-a-tomcat-servlet):\r\n\r\n    try (InputStream input = uploadedFile.getInputStream()) {\r\n        Files.copy(input, new File(uploadFolder, fileName).toPath());\r\n    }\r\n\r\nUnless you&#39;d like to gather some image information like its dimensions and/or want to manipulate it (crop/resize/rotate/convert/etc) of course.\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/servletcontext#getMimeType(java.lang.String)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/package-summary.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#read(java.io.InputStream)\r\n  [4]: https://en.wikipedia.org/wiki/List_of_file_signatures\r\n  [5]: https://tika.apache.org/\r\n","title":"How to check a uploaded file whether it is an image or other file?","body":"<p>I'm assuming that you're running this in a servlet context. If it's affordable to check the content type based on just the file extension, then use <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/servletcontext#getMimeType(java.lang.String)\" rel=\"noreferrer\"><code>ServletContext#getMimeType()</code></a> to get the mime type (content type). Just check if it starts with <code>image/</code>.</p>\n<pre><code>String fileName = uploadedFile.getFileName();\nString mimeType = getServletContext().getMimeType(fileName);\nif (mimeType.startsWith(&quot;image/&quot;)) {\n    // It's an image.\n} else {\n    // It's not an image.\n}\n</code></pre>\n<p>The default mime types are definied in the <code>web.xml</code> of the servletcontainer in question. In for example Tomcat, it's located in <code>/conf/web.xml</code>. You can extend/override it in the <code>/WEB-INF/web.xml</code> of your webapp as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mime-mapping&gt;\n    &lt;extension&gt;svg&lt;/extension&gt;\n    &lt;mime-type&gt;image/svg+xml&lt;/mime-type&gt;\n&lt;/mime-mapping&gt;\n</code></pre>\n<p>But this doesn't prevent you from users who are fooling you by changing the file extension. If you'd like to cover this as well, then you can also determine the mime type based on the <em>actual</em> file content. If it's affordable to check for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/package-summary.html\" rel=\"noreferrer\">only</a> BMP, GIF, JPEG, PNG, TIFF or WBMP types (but not PSD, SVG, etc), then you can just feed it directly to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#read(java.io.InputStream)\" rel=\"noreferrer\"><code>ImageIO#read()</code></a> and check if it doesn't throw an exception.</p>\n<pre><code>try (InputStream input = uploadedFile.getInputStream()) {\n    try {\n        ImageIO.read(input).toString();\n        // It's an image (only BMP, GIF, JPEG, PNG, TIFF and WBMP are recognized).\n    } catch (Exception e) {\n        // It's not an image.\n    }\n}\n</code></pre>\n<p>But if you'd like to cover more image types as well, then consider using a 3rd party library which does all the work by sniffing the <a href=\"https://en.wikipedia.org/wiki/List_of_file_signatures\" rel=\"noreferrer\">file signatures</a>. For example <a href=\"https://tika.apache.org/\" rel=\"noreferrer\">Apache Tika</a> which recognizes on top of <code>ImageIO</code> formats also PSD, BPG, WEBP, ICNS and SVG as well:</p>\n<pre><code>Tika tika = new Tika();\ntry (InputStream input = uploadedFile.getInputStream()) {\n    String mimeType = tika.detect(input);\n    if (mimeType.startsWith(&quot;image/&quot;)) {\n        // It's an image.\n    } else {\n        // It's not an image.\n    }\n}\n</code></pre>\n<p>You could if necessary use combinations and outweigh the one and other.</p>\n<p>That said, you don't necessarily need <code>ImageIO#write()</code> to save the uploaded image to disk. Just writing the obtained <code>InputStream</code> directly to a <code>Path</code> or any <code>OutputStream</code> like <code>FileOutputStream</code> the usual Java IO way is more than sufficient (see also <a href=\"https://stackoverflow.com/questions/18664579/recommended-way-to-save-files-uploaded-to-a-tomcat-servlet\">Recommended way to save uploaded files in a servlet application</a>):</p>\n<pre><code>try (InputStream input = uploadedFile.getInputStream()) {\n    Files.copy(input, new File(uploadFolder, fileName).toPath());\n}\n</code></pre>\n<p>Unless you'd like to gather some image information like its dimensions and/or want to manipulate it (crop/resize/rotate/convert/etc) of course.</p>\n"},{"tags":[],"owner":{"account_id":5411482,"reputation":81,"user_id":4308088,"display_name":"gagan bopanna"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1455722609,"creation_date":1455722609,"answer_id":35460768,"question_id":4169713,"body_markdown":"I used [org.apache.commons.imaging.Imaging](https://commons.apache.org/proper/commons-imaging/) in my case. Below is a sample piece of code to check if an image is a jpeg image or not. It throws ImageReadException if uploaded file is not an image.\r\n\r\n        try {\r\n            //image is InputStream\r\n            byte[] byteArray = IOUtils.toByteArray(image);\r\n            ImageFormat mimeType = Imaging.guessFormat(byteArray);\r\n            if (mimeType == ImageFormats.JPEG) {\r\n                return;\r\n            } else {\r\n                // handle image of different format. Ex: PNG\r\n            }\r\n        } catch (ImageReadException e) {\r\n            //not an image\r\n        }","title":"How to check a uploaded file whether it is an image or other file?","body":"<p>I used <a href=\"https://commons.apache.org/proper/commons-imaging/\" rel=\"noreferrer\">org.apache.commons.imaging.Imaging</a> in my case. Below is a sample piece of code to check if an image is a jpeg image or not. It throws ImageReadException if uploaded file is not an image.</p>\n\n<pre><code>    try {\n        //image is InputStream\n        byte[] byteArray = IOUtils.toByteArray(image);\n        ImageFormat mimeType = Imaging.guessFormat(byteArray);\n        if (mimeType == ImageFormats.JPEG) {\n            return;\n        } else {\n            // handle image of different format. Ex: PNG\n        }\n    } catch (ImageReadException e) {\n        //not an image\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":228010,"reputation":145,"user_id":490048,"accept_rate":100,"display_name":"gcstang"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1662391038,"creation_date":1456777141,"answer_id":35708839,"question_id":4169713,"body_markdown":"This is built into the JDK and simply requires a stream with support for \r\n\r\n    byte[] data = ;\r\n    InputStream is = new BufferedInputStream(new ByteArrayInputStream(data));\r\n    String mimeType = URLConnection.guessContentTypeFromStream(is);\r\n    //...close stream\r\n\r\nSince Java SE 6 https://docs.oracle.com/javase/6/docs/api/java/net/URLConnection.html","title":"How to check a uploaded file whether it is an image or other file?","body":"<p>This is built into the JDK and simply requires a stream with support for</p>\n<pre><code>byte[] data = ;\nInputStream is = new BufferedInputStream(new ByteArrayInputStream(data));\nString mimeType = URLConnection.guessContentTypeFromStream(is);\n//...close stream\n</code></pre>\n<p>Since Java SE 6 <a href=\"https://docs.oracle.com/javase/6/docs/api/java/net/URLConnection.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/6/docs/api/java/net/URLConnection.html</a></p>\n"},{"tags":[],"owner":{"account_id":10825123,"reputation":117,"user_id":7961246,"display_name":"Safwan Muhammed"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1586705492,"creation_date":1586703727,"answer_id":61173482,"question_id":4169713,"body_markdown":"Try using multipart file instead of `BufferedImage`\r\n\r\n  \r\n\r\n    import org.apache.http.entity.ContentType;\r\n    ...\r\n                \r\n        public void processImage(MultipartFile file) {\r\n                        \r\n           if(!Arrays.asList(ContentType.IMAGE_JPEG.getMimeType(), ContentType.IMAGE_PNG.getMimeType(), ContentType.IMAGE_GIF.getMimeType()).contains(file.getContentType())) {\r\n                throw new IllegalStateException(&quot;File must be an Image&quot;);\r\n                     }\r\n          }","title":"How to check a uploaded file whether it is an image or other file?","body":"<p>Try using multipart file instead of <code>BufferedImage</code></p>\n\n<pre><code>import org.apache.http.entity.ContentType;\n...\n\n    public void processImage(MultipartFile file) {\n\n       if(!Arrays.asList(ContentType.IMAGE_JPEG.getMimeType(), ContentType.IMAGE_PNG.getMimeType(), ContentType.IMAGE_GIF.getMimeType()).contains(file.getContentType())) {\n            throw new IllegalStateException(\"File must be an Image\");\n                 }\n      }\n</code></pre>\n"}],"owner":{"display_name":"user405398"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71876,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":4169776,"answer_count":4,"score":38,"last_activity_date":1676989769,"creation_date":1289601575,"question_id":4169713,"body_markdown":"In my web application I have an image uploading module. I want to check the uploaded file whether it&#39;s an image file or any other file. I am using Java in server side.\r\n\r\nThe image is read as `BufferedImage` in java and then I am writing it to disk with `ImageIO.write()`\r\n\r\nHow shall I check the `BufferedImage`, whether it&#39;s really an image or something else?\r\n\r\n\r\nAny suggestions or links would be appreciated.","title":"How to check a uploaded file whether it is an image or other file?","body":"<p>In my web application I have an image uploading module. I want to check the uploaded file whether it's an image file or any other file. I am using Java in server side.</p>\n\n<p>The image is read as <code>BufferedImage</code> in java and then I am writing it to disk with <code>ImageIO.write()</code></p>\n\n<p>How shall I check the <code>BufferedImage</code>, whether it's really an image or something else?</p>\n\n<p>Any suggestions or links would be appreciated.</p>\n"},{"tags":["java","spring-boot","p-lang"],"comments":[{"owner":{"account_id":26151806,"reputation":151,"user_id":19839660,"display_name":"Iv&#225;n Larios"},"score":0,"creation_date":1675279916,"post_id":75315022,"comment_id":132896817,"body_markdown":"Can you add an example of your controller class? I don&#39;t understand exactly what you refer to.","body":"Can you add an example of your controller class? I don&#39;t understand exactly what you refer to."},{"owner":{"account_id":6606089,"reputation":105,"user_id":5102878,"accept_rate":0,"display_name":"Victoriia"},"score":0,"creation_date":1675281084,"post_id":75315022,"comment_id":132897102,"body_markdown":"@Iv&#225;nLarios Added an example. Hope it clarifies the question","body":"@Iv&#225;nLarios Added an example. Hope it clarifies the question"}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675336574,"creation_date":1675290649,"answer_id":75316883,"question_id":75315022,"body_markdown":"You can create a new [`ObjectMapper`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectMapper.html) instance in your controller explicitly configuring  its [`DeserializationFeature#FAIL_ON_UNKNOWN_PROPERTIES`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/DeserializationFeature.html#FAIL_ON_IGNORED_PROPERTIES) to the value `true` that will force the fail in the case of unknown properties inside the json in the post request body like below:\r\n\r\n~~~\r\n@PostMapping(value = &quot;/updateproduct&quot;)\r\npublic Product updateProduct(@RequestBody String productString) throws JsonProcessingException {\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\r\n    //it will fail in case of unknown properties inside the json string\r\n    Product product = objectMapper.readValue(productString, Product.class);\r\n    return product;\r\n}\r\n~~~\r\n\r\nChoosing to convert the request body json to `String` you can configure manually your `ObjectMapper` local instance while you have to decide how to proceed when there is a json processing exception (in my case I simply decided to directly throw the exception but a different behaviour can be adopted) or the `UnrecognizedPropertyException` exception like the case you presented.\r\n\r\n**EDIT:**\r\nanswer the OP comment below\r\n\r\n&gt; But instead of receiving String and explicitly creating a\r\n&gt; objectMapper, I would like to find a way to keep it Product and to\r\n&gt; somehow tell Spring &quot;use this ObjectMapper bean for this specific\r\n&gt; controller&quot;.\r\n\r\nI am not aware if it is possible to do exactly what you want, but you can achieve something pretty similar: you can define a custom `ObjectMapper` bean in your configuration class so having a default primary bean and your custom bean:\r\n\r\n~~~\r\n@Configuration\r\npublic class ApplicationConfiguration {\r\n\r\n    @Bean\r\n    @Primary\r\n    public ObjectMapper objectMapper() {\r\n        return Jackson2ObjectMapperBuilder\r\n                .json()\r\n                .build();\r\n    }\r\n\r\n    @Bean(&quot;customObjectMapper&quot;)\r\n    public ObjectMapper getCustomObjectMapper() {\r\n        return Jackson2ObjectMapperBuilder\r\n                .json()\r\n                .build()\r\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\r\n    }\r\n}\r\n~~~\r\n\r\nThen in the same controller you can refer both the two beans, so one method will end with success because it works with the default primary bean and the other one will fail:\r\n\r\n~~~\r\n@RestController\r\n@RequestMapping(&quot;/&quot;)\r\npublic class ExampleController {\r\n\r\n    //fine, it is using the default primary bean so it ignores\r\n    //unknown properties in the json \r\n    @PostMapping(value = &quot;/updateproduct&quot;)\r\n    public Product updateProduct(@RequestBody Product product) {\r\n        return product;\r\n    }\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;customObjectMapper&quot;)\r\n    private ObjectMapper objectMapper;\r\n\r\n    //it is using the custom bean so it will fail \r\n    //with unknown properties in the json\r\n    @PostMapping(value = &quot;/updateproductfail&quot;)\r\n    public Product updateProductFail(@RequestBody String productString) throws JsonProcessingException {\r\n        Product product = objectMapper.readValue(productString, Product.class);\r\n        return product;\r\n    }\r\n}\r\n~~~\r\n\r\n\r\n","title":"Return error on unknown fields in JSON request body of specific controllers","body":"<p>You can create a new <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\"><code>ObjectMapper</code></a> instance in your controller explicitly configuring  its <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/DeserializationFeature.html#FAIL_ON_IGNORED_PROPERTIES\" rel=\"nofollow noreferrer\"><code>DeserializationFeature#FAIL_ON_UNKNOWN_PROPERTIES</code></a> to the value <code>true</code> that will force the fail in the case of unknown properties inside the json in the post request body like below:</p>\n<pre><code>@PostMapping(value = &quot;/updateproduct&quot;)\npublic Product updateProduct(@RequestBody String productString) throws JsonProcessingException {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\n    //it will fail in case of unknown properties inside the json string\n    Product product = objectMapper.readValue(productString, Product.class);\n    return product;\n}\n</code></pre>\n<p>Choosing to convert the request body json to <code>String</code> you can configure manually your <code>ObjectMapper</code> local instance while you have to decide how to proceed when there is a json processing exception (in my case I simply decided to directly throw the exception but a different behaviour can be adopted) or the <code>UnrecognizedPropertyException</code> exception like the case you presented.</p>\n<p><strong>EDIT:</strong>\nanswer the OP comment below</p>\n<blockquote>\n<p>But instead of receiving String and explicitly creating a\nobjectMapper, I would like to find a way to keep it Product and to\nsomehow tell Spring &quot;use this ObjectMapper bean for this specific\ncontroller&quot;.</p>\n</blockquote>\n<p>I am not aware if it is possible to do exactly what you want, but you can achieve something pretty similar: you can define a custom <code>ObjectMapper</code> bean in your configuration class so having a default primary bean and your custom bean:</p>\n<pre><code>@Configuration\npublic class ApplicationConfiguration {\n\n    @Bean\n    @Primary\n    public ObjectMapper objectMapper() {\n        return Jackson2ObjectMapperBuilder\n                .json()\n                .build();\n    }\n\n    @Bean(&quot;customObjectMapper&quot;)\n    public ObjectMapper getCustomObjectMapper() {\n        return Jackson2ObjectMapperBuilder\n                .json()\n                .build()\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\n    }\n}\n</code></pre>\n<p>Then in the same controller you can refer both the two beans, so one method will end with success because it works with the default primary bean and the other one will fail:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/&quot;)\npublic class ExampleController {\n\n    //fine, it is using the default primary bean so it ignores\n    //unknown properties in the json \n    @PostMapping(value = &quot;/updateproduct&quot;)\n    public Product updateProduct(@RequestBody Product product) {\n        return product;\n    }\n\n    @Autowired\n    @Qualifier(&quot;customObjectMapper&quot;)\n    private ObjectMapper objectMapper;\n\n    //it is using the custom bean so it will fail \n    //with unknown properties in the json\n    @PostMapping(value = &quot;/updateproductfail&quot;)\n    public Product updateProductFail(@RequestBody String productString) throws JsonProcessingException {\n        Product product = objectMapper.readValue(productString, Product.class);\n        return product;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26151806,"reputation":151,"user_id":19839660,"display_name":"Iv&#225;n Larios"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675326827,"creation_date":1675326827,"answer_id":75320448,"question_id":75315022,"body_markdown":"To change this on project level, you can add on your application.properties the following content:\r\n```\r\nspring.jackson.deserialization.fail-on-unknown-properties=true\r\n```\r\nOr if you are using an application.yaml:\r\n```\r\nspring:\r\n  jackson:\r\n    deserialization:\r\n      fail-on-unknown-properties: true\r\n```\r\nThis configuration will affect on project level, so you can keep using the correct DTO on the @RequestBody object received. This way, you don&#39;t have to do any change on your controller, but may be advisable to control the exception in your @ControllerAdvice.","title":"Return error on unknown fields in JSON request body of specific controllers","body":"<p>To change this on project level, you can add on your application.properties the following content:</p>\n<pre><code>spring.jackson.deserialization.fail-on-unknown-properties=true\n</code></pre>\n<p>Or if you are using an application.yaml:</p>\n<pre><code>spring:\n  jackson:\n    deserialization:\n      fail-on-unknown-properties: true\n</code></pre>\n<p>This configuration will affect on project level, so you can keep using the correct DTO on the @RequestBody object received. This way, you don't have to do any change on your controller, but may be advisable to control the exception in your @ControllerAdvice.</p>\n"},{"tags":[],"owner":{"account_id":24243910,"reputation":21,"user_id":18195920,"display_name":"Yaron Holland"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676989662,"creation_date":1676989662,"answer_id":75521858,"question_id":75315022,"body_markdown":"Add to the Product:\r\n\r\n```\r\n@JsonAnySetter\r\npublic Map&lt;String,Object&gt; unknownAttributes = new HashMap&lt;&gt;();\r\n```\r\n\r\nThen in the controller use:\r\n```\r\nif (!product.unknownAttributes.isEmpty()) {\r\n\r\n}\r\n```","title":"Return error on unknown fields in JSON request body of specific controllers","body":"<p>Add to the Product:</p>\n<pre><code>@JsonAnySetter\npublic Map&lt;String,Object&gt; unknownAttributes = new HashMap&lt;&gt;();\n</code></pre>\n<p>Then in the controller use:</p>\n<pre><code>if (!product.unknownAttributes.isEmpty()) {\n\n}\n</code></pre>\n"}],"owner":{"account_id":6606089,"reputation":105,"user_id":5102878,"accept_rate":0,"display_name":"Victoriia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1852,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1676989662,"creation_date":1675278352,"question_id":75315022,"body_markdown":"I have SpringBoot application X that has customer facing APIs. Those APIs receive request body as JSON.\r\n\r\nApplication X issues API calls to application Y and receives responses with JSON body.\r\n\r\nI want to prevent application X from receiving unknown fields in the request body on customer-facing controllers.\r\n\r\nI was thinking about `spring.jackson.deserialization.fail-on-unknown-properties=true` but if I understand correctly such configuration will cause a failure also if a call from application X to application Y will return response body with unknown field. Therefore this configuration will make the API between application X and application Y more coupled and less robust.\r\n\r\n**I am looking for a way to enforce &quot;fail-on-unknown-fields&quot; only for deserialization of request body at customer facing controllers of an application while allowing deserialization at other parts of the application to ignore unknown fields**\r\n\r\n\r\nExample: \r\nI have the following customer facing API.\r\n```\r\n@PostMapping\r\npublic Response updateProduct(@RequestBody Product product) {\r\n.....\r\n}\r\n```\r\nWhere\r\n```\r\nclass Product {\r\n    private int id;\r\n    private String name;\r\n    private int price;\r\n}\r\n```\r\nI want to prevent customer from passing the following body to request, because colour is not a know field.\r\n```\r\n{\r\n  &quot;id&quot;: 777,\r\n  &quot;name&quot;: &quot;apple&quot;,\r\n  &quot;price&quot;: 2,\r\n  &quot;colour&quot;: &quot;red&quot;\r\n}\r\n```\r\nBut - \r\nI want it the &quot;fail-unknown-fields&quot; to be enforced on this controller only and not at other places where Jackson is used to deserialized responses received from other applications.","title":"Return error on unknown fields in JSON request body of specific controllers","body":"<p>I have SpringBoot application X that has customer facing APIs. Those APIs receive request body as JSON.</p>\n<p>Application X issues API calls to application Y and receives responses with JSON body.</p>\n<p>I want to prevent application X from receiving unknown fields in the request body on customer-facing controllers.</p>\n<p>I was thinking about <code>spring.jackson.deserialization.fail-on-unknown-properties=true</code> but if I understand correctly such configuration will cause a failure also if a call from application X to application Y will return response body with unknown field. Therefore this configuration will make the API between application X and application Y more coupled and less robust.</p>\n<p><strong>I am looking for a way to enforce &quot;fail-on-unknown-fields&quot; only for deserialization of request body at customer facing controllers of an application while allowing deserialization at other parts of the application to ignore unknown fields</strong></p>\n<p>Example:\nI have the following customer facing API.</p>\n<pre><code>@PostMapping\npublic Response updateProduct(@RequestBody Product product) {\n.....\n}\n</code></pre>\n<p>Where</p>\n<pre><code>class Product {\n    private int id;\n    private String name;\n    private int price;\n}\n</code></pre>\n<p>I want to prevent customer from passing the following body to request, because colour is not a know field.</p>\n<pre><code>{\n  &quot;id&quot;: 777,\n  &quot;name&quot;: &quot;apple&quot;,\n  &quot;price&quot;: 2,\n  &quot;colour&quot;: &quot;red&quot;\n}\n</code></pre>\n<p>But -\nI want it the &quot;fail-unknown-fields&quot; to be enforced on this controller only and not at other places where Jackson is used to deserialized responses received from other applications.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1676906017,"post_id":75510905,"comment_id":133226603,"body_markdown":"I think I would use enums without values, and a repository to look up a record/object with the levels for a specific platform for that enum value. As an aside, why are these levels defined as strings, and not as double, float or int?","body":"I think I would use enums without values, and a repository to look up a record/object with the levels for a specific platform for that enum value. As an aside, why are these levels defined as strings, and not as double, float or int?"},{"owner":{"account_id":9436505,"reputation":70,"user_id":7018342,"display_name":"Mohit Munjal"},"score":1,"creation_date":1676907357,"post_id":75510905,"comment_id":133227005,"body_markdown":"@MarkRotteveel I have implemented in a similar way where I use a repo to look up.\nThe values specified are default values if there is nothing found during lookup. Perhaps I should define the default values in some other way?","body":"@MarkRotteveel I have implemented in a similar way where I use a repo to look up. The values specified are default values if there is nothing found during lookup. Perhaps I should define the default values in some other way?"},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1676907920,"post_id":75510905,"comment_id":133227189,"body_markdown":"The parts that change should be separate from the parts that stay the same, and you should have a separate (single) interface to map to and from as needed.","body":"The parts that change should be separate from the parts that stay the same, and you should have a separate (single) interface to map to and from as needed."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676908570,"post_id":75510905,"comment_id":133227389,"body_markdown":"That sounds like a fallback scenario that also belongs in the platform specific repository.","body":"That sounds like a fallback scenario that also belongs in the platform specific repository."}],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676989570,"creation_date":1676989570,"answer_id":75521845,"question_id":75510905,"body_markdown":"There can be different possible design, below design aim on:  \r\n\r\n1. Minimise code duplication\r\n2. Reduce effort to add new platform or alert level\r\n3. Missing value will lead to compile error when adding new `Platform` thanks to [switch expression][1].\r\n\r\n```\r\npublic enum Platform {\r\n    AWS, GCP\r\n}\r\npublic enum PlatformDefaultLevel {\r\n    ALERT {\r\n        @Override\r\n        public Level getPlatformLevel(Platform platform) {\r\n            return switch (platform) {\r\n                case AWS -&gt; new Level(&quot;0.0&quot;, &quot;0.0&quot;, null);\r\n                case GCP -&gt; new Level(&quot;1.0&quot;, &quot;1.0&quot;, null);\r\n            };\r\n        }\r\n    },\r\n    HIGH {\r\n        // do similarly\r\n    },\r\n    MEDIUM {\r\n        // do similarly\r\n    },\r\n    LOW {\r\n        // do similarly\r\n    };\r\n\r\n    record Level(String level, String levelAuto, String levelString) {\r\n    }\r\n\r\n    protected abstract Level getPlatformLevel(Platform platform);\r\n\r\n    public String getLevel(Platform platform) {\r\n        return getPlatformLevel(platform).level();\r\n    }\r\n\r\n    public String getLevelAuto(Platform platform) {\r\n        return getPlatformLevel(platform).levelAuto();\r\n    }\r\n\r\n    public String getLevelStr(Platform platform) {\r\n        return getPlatformLevel(platform).levelString();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/language/switch-expressions.html","title":"How to design an enum common to multiple platforms, but with different configurations per platform","body":"<p>There can be different possible design, below design aim on:</p>\n<ol>\n<li>Minimise code duplication</li>\n<li>Reduce effort to add new platform or alert level</li>\n<li>Missing value will lead to compile error when adding new <code>Platform</code> thanks to <a href=\"https://docs.oracle.com/en/java/javase/17/language/switch-expressions.html\" rel=\"nofollow noreferrer\">switch expression</a>.</li>\n</ol>\n<pre><code>public enum Platform {\n    AWS, GCP\n}\npublic enum PlatformDefaultLevel {\n    ALERT {\n        @Override\n        public Level getPlatformLevel(Platform platform) {\n            return switch (platform) {\n                case AWS -&gt; new Level(&quot;0.0&quot;, &quot;0.0&quot;, null);\n                case GCP -&gt; new Level(&quot;1.0&quot;, &quot;1.0&quot;, null);\n            };\n        }\n    },\n    HIGH {\n        // do similarly\n    },\n    MEDIUM {\n        // do similarly\n    },\n    LOW {\n        // do similarly\n    };\n\n    record Level(String level, String levelAuto, String levelString) {\n    }\n\n    protected abstract Level getPlatformLevel(Platform platform);\n\n    public String getLevel(Platform platform) {\n        return getPlatformLevel(platform).level();\n    }\n\n    public String getLevelAuto(Platform platform) {\n        return getPlatformLevel(platform).levelAuto();\n    }\n\n    public String getLevelStr(Platform platform) {\n        return getPlatformLevel(platform).levelString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9436505,"reputation":70,"user_id":7018342,"display_name":"Mohit Munjal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676989570,"creation_date":1676905324,"question_id":75510905,"body_markdown":"I have the following enum already implemented in my code for AWS Provider:\r\n\r\n```java\r\npublic enum LevelsAWS {\r\n\r\n\tALERT(&quot;0.0&quot;, &quot;0.0&quot;),\r\n\tHIGH(&quot;1e-8&quot;, &quot;1e-7&quot;, &quot;0&quot;),\r\n\tMEDIUM(&quot;1e-6&quot;, &quot;1e-5&quot;, &quot;1&quot;),\r\n\tLOW(&quot;1e-4&quot;, &quot;1e-3&quot;, &quot;2&quot;);\r\n\r\n\tString level;\r\n\tString levelAuto;\r\n\tString levelStr;\r\n\r\n\tHighriskLevels(String level, String levelAuto) {\r\n\t\tthis.level = level;\r\n\t\tthis.levelAuto = levelAuto;\r\n\t}\r\n\r\n\tHighriskLevels(String level, String levelAuto,\r\n\t\t\t\t   String levelStr) {\r\n\t\tthis.level = level;\r\n\t\tthis.levelAuto = levelAuto;\r\n\t\tthis.levelStr = levelStr;\r\n\t}\r\n\r\n\tpublic String getLevel() {return level;}\r\n\r\n\tpublic String getLevelAuto() {return levelAuto;}\r\n\r\n\tpublic String getLevelStr() {return levelStr;}\r\n\r\n}\r\n```\r\n\r\nNow, I am extending my logic to other providers like Azure and GCP, and I need similar enums for them as well, but the values specified for each enum object will be different. For example, for Azure it could be:\r\n\r\n```java\r\npublic enum LevelsAZURE {\r\n\r\n\tALERT(&quot;1.0&quot;, &quot;1.0&quot;),\r\n\tHIGH(&quot;1e-160&quot;, &quot;1e-175&quot;, &quot;0&quot;),\r\n\tMEDIUM(&quot;1e-110&quot;, &quot;1e-125&quot;, &quot;1&quot;),\r\n\tLOW(&quot;1e-12&quot;, &quot;1e-15&quot;, &quot;2&quot;);\r\n\r\n\tString level;\r\n\tString levelAuto;\r\n\tString levelStr;\r\n\r\n\tHighriskLevels(String level, String levelAuto) {\r\n\t\tthis.level = level;\r\n\t\tthis.levelAuto = levelAuto;\r\n\t}\r\n\r\n\tHighriskLevels(String level, String levelAuto,\r\n\t\t\t\t   String levelStr) {\r\n\t\tthis.level = level;\r\n\t\tthis.levelAuto = levelAuto;\r\n\t\tthis.levelStr = levelStr;\r\n\t}\r\n\r\n\tpublic String getLevel() {return level;}\r\n\r\n\tpublic String getLevelAuto() {return levelAuto;}\r\n\r\n\tpublic String getLevelStr() {return levelStr;}\r\n\r\n}\r\n```\r\n\r\nThis would obviously work, however repeats a lot of code. What&#39;s a more object oriented way to achieve the same?","title":"How to design an enum common to multiple platforms, but with different configurations per platform","body":"<p>I have the following enum already implemented in my code for AWS Provider:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum LevelsAWS {\n\n    ALERT(&quot;0.0&quot;, &quot;0.0&quot;),\n    HIGH(&quot;1e-8&quot;, &quot;1e-7&quot;, &quot;0&quot;),\n    MEDIUM(&quot;1e-6&quot;, &quot;1e-5&quot;, &quot;1&quot;),\n    LOW(&quot;1e-4&quot;, &quot;1e-3&quot;, &quot;2&quot;);\n\n    String level;\n    String levelAuto;\n    String levelStr;\n\n    HighriskLevels(String level, String levelAuto) {\n        this.level = level;\n        this.levelAuto = levelAuto;\n    }\n\n    HighriskLevels(String level, String levelAuto,\n                   String levelStr) {\n        this.level = level;\n        this.levelAuto = levelAuto;\n        this.levelStr = levelStr;\n    }\n\n    public String getLevel() {return level;}\n\n    public String getLevelAuto() {return levelAuto;}\n\n    public String getLevelStr() {return levelStr;}\n\n}\n</code></pre>\n<p>Now, I am extending my logic to other providers like Azure and GCP, and I need similar enums for them as well, but the values specified for each enum object will be different. For example, for Azure it could be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum LevelsAZURE {\n\n    ALERT(&quot;1.0&quot;, &quot;1.0&quot;),\n    HIGH(&quot;1e-160&quot;, &quot;1e-175&quot;, &quot;0&quot;),\n    MEDIUM(&quot;1e-110&quot;, &quot;1e-125&quot;, &quot;1&quot;),\n    LOW(&quot;1e-12&quot;, &quot;1e-15&quot;, &quot;2&quot;);\n\n    String level;\n    String levelAuto;\n    String levelStr;\n\n    HighriskLevels(String level, String levelAuto) {\n        this.level = level;\n        this.levelAuto = levelAuto;\n    }\n\n    HighriskLevels(String level, String levelAuto,\n                   String levelStr) {\n        this.level = level;\n        this.levelAuto = levelAuto;\n        this.levelStr = levelStr;\n    }\n\n    public String getLevel() {return level;}\n\n    public String getLevelAuto() {return levelAuto;}\n\n    public String getLevelStr() {return levelStr;}\n\n}\n</code></pre>\n<p>This would obviously work, however repeats a lot of code. What's a more object oriented way to achieve the same?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14589181,"reputation":285,"user_id":10536936,"display_name":"Ali Zedan"},"score":0,"creation_date":1676991480,"post_id":75521829,"comment_id":133246039,"body_markdown":"I hope this answer could help you: \nhttps://stackoverflow.com/questions/43518374/mapping-a-dto-in-a-dto-to-entity-in-entity-with-mapstruct","body":"I hope this answer could help you:  <a href=\"https://stackoverflow.com/questions/43518374/mapping-a-dto-in-a-dto-to-entity-in-entity-with-mapstruct\" title=\"mapping a dto in a dto to entity in entity with mapstruct\">stackoverflow.com/questions/43518374/&hellip;</a>"}],"owner":{"account_id":27348862,"reputation":3,"user_id":20858348,"display_name":"8100ming"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676989502,"creation_date":1676989502,"question_id":75521829,"body_markdown":"I have an Entity which has another entity in it and I need to convert it to DTO using mapStruct\r\n\r\nthis is my message entity which has user entity\r\n```\r\npublic class Message {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    private Integer id;\r\n    @Size(min=2, max=50)\r\n    private String text;\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User author;\r\n\r\n    public Message(String text, User author) {\r\n        this.text = text;\r\n        this.author = author;\r\n    }\r\n}\r\n```\r\ni am trying to convert it to dto,my dto class\r\n\r\n\r\n```\r\n@Data\r\npublic class MessageDto {\r\n    private String text;\r\n    UserDto userDto;\r\n}\r\n```\r\nNext comes the user class Dto\r\n\r\n\r\n```\r\n@Data\r\npublic class UserDto {\r\n    private Long id;\r\n    private String username;\r\n}\r\n\r\n```\r\nmy Message mapper class where I declare a method to convert List&lt;Message&gt; to List&lt;MessageDTO&gt;\r\n\r\n```\r\n    @GetMapping(value = &quot;messageAll&quot;)\r\n    public List&lt;MessageDto&gt; allMesage() {\r\n        messages = new ArrayList&lt;&gt;();\r\n        messageRepository.findAll().forEach(messages::add);\r\n        return messageMapper.INSTANCE.toDTOList(messages);\r\n    }\r\n```\r\nBut it pulls out only the text from the List&lt;message&gt;, and in the UserDto field, throws null\r\n\r\n[enter image description here](https://i.stack.imgur.com/7CaIP.png)\r\n\r\n","title":"Java mapstruct how to convert Entity to DTO","body":"<p>I have an Entity which has another entity in it and I need to convert it to DTO using mapStruct</p>\n<p>this is my message entity which has user entity</p>\n<pre><code>public class Message {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Integer id;\n    @Size(min=2, max=50)\n    private String text;\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User author;\n\n    public Message(String text, User author) {\n        this.text = text;\n        this.author = author;\n    }\n}\n</code></pre>\n<p>i am trying to convert it to dto,my dto class</p>\n<pre><code>@Data\npublic class MessageDto {\n    private String text;\n    UserDto userDto;\n}\n</code></pre>\n<p>Next comes the user class Dto</p>\n<pre><code>@Data\npublic class UserDto {\n    private Long id;\n    private String username;\n}\n\n</code></pre>\n<p>my Message mapper class where I declare a method to convert List to List</p>\n<pre><code>    @GetMapping(value = &quot;messageAll&quot;)\n    public List&lt;MessageDto&gt; allMesage() {\n        messages = new ArrayList&lt;&gt;();\n        messageRepository.findAll().forEach(messages::add);\n        return messageMapper.INSTANCE.toDTOList(messages);\n    }\n</code></pre>\n<p>But it pulls out only the text from the List, and in the UserDto field, throws null</p>\n<p><a href=\"https://i.stack.imgur.com/7CaIP.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","swing","fonts"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1429362922,"creation_date":1429362168,"answer_id":29717746,"question_id":29717666,"body_markdown":"You can use the XOR operator, `^` to flip the desired Font style bit.\r\n\r\nThe mask for italic is 2 and for bold is 1.\r\n\r\nFor example:\r\n\r\n    import java.awt.Font;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import javax.swing.*;\r\n    \r\n    public class TestBitFlip extends JPanel {\r\n       private JLabel label = new JLabel(&quot;Fubarlicious!&quot;);\r\n       \r\n       public TestBitFlip() {\r\n          add(label);\r\n          add(new JButton(new FontAction(&quot;Bold&quot;, KeyEvent.VK_B, Font.BOLD)));\r\n          add(new JButton(new FontAction(&quot;Italic&quot;, KeyEvent.VK_I, Font.ITALIC)));\r\n       }\r\n       \r\n       private class FontAction extends AbstractAction {\r\n          private int mask;\r\n    \r\n          public FontAction(String name, int mnemonic, int mask) {\r\n             super(name);\r\n             putValue(MNEMONIC_KEY, mnemonic);\r\n             this.mask = mask;\r\n          }\r\n    \r\n          @Override\r\n          public void actionPerformed(ActionEvent e) {\r\n             Font font = label.getFont();\r\n             int style = font.getStyle();\r\n             style ^= mask;\r\n             font = font.deriveFont(style);\r\n             label.setFont(font);\r\n          }\r\n       }\r\n    \r\n       private static void createAndShowGui() {\r\n          TestBitFlip mainPanel = new TestBitFlip();\r\n    \r\n          JFrame frame = new JFrame(&quot;TestBitFlip&quot;);\r\n          frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n          frame.getContentPane().add(mainPanel);\r\n          frame.pack();\r\n          frame.setLocationByPlatform(true);\r\n          frame.setVisible(true);\r\n       }\r\n    \r\n       public static void main(String[] args) {\r\n          SwingUtilities.invokeLater(new Runnable() {\r\n             public void run() {\r\n                createAndShowGui();\r\n             }\r\n          });\r\n       }\r\n    }\r\n\r\n","title":"Removing italic or Bold, without removing other formattings","body":"<p>You can use the XOR operator, <code>^</code> to flip the desired Font style bit.</p>\n\n<p>The mask for italic is 2 and for bold is 1.</p>\n\n<p>For example:</p>\n\n<pre><code>import java.awt.Font;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport javax.swing.*;\n\npublic class TestBitFlip extends JPanel {\n   private JLabel label = new JLabel(\"Fubarlicious!\");\n\n   public TestBitFlip() {\n      add(label);\n      add(new JButton(new FontAction(\"Bold\", KeyEvent.VK_B, Font.BOLD)));\n      add(new JButton(new FontAction(\"Italic\", KeyEvent.VK_I, Font.ITALIC)));\n   }\n\n   private class FontAction extends AbstractAction {\n      private int mask;\n\n      public FontAction(String name, int mnemonic, int mask) {\n         super(name);\n         putValue(MNEMONIC_KEY, mnemonic);\n         this.mask = mask;\n      }\n\n      @Override\n      public void actionPerformed(ActionEvent e) {\n         Font font = label.getFont();\n         int style = font.getStyle();\n         style ^= mask;\n         font = font.deriveFont(style);\n         label.setFont(font);\n      }\n   }\n\n   private static void createAndShowGui() {\n      TestBitFlip mainPanel = new TestBitFlip();\n\n      JFrame frame = new JFrame(\"TestBitFlip\");\n      frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n      frame.getContentPane().add(mainPanel);\n      frame.pack();\n      frame.setLocationByPlatform(true);\n      frame.setVisible(true);\n   }\n\n   public static void main(String[] args) {\n      SwingUtilities.invokeLater(new Runnable() {\n         public void run() {\n            createAndShowGui();\n         }\n      });\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7421543,"reputation":2880,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676989418,"creation_date":1676989075,"answer_id":75521752,"question_id":29717666,"body_markdown":"I was experiencing some odd behavior using [Hovercraft Full Of Eels][1]&#39; bitwise solution in conjunction with HTML labels. I took my own approach using [`Font.deriveFont(Map&lt;? extends Attribute, ?&gt;)`][2]:\r\n\r\n    public class FontUtils {\r\n    \r\n    \tpublic static Font getBold(Font font, boolean bold) {\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tMap&lt;TextAttribute, Object&gt; fontAttributes = (Map&lt;TextAttribute, Object&gt;) font.getAttributes();\r\n    \t\tfontAttributes.put(TextAttribute.WEIGHT, bold ? TextAttribute.WEIGHT_BOLD : TextAttribute.WEIGHT_REGULAR);\r\n    \t\treturn font.deriveFont(fontAttributes);\r\n    \t}\r\n    \r\n    \tpublic static Font getItalic(Font font, boolean italic) {\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tMap&lt;TextAttribute, Object&gt; fontAttributes = (Map&lt;TextAttribute, Object&gt;) font.getAttributes();\r\n    \t\tfontAttributes.put(TextAttribute.POSTURE,\r\n    \t\t\t\titalic ? TextAttribute.POSTURE_OBLIQUE : TextAttribute.POSTURE_REGULAR);\r\n    \t\treturn font.deriveFont(fontAttributes);\r\n    \t}\r\n    \r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/522444/hovercraft-full-of-eels\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/awt/Font.html#deriveFont-java.util.Map-","title":"Removing italic or Bold, without removing other formattings","body":"<p>I was experiencing some odd behavior using <a href=\"https://stackoverflow.com/users/522444/hovercraft-full-of-eels\">Hovercraft Full Of Eels</a>' bitwise solution in conjunction with HTML labels. I took my own approach using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Font.html#deriveFont-java.util.Map-\" rel=\"nofollow noreferrer\"><code>Font.deriveFont(Map&lt;? extends Attribute, ?&gt;)</code></a>:</p>\n<pre><code>public class FontUtils {\n\n    public static Font getBold(Font font, boolean bold) {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        Map&lt;TextAttribute, Object&gt; fontAttributes = (Map&lt;TextAttribute, Object&gt;) font.getAttributes();\n        fontAttributes.put(TextAttribute.WEIGHT, bold ? TextAttribute.WEIGHT_BOLD : TextAttribute.WEIGHT_REGULAR);\n        return font.deriveFont(fontAttributes);\n    }\n\n    public static Font getItalic(Font font, boolean italic) {\n        @SuppressWarnings(&quot;unchecked&quot;)\n        Map&lt;TextAttribute, Object&gt; fontAttributes = (Map&lt;TextAttribute, Object&gt;) font.getAttributes();\n        fontAttributes.put(TextAttribute.POSTURE,\n                italic ? TextAttribute.POSTURE_OBLIQUE : TextAttribute.POSTURE_REGULAR);\n        return font.deriveFont(fontAttributes);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6163784,"reputation":11,"user_id":4804468,"display_name":"Sascha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1974,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676989418,"creation_date":1429361783,"question_id":29717666,"body_markdown":"I&#39;m working on a scaled down Text Editor. There is a JLabel, which should be made italic, Bold, and different Fonts and so on. That already works, but I have a problem, when the text is italic *and* bold to remove just one of them, when the option is clicked again. E.G. when it&#39;s italic and bold and I click on italic again, it also removes the bold formation.\r\n\r\nMy code looks like this (italic example, bold looks the same):\r\n\r\n    italic.addActionListener(\r\n\t\t\t\te -&gt; {\r\n\t\t\t\t\tif(text.getFont().getStyle() != Font.ITALIC) {\r\n\t\t\t\t\t\tFont f = new Font(text.getFont().getName(), text.getFont().getStyle() | Font.ITALIC, text.getFont().getSize());\r\n\t\t\t\t\t\ttext.setFont(f);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tFont f = new Font(text.getFont().getName(), text.getFont().getStyle() - Font.ITALIC, text.getFont().getSize());\r\n\t\t\t\t\t\ttext.setFont(f);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\nThe only solution I came up with is to check every possible case, but I guess there is an easier solution.","title":"Removing italic or Bold, without removing other formattings","body":"<p>I'm working on a scaled down Text Editor. There is a JLabel, which should be made italic, Bold, and different Fonts and so on. That already works, but I have a problem, when the text is italic <em>and</em> bold to remove just one of them, when the option is clicked again. E.G. when it's italic and bold and I click on italic again, it also removes the bold formation.</p>\n\n<p>My code looks like this (italic example, bold looks the same):</p>\n\n<pre><code>italic.addActionListener(\n            e -&gt; {\n                if(text.getFont().getStyle() != Font.ITALIC) {\n                    Font f = new Font(text.getFont().getName(), text.getFont().getStyle() | Font.ITALIC, text.getFont().getSize());\n                    text.setFont(f);\n                } else {\n                    Font f = new Font(text.getFont().getName(), text.getFont().getStyle() - Font.ITALIC, text.getFont().getSize());\n                    text.setFont(f);\n                }\n            }\n        );\n</code></pre>\n\n<p>The only solution I came up with is to check every possible case, but I guess there is an easier solution.</p>\n"},{"tags":["java","concurrency","tree"],"answers":[{"tags":[],"owner":{"account_id":1396503,"reputation":580,"user_id":1326159,"accept_rate":65,"display_name":"giocarmine"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1340629496,"creation_date":1340629496,"answer_id":11189947,"question_id":11189784,"body_markdown":"You could use a reader-writer lock in your structure, in a way that multiple threads can read cuncurrently but only one thread at a time can modify it.\r\nIf some thread tries to modify the structure it cannot do it until all of the readers have done their reads.\r\nIf a thread wants to read it can only if a writer isn&#39;t already working, or it is on shedule of doing some modifications.\r\nMaybe a look at this could help:\r\n\r\nhttp://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html","title":"Efficient concurrent tree","body":"<p>You could use a reader-writer lock in your structure, in a way that multiple threads can read cuncurrently but only one thread at a time can modify it.\nIf some thread tries to modify the structure it cannot do it until all of the readers have done their reads.\nIf a thread wants to read it can only if a writer isn't already working, or it is on shedule of doing some modifications.\nMaybe a look at this could help:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html\" rel=\"nofollow\">http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html</a></p>\n"},{"tags":[],"owner":{"account_id":267393,"reputation":10719,"user_id":555553,"accept_rate":62,"display_name":"mishadoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340629942,"creation_date":1340629942,"answer_id":11190062,"question_id":11189784,"body_markdown":"Basic idea with Read/Write lock\r\n\r\nFor all write methods use following idiom:\r\n\r\n    someWriteMethod(){\r\n      writeLock.lock();\r\n      // logic\r\n      writeLock.unlock();\r\n    }\r\n\r\nFor all read methods use similar code:\r\n\r\n    someReadMethod(){\r\n      readLock.lock();\r\n      // logic\r\n      readLock.unlock();\r\n    }\r\n\r\n* If at least one method performs writing, no one can obtain read or write lock.\r\n* If at least one method performs reading, any numbers of thread can obtain readlock.\r\n* If at least one method performs reading, no one can obtain write lock.\r\n\r\nNote, if your code (replace logic comment above) can throw exception make sure you release locks before exit from method in finally section.","title":"Efficient concurrent tree","body":"<p>Basic idea with Read/Write lock</p>\n\n<p>For all write methods use following idiom:</p>\n\n<pre><code>someWriteMethod(){\n  writeLock.lock();\n  // logic\n  writeLock.unlock();\n}\n</code></pre>\n\n<p>For all read methods use similar code:</p>\n\n<pre><code>someReadMethod(){\n  readLock.lock();\n  // logic\n  readLock.unlock();\n}\n</code></pre>\n\n<ul>\n<li>If at least one method performs writing, no one can obtain read or write lock.</li>\n<li>If at least one method performs reading, any numbers of thread can obtain readlock.</li>\n<li>If at least one method performs reading, no one can obtain write lock.</li>\n</ul>\n\n<p>Note, if your code (replace logic comment above) can throw exception make sure you release locks before exit from method in finally section.</p>\n"},{"tags":[],"owner":{"account_id":101191,"reputation":4195,"user_id":272388,"accept_rate":100,"display_name":"Kru"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1340707529,"creation_date":1340630106,"answer_id":11190108,"question_id":11189784,"body_markdown":"The Java structure that is the closest to what you may need is a [ConcurrentSkipListSet][2] (or maybe [ConcurrentSkipListMap][1]).\r\n\r\n----------\r\nIf you need a more custom approach, you can implement a custom tree structure if you have a hierarchic read-write lock.\r\nHere is an answerto a similar question about how to implement a reentrant read-write lock:\r\nhttps://stackoverflow.com/a/6154873/272388\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentSkipListMap.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentSkipListSet.html","title":"Efficient concurrent tree","body":"<p>The Java structure that is the closest to what you may need is a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentSkipListSet.html\" rel=\"nofollow noreferrer\">ConcurrentSkipListSet</a> (or maybe <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ConcurrentSkipListMap.html\" rel=\"nofollow noreferrer\">ConcurrentSkipListMap</a>).</p>\n\n<hr>\n\n<p>If you need a more custom approach, you can implement a custom tree structure if you have a hierarchic read-write lock.\nHere is an answerto a similar question about how to implement a reentrant read-write lock:\n<a href=\"https://stackoverflow.com/a/6154873/272388\">https://stackoverflow.com/a/6154873/272388</a></p>\n"},{"tags":[],"owner":{"account_id":429234,"reputation":3009,"user_id":812018,"display_name":"npgall"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1676989277,"creation_date":1341249186,"answer_id":11298159,"question_id":11189784,"body_markdown":"Take a look at: [Concurrent-Trees](https://github.com/npgall/concurrent-trees) on Google code for a way to modify tree-like structures without locking.\r\n\r\nThe project provides Concurrent Radix and Suffix trees for Java. They supports concurrent reads and writes, and reads are lock-free. It works by applying patches to the tree atomically. While these types of tree might not be exactly what you want, the approach using &quot;patching&quot; as described in [TreeDesign](https://github.com/npgall/concurrent-trees/blob/master/documentation/TreeDesign.md) is useful for any kind of tree-like structure.\r\n\r\nThe trees are intended for high concurrency read-mostly use cases, where (say) a background thread might be inserting or deleting entries from the tree while many foreground threads would continue to traverse it unimpeded by the modifications.\r\n","title":"Efficient concurrent tree","body":"<p>Take a look at: <a href=\"https://github.com/npgall/concurrent-trees\" rel=\"nofollow noreferrer\">Concurrent-Trees</a> on Google code for a way to modify tree-like structures without locking.</p>\n<p>The project provides Concurrent Radix and Suffix trees for Java. They supports concurrent reads and writes, and reads are lock-free. It works by applying patches to the tree atomically. While these types of tree might not be exactly what you want, the approach using &quot;patching&quot; as described in <a href=\"https://github.com/npgall/concurrent-trees/blob/master/documentation/TreeDesign.md\" rel=\"nofollow noreferrer\">TreeDesign</a> is useful for any kind of tree-like structure.</p>\n<p>The trees are intended for high concurrency read-mostly use cases, where (say) a background thread might be inserting or deleting entries from the tree while many foreground threads would continue to traverse it unimpeded by the modifications.</p>\n"}],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8352,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":11298159,"answer_count":4,"score":14,"last_activity_date":1676989277,"creation_date":1340628888,"question_id":11189784,"body_markdown":"I&#39;m looking for an efficient way to implement a concurrent tree structure. If that helps, assume that I have a lot more read accesses than changes to the structure.\r\n\r\nThe tree should support these operations:\r\n\r\n- Adding and removing nodes\r\n- Sort branches every time a new node is inserted\r\n- Iterate over all the nodes (without ConcurrentModificationException)\r\n- Look up an element by path","title":"Efficient concurrent tree","body":"<p>I'm looking for an efficient way to implement a concurrent tree structure. If that helps, assume that I have a lot more read accesses than changes to the structure.</p>\n\n<p>The tree should support these operations:</p>\n\n<ul>\n<li>Adding and removing nodes</li>\n<li>Sort branches every time a new node is inserted</li>\n<li>Iterate over all the nodes (without ConcurrentModificationException)</li>\n<li>Look up an element by path</li>\n</ul>\n"},{"tags":["java","spring","spring-mvc","json-patch"],"answers":[{"tags":[],"owner":{"account_id":1354796,"reputation":1589,"user_id":1293433,"display_name":"aux"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1489736620,"creation_date":1489658587,"answer_id":42830785,"question_id":42590027,"body_markdown":"Seems that current implementation on spring-data-rest converts paths to SpEL to apply values directly on beans. See [PatchOperation (v2.5.x)][1].\r\n\r\nConsider these options:\r\n\r\n* Instead of json-patch use **json-merge** PATCH request to send partial updates (with &quot;application/json&quot; or &quot;application/merge-patch+json&quot; content type). This will respect `@JsonIgnore` and other Jackson annotations and also treat associations differently.\r\n* You can **disable &quot;json-patch+json&quot;** completely, for example by adding a security filter\r\n* You can always create your custom json-patch implementation, if you still need it\r\n* Use application-level joining not relying on JPA, i.e. only exposing IDs of the linked entities and providing custom links in your `ResourceProcessor`.\r\n\r\nAdditionally, if you&#39;re using JPA and `Comment.article` is annotated with `@ManyToOne` make sure that there&#39;s no cascading on association. Even if the article object is modified with patch it won&#39;t be saved together with the comment.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-rest/blob/f92169d7fb66026bbb6615bcbc30375002f171d1/spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java#L146","title":"Securing JSON-PATCH paths in Spring Boot Data Rest application","body":"<p>Seems that current implementation on spring-data-rest converts paths to SpEL to apply values directly on beans. See <a href=\"https://github.com/spring-projects/spring-data-rest/blob/f92169d7fb66026bbb6615bcbc30375002f171d1/spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/patch/PatchOperation.java#L146\" rel=\"noreferrer\">PatchOperation (v2.5.x)</a>.</p>\n\n<p>Consider these options:</p>\n\n<ul>\n<li>Instead of json-patch use <strong>json-merge</strong> PATCH request to send partial updates (with \"application/json\" or \"application/merge-patch+json\" content type). This will respect <code>@JsonIgnore</code> and other Jackson annotations and also treat associations differently.</li>\n<li>You can <strong>disable \"json-patch+json\"</strong> completely, for example by adding a security filter</li>\n<li>You can always create your custom json-patch implementation, if you still need it</li>\n<li>Use application-level joining not relying on JPA, i.e. only exposing IDs of the linked entities and providing custom links in your <code>ResourceProcessor</code>.</li>\n</ul>\n\n<p>Additionally, if you're using JPA and <code>Comment.article</code> is annotated with <code>@ManyToOne</code> make sure that there's no cascading on association. Even if the article object is modified with patch it won't be saved together with the comment.</p>\n"},{"tags":[],"owner":{"account_id":88507,"reputation":4193,"user_id":244744,"accept_rate":33,"display_name":"Matthew Buckett"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676989193,"creation_date":1676988181,"answer_id":75521574,"question_id":42590027,"body_markdown":"There&#39;s been a recent fix in Spring Data Rest: \r\n\r\nhttps://github.com/spring-projects/spring-data-rest/issues/2177\r\n\r\nThe commit that resolves this issue is:\r\n\r\nhttps://github.com/spring-projects/spring-data-rest/commit/5d0687d1a1bb9a84264ecb4cd088907837c382d3\r\n\r\nFrom a quick read this seems to be checking that when applying a JSON patch to an entity a check is done with Jackson that the path should be accessible (read/write).\r\n\r\nThis should prevent users from being able to specify paths in the JSON patch that aren&#39;t normally exposed through POST/GET requests that are mapped directly onto entities through Jackson. I think that if you had marked the article as readable from the comment and the title attribute as writeable then the new code should allow it. Or that&#39;s I think what `org.springframework.data.rest.webmvc.json.patch.JsonPointerMapping#verify` is trying to do.\r\n\r\nSo if you marked the article on the comment as not being readable through Jackson (`@JsonIgnore` on the getter) then JSON patch shouldn&#39;t allow the title of the article to be set through a comment. The association would still exist, just not be exposed through JSON serialization, I&#39;m not sure if this would cause problems for your application.\r\n\r\nThe change is released in Spring Data Rest 4.0.0 which is part of Spring Data 2022.0.1 which is in Spring Boot 3.0.2.\r\n\r\nhttps://github.com/spring-projects/spring-data-rest/releases/tag/4.0.0\r\nhttps://github.com/spring-projects/spring-data-bom/releases/tag/2022.0.1\r\nhttps://github.com/spring-projects/spring-boot/releases/tag/v3.0.2\r\n\r\n\r\n","title":"Securing JSON-PATCH paths in Spring Boot Data Rest application","body":"<p>There's been a recent fix in Spring Data Rest:</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-rest/issues/2177\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-rest/issues/2177</a></p>\n<p>The commit that resolves this issue is:</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-rest/commit/5d0687d1a1bb9a84264ecb4cd088907837c382d3\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-rest/commit/5d0687d1a1bb9a84264ecb4cd088907837c382d3</a></p>\n<p>From a quick read this seems to be checking that when applying a JSON patch to an entity a check is done with Jackson that the path should be accessible (read/write).</p>\n<p>This should prevent users from being able to specify paths in the JSON patch that aren't normally exposed through POST/GET requests that are mapped directly onto entities through Jackson. I think that if you had marked the article as readable from the comment and the title attribute as writeable then the new code should allow it. Or that's I think what <code>org.springframework.data.rest.webmvc.json.patch.JsonPointerMapping#verify</code> is trying to do.</p>\n<p>So if you marked the article on the comment as not being readable through Jackson (<code>@JsonIgnore</code> on the getter) then JSON patch shouldn't allow the title of the article to be set through a comment. The association would still exist, just not be exposed through JSON serialization, I'm not sure if this would cause problems for your application.</p>\n<p>The change is released in Spring Data Rest 4.0.0 which is part of Spring Data 2022.0.1 which is in Spring Boot 3.0.2.</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-rest/releases/tag/4.0.0\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-rest/releases/tag/4.0.0</a>\n<a href=\"https://github.com/spring-projects/spring-data-bom/releases/tag/2022.0.1\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-bom/releases/tag/2022.0.1</a>\n<a href=\"https://github.com/spring-projects/spring-boot/releases/tag/v3.0.2\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/releases/tag/v3.0.2</a></p>\n"}],"owner":{"account_id":3007659,"reputation":647,"user_id":2551817,"accept_rate":25,"display_name":"sofend"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3795,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":42830785,"answer_count":2,"score":13,"last_activity_date":1676989193,"creation_date":1488583068,"question_id":42590027,"body_markdown":"I&#39;m using a pretty vanilla `spring-boot-starter-data-rest` setup and enabled the `PATCH` method.  All is working, but I have a security concern and wonder what&#39;s the recommended way of mitigating it.\r\n\r\nThe problem is that `PATCH` `path`s allow reachable entities to be updated from a different endpoint.  So, suppose I have a `comments` endpoint and an `article` endpoint.  Each comment has a to-one association with its article.  A user that has permission to edit a comment could then do something like this:\r\n\r\n\r\n    PATCH http://some.domain.foo/api/comments/1234\r\n    Content-Type: application/json-patch+json\r\n    \r\n    [\r\n        { &quot;op&quot;: &quot;replace&quot;, &quot;path&quot;: &quot;/article/title&quot;, &quot;value&quot;: &quot;foobar2&quot; }\r\n    ]\r\n\r\nand thereby change the title of the article !!\r\n\r\nClearly this ain&#39;t good.  \r\n\r\nIn this case, for other parts of the API the association to the &quot;article&quot; needs to be traversable.  But it must be read-only.\r\n\r\nSo... how do I accomplish this in Spring?  \r\n\r\nIntercept the request?\r\nImplement a handler method?\r\nWrite my own Controller from scratch ?\r\n\r\nThanks!","title":"Securing JSON-PATCH paths in Spring Boot Data Rest application","body":"<p>I'm using a pretty vanilla <code>spring-boot-starter-data-rest</code> setup and enabled the <code>PATCH</code> method.  All is working, but I have a security concern and wonder what's the recommended way of mitigating it.</p>\n\n<p>The problem is that <code>PATCH</code> <code>path</code>s allow reachable entities to be updated from a different endpoint.  So, suppose I have a <code>comments</code> endpoint and an <code>article</code> endpoint.  Each comment has a to-one association with its article.  A user that has permission to edit a comment could then do something like this:</p>\n\n<pre><code>PATCH http://some.domain.foo/api/comments/1234\nContent-Type: application/json-patch+json\n\n[\n    { \"op\": \"replace\", \"path\": \"/article/title\", \"value\": \"foobar2\" }\n]\n</code></pre>\n\n<p>and thereby change the title of the article !!</p>\n\n<p>Clearly this ain't good.  </p>\n\n<p>In this case, for other parts of the API the association to the \"article\" needs to be traversable.  But it must be read-only.</p>\n\n<p>So... how do I accomplish this in Spring?  </p>\n\n<p>Intercept the request?\nImplement a handler method?\nWrite my own Controller from scratch ?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","kubernetes","jenkins","groovy","jenkins-pipeline"],"comments":[{"owner":{"account_id":1317803,"reputation":9643,"user_id":1264304,"accept_rate":63,"display_name":"rok"},"score":1,"creation_date":1676988354,"post_id":75518522,"comment_id":133244844,"body_markdown":"can you share the commands you used for raising jenkins and its full (relevant) `values.yaml`","body":"can you share the commands you used for raising jenkins and its full (relevant) <code>values.yaml</code>"},{"owner":{"account_id":1317803,"reputation":9643,"user_id":1264304,"accept_rate":63,"display_name":"rok"},"score":1,"creation_date":1676988413,"post_id":75518522,"comment_id":133244867,"body_markdown":"`changing to &#39;WebSocket&#39; connection and change the port to Random for the agent instead of 50000.` this is not needed by default","body":"<code>changing to &#39;WebSocket&#39; connection and change the port to Random for the agent instead of 50000.</code> this is not needed by default"},{"owner":{"account_id":1317803,"reputation":9643,"user_id":1264304,"accept_rate":63,"display_name":"rok"},"score":1,"creation_date":1676988540,"post_id":75518522,"comment_id":133244919,"body_markdown":"you see a working example of Jenkins on Kubernetes at my blog where I wrote about how to [Install Jenkins helm chart](https://rokpoto.com/jenkins-docker-in-docker-agent/#install-jenkins-helm-chart)","body":"you see a working example of Jenkins on Kubernetes at my blog where I wrote about how to <a href=\"https://rokpoto.com/jenkins-docker-in-docker-agent/#install-jenkins-helm-chart\" rel=\"nofollow noreferrer\">Install Jenkins helm chart</a>"},{"owner":{"account_id":11755625,"reputation":421,"user_id":8603405,"accept_rate":80,"display_name":"EilonA"},"score":0,"creation_date":1676989016,"post_id":75518522,"comment_id":133245108,"body_markdown":"I&#39;ve reverted the websocket and used fixed port of 50000.\nNow I&#39;ve used POD_LABEL and podTemplate inside the job and it works!!!\nBut how can I use my podTemplate settings without inserting inside each job? it seems like it ignores my settings","body":"I&#39;ve reverted the websocket and used fixed port of 50000. Now I&#39;ve used POD_LABEL and podTemplate inside the job and it works!!! But how can I use my podTemplate settings without inserting inside each job? it seems like it ignores my settings"},{"owner":{"account_id":1317803,"reputation":9643,"user_id":1264304,"accept_rate":63,"display_name":"rok"},"score":0,"creation_date":1678224496,"post_id":75518522,"comment_id":133491295,"body_markdown":"you need to specify agents along with `customJenkinsLabels` in `additionalAgents: ` in charts `values.yaml` . Reference those labels inside the jobs.","body":"you need to specify agents along with <code>customJenkinsLabels</code> in <code>additionalAgents: </code> in charts <code>values.yaml</code> . Reference those labels inside the jobs."}],"owner":{"account_id":11755625,"reputation":421,"user_id":8603405,"accept_rate":80,"display_name":"EilonA"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676988958,"creation_date":1676971667,"question_id":75518522,"body_markdown":"I&#39;m using Jenkins as a code and using Kubernetes plugin.\r\nAfter running a job the job hangs with \r\n &#39;XXXX&#39; is offline.\r\n\r\n\r\n```Still waiting to schedule task```\r\n\r\n```jenkins-eks-agent-37rtx is offline```\r\n\r\n    node (&quot;jenkins-eks-agent&quot;) {\r\n    echo &quot;hello&quot;\r\n    println &quot;hello hello&quot;\r\n}\r\n\r\nUPDATE -\r\nWhen I use this config it WORKS! but it seems that it doesn&#39;t use my image or any containers I use in my settings or my code, it only use the template I write in the job.....\r\n```\r\npodTemplate(name: &#39;eks-jenkins-slave&#39;) \r\n    node(POD_LABEL) {\r\n        stage(&#39;Run shell&#39;) {\r\n                println &quot;hi&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnyone has any idea what could cause it? I have the most updated kubernetes plugin. I&#39;ve tried changing to &#39;WebSocket&#39; connection and change the port to Random for the agent instead of 50000.\r\n\r\n\r\nMaster Jenkins Logs -\r\n```\r\n2023-02-21 09:18:13.619+0000 [id=4049]\tWARNING\thudson.security.csrf.CrumbFilter#doFilter: Found invalid crumb 297d7ff4cb091172b92679b0e14a76065f938e102d796d1f217f25dfdeb8450e. If you are calling this URL with a script, please use the API Token instead. More information: https://www.jenkins.io/redirect/crumb-cannot-be-used-for-script\r\n2023-02-21 09:18:13.619+0000 [id=4049]\tWARNING\thudson.security.csrf.CrumbFilter#doFilter: No valid crumb was included in request for /job/test/buildHistory/ajax by eilon. Returning 403.\r\n2023-02-21 09:18:18.556+0000 [id=5410]\tINFO\thudson.model.AsyncAperiodicWork#lambda$doAperiodicRun$0: Started Update IdP Metadata from URL PeriodicWork\r\n2023-02-21 09:18:18.556+0000 [id=5410]\tINFO\thudson.model.AsyncAperiodicWork#lambda$doAperiodicRun$0: Finished Update IdP Metadata from URL PeriodicWork. 0 ms\r\n2023-02-21 09:18:56.823+0000 [id=5415]\tWARNING\to.j.p.p.DiskUsageCollector#collect: Cannot collect disk usage data because plugin CloudBees Disk Usage Simple is not installed: java.lang.NoClassDefFoundError: com/cloudbees/simplediskusage/QuickDiskUsagePlugin\r\n2023-02-21 09:19:49.528+0000 [id=5472]\tINFO\thudson.slaves.NodeProvisioner#update: jenkins-eks-agent-9mb5k provisioning successfully completed. We have now 2 computer(s)\r\n2023-02-21 09:19:49.631+0000 [id=5473]\tINFO\to.c.j.p.k.KubernetesLauncher#launch: Created Pod: kubernetes default/jenkins-eks-agent-9mb5k\r\n2023-02-21 09:20:56.822+0000 [id=5493]\tWARNING\to.j.p.p.DiskUsageCollector#collect: Cannot collect disk usage data because plugin CloudBees Disk Usage Simple is not installed: java.lang.NoClassDefFoundError: com/cloudbees/simplediskusage/QuickDiskUsagePlugin\r\n2023-02-21 09:21:29.633+0000 [id=5473]\tWARNING\to.c.j.p.k.KubernetesLauncher#launch: Error in provisioning; agent=KubernetesSlave name: jenkins-eks-agent-9mb5k, template=PodTemplate{id=&#39;05395ad55cc56972ee3e4c69c2731189bc03a75c0b51e637dc7f868fa85d07e8&#39;, name=&#39;jenkins-eks-agent&#39;, namespace=&#39;default&#39;, slaveConnectTimeout=100, label=&#39;jenkins-non-prod-eks-global-slave&#39;, serviceAccount=&#39;default&#39;, nodeUsageMode=NORMAL, podRetention=&#39;Never&#39;, containers=[ContainerTemplate{name=&#39;jnlp&#39;, image=&#39;805787217936.dkr.ecr.us-west-2.amazonaws.com/eilon-jenkins-slave:ecs-global-node_master_57&#39;, workingDir=&#39;/home/jenkins/agent&#39;, args=&#39;${computer.jnlpmac} ${computer.name}&#39;, ttyEnabled=true, resourceRequestCpu=&#39;512m&#39;, resourceRequestMemory=&#39;512Mi&#39;, resourceLimitCpu=&#39;512m&#39;, resourceLimitMemory=&#39;512Mi&#39;, envVars=[KeyValueEnvVar [getValue()=http://jenkins-non-prod.default.svc.cluster.local:8080/, getKey()=JENKINS_URL]]}]}\r\nio.fabric8.kubernetes.client.KubernetesClientTimeoutException: Timed out waiting for [100000] milliseconds for [Pod] with name:[jenkins-eks-agent-9mb5k] in namespace [default].\r\n\tat io.fabric8.kubernetes.client.dsl.internal.BaseOperation.waitUntilCondition(BaseOperation.java:896)\r\n\tat io.fabric8.kubernetes.client.dsl.internal.BaseOperation.waitUntilReady(BaseOperation.java:878)\r\n\tat io.fabric8.kubernetes.client.dsl.internal.BaseOperation.waitUntilReady(BaseOperation.java:93)\r\n\tat org.csanchez.jenkins.plugins.kubernetes.KubernetesLauncher.launch(KubernetesLauncher.java:171)\r\n\tat hudson.slaves.SlaveComputer.lambda$_connect$0(SlaveComputer.java:298)\r\n\tat jenkins.util.ContextResettingExecutorService$2.call(ContextResettingExecutorService.java:48)\r\n\tat jenkins.security.ImpersonatingExecutorService$2.call(ImpersonatingExecutorService.java:82)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n2023-02-21 09:21:29.633+0000 [id=5473]\tINFO\to.c.j.p.k.KubernetesSlave#_terminate: Terminating Kubernetes instance for agent jenkins-eks-agent-9mb5k\r\n2023-02-21 09:21:29.704+0000 [id=5473]\tINFO\to.c.j.p.k.KubernetesSlave#deleteSlavePod: Terminated Kubernetes instance for agent default/jenkins-eks-agent-9mb5k\r\n2023-02-21 09:21:29.704+0000 [id=5473]\tINFO\to.c.j.p.k.KubernetesSlave#_terminate: Disconnected computer jenkins-eks-agent-9mb5k\r\n2023-02-21 09:21:39.527+0000 [id=5473]\tINFO\thudson.slaves.NodeProvisioner#update: jenkins-eks-agent-5dwhp provisioning successfully completed. We have now 2 computer(s)\r\n2023-02-21 09:21:39.561+0000 [id=5498]\tINFO\to.c.j.p.k.KubernetesLauncher#launch: Created Pod: kubernetes default/jenkins-eks-agent-5dwhp\r\n```\r\n\r\nSlave Pod Logs -\r\n```\r\nINFO: Agent discovery successful\r\n  Agent address: jenkins-non-prod-agent.default.svc.cluster.local\r\n  Agent port:    50000\r\n  Identity:      b1:56:69:f0:b8:34:92:74:44:b0:f9:42:62:cf:c5:29\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Handshaking\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Connecting to jenkins-non-prod-agent.default.svc.cluster.local:50000\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Trying protocol: JNLP4-connect\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Remote identity confirmed: b1:56:69:f0:b8:34:92:74:44:b0:f9:42:62:cf:c5:29\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Connected\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by hudson.remoting.RemoteClassLoader (file:/usr/share/jenkins/slave.jar) to method java.lang.ClassLoader.getClassLoadingLock(java.lang.String)\r\nWARNING: Please consider reporting this to the maintainers of hudson.remoting.RemoteClassLoader\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n```\r\n\r\n\r\n\r\n```INFO: Agent discovery successful\r\n  Agent address: jenkins-non-prod-agent.default.svc.cluster.local\r\n  Agent port:    50000\r\n  Identity:      b1:56:69:f0:b8:34:92:74:44:b0:f9:42:62:cf:c5:29\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Handshaking\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Connecting to jenkins-non-prod-agent.default.svc.cluster.local:50000\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Trying protocol: JNLP4-connect\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Remote identity confirmed: b1:56:69:f0:b8:34:92:74:44:b0:f9:42:62:cf:c5:29\r\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Connected\r\nWARNING: An illegal reflective access operation has occurred\r\n\r\n\r\n```\r\nMy agent values -\r\n\r\n```   values:\r\n      agent:\r\n        enabled: true\r\n        kubernetesConnectTimeout: 5\r\n        kubernetesReadTimeout: 15\r\n        maxRequestsPerHostStr: &quot;32&quot;\r\n        namespace: default\r\n        image: &quot;805787217936.dkr.ecr.us-west-2.amazonaws.com/eilon-jenkins-slave&quot;\r\n        tag: &quot;ecs-global-node_master_57&quot;\r\n        workingDir: &quot;/home/jenkins/agent&quot;\r\n        nodeUsageMode: &quot;NORMAL&quot;\r\n        # name of the secret to be used for image pulling\r\n        imagePullSecretName:\r\n        componentName: &quot;eks-global-slave&quot;\r\n        websocket: false\r\n        privileged: false\r\n        runAsUser:\r\n        runAsGroup:\r\n        resources:\r\n          requests:\r\n            cpu: &quot;512m&quot;\r\n            memory: &quot;512Mi&quot;\r\n          limits:\r\n            cpu: &quot;512m&quot;\r\n            memory: &quot;512Mi&quot;\r\n        podRetention: &quot;Never&quot;\r\n        volumes: [ ]\r\n        workspaceVolume: { }\r\n        envVars: [ ]\r\n        # - name: PATH\r\n        #   value: /usr/local/bin\r\n        command:\r\n        args: &quot;${computer.jnlpmac} ${computer.name}&quot;\r\n        # Side container name\r\n        sideContainerName: &quot;jnlp&quot;\r\n        # Doesn&#39;t allocate pseudo TTY by default\r\n        TTYEnabled: true\r\n        # Max number of spawned agent\r\n        containerCap: 10\r\n        # Pod name\r\n        podName: &quot;jenkins-eks-agent&quot;\r\n        # Allows the Pod to remain active for reuse until the configured number of\r\n        # minutes has passed since the last step was executed on it.\r\n        idleMinutes: 0\r\n        # Timeout in seconds for an agent to be online\r\n        connectTimeout: 100\r\n      serviceAccount:\r\n        annotations: {}\r\n      controller:\r\n        additionalExistingSecrets: []\r\n        JCasC:\r\n          securityRealm: |\r\n            local:\r\n                  allowsSignup: false\r\n                  users:\r\n                    - id: &quot;eilon&quot;\r\n                      password: &quot;Aa123456&quot;\r\n#          securityRealm: |\r\n#            saml:\r\n#              binding: &quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect&quot;\r\n#              displayNameAttributeName: &quot;http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name&quot;\r\n#              groupsAttributeName: &quot;http://schemas.xmlsoap.org/claims/Group&quot;\r\n#              idpMetadataConfiguration:\r\n#                period: 0\r\n#                url: &quot;https://ironsrc.onelogin.com/saml/metadata/34349e62-799f-4378-9d2a-03b870cbd965&quot;\r\n#              maximumAuthenticationLifetime: 86400\r\n#              usernameCaseConversion: &quot;none&quot;\r\n#          authorizationStrategy: |-\r\n#            roleBased:\r\n#              forceExistingJobs: true\r\n          configScripts:\r\n            credentials: |\r\n              credentials:\r\n                system:\r\n                  domainCredentials:\r\n                    - credentials:\r\n                        - string:\r\n                            scope: GLOBAL\r\n                            id: slack-token\r\n                            description: &quot;Slack access token&quot;\r\n                            secret: &quot;${jenkins-slack-token-non-prod-value}&quot;\r\n                        - usernamePassword:\r\n                            id: &quot;github-credentials&quot;\r\n                            password: &quot;${jenkins-github-token-non-prod-value}&quot;\r\n                            scope: GLOBAL\r\n                            username: &quot;ai-avengers&quot;\r\n            plugin-config: |\r\n              jenkins:\r\n                disabledAdministrativeMonitors:\r\n                  - &quot;hudson.model.UpdateCenter$CoreUpdateMonitor&quot;\r\n                  - &quot;jenkins.diagnostics.ControllerExecutorsNoAgents&quot;\r\n              security:\r\n                updateSiteWarningsConfiguration:\r\n                  ignoredWarnings:\r\n                    - &quot;core-2_263&quot;\r\n                    - &quot;SECURITY-2617-extended-choice-parameter&quot;\r\n                    - &quot;SECURITY-2170&quot;\r\n                    - &quot;SECURITY-2796&quot;\r\n                    - &quot;SECURITY-2169&quot;\r\n                    - &quot;SECURITY-2332&quot;\r\n                    - &quot;SECURITY-2232&quot;\r\n                    - &quot;SECURITY-1351&quot;\r\n                    - &quot;SECURITY-1350&quot;\r\n                    - &quot;SECURITY-2888&quot;\r\n              unclassified:\r\n                slackNotifier:\r\n                  teamDomain: &quot;superops&quot;\r\n                  baseUrl: &quot;https://superops.slack.com/services/hooks/jenkins-ci/&quot;\r\n                  tokenCredentialId: &quot;slack-token&quot;\r\n                globalLibraries:\r\n                  libraries:\r\n                    - defaultVersion: &quot;master&quot;\r\n                      allowVersionOverride: true\r\n                      name: &quot;eilon-jenkins-library&quot;\r\n                      implicit: true\r\n                      retriever:\r\n                        modernSCM:\r\n                          scm:\r\n                            git:\r\n                              credentialsId: &quot;github-credentials&quot;\r\n                              id: &quot;shared-library-creds&quot;\r\n                              remote: &quot;https://github.com/eilon-eilon/eilon-jenkins-library.git&quot;\r\n                              traits:\r\n                                - &quot;gitBranchDiscovery&quot;\r\n                                - &quot;cleanBeforeCheckoutTrait&quot;\r\n                                - &quot;ignoreOnPushNotificationTrait&quot;\r\n        additionalPlugins:\r\n        - junit:1119.1121.vc43d0fc45561\r\n        - prometheus:2.0.11\r\n        - saml:4.352.vb_722786ea_79d\r\n        - role-strategy:546.ve16648865996\r\n        - blueocean-web:1.25.5\r\n        - github-branch-source:1677.v731f745ea_0cf\r\n        - git-changelog:3.23\r\n        - scriptler:3.5\r\n        - sshd:3.249.v2dc2ea_416e33\r\n        - rich-text-publisher-plugin:1.4\r\n        - matrix-project:785.v06b_7f47b_c631\r\n        - build-failure-analyzer:2.3.0\r\n        - testng-plugin:555.va0d5f66521e3\r\n        - allure-jenkins-plugin:2.30.2\r\n        - timestamper:1.18\r\n        - ws-cleanup:0.42\r\n        - build-timeout:1.21\r\n        - slack:616.v03b_1e98d13dd\r\n        - email-ext:2.91\r\n        - docker-commons:1.19\r\n        - docker-workflow:521.v1a_a_dd2073b_2e\r\n        - rundeck:3.6.11\r\n        - parameter-separator:1.3\r\n        - extended-choice-parameter:346.vd87693c5a_86c\r\n        - uno-choice:2.6.3\r\n        adminPassword: &quot;&quot;\r\n        ingress:\r\n          enabled: true\r\n          hostName: jenkins.non-prod.us-west-2.int.isappcloud.com\r\n          ingressClassName: nginx-int\r\n        installPlugins:\r\n        - kubernetes:3883.v4d70a_a_a_df034\r\n        - workflow-aggregator:590.v6a_d052e5a_a_b_5\r\n        - git:5.0.0\r\n        - configuration-as-code:1569.vb_72405b_80249\r\n        jenkinsUrlProtocol: https\r\n        prometheus:\r\n          enabled: true\r\n        resources:\r\n          limits:\r\n            cpu: &quot;4&quot;\r\n            memory: 8Gi\r\n          requests:\r\n            cpu: &quot;2&quot;\r\n            memory: 4Gi\r\n        sidecars:\r\n          configAutoReload:\r\n            resources:\r\n              requests:\r\n                cpu: 128m\r\n                memory: 256Mi\r\n        statefulSetAnnotations:\r\n          pulumi.com/patchForce: &quot;true&quot;\r\n          Name: eks-non-prod-us-west-2-jenkins\r\n          department: eilon\r\n          division: enterprise\r\n          environment: non-prod\r\n          owner: devops\r\n          project: eks-non-prod-us-west-2-jenkins\r\n          team: infra\r\n        tag: 2.362-jdk11\r\n    version: 4.1.13\r\n```","title":"Jenkins - &#39;XXXX&#39; is offline using Kubernetes Plugin","body":"<p>I'm using Jenkins as a code and using Kubernetes plugin.\nAfter running a job the job hangs with\n'XXXX' is offline.</p>\n<p><code>Still waiting to schedule task</code></p>\n<p><code>jenkins-eks-agent-37rtx is offline</code></p>\n<pre><code>node (&quot;jenkins-eks-agent&quot;) {\necho &quot;hello&quot;\nprintln &quot;hello hello&quot;\n</code></pre>\n<p>}</p>\n<p>UPDATE -\nWhen I use this config it WORKS! but it seems that it doesn't use my image or any containers I use in my settings or my code, it only use the template I write in the job.....</p>\n<pre><code>podTemplate(name: 'eks-jenkins-slave') \n    node(POD_LABEL) {\n        stage('Run shell') {\n                println &quot;hi&quot;\n        }\n    }\n}\n</code></pre>\n<p>Anyone has any idea what could cause it? I have the most updated kubernetes plugin. I've tried changing to 'WebSocket' connection and change the port to Random for the agent instead of 50000.</p>\n<p>Master Jenkins Logs -</p>\n<pre><code>2023-02-21 09:18:13.619+0000 [id=4049]  WARNING hudson.security.csrf.CrumbFilter#doFilter: Found invalid crumb 297d7ff4cb091172b92679b0e14a76065f938e102d796d1f217f25dfdeb8450e. If you are calling this URL with a script, please use the API Token instead. More information: https://www.jenkins.io/redirect/crumb-cannot-be-used-for-script\n2023-02-21 09:18:13.619+0000 [id=4049]  WARNING hudson.security.csrf.CrumbFilter#doFilter: No valid crumb was included in request for /job/test/buildHistory/ajax by eilon. Returning 403.\n2023-02-21 09:18:18.556+0000 [id=5410]  INFO    hudson.model.AsyncAperiodicWork#lambda$doAperiodicRun$0: Started Update IdP Metadata from URL PeriodicWork\n2023-02-21 09:18:18.556+0000 [id=5410]  INFO    hudson.model.AsyncAperiodicWork#lambda$doAperiodicRun$0: Finished Update IdP Metadata from URL PeriodicWork. 0 ms\n2023-02-21 09:18:56.823+0000 [id=5415]  WARNING o.j.p.p.DiskUsageCollector#collect: Cannot collect disk usage data because plugin CloudBees Disk Usage Simple is not installed: java.lang.NoClassDefFoundError: com/cloudbees/simplediskusage/QuickDiskUsagePlugin\n2023-02-21 09:19:49.528+0000 [id=5472]  INFO    hudson.slaves.NodeProvisioner#update: jenkins-eks-agent-9mb5k provisioning successfully completed. We have now 2 computer(s)\n2023-02-21 09:19:49.631+0000 [id=5473]  INFO    o.c.j.p.k.KubernetesLauncher#launch: Created Pod: kubernetes default/jenkins-eks-agent-9mb5k\n2023-02-21 09:20:56.822+0000 [id=5493]  WARNING o.j.p.p.DiskUsageCollector#collect: Cannot collect disk usage data because plugin CloudBees Disk Usage Simple is not installed: java.lang.NoClassDefFoundError: com/cloudbees/simplediskusage/QuickDiskUsagePlugin\n2023-02-21 09:21:29.633+0000 [id=5473]  WARNING o.c.j.p.k.KubernetesLauncher#launch: Error in provisioning; agent=KubernetesSlave name: jenkins-eks-agent-9mb5k, template=PodTemplate{id='05395ad55cc56972ee3e4c69c2731189bc03a75c0b51e637dc7f868fa85d07e8', name='jenkins-eks-agent', namespace='default', slaveConnectTimeout=100, label='jenkins-non-prod-eks-global-slave', serviceAccount='default', nodeUsageMode=NORMAL, podRetention='Never', containers=[ContainerTemplate{name='jnlp', image='805787217936.dkr.ecr.us-west-2.amazonaws.com/eilon-jenkins-slave:ecs-global-node_master_57', workingDir='/home/jenkins/agent', args='${computer.jnlpmac} ${computer.name}', ttyEnabled=true, resourceRequestCpu='512m', resourceRequestMemory='512Mi', resourceLimitCpu='512m', resourceLimitMemory='512Mi', envVars=[KeyValueEnvVar [getValue()=http://jenkins-non-prod.default.svc.cluster.local:8080/, getKey()=JENKINS_URL]]}]}\nio.fabric8.kubernetes.client.KubernetesClientTimeoutException: Timed out waiting for [100000] milliseconds for [Pod] with name:[jenkins-eks-agent-9mb5k] in namespace [default].\n    at io.fabric8.kubernetes.client.dsl.internal.BaseOperation.waitUntilCondition(BaseOperation.java:896)\n    at io.fabric8.kubernetes.client.dsl.internal.BaseOperation.waitUntilReady(BaseOperation.java:878)\n    at io.fabric8.kubernetes.client.dsl.internal.BaseOperation.waitUntilReady(BaseOperation.java:93)\n    at org.csanchez.jenkins.plugins.kubernetes.KubernetesLauncher.launch(KubernetesLauncher.java:171)\n    at hudson.slaves.SlaveComputer.lambda$_connect$0(SlaveComputer.java:298)\n    at jenkins.util.ContextResettingExecutorService$2.call(ContextResettingExecutorService.java:48)\n    at jenkins.security.ImpersonatingExecutorService$2.call(ImpersonatingExecutorService.java:82)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n2023-02-21 09:21:29.633+0000 [id=5473]  INFO    o.c.j.p.k.KubernetesSlave#_terminate: Terminating Kubernetes instance for agent jenkins-eks-agent-9mb5k\n2023-02-21 09:21:29.704+0000 [id=5473]  INFO    o.c.j.p.k.KubernetesSlave#deleteSlavePod: Terminated Kubernetes instance for agent default/jenkins-eks-agent-9mb5k\n2023-02-21 09:21:29.704+0000 [id=5473]  INFO    o.c.j.p.k.KubernetesSlave#_terminate: Disconnected computer jenkins-eks-agent-9mb5k\n2023-02-21 09:21:39.527+0000 [id=5473]  INFO    hudson.slaves.NodeProvisioner#update: jenkins-eks-agent-5dwhp provisioning successfully completed. We have now 2 computer(s)\n2023-02-21 09:21:39.561+0000 [id=5498]  INFO    o.c.j.p.k.KubernetesLauncher#launch: Created Pod: kubernetes default/jenkins-eks-agent-5dwhp\n</code></pre>\n<p>Slave Pod Logs -</p>\n<pre><code>INFO: Agent discovery successful\n  Agent address: jenkins-non-prod-agent.default.svc.cluster.local\n  Agent port:    50000\n  Identity:      b1:56:69:f0:b8:34:92:74:44:b0:f9:42:62:cf:c5:29\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Handshaking\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Connecting to jenkins-non-prod-agent.default.svc.cluster.local:50000\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Trying protocol: JNLP4-connect\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Remote identity confirmed: b1:56:69:f0:b8:34:92:74:44:b0:f9:42:62:cf:c5:29\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Connected\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by hudson.remoting.RemoteClassLoader (file:/usr/share/jenkins/slave.jar) to method java.lang.ClassLoader.getClassLoadingLock(java.lang.String)\nWARNING: Please consider reporting this to the maintainers of hudson.remoting.RemoteClassLoader\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n</code></pre>\n<pre><code>  Agent address: jenkins-non-prod-agent.default.svc.cluster.local\n  Agent port:    50000\n  Identity:      b1:56:69:f0:b8:34:92:74:44:b0:f9:42:62:cf:c5:29\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Handshaking\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Connecting to jenkins-non-prod-agent.default.svc.cluster.local:50000\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Trying protocol: JNLP4-connect\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Remote identity confirmed: b1:56:69:f0:b8:34:92:74:44:b0:f9:42:62:cf:c5:29\nFeb 21, 2023 12:48:22 AM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Connected\nWARNING: An illegal reflective access operation has occurred\n\n\n</code></pre>\n<p>My agent values -</p>\n<pre><code>      agent:\n        enabled: true\n        kubernetesConnectTimeout: 5\n        kubernetesReadTimeout: 15\n        maxRequestsPerHostStr: &quot;32&quot;\n        namespace: default\n        image: &quot;805787217936.dkr.ecr.us-west-2.amazonaws.com/eilon-jenkins-slave&quot;\n        tag: &quot;ecs-global-node_master_57&quot;\n        workingDir: &quot;/home/jenkins/agent&quot;\n        nodeUsageMode: &quot;NORMAL&quot;\n        # name of the secret to be used for image pulling\n        imagePullSecretName:\n        componentName: &quot;eks-global-slave&quot;\n        websocket: false\n        privileged: false\n        runAsUser:\n        runAsGroup:\n        resources:\n          requests:\n            cpu: &quot;512m&quot;\n            memory: &quot;512Mi&quot;\n          limits:\n            cpu: &quot;512m&quot;\n            memory: &quot;512Mi&quot;\n        podRetention: &quot;Never&quot;\n        volumes: [ ]\n        workspaceVolume: { }\n        envVars: [ ]\n        # - name: PATH\n        #   value: /usr/local/bin\n        command:\n        args: &quot;${computer.jnlpmac} ${computer.name}&quot;\n        # Side container name\n        sideContainerName: &quot;jnlp&quot;\n        # Doesn't allocate pseudo TTY by default\n        TTYEnabled: true\n        # Max number of spawned agent\n        containerCap: 10\n        # Pod name\n        podName: &quot;jenkins-eks-agent&quot;\n        # Allows the Pod to remain active for reuse until the configured number of\n        # minutes has passed since the last step was executed on it.\n        idleMinutes: 0\n        # Timeout in seconds for an agent to be online\n        connectTimeout: 100\n      serviceAccount:\n        annotations: {}\n      controller:\n        additionalExistingSecrets: []\n        JCasC:\n          securityRealm: |\n            local:\n                  allowsSignup: false\n                  users:\n                    - id: &quot;eilon&quot;\n                      password: &quot;Aa123456&quot;\n#          securityRealm: |\n#            saml:\n#              binding: &quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect&quot;\n#              displayNameAttributeName: &quot;http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name&quot;\n#              groupsAttributeName: &quot;http://schemas.xmlsoap.org/claims/Group&quot;\n#              idpMetadataConfiguration:\n#                period: 0\n#                url: &quot;https://ironsrc.onelogin.com/saml/metadata/34349e62-799f-4378-9d2a-03b870cbd965&quot;\n#              maximumAuthenticationLifetime: 86400\n#              usernameCaseConversion: &quot;none&quot;\n#          authorizationStrategy: |-\n#            roleBased:\n#              forceExistingJobs: true\n          configScripts:\n            credentials: |\n              credentials:\n                system:\n                  domainCredentials:\n                    - credentials:\n                        - string:\n                            scope: GLOBAL\n                            id: slack-token\n                            description: &quot;Slack access token&quot;\n                            secret: &quot;${jenkins-slack-token-non-prod-value}&quot;\n                        - usernamePassword:\n                            id: &quot;github-credentials&quot;\n                            password: &quot;${jenkins-github-token-non-prod-value}&quot;\n                            scope: GLOBAL\n                            username: &quot;ai-avengers&quot;\n            plugin-config: |\n              jenkins:\n                disabledAdministrativeMonitors:\n                  - &quot;hudson.model.UpdateCenter$CoreUpdateMonitor&quot;\n                  - &quot;jenkins.diagnostics.ControllerExecutorsNoAgents&quot;\n              security:\n                updateSiteWarningsConfiguration:\n                  ignoredWarnings:\n                    - &quot;core-2_263&quot;\n                    - &quot;SECURITY-2617-extended-choice-parameter&quot;\n                    - &quot;SECURITY-2170&quot;\n                    - &quot;SECURITY-2796&quot;\n                    - &quot;SECURITY-2169&quot;\n                    - &quot;SECURITY-2332&quot;\n                    - &quot;SECURITY-2232&quot;\n                    - &quot;SECURITY-1351&quot;\n                    - &quot;SECURITY-1350&quot;\n                    - &quot;SECURITY-2888&quot;\n              unclassified:\n                slackNotifier:\n                  teamDomain: &quot;superops&quot;\n                  baseUrl: &quot;https://superops.slack.com/services/hooks/jenkins-ci/&quot;\n                  tokenCredentialId: &quot;slack-token&quot;\n                globalLibraries:\n                  libraries:\n                    - defaultVersion: &quot;master&quot;\n                      allowVersionOverride: true\n                      name: &quot;eilon-jenkins-library&quot;\n                      implicit: true\n                      retriever:\n                        modernSCM:\n                          scm:\n                            git:\n                              credentialsId: &quot;github-credentials&quot;\n                              id: &quot;shared-library-creds&quot;\n                              remote: &quot;https://github.com/eilon-eilon/eilon-jenkins-library.git&quot;\n                              traits:\n                                - &quot;gitBranchDiscovery&quot;\n                                - &quot;cleanBeforeCheckoutTrait&quot;\n                                - &quot;ignoreOnPushNotificationTrait&quot;\n        additionalPlugins:\n        - junit:1119.1121.vc43d0fc45561\n        - prometheus:2.0.11\n        - saml:4.352.vb_722786ea_79d\n        - role-strategy:546.ve16648865996\n        - blueocean-web:1.25.5\n        - github-branch-source:1677.v731f745ea_0cf\n        - git-changelog:3.23\n        - scriptler:3.5\n        - sshd:3.249.v2dc2ea_416e33\n        - rich-text-publisher-plugin:1.4\n        - matrix-project:785.v06b_7f47b_c631\n        - build-failure-analyzer:2.3.0\n        - testng-plugin:555.va0d5f66521e3\n        - allure-jenkins-plugin:2.30.2\n        - timestamper:1.18\n        - ws-cleanup:0.42\n        - build-timeout:1.21\n        - slack:616.v03b_1e98d13dd\n        - email-ext:2.91\n        - docker-commons:1.19\n        - docker-workflow:521.v1a_a_dd2073b_2e\n        - rundeck:3.6.11\n        - parameter-separator:1.3\n        - extended-choice-parameter:346.vd87693c5a_86c\n        - uno-choice:2.6.3\n        adminPassword: &quot;&quot;\n        ingress:\n          enabled: true\n          hostName: jenkins.non-prod.us-west-2.int.isappcloud.com\n          ingressClassName: nginx-int\n        installPlugins:\n        - kubernetes:3883.v4d70a_a_a_df034\n        - workflow-aggregator:590.v6a_d052e5a_a_b_5\n        - git:5.0.0\n        - configuration-as-code:1569.vb_72405b_80249\n        jenkinsUrlProtocol: https\n        prometheus:\n          enabled: true\n        resources:\n          limits:\n            cpu: &quot;4&quot;\n            memory: 8Gi\n          requests:\n            cpu: &quot;2&quot;\n            memory: 4Gi\n        sidecars:\n          configAutoReload:\n            resources:\n              requests:\n                cpu: 128m\n                memory: 256Mi\n        statefulSetAnnotations:\n          pulumi.com/patchForce: &quot;true&quot;\n          Name: eks-non-prod-us-west-2-jenkins\n          department: eilon\n          division: enterprise\n          environment: non-prod\n          owner: devops\n          project: eks-non-prod-us-west-2-jenkins\n          team: infra\n        tag: 2.362-jdk11\n    version: 4.1.13\n</code></pre>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":14420242,"reputation":123,"user_id":10416462,"display_name":"Sxc-Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676697271,"creation_date":1676697271,"answer_id":75491353,"question_id":75484061,"body_markdown":"A commit is made after every chunk. The chunk size of Tasklet(non-chunk based) is always 1. That is reason why commit count is 1 for Tasklet(non-chunk based)","title":"Spring Batch non-transactional step has commit count of 1","body":"<p>A commit is made after every chunk. The chunk size of Tasklet(non-chunk based) is always 1. That is reason why commit count is 1 for Tasklet(non-chunk based)</p>\n"},{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676988876,"creation_date":1676988876,"answer_id":75521711,"question_id":75484061,"body_markdown":"Each call to `Tasklet#execute` is executed in a transaction driven by Spring Batch. This is explained in the documentation [here](https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#taskletStep). If the business processing inside the tasklet is not transactional, you can use a `ResourcelessTransactionManager` for that tasklet. But technically speaking, there will be a `ResourcelessTransaction` anyway, hence the commit count is at least equal to 1, which explains what you see in the corresponding step execution.\r\n\r\n&gt; I know that, next to the business transactions, Spring does some own transactional stuff in order to persist the job and step execution metadata and so on. But i have read on the internet that this is not technically wrapped in a transaction and thus I don&#39;t expect it to be included in the commit_count of a step, right?\r\n\r\nI don&#39;t know where you read that, but technically speaking there will be a transaction for each call to `Tasklet#execute`. The transaction manager is a mandatory property for a `TaskletStep`.\r\n\r\nThat said, there are other transactions driven by Spring Batch during the execution flow of the job to check/update meta-data in the job repository.\r\n\r\n","title":"Spring Batch non-transactional step has commit count of 1","body":"<p>Each call to <code>Tasklet#execute</code> is executed in a transaction driven by Spring Batch. This is explained in the documentation <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#taskletStep\" rel=\"nofollow noreferrer\">here</a>. If the business processing inside the tasklet is not transactional, you can use a <code>ResourcelessTransactionManager</code> for that tasklet. But technically speaking, there will be a <code>ResourcelessTransaction</code> anyway, hence the commit count is at least equal to 1, which explains what you see in the corresponding step execution.</p>\n<blockquote>\n<p>I know that, next to the business transactions, Spring does some own transactional stuff in order to persist the job and step execution metadata and so on. But i have read on the internet that this is not technically wrapped in a transaction and thus I don't expect it to be included in the commit_count of a step, right?</p>\n</blockquote>\n<p>I don't know where you read that, but technically speaking there will be a transaction for each call to <code>Tasklet#execute</code>. The transaction manager is a mandatory property for a <code>TaskletStep</code>.</p>\n<p>That said, there are other transactions driven by Spring Batch during the execution flow of the job to check/update meta-data in the job repository.</p>\n"}],"owner":{"account_id":15738788,"reputation":294,"user_id":11356914,"display_name":"Manu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676988876,"creation_date":1676635431,"question_id":75484061,"body_markdown":"I am currently trying to investigate the total number of transactions of my spring batch job. \r\n\r\nAs I can see, a `StepExecution` has a property `commit_count` that tells how many transactions were commited by the step.\r\n\r\nI have a job that consists of two steps:\r\n\r\n - Read a file and map the content to Java objects ( = should be non-transactional, right?)\r\n - This step uses a Tasklet, which is only called once. So only one transaction is going to be created for this according to my understanding. Basically, the step does some specific processing of the created objects and persists them to the database afterwards ( = should be transactional, right?)\r\n\r\nAfter the execution of my step I can see that both steps have a `commit_count` of 1. &lt;br&gt;\r\nBut I expected only the second step to have a `commit_count` of 1. The other one should have a `commit_count` of 0, right?\r\n&lt;br&gt;\r\nI know that, next to the business transactions, Spring does some own transactional stuff in order to persist the job and step execution metadata and so on. But i have read on the internet that this is not technically wrapped in a transaction and thus I don&#39;t expect it to be included in the `commit_count` of a step, right?\r\n\r\nIn order to see the total number of commited transactions I also have tried to configure `logging.level.org.springframework.transaction.interceptor: TRACE` but this just logs lots of the following log statements\r\n\r\n```\r\nCompleting transaction for [org.springframework.batch.core.repository.support.SimpleJobRepository.update]\r\nGetting transaction for [org.springframework.batch.core.repository.support.SimpleJobRepository.updateExecutionContext]\r\n```\r\n\r\nCompleting transaction sounds to me like a transaction has been commited. I am seeing lots of statements like this in the logs, so does this mean my batch job is creating lots of transactions? Actually I have expected the batch job metadata update would be enclosed in a single transaction..\r\n\r\nCan someone please explain this. Thanks in Advance!","title":"Spring Batch non-transactional step has commit count of 1","body":"<p>I am currently trying to investigate the total number of transactions of my spring batch job.</p>\n<p>As I can see, a <code>StepExecution</code> has a property <code>commit_count</code> that tells how many transactions were commited by the step.</p>\n<p>I have a job that consists of two steps:</p>\n<ul>\n<li>Read a file and map the content to Java objects ( = should be non-transactional, right?)</li>\n<li>This step uses a Tasklet, which is only called once. So only one transaction is going to be created for this according to my understanding. Basically, the step does some specific processing of the created objects and persists them to the database afterwards ( = should be transactional, right?)</li>\n</ul>\n<p>After the execution of my step I can see that both steps have a <code>commit_count</code> of 1. <br>\nBut I expected only the second step to have a <code>commit_count</code> of 1. The other one should have a <code>commit_count</code> of 0, right?\n<br>\nI know that, next to the business transactions, Spring does some own transactional stuff in order to persist the job and step execution metadata and so on. But i have read on the internet that this is not technically wrapped in a transaction and thus I don't expect it to be included in the <code>commit_count</code> of a step, right?</p>\n<p>In order to see the total number of commited transactions I also have tried to configure <code>logging.level.org.springframework.transaction.interceptor: TRACE</code> but this just logs lots of the following log statements</p>\n<pre><code>Completing transaction for [org.springframework.batch.core.repository.support.SimpleJobRepository.update]\nGetting transaction for [org.springframework.batch.core.repository.support.SimpleJobRepository.updateExecutionContext]\n</code></pre>\n<p>Completing transaction sounds to me like a transaction has been commited. I am seeing lots of statements like this in the logs, so does this mean my batch job is creating lots of transactions? Actually I have expected the batch job metadata update would be enclosed in a single transaction..</p>\n<p>Can someone please explain this. Thanks in Advance!</p>\n"},{"tags":["java","spring-boot","hashmap"],"owner":{"account_id":5675759,"reputation":39,"user_id":9185877,"display_name":"Ekatama Ilham Prayoga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676988875,"creation_date":1676988875,"question_id":75521710,"body_markdown":"i don&#39;t know if my title is understandable to others, but basically i just want to delete/select the latter result instead of the first one found.\r\nthis is my example code:\r\n\r\n    for(Integer s: new ConcurrentHashMap&lt;&gt;(data).keySet()){\r\n        String value = data.get(s).getResult();\r\n        for(Map.Entry&lt;Integer, Data&gt; ss : new ConcurrentHashMap&lt;&gt;(data).entrySet()){\r\n            if(s != ss.getKey()){\r\n                if(value.equals(ss.getValue().getResult())){\r\n                    data.remove(s); //what i&#39;m gonna do\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nwith that example i&#39;m getting some datas with same value, and i was going to delete one of them, and it&#39;s the latter. But it automatically deletes the first one found.","title":"how to remove the latter data of the same value on java of resultset","body":"<p>i don't know if my title is understandable to others, but basically i just want to delete/select the latter result instead of the first one found.\nthis is my example code:</p>\n<pre><code>for(Integer s: new ConcurrentHashMap&lt;&gt;(data).keySet()){\n    String value = data.get(s).getResult();\n    for(Map.Entry&lt;Integer, Data&gt; ss : new ConcurrentHashMap&lt;&gt;(data).entrySet()){\n        if(s != ss.getKey()){\n            if(value.equals(ss.getValue().getResult())){\n                data.remove(s); //what i'm gonna do\n            }\n        }\n    }\n}\n</code></pre>\n<p>with that example i'm getting some datas with same value, and i was going to delete one of them, and it's the latter. But it automatically deletes the first one found.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1640921478,"post_id":70538227,"comment_id":124691826,"body_markdown":"https://github.com/mockito/mockito/issues/1604 try mockito-core 2.24.0","body":"<a href=\"https://github.com/mockito/mockito/issues/1604\" rel=\"nofollow noreferrer\">github.com/mockito/mockito/issues/1604</a> try mockito-core 2.24.0"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1640974850,"post_id":70538227,"comment_id":124702765,"body_markdown":"Wow, that did get me past that error. But now I get: &quot;Mockito can only mock non-private &amp; non-final classes.&quot; Yet the class I&#39;m mocking is neither.","body":"Wow, that did get me past that error. But now I get: &quot;Mockito can only mock non-private &amp; non-final classes.&quot; Yet the class I&#39;m mocking is neither."},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1640978535,"post_id":70538227,"comment_id":124703486,"body_markdown":"Interestingly, I then found this answer to a question regarding the &quot;Mockito can only mock non-private &amp; non-final classes&quot;, which includes github that suggests switching to mockito-core-2.23.0. When I do that my mocking seems to work successfully.","body":"Interestingly, I then found this answer to a question regarding the &quot;Mockito can only mock non-private &amp; non-final classes&quot;, which includes github that suggests switching to mockito-core-2.23.0. When I do that my mocking seems to work successfully."}],"answers":[{"tags":[],"owner":{"account_id":330998,"reputation":534,"user_id":655418,"accept_rate":29,"display_name":"Nook"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1640924951,"creation_date":1640924951,"answer_id":70538994,"question_id":70538227,"body_markdown":"If you want to mock a method and test a method in the same class you have to use @Spy instead of @Mock. Then you should remove the @BeforeEach code block. Additionally you have to call the method you want to test.\r\n\r\nPlz share more code, thanks","title":"adding Mockito gives logging error when running a test","body":"<p>If you want to mock a method and test a method in the same class you have to use @Spy instead of @Mock. Then you should remove the @BeforeEach code block. Additionally you have to call the method you want to test.</p>\n<p>Plz share more code, thanks</p>\n"},{"tags":[],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676988868,"creation_date":1676988868,"answer_id":75521708,"question_id":70538227,"body_markdown":"For some reason, switching to mockito-core-2.23.0 seemed to resolve this for me. I took that approach based on advice given [here][1] for a different issue.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/63640379/3368818","title":"adding Mockito gives logging error when running a test","body":"<p>For some reason, switching to mockito-core-2.23.0 seemed to resolve this for me. I took that approach based on advice given <a href=\"https://stackoverflow.com/a/63640379/3368818\">here</a> for a different issue.</p>\n"}],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2622,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75521708,"answer_count":2,"score":3,"last_activity_date":1676988868,"creation_date":1640914221,"question_id":70538227,"body_markdown":"I&#39;m using JUnit 5 in my Spring project and would like to do some mocking using Mockito. So I&#39;ve I added a couple Mockito dependencies: mockito-core 2.21.0 and mockito-junit-jupiter 4.0.0.\r\n\r\nThen based on some guidance I found somewhere I added this to my very simple test class:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n\r\nBut when I run the test I get this confounding error:\r\n\r\n    java.lang.NoSuchMethodError: org.mockito.internal.configuration.plugins.Plugins.\r\n        getMockitoLogger()Lorg/mockito/plugins/MockitoLogger;\r\n    ...\r\n\r\nBut I&#39;m not using the MockitoLogger class anywhere, or at least not explicitly. So what could cause this strangeness?","title":"adding Mockito gives logging error when running a test","body":"<p>I'm using JUnit 5 in my Spring project and would like to do some mocking using Mockito. So I've I added a couple Mockito dependencies: mockito-core 2.21.0 and mockito-junit-jupiter 4.0.0.</p>\n<p>Then based on some guidance I found somewhere I added this to my very simple test class:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n</code></pre>\n<p>But when I run the test I get this confounding error:</p>\n<pre><code>java.lang.NoSuchMethodError: org.mockito.internal.configuration.plugins.Plugins.\n    getMockitoLogger()Lorg/mockito/plugins/MockitoLogger;\n...\n</code></pre>\n<p>But I'm not using the MockitoLogger class anywhere, or at least not explicitly. So what could cause this strangeness?</p>\n"},{"tags":["java","maven","jenkins","maven-plugin"],"comments":[{"owner":{"account_id":19166589,"reputation":486,"user_id":14001175,"display_name":"Atxulo"},"score":0,"creation_date":1676370916,"post_id":75401208,"comment_id":133119167,"body_markdown":"What are you trying to achieve? Why do you want to compile twice?","body":"What are you trying to achieve? Why do you want to compile twice?"},{"owner":{"account_id":10172293,"reputation":2339,"user_id":7512201,"display_name":"Amerousful"},"score":0,"creation_date":1676380942,"post_id":75401208,"comment_id":133122128,"body_markdown":"@Atxulo It&#39;s just an example. Instead of `compile` can be any other goal","body":"@Atxulo It&#39;s just an example. Instead of <code>compile</code> can be any other goal"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676664439,"post_id":75401208,"comment_id":133190198,"body_markdown":"First I would ask why do you use a post build action to call `compile` ? The build will run in the primary part ?","body":"First I would ask why do you use a post build action to call <code>compile</code> ? The build will run in the primary part ?"},{"owner":{"account_id":10172293,"reputation":2339,"user_id":7512201,"display_name":"Amerousful"},"score":0,"creation_date":1676988531,"post_id":75401208,"comment_id":133244916,"body_markdown":"@khmarbaise I&#39;ll try explain with abstract example. Imagine you run some code via Build and your build was aborted and you want to do something like send information about abort to database.\n\nFor this case I use the same repository and have two objects with scripts: `Main` and `BuildWasAborted`","body":"@khmarbaise I&#39;ll try explain with abstract example. Imagine you run some code via Build and your build was aborted and you want to do something like send information about abort to database.  For this case I use the same repository and have two objects with scripts: <code>Main</code> and <code>BuildWasAborted</code>"}],"answers":[{"tags":[],"owner":{"account_id":11017423,"reputation":1864,"user_id":8092868,"display_name":"Joep Weijers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676558344,"creation_date":1676558344,"answer_id":75473824,"question_id":75401208,"body_markdown":"One configuration that can cause this, is if you have selected &quot;Use private Maven repository&quot; under the Advanced settings of the Build step:\r\n[![Showing the advanced settings of the Maven build step][1]][1]\r\n\r\nThe build step then makes use of this private repository and downloads all dependencies in there. \r\n\r\nYour post action executes Maven from the command line without all the extra configuration of the Jenkins Maven jobtype. So it uses the default Maven repository instead of the private one, and hence has to download all your dependencies again.\r\n\r\nOne solution can then be to figure out where the repository is (e.g. in your workspace as `.repository/`) and pass that to your Post-action Maven with `mvn compile -Dmaven.repo.local=.repository`.\r\n\r\nA better solution is to NOT use the Maven job type, but a Freestyle job instead, as recommended in [one of the 40 Jenkins tips][2]. The Maven Job type provides convenience, but also hides the complexity and that is exactly what is causing these issues, so consider switching.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OmwFQ.png\r\n  [2]: https://www.youtube.com/watch?v=3dYM0XUrXHc&amp;t=657s","title":"Jenkins doesn&#39;t use resolved maven&#39;s dependencies in Post-build Actions","body":"<p>One configuration that can cause this, is if you have selected &quot;Use private Maven repository&quot; under the Advanced settings of the Build step:\n<a href=\"https://i.stack.imgur.com/OmwFQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OmwFQ.png\" alt=\"Showing the advanced settings of the Maven build step\" /></a></p>\n<p>The build step then makes use of this private repository and downloads all dependencies in there.</p>\n<p>Your post action executes Maven from the command line without all the extra configuration of the Jenkins Maven jobtype. So it uses the default Maven repository instead of the private one, and hence has to download all your dependencies again.</p>\n<p>One solution can then be to figure out where the repository is (e.g. in your workspace as <code>.repository/</code>) and pass that to your Post-action Maven with <code>mvn compile -Dmaven.repo.local=.repository</code>.</p>\n<p>A better solution is to NOT use the Maven job type, but a Freestyle job instead, as recommended in <a href=\"https://www.youtube.com/watch?v=3dYM0XUrXHc&amp;t=657s\" rel=\"nofollow noreferrer\">one of the 40 Jenkins tips</a>. The Maven Job type provides convenience, but also hides the complexity and that is exactly what is causing these issues, so consider switching.</p>\n"},{"tags":[],"owner":{"account_id":10172293,"reputation":2339,"user_id":7512201,"display_name":"Amerousful"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676988287,"creation_date":1676988287,"answer_id":75521594,"question_id":75401208,"body_markdown":"I found solution!\r\n\r\nAt first you need to know the path to your maven local repository and pass it into maven cli via param `maven.repo.local`:\r\n```bash\r\nmvn -Dmaven.repo.local=/home/jenkins/maven-repositories/0 compile\r\n```\r\n\r\nAnd then the most important thing. For avoid download dependencies again you have to delete `*.sha1` and `*.repositories` from your local maven repository. I don&#39;t why... but it how works Maven...\r\n\r\nIt&#39;s an example of full script:\r\n```bash\r\nfind /home/jenkins/maven-repositories/0 -type f \\( -iname &quot;*.repositories&quot; -o -iname &quot;*.sha1&quot; \\) -exec rm -f {} \\;\r\n\r\nmvn -Dmaven.repo.local=/home/jenkins/maven-repositories/0 compile\r\n```","title":"Jenkins doesn&#39;t use resolved maven&#39;s dependencies in Post-build Actions","body":"<p>I found solution!</p>\n<p>At first you need to know the path to your maven local repository and pass it into maven cli via param <code>maven.repo.local</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn -Dmaven.repo.local=/home/jenkins/maven-repositories/0 compile\n</code></pre>\n<p>And then the most important thing. For avoid download dependencies again you have to delete <code>*.sha1</code> and <code>*.repositories</code> from your local maven repository. I don't why... but it how works Maven...</p>\n<p>It's an example of full script:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>find /home/jenkins/maven-repositories/0 -type f \\( -iname &quot;*.repositories&quot; -o -iname &quot;*.sha1&quot; \\) -exec rm -f {} \\;\n\nmvn -Dmaven.repo.local=/home/jenkins/maven-repositories/0 compile\n</code></pre>\n"}],"owner":{"account_id":10172293,"reputation":2339,"user_id":7512201,"display_name":"Amerousful"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75521594,"answer_count":2,"score":2,"last_activity_date":1676988287,"creation_date":1675958422,"question_id":75401208,"body_markdown":"I have a Maven job. In `Build`, for example, I use `mvn compile` with my `settings.xml`.\r\n\r\nThis `settings.xml` contains credentials to our Nexus Repository which stores some internal dependencies.\r\n\r\nThe problem is that when build will execute `Post-build Actions` (Post build task - Shell) with the same maven goal `mvn compile` it fails. It depends on build **tries to download all dependencies and plugins again** (but now it&#39;s without .\r\n\r\n\r\nMy question: How to share dependencies from `Build` step to step `Post-build Actions`\r\n***\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pCqyM.png","title":"Jenkins doesn&#39;t use resolved maven&#39;s dependencies in Post-build Actions","body":"<p>I have a Maven job. In <code>Build</code>, for example, I use <code>mvn compile</code> with my <code>settings.xml</code>.</p>\n<p>This <code>settings.xml</code> contains credentials to our Nexus Repository which stores some internal dependencies.</p>\n<p>The problem is that when build will execute <code>Post-build Actions</code> (Post build task - Shell) with the same maven goal <code>mvn compile</code> it fails. It depends on build <strong>tries to download all dependencies and plugins again</strong> (but now it's without .</p>\n<p>My question: How to share dependencies from <code>Build</code> step to step <code>Post-build Actions</code></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/pCqyM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pCqyM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","kotlin","kotlin-coroutines","kotlin-stateflow"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676988179,"creation_date":1676988179,"answer_id":75521573,"question_id":75521286,"body_markdown":"When you call `collect`, the code in the lambda is run every time the value in the StateFlow changes, forever until the CoroutineScope or your collection Job is cancelled. If you never need to do that, you don&#39;t need a StateFlow at all. \r\n\r\nIf you find that every time you change the value in the StateFlow that you always want to call this restore passwords function, then it makes sense to use `collect()`. If the restore passwords function is just updating another Flow, then you may not even need to expose this flow publicly at all or collect it, but rather simply use it as the basis of your password flow (via `stateIn`).\r\n\r\nIf you&#39;re using a Flow, it is rare to need `value`, except you might use the current value to determine what to do when you&#39;re deciding what new value to put in it. Aside from that, there could be some special cases where you&#39;re using the value for a one-off task *in addition to* whatever you&#39;re doing when you collect it. ","title":"How to correct use of the StateFlow value?","body":"<p>When you call <code>collect</code>, the code in the lambda is run every time the value in the StateFlow changes, forever until the CoroutineScope or your collection Job is cancelled. If you never need to do that, you don't need a StateFlow at all.</p>\n<p>If you find that every time you change the value in the StateFlow that you always want to call this restore passwords function, then it makes sense to use <code>collect()</code>. If the restore passwords function is just updating another Flow, then you may not even need to expose this flow publicly at all or collect it, but rather simply use it as the basis of your password flow (via <code>stateIn</code>).</p>\n<p>If you're using a Flow, it is rare to need <code>value</code>, except you might use the current value to determine what to do when you're deciding what new value to put in it. Aside from that, there could be some special cases where you're using the value for a one-off task <em>in addition to</em> whatever you're doing when you collect it.</p>\n"}],"owner":{"account_id":24288169,"reputation":1,"user_id":18233624,"display_name":"Denis Mirgorod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676988179,"creation_date":1676986680,"question_id":75521286,"body_markdown":"Today I faced the question of how to write the code correctly.\r\n\r\nI have a Fragment in which I call the viewModel function `viewModel.restorePassword()`. \r\n\r\nThere is a variable in viewModel:\r\n\r\n```\r\nprivate var _currentNumberPhone = MutableStateFlow&lt;String&gt;(&quot;&quot;)\r\nval currentNumberPhone: StateFlow&lt;String&gt; = _currentNumberPhone.asStateFlow()\r\n```\r\n\r\n**1) First function**\r\n\r\n```\r\nfun restorePassword() {\r\n        viewModelScope.launch {\r\n            currentNumberPhone.collect { phone -&gt;\r\n                restorePasswordByPhone(phone)\r\n            }\r\n        }\r\n}\r\n```\r\n\r\n**2) Second function** \r\n\r\n```\r\nfun restorePassword() {\r\n    restorePasswordByPhone(currentNumberPhone.value)\r\n}\r\n```\r\n\r\nIn `restorePasswordByPhone()` there is a call to the network, via Coroutine. It&#39;s nothing special. And I have a question, what is the right way to handle StateFlow variable through subscription and collect or regular `currentNumberPhone.value`? The thing is, I don&#39;t need to observe all the time. When I call the restorePassword() method, I need to pass the currentNumberPhone value and that&#39;s it.\r\n\r\nI don&#39;t know what the differences are!","title":"How to correct use of the StateFlow value?","body":"<p>Today I faced the question of how to write the code correctly.</p>\n<p>I have a Fragment in which I call the viewModel function <code>viewModel.restorePassword()</code>.</p>\n<p>There is a variable in viewModel:</p>\n<pre><code>private var _currentNumberPhone = MutableStateFlow&lt;String&gt;(&quot;&quot;)\nval currentNumberPhone: StateFlow&lt;String&gt; = _currentNumberPhone.asStateFlow()\n</code></pre>\n<p><strong>1) First function</strong></p>\n<pre><code>fun restorePassword() {\n        viewModelScope.launch {\n            currentNumberPhone.collect { phone -&gt;\n                restorePasswordByPhone(phone)\n            }\n        }\n}\n</code></pre>\n<p><strong>2) Second function</strong></p>\n<pre><code>fun restorePassword() {\n    restorePasswordByPhone(currentNumberPhone.value)\n}\n</code></pre>\n<p>In <code>restorePasswordByPhone()</code> there is a call to the network, via Coroutine. It's nothing special. And I have a question, what is the right way to handle StateFlow variable through subscription and collect or regular <code>currentNumberPhone.value</code>? The thing is, I don't need to observe all the time. When I call the restorePassword() method, I need to pass the currentNumberPhone value and that's it.</p>\n<p>I don't know what the differences are!</p>\n"},{"tags":["java","spring","spring-boot","spring-annotations"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676716427,"creation_date":1676716427,"answer_id":75492736,"question_id":75492671,"body_markdown":"In `@APIv1` you defined:\r\n\r\n    @RequestMapping(&quot;/api/v1&quot;)\r\n\r\nSo it is working as you told it to.","title":"How to make custom request mapping annotation with spring to add prefixes?","body":"<p>In <code>@APIv1</code> you defined:</p>\n<pre><code>@RequestMapping(&quot;/api/v1&quot;)\n</code></pre>\n<p>So it is working as you told it to.</p>\n"},{"tags":[],"owner":{"account_id":27817630,"reputation":1,"user_id":21238691,"display_name":"aPatchyDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676987762,"creation_date":1676987762,"answer_id":75521480,"question_id":75492671,"body_markdown":"After trying around with different solutions proposed in similar questions, I settled on using my custom annotation to hold the prefix path separately and join them in WebMvcConfigurer\r\n\r\nUsage in controllers:\r\n```\r\n@APIv1(&quot;/users&quot;)\r\npublic class UserController {\r\n    @GetMapping(&quot;/info&quot;)\r\n    public String info() {return &quot;This should be returned at /api/v1/users/info/&quot;;}\r\n\r\n    /* More methods with mappings */\r\n}\r\n```\r\nwhere the custom annotations are defined as follows (in a separate package, ie: com.example.myannotations):\r\n```\r\n@Target(ElementType.ANNOTATION_TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface PrefixMapping {\r\n    /**\r\n     * The prefix to prepend to path mappings\r\n     * */\r\n    String value() default &quot;&quot;;\r\n}\r\n```\r\n```\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@RestController\r\n@RequestMapping\r\n@PrefixMapping(&quot;/api/v1&quot;)    // Prefix to add when using this annotation\r\npublic @interface APIv1 {\r\n    /**\r\n     * Alias for {@link RequestMapping#value}.\r\n     */\r\n    @AliasFor(annotation = RequestMapping.class)\r\n    String value() default &quot;&quot;;\r\n}\r\n```\r\nAnd define a WebMvcConfigurer that will search for annotations on startup\r\n```\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void configurePathMatch(PathMatchConfigurer configurer) {\r\n        ClassPathScanningCandidateComponentProvider provider = new ClassPathScanningCandidateComponentProvider(false) {\r\n            @Override\r\n            protected boolean isCandidateComponent(AnnotatedBeanDefinition beanDefinition) {\r\n                return true;\r\n            }\r\n        };\r\n        provider.addIncludeFilter(new AnnotationTypeFilter(PrefixMapping.class));\r\n\r\n        String pkgName = &quot;com.example.myannotations&quot;;    // Package name where the custom annotations are defined in\r\n        provider.findCandidateComponents(pkgName).forEach(bean -&gt; {\r\n            try {\r\n                String className = bean.getBeanClassName();\r\n                Class&lt;? extends Annotation&gt; clz = (Class&lt;? extends Annotation&gt;) Class.forName(className);\r\n\r\n                String prefix = clz.getDeclaredAnnotation(PrefixMapping.class).value();\r\n                configurer.addPathPrefix(prefix, HandlerTypePredicate.forAnnotation(clz));\r\n            } catch (ClassNotFoundException | ClassCastException e) {\r\n                e.printStackTrace(System.err);\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n\r\nNow if I want an annotation with different prefix, I can define the annotation without changing anything else.\r\n\r\nOne thing that troubled me when writing the `WebConfig` class was getting the `Class` object for the annotation class from the `BeanDefinition` returned by `findCandidateComponents(pkgName)` even though there were supposed to be functions for getting them available.\r\n\r\n```\r\nFunctions I tried                                       -&gt; resulting Class&lt;?&gt;::getName() or null\r\n\r\n- ClassUtils.getUserClass(bean.getClass())              -&gt; org.springframework.context.annotation.ScannedGenericBeanDefinition\r\n- AopUtils.getTargetClass(bean.getClass())              -&gt; java.lang.Class    - ScannedGenericBeanDefinition if bean instead of bean.class()\r\n- AopProxyUtils.ultimateTargetClass(bean.getClass())    -&gt; java.lang.Class    - ScannedGenericBeanDefinition if bean instead of bean.class()\r\n- AopProxyUtils.proxiedUserInterfaces(bean.getClass())  -&gt; [java.io.Serializable, java.lang.reflect.GenericDeclaration, java.lang.reflect.Type, java.lang.reflect.AnnotatedElement]    - [org.springframework.beans.factory.annotation.AnnotatedBeanDefinition] if bean instead of bean.getClass()\r\n- bean.getResolvableType().resolve()                    -&gt; null\r\n- bean.getResolvableType().toClass()                    -&gt; java.lang.Object\r\n- bean.getResolvableType().getRawClass()                -&gt; null\r\n```","title":"How to make custom request mapping annotation with spring to add prefixes?","body":"<p>After trying around with different solutions proposed in similar questions, I settled on using my custom annotation to hold the prefix path separately and join them in WebMvcConfigurer</p>\n<p>Usage in controllers:</p>\n<pre><code>@APIv1(&quot;/users&quot;)\npublic class UserController {\n    @GetMapping(&quot;/info&quot;)\n    public String info() {return &quot;This should be returned at /api/v1/users/info/&quot;;}\n\n    /* More methods with mappings */\n}\n</code></pre>\n<p>where the custom annotations are defined as follows (in a separate package, ie: com.example.myannotations):</p>\n<pre><code>@Target(ElementType.ANNOTATION_TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface PrefixMapping {\n    /**\n     * The prefix to prepend to path mappings\n     * */\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@RestController\n@RequestMapping\n@PrefixMapping(&quot;/api/v1&quot;)    // Prefix to add when using this annotation\npublic @interface APIv1 {\n    /**\n     * Alias for {@link RequestMapping#value}.\n     */\n    @AliasFor(annotation = RequestMapping.class)\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<p>And define a WebMvcConfigurer that will search for annotations on startup</p>\n<pre><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        ClassPathScanningCandidateComponentProvider provider = new ClassPathScanningCandidateComponentProvider(false) {\n            @Override\n            protected boolean isCandidateComponent(AnnotatedBeanDefinition beanDefinition) {\n                return true;\n            }\n        };\n        provider.addIncludeFilter(new AnnotationTypeFilter(PrefixMapping.class));\n\n        String pkgName = &quot;com.example.myannotations&quot;;    // Package name where the custom annotations are defined in\n        provider.findCandidateComponents(pkgName).forEach(bean -&gt; {\n            try {\n                String className = bean.getBeanClassName();\n                Class&lt;? extends Annotation&gt; clz = (Class&lt;? extends Annotation&gt;) Class.forName(className);\n\n                String prefix = clz.getDeclaredAnnotation(PrefixMapping.class).value();\n                configurer.addPathPrefix(prefix, HandlerTypePredicate.forAnnotation(clz));\n            } catch (ClassNotFoundException | ClassCastException e) {\n                e.printStackTrace(System.err);\n            }\n        });\n    }\n\n}\n</code></pre>\n<p>Now if I want an annotation with different prefix, I can define the annotation without changing anything else.</p>\n<p>One thing that troubled me when writing the <code>WebConfig</code> class was getting the <code>Class</code> object for the annotation class from the <code>BeanDefinition</code> returned by <code>findCandidateComponents(pkgName)</code> even though there were supposed to be functions for getting them available.</p>\n<pre><code>Functions I tried                                       -&gt; resulting Class&lt;?&gt;::getName() or null\n\n- ClassUtils.getUserClass(bean.getClass())              -&gt; org.springframework.context.annotation.ScannedGenericBeanDefinition\n- AopUtils.getTargetClass(bean.getClass())              -&gt; java.lang.Class    - ScannedGenericBeanDefinition if bean instead of bean.class()\n- AopProxyUtils.ultimateTargetClass(bean.getClass())    -&gt; java.lang.Class    - ScannedGenericBeanDefinition if bean instead of bean.class()\n- AopProxyUtils.proxiedUserInterfaces(bean.getClass())  -&gt; [java.io.Serializable, java.lang.reflect.GenericDeclaration, java.lang.reflect.Type, java.lang.reflect.AnnotatedElement]    - [org.springframework.beans.factory.annotation.AnnotatedBeanDefinition] if bean instead of bean.getClass()\n- bean.getResolvableType().resolve()                    -&gt; null\n- bean.getResolvableType().toClass()                    -&gt; java.lang.Object\n- bean.getResolvableType().getRawClass()                -&gt; null\n</code></pre>\n"}],"owner":{"account_id":27817630,"reputation":1,"user_id":21238691,"display_name":"aPatchyDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75521480,"answer_count":2,"score":0,"last_activity_date":1676987762,"creation_date":1676715706,"question_id":75492671,"body_markdown":"Using spring boot 2 on java 11, I want to make a custom annotation for each REST API version (eg: &quot;/api/v1/&quot;) that can be joined with subsequent URI components as below:\r\n\r\n```java\r\n@APIv1(&quot;/users/&quot;)    // this annotation should prepend &quot;/api/v1/{argument}&quot;\r\npublic class UserController {\r\n    @GetMapping(&quot;/info&quot;)\r\n    public String info() {return &quot;This should be returned at /api/v1/users/info/&quot;;}\r\n\r\n    /* More methods with mappings */\r\n}\r\n```\r\n\r\nThe problem is I don&#39;t know how to define that @APIv1 annotation.\r\nFrom what I&#39;ve searched, I referenced [https://stackoverflow.com/a/51182494/](https://www.stackoverflow.com/) to write the following:\r\n\r\n```java\r\n@Target({ElementType.TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\n@interface APIv1 {\r\n    @AliasFor(annotation = RestController.class)\r\n    String value() default &quot;&quot;;\r\n}\r\n```\r\n\r\nBut this cannot handle arguments. Doing the same as above will route to `/api/v1/info/` whether the argument is given or not. It&#39;s better than nothing since I can switch the method annotation to `@GetMapping(&quot;/users/info&quot;)`, but I was wondering if there was a way to combine the constant with an argument to reduce repetition across method annotations within the same controller class.","title":"How to make custom request mapping annotation with spring to add prefixes?","body":"<p>Using spring boot 2 on java 11, I want to make a custom annotation for each REST API version (eg: &quot;/api/v1/&quot;) that can be joined with subsequent URI components as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@APIv1(&quot;/users/&quot;)    // this annotation should prepend &quot;/api/v1/{argument}&quot;\npublic class UserController {\n    @GetMapping(&quot;/info&quot;)\n    public String info() {return &quot;This should be returned at /api/v1/users/info/&quot;;}\n\n    /* More methods with mappings */\n}\n</code></pre>\n<p>The problem is I don't know how to define that @APIv1 annotation.\nFrom what I've searched, I referenced <a href=\"https://www.stackoverflow.com/\">https://stackoverflow.com/a/51182494/</a> to write the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@RestController\n@RequestMapping(&quot;/api/v1&quot;)\n@interface APIv1 {\n    @AliasFor(annotation = RestController.class)\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<p>But this cannot handle arguments. Doing the same as above will route to <code>/api/v1/info/</code> whether the argument is given or not. It's better than nothing since I can switch the method annotation to <code>@GetMapping(&quot;/users/info&quot;)</code>, but I was wondering if there was a way to combine the constant with an argument to reduce repetition across method annotations within the same controller class.</p>\n"},{"tags":["java","ejb","weblogic","cluster-computing","jndi"],"answers":[{"tags":[],"owner":{"account_id":17897048,"reputation":11,"user_id":13002183,"display_name":"QuinnLin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584021901,"creation_date":1584021587,"answer_id":60655678,"question_id":60516289,"body_markdown":"A couple of work arounds that worked for me, doing either one got rid of the exception:\r\n\r\n1. Change the cluster messaging mode from **Multicast** to **Unicast** in the WebLogic admin console.\r\n\r\nNavigate to Environment -&gt; Clusters -&gt; &lt;ejbnodename&gt; -&gt; Configuration tab -&gt; Messaging tab -&gt; Messaging Mode: Multicast, you need to press Lock &amp; Edit and make changes from Multicast to Unicast and save and then release the Lock.\r\n\r\n2. Updating weblogic-ejb-jar.xml to make the bean not clusterable.\r\n\r\n        &lt;wls:weblogic-enterprise-bean&gt;\r\n            &lt;wls:ejb-name&gt;Summary&lt;/wls:ejb-name&gt;\r\n            &lt;wls:stateless-session-descriptor&gt;\r\n                &lt;wls:stateless-clustering&gt;\r\n                    &lt;wls:home-is-clusterable&gt;false&lt;/wls:home-is-clusterable&gt;\r\n                    &lt;wls:stateless-bean-is-clusterable&gt;false&lt;/wls:stateless-bean-is-clusterable&gt;\r\n            &lt;/wls:stateless-clustering&gt;\r\n        &lt;/wls:stateless-session-descriptor&gt;\r\n    &lt;/wls:weblogic-enterprise-bean&gt;","title":"Error trying to synchronize cluster JNDI tree when starting managed server WebLogic 12.2.1.4","body":"<p>A couple of work arounds that worked for me, doing either one got rid of the exception:</p>\n\n<ol>\n<li>Change the cluster messaging mode from <strong>Multicast</strong> to <strong>Unicast</strong> in the WebLogic admin console.</li>\n</ol>\n\n<p>Navigate to Environment -> Clusters ->  -> Configuration tab -> Messaging tab -> Messaging Mode: Multicast, you need to press Lock &amp; Edit and make changes from Multicast to Unicast and save and then release the Lock.</p>\n\n<ol start=\"2\">\n<li><p>Updating weblogic-ejb-jar.xml to make the bean not clusterable.</p>\n\n<pre><code>&lt;wls:weblogic-enterprise-bean&gt;\n    &lt;wls:ejb-name&gt;Summary&lt;/wls:ejb-name&gt;\n    &lt;wls:stateless-session-descriptor&gt;\n        &lt;wls:stateless-clustering&gt;\n            &lt;wls:home-is-clusterable&gt;false&lt;/wls:home-is-clusterable&gt;\n            &lt;wls:stateless-bean-is-clusterable&gt;false&lt;/wls:stateless-bean-is-clusterable&gt;\n    &lt;/wls:stateless-clustering&gt;\n&lt;/wls:stateless-session-descriptor&gt;\n</code></pre>\n\n<p></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":27842167,"reputation":1,"user_id":21258440,"display_name":"D Fields"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676987727,"creation_date":1676987133,"answer_id":75521361,"question_id":60516289,"body_markdown":"this might bug 30295025 in weblogic. Had a similar issue and after patch 30295025  was applied the issue went away.\r\n\r\nDoc ID 2689913.1\r\n","title":"Error trying to synchronize cluster JNDI tree when starting managed server WebLogic 12.2.1.4","body":"<p>this might bug 30295025 in weblogic. Had a similar issue and after patch 30295025  was applied the issue went away.</p>\n<p>Doc ID 2689913.1</p>\n"}],"owner":{"account_id":17897048,"reputation":11,"user_id":13002183,"display_name":"QuinnLin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676987727,"creation_date":1583273508,"question_id":60516289,"body_markdown":"I&#39;m updating an application from WebLogic 12.1.3 to 12.2.1.4.  Our web application is on a cluster with 2 nodes. When we start the 2 managed servers, whichever one finishes last throws the following exception:\r\n\r\n    &lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000138&gt; &lt;Listening for announcements from cluster WEBCluster on 239.255.0.102:10034.&gt;\r\n    &lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000133&gt; &lt;Waiting to synchronize with other running members of WEBCluster.&gt;\r\n    &lt;Notice&gt; &lt;Log Management&gt; &lt;BEA-170027&gt; &lt;The server has successfully established a connection with the Domain level Diagnostic Service.&gt;\r\n    &lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000142&gt; &lt;Trying to download cluster JNDI tree from server web-dev01.&gt;\r\n    &lt;Error&gt; &lt;Cluster&gt; &lt;BEA-000140&gt; &lt;Failed to deserialize statedump from server web-dev01 with\r\n    weblogic.application.ClassLoaderNotFoundException: com.app.ejb.SummaryRemote is not found due to missing GenericClassLoader.annotation:app-ejb@.\r\n    weblogic.application.ClassLoaderNotFoundException: com.app.ejb.SummaryRemote is not found due to missing GenericClassLoader.annotation:app-ejb@\r\n        at weblogic.application.internal.AppClassLoaderManagerImpl.loadApplicationClass(AppClassLoaderManagerImpl.java:229)\r\n        at weblogic.common.internal.ProxyClassResolver.resolveProxyClass(ProxyClassResolver.java:77)\r\n        at weblogic.common.internal.WLObjectInputStream.resolveProxyClass(WLObjectInputStream.java:88)\r\n        at java.io.ObjectInputStream.readProxyDesc(ObjectInputStream.java:1854)\r\n        at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1802)\r\n        Truncated. see log file for complete stacktrace\r\n\r\nThe server that finishes first shows the following with no issues:\r\n\r\n\t&lt;Notice&gt; &lt;Log Management&gt; &lt;BEA-170027&gt; &lt;The server has successfully established a connection with the Domain level Diagnostic Service.&gt;\r\n\t&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000138&gt; &lt;Listening for announcements from cluster WEBCluster on 123.123.0.102:10034.&gt;\r\n\t&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000133&gt; &lt;Waiting to synchronize with other running members of WEBCluster.&gt;\r\n\t&lt;Notice&gt; &lt;WebLogicServer&gt; &lt;BEA-000365&gt; &lt;Server state changed to ADMIN.&gt;\r\n\t&lt;Notice&gt; &lt;WebLogicServer&gt; &lt;BEA-000365&gt; &lt;Server state changed to RESUMING.&gt;\r\n\t&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000162&gt; &lt;Starting &quot;async&quot; replication service with remote cluster address &quot;null&quot;&gt;\r\n\t&lt;Notice&gt; &lt;WebLogicServer&gt; &lt;BEA-000330&gt; &lt;Started the WebLogic Server Managed Server &quot;web-dev01&quot; for domain &quot;domain&quot; running in production mode.&gt;\r\n\r\nSummary.java\r\n\r\n    package com.app.ejb;\r\n\r\n    @Stateless(mappedName = &quot;Summary&quot;)\r\n    public class Summary implements SummaryRemote {\r\n    \t@Inject\r\n    \tprivate SummaryLocal summaryLocalBean;\r\n\r\nSummaryRemote.java\r\n\r\n    package com.app.ejb;\r\n\r\n    @Remote\r\n    public interface SummaryRemote {\r\n\r\nLookup\r\n\r\n    private void getSummaryFacade() throws NamingException {\r\n        Context context = new InitialContext();\r\n        summaryRemote = (SummaryRemote) context\r\n                .lookup(&quot;Summary#com.app.ejb.SummaryRemote&quot;);\r\n    }\r\n\r\nWhy is it throwing the ClassLoaderNotFoundException on the node of the cluster that starts up after the first one? I don&#39;t have weblogic-ejb-jar.xml or ejb-jar.xml set up for my project by the way.\r\n\r\nLooking at the JNDI tree in the weblogic console, I see the same classloader not found exception when I have only one server up.  I think when I bring server 2 up, it&#39;s trying to replicate/download the JNDI tree from server 1 and is unable to because of the error.\r\n[See link for image of the JNDI tree exception][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PnS6n.jpg","title":"Error trying to synchronize cluster JNDI tree when starting managed server WebLogic 12.2.1.4","body":"<p>I'm updating an application from WebLogic 12.1.3 to 12.2.1.4.  Our web application is on a cluster with 2 nodes. When we start the 2 managed servers, whichever one finishes last throws the following exception:</p>\n\n<pre><code>&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000138&gt; &lt;Listening for announcements from cluster WEBCluster on 239.255.0.102:10034.&gt;\n&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000133&gt; &lt;Waiting to synchronize with other running members of WEBCluster.&gt;\n&lt;Notice&gt; &lt;Log Management&gt; &lt;BEA-170027&gt; &lt;The server has successfully established a connection with the Domain level Diagnostic Service.&gt;\n&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000142&gt; &lt;Trying to download cluster JNDI tree from server web-dev01.&gt;\n&lt;Error&gt; &lt;Cluster&gt; &lt;BEA-000140&gt; &lt;Failed to deserialize statedump from server web-dev01 with\nweblogic.application.ClassLoaderNotFoundException: com.app.ejb.SummaryRemote is not found due to missing GenericClassLoader.annotation:app-ejb@.\nweblogic.application.ClassLoaderNotFoundException: com.app.ejb.SummaryRemote is not found due to missing GenericClassLoader.annotation:app-ejb@\n    at weblogic.application.internal.AppClassLoaderManagerImpl.loadApplicationClass(AppClassLoaderManagerImpl.java:229)\n    at weblogic.common.internal.ProxyClassResolver.resolveProxyClass(ProxyClassResolver.java:77)\n    at weblogic.common.internal.WLObjectInputStream.resolveProxyClass(WLObjectInputStream.java:88)\n    at java.io.ObjectInputStream.readProxyDesc(ObjectInputStream.java:1854)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1802)\n    Truncated. see log file for complete stacktrace\n</code></pre>\n\n<p>The server that finishes first shows the following with no issues:</p>\n\n<pre><code>&lt;Notice&gt; &lt;Log Management&gt; &lt;BEA-170027&gt; &lt;The server has successfully established a connection with the Domain level Diagnostic Service.&gt;\n&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000138&gt; &lt;Listening for announcements from cluster WEBCluster on 123.123.0.102:10034.&gt;\n&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000133&gt; &lt;Waiting to synchronize with other running members of WEBCluster.&gt;\n&lt;Notice&gt; &lt;WebLogicServer&gt; &lt;BEA-000365&gt; &lt;Server state changed to ADMIN.&gt;\n&lt;Notice&gt; &lt;WebLogicServer&gt; &lt;BEA-000365&gt; &lt;Server state changed to RESUMING.&gt;\n&lt;Notice&gt; &lt;Cluster&gt; &lt;BEA-000162&gt; &lt;Starting \"async\" replication service with remote cluster address \"null\"&gt;\n&lt;Notice&gt; &lt;WebLogicServer&gt; &lt;BEA-000330&gt; &lt;Started the WebLogic Server Managed Server \"web-dev01\" for domain \"domain\" running in production mode.&gt;\n</code></pre>\n\n<p>Summary.java</p>\n\n<pre><code>package com.app.ejb;\n\n@Stateless(mappedName = \"Summary\")\npublic class Summary implements SummaryRemote {\n    @Inject\n    private SummaryLocal summaryLocalBean;\n</code></pre>\n\n<p>SummaryRemote.java</p>\n\n<pre><code>package com.app.ejb;\n\n@Remote\npublic interface SummaryRemote {\n</code></pre>\n\n<p>Lookup</p>\n\n<pre><code>private void getSummaryFacade() throws NamingException {\n    Context context = new InitialContext();\n    summaryRemote = (SummaryRemote) context\n            .lookup(\"Summary#com.app.ejb.SummaryRemote\");\n}\n</code></pre>\n\n<p>Why is it throwing the ClassLoaderNotFoundException on the node of the cluster that starts up after the first one? I don't have weblogic-ejb-jar.xml or ejb-jar.xml set up for my project by the way.</p>\n\n<p>Looking at the JNDI tree in the weblogic console, I see the same classloader not found exception when I have only one server up.  I think when I bring server 2 up, it's trying to replicate/download the JNDI tree from server 1 and is unable to because of the error.\n<a href=\"https://i.stack.imgur.com/PnS6n.jpg\" rel=\"nofollow noreferrer\">See link for image of the JNDI tree exception</a></p>\n"},{"tags":["java","spring-mvc","rabbitmq","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676987521,"creation_date":1676987521,"answer_id":75521436,"question_id":75519625,"body_markdown":"See what was new for that version back in days: https://docs.spring.io/spring-amqp/docs/current/reference/html/#listener-container-bean-names-xml\r\n\r\n&gt; When migrating to this release, if you have id attributes on your `&lt;listener-container/&gt;` elements, remove them and set the id on the child `&lt;listener/&gt;` element instead.\r\n\r\nThe reason behind this that you had to specify both ids in the past to get access to respective listener.\r\n\r\nIt is better to upgrade to the latest version anyway: all those are out of support for years.","title":"Upgrading Sping AMQP from 1.3.4.RELEASE to 1.5.5.RELEASE","body":"<p>See what was new for that version back in days: <a href=\"https://docs.spring.io/spring-amqp/docs/current/reference/html/#listener-container-bean-names-xml\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/docs/current/reference/html/#listener-container-bean-names-xml</a></p>\n<blockquote>\n<p>When migrating to this release, if you have id attributes on your <code>&lt;listener-container/&gt;</code> elements, remove them and set the id on the child <code>&lt;listener/&gt;</code> element instead.</p>\n</blockquote>\n<p>The reason behind this that you had to specify both ids in the past to get access to respective listener.</p>\n<p>It is better to upgrade to the latest version anyway: all those are out of support for years.</p>\n"}],"owner":{"account_id":19769258,"reputation":11,"user_id":14476565,"display_name":"Manohar Nr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75521436,"answer_count":1,"score":0,"last_activity_date":1676987521,"creation_date":1676977613,"question_id":75519625,"body_markdown":"When I try to upgrade spring ampq from 1.3.4.RELEASE to 1.5.5.RELEASE I&#39;m facing below error.\r\nIt was working fine but when I try to upgrade its throwing an error.\r\nAny suggestions would be helpful.\r\nHere is my dependency details.\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.5.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;amqp-client&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;amqp-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\nspring version I&#39;m using is ```4.2.3.RELEASE```\r\n\r\nError details :-\r\n```\r\n21-Feb-2023 16:12:58.148 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.listenerStart Exception sending context initialized event to listener instance of class [org.springframework.web.context.ContextLoaderListener]\r\n        org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;que&#39; defined in class path resource [config/spring/config-amqp.xml]: Cannot resolve reference to bean &#39;test&#39; while setting bean property &#39;listeners&#39; with key [0]; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;test&#39; is defined\r\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)\r\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\r\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:382)\r\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:157)\r\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1481)\r\n\r\n```\r\n\r\nhere is my config xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n\txmlns:rabbit=&quot;http://www.springframework.org/schema/rabbit&quot; xmlns:task=&quot;http://www.springframework.org/schema/task&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd\r\n        http://www.springframework.org/schema/rabbit http://www.springframework.org/schema/rabbit/spring-rabbit-1.3.xsd\r\n        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.1.xsd&quot;&gt;\r\n\r\n\r\n\t&lt;beans profile=&quot;info&quot;&gt;\r\n\t\t&lt;!-- Consumers --&gt;\r\n\t\t&lt;rabbit:listener-container id=&quot;test&quot;\r\n\t\t\ttransaction-size=&quot;2&quot; prefetch=&quot;2&quot; error-handler=&quot;handler&quot;\r\n\t\t\tconnection-factory=&quot;connectionFactory&quot; acknowledge=&quot;auto&quot;\r\n\t\t\tconcurrency=&quot;${t1.consmers}&quot; advice-chain=&quot;valueTester&quot;&gt;\r\n\t\t\t&lt;rabbit:listener queues=&quot;${t2.consumer}, ${t3.tester}&quot;\r\n\t\t\t\tref=&quot;testConsumer&quot; method=&quot;consume&quot; /&gt;\r\n\t\t&lt;/rabbit:listener-container&gt;\r\n\r\n\t\t\r\n\t\t&lt;!-- Consumers manager --&gt;\r\n\t\t&lt;bean id=&quot;someid&quot; class=&quot;java.util.concurrent.ConcurrentLinkedQueue&quot; /&gt;\r\n\t\t&lt;bean id=&quot;queue&quot; class=&quot;com.t1.QueueTester&quot;&gt;\r\n\t\t\t&lt;property name=&quot;listeners&quot;&gt;\r\n\t\t\t\t&lt;list&gt;\r\n\t\t\t\t\t&lt;ref bean=&quot;test&quot; /&gt;\r\n\t\t\t\t&lt;/list&gt;\r\n\t\t\t&lt;/property&gt;\r\n\t\t&lt;/bean&gt;\r\n\t&lt;/beans&gt;\r\n\r\n\r\n\t&lt;beans profile=&quot;build&quot;&gt;&lt;/beans&gt;\r\n\r\n&lt;/beans&gt;\r\n```\r\n","title":"Upgrading Sping AMQP from 1.3.4.RELEASE to 1.5.5.RELEASE","body":"<p>When I try to upgrade spring ampq from 1.3.4.RELEASE to 1.5.5.RELEASE I'm facing below error.\nIt was working fine but when I try to upgrade its throwing an error.\nAny suggestions would be helpful.\nHere is my dependency details.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt;\n            &lt;version&gt;1.5.5.RELEASE&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;\n                    &lt;artifactId&gt;amqp-client&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt;\n            &lt;artifactId&gt;amqp-client&lt;/artifactId&gt;\n            &lt;version&gt;4.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>spring version I'm using is <code>4.2.3.RELEASE</code></p>\n<p>Error details :-</p>\n<pre><code>21-Feb-2023 16:12:58.148 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.listenerStart Exception sending context initialized event to listener instance of class [org.springframework.web.context.ContextLoaderListener]\n        org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'que' defined in class path resource [config/spring/config-amqp.xml]: Cannot resolve reference to bean 'test' while setting bean property 'listeners' with key [0]; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'test' is defined\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedList(BeanDefinitionValueResolver.java:382)\n                at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:157)\n                at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1481)\n\n</code></pre>\n<p>here is my config xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\n    xmlns:rabbit=&quot;http://www.springframework.org/schema/rabbit&quot; xmlns:task=&quot;http://www.springframework.org/schema/task&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd\n        http://www.springframework.org/schema/rabbit http://www.springframework.org/schema/rabbit/spring-rabbit-1.3.xsd\n        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.1.xsd&quot;&gt;\n\n\n    &lt;beans profile=&quot;info&quot;&gt;\n        &lt;!-- Consumers --&gt;\n        &lt;rabbit:listener-container id=&quot;test&quot;\n            transaction-size=&quot;2&quot; prefetch=&quot;2&quot; error-handler=&quot;handler&quot;\n            connection-factory=&quot;connectionFactory&quot; acknowledge=&quot;auto&quot;\n            concurrency=&quot;${t1.consmers}&quot; advice-chain=&quot;valueTester&quot;&gt;\n            &lt;rabbit:listener queues=&quot;${t2.consumer}, ${t3.tester}&quot;\n                ref=&quot;testConsumer&quot; method=&quot;consume&quot; /&gt;\n        &lt;/rabbit:listener-container&gt;\n\n        \n        &lt;!-- Consumers manager --&gt;\n        &lt;bean id=&quot;someid&quot; class=&quot;java.util.concurrent.ConcurrentLinkedQueue&quot; /&gt;\n        &lt;bean id=&quot;queue&quot; class=&quot;com.t1.QueueTester&quot;&gt;\n            &lt;property name=&quot;listeners&quot;&gt;\n                &lt;list&gt;\n                    &lt;ref bean=&quot;test&quot; /&gt;\n                &lt;/list&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/beans&gt;\n\n\n    &lt;beans profile=&quot;build&quot;&gt;&lt;/beans&gt;\n\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-batch","spring-batch-tasklet"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676987521,"creation_date":1676987521,"answer_id":75521437,"question_id":75517057,"body_markdown":"`Tasklet#execute` is already executed in a transaction driven by Spring Batch. This is explained in the documentation [here](https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#taskletStep). So you don&#39;t need to create another transaction inside that method.","title":"Springbatch failing | Why the transaction was completed automatically","body":"<p><code>Tasklet#execute</code> is already executed in a transaction driven by Spring Batch. This is explained in the documentation <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/step.html#taskletStep\" rel=\"nofollow noreferrer\">here</a>. So you don't need to create another transaction inside that method.</p>\n"}],"owner":{"account_id":25872243,"reputation":7,"user_id":19602922,"display_name":"l4ru3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75521437,"answer_count":1,"score":0,"last_activity_date":1676987521,"creation_date":1676961897,"question_id":75517057,"body_markdown":"I have meet some question which i can not understand; \r\nWhy the transaction was completed automatically without any rollback code or commit code\r\n\r\nThis is a sample demo\r\n```\r\n@Component(&quot;sampleDemo&quot;)\r\n@Scope(&quot;step&quot;)\r\npublic class sampleDemo implements Tasklet {\r\n    @Autowired\r\n    private PlatformTransactionManager transactionManager;\r\n\r\n    @Override\r\n    public RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) throws Exception {\r\n        TransactionStatus status = null;\r\n        try {\r\n            while((testDto = dbReader01.read()) != null) {\r\n                if (status == null || status.isCompleted()) {\r\n                    status = transactionManager.getTransaction(definition);\r\n                }\r\n                ....\r\n                if(someCheck) {\r\n                    return RepeatStatus.FINISHED;\r\n                }\r\n                if (status != null &amp;&amp; !status.isCompleted()) {\r\n                    transactionManager.commit(status);\r\n                }\r\n            }\r\n        } catch {\r\n            ...\r\n        } finally {\r\n            dbReader01.close();\r\n        }\r\n        return RepeatStatus.FINISHED;;\r\n    }\r\n}\r\n```\r\nWhen this **someCheck** was true, this jobs was return with an unfinished transaction.so that,it had some errcode like these\r\n\r\n\r\n```\r\norg.springframework.transaction.TransactionSystemException: Could not roll back JDBC transaction; nested exception is java.sql.SQLException: Connection is null.\r\n\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:347)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.doRollbackOnCommitException(AbstractPlatformTransactionManager.java:895)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:767)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:152)\r\n\tat org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273)\r\n\tat org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\r\n\tat org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258)\r\n\tat org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:203)\r\n\tat org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148)\r\n\tat org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:68)\r\n\tat org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:67)\r\n\tat org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169)\r\n\tat org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)\r\n\tat org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:136)\r\n\tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:313)\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:144)\r\n\tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:137)\r\n\tat org.springframework.batch.test.JobLauncherTestUtils.launchJob(JobLauncherTestUtils.java:152)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat mockit.integration.junit4.internal.JUnit4TestRunnerDecorator.executeTestMethod(JUnit4TestRunnerDecorator.java:156)\r\n\tat mockit.integration.junit4.internal.JUnit4TestRunnerDecorator.invokeExplosively(JUnit4TestRunnerDecorator.java:65)\r\n\tat mockit.integration.junit4.internal.MockFrameworkMethod.invokeExplosively(MockFrameworkMethod.java:37)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:73)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:83)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\r\nCaused by: java.sql.SQLException: Connection is null.\r\n\tat org.apache.commons.dbcp2.DelegatingConnection.checkOpen(DelegatingConnection.java:607)\r\n\tat org.apache.commons.dbcp2.DelegatingConnection.rollback(DelegatingConnection.java:482)\r\n\tat org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:344)\r\n\t... 61 common frames omitted\r\n```\r\nBUT, if i change the position where the transaction is initialized,such like this demo\r\n\r\n\r\n```\r\n@Component(&quot;sampleDemo&quot;)\r\n@Scope(&quot;step&quot;)\r\npublic class sampleDemo implements Tasklet {\r\n    @Autowired\r\n    private PlatformTransactionManager transactionManager;\r\n\r\n    @Override\r\n    public RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) throws Exception {\r\n        TransactionStatus status = null;\r\n        try {\r\n            if (status == null || status.isCompleted()) {\r\n                status = transactionManager.getTransaction(definition);\r\n            }\r\n            while((testDto = dbReader01.read()) != null) {\r\n                ....\r\n                if(someCheck) {\r\n                    return RepeatStatus.FINISHED;\r\n                }\r\n                if (status != null &amp;&amp; !status.isCompleted()) {\r\n                    transactionManager.commit(status);\r\n                }\r\n            }\r\n        } catch {\r\n            ...\r\n        } finally {\r\n            dbReader01.close();\r\n        }\r\n        return RepeatStatus.FINISHED;;\r\n    }\r\n}\r\n```\r\nIt will be completed without any errorcodes.I don&#39;t understand.why this transaction was closed automatically.","title":"Springbatch failing | Why the transaction was completed automatically","body":"<p>I have meet some question which i can not understand;\nWhy the transaction was completed automatically without any rollback code or commit code</p>\n<p>This is a sample demo</p>\n<pre><code>@Component(&quot;sampleDemo&quot;)\n@Scope(&quot;step&quot;)\npublic class sampleDemo implements Tasklet {\n    @Autowired\n    private PlatformTransactionManager transactionManager;\n\n    @Override\n    public RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) throws Exception {\n        TransactionStatus status = null;\n        try {\n            while((testDto = dbReader01.read()) != null) {\n                if (status == null || status.isCompleted()) {\n                    status = transactionManager.getTransaction(definition);\n                }\n                ....\n                if(someCheck) {\n                    return RepeatStatus.FINISHED;\n                }\n                if (status != null &amp;&amp; !status.isCompleted()) {\n                    transactionManager.commit(status);\n                }\n            }\n        } catch {\n            ...\n        } finally {\n            dbReader01.close();\n        }\n        return RepeatStatus.FINISHED;;\n    }\n}\n</code></pre>\n<p>When this <strong>someCheck</strong> was true, this jobs was return with an unfinished transaction.so that,it had some errcode like these</p>\n<pre><code>org.springframework.transaction.TransactionSystemException: Could not roll back JDBC transaction; nested exception is java.sql.SQLException: Connection is null.\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:347)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.doRollbackOnCommitException(AbstractPlatformTransactionManager.java:895)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:767)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)\n    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:152)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:273)\n    at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\n    at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:375)\n    at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:215)\n    at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:145)\n    at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:258)\n    at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:203)\n    at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:148)\n    at org.springframework.batch.core.job.flow.JobFlowExecutor.executeStep(JobFlowExecutor.java:68)\n    at org.springframework.batch.core.job.flow.support.state.StepState.handle(StepState.java:67)\n    at org.springframework.batch.core.job.flow.support.SimpleFlow.resume(SimpleFlow.java:169)\n    at org.springframework.batch.core.job.flow.support.SimpleFlow.start(SimpleFlow.java:144)\n    at org.springframework.batch.core.job.flow.FlowJob.doExecute(FlowJob.java:136)\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:313)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:144)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:137)\n    at org.springframework.batch.test.JobLauncherTestUtils.launchJob(JobLauncherTestUtils.java:152)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at mockit.integration.junit4.internal.JUnit4TestRunnerDecorator.executeTestMethod(JUnit4TestRunnerDecorator.java:156)\n    at mockit.integration.junit4.internal.JUnit4TestRunnerDecorator.invokeExplosively(JUnit4TestRunnerDecorator.java:65)\n    at mockit.integration.junit4.internal.MockFrameworkMethod.invokeExplosively(MockFrameworkMethod.java:37)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:73)\n    at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:83)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:89)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:541)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:763)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:463)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)\nCaused by: java.sql.SQLException: Connection is null.\n    at org.apache.commons.dbcp2.DelegatingConnection.checkOpen(DelegatingConnection.java:607)\n    at org.apache.commons.dbcp2.DelegatingConnection.rollback(DelegatingConnection.java:482)\n    at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:344)\n    ... 61 common frames omitted\n</code></pre>\n<p>BUT, if i change the position where the transaction is initialized,such like this demo</p>\n<pre><code>@Component(&quot;sampleDemo&quot;)\n@Scope(&quot;step&quot;)\npublic class sampleDemo implements Tasklet {\n    @Autowired\n    private PlatformTransactionManager transactionManager;\n\n    @Override\n    public RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) throws Exception {\n        TransactionStatus status = null;\n        try {\n            if (status == null || status.isCompleted()) {\n                status = transactionManager.getTransaction(definition);\n            }\n            while((testDto = dbReader01.read()) != null) {\n                ....\n                if(someCheck) {\n                    return RepeatStatus.FINISHED;\n                }\n                if (status != null &amp;&amp; !status.isCompleted()) {\n                    transactionManager.commit(status);\n                }\n            }\n        } catch {\n            ...\n        } finally {\n            dbReader01.close();\n        }\n        return RepeatStatus.FINISHED;;\n    }\n}\n</code></pre>\n<p>It will be completed without any errorcodes.I don't understand.why this transaction was closed automatically.</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"display_name":"user395760"},"score":19,"creation_date":1317907649,"post_id":7674839,"comment_id":9328154,"body_markdown":"The JVM is a virtual machine. Bytcode goes in, the observable effects of the program happen. Everything else is an implementation detail.","body":"The JVM is a virtual machine. Bytcode goes in, the observable effects of the program happen. Everything else is an implementation detail."},{"owner":{"account_id":8291,"reputation":860437,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":1,"creation_date":1317907933,"post_id":7674839,"comment_id":9328232,"body_markdown":"Yes, there is no &quot;the&quot; JVM, there are multiple implementations of the spec.","body":"Yes, there is no &quot;the&quot; JVM, there are multiple implementations of the spec."},{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1317908165,"post_id":7674839,"comment_id":9328314,"body_markdown":"@delnan, please please write that as an answer. I&#39;d really want to upvote such answer.","body":"@delnan, please please write that as an answer. I&#39;d really want to upvote such answer."},{"owner":{"display_name":"user395760"},"score":0,"creation_date":1317908427,"post_id":7674839,"comment_id":9328400,"body_markdown":"@aioobe: I won&#39;t. I don&#39;t think it answers the question asked here - it&#39;s a very useful perspective, but the question (stated clearly in the title and in the post) explicitly requests these implementation details.","body":"@aioobe: I won&#39;t. I don&#39;t think it answers the question asked here - it&#39;s a very useful perspective, but the question (stated clearly in the title and in the post) explicitly requests these implementation details."},{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1317908628,"post_id":7674839,"comment_id":9328456,"body_markdown":"Fair enough. I&#39;d say it *is* an answer to the *&quot;If neither, then what exactly is the JVM?&quot;* part though. (As a Java Virtual Machine is more of a specification than an implementation.)","body":"Fair enough. I&#39;d say it <i>is</i> an answer to the <i>&quot;If neither, then what exactly is the JVM?&quot;</i> part though. (As a Java Virtual Machine is more of a specification than an implementation.)"}],"answers":[{"tags":[],"owner":{"account_id":348869,"reputation":1910,"user_id":683825,"accept_rate":100,"display_name":"Paul Cager"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1317907542,"creation_date":1317907542,"answer_id":7674871,"question_id":7674839,"body_markdown":"It is both. It starts by interpreting bytecode and can (should it decide it is worth it) then compile that bytecode to native machine code.","title":"Is the JVM a compiler or an interpreter?","body":"<p>It is both. It starts by interpreting bytecode and can (should it decide it is worth it) then compile that bytecode to native machine code.</p>\n"},{"tags":[],"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1317907555,"creation_date":1317907555,"answer_id":7674874,"question_id":7674839,"body_markdown":"It&#39;s both. It can interpret bytecode, and compile it to native code.","title":"Is the JVM a compiler or an interpreter?","body":"<p>It's both. It can interpret bytecode, and compile it to native code.</p>\n"},{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1317907621,"creation_date":1317907621,"answer_id":7674891,"question_id":7674839,"body_markdown":"It is a little of both, but neither in the traditional sense.\r\n\r\nModern JVMs take bytecode and compile it into native code when first needed.  &quot;JIT&quot; in this context stands for &quot;just in time.&quot;  It acts as an interpreter from the outside, but really behind the scenes it is compiling into machine code.\r\n\r\nThe JVM should not be confused with the Java compiler, which compiles source code into bytecode.  So it is not useful to consider it &quot;a compiler&quot; but rather to know that in the background it does do some compilation.","title":"Is the JVM a compiler or an interpreter?","body":"<p>It is a little of both, but neither in the traditional sense.</p>\n\n<p>Modern JVMs take bytecode and compile it into native code when first needed.  \"JIT\" in this context stands for \"just in time.\"  It acts as an interpreter from the outside, but really behind the scenes it is compiling into machine code.</p>\n\n<p>The JVM should not be confused with the Java compiler, which compiles source code into bytecode.  So it is not useful to consider it \"a compiler\" but rather to know that in the background it does do some compilation.</p>\n"},{"tags":[],"owner":{"account_id":1450195,"reputation":1,"user_id":1367368,"display_name":"M SANEDEEP KUMAR"},"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1335860937,"creation_date":1335858568,"answer_id":10394997,"question_id":7674839,"body_markdown":"JVM have both compiler and interpreter. Because the compiler compiles the code and generates bytecode. After that the interpreter converts bytecode to machine understandable code.\r\n\r\nExample: Write and compile a program and it runs on Windows. Take the .class file to another OS (Unix) and it will run because of interpreter that converts the bytecode to machine understandable code.","title":"Is the JVM a compiler or an interpreter?","body":"<p>JVM have both compiler and interpreter. Because the compiler compiles the code and generates bytecode. After that the interpreter converts bytecode to machine understandable code.</p>\n\n<p>Example: Write and compile a program and it runs on Windows. Take the .class file to another OS (Unix) and it will run because of interpreter that converts the bytecode to machine understandable code.</p>\n"},{"tags":[],"owner":{"account_id":2179250,"reputation":2813,"user_id":1929111,"accept_rate":83,"display_name":"Testaccount"},"down_vote_count":4,"up_vote_count":197,"is_accepted":true,"score":193,"last_activity_date":1676987174,"creation_date":1360070800,"answer_id":14708631,"question_id":7674839,"body_markdown":"First, let&#39;s have a clear idea of the following terms:\r\n\r\n- **Javac** is Java Compiler -- Compiles your Java code into **Bytecode**\r\n\r\n- **JVM** is Java Virtual Machine -- Runs/ Interprets/ translates Bytecode into **Native Machine Code** \r\n\r\n- **JIT** is Just In Time Compiler -- Compiles the given bytecode instruction sequence to machine code at **runtime** before executing it natively. Its main purpose is to do heavy optimizations in performance. \r\n\r\n**So now, Let&#39;s find answers to your questions:**\r\n\r\n1) *JVM: is it a compiler or an interpreter?* \r\n\r\n   An interpreter\r\n\r\n2) *What about JIT compiler that exist inside the JVM?*\r\n\r\n   If you read this reply completely, you probably know it now.\r\n\r\n3) What exactly is the JVM?  \r\n\r\n   - JVM is a virtual platform that resides on your RAM \r\n   - Its component, **Class loader** loads the `.class` file into the RAM\r\n   - The **Byte code Verifier** component in JVM checks if there are any access restriction violations in your code. (This is one of the principal reasons why java is secure)\r\n   - Next, the **Execution Engine** component converts the Bytecode into executable machine code\r\n","title":"Is the JVM a compiler or an interpreter?","body":"<p>First, let's have a clear idea of the following terms:</p>\n<ul>\n<li><p><strong>Javac</strong> is Java Compiler -- Compiles your Java code into <strong>Bytecode</strong></p>\n</li>\n<li><p><strong>JVM</strong> is Java Virtual Machine -- Runs/ Interprets/ translates Bytecode into <strong>Native Machine Code</strong></p>\n</li>\n<li><p><strong>JIT</strong> is Just In Time Compiler -- Compiles the given bytecode instruction sequence to machine code at <strong>runtime</strong> before executing it natively. Its main purpose is to do heavy optimizations in performance.</p>\n</li>\n</ul>\n<p><strong>So now, Let's find answers to your questions:</strong></p>\n<ol>\n<li><p><em>JVM: is it a compiler or an interpreter?</em></p>\n<p>An interpreter</p>\n</li>\n<li><p><em>What about JIT compiler that exist inside the JVM?</em></p>\n<p>If you read this reply completely, you probably know it now.</p>\n</li>\n<li><p>What exactly is the JVM?</p>\n<ul>\n<li>JVM is a virtual platform that resides on your RAM</li>\n<li>Its component, <strong>Class loader</strong> loads the <code>.class</code> file into the RAM</li>\n<li>The <strong>Byte code Verifier</strong> component in JVM checks if there are any access restriction violations in your code. (This is one of the principal reasons why java is secure)</li>\n<li>Next, the <strong>Execution Engine</strong> component converts the Bytecode into executable machine code</li>\n</ul>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1602979,"reputation":8003,"user_id":1483676,"accept_rate":56,"display_name":"cubuspl42"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1501880835,"creation_date":1501880835,"answer_id":45515524,"question_id":7674839,"body_markdown":"Like [@delnan][1] already stated in the comment section, it&#39;s **neither**.\r\n\r\n[JVM][2] is an abstract machine running [Java bytecode][3].\r\n\r\nJVM has several implementations:\r\n\r\n* [HotSpot][4] (interpreter + [JIT][5] compiler)\r\n* [Dalvik][6] (interpreter + JIT compiler)\r\n* [ART][7] ([AOT][8] compiler + JIT compiler)\r\n* [GCJ][9] (AOT compiler)\r\n* [JamVM][10] (interpreter)\r\n\r\n...and [many others][11].\r\n\r\nMost of the others answers when talking about JVM refer either to HotSpot or\r\nsome mixture of the above approaches to implementing the JVM.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/395760/delnan\r\n  [2]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [3]: https://en.wikipedia.org/wiki/Java_bytecode\r\n  [4]: https://en.wikipedia.org/wiki/HotSpot\r\n  [5]: https://en.wikipedia.org/wiki/Just-in-time_compilation\r\n  [6]: https://en.wikipedia.org/wiki/Dalvik_(software)\r\n  [7]: https://en.wikipedia.org/wiki/Android_Runtime\r\n  [8]: https://en.wikipedia.org/wiki/Ahead-of-time_compilation\r\n  [9]: https://en.wikipedia.org/wiki/GNU_Compiler_for_Java\r\n  [10]: https://en.wikipedia.org/wiki/JamVM\r\n  [11]: https://en.wikipedia.org/wiki/List_of_Java_virtual_machines","title":"Is the JVM a compiler or an interpreter?","body":"<p>Like <a href=\"https://stackoverflow.com/users/395760/delnan\">@delnan</a> already stated in the comment section, it's <strong>neither</strong>.</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"noreferrer\">JVM</a> is an abstract machine running <a href=\"https://en.wikipedia.org/wiki/Java_bytecode\" rel=\"noreferrer\">Java bytecode</a>.</p>\n\n<p>JVM has several implementations:</p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/HotSpot\" rel=\"noreferrer\">HotSpot</a> (interpreter + <a href=\"https://en.wikipedia.org/wiki/Just-in-time_compilation\" rel=\"noreferrer\">JIT</a> compiler)</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Dalvik_(software)\" rel=\"noreferrer\">Dalvik</a> (interpreter + JIT compiler)</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_Runtime\" rel=\"noreferrer\">ART</a> (<a href=\"https://en.wikipedia.org/wiki/Ahead-of-time_compilation\" rel=\"noreferrer\">AOT</a> compiler + JIT compiler)</li>\n<li><a href=\"https://en.wikipedia.org/wiki/GNU_Compiler_for_Java\" rel=\"noreferrer\">GCJ</a> (AOT compiler)</li>\n<li><a href=\"https://en.wikipedia.org/wiki/JamVM\" rel=\"noreferrer\">JamVM</a> (interpreter)</li>\n</ul>\n\n<p>...and <a href=\"https://en.wikipedia.org/wiki/List_of_Java_virtual_machines\" rel=\"noreferrer\">many others</a>.</p>\n\n<p>Most of the others answers when talking about JVM refer either to HotSpot or\nsome mixture of the above approaches to implementing the JVM.</p>\n"},{"tags":[],"owner":{"account_id":12627861,"reputation":266,"user_id":9180620,"display_name":"Sarth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603806672,"creation_date":1603806672,"answer_id":64555946,"question_id":7674839,"body_markdown":"Javac is a compiler but not a traditional compiler.\r\nA compiler typically converts source code to Machine level language for execution and that is done in a single shot i.e. entire code is taken and converted to machine level&#160;language&#160;at ONCE. (more on this below).\r\nWhile, JavaC converts it to Bytecode instead of machine level language.\r\n\r\nJIT is a Java compiler but also acts as an interpreter. A typical compiler will convert all the code at once from source code to machine level language. Instead, JIT goes line by line (line by line execution is a feature of Interpreters) and converts bytecode generated by JavaC&#160; into machine level language and executes it. JVM which has JIT in it has multiple implementations. Hotspot being one of the major ones for Java programming. Hotspot implementation makes JIT optimize the execution by converting chunks of code which are repetitive&#160;into Machine&#160;level language&#160;at once (like a compiler as mentioned above) so that they can be executed faster instead of converting&#160;each line of code 1 by 1.\r\nSo, the answer is not Black and White with respect to the typical definitions of Compiler and Interpreter.\r\n\r\nThis is my understanding after reading several online answers, blogs, etc. If somebody has suggestions to improve this understanding, please feel free to suggest.","title":"Is the JVM a compiler or an interpreter?","body":"<p>Javac is a compiler but not a traditional compiler.\nA compiler typically converts source code to Machine level language for execution and that is done in a single shot i.e. entire code is taken and converted to machine level language at ONCE. (more on this below).\nWhile, JavaC converts it to Bytecode instead of machine level language.</p>\n<p>JIT is a Java compiler but also acts as an interpreter. A typical compiler will convert all the code at once from source code to machine level language. Instead, JIT goes line by line (line by line execution is a feature of Interpreters) and converts bytecode generated by JavaC  into machine level language and executes it. JVM which has JIT in it has multiple implementations. Hotspot being one of the major ones for Java programming. Hotspot implementation makes JIT optimize the execution by converting chunks of code which are repetitive into Machine level language at once (like a compiler as mentioned above) so that they can be executed faster instead of converting each line of code 1 by 1.\nSo, the answer is not Black and White with respect to the typical definitions of Compiler and Interpreter.</p>\n<p>This is my understanding after reading several online answers, blogs, etc. If somebody has suggestions to improve this understanding, please feel free to suggest.</p>\n"}],"owner":{"account_id":428239,"reputation":2242,"user_id":810435,"accept_rate":82,"display_name":"naeemgik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98019,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"accepted_answer_id":14708631,"answer_count":7,"score":90,"last_activity_date":1676987174,"creation_date":1317907421,"question_id":7674839,"body_markdown":"I have a very basic question about JVM: is it a compiler or an interpreter?\r\n\r\nIf it is an interpreter, then what about JIT compiler that exist inside the JVM?  \r\nIf neither, then what exactly is the JVM? (I dont want the basic definition of jVM of converting byte code to machine specific code etc.)","title":"Is the JVM a compiler or an interpreter?","body":"<p>I have a very basic question about JVM: is it a compiler or an interpreter?</p>\n\n<p>If it is an interpreter, then what about JIT compiler that exist inside the JVM?<br>\nIf neither, then what exactly is the JVM? (I dont want the basic definition of jVM of converting byte code to machine specific code etc.)</p>\n"},{"tags":["java","spring","kotlin"],"answers":[{"tags":[],"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1676987161,"creation_date":1676981400,"answer_id":75520333,"question_id":75516623,"body_markdown":"The question is rather unclear:\r\n- &quot;find all annotated **fields**&quot; vs &quot;I want to get annotated **field name**&quot;\r\n- Is there more than one annotation classes involved?\r\n- Are there data classes nested more than one level deep?\r\n- Since you know the classes, why access the annotation of a nested class through a possible parent class?\r\n\r\nStill, to give you an idea on how to get the names of the fields and its annotation names in a Map:\r\n    \r\n    import kotlin.reflect.KClass\r\n    import kotlin.reflect.full.*\r\n    import kotlin.reflect.jvm.jvmErasure\r\n    \r\n    fun KClass&lt;*&gt;.getFieldAndAnnotationNames(): Map&lt;String, List&lt;String&gt;&gt; {\r\n      return declaredMemberProperties\r\n        .filter { it.annotations.isNotEmpty() }\r\n        .associate { kProp -&gt;\r\n          kProp.name to kProp.annotations.map {\r\n            it.toString().substringAfterLast(&quot;$&quot;)\r\n          }\r\n        }\r\n    }\r\n\r\nExample:\r\n\r\n    @Target(AnnotationTarget.PROPERTY)\r\n    annotation class CustomAnnotation\r\n    \r\n    @Target(AnnotationTarget.PROPERTY)\r\n    annotation class CustomAnnotation2\r\n    \r\n    data class Nested(\r\n      @CustomAnnotation val nestedValue1: String,\r\n      val nestedValue2: Double\r\n    )\r\n    \r\n    data class Parent(\r\n      val parentValue1: Nested,\r\n      @CustomAnnotation @CustomAnnotation2 val parentValue2: String\r\n    )\r\n    \r\n    Parent::class.getFieldAndAnnotationNames().forEach(::println)\r\n    // Output: parentValue2=[CustomAnnotation(), CustomAnnotation2()]\r\n\r\n    Nested::class.getFieldAndAnnotationNames().forEach(::println)\r\n    // Output: nestedValue1=[CustomAnnotation()]\r\n\r\nAnd this is another function using above function to get info about all nested data classes and its annotations:\r\n\r\n    fun KClass&lt;*&gt;.getNestedFieldAndAnnotationNames(): Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; {\r\n      return declaredMemberProperties\r\n        .filter { it.returnType.jvmErasure.isData }\r\n        .associate { kProp -&gt;\r\n          kProp.name to kProp.returnType.jvmErasure.getFieldAndAnnotationNames()\r\n        }\r\n    }\r\n    \r\nExample:\r\n        \r\n\r\n    Parent::class.getNestedFieldAndAnnotationNames().forEach(::println)\r\n    // Output: parentValue1={nestedValue1=[CustomAnnotation()]}\r\n\r\n","title":"How can I find all annotated fields in nested DTO?","body":"<p>The question is rather unclear:</p>\n<ul>\n<li>&quot;find all annotated <strong>fields</strong>&quot; vs &quot;I want to get annotated <strong>field name</strong>&quot;</li>\n<li>Is there more than one annotation classes involved?</li>\n<li>Are there data classes nested more than one level deep?</li>\n<li>Since you know the classes, why access the annotation of a nested class through a possible parent class?</li>\n</ul>\n<p>Still, to give you an idea on how to get the names of the fields and its annotation names in a Map:</p>\n<pre><code>import kotlin.reflect.KClass\nimport kotlin.reflect.full.*\nimport kotlin.reflect.jvm.jvmErasure\n\nfun KClass&lt;*&gt;.getFieldAndAnnotationNames(): Map&lt;String, List&lt;String&gt;&gt; {\n  return declaredMemberProperties\n    .filter { it.annotations.isNotEmpty() }\n    .associate { kProp -&gt;\n      kProp.name to kProp.annotations.map {\n        it.toString().substringAfterLast(&quot;$&quot;)\n      }\n    }\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>@Target(AnnotationTarget.PROPERTY)\nannotation class CustomAnnotation\n\n@Target(AnnotationTarget.PROPERTY)\nannotation class CustomAnnotation2\n\ndata class Nested(\n  @CustomAnnotation val nestedValue1: String,\n  val nestedValue2: Double\n)\n\ndata class Parent(\n  val parentValue1: Nested,\n  @CustomAnnotation @CustomAnnotation2 val parentValue2: String\n)\n\nParent::class.getFieldAndAnnotationNames().forEach(::println)\n// Output: parentValue2=[CustomAnnotation(), CustomAnnotation2()]\n\nNested::class.getFieldAndAnnotationNames().forEach(::println)\n// Output: nestedValue1=[CustomAnnotation()]\n</code></pre>\n<p>And this is another function using above function to get info about all nested data classes and its annotations:</p>\n<pre><code>fun KClass&lt;*&gt;.getNestedFieldAndAnnotationNames(): Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; {\n  return declaredMemberProperties\n    .filter { it.returnType.jvmErasure.isData }\n    .associate { kProp -&gt;\n      kProp.name to kProp.returnType.jvmErasure.getFieldAndAnnotationNames()\n    }\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>Parent::class.getNestedFieldAndAnnotationNames().forEach(::println)\n// Output: parentValue1={nestedValue1=[CustomAnnotation()]}\n</code></pre>\n"}],"owner":{"account_id":22518129,"reputation":161,"user_id":16712098,"display_name":"HongJeongHyeon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676987161,"creation_date":1676957517,"question_id":75516623,"body_markdown":"I&#39;m trying to find all annotated fields in Kotlin.  \r\nIs there any neat way to solve this problem?  \r\n&lt;br&gt;\r\nI want to get annotated field name, &quot;value&quot; from Parent class\r\n\r\n``` kotlin\r\ndata class Parent(\r\n    val nested: Nested\r\n)\r\n\r\ndata class Nested(\r\n    @CustomAnnotation\r\n    val value: String\r\n)\r\n```\r\n","title":"How can I find all annotated fields in nested DTO?","body":"<p>I'm trying to find all annotated fields in Kotlin.<br />\nIs there any neat way to solve this problem?<br />\n<br>\nI want to get annotated field name, &quot;value&quot; from Parent class</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Parent(\n    val nested: Nested\n)\n\ndata class Nested(\n    @CustomAnnotation\n    val value: String\n)\n</code></pre>\n"},{"tags":["java","spring-boot","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676986974,"creation_date":1676986974,"answer_id":75521331,"question_id":75512720,"body_markdown":"Adding a specific **move selector** can help with this problem. This can be a generic move (such as **pillar swaps**) or a **custom move**. No point in changing the `Acceptor`.\r\n\r\nI presume you have a hard constraint to keep families together (= seated next to each other), especially a toddler with their parent. If you turn on TRACE logging (not just DEBUG), you&#39;ll see that it does evaluate moves that change the toddler&#39;s seat, but it never selects them as the winning step, because of that hard constraint (the parent didn&#39;t change seat in the same move).\r\n\r\nSo the trick is to have a move that moves both the toddler and its parent together.\r\n\r\nAdd a `src/main/resources/solverConfig.xml` file (location can be customized with `optaplanner.solver-config-xml` in `application.properties`. Have it contain something like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;solver xmlns=&quot;https://www.optaplanner.org/xsd/solver&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;https://www.optaplanner.org/xsd/solver https://www.optaplanner.org/xsd/solver/solver.xsd&quot;&gt;\r\n      &lt;constructionHeuristic/&gt;\r\n      &lt;localSearch&gt;\r\n        &lt;unionMoveSelector&gt;\r\n          &lt;changeMoveSelector/&gt;\r\n          &lt;swapMoveSelector/&gt;\r\n          ... &lt;!-- Add your custom move factory/iterator here --&gt;\r\n        &lt;/unionMoveSelector&gt;\r\n      &lt;/localSearch&gt;\r\n    &lt;/solver&gt;\r\n\r\nAlways keep a change and swap move selector in the mix too. Keep an eye on your score calculation speed (last INFO log message) before and after these changes. Read about JUST_IN_TIME selection.","title":"Having a problem with local optima how to write Move or Accpetor with SpringBoot to search wider space","body":"<p>Adding a specific <strong>move selector</strong> can help with this problem. This can be a generic move (such as <strong>pillar swaps</strong>) or a <strong>custom move</strong>. No point in changing the <code>Acceptor</code>.</p>\n<p>I presume you have a hard constraint to keep families together (= seated next to each other), especially a toddler with their parent. If you turn on TRACE logging (not just DEBUG), you'll see that it does evaluate moves that change the toddler's seat, but it never selects them as the winning step, because of that hard constraint (the parent didn't change seat in the same move).</p>\n<p>So the trick is to have a move that moves both the toddler and its parent together.</p>\n<p>Add a <code>src/main/resources/solverConfig.xml</code> file (location can be customized with <code>optaplanner.solver-config-xml</code> in <code>application.properties</code>. Have it contain something like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;solver xmlns=&quot;https://www.optaplanner.org/xsd/solver&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;https://www.optaplanner.org/xsd/solver https://www.optaplanner.org/xsd/solver/solver.xsd&quot;&gt;\n  &lt;constructionHeuristic/&gt;\n  &lt;localSearch&gt;\n    &lt;unionMoveSelector&gt;\n      &lt;changeMoveSelector/&gt;\n      &lt;swapMoveSelector/&gt;\n      ... &lt;!-- Add your custom move factory/iterator here --&gt;\n    &lt;/unionMoveSelector&gt;\n  &lt;/localSearch&gt;\n&lt;/solver&gt;\n</code></pre>\n<p>Always keep a change and swap move selector in the mix too. Keep an eye on your score calculation speed (last INFO log message) before and after these changes. Read about JUST_IN_TIME selection.</p>\n"}],"owner":{"account_id":1786793,"reputation":205,"user_id":1628104,"accept_rate":17,"display_name":"P_C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676986974,"creation_date":1676916138,"question_id":75512720,"body_markdown":"I have an airline problem where I have a Seat and it gets assigned a Passenger based on a preference and weight (basically a Bid). I want the top passengers with highest Bids assigned to be rewarded for their assigned Seat.  Looking at the logs it looks like the Solver is performing &quot;accepted/selected move&quot; on similar Passengers with similar bids and I want it to select Passengers with different bids.\r\n\r\nI want to accept a move on different Bids for different seats and explore a wider space.\r\n\r\nI couldn&#39;t find any sample about how to write either a Move or Acceptor and then how to have SpringBoot use this new class.  But maybe I&#39;m just missing a setting. Thanks\r\n\r\n\r\n\r\n\r\n","title":"Having a problem with local optima how to write Move or Accpetor with SpringBoot to search wider space","body":"<p>I have an airline problem where I have a Seat and it gets assigned a Passenger based on a preference and weight (basically a Bid). I want the top passengers with highest Bids assigned to be rewarded for their assigned Seat.  Looking at the logs it looks like the Solver is performing &quot;accepted/selected move&quot; on similar Passengers with similar bids and I want it to select Passengers with different bids.</p>\n<p>I want to accept a move on different Bids for different seats and explore a wider space.</p>\n<p>I couldn't find any sample about how to write either a Move or Acceptor and then how to have SpringBoot use this new class.  But maybe I'm just missing a setting. Thanks</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1545057612,"post_id":53817147,"comment_id":94483151,"body_markdown":"Assuming you are running a set, that does not work?","body":"Assuming you are running a set, that does not work?"},{"owner":{"account_id":6469743,"reputation":2377,"user_id":5010285,"display_name":"Petronella"},"score":0,"creation_date":1545061714,"post_id":53817147,"comment_id":94485576,"body_markdown":"I&#39;m running an application with java and groovy code.  If I exclude the groovy code, I can compile with maven compiler 3.8.0, java 11. Adding the groovy ...it&#39;s another story, as mentioned.","body":"I&#39;m running an application with java and groovy code.  If I exclude the groovy code, I can compile with maven compiler 3.8.0, java 11. Adding the groovy ...it&#39;s another story, as mentioned."},{"owner":{"account_id":49112,"reputation":717,"user_id":146084,"display_name":"Paul King"},"score":0,"creation_date":1545120869,"post_id":53817147,"comment_id":94505969,"body_markdown":"I need to play with the various options a bit more but I know that we have had some success with Micronaut. You can create a Microservices app using Groovy as your language and Maven as your build environment (it has polyglot support) and that works with some known limitations for edge cases. There is work being done for a better experience in particular working better with Spock but that will likely appear in future releases. I am not suggesting that your scenario necessarily involves microservices but the generated builds may prove useful to look at.","body":"I need to play with the various options a bit more but I know that we have had some success with Micronaut. You can create a Microservices app using Groovy as your language and Maven as your build environment (it has polyglot support) and that works with some known limitations for edge cases. There is work being done for a better experience in particular working better with Spock but that will likely appear in future releases. I am not suggesting that your scenario necessarily involves microservices but the generated builds may prove useful to look at."}],"answers":[{"tags":[],"owner":{"account_id":6469743,"reputation":2377,"user_id":5010285,"display_name":"Petronella"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1561781501,"creation_date":1545150544,"answer_id":53837329,"question_id":53817147,"body_markdown":"In the end this worked: \r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;source&gt;11&lt;/source&gt;\r\n\t\t\t&lt;target&gt;11&lt;/target&gt;\r\n\t\t\t&lt;release&gt;11&lt;/release&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\t\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.6.2&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t&lt;goal&gt;compileTests&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n\r\ngroovy.version: 2.4.12\r\n","title":"compiling Java and groovy with java 11","body":"<p>In the end this worked: </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;11&lt;/source&gt;\n        &lt;target&gt;11&lt;/target&gt;\n        &lt;release&gt;11&lt;/release&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\n    &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.6.2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;compile&lt;/goal&gt;\n                &lt;goal&gt;compileTests&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>groovy.version: 2.4.12</p>\n"},{"tags":[],"owner":{"account_id":11454057,"reputation":1114,"user_id":8395666,"display_name":"emilles"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1547329841,"creation_date":1547329841,"answer_id":54164185,"question_id":53817147,"body_markdown":"Here is a typical POM for the `groovy-eclipse-compiler` adapter:\r\n\r\n    &lt;project\r\n     xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n                         http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;artifactId&gt;proj-name&lt;/artifactId&gt;\r\n      &lt;groupId&gt;org.whatever&lt;/groupId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.fork&gt;true&lt;/maven.compiler.fork&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;US-ASCII&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n          &lt;id&gt;bintray&lt;/id&gt;\r\n          &lt;name&gt;Groovy Bintray&lt;/name&gt;\r\n          &lt;url&gt;https://dl.bintray.com/groovy/maven&lt;/url&gt;\r\n          &lt;releases&gt;\r\n            &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n          &lt;/releases&gt;\r\n          &lt;snapshots&gt;\r\n            &lt;enabled&gt;false&lt;/enabled&gt;\r\n          &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n      &lt;/pluginRepositories&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n          &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.5&lt;/version&gt;\r\n          &lt;classifier&gt;indy&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.12&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;compilerId&gt;groovy-eclipse-compiler&lt;/compilerId&gt;\r\n              &lt;compilerArguments&gt;\r\n                &lt;indy/&gt;\r\n              &lt;/compilerArguments&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;dependencies&gt;\r\n              &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;groovy-eclipse-compiler&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-01&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;groovy-eclipse-batch&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.5-01&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nIt assumes you have src/main/groovy, src/main/java, src/test/groovy and src/test/java.  It is possible to have other source folder configurations with some additional XML.  More details here: https://github.com/groovy/groovy-eclipse/wiki/Groovy-Eclipse-Maven-plugin","title":"compiling Java and groovy with java 11","body":"<p>Here is a typical POM for the <code>groovy-eclipse-compiler</code> adapter:</p>\n\n<pre><code>&lt;project\n xmlns=\"http://maven.apache.org/POM/4.0.0\"\n xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0\n                     http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;artifactId&gt;proj-name&lt;/artifactId&gt;\n  &lt;groupId&gt;org.whatever&lt;/groupId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.fork&gt;true&lt;/maven.compiler.fork&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;US-ASCII&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n      &lt;id&gt;bintray&lt;/id&gt;\n      &lt;name&gt;Groovy Bintray&lt;/name&gt;\n      &lt;url&gt;https://dl.bintray.com/groovy/maven&lt;/url&gt;\n      &lt;releases&gt;\n        &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n      &lt;/releases&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;false&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n    &lt;/pluginRepository&gt;\n  &lt;/pluginRepositories&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n      &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n      &lt;version&gt;2.5.5&lt;/version&gt;\n      &lt;classifier&gt;indy&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;compilerId&gt;groovy-eclipse-compiler&lt;/compilerId&gt;\n          &lt;compilerArguments&gt;\n            &lt;indy/&gt;\n          &lt;/compilerArguments&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n            &lt;artifactId&gt;groovy-eclipse-compiler&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-01&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n            &lt;artifactId&gt;groovy-eclipse-batch&lt;/artifactId&gt;\n            &lt;version&gt;2.5.5-01&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>It assumes you have src/main/groovy, src/main/java, src/test/groovy and src/test/java.  It is possible to have other source folder configurations with some additional XML.  More details here: <a href=\"https://github.com/groovy/groovy-eclipse/wiki/Groovy-Eclipse-Maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/groovy/groovy-eclipse/wiki/Groovy-Eclipse-Maven-plugin</a></p>\n"},{"tags":[],"owner":{"account_id":2843093,"reputation":2205,"user_id":2650325,"display_name":"Manuel Perez Heredia"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1562009707,"creation_date":1561991435,"answer_id":56837509,"question_id":53817147,"body_markdown":"There is a [sample gradle project][1] in GitHub that compiles Java and Groovy and uses Java from Groovy and viceversa. With a little changes you can make it work in Java 11. Basically use this `build.gradle`:\r\n\r\n    group &#39;de.jonashavers&#39;\r\n    version &#39;1.0.0&#39;\r\n    \r\n    apply plugin: &#39;groovy&#39;\r\n    \r\n    sourceSets {\r\n        main {\r\n            java { srcDirs = [] }\r\n            groovy { srcDirs &lt;&lt; [&#39;src/main/java&#39;] }\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile &#39;org.codehaus.groovy:groovy-all:2.5.7&#39;\r\n        compile &#39;javax.xml.bind:jaxb-api:2.3.0&#39;\r\n        compile &#39;com.sun.xml.bind:jaxb-core:2.3.0.1&#39;\r\n        compile &#39;com.sun.xml.bind:jaxb-impl:2.3.0.1&#39;\r\n        compile &#39;javax.activation:activation:1.1.1&#39;\r\n        testCompile group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n    }\r\n\r\nThis must be the file structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe Groovy class:\r\n\r\n    package de.jonashavers.groovierjavacompilation\r\n\r\n    class PlainGroovy {\r\n        String language = &#39;groovy&#39;\r\n    \r\n        static void main(String[] args) {\r\n            String lang = &quot;Groovy&quot;\r\n            println(lang)\r\n        }\r\n    }\r\n\r\nThe Java Class:\r\n\r\n    package de.jonashavers.groovierjavacompilation;\r\n    \r\n    class JavaExtendingGroovy extends PlainGroovy {\r\n    }\r\n\r\nAnd the tests:\r\n\r\n**Java:**\r\n\r\n    package de.jonashavers.groovierjavacompilation;\r\n    import org.junit.Test;\r\n    import static org.junit.Assert.assertEquals;\r\n    public class JavaTest {\r\n    \r\n        @Test\r\n        public void testAccessToGroovy() {\r\n            PlainGroovy plainGroovy = new PlainGroovy();\r\n            assertEquals(&quot;groovy&quot;, plainGroovy.getLanguage());\r\n        }\r\n    \r\n        @Test\r\n        public void testAccessToGroovyFromJava() {\r\n            JavaExtendingGroovy groovyFromJava = new JavaExtendingGroovy();\r\n            assertEquals(&quot;groovy&quot;, groovyFromJava.getLanguage());\r\n        }\r\n    }\r\n\r\n**Groovy:**\r\n\r\n    package de.jonashavers.groovierjavacompilation\r\n    \r\n    class GroovyTest extends GroovyTestCase {\r\n    \r\n        void testAccessToGroovy() {\r\n            PlainGroovy plainGroovy = new PlainGroovy()\r\n            assertEquals &#39;groovy&#39;, plainGroovy.language\r\n        }\r\n    \r\n        void testAccessToGroovyFromJava() {\r\n            JavaExtendingGroovy groovyFromJava = new JavaExtendingGroovy()\r\n            assertEquals &#39;groovy&#39;, groovyFromJava.language\r\n        }\r\n    }\r\n\r\nI forked the project and followed the directions in [this link][3] to make it work. Here is [the fork that works in Java11][4], the **java11 branch**. Hope this helps:\r\n\r\n\r\n  [1]: https://github.com/JonasHavers/groovier-java-compilation\r\n  [2]: https://i.stack.imgur.com/8hscn.png\r\n  [3]: https://github.com/apache/groovy/blob/master/subprojects/groovy-jaxb/build.gradle\r\n  [4]: https://github.com/vherasme/groovier-java-compilation\r\n\r\n","title":"compiling Java and groovy with java 11","body":"<p>There is a <a href=\"https://github.com/JonasHavers/groovier-java-compilation\" rel=\"nofollow noreferrer\">sample gradle project</a> in GitHub that compiles Java and Groovy and uses Java from Groovy and viceversa. With a little changes you can make it work in Java 11. Basically use this <code>build.gradle</code>:</p>\n\n<pre><code>group 'de.jonashavers'\nversion '1.0.0'\n\napply plugin: 'groovy'\n\nsourceSets {\n    main {\n        java { srcDirs = [] }\n        groovy { srcDirs &lt;&lt; ['src/main/java'] }\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile 'org.codehaus.groovy:groovy-all:2.5.7'\n    compile 'javax.xml.bind:jaxb-api:2.3.0'\n    compile 'com.sun.xml.bind:jaxb-core:2.3.0.1'\n    compile 'com.sun.xml.bind:jaxb-impl:2.3.0.1'\n    compile 'javax.activation:activation:1.1.1'\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n</code></pre>\n\n<p>This must be the file structure:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8hscn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8hscn.png\" alt=\"enter image description here\"></a></p>\n\n<p>The Groovy class:</p>\n\n<pre><code>package de.jonashavers.groovierjavacompilation\n\nclass PlainGroovy {\n    String language = 'groovy'\n\n    static void main(String[] args) {\n        String lang = \"Groovy\"\n        println(lang)\n    }\n}\n</code></pre>\n\n<p>The Java Class:</p>\n\n<pre><code>package de.jonashavers.groovierjavacompilation;\n\nclass JavaExtendingGroovy extends PlainGroovy {\n}\n</code></pre>\n\n<p>And the tests:</p>\n\n<p><strong>Java:</strong></p>\n\n<pre><code>package de.jonashavers.groovierjavacompilation;\nimport org.junit.Test;\nimport static org.junit.Assert.assertEquals;\npublic class JavaTest {\n\n    @Test\n    public void testAccessToGroovy() {\n        PlainGroovy plainGroovy = new PlainGroovy();\n        assertEquals(\"groovy\", plainGroovy.getLanguage());\n    }\n\n    @Test\n    public void testAccessToGroovyFromJava() {\n        JavaExtendingGroovy groovyFromJava = new JavaExtendingGroovy();\n        assertEquals(\"groovy\", groovyFromJava.getLanguage());\n    }\n}\n</code></pre>\n\n<p><strong>Groovy:</strong></p>\n\n<pre><code>package de.jonashavers.groovierjavacompilation\n\nclass GroovyTest extends GroovyTestCase {\n\n    void testAccessToGroovy() {\n        PlainGroovy plainGroovy = new PlainGroovy()\n        assertEquals 'groovy', plainGroovy.language\n    }\n\n    void testAccessToGroovyFromJava() {\n        JavaExtendingGroovy groovyFromJava = new JavaExtendingGroovy()\n        assertEquals 'groovy', groovyFromJava.language\n    }\n}\n</code></pre>\n\n<p>I forked the project and followed the directions in <a href=\"https://github.com/apache/groovy/blob/master/subprojects/groovy-jaxb/build.gradle\" rel=\"nofollow noreferrer\">this link</a> to make it work. Here is <a href=\"https://github.com/vherasme/groovier-java-compilation\" rel=\"nofollow noreferrer\">the fork that works in Java11</a>, the <strong>java11 branch</strong>. Hope this helps:</p>\n"},{"tags":[],"owner":{"account_id":2800537,"reputation":454,"user_id":2408863,"display_name":"tonnoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676986833,"creation_date":1676986833,"answer_id":75521303,"question_id":53817147,"body_markdown":"upgrading `groovy` to version `3.0.15` and `maven-compiler-plugin` to version `3.10.1` solved the issue for me:\r\n\r\n    &lt;plugin&gt;\r\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;3.10.1&lt;/version&gt;\r\n       &lt;configuration&gt;\r\n       &lt;release&gt;${maven.compiler.release}&lt;/release&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nwhere `${maven.compiler.release}` = your java version","title":"compiling Java and groovy with java 11","body":"<p>upgrading <code>groovy</code> to version <code>3.0.15</code> and <code>maven-compiler-plugin</code> to version <code>3.10.1</code> solved the issue for me:</p>\n<pre><code>&lt;plugin&gt;\n   &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.10.1&lt;/version&gt;\n   &lt;configuration&gt;\n   &lt;release&gt;${maven.compiler.release}&lt;/release&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>where <code>${maven.compiler.release}</code> = your java version</p>\n"}],"owner":{"account_id":6469743,"reputation":2377,"user_id":5010285,"display_name":"Petronella"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15611,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":4,"score":8,"last_activity_date":1676986833,"creation_date":1545056450,"question_id":53817147,"body_markdown":"Does anyone know which compiler/plugin compiles java and groovy code with the java 11 version?\r\n\r\nI&#39;ve tried GMavenPlus, Groovy eclipse compiler, and Maven’s Ant plugin. So far without success.\r\n","title":"compiling Java and groovy with java 11","body":"<p>Does anyone know which compiler/plugin compiles java and groovy code with the java 11 version?</p>\n\n<p>I've tried GMavenPlus, Groovy eclipse compiler, and Maven’s Ant plugin. So far without success.</p>\n"},{"tags":["java","android","kotlin","taptargetview"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676982024,"post_id":75519323,"comment_id":133242748,"body_markdown":"If you are trying to highlight something in the dialog, your dialog would need to show the highlight.","body":"If you are trying to highlight something in the dialog, your dialog would need to show the highlight."},{"owner":{"account_id":14845972,"reputation":31,"user_id":10721267,"display_name":"Maciej123m"},"score":0,"creation_date":1676984292,"post_id":75519323,"comment_id":133243504,"body_markdown":"@CommonsWare how can i make it show the backlight? I am passing &#39;dialog&#39; to this object from the TapTargetView library","body":"@CommonsWare how can i make it show the backlight? I am passing &#39;dialog&#39; to this object from the TapTargetView library"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676984509,"post_id":75519323,"comment_id":133243585,"body_markdown":"You might consider editing your question to provide a [mcve].","body":"You might consider editing your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":14845972,"reputation":31,"user_id":10721267,"display_name":"Maciej123m"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676986694,"creation_date":1676976080,"question_id":75519323,"body_markdown":"I want to create a tutorial for a user in my application. I use the TapTargetView library for this, when calling it on dialogfragment, the view that is created is displayed in the background of dialogfragment (red circle)\r\n\r\n[![](https://i.stack.imgur.com/XpioW.png)](https://i.stack.imgur.com/XpioW.png)\r\n\r\n```kotlin\r\n override fun onCreateView(\r\n        inflater: LayoutInflater,\r\n        container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n\r\n\r\n        val tap = TapTarget.forView(\r\n            binding.kosztEditText,\r\n            &quot;tittle&quot;,\r\n            &quot;description&quot;)\r\n            .outerCircleColor(R.color.Red2) // Specify a color for the outer circle\r\n            .outerCircleAlpha(0.96f) // Specify the alpha amount for the outer circle\r\n            .titleTextSize(24) // Specify the size (in sp) of the title text\r\n            .titleTextColor(R.color.white) // Specify the color of the title text\r\n            .descriptionTextSize(16) // Specify the size (in sp) of the description text\r\n            .textColor(R.color.white) // Specify a color for both the title and description text\r\n            .dimColor(R.color.black) // If set, will dim behind the view with 30% opacity of the given color\r\n            .targetCircleColor(R.color.Red2)\r\n            .drawShadow(false) // Whether to draw a drop shadow or not\r\n            .cancelable(true) // Whether tapping outside the outer circle dismisses the view\r\n            .targetRadius(25)\r\n            .transparentTarget(true)\r\n\r\n\r\n        var a = TapTargetView.showFor(dialog,tap,object : TapTargetView.Listener(){\r\n            override fun onTargetClick(view: TapTargetView?) {\r\n                super.onTargetClick(view)\r\n                view!!.dismiss(true)\r\n            }\r\n\r\n            override fun onOuterCircleClick(view: TapTargetView?) {\r\n                super.onOuterCircleClick(view)\r\n                view!!.dismiss(true)\r\n            }\r\n        })\r\n\r\n```\r\n\r\ni tried to change z-index, convert dialog fragment to dialog, add created view to fragment and nothing worked","title":"Displaying a view above dialog fragment","body":"<p>I want to create a tutorial for a user in my application. I use the TapTargetView library for this, when calling it on dialogfragment, the view that is created is displayed in the background of dialogfragment (red circle)</p>\n<p><a href=\"https://i.stack.imgur.com/XpioW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XpioW.png\" alt=\"\" /></a></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code> override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n\n        val tap = TapTarget.forView(\n            binding.kosztEditText,\n            &quot;tittle&quot;,\n            &quot;description&quot;)\n            .outerCircleColor(R.color.Red2) // Specify a color for the outer circle\n            .outerCircleAlpha(0.96f) // Specify the alpha amount for the outer circle\n            .titleTextSize(24) // Specify the size (in sp) of the title text\n            .titleTextColor(R.color.white) // Specify the color of the title text\n            .descriptionTextSize(16) // Specify the size (in sp) of the description text\n            .textColor(R.color.white) // Specify a color for both the title and description text\n            .dimColor(R.color.black) // If set, will dim behind the view with 30% opacity of the given color\n            .targetCircleColor(R.color.Red2)\n            .drawShadow(false) // Whether to draw a drop shadow or not\n            .cancelable(true) // Whether tapping outside the outer circle dismisses the view\n            .targetRadius(25)\n            .transparentTarget(true)\n\n\n        var a = TapTargetView.showFor(dialog,tap,object : TapTargetView.Listener(){\n            override fun onTargetClick(view: TapTargetView?) {\n                super.onTargetClick(view)\n                view!!.dismiss(true)\n            }\n\n            override fun onOuterCircleClick(view: TapTargetView?) {\n                super.onOuterCircleClick(view)\n                view!!.dismiss(true)\n            }\n        })\n\n</code></pre>\n<p>i tried to change z-index, convert dialog fragment to dialog, add created view to fragment and nothing worked</p>\n"},{"tags":["java","groovy","spock","java-11"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":1,"creation_date":1613065581,"post_id":66158925,"comment_id":116967728,"body_markdown":"https://stackoverflow.com/questions/53817147/compiling-java-and-groovy-with-java-11","body":"<a href=\"https://stackoverflow.com/questions/53817147/compiling-java-and-groovy-with-java-11\" title=\"compiling java and groovy with java 11\">stackoverflow.com/questions/53817147/&hellip;</a>"},{"owner":{"account_id":13588641,"reputation":4677,"user_id":9802634,"display_name":"danny"},"score":0,"creation_date":1613072360,"post_id":66158925,"comment_id":116970783,"body_markdown":"Thanks, I tried it with no luck.","body":"Thanks, I tried it with no luck."},{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1613080396,"post_id":66158925,"comment_id":116973929,"body_markdown":"why groovy 2.4 with java 11 ? groovy 2.4 is not working correctly even with java 9 :http://groovy-lang.org/releasenotes/groovy-2.5.html","body":"why groovy 2.4 with java 11 ? groovy 2.4 is not working correctly even with java 9 :<a href=\"http://groovy-lang.org/releasenotes/groovy-2.5.html\" rel=\"nofollow noreferrer\">groovy-lang.org/releasenotes/groovy-2.5.html</a>"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1613093821,"post_id":66158925,"comment_id":116977287,"body_markdown":"Besides (and because you also tagged the question with _spock_), the current version Spock 2.0-M4 needs Groovy 2.5 as minimum and the previous stable release 1.3 also supports Groovy 2.5 if you use the right artifact. There is no need to stay on 2.4 because of Spock, if that is what you thought.","body":"Besides (and because you also tagged the question with <i>spock</i>), the current version Spock 2.0-M4 needs Groovy 2.5 as minimum and the previous stable release 1.3 also supports Groovy 2.5 if you use the right artifact. There is no need to stay on 2.4 because of Spock, if that is what you thought."}],"answers":[{"tags":[],"owner":{"account_id":53593,"reputation":11553,"user_id":160256,"display_name":"Keegan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616116570,"creation_date":1616116570,"answer_id":66701302,"question_id":66158925,"body_markdown":"This message is to warn you that your desired bytecode is not supported by the versions you currently have.\r\n\r\nTargeting Java 11 bytecode requires Groovy 2.5.3/3.0.0-alpha-4 or newer and GMavenPlus 1.6.2 or newer.","title":"Unrecognized target bytecode. Compiling Java with Groovy","body":"<p>This message is to warn you that your desired bytecode is not supported by the versions you currently have.</p>\n<p>Targeting Java 11 bytecode requires Groovy 2.5.3/3.0.0-alpha-4 or newer and GMavenPlus 1.6.2 or newer.</p>\n"},{"tags":[],"owner":{"account_id":2800537,"reputation":454,"user_id":2408863,"display_name":"tonnoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676986689,"creation_date":1676986689,"answer_id":75521287,"question_id":66158925,"body_markdown":"In my case bumping the version of the `maven-compiler-plugin` from `3.8.1` to `3.10.1` solved the issue, every other approach suggested in similar threads failed :\r\n\r\n    &lt;plugin&gt;\r\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;3.10.1&lt;/version&gt;\r\n       &lt;configuration&gt;\r\n       &lt;release&gt;${maven.compiler.release}&lt;/release&gt;\r\n       &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nwhere `${maven.compiler.release}` = your java version","title":"Unrecognized target bytecode. Compiling Java with Groovy","body":"<p>In my case bumping the version of the <code>maven-compiler-plugin</code> from <code>3.8.1</code> to <code>3.10.1</code> solved the issue, every other approach suggested in similar threads failed :</p>\n<pre><code>&lt;plugin&gt;\n   &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.10.1&lt;/version&gt;\n   &lt;configuration&gt;\n   &lt;release&gt;${maven.compiler.release}&lt;/release&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>where <code>${maven.compiler.release}</code> = your java version</p>\n"}],"owner":{"account_id":13588641,"reputation":4677,"user_id":9802634,"display_name":"danny"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4015,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676986689,"creation_date":1613061646,"question_id":66158925,"body_markdown":"I saw couple of problems like this but none of the given advice helped me, so I add this.\r\nI have Java app and I migrate it to Java 11. I can run it but when i try to `mvn install` it i get tge error: \r\n\r\n&gt; Failed to execute goal\r\n&gt; org.codehaus.gmavenplus:gmavenplus-plugin:1.6:compileTests (default)\r\n&gt; on project osa-backend: Execution default of goal\r\n&gt; org.codehaus.gmavenplus:gmavenplus-plugin:1.6:compileTests failed:\r\n&gt; Unrecognized target bytecode.\r\n\r\nThis is my plugin:\r\n&lt;plugin&gt;\r\n\r\n&gt;             &lt;plugin&gt;\r\n&gt;             &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;1.6&lt;/version&gt;\r\n&gt;             &lt;executions&gt;\r\n&gt;                 &lt;execution&gt;\r\n&gt;                     &lt;goals&gt;\r\n&gt;                         &lt;goal&gt;compileTests&lt;/goal&gt;\r\n&gt;                     &lt;/goals&gt;\r\n&gt;                 &lt;/execution&gt;\r\n&gt;             &lt;/executions&gt;\r\n&gt;             &lt;dependencies&gt;\r\n&gt;                 &lt;dependency&gt;\r\n&gt;                     &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n&gt;                     &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n&gt;                     &lt;version&gt;2.4.16&lt;/version&gt;\r\n&gt;                 &lt;/dependency&gt;\r\n&gt;             &lt;/dependencies&gt;\r\n&gt;         &lt;/plugin&gt;\r\n\r\nThanks for any suggestions cause I have no idea what can I change now.","title":"Unrecognized target bytecode. Compiling Java with Groovy","body":"<p>I saw couple of problems like this but none of the given advice helped me, so I add this.\nI have Java app and I migrate it to Java 11. I can run it but when i try to <code>mvn install</code> it i get tge error:</p>\n<blockquote>\n<p>Failed to execute goal\norg.codehaus.gmavenplus:gmavenplus-plugin:1.6:compileTests (default)\non project osa-backend: Execution default of goal\norg.codehaus.gmavenplus:gmavenplus-plugin:1.6:compileTests failed:\nUnrecognized target bytecode.</p>\n</blockquote>\n<p>This is my plugin:\n</p>\n<blockquote>\n<pre><code>        &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\n        &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.6&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;compileTests&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n                &lt;version&gt;2.4.16&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/plugin&gt;\n</code></pre>\n</blockquote>\n<p>Thanks for any suggestions cause I have no idea what can I change now.</p>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa"],"owner":{"account_id":25598068,"reputation":3,"user_id":20142347,"display_name":"gexter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676986497,"creation_date":1676986072,"question_id":75521165,"body_markdown":"I need methods for get lessons by studentId for day and for month. \r\n\r\nIf i convert ZonedDateTime to java.util.Date scripts doesn&#39;t work. Also if i put to the \r\n`List&lt;LessonEntity&gt; findAllLessonsForMonthByStudentIdAndDate(Long id, Date date);` method date with day !=1 (2023.02.02 or another)  it also return nothing, only if i put Date with day = 1 like (2023.02.01).\r\n\r\n**initial database script**\r\n\r\n```\r\ncreate table if not exists faculties\r\n(\r\n    id       serial primary key,\r\n    name     varchar(64) not null unique,\r\n    duration integer\r\n);\r\n\r\ncreate table if not exists groups\r\n(\r\n    id         serial primary key,\r\n    name       varchar(32) not null unique,\r\n    faculty_id int references faculties (id)\r\n);\r\n\r\ncreate table if not exists students\r\n(\r\n    id         serial primary key,\r\n    first_name varchar(32) not null,\r\n    last_name  varchar(32) not null,\r\n    age        smallint,\r\n    group_id   int references groups (id),\r\n    course     smallint,\r\n    email      varchar(64) unique\r\n);\r\n\r\ncreate table if not exists subjects\r\n(\r\n    id          serial primary key,\r\n    name        varchar(64) not null unique,\r\n    description varchar(256)\r\n);\r\n\r\ncreate table if not exists teachers\r\n(\r\n    id         serial primary key,\r\n    first_name varchar(32) not null,\r\n    last_name  varchar(32) not null,\r\n    age        smallint    not null,\r\n    grade      varchar(32),\r\n    experience int,\r\n    email      varchar(64) unique,\r\n    faculty_id int references faculties (id)\r\n);\r\n\r\ncreate table if not exists lessons\r\n(\r\n    id         serial primary key,\r\n    name       varchar(64) not null,\r\n    duration   int,\r\n    start_time timestamptz,\r\n    subject_id int references subjects (id),\r\n    group_id   int references groups (id),\r\n    teacher_id int references teachers (id)\r\n);\r\n\r\n```\r\n\r\n**repository class** \r\n\r\n```package ua.com.foxminded.university.persistance.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.stereotype.Repository;\r\nimport ua.com.foxminded.university.persistance.model.LessonEntity;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface LessonRepository extends JpaRepository&lt;LessonEntity, Long&gt; {\r\n\r\n    @Query(value = &quot;select l from StudentEntity s &quot; +\r\n            &quot;join GroupEntity g on s.group.id = g.id &quot; +\r\n            &quot;join LessonEntity l on g.id = l.group.id &quot; +\r\n            &quot;where s.id = :id &quot; +\r\n            &quot;and date_trunc(&#39;day&#39;, l.startTime) = :date&quot;)\r\n    List&lt;LessonEntity&gt; findAllLessonsForDayByStudentIdAndDate(Long id, Date date);\r\n\r\n    @Query(value = &quot;select l from StudentEntity s &quot; +\r\n            &quot;join fetch GroupEntity g on s.group.id = g.id &quot; +\r\n            &quot;join fetch LessonEntity l on g.id = l.group.id &quot; +\r\n            &quot;where s.id= :id &quot; +\r\n            &quot;and date_trunc(&#39;month&#39;, l.startTime) = :date&quot;)\r\n    List&lt;LessonEntity&gt; findAllLessonsForMonthByStudentIdAndDate(Long id, Date date);```\r\n\r\ni&#39;m take Date from ZonedDateTime using Date.from(ZonedDateTime.toInstant()).","title":"the date_trunc function works strangely with Spring Data JPA","body":"<p>I need methods for get lessons by studentId for day and for month.</p>\n<p>If i convert ZonedDateTime to java.util.Date scripts doesn't work. Also if i put to the\n<code>List&lt;LessonEntity&gt; findAllLessonsForMonthByStudentIdAndDate(Long id, Date date);</code> method date with day !=1 (2023.02.02 or another)  it also return nothing, only if i put Date with day = 1 like (2023.02.01).</p>\n<p><strong>initial database script</strong></p>\n<pre><code>create table if not exists faculties\n(\n    id       serial primary key,\n    name     varchar(64) not null unique,\n    duration integer\n);\n\ncreate table if not exists groups\n(\n    id         serial primary key,\n    name       varchar(32) not null unique,\n    faculty_id int references faculties (id)\n);\n\ncreate table if not exists students\n(\n    id         serial primary key,\n    first_name varchar(32) not null,\n    last_name  varchar(32) not null,\n    age        smallint,\n    group_id   int references groups (id),\n    course     smallint,\n    email      varchar(64) unique\n);\n\ncreate table if not exists subjects\n(\n    id          serial primary key,\n    name        varchar(64) not null unique,\n    description varchar(256)\n);\n\ncreate table if not exists teachers\n(\n    id         serial primary key,\n    first_name varchar(32) not null,\n    last_name  varchar(32) not null,\n    age        smallint    not null,\n    grade      varchar(32),\n    experience int,\n    email      varchar(64) unique,\n    faculty_id int references faculties (id)\n);\n\ncreate table if not exists lessons\n(\n    id         serial primary key,\n    name       varchar(64) not null,\n    duration   int,\n    start_time timestamptz,\n    subject_id int references subjects (id),\n    group_id   int references groups (id),\n    teacher_id int references teachers (id)\n);\n\n</code></pre>\n<p><strong>repository class</strong></p>\n<pre><code>\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\nimport ua.com.foxminded.university.persistance.model.LessonEntity;\n\nimport java.util.Date;\nimport java.util.List;\n\n@Repository\npublic interface LessonRepository extends JpaRepository&lt;LessonEntity, Long&gt; {\n\n    @Query(value = &quot;select l from StudentEntity s &quot; +\n            &quot;join GroupEntity g on s.group.id = g.id &quot; +\n            &quot;join LessonEntity l on g.id = l.group.id &quot; +\n            &quot;where s.id = :id &quot; +\n            &quot;and date_trunc('day', l.startTime) = :date&quot;)\n    List&lt;LessonEntity&gt; findAllLessonsForDayByStudentIdAndDate(Long id, Date date);\n\n    @Query(value = &quot;select l from StudentEntity s &quot; +\n            &quot;join fetch GroupEntity g on s.group.id = g.id &quot; +\n            &quot;join fetch LessonEntity l on g.id = l.group.id &quot; +\n            &quot;where s.id= :id &quot; +\n            &quot;and date_trunc('month', l.startTime) = :date&quot;)\n    List&lt;LessonEntity&gt; findAllLessonsForMonthByStudentIdAndDate(Long id, Date date);```\n\ni'm take Date from ZonedDateTime using Date.from(ZonedDateTime.toInstant()).\n</code></pre>\n"},{"tags":["java","spring-boot","validation","jpa","spring-data-rest"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676970431,"post_id":75518100,"comment_id":133239205,"body_markdown":"Because it will be constructed with the default constructor and not the one that does injection.","body":"Because it will be constructed with the default constructor and not the one that does injection."},{"owner":{"account_id":25261654,"reputation":21,"user_id":19092469,"display_name":"R Am"},"score":0,"creation_date":1676971042,"post_id":75518100,"comment_id":133239399,"body_markdown":"Thanks M. Deinum, it still does not work, i post my update just below. Could you tell me more about your idea please?","body":"Thanks M. Deinum, it still does not work, i post my update just below. Could you tell me more about your idea please?"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1676971285,"post_id":75518100,"comment_id":133239504,"body_markdown":"You do need to annotate your class as `@Component` (or `@Service`) for Spring to autowire (not sure if applicable for validators, but would be surprised if not). I would also recommend declaring the repository `final` and use `@RequiredArgsConstructor`.","body":"You do need to annotate your class as <code>@Component</code> (or <code>@Service</code>) for Spring to autowire (not sure if applicable for validators, but would be surprised if not). I would also recommend declaring the repository <code>final</code> and use <code>@RequiredArgsConstructor</code>."},{"owner":{"account_id":25261654,"reputation":21,"user_id":19092469,"display_name":"R Am"},"score":0,"creation_date":1676972334,"post_id":75518100,"comment_id":133239860,"body_markdown":"Thanks daniu, I still have the same problem with your advice. Do you have another idea?","body":"Thanks daniu, I still have the same problem with your advice. Do you have another idea?"},{"owner":{"account_id":25261654,"reputation":21,"user_id":19092469,"display_name":"R Am"},"score":0,"creation_date":1676986250,"post_id":75518100,"comment_id":133244130,"body_markdown":"I did M. Deinum ! Sorry I&#39;m not familiar with stackoverflow for now. All updates and questions are in my first post","body":"I did M. Deinum ! Sorry I&#39;m not familiar with stackoverflow for now. All updates and questions are in my first post"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676993326,"post_id":75518100,"comment_id":133246714,"body_markdown":"YOur last one, why does it have a scope? Also there are no required parameters., so the `@RequiredArgsConstructor` doesn&#39;t do anything. As mentioned before make sure it is being picked up. You are linking to a repository but I see nowhere the validator is being used.","body":"YOur last one, why does it have a scope? Also there are no required parameters., so the <code>@RequiredArgsConstructor</code> doesn&#39;t do anything. As mentioned before make sure it is being picked up. You are linking to a repository but I see nowhere the validator is being used."},{"owner":{"account_id":25261654,"reputation":21,"user_id":19092469,"display_name":"R Am"},"score":0,"creation_date":1676994989,"post_id":75518100,"comment_id":133247258,"body_markdown":"It was because i tried others things but now i deleted it and it still does not work.\n\nMy required parameters are in my entity Programme (here https://github.com/RaphaelAMAMAM/temp-repo-for-validator/blob/main/app-web-test/src/main/java/com/laramendez/appweb/entity/Programme.java) \nI don&#39;t edit my post to post him because i have this message (There are too many pending edits on Stack Overflow. Please try again later.)\n\nSo, it seems I have my requiredArgsConstructor and my required parameters.\nDo you know what I can do more?\n\nAgain thank you M. Deinum for your help","body":"It was because i tried others things but now i deleted it and it still does not work.  My required parameters are in my entity Programme (here <a href=\"https://github.com/RaphaelAMAMAM/temp-repo-for-validator/blob/main/app-web-test/src/main/java/com/laramendez/appweb/entity/Programme.java\" rel=\"nofollow noreferrer\">github.com/RaphaelAMAMAM/temp-repo-for-validator/blob/main/&hellip;</a>&zwnj;&#8203;)  I don&#39;t edit my post to post him because i have this message (There are too many pending edits on Stack Overflow. Please try again later.)  So, it seems I have my requiredArgsConstructor and my required parameters. Do you know what I can do more?  Again thank you M. Deinum for your help"}],"owner":{"account_id":25261654,"reputation":21,"user_id":19092469,"display_name":"R Am"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676986150,"creation_date":1676969241,"question_id":75518100,"body_markdown":"I have already looked in stackoverflow and other websites but found nothing which worked for me.\r\n\r\n(Spring boot 3)\r\n\r\nLog : Resolved \\[jakarta.validation.ValidationException: HV000028: Unexpected exception during isValid call.\\]\r\n\r\n\\-\\&gt; Certainly due to my response from Postman\r\n\r\n```\r\n{\r\n    &quot;cause&quot;: {\r\n        &quot;cause&quot;: null,\r\n        &quot;message&quot;: &quot;Cannot invoke \\&quot;com.laramendez.appweb.repository.ProgrammeRepository.existsByNom(String)\\&quot; because \\&quot;this.programmeRepository\\&quot; is null&quot;\r\n    },\r\n    &quot;message&quot;: &quot;HV000028: Unexpected exception during isValid call.&quot;\r\n}\r\n```\r\n\r\n**dependencies in pom.xml**\r\n\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://stackoverflow.com/a/71416675/19092469 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- R&#233;duire code r&#233;p&#233;titif et source d&#39;erreur (reduce boilerplate) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- R&#233;duire code r&#233;p&#233;titif et source d&#39;erreur (reduce boilerplate) --&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\n**nomUniqueValidator**\r\n\r\n```\r\npackage com.laramendez.appweb.validation.validator;\r\n\r\nimport com.laramendez.appweb.repository.ProgrammeRepository;\r\nimport com.laramendez.appweb.validation.annotation.ProgrammeNomUnique;\r\nimport jakarta.validation.ConstraintValidator;\r\nimport jakarta.validation.ConstraintValidatorContext;\r\nimport lombok.NoArgsConstructor;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\n\r\n@NoArgsConstructor\r\npublic class NomUniqueValidator implements ConstraintValidator&lt;ProgrammeNomUnique, String&gt; {\r\n\r\n    private ProgrammeRepository programmeRepository;\r\n\r\n\r\n    @Autowired\r\n    public NomUniqueValidator(ProgrammeRepository programmeRepository) {\r\n        this.programmeRepository = programmeRepository;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void initialize(ProgrammeNomUnique constraintAnnotation) {\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(String nouveauNom, ConstraintValidatorContext constraintValidatorContext) {\r\n        \r\n        return !programmeRepository.existsByNom(nouveauNom);\r\n\r\n    }\r\n}\r\n```\r\n\r\n**ProgrammeNomUnique**\r\n\r\n```\r\npackage com.laramendez.appweb.validation.annotation;\r\n\r\nimport com.laramendez.appweb.validation.validator.NomUniqueValidator;\r\nimport jakarta.validation.Constraint;\r\nimport jakarta.validation.Payload;\r\n\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Constraint(validatedBy = NomUniqueValidator.class)\r\n@Target({ElementType.METHOD, ElementType.FIELD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface ProgrammeNomUnique {\r\n\r\n        // define default error message\r\n        String message() default &quot;Un programme porte d&#233;j&#224; le m&#234;me nom&quot;;\r\n\r\n        // define default groups\r\n        public Class&lt;?&gt;[] groups() default {};\r\n\r\n        // define default payloads\r\n        public Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n}\r\n```\r\n\r\n**ProgrammeRepository**\r\n\r\n```\r\npackage com.laramendez.appweb.repository;\r\n\r\nimport com.laramendez.appweb.entity.Programme;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.rest.core.annotation.RepositoryRestResource;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\n\r\n\r\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\n@RepositoryRestResource(path = &quot;programmes&quot;)\r\npublic interface ProgrammeRepository extends JpaRepository&lt;Programme, Integer&gt; {\r\n\r\n    boolean existsByNom(String nom);\r\n}\r\n```\r\n\r\nI&#39;m using Spring Data Rest, that&#39;s why i do not have controller, dao and service.\r\n\r\nI do not have nothing interesting in my properties.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/DbPZU.png)](https://i.stack.imgur.com/DbPZU.png)\r\n\r\nThanks !\r\n\r\nMy injection in my custom validator return null. Do someone know why? How to dix it?\r\n\r\n\r\n\r\n\r\n**UPDATE:**\r\nI just kept an empty constructor like this with advice from M. Deinum but it still does not work, i have the same error\r\n\r\n    public class NomUniqueValidator implements ConstraintValidator&lt;ProgrammeNomUnique, String&gt; {\r\n    \r\n        @Autowired\r\n        private ProgrammeRepository programmeRepository;\r\n    \r\n        public NomUniqueValidator() {\r\n        }\r\n    \r\n        @Override\r\n        public void initialize(ProgrammeNomUnique constraintAnnotation) {\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(String nouveauNom, ConstraintValidatorContext constraintValidatorContext) {\r\n    \r\n            return !programmeRepository.existsByNom(nouveauNom);\r\n    \r\n        }\r\n    }\r\n\r\n\r\n**UPDATE**: with advice from daniu I tried but I still have the same issue\r\n\r\n    @Component\r\n    public class NomUniqueValidator implements ConstraintValidator&lt;ProgrammeNomUnique, String&gt; {\r\n    //[...]\r\n    }\r\n    \r\n    @Service\r\n    public class NomUniqueValidator implements ConstraintValidator&lt;ProgrammeNomUnique, String&gt; {\r\n    //[...]\r\n    }\r\n\r\n\r\n**UPDATE** : with M. Deinum Advice, does not work\r\n\r\n        \r\n    @Component\r\n    @Scope(&quot;request&quot;)\r\n    @RequiredArgsConstructor\r\n    public class NomUniqueValidator implements ConstraintValidator&lt;ProgrammeNomUnique, String&gt; {\r\n    \r\n            @Autowired\r\n            private  ProgrammeRepository programmeRepository;\r\n    \r\n    \r\n        @Override\r\n        public void initialize(ProgrammeNomUnique constraintAnnotation) {\r\n        }\r\n    \r\n        @Override\r\n        public boolean isValid(String nouveauNom, ConstraintValidatorContext constraintValidatorContext) {\r\n            return !programmeRepository.existsByNom(nouveauNom);\r\n    \r\n        }\r\n\r\n+ I add @Component to my ProgrammeNomUnique.java\r\n\r\n**Question :** \r\nI found a github project which works. I did exactly the same way but it was not working for me... The oly one difference, he used javax imports and i use jakarta imports. I cannot use javax because i&#39;m using SB3, maybe they changed how it works... what do you think?\r\n\r\n**HERE** there is my gitHub if you want to see and try with me\r\n-&gt; https://github.com/RaphaelAMAMAM/temp-repo-for-validator\r\n\r\n","title":"Injection in custom Validator return null","body":"<p>I have already looked in stackoverflow and other websites but found nothing which worked for me.</p>\n<p>(Spring boot 3)</p>\n<p>Log : Resolved [jakarta.validation.ValidationException: HV000028: Unexpected exception during isValid call.]</p>\n<p>-&gt; Certainly due to my response from Postman</p>\n<pre><code>{\n    &quot;cause&quot;: {\n        &quot;cause&quot;: null,\n        &quot;message&quot;: &quot;Cannot invoke \\&quot;com.laramendez.appweb.repository.ProgrammeRepository.existsByNom(String)\\&quot; because \\&quot;this.programmeRepository\\&quot; is null&quot;\n    },\n    &quot;message&quot;: &quot;HV000028: Unexpected exception during isValid call.&quot;\n}\n</code></pre>\n<p><strong>dependencies in pom.xml</strong></p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://stackoverflow.com/a/71416675/19092469 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Réduire code répétitif et source d'erreur (reduce boilerplate) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Réduire code répétitif et source d'erreur (reduce boilerplate) --&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p><strong>nomUniqueValidator</strong></p>\n<pre><code>package com.laramendez.appweb.validation.validator;\n\nimport com.laramendez.appweb.repository.ProgrammeRepository;\nimport com.laramendez.appweb.validation.annotation.ProgrammeNomUnique;\nimport jakarta.validation.ConstraintValidator;\nimport jakarta.validation.ConstraintValidatorContext;\nimport lombok.NoArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\n\n\n@NoArgsConstructor\npublic class NomUniqueValidator implements ConstraintValidator&lt;ProgrammeNomUnique, String&gt; {\n\n    private ProgrammeRepository programmeRepository;\n\n\n    @Autowired\n    public NomUniqueValidator(ProgrammeRepository programmeRepository) {\n        this.programmeRepository = programmeRepository;\n    }\n\n\n    @Override\n    public void initialize(ProgrammeNomUnique constraintAnnotation) {\n    }\n\n    @Override\n    public boolean isValid(String nouveauNom, ConstraintValidatorContext constraintValidatorContext) {\n        \n        return !programmeRepository.existsByNom(nouveauNom);\n\n    }\n}\n</code></pre>\n<p><strong>ProgrammeNomUnique</strong></p>\n<pre><code>package com.laramendez.appweb.validation.annotation;\n\nimport com.laramendez.appweb.validation.validator.NomUniqueValidator;\nimport jakarta.validation.Constraint;\nimport jakarta.validation.Payload;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Constraint(validatedBy = NomUniqueValidator.class)\n@Target({ElementType.METHOD, ElementType.FIELD})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ProgrammeNomUnique {\n\n        // define default error message\n        String message() default &quot;Un programme porte déjà le même nom&quot;;\n\n        // define default groups\n        public Class&lt;?&gt;[] groups() default {};\n\n        // define default payloads\n        public Class&lt;? extends Payload&gt;[] payload() default {};\n\n}\n</code></pre>\n<p><strong>ProgrammeRepository</strong></p>\n<pre><code>package com.laramendez.appweb.repository;\n\nimport com.laramendez.appweb.entity.Programme;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.rest.core.annotation.RepositoryRestResource;\nimport org.springframework.web.bind.annotation.CrossOrigin;\n\n\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\n@RepositoryRestResource(path = &quot;programmes&quot;)\npublic interface ProgrammeRepository extends JpaRepository&lt;Programme, Integer&gt; {\n\n    boolean existsByNom(String nom);\n}\n</code></pre>\n<p>I'm using Spring Data Rest, that's why i do not have controller, dao and service.</p>\n<p>I do not have nothing interesting in my properties.</p>\n<p><a href=\"https://i.stack.imgur.com/DbPZU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DbPZU.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks !</p>\n<p>My injection in my custom validator return null. Do someone know why? How to dix it?</p>\n<p><strong>UPDATE:</strong>\nI just kept an empty constructor like this with advice from M. Deinum but it still does not work, i have the same error</p>\n<pre><code>public class NomUniqueValidator implements ConstraintValidator&lt;ProgrammeNomUnique, String&gt; {\n\n    @Autowired\n    private ProgrammeRepository programmeRepository;\n\n    public NomUniqueValidator() {\n    }\n\n    @Override\n    public void initialize(ProgrammeNomUnique constraintAnnotation) {\n    }\n\n    @Override\n    public boolean isValid(String nouveauNom, ConstraintValidatorContext constraintValidatorContext) {\n\n        return !programmeRepository.existsByNom(nouveauNom);\n\n    }\n}\n</code></pre>\n<p><strong>UPDATE</strong>: with advice from daniu I tried but I still have the same issue</p>\n<pre><code>@Component\npublic class NomUniqueValidator implements ConstraintValidator&lt;ProgrammeNomUnique, String&gt; {\n//[...]\n}\n\n@Service\npublic class NomUniqueValidator implements ConstraintValidator&lt;ProgrammeNomUnique, String&gt; {\n//[...]\n}\n</code></pre>\n<p><strong>UPDATE</strong> : with M. Deinum Advice, does not work</p>\n<pre><code>@Component\n@Scope(&quot;request&quot;)\n@RequiredArgsConstructor\npublic class NomUniqueValidator implements ConstraintValidator&lt;ProgrammeNomUnique, String&gt; {\n\n        @Autowired\n        private  ProgrammeRepository programmeRepository;\n\n\n    @Override\n    public void initialize(ProgrammeNomUnique constraintAnnotation) {\n    }\n\n    @Override\n    public boolean isValid(String nouveauNom, ConstraintValidatorContext constraintValidatorContext) {\n        return !programmeRepository.existsByNom(nouveauNom);\n\n    }\n</code></pre>\n<ul>\n<li>I add @Component to my ProgrammeNomUnique.java</li>\n</ul>\n<p><strong>Question :</strong>\nI found a github project which works. I did exactly the same way but it was not working for me... The oly one difference, he used javax imports and i use jakarta imports. I cannot use javax because i'm using SB3, maybe they changed how it works... what do you think?</p>\n<p><strong>HERE</strong> there is my gitHub if you want to see and try with me\n-&gt; <a href=\"https://github.com/RaphaelAMAMAM/temp-repo-for-validator\" rel=\"nofollow noreferrer\">https://github.com/RaphaelAMAMAM/temp-repo-for-validator</a></p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1676984590,"post_id":75520773,"comment_id":133243616,"body_markdown":"Make an endpoint that calls the service method and have the thymeleaf code call that.","body":"Make an endpoint that calls the service method and have the thymeleaf code call that."},{"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"score":0,"creation_date":1676984702,"post_id":75520773,"comment_id":133243657,"body_markdown":"Thanks @NathanHughes Create an endpoint and call that endpoint on button click is it the way you are suggesting? Can you please share some example how I can call endpoint on button click","body":"Thanks @NathanHughes Create an endpoint and call that endpoint on button click is it the way you are suggesting? Can you please share some example how I can call endpoint on button click"},{"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"score":0,"creation_date":1676985867,"post_id":75520773,"comment_id":133244004,"body_markdown":"i have fixed it by using the `&lt;button th:onclick=&quot;@{http://localhost:8082/decline}&quot;&gt;No&lt;/button&gt;` but API is not beign called and when I get email to accept or decline the details I am not able to click the button it is just look like text and not button","body":"i have fixed it by using the <code>&lt;button th:onclick=&quot;@{http:&#47;&#47;localhost:8082&#47;decline}&quot;&gt;No&lt;&#47;button&gt;</code> but API is not beign called and when I get email to accept or decline the details I am not able to click the button it is just look like text and not button"}],"answers":[{"tags":[],"owner":{"account_id":10835632,"reputation":541,"user_id":7968718,"display_name":"Daksharaj kamal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676986076,"creation_date":1676985039,"answer_id":75520983,"question_id":75520773,"body_markdown":"To use the `sendNotificationEmail` method, you must first create an endpoint in your controller class that corresponds to the button in your Thymeleaf template. When the user clicks the button, an HTTP POST request is sent to the endpoint, triggering the sendNotificationEmail method.\r\n\r\nExample:\r\n\r\n    @Controller\r\n    public class YourController{\r\n\r\n    \r\n    @Autowired\r\n    private NotificationService notificationService;\r\n    \r\n    @PostMapping(&quot;/send-notification-email&quot;)\r\n    public String sendNotificationEmail(@ModelAttribute(&quot;notificationDTO&quot;) NotificationDTO notificationDTO) throws MessagingException {\r\n        notificationService.sendNotificationEmail(notificationDTO);\r\n        return &quot;email-sent&quot;;\r\n    }\r\n}\r\n\r\nIn the above controller `NotificationService` class will be holding your logic and will be annotated with `@Component` so that you can `@Autowire` it in your `Controller`\r\n\r\nAnd then finally you can map this end-point using `th:action=&quot;@{/send-notification-email}&quot;`\r\n\r\n**Change**\r\n\r\n`&lt;button th:attr=&quot;onclick=&#39;location.href=\\&#39;&#39; + @{/send-notification-email} + &#39;\\&#39;&#39;&quot; type=&quot;submit&quot;&gt;Yes&lt;/button&gt;`\r\n\r\nAnd it&#39;ll work &#128588;\r\n","title":"How to call service layer method from thymeleaf on button click","body":"<p>To use the <code>sendNotificationEmail</code> method, you must first create an endpoint in your controller class that corresponds to the button in your Thymeleaf template. When the user clicks the button, an HTTP POST request is sent to the endpoint, triggering the sendNotificationEmail method.</p>\n<p>Example:</p>\n<pre><code>@Controller\npublic class YourController{\n\n\n@Autowired\nprivate NotificationService notificationService;\n\n@PostMapping(&quot;/send-notification-email&quot;)\npublic String sendNotificationEmail(@ModelAttribute(&quot;notificationDTO&quot;) NotificationDTO notificationDTO) throws MessagingException {\n    notificationService.sendNotificationEmail(notificationDTO);\n    return &quot;email-sent&quot;;\n}\n</code></pre>\n<p>}</p>\n<p>In the above controller <code>NotificationService</code> class will be holding your logic and will be annotated with <code>@Component</code> so that you can <code>@Autowire</code> it in your <code>Controller</code></p>\n<p>And then finally you can map this end-point using <code>th:action=&quot;@{/send-notification-email}&quot;</code></p>\n<p><strong>Change</strong></p>\n<p><code>&lt;button th:attr=&quot;onclick='location.href=\\'' + @{/send-notification-email} + '\\''&quot; type=&quot;submit&quot;&gt;Yes&lt;/button&gt;</code></p>\n<p>And it'll work 🙌</p>\n"}],"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676986076,"creation_date":1676983783,"question_id":75520773,"body_markdown":"I have a spring boot application that sends email notifications with certain details and has the option to Accept and Decline it. For the I am using the below thymeleaf template and setting the required context variables as well but getting the below message \r\n\r\n**TemplateProcessingException: Only variable expressions returning numbers or booleans are allowed in this context, any other datatypes are not trusted in the context of this expression, including Strings or any other object that could be rendered as a text literal. A typical case is HTML attributes for event handlers (e.g. \\&quot;onload\\&quot;), in which textual data from variables should better be output to \\&quot;data-*\\&quot; attributes and then read from the event handler. (template: \\&quot;notificationEmail\\&quot; - line 47, col 17)**\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; th:lang=&quot;${#locale.language}&quot; lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title th:text=&quot;#{email.notification.title}&quot;&gt;Notification Alert&lt;/title&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n    &lt;p&gt;\r\n        Hi Team,&lt;br&gt;\r\n        Below are the changes found in the table\r\n    &lt;/p&gt;\r\n    &lt;table border=&quot;1&quot; style=&quot;width:750px&quot;&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;&lt;b&gt;File&lt;/b&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;b&gt;Entity&lt;/b&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;b&gt;Client&lt;/b&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;b&gt;Timestamp&lt;/b&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;b&gt;Changes&lt;/b&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n        &lt;tr&gt;\r\n            &lt;td th:text=&quot;${notification.fileName}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${notification.entity}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${notification.client}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${notification.timestamp}&quot;&gt;&lt;/td&gt;\r\n            &lt;td th:text=&quot;${notification.changes}&quot;&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    &lt;p&gt;\r\n        Would you like to approve the changes -\r\n    &lt;/p&gt;\r\n        &lt;button th:onclick=&quot;${@emailApproveService.method()}&quot;&gt;Yes&lt;/button&gt; \r\n        &lt;button th:onclick=&quot;${@emailDeclineService.method()}&quot;&gt;No&lt;/button&gt;\r\n    &lt;p&gt;\r\n        &lt;span&gt;Regards, &lt;/span&gt;\r\n        &lt;br/&gt;\r\n        &lt;em&gt;Team ABC.&lt;/em&gt;\r\n    &lt;/p&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt; \r\n\r\n\r\n----------\r\n\r\n\r\n    @Override\r\n        public void sendNotificationEmail(NotificationDTO notificationDTO) throws MessagingException {\r\n            NotificationDTO notificationDTOWithDetail= fileUtil.getFieldsFromFileName(notificationDTO);\r\n            \r\n            String lang = defaultThymeleafLang;\r\n            Locale locale = Locale.forLanguageTag(lang);\r\n            Context context = new Context(locale);\r\n            context.setVariable(ThymeleafEvaluationContext.THYMELEAF_EVALUATION_CONTEXT_CONTEXT_VARIABLE_NAME,\r\n                new ThymeleafEvaluationContext(applicationContext, null));\r\n            context.setVariable(NOTIFICATION, notificationDTOWithDetail);\r\n            context.setVariable(&quot;emailApproveService&quot;,emailApproveService);\r\n            context.setVariable(&quot;emailDeclineService&quot;,emailDeclineService);\r\n            String content = templateEngine.process(&quot;notificationEmail&quot;, context);\r\n            String subject =\r\n                    messageSource.getMessage(\r\n                            &quot;email.notification.subject&quot;,\r\n                            new Object[] {\r\n                                    notificationUtil.getNotificationSubject(\r\n                                            notificationDTOWithDetail.getApplicationName())\r\n                            },\r\n                            locale);\r\n            String primaryNotifiers = notificationUtil.getPrimaryNotifiers(notificationDTOWithDetail.getApplicationName());\r\n            String ccNotifiers =  notificationUtil.getCcNotifiers(notificationDTOWithDetail.getApplicationName());\r\n    \r\n            sendEmail(primaryNotifiers, ccNotifiers, subject, content, false, true);\r\n        }\r\n\r\n\r\n----------\r\n**EDIT**\r\n\r\nAs suggested I have created a new endpoint and trying to call it from the thymeleaf using the `&lt;button th:onclick=&quot;@{http://localhost:8082/decline}&quot;&gt;No&lt;/button&gt;` and I get the email to accept or decline the details but in mail No button does not look like button and seems just like normal text and nothing happens when I click on it \r\n\r\n\r\n\r\n\r\n    @RestController\r\n    @Slf4j\r\n    public class EmailDeclineResource {\r\n    \r\n        private final EmailDeclineService emailDeclineService;\r\n        EmailDeclineResource(\r\n                EmailDeclineService emailDeclineService){\r\n            this.emailDeclineService=emailDeclineService;\r\n        }\r\n    \r\n        @GetMapping(&quot;/decline&quot;)\r\n        public String decline() {\r\n            ...\r\n            return &quot;decline result&quot;;\r\n        }\r\n    }\r\n\r\n","title":"How to call service layer method from thymeleaf on button click","body":"<p>I have a spring boot application that sends email notifications with certain details and has the option to Accept and Decline it. For the I am using the below thymeleaf template and setting the required context variables as well but getting the below message</p>\n<p><strong>TemplateProcessingException: Only variable expressions returning numbers or booleans are allowed in this context, any other datatypes are not trusted in the context of this expression, including Strings or any other object that could be rendered as a text literal. A typical case is HTML attributes for event handlers (e.g. &quot;onload&quot;), in which textual data from variables should better be output to &quot;data-*&quot; attributes and then read from the event handler. (template: &quot;notificationEmail&quot; - line 47, col 17)</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; th:lang=&quot;${#locale.language}&quot; lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;title th:text=&quot;#{email.notification.title}&quot;&gt;Notification Alert&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;p&gt;\n    Hi Team,&lt;br&gt;\n    Below are the changes found in the table\n&lt;/p&gt;\n&lt;table border=&quot;1&quot; style=&quot;width:750px&quot;&gt;\n    &lt;tr&gt;\n        &lt;td&gt;&lt;b&gt;File&lt;/b&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;b&gt;Entity&lt;/b&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;b&gt;Client&lt;/b&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;b&gt;Timestamp&lt;/b&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;b&gt;Changes&lt;/b&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td th:text=&quot;${notification.fileName}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${notification.entity}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${notification.client}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${notification.timestamp}&quot;&gt;&lt;/td&gt;\n        &lt;td th:text=&quot;${notification.changes}&quot;&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n&lt;p&gt;\n    Would you like to approve the changes -\n&lt;/p&gt;\n    &lt;button th:onclick=&quot;${@emailApproveService.method()}&quot;&gt;Yes&lt;/button&gt; \n    &lt;button th:onclick=&quot;${@emailDeclineService.method()}&quot;&gt;No&lt;/button&gt;\n&lt;p&gt;\n    &lt;span&gt;Regards, &lt;/span&gt;\n    &lt;br/&gt;\n    &lt;em&gt;Team ABC.&lt;/em&gt;\n&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n<hr />\n<pre><code>@Override\n    public void sendNotificationEmail(NotificationDTO notificationDTO) throws MessagingException {\n        NotificationDTO notificationDTOWithDetail= fileUtil.getFieldsFromFileName(notificationDTO);\n        \n        String lang = defaultThymeleafLang;\n        Locale locale = Locale.forLanguageTag(lang);\n        Context context = new Context(locale);\n        context.setVariable(ThymeleafEvaluationContext.THYMELEAF_EVALUATION_CONTEXT_CONTEXT_VARIABLE_NAME,\n            new ThymeleafEvaluationContext(applicationContext, null));\n        context.setVariable(NOTIFICATION, notificationDTOWithDetail);\n        context.setVariable(&quot;emailApproveService&quot;,emailApproveService);\n        context.setVariable(&quot;emailDeclineService&quot;,emailDeclineService);\n        String content = templateEngine.process(&quot;notificationEmail&quot;, context);\n        String subject =\n                messageSource.getMessage(\n                        &quot;email.notification.subject&quot;,\n                        new Object[] {\n                                notificationUtil.getNotificationSubject(\n                                        notificationDTOWithDetail.getApplicationName())\n                        },\n                        locale);\n        String primaryNotifiers = notificationUtil.getPrimaryNotifiers(notificationDTOWithDetail.getApplicationName());\n        String ccNotifiers =  notificationUtil.getCcNotifiers(notificationDTOWithDetail.getApplicationName());\n\n        sendEmail(primaryNotifiers, ccNotifiers, subject, content, false, true);\n    }\n</code></pre>\n<hr />\n<p><strong>EDIT</strong></p>\n<p>As suggested I have created a new endpoint and trying to call it from the thymeleaf using the <code>&lt;button th:onclick=&quot;@{http://localhost:8082/decline}&quot;&gt;No&lt;/button&gt;</code> and I get the email to accept or decline the details but in mail No button does not look like button and seems just like normal text and nothing happens when I click on it</p>\n<pre><code>@RestController\n@Slf4j\npublic class EmailDeclineResource {\n\n    private final EmailDeclineService emailDeclineService;\n    EmailDeclineResource(\n            EmailDeclineService emailDeclineService){\n        this.emailDeclineService=emailDeclineService;\n    }\n\n    @GetMapping(&quot;/decline&quot;)\n    public String decline() {\n        ...\n        return &quot;decline result&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676985862,"creation_date":1676985502,"answer_id":75521052,"question_id":75520957,"body_markdown":"your code responsible for showing/adding `Fragment`s is placed only inside `OnClickListener`, you aren&#39;t setting any `Fragment` on runtime start\r\n\r\nintroduce some common method for showing fragment\r\n\r\n    private void showFragmentAtPosition(int position) {\r\n\t\tFragment fragment = null;\r\n\t\tswitch(position) {\r\n\t\tcase 0:\r\n\t\tfragment = new EventCreationFragment();\r\n\t\tbreak;\r\n\t\tcase 1:\r\n\t\tfragment = new EventListFragment();\r\n\t\tbreak;\r\n\t\t\t\t }\r\n\t\tFragmentManager fm = getSupportFragmentManager();\r\n\t\tFragmentTransaction ft = fm.beginTransaction();\r\n\t\tassert fragment != null;\r\n\t\tft.replace(R.id.frameLayout, fragment);\r\n\t\tft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN);\r\n\t\tft.commit();\r\n\t}\r\n\r\ncall `showFragmentAtPosition(tab.getPosition());` inside `onTabSelected`, but also in `onCreate` (with default `position = 0`?) only when `savedInstanceState` is `null` (means thats a really first start, not some recreation due to e.g. device rotation or phone call end)","title":"Fragment not showing right away in TabLayout but only when swiping back to it","body":"<p>your code responsible for showing/adding <code>Fragment</code>s is placed only inside <code>OnClickListener</code>, you aren't setting any <code>Fragment</code> on runtime start</p>\n<p>introduce some common method for showing fragment</p>\n<pre><code>private void showFragmentAtPosition(int position) {\n    Fragment fragment = null;\n    switch(position) {\n    case 0:\n    fragment = new EventCreationFragment();\n    break;\n    case 1:\n    fragment = new EventListFragment();\n    break;\n             }\n    FragmentManager fm = getSupportFragmentManager();\n    FragmentTransaction ft = fm.beginTransaction();\n    assert fragment != null;\n    ft.replace(R.id.frameLayout, fragment);\n    ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN);\n    ft.commit();\n}\n</code></pre>\n<p>call <code>showFragmentAtPosition(tab.getPosition());</code> inside <code>onTabSelected</code>, but also in <code>onCreate</code> (with default <code>position = 0</code>?) only when <code>savedInstanceState</code> is <code>null</code> (means thats a really first start, not some recreation due to e.g. device rotation or phone call end)</p>\n"}],"owner":{"account_id":26484475,"reputation":5,"user_id":20123283,"display_name":"msp7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75521052,"answer_count":1,"score":0,"last_activity_date":1676985862,"creation_date":1676984924,"question_id":75520957,"body_markdown":"Feel free to point me to places where this question was eventually answered and solved if this is a duplicate, I looked for possible clones but I didn&#39;t see anything that was similar, since what I saw concerns fragments not showing at all while I only don&#39;t see it at first but it does load when I swipe back to it.\r\n\r\nAnyway, my problem is I have this events app I am coding with Firebase where associations can post events and regular users can save the posted events in a list. Now my problem lies in the associations home screen, where I set up (or at least I tried) a tab layout where the posting association can either see a tab with a form where he can create an event or a tab that shows a list of all the event they published. Problem is that when I try to test the app, when I land on the association home activity, the creation form should pop up first, instead the fragment stays blank but finally appears once I swipe on the other tab and then back to the form tab. Do you have any solutions for this?\r\n\r\nThis is the Association Home Activity method that has the fragments layout\r\n\r\n \r\n\r\n    @Override\r\n     protected void onCreate(Bundle savedInstanceState) {\r\n     super.onCreate(savedInstanceState);\r\n     setContentView(R.layout.activity_event);\r\n     \r\n     tabLayout = findViewById(R.id.tabLayout);\r\n     frameLayout = findViewById(R.id.frameLayout);\r\n     \r\n     TabLayout.Tab createTab = tabLayout.newTab().setText(R.string.create_event);\r\n     tabLayout.addTab(createTab);\r\n     \r\n     TabLayout.Tab listTab = tabLayout.newTab().setText(R.string.event_list);\r\n     tabLayout.addTab(listTab);\r\n     \r\n     tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n             @Override\r\n     public void onTabSelected(TabLayout.Tab tab) {\r\n     Fragment fragment = null;\r\n     switch(tab.getPosition()) {\r\n     case 0:\r\n     fragment = new EventCreationFragment();\r\n     break;\r\n     case 1:\r\n     fragment = new EventListFragment();\r\n     break;\r\n                 }\r\n     FragmentManager fm = getSupportFragmentManager();\r\n     FragmentTransaction ft = fm.beginTransaction();\r\n     assert fragment != null;\r\n     ft.replace(R.id.frameLayout, fragment);\r\n     ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN);\r\n     ft.commit();\r\n             }\r\n    \r\n             @Override\r\n     public void onTabUnselected(TabLayout.Tab tab) {\r\n     \r\n             }\r\n     \r\n             @Override\r\n     public void onTabReselected(TabLayout.Tab tab) {\r\n     \r\n             }\r\n         });\r\n     }\r\n\r\nAnd this is the fragment code\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_event_creation, container, false);\r\n    \r\n        title = view.findViewById(R.id.etTitle);\r\n        description = view.findViewById(R.id.etDesc);\r\n        address = view.findViewById(R.id.etAddress);\r\n        date = view.findViewById(R.id.etDate);\r\n        timeFrom = view.findViewById(R.id.etTimeFrom);\r\n        timeTo = view.findViewById(R.id.etTimeTo);\r\n        ticket = view.findViewById(R.id.etTicket);\r\n    \r\n        addImage = view.findViewById(R.id.btnLoadImage);\r\n        preview = view.findViewById(R.id.imagePreview);\r\n    \r\n        cancel = view.findViewById(R.id.btnCancel);\r\n        createEvent = view.findViewById(R.id.btnCreateEvent);\r\n    \r\n        storageRef = FirebaseStorage.getInstance().getReference(&quot;pictures&quot;);\r\n        eventRef = dbRef.child(&quot;Evento&quot;);\r\n    \r\n        date.setOnClickListener(this::selectDate);\r\n        timeFrom.setOnClickListener(this::selectTimeFrom);\r\n        timeTo.setOnClickListener(this::selectTimeTo);\r\n        addImage.setOnClickListener(this::addImage);\r\n        cancel.setOnClickListener(this::cancel);\r\n        createEvent.setOnClickListener(this::createEvent);\r\n    \r\n        return view;\r\n    }\r\n\r\nThe whole Firebase part of it is fine, my problem is just that the fragment isn&#39;t created right away but only after I swipe back to it. Second fragment isn&#39;t coded yet so nothing will show up for now, I just want to display the expected one first for now.\r\n\r\nAny kind of help is appreciated\r\n\r\nTried to create a Tab Layout with two fragment tabs, expected to see the first one when landing but nothing shows at first but only when swiping back.","title":"Fragment not showing right away in TabLayout but only when swiping back to it","body":"<p>Feel free to point me to places where this question was eventually answered and solved if this is a duplicate, I looked for possible clones but I didn't see anything that was similar, since what I saw concerns fragments not showing at all while I only don't see it at first but it does load when I swipe back to it.</p>\n<p>Anyway, my problem is I have this events app I am coding with Firebase where associations can post events and regular users can save the posted events in a list. Now my problem lies in the associations home screen, where I set up (or at least I tried) a tab layout where the posting association can either see a tab with a form where he can create an event or a tab that shows a list of all the event they published. Problem is that when I try to test the app, when I land on the association home activity, the creation form should pop up first, instead the fragment stays blank but finally appears once I swipe on the other tab and then back to the form tab. Do you have any solutions for this?</p>\n<p>This is the Association Home Activity method that has the fragments layout</p>\n<pre><code>@Override\n protected void onCreate(Bundle savedInstanceState) {\n super.onCreate(savedInstanceState);\n setContentView(R.layout.activity_event);\n \n tabLayout = findViewById(R.id.tabLayout);\n frameLayout = findViewById(R.id.frameLayout);\n \n TabLayout.Tab createTab = tabLayout.newTab().setText(R.string.create_event);\n tabLayout.addTab(createTab);\n \n TabLayout.Tab listTab = tabLayout.newTab().setText(R.string.event_list);\n tabLayout.addTab(listTab);\n \n tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n         @Override\n public void onTabSelected(TabLayout.Tab tab) {\n Fragment fragment = null;\n switch(tab.getPosition()) {\n case 0:\n fragment = new EventCreationFragment();\n break;\n case 1:\n fragment = new EventListFragment();\n break;\n             }\n FragmentManager fm = getSupportFragmentManager();\n FragmentTransaction ft = fm.beginTransaction();\n assert fragment != null;\n ft.replace(R.id.frameLayout, fragment);\n ft.setTransition(FragmentTransaction.TRANSIT_FRAGMENT_OPEN);\n ft.commit();\n         }\n\n         @Override\n public void onTabUnselected(TabLayout.Tab tab) {\n \n         }\n \n         @Override\n public void onTabReselected(TabLayout.Tab tab) {\n \n         }\n     });\n }\n</code></pre>\n<p>And this is the fragment code</p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    View view = inflater.inflate(R.layout.fragment_event_creation, container, false);\n\n    title = view.findViewById(R.id.etTitle);\n    description = view.findViewById(R.id.etDesc);\n    address = view.findViewById(R.id.etAddress);\n    date = view.findViewById(R.id.etDate);\n    timeFrom = view.findViewById(R.id.etTimeFrom);\n    timeTo = view.findViewById(R.id.etTimeTo);\n    ticket = view.findViewById(R.id.etTicket);\n\n    addImage = view.findViewById(R.id.btnLoadImage);\n    preview = view.findViewById(R.id.imagePreview);\n\n    cancel = view.findViewById(R.id.btnCancel);\n    createEvent = view.findViewById(R.id.btnCreateEvent);\n\n    storageRef = FirebaseStorage.getInstance().getReference(&quot;pictures&quot;);\n    eventRef = dbRef.child(&quot;Evento&quot;);\n\n    date.setOnClickListener(this::selectDate);\n    timeFrom.setOnClickListener(this::selectTimeFrom);\n    timeTo.setOnClickListener(this::selectTimeTo);\n    addImage.setOnClickListener(this::addImage);\n    cancel.setOnClickListener(this::cancel);\n    createEvent.setOnClickListener(this::createEvent);\n\n    return view;\n}\n</code></pre>\n<p>The whole Firebase part of it is fine, my problem is just that the fragment isn't created right away but only after I swipe back to it. Second fragment isn't coded yet so nothing will show up for now, I just want to display the expected one first for now.</p>\n<p>Any kind of help is appreciated</p>\n<p>Tried to create a Tab Layout with two fragment tabs, expected to see the first one when landing but nothing shows at first but only when swiping back.</p>\n"},{"tags":["java","unit-testing","junit","mockito","junit5"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676977140,"post_id":75519510,"comment_id":133241298,"body_markdown":"Both tests, as you mentioned them here, will use a fresh application context. So they shouldn&#39;t influence each other, unless there is something in here you aren&#39;t showing (and judging from what is here this is a dumbed down version of the actual code). I also don&#39;t get why you have `@RunWith` as it appears you are using JUnit5 and not JUnit4 (judging from the access modifiers of the class and your supposed test method). That being said for the controller you should favor `@WebMvcTest` over `@SpringBootTest` it will be faster as it will only construct the necessary beans.","body":"Both tests, as you mentioned them here, will use a fresh application context. So they shouldn&#39;t influence each other, unless there is something in here you aren&#39;t showing (and judging from what is here this is a dumbed down version of the actual code). I also don&#39;t get why you have <code>@RunWith</code> as it appears you are using JUnit5 and not JUnit4 (judging from the access modifiers of the class and your supposed test method). That being said for the controller you should favor <code>@WebMvcTest</code> over <code>@SpringBootTest</code> it will be faster as it will only construct the necessary beans."},{"owner":{"account_id":4753684,"reputation":123,"user_id":3843021,"accept_rate":25,"display_name":"romerorsp"},"score":0,"creation_date":1676986946,"post_id":75519510,"comment_id":133244351,"body_markdown":"@M.Deinum Thanks for the note on `@RunWith`. I edited and removed.\nThe other thing that is hidden from this code is the fact I&#39;m using Testcontainers to bootstrap some servers such as Redis and Kafka. I&#39;ve been wondering if it could be something related to testcontainers influencing the natural behavior of junit. For that reason also I&#39;m not using `@WebMvcTest`. The actual bootstrap is more complex and depends on more than what I&#39;m exposing here.","body":"@M.Deinum Thanks for the note on <code>@RunWith</code>. I edited and removed. The other thing that is hidden from this code is the fact I&#39;m using Testcontainers to bootstrap some servers such as Redis and Kafka. I&#39;ve been wondering if it could be something related to testcontainers influencing the natural behavior of junit. For that reason also I&#39;m not using <code>@WebMvcTest</code>. The actual bootstrap is more complex and depends on more than what I&#39;m exposing here."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676987732,"post_id":75519510,"comment_id":133244611,"body_markdown":"If there is more you will need to expose is. At what is shown here shouldn&#39;t display what you are experiencing as both will operate on different contexts. For the controller test you don&#39;t need test containers as you are mocking the dependencies (at least what you show here) so you don&#39;t need the base class only a mock and the controller. Which could actually be the culprit as both will also start a container in test containers which might lead to 1 being shutdown.","body":"If there is more you will need to expose is. At what is shown here shouldn&#39;t display what you are experiencing as both will operate on different contexts. For the controller test you don&#39;t need test containers as you are mocking the dependencies (at least what you show here) so you don&#39;t need the base class only a mock and the controller. Which could actually be the culprit as both will also start a container in test containers which might lead to 1 being shutdown."}],"owner":{"account_id":4753684,"reputation":123,"user_id":3843021,"accept_rate":25,"display_name":"romerorsp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676985753,"creation_date":1676976931,"question_id":75519510,"body_markdown":"I&#39;m facing this weird issue of testing methods failing due to apparent dirty beans in the context.\r\n\r\nI have, for example a testing class like this:\r\n\r\n**EDIT:** I removed the @RunWith(SpringRunner.class) as it was added by mistake. This code is dumbed down to hide business aspects and the original code doesn&#39;t include this annotation either.\r\n    \r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\r\n    class FirstScenarioTest extends BaseRedisTest {\r\n\r\n         @MockBean\r\n         private Service service;\r\n\r\n         @Autowired\r\n         private Controller controller;\r\n\r\n         void testScenario1Works() {\r\n             final var generatedValue = &quot;expectedValue&quot;;\r\n             when(service.methodThatReturnsSomething()).thenReturn(generatedValue);\r\n             Assertions.assertEquals(generatedValue, controller.makeUseOfService());\r\n         }\r\n    }\r\n    \r\nAnd then another testing class like this:\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\r\n    class SecondScenarioTest extends BaseRedisTest {\r\n\r\n         @Autowired\r\n         private Service service;\r\n\r\n\r\n         void testScenario2Works() {\r\n             Assertions.assertEquals(&quot;expectedResult&quot;, service.methodThatReturnsSomething());\r\n         }\r\n    }\r\n\r\nIn a scenario like this, my tests are intermittently failing due to sometimes Service returning null. (possibly because the @Autowired attribute still gets a mockBean version?)\r\n\r\nThen I use `@DirtiesContext` in both classes and it starts working for all tests, or also when I change the `@Order` to force the `@Autowired` service to run before the `@MockBean` one.\r\n\r\nAny idea of any JUnit or Mockito resource that would fix this without having to order or use dirties context?\r\n\r\nP.S. I tried to do a `Mockito.reset(service)` on an `@AfterEach` method and it didn&#39;t work.","title":"@MockBean vs @Autowired intermittently leading to test failures when used in two separate testing classes for the same bean","body":"<p>I'm facing this weird issue of testing methods failing due to apparent dirty beans in the context.</p>\n<p>I have, for example a testing class like this:</p>\n<p><strong>EDIT:</strong> I removed the @RunWith(SpringRunner.class) as it was added by mistake. This code is dumbed down to hide business aspects and the original code doesn't include this annotation either.</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\nclass FirstScenarioTest extends BaseRedisTest {\n\n     @MockBean\n     private Service service;\n\n     @Autowired\n     private Controller controller;\n\n     void testScenario1Works() {\n         final var generatedValue = &quot;expectedValue&quot;;\n         when(service.methodThatReturnsSomething()).thenReturn(generatedValue);\n         Assertions.assertEquals(generatedValue, controller.makeUseOfService());\n     }\n}\n</code></pre>\n<p>And then another testing class like this:</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\nclass SecondScenarioTest extends BaseRedisTest {\n\n     @Autowired\n     private Service service;\n\n\n     void testScenario2Works() {\n         Assertions.assertEquals(&quot;expectedResult&quot;, service.methodThatReturnsSomething());\n     }\n}\n</code></pre>\n<p>In a scenario like this, my tests are intermittently failing due to sometimes Service returning null. (possibly because the @Autowired attribute still gets a mockBean version?)</p>\n<p>Then I use <code>@DirtiesContext</code> in both classes and it starts working for all tests, or also when I change the <code>@Order</code> to force the <code>@Autowired</code> service to run before the <code>@MockBean</code> one.</p>\n<p>Any idea of any JUnit or Mockito resource that would fix this without having to order or use dirties context?</p>\n<p>P.S. I tried to do a <code>Mockito.reset(service)</code> on an <code>@AfterEach</code> method and it didn't work.</p>\n"},{"tags":["java","selenium-webdriver","color-picker"],"answers":[{"tags":[],"owner":{"account_id":10139252,"reputation":11,"user_id":7489546,"display_name":"JEEVA ANAND CJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676984858,"creation_date":1676984858,"answer_id":75520948,"question_id":75518288,"body_markdown":"It&#39;s a Windows color picker popup, and you can use AutoIT or the JavaScript code below, which may be useful.&#160;\r\n\r\n    WebElement element = driver.findElement(By.className(&quot;chrome-picker &quot;));\r\n    JavascriptExecutor javascriptexecutor=(JavascriptExecutor)driver;\r\n    javascriptexecutor.executeScript(&quot;arguments[0].setAttribute(&#39;value&#39;,&#39;#FFEEXX&#39;)&quot;,element);\r\n\r\n\r\n","title":"How can i automate selecting colors from color chrome- picker webElement","body":"<p>It's a Windows color picker popup, and you can use AutoIT or the JavaScript code below, which may be useful. </p>\n<pre><code>WebElement element = driver.findElement(By.className(&quot;chrome-picker &quot;));\nJavascriptExecutor javascriptexecutor=(JavascriptExecutor)driver;\njavascriptexecutor.executeScript(&quot;arguments[0].setAttribute('value','#FFEEXX')&quot;,element);\n</code></pre>\n"}],"owner":{"account_id":27839784,"reputation":1,"user_id":21256467,"display_name":"azee tester"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676984858,"creation_date":1676970389,"question_id":75518288,"body_markdown":"Hi I am new to selenium and I am learning automation through online courses. Recently I came across a situation where I need to automate the color picking from a pop up. And I am struggling to find the answer. I need to select a color from color chrome-picker pop up  WebElement.  I can either select color from the box or I can drag the slider to choose color. I want to do both. Please suggest some code to automate this. I tried using javascript executor. But it is not clicking/dragging and strangely it is not showing as failed when I execute my tests. Thank you.\r\n\r\nThis is the chrome-picker class webElement:\r\n\r\n[![This is the chrome-picker class webElement][1]][1]\r\n\r\nand \r\n\r\n[![html tag][2]][2]\r\n\r\nI tried the following code to drag the icons and slider in the image. \r\n\r\n```\r\nJavascriptExecutor js = (JavascriptExecutor) driver;\r\n\t\t WebElement ColorElement =subChrome1.findElement(\r\n\t\t\t\t  By.cssSelector(&quot;div[style=&quot;position: absolute; inset: 0px; background: rgb(0, 164, 255&quot;);]&quot;));\r\n\t\t Actions slide=new Actions(driver);\r\n\t\t slide.dragAndDropBy(ColorElement, -300, i).build().perform();\r\n```\r\n\r\n[1]: https://i.stack.imgur.com/37Nlm.png\r\n[2]: https://i.stack.imgur.com/Z3MUi.png","title":"How can i automate selecting colors from color chrome- picker webElement","body":"<p>Hi I am new to selenium and I am learning automation through online courses. Recently I came across a situation where I need to automate the color picking from a pop up. And I am struggling to find the answer. I need to select a color from color chrome-picker pop up  WebElement.  I can either select color from the box or I can drag the slider to choose color. I want to do both. Please suggest some code to automate this. I tried using javascript executor. But it is not clicking/dragging and strangely it is not showing as failed when I execute my tests. Thank you.</p>\n<p>This is the chrome-picker class webElement:</p>\n<p><a href=\"https://i.stack.imgur.com/37Nlm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/37Nlm.png\" alt=\"This is the chrome-picker class webElement\" /></a></p>\n<p>and</p>\n<p><a href=\"https://i.stack.imgur.com/Z3MUi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z3MUi.png\" alt=\"html tag\" /></a></p>\n<p>I tried the following code to drag the icons and slider in the image.</p>\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\n         WebElement ColorElement =subChrome1.findElement(\n                  By.cssSelector(&quot;div[style=&quot;position: absolute; inset: 0px; background: rgb(0, 164, 255&quot;);]&quot;));\n         Actions slide=new Actions(driver);\n         slide.dragAndDropBy(ColorElement, -300, i).build().perform();\n</code></pre>\n"},{"tags":["java","spring-boot","spring-cloud-sleuth","open-telemetry","distributed-tracing"],"comments":[{"owner":{"account_id":15467626,"reputation":51,"user_id":11158542,"display_name":"Cheatr01"},"score":0,"creation_date":1676225117,"post_id":75428929,"comment_id":133090286,"body_markdown":"What version of SpringBoot you use?","body":"What version of SpringBoot you use?"},{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1676232888,"post_id":75428929,"comment_id":133091774,"body_markdown":"You probably want to have the same version for all OTEL libraries.","body":"You probably want to have the same version for all OTEL libraries."},{"owner":{"account_id":23790117,"reputation":1,"user_id":17801642,"display_name":"Udeshika Sewwandi"},"score":0,"creation_date":1676259001,"post_id":75428929,"comment_id":133094878,"body_markdown":"Spring boot version is 2.6.6.","body":"Spring boot version is 2.6.6."}],"answers":[{"tags":[],"owner":{"account_id":17925244,"reputation":11,"user_id":13024054,"display_name":"PaisesBajos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676984714,"creation_date":1676984388,"answer_id":75520872,"question_id":75428929,"body_markdown":"looks like spring-cloud-sleuth-otel-autoconfigure pulls in io.opentelemetry:opentelemetry-exporter-otlp-common:1.16 as transient dependency which has a different constructor than the one in version 1.14\r\n\r\n    nested exception is java.lang.NoSuchMethodError: &#39;io.opentelemetry.exporter.internal.grpc.GrpcExporterBuilder io.opentelemetry.exporter.internal.grpc.GrpcExporter.builder(java.lang.String, long, java.net.URI, java.util.function.Supplier, java.lang.String, java.lang.String)\r\n\r\nif you pin the version of the transient dependency io.opentelemetry:opentelemetry-exporter-otlp-common to 1.14 it should work.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n            &lt;artifactId&gt;io.opentelemetry:opentelemetry-exporter-otlp-common&lt;/artifactId&gt;\r\n            &lt;version&gt;1.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nadd this to your import section.\r\nI also used a more recent version of org.springframework.cloud:spring-cloud-sleuth-otel-dependencies:1.1.0-M7\r\n\r\nFor testing i used this config\r\n\r\n    spring:\r\n      sleuth:\r\n        otel:\r\n          sdk:\r\n            disabled: false\r\n        metrics: &quot;&quot;\r\n        logs: &quot;&quot;\r\n        exporter:\r\n          otlp:\r\n            enabled: true\r\n            endpoint: http://localhost:4317\r\n\r\ni hope this helps\r\n\r\n","title":"Exception occured when trying to do tracing with Spring Boot project using Spring Sleuth and OpenTelemetry","body":"<p>looks like spring-cloud-sleuth-otel-autoconfigure pulls in io.opentelemetry:opentelemetry-exporter-otlp-common:1.16 as transient dependency which has a different constructor than the one in version 1.14</p>\n<pre><code>nested exception is java.lang.NoSuchMethodError: 'io.opentelemetry.exporter.internal.grpc.GrpcExporterBuilder io.opentelemetry.exporter.internal.grpc.GrpcExporter.builder(java.lang.String, long, java.net.URI, java.util.function.Supplier, java.lang.String, java.lang.String)\n</code></pre>\n<p>if you pin the version of the transient dependency io.opentelemetry:opentelemetry-exporter-otlp-common to 1.14 it should work.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n        &lt;artifactId&gt;io.opentelemetry:opentelemetry-exporter-otlp-common&lt;/artifactId&gt;\n        &lt;version&gt;1.14.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>add this to your import section.\nI also used a more recent version of org.springframework.cloud:spring-cloud-sleuth-otel-dependencies:1.1.0-M7</p>\n<p>For testing i used this config</p>\n<pre><code>spring:\n  sleuth:\n    otel:\n      sdk:\n        disabled: false\n    metrics: &quot;&quot;\n    logs: &quot;&quot;\n    exporter:\n      otlp:\n        enabled: true\n        endpoint: http://localhost:4317\n</code></pre>\n<p>i hope this helps</p>\n"}],"owner":{"account_id":23790117,"reputation":1,"user_id":17801642,"display_name":"Udeshika Sewwandi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676984714,"creation_date":1676223614,"question_id":75428929,"body_markdown":"I wanted to enable tracing in a Java Spring Boot project using Spring Sleuth and OpenTelemetry. The traces need to be exported to Lightstep. I added spring-cloud-starter-sleuth, spring-cloud-sleuth-otel-autoconfigure, opentelemetry-exporter-otlp-trace and grpc-okhttp dependencies. I added the following in the pom.xml.\r\n\r\n    &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;2021.0.4&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-sleuth-otel-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.1.0&lt;/version&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-sleuth --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-cloud-sleuth-brave&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-sleuth-otel-autoconfigure --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-sleuth-otel-autoconfigure&lt;/artifactId&gt;\r\n    &lt;!--            &lt;version&gt;1.0.0-M5&lt;/version&gt;--&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/io.opentelemetry/opentelemetry-exporter-otlp-trace --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n                &lt;artifactId&gt;opentelemetry-exporter-otlp-trace&lt;/artifactId&gt;\r\n                &lt;version&gt;1.14.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/io.grpc/grpc-okhttp --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;grpc-okhttp&lt;/artifactId&gt;\r\n                &lt;version&gt;1.42.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nAdded the following properties in application.properties file.\r\n\r\n    spring.sleuth.propagation.type=W3C\r\n    spring.sleuth.otel.exporter.otlp.endpoint=${OTEL_EXPORTER_OTLP_TRACES_ENDPOINT}\r\n\r\nWhen I run the application I get the following exception. \r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;otelHttpServerHandler&#39; defined in class path resource [org/springframework/cloud/sleuth/autoconfig/otel/OtelBridgeConfiguration$TraceOtelHttpBridgeConfiguration.class]: Unsatisfied dependency expressed through method &#39;otelHttpServerHandler&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;otel&#39; defined in class path resource [org/springframework/cloud/sleuth/autoconfig/otel/OtelAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;otel&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;otelTracerProvider&#39; defined in class path resource [org/springframework/cloud/sleuth/autoconfig/otel/OtelAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.opentelemetry.sdk.trace.SdkTracerProvider]: Factory method &#39;otelTracerProvider&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;otelOtlpGrpcSpanExporter&#39; defined in class path resource [org/springframework/cloud/sleuth/autoconfig/otel/OtelExporterConfiguration$OtlpExporterConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.opentelemetry.exporter.otlp.trace.OtlpGrpcSpanExporter]: Factory method &#39;otelOtlpGrpcSpanExporter&#39; threw exception; nested exception is java.lang.NoSuchMethodError: &#39;io.opentelemetry.exporter.internal.grpc.GrpcExporterBuilder io.opentelemetry.exporter.internal.grpc.GrpcExporter.builder(java.lang.String, long, java.net.URI, java.util.function.Supplier, java.lang.String, java.lang.String)&#39;\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:233) ~[spring-beans-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1282) ~[spring-beans-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1243) ~[spring-beans-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:494) ~[spring-beans-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:349) ~[spring-beans-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342) ~[spring-beans-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.cloud.sleuth.autoconfig.instrument.web.TraceWebServletConfiguration$LazyTracingFilter.tracingFilter(TraceWebServletConfiguration.java:142) ~[spring-cloud-sleuth-autoconfigure-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.cloud.sleuth.autoconfig.instrument.web.TraceWebServletConfiguration$LazyTracingFilter.init(TraceWebServletConfiguration.java:125) ~[spring-cloud-sleuth-autoconfigure-3.1.4.jar:3.1.4]\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:272) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:106) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4613) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5256) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat com.cognite.tracker.ConsumptionTrackerApplication.main(ConsumptionTrackerApplication.java:10) ~[classes/:na]\r\n\r\nWhen I check the dependency tree I get the following output.\r\n\r\n    |  +- io.opentelemetry:opentelemetry-sdk-extension-autoconfigure-spi:jar:1.16.0:compile\r\n    [INFO] |  +- io.opentelemetry.instrumentation:opentelemetry-instrumentation-api:jar:1.18.0:compile\r\n    [INFO] |  \\- io.opentelemetry:opentelemetry-extension-trace-propagators:jar:1.16.0:compile\r\n    [INFO] +- io.opentelemetry:opentelemetry-exporter-otlp-trace:jar:1.14.0:compile\r\n    [INFO] |  \\- io.opentelemetry:opentelemetry-exporter-otlp-common:jar:1.16.0:runtime\r\n    [INFO] |     \\- com.squareup.okhttp3:okhttp:jar:3.14.9:runtime\r\n\r\nAppreciate if someone has a clue on what&#39;s going on :D. ","title":"Exception occured when trying to do tracing with Spring Boot project using Spring Sleuth and OpenTelemetry","body":"<p>I wanted to enable tracing in a Java Spring Boot project using Spring Sleuth and OpenTelemetry. The traces need to be exported to Lightstep. I added spring-cloud-starter-sleuth, spring-cloud-sleuth-otel-autoconfigure, opentelemetry-exporter-otlp-trace and grpc-okhttp dependencies. I added the following in the pom.xml.</p>\n<pre><code>&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2021.0.4&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-sleuth-otel-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;1.1.0&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-sleuth --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-sleuth-brave&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-sleuth-otel-autoconfigure --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-sleuth-otel-autoconfigure&lt;/artifactId&gt;\n&lt;!--            &lt;version&gt;1.0.0-M5&lt;/version&gt;--&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.opentelemetry/opentelemetry-exporter-otlp-trace --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n            &lt;artifactId&gt;opentelemetry-exporter-otlp-trace&lt;/artifactId&gt;\n            &lt;version&gt;1.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.grpc/grpc-okhttp --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-okhttp&lt;/artifactId&gt;\n            &lt;version&gt;1.42.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Added the following properties in application.properties file.</p>\n<pre><code>spring.sleuth.propagation.type=W3C\nspring.sleuth.otel.exporter.otlp.endpoint=${OTEL_EXPORTER_OTLP_TRACES_ENDPOINT}\n</code></pre>\n<p>When I run the application I get the following exception.</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'otelHttpServerHandler' defined in class path resource [org/springframework/cloud/sleuth/autoconfig/otel/OtelBridgeConfiguration$TraceOtelHttpBridgeConfiguration.class]: Unsatisfied dependency expressed through method 'otelHttpServerHandler' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'otel' defined in class path resource [org/springframework/cloud/sleuth/autoconfig/otel/OtelAutoConfiguration.class]: Unsatisfied dependency expressed through method 'otel' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'otelTracerProvider' defined in class path resource [org/springframework/cloud/sleuth/autoconfig/otel/OtelAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.opentelemetry.sdk.trace.SdkTracerProvider]: Factory method 'otelTracerProvider' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'otelOtlpGrpcSpanExporter' defined in class path resource [org/springframework/cloud/sleuth/autoconfig/otel/OtelExporterConfiguration$OtlpExporterConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [io.opentelemetry.exporter.otlp.trace.OtlpGrpcSpanExporter]: Factory method 'otelOtlpGrpcSpanExporter' threw exception; nested exception is java.lang.NoSuchMethodError: 'io.opentelemetry.exporter.internal.grpc.GrpcExporterBuilder io.opentelemetry.exporter.internal.grpc.GrpcExporter.builder(java.lang.String, long, java.net.URI, java.util.function.Supplier, java.lang.String, java.lang.String)'\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.18.jar:5.3.18]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.18.jar:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.18.jar:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.18.jar:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.18.jar:5.3.18]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.18.jar:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.18.jar:5.3.18]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.18.jar:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.18.jar:5.3.18]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:233) ~[spring-beans-5.3.18.jar:5.3.18]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1282) ~[spring-beans-5.3.18.jar:5.3.18]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1243) ~[spring-beans-5.3.18.jar:5.3.18]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:494) ~[spring-beans-5.3.18.jar:5.3.18]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:349) ~[spring-beans-5.3.18.jar:5.3.18]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:342) ~[spring-beans-5.3.18.jar:5.3.18]\n    at org.springframework.cloud.sleuth.autoconfig.instrument.web.TraceWebServletConfiguration$LazyTracingFilter.tracingFilter(TraceWebServletConfiguration.java:142) ~[spring-cloud-sleuth-autoconfigure-3.1.4.jar:3.1.4]\n    at org.springframework.cloud.sleuth.autoconfig.instrument.web.TraceWebServletConfiguration$LazyTracingFilter.init(TraceWebServletConfiguration.java:125) ~[spring-cloud-sleuth-autoconfigure-3.1.4.jar:3.1.4]\n    at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:272) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:106) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4613) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5256) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.6.jar:2.6.6]\n    at com.cognite.tracker.ConsumptionTrackerApplication.main(ConsumptionTrackerApplication.java:10) ~[classes/:na]\n</code></pre>\n<p>When I check the dependency tree I get the following output.</p>\n<pre><code>|  +- io.opentelemetry:opentelemetry-sdk-extension-autoconfigure-spi:jar:1.16.0:compile\n[INFO] |  +- io.opentelemetry.instrumentation:opentelemetry-instrumentation-api:jar:1.18.0:compile\n[INFO] |  \\- io.opentelemetry:opentelemetry-extension-trace-propagators:jar:1.16.0:compile\n[INFO] +- io.opentelemetry:opentelemetry-exporter-otlp-trace:jar:1.14.0:compile\n[INFO] |  \\- io.opentelemetry:opentelemetry-exporter-otlp-common:jar:1.16.0:runtime\n[INFO] |     \\- com.squareup.okhttp3:okhttp:jar:3.14.9:runtime\n</code></pre>\n<p>Appreciate if someone has a clue on what's going on :D.</p>\n"},{"tags":["java","unicode","utf-8","utf-16"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1459002779,"post_id":36236364,"comment_id":60103534,"body_markdown":"Suppose you want to access the 576th char of the string, and it&#39;s represented as an UTF8 encoded byte array. What is the cost of the operation?","body":"Suppose you want to access the 576th char of the string, and it&#39;s represented as an UTF8 encoded byte array. What is the cost of the operation?"},{"owner":{"account_id":1170317,"reputation":1607,"user_id":1147648,"accept_rate":89,"display_name":"FZE"},"score":0,"creation_date":1459004161,"post_id":36236364,"comment_id":60103994,"body_markdown":"hmm, sure I missed the point of cursoring. It have to compute all of the X byte to decide which charachter is it. Then they decided to sacrifice memory against the cpu.","body":"hmm, sure I missed the point of cursoring. It have to compute all of the X byte to decide which charachter is it. Then they decided to sacrifice memory against the cpu."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1459004740,"post_id":36236364,"comment_id":60104203,"body_markdown":"Strings are immutable - it is possible (and it still would be possible to retrofit this without breaking existing *Java* code [it would probably break JNI]) to store strings with only codes 0-255 in an 8-bit encoding, and strings with other codes in 16-bit like it is now. But it seems that the need for this isn&#39;t very high (at least I haven&#39;t seen a big demand for this).","body":"Strings are immutable - it is possible (and it still would be possible to retrofit this without breaking existing <i>Java</i> code [it would probably break JNI]) to store strings with only codes 0-255 in an 8-bit encoding, and strings with other codes in 16-bit like it is now. But it seems that the need for this isn&#39;t very high (at least I haven&#39;t seen a big demand for this)."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":7,"creation_date":1459012819,"post_id":36236364,"comment_id":60107012,"body_markdown":"@ErwinBolwidt it&#39;s actually [scheduled for Java 9](http://openjdk.java.net/jeps/254)","body":"@ErwinBolwidt it&#39;s actually <a href=\"http://openjdk.java.net/jeps/254\" rel=\"nofollow noreferrer\">scheduled for Java 9</a>"},{"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1463637440,"post_id":36236364,"comment_id":62150110,"body_markdown":"Good question. Also, good answers [here](http://stackoverflow.com/questions/3240498/why-does-the-java-ecosystem-use-different-character-encodings-throughout-their-s) and [here](http://programmers.stackexchange.com/questions/174947/why-does-java-use-utf-16-for-internal-string-representation).","body":"Good question. Also, good answers <a href=\"http://stackoverflow.com/questions/3240498/why-does-the-java-ecosystem-use-different-character-encodings-throughout-their-s\">here</a> and <a href=\"http://programmers.stackexchange.com/questions/174947/why-does-java-use-utf-16-for-internal-string-representation\">here</a>."},{"owner":{"account_id":182496,"reputation":1724,"user_id":417239,"accept_rate":44,"display_name":"Cedric Mamo"},"score":3,"creation_date":1463690022,"post_id":36236364,"comment_id":62185020,"body_markdown":"It&#39;s safER to just go to the (576*2)th byte in a UTF16 string to find the 576th character. But UTF16 still allows for 32 bit characters (two 16-bit code points). afaik, java (and c# as well for that matter) just ignore this when accessing the Nth character in a string, meaning you could either end up at a different character than you expected to, or end up with half a character.","body":"It&#39;s safER to just go to the (576*2)th byte in a UTF16 string to find the 576th character. But UTF16 still allows for 32 bit characters (two 16-bit code points). afaik, java (and c# as well for that matter) just ignore this when accessing the Nth character in a string, meaning you could either end up at a different character than you expected to, or end up with half a character."},{"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"score":0,"creation_date":1471922908,"post_id":36236364,"comment_id":65531256,"body_markdown":"In UTF-8, the character 字 needs not just 2, but the 3 bytes `e5 ad 97`.","body":"In UTF-8, the character 字 needs not just 2, but the 3 bytes <code>e5 ad 97</code>."},{"owner":{"account_id":1767083,"reputation":8342,"user_id":1612701,"accept_rate":60,"display_name":"Cody Piersall"},"score":1,"creation_date":1500314614,"post_id":36236364,"comment_id":77270719,"body_markdown":"@JBNizet your rhetorical question is misleading: UTF8  and UTF16 have the same performance in that case. Unless the JVM keeps track of whether the string has only BMP code points and optimizes for that case.","body":"@JBNizet your rhetorical question is misleading: UTF8  and UTF16 have the same performance in that case. Unless the JVM keeps track of whether the string has only BMP code points and optimizes for that case."},{"owner":{"account_id":169541,"reputation":5448,"user_id":395685,"accept_rate":100,"display_name":"Nyerguds"},"score":0,"creation_date":1539333571,"post_id":36236364,"comment_id":92472874,"body_markdown":"The .Net framework does this too... no clue why. Weird early design decisions I guess.","body":"The .Net framework does this too... no clue why. Weird early design decisions I guess."}],"answers":[{"tags":[],"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"down_vote_count":7,"up_vote_count":6,"is_accepted":false,"score":-1,"last_activity_date":1676984159,"creation_date":1459002796,"answer_id":36236511,"question_id":36236364,"body_markdown":"Historically, one reason was the performance characteristics of random access or iterating over the characters of a String:\r\n\r\nUTF-8 encoding uses a variable number (1-4) bytes to encode a Unicode character. Therefore accessing a character by index: `String.charAt(i)` would be way more complicated to implement and slower than the array access used by `java.lang.String`.\r\n\r\nEven today, Python uses a fixed-width format for Strings internally, storing either 1, 2, or 4 bytes per character depending on the maximum size of a character in that string.\r\n\r\nOf course, this is no longer a pure benefit in Java, since, as [nj_ explains](https://stackoverflow.com/a/36236799/1048186), Java no longer uses a fixed-with format.  But at the time the language was developed, Unicode was a fixed-width format (now called UCS-2), and this would have been an advantage.","title":"Why does Java char use UTF-16?","body":"<p>Historically, one reason was the performance characteristics of random access or iterating over the characters of a String:</p>\n<p>UTF-8 encoding uses a variable number (1-4) bytes to encode a Unicode character. Therefore accessing a character by index: <code>String.charAt(i)</code> would be way more complicated to implement and slower than the array access used by <code>java.lang.String</code>.</p>\n<p>Even today, Python uses a fixed-width format for Strings internally, storing either 1, 2, or 4 bytes per character depending on the maximum size of a character in that string.</p>\n<p>Of course, this is no longer a pure benefit in Java, since, as <a href=\"https://stackoverflow.com/a/36236799/1048186\">nj_ explains</a>, Java no longer uses a fixed-with format.  But at the time the language was developed, Unicode was a fixed-width format (now called UCS-2), and this would have been an advantage.</p>\n"},{"tags":[],"owner":{"account_id":7938503,"reputation":2259,"user_id":5993518,"display_name":"nj_"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1676984293,"creation_date":1459004423,"answer_id":36236799,"question_id":36236364,"body_markdown":"Java used [UCS-2][1] before transitioning over UTF-16 in [2004/2005][2]. The reason for the original choice of UCS-2 is [mainly historical][2]:\r\n\r\n&gt; Unicode was originally designed as a fixed-width 16-bit character encoding. The primitive data type char in the Java programming language was intended to take advantage of this design by providing a simple data type that could hold any character.\r\n\r\nThis, and the birth of UTF-16, is further [explained by the Unicode FAQ page][3]:\r\n\r\n&gt; Originally, Unicode was designed as a pure 16-bit encoding, aimed at representing all modern scripts. (Ancient scripts were to be represented with private-use characters.) Over time, and especially after the addition of over 14,500 composite characters for compatibility with legacy sets, it became clear that 16-bits were not sufficient for the user community. Out of this arose UTF-16.\r\n\r\nAs @wero has [already mentioned][4], random access cannot be done efficiently with UTF-8. So all things weighed up, UCS-2 was seemingly the best choice at the time, particularly as no supplementary characters had been allocated by that stage. This then left UTF-16 as the easiest natural progression beyond that.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/UTF-16#History\r\n  [2]: http://www.oracle.com/technetwork/articles/javase/supplementary-142654.html\r\n  [3]: http://www.unicode.org/faq/utf_bom.html#UTF16\r\n  [4]: https://stackoverflow.com/a/36236511/1048186","title":"Why does Java char use UTF-16?","body":"<p>Java used <a href=\"https://en.wikipedia.org/wiki/UTF-16#History\" rel=\"nofollow noreferrer\">UCS-2</a> before transitioning over UTF-16 in <a href=\"http://www.oracle.com/technetwork/articles/javase/supplementary-142654.html\" rel=\"nofollow noreferrer\">2004/2005</a>. The reason for the original choice of UCS-2 is <a href=\"http://www.oracle.com/technetwork/articles/javase/supplementary-142654.html\" rel=\"nofollow noreferrer\">mainly historical</a>:</p>\n<blockquote>\n<p>Unicode was originally designed as a fixed-width 16-bit character encoding. The primitive data type char in the Java programming language was intended to take advantage of this design by providing a simple data type that could hold any character.</p>\n</blockquote>\n<p>This, and the birth of UTF-16, is further <a href=\"http://www.unicode.org/faq/utf_bom.html#UTF16\" rel=\"nofollow noreferrer\">explained by the Unicode FAQ page</a>:</p>\n<blockquote>\n<p>Originally, Unicode was designed as a pure 16-bit encoding, aimed at representing all modern scripts. (Ancient scripts were to be represented with private-use characters.) Over time, and especially after the addition of over 14,500 composite characters for compatibility with legacy sets, it became clear that 16-bits were not sufficient for the user community. Out of this arose UTF-16.</p>\n</blockquote>\n<p>As @wero has <a href=\"https://stackoverflow.com/a/36236511/1048186\">already mentioned</a>, random access cannot be done efficiently with UTF-8. So all things weighed up, UCS-2 was seemingly the best choice at the time, particularly as no supplementary characters had been allocated by that stage. This then left UTF-16 as the easiest natural progression beyond that.</p>\n"}],"owner":{"account_id":1170317,"reputation":1607,"user_id":1147648,"accept_rate":89,"display_name":"FZE"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6379,"favorite_count":0,"down_vote_count":2,"up_vote_count":32,"accepted_answer_id":36236799,"answer_count":2,"score":30,"last_activity_date":1676984293,"creation_date":1459002056,"question_id":36236364,"body_markdown":"I have been reading about how Unicode code points have evolved over time, including [this article by Joel Spolsky](http://www.joelonsoftware.com/articles/Unicode.html), which says:\r\n\r\n&gt; Some people are under the misconception that Unicode is simply a 16-bit code where each character takes 16 bits and therefore there are 65,536 possible characters. This is not, actually, correct.\r\n\r\nBut despite all this reading, I couldn&#39;t find the real reason that Java uses UTF-16 for a `char`.\r\n\r\nIsn&#39;t UTF-8 far more efficient than UTF-16?  For example, if I had a string which contains 1024 letters of ASCII scoped characters, UTF-16 will take 1024 * 2 bytes (2KB) of memory.\r\n\r\nBut if Java used UTF-8, it would be just 1KB of data. Even if the string has a few character which needs to 2 bytes, it will still only take about a kilobyte. For example, suppose in addition to the 1024 characters, there were 10 characters of &quot;字&quot; (code-point U+5b57, UTF-8 encoding e5 ad 97).  In UTF-8, this will still take only (1024 * 1 byte) + (10 * 3 bytes) = 1KB + 30 bytes.\r\n\r\nSo this doesn&#39;t answer my question.  1KB + 30 bytes for UTF-8 is clearly less memory than 2KB for UTF-16. \r\n\r\nOf course it makes sense that Java doesn&#39;t use ASCII for a char, but why does it not use UTF-8, which has a clean mechanism for handling arbitrary multi-byte characters when they come up?  UTF-16 looks like a waste of memory in any string which has lots of non-multibyte chars.\r\n\r\nIs there some good reason for UTF-16 that I&#39;m missing?","title":"Why does Java char use UTF-16?","body":"<p>I have been reading about how Unicode code points have evolved over time, including <a href=\"http://www.joelonsoftware.com/articles/Unicode.html\" rel=\"nofollow noreferrer\">this article by Joel Spolsky</a>, which says:</p>\n<blockquote>\n<p>Some people are under the misconception that Unicode is simply a 16-bit code where each character takes 16 bits and therefore there are 65,536 possible characters. This is not, actually, correct.</p>\n</blockquote>\n<p>But despite all this reading, I couldn't find the real reason that Java uses UTF-16 for a <code>char</code>.</p>\n<p>Isn't UTF-8 far more efficient than UTF-16?  For example, if I had a string which contains 1024 letters of ASCII scoped characters, UTF-16 will take 1024 * 2 bytes (2KB) of memory.</p>\n<p>But if Java used UTF-8, it would be just 1KB of data. Even if the string has a few character which needs to 2 bytes, it will still only take about a kilobyte. For example, suppose in addition to the 1024 characters, there were 10 characters of &quot;字&quot; (code-point U+5b57, UTF-8 encoding e5 ad 97).  In UTF-8, this will still take only (1024 * 1 byte) + (10 * 3 bytes) = 1KB + 30 bytes.</p>\n<p>So this doesn't answer my question.  1KB + 30 bytes for UTF-8 is clearly less memory than 2KB for UTF-16.</p>\n<p>Of course it makes sense that Java doesn't use ASCII for a char, but why does it not use UTF-8, which has a clean mechanism for handling arbitrary multi-byte characters when they come up?  UTF-16 looks like a waste of memory in any string which has lots of non-multibyte chars.</p>\n<p>Is there some good reason for UTF-16 that I'm missing?</p>\n"},{"tags":["java","oracle-coherence"],"answers":[{"tags":[],"owner":{"account_id":333852,"reputation":1165,"user_id":659922,"accept_rate":56,"display_name":"J.E.Y"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676983504,"creation_date":1676983504,"answer_id":75520726,"question_id":75516531,"body_markdown":"never mind - it&#39;s my stupid mistake: there is a tag in the xml is not close with \r\n\r\n    &lt;/...&gt;\r\n\r\n","title":"oracle coherence client throw pof related error &quot;unknown type: coherence.util.UUID&quot;","body":"<p>never mind - it's my stupid mistake: there is a tag in the xml is not close with</p>\n<pre><code>&lt;/...&gt;\n</code></pre>\n"}],"owner":{"account_id":333852,"reputation":1165,"user_id":659922,"accept_rate":56,"display_name":"J.E.Y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676983504,"creation_date":1676956603,"question_id":75516531,"body_markdown":"I have a task which involves connecting to a remote coherence cluster and retrieve the metrics info of objects in its caches.\r\n\r\nI succeeded in establishing the connection, and correctly retrieve the size of the designated cache, however, when I tried to iterate the entrySet it throws errors.\r\n\r\nI have this JVM options: \r\n\r\n    &quot;-Dtangosol.pof.config=application-pof-config.xml&quot;\r\n\r\napplication-pof-config.xml has something like:\r\n\r\n    &lt;include&gt;another-pof-config.xml&lt;/include&gt;\r\n\r\ninsides &quot;another-pof-config.xml&quot; is a bunch of real \\&lt;user-type\\&gt; tags\r\n\r\nThere are two parts of issues when I tried to tackle it:\r\n\r\nFirst it complains &quot;another-pof-config.xml&quot; is not found - while the file is indeed NOT in the classpath, it&#39;s in a jar which is in the classpath;\r\n\r\nThen I bypassed the original &quot;application-pof.config.xml&quot; and use:\r\n\r\n    &quot;-Dtangosol.pof.config=another-pof-config.xml&quot;\r\n\r\ninstead, I got an error like:\r\n\r\n    Unknown user type: coherence.util.UUID\r\n\r\nI figure that the &quot;UUID&quot; type is in coherence.jar and it&#39;s in the classpath, so I was puzzled what this error means exactly? Looks like it&#39;s found but can&#39;t be understood. \r\n","title":"oracle coherence client throw pof related error &quot;unknown type: coherence.util.UUID&quot;","body":"<p>I have a task which involves connecting to a remote coherence cluster and retrieve the metrics info of objects in its caches.</p>\n<p>I succeeded in establishing the connection, and correctly retrieve the size of the designated cache, however, when I tried to iterate the entrySet it throws errors.</p>\n<p>I have this JVM options:</p>\n<pre><code>&quot;-Dtangosol.pof.config=application-pof-config.xml&quot;\n</code></pre>\n<p>application-pof-config.xml has something like:</p>\n<pre><code>&lt;include&gt;another-pof-config.xml&lt;/include&gt;\n</code></pre>\n<p>insides &quot;another-pof-config.xml&quot; is a bunch of real &lt;user-type&gt; tags</p>\n<p>There are two parts of issues when I tried to tackle it:</p>\n<p>First it complains &quot;another-pof-config.xml&quot; is not found - while the file is indeed NOT in the classpath, it's in a jar which is in the classpath;</p>\n<p>Then I bypassed the original &quot;application-pof.config.xml&quot; and use:</p>\n<pre><code>&quot;-Dtangosol.pof.config=another-pof-config.xml&quot;\n</code></pre>\n<p>instead, I got an error like:</p>\n<pre><code>Unknown user type: coherence.util.UUID\n</code></pre>\n<p>I figure that the &quot;UUID&quot; type is in coherence.jar and it's in the classpath, so I was puzzled what this error means exactly? Looks like it's found but can't be understood.</p>\n"},{"tags":["java","scala","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":11179248,"reputation":11890,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":1,"creation_date":1667989550,"post_id":74362444,"comment_id":131297452,"body_markdown":"Seems you are trying to install Scala plugin that is not compatible (it has 2022.3 version but your IDE is 2022.2). Try downloading different version of the plugin: https://i.imgur.com/rtBBMzB.png","body":"Seems you are trying to install Scala plugin that is not compatible (it has 2022.3 version but your IDE is 2022.2). Try downloading different version of the plugin: <a href=\"https://i.imgur.com/rtBBMzB.png\" rel=\"nofollow noreferrer\">i.imgur.com/rtBBMzB.png</a>"},{"owner":{"account_id":1093238,"reputation":92,"user_id":1087388,"display_name":"Sujay"},"score":0,"creation_date":1668059117,"post_id":74362444,"comment_id":131316411,"body_markdown":"No Help. Updating screenshots with the version suggested.","body":"No Help. Updating screenshots with the version suggested."}],"answers":[{"tags":[],"owner":{"account_id":13456086,"reputation":31,"user_id":9709630,"display_name":"Manji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668394453,"creation_date":1668314383,"answer_id":74418501,"question_id":74362444,"body_markdown":"**If you are getting above error in your virtual machine than please follow below steps this worked for me:**\r\n\r\n 1. Download the compatible scala plugin from https://plugins.jetbrains.com/plugin/1347-scala/versions in your local machine system\r\n[![enter image description here][1]][1]\r\n 2. Upload the zip file to your one drive from local machine system\r\n 3. To go your virtual machine and download this zip file from your one drive\r\n 4. Use import plugin from disk option in intelliJ IDE and use the downloaded zip file.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ar7KH.png\r\n  [2]: https://i.stack.imgur.com/wb31Y.png","title":"IntelliJ scala plugin Invalid END header (bad central directory offset)","body":"<p><strong>If you are getting above error in your virtual machine than please follow below steps this worked for me:</strong></p>\n<ol>\n<li>Download the compatible scala plugin from <a href=\"https://plugins.jetbrains.com/plugin/1347-scala/versions\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/1347-scala/versions</a> in your local machine system\n<a href=\"https://i.stack.imgur.com/ar7KH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ar7KH.png\" alt=\"enter image description here\" /></a></li>\n<li>Upload the zip file to your one drive from local machine system</li>\n<li>To go your virtual machine and download this zip file from your one drive</li>\n<li>Use import plugin from disk option in intelliJ IDE and use the downloaded zip file.\n<a href=\"https://i.stack.imgur.com/wb31Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wb31Y.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10974567,"reputation":101,"user_id":8063630,"display_name":"Prashant_Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676983437,"creation_date":1676983437,"answer_id":75520713,"question_id":74362444,"body_markdown":"Please check if the Netskope client is running in your VM/VDI, if it is running you&#39;d need to disable it and then try to install the plugins the usual way. It would let you install the plugins. In my case, it was the netskope client that was causing this issue inside my VDI. Once disabled, I was able to install the plugins. Please see if another Netskope alternate application is running in your system.","title":"IntelliJ scala plugin Invalid END header (bad central directory offset)","body":"<p>Please check if the Netskope client is running in your VM/VDI, if it is running you'd need to disable it and then try to install the plugins the usual way. It would let you install the plugins. In my case, it was the netskope client that was causing this issue inside my VDI. Once disabled, I was able to install the plugins. Please see if another Netskope alternate application is running in your system.</p>\n"}],"owner":{"account_id":1093238,"reputation":92,"user_id":1087388,"display_name":"Sujay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1676983437,"creation_date":1667917949,"question_id":74362444,"body_markdown":"**I am trying to install Scala Plugin to IntelliJ IDE. I have tried both ways available, one is from Marketplace, and another is from local disk.Getting error** `Invalid END header (bad central directory offset)` \r\n\r\n**Step followed: **\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Error: **\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Important Note:** \r\n1) I am using Java version 18.0.2 and IntelliJ version 2022.2.3.\r\n2) I am using machine which having organisational firewall.\r\n3) Even unable to update existing plugin Kotlin from update option, same error getting occured. \r\n\r\n*#Scala #Intellij #Intellijplugin*\r\n\r\nExpecting to install scala plugin. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YMctV.jpg\r\n  [2]: https://i.stack.imgur.com/YGi6Z.jpg","title":"IntelliJ scala plugin Invalid END header (bad central directory offset)","body":"<p><strong>I am trying to install Scala Plugin to IntelliJ IDE. I have tried both ways available, one is from Marketplace, and another is from local disk.Getting error</strong> <code>Invalid END header (bad central directory offset)</code></p>\n<p>**Step followed: **</p>\n<p><a href=\"https://i.stack.imgur.com/YMctV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YMctV.jpg\" alt=\"enter image description here\" /></a></p>\n<p>**Error: **</p>\n<p><a href=\"https://i.stack.imgur.com/YGi6Z.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YGi6Z.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Important Note:</strong></p>\n<ol>\n<li>I am using Java version 18.0.2 and IntelliJ version 2022.2.3.</li>\n<li>I am using machine which having organisational firewall.</li>\n<li>Even unable to update existing plugin Kotlin from update option, same error getting occured.</li>\n</ol>\n<p><em>#Scala #Intellij #Intellijplugin</em></p>\n<p>Expecting to install scala plugin.</p>\n"},{"tags":["java","aerospike"],"answers":[{"tags":[],"owner":{"account_id":20706132,"reputation":795,"user_id":15203960,"display_name":"Roi Menashe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676983277,"creation_date":1676983277,"answer_id":75520676,"question_id":75495026,"body_markdown":"Aerospike Java Object Mapper is a library that wraps the Aerospike Java Client which aims to lower the amount of code required when mapping POJOs (Plain Old Java Objects) to Aerospike and back as well as reducing some of the brittleness of the code.\r\n\r\n`AeroMapper` is the main interface of the Java Object Mapper project and is not part of Aerospike Java Client.\r\n\r\nThe `query()` interface you used gets a `QueryPolicy` (that can contain a Filter Expression), a `class` (as you mentioned) and a `Filter` (Not a Filter Expression, a Filter is a secondary index based filter).\r\n\r\nI suggest you read the GitHub README of Java Object Mapper - especially &quot;Query&quot; section:\r\n\r\nhttps://github.com/aerospike/java-object-mapper#queries\r\n\r\nAnd also checkout a query example from the GitHub repository tests that uses both Filter Expression and Filter (for applying 2 filters: 1 on a secondary index and 1 on the returned results):\r\n\r\nhttps://github.com/aerospike/java-object-mapper/blob/main/src/test/java/com/aerospike/mapper/QueryTest.java#L150\r\n\r\nAnother tip: add your code, your expected results and the actual results that you get, this will make debugging much easier.","title":"How to use Aerospike aeroMapper.query method without the filter argument using java client","body":"<p>Aerospike Java Object Mapper is a library that wraps the Aerospike Java Client which aims to lower the amount of code required when mapping POJOs (Plain Old Java Objects) to Aerospike and back as well as reducing some of the brittleness of the code.</p>\n<p><code>AeroMapper</code> is the main interface of the Java Object Mapper project and is not part of Aerospike Java Client.</p>\n<p>The <code>query()</code> interface you used gets a <code>QueryPolicy</code> (that can contain a Filter Expression), a <code>class</code> (as you mentioned) and a <code>Filter</code> (Not a Filter Expression, a Filter is a secondary index based filter).</p>\n<p>I suggest you read the GitHub README of Java Object Mapper - especially &quot;Query&quot; section:</p>\n<p><a href=\"https://github.com/aerospike/java-object-mapper#queries\" rel=\"nofollow noreferrer\">https://github.com/aerospike/java-object-mapper#queries</a></p>\n<p>And also checkout a query example from the GitHub repository tests that uses both Filter Expression and Filter (for applying 2 filters: 1 on a secondary index and 1 on the returned results):</p>\n<p><a href=\"https://github.com/aerospike/java-object-mapper/blob/main/src/test/java/com/aerospike/mapper/QueryTest.java#L150\" rel=\"nofollow noreferrer\">https://github.com/aerospike/java-object-mapper/blob/main/src/test/java/com/aerospike/mapper/QueryTest.java#L150</a></p>\n<p>Another tip: add your code, your expected results and the actual results that you get, this will make debugging much easier.</p>\n"}],"owner":{"account_id":21046038,"reputation":55,"user_id":15467350,"display_name":"TeaSea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676983423,"creation_date":1676740587,"question_id":75495026,"body_markdown":"I am trying to use Aerospike AeroMapper&#39;s query method through java client and the record selection logic is written in the policy so I have no need to pass any filter in the method.\r\n\r\n    policy.filterExp = getResultPolicy();\r\n    results = aeroMapper.query(policy, ResultDto.class, null);\r\n\r\nI&#39;m passing null for the 3rd argument which is the Filter expression and not getting the expected results. Am I missing something?\r\n\r\nI also explored `AerospikeClient` methods which would match my requirement but no luck.","title":"How to use Aerospike aeroMapper.query method without the filter argument using java client","body":"<p>I am trying to use Aerospike AeroMapper's query method through java client and the record selection logic is written in the policy so I have no need to pass any filter in the method.</p>\n<pre><code>policy.filterExp = getResultPolicy();\nresults = aeroMapper.query(policy, ResultDto.class, null);\n</code></pre>\n<p>I'm passing null for the 3rd argument which is the Filter expression and not getting the expected results. Am I missing something?</p>\n<p>I also explored <code>AerospikeClient</code> methods which would match my requirement but no luck.</p>\n"},{"tags":["java","spring-boot","jpa","firebird","hibernate-mapping"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676666682,"post_id":75488792,"comment_id":133190670,"body_markdown":"I don&#39;t follow - why would you add a &#39;projection&#39; method set to return a List&lt;Object&gt;  that really just creates a view object in the database? Creating a view is a one time operation that doesn&#39;t return objects, not something your app would need to (or even should) call repeatedly. The article you&#39;ve linked shows how to use a view and back it in Hibernate with an entity for queries - how does this tie into a different database exactly?","body":"I don&#39;t follow - why would you add a &#39;projection&#39; method set to return a List&lt;Object&gt;  that really just creates a view object in the database? Creating a view is a one time operation that doesn&#39;t return objects, not something your app would need to (or even should) call repeatedly. The article you&#39;ve linked shows how to use a view and back it in Hibernate with an entity for queries - how does this tie into a different database exactly?"},{"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"score":0,"creation_date":1676667912,"post_id":75488792,"comment_id":133190938,"body_markdown":"i followed this classroom for multi database connections : https://www.youtube.com/watch?v=o2dGEBj2750","body":"i followed this classroom for multi database connections : <a href=\"https://www.youtube.com/watch?v=o2dGEBj2750\" rel=\"nofollow noreferrer\">youtube.com/watch?v=o2dGEBj2750</a>"},{"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"score":0,"creation_date":1676667997,"post_id":75488792,"comment_id":133190958,"body_markdown":"now I have a @Query that returns a view, and this query would like to apply to another database","body":"now I have a @Query that returns a view, and this query would like to apply to another database"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676668194,"post_id":75488792,"comment_id":133190996,"body_markdown":"The classroom should have told you how to deal with entities in multiple databases - why is this different, what problems are you hitting?","body":"The classroom should have told you how to deal with entities in multiple databases - why is this different, what problems are you hitting?"},{"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"score":0,"creation_date":1676674094,"post_id":75488792,"comment_id":133192108,"body_markdown":"the problem is that this reading that returns me to the query, I can&#39;t get it to fall into a table in another bank, but I see that what I want would be wrong or unlikely to happen","body":"the problem is that this reading that returns me to the query, I can&#39;t get it to fall into a table in another bank, but I see that what I want would be wrong or unlikely to happen"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676704668,"post_id":75488792,"comment_id":133194933,"body_markdown":"1) Firebird doesn&#39;t have `CREATE OR REPLACE VIEW` (it is `CREATE OR ALTER VIEW` or `RECREATE VIEW`), 2) that is DDL, and you can&#39;t execute it as a query and expect it to return a list of something. It is unclear to me what you&#39;re asking.","body":"1) Firebird doesn&#39;t have <code>CREATE OR REPLACE VIEW</code> (it is <code>CREATE OR ALTER VIEW</code> or <code>RECREATE VIEW</code>), 2) that is DDL, and you can&#39;t execute it as a query and expect it to return a list of something. It is unclear to me what you&#39;re asking."}],"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676982994,"creation_date":1676664239,"question_id":75488792,"body_markdown":"I need to extract a view that is coming out of a @Query in my repository to a table in another database, I&#39;m in a Multi-Tenacy connection, in it I have a view that I can visualize, and this view wanted to transport it directly to a table of another bank that is connected with the API,\r\nit would look a bit like this example:\r\n[site](https://vladmihalcea.com/map-jpa-entity-to-view-or-sql-query-with-hibernate/)\r\n\r\n```\r\n@Repository\r\npublic interface example extends JpaRepository&lt;example,Long&gt;{\r\n\r\n    @Query(nativeQuery = true, value = &quot;CREATE OR REPLACE VIEW example AS SELECT &quot; +\r\n            &quot;    example,&quot; +\r\n            &quot;    example,&quot; +\r\n            &quot;    example,&quot; +\r\n            &quot;    example,&quot; +\r\n            &quot;    example,&quot; +\r\n            &quot;    example,&quot; +\r\n            &quot;   example,&quot; +\r\n            &quot;   example,&quot; +\r\n            &quot;    example,&quot; +\r\n            &quot;    example,&quot; +\r\n            &quot;    example,&quot; +\r\n            &quot;    example,&quot; +\r\n            &quot;    example,&quot; +\r\n            &quot;    example&quot; )\r\n    List&lt;Object&gt; projection();`\r\n```\r\n\r\n\r\nthis view above it returns everything as expected, now I wanted it to go straight to a table in another bank in my Multi-Tenacy connection\r\n\r\nMy @GetMapping\r\n\r\n```\r\n@GetMapping\r\npublic List&lt;Object&gt; projecao(){\r\n\treturn repository.projection2();\r\n}\r\n```","title":"How to wrap the query in a view in the database","body":"<p>I need to extract a view that is coming out of a @Query in my repository to a table in another database, I'm in a Multi-Tenacy connection, in it I have a view that I can visualize, and this view wanted to transport it directly to a table of another bank that is connected with the API,\nit would look a bit like this example:\n<a href=\"https://vladmihalcea.com/map-jpa-entity-to-view-or-sql-query-with-hibernate/\" rel=\"nofollow noreferrer\">site</a></p>\n<pre><code>@Repository\npublic interface example extends JpaRepository&lt;example,Long&gt;{\n\n    @Query(nativeQuery = true, value = &quot;CREATE OR REPLACE VIEW example AS SELECT &quot; +\n            &quot;    example,&quot; +\n            &quot;    example,&quot; +\n            &quot;    example,&quot; +\n            &quot;    example,&quot; +\n            &quot;    example,&quot; +\n            &quot;    example,&quot; +\n            &quot;   example,&quot; +\n            &quot;   example,&quot; +\n            &quot;    example,&quot; +\n            &quot;    example,&quot; +\n            &quot;    example,&quot; +\n            &quot;    example,&quot; +\n            &quot;    example,&quot; +\n            &quot;    example&quot; )\n    List&lt;Object&gt; projection();`\n</code></pre>\n<p>this view above it returns everything as expected, now I wanted it to go straight to a table in another bank in my Multi-Tenacy connection</p>\n<p>My @GetMapping</p>\n<pre><code>@GetMapping\npublic List&lt;Object&gt; projecao(){\n    return repository.projection2();\n}\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":2928776,"reputation":672,"user_id":2509574,"accept_rate":100,"display_name":"actc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676982625,"creation_date":1676982141,"answer_id":75520472,"question_id":75520430,"body_markdown":"You might need to escape the String literals &quot; to not end the string prematurely.\r\n\r\n^(?!\\s)((?![_-=^\\\\&quot;:?&lt;&gt;^$!@#%&amp;/~\\](){}[|+=\\\\&quot;:;&#39;?&gt;&lt;,|]).)*$\r\n\r\nshould to the trick. Note the preceeding \\ in front of each &quot;\r\n\r\nThis should lead you to a line like this:\r\n\r\n```java\r\nString regex = &quot;^(?!\\s)((?![_-=^\\&quot;:?&lt;&gt;^$!@#%&amp;/~\\](){}[|+=\\&quot;:;&#39;?&gt;&lt;,|]).)*$&quot;;\r\n```\r\n\r\nIf the regex does not work as intended, you might need to add a double escaping back slash like:\r\n\r\n```java\r\nString regex = &quot;^(?!\\s)((?![_-=^\\\\&quot;:?&lt;&gt;^$!@#%&amp;/~\\](){}[|+=\\\\&quot;:;&#39;?&gt;&lt;,|]).)*$&quot;;\r\n```","title":"getting Unclosed character class near index when using this regex in my java programme ^(?!\\s)((?![_\\-=^&quot;:*?&lt;&gt;^$!@#%&amp;\\/\\~*\\\\\\]\\(){}[|+=&quot;:;&#39;?&gt;&lt;,|]).)*$","body":"<p>You might need to escape the String literals &quot; to not end the string prematurely.</p>\n<p>^(?!\\s)((?![_-=^\\&quot;:?&lt;&gt;^$!@#%&amp;/~](){}[|+=\\&quot;:;'?&gt;&lt;,|]).)*$</p>\n<p>should to the trick. Note the preceeding \\ in front of each &quot;</p>\n<p>This should lead you to a line like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;^(?!\\s)((?![_-=^\\&quot;:?&lt;&gt;^$!@#%&amp;/~\\](){}[|+=\\&quot;:;'?&gt;&lt;,|]).)*$&quot;;\n</code></pre>\n<p>If the regex does not work as intended, you might need to add a double escaping back slash like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;^(?!\\s)((?![_-=^\\\\&quot;:?&lt;&gt;^$!@#%&amp;/~\\](){}[|+=\\\\&quot;:;'?&gt;&lt;,|]).)*$&quot;;\n</code></pre>\n"}],"owner":{"account_id":27841540,"reputation":1,"user_id":21257914,"display_name":"Prabhat Shukla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1676982704,"creation_date":1676981908,"question_id":75520430,"body_markdown":"getting Unclosed character class near index 62 when using this regex in my java programm\r\n\r\n\r\n```\r\n^(?!\\s)((?![_\\-=^&quot;:*?&lt;&gt;^$!@#%&amp;\\/\\~*\\\\\\]\\(){}[|+=&quot;:;&#39;?&gt;&lt;,|]).)*$\r\n```\r\n\r\nHow to resolve it \r\n\r\nPlease tell me how to resolve this error what changes needed to be make to get rid of it","title":"getting Unclosed character class near index when using this regex in my java programme ^(?!\\s)((?![_\\-=^&quot;:*?&lt;&gt;^$!@#%&amp;\\/\\~*\\\\\\]\\(){}[|+=&quot;:;&#39;?&gt;&lt;,|]).)*$","body":"<p>getting Unclosed character class near index 62 when using this regex in my java programm</p>\n<pre><code>^(?!\\s)((?![_\\-=^&quot;:*?&lt;&gt;^$!@#%&amp;\\/\\~*\\\\\\]\\(){}[|+=&quot;:;'?&gt;&lt;,|]).)*$\n</code></pre>\n<p>How to resolve it</p>\n<p>Please tell me how to resolve this error what changes needed to be make to get rid of it</p>\n"},{"tags":["java","android","facebook","reactjs","react-native"],"answers":[{"tags":[],"owner":{"account_id":6845894,"reputation":180,"user_id":5264734,"display_name":"Lorine"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1525442073,"creation_date":1525442073,"answer_id":50176633,"question_id":49542654,"body_markdown":"I also had these errors when trying to upgrade React Native.\r\nI have seen people resolve those by cleaning gradlew cache (`./gradlew clean` in Android project folder) or deleting the whole `.gradle` folder (in Android project folder also).\r\n\r\nBut that did not work for me. My issue was in the `android/build.gradle` file. I previously had to add a maven repository for another package and had done it that way:\r\n\r\n    maven {\r\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n            url &quot;$rootDir/../node_modules/react-native/android&quot;\r\n\r\n            // The following is NOT the right way\r\n            url &quot;https://maven.google.com&quot;\r\n        }\r\n\r\nbut it is said in the [Android docs][1] that every maven repository should be in its own `maven {}` block.\r\n\r\nThus the solution that worked for me was to do that:\r\n\r\n    maven {\r\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n            url &quot;$rootDir/../node_modules/react-native/android&quot;\r\n        }\r\n\r\n    maven {\r\n            url &quot;https://maven.google.com&quot;\r\n        }\r\n\r\n\r\nHope it will help, and good luck for your react upgrade! ;)\r\n\r\n  [1]: https://developer.android.com/studio/build/dependencies.html","title":"React native: error: cannot find symbol after upgrade","body":"<p>I also had these errors when trying to upgrade React Native.\nI have seen people resolve those by cleaning gradlew cache (<code>./gradlew clean</code> in Android project folder) or deleting the whole <code>.gradle</code> folder (in Android project folder also).</p>\n\n<p>But that did not work for me. My issue was in the <code>android/build.gradle</code> file. I previously had to add a maven repository for another package and had done it that way:</p>\n\n<pre><code>maven {\n        // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n        url \"$rootDir/../node_modules/react-native/android\"\n\n        // The following is NOT the right way\n        url \"https://maven.google.com\"\n    }\n</code></pre>\n\n<p>but it is said in the <a href=\"https://developer.android.com/studio/build/dependencies.html\" rel=\"noreferrer\">Android docs</a> that every maven repository should be in its own <code>maven {}</code> block.</p>\n\n<p>Thus the solution that worked for me was to do that:</p>\n\n<pre><code>maven {\n        // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n        url \"$rootDir/../node_modules/react-native/android\"\n    }\n\nmaven {\n        url \"https://maven.google.com\"\n    }\n</code></pre>\n\n<p>Hope it will help, and good luck for your react upgrade! ;)</p>\n"},{"tags":[],"owner":{"account_id":977193,"reputation":1097,"user_id":2734492,"display_name":"SimonEritsch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536316369,"creation_date":1536316369,"answer_id":52220660,"question_id":49542654,"body_markdown":"I had a similar issue and all the advice I found didn&#39;t help, so I&#39;m dropping this for anyone else having the same issue.\r\n\r\nFor me it turned out to be a 3rd party package (pushwoosh-react-native-plugin) that compiled/implemented a static version of react-native in it&#39;s build.gradle file.\r\n\r\nI managed to find it, by \r\n\r\n - going to my app/build.gradle\r\n - commented out all my compiles/implementation on dependencies\r\n - added them one by one until i got the same error\r\n\r\nAs said above:\r\nIt turned out to be the pushwoosh build.gradle file that had the following dependency defined:\r\n    \r\n    dependencies {\r\n        ...\r\n        compile &#39;com.facebook.react:react-native:0.20.1&#39;\r\n        ...\r\n    }\r\n\r\nSo i went ahead and changed it right on the spot to &quot;+&quot;\r\n\r\n    dependencies {\r\n        ...\r\n        compile &#39;com.facebook.react:react-native:+&#39;\r\n        ...\r\n    }\r\n\r\n\r\n**The &quot;+&quot; means:**\r\nthe latest available version where each of the leading SEMVER components match the pattern provided","title":"React native: error: cannot find symbol after upgrade","body":"<p>I had a similar issue and all the advice I found didn't help, so I'm dropping this for anyone else having the same issue.</p>\n\n<p>For me it turned out to be a 3rd party package (pushwoosh-react-native-plugin) that compiled/implemented a static version of react-native in it's build.gradle file.</p>\n\n<p>I managed to find it, by </p>\n\n<ul>\n<li>going to my app/build.gradle</li>\n<li>commented out all my compiles/implementation on dependencies</li>\n<li>added them one by one until i got the same error</li>\n</ul>\n\n<p>As said above:\nIt turned out to be the pushwoosh build.gradle file that had the following dependency defined:</p>\n\n<pre><code>dependencies {\n    ...\n    compile 'com.facebook.react:react-native:0.20.1'\n    ...\n}\n</code></pre>\n\n<p>So i went ahead and changed it right on the spot to \"+\"</p>\n\n<pre><code>dependencies {\n    ...\n    compile 'com.facebook.react:react-native:+'\n    ...\n}\n</code></pre>\n\n<p><strong>The \"+\" means:</strong>\nthe latest available version where each of the leading SEMVER components match the pattern provided</p>\n"},{"tags":[],"owner":{"account_id":7541949,"reputation":309,"user_id":5726251,"display_name":"mic123456"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1544720415,"creation_date":1544720415,"answer_id":53766720,"question_id":49542654,"body_markdown":"Happened to me too after detach my react-native project from Expo.\r\n\r\nAs I answered here:\r\n\r\n[My answer][1]\r\n\r\nin order to fix the issue I had to:\r\n\r\n 1. in package.js I changed:\r\n \r\n\r\n    &quot;react-native&quot;: &quot;https://github.com/expo/react-native/archive/sdk-29.0.0.tar.gz&quot;,\r\n\r\n to :\r\n\r\n    &quot;react-native&quot;: &quot;^0.57.8&quot;,\r\n\r\n 2. delete node_modules file\r\n 3. run npm install\r\n 3. delete &#39;.gradle&#39; folder from android project and sync project.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/49120454/cannot-resolve-symbol-reactapplication-reactnativehost/53766604#53766604","title":"React native: error: cannot find symbol after upgrade","body":"<p>Happened to me too after detach my react-native project from Expo.</p>\n\n<p>As I answered here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/49120454/cannot-resolve-symbol-reactapplication-reactnativehost/53766604#53766604\">My answer</a></p>\n\n<p>in order to fix the issue I had to:</p>\n\n<ol>\n<li><p>in package.js I changed:</p>\n\n<p>\"react-native\": \"<a href=\"https://github.com/expo/react-native/archive/sdk-29.0.0.tar.gz\" rel=\"noreferrer\">https://github.com/expo/react-native/archive/sdk-29.0.0.tar.gz</a>\",</p>\n\n<p>to :</p>\n\n<p>\"react-native\": \"^0.57.8\",</p></li>\n<li><p>delete node_modules file</p></li>\n<li>run npm install</li>\n<li>delete '.gradle' folder from android project and sync project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4251477,"reputation":783,"user_id":3478412,"accept_rate":25,"display_name":"Marcus"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1549575106,"creation_date":1549575106,"answer_id":54582622,"question_id":49542654,"body_markdown":"First: install all dependencies using **yarn** or **npm**;\r\n\r\nSecond: use the code below to link native dependencies on iOS and Android native code;\r\n```\r\nreact-native link\r\n```\r\n\r\nThird: this error can occur because you RN version is different from Android&#39;s build.gradle version. When you create a react-native app probably it create android app like:\r\n\r\n```\r\nandroid/app/build.gradle\r\n\r\nimplementation &quot;com.facebook.react:react-native:+&quot;\r\n```\r\nSo, inspect you node_modules folder, look for react-native folder and look for a folder with a number, that numbers are react-native version. For me it&#39;s **0.58.3** then update **android/app/build.gradle**:\r\n\r\n```\r\nimplementation &quot;com.facebook.react:react-native:0.58.3&quot;\r\n```\r\n\r\nIt&#39;s All.","title":"React native: error: cannot find symbol after upgrade","body":"<p>First: install all dependencies using <strong>yarn</strong> or <strong>npm</strong>;</p>\n\n<p>Second: use the code below to link native dependencies on iOS and Android native code;</p>\n\n<pre><code>react-native link\n</code></pre>\n\n<p>Third: this error can occur because you RN version is different from Android's build.gradle version. When you create a react-native app probably it create android app like:</p>\n\n<pre><code>android/app/build.gradle\n\nimplementation \"com.facebook.react:react-native:+\"\n</code></pre>\n\n<p>So, inspect you node_modules folder, look for react-native folder and look for a folder with a number, that numbers are react-native version. For me it's <strong>0.58.3</strong> then update <strong>android/app/build.gradle</strong>:</p>\n\n<pre><code>implementation \"com.facebook.react:react-native:0.58.3\"\n</code></pre>\n\n<p>It's All.</p>\n"},{"tags":[],"owner":{"account_id":6110137,"reputation":596,"user_id":8463207,"display_name":"Thremulant"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620413397,"creation_date":1620413397,"answer_id":67440275,"question_id":49542654,"body_markdown":"The problem for me appeared after I renamed the packages in the app. I used this to rename them:\r\n\r\n    npm install react-native-rename -g\r\n    react-native-rename &quot;MyApp&quot; -b com.mycompany.myapp\r\n\r\nAnd there were a couple of lines that I needed to update manually:\r\n\r\n - android/app/src/main/java/com/winryde/MainActivity.java \r\n- android/app/src/main/java/com/winryde/MainApplication.java\r\n- android/app/src/debug/java/com/winryde/ReactNativeFlipper.java\r\n\r\nI just searched for **com.companyname** and changed to the new name. ","title":"React native: error: cannot find symbol after upgrade","body":"<p>The problem for me appeared after I renamed the packages in the app. I used this to rename them:</p>\n<pre><code>npm install react-native-rename -g\nreact-native-rename &quot;MyApp&quot; -b com.mycompany.myapp\n</code></pre>\n<p>And there were a couple of lines that I needed to update manually:</p>\n<ul>\n<li>android/app/src/main/java/com/winryde/MainActivity.java</li>\n<li>android/app/src/main/java/com/winryde/MainApplication.java</li>\n<li>android/app/src/debug/java/com/winryde/ReactNativeFlipper.java</li>\n</ul>\n<p>I just searched for <strong>com.companyname</strong> and changed to the new name.</p>\n"},{"tags":[],"owner":{"account_id":17994370,"reputation":1,"user_id":13077769,"display_name":"M Nouman Saeed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668061533,"creation_date":1667997043,"answer_id":74374915,"question_id":49542654,"body_markdown":" 1. Uninstall react-native-reanimated previous version.\r\n 2. cd android\r\n 3. ./gradlew clean\r\n 4. cd ..\r\n 5. install react-native-reanimated@2.12.0","title":"React native: error: cannot find symbol after upgrade","body":"<ol>\n<li>Uninstall react-native-reanimated previous version.</li>\n<li>cd android</li>\n<li>./gradlew clean</li>\n<li>cd ..</li>\n<li>install react-native-reanimated@2.12.0</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":27572862,"reputation":11,"user_id":21043709,"display_name":"Amber Bharti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676982628,"creation_date":1676571100,"answer_id":75476332,"question_id":49542654,"body_markdown":"I had the same issue i reslolve it with this command\r\n```\r\nnpx create react app myapp\r\n```","title":"React native: error: cannot find symbol after upgrade","body":"<p>I had the same issue i reslolve it with this command</p>\n<pre><code>npx create react app myapp\n</code></pre>\n"}],"owner":{"account_id":13205366,"reputation":199,"user_id":9537314,"accept_rate":75,"display_name":"Chris Henry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45748,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":7,"score":11,"last_activity_date":1676982628,"creation_date":1522265224,"question_id":49542654,"body_markdown":"Hi after importing my react native project expo and upgrading react, I&#39;ve been have the following problems. \r\n\r\n\r\n&gt; C:\\Users\\user\\gramic\\android\\app\\src\\main\\java\\com\\shop\\MainApplication.java:5:\r\n&gt; error: cannot find symbol import com.facebook.react.ReactApplication;\r\n&gt;                          ^   symbol:   class ReactApplication   location: package com.facebook.react\r\n&gt; C:\\Users\\user\\gramic\\android\\app\\src\\main\\java\\com\\shop\\MainApplication.java:13:\r\n&gt; error: cannot find symbol import com.facebook.react.ReactNativeHost;\r\n&gt;                          ^   symbol:   class ReactNativeHost   location: package com.facebook.react\r\n&gt; C:\\Users\\user\\gramic\\android\\app\\src\\main\\java\\com\\shop\\MainApplication.java:21:\r\n&gt; error: cannot find symbol public class MainApplication extends\r\n&gt; Application implements ReactApplication {\r\n&gt;                                                             ^   symbol: class ReactApplication\r\n&gt; C:\\Users\\user\\gramic\\android\\app\\src\\main\\java\\com\\shop\\MainApplication.java:23:\r\n&gt; error: cannot find symbol   private final ReactNativeHost\r\n&gt; mReactNativeHost = new ReactNativeHost(this) {\r\n&gt;                 ^   symbol:   class ReactNativeHost   location: class MainApplication\r\n&gt; C:\\Users\\user\\gramic\\android\\app\\src\\main\\java\\com\\shop\\MainApplication.java:40:\r\n&gt; error: cannot find symbol   public ReactNativeHost\r\n&gt; getReactNativeHost() {\r\n&gt;          ^   symbol:   class ReactNativeHost   location: class MainApplication\r\n&gt; C:\\Users\\user\\gramic\\android\\app\\src\\main\\java\\com\\shop\\MainActivity.java:5:\r\n&gt; error: MainActivity is not abstract and does not override abstract\r\n&gt; method getPackages() in ReactActivity public class MainActivity\r\n&gt; extends ReactActivity {\r\n&gt;        ^ C:\\Users\\user\\gramic\\android\\app\\src\\main\\java\\com\\shop\\MainApplication.java:23:\r\n&gt; error: cannot find symbol   private final ReactNativeHost\r\n&gt; mReactNativeHost = new ReactNativeHost(this) {\r\n&gt;                                                        ^   symbol:   class ReactNativeHost   location: class MainApplication\r\n&gt; C:\\Users\\user\\gramic\\android\\app\\src\\main\\java\\com\\shop\\MainApplication.java:39:\r\n&gt; error: method does not override or implement a method from a supertype\r\n&gt; @Override   ^\r\n\r\n\r\n\r\n\r\n        package com.shop;\r\n    \r\n    import android.app.Application;\r\n    \r\n    import com.facebook.react.ReactApplication;\r\n    import com.oblador.vectoricons.VectorIconsPackage;\r\n    import com.corbt.keepawake.KCKeepAwakePackage;\r\n    import com.oblador.vectoricons.VectorIconsPackage;\r\n    import com.github.yamill.orientation.OrientationPackage;\r\n    import com.BV.LinearGradient.LinearGradientPackage;\r\n    import com.brentvatne.react.ReactVideoPackage;\r\n    \r\n    import com.facebook.react.ReactNativeHost;\r\n    import com.facebook.react.ReactPackage;\r\n    import com.facebook.react.shell.MainReactPackage;\r\n    import com.facebook.soloader.SoLoader;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class MainApplication extends Application implements ReactApplication {\r\n    \r\n      private final ReactNativeHost mReactNativeHost = new ReactNativeHost(this) {\r\n        @Override\r\n        public boolean getUseDeveloperSupport() {\r\n          return BuildConfig.DEBUG;\r\n        }\r\n    \r\n        @Override\r\n        protected List&lt;ReactPackage&gt; getPackages() {\r\n          return Arrays.&lt;ReactPackage&gt;asList(\r\n              new MainReactPackage(),\r\n                new VectorIconsPackage(),\r\n                new VectorIconsPackage(),\r\n                new KCKeepAwakePackage(),\r\n                new VectorIconsPackage(),\r\n                new OrientationPackage(),\r\n                new LinearGradientPackage(),\r\n                new ReactVideoPackage()\r\n                \r\n          );\r\n        }\r\n      };\r\n    \r\n      @Override\r\n      public ReactNativeHost getReactNativeHost() {\r\n        return mReactNativeHost;\r\n      }\r\n    \r\n      @Override\r\n      public void onCreate() {\r\n        super.onCreate();\r\n        SoLoader.init(this, /* native exopackage */ false);\r\n      }\r\n    }\r\n\r\n","title":"React native: error: cannot find symbol after upgrade","body":"<p>Hi after importing my react native project expo and upgrading react, I've been have the following problems. </p>\n\n<blockquote>\n  <p>C:\\Users\\user\\gramic\\android\\app\\src\\main\\java\\com\\shop\\MainApplication.java:5:\n  error: cannot find symbol import com.facebook.react.ReactApplication;\n                           ^   symbol:   class ReactApplication   location: package com.facebook.react\n  C:\\Users\\user\\gramic\\android\\app\\src\\main\\java\\com\\shop\\MainApplication.java:13:\n  error: cannot find symbol import com.facebook.react.ReactNativeHost;\n                           ^   symbol:   class ReactNativeHost   location: package com.facebook.react\n  C:\\Users\\user\\gramic\\android\\app\\src\\main\\java\\com\\shop\\MainApplication.java:21:\n  error: cannot find symbol public class MainApplication extends\n  Application implements ReactApplication {\n                                                              ^   symbol: class ReactApplication\n  C:\\Users\\user\\gramic\\android\\app\\src\\main\\java\\com\\shop\\MainApplication.java:23:\n  error: cannot find symbol   private final ReactNativeHost\n  mReactNativeHost = new ReactNativeHost(this) {\n                  ^   symbol:   class ReactNativeHost   location: class MainApplication\n  C:\\Users\\user\\gramic\\android\\app\\src\\main\\java\\com\\shop\\MainApplication.java:40:\n  error: cannot find symbol   public ReactNativeHost\n  getReactNativeHost() {\n           ^   symbol:   class ReactNativeHost   location: class MainApplication\n  C:\\Users\\user\\gramic\\android\\app\\src\\main\\java\\com\\shop\\MainActivity.java:5:\n  error: MainActivity is not abstract and does not override abstract\n  method getPackages() in ReactActivity public class MainActivity\n  extends ReactActivity {\n         ^ C:\\Users\\user\\gramic\\android\\app\\src\\main\\java\\com\\shop\\MainApplication.java:23:\n  error: cannot find symbol   private final ReactNativeHost\n  mReactNativeHost = new ReactNativeHost(this) {\n                                                         ^   symbol:   class ReactNativeHost   location: class MainApplication\n  C:\\Users\\user\\gramic\\android\\app\\src\\main\\java\\com\\shop\\MainApplication.java:39:\n  error: method does not override or implement a method from a supertype\n  @Override   ^</p>\n</blockquote>\n\n<pre><code>    package com.shop;\n\nimport android.app.Application;\n\nimport com.facebook.react.ReactApplication;\nimport com.oblador.vectoricons.VectorIconsPackage;\nimport com.corbt.keepawake.KCKeepAwakePackage;\nimport com.oblador.vectoricons.VectorIconsPackage;\nimport com.github.yamill.orientation.OrientationPackage;\nimport com.BV.LinearGradient.LinearGradientPackage;\nimport com.brentvatne.react.ReactVideoPackage;\n\nimport com.facebook.react.ReactNativeHost;\nimport com.facebook.react.ReactPackage;\nimport com.facebook.react.shell.MainReactPackage;\nimport com.facebook.soloader.SoLoader;\n\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class MainApplication extends Application implements ReactApplication {\n\n  private final ReactNativeHost mReactNativeHost = new ReactNativeHost(this) {\n    @Override\n    public boolean getUseDeveloperSupport() {\n      return BuildConfig.DEBUG;\n    }\n\n    @Override\n    protected List&lt;ReactPackage&gt; getPackages() {\n      return Arrays.&lt;ReactPackage&gt;asList(\n          new MainReactPackage(),\n            new VectorIconsPackage(),\n            new VectorIconsPackage(),\n            new KCKeepAwakePackage(),\n            new VectorIconsPackage(),\n            new OrientationPackage(),\n            new LinearGradientPackage(),\n            new ReactVideoPackage()\n\n      );\n    }\n  };\n\n  @Override\n  public ReactNativeHost getReactNativeHost() {\n    return mReactNativeHost;\n  }\n\n  @Override\n  public void onCreate() {\n    super.onCreate();\n    SoLoader.init(this, /* native exopackage */ false);\n  }\n}\n</code></pre>\n"},{"tags":["java","android","httpurlconnection","hostname"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1621589681,"post_id":67633577,"comment_id":119547010,"body_markdown":"You should be able to configure the Android device with the details of the DNS service on your customer&#39;s network; e.g. https://www.androidpolice.com/2020/03/26/make-android-use-dns-server-choice/","body":"You should be able to configure the Android device with the details of the DNS service on your customer&#39;s network; e.g. <a href=\"https://www.androidpolice.com/2020/03/26/make-android-use-dns-server-choice/\" rel=\"nofollow noreferrer\">androidpolice.com/2020/03/26/make-android-use-dns-server-cho&zwnj;&#8203;ice</a>"},{"owner":{"account_id":9745813,"reputation":257,"user_id":7225854,"display_name":"Psiloc"},"score":0,"creation_date":1621589911,"post_id":67633577,"comment_id":119547093,"body_markdown":"Unfortunately they don&#39;t have a DNS-over-TLS compatible server. Or so they tell me","body":"Unfortunately they don&#39;t have a DNS-over-TLS compatible server. Or so they tell me"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1621590304,"post_id":67633577,"comment_id":119547265,"body_markdown":"Here are some other alternatives: https://android.stackexchange.com/questions/78320.  1) Edit the `/etc/hosts` file.  2) Install a local DNS server on the device itself ...","body":"Here are some other alternatives: <a href=\"https://android.stackexchange.com/questions/78320\">android.stackexchange.com/questions/78320</a>.  1) Edit the <code>&#47;etc&#47;hosts</code> file.  2) Install a local DNS server on the device itself ..."},{"owner":{"account_id":16703180,"reputation":214,"user_id":12072271,"display_name":"tadev"},"score":0,"creation_date":1621593413,"post_id":67633577,"comment_id":119548515,"body_markdown":"How about install cert on device?","body":"How about install cert on device?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1621594147,"post_id":67633577,"comment_id":119548820,"body_markdown":"&quot;Android from the start seems to be unable to see hostnames inside an internal network&quot; -- where is this hostname being defined? Is this a real DNS entry on a real DNS server, or is it some Windows-specific thing? &quot;a customer has applied SSL to their server meaning the URL is only accessible over https, and the self-signed certificate of course matches the hostname and not the IP address&quot; -- you will have additional problems then, as Android will reject that certificate, if it is self-signed.","body":"&quot;Android from the start seems to be unable to see hostnames inside an internal network&quot; -- where is this hostname being defined? Is this a real DNS entry on a real DNS server, or is it some Windows-specific thing? &quot;a customer has applied SSL to their server meaning the URL is only accessible over https, and the self-signed certificate of course matches the hostname and not the IP address&quot; -- you will have additional problems then, as Android will reject that certificate, if it is self-signed."},{"owner":{"account_id":9745813,"reputation":257,"user_id":7225854,"display_name":"Psiloc"},"score":0,"creation_date":1621601869,"post_id":67633577,"comment_id":119552038,"body_markdown":"Real DNS entry on real DNS server. But I can recreate the issue in the office with a standard router. Hostname in this sense is just the defined name of the Windows PC, nothing fancy, and Android can&#39;t resolve it.","body":"Real DNS entry on real DNS server. But I can recreate the issue in the office with a standard router. Hostname in this sense is just the defined name of the Windows PC, nothing fancy, and Android can&#39;t resolve it."},{"owner":{"account_id":9745813,"reputation":257,"user_id":7225854,"display_name":"Psiloc"},"score":0,"creation_date":1621603791,"post_id":67633577,"comment_id":119552922,"body_markdown":"@tadev it&#39;s not specifically an SSL issue. It&#39;s the fact that Android cannot resolve the hostname - which happens to now be a necessity due to the use of SSL","body":"@tadev it&#39;s not specifically an SSL issue. It&#39;s the fact that Android cannot resolve the hostname - which happens to now be a necessity due to the use of SSL"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664291552,"post_id":67633577,"comment_id":130435362,"body_markdown":"Windows names should be resolvable via mDNS. You can find android client libraries that should resolve the name to an IP if you add `.local`. The system itself doesn&#39;t want to do that, https://issuetracker.google.com/issues/140786115 - But given an IP, you can still customize the ssl verifier to accept any invalid certificate or even one that matches the hostname you expect (https://stackoverflow.com/a/37046188/995891)","body":"Windows names should be resolvable via mDNS. You can find android client libraries that should resolve the name to an IP if you add <code>.local</code>. The system itself doesn&#39;t want to do that, <a href=\"https://issuetracker.google.com/issues/140786115\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/140786115</a> - But given an IP, you can still customize the ssl verifier to accept any invalid certificate or even one that matches the hostname you expect (<a href=\"https://stackoverflow.com/a/37046188/995891\">stackoverflow.com/a/37046188/995891</a>)"}],"answers":[{"tags":[],"owner":{"account_id":14008507,"reputation":581,"user_id":10117882,"display_name":"Phantom Lord"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629539301,"creation_date":1629539301,"answer_id":68871886,"question_id":67633577,"body_markdown":"You may actually connect over simple http with the ip address, putting this in the manifest permitting the clear text traffic:\r\n\r\n    &lt;application\r\n            ...\r\n            android:usesCleartextTraffic=&quot;true&quot;\r\n            ...&gt;\r\n            ...\r\n        &lt;/application&gt;","title":"Android cannot resolve hostname on internal network - but I can&#39;t use IP address","body":"<p>You may actually connect over simple http with the ip address, putting this in the manifest permitting the clear text traffic:</p>\n<pre><code>&lt;application\n        ...\n        android:usesCleartextTraffic=&quot;true&quot;\n        ...&gt;\n        ...\n    &lt;/application&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9745813,"reputation":257,"user_id":7225854,"display_name":"Psiloc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676982437,"creation_date":1664290659,"answer_id":73869712,"question_id":67633577,"body_markdown":"This has received a number of views over the past 12 months so I thought I&#39;d drop my &quot;answer&quot; here in case it&#39;s not just me facing this issue.\r\n\r\nI&#39;ve danced around this problem for well over six years now, with it becoming a major headache over the last two. I&#39;ve concluded that Android is indeed incapable of resolving hostnames on any simple internal network without rooting the device. It can however find servers by IP address or via the fully qualified domain name.\r\n\r\nTherefore you (or in my case, my customers) need to reconfigure the SSL certificate to handle requests being sent to the IP address or the FQDN in addition to the hostname. This is done by adding both as a SAN (Subject Alternative Name) to the certificate.\r\n\r\nFor example:\r\n\r\n    SAN 1: DNS Name=pts\r\n    SAN 2: DNS Name=pts.local\r\n    SAN 3: DNS Name=pts.domain.co.uk\r\n    SAN 4: IP Address=93.184.216.34\r\n    SAN 5: IP Address=2606:2800:220:1:248:1893:25c8:1946\r\n\r\nNote the difference between the &quot;DNS Name&quot; and &quot;IP Address&quot; headers. It&#39;s conceivable that adding the IP address as a DNS Name may help too in certain edge cases?\r\n","title":"Android cannot resolve hostname on internal network - but I can&#39;t use IP address","body":"<p>This has received a number of views over the past 12 months so I thought I'd drop my &quot;answer&quot; here in case it's not just me facing this issue.</p>\n<p>I've danced around this problem for well over six years now, with it becoming a major headache over the last two. I've concluded that Android is indeed incapable of resolving hostnames on any simple internal network without rooting the device. It can however find servers by IP address or via the fully qualified domain name.</p>\n<p>Therefore you (or in my case, my customers) need to reconfigure the SSL certificate to handle requests being sent to the IP address or the FQDN in addition to the hostname. This is done by adding both as a SAN (Subject Alternative Name) to the certificate.</p>\n<p>For example:</p>\n<pre><code>SAN 1: DNS Name=pts\nSAN 2: DNS Name=pts.local\nSAN 3: DNS Name=pts.domain.co.uk\nSAN 4: IP Address=93.184.216.34\nSAN 5: IP Address=2606:2800:220:1:248:1893:25c8:1946\n</code></pre>\n<p>Note the difference between the &quot;DNS Name&quot; and &quot;IP Address&quot; headers. It's conceivable that adding the IP address as a DNS Name may help too in certain edge cases?</p>\n"}],"owner":{"account_id":9745813,"reputation":257,"user_id":7225854,"display_name":"Psiloc"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3106,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73869712,"answer_count":2,"score":3,"last_activity_date":1676982437,"creation_date":1621586789,"question_id":67633577,"body_markdown":"My Android application is used on customers internal networks, and part of the configuration involves them entering the URL to their web service.\r\n\r\nAndroid from the start seems to be unable to see hostnames inside an internal network so until now I&#39;ve been suggesting people use their server&#39;s IP address. An issue that&#39;s come up recently is that a customer has applied SSL to their server meaning the URL is only accessible over https, and the self-signed certificate of course matches the hostname and not the IP address. Requests to the URL via IP address no longer work, whether you specify http or https.\r\n\r\nGoogling for days suggest either rooting the device and modifying the hosts file, or supplying an internal DNS-over-TLS server, but both of these options are unavailable to me.\r\n\r\nIt surely cannot be this hard to resolve an internal hostname?\r\n\r\nI&#39;m not entirely sure this is a code issue as the problem is reproducible in Chrome, but here is my code:\r\n\r\n```        \r\nprotected JSONObject doInBackground(String... params) {\r\n            try {\r\n                URL url = new URL(&quot;http://officeserver/PTSWeb/PTSCommsServer.asmx&quot;);\r\n                HttpURLConnection huc = (HttpURLConnection) url.openConnection();\r\n                HttpURLConnection.setFollowRedirects(false);\r\n                huc.setConnectTimeout(5 * 1000);\r\n                huc.setRequestMethod(&quot;GET&quot;);\r\n                huc.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.1.2) Gecko/20090729 Firefox/3.5.2 (.NET CLR 3.5.30729)&quot;);\r\n                huc.connect(); //FAILS HERE WITH UNABLE TO RESOLVE HOST\r\n                BufferedReader in = new BufferedReader(new InputStreamReader(huc.getInputStream()));\r\n                String result = &quot;&quot;;\r\n                StringBuilder total = new StringBuilder();\r\n                for (String line; (line = in.readLine()) != null; ) {\r\n                    total.append(line).append(&#39;\\n&#39;);\r\n                }\r\n                in.close();\r\n                result = total.toString();\r\n                return new JSONObject(result);\r\n            } catch (Exception e) {\r\n                try {\r\n                    JSONObject MyErrorJSON = new JSONObject();\r\n                    MyErrorJSON.accumulate(&quot;WasError&quot;, &quot;True&quot;);\r\n                    MyErrorJSON.accumulate(&quot;ResponseText&quot;, e.toString());\r\n                    return MyErrorJSON;\r\n                } catch (Exception x) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n```","title":"Android cannot resolve hostname on internal network - but I can&#39;t use IP address","body":"<p>My Android application is used on customers internal networks, and part of the configuration involves them entering the URL to their web service.</p>\n<p>Android from the start seems to be unable to see hostnames inside an internal network so until now I've been suggesting people use their server's IP address. An issue that's come up recently is that a customer has applied SSL to their server meaning the URL is only accessible over https, and the self-signed certificate of course matches the hostname and not the IP address. Requests to the URL via IP address no longer work, whether you specify http or https.</p>\n<p>Googling for days suggest either rooting the device and modifying the hosts file, or supplying an internal DNS-over-TLS server, but both of these options are unavailable to me.</p>\n<p>It surely cannot be this hard to resolve an internal hostname?</p>\n<p>I'm not entirely sure this is a code issue as the problem is reproducible in Chrome, but here is my code:</p>\n<pre><code>protected JSONObject doInBackground(String... params) {\n            try {\n                URL url = new URL(&quot;http://officeserver/PTSWeb/PTSCommsServer.asmx&quot;);\n                HttpURLConnection huc = (HttpURLConnection) url.openConnection();\n                HttpURLConnection.setFollowRedirects(false);\n                huc.setConnectTimeout(5 * 1000);\n                huc.setRequestMethod(&quot;GET&quot;);\n                huc.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.1.2) Gecko/20090729 Firefox/3.5.2 (.NET CLR 3.5.30729)&quot;);\n                huc.connect(); //FAILS HERE WITH UNABLE TO RESOLVE HOST\n                BufferedReader in = new BufferedReader(new InputStreamReader(huc.getInputStream()));\n                String result = &quot;&quot;;\n                StringBuilder total = new StringBuilder();\n                for (String line; (line = in.readLine()) != null; ) {\n                    total.append(line).append('\\n');\n                }\n                in.close();\n                result = total.toString();\n                return new JSONObject(result);\n            } catch (Exception e) {\n                try {\n                    JSONObject MyErrorJSON = new JSONObject();\n                    MyErrorJSON.accumulate(&quot;WasError&quot;, &quot;True&quot;);\n                    MyErrorJSON.accumulate(&quot;ResponseText&quot;, e.toString());\n                    return MyErrorJSON;\n                } catch (Exception x) {\n                    return null;\n                }\n            }\n        }\n</code></pre>\n"},{"tags":["java","azure","azure-virtual-machine","azure-appservice","azure-files"],"comments":[{"owner":{"account_id":12572975,"reputation":33,"user_id":9146441,"display_name":"PutSomeCodeHere"},"score":0,"creation_date":1676546271,"post_id":75469890,"comment_id":133160496,"body_markdown":"It was a SMB performance issue, adjusting echo_interval=60,actimeo=1 solves the problem.","body":"It was a SMB performance issue, adjusting echo_interval=60,actimeo=1 solves the problem."},{"owner":{"account_id":26453603,"reputation":864,"user_id":20096460,"display_name":"Sourav"},"score":0,"creation_date":1676871697,"post_id":75469890,"comment_id":133217766,"body_markdown":"Can u post the above comment as an answer?","body":"Can u post the above comment as an answer?"}],"answers":[{"tags":[],"owner":{"account_id":12572975,"reputation":33,"user_id":9146441,"display_name":"PutSomeCodeHere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676982349,"creation_date":1676982349,"answer_id":75520512,"question_id":75469890,"body_markdown":"It was a SMB performance issue, adjusting echo_interval=60,actimeo=1 solves the problem.","title":"AzureFiles access denied Linux","body":"<p>It was a SMB performance issue, adjusting echo_interval=60,actimeo=1 solves the problem.</p>\n"}],"owner":{"account_id":12572975,"reputation":33,"user_id":9146441,"display_name":"PutSomeCodeHere"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75520512,"answer_count":1,"score":0,"last_activity_date":1676982349,"creation_date":1676538113,"question_id":75469890,"body_markdown":"I&#39;m stuck with a problem of file access in my virtual machine.  \r\nI actually have two app services (linux) with a mounting point to the AzureFiles. This actually works but I&#39;m trying to put one of the app on a virtual machine (ubuntu 20). \r\n\r\nI can connect the AzureFiles using the provided script by Azure with the protocol SMB. But I have got some errors using my apps (Java):\r\n\r\n| AccessDeniedException|NoSuchFileException|\r\n| -------- | -------- |\r\n|Files.move()|// for f in directory `Files.delete(f)` |\r\n| Files are mount with 777 with nogroup nobody on the app service app, and 777 root root on the azure vm |Files are correctly detected by the for loop, but nosuchfile is thrown by delete.|\r\n\r\nHere are the mounting points :\r\n\r\nApp service :\r\n`//mystorage.file.core.windows.net/mypath /mypath cifs rw,relatime,vers=3.1.1,cache=strict,username=myusername,uid=0,noforceuid,gid=0,noforcegid,addr=x.x.x.x,file_mode=0777,dir_mode=0777,soft,persistenthandles,nounix,serverino,mapposix,mfsymlinks,noperm,rsize=1048576,wsize=1048576,bsize=1048576,echo_interval=60,actimeo=1 0 0` \r\n\r\nVM: \r\n`//mystorage.file.core.windows.net/mypath /mypath cifs nofail,credentials=/etc/smbcredentials/mystorage.cred,dir_mode=0777,file_mode=0777,serverino,nosharesock,actimeo=30`\r\n\r\nEDIT : It seems to be stuck only with files created by the application on the VM. If I upload a file with Azure Strorage explorer, the delete function works.\r\n\r\nAny idea why it doesn&#39;t work ?\r\nThanks","title":"AzureFiles access denied Linux","body":"<p>I'm stuck with a problem of file access in my virtual machine.<br />\nI actually have two app services (linux) with a mounting point to the AzureFiles. This actually works but I'm trying to put one of the app on a virtual machine (ubuntu 20).</p>\n<p>I can connect the AzureFiles using the provided script by Azure with the protocol SMB. But I have got some errors using my apps (Java):</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>AccessDeniedException</th>\n<th>NoSuchFileException</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Files.move()</td>\n<td>// for f in directory <code>Files.delete(f)</code></td>\n</tr>\n<tr>\n<td>Files are mount with 777 with nogroup nobody on the app service app, and 777 root root on the azure vm</td>\n<td>Files are correctly detected by the for loop, but nosuchfile is thrown by delete.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Here are the mounting points :</p>\n<p>App service :\n<code>//mystorage.file.core.windows.net/mypath /mypath cifs rw,relatime,vers=3.1.1,cache=strict,username=myusername,uid=0,noforceuid,gid=0,noforcegid,addr=x.x.x.x,file_mode=0777,dir_mode=0777,soft,persistenthandles,nounix,serverino,mapposix,mfsymlinks,noperm,rsize=1048576,wsize=1048576,bsize=1048576,echo_interval=60,actimeo=1 0 0</code></p>\n<p>VM:\n<code>//mystorage.file.core.windows.net/mypath /mypath cifs nofail,credentials=/etc/smbcredentials/mystorage.cred,dir_mode=0777,file_mode=0777,serverino,nosharesock,actimeo=30</code></p>\n<p>EDIT : It seems to be stuck only with files created by the application on the VM. If I upload a file with Azure Strorage explorer, the delete function works.</p>\n<p>Any idea why it doesn't work ?\nThanks</p>\n"},{"tags":["java","hibernate","gradle","converters","modelmapper"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676986253,"post_id":75520431,"comment_id":133244133,"body_markdown":"You need to read [ask], pay attention to the details; then come back and edit your question to follow those guidelines. The amount of effort you put into  writing a question determines the amount of effort people will be willing to spend reading it and writing answers.","body":"You need to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, pay attention to the details; then come back and edit your question to follow those guidelines. The amount of effort you put into  writing a question determines the amount of effort people will be willing to spend reading it and writing answers."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677034058,"post_id":75520431,"comment_id":133256239,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":24385210,"reputation":1,"user_id":18316098,"display_name":"Parvin Desai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676981912,"creation_date":1676981912,"question_id":75520431,"body_markdown":"Model mapper version : 2.3.4 \r\n\r\nGradle project.\r\n\r\n\r\nERROR:  [&quot;ModelMapper mapping errors:\\n\\n1) Converter org.modelmapper.internal.converter.MergingCollectionConverter@10ce0586 failed to convert org.hibernate.collection.internal.PersistentBag to java.util.List.\\n\\n1 error&quot;]\r\n\r\nwhat could be the solution?","title":"failed to convert org.hibernate.collection.internal.PersistentBag to java.util.List.\\n\\n1","body":"<p>Model mapper version : 2.3.4</p>\n<p>Gradle project.</p>\n<p>ERROR:  [&quot;ModelMapper mapping errors:\\n\\n1) Converter org.modelmapper.internal.converter.MergingCollectionConverter@10ce0586 failed to convert org.hibernate.collection.internal.PersistentBag to java.util.List.\\n\\n1 error&quot;]</p>\n<p>what could be the solution?</p>\n"},{"tags":["java","android","kotlin","accessibilityservice"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1676984656,"post_id":75520397,"comment_id":133243639,"body_markdown":"you don&#39;t want to detect Power press, you want to intercept (change behavior) and thats afaik impossible. if you achieved some working code then post it, maybe there is a simple improvement for other manufacturers - talking about detecton of press (common or long), not hijacking. btw. on my device long press of Power button is starting Google Assistant","body":"you don&#39;t want to detect Power press, you want to intercept (change behavior) and thats afaik impossible. if you achieved some working code then post it, maybe there is a simple improvement for other manufacturers - talking about detecton of press (common or long), not hijacking. btw. on my device long press of Power button is starting Google Assistant"}],"owner":{"account_id":5837607,"reputation":12797,"user_id":4600136,"accept_rate":17,"display_name":"Mr.Javed Multani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676981717,"creation_date":1676981717,"question_id":75520397,"body_markdown":"I want to detect power button long press either device is locked or unlocked. I want to detect long press not just tap or press.\r\n\r\nI have tried with accessibility services using java and its working for RealMe Android Phone but it&#39;s **not working** for any other manufacturer android devices like Samsung, Oppo, Vivo, One Plus, Xiaomi etc. \r\n\r\nThanks in advance.!!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IQnqi.png","title":"How to detect power button long press using accessibility services in Android?","body":"<p>I want to detect power button long press either device is locked or unlocked. I want to detect long press not just tap or press.</p>\n<p>I have tried with accessibility services using java and its working for RealMe Android Phone but it's <strong>not working</strong> for any other manufacturer android devices like Samsung, Oppo, Vivo, One Plus, Xiaomi etc.</p>\n<p>Thanks in advance.!!</p>\n<p><a href=\"https://i.stack.imgur.com/IQnqi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IQnqi.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","regex","enums","checkstyle"],"answers":[{"tags":[],"owner":{"account_id":6946971,"reputation":10284,"user_id":5331061,"accept_rate":75,"display_name":"Gurmanjot Singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1548830274,"creation_date":1548828108,"answer_id":54434193,"question_id":54434100,"body_markdown":"Try this regex:\r\n\r\n    ^enum[^{]*{\\s*(?!\\b[A-Z]+\\b)(\\w+(?:\\s*,\\s*(?!\\b[A-Z]+\\b)\\w+)*)\\s*}\r\n\r\n**[Click for Demo][1]**\r\n\r\nIn JAVA, escape each `\\` with another `\\`\r\n\r\n**Explanation:**\r\n\r\n - `^` - asserts the start of the line\r\n - `enum[^{]*{\\s*` - matches `enum` followed by 0+ occurrences of any character that is not a `{` followed by a `{` followed by 0+ whitespaces, as many as possible\r\n - `(?!\\b[A-Z]+\\b)` - negative lookahead to make sure that the next word(enum value) does not contain ONLY captial letters\r\n - `\\w+` - matches 1+ occurrences of word letters(only if the above negative lookahead condition is true)\r\n - `(?:\\s*,\\s*(?!\\b[A-Z]+\\b)\\w+)*` - matches 0+ other such enum values\r\n - `\\s*}` - matches 0+ whitespaces followed by a `}`\r\n\r\n\r\n  [1]: https://regex101.com/r/ZqGV7i/5","title":"Regex to search for lower-case Enum constants","body":"<p>Try this regex:</p>\n\n<pre><code>^enum[^{]*{\\s*(?!\\b[A-Z]+\\b)(\\w+(?:\\s*,\\s*(?!\\b[A-Z]+\\b)\\w+)*)\\s*}\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/ZqGV7i/5\" rel=\"nofollow noreferrer\">Click for Demo</a></strong></p>\n\n<p>In JAVA, escape each <code>\\</code> with another <code>\\</code></p>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n<li><code>^</code> - asserts the start of the line</li>\n<li><code>enum[^{]*{\\s*</code> - matches <code>enum</code> followed by 0+ occurrences of any character that is not a <code>{</code> followed by a <code>{</code> followed by 0+ whitespaces, as many as possible</li>\n<li><code>(?!\\b[A-Z]+\\b)</code> - negative lookahead to make sure that the next word(enum value) does not contain ONLY captial letters</li>\n<li><code>\\w+</code> - matches 1+ occurrences of word letters(only if the above negative lookahead condition is true)</li>\n<li><code>(?:\\s*,\\s*(?!\\b[A-Z]+\\b)\\w+)*</code> - matches 0+ other such enum values</li>\n<li><code>\\s*}</code> - matches 0+ whitespaces followed by a <code>}</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1001793,"reputation":2131,"user_id":1016482,"accept_rate":50,"display_name":"rveach"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548857372,"creation_date":1548857372,"answer_id":54442493,"question_id":54434100,"body_markdown":"Since you tagged checkstyle in this, you can use a custom check from [sevntu][1] to enforce a specific naming convention for your enumeration constants. No complex regular expression required.\r\n\r\n        &lt;module name=&quot;EnumValueNameCheck&quot;&gt;\r\n            &lt;property name=&quot;format&quot; value=&quot;^[A-Z][A-Z0-9]*(_[A-Z0-9]+)*$&quot;/&gt;\r\n        &lt;/module&gt;\r\n\r\nThis will enforce all enumeration constants to be upper case letters and numbers and allow underscores.\r\n\r\nYou will have to include sevntu in your project to make use of the custom check, either through maven or appending the jar in the command line, etc...\r\n\r\n  [1]: https://github.com/sevntu-checkstyle/sevntu.checkstyle","title":"Regex to search for lower-case Enum constants","body":"<p>Since you tagged checkstyle in this, you can use a custom check from <a href=\"https://github.com/sevntu-checkstyle/sevntu.checkstyle\" rel=\"nofollow noreferrer\">sevntu</a> to enforce a specific naming convention for your enumeration constants. No complex regular expression required.</p>\n\n<pre><code>    &lt;module name=\"EnumValueNameCheck\"&gt;\n        &lt;property name=\"format\" value=\"^[A-Z][A-Z0-9]*(_[A-Z0-9]+)*$\"/&gt;\n    &lt;/module&gt;\n</code></pre>\n\n<p>This will enforce all enumeration constants to be upper case letters and numbers and allow underscores.</p>\n\n<p>You will have to include sevntu in your project to make use of the custom check, either through maven or appending the jar in the command line, etc...</p>\n"}],"owner":{"account_id":6693671,"reputation":1478,"user_id":5162375,"display_name":"Jason Cromer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2530,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":54434193,"answer_count":2,"score":3,"last_activity_date":1676981639,"creation_date":1548827679,"question_id":54434100,"body_markdown":"I&#39;m trying to use a regex to parse enums that are lower case, for example:\r\n```\r\n enum TransparencyState {\r\n        Gone, Translucent, Opaque\r\n    }\r\n```\r\nor \r\n```\r\n enum TransparencyState {\r\n        gone, \r\n        translucent, \r\n        opaque\r\n    }\r\n```\r\n\r\nHowever, the closest I can get is `(?:enum\\s+[a-zA-Z0-9]+\\s*\\{|\\G)\\s+([a-zA-Z0-9_,\\s]*)(?=[^{}]*\\})`, but that doesn&#39;t exactly work. Ideally, it would only match the lower-case constants in a list of enums, anything except all upper-case (essentially in constant form like below).\r\n\r\nIt would not match:\r\n```\r\n enum TransparencyState {\r\n        GONE, TRANSLUCENT, OPAQUE_OR_DULL\r\n    }\r\n```\r\n","title":"Regex to search for lower-case Enum constants","body":"<p>I'm trying to use a regex to parse enums that are lower case, for example:</p>\n<pre><code> enum TransparencyState {\n        Gone, Translucent, Opaque\n    }\n</code></pre>\n<p>or</p>\n<pre><code> enum TransparencyState {\n        gone, \n        translucent, \n        opaque\n    }\n</code></pre>\n<p>However, the closest I can get is <code>(?:enum\\s+[a-zA-Z0-9]+\\s*\\{|\\G)\\s+([a-zA-Z0-9_,\\s]*)(?=[^{}]*\\})</code>, but that doesn't exactly work. Ideally, it would only match the lower-case constants in a list of enums, anything except all upper-case (essentially in constant form like below).</p>\n<p>It would not match:</p>\n<pre><code> enum TransparencyState {\n        GONE, TRANSLUCENT, OPAQUE_OR_DULL\n    }\n</code></pre>\n"},{"tags":["java","process"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1676899292,"post_id":75509357,"comment_id":133224484,"body_markdown":"See `browser.descendants()`","body":"See <code>browser.descendants()</code>"},{"owner":{"account_id":27832503,"reputation":11,"user_id":21250656,"display_name":"Jonas Eriksson"},"score":0,"creation_date":1676964084,"post_id":75509357,"comment_id":133237573,"body_markdown":"Count of browser.descendants() is 0.","body":"Count of browser.descendants() is 0."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676981437,"creation_date":1676981437,"answer_id":75520342,"question_id":75509357,"body_markdown":"Microsoft Edge is a multi-process application, the UI is most likely handled in a separate process. You probably have &quot;startup boost&quot; and/or &quot;Continue running background apps when Microsoft Edge is closed&quot; setting which means these components out-live the process you launch. \r\n\r\nUse task manager to check if other `msedge.exe` instances are still running before / after your application and add some logging:\r\n\r\n     browser.descendants().forEach(ph -&gt; System.out.println(&quot;Descendent &quot;+ph));\r\n\r\nThis page describes how to turn off [background apps][1] setting.\r\n\r\n  [1]: https://www.windowscentral.com/how-prevent-new-microsoft-edge-running-background-windows-10","title":"Opening edge in a process. On destroy it doesnt close","body":"<p>Microsoft Edge is a multi-process application, the UI is most likely handled in a separate process. You probably have &quot;startup boost&quot; and/or &quot;Continue running background apps when Microsoft Edge is closed&quot; setting which means these components out-live the process you launch.</p>\n<p>Use task manager to check if other <code>msedge.exe</code> instances are still running before / after your application and add some logging:</p>\n<pre><code> browser.descendants().forEach(ph -&gt; System.out.println(&quot;Descendent &quot;+ph));\n</code></pre>\n<p>This page describes how to turn off <a href=\"https://www.windowscentral.com/how-prevent-new-microsoft-edge-running-background-windows-10\" rel=\"nofollow noreferrer\">background apps</a> setting.</p>\n"}],"owner":{"account_id":27832503,"reputation":11,"user_id":21250656,"display_name":"Jonas Eriksson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676981437,"creation_date":1676896550,"question_id":75509357,"body_markdown":"I&#39;m trying to open and then close a edge webbrowser on windows 10. useing Runtime to exec Edge and returning the process. But when the work is done and the method calls destroy, the browser stays open. Any ideas on how to fix it?\r\n\r\nHere is the method i call with a URL to a keycloak. \r\n```\r\npublic static Process openURL(String url) {\r\n\t\t\r\n\ttry {\r\n\t\treturn Runtime.getRuntime().exec(&quot;\\&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe\\&quot;&quot; + url);\r\n\t} catch (IOException e) {\r\n\t\tthrow new RuntimeException(&quot;Kunde inte starta browser&quot;, e);\r\n\t}\r\n}\r\n```\r\nHere is the block of code that calls the method and uses destroy after latch.await but the browser stays open. Running the same code with explorer worked fine but explorer is leaving windows so I really want to update the code.\r\n\r\n```\r\ntry {\r\n\tvar httpSocket = new HttpSocket();\r\n\tvar latch = new CountDownLatch(1);\r\n\tnew Thread(() -&gt; {\r\n\t\ttry {\r\n\t\t\thttpSocket.start(PORT, latch);\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new RuntimeException(&quot;Kunde inte &#246;ppna socket&quot;, e);\r\n\t\t}\r\n\t}).start();\r\n\t\t\t\r\n\tvar browser = WindowsBrowserManager.openURL(authRequestUriBuilder());\r\n\tlatch.await();\r\n\t\r\n\tbrowser.destroy();\r\n\tvar response = httpSocket.getResponse();\r\n```\r\n\r\nJava 17 is used.","title":"Opening edge in a process. On destroy it doesnt close","body":"<p>I'm trying to open and then close a edge webbrowser on windows 10. useing Runtime to exec Edge and returning the process. But when the work is done and the method calls destroy, the browser stays open. Any ideas on how to fix it?</p>\n<p>Here is the method i call with a URL to a keycloak.</p>\n<pre><code>public static Process openURL(String url) {\n        \n    try {\n        return Runtime.getRuntime().exec(&quot;\\&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe\\&quot;&quot; + url);\n    } catch (IOException e) {\n        throw new RuntimeException(&quot;Kunde inte starta browser&quot;, e);\n    }\n}\n</code></pre>\n<p>Here is the block of code that calls the method and uses destroy after latch.await but the browser stays open. Running the same code with explorer worked fine but explorer is leaving windows so I really want to update the code.</p>\n<pre><code>try {\n    var httpSocket = new HttpSocket();\n    var latch = new CountDownLatch(1);\n    new Thread(() -&gt; {\n        try {\n            httpSocket.start(PORT, latch);\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Kunde inte öppna socket&quot;, e);\n        }\n    }).start();\n            \n    var browser = WindowsBrowserManager.openURL(authRequestUriBuilder());\n    latch.await();\n    \n    browser.destroy();\n    var response = httpSocket.getResponse();\n</code></pre>\n<p>Java 17 is used.</p>\n"},{"tags":["java","spring","pdf","thymeleaf"],"comments":[{"owner":{"account_id":1355886,"reputation":3999,"user_id":1294283,"accept_rate":60,"display_name":"F. M&#252;ller"},"score":0,"creation_date":1676980687,"post_id":75519734,"comment_id":133242359,"body_markdown":"Maybe https://developer.mozilla.org/en-US/docs/Web/HTML/Viewport_meta_tag helps. Otherwise, try to make the width 100% on mobile and the height auto for example. You could still set a max-width and max-height to match the scaled down ratio of A4.","body":"Maybe <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Viewport_meta_tag\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTML/Viewport_meta_tag</a> helps. Otherwise, try to make the width 100% on mobile and the height auto for example. You could still set a max-width and max-height to match the scaled down ratio of A4."}],"owner":{"account_id":19989738,"reputation":50,"user_id":16252134,"display_name":"Codepressed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676980588,"creation_date":1676978208,"question_id":75519734,"body_markdown":"I want to create a document with minor size than a regular A4 PDF. How can I decrease the width of the document?\r\n\r\nI want it to be a normal A4 but with 66% of the normal width, to improve the readability on mobile devices since that&#39;s the target of the documents I&#39;m generating.\r\n\r\nLike this one: \\[\\]\r\n\r\n```\r\nByteArrayOutputStream os = new ByteArrayOutputStream();\r\nITextRenderer renderer = new ITextRenderer();\r\n// ITextFontResolver fontResolver = renderer.getFontResolver();\r\nString documentStr = getDocument(params,reportTemplate,horizontal);\r\nif (documentStr.contains(&quot;&amp;nbsp;&quot;)){\r\n\tdocumentStr = documentStr.replace(&quot;&amp;nbsp;&quot;,&quot; &quot;);\r\n}\r\nrenderer.setDocumentFromString(documentStr);\r\nrenderer.layout();\r\nrenderer.createPDF(os);\r\nreturn os.toByteArray();\r\n```\r\n\r\nI&#39;m using Thymeleaf to generate it, but no CSS styling (@page size...) is helping.\r\n\r\nI&#39;ve tried the following styles:\r\n\r\n```\r\n@page {\r\n size: A4;\r\n}\r\n\r\n@media print {\r\n html, body {\r\n width: 641mm;\r\n height: 1262mm;\r\n}\r\n```","title":"I&#39;m using ITextRenderer: How to set Document Width?","body":"<p>I want to create a document with minor size than a regular A4 PDF. How can I decrease the width of the document?</p>\n<p>I want it to be a normal A4 but with 66% of the normal width, to improve the readability on mobile devices since that's the target of the documents I'm generating.</p>\n<p>Like this one: []</p>\n<pre><code>ByteArrayOutputStream os = new ByteArrayOutputStream();\nITextRenderer renderer = new ITextRenderer();\n// ITextFontResolver fontResolver = renderer.getFontResolver();\nString documentStr = getDocument(params,reportTemplate,horizontal);\nif (documentStr.contains(&quot;&amp;nbsp;&quot;)){\n    documentStr = documentStr.replace(&quot;&amp;nbsp;&quot;,&quot; &quot;);\n}\nrenderer.setDocumentFromString(documentStr);\nrenderer.layout();\nrenderer.createPDF(os);\nreturn os.toByteArray();\n</code></pre>\n<p>I'm using Thymeleaf to generate it, but no CSS styling (@page size...) is helping.</p>\n<p>I've tried the following styles:</p>\n<pre><code>@page {\n size: A4;\n}\n\n@media print {\n html, body {\n width: 641mm;\n height: 1262mm;\n}\n</code></pre>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":935083,"reputation":1218,"user_id":964148,"accept_rate":67,"display_name":"Max McKinney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404849846,"creation_date":1404849846,"answer_id":24640804,"question_id":24640627,"body_markdown":"You should be using XMLPullParser (http://developer.android.com/reference/org/xmlpull/v1/XmlPullParser.html) becuase it is easier and more efficient for Android. \r\n\r\nBut for SAX here is an example on how to parse.\r\n\r\nXML:\r\n\r\n    &lt;users&gt;\r\n    &lt;user id=&quot;100&quot;&gt;\r\n        &lt;firstname&gt;Tom&lt;/firstname&gt;\r\n        &lt;lastname&gt;Hanks&lt;/lastname&gt;\r\n    &lt;/user&gt;\r\n    &lt;user id=&quot;101&quot;&gt;\r\n        &lt;firstname&gt;Lokesh&lt;/firstname&gt;\r\n        &lt;lastname&gt;Gupta&lt;/lastname&gt;\r\n    &lt;/user&gt;\r\n    &lt;user id=&quot;102&quot;&gt;\r\n        &lt;firstname&gt;HowToDo&lt;/firstname&gt;\r\n        &lt;lastname&gt;InJava&lt;/lastname&gt;\r\n    &lt;/user&gt;\r\n&lt;/users&gt;\r\n\r\nThere is a model class that stores the data after we parse it, but ignoring that here is just what you need to know for the parsing.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Stack;\r\n \r\n    import org.xml.sax.Attributes;\r\n    import org.xml.sax.SAXException;\r\n    import org.xml.sax.helpers.DefaultHandler;\r\n \r\n    public class UserParserHandler extends DefaultHandler\r\n    {\r\n    //This is the list which shall be populated while parsing the XML.\r\n    private ArrayList userList = new ArrayList();\r\n \r\n    //As we read any XML element we will push that in this stack\r\n    private Stack elementStack = new Stack();\r\n \r\n    //As we complete one user block in XML, we will push the User instance in userList\r\n    private Stack objectStack = new Stack();\r\n \r\n    public void startDocument() throws SAXException\r\n    {\r\n        //System.out.println(&quot;start of the document   : &quot;);\r\n    }\r\n \r\n    public void endDocument() throws SAXException\r\n    {\r\n        //System.out.println(&quot;end of the document document     : &quot;);\r\n    }\r\n \r\n    public void startElement(String uri, String localName, String qName, Attributes attributes) throws SAXException\r\n    {\r\n        //Push it in element stack\r\n        this.elementStack.push(qName);\r\n \r\n        //If this is start of &#39;user&#39; element then prepare a new User instance and push it in object stack\r\n        if (&quot;user&quot;.equals(qName))\r\n        {\r\n            //New User instance\r\n            User user = new User();\r\n \r\n            //Set all required attributes in any XML element here itself\r\n            if(attributes != null &amp;amp;&amp;amp; attributes.getLength() == 1)\r\n            {\r\n                user.setId(Integer.parseInt(attributes.getValue(0)));\r\n            }\r\n            this.objectStack.push(user);\r\n        }\r\n    }\r\n \r\n    public void endElement(String uri, String localName, String qName) throws SAXException\r\n    {\r\n        //Remove last added  element\r\n        this.elementStack.pop();\r\n \r\n        //User instance has been constructed so pop it from object stack and push in userList\r\n        if (&quot;user&quot;.equals(qName))\r\n        {\r\n            User object = this.objectStack.pop();\r\n            this.userList.add(object);\r\n        }\r\n    }\r\n \r\n    /**\r\n     * This will be called everytime parser encounter a value node\r\n     * */\r\n    public void characters(char[] ch, int start, int length) throws SAXException\r\n    {\r\n        String value = new String(ch, start, length).trim();\r\n \r\n        if (value.length() == 0)\r\n        {\r\n            return; // ignore white space\r\n        }\r\n \r\n        //handle the value based on to which element it belongs\r\n        if (&quot;firstName&quot;.equals(currentElement()))\r\n        {\r\n            User user = (User) this.objectStack.peek();\r\n            user.setFirstName(value);\r\n        }\r\n        else if (&quot;lastName&quot;.equals(currentElement()))\r\n        {\r\n            User user = (User) this.objectStack.peek();\r\n            user.setLastName(value);\r\n        }\r\n    }\r\n \r\n    /**\r\n     * Utility method for getting the current element in processing\r\n     * */\r\n    private String currentElement()\r\n    {\r\n        return this.elementStack.peek();\r\n    }\r\n \r\n    //Accessor for userList object\r\n    public ArrayList getUsers()\r\n    {\r\n        return userList;\r\n    }\r\n    }","title":"Getting the value of XML tags inside DefaultHandler class","body":"<p>You should be using XMLPullParser (<a href=\"http://developer.android.com/reference/org/xmlpull/v1/XmlPullParser.html\" rel=\"nofollow\">http://developer.android.com/reference/org/xmlpull/v1/XmlPullParser.html</a>) becuase it is easier and more efficient for Android. </p>\n\n<p>But for SAX here is an example on how to parse.</p>\n\n<p>XML:</p>\n\n<pre><code>&lt;users&gt;\n&lt;user id=\"100\"&gt;\n    &lt;firstname&gt;Tom&lt;/firstname&gt;\n    &lt;lastname&gt;Hanks&lt;/lastname&gt;\n&lt;/user&gt;\n&lt;user id=\"101\"&gt;\n    &lt;firstname&gt;Lokesh&lt;/firstname&gt;\n    &lt;lastname&gt;Gupta&lt;/lastname&gt;\n&lt;/user&gt;\n&lt;user id=\"102\"&gt;\n    &lt;firstname&gt;HowToDo&lt;/firstname&gt;\n    &lt;lastname&gt;InJava&lt;/lastname&gt;\n&lt;/user&gt;\n</code></pre>\n\n<p></p>\n\n<p>There is a model class that stores the data after we parse it, but ignoring that here is just what you need to know for the parsing.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Stack;\n\nimport org.xml.sax.Attributes;\nimport org.xml.sax.SAXException;\nimport org.xml.sax.helpers.DefaultHandler;\n\npublic class UserParserHandler extends DefaultHandler\n{\n//This is the list which shall be populated while parsing the XML.\nprivate ArrayList userList = new ArrayList();\n\n//As we read any XML element we will push that in this stack\nprivate Stack elementStack = new Stack();\n\n//As we complete one user block in XML, we will push the User instance in userList\nprivate Stack objectStack = new Stack();\n\npublic void startDocument() throws SAXException\n{\n    //System.out.println(\"start of the document   : \");\n}\n\npublic void endDocument() throws SAXException\n{\n    //System.out.println(\"end of the document document     : \");\n}\n\npublic void startElement(String uri, String localName, String qName, Attributes attributes) throws SAXException\n{\n    //Push it in element stack\n    this.elementStack.push(qName);\n\n    //If this is start of 'user' element then prepare a new User instance and push it in object stack\n    if (\"user\".equals(qName))\n    {\n        //New User instance\n        User user = new User();\n\n        //Set all required attributes in any XML element here itself\n        if(attributes != null &amp;amp;&amp;amp; attributes.getLength() == 1)\n        {\n            user.setId(Integer.parseInt(attributes.getValue(0)));\n        }\n        this.objectStack.push(user);\n    }\n}\n\npublic void endElement(String uri, String localName, String qName) throws SAXException\n{\n    //Remove last added  element\n    this.elementStack.pop();\n\n    //User instance has been constructed so pop it from object stack and push in userList\n    if (\"user\".equals(qName))\n    {\n        User object = this.objectStack.pop();\n        this.userList.add(object);\n    }\n}\n\n/**\n * This will be called everytime parser encounter a value node\n * */\npublic void characters(char[] ch, int start, int length) throws SAXException\n{\n    String value = new String(ch, start, length).trim();\n\n    if (value.length() == 0)\n    {\n        return; // ignore white space\n    }\n\n    //handle the value based on to which element it belongs\n    if (\"firstName\".equals(currentElement()))\n    {\n        User user = (User) this.objectStack.peek();\n        user.setFirstName(value);\n    }\n    else if (\"lastName\".equals(currentElement()))\n    {\n        User user = (User) this.objectStack.peek();\n        user.setLastName(value);\n    }\n}\n\n/**\n * Utility method for getting the current element in processing\n * */\nprivate String currentElement()\n{\n    return this.elementStack.peek();\n}\n\n//Accessor for userList object\npublic ArrayList getUsers()\n{\n    return userList;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":339902,"reputation":1200,"user_id":669647,"accept_rate":73,"display_name":"penkzhou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404849849,"creation_date":1404849849,"answer_id":24640805,"question_id":24640627,"body_markdown":"There is a good lesson on the android official training site about Parsing XML Data.And their demo data is more complicate than yours:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; \r\n    &lt;feed xmlns=&quot;http://www.w3.org/2005/Atom&quot; xmlns:creativeCommons=&quot;http://backend.userland.com/creativeCommonsRssModule&quot; ...&quot;&gt;     \r\n    &lt;title type=&quot;text&quot;&gt;newest questions tagged android - Stack Overflow&lt;/title&gt;\r\n    ...\r\n        &lt;entry&gt;\r\n        ...\r\n        &lt;/entry&gt;\r\n        &lt;entry&gt;\r\n            &lt;id&gt;http://stackoverflow.com/q/9439999&lt;/id&gt;\r\n            &lt;re:rank scheme=&quot;http://stackoverflow.com&quot;&gt;0&lt;/re:rank&gt;\r\n            &lt;title type=&quot;text&quot;&gt;Where is my data file?&lt;/title&gt;\r\n            &lt;category scheme=&quot;http://stackoverflow.com/feeds/tag?tagnames=android&amp;sort=newest/tags&quot; term=&quot;android&quot;/&gt;\r\n            &lt;category scheme=&quot;http://stackoverflow.com/feeds/tag?tagnames=android&amp;sort=newest/tags&quot; term=&quot;file&quot;/&gt;\r\n            &lt;author&gt;\r\n                &lt;name&gt;cliff2310&lt;/name&gt;\r\n                &lt;uri&gt;http://stackoverflow.com/users/1128925&lt;/uri&gt;\r\n            &lt;/author&gt;\r\n            &lt;link rel=&quot;alternate&quot; href=&quot;http://stackoverflow.com/questions/9439999/where-is-my-data-file&quot; /&gt;\r\n            &lt;published&gt;2012-02-25T00:30:54Z&lt;/published&gt;\r\n            &lt;updated&gt;2012-02-25T00:30:54Z&lt;/updated&gt;\r\n            &lt;summary type=&quot;html&quot;&gt;\r\n                &lt;p&gt;I have an Application that requires a data file...&lt;/p&gt;\r\n            &lt;/summary&gt;\r\n        &lt;/entry&gt;\r\n        &lt;entry&gt;\r\n        ...\r\n        &lt;/entry&gt;\r\n    ...\r\n    &lt;/feed&gt;\r\n\r\n\r\nYou can use `parser.getAttributeValue()` or `parser.getText()` to get your value.You should check more detail on the [training course][1].Wish this would help you.\r\n\r\n\r\n  [1]: http://developer.android.com/training/basics/network-ops/xml.html","title":"Getting the value of XML tags inside DefaultHandler class","body":"<p>There is a good lesson on the android official training site about Parsing XML Data.And their demo data is more complicate than yours:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; \n&lt;feed xmlns=\"http://www.w3.org/2005/Atom\" xmlns:creativeCommons=\"http://backend.userland.com/creativeCommonsRssModule\" ...\"&gt;     \n&lt;title type=\"text\"&gt;newest questions tagged android - Stack Overflow&lt;/title&gt;\n...\n    &lt;entry&gt;\n    ...\n    &lt;/entry&gt;\n    &lt;entry&gt;\n        &lt;id&gt;http://stackoverflow.com/q/9439999&lt;/id&gt;\n        &lt;re:rank scheme=\"http://stackoverflow.com\"&gt;0&lt;/re:rank&gt;\n        &lt;title type=\"text\"&gt;Where is my data file?&lt;/title&gt;\n        &lt;category scheme=\"http://stackoverflow.com/feeds/tag?tagnames=android&amp;sort=newest/tags\" term=\"android\"/&gt;\n        &lt;category scheme=\"http://stackoverflow.com/feeds/tag?tagnames=android&amp;sort=newest/tags\" term=\"file\"/&gt;\n        &lt;author&gt;\n            &lt;name&gt;cliff2310&lt;/name&gt;\n            &lt;uri&gt;http://stackoverflow.com/users/1128925&lt;/uri&gt;\n        &lt;/author&gt;\n        &lt;link rel=\"alternate\" href=\"http://stackoverflow.com/questions/9439999/where-is-my-data-file\" /&gt;\n        &lt;published&gt;2012-02-25T00:30:54Z&lt;/published&gt;\n        &lt;updated&gt;2012-02-25T00:30:54Z&lt;/updated&gt;\n        &lt;summary type=\"html\"&gt;\n            &lt;p&gt;I have an Application that requires a data file...&lt;/p&gt;\n        &lt;/summary&gt;\n    &lt;/entry&gt;\n    &lt;entry&gt;\n    ...\n    &lt;/entry&gt;\n...\n&lt;/feed&gt;\n</code></pre>\n\n<p>You can use <code>parser.getAttributeValue()</code> or <code>parser.getText()</code> to get your value.You should check more detail on the <a href=\"http://developer.android.com/training/basics/network-ops/xml.html\" rel=\"nofollow\">training course</a>.Wish this would help you.</p>\n"}],"owner":{"display_name":"user971741"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676980506,"creation_date":1404849200,"question_id":24640627,"body_markdown":"I am using `DefaultHandler` for on of my projects to parse XML.\r\n\r\nLet&#39;s say we have following XML:\r\n\r\n    &lt;name id=&quot;11&quot;&gt;something&lt;/name&gt;\r\n    &lt;vicinity&gt;vicinity value&lt;/vicinity&gt;\r\n    &lt;type&gt;establishment&lt;/type&gt;\r\n\r\nInside the `startElement(String uri, String localName, String qName, Attributes attributes)` method we can get the names of parent tags like `name` `vicinity` etc. in `localName` object and the value of its attributed in `attributes` object like `attributes.getValue(&quot;id&quot;)`.\r\n\r\nBut what if I want to get the value in between tags not its attributed for e.g. for `vicinity` there are not attributed buts its value inside it, so how I can retrieve it here?\r\n","title":"Getting the value of XML tags inside DefaultHandler class","body":"<p>I am using <code>DefaultHandler</code> for on of my projects to parse XML.</p>\n<p>Let's say we have following XML:</p>\n<pre><code>&lt;name id=&quot;11&quot;&gt;something&lt;/name&gt;\n&lt;vicinity&gt;vicinity value&lt;/vicinity&gt;\n&lt;type&gt;establishment&lt;/type&gt;\n</code></pre>\n<p>Inside the <code>startElement(String uri, String localName, String qName, Attributes attributes)</code> method we can get the names of parent tags like <code>name</code> <code>vicinity</code> etc. in <code>localName</code> object and the value of its attributed in <code>attributes</code> object like <code>attributes.getValue(&quot;id&quot;)</code>.</p>\n<p>But what if I want to get the value in between tags not its attributed for e.g. for <code>vicinity</code> there are not attributed buts its value inside it, so how I can retrieve it here?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1676963367,"post_id":75517100,"comment_id":133237421,"body_markdown":"Because the wildcards are `?`, `*` and `**`. `***` is **not** a valid wildcard and **matches only** `***`","body":"Because the wildcards are <code>?</code>, <code>*</code> and <code>**</code>. <code>***</code> is <b>not</b> a valid wildcard and <b>matches only</b> <code>***</code>"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676969624,"creation_date":1676969624,"answer_id":75518156,"question_id":75517100,"body_markdown":"As you have already noted:\r\n\r\n* &#39;?&#39; matches one character\r\n* &#39;*&#39; matches zero or more characters\r\n* &#39;**&#39; matches zero or more directories in a path\r\n\r\n&#39;***&#39; is not in this list and is therefore not a wildcard.\r\n\r\nIt matches only the path &#39;***&#39;.","title":"why pattern &quot;/***&quot; can not match &quot;/api/login&quot; using Spring&#39;s AntPathMatcher?","body":"<p>As you have already noted:</p>\n<ul>\n<li>'?' matches one character</li>\n<li>'*' matches zero or more characters</li>\n<li>'**' matches zero or more directories in a path</li>\n</ul>\n<p>'***' is not in this list and is therefore not a wildcard.</p>\n<p>It matches only the path '***'.</p>\n"}],"owner":{"account_id":27838613,"reputation":1,"user_id":21255495,"display_name":"xjs1919"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676980222,"creation_date":1676962237,"question_id":75517100,"body_markdown":"\r\n    public static void main(String[] args) {\r\n            AntPathMatcher matcher = new AntPathMatcher();\r\n            System.out.println(matcher.match(&quot;/**&quot;, &quot;/api/login&quot;)); //true  //1\r\n            System.out.println(matcher.match(&quot;/***&quot;, &quot;/api/login&quot;));//false //2\r\n    }\r\n\r\nBelowing is the javadoc of AntPathMatcher:\r\n\r\nThe mapping matches URLs using the following rules: \r\n- &#39;?&#39; matches one character\r\n- &#39;*&#39; matches zero or more characters\r\n- &#39;**&#39; matches zero or more directories in a path\r\n\r\nI am confused why line 2 return false?\r\n\r\n&#39;\\*\\*\\*&#39; is not equals to &#39;\\*\\*&#39; + &#39;\\*&#39; ?\r\n\r\n\r\n","title":"why pattern &quot;/***&quot; can not match &quot;/api/login&quot; using Spring&#39;s AntPathMatcher?","body":"<pre><code>public static void main(String[] args) {\n        AntPathMatcher matcher = new AntPathMatcher();\n        System.out.println(matcher.match(&quot;/**&quot;, &quot;/api/login&quot;)); //true  //1\n        System.out.println(matcher.match(&quot;/***&quot;, &quot;/api/login&quot;));//false //2\n}\n</code></pre>\n<p>Belowing is the javadoc of AntPathMatcher:</p>\n<p>The mapping matches URLs using the following rules:</p>\n<ul>\n<li>'?' matches one character</li>\n<li>'*' matches zero or more characters</li>\n<li>'**' matches zero or more directories in a path</li>\n</ul>\n<p>I am confused why line 2 return false?</p>\n<p>'***' is not equals to '**' + '*' ?</p>\n"},{"tags":["java","spring","grpc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677037512,"post_id":75520042,"comment_id":133256675,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27841121,"reputation":1,"user_id":21257588,"display_name":"Nikita Barsukov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676979971,"creation_date":1676979742,"question_id":75520042,"body_markdown":"Is there any possibility to get the `io.grpc.Channel` from the `io.grpc.GrpcChannelPropreties`. I want to create a blocking stub with a channel and I have `GrpcChannelProperties` from `application.yml` . But I know only one possibility to create `Channel` which is the `ManagedChannelBuilder`. So I have to specify all the properties from the `GrpcChannelProperties` to build the `ManagedChannel`. But is there more elegant method? I don&#39;t want to inject the stub with srpring.\r\n\r\nMore elegant way to get the io.grpc.Channel from the io.grpc.GrpcChannelProperties.","title":"Get io.grpc.Channel from GrpcChannelProperties","body":"<p>Is there any possibility to get the <code>io.grpc.Channel</code> from the <code>io.grpc.GrpcChannelPropreties</code>. I want to create a blocking stub with a channel and I have <code>GrpcChannelProperties</code> from <code>application.yml</code> . But I know only one possibility to create <code>Channel</code> which is the <code>ManagedChannelBuilder</code>. So I have to specify all the properties from the <code>GrpcChannelProperties</code> to build the <code>ManagedChannel</code>. But is there more elegant method? I don't want to inject the stub with srpring.</p>\n<p>More elegant way to get the io.grpc.Channel from the io.grpc.GrpcChannelProperties.</p>\n"},{"tags":["java","android","kotlin","taptargetview"],"owner":{"account_id":24633201,"reputation":13,"user_id":18532180,"display_name":"Adrian Barbu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676979672,"creation_date":1676979672,"question_id":75520029,"body_markdown":"I want to use MaterialTapTargetPrompt for an in-app tutorial.\r\n\r\nWhen I want to highlight a ```Button``` from ```BottmNavView```, it don&#39;t overlay the bottom side of the screen like is shown in the image from left.\r\n\r\nIf I open the keyboard (pressing on the ```+ Button```), the screen is resizing and the Tap Target cover the bottom side of the screen like is shown in the image from right.\r\n\r\nI think is the problem is with screen because if I manually add position of ```Target```, I get same results.\r\n\r\n```Image with view as Target```\r\n[![enter image description here][1]][1]\r\n\r\n```Image with Coordinatesas Target```\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nrnhM.png\r\n  [2]: https://i.stack.imgur.com/e9OP3.png\r\n\r\nThe code is this:\r\n```\r\nfun showTapTargetPrompt(view: View) {\r\n        val builder = MaterialTapTargetPrompt.Builder(this)\r\n            .setTarget(view)\r\n//          .setTarget(260f, 1800f) \r\n            .setPrimaryText(&quot;Prim text&quot;)\r\n            .setSecondaryText(&quot;Second Text&quot;)\r\n            .setAutoDismiss(false)\r\n            .setPromptBackground(DimmedPromptBackground())\r\n        builder.show()\r\n    }\r\n```","title":"Tap Target Prompt don&#39;t highlight correct in the bottom of the screen","body":"<p>I want to use MaterialTapTargetPrompt for an in-app tutorial.</p>\n<p>When I want to highlight a <code>Button</code> from <code>BottmNavView</code>, it don't overlay the bottom side of the screen like is shown in the image from left.</p>\n<p>If I open the keyboard (pressing on the <code>+ Button</code>), the screen is resizing and the Tap Target cover the bottom side of the screen like is shown in the image from right.</p>\n<p>I think is the problem is with screen because if I manually add position of <code>Target</code>, I get same results.</p>\n<p><code>Image with view as Target</code>\n<a href=\"https://i.stack.imgur.com/nrnhM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nrnhM.png\" alt=\"enter image description here\" /></a></p>\n<p><code>Image with Coordinatesas Target</code>\n<a href=\"https://i.stack.imgur.com/e9OP3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e9OP3.png\" alt=\"enter image description here\" /></a></p>\n<p>The code is this:</p>\n<pre><code>fun showTapTargetPrompt(view: View) {\n        val builder = MaterialTapTargetPrompt.Builder(this)\n            .setTarget(view)\n//          .setTarget(260f, 1800f) \n            .setPrimaryText(&quot;Prim text&quot;)\n            .setSecondaryText(&quot;Second Text&quot;)\n            .setAutoDismiss(false)\n            .setPromptBackground(DimmedPromptBackground())\n        builder.show()\n    }\n</code></pre>\n"},{"tags":["java","jpa","persistence"],"comments":[{"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":1,"creation_date":1323439032,"post_id":8446378,"comment_id":10440015,"body_markdown":"@See: there are several question about this topic:  http://stackoverflow.com/questions/3628344/jpa2-0-support-of-custom-user-types-and-second-level-cache and http://stackoverflow.com/questions/3828675/how-to-use-custom-type-in-jpa-column","body":"@See: there are several question about this topic:  <a href=\"http://stackoverflow.com/questions/3628344/jpa2-0-support-of-custom-user-types-and-second-level-cache\" title=\"jpa2 0 support of custom user types and second level cache\">stackoverflow.com/questions/3628344/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/3828675/how-to-use-custom-type-in-jpa-column\" title=\"how to use custom type in jpa column\">stackoverflow.com/questions/3828675/&hellip;</a>"},{"owner":{"account_id":110220,"reputation":37362,"user_id":291741,"accept_rate":87,"display_name":"Chris Lercher"},"score":3,"creation_date":1469183059,"post_id":8446378,"comment_id":64442619,"body_markdown":"Note: Starting from JPA 2.1, a `@Convert` annotation can be used with an `AttributeConverter&lt;UUID, String&gt;`","body":"Note: Starting from JPA 2.1, a <code>@Convert</code> annotation can be used with an <code>AttributeConverter&lt;UUID, String&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":36208,"reputation":240316,"user_id":103154,"display_name":"axtavt"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1326727937,"creation_date":1323438929,"answer_id":8446486,"question_id":8446378,"body_markdown":"JPA 2.0 doesn&#39;t provide a general way to do it, except for creating separate getters/setters for different representations of the same field.\r\n\r\nDepending on your JPA provider you can use implementation-specific methods, for example, Hibernate provides a `uuid-char` type for this purpose:\r\n\r\n    @Type(type = &quot;uuid-char&quot;)\r\n    private UUID uuid;","title":"Can JPA be persuaded to convert between eg UUIDs and Strings?","body":"<p>JPA 2.0 doesn't provide a general way to do it, except for creating separate getters/setters for different representations of the same field.</p>\n\n<p>Depending on your JPA provider you can use implementation-specific methods, for example, Hibernate provides a <code>uuid-char</code> type for this purpose:</p>\n\n<pre><code>@Type(type = \"uuid-char\")\nprivate UUID uuid;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":558023,"reputation":17978,"user_id":920607,"accept_rate":89,"display_name":"Piotr Nowicki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1323441468,"creation_date":1323441468,"answer_id":8447042,"question_id":8446378,"body_markdown":"You could annotate your `UUID` property `@Transient` and at the same time provide its persistable String-based representation.\r\n\r\nDuring `@PrePersist`, `@PreUpdate` or `@PostLoad` you&#39;ll set this String-based representation basing on `UUID` or (in case of loading it from the DB) re-create your `UUID` from the String. ","title":"Can JPA be persuaded to convert between eg UUIDs and Strings?","body":"<p>You could annotate your <code>UUID</code> property <code>@Transient</code> and at the same time provide its persistable String-based representation.</p>\n\n<p>During <code>@PrePersist</code>, <code>@PreUpdate</code> or <code>@PostLoad</code> you'll set this String-based representation basing on <code>UUID</code> or (in case of loading it from the DB) re-create your <code>UUID</code> from the String. </p>\n"},{"tags":[],"owner":{"account_id":205522,"reputation":7359,"user_id":454322,"accept_rate":76,"display_name":"user454322"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1517046003,"creation_date":1516345476,"answer_id":48335759,"question_id":8446378,"body_markdown":"Chris Lercher commented [*Note: Starting from JPA 2.1, a `@Convert annotation can be used with an AttributeConverter&lt;UUID, String&gt;`*][1].\r\n\r\n\r\nThis approach works well and is compatible with any JPA provider, whereas the `@Type(type = &quot;uuid-char&quot;)` is provider specific.\r\nAlso, with `autoApply=true` is applied to every field of every entity, so there is no need to annotate each field in each entity. See the documentation [here][2] and check the example below:\r\n\r\n\r\nThe converter class\r\n\r\n    @Converter(autoApply = true)\r\n    public class UuidConverter implements AttributeConverter&lt;UUID, String&gt; {\r\n\r\n        @Override\r\n        public String convertToDatabaseColumn(final UUID entityValue) {\r\n            return ofNullable(entityValue)\r\n                    .map(entityUuid -&gt; entityUuid.toString())\r\n                    .orElse(null);\r\n        }\r\n\r\n        @Override\r\n        public UUID convertToEntityAttribute(final String databaseValue) {\r\n            return ofNullable(databaseValue)\r\n                    .map(databaseUuid -&gt; UUID.fromString(databaseUuid))\r\n                    .orElse(null);\r\n        }\r\n    }\r\n\r\n\r\n&lt;br&gt;\r\nThe entity\r\n\r\n    @Entity\r\n    public class Customer implements Serializable {\r\n\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.AUTO)\r\n        private Long id;\r\n\r\n        @Column\r\n        private String name;\r\n\r\n        @Column(nullable = false, unique = true, updatable = false, columnDefinition=&quot;CHAR(36)&quot;)\r\n        private UUID customerId = randomUUID();\r\n    \r\n        //.....\r\n    }\r\n\r\n\r\n&lt;br&gt;\r\nAnd this is how it looks in the database\r\n\r\n    TABLE customer\r\n    ID\tBIGINT(19)\tNO\tPRI\t(NEXT VALUE FOR SYSTEM_SEQUENCE_5D3)\r\n    NAME\tVARCHAR(255)\tYES\t\tNULL\r\n    CUSTOMER_ID\tVARCHAR(36)\tNO\tUNI\tNULL\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8446378/can-jpa-2-0-be-persuaded-to-convert-between-eg-uuids-and-strings#comment-64442619\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/persistence/Converter.html","title":"Can JPA be persuaded to convert between eg UUIDs and Strings?","body":"<p>Chris Lercher commented <a href=\"https://stackoverflow.com/questions/8446378/can-jpa-2-0-be-persuaded-to-convert-between-eg-uuids-and-strings#comment-64442619\"><em>Note: Starting from JPA 2.1, a <code>@Convert annotation can be used with an AttributeConverter&lt;UUID, String&gt;</code></em></a>.</p>\n\n<p>This approach works well and is compatible with any JPA provider, whereas the <code>@Type(type = \"uuid-char\")</code> is provider specific.\nAlso, with <code>autoApply=true</code> is applied to every field of every entity, so there is no need to annotate each field in each entity. See the documentation <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/Converter.html\" rel=\"noreferrer\">here</a> and check the example below:</p>\n\n<p>The converter class</p>\n\n<pre><code>@Converter(autoApply = true)\npublic class UuidConverter implements AttributeConverter&lt;UUID, String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(final UUID entityValue) {\n        return ofNullable(entityValue)\n                .map(entityUuid -&gt; entityUuid.toString())\n                .orElse(null);\n    }\n\n    @Override\n    public UUID convertToEntityAttribute(final String databaseValue) {\n        return ofNullable(databaseValue)\n                .map(databaseUuid -&gt; UUID.fromString(databaseUuid))\n                .orElse(null);\n    }\n}\n</code></pre>\n\n<p><br>\nThe entity</p>\n\n<pre><code>@Entity\npublic class Customer implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n\n    @Column\n    private String name;\n\n    @Column(nullable = false, unique = true, updatable = false, columnDefinition=\"CHAR(36)\")\n    private UUID customerId = randomUUID();\n\n    //.....\n}\n</code></pre>\n\n<p><br>\nAnd this is how it looks in the database</p>\n\n<pre><code>TABLE customer\nID  BIGINT(19)  NO  PRI (NEXT VALUE FOR SYSTEM_SEQUENCE_5D3)\nNAME    VARCHAR(255)    YES     NULL\nCUSTOMER_ID VARCHAR(36) NO  UNI NULL\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676979410,"creation_date":1676979410,"answer_id":75519977,"question_id":8446378,"body_markdown":"I am not aware of the JPA itself. There is a way using Hibernate if it is your ORM provider. \r\n\r\n&lt;h3&gt;Hibernate 5.x&lt;/h3&gt;\r\n\r\nUse the `@Type` annotation with `&quot;uuid-char&quot;` to map into the `VARCHAR` column.\r\n\r\n```java\r\n@Type(type=&quot;uuid-char&quot;)\r\nprivate UUID uuid;\r\n```\r\n\r\n\r\nDocumentation: [JBoss Hibernate 5.6 User Guide | 2.3. Basic types][1]\r\n\r\n&lt;h3&gt;Hibernate 6.x&lt;/h3&gt;\r\n\r\nAs of Hibernate 6.x, you can use the following configuration to map them automatically:\r\n\r\n```\r\nhibernate.type.preferred_uuid_jdbc_type=CHAR\r\n```\r\n\r\nDocumentation: [JBoss Hibernate 6.2 User Guide | 2.2.38. UUID][2]\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#basic\r\n  [2]: https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#basic-uuid","title":"Can JPA be persuaded to convert between eg UUIDs and Strings?","body":"<p>I am not aware of the JPA itself. There is a way using Hibernate if it is your ORM provider.</p>\n<h3>Hibernate 5.x</h3>\n<p>Use the <code>@Type</code> annotation with <code>&quot;uuid-char&quot;</code> to map into the <code>VARCHAR</code> column.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Type(type=&quot;uuid-char&quot;)\nprivate UUID uuid;\n</code></pre>\n<p>Documentation: <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#basic\" rel=\"nofollow noreferrer\">JBoss Hibernate 5.6 User Guide | 2.3. Basic types</a></p>\n<h3>Hibernate 6.x</h3>\n<p>As of Hibernate 6.x, you can use the following configuration to map them automatically:</p>\n<pre><code>hibernate.type.preferred_uuid_jdbc_type=CHAR\n</code></pre>\n<p>Documentation: <a href=\"https://docs.jboss.org/hibernate/orm/6.2/userguide/html_single/Hibernate_User_Guide.html#basic-uuid\" rel=\"nofollow noreferrer\">JBoss Hibernate 6.2 User Guide | 2.2.38. UUID</a></p>\n"}],"owner":{"account_id":42252,"reputation":1675,"user_id":123045,"accept_rate":71,"display_name":"Paul Crowley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10863,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":48335759,"answer_count":4,"score":12,"last_activity_date":1676979410,"creation_date":1323438440,"question_id":8446378,"body_markdown":"I have a Java object with a field which is a UUID. I&#39;d like to be able to persist this object to the database in the obvious way; however, the Basic mapping will use Java serialization to write it, while I want the UUID to be present in its obvious string form.  Is there a way to supply a UUID &lt;-&gt; String converter to JPA for that field which will be used at read and write time so I can handle this type naturally?","title":"Can JPA be persuaded to convert between eg UUIDs and Strings?","body":"<p>I have a Java object with a field which is a UUID. I'd like to be able to persist this object to the database in the obvious way; however, the Basic mapping will use Java serialization to write it, while I want the UUID to be present in its obvious string form.  Is there a way to supply a UUID &lt;-> String converter to JPA for that field which will be used at read and write time so I can handle this type naturally?</p>\n"},{"tags":["java","spring-boot","uuid"],"comments":[{"owner":{"account_id":7091575,"reputation":58,"user_id":5426589,"display_name":"Imre T&#246;m&#246;sv&#225;ri"},"score":0,"creation_date":1676979068,"post_id":75519649,"comment_id":133241844,"body_markdown":"You have the same problem as here: https://stackoverflow.com/questions/8446378/can-jpa-be-persuaded-to-convert-between-eg-uuids-and-strings","body":"You have the same problem as here: <a href=\"https://stackoverflow.com/questions/8446378/can-jpa-be-persuaded-to-convert-between-eg-uuids-and-strings\" title=\"can jpa be persuaded to convert between eg uuids and strings\">stackoverflow.com/questions/8446378/&hellip;</a>"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1676979454,"post_id":75519649,"comment_id":133241961,"body_markdown":"https://stackoverflow.com/a/75519977/3764965","body":"<a href=\"https://stackoverflow.com/a/75519977/3764965\">stackoverflow.com/a/75519977/3764965</a>"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676979426,"answer_count":0,"score":0,"last_activity_date":1676979246,"creation_date":1676977772,"question_id":75519649,"body_markdown":"I have a problem to store UUID as a string not blob in database in Spring Boot.\r\n\r\nUUID is stored as blob in database but I want to store it as a string.\r\n\r\nI also use UUID as not a primary key.\r\n\r\nHow can I do that?\r\n\r\nHere is the UUID definition in my Entity shown below.\r\n\r\n    @Column(nullable = false)\r\n    private UUID userUUID;","title":"How can I store UUID (not Primary Key) as a string in Database in Spring Boot","body":"<p>I have a problem to store UUID as a string not blob in database in Spring Boot.</p>\n<p>UUID is stored as blob in database but I want to store it as a string.</p>\n<p>I also use UUID as not a primary key.</p>\n<p>How can I do that?</p>\n<p>Here is the UUID definition in my Entity shown below.</p>\n<pre><code>@Column(nullable = false)\nprivate UUID userUUID;\n</code></pre>\n"},{"tags":["java","maven","grpc-java"],"comments":[{"owner":{"account_id":15937371,"reputation":540,"user_id":11500161,"display_name":"voidzcy"},"score":1,"creation_date":1613469453,"post_id":66221093,"comment_id":117077955,"body_markdown":"You build file looks alright. By default, generated code is under `build/generated/source/proto/main`, did you check there? Did you configure your IDE to delegate build to Maven? Also, try build directly with Maven.","body":"You build file looks alright. By default, generated code is under <code>build&#47;generated&#47;source&#47;proto&#47;main</code>, did you check there? Did you configure your IDE to delegate build to Maven? Also, try build directly with Maven."},{"owner":{"account_id":6932055,"reputation":1475,"user_id":11226214,"display_name":"nolwww"},"score":0,"creation_date":1613471429,"post_id":66221093,"comment_id":117078794,"body_markdown":"I think you are right. After trying to build the project in different ways, it worked (the code was generated in target/classes/grpc/... However, I&#39;m not sure of the exact steps to do to make it work.","body":"I think you are right. After trying to build the project in different ways, it worked (the code was generated in target/classes/grpc/... However, I&#39;m not sure of the exact steps to do to make it work."},{"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"score":0,"creation_date":1613977384,"post_id":66221093,"comment_id":117232365,"body_markdown":"Use the `mvn protobuf:compile` command. Check this answer https://stackoverflow.com/a/65873704/2096986","body":"Use the <code>mvn protobuf:compile</code> command. Check this answer <a href=\"https://stackoverflow.com/a/65873704/2096986\">stackoverflow.com/a/65873704/2096986</a>"}],"answers":[{"tags":[],"owner":{"account_id":194413,"reputation":2865,"user_id":1314742,"display_name":"user1314742"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669154625,"creation_date":1669154625,"answer_id":74539499,"question_id":66221093,"body_markdown":"Usually Maven will generate the code and put it under `target/generated-source/protubf`\r\n\r\nIn order to build the code you need to issue the following command: \r\n        \r\n     $ mvn clean install\r\n\r\nIn IntelliJ you need to edit configuration of run ( `RUN -&gt; Edit Configuration` )\r\n\r\nYou can also define the output directory of protobuf plugin in maven by adding the following configurations to the plugin\r\n\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.6.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;protocArtifact&gt;com.google.protobuf:protoc:3.21.7:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\r\n                    &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\r\n                    &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.51.0:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\r\n                    &lt;outputBaseDirectory&gt;src/main/java/&lt;/outputBaseDirectory&gt;\r\n                    &lt;outputDirectory&gt;src/main/java/&lt;/outputDirectory&gt;\r\n                    &lt;clearOutputDirectory&gt;false&lt;/clearOutputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;goal&gt;compile-custom&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\nThis will output the generated files under java directory and creating the package defined in your proto file  ( `grpc.messages` in your example)\r\n\r\n","title":"Maven build does not generate code with grpc-java","body":"<p>Usually Maven will generate the code and put it under <code>target/generated-source/protubf</code></p>\n<p>In order to build the code you need to issue the following command:</p>\n<pre><code> $ mvn clean install\n</code></pre>\n<p>In IntelliJ you need to edit configuration of run ( <code>RUN -&gt; Edit Configuration</code> )</p>\n<p>You can also define the output directory of protobuf plugin in maven by adding the following configurations to the plugin</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.6.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;protocArtifact&gt;com.google.protobuf:protoc:3.21.7:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\n                &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\n                &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.51.0:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\n                &lt;outputBaseDirectory&gt;src/main/java/&lt;/outputBaseDirectory&gt;\n                &lt;outputDirectory&gt;src/main/java/&lt;/outputDirectory&gt;\n                &lt;clearOutputDirectory&gt;false&lt;/clearOutputDirectory&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;goal&gt;compile-custom&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>This will output the generated files under java directory and creating the package defined in your proto file  ( <code>grpc.messages</code> in your example)</p>\n"},{"tags":[],"owner":{"account_id":14145574,"reputation":91,"user_id":10219008,"display_name":"Anush B M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676979190,"creation_date":1676979190,"answer_id":75519923,"question_id":66221093,"body_markdown":"Adding the below snippet to under build also works.\r\n\r\nMake sure you have the correct path mentioned pointing to the .protoFiles.\r\n\r\n    &lt;protoSourceRoot&gt; \r\n    ${basedir}/src/main/resources/proto/ \r\n    &lt;/protoSourceRoot&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pfg8P.png","title":"Maven build does not generate code with grpc-java","body":"<p>Adding the below snippet to under build also works.</p>\n<p>Make sure you have the correct path mentioned pointing to the .protoFiles.</p>\n<pre><code>&lt;protoSourceRoot&gt; \n${basedir}/src/main/resources/proto/ \n&lt;/protoSourceRoot&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Pfg8P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pfg8P.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6932055,"reputation":1475,"user_id":11226214,"display_name":"nolwww"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3323,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676979190,"creation_date":1613464866,"question_id":66221093,"body_markdown":"I am trying to generate code for a gRPC application, with Java, Maven and Intellij. \r\n\r\nI followed the documentation of grpc-java https://github.com/grpc/grpc-java/blob/master/README.md, but when I build the project, no code is generated. \r\n\r\n\r\nHere is my pom.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.nolapps&lt;/groupId&gt;\r\n    &lt;artifactId&gt;grpc-simpleapp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\r\n        &lt;version&gt;1.35.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n        &lt;version&gt;1.35.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n        &lt;version&gt;1.35.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\r\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n        &lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.53&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;extensions&gt;\r\n            &lt;extension&gt;\r\n                &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.2&lt;/version&gt;\r\n            &lt;/extension&gt;\r\n        &lt;/extensions&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.6.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;protocArtifact&gt;com.google.protobuf:protoc:3.12.0:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\r\n                    &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\r\n                    &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.35.0:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;goal&gt;compile-custom&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nAnd My proto file is in src/main/proto (messages.proto)\r\n\r\n```\r\nsyntax = &quot;proto3&quot;;\r\n\r\noption java_package=&quot;grpc.messages&quot;;\r\n\r\nmessage Employee {\r\n    int32 id = 1;\r\n    int32 badgeNumber = 2;\r\n    string firstName = 3;\r\n    string lastName = 4;\r\n    float vacationAccrualRate = 5;\r\n    float vacationAccrued = 6;\r\n}\r\n\r\nmessage GetAllRequest {}\r\n\r\nmessage GetByBadgeNumberRequest {\r\n    int32 badgeNumber = 1;\r\n}\r\n\r\nmessage EmployeeRequest {\r\n    Employee employee = 1;\r\n}\r\n\r\nmessage EmployeeResponse {\r\n    Employee employee = 1;\r\n}\r\n\r\nmessage AddPhotoRequest {\r\n    bytes data = 1;\r\n}\r\n\r\nmessage AddPhotoResponse {\r\n    bool isOk = 1;\r\n}\r\n\r\nservice EmployeeService {\r\n    rpc GetByBadgeNumber (GetByBadgeNumberRequest) returns (EmployeeResponse);\r\n    rpc GetAll (GetAllRequest) returns (stream EmployeeResponse);\r\n    rpc Save (EmployeeRequest) returns (EmployeeResponse);\r\n    rpc SaveAll (EmployeeRequest) returns (stream EmployeeResponse);\r\n    rpc AddPhoto (AddPhotoRequest) returns (AddPhotoResponse);\r\n}\r\n```\r\n\r\n\r\nTo build the project, (from Intelij), I go to:\r\nBuild -&gt; Build Project. But nothing happens. \r\n\r\n\r\n**My question: Any idea why my code is not generated?**","title":"Maven build does not generate code with grpc-java","body":"<p>I am trying to generate code for a gRPC application, with Java, Maven and Intellij.</p>\n<p>I followed the documentation of grpc-java <a href=\"https://github.com/grpc/grpc-java/blob/master/README.md\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc-java/blob/master/README.md</a>, but when I build the project, no code is generated.</p>\n<p>Here is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.nolapps&lt;/groupId&gt;\n    &lt;artifactId&gt;grpc-simpleapp&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\n        &lt;version&gt;1.35.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n        &lt;version&gt;1.35.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n        &lt;version&gt;1.35.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\n        &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n        &lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\n        &lt;version&gt;6.0.53&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;extensions&gt;\n            &lt;extension&gt;\n                &lt;groupId&gt;kr.motd.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;os-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6.2&lt;/version&gt;\n            &lt;/extension&gt;\n        &lt;/extensions&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.6.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;protocArtifact&gt;com.google.protobuf:protoc:3.12.0:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\n                    &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\n                    &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.35.0:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;compile-custom&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And My proto file is in src/main/proto (messages.proto)</p>\n<pre><code>syntax = &quot;proto3&quot;;\n\noption java_package=&quot;grpc.messages&quot;;\n\nmessage Employee {\n    int32 id = 1;\n    int32 badgeNumber = 2;\n    string firstName = 3;\n    string lastName = 4;\n    float vacationAccrualRate = 5;\n    float vacationAccrued = 6;\n}\n\nmessage GetAllRequest {}\n\nmessage GetByBadgeNumberRequest {\n    int32 badgeNumber = 1;\n}\n\nmessage EmployeeRequest {\n    Employee employee = 1;\n}\n\nmessage EmployeeResponse {\n    Employee employee = 1;\n}\n\nmessage AddPhotoRequest {\n    bytes data = 1;\n}\n\nmessage AddPhotoResponse {\n    bool isOk = 1;\n}\n\nservice EmployeeService {\n    rpc GetByBadgeNumber (GetByBadgeNumberRequest) returns (EmployeeResponse);\n    rpc GetAll (GetAllRequest) returns (stream EmployeeResponse);\n    rpc Save (EmployeeRequest) returns (EmployeeResponse);\n    rpc SaveAll (EmployeeRequest) returns (stream EmployeeResponse);\n    rpc AddPhoto (AddPhotoRequest) returns (AddPhotoResponse);\n}\n</code></pre>\n<p>To build the project, (from Intelij), I go to:\nBuild -&gt; Build Project. But nothing happens.</p>\n<p><strong>My question: Any idea why my code is not generated?</strong></p>\n"},{"tags":["java","spring","migration"],"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676979173,"creation_date":1676909074,"question_id":75511605,"body_markdown":"We updated our project to use Spring Boot 3 together with Spring authorization server 1.0.0.\r\n\r\nTherefore being a bit desperate after not having found any information about the above topic neither in Spring docs nor in Google (I might have done this completely wrong, though), I wanted to ask: what is the replacement of the above interface `ClientDetails` and its method `getAdditionalInformation`.\r\n\r\nBefore the upgrade we used something like:\r\n    \r\n    Map&lt;String, Object&gt; additionalInformation = new HashMap&lt;&gt;();\r\n    var clientDetails = new BaseClientDetails();\r\n    clientDetails.setAdditionalInformation(additionalInformation);\r\n    clientDetails.setClientSecret(&quot;password);\r\n    clientDetails.setClientId(&quot;someClient&quot;);\r\n    clientDetails.setAuthorizedGrantTypes(Collections.singletonList(AuthorizationGrantType.PASSWORD.getValue()));\r\n    clientDetails.setScope(Collections.singletonList(&quot;someScope&quot;));\r\n\r\nThe only alternative way I have been able to find is to use ```RegisteredClient```\r\n\r\n    RegisteredClient registeredClient = RegisteredClient\r\n              .withId(&quot;someClient&quot;)\r\n              .clientSecret(&quot;password&quot;)\r\n              .scope(&quot;someScope&quot;)\r\n              .authorizationGrantType(AuthorizationGrantType.PASSWORD)\r\n              .build();\r\n\r\nBut there is no builder method for setting the additional information. I could maybe use the method `clientSettings` and put the additional information there but it feels not really right to me.\r\n","title":"Replacement/Alternative for Interface &#39;ClientDetails&#39; in spring authorization server v. 1.0.0","body":"<p>We updated our project to use Spring Boot 3 together with Spring authorization server 1.0.0.</p>\n<p>Therefore being a bit desperate after not having found any information about the above topic neither in Spring docs nor in Google (I might have done this completely wrong, though), I wanted to ask: what is the replacement of the above interface <code>ClientDetails</code> and its method <code>getAdditionalInformation</code>.</p>\n<p>Before the upgrade we used something like:</p>\n<pre><code>Map&lt;String, Object&gt; additionalInformation = new HashMap&lt;&gt;();\nvar clientDetails = new BaseClientDetails();\nclientDetails.setAdditionalInformation(additionalInformation);\nclientDetails.setClientSecret(&quot;password);\nclientDetails.setClientId(&quot;someClient&quot;);\nclientDetails.setAuthorizedGrantTypes(Collections.singletonList(AuthorizationGrantType.PASSWORD.getValue()));\nclientDetails.setScope(Collections.singletonList(&quot;someScope&quot;));\n</code></pre>\n<p>The only alternative way I have been able to find is to use <code>RegisteredClient</code></p>\n<pre><code>RegisteredClient registeredClient = RegisteredClient\n          .withId(&quot;someClient&quot;)\n          .clientSecret(&quot;password&quot;)\n          .scope(&quot;someScope&quot;)\n          .authorizationGrantType(AuthorizationGrantType.PASSWORD)\n          .build();\n</code></pre>\n<p>But there is no builder method for setting the additional information. I could maybe use the method <code>clientSettings</code> and put the additional information there but it feels not really right to me.</p>\n"},{"tags":["java","git","gitlab","jgit"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1676972701,"post_id":75518639,"comment_id":133239978,"body_markdown":"Did you [clone all branches](https://download.eclipse.org/jgit/site/6.4.0.202211300538-r/apidocs/org/eclipse/jgit/api/CloneCommand.html#setCloneAllBranches(boolean))?","body":"Did you <a href=\"https://download.eclipse.org/jgit/site/6.4.0.202211300538-r/apidocs/org/eclipse/jgit/api/CloneCommand.html#setCloneAllBranches(boolean)\" rel=\"nofollow noreferrer\">clone all branches</a>?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1676972815,"post_id":75518639,"comment_id":133240009,"body_markdown":"Alternatively, you could try [opening the local repository using `Git.open`](https://download.eclipse.org/jgit/site/6.4.0.202211300538-r/apidocs/org/eclipse/jgit/api/Git.html#open(java.io.File)) instead of cloning it to a temporary directory (assuming it&#39;s actually local as I don&#39;t know what exactly `localGit` is).","body":"Alternatively, you could try <a href=\"https://download.eclipse.org/jgit/site/6.4.0.202211300538-r/apidocs/org/eclipse/jgit/api/Git.html#open(java.io.File)\" rel=\"nofollow noreferrer\">opening the local repository using <code>Git.open</code></a> instead of cloning it to a temporary directory (assuming it&#39;s actually local as I don&#39;t know what exactly <code>localGit</code> is)."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676979016,"creation_date":1676979016,"answer_id":75519894,"question_id":75518639,"body_markdown":"Following dan1st&#39;s advice, I solved the problem by using:\r\n\r\n````java\r\n try (Git openedRepo = Git.open(localGit.getLocalGitRepo()\r\n          .toFile());)\r\n      {\r\n        Iterable&lt;PushResult&gt; pushResults = openedRepo.push()\r\n            .setCredentialsProvider(\r\n                new UsernamePasswordCredentialsProvider(&quot;gitlab-ci-token&quot;, gitlabToken))\r\n            .setRemote(localGit.getGitlabUrl())\r\n            .setPushTags()\r\n            .setPushAll()\r\n            .call();\r\n       }\r\n````","title":"Push Git Repository as new repository to Gitlab with jgit","body":"<p>Following dan1st's advice, I solved the problem by using:</p>\n<pre class=\"lang-java prettyprint-override\"><code> try (Git openedRepo = Git.open(localGit.getLocalGitRepo()\n          .toFile());)\n      {\n        Iterable&lt;PushResult&gt; pushResults = openedRepo.push()\n            .setCredentialsProvider(\n                new UsernamePasswordCredentialsProvider(&quot;gitlab-ci-token&quot;, gitlabToken))\n            .setRemote(localGit.getGitlabUrl())\n            .setPushTags()\n            .setPushAll()\n            .call();\n       }\n</code></pre>\n"}],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676979016,"creation_date":1676972332,"question_id":75518639,"body_markdown":"I have a git repository on my computer and want to push it as new git repository to a Gitlab instance.\r\n\r\nI tried:\r\n\r\n````java\r\nPath tempCloneDir = Files.createTempDirectory(&quot;git&quot;);\r\n\r\nGit git = Git.cloneRepository()\r\n  .setURI(localGit.getLocalGitRepo()\r\n\t  .toString())\r\n  .setDirectory(tempCloneDir.toFile())\r\n  .call();\r\n\r\ngit.push()\r\n  .setCredentialsProvider(\r\n\t  new UsernamePasswordCredentialsProvider(&quot;gitlab-ci-token&quot;, gitlabToken))\r\n  .setRemote(localGit.getGitlabUrl())\r\n  .setPushAll()\r\n  .call();\r\n````\r\n\r\nThis creates a repository, but it only pushes the main branch and ignores all tags. \r\n\r\nI also tried to add `.setPushTags()`, but still, the other branches are missing.\r\n\r\nWhat do I need to change to push &quot;everything&quot;?","title":"Push Git Repository as new repository to Gitlab with jgit","body":"<p>I have a git repository on my computer and want to push it as new git repository to a Gitlab instance.</p>\n<p>I tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path tempCloneDir = Files.createTempDirectory(&quot;git&quot;);\n\nGit git = Git.cloneRepository()\n  .setURI(localGit.getLocalGitRepo()\n      .toString())\n  .setDirectory(tempCloneDir.toFile())\n  .call();\n\ngit.push()\n  .setCredentialsProvider(\n      new UsernamePasswordCredentialsProvider(&quot;gitlab-ci-token&quot;, gitlabToken))\n  .setRemote(localGit.getGitlabUrl())\n  .setPushAll()\n  .call();\n</code></pre>\n<p>This creates a repository, but it only pushes the main branch and ignores all tags.</p>\n<p>I also tried to add <code>.setPushTags()</code>, but still, the other branches are missing.</p>\n<p>What do I need to change to push &quot;everything&quot;?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":350538,"reputation":26874,"user_id":688653,"accept_rate":100,"display_name":"zw324"},"score":1,"creation_date":1309614238,"post_id":6557358,"comment_id":7727830,"body_markdown":"Maybe here? http://stackoverflow.com/questions/2292629/where-to-find-source-code-for-java-lang-native-methods","body":"Maybe here? <a href=\"http://stackoverflow.com/questions/2292629/where-to-find-source-code-for-java-lang-native-methods\" title=\"where to find source code for java lang native methods\">stackoverflow.com/questions/2292629/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1309614256,"creation_date":1309614256,"answer_id":6557383,"question_id":6557358,"body_markdown":"&gt; ***But where can I find those native implementations of Java?***\r\n\r\nYou&#39;ll have to download the complete source of some JDK. In OpenJDK for instance, you&#39;ll find lots of files related to threads:\r\n\r\n\r\n    ./jdk/src/share/native/java/lang/Thread.c","title":"Native methods in Java","body":"<blockquote>\n  <p><em><strong>But where can I find those native implementations of Java?</em></strong></p>\n</blockquote>\n\n<p>You'll have to download the complete source of some JDK. In OpenJDK for instance, you'll find lots of files related to threads:</p>\n\n<pre><code>./jdk/src/share/native/java/lang/Thread.c\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238552,"reputation":84579,"user_id":507519,"accept_rate":86,"display_name":"thkala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1309614277,"creation_date":1309614277,"answer_id":6557386,"question_id":6557358,"body_markdown":"You can find the implementations of these functions in the source code of your JRE. E.g. the source code of OpenJDK 6 is [here](http://download.java.net/openjdk/jdk6/).\r\n","title":"Native methods in Java","body":"<p>You can find the implementations of these functions in the source code of your JRE. E.g. the source code of OpenJDK 6 is <a href=\"http://download.java.net/openjdk/jdk6/\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1309614293,"creation_date":1309614293,"answer_id":6557390,"question_id":6557358,"body_markdown":"Each JVM has its own implementation. You may find the implementation of OpenJDK here : http://openjdk.java.net/","title":"Native methods in Java","body":"<p>Each JVM has its own implementation. You may find the implementation of OpenJDK here : <a href=\"http://openjdk.java.net/\" rel=\"nofollow\">http://openjdk.java.net/</a></p>\n"},{"tags":[],"owner":{"account_id":135720,"reputation":2208,"user_id":338784,"accept_rate":75,"display_name":"Jihed Amine"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1309614462,"creation_date":1309614462,"answer_id":6557406,"question_id":6557358,"body_markdown":"The native code is implemented within the JVM (Java Virtual Machine). The Java developer isn&#39;t supposed to worry about their implementation as they relate to the inner working of the virtual machine. However, you can write your own native methods using JNI or see how they are implemented for a specific JVM.","title":"Native methods in Java","body":"<p>The native code is implemented within the JVM (Java Virtual Machine). The Java developer isn't supposed to worry about their implementation as they relate to the inner working of the virtual machine. However, you can write your own native methods using JNI or see how they are implemented for a specific JVM.</p>\n"},{"tags":[],"owner":{"account_id":2805226,"reputation":777,"user_id":2412606,"display_name":"Happy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586156320,"creation_date":1586026563,"answer_id":61033233,"question_id":6557358,"body_markdown":"The implementation of these code is in the source code of the OpenJDK, located at [github.com/openjdk/jdk][1] .\r\n\r\nExample for [java.lang.Runtime][2]:\r\n\r\n- [src/java.base/share/classes/java/lang/Runtime.java][3] - Java Code\r\n- [src/java.base/share/native/libjava/Runtime.c][4] - Native code\r\n\r\nNative code for the garbage collection method `System.gc()`:\r\n\r\n```\r\nJNIEXPORT void JNICALL\r\nJava_java_lang_Runtime_gc(JNIEnv *env, jobject this)\r\n{\r\n    JVM_GC();\r\n}\r\n```\r\n\r\n```\r\nJVM_ENTRY_NO_ENV(void, JVM_GC(void))\r\n  JVMWrapper(&quot;JVM_GC&quot;);\r\n  if (!DisableExplicitGC) {\r\n    Universe::heap()-&gt;collect(GCCause::_java_lang_system_gc);\r\n  }\r\nJVM_END\r\n```\r\n\r\nReference\r\n\r\n- [Java Native Methods Essentials][5]\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/tree/master/src\r\n  [2]: https://openjdk.binarydoc.org/net.java/openjdk/current/classfile?classfilelocation=java.lang.runtime\r\n  [3]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Runtime.java\r\n  [4]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/native/libjava/Runtime.c\r\n  [5]: https://binarydoc.blogspot.com/2020/04/java-native-methods-essentials-from.html","title":"Native methods in Java","body":"<p>The implementation of these code is in the source code of the OpenJDK, located at <a href=\"https://github.com/openjdk/jdk/tree/master/src\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk</a> .</p>\n\n<p>Example for <a href=\"https://openjdk.binarydoc.org/net.java/openjdk/current/classfile?classfilelocation=java.lang.runtime\" rel=\"nofollow noreferrer\">java.lang.Runtime</a>:</p>\n\n<ul>\n<li><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Runtime.java\" rel=\"nofollow noreferrer\">src/java.base/share/classes/java/lang/Runtime.java</a> - Java Code</li>\n<li><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/native/libjava/Runtime.c\" rel=\"nofollow noreferrer\">src/java.base/share/native/libjava/Runtime.c</a> - Native code</li>\n</ul>\n\n<p>Native code for the garbage collection method <code>System.gc()</code>:</p>\n\n<pre><code>JNIEXPORT void JNICALL\nJava_java_lang_Runtime_gc(JNIEnv *env, jobject this)\n{\n    JVM_GC();\n}\n</code></pre>\n\n<pre><code>JVM_ENTRY_NO_ENV(void, JVM_GC(void))\n  JVMWrapper(\"JVM_GC\");\n  if (!DisableExplicitGC) {\n    Universe::heap()-&gt;collect(GCCause::_java_lang_system_gc);\n  }\nJVM_END\n</code></pre>\n\n<p>Reference</p>\n\n<ul>\n<li><a href=\"https://binarydoc.blogspot.com/2020/04/java-native-methods-essentials-from.html\" rel=\"nofollow noreferrer\">Java Native Methods Essentials</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22790301,"reputation":103,"user_id":16944744,"display_name":"Dmitriy Parkhomenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676978944,"creation_date":1676978944,"answer_id":75519880,"question_id":6557358,"body_markdown":"A native method in Java is a method that is written in a language other than Java and can be called from a Java program.\r\n\r\nSuch methods can be useful in some situations, for example, if you need to interact with the operating system or with executable files that are not supported by Java.\r\n\r\nIn order to call a native method, you must first write it in a non-Java language, such as C/C++. Then it must be compiled into a library with the extension &quot;.dll&quot; for Windows or &quot;.so&quot; for Linux.\r\n\r\nAfter that, you need to use the keyword &quot;native&quot; in the method description in Java. For example, to call a native method named &quot;myNativeMethod&quot;, its description in Java might look like this:\r\n\r\n```\r\npublic native void myNativeMethod();\r\n```\r\nYou then need to call the special System.loadLibrary() method to load the library with native code before calling the native method. Example:\r\n\r\n```\r\nSystem.loadLibrary(&quot;myLibrary&quot;);\r\n```\r\nwhere &quot;myLibrary&quot; is the filename of the library you compiled.\r\n\r\nFinally, you can call your native method just like any other Java method:\r\n\r\n```java\r\nmyNativeMethod();\r\n```\r\nNative methods can be useful in some cases, but use them with caution, as they can cause problems with the security, stability, and portability of the application.\r\n\r\nHere is an example of calling a native method in Java, the library of which is written in assembler:\r\n1. Create class with native method:\r\n```java\r\npublic class NativeLibrary {\r\n    static {\r\n        System.loadLibrary(&quot;native&quot;);\r\n    }\r\n\r\n    public native int add(int a, int b);\r\n}\r\n```\r\n2. Create a dynamic library in assembler (e.g. for Linux):\r\n```\r\nsection .data ; Data section\r\nsection .text ; Code section\r\n     global _add ; Declare the global symbol &quot;_add&quot;\r\n\r\n_add: ; Start of function &quot;_add&quot;\r\n     push ebp ; We store the stack base register on the stack\r\n     mov ebp, esp ; We set the stack base register\r\n     mov eax, [ebp+8] ; a is the first argument of the function, stored on the stack with an 8-byte offset\r\n     mov ebx, [ebp+12] ; b is the second argument of the function, stored on the stack with a 12-byte offset\r\n     add eax, ebx ; Add &quot;a&quot; and &quot;b&quot;\r\n     mov esp, ebp ; We restore the stack register\r\n     pop ebp ; We restore the stack base register\r\n     ret; We return the result\r\n```\r\n3. Build a dynamic library:\r\n```\r\nnasm -f elf32 native.asm ; We compile the file on the assembler\r\ngcc -shared -m32 -o libnative.so native.o ; We create a dynamic library &quot;libnative.so&quot;\r\n```\r\n4. run:\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        NativeLibrary lib = new NativeLibrary();\r\n        int sum = lib.add(2, 3); // call method &quot;add&quot;\r\n        System.out.println(sum); // output data in console\r\n    }\r\n}\r\n```","title":"Native methods in Java","body":"<p>A native method in Java is a method that is written in a language other than Java and can be called from a Java program.</p>\n<p>Such methods can be useful in some situations, for example, if you need to interact with the operating system or with executable files that are not supported by Java.</p>\n<p>In order to call a native method, you must first write it in a non-Java language, such as C/C++. Then it must be compiled into a library with the extension &quot;.dll&quot; for Windows or &quot;.so&quot; for Linux.</p>\n<p>After that, you need to use the keyword &quot;native&quot; in the method description in Java. For example, to call a native method named &quot;myNativeMethod&quot;, its description in Java might look like this:</p>\n<pre><code>public native void myNativeMethod();\n</code></pre>\n<p>You then need to call the special System.loadLibrary() method to load the library with native code before calling the native method. Example:</p>\n<pre><code>System.loadLibrary(&quot;myLibrary&quot;);\n</code></pre>\n<p>where &quot;myLibrary&quot; is the filename of the library you compiled.</p>\n<p>Finally, you can call your native method just like any other Java method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myNativeMethod();\n</code></pre>\n<p>Native methods can be useful in some cases, but use them with caution, as they can cause problems with the security, stability, and portability of the application.</p>\n<p>Here is an example of calling a native method in Java, the library of which is written in assembler:</p>\n<ol>\n<li>Create class with native method:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class NativeLibrary {\n    static {\n        System.loadLibrary(&quot;native&quot;);\n    }\n\n    public native int add(int a, int b);\n}\n</code></pre>\n<ol start=\"2\">\n<li>Create a dynamic library in assembler (e.g. for Linux):</li>\n</ol>\n<pre><code>section .data ; Data section\nsection .text ; Code section\n     global _add ; Declare the global symbol &quot;_add&quot;\n\n_add: ; Start of function &quot;_add&quot;\n     push ebp ; We store the stack base register on the stack\n     mov ebp, esp ; We set the stack base register\n     mov eax, [ebp+8] ; a is the first argument of the function, stored on the stack with an 8-byte offset\n     mov ebx, [ebp+12] ; b is the second argument of the function, stored on the stack with a 12-byte offset\n     add eax, ebx ; Add &quot;a&quot; and &quot;b&quot;\n     mov esp, ebp ; We restore the stack register\n     pop ebp ; We restore the stack base register\n     ret; We return the result\n</code></pre>\n<ol start=\"3\">\n<li>Build a dynamic library:</li>\n</ol>\n<pre><code>nasm -f elf32 native.asm ; We compile the file on the assembler\ngcc -shared -m32 -o libnative.so native.o ; We create a dynamic library &quot;libnative.so&quot;\n</code></pre>\n<ol start=\"4\">\n<li>run:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        NativeLibrary lib = new NativeLibrary();\n        int sum = lib.add(2, 3); // call method &quot;add&quot;\n        System.out.println(sum); // output data in console\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":437942,"reputation":407,"user_id":825901,"accept_rate":100,"display_name":"killerCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6435,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":6557406,"answer_count":6,"score":5,"last_activity_date":1676978944,"creation_date":1309614045,"question_id":6557358,"body_markdown":"I have spent some time learning what are Java Native methods and that they are implemented in platform dependent code(mostly C).\r\n\r\nBut where can I find those native implementations of Java? eg : sleep(long millis) method of Thread class is native. But where is its implementation code???","title":"Native methods in Java","body":"<p>I have spent some time learning what are Java Native methods and that they are implemented in platform dependent code(mostly C).</p>\n\n<p>But where can I find those native implementations of Java? eg : sleep(long millis) method of Thread class is native. But where is its implementation code???</p>\n"},{"tags":["java","spring","maven","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":4295560,"reputation":2627,"user_id":3510725,"display_name":"Minar Mahmud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591224402,"creation_date":1591224402,"answer_id":62183989,"question_id":62178999,"body_markdown":"Library for `c3p0 Connection Pooling` is missing. Add dependency to your build script.\r\n\r\n**Gradle**\r\n\r\n    compile group: &#39;com.mchange&#39;, name: &#39;c3p0&#39;, version: &#39;0.9.5.5&#39;\r\n\r\n\r\n**Maven**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n        &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n        &lt;version&gt;0.9.5.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOr download [the jar from Maven Repository][1] if you are not using any of them.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.mchange/c3p0/0.9.5.5","title":"org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [com.mchange.v2.c3p0.ComboPooledDataSource] for bean","body":"<p>Library for <code>c3p0 Connection Pooling</code> is missing. Add dependency to your build script.</p>\n\n<p><strong>Gradle</strong></p>\n\n<pre><code>compile group: 'com.mchange', name: 'c3p0', version: '0.9.5.5'\n</code></pre>\n\n<p><strong>Maven</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n    &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n    &lt;version&gt;0.9.5.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Or download <a href=\"https://mvnrepository.com/artifact/com.mchange/c3p0/0.9.5.5\" rel=\"nofollow noreferrer\">the jar from Maven Repository</a> if you are not using any of them.</p>\n"},{"tags":[],"owner":{"account_id":16090737,"reputation":59,"user_id":11614255,"display_name":"Gunasekaran S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676978731,"creation_date":1676528072,"answer_id":75468478,"question_id":62178999,"body_markdown":"```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n  xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n  xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n  xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n  xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\nhttp://www.springframework.org/schema/beans/spring-beans-2.5.xsd\r\nhttp://www.springframework.org/schema/mvc\r\nhttp://www.springframework.org/schema/beans/spring-mvc-3.0.xsd\r\nhttp://www.springframework.org/schema/tx\r\nhttp://www.springframework.org/schema/tx/spring-tx.xsd\r\nhttp://www.springframework.org/schema/context\r\nhttp://www.springframework.org/schema/context/spring-context-2.5.xsd&quot;&gt;\r\n\r\n  &lt;context:component-scan base-package=&quot;com.springmvc12&quot;&gt;&lt;/context:component-scan&gt;\r\n  &lt;context:annotation-config&gt;&lt;/context:annotation-config&gt;\r\n  &lt;bean id=&quot;myDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPoolDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n    &lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;\r\n    &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql://localhost:3306/telusko&quot;&gt;&lt;/property&gt;\r\n    &lt;property name=&quot;user&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\r\n    &lt;property name=&quot;password&quot; value=&quot;12345678&quot;&gt;&lt;/property&gt;\r\n    &lt;property name=&quot;minPoolSize&quot; value=&quot;5&quot;&gt;&lt;/property&gt;\r\n    &lt;property name=&quot;maxPoolSize&quot; value=&quot;10&quot;&gt;&lt;/property&gt;\r\n    &lt;property name=&quot;maxIdleTime&quot; value=&quot;30000&quot;&gt;&lt;/property&gt;\r\n  &lt;/bean&gt;\r\n\r\n  &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n    &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot;/&gt;\r\n    &lt;property name=&quot;packagesToScan&quot; value=&quot;com.springmvc12.alien&quot;/&gt;\r\n    &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n      &lt;props&gt;\r\n        &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n        &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n      &lt;/props&gt;\r\n    &lt;/property&gt;\r\n  &lt;/bean&gt;\r\n\r\n  &lt;bean id=&quot;myTransactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;&gt;&lt;/property&gt;\r\n  &lt;/bean&gt;\r\n\r\n  &lt;tx:annotation-driven transaction-manager=&quot;myTransactionManager&quot;/&gt;\r\n  \r\n  &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    &lt;property name=&quot;prefix&quot; value=&quot;/views/&quot;&gt;&lt;/property&gt;\r\n    &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;\r\n  &lt;/bean&gt;\r\n&lt;/beans&gt;\r\n```\r\n","title":"org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [com.mchange.v2.c3p0.ComboPooledDataSource] for bean","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\n  xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n  xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n  xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n  xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans-2.5.xsd\nhttp://www.springframework.org/schema/mvc\nhttp://www.springframework.org/schema/beans/spring-mvc-3.0.xsd\nhttp://www.springframework.org/schema/tx\nhttp://www.springframework.org/schema/tx/spring-tx.xsd\nhttp://www.springframework.org/schema/context\nhttp://www.springframework.org/schema/context/spring-context-2.5.xsd&quot;&gt;\n\n  &lt;context:component-scan base-package=&quot;com.springmvc12&quot;&gt;&lt;/context:component-scan&gt;\n  &lt;context:annotation-config&gt;&lt;/context:annotation-config&gt;\n  &lt;bean id=&quot;myDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPoolDataSource&quot; destroy-method=&quot;close&quot;&gt;\n    &lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql://localhost:3306/telusko&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;user&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;password&quot; value=&quot;12345678&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;minPoolSize&quot; value=&quot;5&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;maxPoolSize&quot; value=&quot;10&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;maxIdleTime&quot; value=&quot;30000&quot;&gt;&lt;/property&gt;\n  &lt;/bean&gt;\n\n  &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot;/&gt;\n    &lt;property name=&quot;packagesToScan&quot; value=&quot;com.springmvc12.alien&quot;/&gt;\n    &lt;property name=&quot;hibernateProperties&quot;&gt;\n      &lt;props&gt;\n        &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n        &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\n      &lt;/props&gt;\n    &lt;/property&gt;\n  &lt;/bean&gt;\n\n  &lt;bean id=&quot;myTransactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;&gt;&lt;/property&gt;\n  &lt;/bean&gt;\n\n  &lt;tx:annotation-driven transaction-manager=&quot;myTransactionManager&quot;/&gt;\n  \n  &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n    &lt;property name=&quot;prefix&quot; value=&quot;/views/&quot;&gt;&lt;/property&gt;\n    &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;\n  &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n"}],"owner":{"account_id":13160542,"reputation":197,"user_id":9506183,"display_name":"vishnu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62183989,"answer_count":2,"score":0,"last_activity_date":1676978731,"creation_date":1591205244,"question_id":62178999,"body_markdown":"This is Spring MVC(5.2.6.RELEASE) and hibernate(5.4.17)  application. I&#39;m creating this in Eclipse Photon IDE. I guess some JAR files has to be added but don&#39;t know what are  the JAR files. Also I don&#39;t know whether it is possible to create a  Spring MVC and Hibernate web application with hibernate.cfg.xml file instead of using spring-hibernate integration in applicationContext.xml.I&#39;m using mysql workbench (8.0 CE) and the mysql connector is 8.0.20  Here is the error displayed :\r\n\r\n```\r\nun 03, 2020 10:18:08 PM org.apache.catalina.core.StandardContext loadOnStartup\r\nSEVERE: Servlet [studentDetails] in web application [/HibernateWithQuery] threw load() exception\r\njava.lang.ClassNotFoundException: com.mchange.v2.c3p0.ComboPooledDataSource\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1365)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1188)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:344)\r\n\tat org.springframework.util.ClassUtils.forName(ClassUtils.java:285)\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:469)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1545)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1472)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:682)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:649)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1608)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:526)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:505)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:491)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBeanNamesForType(AbstractApplicationContext.java:1230)\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getCandidateBeanNames(AbstractHandlerMethodMapping.java:232)\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:215)\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:205)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:188)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$51/1849277142.getObject(Unknown Source)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:895)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n\tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\r\n\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:668)\r\n\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:716)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:591)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\r\n\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1134)\r\n\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1089)\r\n\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:983)\r\n\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4871)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5180)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:633)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:483)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474)\r\n\r\nJun 03, 2020 10:18:08 PM org.apache.coyote.AbstractProtocol start\r\nINFO: Starting ProtocolHandler [&quot;http-nio-8080&quot;]\r\nJun 03, 2020 10:18:08 PM org.apache.catalina.startup.Catalina start\r\nINFO: Server startup in [55,647] milliseconds\r\n\r\n\t\r\n```\r\nHere is spring-context.xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\t    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n\t\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/beans     \r\n        http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/mvc \r\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n        http://www.springframework.org/schema/context \r\n        http://www.springframework.org/schema/context/spring-context.xsd\r\n        http://www.springframework.org/schema/tx \r\n        http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;\r\n        \r\n       &lt;mvc:annotation-driven/&gt;\r\n\t&lt;context:component-scan base-package=&quot;com.gavs&quot; /&gt;\r\n\r\n\t&lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources \r\n\t\tin the /WEB-INF/views directory --&gt;\r\n\t&lt;bean \r\n\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t\r\n\t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n\t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t &lt;!-- Step 1: Define Database DataSource / connection pool --&gt;\r\n\t \r\n    &lt;bean id=&quot;myDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n        &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql://localhost:3306/initialdb&quot; /&gt;\r\n        &lt;property name=&quot;user&quot; value=&quot;root&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;root&quot; /&gt;\r\n        \r\n    &lt;/bean&gt;\r\n    \r\n    &lt;!-- Step 2: Setup Hibernate session factory --&gt;\r\n    \r\n    &lt;bean id=&quot;sessionFactory&quot;\r\n  class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot; /&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.gavs.beans&quot; /&gt;\r\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;!-- Step 3: Setup Hibernate transaction manager --&gt;\r\n    \r\n    &lt;bean id=&quot;myTransactionManager&quot;\r\n            class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;!-- Step 4: Enable configuration of transactional behavior based on annotations --&gt;\r\n    \r\n    &lt;tx:annotation-driven transaction-manager=&quot;myTransactionManager&quot; /&gt;\r\n    \r\n    &lt;/beans&gt;\r\n```\r\nThank You \r\n","title":"org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [com.mchange.v2.c3p0.ComboPooledDataSource] for bean","body":"<p>This is Spring MVC(5.2.6.RELEASE) and hibernate(5.4.17)  application. I'm creating this in Eclipse Photon IDE. I guess some JAR files has to be added but don't know what are  the JAR files. Also I don't know whether it is possible to create a  Spring MVC and Hibernate web application with hibernate.cfg.xml file instead of using spring-hibernate integration in applicationContext.xml.I'm using mysql workbench (8.0 CE) and the mysql connector is 8.0.20  Here is the error displayed :</p>\n\n<pre><code>un 03, 2020 10:18:08 PM org.apache.catalina.core.StandardContext loadOnStartup\nSEVERE: Servlet [studentDetails] in web application [/HibernateWithQuery] threw load() exception\njava.lang.ClassNotFoundException: com.mchange.v2.c3p0.ComboPooledDataSource\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1365)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1188)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:344)\n    at org.springframework.util.ClassUtils.forName(ClassUtils.java:285)\n    at org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:469)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1545)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1472)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:682)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:649)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1608)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:526)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:505)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:491)\n    at org.springframework.context.support.AbstractApplicationContext.getBeanNamesForType(AbstractApplicationContext.java:1230)\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getCandidateBeanNames(AbstractHandlerMethodMapping.java:232)\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:215)\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:205)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:188)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$51/1849277142.getObject(Unknown Source)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:895)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:668)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:716)\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:591)\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1134)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1089)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:983)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4871)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5180)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:841)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:421)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:633)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:343)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:474)\n\nJun 03, 2020 10:18:08 PM org.apache.coyote.AbstractProtocol start\nINFO: Starting ProtocolHandler [\"http-nio-8080\"]\nJun 03, 2020 10:18:08 PM org.apache.catalina.startup.Catalina start\nINFO: Server startup in [55,647] milliseconds\n\n\n</code></pre>\n\n<p>Here is spring-context.xml file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n        xmlns:tx=\"http://www.springframework.org/schema/tx\"\n\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"\n        http://www.springframework.org/schema/beans     \n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/mvc \n        http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/context \n        http://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/tx \n        http://www.springframework.org/schema/tx/spring-tx.xsd\"&gt;\n\n       &lt;mvc:annotation-driven/&gt;\n    &lt;context:component-scan base-package=\"com.gavs\" /&gt;\n\n    &lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources \n        in the /WEB-INF/views directory --&gt;\n    &lt;bean \n        class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n\n        &lt;property name=\"prefix\" value=\"/WEB-INF/views/\" /&gt;\n        &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n    &lt;/bean&gt;\n\n     &lt;!-- Step 1: Define Database DataSource / connection pool --&gt;\n\n    &lt;bean id=\"myDataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\"&gt;\n        &lt;property name=\"driverClass\" value=\"com.mysql.jdbc.Driver\" /&gt;\n        &lt;property name=\"jdbcUrl\" value=\"jdbc:mysql://localhost:3306/initialdb\" /&gt;\n        &lt;property name=\"user\" value=\"root\" /&gt;\n        &lt;property name=\"password\" value=\"root\" /&gt;\n\n    &lt;/bean&gt;\n\n    &lt;!-- Step 2: Setup Hibernate session factory --&gt;\n\n    &lt;bean id=\"sessionFactory\"\n  class=\"org.springframework.orm.hibernate5.LocalSessionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"myDataSource\" /&gt;\n        &lt;property name=\"packagesToScan\" value=\"com.gavs.beans\" /&gt;\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL8Dialect&lt;/prop&gt;\n                &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Step 3: Setup Hibernate transaction manager --&gt;\n\n    &lt;bean id=\"myTransactionManager\"\n            class=\"org.springframework.orm.hibernate5.HibernateTransactionManager\"&gt;\n        &lt;property name=\"sessionFactory\" ref=\"sessionFactory\"/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Step 4: Enable configuration of transactional behavior based on annotations --&gt;\n\n    &lt;tx:annotation-driven transaction-manager=\"myTransactionManager\" /&gt;\n\n    &lt;/beans&gt;\n</code></pre>\n\n<p>Thank You </p>\n"},{"tags":["java","bouncycastle","java-security"],"comments":[{"owner":{"account_id":26859844,"reputation":935,"user_id":20443541,"display_name":"kaliiiiiiiii"},"score":0,"creation_date":1676984949,"post_id":75464287,"comment_id":133243729,"body_markdown":"Seems like this isn&#39;t possible for now https://stackoverflow.com/a/60020403/20443541","body":"Seems like this isn&#39;t possible for now <a href=\"https://stackoverflow.com/a/60020403/20443541\">stackoverflow.com/a/60020403/20443541</a>"},{"owner":{"account_id":26859844,"reputation":935,"user_id":20443541,"display_name":"kaliiiiiiiii"},"score":0,"creation_date":1676985068,"post_id":75464287,"comment_id":133243772,"body_markdown":"Maybe https://commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art050 helps you","body":"Maybe <a href=\"https://commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art050\" rel=\"nofollow noreferrer\">commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art05&zwnj;&#8203;0</a> helps you"},{"owner":{"account_id":248714,"reputation":368,"user_id":524279,"accept_rate":100,"display_name":"Manth"},"score":0,"creation_date":1677193826,"post_id":75464287,"comment_id":133295323,"body_markdown":"I couldn&#39;t find any solution for it either, for now I have added script which is called from dockerfile to execute these steps.","body":"I couldn&#39;t find any solution for it either, for now I have added script which is called from dockerfile to execute these steps."}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676489357,"creation_date":1676489357,"answer_id":75464604,"question_id":75464287,"body_markdown":"You could use\r\n\r\n```java\r\nRuntime.getRuntime().exec(&quot;openssl rsa -in enc_private.key -out private.key -passin pass:passphrase_xyz&quot;);\r\n```\r\n\r\nMaybe a bash or PowerShell script would be better suited?","title":"I have RSA encrypted private key with passphrase how do I decrypt the private key file","body":"<p>You could use</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runtime.getRuntime().exec(&quot;openssl rsa -in enc_private.key -out private.key -passin pass:passphrase_xyz&quot;);\n</code></pre>\n<p>Maybe a bash or PowerShell script would be better suited?</p>\n"}],"owner":{"account_id":248714,"reputation":368,"user_id":524279,"accept_rate":100,"display_name":"Manth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75464604,"answer_count":1,"score":-1,"last_activity_date":1676978707,"creation_date":1676487221,"question_id":75464287,"body_markdown":"Basically I want to do this in command in java\r\n```shell\r\nopenssl rsa -in enc_private.key -out private.key -passin pass:passphrase_xyz\r\n```\r\nbeginning of my encrypted key file looks like this\r\n```\r\n-----BEGIN RSA PRIVATE KEY-----\r\nProc-Type: 4,ENCRYPTED\r\nDEK-Info: DES-EDE3-CBC,59e5e15b3d9474e6\r\n```\r\n\r\nplease assist.\r\n\r\n","title":"I have RSA encrypted private key with passphrase how do I decrypt the private key file","body":"<p>Basically I want to do this in command in java</p>\n<pre class=\"lang-bash prettyprint-override\"><code>openssl rsa -in enc_private.key -out private.key -passin pass:passphrase_xyz\n</code></pre>\n<p>beginning of my encrypted key file looks like this</p>\n<pre><code>-----BEGIN RSA PRIVATE KEY-----\nProc-Type: 4,ENCRYPTED\nDEK-Info: DES-EDE3-CBC,59e5e15b3d9474e6\n</code></pre>\n<p>please assist.</p>\n"},{"tags":["java","get","set","java.util.scanner","whitespace"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1576401788,"post_id":59342568,"comment_id":104882458,"body_markdown":"OK. So, which is the method of LabExer2 that asks the user to enter the name, the quantity and the price? (I know the answer. I want you to reason and find what you need to do)","body":"OK. So, which is the method of LabExer2 that asks the user to enter the name, the quantity and the price? (I know the answer. I want you to reason and find what you need to do)"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1576402363,"post_id":59342568,"comment_id":104882573,"body_markdown":"@Groenhout that must be part of the problem (although he must have figured it out since the code is there, but commented out). If you read the question until the end, you&#39;ll see that another part, which is the one that he should figure out first (hence my question) is: *still not finished because I can&#39;t figure out the process in the other class.*","body":"@Groenhout that must be part of the problem (although he must have figured it out since the code is there, but commented out). If you read the question until the end, you&#39;ll see that another part, which is the one that he should figure out first (hence my question) is: <i>still not finished because I can&#39;t figure out the process in the other class.</i>"},{"owner":{"account_id":15316795,"reputation":349,"user_id":11050464,"display_name":"Richard Johnson"},"score":0,"creation_date":1576483927,"post_id":59342568,"comment_id":104900367,"body_markdown":"@JBNizet I commented it out because it is not correct and what I want is to input the two data separated only by a whitespace.","body":"@JBNizet I commented it out because it is not correct and what I want is to input the two data separated only by a whitespace."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1576485274,"post_id":59342568,"comment_id":104900883,"body_markdown":"that&#39;s what your commented out code allows. Why do you think it doesn&#39;t? Have you tested it (hence my first question)?","body":"that&#39;s what your commented out code allows. Why do you think it doesn&#39;t? Have you tested it (hence my first question)?"}],"answers":[{"tags":[],"owner":{"account_id":11453362,"reputation":1,"user_id":8395197,"display_name":"Onah C.S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576411828,"creation_date":1576410542,"answer_id":59343613,"question_id":59342568,"body_markdown":"You can create two prompts, one to take in the `itemQuantity` int and another to take the `itemPrice` Double.\r\n\r\nBut if you want the user to input both values at once, you need to write a code in the readInput() method that will extract the `itemQuantity` value and the `itemPrice` value.\r\n\r\nTry this:\r\n\r\n    public void readInput() {\r\n        Scanner s = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;Enter the name of the item you are purchasing.&quot;);\r\n        itemName = s.nextLine();\r\n        System.out.println(&quot;Enter the quantity and price separated by a space.&quot;);\r\n        String userInput = s.nextLine(); //String to collect user input\r\n        \r\n        //code to loop through String in search for Whitespace\r\n        for (int x=0; x&lt;String.length(); x++) {\r\n            if (userInput.charAt(x) == &#39; &#39;) {\r\n                //whitespace found, set itemQuantity to a substring \r\n                //from the first char in UserInput to the char before whitespace\r\n                itemQuantity = Integer.parseInt(userInput.substring(0, x-1)); \r\n                //convert String to int\r\n                itemPrice = Integer.parseInt(userInput.substring(x+1, userInput.length()));\r\n                x = String.length();\r\n            } else {\r\n                itemQuantity = Integer.parseInt(userInput);\r\n            }\r\n        }\r\n    }\r\n\r\nPardon me if my code is not properly formatted, I&#39;m new here.","title":"getting two data separated by space and calculate in java","body":"<p>You can create two prompts, one to take in the <code>itemQuantity</code> int and another to take the <code>itemPrice</code> Double.</p>\n\n<p>But if you want the user to input both values at once, you need to write a code in the readInput() method that will extract the <code>itemQuantity</code> value and the <code>itemPrice</code> value.</p>\n\n<p>Try this:</p>\n\n<pre><code>public void readInput() {\n    Scanner s = new Scanner(System.in);\n\n    System.out.println(\"Enter the name of the item you are purchasing.\");\n    itemName = s.nextLine();\n    System.out.println(\"Enter the quantity and price separated by a space.\");\n    String userInput = s.nextLine(); //String to collect user input\n\n    //code to loop through String in search for Whitespace\n    for (int x=0; x&lt;String.length(); x++) {\n        if (userInput.charAt(x) == ' ') {\n            //whitespace found, set itemQuantity to a substring \n            //from the first char in UserInput to the char before whitespace\n            itemQuantity = Integer.parseInt(userInput.substring(0, x-1)); \n            //convert String to int\n            itemPrice = Integer.parseInt(userInput.substring(x+1, userInput.length()));\n            x = String.length();\n        } else {\n            itemQuantity = Integer.parseInt(userInput);\n        }\n    }\n}\n</code></pre>\n\n<p>Pardon me if my code is not properly formatted, I'm new here.</p>\n"},{"tags":[],"owner":{"account_id":27841094,"reputation":1,"user_id":21257569,"display_name":"Niel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676978568,"creation_date":1676978504,"answer_id":75519801,"question_id":59342568,"body_markdown":"Only need to convert the string into Integer, and string into Double. Then, to put 2 numbers and separate them, use the one-dimensional array and the split function. \r\n\r\ntry this:\r\n\r\n    public void readInput(){\r\n        //Enter the product of item name\r\n        System.out.print(&quot;Enter the name of the item you are purchasing: &quot;);\r\n        ITEM_NAME = input.nextLine();\r\n        //Enter the quantity and the price for the item\r\n        System.out.print(&quot;Enter the quantity and price separated by a space: &quot;);\r\n        String userInput = input.nextLine();\r\n\r\n        String[] inputArray = userInput.split(&quot; &quot;);\r\n        ITEM_QUANTITY = Integer.parseInt(inputArray[0]);\r\n        ITEM_PRICE = Double.parseDouble(inputArray[1]);\r\n    }","title":"getting two data separated by space and calculate in java","body":"<p>Only need to convert the string into Integer, and string into Double. Then, to put 2 numbers and separate them, use the one-dimensional array and the split function.</p>\n<p>try this:</p>\n<pre><code>public void readInput(){\n    //Enter the product of item name\n    System.out.print(&quot;Enter the name of the item you are purchasing: &quot;);\n    ITEM_NAME = input.nextLine();\n    //Enter the quantity and the price for the item\n    System.out.print(&quot;Enter the quantity and price separated by a space: &quot;);\n    String userInput = input.nextLine();\n\n    String[] inputArray = userInput.split(&quot; &quot;);\n    ITEM_QUANTITY = Integer.parseInt(inputArray[0]);\n    ITEM_PRICE = Double.parseDouble(inputArray[1]);\n}\n</code></pre>\n"}],"owner":{"account_id":15316795,"reputation":349,"user_id":11050464,"display_name":"Richard Johnson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1843,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676978568,"creation_date":1576401433,"question_id":59342568,"body_markdown":"My problem is I want to input two numbers separated by a space and getting those two numbers and compute those two numbers. for example, i typed &quot;10 20&quot;, they are separated by a space and then I want to get and compute them as separate: 10 * 20 = 200..\r\n\r\nwhat I have is a getter and setter for this part\r\nthese are my code:\r\n\r\nMY GETTER AND SETTER CLASS\r\n\r\n    import java.util.*;\r\n    \r\n    public class LabExer2\r\n    {\r\n    \tprivate String itemName;\r\n    \tprivate double itemPrice;\r\n    \tprivate int itemQuantity;\r\n    \tprivate double amountDue;\r\n    \t\r\n    \tpublic void setItemName(String newItemName)\r\n    \t{\r\n    \t\titemName = newItemName;\r\n    \t}\r\n    \t\r\n    \tpublic String getItemName()\r\n    \t{\r\n    \t\treturn itemName;\r\n    \t}\r\n    \t\r\n    \tpublic void setTotalCost(int quantity, double price)\r\n    \t{\r\n    \t\titemQuantity = quantity;\r\n    \t\titemPrice = price;\r\n    \t\t\r\n    \t\tamountDue = itemQuantity * itemPrice;\r\n    \t}\r\n    \t\r\n    \tpublic double getTotalCost()\r\n    \t{\r\n    \t\treturn amountDue;\r\n    \t}\r\n    \t\r\n    \tpublic void readInput()\r\n    \t{\r\n    \t\tScanner s = new Scanner(System.in);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Enter the name of the item you are purchasing.&quot;);\r\n    \t\titemName = s.nextLine();\r\n    \t\tSystem.out.println(&quot;Enter the quantity and price separated by a space.&quot;);\r\n    \t\t//itemQuantity = s.nextInt();\r\n    \t\t//itemPrice = s.nextDouble();\r\n\r\n    \t}\r\n    \t\r\n    \tpublic void writeInput()\r\n    \t{\r\n    \t\tSystem.out.println(&quot;You are purchasing &quot; + itemQuantity + &quot; &quot; + itemName + &quot;(s) at &quot; + itemPrice + &quot; each.&quot;);\r\n    \t\tSystem.out.println(&quot;Amount due is &quot; + getTotalCost());\r\n    \t}\r\n    }\r\n\r\nMY MAIN CLASS\r\n\r\n    public class MainLabExer2\r\n    {\r\n    \tpublic static void main(String[]args)\r\n    \t{\r\n    \t\tLabExer2 le = new LabExer2();\r\n    \t\t//still not finished because I can&#39;t figure out the process in the other class.\r\n    \t}\r\n    }\r\n\r\n\r\nThe output I wanted to have:\r\n\r\nEnter the name of the item you are purchasing.  \r\npencil  \r\nEnter the quantity and price separated by a space.  \r\n3 15.50  \r\nYou are purchasing 3 pencil(s) at 15.50 each.  \r\nAmount due is 46.50\r\n\r\nI want to get the 3 and 15.50 and compute. I don&#39;t know what to use or something, I&#39;m just a beginner in java.","title":"getting two data separated by space and calculate in java","body":"<p>My problem is I want to input two numbers separated by a space and getting those two numbers and compute those two numbers. for example, i typed \"10 20\", they are separated by a space and then I want to get and compute them as separate: 10 * 20 = 200..</p>\n\n<p>what I have is a getter and setter for this part\nthese are my code:</p>\n\n<p>MY GETTER AND SETTER CLASS</p>\n\n<pre><code>import java.util.*;\n\npublic class LabExer2\n{\n    private String itemName;\n    private double itemPrice;\n    private int itemQuantity;\n    private double amountDue;\n\n    public void setItemName(String newItemName)\n    {\n        itemName = newItemName;\n    }\n\n    public String getItemName()\n    {\n        return itemName;\n    }\n\n    public void setTotalCost(int quantity, double price)\n    {\n        itemQuantity = quantity;\n        itemPrice = price;\n\n        amountDue = itemQuantity * itemPrice;\n    }\n\n    public double getTotalCost()\n    {\n        return amountDue;\n    }\n\n    public void readInput()\n    {\n        Scanner s = new Scanner(System.in);\n\n        System.out.println(\"Enter the name of the item you are purchasing.\");\n        itemName = s.nextLine();\n        System.out.println(\"Enter the quantity and price separated by a space.\");\n        //itemQuantity = s.nextInt();\n        //itemPrice = s.nextDouble();\n\n    }\n\n    public void writeInput()\n    {\n        System.out.println(\"You are purchasing \" + itemQuantity + \" \" + itemName + \"(s) at \" + itemPrice + \" each.\");\n        System.out.println(\"Amount due is \" + getTotalCost());\n    }\n}\n</code></pre>\n\n<p>MY MAIN CLASS</p>\n\n<pre><code>public class MainLabExer2\n{\n    public static void main(String[]args)\n    {\n        LabExer2 le = new LabExer2();\n        //still not finished because I can't figure out the process in the other class.\n    }\n}\n</code></pre>\n\n<p>The output I wanted to have:</p>\n\n<p>Enter the name of the item you are purchasing.<br>\npencil<br>\nEnter the quantity and price separated by a space.<br>\n3 15.50<br>\nYou are purchasing 3 pencil(s) at 15.50 each.<br>\nAmount due is 46.50</p>\n\n<p>I want to get the 3 and 15.50 and compute. I don't know what to use or something, I'm just a beginner in java.</p>\n"},{"tags":["java","swing","user-interface","panel","flowlayout"],"comments":[{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":0,"creation_date":1676977405,"post_id":75519236,"comment_id":133241368,"body_markdown":"You&#39;re still using null layouts. Why?","body":"You&#39;re still using null layouts. Why?"},{"owner":{"account_id":10341526,"reputation":284,"user_id":13157036,"display_name":"CodingNinja"},"score":0,"creation_date":1677002423,"post_id":75519236,"comment_id":133249568,"body_markdown":"setting the bounds of your panels will prevent them from stretching with the window","body":"setting the bounds of your panels will prevent them from stretching with the window"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676978466,"creation_date":1676978466,"answer_id":75519793,"question_id":75519236,"body_markdown":"Don&#39;t use `null` layouts.  Use Swing layout managers.\r\n\r\nI was able to create the following GUI:\r\n\r\n[![Original GUI][1]][1]\r\n\r\nWhen I maximized the GUI:\r\n\r\n[![Maximized GUI][2]][2]\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.\r\n\r\nAll Swing applications must start with a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and executed on the [Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html).\r\n\r\nI created a `JFrame` with a default `BorderLayout`.\r\n\r\nI created a west `JPanel` to hold the red `JPanel` and the blue `JPanel`.  You didn&#39;t say what you wanted to happen to the red and blue `JPanel` when maximized, so I used a `BoxLayout`.  That way, both `JPanels` would have an equal amount of height.\r\n\r\nI created a green `JPanel` and used a `FlowLayout` for the `JButtons`.\r\n\r\nFinally, I used methods to separate the creation of the `JFrame` from the creation of the `JPanels`.  That way, the code is much easier for other people to read, I can separate my concerns, and I can focus on one small part of the GUI at a time.\r\n\r\nHere&#39;s the complete, runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.BoxLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class BorderLayoutExample implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new BorderLayoutExample());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Border Layout Example&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createWestPanel(), BorderLayout.WEST);\r\n    \t\tframe.add(createGreenPanel(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createGreenPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout(FlowLayout.LEADING, 5, 5));\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \t\tpanel.setBackground(Color.green);\r\n    \t\tpanel.setPreferredSize(new Dimension(800, 600));\r\n    \r\n    \t\tfor (int i = 0; i &lt;= 99; i++) {\r\n    \t\t\tpanel.add(new JButton(String.format(&quot;%02d&quot;, i)));\r\n    \t\t}\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createWestPanel() {\r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tpanel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));\r\n    \t\tpanel.add(createColoredPanel(Color.red));\r\n    \t\tpanel.add(createColoredPanel(Color.blue));\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate JPanel createColoredPanel(Color color) {\r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tpanel.setBackground(color);\r\n    \t\tpanel.setPreferredSize(new Dimension(300, 300));\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/UmF6Y.png\r\n  [2]: https://i.stack.imgur.com/lZDDv.png\r\n","title":"How to use Flow Layout inside a Panel in Java?","body":"<p>Don't use <code>null</code> layouts.  Use Swing layout managers.</p>\n<p>I was able to create the following GUI:</p>\n<p><a href=\"https://i.stack.imgur.com/UmF6Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UmF6Y.png\" alt=\"Original GUI\" /></a></p>\n<p>When I maximized the GUI:</p>\n<p><a href=\"https://i.stack.imgur.com/lZDDv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lZDDv.png\" alt=\"Maximized GUI\" /></a></p>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section.</p>\n<p>All Swing applications must start with a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>I created a <code>JFrame</code> with a default <code>BorderLayout</code>.</p>\n<p>I created a west <code>JPanel</code> to hold the red <code>JPanel</code> and the blue <code>JPanel</code>.  You didn't say what you wanted to happen to the red and blue <code>JPanel</code> when maximized, so I used a <code>BoxLayout</code>.  That way, both <code>JPanels</code> would have an equal amount of height.</p>\n<p>I created a green <code>JPanel</code> and used a <code>FlowLayout</code> for the <code>JButtons</code>.</p>\n<p>Finally, I used methods to separate the creation of the <code>JFrame</code> from the creation of the <code>JPanels</code>.  That way, the code is much easier for other people to read, I can separate my concerns, and I can focus on one small part of the GUI at a time.</p>\n<p>Here's the complete, runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.BoxLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class BorderLayoutExample implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new BorderLayoutExample());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Border Layout Example&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createWestPanel(), BorderLayout.WEST);\n        frame.add(createGreenPanel(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createGreenPanel() {\n        JPanel panel = new JPanel(new FlowLayout(FlowLayout.LEADING, 5, 5));\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        panel.setBackground(Color.green);\n        panel.setPreferredSize(new Dimension(800, 600));\n\n        for (int i = 0; i &lt;= 99; i++) {\n            panel.add(new JButton(String.format(&quot;%02d&quot;, i)));\n        }\n\n        return panel;\n    }\n\n    private JPanel createWestPanel() {\n        JPanel panel = new JPanel();\n        panel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));\n        panel.add(createColoredPanel(Color.red));\n        panel.add(createColoredPanel(Color.blue));\n\n        return panel;\n    }\n\n    private JPanel createColoredPanel(Color color) {\n        JPanel panel = new JPanel();\n        panel.setBackground(color);\n        panel.setPreferredSize(new Dimension(300, 300));\n\n        return panel;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":21938522,"reputation":328,"user_id":16219380,"display_name":"Aman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75519793,"answer_count":1,"score":1,"last_activity_date":1676978466,"creation_date":1676975675,"question_id":75519236,"body_markdown":"Here is the code with problem:\r\n---\r\n```java\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JButton;\r\n\r\npublic class xtemp {\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(1067, 600);\r\n        frame.getContentPane().setBackground(new Color(0x000000));\r\n        frame.setLayout(null);\r\n\r\n        JPanel panel_red = new JPanel();\r\n        panel_red.setBackground(Color.red);\r\n        panel_red.setBounds(10, 10, 300, 300);\r\n\r\n        JPanel panel_blue = new JPanel();\r\n        panel_blue.setBackground(Color.blue);\r\n        panel_blue.setBounds(10, 310, 300, 300);\r\n\r\n        JPanel panel_green = new JPanel();\r\n        panel_green.setBackground(Color.green);\r\n        panel_green.setPreferredSize(new Dimension(250, 250));\r\n        panel_green.setBounds(310, 10, 800, 600);\r\n        panel_green.setLayout(new FlowLayout(FlowLayout.TRAILING, 9, 16));\r\n\r\n        for (int i = 0; i &lt;= 99; i++)\r\n            panel_green.add(new JButton(String.format(&quot;%02d&quot;, i)));\r\n\r\n        frame.add(panel_red);\r\n        frame.add(panel_green);\r\n        frame.add(panel_blue);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\nAnd this is the output of the code:\r\n---\r\n[![enter image description here][1]][1]\r\n\r\nI want an output similar to this:\r\n---\r\n[![enter image description here][2]][2]\r\n\r\nI want to use multiple panels and give different layouts to different panels within a frame. I basically want that any buttons inside the `panel_green` must automatically get adjusted according to the space available, irrespective of the fact that it is a panel, not a frame as shown in the second gif/image.\r\n\r\n  [1]: https://i.stack.imgur.com/sDVGV.gif\r\n  [2]: https://i.stack.imgur.com/5X9fE.gif","title":"How to use Flow Layout inside a Panel in Java?","body":"<h2>Here is the code with problem:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JButton;\n\npublic class xtemp {\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(1067, 600);\n        frame.getContentPane().setBackground(new Color(0x000000));\n        frame.setLayout(null);\n\n        JPanel panel_red = new JPanel();\n        panel_red.setBackground(Color.red);\n        panel_red.setBounds(10, 10, 300, 300);\n\n        JPanel panel_blue = new JPanel();\n        panel_blue.setBackground(Color.blue);\n        panel_blue.setBounds(10, 310, 300, 300);\n\n        JPanel panel_green = new JPanel();\n        panel_green.setBackground(Color.green);\n        panel_green.setPreferredSize(new Dimension(250, 250));\n        panel_green.setBounds(310, 10, 800, 600);\n        panel_green.setLayout(new FlowLayout(FlowLayout.TRAILING, 9, 16));\n\n        for (int i = 0; i &lt;= 99; i++)\n            panel_green.add(new JButton(String.format(&quot;%02d&quot;, i)));\n\n        frame.add(panel_red);\n        frame.add(panel_green);\n        frame.add(panel_blue);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<h2>And this is the output of the code:</h2>\n<p><a href=\"https://i.stack.imgur.com/sDVGV.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sDVGV.gif\" alt=\"enter image description here\" /></a></p>\n<h2>I want an output similar to this:</h2>\n<p><a href=\"https://i.stack.imgur.com/5X9fE.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5X9fE.gif\" alt=\"enter image description here\" /></a></p>\n<p>I want to use multiple panels and give different layouts to different panels within a frame. I basically want that any buttons inside the <code>panel_green</code> must automatically get adjusted according to the space available, irrespective of the fact that it is a panel, not a frame as shown in the second gif/image.</p>\n"},{"tags":["java","solr","solrj","spring-data-solr","solrclient"],"comments":[{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1676980700,"post_id":75519772,"comment_id":133242365,"body_markdown":"You&#39;re using a _very old version_ of spring-data-solr, which depends on and of solr-solrj 5.5.x; upgrade these dependencies to their new versions unless you have a (very) good reason to keep them that way. You&#39;re referencing documentation from Solr 8, but are using a 5.x client, and are trying to manually add a 7.x-client. Bring everything up to their newer versions.","body":"You&#39;re using a <i>very old version</i> of spring-data-solr, which depends on and of solr-solrj 5.5.x; upgrade these dependencies to their new versions unless you have a (very) good reason to keep them that way. You&#39;re referencing documentation from Solr 8, but are using a 5.x client, and are trying to manually add a 7.x-client. Bring everything up to their newer versions."}],"owner":{"account_id":26952186,"reputation":25,"user_id":20521221,"display_name":"Dragon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676978368,"creation_date":1676978368,"question_id":75519772,"body_markdown":"Following is the code that I have written from Solr [Documentation][1] (Solrj tab) I believe the `getSolrClient` method has following implementation:\r\n```\r\nString solrUrl = solrServerUrl.concat(&quot;test-core&quot;);\r\nfinal SolrClient client = new HttpSolrClient.Builder(solrUrl).build();\r\n```\r\nBut on this line, I am getting this error:\r\n```\r\njava.lang.NoClassDefFoundError: org/apache/solr/client/solrj/impl/HttpSolrClient$Builder\r\n```\r\n\r\nI am using `maven` and the dependency for `Spring Solr Data` is:\r\n```\r\n&lt;!-- Spring Solr data--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-solr&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.9.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nAnd for the `Solrj`, I have dependency:\r\n```\r\n&lt;!-- Solr --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n            &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\r\n            &lt;version&gt;7.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n**Although I am getting a warning on this version of Solrj saying &quot;Overriding managed version 5.5.5 for solr-solrj&quot;**\r\n\r\n&lt;h1&gt;SolrInputDocument issue:&lt;/h1&gt;\r\nIn the same documentation, I am trying to make an instance of &lt;strong&gt;SolrInputDocument&lt;/strong&gt; as:\r\n\r\n```\r\nSolrInputDocument p1 = new SolrInputDocument();\r\n```\r\nBut I am getting error as:\r\n```\r\njava.lang.NoSuchMethodError: org.apache.solr.common.SolrInputDocument.&lt;init&gt;([Ljava/lang/String;)V\r\n```\r\nI think both of the issues are maybe related to each other that&#39;s why mentioned them in the same question.\r\n\r\nFollowing is my code where I am trying to post `Nested Documents in Solr`:\r\n```\r\n            String solrUrl = solrServerUrl.concat(&quot;test-core&quot;);\r\n\r\n            final SolrClient client = new HttpSolrClient.Builder(solrUrl).build();\r\n\r\n            SolrInputDocument p1 = new SolrInputDocument();\r\n            p1.setField(&quot;id&quot;, &quot;P11!prod&quot;);\r\n            p1.setField(&quot;name_s&quot;, &quot;Swingline Stapler&quot;);\r\n            p1.setField(&quot;description_t&quot;, &quot;The Cadillac of office staplers ...&quot;);\r\n            {\r\n              final SolrInputDocument s1 = new SolrInputDocument();\r\n              s1.setField(&quot;id&quot;, &quot;P11!S21&quot;);\r\n              s1.setField(&quot;color_s&quot;, &quot;RED&quot;);\r\n              s1.setField(&quot;price_i&quot;, 42);\r\n              {\r\n                final SolrInputDocument m1 = new SolrInputDocument();\r\n                m1.setField(&quot;id&quot;, &quot;P11!D41&quot;);\r\n                m1.setField(&quot;name_s&quot;, &quot;Red Swingline Brochure&quot;);\r\n                m1.setField(&quot;pages_i&quot;, 1);\r\n                m1.setField(&quot;content_t&quot;, &quot;...&quot;);\r\n\r\n                s1.setField(&quot;manuals&quot;, m1);\r\n              }\r\n\r\n              final SolrInputDocument s2 = new SolrInputDocument();\r\n              s2.setField(&quot;id&quot;, &quot;P11!S31&quot;);\r\n              s2.setField(&quot;color_s&quot;, &quot;BLACK&quot;);\r\n              s2.setField(&quot;price_i&quot;, 3);\r\n\r\n              p1.setField(&quot;skus&quot;, Arrays.asList(s1, s2));\r\n            }\r\n            {\r\n              final SolrInputDocument m1 = new SolrInputDocument();\r\n              m1.setField(&quot;id&quot;, &quot;P11!D51&quot;);\r\n              m1.setField(&quot;name_s&quot;, &quot;Quick Reference Guide&quot;);\r\n              m1.setField(&quot;pages_i&quot;, 1);\r\n              m1.setField(&quot;content_t&quot;, &quot;How to use your stapler ...&quot;);\r\n\r\n              final SolrInputDocument m2 = new SolrInputDocument();\r\n              m2.setField(&quot;id&quot;, &quot;P11!D61&quot;);\r\n              m2.setField(&quot;name_s&quot;, &quot;Warranty Details&quot;);\r\n              m2.setField(&quot;pages_i&quot;, 42);\r\n              m2.setField(&quot;content_t&quot;, &quot;... lifetime guarantee ...&quot;);\r\n\r\n              p1.setField(&quot;manuals&quot;, Arrays.asList(m1, m2));\r\n            }\r\n\r\n            final SolrInputDocument p2 = new SolrInputDocument();\r\n            p2.setField(&quot;id&quot;, &quot;P22!prod&quot;);\r\n            p2.setField(&quot;name_s&quot;, &quot;Mont Blanc Fountain Pen&quot;);\r\n            p2.setField(&quot;description_t&quot;, &quot;A Premium Writing Instrument ...&quot;);\r\n            {\r\n              final SolrInputDocument s1 = new SolrInputDocument();\r\n              s1.setField(&quot;id&quot;, &quot;P22!S22&quot;);\r\n              s1.setField(&quot;color_s&quot;, &quot;RED&quot;);\r\n              s1.setField(&quot;price_i&quot;, 89);\r\n              {\r\n                final SolrInputDocument m1 = new SolrInputDocument();\r\n                m1.setField(&quot;id&quot;, &quot;P22!D42&quot;);\r\n                m1.setField(&quot;name_s&quot;, &quot;Red Mont Blanc Brochure&quot;);\r\n                m1.setField(&quot;pages_i&quot;, 1);\r\n                m1.setField(&quot;content_t&quot;, &quot;...&quot;);\r\n\r\n                s1.setField(&quot;manuals&quot;, m1);\r\n              }\r\n\r\n              final SolrInputDocument s2 = new SolrInputDocument();\r\n              s2.setField(&quot;id&quot;, &quot;P22!S32&quot;);\r\n              s2.setField(&quot;color_s&quot;, &quot;BLACK&quot;);\r\n              s2.setField(&quot;price_i&quot;, 67);\r\n\r\n              p2.setField(&quot;skus&quot;, Arrays.asList(s1, s2));\r\n            }\r\n            {\r\n              final SolrInputDocument m1 = new SolrInputDocument();\r\n              m1.setField(&quot;id&quot;, &quot;P22!D52&quot;);\r\n              m1.setField(&quot;name_s&quot;, &quot;How To Use A Pen&quot;);\r\n              m1.setField(&quot;pages_i&quot;, 42);\r\n              m1.setField(&quot;content_t&quot;, &quot;Start by removing the cap ...&quot;);\r\n\r\n              p2.setField(&quot;manuals&quot;, m1);\r\n            }\r\n\r\n            client.add(Arrays.asList(p1, p2));\r\n```\r\n  [1]: https://solr.apache.org/guide/8_7/indexing-nested-documents.html#example-indexing-syntax","title":"Getting java.lang.NoClassDefFoundError: HttpSolrClient$Builder And java.lang.NoSuchMethodError: SolrInputDocument.&lt;init&gt;([Ljava/lang/String;)V","body":"<p>Following is the code that I have written from Solr <a href=\"https://solr.apache.org/guide/8_7/indexing-nested-documents.html#example-indexing-syntax\" rel=\"nofollow noreferrer\">Documentation</a> (Solrj tab) I believe the <code>getSolrClient</code> method has following implementation:</p>\n<pre><code>String solrUrl = solrServerUrl.concat(&quot;test-core&quot;);\nfinal SolrClient client = new HttpSolrClient.Builder(solrUrl).build();\n</code></pre>\n<p>But on this line, I am getting this error:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/apache/solr/client/solrj/impl/HttpSolrClient$Builder\n</code></pre>\n<p>I am using <code>maven</code> and the dependency for <code>Spring Solr Data</code> is:</p>\n<pre><code>&lt;!-- Spring Solr data--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-solr&lt;/artifactId&gt;\n            &lt;version&gt;2.1.9.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And for the <code>Solrj</code>, I have dependency:</p>\n<pre><code>&lt;!-- Solr --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n            &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\n            &lt;version&gt;7.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><strong>Although I am getting a warning on this version of Solrj saying &quot;Overriding managed version 5.5.5 for solr-solrj&quot;</strong></p>\n<h1>SolrInputDocument issue:</h1>\nIn the same documentation, I am trying to make an instance of <strong>SolrInputDocument</strong> as:\n<pre><code>SolrInputDocument p1 = new SolrInputDocument();\n</code></pre>\n<p>But I am getting error as:</p>\n<pre><code>java.lang.NoSuchMethodError: org.apache.solr.common.SolrInputDocument.&lt;init&gt;([Ljava/lang/String;)V\n</code></pre>\n<p>I think both of the issues are maybe related to each other that's why mentioned them in the same question.</p>\n<p>Following is my code where I am trying to post <code>Nested Documents in Solr</code>:</p>\n<pre><code>            String solrUrl = solrServerUrl.concat(&quot;test-core&quot;);\n\n            final SolrClient client = new HttpSolrClient.Builder(solrUrl).build();\n\n            SolrInputDocument p1 = new SolrInputDocument();\n            p1.setField(&quot;id&quot;, &quot;P11!prod&quot;);\n            p1.setField(&quot;name_s&quot;, &quot;Swingline Stapler&quot;);\n            p1.setField(&quot;description_t&quot;, &quot;The Cadillac of office staplers ...&quot;);\n            {\n              final SolrInputDocument s1 = new SolrInputDocument();\n              s1.setField(&quot;id&quot;, &quot;P11!S21&quot;);\n              s1.setField(&quot;color_s&quot;, &quot;RED&quot;);\n              s1.setField(&quot;price_i&quot;, 42);\n              {\n                final SolrInputDocument m1 = new SolrInputDocument();\n                m1.setField(&quot;id&quot;, &quot;P11!D41&quot;);\n                m1.setField(&quot;name_s&quot;, &quot;Red Swingline Brochure&quot;);\n                m1.setField(&quot;pages_i&quot;, 1);\n                m1.setField(&quot;content_t&quot;, &quot;...&quot;);\n\n                s1.setField(&quot;manuals&quot;, m1);\n              }\n\n              final SolrInputDocument s2 = new SolrInputDocument();\n              s2.setField(&quot;id&quot;, &quot;P11!S31&quot;);\n              s2.setField(&quot;color_s&quot;, &quot;BLACK&quot;);\n              s2.setField(&quot;price_i&quot;, 3);\n\n              p1.setField(&quot;skus&quot;, Arrays.asList(s1, s2));\n            }\n            {\n              final SolrInputDocument m1 = new SolrInputDocument();\n              m1.setField(&quot;id&quot;, &quot;P11!D51&quot;);\n              m1.setField(&quot;name_s&quot;, &quot;Quick Reference Guide&quot;);\n              m1.setField(&quot;pages_i&quot;, 1);\n              m1.setField(&quot;content_t&quot;, &quot;How to use your stapler ...&quot;);\n\n              final SolrInputDocument m2 = new SolrInputDocument();\n              m2.setField(&quot;id&quot;, &quot;P11!D61&quot;);\n              m2.setField(&quot;name_s&quot;, &quot;Warranty Details&quot;);\n              m2.setField(&quot;pages_i&quot;, 42);\n              m2.setField(&quot;content_t&quot;, &quot;... lifetime guarantee ...&quot;);\n\n              p1.setField(&quot;manuals&quot;, Arrays.asList(m1, m2));\n            }\n\n            final SolrInputDocument p2 = new SolrInputDocument();\n            p2.setField(&quot;id&quot;, &quot;P22!prod&quot;);\n            p2.setField(&quot;name_s&quot;, &quot;Mont Blanc Fountain Pen&quot;);\n            p2.setField(&quot;description_t&quot;, &quot;A Premium Writing Instrument ...&quot;);\n            {\n              final SolrInputDocument s1 = new SolrInputDocument();\n              s1.setField(&quot;id&quot;, &quot;P22!S22&quot;);\n              s1.setField(&quot;color_s&quot;, &quot;RED&quot;);\n              s1.setField(&quot;price_i&quot;, 89);\n              {\n                final SolrInputDocument m1 = new SolrInputDocument();\n                m1.setField(&quot;id&quot;, &quot;P22!D42&quot;);\n                m1.setField(&quot;name_s&quot;, &quot;Red Mont Blanc Brochure&quot;);\n                m1.setField(&quot;pages_i&quot;, 1);\n                m1.setField(&quot;content_t&quot;, &quot;...&quot;);\n\n                s1.setField(&quot;manuals&quot;, m1);\n              }\n\n              final SolrInputDocument s2 = new SolrInputDocument();\n              s2.setField(&quot;id&quot;, &quot;P22!S32&quot;);\n              s2.setField(&quot;color_s&quot;, &quot;BLACK&quot;);\n              s2.setField(&quot;price_i&quot;, 67);\n\n              p2.setField(&quot;skus&quot;, Arrays.asList(s1, s2));\n            }\n            {\n              final SolrInputDocument m1 = new SolrInputDocument();\n              m1.setField(&quot;id&quot;, &quot;P22!D52&quot;);\n              m1.setField(&quot;name_s&quot;, &quot;How To Use A Pen&quot;);\n              m1.setField(&quot;pages_i&quot;, 42);\n              m1.setField(&quot;content_t&quot;, &quot;Start by removing the cap ...&quot;);\n\n              p2.setField(&quot;manuals&quot;, m1);\n            }\n\n            client.add(Arrays.asList(p1, p2));\n</code></pre>\n"},{"tags":["java","android","floating-action-button"],"answers":[{"tags":[],"owner":{"account_id":7140064,"reputation":340,"user_id":5458108,"display_name":"Lathesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676975075,"creation_date":1676975075,"answer_id":75519128,"question_id":75518791,"body_markdown":"In xml use `android:backgroundTint=&quot;@color/black&quot;`.\r\n\r\nIn Java you can use `floatingActionButton.setBackgroundTintList(ContextCompat.getColorStateList(getContext(),R.color.black));`.\r\n\r\n\r\nIf you want to change the color of icon inside the floatingActionButton use `android:tint=&quot;@color/black&quot;` and in java `floatingActionButton.setImageTintList(ContextCompat.getColorStateList(getContext(),R.color.black));`","title":"Floating Action Button not changing color","body":"<p>In xml use <code>android:backgroundTint=&quot;@color/black&quot;</code>.</p>\n<p>In Java you can use <code>floatingActionButton.setBackgroundTintList(ContextCompat.getColorStateList(getContext(),R.color.black));</code>.</p>\n<p>If you want to change the color of icon inside the floatingActionButton use <code>android:tint=&quot;@color/black&quot;</code> and in java <code>floatingActionButton.setImageTintList(ContextCompat.getColorStateList(getContext(),R.color.black));</code></p>\n"}],"owner":{"account_id":27776676,"reputation":1,"user_id":21205886,"display_name":"Dario Franzese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676978145,"creation_date":1676973192,"question_id":75518791,"body_markdown":"I&#39;m new to android and was trying to change my FAB whenever i press the button from my java Class.\r\nHere&#39;s the java code \r\n\r\n    btnPrezzoDecrescente.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if(btnPrezzoDecrescente.isActivated()) {\r\n                        btnPrezzoDecrescente.setActivated(false);\r\n                        btnPrezzoDecrescente.setBackgroundColor(Color.parseColor(&quot;black&quot;));\r\n                       \r\n                    }else {\r\n                        btnPrezzoDecrescente.setActivated(true);\r\n                        //do stuff\r\n                        btnPrezzoDecrescente.setBackgroundColor(Color.parseColor(&quot;white&quot;));\r\n                    }\r\n                }\r\n            });`\r\n\r\nThe button is declaread as a `FloatingActionButton` and this piece of code is inside the `OnCreate` method of my Fragment (in this case).\r\n\r\nI tried all the `setColor` and `setTint` methods but nothing worked, although the if statement works fine.","title":"Floating Action Button not changing color","body":"<p>I'm new to android and was trying to change my FAB whenever i press the button from my java Class.\nHere's the java code</p>\n<pre><code>btnPrezzoDecrescente.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if(btnPrezzoDecrescente.isActivated()) {\n                    btnPrezzoDecrescente.setActivated(false);\n                    btnPrezzoDecrescente.setBackgroundColor(Color.parseColor(&quot;black&quot;));\n                   \n                }else {\n                    btnPrezzoDecrescente.setActivated(true);\n                    //do stuff\n                    btnPrezzoDecrescente.setBackgroundColor(Color.parseColor(&quot;white&quot;));\n                }\n            }\n        });`\n</code></pre>\n<p>The button is declaread as a <code>FloatingActionButton</code> and this piece of code is inside the <code>OnCreate</code> method of my Fragment (in this case).</p>\n<p>I tried all the <code>setColor</code> and <code>setTint</code> methods but nothing worked, although the if statement works fine.</p>\n"},{"tags":["java","ssl","ssl-certificate"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1676537524,"post_id":75469714,"comment_id":133157828,"body_markdown":"If I understand correctly then the proxy provides its own certificates, meaning the Root Certificate is not one of the well-known CAs but some &quot;private&quot; certificate (scoped to whoever uses the proxy, right?). In that case you simply need to add that proxy CA to the list of known CAs (or replace the list if you *only* want to deal with that CA). But be aware that this means that whoever controls that CA can spoof certificates for *any* domain.","body":"If I understand correctly then the proxy provides its own certificates, meaning the Root Certificate is not one of the well-known CAs but some &quot;private&quot; certificate (scoped to whoever uses the proxy, right?). In that case you simply need to add that proxy CA to the list of known CAs (or replace the list if you <i>only</i> want to deal with that CA). But be aware that this means that whoever controls that CA can spoof certificates for <i>any</i> domain."},{"owner":{"account_id":9040229,"reputation":188,"user_id":6734742,"accept_rate":58,"display_name":"Soyong"},"score":0,"creation_date":1676537767,"post_id":75469714,"comment_id":133157898,"body_markdown":"@JoachimSauer Yes the Root CA is a privately issued certificate by the company. And I have added that one to the truststore already. But the program is still unable to validate the certificate","body":"@JoachimSauer Yes the Root CA is a privately issued certificate by the company. And I have added that one to the truststore already. But the program is still unable to validate the certificate"}],"answers":[{"tags":[],"owner":{"account_id":9040229,"reputation":188,"user_id":6734742,"accept_rate":58,"display_name":"Soyong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676978065,"creation_date":1676978065,"answer_id":75519707,"question_id":75469714,"body_markdown":"This seemed to be an issue with the certificates provided by the company that replaced the certificate chain.\r\n\r\nFor some reason the chain was not completed, and I had to add all certificates in the chain to the truststore to make it work.\r\n\r\n","title":"Java SSL Certificate Verification with a proxy","body":"<p>This seemed to be an issue with the certificates provided by the company that replaced the certificate chain.</p>\n<p>For some reason the chain was not completed, and I had to add all certificates in the chain to the truststore to make it work.</p>\n"}],"owner":{"account_id":9040229,"reputation":188,"user_id":6734742,"accept_rate":58,"display_name":"Soyong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75519707,"answer_count":1,"score":2,"last_activity_date":1676978065,"creation_date":1676537043,"question_id":75469714,"body_markdown":"I have an Issue with the verification of a ssl certificate. \r\nWhat I am trying to do, is sending some data from a java program to a server, which then stores that data.\r\n\r\nThe issue is, that the ssl certificate validation fails with the following exception:\r\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed [...] unable to find valid certification path to...\r\n\r\n\r\nI am able to resolve this issue, by adding the &quot;end-user&quot; certificate of the server to the truststore I am using.\r\n\r\nThe chain looks something like this:\r\n\r\n    Root Certificate 1\r\n    Intermediate Cert 11\r\n    Intermediate Certificate x\r\n    End-User Certificate\r\n\r\nSomething to note about this whole chain / process:\r\nThe communication is using the companies proxy, which replaces all the certificates, and creates its own chain.\r\n\r\nSo back to the issue:\r\nBy adding the end-user certificate everything runs fine. But only for a little while, before that certificate gets refreshed and the one I added is no longer valid. I have tried adding just the root certificate, just each intermediate certificate, adding all 3 certificates and also adding the certificate which would be used if the proxy does not replace the chain. But somehow the certificate cannot be validated.\r\n\r\nIs there something I might be overlooking? Do I have to add something else to be able to validate the certificate?\r\n\r\n\r\nEdit:\r\nMaybe something to note:\r\nI checked the chain, by using the browser and navigating to said server, and then checking the ssl certificates.\r\n\r\n","title":"Java SSL Certificate Verification with a proxy","body":"<p>I have an Issue with the verification of a ssl certificate.\nWhat I am trying to do, is sending some data from a java program to a server, which then stores that data.</p>\n<p>The issue is, that the ssl certificate validation fails with the following exception:\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed [...] unable to find valid certification path to...</p>\n<p>I am able to resolve this issue, by adding the &quot;end-user&quot; certificate of the server to the truststore I am using.</p>\n<p>The chain looks something like this:</p>\n<pre><code>Root Certificate 1\nIntermediate Cert 11\nIntermediate Certificate x\nEnd-User Certificate\n</code></pre>\n<p>Something to note about this whole chain / process:\nThe communication is using the companies proxy, which replaces all the certificates, and creates its own chain.</p>\n<p>So back to the issue:\nBy adding the end-user certificate everything runs fine. But only for a little while, before that certificate gets refreshed and the one I added is no longer valid. I have tried adding just the root certificate, just each intermediate certificate, adding all 3 certificates and also adding the certificate which would be used if the proxy does not replace the chain. But somehow the certificate cannot be validated.</p>\n<p>Is there something I might be overlooking? Do I have to add something else to be able to validate the certificate?</p>\n<p>Edit:\nMaybe something to note:\nI checked the chain, by using the browser and navigating to said server, and then checking the ssl certificates.</p>\n"},{"tags":["java","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676977482,"creation_date":1676977482,"answer_id":75519604,"question_id":75519354,"body_markdown":"No, Karate is not really designed for this. So I don&#39;t have any better suggestions other than looping over the results like you are doing.\r\n\r\nThat said, I wanted to remind you that loops are possible. And the loop will continue even if one fails. Also refer: https://stackoverflow.com/a/54108755/143475\r\n\r\n    Feature:\r\n    \r\n    Scenario Outline:\r\n    * url urlBase\r\n    * method get\r\n    * status 200\r\n    \r\n    Examples:\r\n    | urlBase                   | \r\n    | https://google.com        |\r\n    | https://google.com/search |\r\n    | https://bing.com          |\r\n\r\nMaybe you can figure out some better ways.","title":"Get the Failing URL from a Karate API Test","body":"<p>No, Karate is not really designed for this. So I don't have any better suggestions other than looping over the results like you are doing.</p>\n<p>That said, I wanted to remind you that loops are possible. And the loop will continue even if one fails. Also refer: <a href=\"https://stackoverflow.com/a/54108755/143475\">https://stackoverflow.com/a/54108755/143475</a></p>\n<pre><code>Feature:\n\nScenario Outline:\n* url urlBase\n* method get\n* status 200\n\nExamples:\n| urlBase                   | \n| https://google.com        |\n| https://google.com/search |\n| https://bing.com          |\n</code></pre>\n<p>Maybe you can figure out some better ways.</p>\n"}],"owner":{"account_id":5945283,"reputation":102,"user_id":6716368,"display_name":"Salvian Reynaldi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75519604,"answer_count":1,"score":1,"last_activity_date":1676977482,"creation_date":1676976247,"question_id":75519354,"body_markdown":"I&#39;m running Karate tests from Java runner with Gradle.\r\nFor monitoring purpose, I want to get the endpoint which is failing\r\n\r\nFor example, with this feature file:\r\n\r\n```gherkin\r\nFeature: health check\r\n\r\nScenario: Test endpoint which would almost always be successful\r\n  Given url &quot;https://google.com&quot;\r\n  Given path &quot;/&quot;\r\n  When method get\r\n  Then status 200\r\n\r\n  Given path &quot;/search&quot;\r\n  When method get\r\n  Then status 500         # the test will fail here\r\n\r\n  Given url &quot;https://bing.com&quot;\r\n  When method get\r\n  Then status 200\r\n```\r\n\r\n\r\nI want to get `google.com/search`; just `google.com` is fine, too.\r\n\r\nI&#39;m thinking of doing a linear search in the karate scenario results:\r\n```java\r\nResults results = Runner.path(// ...)\r\n\r\n// get the failing step\r\nint failingStep = results.getScenarioResults().get(x).failedStep.step.index\r\n\r\n// get the failing URL by looking at the &#39;results.getScenarioResults().get(x).stepResults&#39;,\r\n// from the first step until the &#39;failingStep&#39;\r\n```\r\n\r\nIs there a more proper way to do this?\r\n\r\n\r\n\r\n\r\nThank you ","title":"Get the Failing URL from a Karate API Test","body":"<p>I'm running Karate tests from Java runner with Gradle.\nFor monitoring purpose, I want to get the endpoint which is failing</p>\n<p>For example, with this feature file:</p>\n<pre><code>Feature: health check\n\nScenario: Test endpoint which would almost always be successful\n  Given url &quot;https://google.com&quot;\n  Given path &quot;/&quot;\n  When method get\n  Then status 200\n\n  Given path &quot;/search&quot;\n  When method get\n  Then status 500         # the test will fail here\n\n  Given url &quot;https://bing.com&quot;\n  When method get\n  Then status 200\n</code></pre>\n<p>I want to get <code>google.com/search</code>; just <code>google.com</code> is fine, too.</p>\n<p>I'm thinking of doing a linear search in the karate scenario results:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Results results = Runner.path(// ...)\n\n// get the failing step\nint failingStep = results.getScenarioResults().get(x).failedStep.step.index\n\n// get the failing URL by looking at the 'results.getScenarioResults().get(x).stepResults',\n// from the first step until the 'failingStep'\n</code></pre>\n<p>Is there a more proper way to do this?</p>\n<p>Thank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1676974883,"post_id":75519067,"comment_id":133240615,"body_markdown":"Have you taken a look which methods `LocalDate` has to offer?","body":"Have you taken a look which methods <code>LocalDate</code> has to offer?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1676974902,"post_id":75519067,"comment_id":133240625,"body_markdown":"[`Duration#between(Temporal, Temporal)`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Duration.html#between(java.time.temporal.Temporal,java.time.temporal.Temporal)) or [`Period#between(LocalDate, LocalDate)`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Period.html#between(java.time.LocalDate,java.time.LocalDate)) or [`LocalDate#until(ChronoLocalDate)`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/LocalDate.html#until(java.time.chrono.ChronoLocalDate))","body":"<a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Duration.html#between(java.time.temporal.Temporal,java.time.temporal.Temporal)\" rel=\"nofollow noreferrer\"><code>Duration#between(Temporal, Temporal)</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/Period.html#between(java.time.LocalDate,java.time.LocalDate)\" rel=\"nofollow noreferrer\"><code>Period#between(LocalDate, LocalDate)</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/LocalDate.html#until(java.time.chrono.ChronoLocalDate)\" rel=\"nofollow noreferrer\"><code>LocalDate#until(ChronoLocalDate)</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676977333,"creation_date":1676976925,"answer_id":75519508,"question_id":75519067,"body_markdown":"### [`ChronoUnit.DAYS.between(Temporal, Temporal)`](https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-) is a possibility…\r\n\r\n… because `LocalDate implements Temporal`.\r\n\r\nExample:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// System date\r\n\tvar systemDate = LocalDate.now();\r\n\t// some other date\r\n\tvar otherDate = LocalDate.parse(&quot;2023-01-19&quot;);\r\n\t// get the difference in days\r\n\tvar daysBetween = ChronoUnit.DAYS.between(otherDate, systemDate);\r\n\t// print the result\r\n\tSystem.out.println(\r\n\t\t\tString.format(&quot;Difference between %s and %s is %d days&quot;,\r\n\t\t\t\t\t\t  otherDate,\r\n\t\t\t\t\t\t  systemDate,\r\n\t\t\t\t\t\t  daysBetween\r\n\t\t\t\t  )\r\n\t\t );\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nDifference between 2023-01-19 and 2023-02-21 is 33 days\r\n```\r\n\r\nMake somehow sure to pass the chronologically smaller `LocalDate` as first parameter, otherwise your result might become negative. You could check if `systemDate.isBefore(otherDate)`, for example.","title":"How to use system date to subtract another date in java?","body":"<h3><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html#between-java.time.temporal.Temporal-java.time.temporal.Temporal-\" rel=\"nofollow noreferrer\"><code>ChronoUnit.DAYS.between(Temporal, Temporal)</code></a> is a possibility…</h3>\n<p>… because <code>LocalDate implements Temporal</code>.</p>\n<p>Example:</p>\n<pre><code>public static void main(String[] args) {\n    // System date\n    var systemDate = LocalDate.now();\n    // some other date\n    var otherDate = LocalDate.parse(&quot;2023-01-19&quot;);\n    // get the difference in days\n    var daysBetween = ChronoUnit.DAYS.between(otherDate, systemDate);\n    // print the result\n    System.out.println(\n            String.format(&quot;Difference between %s and %s is %d days&quot;,\n                          otherDate,\n                          systemDate,\n                          daysBetween\n                  )\n         );\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Difference between 2023-01-19 and 2023-02-21 is 33 days\n</code></pre>\n<p>Make somehow sure to pass the chronologically smaller <code>LocalDate</code> as first parameter, otherwise your result might become negative. You could check if <code>systemDate.isBefore(otherDate)</code>, for example.</p>\n"}],"owner":{"account_id":27449424,"reputation":1,"user_id":20941962,"display_name":"Yeoh Joey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1676984397,"answer_count":1,"score":-4,"last_activity_date":1676977333,"creation_date":1676974781,"question_id":75519067,"body_markdown":"I am doing a leave management program, when the user apply a leave, I need to make sure the from date matches the application days for example -7  for apply in advance. So, I need to use the system date to subtract the from date to get the days between the two dates. How to do so?\r\n\r\n    System.out.print(&quot;From date(YYYY-MM-DD): &quot;);\r\n    this.fromDate = sc.nextLine();\r\n\t\t\t\r\n    LocalDate systemDate = LocalDate.now();\r\n\t\t\t\r\n    LocalDate date = LocalDate.parse(this.fromDate, DateTimeFormatter.ISO_LOCAL_DATE);\r\n\r\n    File filelvT = new File(&quot;./leaveType/&quot; + this.leaveTypeID + &quot;.txt&quot;);\r\n\t\t\t\r\n    try(BufferedReader bRlvT = new BufferedReader(new FileReader(filelvT))){\r\n\t    String line = bRlvT.readLine();\r\n\t    String[]value = line.split(&quot;;&quot;);\r\n\r\n\t    //the value[4] is the application days recorded in the particular txt file\t\t\t\r\n\t    if( ? &lt; value[4]){   //so what should I write in the ?\r\n\t\t\t\t\t\r\n\t    }    //end if\r\n\t\t\t\t\r\n    }catch(IOException err){\r\n\t    err.printStackTrace();\r\n    }","title":"How to use system date to subtract another date in java?","body":"<p>I am doing a leave management program, when the user apply a leave, I need to make sure the from date matches the application days for example -7  for apply in advance. So, I need to use the system date to subtract the from date to get the days between the two dates. How to do so?</p>\n<pre><code>System.out.print(&quot;From date(YYYY-MM-DD): &quot;);\nthis.fromDate = sc.nextLine();\n        \nLocalDate systemDate = LocalDate.now();\n        \nLocalDate date = LocalDate.parse(this.fromDate, DateTimeFormatter.ISO_LOCAL_DATE);\n\nFile filelvT = new File(&quot;./leaveType/&quot; + this.leaveTypeID + &quot;.txt&quot;);\n        \ntry(BufferedReader bRlvT = new BufferedReader(new FileReader(filelvT))){\n    String line = bRlvT.readLine();\n    String[]value = line.split(&quot;;&quot;);\n\n    //the value[4] is the application days recorded in the particular txt file          \n    if( ? &lt; value[4]){   //so what should I write in the ?\n                \n    }    //end if\n            \n}catch(IOException err){\n    err.printStackTrace();\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9362,"page":630,"page_size":100}
