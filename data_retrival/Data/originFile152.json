{"items":[{"tags":["java","mysql","hibernate","jdbc","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":26321620,"reputation":26,"user_id":19983551,"display_name":"Martin Matou≈°ek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695712823,"creation_date":1695712823,"answer_id":77177778,"question_id":77177726,"body_markdown":"you need to add length (in bytes) to your VARBINARY - e.g. VARBINARY(255).\r\nShould be alright then, good luck.","title":"Create table with VARBINARY Type","body":"<p>you need to add length (in bytes) to your VARBINARY - e.g. VARBINARY(255).\nShould be alright then, good luck.</p>\n"}],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77177778,"answer_count":1,"score":0,"last_activity_date":1696057238,"creation_date":1695712271,"question_id":77177726,"body_markdown":"I have this entity:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;users&quot;,\r\n        uniqueConstraints = {\r\n                @UniqueConstraint(columnNames = &quot;username&quot;),\r\n                @UniqueConstraint(columnNames = &quot;email&quot;)\r\n        })\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\n@ToString\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotBlank\r\n    @Size(max = 50)\r\n    private String username;\r\n\r\n    @NotBlank\r\n    @Size(max = 50)\r\n    @Email\r\n    private String email;\r\n\r\n    @NotBlank\r\n    @Size(max = 120)\r\n    private String password;\r\n\r\n    BigDecimal lat;\r\n\r\n    BigDecimal lon;\r\n\r\n    @Column(columnDefinition=&quot;VARBINARY&quot;)\r\n    byte[] natalChart;\r\n\r\n...\r\n    \r\n}\r\n```\r\n\r\nin my property file:\r\n\r\n```ini\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\nWhen starting the app, I have this error:\r\n\r\n```none\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table users (id bigint not null auto_increment, ascendant varchar(255), creation_date datetime(6), day integer not null, email varchar(50), hour integer not null, language varchar(255), last_login_date datetime(6), last_password_reset_date datetime(6), lat decimal(38,2), lon decimal(38,2), minute integer not null, mobile_os varchar(255), month integer not null, natal_char_desc bit, natal_char_titles bit, natal_chart VARBINARY, password varchar(120), platform varchar(255), solar_return_desc bit, solar_return_titles bit, subscription_expiration_date datetime(6), time_zone float(53) not null, token varchar(255), username varchar(50), year integer not null, primary key (id)) engine=InnoDB&quot; via JDBC [You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;, password varchar(120), platform varchar(255),  sol&#39; at line 1]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315)\r\n\tat org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)\r\n\tat java.base/java.util.HashMap.forEach(HashMap.java:1429)\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)\r\n\tat org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)\r\n\tat org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:292)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\r\n```\r\n","title":"Create table with VARBINARY Type","body":"<p>I have this entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;users&quot;,\n        uniqueConstraints = {\n                @UniqueConstraint(columnNames = &quot;username&quot;),\n                @UniqueConstraint(columnNames = &quot;email&quot;)\n        })\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@ToString\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotBlank\n    @Size(max = 50)\n    private String username;\n\n    @NotBlank\n    @Size(max = 50)\n    @Email\n    private String email;\n\n    @NotBlank\n    @Size(max = 120)\n    private String password;\n\n    BigDecimal lat;\n\n    BigDecimal lon;\n\n    @Column(columnDefinition=&quot;VARBINARY&quot;)\n    byte[] natalChart;\n\n...\n    \n}\n</code></pre>\n<p>in my property file:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>When starting the app, I have this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table users (id bigint not null auto_increment, ascendant varchar(255), creation_date datetime(6), day integer not null, email varchar(50), hour integer not null, language varchar(255), last_login_date datetime(6), last_password_reset_date datetime(6), lat decimal(38,2), lon decimal(38,2), minute integer not null, mobile_os varchar(255), month integer not null, natal_char_desc bit, natal_char_titles bit, natal_chart VARBINARY, password varchar(120), platform varchar(255), solar_return_desc bit, solar_return_titles bit, subscription_expiration_date datetime(6), time_zone float(53) not null, token varchar(255), username varchar(50), year integer not null, primary key (id)) engine=InnoDB&quot; via JDBC [You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ', password varchar(120), platform varchar(255),  sol' at line 1]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92)\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574)\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514)\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315)\n    at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80)\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232)\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)\n    at java.base/java.util.HashMap.forEach(HashMap.java:1429)\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)\n    at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)\n    at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:292)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455)\n</code></pre>\n"},{"tags":["java","json","date","timezone","objectmapper"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1696010784,"post_id":77203969,"comment_id":136104137,"body_markdown":"Best way is to avoid superseded date classes and use `java.time.LocalDate`","body":"Best way is to avoid superseded date classes and use <code>java.time.LocalDate</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1696011215,"post_id":77203969,"comment_id":136104224,"body_markdown":"`public static LocalDate getDateFromGITID(String gitId) {DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;ddMMyy&quot;);return LocalDate.parse(gitId.substring(1, 7), dtf); //}`","body":"<code>public static LocalDate getDateFromGITID(String gitId) {DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;ddMMyy&quot;);return LocalDate.parse(gitId.substring(1, 7), dtf); &#47;&#47;}</code>"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1696011327,"post_id":77203969,"comment_id":136104245,"body_markdown":"I wish @g00se but this is a common bean and it is used in multiple APIs!","body":"I wish @g00se but this is a common bean and it is used in multiple APIs!"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696020233,"post_id":77203969,"comment_id":136105446,"body_markdown":"Which `Date` are you using?","body":"Which <code>Date</code> are you using?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1696020449,"post_id":77203969,"comment_id":136105477,"body_markdown":"The best way is still to use `LocalDate` internally in your bean. The old-fashioned getter that returns an old-fashoined `Date` representing the start of the date in IST can then return `Date.from(localDate.atStartOfDay(ZoneId.of(&quot;Asia/Kolkata&quot;).toInstant())`. And the JSON can ignore that getter and just use the modern one. You‚Äôre fine for the future, and your legacy code will still work.","body":"The best way is still to use <code>LocalDate</code> internally in your bean. The old-fashioned getter that returns an old-fashoined <code>Date</code> representing the start of the date in IST can then return <code>Date.from(localDate.atStartOfDay(ZoneId.of(&quot;Asia&#47;Kolkata&quot;).t&zwnj;&#8203;oInstant())</code>. And the JSON can ignore that getter and just use the modern one. You‚Äôre fine for the future, and your legacy code will still work."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1696060429,"post_id":77203969,"comment_id":136108128,"body_markdown":"*1. Why is it happening?* Because 2010-05-04T00:00 IST is 2010-05-03T18:30 GMT. *2. Is the second way a better fix?* It is less terrible but still terrible. *3. Is there any other better fix?* Yes, use java.time. Convert between `LocalDate` and `Date` for inter-operating with your existing code. Beware of time zone in the conversion.","body":"<i>1. Why is it happening?</i> Because 2010-05-04T00:00 IST is 2010-05-03T18:30 GMT. <i>2. Is the second way a better fix?</i> It is less terrible but still terrible. <i>3. Is there any other better fix?</i> Yes, use java.time. Convert between <code>LocalDate</code> and <code>Date</code> for inter-operating with your existing code. Beware of time zone in the conversion."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696022053,"creation_date":1696020641,"answer_id":77204725,"question_id":77203969,"body_markdown":"You are using terribly flawed date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. \r\n\r\nSpecifically, I expect your problem is due to using `java.util.Date#toString` method to generate text. That method lies to you. A `java.util.Date` value represents a date and time as seen with an an offset of zero hours-minutes-seconds from the temporal meridian of UTC. The `toString` method applies the JVM‚Äôs current default time zone while generating its textual result. \r\n\r\nWhile well-intentioned, this anti-feature causes endless confusion and pain to Java developers. Avoid this class. Avoid all the legacy date-time classes!\r\n\r\nDo all your date-time work using the industry-leading *java.time* classes.\r\n\r\n    String original = &quot;Y04051000547GF&quot; ;\r\n    String input = original.substring( 1 , 7 ) ;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;ddMMuu&quot; ) ;\r\n    LocalDate ld = LocalDate.parse( input , f ) ;\r\n\r\nIf you must interoperate with old code not yet updated to *java.time*, convert using new methods added to the old classes. \r\n\r\nGoing from a date to a moment, a specific point on the timeline, requires a time of day, and requires a time zone. I will assume you want the first moment of that date as seen in UTC (an offset of zero). \r\n\r\n\r\n    ZonedDateTime zdt = ld.atStartOfDay( ZoneOffset.UTC ) ;\r\n    Instant instant = zdt.toInstant() ;\r\n    java.util.Date d = java.util.Date.from( instant ) ;\r\n\r\nI must note how ill-advised is the use of a date-with-time-and-offset type like `java.util.Date` to represent a date-only value. If possible, consider reworking your codebase to use correct types. For a date-only value, use `java.time.LocalDate` class. `LocalDate` is supported by Java 8+, JDBC 4.2+, Hibernate, Jackson, etc. \r\n\r\nOr, [as Commented][1] by Ole V.V., perhaps you mean to get the first moment of the day as seen in a particular time zone. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; ) ;\r\n    ZonedDateTime zdt = ld.atStartOfDay( z ) ;\r\n\r\nThe best solution is to educate the publisher of your data to use standard [ISO 8601][2] formats for data exchange of date-time values rather than invent their own. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/77203969/date-decrements-by-a-day-when-converted-to-a-json-string-java/77204725#comment136105477_77203969\r\n  [2]: https://en.m.wikipedia.org/wiki/ISO_8601","title":"Date decrements by a day when converted to a JSON String - Java","body":"<p>You are using terribly flawed date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>Specifically, I expect your problem is due to using <code>java.util.Date#toString</code> method to generate text. That method lies to you. A <code>java.util.Date</code> value represents a date and time as seen with an an offset of zero hours-minutes-seconds from the temporal meridian of UTC. The <code>toString</code> method applies the JVM‚Äôs current default time zone while generating its textual result.</p>\n<p>While well-intentioned, this anti-feature causes endless confusion and pain to Java developers. Avoid this class. Avoid all the legacy date-time classes!</p>\n<p>Do all your date-time work using the industry-leading <em>java.time</em> classes.</p>\n<pre><code>String original = &quot;Y04051000547GF&quot; ;\nString input = original.substring( 1 , 7 ) ;\nDateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;ddMMuu&quot; ) ;\nLocalDate ld = LocalDate.parse( input , f ) ;\n</code></pre>\n<p>If you must interoperate with old code not yet updated to <em>java.time</em>, convert using new methods added to the old classes.</p>\n<p>Going from a date to a moment, a specific point on the timeline, requires a time of day, and requires a time zone. I will assume you want the first moment of that date as seen in UTC (an offset of zero).</p>\n<pre><code>ZonedDateTime zdt = ld.atStartOfDay( ZoneOffset.UTC ) ;\nInstant instant = zdt.toInstant() ;\njava.util.Date d = java.util.Date.from( instant ) ;\n</code></pre>\n<p>I must note how ill-advised is the use of a date-with-time-and-offset type like <code>java.util.Date</code> to represent a date-only value. If possible, consider reworking your codebase to use correct types. For a date-only value, use <code>java.time.LocalDate</code> class. <code>LocalDate</code> is supported by Java 8+, JDBC 4.2+, Hibernate, Jackson, etc.</p>\n<p>Or, <a href=\"https://stackoverflow.com/questions/77203969/date-decrements-by-a-day-when-converted-to-a-json-string-java/77204725#comment136105477_77203969\">as Commented</a> by Ole V.V., perhaps you mean to get the first moment of the day as seen in a particular time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; ) ;\nZonedDateTime zdt = ld.atStartOfDay( z ) ;\n</code></pre>\n<p>The best solution is to educate the publisher of your data to use standard <a href=\"https://en.m.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats for data exchange of date-time values rather than invent their own.</p>\n"}],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77204725,"answer_count":1,"score":2,"last_activity_date":1696053331,"creation_date":1696010415,"question_id":77203969,"body_markdown":"We have a method that gets a date from an alpha-numeric String. Say that the String is `Y04051000547GF` the resultant date will be `Tue May 04 00:00:00 IST 2010`.\r\n\r\n\tpublic static Date getDateFromGITID(String gitId) {\r\n\t    \r\n\t\tDate date = null;\r\n\t\ttry {\r\n\r\n\t\t\tString dateInGit = nid.substring(1, 7);\t//\tsix characters from the second character\r\n\r\n\t\t\tDateFormat format = new SimpleDateFormat(&quot;ddMMyy&quot;, Locale.ENGLISH);\r\n\t\t\tdate = format.parse(dateInGit);\r\n\t\t} catch (ParseException e) {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn date;\r\n\t}\r\n\r\nNow, this date is assigned to an attribute of a class `UserInfo`, when we try to convert an object of this class to a JSON the date gets decremented by 1 day!\r\n\r\n**Object to JSON string**\r\n\r\n    public static String asJsonString(final Object obj) {\r\n    \ttry {\r\n    \t\treturn new ObjectMapper().writeValueAsString(obj);\r\n    \t} catch (Exception e) {\r\n    \t\tthrow new RuntimeException(e);\r\n    \t}\r\n    }\r\n\r\n**User Info Bean**\r\n\r\n    public class UserInfo {\r\n    \t\r\n    \t@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\r\n    \tDate date;\r\n    }\r\n\r\nThis is main method\r\n\r\n    public static void main(String[] args) {\r\n    \t\r\n    \tUserInfo obj = new UserInfo();\r\n    \tobj.date = getDateFromGITID(&quot;Y04051000547GF&quot;);\r\n    \t\r\n    \tSystem.out.println(obj.date);\r\n    \r\n    \tSystem.out.println(asJsonString(obj));\r\n    }\r\n\r\nThis was the console output\r\n\r\n    Tue May 04 00:00:00 IST 2010\r\n    {&quot;dob&quot;:&quot;2010-05-03&quot;}\r\n\r\nYou can see that the date is 4th of May 2010, but in JSON it gets decremented by 1 day. We were able to figure out what was causing the issue, the date is printed in **IST** which has a difference of 5 hours and 30 minutes with **UST**. So we added that time before the JSON conversion and the converted time didn&#39;t have a change.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tUserInfo obj = new UserInfo();\r\n\t\tobj.dob = getDOBFromNID(&quot;Y04051000547GF&quot;);\r\n\t\t\r\n\t\tSystem.out.println(obj.dob);\r\n\r\n\t\tobj.dob.setHours(5);\r\n\t\tobj.dob.setMinutes(30);\r\n\t\tobj.dob.setSeconds(00);\r\n\r\n\t\tSystem.out.println(asJsonString(obj));\r\n\t}\r\n\r\n**Output**\r\n\r\n    Tue May 04 00:00:00 IST 2010\r\n    {&quot;dob&quot;:&quot;2010-05-04&quot;}\r\n\r\nYes, we have used the deprecated method but it is just for testing. Even if we try to decrease the time by 1 second the issue will come. \r\n\r\n**Edit-1 (Found another fix by setting the time zone to the formatter)**\r\n\r\nWe were able to fix this issue in another way when we set the time zone to **GST** ([Java SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;) gives timezone as IST][1]) for the `DateFormat` inside the `getDateFromGITID` method.\r\n\r\n    format.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n\r\n\r\nSo the questions are \r\n\r\n 1. Why is it happening?\r\n 2. Is the second way a better fix?\r\n 3. Is there any other better fix?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/19115247/7218656","title":"Date decrements by a day when converted to a JSON String - Java","body":"<p>We have a method that gets a date from an alpha-numeric String. Say that the String is <code>Y04051000547GF</code> the resultant date will be <code>Tue May 04 00:00:00 IST 2010</code>.</p>\n<pre><code>public static Date getDateFromGITID(String gitId) {\n    \n    Date date = null;\n    try {\n\n        String dateInGit = nid.substring(1, 7); //  six characters from the second character\n\n        DateFormat format = new SimpleDateFormat(&quot;ddMMyy&quot;, Locale.ENGLISH);\n        date = format.parse(dateInGit);\n    } catch (ParseException e) {\n        \n    }\n    \n    return date;\n}\n</code></pre>\n<p>Now, this date is assigned to an attribute of a class <code>UserInfo</code>, when we try to convert an object of this class to a JSON the date gets decremented by 1 day!</p>\n<p><strong>Object to JSON string</strong></p>\n<pre><code>public static String asJsonString(final Object obj) {\n    try {\n        return new ObjectMapper().writeValueAsString(obj);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p><strong>User Info Bean</strong></p>\n<pre><code>public class UserInfo {\n    \n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\n    Date date;\n}\n</code></pre>\n<p>This is main method</p>\n<pre><code>public static void main(String[] args) {\n    \n    UserInfo obj = new UserInfo();\n    obj.date = getDateFromGITID(&quot;Y04051000547GF&quot;);\n    \n    System.out.println(obj.date);\n\n    System.out.println(asJsonString(obj));\n}\n</code></pre>\n<p>This was the console output</p>\n<pre><code>Tue May 04 00:00:00 IST 2010\n{&quot;dob&quot;:&quot;2010-05-03&quot;}\n</code></pre>\n<p>You can see that the date is 4th of May 2010, but in JSON it gets decremented by 1 day. We were able to figure out what was causing the issue, the date is printed in <strong>IST</strong> which has a difference of 5 hours and 30 minutes with <strong>UST</strong>. So we added that time before the JSON conversion and the converted time didn't have a change.</p>\n<pre><code>public static void main(String[] args) {\n    \n    UserInfo obj = new UserInfo();\n    obj.dob = getDOBFromNID(&quot;Y04051000547GF&quot;);\n    \n    System.out.println(obj.dob);\n\n    obj.dob.setHours(5);\n    obj.dob.setMinutes(30);\n    obj.dob.setSeconds(00);\n\n    System.out.println(asJsonString(obj));\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Tue May 04 00:00:00 IST 2010\n{&quot;dob&quot;:&quot;2010-05-04&quot;}\n</code></pre>\n<p>Yes, we have used the deprecated method but it is just for testing. Even if we try to decrease the time by 1 second the issue will come.</p>\n<p><strong>Edit-1 (Found another fix by setting the time zone to the formatter)</strong></p>\n<p>We were able to fix this issue in another way when we set the time zone to <strong>GST</strong> (<a href=\"https://stackoverflow.com/a/19115247/7218656\">Java SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;) gives timezone as IST</a>) for the <code>DateFormat</code> inside the <code>getDateFromGITID</code> method.</p>\n<pre><code>format.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\n</code></pre>\n<p>So the questions are</p>\n<ol>\n<li>Why is it happening?</li>\n<li>Is the second way a better fix?</li>\n<li>Is there any other better fix?</li>\n</ol>\n"},{"tags":["java","android","android-studio","android-fragments","bottomnavigationview"],"owner":{"account_id":24732350,"reputation":11,"user_id":18620172,"display_name":"Ahsan Murtaza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696052950,"creation_date":1696006032,"question_id":77203590,"body_markdown":"## Question\r\nI&#39;m currently working on an Android app where I&#39;m using a &#39;BottomNavigationView&#39; to switch between tabs in my application. However, I&#39;ve noticed that there is a noticeable delay or lag when switching between these tabs, impacting the user experience.\r\n\r\n### Problem Details\r\n- I&#39;m using the standard `BottomNavigationView` component.\r\n- Each tab in the `BottomNavigationView` is associated with a different fragment.\r\n- The lag occurs when tapping on different tabs, and it takes a milliseconds before the new fragment becomes visible.\r\n\r\n### What I&#39;ve Tried\r\n1. Checked for any heavy operations or computations in my fragment&#39;s `onCreateView` or `onResume` methods.\r\n2. Verified that I&#39;m not loading large images or data on the UI thread.\r\n3. Ensured that my fragments are not performing network operations on the main thread.\r\n\r\n### Code Samples\r\nHere&#39;s a simplified version of my `MainActivity` with the `BottomNavigationView` setup:\r\n\r\n\r\n    // MainActivity.java\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        private BottomNavigationView bottomNavigationView;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            bottomNavigationView = findViewById(R.id.bottom_navigation);\r\n\r\n            bottomNavigationView.setOnNavigationItemSelectedListener(item -&gt; {\r\n                switch (item.getItemId()) {\r\n                    case R.id.tab1:\r\n                        // Load Fragment 1\r\n                    replaceFragment(new Fragment1());\r\n                        break;\r\n                    case R.id.tab2:\r\n                        // Load Fragment 2\r\n                    replaceFragment(new Fragment2());\r\n                        break;\r\n                    case R.id.tab3:\r\n                        // Load Fragment 3\r\n                    replaceFragment(new Fragment3());\r\n                        break;\r\n                }\r\n                return true;\r\n            });\r\n        }\r\n\r\n        private void replaceFragment(Fragment fragment) {\r\n            FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n            fragmentTransaction.replace(R.id.fragmentContainerView, fragment);\r\n            fragmentTransaction.commit();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n- What could be causing this delay or lag when switching tabs in my BottomNavigationView?\r\n- Are there any specific best practices or optimizations I should consider for improving tab switching performance?\r\n- How can I diagnose and resolve this issue effectively?\r\n\r\nAny insights, suggestions, or solutions would be greatly appreciated. Thanks in advance!","title":"milliseconds Delay/Lag when Switching Tabs in BottomNavigationView in Android using Java","body":"<h2>Question</h2>\n<p>I'm currently working on an Android app where I'm using a 'BottomNavigationView' to switch between tabs in my application. However, I've noticed that there is a noticeable delay or lag when switching between these tabs, impacting the user experience.</p>\n<h3>Problem Details</h3>\n<ul>\n<li>I'm using the standard <code>BottomNavigationView</code> component.</li>\n<li>Each tab in the <code>BottomNavigationView</code> is associated with a different fragment.</li>\n<li>The lag occurs when tapping on different tabs, and it takes a milliseconds before the new fragment becomes visible.</li>\n</ul>\n<h3>What I've Tried</h3>\n<ol>\n<li>Checked for any heavy operations or computations in my fragment's <code>onCreateView</code> or <code>onResume</code> methods.</li>\n<li>Verified that I'm not loading large images or data on the UI thread.</li>\n<li>Ensured that my fragments are not performing network operations on the main thread.</li>\n</ol>\n<h3>Code Samples</h3>\n<p>Here's a simplified version of my <code>MainActivity</code> with the <code>BottomNavigationView</code> setup:</p>\n<pre><code>// MainActivity.java\n\npublic class MainActivity extends AppCompatActivity {\n\n    private BottomNavigationView bottomNavigationView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        bottomNavigationView = findViewById(R.id.bottom_navigation);\n\n        bottomNavigationView.setOnNavigationItemSelectedListener(item -&gt; {\n            switch (item.getItemId()) {\n                case R.id.tab1:\n                    // Load Fragment 1\n                replaceFragment(new Fragment1());\n                    break;\n                case R.id.tab2:\n                    // Load Fragment 2\n                replaceFragment(new Fragment2());\n                    break;\n                case R.id.tab3:\n                    // Load Fragment 3\n                replaceFragment(new Fragment3());\n                    break;\n            }\n            return true;\n        });\n    }\n\n    private void replaceFragment(Fragment fragment) {\n        FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n        fragmentTransaction.replace(R.id.fragmentContainerView, fragment);\n        fragmentTransaction.commit();\n    }\n}\n</code></pre>\n<ul>\n<li>What could be causing this delay or lag when switching tabs in my BottomNavigationView?</li>\n<li>Are there any specific best practices or optimizations I should consider for improving tab switching performance?</li>\n<li>How can I diagnose and resolve this issue effectively?</li>\n</ul>\n<p>Any insights, suggestions, or solutions would be greatly appreciated. Thanks in advance!</p>\n"},{"tags":["java","csv","apache-commons-csv"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1471243434,"post_id":38950284,"comment_id":65255378,"body_markdown":"What you have there is ***multiple*** different csv &quot;files&quot; in one physical file.  You have to separate them before parsing them as CSV.","body":"What you have there is <b><i>multiple</i></b> different csv &quot;files&quot; in one physical file.  You have to separate them before parsing them as CSV."},{"owner":{"account_id":3375606,"reputation":10150,"user_id":2833783,"accept_rate":56,"display_name":"Illegal Argument"},"score":0,"creation_date":1471246794,"post_id":38950284,"comment_id":65256491,"body_markdown":"@JimGarrison is there any library for doing it?","body":"@JimGarrison is there any library for doing it?"}],"answers":[{"tags":[],"owner":{"account_id":3375606,"reputation":10150,"user_id":2833783,"accept_rate":56,"display_name":"Illegal Argument"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471243236,"creation_date":1471243236,"answer_id":38950399,"question_id":38950284,"body_markdown":"Though strictly not a good solution but for my case ignoring the records that have a single element eliminated the headers. I am still looking for/ working on a solution like a configuration or extending some classes for a cleaner solution. \r\n\r\n    private void readCsv(String inputFilePath) {\r\n        try {\r\n            Reader in = new FileReader(inputFilePath);\r\n    //            Iterable&lt;CSVRecord&gt; records = CSVFormat.RFC4180.withFirstRecordAsHeader().parse(in);\r\n            Iterable&lt;CSVRecord&gt; records = CSVFormat.RFC4180.parse(in);\r\n            for (CSVRecord record : records) {\r\n                if (record.size() &lt;= 1){\r\n                    continue;\r\n                }\r\n                String topic = record.get(0);\r\n                if (topic != null &amp;&amp; !topic.isEmpty()) {\r\n                    System.out.println(topic);\r\n                }\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\nThe reason this is not a good solution is because there could be many other csv files where this solution could prove buggy. Still could be useful for someone.","title":"Java reading csv file with multiple headers","body":"<p>Though strictly not a good solution but for my case ignoring the records that have a single element eliminated the headers. I am still looking for/ working on a solution like a configuration or extending some classes for a cleaner solution. </p>\n\n<pre><code>private void readCsv(String inputFilePath) {\n    try {\n        Reader in = new FileReader(inputFilePath);\n//            Iterable&lt;CSVRecord&gt; records = CSVFormat.RFC4180.withFirstRecordAsHeader().parse(in);\n        Iterable&lt;CSVRecord&gt; records = CSVFormat.RFC4180.parse(in);\n        for (CSVRecord record : records) {\n            if (record.size() &lt;= 1){\n                continue;\n            }\n            String topic = record.get(0);\n            if (topic != null &amp;&amp; !topic.isEmpty()) {\n                System.out.println(topic);\n            }\n        }\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>The reason this is not a good solution is because there could be many other csv files where this solution could prove buggy. Still could be useful for someone.</p>\n"}],"owner":{"account_id":3375606,"reputation":10150,"user_id":2833783,"accept_rate":56,"display_name":"Illegal Argument"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2623,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696051538,"creation_date":1471242629,"question_id":38950284,"body_markdown":"I am using [apache commons csv][1] to read contents from a CSV file I get from [google trends][2] downloaded as a csv in related query section bottom right. A small subset of the file:\r\n\r\n    Category: All categories\r\n    &quot;bluetooth speakers: (1/1/04 - 8/15/16, Worldwide)&quot;\r\n\r\n    TOP\r\n    speaker,100\r\n    bluetooth speaker,100\r\n\r\n    RISING\r\n    portable speakers bluetooth,Breakout\r\n    portable speakers,Breakout\r\n\r\nMy code to read from the file:\r\n\r\n    private void readCsv(String inputFilePath) {\r\n        try {\r\n            Reader in = new FileReader(inputFilePath);\r\n            Iterable&lt;CSVRecord&gt; records = CSVFormat.RFC4180.withFirstRecordAsHeader().parse(in);\r\n            for (CSVRecord record : records) {\r\n                String topic = record.get(0);\r\n                if (topic != null &amp;&amp; !topic.isEmpty()) {\r\n                    System.out.println(topic);\r\n                }\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n\r\nThe output:\r\n\r\n    bluetooth speakers: (1/1/04 - 8/15/16, Worldwide)\r\n    TOP\r\n    speaker\r\n    bluetooth speaker\r\n    RISING\r\n    portable speakers bluetooth\r\n    portable speakers\r\n\r\n Desired Output:\r\n\r\n    speaker\r\n    bluetooth speaker\r\n    portable speakers bluetooth\r\n    portable speakers\r\n\r\nBased on the data from google(without headers) and the two Headers **TOP** and **RISING** I am unable to extract the desired values. Is there any configuration for filtering I can apply to get the desired values?\r\n  [1]: https://commons.apache.org/proper/commons-csv/\r\n  [2]: https://www.google.com/trends/explore?date=all&amp;q=bluetooth%20speakers","title":"Java reading csv file with multiple headers","body":"<p>I am using [apache commons csv][1] to read contents from a CSV file I get from [google trends][2] downloaded as a csv in related query section bottom right. A small subset of the file:</p>\n<pre><code>Category: All categories\n&quot;bluetooth speakers: (1/1/04 - 8/15/16, Worldwide)&quot;\n\nTOP\nspeaker,100\nbluetooth speaker,100\n\nRISING\nportable speakers bluetooth,Breakout\nportable speakers,Breakout\n</code></pre>\n<p>My code to read from the file:</p>\n<pre><code>private void readCsv(String inputFilePath) {\n    try {\n        Reader in = new FileReader(inputFilePath);\n        Iterable&lt;CSVRecord&gt; records = CSVFormat.RFC4180.withFirstRecordAsHeader().parse(in);\n        for (CSVRecord record : records) {\n            String topic = record.get(0);\n            if (topic != null &amp;&amp; !topic.isEmpty()) {\n                System.out.println(topic);\n            }\n        }\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>bluetooth speakers: (1/1/04 - 8/15/16, Worldwide)\nTOP\nspeaker\nbluetooth speaker\nRISING\nportable speakers bluetooth\nportable speakers\n</code></pre>\n<p>Desired Output:</p>\n<pre><code>speaker\nbluetooth speaker\nportable speakers bluetooth\nportable speakers\n</code></pre>\n<p>Based on the data from google(without headers) and the two Headers <strong>TOP</strong> and <strong>RISING</strong> I am unable to extract the desired values. Is there any configuration for filtering I can apply to get the desired values?\n[1]: <a href=\"https://commons.apache.org/proper/commons-csv/\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-csv/</a>\n[2]: <a href=\"https://www.google.com/trends/explore?date=all&amp;q=bluetooth%20speakers\" rel=\"nofollow noreferrer\">https://www.google.com/trends/explore?date=all&amp;q=bluetooth%20speakers</a></p>\n"},{"tags":["java","csv","opencsv"],"answers":[{"tags":[],"owner":{"account_id":406460,"reputation":1550,"user_id":775987,"accept_rate":63,"display_name":"justSaid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1327862856,"creation_date":1327862856,"answer_id":9055721,"question_id":9048256,"body_markdown":"I&#39;ve got it! I thought that the type of *reader* have to be of *CSVReader*. It actually turned out that I can feed the methode *parse* with any object inheriting from the *Reader* class.\r\n \r\nNow I can read the entire csv-file into a String, splitt it, pack each of the new Strings into a *StringReader* and than pass it to the *parse* methode.\r\n","title":"CSV-file with many tables","body":"<p>I've got it! I thought that the type of <em>reader</em> have to be of <em>CSVReader</em>. It actually turned out that I can feed the methode <em>parse</em> with any object inheriting from the <em>Reader</em> class.</p>\n\n<p>Now I can read the entire csv-file into a String, splitt it, pack each of the new Strings into a <em>StringReader</em> and than pass it to the <em>parse</em> methode.</p>\n"}],"owner":{"account_id":406460,"reputation":1550,"user_id":775987,"accept_rate":63,"display_name":"justSaid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9055721,"answer_count":1,"score":1,"last_activity_date":1696051447,"creation_date":1327781849,"question_id":9048256,"body_markdown":"The csv file contains more than one table, it might look like this:\r\n\r\n&gt;     &quot;Vertical Table 1&quot;\r\n&gt;     ,\r\n&gt;     &quot;id&quot;,&quot;visits&quot;,&quot;downloads&quot;\r\n&gt;      1, 4324, 23\r\n&gt;      2, 664, 42\r\n&gt;      3, 73, 44\r\n&gt;      4, 914, 8\r\n&gt;\r\n&gt;     &quot;Vertical Table 2&quot;\r\n&gt;     ,\r\n&gt;     &quot;id_of_2nd_tab&quot;,&quot;visits_of_2nd_tab&quot;,&quot;downloads_of_2nd_tab&quot;\r\n&gt;      1, 524, 3\r\n&gt;      2, 564, 52\r\n&gt;      3, 63, 84\r\n&gt;      4, 814, 8\r\n\r\n\r\nTo read one table I use &quot;*HeaderColumnNameTranslateMappingStrategy*&quot; from [opencsv][1]\r\nwhich allows me to map the csv-table entries into a List of *TableDataBean* objects, as seen below:\r\n\r\n\r\n    HeaderColumnNameTranslateMappingStrategy&lt;TableDataBean&gt; strat = new HeaderColumnNameTranslateMappingStrategy&lt;TableDataBean&gt;();\r\n    \r\n    CSVReader reader = new CSVReader(new FileReader(path), &#39;,&#39;);\r\n    strat.setType(TableDataBean.class);\r\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    map.put(&quot;Number of visits&quot;, &quot;visits&quot;);\r\n    map.put(&quot;id&quot;, &quot;id&quot;);\r\n    map.put(&quot;Number of downloads&quot;, &quot;downloads&quot;);\r\n    strat.setColumnMapping(map);\r\n    CsvToBean&lt;TableDataBean&gt; csv = new CsvToBean&lt;TableDataBean&gt;();\r\n    List&lt;TableDataBean&gt; list = csv.parse(strat, reader);\r\n\r\nThis works fine for the first table, but when it cames to the second, the values and the **attributes** are mapped to the same attribute of the first table. The output for \r\n\r\n    for(TableDataBean bean : list){System.out.println(bean.getVisits());}\r\n\r\nwould look like this:\r\n\r\n&gt;      4324\r\n&gt;      664\r\n&gt;      73\r\n&gt;      914\r\n&gt;      null\r\n&gt;      null\r\n&gt;      null\r\n&gt;      visits_of_2nd_tab\r\n&gt;      524\r\n&gt;      564\r\n&gt;      63\r\n&gt;      814\r\n\r\nI don&#39;t wanna split the file into many files containing each of them one table.\r\nSo what do you suggest ? Is there any other Library that supports this format?\r\n\r\n[1]: http://opencsv.sourceforge.net/\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"CSV-file with many tables","body":"<p>The csv file contains more than one table, it might look like this:</p>\n<blockquote>\n<pre><code>&quot;Vertical Table 1&quot;\n,\n&quot;id&quot;,&quot;visits&quot;,&quot;downloads&quot;\n 1, 4324, 23\n 2, 664, 42\n 3, 73, 44\n 4, 914, 8\n\n&quot;Vertical Table 2&quot;\n,\n&quot;id_of_2nd_tab&quot;,&quot;visits_of_2nd_tab&quot;,&quot;downloads_of_2nd_tab&quot;\n 1, 524, 3\n 2, 564, 52\n 3, 63, 84\n 4, 814, 8\n</code></pre>\n</blockquote>\n<p>To read one table I use &quot;<em>HeaderColumnNameTranslateMappingStrategy</em>&quot; from <a href=\"http://opencsv.sourceforge.net/\" rel=\"nofollow noreferrer\">opencsv</a>\nwhich allows me to map the csv-table entries into a List of <em>TableDataBean</em> objects, as seen below:</p>\n<pre><code>HeaderColumnNameTranslateMappingStrategy&lt;TableDataBean&gt; strat = new HeaderColumnNameTranslateMappingStrategy&lt;TableDataBean&gt;();\n\nCSVReader reader = new CSVReader(new FileReader(path), ',');\nstrat.setType(TableDataBean.class);\nMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\nmap.put(&quot;Number of visits&quot;, &quot;visits&quot;);\nmap.put(&quot;id&quot;, &quot;id&quot;);\nmap.put(&quot;Number of downloads&quot;, &quot;downloads&quot;);\nstrat.setColumnMapping(map);\nCsvToBean&lt;TableDataBean&gt; csv = new CsvToBean&lt;TableDataBean&gt;();\nList&lt;TableDataBean&gt; list = csv.parse(strat, reader);\n</code></pre>\n<p>This works fine for the first table, but when it cames to the second, the values and the <strong>attributes</strong> are mapped to the same attribute of the first table. The output for</p>\n<pre><code>for(TableDataBean bean : list){System.out.println(bean.getVisits());}\n</code></pre>\n<p>would look like this:</p>\n<blockquote>\n<pre><code> 4324\n 664\n 73\n 914\n null\n null\n null\n visits_of_2nd_tab\n 524\n 564\n 63\n 814\n</code></pre>\n</blockquote>\n<p>I don't wanna split the file into many files containing each of them one table.\nSo what do you suggest ? Is there any other Library that supports this format?</p>\n"},{"tags":["java","spring","spring-boot","jersey","weblogic12c"],"answers":[{"tags":[],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646486297,"creation_date":1646486297,"answer_id":71362516,"question_id":71355006,"body_markdown":"1. You have to be sure that your target packaging type is `war`. Check out your `pom.xml`\r\n2. Add `ServletInitializer`\r\n\r\n```java\r\npublic class ServletInitializer extends SpringBootServletInitializer {\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(SpringBootWebLogicApplication.class);\r\n    }\r\n\r\n}\r\n```\r\n\r\n3. Add `spring-boot-starter-tomcat` as `provided` depedency\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThese should be sufficient.","title":"Weblogic + Spring Boot Cloud Eureka Server","body":"<ol>\n<li>You have to be sure that your target packaging type is <code>war</code>. Check out your <code>pom.xml</code></li>\n<li>Add <code>ServletInitializer</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class ServletInitializer extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(SpringBootWebLogicApplication.class);\n    }\n\n}\n</code></pre>\n<ol start=\"3\">\n<li>Add <code>spring-boot-starter-tomcat</code> as <code>provided</code> depedency</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>These should be sufficient.</p>\n"},{"tags":[],"owner":{"account_id":5514375,"reputation":156,"user_id":4379671,"display_name":"tricksSpecialist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646668159,"creation_date":1646668159,"answer_id":71383709,"question_id":71355006,"body_markdown":"i think to work with weblogic, there are two files needed to be putted under WEB-INF\r\n\r\n 1. weblogic.xml\r\n 2. dispatcherServlet-servlet.xml\r\n\r\nthe contents of weblogic as following:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;wls:weblogic-web-app\r\n        xmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app\r\n        http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd&quot;&gt;\r\n\r\n    &lt;wls:context-root&gt;/myweb&lt;/wls:context-root&gt;\r\n    &lt;wls:container-descriptor&gt;\r\n        &lt;wls:prefer-application-packages&gt;\r\n            &lt;wls:package-name&gt;org.slf4j.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.springframework.*&lt;/wls:package-name&gt;\r\n        &lt;/wls:prefer-application-packages&gt;\r\n    &lt;/wls:container-descriptor&gt;\r\n    &lt;/wls:weblogic-web-app&gt;\r\n\r\nthe content of dispatcherServlet-servlet.xml as following:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n    \r\n    &lt;/beans&gt;\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kwLMd.png","title":"Weblogic + Spring Boot Cloud Eureka Server","body":"<p>i think to work with weblogic, there are two files needed to be putted under WEB-INF</p>\n<ol>\n<li>weblogic.xml</li>\n<li>dispatcherServlet-servlet.xml</li>\n</ol>\n<p>the contents of weblogic as following:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;wls:weblogic-web-app\n    xmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app\n    http://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd&quot;&gt;\n\n&lt;wls:context-root&gt;/myweb&lt;/wls:context-root&gt;\n&lt;wls:container-descriptor&gt;\n    &lt;wls:prefer-application-packages&gt;\n        &lt;wls:package-name&gt;org.slf4j.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;org.springframework.*&lt;/wls:package-name&gt;\n    &lt;/wls:prefer-application-packages&gt;\n&lt;/wls:container-descriptor&gt;\n&lt;/wls:weblogic-web-app&gt;\n</code></pre>\n<p>the content of dispatcherServlet-servlet.xml as following:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/kwLMd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kwLMd.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":27169,"reputation":4357,"user_id":71410,"accept_rate":78,"display_name":"Andrea Girardi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646986346,"creation_date":1646986346,"answer_id":71435457,"question_id":71355006,"body_markdown":"I have finally found the issue. There were some dependencies conflicts (in particular Jersey and FasterXml Jackson deps) that must be resolved in order to start the Eureka service under Weblogic. \r\n\r\n\r\nSo, I have changed the pom.xml in this way:\r\n\r\n    &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n\r\n&lt;dependencies&gt;\r\n\r\n    &lt;!-- 1. Spring Boot --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- 2. Spring Boot Starter Cloud --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\r\n                &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n                &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\r\n                &lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.netflix.eureka/eureka-client --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.netflix.eureka&lt;/groupId&gt;\r\n        &lt;artifactId&gt;eureka-client&lt;/artifactId&gt;\r\n        &lt;version&gt;1.10.17&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n                &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\r\n                &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;artifactId&gt;servo-core&lt;/artifactId&gt;\r\n                &lt;groupId&gt;com.netflix.servo&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;!-- 3. Spring Boot Starter Web --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- 4. Spring Boot Starter Modules --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\r\n        &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- 5. Servlet Starter --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- 6. Resolving conflicts with dependecies --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.sun.jersey}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.sun.jersey}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n        &lt;version&gt;${jackson-dataformat-xml}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\r\n                &lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.fasterxml.jackson}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.fasterxml.jackson}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.fasterxml.jackson}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.fasterxml.woodstox}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.netflix.servo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;servo-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.netflix.servo}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;/dependencies&gt;","title":"Weblogic + Spring Boot Cloud Eureka Server","body":"<p>I have finally found the issue. There were some dependencies conflicts (in particular Jersey and FasterXml Jackson deps) that must be resolved in order to start the Eureka service under Weblogic.</p>\n<p>So, I have changed the pom.xml in this way:</p>\n<pre><code>&lt;dependencyManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n\n<pre><code>&lt;!-- 1. Spring Boot --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;!-- 2. Spring Boot Starter Cloud --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\n            &lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/com.netflix.eureka/eureka-client --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.netflix.eureka&lt;/groupId&gt;\n    &lt;artifactId&gt;eureka-client&lt;/artifactId&gt;\n    &lt;version&gt;1.10.17&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;servo-core&lt;/artifactId&gt;\n            &lt;groupId&gt;com.netflix.servo&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n\n&lt;!-- 3. Spring Boot Starter Web --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;!-- 4. Spring Boot Starter Modules --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.ben-manes.caffeine&lt;/groupId&gt;\n    &lt;artifactId&gt;caffeine&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;!-- 5. Servlet Starter --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;!-- 6. Resolving conflicts with dependecies --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\n    &lt;version&gt;${com.sun.jersey}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n    &lt;version&gt;${com.sun.jersey}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;version&gt;${jackson-dataformat-xml}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\n            &lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;${com.fasterxml.jackson}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;${com.fasterxml.jackson}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;${com.fasterxml.jackson}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\n    &lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\n    &lt;version&gt;${com.fasterxml.woodstox}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.netflix.servo&lt;/groupId&gt;\n    &lt;artifactId&gt;servo-core&lt;/artifactId&gt;\n    &lt;version&gt;${com.netflix.servo}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n"},{"tags":[],"owner":{"account_id":29567456,"reputation":1,"user_id":22660493,"display_name":"Janescience Top"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696050822,"creation_date":1696050748,"answer_id":77205766,"question_id":71355006,"body_markdown":"I found same issue and can fixed by update jersey version follow \r\n[Updating the Version of Jersey JAX-RS RI][1]\r\n\r\nEdit file `weblogic.xml` in **webapp/WEB-INF** \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;wls:weblogic-web-app\r\n    xmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\r\n    http://java.sun.com/xml/ns/javaee/ejb-jar_3_0.xsd\r\n    http://xmlns.oracle.com/weblogic/weblogic-web-app\r\n    http://xmlns.oracle.com/weblogic/weblogic-web-app/1.5/weblogic-web-app.xsd&quot;&gt;\r\n\r\n    &lt;wls:context-root&gt;/&lt;/wls:context-root&gt;\r\n    &lt;wls:container-descriptor&gt;\r\n        &lt;wls:prefer-application-packages&gt;\r\n            \r\n            &lt;!-- jersey-bundle-*.jar --&gt;\r\n            &lt;wls:package-name&gt;com.sun.jersey.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;com.sun.research.ws.wadl.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;com.sun.ws.rs.ext.*&lt;/wls:package-name&gt;\r\n\r\n            &lt;!-- Jackson-*.jar --&gt;\r\n            &lt;wls:package-name&gt;org.codehaus.jackson.*&lt;/wls:package-name&gt;\r\n \r\n            &lt;!-- jettison-*.jar --&gt;\r\n            &lt;wls:package-name&gt;org.codehaus.jettison.*&lt;/wls:package-name&gt;\r\n \r\n            &lt;!-- jsr311*.jar --&gt;\r\n            &lt;wls:package-name&gt;javax.ws.rs.*&lt;/wls:package-name&gt;\r\n \r\n            &lt;!-- asm.jar --&gt;\r\n            &lt;wls:package-name&gt;org.objectweb.asm.*&lt;/wls:package-name&gt;\r\n        &lt;/wls:prefer-application-packages&gt;\r\n    &lt;/wls:container-descriptor&gt;\r\n\r\n    &lt;/wls:weblogic-web-app&gt;\r\n\r\nAnd not edit file `pom.xml`\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E24329_01/web.1211/e24983/version.htm#RESTF203","title":"Weblogic + Spring Boot Cloud Eureka Server","body":"<p>I found same issue and can fixed by update jersey version follow\n<a href=\"https://docs.oracle.com/cd/E24329_01/web.1211/e24983/version.htm#RESTF203\" rel=\"nofollow noreferrer\">Updating the Version of Jersey JAX-RS RI</a></p>\n<p>Edit file <code>weblogic.xml</code> in <strong>webapp/WEB-INF</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;wls:weblogic-web-app\nxmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\nhttp://java.sun.com/xml/ns/javaee/ejb-jar_3_0.xsd\nhttp://xmlns.oracle.com/weblogic/weblogic-web-app\nhttp://xmlns.oracle.com/weblogic/weblogic-web-app/1.5/weblogic-web-app.xsd&quot;&gt;\n\n&lt;wls:context-root&gt;/&lt;/wls:context-root&gt;\n&lt;wls:container-descriptor&gt;\n    &lt;wls:prefer-application-packages&gt;\n        \n        &lt;!-- jersey-bundle-*.jar --&gt;\n        &lt;wls:package-name&gt;com.sun.jersey.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;com.sun.research.ws.wadl.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;com.sun.ws.rs.ext.*&lt;/wls:package-name&gt;\n\n        &lt;!-- Jackson-*.jar --&gt;\n        &lt;wls:package-name&gt;org.codehaus.jackson.*&lt;/wls:package-name&gt;\n\n        &lt;!-- jettison-*.jar --&gt;\n        &lt;wls:package-name&gt;org.codehaus.jettison.*&lt;/wls:package-name&gt;\n\n        &lt;!-- jsr311*.jar --&gt;\n        &lt;wls:package-name&gt;javax.ws.rs.*&lt;/wls:package-name&gt;\n\n        &lt;!-- asm.jar --&gt;\n        &lt;wls:package-name&gt;org.objectweb.asm.*&lt;/wls:package-name&gt;\n    &lt;/wls:prefer-application-packages&gt;\n&lt;/wls:container-descriptor&gt;\n\n&lt;/wls:weblogic-web-app&gt;\n</code></pre>\n<p>And not edit file <code>pom.xml</code></p>\n"}],"owner":{"account_id":27169,"reputation":4357,"user_id":71410,"accept_rate":78,"display_name":"Andrea Girardi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71435457,"answer_count":4,"score":0,"last_activity_date":1696050822,"creation_date":1646414458,"question_id":71355006,"body_markdown":"I am trying to run a Spring Boot Cloud Eureka server under a Weblogic webserver (Java 8, Weblogic 12, and Spring boot parent 2.4.13). I configured my pom to generate a war file and I am able to deploy but, as soon as it starts I get these errors:\r\n\r\n```Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-03-03 18:46:34.013 ERROR 5108 --- [ (self-tuning)&#39;] o.s.b.d.LoggingFailureAnalysisReporter   :\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.springframework.cloud.netflix.eureka.server.EurekaServerAutoConfiguration.jerseyFilterRegistration(EurekaServerAutoConfiguration.java:185)\r\n\r\nThe following method did not exist:\r\n\r\n    com.sun.jersey.spi.container.servlet.ServletContainer.&lt;init&gt;(Ljavax/ws/rs/core/Application;)V\r\n\r\nThe method&#39;s class, com.sun.jersey.spi.container.servlet.ServletContainer, is available from the following locations:\r\n\r\n    zip:D:/Development/Domains/lifeGateway/servers/AdminServer/tmp/_WL_user/registrationServer/rh50eu/war/WEB-INF/lib/jersey-servlet-1.19.4.jar!/com/sun/jersey/spi/container/servlet/ServletContainer.class\r\n    jar:file:/D:/Development/Servers/WebLogic12213/wls12213/oracle_common/modules/weblogic.jaxrs.portable.server.jar!/com/sun/jersey/spi/container/servlet/ServletContainer.class\r\n\r\nThe class hierarchy was loaded from the following locations:\r\n\r\n    com.sun.jersey.spi.container.servlet.ServletContainer: file:/D:/Development/Servers/WebLogic12213/wls12213/oracle_common/modules/weblogic.jaxrs.portable.server.jar\r\n    javax.servlet.http.HttpServlet: file:/D:/Development/Servers/WebLogic12213/wls12213/oracle_common/modules/javax.servlet.javax.servlet-api.jar\r\n    javax.servlet.GenericServlet: file:/D:/Development/Servers/WebLogic12213/wls12213/oracle_common/modules/javax.servlet.javax.servlet-api.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains a single, compatible version of com.sun.jersey.spi.container.servlet.ServletContainer\r\n\r\n&lt;Mar 3, 2022 6:46:34,271 PM CET&gt; &lt;Error&gt; &lt;Deployer&gt; &lt;BEA-149265&gt; &lt;Failure occurred in the execution of deployment request with ID &quot;1291493286977307&quot; for task &quot;2&quot; on [partition-name: DOMAIN]. Error is: &quot;weblogic.application.ModuleException: java.lang.NoSuchMethodError: com.sun.jersey.spi.container.servlet.ServletContainer.&lt;init&gt;(Ljavax/ws/rs/core/Application;)V&quot;\r\nweblogic.application.ModuleException: java.lang.NoSuchMethodError: com.sun.jersey.spi.container.servlet.ServletContainer.&lt;init&gt;(Ljavax/ws/rs/core/Application;)V\r\n        at weblogic.application.internal.ExtensibleModuleWrapper.start(ExtensibleModuleWrapper.java:140)\r\n        at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:124)\r\n        at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:233)\r\n        at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:228)\r\n        at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\r\n        Truncated. see log file for complete stacktrace\r\nCaused By: java.lang.NoSuchMethodError: com.sun.jersey.spi.container.servlet.ServletContainer.&lt;init&gt;(Ljavax/ws/rs/core/Application;)V\r\n        at org.springframework.cloud.netflix.eureka.server.EurekaServerAutoConfiguration.jerseyFilterRegistration(EurekaServerAutoConfiguration.java:185)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        Truncated. see log file for complete stacktrace\r\n&gt;\r\n&lt;Mar 3, 2022 6:46:34,315 PM CET&gt; &lt;Error&gt; &lt;Deployer&gt; &lt;BEA-149202&gt; &lt;Encountered an exception while attempting to commit the 1 task for the application &quot;registrationServer&quot; on [partition-name: DOMAIN].&gt;\r\n&lt;Mar 3, 2022 6:46:34,327 PM CET&gt; &lt;Warning&gt; &lt;Deployer&gt; &lt;BEA-149004&gt; &lt;Failures were detected while initiating deploy task for application &quot;registrationServer&quot;.&gt;\r\n&lt;Mar 3, 2022 6:46:34,327 PM CET&gt; &lt;Warning&gt; &lt;Deployer&gt; &lt;BEA-149078&gt; &lt;Stack trace for message 149004\r\nweblogic.application.ModuleException: java.lang.NoSuchMethodError: com.sun.jersey.spi.container.servlet.ServletContainer.&lt;init&gt;(Ljavax/ws/rs/core/Application;)V\r\n        at weblogic.application.internal.ExtensibleModuleWrapper.start(ExtensibleModuleWrapper.java:140)\r\n        at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:124)\r\n        at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:233)\r\n        at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:228)\r\n        at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\r\n        Truncated. see log file for complete stacktrace\r\nCaused By: java.lang.NoSuchMethodError: com.sun.jersey.spi.container.servlet.ServletContainer.&lt;init&gt;(Ljavax/ws/rs/core/Application;)V\r\n        at org.springframework.cloud.netflix.eureka.server.EurekaServerAutoConfiguration.jerseyFilterRegistration(EurekaServerAutoConfiguration.java:185)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        Truncated. see log file for complete stacktrace```\r\n\r\nAfter some investigations, I start to think it is related to the embedded tomcat but, I am not sure. At the moment I am stuck, do you have any idea why I am getting this error? \r\n\r\nThese are the dependencies I am including:\r\n\r\n```&lt;dependencies&gt;\r\n\r\n        &lt;!-- 1. Spring Boot --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- 2. Spring Boot Starter Cloud --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- 3. Spring Boot Starter Web --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- 4. Spring Boot Starter Modules --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- 5. Servlet Starter --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;```\r\n\r\n","title":"Weblogic + Spring Boot Cloud Eureka Server","body":"<p>I am trying to run a Spring Boot Cloud Eureka server under a Weblogic webserver (Java 8, Weblogic 12, and Spring boot parent 2.4.13). I configured my pom to generate a war file and I am able to deploy but, as soon as it starts I get these errors:</p>\n<pre><code>2022-03-03 18:46:34.013 ERROR 5108 --- [ (self-tuning)'] o.s.b.d.LoggingFailureAnalysisReporter   :\n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.springframework.cloud.netflix.eureka.server.EurekaServerAutoConfiguration.jerseyFilterRegistration(EurekaServerAutoConfiguration.java:185)\n\nThe following method did not exist:\n\n    com.sun.jersey.spi.container.servlet.ServletContainer.&lt;init&gt;(Ljavax/ws/rs/core/Application;)V\n\nThe method's class, com.sun.jersey.spi.container.servlet.ServletContainer, is available from the following locations:\n\n    zip:D:/Development/Domains/lifeGateway/servers/AdminServer/tmp/_WL_user/registrationServer/rh50eu/war/WEB-INF/lib/jersey-servlet-1.19.4.jar!/com/sun/jersey/spi/container/servlet/ServletContainer.class\n    jar:file:/D:/Development/Servers/WebLogic12213/wls12213/oracle_common/modules/weblogic.jaxrs.portable.server.jar!/com/sun/jersey/spi/container/servlet/ServletContainer.class\n\nThe class hierarchy was loaded from the following locations:\n\n    com.sun.jersey.spi.container.servlet.ServletContainer: file:/D:/Development/Servers/WebLogic12213/wls12213/oracle_common/modules/weblogic.jaxrs.portable.server.jar\n    javax.servlet.http.HttpServlet: file:/D:/Development/Servers/WebLogic12213/wls12213/oracle_common/modules/javax.servlet.javax.servlet-api.jar\n    javax.servlet.GenericServlet: file:/D:/Development/Servers/WebLogic12213/wls12213/oracle_common/modules/javax.servlet.javax.servlet-api.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains a single, compatible version of com.sun.jersey.spi.container.servlet.ServletContainer\n\n&lt;Mar 3, 2022 6:46:34,271 PM CET&gt; &lt;Error&gt; &lt;Deployer&gt; &lt;BEA-149265&gt; &lt;Failure occurred in the execution of deployment request with ID &quot;1291493286977307&quot; for task &quot;2&quot; on [partition-name: DOMAIN]. Error is: &quot;weblogic.application.ModuleException: java.lang.NoSuchMethodError: com.sun.jersey.spi.container.servlet.ServletContainer.&lt;init&gt;(Ljavax/ws/rs/core/Application;)V&quot;\nweblogic.application.ModuleException: java.lang.NoSuchMethodError: com.sun.jersey.spi.container.servlet.ServletContainer.&lt;init&gt;(Ljavax/ws/rs/core/Application;)V\n        at weblogic.application.internal.ExtensibleModuleWrapper.start(ExtensibleModuleWrapper.java:140)\n        at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:124)\n        at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:233)\n        at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:228)\n        at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\n        Truncated. see log file for complete stacktrace\nCaused By: java.lang.NoSuchMethodError: com.sun.jersey.spi.container.servlet.ServletContainer.&lt;init&gt;(Ljavax/ws/rs/core/Application;)V\n        at org.springframework.cloud.netflix.eureka.server.EurekaServerAutoConfiguration.jerseyFilterRegistration(EurekaServerAutoConfiguration.java:185)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        Truncated. see log file for complete stacktrace\n&gt;\n&lt;Mar 3, 2022 6:46:34,315 PM CET&gt; &lt;Error&gt; &lt;Deployer&gt; &lt;BEA-149202&gt; &lt;Encountered an exception while attempting to commit the 1 task for the application &quot;registrationServer&quot; on [partition-name: DOMAIN].&gt;\n&lt;Mar 3, 2022 6:46:34,327 PM CET&gt; &lt;Warning&gt; &lt;Deployer&gt; &lt;BEA-149004&gt; &lt;Failures were detected while initiating deploy task for application &quot;registrationServer&quot;.&gt;\n&lt;Mar 3, 2022 6:46:34,327 PM CET&gt; &lt;Warning&gt; &lt;Deployer&gt; &lt;BEA-149078&gt; &lt;Stack trace for message 149004\nweblogic.application.ModuleException: java.lang.NoSuchMethodError: com.sun.jersey.spi.container.servlet.ServletContainer.&lt;init&gt;(Ljavax/ws/rs/core/Application;)V\n        at weblogic.application.internal.ExtensibleModuleWrapper.start(ExtensibleModuleWrapper.java:140)\n        at weblogic.application.internal.flow.ModuleListenerInvoker.start(ModuleListenerInvoker.java:124)\n        at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:233)\n        at weblogic.application.internal.flow.ModuleStateDriver$3.next(ModuleStateDriver.java:228)\n        at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\n        Truncated. see log file for complete stacktrace\nCaused By: java.lang.NoSuchMethodError: com.sun.jersey.spi.container.servlet.ServletContainer.&lt;init&gt;(Ljavax/ws/rs/core/Application;)V\n        at org.springframework.cloud.netflix.eureka.server.EurekaServerAutoConfiguration.jerseyFilterRegistration(EurekaServerAutoConfiguration.java:185)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        Truncated. see log file for complete stacktrace```\n\nAfter some investigations, I start to think it is related to the embedded tomcat but, I am not sure. At the moment I am stuck, do you have any idea why I am getting this error? \n\nThese are the dependencies I am including:\n\n```&lt;dependencies&gt;\n\n        &lt;!-- 1. Spring Boot --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- 2. Spring Boot Starter Cloud --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n                    &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- 3. Spring Boot Starter Web --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- 4. Spring Boot Starter Modules --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- 5. Servlet Starter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;```\n\n</code></pre>\n"},{"tags":["python","java","pyspark","streamlit"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695995048,"post_id":77201862,"comment_id":136100983,"body_markdown":"Please **do not** post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)","body":"Please <b>do not</b> post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":17219616,"reputation":1593,"user_id":12466687,"display_name":"ViSa"},"score":0,"creation_date":1696000157,"post_id":77201862,"comment_id":136102122,"body_markdown":"@aled I have used `image` since it shows both `App output` &amp; `error` side by side. And I have put most of `code` as `code` here in this post.","body":"@aled I have used <code>image</code> since it shows both <code>App output</code> &amp; <code>error</code> side by side. And I have put most of <code>code</code> as <code>code</code> here in this post."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1696006276,"post_id":77201862,"comment_id":136103339,"body_markdown":"You didn&#39;t share the errors as text. This is part of [Stackoverflow guidelines](https://stackoverflow.com/help/how-to-ask) that I mentioned above.","body":"You didn&#39;t share the errors as text. This is part of <a href=\"https://stackoverflow.com/help/how-to-ask\">Stackoverflow guidelines</a> that I mentioned above."},{"owner":{"account_id":17219616,"reputation":1593,"user_id":12466687,"display_name":"ViSa"},"score":0,"creation_date":1696050817,"post_id":77201862,"comment_id":136107581,"body_markdown":"@aled have updated post with `error` as text","body":"@aled have updated post with <code>error</code> as text"}],"answers":[{"tags":[],"owner":{"account_id":6955106,"reputation":31,"user_id":5424036,"display_name":"Karolis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696004117,"creation_date":1695999535,"answer_id":77202973,"question_id":77201862,"body_markdown":"Exception in the screenshot indicates that you do not have rmp package installed on your python environment. \r\n\r\nTo install this package you should modify you environment file if you are using it by adding this dependency:\r\n`rpm`\r\n\r\nor install it with a shell script \r\n\r\n```shell\r\npip install rpm\r\n```\r\n\r\nYou might also need bindings as well: `python-rpm`\r\n\r\n\r\nBut if you are installing this rpm package using external shell command, maybe you do not need rpm-python package?","title":"How to install Java manually using .rpm files on cloud (streamlit) using python script?","body":"<p>Exception in the screenshot indicates that you do not have rmp package installed on your python environment.</p>\n<p>To install this package you should modify you environment file if you are using it by adding this dependency:\n<code>rpm</code></p>\n<p>or install it with a shell script</p>\n<pre class=\"lang-bash prettyprint-override\"><code>pip install rpm\n</code></pre>\n<p>You might also need bindings as well: <code>python-rpm</code></p>\n<p>But if you are installing this rpm package using external shell command, maybe you do not need rpm-python package?</p>\n"}],"owner":{"account_id":17219616,"reputation":1593,"user_id":12466687,"display_name":"ViSa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696050788,"creation_date":1695989821,"question_id":77201862,"body_markdown":"I am new to `unix` &amp; `cloud` not from IT background and not sure how to install `Java` manually on cloud. I am trying to install Java on `streamlit` to be able to use `Pyspark`.\r\n\r\nI have tried below code but not sure how to **install** using `downloaded` `.rpm` file with `python`.\r\n\r\n[App_link][1]\r\n\r\n[Github_link][2]\r\n\r\n```\r\nimport streamlit as st\r\nimport pandas as pd\r\n\r\nimport os\r\nimport sys\r\nimport wget\r\n# import tarfile\r\nimport platform\r\n```\r\n\r\n**1. Download Java**\r\n```\r\n# for linux from: https://crunchify.com/where-is-java-installed-on-my-mac-osx-system/\r\nf = wget.download(&quot;https://download.oracle.com/otn-pub/java/jdk/11.0.2+9/f51449fcd52f4d52b93a989c5c56ed3c/jdk-11.0.2_linux-x64_bin.rpm&quot;)\r\n\r\nst.write(&quot; Java Downloaded&quot;)\r\n```\r\n\r\n&gt;  Java Downloaded\r\n\r\n**2. Cross check Platform**\r\n```\r\nst.write(&quot;Checking platform: &quot;,platform.system())\r\n```\r\n\r\n&gt; Checking platform: Linux\r\n\r\n\r\n**3. Checking Directories &amp; files**\r\n```\r\nst.write(&quot;Current Directory: &quot;,os.getcwd())\r\nst.write(&quot;Directory list: &quot;,os.listdir())\r\n```\r\n\r\n&gt; Current Directory: /mount/src/os_explore\r\n\r\nDirectory list:\r\n\r\n&gt; [ 0:&quot;requirements.txt&quot; 1:&quot;app.py&quot; 2:&quot;README.md&quot; 3:&quot;.git&quot;\r\n&gt; 4:&quot;jdk-11.0.2_linux-x64_bin.rpm&quot; 5:&quot;packages.txt&quot; 6:&quot;.streamlit&quot; ]\r\n\r\n\r\n**4. Installing using .rpm file**\r\n```\r\n# from: https://stackoverflow.com/questions/49484772/install-rpm-or-msi-file-through-python-script\r\nimport rpm\r\nimport subprocess\r\npackage_path = &#39;/mount/src/os_explore/jdk-11.0.2_linux-x64_bin.rpm&#39;\r\n# command = [&#39;rpm&#39;, &#39;-Ivh&#39;, package_path]\r\ncommand = [&#39;rpm&#39;, &#39;-ivh&#39;, package_path]\r\np = subprocess.Popen(command)\r\np.wait()\r\nif p.returncode == 0:\r\n    print(&quot;OK&quot;)\r\nelse:\r\n    print(&quot;Something went wrong&quot;)\r\n```\r\n\r\nGetting Errors from here onwards\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**Error in text:**\r\n\r\n&gt; ImportError: Failed to import system RPM module. Make sure RPM Python\r\n&gt; bindings are installed on your system.\r\n&gt; \r\n&gt; 2023-09-30 05:04:01.256 Uncaught app exception\r\n&gt; \r\n&gt; Traceback (most recent call last):\r\n&gt; \r\n&gt;   File\r\n&gt; &quot;/home/adminuser/venv/lib/python3.9/site-packages/rpm/__init__.py&quot;,\r\n&gt; line 102, in &lt;module&gt;\r\n&gt; \r\n&gt;     _shim_module_initializing_\r\n&gt; \r\n&gt; NameError: name &#39;_shim_module_initializing_&#39; is not defined\r\n&gt; \r\n&gt; \r\n&gt; During handling of the above exception, another exception occurred:\r\n&gt; \r\n&gt; \r\n&gt; Traceback (most recent call last):\r\n&gt; \r\n&gt;   File\r\n&gt; &quot;/home/adminuser/venv/lib/python3.9/site-packages/streamlit/runtime/scriptrunner/script_runner.py&quot;,\r\n&gt; line 565, in _run_script\r\n&gt; \r\n&gt;     exec(code, module.__dict__)\r\n&gt; \r\n&gt;   File &quot;/mount/src/os_explore/app.py&quot;, line 61, in &lt;module&gt;\r\n&gt; \r\n&gt;     import rpm\r\n&gt; \r\n&gt;   File\r\n&gt; &quot;/home/adminuser/venv/lib/python3.9/site-packages/rpm/__init__.py&quot;,\r\n&gt; line 105, in &lt;module&gt;\r\n&gt; \r\n&gt;     initialize()\r\n&gt; \r\n&gt;   File\r\n&gt; &quot;/home/adminuser/venv/lib/python3.9/site-packages/rpm/__init__.py&quot;,\r\n&gt; line 94, in initialize\r\n&gt; \r\n&gt;     raise ImportError(\r\n&gt; \r\n&gt; ImportError: Failed to import system RPM module. Make sure RPM Python\r\n&gt; bindings are installed on your system.\r\n\r\n\r\n**I would really Appreciate help here** as I am stuck on installing Java from days and literally sick &amp; tired of it. My PySpark code is ready in my local app but unable to install Java on cloud.\r\n\r\n  [1]: https://os-explore.streamlit.app/\r\n  [2]: https://github.com/johnsnow09/os_explore/blob/main/app.py\r\n  [3]: https://i.stack.imgur.com/0lwW0.png","title":"How to install Java manually using .rpm files on cloud (streamlit) using python script?","body":"<p>I am new to <code>unix</code> &amp; <code>cloud</code> not from IT background and not sure how to install <code>Java</code> manually on cloud. I am trying to install Java on <code>streamlit</code> to be able to use <code>Pyspark</code>.</p>\n<p>I have tried below code but not sure how to <strong>install</strong> using <code>downloaded</code> <code>.rpm</code> file with <code>python</code>.</p>\n<p><a href=\"https://os-explore.streamlit.app/\" rel=\"nofollow noreferrer\">App_link</a></p>\n<p><a href=\"https://github.com/johnsnow09/os_explore/blob/main/app.py\" rel=\"nofollow noreferrer\">Github_link</a></p>\n<pre><code>import streamlit as st\nimport pandas as pd\n\nimport os\nimport sys\nimport wget\n# import tarfile\nimport platform\n</code></pre>\n<p><strong>1. Download Java</strong></p>\n<pre><code># for linux from: https://crunchify.com/where-is-java-installed-on-my-mac-osx-system/\nf = wget.download(&quot;https://download.oracle.com/otn-pub/java/jdk/11.0.2+9/f51449fcd52f4d52b93a989c5c56ed3c/jdk-11.0.2_linux-x64_bin.rpm&quot;)\n\nst.write(&quot; Java Downloaded&quot;)\n</code></pre>\n<blockquote>\n<p>Java Downloaded</p>\n</blockquote>\n<p><strong>2. Cross check Platform</strong></p>\n<pre><code>st.write(&quot;Checking platform: &quot;,platform.system())\n</code></pre>\n<blockquote>\n<p>Checking platform: Linux</p>\n</blockquote>\n<p><strong>3. Checking Directories &amp; files</strong></p>\n<pre><code>st.write(&quot;Current Directory: &quot;,os.getcwd())\nst.write(&quot;Directory list: &quot;,os.listdir())\n</code></pre>\n<blockquote>\n<p>Current Directory: /mount/src/os_explore</p>\n</blockquote>\n<p>Directory list:</p>\n<blockquote>\n<p>[ 0:&quot;requirements.txt&quot; 1:&quot;app.py&quot; 2:&quot;README.md&quot; 3:&quot;.git&quot;\n4:&quot;jdk-11.0.2_linux-x64_bin.rpm&quot; 5:&quot;packages.txt&quot; 6:&quot;.streamlit&quot; ]</p>\n</blockquote>\n<p><strong>4. Installing using .rpm file</strong></p>\n<pre><code># from: https://stackoverflow.com/questions/49484772/install-rpm-or-msi-file-through-python-script\nimport rpm\nimport subprocess\npackage_path = '/mount/src/os_explore/jdk-11.0.2_linux-x64_bin.rpm'\n# command = ['rpm', '-Ivh', package_path]\ncommand = ['rpm', '-ivh', package_path]\np = subprocess.Popen(command)\np.wait()\nif p.returncode == 0:\n    print(&quot;OK&quot;)\nelse:\n    print(&quot;Something went wrong&quot;)\n</code></pre>\n<p>Getting Errors from here onwards</p>\n<p><a href=\"https://i.stack.imgur.com/0lwW0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0lwW0.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Error in text:</strong></p>\n<blockquote>\n<p>ImportError: Failed to import system RPM module. Make sure RPM Python\nbindings are installed on your system.</p>\n<p>2023-09-30 05:04:01.256 Uncaught app exception</p>\n<p>Traceback (most recent call last):</p>\n<p>File\n&quot;/home/adminuser/venv/lib/python3.9/site-packages/rpm/<strong>init</strong>.py&quot;,\nline 102, in </p>\n<pre><code>_shim_module_initializing_\n</code></pre>\n<p>NameError: name '<em>shim_module_initializing</em>' is not defined</p>\n<p>During handling of the above exception, another exception occurred:</p>\n<p>Traceback (most recent call last):</p>\n<p>File\n&quot;/home/adminuser/venv/lib/python3.9/site-packages/streamlit/runtime/scriptrunner/script_runner.py&quot;,\nline 565, in _run_script</p>\n<pre><code>exec(code, module.__dict__)\n</code></pre>\n<p>File &quot;/mount/src/os_explore/app.py&quot;, line 61, in </p>\n<pre><code>import rpm\n</code></pre>\n<p>File\n&quot;/home/adminuser/venv/lib/python3.9/site-packages/rpm/<strong>init</strong>.py&quot;,\nline 105, in </p>\n<pre><code>initialize()\n</code></pre>\n<p>File\n&quot;/home/adminuser/venv/lib/python3.9/site-packages/rpm/<strong>init</strong>.py&quot;,\nline 94, in initialize</p>\n<pre><code>raise ImportError(\n</code></pre>\n<p>ImportError: Failed to import system RPM module. Make sure RPM Python\nbindings are installed on your system.</p>\n</blockquote>\n<p><strong>I would really Appreciate help here</strong> as I am stuck on installing Java from days and literally sick &amp; tired of it. My PySpark code is ready in my local app but unable to install Java on cloud.</p>\n"},{"tags":["java","jackson","jackson2","jackson-dataformat-xml","jackson-annotations"],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696050513,"creation_date":1696050513,"answer_id":77205756,"question_id":77205755,"body_markdown":"I used the `@JsonAnySetter` annotation to deserialize the XML element to a `Map&lt;String, String&gt;`. Here&#39;s an example:\r\n\r\n\r\n    public class MyElement {\r\n        private Map&lt;String, String&gt; attributes = new HashMap&lt;&gt;();\r\n    \r\n        @JsonAnySetter\r\n        public void addAttribute(String name, String value) {\r\n            attributes.put(name, value);\r\n        }\r\n    \r\n        public Map&lt;String, String&gt; getAttributes() {\r\n            return attributes;\r\n        }\r\n    }\r\n\r\n\r\nIn this example, the addAttribute method is annotated with `@JsonAnySetter`, which tells JacksonXML to call this method for any XML attribute that doesn&#39;t have a corresponding property in the `MyElement` class. The method then adds the attribute name and value to the attributes map.\r\n\r\nTo deserialize the XML element to a `MyElement` object, you can use the `XmlMapper` class:\r\n\r\n\r\n    String xml = &quot;&lt;to amount=\\&quot;345.00\\&quot; service=\\&quot;service\\&quot; purpose=\\&quot;rent\\&quot; account=\\&quot;381\\&quot;/&gt;&quot;;\r\n    XmlMapper xmlMapper = new XmlMapper();\r\n    MyElement element = xmlMapper.readValue(xml, MyElement.class);\r\n\r\n\r\nAfter deserialization, the attributes map in the MyElement object will contain the attribute names and values from the XML element.","title":"With JacksonXML I&#39;d like to deserialize unpredetermined list of elements to the Map&lt;String,String&gt;. What kind of annotations I can use for that?","body":"<p>I used the <code>@JsonAnySetter</code> annotation to deserialize the XML element to a <code>Map&lt;String, String&gt;</code>. Here's an example:</p>\n<pre><code>public class MyElement {\n    private Map&lt;String, String&gt; attributes = new HashMap&lt;&gt;();\n\n    @JsonAnySetter\n    public void addAttribute(String name, String value) {\n        attributes.put(name, value);\n    }\n\n    public Map&lt;String, String&gt; getAttributes() {\n        return attributes;\n    }\n}\n</code></pre>\n<p>In this example, the addAttribute method is annotated with <code>@JsonAnySetter</code>, which tells JacksonXML to call this method for any XML attribute that doesn't have a corresponding property in the <code>MyElement</code> class. The method then adds the attribute name and value to the attributes map.</p>\n<p>To deserialize the XML element to a <code>MyElement</code> object, you can use the <code>XmlMapper</code> class:</p>\n<pre><code>String xml = &quot;&lt;to amount=\\&quot;345.00\\&quot; service=\\&quot;service\\&quot; purpose=\\&quot;rent\\&quot; account=\\&quot;381\\&quot;/&gt;&quot;;\nXmlMapper xmlMapper = new XmlMapper();\nMyElement element = xmlMapper.readValue(xml, MyElement.class);\n</code></pre>\n<p>After deserialization, the attributes map in the MyElement object will contain the attribute names and values from the XML element.</p>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77205756,"answer_count":1,"score":0,"last_activity_date":1696050513,"creation_date":1696050513,"question_id":77205755,"body_markdown":"I have xml tag with  attribute names which are not restricted to some specific values,like that: \r\n\r\n    &lt;to amount=&quot;345.00&quot; service=&quot;service&quot; purpose=&quot;rent&quot; account=&quot;381&quot;/&gt;\r\n\r\nWith JacksonXML I&#39;d like to deserialize that elements to the Map&lt;String,String&gt;. What kind of annotations I can use for that?","title":"With JacksonXML I&#39;d like to deserialize unpredetermined list of elements to the Map&lt;String,String&gt;. What kind of annotations I can use for that?","body":"<p>I have xml tag with  attribute names which are not restricted to some specific values,like that:</p>\n<pre><code>&lt;to amount=&quot;345.00&quot; service=&quot;service&quot; purpose=&quot;rent&quot; account=&quot;381&quot;/&gt;\n</code></pre>\n<p>With JacksonXML I'd like to deserialize that elements to the Map&lt;String,String&gt;. What kind of annotations I can use for that?</p>\n"},{"tags":["java","mysql","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695995728,"post_id":77202495,"comment_id":136101142,"body_markdown":"Remove `hibernate-jpa-2.1-api`, fix compilation errors by using `jakarta.persistence` imports.","body":"Remove <code>hibernate-jpa-2.1-api</code>, fix compilation errors by using <code>jakarta.persistence</code> imports."},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1695997026,"post_id":77202495,"comment_id":136101421,"body_markdown":"Go to start.spring.io and use the dependencies and defaults from there.","body":"Go to start.spring.io and use the dependencies and defaults from there."}],"answers":[{"tags":[],"owner":{"account_id":6955106,"reputation":31,"user_id":5424036,"display_name":"Karolis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695998781,"creation_date":1695996934,"answer_id":77202651,"question_id":77202495,"body_markdown":"Could it be that SpringBoot does not discover your Entity class? \r\nIf you have a certain project structure where the main application class is in another path, you might need to add `scanBasePackages` property:\r\n\r\n```java\r\n@SpringBootApplication(scanBasePackages=&quot;com.cts.Employee&quot;)\r\npublic class EmployeeApplication{\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(EmployeeApplication.class, args)\r\n    }\r\n}\r\n\r\n```","title":"Springboot Application started successfully but the required table is not created in MySql Workbench","body":"<p>Could it be that SpringBoot does not discover your Entity class?\nIf you have a certain project structure where the main application class is in another path, you might need to add <code>scanBasePackages</code> property:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(scanBasePackages=&quot;com.cts.Employee&quot;)\npublic class EmployeeApplication{\n    public static void main(String[] args) {\n        SpringApplication.run(EmployeeApplication.class, args)\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29214990,"reputation":1,"user_id":22382012,"display_name":"Payal Panjwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696049171,"creation_date":1696049171,"answer_id":77205697,"question_id":77202495,"body_markdown":"Try using `org.hibernate.dialect.MySQL5Dialect` in the Hibernate properties.","title":"Springboot Application started successfully but the required table is not created in MySql Workbench","body":"<p>Try using <code>org.hibernate.dialect.MySQL5Dialect</code> in the Hibernate properties.</p>\n"}],"owner":{"account_id":22001181,"reputation":1,"user_id":16272892,"display_name":"GeekToLearn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696049171,"creation_date":1695995482,"question_id":77202495,"body_markdown":"I am new to spring framework. I am trying to create a CRUD application. After running the Spring application, the application starting successfully but database is not getting updated. My database name is Emp. When the springboot application started successfully I refreshed the database but no table named &quot;employees&quot; is added there. \r\n\r\n**My project structure is as follows:**\r\n\r\n[Project structure][1]\r\n\r\n**There is no compilation error as of now.**\r\n\r\n**Following is the generated console after running the application-**\r\n\r\n```\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.1.4)\r\n\r\n2023-09-29T18:52:42.309+05:30  INFO 1908 --- [           main] com.cts.Employee.EmployeeApplication     : Starting EmployeeApplication using Java 17.0.8 with PID 1908 (C:\\Users\\Gals\\eclipse-workspace\\Employee\\target\\classes started by Gals in C:\\Users\\Gals\\eclipse-workspace\\Employee)\r\n2023-09-29T18:52:42.318+05:30  INFO 1908 --- [           main] com.cts.Employee.EmployeeApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-09-29T18:52:44.171+05:30  INFO 1908 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-09-29T18:52:44.245+05:30  INFO 1908 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 0 JPA repository interfaces.\r\n2023-09-29T18:52:45.852+05:30  INFO 1908 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-09-29T18:52:45.880+05:30  INFO 1908 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-09-29T18:52:45.880+05:30  INFO 1908 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]\r\n2023-09-29T18:52:46.137+05:30  INFO 1908 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-09-29T18:52:46.140+05:30  INFO 1908 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3654 ms\r\n2023-09-29T18:52:46.617+05:30  INFO 1908 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-09-29T18:52:46.756+05:30  INFO 1908 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final\r\n2023-09-29T18:52:46.762+05:30  INFO 1908 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n2023-09-29T18:52:47.100+05:30  INFO 1908 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-09-29T18:52:47.431+05:30  INFO 1908 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n2023-09-29T18:52:47.468+05:30  INFO 1908 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-09-29T18:52:47.864+05:30  INFO 1908 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6842c101\r\n2023-09-29T18:52:47.868+05:30  INFO 1908 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-09-29T18:52:49.346+05:30  INFO 1908 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-09-29T18:52:51.157+05:30  INFO 1908 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-09-29T18:52:51.218+05:30  INFO 1908 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-09-29T18:52:51.389+05:30  WARN 1908 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-09-29T18:52:53.771+05:30  INFO 1908 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-09-29T18:52:53.797+05:30  INFO 1908 --- [           main] com.cts.Employee.EmployeeApplication     : Started EmployeeApplication in 12.466 seconds (process running for 13.365)\r\n```\r\n\r\n**Following is the Application.properties file present in src/main/resources -**\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/emp?useSSL=false\r\nspring.datasource.username=root\r\nspring.datasource.password=&#39;&#39;\r\n\r\n# Hibernate properties\r\n#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n# create, create-drop\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\n```\r\n** Following is the Pom.xml-**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.cts&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Employee&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Employeemanagement&lt;/name&gt;\r\n\t&lt;description&gt;Employee Management using Spring boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n   \t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n   \t\t \t&lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n   \t\t \t&lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.33&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n**Following is my employee model - **\r\n\r\n```\r\npackage com.cts.Employee.model;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\n@Entity\r\n@Table(name=&quot;employees&quot;)\r\npublic class EmployeeModel {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\t\r\n\t@Column(name = &quot;first_name&quot;, nullable = false)\r\n\tprivate String firstName;\r\n\t\r\n\t@Column(name = &quot;last_name&quot;)\r\n\tprivate String lastName;\r\n\t\r\n\t@Column(name=&quot;address&quot;)\r\n\tprivate String address;\r\n}\r\n```\r\n\r\nPlease help me resolve the issue. \r\n\r\nTried making changes in application.properties file.\r\n\r\nUsed \r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n\r\ninstead of \r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\nbut that didn&#39;t help. \r\n\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect - this dialect is giving errors in the code. So I had to use spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nLLQG.png","title":"Springboot Application started successfully but the required table is not created in MySql Workbench","body":"<p>I am new to spring framework. I am trying to create a CRUD application. After running the Spring application, the application starting successfully but database is not getting updated. My database name is Emp. When the springboot application started successfully I refreshed the database but no table named &quot;employees&quot; is added there.</p>\n<p><strong>My project structure is as follows:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/nLLQG.png\" rel=\"nofollow noreferrer\">Project structure</a></p>\n<p><strong>There is no compilation error as of now.</strong></p>\n<p><strong>Following is the generated console after running the application-</strong></p>\n<pre><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.4)\n\n2023-09-29T18:52:42.309+05:30  INFO 1908 --- [           main] com.cts.Employee.EmployeeApplication     : Starting EmployeeApplication using Java 17.0.8 with PID 1908 (C:\\Users\\Gals\\eclipse-workspace\\Employee\\target\\classes started by Gals in C:\\Users\\Gals\\eclipse-workspace\\Employee)\n2023-09-29T18:52:42.318+05:30  INFO 1908 --- [           main] com.cts.Employee.EmployeeApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-09-29T18:52:44.171+05:30  INFO 1908 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-09-29T18:52:44.245+05:30  INFO 1908 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 0 JPA repository interfaces.\n2023-09-29T18:52:45.852+05:30  INFO 1908 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-09-29T18:52:45.880+05:30  INFO 1908 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-09-29T18:52:45.880+05:30  INFO 1908 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]\n2023-09-29T18:52:46.137+05:30  INFO 1908 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-09-29T18:52:46.140+05:30  INFO 1908 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3654 ms\n2023-09-29T18:52:46.617+05:30  INFO 1908 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-09-29T18:52:46.756+05:30  INFO 1908 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final\n2023-09-29T18:52:46.762+05:30  INFO 1908 --- [           main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-09-29T18:52:47.100+05:30  INFO 1908 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-09-29T18:52:47.431+05:30  INFO 1908 --- [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-09-29T18:52:47.468+05:30  INFO 1908 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-09-29T18:52:47.864+05:30  INFO 1908 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6842c101\n2023-09-29T18:52:47.868+05:30  INFO 1908 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-09-29T18:52:49.346+05:30  INFO 1908 --- [           main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-09-29T18:52:51.157+05:30  INFO 1908 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-09-29T18:52:51.218+05:30  INFO 1908 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-09-29T18:52:51.389+05:30  WARN 1908 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-09-29T18:52:53.771+05:30  INFO 1908 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-09-29T18:52:53.797+05:30  INFO 1908 --- [           main] com.cts.Employee.EmployeeApplication     : Started EmployeeApplication in 12.466 seconds (process running for 13.365)\n</code></pre>\n<p><strong>Following is the Application.properties file present in src/main/resources -</strong></p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/emp?useSSL=false\nspring.datasource.username=root\nspring.datasource.password=''\n\n# Hibernate properties\n#spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n# create, create-drop\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\n</code></pre>\n<p>** Following is the Pom.xml-**</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.cts&lt;/groupId&gt;\n    &lt;artifactId&gt;Employee&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Employeemanagement&lt;/name&gt;\n    &lt;description&gt;Employee Management using Spring boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.33&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        \n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>**Following is my employee model - **</p>\n<pre><code>package com.cts.Employee.model;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Column;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.Data;\n\n@Data\n@Entity\n@Table(name=&quot;employees&quot;)\npublic class EmployeeModel {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    \n    @Column(name = &quot;first_name&quot;, nullable = false)\n    private String firstName;\n    \n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n    \n    @Column(name=&quot;address&quot;)\n    private String address;\n}\n</code></pre>\n<p>Please help me resolve the issue.</p>\n<p>Tried making changes in application.properties file.</p>\n<p>Used\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect</p>\n<p>instead of\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect</p>\n<p>but that didn't help.</p>\n<p>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect - this dialect is giving errors in the code. So I had to use spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1696353254,"post_id":77205587,"comment_id":136140880,"body_markdown":"do you tell me what do you tried while project","body":"do you tell me what do you tried while project"}],"answers":[{"tags":[],"owner":{"account_id":9609347,"reputation":43,"user_id":7134278,"display_name":"roca33scorpio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696045823,"creation_date":1696045823,"answer_id":77205601,"question_id":77205587,"body_markdown":"you are probably creating a new empty Project, it depends on the version of Android you are using, but in Android Girafa a new project &quot;Empty Views Activity&quot; does have the majority of directories by default.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zXZ2S.png","title":"How to setup android studio to create layout resource files automatically?","body":"<p>you are probably creating a new empty Project, it depends on the version of Android you are using, but in Android Girafa a new project &quot;Empty Views Activity&quot; does have the majority of directories by default.</p>\n<p><a href=\"https://i.stack.imgur.com/zXZ2S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zXZ2S.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26435731,"reputation":31,"user_id":20081119,"display_name":"Sanduni Devindya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696045823,"creation_date":1696045005,"question_id":77205587,"body_markdown":"When I create a new project , there is not a layout folder in res folder. I need to create it manually. How to setup the android studio to create it automatically ?\r\n\r\nI did it manually. Right click on res, -&gt; new -&gt; Android Resource Directory and added layout.","title":"How to setup android studio to create layout resource files automatically?","body":"<p>When I create a new project , there is not a layout folder in res folder. I need to create it manually. How to setup the android studio to create it automatically ?</p>\n<p>I did it manually. Right click on res, -&gt; new -&gt; Android Resource Directory and added layout.</p>\n"},{"tags":["java","sql","hibernate","spring-data-jpa"],"owner":{"account_id":18249964,"reputation":9,"user_id":13285174,"display_name":"Denis_54213213"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696045517,"creation_date":1696045484,"question_id":77205596,"body_markdown":"When I invoke `findByFlight_Destination()` (that uses sql join under hood) and set annotation @EntityGraph to retrieve the assosiated entity (Flight). There are two duplicate joins instead of one.\r\n\r\nGenerated sql query\r\n\r\n```sql\r\n Hibernate:\r\n    select\r\n        f1_0.flight_seat_id,\r\n        f1_0.customer_id,\r\n        f1_0.flight_id,\r\n        f3_0.flight_id,\r\n        f3_0.airplane_id,\r\n        f3_0.avia_company_id,\r\n        f3_0.destination,\r\n        f3_0.landing_timestamp,\r\n        f3_0.source,\r\n        f3_0.takeoff_timestamp,\r\n        f1_0.is_window_seat,\r\n        f1_0.position,\r\n        f1_0.price,\r\n        f1_0.class \r\n    from\r\n        flight_seats f1_0 \r\n    join\r\n        flights f2_0 \r\n            on f2_0.flight_id=f1_0.flight_id \r\n    join\r\n        flights f3_0 \r\n            on f3_0.flight_id=f1_0.flight_id \r\n    where\r\n        f2_0.destination=?\r\n```\r\n\r\nRepository\r\n\r\n  ```java\r\n\r\npublic interface FlightSeatRepository extends JpaRepository&lt;FlightSeat, Long&gt;, JpaSpecificationExecutor&lt;FlightSeat&gt; {\r\n\r\n    @EntityGraph(attributePaths = &quot;flight&quot;)\r\n    List&lt;FlightSeat&gt; findByFlight_Destination(City city);\r\n}\r\n\r\n```\r\n\r\nMy entities\r\n\r\n  ```java\r\n@Entity\r\n@Table(name = &quot;flight_seats&quot;)\r\npublic class FlightSeat {\r\n\r\n    @Column(name = &quot;flight_seat_id&quot;)\r\n    @Id\r\n    @GeneratedValue\r\n    private long id;\r\n\r\n    @Column(nullable = false)\r\n    private String position;\r\n\r\n    @Column(name = &quot;is_window_seat&quot;,nullable = false)\r\n    private boolean isWindowSeat;\r\n\r\n    @Column(nullable = false)\r\n    private int price;\r\n\r\n    @Column(name = &quot;class&quot;, nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    @JsonProperty(&quot;seat_class&quot;)\r\n    private FlightSeatClass seatClass;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;flight_id&quot;, nullable = false)\r\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    private Flight flight;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;customer_id&quot;)\r\n    @JsonIgnore\r\n    private Customer customer;\r\n\r\n    // getters, setters and constuctors ommited\r\n}\r\n```\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;flights&quot;)\r\n@Immutable\r\npublic class Flight {\r\n\r\n    @Column(name = &quot;flight_id&quot;)\r\n    @Id\r\n    @GeneratedValue\r\n    private long id;\r\n\r\n    @Column(name = &quot;takeoff_timestamp&quot;, nullable = false)\r\n    @JsonProperty(value = &quot;takeoff_timestamp&quot;)\r\n    private ZonedDateTime takeoffTimestamp;\r\n\r\n    @Column(name = &quot;landing_timestamp&quot;, nullable = false)\r\n    @JsonProperty(value = &quot;landing_timestamp&quot;)\r\n    private ZonedDateTime landingTimestamp;\r\n\r\n    @Column(nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    private City source;\r\n\r\n    @Column(nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    private City destination;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;avia_company_id&quot;, nullable = false)\r\n    @JsonIgnore\r\n    private AviaCompany company;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    @JoinColumn(name = &quot;airplane_id&quot;, nullable = false)\r\n    @JsonIgnore\r\n    private Airplane airplane;\r\n\r\n    @OneToMany(mappedBy = &quot;flight&quot;)\r\n    @JsonIgnore\r\n    private final Set&lt;FlightSeat&gt; seats = new HashSet&lt;&gt;();\r\n\r\n    // getters, setters and constuctors ommited\r\n}\r\n```\r\n\r\nBy the way if I remove `@EntityGraph` and set `fetch = FetchType.EAGER` for `flight`, that is\r\n\r\n```java\r\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n    @JoinColumn(name = &quot;flight_id&quot;, nullable = false)\r\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n    private Flight flight;\r\n```\r\n\r\nSql query gets even worse\r\n\r\n```sql\r\nHibernate: \r\n    select\r\n        f1_0.flight_seat_id,\r\n        f1_0.customer_id,\r\n        f1_0.flight_id,\r\n        f1_0.is_window_seat,\r\n        f1_0.position,\r\n        f1_0.price,\r\n        f1_0.class \r\n    from\r\n        flight_seats f1_0 \r\n    join\r\n        flights f2_0 \r\n            on f2_0.flight_id=f1_0.flight_id \r\n    where\r\n        f2_0.destination=?\r\nHibernate: \r\n    select\r\n        f1_0.flight_id,\r\n        f1_0.airplane_id,\r\n        f1_0.avia_company_id,\r\n        f1_0.destination,\r\n        f1_0.landing_timestamp,\r\n        f1_0.source,\r\n        f1_0.takeoff_timestamp \r\n    from\r\n        flights f1_0 \r\n    where\r\n        f1_0.flight_id=?\r\n```\r\n\r\nAnyways I need to remove duplicated joins upon using @EntityGraph. I don&#39;t want to set fetch type EAGER so that upon every query, the data will be eagerly fetched.","title":"How to avoid duplicate joins (Spring data jpa)","body":"<p>When I invoke <code>findByFlight_Destination()</code> (that uses sql join under hood) and set annotation @EntityGraph to retrieve the assosiated entity (Flight). There are two duplicate joins instead of one.</p>\n<p>Generated sql query</p>\n<pre class=\"lang-sql prettyprint-override\"><code> Hibernate:\n    select\n        f1_0.flight_seat_id,\n        f1_0.customer_id,\n        f1_0.flight_id,\n        f3_0.flight_id,\n        f3_0.airplane_id,\n        f3_0.avia_company_id,\n        f3_0.destination,\n        f3_0.landing_timestamp,\n        f3_0.source,\n        f3_0.takeoff_timestamp,\n        f1_0.is_window_seat,\n        f1_0.position,\n        f1_0.price,\n        f1_0.class \n    from\n        flight_seats f1_0 \n    join\n        flights f2_0 \n            on f2_0.flight_id=f1_0.flight_id \n    join\n        flights f3_0 \n            on f3_0.flight_id=f1_0.flight_id \n    where\n        f2_0.destination=?\n</code></pre>\n<p>Repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic interface FlightSeatRepository extends JpaRepository&lt;FlightSeat, Long&gt;, JpaSpecificationExecutor&lt;FlightSeat&gt; {\n\n  @EntityGraph(attributePaths = &quot;flight&quot;)\n  List&lt;FlightSeat&gt; findByFlight_Destination(City city);\n}\n\n</code></pre>\n<p>My entities</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;flight_seats&quot;)\npublic class FlightSeat {\n\n  @Column(name = &quot;flight_seat_id&quot;)\n  @Id\n  @GeneratedValue\n  private long id;\n\n  @Column(nullable = false)\n  private String position;\n\n  @Column(name = &quot;is_window_seat&quot;,nullable = false)\n  private boolean isWindowSeat;\n\n  @Column(nullable = false)\n  private int price;\n\n  @Column(name = &quot;class&quot;, nullable = false)\n  @Enumerated(EnumType.STRING)\n  @JsonProperty(&quot;seat_class&quot;)\n  private FlightSeatClass seatClass;\n\n  @ManyToOne(fetch = FetchType.LAZY, optional = false)\n  @JoinColumn(name = &quot;flight_id&quot;, nullable = false)\n  @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n  private Flight flight;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;customer_id&quot;)\n  @JsonIgnore\n  private Customer customer;\n\n  // getters, setters and constuctors ommited\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;flights&quot;)\n@Immutable\npublic class Flight {\n\n    @Column(name = &quot;flight_id&quot;)\n    @Id\n    @GeneratedValue\n    private long id;\n\n    @Column(name = &quot;takeoff_timestamp&quot;, nullable = false)\n    @JsonProperty(value = &quot;takeoff_timestamp&quot;)\n    private ZonedDateTime takeoffTimestamp;\n\n    @Column(name = &quot;landing_timestamp&quot;, nullable = false)\n    @JsonProperty(value = &quot;landing_timestamp&quot;)\n    private ZonedDateTime landingTimestamp;\n\n    @Column(nullable = false)\n    @Enumerated(EnumType.STRING)\n    private City source;\n\n    @Column(nullable = false)\n    @Enumerated(EnumType.STRING)\n    private City destination;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;avia_company_id&quot;, nullable = false)\n    @JsonIgnore\n    private AviaCompany company;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;airplane_id&quot;, nullable = false)\n    @JsonIgnore\n    private Airplane airplane;\n\n    @OneToMany(mappedBy = &quot;flight&quot;)\n    @JsonIgnore\n    private final Set&lt;FlightSeat&gt; seats = new HashSet&lt;&gt;();\n\n    // getters, setters and constuctors ommited\n}\n</code></pre>\n<p>By the way if I remove <code>@EntityGraph</code> and set <code>fetch = FetchType.EAGER</code> for <code>flight</code>, that is</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ManyToOne(fetch = FetchType.EAGER, optional = false)\n    @JoinColumn(name = &quot;flight_id&quot;, nullable = false)\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    private Flight flight;\n</code></pre>\n<p>Sql query gets even worse</p>\n<pre class=\"lang-sql prettyprint-override\"><code>Hibernate: \n    select\n        f1_0.flight_seat_id,\n        f1_0.customer_id,\n        f1_0.flight_id,\n        f1_0.is_window_seat,\n        f1_0.position,\n        f1_0.price,\n        f1_0.class \n    from\n        flight_seats f1_0 \n    join\n        flights f2_0 \n            on f2_0.flight_id=f1_0.flight_id \n    where\n        f2_0.destination=?\nHibernate: \n    select\n        f1_0.flight_id,\n        f1_0.airplane_id,\n        f1_0.avia_company_id,\n        f1_0.destination,\n        f1_0.landing_timestamp,\n        f1_0.source,\n        f1_0.takeoff_timestamp \n    from\n        flights f1_0 \n    where\n        f1_0.flight_id=?\n</code></pre>\n<p>Anyways I need to remove duplicated joins upon using @EntityGraph. I don't want to set fetch type EAGER so that upon every query, the data will be eagerly fetched.</p>\n"},{"tags":["java","string","replace","command"],"answers":[{"tags":[],"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1503248093,"creation_date":1371745153,"answer_id":17218738,"question_id":17218661,"body_markdown":"you could use String.replaceFirst and count it yourself:\r\n    \r\n    String outtext = output.getText();\r\n    String newtext = outtext;\r\n    int totalreplaced = 0;\r\n    \r\n    //check if there is anything to replace\r\n    while( !newtext.replaceFirst(repfrom, repto).equals(newtext) ) {\r\n        newtext = newtext.replaceFirst(repfrom, repto);\r\n        totalreplaced++;\r\n    }\r\n\r\n    message(&quot;Total replaced: &quot; + totalreplaced + &quot; from &quot; + repfrom + &quot; to &quot; + repto);\r\n","title":"Java string.replace(old, new) count how many replaced?","body":"<p>you could use String.replaceFirst and count it yourself:</p>\n\n<pre><code>String outtext = output.getText();\nString newtext = outtext;\nint totalreplaced = 0;\n\n//check if there is anything to replace\nwhile( !newtext.replaceFirst(repfrom, repto).equals(newtext) ) {\n    newtext = newtext.replaceFirst(repfrom, repto);\n    totalreplaced++;\n}\n\nmessage(\"Total replaced: \" + totalreplaced + \" from \" + repfrom + \" to \" + repto);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1696045015,"creation_date":1371746755,"answer_id":17219238,"question_id":17218661,"body_markdown":"Your [currently accepted answer][1] has few problems. \r\n\r\n1. It will need to iterate from beginning of string every time you invoke `replaceFirst` so it is not very efficient. \r\n2. But more importantly it can return &quot;unexpected&quot; results. For instance when we want to replace `&quot;ab&quot;` with `&quot;a&quot;`, for string `&quot;abbb&quot;` accepted solution instead of `1` will return `3` matches. It happens because:\r\n   - after first iteration `&quot;abbb&quot;` will become`&quot;abb&quot;`\r\n   - then in next iteration `&quot;abb&quot;` will become`&quot;ab&quot;`\r\n   - and then `&quot;ab&quot;` will become `&quot;a&quot;`.\r\n\r\n   So since we had 3 iterations `counter` will be `3` and that is the value which would be returned instead of `1` which is correct result. \r\n\r\n---\r\nTo avoid this kind of problems and count only *valid* replacements in *original* string we can use `Matcher#appendReplacement` and `Matcher#appendTail`. \r\nDemo:\r\n\r\n```\r\nString outtext = &quot;abb abbb&quot;;\r\nString repfrom = &quot;ab&quot;;\r\nString repto = &quot;a&quot;;\r\n\r\nPattern p = Pattern.compile(repfrom, Pattern.LITERAL);\r\nMatcher m = p.matcher(outtext);\r\n\r\nint counter = 0;\r\nStringBuffer sb = new StringBuffer();\r\nwhile (m.find()) {\r\n    counter++;\r\n    m.appendReplacement(sb, repto);\r\n}\r\nm.appendTail(sb);\r\n\r\nString newtext = sb.toString();\r\n\r\nSystem.out.println(newtext);\r\nSystem.out.println(counter);\r\n```\r\n\r\nResult:\r\n\r\n```\r\nab abb\r\n2\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/17218738","title":"Java string.replace(old, new) count how many replaced?","body":"<p>Your <a href=\"https://stackoverflow.com/a/17218738\">currently accepted answer</a> has few problems.</p>\n<ol>\n<li><p>It will need to iterate from beginning of string every time you invoke <code>replaceFirst</code> so it is not very efficient.</p>\n</li>\n<li><p>But more importantly it can return &quot;unexpected&quot; results. For instance when we want to replace <code>&quot;ab&quot;</code> with <code>&quot;a&quot;</code>, for string <code>&quot;abbb&quot;</code> accepted solution instead of <code>1</code> will return <code>3</code> matches. It happens because:</p>\n<ul>\n<li>after first iteration <code>&quot;abbb&quot;</code> will become<code>&quot;abb&quot;</code></li>\n<li>then in next iteration <code>&quot;abb&quot;</code> will become<code>&quot;ab&quot;</code></li>\n<li>and then <code>&quot;ab&quot;</code> will become <code>&quot;a&quot;</code>.</li>\n</ul>\n<p>So since we had 3 iterations <code>counter</code> will be <code>3</code> and that is the value which would be returned instead of <code>1</code> which is correct result.</p>\n</li>\n</ol>\n<hr />\n<p>To avoid this kind of problems and count only <em>valid</em> replacements in <em>original</em> string we can use <code>Matcher#appendReplacement</code> and <code>Matcher#appendTail</code>.\nDemo:</p>\n<pre><code>String outtext = &quot;abb abbb&quot;;\nString repfrom = &quot;ab&quot;;\nString repto = &quot;a&quot;;\n\nPattern p = Pattern.compile(repfrom, Pattern.LITERAL);\nMatcher m = p.matcher(outtext);\n\nint counter = 0;\nStringBuffer sb = new StringBuffer();\nwhile (m.find()) {\n    counter++;\n    m.appendReplacement(sb, repto);\n}\nm.appendTail(sb);\n\nString newtext = sb.toString();\n\nSystem.out.println(newtext);\nSystem.out.println(counter);\n</code></pre>\n<p>Result:</p>\n<pre><code>ab abb\n2\n</code></pre>\n"}],"owner":{"account_id":2907886,"reputation":59,"user_id":2492756,"display_name":"donemanuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7445,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":17218738,"answer_count":2,"score":4,"last_activity_date":1696045015,"creation_date":1371744900,"question_id":17218661,"body_markdown":"I have my console (image down below), and I have a command that will replace all oldstinrg to newstring. But how do I count how many of those were replaced?\r\n\r\n**(If the code replaced only once a to b then it will be 1, but if it replaced a to b twice the value would be 2)**\r\n\r\n*(this is just a part of code, but no other part is needed or any how related to this part of code)*\r\n\r\n    else if(intext.startsWith(&quot;replace &quot;)){\r\n\r\n            \t\t\r\n            \t\tString[] replist = original.split(&quot; +&quot;);\t\r\n            \t\t\r\n            \t\tString repfrom = replist[1];\r\n            \t\tString repto = replist[2];\r\n            \t\t\r\n            \t\tlastorep = repfrom;\r\n            \t\tlasttorep = repto;\r\n            \t\t\r\n            \t\tString outtext = output.getText();\r\n            \t\tString newtext = outtext.replace(repfrom, repto);\r\n            \t\toutput.setText(newtext);\r\n            \t\t\r\n            \t\tint totalreplaced = 0; //how to get how many replaced strings were there?\r\n            \t\t\r\n            \t\tmessage(&quot;Total replaced: &quot; + totalreplaced + &quot; from &quot; + repfrom + &quot; to &quot; + repto);\r\n            \t\t\r\n            \t}\r\n\r\n![My console image][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3hsRJ.png\r\n","title":"Java string.replace(old, new) count how many replaced?","body":"<p>I have my console (image down below), and I have a command that will replace all oldstinrg to newstring. But how do I count how many of those were replaced?</p>\n\n<p><strong>(If the code replaced only once a to b then it will be 1, but if it replaced a to b twice the value would be 2)</strong></p>\n\n<p><em>(this is just a part of code, but no other part is needed or any how related to this part of code)</em></p>\n\n<pre><code>else if(intext.startsWith(\"replace \")){\n\n\n                String[] replist = original.split(\" +\");    \n\n                String repfrom = replist[1];\n                String repto = replist[2];\n\n                lastorep = repfrom;\n                lasttorep = repto;\n\n                String outtext = output.getText();\n                String newtext = outtext.replace(repfrom, repto);\n                output.setText(newtext);\n\n                int totalreplaced = 0; //how to get how many replaced strings were there?\n\n                message(\"Total replaced: \" + totalreplaced + \" from \" + repfrom + \" to \" + repto);\n\n            }\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/3hsRJ.png\" alt=\"My console image\"></p>\n"},{"tags":["java","dependency-injection","cdi","guice","helidon"],"answers":[{"tags":[],"owner":{"account_id":59417,"reputation":7474,"user_id":177784,"accept_rate":100,"display_name":"Ashwin Prabhu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693806273,"creation_date":1693806273,"answer_id":77035317,"question_id":77031746,"body_markdown":"Helidon MP offers CDI through Weld. I am not aware of Helidon supporting anything other than Weld for CDI. If for some reason you require Guice, look at DropWizard or other alternatives. \r\n\r\nAn alternative would be to use Helidon SE to wire up Guice support yourself, but you have to ask yourself if it is worth all that effort and maintenance.","title":"Can you use alternative dependency injection frameworks with Helidon MP?","body":"<p>Helidon MP offers CDI through Weld. I am not aware of Helidon supporting anything other than Weld for CDI. If for some reason you require Guice, look at DropWizard or other alternatives.</p>\n<p>An alternative would be to use Helidon SE to wire up Guice support yourself, but you have to ask yourself if it is worth all that effort and maintenance.</p>\n"},{"tags":[],"owner":{"account_id":463786,"reputation":668,"user_id":866889,"accept_rate":60,"display_name":"Dmitry Aleksandrov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693831482,"creation_date":1693831482,"answer_id":77037825,"question_id":77031746,"body_markdown":"After Helidon 4 release, there will be an option for Helidon&#39;s own dependency injection framework, which is compile‚Äìtime and JSR-330 compatible. It is a work in progress now.","title":"Can you use alternative dependency injection frameworks with Helidon MP?","body":"<p>After Helidon 4 release, there will be an option for Helidon's own dependency injection framework, which is compile‚Äìtime and JSR-330 compatible. It is a work in progress now.</p>\n"},{"tags":[],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694024518,"creation_date":1694024518,"answer_id":77054394,"question_id":77031746,"body_markdown":"Yes, but [MicroProfile requires the presence of CDI](https://microprofile.io/), so as long as you continue to use a MicroProfile implementation (such as Helidon MP) CDI must be in the picture. Might be better to just embrace it rather than shipping an application or a library with several dependency injection frameworks of which only one will be active.","title":"Can you use alternative dependency injection frameworks with Helidon MP?","body":"<p>Yes, but <a href=\"https://microprofile.io/\" rel=\"nofollow noreferrer\">MicroProfile requires the presence of CDI</a>, so as long as you continue to use a MicroProfile implementation (such as Helidon MP) CDI must be in the picture. Might be better to just embrace it rather than shipping an application or a library with several dependency injection frameworks of which only one will be active.</p>\n"},{"tags":[],"owner":{"account_id":16592976,"reputation":1,"user_id":11990653,"display_name":"Aperson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696044108,"creation_date":1696044108,"answer_id":77205564,"question_id":77031746,"body_markdown":"If you&#39;re really attached to Guice, you can use code generators like [avaje-http][1] to create JSR-330-compatible helidon SE router classes from a JAX-style controller class. This&#39;ll help reduce the friction with using SE, but you&#39;ll need to wire everything not helidon SE related though.\r\n\r\n\r\n  [1]: https://github.com/avaje/avaje-http","title":"Can you use alternative dependency injection frameworks with Helidon MP?","body":"<p>If you're really attached to Guice, you can use code generators like <a href=\"https://github.com/avaje/avaje-http\" rel=\"nofollow noreferrer\">avaje-http</a> to create JSR-330-compatible helidon SE router classes from a JAX-style controller class. This'll help reduce the friction with using SE, but you'll need to wire everything not helidon SE related though.</p>\n"}],"owner":{"account_id":355304,"reputation":20155,"user_id":694184,"accept_rate":88,"display_name":"slayton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77054394,"answer_count":4,"score":1,"last_activity_date":1696044108,"creation_date":1693734457,"question_id":77031746,"body_markdown":"I&#39;m getting started with Helidon MP and for the most part its pretty sweet. I&#39;m not a huge fan of the CDI system as I have extensive experience with Guice in past projects.\r\n\r\nI&#39;ve been trying to figure out how to re-wire dependency injection for Helidon MP to use something like Guice or Dagger2 but I cannot find anything online that documents how you would do this.\r\n\r\nIs this even possible? Or do I switch to Helidon SE and wire it all up myself?","title":"Can you use alternative dependency injection frameworks with Helidon MP?","body":"<p>I'm getting started with Helidon MP and for the most part its pretty sweet. I'm not a huge fan of the CDI system as I have extensive experience with Guice in past projects.</p>\n<p>I've been trying to figure out how to re-wire dependency injection for Helidon MP to use something like Guice or Dagger2 but I cannot find anything online that documents how you would do this.</p>\n<p>Is this even possible? Or do I switch to Helidon SE and wire it all up myself?</p>\n"},{"tags":["java","android","android-intent","sharing"],"answers":[{"tags":[],"owner":{"account_id":2010922,"reputation":6503,"user_id":1799355,"display_name":"Digvesh Patel"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1375334687,"creation_date":1375333865,"answer_id":17985665,"question_id":17985646,"body_markdown":"    sendIntent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(exportPath));\r\n\r\n\r\nalso you can make `zip file` of all file and attach zip file for send multiple file in android","title":"Android sharing Files, by sending them via email or other apps","body":"<pre><code>sendIntent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(exportPath));\n</code></pre>\n\n<p>also you can make <code>zip file</code> of all file and attach zip file for send multiple file in android</p>\n"},{"tags":[],"owner":{"account_id":1046214,"reputation":9045,"user_id":1051147,"display_name":"Arun C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1375334169,"creation_date":1375334169,"answer_id":17985707,"question_id":17985646,"body_markdown":"Use [ACTION_SEND_MULTIPLE][1] for delivering multiple data to someone\r\n\r\n\r\n    intent.setAction(Intent.ACTION_SEND_MULTIPLE);\r\n    intent.putParcelableArrayListExtra(Intent.EXTRA_STREAM, arrayUri);\r\n    intent.setType(&quot;text/plain&quot;);\r\n    startActivity(intent);\r\n\r\nThe `arrayUri` is the Array List of  Uri of files to Send.\r\n\r\n  [1]: http://developer.android.com/reference/android/content/Intent.html#ACTION_SEND_MULTIPLE","title":"Android sharing Files, by sending them via email or other apps","body":"<p>Use <a href=\"http://developer.android.com/reference/android/content/Intent.html#ACTION_SEND_MULTIPLE\" rel=\"nofollow\">ACTION_SEND_MULTIPLE</a> for delivering multiple data to someone</p>\n\n<pre><code>intent.setAction(Intent.ACTION_SEND_MULTIPLE);\nintent.putParcelableArrayListExtra(Intent.EXTRA_STREAM, arrayUri);\nintent.setType(\"text/plain\");\nstartActivity(intent);\n</code></pre>\n\n<p>The <code>arrayUri</code> is the Array List of  Uri of files to Send.</p>\n"},{"tags":[],"owner":{"account_id":2016708,"reputation":69,"user_id":1803849,"display_name":"Pachuco Digital"},"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1375335191,"creation_date":1375334271,"answer_id":17985724,"question_id":17985646,"body_markdown":"Read this article about [Sending Content to Other Apps][1]\r\n\r\n    Intent sendIntent = new Intent();\r\n    \r\n    sendIntent.setAction(Intent.ACTION_SEND);\r\n    \r\n    sendIntent.putExtra(Intent.EXTRA_TEXT, &quot;This is my text to send.&quot;);\r\n    \r\n    sendIntent.setType(&quot;text/plain&quot;);\r\n    \r\n    startActivity(Intent.createChooser(sendIntent, getResources().getText(R.string.send_to)));\r\n\r\n\r\n  [1]: http://developer.android.com/training/sharing/send.html","title":"Android sharing Files, by sending them via email or other apps","body":"<p>Read this article about <a href=\"http://developer.android.com/training/sharing/send.html\" rel=\"nofollow\">Sending Content to Other Apps</a></p>\n\n<pre><code>Intent sendIntent = new Intent();\n\nsendIntent.setAction(Intent.ACTION_SEND);\n\nsendIntent.putExtra(Intent.EXTRA_TEXT, \"This is my text to send.\");\n\nsendIntent.setType(\"text/plain\");\n\nstartActivity(Intent.createChooser(sendIntent, getResources().getText(R.string.send_to)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5838540,"reputation":753,"user_id":4600853,"display_name":"Tushar Mate"},"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1651752817,"creation_date":1424776319,"answer_id":28694269,"question_id":17985646,"body_markdown":"this is the code for sharing file in android\r\n\r\n    Intent intentShareFile = new Intent(Intent.ACTION_SEND);\r\n    File fileWithinMyDir = new File(myFilePath);\r\n    \r\n    if(fileWithinMyDir.exists()) {\r\n        intentShareFile.setType(&quot;application/pdf&quot;);\r\n        intentShareFile.putExtra(Intent.EXTRA_STREAM, Uri.parse(&quot;file://&quot;+myFilePath));\r\n    \r\n        intentShareFile.putExtra(Intent.EXTRA_SUBJECT,\r\n    \t\t\t\t\t\t&quot;Sharing File...&quot;);\r\n        intentShareFile.putExtra(Intent.EXTRA_TEXT, &quot;Sharing File...&quot;);\r\n    \r\n        startActivity(Intent.createChooser(intentShareFile, &quot;Share File&quot;));\r\n    }\r\n\r\nBelow is another method to share PDF file if you have put file provider in manifest\r\n\r\n```\r\nUri pdfUri;\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n        pdfUri = FileProvider.getUriForFile(PDFViewerActivity.this, fileprovider, pdfFile);\r\n} else {\r\n        pdfUri = Uri.fromFile(pdfFile);\r\n}\r\nIntent share = new Intent();\r\nshare.setAction(Intent.ACTION_SEND);\r\nshare.setType(&quot;application/pdf&quot;);\r\nshare.putExtra(Intent.EXTRA_STREAM, pdfUri);\r\nstartActivity(Intent.createChooser(share, &quot;Share file&quot;));\r\n```","title":"Android sharing Files, by sending them via email or other apps","body":"<p>this is the code for sharing file in android</p>\n<pre><code>Intent intentShareFile = new Intent(Intent.ACTION_SEND);\nFile fileWithinMyDir = new File(myFilePath);\n\nif(fileWithinMyDir.exists()) {\n    intentShareFile.setType(&quot;application/pdf&quot;);\n    intentShareFile.putExtra(Intent.EXTRA_STREAM, Uri.parse(&quot;file://&quot;+myFilePath));\n\n    intentShareFile.putExtra(Intent.EXTRA_SUBJECT,\n                        &quot;Sharing File...&quot;);\n    intentShareFile.putExtra(Intent.EXTRA_TEXT, &quot;Sharing File...&quot;);\n\n    startActivity(Intent.createChooser(intentShareFile, &quot;Share File&quot;));\n}\n</code></pre>\n<p>Below is another method to share PDF file if you have put file provider in manifest</p>\n<pre><code>Uri pdfUri;\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n        pdfUri = FileProvider.getUriForFile(PDFViewerActivity.this, fileprovider, pdfFile);\n} else {\n        pdfUri = Uri.fromFile(pdfFile);\n}\nIntent share = new Intent();\nshare.setAction(Intent.ACTION_SEND);\nshare.setType(&quot;application/pdf&quot;);\nshare.putExtra(Intent.EXTRA_STREAM, pdfUri);\nstartActivity(Intent.createChooser(share, &quot;Share file&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49718,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1520376020,"creation_date":1520376020,"answer_id":49141227,"question_id":17985646,"body_markdown":"Here is an example to share or save a text file:\r\n\r\n    private void shareFile(String filePath) {\r\n\r\n        File f = new File(filePath);\r\n\r\n        Intent intentShareFile = new Intent(Intent.ACTION_SEND);\r\n        File fileWithinMyDir = new File(filePath);\r\n\r\n        if (fileWithinMyDir.exists()) {\r\n            intentShareFile.setType(&quot;text/*&quot;);\r\n            intentShareFile.putExtra(Intent.EXTRA_STREAM, Uri.parse(&quot;file://&quot; + filePath));\r\n            intentShareFile.putExtra(Intent.EXTRA_SUBJECT, &quot;MyApp File Share: &quot; + f.getName());\r\n            intentShareFile.putExtra(Intent.EXTRA_TEXT, &quot;MyApp File Share: &quot; + f.getName());\r\n\r\n            this.startActivity(Intent.createChooser(intentShareFile, f.getName()));\r\n        }\r\n    }\r\n","title":"Android sharing Files, by sending them via email or other apps","body":"<p>Here is an example to share or save a text file:</p>\n\n<pre><code>private void shareFile(String filePath) {\n\n    File f = new File(filePath);\n\n    Intent intentShareFile = new Intent(Intent.ACTION_SEND);\n    File fileWithinMyDir = new File(filePath);\n\n    if (fileWithinMyDir.exists()) {\n        intentShareFile.setType(\"text/*\");\n        intentShareFile.putExtra(Intent.EXTRA_STREAM, Uri.parse(\"file://\" + filePath));\n        intentShareFile.putExtra(Intent.EXTRA_SUBJECT, \"MyApp File Share: \" + f.getName());\n        intentShareFile.putExtra(Intent.EXTRA_TEXT, \"MyApp File Share: \" + f.getName());\n\n        this.startActivity(Intent.createChooser(intentShareFile, f.getName()));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9120528,"reputation":640,"user_id":6786084,"display_name":"Alok Singh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526990901,"creation_date":1526990901,"answer_id":50467286,"question_id":17985646,"body_markdown":"    File directory = new File(Environment.getExternalStorageDirectory() + File.separator + BuildConfig.APPLICATION_ID + File.separator + DIRECTORY_VIDEO);\r\n                String fileName = mediaModel.getContentPath().substring(mediaModel.getContentPath().lastIndexOf(&#39;/&#39;) + 1, mediaModel.getContentPath().length());\r\n                File fileWithinMyDir = new File(directory, fileName);\r\n                if (fileWithinMyDir.exists()) {\r\n                    Uri fileUri = FileProvider.getUriForFile(this, getApplicationContext().getPackageName() + &quot;.provider&quot;, fileWithinMyDir);\r\n                    Intent intent = ShareCompat.IntentBuilder.from(this)\r\n                            .setStream(fileUri) // uri from FileProvider\r\n                            .setType(&quot;text/html&quot;)\r\n                            .getIntent()\r\n                            .setAction(Intent.ACTION_SEND) //Change if needed\r\n                            .setDataAndType(fileUri, &quot;video/*&quot;)\r\n                            .addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n                    startActivity(intent);","title":"Android sharing Files, by sending them via email or other apps","body":"<pre><code>File directory = new File(Environment.getExternalStorageDirectory() + File.separator + BuildConfig.APPLICATION_ID + File.separator + DIRECTORY_VIDEO);\n            String fileName = mediaModel.getContentPath().substring(mediaModel.getContentPath().lastIndexOf('/') + 1, mediaModel.getContentPath().length());\n            File fileWithinMyDir = new File(directory, fileName);\n            if (fileWithinMyDir.exists()) {\n                Uri fileUri = FileProvider.getUriForFile(this, getApplicationContext().getPackageName() + \".provider\", fileWithinMyDir);\n                Intent intent = ShareCompat.IntentBuilder.from(this)\n                        .setStream(fileUri) // uri from FileProvider\n                        .setType(\"text/html\")\n                        .getIntent()\n                        .setAction(Intent.ACTION_SEND) //Change if needed\n                        .setDataAndType(fileUri, \"video/*\")\n                        .addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n                startActivity(intent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9441857,"reputation":371,"user_id":7022036,"display_name":"Javad"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1533583175,"creation_date":1533583175,"answer_id":51714314,"question_id":17985646,"body_markdown":"This is work for every single file!\r\n\r\n    private void shareFile(File file) {\r\n        \r\n        Intent intentShareFile = new Intent(Intent.ACTION_SEND);\r\n        \r\n        intentShareFile.setType(URLConnection.guessContentTypeFromName(file.getName()));\r\n        intentShareFile.putExtra(Intent.EXTRA_STREAM,\r\n            Uri.parse(&quot;file://&quot;+file.getAbsolutePath()));\r\n    \r\n        //if you need\r\n        //intentShareFile.putExtra(Intent.EXTRA_SUBJECT,&quot;Sharing File Subject);\r\n        //intentShareFile.putExtra(Intent.EXTRA_TEXT, &quot;Sharing File Description&quot;);\r\n        \r\n        startActivity(Intent.createChooser(intentShareFile, &quot;Share File&quot;));\r\n        \r\n    }\r\n\r\nThanks Tushar-Mate!","title":"Android sharing Files, by sending them via email or other apps","body":"<p>This is work for every single file!</p>\n\n<pre><code>private void shareFile(File file) {\n\n    Intent intentShareFile = new Intent(Intent.ACTION_SEND);\n\n    intentShareFile.setType(URLConnection.guessContentTypeFromName(file.getName()));\n    intentShareFile.putExtra(Intent.EXTRA_STREAM,\n        Uri.parse(\"file://\"+file.getAbsolutePath()));\n\n    //if you need\n    //intentShareFile.putExtra(Intent.EXTRA_SUBJECT,\"Sharing File Subject);\n    //intentShareFile.putExtra(Intent.EXTRA_TEXT, \"Sharing File Description\");\n\n    startActivity(Intent.createChooser(intentShareFile, \"Share File\"));\n\n}\n</code></pre>\n\n<p>Thanks Tushar-Mate!</p>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1590562666,"creation_date":1563783251,"answer_id":57141679,"question_id":17985646,"body_markdown":"First you should define File Provider, see https://medium.com/@ali.dev/open-a-file-in-another-app-with-android-fileprovider-for-android-7-42c9abb198c1.\r\n\r\nThe code checks that a device contains applications which can receive the file, see https://stackoverflow.com/questions/15407502/how-to-check-if-an-intent-can-be-handled-from-some-activity.\r\n\r\n    fun sharePdf(file: File, context: Context) {\r\n        val uri = getUriFromFile(file, context)\r\n\r\n        if (uri != null) {\r\n            val intent = Intent().apply {\r\n                action = Intent.ACTION_SEND\r\n                type = &quot;application/pdf&quot; // For PDF files.\r\n                putExtra(Intent.EXTRA_STREAM, uri)\r\n                putExtra(Intent.EXTRA_SUBJECT, file.name)\r\n                putExtra(Intent.EXTRA_TEXT, file.name)\r\n                // Grant temporary read permission to the content URI.\r\n                addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\r\n            }\r\n            // Validate that the device can open your File.\r\n            val activityInfo = intent.resolveActivityInfo(context.packageManager, intent.flags)\r\n            if (activityInfo?.exported == true) {\r\n                context.startActivity(Intent.createChooser(intent,\r\n                    &quot;Share PDF file&quot;)\r\n            }\r\n        }\r\n    }\r\n\r\n    fun getUriFromFile(file: File, context: Context): Uri? =\r\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.LOLLIPOP) {\r\n            Uri.fromFile(file)\r\n        } else {\r\n            try {\r\n                FileProvider.getUriForFile(context, context.packageName + &quot;.provider&quot;, file)\r\n            } catch (e: Exception) {\r\n                throw if (e.message?.contains(&quot;ProviderInfo.loadXmlMetaData&quot;) == true) {\r\n                    Error(&quot;FileProvider is not set or doesn&#39;t have needed permissions&quot;)\r\n                } else {\r\n                    e\r\n                }\r\n            }\r\n        }","title":"Android sharing Files, by sending them via email or other apps","body":"<p>First you should define File Provider, see <a href=\"https://medium.com/@ali.dev/open-a-file-in-another-app-with-android-fileprovider-for-android-7-42c9abb198c1\" rel=\"nofollow noreferrer\">https://medium.com/@ali.dev/open-a-file-in-another-app-with-android-fileprovider-for-android-7-42c9abb198c1</a>.</p>\n\n<p>The code checks that a device contains applications which can receive the file, see <a href=\"https://stackoverflow.com/questions/15407502/how-to-check-if-an-intent-can-be-handled-from-some-activity\">How to check if an intent can be handled from some activity?</a>.</p>\n\n<pre><code>fun sharePdf(file: File, context: Context) {\n    val uri = getUriFromFile(file, context)\n\n    if (uri != null) {\n        val intent = Intent().apply {\n            action = Intent.ACTION_SEND\n            type = \"application/pdf\" // For PDF files.\n            putExtra(Intent.EXTRA_STREAM, uri)\n            putExtra(Intent.EXTRA_SUBJECT, file.name)\n            putExtra(Intent.EXTRA_TEXT, file.name)\n            // Grant temporary read permission to the content URI.\n            addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\n        }\n        // Validate that the device can open your File.\n        val activityInfo = intent.resolveActivityInfo(context.packageManager, intent.flags)\n        if (activityInfo?.exported == true) {\n            context.startActivity(Intent.createChooser(intent,\n                \"Share PDF file\")\n        }\n    }\n}\n\nfun getUriFromFile(file: File, context: Context): Uri? =\n    if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.LOLLIPOP) {\n        Uri.fromFile(file)\n    } else {\n        try {\n            FileProvider.getUriForFile(context, context.packageName + \".provider\", file)\n        } catch (e: Exception) {\n            throw if (e.message?.contains(\"ProviderInfo.loadXmlMetaData\") == true) {\n                Error(\"FileProvider is not set or doesn't have needed permissions\")\n            } else {\n                e\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12895797,"reputation":1257,"user_id":9326166,"display_name":"Abdur Rehman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591591774,"creation_date":1591591774,"answer_id":62255187,"question_id":17985646,"body_markdown":"    val uriArrayList: ArrayList&lt;Uri&gt; = ArrayList()\r\n    GlobalScope.launch(Dispatchers.IO) {\r\n        runCatching {\r\n            itemsList!!.forEach {\r\n                uriArrayList.add(\r\n                    FileProvider.getUriForFile(\r\n                        mContext,\r\n                        APPLICATION_ID + &quot;.provider&quot;,\r\n                        File(it.path)\r\n                    )\r\n                )\r\n            }\r\n\r\n        }.onSuccess {\r\n            requireActivity().runOnUiThread {\r\n                if (uriArrayList.size &gt; 0) {\r\n                    val intent = Intent()\r\n                    intent.action = Intent.ACTION_SEND_MULTIPLE\r\n                    intent.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uriArrayList)\r\n                    intent.flags = Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n                    intent.type = &quot;image/*|application/pdf/*&quot;\r\n                    startActivity(Intent.createChooser(intent, resources.getString(R.string.share)))\r\n                }\r\n            }\r\n        }\r\n            .onFailure {\r\n                Log.e(&quot;SHARING_FAILED&quot;, it)\r\n            }\r\n    }\r\n\r\nFirst of all you have to write provider code in app manifest file for sharing on android 7.0 and above  \r\n\r\n    &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n\r\nhere provider_paths are: \r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths&gt;\r\n        &lt;external-path name=&quot;/storage/emulated/0&quot; path=&quot;.&quot;/&gt;\r\n        &lt;root-path name=&quot;root&quot; path=&quot;.&quot; /&gt;\r\n        &lt;files-path name=&quot;files&quot; path=&quot;.&quot;/&gt;\r\n    &lt;/paths&gt;","title":"Android sharing Files, by sending them via email or other apps","body":"<pre><code>val uriArrayList: ArrayList&lt;Uri&gt; = ArrayList()\nGlobalScope.launch(Dispatchers.IO) {\n    runCatching {\n        itemsList!!.forEach {\n            uriArrayList.add(\n                FileProvider.getUriForFile(\n                    mContext,\n                    APPLICATION_ID + \".provider\",\n                    File(it.path)\n                )\n            )\n        }\n\n    }.onSuccess {\n        requireActivity().runOnUiThread {\n            if (uriArrayList.size &gt; 0) {\n                val intent = Intent()\n                intent.action = Intent.ACTION_SEND_MULTIPLE\n                intent.putParcelableArrayListExtra(Intent.EXTRA_STREAM, uriArrayList)\n                intent.flags = Intent.FLAG_GRANT_READ_URI_PERMISSION\n                intent.type = \"image/*|application/pdf/*\"\n                startActivity(Intent.createChooser(intent, resources.getString(R.string.share)))\n            }\n        }\n    }\n        .onFailure {\n            Log.e(\"SHARING_FAILED\", it)\n        }\n}\n</code></pre>\n\n<p>First of all you have to write provider code in app manifest file for sharing on android 7.0 and above  </p>\n\n<pre><code>&lt;provider\n        android:name=\"androidx.core.content.FileProvider\"\n        android:authorities=\"${applicationId}.provider\"\n        android:exported=\"false\"\n        android:grantUriPermissions=\"true\"&gt;\n        &lt;meta-data\n            android:name=\"android.support.FILE_PROVIDER_PATHS\"\n            android:resource=\"@xml/provider_paths\" /&gt;\n    &lt;/provider&gt;\n</code></pre>\n\n<p>here provider_paths are: </p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;paths&gt;\n    &lt;external-path name=\"/storage/emulated/0\" path=\".\"/&gt;\n    &lt;root-path name=\"root\" path=\".\" /&gt;\n    &lt;files-path name=\"files\" path=\".\"/&gt;\n&lt;/paths&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1666769927,"creation_date":1594879286,"answer_id":62928442,"question_id":17985646,"body_markdown":"For those who trying in Kotlin here is the way:\r\n\r\nStart the intent like below:\r\n\r\n     fun startFileShareIntent(filePath: String) { // pass the file path where the actual file is located.\r\n            val shareIntent = Intent(Intent.ACTION_SEND).apply {\r\n                type = FILE_TYPE  // &quot;*/*&quot; will accepts all types of files, if you want specific then change it on your need.\r\n                flags = Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n                putExtra(\r\n                    Intent.EXTRA_SUBJECT,\r\n                    &quot;Sharing file from the AppName&quot;\r\n                )\r\n                putExtra(\r\n                    Intent.EXTRA_TEXT,\r\n                    &quot;Sharing file from the AppName with some description&quot;\r\n                )\r\n                val fileURI = FileProvider.getUriForFile(\r\n                    context!!, context!!.packageName + &quot;.provider&quot;,\r\n                    File(filePath)\r\n                )\r\n                putExtra(Intent.EXTRA_STREAM, fileURI)\r\n            }\r\n            startActivity(shareIntent)\r\n        }\r\n\r\nIn Manifest inside the application tag:\r\n\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}.provider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n\r\nUnder res--&gt;xml--&gt; provider_paths.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths&gt;\r\n        &lt;files-path name=&quot;files&quot; path=&quot;.&quot; /&gt;\r\n        &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\r\n    &lt;/paths&gt;","title":"Android sharing Files, by sending them via email or other apps","body":"<p>For those who trying in Kotlin here is the way:</p>\n<p>Start the intent like below:</p>\n<pre><code> fun startFileShareIntent(filePath: String) { // pass the file path where the actual file is located.\n        val shareIntent = Intent(Intent.ACTION_SEND).apply {\n            type = FILE_TYPE  // &quot;*/*&quot; will accepts all types of files, if you want specific then change it on your need.\n            flags = Intent.FLAG_GRANT_READ_URI_PERMISSION\n            putExtra(\n                Intent.EXTRA_SUBJECT,\n                &quot;Sharing file from the AppName&quot;\n            )\n            putExtra(\n                Intent.EXTRA_TEXT,\n                &quot;Sharing file from the AppName with some description&quot;\n            )\n            val fileURI = FileProvider.getUriForFile(\n                context!!, context!!.packageName + &quot;.provider&quot;,\n                File(filePath)\n            )\n            putExtra(Intent.EXTRA_STREAM, fileURI)\n        }\n        startActivity(shareIntent)\n    }\n</code></pre>\n<p>In Manifest inside the application tag:</p>\n<pre><code>    &lt;provider\n        android:name=&quot;androidx.core.content.FileProvider&quot;\n        android:authorities=&quot;${applicationId}.provider&quot;\n        android:exported=&quot;false&quot;\n        android:grantUriPermissions=&quot;true&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n            android:resource=&quot;@xml/provider_paths&quot; /&gt;\n    &lt;/provider&gt;\n</code></pre>\n<p>Under res--&gt;xml--&gt; provider_paths.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n    &lt;files-path name=&quot;files&quot; path=&quot;.&quot; /&gt;\n    &lt;external-path name=&quot;external_files&quot; path=&quot;.&quot;/&gt;\n&lt;/paths&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9143565,"reputation":781,"user_id":6800637,"display_name":"AllanRibas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696041747,"creation_date":1695263944,"answer_id":77146888,"question_id":17985646,"body_markdown":"In my case I did like this, because I needed a response from sharing\r\n\r\nManifest.xml\r\n\r\n     &lt;provider\r\n\t    android:name=&quot;androidx.core.content.FileProvider&quot;\r\n\t    android:authorities=&quot;com.example.provider&quot;\r\n\t    android:exported=&quot;false&quot;\r\n\t    android:grantUriPermissions=&quot;true&quot;&gt;\r\n    &lt;meta-data\r\n\t    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n\t    android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n    &lt;/provider&gt;\r\n\r\nUnder res--&gt;xml--&gt; provider_paths.xml\r\n\r\n        &lt;paths&gt;\r\n    \t  &lt;external-path name=&quot;external&quot; path=&quot;.&quot; /&gt;\r\n\t      &lt;external-files-path name=&quot;external_files&quot; path=&quot;.&quot; /&gt;\r\n\t      &lt;files-path name=&quot;files&quot; path=&quot;.&quot; /&gt;\r\n        &lt;/paths&gt;\r\n\r\nExtendedFun.kt\r\n\r\n    fun Context.shareFileIntent(filePath: String, fileType: String): Intent {\r\n\t\tval fileURI = FileProvider.getUriForFile(this, &quot;$packageName.provider&quot;, File(filePath))\r\n\t\treturn Intent(Intent.ACTION_SEND).apply {\r\n\t\t\ttype = fileType\r\n\t\t\tflags = Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n\t\t\tputExtra(\r\n\t\t\t\tIntent.EXTRA_SUBJECT,\r\n\t\t\t\t&quot;Sharing file from the AppName&quot;\r\n\t\t\t)\r\n\t\t\tputExtra(\r\n\t\t\t\tIntent.EXTRA_TEXT,\r\n\t\t\t\t&quot;Sharing file from the AppName with some description&quot;\r\n\t\t\t)\r\n\t\t\tputExtra(Intent.EXTRA_STREAM, fileURI)\r\n\t\t}\r\n\t}\r\n\r\nIn MainActivity\r\n\r\n    private val shareFile =\r\n\t\tregisterForActivityResult(ActivityResultContracts.StartActivityForResult()) { result -&gt;\r\n\t\t\tif (result.resultCode == Activity.RESULT_OK) {\r\n\t\t\t\tstartActivity(result.data)\r\n\t\t\t}else{\r\n\t\t\t\tLog.d(&quot;shareFile&quot;, &quot;the sharing was cancelled&quot;)\r\n\t\t\t}\r\n\t\t}\r\n\r\nFinally call like this\r\n\r\n\tshareFile.launch(\r\n\t   shareFileIntent(filePath, &quot;text/plain&quot;)\r\n\t)","title":"Android sharing Files, by sending them via email or other apps","body":"<p>In my case I did like this, because I needed a response from sharing</p>\n<p>Manifest.xml</p>\n<pre><code> &lt;provider\n    android:name=&quot;androidx.core.content.FileProvider&quot;\n    android:authorities=&quot;com.example.provider&quot;\n    android:exported=&quot;false&quot;\n    android:grantUriPermissions=&quot;true&quot;&gt;\n&lt;meta-data\n    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n    android:resource=&quot;@xml/provider_paths&quot; /&gt;\n&lt;/provider&gt;\n</code></pre>\n<p>Under res--&gt;xml--&gt; provider_paths.xml</p>\n<pre><code>    &lt;paths&gt;\n      &lt;external-path name=&quot;external&quot; path=&quot;.&quot; /&gt;\n      &lt;external-files-path name=&quot;external_files&quot; path=&quot;.&quot; /&gt;\n      &lt;files-path name=&quot;files&quot; path=&quot;.&quot; /&gt;\n    &lt;/paths&gt;\n</code></pre>\n<p>ExtendedFun.kt</p>\n<pre><code>fun Context.shareFileIntent(filePath: String, fileType: String): Intent {\n    val fileURI = FileProvider.getUriForFile(this, &quot;$packageName.provider&quot;, File(filePath))\n    return Intent(Intent.ACTION_SEND).apply {\n        type = fileType\n        flags = Intent.FLAG_GRANT_READ_URI_PERMISSION\n        putExtra(\n            Intent.EXTRA_SUBJECT,\n            &quot;Sharing file from the AppName&quot;\n        )\n        putExtra(\n            Intent.EXTRA_TEXT,\n            &quot;Sharing file from the AppName with some description&quot;\n        )\n        putExtra(Intent.EXTRA_STREAM, fileURI)\n    }\n}\n</code></pre>\n<p>In MainActivity</p>\n<pre><code>private val shareFile =\n    registerForActivityResult(ActivityResultContracts.StartActivityForResult()) { result -&gt;\n        if (result.resultCode == Activity.RESULT_OK) {\n            startActivity(result.data)\n        }else{\n            Log.d(&quot;shareFile&quot;, &quot;the sharing was cancelled&quot;)\n        }\n    }\n</code></pre>\n<p>Finally call like this</p>\n<pre><code>shareFile.launch(\n   shareFileIntent(filePath, &quot;text/plain&quot;)\n)\n</code></pre>\n"}],"owner":{"account_id":2726248,"reputation":965,"user_id":2351234,"accept_rate":36,"display_name":"user2351234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82734,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"answer_count":11,"score":60,"last_activity_date":1696041747,"creation_date":1375333764,"question_id":17985646,"body_markdown":"I have a list of files in my android app and I want to be able to get the selected items and send them via email or any other sharing app. Here is my code. \r\n\r\n\r\n \r\n\r\n    Intent sendIntent = new Intent();\r\n                        sendIntent.setAction(Intent.ACTION_SEND);\r\n                        sendIntent.putExtra(Intent.EXTRA_EMAIL, getListView().getCheckedItemIds());\r\n                        sendIntent.setType(&quot;text/plain&quot;);\r\n                        startActivity(sendIntent);\r\n\r\n\r\n","title":"Android sharing Files, by sending them via email or other apps","body":"<p>I have a list of files in my android app and I want to be able to get the selected items and send them via email or any other sharing app. Here is my code. </p>\n\n<pre><code>Intent sendIntent = new Intent();\n                    sendIntent.setAction(Intent.ACTION_SEND);\n                    sendIntent.putExtra(Intent.EXTRA_EMAIL, getListView().getCheckedItemIds());\n                    sendIntent.setType(\"text/plain\");\n                    startActivity(sendIntent);\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":1612785,"reputation":2294,"user_id":1491283,"accept_rate":46,"display_name":"ArunM"},"score":0,"creation_date":1454645428,"post_id":35215065,"comment_id":58147444,"body_markdown":"Please show your spring security config ...","body":"Please show your spring security config ..."},{"owner":{"account_id":7291923,"reputation":1651,"user_id":5558042,"accept_rate":89,"display_name":"FreezY"},"score":1,"creation_date":1454646084,"post_id":35215065,"comment_id":58147622,"body_markdown":"thanks for your intention,already got my answer :)","body":"thanks for your intention,already got my answer :)"}],"answers":[{"tags":[],"owner":{"account_id":7291923,"reputation":1651,"user_id":5558042,"accept_rate":89,"display_name":"FreezY"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1482745001,"creation_date":1454645922,"answer_id":35216219,"question_id":35215065,"body_markdown":"After a research and major modified from another post , I came to solution by inject `AuthenticationDetailsSource` and `WebAuthenticationDetails` . So I will share the solution here:\r\n\r\nFirst create new class for custom filter to get the parameter:\r\n\r\n    class ExtraParam extends WebAuthenticationDetails {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate final String company;\r\n\t\r\n\tpublic ExtraParam(HttpServletRequest request) {\r\n\t    super(request);\r\n\t    this.company = request.getParameter(&quot;company&quot;);\r\n\t}\r\n\r\n\tpublic String getCompanyName() {\r\n\t\treturn company;\r\n\t}\t\r\n    }\r\n\r\nThen create the source class for injection :\r\n\r\n    class ExtraParamSource implements AuthenticationDetailsSource&lt;HttpServletRequest, ExtraParam&gt; {\r\n\t\r\n\tpublic ExtraParam buildDetails (HttpServletRequest context) {\r\n\t\t  \r\n\treturn new ExtraParam(context);\r\n\t}\r\n    }\r\n\r\nAfter then, modified your spring security xml to identified the class and filter:\r\n\r\nAdd `authentication-details-source-ref=&quot;ExtraParam&quot;` in your `&lt;form-login ` like this : \r\n\r\n\r\n    &lt;form-login ... authentication-details-source-ref=&quot;ExtraParamSource&quot;... /&gt;\r\n\r\nAnd dont forget the bean :\r\n\r\n    &lt;beans:bean id=&quot;ExtraParamSource&quot; class=&quot;com.xxx.xxx.xxx.ExtraParamSource&quot;/&gt;\r\n\r\nThen Finish! thats all. To get the parameter just use like this example below :\r\n\r\n    @Component\r\n    public class CustomAuthenticationProvider implements AuthenticationProvider{\r\n    \r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication auth) throws AuthenticationException {\r\n    String userName = auth.getName().trim();\r\n    String password = auth.getCredentials().toString().trim();\r\n    String companyName = ((ExtraParam)auth.getDetails()).getCompanyName();\r\n\r\n    ....\r\n\r\n\r\nReferences :\r\n\r\n1)https://stackoverflow.com/questions/10074308/how-to-pass-an-additional-parameter-with-spring-security-login-page\r\n","title":"How to call extra parameter from login form into CustomAuthenticationProvider","body":"<p>After a research and major modified from another post , I came to solution by inject <code>AuthenticationDetailsSource</code> and <code>WebAuthenticationDetails</code> . So I will share the solution here:</p>\n\n<p>First create new class for custom filter to get the parameter:</p>\n\n<pre><code>class ExtraParam extends WebAuthenticationDetails {\n\nprivate static final long serialVersionUID = 1L;\nprivate final String company;\n\npublic ExtraParam(HttpServletRequest request) {\n    super(request);\n    this.company = request.getParameter(\"company\");\n}\n\npublic String getCompanyName() {\n    return company;\n}   \n}\n</code></pre>\n\n<p>Then create the source class for injection :</p>\n\n<pre><code>class ExtraParamSource implements AuthenticationDetailsSource&lt;HttpServletRequest, ExtraParam&gt; {\n\npublic ExtraParam buildDetails (HttpServletRequest context) {\n\nreturn new ExtraParam(context);\n}\n}\n</code></pre>\n\n<p>After then, modified your spring security xml to identified the class and filter:</p>\n\n<p>Add <code>authentication-details-source-ref=\"ExtraParam\"</code> in your <code>&lt;form-login</code> like this : </p>\n\n<pre><code>&lt;form-login ... authentication-details-source-ref=\"ExtraParamSource\"... /&gt;\n</code></pre>\n\n<p>And dont forget the bean :</p>\n\n<pre><code>&lt;beans:bean id=\"ExtraParamSource\" class=\"com.xxx.xxx.xxx.ExtraParamSource\"/&gt;\n</code></pre>\n\n<p>Then Finish! thats all. To get the parameter just use like this example below :</p>\n\n<pre><code>@Component\npublic class CustomAuthenticationProvider implements AuthenticationProvider{\n\n\n@Override\npublic Authentication authenticate(Authentication auth) throws AuthenticationException {\nString userName = auth.getName().trim();\nString password = auth.getCredentials().toString().trim();\nString companyName = ((ExtraParam)auth.getDetails()).getCompanyName();\n\n....\n</code></pre>\n\n<p>References :</p>\n\n<p>1)<a href=\"https://stackoverflow.com/questions/10074308/how-to-pass-an-additional-parameter-with-spring-security-login-page\">How to pass an additional parameter with spring security login page</a></p>\n"},{"tags":[],"owner":{"account_id":10371815,"reputation":1,"user_id":7649264,"display_name":"Balbino Gachuz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696041084,"creation_date":1696041084,"answer_id":77205490,"question_id":35215065,"body_markdown":"I would like to share the implementation I made, **it works with JAVA 17, Spring Security 6.1.4**\r\n\r\nHaving your form for Spring Security, add the necessary parameters, for example: **empresa**, n...\r\n\r\n    &lt;form action=&quot;/login&quot; method=&quot;post&quot;  &gt;\r\n\t\r\n\t&lt;label for=&quot;user&quot;&gt;Usuario:&lt;/label&gt;\r\n\t&lt;input name=&quot;username&quot; placeholder=&quot;Usuario&quot; type=&quot;text&quot; maxlength=&quot;18&quot; &gt;\r\n\r\n\t&lt;label for=&quot;pass&quot;&gt;Contrase&#241;a:&lt;/label&gt;\r\n\t&lt;input name=&quot;password&quot; placeholder=&quot;Contrase&#241;a&quot; type=&quot;password&quot;&gt;\r\n\t\r\n\t&lt;input id=&quot;empresa&quot; name=&quot;empresa&quot; type=&quot;hidden&quot;&gt;\r\n\r\n\t&lt;div&gt;\r\n\t\t&lt;button type=&quot;submit&quot;&gt;Ingresar&lt;/button&gt;\r\n\t&lt;/div&gt;\r\n&lt;/form&gt;\r\n\r\n 1. Create class **CustomWebAuthenticationDetails.java**, &quot;here you get the parameters that you send from the form, for example **empresa**, user-agent is an extra&quot;\r\n\r\n    &lt;pre&gt;&lt;code&gt;public class CustomWebAuthenticationDetails extends WebAuthenticationDetails {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    private final String empresa;\r\n    private final String browser;\r\n\r\n    public CustomWebAuthenticationDetails(HttpServletRequest request) {\r\n        super(request);\r\n        // Params you need\r\n        empresa = request.getParameter(&quot;empresa&quot;);\r\n        browser = request.getHeader(&quot;User-Agent&quot;);\r\n    }\r\n\r\n    public String getEmpresa() {\r\n        return empresa;\r\n    }\r\n    \r\n    public String getBrowser() {\r\n        return browser;\r\n    }\r\n}&lt;/code&gt;&lt;/pre&gt;\r\n\r\n 2. Create class **CustomWebAuthenticationDetailsSource.java** (This class will be call in spring security config)\r\n&lt;code&gt;&lt;pre&gt;@Component\r\npublic class CustomWebAuthenticationDetailsSource implements AuthenticationDetailsSource&lt;HttpServletRequest, WebAuthenticationDetails&gt; {\r\n    @Override\r\n    public WebAuthenticationDetails buildDetails(HttpServletRequest context) {\r\n        return new CustomWebAuthenticationDetails(context);\r\n    }\r\n}&lt;/code&gt;&lt;/pre&gt;\r\n 3. In **security-config.xml** add Bean **&quot;CustomWebAuthenticationDetailsSource.java&quot;** and add reference in **&quot;authentication-details-source-ref&quot;**\r\n\r\n    &lt;code&gt;&lt;pre&gt;&lt;b:bean id=&quot;extraParamsLogin&quot; class=&quot;gob.sep.login.controller.CustomWebAuthenticationDetailsSource&quot;&gt; \r\n    &lt;/b:bean&gt;\r\n    &lt;http auto-config=&quot;true&quot; pattern=&quot;/**&quot;&gt;\r\n    \t&lt;csrf disabled=&quot;true&quot;/&gt;\r\n    \t&lt;intercept-url pattern=&quot;/publico/**&quot; access=&quot;permitAll&quot; /&gt;\r\n    \t&lt;intercept-url pattern=&quot;/login*&quot; access=&quot;permitAll&quot; /&gt;\r\n        &lt;intercept-url pattern=&quot;/**&quot; access=&quot;hasRole(&#39;ROLE_USER&#39;)&quot;/&gt;\r\n        \r\n        &lt;form-login\r\n        \tlogin-page=&quot;/login.jsp&quot;\r\n        \tdefault-target-url=&quot;/home.jsp&quot;\r\n        \tauthentication-failure-url=&quot;/login.jsp?error=true&quot;\r\n        \tauthentication-details-source-ref=&quot;extraParamsLogin&quot;\r\n        /&gt;\r\n    &lt;/http&gt;&lt;/code&gt;&lt;/pre&gt;\r\n\r\n 4. I have **AuthenticationProvider.java** implements &quot;AuthenticationProvider&quot;. In override method **authenticate()**, we get the parameters of the object **authentication.getDetails()** like this:\r\n\r\n    &lt;code&gt;&lt;pre&gt;@Component\r\npublic class CustomAuthenticationProvider implements AuthenticationProvider{\r\n\t\r\n\t@Override\r\n\tpublic Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n\t\tString user = authentication.getName();\r\n\t\tString pass = authentication.getCredentials().toString();\r\n\t\tCustomWebAuthenticationDetails extraParams = (CustomWebAuthenticationDetails) authentication.getDetails();\r\n\t\t\r\n\t\tSystem.out.println(&quot;=&gt;User: &quot; + user);\r\n\t\tSystem.out.println(&quot;=&gt;Pass: &quot; + pass);\r\n\t\tSystem.out.println(&quot;IP explorador=&gt; &quot; + extraParams.getIp());\r\n\t\tSystem.out.println(&quot;Nombre explorador =&gt; &quot; + extraParams.getBrowser());\r\n\t\t\r\n\t\tList&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;SimpleGrantedAuthority&gt;();\r\n\t\t\r\n\t\tSimpleGrantedAuthority authority = new SimpleGrantedAuthority(&quot;ROLE_USER&quot;);\r\n    \tauthorities.add(authority);\r\n    \t\t\t\r\n    \tUsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(user, pass, authorities);\r\n\t\t\r\n\t\treturn auth;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean supports(Class&lt;?&gt; authentication) {\r\n\t\treturn authentication.equals(UsernamePasswordAuthenticationToken.class);\r\n\t}\r\n\r\n}&lt;/code&gt;&lt;/pre&gt;","title":"How to call extra parameter from login form into CustomAuthenticationProvider","body":"<p>I would like to share the implementation I made, <strong>it works with JAVA 17, Spring Security 6.1.4</strong></p>\n<p>Having your form for Spring Security, add the necessary parameters, for example: <strong>empresa</strong>, n...</p>\n<pre><code>&lt;form action=&quot;/login&quot; method=&quot;post&quot;  &gt;\n\n&lt;label for=&quot;user&quot;&gt;Usuario:&lt;/label&gt;\n&lt;input name=&quot;username&quot; placeholder=&quot;Usuario&quot; type=&quot;text&quot; maxlength=&quot;18&quot; &gt;\n\n&lt;label for=&quot;pass&quot;&gt;Contrase√±a:&lt;/label&gt;\n&lt;input name=&quot;password&quot; placeholder=&quot;Contrase√±a&quot; type=&quot;password&quot;&gt;\n\n&lt;input id=&quot;empresa&quot; name=&quot;empresa&quot; type=&quot;hidden&quot;&gt;\n\n&lt;div&gt;\n    &lt;button type=&quot;submit&quot;&gt;Ingresar&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<ol>\n<li><p>Create class <strong>CustomWebAuthenticationDetails.java</strong>, &quot;here you get the parameters that you send from the form, for example <strong>empresa</strong>, user-agent is an extra&quot;</p>\n<pre><code>public class CustomWebAuthenticationDetails extends WebAuthenticationDetails {\n\nprivate static final long serialVersionUID = 1L;\n\nprivate final String empresa;\nprivate final String browser;\n\npublic CustomWebAuthenticationDetails(HttpServletRequest request) {\n    super(request);\n    // Params you need\n    empresa = request.getParameter(\"empresa\");\n    browser = request.getHeader(\"User-Agent\");\n}\n\npublic String getEmpresa() {\n    return empresa;\n}\n\npublic String getBrowser() {\n    return browser;\n}\n</li>\n</ol>\n<p>}</code></pre></p>\n<ol start=\"2\">\n<li><p>Create class <strong>CustomWebAuthenticationDetailsSource.java</strong> (This class will be call in spring security config)\n<code><pre>@Component\npublic class CustomWebAuthenticationDetailsSource implements AuthenticationDetailsSource&lt;HttpServletRequest, WebAuthenticationDetails&gt; {\n@Override\npublic WebAuthenticationDetails buildDetails(HttpServletRequest context) {\nreturn new CustomWebAuthenticationDetails(context);\n}\n}</code></pre></p>\n</li>\n<li><p>In <strong>security-config.xml</strong> add Bean <strong>&quot;CustomWebAuthenticationDetailsSource.java&quot;</strong> and add reference in <strong>&quot;authentication-details-source-ref&quot;</strong></p>\n<p><code><pre>&lt;b:bean id=&quot;extraParamsLogin&quot; class=&quot;gob.sep.login.controller.CustomWebAuthenticationDetailsSource&quot;&gt;\n&lt;/b:bean&gt;\n\n\n\n\n</p>\n<pre><code>&lt;form-login\n    login-page=&quot;/login.jsp&quot;\n    default-target-url=&quot;/home.jsp&quot;\n    authentication-failure-url=&quot;/login.jsp?error=true&quot;\n    authentication-details-source-ref=&quot;extraParamsLogin&quot;\n/&gt;\n</code></pre>\n<p></code></pre></p>\n</li>\n<li><p>I have <strong>AuthenticationProvider.java</strong> implements &quot;AuthenticationProvider&quot;. In override method <strong>authenticate()</strong>, we get the parameters of the object <strong>authentication.getDetails()</strong> like this:</p>\n<p><code><pre>@Component\npublic class CustomAuthenticationProvider implements AuthenticationProvider{</p>\n<p>@Override\npublic Authentication authenticate(Authentication authentication) throws AuthenticationException {\nString user = authentication.getName();\nString pass = authentication.getCredentials().toString();\nCustomWebAuthenticationDetails extraParams = (CustomWebAuthenticationDetails) authentication.getDetails();</p>\n<pre><code>System.out.println(&quot;=&gt;User: &quot; + user);\nSystem.out.println(&quot;=&gt;Pass: &quot; + pass);\nSystem.out.println(&quot;IP explorador=&gt; &quot; + extraParams.getIp());\nSystem.out.println(&quot;Nombre explorador =&gt; &quot; + extraParams.getBrowser());\n\nList&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;SimpleGrantedAuthority&gt;();\n\nSimpleGrantedAuthority authority = new SimpleGrantedAuthority(&quot;ROLE_USER&quot;);\nauthorities.add(authority);\n\nUsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(user, pass, authorities);\n\nreturn auth;\n</code></pre>\n<p>}</p>\n<p>@Override\npublic boolean supports(Class&lt;?&gt; authentication) {\nreturn authentication.equals(UsernamePasswordAuthenticationToken.class);\n}</p>\n</li>\n</ol>\n<p>}</code></pre></p>\n"}],"owner":{"account_id":7291923,"reputation":1651,"user_id":5558042,"accept_rate":89,"display_name":"FreezY"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":890,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35216219,"answer_count":2,"score":1,"last_activity_date":1696041084,"creation_date":1454637382,"question_id":35215065,"body_markdown":"I seen other post about this but still doesnt find appropriate answer.\r\n\r\nMy form submitted have three parameter instead of two.\r\n          \r\nHere my CustomAuthenticationProvider:\r\n\r\n\r\n    @Component\r\n    public class CustomAuthenticationProvider implements AuthenticationProvider {\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(CustomAuthenticationProvider.class);\r\n\r\n\t@Override\r\n\tpublic Authentication authenticate(Authentication auth) throws AuthenticationException {\r\n\t\tString userName = auth.getName().trim();\r\n\t\tString password = auth.getCredentials().toString().trim();\r\n        String companyName ;\r\n\t\t\t\r\n\t\t\t\r\n\t\tif (userName.equals(&quot;admin&quot;) &amp;&amp; password.equals(&quot;123456&quot;)) {\r\n\t\t\tList&lt;GrantedAuthority&gt; grantedAuths = new ArrayList&lt;&gt;();\r\n\t\t\tgrantedAuths.add(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;));\r\n\t\t\tAuthentication upat = new UsernamePasswordAuthenticationToken(userName, password, grantedAuths);\r\n\t\t\tlogger.info(&quot;{}:{}&quot;,userName,grantedAuths);\r\n\t\t\treturn upat;\r\n\t\t\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean supports(Class&lt;?&gt; auth) {\r\n\t\treturn (UsernamePasswordAuthenticationToken.class.isAssignableFrom(auth));\r\n\t}\r\n\r\n\r\nI want to get extra parameter from login form to authenticate the `companyName` in `CustomAuthenticationProvider`\r\n\r\nHow can I get the parameter from the login form?","title":"How to call extra parameter from login form into CustomAuthenticationProvider","body":"<p>I seen other post about this but still doesnt find appropriate answer.</p>\n\n<p>My form submitted have three parameter instead of two.</p>\n\n<p>Here my CustomAuthenticationProvider:</p>\n\n<pre><code>@Component\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\nprivate static final Logger logger = LoggerFactory.getLogger(CustomAuthenticationProvider.class);\n\n@Override\npublic Authentication authenticate(Authentication auth) throws AuthenticationException {\n    String userName = auth.getName().trim();\n    String password = auth.getCredentials().toString().trim();\n    String companyName ;\n\n\n    if (userName.equals(\"admin\") &amp;&amp; password.equals(\"123456\")) {\n        List&lt;GrantedAuthority&gt; grantedAuths = new ArrayList&lt;&gt;();\n        grantedAuths.add(new SimpleGrantedAuthority(\"ROLE_ADMIN\"));\n        Authentication upat = new UsernamePasswordAuthenticationToken(userName, password, grantedAuths);\n        logger.info(\"{}:{}\",userName,grantedAuths);\n        return upat;\n\n    } else {\n        return null;\n    }\n}\n\n@Override\npublic boolean supports(Class&lt;?&gt; auth) {\n    return (UsernamePasswordAuthenticationToken.class.isAssignableFrom(auth));\n}\n</code></pre>\n\n<p>I want to get extra parameter from login form to authenticate the <code>companyName</code> in <code>CustomAuthenticationProvider</code></p>\n\n<p>How can I get the parameter from the login form?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":25676050,"reputation":64,"user_id":19439460,"display_name":"nickklon"},"score":0,"creation_date":1696045177,"post_id":77205428,"comment_id":136107305,"body_markdown":"It seems like maybe the AutheniticationConfiguration used to create your AuthenticationManager bean just ends up publishing the very same bean","body":"It seems like maybe the AutheniticationConfiguration used to create your AuthenticationManager bean just ends up publishing the very same bean"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696066362,"post_id":77205428,"comment_id":136108582,"body_markdown":"If you want help, here is some. Whatever blogpost you are following, stop following it. Handing out JWTs directly to browsers is a security risk and should not be done. JWTs were designed to be used to authorize between micro services, not from browsers. If you want to learn spring security i suggest you try to implement FormLogin from the documentation. All tutorials that hand out jwts to browsers are written by ppl that have no idea how security works.","body":"If you want help, here is some. Whatever blogpost you are following, stop following it. Handing out JWTs directly to browsers is a security risk and should not be done. JWTs were designed to be used to authorize between micro services, not from browsers. If you want to learn spring security i suggest you try to implement FormLogin from the documentation. All tutorials that hand out jwts to browsers are written by ppl that have no idea how security works."}],"owner":{"account_id":29061385,"reputation":11,"user_id":22491145,"display_name":"Carlos Daniel Lasso G&#243;mez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696038775,"creation_date":1696038775,"question_id":77205428,"body_markdown":"Hiii\r\nIm encountering a StackOverflowError in my Spring Security configuration\r\n\r\nI have a custom Spring Security configuration in my application, and it seems like the issue is related to the AuthenticationManager. I&#39;ve already ruled out any internal Spring errors and have thoroughly reviewed my code and configuration.\r\n\r\n`java.lang.StackOverflowError: null\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:562) ~[na:na]\r\n    ...\r\n`\r\n\r\nHere&#39;s a simplified snippet of my Spring Security configuration:\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableMethodSecurity(securedEnabled = true)\r\npublic class SecurityConfig extends SecurityConfigurerAdapter&lt;DefaultSecurityFilterChain, HttpSecurity&gt; {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf(AbstractHttpConfigurer::disable)\r\n            .cors(Customizer.withDefaults())\r\n            .authorizeHttpRequests(customizeRequest -&gt; {\r\n                customizeRequest\r\n                    .anyRequest().permitAll();\r\n            })\r\n            .httpBasic(Customizer.withDefaults());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration configuration) throws Exception {\r\n        return configuration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n\r\n```\r\nI also have a `LogUserController` in my application that handles user authentication via a POST request. Here&#39;s a snippet of the relevant code:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;log/auth&quot;)\r\npublic class LogUserController {\r\n    private final AuthenticationManager authenticationManager;\r\n    private final JwtUtil jwtUtil;\r\n    private final UserAppRepository userAppRepository;\r\n\r\n    @Autowired\r\n    public LogUserController(AuthenticationManager authenticationManager, JwtUtil jwtUtil, UserAppRepository userAppRepository) {\r\n        this.authenticationManager = authenticationManager;\r\n        this.jwtUtil = jwtUtil;\r\n        this.userAppRepository = userAppRepository;\r\n    }\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;?&gt; login(@RequestBody LoginDto loginDto) {\r\n        UsernamePasswordAuthenticationToken login = new UsernamePasswordAuthenticationToken(loginDto.getEmail(), loginDto.getPassword());\r\n        Authentication authentication = this.authenticationManager.authenticate(login);\r\n\r\n        UserDetails userDetails = (UserDetails) userAppRepository.findByEmail(loginDto.getEmail());\r\n\r\n        String jwt = this.jwtUtil.create(userDetails.getUsername());\r\n\r\n        return ResponseEntity.ok().header(HttpHeaders.AUTHORIZATION, jwt).build();\r\n    }\r\n}\r\n```\r\n\r\nAnd this is my JwtUtil: \r\n\r\n\r\n```\r\n@Component\r\npublic class JwtUtil {\r\n    private static String SECRET_KEY = &quot;B9F1498B64CF22D91128C212C8A31&quot;;\r\n    private static Algorithm ALGORITHM = Algorithm.HMAC256(SECRET_KEY);\r\n\r\n\r\n    public String create(String email) {\r\n        return JWT.create()\r\n                .withSubject(email)\r\n                .withIssuer(&quot;pizzeria-pepe-INC&quot;)\r\n                .withIssuedAt(new Date())\r\n                .withExpiresAt(new Date(System.currentTimeMillis() + TimeUnit.DAYS.toMillis(15)))\r\n                .sign(ALGORITHM);\r\n    }\r\n\r\n}\r\n```\r\n\r\nAny help for this novice is welcome:)\r\n\r\n\r\nI&#39;m facing an issue with my Spring Security configuration. I have a custom authentication setup using JWT tokens, and when I make a POST request to the &#39;/login&#39; endpoint, I&#39;m encountering a java.lang.StackOverflowError. Here&#39;s what I&#39;ve tried:\r\n\r\nReviewed my Spring Security configuration (SecurityConfig class).\r\nChecked for circular dependencies or recursive calls in my authentication logic.\r\nVerified that there are no issues with my JWT token creation in JwtUtil class.\r\nEnsured that my UserDetailsService implementation (UserAppService) is correctly configured.","title":"&quot;StackOverflowError in Spring Security AuthenticationManager&quot;","body":"<p>Hiii\nIm encountering a StackOverflowError in my Spring Security configuration</p>\n<p>I have a custom Spring Security configuration in my application, and it seems like the issue is related to the AuthenticationManager. I've already ruled out any internal Spring errors and have thoroughly reviewed my code and configuration.</p>\n<p><code>java.lang.StackOverflowError: null at java.base/java.lang.reflect.Method.invoke(Method.java:562) ~[na:na] ... </code></p>\n<p>Here's a simplified snippet of my Spring Security configuration:</p>\n<pre><code>@Configuration\n@EnableMethodSecurity(securedEnabled = true)\npublic class SecurityConfig extends SecurityConfigurerAdapter&lt;DefaultSecurityFilterChain, HttpSecurity&gt; {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n            .csrf(AbstractHttpConfigurer::disable)\n            .cors(Customizer.withDefaults())\n            .authorizeHttpRequests(customizeRequest -&gt; {\n                customizeRequest\n                    .anyRequest().permitAll();\n            })\n            .httpBasic(Customizer.withDefaults());\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration configuration) throws Exception {\n        return configuration.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n\n</code></pre>\n<p>I also have a <code>LogUserController</code> in my application that handles user authentication via a POST request. Here's a snippet of the relevant code:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;log/auth&quot;)\npublic class LogUserController {\n    private final AuthenticationManager authenticationManager;\n    private final JwtUtil jwtUtil;\n    private final UserAppRepository userAppRepository;\n\n    @Autowired\n    public LogUserController(AuthenticationManager authenticationManager, JwtUtil jwtUtil, UserAppRepository userAppRepository) {\n        this.authenticationManager = authenticationManager;\n        this.jwtUtil = jwtUtil;\n        this.userAppRepository = userAppRepository;\n    }\n\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;?&gt; login(@RequestBody LoginDto loginDto) {\n        UsernamePasswordAuthenticationToken login = new UsernamePasswordAuthenticationToken(loginDto.getEmail(), loginDto.getPassword());\n        Authentication authentication = this.authenticationManager.authenticate(login);\n\n        UserDetails userDetails = (UserDetails) userAppRepository.findByEmail(loginDto.getEmail());\n\n        String jwt = this.jwtUtil.create(userDetails.getUsername());\n\n        return ResponseEntity.ok().header(HttpHeaders.AUTHORIZATION, jwt).build();\n    }\n}\n</code></pre>\n<p>And this is my JwtUtil:</p>\n<pre><code>@Component\npublic class JwtUtil {\n    private static String SECRET_KEY = &quot;B9F1498B64CF22D91128C212C8A31&quot;;\n    private static Algorithm ALGORITHM = Algorithm.HMAC256(SECRET_KEY);\n\n\n    public String create(String email) {\n        return JWT.create()\n                .withSubject(email)\n                .withIssuer(&quot;pizzeria-pepe-INC&quot;)\n                .withIssuedAt(new Date())\n                .withExpiresAt(new Date(System.currentTimeMillis() + TimeUnit.DAYS.toMillis(15)))\n                .sign(ALGORITHM);\n    }\n\n}\n</code></pre>\n<p>Any help for this novice is welcome:)</p>\n<p>I'm facing an issue with my Spring Security configuration. I have a custom authentication setup using JWT tokens, and when I make a POST request to the '/login' endpoint, I'm encountering a java.lang.StackOverflowError. Here's what I've tried:</p>\n<p>Reviewed my Spring Security configuration (SecurityConfig class).\nChecked for circular dependencies or recursive calls in my authentication logic.\nVerified that there are no issues with my JWT token creation in JwtUtil class.\nEnsured that my UserDetailsService implementation (UserAppService) is correctly configured.</p>\n"},{"tags":["java","spring-boot","spring-security","user-permissions"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1696004062,"post_id":77203145,"comment_id":136102889,"body_markdown":"I am not sure this question can be answered in non-opinionated manner, since there is nothing wrong with `SpringSecurityHolder&quot;#getId() == order#getUserId();`, it will do the intended job. Most tools recommend doing this kind of check with the db query - `findByIdAndUserId(id, userId)`, which is essentially the same, but will obfuscate the true reason, making it unclear if the resource does not exist or you don&#39;t have permission to view it (this is considered important from security perspective).","body":"I am not sure this question can be answered in non-opinionated manner, since there is nothing wrong with <code>SpringSecurityHolder&quot;#getId() == order#getUserId();</code>, it will do the intended job. Most tools recommend doing this kind of check with the db query - <code>findByIdAndUserId(id, userId)</code>, which is essentially the same, but will obfuscate the true reason, making it unclear if the resource does not exist or you don&#39;t have permission to view it (this is considered important from security perspective)."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696009613,"post_id":77203145,"comment_id":136103949,"body_markdown":"Too primitive? Define primitive","body":"Too primitive? Define primitive"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696012340,"creation_date":1696012340,"answer_id":77204132,"question_id":77203145,"body_markdown":"`@PreAuthorize` allows you to use SpEL to refer to the bean method that perform authorisation checking.So you can define a bean for such checking something like : \r\n\r\n``` java\r\n@Service\r\npublic class AuthzService {\r\n\r\n\r\n    public boolean isAllowFreeOrder(int orderId){\r\n       \r\n      //access the order and current user information for the authorisation check\r\n      //return true if it is allow. otherwise , return false\r\n    }  \r\n}\r\n```\r\n\r\nIn this method , you can the get the order from the repository and check its required state. To get the current user information , here are some code snippets which you may find useful :\r\n\r\n``` java\r\nAuthentication currentUser = SecurityContextHolder.getContext().getAuthentication();\r\nUser currentUser =  (User) currentUser.getPrincipal();\r\n\r\n\r\nList&lt;GrantedAuthority&gt; userRoles =  = currentUser.getAuthorities()\r\nboolean hasUserRole =  userRoles.stream().map(GrantedAuthority::getAuthority).anyMatch(a-&gt;a.equals(&quot;ROLE_USER&quot;));\r\nboolean hasAdminRole =  userRoles.stream().map(GrantedAuthority::getAuthority).anyMatch(a-&gt;a.equals(&quot;ROLE_ADMIN&quot;));\r\n\r\n```\r\n\r\nwhich I assume you use the default spring security `User` object to represent the current authenticated user .\r\n\r\nFinally configure `@PreAuthorize` to use this method for checking : \r\n\r\n``` java\r\n@PreAuthorize(&quot;@authzService.isAllowFreeOrder(#id)&quot;)\r\n@PatchMapping(path = &quot;/setFree&quot;)\r\npublic ResponseEntity&lt;OrderDTO&gt; setFree(int id) {\r\n   \r\n}\r\n```","title":"Control of user rights to change objects","body":"<p><code>@PreAuthorize</code> allows you to use SpEL to refer to the bean method that perform authorisation checking.So you can define a bean for such checking something like :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class AuthzService {\n\n\n    public boolean isAllowFreeOrder(int orderId){\n       \n      //access the order and current user information for the authorisation check\n      //return true if it is allow. otherwise , return false\n    }  \n}\n</code></pre>\n<p>In this method , you can the get the order from the repository and check its required state. To get the current user information , here are some code snippets which you may find useful :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Authentication currentUser = SecurityContextHolder.getContext().getAuthentication();\nUser currentUser =  (User) currentUser.getPrincipal();\n\n\nList&lt;GrantedAuthority&gt; userRoles =  = currentUser.getAuthorities()\nboolean hasUserRole =  userRoles.stream().map(GrantedAuthority::getAuthority).anyMatch(a-&gt;a.equals(&quot;ROLE_USER&quot;));\nboolean hasAdminRole =  userRoles.stream().map(GrantedAuthority::getAuthority).anyMatch(a-&gt;a.equals(&quot;ROLE_ADMIN&quot;));\n\n</code></pre>\n<p>which I assume you use the default spring security <code>User</code> object to represent the current authenticated user .</p>\n<p>Finally configure <code>@PreAuthorize</code> to use this method for checking :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PreAuthorize(&quot;@authzService.isAllowFreeOrder(#id)&quot;)\n@PatchMapping(path = &quot;/setFree&quot;)\npublic ResponseEntity&lt;OrderDTO&gt; setFree(int id) {\n   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14037507,"reputation":68,"user_id":10139837,"display_name":"coderAsk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696036950,"creation_date":1696036950,"answer_id":77205373,"question_id":77203145,"body_markdown":"I believe when you say this is too primitive , you meant solution is not well abstracted and elegant in design.\r\n\r\nIf that is the question, to make it more elegant you can follow this approach\r\n\r\n1. Define a AutoriationService within project. \r\n2. You can define method specific to validate authentication for this particular method ( getOrder). Method name could be - authenticationForToGetOrderAPI. \r\n3. You can define your custom implemenation of this method. Custom implemeantion could be &quot;SpringSecurityHolder&quot;#getId() == order#getUserId()&quot;.\r\n\r\n4. You can use Sprint Security annotation @PreAuthorize to attach this method on top of getOrder API call. The @PreAuthorize annotation checks the given expression before entering the method.\r\n\r\nMore details for @PreAuthorize , please check it here - found this link helpful for Spring Security Features - https://www.baeldung.com/spring-security-method-security\r\n","title":"Control of user rights to change objects","body":"<p>I believe when you say this is too primitive , you meant solution is not well abstracted and elegant in design.</p>\n<p>If that is the question, to make it more elegant you can follow this approach</p>\n<ol>\n<li><p>Define a AutoriationService within project.</p>\n</li>\n<li><p>You can define method specific to validate authentication for this particular method ( getOrder). Method name could be - authenticationForToGetOrderAPI.</p>\n</li>\n<li><p>You can define your custom implemenation of this method. Custom implemeantion could be &quot;SpringSecurityHolder&quot;#getId() == order#getUserId()&quot;.</p>\n</li>\n<li><p>You can use Sprint Security annotation @PreAuthorize to attach this method on top of getOrder API call. The @PreAuthorize annotation checks the given expression before entering the method.</p>\n</li>\n</ol>\n<p>More details for @PreAuthorize , please check it here - found this link helpful for Spring Security Features - <a href=\"https://www.baeldung.com/spring-security-method-security\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-method-security</a></p>\n"}],"owner":{"account_id":9013194,"reputation":220,"user_id":10663941,"display_name":"The Prototype"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77205373,"answer_count":2,"score":1,"last_activity_date":1696036950,"creation_date":1696001174,"question_id":77203145,"body_markdown":"Imagine that there is a user and he has a certain order that is issued for him.\r\nThe user decides to &quot;release&quot; it and pulls the REST API handle:\r\n\r\n    @PreAuthorize(&quot;hasRole(&#39;USER&#39;) || hasRole(&#39;ADMIN&#39;)&quot;)\r\n    @PatchMapping(path = &quot;/setFree&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;OrderDTO&gt; setFree(@RequestParam(name = &quot;id&quot;) int id) {\r\n        final var order = this.orderService.findById(id).orElseThrow(() -&gt; new OrderNotFoundException(id));\r\n        if (order.getStatus() == OrderStatus.FREE.getId())\r\n            return ResponseEntity.badRequest().build();\r\n\r\n        final var free = this.orderService.setFree(order);\r\n        return ResponseEntity.ok(this.modelMapper.map(free, OrderDTO.class));\r\n    }\r\n\r\nAn authorized user with the USER or ADMIN role has access to this handle.\r\nQuestion! What in this case prevents a user with the USER role from releasing an order for some other user.\r\nHow can this be validated? So that the user can change the state of objects only those that are &quot;allowed&quot; to him or that are related to him?\r\nTake the current user in the security context and check that his `&quot;SpringSecurityHolder&quot;#getId() == order#getUserId();` ? But this is too primitive. How can such validations be implemented correctly?","title":"Control of user rights to change objects","body":"<p>Imagine that there is a user and he has a certain order that is issued for him.\nThe user decides to &quot;release&quot; it and pulls the REST API handle:</p>\n<pre><code>@PreAuthorize(&quot;hasRole('USER') || hasRole('ADMIN')&quot;)\n@PatchMapping(path = &quot;/setFree&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;OrderDTO&gt; setFree(@RequestParam(name = &quot;id&quot;) int id) {\n    final var order = this.orderService.findById(id).orElseThrow(() -&gt; new OrderNotFoundException(id));\n    if (order.getStatus() == OrderStatus.FREE.getId())\n        return ResponseEntity.badRequest().build();\n\n    final var free = this.orderService.setFree(order);\n    return ResponseEntity.ok(this.modelMapper.map(free, OrderDTO.class));\n}\n</code></pre>\n<p>An authorized user with the USER or ADMIN role has access to this handle.\nQuestion! What in this case prevents a user with the USER role from releasing an order for some other user.\nHow can this be validated? So that the user can change the state of objects only those that are &quot;allowed&quot; to him or that are related to him?\nTake the current user in the security context and check that his <code>&quot;SpringSecurityHolder&quot;#getId() == order#getUserId();</code> ? But this is too primitive. How can such validations be implemented correctly?</p>\n"},{"tags":["java","ignite","in-memory"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":3,"creation_date":1675678256,"post_id":75359894,"comment_id":132973607,"body_markdown":"[Please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question.</a>"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1675678455,"post_id":75359894,"comment_id":132973674,"body_markdown":"The documentation suggests it does, see [Ignite Quick Start Guide for Java](https://ignite.apache.org/docs/latest/quick-start/java). Otherwise provide a [mre] and provide the error **as text**. Please do not use screenshots.","body":"The documentation suggests it does, see <a href=\"https://ignite.apache.org/docs/latest/quick-start/java\" rel=\"nofollow noreferrer\">Ignite Quick Start Guide for Java</a>. Otherwise provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and provide the error <b>as text</b>. Please do not use screenshots."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1675678504,"post_id":75359894,"comment_id":132973688,"body_markdown":"@StephenDarlington: I don&#39;t think the OCR did quite right. &quot;19 rammen Frames onitted&quot; is humorous at least, though ...","body":"@StephenDarlington: I don&#39;t think the OCR did quite right. &quot;19 rammen Frames onitted&quot; is humorous at least, though ..."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1675678523,"post_id":75359894,"comment_id":132973703,"body_markdown":"@StephenDarlington please do not use OCR to provide information that the OP should provide themself (especially as there were errors in the OCR).","body":"@StephenDarlington please do not use OCR to provide information that the OP should provide themself (especially as there were errors in the OCR)."},{"owner":{"account_id":2182,"reputation":51860,"user_id":2998,"accept_rate":69,"display_name":"Stephen Darlington"},"score":0,"creation_date":1675678664,"post_id":75359894,"comment_id":132973754,"body_markdown":"Fair enough. I thought it was an improvement but yeah, maybe the OCR errors made it worse.","body":"Fair enough. I thought it was an improvement but yeah, maybe the OCR errors made it worse."}],"answers":[{"tags":[],"owner":{"account_id":116306,"reputation":8518,"user_id":305020,"accept_rate":83,"display_name":"Pavel Tupitsyn"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1675678690,"creation_date":1675678558,"answer_id":75359956,"question_id":75359894,"body_markdown":"Yes, it does. As [the doc says](https://ignite.apache.org/docs/latest/quick-start/java#running-ignite-with-java-11-or-later), use the following JVM options:\r\n\r\n```\r\n--add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED \\\r\n--add-opens=java.base/jdk.internal.misc=ALL-UNNAMED \\\r\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED \\\r\n--add-opens=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED \\\r\n--add-opens=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED \\\r\n--add-opens=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED \\\r\n--add-opens=java.base/java.io=ALL-UNNAMED \\\r\n--add-opens=java.base/java.nio=ALL-UNNAMED \\\r\n--add-opens=java.base/java.util=ALL-UNNAMED \\\r\n--add-opens=java.base/java.lang=ALL-UNNAMED\r\n```\r\n\r\nOr, use `ignite.sh` / `ignite.bat` scripts, which do this for you.","title":"Apache Ignite support for java 17","body":"<p>Yes, it does. As <a href=\"https://ignite.apache.org/docs/latest/quick-start/java#running-ignite-with-java-11-or-later\" rel=\"noreferrer\">the doc says</a>, use the following JVM options:</p>\n<pre><code>--add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED \\\n--add-opens=java.base/jdk.internal.misc=ALL-UNNAMED \\\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED \\\n--add-opens=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED \\\n--add-opens=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED \\\n--add-opens=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED \\\n--add-opens=java.base/java.io=ALL-UNNAMED \\\n--add-opens=java.base/java.nio=ALL-UNNAMED \\\n--add-opens=java.base/java.util=ALL-UNNAMED \\\n--add-opens=java.base/java.lang=ALL-UNNAMED\n</code></pre>\n<p>Or, use <code>ignite.sh</code> / <code>ignite.bat</code> scripts, which do this for you.</p>\n"},{"tags":[],"owner":{"account_id":2929571,"reputation":289,"user_id":2510179,"display_name":"Neil J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696036213,"creation_date":1696012144,"answer_id":77204117,"question_id":75359894,"body_markdown":"Here&#39;s the spring-boot-maven-plugin JVM arguments configuration I&#39;m using with Ignite &amp; Java17.\r\n\r\n                     &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;jvmArguments&gt;\r\n                                --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED\r\n                                --add-opens=java.base/jdk.internal.misc=ALL-UNNAMED\r\n                                --add-opens=java.base/sun.nio.ch=ALL-UNNAMED\r\n                                --add-opens=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED\r\n                                --add-opens=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\r\n                                --add-opens=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED\r\n                                --add-opens=java.base/java.io=ALL-UNNAMED\r\n                                --add-opens=java.base/java.nio=ALL-UNNAMED\r\n                                --add-opens=java.base/java.util=ALL-UNNAMED\r\n                                --add-opens=java.base/java.lang=ALL-UNNAMED\r\n                            &lt;/jvmArguments&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;","title":"Apache Ignite support for java 17","body":"<p>Here's the spring-boot-maven-plugin JVM arguments configuration I'm using with Ignite &amp; Java17.</p>\n<pre><code>                 &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;jvmArguments&gt;\n                            --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED\n                            --add-opens=java.base/jdk.internal.misc=ALL-UNNAMED\n                            --add-opens=java.base/sun.nio.ch=ALL-UNNAMED\n                            --add-opens=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED\n                            --add-opens=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\n                            --add-opens=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED\n                            --add-opens=java.base/java.io=ALL-UNNAMED\n                            --add-opens=java.base/java.nio=ALL-UNNAMED\n                            --add-opens=java.base/java.util=ALL-UNNAMED\n                            --add-opens=java.base/java.lang=ALL-UNNAMED\n                        &lt;/jvmArguments&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":27714926,"reputation":21,"user_id":21156846,"display_name":"Naveen M.S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1445,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1696036213,"creation_date":1675678189,"question_id":75359894,"body_markdown":"Does apache ignite 2.14.0 work with java 17?\r\n\r\n\r\n\r\nTried running a java 17 application which uses apache ignite 2.14.0 and this error occured:\r\n[Error while running java 17 application using which uses apache 2.14.0](https://i.stack.imgur.com/Fq5Kr.png)","title":"Apache Ignite support for java 17","body":"<p>Does apache ignite 2.14.0 work with java 17?</p>\n<p>Tried running a java 17 application which uses apache ignite 2.14.0 and this error occured:\n<a href=\"https://i.stack.imgur.com/Fq5Kr.png\" rel=\"nofollow noreferrer\">Error while running java 17 application using which uses apache 2.14.0</a></p>\n"},{"tags":["java","ssl","https","certificate","ssl-certificate"],"comments":[{"owner":{"account_id":15387,"reputation":63720,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1614011164,"post_id":19540289,"comment_id":117247313,"body_markdown":"Does this answer your question? [Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?](https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore\">Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?</a>"}],"answers":[{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1382529371,"creation_date":1382529371,"answer_id":19541002,"question_id":19540289,"body_markdown":"The verification of the certificate identity is performed against what the client requests.\r\n\r\nWhen your client uses `https://xxx.xxx.xxx.xxx/something` (where `xxx.xxx.xxx.xxx` is an IP address), the certificate identity is checked against this IP address (in theory, only using an IP SAN extension).\r\n\r\nIf your certificate has no IP SAN, but DNS SANs (or if no DNS SAN, a Common Name in the Subject DN), you can get this to work by making your client use a URL with that host name instead (or a host name for which the cert would be valid, if there are multiple possible values). For example, if you cert has a name for `www.example.com`, use `https://www.example.com/something`.\r\n\r\nOf course, you&#39;ll need that host name to resolve to that IP address.\r\n\r\nIn addition, if there are any DNS SANs, the CN in the Subject DN will be ignored, so use a name that matches one of the DNS SANs in this case.","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>The verification of the certificate identity is performed against what the client requests.</p>\n\n<p>When your client uses <code>https://xxx.xxx.xxx.xxx/something</code> (where <code>xxx.xxx.xxx.xxx</code> is an IP address), the certificate identity is checked against this IP address (in theory, only using an IP SAN extension).</p>\n\n<p>If your certificate has no IP SAN, but DNS SANs (or if no DNS SAN, a Common Name in the Subject DN), you can get this to work by making your client use a URL with that host name instead (or a host name for which the cert would be valid, if there are multiple possible values). For example, if you cert has a name for <code>www.example.com</code>, use <code>https://www.example.com/something</code>.</p>\n\n<p>Of course, you'll need that host name to resolve to that IP address.</p>\n\n<p>In addition, if there are any DNS SANs, the CN in the Subject DN will be ignored, so use a name that matches one of the DNS SANs in this case.</p>\n"},{"tags":[],"owner":{"account_id":171799,"reputation":17641,"user_id":399457,"accept_rate":86,"display_name":"Glory to Russia"},"down_vote_count":23,"up_vote_count":212,"is_accepted":true,"score":189,"last_activity_date":1614010750,"creation_date":1382533773,"answer_id":19542614,"question_id":19540289,"body_markdown":"I fixed the problem by disabling HTTPS checks using the approach presented [here][1]:\r\n\r\nI put following code into the the `ISomeService` class:\r\n\r\n\tstatic {\r\n\t\tdisableSslVerification();\r\n\t}\r\n\r\n    private static void disableSslVerification() {\r\n        try\r\n        {\r\n            // Create a trust manager that does not validate certificate chains\r\n            TrustManager[] trustAllCerts = new TrustManager[] {new X509TrustManager() {\r\n                public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                    return null;\r\n                }\r\n                public void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n                }\r\n                public void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n                }\r\n            }\r\n            };\r\n\r\n            // Install the all-trusting trust manager\r\n            SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n\r\n            // Create all-trusting host name verifier\r\n            HostnameVerifier allHostsValid = new HostnameVerifier() {\r\n                public boolean verify(String hostname, SSLSession session) {\r\n                    return true;\r\n                }\r\n            };\r\n\r\n            // Install the all-trusting host verifier\r\n            HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\r\n        } catch (NoSuchAlgorithmException e) {\r\n            e.printStackTrace();\r\n        } catch (KeyManagementException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nSince I&#39;m using the `https://AAA.BBB.CCC.DDD:9443/ISomeService` for testing purposes only, it&#39;s a good enough solution, but do not do this in production.\r\n\r\nNote that you can also disable SSL for &quot;one connection at a time&quot; ex:\r\n\r\n     // don&#39;t call disableSslVerification but use its internal code:\r\n     HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n     if (conn instanceof HttpsURLConnection) {\r\n        HttpsURLConnection httpsConn = (HttpsURLConnection) conn;\r\n        httpsConn.setHostnameVerifier(allHostsValid);\r\n        httpsConn.setSSLSocketFactory(sc.getSocketFactory());\r\n     }\r\n\r\n\r\n  [1]: http://www.nakov.com/blog/2009/07/16/disable-certificate-validation-in-java-ssl-connections/","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>I fixed the problem by disabling HTTPS checks using the approach presented <a href=\"http://www.nakov.com/blog/2009/07/16/disable-certificate-validation-in-java-ssl-connections/\" rel=\"noreferrer\">here</a>:</p>\n<p>I put following code into the the <code>ISomeService</code> class:</p>\n<pre><code>static {\n    disableSslVerification();\n}\n\nprivate static void disableSslVerification() {\n    try\n    {\n        // Create a trust manager that does not validate certificate chains\n        TrustManager[] trustAllCerts = new TrustManager[] {new X509TrustManager() {\n            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                return null;\n            }\n            public void checkClientTrusted(X509Certificate[] certs, String authType) {\n            }\n            public void checkServerTrusted(X509Certificate[] certs, String authType) {\n            }\n        }\n        };\n\n        // Install the all-trusting trust manager\n        SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\n        sc.init(null, trustAllCerts, new java.security.SecureRandom());\n        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n\n        // Create all-trusting host name verifier\n        HostnameVerifier allHostsValid = new HostnameVerifier() {\n            public boolean verify(String hostname, SSLSession session) {\n                return true;\n            }\n        };\n\n        // Install the all-trusting host verifier\n        HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n    } catch (KeyManagementException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Since I'm using the <code>https://AAA.BBB.CCC.DDD:9443/ISomeService</code> for testing purposes only, it's a good enough solution, but do not do this in production.</p>\n<p>Note that you can also disable SSL for &quot;one connection at a time&quot; ex:</p>\n<pre><code> // don't call disableSslVerification but use its internal code:\n HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n if (conn instanceof HttpsURLConnection) {\n    HttpsURLConnection httpsConn = (HttpsURLConnection) conn;\n    httpsConn.setHostnameVerifier(allHostsValid);\n    httpsConn.setSSLSocketFactory(sc.getSocketFactory());\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":482874,"reputation":1498,"user_id":897566,"display_name":"juanmhidalgo"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1614008951,"creation_date":1435118746,"answer_id":31017426,"question_id":19540289,"body_markdown":"I&#39;ve the same problem and solved with this code.\r\nI put this code before the first call to my webservices.\r\n\r\n    javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(\r\n      new javax.net.ssl.HostnameVerifier(){\r\n \r\n          public boolean verify(String hostname,\r\n                 javax.net.ssl.SSLSession sslSession) {\r\n              return hostname.equals(&quot;localhost&quot;); // or return true\r\n          }\r\n      });\r\n\r\nIt&#39;s simple and works fine.\r\n\r\n[Here][1] is the original source.\r\n\r\n\r\n  [1]: http://java.globinch.com/enterprise-java/security/fix-java-security-certificate-exception-no-matching-localhost-found/","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>I've the same problem and solved with this code.\nI put this code before the first call to my webservices.</p>\n<pre><code>javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(\n  new javax.net.ssl.HostnameVerifier(){\n\n      public boolean verify(String hostname,\n             javax.net.ssl.SSLSession sslSession) {\n          return hostname.equals(&quot;localhost&quot;); // or return true\n      }\n  });\n</code></pre>\n<p>It's simple and works fine.</p>\n<p><a href=\"http://java.globinch.com/enterprise-java/security/fix-java-security-certificate-exception-no-matching-localhost-found/\" rel=\"noreferrer\">Here</a> is the original source.</p>\n"},{"tags":[],"owner":{"account_id":1568317,"reputation":303,"user_id":1456612,"accept_rate":20,"display_name":"Shahriar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1437517565,"creation_date":1437517565,"answer_id":31550717,"question_id":19540289,"body_markdown":"my problem with getting this error was resolved by using the full URL &quot;qatest.ourCompany.com/webService&quot; instead of just &quot;qatest/webService&quot;. Reason was that our security certificate had a wildcard i.e. &quot;*.ourCompany.com&quot;. Once I put in the full address the exception went away. Hope this helps.","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>my problem with getting this error was resolved by using the full URL \"qatest.ourCompany.com/webService\" instead of just \"qatest/webService\". Reason was that our security certificate had a wildcard i.e. \"*.ourCompany.com\". Once I put in the full address the exception went away. Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":7957106,"reputation":7,"user_id":6005994,"display_name":"Prakash Soni"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1456896663,"creation_date":1456896663,"answer_id":35739211,"question_id":19540289,"body_markdown":"Add your IP address in the hosts file.which is in the folder of C:\\Windows\\System32\\drivers\\etc. \r\nAlso add IP and Domain Name of the IP address.\r\nexample:\r\naaa.bbb.ccc.ddd   abc@def.com\r\n","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>Add your IP address in the hosts file.which is in the folder of C:\\Windows\\System32\\drivers\\etc. \nAlso add IP and Domain Name of the IP address.\nexample:\naaa.bbb.ccc.ddd   abc@def.com</p>\n"},{"tags":[],"owner":{"account_id":494198,"reputation":1119,"user_id":1775669,"display_name":"andreycpp"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1460049336,"creation_date":1460049336,"answer_id":36483016,"question_id":19540289,"body_markdown":"To import the cert:\r\n\r\n 1. Extract the cert from the server, e.g. `openssl s_client -showcerts -connect AAA.BBB.CCC.DDD:9443 &gt; certs.txt` This will extract certs in PEM format.\r\n 2. Convert the cert into DER format as this is what keytool expects, e.g. `openssl x509 -in certs.txt -out certs.der -outform DER`\r\n 3. Now you want to import this cert into the system default &#39;cacert&#39; file. Locate the system default &#39;cacerts&#39; file for your Java installation. Take a look at https://stackoverflow.com/questions/11936685/how-to-obtain-the-location-of-cacerts-of-the-default-java-installation\r\n 4. Import the certs into that cacerts file: `sudo keytool -importcert -file certs.der -keystore &lt;path-to-cacerts&gt;` Default cacerts password is &#39;changeit&#39;.\r\n\r\nIf the cert is issued for an FQDN and you&#39;re trying to connect by IP address in your Java code, then this should probably be fixed in your code rather than messing with certificate itself. Change your code to connect by FQDN. If FQDN is not resolvable on your dev machine, simply add it to your hosts file, or configure your machine with DNS server that can resolve this FQDN.","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>To import the cert:</p>\n\n<ol>\n<li>Extract the cert from the server, e.g. <code>openssl s_client -showcerts -connect AAA.BBB.CCC.DDD:9443 &gt; certs.txt</code> This will extract certs in PEM format.</li>\n<li>Convert the cert into DER format as this is what keytool expects, e.g. <code>openssl x509 -in certs.txt -out certs.der -outform DER</code></li>\n<li>Now you want to import this cert into the system default 'cacert' file. Locate the system default 'cacerts' file for your Java installation. Take a look at <a href=\"https://stackoverflow.com/questions/11936685/how-to-obtain-the-location-of-cacerts-of-the-default-java-installation\">How to obtain the location of cacerts of the default java installation?</a></li>\n<li>Import the certs into that cacerts file: <code>sudo keytool -importcert -file certs.der -keystore &lt;path-to-cacerts&gt;</code> Default cacerts password is 'changeit'.</li>\n</ol>\n\n<p>If the cert is issued for an FQDN and you're trying to connect by IP address in your Java code, then this should probably be fixed in your code rather than messing with certificate itself. Change your code to connect by FQDN. If FQDN is not resolvable on your dev machine, simply add it to your hosts file, or configure your machine with DNS server that can resolve this FQDN.</p>\n"},{"tags":[],"owner":{"account_id":1460117,"reputation":133,"user_id":1374669,"display_name":"lifesoordinary"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1524830674,"creation_date":1488793488,"answer_id":42622257,"question_id":19540289,"body_markdown":"You may not want to disable all ssl Verificatication and so you can just disable the hostName verification via this which is a bit less scary than the alternative:\r\n\r\n    HttpsURLConnection.setDefaultHostnameVerifier(\r\n        SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\r\n\r\n[EDIT]\r\n\r\nAs mentioned by conapart3 `SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER` is now deprecated, so it may be removed in a later version, so you may be forced in the future to roll your own, although I would still say I would steer away from any solutions where all verification is turned off.","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>You may not want to disable all ssl Verificatication and so you can just disable the hostName verification via this which is a bit less scary than the alternative:</p>\n\n<pre><code>HttpsURLConnection.setDefaultHostnameVerifier(\n    SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER);\n</code></pre>\n\n<p>[EDIT]</p>\n\n<p>As mentioned by conapart3 <code>SSLConnectionSocketFactory.ALLOW_ALL_HOSTNAME_VERIFIER</code> is now deprecated, so it may be removed in a later version, so you may be forced in the future to roll your own, although I would still say I would steer away from any solutions where all verification is turned off.</p>\n"},{"tags":[],"owner":{"account_id":7812311,"reputation":2813,"user_id":5908154,"accept_rate":10,"display_name":"Abhishek Galoda"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1584929324,"creation_date":1538644773,"answer_id":52643231,"question_id":19540289,"body_markdown":"I fixed this issue in a right way by adding the subject alt names in certificate rather than making any changes in code or disabling SSL unlike what other answers suggest here. If you see clearly the exception says the &quot;Subject alt names are missing&quot; so the right way should be to add them \r\n\r\nPlease look at this [link to understand step by step][1].\r\n\r\nThe above error means that your JKS file is missing the required domain on which you are trying to access the application.You will need to Use Open SSL and the key tool to add multiple domains\r\n\r\n 1. Copy the openssl.cnf into a current directory\r\n 2. `echo &#39;[ subject_alt_name ]&#39; &gt;&gt; openssl.cnf`\r\n 3. `echo &#39;subjectAltName = DNS:example.mydomain1.com, DNS:example.mydomain2.com, DNS:example.mydomain3.com, DNS: localhost&#39;&gt;&gt; openssl.cnf`\r\n 4. `openssl req -x509 -nodes -newkey rsa:2048 -config openssl.cnf -extensions subject_alt_name -keyout private.key -out self-signed.pem -subj &#39;/C=gb/ST=edinburgh/L=edinburgh/O=mygroup/OU=servicing/CN=www.example.com/emailAddress=postmaster@example.com&#39; -days 365`\r\n 5. Export the public key (.pem) file to PKS12 format. This will prompt you for password\r\n\r\n        openssl pkcs12 -export -keypbe PBE-SHA1-3DES -certpbe PBE-SHA1-3DES -export -in\r\n        self-signed.pem -inkey private.key -name myalias -out keystore.p12\r\n     \r\n 6. Create a.JKS from self-signed PEM (Keystore)\r\n\r\n        keytool -importkeystore -destkeystore keystore.jks -deststoretype PKCS12 -srcstoretype PKCS12 -srckeystore keystore.p12\r\n     \r\n\r\n 7. Generate a Certificate from above Keystore or JKS file\r\n\r\n        keytool -export -keystore keystore.jks -alias myalias -file selfsigned.crt\r\n     \r\n 8. Since the above certificate is Self Signed and is not validated by CA, it needs to be added in Truststore(Cacerts file in below location for MAC, for Windows, find out where your JDK is installed.)\r\n\r\n        sudo keytool -importcert -file selfsigned.crt -alias myalias -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Home/jre/lib/security/cacerts\r\n \r\nOriginal answer posted [ on this link here][1].    \r\n\r\n  [1]: http://www.littlebigextra.com/how-to-add-subject-alt-names-or-multiple-domains-in-a-key-store-and-self-signed-certificate/\r\n\r\n\r\n","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>I fixed this issue in a right way by adding the subject alt names in certificate rather than making any changes in code or disabling SSL unlike what other answers suggest here. If you see clearly the exception says the \"Subject alt names are missing\" so the right way should be to add them </p>\n\n<p>Please look at this <a href=\"http://www.littlebigextra.com/how-to-add-subject-alt-names-or-multiple-domains-in-a-key-store-and-self-signed-certificate/\" rel=\"noreferrer\">link to understand step by step</a>.</p>\n\n<p>The above error means that your JKS file is missing the required domain on which you are trying to access the application.You will need to Use Open SSL and the key tool to add multiple domains</p>\n\n<ol>\n<li>Copy the openssl.cnf into a current directory</li>\n<li><code>echo '[ subject_alt_name ]' &gt;&gt; openssl.cnf</code></li>\n<li><code>echo 'subjectAltName = DNS:example.mydomain1.com, DNS:example.mydomain2.com, DNS:example.mydomain3.com, DNS: localhost'&gt;&gt; openssl.cnf</code></li>\n<li><code>openssl req -x509 -nodes -newkey rsa:2048 -config openssl.cnf -extensions subject_alt_name -keyout private.key -out self-signed.pem -subj '/C=gb/ST=edinburgh/L=edinburgh/O=mygroup/OU=servicing/CN=www.example.com/emailAddress=postmaster@example.com' -days 365</code></li>\n<li><p>Export the public key (.pem) file to PKS12 format. This will prompt you for password</p>\n\n<pre><code>openssl pkcs12 -export -keypbe PBE-SHA1-3DES -certpbe PBE-SHA1-3DES -export -in\nself-signed.pem -inkey private.key -name myalias -out keystore.p12\n</code></pre></li>\n<li><p>Create a.JKS from self-signed PEM (Keystore)</p>\n\n<pre><code>keytool -importkeystore -destkeystore keystore.jks -deststoretype PKCS12 -srcstoretype PKCS12 -srckeystore keystore.p12\n</code></pre></li>\n<li><p>Generate a Certificate from above Keystore or JKS file</p>\n\n<pre><code>keytool -export -keystore keystore.jks -alias myalias -file selfsigned.crt\n</code></pre></li>\n<li><p>Since the above certificate is Self Signed and is not validated by CA, it needs to be added in Truststore(Cacerts file in below location for MAC, for Windows, find out where your JDK is installed.)</p>\n\n<pre><code>sudo keytool -importcert -file selfsigned.crt -alias myalias -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_171.jdk/Contents/Home/jre/lib/security/cacerts\n</code></pre></li>\n</ol>\n\n<p>Original answer posted <a href=\"http://www.littlebigextra.com/how-to-add-subject-alt-names-or-multiple-domains-in-a-key-store-and-self-signed-certificate/\" rel=\"noreferrer\"> on this link here</a>.    </p>\n"},{"tags":[],"owner":{"account_id":1013072,"reputation":601,"user_id":1025228,"display_name":"diswutz"},"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1541079616,"creation_date":1541079616,"answer_id":53102488,"question_id":19540289,"body_markdown":"This is an old question, yet I had the same problem when moving from JDK 1.8.0_144 to jdk 1.8.0_191\r\n\r\nWe found a hint in the changelog:\r\n\r\n[Changelog][1]\r\n\r\nwe added the following additional system property, which helped in our case to solve this issue:\r\n\r\n    -Dcom.sun.jndi.ldap.object.disableEndpointIdentification=true\r\n\r\n\r\n  [1]: https://www.oracle.com/technetwork/java/javase/8u181-relnotes-4479407.html","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>This is an old question, yet I had the same problem when moving from JDK 1.8.0_144 to jdk 1.8.0_191</p>\n\n<p>We found a hint in the changelog:</p>\n\n<p><a href=\"https://www.oracle.com/technetwork/java/javase/8u181-relnotes-4479407.html\" rel=\"noreferrer\">Changelog</a></p>\n\n<p>we added the following additional system property, which helped in our case to solve this issue:</p>\n\n<pre><code>-Dcom.sun.jndi.ldap.object.disableEndpointIdentification=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7859678,"reputation":166,"user_id":5940462,"display_name":"Gert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542028094,"creation_date":1542028094,"answer_id":53262860,"question_id":19540289,"body_markdown":"I got to this question after if got this same error message. However in my case we had two URL&#39;s with different subdomains (http://example1.xxx.com/someservice and http://example2.yyy.com/someservice) which were directed to the same server. This server was having only one wildcard certificate for the \\*.xxx.com domain. When using the service via the second domain, the found certicate (\\*.xxx.com) does not match with the requested domain (\\*.yyy.com) and the error occurs.\r\n\r\nIn this case we should not try to fix such an errormessage by lowering SSL security, but should check the server and certificates on it.","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>I got to this question after if got this same error message. However in my case we had two URL's with different subdomains (<a href=\"http://example1.xxx.com/someservice\" rel=\"nofollow noreferrer\">http://example1.xxx.com/someservice</a> and <a href=\"http://example2.yyy.com/someservice\" rel=\"nofollow noreferrer\">http://example2.yyy.com/someservice</a>) which were directed to the same server. This server was having only one wildcard certificate for the *.xxx.com domain. When using the service via the second domain, the found certicate (*.xxx.com) does not match with the requested domain (*.yyy.com) and the error occurs.</p>\n\n<p>In this case we should not try to fix such an errormessage by lowering SSL security, but should check the server and certificates on it.</p>\n"},{"tags":[],"owner":{"account_id":2154086,"reputation":2201,"user_id":1909708,"display_name":"Himadri Pant"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1543290153,"creation_date":1543282166,"answer_id":53491495,"question_id":19540289,"body_markdown":"Have answered it already in https://stackoverflow.com/a/53491151/1909708.\r\n\r\nThis fails because neither the certificate common name (`CN` in certification `Subject`) nor any of the alternate names (`Subject Alternative Name` in the certificate) match with the target hostname or IP adress. \r\n\r\nFor e.g., from a JVM, when trying to connect to an IP address (`WW.XX.YY.ZZ`) and not the DNS name (https://stackoverflow.com), the HTTPS connection will fail because the certificate stored in the java truststore `cacerts` expects common name (or certificate alternate name like stackexchange.com or *.stackoverflow.com etc.) to match the target address. \r\n\r\nPlease check: https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#HostnameVerifier\r\n\r\n        HttpsURLConnection urlConnection = (HttpsURLConnection) new URL(&quot;https://WW.XX.YY.ZZ/api/verify&quot;).openConnection();\r\n        urlConnection.setSSLSocketFactory(socketFactory());\r\n        urlConnection.setDoOutput(true);\r\n        urlConnection.setRequestMethod(&quot;GET&quot;);\r\n        urlConnection.setUseCaches(false);\r\n        urlConnection.setHostnameVerifier(new HostnameVerifier() {\r\n            @Override\r\n            public boolean verify(String hostname, SSLSession sslSession) {\r\n                return true;\r\n            }\r\n        });\r\n        urlConnection.getOutputStream();\r\n\r\nAbove, passed an implemented `HostnameVerifier` object which is always returns `true`:\r\n\r\n    new HostnameVerifier() {\r\n            @Override\r\n            public boolean verify(String hostname, SSLSession sslSession) {\r\n                return true;\r\n            }\r\n        }","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>Have answered it already in <a href=\"https://stackoverflow.com/a/53491151/1909708\">https://stackoverflow.com/a/53491151/1909708</a>.</p>\n\n<p>This fails because neither the certificate common name (<code>CN</code> in certification <code>Subject</code>) nor any of the alternate names (<code>Subject Alternative Name</code> in the certificate) match with the target hostname or IP adress. </p>\n\n<p>For e.g., from a JVM, when trying to connect to an IP address (<code>WW.XX.YY.ZZ</code>) and not the DNS name (<a href=\"https://stackoverflow.com\">https://stackoverflow.com</a>), the HTTPS connection will fail because the certificate stored in the java truststore <code>cacerts</code> expects common name (or certificate alternate name like stackexchange.com or *.stackoverflow.com etc.) to match the target address. </p>\n\n<p>Please check: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#HostnameVerifier\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#HostnameVerifier</a></p>\n\n<pre><code>    HttpsURLConnection urlConnection = (HttpsURLConnection) new URL(\"https://WW.XX.YY.ZZ/api/verify\").openConnection();\n    urlConnection.setSSLSocketFactory(socketFactory());\n    urlConnection.setDoOutput(true);\n    urlConnection.setRequestMethod(\"GET\");\n    urlConnection.setUseCaches(false);\n    urlConnection.setHostnameVerifier(new HostnameVerifier() {\n        @Override\n        public boolean verify(String hostname, SSLSession sslSession) {\n            return true;\n        }\n    });\n    urlConnection.getOutputStream();\n</code></pre>\n\n<p>Above, passed an implemented <code>HostnameVerifier</code> object which is always returns <code>true</code>:</p>\n\n<pre><code>new HostnameVerifier() {\n        @Override\n        public boolean verify(String hostname, SSLSession sslSession) {\n            return true;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16455886,"reputation":1,"user_id":11888077,"display_name":"user11888077"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1565080408,"creation_date":1565075550,"answer_id":57370731,"question_id":19540289,"body_markdown":"```java\r\npublic class RESTfulClientSSL {\r\n\r\n    static TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\r\n        @Override\r\n        public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n            // TODO Auto-generated method stub\r\n        }\r\n\r\n        @Override\r\n        public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\r\n            // TODO Auto-generated method stub\r\n        }\r\n\r\n        @Override\r\n        public X509Certificate[] getAcceptedIssuers() {\r\n            // TODO Auto-generated method stub\r\n            return null;\r\n        }\r\n    }};\r\n\r\n    public class NullHostNameVerifier implements HostnameVerifier {\r\n        /*\r\n         * (non-Javadoc)\r\n         *\r\n         * @see javax.net.ssl.HostnameVerifier#verify(java.lang.String,\r\n         * javax.net.ssl.SSLSession)\r\n         */\r\n        @Override\r\n        public boolean verify(String arg0, SSLSession arg1) {\r\n            // TODO Auto-generated method stub\r\n            return true;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        HttpURLConnection connection = null;\r\n        try {\r\n\r\n            HttpsURLConnection.setDefaultHostnameVerifier(new RESTfulwalkthroughCer().new NullHostNameVerifier());\r\n            SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sc.init(null, trustAllCerts, new SecureRandom());\r\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n\r\n\r\n            String uriString = &quot;https://172.20.20.12:9443/rest/hr/exposed/service&quot;;\r\n            URL url = new URL(uriString);\r\n            connection = (HttpURLConnection) url.openConnection();\r\n            connection.setRequestMethod(&quot;GET&quot;);\r\n            //connection.setRequestMethod(&quot;POST&quot;);\r\n\r\n            BASE64Encoder encoder = new BASE64Encoder();\r\n            String username = &quot;admin&quot;;\r\n            String password = &quot;admin&quot;;\r\n            String encodedCredential = encoder.encode((username + &quot;:&quot; + password).getBytes());\r\n            connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encodedCredential);\r\n\r\n            connection.connect();\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n            int responseCode = connection.getResponseCode();\r\n            if (responseCode == HttpURLConnection.HTTP_OK) {\r\n                StringBuffer stringBuffer = new StringBuffer();\r\n                String line = &quot;&quot;;\r\n                while ((line = reader.readLine()) != null) {\r\n                    stringBuffer.append(line);\r\n                }\r\n                String content = stringBuffer.toString();\r\n                System.out.println(content);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (connection != null) {\r\n                connection.disconnect();\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class RESTfulClientSSL {\n\n    static TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\n        @Override\n        public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n            // TODO Auto-generated method stub\n        }\n\n        @Override\n        public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {\n            // TODO Auto-generated method stub\n        }\n\n        @Override\n        public X509Certificate[] getAcceptedIssuers() {\n            // TODO Auto-generated method stub\n            return null;\n        }\n    }};\n\n    public class NullHostNameVerifier implements HostnameVerifier {\n        /*\n         * (non-Javadoc)\n         *\n         * @see javax.net.ssl.HostnameVerifier#verify(java.lang.String,\n         * javax.net.ssl.SSLSession)\n         */\n        @Override\n        public boolean verify(String arg0, SSLSession arg1) {\n            // TODO Auto-generated method stub\n            return true;\n        }\n    }\n\n    public static void main(String[] args) {\n\n        HttpURLConnection connection = null;\n        try {\n\n            HttpsURLConnection.setDefaultHostnameVerifier(new RESTfulwalkthroughCer().new NullHostNameVerifier());\n            SSLContext sc = SSLContext.getInstance(\"SSL\");\n            sc.init(null, trustAllCerts, new SecureRandom());\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n\n\n            String uriString = \"https://172.20.20.12:9443/rest/hr/exposed/service\";\n            URL url = new URL(uriString);\n            connection = (HttpURLConnection) url.openConnection();\n            connection.setRequestMethod(\"GET\");\n            //connection.setRequestMethod(\"POST\");\n\n            BASE64Encoder encoder = new BASE64Encoder();\n            String username = \"admin\";\n            String password = \"admin\";\n            String encodedCredential = encoder.encode((username + \":\" + password).getBytes());\n            connection.setRequestProperty(\"Authorization\", \"Basic \" + encodedCredential);\n\n            connection.connect();\n            BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n            int responseCode = connection.getResponseCode();\n            if (responseCode == HttpURLConnection.HTTP_OK) {\n                StringBuffer stringBuffer = new StringBuffer();\n                String line = \"\";\n                while ((line = reader.readLine()) != null) {\n                    stringBuffer.append(line);\n                }\n                String content = stringBuffer.toString();\n                System.out.println(content);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            if (connection != null) {\n                connection.disconnect();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12454550,"reputation":76,"user_id":9068196,"display_name":"Sachin Rane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566850142,"creation_date":1566850142,"answer_id":57664337,"question_id":19540289,"body_markdown":"I was going through 2 way SSL in springboot. I have made all correct configuration service tomcat server and service caller RestTemplate. but I was getting error as **&quot;java.security.cert.CertificateException: No subject alternative names present&quot;**\r\n\r\nAfter going through solutions, I found, JVM needs this certificate otherwise it gives handshaking error.\r\n\r\nNow, how to add this to JVM.\r\n\r\ngo to jre/lib/security/cacerts file. we need to add our server certificate file to this cacerts file of jvm.\r\n\r\nCommand to add server cert to cacerts file via command line in windows.\r\n\r\nC:\\Program Files\\Java\\jdk1.8.0_191\\jre\\lib\\security&gt;**keytool -import -noprompt -trustcacerts -alias sslserver -file   E:\\spring_cloud_sachin\\ssl_keys\\sslserver.cer -keystore cacerts -storepass changeit**\r\n\r\nCheck server cert is installed or not:\r\n\r\nC:\\Program Files\\Java\\jdk1.8.0_191\\jre\\lib\\security&gt;**keytool -list -keystore cacerts**\r\n\r\nyou can see list of certificates installed:\r\n\r\nfor more details: https://sachin4java.blogspot.com/2019/08/javasecuritycertcertificateexception-no.html\r\n","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>I was going through 2 way SSL in springboot. I have made all correct configuration service tomcat server and service caller RestTemplate. but I was getting error as <strong>\"java.security.cert.CertificateException: No subject alternative names present\"</strong></p>\n\n<p>After going through solutions, I found, JVM needs this certificate otherwise it gives handshaking error.</p>\n\n<p>Now, how to add this to JVM.</p>\n\n<p>go to jre/lib/security/cacerts file. we need to add our server certificate file to this cacerts file of jvm.</p>\n\n<p>Command to add server cert to cacerts file via command line in windows.</p>\n\n<p>C:\\Program Files\\Java\\jdk1.8.0_191\\jre\\lib\\security><strong>keytool -import -noprompt -trustcacerts -alias sslserver -file   E:\\spring_cloud_sachin\\ssl_keys\\sslserver.cer -keystore cacerts -storepass changeit</strong></p>\n\n<p>Check server cert is installed or not:</p>\n\n<p>C:\\Program Files\\Java\\jdk1.8.0_191\\jre\\lib\\security><strong>keytool -list -keystore cacerts</strong></p>\n\n<p>you can see list of certificates installed:</p>\n\n<p>for more details: <a href=\"https://sachin4java.blogspot.com/2019/08/javasecuritycertcertificateexception-no.html\" rel=\"nofollow noreferrer\">https://sachin4java.blogspot.com/2019/08/javasecuritycertcertificateexception-no.html</a></p>\n"},{"tags":[],"owner":{"account_id":11608151,"reputation":140,"user_id":8503118,"display_name":"manoj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567341448,"creation_date":1567341448,"answer_id":57746053,"question_id":19540289,"body_markdown":"add the host entry with the ip corresponding to the CN in the certificate\r\n\r\nCN=someSubdomain.someorganisation.com\r\n\r\nnow update the ip with the CN name where you are trying to access the url.\r\n\r\nIt worked for me.","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>add the host entry with the ip corresponding to the CN in the certificate</p>\n\n<p>CN=someSubdomain.someorganisation.com</p>\n\n<p>now update the ip with the CN name where you are trying to access the url.</p>\n\n<p>It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576218931,"creation_date":1576217731,"answer_id":59317106,"question_id":19540289,"body_markdown":"For Spring Boot `RestTemplate`:\r\n\r\n- add `org.apache.httpcomponents.httpcore` dependency\r\n- use `NoopHostnameVerifier` for SSL factory:\r\n\r\n        SSLContext sslContext = new SSLContextBuilder()\r\n                .loadTrustMaterial(new URL(&quot;file:pathToServerKeyStore&quot;), storePassword)\r\n        //        .loadKeyMaterial(new URL(&quot;file:pathToClientKeyStore&quot;), storePassword, storePassword)\r\n                .build();\r\n        SSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE);\r\n        CloseableHttpClient client = HttpClients.custom().setSSLSocketFactory(socketFactory).build();\r\n        HttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory(client);\r\n        RestTemplate restTemplate = new RestTemplate(factory);\r\n","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>For Spring Boot <code>RestTemplate</code>:</p>\n\n<ul>\n<li>add <code>org.apache.httpcomponents.httpcore</code> dependency</li>\n<li><p>use <code>NoopHostnameVerifier</code> for SSL factory:</p>\n\n<pre><code>SSLContext sslContext = new SSLContextBuilder()\n        .loadTrustMaterial(new URL(\"file:pathToServerKeyStore\"), storePassword)\n//        .loadKeyMaterial(new URL(\"file:pathToClientKeyStore\"), storePassword, storePassword)\n        .build();\nSSLConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE);\nCloseableHttpClient client = HttpClients.custom().setSSLSocketFactory(socketFactory).build();\nHttpComponentsClientHttpRequestFactory factory = new HttpComponentsClientHttpRequestFactory(client);\nRestTemplate restTemplate = new RestTemplate(factory);\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16046590,"reputation":126,"user_id":11581545,"display_name":"Nizam Mahammad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584363487,"creation_date":1584363487,"answer_id":60706452,"question_id":19540289,"body_markdown":"    \r\n\r\n&gt; This code will work like charm and use the restTemple object for rest of the code.\r\n\r\n                                                            \r\n                                                            \r\n                                                            \r\n      RestTemplate restTemplate = new RestTemplate();   \r\n      TrustStrategy acceptingTrustStrategy = new TrustStrategy() {\r\n                @Override\r\n                public boolean isTrusted(java.security.cert.X509Certificate[] x509Certificates, String s) {\r\n                    return true;\r\n                }\r\n\r\n            };\r\n\r\n            SSLContext sslContext = null;\r\n            try {\r\n                sslContext = org.apache.http.ssl.SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy)\r\n                        .build();\r\n            } catch (NoSuchAlgorithmException e) {\r\n                e.printStackTrace();\r\n            } catch (KeyManagementException e) {\r\n                e.printStackTrace();\r\n            } catch (KeyStoreException e) {\r\n                e.printStackTrace();\r\n            }\r\n            SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext, new NoopHostnameVerifier());\r\n            CloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(csf).build();\r\n            HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n            requestFactory.setHttpClient(httpClient);\r\n            \r\n            restTemplate.setRequestFactory(requestFactory);\r\n    }","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<blockquote>\n  <p>This code will work like charm and use the restTemple object for rest of the code.</p>\n</blockquote>\n\n<pre><code>  RestTemplate restTemplate = new RestTemplate();   \n  TrustStrategy acceptingTrustStrategy = new TrustStrategy() {\n            @Override\n            public boolean isTrusted(java.security.cert.X509Certificate[] x509Certificates, String s) {\n                return true;\n            }\n\n        };\n\n        SSLContext sslContext = null;\n        try {\n            sslContext = org.apache.http.ssl.SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy)\n                    .build();\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        } catch (KeyManagementException e) {\n            e.printStackTrace();\n        } catch (KeyStoreException e) {\n            e.printStackTrace();\n        }\n        SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext, new NoopHostnameVerifier());\n        CloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(csf).build();\n        HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n        requestFactory.setHttpClient(httpClient);\n\n        restTemplate.setRequestFactory(requestFactory);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":275846,"reputation":2344,"user_id":2968699,"display_name":"Tudor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589451727,"creation_date":1589451727,"answer_id":61794924,"question_id":19540289,"body_markdown":"When you have a certificate with both CN and Subject Alternative Names (SAN), if you make your request based on the CN content, then that particular content must also be present under SAN, otherwise it will fail with the error in question.\r\n\r\nIn my case CN had something, SAN had something else. I had to use SAN URL, and then it worked just fine.","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>When you have a certificate with both CN and Subject Alternative Names (SAN), if you make your request based on the CN content, then that particular content must also be present under SAN, otherwise it will fail with the error in question.</p>\n\n<p>In my case CN had something, SAN had something else. I had to use SAN URL, and then it worked just fine.</p>\n"},{"tags":[],"owner":{"account_id":10640901,"reputation":617,"user_id":7835969,"display_name":"Manishoaham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599981830,"creation_date":1599981830,"answer_id":63868236,"question_id":19540289,"body_markdown":"I have resolved the said\r\n\r\n&gt; MqttException (0) - javax.net.ssl.SSLHandshakeException: No\r\n&gt; subjectAltNames on the certificate match\r\n\r\nerror by adding one (can add multiple) alternative subject name in the server certificate (having CN=example.com) which after prints the part of certificate as below:\r\n\r\n    Subject Alternative Name:\r\n    DNS: example.com\r\n\r\nI used KeyExplorer on windows for generating my server certificate.\r\nYou can follow [this link][1] for adding alternative subject names (follow the only part for adding it).\r\n\r\n\r\n  [1]: https://support.microfocus.com/kb/doc.php?id=7023489","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>I have resolved the said</p>\n<blockquote>\n<p>MqttException (0) - javax.net.ssl.SSLHandshakeException: No\nsubjectAltNames on the certificate match</p>\n</blockquote>\n<p>error by adding one (can add multiple) alternative subject name in the server certificate (having CN=example.com) which after prints the part of certificate as below:</p>\n<pre><code>Subject Alternative Name:\nDNS: example.com\n</code></pre>\n<p>I used KeyExplorer on windows for generating my server certificate.\nYou can follow <a href=\"https://support.microfocus.com/kb/doc.php?id=7023489\" rel=\"nofollow noreferrer\">this link</a> for adding alternative subject names (follow the only part for adding it).</p>\n"},{"tags":[],"owner":{"account_id":6248313,"reputation":191,"user_id":6306636,"accept_rate":57,"display_name":"animo3991"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603191586,"creation_date":1603191586,"answer_id":64443790,"question_id":19540289,"body_markdown":"I also faced the same issue with a self signed certificate . By referring to few of the above solutions , i tried regenerating the certificate with the correct CN i.e the IP Address of the server .But still it didn&#39;t work for me .\r\nFinally i tried regenerating the certificate by adding the SAN address to it via the below mentioned command \r\n\r\n    **keytool -genkey -keyalg RSA -keystore keystore.jks -keysize 2048 -alias &lt;IP_ADDRESS&gt; -ext san=ip:&lt;IP_ADDRESS&gt;**\r\n\r\nAfter that i started my server and downloaded the client certificates via the below mentioned openssl command \r\n\r\n    **openssl s_client -showcerts -connect &lt;IP_ADDRESS&gt;:443 &lt; /dev/null | openssl x509 -outform PEM &gt; myCert.pem**\r\n\r\nThen i imported this client certificate to the java default keystore file (cacerts) of my client machine by the below mentioned command \r\n\r\n    **keytool -import -trustcacerts -keystore /home/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.242.b08-1.el7.x86_64/jre/lib/security/cacerts -alias &lt;IP_ADDRESS&gt; -file ./mycert.pem**\r\n\r\n","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>I also faced the same issue with a self signed certificate . By referring to few of the above solutions , i tried regenerating the certificate with the correct CN i.e the IP Address of the server .But still it didn't work for me .\nFinally i tried regenerating the certificate by adding the SAN address to it via the below mentioned command</p>\n<pre><code>**keytool -genkey -keyalg RSA -keystore keystore.jks -keysize 2048 -alias &lt;IP_ADDRESS&gt; -ext san=ip:&lt;IP_ADDRESS&gt;**\n</code></pre>\n<p>After that i started my server and downloaded the client certificates via the below mentioned openssl command</p>\n<pre><code>**openssl s_client -showcerts -connect &lt;IP_ADDRESS&gt;:443 &lt; /dev/null | openssl x509 -outform PEM &gt; myCert.pem**\n</code></pre>\n<p>Then i imported this client certificate to the java default keystore file (cacerts) of my client machine by the below mentioned command</p>\n<pre><code>**keytool -import -trustcacerts -keystore /home/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.242.b08-1.el7.x86_64/jre/lib/security/cacerts -alias &lt;IP_ADDRESS&gt; -file ./mycert.pem**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3673241,"reputation":1185,"user_id":3059896,"display_name":"Shehan Simen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1615772855,"creation_date":1615772517,"answer_id":66631355,"question_id":19540289,"body_markdown":"As some one pointed before, I added the following code (with lambda) just before creating the RestTemplate object, and it works fine. IT is only for my internal testing class, so I will work around with a better solution for the production code.\r\n\r\n    javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(\r\n                (hostname, sslSession) -&gt; true);","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>As some one pointed before, I added the following code (with lambda) just before creating the RestTemplate object, and it works fine. IT is only for my internal testing class, so I will work around with a better solution for the production code.</p>\n<pre><code>javax.net.ssl.HttpsURLConnection.setDefaultHostnameVerifier(\n            (hostname, sslSession) -&gt; true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8122139,"reputation":41,"user_id":6118500,"display_name":"Cesar Martinez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621459674,"creation_date":1621458949,"answer_id":67611023,"question_id":19540289,"body_markdown":"We faced a similar issue recently &quot;No subject alternative DNS name matching &lt;host&gt; found&quot;, it was a nightmare because we were able to reproduce it only in Production servers, were access to debug is near to zero. The rest of environments were just working fine. Our stack was JDK 1.8.x+, JBoss EAP 7+, Java Spring Boot app and Okta as identity provider (the SSL handshake was failing when recovering the well-known configuration from Okta, where okta is available in AWS Cloud - virtual servers).\r\n\r\nFinally, we discover that (no one knows why) the JBoss EAP application server that we were using it was having an additional JVM System Property:\r\n\r\n**jsse.enableSNIExtension = false**\r\n\r\nThis was preventing to establish TLS connection and we were able to reproduce the issue by adding that same system property/value in other environments. So the solution was simple to **remove that undesired property and value**.\r\n\r\nAs per Java Security Doc, this property is set by default to true for Java 7+ (refer to [https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html#InstallationAndCustomization][1])\r\n\r\n&gt; * jsse.enableSNIExtension system property. Server Name Indication (SNI) is a TLS extension, defined in RFC 4366. It enables TLS connections to virtual servers, in which multiple servers for different network names are hosted at a single underlying network address.\r\nSome very old SSL/TLS vendors may not be able handle SSL/TLS extensions. In this case, set this property to false to disable the SNI extension.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html#InstallationAndCustomization","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>We faced a similar issue recently &quot;No subject alternative DNS name matching  found&quot;, it was a nightmare because we were able to reproduce it only in Production servers, were access to debug is near to zero. The rest of environments were just working fine. Our stack was JDK 1.8.x+, JBoss EAP 7+, Java Spring Boot app and Okta as identity provider (the SSL handshake was failing when recovering the well-known configuration from Okta, where okta is available in AWS Cloud - virtual servers).</p>\n<p>Finally, we discover that (no one knows why) the JBoss EAP application server that we were using it was having an additional JVM System Property:</p>\n<p><strong>jsse.enableSNIExtension = false</strong></p>\n<p>This was preventing to establish TLS connection and we were able to reproduce the issue by adding that same system property/value in other environments. So the solution was simple to <strong>remove that undesired property and value</strong>.</p>\n<p>As per Java Security Doc, this property is set by default to true for Java 7+ (refer to <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html#InstallationAndCustomization\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/JSSERefGuide.html#InstallationAndCustomization</a>)</p>\n<blockquote>\n<ul>\n<li>jsse.enableSNIExtension system property. Server Name Indication (SNI) is a TLS extension, defined in RFC 4366. It enables TLS connections to virtual servers, in which multiple servers for different network names are hosted at a single underlying network address.\nSome very old SSL/TLS vendors may not be able handle SSL/TLS extensions. In this case, set this property to false to disable the SNI extension.</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10850699,"reputation":11,"user_id":7978553,"display_name":"Volcan Baru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633938255,"creation_date":1633877330,"answer_id":69516210,"question_id":19540289,"body_markdown":"I was referred to animo3991&#39;s answer and tweaked it to make my Bitbucket Backup Client 3.6.0 work for backing up my Bitbucket Server when before it was also hitting `No subject alternative names present` error.\r\n\r\nThe first command however must use `alias tomcat`, otherwise Bitbucket Server would not start up properly:\r\n```\r\nkeytool -genkey -keyalg RSA -sigalg SHA256withRSA -keystore keystore.jks -keysize 2048 -alias tomcat -ext san=ip:&lt;IP_ADDRESS&gt;\r\n\r\nopenssl s_client -showcerts -connect &lt;IP_ADDRESS&gt;:443 &lt; /dev/null | openssl x509 -outform PEM &gt; myCert.pem\r\n\r\nkeytool -import -trustcacerts -keystore /etc/pki/ca-trust/extracted/java/cacerts -alias &lt;IP_ADDRESS&gt; -file ./myCert.pem\r\n```","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>I was referred to animo3991's answer and tweaked it to make my Bitbucket Backup Client 3.6.0 work for backing up my Bitbucket Server when before it was also hitting <code>No subject alternative names present</code> error.</p>\n<p>The first command however must use <code>alias tomcat</code>, otherwise Bitbucket Server would not start up properly:</p>\n<pre><code>keytool -genkey -keyalg RSA -sigalg SHA256withRSA -keystore keystore.jks -keysize 2048 -alias tomcat -ext san=ip:&lt;IP_ADDRESS&gt;\n\nopenssl s_client -showcerts -connect &lt;IP_ADDRESS&gt;:443 &lt; /dev/null | openssl x509 -outform PEM &gt; myCert.pem\n\nkeytool -import -trustcacerts -keystore /etc/pki/ca-trust/extracted/java/cacerts -alias &lt;IP_ADDRESS&gt; -file ./myCert.pem\n</code></pre>\n"}],"owner":{"account_id":171799,"reputation":17641,"user_id":399457,"accept_rate":86,"display_name":"Glory to Russia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":643828,"favorite_count":0,"down_vote_count":3,"up_vote_count":153,"accepted_answer_id":19542614,"answer_count":22,"score":150,"last_activity_date":1696034845,"creation_date":1382527407,"question_id":19540289,"body_markdown":"I have a Java web service client, which consumes a web service via HTTPS.\r\n\r\n\timport javax.xml.ws.Service;\r\n\r\n\t@WebServiceClient(name = &quot;ISomeService&quot;, targetNamespace = &quot;http://tempuri.org/&quot;, wsdlLocation = &quot;...&quot;)\r\n\tpublic class ISomeService\r\n\t\textends Service\r\n\t{\r\n\r\n\t\tpublic ISomeService() {\r\n\t\t\tsuper(__getWsdlLocation(), ISOMESERVICE_QNAME);\r\n\t\t}\r\n\r\n\r\nWhen I connect to the service URL (`https://AAA.BBB.CCC.DDD:9443/ISomeService` ), I get the exception `java.security.cert.CertificateException: No subject alternative names present`.\r\n\r\nTo fix it, I first ran `openssl s_client -showcerts -connect AAA.BBB.CCC.DDD:9443  &gt; certs.txt` and got following content in file `certs.txt`:\r\n\r\n\tCONNECTED(00000003)\r\n\t---\r\n\tCertificate chain\r\n\t 0 s:/CN=someSubdomain.someorganisation.com\r\n\t   i:/CN=someSubdomain.someorganisation.com\r\n\t-----BEGIN CERTIFICATE-----\r\n\tXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n\tXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n\tXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n\tXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n\tXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n\tXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n\tXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n\tXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n\t-----END CERTIFICATE-----\r\n\t---\r\n\tServer certificate\r\n\tsubject=/CN=someSubdomain.someorganisation.com\r\n\tissuer=/CN=someSubdomain.someorganisation.com\r\n\t---\r\n\tNo client certificate CA names sent\r\n\t---\r\n\tSSL handshake has read 489 bytes and written 236 bytes\r\n\t---\r\n\tNew, TLSv1/SSLv3, Cipher is RC4-MD5\r\n\tServer public key is 512 bit\r\n\tCompression: NONE\r\n\tExpansion: NONE\r\n\tSSL-Session:\r\n\t\tProtocol  : TLSv1\r\n\t\tCipher    : RC4-MD5            \r\n\t\tSession-ID: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n\t\tSession-ID-ctx: \t            \r\n\t\tMaster-Key: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\r\n\t\tKey-Arg   : None\r\n\t\tStart Time: 1382521838\r\n\t\tTimeout   : 300 (sec)\r\n\t\tVerify return code: 21 (unable to verify the first certificate)\r\n\t---\r\n\r\nAFAIK, now I need to\r\n\r\n  1. extract the part of `certs.txt` between `-----BEGIN CERTIFICATE-----` and `-----END CERTIFICATE-----`,\r\n  1. modify it so that the certificate name is equal to `AAA.BBB.CCC.DDD` and\r\n  1. then import the result using `keytool -importcert -file fileWithModifiedCertificate` (where `fileWithModifiedCertificate` is the result of operations 1 and 2).\r\n\r\nIs this correct?\r\n\r\nIf so, how exactly can I make the certificate from step 1 work with IP-based adddress (`AAA.BBB.CCC.DDD`) ?\r\n\r\n**Update 1 (23.10.2013 15:37 MSK):** In an answer to a [similar question][1], I read the following:\r\n\r\n&gt; If you&#39;re not in control of that server, use its host name (provided\r\n&gt; that there is at least a CN matching that host name in the existing\r\n&gt; cert).\r\n\r\nWhat exactly does &quot;use&quot; mean?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12792586/no-subject-alternative-names-present-exception-when-creating-web-service-client?rq=1","title":"How to fix the &quot;java.security.cert.CertificateException: No subject alternative names present&quot; error?","body":"<p>I have a Java web service client, which consumes a web service via HTTPS.</p>\n\n<pre><code>import javax.xml.ws.Service;\n\n@WebServiceClient(name = \"ISomeService\", targetNamespace = \"http://tempuri.org/\", wsdlLocation = \"...\")\npublic class ISomeService\n    extends Service\n{\n\n    public ISomeService() {\n        super(__getWsdlLocation(), ISOMESERVICE_QNAME);\n    }\n</code></pre>\n\n<p>When I connect to the service URL (<code>https://AAA.BBB.CCC.DDD:9443/ISomeService</code> ), I get the exception <code>java.security.cert.CertificateException: No subject alternative names present</code>.</p>\n\n<p>To fix it, I first ran <code>openssl s_client -showcerts -connect AAA.BBB.CCC.DDD:9443  &gt; certs.txt</code> and got following content in file <code>certs.txt</code>:</p>\n\n<pre><code>CONNECTED(00000003)\n---\nCertificate chain\n 0 s:/CN=someSubdomain.someorganisation.com\n   i:/CN=someSubdomain.someorganisation.com\n-----BEGIN CERTIFICATE-----\nXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\nXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\nXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\nXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\nXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\nXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\nXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\nXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n-----END CERTIFICATE-----\n---\nServer certificate\nsubject=/CN=someSubdomain.someorganisation.com\nissuer=/CN=someSubdomain.someorganisation.com\n---\nNo client certificate CA names sent\n---\nSSL handshake has read 489 bytes and written 236 bytes\n---\nNew, TLSv1/SSLv3, Cipher is RC4-MD5\nServer public key is 512 bit\nCompression: NONE\nExpansion: NONE\nSSL-Session:\n    Protocol  : TLSv1\n    Cipher    : RC4-MD5            \n    Session-ID: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n    Session-ID-ctx:                 \n    Master-Key: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n    Key-Arg   : None\n    Start Time: 1382521838\n    Timeout   : 300 (sec)\n    Verify return code: 21 (unable to verify the first certificate)\n---\n</code></pre>\n\n<p>AFAIK, now I need to</p>\n\n<ol>\n<li>extract the part of <code>certs.txt</code> between <code>-----BEGIN CERTIFICATE-----</code> and <code>-----END CERTIFICATE-----</code>,</li>\n<li>modify it so that the certificate name is equal to <code>AAA.BBB.CCC.DDD</code> and</li>\n<li>then import the result using <code>keytool -importcert -file fileWithModifiedCertificate</code> (where <code>fileWithModifiedCertificate</code> is the result of operations 1 and 2).</li>\n</ol>\n\n<p>Is this correct?</p>\n\n<p>If so, how exactly can I make the certificate from step 1 work with IP-based adddress (<code>AAA.BBB.CCC.DDD</code>) ?</p>\n\n<p><strong>Update 1 (23.10.2013 15:37 MSK):</strong> In an answer to a <a href=\"https://stackoverflow.com/questions/12792586/no-subject-alternative-names-present-exception-when-creating-web-service-client?rq=1\">similar question</a>, I read the following:</p>\n\n<blockquote>\n  <p>If you're not in control of that server, use its host name (provided\n  that there is at least a CN matching that host name in the existing\n  cert).</p>\n</blockquote>\n\n<p>What exactly does \"use\" mean?</p>\n"},{"tags":["java","maven","gitlab-ci","slf4j"],"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696030664,"creation_date":1696030664,"question_id":77205209,"body_markdown":"Using `MAVEN_OPTS=-Dorg.slf4j.simpleLogger.showDateTime=true` makes it print out the milliseconds since maven command started in front of every line of output. So far, so good.\r\n\r\nNow i would like to add a `-Dorg.slf4j.simpleLogger.dateTimeFormat` to the MAVEN_OPTS so that it also displays minutes, seconds, and milliseconds since the job started, because seeing something like `151875 [INFO]` in a CI job log is not very intuitive and can be misleading ‚Äì `2m31s875ms` or `2:31.875` is much more readable and to the point.\r\n\r\nI could live with just `151.875` for starters, but i&#39;m struggling to even achieve that. I tried `-Dorg.slf4j.simpleLogger.dateTimeFormat=ss.SSS` but as soon as i add that to MAVEN_OPTS it starts to print out *absolute* time again (in other words, it tells the clock) rather than *relative* time since maven started.","title":"Format slf4j.simpleLogger relative time (incl. milliseconds) since maven start","body":"<p>Using <code>MAVEN_OPTS=-Dorg.slf4j.simpleLogger.showDateTime=true</code> makes it print out the milliseconds since maven command started in front of every line of output. So far, so good.</p>\n<p>Now i would like to add a <code>-Dorg.slf4j.simpleLogger.dateTimeFormat</code> to the MAVEN_OPTS so that it also displays minutes, seconds, and milliseconds since the job started, because seeing something like <code>151875 [INFO]</code> in a CI job log is not very intuitive and can be misleading ‚Äì <code>2m31s875ms</code> or <code>2:31.875</code> is much more readable and to the point.</p>\n<p>I could live with just <code>151.875</code> for starters, but i'm struggling to even achieve that. I tried <code>-Dorg.slf4j.simpleLogger.dateTimeFormat=ss.SSS</code> but as soon as i add that to MAVEN_OPTS it starts to print out <em>absolute</em> time again (in other words, it tells the clock) rather than <em>relative</em> time since maven started.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data"],"comments":[{"owner":{"account_id":6790343,"reputation":1483,"user_id":5227721,"display_name":"Berk Kurkcuoglu"},"score":1,"creation_date":1696029594,"post_id":77204316,"comment_id":136106471,"body_markdown":"Not a direct answer maybe but I think you should have a look at spring data envers, no need to reinvent the wheel: https://docs.spring.io/spring-data/envers/docs/current/reference/html/","body":"Not a direct answer maybe but I think you should have a look at spring data envers, no need to reinvent the wheel: <a href=\"https://docs.spring.io/spring-data/envers/docs/current/reference/html/\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/envers/docs/current/reference/htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":1,"creation_date":1696057638,"post_id":77204316,"comment_id":136107936,"body_markdown":"Please use Hibernate Enver Audits. See here: https://github.com/enexusde/Java-Spring-Boot-JPA-Enver-Audit-Hibernate-Tools-Reversengineer/blob/master/src/main/java/de/e_nexus/codereview/audit/CoolHistory.java","body":"Please use Hibernate Enver Audits. See here: <a href=\"https://github.com/enexusde/Java-Spring-Boot-JPA-Enver-Audit-Hibernate-Tools-Reversengineer/blob/master/src/main/java/de/e_nexus/codereview/audit/CoolHistory.java\" rel=\"nofollow noreferrer\">github.com/enexusde/&hellip;</a>"}],"owner":{"account_id":7275154,"reputation":1283,"user_id":5546850,"accept_rate":66,"display_name":"James"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696029149,"creation_date":1696014577,"question_id":77204316,"body_markdown":"im working on spring projet ,\r\ni have the following tables :\r\n\r\n    user\r\n    ----------------------\r\n    ID | salary | status |\r\n    ---------------------\r\n     1 |15000   | active |\r\n    ----------------------\r\n    ...\r\n    \r\n\r\nand i have my user entity :\r\n\r\n    @Entity\r\n    @Table(name = &quot;user&quot;)\r\n    public class User{\r\n    \t\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      private Integer id;\r\n    \r\n      private Double salary;\r\n    \r\n      private String status;\r\n      \r\n      //....\r\n    \t\r\n    }\r\n\r\nnow i will create  a new table to store history of my user with onetoMany , this is my table : \r\n\r\n    user_history\r\n    ------------------------------\r\n    ID |ID_USER| salary | status |\r\n    ------------------------------\r\n     1 |  1    |15000   | active |\r\n    -----------------------------\r\n     2 |  1    |16000   | inactiv|\r\n    -----------------------------\r\n    ...\r\n\r\nand i want to use the same java User entity to store the user object in my new user_history table.\r\ndo you have any idea how i can do this ","title":"Spring Data JPA map 2 tables with same java Entity","body":"<p>im working on spring projet ,\ni have the following tables :</p>\n<pre><code>user\n----------------------\nID | salary | status |\n---------------------\n 1 |15000   | active |\n----------------------\n...\n</code></pre>\n<p>and i have my user entity :</p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User{\n    \n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Integer id;\n\n  private Double salary;\n\n  private String status;\n  \n  //....\n    \n}\n</code></pre>\n<p>now i will create  a new table to store history of my user with onetoMany , this is my table :</p>\n<pre><code>user_history\n------------------------------\nID |ID_USER| salary | status |\n------------------------------\n 1 |  1    |15000   | active |\n-----------------------------\n 2 |  1    |16000   | inactiv|\n-----------------------------\n...\n</code></pre>\n<p>and i want to use the same java User entity to store the user object in my new user_history table.\ndo you have any idea how i can do this</p>\n"},{"tags":["java","oracle","jdbc","oracle-wallet"],"comments":[{"owner":{"account_id":1281523,"reputation":1546,"user_id":1235535,"accept_rate":71,"display_name":"Atul"},"score":0,"creation_date":1488474840,"post_id":42560669,"comment_id":72257596,"body_markdown":"Looks like wallet location issue as ORA-17168 means\nencountered a problem with the Secret Store. Check the wallet location for the presence of an open wallet (cwallet.sso) and ensure that this wallet contains the correct credentials using the mkstore utility. Check if you are pointing to right location.","body":"Looks like wallet location issue as ORA-17168 means encountered a problem with the Secret Store. Check the wallet location for the presence of an open wallet (cwallet.sso) and ensure that this wallet contains the correct credentials using the mkstore utility. Check if you are pointing to right location."},{"owner":{"account_id":8202043,"reputation":365,"user_id":6173082,"display_name":"Roberto Benazzato"},"score":0,"creation_date":1488474982,"post_id":42560669,"comment_id":72257676,"body_markdown":"the path are correct, and cwallet.sso is in there.  Moreover I test he contets of the keystore using mkstore utility and the entry for XE is present","body":"the path are correct, and cwallet.sso is in there.  Moreover I test he contets of the keystore using mkstore utility and the entry for XE is present"}],"answers":[{"tags":[],"owner":{"account_id":12915264,"reputation":1,"user_id":9339756,"display_name":"LostInJava"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1555607092,"creation_date":1518198667,"answer_id":48711493,"question_id":42560669,"body_markdown":"SQLNET.AUTHENTICATION_SERVICES = (NTS)  \r\n\r\nThat should that be TNS instead of NTS. ","title":"JDBC oracle wallet connection","body":"<p>SQLNET.AUTHENTICATION_SERVICES = (NTS)  </p>\n\n<p>That should that be TNS instead of NTS. </p>\n"},{"tags":[],"owner":{"account_id":9114529,"reputation":1,"user_id":6782013,"display_name":"Mihai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536295487,"creation_date":1536295487,"answer_id":52215442,"question_id":42560669,"body_markdown":"This is very old topic .\r\n-TNS_ADMIN should point to the wallet location ( C:\\wallet2 )\r\n-in tnsnames.ora wallet_location is C:\\wallet2 not c:/walet as you have ","title":"JDBC oracle wallet connection","body":"<p>This is very old topic .\n-TNS_ADMIN should point to the wallet location ( C:\\wallet2 )\n-in tnsnames.ora wallet_location is C:\\wallet2 not c:/walet as you have </p>\n"},{"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575405091,"creation_date":1575405091,"answer_id":59164884,"question_id":42560669,"body_markdown":"I think that your `ewallet.p12` file is protected by password.\r\n\r\nYou need do setup the `oracle.net.wallet_password` property with the password:\r\n\r\n    System.setProperty(&quot;oracle.net.wallet_password&quot;, &quot;PASSWORD&quot;);\r\n\r\nIf the password is specified, [the driver looks][1] for the p12 file, otherwise it uses the sso file.\r\n\r\n\r\n  [1]: https://www.oracle.com/technetwork/database/enterprise-edition/wp-oracle-jdbc-thin-ssl-130128.pdf","title":"JDBC oracle wallet connection","body":"<p>I think that your <code>ewallet.p12</code> file is protected by password.</p>\n\n<p>You need do setup the <code>oracle.net.wallet_password</code> property with the password:</p>\n\n<pre><code>System.setProperty(\"oracle.net.wallet_password\", \"PASSWORD\");\n</code></pre>\n\n<p>If the password is specified, <a href=\"https://www.oracle.com/technetwork/database/enterprise-edition/wp-oracle-jdbc-thin-ssl-130128.pdf\" rel=\"nofollow noreferrer\">the driver looks</a> for the p12 file, otherwise it uses the sso file.</p>\n"}],"owner":{"account_id":8202043,"reputation":365,"user_id":6173082,"display_name":"Roberto Benazzato"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9198,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1696028565,"creation_date":1488471851,"question_id":42560669,"body_markdown":"I am facing a problem connecting my java application to an oracle database using oracle wallet as password store.\r\n  \r\nTo isolate the problem I made a small Main class as follow:\r\n\r\n    public static void main(String[] args) {\r\n    Connection conn;\r\n    try {\r\n    Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n    System.setProperty(&quot;oracle.net.tns_admin&quot;, &quot;c:\\\\tns&quot;);\r\n    OracleDataSource ds = new OracleDataSource();\r\n    Properties props = new Properties();\r\n    System.setProperty(&quot;oracle.net.wallet_location&quot;, &quot;c:/wallet2&quot;);\r\n            \r\n    ds.setConnectionProperties(props);\r\n    ds.setURL(&quot;jdbc:oracle:thin:/@XE2&quot;);\r\n    Provider p;\r\n    p = new OraclePKIProvider();\r\n    Security.insertProviderAt(p, 3);\r\n    conn = ds.getConnection();\r\n           \r\n    } catch (SQLException ex) {\r\n    Logger.getLogger(main.class.getName()).log(Level.SEVERE, null, ex);\r\n    \r\n    } catch (ClassNotFoundException ex) {\r\n    Logger.getLogger(main.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n\r\nin the directory c:\\tns I&#39;ve the following files:\r\n\r\n    sqlnet.ora\r\n    tnsnames.ora\r\n\r\nthis is the listing for sqlnet.ora\r\n\r\n    SQLNET.AUTHENTICATION_SERVICES = (NTS)\r\n    names.directory_path = TNSNAMES\r\n    SQLNET.WALLET_OVERRIDE = TRUE\r\n    #WALLET_LOCATION = (SOURCE=(METHOD=FILE)METHOD_DATA=(DIRECTORY=c:\\wallet))\r\n    WALLET_LOCATION = (SOURCE=(METHOD=FILE)(METHOD_DATA=(DIRECTORY=c:/wallet)))\r\nthat for the tnsnames\r\n\r\n    ...\r\n    XE2 =\r\n      (DESCRIPTION =\r\n        (ADDRESS = (PROTOCOL = TCP)(HOST = 127.0.0.1)(PORT = 1521))\r\n        (CONNECT_DATA =\r\n          (SERVER = DEDICATED)\r\n          (SERVICE_NAME = XE)\r\n        )\r\n      )\r\nIn c:\\wallet2 there are the following files:\r\n\r\n    cwallet.sso\r\n    ewallet.p12\r\n\r\nthe file was previously generated with orapki and there is my entry named XE2 with the correct credential.  When I run the code I get the following exception\r\n\r\n    Could not open wallet. java.io.IOException: Could not open wallet. Check password\r\nenabling the oracle trace I can see these lines:\r\n\r\n    mar 02, 2017 3:57:00 PM oracle.jdbc.driver.DatabaseError findMessage\r\n    TRACE_30:          Enter: &quot;ORA-17168&quot;, java.io.IOException: Could not open wallet. java.io.IOException: Could not open wallet. Check password\r\n    mar 02, 2017 3:57:00 PM oracle.jdbc.driver.Message11 msg\r\n    TRACE_30: 72B6CBCC Enter: &quot;ORA-17168&quot;, java.io.IOException: Could not open wallet. java.io.IOException: Could not open wallet. Check password\r\n    mar 02, 2017 3:57:00 PM oracle.jdbc.driver.Message11 msg\r\n    TRACE_30: 72B6CBCC Exit [0.066509ms]\r\n\r\nand \r\n\r\n    mar 02, 2017 3:57:00 PM oracle.jdbc.driver.PhysicalConnection getSecretStoreCredentials\r\n    GRAVE:          Throwing SQLException: 168java.io.IOException: Could not open wallet. java.io.IOException: Could not open wallet. Check password\r\n\r\nAnyone can help me?\r\nThanks for reading.\r\nr.","title":"JDBC oracle wallet connection","body":"<p>I am facing a problem connecting my java application to an oracle database using oracle wallet as password store.</p>\n\n<p>To isolate the problem I made a small Main class as follow:</p>\n\n<pre><code>public static void main(String[] args) {\nConnection conn;\ntry {\nClass.forName(\"oracle.jdbc.driver.OracleDriver\");\nSystem.setProperty(\"oracle.net.tns_admin\", \"c:\\\\tns\");\nOracleDataSource ds = new OracleDataSource();\nProperties props = new Properties();\nSystem.setProperty(\"oracle.net.wallet_location\", \"c:/wallet2\");\n\nds.setConnectionProperties(props);\nds.setURL(\"jdbc:oracle:thin:/@XE2\");\nProvider p;\np = new OraclePKIProvider();\nSecurity.insertProviderAt(p, 3);\nconn = ds.getConnection();\n\n} catch (SQLException ex) {\nLogger.getLogger(main.class.getName()).log(Level.SEVERE, null, ex);\n\n} catch (ClassNotFoundException ex) {\nLogger.getLogger(main.class.getName()).log(Level.SEVERE, null, ex);\n}\n</code></pre>\n\n<p>in the directory c:\\tns I've the following files:</p>\n\n<pre><code>sqlnet.ora\ntnsnames.ora\n</code></pre>\n\n<p>this is the listing for sqlnet.ora</p>\n\n<pre><code>SQLNET.AUTHENTICATION_SERVICES = (NTS)\nnames.directory_path = TNSNAMES\nSQLNET.WALLET_OVERRIDE = TRUE\n#WALLET_LOCATION = (SOURCE=(METHOD=FILE)METHOD_DATA=(DIRECTORY=c:\\wallet))\nWALLET_LOCATION = (SOURCE=(METHOD=FILE)(METHOD_DATA=(DIRECTORY=c:/wallet)))\n</code></pre>\n\n<p>that for the tnsnames</p>\n\n<pre><code>...\nXE2 =\n  (DESCRIPTION =\n    (ADDRESS = (PROTOCOL = TCP)(HOST = 127.0.0.1)(PORT = 1521))\n    (CONNECT_DATA =\n      (SERVER = DEDICATED)\n      (SERVICE_NAME = XE)\n    )\n  )\n</code></pre>\n\n<p>In c:\\wallet2 there are the following files:</p>\n\n<pre><code>cwallet.sso\newallet.p12\n</code></pre>\n\n<p>the file was previously generated with orapki and there is my entry named XE2 with the correct credential.  When I run the code I get the following exception</p>\n\n<pre><code>Could not open wallet. java.io.IOException: Could not open wallet. Check password\n</code></pre>\n\n<p>enabling the oracle trace I can see these lines:</p>\n\n<pre><code>mar 02, 2017 3:57:00 PM oracle.jdbc.driver.DatabaseError findMessage\nTRACE_30:          Enter: \"ORA-17168\", java.io.IOException: Could not open wallet. java.io.IOException: Could not open wallet. Check password\nmar 02, 2017 3:57:00 PM oracle.jdbc.driver.Message11 msg\nTRACE_30: 72B6CBCC Enter: \"ORA-17168\", java.io.IOException: Could not open wallet. java.io.IOException: Could not open wallet. Check password\nmar 02, 2017 3:57:00 PM oracle.jdbc.driver.Message11 msg\nTRACE_30: 72B6CBCC Exit [0.066509ms]\n</code></pre>\n\n<p>and </p>\n\n<pre><code>mar 02, 2017 3:57:00 PM oracle.jdbc.driver.PhysicalConnection getSecretStoreCredentials\nGRAVE:          Throwing SQLException: 168java.io.IOException: Could not open wallet. java.io.IOException: Could not open wallet. Check password\n</code></pre>\n\n<p>Anyone can help me?\nThanks for reading.\nr.</p>\n"},{"tags":["java","json","gson","jsonreader"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1696028684,"post_id":77205140,"comment_id":136106396,"body_markdown":"I recommend defining classes for the objects in your JSON file. Then use any of the techniques described [here](https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java) to parse directly into a class-based data structure.","body":"I recommend defining classes for the objects in your JSON file. Then use any of the techniques described <a href=\"https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java\">here</a> to parse directly into a class-based data structure."},{"owner":{"account_id":19251103,"reputation":234,"user_id":14069069,"display_name":"elementmg"},"score":0,"creation_date":1696029085,"post_id":77205140,"comment_id":136106430,"body_markdown":"Defining classes to simply get the values of Json objects in an array seems like a lot of extra steps. Im basically converting the code from using org.json.JSONObjects to instead stream the data using gson.JSONReader If i can simply access the required data in a few lines of code using org.json.JSONObjects, it should be fairly staright forward to stream it as well, no? Im clearly missing something here.","body":"Defining classes to simply get the values of Json objects in an array seems like a lot of extra steps. Im basically converting the code from using org.json.JSONObjects to instead stream the data using gson.JSONReader If i can simply access the required data in a few lines of code using org.json.JSONObjects, it should be fairly staright forward to stream it as well, no? Im clearly missing something here."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1696029638,"post_id":77205140,"comment_id":136106474,"body_markdown":"You might want to try [JsonPath](https://github.com/json-path/JsonPath)","body":"You might want to try <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">JsonPath</a>"}],"owner":{"account_id":19251103,"reputation":234,"user_id":14069069,"display_name":"elementmg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696028509,"creation_date":1696028509,"question_id":77205140,"body_markdown":"I&#39;m working with JsonReader for the first time and I&#39;m trying to grab values within an array. Basically what I&#39;ve found is to drill deep down into a JSON file it seems like there is a ton of repetition and loops. Surely there is a better way to do this? This looks plain awful. Is there a way to read and access (for example the DocumentList array) things directly? I&#39;m convinced I don&#39;t know what I&#39;m doing when I look at the mess below. \r\n\r\nIs there a way to simply just loop through the documents objects and grab the required values, do work, them move to the next documents object? \r\n\r\n```\r\n      streamReader = new InputStreamReader(inputStream, StandardCharsets.UTF_8.toString());\r\n      jsonReader = new JsonReader(streamReader);\r\n      jsonReader.beginObject();\r\n      while (jsonReader.hasNext()) {\r\n          final String name = jsonReader.nextName();\r\n          if (&quot;Level1&quot;.equals(name)) {\r\n              jsonReader.beginObject();\r\n              while (jsonReader.hasNext()) {\r\n                  final String listName = jsonReader.nextName();\r\n                  if (&quot;DocumentList&quot;.equals(listName)) {\r\n                      jsonReader.beginArray();\r\n                      while (jsonReader.hasNext()) {\r\n                          jsonReader.beginObject();\r\n                          while (jsonReader.hasNext()) {\r\n                              final String key = jsonReader.nextName();\r\n                              if (&quot;Documents&quot;.equals(key)) {\r\n                                  jsonReader.beginObject();\r\n                                  while (jsonReader.hasNext()) {\r\n                                      final String fieldKey = jsonReader.nextName();\r\n                                      if (&quot;ID&quot;.equals(fieldKey)) {\r\n                                        report.id = jsonReader.nextString();\r\n                                      } \r\n                                      else if (&quot;CName&quot;.equals(fieldKey)) {\r\n                                        report.CName = jsonReader.nextString();\r\n                                      } \r\n                                      else if (&quot;Ext&quot;.equals(fieldKey)) {\r\n                                        report.Ext = jsonReader.nextString();\r\n                                      } \r\n                                      else {\r\n                                        jsonReader.skipValue();\r\n                                      }\r\n                                  }\r\n                                  jsonReader.endObject();\r\n\r\n                                  //DO work on report (contents of &quot;Documents&quot;)\r\n                              } \r\n                              else {\r\n                                jsonReader.skipValue();\r\n                              }\r\n                          }\r\n                          jsonReader.endObject();\r\n                      }\r\n                      jsonReader.endArray();\r\n                  } \r\n                  else {\r\n                    jsonReader.skipValue();\r\n                  }\r\n              }\r\n              jsonReader.endObject();\r\n          } \r\n          else {\r\n            jsonReader.skipValue();\r\n          }\r\n      }\r\n      jsonReader.endObject();\r\n```\r\n\r\nHere is the sample JSON format that im working with \r\n\r\n```\r\n{\r\n  &quot;Level1&quot;: {\r\n    &quot;DocumentList&quot;: [\r\n      {\r\n        &quot;Documents&quot;: {\r\n          &quot;ID&quot;: &quot;123&quot;,\r\n          &quot;CName&quot;: &quot;name&quot;,\r\n          &quot;SecurityStatus&quot;: &quot;P&quot;,\r\n          &quot;Ext&quot;: &quot;abc&quot;,\r\n          &quot;Prefix&quot;: &quot;pre&quot;,\r\n        }\r\n      },\r\n      {\r\n        &quot;Documents&quot;: {\r\n          &quot;ID&quot;: &quot;321&quot;,\r\n          &quot;CName&quot;: &quot;name2&quot;,\r\n          &quot;SecurityStatus&quot;: &quot;Q&quot;,\r\n          &quot;Ext&quot;: &quot;bca&quot;,\r\n          &quot;Prefix&quot;: &quot;post&quot;,\r\n        }\r\n      },\r\n\t        {\r\n        &quot;Documents&quot;: {\r\n          &quot;ID&quot;: &quot;456&quot;,\r\n          &quot;CName&quot;: &quot;name3&quot;,\r\n          &quot;SecurityStatus&quot;: &quot;S&quot;,\r\n          &quot;Ext&quot;: &quot;def&quot;,\r\n          &quot;Prefix&quot;: &quot;dur&quot;,\r\n        }\r\n      },\r\n    ]\r\n  }\r\n}\r\n```","title":"Drilling deep into JSON file with Gson JsonReader","body":"<p>I'm working with JsonReader for the first time and I'm trying to grab values within an array. Basically what I've found is to drill deep down into a JSON file it seems like there is a ton of repetition and loops. Surely there is a better way to do this? This looks plain awful. Is there a way to read and access (for example the DocumentList array) things directly? I'm convinced I don't know what I'm doing when I look at the mess below.</p>\n<p>Is there a way to simply just loop through the documents objects and grab the required values, do work, them move to the next documents object?</p>\n<pre><code>      streamReader = new InputStreamReader(inputStream, StandardCharsets.UTF_8.toString());\n      jsonReader = new JsonReader(streamReader);\n      jsonReader.beginObject();\n      while (jsonReader.hasNext()) {\n          final String name = jsonReader.nextName();\n          if (&quot;Level1&quot;.equals(name)) {\n              jsonReader.beginObject();\n              while (jsonReader.hasNext()) {\n                  final String listName = jsonReader.nextName();\n                  if (&quot;DocumentList&quot;.equals(listName)) {\n                      jsonReader.beginArray();\n                      while (jsonReader.hasNext()) {\n                          jsonReader.beginObject();\n                          while (jsonReader.hasNext()) {\n                              final String key = jsonReader.nextName();\n                              if (&quot;Documents&quot;.equals(key)) {\n                                  jsonReader.beginObject();\n                                  while (jsonReader.hasNext()) {\n                                      final String fieldKey = jsonReader.nextName();\n                                      if (&quot;ID&quot;.equals(fieldKey)) {\n                                        report.id = jsonReader.nextString();\n                                      } \n                                      else if (&quot;CName&quot;.equals(fieldKey)) {\n                                        report.CName = jsonReader.nextString();\n                                      } \n                                      else if (&quot;Ext&quot;.equals(fieldKey)) {\n                                        report.Ext = jsonReader.nextString();\n                                      } \n                                      else {\n                                        jsonReader.skipValue();\n                                      }\n                                  }\n                                  jsonReader.endObject();\n\n                                  //DO work on report (contents of &quot;Documents&quot;)\n                              } \n                              else {\n                                jsonReader.skipValue();\n                              }\n                          }\n                          jsonReader.endObject();\n                      }\n                      jsonReader.endArray();\n                  } \n                  else {\n                    jsonReader.skipValue();\n                  }\n              }\n              jsonReader.endObject();\n          } \n          else {\n            jsonReader.skipValue();\n          }\n      }\n      jsonReader.endObject();\n</code></pre>\n<p>Here is the sample JSON format that im working with</p>\n<pre><code>{\n  &quot;Level1&quot;: {\n    &quot;DocumentList&quot;: [\n      {\n        &quot;Documents&quot;: {\n          &quot;ID&quot;: &quot;123&quot;,\n          &quot;CName&quot;: &quot;name&quot;,\n          &quot;SecurityStatus&quot;: &quot;P&quot;,\n          &quot;Ext&quot;: &quot;abc&quot;,\n          &quot;Prefix&quot;: &quot;pre&quot;,\n        }\n      },\n      {\n        &quot;Documents&quot;: {\n          &quot;ID&quot;: &quot;321&quot;,\n          &quot;CName&quot;: &quot;name2&quot;,\n          &quot;SecurityStatus&quot;: &quot;Q&quot;,\n          &quot;Ext&quot;: &quot;bca&quot;,\n          &quot;Prefix&quot;: &quot;post&quot;,\n        }\n      },\n            {\n        &quot;Documents&quot;: {\n          &quot;ID&quot;: &quot;456&quot;,\n          &quot;CName&quot;: &quot;name3&quot;,\n          &quot;SecurityStatus&quot;: &quot;S&quot;,\n          &quot;Ext&quot;: &quot;def&quot;,\n          &quot;Prefix&quot;: &quot;dur&quot;,\n        }\n      },\n    ]\n  }\n}\n</code></pre>\n"},{"tags":["java","performance","reflection","methodhandle","varhandle"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1695846745,"post_id":77190325,"comment_id":136080162,"body_markdown":"Maybe you can cache your `VarHandle`s in a `Map` with class and field name (or maybe even the `Field` instance) as key and the `VarHandle` as value?","body":"Maybe you can cache your <code>VarHandle</code>s in a <code>Map</code> with class and field name (or maybe even the <code>Field</code> instance) as key and the <code>VarHandle</code> as value?"},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1695847715,"post_id":77190325,"comment_id":136080364,"body_markdown":"@ThomasKl&#228;ger I tried putting it in a `static final AtomicReference&lt;VarHandle&gt;` but it was slower still. Making it `static` is allowing some compiler magic to happen - happy to hear of a clever way to have static-but-not-actually variables!","body":"@ThomasKl&#228;ger I tried putting it in a <code>static final AtomicReference&lt;VarHandle&gt;</code> but it was slower still. Making it <code>static</code> is allowing some compiler magic to happen - happy to hear of a clever way to have static-but-not-actually variables!"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1695847940,"post_id":77190325,"comment_id":136080400,"body_markdown":"What kind of ecosystem is this taking place in? Perhaps you could generate classes at compile-time (e.g., via an annotation processor) or at run-time and avoid reflection (when it comes to &quot;getting&quot; the value of a field). Doing this would probably make your project much more complex, however, and I can&#39;t promise an acceptable performance improvement.","body":"What kind of ecosystem is this taking place in? Perhaps you could generate classes at compile-time (e.g., via an annotation processor) or at run-time and avoid reflection (when it comes to &quot;getting&quot; the value of a field). Doing this would probably make your project much more complex, however, and I can&#39;t promise an acceptable performance improvement."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1695848166,"post_id":77190325,"comment_id":136080441,"body_markdown":"What happens if you use an `@State` object for storing the `VarHandle` with an `@Setup` method for creating it? You can inject it using a parameter to the `@Benchmark`. I think that JMH might (not) reuse the instance of your benchmark class.","body":"What happens if you use an <code>@State</code> object for storing the <code>VarHandle</code> with an <code>@Setup</code> method for creating it? You can inject it using a parameter to the <code>@Benchmark</code>. I think that JMH might (not) reuse the instance of your benchmark class."},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1695851114,"post_id":77190325,"comment_id":136080843,"body_markdown":"@Slaw if you take a serialization library use case, even at compile time the objects it could interact with aren&#39;t known.","body":"@Slaw if you take a serialization library use case, even at compile time the objects it could interact with aren&#39;t known."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1695852513,"post_id":77190325,"comment_id":136081022,"body_markdown":"@dan1st Not sure if this is exactly what you mean, but I&#39;m seeing the same pattern as the OP with this code: https://gitlab.com/-/snippets/3603650","body":"@dan1st Not sure if this is exactly what you mean, but I&#39;m seeing the same pattern as the OP with this code: <a href=\"https://gitlab.com/-/snippets/3603650\" rel=\"nofollow noreferrer\">gitlab.com/-/snippets/3603650</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1695852640,"post_id":77190325,"comment_id":136081044,"body_markdown":"@Jack Yes, the classes you generate won&#39;t be known at compile time. But it goes from having to use reflection for every object you want to serialize to only having to use reflection once when instantiating the compile-time generated class and then not using reflection from then on.","body":"@Jack Yes, the classes you generate won&#39;t be known at compile time. But it goes from having to use reflection for every object you want to serialize to only having to use reflection once when instantiating the compile-time generated class and then not using reflection from then on."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1695856787,"post_id":77190325,"comment_id":136081463,"body_markdown":"@Jack I think I misunderstood what you meant by &quot;the objects it could interact with aren&#39;t known&quot;. Generating classes at compile-time would obviously require cooperation with the developers writing the classes to be used with your serialization library.","body":"@Jack I think I misunderstood what you meant by &quot;the objects it could interact with aren&#39;t known&quot;. Generating classes at compile-time would obviously require cooperation with the developers writing the classes to be used with your serialization library."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1695902127,"post_id":77190325,"comment_id":136087382,"body_markdown":"Reflection based serialization is nothing worth optimizing. The alternative is not to use Reflection based serialization. The benefit will be stability and security, but well, also performance, as far as performance matters for an I/O operation‚Ä¶","body":"Reflection based serialization is nothing worth optimizing. The alternative is not to use Reflection based serialization. The benefit will be stability and security, but well, also performance, as far as performance matters for an I/O operation‚Ä¶"}],"answers":[{"tags":[],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696027902,"creation_date":1696006204,"answer_id":77203611,"question_id":77190325,"body_markdown":"&gt; Is there an alternative way to outperform Field.get?\r\n\r\nThe [Lmbda][1] library\r\n\r\n\r\n```\r\nToIntFunction&lt;ReflectiveFieldAccessBenchmark&gt; lambdaFactory = LambdaFactory.create(new LambdaType&lt;ToIntFunction&lt;ReflectiveFieldAccessBenchmark&gt;&gt;() {\r\n        }, MethodHandles.lookup().unreflectGetter(field));\r\n\r\nlambdaFactoryBoxed.apply(this);\r\n```\r\n\r\n\r\n|      Implementation      |     ns/op    |\r\n|---------------------|------------------|\r\n|          Direct|         0.32|\r\n|          Reflection|         1.92       |\r\n|          Lmbda|         0.68       |\r\n\r\n  [1]: https://github.com/LanternPowered/Lmbda","title":"Java poor performance with non-static `VarHandle`","body":"<blockquote>\n<p>Is there an alternative way to outperform Field.get?</p>\n</blockquote>\n<p>The <a href=\"https://github.com/LanternPowered/Lmbda\" rel=\"nofollow noreferrer\">Lmbda</a> library</p>\n<pre><code>ToIntFunction&lt;ReflectiveFieldAccessBenchmark&gt; lambdaFactory = LambdaFactory.create(new LambdaType&lt;ToIntFunction&lt;ReflectiveFieldAccessBenchmark&gt;&gt;() {\n        }, MethodHandles.lookup().unreflectGetter(field));\n\nlambdaFactoryBoxed.apply(this);\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Implementation</th>\n<th>ns/op</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Direct</td>\n<td>0.32</td>\n</tr>\n<tr>\n<td>Reflection</td>\n<td>1.92</td>\n</tr>\n<tr>\n<td>Lmbda</td>\n<td>0.68</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77203611,"answer_count":1,"score":2,"last_activity_date":1696027902,"creation_date":1695842386,"question_id":77190325,"body_markdown":"I was investigating if replacing a `java.lang.reflect.Field.get` call with a `VarHandle` would improve performance, but instead it got slower.\r\n\r\nFrom benchmarking, I can see that when the `VarHandle` is `static`, it outperforms `Field.get` (obviously) - but when it&#39;s not, it&#39;s about twice as slow.\r\n\r\nFor my use-case, it needs to generic across unknown classes - so not static - e.g. think about serialization.\r\n\r\nIs there an alternative way to outperform `Field.get`?\r\n\r\nBenchmark:\r\n```\r\nimport org.openjdk.jmh.annotations.*;\r\nimport java.lang.invoke.*;\r\nimport java.lang.reflect.Field;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\n@BenchmarkMode(Mode.AverageTime)\r\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n@Warmup(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\r\n@Measurement(iterations = 200, time = 10, timeUnit = TimeUnit.MILLISECONDS)\r\n@State(Scope.Benchmark)\r\npublic class ReflectiveFieldAccessBenchmark {\r\n    static {\r\n        try {\r\n            field = ReflectiveFieldAccessBenchmark.class.getDeclaredField(&quot;count&quot;);\r\n        } catch (final ReflectiveOperationException e) {\r\n            throw new ExceptionInInitializerError(e);\r\n        }\r\n    }\r\n\r\n    private static final Field field;\r\n    private static final VarHandle staticVarHandle = getVarHandle();\r\n    private final VarHandle nonStaticVarHandle = getVarHandle();\r\n\r\n    private final Number count = new AtomicInteger(Integer.MAX_VALUE);\r\n\r\n    private static VarHandle getVarHandle() {\r\n        try {\r\n            return MethodHandles.lookup().unreflectVarHandle(field);\r\n        } catch (final ReflectiveOperationException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    @Benchmark\r\n    public Object reflection() throws Exception {\r\n        return field.get(this);\r\n    }\r\n\r\n    @Benchmark\r\n    public Object staticVarHandle() throws Exception {\r\n        return staticVarHandle.get(this);\r\n    }\r\n\r\n    @Benchmark\r\n    public Object nonStaticVarHandle() throws Exception {\r\n        return nonStaticVarHandle.get(this);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nBenchmark                                                                         Mode   Cnt   Score    Error   Units\r\nReflectiveFieldAccessBenchmark.nonStaticVarHandle                                 avgt  1000   3.485 &#177;  0.005   ns/op\r\nReflectiveFieldAccessBenchmark.reflection                                         avgt  1000   2.027 &#177;  0.002   ns/op\r\nReflectiveFieldAccessBenchmark.staticVarHandle                                    avgt  1000   0.433 &#177;  0.002   ns/op\r\n```","title":"Java poor performance with non-static `VarHandle`","body":"<p>I was investigating if replacing a <code>java.lang.reflect.Field.get</code> call with a <code>VarHandle</code> would improve performance, but instead it got slower.</p>\n<p>From benchmarking, I can see that when the <code>VarHandle</code> is <code>static</code>, it outperforms <code>Field.get</code> (obviously) - but when it's not, it's about twice as slow.</p>\n<p>For my use-case, it needs to generic across unknown classes - so not static - e.g. think about serialization.</p>\n<p>Is there an alternative way to outperform <code>Field.get</code>?</p>\n<p>Benchmark:</p>\n<pre><code>import org.openjdk.jmh.annotations.*;\nimport java.lang.invoke.*;\nimport java.lang.reflect.Field;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.atomic.AtomicInteger;\n\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\n@Warmup(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\n@Measurement(iterations = 200, time = 10, timeUnit = TimeUnit.MILLISECONDS)\n@State(Scope.Benchmark)\npublic class ReflectiveFieldAccessBenchmark {\n    static {\n        try {\n            field = ReflectiveFieldAccessBenchmark.class.getDeclaredField(&quot;count&quot;);\n        } catch (final ReflectiveOperationException e) {\n            throw new ExceptionInInitializerError(e);\n        }\n    }\n\n    private static final Field field;\n    private static final VarHandle staticVarHandle = getVarHandle();\n    private final VarHandle nonStaticVarHandle = getVarHandle();\n\n    private final Number count = new AtomicInteger(Integer.MAX_VALUE);\n\n    private static VarHandle getVarHandle() {\n        try {\n            return MethodHandles.lookup().unreflectVarHandle(field);\n        } catch (final ReflectiveOperationException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Benchmark\n    public Object reflection() throws Exception {\n        return field.get(this);\n    }\n\n    @Benchmark\n    public Object staticVarHandle() throws Exception {\n        return staticVarHandle.get(this);\n    }\n\n    @Benchmark\n    public Object nonStaticVarHandle() throws Exception {\n        return nonStaticVarHandle.get(this);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Benchmark                                                                         Mode   Cnt   Score    Error   Units\nReflectiveFieldAccessBenchmark.nonStaticVarHandle                                 avgt  1000   3.485 ¬±  0.005   ns/op\nReflectiveFieldAccessBenchmark.reflection                                         avgt  1000   2.027 ¬±  0.002   ns/op\nReflectiveFieldAccessBenchmark.staticVarHandle                                    avgt  1000   0.433 ¬±  0.002   ns/op\n</code></pre>\n"},{"tags":["java","javadoc"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1695037091,"post_id":77098070,"comment_id":135966052,"body_markdown":"I&#39;m not familiar with `java.management`, so my first instinct would be to make sure it is actually something that is bundled with the JDK. For example, JavaFX is not bundled with the JDK. But if not that, it&#39;s not impossible that this is a bug in Java. I have successfully reported multiple bugs in JavaDoc. https://stackoverflow.com/questions/67010921/javadoc-xdoclint-keeps-flagging-my-optional-anonymous-class-for-not-having-a and https://stackoverflow.com/questions/71726595/how-to-javadoc-a-record-without-warnings-from-xdoclint","body":"I&#39;m not familiar with <code>java.management</code>, so my first instinct would be to make sure it is actually something that is bundled with the JDK. For example, JavaFX is not bundled with the JDK. But if not that, it&#39;s not impossible that this is a bug in Java. I have successfully reported multiple bugs in JavaDoc. <a href=\"https://stackoverflow.com/questions/67010921/javadoc-xdoclint-keeps-flagging-my-optional-anonymous-class-for-not-having-a\" title=\"javadoc xdoclint keeps flagging my optional anonymous class for not having a\">stackoverflow.com/questions/67010921/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/71726595/how-to-javadoc-a-record-without-warnings-from-xdoclint\" title=\"how to javadoc a record without warnings from xdoclint\">stackoverflow.com/questions/71726595/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1695038313,"post_id":77098070,"comment_id":135966296,"body_markdown":"@davidalayachew `java.management` is included in Java, see https://docs.oracle.com/en/java/javase/17/docs/api/","body":"@davidalayachew <code>java.management</code> is included in Java, see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api</a>"},{"owner":{"account_id":4282458,"reputation":586,"user_id":3501387,"display_name":"stewori"},"score":1,"creation_date":1695041243,"post_id":77098070,"comment_id":135966913,"body_markdown":"@davidalayachew A bug in javadoc is also my thought. At very least, the error message should be improved. I just thought that doing some deeper usage research, including asking this question here, would be good practice before filing a bug.","body":"@davidalayachew A bug in javadoc is also my thought. At very least, the error message should be improved. I just thought that doing some deeper usage research, including asking this question here, would be good practice before filing a bug."}],"answers":[{"tags":[],"owner":{"account_id":4282458,"reputation":586,"user_id":3501387,"display_name":"stewori"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696026711,"creation_date":1696026711,"answer_id":77205060,"question_id":77098070,"body_markdown":"Apparently, the observed behavior is a bug in Javadoc. A corresponding bug report has been accepted under https://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8317289.","title":"javadoc fails in presence of imports in module-info.java","body":"<p>Apparently, the observed behavior is a bug in Javadoc. A corresponding bug report has been accepted under <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8317289\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=JDK-8317289</a>.</p>\n"}],"owner":{"account_id":4282458,"reputation":586,"user_id":3501387,"display_name":"stewori"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696026711,"creation_date":1694615518,"question_id":77098070,"body_markdown":"I am sometimes generating my own javadoc of OpenJDK modules to adjust the `javadoc` command with my favorite options. Recently I tried to do this for OpenJDK 20 but got strange module-not-found-errors for some modules. I pinned the issue down to the following (almost) minimal command, e.g. for the `java.management` module:\r\n\r\n```\r\n.../jdk-20.0.2/bin/javadoc -sourcepath .../jdk-jdk-20-ga/src/java.management/share/classes -subpackages com:java:javax:sun --module java.management -verbose\r\n```\r\n\r\nThat results in:\r\n\r\n```\r\n[parsing started SimpleFileObject[.../jdk-jdk-20-ga/src/java.management/share/classes/module-info.java]]\r\n[parsing completed 22ms]\r\nerror: module java.management not found on source path\r\n1 error\r\n```\r\n\r\nSo I checked out `.../java.management/share/classes/module-info.java` and it contains since OpenJDK 20 an import and an `@ParticipatesInPreview` annotation:\r\n\r\n```\r\nimport jdk.internal.javac.ParticipatesInPreview;\r\n\r\n/**\r\n...\r\n */\r\n@ParticipatesInPreview\r\nmodule java.management {\r\n```\r\n\r\nIf I remove that annotation and the corresponding import, things work like expected. The main issue appears to be the import rather than the annotation. For other modules I got a similar failure just in presence of imports rather than an annotation.\r\n\r\nMy question: How can I adjust the `javadoc` call to succeed properly if imports (and maybe `@ParticipatesInPreview`) are present?\r\n\r\nI already played around with some options, e.g. setting `-source` or `--release` with `--enable-preview` or add the module `jdk.compiler` via `--add-module` because that module hosts the import. So far nothing I tried did the trick.\r\n\r\n\r\n**Update:**\r\nSince a few days ago JDK 21 reached GA status, I repeated this on JDK 21 and the issue is the same as in 20. However, `java.management` is not affected any more because they removed the imports. AFAICT no `java.*` `module-info.java` file contains imports in JDK 21, but the issue can still be reproduced e.g. on `jdk.compiler`:\r\n\r\n```\r\n.../jdk-21/bin/javadoc -sourcepath .../jdk-jdk-21-ga/src/jdk.compiler/share/classes -subpackages com:jdk:sun --module jdk.compiler -verbose\r\n[parsing started SimpleFileObject[.../jdk-jdk-21-ga/src/jdk.compiler/share/classes/module-info.java]]\r\n[parsing completed 38ms]\r\nerror: module jdk.compiler not found on source path\r\n1 error\r\n```\r\nLike before, removing the imports makes it work.","title":"javadoc fails in presence of imports in module-info.java","body":"<p>I am sometimes generating my own javadoc of OpenJDK modules to adjust the <code>javadoc</code> command with my favorite options. Recently I tried to do this for OpenJDK 20 but got strange module-not-found-errors for some modules. I pinned the issue down to the following (almost) minimal command, e.g. for the <code>java.management</code> module:</p>\n<pre><code>.../jdk-20.0.2/bin/javadoc -sourcepath .../jdk-jdk-20-ga/src/java.management/share/classes -subpackages com:java:javax:sun --module java.management -verbose\n</code></pre>\n<p>That results in:</p>\n<pre><code>[parsing started SimpleFileObject[.../jdk-jdk-20-ga/src/java.management/share/classes/module-info.java]]\n[parsing completed 22ms]\nerror: module java.management not found on source path\n1 error\n</code></pre>\n<p>So I checked out <code>.../java.management/share/classes/module-info.java</code> and it contains since OpenJDK 20 an import and an <code>@ParticipatesInPreview</code> annotation:</p>\n<pre><code>import jdk.internal.javac.ParticipatesInPreview;\n\n/**\n...\n */\n@ParticipatesInPreview\nmodule java.management {\n</code></pre>\n<p>If I remove that annotation and the corresponding import, things work like expected. The main issue appears to be the import rather than the annotation. For other modules I got a similar failure just in presence of imports rather than an annotation.</p>\n<p>My question: How can I adjust the <code>javadoc</code> call to succeed properly if imports (and maybe <code>@ParticipatesInPreview</code>) are present?</p>\n<p>I already played around with some options, e.g. setting <code>-source</code> or <code>--release</code> with <code>--enable-preview</code> or add the module <code>jdk.compiler</code> via <code>--add-module</code> because that module hosts the import. So far nothing I tried did the trick.</p>\n<p><strong>Update:</strong>\nSince a few days ago JDK 21 reached GA status, I repeated this on JDK 21 and the issue is the same as in 20. However, <code>java.management</code> is not affected any more because they removed the imports. AFAICT no <code>java.*</code> <code>module-info.java</code> file contains imports in JDK 21, but the issue can still be reproduced e.g. on <code>jdk.compiler</code>:</p>\n<pre><code>.../jdk-21/bin/javadoc -sourcepath .../jdk-jdk-21-ga/src/jdk.compiler/share/classes -subpackages com:jdk:sun --module jdk.compiler -verbose\n[parsing started SimpleFileObject[.../jdk-jdk-21-ga/src/jdk.compiler/share/classes/module-info.java]]\n[parsing completed 38ms]\nerror: module jdk.compiler not found on source path\n1 error\n</code></pre>\n<p>Like before, removing the imports makes it work.</p>\n"},{"tags":["java","android","android-fragments"],"owner":{"account_id":5748147,"reputation":1645,"user_id":4538768,"accept_rate":55,"display_name":"JarochoEngineer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696026667,"creation_date":1695941817,"question_id":77198674,"body_markdown":"I am searching for the fragment previous to the last (n-2). I have the following to iterate over the fragments. However, I am getting just the last fragment:\r\n\r\n    FragmentManager fragmentManager = getActivity().getSupportFragmentManager();\r\n    List&lt;Fragment&gt; fragments = fragmentManager.getFragments();\r\n    \r\n    if(fragments != null){\r\n      for(Fragment fragment : fragments){\r\n    \tList&lt;Fragment&gt; childrenFragments = fragment.getChildFragmentManager().getFragments();\r\n    \tif (childrenFragments != null){\r\n    \t  for(Fragment childFragment : childrenFragments ){\r\n    \t\tString fragmentName= childFragment.getClass().getSimpleName();\r\n    \t\tSystem.out.println(fragmentName); // Just printing the last fragment\r\n    \t  }\r\n    \t}\r\n      }\r\n    }\r\n\r\nAlso tried with the following:\r\n\r\n    FragmentManager fm = getActivity().getSupportFragmentManager();\r\n        fm.popBackStack();\r\n        Fragment fragment= fm.getFragments().get(0);\r\n        String fragmentName = fragment.getClass().getSimpleName();\r\n\r\nIn both ways I am getting NavHostFragment as result.\r\n\r\nIs there a way to access the stack in the Navigator component and get the name for the n-2 Fragment?\r\n\r\nThanks a lot\r\n","title":"Obtain the previous fragment before the last in Android Navigator","body":"<p>I am searching for the fragment previous to the last (n-2). I have the following to iterate over the fragments. However, I am getting just the last fragment:</p>\n<pre><code>FragmentManager fragmentManager = getActivity().getSupportFragmentManager();\nList&lt;Fragment&gt; fragments = fragmentManager.getFragments();\n\nif(fragments != null){\n  for(Fragment fragment : fragments){\n    List&lt;Fragment&gt; childrenFragments = fragment.getChildFragmentManager().getFragments();\n    if (childrenFragments != null){\n      for(Fragment childFragment : childrenFragments ){\n        String fragmentName= childFragment.getClass().getSimpleName();\n        System.out.println(fragmentName); // Just printing the last fragment\n      }\n    }\n  }\n}\n</code></pre>\n<p>Also tried with the following:</p>\n<pre><code>FragmentManager fm = getActivity().getSupportFragmentManager();\n    fm.popBackStack();\n    Fragment fragment= fm.getFragments().get(0);\n    String fragmentName = fragment.getClass().getSimpleName();\n</code></pre>\n<p>In both ways I am getting NavHostFragment as result.</p>\n<p>Is there a way to access the stack in the Navigator component and get the name for the n-2 Fragment?</p>\n<p>Thanks a lot</p>\n"},{"tags":["java","annotation-processing"],"answers":[{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696025770,"creation_date":1695991062,"answer_id":77202006,"question_id":77198732,"body_markdown":"Thanks to a hint in [another answer][1], the method I need to get a `TypeElement` for a class name stored in the `otherClassName` variable is:\r\n\r\n```java\r\nTypeElement otherClassTypeElement = processingEnv.getElementUtils()\r\n    .getTypeElement(otherClassName);\r\n```\r\n\r\nThere is another option:\r\n\r\n```java\r\nSet&lt;? extends TypeElement&gt; otherClassTypeElements = processingEnv.getElementUtils()\r\n    .getAllTypeElements(otherClassName);\r\n```\r\n\r\nAs with all of these annotation processing related method, read the API documentation carefully. In this case it is technically possible that multiple such classes could be discovered.\r\n\r\nThen for each discovered type element (or choosing the appropriate one), you can use `otherClassTypeElement.getAnnotation(Bar.class)` to check if the other class is annotated by `@Bar`. Note that if `@Bar` in turn has a method that returns `Class&lt;&gt;`, you may want to instead enumerate the annotations using `otherClassTypeElement.getAnnotationMirrors()`; see referenced article above in my question for details on how/why.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/42746295","title":"Java annotation processor check annotations of discovered type by class name","body":"<p>Thanks to a hint in <a href=\"https://stackoverflow.com/a/42746295\">another answer</a>, the method I need to get a <code>TypeElement</code> for a class name stored in the <code>otherClassName</code> variable is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TypeElement otherClassTypeElement = processingEnv.getElementUtils()\n    .getTypeElement(otherClassName);\n</code></pre>\n<p>There is another option:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;? extends TypeElement&gt; otherClassTypeElements = processingEnv.getElementUtils()\n    .getAllTypeElements(otherClassName);\n</code></pre>\n<p>As with all of these annotation processing related method, read the API documentation carefully. In this case it is technically possible that multiple such classes could be discovered.</p>\n<p>Then for each discovered type element (or choosing the appropriate one), you can use <code>otherClassTypeElement.getAnnotation(Bar.class)</code> to check if the other class is annotated by <code>@Bar</code>. Note that if <code>@Bar</code> in turn has a method that returns <code>Class&lt;&gt;</code>, you may want to instead enumerate the annotations using <code>otherClassTypeElement.getAnnotationMirrors()</code>; see referenced article above in my question for details on how/why.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1696025770,"creation_date":1695942719,"question_id":77198732,"body_markdown":"Let&#39;s say I have an annotation `@Foo` that indicates some other classes like this:\r\n\r\n```java\r\n@Foo({Other.class, Another.class})\r\npublic class MyClass { ‚Ä¶\r\n  ‚Ä¶\r\n}\r\n```\r\n\r\nI&#39;m writing an annotation processor for `Foo`, and after going through all the `TypeMirror` magic (see [_Getting Class values from Annotations in an AnnotationProcessor_][1]) I finally wind up with an `AnnotationValue` that contains a `List&lt;? extends AnnotationValue&gt;` indicating the other classes. I can get those class names like this (code for illustration; not optimized):\r\n\r\n```java\r\nList&lt;String&gt; otherClassNames= ((List&lt;? extends AnnotationValue&gt;)value.getValue())\r\n    .stream()\r\n    .map(AnnotationValue::getValue)\r\n    .map(Object::toString)\r\n    .collect(toUnmodifiableList()))\r\n```\r\n\r\nGreat, so now I have two strings, `com.example.Other` and `com.example.Another`.\r\n\r\nI would like to see if the `Other` and `Another` classes are annotated with `@Bar`. What is the next step?\r\n\r\n(Note that the classes `com.example.Other` and `com.example.Another` will likely be in other libraries, such as Maven dependencies on the classpath; the source files for `com.example.Other` and `com.example.Another` will not necessarily be present, and those classes will probably not themselves be included in the rounds for this annotation processor. However I can guarantee that the other annotation, `@Bar`, will be present in the classfiles.)\r\n\r\nI&#39;m guessing that if I could somehow convert each string into a `TypeElement`, I could then go through the whole type mirror thing again (or if I just want to check for `@Foo` I could use `typeElement.getAnnotation(Bar.class)`). But how do I get a `TypeElement` for a discovered string such as `com.example.Other`?\r\n\r\nI&#39;ve spent all day wrestling with with annotations, classes, and type mirrors, so I&#39;m going to take a break. Tomorrow the answer may be obvious to me. In the meantime, maybe someone knows an easy solution already. Otherwise, I&#39;ll figure it out, add it as an answer, and help someone else.\r\n\r\n  [1]: https://area-51.blog/2009/02/13/getting-class-values-from-annotations-in-an-annotationprocessor/","title":"Java annotation processor check annotations of discovered type by class name","body":"<p>Let's say I have an annotation <code>@Foo</code> that indicates some other classes like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Foo({Other.class, Another.class})\npublic class MyClass { ‚Ä¶\n  ‚Ä¶\n}\n</code></pre>\n<p>I'm writing an annotation processor for <code>Foo</code>, and after going through all the <code>TypeMirror</code> magic (see <a href=\"https://area-51.blog/2009/02/13/getting-class-values-from-annotations-in-an-annotationprocessor/\" rel=\"nofollow noreferrer\"><em>Getting Class values from Annotations in an AnnotationProcessor</em></a>) I finally wind up with an <code>AnnotationValue</code> that contains a <code>List&lt;? extends AnnotationValue&gt;</code> indicating the other classes. I can get those class names like this (code for illustration; not optimized):</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; otherClassNames= ((List&lt;? extends AnnotationValue&gt;)value.getValue())\n    .stream()\n    .map(AnnotationValue::getValue)\n    .map(Object::toString)\n    .collect(toUnmodifiableList()))\n</code></pre>\n<p>Great, so now I have two strings, <code>com.example.Other</code> and <code>com.example.Another</code>.</p>\n<p>I would like to see if the <code>Other</code> and <code>Another</code> classes are annotated with <code>@Bar</code>. What is the next step?</p>\n<p>(Note that the classes <code>com.example.Other</code> and <code>com.example.Another</code> will likely be in other libraries, such as Maven dependencies on the classpath; the source files for <code>com.example.Other</code> and <code>com.example.Another</code> will not necessarily be present, and those classes will probably not themselves be included in the rounds for this annotation processor. However I can guarantee that the other annotation, <code>@Bar</code>, will be present in the classfiles.)</p>\n<p>I'm guessing that if I could somehow convert each string into a <code>TypeElement</code>, I could then go through the whole type mirror thing again (or if I just want to check for <code>@Foo</code> I could use <code>typeElement.getAnnotation(Bar.class)</code>). But how do I get a <code>TypeElement</code> for a discovered string such as <code>com.example.Other</code>?</p>\n<p>I've spent all day wrestling with with annotations, classes, and type mirrors, so I'm going to take a break. Tomorrow the answer may be obvious to me. In the meantime, maybe someone knows an easy solution already. Otherwise, I'll figure it out, add it as an answer, and help someone else.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1696025491,"post_id":77204091,"comment_id":136106098,"body_markdown":"The log doesn&#39;t appear to show the error in the question&#39;s title","body":"The log doesn&#39;t appear to show the error in the question&#39;s title"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1696032295,"post_id":77204091,"comment_id":136106660,"body_markdown":"The error is `Could not locate PropertySource: I/O error on GET request for &quot;http://localhost:8888/server/default&quot;: Connection refused:`.  What&#39;s supposed to be listening on port 8888?","body":"The error is <code>Could not locate PropertySource: I&#47;O error on GET request for &quot;http:&#47;&#47;localhost:8888&#47;server&#47;default&quot;: Connection refused:</code>.  What&#39;s supposed to be listening on port 8888?"}],"owner":{"account_id":12884561,"reputation":1,"user_id":9323335,"display_name":"Bruno Eufrasio Alves"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696025456,"creation_date":1696011887,"question_id":77204091,"body_markdown":"Error when starting Spring project with Java 8\r\n\r\n\r\n\r\n\r\nPOM:\r\n\r\n    &lt;properties&gt;\r\n        &lt;spring-cloud.version&gt;Camden.RELEASE&lt;/spring-cloud.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.build.timestamp.format&gt;yyyyMMdd-HHmm&lt;/maven.build.timestamp.format&gt;\r\n        &lt;start-class&gt;br.com.medwise.library.ms.MedLibraryMS&lt;/start-class&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;commons-lang.version&gt;2.6&lt;/commons-lang.version&gt;\r\n        &lt;metrics-spring.version&gt;3.1.2&lt;/metrics-spring.version&gt;\r\n        &lt;liquibase-slf4j.version&gt;1.2.1&lt;/liquibase-slf4j.version&gt;\r\n        &lt;usertype-core.version&gt;5.0.0.GA&lt;/usertype-core.version&gt;\r\n        &lt;liquibase-hibernate4.version&gt;3.5&lt;/liquibase-hibernate4.version&gt;\r\n        &lt;hikaricp.version&gt;2.4.1&lt;/hikaricp.version&gt;\r\n        &lt;assertj-core.version&gt;2.1.0&lt;/assertj-core.version&gt;\r\n        &lt;docker.image.prefix&gt;medwise&lt;/docker.image.prefix&gt;\r\n        &lt;docker.image.name&gt;library&lt;/docker.image.name&gt;\r\n        &lt;liquibase.version&gt;3.4.2&lt;/liquibase.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-xml --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/br.com.caelum.stella/caelum-stella-bean-validation --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;br.com.caelum.stella&lt;/groupId&gt;\r\n            &lt;artifactId&gt;caelum-stella-bean-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-aws-messaging&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--AWS--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;amazon-sqs-java-extended-client-lib&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;amazon-sqs-java-messaging-lib&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Spring Boot --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Spring Boot and Test Framework --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-lang.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;!-- parent POM declares this dependency in default (compile) scope --&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Swagger API --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Jackson Datatype --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-hibernate4&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-hppc&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-joda&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-json-org&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Hibernate for Audit --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;4.3.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jadira.usertype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;usertype.core&lt;/artifactId&gt;\r\n            &lt;version&gt;${usertype-core.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- liquibase integration database --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mattbertolini&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;${liquibase-slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\nCheck the POM dependencies, I analyzed the classes in the domain and repository package without success.\r\n\r\n\r\nerror stack:\r\n\r\n```\r\nC:\\Users\\brunocris\\.jdks\\corretto-1.8.0_362\\jre\\bin\\java.exe -agentlib:jdwp=transport=dt_socket,address=127.0.0.1:52288,suspend=y,server=n -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -javaagent:C:\\Users\\brunocris\\AppData\\Local\\JetBrains\\IntelliJIdea2023.2\\captureAgent\\debugger-agent.jar=file:/C:/Users/brunocris/AppData/Local/Temp/capture7.props -Dfile.encoding=UTF-8 -classpath C:\\Users\\brunocris\\AppData\\Local\\Temp\\classpath1220475643.jar br.com.medwise.library.ms.MedLibraryMS\r\nConnected to the target VM, address: &#39;127.0.0.1:52288&#39;, transport: &#39;socket&#39;\r\n2023-09-29 15:13:35.329  INFO 1220 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@22bf9122: startup date [Fri Sep 29 15:13:35 BRT 2023]; root of context hierarchy\r\n2023-09-29 15:13:35.543  INFO 1220 --- [           main] trationDelegate$BeanPostProcessorChecker : \r\n                                                                `---&#39;\r\n \r\nPowered by Spring Boot 1.4.2.RELEASE\r\n2023-09-29 15:13:37.305  INFO 1220 --- [           main] c.c.c.ConfigServicePropertySourceLocator : Fetching config from server at: http://localhost:8888\r\n2023-09-29 15:13:39.416  WARN 1220 --- [           main] c.c.c.ConfigServicePropertySourceLocator : Could not locate PropertySource: I/O error on GET request for &quot;http://localhost:8888/server/default&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\r\n2023-09-29 15:13:39.417  INFO 1220 --- [           main] br.com.medwise.library.ms.MedLibraryMS   : The following profiles are active: false\r\n2023-09-29 15:13:39.427  INFO 1220 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@539316bb: startup date [Fri Sep 29 15:13:39 BRT 2023]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@22bf9122\r\n2023-09-29 15:13:42.369  INFO 1220 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean &#39;restTemplate&#39; with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=restClientConfiguration; factoryMethodName=restTemplate; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [br/com/medwise/library/ms/config/RestClientConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=restTemplateConfig; factoryMethodName=restTemplate; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [br/com/medwise/library/ms/config/RestTemplateConfig.class]]\r\n2023-09-29 15:13:42.374  INFO 1220 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean &#39;restTemplate&#39; with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=restTemplateConfig; factoryMethodName=restTemplate; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [br/com/medwise/library/ms/config/RestTemplateConfig.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=restService; factoryMethodName=restTemplate; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [br/com/medwise/library/ms/service/RestService.class]]\r\n2023-09-29 15:13:42.375  INFO 1220 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean &#39;messageSource&#39; with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=localeConfiguration; factoryMethodName=messageSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [br/com/medwise/library/ms/locale/LocaleConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=medLibraryMS; factoryMethodName=messageSource; initMethodName=null; destroyMethodName=(inferred); defined in br.com.medwise.library.ms.MedLibraryMS]\r\n2023-09-29 15:13:42.449  INFO 1220 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean &#39;dataSource&#39; with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Tomcat.class]]\r\n2023-09-29 15:13:42.638  INFO 1220 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean &#39;managementServletContext&#39; with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.actuate.autoconfigure.EndpointWebMvcHypermediaManagementContextConfiguration; factoryMethodName=managementServletContext; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/actuate/autoconfigure/EndpointWebMvcHypermediaManagementContextConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration; factoryMethodName=managementServletContext; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/actuate/autoconfigure/EndpointWebMvcAutoConfiguration.class]]\r\n2023-09-29 15:13:42.746  WARN 1220 --- [           main] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition &#39;refreshScope&#39; since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as &#39;static&#39;.\r\n2023-09-29 15:13:42.849  INFO 1220 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=32688575-b02f-3162-9c69-e613be320155\r\n2023-09-29 15:13:43.145  INFO 1220 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;io.micrometer.spring.autoconfigure.export.StringToDurationConverter&#39; of type [class io.micrometer.spring.autoconfigure.export.StringToDurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2023-09-29 15:13:43.150  INFO 1220 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;libraryms-br.com.medwise.library.ms.properties.LibraryProperties&#39; of type [class br.com.medwise.library.ms.properties.LibraryProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2023-09-29 15:13:43.151  INFO 1220 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;asyncConfiguration&#39; of type [class br.com.medwise.library.ms.config.AsyncConfiguration$$EnhancerBySpringCGLIB$$4fa1bf4b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2023-09-29 15:13:43.161  INFO 1220 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService \r\n2023-09-29 15:13:43.162  INFO 1220 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;taskExecutor&#39; of type [class br.com.medwise.library.ms.exception.ExceptionHandlingAsyncTaskExecutor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2023-09-29 15:13:43.306  INFO 1220 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39; of type [class org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3e0d128c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2023-09-29 15:13:43.530  INFO 1220 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration&#39; of type [class org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$5a271589] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2023-09-29 15:13:43.898  INFO 1220 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\r\n2023-09-29 15:13:43.905  INFO 1220 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\r\n2023-09-29 15:13:43.905  INFO 1220 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.6\r\n2023-09-29 15:13:43.953  INFO 1220 --- [ost-startStop-1] o.a.c.c.C.[.[.[/med-library-api/v1]      : Initializing Spring embedded WebApplicationContext\r\n2023-09-29 15:13:43.953  INFO 1220 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4526 ms\r\n2023-09-29 15:13:45.546  INFO 1220 --- [ost-startStop-1] o.a.c.c.C.[.[.[/med-library-api/v1]      : jolokia: No access restrictor found, access to any MBean is allowed\r\n2023-09-29 15:13:47.035  INFO 1220 --- [ost-startStop-1] liquibase                                : Successfully acquired change log lock\r\n2023-09-29 15:13:48.294  INFO 1220 --- [ost-startStop-1] liquibase                                : Reading from public.databasechangelog\r\n2023-09-29 15:13:48.306  INFO 1220 --- [ost-startStop-1] liquibase                                : Successfully released change log lock\r\n2023-09-29 15:13:48.587  INFO 1220 --- [ost-startStop-1] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-09-29 15:13:48.603  INFO 1220 --- [ost-startStop-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\r\n```","title":"Error starting Tomcat context. Exception: org.springframework.beans.factory.BeanCreationException. Message: Error creating bean with name &#39;webMetric","body":"<p>Error when starting Spring project with Java 8</p>\n<p>POM:</p>\n<pre><code>&lt;properties&gt;\n    &lt;spring-cloud.version&gt;Camden.RELEASE&lt;/spring-cloud.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.build.timestamp.format&gt;yyyyMMdd-HHmm&lt;/maven.build.timestamp.format&gt;\n    &lt;start-class&gt;br.com.medwise.library.ms.MedLibraryMS&lt;/start-class&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;commons-lang.version&gt;2.6&lt;/commons-lang.version&gt;\n    &lt;metrics-spring.version&gt;3.1.2&lt;/metrics-spring.version&gt;\n    &lt;liquibase-slf4j.version&gt;1.2.1&lt;/liquibase-slf4j.version&gt;\n    &lt;usertype-core.version&gt;5.0.0.GA&lt;/usertype-core.version&gt;\n    &lt;liquibase-hibernate4.version&gt;3.5&lt;/liquibase-hibernate4.version&gt;\n    &lt;hikaricp.version&gt;2.4.1&lt;/hikaricp.version&gt;\n    &lt;assertj-core.version&gt;2.1.0&lt;/assertj-core.version&gt;\n    &lt;docker.image.prefix&gt;medwise&lt;/docker.image.prefix&gt;\n    &lt;docker.image.name&gt;library&lt;/docker.image.name&gt;\n    &lt;liquibase.version&gt;3.4.2&lt;/liquibase.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson-dataformat-xml --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- https://mvnrepository.com/artifact/br.com.caelum.stella/caelum-stella-bean-validation --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;br.com.caelum.stella&lt;/groupId&gt;\n        &lt;artifactId&gt;caelum-stella-bean-validation&lt;/artifactId&gt;\n        &lt;version&gt;2.1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-aws-autoconfigure&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-aws-messaging&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--AWS--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n        &lt;version&gt;RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;amazon-sqs-java-extended-client-lib&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;amazon-sqs-java-messaging-lib&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring Boot --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Spring Boot and Test Framework --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n        &lt;version&gt;${commons-lang.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;!-- parent POM declares this dependency in default (compile) scope --&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Swagger API --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Jackson Datatype --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-hibernate4&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-hppc&lt;/artifactId&gt;\n        &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-joda&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-json-org&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Hibernate for Audit --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;4.3.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jadira.usertype&lt;/groupId&gt;\n        &lt;artifactId&gt;usertype.core&lt;/artifactId&gt;\n        &lt;version&gt;${usertype-core.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- liquibase integration database --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mattbertolini&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-slf4j&lt;/artifactId&gt;\n        &lt;version&gt;${liquibase-slf4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Check the POM dependencies, I analyzed the classes in the domain and repository package without success.</p>\n<p>error stack:</p>\n<pre><code>C:\\Users\\brunocris\\.jdks\\corretto-1.8.0_362\\jre\\bin\\java.exe -agentlib:jdwp=transport=dt_socket,address=127.0.0.1:52288,suspend=y,server=n -XX:TieredStopAtLevel=1 -noverify -Dspring.output.ansi.enabled=always -Dcom.sun.management.jmxremote -Dspring.jmx.enabled=true -Dspring.liveBeansView.mbeanDomain -Dspring.application.admin.enabled=true -javaagent:C:\\Users\\brunocris\\AppData\\Local\\JetBrains\\IntelliJIdea2023.2\\captureAgent\\debugger-agent.jar=file:/C:/Users/brunocris/AppData/Local/Temp/capture7.props -Dfile.encoding=UTF-8 -classpath C:\\Users\\brunocris\\AppData\\Local\\Temp\\classpath1220475643.jar br.com.medwise.library.ms.MedLibraryMS\nConnected to the target VM, address: '127.0.0.1:52288', transport: 'socket'\n2023-09-29 15:13:35.329  INFO 1220 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@22bf9122: startup date [Fri Sep 29 15:13:35 BRT 2023]; root of context hierarchy\n2023-09-29 15:13:35.543  INFO 1220 --- [           main] trationDelegate$BeanPostProcessorChecker : \n                                                                `---'\n \nPowered by Spring Boot 1.4.2.RELEASE\n2023-09-29 15:13:37.305  INFO 1220 --- [           main] c.c.c.ConfigServicePropertySourceLocator : Fetching config from server at: http://localhost:8888\n2023-09-29 15:13:39.416  WARN 1220 --- [           main] c.c.c.ConfigServicePropertySourceLocator : Could not locate PropertySource: I/O error on GET request for &quot;http://localhost:8888/server/default&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\n2023-09-29 15:13:39.417  INFO 1220 --- [           main] br.com.medwise.library.ms.MedLibraryMS   : The following profiles are active: false\n2023-09-29 15:13:39.427  INFO 1220 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@539316bb: startup date [Fri Sep 29 15:13:39 BRT 2023]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@22bf9122\n2023-09-29 15:13:42.369  INFO 1220 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'restTemplate' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=restClientConfiguration; factoryMethodName=restTemplate; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [br/com/medwise/library/ms/config/RestClientConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=restTemplateConfig; factoryMethodName=restTemplate; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [br/com/medwise/library/ms/config/RestTemplateConfig.class]]\n2023-09-29 15:13:42.374  INFO 1220 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'restTemplate' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=restTemplateConfig; factoryMethodName=restTemplate; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [br/com/medwise/library/ms/config/RestTemplateConfig.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=restService; factoryMethodName=restTemplate; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [br/com/medwise/library/ms/service/RestService.class]]\n2023-09-29 15:13:42.375  INFO 1220 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'messageSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=localeConfiguration; factoryMethodName=messageSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [br/com/medwise/library/ms/locale/LocaleConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=medLibraryMS; factoryMethodName=messageSource; initMethodName=null; destroyMethodName=(inferred); defined in br.com.medwise.library.ms.MedLibraryMS]\n2023-09-29 15:13:42.449  INFO 1220 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Tomcat.class]]\n2023-09-29 15:13:42.638  INFO 1220 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'managementServletContext' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.actuate.autoconfigure.EndpointWebMvcHypermediaManagementContextConfiguration; factoryMethodName=managementServletContext; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/actuate/autoconfigure/EndpointWebMvcHypermediaManagementContextConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration; factoryMethodName=managementServletContext; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/actuate/autoconfigure/EndpointWebMvcAutoConfiguration.class]]\n2023-09-29 15:13:42.746  WARN 1220 --- [           main] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition 'refreshScope' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.\n2023-09-29 15:13:42.849  INFO 1220 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=32688575-b02f-3162-9c69-e613be320155\n2023-09-29 15:13:43.145  INFO 1220 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'io.micrometer.spring.autoconfigure.export.StringToDurationConverter' of type [class io.micrometer.spring.autoconfigure.export.StringToDurationConverter] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-09-29 15:13:43.150  INFO 1220 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'libraryms-br.com.medwise.library.ms.properties.LibraryProperties' of type [class br.com.medwise.library.ms.properties.LibraryProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-09-29 15:13:43.151  INFO 1220 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'asyncConfiguration' of type [class br.com.medwise.library.ms.config.AsyncConfiguration$$EnhancerBySpringCGLIB$$4fa1bf4b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-09-29 15:13:43.161  INFO 1220 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService \n2023-09-29 15:13:43.162  INFO 1220 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'taskExecutor' of type [class br.com.medwise.library.ms.exception.ExceptionHandlingAsyncTaskExecutor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-09-29 15:13:43.306  INFO 1220 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [class org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3e0d128c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-09-29 15:13:43.530  INFO 1220 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [class org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$5a271589] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-09-29 15:13:43.898  INFO 1220 --- [           main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\n2023-09-29 15:13:43.905  INFO 1220 --- [           main] o.apache.catalina.core.StandardService   : Starting service Tomcat\n2023-09-29 15:13:43.905  INFO 1220 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.6\n2023-09-29 15:13:43.953  INFO 1220 --- [ost-startStop-1] o.a.c.c.C.[.[.[/med-library-api/v1]      : Initializing Spring embedded WebApplicationContext\n2023-09-29 15:13:43.953  INFO 1220 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4526 ms\n2023-09-29 15:13:45.546  INFO 1220 --- [ost-startStop-1] o.a.c.c.C.[.[.[/med-library-api/v1]      : jolokia: No access restrictor found, access to any MBean is allowed\n2023-09-29 15:13:47.035  INFO 1220 --- [ost-startStop-1] liquibase                                : Successfully acquired change log lock\n2023-09-29 15:13:48.294  INFO 1220 --- [ost-startStop-1] liquibase                                : Reading from public.databasechangelog\n2023-09-29 15:13:48.306  INFO 1220 --- [ost-startStop-1] liquibase                                : Successfully released change log lock\n2023-09-29 15:13:48.587  INFO 1220 --- [ost-startStop-1] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'\n2023-09-29 15:13:48.603  INFO 1220 --- [ost-startStop-1] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1696162033,"post_id":77204802,"comment_id":136115558,"body_markdown":"I would actually copy it to the local repository to some custom path. And before redownloading, I would just check if it already there.","body":"I would actually copy it to the local repository to some custom path. And before redownloading, I would just check if it already there."}],"owner":{"account_id":1225368,"reputation":3437,"user_id":1191020,"accept_rate":95,"display_name":"FatalCatharsis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696023388,"creation_date":1696021943,"question_id":77204802,"body_markdown":"I&#39;m trying to write a custom maven plugin for my org to download specific versions of tomcat (7, 8, or 9 depending on what they select) and install it to a conventional directory with application specific configs pulled from a different data source. The specific part I want help on is the fetching of tomcat. I COULD just redownload tomcat from the their website any time you run the script into a temp directory somewhere, but it really feels like I should be using mavens dependency infrastructure somehow to pull org.apache.tomcat:tomcat and unzip that. \r\n\r\nIs there some way to write a maven plugin to resolve a specific version of a dependency to my local repository and NOT add it to the classpath of my project, such that I can just extract the zip artifact elsewhere?","title":"Maven Custom Plugin - check for artifact with specific version in local repository for use outside project classpath","body":"<p>I'm trying to write a custom maven plugin for my org to download specific versions of tomcat (7, 8, or 9 depending on what they select) and install it to a conventional directory with application specific configs pulled from a different data source. The specific part I want help on is the fetching of tomcat. I COULD just redownload tomcat from the their website any time you run the script into a temp directory somewhere, but it really feels like I should be using mavens dependency infrastructure somehow to pull org.apache.tomcat:tomcat and unzip that.</p>\n<p>Is there some way to write a maven plugin to resolve a specific version of a dependency to my local repository and NOT add it to the classpath of my project, such that I can just extract the zip artifact elsewhere?</p>\n"},{"tags":["java","immutability"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1695990183,"post_id":77201901,"comment_id":136100018,"body_markdown":"Does this answer your question? [Make immutable Java object](https://stackoverflow.com/questions/18194139/make-immutable-java-object)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18194139/make-immutable-java-object\">Make immutable Java object</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1695990940,"post_id":77201901,"comment_id":136100158,"body_markdown":"We can‚Äôt read the questioner‚Äôs mind. Maybe they are expecting you to answer that you must add `final` to the fields, maybe, they want you to recognize that `Date` is a mutable object, hence, to prevent your class from modification, the constructor and the getter must create defensive copies of the `Date` object. The better approach is to change the type to `LocalDate` which is not only immutable but solves a bunch of other problems related to the use of `Date` here. Then, just change the class to `record Person(String name, LocalDate birthDate) {}` to solve even more potential problems.","body":"We can‚Äôt read the questioner‚Äôs mind. Maybe they are expecting you to answer that you must add <code>final</code> to the fields, maybe, they want you to recognize that <code>Date</code> is a mutable object, hence, to prevent your class from modification, the constructor and the getter must create defensive copies of the <code>Date</code> object. The better approach is to change the type to <code>LocalDate</code> which is not only immutable but solves a bunch of other problems related to the use of <code>Date</code> here. Then, just change the class to <code>record Person(String name, LocalDate birthDate) {}</code> to solve even more potential problems."},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1695991170,"post_id":77201901,"comment_id":136100200,"body_markdown":"You already know the answer. &quot;Immutable&quot; means exactly what you are asking: when a class is immutable, it means that objects of that class cannot be modified after they have been created. So you just have to do the things that you are mentioning yourself: 1. make all fields private, 2. don&#39;t have setter methods. Also: make the class itself `final`.","body":"You already know the answer. &quot;Immutable&quot; means exactly what you are asking: when a class is immutable, it means that objects of that class cannot be modified after they have been created. So you just have to do the things that you are mentioning yourself: 1. make all fields private, 2. don&#39;t have setter methods. Also: make the class itself <code>final</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1695991234,"post_id":77201901,"comment_id":136100215,"body_markdown":"@Jesper and don&#39;t return the instance&#39;s mutable objects from getters.","body":"@Jesper and don&#39;t return the instance&#39;s mutable objects from getters."},{"owner":{"account_id":16136505,"reputation":1,"user_id":11648841,"display_name":"reda Sabbane"},"score":0,"creation_date":1696081880,"post_id":77201901,"comment_id":136109959,"body_markdown":"tank you so much","body":"tank you so much"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695997252,"creation_date":1695995833,"answer_id":77202529,"question_id":77201901,"body_markdown":"One way is to use a `record` which defines an immutable class.  You can still override `toString()` to modify how the object displays itself.\r\n\r\nFor class definitions using getters, make the fields private and final.  For those fields that are not immutable by design, do what is known as `defensive copying`.  This is especially true for objects like arrays and collections.  Deep copying of individual cells of those arrays or collections may also be required.\r\n\r\n```\r\npublic Date getDate() {\r\n    return new Date(birthDate.getTime());\r\n}\r\n```\r\nNote:  `Date` is obsolete.  Use `LocalDate` from the [java.time](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html) package.  Since `LocalDate` is immutable you can safely return the instance.    ","title":"How to protect class instance against alteration","body":"<p>One way is to use a <code>record</code> which defines an immutable class.  You can still override <code>toString()</code> to modify how the object displays itself.</p>\n<p>For class definitions using getters, make the fields private and final.  For those fields that are not immutable by design, do what is known as <code>defensive copying</code>.  This is especially true for objects like arrays and collections.  Deep copying of individual cells of those arrays or collections may also be required.</p>\n<pre><code>public Date getDate() {\n    return new Date(birthDate.getTime());\n}\n</code></pre>\n<p>Note:  <code>Date</code> is obsolete.  Use <code>LocalDate</code> from the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package.  Since <code>LocalDate</code> is immutable you can safely return the instance.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696022101,"creation_date":1696022101,"answer_id":77204813,"question_id":77201901,"body_markdown":"&gt; _&quot;... I don&#39;t know what I must add to protect Person, once a Person is created, it should not be possible to modify it. ...&quot;_\r\n\r\nWhat you have is correct.\r\n\r\nOptionally, instead of using the _constructor method_, use a _static method_.\r\n\r\n```java\r\nclass Person {\r\n\r\n    private String name;\r\n    private Date birthDate;\r\n\r\n    /**\r\n     * Creates a Person with the given name and birth‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äå‚Äã‚Äã‚Äã‚Äå‚Äå‚Äã‚Äã‚Äå‚Äå‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äå‚Äã‚Äã‚Äã‚Äå date.\r\n     */\r\n    private Person(String name, Date birthDate) {\r\n        this.name = name;\r\n        this.birthDate = birthDate;\r\n    }\r\n\r\n    static Person get(String name, Date birthDate) {\r\n        return new Person(name, birthDate);\r\n    }\r\n\r\n    public String name() {\r\n        return name;\r\n    }\r\n\r\n    public Date birthDate() {\r\n        return birthDate;\r\n    }\r\n}\r\n```","title":"How to protect class instance against alteration","body":"<blockquote>\n<p><em>&quot;... I don't know what I must add to protect Person, once a Person is created, it should not be possible to modify it. ...&quot;</em></p>\n</blockquote>\n<p>What you have is correct.</p>\n<p>Optionally, instead of using the <em>constructor method</em>, use a <em>static method</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Person {\n\n    private String name;\n    private Date birthDate;\n\n    /**\n     * Creates a Person with the given name and birth‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äå‚Äã‚Äã‚Äã‚Äå‚Äå‚Äã‚Äã‚Äå‚Äå‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äå‚Äã‚Äã‚Äã‚Äå date.\n     */\n    private Person(String name, Date birthDate) {\n        this.name = name;\n        this.birthDate = birthDate;\n    }\n\n    static Person get(String name, Date birthDate) {\n        return new Person(name, birthDate);\n    }\n\n    public String name() {\n        return name;\n    }\n\n    public Date birthDate() {\n        return birthDate;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16136505,"reputation":1,"user_id":11648841,"display_name":"reda Sabbane"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696022101,"creation_date":1695990121,"question_id":77201901,"body_markdown":"How can I modify the body of the code (this can include the body of the constructor) to protect Person instances against alteration: Once a Person is created, it should not be possible to modify it.\r\n\r\n```\r\nimport java.util.Date;\r\n \r\nclass Person {\r\n \r\n    private String name;\r\n    private Date birthDate;\r\n \r\n    /**\r\n     * Creates a Person with the given name and birth‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äå‚Äã‚Äã‚Äã‚Äå‚Äå‚Äã‚Äã‚Äå‚Äå‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äå‚Äã‚Äã‚Äã‚Äå date.\r\n     */\r\n    public Person(String name, Date birthDate) {\r\n        this.name = name;\r\n        this.birthDate = birthDate;\r\n    }\r\n \r\n    public String getName() {\r\n        return name;\r\n    }\r\n \r\n    public Date getBirthDate() {\r\n        return birthDate;\r\n    }\r\n}\r\n```\r\n\r\nI know the constraint for immutable classes all exist in this class: \r\n1. all fields are private, \r\n2. we don&#39;t have setter of fields, \r\n3. we don&#39;t have a fields with an object with setters\r\n\r\nHowever, I don&#39;t know what I must add to protect Person, once a Person is created, it should not be possible to modify it.","title":"How to protect class instance against alteration","body":"<p>How can I modify the body of the code (this can include the body of the constructor) to protect Person instances against alteration: Once a Person is created, it should not be possible to modify it.</p>\n<pre><code>import java.util.Date;\n \nclass Person {\n \n    private String name;\n    private Date birthDate;\n \n    /**\n     * Creates a Person with the given name and birth‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äå‚Äã‚Äã‚Äã‚Äå‚Äå‚Äã‚Äã‚Äå‚Äå‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äå‚Äã‚Äã‚Äã‚Äå date.\n     */\n    public Person(String name, Date birthDate) {\n        this.name = name;\n        this.birthDate = birthDate;\n    }\n \n    public String getName() {\n        return name;\n    }\n \n    public Date getBirthDate() {\n        return birthDate;\n    }\n}\n</code></pre>\n<p>I know the constraint for immutable classes all exist in this class:</p>\n<ol>\n<li>all fields are private,</li>\n<li>we don't have setter of fields,</li>\n<li>we don't have a fields with an object with setters</li>\n</ol>\n<p>However, I don't know what I must add to protect Person, once a Person is created, it should not be possible to modify it.</p>\n"},{"tags":["java","formatting","visual-studio-code","format","curly-braces"],"answers":[{"tags":[],"owner":{"account_id":6759653,"reputation":5203,"user_id":5207023,"accept_rate":100,"display_name":"Mykola Yashchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498735440,"creation_date":1498735440,"answer_id":44823778,"question_id":44823701,"body_markdown":"&gt; Launch VS Code Quick Open (Ctrl+P), paste the following command, and\r\n&gt; press enter.\r\n&gt; \r\n&gt;     ext install vscode-format\r\n&gt; \r\n&gt; \r\n&gt; Visual Studio Code Format will allow you to format most of your code\r\n&gt; documents. The formatting is triggered by running your format command:\r\n&gt; editor.action.format\r\n&gt; \r\n&gt; Place your braces on the same line or the next line:\r\n&gt; \r\n&gt;     {\r\n&gt;         &quot;newLine&quot;: {\r\n&gt;             &quot;brace&quot;: true\r\n&gt;         }\r\n&gt;     }\r\n\r\nlink: https://marketplace.visualstudio.com/items?itemName=ryannaddy.vscode-format","title":"Visual Studio Code format Java opening curly braces on new line","body":"<blockquote>\n  <p>Launch VS Code Quick Open (Ctrl+P), paste the following command, and\n  press enter.</p>\n\n<pre><code>ext install vscode-format\n</code></pre>\n  \n  <p>Visual Studio Code Format will allow you to format most of your code\n  documents. The formatting is triggered by running your format command:\n  editor.action.format</p>\n  \n  <p>Place your braces on the same line or the next line:</p>\n\n<pre><code>{\n    \"newLine\": {\n        \"brace\": true\n    }\n}\n</code></pre>\n</blockquote>\n\n<p>link: <a href=\"https://marketplace.visualstudio.com/items?itemName=ryannaddy.vscode-format\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=ryannaddy.vscode-format</a></p>\n"},{"tags":[],"owner":{"account_id":3239634,"reputation":20214,"user_id":2732991,"accept_rate":80,"display_name":"Halvor Holsten Strand"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1558440001,"creation_date":1558440001,"answer_id":56237842,"question_id":44823701,"body_markdown":"To solve this using &quot;Language Support for Java(TM) by Red Hat&quot; you can use an Eclipse formatter file. This allows you to specify brace position very specifically for each scenario. For example, `formatting.xml` showcasing all &quot;next line&quot; settings:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;profiles version=&quot;12&quot;&gt;\r\n        &lt;profile kind=&quot;CodeFormatterProfile&quot; name=&quot;style&quot; version=&quot;12&quot;&gt;\r\n            &lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_anonymous_type_declaration&quot; value=&quot;next_line&quot;/&gt;\r\n            &lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_method_declaration&quot; value=&quot;next_line&quot;/&gt;\r\n            &lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_block&quot; value=&quot;next_line&quot;/&gt;\r\n            &lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_constructor_declaration&quot; value=&quot;next_line&quot;/&gt;\r\n            &lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_lambda_body&quot; value=&quot;next_line&quot;/&gt;\r\n            &lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_enum_declaration&quot; value=&quot;next_line&quot;/&gt;\r\n            &lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_block_in_case&quot; value=&quot;next_line&quot;/&gt;\r\n            &lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_annotation_type_declaration&quot; value=&quot;next_line&quot;/&gt;\r\n            &lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_switch&quot; value=&quot;next_line&quot;/&gt;\r\n            &lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_array_initializer&quot; value=&quot;next_line&quot;/&gt;\r\n            &lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_enum_constant&quot; value=&quot;next_line&quot;/&gt;\r\n            &lt;setting id=&quot;org.eclipse.jdt.core.formatter.brace_position_for_type_declaration&quot; value=&quot;next_line&quot;/&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n\r\nValid values are `next_line`, `next_line_shifted`, `next_line_on_wrap` and `end_of_line`.\r\n\r\nAnd then in your `settings.json` for Visual Studio Code:\r\n\r\n    {\r\n        &quot;java.format.settings.url&quot;: &quot;/formatting.xml&quot;,\r\n        &quot;java.format.settings.profile&quot;: &quot;style&quot;\r\n    }\r\n\r\nSee [this documentation](https://github.com/redhat-developer/vscode-java/wiki/Formatter-settings) for some usage details.","title":"Visual Studio Code format Java opening curly braces on new line","body":"<p>To solve this using \"Language Support for Java(TM) by Red Hat\" you can use an Eclipse formatter file. This allows you to specify brace position very specifically for each scenario. For example, <code>formatting.xml</code> showcasing all \"next line\" settings:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;profiles version=\"12\"&gt;\n    &lt;profile kind=\"CodeFormatterProfile\" name=\"style\" version=\"12\"&gt;\n        &lt;setting id=\"org.eclipse.jdt.core.formatter.brace_position_for_anonymous_type_declaration\" value=\"next_line\"/&gt;\n        &lt;setting id=\"org.eclipse.jdt.core.formatter.brace_position_for_method_declaration\" value=\"next_line\"/&gt;\n        &lt;setting id=\"org.eclipse.jdt.core.formatter.brace_position_for_block\" value=\"next_line\"/&gt;\n        &lt;setting id=\"org.eclipse.jdt.core.formatter.brace_position_for_constructor_declaration\" value=\"next_line\"/&gt;\n        &lt;setting id=\"org.eclipse.jdt.core.formatter.brace_position_for_lambda_body\" value=\"next_line\"/&gt;\n        &lt;setting id=\"org.eclipse.jdt.core.formatter.brace_position_for_enum_declaration\" value=\"next_line\"/&gt;\n        &lt;setting id=\"org.eclipse.jdt.core.formatter.brace_position_for_block_in_case\" value=\"next_line\"/&gt;\n        &lt;setting id=\"org.eclipse.jdt.core.formatter.brace_position_for_annotation_type_declaration\" value=\"next_line\"/&gt;\n        &lt;setting id=\"org.eclipse.jdt.core.formatter.brace_position_for_switch\" value=\"next_line\"/&gt;\n        &lt;setting id=\"org.eclipse.jdt.core.formatter.brace_position_for_array_initializer\" value=\"next_line\"/&gt;\n        &lt;setting id=\"org.eclipse.jdt.core.formatter.brace_position_for_enum_constant\" value=\"next_line\"/&gt;\n        &lt;setting id=\"org.eclipse.jdt.core.formatter.brace_position_for_type_declaration\" value=\"next_line\"/&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n\n<p>Valid values are <code>next_line</code>, <code>next_line_shifted</code>, <code>next_line_on_wrap</code> and <code>end_of_line</code>.</p>\n\n<p>And then in your <code>settings.json</code> for Visual Studio Code:</p>\n\n<pre><code>{\n    \"java.format.settings.url\": \"/formatting.xml\",\n    \"java.format.settings.profile\": \"style\"\n}\n</code></pre>\n\n<p>See <a href=\"https://github.com/redhat-developer/vscode-java/wiki/Formatter-settings\" rel=\"noreferrer\">this documentation</a> for some usage details.</p>\n"},{"tags":[],"owner":{"account_id":17744265,"reputation":1,"user_id":12883871,"display_name":"ichsanSandi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596703156,"creation_date":1596703156,"answer_id":63279852,"question_id":44823701,"body_markdown":"In my case, my formatter setting is in `.setting/org.eclipse.jdt.core.prefs`. \r\n\r\nActually, [this][1] article works, I&#39;ve tested by creating a new project for comparison. I couldn&#39;t understand why is that worked on that new project, while my main project didn&#39;t. So, I compared any project settings that applied to each project, and I found that difference in `.setting/org.eclipse.jdt.core.prefs` file.\r\n\r\n[Location of .setting/org.eclipse.jdt.core.prefs][2]\r\n\r\nMy new project has only a compiler setting in that file, while my main project has compiler + formatter setting, that&#39;s why setting in JSON file couldn&#39;t apllied. \r\n\r\nMy solution is to change the value of formatter setting in that file with the same value from my exported xml formatter (I got my formatter XML exported from eclipse). Thanks.\r\n\r\nThis is my new project content of `.setting/org.eclipse.jdt.core.prefs`:\r\n\r\n    eclipse.preferences.version=1\r\n    org.eclipse.jdt.core.compiler.codegen.methodParameters=generate\r\n    org.eclipse.jdt.core.compiler.codegen.targetPlatform=1.8\r\n    org.eclipse.jdt.core.compiler.compliance=1.8\r\n    org.eclipse.jdt.core.compiler.problem.enablePreviewFeatures=disabled\r\n    org.eclipse.jdt.core.compiler.problem.forbiddenReference=warning\r\n    org.eclipse.jdt.core.compiler.problem.reportPreviewFeatures=ignore\r\n    org.eclipse.jdt.core.compiler.processAnnotations=enabled\r\n    org.eclipse.jdt.core.compiler.release=disabled\r\n    org.eclipse.jdt.core.compiler.source=1.8\r\n\r\nand this is what&#39;s inside my main project:\r\n\r\n    ...    \r\n    org.eclipse.jdt.core.compiler.problem.enumIdentifier=error\r\n    org.eclipse.jdt.core.compiler.problem.forbiddenReference=warning\r\n    org.eclipse.jdt.core.compiler.problem.reportPreviewFeatures=ignore\r\n    org.eclipse.jdt.core.compiler.processAnnotations=enabled\r\n    org.eclipse.jdt.core.compiler.release=disabled\r\n    org.eclipse.jdt.core.compiler.source=1.8\r\n    org.eclipse.jdt.core.formatter.align_assignment_statements_on_columns=false\r\n    org.eclipse.jdt.core.formatter.align_fields_grouping_blank_lines=2147483647\r\n    org.eclipse.jdt.core.formatter.align_type_members_on_columns=false\r\n    org.eclipse.jdt.core.formatter.align_variable_declarations_on_columns\r\n    ...\r\n\r\n  [1]: https://github.com/redhat-developer/vscode-java/wiki/Formatter-settings\r\n  [2]: https://i.stack.imgur.com/zj99W.png","title":"Visual Studio Code format Java opening curly braces on new line","body":"<p>In my case, my formatter setting is in <code>.setting/org.eclipse.jdt.core.prefs</code>.</p>\n<p>Actually, <a href=\"https://github.com/redhat-developer/vscode-java/wiki/Formatter-settings\" rel=\"nofollow noreferrer\">this</a> article works, I've tested by creating a new project for comparison. I couldn't understand why is that worked on that new project, while my main project didn't. So, I compared any project settings that applied to each project, and I found that difference in <code>.setting/org.eclipse.jdt.core.prefs</code> file.</p>\n<p><a href=\"https://i.stack.imgur.com/zj99W.png\" rel=\"nofollow noreferrer\">Location of .setting/org.eclipse.jdt.core.prefs</a></p>\n<p>My new project has only a compiler setting in that file, while my main project has compiler + formatter setting, that's why setting in JSON file couldn't apllied.</p>\n<p>My solution is to change the value of formatter setting in that file with the same value from my exported xml formatter (I got my formatter XML exported from eclipse). Thanks.</p>\n<p>This is my new project content of <code>.setting/org.eclipse.jdt.core.prefs</code>:</p>\n<pre><code>eclipse.preferences.version=1\norg.eclipse.jdt.core.compiler.codegen.methodParameters=generate\norg.eclipse.jdt.core.compiler.codegen.targetPlatform=1.8\norg.eclipse.jdt.core.compiler.compliance=1.8\norg.eclipse.jdt.core.compiler.problem.enablePreviewFeatures=disabled\norg.eclipse.jdt.core.compiler.problem.forbiddenReference=warning\norg.eclipse.jdt.core.compiler.problem.reportPreviewFeatures=ignore\norg.eclipse.jdt.core.compiler.processAnnotations=enabled\norg.eclipse.jdt.core.compiler.release=disabled\norg.eclipse.jdt.core.compiler.source=1.8\n</code></pre>\n<p>and this is what's inside my main project:</p>\n<pre><code>...    \norg.eclipse.jdt.core.compiler.problem.enumIdentifier=error\norg.eclipse.jdt.core.compiler.problem.forbiddenReference=warning\norg.eclipse.jdt.core.compiler.problem.reportPreviewFeatures=ignore\norg.eclipse.jdt.core.compiler.processAnnotations=enabled\norg.eclipse.jdt.core.compiler.release=disabled\norg.eclipse.jdt.core.compiler.source=1.8\norg.eclipse.jdt.core.formatter.align_assignment_statements_on_columns=false\norg.eclipse.jdt.core.formatter.align_fields_grouping_blank_lines=2147483647\norg.eclipse.jdt.core.formatter.align_type_members_on_columns=false\norg.eclipse.jdt.core.formatter.align_variable_declarations_on_columns\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16241281,"reputation":690,"user_id":11727541,"display_name":"Usman Sabuwala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679329690,"creation_date":1679329690,"answer_id":75792891,"question_id":44823701,"body_markdown":"If you wanna use that in VS Code just add this line below in `settings.json`\r\n```json\r\n{\r\n  &quot;java.format.settings.url&quot;: &quot;https://gist.githubusercontent.com/fbricon/c5960a86f0a21405a61b79c0f1b4a0fc/raw/16b9b75077d08ae8b36706718a8393268d2ea5d2/formatter.xml&quot;\r\n}\r\n```\r\n\r\nThanks to [this Gist][1]\r\n\r\n\r\n  [1]: https://gist.github.com/fbricon/c5960a86f0a21405a61b79c0f1b4a0fc","title":"Visual Studio Code format Java opening curly braces on new line","body":"<p>If you wanna use that in VS Code just add this line below in <code>settings.json</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;java.format.settings.url&quot;: &quot;https://gist.githubusercontent.com/fbricon/c5960a86f0a21405a61b79c0f1b4a0fc/raw/16b9b75077d08ae8b36706718a8393268d2ea5d2/formatter.xml&quot;\n}\n</code></pre>\n<p>Thanks to <a href=\"https://gist.github.com/fbricon/c5960a86f0a21405a61b79c0f1b4a0fc\" rel=\"nofollow noreferrer\">this Gist</a></p>\n"}],"owner":{"account_id":8912154,"reputation":805,"user_id":6651959,"accept_rate":44,"display_name":"lock42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10006,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1696019999,"creation_date":1498735198,"question_id":44823701,"body_markdown":"How can I get Visual Studio Code to format Java documents with braces in a new like? \r\n\r\ni.e:\r\n\r\nThis\r\n\r\n    public static void main(String args[]) {\r\n    }\r\n\r\nTo this\r\n\r\n    public static void main(String args[])\r\n    {\r\n    }\r\n\r\nEdit: Yikes!! Just remember .vscode/extensions folder. I went in there then /ryannaddy.vscode-format-0.0.6/package.json and changed format.newLine to true.\r\nThanks for the help. So happy!!","title":"Visual Studio Code format Java opening curly braces on new line","body":"<p>How can I get Visual Studio Code to format Java documents with braces in a new like? </p>\n\n<p>i.e:</p>\n\n<p>This</p>\n\n<pre><code>public static void main(String args[]) {\n}\n</code></pre>\n\n<p>To this</p>\n\n<pre><code>public static void main(String args[])\n{\n}\n</code></pre>\n\n<p>Edit: Yikes!! Just remember .vscode/extensions folder. I went in there then /ryannaddy.vscode-format-0.0.6/package.json and changed format.newLine to true.\nThanks for the help. So happy!!</p>\n"},{"tags":["java","maven","intellij-idea","build","configuration"],"answers":[{"tags":[],"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696019195,"creation_date":1696016588,"answer_id":77204452,"question_id":77204439,"body_markdown":"Your `maven.compiler.source` and `maven.compiler.target` values are wrong.\r\n\r\nReplace `1.17` and set it instead to `17` per [JEP 223][1]. \r\n\r\n```\r\n&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n```\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/223","title":"Intellij: SDK 17 is not compatible with the source version 17","body":"<p>Your <code>maven.compiler.source</code> and <code>maven.compiler.target</code> values are wrong.</p>\n<p>Replace <code>1.17</code> and set it instead to <code>17</code> per <a href=\"https://openjdk.org/jeps/223\" rel=\"nofollow noreferrer\">JEP 223</a>.</p>\n<pre><code>&lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n</code></pre>\n"}],"owner":{"account_id":873528,"reputation":95,"user_id":923848,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":77204452,"answer_count":1,"score":0,"last_activity_date":1696019195,"creation_date":1696016397,"question_id":77204439,"body_markdown":"I am trying to get a project to build in IntelliJ but I keep getting an error. I have tried different JDKs such as the jet brains and OpenJDK but I always get this error\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nEverything I have seems to be pointing to java 17 so I feel a bit confused\r\n\r\npom.xml\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nProject Structure\r\n\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n[![enter image description here][5]][5]\r\n\r\nJava compiler settings\r\n\r\n[![enter image description here][6]][6]\r\n\r\nMaven Runner Settings\r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n\r\n\r\n\r\n\r\nI feel like it could have to do with my project layout?\r\n\r\n[![enter image description here][8]][8]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iL7WB.png\r\n  [2]: https://i.stack.imgur.com/8mNzo.png\r\n  [3]: https://i.stack.imgur.com/UljYN.png\r\n  [4]: https://i.stack.imgur.com/WNEpl.png\r\n  [5]: https://i.stack.imgur.com/tE98u.png\r\n  [6]: https://i.stack.imgur.com/X5o6d.png\r\n  [7]: https://i.stack.imgur.com/Ta1wO.png\r\n  [8]: https://i.stack.imgur.com/FOAou.png\r\n  [9]: https://i.stack.imgur.com/A2WSn.png","title":"Intellij: SDK 17 is not compatible with the source version 17","body":"<p>I am trying to get a project to build in IntelliJ but I keep getting an error. I have tried different JDKs such as the jet brains and OpenJDK but I always get this error</p>\n<p><a href=\"https://i.stack.imgur.com/iL7WB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iL7WB.png\" alt=\"enter image description here\" /></a></p>\n<p>Everything I have seems to be pointing to java 17 so I feel a bit confused</p>\n<p>pom.xml</p>\n<p><a href=\"https://i.stack.imgur.com/8mNzo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8mNzo.png\" alt=\"enter image description here\" /></a></p>\n<p>Project Structure</p>\n<p><a href=\"https://i.stack.imgur.com/UljYN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UljYN.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/WNEpl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WNEpl.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/tE98u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tE98u.png\" alt=\"enter image description here\" /></a></p>\n<p>Java compiler settings</p>\n<p><a href=\"https://i.stack.imgur.com/X5o6d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X5o6d.png\" alt=\"enter image description here\" /></a></p>\n<p>Maven Runner Settings</p>\n<p><a href=\"https://i.stack.imgur.com/Ta1wO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ta1wO.png\" alt=\"enter image description here\" /></a></p>\n<p>I feel like it could have to do with my project layout?</p>\n<p><a href=\"https://i.stack.imgur.com/FOAou.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FOAou.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","user-interface","flatlaf"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1695748822,"post_id":77182164,"comment_id":136064985,"body_markdown":"Did you do any debugging of your code? Did you add a println(...) statement to both methods to see if they are executed? Did you try it with the default LAF? When you find a problem test using standard code from the API to make sure the custom code is not causing a problem.","body":"Did you do any debugging of your code? Did you add a println(...) statement to both methods to see if they are executed? Did you try it with the default LAF? When you find a problem test using standard code from the API to make sure the custom code is not causing a problem."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695749269,"post_id":77182164,"comment_id":136065082,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696018489,"creation_date":1695751772,"answer_id":77182499,"question_id":77182164,"body_markdown":"`frame.addMouseMotionListener()` must be used to track motion events such as mouse dragged. The `MouseAdapter` already extends both `MouseListener` `MouseMotionListener` so we can save this into a variable and re-use it in `frame.addMouseListener()` and `frame.addMouseMotionListener()`. \r\n\r\nSee the Java Tutorial for more help: https://docs.oracle.com/javase/tutorial/uiswing/events/mousemotionlistener.html\r\n\r\n     \r\n    \r\n     public static void main(String[] args) {\r\n            try {\r\n                UIManager.setLookAndFeel(new FlatDarkLaf());\r\n            } catch (Exception errorDesign) {\r\n                logError(errorDesign);\r\n            }\r\n    \r\n            JFrame frame = new JFrame();\r\n            frame.setBounds(1600, 400, 500, 800);\r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    \r\n            frame.setUndecorated(true);\r\n            frame.setVisible(true);\r\n            \r\n            MouseAdapter mouseAdapter = new MouseAdapter() {\r\n                private Point mouseOffset;\r\n\r\n                @Override\r\n                public void mousePressed(MouseEvent e) {\r\n                    mouseOffset = e.getPoint();\r\n                }\r\n\r\n                @Override\r\n                public void mouseDragged(MouseEvent e) {\r\n                    Point newLocation = e.getLocationOnScreen();\r\n                    newLocation.translate(-mouseOffset.x, -mouseOffset.y);\r\n                    frame.setLocation(newLocation);\r\n                }\r\n            };\r\n            \r\n            frame.addMouseListener(mouseAdapter);\r\n            frame.addMouseMotionListener(mouseAdapter);\r\n    \r\n        }","title":"JFrame not moving","body":"<p><code>frame.addMouseMotionListener()</code> must be used to track motion events such as mouse dragged. The <code>MouseAdapter</code> already extends both <code>MouseListener</code> <code>MouseMotionListener</code> so we can save this into a variable and re-use it in <code>frame.addMouseListener()</code> and <code>frame.addMouseMotionListener()</code>.</p>\n<p>See the Java Tutorial for more help: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/mousemotionlistener.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/events/mousemotionlistener.html</a></p>\n<pre><code> public static void main(String[] args) {\n        try {\n            UIManager.setLookAndFeel(new FlatDarkLaf());\n        } catch (Exception errorDesign) {\n            logError(errorDesign);\n        }\n\n        JFrame frame = new JFrame();\n        frame.setBounds(1600, 400, 500, 800);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n\n        frame.setUndecorated(true);\n        frame.setVisible(true);\n        \n        MouseAdapter mouseAdapter = new MouseAdapter() {\n            private Point mouseOffset;\n\n            @Override\n            public void mousePressed(MouseEvent e) {\n                mouseOffset = e.getPoint();\n            }\n\n            @Override\n            public void mouseDragged(MouseEvent e) {\n                Point newLocation = e.getLocationOnScreen();\n                newLocation.translate(-mouseOffset.x, -mouseOffset.y);\n                frame.setLocation(newLocation);\n            }\n        };\n        \n        frame.addMouseListener(mouseAdapter);\n        frame.addMouseMotionListener(mouseAdapter);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":29540755,"reputation":21,"user_id":22639482,"display_name":"Slevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696018489,"creation_date":1695748651,"question_id":77182164,"body_markdown":"I want my JFrame to move despite disabling Decorrations.\r\n\r\ni added a mouseListener after some googling but still didnt help.\r\n\r\n```\r\n    public static void main(String[] args) {\r\n\r\n        try {\r\n            UIManager.setLookAndFeel(new FlatDarkLaf());\r\n        } catch (Exception errorDesign) {\r\n            logError(errorDesign);\r\n        }\r\n\r\n        JFrame frame = new JFrame();\r\n        frame.setBounds(1600, 400, 500, 800);\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        frame.setUndecorated(true);\r\n        frame.setVisible(true);\r\n\r\n        frame.addMouseListener(new MouseAdapter() {\r\n            private Point mouseOffset;\r\n\r\n            @Override\r\n            public void mousePressed(MouseEvent e) {\r\n                mouseOffset = e.getPoint();\r\n            }\r\n\r\n            @Override\r\n            public void mouseDragged(MouseEvent e) {\r\n                Point newLocation = e.getLocationOnScreen();\r\n                newLocation.translate(-mouseOffset.x, -mouseOffset.y);\r\n                frame.setLocation(newLocation);\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n```\r\n\r\nsomeone who knows what i did wrong?","title":"JFrame not moving","body":"<p>I want my JFrame to move despite disabling Decorrations.</p>\n<p>i added a mouseListener after some googling but still didnt help.</p>\n<pre><code>    public static void main(String[] args) {\n\n        try {\n            UIManager.setLookAndFeel(new FlatDarkLaf());\n        } catch (Exception errorDesign) {\n            logError(errorDesign);\n        }\n\n        JFrame frame = new JFrame();\n        frame.setBounds(1600, 400, 500, 800);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n\n        frame.setUndecorated(true);\n        frame.setVisible(true);\n\n        frame.addMouseListener(new MouseAdapter() {\n            private Point mouseOffset;\n\n            @Override\n            public void mousePressed(MouseEvent e) {\n                mouseOffset = e.getPoint();\n            }\n\n            @Override\n            public void mouseDragged(MouseEvent e) {\n                Point newLocation = e.getLocationOnScreen();\n                newLocation.translate(-mouseOffset.x, -mouseOffset.y);\n                frame.setLocation(newLocation);\n            }\n\n        });\n\n    }\n</code></pre>\n<p>someone who knows what i did wrong?</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":10858233,"reputation":763,"user_id":7983864,"display_name":"Shahood ul Hassan"},"score":0,"creation_date":1584804932,"post_id":60789665,"comment_id":107552348,"body_markdown":"You should also share the XML file contents.","body":"You should also share the XML file contents."},{"owner":{"account_id":17995231,"reputation":127,"user_id":13078439,"display_name":"pie"},"score":0,"creation_date":1584806945,"post_id":60789665,"comment_id":107553014,"body_markdown":"@ShahoodulHassan added.","body":"@ShahoodulHassan added."}],"answers":[{"tags":[],"owner":{"account_id":5251106,"reputation":2819,"user_id":4195337,"display_name":"jmart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1584808637,"creation_date":1584808637,"answer_id":60790428,"question_id":60789665,"body_markdown":"Your supposition is correct. As the appBarLayout lives in the activity, the toolbar stays hidden when you change fragments.\r\n\r\nThe solution is to call `appBarLayout.setExpanded(true)` in the new fragment. You can do it inside onStart, for example.\r\n\r\nMore information here: [AppBarLayout.setExpanded(boolean expanded)][1].\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/support/design/widget/AppBarLayout#setexpanded_1","title":"Toolbar disappears upon transition to new Fragment","body":"<p>Your supposition is correct. As the appBarLayout lives in the activity, the toolbar stays hidden when you change fragments.</p>\n\n<p>The solution is to call <code>appBarLayout.setExpanded(true)</code> in the new fragment. You can do it inside onStart, for example.</p>\n\n<p>More information here: <a href=\"https://developer.android.com/reference/android/support/design/widget/AppBarLayout#setexpanded_1\" rel=\"nofollow noreferrer\">AppBarLayout.setExpanded(boolean expanded)</a>.</p>\n"},{"tags":[],"owner":{"account_id":3014554,"reputation":106,"user_id":14230540,"display_name":"MatJB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696018357,"creation_date":1696018357,"answer_id":77204576,"question_id":60789665,"body_markdown":"After spending several hours trying to find out why the Toolbar wasn‚Äôt shown in a fragment, the following are **my two cents on the topic**.\r\n\r\n***My case:*** **FragmentA** can be independently reached using **Navigation component** from four different fragments. When I navigate from three of those fragments, FragmentA behaves correctly and shows the Toolbar, but from the fourth one, it doesn‚Äôt.  \r\nAfter inspecting FragmentA‚Äôs layout, using the **Layout Inspector**, I found out that the **toolbar‚Äôs visibility** was `GONE` (only when using that ‚Äúnavigation path‚Äù).   \r\nTo solve it I just added in my code `toolbar.visibility = View.VISIBLE` \r\n \r\nThis doesn‚Äôt solve the root cause, which still eludes me, but it may help someone else as it helped me.","title":"Toolbar disappears upon transition to new Fragment","body":"<p>After spending several hours trying to find out why the Toolbar wasn‚Äôt shown in a fragment, the following are <strong>my two cents on the topic</strong>.</p>\n<p><em><strong>My case:</strong></em> <strong>FragmentA</strong> can be independently reached using <strong>Navigation component</strong> from four different fragments. When I navigate from three of those fragments, FragmentA behaves correctly and shows the Toolbar, but from the fourth one, it doesn‚Äôt.<br />\nAfter inspecting FragmentA‚Äôs layout, using the <strong>Layout Inspector</strong>, I found out that the <strong>toolbar‚Äôs visibility</strong> was <code>GONE</code> (only when using that ‚Äúnavigation path‚Äù).<br />\nTo solve it I just added in my code <code>toolbar.visibility = View.VISIBLE</code></p>\n<p>This doesn‚Äôt solve the root cause, which still eludes me, but it may help someone else as it helped me.</p>\n"}],"owner":{"account_id":17995231,"reputation":127,"user_id":13078439,"display_name":"pie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60790428,"answer_count":2,"score":1,"last_activity_date":1696018357,"creation_date":1584804622,"question_id":60789665,"body_markdown":"There are two fragments - RuleListFragmetn and RuleFragment. The RuleListFragment fragment uses the RecyclerView element. Toolbar has app flags: `layout_scrollFlags = &quot;scroll | enterAlways | snap&quot;`, while AppBarLayout has app parameter: `liftOnScroll = &quot;true&quot;`. If the list in RuleListFragment has not been scrolled and the transition to the RuleFragment fragment has been completed, then the Toolbar is in place. If the list in the RuleListFragment has been scrolled (the Toolbar hid at the top), then when you go to the RuleFragment Toolbar fragment, it disappears. The picture below explains. Maybe in the fragment you need to reset the position of the Toolbar? But how to do that?\r\n\r\n[![enter image description here][1]][1]\r\n[![][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4nlrr.jpg\r\n  [2]: https://i.stack.imgur.com/jRCcr.jpg","title":"Toolbar disappears upon transition to new Fragment","body":"<p>There are two fragments - RuleListFragmetn and RuleFragment. The RuleListFragment fragment uses the RecyclerView element. Toolbar has app flags: <code>layout_scrollFlags = \"scroll | enterAlways | snap\"</code>, while AppBarLayout has app parameter: <code>liftOnScroll = \"true\"</code>. If the list in RuleListFragment has not been scrolled and the transition to the RuleFragment fragment has been completed, then the Toolbar is in place. If the list in the RuleListFragment has been scrolled (the Toolbar hid at the top), then when you go to the RuleFragment Toolbar fragment, it disappears. The picture below explains. Maybe in the fragment you need to reset the position of the Toolbar? But how to do that?</p>\n\n<p><a href=\"https://i.stack.imgur.com/4nlrr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4nlrr.jpg\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/jRCcr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jRCcr.jpg\" alt=\"\"></a></p>\n"},{"tags":["java","maven","jboss","pom.xml","maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695729507,"post_id":77179396,"comment_id":136060734,"body_markdown":"Upgrade your plugins version (maven-compiler-plugin) and remove asm dependency...also why having toolchain configured with Java 7...","body":"Upgrade your plugins version (maven-compiler-plugin) and remove asm dependency...also why having toolchain configured with Java 7..."},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1695729958,"post_id":77179396,"comment_id":136060836,"body_markdown":"What plugin version should I upgrade?","body":"What plugin version should I upgrade?"}],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696018266,"creation_date":1695925061,"answer_id":77197341,"question_id":77179396,"body_markdown":"The `jboss-as-maven-plugin` has been deprecated. You should use the [`wildfly-maven-plugin`][1].\r\n\r\nDo note the `wildfly-maven-plugin` 4.x requires a minimum of Java 11 and 3.x requires a minimum of Java 8.\r\n\r\n[1]: https://docs.wildfly.org/wildfly-maven-plugin","title":"jboss-as-maven plugin migrating to jdk 11","body":"<p>The <code>jboss-as-maven-plugin</code> has been deprecated. You should use the <a href=\"https://docs.wildfly.org/wildfly-maven-plugin\" rel=\"nofollow noreferrer\"><code>wildfly-maven-plugin</code></a>.</p>\n<p>Do note the <code>wildfly-maven-plugin</code> 4.x requires a minimum of Java 11 and 3.x requires a minimum of Java 8.</p>\n"}],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77197341,"answer_count":1,"score":0,"last_activity_date":1696018266,"creation_date":1695726131,"question_id":77179396,"body_markdown":"I am on a maven project, migrating from Java 8 to 11, and I am facing these errors:\r\n\r\n&gt; 11:36:39,016 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-11) MSC000001: Failed to start service jboss.txn.ArjunaObjectStoreEnvironment: org.jboss.msc.service.StartException in service jboss.txn.ArjunaObjectStoreEnvironment: Failed to start service\r\n\tat \r\n&gt; 11:36:39,352 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 30) JBAS014612: Operation (&quot;add&quot;) failed - address: ([\r\n    (&quot;subsystem&quot; =&gt; &quot;infinispan&quot;),\r\n    (&quot;cache-container&quot; =&gt; &quot;web&quot;),\r\n    (&quot;local-cache&quot; =&gt; &quot;local-web&quot;)\r\n]): java.lang.NoClassDefFoundError: jdk/internal/reflect/ConstructorAccessorImpl\r\n\tat java.base/jdk.internal.misc.Unsafe.defineClass0(Native Method) [java.base:]\r\n\tat java.base/jdk.internal.misc.Unsafe.defineClass(Unsafe.java:1194) [java.base:]\r\n\tat java.base/jdk.internal.reflect.ClassDefiner.defineClass(ClassDefiner.java:63) [java.base:]\r\n\tat j\r\n\r\n&gt; 11:36:39,394 ERROR [org.jboss.as.controller.management-operation]\r\n&gt; (ServerService Thread Pool -- 47) JBAS014612: Operation (&quot;add&quot;) failed\r\n&gt; - address: ([(&quot;subsystem&quot; =&gt; &quot;web&quot;)]): javax.xml.stream.FactoryConfigurationError: Provider\r\n&gt; __redirected.__XMLInputFactory could not be instantiated: java.lang.reflect.InvocationTargetException \tat\r\n\r\n&gt; [java.base:] \tat\r\n&gt; __redirected.__XMLInputFactory.&lt;init&gt;(__XMLInputFactory.java:115) [jboss-modules.jar:1.3.0.Final-redhat-2] \t... 23 more Caused by:\r\n&gt; java.lang.ClassNotFoundException:\r\n&gt; jdk.internal.reflect.ConstructorAccessorImpl from [Module\r\n&gt; &quot;org.codehaus.woodstox:main&quot; from local module loader @299270eb\r\n&gt; (finder: local module finder @3b90a30a (roots:\r\n&gt; C:\\Users\\ActionICT-Motti\\IdeaProjects\\DocumentsStorage_v1\\target\\jboss-as-run\\jboss-eap-6.3\\modules,C:\\Users\\ActionICT-Motti\\IdeaProjects\\DocumentsStorage_v1\\target\\jboss-as-run\\jboss-eap-6.3\\modules\\system\\layers\\base))]\r\n\r\n\r\nThis is my pom.xml\r\n```xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;it.bper.ws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;DocumentsStorageWS&lt;/artifactId&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;version&gt;1.22.1&lt;/version&gt;\r\n    &lt;name&gt;documents storage Maven Webapp&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;!-- Repository per scaricare JBoss AS --&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jboss-enterprise-maven-repository&lt;/id&gt;\r\n            &lt;name&gt;JBoss Enterprise Maven Repository - Early-access repository&lt;/name&gt;\r\n            &lt;url&gt;https://maven.repository.redhat.com/earlyaccess/all&lt;/url&gt;\r\n            &lt;releases&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/releases&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.jboss.narayana.arjunacore/arjuna --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.narayana.arjunacore&lt;/groupId&gt;\r\n            &lt;artifactId&gt;arjuna&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.28&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Common libraries --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n            &lt;artifactId&gt;wiremock-standalone&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--\r\n             IBM Filenet libraries\r\n             A runtime servono tutti i JAR, come da documentazione FileNet:\r\n             - Jace.jar\r\n             - stax-api.jar\r\n             - xlxpScanner.jar\r\n             - xlxpScannerUtils.jar\r\n             - log4j.jar (la versione nel FileNet di BPER e&#39; la 1.2.14)\r\n             ma qui riportiamo solo quelli strettamente necessari per compilare\r\n             ed eseguire i test, perche&#39; gli altri JAR sono in WEB-INF/lib\r\n             quindi accessibili dal class loader della web application\r\n          --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.ibm.filenet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jace&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.2&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${basedir}/src/main/webapp/WEB-INF/lib/Jace.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Logging libraries --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-alpha1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Test libraries --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.jws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.jws-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;parallel&gt;all&lt;/parallel&gt;\r\n                    &lt;useUnlimitedThreads&gt;false&lt;/useUnlimitedThreads&gt;\r\n                    &lt;threadCount&gt;6&lt;/threadCount&gt;\r\n                    &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n           &lt;!-- &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;enforce-java&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;enforce&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;rules&gt;\r\n                                &lt;requireJavaVersion&gt;\r\n                                    &lt;message&gt;Il JDK da utilizzare dev&#39;essere 1.7&lt;/message&gt;\r\n                                    &lt;version&gt;[1.7,1.8)&lt;/version&gt;\r\n                                &lt;/requireJavaVersion&gt;\r\n                            &lt;/rules&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n                        &lt;version&gt;6.2&lt;/version&gt; &lt;!-- Use newer version of ASM --&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;!-- https://mvnrepository.com/artifact/org.jboss.narayana.arjunacore/arjuna --&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.jboss.narayana.arjunacore&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;arjuna&lt;/artifactId&gt;\r\n                        &lt;version&gt;7.0.0.Final&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;generate-java-sources&lt;/id&gt;\r\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;xadditionalHeaders&gt;true&lt;/xadditionalHeaders&gt;\r\n                        &lt;executable&gt;${tool.wsimport}&lt;/executable&gt;&lt;!-- Piu&#39; veloce nel generare i sorgenti --&gt;\r\n                        &lt;wsdlDirectory&gt;src/main/resources/wsdl&lt;/wsdlDirectory&gt;\r\n                        &lt;target&gt;2.1&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.3.2&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.3.1&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.3.1&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;javax.jws&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;javax.jws-api&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.1&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;external.atlassian.jgitflow&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jgitflow-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0-m5.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;releaseBranchVersionSuffix&gt;RC&lt;/releaseBranchVersionSuffix&gt;\r\n                    &lt;noDeploy&gt;true&lt;/noDeploy&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.10&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;!-- test unitari--&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;prepare agent&lt;/id&gt;\r\n\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;!-- test integrazione --&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;prepare agent integration&lt;/id&gt;\r\n\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent-integration&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;propertyName&gt;jacocoAgent&lt;/propertyName&gt;\r\n                            &lt;classDumpDir&gt;${project.build.directory}/dumpClassDir&lt;/classDumpDir&gt;\r\n                            &lt;output&gt;file&lt;/output&gt;\r\n                            &lt;append&gt;true&lt;/append&gt;\r\n                            &lt;dumpOnExit&gt;true&lt;/dumpOnExit&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jboss.as.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jboss-as-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;7.9.Final&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!--\r\n                         In produzione c&#39;e&#39; JBoss EAP 6.3 =&gt; JBoss AS 7.4.0.Final\r\n                         ma tale release non e&#39; disponibile nei repo Maven\r\n                         quindi usiamo la versione piu&#39; simile disponibile\r\n                      --&gt;\r\n                    &lt;version&gt;7.4.0.Final-redhat-4&lt;/version&gt;\r\n                    &lt;jvmArgs&gt;-Xms64m -Xmx512m -XX:MaxPermSize=256m -Djava.net.preferIPv4Stack=true\r\n                        -Dorg.jboss.resolver.warning=true -Dsun.rmi.dgc.client.gcInterval=3600000\r\n                        -Dsun.rmi.dgc.server.gcInterval=3600000\r\n                        -Djboss.socket.binding.port-offset=100\r\n                        -Djboss.server.config.dir=${project.build.testOutputDirectory}/configuration\r\n                        ${jacocoAgent}\r\n&lt;!--                        &amp;lt;!&amp;ndash;per eseguire il debug remoto rimuovere il commento dalla riga sottostante--&gt;\r\n&lt;!--                            -Xrunjdwp:transport=dt_socket,address=33333,server=y,suspend=y--&gt;\r\n                    &lt;/jvmArgs&gt;\r\n                    &lt;port&gt;10099&lt;/port&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;start&lt;/id&gt;\r\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;start&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;startup-timeout&gt;120&lt;/startup-timeout&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;avoid-console-logging&lt;/id&gt;\r\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;execute-commands&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;execute-commands&gt;\r\n                                &lt;commands&gt;\r\n                                    &lt;command&gt;/subsystem=logging/root-logger=ROOT:root-logger-unassign-handler(name=&quot;CONSOLE&quot;)&lt;/command&gt;\r\n                                &lt;/commands&gt;\r\n                            &lt;/execute-commands&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;deploy&lt;/id&gt;\r\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;deploy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;stop&lt;/id&gt;\r\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;undeploy&lt;/goal&gt;&lt;!-- Per eseguire &quot;mvn verify&quot; e non solo &quot;mvn clean verify&quot; --&gt;\r\n                            &lt;goal&gt;shutdown&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;&lt;!-- Deve stare ***DOPO*** il maven-resources-plugin --&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;loadProperties&lt;/id&gt;\r\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;exportAntProperties&gt;true&lt;/exportAntProperties&gt;\r\n                            &lt;target&gt;\r\n                                &lt;exec executable=&quot;hostname&quot; outputproperty=&quot;computer.hostname&quot; /&gt;\r\n                                &lt;!-- Default &quot;overwrite=false&quot; =&gt; non sovrascrive l&#39;eventuale properties gia&#39; presente --&gt;\r\n                                &lt;copy file=&quot;src/test/resources/local.properties&quot; tofile=&quot;${project.build.outputDirectory}/${computer.hostname}.properties&quot; /&gt;\r\n                                &lt;loadproperties srcFile=&quot;${project.build.outputDirectory}/${computer.hostname}.properties&quot; /&gt;\r\n                            &lt;/target&gt;\r\n                        &lt;/configuration&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;run&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!--This plugin&#39;s configuration is used to store Eclipse m2e settings\r\n                    only. It has no influence on the Maven build itself. --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;lifecycleMappingMetadata&gt;\r\n                            &lt;pluginExecutions&gt;\r\n                                &lt;pluginExecution&gt;\r\n                                    &lt;pluginExecutionFilter&gt;\r\n                                        &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\r\n                                        &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n                                        &lt;versionRange&gt;[2.3,)&lt;/versionRange&gt;\r\n                                        &lt;goals&gt;\r\n                                            &lt;goal&gt;wsimport&lt;/goal&gt;\r\n                                        &lt;/goals&gt;\r\n                                    &lt;/pluginExecutionFilter&gt;\r\n                                    &lt;action&gt;\r\n                                        &lt;execute /&gt;\r\n                                    &lt;/action&gt;\r\n                                &lt;/pluginExecution&gt;\r\n                            &lt;/pluginExecutions&gt;\r\n                        &lt;/lifecycleMappingMetadata&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;profiles&gt;\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;Jenkins&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;!--forza l&#39;utilizzo della toolchain JDK 7 per la build --&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.1&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;toolchain&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;toolchains&gt;\r\n                                &lt;jdk&gt;\r\n                                    &lt;version&gt;1.7&lt;/version&gt;\r\n                                &lt;/jdk&gt;\r\n                            &lt;/toolchains&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;!--Il plugin di JBoss non &#232; toolchain-aware, per cui si deve forzare l&#39;esecuzione di JBoss su JDK7 --&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.jboss.as.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jboss-as-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;7.8.Final&lt;/version&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;javaHome&gt;${jdkJenkins}&lt;/javaHome&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n            &lt;properties&gt;\r\n                &lt;jdkJenkins&gt;/opt/java/jdk1.7.0_71&lt;/jdkJenkins&gt;\r\n                &lt;!--disabilita il plugin enforcer (perche&#39; non e&#39; toolchain-aware e comunque non serve dal --&gt;\r\n                &lt;!--momento che si specifica esplicitamente il JDK utilizzato tramite JDK toolchain        --&gt;\r\n                &lt;enforcer.skip&gt;true&lt;/enforcer.skip&gt;\r\n                &lt;!-- imposta il path di wsimport nel server Jenkins per il maven-jaxws-plugin --&gt;\r\n                &lt;tool.wsimport&gt;${jdkJenkins}/bin/wsimport&lt;/tool.wsimport&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nI have tried to search thorougly on the web, but I can&#39;t find the right configuration. Do you have some suggestions?","title":"jboss-as-maven plugin migrating to jdk 11","body":"<p>I am on a maven project, migrating from Java 8 to 11, and I am facing these errors:</p>\n<blockquote>\n<p>11:36:39,016 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-11) MSC000001: Failed to start service jboss.txn.ArjunaObjectStoreEnvironment: org.jboss.msc.service.StartException in service jboss.txn.ArjunaObjectStoreEnvironment: Failed to start service\nat\n11:36:39,352 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 30) JBAS014612: Operation (&quot;add&quot;) failed - address: ([\n(&quot;subsystem&quot; =&gt; &quot;infinispan&quot;),\n(&quot;cache-container&quot; =&gt; &quot;web&quot;),\n(&quot;local-cache&quot; =&gt; &quot;local-web&quot;)\n]): java.lang.NoClassDefFoundError: jdk/internal/reflect/ConstructorAccessorImpl\nat java.base/jdk.internal.misc.Unsafe.defineClass0(Native Method) [java.base:]\nat java.base/jdk.internal.misc.Unsafe.defineClass(Unsafe.java:1194) [java.base:]\nat java.base/jdk.internal.reflect.ClassDefiner.defineClass(ClassDefiner.java:63) [java.base:]\nat j</p>\n</blockquote>\n<blockquote>\n<p>11:36:39,394 ERROR [org.jboss.as.controller.management-operation]\n(ServerService Thread Pool -- 47) JBAS014612: Operation (&quot;add&quot;) failed</p>\n<ul>\n<li>address: ([(&quot;subsystem&quot; =&gt; &quot;web&quot;)]): javax.xml.stream.FactoryConfigurationError: Provider\n__redirected.__XMLInputFactory could not be instantiated: java.lang.reflect.InvocationTargetException     at</li>\n</ul>\n</blockquote>\n<blockquote>\n<p>[java.base:]  at\n__redirected.__XMLInputFactory.(__XMLInputFactory.java:115) [jboss-modules.jar:1.3.0.Final-redhat-2]    ... 23 more Caused by:\njava.lang.ClassNotFoundException:\njdk.internal.reflect.ConstructorAccessorImpl from [Module\n&quot;org.codehaus.woodstox:main&quot; from local module loader @299270eb\n(finder: local module finder @3b90a30a (roots:\nC:\\Users\\ActionICT-Motti\\IdeaProjects\\DocumentsStorage_v1\\target\\jboss-as-run\\jboss-eap-6.3\\modules,C:\\Users\\ActionICT-Motti\\IdeaProjects\\DocumentsStorage_v1\\target\\jboss-as-run\\jboss-eap-6.3\\modules\\system\\layers\\base))]</p>\n</blockquote>\n<p>This is my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;it.bper.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;DocumentsStorageWS&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;1.22.1&lt;/version&gt;\n    &lt;name&gt;documents storage Maven Webapp&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;!-- Repository per scaricare JBoss AS --&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jboss-enterprise-maven-repository&lt;/id&gt;\n            &lt;name&gt;JBoss Enterprise Maven Repository - Early-access repository&lt;/name&gt;\n            &lt;url&gt;https://maven.repository.redhat.com/earlyaccess/all&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.jboss.narayana.arjunacore/arjuna --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.narayana.arjunacore&lt;/groupId&gt;\n            &lt;artifactId&gt;arjuna&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.28&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Common libraries --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n            &lt;artifactId&gt;wiremock-standalone&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n             IBM Filenet libraries\n             A runtime servono tutti i JAR, come da documentazione FileNet:\n             - Jace.jar\n             - stax-api.jar\n             - xlxpScanner.jar\n             - xlxpScannerUtils.jar\n             - log4j.jar (la versione nel FileNet di BPER e' la 1.2.14)\n             ma qui riportiamo solo quelli strettamente necessari per compilare\n             ed eseguire i test, perche' gli altri JAR sono in WEB-INF/lib\n             quindi accessibili dal class loader della web application\n          --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.filenet&lt;/groupId&gt;\n            &lt;artifactId&gt;jace&lt;/artifactId&gt;\n            &lt;version&gt;4.5.2&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${basedir}/src/main/webapp/WEB-INF/lib/Jace.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Logging libraries --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-alpha1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Test libraries --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.16.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.jws&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.jws-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;parallel&gt;all&lt;/parallel&gt;\n                    &lt;useUnlimitedThreads&gt;false&lt;/useUnlimitedThreads&gt;\n                    &lt;threadCount&gt;6&lt;/threadCount&gt;\n                    &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n           &lt;!-- &lt;plugin&gt;\n                &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.4.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;enforce-java&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;enforce&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;requireJavaVersion&gt;\n                                    &lt;message&gt;Il JDK da utilizzare dev'essere 1.7&lt;/message&gt;\n                                    &lt;version&gt;[1.7,1.8)&lt;/version&gt;\n                                &lt;/requireJavaVersion&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;--&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n                        &lt;artifactId&gt;asm&lt;/artifactId&gt;\n                        &lt;version&gt;6.2&lt;/version&gt; &lt;!-- Use newer version of ASM --&gt;\n                    &lt;/dependency&gt;\n                    &lt;!-- https://mvnrepository.com/artifact/org.jboss.narayana.arjunacore/arjuna --&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jboss.narayana.arjunacore&lt;/groupId&gt;\n                        &lt;artifactId&gt;arjuna&lt;/artifactId&gt;\n                        &lt;version&gt;7.0.0.Final&lt;/version&gt;\n                    &lt;/dependency&gt;\n\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-java-sources&lt;/id&gt;\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;wsimport&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;xadditionalHeaders&gt;true&lt;/xadditionalHeaders&gt;\n                        &lt;executable&gt;${tool.wsimport}&lt;/executable&gt;&lt;!-- Piu' veloce nel generare i sorgenti --&gt;\n                        &lt;wsdlDirectory&gt;src/main/resources/wsdl&lt;/wsdlDirectory&gt;\n                        &lt;target&gt;2.1&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n                        &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n                        &lt;version&gt;1.3.2&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n                        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n                        &lt;version&gt;2.3.1&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n                        &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n                        &lt;version&gt;2.3.1&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;javax.jws&lt;/groupId&gt;\n                        &lt;artifactId&gt;javax.jws-api&lt;/artifactId&gt;\n                        &lt;version&gt;1.1&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;external.atlassian.jgitflow&lt;/groupId&gt;\n                &lt;artifactId&gt;jgitflow-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.0-m5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;releaseBranchVersionSuffix&gt;RC&lt;/releaseBranchVersionSuffix&gt;\n                    &lt;noDeploy&gt;true&lt;/noDeploy&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.10&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;!-- test unitari--&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;prepare agent&lt;/id&gt;\n\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;!-- test integrazione --&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;prepare agent integration&lt;/id&gt;\n\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent-integration&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;propertyName&gt;jacocoAgent&lt;/propertyName&gt;\n                            &lt;classDumpDir&gt;${project.build.directory}/dumpClassDir&lt;/classDumpDir&gt;\n                            &lt;output&gt;file&lt;/output&gt;\n                            &lt;append&gt;true&lt;/append&gt;\n                            &lt;dumpOnExit&gt;true&lt;/dumpOnExit&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jboss.as.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;jboss-as-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;7.9.Final&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!--\n                         In produzione c'e' JBoss EAP 6.3 =&gt; JBoss AS 7.4.0.Final\n                         ma tale release non e' disponibile nei repo Maven\n                         quindi usiamo la versione piu' simile disponibile\n                      --&gt;\n                    &lt;version&gt;7.4.0.Final-redhat-4&lt;/version&gt;\n                    &lt;jvmArgs&gt;-Xms64m -Xmx512m -XX:MaxPermSize=256m -Djava.net.preferIPv4Stack=true\n                        -Dorg.jboss.resolver.warning=true -Dsun.rmi.dgc.client.gcInterval=3600000\n                        -Dsun.rmi.dgc.server.gcInterval=3600000\n                        -Djboss.socket.binding.port-offset=100\n                        -Djboss.server.config.dir=${project.build.testOutputDirectory}/configuration\n                        ${jacocoAgent}\n&lt;!--                        &amp;lt;!&amp;ndash;per eseguire il debug remoto rimuovere il commento dalla riga sottostante--&gt;\n&lt;!--                            -Xrunjdwp:transport=dt_socket,address=33333,server=y,suspend=y--&gt;\n                    &lt;/jvmArgs&gt;\n                    &lt;port&gt;10099&lt;/port&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;start&lt;/id&gt;\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;start&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;startup-timeout&gt;120&lt;/startup-timeout&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;avoid-console-logging&lt;/id&gt;\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;execute-commands&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;execute-commands&gt;\n                                &lt;commands&gt;\n                                    &lt;command&gt;/subsystem=logging/root-logger=ROOT:root-logger-unassign-handler(name=&quot;CONSOLE&quot;)&lt;/command&gt;\n                                &lt;/commands&gt;\n                            &lt;/execute-commands&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;deploy&lt;/id&gt;\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;deploy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;stop&lt;/id&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;undeploy&lt;/goal&gt;&lt;!-- Per eseguire &quot;mvn verify&quot; e non solo &quot;mvn clean verify&quot; --&gt;\n                            &lt;goal&gt;shutdown&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;&lt;!-- Deve stare ***DOPO*** il maven-resources-plugin --&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;loadProperties&lt;/id&gt;\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;exportAntProperties&gt;true&lt;/exportAntProperties&gt;\n                            &lt;target&gt;\n                                &lt;exec executable=&quot;hostname&quot; outputproperty=&quot;computer.hostname&quot; /&gt;\n                                &lt;!-- Default &quot;overwrite=false&quot; =&gt; non sovrascrive l'eventuale properties gia' presente --&gt;\n                                &lt;copy file=&quot;src/test/resources/local.properties&quot; tofile=&quot;${project.build.outputDirectory}/${computer.hostname}.properties&quot; /&gt;\n                                &lt;loadproperties srcFile=&quot;${project.build.outputDirectory}/${computer.hostname}.properties&quot; /&gt;\n                            &lt;/target&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;!--This plugin's configuration is used to store Eclipse m2e settings\n                    only. It has no influence on the Maven build itself. --&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n                    &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n                    &lt;version&gt;1.0.0&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;lifecycleMappingMetadata&gt;\n                            &lt;pluginExecutions&gt;\n                                &lt;pluginExecution&gt;\n                                    &lt;pluginExecutionFilter&gt;\n                                        &lt;groupId&gt;org.jvnet.jax-ws-commons&lt;/groupId&gt;\n                                        &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n                                        &lt;versionRange&gt;[2.3,)&lt;/versionRange&gt;\n                                        &lt;goals&gt;\n                                            &lt;goal&gt;wsimport&lt;/goal&gt;\n                                        &lt;/goals&gt;\n                                    &lt;/pluginExecutionFilter&gt;\n                                    &lt;action&gt;\n                                        &lt;execute /&gt;\n                                    &lt;/action&gt;\n                                &lt;/pluginExecution&gt;\n                            &lt;/pluginExecutions&gt;\n                        &lt;/lifecycleMappingMetadata&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;Jenkins&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;!--forza l'utilizzo della toolchain JDK 7 per la build --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;1.1&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;toolchain&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;toolchains&gt;\n                                &lt;jdk&gt;\n                                    &lt;version&gt;1.7&lt;/version&gt;\n                                &lt;/jdk&gt;\n                            &lt;/toolchains&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;!--Il plugin di JBoss non √® toolchain-aware, per cui si deve forzare l'esecuzione di JBoss su JDK7 --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.jboss.as.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;jboss-as-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;7.8.Final&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;javaHome&gt;${jdkJenkins}&lt;/javaHome&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n            &lt;properties&gt;\n                &lt;jdkJenkins&gt;/opt/java/jdk1.7.0_71&lt;/jdkJenkins&gt;\n                &lt;!--disabilita il plugin enforcer (perche' non e' toolchain-aware e comunque non serve dal --&gt;\n                &lt;!--momento che si specifica esplicitamente il JDK utilizzato tramite JDK toolchain        --&gt;\n                &lt;enforcer.skip&gt;true&lt;/enforcer.skip&gt;\n                &lt;!-- imposta il path di wsimport nel server Jenkins per il maven-jaxws-plugin --&gt;\n                &lt;tool.wsimport&gt;${jdkJenkins}/bin/wsimport&lt;/tool.wsimport&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>I have tried to search thorougly on the web, but I can't find the right configuration. Do you have some suggestions?</p>\n"},{"tags":["java","android","image-processing","computer-vision","image-segmentation"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1696010500,"post_id":77203768,"comment_id":136104098,"body_markdown":"Honestly this feels a bit broad since if you search on &quot;opencv image segmentation&quot; brings up a few algorithms. Which algorithms were the most successful or accurate depends on the definition of &quot;success&quot; or &quot;accurate&quot;. Also realize that Zoom for Android has a minimum hardware requirement for background blur/virtual background: https://support.zoom.us/hc/en-us/articles/360043484511","body":"Honestly this feels a bit broad since if you search on &quot;opencv image segmentation&quot; brings up a few algorithms. Which algorithms were the most successful or accurate depends on the definition of &quot;success&quot; or &quot;accurate&quot;. Also realize that Zoom for Android has a minimum hardware requirement for background blur/virtual background: <a href=\"https://support.zoom.us/hc/en-us/articles/360043484511\" rel=\"nofollow noreferrer\">support.zoom.us/hc/en-us/articles/360043484511</a>"},{"owner":{"account_id":3868910,"reputation":4935,"user_id":3204706,"accept_rate":53,"display_name":"Tina J"},"score":0,"creation_date":1696011388,"post_id":77203768,"comment_id":136104253,"body_markdown":"My only concern is to avoid large libraries and preferrably use lightweight solutions like OpenCV or what is available natively in Android.","body":"My only concern is to avoid large libraries and preferrably use lightweight solutions like OpenCV or what is available natively in Android."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1696011741,"post_id":77203768,"comment_id":136104306,"body_markdown":"If you look at attempts at packing an OpenCV into Android I&#39;m not sure if there is much space savings as the older OpenCV Manager (a separate app) was deprecated a long time ago, and the Play Store currently breaks up app delivery by ABI architecture. Also in your code you don&#39;t use the same input image sizes as ML solutions, https://developers.google.com/mediapipe/solutions/vision/image_segmenter#selfie-model","body":"If you look at attempts at packing an OpenCV into Android I&#39;m not sure if there is much space savings as the older OpenCV Manager (a separate app) was deprecated a long time ago, and the Play Store currently breaks up app delivery by ABI architecture. Also in your code you don&#39;t use the same input image sizes as ML solutions, <a href=\"https://developers.google.com/mediapipe/solutions/vision/image_segmenter#selfie-model\" rel=\"nofollow noreferrer\">developers.google.com/mediapipe/solutions/vision/&hellip;</a>"},{"owner":{"account_id":3868910,"reputation":4935,"user_id":3204706,"accept_rate":53,"display_name":"Tina J"},"score":0,"creation_date":1696012197,"post_id":77203768,"comment_id":136104378,"body_markdown":"Yeah I agree. Maybe I should stick to deep models. But yet I have to import TFLite library which still is an overhead. But maybe that&#39;s smaller than MLKit or MediaPipe libraries. I think that&#39;s minimum I have to include anyways. Right? Any thoughts?","body":"Yeah I agree. Maybe I should stick to deep models. But yet I have to import TFLite library which still is an overhead. But maybe that&#39;s smaller than MLKit or MediaPipe libraries. I think that&#39;s minimum I have to include anyways. Right? Any thoughts?"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1696014132,"post_id":77203768,"comment_id":136104657,"body_markdown":"TFLite is what both MLKit and MediaPipe use under the hood. The beta status of both higher SDKs may be issues of device compatibility, so any problem that either higher level framework &#39;fixes&#39; is something that needs to be done in the lower layer by you without them. Given how long image segmentation has been &#39;beta&#39; it is unclear when it will leave such status. TLDR: pick one that fits best for you but under the hood MLKit &amp; MediaPipe both use the same image segment binaries, look at &#39;model card&#39; for details.","body":"TFLite is what both MLKit and MediaPipe use under the hood. The beta status of both higher SDKs may be issues of device compatibility, so any problem that either higher level framework &#39;fixes&#39; is something that needs to be done in the lower layer by you without them. Given how long image segmentation has been &#39;beta&#39; it is unclear when it will leave such status. TLDR: pick one that fits best for you but under the hood MLKit &amp; MediaPipe both use the same image segment binaries, look at &#39;model card&#39; for details."},{"owner":{"account_id":3868910,"reputation":4935,"user_id":3204706,"accept_rate":53,"display_name":"Tina J"},"score":0,"creation_date":1696014560,"post_id":77203768,"comment_id":136104706,"body_markdown":"Hmm I didn&#39;t know both use the same .tflite model! But I think at least including a TFLite library is less size than including MLKit or Mediapipe itself. Plus, it gives higher flexibility to add more Deep Learning features later. I wish there were some examples how to use this TFLite model using the camera app.","body":"Hmm I didn&#39;t know both use the same .tflite model! But I think at least including a TFLite library is less size than including MLKit or Mediapipe itself. Plus, it gives higher flexibility to add more Deep Learning features later. I wish there were some examples how to use this TFLite model using the camera app."},{"owner":{"account_id":9938133,"reputation":48523,"user_id":7355741,"display_name":"fmw42"},"score":0,"creation_date":1696016062,"post_id":77203768,"comment_id":136104893,"body_markdown":"If the foreground (person) and background are distinct, then simple thresholding should work with some morphology to clean it up. However, if they are not distinct, then I suspect you will need AI/Deep Learning to do that. You might also be able to do that with the help of depth information available on many cellphones. Threshold the depth information","body":"If the foreground (person) and background are distinct, then simple thresholding should work with some morphology to clean it up. However, if they are not distinct, then I suspect you will need AI/Deep Learning to do that. You might also be able to do that with the help of depth information available on many cellphones. Threshold the depth information"},{"owner":{"account_id":3868910,"reputation":4935,"user_id":3204706,"accept_rate":53,"display_name":"Tina J"},"score":0,"creation_date":1696016140,"post_id":77203768,"comment_id":136104905,"body_markdown":"@fmw42 interesting. Can you share some sample code for your morphology approach?","body":"@fmw42 interesting. Can you share some sample code for your morphology approach?"},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1696066512,"post_id":77203768,"comment_id":136108591,"body_markdown":"crosspost: https://forum.opencv.org/t/selfie-segmentation-using-opencv/14699","body":"crosspost: <a href=\"https://forum.opencv.org/t/selfie-segmentation-using-opencv/14699\" rel=\"nofollow noreferrer\">forum.opencv.org/t/selfie-segmentation-using-opencv/14699</a>"}],"answers":[{"tags":[],"owner":{"account_id":9938133,"reputation":48523,"user_id":7355741,"display_name":"fmw42"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1696018233,"creation_date":1696018233,"answer_id":77204569,"question_id":77203768,"body_markdown":"You asked for an example of thresholding and morphology in Python/OpenCV. In the following, I show that plus a better method that simply thresholds and gets the largest contour. The latter method should not be as image and threshold dependent.\r\n\r\nInput:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import cv2\r\n    import numpy as np\r\n    \r\n    # read the input\r\n    img = cv2.imread(&#39;headshot.png&#39;)\r\n    hh, ww = img.shape[:2]\r\n    \r\n    # threshold on background\r\n    lower = (160,160,160)\r\n    upper = (255,255,255)\r\n    thresh = cv2.inRange(img, lower, upper)\r\n    \r\n    # invert\r\n    thresh = 255 - thresh\r\n    \r\n    # pad\r\n    thresh2 = cv2.copyMakeBorder(thresh, 20, 20, 20, 20, borderType=cv2.BORDER_CONSTANT, value=(0,0,0))\r\n    \r\n    # apply morphology open and close to clean up (kernel will be image and threshold dependent)\r\n    kernel = cv2.getStructuringElement(cv2.MORPH_ELLIPSE, (15,15))\r\n    morph = cv2.morphologyEx(thresh2, cv2.MORPH_OPEN, kernel)\r\n    morph = cv2.morphologyEx(morph, cv2.MORPH_CLOSE, kernel)\r\n    \r\n    # invert\r\n    morph = 255 - morph\r\n    \r\n    # crop to remove pad\r\n    result1 = morph[20:hh+20, 20:ww+20]\r\n    \r\n    # BETTER should be to just get the largest contour from the threshold image\r\n    contours = cv2.findContours(thresh, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)\r\n    contours = contours[0] if len(contours) == 2 else contours[1]\r\n    big_contour = max(contours, key=cv2.contourArea)\r\n    \r\n    # draw black filled contour on white background as mas\r\n    result2 = np.full_like(thresh, 255)\r\n    cv2.drawContours(result2, [big_contour], 0, 0, -1)\r\n    \r\n    # save results\r\n    cv2.imwrite(&#39;headshot_thresh.png&#39;, thresh2)\r\n    cv2.imwrite(&#39;headshot_morph.png&#39;, morph)\r\n    cv2.imwrite(&#39;headshot_result1.png&#39;, result1)\r\n    cv2.imwrite(&#39;headshot_result2.png&#39;, result2)\r\n    \r\n    # show results\r\n    cv2.imshow(&#39;thresh&#39;, thresh2)\r\n    cv2.imshow(&#39;morph&#39;, morph)\r\n    cv2.imshow(&#39;result1&#39;, result1)\r\n    cv2.imshow(&#39;result2&#39;, result2)\r\n    cv2.waitKey(0)\r\n\r\n\r\nThreshold image:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nResult from threshold and morphology:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nResult from threshold and use largest contour:\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fZKRF.png\r\n  [2]: https://i.stack.imgur.com/HQWEh.png\r\n  [3]: https://i.stack.imgur.com/vZ2f6.png\r\n  [4]: https://i.stack.imgur.com/vWVK8.png\r\n  [5]: https://i.stack.imgur.com/YF7sI.png","title":"Selfie segmentation using image processing techniques","body":"<p>You asked for an example of thresholding and morphology in Python/OpenCV. In the following, I show that plus a better method that simply thresholds and gets the largest contour. The latter method should not be as image and threshold dependent.</p>\n<p>Input:</p>\n<p><a href=\"https://i.stack.imgur.com/fZKRF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fZKRF.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import cv2\nimport numpy as np\n\n# read the input\nimg = cv2.imread('headshot.png')\nhh, ww = img.shape[:2]\n\n# threshold on background\nlower = (160,160,160)\nupper = (255,255,255)\nthresh = cv2.inRange(img, lower, upper)\n\n# invert\nthresh = 255 - thresh\n\n# pad\nthresh2 = cv2.copyMakeBorder(thresh, 20, 20, 20, 20, borderType=cv2.BORDER_CONSTANT, value=(0,0,0))\n\n# apply morphology open and close to clean up (kernel will be image and threshold dependent)\nkernel = cv2.getStructuringElement(cv2.MORPH_ELLIPSE, (15,15))\nmorph = cv2.morphologyEx(thresh2, cv2.MORPH_OPEN, kernel)\nmorph = cv2.morphologyEx(morph, cv2.MORPH_CLOSE, kernel)\n\n# invert\nmorph = 255 - morph\n\n# crop to remove pad\nresult1 = morph[20:hh+20, 20:ww+20]\n\n# BETTER should be to just get the largest contour from the threshold image\ncontours = cv2.findContours(thresh, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)\ncontours = contours[0] if len(contours) == 2 else contours[1]\nbig_contour = max(contours, key=cv2.contourArea)\n\n# draw black filled contour on white background as mas\nresult2 = np.full_like(thresh, 255)\ncv2.drawContours(result2, [big_contour], 0, 0, -1)\n\n# save results\ncv2.imwrite('headshot_thresh.png', thresh2)\ncv2.imwrite('headshot_morph.png', morph)\ncv2.imwrite('headshot_result1.png', result1)\ncv2.imwrite('headshot_result2.png', result2)\n\n# show results\ncv2.imshow('thresh', thresh2)\ncv2.imshow('morph', morph)\ncv2.imshow('result1', result1)\ncv2.imshow('result2', result2)\ncv2.waitKey(0)\n</code></pre>\n<p>Threshold image:</p>\n<p><a href=\"https://i.stack.imgur.com/HQWEh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HQWEh.png\" alt=\"enter image description here\" /></a></p>\n<p>Result from threshold and morphology:</p>\n<p><a href=\"https://i.stack.imgur.com/vWVK8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vWVK8.png\" alt=\"enter image description here\" /></a></p>\n<p>Result from threshold and use largest contour:</p>\n<p><a href=\"https://i.stack.imgur.com/YF7sI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YF7sI.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3868910,"reputation":4935,"user_id":3204706,"accept_rate":53,"display_name":"Tina J"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696018233,"creation_date":1696008084,"question_id":77203768,"body_markdown":"I want to perform selfie segmentation on Android, similar to what Zoom does. However, I would like to do it preferrably without using deep learning models and instead rely solely on conventional image processing and computer vision techniques, such as using only OpenCV or just Android SDK. Google [MLKit][1] or Mediapipe have this functionalities but I don&#39;t want to include a large library to do so, so that library size is my only concern. My goal is to achieve fast selfie segmentation; may not be very accurate but it&#39;s fine as long as it&#39;s not a large library.\r\n\r\nHow can I do that? I assume apps like Zoom were probably using image processing techniques before using deep learning models, so there should be ways to achieve that.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nI did some simple experiments using OpenCV&#39;s `grabcut` in Python. But it&#39;s slow yet it wasn&#39;t accurate at all.\r\n\r\n    import numpy as np\r\n    import cv2 as cv\r\n    from matplotlib import pyplot as plt\r\n    img = cv.imread(&#39;selfie.jpg&#39;)\r\n    assert img is not None, &quot;file could not be read, check with os.path.exists()&quot;\r\n    mask = np.zeros(img.shape[:2],np.uint8)\r\n    bgdModel = np.zeros((1,65),np.float64)\r\n    fgdModel = np.zeros((1,65),np.float64)\r\n    rect = (0,0,530,710)\r\n    cv.grabCut(img,mask,rect,bgdModel,fgdModel,5,cv.GC_INIT_WITH_RECT)\r\n    mask2 = np.where((mask==2)|(mask==0),0,1).astype(&#39;uint8&#39;)\r\n    img = img*mask2[:,:,np.newaxis]\r\n    plt.imshow(img),plt.colorbar(),plt.show()\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://developers.google.com/ml-kit/vision/selfie-segmentation\r\n  [2]: https://i.stack.imgur.com/nqgefm.png\r\n  [3]: https://i.stack.imgur.com/jbrum.png","title":"Selfie segmentation using image processing techniques","body":"<p>I want to perform selfie segmentation on Android, similar to what Zoom does. However, I would like to do it preferrably without using deep learning models and instead rely solely on conventional image processing and computer vision techniques, such as using only OpenCV or just Android SDK. Google <a href=\"https://developers.google.com/ml-kit/vision/selfie-segmentation\" rel=\"nofollow noreferrer\">MLKit</a> or Mediapipe have this functionalities but I don't want to include a large library to do so, so that library size is my only concern. My goal is to achieve fast selfie segmentation; may not be very accurate but it's fine as long as it's not a large library.</p>\n<p>How can I do that? I assume apps like Zoom were probably using image processing techniques before using deep learning models, so there should be ways to achieve that.</p>\n<p><a href=\"https://i.stack.imgur.com/nqgefm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nqgefm.png\" alt=\"enter image description here\" /></a></p>\n<p>I did some simple experiments using OpenCV's <code>grabcut</code> in Python. But it's slow yet it wasn't accurate at all.</p>\n<pre><code>import numpy as np\nimport cv2 as cv\nfrom matplotlib import pyplot as plt\nimg = cv.imread('selfie.jpg')\nassert img is not None, &quot;file could not be read, check with os.path.exists()&quot;\nmask = np.zeros(img.shape[:2],np.uint8)\nbgdModel = np.zeros((1,65),np.float64)\nfgdModel = np.zeros((1,65),np.float64)\nrect = (0,0,530,710)\ncv.grabCut(img,mask,rect,bgdModel,fgdModel,5,cv.GC_INIT_WITH_RECT)\nmask2 = np.where((mask==2)|(mask==0),0,1).astype('uint8')\nimg = img*mask2[:,:,np.newaxis]\nplt.imshow(img),plt.colorbar(),plt.show()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jbrum.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jbrum.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1695991459,"post_id":77200726,"comment_id":136100252,"body_markdown":"JavaFX text input controls do not support styling for portions of the text. Consider either using a web component (such as a `WebView` or `HTMLEditor`) or a third party library (such as [Rich Text FX](https://github.com/FXMisc/RichTextFX))","body":"JavaFX text input controls do not support styling for portions of the text. Consider either using a web component (such as a <code>WebView</code> or <code>HTMLEditor</code>) or a third party library (such as <a href=\"https://github.com/FXMisc/RichTextFX\" rel=\"nofollow noreferrer\">Rich Text FX</a>)"}],"answers":[{"tags":[],"owner":{"account_id":7122142,"reputation":544,"user_id":5446381,"display_name":"Florian Kirmaier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695986051,"creation_date":1695986051,"answer_id":77201474,"question_id":77200726,"body_markdown":"Here is a simple program ...\r\n\r\nWe add a listener to the TextField. When its text changes to `warning`, we add the style class &quot;warning&quot; to it. The text color can now be easily changed to red.\r\n\r\n**Code:**\r\n```\r\npublic class TestfieldStyle extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        TextField field = new TextField();\r\n\r\n        field.textProperty().addListener((p,o,n) -&gt; {\r\n            if(n.equals(&quot;warning&quot;)) {\r\n                field.getStyleClass().add(&quot;warning&quot;);\r\n            } else {\r\n                field.getStyleClass().remove(&quot;warning&quot;);\r\n            }\r\n        });\r\n\r\n        VBox root = new VBox(field);\r\n        root.getStylesheets().add(&quot;/textfield.css&quot;);\r\n\r\n        stage.setScene(new Scene(root,500,500));\r\n        stage.show();\r\n    }\r\n}\r\n```\r\n\r\n**CSS:**\r\n```\r\n.text-field.warning {\r\n    -fx-text-fill: red;\r\n}\r\n```","title":"Changing the color of a word in a TextField in javafx","body":"<p>Here is a simple program ...</p>\n<p>We add a listener to the TextField. When its text changes to <code>warning</code>, we add the style class &quot;warning&quot; to it. The text color can now be easily changed to red.</p>\n<p><strong>Code:</strong></p>\n<pre><code>public class TestfieldStyle extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        TextField field = new TextField();\n\n        field.textProperty().addListener((p,o,n) -&gt; {\n            if(n.equals(&quot;warning&quot;)) {\n                field.getStyleClass().add(&quot;warning&quot;);\n            } else {\n                field.getStyleClass().remove(&quot;warning&quot;);\n            }\n        });\n\n        VBox root = new VBox(field);\n        root.getStylesheets().add(&quot;/textfield.css&quot;);\n\n        stage.setScene(new Scene(root,500,500));\n        stage.show();\n    }\n}\n</code></pre>\n<p><strong>CSS:</strong></p>\n<pre><code>.text-field.warning {\n    -fx-text-fill: red;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1696016362,"creation_date":1696016362,"answer_id":77204437,"question_id":77200726,"body_markdown":"JavaFX text input controls do not support multiple styles for different parts of the text. One way to do that is to use a third-party library that provides that functionality. The [RichTextFX]() library contains some styled text area classes that do this. Here is a brief example of using this library for something similar to what you describe:\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.event.Event;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.stage.Stage;\r\nimport org.fxmisc.richtext.StyleClassedTextArea;\r\nimport org.fxmisc.wellbehaved.event.EventPattern;\r\nimport org.fxmisc.wellbehaved.event.InputMap;\r\nimport org.fxmisc.wellbehaved.event.Nodes;\r\n\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) {\r\n        StyleClassedTextArea textArea = new StyleClassedTextArea();\r\n        Pattern pattern = Pattern.compile(&quot;warning&quot;);\r\n        textArea.textProperty().addListener((obs, oldText, text) -&gt; {\r\n            textArea.clearStyle(0, textArea.getLength());\r\n            Matcher matcher = pattern.matcher(text);\r\n            while (matcher.find()) {\r\n                textArea.setStyleClass(matcher.start(), matcher.end(), &quot;warning&quot;);\r\n            }\r\n        });\r\n        textArea.replaceText(&quot;This text area will highlight the word warning in any text&quot;);\r\n        BorderPane root = new BorderPane(textArea);\r\n        Scene scene = new Scene(root);\r\n        scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nstyle.css:\r\n\r\n```\r\n.warning {\r\n    -fx-fill:red;\r\n}\r\n```\r\n\r\nHere is a portion of the `pom.xml` that provides the RichTextFX library:\r\n\r\n```\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;sonatype&lt;/id&gt;\r\n            &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;20.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.fxmisc.richtext&lt;/groupId&gt;\r\n            &lt;artifactId&gt;richtextfx&lt;/artifactId&gt;\r\n            &lt;version&gt;0.11.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;!-- ... --&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4YVRq.png","title":"Changing the color of a word in a TextField in javafx","body":"<p>JavaFX text input controls do not support multiple styles for different parts of the text. One way to do that is to use a third-party library that provides that functionality. The RichTextFX library contains some styled text area classes that do this. Here is a brief example of using this library for something similar to what you describe:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.event.Event;\nimport javafx.scene.Scene;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\nimport org.fxmisc.richtext.StyleClassedTextArea;\nimport org.fxmisc.wellbehaved.event.EventPattern;\nimport org.fxmisc.wellbehaved.event.InputMap;\nimport org.fxmisc.wellbehaved.event.Nodes;\n\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) {\n        StyleClassedTextArea textArea = new StyleClassedTextArea();\n        Pattern pattern = Pattern.compile(&quot;warning&quot;);\n        textArea.textProperty().addListener((obs, oldText, text) -&gt; {\n            textArea.clearStyle(0, textArea.getLength());\n            Matcher matcher = pattern.matcher(text);\n            while (matcher.find()) {\n                textArea.setStyleClass(matcher.start(), matcher.end(), &quot;warning&quot;);\n            }\n        });\n        textArea.replaceText(&quot;This text area will highlight the word warning in any text&quot;);\n        BorderPane root = new BorderPane(textArea);\n        Scene scene = new Scene(root);\n        scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>style.css:</p>\n<pre><code>.warning {\n    -fx-fill:red;\n}\n</code></pre>\n<p>Here is a portion of the <code>pom.xml</code> that provides the RichTextFX library:</p>\n<pre><code>    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;sonatype&lt;/id&gt;\n            &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;20.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.fxmisc.richtext&lt;/groupId&gt;\n            &lt;artifactId&gt;richtextfx&lt;/artifactId&gt;\n            &lt;version&gt;0.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;!-- ... --&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4YVRq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4YVRq.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28016694,"reputation":69,"user_id":21398331,"display_name":"BaRiboD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77204437,"answer_count":2,"score":1,"last_activity_date":1696016362,"creation_date":1695978715,"question_id":77200726,"body_markdown":"I have a TextField(JavaFX) whose text color is black, but if the word warning was in the text, it would come and only change the color of the word warning to red.","title":"Changing the color of a word in a TextField in javafx","body":"<p>I have a TextField(JavaFX) whose text color is black, but if the word warning was in the text, it would come and only change the color of the word warning to red.</p>\n"},{"tags":["java","gradle","build.gradle","incremental-build"],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696016162,"creation_date":1696016162,"answer_id":77204420,"question_id":77200536,"body_markdown":"If it is a custom task type that extends `JavaExec`, then you could add the `@CacheableTask` annotation:\r\n\r\n    @CacheableTask\r\n    public abstract class MyCustomTask extends JavaExec { }\r\n\r\nAnother approach if it is just a `JavaExec` task, as described in the Javadocs:\r\n\r\nhttps://docs.gradle.org/current/javadoc/org/gradle/work/DisableCachingByDefault.html\r\n\r\n&gt; Caching for individual task instances can be enabled and disabled via `TaskOutputs.cacheIf(String, Spec)` or disabled via `TaskOutputs.doNotCacheIf(String, Spec)`. Using these APIs takes precedence over the presence (or absence) of `@DisableCachingByDefault`.\r\n\r\n    tasks.register&lt;JavaExec&gt;(&quot;myTask&quot;) {\r\n        outputs.cacheIf {\r\n            // some condition...\r\n        }\r\n    }","title":"How to make a JavExec task incremental in gradle?","body":"<p>If it is a custom task type that extends <code>JavaExec</code>, then you could add the <code>@CacheableTask</code> annotation:</p>\n<pre><code>@CacheableTask\npublic abstract class MyCustomTask extends JavaExec { }\n</code></pre>\n<p>Another approach if it is just a <code>JavaExec</code> task, as described in the Javadocs:</p>\n<p><a href=\"https://docs.gradle.org/current/javadoc/org/gradle/work/DisableCachingByDefault.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/javadoc/org/gradle/work/DisableCachingByDefault.html</a></p>\n<blockquote>\n<p>Caching for individual task instances can be enabled and disabled via <code>TaskOutputs.cacheIf(String, Spec)</code> or disabled via <code>TaskOutputs.doNotCacheIf(String, Spec)</code>. Using these APIs takes precedence over the presence (or absence) of <code>@DisableCachingByDefault</code>.</p>\n</blockquote>\n<pre><code>tasks.register&lt;JavaExec&gt;(&quot;myTask&quot;) {\n    outputs.cacheIf {\n        // some condition...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26013172,"reputation":15,"user_id":19721893,"display_name":"bsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696016162,"creation_date":1695976873,"question_id":77200536,"body_markdown":"I have a JavaExec task in my build.gradle file and it doesn&#39;t follow incremental build.\r\n\r\nIs there a way to make JavaExec tasks incremental, just like how JavaCompile tasks are made incremental?\r\n\r\nLet me know your thoughts.\r\n\r\nThank you!","title":"How to make a JavExec task incremental in gradle?","body":"<p>I have a JavaExec task in my build.gradle file and it doesn't follow incremental build.</p>\n<p>Is there a way to make JavaExec tasks incremental, just like how JavaCompile tasks are made incremental?</p>\n<p>Let me know your thoughts.</p>\n<p>Thank you!</p>\n"},{"tags":["java","activiti","bpmn"],"answers":[{"tags":[],"owner":{"account_id":2120498,"reputation":3230,"user_id":1883842,"display_name":"Greg Harley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696016044,"creation_date":1590680128,"answer_id":62068635,"question_id":62062937,"body_markdown":"Why don&#39;t you add a signal boundary event that points to the same output just for testing. You can send the signal to the engine via the REST API (again, just for testing). The handler can stay in place in production as nothing will ever trigger it.\r\nYou can also follow the solution [here][1] which also uses a signal, but uses the signal to reset the boundary timer.\r\nThe second option is more complex, but may better emulate exactly what you are asking for.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30170191/activiti-camunda-change-boundary-timer-with-variable","title":"How do I expire a timer manually/programmatically in Activiti BPMN?","body":"<p>Why don't you add a signal boundary event that points to the same output just for testing. You can send the signal to the engine via the REST API (again, just for testing). The handler can stay in place in production as nothing will ever trigger it.\nYou can also follow the solution <a href=\"https://stackoverflow.com/questions/30170191/activiti-camunda-change-boundary-timer-with-variable\">here</a> which also uses a signal, but uses the signal to reset the boundary timer.\nThe second option is more complex, but may better emulate exactly what you are asking for.</p>\n"}],"owner":{"account_id":5708667,"reputation":1501,"user_id":4511375,"accept_rate":100,"display_name":"Investigator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62068635,"answer_count":1,"score":1,"last_activity_date":1696016044,"creation_date":1590663109,"question_id":62062937,"body_markdown":"I am using Activiti BPMN version 5.15.\r\nI have a user task where I attached a timer as you see at the following screenshot\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow am I supposed to make the timer expire now (for testing purposes) either programmatically or manually ?\r\n\r\nThank you\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VnNUZ.png","title":"How do I expire a timer manually/programmatically in Activiti BPMN?","body":"<p>I am using Activiti BPMN version 5.15.\nI have a user task where I attached a timer as you see at the following screenshot</p>\n\n<p><a href=\"https://i.stack.imgur.com/VnNUZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VnNUZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>How am I supposed to make the timer expire now (for testing purposes) either programmatically or manually ?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","micronaut","testcontainers","micronaut-test"],"answers":[{"tags":[],"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696015941,"creation_date":1650020312,"answer_id":71883180,"question_id":71882930,"body_markdown":"You need to implement `TestPropertyProvider` and set up your database URL in the `getProperties` method that it requires\r\n\r\nSee the [guide here][1] for an example\r\n\r\n\r\n  [1]: https://guides.micronaut.io/latest/micronaut-mongodb-synchronous-gradle-java.html#test","title":"Overriding Configuration properties with test container in Micronaut not working","body":"<p>You need to implement <code>TestPropertyProvider</code> and set up your database URL in the <code>getProperties</code> method that it requires</p>\n<p>See the <a href=\"https://guides.micronaut.io/latest/micronaut-mongodb-synchronous-gradle-java.html#test\" rel=\"nofollow noreferrer\">guide here</a> for an example</p>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1050,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71883180,"answer_count":1,"score":1,"last_activity_date":1696015941,"creation_date":1650018624,"question_id":71882930,"body_markdown":"Test container configuration\r\n\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    @Testcontainers\r\n    public abstract class TestContainerFixture {\r\n        @Container\r\n        protected static final GenericContainer mongoDBContainer;\r\n        protected static final Map&lt;String, Object&gt; properties;\r\n    \r\n        static {\r\n            mongoDBContainer = new GenericContainer(DockerImageName.parse(&quot;mongo:4.0.10&quot;))\r\n                    .withExposedPorts(27017)\r\n                    .withReuse(true);\r\n            mongoDBContainer.start();\r\n            properties = Map.of(&quot;mongodb.uri&quot;,\r\n                    String.format(&quot;mongodb://%s:%s/FeteBird-Product&quot;,\r\n                            mongoDBContainer.getContainerIpAddress(),\r\n                            mongoDBContainer.getMappedPort(27017)));\r\n        }\r\n    \r\n        protected static ApplicationContext applicationContext;\r\n    }\r\n\r\n**Application.yml**\r\n\r\n    mongodb:\r\n      uri: &quot;mongodb://${MONGO_HOST:localhost}:${MONGO_PORT:27017}/FeteBird-Product&quot;\r\n      database: &quot;FeteBird-Product&quot;\r\n\r\n\r\nJUnit Testing\r\n\r\n    @MicronautTest(rebuildContext = true)\r\n    public class SubCategoryCreateTest extends TestContainerFixture {\r\n        @BeforeAll\r\n        public static void initUnitTest() {\r\n            applicationContext = ApplicationContext.run(properties, ConstantValues.TEST_ENVIRONMENT);\r\n        }\r\n    \r\n        @Test\r\n        @DisplayName(&quot;Should create sub category with valid claim as Owner&quot;)\r\n        void shouldCreateSubCategoryWithValidClaimAsOwner() {\r\n    \r\n            // Given\r\n            HttpResponse&lt;CategoryModel&gt; categoryrsp = this.httpRequestToCreateCategory();\r\n            assertEquals(categoryrsp.getStatus(), HttpStatus.CREATED);\r\n    \r\n            // When\r\n            SubCategoryModel subCategoryModel = new SubCategoryModel(null, &quot;Men swim sweat&quot;, &quot;Men swim seat description&quot;);\r\n            HttpRequest request = HttpRequest.POST(String.format(&quot;%s/%s/%s&quot;, &quot;category&quot;, categoryrsp.body().id(), &quot;/sub-category&quot;), subCategoryModel)\r\n                    .bearerAuth(bearerAccessRefreshToken.getAccessToken());\r\n            HttpResponse&lt;SubCategoryModel&gt; rsp = client.toBlocking().exchange(request, SubCategoryModel.class);\r\n            var item = rsp.body();\r\n    \r\n            // Then\r\n            assertEquals(rsp.getStatus(), HttpStatus.CREATED);\r\n            assertTrue(item.id() != null);\r\n        }\r\n    }\r\n\r\nThe configuration is not over-ridden in the service layer, Controller has the dependency on service layer\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nmarb.png\r\n\r\n**Update after implementing TestPropertyProvider works**\r\n\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    @Testcontainers\r\n    public class TestContainerFixture implements TestPropertyProvider {\r\n        protected GenericContainer mongoDBContainer;\r\n    \r\n        @Override\r\n        public Map&lt;String, String&gt; getProperties() {\r\n            mongoDBContainer = new GenericContainer(DockerImageName.parse(&quot;mongo:4.0.10&quot;))\r\n                    .withExposedPorts(27017)\r\n                    .withReuse(true);\r\n            mongoDBContainer.start();\r\n             return Map.of(&quot;mongodb.uri&quot;,\r\n                            String.format(&quot;mongodb://%s:%s/FeteBird-Product&quot;,\r\n                                    mongoDBContainer.getContainerIpAddress(),\r\n                                    mongoDBContainer.getMappedPort(27017)));\r\n        }\r\n    }\r\n\r\n    @MicronautTest\r\n    public class SubCategoryCreateTest extends TestPropertyProvider {\r\n    \r\n        @Test\r\n        @DisplayName(&quot;Should create sub category with valid claim as Owner&quot;)\r\n        void shouldCreateSubCategoryWithValidClaimAsOwner() {\r\n    \r\n            // Given\r\n            HttpResponse&lt;CategoryModel&gt; categoryrsp = this.httpRequestToCreateCategory();\r\n            assertEquals(categoryrsp.getStatus(), HttpStatus.CREATED);\r\n    \r\n            // When\r\n            SubCategoryModel subCategoryModel = new SubCategoryModel(null, &quot;Men swim sweat&quot;, &quot;Men swim seat description&quot;);\r\n            HttpRequest request = HttpRequest.POST(String.format(&quot;%s/%s/%s&quot;, &quot;category&quot;, categoryrsp.body().id(), &quot;/sub-category&quot;), subCategoryModel)\r\n                    .bearerAuth(bearerAccessRefreshToken.getAccessToken());\r\n            HttpResponse&lt;SubCategoryModel&gt; rsp = client.toBlocking().exchange(request, SubCategoryModel.class);\r\n            var item = rsp.body();\r\n    \r\n            // Then\r\n            assertEquals(rsp.getStatus(), HttpStatus.CREATED);\r\n            assertTrue(item.id() != null);\r\n        }\r\n    }","title":"Overriding Configuration properties with test container in Micronaut not working","body":"<p>Test container configuration</p>\n<pre><code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@Testcontainers\npublic abstract class TestContainerFixture {\n    @Container\n    protected static final GenericContainer mongoDBContainer;\n    protected static final Map&lt;String, Object&gt; properties;\n\n    static {\n        mongoDBContainer = new GenericContainer(DockerImageName.parse(&quot;mongo:4.0.10&quot;))\n                .withExposedPorts(27017)\n                .withReuse(true);\n        mongoDBContainer.start();\n        properties = Map.of(&quot;mongodb.uri&quot;,\n                String.format(&quot;mongodb://%s:%s/FeteBird-Product&quot;,\n                        mongoDBContainer.getContainerIpAddress(),\n                        mongoDBContainer.getMappedPort(27017)));\n    }\n\n    protected static ApplicationContext applicationContext;\n}\n</code></pre>\n<p><strong>Application.yml</strong></p>\n<pre><code>mongodb:\n  uri: &quot;mongodb://${MONGO_HOST:localhost}:${MONGO_PORT:27017}/FeteBird-Product&quot;\n  database: &quot;FeteBird-Product&quot;\n</code></pre>\n<p>JUnit Testing</p>\n<pre><code>@MicronautTest(rebuildContext = true)\npublic class SubCategoryCreateTest extends TestContainerFixture {\n    @BeforeAll\n    public static void initUnitTest() {\n        applicationContext = ApplicationContext.run(properties, ConstantValues.TEST_ENVIRONMENT);\n    }\n\n    @Test\n    @DisplayName(&quot;Should create sub category with valid claim as Owner&quot;)\n    void shouldCreateSubCategoryWithValidClaimAsOwner() {\n\n        // Given\n        HttpResponse&lt;CategoryModel&gt; categoryrsp = this.httpRequestToCreateCategory();\n        assertEquals(categoryrsp.getStatus(), HttpStatus.CREATED);\n\n        // When\n        SubCategoryModel subCategoryModel = new SubCategoryModel(null, &quot;Men swim sweat&quot;, &quot;Men swim seat description&quot;);\n        HttpRequest request = HttpRequest.POST(String.format(&quot;%s/%s/%s&quot;, &quot;category&quot;, categoryrsp.body().id(), &quot;/sub-category&quot;), subCategoryModel)\n                .bearerAuth(bearerAccessRefreshToken.getAccessToken());\n        HttpResponse&lt;SubCategoryModel&gt; rsp = client.toBlocking().exchange(request, SubCategoryModel.class);\n        var item = rsp.body();\n\n        // Then\n        assertEquals(rsp.getStatus(), HttpStatus.CREATED);\n        assertTrue(item.id() != null);\n    }\n}\n</code></pre>\n<p>The configuration is not over-ridden in the service layer, Controller has the dependency on service layer</p>\n<p><a href=\"https://i.stack.imgur.com/nmarb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nmarb.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Update after implementing TestPropertyProvider works</strong></p>\n<pre><code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@Testcontainers\npublic class TestContainerFixture implements TestPropertyProvider {\n    protected GenericContainer mongoDBContainer;\n\n    @Override\n    public Map&lt;String, String&gt; getProperties() {\n        mongoDBContainer = new GenericContainer(DockerImageName.parse(&quot;mongo:4.0.10&quot;))\n                .withExposedPorts(27017)\n                .withReuse(true);\n        mongoDBContainer.start();\n         return Map.of(&quot;mongodb.uri&quot;,\n                        String.format(&quot;mongodb://%s:%s/FeteBird-Product&quot;,\n                                mongoDBContainer.getContainerIpAddress(),\n                                mongoDBContainer.getMappedPort(27017)));\n    }\n}\n\n@MicronautTest\npublic class SubCategoryCreateTest extends TestPropertyProvider {\n\n    @Test\n    @DisplayName(&quot;Should create sub category with valid claim as Owner&quot;)\n    void shouldCreateSubCategoryWithValidClaimAsOwner() {\n\n        // Given\n        HttpResponse&lt;CategoryModel&gt; categoryrsp = this.httpRequestToCreateCategory();\n        assertEquals(categoryrsp.getStatus(), HttpStatus.CREATED);\n\n        // When\n        SubCategoryModel subCategoryModel = new SubCategoryModel(null, &quot;Men swim sweat&quot;, &quot;Men swim seat description&quot;);\n        HttpRequest request = HttpRequest.POST(String.format(&quot;%s/%s/%s&quot;, &quot;category&quot;, categoryrsp.body().id(), &quot;/sub-category&quot;), subCategoryModel)\n                .bearerAuth(bearerAccessRefreshToken.getAccessToken());\n        HttpResponse&lt;SubCategoryModel&gt; rsp = client.toBlocking().exchange(request, SubCategoryModel.class);\n        var item = rsp.body();\n\n        // Then\n        assertEquals(rsp.getStatus(), HttpStatus.CREATED);\n        assertTrue(item.id() != null);\n    }\n}\n</code></pre>\n"},{"tags":["java","akka"],"comments":[{"owner":{"account_id":402920,"reputation":719,"user_id":770378,"display_name":"Hiphop03199"},"score":0,"creation_date":1459560001,"post_id":36368122,"comment_id":60355507,"body_markdown":"Could you describe your problem a bit more before your initial block of code? It helps answer-ers know what the issue is rather than searching for it in the code. Thanks.","body":"Could you describe your problem a bit more before your initial block of code? It helps answer-ers know what the issue is rather than searching for it in the code. Thanks."},{"owner":{"account_id":2140896,"reputation":1,"user_id":1899552,"display_name":"Shiv"},"score":0,"creation_date":1459560647,"post_id":36368122,"comment_id":60355623,"body_markdown":"I am trying to create an actor backed by a bounded non-blocking queue based mail box. This actor may get lot of messages so I do not want to have default mailbox which is unbounded. it is fine if I loose some messages when actor does not process messages fast. thanks","body":"I am trying to create an actor backed by a bounded non-blocking queue based mail box. This actor may get lot of messages so I do not want to have default mailbox which is unbounded. it is fine if I loose some messages when actor does not process messages fast. thanks"},{"owner":{"account_id":328273,"reputation":14391,"user_id":651140,"display_name":"Andrzej Jozwik"},"score":0,"creation_date":1459708711,"post_id":36368122,"comment_id":60395589,"body_markdown":"I tested with akka 2.4.3 and scala 2.11 and it works.","body":"I tested with akka 2.4.3 and scala 2.11 and it works."},{"owner":{"account_id":5129437,"reputation":401,"user_id":4110174,"accept_rate":60,"display_name":"Bharat Bhagat"},"score":0,"creation_date":1544104298,"post_id":36368122,"comment_id":94164085,"body_markdown":"It&#39;s working with akka-actor_2.11-2.5.3","body":"It&#39;s working with akka-actor_2.11-2.5.3"}],"answers":[{"tags":[],"owner":{"account_id":5102002,"reputation":51,"user_id":4091348,"display_name":"Arobt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540570116,"creation_date":1540570116,"answer_id":53012584,"question_id":36368122,"body_markdown":"    mailbox-type = \\&quot;akka.dispatch.NonBlockingBoundedMailbox\\&quot;\\n&quot;\r\n\r\nI think you script should change to \r\n\r\n    mailbox-type = &quot;your.package.name.the mailbox&#39;class  name&quot;\r\n\r\n\r\n \r\n","title":"AKKA: Failed to define Actor with a custom mail box configuration","body":"<pre><code>mailbox-type = \\\"akka.dispatch.NonBlockingBoundedMailbox\\\"\\n\"\n</code></pre>\n\n<p>I think you script should change to </p>\n\n<pre><code>mailbox-type = \"your.package.name.the mailbox'class  name\"\n</code></pre>\n"}],"owner":{"account_id":2140896,"reputation":1,"user_id":1899552,"display_name":"Shiv"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696015698,"creation_date":1459559588,"question_id":36368122,"body_markdown":"I am new to akka and tried to do the following simple example:\r\n\r\n       public static void main(String[] args){\r\n    \t\tConfig cf = ConfigFactory.parseString(&quot; bounded-mailbox {\\n&quot;\r\n    \t\t\t+ &quot;  mailbox-type = \\&quot;akka.dispatch.NonBlockingBoundedMailbox\\&quot;\\n&quot;\r\n    \t\t\t+ &quot;  mailbox-capacity = 1000\\n&quot;\r\n    \t\t\t+ &quot;}&quot;);\r\n        \tActorSystem system = ActorSystem.create(&quot;MySystem&quot;, cf); ActorRef                  \r\n        \tmyActor = system.actorOf(Props.create(MyActor.class).withMailbox(&quot;bounded-mailbox&quot;), &quot;myactor&quot;);\r\n        \tfor(int index = 0; index&lt;=100; index++) {\r\n        \t\tmyActor.tell(index, myActor.noSender());\r\n        \t}\r\n        \ttry {\r\n        \t\tThread.sleep(120000);\r\n        \t}catch (Exception exc){}\r\n       }\r\n\r\n \r\nMyActor.class - is a simple actor class to print the received messages.\r\n\r\nI get following errors when I run this:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Cannot instantiate MailboxType [akka.dispatch.NonBlockingBoundedMailbox], defined in [bounded-mailbox], make sure it has a public constructor with [akka.actor.ActorSystem.Settings, com.typesafe.config.Config] parameters\r\n    \tat akka.dispatch.Mailboxes$$anonfun$1.applyOrElse(Mailboxes.scala:197)\r\n    \tat akka.dispatch.Mailboxes$$anonfun$1.applyOrElse(Mailboxes.scala:195)\r\n    \tat scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:33)\r\n    \tat scala.util.Failure$$anonfun$recover$1.apply(Try.scala:185)\r\n    \tat scala.util.Try$.apply(Try.scala:161)\r\n    \tat scala.util.Failure.recover(Try.scala:185)\r\n    \tat akka.dispatch.Mailboxes.lookupConfigurator(Mailboxes.scala:195)\r\n    \tat akka.dispatch.Mailboxes.lookup(Mailboxes.scala:78)\r\n    \tat akka.dispatch.Mailboxes.getMailboxType(Mailboxes.scala:154)\r\n    \tat akka.actor.LocalActorRefProvider.actorOf(ActorRefProvider.scala:717)\r\n    \t... 10 more\r\n\r\nany thoughts?? I am running with akka-actor_2.10-2.3.7\r\n\r\n","title":"AKKA: Failed to define Actor with a custom mail box configuration","body":"<p>I am new to akka and tried to do the following simple example:</p>\n\n<pre><code>   public static void main(String[] args){\n        Config cf = ConfigFactory.parseString(\" bounded-mailbox {\\n\"\n            + \"  mailbox-type = \\\"akka.dispatch.NonBlockingBoundedMailbox\\\"\\n\"\n            + \"  mailbox-capacity = 1000\\n\"\n            + \"}\");\n        ActorSystem system = ActorSystem.create(\"MySystem\", cf); ActorRef                  \n        myActor = system.actorOf(Props.create(MyActor.class).withMailbox(\"bounded-mailbox\"), \"myactor\");\n        for(int index = 0; index&lt;=100; index++) {\n            myActor.tell(index, myActor.noSender());\n        }\n        try {\n            Thread.sleep(120000);\n        }catch (Exception exc){}\n   }\n</code></pre>\n\n<p>MyActor.class - is a simple actor class to print the received messages.</p>\n\n<p>I get following errors when I run this:</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Cannot instantiate MailboxType [akka.dispatch.NonBlockingBoundedMailbox], defined in [bounded-mailbox], make sure it has a public constructor with [akka.actor.ActorSystem.Settings, com.typesafe.config.Config] parameters\n    at akka.dispatch.Mailboxes$$anonfun$1.applyOrElse(Mailboxes.scala:197)\n    at akka.dispatch.Mailboxes$$anonfun$1.applyOrElse(Mailboxes.scala:195)\n    at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:33)\n    at scala.util.Failure$$anonfun$recover$1.apply(Try.scala:185)\n    at scala.util.Try$.apply(Try.scala:161)\n    at scala.util.Failure.recover(Try.scala:185)\n    at akka.dispatch.Mailboxes.lookupConfigurator(Mailboxes.scala:195)\n    at akka.dispatch.Mailboxes.lookup(Mailboxes.scala:78)\n    at akka.dispatch.Mailboxes.getMailboxType(Mailboxes.scala:154)\n    at akka.actor.LocalActorRefProvider.actorOf(ActorRefProvider.scala:717)\n    ... 10 more\n</code></pre>\n\n<p>any thoughts?? I am running with akka-actor_2.10-2.3.7</p>\n"},{"tags":["java","eclipse","db2","ibm-midrange"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1661415043,"post_id":73482987,"comment_id":129768089,"body_markdown":"Look in the documentation.  The JDBC driver is often installed with the rest so you just need the name so you can locate it.","body":"Look in the documentation.  The JDBC driver is often installed with the rest so you just need the name so you can locate it."},{"owner":{"account_id":11306067,"reputation":11409,"user_id":8290634,"display_name":"mao"},"score":0,"creation_date":1661415143,"post_id":73482987,"comment_id":129768122,"body_markdown":"Does your Db2-server run on i-series (as400) ?  Please update your question to clarify.  If you need a jdbc driver to communicate with as400 Db2, then you can either use an IBM-supplied jdbc driver (may need licensing), or you can use the jt400 driver (assuming your Db2 server runs on i-series).","body":"Does your Db2-server run on i-series (as400) ?  Please update your question to clarify.  If you need a jdbc driver to communicate with as400 Db2, then you can either use an IBM-supplied jdbc driver (may need licensing), or you can use the jt400 driver (assuming your Db2 server runs on i-series)."},{"owner":{"account_id":5320353,"reputation":1,"user_id":4243978,"display_name":"Kulesh Grimmejow"},"score":0,"creation_date":1661417963,"post_id":73482987,"comment_id":129769261,"body_markdown":"I get the driver not supported exception for my db2 driver as an error in the server log. I want to stop getting that error in the server log.","body":"I get the driver not supported exception for my db2 driver as an error in the server log. I want to stop getting that error in the server log."},{"owner":{"account_id":904213,"reputation":1004,"user_id":939484,"display_name":"Dam"},"score":0,"creation_date":1661434223,"post_id":73482987,"comment_id":129775454,"body_markdown":"What DB2 driver version do you use ? Could you show the pom.xml dependency ?","body":"What DB2 driver version do you use ? Could you show the pom.xml dependency ?"},{"owner":{"account_id":904213,"reputation":1004,"user_id":939484,"display_name":"Dam"},"score":0,"creation_date":1661436070,"post_id":73482987,"comment_id":129776294,"body_markdown":"Even the latest DB2 driver for i version 11 does not support your method : `// JDBC 2.0\n    /**\n    Returns the type map.\n    &lt;p&gt;This driver does not support the type map.\n    **/\n     abstract public Map getTypeMap ()\n    throws SQLException;`","body":"Even the latest DB2 driver for i version 11 does not support your method : <code>&#47;&#47; JDBC 2.0     &#47;**     Returns the type map.     &lt;p&gt;This driver does not support the type map.     **&#47;      abstract public Map getTypeMap ()     throws SQLException;</code>"}],"answers":[{"tags":[],"owner":{"account_id":8998143,"reputation":425,"user_id":6707702,"display_name":"Mohit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661422915,"creation_date":1661422915,"answer_id":73485855,"question_id":73482987,"body_markdown":"Look like this was due to incompatibility between the connection created by your driver and ConnectionPool you are using.\r\nAt snaq.db.CacheConnection.getTypeMap()\r\n   \r\n\r\n     public Map getTypeMap() throws SQLException\r\n    \t{\r\n    \t\treturn con.getTypeMap();\r\n    \t}\r\n\r\nMay be while getting the TypeMap Object from the connection object, it&#39;s throwing the exception.\r\n","title":"DB2 server 7.3 needs a compatible db2 library for eclipse project","body":"<p>Look like this was due to incompatibility between the connection created by your driver and ConnectionPool you are using.\nAt snaq.db.CacheConnection.getTypeMap()</p>\n<pre><code> public Map getTypeMap() throws SQLException\n    {\n        return con.getTypeMap();\n    }\n</code></pre>\n<p>May be while getting the TypeMap Object from the connection object, it's throwing the exception.</p>\n"}],"owner":{"account_id":5320353,"reputation":1,"user_id":4243978,"display_name":"Kulesh Grimmejow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696015390,"creation_date":1661409683,"question_id":73482987,"body_markdown":"![Here is the error I get][1] I get this error. I have DB2 for i Series 7.3s, I know it is a old version, but I can&#39;t change it. I just want to find the Db2 library compatible with Db2 7.3 for my eclipse maven project. Please help. If you can locate me the compatible library. I am looking for the correct Db2 library for Db2 version 7.3\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m973I.png","title":"DB2 server 7.3 needs a compatible db2 library for eclipse project","body":"<p><img src=\"https://i.stack.imgur.com/m973I.png\" alt=\"Here is the error I get\" /> I get this error. I have DB2 for i Series 7.3s, I know it is a old version, but I can't change it. I just want to find the Db2 library compatible with Db2 7.3 for my eclipse maven project. Please help. If you can locate me the compatible library. I am looking for the correct Db2 library for Db2 version 7.3</p>\n"},{"tags":["java","spring-annotations"],"owner":{"account_id":29552693,"reputation":1,"user_id":22648948,"display_name":"juliet23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696015371,"creation_date":1695963073,"question_id":77199506,"body_markdown":"I&#39;m working on a Java project where I need to validate field values using custom annotations and read data from an Excel file for validation purposes. However, I&#39;ve encountered challenges in implementing this. Here&#39;s the relevant code and explanation of what I&#39;m trying to achieve:\r\n\r\nI have a Java class called ExcelBean with fields annotated using a custom annotation `@ExcelField`. Here&#39;s a snippet of the `ExcelBean` class:\r\nAlso I want to format the date as per my specified format using annotation. Can anyone please suggest me , how can I do? I am unable to get values inside annotation.\r\n\r\n\r\n I have used the annotation here in the bean: \r\n\r\n```java\r\n\r\npublic class ExcelBean {\r\n\r\n@ExcelField(excelColumn = &quot;ID&quot;)\r\nprivate String id;\r\n\r\n@ExcelField(excelColumn = &quot;NAME&quot;)\r\nprivate String name;\r\n\r\n@ExcelField(excelColumn = &quot;EMAIL&quot;, emailFormat = true, required = true)\r\nprivate String email;\r\n\r\n@ExcelField(excelColumn = &quot;BIRTHDATE&quot;, dateFormat = &quot;dd-MM-yyyy&quot;)\r\nprivate String birthDate;\r\n\r\n@ExcelField(excelColumn = &quot;FEES&quot;, decimalFormat = true)\r\nprivate String fees;\r\n\r\n@ExcelField(excelColumn = &quot;LOCATION&quot;, decimalFormat = true)\r\nprivate String location;\r\n}\r\n```\r\n\r\nI also have a custom validator class `ExcelFieldValidator` that implements the `ConstraintValidator` interface to perform validation based on the `@ExcelField` annotations. Here&#39;s a snippet of the `ExcelFieldValidator` class:\r\n\r\n```java\r\npublic class ExcelFieldValidator implements ConstraintValidator&lt;ExcelField, String&gt; {\r\n\r\nprivate ExcelField excelField;\r\n\r\n@Override\r\npublic void initialize(ExcelField excelField) {\r\n    this.excelField = excelField;\r\n}\r\n\r\n@Override\r\npublic boolean isValid(String value, ConstraintValidatorContext context) {\r\n\r\n    if (value == null) {\r\n        return false;\r\n    }\r\n\r\n    if (excelField.required() &amp;&amp; value.trim().isEmpty()) {\r\n        return false;\r\n    }\r\n\r\n    String expectedColumnName = excelField.excelColumn();\r\n\r\n    // Verify that the excelColumn attribute is not empty\r\n    if (expectedColumnName.isEmpty()) {\r\n        return false;\r\n    }\r\n\r\n    // Replace spaces and make the column name case-insensitive for comparison\r\n    expectedColumnName = expectedColumnName.replaceAll(&quot;\\\\s&quot;, &quot;&quot;).toLowerCase();\r\n\r\n    // Get the actual column name from the Excel file (you will need to implement\r\n    // this)\r\n// List columnNames = getActualColumnNameFromExcelFile();\r\n\r\n// String actualColumnName = columnNames.contains();\r\n\r\n    // Compare the expected and actual column names\r\n// if (!expectedColumnName.equals(actualColumnName.toLowerCase())) { // return false; // }\r\n\r\n    if (!value.isEmpty() &amp;&amp; value.length() &lt; excelField.minLength())\r\n\r\n    {\r\n        return false;\r\n    }\r\n\r\n    if (value.length() &gt; excelField.maxLength()) {\r\n        return false;\r\n    }\r\n\r\n    if (excelField.emailFormat() &amp;&amp; !isValidEmail(value)) {\r\n        return false;\r\n    }\r\n\r\n    if (excelField.decimalFormat() &amp;&amp; !isValidDecimal(value)) {\r\n        return false;\r\n    }\r\n\r\n    if (!excelField.dateFormat().isEmpty()) {\r\n        if (!isValidDate(value, excelField.dateFormat())) {\r\n            return false; // Date format is not valid\r\n        }\r\n    }\r\n\r\n    return true; // All validation checks passed\r\n}\r\n\r\nprivate boolean isValidEmail(String email) {\r\n    if (email == null || email.isEmpty()) {\r\n        return false;\r\n    }\r\n\r\n    String regex = &quot;^[A-Za-z0-9+_.-]+@(.+)$&quot;;\r\n\r\n    return email.matches(regex);\r\n}\r\n\r\nprivate boolean isValidDecimal(String decimal) {\r\n    if (decimal == null || decimal.isEmpty()) {\r\n        return false; // Decimal cannot be null or empty\r\n    }\r\n\r\n    try {\r\n        Double.parseDouble(decimal);\r\n        return true;\r\n    } catch (NumberFormatException e) {\r\n        return false; // Parsing as a decimal failed\r\n    }\r\n}\r\n\r\nprivate boolean isValidDate(String date, String dateFormat) {\r\n    if (date == null || date.isEmpty()) {\r\n        return false;\r\n    }\r\n\r\n    try {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(dateFormat);\r\n        sdf.setLenient(false);\r\n        sdf.parse(date);\r\n        return true;\r\n    } catch (ParseException e) {\r\n        return false; // Parsing as a date failed\r\n    }\r\n}\r\n```\r\n\r\n**My goal is to :**\r\n\r\nRead data from an Excel file and compare it with the excelColumn attribute in the `@ExcelField` annotations.\r\nPerform various validations, such as checking for required fields, minimum and maximum length, email format, decimal format, and date format.\r\nI am unable to find solution for how my annotations can read the data in my excel column.\r\n","title":"Custom field annotation to validate values from excel through bean in Java","body":"<p>I'm working on a Java project where I need to validate field values using custom annotations and read data from an Excel file for validation purposes. However, I've encountered challenges in implementing this. Here's the relevant code and explanation of what I'm trying to achieve:</p>\n<p>I have a Java class called ExcelBean with fields annotated using a custom annotation <code>@ExcelField</code>. Here's a snippet of the <code>ExcelBean</code> class:\nAlso I want to format the date as per my specified format using annotation. Can anyone please suggest me , how can I do? I am unable to get values inside annotation.</p>\n<p>I have used the annotation here in the bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class ExcelBean {\n\n@ExcelField(excelColumn = &quot;ID&quot;)\nprivate String id;\n\n@ExcelField(excelColumn = &quot;NAME&quot;)\nprivate String name;\n\n@ExcelField(excelColumn = &quot;EMAIL&quot;, emailFormat = true, required = true)\nprivate String email;\n\n@ExcelField(excelColumn = &quot;BIRTHDATE&quot;, dateFormat = &quot;dd-MM-yyyy&quot;)\nprivate String birthDate;\n\n@ExcelField(excelColumn = &quot;FEES&quot;, decimalFormat = true)\nprivate String fees;\n\n@ExcelField(excelColumn = &quot;LOCATION&quot;, decimalFormat = true)\nprivate String location;\n}\n</code></pre>\n<p>I also have a custom validator class <code>ExcelFieldValidator</code> that implements the <code>ConstraintValidator</code> interface to perform validation based on the <code>@ExcelField</code> annotations. Here's a snippet of the <code>ExcelFieldValidator</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExcelFieldValidator implements ConstraintValidator&lt;ExcelField, String&gt; {\n\nprivate ExcelField excelField;\n\n@Override\npublic void initialize(ExcelField excelField) {\n    this.excelField = excelField;\n}\n\n@Override\npublic boolean isValid(String value, ConstraintValidatorContext context) {\n\n    if (value == null) {\n        return false;\n    }\n\n    if (excelField.required() &amp;&amp; value.trim().isEmpty()) {\n        return false;\n    }\n\n    String expectedColumnName = excelField.excelColumn();\n\n    // Verify that the excelColumn attribute is not empty\n    if (expectedColumnName.isEmpty()) {\n        return false;\n    }\n\n    // Replace spaces and make the column name case-insensitive for comparison\n    expectedColumnName = expectedColumnName.replaceAll(&quot;\\\\s&quot;, &quot;&quot;).toLowerCase();\n\n    // Get the actual column name from the Excel file (you will need to implement\n    // this)\n// List columnNames = getActualColumnNameFromExcelFile();\n\n// String actualColumnName = columnNames.contains();\n\n    // Compare the expected and actual column names\n// if (!expectedColumnName.equals(actualColumnName.toLowerCase())) { // return false; // }\n\n    if (!value.isEmpty() &amp;&amp; value.length() &lt; excelField.minLength())\n\n    {\n        return false;\n    }\n\n    if (value.length() &gt; excelField.maxLength()) {\n        return false;\n    }\n\n    if (excelField.emailFormat() &amp;&amp; !isValidEmail(value)) {\n        return false;\n    }\n\n    if (excelField.decimalFormat() &amp;&amp; !isValidDecimal(value)) {\n        return false;\n    }\n\n    if (!excelField.dateFormat().isEmpty()) {\n        if (!isValidDate(value, excelField.dateFormat())) {\n            return false; // Date format is not valid\n        }\n    }\n\n    return true; // All validation checks passed\n}\n\nprivate boolean isValidEmail(String email) {\n    if (email == null || email.isEmpty()) {\n        return false;\n    }\n\n    String regex = &quot;^[A-Za-z0-9+_.-]+@(.+)$&quot;;\n\n    return email.matches(regex);\n}\n\nprivate boolean isValidDecimal(String decimal) {\n    if (decimal == null || decimal.isEmpty()) {\n        return false; // Decimal cannot be null or empty\n    }\n\n    try {\n        Double.parseDouble(decimal);\n        return true;\n    } catch (NumberFormatException e) {\n        return false; // Parsing as a decimal failed\n    }\n}\n\nprivate boolean isValidDate(String date, String dateFormat) {\n    if (date == null || date.isEmpty()) {\n        return false;\n    }\n\n    try {\n        SimpleDateFormat sdf = new SimpleDateFormat(dateFormat);\n        sdf.setLenient(false);\n        sdf.parse(date);\n        return true;\n    } catch (ParseException e) {\n        return false; // Parsing as a date failed\n    }\n}\n</code></pre>\n<p><strong>My goal is to :</strong></p>\n<p>Read data from an Excel file and compare it with the excelColumn attribute in the <code>@ExcelField</code> annotations.\nPerform various validations, such as checking for required fields, minimum and maximum length, email format, decimal format, and date format.\nI am unable to find solution for how my annotations can read the data in my excel column.</p>\n"},{"tags":["java","android","settext"],"comments":[{"owner":{"account_id":5106261,"reputation":12717,"user_id":4094260,"accept_rate":77,"display_name":"Nongthonbam Tonthoi"},"score":3,"creation_date":1588599549,"post_id":61593503,"comment_id":108951961,"body_markdown":"You should set text to the `TextInputEditText` or `EditText`","body":"You should set text to the <code>TextInputEditText</code> or <code>EditText</code>"},{"owner":{"account_id":18285543,"reputation":179,"user_id":13313534,"display_name":"Anesu Phiri"},"score":0,"creation_date":1588600675,"post_id":61593503,"comment_id":108952680,"body_markdown":"@Nongthonbam Tonthoi, can you please a  snippet please","body":"@Nongthonbam Tonthoi, can you please a  snippet please"},{"owner":{"account_id":5106261,"reputation":12717,"user_id":4094260,"accept_rate":77,"display_name":"Nongthonbam Tonthoi"},"score":0,"creation_date":1588601008,"post_id":61593503,"comment_id":108952896,"body_markdown":"What is `BarCode` ? I guess it is the `TextInputLayout`, so instead of it use the `TextInputEditText`. Post the relevant part of the code.","body":"What is <code>BarCode</code> ? I guess it is the <code>TextInputLayout</code>, so instead of it use the <code>TextInputEditText</code>. Post the relevant part of the code."},{"owner":{"account_id":18285543,"reputation":179,"user_id":13313534,"display_name":"Anesu Phiri"},"score":0,"creation_date":1588602236,"post_id":61593503,"comment_id":108953695,"body_markdown":"@ Nongthonbam Tonthoi, i have edited the code above.","body":"@ Nongthonbam Tonthoi, i have edited the code above."},{"owner":{"account_id":5106261,"reputation":12717,"user_id":4094260,"accept_rate":77,"display_name":"Nongthonbam Tonthoi"},"score":0,"creation_date":1588602434,"post_id":61593503,"comment_id":108953830,"body_markdown":"What is `barcodeAdd` ? You can see it in the xml file","body":"What is <code>barcodeAdd</code> ? You can see it in the xml file"},{"owner":{"account_id":18285543,"reputation":179,"user_id":13313534,"display_name":"Anesu Phiri"},"score":0,"creation_date":1588602755,"post_id":61593503,"comment_id":108954027,"body_markdown":"```barcodeAdd``` is the id of the TextInputLayout input. i have uploaded the xml file","body":"<code>barcodeAdd</code> is the id of the TextInputLayout input. i have uploaded the xml file"},{"owner":{"account_id":5106261,"reputation":12717,"user_id":4094260,"accept_rate":77,"display_name":"Nongthonbam Tonthoi"},"score":0,"creation_date":1588602843,"post_id":61593503,"comment_id":108954100,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/213093/discussion-between-nongthonbam-tonthoi-and-anesu-phiri).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/213093/discussion-between-nongthonbam-tonthoi-and-anesu-phiri\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":9472591,"reputation":454,"user_id":7042992,"display_name":"Vikram Baliga"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1694120449,"creation_date":1588604389,"answer_id":61595260,"question_id":61593503,"body_markdown":"This is the syntax... use it as appropriate in your code:\r\n\r\n    mTextInputLayout.getEditText().setText(&quot;your text&quot;);\r\n\r\nand\r\n\r\n    mTextInputLayout.getEditText().getText()\r\n\r\n\r\n\r\n\r\n","title":"How can I add a value (setText) to a Material Design TextInputLayout?","body":"<p>This is the syntax... use it as appropriate in your code:</p>\n<pre><code>mTextInputLayout.getEditText().setText(&quot;your text&quot;);\n</code></pre>\n<p>and</p>\n<pre><code>mTextInputLayout.getEditText().getText()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17828011,"reputation":1,"user_id":12948758,"display_name":"kalai vanan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694120406,"creation_date":1626626169,"answer_id":68431119,"question_id":61593503,"body_markdown":"Example:\r\n\r\n```\r\nTextInputEditText inpedit_txt;\r\n\r\ninpedit_txt = (TextInputEditText)findViewById(R.id.id_of_input_edit_text);\r\ninpedit_txt.setText(String.valueOf(&quot;Your text&quot;))\r\n```\r\n","title":"How can I add a value (setText) to a Material Design TextInputLayout?","body":"<p>Example:</p>\n<pre><code>TextInputEditText inpedit_txt;\n\ninpedit_txt = (TextInputEditText)findViewById(R.id.id_of_input_edit_text);\ninpedit_txt.setText(String.valueOf(&quot;Your text&quot;))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23382416,"reputation":13,"user_id":17448414,"display_name":"Thomas Kupfer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696008978,"creation_date":1696008978,"answer_id":77203840,"question_id":61593503,"body_markdown":"I think this works:\r\n\r\n    binding.istwert.editText?.text = binding.inhalt.editText?.text","title":"How can I add a value (setText) to a Material Design TextInputLayout?","body":"<p>I think this works:</p>\n<pre><code>binding.istwert.editText?.text = binding.inhalt.editText?.text\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7313335,"reputation":4794,"user_id":5571795,"display_name":"Hezy Ziv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696014836,"creation_date":1696014836,"answer_id":77204334,"question_id":61593503,"body_markdown":"First, get a reference to the TextInputEditText inside the TextInputLayout.\r\nThen, set the text on the TextInputEditText.\r\n\r\n// Declare both TextInputLayout and TextInputEditText\r\nTextInputLayout BarCodeLayout;\r\nTextInputEditText BarCode;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_discharge_product);\r\n    \r\n        // Initialize both TextInputLayout and TextInputEditText\r\n        BarCodeLayout = findViewById(R.id.barcodeAdd);\r\n        BarCode = (TextInputEditText) BarCodeLayout.getEditText();\r\n    \r\n        // Now, set the text on the TextInputEditText\r\n        if (BarCode != null) {\r\n            BarCode.setText(MainPage.ResultCode.getText().toString());\r\n        }\r\n    }\r\n\r\n","title":"How can I add a value (setText) to a Material Design TextInputLayout?","body":"<p>First, get a reference to the TextInputEditText inside the TextInputLayout.\nThen, set the text on the TextInputEditText.</p>\n<p>// Declare both TextInputLayout and TextInputEditText\nTextInputLayout BarCodeLayout;\nTextInputEditText BarCode;</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_discharge_product);\n\n    // Initialize both TextInputLayout and TextInputEditText\n    BarCodeLayout = findViewById(R.id.barcodeAdd);\n    BarCode = (TextInputEditText) BarCodeLayout.getEditText();\n\n    // Now, set the text on the TextInputEditText\n    if (BarCode != null) {\n        BarCode.setText(MainPage.ResultCode.getText().toString());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18285543,"reputation":179,"user_id":13313534,"display_name":"Anesu Phiri"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12816,"favorite_count":0,"down_vote_count":3,"up_vote_count":15,"accepted_answer_id":61595260,"answer_count":4,"score":12,"last_activity_date":1696014836,"creation_date":1588599242,"question_id":61593503,"body_markdown":"How do I setText to a Material Design TextInputLayout (Material Design) in Android Studio?\r\n\r\n```\r\n //setValue\r\n   BarCode.setText(MainPage.ResultCode.getText());\r\n```\r\n\r\n```\r\n    TextInputLayout BarCode;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_discharge_product);\r\n\r\n        BarCode = findViewById(R.id.barcodeAdd);\r\n        BarCode.setText(MainPage.ResultCode.getText()\r\n```\r\n\r\nThe above code did not work for me.\r\n\r\nMy XML code:\r\n\r\n```lang-xml\r\n&lt;com.google.android.material.textfield.TextInputLayout\r\n     android:id=&quot;@+id/barcodeAdd&quot;\r\n     android:layout_width=&quot;match_parent&quot;\r\n     android:layout_height=&quot;wrap_content&quot;\r\n\r\n     style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\r\n\r\n      &lt;com.google.android.material.textfield.TextInputEditText\r\n           android:layout_width=&quot;match_parent&quot;\r\n           android:layout_height=&quot;wrap_content&quot;\r\n           android:hint=&quot;Bar Code&quot;/&gt;\r\n\r\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n```\r\n","title":"How can I add a value (setText) to a Material Design TextInputLayout?","body":"<p>How do I setText to a Material Design TextInputLayout (Material Design) in Android Studio?</p>\n<pre><code> //setValue\n   BarCode.setText(MainPage.ResultCode.getText());\n</code></pre>\n<pre><code>    TextInputLayout BarCode;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_discharge_product);\n\n        BarCode = findViewById(R.id.barcodeAdd);\n        BarCode.setText(MainPage.ResultCode.getText()\n</code></pre>\n<p>The above code did not work for me.</p>\n<p>My XML code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;com.google.android.material.textfield.TextInputLayout\n     android:id=&quot;@+id/barcodeAdd&quot;\n     android:layout_width=&quot;match_parent&quot;\n     android:layout_height=&quot;wrap_content&quot;\n\n     style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox&quot;&gt;\n\n      &lt;com.google.android.material.textfield.TextInputEditText\n           android:layout_width=&quot;match_parent&quot;\n           android:layout_height=&quot;wrap_content&quot;\n           android:hint=&quot;Bar Code&quot;/&gt;\n\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n"},{"tags":["java","eclipse","build.gradle"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1598267769,"post_id":63510435,"comment_id":112393139,"body_markdown":"`sun.*` and `com.sun.*` packages are internal to the implementation, not documented, and not guaranteed to remain present or compatible. Sun and then Oracle have been telling everybody not to use them for 30 years, and modular java (9 up) finally starts to enforce that rule (by not exporting them, as it says). And no, this class is NOT in jrt-fs.jar. Your code needs to be fixed.","body":"<code>sun.*</code> and <code>com.sun.*</code> packages are internal to the implementation, not documented, and not guaranteed to remain present or compatible. Sun and then Oracle have been telling everybody not to use them for 30 years, and modular java (9 up) finally starts to enforce that rule (by not exporting them, as it says). And no, this class is NOT in jrt-fs.jar. Your code needs to be fixed."},{"owner":{"account_id":10489634,"reputation":309,"user_id":8348893,"display_name":"Soumali Chatterjee"},"score":0,"creation_date":1598410418,"post_id":63510435,"comment_id":112447149,"body_markdown":"@dave_thompson_085 thanks for your comment :-), yes, it needs to be fixed. Also, facing issue of  &quot;:compileTestJava symbol:&quot;","body":"@dave_thompson_085 thanks for your comment :-), yes, it needs to be fixed. Also, facing issue of  &quot;:compileTestJava symbol:&quot;"}],"answers":[{"tags":[],"owner":{"account_id":10489634,"reputation":309,"user_id":8348893,"display_name":"Soumali Chatterjee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1598410725,"creation_date":1598410725,"answer_id":63589816,"question_id":63510435,"body_markdown":"As @dave_thompson_085 suggested, Issue is due to modular restriction (JDK-1.9 onwards) on sun.net.* packages , as they are internal to JDK. The above packages are accessible in JDK -1.8. We need to fix our code","title":"package sun.net.www.protocol.https is declared in module java.base, which does not export it","body":"<p>As @dave_thompson_085 suggested, Issue is due to modular restriction (JDK-1.9 onwards) on sun.net.* packages , as they are internal to JDK. The above packages are accessible in JDK -1.8. We need to fix our code</p>\n"},{"tags":[],"owner":{"account_id":8926102,"reputation":195,"user_id":6660548,"accept_rate":29,"display_name":"Ravi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649327643,"creation_date":1649327643,"answer_id":71780554,"question_id":63510435,"body_markdown":"If you are using gradle, add this compilerArgs in build.gradle\r\n```compileJava {\r\n    options.encoding = &quot;UTF-8&quot;\r\n    options.incremental = true\r\n\r\n    options.compilerArgs.addAll([\r\n            &quot;--add-exports&quot;,\r\n            &quot;java.base/sun.net.www.protocol.http=ALL-UNNAMED&quot;\r\n    ])\r\n}","title":"package sun.net.www.protocol.https is declared in module java.base, which does not export it","body":"<p>If you are using gradle, add this compilerArgs in build.gradle</p>\n<pre><code>    options.encoding = &quot;UTF-8&quot;\n    options.incremental = true\n\n    options.compilerArgs.addAll([\n            &quot;--add-exports&quot;,\n            &quot;java.base/sun.net.www.protocol.http=ALL-UNNAMED&quot;\n    ])\n}\n</code></pre>\n"}],"owner":{"account_id":10489634,"reputation":309,"user_id":8348893,"display_name":"Soumali Chatterjee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8683,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63589816,"answer_count":2,"score":1,"last_activity_date":1696014375,"creation_date":1597944957,"question_id":63510435,"body_markdown":"I am trying to build a java project using gradle6.6 and open jre 11.0.2, in eclipse 03-2020.\r\nI am facing compilation issue, while building my project which uses the classes from jrt-fs.jar; e.g.&#39;sun.net.www.protocol.http.Handler&#39;, which is in open jre 11.\r\n    \r\n    public class Manager extends sun.net.www.protocol.https.Handler{\r\n    (package sun.net.www.protocol.https is declared in module java.base, which \r\n     does not export it)\r\n     1 error\r\n     FAILURE: Build failed with an exception.\r\n\r\n    * What went wrong:\r\n    Execution failed for task &#39;:compileJava&#39;.\r\n    &gt; Compilation failed; see the compiler error output for details.\r\n\r\n\r\nFollowing is my build.gradle:\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;application&#39;\r\n\r\n    allprojects {\r\n          apply plugin: &#39;java&#39;\r\n          sourceCompatibility = &#39;11.0.2&#39;\r\n\t      targetCompatibility = JavaVersion.VERSION_11\r\n    }\r\n\r\n    repositories {\r\n          mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n\t      compile fileTree(dir: &#39;lib&#39;, include: &#39;*.jar&#39;)\r\n  \t      compile group: &#39;org.hamcrest&#39;,\t\t    name: &#39;hamcrest-all&#39;,\t  version: &#39;1.3&#39;\r\n\t      compile group: &#39;junit&#39;, \t\t\t\t    name: &#39;junit&#39;,       \t  version: &#39;4.10&#39;\r\n \t      compile group: &#39;jmock&#39;,                   name: &#39;jmock&#39;,\t\t\t  version: &#39;1.0.1&#39;\r\n   \t      compile group: &#39;com.google.code.findbugs&#39;,name: &#39;findbugs&#39;,         version: &#39;1.3.9&#39;\r\n \t      compile group: &#39;cglib&#39;,                   name: &#39;cglib&#39;,  \t      version: &#39;2.1&#39;\t\r\n          testCompile group: &#39;junit&#39;,               name: &#39;junit&#39;, \t\t      version: &#39;4.10&#39;\r\n     }\r\n\r\nalso, how can I avoid building the test classes, through gradle?","title":"package sun.net.www.protocol.https is declared in module java.base, which does not export it","body":"<p>I am trying to build a java project using gradle6.6 and open jre 11.0.2, in eclipse 03-2020.\nI am facing compilation issue, while building my project which uses the classes from jrt-fs.jar; e.g.'sun.net.www.protocol.http.Handler', which is in open jre 11.</p>\n<pre><code>public class Manager extends sun.net.www.protocol.https.Handler{\n(package sun.net.www.protocol.https is declared in module java.base, which \n does not export it)\n 1 error\n FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Compilation failed; see the compiler error output for details.\n</code></pre>\n<p>Following is my build.gradle:</p>\n<pre><code>apply plugin: 'java'\napply plugin: 'application'\n\nallprojects {\n      apply plugin: 'java'\n      sourceCompatibility = '11.0.2'\n      targetCompatibility = JavaVersion.VERSION_11\n}\n\nrepositories {\n      mavenCentral()\n}\n\ndependencies {\n      compile fileTree(dir: 'lib', include: '*.jar')\n      compile group: 'org.hamcrest',            name: 'hamcrest-all',     version: '1.3'\n      compile group: 'junit',                   name: 'junit',            version: '4.10'\n      compile group: 'jmock',                   name: 'jmock',            version: '1.0.1'\n      compile group: 'com.google.code.findbugs',name: 'findbugs',         version: '1.3.9'\n      compile group: 'cglib',                   name: 'cglib',            version: '2.1'    \n      testCompile group: 'junit',               name: 'junit',            version: '4.10'\n }\n</code></pre>\n<p>also, how can I avoid building the test classes, through gradle?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1695952930,"post_id":77199036,"comment_id":136095325,"body_markdown":"are you trying to activate multiple profiles at the same time? if so, you can pass the profiles to activate as a comma separated value. it should activate all the profiles provided, though properties sharing the same name will be overrided, probably by the last profile provided in the string","body":"are you trying to activate multiple profiles at the same time? if so, you can pass the profiles to activate as a comma separated value. it should activate all the profiles provided, though properties sharing the same name will be overrided, probably by the last profile provided in the string"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1695985226,"post_id":77199036,"comment_id":136099123,"body_markdown":"do you mean if foo is activated through command line , then bar should also be automatically activated even though it is not specified in the command line ?","body":"do you mean if foo is activated through command line , then bar should also be automatically activated even though it is not specified in the command line ?"},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1695987203,"post_id":77199036,"comment_id":136099494,"body_markdown":"@KenChan yes, precisely","body":"@KenChan yes, precisely"}],"answers":[{"tags":[],"owner":{"account_id":29559778,"reputation":1,"user_id":22654586,"display_name":"0 m0lw9re"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695951863,"creation_date":1695951823,"answer_id":77199071,"question_id":77199036,"body_markdown":"no you cannot! You can copy all config in foo profile to bar profile then activate bar profile to override default profile. All configs with same name is overrided","title":"Have a Spring profile include another one (not default)","body":"<p>no you cannot! You can copy all config in foo profile to bar profile then activate bar profile to override default profile. All configs with same name is overrided</p>\n"},{"tags":[],"owner":{"account_id":14441064,"reputation":11,"user_id":22647140,"display_name":"StefanosKapa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696014164,"creation_date":1696014164,"answer_id":77204288,"question_id":77199036,"body_markdown":"So you have a group of beans with a &quot;foo&quot; profile that you want to run in isolation if you wish, but if &quot;bar&quot; is activated you want to instantiate &quot;foo&quot; beans as well.\r\n\r\nIf this is what you meant, there are at least two ways:\r\n\r\n**1. By using logical operators with @Profile**\r\n\r\nThe idea here is to change the profile annotation of those beans from `@Profile(&quot;foo&quot;)` to `@Profile(&quot;foo | bar&quot;)`. Now all the beans that were previously defined in the &quot;foo&quot; profile will be instantiated in both scenarios, if &quot;bar&quot; is activated or if &quot;foo&quot; is activated.\r\n\r\n\r\n\r\n**2. Activating profile programmatically**\r\n\r\nThis has to be done before the ApplicationContext loads. \r\n\r\ne.g.\r\n\r\n    var profiles = System.getProperty(&quot;spring.profiles.active&quot;);\r\n        if (profiles.contains(&quot;bar&quot;))\r\n            System.setProperty(&quot;spring.profiles.active&quot;, profiles + &quot;,foo&quot;);\r\n    SpringApplication.run(AppConfig.class); \r\n\r\nProbably not the most elegant solution but something along those lines.\r\n\r\n\r\n","title":"Have a Spring profile include another one (not default)","body":"<p>So you have a group of beans with a &quot;foo&quot; profile that you want to run in isolation if you wish, but if &quot;bar&quot; is activated you want to instantiate &quot;foo&quot; beans as well.</p>\n<p>If this is what you meant, there are at least two ways:</p>\n<p><strong>1. By using logical operators with @Profile</strong></p>\n<p>The idea here is to change the profile annotation of those beans from <code>@Profile(&quot;foo&quot;)</code> to <code>@Profile(&quot;foo | bar&quot;)</code>. Now all the beans that were previously defined in the &quot;foo&quot; profile will be instantiated in both scenarios, if &quot;bar&quot; is activated or if &quot;foo&quot; is activated.</p>\n<p><strong>2. Activating profile programmatically</strong></p>\n<p>This has to be done before the ApplicationContext loads.</p>\n<p>e.g.</p>\n<pre><code>var profiles = System.getProperty(&quot;spring.profiles.active&quot;);\n    if (profiles.contains(&quot;bar&quot;))\n        System.setProperty(&quot;spring.profiles.active&quot;, profiles + &quot;,foo&quot;);\nSpringApplication.run(AppConfig.class); \n</code></pre>\n<p>Probably not the most elegant solution but something along those lines.</p>\n"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696014164,"creation_date":1695950826,"question_id":77199036,"body_markdown":"Suppose we have 3 profiles: `default`, `foo`, `bar`. The `default` profile is the Spring &quot;main&quot; profile.\r\n\r\nLet&#39;s say that if someone activates (through an argument in console) `foo` profile, then `default` profile is also enabled, but `bar` is not. This I have working.\r\n\r\nBut - and here&#39;s the issue - how can I make `bar` profile include `foo` profile which overrides the `default` one?","title":"Have a Spring profile include another one (not default)","body":"<p>Suppose we have 3 profiles: <code>default</code>, <code>foo</code>, <code>bar</code>. The <code>default</code> profile is the Spring &quot;main&quot; profile.</p>\n<p>Let's say that if someone activates (through an argument in console) <code>foo</code> profile, then <code>default</code> profile is also enabled, but <code>bar</code> is not. This I have working.</p>\n<p>But - and here's the issue - how can I make <code>bar</code> profile include <code>foo</code> profile which overrides the <code>default</code> one?</p>\n"},{"tags":["java","quicksort","time-limiting"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696013445,"creation_date":1696012448,"answer_id":77204145,"question_id":77204100,"body_markdown":"When the (sub)array being partitioned has only the same value repeated, like [2, 2, 2], or [5, 5], the following loop will never exit:\r\n\r\n        while (A[x] == Z) {\r\n            x = (int)(Math.random() * (r - l + 1) + l);\r\n        }\r\n \r\nYou have added this code (and the loop to find `Z`) to avoid that the partitioncut happens at the extreme left, leaving the caller with an empty partition and another partition that has the same size as before.\r\n\r\nBut there are other ways to ensure that. For instance, you could swap the pivot element into the (otherwise) empty partition.\r\n\r\nToday another question on random pivot selection came up. The [answer](https://stackoverflow.com/a/77201965/5459839) over there may be an inspiration to you.","title":"java quick sort time limit","body":"<p>When the (sub)array being partitioned has only the same value repeated, like [2, 2, 2], or [5, 5], the following loop will never exit:</p>\n<pre><code>    while (A[x] == Z) {\n        x = (int)(Math.random() * (r - l + 1) + l);\n    }\n</code></pre>\n<p>You have added this code (and the loop to find <code>Z</code>) to avoid that the partitioncut happens at the extreme left, leaving the caller with an empty partition and another partition that has the same size as before.</p>\n<p>But there are other ways to ensure that. For instance, you could swap the pivot element into the (otherwise) empty partition.</p>\n<p>Today another question on random pivot selection came up. The <a href=\"https://stackoverflow.com/a/77201965/5459839\">answer</a> over there may be an inspiration to you.</p>\n"}],"owner":{"account_id":29565376,"reputation":11,"user_id":22658934,"display_name":"–§–æ—Ä—Å"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77204145,"answer_count":1,"score":-1,"last_activity_date":1696013445,"creation_date":1696011989,"question_id":77204100,"body_markdown":"**This code sometimes works okey, but in some tests it`s Time Limit. What`s the mistake?**\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int N = in.nextInt();\r\n        int[] A = new int[N];\r\n        for (int i = 0; i &lt; N; i++) {\r\n            A[i] = in.nextInt();\r\n        }\r\n        QuickSort(A, 0, N - 1);\r\n        for (int j = 0; j &lt; N; j++){\r\n            System.out.print(A[j] + &quot; &quot;);\r\n        }\r\n    }\r\n\r\n    public static int Partition(int[] A, int l, int r) {\r\n        int x = (int)(Math.random() * (r - l + 1) + l);\r\n        int Z = A[l];\r\n        for (int i = l; i &lt;= r; i++) {\r\n            if (A[i] &lt; Z) {\r\n                Z = A[i];\r\n            }\r\n        }\r\n        while (A[x] == Z) {\r\n            x = (int)(Math.random() * (r - l + 1) + l);\r\n        }\r\n        int C = l - 1;\r\n        for (int i = l; i &lt;= r; i++) {\r\n            int y = A[i];\r\n            if (y &gt;= A[x]) {\r\n                continue;\r\n            }\r\n            if (y &lt; A[x]) {\r\n                int fake = A[C+1];\r\n                A[C+1] = A[i];\r\n                A[i] = fake;\r\n                ++C;\r\n            }\r\n        }\r\n        return C + 1;\r\n    }\r\n    public static int[] QuickSort(int[] A, int l, int r){\r\n        if (r - l + 1 &lt;= 1) {\r\n            return A;\r\n        }\r\n        if (l &lt; r) {\r\n            int Index = Partition(A, l, r);\r\n            QuickSort(A, l,  Index - 1);\r\n            QuickSort(A, Index, r);\r\n        }\r\n        return A;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI tried to check short arrays like {3,2,1} or {3,7,4,2,1,9} it`s ok, but if it`s 40 or 100 numbers -&gt; TimeLimit. I create partition algorithm, and take random pivot. After this, I check if random number equal min, change it. I count numbers of iterations and make QuickSort for left side and right side. ","title":"java quick sort time limit","body":"<p><strong>This code sometimes works okey, but in some tests it<code>s Time Limit. What</code>s the mistake?</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int N = in.nextInt();\n        int[] A = new int[N];\n        for (int i = 0; i &lt; N; i++) {\n            A[i] = in.nextInt();\n        }\n        QuickSort(A, 0, N - 1);\n        for (int j = 0; j &lt; N; j++){\n            System.out.print(A[j] + &quot; &quot;);\n        }\n    }\n\n    public static int Partition(int[] A, int l, int r) {\n        int x = (int)(Math.random() * (r - l + 1) + l);\n        int Z = A[l];\n        for (int i = l; i &lt;= r; i++) {\n            if (A[i] &lt; Z) {\n                Z = A[i];\n            }\n        }\n        while (A[x] == Z) {\n            x = (int)(Math.random() * (r - l + 1) + l);\n        }\n        int C = l - 1;\n        for (int i = l; i &lt;= r; i++) {\n            int y = A[i];\n            if (y &gt;= A[x]) {\n                continue;\n            }\n            if (y &lt; A[x]) {\n                int fake = A[C+1];\n                A[C+1] = A[i];\n                A[i] = fake;\n                ++C;\n            }\n        }\n        return C + 1;\n    }\n    public static int[] QuickSort(int[] A, int l, int r){\n        if (r - l + 1 &lt;= 1) {\n            return A;\n        }\n        if (l &lt; r) {\n            int Index = Partition(A, l, r);\n            QuickSort(A, l,  Index - 1);\n            QuickSort(A, Index, r);\n        }\n        return A;\n    }\n}\n\n</code></pre>\n<p>I tried to check short arrays like {3,2,1} or {3,7,4,2,1,9} it<code>s ok, but if it</code>s 40 or 100 numbers -&gt; TimeLimit. I create partition algorithm, and take random pivot. After this, I check if random number equal min, change it. I count numbers of iterations and make QuickSort for left side and right side.</p>\n"},{"tags":["java","android","nanohttpd"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1696019127,"post_id":77204168,"comment_id":136105287,"body_markdown":"You dont know if your server code is wrong or your client code?","body":"You dont know if your server code is wrong or your client code?"}],"owner":{"account_id":4299687,"reputation":6224,"user_id":3663765,"accept_rate":61,"display_name":"Program-Me-Rev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696012763,"creation_date":1696012763,"question_id":77204168,"body_markdown":"I have the following implementation in a Java client application that I&#39;m trying to upload files to a **NanoHTTPD** server :  \r\n\r\n\r\n    import java.io.*;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import java.util.List;\r\n\r\n    public class RevFileUploadTask {\r\n        private static final String REV_SERVER_URL = &quot;http://192.168.16.57:8090/upload&quot;;\r\n        private static final String BOUNDARY = &quot;--------------------------1234567890abcdef&quot;;\r\n\r\n        public void revUploadFiles(List&lt;File&gt; selectedFiles) {\r\n            if (selectedFiles == null || selectedFiles.isEmpty()) {\r\n                System.err.println(&quot;No files selected for upload.&quot;);\r\n                return;\r\n            }\r\n\r\n            try {\r\n                URL url = new URL(REV_SERVER_URL);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                connection.setRequestMethod(&quot;POST&quot;);\r\n                connection.setDoOutput(true);\r\n                connection.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=&quot; + BOUNDARY);\r\n\r\n                try (OutputStream outputStream = connection.getOutputStream();\r\n                        PrintWriter writer = new PrintWriter(new OutputStreamWriter(outputStream, &quot;UTF-8&quot;), true)) {\r\n\r\n                    for (File file : selectedFiles) {\r\n                        writer.append(&quot;--&quot; + BOUNDARY).append(&quot;\\r\\n&quot;);\r\n                        writer.append(&quot;Content-Disposition: form-data; name=\\&quot;file\\&quot;; filename=\\&quot;&quot; + file.getName() + &quot;\\&quot;&quot;)\r\n                                .append(&quot;\\r\\n&quot;);\r\n                        writer.append(&quot;Content-Type: &quot; + &quot;application/octet-stream&quot;).append(&quot;\\r\\n&quot;);\r\n                        writer.append(&quot;\\r\\n&quot;);\r\n\r\n                        try (FileInputStream fileInputStream = new FileInputStream(file)) {\r\n                            byte[] buffer = new byte[4096];\r\n                            int bytesRead;\r\n                            while ((bytesRead = fileInputStream.read(buffer)) != -1) {\r\n                                outputStream.write(buffer, 0, bytesRead);\r\n                            }\r\n                        }\r\n\r\n                        writer.append(&quot;\\r\\n&quot;);\r\n                    }\r\n\r\n                    writer.append(&quot;--&quot; + BOUNDARY + &quot;--&quot;).append(&quot;\\r\\n&quot;);\r\n                }\r\n\r\n                int responseCode = connection.getResponseCode();\r\n                if (responseCode == HttpURLConnection.HTTP_OK) {\r\n                    // Handle a successful response from the server\r\n                    // You can read the server response here if needed\r\n                    try (BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()))) {\r\n                        StringBuilder response = new StringBuilder();\r\n                        String line;\r\n                        while ((line = reader.readLine()) != null) {\r\n                            response.append(line);\r\n                        }\r\n                        System.out.println(&quot;Server response: &quot; + response.toString());\r\n                    }\r\n                } else {\r\n                    // Handle an error response from the server\r\n                    System.err.println(&quot;Error: &quot; + responseCode);\r\n                }\r\n\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n                System.err.println(&quot;Error: &quot; + ex.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nThe Server :  \r\n\r\n    package com.iksync.rev_http_web_server;\r\n\r\n    import android.os.Build;\r\n    import android.os.Environment;\r\n    import android.util.Log;\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipOutputStream;\r\n\r\n    import fi.iki.elonen.NanoHTTPD;\r\n    import fi.iki.elonen.NanoHTTPD.Response.Status;\r\n    import okio.BufferedSink;\r\n    import okio.Okio;\r\n\r\n    public class RevAndroidHttpServer extends NanoHTTPD {\r\n\r\n        public RevAndroidHttpServer(int port) {\r\n            super(port);\r\n        }\r\n\r\n        public static void revInit(int port) {\r\n            RevAndroidHttpServer server = new RevAndroidHttpServer(port);\r\n\r\n            try {\r\n                server.start();\r\n                System.out.println(&quot;Server started on port &quot; + port);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public Response serve(IHTTPSession revSession) {\r\n            Method method = revSession.getMethod();\r\n\r\n            try {\r\n                // Retrieve the query parameters map\r\n                Map&lt;String, List&lt;String&gt;&gt; queryParams = revSession.getParameters();\r\n\r\n                // Check if the &quot;revFilePath&quot; parameter exists\r\n                if (Method.POST.equals(method)) {\r\n                    try {\r\n                        // Parse the request to get uploaded files\r\n                        Map&lt;String, String&gt; files = new HashMap&lt;&gt;();\r\n                        revSession.parseBody(files);\r\n\r\n                        for (Map.Entry&lt;String, String&gt; entry : files.entrySet()) {\r\n                            String fieldName = entry.getKey();\r\n                            String tempFilePath = entry.getValue();\r\n\r\n                            Log.d(&quot;MyApp&quot;, &quot;&gt;&gt;&gt; fieldName &quot; + fieldName);\r\n                            Log.d(&quot;MyApp&quot;, &quot;&gt;&gt;&gt; tempFilePath &quot; + tempFilePath);\r\n                        }\r\n\r\n                        return newFixedLengthResponse(&quot;Files uploaded successfully.&quot;);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                        return newFixedLengthResponse(&quot;Error uploading files: &quot; + e.getMessage());\r\n                    } catch (ResponseException e) {\r\n                        e.printStackTrace();\r\n                        return newFixedLengthResponse(&quot;Error: &quot; + e.getMessage());\r\n                    }\r\n                } else {\r\n                    // Handle the case where &quot;revFilePath&quot; parameter is missing\r\n                    return newFixedLengthResponse(Status.BAD_REQUEST, NanoHTTPD.MIME_PLAINTEXT,\r\n                            &quot;Missing &#39;revFilePath&#39; parameter&quot;);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return newFixedLengthResponse(Status.INTERNAL_ERROR, NanoHTTPD.MIME_PLAINTEXT, &quot;Internal server error&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nHowever :  \r\n\r\n    String fieldName = entry.getKey();  \r\n    String tempFilePath = entry.getValue();  \r\n\r\nare empty.  \r\n\r\nHow can I fix this? Where am I going wrong?  \r\n\r\nThank you all in advance.","title":"How to upload files to NanoHTTPD Server in Android from a Java client running on Desktop connected over WiFi","body":"<p>I have the following implementation in a Java client application that I'm trying to upload files to a <strong>NanoHTTPD</strong> server :</p>\n<pre><code>import java.io.*;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.List;\n\npublic class RevFileUploadTask {\n    private static final String REV_SERVER_URL = &quot;http://192.168.16.57:8090/upload&quot;;\n    private static final String BOUNDARY = &quot;--------------------------1234567890abcdef&quot;;\n\n    public void revUploadFiles(List&lt;File&gt; selectedFiles) {\n        if (selectedFiles == null || selectedFiles.isEmpty()) {\n            System.err.println(&quot;No files selected for upload.&quot;);\n            return;\n        }\n\n        try {\n            URL url = new URL(REV_SERVER_URL);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.setRequestMethod(&quot;POST&quot;);\n            connection.setDoOutput(true);\n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data; boundary=&quot; + BOUNDARY);\n\n            try (OutputStream outputStream = connection.getOutputStream();\n                    PrintWriter writer = new PrintWriter(new OutputStreamWriter(outputStream, &quot;UTF-8&quot;), true)) {\n\n                for (File file : selectedFiles) {\n                    writer.append(&quot;--&quot; + BOUNDARY).append(&quot;\\r\\n&quot;);\n                    writer.append(&quot;Content-Disposition: form-data; name=\\&quot;file\\&quot;; filename=\\&quot;&quot; + file.getName() + &quot;\\&quot;&quot;)\n                            .append(&quot;\\r\\n&quot;);\n                    writer.append(&quot;Content-Type: &quot; + &quot;application/octet-stream&quot;).append(&quot;\\r\\n&quot;);\n                    writer.append(&quot;\\r\\n&quot;);\n\n                    try (FileInputStream fileInputStream = new FileInputStream(file)) {\n                        byte[] buffer = new byte[4096];\n                        int bytesRead;\n                        while ((bytesRead = fileInputStream.read(buffer)) != -1) {\n                            outputStream.write(buffer, 0, bytesRead);\n                        }\n                    }\n\n                    writer.append(&quot;\\r\\n&quot;);\n                }\n\n                writer.append(&quot;--&quot; + BOUNDARY + &quot;--&quot;).append(&quot;\\r\\n&quot;);\n            }\n\n            int responseCode = connection.getResponseCode();\n            if (responseCode == HttpURLConnection.HTTP_OK) {\n                // Handle a successful response from the server\n                // You can read the server response here if needed\n                try (BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()))) {\n                    StringBuilder response = new StringBuilder();\n                    String line;\n                    while ((line = reader.readLine()) != null) {\n                        response.append(line);\n                    }\n                    System.out.println(&quot;Server response: &quot; + response.toString());\n                }\n            } else {\n                // Handle an error response from the server\n                System.err.println(&quot;Error: &quot; + responseCode);\n            }\n\n        } catch (IOException ex) {\n            ex.printStackTrace();\n            System.err.println(&quot;Error: &quot; + ex.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>The Server :</p>\n<pre><code>package com.iksync.rev_http_web_server;\n\nimport android.os.Build;\nimport android.os.Environment;\nimport android.util.Log;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\nimport fi.iki.elonen.NanoHTTPD;\nimport fi.iki.elonen.NanoHTTPD.Response.Status;\nimport okio.BufferedSink;\nimport okio.Okio;\n\npublic class RevAndroidHttpServer extends NanoHTTPD {\n\n    public RevAndroidHttpServer(int port) {\n        super(port);\n    }\n\n    public static void revInit(int port) {\n        RevAndroidHttpServer server = new RevAndroidHttpServer(port);\n\n        try {\n            server.start();\n            System.out.println(&quot;Server started on port &quot; + port);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public Response serve(IHTTPSession revSession) {\n        Method method = revSession.getMethod();\n\n        try {\n            // Retrieve the query parameters map\n            Map&lt;String, List&lt;String&gt;&gt; queryParams = revSession.getParameters();\n\n            // Check if the &quot;revFilePath&quot; parameter exists\n            if (Method.POST.equals(method)) {\n                try {\n                    // Parse the request to get uploaded files\n                    Map&lt;String, String&gt; files = new HashMap&lt;&gt;();\n                    revSession.parseBody(files);\n\n                    for (Map.Entry&lt;String, String&gt; entry : files.entrySet()) {\n                        String fieldName = entry.getKey();\n                        String tempFilePath = entry.getValue();\n\n                        Log.d(&quot;MyApp&quot;, &quot;&gt;&gt;&gt; fieldName &quot; + fieldName);\n                        Log.d(&quot;MyApp&quot;, &quot;&gt;&gt;&gt; tempFilePath &quot; + tempFilePath);\n                    }\n\n                    return newFixedLengthResponse(&quot;Files uploaded successfully.&quot;);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                    return newFixedLengthResponse(&quot;Error uploading files: &quot; + e.getMessage());\n                } catch (ResponseException e) {\n                    e.printStackTrace();\n                    return newFixedLengthResponse(&quot;Error: &quot; + e.getMessage());\n                }\n            } else {\n                // Handle the case where &quot;revFilePath&quot; parameter is missing\n                return newFixedLengthResponse(Status.BAD_REQUEST, NanoHTTPD.MIME_PLAINTEXT,\n                        &quot;Missing 'revFilePath' parameter&quot;);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n            return newFixedLengthResponse(Status.INTERNAL_ERROR, NanoHTTPD.MIME_PLAINTEXT, &quot;Internal server error&quot;);\n        }\n    }\n}\n</code></pre>\n<p>However :</p>\n<pre><code>String fieldName = entry.getKey();  \nString tempFilePath = entry.getValue();  \n</code></pre>\n<p>are empty.</p>\n<p>How can I fix this? Where am I going wrong?</p>\n<p>Thank you all in advance.</p>\n"},{"tags":["java","spring-boot","maven","continuous-integration","github-actions"],"owner":{"account_id":986157,"reputation":1713,"user_id":1004589,"accept_rate":36,"display_name":"Md Monjur Ul Hasan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696010746,"creation_date":1696010746,"question_id":77204003,"body_markdown":"I have the following github action. I have the branch that is working perfectly and pass all tests in my IntelliJ IDE. But in gihub action, only 3 out of 9 test suites run successfully, for the rests, it throws `UnsatisfiedDependencyException` exception. I have checked for the @service annotations and file locations. All are in order. Can anyone help me find out what is going on. \r\n\r\n\r\n    on:\r\n      push:\r\n        branches:\r\n          - &#39;feature/*&#39;\r\n      workflow_dispatch:\r\n    \r\n    jobs:\r\n      build:\r\n        runs-on: ubuntu-latest\r\n    \r\n        steps:\r\n          - name: Checkout Repository\r\n            uses: actions/checkout@v2\r\n    \r\n          - name: &#39;Set up archived Oracle JDK 17.0.2&#39;\r\n            uses: oracle-actions/setup-java@v1\r\n            with:\r\n              website: oracle.com\r\n              release: 17\r\n              version: 17.0.2\r\n          - name: &#39;check java version&#39;\r\n            run: java -version\r\n    \r\n          - name: Install Maven\r\n            uses: yuzhiyongcn/setup-maven@v1.0.0\r\n            with:\r\n              maven-version: 3.9.3 # optional, default is 3.8.2\r\n    \r\n          - name: Setup Dependency\r\n            run: mvn clean install -DskipTests=true -Dmaven.javadoc.skip=true -B -V\r\n    \r\n          - name: Build and Test\r\n            run: mvn verify\r\n\r\n","title":"UnsatisfiedDependencyException in github action, but working correctly in local","body":"<p>I have the following github action. I have the branch that is working perfectly and pass all tests in my IntelliJ IDE. But in gihub action, only 3 out of 9 test suites run successfully, for the rests, it throws <code>UnsatisfiedDependencyException</code> exception. I have checked for the @service annotations and file locations. All are in order. Can anyone help me find out what is going on.</p>\n<pre><code>on:\n  push:\n    branches:\n      - 'feature/*'\n  workflow_dispatch:\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout Repository\n        uses: actions/checkout@v2\n\n      - name: 'Set up archived Oracle JDK 17.0.2'\n        uses: oracle-actions/setup-java@v1\n        with:\n          website: oracle.com\n          release: 17\n          version: 17.0.2\n      - name: 'check java version'\n        run: java -version\n\n      - name: Install Maven\n        uses: yuzhiyongcn/setup-maven@v1.0.0\n        with:\n          maven-version: 3.9.3 # optional, default is 3.8.2\n\n      - name: Setup Dependency\n        run: mvn clean install -DskipTests=true -Dmaven.javadoc.skip=true -B -V\n\n      - name: Build and Test\n        run: mvn verify\n</code></pre>\n"},{"tags":["java","design-patterns","inheritance","builder"],"comments":[{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1389605360,"post_id":21086417,"comment_id":31719015,"body_markdown":"The SO question you link to tells you *exactly* how to do this, and nowhere in the answer is an abstract class involved.","body":"The SO question you link to tells you <i>exactly</i> how to do this, and nowhere in the answer is an abstract class involved."},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1389605459,"post_id":21086417,"comment_id":31719072,"body_markdown":"possible duplicate of [Subclassing a Java Builder class](http://stackoverflow.com/questions/17164375/subclassing-a-java-builder-class)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/17164375/subclassing-a-java-builder-class\">Subclassing a Java Builder class</a>"},{"owner":{"account_id":57008,"reputation":3225,"user_id":170781,"accept_rate":65,"display_name":"Eric Tobias"},"score":1,"creation_date":1389615595,"post_id":21086417,"comment_id":31724810,"body_markdown":"I have read said question and even referred to it in my question. As I stated, that question does not provide an answer due to several shortcomings. No abstract classes are involved in that answer because it applies the pattern incorrectly.","body":"I have read said question and even referred to it in my question. As I stated, that question does not provide an answer due to several shortcomings. No abstract classes are involved in that answer because it applies the pattern incorrectly."}],"answers":[{"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"down_vote_count":1,"up_vote_count":71,"is_accepted":true,"score":70,"last_activity_date":1536763033,"creation_date":1389607116,"answer_id":21088334,"question_id":21086417,"body_markdown":"This is certainly possible with the recursive bound, but the subtype builders need to also be generic, and you need a few interim abstract classes. It&#39;s a little bit cumbersome, but it&#39;s still easier than the non-generic version.\r\n\r\n    /**\r\n     * Extend this for Mammal subtype builders.\r\n     */\r\n    abstract class GenericMammalBuilder&lt;B extends GenericMammalBuilder&lt;B&gt;&gt; {\r\n        String sex;\r\n        String name;\r\n        \r\n        B sex(String sex) {\r\n            this.sex = sex;\r\n            return self();\r\n        }\r\n        \r\n        B name(String name) {\r\n            this.name = name;\r\n            return self();\r\n        }\r\n        \r\n        abstract Mammal build();\r\n        \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        final B self() {\r\n            return (B) this;\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Use this to actually build new Mammal instances.\r\n     */\r\n    final class MammalBuilder extends GenericMammalBuilder&lt;MammalBuilder&gt; {\r\n        @Override\r\n        Mammal build() {\r\n            return new Mammal(this);\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Extend this for Rabbit subtype builders, e.g. LopBuilder.\r\n     */\r\n    abstract class GenericRabbitBuilder&lt;B extends GenericRabbitBuilder&lt;B&gt;&gt;\r\n            extends GenericMammalBuilder&lt;B&gt; {\r\n        Color furColor;\r\n        \r\n        B furColor(Color furColor) {\r\n            this.furColor = furColor;\r\n            return self();\r\n        }\r\n        \r\n        @Override\r\n        abstract Rabbit build();\r\n    }\r\n    \r\n    /**\r\n     * Use this to actually build new Rabbit instances.\r\n     */\r\n    final class RabbitBuilder extends GenericRabbitBuilder&lt;RabbitBuilder&gt; {\r\n        @Override\r\n        Rabbit build() {\r\n            return new Rabbit(this);\r\n        }\r\n    }\r\n\r\nThere&#39;s a way to avoid having the &quot;concrete&quot; leaf classes, where if we had this:\r\n\r\n    class MammalBuilder&lt;B extends MammalBuilder&lt;B&gt;&gt; {\r\n        ...\r\n    }\r\n    class RabbitBuilder&lt;B extends RabbitBuilder&lt;B&gt;&gt;\r\n            extends MammalBuilder&lt;B&gt; {\r\n        ...\r\n    }\r\n\r\nThen you need to create new instances with a diamond, and use wildcards in the reference type:\r\n\r\n    static RabbitBuilder&lt;?&gt; builder() {\r\n        return new RabbitBuilder&lt;&gt;();\r\n    }\r\n\r\nThat works because the bound on the type variable ensures that all the methods of e.g. `RabbitBuilder` have a return type with `RabbitBuilder`, even when the type argument is just a wildcard.\r\n\r\nI&#39;m not much of a fan of that, though, because you need to use wildcards everywhere, and you can only create a new instance using the diamond or a [raw type](https://stackoverflow.com/q/2770321/2891664). I suppose you end up with a little awkwardness either way.\r\n\r\n---\r\n\r\nAnd by the way, about this:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    final B self() {\r\n        return (B) this;\r\n    }\r\n\r\nThere&#39;s a way to avoid that unchecked cast, which is to make the method abstract:\r\n\r\n    abstract B self();\r\n\r\nAnd then override it in the leaf subclass:\r\n\r\n    @Override\r\n    RabbitBuilder self() { return this; }\r\n\r\nThe issue with doing it that way is that although it&#39;s more type-safe, the subclass can return something other than `this`. Basically, either way, the subclass has the opportunity to do something wrong, so I don&#39;t really see much of a reason to prefer one of those approaches over the other.","title":"Builder Pattern and Inheritance","body":"<p>This is certainly possible with the recursive bound, but the subtype builders need to also be generic, and you need a few interim abstract classes. It's a little bit cumbersome, but it's still easier than the non-generic version.</p>\n\n<pre><code>/**\n * Extend this for Mammal subtype builders.\n */\nabstract class GenericMammalBuilder&lt;B extends GenericMammalBuilder&lt;B&gt;&gt; {\n    String sex;\n    String name;\n\n    B sex(String sex) {\n        this.sex = sex;\n        return self();\n    }\n\n    B name(String name) {\n        this.name = name;\n        return self();\n    }\n\n    abstract Mammal build();\n\n    @SuppressWarnings(\"unchecked\")\n    final B self() {\n        return (B) this;\n    }\n}\n\n/**\n * Use this to actually build new Mammal instances.\n */\nfinal class MammalBuilder extends GenericMammalBuilder&lt;MammalBuilder&gt; {\n    @Override\n    Mammal build() {\n        return new Mammal(this);\n    }\n}\n\n/**\n * Extend this for Rabbit subtype builders, e.g. LopBuilder.\n */\nabstract class GenericRabbitBuilder&lt;B extends GenericRabbitBuilder&lt;B&gt;&gt;\n        extends GenericMammalBuilder&lt;B&gt; {\n    Color furColor;\n\n    B furColor(Color furColor) {\n        this.furColor = furColor;\n        return self();\n    }\n\n    @Override\n    abstract Rabbit build();\n}\n\n/**\n * Use this to actually build new Rabbit instances.\n */\nfinal class RabbitBuilder extends GenericRabbitBuilder&lt;RabbitBuilder&gt; {\n    @Override\n    Rabbit build() {\n        return new Rabbit(this);\n    }\n}\n</code></pre>\n\n<p>There's a way to avoid having the \"concrete\" leaf classes, where if we had this:</p>\n\n<pre><code>class MammalBuilder&lt;B extends MammalBuilder&lt;B&gt;&gt; {\n    ...\n}\nclass RabbitBuilder&lt;B extends RabbitBuilder&lt;B&gt;&gt;\n        extends MammalBuilder&lt;B&gt; {\n    ...\n}\n</code></pre>\n\n<p>Then you need to create new instances with a diamond, and use wildcards in the reference type:</p>\n\n<pre><code>static RabbitBuilder&lt;?&gt; builder() {\n    return new RabbitBuilder&lt;&gt;();\n}\n</code></pre>\n\n<p>That works because the bound on the type variable ensures that all the methods of e.g. <code>RabbitBuilder</code> have a return type with <code>RabbitBuilder</code>, even when the type argument is just a wildcard.</p>\n\n<p>I'm not much of a fan of that, though, because you need to use wildcards everywhere, and you can only create a new instance using the diamond or a <a href=\"https://stackoverflow.com/q/2770321/2891664\">raw type</a>. I suppose you end up with a little awkwardness either way.</p>\n\n<hr>\n\n<p>And by the way, about this:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nfinal B self() {\n    return (B) this;\n}\n</code></pre>\n\n<p>There's a way to avoid that unchecked cast, which is to make the method abstract:</p>\n\n<pre><code>abstract B self();\n</code></pre>\n\n<p>And then override it in the leaf subclass:</p>\n\n<pre><code>@Override\nRabbitBuilder self() { return this; }\n</code></pre>\n\n<p>The issue with doing it that way is that although it's more type-safe, the subclass can return something other than <code>this</code>. Basically, either way, the subclass has the opportunity to do something wrong, so I don't really see much of a reason to prefer one of those approaches over the other.</p>\n"},{"tags":[],"owner":{"account_id":72619,"reputation":978,"user_id":1171096,"accept_rate":50,"display_name":"Samurai Girl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389608090,"creation_date":1389608090,"answer_id":21088692,"question_id":21086417,"body_markdown":"As you cannot use generics, now probably the main task is to somehow loosen typing.\r\nI don&#39;t know how you process those properties afterwards, but what if you used a HashMap for storing them as key-value pairs? So there will be just one set(key, value) wrapper method in the builder (or builder might not be necessary any more).\r\n\r\nThe downside would be additional type castings while processing the stored data.\r\n\r\nIf this case is too loose, then you could keep the existing properties, but have a general set method, which uses reflection and searches for setter method on the basis of &#39;key&#39; name. Although I think reflection would be an overkill.","title":"Builder Pattern and Inheritance","body":"<p>As you cannot use generics, now probably the main task is to somehow loosen typing.\nI don't know how you process those properties afterwards, but what if you used a HashMap for storing them as key-value pairs? So there will be just one set(key, value) wrapper method in the builder (or builder might not be necessary any more).</p>\n\n<p>The downside would be additional type castings while processing the stored data.</p>\n\n<p>If this case is too loose, then you could keep the existing properties, but have a general set method, which uses reflection and searches for setter method on the basis of 'key' name. Although I think reflection would be an overkill.</p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1389690198,"creation_date":1389626386,"answer_id":21094836,"question_id":21086417,"body_markdown":"This form seems to nearly work. It is not very tidy but it looks like it avoids your issues:\r\n\r\n    class Rabbit&lt;B extends Rabbit.Builder&lt;B&gt;&gt; {\r\n\r\n        String name;\r\n\r\n        public Rabbit(Builder&lt;B&gt; builder) {\r\n            this.name = builder.colour;\r\n        }\r\n\r\n        public static class Builder&lt;B extends Rabbit.Builder&lt;B&gt;&gt; {\r\n\r\n            protected String colour;\r\n\r\n            public B colour(String colour) {\r\n                this.colour = colour;\r\n                return (B)this;\r\n            }\r\n\r\n            public Rabbit&lt;B&gt; build () {\r\n                return new Rabbit&lt;&gt;(this);\r\n            }\r\n        }\r\n    }\r\n\r\n    class Lop&lt;B extends Lop.Builder&lt;B&gt;&gt; extends Rabbit&lt;B&gt; {\r\n\r\n        float earLength;\r\n\r\n        public Lop(Builder&lt;B&gt; builder) {\r\n            super(builder);\r\n            this.earLength = builder.earLength;\r\n        }\r\n\r\n        public static class Builder&lt;B extends Lop.Builder&lt;B&gt;&gt; extends Rabbit.Builder&lt;B&gt; {\r\n\r\n            protected float earLength;\r\n\r\n            public B earLength(float earLength) {\r\n                this.earLength = earLength;\r\n                return (B)this;\r\n            }\r\n\r\n            @Override\r\n            public Lop&lt;B&gt; build () {\r\n                return new Lop&lt;&gt;(this);\r\n            }\r\n        }\r\n    }\r\n\r\n    public class Test {\r\n\r\n        public void test() {\r\n            Rabbit rabbit = new Rabbit.Builder&lt;&gt;().colour(&quot;White&quot;).build();\r\n            Lop lop1 = new Lop.Builder&lt;&gt;().earLength(1.4F).colour(&quot;Brown&quot;).build();\r\n            Lop lop2 = new Lop.Builder&lt;&gt;().colour(&quot;Brown&quot;).earLength(1.4F).build();\r\n            //Lop.Builder&lt;Lop, Lop.Builder&gt; builder = new Lop.Builder&lt;&gt;();\r\n        }\r\n\r\n        public static void main(String args[]) {\r\n            try {\r\n                new Test().test();\r\n            } catch (Throwable t) {\r\n                t.printStackTrace(System.err);\r\n            }\r\n        }\r\n    }\r\n\r\nAlthough I have successfully built `Rabbit` and `Lop` (in both forms) I cannot at this stage work out how to actually instantiate one of the `Builder` objects with it&#39;s full type.\r\n\r\nThe essence of this method relies on the cast to `(B)` in the `Builder` methods. This allow you to define the type of object and the type of the `Builder` and retain that within the object while it is constructed.\r\n\r\nIf anyone could work out the correct syntax for this (which is wrong) I would appreciate it.\r\n\r\n    Lop.Builder&lt;Lop.Builder&gt; builder = new Lop.Builder&lt;&gt;();","title":"Builder Pattern and Inheritance","body":"<p>This form seems to nearly work. It is not very tidy but it looks like it avoids your issues:</p>\n\n<pre><code>class Rabbit&lt;B extends Rabbit.Builder&lt;B&gt;&gt; {\n\n    String name;\n\n    public Rabbit(Builder&lt;B&gt; builder) {\n        this.name = builder.colour;\n    }\n\n    public static class Builder&lt;B extends Rabbit.Builder&lt;B&gt;&gt; {\n\n        protected String colour;\n\n        public B colour(String colour) {\n            this.colour = colour;\n            return (B)this;\n        }\n\n        public Rabbit&lt;B&gt; build () {\n            return new Rabbit&lt;&gt;(this);\n        }\n    }\n}\n\nclass Lop&lt;B extends Lop.Builder&lt;B&gt;&gt; extends Rabbit&lt;B&gt; {\n\n    float earLength;\n\n    public Lop(Builder&lt;B&gt; builder) {\n        super(builder);\n        this.earLength = builder.earLength;\n    }\n\n    public static class Builder&lt;B extends Lop.Builder&lt;B&gt;&gt; extends Rabbit.Builder&lt;B&gt; {\n\n        protected float earLength;\n\n        public B earLength(float earLength) {\n            this.earLength = earLength;\n            return (B)this;\n        }\n\n        @Override\n        public Lop&lt;B&gt; build () {\n            return new Lop&lt;&gt;(this);\n        }\n    }\n}\n\npublic class Test {\n\n    public void test() {\n        Rabbit rabbit = new Rabbit.Builder&lt;&gt;().colour(\"White\").build();\n        Lop lop1 = new Lop.Builder&lt;&gt;().earLength(1.4F).colour(\"Brown\").build();\n        Lop lop2 = new Lop.Builder&lt;&gt;().colour(\"Brown\").earLength(1.4F).build();\n        //Lop.Builder&lt;Lop, Lop.Builder&gt; builder = new Lop.Builder&lt;&gt;();\n    }\n\n    public static void main(String args[]) {\n        try {\n            new Test().test();\n        } catch (Throwable t) {\n            t.printStackTrace(System.err);\n        }\n    }\n}\n</code></pre>\n\n<p>Although I have successfully built <code>Rabbit</code> and <code>Lop</code> (in both forms) I cannot at this stage work out how to actually instantiate one of the <code>Builder</code> objects with it's full type.</p>\n\n<p>The essence of this method relies on the cast to <code>(B)</code> in the <code>Builder</code> methods. This allow you to define the type of object and the type of the <code>Builder</code> and retain that within the object while it is constructed.</p>\n\n<p>If anyone could work out the correct syntax for this (which is wrong) I would appreciate it.</p>\n\n<pre><code>Lop.Builder&lt;Lop.Builder&gt; builder = new Lop.Builder&lt;&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8696509,"reputation":20080,"user_id":6507689,"accept_rate":86,"display_name":"R. Zag&#243;rski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1490716662,"creation_date":1476711790,"answer_id":40088057,"question_id":21086417,"body_markdown":"If anyone still bumped into the same problem, I suggest the following solution, that conforms &quot;Prefer composition over inheritance&quot; design pattern.\r\n\r\n**Parent class**\r\n\r\nThe main element of it is the interface that parent class Builder must implement:\r\n\r\n\tpublic interface RabbitBuilder&lt;T&gt; {\r\n\t\tpublic T sex(String sex);\r\n\t\tpublic T name(String name);\r\n\t}\r\n\r\n\r\nHere is the changed parent class with the change:\r\n\r\n\tpublic class Rabbit {\r\n\t\tpublic String sex;\r\n\t\tpublic String name;\r\n\r\n\t\tpublic Rabbit(Builder builder) {\r\n\t\t\tsex = builder.sex;\r\n\t\t\tname = builder.name;\r\n\t\t}\r\n\r\n\t\tpublic static class Builder implements RabbitBuilder&lt;Builder&gt; {\r\n\t\t\tprotected String sex;\r\n\t\t\tprotected String name;\r\n\r\n\t\t\tpublic Builder() {}\r\n\r\n\t\t\tpublic Rabbit build() {\r\n\t\t\t\treturn new Rabbit(this);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Builder sex(String sex) {\r\n\t\t\t\tthis.sex = sex;\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic Builder name(String name) {\r\n\t\t\t\tthis.name = name;\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n**The child class**\r\n\r\nThe child class `Builder` must implement the same interface (with different generic type):\r\n\r\n    public static class LopBuilder implements RabbitBuilder&lt;LopBuilder&gt;\r\n\r\nInside the child class `Builder` the field referencing parent`Builder`:\r\n\r\n    private Rabbit.Builder baseBuilder;\r\n\r\nthis ensures that parent `Builder` methods are called in the child, however, their implementation is different:\r\n\r\n    @Override\r\n    public LopBuilder sex(String sex) {\r\n        baseBuilder.sex(sex);\r\n        return this;\r\n    }\r\n\r\n    @Override\r\n    public LopBuilder name(String name) {\r\n        baseBuilder.name(name);\r\n        return this;\r\n    }\r\n\r\n    public Rabbit build() {\r\n        return new Lop(this);\r\n    }\r\n\r\nThe constructor of Builder:\r\n\r\n\r\n    public LopBuilder() {\r\n        baseBuilder = new Rabbit.Builder();\r\n    }\r\n\r\nThe constructor of builded child class:\r\n\r\n    public Lop(LopBuilder builder) {\r\n        super(builder.baseBuilder);\r\n    }","title":"Builder Pattern and Inheritance","body":"<p>If anyone still bumped into the same problem, I suggest the following solution, that conforms \"Prefer composition over inheritance\" design pattern.</p>\n\n<p><strong>Parent class</strong></p>\n\n<p>The main element of it is the interface that parent class Builder must implement:</p>\n\n<pre><code>public interface RabbitBuilder&lt;T&gt; {\n    public T sex(String sex);\n    public T name(String name);\n}\n</code></pre>\n\n<p>Here is the changed parent class with the change:</p>\n\n<pre><code>public class Rabbit {\n    public String sex;\n    public String name;\n\n    public Rabbit(Builder builder) {\n        sex = builder.sex;\n        name = builder.name;\n    }\n\n    public static class Builder implements RabbitBuilder&lt;Builder&gt; {\n        protected String sex;\n        protected String name;\n\n        public Builder() {}\n\n        public Rabbit build() {\n            return new Rabbit(this);\n        }\n\n        @Override\n        public Builder sex(String sex) {\n            this.sex = sex;\n            return this;\n        }\n\n        @Override\n        public Builder name(String name) {\n            this.name = name;\n            return this;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>The child class</strong></p>\n\n<p>The child class <code>Builder</code> must implement the same interface (with different generic type):</p>\n\n<pre><code>public static class LopBuilder implements RabbitBuilder&lt;LopBuilder&gt;\n</code></pre>\n\n<p>Inside the child class <code>Builder</code> the field referencing parent<code>Builder</code>:</p>\n\n<pre><code>private Rabbit.Builder baseBuilder;\n</code></pre>\n\n<p>this ensures that parent <code>Builder</code> methods are called in the child, however, their implementation is different:</p>\n\n<pre><code>@Override\npublic LopBuilder sex(String sex) {\n    baseBuilder.sex(sex);\n    return this;\n}\n\n@Override\npublic LopBuilder name(String name) {\n    baseBuilder.name(name);\n    return this;\n}\n\npublic Rabbit build() {\n    return new Lop(this);\n}\n</code></pre>\n\n<p>The constructor of Builder:</p>\n\n<pre><code>public LopBuilder() {\n    baseBuilder = new Rabbit.Builder();\n}\n</code></pre>\n\n<p>The constructor of builded child class:</p>\n\n<pre><code>public Lop(LopBuilder builder) {\n    super(builder.baseBuilder);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39564,"reputation":10494,"user_id":114196,"accept_rate":80,"display_name":"Niels Basjes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504525302,"creation_date":1504525302,"answer_id":46036268,"question_id":21086417,"body_markdown":"I did some experimenting and I found this to work quite nicely for me.\r\nNote that I prefer to create the actual instance at the start and the call all the setters on that instance. This is just a preference.\r\n\r\nThe main differences with the accepted answer is that \r\n\r\n  1. I pass a parameter that indicated the return type\r\n  1. There is no need for an Abstract... and a final builder.\r\n  1. I create a &#39;newBuilder&#39; convenience method.\r\n\r\nThe code:\r\n\r\n\r\n\r\n    public class MySuper {\r\n        private int superProperty;\r\n    \r\n        public MySuper() { }\r\n    \r\n        public void setSuperProperty(int superProperty) {\r\n            this.superProperty = superProperty;\r\n        }\r\n    \r\n        public static SuperBuilder&lt;? extends MySuper, ? extends SuperBuilder&gt; newBuilder() {\r\n            return new SuperBuilder&lt;&gt;(new MySuper());\r\n        }\r\n    \r\n        public static class SuperBuilder&lt;R extends MySuper, B extends SuperBuilder&lt;R, B&gt;&gt; {\r\n            private final R mySuper;\r\n    \r\n            public SuperBuilder(R mySuper) {\r\n                this.mySuper = mySuper;\r\n            }\r\n    \r\n            public B withSuper(int value) {\r\n                mySuper.setSuperProperty(value);\r\n                return (B) this;\r\n            }\r\n    \r\n            public R build() {\r\n                return mySuper;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nand then a subclass look like this:\r\n\r\n    public class MySub extends MySuper {\r\n        int subProperty;\r\n    \r\n        public MySub() {\r\n        }\r\n    \r\n        public void setSubProperty(int subProperty) {\r\n            this.subProperty = subProperty;\r\n        }\r\n    \r\n        public static SubBuilder&lt;? extends MySub, ? extends SubBuilder&gt; newBuilder() {\r\n            return new SubBuilder(new MySub());\r\n        }\r\n    \r\n        public static class SubBuilder&lt;R extends MySub, B extends SubBuilder&lt;R, B&gt;&gt;\r\n            extends SuperBuilder&lt;R, B&gt; {\r\n    \r\n            private final R mySub;\r\n    \r\n            public SubBuilder(R mySub) {\r\n                super(mySub);\r\n                this.mySub = mySub;\r\n            }\r\n    \r\n            public B withSub(int value) {\r\n                mySub.setSubProperty(value);\r\n                return (B) this;\r\n            }\r\n        }\r\n    }\r\n\r\nand a subsub class\r\n\r\n    public class MySubSub extends MySub {\r\n        private int subSubProperty;\r\n    \r\n        public MySubSub() {\r\n        }\r\n    \r\n        public void setSubSubProperty(int subProperty) {\r\n            this.subSubProperty = subProperty;\r\n        }\r\n    \r\n        public static SubSubBuilder&lt;? extends MySubSub, ? extends SubSubBuilder&gt; newBuilder() {\r\n            return new SubSubBuilder&lt;&gt;(new MySubSub());\r\n        }\r\n    \r\n        public static class SubSubBuilder&lt;R extends MySubSub, B extends SubSubBuilder&lt;R, B&gt;&gt;\r\n            extends SubBuilder&lt;R, B&gt; {\r\n    \r\n            private final R mySubSub;\r\n    \r\n            public SubSubBuilder(R mySub) {\r\n                super(mySub);\r\n                this.mySubSub = mySub;\r\n            }\r\n    \r\n            public B withSubSub(int value) {\r\n                mySubSub.setSubSubProperty(value);\r\n                return (B)this;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nTo verify it fully works I used this test:\r\n\r\n    MySubSub subSub = MySubSub\r\n            .newBuilder()\r\n            .withSuper (1)\r\n            .withSub   (2)\r\n            .withSubSub(3)\r\n            .withSub   (2)\r\n            .withSuper (1)\r\n            .withSubSub(3)\r\n            .withSuper (1)\r\n            .withSub   (2)\r\n            .build();\r\n\r\n","title":"Builder Pattern and Inheritance","body":"<p>I did some experimenting and I found this to work quite nicely for me.\nNote that I prefer to create the actual instance at the start and the call all the setters on that instance. This is just a preference.</p>\n\n<p>The main differences with the accepted answer is that </p>\n\n<ol>\n<li>I pass a parameter that indicated the return type</li>\n<li>There is no need for an Abstract... and a final builder.</li>\n<li>I create a 'newBuilder' convenience method.</li>\n</ol>\n\n<p>The code:</p>\n\n<pre><code>public class MySuper {\n    private int superProperty;\n\n    public MySuper() { }\n\n    public void setSuperProperty(int superProperty) {\n        this.superProperty = superProperty;\n    }\n\n    public static SuperBuilder&lt;? extends MySuper, ? extends SuperBuilder&gt; newBuilder() {\n        return new SuperBuilder&lt;&gt;(new MySuper());\n    }\n\n    public static class SuperBuilder&lt;R extends MySuper, B extends SuperBuilder&lt;R, B&gt;&gt; {\n        private final R mySuper;\n\n        public SuperBuilder(R mySuper) {\n            this.mySuper = mySuper;\n        }\n\n        public B withSuper(int value) {\n            mySuper.setSuperProperty(value);\n            return (B) this;\n        }\n\n        public R build() {\n            return mySuper;\n        }\n    }\n}\n</code></pre>\n\n<p>and then a subclass look like this:</p>\n\n<pre><code>public class MySub extends MySuper {\n    int subProperty;\n\n    public MySub() {\n    }\n\n    public void setSubProperty(int subProperty) {\n        this.subProperty = subProperty;\n    }\n\n    public static SubBuilder&lt;? extends MySub, ? extends SubBuilder&gt; newBuilder() {\n        return new SubBuilder(new MySub());\n    }\n\n    public static class SubBuilder&lt;R extends MySub, B extends SubBuilder&lt;R, B&gt;&gt;\n        extends SuperBuilder&lt;R, B&gt; {\n\n        private final R mySub;\n\n        public SubBuilder(R mySub) {\n            super(mySub);\n            this.mySub = mySub;\n        }\n\n        public B withSub(int value) {\n            mySub.setSubProperty(value);\n            return (B) this;\n        }\n    }\n}\n</code></pre>\n\n<p>and a subsub class</p>\n\n<pre><code>public class MySubSub extends MySub {\n    private int subSubProperty;\n\n    public MySubSub() {\n    }\n\n    public void setSubSubProperty(int subProperty) {\n        this.subSubProperty = subProperty;\n    }\n\n    public static SubSubBuilder&lt;? extends MySubSub, ? extends SubSubBuilder&gt; newBuilder() {\n        return new SubSubBuilder&lt;&gt;(new MySubSub());\n    }\n\n    public static class SubSubBuilder&lt;R extends MySubSub, B extends SubSubBuilder&lt;R, B&gt;&gt;\n        extends SubBuilder&lt;R, B&gt; {\n\n        private final R mySubSub;\n\n        public SubSubBuilder(R mySub) {\n            super(mySub);\n            this.mySubSub = mySub;\n        }\n\n        public B withSubSub(int value) {\n            mySubSub.setSubSubProperty(value);\n            return (B)this;\n        }\n    }\n\n}\n</code></pre>\n\n<p>To verify it fully works I used this test:</p>\n\n<pre><code>MySubSub subSub = MySubSub\n        .newBuilder()\n        .withSuper (1)\n        .withSub   (2)\n        .withSubSub(3)\n        .withSub   (2)\n        .withSuper (1)\n        .withSubSub(3)\n        .withSuper (1)\n        .withSub   (2)\n        .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1616962806,"creation_date":1534254398,"answer_id":51843025,"question_id":21086417,"body_markdown":"I have adopted the following guidelines when creating object hierarchies with builders:\r\n\r\n1. Make the constructor of the class at least *protected* and use it as copy constructor, thus pass it an instance of the class itself.\r\n2. Make the fields non-*final private* and use getters to access them.\r\n3. Add *package private* setters for the builders, which is also nice for object serialization frameworks.\r\n4. Make a generic builder for each class that will have a subclass builder. This builder will already contain the setter methods for the current class, but we create also a second non generic builder for the class that contains the constructor and build method.\r\n5. The builders will not have any fields. Instead the generic builder that is on top of the hierarchy will contain a generic field for the concrete object to be build.\r\n\r\nThe `Rabbit` will look like this:\r\n\r\n    public class Rabbit {\r\n    \r\n        // private non-final fields\r\n        private String sex;\r\n        private String name;\r\n    \r\n        // copy constructor\r\n        Rabbit(Rabbit rabbit) {\r\n            sex = rabbit.sex;\r\n            name = rabbit.name;\r\n        }\r\n    \r\n        // no-arg constructor for serialization and builder\r\n        Rabbit() {}\r\n    \r\n        // getter methods\r\n    \r\n        public final String getSex() {\r\n            return sex;\r\n        }\r\n    \r\n        public final String getName() {\r\n            return name;\r\n        }\r\n    \r\n        // package private setter methods, good for serialization frameworks\r\n    \r\n        final void setSex(String sex) {\r\n            this.sex = sex;\r\n        }\r\n    \r\n        final void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        // create a generic builder for builders that have subclass builders\r\n        abstract static class RBuilder&lt;R extends Rabbit, B extends RBuilder&lt;R, B&gt;&gt; {\r\n    \r\n            // the builder creates the rabbit\r\n            final R rabbit;\r\n    \r\n            // here we pass the concrete subclass that will be constructed\r\n            RBuilder(R rabbit) {\r\n                this.rabbit = rabbit;\r\n            }\r\n    \r\n            public final B sex(String sex) {\r\n                rabbit.setSex(sex);\r\n                return self();\r\n            }\r\n    \r\n            public final B name(String name) {\r\n                rabbit.setName(name);\r\n                return self();\r\n            }\r\n    \r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            final B self() {\r\n                return (B) this;\r\n            }\r\n    \r\n        }\r\n    \r\n        // the builder that creates the rabbits\r\n        public static final class Builder extends RBuilder&lt;Rabbit, Builder&gt; {\r\n    \r\n            // creates a new rabbit builder\r\n            public Builder() {\r\n                super(new Rabbit());\r\n            }\r\n    \r\n            // we could provide a public copy constructor to support modifying rabbits\r\n            public Builder(Rabbit rabbit) {\r\n                super(new Rabbit(rabbit));\r\n            }\r\n    \r\n            // create the final rabbit\r\n            public Rabbit build() {\r\n                // maybe make a validate method call before?\r\n                return new Rabbit(rabbit);\r\n            }\r\n        }\r\n    }\r\n\r\nand our `Lop`:\r\n\r\n    public final class Lop extends Rabbit {\r\n    \r\n        // private non-final fields\r\n        private float earLength;\r\n        private String furColour;\r\n    \r\n        // copy constructor\r\n        private Lop(Lop lop) {\r\n            super(lop);\r\n            this.earLength = lop.earLength;\r\n            this.furColour = lop.furColour;\r\n        }\r\n    \r\n        // no-arg constructor for serialization and builder\r\n        Lop() {}\r\n    \r\n        // getter methods\r\n    \r\n        public final float getEarLength() {\r\n            return earLength;\r\n        }\r\n    \r\n        public final String getFurColour() {\r\n            return furColour;\r\n        }\r\n    \r\n        // package private setter methods, good for serialization frameworks\r\n    \r\n        final void setEarLength(float earLength) {\r\n            this.earLength = earLength;\r\n        }\r\n    \r\n        final void setFurColour(String furColour) {\r\n            this.furColour = furColour;\r\n        }\r\n    \r\n        // the builder that creates lops\r\n        public static final class Builder extends RBuilder&lt;Lop, Builder&gt; {\r\n    \r\n            public Builder() {\r\n                super(new Lop());\r\n            }\r\n    \r\n            // we could provide a public copy constructor to support modifying lops\r\n            public Builder(Lop lop) {\r\n                super(new Lop(lop));\r\n            }\r\n    \r\n            public final Builder earLength(float length) {\r\n                rabbit.setEarLength(length);\r\n                return self(); // this works also here\r\n            }\r\n    \r\n            public final Builder furColour(String colour) {\r\n                rabbit.setFurColour(colour);\r\n                return self();\r\n            }\r\n    \r\n            public Lop build() {\r\n                return new Lop(rabbit);\r\n            }\r\n        }\r\n    }\r\n\r\n*Pros:*\r\n- The builders will exactly mirror the object hierarchy of your classes with a single derivative for each generic builder to build the objects of the current class. No need to create artificial parents.\r\n- The class does not have a dependency to its builder. All it needs is an instance of itself to copy the fields, which might be useful for alternative factories.\r\n- The classes work very well with serialization frameworks like JSON or Hibernate, since they most often need getters and setters to be present. E.g. Jackson works fine with *package private* setters.\r\n- No need to duplicate fields in the builder. The builder contains the object to be constructed.\r\n- No need to override setter methods in the subtype builders since the direct parent class is generic.\r\n- Build-in support for copy constructors to allow creating a modified version of an instance, making the objects &#39;kind of **immutable**&#39;.\r\n\r\n*Cons:*\r\n- Requires at least one additional generic builder.\r\n- Fields are not *final*, thus it&#39;s not safe to make them *public*.\r\n- The class itself needs additional setter methods to be called from the builders.\r\n\r\nLet&#39;s create some rabbits..\r\n\r\n    @Test\r\n    void test() {\r\n        // creating a rabbit\r\n        Rabbit rabbit = new Rabbit.Builder() //\r\n                .sex(&quot;M&quot;)\r\n                .name(&quot;Rogger&quot;)\r\n                .build();\r\n    \r\n        assertEquals(&quot;M&quot;, rabbit.getSex());\r\n    \r\n        // create a lop\r\n        Lop lop = new Lop.Builder() //\r\n                .furColour(&quot;Gray&quot;)\r\n                .name(&quot;Rabbit&quot;)\r\n                .earLength(4.6f)\r\n                .build();\r\n    \r\n        // modify only the name of the lop\r\n        lop = new Lop.Builder(lop) //\r\n                .name(&quot;Lop&quot;)\r\n                .build();\r\n    \r\n        assertEquals(&quot;Gray&quot;, lop.getFurColour());\r\n        assertEquals(&quot;Lop&quot;, lop.getName());\r\n    }","title":"Builder Pattern and Inheritance","body":"<p>I have adopted the following guidelines when creating object hierarchies with builders:</p>\n<ol>\n<li>Make the constructor of the class at least <em>protected</em> and use it as copy constructor, thus pass it an instance of the class itself.</li>\n<li>Make the fields non-<em>final private</em> and use getters to access them.</li>\n<li>Add <em>package private</em> setters for the builders, which is also nice for object serialization frameworks.</li>\n<li>Make a generic builder for each class that will have a subclass builder. This builder will already contain the setter methods for the current class, but we create also a second non generic builder for the class that contains the constructor and build method.</li>\n<li>The builders will not have any fields. Instead the generic builder that is on top of the hierarchy will contain a generic field for the concrete object to be build.</li>\n</ol>\n<p>The <code>Rabbit</code> will look like this:</p>\n<pre><code>public class Rabbit {\n\n    // private non-final fields\n    private String sex;\n    private String name;\n\n    // copy constructor\n    Rabbit(Rabbit rabbit) {\n        sex = rabbit.sex;\n        name = rabbit.name;\n    }\n\n    // no-arg constructor for serialization and builder\n    Rabbit() {}\n\n    // getter methods\n\n    public final String getSex() {\n        return sex;\n    }\n\n    public final String getName() {\n        return name;\n    }\n\n    // package private setter methods, good for serialization frameworks\n\n    final void setSex(String sex) {\n        this.sex = sex;\n    }\n\n    final void setName(String name) {\n        this.name = name;\n    }\n\n    // create a generic builder for builders that have subclass builders\n    abstract static class RBuilder&lt;R extends Rabbit, B extends RBuilder&lt;R, B&gt;&gt; {\n\n        // the builder creates the rabbit\n        final R rabbit;\n\n        // here we pass the concrete subclass that will be constructed\n        RBuilder(R rabbit) {\n            this.rabbit = rabbit;\n        }\n\n        public final B sex(String sex) {\n            rabbit.setSex(sex);\n            return self();\n        }\n\n        public final B name(String name) {\n            rabbit.setName(name);\n            return self();\n        }\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        final B self() {\n            return (B) this;\n        }\n\n    }\n\n    // the builder that creates the rabbits\n    public static final class Builder extends RBuilder&lt;Rabbit, Builder&gt; {\n\n        // creates a new rabbit builder\n        public Builder() {\n            super(new Rabbit());\n        }\n\n        // we could provide a public copy constructor to support modifying rabbits\n        public Builder(Rabbit rabbit) {\n            super(new Rabbit(rabbit));\n        }\n\n        // create the final rabbit\n        public Rabbit build() {\n            // maybe make a validate method call before?\n            return new Rabbit(rabbit);\n        }\n    }\n}\n</code></pre>\n<p>and our <code>Lop</code>:</p>\n<pre><code>public final class Lop extends Rabbit {\n\n    // private non-final fields\n    private float earLength;\n    private String furColour;\n\n    // copy constructor\n    private Lop(Lop lop) {\n        super(lop);\n        this.earLength = lop.earLength;\n        this.furColour = lop.furColour;\n    }\n\n    // no-arg constructor for serialization and builder\n    Lop() {}\n\n    // getter methods\n\n    public final float getEarLength() {\n        return earLength;\n    }\n\n    public final String getFurColour() {\n        return furColour;\n    }\n\n    // package private setter methods, good for serialization frameworks\n\n    final void setEarLength(float earLength) {\n        this.earLength = earLength;\n    }\n\n    final void setFurColour(String furColour) {\n        this.furColour = furColour;\n    }\n\n    // the builder that creates lops\n    public static final class Builder extends RBuilder&lt;Lop, Builder&gt; {\n\n        public Builder() {\n            super(new Lop());\n        }\n\n        // we could provide a public copy constructor to support modifying lops\n        public Builder(Lop lop) {\n            super(new Lop(lop));\n        }\n\n        public final Builder earLength(float length) {\n            rabbit.setEarLength(length);\n            return self(); // this works also here\n        }\n\n        public final Builder furColour(String colour) {\n            rabbit.setFurColour(colour);\n            return self();\n        }\n\n        public Lop build() {\n            return new Lop(rabbit);\n        }\n    }\n}\n</code></pre>\n<p><em>Pros:</em></p>\n<ul>\n<li>The builders will exactly mirror the object hierarchy of your classes with a single derivative for each generic builder to build the objects of the current class. No need to create artificial parents.</li>\n<li>The class does not have a dependency to its builder. All it needs is an instance of itself to copy the fields, which might be useful for alternative factories.</li>\n<li>The classes work very well with serialization frameworks like JSON or Hibernate, since they most often need getters and setters to be present. E.g. Jackson works fine with <em>package private</em> setters.</li>\n<li>No need to duplicate fields in the builder. The builder contains the object to be constructed.</li>\n<li>No need to override setter methods in the subtype builders since the direct parent class is generic.</li>\n<li>Build-in support for copy constructors to allow creating a modified version of an instance, making the objects 'kind of <strong>immutable</strong>'.</li>\n</ul>\n<p><em>Cons:</em></p>\n<ul>\n<li>Requires at least one additional generic builder.</li>\n<li>Fields are not <em>final</em>, thus it's not safe to make them <em>public</em>.</li>\n<li>The class itself needs additional setter methods to be called from the builders.</li>\n</ul>\n<p>Let's create some rabbits..</p>\n<pre><code>@Test\nvoid test() {\n    // creating a rabbit\n    Rabbit rabbit = new Rabbit.Builder() //\n            .sex(&quot;M&quot;)\n            .name(&quot;Rogger&quot;)\n            .build();\n\n    assertEquals(&quot;M&quot;, rabbit.getSex());\n\n    // create a lop\n    Lop lop = new Lop.Builder() //\n            .furColour(&quot;Gray&quot;)\n            .name(&quot;Rabbit&quot;)\n            .earLength(4.6f)\n            .build();\n\n    // modify only the name of the lop\n    lop = new Lop.Builder(lop) //\n            .name(&quot;Lop&quot;)\n            .build();\n\n    assertEquals(&quot;Gray&quot;, lop.getFurColour());\n    assertEquals(&quot;Lop&quot;, lop.getName());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2426974,"reputation":1154,"user_id":2118693,"display_name":"jmgonet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1559963913,"creation_date":1536753704,"answer_id":52294689,"question_id":21086417,"body_markdown":"Confronted with the same issue, I used the solution proposed by emcmanus at: https://community.oracle.com/blogs/emcmanus/2010/10/24/using-builder-pattern-subclasses\r\n\r\nI&#39;m just recopying his/her preferred solution here. Let say we have two classes, ``Shape`` and ``Rectangle``. ``Rectangle`` inherits from ``Shape``.\r\n\r\n```\r\npublic class Shape {\r\n\r\n    private final double opacity;\r\n\r\n    public double getOpacity() {\r\n        return opacity;\r\n    }\r\n\r\n    protected static abstract class Init&lt;T extends Init&lt;T&gt;&gt; {\r\n        private double opacity;\r\n\r\n        protected abstract T self();\r\n\r\n        public T opacity(double opacity) {\r\n            this.opacity = opacity;\r\n            return self();\r\n        }\r\n\r\n        public Shape build() {\r\n            return new Shape(this);\r\n        }\r\n    }\r\n\r\n    public static class Builder extends Init&lt;Builder&gt; {\r\n        @Override\r\n        protected Builder self() {\r\n            return this;\r\n        }\r\n    }\r\n\r\n    protected Shape(Init&lt;?&gt; init) {\r\n        this.opacity = init.opacity;\r\n    }\r\n}\r\n```\r\n\r\nThere is the ``Init`` inner class, which is abstract, and the ``Builder`` inner class, that is an actual implementation. Will be useful when implementing the ``Rectangle``:\r\n\r\n```\r\npublic class Rectangle extends Shape {\r\n    private final double height;\r\n\r\n    public double getHeight() {\r\n        return height;\r\n    }\r\n\r\n    protected static abstract class Init&lt;T extends Init&lt;T&gt;&gt; extends Shape.Init&lt;T&gt; {\r\n        private double height;\r\n\r\n        public T height(double height) {\r\n            this.height = height;\r\n            return self();\r\n        }\r\n\r\n        public Rectangle build() {\r\n            return new Rectangle(this);\r\n        }\r\n    }\r\n\r\n    public static class Builder extends Init&lt;Builder&gt; {\r\n        @Override\r\n        protected Builder self() {\r\n            return this;\r\n        }\r\n    }\r\n\r\n    protected Rectangle(Init&lt;?&gt; init) {\r\n        super(init);\r\n        this.height = init.height;\r\n    }\r\n}\r\n```\r\n\r\nTo instantiate the ``Rectangle``:\r\n\r\n    new Rectangle.Builder().opacity(1.0D).height(1.0D).build();\r\n\r\nAgain, an abstract ``Init`` class, inheriting from ``Shape.Init``, and a ``Build`` that is the actual implementation. Each ``Builder`` class implement the ``self`` method, which is responsible to return a correctly cast version of itself.\r\n\r\n    Shape.Init &lt;-- Shape.Builder\r\n         ^\r\n         |\r\n         |\r\n    Rectangle.Init &lt;-- Rectangle.Builder","title":"Builder Pattern and Inheritance","body":"<p>Confronted with the same issue, I used the solution proposed by emcmanus at: <a href=\"https://community.oracle.com/blogs/emcmanus/2010/10/24/using-builder-pattern-subclasses\" rel=\"noreferrer\">https://community.oracle.com/blogs/emcmanus/2010/10/24/using-builder-pattern-subclasses</a></p>\n\n<p>I'm just recopying his/her preferred solution here. Let say we have two classes, <code>Shape</code> and <code>Rectangle</code>. <code>Rectangle</code> inherits from <code>Shape</code>.</p>\n\n<pre><code>public class Shape {\n\n    private final double opacity;\n\n    public double getOpacity() {\n        return opacity;\n    }\n\n    protected static abstract class Init&lt;T extends Init&lt;T&gt;&gt; {\n        private double opacity;\n\n        protected abstract T self();\n\n        public T opacity(double opacity) {\n            this.opacity = opacity;\n            return self();\n        }\n\n        public Shape build() {\n            return new Shape(this);\n        }\n    }\n\n    public static class Builder extends Init&lt;Builder&gt; {\n        @Override\n        protected Builder self() {\n            return this;\n        }\n    }\n\n    protected Shape(Init&lt;?&gt; init) {\n        this.opacity = init.opacity;\n    }\n}\n</code></pre>\n\n<p>There is the <code>Init</code> inner class, which is abstract, and the <code>Builder</code> inner class, that is an actual implementation. Will be useful when implementing the <code>Rectangle</code>:</p>\n\n<pre><code>public class Rectangle extends Shape {\n    private final double height;\n\n    public double getHeight() {\n        return height;\n    }\n\n    protected static abstract class Init&lt;T extends Init&lt;T&gt;&gt; extends Shape.Init&lt;T&gt; {\n        private double height;\n\n        public T height(double height) {\n            this.height = height;\n            return self();\n        }\n\n        public Rectangle build() {\n            return new Rectangle(this);\n        }\n    }\n\n    public static class Builder extends Init&lt;Builder&gt; {\n        @Override\n        protected Builder self() {\n            return this;\n        }\n    }\n\n    protected Rectangle(Init&lt;?&gt; init) {\n        super(init);\n        this.height = init.height;\n    }\n}\n</code></pre>\n\n<p>To instantiate the <code>Rectangle</code>:</p>\n\n<pre><code>new Rectangle.Builder().opacity(1.0D).height(1.0D).build();\n</code></pre>\n\n<p>Again, an abstract <code>Init</code> class, inheriting from <code>Shape.Init</code>, and a <code>Build</code> that is the actual implementation. Each <code>Builder</code> class implement the <code>self</code> method, which is responsible to return a correctly cast version of itself.</p>\n\n<pre><code>Shape.Init &lt;-- Shape.Builder\n     ^\n     |\n     |\nRectangle.Init &lt;-- Rectangle.Builder\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14452099,"reputation":25,"user_id":10439257,"display_name":"mc00x1"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538406344,"creation_date":1538392853,"answer_id":52589989,"question_id":21086417,"body_markdown":"&lt;body&gt;&lt;p&gt;The following IEEE conference contribution &lt;a href=&quot;https://doi.org/10.1109/ICIS.2018.8466532&quot;&gt;Refined Fluent Builder in Java&lt;/a&gt; gives a comprehensive solution to the problem. \r\n\r\nIt dissects the original question into two sub-problems of &lt;strong&gt;inheritance deficiency&lt;/strong&gt; and &lt;strong&gt;quasi invariance&lt;/strong&gt; and shows how a solution to these two sub-problems opens for inheritance support with code reuse in the classical builder pattern in Java.&lt;/p&gt;&lt;/body&gt;","title":"Builder Pattern and Inheritance","body":"<p><p>The following IEEE conference contribution <a href=\"https://doi.org/10.1109/ICIS.2018.8466532\" rel=\"nofollow noreferrer\">Refined Fluent Builder in Java</a> gives a comprehensive solution to the problem. </p>\n\n<p>It dissects the original question into two sub-problems of <strong>inheritance deficiency</strong> and <strong>quasi invariance</strong> and shows how a solution to these two sub-problems opens for inheritance support with code reuse in the classical builder pattern in Java.</p></p>\n"}],"owner":{"account_id":57008,"reputation":3225,"user_id":170781,"accept_rate":65,"display_name":"Eric Tobias"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60317,"favorite_count":0,"down_vote_count":2,"up_vote_count":87,"accepted_answer_id":21088334,"answer_count":8,"score":85,"last_activity_date":1696010490,"creation_date":1389600210,"question_id":21086417,"body_markdown":"I have an object hierarchy that increases in complexity as the inheritance tree deepens. None of these are abstract, hence, all of their instances serve a, more or less sophisticated, purpose.\r\n\r\nAs the number of parameters is quite high, I would want to use the Builder Pattern to set properties rather than code several constructors. As I need to cater to all permutations, leaf classes in my inheritance tree would have telescoping constructors.\r\n\r\nI have browsed for an answer here when I hit some problems during my design. First of, let me give you a simple, shallow example to illustrate the problem.\r\n\r\n    public class Rabbit\r\n    {\r\n        public String sex;\r\n        public String name;\r\n\r\n        public Rabbit(Builder builder)\r\n        {\r\n            sex = builder.sex;\r\n            name = builder.name;\r\n        }\r\n\r\n        public static class Builder\r\n        {\r\n            protected String sex;\r\n            protected String name;\r\n\r\n            public Builder() { }\r\n\r\n            public Builder sex(String sex)\r\n            {\r\n                this.sex = sex;\r\n                return this;\r\n            }\r\n\r\n            public Builder name(String name)\r\n            {\r\n                this.name = name;\r\n                return this;\r\n            }\r\n\r\n            public Rabbit build()\r\n            {\r\n                return new Rabbit(this);\r\n            }\r\n        }\r\n    }\r\n\r\n    public class Lop extends Rabbit\r\n    {\r\n        public float earLength;\r\n        public String furColour;\r\n        \r\n        public Lop(LopBuilder builder)\r\n        {\r\n            super(builder);\r\n            this.earLength = builder.earLength;\r\n            this.furColour = builder.furColour;\r\n        }\r\n\r\n        public static class LopBuilder extends Rabbit.Builder\r\n        {\r\n            protected float earLength;\r\n            protected String furColour;\r\n\r\n            public LopBuilder() { }\r\n\r\n            public Builder earLength(float length)\r\n            {\r\n                this.earLength = length;\r\n                return this;\r\n            }\r\n\r\n            public Builder furColour(String colour)\r\n            {\r\n                this.furColour = colour;\r\n                return this;\r\n            }\r\n\r\n            public Lop build()\r\n            {\r\n                return new Lop(this);\r\n            }\r\n        }\r\n    }\r\n\r\nNow that we have some code to go on, imagine I want to build a `Lop`:\r\n\r\n    Lop lop = new Lop.LopBuilder().furColour(&quot;Gray&quot;).name(&quot;Rabbit&quot;).earLength(4.6f);\r\nThis call will not compile as the last chained call cannot be resolved, `Builder` not defining the method `earLength`. So this way requires that all calls be chained in a specific order which is very impractical, especially with a deep hierarchy tree.\r\n\r\nNow, during my search for an answer, I came across https://stackoverflow.com/questions/17164375/subclassing-a-java-builder-class which suggests using the [Curiously Recursive Generic Pattern][1]. However, as my hierarchy does not contain an abstract class, this solution will not work for me. But the approach relies on abstraction and polymorphism to function which is why I don&#39;t believe I can adapt it to my needs.\r\n\r\nAn approach I have currently settled with is to override all methods of the superclass `Builder` in the hierarchy and simply do the following:\r\n\r\n    public ConcreteBuilder someOverridenMethod(Object someParameter)\r\n    {\r\n        super(someParameter);\r\n        return this;\r\n    }\r\n\r\nWith this approach I can assure I am being returned an instance I can issue chain calls on. While this is not as worse as the Telescoping Anti-pattern, it is a close second and I consider it a bit &quot;hacky&quot;.\r\n\r\nIs there another solution to my problem that I am not aware of? Preferably a solution consistent with the design pattern. Thank you!\r\n\r\n\r\n  [1]: http://www.artima.com/weblogs/viewpost.jsp?thread=133275","title":"Builder Pattern and Inheritance","body":"<p>I have an object hierarchy that increases in complexity as the inheritance tree deepens. None of these are abstract, hence, all of their instances serve a, more or less sophisticated, purpose.</p>\n<p>As the number of parameters is quite high, I would want to use the Builder Pattern to set properties rather than code several constructors. As I need to cater to all permutations, leaf classes in my inheritance tree would have telescoping constructors.</p>\n<p>I have browsed for an answer here when I hit some problems during my design. First of, let me give you a simple, shallow example to illustrate the problem.</p>\n<pre><code>public class Rabbit\n{\n    public String sex;\n    public String name;\n\n    public Rabbit(Builder builder)\n    {\n        sex = builder.sex;\n        name = builder.name;\n    }\n\n    public static class Builder\n    {\n        protected String sex;\n        protected String name;\n\n        public Builder() { }\n\n        public Builder sex(String sex)\n        {\n            this.sex = sex;\n            return this;\n        }\n\n        public Builder name(String name)\n        {\n            this.name = name;\n            return this;\n        }\n\n        public Rabbit build()\n        {\n            return new Rabbit(this);\n        }\n    }\n}\n\npublic class Lop extends Rabbit\n{\n    public float earLength;\n    public String furColour;\n    \n    public Lop(LopBuilder builder)\n    {\n        super(builder);\n        this.earLength = builder.earLength;\n        this.furColour = builder.furColour;\n    }\n\n    public static class LopBuilder extends Rabbit.Builder\n    {\n        protected float earLength;\n        protected String furColour;\n\n        public LopBuilder() { }\n\n        public Builder earLength(float length)\n        {\n            this.earLength = length;\n            return this;\n        }\n\n        public Builder furColour(String colour)\n        {\n            this.furColour = colour;\n            return this;\n        }\n\n        public Lop build()\n        {\n            return new Lop(this);\n        }\n    }\n}\n</code></pre>\n<p>Now that we have some code to go on, imagine I want to build a <code>Lop</code>:</p>\n<pre><code>Lop lop = new Lop.LopBuilder().furColour(&quot;Gray&quot;).name(&quot;Rabbit&quot;).earLength(4.6f);\n</code></pre>\n<p>This call will not compile as the last chained call cannot be resolved, <code>Builder</code> not defining the method <code>earLength</code>. So this way requires that all calls be chained in a specific order which is very impractical, especially with a deep hierarchy tree.</p>\n<p>Now, during my search for an answer, I came across <a href=\"https://stackoverflow.com/questions/17164375/subclassing-a-java-builder-class\">Subclassing a Java Builder class</a> which suggests using the <a href=\"http://www.artima.com/weblogs/viewpost.jsp?thread=133275\" rel=\"nofollow noreferrer\">Curiously Recursive Generic Pattern</a>. However, as my hierarchy does not contain an abstract class, this solution will not work for me. But the approach relies on abstraction and polymorphism to function which is why I don't believe I can adapt it to my needs.</p>\n<p>An approach I have currently settled with is to override all methods of the superclass <code>Builder</code> in the hierarchy and simply do the following:</p>\n<pre><code>public ConcreteBuilder someOverridenMethod(Object someParameter)\n{\n    super(someParameter);\n    return this;\n}\n</code></pre>\n<p>With this approach I can assure I am being returned an instance I can issue chain calls on. While this is not as worse as the Telescoping Anti-pattern, it is a close second and I consider it a bit &quot;hacky&quot;.</p>\n<p>Is there another solution to my problem that I am not aware of? Preferably a solution consistent with the design pattern. Thank you!</p>\n"},{"tags":["java","android","builder","builder-pattern"],"comments":[{"owner":{"account_id":12721843,"reputation":16003,"user_id":9241978,"display_name":"Pawel"},"score":1,"creation_date":1560380169,"post_id":56571203,"comment_id":99721458,"body_markdown":"this might be what you&#39;re looking for https://stackoverflow.com/questions/17164375/subclassing-a-java-builder-class","body":"this might be what you&#39;re looking for <a href=\"https://stackoverflow.com/questions/17164375/subclassing-a-java-builder-class\" title=\"subclassing a java builder class\">stackoverflow.com/questions/17164375/&hellip;</a>"},{"owner":{"account_id":373519,"reputation":7626,"user_id":2127950,"accept_rate":84,"display_name":"portfoliobuilder"},"score":0,"creation_date":1560380503,"post_id":56571203,"comment_id":99721527,"body_markdown":"That is the same issue that I have. The solution is exactly my setup. It does not address my above concerns. Any specific code examples you can demonstrate that will address my concerns?","body":"That is the same issue that I have. The solution is exactly my setup. It does not address my above concerns. Any specific code examples you can demonstrate that will address my concerns?"},{"owner":{"account_id":373519,"reputation":7626,"user_id":2127950,"accept_rate":84,"display_name":"portfoliobuilder"},"score":0,"creation_date":1560384039,"post_id":56571203,"comment_id":99722163,"body_markdown":"@Pawel That post you linked did help. I was able to resolve my issue. The answer wasn&#39;t the accepted answer, it was the one posted by Q23. He based his response on the following post which worked like a charm! http://egalluzzo.blogspot.com/2010/06/using-inheritance-with-fluent.html","body":"@Pawel That post you linked did help. I was able to resolve my issue. The answer wasn&#39;t the accepted answer, it was the one posted by Q23. He based his response on the following post which worked like a charm! <a href=\"http://egalluzzo.blogspot.com/2010/06/using-inheritance-with-fluent.html\" rel=\"nofollow noreferrer\">egalluzzo.blogspot.com/2010/06/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":114866,"reputation":6707,"user_id":301877,"accept_rate":67,"display_name":"Dan Menes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696010360,"creation_date":1696010360,"answer_id":77203962,"question_id":56571203,"body_markdown":"I have found that the cleanest way to do what you want is to parameterize both the target type and the builder type. Then I create three builder types for each level of my type hierarchy: an interface, an abstract class, and a final class. Sounds like a lot of work? Welcome to Java generics.\r\n\r\nI&#39;ve used Lombok annotations to reduce the amount of extra typing. Here&#39;s your base class, and its builders:\r\n\r\n    @Getter\r\n    public class Rabbit {\r\n\r\n        private final String sex;\r\n        private final String name;\r\n\r\n        public static Builder&lt;?,?&gt; builder() {\r\n            return new BuilderImpl();\r\n        }\r\n\r\n        protected Rabbit(String sex, String name) {\r\n            this.sex = sex;\r\n            this.name = name;\r\n        }\r\n\r\n\r\n        public interface Builder&lt;T extends Rabbit, B extends Builder&lt;T,B&gt;&gt; {\r\n            B sex(String value);\r\n            B name(String value);\r\n            T build();\r\n        }\r\n\r\n        @Getter(AccessLevel.PROTECTED)\r\n        protected static abstract class BaseBuilder&lt;T extends Rabbit, B extends BaseBuilder&lt;T,B&gt;&gt;\r\n                implements Builder&lt;T,B&gt; {\r\n\r\n            protected String sex;\r\n            protected String name;\r\n\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            public B sex(String sex)\r\n            {\r\n                this.sex = sex;\r\n                return (B) this;\r\n            }\r\n\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            public B name(String name)\r\n            {\r\n                this.name = name;\r\n                return (B) this;\r\n            }\r\n        }\r\n\r\n        private static final class BuilderImpl\r\n                extends BaseBuilder&lt;Rabbit,BuilderImpl&gt; {\r\n\r\n            public Rabbit build()\r\n            {\r\n                return new Rabbit(getSex(), getName());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAnd here&#39;s your extended class, and its builders:\r\n\r\n    @Getter\r\n    public class Lop extends Rabbit {\r\n\r\n        private final float earLength;\r\n        private final String furColor;\r\n\r\n        public static Builder&lt;?,?&gt; builder() {\r\n            return new BuilderImpl();\r\n        }\r\n\r\n        protected Lop(String sex, String name, float earLength, String furColor) {\r\n            super(sex, name);\r\n            this.earLength = earLength;\r\n            this.furColor = furColor;\r\n        }\r\n\r\n        public interface Builder&lt;T extends Lop, B extends Builder&lt;T,B&gt;&gt;\r\n                extends Rabbit.Builder&lt;T,B&gt; {\r\n            public B earLength(float value);\r\n            public B furColor(String value);\r\n        }\r\n\r\n        @Getter(AccessLevel.PROTECTED)\r\n        protected static abstract class BaseBuilder&lt;T extends Lop, B extends BaseBuilder&lt;T,B&gt;&gt;\r\n                extends Rabbit.BaseBuilder&lt;T,B&gt;\r\n                implements Builder&lt;T,B&gt; {\r\n\r\n            private float earLength;\r\n            private String furColor;\r\n\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            public B earLength(float value) {\r\n                this.earLength = value;\r\n                return (B) this;\r\n            }\r\n\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            public B furColor(String value) {\r\n                this.furColor = value;\r\n                return (B) this;\r\n            }\r\n        }\r\n\r\n        private static final class BuilderImpl\r\n                extends BaseBuilder&lt;Lop,BuilderImpl&gt; {\r\n\r\n            public Lop build()\r\n            {\r\n                return new Lop(getSex(), getName(), getEarLength(), getFurColor());\r\n            }\r\n        }\r\n    }\r\n\r\nAnd a test confirms that it all works:\r\n\r\n    public class RabbitTest {\r\n\r\n        @Test\r\n        public void rabbitTest() {\r\n            Lop herman = Lop.builder().furColor(&quot;Gray&quot;).name(&quot;Herman&quot;).sex(&quot;male&quot;).earLength(4.6f).build();\r\n            Assert.assertEquals(&quot;Herman&quot;, herman.getName());\r\n        }\r\n    }\r\n","title":"Extending Builder Class","body":"<p>I have found that the cleanest way to do what you want is to parameterize both the target type and the builder type. Then I create three builder types for each level of my type hierarchy: an interface, an abstract class, and a final class. Sounds like a lot of work? Welcome to Java generics.</p>\n<p>I've used Lombok annotations to reduce the amount of extra typing. Here's your base class, and its builders:</p>\n<pre><code>@Getter\npublic class Rabbit {\n\n    private final String sex;\n    private final String name;\n\n    public static Builder&lt;?,?&gt; builder() {\n        return new BuilderImpl();\n    }\n\n    protected Rabbit(String sex, String name) {\n        this.sex = sex;\n        this.name = name;\n    }\n\n\n    public interface Builder&lt;T extends Rabbit, B extends Builder&lt;T,B&gt;&gt; {\n        B sex(String value);\n        B name(String value);\n        T build();\n    }\n\n    @Getter(AccessLevel.PROTECTED)\n    protected static abstract class BaseBuilder&lt;T extends Rabbit, B extends BaseBuilder&lt;T,B&gt;&gt;\n            implements Builder&lt;T,B&gt; {\n\n        protected String sex;\n        protected String name;\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        public B sex(String sex)\n        {\n            this.sex = sex;\n            return (B) this;\n        }\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        public B name(String name)\n        {\n            this.name = name;\n            return (B) this;\n        }\n    }\n\n    private static final class BuilderImpl\n            extends BaseBuilder&lt;Rabbit,BuilderImpl&gt; {\n\n        public Rabbit build()\n        {\n            return new Rabbit(getSex(), getName());\n        }\n    }\n}\n</code></pre>\n<p>And here's your extended class, and its builders:</p>\n<pre><code>@Getter\npublic class Lop extends Rabbit {\n\n    private final float earLength;\n    private final String furColor;\n\n    public static Builder&lt;?,?&gt; builder() {\n        return new BuilderImpl();\n    }\n\n    protected Lop(String sex, String name, float earLength, String furColor) {\n        super(sex, name);\n        this.earLength = earLength;\n        this.furColor = furColor;\n    }\n\n    public interface Builder&lt;T extends Lop, B extends Builder&lt;T,B&gt;&gt;\n            extends Rabbit.Builder&lt;T,B&gt; {\n        public B earLength(float value);\n        public B furColor(String value);\n    }\n\n    @Getter(AccessLevel.PROTECTED)\n    protected static abstract class BaseBuilder&lt;T extends Lop, B extends BaseBuilder&lt;T,B&gt;&gt;\n            extends Rabbit.BaseBuilder&lt;T,B&gt;\n            implements Builder&lt;T,B&gt; {\n\n        private float earLength;\n        private String furColor;\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        public B earLength(float value) {\n            this.earLength = value;\n            return (B) this;\n        }\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        public B furColor(String value) {\n            this.furColor = value;\n            return (B) this;\n        }\n    }\n\n    private static final class BuilderImpl\n            extends BaseBuilder&lt;Lop,BuilderImpl&gt; {\n\n        public Lop build()\n        {\n            return new Lop(getSex(), getName(), getEarLength(), getFurColor());\n        }\n    }\n}\n</code></pre>\n<p>And a test confirms that it all works:</p>\n<pre><code>public class RabbitTest {\n\n    @Test\n    public void rabbitTest() {\n        Lop herman = Lop.builder().furColor(&quot;Gray&quot;).name(&quot;Herman&quot;).sex(&quot;male&quot;).earLength(4.6f).build();\n        Assert.assertEquals(&quot;Herman&quot;, herman.getName());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":373519,"reputation":7626,"user_id":2127950,"accept_rate":84,"display_name":"portfoliobuilder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696010360,"creation_date":1560379021,"question_id":56571203,"body_markdown":"I want to implement a design pattern where I setup a base builder class (BaseBuilder.java) that several other builder classes extend.\r\n\r\nThe base builder class is abstract, and it contains values that are common to the other builders. Each builder shares some common elements and also has unique elements.\r\n\r\nBaseBuilder Class Example-\r\n\r\n    public class BaseBuilder {\r\n    \r\n        private final String key;\r\n        private final String token;\r\n    \r\n        public BaseBuilder(Builder&lt;?&gt; builder) {\r\n            this.key = builder.key;\r\n            this.token = builder.token;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Builder {&quot; +\r\n                &quot;, key=&#39;&quot; + key + &#39;\\&#39;&#39; +\r\n                &quot;, token=&#39;&quot; + token + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n        }\r\n    \r\n        public abstract static class Builder&lt;T extends Builder &lt;T&gt;&gt; {\r\n    \r\n            private String key;\r\n            private String token;\r\n    \r\n            public Builder setKey(String key) {\r\n                this.key = key;\r\n                return this;\r\n            }\r\n    \r\n            public Builder setToken(String token) {\r\n                this.token = token;\r\n                return this;\r\n            }\r\n    \r\n            public BaseBuilder build() {\r\n                return new BaseBuilder(this);\r\n            }\r\n        }\r\n    }\r\n\r\nNow, I would like to extend this BaseBuilder for other builders e.g. RedCar.\r\n\r\n    public class RedCar extends BaseBuilder {\r\n    \r\n        private final String redWheelCaps;\r\n    \r\n        public RedCar(RedCardBuilder builder) {\r\n            super(builder);\r\n            this.redWheelCaps = builder.redWheelCaps;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Red Car Builder {&quot; +\r\n                &quot;, redWheelCaps=&#39;&quot; + redWheelCaps + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n        }\r\n    \r\n        public static class RedCardBuilder extends BaseBuilder&lt;RedCardBuilder&gt; {\r\n    \r\n            private String redWheelCaps;\r\n    \r\n            public RedCardBuilder setRedWheelCaps(String redWheelCaps) {\r\n                this.redWheelCaps = redWheelCaps;\r\n                return this;\r\n            }\r\n    \r\n    \r\n            public RedCar build() {\r\n                return new RedCar(this);\r\n            }\r\n        }\r\n    }\r\n\r\nWhen attempting to use this builder, I am having issues trying to achieve the following results.\r\n\r\n    // this is ideally what I want to achieve\r\n    // there is an error because I am not creating a BaseBuilder object\r\n    RedCar redCar = new RedCar.RedCarBuilder()\r\n        .setKey(&quot;key&quot;)\r\n        .setToken(&quot;token&quot;)\r\n        .setRedWheelCaps(&quot;redCaps&quot;)\r\n        .build();\r\n\r\nThe above does not work. I am being prompted that I have to use the BaseBuilder. So I updated my code to the following:\r\n\r\n    // this works good, but the order of my set values causes an error\r\n    BaseBuilder redCar = new RedCar.RedCarBuilder()\r\n        .setKey(&quot;key&quot;)\r\n        .setToken(&quot;token&quot;)\r\n        .setRedWheelCaps(&quot;redCaps&quot;)\r\n        .build();\r\n\r\nI was forced to use Polymorphism. Which is fine, however, I still had an error until I rearranged how I set the values. For some reason, I have to set the values of RedCar first, before I can set the values of BaseBuilder. Otherwise I receive the error, &quot;cannot resolve method&quot;. So I rearranged my set values to remove all errors.\r\n\r\n    // no errors at all. This works fine but is not what I was expecting\r\n    BaseBuilder redCar = new RedCar.RedCarBuilder()\r\n        .setRedWheelCaps(&quot;redCaps&quot;)\r\n        .setKey(&quot;key&quot;)\r\n        .setToken(&quot;token&quot;)\r\n        .build();\r\n\r\nHow can I fix my setup so that I can inherit and set values without having to conform to a specific order? And is there anyway of accomplishing what I am trying to do without having to use Polymorphism? Do I have the correct pattern idea? Thanks!\r\n\r\nEDIT:\r\nMore information is that I can achieve what I am seeking so long that I omit the setters from BaseBuilder. So, the following is OK.\r\n\r\n    RedCar redCar = new RedCar.RedCarBuilder()\r\n        .setRedWheelCaps(&quot;redCaps&quot;)\r\n        .build();\r\n\r\nHow come it seems like I am unable to inherit the setters from my BaseBuilder?\r\n","title":"Extending Builder Class","body":"<p>I want to implement a design pattern where I setup a base builder class (BaseBuilder.java) that several other builder classes extend.</p>\n\n<p>The base builder class is abstract, and it contains values that are common to the other builders. Each builder shares some common elements and also has unique elements.</p>\n\n<p>BaseBuilder Class Example-</p>\n\n<pre><code>public class BaseBuilder {\n\n    private final String key;\n    private final String token;\n\n    public BaseBuilder(Builder&lt;?&gt; builder) {\n        this.key = builder.key;\n        this.token = builder.token;\n    }\n\n    @Override\n    public String toString() {\n        return \"Builder {\" +\n            \", key='\" + key + '\\'' +\n            \", token='\" + token + '\\'' +\n            '}';\n    }\n\n    public abstract static class Builder&lt;T extends Builder &lt;T&gt;&gt; {\n\n        private String key;\n        private String token;\n\n        public Builder setKey(String key) {\n            this.key = key;\n            return this;\n        }\n\n        public Builder setToken(String token) {\n            this.token = token;\n            return this;\n        }\n\n        public BaseBuilder build() {\n            return new BaseBuilder(this);\n        }\n    }\n}\n</code></pre>\n\n<p>Now, I would like to extend this BaseBuilder for other builders e.g. RedCar.</p>\n\n<pre><code>public class RedCar extends BaseBuilder {\n\n    private final String redWheelCaps;\n\n    public RedCar(RedCardBuilder builder) {\n        super(builder);\n        this.redWheelCaps = builder.redWheelCaps;\n    }\n\n    @Override\n    public String toString() {\n        return \"Red Car Builder {\" +\n            \", redWheelCaps='\" + redWheelCaps + '\\'' +\n            '}';\n    }\n\n    public static class RedCardBuilder extends BaseBuilder&lt;RedCardBuilder&gt; {\n\n        private String redWheelCaps;\n\n        public RedCardBuilder setRedWheelCaps(String redWheelCaps) {\n            this.redWheelCaps = redWheelCaps;\n            return this;\n        }\n\n\n        public RedCar build() {\n            return new RedCar(this);\n        }\n    }\n}\n</code></pre>\n\n<p>When attempting to use this builder, I am having issues trying to achieve the following results.</p>\n\n<pre><code>// this is ideally what I want to achieve\n// there is an error because I am not creating a BaseBuilder object\nRedCar redCar = new RedCar.RedCarBuilder()\n    .setKey(\"key\")\n    .setToken(\"token\")\n    .setRedWheelCaps(\"redCaps\")\n    .build();\n</code></pre>\n\n<p>The above does not work. I am being prompted that I have to use the BaseBuilder. So I updated my code to the following:</p>\n\n<pre><code>// this works good, but the order of my set values causes an error\nBaseBuilder redCar = new RedCar.RedCarBuilder()\n    .setKey(\"key\")\n    .setToken(\"token\")\n    .setRedWheelCaps(\"redCaps\")\n    .build();\n</code></pre>\n\n<p>I was forced to use Polymorphism. Which is fine, however, I still had an error until I rearranged how I set the values. For some reason, I have to set the values of RedCar first, before I can set the values of BaseBuilder. Otherwise I receive the error, \"cannot resolve method\". So I rearranged my set values to remove all errors.</p>\n\n<pre><code>// no errors at all. This works fine but is not what I was expecting\nBaseBuilder redCar = new RedCar.RedCarBuilder()\n    .setRedWheelCaps(\"redCaps\")\n    .setKey(\"key\")\n    .setToken(\"token\")\n    .build();\n</code></pre>\n\n<p>How can I fix my setup so that I can inherit and set values without having to conform to a specific order? And is there anyway of accomplishing what I am trying to do without having to use Polymorphism? Do I have the correct pattern idea? Thanks!</p>\n\n<p>EDIT:\nMore information is that I can achieve what I am seeking so long that I omit the setters from BaseBuilder. So, the following is OK.</p>\n\n<pre><code>RedCar redCar = new RedCar.RedCarBuilder()\n    .setRedWheelCaps(\"redCaps\")\n    .build();\n</code></pre>\n\n<p>How come it seems like I am unable to inherit the setters from my BaseBuilder?</p>\n"},{"tags":["java","docker","gitlab","continuous-integration","db2"],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696010148,"creation_date":1696010148,"question_id":77203942,"body_markdown":"I am having the next .gitlab-ci.yml file in which I am trying to create a CI/CD pipeline by using DB2 and Redis images as a service, create the appropriate containers from them and then execute the tests of my Java application.\r\n\r\n\r\n**.gitlab-ci.yml**\r\n```\r\nstages:\r\n  - test\r\n\r\nvariables:\r\n  UCD_WEB_URL: &quot;https://my.url.gr:8443&quot;\r\n  UCD_COMPONENT_NAME: &quot;my-project-name&quot;\r\n  JSON_IMPORT_CONTENT: &#39;{&quot;component&quot;: &quot;$UCD_COMPONENT_NAME&quot;, &quot;properties&quot;: {&quot;version&quot;: &quot;$APP_VERSION&quot;}}&#39;\r\n\r\nbefore_script:\r\n  - export GRADLE_USER_HOME=`pwd`/.gradle\r\n  - export APP_VERSION=&quot;$(grep &#39;^version&#39; ./gradle.properties | cut -d= -f2)-$CI_PIPELINE_IID&quot;\r\n  - export GRADLE_PARAMETERS=&quot;various parameters&quot;\r\n\r\ncache:\r\n  paths:\r\n    - .gradle/caches\r\n\r\nbuild-job:\r\n  stage: test\r\n  script:\r\n    - echo &quot;Building....&quot;\r\n    - gradle build -x test --info $GRADLE_PARAMETERS\r\n    - echo &quot;END of Build....&quot;\r\n  artifacts:\r\n    paths:\r\n      - build/libs/*\r\n    expire_in: 1 day\r\n\r\nintegration-tests-job:\r\n  stage: test\r\n  services:\r\n    - name: ibmcom/db2:11.5.5.0\r\n      alias: db2\r\n      variables:\r\n        DBURL: &quot;jdbc:db2://localhost:50000/CDH&quot;\r\n        DBDRIVER: &quot;com.ibm.db2.jcc.DB2Driver&quot;\r\n        DBNAME: &quot;MYDB&quot;\r\n        LICENSE: &quot;accept&quot;\r\n    - name: redis:7.2.1\r\n      alias: redis\r\n      entrypoint: [ &quot;redis-server&quot; ]\r\n      command: [ &quot;--requirepass&quot;, &quot;password&quot; ]\r\n      variables:\r\n        REDIS_PASSWORD: &quot;password&quot;\r\n        REDIS_PORT: 6379\r\n        REDIS_HOST: redis\r\n        REDIS_URL: redis://redis:6379/0\r\n  script:\r\n    - sleep 180\r\n    - echo &quot;Starting execution of integration tests....&quot;\r\n    - gradle libertyStart --info $GRADLE_PARAMETERS\r\n    - sleep 30\r\n    - gradle test --info ${GRADLE_PARAMETERS//-Pprofile=uat/-Pprofile=dev}\r\n    - echo &quot;Execution of integration tests finished....&quot;\r\n```\r\n\r\nHowever, after pushing in my Gitlab repository, I am receiving the following error:\r\n&gt;com.ibm.db2.jcc.am.DisconnectNonTransientConnectionException: [jcc][t4][2043][11550][4.25.13] Exception java.net.ConnectException: Error opening socket to server localhost/127.0.0.1 on port 50,000 with message: Connection refused. ERRORCODE=-4499, SQLSTATE=08001\r\n\r\n\r\n**STEPS DONE SO FAR**\r\n1. Registered images ibmcom/db2:11.5.5.0 and redis:7.2.1 into GitLab runner.\r\n\r\n2. Used `FF_NETWORK_PER_BUILD` feature flag to run services with Podman as an executor.\r\n\r\n3. The application is running on host machine. For this reason I tried both `localhost` and the `127.0.0.1` IP address.\r\n\r\n4. Usernames and passwords are defined in the `before_script` section under `GRADLE_PARAMETERS`. These parameters are registered as variables in CI/CD settings of Gitlab.\r\n\r\n5. At the above file I use `sleep` to give some time for DB2 to be up and running. I also tried to write the below script for fetching the logs of DB2 container.\r\n```\r\n- |\r\n      DB2_CONTAINER_ID=$(docker ps | grep &quot;ibmcom/db2:11.5.5.0&quot; | awk &#39;{print $1}&#39;)\r\n      echo &quot;Fetching DB2 logs for debugging:&quot;\r\n      docker logs $DB2_CONTAINER_ID\r\n```\r\nHowever, I received the next error:\r\n\r\n&gt;/bin/sh: eval: line 143: docker: not found\r\n\r\nwhich indicates that the Docker command-line interface (CLI) is not available in the environment where the GitLab runner is executing the job. Unfortunately I don&#39;t have access to the config.toml file of my GitLab runner, as of now.\r\n\r\n6. After further research, I found out that the DB2 needed extra privileges. So I reached the team that manages the runner and they added `privileged = true` into `config.toml`. After this approach the following errors appeared:\r\n\r\n&gt;SQL1032N No start database manager command was issued\r\n\r\n&gt;SQL1042C An unexpected system error occurred\r\n\r\n&gt;SQL1031N The database directory cannot be found on the indicated file system\r\n\r\nCurrently, I am in confusion about what I am doing wrong. Any help and suggestions are much appreciated.\r\n\r\nI am having the next .gitlab-ci.yml file in which I am trying to create a CI/CD pipeline by using DB2 and Redis images as a service, create the appropriate containers from them and then execute the tests of my Java application.\r\n\r\n\r\n**.gitlab-ci.yml**\r\n```\r\nstages:\r\n  - test\r\n\r\nvariables:\r\n  UCD_WEB_URL: &quot;https://my.url.gr:8443&quot;\r\n  UCD_COMPONENT_NAME: &quot;my-project-name&quot;\r\n  JSON_IMPORT_CONTENT: &#39;{&quot;component&quot;: &quot;$UCD_COMPONENT_NAME&quot;, &quot;properties&quot;: {&quot;version&quot;: &quot;$APP_VERSION&quot;}}&#39;\r\n\r\nbefore_script:\r\n  - export GRADLE_USER_HOME=`pwd`/.gradle\r\n  - export APP_VERSION=&quot;$(grep &#39;^version&#39; ./gradle.properties | cut -d= -f2)-$CI_PIPELINE_IID&quot;\r\n  - export GRADLE_PARAMETERS=&quot;various parameters&quot;\r\n\r\ncache:\r\n  paths:\r\n    - .gradle/caches\r\n\r\nbuild-job:\r\n  stage: test\r\n  script:\r\n    - echo &quot;Building....&quot;\r\n    - gradle build -x test --info $GRADLE_PARAMETERS\r\n    - echo &quot;END of Build....&quot;\r\n  artifacts:\r\n    paths:\r\n      - build/libs/*\r\n    expire_in: 1 day\r\n\r\nintegration-tests-job:\r\n  stage: test\r\n  services:\r\n    - name: ibmcom/db2:11.5.5.0\r\n      alias: db2\r\n      variables:\r\n        DBURL: &quot;jdbc:db2://localhost:50000/CDH&quot;\r\n        DBDRIVER: &quot;com.ibm.db2.jcc.DB2Driver&quot;\r\n        DBNAME: &quot;MYDB&quot;\r\n        LICENSE: &quot;accept&quot;\r\n    - name: redis:7.2.1\r\n      alias: redis\r\n      entrypoint: [ &quot;redis-server&quot; ]\r\n      command: [ &quot;--requirepass&quot;, &quot;password&quot; ]\r\n      variables:\r\n        REDIS_PASSWORD: &quot;password&quot;\r\n        REDIS_PORT: 6379\r\n        REDIS_HOST: redis\r\n        REDIS_URL: redis://redis:6379/0\r\n  script:\r\n    - sleep 180\r\n    - echo &quot;Starting execution of integration tests....&quot;\r\n    - gradle libertyStart --info $GRADLE_PARAMETERS\r\n    - sleep 30\r\n    - gradle test --info ${GRADLE_PARAMETERS//-Pprofile=uat/-Pprofile=dev}\r\n    - echo &quot;Execution of integration tests finished....&quot;\r\n```\r\n\r\nHowever, after pushing in my Gitlab repository, I am receiving the following error:\r\n&gt;com.ibm.db2.jcc.am.DisconnectNonTransientConnectionException: [jcc][t4][2043][11550][4.25.13] Exception java.net.ConnectException: Error opening socket to server localhost/127.0.0.1 on port 50,000 with message: Connection refused. ERRORCODE=-4499, SQLSTATE=08001\r\n\r\n\r\n**STEPS DONE SO FAR**\r\n1. Registered images ibmcom/db2:11.5.5.0 and redis:7.2.1 into GitLab runner.\r\n\r\n2. Used `FF_NETWORK_PER_BUILD` feature flag to run services with Podman as an executor.\r\n\r\n3. The application is running on host machine. For this reason I tried both `localhost` and the `127.0.0.1` IP address.\r\n\r\n4. Usernames and passwords are defined in the `before_script` section under `GRADLE_PARAMETERS`. These parameters are registered as variables in CI/CD settings of Gitlab.\r\n\r\n5. At the above file I use `sleep` to give some time for DB2 to be up and running. I also tried to write the below script for fetching the logs of DB2 container.\r\n```\r\n- |\r\n      DB2_CONTAINER_ID=$(docker ps | grep &quot;ibmcom/db2:11.5.5.0&quot; | awk &#39;{print $1}&#39;)\r\n      echo &quot;Fetching DB2 logs for debugging:&quot;\r\n      docker logs $DB2_CONTAINER_ID\r\n```\r\nHowever, I received the next error:\r\n\r\n&gt;/bin/sh: eval: line 143: docker: not found\r\n\r\nwhich indicates that the Docker command-line interface (CLI) is not available in the environment where the GitLab runner is executing the job. Unfortunately I don&#39;t have access to the config.toml file of my GitLab runner, as of now.\r\n\r\n6. After further research, I found out that the DB2 needed extra privileges. So I reached the team that manages the runner and they added `privileged = true` into `config.toml`. After this approach the following errors appeared:\r\n\r\n&gt;SQL1032N No start database manager command was issued\r\n\r\n&gt;SQL1042C An unexpected system error occurred\r\n\r\n&gt;SQL1031N The database directory cannot be found on the indicated file system\r\n\r\nCurrently, I am in confusion about what I am doing wrong. Any help and suggestions are much appreciated.","title":"Connection Errors in Using DB2 and Redis Images as a Service into CI/CD Gitlab Pipeline","body":"<p>I am having the next .gitlab-ci.yml file in which I am trying to create a CI/CD pipeline by using DB2 and Redis images as a service, create the appropriate containers from them and then execute the tests of my Java application.</p>\n<p><strong>.gitlab-ci.yml</strong></p>\n<pre><code>stages:\n  - test\n\nvariables:\n  UCD_WEB_URL: &quot;https://my.url.gr:8443&quot;\n  UCD_COMPONENT_NAME: &quot;my-project-name&quot;\n  JSON_IMPORT_CONTENT: '{&quot;component&quot;: &quot;$UCD_COMPONENT_NAME&quot;, &quot;properties&quot;: {&quot;version&quot;: &quot;$APP_VERSION&quot;}}'\n\nbefore_script:\n  - export GRADLE_USER_HOME=`pwd`/.gradle\n  - export APP_VERSION=&quot;$(grep '^version' ./gradle.properties | cut -d= -f2)-$CI_PIPELINE_IID&quot;\n  - export GRADLE_PARAMETERS=&quot;various parameters&quot;\n\ncache:\n  paths:\n    - .gradle/caches\n\nbuild-job:\n  stage: test\n  script:\n    - echo &quot;Building....&quot;\n    - gradle build -x test --info $GRADLE_PARAMETERS\n    - echo &quot;END of Build....&quot;\n  artifacts:\n    paths:\n      - build/libs/*\n    expire_in: 1 day\n\nintegration-tests-job:\n  stage: test\n  services:\n    - name: ibmcom/db2:11.5.5.0\n      alias: db2\n      variables:\n        DBURL: &quot;jdbc:db2://localhost:50000/CDH&quot;\n        DBDRIVER: &quot;com.ibm.db2.jcc.DB2Driver&quot;\n        DBNAME: &quot;MYDB&quot;\n        LICENSE: &quot;accept&quot;\n    - name: redis:7.2.1\n      alias: redis\n      entrypoint: [ &quot;redis-server&quot; ]\n      command: [ &quot;--requirepass&quot;, &quot;password&quot; ]\n      variables:\n        REDIS_PASSWORD: &quot;password&quot;\n        REDIS_PORT: 6379\n        REDIS_HOST: redis\n        REDIS_URL: redis://redis:6379/0\n  script:\n    - sleep 180\n    - echo &quot;Starting execution of integration tests....&quot;\n    - gradle libertyStart --info $GRADLE_PARAMETERS\n    - sleep 30\n    - gradle test --info ${GRADLE_PARAMETERS//-Pprofile=uat/-Pprofile=dev}\n    - echo &quot;Execution of integration tests finished....&quot;\n</code></pre>\n<p>However, after pushing in my Gitlab repository, I am receiving the following error:</p>\n<blockquote>\n<p>com.ibm.db2.jcc.am.DisconnectNonTransientConnectionException: [jcc][t4][2043][11550][4.25.13] Exception java.net.ConnectException: Error opening socket to server localhost/127.0.0.1 on port 50,000 with message: Connection refused. ERRORCODE=-4499, SQLSTATE=08001</p>\n</blockquote>\n<p><strong>STEPS DONE SO FAR</strong></p>\n<ol>\n<li><p>Registered images ibmcom/db2:11.5.5.0 and redis:7.2.1 into GitLab runner.</p>\n</li>\n<li><p>Used <code>FF_NETWORK_PER_BUILD</code> feature flag to run services with Podman as an executor.</p>\n</li>\n<li><p>The application is running on host machine. For this reason I tried both <code>localhost</code> and the <code>127.0.0.1</code> IP address.</p>\n</li>\n<li><p>Usernames and passwords are defined in the <code>before_script</code> section under <code>GRADLE_PARAMETERS</code>. These parameters are registered as variables in CI/CD settings of Gitlab.</p>\n</li>\n<li><p>At the above file I use <code>sleep</code> to give some time for DB2 to be up and running. I also tried to write the below script for fetching the logs of DB2 container.</p>\n</li>\n</ol>\n<pre><code>- |\n      DB2_CONTAINER_ID=$(docker ps | grep &quot;ibmcom/db2:11.5.5.0&quot; | awk '{print $1}')\n      echo &quot;Fetching DB2 logs for debugging:&quot;\n      docker logs $DB2_CONTAINER_ID\n</code></pre>\n<p>However, I received the next error:</p>\n<blockquote>\n<p>/bin/sh: eval: line 143: docker: not found</p>\n</blockquote>\n<p>which indicates that the Docker command-line interface (CLI) is not available in the environment where the GitLab runner is executing the job. Unfortunately I don't have access to the config.toml file of my GitLab runner, as of now.</p>\n<ol start=\"6\">\n<li>After further research, I found out that the DB2 needed extra privileges. So I reached the team that manages the runner and they added <code>privileged = true</code> into <code>config.toml</code>. After this approach the following errors appeared:</li>\n</ol>\n<blockquote>\n<p>SQL1032N No start database manager command was issued</p>\n</blockquote>\n<blockquote>\n<p>SQL1042C An unexpected system error occurred</p>\n</blockquote>\n<blockquote>\n<p>SQL1031N The database directory cannot be found on the indicated file system</p>\n</blockquote>\n<p>Currently, I am in confusion about what I am doing wrong. Any help and suggestions are much appreciated.</p>\n<p>I am having the next .gitlab-ci.yml file in which I am trying to create a CI/CD pipeline by using DB2 and Redis images as a service, create the appropriate containers from them and then execute the tests of my Java application.</p>\n<p><strong>.gitlab-ci.yml</strong></p>\n<pre><code>stages:\n  - test\n\nvariables:\n  UCD_WEB_URL: &quot;https://my.url.gr:8443&quot;\n  UCD_COMPONENT_NAME: &quot;my-project-name&quot;\n  JSON_IMPORT_CONTENT: '{&quot;component&quot;: &quot;$UCD_COMPONENT_NAME&quot;, &quot;properties&quot;: {&quot;version&quot;: &quot;$APP_VERSION&quot;}}'\n\nbefore_script:\n  - export GRADLE_USER_HOME=`pwd`/.gradle\n  - export APP_VERSION=&quot;$(grep '^version' ./gradle.properties | cut -d= -f2)-$CI_PIPELINE_IID&quot;\n  - export GRADLE_PARAMETERS=&quot;various parameters&quot;\n\ncache:\n  paths:\n    - .gradle/caches\n\nbuild-job:\n  stage: test\n  script:\n    - echo &quot;Building....&quot;\n    - gradle build -x test --info $GRADLE_PARAMETERS\n    - echo &quot;END of Build....&quot;\n  artifacts:\n    paths:\n      - build/libs/*\n    expire_in: 1 day\n\nintegration-tests-job:\n  stage: test\n  services:\n    - name: ibmcom/db2:11.5.5.0\n      alias: db2\n      variables:\n        DBURL: &quot;jdbc:db2://localhost:50000/CDH&quot;\n        DBDRIVER: &quot;com.ibm.db2.jcc.DB2Driver&quot;\n        DBNAME: &quot;MYDB&quot;\n        LICENSE: &quot;accept&quot;\n    - name: redis:7.2.1\n      alias: redis\n      entrypoint: [ &quot;redis-server&quot; ]\n      command: [ &quot;--requirepass&quot;, &quot;password&quot; ]\n      variables:\n        REDIS_PASSWORD: &quot;password&quot;\n        REDIS_PORT: 6379\n        REDIS_HOST: redis\n        REDIS_URL: redis://redis:6379/0\n  script:\n    - sleep 180\n    - echo &quot;Starting execution of integration tests....&quot;\n    - gradle libertyStart --info $GRADLE_PARAMETERS\n    - sleep 30\n    - gradle test --info ${GRADLE_PARAMETERS//-Pprofile=uat/-Pprofile=dev}\n    - echo &quot;Execution of integration tests finished....&quot;\n</code></pre>\n<p>However, after pushing in my Gitlab repository, I am receiving the following error:</p>\n<blockquote>\n<p>com.ibm.db2.jcc.am.DisconnectNonTransientConnectionException: [jcc][t4][2043][11550][4.25.13] Exception java.net.ConnectException: Error opening socket to server localhost/127.0.0.1 on port 50,000 with message: Connection refused. ERRORCODE=-4499, SQLSTATE=08001</p>\n</blockquote>\n<p><strong>STEPS DONE SO FAR</strong></p>\n<ol>\n<li><p>Registered images ibmcom/db2:11.5.5.0 and redis:7.2.1 into GitLab runner.</p>\n</li>\n<li><p>Used <code>FF_NETWORK_PER_BUILD</code> feature flag to run services with Podman as an executor.</p>\n</li>\n<li><p>The application is running on host machine. For this reason I tried both <code>localhost</code> and the <code>127.0.0.1</code> IP address.</p>\n</li>\n<li><p>Usernames and passwords are defined in the <code>before_script</code> section under <code>GRADLE_PARAMETERS</code>. These parameters are registered as variables in CI/CD settings of Gitlab.</p>\n</li>\n<li><p>At the above file I use <code>sleep</code> to give some time for DB2 to be up and running. I also tried to write the below script for fetching the logs of DB2 container.</p>\n</li>\n</ol>\n<pre><code>- |\n      DB2_CONTAINER_ID=$(docker ps | grep &quot;ibmcom/db2:11.5.5.0&quot; | awk '{print $1}')\n      echo &quot;Fetching DB2 logs for debugging:&quot;\n      docker logs $DB2_CONTAINER_ID\n</code></pre>\n<p>However, I received the next error:</p>\n<blockquote>\n<p>/bin/sh: eval: line 143: docker: not found</p>\n</blockquote>\n<p>which indicates that the Docker command-line interface (CLI) is not available in the environment where the GitLab runner is executing the job. Unfortunately I don't have access to the config.toml file of my GitLab runner, as of now.</p>\n<ol start=\"6\">\n<li>After further research, I found out that the DB2 needed extra privileges. So I reached the team that manages the runner and they added <code>privileged = true</code> into <code>config.toml</code>. After this approach the following errors appeared:</li>\n</ol>\n<blockquote>\n<p>SQL1032N No start database manager command was issued</p>\n</blockquote>\n<blockquote>\n<p>SQL1042C An unexpected system error occurred</p>\n</blockquote>\n<blockquote>\n<p>SQL1031N The database directory cannot be found on the indicated file system</p>\n</blockquote>\n<p>Currently, I am in confusion about what I am doing wrong. Any help and suggestions are much appreciated.</p>\n"},{"tags":["java","spring","graphql"],"comments":[{"owner":{"account_id":15845590,"reputation":331,"user_id":11432986,"display_name":"brando f"},"score":0,"creation_date":1680538894,"post_id":75145797,"comment_id":133911850,"body_markdown":"I&#39;ve been looking for this too but can&#39;t find anything. Maybe you could add an orderfilter into the order or cards list into the order. Kind of stinky though haha","body":"I&#39;ve been looking for this too but can&#39;t find anything. Maybe you could add an orderfilter into the order or cards list into the order. Kind of stinky though haha"}],"answers":[{"tags":[],"owner":{"account_id":15845590,"reputation":331,"user_id":11432986,"display_name":"brando f"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680549311,"creation_date":1680549311,"answer_id":75923020,"question_id":75145797,"body_markdown":"I looked through the GraphQl docs for a while and didn&#39;t find anything.\r\n\r\nMy best solution was to make a &quot;OrderGraphqlDTO&quot; object that extended the &quot;Order&quot; object. Then I put a &quot;OrderFilter&quot; as a field in that. I excluded that field from the graphql schema so that it still only returned what looked like our order object, but now the OrderFilter was accessable in the &quot;cards&quot; method. \r\n\r\nNot the best way since I couldn&#39;t find in graphql support for this situation. At least it looked a little more elegant though.\r\n\r\nHere&#39;s the code:\r\n\r\n```\r\npublic class OrderGraphqlDTO extends Order\r\n{\r\n    private OrderFilter orderFilter;\r\n   \r\n    ...\r\n}\r\n```\r\n\r\n```\r\n@QueryMapping\r\npublic List&lt;OrderGraphqlDTO&gt; getOrders(@Argument OrderFilter orderFilter) {\r\n    Order order = this.orderService.get(orderFilter);\r\n    return new OrderGraphqlDTO(order, orderFilter);\r\n}\r\n\r\n@SchemaMapping\r\npublic List&lt;Card&gt; cards(Order order) {\r\n    OrderGraphqlDTO orderQl = (OrderGraphqlDTO) order;\r\n    return this.cardService.getCards(orderQl);\r\n}\r\n```","title":"Sharing data between @QueryMapping and @SchemaMapping in Java Spring GraphQL","body":"<p>I looked through the GraphQl docs for a while and didn't find anything.</p>\n<p>My best solution was to make a &quot;OrderGraphqlDTO&quot; object that extended the &quot;Order&quot; object. Then I put a &quot;OrderFilter&quot; as a field in that. I excluded that field from the graphql schema so that it still only returned what looked like our order object, but now the OrderFilter was accessable in the &quot;cards&quot; method.</p>\n<p>Not the best way since I couldn't find in graphql support for this situation. At least it looked a little more elegant though.</p>\n<p>Here's the code:</p>\n<pre><code>public class OrderGraphqlDTO extends Order\n{\n    private OrderFilter orderFilter;\n   \n    ...\n}\n</code></pre>\n<pre><code>@QueryMapping\npublic List&lt;OrderGraphqlDTO&gt; getOrders(@Argument OrderFilter orderFilter) {\n    Order order = this.orderService.get(orderFilter);\n    return new OrderGraphqlDTO(order, orderFilter);\n}\n\n@SchemaMapping\npublic List&lt;Card&gt; cards(Order order) {\n    OrderGraphqlDTO orderQl = (OrderGraphqlDTO) order;\n    return this.cardService.getCards(orderQl);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":360199,"reputation":29,"user_id":1686022,"display_name":"vaibhavn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691796742,"creation_date":1691796742,"answer_id":76887174,"question_id":75145797,"body_markdown":" `DataFetchingEnvironment` class can be used to read the filter values.\r\n\r\n    @SchemaMapping\r\n    public List&lt;Card&gt; cards(DataFetchingEnvironment environment, Order order..) {\r\n      //your code here\r\n      ...environment.getVariables().get(&quot;orderFilter&quot;)\r\n      //your code here\r\n      return this.cardService.getCards(order);\r\n    }\r\n    \r\n","title":"Sharing data between @QueryMapping and @SchemaMapping in Java Spring GraphQL","body":"<p><code>DataFetchingEnvironment</code> class can be used to read the filter values.</p>\n<pre><code>@SchemaMapping\npublic List&lt;Card&gt; cards(DataFetchingEnvironment environment, Order order..) {\n  //your code here\n  ...environment.getVariables().get(&quot;orderFilter&quot;)\n  //your code here\n  return this.cardService.getCards(order);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10612836,"reputation":37,"user_id":7816222,"display_name":"Jason"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696009613,"creation_date":1696009071,"answer_id":77203849,"question_id":75145797,"body_markdown":"I hope it fits to your problem.\r\n\r\n\r\n```java\r\npublic List&lt;Card&gt; cards(DataFetchingEnvironment env, Order order) {\r\n    OrderFilter orderFilter = env.getExecutionStepInfo().getParent().getArgument(&quot;orderFilter&quot;)\r\n    // ...\r\n}\r\n```","title":"Sharing data between @QueryMapping and @SchemaMapping in Java Spring GraphQL","body":"<p>I hope it fits to your problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Card&gt; cards(DataFetchingEnvironment env, Order order) {\n    OrderFilter orderFilter = env.getExecutionStepInfo().getParent().getArgument(&quot;orderFilter&quot;)\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":27552045,"reputation":31,"user_id":21026926,"display_name":"Macus Georgiev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":741,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1696009613,"creation_date":1673955218,"question_id":75145797,"body_markdown":"I have a schema defined as follows:\r\n```\r\nenum CardType {\r\n    TYPE_1\r\n    TYPE_2\r\n}\r\n\r\ntype Card {\r\n    id: ID!\r\n}\r\n\r\ntype Order {\r\n    id: ID!\r\n    cards: [Card]!\r\n}\r\n\r\ninput OrderFilter {\r\n    cardType: CardType\r\n}\r\n\r\ntype Query {\r\n    getOrders(orderFilter: OrderFilter): [Order]\r\n}\r\n```\r\nAlso, the following resolvers:\r\n```\r\n@QueryMapping\r\npublic List&lt;Order&gt; getOrders(@Argument OrderFilter orderFilter) {\r\n    return this.orderService.get(orderFilter);\r\n}\r\n\r\n@SchemaMapping\r\npublic List&lt;Card&gt; cards(Order order) {\r\n    return this.cardService.getCards(order);\r\n}\r\n```\r\nIs there a way for me to gain access to the `OrderFilter` argument from the `@SchemaMapping` annotated method? I want to filter the result from that method based on the argument of the `@QueryMapping` annotated method. \r\n\r\nI tried to add an `@Argument` annotated parameter in the `@SchemaMapping` annotated method, but it does not work.","title":"Sharing data between @QueryMapping and @SchemaMapping in Java Spring GraphQL","body":"<p>I have a schema defined as follows:</p>\n<pre><code>enum CardType {\n    TYPE_1\n    TYPE_2\n}\n\ntype Card {\n    id: ID!\n}\n\ntype Order {\n    id: ID!\n    cards: [Card]!\n}\n\ninput OrderFilter {\n    cardType: CardType\n}\n\ntype Query {\n    getOrders(orderFilter: OrderFilter): [Order]\n}\n</code></pre>\n<p>Also, the following resolvers:</p>\n<pre><code>@QueryMapping\npublic List&lt;Order&gt; getOrders(@Argument OrderFilter orderFilter) {\n    return this.orderService.get(orderFilter);\n}\n\n@SchemaMapping\npublic List&lt;Card&gt; cards(Order order) {\n    return this.cardService.getCards(order);\n}\n</code></pre>\n<p>Is there a way for me to gain access to the <code>OrderFilter</code> argument from the <code>@SchemaMapping</code> annotated method? I want to filter the result from that method based on the argument of the <code>@QueryMapping</code> annotated method.</p>\n<p>I tried to add an <code>@Argument</code> annotated parameter in the <code>@SchemaMapping</code> annotated method, but it does not work.</p>\n"},{"tags":["java","java-17","builder-pattern","java-annotations","java-record"],"answers":[{"tags":[],"owner":{"account_id":4528798,"reputation":10533,"user_id":3679900,"accept_rate":48,"display_name":"y2k-shubham"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696009519,"creation_date":1696009519,"answer_id":77203892,"question_id":77203891,"body_markdown":"We had created an issue [[#1484][1]] against [Immutables library][2] for this query and as per their response\r\n\r\n - They are planning to add full support for `record`s. Most probably it will be Immutables 3\r\n - Till then Immutables library does in fact offer a workaround by means of [`@Builder.Constructor` annotation][3]\r\n\r\n```\r\nrecord Uio(\r\n  int x,\r\n  String b,\r\n  boolean z) {\r\n\r\n  @Builder.Constructor\r\n  Uio {\r\n    // ...\r\n  }\r\n}\r\n\r\nvar b = new UioBuilder()\r\n  .x(4)\r\n  .b(&quot;xx&quot;)\r\n  .z(true)\r\n  .build();\r\n```\r\n\r\n\r\n  [1]: https://Support%20for%20Java%2014+%20records\r\n  [2]: https://github.com/immutables/immutables\r\n  [3]: https://immutables.github.io/factory.html","title":"Annotation-processor based builder pattern with Java 14 records","body":"<p>We had created an issue [<a href=\"https://Support%20for%20Java%2014+%20records\" rel=\"nofollow noreferrer\">#1484</a>] against <a href=\"https://github.com/immutables/immutables\" rel=\"nofollow noreferrer\">Immutables library</a> for this query and as per their response</p>\n<ul>\n<li>They are planning to add full support for <code>record</code>s. Most probably it will be Immutables 3</li>\n<li>Till then Immutables library does in fact offer a workaround by means of <a href=\"https://immutables.github.io/factory.html\" rel=\"nofollow noreferrer\"><code>@Builder.Constructor</code> annotation</a></li>\n</ul>\n<pre><code>record Uio(\n  int x,\n  String b,\n  boolean z) {\n\n  @Builder.Constructor\n  Uio {\n    // ...\n  }\n}\n\nvar b = new UioBuilder()\n  .x(4)\n  .b(&quot;xx&quot;)\n  .z(true)\n  .build();\n</code></pre>\n"}],"owner":{"account_id":4528798,"reputation":10533,"user_id":3679900,"accept_rate":48,"display_name":"y2k-shubham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77203892,"answer_count":1,"score":0,"last_activity_date":1696009519,"creation_date":1696009519,"question_id":77203891,"body_markdown":"At my org we extensively use [`@Value.Immutable` annotation][1] with `interface`s or `abstract class`es to generate `Immutable` `class`es with `builder`s for our internal data transfer objects (DTOs) [[ref][2]].\r\n\r\nWe are writing a new service in Java 17 and want to leverage `record`s for DTOs, but we don&#39;t want to give up on **builder-pattern** for construction. *We do understand that [immutability provided by `record`s and builder-pattern are two unrelated concepts][3], but for our DTOs use-case builder-pattern is absolutely essential*\r\n\r\nA quick [literature survey][4] reveals that as of Sep 2023, the available options for getting builder-pattern out of Java `record`s are\r\n\r\n1. ***Hand-written* `Builder` `class`** *nested* within Java `record` file\r\n   - manual effort, no *annotation-magic*\r\n2. **Lombok&#39;s `@Builder` annotation**\r\n   - Lombok is evil (no offense) and our entire org is moving away from it\r\n3. **[RecordBuilder library][5]**\r\n   - I&#39;m sceptical as to how long would it be supported by community\r\n   - plus it also offers several customizations around pure / simple builders that i&#39;m not too keen to adopt &amp; don&#39;t want those unnecessary loopholes in my project\r\n\r\n----\r\n\r\nAre there any other workarounds of getting builder-pattern with Java records? We are even okay to start-off with hand-written nested builder-classes within records (since both options 2 &amp; 3 make us uneasy), provided our [beloved Immutables library][6] starts supporting them in future so that we could seamlessly migrate to them.\r\n\r\n\r\n  [1]: https://www.baeldung.com/immutables\r\n  [2]: https://softwareengineering.stackexchange.com/questions/447242\r\n  [3]: https://stackoverflow.com/questions/68840772\r\n  [4]: https://howtodoinjava.com/java/basics/builder-pattern-for-java-records/\r\n  [5]: https://github.com/randgalt/record-builder\r\n  [6]: https://immutables.github.io/","title":"Annotation-processor based builder pattern with Java 14 records","body":"<p>At my org we extensively use <a href=\"https://www.baeldung.com/immutables\" rel=\"nofollow noreferrer\"><code>@Value.Immutable</code> annotation</a> with <code>interface</code>s or <code>abstract class</code>es to generate <code>Immutable</code> <code>class</code>es with <code>builder</code>s for our internal data transfer objects (DTOs) [<a href=\"https://softwareengineering.stackexchange.com/questions/447242\">ref</a>].</p>\n<p>We are writing a new service in Java 17 and want to leverage <code>record</code>s for DTOs, but we don't want to give up on <strong>builder-pattern</strong> for construction. <em>We do understand that <a href=\"https://stackoverflow.com/questions/68840772\">immutability provided by <code>record</code>s and builder-pattern are two unrelated concepts</a>, but for our DTOs use-case builder-pattern is absolutely essential</em></p>\n<p>A quick <a href=\"https://howtodoinjava.com/java/basics/builder-pattern-for-java-records/\" rel=\"nofollow noreferrer\">literature survey</a> reveals that as of Sep 2023, the available options for getting builder-pattern out of Java <code>record</code>s are</p>\n<ol>\n<li><strong><em>Hand-written</em> <code>Builder</code> <code>class</code></strong> <em>nested</em> within Java <code>record</code> file\n<ul>\n<li>manual effort, no <em>annotation-magic</em></li>\n</ul>\n</li>\n<li><strong>Lombok's <code>@Builder</code> annotation</strong>\n<ul>\n<li>Lombok is evil (no offense) and our entire org is moving away from it</li>\n</ul>\n</li>\n<li><strong><a href=\"https://github.com/randgalt/record-builder\" rel=\"nofollow noreferrer\">RecordBuilder library</a></strong>\n<ul>\n<li>I'm sceptical as to how long would it be supported by community</li>\n<li>plus it also offers several customizations around pure / simple builders that i'm not too keen to adopt &amp; don't want those unnecessary loopholes in my project</li>\n</ul>\n</li>\n</ol>\n<hr />\n<p>Are there any other workarounds of getting builder-pattern with Java records? We are even okay to start-off with hand-written nested builder-classes within records (since both options 2 &amp; 3 make us uneasy), provided our <a href=\"https://immutables.github.io/\" rel=\"nofollow noreferrer\">beloved Immutables library</a> starts supporting them in future so that we could seamlessly migrate to them.</p>\n"},{"tags":["java","ssl","weblogic12c"],"comments":[{"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":2,"creation_date":1696011132,"post_id":77203886,"comment_id":136104206,"body_markdown":"*&quot;Seeing intermittent failures very often. So I decided ....&quot;* - this information does not help. You don&#39;t provide the actual error you get, only &quot;intermittent failures&quot;. And then you fiddle around with settings which likely have nothing to do with the error. Unfortunately we cannot help here since it is unclear what error you actually have.","body":"<i>&quot;Seeing intermittent failures very often. So I decided ....&quot;</i> - this information does not help. You don&#39;t provide the actual error you get, only &quot;intermittent failures&quot;. And then you fiddle around with settings which likely have nothing to do with the error. Unfortunately we cannot help here since it is unclear what error you actually have."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1696039994,"post_id":77203886,"comment_id":136107086,"body_markdown":"Also it is extremely unlikely any server today allows SSLv3, which has been broken and prohibited by practically everybody since 2015. It is fairly common, and good practice, to allow only (aka require) TLS 1.2 or 1.3 -- or equivalently TLS &gt;= 1.2. However the protocol version makes no difference to the certificate validity, nor vice versa.","body":"Also it is extremely unlikely any server today allows SSLv3, which has been broken and prohibited by practically everybody since 2015. It is fairly common, and good practice, to allow only (aka require) TLS 1.2 or 1.3 -- or equivalently TLS &gt;= 1.2. However the protocol version makes no difference to the certificate validity, nor vice versa."},{"owner":{"account_id":5995771,"reputation":43,"user_id":4710459,"display_name":"Subbu"},"score":0,"creation_date":1696103254,"post_id":77203886,"comment_id":136111756,"body_markdown":"@SteffenUllrich\nApologies for not providing error stack. I mean I&#39;m getting SSLHandshake errors sometime after importing certificate. Before importing cert it was 100% failure.\n\n&lt;Sep 30, 2023 3:41:07,303 PM EDT&gt; &lt;Error&gt; &lt;com.demo.application.microservice.testing.rest.resource.v1.TestResource&gt; &lt;BEA-000000&gt; &lt;\njavax.ws.rs.ProcessingException: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target","body":"@SteffenUllrich Apologies for not providing error stack. I mean I&#39;m getting SSLHandshake errors sometime after importing certificate. Before importing cert it was 100% failure.  &lt;Sep 30, 2023 3:41:07,303 PM EDT&gt; &lt;Error&gt; &lt;com.demo.application.microservice.testing.rest.resource.v1.&zwnj;&#8203;TestResource&gt; &lt;BEA-000000&gt; &lt; javax.ws.rs.ProcessingException: javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target"},{"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1696103561,"post_id":77203886,"comment_id":136111791,"body_markdown":"@Subbu: if the same client (your WebLogic server) with the same configuration (i.e. trust store) and in the same network setup is sometimes able to verify the target server with this trust store and sometimes not than there is likely something unexpected with the target server, i.e. it is sometimes sending the certificate + chain you expect and sometimes not. This might for example happen if their are multiple servers for the same domain with different IP addresses and configuration.","body":"@Subbu: if the same client (your WebLogic server) with the same configuration (i.e. trust store) and in the same network setup is sometimes able to verify the target server with this trust store and sometimes not than there is likely something unexpected with the target server, i.e. it is sometimes sending the certificate + chain you expect and sometimes not. This might for example happen if their are multiple servers for the same domain with different IP addresses and configuration."},{"owner":{"account_id":5995771,"reputation":43,"user_id":4710459,"display_name":"Subbu"},"score":0,"creation_date":1696104041,"post_id":77203886,"comment_id":136111837,"body_markdown":"@SteffenUllrich \nEven I suspected same but from the local weblogic setup it has 100% pass rate. Target server is Microsoft Graph API calls. Anything that might be blocking at network level?","body":"@SteffenUllrich  Even I suspected same but from the local weblogic setup it has 100% pass rate. Target server is Microsoft Graph API calls. Anything that might be blocking at network level?"},{"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":1,"creation_date":1696109249,"post_id":77203886,"comment_id":136112313,"body_markdown":"What does it matter what pass rate the local weblogic setup has if this is about communicating with some remote server? It is not even clear what is even tested. And there is nothing &quot;blocking&quot;. If there would be something blocking, then you would get a connection error not a certificate problem.","body":"What does it matter what pass rate the local weblogic setup has if this is about communicating with some remote server? It is not even clear what is even tested. And there is nothing &quot;blocking&quot;. If there would be something blocking, then you would get a connection error not a certificate problem."}],"owner":{"account_id":5995771,"reputation":43,"user_id":4710459,"display_name":"Subbu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696009487,"creation_date":1696009487,"question_id":77203886,"body_markdown":"I have a java application which is hosted using WebLogic 12c managed server. It is calling an external API end point which is secured.\r\nThis is an outbound connection from weblogic server to target server, for example, https://www.demosite.com/api/end/point. Initially as I got the SSLHandshake error. \r\n\r\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nI imported Certificate of the target server &quot;https://www.demosite.com&quot; into the CustomTrust.jks keystore in my weblogic managed server. Also imported the same cert into JAVA Default keystore cacerts.\r\n\r\nWith this I started seeing successful api calls. But this was not consistent. Seeing intermittent failures very often. So I decided to add below java argument to my managed server startup settings.\r\n\r\n-Djdk.tls.client.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2\r\n\r\nManaged server restarts are done by deleting Managed_Server tmp &amp; cache folders.\r\nThis action item did not help to fix the problem. Then made some changes to the SSL configuration in the weblogic managed server settings. Like below ones,\r\n\r\nHostname Verification: Custom Hostname verifier\r\nCustom Hostname Verifier: weblogic.security.utils.SSLWLSWildcardHostnameVerifier\r\nUse Server Certs: Checked\r\nTwo Way Client Cert Behavior: Client Certs Requested But Not Enforced\r\n\r\nNone of the settings I tried did not help to fix the issue completely.\r\n\r\nFrom Jdeveloper integrated weblogic server in my local machine the API call never fails. Only in weblogic managed server running on the Linux Server is giving this problem. In my local machine I did not import target server certs explicitly. What Am I missing here? Target allows only TLSv1.2/SSLv3 connection.","title":"WebLogic Server fails to make secured connection to the Target URL with SSLHandshake exception","body":"<p>I have a java application which is hosted using WebLogic 12c managed server. It is calling an external API end point which is secured.\nThis is an outbound connection from weblogic server to target server, for example, <a href=\"https://www.demosite.com/api/end/point\" rel=\"nofollow noreferrer\">https://www.demosite.com/api/end/point</a>. Initially as I got the SSLHandshake error.</p>\n<p>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</p>\n<p>I imported Certificate of the target server &quot;https://www.demosite.com&quot; into the CustomTrust.jks keystore in my weblogic managed server. Also imported the same cert into JAVA Default keystore cacerts.</p>\n<p>With this I started seeing successful api calls. But this was not consistent. Seeing intermittent failures very often. So I decided to add below java argument to my managed server startup settings.</p>\n<p>-Djdk.tls.client.protocols=TLSv1.2 -Dhttps.protocols=TLSv1.2</p>\n<p>Managed server restarts are done by deleting Managed_Server tmp &amp; cache folders.\nThis action item did not help to fix the problem. Then made some changes to the SSL configuration in the weblogic managed server settings. Like below ones,</p>\n<p>Hostname Verification: Custom Hostname verifier\nCustom Hostname Verifier: weblogic.security.utils.SSLWLSWildcardHostnameVerifier\nUse Server Certs: Checked\nTwo Way Client Cert Behavior: Client Certs Requested But Not Enforced</p>\n<p>None of the settings I tried did not help to fix the issue completely.</p>\n<p>From Jdeveloper integrated weblogic server in my local machine the API call never fails. Only in weblogic managed server running on the Linux Server is giving this problem. In my local machine I did not import target server certs explicitly. What Am I missing here? Target allows only TLSv1.2/SSLv3 connection.</p>\n"},{"tags":["java","log4j","log4j2","rollingfileappender"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1696222369,"post_id":77190803,"comment_id":136120935,"body_markdown":"Use `lsof` to check if `Process100Server.log` is not used by multiple processes/appenders. If multiple rolling appenders use the same file: 1. the first appender will move `Process100Server.log` to the archived file upon rollover, 2. the second appender will overwrite the archived file with an empty `Process100Server.log` created by the first appender.","body":"Use <code>lsof</code> to check if <code>Process100Server.log</code> is not used by multiple processes/appenders. If multiple rolling appenders use the same file: 1. the first appender will move <code>Process100Server.log</code> to the archived file upon rollover, 2. the second appender will overwrite the archived file with an empty <code>Process100Server.log</code> created by the first appender."}],"owner":{"account_id":2069003,"reputation":35,"user_id":1843878,"display_name":"mcs130"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696009480,"creation_date":1695847819,"question_id":77190803,"body_markdown":"Seeing an issue using Log4j2 where the log file during application activity is named as: \\&lt;service-name\\&gt;.log ... and this file reflects current messages being logged throughout the day.\r\n\r\n**Example**: Process100Server.log is reflecting CURRENT activity.  At 23:59 each night, that active log file content is supposed to be reflected in that day&#39;s file which will be rolled and named, (say on the day, 09-24-2023):\r\n\r\n**Process100Server.log-2023-09-24.log**\r\n\r\nThe &quot;active&quot; logging for the next day then goes back to a fresh log, starting all over again.\r\n\r\n**Process100Server.log**\r\n\r\nWhen the named file is created, somehow the expected content from **Process100Server.log** is LOST and all we see is an empty file w/ the date stamp\r\n\r\n```\r\n-rw-r--r-- 1 abcadmin abcadmin 0 Sep 25 23:59 Process100Server.log-2023-09-24.log\r\n```\r\n\r\nIn fact, a few days of this and we see rolled (date-stamped) files that are ZERO bytes:\r\n\r\n```\r\n-rw-r--r-- 1 abcadmin abcadmin 2346943 Sep 27 15:56 Process100Server.log\r\n-rw-r--r-- 1 abcadmin abcadmin 0 Sep 24 23:59 Process100Server.log-2023-09-24.log\r\n-rw-r--r-- 1 abcadmin abcadmin 0 Sep 25 23:59 Process100Server.log-2023-09-25.log\r\n-rw-r--r-- 1 abcadmin abcadmin 0 Sep 26 23:59 Process100Server.log-2023-09-26.log\r\n```\r\n\r\nIn summary, only the *NON-date-stamped* files show any content...Once the file is date stamped, its content is gone. At a loss with this. Any insight is appreciated.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;warn&quot;&gt;\r\n  &lt;Appenders&gt;\r\n\r\n    &lt;RollingFile name=&quot;RollingFile&quot;\r\n                 fileName=&quot;/apps/servers/process/logs/Process100Server.log&quot;\r\n                 filePattern=&quot;logs/Process100Server.log-%d{yyyy-MM-dd}.log&quot; &gt;\r\n      &lt;PatternLayout&gt;\r\n        &lt;pattern&gt;%d{ABSOLUTE} %5p [%t]%c{1}:%L - %m%n&lt;/pattern&gt;\r\n      &lt;/PatternLayout&gt;\r\n      &lt;Policies&gt;\r\n        &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot; /&gt;\r\n      &lt;/Policies&gt;\r\n    &lt;/RollingFile&gt;\r\n\r\n    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n      &lt;PatternLayout pattern=&quot;%d %-5p:[%t]%c{1} -%m%n&quot;/&gt;\r\n    &lt;/Console&gt;\r\n\r\n  &lt;/Appenders&gt;\r\n\r\n  &lt;loggers&gt;\r\n\r\n\r\n    &lt;root level=&quot;info&quot;&gt;\r\n      &lt;appender-ref ref=&quot;RollingFile&quot; level=&quot;info&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n  &lt;/loggers&gt;\r\n\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nTried changing the Appender type and file name pattern... no effect.\r\n\r\nLog4J2 version: 2.17.0","title":"Log files created, activity seen during the day, upon rolling, named file exists but is 0 bytes","body":"<p>Seeing an issue using Log4j2 where the log file during application activity is named as: &lt;service-name&gt;.log ... and this file reflects current messages being logged throughout the day.</p>\n<p><strong>Example</strong>: Process100Server.log is reflecting CURRENT activity.  At 23:59 each night, that active log file content is supposed to be reflected in that day's file which will be rolled and named, (say on the day, 09-24-2023):</p>\n<p><strong>Process100Server.log-2023-09-24.log</strong></p>\n<p>The &quot;active&quot; logging for the next day then goes back to a fresh log, starting all over again.</p>\n<p><strong>Process100Server.log</strong></p>\n<p>When the named file is created, somehow the expected content from <strong>Process100Server.log</strong> is LOST and all we see is an empty file w/ the date stamp</p>\n<pre><code>-rw-r--r-- 1 abcadmin abcadmin 0 Sep 25 23:59 Process100Server.log-2023-09-24.log\n</code></pre>\n<p>In fact, a few days of this and we see rolled (date-stamped) files that are ZERO bytes:</p>\n<pre><code>-rw-r--r-- 1 abcadmin abcadmin 2346943 Sep 27 15:56 Process100Server.log\n-rw-r--r-- 1 abcadmin abcadmin 0 Sep 24 23:59 Process100Server.log-2023-09-24.log\n-rw-r--r-- 1 abcadmin abcadmin 0 Sep 25 23:59 Process100Server.log-2023-09-25.log\n-rw-r--r-- 1 abcadmin abcadmin 0 Sep 26 23:59 Process100Server.log-2023-09-26.log\n</code></pre>\n<p>In summary, only the <em>NON-date-stamped</em> files show any content...Once the file is date stamped, its content is gone. At a loss with this. Any insight is appreciated.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;warn&quot;&gt;\n  &lt;Appenders&gt;\n\n    &lt;RollingFile name=&quot;RollingFile&quot;\n                 fileName=&quot;/apps/servers/process/logs/Process100Server.log&quot;\n                 filePattern=&quot;logs/Process100Server.log-%d{yyyy-MM-dd}.log&quot; &gt;\n      &lt;PatternLayout&gt;\n        &lt;pattern&gt;%d{ABSOLUTE} %5p [%t]%c{1}:%L - %m%n&lt;/pattern&gt;\n      &lt;/PatternLayout&gt;\n      &lt;Policies&gt;\n        &lt;TimeBasedTriggeringPolicy interval=&quot;1&quot; modulate=&quot;true&quot; /&gt;\n      &lt;/Policies&gt;\n    &lt;/RollingFile&gt;\n\n    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n      &lt;PatternLayout pattern=&quot;%d %-5p:[%t]%c{1} -%m%n&quot;/&gt;\n    &lt;/Console&gt;\n\n  &lt;/Appenders&gt;\n\n  &lt;loggers&gt;\n\n\n    &lt;root level=&quot;info&quot;&gt;\n      &lt;appender-ref ref=&quot;RollingFile&quot; level=&quot;info&quot;/&gt;\n    &lt;/root&gt;\n\n  &lt;/loggers&gt;\n\n&lt;/Configuration&gt;\n</code></pre>\n<p>Tried changing the Appender type and file name pattern... no effect.</p>\n<p>Log4J2 version: 2.17.0</p>\n"},{"tags":["java","macos","macos-ventura"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1695978435,"post_id":77200682,"comment_id":136098030,"body_markdown":"My guess is that if you run `/usr/bin/java --version` directly you&#39;ll get that same string and that executable is just a placeholder.","body":"My guess is that if you run <code>&#47;usr&#47;bin&#47;java --version</code> directly you&#39;ll get that same string and that executable is just a placeholder."},{"owner":{"account_id":16760201,"reputation":111,"user_id":17028413,"display_name":"Manuel"},"score":0,"creation_date":1695978522,"post_id":77200682,"comment_id":136098045,"body_markdown":"I tried that command and show &quot;the operation couldn&#39;t...&quot;. What should I do then?","body":"I tried that command and show &quot;the operation couldn&#39;t...&quot;. What should I do then?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1695995191,"post_id":77200682,"comment_id":136101026,"body_markdown":"@Freeman your example is not correct. JAVA_HOME should point to the top directory of a Java distribution. `/usr/bin/java` is an executable.","body":"@Freeman your example is not correct. JAVA_HOME should point to the top directory of a Java distribution. <code>&#47;usr&#47;bin&#47;java</code> is an executable."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696008921,"creation_date":1696008135,"answer_id":77203774,"question_id":77200682,"body_markdown":"# *SDKMAN!*\r\n\r\n&gt;What should I do?\r\n\r\nDelete whatever JDKs you already downloaded and installed. \r\n\r\nInstall [SDKMAN!][1]. This clever collection of [shell scripts][2] makes easy work of installing software kits such as a [JDK][3]. \r\n\r\nAt the console such as Terminal.app, execute:\r\n\r\n```bash\r\nsdk list java \r\n```\r\n\r\nFrom the list of JDK products known to SDKMAN!, choose which version of which product you want. Be sure to choose a vendor and product whose legal terms you find agreeable. \r\n\r\nCopy the exact name of your choice. Type `Q` to quit the list. \r\n\r\nThen paste the copied name into the following line of your console, and execute. \r\n\r\n```bash\r\nsdk install java paste-product-name-here\r\n```\r\n\r\nWait a few minutes as your desired JDK product downloads and installed. \r\n\r\nEventually SDKMAN! prompts you to ask if you want to make this JDK the default. Answer `Y` for ‚Äúyes‚Äù. \r\n\r\n‚úîÔ∏è Easy-peasy, done. \r\n\r\nVerify by doing these two tasks:\r\n\r\n```bash\r\nsdk list java \r\n```\r\n\r\nYou should see an indicator of which JDK product(s) you have installed. \r\n\r\n```bash\r\njava --version\r\n```\r\n\r\nYou should get a report of the default JDK product‚Äôs version number. \r\n\r\nSDKMAN! can just as easily:\r\n\r\n - Install later versions\r\n - Uninstall older JDKs no longer needed. \r\n - Mark a different JDK as default. \r\n\r\nSee the website for easy instructions.\r\n\r\n  [1]: https://sdkman.io/\r\n  [2]: https://en.m.wikipedia.org/wiki/Shell_script\r\n  [3]: https://en.m.wikipedia.org/wiki/Java_Development_Kit","title":"Java is not recognized in MacOs Ventura 13.5","body":"<h1><em>SDKMAN!</em></h1>\n<blockquote>\n<p>What should I do?</p>\n</blockquote>\n<p>Delete whatever JDKs you already downloaded and installed.</p>\n<p>Install <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">SDKMAN!</a>. This clever collection of <a href=\"https://en.m.wikipedia.org/wiki/Shell_script\" rel=\"nofollow noreferrer\">shell scripts</a> makes easy work of installing software kits such as a <a href=\"https://en.m.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">JDK</a>.</p>\n<p>At the console such as Terminal.app, execute:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sdk list java \n</code></pre>\n<p>From the list of JDK products known to SDKMAN!, choose which version of which product you want. Be sure to choose a vendor and product whose legal terms you find agreeable.</p>\n<p>Copy the exact name of your choice. Type <code>Q</code> to quit the list.</p>\n<p>Then paste the copied name into the following line of your console, and execute.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sdk install java paste-product-name-here\n</code></pre>\n<p>Wait a few minutes as your desired JDK product downloads and installed.</p>\n<p>Eventually SDKMAN! prompts you to ask if you want to make this JDK the default. Answer <code>Y</code> for ‚Äúyes‚Äù.</p>\n<p>‚úîÔ∏è Easy-peasy, done.</p>\n<p>Verify by doing these two tasks:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sdk list java \n</code></pre>\n<p>You should see an indicator of which JDK product(s) you have installed.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java --version\n</code></pre>\n<p>You should get a report of the default JDK product‚Äôs version number.</p>\n<p>SDKMAN! can just as easily:</p>\n<ul>\n<li>Install later versions</li>\n<li>Uninstall older JDKs no longer needed.</li>\n<li>Mark a different JDK as default.</li>\n</ul>\n<p>See the website for easy instructions.</p>\n"}],"owner":{"account_id":16760201,"reputation":111,"user_id":17028413,"display_name":"Manuel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77203774,"answer_count":1,"score":-1,"last_activity_date":1696008921,"creation_date":1695978357,"question_id":77200682,"body_markdown":"I got a MacBook Air M2 to develop Flutter applications. When I opened a project for the very first time, it asks me to install gradle extensions, but now when I open a project, Visual Studio Code shows me:\r\n\r\n```sh\r\nNo Java executable found, please consider to configure your &#39;java.jdt.ls.java.home&#39; setting or set JAVA_HOME in your path or put a Java executable in your path.\r\n```\r\n\r\nI tried to use `java --version` to see if I had java in my machine. The command show:\r\n```sh\r\nThe operation couldn‚Äôt be completed. Unable to locate a Java Runtime.\r\nPlease visit http://www.java.com for information on installing Java.\r\n```\r\n\r\nBut if I use the next command: `which java`, it shows `/usr/bin/java`. So, Can I consider that I have at least one java version?\r\n\r\nWhat should I do? Do I need configure the current java in my machine as a default or install a new java? Could be problems if I install a new version since I already have one installed?","title":"Java is not recognized in MacOs Ventura 13.5","body":"<p>I got a MacBook Air M2 to develop Flutter applications. When I opened a project for the very first time, it asks me to install gradle extensions, but now when I open a project, Visual Studio Code shows me:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>No Java executable found, please consider to configure your 'java.jdt.ls.java.home' setting or set JAVA_HOME in your path or put a Java executable in your path.\n</code></pre>\n<p>I tried to use <code>java --version</code> to see if I had java in my machine. The command show:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>The operation couldn‚Äôt be completed. Unable to locate a Java Runtime.\nPlease visit http://www.java.com for information on installing Java.\n</code></pre>\n<p>But if I use the next command: <code>which java</code>, it shows <code>/usr/bin/java</code>. So, Can I consider that I have at least one java version?</p>\n<p>What should I do? Do I need configure the current java in my machine as a default or install a new java? Could be problems if I install a new version since I already have one installed?</p>\n"},{"tags":["java","conditional-statements","formatting","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1696009904,"post_id":77203826,"comment_id":136104001,"body_markdown":"Create the formatting in Excel, read it back in Apache POI, and see how Excel encoded it?","body":"Create the formatting in Excel, read it back in Apache POI, and see how Excel encoded it?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1696050287,"post_id":77203826,"comment_id":136107552,"body_markdown":"See https://stackoverflow.com/questions/68772734/how-to-add-negative-value-for-databar-in-apache-poi/68773621#68773621","body":"See <a href=\"https://stackoverflow.com/questions/68772734/how-to-add-negative-value-for-databar-in-apache-poi/68773621#68773621\" title=\"how to add negative value for databar in apache poi\">stackoverflow.com/questions/68772734/&hellip;</a>"}],"owner":{"account_id":402403,"reputation":185,"user_id":769552,"accept_rate":0,"display_name":"user769552"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696008897,"creation_date":1696008803,"question_id":77203826,"body_markdown":"I have a list of percents in an excel file I create\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn Excel file I can select this percents and select Home -&gt; conditional Formatting -&gt; data bar -&gt; gradient fill\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAnd now it became like this\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/44hXi.png\r\n  [2]: https://i.stack.imgur.com/QBA1l.png\r\n  [3]: https://i.stack.imgur.com/Y3T9Q.png\r\n\r\nNow I need to do the same but using Apach POI and java, but I don&#39;t know how to do it.\r\nCould you please provide me with an example how to do it?\r\nIt would be perfect if someone could fill the gap, in this example:\r\n\r\n    import org.apache.poi.ss.usermodel.Sheet;\r\n    import org.apache.poi.ss.usermodel.SheetConditionalFormatting;\r\n    import org.apache.poi.ss.usermodel.Workbook;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\n    import java.io.FileOutputStream;\r\n\r\n    public class ConditionalFormattingExample {\r\n    public static void main(String[] args) throws Exception {\r\n        Workbook workbook = new XSSFWorkbook();\r\n        Sheet sheet = workbook.createSheet(&quot;new sheet&quot;);\r\n        String[] list = new String[]{&quot;5%&quot;, &quot;-5%&quot;, &quot;10%&quot;, &quot;-25%&quot;};\r\n        for (int i = 0; i &lt; list.length; i++) {\r\n            sheet.createRow(i).createCell(0).setCellValue(list[i]);\r\n        }\r\n        SheetConditionalFormatting sheetCF = sheet.getSheetConditionalFormatting();\r\n        \r\n        //--???\r\n        \r\n        FileOutputStream out = new FileOutputStream(&quot;ConditionalFormattingExample.xlsx&quot;);\r\n        workbook.write(out);\r\n        out.close();\r\n        workbook.close();\r\n    }\r\n    }","title":"How to create conditional formatting data bar gradient fill with Apache POI and Java?","body":"<p>I have a list of percents in an excel file I create</p>\n<p><a href=\"https://i.stack.imgur.com/44hXi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/44hXi.png\" alt=\"enter image description here\" /></a></p>\n<p>In Excel file I can select this percents and select Home -&gt; conditional Formatting -&gt; data bar -&gt; gradient fill\n<a href=\"https://i.stack.imgur.com/QBA1l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QBA1l.png\" alt=\"enter image description here\" /></a></p>\n<p>And now it became like this</p>\n<p><a href=\"https://i.stack.imgur.com/Y3T9Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y3T9Q.png\" alt=\"enter image description here\" /></a></p>\n<p>Now I need to do the same but using Apach POI and java, but I don't know how to do it.\nCould you please provide me with an example how to do it?\nIt would be perfect if someone could fill the gap, in this example:</p>\n<pre><code>import org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.SheetConditionalFormatting;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.FileOutputStream;\n\npublic class ConditionalFormattingExample {\npublic static void main(String[] args) throws Exception {\n    Workbook workbook = new XSSFWorkbook();\n    Sheet sheet = workbook.createSheet(&quot;new sheet&quot;);\n    String[] list = new String[]{&quot;5%&quot;, &quot;-5%&quot;, &quot;10%&quot;, &quot;-25%&quot;};\n    for (int i = 0; i &lt; list.length; i++) {\n        sheet.createRow(i).createCell(0).setCellValue(list[i]);\n    }\n    SheetConditionalFormatting sheetCF = sheet.getSheetConditionalFormatting();\n    \n    //--???\n    \n    FileOutputStream out = new FileOutputStream(&quot;ConditionalFormattingExample.xlsx&quot;);\n    workbook.write(out);\n    out.close();\n    workbook.close();\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","integration-testing","spring-security-6"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1695926027,"post_id":77197372,"comment_id":136092305,"body_markdown":"From what I can see here, your implementation is not following OAuth2 best practices, which almost certainly exposes it to severe security vulnerabilities. For instance, it is very suspicious to have both a JWT encoder and a JWT decoder in the same app. This could make sense only on an authorization server, but I believe you are trying to implement a resource server (REST API secured with Bearer Authorization header).  I suggest you have a look at my tutorials, [starting from there](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials)","body":"From what I can see here, your implementation is not following OAuth2 best practices, which almost certainly exposes it to severe security vulnerabilities. For instance, it is very suspicious to have both a JWT encoder and a JWT decoder in the same app. This could make sense only on an authorization server, but I believe you are trying to implement a resource server (REST API secured with Bearer Authorization header).  I suggest you have a look at my tutorials, <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials\" rel=\"nofollow noreferrer\">starting from there</a>"},{"owner":{"account_id":25486283,"reputation":41,"user_id":19281826,"display_name":"yaroslav96"},"score":0,"creation_date":1695967603,"post_id":77197372,"comment_id":136096335,"body_markdown":"@ch4mp, so nice described and explained in your tutorials, but could you please collaborate more on why authorization server and resource server cannot be the same app?","body":"@ch4mp, so nice described and explained in your tutorials, but could you please collaborate more on why authorization server and resource server cannot be the same app?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1695968730,"post_id":77197372,"comment_id":136096479,"body_markdown":"It can, and actually, it is very frequently the case (most authorization servers expose an API for user administration). But having a standalone authorization server allows to achieve SSO (Single Sign On): many apps sharing the same authorization server =&gt; a user having an opened session on this authorization server won&#39;t need to login again. Also, the security is pretty different on the two (authorization servers need sessions, resource servers don&#39;t)","body":"It can, and actually, it is very frequently the case (most authorization servers expose an API for user administration). But having a standalone authorization server allows to achieve SSO (Single Sign On): many apps sharing the same authorization server =&gt; a user having an opened session on this authorization server won&#39;t need to login again. Also, the security is pretty different on the two (authorization servers need sessions, resource servers don&#39;t)"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1695968856,"post_id":77197372,"comment_id":136096490,"body_markdown":"Considering the very small footprint of native apps, I advise you to separate your OAuth2 actors in different apps. Easier to understand, easier to configure, easier to scale.","body":"Considering the very small footprint of native apps, I advise you to separate your OAuth2 actors in different apps. Easier to understand, easier to configure, easier to scale."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1695969464,"post_id":77197372,"comment_id":136096568,"body_markdown":"I forgot the most important: as a beginner, you should really consider picking an existing authorization server rather than writing your own (Keycloak is a frequent choice to install on your infrastructure, Auth0, Okta and Amazon Cognito are just samples of the many cloud offers). I personally never have built an authorization server so far: this is way too much work and a way too much sensitive layer in the information system.","body":"I forgot the most important: as a beginner, you should really consider picking an existing authorization server rather than writing your own (Keycloak is a frequent choice to install on your infrastructure, Auth0, Okta and Amazon Cognito are just samples of the many cloud offers). I personally never have built an authorization server so far: this is way too much work and a way too much sensitive layer in the information system."}],"answers":[{"tags":[],"owner":{"account_id":25486283,"reputation":41,"user_id":19281826,"display_name":"yaroslav96"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696008282,"creation_date":1696008282,"answer_id":77203787,"question_id":77197372,"body_markdown":"However, if someone interested in my approach, then after hours of debugging I&#39;ve already found a solution:\r\n\r\n 1. You have to specify bean for loading user by username:\r\n\r\n    @TestConfiguration\r\n    public class SecurityMockConfiguration {\r\n    \r\n        @Bean\r\n        public UserDetailsService applicationUserDetailsService() {\r\n            return username -&gt; Stream.of(NEW_USER, FIRST_STUDENT, SECOND_STUDENT, INSTRUCTOR, ADMIN)\r\n                    .filter(actor -&gt; Objects.equals(username, actor.getEmail()))\r\n                    .findFirst()\r\n                    .map(ApplicationUserDetails:: new)\r\n                    .orElse(new ApplicationUserDetails(new User()));\r\n        }\r\n    }\r\n\r\n 2. Add mocked Jwt for you mockMvc:\r\n\r\n    ```private static void addUserIfExists(final User user, final MockHttpServletRequestBuilder requestBuilder) {\r\n        if (user != null) {\r\n            final List&lt;GrantedAuthority&gt; authorities = user.getRoles().stream()\r\n                    .map(role -&gt; (GrantedAuthority) () -&gt; &quot;ROLE_&quot; + role.name())\r\n                    .toList();\r\n            requestBuilder.with(jwt().jwt(j -&gt; j.subject(user.getEmail())).authorities(authorities));\r\n        }\r\n    ```\r\nAfter that you will be able to make requests based on some user:\r\n\r\n    makeMockMvcRequest(mockMvc, GET, COURSE_ENDPOINT, FIRST_STUDENT)\r\n                                        .andExpect(responseBody().containsObjectsAsJson(userCourses, UserCourseDto.class))\r\n\r\n     ","title":"Mocking JwtDecoder Spring Security OAuth2","body":"<p>However, if someone interested in my approach, then after hours of debugging I've already found a solution:</p>\n<ol>\n<li><p>You have to specify bean for loading user by username:</p>\n<p>@TestConfiguration\npublic class SecurityMockConfiguration {</p>\n<pre><code>@Bean\npublic UserDetailsService applicationUserDetailsService() {\n    return username -&gt; Stream.of(NEW_USER, FIRST_STUDENT, SECOND_STUDENT, INSTRUCTOR, ADMIN)\n            .filter(actor -&gt; Objects.equals(username, actor.getEmail()))\n            .findFirst()\n            .map(ApplicationUserDetails:: new)\n            .orElse(new ApplicationUserDetails(new User()));\n}\n</code></pre>\n<p>}</p>\n</li>\n<li><p>Add mocked Jwt for you mockMvc:</p>\n<pre><code>    if (user != null) {\n        final List&lt;GrantedAuthority&gt; authorities = user.getRoles().stream()\n                .map(role -&gt; (GrantedAuthority) () -&gt; &quot;ROLE_&quot; + role.name())\n                .toList();\n        requestBuilder.with(jwt().jwt(j -&gt; j.subject(user.getEmail())).authorities(authorities));\n    }\n</code></pre>\n</li>\n</ol>\n<p>After that you will be able to make requests based on some user:</p>\n<pre><code>makeMockMvcRequest(mockMvc, GET, COURSE_ENDPOINT, FIRST_STUDENT)\n                                    .andExpect(responseBody().containsObjectsAsJson(userCourses, UserCourseDto.class))\n\n \n</code></pre>\n"}],"owner":{"account_id":25486283,"reputation":41,"user_id":19281826,"display_name":"yaroslav96"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696008282,"creation_date":1695925386,"question_id":77197372,"body_markdown":"I&#39;ve custom annotation, which is used in several controllers:\r\n\r\n    @Target({ElementType.PARAMETER, ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    @AuthenticationPrincipal(expression = &quot;@applicationUserDetailsService.loadUserByUsername(#this.getSubject()).getId()&quot;)\r\n    public @interface CurrentUserId {\r\n    \r\n    }\r\n\r\nAlso I&#39;ve JwtEncoder:\r\n\r\n    @Bean\r\n        public JwtEncoder jwtEncoder() {\r\n            final JWK jwk = new RSAKey.Builder(keys.getPublicKey()).privateKey(keys.getPrivateKey()).build();\r\n            final JWKSource&lt;SecurityContext&gt; jwkSource = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\r\n            return new NimbusJwtEncoder(jwkSource);\r\n        }\r\n\r\nAnd JwtDecoder:\r\n\r\n    @Bean\r\n        public JwtDecoder jwtDecoder() {\r\n            return NimbusJwtDecoder.withPublicKey(keys.getPublicKey()).build();\r\n        }\r\nMy custom static method serves for making mocked calls:\r\n\r\n    public static ResultActions makeMockMvcRequest(final MockMvc mockMvc,\r\n                                                       final HttpMethod requestType,\r\n                                                       final String endpoint,\r\n                                                       final Map&lt;String, Object&gt; params,\r\n                                                       final Object body,\r\n                                                       final User user) throws Exception {\r\n            final var requestBuilder = defineRequestBuilder(requestType, endpoint);\r\n            addBodyIfExists(body, requestBuilder);\r\n            addUserIfExists(user, requestBuilder);\r\n            return mockMvc.perform(requestBuilder\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .params(convertToMultiValueMap(params)));\r\n        }\r\n    \r\n        private static MockHttpServletRequestBuilder defineRequestBuilder(final HttpMethod requestType, final String endpoint) {\r\n            MockHttpServletRequestBuilder requestBuilder;\r\n            if (POST.equals(requestType)) {\r\n                requestBuilder = post(endpoint);\r\n            } else if (GET.equals(requestType)) {\r\n                requestBuilder = get(endpoint);\r\n            } else if (PUT.equals(requestType)) {\r\n                requestBuilder = put(endpoint);\r\n            } else {\r\n                throw new IllegalArgumentException(&quot;Unsupported HTTP request type: &quot; + requestType);\r\n            }\r\n            return requestBuilder;\r\n        }\r\n    \r\n        private static void addBodyIfExists(final Object body, final MockHttpServletRequestBuilder requestBuilder) {\r\n            if (body != null) {\r\n                requestBuilder.content(asJsonString(body));\r\n            }\r\n        }\r\n    \r\n        private static void addUserIfExists(final User user, final MockHttpServletRequestBuilder requestBuilder) {\r\n            if (user != null) {\r\n                final String[] roles = user.getRoles().stream()\r\n                        .map(Role::name)\r\n                        .distinct()\r\n                        .toArray(String[]::new);\r\n    \r\n                final List&lt;GrantedAuthority&gt; authorities = user.getRoles().stream()\r\n                        .map(role -&gt; (GrantedAuthority) role::name)\r\n                        .toList();\r\n    \r\n                requestBuilder\r\n                        .with(user(user.getEmail()).roles(roles))\r\n                        .with(jwt().jwt(j -&gt; j.subject(user.getEmail()).tokenValue(&quot;strong-token&quot;).build()).authorities(authorities));\r\n            }\r\n        }\r\nBut when I try to make a mock MVC call, I&#39;m getting following error:\r\n\r\n    jakarta.servlet.ServletException: Request processing failed: org.springframework.expression.spel.SpelEvaluationException: EL1011E: Method call: Attempted to call method getId() on null context object\r\n\r\nHow can I mock decoder in order to have resolved given user&#39;s ID? Or is there better and more convenient way to achieve mocking goal?","title":"Mocking JwtDecoder Spring Security OAuth2","body":"<p>I've custom annotation, which is used in several controllers:</p>\n<pre><code>@Target({ElementType.PARAMETER, ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@AuthenticationPrincipal(expression = &quot;@applicationUserDetailsService.loadUserByUsername(#this.getSubject()).getId()&quot;)\npublic @interface CurrentUserId {\n\n}\n</code></pre>\n<p>Also I've JwtEncoder:</p>\n<pre><code>@Bean\n    public JwtEncoder jwtEncoder() {\n        final JWK jwk = new RSAKey.Builder(keys.getPublicKey()).privateKey(keys.getPrivateKey()).build();\n        final JWKSource&lt;SecurityContext&gt; jwkSource = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\n        return new NimbusJwtEncoder(jwkSource);\n    }\n</code></pre>\n<p>And JwtDecoder:</p>\n<pre><code>@Bean\n    public JwtDecoder jwtDecoder() {\n        return NimbusJwtDecoder.withPublicKey(keys.getPublicKey()).build();\n    }\n</code></pre>\n<p>My custom static method serves for making mocked calls:</p>\n<pre><code>public static ResultActions makeMockMvcRequest(final MockMvc mockMvc,\n                                                   final HttpMethod requestType,\n                                                   final String endpoint,\n                                                   final Map&lt;String, Object&gt; params,\n                                                   final Object body,\n                                                   final User user) throws Exception {\n        final var requestBuilder = defineRequestBuilder(requestType, endpoint);\n        addBodyIfExists(body, requestBuilder);\n        addUserIfExists(user, requestBuilder);\n        return mockMvc.perform(requestBuilder\n                .contentType(MediaType.APPLICATION_JSON)\n                .params(convertToMultiValueMap(params)));\n    }\n\n    private static MockHttpServletRequestBuilder defineRequestBuilder(final HttpMethod requestType, final String endpoint) {\n        MockHttpServletRequestBuilder requestBuilder;\n        if (POST.equals(requestType)) {\n            requestBuilder = post(endpoint);\n        } else if (GET.equals(requestType)) {\n            requestBuilder = get(endpoint);\n        } else if (PUT.equals(requestType)) {\n            requestBuilder = put(endpoint);\n        } else {\n            throw new IllegalArgumentException(&quot;Unsupported HTTP request type: &quot; + requestType);\n        }\n        return requestBuilder;\n    }\n\n    private static void addBodyIfExists(final Object body, final MockHttpServletRequestBuilder requestBuilder) {\n        if (body != null) {\n            requestBuilder.content(asJsonString(body));\n        }\n    }\n\n    private static void addUserIfExists(final User user, final MockHttpServletRequestBuilder requestBuilder) {\n        if (user != null) {\n            final String[] roles = user.getRoles().stream()\n                    .map(Role::name)\n                    .distinct()\n                    .toArray(String[]::new);\n\n            final List&lt;GrantedAuthority&gt; authorities = user.getRoles().stream()\n                    .map(role -&gt; (GrantedAuthority) role::name)\n                    .toList();\n\n            requestBuilder\n                    .with(user(user.getEmail()).roles(roles))\n                    .with(jwt().jwt(j -&gt; j.subject(user.getEmail()).tokenValue(&quot;strong-token&quot;).build()).authorities(authorities));\n        }\n    }\n</code></pre>\n<p>But when I try to make a mock MVC call, I'm getting following error:</p>\n<pre><code>jakarta.servlet.ServletException: Request processing failed: org.springframework.expression.spel.SpelEvaluationException: EL1011E: Method call: Attempted to call method getId() on null context object\n</code></pre>\n<p>How can I mock decoder in order to have resolved given user's ID? Or is there better and more convenient way to achieve mocking goal?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1695885927,"post_id":77192729,"comment_id":136084195,"body_markdown":"What JDK are you using?","body":"What JDK are you using?"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":7,"creation_date":1695885939,"post_id":77192729,"comment_id":136084198,"body_markdown":"The error indicates that your JAVA_HOME points to a Java version before Java 17.","body":"The error indicates that your JAVA_HOME points to a Java version before Java 17."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1695886128,"post_id":77192729,"comment_id":136084227,"body_markdown":"By the way‚Ä¶ My understanding is that one should use *either* the .source/.target pair *or* the .release in your POM, but not both. But I am not an expert on Maven configuration.","body":"By the way‚Ä¶ My understanding is that one should use <i>either</i> the .source/.target pair <i>or</i> the .release in your POM, but not both. But I am not an expert on Maven configuration."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1695887663,"post_id":77192729,"comment_id":136084515,"body_markdown":"What does &quot;mvn --version&quot; print out?","body":"What does &quot;mvn --version&quot; print out?"},{"owner":{"account_id":960307,"reputation":107851,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1695889791,"post_id":77192729,"comment_id":136084968,"body_markdown":"I saw you did not use the current Version of the maven-compiler-plugin: 3.11","body":"I saw you did not use the current Version of the maven-compiler-plugin: 3.11"},{"owner":{"account_id":25962535,"reputation":23,"user_id":19678921,"display_name":"LaijieJi"},"score":0,"creation_date":1695901474,"post_id":77192729,"comment_id":136087247,"body_markdown":"The output of mvn --version is:\nApache Maven 3.8.6 (Red Hat 3.8.6-4)\nMaven home: /usr/share/maven\nJava version: 21, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-21-openjdk-21.0.0.0.35-1.rolling.fc38.x86_64\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;6.4.15-200.fc38.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;","body":"The output of mvn --version is: Apache Maven 3.8.6 (Red Hat 3.8.6-4) Maven home: /usr/share/maven Java version: 21, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-21-openjdk-21.0.0.0.35-1.rolling.fc38.x86_&zwnj;&#8203;64 Default locale: en_US, platform encoding: UTF-8 OS name: &quot;linux&quot;, version: &quot;6.4.15-200.fc38.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;"},{"owner":{"account_id":25962535,"reputation":23,"user_id":19678921,"display_name":"LaijieJi"},"score":0,"creation_date":1695902801,"post_id":77192729,"comment_id":136087509,"body_markdown":"How is that JAVA_HOME points to an older version than 17? It appears to be using the 21","body":"How is that JAVA_HOME points to an older version than 17? It appears to be using the 21"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1695916559,"post_id":77192729,"comment_id":136090648,"body_markdown":"In that particular case it&#39;s not even necessary to define the source/target/release or `java.version` because that&#39;s already defined by the spring boot parent... but of course an appropriate JDK version must be provided...Also remove all plugin definitions... you inherit them from spring boot... or use more recent version of spring boot 3.1.4...","body":"In that particular case it&#39;s not even necessary to define the source/target/release or <code>java.version</code> because that&#39;s already defined by the spring boot parent... but of course an appropriate JDK version must be provided...Also remove all plugin definitions... you inherit them from spring boot... or use more recent version of spring boot 3.1.4..."},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1695978496,"post_id":77192729,"comment_id":136098041,"body_markdown":"you can also upgrade maven-compiler-plugin version","body":"you can also upgrade maven-compiler-plugin version"}],"answers":[{"tags":[],"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695979709,"creation_date":1695977518,"answer_id":77200604,"question_id":77192729,"body_markdown":"Check that the correct version of JDK is specified under:\r\n\r\n - Settings / Preferences -&gt; Build, Execution, Deployment -&gt; Build Tools\r\n   -&gt; Maven -&gt; Importing\r\n - Settings / Preferences -&gt; Build, Execution, Deployment -&gt; Build Tools\r\n   -&gt; Maven -&gt; Runner\r\n - Settings / Preferences -&gt; Build, Execution, Deployment -&gt; Compiler -&gt;\r\n   Java Compiler -&gt; Project bytecode version\r\n - Project Structure -&gt; Project -&gt; SDK / Language Level\r\n - Project Structure -&gt; Modules -&gt; Sources -&gt; Language    level Project\r\n   Structure -&gt; Modules -&gt; Dependencies -&gt; Module SDK","title":"Fatal error compiling: release version 17 not supported","body":"<p>Check that the correct version of JDK is specified under:</p>\n<ul>\n<li>Settings / Preferences -&gt; Build, Execution, Deployment -&gt; Build Tools\n-&gt; Maven -&gt; Importing</li>\n<li>Settings / Preferences -&gt; Build, Execution, Deployment -&gt; Build Tools\n-&gt; Maven -&gt; Runner</li>\n<li>Settings / Preferences -&gt; Build, Execution, Deployment -&gt; Compiler -&gt;\nJava Compiler -&gt; Project bytecode version</li>\n<li>Project Structure -&gt; Project -&gt; SDK / Language Level</li>\n<li>Project Structure -&gt; Modules -&gt; Sources -&gt; Language    level Project\nStructure -&gt; Modules -&gt; Dependencies -&gt; Module SDK</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25962535,"reputation":23,"user_id":19678921,"display_name":"LaijieJi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696008016,"creation_date":1696008016,"answer_id":77203764,"question_id":77192729,"body_markdown":"thank you all for your responses, I finally figured out what was the problem. I was using a JRE instead of a proper JDK, so it was not able to compile the code.","title":"Fatal error compiling: release version 17 not supported","body":"<p>thank you all for your responses, I finally figured out what was the problem. I was using a JRE instead of a proper JDK, so it was not able to compile the code.</p>\n"}],"owner":{"account_id":25962535,"reputation":23,"user_id":19678921,"display_name":"LaijieJi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77200604,"answer_count":2,"score":1,"last_activity_date":1696008016,"creation_date":1695883886,"question_id":77192729,"body_markdown":"I have a problem when executing mvn clean package\r\n\r\nWhenever I try to compile my project with Maven, the ouput is the following:\r\n```\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  2.023 s\r\n    [INFO] Finished at: 2023-09-28T08:35:11+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile     (default-compile) on project demo: Fatal error compiling: error: release version 17 not supported     -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following     articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\nI&#39;ve tried changing the jdk selected in IntelliJ, checking the JAVA_HOME and PATH, and I still cant compile the code.\r\n\r\nHere&#39;s the pom.xml\r\n\r\n\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-    instance&quot;\r\n\t    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-    4.0.0.xsd&quot;&gt;\r\n\t    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t    &lt;parent&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t    &lt;relativePath/&gt;\r\n\t    &lt;/parent&gt;\r\n\r\n\t    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t    &lt;name&gt;demo&lt;/name&gt;\r\n\t    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t    &lt;properties&gt;\r\n\t        &lt;java.version&gt;17&lt;/java.version&gt;\r\n\t        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n\t        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    \t        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n\t    &lt;/properties&gt;\r\n\t    &lt;dependencies&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t    &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t    &lt;/dependencies&gt;\r\n\r\n\t    &lt;build&gt;\r\n\t\t    &lt;plugins&gt;\r\n\t\t\t    &lt;plugin&gt;\r\n\t\t\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t    &lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t\t    &lt;/plugin&gt;\r\n\t\t\t    &lt;plugin&gt;\r\n\t\t\t\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t\t\t    &lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t\t    &lt;/plugin&gt;\r\n\t\t\t    &lt;plugin&gt;\r\n\t\t\t\t    &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n\t\t\t\t    &lt;artifactId&gt;maven-surefire-common&lt;/artifactId&gt;\r\n\t\t\t\t    &lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t\t    &lt;/plugin&gt;\r\n\t\t\t    &lt;plugin&gt;\r\n\t\t\t\t    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t    &lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t    &lt;configuration&gt;\r\n\t\t\t\t\t    &lt;release&gt;${java.version}&lt;/release&gt;\r\n\t\t\t\t    &lt;/configuration&gt;\r\n\t\t\t    &lt;/plugin&gt;\r\n\t\t    &lt;/plugins&gt;\r\n\t    &lt;/build&gt;\r\n    &lt;/project&gt;\r\n```\r\n\r\nThis is the debug logging\r\n```\r\n\r\n[DEBUG] incrementalBuildHelper#beforeRebuildExecution\r\n[INFO] Compiling 6 source files to /home/laijie/Documents/GitHub/demo/target/classes\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  1.520 s\r\n[INFO] Finished at: 2023-09-28T08:40:12+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project demo: Fatal error compiling: error: release version 17 not supported -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project demo: Fatal error compiling\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:103)\r\n    at java.lang.reflect.Method.invoke (Method.java:580)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: Fatal error compiling\r\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1145)\r\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:187)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:103)\r\n    at java.lang.reflect.Method.invoke (Method.java:580)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.codehaus.plexus.compiler.CompilerException: error: release version 17 not supported\r\n    at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:173)\r\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:174)\r\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1134)\r\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:187)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:103)\r\n    at java.lang.reflect.Method.invoke (Method.java:580)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: java.lang.IllegalArgumentException: error: release version 17 not supported\r\n    at com.sun.tools.javac.main.Arguments.reportDiag (Arguments.java:886)\r\n    at com.sun.tools.javac.main.Arguments.handleReleaseOptions (Arguments.java:312)\r\n    at com.sun.tools.javac.main.Arguments.processArgs (Arguments.java:351)\r\n    at com.sun.tools.javac.main.Arguments.init (Arguments.java:247)\r\n    at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:191)\r\n    at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:119)\r\n    at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:68)\r\n    at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:125)\r\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:174)\r\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1134)\r\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:187)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:103)\r\n    at java.lang.reflect.Method.invoke (Method.java:580)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n[ERROR] \r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\nI tried to execute mvn clean package in order to compile my project, but found this problem\r\n\r\nMy JAVA_HOME variable is:\r\n/usr/lib/jvm/jre-21-openjdk-21.0.0.0.35-1.rolling.fc38.x86_64\r\n","title":"Fatal error compiling: release version 17 not supported","body":"<p>I have a problem when executing mvn clean package</p>\n<p>Whenever I try to compile my project with Maven, the ouput is the following:</p>\n<pre><code>    [INFO] BUILD FAILURE\n    [INFO] ------------------------------------------------------------------------\n    [INFO] Total time:  2.023 s\n    [INFO] Finished at: 2023-09-28T08:35:11+02:00\n    [INFO] ------------------------------------------------------------------------\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile     (default-compile) on project demo: Fatal error compiling: error: release version 17 not supported     -&gt; [Help 1]\n    [ERROR] \n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\n    [ERROR] \n    [ERROR] For more information about the errors and possible solutions, please read the following     articles:\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>I've tried changing the jdk selected in IntelliJ, checking the JAVA_HOME and PATH, and I still cant compile the code.</p>\n<p>Here's the pom.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-    instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-    4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;3.1.4&lt;/version&gt;\n            &lt;relativePath/&gt;\n        &lt;/parent&gt;\n\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;demo&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n        &lt;properties&gt;\n            &lt;java.version&gt;17&lt;/java.version&gt;\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n                &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n        &lt;/properties&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.4&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-common&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;release&gt;${java.version}&lt;/release&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/project&gt;\n</code></pre>\n<p>This is the debug logging</p>\n<pre><code>\n[DEBUG] incrementalBuildHelper#beforeRebuildExecution\n[INFO] Compiling 6 source files to /home/laijie/Documents/GitHub/demo/target/classes\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.520 s\n[INFO] Finished at: 2023-09-28T08:40:12+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project demo: Fatal error compiling: error: release version 17 not supported -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project demo: Fatal error compiling\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:103)\n    at java.lang.reflect.Method.invoke (Method.java:580)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Fatal error compiling\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1145)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:187)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:103)\n    at java.lang.reflect.Method.invoke (Method.java:580)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.codehaus.plexus.compiler.CompilerException: error: release version 17 not supported\n    at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:173)\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:174)\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1134)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:187)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:103)\n    at java.lang.reflect.Method.invoke (Method.java:580)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.IllegalArgumentException: error: release version 17 not supported\n    at com.sun.tools.javac.main.Arguments.reportDiag (Arguments.java:886)\n    at com.sun.tools.javac.main.Arguments.handleReleaseOptions (Arguments.java:312)\n    at com.sun.tools.javac.main.Arguments.processArgs (Arguments.java:351)\n    at com.sun.tools.javac.main.Arguments.init (Arguments.java:247)\n    at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:191)\n    at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:119)\n    at com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:68)\n    at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:125)\n    at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:174)\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1134)\n    at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:187)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:103)\n    at java.lang.reflect.Method.invoke (Method.java:580)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>I tried to execute mvn clean package in order to compile my project, but found this problem</p>\n<p>My JAVA_HOME variable is:\n/usr/lib/jvm/jre-21-openjdk-21.0.0.0.35-1.rolling.fc38.x86_64</p>\n"},{"tags":["java","spring-boot","grpc","grpc-java"],"owner":{"account_id":14422240,"reputation":167,"user_id":12446654,"display_name":"Capitano Giovarco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1696007867,"creation_date":1659602325,"question_id":73232814,"body_markdown":"I want to write a unit test for our production code.\r\n\r\nI&#39;ve read this thead: https://stackoverflow.com/questions/71059894/does-grpc-have-a-channel-that-can-be-used-for-testing\r\n\r\nand everything looks simple.\r\n\r\nThe problem is that I cannot inject the generated test channel at runtime like explained here: https://grpc.github.io/grpc-java/javadoc/io/grpc/inprocess/InProcessServerBuilder.html\r\n\r\nThe channel is created internally in our production code like this:\r\n\r\n    protected ManagedChannel getChannel(ApplicationInstanceInfo instanceInfo) {\r\n        return ManagedChannelBuilder\r\n            .forAddress(instanceInfo.getHost(), instanceInfo.getPort())\r\n            .usePlaintext()\r\n            .build();\r\n    }\r\n\r\nThat means that I need a way to access the test server/channel through host and port. Is there a way to do this?\r\n\r\nWe use Spring Boot.","title":"How to access a testing gRPC server with ip and port","body":"<p>I want to write a unit test for our production code.</p>\n<p>I've read this thead: <a href=\"https://stackoverflow.com/questions/71059894/does-grpc-have-a-channel-that-can-be-used-for-testing\">Does GRPC have a Channel that can be used for testing?</a></p>\n<p>and everything looks simple.</p>\n<p>The problem is that I cannot inject the generated test channel at runtime like explained here: <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/inprocess/InProcessServerBuilder.html\" rel=\"nofollow noreferrer\">https://grpc.github.io/grpc-java/javadoc/io/grpc/inprocess/InProcessServerBuilder.html</a></p>\n<p>The channel is created internally in our production code like this:</p>\n<pre><code>protected ManagedChannel getChannel(ApplicationInstanceInfo instanceInfo) {\n    return ManagedChannelBuilder\n        .forAddress(instanceInfo.getHost(), instanceInfo.getPort())\n        .usePlaintext()\n        .build();\n}\n</code></pre>\n<p>That means that I need a way to access the test server/channel through host and port. Is there a way to do this?</p>\n<p>We use Spring Boot.</p>\n"},{"tags":["java","vaadin","vaadin8"],"comments":[{"owner":{"account_id":280794,"reputation":2726,"user_id":576699,"accept_rate":66,"display_name":"Mr Baloon"},"score":1,"creation_date":1695993950,"post_id":46386308,"comment_id":136100725,"body_markdown":"Did you ever solve this? I want the exact same thing.","body":"Did you ever solve this? I want the exact same thing."},{"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"score":1,"creation_date":1696007156,"post_id":46386308,"comment_id":136103494,"body_markdown":"I&#39;ll answer below","body":"I&#39;ll answer below"}],"answers":[{"tags":[],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696007554,"creation_date":1696007554,"answer_id":77203722,"question_id":46386308,"body_markdown":"I eventually found two options:\r\n\r\nThe first is to use an iFrame:\r\n\r\n    StreamRegistration registration = VaadinSession.getCurrent().getResourceRegistry().registerResource(streamResource);\r\n    IFrame iframe = new IFrame(registration.getResourceUri().toString());\r\n    // Setting the width to 100% results in a scrollbar for some reason and I cannot find a way to remove it. \r\n    iframe.setHeight(&quot;95%&quot;);\r\n    iframe.setWidthFull();\r\n\r\n    DialogWithCloseButton dialog = new DialogWithCloseButton();\r\n    dialog.setWidth(&quot;80%&quot;);\r\n    dialog.setHeight(&quot;90%&quot;);\r\n    dialog.open();\r\n    dialog.add(iframe);\r\n\r\nThe other option which I like a lot is to use the Pdf Viewer add-on from the Vaadin directory which can be found at: https://vaadin.com/directory/component/pdf-viewer\r\n\r\nI found the second option (the pdf viewer component) to be the better option for me. It&#39;s a lot richer. The only thing is that it may be more than you want.\r\n\r\nAlso I remember something about printing more than once but it&#39;s been a while so it could be something or it could be nothing. If the printing fails on the second attempt then there may be something that needs to be done, I just don&#39;t remember what.\r\n","title":"How to open browser print window with Vaadin BrowserFrame","body":"<p>I eventually found two options:</p>\n<p>The first is to use an iFrame:</p>\n<pre><code>StreamRegistration registration = VaadinSession.getCurrent().getResourceRegistry().registerResource(streamResource);\nIFrame iframe = new IFrame(registration.getResourceUri().toString());\n// Setting the width to 100% results in a scrollbar for some reason and I cannot find a way to remove it. \niframe.setHeight(&quot;95%&quot;);\niframe.setWidthFull();\n\nDialogWithCloseButton dialog = new DialogWithCloseButton();\ndialog.setWidth(&quot;80%&quot;);\ndialog.setHeight(&quot;90%&quot;);\ndialog.open();\ndialog.add(iframe);\n</code></pre>\n<p>The other option which I like a lot is to use the Pdf Viewer add-on from the Vaadin directory which can be found at: <a href=\"https://vaadin.com/directory/component/pdf-viewer\" rel=\"nofollow noreferrer\">https://vaadin.com/directory/component/pdf-viewer</a></p>\n<p>I found the second option (the pdf viewer component) to be the better option for me. It's a lot richer. The only thing is that it may be more than you want.</p>\n<p>Also I remember something about printing more than once but it's been a while so it could be something or it could be nothing. If the printing fails on the second attempt then there may be something that needs to be done, I just don't remember what.</p>\n"}],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77203722,"answer_count":1,"score":2,"last_activity_date":1696007554,"creation_date":1506223714,"question_id":46386308,"body_markdown":"I would like the PDF to open immediately to the browser&#39;s print window rather than the BrowserFrame in Vaadin. Right now my code is:\r\n\r\n    Window window = new Window();\r\n    \r\n    StreamResource streamResource = getPdfAsStream();\r\n    streamResource.setMIMEType(&quot;application/pdf&quot;);\r\n    \r\n    BrowserFrame browserFrame = new BrowserFrame(&quot;PDF File&quot;, streamResource);\r\n    browserFrame.setId(&quot;pdfToPrintBrowserFrame&quot;);\r\n    \r\n    window.setContent(browserFrame);\r\n    UI.getCurrent().addWindow(window);\r\n\r\nIs there a way to do something like:\r\n\r\n    JavaScript.getCurrent().execute(\r\n        &quot;document.getElementById(&#39;pdfToPrintBrowserFrame&#39;).contentWindow.print();&quot;);\r\n\r\nThis code doesn&#39;t work but in essence I&#39;d like to call the browser&#39;s print through Javascript on the pdf. How can this be done? \r\n","title":"How to open browser print window with Vaadin BrowserFrame","body":"<p>I would like the PDF to open immediately to the browser's print window rather than the BrowserFrame in Vaadin. Right now my code is:</p>\n\n<pre><code>Window window = new Window();\n\nStreamResource streamResource = getPdfAsStream();\nstreamResource.setMIMEType(\"application/pdf\");\n\nBrowserFrame browserFrame = new BrowserFrame(\"PDF File\", streamResource);\nbrowserFrame.setId(\"pdfToPrintBrowserFrame\");\n\nwindow.setContent(browserFrame);\nUI.getCurrent().addWindow(window);\n</code></pre>\n\n<p>Is there a way to do something like:</p>\n\n<pre><code>JavaScript.getCurrent().execute(\n    \"document.getElementById('pdfToPrintBrowserFrame').contentWindow.print();\");\n</code></pre>\n\n<p>This code doesn't work but in essence I'd like to call the browser's print through Javascript on the pdf. How can this be done? </p>\n"},{"tags":["java","android","sqlite","launching-application"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696014670,"post_id":77199287,"comment_id":136104720,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29558267,"reputation":1,"user_id":22653420,"display_name":"Nagaraj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696007437,"creation_date":1695958061,"question_id":77199287,"body_markdown":"New to android development, but developed the android app. It&#39;s working fine through USB connected mobile device from the Android Studio IDE!.\r\nEverything successful,  now generated .apk and installed into other device to test it but not launching!..\r\n\r\nMy app has connected SQLite DB to store and retrieve some data, all these working fine through USB connected devices! But not launching other devices.\r\n\r\n\r\nI tried to create a very simple app just with text view and it&#39;s. Apk working in other devices!\r\nI tried Toast message in onCreate method in MainActivity, it&#39;s popping up in USB connected physical device but not launching and no toast message popping up in other devices. \r\n\r\nI want, it should work in other devices also like in my mobile device used to connect in Android Studio.","title":"Developed android app working fine through USB connected Physical Device but the same .apk file not working in other devices","body":"<p>New to android development, but developed the android app. It's working fine through USB connected mobile device from the Android Studio IDE!.\nEverything successful,  now generated .apk and installed into other device to test it but not launching!..</p>\n<p>My app has connected SQLite DB to store and retrieve some data, all these working fine through USB connected devices! But not launching other devices.</p>\n<p>I tried to create a very simple app just with text view and it's. Apk working in other devices!\nI tried Toast message in onCreate method in MainActivity, it's popping up in USB connected physical device but not launching and no toast message popping up in other devices.</p>\n<p>I want, it should work in other devices also like in my mobile device used to connect in Android Studio.</p>\n"},{"tags":["java","arrays","flutter","oop","dart"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1619673642,"post_id":67311171,"comment_id":118977033,"body_markdown":"This is not a list but a two dimensional array. Hence you change values by assigning new value to arrays cell, like for example list1[0][0] = 100;","body":"This is not a list but a two dimensional array. Hence you change values by assigning new value to arrays cell, like for example list1[0][0] = 100;"},{"owner":{"account_id":2211898,"reputation":29180,"user_id":1953515,"display_name":"julemand101"},"score":1,"creation_date":1619675088,"post_id":67311171,"comment_id":118977346,"body_markdown":"Also, what language are we talking about here? I am guessing Dart since `print` is a Dart method but your question is also tagged as Java?","body":"Also, what language are we talking about here? I am guessing Dart since <code>print</code> is a Dart method but your question is also tagged as Java?"},{"owner":{"account_id":2352177,"reputation":75749,"user_id":2060725,"accept_rate":83,"display_name":"nvoigt"},"score":1,"creation_date":1619677180,"post_id":67311171,"comment_id":118977967,"body_markdown":"Please clarify what you already *can* do, what you want to do next and where and why you struggle with that that. First step: *can* you read a value from the console?","body":"Please clarify what you already <i>can</i> do, what you want to do next and where and why you struggle with that that. First step: <i>can</i> you read a value from the console?"}],"answers":[{"tags":[],"owner":{"account_id":20018484,"reputation":110,"user_id":14673929,"display_name":"Divit Vaghani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696007312,"creation_date":1696007312,"answer_id":77203698,"question_id":67311171,"body_markdown":"    import &#39;dart:io&#39;;\r\n    \r\n    void main() {\r\n      // Initialize an empty list to store user input\r\n      List&lt;List&lt;int&gt;&gt; list1 = [];\r\n    \r\n      // Number of rows and columns\r\n      int rows = 3;\r\n      int columns = 3;\r\n    \r\n      // Loop through rows\r\n      for (int i = 0; i &lt; rows; i++) {\r\n        // Initialize a temporary row list\r\n        List&lt;int&gt; row = [];\r\n        // Loop through columns\r\n        for (int j = 0; j &lt; columns; j++) {\r\n          // Take user input for each element\r\n          stdout.write(&#39;Enter element at position (${i + 1}, ${j + 1}): &#39;);\r\n          int element = int.parse(stdin.readLineSync()!);\r\n          // Append the element to the row list\r\n          row.add(element);\r\n        }\r\n        // Append the row list to the main list1\r\n        list1.add(row);\r\n      }\r\n    \r\n      // Print the final list1\r\n      print(list1);\r\n    }\r\n\r\nTo Accept Value from console you can use this approach.\r\n","title":"How to accept values to 2d List in dart","body":"<pre><code>import 'dart:io';\n\nvoid main() {\n  // Initialize an empty list to store user input\n  List&lt;List&lt;int&gt;&gt; list1 = [];\n\n  // Number of rows and columns\n  int rows = 3;\n  int columns = 3;\n\n  // Loop through rows\n  for (int i = 0; i &lt; rows; i++) {\n    // Initialize a temporary row list\n    List&lt;int&gt; row = [];\n    // Loop through columns\n    for (int j = 0; j &lt; columns; j++) {\n      // Take user input for each element\n      stdout.write('Enter element at position (${i + 1}, ${j + 1}): ');\n      int element = int.parse(stdin.readLineSync()!);\n      // Append the element to the row list\n      row.add(element);\n    }\n    // Append the row list to the main list1\n    list1.add(row);\n  }\n\n  // Print the final list1\n  print(list1);\n}\n</code></pre>\n<p>To Accept Value from console you can use this approach.</p>\n"}],"owner":{"account_id":17958660,"reputation":11,"user_id":13050098,"display_name":"MUHAMMED AMEEN S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696007312,"creation_date":1619671590,"question_id":67311171,"body_markdown":"    List list1  = [\r\n     [1, 1, 1], \r\n     [1, 1, 1], \r\n     [1, 1, 1]\r\n    ];\r\n    \r\n    print(list1); \r\n    \r\n    }\r\n\r\nHere, I&#39;ve created a list with initialization, but I need to accept values from the console.","title":"How to accept values to 2d List in dart","body":"<pre><code>List list1  = [\n [1, 1, 1], \n [1, 1, 1], \n [1, 1, 1]\n];\n\nprint(list1); \n\n}\n</code></pre>\n<p>Here, I've created a list with initialization, but I need to accept values from the console.</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1696007720,"post_id":77203688,"comment_id":136103602,"body_markdown":"`Any idea why?`, no. You should post your code.","body":"<code>Any idea why?</code>, no. You should post your code."}],"owner":{"account_id":15612106,"reputation":31,"user_id":11263223,"display_name":"lavnalla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696007204,"creation_date":1696007204,"question_id":77203688,"body_markdown":"I am using updateone(filter, updateDocument) to update some attributes in mongodb. However it fails the first time everytime and second succeeds. Same data same everything no change. Any idea why?\r\n\r\nThank you","title":"Mongodb java UpdateOne","body":"<p>I am using updateone(filter, updateDocument) to update some attributes in mongodb. However it fails the first time everytime and second succeeds. Same data same everything no change. Any idea why?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":6280589,"reputation":310,"user_id":4881732,"display_name":"Jarik Eng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591043203,"creation_date":1591043203,"answer_id":62140478,"question_id":62140293,"body_markdown":"I think you may use Custom Filter, intercept request and fetch cookies from HttpServletRequest.\r\n\r\n    @Override\r\n    public void doFilter(\r\n      ServletRequest request, \r\n      ServletResponse response,\r\n      FilterChain chain) throws IOException, ServletException {\r\n        Cookie[] cookies = request.getCookies();\r\n        // Your validation logic\r\n    }\r\n\r\n Just add it to Spring Security filters chain.\r\n\r\nMore details how to do it here: https://www.baeldung.com/spring-security-custom-filter\r\n\r\n","title":"Spring Boot Security - Use token from Cookies if Authorization header missing","body":"<p>I think you may use Custom Filter, intercept request and fetch cookies from HttpServletRequest.</p>\n\n<pre><code>@Override\npublic void doFilter(\n  ServletRequest request, \n  ServletResponse response,\n  FilterChain chain) throws IOException, ServletException {\n    Cookie[] cookies = request.getCookies();\n    // Your validation logic\n}\n</code></pre>\n\n<p>Just add it to Spring Security filters chain.</p>\n\n<p>More details how to do it here: <a href=\"https://www.baeldung.com/spring-security-custom-filter\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-custom-filter</a></p>\n"},{"tags":[],"owner":{"account_id":8410305,"reputation":2382,"user_id":6312478,"accept_rate":93,"display_name":"Girrafish"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1616262331,"creation_date":1591052463,"answer_id":62142266,"question_id":62140293,"body_markdown":"I found out about custom token resolvers and ended up creating one to validate both the header and the cookie. I&#39;m not sure if this is the cleanest solution, but it works.\r\n\r\nThe only issue I have with this is that it doesn&#39;t automatically validate the `Authorization: Bearer ...` header anymore, so I had to add the code for it too.\r\n\r\n```java\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n  @Override\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    http.csrf().disable();\r\n    http.authorizeRequests().antMatchers(&quot;/logs&quot;).permitAll();\r\n    http.authorizeRequests().antMatchers(&quot;/&quot;, &quot;/api/**&quot;).authenticated();\r\n    http.oauth2ResourceServer().jwt().and().bearerTokenResolver(this::tokenExtractor);\r\n  }\r\n\r\n  public String tokenExtractor(HttpServletRequest request) {\r\n    String header = request.getHeader(HttpHeaders.AUTHORIZATION);\r\n    if (header != null)\r\n      return header.replace(&quot;Bearer &quot;, &quot;&quot;);\r\n    Cookie cookie = WebUtils.getCookie(request, &quot;auth.access_token&quot;);\r\n    if (cookie != null)\r\n      return cookie.getValue();\r\n    return null;\r\n  }\r\n}\r\n```","title":"Spring Boot Security - Use token from Cookies if Authorization header missing","body":"<p>I found out about custom token resolvers and ended up creating one to validate both the header and the cookie. I'm not sure if this is the cleanest solution, but it works.</p>\n<p>The only issue I have with this is that it doesn't automatically validate the <code>Authorization: Bearer ...</code> header anymore, so I had to add the code for it too.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable();\n    http.authorizeRequests().antMatchers(&quot;/logs&quot;).permitAll();\n    http.authorizeRequests().antMatchers(&quot;/&quot;, &quot;/api/**&quot;).authenticated();\n    http.oauth2ResourceServer().jwt().and().bearerTokenResolver(this::tokenExtractor);\n  }\n\n  public String tokenExtractor(HttpServletRequest request) {\n    String header = request.getHeader(HttpHeaders.AUTHORIZATION);\n    if (header != null)\n      return header.replace(&quot;Bearer &quot;, &quot;&quot;);\n    Cookie cookie = WebUtils.getCookie(request, &quot;auth.access_token&quot;);\n    if (cookie != null)\n      return cookie.getValue();\n    return null;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15578400,"reputation":36,"user_id":11238938,"display_name":"Frank D&#39;Agostino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696006317,"creation_date":1695522757,"answer_id":77165546,"question_id":62140293,"body_markdown":"Just create a `@Component` annotated class implementing the `BearerTokenResolver` interface:\r\n\r\n```java\r\n@Override\r\npublic String resolve(final HttpServletRequest request) {\r\n    Cookie cookie = WebUtils.getCookie(request, &quot;YOUR_COOKIE_NAME&quot;);\r\n    if (cookie != null)\r\n        return cookie.getValue();\r\n    else\r\n        return new DefaultBearerTokenResolver().resolve(request);\r\n}\r\n```\r\n\r\nThis way, Spring will not create an instance of the default `DefaultBearerTokenResolver` implementation, which you can still reuse if needed in your overridden `resolve` method, to retrieve the token from the header.\r\n\r\nGreetings.","title":"Spring Boot Security - Use token from Cookies if Authorization header missing","body":"<p>Just create a <code>@Component</code> annotated class implementing the <code>BearerTokenResolver</code> interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic String resolve(final HttpServletRequest request) {\n    Cookie cookie = WebUtils.getCookie(request, &quot;YOUR_COOKIE_NAME&quot;);\n    if (cookie != null)\n        return cookie.getValue();\n    else\n        return new DefaultBearerTokenResolver().resolve(request);\n}\n</code></pre>\n<p>This way, Spring will not create an instance of the default <code>DefaultBearerTokenResolver</code> implementation, which you can still reuse if needed in your overridden <code>resolve</code> method, to retrieve the token from the header.</p>\n<p>Greetings.</p>\n"}],"owner":{"account_id":8410305,"reputation":2382,"user_id":6312478,"accept_rate":93,"display_name":"Girrafish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7016,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":77165546,"answer_count":3,"score":8,"last_activity_date":1696006317,"creation_date":1591042449,"question_id":62140293,"body_markdown":"I currently authenticate my requests against the JWK of my authorization server.\r\nI&#39;m using the `spring-boot-starter-oauth2-resource-server` package on spring-boot 2.3.\r\nThe JWT is taken out from the `Authorization: Bearer &lt;token&gt;` header and validated against the JWK endpoint.\r\nMy security config looks like this:\r\n\r\nSecurityConfig.java\r\n```java\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n  @Autowired\r\n  protected Environment env;\r\n\r\n  @Override\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    http.csrf().disable();\r\n    http.authorizeRequests().antMatchers(&quot;/logs&quot;).permitAll();\r\n    http.authorizeRequests().antMatchers(&quot;/&quot;, &quot;/api/**&quot;).authenticated();\r\n    http.oauth2ResourceServer().jwt();\r\n  }\r\n}\r\n```\r\n\r\napplication.properties\r\n```\r\nspring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://auth.work.com/v1/jwk\r\n```\r\n\r\nExternal users don&#39;t have the `Authorization: ...` header in their requests, but instead have the following 2 cookies that make up the JWT:\r\n\r\n```\r\nauth.token_type = Bearer\r\nauth.access_token = &lt;token&gt;\r\n```\r\n\r\nIs there a way to extract the JWT from the cookies and validate against the auth server if the the `Authorization: ...` header is missing?\r\nCould I extract the cookies and add a header to the request before it tries to authorize?\r\nOr it could even be a second method in the authentication chain.","title":"Spring Boot Security - Use token from Cookies if Authorization header missing","body":"<p>I currently authenticate my requests against the JWK of my authorization server.\nI'm using the <code>spring-boot-starter-oauth2-resource-server</code> package on spring-boot 2.3.\nThe JWT is taken out from the <code>Authorization: Bearer &lt;token&gt;</code> header and validated against the JWK endpoint.\nMy security config looks like this:</p>\n\n<p>SecurityConfig.java</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n  @Autowired\n  protected Environment env;\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable();\n    http.authorizeRequests().antMatchers(\"/logs\").permitAll();\n    http.authorizeRequests().antMatchers(\"/\", \"/api/**\").authenticated();\n    http.oauth2ResourceServer().jwt();\n  }\n}\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>spring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://auth.work.com/v1/jwk\n</code></pre>\n\n<p>External users don't have the <code>Authorization: ...</code> header in their requests, but instead have the following 2 cookies that make up the JWT:</p>\n\n<pre><code>auth.token_type = Bearer\nauth.access_token = &lt;token&gt;\n</code></pre>\n\n<p>Is there a way to extract the JWT from the cookies and validate against the auth server if the the <code>Authorization: ...</code> header is missing?\nCould I extract the cookies and add a header to the request before it tries to authorize?\nOr it could even be a second method in the authentication chain.</p>\n"},{"tags":["java","android-edittext"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1550705086,"post_id":54770385,"comment_id":96371514,"body_markdown":"Why are you calling `toString()` on a `String`?","body":"Why are you calling <code>toString()</code> on a <code>String</code>?"},{"owner":{"account_id":14636307,"reputation":21,"user_id":10570341,"display_name":"mickri1909"},"score":0,"creation_date":1550787174,"post_id":54770385,"comment_id":96410329,"body_markdown":"Because it is an EditText that needs to be casted (not sure if this is the right word) on a String","body":"Because it is an EditText that needs to be casted (not sure if this is the right word) on a String"}],"answers":[{"tags":[],"owner":{"account_id":14636307,"reputation":21,"user_id":10570341,"display_name":"mickri1909"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1550704783,"creation_date":1550704783,"answer_id":54796798,"question_id":54770385,"body_markdown":"I found a solution - though I am still not sure why it did not work.\r\nI changed the buttons into ImageButtons and suddenly it works perfectly fine.","title":"EditText.getText().toString() in a fragment returns empty","body":"<p>I found a solution - though I am still not sure why it did not work.\nI changed the buttons into ImageButtons and suddenly it works perfectly fine.</p>\n"}],"owner":{"account_id":14636307,"reputation":21,"user_id":10570341,"display_name":"mickri1909"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54796798,"answer_count":1,"score":2,"last_activity_date":1696006127,"creation_date":1550592103,"question_id":54770385,"body_markdown":"I am trying to get an EditText.getText().toString() in a fragment working, I have already read all other questions on this issue but cannot find the solution: I have the EditText.getText().toString() in the onClick method for a confirm button after inflating the view, I have checked that the id of the button is correct, but I am not finding the error.\r\nIn the logcat I can see that the method saveWord which is called after the line in question is called correctly - just the String that is supposed to be filled with the editText is always empty. If I put a hardcoded string on the variable, it works as expected.\r\n\r\nWould be very glad if anyone could help! Might be just a silly mistake I am overlooking?\r\n\r\nThis is my code:\r\n\r\n    public class BingoAddNewFragment extends Fragment {\r\n\r\n    private static final String LOG_TAG = BingoDataManager.class.getSimpleName();\r\n\r\n    View v;\r\n\r\n    public static final String DEFAULT_EDIT_FRAGMENT_TAG = &quot;editFragmentTag&quot;;\r\n\r\n    \r\n    private Button mConfirmButton;\r\n    EditText mAddWords;\r\n    \r\n    String newWord;\r\n\r\n    String bWord1 = &quot;&quot;; \r\n    String bWord2 = &quot;&quot;; \r\n    String bWord3 = &quot;&quot;; \r\n    String bWord4= &quot;&quot;; \r\n    String bWord5= &quot;&quot;; \r\n    String bWord6= &quot;&quot;; \r\n    String bWord7= &quot;&quot;; \r\n    String bWord8= &quot;&quot;; \r\n    String bWord9= &quot;&quot;; \r\n    String bWord10= &quot;&quot;; \r\n    String bWord11= &quot;&quot;; \r\n    String bWord12= &quot;&quot;; \r\n    String bWord13= &quot;&quot;; \r\n    String bWord14= &quot;&quot;; \r\n    String bWord15= &quot;&quot;; \r\n    String bWord16= &quot;&quot;; \r\n\r\n    String[] bWord = {bWord1, bWord2, bWord3, bWord4, bWord5, bWord6, bWord7, bWord8, bWord9,\r\n            bWord10, bWord11, bWord12, bWord13, bWord14, bWord15, bWord16};\r\n\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        v = inflater.inflate(R.layout.add_bingo_fragment, container, false);\r\n\r\n        //some other stuff\r\n\r\n        mConfirmButton = v.findViewById(R.id.button_confirm);\r\n\r\n        mAddWords = v.findViewById(R.id.editText_addWords);\r\n\r\n        mConfirmButton.setOnClickListener (new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                //The next line is not working (everything else seems fine) -&gt;\r\n                newWord = mAddWords.getText().toString();\r\n\r\n                Log.d(LOG_TAG, &quot;Begriff: &quot; + newWord + &quot; wird &#252;bergeben&quot;);\r\n                saveWord (newWord);\r\n\r\n            }\r\n        });\r\n\r\n        mSaveButton = v.findViewById(R.id.button_save_bingo);\r\n\r\n        mSaveButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                saveBingo();\r\n            }\r\n        });\r\n\r\n\r\n    public String[] saveWord (String newWord) {\r\n        \r\n        Log.d(LOG_TAG, &quot;Wort: &quot; + newWord + &quot; entgegengenommen.&quot;);\r\n\r\n        for (int i=0; i&lt;16; i++) {\r\n\r\n            Log.d(LOG_TAG,  &quot;i steht bei: &quot; +i);\r\n            if (bWord[i].equals(&quot;&quot;)) {\r\n                bWord[i] = newWord;\r\n                Log.d(LOG_TAG, &quot;Word als &quot; + (i+1) + &quot;. Begriff gespeichert.&quot;);\r\n                break;\r\n            }\r\n        }\r\n        return bWord;\r\n    }\r\n\r\n\r\nAnd this is an extract of my layout file:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/colorLightBlue&quot;&gt;\r\n\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/editText_addWords&quot;\r\n            android:layout_width=&quot;206dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;@string/input_word&quot;\r\n            android:inputType=&quot;textPersonName&quot;\r\n            android:textColor=&quot;@color/colorDarkBlue&quot;\r\n            android:textColorHint=&quot;@drawable/selector&quot;\r\n            android:textSize=&quot;12dp&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/button_confirm&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.31&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/editText_title&quot; /&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n\r\n","title":"EditText.getText().toString() in a fragment returns empty","body":"<p>I am trying to get an EditText.getText().toString() in a fragment working, I have already read all other questions on this issue but cannot find the solution: I have the EditText.getText().toString() in the onClick method for a confirm button after inflating the view, I have checked that the id of the button is correct, but I am not finding the error.\nIn the logcat I can see that the method saveWord which is called after the line in question is called correctly - just the String that is supposed to be filled with the editText is always empty. If I put a hardcoded string on the variable, it works as expected.</p>\n\n<p>Would be very glad if anyone could help! Might be just a silly mistake I am overlooking?</p>\n\n<p>This is my code:</p>\n\n<pre><code>public class BingoAddNewFragment extends Fragment {\n\nprivate static final String LOG_TAG = BingoDataManager.class.getSimpleName();\n\nView v;\n\npublic static final String DEFAULT_EDIT_FRAGMENT_TAG = \"editFragmentTag\";\n\n\nprivate Button mConfirmButton;\nEditText mAddWords;\n\nString newWord;\n\nString bWord1 = \"\"; \nString bWord2 = \"\"; \nString bWord3 = \"\"; \nString bWord4= \"\"; \nString bWord5= \"\"; \nString bWord6= \"\"; \nString bWord7= \"\"; \nString bWord8= \"\"; \nString bWord9= \"\"; \nString bWord10= \"\"; \nString bWord11= \"\"; \nString bWord12= \"\"; \nString bWord13= \"\"; \nString bWord14= \"\"; \nString bWord15= \"\"; \nString bWord16= \"\"; \n\nString[] bWord = {bWord1, bWord2, bWord3, bWord4, bWord5, bWord6, bWord7, bWord8, bWord9,\n        bWord10, bWord11, bWord12, bWord13, bWord14, bWord15, bWord16};\n\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    v = inflater.inflate(R.layout.add_bingo_fragment, container, false);\n\n    //some other stuff\n\n    mConfirmButton = v.findViewById(R.id.button_confirm);\n\n    mAddWords = v.findViewById(R.id.editText_addWords);\n\n    mConfirmButton.setOnClickListener (new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            //The next line is not working (everything else seems fine) -&gt;\n            newWord = mAddWords.getText().toString();\n\n            Log.d(LOG_TAG, \"Begriff: \" + newWord + \" wird √ºbergeben\");\n            saveWord (newWord);\n\n        }\n    });\n\n    mSaveButton = v.findViewById(R.id.button_save_bingo);\n\n    mSaveButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            saveBingo();\n        }\n    });\n\n\npublic String[] saveWord (String newWord) {\n\n    Log.d(LOG_TAG, \"Wort: \" + newWord + \" entgegengenommen.\");\n\n    for (int i=0; i&lt;16; i++) {\n\n        Log.d(LOG_TAG,  \"i steht bei: \" +i);\n        if (bWord[i].equals(\"\")) {\n            bWord[i] = newWord;\n            Log.d(LOG_TAG, \"Word als \" + (i+1) + \". Begriff gespeichert.\");\n            break;\n        }\n    }\n    return bWord;\n}\n</code></pre>\n\n<p>And this is an extract of my layout file:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;android.support.constraint.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@color/colorLightBlue\"&gt;\r\n\r\n\r\n    &lt;EditText\r\n        android:id=\"@+id/editText_addWords\"\r\n        android:layout_width=\"206dp\"\r\n        android:layout_height=\"40dp\"\r\n        android:layout_marginStart=\"16dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:ems=\"10\"\r\n        android:hint=\"@string/input_word\"\r\n        android:inputType=\"textPersonName\"\r\n        android:textColor=\"@color/colorDarkBlue\"\r\n        android:textColorHint=\"@drawable/selector\"\r\n        android:textSize=\"12dp\"\r\n        app:layout_constraintEnd_toStartOf=\"@+id/button_confirm\"\r\n        app:layout_constraintHorizontal_bias=\"0.31\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/editText_title\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","maven","jersey","grizzly"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1696250194,"post_id":77203536,"comment_id":136125004,"body_markdown":"Looks like the Jersey version is incompatible with the Java version you are using","body":"Looks like the Jersey version is incompatible with the Java version you are using"},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1696315755,"post_id":77203536,"comment_id":136133660,"body_markdown":"Please stop using Jersey 1.x","body":"Please stop using Jersey 1.x"}],"owner":{"account_id":2730477,"reputation":83,"user_id":2354386,"accept_rate":40,"display_name":"Ravi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696005573,"creation_date":1696005573,"question_id":77203536,"body_markdown":"I have the following pom.xml file configuration. I&#39;m new in Java and try to run a basic restful web service using Maven.\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.test.rest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;test-rest&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;test-rest&lt;/name&gt;\r\n    &lt;dependencies&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-grizzly&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- uncomment this to get JSON support: --&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n       \r\n        &lt;!-- uncomment this to get Fastinfoset support:\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-fastinfoset&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n        &lt;!-- uncomment this to get ATOM support:\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-atom&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n        &lt;!-- uncomment this to get multipart MIME types support:\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-multipart&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey-version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n           &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.grizzly&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grizzly-servlet-webserver&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.45&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n            &lt;version&gt;1.19.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;inherited&gt;true&lt;/inherited&gt;\r\n                &lt;version&gt;2.3.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;10&lt;/source&gt;\r\n                    &lt;target&gt;10&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;java&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.test.rest.Main&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;properties&gt;\r\n        &lt;jersey-version&gt;1.20-SNAPSHOT&lt;/jersey-version&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\nEverything setup, but when I  ran the local host in the browser it gave an &quot;Internal Server&quot; error.\r\n\r\nHere is the error description\r\n\r\n\r\n\r\n&gt; Sep 29, 2023 9:52:26 PM com.sun.jersey.api.core.PackagesResourceConfig\r\n&gt; init INFO: Scanning for root resource and provider classes in the\r\n&gt; packages:   com.test.rest Sep 29, 2023 9:52:26 PM\r\n&gt; com.sun.grizzly.http.servlet.ServletAdapter doService SEVERE: service\r\n&gt; exception: java.lang.IllegalArgumentException\r\n&gt;         at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\r\n&gt;         at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\r\n&gt;         at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\r\n&gt;         at com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\r\n&gt;         at com.sun.jersey.core.spi.scanning.uri.FileSchemeScanner$1.f(FileSchemeScanner.java:86)\r\n&gt;         at com.sun.jersey.core.util.Closing.f(Closing.java:71)\r\n&gt;         at com.sun.jersey.core.spi.scanning.uri.FileSchemeScanner.scanDirectory(FileSchemeScanner.java:83)\r\n&gt;         at com.sun.jersey.core.spi.scanning.uri.FileSchemeScanner.scan(FileSchemeScanner.java:71)\r\n&gt;         at com.sun.jersey.core.spi.scanning.PackageNamesScanner.scan(PackageNamesScanner.java:226)\r\n&gt;         at com.sun.jersey.core.spi.scanning.PackageNamesScanner.scan(PackageNamesScanner.java:142)\r\n&gt;         at com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\r\n&gt;         at com.sun.jersey.api.core.PackagesResourceConfig.init(PackagesResourceConfig.java:104)\r\n&gt;         at com.sun.jersey.api.core.PackagesResourceConfig.&lt;init&gt;(PackagesResourceConfig.java:78)\r\n&gt;         at com.sun.jersey.api.core.PackagesResourceConfig.&lt;init&gt;(PackagesResourceConfig.java:89)\r\n&gt;         at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:696)\r\n&gt;         at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\r\n&gt;         at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\r\n&gt;         at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\r\n&gt;         at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\r\n&gt;         at javax.servlet.GenericServlet.init(GenericServlet.java:241)\r\n&gt;         at com.sun.grizzly.http.servlet.ServletAdapter.loadServlet(ServletAdapter.java:486)\r\n&gt;         at com.sun.grizzly.http.servlet.ServletAdapter.doService(ServletAdapter.java:425)\r\n&gt;         at com.sun.grizzly.http.servlet.ServletAdapter.service(ServletAdapter.java:379)\r\n&gt;         at com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:179)\r\n&gt;         at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:849)\r\n&gt;         at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:746)\r\n&gt;         at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1045)\r\n&gt;         at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:228)\r\n&gt;         at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)\r\n&gt;         at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)\r\n&gt;         at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)\r\n&gt;         at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)\r\n&gt;         at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)\r\n&gt;         at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)\r\n&gt;         at com.sun.grizzly.ContextTask.run(ContextTask.java:71)\r\n&gt;         at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)\r\n&gt;         at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)\r\n&gt;         at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nUsed command to run project: &quot;mvn -e compile exec:java&quot;\r\nI already googled about this error but not found any working solution.\r\n\r\n","title":"Internal server error Maven web service (jersey-quickstart-grizzly template)","body":"<p>I have the following pom.xml file configuration. I'm new in Java and try to run a basic restful web service using Maven.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.test.rest&lt;/groupId&gt;\n    &lt;artifactId&gt;test-rest&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test-rest&lt;/name&gt;\n    &lt;dependencies&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-grizzly&lt;/artifactId&gt;\n            &lt;version&gt;1.19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- uncomment this to get JSON support: --&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;\n            &lt;version&gt;1.19&lt;/version&gt;\n        &lt;/dependency&gt;\n       \n        &lt;!-- uncomment this to get Fastinfoset support:\n         &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-fastinfoset&lt;/artifactId&gt;\n            &lt;version&gt;${jersey-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        --&gt;\n        &lt;!-- uncomment this to get ATOM support:\n         &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-atom&lt;/artifactId&gt;\n            &lt;version&gt;${jersey-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        --&gt;\n        &lt;!-- uncomment this to get multipart MIME types support:\n         &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-multipart&lt;/artifactId&gt;\n            &lt;version&gt;${jersey-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        --&gt;\n           &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.grizzly&lt;/groupId&gt;\n            &lt;artifactId&gt;grizzly-servlet-webserver&lt;/artifactId&gt;\n            &lt;version&gt;1.9.45&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;1.19.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;inherited&gt;true&lt;/inherited&gt;\n                &lt;version&gt;2.3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;10&lt;/source&gt;\n                    &lt;target&gt;10&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;java&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.test.rest.Main&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;properties&gt;\n        &lt;jersey-version&gt;1.20-SNAPSHOT&lt;/jersey-version&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Everything setup, but when I  ran the local host in the browser it gave an &quot;Internal Server&quot; error.</p>\n<p>Here is the error description</p>\n<blockquote>\n<p>Sep 29, 2023 9:52:26 PM com.sun.jersey.api.core.PackagesResourceConfig\ninit INFO: Scanning for root resource and provider classes in the\npackages:   com.test.rest Sep 29, 2023 9:52:26 PM\ncom.sun.grizzly.http.servlet.ServletAdapter doService SEVERE: service\nexception: java.lang.IllegalArgumentException\nat jersey.repackaged.org.objectweb.asm.ClassReader.(ClassReader.java:170)\nat jersey.repackaged.org.objectweb.asm.ClassReader.(ClassReader.java:153)\nat jersey.repackaged.org.objectweb.asm.ClassReader.(ClassReader.java:424)\nat com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\nat com.sun.jersey.core.spi.scanning.uri.FileSchemeScanner$1.f(FileSchemeScanner.java:86)\nat com.sun.jersey.core.util.Closing.f(Closing.java:71)\nat com.sun.jersey.core.spi.scanning.uri.FileSchemeScanner.scanDirectory(FileSchemeScanner.java:83)\nat com.sun.jersey.core.spi.scanning.uri.FileSchemeScanner.scan(FileSchemeScanner.java:71)\nat com.sun.jersey.core.spi.scanning.PackageNamesScanner.scan(PackageNamesScanner.java:226)\nat com.sun.jersey.core.spi.scanning.PackageNamesScanner.scan(PackageNamesScanner.java:142)\nat com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\nat com.sun.jersey.api.core.PackagesResourceConfig.init(PackagesResourceConfig.java:104)\nat com.sun.jersey.api.core.PackagesResourceConfig.(PackagesResourceConfig.java:78)\nat com.sun.jersey.api.core.PackagesResourceConfig.(PackagesResourceConfig.java:89)\nat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:696)\nat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\nat com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\nat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\nat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\nat javax.servlet.GenericServlet.init(GenericServlet.java:241)\nat com.sun.grizzly.http.servlet.ServletAdapter.loadServlet(ServletAdapter.java:486)\nat com.sun.grizzly.http.servlet.ServletAdapter.doService(ServletAdapter.java:425)\nat com.sun.grizzly.http.servlet.ServletAdapter.service(ServletAdapter.java:379)\nat com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:179)\nat com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:849)\nat com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:746)\nat com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1045)\nat com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:228)\nat com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)\nat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)\nat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)\nat com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)\nat com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)\nat com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)\nat com.sun.grizzly.ContextTask.run(ContextTask.java:71)\nat com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)\nat com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n</blockquote>\n<p>Used command to run project: &quot;mvn -e compile exec:java&quot;\nI already googled about this error but not found any working solution.</p>\n"},{"tags":["java","jsp","jetty","handler"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1421936374,"creation_date":1421936374,"answer_id":28091005,"question_id":28088726,"body_markdown":"When you work with servlets, there is always a termination at the end of the servlet chain.  \r\n\r\nIt would be either:\r\n\r\n * the [`DefaultServlet`][1] (when working with a full `WebAppContext`)\r\n * the [`Default404Servlet`][2] (when working with simpler setups like `ServletContextHandler`)\r\n\r\nIf all you want the `ResourceHandler` for is serving static content, use the `DefaultServlet` for your own purposes (its a better choice and supports more functionality as well. such as range requests, caching, auto-gzip, memory-mapped file serving, etc)\r\n\r\nExample:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package jetty;\r\n     \r\n    import org.eclipse.jetty.server.Server;\r\n    import org.eclipse.jetty.server.ServerConnector;\r\n    import org.eclipse.jetty.servlet.DefaultServlet;\r\n    import org.eclipse.jetty.servlet.ServletContextHandler;\r\n    import org.eclipse.jetty.servlet.ServletHolder;\r\n     \r\n    public class ManyDefaultServlet\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            System.setProperty(&quot;org.eclipse.jetty.servlet.LEVEL&quot;,&quot;DEBUG&quot;);\r\n            \r\n            Server server = new Server();\r\n            ServerConnector connector = new ServerConnector(server);\r\n            connector.setPort(8080);\r\n            server.addConnector(connector);\r\n     \r\n            // Setup the basic application &quot;context&quot; for this application at &quot;/&quot;\r\n            // This is also known as the handler tree (in jetty speak)\r\n            ServletContextHandler context = new ServletContextHandler(ServletContextHandler.SESSIONS);\r\n            context.setContextPath(&quot;/&quot;);\r\n            server.setHandler(context);\r\n     \r\n            // The filesystem paths we will map\r\n            String homePath = System.getProperty(&quot;user.home&quot;);\r\n            String pwdPath = System.getProperty(&quot;user.dir&quot;);\r\n     \r\n            // Fist, add special pathspec of &quot;/home/&quot; content mapped to the homePath\r\n            ServletHolder holderHome = new ServletHolder(&quot;static-home&quot;, DefaultServlet.class);\r\n            holderHome.setInitParameter(&quot;resourceBase&quot;,homePath);\r\n            holderHome.setInitParameter(&quot;dirAllowed&quot;,&quot;true&quot;);\r\n            holderHome.setInitParameter(&quot;pathInfoOnly&quot;,&quot;true&quot;);\r\n            context.addServlet(holderHome,&quot;/home/*&quot;);\r\n     \r\n            // Lastly, the default servlet for root content\r\n            // It is important that this is last.\r\n            ServletHolder holderPwd = new ServletHolder(&quot;default&quot;, DefaultServlet.class);\r\n            holderPwd.setInitParameter(&quot;resourceBase&quot;,pwdPath);\r\n            holderPwd.setInitParameter(&quot;dirAllowed&quot;,&quot;true&quot;);\r\n            context.addServlet(holderPwd,&quot;/&quot;);\r\n            \r\n            try\r\n            {\r\n                server.start();\r\n                server.dump(System.err);\r\n                server.join();\r\n            }\r\n            catch (Throwable t)\r\n            {\r\n                t.printStackTrace(System.err);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://download.eclipse.org/jetty/stable-9/apidocs/org/eclipse/jetty/servlet/DefaultServlet.html\r\n  [2]: http://download.eclipse.org/jetty/stable-9/apidocs/org/eclipse/jetty/servlet/ServletHandler.Default404Servlet.html","title":"How do I configure multiple Jetty Handlers?","body":"<p>When you work with servlets, there is always a termination at the end of the servlet chain.  </p>\n\n<p>It would be either:</p>\n\n<ul>\n<li>the <a href=\"http://download.eclipse.org/jetty/stable-9/apidocs/org/eclipse/jetty/servlet/DefaultServlet.html\" rel=\"noreferrer\"><code>DefaultServlet</code></a> (when working with a full <code>WebAppContext</code>)</li>\n<li>the <a href=\"http://download.eclipse.org/jetty/stable-9/apidocs/org/eclipse/jetty/servlet/ServletHandler.Default404Servlet.html\" rel=\"noreferrer\"><code>Default404Servlet</code></a> (when working with simpler setups like <code>ServletContextHandler</code>)</li>\n</ul>\n\n<p>If all you want the <code>ResourceHandler</code> for is serving static content, use the <code>DefaultServlet</code> for your own purposes (its a better choice and supports more functionality as well. such as range requests, caching, auto-gzip, memory-mapped file serving, etc)</p>\n\n<p>Example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package jetty;\n\nimport org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.server.ServerConnector;\nimport org.eclipse.jetty.servlet.DefaultServlet;\nimport org.eclipse.jetty.servlet.ServletContextHandler;\nimport org.eclipse.jetty.servlet.ServletHolder;\n\npublic class ManyDefaultServlet\n{\n    public static void main(String[] args)\n    {\n        System.setProperty(\"org.eclipse.jetty.servlet.LEVEL\",\"DEBUG\");\n\n        Server server = new Server();\n        ServerConnector connector = new ServerConnector(server);\n        connector.setPort(8080);\n        server.addConnector(connector);\n\n        // Setup the basic application \"context\" for this application at \"/\"\n        // This is also known as the handler tree (in jetty speak)\n        ServletContextHandler context = new ServletContextHandler(ServletContextHandler.SESSIONS);\n        context.setContextPath(\"/\");\n        server.setHandler(context);\n\n        // The filesystem paths we will map\n        String homePath = System.getProperty(\"user.home\");\n        String pwdPath = System.getProperty(\"user.dir\");\n\n        // Fist, add special pathspec of \"/home/\" content mapped to the homePath\n        ServletHolder holderHome = new ServletHolder(\"static-home\", DefaultServlet.class);\n        holderHome.setInitParameter(\"resourceBase\",homePath);\n        holderHome.setInitParameter(\"dirAllowed\",\"true\");\n        holderHome.setInitParameter(\"pathInfoOnly\",\"true\");\n        context.addServlet(holderHome,\"/home/*\");\n\n        // Lastly, the default servlet for root content\n        // It is important that this is last.\n        ServletHolder holderPwd = new ServletHolder(\"default\", DefaultServlet.class);\n        holderPwd.setInitParameter(\"resourceBase\",pwdPath);\n        holderPwd.setInitParameter(\"dirAllowed\",\"true\");\n        context.addServlet(holderPwd,\"/\");\n\n        try\n        {\n            server.start();\n            server.dump(System.err);\n            server.join();\n        }\n        catch (Throwable t)\n        {\n            t.printStackTrace(System.err);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5666468,"reputation":33,"user_id":4482526,"accept_rate":25,"display_name":"Abderrahmane Boulgheraif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4093,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28091005,"answer_count":1,"score":1,"last_activity_date":1696004873,"creation_date":1421929499,"question_id":28088726,"body_markdown":"I am encountering a problem with setting up the handlers for my web application, what I want is: Having some requests handled by an `HTTPServlet` with `doGet` and `doPost` methods (how can I load JSP pages from within these methods?) and also be able to load static content (html, JS, CSS).\r\n\r\nThe way I&#39;m setting it right now, I can only have one or the other, I cannot get both working.\r\n\r\n \r\nI will explain:\r\n\r\n    Server server = new Server(5000);\r\n    \r\n    // This is the resource handler for JS &amp; CSS\r\n    \r\n    ResourceHandler resourceHandler = new ResourceHandler();\r\n    \r\n    resourceHandler.setResourceBase(&quot;.&quot;);\r\n    \r\n    resourceHandler.setDirectoriesListed(false);\r\n    \r\n    // This is the context handler for the HTTPServlet\r\n    \r\n    ServletContextHandler context = new ServletContextHandler(ServletContextHandler.SESSIONS);\r\n    \r\n    context.setContextPath(&quot;/&quot;);\r\n    \r\n    context.addServlet(new ServletHolder(new Main()),&quot;/*&quot;);\r\n    \r\n    // this is the Handler list for both handlers\r\n    \r\n    HandlerList handlerList = new HandlerList();\r\n    \r\n    handlerList.setHandlers(new Handler[] { context ,resourceHandler});\r\n    \r\n    /*\r\n    \r\n       If I add them in this order,\r\n       all requests will be handled by the &quot;context&quot; and no static resource is loaded\r\n    \r\n       If I invert the order, the index page page is loaded by the resource handler, which means,\r\n       If I activate directory listings, it gives me a list of all directories, otherwise it&#39;s just a blank page\r\n    \r\n       I tried working with a WebAppContext to load JSP pages\r\n       but I still had some problems with which handler should handle which requests\r\n    */\r\n    \r\n    server.setHandler(handlerList);\r\n    \r\n    server.start();\r\n    \r\n    server.join();\r\n\r\n\r\n---\r\n\r\nThe problem I have is that my HTTP servlet behaves in the following way: \r\nHandles all requests leaving nothing for the resource handler, so when a script requests a `.js` script, it returns an empty HTML page instead.\r\nHere is an example:\r\n\r\n\r\n    WebAppContext root = new WebAppContext();\r\n\r\n    root.setParentLoaderPriority(true);\r\n    root.setContextPath(&quot;/&quot;);\r\n    root.setResourceBase(&quot;.&quot;);\r\n    root.setWelcomeFiles(new String[] {&quot;test.jsp&quot;});\r\n    root.addServlet(new ServletHolder(new Main()),&quot;/*&quot;);\r\n   \r\n    HandlerList handlerList = new HandlerList();\r\n    handlerList.setHandlers(new Handler[] { root });\r\n\r\nIn this example, when using the root handler without the `Main` servlet, It loads all static content and jsp pages, but when adding the main servlet, it no longer loads any static content, and responds to all request for static content with an empty HTML page.\r\n","title":"How do I configure multiple Jetty Handlers?","body":"<p>I am encountering a problem with setting up the handlers for my web application, what I want is: Having some requests handled by an <code>HTTPServlet</code> with <code>doGet</code> and <code>doPost</code> methods (how can I load JSP pages from within these methods?) and also be able to load static content (html, JS, CSS).</p>\n<p>The way I'm setting it right now, I can only have one or the other, I cannot get both working.</p>\n<p>I will explain:</p>\n<pre><code>Server server = new Server(5000);\n\n// This is the resource handler for JS &amp; CSS\n\nResourceHandler resourceHandler = new ResourceHandler();\n\nresourceHandler.setResourceBase(&quot;.&quot;);\n\nresourceHandler.setDirectoriesListed(false);\n\n// This is the context handler for the HTTPServlet\n\nServletContextHandler context = new ServletContextHandler(ServletContextHandler.SESSIONS);\n\ncontext.setContextPath(&quot;/&quot;);\n\ncontext.addServlet(new ServletHolder(new Main()),&quot;/*&quot;);\n\n// this is the Handler list for both handlers\n\nHandlerList handlerList = new HandlerList();\n\nhandlerList.setHandlers(new Handler[] { context ,resourceHandler});\n\n/*\n\n   If I add them in this order,\n   all requests will be handled by the &quot;context&quot; and no static resource is loaded\n\n   If I invert the order, the index page page is loaded by the resource handler, which means,\n   If I activate directory listings, it gives me a list of all directories, otherwise it's just a blank page\n\n   I tried working with a WebAppContext to load JSP pages\n   but I still had some problems with which handler should handle which requests\n*/\n\nserver.setHandler(handlerList);\n\nserver.start();\n\nserver.join();\n</code></pre>\n<hr />\n<p>The problem I have is that my HTTP servlet behaves in the following way:\nHandles all requests leaving nothing for the resource handler, so when a script requests a <code>.js</code> script, it returns an empty HTML page instead.\nHere is an example:</p>\n<pre><code>WebAppContext root = new WebAppContext();\n\nroot.setParentLoaderPriority(true);\nroot.setContextPath(&quot;/&quot;);\nroot.setResourceBase(&quot;.&quot;);\nroot.setWelcomeFiles(new String[] {&quot;test.jsp&quot;});\nroot.addServlet(new ServletHolder(new Main()),&quot;/*&quot;);\n\nHandlerList handlerList = new HandlerList();\nhandlerList.setHandlers(new Handler[] { root });\n</code></pre>\n<p>In this example, when using the root handler without the <code>Main</code> servlet, It loads all static content and jsp pages, but when adding the main servlet, it no longer loads any static content, and responds to all request for static content with an empty HTML page.</p>\n"},{"tags":["java","multithreading","project-loom"],"comments":[{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":2,"creation_date":1651687388,"post_id":72116652,"comment_id":127424657,"body_markdown":"Maybe check out this: https://stackoverflow.com/a/65217077/12323248","body":"Maybe check out this: <a href=\"https://stackoverflow.com/a/65217077/12323248\">stackoverflow.com/a/65217077/12323248</a>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":3,"creation_date":1651687864,"post_id":72116652,"comment_id":127424828,"body_markdown":"Or maybe this: https://www.baeldung.com/java-virtual-thread-vs-thread I don&#39;t know project loom, but it looks like &quot;virtual&quot; threads are mostly just another incarnation of &quot;green&quot; threads or &quot;user-mode&quot; threads or &quot;lightweight&quot; threads or whatever you want to call them. Just guessing (hence, not an actual answer) but if your program needs hundreds of threads, and your platform only has tens of processors, then you might get a performance advantage by using a pool of tens of OS threads to run your hundreds of &quot;virtual&quot; threads.","body":"Or maybe this: <a href=\"https://www.baeldung.com/java-virtual-thread-vs-thread\" rel=\"nofollow noreferrer\">baeldung.com/java-virtual-thread-vs-thread</a> I don&#39;t know project loom, but it looks like &quot;virtual&quot; threads are mostly just another incarnation of &quot;green&quot; threads or &quot;user-mode&quot; threads or &quot;lightweight&quot; threads or whatever you want to call them. Just guessing (hence, not an actual answer) but if your program needs hundreds of threads, and your platform only has tens of processors, then you might get a performance advantage by using a pool of tens of OS threads to run your hundreds of &quot;virtual&quot; threads."},{"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"score":0,"creation_date":1651689157,"post_id":72116652,"comment_id":127425227,"body_markdown":"It seems that both articles emphasize on the context switching","body":"It seems that both articles emphasize on the context switching"},{"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"score":0,"creation_date":1651690364,"post_id":72116652,"comment_id":127425632,"body_markdown":"A nice discussion formed here https://www.reddit.com/r/java/comments/uiaie9/what_are_project_looms_virtual_thread_main/","body":"A nice discussion formed here <a href=\"https://www.reddit.com/r/java/comments/uiaie9/what_are_project_looms_virtual_thread_main/\" rel=\"nofollow noreferrer\">reddit.com/r/java/comments/uiaie9/&hellip;</a>"},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":1,"creation_date":1651696088,"post_id":72116652,"comment_id":127427444,"body_markdown":"*What exactly makes virtual threads better* Why do you make that conclusion?  [Sun Microsystems dropped user-space threads almost 20 years ago](https://web.archive.org/web/20090327002504/http://www.sun.com/software/whitepapers/solaris9/multithread.pdf)  Also see https://www.reddit.com/r/ProgrammingLanguages/comments/6mm4v1/what_are_the_disadvantages_of_an_mn_threading/?ref=share&amp;ref_source=link  Bottom line:  if user-space threads are so good, OSes would use them.","body":"<i>What exactly makes virtual threads better</i> Why do you make that conclusion?  <a href=\"https://web.archive.org/web/20090327002504/http://www.sun.com/software/whitepapers/solaris9/multithread.pdf\" rel=\"nofollow noreferrer\">Sun Microsystems dropped user-space threads almost 20 years ago</a>  Also see <a href=\"https://www.reddit.com/r/ProgrammingLanguages/comments/6mm4v1/what_are_the_disadvantages_of_an_mn_threading/?ref=share&amp;ref_source=link\" rel=\"nofollow noreferrer\">reddit.com/r/ProgrammingLanguages/comments/6mm4v1/&hellip;</a>  Bottom line:  if user-space threads are so good, OSes would use them."},{"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"score":0,"creation_date":1651696465,"post_id":72116652,"comment_id":127427546,"body_markdown":"That is an interesting point that I rarely see in Loom related discussions. 1:1 model was dominant to this point, I guess CPU started to improve slower and can no longer keep up with the demand of the cloud applications","body":"That is an interesting point that I rarely see in Loom related discussions. 1:1 model was dominant to this point, I guess CPU started to improve slower and can no longer keep up with the demand of the cloud applications"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1651704991,"post_id":72116652,"comment_id":127429560,"body_markdown":"Several of the comments here are incorrect, uneducated, and wild guesses. I suggest you listen to the people who actually know the subject: members of the Project Loom team. These include **Ron Pressler** and **Alan Bateman**, etc. They have given in-depth presentations and interviews, with videos available from YouTube, etc. Those videos address all the issues raised here, but with accurate facts instead of speculation and misunderstandings.","body":"Several of the comments here are incorrect, uneducated, and wild guesses. I suggest you listen to the people who actually know the subject: members of the Project Loom team. These include <b>Ron Pressler</b> and <b>Alan Bateman</b>, etc. They have given in-depth presentations and interviews, with videos available from YouTube, etc. Those videos address all the issues raised here, but with accurate facts instead of speculation and misunderstandings."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1651778504,"post_id":72116652,"comment_id":127450657,"body_markdown":"This question and now answer appears to be nothing more than an attempt to push an opinion.","body":"This question and now answer appears to be nothing more than an attempt to push an opinion."},{"owner":{"account_id":953149,"reputation":177293,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":1,"creation_date":1652164601,"post_id":72116652,"comment_id":127533208,"body_markdown":"Related: https://stackoverflow.com/q/9964899/978917 . (That one isn&#39;t specific to Java -- it long predates Project Loom -- but I think it&#39;s still very relevant.)","body":"Related: <a href=\"https://stackoverflow.com/q/9964899/978917\">stackoverflow.com/q/9964899/978917</a> . (That one isn&#39;t specific to Java -- it long predates Project Loom -- but I think it&#39;s still very relevant.)"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1655363197,"post_id":72116652,"comment_id":128315929,"body_markdown":"Nothing. It just shifts the pain points to somewhere else and has its own (not so widely advertised) pitfalls. Yes you can write &quot;good looking&quot; imperative code but coordination becomes very convoluted (hence they needed to introduce structured concurrency). Also Windows has no async file IO so they fake it with extra background platform threads. Lastly, try debugging 1 million virtual threads at once.","body":"Nothing. It just shifts the pain points to somewhere else and has its own (not so widely advertised) pitfalls. Yes you can write &quot;good looking&quot; imperative code but coordination becomes very convoluted (hence they needed to introduce structured concurrency). Also Windows has no async file IO so they fake it with extra background platform threads. Lastly, try debugging 1 million virtual threads at once."}],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1662655037,"creation_date":1662654232,"answer_id":73652301,"question_id":72116652,"body_markdown":"One big advantage of coroutines (so virtual threads) is that they can generate high levels of concurrency without the drawback of callbacks.\r\n\r\nlet me first introduce Little&#39;s Law:\r\n\r\n```\r\nconcurrency = arrival_rate * latency\r\n```\r\nAnd we can rewrite this to:\r\n```\r\narrival_rate = concurrency/latency\r\n```\r\nIn a stable system, the arrival rate equals throughput.\r\n```\r\nthroughput = concurrency/latency\r\n```\r\n\r\nTo increase throughput, you have 2 options:\r\n\r\n 1. decrease latency; which typically is very hard since you have little influence on how much time a remote call or a request to disk takes.\r\n 2. increase concurrency\r\n\r\nWith regular threads, it is difficult to reach high levels of concurrency with blocking calls due to context switch overhead. Requests can be issued asynchronously in some cases (e.g. NIO + Epoll or Netty io_uring binding), but then you need to deal with callbacks and callback hell. \r\n\r\nWith a virtual thread, the request can be issued asynchronously and park the virtual thread and schedule another virtual thread. Once the response is received, the virtual thread is rescheduled and this is done completely transparently. The programming model is much more intuitive than using classic threads and callbacks.","title":"What exactly makes Java Virtual Threads better","body":"<p>One big advantage of coroutines (so virtual threads) is that they can generate high levels of concurrency without the drawback of callbacks.</p>\n<p>let me first introduce Little's Law:</p>\n<pre><code>concurrency = arrival_rate * latency\n</code></pre>\n<p>And we can rewrite this to:</p>\n<pre><code>arrival_rate = concurrency/latency\n</code></pre>\n<p>In a stable system, the arrival rate equals throughput.</p>\n<pre><code>throughput = concurrency/latency\n</code></pre>\n<p>To increase throughput, you have 2 options:</p>\n<ol>\n<li>decrease latency; which typically is very hard since you have little influence on how much time a remote call or a request to disk takes.</li>\n<li>increase concurrency</li>\n</ol>\n<p>With regular threads, it is difficult to reach high levels of concurrency with blocking calls due to context switch overhead. Requests can be issued asynchronously in some cases (e.g. NIO + Epoll or Netty io_uring binding), but then you need to deal with callbacks and callback hell.</p>\n<p>With a virtual thread, the request can be issued asynchronously and park the virtual thread and schedule another virtual thread. Once the response is received, the virtual thread is rescheduled and this is done completely transparently. The programming model is much more intuitive than using classic threads and callbacks.</p>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1665415766,"creation_date":1664264095,"answer_id":73863928,"question_id":72116652,"body_markdown":"**Virtual threads are wrapped upon **platform threads**, so you may consider them an **illusion** that JVM provides, the whole idea is to make lifecycle of threads to [CPU bound][1] operations.**\r\n\r\n&gt; What exactly makes Java Virtual Threads better ?\r\n\r\n**Virtual threads advantages** \r\n\r\n - exhibits exact the same behavior as platform threads.\r\n - disposable and can be scaled to millions.\r\n - much more lightweight than platform threads.\r\n - fast creation time, as fast as creating string object.\r\n - the JVM does delimited continuation on IO operations, no IO for\r\n   virtual threads.\r\n - yet can have the sequential code as previous but way more effective.\r\n - the JVM gives an illusion of virtual threads, underneath whole story\r\n   goes on platform threads.\r\n - Just with usage of virtual thread CPU core become much more concurrent, the combination of virtual threads and multi core CPU with ComputableFutures to parallelized code is very powerful\r\n\r\n**Virtual threads usage cautions**\r\n\r\n - Don not use monitor i.e the synchronized block, however this will fix in new release of JDK&#39;s, an alternative to do so is to use &#39;ReentrantLock&#39; with try-final statement.\r\n\r\n - Blocking with native frames on stack, JNI&#39;s. its very rare\r\n - Control memory per stack (reduce thread locales and no deep recursion)\r\n - Monitoring tools not updated yet like debuggers, JConsole, VisualVM etc\r\n\r\n\r\n\r\n - Platform Threads versus Virtual threads. Platform threads take OS\r\n   threads hostage in IO based tasks and operations limited to number of\r\n   applicable threads with in thread pool and OS threads, by default\r\n   they are non Daemon threads\r\n\r\n - Virtual threads are implemented with JVM, in CPU bound operations the\r\n   associated to platform threads and retuning them to thread pool,\r\n   after IO bound operation finished a new thread will be called from\r\n   thread pool, so no hostage in this case.\r\n\r\n\r\n**Fourth level architecture to have better understanding.**\r\n\r\n[![enter image description here][2]][2]\r\n\r\nCPU\r\n - Multicore CPU multicores with in cpu executing operations.\r\n\r\nOS\r\n - OS threads the OS scheduler allocating cpu time to engaged OS\r\n   threads.\r\n\r\nJVM\r\n\r\n - platform threads are wrapped totally upon OS threads with both task\r\n   operations\r\n - virtual threads are associated to platform threads in each CPU bound\r\n   operation, each virtual thread can be associated with multiple\r\n   platform threads as different times.\r\n\r\n\r\n**Virtual threads with Executer service**\r\n - More effective to use executer service cause it associated to thread pool an limited to applicable threads with it, however in compare of virtual threads, with Executer service and virtual contained we do not ned to handle or manage the associated thread pool.\r\n\r\n        try(ExecutorService service = Executors.newVirtualThreadPerTaskExecutor()) {\r\n            service.submit(ExecutorServiceVirtualThread::taskOne);\r\n            service.submit(ExecutorServiceVirtualThread::taskTwo);\r\n        }\r\n\r\n - Executer service implements Auto Closable interface in JDK 19, thus when used with in &#39;try with resource&#39;, once it reach to end of &#39;try&#39; block the &#39;close&#39; api being called, alternatively main thread will wait till all submitted task with their dedicated virtual threads finish their lifecycle and associated thread pool being shutdown.\r\n\r\n        ThreadFactory factory = Thread.ofVirtual().name(&quot;user thread-&quot;, 0).factory();\r\n        try(ExecutorService service = Executors.newThreadPerTaskExecutor(factory)) {\r\n            service.submit(ExecutorServiceThreadFactory::taskOne);\r\n            service.submit(ExecutorServiceThreadFactory::taskTwo);\r\n        }\r\n\r\n - Executer service can be created with virtual thread factory as well, just putting thread factory with it constructor argument.\r\n\r\n - Can benefits features of Executer service like Future and Completable Future.\r\n\r\n\r\nFind more on [JEP-425][3]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/CPU-bound\r\n  [2]: https://i.stack.imgur.com/dNy24.png\r\n  [3]: https://openjdk.org/jeps/425","title":"What exactly makes Java Virtual Threads better","body":"<p><strong>Virtual threads are wrapped upon <strong>platform threads</strong>, so you may consider them an <strong>illusion</strong> that JVM provides, the whole idea is to make lifecycle of threads to <a href=\"https://en.wikipedia.org/wiki/CPU-bound\" rel=\"noreferrer\">CPU bound</a> operations.</strong></p>\n<blockquote>\n<p>What exactly makes Java Virtual Threads better ?</p>\n</blockquote>\n<p><strong>Virtual threads advantages</strong></p>\n<ul>\n<li>exhibits exact the same behavior as platform threads.</li>\n<li>disposable and can be scaled to millions.</li>\n<li>much more lightweight than platform threads.</li>\n<li>fast creation time, as fast as creating string object.</li>\n<li>the JVM does delimited continuation on IO operations, no IO for\nvirtual threads.</li>\n<li>yet can have the sequential code as previous but way more effective.</li>\n<li>the JVM gives an illusion of virtual threads, underneath whole story\ngoes on platform threads.</li>\n<li>Just with usage of virtual thread CPU core become much more concurrent, the combination of virtual threads and multi core CPU with ComputableFutures to parallelized code is very powerful</li>\n</ul>\n<p><strong>Virtual threads usage cautions</strong></p>\n<ul>\n<li><p>Don not use monitor i.e the synchronized block, however this will fix in new release of JDK's, an alternative to do so is to use 'ReentrantLock' with try-final statement.</p>\n</li>\n<li><p>Blocking with native frames on stack, JNI's. its very rare</p>\n</li>\n<li><p>Control memory per stack (reduce thread locales and no deep recursion)</p>\n</li>\n<li><p>Monitoring tools not updated yet like debuggers, JConsole, VisualVM etc</p>\n</li>\n<li><p>Platform Threads versus Virtual threads. Platform threads take OS\nthreads hostage in IO based tasks and operations limited to number of\napplicable threads with in thread pool and OS threads, by default\nthey are non Daemon threads</p>\n</li>\n<li><p>Virtual threads are implemented with JVM, in CPU bound operations the\nassociated to platform threads and retuning them to thread pool,\nafter IO bound operation finished a new thread will be called from\nthread pool, so no hostage in this case.</p>\n</li>\n</ul>\n<p><strong>Fourth level architecture to have better understanding.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/dNy24.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dNy24.png\" alt=\"enter image description here\" /></a></p>\n<p>CPU</p>\n<ul>\n<li>Multicore CPU multicores with in cpu executing operations.</li>\n</ul>\n<p>OS</p>\n<ul>\n<li>OS threads the OS scheduler allocating cpu time to engaged OS\nthreads.</li>\n</ul>\n<p>JVM</p>\n<ul>\n<li>platform threads are wrapped totally upon OS threads with both task\noperations</li>\n<li>virtual threads are associated to platform threads in each CPU bound\noperation, each virtual thread can be associated with multiple\nplatform threads as different times.</li>\n</ul>\n<p><strong>Virtual threads with Executer service</strong></p>\n<ul>\n<li><p>More effective to use executer service cause it associated to thread pool an limited to applicable threads with it, however in compare of virtual threads, with Executer service and virtual contained we do not ned to handle or manage the associated thread pool.</p>\n<pre><code> try(ExecutorService service = Executors.newVirtualThreadPerTaskExecutor()) {\n     service.submit(ExecutorServiceVirtualThread::taskOne);\n     service.submit(ExecutorServiceVirtualThread::taskTwo);\n }\n</code></pre>\n</li>\n<li><p>Executer service implements Auto Closable interface in JDK 19, thus when used with in 'try with resource', once it reach to end of 'try' block the 'close' api being called, alternatively main thread will wait till all submitted task with their dedicated virtual threads finish their lifecycle and associated thread pool being shutdown.</p>\n<pre><code> ThreadFactory factory = Thread.ofVirtual().name(&quot;user thread-&quot;, 0).factory();\n try(ExecutorService service = Executors.newThreadPerTaskExecutor(factory)) {\n     service.submit(ExecutorServiceThreadFactory::taskOne);\n     service.submit(ExecutorServiceThreadFactory::taskTwo);\n }\n</code></pre>\n</li>\n<li><p>Executer service can be created with virtual thread factory as well, just putting thread factory with it constructor argument.</p>\n</li>\n<li><p>Can benefits features of Executer service like Future and Completable Future.</p>\n</li>\n</ul>\n<p>Find more on <a href=\"https://openjdk.org/jeps/425\" rel=\"noreferrer\">JEP-425</a></p>\n"},{"tags":[],"owner":{"account_id":179957,"reputation":1300,"user_id":412965,"display_name":"raiks"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1665052350,"creation_date":1665052350,"answer_id":73972375,"question_id":72116652,"body_markdown":"Sometimes people have to build systems able to handle an enormous number of simultaneous clients. Native threads are inadequate means for doing that due to RAM consumption and context switching costs.\r\n\r\n*Virtual threads give us an ability to run millions of I/O bound tasks simultaneously without changing our mental model.*\r\n\r\nThat&#39;s why Golang made its way into the industry (besides Google support). Goroutines are a concept very similar to Java&#39;s virtual threads and they solve the same problem.\r\n\r\nThere are other ways to achieve what virtual thread do (such as NIO and the related Reactor pattern). This, however, entails using message loops and callbacks which warp your mind (that&#39;s why so many people hate JavaScript). There are layers of abstractions on top of them making things a bit easier but they also have a cost.","title":"What exactly makes Java Virtual Threads better","body":"<p>Sometimes people have to build systems able to handle an enormous number of simultaneous clients. Native threads are inadequate means for doing that due to RAM consumption and context switching costs.</p>\n<p><em>Virtual threads give us an ability to run millions of I/O bound tasks simultaneously without changing our mental model.</em></p>\n<p>That's why Golang made its way into the industry (besides Google support). Goroutines are a concept very similar to Java's virtual threads and they solve the same problem.</p>\n<p>There are other ways to achieve what virtual thread do (such as NIO and the related Reactor pattern). This, however, entails using message loops and callbacks which warp your mind (that's why so many people hate JavaScript). There are layers of abstractions on top of them making things a bit easier but they also have a cost.</p>\n"},{"tags":[],"owner":{"account_id":4051354,"reputation":31,"user_id":3330802,"display_name":"gbburkhardt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696004669,"creation_date":1696004669,"answer_id":77203444,"question_id":72116652,"body_markdown":"Sure wish folks would state which OS they&#39;re talking about.  I strongly suspect that Java threads have a performance advantage on Windows, but not on Linux.","title":"What exactly makes Java Virtual Threads better","body":"<p>Sure wish folks would state which OS they're talking about.  I strongly suspect that Java threads have a performance advantage on Windows, but not on Linux.</p>\n"}],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4165,"favorite_count":0,"down_vote_count":3,"up_vote_count":24,"answer_count":4,"score":21,"last_activity_date":1696004669,"creation_date":1651682904,"question_id":72116652,"body_markdown":"I am pretty hyped for Project Loom, but there is one thing that I can&#39;t fully understand.\r\n\r\nMost Java servers use thread pools with a certain limit of threads (200, 300 ..), however, you are not limited by the OS to spawn many more, I&#39;ve read that with special configurations for Linux you can reach huge numbers.\r\n\r\nOS threads are more expensive and they are slower to start/stop, have to deal with context switching (magnified by their number) and you are dependent on the OS which might refuse to give you more threads.\r\n\r\nHaving said that virtual threads also consume similar amounts of memory (or at least that is what I understood). With Loom we get tail-call optimizations which should reduce memory usage. Also, synchronization and thread context copy should still be a problem of a similar size.\r\n\r\nIndeed you are able to spawn millions of Virtual Threads\r\n\r\n    public static void main(String[] args) {\r\n        for (int i = 0; i &lt; 1_000_000; i++) {\r\n            Thread.startVirtualThread(() -&gt; {\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nthe code above breaks at around 25k with an OOM exception when I use Platform threads.\r\n\r\nMy question is what exactly makes these threads so light, what is preventing us from spawning 1 million platform threads and working with them, is it only the context switching that makes the regular threads so &quot;heavy&quot;.\r\n\r\nOne very similar [question][1]\r\n\r\nThings I found so far:\r\n\r\n - **Context Switching is expensive**. Generally speaking even in the ideal case where the OS knows how the threads would behave it will still have to give each thread an equal chance to execute, given they have the same priority. If we spawn 10k OS threads it will have to constantly switch between them and this task alone can occupy up to 80% of the CPU time in some cases, so we have to be very careful with the numbers. With Virtual Threads, context switching is done by the JVM which makes it basically free\r\n - **Cheap start/stop**. When we interrupt a thread we essentially tell the task,  &quot;Kill the OS thread you are running on&quot;. However if for example, that thread is in a thread pool, by the time we are asking, the thread might be released by the current task and then given to another and the other task might get the interruption signal. This makes the interruption process quite complex. Virtual Threads are simply objects that live in the heap, we can just let the GC collect them in the background \r\n - **Hard upper limits** (tens of thousands at most) of threads, due to how the OS handles them. The OS can‚Äôt be fine-tuned to the specific applications and programming language so it has to prepare for the worst-case scenario memory-wise. It has to allocate more memory that will actually be used to accommodate all needs. While doing all of this it has to ensure that the vital OS processes are still working. With VT you are only limited by the memory which is cheap\r\n - **Thread that performs a transaction behaves very differently than a Thread that does video processing**, again the OS has to prepare for the worst-case scenario and accommodate both cases the best way it can, which means we get suboptimal performance in most cases. Since VT are spawned and managed by Java itself, this allows for complete control over them and task-specific optimizations that are not bound to the OS\r\n - **Resizable stack**. The OS gives Threads a big stack to fit all use cases, Virtual Threads have a resizable stack that lives in the heap space, it is dynamically resized to fit the problem which makes it smaller\r\n- **Smaller metadata size**. Platform threads use 1MB as mentioned above, whereas Virtual Threads need 200-300 bytes to store their metadata\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9964899/why-are-os-threads-considered-expensive","title":"What exactly makes Java Virtual Threads better","body":"<p>I am pretty hyped for Project Loom, but there is one thing that I can't fully understand.</p>\n<p>Most Java servers use thread pools with a certain limit of threads (200, 300 ..), however, you are not limited by the OS to spawn many more, I've read that with special configurations for Linux you can reach huge numbers.</p>\n<p>OS threads are more expensive and they are slower to start/stop, have to deal with context switching (magnified by their number) and you are dependent on the OS which might refuse to give you more threads.</p>\n<p>Having said that virtual threads also consume similar amounts of memory (or at least that is what I understood). With Loom we get tail-call optimizations which should reduce memory usage. Also, synchronization and thread context copy should still be a problem of a similar size.</p>\n<p>Indeed you are able to spawn millions of Virtual Threads</p>\n<pre><code>public static void main(String[] args) {\n    for (int i = 0; i &lt; 1_000_000; i++) {\n        Thread.startVirtualThread(() -&gt; {\n            try {\n                Thread.sleep(1000);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n    }\n}\n</code></pre>\n<p>the code above breaks at around 25k with an OOM exception when I use Platform threads.</p>\n<p>My question is what exactly makes these threads so light, what is preventing us from spawning 1 million platform threads and working with them, is it only the context switching that makes the regular threads so &quot;heavy&quot;.</p>\n<p>One very similar <a href=\"https://stackoverflow.com/questions/9964899/why-are-os-threads-considered-expensive\">question</a></p>\n<p>Things I found so far:</p>\n<ul>\n<li><strong>Context Switching is expensive</strong>. Generally speaking even in the ideal case where the OS knows how the threads would behave it will still have to give each thread an equal chance to execute, given they have the same priority. If we spawn 10k OS threads it will have to constantly switch between them and this task alone can occupy up to 80% of the CPU time in some cases, so we have to be very careful with the numbers. With Virtual Threads, context switching is done by the JVM which makes it basically free</li>\n<li><strong>Cheap start/stop</strong>. When we interrupt a thread we essentially tell the task,  &quot;Kill the OS thread you are running on&quot;. However if for example, that thread is in a thread pool, by the time we are asking, the thread might be released by the current task and then given to another and the other task might get the interruption signal. This makes the interruption process quite complex. Virtual Threads are simply objects that live in the heap, we can just let the GC collect them in the background</li>\n<li><strong>Hard upper limits</strong> (tens of thousands at most) of threads, due to how the OS handles them. The OS can‚Äôt be fine-tuned to the specific applications and programming language so it has to prepare for the worst-case scenario memory-wise. It has to allocate more memory that will actually be used to accommodate all needs. While doing all of this it has to ensure that the vital OS processes are still working. With VT you are only limited by the memory which is cheap</li>\n<li><strong>Thread that performs a transaction behaves very differently than a Thread that does video processing</strong>, again the OS has to prepare for the worst-case scenario and accommodate both cases the best way it can, which means we get suboptimal performance in most cases. Since VT are spawned and managed by Java itself, this allows for complete control over them and task-specific optimizations that are not bound to the OS</li>\n<li><strong>Resizable stack</strong>. The OS gives Threads a big stack to fit all use cases, Virtual Threads have a resizable stack that lives in the heap space, it is dynamically resized to fit the problem which makes it smaller</li>\n<li><strong>Smaller metadata size</strong>. Platform threads use 1MB as mentioned above, whereas Virtual Threads need 200-300 bytes to store their metadata</li>\n</ul>\n"},{"tags":["java","ubuntu","java-8","java-9","apache-zeppelin"],"comments":[{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":2,"creation_date":1509810903,"post_id":47112412,"comment_id":81174936,"body_markdown":"You appear to have an ancient build of JDK 9 on your system. The JDK 9 GA build reports itself as &quot;9&quot;, released September 2017. Your build seems to be from early 2016. In any case, the MaxPermSize option only make sense with JDK 7 and older releases. With JDK 8 and JDK 9 you will get a warning like this: &quot;ignoring option MaxPermSize=128m; support was removed in 8.0&quot;. One final point - if zeppelin have an issue tracker then it would be good to submit a bug so that they know to update their scripts.","body":"You appear to have an ancient build of JDK 9 on your system. The JDK 9 GA build reports itself as &quot;9&quot;, released September 2017. Your build seems to be from early 2016. In any case, the MaxPermSize option only make sense with JDK 7 and older releases. With JDK 8 and JDK 9 you will get a warning like this: &quot;ignoring option MaxPermSize=128m; support was removed in 8.0&quot;. One final point - if zeppelin have an issue tracker then it would be good to submit a bug so that they know to update their scripts."},{"owner":{"account_id":206422,"reputation":1540,"user_id":1913623,"display_name":"sbbs"},"score":0,"creation_date":1509812983,"post_id":47112412,"comment_id":81175575,"body_markdown":"Yeah, it does look like an ancient version. `openjdk-9-jdk` series was installed on my system, and I removed them.","body":"Yeah, it does look like an ancient version. <code>openjdk-9-jdk</code> series was installed on my system, and I removed them."},{"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"score":0,"creation_date":1636287515,"post_id":47112412,"comment_id":123511300,"body_markdown":"Does this answer your question? [Android Studio - Unrecognized VM option &#39;MaxPermSize=256m&#39;](https://stackoverflow.com/questions/31411989/android-studio-unrecognized-vm-option-maxpermsize-256m)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31411989/android-studio-unrecognized-vm-option-maxpermsize-256m\">Android Studio - Unrecognized VM option &#39;MaxPermSize=256m&#39;</a>"}],"answers":[{"tags":[],"owner":{"account_id":206422,"reputation":1540,"user_id":1913623,"display_name":"sbbs"},"down_vote_count":4,"up_vote_count":30,"is_accepted":true,"score":26,"last_activity_date":1509809908,"creation_date":1509809908,"answer_id":47112413,"question_id":47112412,"body_markdown":"It appears the `MaxPermSize` VM option is no longer supported in Java 9. Perhaps they changed the parameter name or something. Instead of digging into this issue further, as I had no particular reason to insist on using Java 9, I installed Java 8 as follows:\r\n\r\n    sudo apt install openjdk-8-jdk\r\n\r\nAnd made it a default Java environment\r\n\r\n    sudo update-alternatives --config java\r\n\r\nThis fixed the issue.","title":"Unrecognized VM option &#39;MaxPermSize=512m&#39; when running Zeppelin","body":"<p>It appears the <code>MaxPermSize</code> VM option is no longer supported in Java 9. Perhaps they changed the parameter name or something. Instead of digging into this issue further, as I had no particular reason to insist on using Java 9, I installed Java 8 as follows:</p>\n\n<pre><code>sudo apt install openjdk-8-jdk\n</code></pre>\n\n<p>And made it a default Java environment</p>\n\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n\n<p>This fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":28177339,"reputation":271,"user_id":21534936,"display_name":"lgmg"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1680256922,"creation_date":1680256922,"answer_id":75897214,"question_id":47112412,"body_markdown":"If anyone still getting this renaming MaxPermSize to MaxMetaspaceSize fixed the issue on my part, migrated from gradle7.2 to gradle8 with jdk11 previously, now on jdk17","title":"Unrecognized VM option &#39;MaxPermSize=512m&#39; when running Zeppelin","body":"<p>If anyone still getting this renaming MaxPermSize to MaxMetaspaceSize fixed the issue on my part, migrated from gradle7.2 to gradle8 with jdk11 previously, now on jdk17</p>\n"},{"tags":[],"owner":{"account_id":378053,"reputation":4160,"user_id":730549,"accept_rate":68,"display_name":"Maulzey"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1683693716,"creation_date":1683693716,"answer_id":76214951,"question_id":47112412,"body_markdown":"Check your `gradle.properties`\r\n\r\nI had this line in it\r\n\r\n    org.gradle.jvmargs=-Xmx4g -XX:MaxPermSize=2g -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\r\n\r\nremoved it and everything works like charm :)","title":"Unrecognized VM option &#39;MaxPermSize=512m&#39; when running Zeppelin","body":"<p>Check your <code>gradle.properties</code></p>\n<p>I had this line in it</p>\n<pre><code>org.gradle.jvmargs=-Xmx4g -XX:MaxPermSize=2g -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\n</code></pre>\n<p>removed it and everything works like charm :)</p>\n"},{"tags":[],"owner":{"account_id":4912667,"reputation":411,"user_id":3957538,"display_name":"Jes&#250;s Daniel Medina Cruz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690441587,"creation_date":1690441587,"answer_id":76777249,"question_id":47112412,"body_markdown":"Maybe this could answer your question:\r\nhttps://stackoverflow.com/a/12114284/3957538\r\n\r\nYou don&#39;t need to remove the full line as @Maulzey said.\r\n\r\nInstead, just remove MaxPermSize or use it respective sustitution.","title":"Unrecognized VM option &#39;MaxPermSize=512m&#39; when running Zeppelin","body":"<p>Maybe this could answer your question:\n<a href=\"https://stackoverflow.com/a/12114284/3957538\">https://stackoverflow.com/a/12114284/3957538</a></p>\n<p>You don't need to remove the full line as @Maulzey said.</p>\n<p>Instead, just remove MaxPermSize or use it respective sustitution.</p>\n"},{"tags":[],"owner":{"account_id":17972775,"reputation":21,"user_id":13061124,"display_name":"Alper Sahin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696004554,"creation_date":1695974439,"answer_id":77200293,"question_id":47112412,"body_markdown":"Starting OpenJDK17 these java options `-XX:MaxPermSize=256m` have been removed and using them results in an error. You need to remove `-XX:MaxPermSize=512m` in java option and replace with `-XX:MaxMetaspaceSize=512m`.\r\n\r\nSee: *[Removed Java Options Documentation][1]*\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#removed-java-options","title":"Unrecognized VM option &#39;MaxPermSize=512m&#39; when running Zeppelin","body":"<p>Starting OpenJDK17 these java options <code>-XX:MaxPermSize=256m</code> have been removed and using them results in an error. You need to remove <code>-XX:MaxPermSize=512m</code> in java option and replace with <code>-XX:MaxMetaspaceSize=512m</code>.</p>\n<p>See: <em><a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html#removed-java-options\" rel=\"nofollow noreferrer\">Removed Java Options Documentation</a></em></p>\n"}],"owner":{"account_id":206422,"reputation":1540,"user_id":1913623,"display_name":"sbbs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103553,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":47112413,"answer_count":5,"score":37,"last_activity_date":1696004554,"creation_date":1509809908,"question_id":47112412,"body_markdown":"When I try to run Zeppelin by either\r\n\r\n    bin/zeppelin.sh\r\n\r\nor\r\n\r\n    bin/zeppelin-deamon.sh start\r\n\r\nI was getting the following error message.\r\n\r\n    Unrecognized VM option &#39;MaxPermSize=512m&#39;\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n\r\nJava 9 is installed on my system (Ubuntu 16.04).\r\n\r\n    $ java -version                         \r\n    openjdk version &quot;9-internal&quot;\r\n    OpenJDK Runtime Environment (build 9-internal+0-2016-04-14-195246.buildd.src)\r\n    OpenJDK 64-Bit Server VM (build 9-internal+0-2016-04-14-195246.buildd.src, mixed mode)\r\n","title":"Unrecognized VM option &#39;MaxPermSize=512m&#39; when running Zeppelin","body":"<p>When I try to run Zeppelin by either</p>\n\n<pre><code>bin/zeppelin.sh\n</code></pre>\n\n<p>or</p>\n\n<pre><code>bin/zeppelin-deamon.sh start\n</code></pre>\n\n<p>I was getting the following error message.</p>\n\n<pre><code>Unrecognized VM option 'MaxPermSize=512m'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n\n<p>Java 9 is installed on my system (Ubuntu 16.04).</p>\n\n<pre><code>$ java -version                         \nopenjdk version \"9-internal\"\nOpenJDK Runtime Environment (build 9-internal+0-2016-04-14-195246.buildd.src)\nOpenJDK 64-Bit Server VM (build 9-internal+0-2016-04-14-195246.buildd.src, mixed mode)\n</code></pre>\n"},{"tags":["java","selenium-webdriver","exception","junit","selenide"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1695997307,"post_id":77202494,"comment_id":136101472,"body_markdown":"What you posted is only the latter part of the stacktrace. &quot;Caused by: ElementClickInterceptedException&quot; &lt;- This refers to a missing part of the Stacktrace that you didn&#39;t post which would show you where the problem starts and if for example the ElementClickInterceptedException is wrapped in another exception and not caught because of that.","body":"What you posted is only the latter part of the stacktrace. &quot;Caused by: ElementClickInterceptedException&quot; &lt;- This refers to a missing part of the Stacktrace that you didn&#39;t post which would show you where the problem starts and if for example the ElementClickInterceptedException is wrapped in another exception and not caught because of that."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1695997354,"post_id":77202494,"comment_id":136101486,"body_markdown":"For example `throw new IllegalArgumentException(new RuntimeException())` will produce a stacktrace saying `Exception in thread &quot;main&quot; java.lang.RuntimeException: ... Caused by: java.lang.IllegalArgumentException`.  As you can see the &quot;caused by&quot; refers to the wrapped Exception and not the one that is actually being thrown.","body":"For example <code>throw new IllegalArgumentException(new RuntimeException())</code> will produce a stacktrace saying <code>Exception in thread &quot;main&quot; java.lang.RuntimeException: ... Caused by: java.lang.IllegalArgumentException</code>.  As you can see the &quot;caused by&quot; refers to the wrapped Exception and not the one that is actually being thrown."},{"owner":{"account_id":27146211,"reputation":1,"user_id":20686377,"display_name":"afar"},"score":0,"creation_date":1696000743,"post_id":77202494,"comment_id":136102253,"body_markdown":"Hi @OHGODSPIDERS, I&#39;ve added the rest of the stacktrace as it appears in IntelliJ. It didn&#39;t appear to contain anything useful, just build + environment info.","body":"Hi @OHGODSPIDERS, I&#39;ve added the rest of the stacktrace as it appears in IntelliJ. It didn&#39;t appear to contain anything useful, just build + environment info."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1696001376,"post_id":77202494,"comment_id":136102362,"body_markdown":"I think you misunderstand me. The part that is missing is **before** &quot;caused by&quot; not after that. Either you or your IDE / server is cutting of the first part of the stacktrace that contains the information what exception is actually being thrown. The &quot;caused by&quot; is only the latter half! PS: if you say that catching Throwable works why don&#39;t you use that and print the class of the cought throwable to see what kind of exception it actually is? Not that i think this &quot;trick&quot; is necessary as the full stacktrace should contain that information.","body":"I think you misunderstand me. The part that is missing is <b>before</b> &quot;caused by&quot; not after that. Either you or your IDE / server is cutting of the first part of the stacktrace that contains the information what exception is actually being thrown. The &quot;caused by&quot; is only the latter half! PS: if you say that catching Throwable works why don&#39;t you use that and print the class of the cought throwable to see what kind of exception it actually is? Not that i think this &quot;trick&quot; is necessary as the full stacktrace should contain that information."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1696001554,"post_id":77202494,"comment_id":136102397,"body_markdown":"But in the end your problem is really that simply that if your `catch (ElementClickInterceptedException ex)` isn&#39;t being entered then that is not the exception that is being thrown in this kind of code. Your stacktrace shows that what is being thrown is some Exception that had a `ElementClickInterceptedException` passed as a argument for `cause`. What class that exception actually is is not answerable by me as already mentioned you left out the part of the stacktrace that contains this information.","body":"But in the end your problem is really that simply that if your <code>catch (ElementClickInterceptedException ex)</code> isn&#39;t being entered then that is not the exception that is being thrown in this kind of code. Your stacktrace shows that what is being thrown is some Exception that had a <code>ElementClickInterceptedException</code> passed as a argument for <code>cause</code>. What class that exception actually is is not answerable by me as already mentioned you left out the part of the stacktrace that contains this information."},{"owner":{"account_id":27146211,"reputation":1,"user_id":20686377,"display_name":"afar"},"score":2,"creation_date":1696003998,"post_id":77202494,"comment_id":136102880,"body_markdown":"@OHGODSPIDERS My bad, I didn&#39;t realize the above statement was the exception, I thought it was a message about the below exception, it&#39;s above some screenshot links in the output. I&#39;ve updated stacktrace again with the above added.\n\n The class is com.codeborne.selenide.ex.InvalidStateException, it&#39;s great-great-great-grandparent is Error. That (at least to me) is very surprising behaviour from selenide! I&#39;d expect to be able to recover from button not being clickable. https://selenide.org/javadoc/current/com/codeborne/selenide/ex/InvalidStateException.html","body":"@OHGODSPIDERS My bad, I didn&#39;t realize the above statement was the exception, I thought it was a message about the below exception, it&#39;s above some screenshot links in the output. I&#39;ve updated stacktrace again with the above added.   The class is com.codeborne.selenide.ex.InvalidStateException, it&#39;s great-great-great-grandparent is Error. That (at least to me) is very surprising behaviour from selenide! I&#39;d expect to be able to recover from button not being clickable. <a href=\"https://selenide.org/javadoc/current/com/codeborne/selenide/ex/InvalidStateException.html\" rel=\"nofollow noreferrer\">selenide.org/javadoc/current/com/codeborne/selenide/ex/&hellip;</a>"},{"owner":{"account_id":27146211,"reputation":1,"user_id":20686377,"display_name":"afar"},"score":1,"creation_date":1696004270,"post_id":77202494,"comment_id":136102931,"body_markdown":"@OHGODSPIDERS This com.codeborne.selenide.ex.InvalidStateException class isn&#39;t mentioned in the output, just the error message from it. It&#39;s very surprising to me that Selenide would use something inherited from Error for something that&#39;s very recoverable and not out of the ordinary for UI testing. But I understand now what is happening. Thanks for your help.","body":"@OHGODSPIDERS This com.codeborne.selenide.ex.InvalidStateException class isn&#39;t mentioned in the output, just the error message from it. It&#39;s very surprising to me that Selenide would use something inherited from Error for something that&#39;s very recoverable and not out of the ordinary for UI testing. But I understand now what is happening. Thanks for your help."}],"owner":{"account_id":27146211,"reputation":1,"user_id":20686377,"display_name":"afar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696003939,"creation_date":1695995476,"question_id":77202494,"body_markdown":"I have a section of code that looks like this in my Java + Selenide + JUnit project:\r\n```\r\n        for (int retries = 3; !menuItem.is(visible); --retries) {\r\n            if (retries &lt; 1) {\r\n                fail(&quot;Button does not appear&quot;);\r\n            }\r\n            try {\r\n                burgerMenu.click();\r\n            } catch (ElementClickInterceptedException ex) {\r\n                System.err.println(&quot;\\nCaught!\\n&quot;);\r\n                break;\r\n            }\r\n            Selenide.sleep(1000);\r\n        }\r\n        \r\n        menuItem.click();\r\n```\r\nThe logic is intending to click a sub-menu item by clicking on the menu creating button until it appears. It&#39;s done this way as the menu UI is a bit finnicky, but that&#39;s besides the point. \r\n\r\n**The curiosity is why the catch() is never called, even when the line burgerMenu.click() generates a ElementClickInterceptedException.**\r\n\r\n\r\n\r\n\r\nThis debugger confirms it&#39;s this line generating the exception, and that the exception is ElementClickInterceptedException. The same occurs when changing the catch to be for Exception or RuntimeException, the catch block is not entered and instead the program terminates. However, if I change the catch() to Throwable, then the catch block is entered. How is this happening, why can&#39;t I catch the ElementClickInterceptException, and why does catching Throwable work instead?\r\n\r\nStacktrace:\r\n\r\n```\r\nInvalid element state [By.xpath: //div[normalize-space()=&#39;Redacted&#39;]]: element click intercepted: Element &lt;div class=&quot;redacted&quot;&gt;...&lt;/div&gt; is not clickable at point (800, 400). Other element would receive the click: &lt;div class=&quot;redacted2&quot;&gt;...&lt;/div&gt;\r\nScreenshot: file:/C:/Users/me/myproject/build/reports/tests/1696003443588.0.png\r\nPage source: file:/C:/Users/me/myproject/build/reports/tests/1696003443588.0.html\r\nTimeout: 45 s.\r\nCaused by: ElementClickInterceptedException: element click intercepted: Element &lt;div class=&quot;redacted&quot;&gt;...&lt;/div&gt; is not clickable at point (800, 200). Other element would receive the click: &lt;div class=&quot;redacted2&quot;&gt;...&lt;/div&gt;\r\n\tat com.codeborne.selenide.impl.ExceptionWrapper.wrap(ExceptionWrapper.java:26)\r\n\tat com.codeborne.selenide.impl.SelenideElementProxy.dispatchAndRetry(SelenideElementProxy.java:153)\r\n\tat com.codeborne.selenide.impl.SelenideElementProxy.invoke(SelenideElementProxy.java:83)\r\n\tat com.sun.proxy.$Proxy0.click(Unknown Source)\r\n\tat com.redacted.myTest(redactedName.java:30)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\nCaused by: org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;div class=&quot;redacted&quot;&gt;...&lt;/div&gt; is not clickable at point (800, 400). Other element would receive the click: &lt;div class=&quot;redacted2&quot;&gt;...&lt;/div&gt;\r\n  (Session info: chrome=117.0.5938.92)\r\nBuild info: version: &#39;4.7.2&#39;, revision: &#39;4d4020c3b7&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.20&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [a97g530216ey2d2bc87f719b864df3e1, clickElement {id=4B8D5586D36470988AB7D64CF6F299F4_element_96}]\r\nCapabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 117.0.5938.92, chrome: {chromedriverVersion: 117.0.5938.92 (67649b10b92b..., userDataDir: C:\\Users\\me\\AppData\\Lo...}, fedcm:accounts: true, goog:chromeOptions: // redacted \r\nElement: [[ChromeDriver: chrome on WINDOWS (a97g530216ey2d2bc87f719b864df3e1)] -&gt; xpath: //div[normalize-space()=&#39;Redacted&#39;]]\r\nSession ID: a97g530216ey2d2bc87f719b864df3e1\r\n\tat jdk.internal.reflect.GeneratedConstructorAccessor14.newInstance(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:535)\r\n\tat org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:257)\r\n\tat org.openqa.selenium.remote.RemoteWebElement.click(RemoteWebElement.java:78)\r\n\tat com.codeborne.selenide.commands.Click.defaultClick(Click.java:97)\r\n\tat com.codeborne.selenide.commands.Click.click(Click.java:54)\r\n\tat com.codeborne.selenide.commands.Click.execute(Click.java:31)\r\n\tat com.codeborne.selenide.commands.Click.execute(Click.java:21)\r\n\tat com.codeborne.selenide.commands.Commands.execute(Commands.java:159)\r\n\tat com.codeborne.selenide.impl.SelenideElementProxy.dispatchAndRetry(SelenideElementProxy.java:131)\r\n\t... 72 more\r\n```","title":"Why can&#39;t I catch ElementClickInterceptedException exception in Selenide, but can catch it with Throwable?","body":"<p>I have a section of code that looks like this in my Java + Selenide + JUnit project:</p>\n<pre><code>        for (int retries = 3; !menuItem.is(visible); --retries) {\n            if (retries &lt; 1) {\n                fail(&quot;Button does not appear&quot;);\n            }\n            try {\n                burgerMenu.click();\n            } catch (ElementClickInterceptedException ex) {\n                System.err.println(&quot;\\nCaught!\\n&quot;);\n                break;\n            }\n            Selenide.sleep(1000);\n        }\n        \n        menuItem.click();\n</code></pre>\n<p>The logic is intending to click a sub-menu item by clicking on the menu creating button until it appears. It's done this way as the menu UI is a bit finnicky, but that's besides the point.</p>\n<p><strong>The curiosity is why the catch() is never called, even when the line burgerMenu.click() generates a ElementClickInterceptedException.</strong></p>\n<p>This debugger confirms it's this line generating the exception, and that the exception is ElementClickInterceptedException. The same occurs when changing the catch to be for Exception or RuntimeException, the catch block is not entered and instead the program terminates. However, if I change the catch() to Throwable, then the catch block is entered. How is this happening, why can't I catch the ElementClickInterceptException, and why does catching Throwable work instead?</p>\n<p>Stacktrace:</p>\n<pre><code>Invalid element state [By.xpath: //div[normalize-space()='Redacted']]: element click intercepted: Element &lt;div class=&quot;redacted&quot;&gt;...&lt;/div&gt; is not clickable at point (800, 400). Other element would receive the click: &lt;div class=&quot;redacted2&quot;&gt;...&lt;/div&gt;\nScreenshot: file:/C:/Users/me/myproject/build/reports/tests/1696003443588.0.png\nPage source: file:/C:/Users/me/myproject/build/reports/tests/1696003443588.0.html\nTimeout: 45 s.\nCaused by: ElementClickInterceptedException: element click intercepted: Element &lt;div class=&quot;redacted&quot;&gt;...&lt;/div&gt; is not clickable at point (800, 200). Other element would receive the click: &lt;div class=&quot;redacted2&quot;&gt;...&lt;/div&gt;\n    at com.codeborne.selenide.impl.ExceptionWrapper.wrap(ExceptionWrapper.java:26)\n    at com.codeborne.selenide.impl.SelenideElementProxy.dispatchAndRetry(SelenideElementProxy.java:153)\n    at com.codeborne.selenide.impl.SelenideElementProxy.invoke(SelenideElementProxy.java:83)\n    at com.sun.proxy.$Proxy0.click(Unknown Source)\n    at com.redacted.myTest(redactedName.java:30)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;div class=&quot;redacted&quot;&gt;...&lt;/div&gt; is not clickable at point (800, 400). Other element would receive the click: &lt;div class=&quot;redacted2&quot;&gt;...&lt;/div&gt;\n  (Session info: chrome=117.0.5938.92)\nBuild info: version: '4.7.2', revision: '4d4020c3b7'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.20'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [a97g530216ey2d2bc87f719b864df3e1, clickElement {id=4B8D5586D36470988AB7D64CF6F299F4_element_96}]\nCapabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 117.0.5938.92, chrome: {chromedriverVersion: 117.0.5938.92 (67649b10b92b..., userDataDir: C:\\Users\\me\\AppData\\Lo...}, fedcm:accounts: true, goog:chromeOptions: // redacted \nElement: [[ChromeDriver: chrome on WINDOWS (a97g530216ey2d2bc87f719b864df3e1)] -&gt; xpath: //div[normalize-space()='Redacted']]\nSession ID: a97g530216ey2d2bc87f719b864df3e1\n    at jdk.internal.reflect.GeneratedConstructorAccessor14.newInstance(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:535)\n    at org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:257)\n    at org.openqa.selenium.remote.RemoteWebElement.click(RemoteWebElement.java:78)\n    at com.codeborne.selenide.commands.Click.defaultClick(Click.java:97)\n    at com.codeborne.selenide.commands.Click.click(Click.java:54)\n    at com.codeborne.selenide.commands.Click.execute(Click.java:31)\n    at com.codeborne.selenide.commands.Click.execute(Click.java:21)\n    at com.codeborne.selenide.commands.Commands.execute(Commands.java:159)\n    at com.codeborne.selenide.impl.SelenideElementProxy.dispatchAndRetry(SelenideElementProxy.java:131)\n    ... 72 more\n</code></pre>\n"},{"tags":["java","inheritance","polymorphism"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":3,"creation_date":1695904344,"post_id":77194956,"comment_id":136087788,"body_markdown":"Your above code wouldn&#39;t compile in first place.","body":"Your above code wouldn&#39;t compile in first place."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1695904411,"post_id":77194956,"comment_id":136087806,"body_markdown":"have you tried writing this code (without the error(s)), compiling and running it?","body":"have you tried writing this code (without the error(s)), compiling and running it?"},{"owner":{"account_id":27521981,"reputation":41,"user_id":21001982,"display_name":"Affectionate Mango"},"score":0,"creation_date":1695904420,"post_id":77194956,"comment_id":136087808,"body_markdown":"may i ask why??","body":"may i ask why??"},{"owner":{"account_id":27521981,"reputation":41,"user_id":21001982,"display_name":"Affectionate Mango"},"score":0,"creation_date":1695904469,"post_id":77194956,"comment_id":136087818,"body_markdown":"hi yes i did if u meant the issue with the main function not typed out entirely then that is not the issue i am just referring to the main function that i create a D object and call the print","body":"hi yes i did if u meant the issue with the main function not typed out entirely then that is not the issue i am just referring to the main function that i create a D object and call the print"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695904742,"post_id":77194956,"comment_id":136087867,"body_markdown":"so, run it and see what result it gives","body":"so, run it and see what result it gives"},{"owner":{"account_id":27521981,"reputation":41,"user_id":21001982,"display_name":"Affectionate Mango"},"score":0,"creation_date":1695904856,"post_id":77194956,"comment_id":136087884,"body_markdown":"the result is B but i have no idea why is it B","body":"the result is B but i have no idea why is it B"},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1695905139,"post_id":77194956,"comment_id":136087955,"body_markdown":"You declare your object as `D d`, that determines what method calls are available during compile time. Your class `D` has 2 overloaded methods `print`, one that accepts any Object and one that accepts a String. You call the print method and pass a String as an argument, so the compiler decides that `print(String s)` fits better than  `print(Object o)`","body":"You declare your object as <code>D d</code>, that determines what method calls are available during compile time. Your class <code>D</code> has 2 overloaded methods <code>print</code>, one that accepts any Object and one that accepts a String. You call the print method and pass a String as an argument, so the compiler decides that <code>print(String s)</code> fits better than  <code>print(Object o)</code>"},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1695905604,"post_id":77194956,"comment_id":136088075,"body_markdown":"Note that if you change your call to `d.print((Object)&quot;Test&quot;);` it will call the `print(Object o)` method. And any good IDE should show you what overloaded method will be called even before compiling.","body":"Note that if you change your call to <code>d.print((Object)&quot;Test&quot;);</code> it will call the <code>print(Object o)</code> method. And any good IDE should show you what overloaded method will be called even before compiling."},{"owner":{"account_id":27521981,"reputation":41,"user_id":21001982,"display_name":"Affectionate Mango"},"score":0,"creation_date":1695905613,"post_id":77194956,"comment_id":136088079,"body_markdown":"How about if now class B and D is in a package p1 and the class TestB is now in a subpackage eg(p1.s1). Why would the result change to D?","body":"How about if now class B and D is in a package p1 and the class TestB is now in a subpackage eg(p1.s1). Why would the result change to D?"},{"owner":{"account_id":27521981,"reputation":41,"user_id":21001982,"display_name":"Affectionate Mango"},"score":0,"creation_date":1695906278,"post_id":77194956,"comment_id":136088237,"body_markdown":"can it be explained due to the visibility of class B fun function is default and hence is not visible from the subpackage p1.s1 and Java sees subpackages as a seperate package.","body":"can it be explained due to the visibility of class B fun function is default and hence is not visible from the subpackage p1.s1 and Java sees subpackages as a seperate package."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1695906411,"post_id":77194956,"comment_id":136088267,"body_markdown":"There&#39;s no such thing as a subpackage. TestB cannot access either B or D because they are in another package and they&#39;re not public.","body":"There&#39;s no such thing as a subpackage. TestB cannot access either B or D because they are in another package and they&#39;re not public."},{"owner":{"account_id":27521981,"reputation":41,"user_id":21001982,"display_name":"Affectionate Mango"},"score":0,"creation_date":1695906463,"post_id":77194956,"comment_id":136088277,"body_markdown":"i understand sorry if my scenario was not clear enough. It is assuming that the class B and D are now public class in package p1 but the main point is that because p1.s1 is seen as a seperate package and hence is unable to access the default void fun method in class B and hence it uses the class D method","body":"i understand sorry if my scenario was not clear enough. It is assuming that the class B and D are now public class in package p1 but the main point is that because p1.s1 is seen as a seperate package and hence is unable to access the default void fun method in class B and hence it uses the class D method"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1695906643,"post_id":77194956,"comment_id":136088323,"body_markdown":"Then it would choose D.print because that&#39;s public, while B.print is inaccessible because it&#39;s package-private.","body":"Then it would choose D.print because that&#39;s public, while B.print is inaccessible because it&#39;s package-private."},{"owner":{"account_id":27521981,"reputation":41,"user_id":21001982,"display_name":"Affectionate Mango"},"score":0,"creation_date":1695906665,"post_id":77194956,"comment_id":136088329,"body_markdown":"Okay understood thanks!","body":"Okay understood thanks!"},{"owner":{"account_id":8087134,"reputation":28351,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"score":0,"creation_date":1695908563,"post_id":77194956,"comment_id":136088781,"body_markdown":"Does this answer your question? [Java overloading method selection](https://stackoverflow.com/questions/14676395/java-overloading-method-selection)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14676395/java-overloading-method-selection\">Java overloading method selection</a>"}],"answers":[{"tags":[],"owner":{"account_id":8997523,"reputation":315,"user_id":6707321,"display_name":"Daryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696003753,"creation_date":1695907164,"answer_id":77195334,"question_id":77194956,"body_markdown":"The code you provided is called `Method Overloading`.\r\n\r\nThe code inside the main method you tell the program to create an instance of class `D` and calling method `print` with a `String` parameter.\r\n\r\nBecause this is `Method Overloading` and not `Method Overriding` also the data type inside the parameter is Strint, Java runtime chooses the original method to run.\r\n\r\nTo make this code Method overriding both method in both classes need to have same type of parameter like this:\r\n\r\n    class B{\r\n      public void print(String s){\r\n                System.out.println(&#39;B&#39;);\r\n         }\r\n    }\r\n    \r\n    class D extends B{\r\n      public void print(String o){\r\n               System.out.println(&#39;D&#39;);\r\n         }\r\n    }\r\n    \r\n    public class TestB {\r\n        public static void main(String[] args) {\r\n            D d = new D();\r\n            d.print(&quot;Test&quot;);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n    D\r\n\r\n\r\nOr if you want the program to be method overloading and still show output `D`, you need to declare **&quot;Test&quot;** as an Object variable or cast it to Object:\r\n\r\n    class B{\r\n      public void print(String s){\r\n                System.out.println(&#39;B&#39;);\r\n         }\r\n    }\r\n    \r\n    class D extends B{\r\n      public void print(Object o){\r\n               System.out.println(&#39;D&#39;);\r\n         }\r\n    }\r\n    \r\n    public class TestB {\r\n        public static void main(String[] args) {\r\n            D d = new D();\r\n            // casting\r\n            d.print((Object)&quot;Test&quot;);\r\n            \r\n            // variable\r\n            Object t = &quot;Test&quot;;\r\n            \r\n            d.print(t);\r\n    \r\n        }\r\n    \r\n    }","title":"Java Polymorphism Inheritance","body":"<p>The code you provided is called <code>Method Overloading</code>.</p>\n<p>The code inside the main method you tell the program to create an instance of class <code>D</code> and calling method <code>print</code> with a <code>String</code> parameter.</p>\n<p>Because this is <code>Method Overloading</code> and not <code>Method Overriding</code> also the data type inside the parameter is Strint, Java runtime chooses the original method to run.</p>\n<p>To make this code Method overriding both method in both classes need to have same type of parameter like this:</p>\n<pre><code>class B{\n  public void print(String s){\n            System.out.println('B');\n     }\n}\n\nclass D extends B{\n  public void print(String o){\n           System.out.println('D');\n     }\n}\n\npublic class TestB {\n    public static void main(String[] args) {\n        D d = new D();\n        d.print(&quot;Test&quot;);\n\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>D\n</code></pre>\n<p>Or if you want the program to be method overloading and still show output <code>D</code>, you need to declare <strong>&quot;Test&quot;</strong> as an Object variable or cast it to Object:</p>\n<pre><code>class B{\n  public void print(String s){\n            System.out.println('B');\n     }\n}\n\nclass D extends B{\n  public void print(Object o){\n           System.out.println('D');\n     }\n}\n\npublic class TestB {\n    public static void main(String[] args) {\n        D d = new D();\n        // casting\n        d.print((Object)&quot;Test&quot;);\n        \n        // variable\n        Object t = &quot;Test&quot;;\n        \n        d.print(t);\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":27521981,"reputation":41,"user_id":21001982,"display_name":"Affectionate Mango"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696003753,"creation_date":1695904149,"question_id":77194956,"body_markdown":"```\r\nclass B{\r\n  void print(String s){\r\n            System.out.println(&#39;B&#39;);\r\n     }\r\n}\r\n\r\nclass D extends B{\r\n  public void print(Object o){\r\n           System.out.println(&#39;D&#39;);\r\n     }\r\n}\r\n\r\npublic class TestB {\r\n    public static void main(String[] args) {\r\n        D d = new D();\r\n        d.print(&quot;Test&quot;);\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\nHi all may i know how does one determine which print method does this d.print uses and any reason for it?\r\nI understand that there is no upcasting nor method overriding here. So would the print method be used in class D since Object is a superclass of String? ","title":"Java Polymorphism Inheritance","body":"<pre><code>class B{\n  void print(String s){\n            System.out.println('B');\n     }\n}\n\nclass D extends B{\n  public void print(Object o){\n           System.out.println('D');\n     }\n}\n\npublic class TestB {\n    public static void main(String[] args) {\n        D d = new D();\n        d.print(&quot;Test&quot;);\n\n    }\n\n}\n\n</code></pre>\n<p>Hi all may i know how does one determine which print method does this d.print uses and any reason for it?\nI understand that there is no upcasting nor method overriding here. So would the print method be used in class D since Object is a superclass of String?</p>\n"},{"tags":["java","android"],"owner":{"account_id":29564547,"reputation":1,"user_id":22658296,"display_name":"jle24"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696003600,"creation_date":1696003600,"question_id":77203358,"body_markdown":"I have an android app that launches one webview on the main screen and if it detects a second display, it will launch another webview. \r\n\r\n\r\n```\r\npackage com.kwickpos.android;\r\nimport android.Manifest;\r\nimport android.annotation.TargetApi;\r\nimport android.app.Activity;\r\nimport android.app.Presentation;\r\nimport android.content.Context;\r\nimport android.media.MediaRouter;\r\nimport android.media.MediaRouter.RouteInfo;\r\nimport android.media.MediaRouter.SimpleCallback;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Display;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.view.WindowManager;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.content.pm.PackageManager;\r\npublic class MainActivity extends Activity {\r\n  MediaRouter router=null;\r\n  Presentation preso=null;\r\n  SimpleCallback cb=null;\r\n  private WebView wv;\r\n\r\n  @Override\r\n  protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n            WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n\r\n    getWindow().getDecorView().setSystemUiVisibility(\r\n            View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                    | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                    | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                    | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                    | View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                    | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\r\n\r\n    setContentView(R.layout.activity_main);\r\n    wv = findViewById(R.id.webView);\r\n    //wv = findViewById(R.id.webView2);\r\n\r\n    wv.getSettings().setJavaScriptEnabled(true);\r\n    wv.getSettings().setDomStorageEnabled(true);\r\n    wv.getSettings().setSupportMultipleWindows(true);\r\n    wv.setWebViewClient(new WebViewClient() {\r\n      @Override\r\n      public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n        view.loadUrl(url);\r\n        return true;\r\n      }\r\n    });\r\n    wv.loadUrl(&quot;https://www.google.com/&quot;);\r\n    // Check for the SYSTEM_ALERT_WINDOW permission on Android 12\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S\r\n            &amp;&amp; checkSelfPermission(Manifest.permission.SYSTEM_ALERT_WINDOW)\r\n            != PackageManager.PERMISSION_GRANTED) {\r\n      // You may need to request this permission from the user\r\n      requestPermissions(new String[]{Manifest.permission.SYSTEM_ALERT_WINDOW}, 1);\r\n    }\r\n\r\n  }\r\n\r\n  @TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\r\n  @Override\r\n  protected void onStart() {\r\n    super.onStart();\r\n\r\n    getWindow().getDecorView().setSystemUiVisibility(\r\n            View.SYSTEM_UI_FLAG_LAYOUT_STABLE\r\n                    | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\r\n                    | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\r\n                    | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                    | View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                    | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\r\n      if (cb==null) {\r\n        cb=new RouteCallback();\r\n        router=(MediaRouter)getSystemService(MEDIA_ROUTER_SERVICE);\r\n      }\r\n\r\n      handleRoute(router.getSelectedRoute(MediaRouter.ROUTE_TYPE_LIVE_VIDEO));\r\n      router.addCallback(MediaRouter.ROUTE_TYPE_LIVE_VIDEO, cb);\r\n    }\r\n  }\r\n\r\n  @TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\r\n  @Override\r\n  protected void onStop() {\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\r\n      clearPreso();\r\n\r\n      if (router != null) {\r\n        router.removeCallback(cb);\r\n      }\r\n    }\r\n    //clear the cache and history *fixes bug where pole.php will launch at fresh install of app\r\n    wv.clearCache(true);\r\n    wv.clearHistory();\r\n    super.onStop();\r\n  }\r\n\r\n  @TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\r\n  private void handleRoute(RouteInfo route) {\r\n    if (route == null) {\r\n      clearPreso();\r\n    }\r\n    else {\r\n      Display display=route.getPresentationDisplay();\r\n\r\n      if (route.isEnabled() &amp;&amp; display != null) {\r\n        if (preso == null) {\r\n          showPreso(route);\r\n          Log.d(getClass().getSimpleName(), &quot;enabled route&quot;);\r\n        }\r\n        else if (preso.getDisplay().getDisplayId() != display.getDisplayId()) {\r\n          clearPreso();\r\n          showPreso(route);\r\n          Log.d(getClass().getSimpleName(), &quot;switched route&quot;);\r\n        }\r\n        else {\r\n          // no-op: should already be set\r\n        }\r\n      }\r\n      else {\r\n        clearPreso();\r\n        Log.d(getClass().getSimpleName(), &quot;disabled route&quot;);\r\n      }\r\n    }\r\n  }\r\n\r\n  @TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\r\n  private void clearPreso() {\r\n    if (preso != null) {\r\n      preso.dismiss();\r\n      preso=null;\r\n    }\r\n  }\r\n\r\n  @TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\r\n  private void showPreso(RouteInfo route) {\r\n    preso=new DifferentDisplay(this, route.getPresentationDisplay());\r\n    //preso.getWindow().setType(WindowManager.LayoutParams.TYPE_SYSTEM_ALERT);\r\n    preso.getWindow().setFlags(WindowManager.LayoutParams.FLAG_SPLIT_TOUCH,\r\n            WindowManager.LayoutParams.FLAG_SPLIT_TOUCH);\r\n    preso.show();\r\n  }\r\n\r\n  @TargetApi(Build.VERSION_CODES.JELLY_BEAN)\r\n  private class RouteCallback extends SimpleCallback {\r\n    @Override\r\n    public void onRoutePresentationDisplayChanged(MediaRouter router,\r\n                                                  RouteInfo route) {\r\n      handleRoute(route);\r\n    }\r\n  }\r\n\r\n  @TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\r\n  public class DifferentDisplay extends Presentation {\r\n    public DifferentDisplay(Context ctxt, Display display) {\r\n      super(ctxt, display);\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n      super.onCreate(savedInstanceState);\r\n\r\n      setContentView(R.layout.display1);\r\n      WebView wv = findViewById(R.id.webView1);\r\n      //wv.setVisibility(View.VISIBLE);\r\n      wv.getSettings().setJavaScriptEnabled(true);\r\n      wv.getSettings().setDomStorageEnabled(true);\r\n      wv.getSettings().setSupportMultipleWindows(true);\r\n      wv.setWebViewClient(new WebViewClient() {\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n          view.loadUrl(url);\r\n          return true;\r\n        }\r\n      });\r\n      wv.loadUrl(&quot;https://www.google.com/&quot;);\r\n\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\nThis code works fine when I run the APK on an android version 9, but when I run it on an android version 12 device, it loads both webviews, but will not allow me to interact with the screen at all. I am unable to exit our of the app as well. The only way to get out is to reboot the android computer. If I remove the second/external display for the android 12 version, it will work completely fine.","title":"Android App with External Display not working","body":"<p>I have an android app that launches one webview on the main screen and if it detects a second display, it will launch another webview.</p>\n<pre><code>package com.kwickpos.android;\nimport android.Manifest;\nimport android.annotation.TargetApi;\nimport android.app.Activity;\nimport android.app.Presentation;\nimport android.content.Context;\nimport android.media.MediaRouter;\nimport android.media.MediaRouter.RouteInfo;\nimport android.media.MediaRouter.SimpleCallback;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.Display;\nimport android.view.View;\nimport android.view.Window;\nimport android.view.WindowManager;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.content.pm.PackageManager;\npublic class MainActivity extends Activity {\n  MediaRouter router=null;\n  Presentation preso=null;\n  SimpleCallback cb=null;\n  private WebView wv;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    requestWindowFeature(Window.FEATURE_NO_TITLE);\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n            WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n    getWindow().getDecorView().setSystemUiVisibility(\n            View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                    | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                    | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                    | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                    | View.SYSTEM_UI_FLAG_FULLSCREEN\n                    | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\n\n    setContentView(R.layout.activity_main);\n    wv = findViewById(R.id.webView);\n    //wv = findViewById(R.id.webView2);\n\n    wv.getSettings().setJavaScriptEnabled(true);\n    wv.getSettings().setDomStorageEnabled(true);\n    wv.getSettings().setSupportMultipleWindows(true);\n    wv.setWebViewClient(new WebViewClient() {\n      @Override\n      public boolean shouldOverrideUrlLoading(WebView view, String url) {\n        view.loadUrl(url);\n        return true;\n      }\n    });\n    wv.loadUrl(&quot;https://www.google.com/&quot;);\n    // Check for the SYSTEM_ALERT_WINDOW permission on Android 12\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S\n            &amp;&amp; checkSelfPermission(Manifest.permission.SYSTEM_ALERT_WINDOW)\n            != PackageManager.PERMISSION_GRANTED) {\n      // You may need to request this permission from the user\n      requestPermissions(new String[]{Manifest.permission.SYSTEM_ALERT_WINDOW}, 1);\n    }\n\n  }\n\n  @TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\n  @Override\n  protected void onStart() {\n    super.onStart();\n\n    getWindow().getDecorView().setSystemUiVisibility(\n            View.SYSTEM_UI_FLAG_LAYOUT_STABLE\n                    | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n                    | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION\n                    | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                    | View.SYSTEM_UI_FLAG_FULLSCREEN\n                    | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY);\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\n      if (cb==null) {\n        cb=new RouteCallback();\n        router=(MediaRouter)getSystemService(MEDIA_ROUTER_SERVICE);\n      }\n\n      handleRoute(router.getSelectedRoute(MediaRouter.ROUTE_TYPE_LIVE_VIDEO));\n      router.addCallback(MediaRouter.ROUTE_TYPE_LIVE_VIDEO, cb);\n    }\n  }\n\n  @TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\n  @Override\n  protected void onStop() {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN_MR1) {\n      clearPreso();\n\n      if (router != null) {\n        router.removeCallback(cb);\n      }\n    }\n    //clear the cache and history *fixes bug where pole.php will launch at fresh install of app\n    wv.clearCache(true);\n    wv.clearHistory();\n    super.onStop();\n  }\n\n  @TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\n  private void handleRoute(RouteInfo route) {\n    if (route == null) {\n      clearPreso();\n    }\n    else {\n      Display display=route.getPresentationDisplay();\n\n      if (route.isEnabled() &amp;&amp; display != null) {\n        if (preso == null) {\n          showPreso(route);\n          Log.d(getClass().getSimpleName(), &quot;enabled route&quot;);\n        }\n        else if (preso.getDisplay().getDisplayId() != display.getDisplayId()) {\n          clearPreso();\n          showPreso(route);\n          Log.d(getClass().getSimpleName(), &quot;switched route&quot;);\n        }\n        else {\n          // no-op: should already be set\n        }\n      }\n      else {\n        clearPreso();\n        Log.d(getClass().getSimpleName(), &quot;disabled route&quot;);\n      }\n    }\n  }\n\n  @TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\n  private void clearPreso() {\n    if (preso != null) {\n      preso.dismiss();\n      preso=null;\n    }\n  }\n\n  @TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\n  private void showPreso(RouteInfo route) {\n    preso=new DifferentDisplay(this, route.getPresentationDisplay());\n    //preso.getWindow().setType(WindowManager.LayoutParams.TYPE_SYSTEM_ALERT);\n    preso.getWindow().setFlags(WindowManager.LayoutParams.FLAG_SPLIT_TOUCH,\n            WindowManager.LayoutParams.FLAG_SPLIT_TOUCH);\n    preso.show();\n  }\n\n  @TargetApi(Build.VERSION_CODES.JELLY_BEAN)\n  private class RouteCallback extends SimpleCallback {\n    @Override\n    public void onRoutePresentationDisplayChanged(MediaRouter router,\n                                                  RouteInfo route) {\n      handleRoute(route);\n    }\n  }\n\n  @TargetApi(Build.VERSION_CODES.JELLY_BEAN_MR1)\n  public class DifferentDisplay extends Presentation {\n    public DifferentDisplay(Context ctxt, Display display) {\n      super(ctxt, display);\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n      super.onCreate(savedInstanceState);\n\n      setContentView(R.layout.display1);\n      WebView wv = findViewById(R.id.webView1);\n      //wv.setVisibility(View.VISIBLE);\n      wv.getSettings().setJavaScriptEnabled(true);\n      wv.getSettings().setDomStorageEnabled(true);\n      wv.getSettings().setSupportMultipleWindows(true);\n      wv.setWebViewClient(new WebViewClient() {\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n          view.loadUrl(url);\n          return true;\n        }\n      });\n      wv.loadUrl(&quot;https://www.google.com/&quot;);\n\n    }\n  }\n}\n\n</code></pre>\n<p>This code works fine when I run the APK on an android version 9, but when I run it on an android version 12 device, it loads both webviews, but will not allow me to interact with the screen at all. I am unable to exit our of the app as well. The only way to get out is to reboot the android computer. If I remove the second/external display for the android 12 version, it will work completely fine.</p>\n"},{"tags":["java","algorithm","sorting"],"comments":[{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":1,"creation_date":1695990732,"post_id":77200509,"comment_id":136100124,"body_markdown":"Do not tag this as `dsa`.  The `dsa` tag is for `Digital Signature Algorithm`.","body":"Do not tag this as <code>dsa</code>.  The <code>dsa</code> tag is for <code>Digital Signature Algorithm</code>."},{"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"score":0,"creation_date":1696003149,"post_id":77200509,"comment_id":136102708,"body_markdown":"@Aayush Pachpande\nI updated the answer, please check","body":"@Aayush Pachpande I updated the answer, please check"}],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696003113,"creation_date":1695977209,"answer_id":77200567,"question_id":77200509,"body_markdown":"&gt; I have tried quick sort but out of 15 test cases 7 has been passsed and rest are giving array out of bound exception\r\n\r\nThe reason is that the **start** and **end** pointers can both reach the end of the array in your code.\r\n\r\nI changed your `partition` method code and fixed the issue:\r\n```\r\npublic static int partition(int[] arr, int lb, int ub) {\r\n    int start = lb;\r\n    int end = ub;\r\n    int pivot = arr[lb];\r\n    while (start &lt; end &amp;&amp; start &lt; arr.length &amp;&amp; end &gt;= 0) {\r\n        while (start &lt; arr.length &amp;&amp; arr[start] &lt;= pivot) {\r\n            start++;\r\n        }\r\n        while (end &gt;= 0 &amp;&amp; arr[end] &gt; pivot) {\r\n            end--;\r\n        }\r\n        if (start &lt; end) {\r\n            int temp = arr[start];\r\n            arr[start] = arr[end];\r\n            arr[end] = temp;\r\n        }\r\n    }\r\n    int temp = arr[lb];\r\n    arr[lb] = arr[end];\r\n    arr[end] = temp;\r\n    return end;\r\n}\r\n```","title":"Quick Sort code issue giving array out of bound exception","body":"<blockquote>\n<p>I have tried quick sort but out of 15 test cases 7 has been passsed and rest are giving array out of bound exception</p>\n</blockquote>\n<p>The reason is that the <strong>start</strong> and <strong>end</strong> pointers can both reach the end of the array in your code.</p>\n<p>I changed your <code>partition</code> method code and fixed the issue:</p>\n<pre><code>public static int partition(int[] arr, int lb, int ub) {\n    int start = lb;\n    int end = ub;\n    int pivot = arr[lb];\n    while (start &lt; end &amp;&amp; start &lt; arr.length &amp;&amp; end &gt;= 0) {\n        while (start &lt; arr.length &amp;&amp; arr[start] &lt;= pivot) {\n            start++;\n        }\n        while (end &gt;= 0 &amp;&amp; arr[end] &gt; pivot) {\n            end--;\n        }\n        if (start &lt; end) {\n            int temp = arr[start];\n            arr[start] = arr[end];\n            arr[end] = temp;\n        }\n    }\n    int temp = arr[lb];\n    arr[lb] = arr[end];\n    arr[end] = temp;\n    return end;\n}\n</code></pre>\n"}],"owner":{"account_id":28451458,"reputation":9,"user_id":21769478,"display_name":"Aayush Pachpande"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696003113,"creation_date":1695976558,"question_id":77200509,"body_markdown":"    public class Solution {\r\n    \r\n    \tpublic static int partition(int []arr,int lb,int ub)\r\n    \t{\r\n    \t\tint start=lb;\r\n    \t\tint end=ub;\r\n    \t\tint pivot=arr[lb];\r\n    \t\twhile(start&lt;end)\r\n    \t\t{\r\n    \t\t\twhile(arr[start]&lt;=pivot)\r\n    \t\t\t{\r\n    \t\t\t\tstart++;\r\n    \t\t\t}\r\n    \t\t\twhile(arr[end]&gt;pivot)\r\n    \t\t\t{\r\n    \t\t\t\tend--;\r\n    \t\t\t}\r\n    \t\t\tif(start&lt;end)\r\n    \t\t\t{\r\n    \t\t\t\tint temp=arr[start];\r\n    \t\t\t\tarr[start]=arr[end];\r\n    \t\t\t\tarr[end]=temp;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tint temp=arr[lb];\r\n    \t\tarr[lb]=arr[end];\r\n    \t\tarr[end]=temp;\r\n    \t\treturn end;\r\n    \t}\r\n    \t\r\n    \tpublic static void quickSort(int[] input,int startIndex, int endIndex) {\r\n    \t\t/* Your class should be named Solution\r\n    \t\t * Don&#39;t write main().\r\n    \t\t * Don&#39;t read input, it is passed as function argument.\r\n    \t\t * No need to print or return the output.\r\n    \t\t * Taking input and printing output is handled automatically.\r\n    \t\t */\r\n    \t\tif(startIndex&lt;endIndex)\r\n    \t\t{\r\n    \t\t\tint loc=partition(input, startIndex, endIndex);\r\n    \t\t\tquickSort(input,startIndex,loc-1);\r\n    \t\t\tquickSort(input,loc+1,endIndex );\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\nI have tried quick sort but out of 15 test cases 7 has been passsed and rest are giving ArrayIndexOutOfBoundsException. \r\nSample input is\r\n302 401 679 712 389 377 259 605 553 467 357 998 294 369 913 932 859 324 282 161 879 344 205 988 356 \r\n\r\n ","title":"Quick Sort code issue giving array out of bound exception","body":"<pre><code>public class Solution {\n\n    public static int partition(int []arr,int lb,int ub)\n    {\n        int start=lb;\n        int end=ub;\n        int pivot=arr[lb];\n        while(start&lt;end)\n        {\n            while(arr[start]&lt;=pivot)\n            {\n                start++;\n            }\n            while(arr[end]&gt;pivot)\n            {\n                end--;\n            }\n            if(start&lt;end)\n            {\n                int temp=arr[start];\n                arr[start]=arr[end];\n                arr[end]=temp;\n            }\n        }\n        int temp=arr[lb];\n        arr[lb]=arr[end];\n        arr[end]=temp;\n        return end;\n    }\n    \n    public static void quickSort(int[] input,int startIndex, int endIndex) {\n        /* Your class should be named Solution\n         * Don't write main().\n         * Don't read input, it is passed as function argument.\n         * No need to print or return the output.\n         * Taking input and printing output is handled automatically.\n         */\n        if(startIndex&lt;endIndex)\n        {\n            int loc=partition(input, startIndex, endIndex);\n            quickSort(input,startIndex,loc-1);\n            quickSort(input,loc+1,endIndex );\n        }\n    }\n    \n}\n</code></pre>\n<p>I have tried quick sort but out of 15 test cases 7 has been passsed and rest are giving ArrayIndexOutOfBoundsException.\nSample input is\n302 401 679 712 389 377 259 605 553 467 357 998 294 369 913 932 859 324 282 161 879 344 205 988 356</p>\n"},{"tags":["java","amazon-web-services","spring-boot","rabbitmq","amazon-mq"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1630317692,"post_id":68952297,"comment_id":121914680,"body_markdown":"As of now, there does not seem to be a way to change the configuration (rabbitmq.conf) of a managed aws rabbitmq instance.  I have tried rabbitmqadmin.  There is another tool called rabbitmqctl but I looked at the documentation and there doesn&#39;t seem to be an option to modify configuration either.\n\nDo you have an option of setting up rabbitmq on an EC2 instance? Then you can modify the rabbitmq.conf directly...\n\n# 30 minutes in milliseconds\nconsumer_timeout = 1800000","body":"As of now, there does not seem to be a way to change the configuration (rabbitmq.conf) of a managed aws rabbitmq instance.  I have tried rabbitmqadmin.  There is another tool called rabbitmqctl but I looked at the documentation and there doesn&#39;t seem to be an option to modify configuration either.  Do you have an option of setting up rabbitmq on an EC2 instance? Then you can modify the rabbitmq.conf directly...  # 30 minutes in milliseconds consumer_timeout = 1800000"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1630317742,"post_id":68952297,"comment_id":121914695,"body_markdown":"Your other option is to acknowledge messages right away, and then process them...but the problem with that is what happens if a message does not process correctly?  It will be not be resent by AMQ again","body":"Your other option is to acknowledge messages right away, and then process them...but the problem with that is what happens if a message does not process correctly?  It will be not be resent by AMQ again"},{"owner":{"account_id":7093174,"reputation":739,"user_id":5427735,"accept_rate":62,"display_name":"Swagat"},"score":0,"creation_date":1630326721,"post_id":68952297,"comment_id":121918095,"body_markdown":"Thank you!\nThis is very helpful, I&#39;ll raise an AWS support ticket and see if they have any option to change this.","body":"Thank you! This is very helpful, I&#39;ll raise an AWS support ticket and see if they have any option to change this."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1630327867,"post_id":68952297,"comment_id":121918640,"body_markdown":"Hope you get an answer and if you do please update us here :). Good luck","body":"Hope you get an answer and if you do please update us here :). Good luck"}],"answers":[{"tags":[],"owner":{"account_id":7093174,"reputation":739,"user_id":5427735,"accept_rate":62,"display_name":"Swagat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1630589387,"creation_date":1630589387,"answer_id":69031260,"question_id":68952297,"body_markdown":"**This is the response from AWS support.**\r\n\r\nFrom my understanding, I see that your workload is currently affected by the consumer_timeout parameter that was introduced in v3.8.15.\r\nWe have had a number of reach outs due to this, unfortunately, the service team has confirmed that while they can manually edit the rabbitmq.conf, this will be overwritten on the next reboot or failover and thus is not a recommended solution. This will also mean that all security patching on the brokers where a manual change is applied, will have to be paused. Currently, the service does not support custom user configurations for RabbitMQ from this configuration file, but have confirmed they are looking to address this in future, however, is not able to an ETA on when this will available.\r\n\r\nFrom the RabbitMQ github, it seems this was added for quorum queues in v3.8.15 (https://github.com/rabbitmq/rabbitmq-server/releases/tag/v3.8.15 ), but seems to apply to all consumers (https://github.com/rabbitmq/rabbitmq-server/pull/2990 ).\r\n\r\nUnfortunately, RabbitMQ itself does not support downgrades (https://www.rabbitmq.com/upgrade.html )\r\nThus the recommended workaround and safest action form the service team, as of now is to create a new broker on an older version (3.8.11) and set auto minor version upgrade to false, so that it wont be upgraded.\r\nThen export the configuration from the existing RabbitMQ instance and import it into new instance and use this instance going forward.","title":"RabbitMQ Delivery Acknowledgement Timeout","body":"<p><strong>This is the response from AWS support.</strong></p>\n<p>From my understanding, I see that your workload is currently affected by the consumer_timeout parameter that was introduced in v3.8.15.\nWe have had a number of reach outs due to this, unfortunately, the service team has confirmed that while they can manually edit the rabbitmq.conf, this will be overwritten on the next reboot or failover and thus is not a recommended solution. This will also mean that all security patching on the brokers where a manual change is applied, will have to be paused. Currently, the service does not support custom user configurations for RabbitMQ from this configuration file, but have confirmed they are looking to address this in future, however, is not able to an ETA on when this will available.</p>\n<p>From the RabbitMQ github, it seems this was added for quorum queues in v3.8.15 (<a href=\"https://github.com/rabbitmq/rabbitmq-server/releases/tag/v3.8.15\" rel=\"nofollow noreferrer\">https://github.com/rabbitmq/rabbitmq-server/releases/tag/v3.8.15</a> ), but seems to apply to all consumers (<a href=\"https://github.com/rabbitmq/rabbitmq-server/pull/2990\" rel=\"nofollow noreferrer\">https://github.com/rabbitmq/rabbitmq-server/pull/2990</a> ).</p>\n<p>Unfortunately, RabbitMQ itself does not support downgrades (<a href=\"https://www.rabbitmq.com/upgrade.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/upgrade.html</a> )\nThus the recommended workaround and safest action form the service team, as of now is to create a new broker on an older version (3.8.11) and set auto minor version upgrade to false, so that it wont be upgraded.\nThen export the configuration from the existing RabbitMQ instance and import it into new instance and use this instance going forward.</p>\n"},{"tags":[],"owner":{"account_id":3344521,"reputation":823,"user_id":2809934,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648627444,"creation_date":1648627444,"answer_id":71673638,"question_id":68952297,"body_markdown":"Reply From AWS Support: \r\n\r\nConsumer timeout is now configurable but can be done only by the service team. The change will be permanent irrespective of any version. \r\n\r\nSo you may update RabbitMQ to latest, and no need to stick with 3.8.11. Provide your broker details and desired timeout, they should be able to do it for you.","title":"RabbitMQ Delivery Acknowledgement Timeout","body":"<p>Reply From AWS Support:</p>\n<p>Consumer timeout is now configurable but can be done only by the service team. The change will be permanent irrespective of any version.</p>\n<p>So you may update RabbitMQ to latest, and no need to stick with 3.8.11. Provide your broker details and desired timeout, they should be able to do it for you.</p>\n"},{"tags":[],"owner":{"account_id":5432,"reputation":6713,"user_id":8739,"accept_rate":74,"display_name":"Stefan Moser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696003107,"creation_date":1696002696,"answer_id":77203273,"question_id":68952297,"body_markdown":"You&#39;re right that this is happening because of the delivery acknowledgement timeout. A default value of 30 minutes was introduced in RabbitMQ version 3.8.15.\r\n\r\nYou can set the `consumer_timeout` value through configuration in Amazon MQ. https://aws.amazon.com/about-aws/whats-new/2023/07/amazon-mq-managed-configuration-rabbitmq-brokers/\r\n\r\nHere&#39;s a guide for how to apply configuration to your Amazon MQ broker. https://docs.aws.amazon.com/amazon-mq/latest/developer-guide/rmq-configuration.html\r\n\r\nStarting in RabbitMQ version 3.12 you can set the delivery acknowledgement timeout with a policy.\r\nhttps://www.rabbitmq.com/consumers.html#acknowledgement-timeout","title":"RabbitMQ Delivery Acknowledgement Timeout","body":"<p>You're right that this is happening because of the delivery acknowledgement timeout. A default value of 30 minutes was introduced in RabbitMQ version 3.8.15.</p>\n<p>You can set the <code>consumer_timeout</code> value through configuration in Amazon MQ. <a href=\"https://aws.amazon.com/about-aws/whats-new/2023/07/amazon-mq-managed-configuration-rabbitmq-brokers/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/about-aws/whats-new/2023/07/amazon-mq-managed-configuration-rabbitmq-brokers/</a></p>\n<p>Here's a guide for how to apply configuration to your Amazon MQ broker. <a href=\"https://docs.aws.amazon.com/amazon-mq/latest/developer-guide/rmq-configuration.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazon-mq/latest/developer-guide/rmq-configuration.html</a></p>\n<p>Starting in RabbitMQ version 3.12 you can set the delivery acknowledgement timeout with a policy.\n<a href=\"https://www.rabbitmq.com/consumers.html#acknowledgement-timeout\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/consumers.html#acknowledgement-timeout</a></p>\n"}],"owner":{"account_id":7093174,"reputation":739,"user_id":5427735,"accept_rate":62,"display_name":"Swagat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3468,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69031260,"answer_count":3,"score":4,"last_activity_date":1696003107,"creation_date":1630062023,"question_id":68952297,"body_markdown":"I am using a managed RabbitMQ cluster through AWS Amazon-MQ. If the consumers finish their work quickly then everything is working fine. However, depending on few scenarios few consumers are taking more than 30 mins to complete the processing. \r\nIn that scenarios, RabbitMQ deletes the consumer and makes the same messages visible again in the queue. Becasue of this another consumer picks it up and starts processing. It is happing in the loop. Therefore the same transaction is getting executed again and I am loosing the consumer as well. \r\nI am not using any **AcknowledgeMode** so I believe it&#39;s AUTO by default and it has 30 mins limit.\r\nIs there any way to increase the Delivery Acknowledgement Timeout for AUTO mode?\r\nOr please let me know if anyone has any other solutions for this.\r\n","title":"RabbitMQ Delivery Acknowledgement Timeout","body":"<p>I am using a managed RabbitMQ cluster through AWS Amazon-MQ. If the consumers finish their work quickly then everything is working fine. However, depending on few scenarios few consumers are taking more than 30 mins to complete the processing.\nIn that scenarios, RabbitMQ deletes the consumer and makes the same messages visible again in the queue. Becasue of this another consumer picks it up and starts processing. It is happing in the loop. Therefore the same transaction is getting executed again and I am loosing the consumer as well.\nI am not using any <strong>AcknowledgeMode</strong> so I believe it's AUTO by default and it has 30 mins limit.\nIs there any way to increase the Delivery Acknowledgement Timeout for AUTO mode?\nOr please let me know if anyone has any other solutions for this.</p>\n"},{"tags":["java","serialization","jackson"],"answers":[{"tags":[],"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696002949,"creation_date":1696002949,"answer_id":77203300,"question_id":77203261,"body_markdown":"Yes, you can annotate the `object` field in `ResponseA` and `ResponseB` with `@JsonRawValue`, convert it to a `String`,  and serialize it in a separate step.","title":"Jackson: Serialize the same object into multiple JSONs","body":"<p>Yes, you can annotate the <code>object</code> field in <code>ResponseA</code> and <code>ResponseB</code> with <code>@JsonRawValue</code>, convert it to a <code>String</code>,  and serialize it in a separate step.</p>\n"}],"owner":{"account_id":16016792,"reputation":192,"user_id":12170868,"display_name":"Mat&#237;as Santurio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77203300,"answer_count":1,"score":0,"last_activity_date":1696002949,"creation_date":1696002523,"question_id":77203261,"body_markdown":"I have two POJOs that look like:\r\n\r\n```java\r\npublic ResponseA {\r\n  private HeavyObject object;\r\n  private AdditionalDataA additionalData;\r\n\r\n  public ResponseA(HeavyObject object, AdditionalDataA additionalData) {\r\n    this.object = object;\r\n    this.additionalData = additionalData;\r\n  }\r\n}\r\n```\r\n\r\n\r\n```java\r\npublic ResponseB {\r\n  private HeavyObject object;\r\n  private AdditionalDataB additionalData;\r\n\r\n  public ResponseB(HeavyObject object, AdditionalDataB additionalData) {\r\n    this.object = object;\r\n    this.additionalData = additionalData;\r\n  }\r\n}\r\n```\r\n\r\nand then I have a method that sends these objects to different endpoints, something like:\r\n\r\n```java\r\n  public void sendResponses(\r\n      ObjectMapper mapper, \r\n      HeavyObject object, \r\n      AdditionalDataA addDataA, \r\n      AdditionalDataB addDataB) {\r\n\r\n    // Here object is serialized twice, which is costly!\r\n    String jsonA = mapper.writeValueAsString(new ResponseA(object, addDataA));\r\n    String jsonB = mapper.writeValueAsString(new ResponseB(object, addDataB));\r\n    sendResponseA(jsonA);\r\n    sendResponseB(jsonB);\r\n}\r\n```\r\n\r\nIs there a way I could serialize these responses so that the `HeavyObject` is serialized only once?\r\n","title":"Jackson: Serialize the same object into multiple JSONs","body":"<p>I have two POJOs that look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseA {\n  private HeavyObject object;\n  private AdditionalDataA additionalData;\n\n  public ResponseA(HeavyObject object, AdditionalDataA additionalData) {\n    this.object = object;\n    this.additionalData = additionalData;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseB {\n  private HeavyObject object;\n  private AdditionalDataB additionalData;\n\n  public ResponseB(HeavyObject object, AdditionalDataB additionalData) {\n    this.object = object;\n    this.additionalData = additionalData;\n  }\n}\n</code></pre>\n<p>and then I have a method that sends these objects to different endpoints, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public void sendResponses(\n      ObjectMapper mapper, \n      HeavyObject object, \n      AdditionalDataA addDataA, \n      AdditionalDataB addDataB) {\n\n    // Here object is serialized twice, which is costly!\n    String jsonA = mapper.writeValueAsString(new ResponseA(object, addDataA));\n    String jsonB = mapper.writeValueAsString(new ResponseB(object, addDataB));\n    sendResponseA(jsonA);\n    sendResponseB(jsonB);\n}\n</code></pre>\n<p>Is there a way I could serialize these responses so that the <code>HeavyObject</code> is serialized only once?</p>\n"},{"tags":["java","spring-boot","odata","olingo"],"comments":[{"owner":{"account_id":2904628,"reputation":6707,"user_id":2490343,"accept_rate":100,"display_name":"Shiva"},"score":0,"creation_date":1693391923,"post_id":76995940,"comment_id":135753756,"body_markdown":"are you using JPA provider or the standard Olgino 4 library?","body":"are you using JPA provider or the standard Olgino 4 library?"},{"owner":{"account_id":8815738,"reputation":694,"user_id":6587216,"display_name":"Elias"},"score":0,"creation_date":1693400930,"post_id":76995940,"comment_id":135755726,"body_markdown":"Thank you Shiva for your response, I am using standart Olingo 4 library. I editted the question with imported packages for your reference.","body":"Thank you Shiva for your response, I am using standart Olingo 4 library. I editted the question with imported packages for your reference."},{"owner":{"account_id":2904628,"reputation":6707,"user_id":2490343,"accept_rate":100,"display_name":"Shiva"},"score":0,"creation_date":1693688024,"post_id":76995940,"comment_id":135794373,"body_markdown":"`CsdlProperty details=new CsdlProperty().setName(&quot;details&quot;).setType(EdmPrimitiveTypeKind.String.getFullQulifiedName())` would not defining the property in the metadata not help?","body":"<code>CsdlProperty details=new CsdlProperty().setName(&quot;details&quot;).setType(EdmPrimitiveTypeKi&zwnj;&#8203;nd.String.getFullQul&zwnj;&#8203;ifiedName())</code> would not defining the property in the metadata not help?"}],"answers":[{"tags":[],"owner":{"account_id":8815738,"reputation":694,"user_id":6587216,"display_name":"Elias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696002611,"creation_date":1696002611,"answer_id":77203268,"question_id":76995940,"body_markdown":"I could able to solve this issue by creating custom annotation and validating the annotation:\r\n\r\n    //Exclude.java\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @Target(ElementType.FIELD)\r\n        public @interface Exclude{\r\n        String name() default &quot;&quot;;\r\n        }\r\n    \r\n    //URIValidation.java\r\n    public class URIValidation{\r\n    public static void validatePropertyExcluded(UriInfo uriInfo, IGetEntityData entityDataClass)throws Exception{\r\n    String filterField = null;\r\n    try{\r\n    FilterOption filterOption=uriInfo.getFilterOption();\r\n    if(filterOption !=null){\r\n    List&lt;String&gt; leftOperands = new ArrayList&lt;&gt;();\r\n    BinaryImpl binaryImpl=(BinaryImpl)filterOption.getExpression();\r\n    collectOperands(binaryImpl,leftOperands);\r\n    ParamerterizedType pt = (ParameterizedType) entityDataClass.getClass().getGenericInterfaces()[0];\r\n    for(Field field: entityClass.getDeclaredFields()){\r\n    Annotation[] annotations = field.getDeclaredAnnotationsByType(Exclude.class);\r\n    if(annotations.length &gt;0){\r\n    if(!leftOperands.isEmpty() &amp;&amp; leftOperands.contains(field.getName())){\r\n    throw new ODataRuntimeException(Given Filkter Field &quot; +filed.getName() + &quot; Not Found or Not Supported&quot;);\r\n    }\r\n    }\r\n    }\r\n    }catch(Exception e){\r\n    e.printStackTrace();\r\n    throw e;\r\n    }\r\n    \r\n    }\r\n    \r\n    private static void collectOperands(VisitableExpression expression, List&lt;String&gt; leftOperands){\r\n    if(expression instanceof BinaryImpl){\r\n    BinaryImpl binary=(BinaryImpl) expression;\r\n    collectOperands(binary.getLeftOperand(), leftOperands);\r\n    collectOperands(binary.getRightOperand(), leftOperands);\r\n    }else if(expression instanceof MemberImpl){\r\n    MemberImpl member = (MemberImpl) expression;\r\n    String field = member.toString().replaceAll(&quot;\\\\[\\\\]&quot;,&quot;&quot;);\r\n    leftOperands.add(field);\r\n    }\r\n    }\r\n    }\r\n    \r\n    //EntityCollectionProcessorImpl.java\r\n    public void readEntityCollection(){\r\n    ...\r\n    URIValidation.validatePropertyExcluded(uriInfo,entityDataObject);\r\n    ...\r\n    }","title":"how to exclude a property in Olingo Odata4 java spring boot in response","body":"<p>I could able to solve this issue by creating custom annotation and validating the annotation:</p>\n<pre><code>//Exclude.java\n    @Retention(RetentionPolicy.RUNTIME)\n    @Target(ElementType.FIELD)\n    public @interface Exclude{\n    String name() default &quot;&quot;;\n    }\n\n//URIValidation.java\npublic class URIValidation{\npublic static void validatePropertyExcluded(UriInfo uriInfo, IGetEntityData entityDataClass)throws Exception{\nString filterField = null;\ntry{\nFilterOption filterOption=uriInfo.getFilterOption();\nif(filterOption !=null){\nList&lt;String&gt; leftOperands = new ArrayList&lt;&gt;();\nBinaryImpl binaryImpl=(BinaryImpl)filterOption.getExpression();\ncollectOperands(binaryImpl,leftOperands);\nParamerterizedType pt = (ParameterizedType) entityDataClass.getClass().getGenericInterfaces()[0];\nfor(Field field: entityClass.getDeclaredFields()){\nAnnotation[] annotations = field.getDeclaredAnnotationsByType(Exclude.class);\nif(annotations.length &gt;0){\nif(!leftOperands.isEmpty() &amp;&amp; leftOperands.contains(field.getName())){\nthrow new ODataRuntimeException(Given Filkter Field &quot; +filed.getName() + &quot; Not Found or Not Supported&quot;);\n}\n}\n}\n}catch(Exception e){\ne.printStackTrace();\nthrow e;\n}\n\n}\n\nprivate static void collectOperands(VisitableExpression expression, List&lt;String&gt; leftOperands){\nif(expression instanceof BinaryImpl){\nBinaryImpl binary=(BinaryImpl) expression;\ncollectOperands(binary.getLeftOperand(), leftOperands);\ncollectOperands(binary.getRightOperand(), leftOperands);\n}else if(expression instanceof MemberImpl){\nMemberImpl member = (MemberImpl) expression;\nString field = member.toString().replaceAll(&quot;\\\\[\\\\]&quot;,&quot;&quot;);\nleftOperands.add(field);\n}\n}\n}\n\n//EntityCollectionProcessorImpl.java\npublic void readEntityCollection(){\n...\nURIValidation.validatePropertyExcluded(uriInfo,entityDataObject);\n...\n}\n</code></pre>\n"}],"owner":{"account_id":8815738,"reputation":694,"user_id":6587216,"display_name":"Elias"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696002611,"creation_date":1693255695,"question_id":76995940,"body_markdown":"how to exclude a property in Olingo Odata4 java spring boo in response?\r\nFor example in the below example need to exclude &quot;details&quot; property in the response\r\n\r\n    //Employee.java  \r\n    \r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;\r\n    \r\n    \r\n        @Entity\r\n        @Table(schema=&quot;EMPLOWNER&quot;, name=&quot;EMPLOYEE&quot;)\r\n        public class Employee{\r\n        private String empId;\r\n        private String empName;\r\n        // Need to exclude in response with an annotation\r\n        private String details;\r\n        }\r\n\r\nBelow is the code for setting CsdlProperty using Olingo:    \r\nEmployeeCsdlEntityType.java\r\n\r\n    import org.apache.olingo.commons.api.edm.EdmPrimitiveTypeKind;\r\n    import org.apache.olingo.commons.api.edm.provider.CsdlAnnotation;\r\n    import org.apache.olingo.commons.api.edm.provider.CsdlEntityType;\r\n    import org.apache.olingo.commons.api.edm.provider.CsdlProperty;\r\n    import org.apache.olingo.commons.api.edm.provider.CsdlPropertyRef;\r\n    import org.apache.olingo.commons.api.edm.provider.annotation.CsdlConstantExpression;\r\n    \r\n    public class EmplCsdlEntityType implements ICsdlEntityType{\r\n    \r\n    @Override\r\n    public CsdlEntityType getCsdlEntityType(EntityDetailEnum entityDetailEnum){\r\n    CsdlProperty empId=new CsdlProperty().setName(&quot;empId&quot;).setType(EdmPrimitiveTypeKind.String.getFullQulifiedName());\r\n    CsdlProperty empName=new CsdlProperty().setName(&quot;empName&quot;).setType(EdmPrimitiveTypeKind.String.getFullQulifiedName());\r\n    CsdlProperty details=new CsdlProperty().setName(&quot;details&quot;).setType(EdmPrimitiveTypeKind.String.getFullQulifiedName());\r\n    \r\n    CsdlPropertyRef propRef=new CsdlPropertyRef();\r\n    propRef.setName(&quot;Id&quot;);\r\n    \r\n    CsdlEntityType entityType=new CsdlEntityType();\r\n    entityType.setName(entityDetailEnum.getEntityType());\r\n    entityType.setProperties(Arrays.asList(empId,empName,details))\r\n    entityType.setKey(Collections.singletonList(propertyRefOwner));\r\n    return entityType;\r\n    }\r\n    }","title":"how to exclude a property in Olingo Odata4 java spring boot in response","body":"<p>how to exclude a property in Olingo Odata4 java spring boo in response?\nFor example in the below example need to exclude &quot;details&quot; property in the response</p>\n<pre><code>//Employee.java  \n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n\n    @Entity\n    @Table(schema=&quot;EMPLOWNER&quot;, name=&quot;EMPLOYEE&quot;)\n    public class Employee{\n    private String empId;\n    private String empName;\n    // Need to exclude in response with an annotation\n    private String details;\n    }\n</code></pre>\n<p>Below is the code for setting CsdlProperty using Olingo:<br />\nEmployeeCsdlEntityType.java</p>\n<pre><code>import org.apache.olingo.commons.api.edm.EdmPrimitiveTypeKind;\nimport org.apache.olingo.commons.api.edm.provider.CsdlAnnotation;\nimport org.apache.olingo.commons.api.edm.provider.CsdlEntityType;\nimport org.apache.olingo.commons.api.edm.provider.CsdlProperty;\nimport org.apache.olingo.commons.api.edm.provider.CsdlPropertyRef;\nimport org.apache.olingo.commons.api.edm.provider.annotation.CsdlConstantExpression;\n\npublic class EmplCsdlEntityType implements ICsdlEntityType{\n\n@Override\npublic CsdlEntityType getCsdlEntityType(EntityDetailEnum entityDetailEnum){\nCsdlProperty empId=new CsdlProperty().setName(&quot;empId&quot;).setType(EdmPrimitiveTypeKind.String.getFullQulifiedName());\nCsdlProperty empName=new CsdlProperty().setName(&quot;empName&quot;).setType(EdmPrimitiveTypeKind.String.getFullQulifiedName());\nCsdlProperty details=new CsdlProperty().setName(&quot;details&quot;).setType(EdmPrimitiveTypeKind.String.getFullQulifiedName());\n\nCsdlPropertyRef propRef=new CsdlPropertyRef();\npropRef.setName(&quot;Id&quot;);\n\nCsdlEntityType entityType=new CsdlEntityType();\nentityType.setName(entityDetailEnum.getEntityType());\nentityType.setProperties(Arrays.asList(empId,empName,details))\nentityType.setKey(Collections.singletonList(propertyRefOwner));\nreturn entityType;\n}\n}\n</code></pre>\n"},{"tags":["java","junit-jupiter"],"owner":{"account_id":1545258,"reputation":1177,"user_id":1438934,"accept_rate":18,"display_name":"Anish Mittal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696002338,"creation_date":1696002338,"question_id":77203238,"body_markdown":"I have a class Logic.java which is defined as:\r\n\r\n    @Component\r\n    public class Logic{\r\n\r\n        @Autowired\r\n        @Lazy\r\n        OptionRepo optionRepo;\r\n\r\n        @Autowired\r\n        @Lazy\r\n        Status status;\r\n    \r\n\r\n        public Set&lt;String&gt; getOptions(String str1, String str2, List&lt;Object&gt; objects){\r\n            optionRepo.getOptions(str1, str2, objects).forEach(option -&gt; objects.stream() // Some code );\r\n        }\r\n\r\n    }\r\n\r\n    @Repository\r\n    public class OptionRepo{\r\n        public List&lt;String&gt; getOptions(String str1, String str2, List&lt;Object&gt; objects);\r\n    }\r\n\r\nNow, I have Test.java class.\r\n\r\n    @SpringBootTest\r\n    public class Test{\r\n        @Mock\r\n        OptionRepo optionRepo;  // --&gt; Not working\r\n\r\n        //@MockBean \r\n        //OptionRepo optionRepo;   // --&gt; Not working\r\n\r\n        @Mock\r\n        Status status;\r\n\r\n        @Test\r\n        public void testMethod(){\r\n            String str1 = &quot;str1&quot;;\r\n            String str2 = &quot;str2&quot;;\r\n            Object obj = new Object();\r\n\r\n            Mockito.when(optionRepo).getOptions(str1, str2, List.of(obj)).thenReturn(Some Set of String);  // --&gt; Not working\r\n\r\n            when(optionRepo.getOptions()).thenReturn(Some Set of String); // --&gt; Not working\r\n\r\n            when(status.getStatus()).thenReturn(status String);  // --&gt; works Well!\r\n            \r\n        }\r\n    }\r\n\r\nAt runtime, I get optionRepo as null. None of the above mocking options work.\r\nBut,  @Repository class Status.java works fine.\r\n\r\n\r\nI don&#39;t know why OptionRepo&#39;s  mocked bean doesn&#39;t work. But mocked Status.java bean works.\r\n\r\n","title":"NullPointerExecption on mocked @Repository object in SpringBoot Project","body":"<p>I have a class Logic.java which is defined as:</p>\n<pre><code>@Component\npublic class Logic{\n\n    @Autowired\n    @Lazy\n    OptionRepo optionRepo;\n\n    @Autowired\n    @Lazy\n    Status status;\n\n\n    public Set&lt;String&gt; getOptions(String str1, String str2, List&lt;Object&gt; objects){\n        optionRepo.getOptions(str1, str2, objects).forEach(option -&gt; objects.stream() // Some code );\n    }\n\n}\n\n@Repository\npublic class OptionRepo{\n    public List&lt;String&gt; getOptions(String str1, String str2, List&lt;Object&gt; objects);\n}\n</code></pre>\n<p>Now, I have Test.java class.</p>\n<pre><code>@SpringBootTest\npublic class Test{\n    @Mock\n    OptionRepo optionRepo;  // --&gt; Not working\n\n    //@MockBean \n    //OptionRepo optionRepo;   // --&gt; Not working\n\n    @Mock\n    Status status;\n\n    @Test\n    public void testMethod(){\n        String str1 = &quot;str1&quot;;\n        String str2 = &quot;str2&quot;;\n        Object obj = new Object();\n\n        Mockito.when(optionRepo).getOptions(str1, str2, List.of(obj)).thenReturn(Some Set of String);  // --&gt; Not working\n\n        when(optionRepo.getOptions()).thenReturn(Some Set of String); // --&gt; Not working\n\n        when(status.getStatus()).thenReturn(status String);  // --&gt; works Well!\n        \n    }\n}\n</code></pre>\n<p>At runtime, I get optionRepo as null. None of the above mocking options work.\nBut,  @Repository class Status.java works fine.</p>\n<p>I don't know why OptionRepo's  mocked bean doesn't work. But mocked Status.java bean works.</p>\n"},{"tags":["java","spring","spring-security","spring-scheduled","spring-context"],"comments":[{"owner":{"account_id":2695567,"reputation":570,"user_id":2327723,"display_name":"Ehab Qadah"},"score":0,"creation_date":1590683751,"post_id":62069695,"comment_id":109779761,"body_markdown":"What do you mean by the current user?","body":"What do you mean by the current user?"},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":1,"creation_date":1590683869,"post_id":62069695,"comment_id":109779823,"body_markdown":"https://www.baeldung.com/spring-security-async-principal-propagation","body":"<a href=\"https://www.baeldung.com/spring-security-async-principal-propagation\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-async-principal-propagation</a>"}],"answers":[{"tags":[],"owner":{"account_id":3266555,"reputation":1740,"user_id":3554075,"display_name":"Rajeev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663711359,"creation_date":1590825265,"answer_id":62099454,"question_id":62069695,"body_markdown":"Given excerpt will never work. \r\n\r\n**Explanation:** \r\n\r\nNative session management is provided by underlying servlet API and container. `HttpSession` object is only created when the user logs in using `request.getSession()` under the hood and later this `HttpSession` will be used by `SecurityContextHolder.getContext().getAuthentication();` internally.  This means it has a relation with the user&#39;s request which is a container-managed thread, not plain old JVM thread on which your scheduler will run. \r\n\r\n\r\nHere your scheduler does not have any dependency on the user it will run independently on JVM managed thread. So no `HttpRequest/HttpSession` object will be created at all. \r\n\r\nImagine the very first time when you start the application and no user yet logged in then what would be scenario here. \r\n\r\nSo you will always get `securitycontext/auth` as null only. \r\n\r\n**To answer your question** \r\n&gt; If this is not possible then what could be the right way to run user\r\n&gt; specific authentication aware scheduled task?\r\n\r\n\r\nOne way I can think of right now is, Use of spring provided `SessionRegistry`. \r\nIt keeps track of all currently logged-in users. \r\n\r\nSo you can pass this `SessionRegistry` object by autowiring to this scheduler and get list of all principal/logged-in users and send them a notification.  \r\n\r\nSomething like below - \r\n\r\n        @EnableScheduling\r\n        @Component\r\n        public class MyScheduler { \r\n\r\n        @Autowired\r\n        @Qualifier(&quot;sessionRegistry&quot;)\r\n        private SessionRegistry sessionRegistry;\r\n        @Scheduled(fixedDelay = 10000)\r\n        // This method will send notifications to the current user\r\n        public void sendUserNotifications() {\r\n        List&lt;UserDetails&gt; principals = sessionRegistry.getAllPrincipals()\r\n            .stream()\r\n            .filter(principal -&gt; principal instanceof UserDetails)\r\n            .map(UserDetails.class::cast)\r\n            .collect(Collectors.toList());\r\n\r\n        // send notification to all users. \t\t\r\n       }\r\n\r\n\r\nAlso, you have to enable sessionRegistry in your security config first you have to listen to HTTP sessions and then configure registry in your security config. \r\n\r\n\r\n\t\t\tpublic class AppInitializer implements WebApplicationInitializer {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onStartup(ServletContext servletContext) {\r\n\t\t\t...\r\n\t\t\tservletContext.addListener(HttpSessionEventPublisher.class);\r\n\t\t\t }\r\n            }\r\n\r\nand security config - \r\n\r\n \r\n\r\n     @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(final HttpSecurity http) throws Exception {\r\n            // ...\r\n            http.sessionManagement().maxSession(1).sessionRegistry(sessionRegistry());\r\n        }\r\n    \r\n        @Bean\r\n        public SessionRegistry sessionRegistry() {\r\n            return new SessionRegistryImpl();\r\n        }\r\n    \r\n        @Bean\r\n        public HttpSessionEventPublisher httpSessionEventPublisher() {\r\n            return new HttpSessionEventPublisher();\r\n        }\r\n     }\r\n\r\n\r\nFor more details of how to get current logged in users [see here][1]. \r\n\r\n  [1]: https://www.baeldung.com/spring-security-track-logged-in-users","title":"Spring @Scheduled method SecurityContext","body":"<p>Given excerpt will never work.</p>\n<p><strong>Explanation:</strong></p>\n<p>Native session management is provided by underlying servlet API and container. <code>HttpSession</code> object is only created when the user logs in using <code>request.getSession()</code> under the hood and later this <code>HttpSession</code> will be used by <code>SecurityContextHolder.getContext().getAuthentication();</code> internally.  This means it has a relation with the user's request which is a container-managed thread, not plain old JVM thread on which your scheduler will run.</p>\n<p>Here your scheduler does not have any dependency on the user it will run independently on JVM managed thread. So no <code>HttpRequest/HttpSession</code> object will be created at all.</p>\n<p>Imagine the very first time when you start the application and no user yet logged in then what would be scenario here.</p>\n<p>So you will always get <code>securitycontext/auth</code> as null only.</p>\n<p><strong>To answer your question</strong></p>\n<blockquote>\n<p>If this is not possible then what could be the right way to run user\nspecific authentication aware scheduled task?</p>\n</blockquote>\n<p>One way I can think of right now is, Use of spring provided <code>SessionRegistry</code>.\nIt keeps track of all currently logged-in users.</p>\n<p>So you can pass this <code>SessionRegistry</code> object by autowiring to this scheduler and get list of all principal/logged-in users and send them a notification.</p>\n<p>Something like below -</p>\n<pre><code>    @EnableScheduling\n    @Component\n    public class MyScheduler { \n\n    @Autowired\n    @Qualifier(&quot;sessionRegistry&quot;)\n    private SessionRegistry sessionRegistry;\n    @Scheduled(fixedDelay = 10000)\n    // This method will send notifications to the current user\n    public void sendUserNotifications() {\n    List&lt;UserDetails&gt; principals = sessionRegistry.getAllPrincipals()\n        .stream()\n        .filter(principal -&gt; principal instanceof UserDetails)\n        .map(UserDetails.class::cast)\n        .collect(Collectors.toList());\n\n    // send notification to all users.      \n   }\n</code></pre>\n<p>Also, you have to enable sessionRegistry in your security config first you have to listen to HTTP sessions and then configure registry in your security config.</p>\n<pre><code>        public class AppInitializer implements WebApplicationInitializer {\n\n        @Override\n        public void onStartup(ServletContext servletContext) {\n        ...\n        servletContext.addListener(HttpSessionEventPublisher.class);\n         }\n        }\n</code></pre>\n<p>and security config -</p>\n<pre><code> @Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        // ...\n        http.sessionManagement().maxSession(1).sessionRegistry(sessionRegistry());\n    }\n\n    @Bean\n    public SessionRegistry sessionRegistry() {\n        return new SessionRegistryImpl();\n    }\n\n    @Bean\n    public HttpSessionEventPublisher httpSessionEventPublisher() {\n        return new HttpSessionEventPublisher();\n    }\n }\n</code></pre>\n<p>For more details of how to get current logged in users <a href=\"https://www.baeldung.com/spring-security-track-logged-in-users\" rel=\"nofollow noreferrer\">see here</a>.</p>\n"},{"tags":[],"owner":{"account_id":144130,"reputation":173,"user_id":1759445,"accept_rate":75,"display_name":"Sebasti&#227;o Santos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696001628,"creation_date":1696001628,"answer_id":77203187,"question_id":62069695,"body_markdown":"Rajeev above did a good introduction, there is no security context when running something scheduled, because the process is started by the system scheduler and not some user.\r\nThe good approach to use is them impersonate some user by saying &quot;hey, this job is run as if the &#39;someuser/systemuser&#39; have started it, and this user has some authorities like &#39;ROLE_BATCH&#39;&quot;. And at the end of the job, restart the eventually existent security context.\r\nSo, in code, you can do this:\r\n\r\n    SecurityContext originalSecurityContextBeforeImpersonate = SecurityContextHolder.getContext();\r\n    try {\r\n        SecurityContext runAsContext = SecurityContextHolder.createEmptyContext();\r\n        final AnonymousAuthenticationToken systemAuthentication = new AnonymousAuthenticationToken(&quot;keyHash&quot;, &quot;systemUser&quot;, Arrays.asList(new GrantedAuthority[] { new SimpleGrantedAuthority(&quot;ROLE_BATCH&quot;) }));\r\n        runAsContext.setAuthentication( systemAuthentication );\r\n        SecurityContextHolder.setContext(runAsContext);\r\n    \r\n        sendUserNotifications();\r\n    \r\n    } finally {\r\n        SecurityContextHolder.setContext(originalSecurityContextBeforeImpersonate);\r\n    }\r\n\r\n\r\n","title":"Spring @Scheduled method SecurityContext","body":"<p>Rajeev above did a good introduction, there is no security context when running something scheduled, because the process is started by the system scheduler and not some user.\nThe good approach to use is them impersonate some user by saying &quot;hey, this job is run as if the 'someuser/systemuser' have started it, and this user has some authorities like 'ROLE_BATCH'&quot;. And at the end of the job, restart the eventually existent security context.\nSo, in code, you can do this:</p>\n<pre><code>SecurityContext originalSecurityContextBeforeImpersonate = SecurityContextHolder.getContext();\ntry {\n    SecurityContext runAsContext = SecurityContextHolder.createEmptyContext();\n    final AnonymousAuthenticationToken systemAuthentication = new AnonymousAuthenticationToken(&quot;keyHash&quot;, &quot;systemUser&quot;, Arrays.asList(new GrantedAuthority[] { new SimpleGrantedAuthority(&quot;ROLE_BATCH&quot;) }));\n    runAsContext.setAuthentication( systemAuthentication );\n    SecurityContextHolder.setContext(runAsContext);\n\n    sendUserNotifications();\n\n} finally {\n    SecurityContextHolder.setContext(originalSecurityContextBeforeImpersonate);\n}\n</code></pre>\n"}],"owner":{"account_id":282141,"reputation":5676,"user_id":578855,"accept_rate":30,"display_name":"muasif80"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2887,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1696001628,"creation_date":1590683142,"question_id":62069695,"body_markdown":"Is `@Scheduled` annotated method out of any `SecurityContext`? When I try to use the following it always has `securitycontext/auth` as null. If this is not possible then what could be the right way to run user specific authentication aware scheduled task?\r\n\r\n        @Scheduled(fixedDelay = 10000)\r\n    \t// This method will send notifications to the current user\r\n    \tpublic void sendUserNotifications() {\r\n    \t\tSecurityContext sc = SecurityContextHolder.getContext();\r\n    \t\tAuthentication auth = sc.getAuthentication();\r\n    \t\t\r\n    \t\tif(auth == null) {\r\n    \t\t\t\r\n    \t\t\tlog.info(&quot;&gt;&gt; SecurityContext=[{}], Authentication[auth] is {}, please login to receive notifications&quot;, sc, auth);\r\n    \t\t\t\r\n    \t\t\treturn;\r\n    \t\t}","title":"Spring @Scheduled method SecurityContext","body":"<p>Is <code>@Scheduled</code> annotated method out of any <code>SecurityContext</code>? When I try to use the following it always has <code>securitycontext/auth</code> as null. If this is not possible then what could be the right way to run user specific authentication aware scheduled task?</p>\n\n<pre><code>    @Scheduled(fixedDelay = 10000)\n    // This method will send notifications to the current user\n    public void sendUserNotifications() {\n        SecurityContext sc = SecurityContextHolder.getContext();\n        Authentication auth = sc.getAuthentication();\n\n        if(auth == null) {\n\n            log.info(\"&gt;&gt; SecurityContext=[{}], Authentication[auth] is {}, please login to receive notifications\", sc, auth);\n\n            return;\n        }\n</code></pre>\n"},{"tags":["java","android","animation","android-animation","android-bottomsheetdialog"],"owner":{"display_name":"user22635266"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1696001262,"creation_date":1695710871,"question_id":77177575,"body_markdown":"It is easy to set slide animation to Android Bottom sheets in java. This approach uses android window and slide everything up. But the problem of this approach is appear when we want to add OvershootInterpolator to its animation. In such case, a gap appear between the bottom sheet bottom edge and screen bottom edge with duration of OvershootInterpolator duration. (see Below)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nI want the overshoot animation to be affected without windows jump.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**My try:** I tried to animate my layout using `objectAnimator` or with similar tool. But this approch has some problems. The container windows cuts everything out to its outline. and when bottomSheet layout reaches to its max height and tries to apply OvershootInterpolator (go a little further and back to current position) the bottomsheet head become invisible until it back to its normal position.\r\n\r\nHere is the my test Layout and code.\r\n\r\n\r\n```\r\n&lt;!-- bottom_sheet_dialog.xml --&gt;\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/rootLinearLayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;200dp&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:background=&quot;@color/#487948&quot;\r\n    app:layout_behavior=&quot;com.google.android.material.bottomsheet.BottomSheetBehavior&quot;&gt;\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n\r\n```\r\n&lt;!-- code --&gt;\r\n\r\nBottomSheetDialog sheetDialog = new BottomSheetDialog(this, R.style.TransparentBackgroundStyle);\r\n        sheetDialog.setContentView(R.layout.bottom_sheet_dialog);\r\n        Objects.requireNonNull(sheetDialog.getWindow()).setWindowAnimations(R.style.Slid);\r\n        sheetDialog.getBehavior().setState(BottomSheetBehavior.STATE_EXPANDED);\r\n        sheetDialog.show();\r\n```\r\n\r\nI tried to work with BottomSheetBehavior but I couldn&#39;t animate (show animation) bottomsheet. Instead I followed [this post](https://stackoverflow.com/q/71615874/22635266) and successfully animated it during user interaction and not in show or dismiss process.\r\n\r\n&gt;Can one use BottomSheetBehavior to animate bottomsheet during show or dismiss process?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CK4ew.png\r\n  [2]: https://i.stack.imgur.com/H2iv7.png\r\n  [3]: https://github.com/mcrovero/rubber/tree/master\r\n  [4]: https://i.stack.imgur.com/I1eB1.gif","title":"How to add OvershootInterpolator to Android (java) Bottom Sheet Dialog animation without causing empty gap?","body":"<p>It is easy to set slide animation to Android Bottom sheets in java. This approach uses android window and slide everything up. But the problem of this approach is appear when we want to add OvershootInterpolator to its animation. In such case, a gap appear between the bottom sheet bottom edge and screen bottom edge with duration of OvershootInterpolator duration. (see Below)</p>\n<p><a href=\"https://i.stack.imgur.com/CK4ew.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CK4ew.png\" alt=\"enter image description here\" /></a></p>\n<p>I want the overshoot animation to be affected without windows jump.</p>\n<p><a href=\"https://i.stack.imgur.com/H2iv7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H2iv7.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>My try:</strong> I tried to animate my layout using <code>objectAnimator</code> or with similar tool. But this approch has some problems. The container windows cuts everything out to its outline. and when bottomSheet layout reaches to its max height and tries to apply OvershootInterpolator (go a little further and back to current position) the bottomsheet head become invisible until it back to its normal position.</p>\n<p>Here is the my test Layout and code.</p>\n<pre><code>&lt;!-- bottom_sheet_dialog.xml --&gt;\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/rootLinearLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;200dp&quot;\n    android:orientation=&quot;vertical&quot;\n    android:background=&quot;@color/#487948&quot;\n    app:layout_behavior=&quot;com.google.android.material.bottomsheet.BottomSheetBehavior&quot;&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<pre><code>&lt;!-- code --&gt;\n\nBottomSheetDialog sheetDialog = new BottomSheetDialog(this, R.style.TransparentBackgroundStyle);\n        sheetDialog.setContentView(R.layout.bottom_sheet_dialog);\n        Objects.requireNonNull(sheetDialog.getWindow()).setWindowAnimations(R.style.Slid);\n        sheetDialog.getBehavior().setState(BottomSheetBehavior.STATE_EXPANDED);\n        sheetDialog.show();\n</code></pre>\n<p>I tried to work with BottomSheetBehavior but I couldn't animate (show animation) bottomsheet. Instead I followed <a href=\"https://stackoverflow.com/q/71615874/22635266\">this post</a> and successfully animated it during user interaction and not in show or dismiss process.</p>\n<blockquote>\n<p>Can one use BottomSheetBehavior to animate bottomsheet during show or dismiss process?</p>\n</blockquote>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1695998834,"post_id":77202859,"comment_id":136101823,"body_markdown":"Isn&#39;t the fix already in the question&#39;s title?","body":"Isn&#39;t the fix already in the question&#39;s title?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1695998972,"post_id":77202859,"comment_id":136101845,"body_markdown":"Does this answer your question? [Variable used in lambda expression should be final or effectively final](https://stackoverflow.com/questions/34865383/variable-used-in-lambda-expression-should-be-final-or-effectively-final)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34865383/variable-used-in-lambda-expression-should-be-final-or-effectively-final\">Variable used in lambda expression should be final or effectively final</a>"},{"owner":{"account_id":29563516,"reputation":3,"user_id":22657494,"display_name":"Lesleyys"},"score":0,"creation_date":1695999127,"post_id":77202859,"comment_id":136101889,"body_markdown":"I got the error: : local variables referenced from a lambda expression must be final or effectively final, but don&#39;t know how to solve the problem caused by the variable i","body":"I got the error: : local variables referenced from a lambda expression must be final or effectively final, but don&#39;t know how to solve the problem caused by the variable i"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1696020261,"post_id":77202859,"comment_id":136105449,"body_markdown":"@Lesleyys, this is because of _[lexical scoping](https://en.wikipedia.org/wiki/Scope_(computer_science)#Lexical_scope)_.  The _task_ object here is being assigned an _anonymous class_, a different scope entirely.","body":"@Lesleyys, this is because of <i><a href=\"https://en.wikipedia.org/wiki/Scope_(computer_science)#Lexical_scope\" rel=\"nofollow noreferrer\">lexical scoping</a></i>.  The <i>task</i> object here is being assigned an <i>anonymous class</i>, a different scope entirely."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1696000219,"creation_date":1695999838,"answer_id":77203007,"question_id":77202859,"body_markdown":"They need to be final because of the fakery that the variables inside your `Runnable` are the same variables as outside: actually, they are different variables, with the same names.\r\n\r\nIn order for that not to be confusing, Java forces the value of variables used inside the `Runnable` to be final (or effectively final) in order that they cannot be changed inside or outside the `Runnable`, meaning they must have the same value inside and outside.\r\n\r\nThe fix is simple: assign `i` to another (final) variable inside the loop:\r\n\r\n    for (int i = 0; i &lt; mystr.length(); i++) {\r\n        int ii = i;  // ii is effectively final.\r\n        Runnable task = () -&gt; {\r\n            System.out.print(mystr.charAt(ii));\r\n        };\r\n        // ...\r\n    }","title":"Why do variables passed to runnable need to be final? How to fix the problem?","body":"<p>They need to be final because of the fakery that the variables inside your <code>Runnable</code> are the same variables as outside: actually, they are different variables, with the same names.</p>\n<p>In order for that not to be confusing, Java forces the value of variables used inside the <code>Runnable</code> to be final (or effectively final) in order that they cannot be changed inside or outside the <code>Runnable</code>, meaning they must have the same value inside and outside.</p>\n<p>The fix is simple: assign <code>i</code> to another (final) variable inside the loop:</p>\n<pre><code>for (int i = 0; i &lt; mystr.length(); i++) {\n    int ii = i;  // ii is effectively final.\n    Runnable task = () -&gt; {\n        System.out.print(mystr.charAt(ii));\n    };\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":29563516,"reputation":3,"user_id":22657494,"display_name":"Lesleyys"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77203007,"answer_count":1,"score":-1,"last_activity_date":1696000219,"creation_date":1695998550,"question_id":77202859,"body_markdown":"```java\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class NewTest {\r\n\r\n    public static void main(String[] args) {\r\n        String mystr = &quot;banana&quot;;\r\n\r\n        ExecutorService executor = Executors.newFixedThreadPool(10);\r\n\r\n        for (int i = 0; i &lt; mystr.length(); i++) {\r\n            Runnable task = () -&gt; {\r\n                System.out.print(mystr.charAt(i));\r\n            };\r\n\r\n            executor.submit(task);\r\n        }\r\n\r\n        executor.shutdown();\r\n    }\r\n}\r\n```","title":"Why do variables passed to runnable need to be final? How to fix the problem?","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class NewTest {\n\n    public static void main(String[] args) {\n        String mystr = &quot;banana&quot;;\n\n        ExecutorService executor = Executors.newFixedThreadPool(10);\n\n        for (int i = 0; i &lt; mystr.length(); i++) {\n            Runnable task = () -&gt; {\n                System.out.print(mystr.charAt(i));\n            };\n\n            executor.submit(task);\n        }\n\n        executor.shutdown();\n    }\n}\n</code></pre>\n"},{"tags":["java","recursion","dynamic-programming"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":2,"creation_date":1696002875,"post_id":77202933,"comment_id":136102659,"body_markdown":"*&quot;I just confused&quot;* is not a clear problem statement. The algorithm is explained at numerous places, like [here](https://www.codesdope.com/course/algorithms-rod-cutting/), [here](https://faculty.unist.ac.kr/algo/wp-content/uploads/sites/362/2021/07/cse331lec18.pdf), and [here](https://www.baeldung.com/cs/rod-cutting-problem), ....","body":"<i>&quot;I just confused&quot;</i> is not a clear problem statement. The algorithm is explained at numerous places, like <a href=\"https://www.codesdope.com/course/algorithms-rod-cutting/\" rel=\"nofollow noreferrer\">here</a>, <a href=\"https://faculty.unist.ac.kr/algo/wp-content/uploads/sites/362/2021/07/cse331lec18.pdf\" rel=\"nofollow noreferrer\">here</a>, and <a href=\"https://www.baeldung.com/cs/rod-cutting-problem\" rel=\"nofollow noreferrer\">here</a>, ...."}],"owner":{"account_id":27876694,"reputation":11,"user_id":21286053,"display_name":"Crean Culty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696000124,"creation_date":1695999165,"question_id":77202933,"body_markdown":"When I learn the dp,the first example I encountered was rod cutting problem with its not smart method.\r\nI just confused with the steps when cut the original rod into two pieces, it just get the maximum with `p[i]+ rodCutting(n-i)`.But I think it should be `rodCutting(i)+rodCutting(n-i)`.How dose it works? Why dose ` p[i]+ rodCutting(n-i) ` works?\r\n\r\n```\r\nstatic int[] priceList = {1, 5, 8, 9, 10, 17, 17, 20, 24, 30};//the list about the price of each inches\r\n    /**\r\n     * use recursive\r\n     * priceList\r\n     * lengthÔºö0 &lt; length\r\n     * @return\r\n     */\r\n    public static int rodCuttingL(int length){\r\n        if(length &lt;= 0) return 0;\r\n        //when given length greater than priceList.length\r\n        if(length &gt; priceList.length){\r\n            int n = (length)/(priceList.length);\r\n            int r = length%(priceList.length);\r\n            System.out.println(&quot;n = &quot; + r);\r\n            return n * rodCuttingL(priceList.length) + rodCuttingL(r);\r\n        }\r\n        int price = Integer.MIN_VALUE;\r\n        int i = 1;\r\n        for(; i &lt;= length; i++){\r\n            price = max(price,priceList[i-1],rodCuttingL(i) + rodCuttingL(length - i));\r\n\r\n        }\r\n\r\n        return price;\r\n    }\r\n```\r\n\r\n\r\nI hope someone can solve my confusion, thanks!","title":"rod cutting problems in recursive method. Why dose ` p[i]+ rodCutting(n-i) ` works?","body":"<p>When I learn the dp,the first example I encountered was rod cutting problem with its not smart method.\nI just confused with the steps when cut the original rod into two pieces, it just get the maximum with <code>p[i]+ rodCutting(n-i)</code>.But I think it should be <code>rodCutting(i)+rodCutting(n-i)</code>.How dose it works? Why dose <code>p[i]+ rodCutting(n-i)</code> works?</p>\n<pre><code>static int[] priceList = {1, 5, 8, 9, 10, 17, 17, 20, 24, 30};//the list about the price of each inches\n    /**\n     * use recursive\n     * priceList\n     * lengthÔºö0 &lt; length\n     * @return\n     */\n    public static int rodCuttingL(int length){\n        if(length &lt;= 0) return 0;\n        //when given length greater than priceList.length\n        if(length &gt; priceList.length){\n            int n = (length)/(priceList.length);\n            int r = length%(priceList.length);\n            System.out.println(&quot;n = &quot; + r);\n            return n * rodCuttingL(priceList.length) + rodCuttingL(r);\n        }\n        int price = Integer.MIN_VALUE;\n        int i = 1;\n        for(; i &lt;= length; i++){\n            price = max(price,priceList[i-1],rodCuttingL(i) + rodCuttingL(length - i));\n\n        }\n\n        return price;\n    }\n</code></pre>\n<p>I hope someone can solve my confusion, thanks!</p>\n"},{"tags":["java","arrays","methods","do-while"],"answers":[{"tags":[],"owner":{"account_id":29548301,"reputation":13,"user_id":22645547,"display_name":"Luke Abruzese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695999969,"creation_date":1695909324,"answer_id":77195615,"question_id":77194539,"body_markdown":"There are a lot of things I would suggest changing about the code, specifically moving things into lots of different methods outside of main to make your code a lot more readable and easier to debug.\r\n\r\nBut I believe that your error is in how you&#39;re checking array equality. I don&#39;t know how you were checking it before adding your own ```equals``` method but your ```equals``` method doesn&#39;t work. \r\n\r\nBy default doing ```myArray == myArray2``` or ```myArray.equals(myArray2)``` will return a reference equals, meaning they check if they&#39;re the exact same array by object reference\r\n\r\nYou can use the Arrays library to match if you don&#39;t want write your own method:\r\n``` Arrays.deepEquals(myArray, myArray2) ``` \r\nYou can use this to check the entire 2D array.\r\n\r\nFor example: if you have a piece of paper (paper1) the the word &quot;dog&quot; on it and another one (paper2) with the word &quot;dog&quot; on it \r\n```paper1 == paper2``` will tell you they&#39;re not the same because they&#39;re 2 different pieces of paper but ``` Arrays.deepEquals(paper, paper2) ``` will tell you that the content contained on the paper are the same.\r\n\r\nIf you want to write your own method you&#39;re going to need a nested for loop to check each char in each char array in your 2D array:\r\n```java\r\n    public static boolean equals(char[][] a, char[][] b){\r\n        for(int row = 0; row &lt; a.length; row++){\r\n            for(int col = 0; col &lt; a[row].length; col++){\r\n                if(a[row][col] != b[row][col]) return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n```","title":"How do I break a do while loop when two 2D arrays become exactly the same?","body":"<p>There are a lot of things I would suggest changing about the code, specifically moving things into lots of different methods outside of main to make your code a lot more readable and easier to debug.</p>\n<p>But I believe that your error is in how you're checking array equality. I don't know how you were checking it before adding your own <code>equals</code> method but your <code>equals</code> method doesn't work.</p>\n<p>By default doing <code>myArray == myArray2</code> or <code>myArray.equals(myArray2)</code> will return a reference equals, meaning they check if they're the exact same array by object reference</p>\n<p>You can use the Arrays library to match if you don't want write your own method:\n<code>Arrays.deepEquals(myArray, myArray2)</code>\nYou can use this to check the entire 2D array.</p>\n<p>For example: if you have a piece of paper (paper1) the the word &quot;dog&quot; on it and another one (paper2) with the word &quot;dog&quot; on it\n<code>paper1 == paper2</code> will tell you they're not the same because they're 2 different pieces of paper but <code>Arrays.deepEquals(paper, paper2)</code> will tell you that the content contained on the paper are the same.</p>\n<p>If you want to write your own method you're going to need a nested for loop to check each char in each char array in your 2D array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static boolean equals(char[][] a, char[][] b){\n        for(int row = 0; row &lt; a.length; row++){\n            for(int col = 0; col &lt; a[row].length; col++){\n                if(a[row][col] != b[row][col]) return false;\n            }\n        }\n        return true;\n    }\n</code></pre>\n"}],"owner":{"account_id":29555079,"reputation":1,"user_id":22650897,"display_name":"Patrona7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695999969,"creation_date":1695900601,"question_id":77194539,"body_markdown":"I have a project for uni that needs me to create a crossword puzzle using 2 D arrays. I have done some progress, but have stuck on the part where if the user solves the puzzle correctly, it keeps looping. I need help with breaking out of the loop when both of the arrays are completely the same meaning the puzzle has been solved! Thank you in advance.\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;HI! This is a crossword puzzle using 2D arrays in JAVA!&quot;);\r\n        System.out.println(&quot;There are 5 words in total, that you have to guess!&quot;);\r\n        System.out.println(&quot;Each letter must be in place of the empty space. Each letter must be wrote in full caps!.&quot;);\r\n\r\n        char[][] correctPuzzle = {{&#39; &#39;,&#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39; &#39;},\r\n                                  {&#39;|&#39;,&#39;C&#39;,&#39;|&#39;, &#39;H&#39;, &#39;|&#39;, &#39;A&#39;, &#39;|&#39;,&#39;R&#39;, &#39;|&#39;, &#39;‚ñ†&#39;, &#39;|&#39;},\r\n                                  {&#39;|&#39;,&#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;|&#39;},\r\n                                  {&#39;|&#39;,&#39;L&#39;,&#39;|&#39;, &#39;O&#39;, &#39;|&#39;, &#39;O&#39;, &#39;|&#39;,&#39;P&#39;, &#39;|&#39;, &#39;‚ñ†&#39;, &#39;|&#39;},\r\n                                  {&#39;|&#39;,&#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;|&#39;},\r\n                                  {&#39;|&#39;,&#39;A&#39;,&#39;|&#39;, &#39;‚ñ†&#39;, &#39;|&#39;, &#39;‚ñ†&#39;, &#39;|&#39;,&#39;‚ñ†&#39;, &#39;|&#39;, &#39;I&#39;, &#39;|&#39;},\r\n                                  {&#39;|&#39;,&#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;|&#39;},\r\n                                  {&#39;|&#39;,&#39;S&#39;,&#39;|&#39;, &#39;U&#39;, &#39;|&#39;, &#39;M&#39;, &#39;|&#39;,&#39;‚ñ†&#39;, &#39;|&#39;, &#39;N&#39;, &#39;|&#39;},\r\n                                  {&#39;|&#39;,&#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;|&#39;},\r\n                                  {&#39;|&#39;,&#39;S&#39;,&#39;|&#39;, &#39;‚ñ†&#39;, &#39;|&#39;, &#39;‚ñ†&#39;, &#39;|&#39;,&#39;‚ñ†&#39;, &#39;|&#39;, &#39;T&#39;, &#39;|&#39;},\r\n                                  {&#39; &#39;,&#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39; &#39;},};\r\n\r\n        char[][] defaultPuzzle = {{&#39; &#39;,&#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39; &#39;},\r\n                {&#39;|&#39;,&#39; &#39;,&#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;,&#39; &#39;, &#39;|&#39;, &#39;‚ñ†&#39;, &#39;|&#39;},\r\n                {&#39;|&#39;,&#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;|&#39;},\r\n                {&#39;|&#39;,&#39; &#39;,&#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;,&#39; &#39;, &#39;|&#39;, &#39;‚ñ†&#39;, &#39;|&#39;},\r\n                {&#39;|&#39;,&#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;|&#39;},\r\n                {&#39;|&#39;,&#39; &#39;,&#39;|&#39;, &#39;‚ñ†&#39;, &#39;|&#39;, &#39;‚ñ†&#39;, &#39;|&#39;,&#39;‚ñ†&#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;},\r\n                {&#39;|&#39;,&#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;|&#39;},\r\n                {&#39;|&#39;,&#39; &#39;,&#39;|&#39;, &#39; &#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;,&#39;‚ñ†&#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;},\r\n                {&#39;|&#39;,&#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;|&#39;},\r\n                {&#39;|&#39;,&#39; &#39;,&#39;|&#39;, &#39;‚ñ†&#39;, &#39;|&#39;, &#39;‚ñ†&#39;, &#39;|&#39;,&#39;‚ñ†&#39;, &#39;|&#39;, &#39; &#39;, &#39;|&#39;},\r\n                {&#39; &#39;,&#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;,&#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39;‚Äî&#39;, &#39; &#39;},};\r\n\r\n        int option;\r\n        do{\r\n            for (int i = 0; i &lt; 11; i++) {\r\n                System.out.println();\r\n                for (int j = 0; j &lt; 11; j++) {\r\n                    System.out.print(defaultPuzzle[i][j] + &quot; &quot;);\r\n                }\r\n            }\r\n            System.out.println();\r\n            System.out.println(&quot;Question 1 (1st column) What is blueprint for an object?&quot;);\r\n            System.out.println(&quot;Question 2 (1st row) What data type represents a single character?&quot;);\r\n            System.out.println(&quot;Question 3 (2nd row) Feature used to execute a particular part of the program repeatedly&quot;);\r\n            System.out.println(&quot;Question 4 (4th row) Synonym for the word result - used in programming&quot;);\r\n            System.out.println(&quot;Question 5 (5th column) Abbreviation of the word integer&quot;);\r\n            System.out.println();\r\n            System.out.println(&quot;Which question would you like to answer? &quot;);\r\n            Scanner sc = new Scanner(System.in);\r\n            int ansNum = sc.nextInt();\r\n            System.out.println(&quot;Input your guess! &quot;);\r\n            String guess;\r\n            switch(ansNum) {\r\n                case 1:\r\n                    guess = sc.next();\r\n                    if(guess.length() == 5) {\r\n                        for(int rowNo = 1, charNo = 0; charNo &lt; guess.length(); rowNo+=2, charNo++){\r\n                            defaultPuzzle[rowNo][1] = guess.charAt(charNo);\r\n                        }\r\n                    }\r\n                    else {\r\n                        System.out.println(&quot;Incorrect answer length!&quot;);\r\n                    }\r\n                    break;\r\n\r\n                case 2:\r\n                    guess = sc.next();\r\n                    if(guess.length() == 4) {\r\n                        for(int collNo = 1, charNo = 0; charNo &lt; guess.length(); collNo+=2, charNo++){\r\n                            defaultPuzzle[1][collNo] = guess.charAt(charNo);\r\n                        }\r\n                    }\r\n                    else {\r\n                        System.out.println(&quot;Incorrect answer length!&quot;);\r\n                    }\r\n                    break;\r\n\r\n                case 3:\r\n                    guess = sc.next();\r\n                    if(guess.length() == 4) {\r\n                        for(int collNo = 1, charNo = 0; charNo &lt; guess.length(); collNo+=2, charNo++){\r\n                            defaultPuzzle[3][collNo] = guess.charAt(charNo);\r\n                        }\r\n                    }\r\n                    else {\r\n                        System.out.println(&quot;Incorrect answer length!&quot;);\r\n                    }\r\n                    break;\r\n\r\n                case 4:\r\n                guess = sc.next();\r\n                if(guess.length() == 3) {\r\n                    for(int collNo = 1, charNo = 0; charNo &lt; guess.length(); collNo+=2, charNo++){\r\n                        defaultPuzzle[7][collNo] = guess.charAt(charNo);\r\n                    }\r\n                }\r\n                else {\r\n                    System.out.println(&quot;Incorrect answer length!&quot;);\r\n                }\r\n                break;\r\n\r\n                case 5:\r\n                    guess = sc.next();\r\n                    if(guess.length() == 3) {\r\n                        for(int rowNo = 5, charNo = 0; charNo &lt; guess.length(); rowNo+=2, charNo++){\r\n                            defaultPuzzle[rowNo][9] = guess.charAt(charNo);\r\n                        }\r\n                    }\r\n                    else {\r\n                        System.out.println(&quot;Incorrect answer length!&quot;);\r\n                    }\r\n                    break;\r\n\r\n                default:\r\n                    System.out.println(&quot;This answer doesn&#39;t exist. Please select 1-5!!!&quot;);\r\n\r\n            }\r\n\r\n\r\n            System.out.println(&quot;If you want to continue and see your progress, press 1&quot;);\r\n            System.out.println(&quot;Is you are struggling and want to see the correct answers, press 2&quot;);\r\n            option = sc.nextInt();\r\n\r\n\r\n        }\r\n        while(option == 1);\r\n        if(option == 2) {\r\n        for (int i = 0; i &lt; 11; i++) {\r\n            System.out.println();\r\n            for (int j = 0; j &lt; 11; j++) {\r\n                System.out.print(correctPuzzle[i][j] + &quot; &quot;);\r\n            }\r\n        }\r\n            System.out.println(&quot;Better luck next time! These were the correct answers!&quot;);\r\n        }\r\n        else if (equals(correctPuzzle, defaultPuzzle)) {\r\n            System.out.print(&quot;Congratulations! You have solved the  puzzle&quot;);\r\n            for (int i = 0; i &lt; 11; i++) {\r\n                System.out.println();\r\n                for (int j = 0; j &lt; 11; j++) {\r\n                    System.out.print(correctPuzzle[i][j] + &quot; &quot;);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\npublic static boolean equals(char[][] a, char[][] b) {\r\n        if (a.length != b.length)\r\n            return false;\r\n        for(char i = 0; i&lt;a.length; i++) {\r\n            if (a[i] != b[i])\r\n                return false;\r\n        }\r\n        return true;\r\n}\r\n}\r\n```\r\n\r\n\r\nI have tried adding a 6th switch statement with a condition if the arrays match it will break, but it doesn&#39;t work. I have tried adding a condition to the while(option == 1 &amp;&amp; correctPuzzle == defaultPuzzle), but that doesn&#39;t seem to work either. And lastly I have created a method to compare the arrays, and I&#39;m not confident with this because it was a last resort effort.","title":"How do I break a do while loop when two 2D arrays become exactly the same?","body":"<p>I have a project for uni that needs me to create a crossword puzzle using 2 D arrays. I have done some progress, but have stuck on the part where if the user solves the puzzle correctly, it keeps looping. I need help with breaking out of the loop when both of the arrays are completely the same meaning the puzzle has been solved! Thank you in advance.</p>\n<pre><code>import java.util.Scanner;\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;HI! This is a crossword puzzle using 2D arrays in JAVA!&quot;);\n        System.out.println(&quot;There are 5 words in total, that you have to guess!&quot;);\n        System.out.println(&quot;Each letter must be in place of the empty space. Each letter must be wrote in full caps!.&quot;);\n\n        char[][] correctPuzzle = {{' ','‚Äî','‚Äî', '‚Äî', '‚Äî', '‚Äî', '‚Äî','‚Äî', '‚Äî', '‚Äî', ' '},\n                                  {'|','C','|', 'H', '|', 'A', '|','R', '|', '‚ñ†', '|'},\n                                  {'|','‚Äî','‚Äî', '‚Äî', '‚Äî', '‚Äî', '‚Äî','‚Äî', '‚Äî', '‚Äî', '|'},\n                                  {'|','L','|', 'O', '|', 'O', '|','P', '|', '‚ñ†', '|'},\n                                  {'|','‚Äî','‚Äî', '‚Äî', '‚Äî', '‚Äî', '‚Äî','‚Äî', '‚Äî', '‚Äî', '|'},\n                                  {'|','A','|', '‚ñ†', '|', '‚ñ†', '|','‚ñ†', '|', 'I', '|'},\n                                  {'|','‚Äî','‚Äî', '‚Äî', '‚Äî', '‚Äî', '‚Äî','‚Äî', '‚Äî', '‚Äî', '|'},\n                                  {'|','S','|', 'U', '|', 'M', '|','‚ñ†', '|', 'N', '|'},\n                                  {'|','‚Äî','‚Äî', '‚Äî', '‚Äî', '‚Äî', '‚Äî','‚Äî', '‚Äî', '‚Äî', '|'},\n                                  {'|','S','|', '‚ñ†', '|', '‚ñ†', '|','‚ñ†', '|', 'T', '|'},\n                                  {' ','‚Äî','‚Äî', '‚Äî', '‚Äî', '‚Äî', '‚Äî','‚Äî', '‚Äî', '‚Äî', ' '},};\n\n        char[][] defaultPuzzle = {{' ','‚Äî','‚Äî', '‚Äî', '‚Äî', '‚Äî', '‚Äî','‚Äî', '‚Äî', '‚Äî', ' '},\n                {'|',' ','|', ' ', '|', ' ', '|',' ', '|', '‚ñ†', '|'},\n                {'|','‚Äî','‚Äî', '‚Äî', '‚Äî', '‚Äî', '‚Äî','‚Äî', '‚Äî', '‚Äî', '|'},\n                {'|',' ','|', ' ', '|', ' ', '|',' ', '|', '‚ñ†', '|'},\n                {'|','‚Äî','‚Äî', '‚Äî', '‚Äî', '‚Äî', '‚Äî','‚Äî', '‚Äî', '‚Äî', '|'},\n                {'|',' ','|', '‚ñ†', '|', '‚ñ†', '|','‚ñ†', '|', ' ', '|'},\n                {'|','‚Äî','‚Äî', '‚Äî', '‚Äî', '‚Äî', '‚Äî','‚Äî', '‚Äî', '‚Äî', '|'},\n                {'|',' ','|', ' ', '|', ' ', '|','‚ñ†', '|', ' ', '|'},\n                {'|','‚Äî','‚Äî', '‚Äî', '‚Äî', '‚Äî', '‚Äî','‚Äî', '‚Äî', '‚Äî', '|'},\n                {'|',' ','|', '‚ñ†', '|', '‚ñ†', '|','‚ñ†', '|', ' ', '|'},\n                {' ','‚Äî','‚Äî', '‚Äî', '‚Äî', '‚Äî', '‚Äî','‚Äî', '‚Äî', '‚Äî', ' '},};\n\n        int option;\n        do{\n            for (int i = 0; i &lt; 11; i++) {\n                System.out.println();\n                for (int j = 0; j &lt; 11; j++) {\n                    System.out.print(defaultPuzzle[i][j] + &quot; &quot;);\n                }\n            }\n            System.out.println();\n            System.out.println(&quot;Question 1 (1st column) What is blueprint for an object?&quot;);\n            System.out.println(&quot;Question 2 (1st row) What data type represents a single character?&quot;);\n            System.out.println(&quot;Question 3 (2nd row) Feature used to execute a particular part of the program repeatedly&quot;);\n            System.out.println(&quot;Question 4 (4th row) Synonym for the word result - used in programming&quot;);\n            System.out.println(&quot;Question 5 (5th column) Abbreviation of the word integer&quot;);\n            System.out.println();\n            System.out.println(&quot;Which question would you like to answer? &quot;);\n            Scanner sc = new Scanner(System.in);\n            int ansNum = sc.nextInt();\n            System.out.println(&quot;Input your guess! &quot;);\n            String guess;\n            switch(ansNum) {\n                case 1:\n                    guess = sc.next();\n                    if(guess.length() == 5) {\n                        for(int rowNo = 1, charNo = 0; charNo &lt; guess.length(); rowNo+=2, charNo++){\n                            defaultPuzzle[rowNo][1] = guess.charAt(charNo);\n                        }\n                    }\n                    else {\n                        System.out.println(&quot;Incorrect answer length!&quot;);\n                    }\n                    break;\n\n                case 2:\n                    guess = sc.next();\n                    if(guess.length() == 4) {\n                        for(int collNo = 1, charNo = 0; charNo &lt; guess.length(); collNo+=2, charNo++){\n                            defaultPuzzle[1][collNo] = guess.charAt(charNo);\n                        }\n                    }\n                    else {\n                        System.out.println(&quot;Incorrect answer length!&quot;);\n                    }\n                    break;\n\n                case 3:\n                    guess = sc.next();\n                    if(guess.length() == 4) {\n                        for(int collNo = 1, charNo = 0; charNo &lt; guess.length(); collNo+=2, charNo++){\n                            defaultPuzzle[3][collNo] = guess.charAt(charNo);\n                        }\n                    }\n                    else {\n                        System.out.println(&quot;Incorrect answer length!&quot;);\n                    }\n                    break;\n\n                case 4:\n                guess = sc.next();\n                if(guess.length() == 3) {\n                    for(int collNo = 1, charNo = 0; charNo &lt; guess.length(); collNo+=2, charNo++){\n                        defaultPuzzle[7][collNo] = guess.charAt(charNo);\n                    }\n                }\n                else {\n                    System.out.println(&quot;Incorrect answer length!&quot;);\n                }\n                break;\n\n                case 5:\n                    guess = sc.next();\n                    if(guess.length() == 3) {\n                        for(int rowNo = 5, charNo = 0; charNo &lt; guess.length(); rowNo+=2, charNo++){\n                            defaultPuzzle[rowNo][9] = guess.charAt(charNo);\n                        }\n                    }\n                    else {\n                        System.out.println(&quot;Incorrect answer length!&quot;);\n                    }\n                    break;\n\n                default:\n                    System.out.println(&quot;This answer doesn't exist. Please select 1-5!!!&quot;);\n\n            }\n\n\n            System.out.println(&quot;If you want to continue and see your progress, press 1&quot;);\n            System.out.println(&quot;Is you are struggling and want to see the correct answers, press 2&quot;);\n            option = sc.nextInt();\n\n\n        }\n        while(option == 1);\n        if(option == 2) {\n        for (int i = 0; i &lt; 11; i++) {\n            System.out.println();\n            for (int j = 0; j &lt; 11; j++) {\n                System.out.print(correctPuzzle[i][j] + &quot; &quot;);\n            }\n        }\n            System.out.println(&quot;Better luck next time! These were the correct answers!&quot;);\n        }\n        else if (equals(correctPuzzle, defaultPuzzle)) {\n            System.out.print(&quot;Congratulations! You have solved the  puzzle&quot;);\n            for (int i = 0; i &lt; 11; i++) {\n                System.out.println();\n                for (int j = 0; j &lt; 11; j++) {\n                    System.out.print(correctPuzzle[i][j] + &quot; &quot;);\n                }\n            }\n        }\n\n    }\npublic static boolean equals(char[][] a, char[][] b) {\n        if (a.length != b.length)\n            return false;\n        for(char i = 0; i&lt;a.length; i++) {\n            if (a[i] != b[i])\n                return false;\n        }\n        return true;\n}\n}\n</code></pre>\n<p>I have tried adding a 6th switch statement with a condition if the arrays match it will break, but it doesn't work. I have tried adding a condition to the while(option == 1 &amp;&amp; correctPuzzle == defaultPuzzle), but that doesn't seem to work either. And lastly I have created a method to compare the arrays, and I'm not confident with this because it was a last resort effort.</p>\n"},{"tags":["java","spring","jaxb"],"owner":{"account_id":4974846,"reputation":1,"user_id":4001538,"display_name":"Ivan Simonini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695999884,"creation_date":1695999884,"question_id":77203012,"body_markdown":"A project requires we export a bunch of data following a list of many public well-known XSD files, for which we have a bunch of packages originally generated with XJC. By default, the marshaller loads all namespaces from the context and declares them, but these declarations are not sorted and can randomly change between any execution and the next. This was making testing and validating needlessly hard.\r\n\r\nI wanted to force certain prefixes on those namespaces, but no proposed solution if found here was helping. We&#39;re using Java17 and all relevant suggestions were 10 or so years old.\r\n\r\nThe project is quite fragile and running XJC again is not exactly feasible, but nevertheless I am somewhat forbidden to touch any auto-generated sources, so I have to work around that.\r\n\r\nWhat I managed to come up with is a fake package containing a `package-info.java` with a bunch of `@XmlNs` declarations and a class to trick the marshaller into loading my package.\r\n\r\nThis is my `package-info.java`:\r\n```java\r\n@javax.xml.bind.annotation.XmlSchema(xmlns = {\r\n\t\t@XmlNs(namespaceURI = &quot;http://www.isotc211.org/2005/gmd&quot;, prefix = &quot;gmd&quot;),\r\n\t\t@XmlNs(namespaceURI = &quot;http://www.isotc211.org/2005/gco&quot;, prefix = &quot;gco&quot;),\r\n\t\t@XmlNs(namespaceURI = &quot;http://www.w3.org/1999/xlink&quot;, prefix = &quot;xlink&quot;),\r\n\t\t@XmlNs(namespaceURI = &quot;http://www.isotc211.org/2005/gmx&quot;, prefix = &quot;gmx&quot;),\r\n\t\t@XmlNs(namespaceURI = &quot;http://www.opengis.net/gml/3.2&quot;, prefix = &quot;gml&quot;),\r\n\t\t@XmlNs(namespaceURI = &quot;http://www.isotc211.org/2005/gts&quot;, prefix = &quot;gts&quot;),\r\n\t\t@XmlNs(namespaceURI = &quot;http://www.isotc211.org/2005/srv&quot;, prefix = &quot;srv&quot;)\r\n})\r\npackage org.example.fake;\r\n\r\nimport javax.xml.bind.annotation.XmlNs;\r\n```\r\n\r\nThis is my `NamespaceFixer.java`:\r\n```java\r\npackage org.example.fake;\r\n\r\nimport javax.xml.bind.annotation.XmlAccessType;\r\nimport javax.xml.bind.annotation.XmlAccessorType;\r\nimport javax.xml.bind.annotation.XmlType;\r\n\r\n/**\r\n * Load this into the marshaller to force our namespaces, @see package-info.java\r\n */\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;Namespace_fixer&quot;, propOrder = {})\r\npublic class NamespaceFixer {\r\n}\r\n```\r\n\r\nWhen I create the marshaller, I add an additional class to the context:\r\n```java\r\n[...]\r\nMarshaller marshaller = JAXBContext.newInstance(//\r\n\t[...],\r\n\tNamespaceFixer.class, //\r\n\t[...]\r\n).createMarshaller();\r\n[...]\r\n```\r\n\r\nIs there a better way to achieve this?","title":"Forcing multiple JAXB namespace prefixes for packages generated with XJC","body":"<p>A project requires we export a bunch of data following a list of many public well-known XSD files, for which we have a bunch of packages originally generated with XJC. By default, the marshaller loads all namespaces from the context and declares them, but these declarations are not sorted and can randomly change between any execution and the next. This was making testing and validating needlessly hard.</p>\n<p>I wanted to force certain prefixes on those namespaces, but no proposed solution if found here was helping. We're using Java17 and all relevant suggestions were 10 or so years old.</p>\n<p>The project is quite fragile and running XJC again is not exactly feasible, but nevertheless I am somewhat forbidden to touch any auto-generated sources, so I have to work around that.</p>\n<p>What I managed to come up with is a fake package containing a <code>package-info.java</code> with a bunch of <code>@XmlNs</code> declarations and a class to trick the marshaller into loading my package.</p>\n<p>This is my <code>package-info.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@javax.xml.bind.annotation.XmlSchema(xmlns = {\n        @XmlNs(namespaceURI = &quot;http://www.isotc211.org/2005/gmd&quot;, prefix = &quot;gmd&quot;),\n        @XmlNs(namespaceURI = &quot;http://www.isotc211.org/2005/gco&quot;, prefix = &quot;gco&quot;),\n        @XmlNs(namespaceURI = &quot;http://www.w3.org/1999/xlink&quot;, prefix = &quot;xlink&quot;),\n        @XmlNs(namespaceURI = &quot;http://www.isotc211.org/2005/gmx&quot;, prefix = &quot;gmx&quot;),\n        @XmlNs(namespaceURI = &quot;http://www.opengis.net/gml/3.2&quot;, prefix = &quot;gml&quot;),\n        @XmlNs(namespaceURI = &quot;http://www.isotc211.org/2005/gts&quot;, prefix = &quot;gts&quot;),\n        @XmlNs(namespaceURI = &quot;http://www.isotc211.org/2005/srv&quot;, prefix = &quot;srv&quot;)\n})\npackage org.example.fake;\n\nimport javax.xml.bind.annotation.XmlNs;\n</code></pre>\n<p>This is my <code>NamespaceFixer.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.fake;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlType;\n\n/**\n * Load this into the marshaller to force our namespaces, @see package-info.java\n */\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;Namespace_fixer&quot;, propOrder = {})\npublic class NamespaceFixer {\n}\n</code></pre>\n<p>When I create the marshaller, I add an additional class to the context:</p>\n<pre class=\"lang-java prettyprint-override\"><code>[...]\nMarshaller marshaller = JAXBContext.newInstance(//\n    [...],\n    NamespaceFixer.class, //\n    [...]\n).createMarshaller();\n[...]\n</code></pre>\n<p>Is there a better way to achieve this?</p>\n"},{"tags":["java","apache-tika"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1695916018,"post_id":77196300,"comment_id":136090525,"body_markdown":"Looks like you&#39;re overwriting the `META-INF` services files - they need to be appended not &quot;last one wins&quot;","body":"Looks like you&#39;re overwriting the <code>META-INF</code> services files - they need to be appended not &quot;last one wins&quot;"},{"owner":{"account_id":6929813,"reputation":560,"user_id":5319625,"accept_rate":69,"display_name":"Oleg Gritsak"},"score":0,"creation_date":1695919069,"post_id":77196300,"comment_id":136091185,"body_markdown":"Huge thanks, @Gagravarr ! Will you write an answer, so I could accept it?","body":"Huge thanks, @Gagravarr ! Will you write an answer, so I could accept it?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1696014323,"post_id":77196300,"comment_id":136104681,"body_markdown":"Only a subisidiary problem, but `-Dsysprop` arguments must be BEFORE (to the LEFT of) the jarfile argument, not after (to the right). If you treat `-jar jarfile` as a unit, which many do but is not required, `-D` must be before `-jar`.","body":"Only a subisidiary problem, but <code>-Dsysprop</code> arguments must be BEFORE (to the LEFT of) the jarfile argument, not after (to the right). If you treat <code>-jar jarfile</code> as a unit, which many do but is not required, <code>-D</code> must be before <code>-jar</code>."}],"answers":[{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695999588,"creation_date":1695999588,"answer_id":77202982,"question_id":77196300,"body_markdown":"Apache Tika makes use of [`META-INF/services`](https://stackoverflow.com/questions/4544899/java-meta-inf-services) files to allow runtime discovery of available classes for things like Detection and Parsers\r\n\r\nWhen building a shaded / fat jar, you need to take care with these services files. They are plain text files, one class name per line. You want to append them all together, and not take just the first or last one (which is often the default with shading tools)","title":"Apache Tika parser not working in fat jar","body":"<p>Apache Tika makes use of <a href=\"https://stackoverflow.com/questions/4544899/java-meta-inf-services\"><code>META-INF/services</code></a> files to allow runtime discovery of available classes for things like Detection and Parsers</p>\n<p>When building a shaded / fat jar, you need to take care with these services files. They are plain text files, one class name per line. You want to append them all together, and not take just the first or last one (which is often the default with shading tools)</p>\n"}],"owner":{"account_id":6929813,"reputation":560,"user_id":5319625,"accept_rate":69,"display_name":"Oleg Gritsak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77202982,"answer_count":1,"score":0,"last_activity_date":1695999588,"creation_date":1695914676,"question_id":77196300,"body_markdown":"I create empty maven app, then add dependencies\r\n\r\n    tika-core\r\n    tika-parsers-standard-package\r\n    slf4j-api \r\n    slf4j-simple\r\n\r\nand **maven-assembly-plugin** to make a fat jar.\r\n\r\nresulting 47M file has 102 lines of `mvn dependency:tree`\r\nEverything looks OK, but while running this troubleshooting snippet \r\n\r\n    Tika tika = new Tika();\r\n    \r\n    CompositeParser parser = (CompositeParser)tika.getParser();\r\n    \r\n    for (MediaType type : parser.getSupportedTypes(new ParseContext())) {\r\n        String typeStr = type.toString();\r\n        System.out.println(++cnt + &quot; &quot; + typeStr);\r\n    }\r\n\r\ntika reports only two supported mimetypes\r\n\r\n    video/mpeg\r\n    video/x-msvideo\r\n\r\nI see not a single warning from \r\n\r\n    java -jar target/smallTika-1.0-SNAPSHOT-jar-with-dependencies.jar -Dorg.apache.tika.service.error.warn=true\r\n\r\n\r\nI&#39;ve tried a lot with configs, versions, switching to maven shade plugin and so on\r\n\r\n\r\nFunny thing: if I run the app from IDE it reports 229 mimetypes and works like a charm.\r\n\r\nAlso, if I create empty springboot app and add \r\n\r\n    tika-core\r\n    tika-parsers-standard-package\r\n\r\ndeps, this diagnostic snippet also works fine (as standard spring jar).\r\n\r\n**SOLUTION (Gagravarr&#39;s comment):**\r\n\r\nswitch to **maven-shade-plugin** plugin and add transformer \r\n\r\n    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n\r\n","title":"Apache Tika parser not working in fat jar","body":"<p>I create empty maven app, then add dependencies</p>\n<pre><code>tika-core\ntika-parsers-standard-package\nslf4j-api \nslf4j-simple\n</code></pre>\n<p>and <strong>maven-assembly-plugin</strong> to make a fat jar.</p>\n<p>resulting 47M file has 102 lines of <code>mvn dependency:tree</code>\nEverything looks OK, but while running this troubleshooting snippet</p>\n<pre><code>Tika tika = new Tika();\n\nCompositeParser parser = (CompositeParser)tika.getParser();\n\nfor (MediaType type : parser.getSupportedTypes(new ParseContext())) {\n    String typeStr = type.toString();\n    System.out.println(++cnt + &quot; &quot; + typeStr);\n}\n</code></pre>\n<p>tika reports only two supported mimetypes</p>\n<pre><code>video/mpeg\nvideo/x-msvideo\n</code></pre>\n<p>I see not a single warning from</p>\n<pre><code>java -jar target/smallTika-1.0-SNAPSHOT-jar-with-dependencies.jar -Dorg.apache.tika.service.error.warn=true\n</code></pre>\n<p>I've tried a lot with configs, versions, switching to maven shade plugin and so on</p>\n<p>Funny thing: if I run the app from IDE it reports 229 mimetypes and works like a charm.</p>\n<p>Also, if I create empty springboot app and add</p>\n<pre><code>tika-core\ntika-parsers-standard-package\n</code></pre>\n<p>deps, this diagnostic snippet also works fine (as standard spring jar).</p>\n<p><strong>SOLUTION (Gagravarr's comment):</strong></p>\n<p>switch to <strong>maven-shade-plugin</strong> plugin and add transformer</p>\n<pre><code>&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":23739021,"reputation":85,"user_id":17757329,"display_name":"Someone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695999441,"creation_date":1695999441,"question_id":77202964,"body_markdown":"I want to make the user using my app to be able to share voice messages sent in whatsapp to my app.\r\nI&#39;ve set this intent filter:\r\n```\r\n    &lt;receiver android:name=&quot;.WhatsAppVoiceReceiver&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;data android:mimeType=&quot;audio/*&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n```\r\n\r\nI&#39;ve also set the following permissions:\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        android:maxSdkVersion=&quot;29&quot; /&gt;\r\n\r\n```\r\n\r\nBut, when I try and share the voice message from whatsapp I&#39;m not able to see my app appear on the list.\r\n\r\nHelp will be appreciated, thanks in advance.","title":"Sharing whatsapp voice messages to my app android studio","body":"<p>I want to make the user using my app to be able to share voice messages sent in whatsapp to my app.\nI've set this intent filter:</p>\n<pre><code>    &lt;receiver android:name=&quot;.WhatsAppVoiceReceiver&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;data android:mimeType=&quot;audio/*&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n<p>I've also set the following permissions:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n        android:maxSdkVersion=&quot;29&quot; /&gt;\n\n</code></pre>\n<p>But, when I try and share the voice message from whatsapp I'm not able to see my app appear on the list.</p>\n<p>Help will be appreciated, thanks in advance.</p>\n"},{"tags":["java","websocket","jetty"],"answers":[{"tags":[],"owner":{"account_id":1218047,"reputation":7142,"user_id":1185262,"display_name":"jesse mcconnell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1371479525,"creation_date":1371479525,"answer_id":17150065,"question_id":17148793,"body_markdown":"http://git.eclipse.org/c/jetty/org.eclipse.jetty.project.git/tree/examples/embedded/src/main/java/org/eclipse/jetty/embedded/ManyHandlers.java\r\n\r\nThis is an example of using many handlers at once on the same server.\r\n\r\nEventually it will be added to the documentation here: \r\n\r\nhttp://www.eclipse.org/jetty/documentation/current/embedded-examples.html\r\n\r\nUntil that time there are many other examples there that should help make things clearer as well.","title":"Adding different handler in single Jetty server","body":"<p><a href=\"http://git.eclipse.org/c/jetty/org.eclipse.jetty.project.git/tree/examples/embedded/src/main/java/org/eclipse/jetty/embedded/ManyHandlers.java\" rel=\"nofollow\">http://git.eclipse.org/c/jetty/org.eclipse.jetty.project.git/tree/examples/embedded/src/main/java/org/eclipse/jetty/embedded/ManyHandlers.java</a></p>\n\n<p>This is an example of using many handlers at once on the same server.</p>\n\n<p>Eventually it will be added to the documentation here: </p>\n\n<p><a href=\"http://www.eclipse.org/jetty/documentation/current/embedded-examples.html\" rel=\"nofollow\">http://www.eclipse.org/jetty/documentation/current/embedded-examples.html</a></p>\n\n<p>Until that time there are many other examples there that should help make things clearer as well.</p>\n"},{"tags":[],"owner":{"account_id":63249,"reputation":5185,"user_id":187343,"display_name":"Amila"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1371791543,"creation_date":1371791543,"answer_id":17228090,"question_id":17148793,"body_markdown":"You can use org.eclipse.jetty.server.handler.HandlerCollection (Jetty 9)\r\n\r\n    HandlerCollection handlerCollection = new HandlerCollection();\r\n    handlerCollection.setHandlers(new Handler[] {servletHandler, myWebSocketHandler});\r\n\r\nLater add handlers to the collection:\r\n\r\n    handlerCollection.addHandler(newHandler);\r\n\r\nFinally,\r\n\r\n    server.setHandler(handlerCollection);\r\n    server.start();\r\n","title":"Adding different handler in single Jetty server","body":"<p>You can use org.eclipse.jetty.server.handler.HandlerCollection (Jetty 9)</p>\n\n<pre><code>HandlerCollection handlerCollection = new HandlerCollection();\nhandlerCollection.setHandlers(new Handler[] {servletHandler, myWebSocketHandler});\n</code></pre>\n\n<p>Later add handlers to the collection:</p>\n\n<pre><code>handlerCollection.addHandler(newHandler);\n</code></pre>\n\n<p>Finally,</p>\n\n<pre><code>server.setHandler(handlerCollection);\nserver.start();\n</code></pre>\n"}],"owner":{"account_id":1601250,"reputation":1253,"user_id":1482231,"accept_rate":52,"display_name":"Prasath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11325,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":17228090,"answer_count":2,"score":15,"last_activity_date":1695999065,"creation_date":1371475985,"question_id":17148793,"body_markdown":"I need a jetty server with multiple servletHandler.\r\n\r\nHTTPservlet:\r\n\r\n        ServletHandler servletHandler = new ServletHandler();\r\n        server.setHandler(servletHandler);\r\n        servletHandler.addServletWithMapping(&quot;com.realtime.webserver.MyServlet&quot;, &quot;/MyServlet&quot;);\r\n\r\nWebsocketServlet:\r\n\r\n    MyWebSocketHandler myWebSocketHandler = new MyWebSocketHandler ();\r\n    \t\t\t myWebSocketHandler.setHandler(new DefaultHandler());\r\n    \t\t\t server.setHandler(myWebSocketHandler);\r\n    \t\t\t server.start();\r\n\r\nI need both should be in single server.\r\nIs there any possibilities?","title":"Adding different handler in single Jetty server","body":"<p>I need a jetty server with multiple servletHandler.</p>\n\n<p>HTTPservlet:</p>\n\n<pre><code>    ServletHandler servletHandler = new ServletHandler();\n    server.setHandler(servletHandler);\n    servletHandler.addServletWithMapping(\"com.realtime.webserver.MyServlet\", \"/MyServlet\");\n</code></pre>\n\n<p>WebsocketServlet:</p>\n\n<pre><code>MyWebSocketHandler myWebSocketHandler = new MyWebSocketHandler ();\n             myWebSocketHandler.setHandler(new DefaultHandler());\n             server.setHandler(myWebSocketHandler);\n             server.start();\n</code></pre>\n\n<p>I need both should be in single server.\nIs there any possibilities?</p>\n"},{"tags":["java","ucp"],"answers":[{"tags":[],"owner":{"account_id":17598499,"reputation":166,"user_id":12768970,"display_name":"Saurabh Verma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695911297,"creation_date":1695911297,"answer_id":77195908,"question_id":77191112,"body_markdown":"Could you try disabling the assertions and see if that works? Also, please note that 23.2 is a developer release, so you should not use it in production.","title":"Java Oracle UCP Datapool is not working in Junit Test, but in other situations","body":"<p>Could you try disabling the assertions and see if that works? Also, please note that 23.2 is a developer release, so you should not use it in production.</p>\n"}],"owner":{"account_id":2114192,"reputation":66,"user_id":1878838,"display_name":"eisentor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695998955,"creation_date":1695851589,"question_id":77191112,"body_markdown":"The Junit Integrationtest fails during initialization of the OracleConnection Pool. My main issue is if i&#39;am starting the same in my production environment or out of a simple main method it works. All are using the same connection properties.\r\n\r\nThe execution with junit always fails at this code section:\r\n\r\n```\r\nthis.universalConnectionPool.start();\r\n```\r\n\r\nStacktrace/Error message:\r\n```\r\nCaused by: com.xelog.nx.wms.hardware.hrl.HRLDriverException: java.lang.AssertionError: pool start procedure finished with wrong life cycle state, lifecycle=Starting\r\n\tat com.xelog.nx.wms.hardware.hrl.OracleConnectionProvider.&lt;init&gt;(OracleConnectionProvider.java:128)\r\n\t... 72 more\r\nCaused by: java.lang.AssertionError: pool start procedure finished with wrong life cycle state, lifecycle=Starting\r\n\tat oracle.ucp.common.UniversalConnectionPoolBase.start(UniversalConnectionPoolBase.java:903)\r\n\tat oracle.ucp.jdbc.oracle.OracleJDBCConnectionPool.start(OracleJDBCConnectionPool.java:143)\r\n\tat oracle.ucp.jdbc.oracle.OracleReplayableConnectionConnectionPool.start(OracleReplayableConnectionConnectionPool.java:102)\r\n\tat oracle.ucp.UniversalConnectionPool.start(UniversalConnectionPool.java:224)\r\n\t... 74 more\r\n```\r\n\r\n\r\nI simply want to start a connection pool in any way i&#39;ve starting my application SpringBoot, simple main method or a Junit test. The first and the second way are working, the junit fails.\r\n\r\nI&#39;ve tried many ways of creating the connectionpool, directly with the UCPManager or with PoolDataSource, everythings ends in the same mess with the junit test.\r\n\r\n\r\nThis is the shared code to start the connection pool:\r\n```\r\npackage com.test;\r\n\r\nimport oracle.ucp.UniversalConnectionPool;\r\nimport oracle.ucp.UniversalConnectionPoolAdapter;\r\nimport oracle.ucp.UniversalConnectionPoolException;\r\nimport oracle.ucp.UniversalConnectionPoolLifeCycleState;\r\nimport oracle.ucp.admin.UniversalConnectionPoolManager;\r\nimport oracle.ucp.admin.UniversalConnectionPoolManagerImpl;\r\nimport oracle.ucp.jdbc.PoolDataSource;\r\nimport oracle.ucp.jdbc.PoolDataSourceFactory;\r\nimport oracle.ucp.jdbc.PoolDataSourceImpl;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\n\r\nimport java.net.URL;\r\nimport java.nio.charset.Charset;\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\nimport java.util.Map;\r\nimport java.util.Properties;\r\nimport java.util.Random;\r\n\r\npublic class OracleConnectionProvider {\r\n    \r\n    private static final Logger LOG = LogManager.getLogger(OracleConnectionProvider.class);\r\n    \r\n    private static final long MAX_STARTUP_WAIT_MILLIS = 5000;//30000;\r\n    \r\n    private final String connectionFactory;\r\n    private final String url;\r\n    private final String user;\r\n    private final String password;\r\n    \r\n    private final String connectionPoolName;\r\n    private PoolDataSource pds;\r\n    private UniversalConnectionPool universalConnectionPool;\r\n    \r\n    public OracleConnectionProvider(final String connectionFactory, final String url, final String user, final String password,\r\n                                    final Map&lt;String, String&gt; propertyMap, final String poolName, final int minPoolSize, final int maxPoolSize) throws HRLDriverException {\r\n        \r\n        \r\n        this.connectionFactory = connectionFactory;\r\n        this.url = url;\r\n        this.user = user;\r\n        this.password = password;\r\n        \r\n        this.connectionPoolName = poolName;\r\n        \r\n        final long startOracleConnectionProvider = System.currentTimeMillis();\r\n        try {\r\n            final UniversalConnectionPoolManager ucpManager = UniversalConnectionPoolManagerImpl.getUniversalConnectionPoolManager();\r\n            \r\n            this.pds = PoolDataSourceFactory.getPoolDataSource();\r\n            this.pds.setConnectionPoolName(this.connectionPoolName);\r\n            this.pds.setConnectionFactoryClassName(this.connectionFactory);\r\n            this.pds.setURL(this.url);\r\n            this.pds.setUser(this.user);\r\n            this.pds.setPassword(this.password);\r\n            this.pds.setValidateConnectionOnBorrow(true);\r\n            this.pds.setInitialPoolSize(minPoolSize);\r\n            this.pds.setMinPoolSize(minPoolSize);\r\n            this.pds.setMaxPoolSize(maxPoolSize);\r\n\r\n            // Default is 30secs. Set the frequency in seconds to enforce the timeout\r\n            // properties. Applies to inactiveConnectionTimeout(int secs),\r\n            // AbandonedConnectionTimeout(secs)&amp; TimeToLiveConnectionTimeout(int secs).\r\n            // Range of valid values is 0 to Integer.MAX_VALUE. .\r\n            this.pds.setTimeoutCheckInterval(5);\r\n            \r\n            // Default is 0. Set the maximum time, in seconds, that a\r\n            // connection remains available in the connection pool.\r\n            this.pds.setInactiveConnectionTimeout(10);\r\n            \r\n            if (propertyMap != null &amp;&amp; !propertyMap.isEmpty()) {\r\n                final Properties properties = this.pds.getConnectionProperties();\r\n                properties.putAll(propertyMap);\r\n                this.pds.setConnectionProperties(properties);\r\n            } else {\r\n                this.pds.setConnectionProperties(new Properties());\r\n            }\r\n             \r\n            if (!(this.pds instanceof UniversalConnectionPoolAdapter)) {\r\n                LOG.info(&quot;Not expected implementation {}, pool sanity check not possible&quot;, UniversalConnectionPoolAdapter.class);\r\n            }\r\n            \r\n            final UniversalConnectionPoolAdapter connectionPoolAdapter = (UniversalConnectionPoolAdapter) this.pds;\r\n            connectionPoolAdapter.createUniversalConnectionPool();\r\n            \r\n            this.universalConnectionPool = ucpManager.getConnectionPool(this.connectionPoolName);\r\n            this.universalConnectionPool.start();\r\n\r\n            LOG.info(&quot;Startup - Initial&quot;);\r\n            UniversalConnectionPoolLifeCycleState loopLifeCycleState = UniversalConnectionPoolLifeCycleState.LIFE_CYCLE_STARTING;\r\n            while ((System.currentTimeMillis() - startOracleConnectionProvider) &lt; MAX_STARTUP_WAIT_MILLIS\r\n                    &amp;&amp; loopLifeCycleState != UniversalConnectionPoolLifeCycleState.LIFE_CYCLE_RUNNING) {\r\n                LOG.info(&quot;Startup - Waited {}ms not ready {}&quot;, System.currentTimeMillis() - startOracleConnectionProvider, loopLifeCycleState);\r\n                loopLifeCycleState = this.universalConnectionPool.getLifeCycleState();\r\n                Thread.sleep(500);\r\n            }\r\n            \r\n            final UniversalConnectionPoolLifeCycleState finalLifeCycleState = this.universalConnectionPool.getLifeCycleState();\r\n            if (finalLifeCycleState != UniversalConnectionPoolLifeCycleState.LIFE_CYCLE_RUNNING) {\r\n                LOG.warn(&quot;Startup - Wrong State {}, max wait time of {}ms exceeded.&quot;, finalLifeCycleState, MAX_STARTUP_WAIT_MILLIS);\r\n            } else {\r\n                LOG.info(&quot;Startup - Successfully started within {}ms&quot;, System.currentTimeMillis() - startOracleConnectionProvider);\r\n            }\r\n        } catch (final InterruptedException e) {\r\n            LOG.error(&quot;Error while initializing the data source, thread was interrupted&quot;, e);\r\n            Thread.currentThread().interrupt();\r\n        } catch (final SQLException e) {\r\n            LOG.error(&quot;Error while initializing the data source&quot;, e);\r\n            throw new HRLDriverException(e);\r\n        } catch (final UniversalConnectionPoolException e) {\r\n            LOG.error(&quot;Error while initializing the universal connection pool manager.&quot;, e);\r\n            throw new HRLDriverException(e);\r\n        } catch (final Throwable e) {\r\n            LOG.error(&quot;Error while initializing the driver.&quot;, e);\r\n            throw new HRLDriverException(e);\r\n        }\r\n    }\r\n\r\n    public Connection getConnection() throws SQLException {\r\n        if(this.universalConnectionPool.getLifeCycleState() != UniversalConnectionPoolLifeCycleState.LIFE_CYCLE_RUNNING){\r\n            throw new SQLException(&quot;Pool is not running, state is &quot; + this.universalConnectionPool.getLifeCycleState());\r\n        }\r\n        return this.pds.getConnection();\r\n    }\r\n    \r\n    public void destroy() throws SQLException {\r\n        if (this.pds != null) {\r\n            this.pds.setInitialPoolSize(0);\r\n            this.pds.setMinPoolSize(0);\r\n            this.pds.setMaxPoolSize(0);\r\n            final UniversalConnectionPoolLifeCycleState lifeCycleState = this.universalConnectionPool.getLifeCycleState();\r\n            try {\r\n                if(lifeCycleState == UniversalConnectionPoolLifeCycleState.LIFE_CYCLE_STOPPED){\r\n                    LOG.info(&quot;Connection pool is already in state {}&quot;, this.universalConnectionPool.getLifeCycleState());\r\n                } else {\r\n                    LOG.info(&quot;Connection pool try to purge with state {}&quot;, lifeCycleState);\r\n                    this.universalConnectionPool.purge();\r\n                    LOG.info(&quot;Connection pool &#39;{}&#39; successfully purged final state {}&quot;, this.connectionPoolName, this.universalConnectionPool.getLifeCycleState());\r\n                }\r\n            } catch (final UniversalConnectionPoolException e) {\r\n                LOG.error(&quot;Connection pool {} purge failed with state {}&quot;,this.connectionPoolName, lifeCycleState, e);\r\n            } catch (final Throwable e){\r\n                LOG.error(&quot;Connection pool {} purge failed with unknown error with state {}&quot;, this.connectionPoolName, lifeCycleState, e);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe oracle dependencies are used as follows:\r\nthis is not working\r\n```\r\ndependency&gt;\r\n\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t&lt;version&gt;23.2.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ucp&lt;/artifactId&gt;\r\n\t&lt;version&gt;23.2.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nthis is working\r\n```\r\ndependency&gt;\r\n\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ojdbc8-production&lt;/artifactId&gt;\r\n\t&lt;version&gt;23.2.0.0&lt;/version&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ucp&lt;/artifactId&gt;\r\n\t&lt;version&gt;23.2.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Java Oracle UCP Datapool is not working in Junit Test, but in other situations","body":"<p>The Junit Integrationtest fails during initialization of the OracleConnection Pool. My main issue is if i'am starting the same in my production environment or out of a simple main method it works. All are using the same connection properties.</p>\n<p>The execution with junit always fails at this code section:</p>\n<pre><code>this.universalConnectionPool.start();\n</code></pre>\n<p>Stacktrace/Error message:</p>\n<pre><code>Caused by: com.xelog.nx.wms.hardware.hrl.HRLDriverException: java.lang.AssertionError: pool start procedure finished with wrong life cycle state, lifecycle=Starting\n    at com.xelog.nx.wms.hardware.hrl.OracleConnectionProvider.&lt;init&gt;(OracleConnectionProvider.java:128)\n    ... 72 more\nCaused by: java.lang.AssertionError: pool start procedure finished with wrong life cycle state, lifecycle=Starting\n    at oracle.ucp.common.UniversalConnectionPoolBase.start(UniversalConnectionPoolBase.java:903)\n    at oracle.ucp.jdbc.oracle.OracleJDBCConnectionPool.start(OracleJDBCConnectionPool.java:143)\n    at oracle.ucp.jdbc.oracle.OracleReplayableConnectionConnectionPool.start(OracleReplayableConnectionConnectionPool.java:102)\n    at oracle.ucp.UniversalConnectionPool.start(UniversalConnectionPool.java:224)\n    ... 74 more\n</code></pre>\n<p>I simply want to start a connection pool in any way i've starting my application SpringBoot, simple main method or a Junit test. The first and the second way are working, the junit fails.</p>\n<p>I've tried many ways of creating the connectionpool, directly with the UCPManager or with PoolDataSource, everythings ends in the same mess with the junit test.</p>\n<p>This is the shared code to start the connection pool:</p>\n<pre><code>package com.test;\n\nimport oracle.ucp.UniversalConnectionPool;\nimport oracle.ucp.UniversalConnectionPoolAdapter;\nimport oracle.ucp.UniversalConnectionPoolException;\nimport oracle.ucp.UniversalConnectionPoolLifeCycleState;\nimport oracle.ucp.admin.UniversalConnectionPoolManager;\nimport oracle.ucp.admin.UniversalConnectionPoolManagerImpl;\nimport oracle.ucp.jdbc.PoolDataSource;\nimport oracle.ucp.jdbc.PoolDataSourceFactory;\nimport oracle.ucp.jdbc.PoolDataSourceImpl;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\nimport java.net.URL;\nimport java.nio.charset.Charset;\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport java.util.Map;\nimport java.util.Properties;\nimport java.util.Random;\n\npublic class OracleConnectionProvider {\n    \n    private static final Logger LOG = LogManager.getLogger(OracleConnectionProvider.class);\n    \n    private static final long MAX_STARTUP_WAIT_MILLIS = 5000;//30000;\n    \n    private final String connectionFactory;\n    private final String url;\n    private final String user;\n    private final String password;\n    \n    private final String connectionPoolName;\n    private PoolDataSource pds;\n    private UniversalConnectionPool universalConnectionPool;\n    \n    public OracleConnectionProvider(final String connectionFactory, final String url, final String user, final String password,\n                                    final Map&lt;String, String&gt; propertyMap, final String poolName, final int minPoolSize, final int maxPoolSize) throws HRLDriverException {\n        \n        \n        this.connectionFactory = connectionFactory;\n        this.url = url;\n        this.user = user;\n        this.password = password;\n        \n        this.connectionPoolName = poolName;\n        \n        final long startOracleConnectionProvider = System.currentTimeMillis();\n        try {\n            final UniversalConnectionPoolManager ucpManager = UniversalConnectionPoolManagerImpl.getUniversalConnectionPoolManager();\n            \n            this.pds = PoolDataSourceFactory.getPoolDataSource();\n            this.pds.setConnectionPoolName(this.connectionPoolName);\n            this.pds.setConnectionFactoryClassName(this.connectionFactory);\n            this.pds.setURL(this.url);\n            this.pds.setUser(this.user);\n            this.pds.setPassword(this.password);\n            this.pds.setValidateConnectionOnBorrow(true);\n            this.pds.setInitialPoolSize(minPoolSize);\n            this.pds.setMinPoolSize(minPoolSize);\n            this.pds.setMaxPoolSize(maxPoolSize);\n\n            // Default is 30secs. Set the frequency in seconds to enforce the timeout\n            // properties. Applies to inactiveConnectionTimeout(int secs),\n            // AbandonedConnectionTimeout(secs)&amp; TimeToLiveConnectionTimeout(int secs).\n            // Range of valid values is 0 to Integer.MAX_VALUE. .\n            this.pds.setTimeoutCheckInterval(5);\n            \n            // Default is 0. Set the maximum time, in seconds, that a\n            // connection remains available in the connection pool.\n            this.pds.setInactiveConnectionTimeout(10);\n            \n            if (propertyMap != null &amp;&amp; !propertyMap.isEmpty()) {\n                final Properties properties = this.pds.getConnectionProperties();\n                properties.putAll(propertyMap);\n                this.pds.setConnectionProperties(properties);\n            } else {\n                this.pds.setConnectionProperties(new Properties());\n            }\n             \n            if (!(this.pds instanceof UniversalConnectionPoolAdapter)) {\n                LOG.info(&quot;Not expected implementation {}, pool sanity check not possible&quot;, UniversalConnectionPoolAdapter.class);\n            }\n            \n            final UniversalConnectionPoolAdapter connectionPoolAdapter = (UniversalConnectionPoolAdapter) this.pds;\n            connectionPoolAdapter.createUniversalConnectionPool();\n            \n            this.universalConnectionPool = ucpManager.getConnectionPool(this.connectionPoolName);\n            this.universalConnectionPool.start();\n\n            LOG.info(&quot;Startup - Initial&quot;);\n            UniversalConnectionPoolLifeCycleState loopLifeCycleState = UniversalConnectionPoolLifeCycleState.LIFE_CYCLE_STARTING;\n            while ((System.currentTimeMillis() - startOracleConnectionProvider) &lt; MAX_STARTUP_WAIT_MILLIS\n                    &amp;&amp; loopLifeCycleState != UniversalConnectionPoolLifeCycleState.LIFE_CYCLE_RUNNING) {\n                LOG.info(&quot;Startup - Waited {}ms not ready {}&quot;, System.currentTimeMillis() - startOracleConnectionProvider, loopLifeCycleState);\n                loopLifeCycleState = this.universalConnectionPool.getLifeCycleState();\n                Thread.sleep(500);\n            }\n            \n            final UniversalConnectionPoolLifeCycleState finalLifeCycleState = this.universalConnectionPool.getLifeCycleState();\n            if (finalLifeCycleState != UniversalConnectionPoolLifeCycleState.LIFE_CYCLE_RUNNING) {\n                LOG.warn(&quot;Startup - Wrong State {}, max wait time of {}ms exceeded.&quot;, finalLifeCycleState, MAX_STARTUP_WAIT_MILLIS);\n            } else {\n                LOG.info(&quot;Startup - Successfully started within {}ms&quot;, System.currentTimeMillis() - startOracleConnectionProvider);\n            }\n        } catch (final InterruptedException e) {\n            LOG.error(&quot;Error while initializing the data source, thread was interrupted&quot;, e);\n            Thread.currentThread().interrupt();\n        } catch (final SQLException e) {\n            LOG.error(&quot;Error while initializing the data source&quot;, e);\n            throw new HRLDriverException(e);\n        } catch (final UniversalConnectionPoolException e) {\n            LOG.error(&quot;Error while initializing the universal connection pool manager.&quot;, e);\n            throw new HRLDriverException(e);\n        } catch (final Throwable e) {\n            LOG.error(&quot;Error while initializing the driver.&quot;, e);\n            throw new HRLDriverException(e);\n        }\n    }\n\n    public Connection getConnection() throws SQLException {\n        if(this.universalConnectionPool.getLifeCycleState() != UniversalConnectionPoolLifeCycleState.LIFE_CYCLE_RUNNING){\n            throw new SQLException(&quot;Pool is not running, state is &quot; + this.universalConnectionPool.getLifeCycleState());\n        }\n        return this.pds.getConnection();\n    }\n    \n    public void destroy() throws SQLException {\n        if (this.pds != null) {\n            this.pds.setInitialPoolSize(0);\n            this.pds.setMinPoolSize(0);\n            this.pds.setMaxPoolSize(0);\n            final UniversalConnectionPoolLifeCycleState lifeCycleState = this.universalConnectionPool.getLifeCycleState();\n            try {\n                if(lifeCycleState == UniversalConnectionPoolLifeCycleState.LIFE_CYCLE_STOPPED){\n                    LOG.info(&quot;Connection pool is already in state {}&quot;, this.universalConnectionPool.getLifeCycleState());\n                } else {\n                    LOG.info(&quot;Connection pool try to purge with state {}&quot;, lifeCycleState);\n                    this.universalConnectionPool.purge();\n                    LOG.info(&quot;Connection pool '{}' successfully purged final state {}&quot;, this.connectionPoolName, this.universalConnectionPool.getLifeCycleState());\n                }\n            } catch (final UniversalConnectionPoolException e) {\n                LOG.error(&quot;Connection pool {} purge failed with state {}&quot;,this.connectionPoolName, lifeCycleState, e);\n            } catch (final Throwable e){\n                LOG.error(&quot;Connection pool {} purge failed with unknown error with state {}&quot;, this.connectionPoolName, lifeCycleState, e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>The oracle dependencies are used as follows:\nthis is not working</p>\n<pre><code>dependency&gt;\n    &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n    &lt;version&gt;23.2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;ucp&lt;/artifactId&gt;\n    &lt;version&gt;23.2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>this is working</p>\n<pre><code>dependency&gt;\n    &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc8-production&lt;/artifactId&gt;\n    &lt;version&gt;23.2.0.0&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;ucp&lt;/artifactId&gt;\n    &lt;version&gt;23.2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":29563216,"reputation":1,"user_id":22657243,"display_name":"iamerror42"},"score":0,"creation_date":1695992649,"post_id":77202123,"comment_id":136100449,"body_markdown":"Just a note I am currently taking an Intro to Mobile Programming class and I am stuck on this topic because it is not specifically covered in the class. I also am trying to add this as part of my final project for the class.","body":"Just a note I am currently taking an Intro to Mobile Programming class and I am stuck on this topic because it is not specifically covered in the class. I also am trying to add this as part of my final project for the class."},{"owner":{"account_id":29563216,"reputation":1,"user_id":22657243,"display_name":"iamerror42"},"score":1,"creation_date":1695992743,"post_id":77202123,"comment_id":136100468,"body_markdown":"All quoted text is curtesy of Wizards of the Coast and their product Magic The Gathering. Per their Terms of use it is free to use with the idea that they may take and use my code without guarantee of compensation. (I am personally fine with this)","body":"All quoted text is curtesy of Wizards of the Coast and their product Magic The Gathering. Per their Terms of use it is free to use with the idea that they may take and use my code without guarantee of compensation. (I am personally fine with this)"},{"owner":{"account_id":29563216,"reputation":1,"user_id":22657243,"display_name":"iamerror42"},"score":0,"creation_date":1695993001,"post_id":77202123,"comment_id":136100519,"body_markdown":"Thank you both for the heads up I am also new to StackOverflow and still trying to figure out its idiosyncrasies.","body":"Thank you both for the heads up I am also new to StackOverflow and still trying to figure out its idiosyncrasies."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1695998105,"post_id":77202123,"comment_id":136101651,"body_markdown":"Why all this explaining and irrelevant code? Just set Enabled of the view to false is you only want the text of an EditText to be changeable by code. And a TextView can never be changed/edited by a user.","body":"Why all this explaining and irrelevant code? Just set Enabled of the view to false is you only want the text of an EditText to be changeable by code. And a TextView can never be changed/edited by a user."},{"owner":{"account_id":29563216,"reputation":1,"user_id":22657243,"display_name":"iamerror42"},"score":0,"creation_date":1696075502,"post_id":77202123,"comment_id":136109373,"body_markdown":"@blackapps The reason to show all that code and the explanations is because I am still learning and don&#39;t 100% understand what I am doing yet. I thought showing the magnitude of the data I was trying to call at random with an explanation of how I am trying to get it to work would assist in the aid I was asking for. If that is excessive and not needed I will attempt to curb that in the future.","body":"@blackapps The reason to show all that code and the explanations is because I am still learning and don&#39;t 100% understand what I am doing yet. I thought showing the magnitude of the data I was trying to call at random with an explanation of how I am trying to get it to work would assist in the aid I was asking for. If that is excessive and not needed I will attempt to curb that in the future."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1696196770,"post_id":77202123,"comment_id":136119257,"body_markdown":"You have too much irrelevant code, and you left out any button code. I&#39;m not sure how we can help you if you don&#39;t post the actual code you&#39;re having problems with.","body":"You have too much irrelevant code, and you left out any button code. I&#39;m not sure how we can help you if you don&#39;t post the actual code you&#39;re having problems with."}],"answers":[{"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695998889,"creation_date":1695998889,"answer_id":77202898,"question_id":77202123,"body_markdown":"You can set the value to a `TextView` programmatically using `setText()` method.\r\n\r\nGet a reference to your text views.\r\n\r\n```\r\nTextView textView1 = findViewById(R.id.textView1);\r\nTextView textView2 = findViewById(R.id.textView2);\r\nTextView textView3 = findViewById(R.id.textView3);\r\nTextView textView4 = findViewById(R.id.textView4);\r\n```\r\n\r\nGet a reference to your Buttons\r\n```\r\nButton button1 = findViewById(R.id.button1)\r\nButton button2 = findViewById(R.id.button2)\r\nButton button3 = findViewById(R.id.button3)\r\n```\r\n\r\nCreate a method to generate random number and set the text to respective Text view.\r\n```\r\n private void updateData(TextView main, TextView other, List&lt;String&gt; list) {\r\n        Random random = new Random();\r\n\r\n        // generates a random number between 0 and size of list - 1\r\n        int randomNumber = random.nextInt(list.size()); \r\n\r\n        // get the text stored at that position\r\n        String text = list.get(randomNumber); \r\n\r\n        // update the main text view\r\n        main.setText(text);  \r\n\r\n        // update the other text view (the fourth text view)\r\n        other.setText(text); \r\n    }\r\n```\r\n\r\nAdd click listeners to all your button and call the above method with required parameters.\r\n```\r\n// Do this for other two button and change parameters as required.\r\nbutton1.setOnClickListener(new OnClickListener() {\r\n        public void onClick(View v){\r\n            updateData(textView1, textView4, plusOneList);\r\n        }\r\n    });\r\n\r\n```","title":"Android Java - Setting text in a text box (either TextView or EditView) to not be editable by a user only by buttons","body":"<p>You can set the value to a <code>TextView</code> programmatically using <code>setText()</code> method.</p>\n<p>Get a reference to your text views.</p>\n<pre><code>TextView textView1 = findViewById(R.id.textView1);\nTextView textView2 = findViewById(R.id.textView2);\nTextView textView3 = findViewById(R.id.textView3);\nTextView textView4 = findViewById(R.id.textView4);\n</code></pre>\n<p>Get a reference to your Buttons</p>\n<pre><code>Button button1 = findViewById(R.id.button1)\nButton button2 = findViewById(R.id.button2)\nButton button3 = findViewById(R.id.button3)\n</code></pre>\n<p>Create a method to generate random number and set the text to respective Text view.</p>\n<pre><code> private void updateData(TextView main, TextView other, List&lt;String&gt; list) {\n        Random random = new Random();\n\n        // generates a random number between 0 and size of list - 1\n        int randomNumber = random.nextInt(list.size()); \n\n        // get the text stored at that position\n        String text = list.get(randomNumber); \n\n        // update the main text view\n        main.setText(text);  \n\n        // update the other text view (the fourth text view)\n        other.setText(text); \n    }\n</code></pre>\n<p>Add click listeners to all your button and call the above method with required parameters.</p>\n<pre><code>// Do this for other two button and change parameters as required.\nbutton1.setOnClickListener(new OnClickListener() {\n        public void onClick(View v){\n            updateData(textView1, textView4, plusOneList);\n        }\n    });\n\n</code></pre>\n"}],"owner":{"account_id":29563216,"reputation":1,"user_id":22657243,"display_name":"iamerror42"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695998889,"creation_date":1695992230,"question_id":77202123,"body_markdown":"I am attempting to create an app where I have 3 buttons and 4 text boxes\r\nThey idea follows this concept.\r\n\r\n- Button1 (has a +1 symbol on it) Should provide a result in text box 1 of a random selection of arrayList1 which has 20 items this button should also update the current value of text box 4.\r\n\r\n- Button2 (has a -1 symbol on it) Should provide a result in text box 2 of a random selection of arrayList2 which has 20 items this button should also update the current value of text box 4.\r\n\r\n- Button3 (has a -6 symbol on it) Should provide a result in text box 3 of a random selection of arrayList3 which has 20 items this button should also update the current value of text box 4.\r\n\r\nI also need to have a default value for text box 4 that starts with the numerical value of 4.\r\n\r\n**Now to my actual question**\r\nHow do I set any of these buttons to do this while simultaneously making the text boxes not be editable by the user they should only populate from the button presses.\r\n\r\n```\r\n        // Create the ArrayLists\r\n    ArrayList&lt;String&gt; plusOneList = new ArrayList&lt;String&gt;();\r\n    ArrayList&lt;String&gt; minusOneList = new ArrayList&lt;String&gt;();\r\n    ArrayList&lt;String&gt; minusSixList = new ArrayList&lt;String&gt;();\r\n\r\n    //Adding items to list\r\n    for (int i = 0; i &lt; 20; i++) {\r\n        plusOneList.add(&quot;1.&quot; + i+1 + &quot;Until end of turn, up to one target creature gets +1/+1 and gains first strike, vigilence, and lifelink.&quot;);\r\n        plusOneList.add(&quot;2.&quot; + i+1 + &quot;Distribute three +1/+1 counters among one, two, or three target creatures you control.&quot;);\r\n        plusOneList.add(&quot;3.&quot; + i+1 + &quot;Destroy target noncreature permanent.&quot;);\r\n        plusOneList.add(&quot;4.&quot; + i+1 + &quot;Create two 3/1 red Elemental creature tokens with haste. Exile them at the beginning of the next end step.&quot;);\r\n        plusOneList.add(&quot;5.&quot; + i+1 + &quot;Create three 1/1 white Soldier creature tokens.&quot;);\r\n        plusOneList.add(&quot;6.&quot; + i+1 + &quot;Create a 3/3 black Beast creature token with deathtouch.&quot;);\r\n        plusOneList.add(&quot;7.&quot; + i+1 + &quot;Reveal the top five cards of your library. Put all creature cards revealed this way into your hand and the rest on the bottom of your library in any order.&quot;);\r\n        plusOneList.add(&quot;8.&quot; + i+1 + &quot;During target opponent&#39;s next turn, creatures that player controls attack Urza if able.&quot;);\r\n        plusOneList.add(&quot;9.&quot; + i+1 + &quot;Put a loyalty counter on Urza for each creature target opponent controls.&quot;);\r\n        plusOneList.add(&quot;10.&quot; + i+1 + &quot;Until your next turn, whenever a creature an opponent controls attacks, it gets -1/-0 until end of turn.&quot;);\r\n        plusOneList.add(&quot;11.&quot; + i+1 + &quot;Target player exiles a card from their hand.&quot;);\r\n        plusOneList.add(&quot;12.&quot; + i+1 + &quot;Reveal the top card of your library. If it&#39;s a land card, put it onto the battlefield. Otherwise, put it into your hand.&quot;);\r\n        plusOneList.add(&quot;13.&quot; + i+1 + &quot;Target land you control becomes a 4/4 Elemental creature with trample. It&#39;s still a land.&quot;);\r\n        plusOneList.add(&quot;14.&quot; + i+1 + &quot;Draw a card, then add one mana of any color to your mana pool.&quot;);\r\n        plusOneList.add(&quot;15.&quot; + i+1 + &quot;Until end of turn, Urza becomes a legendary 4/4 red Dragon creature with flying, indestructible, and haste. (He doesn&#39;t lose loyalty while he&#39;s not a planeswalker.)&quot;);\r\n        plusOneList.add(&quot;16.&quot; + i+1 + &quot;Until your next turn, creatures you control get +1/+0 and gain lifelink.&quot;);\r\n        plusOneList.add(&quot;17.&quot; + i+1 + &quot;Look at the top five cards of your library. You may reveal an artifact card from among them and put it into your hand. Put the rest on the bottom of your library in any order.&quot;);\r\n        plusOneList.add(&quot;18.&quot; + i+1 + &quot;Urza deals 3 damage to target creature or player.&quot;);\r\n        plusOneList.add(&quot;19.&quot; + i+1 + &quot;Until your next turn, whenever a creature deals combat damage to Urza, destroy that creature.&quot;);\r\n        plusOneList.add(&quot;20.&quot; + i+1 + &quot;Add X mana in any combination of colors to your mana pool, where X is the number of creatures you control.&quot;);\r\n        minusOneList.add(&quot;1.&quot; + i+1 + &quot;Urza deals 3 damage to each creature.&quot;);\r\n        minusOneList.add(&quot;2.&quot; + i+1 + &quot;Gain control of target creature.&quot;);\r\n        minusOneList.add(&quot;3.&quot; + i+1 + &quot;Urza deals 4 damage to any target and you gain 4 life.&quot;);\r\n        minusOneList.add(&quot;4.&quot; + i+1 + &quot;Destroy target creature. You gain life equal to its toughness.&quot;);\r\n        minusOneList.add(&quot;5.&quot; + i+1 + &quot;You get an emblem with \\&quot;Creatures you control get +1/+1.\\&quot;&quot;);\r\n        minusOneList.add(&quot;6.&quot; + i+1 + &quot;You may put a creature card from your hand onto the battlefield.&quot;);\r\n        minusOneList.add(&quot;7.&quot; + i+1 + &quot;Draw three cards, then put a card from your hand on top of your library.&quot;);\r\n        minusOneList.add(&quot;8.&quot; + i+1 + &quot;Target player puts the top ten cards of his or her library into his or her graveyard.&quot;);\r\n        minusOneList.add(&quot;9.&quot; + i+1 + &quot;Reveal the top five cards of your library. An opponent separates those cards into two piles. Put one pile into your hand and the other on the bottom of your library in any order.&quot;);\r\n        minusOneList.add(&quot;10.&quot; + i+1 + &quot;Exile target permanent.&quot;);\r\n        minusOneList.add(&quot;11.&quot; + i+1 + &quot;Reveal the top five cards of your library. You may put all creature cards and/or land cards from among them into your hand. Put the rest into your graveyard.&quot;);\r\n        minusOneList.add(&quot;12.&quot; + i+1 + &quot;Search your library for a card and put that card into your hand. Then shuffle your library.&quot;);\r\n        minusOneList.add(&quot;13.&quot; + i+1 + &quot;Target player sacrifices two creatures.&quot;);\r\n        minusOneList.add(&quot;14.&quot; + i+1 + &quot;Create a 5/5 black Demon creature token with flying. You lose 2 life.&quot;);\r\n        minusOneList.add(&quot;15.&quot; + i+1 + &quot;Create a 4/4 gold Dragon creature token with flying.&quot;);\r\n        minusOneList.add(&quot;16.&quot; + i+1 + &quot;Target player&#39;s life total becomes 10.&quot;);\r\n        minusOneList.add(&quot;17.&quot; + i+1 + &quot;Destroy target nonland permanent.&quot;);\r\n        minusOneList.add(&quot;18.&quot; + i+1 + &quot;Return target permanent from a graveyard to the battlefield under your control.&quot;);\r\n        minusOneList.add(&quot;19.&quot; + i+1 + &quot;Create two 3/3 green Beast creature tokens.&quot;);\r\n        minusOneList.add(&quot;20.&quot; + i+1 + &quot;Draw four cards and discard two cards.&quot;);\r\n        minusSixList.add(&quot;1.&quot; + i+1 + &quot;Urza deals 7 damage to target player or planeswalker. That player or that planeswalker&#39;s controller discards seven cards, then sacrifices seven permanents.&quot;);\r\n        minusSixList.add(&quot;2.&quot; + i+1 + &quot;You get an emblem with \\&quot;If a source would deal damage to you or a planeswalker you control, prevent all but 1 of that damage.\\&quot;&quot;);\r\n        minusSixList.add(&quot;3.&quot; + i+1 + &quot;Destroy all lands target player controls.&quot;);\r\n        minusSixList.add(&quot;4.&quot; + i+1 + &quot;Create X 2/2&quot;);\r\n        minusSixList.add(&quot;5.&quot; + i+1 + &quot;You gain 100 life.&quot;);\r\n        minusSixList.add(&quot;6.&quot; + i+1 + &quot;Urza deals 10 damage to target player and each creature he or she controls.&quot;);\r\n        minusSixList.add(&quot;7.&quot; + i+1 + &quot;You get an emblem with \\&quot;Creatures you control have double strike, trample, hexproof, and haste.\\&quot;&quot;);\r\n        minusSixList.add(&quot;8.&quot; + i+1 + &quot;You get an emblem with \\&quot;Artifacts, creatures, enchantments, and lands you control have indestructible.\\&quot;&quot;);\r\n        minusSixList.add(&quot;9.&quot; + i+1 + &quot;Create a 6/6 green Wurm creature token for each land you control.&quot;);\r\n        minusSixList.add(&quot;10.&quot; + i+1 + &quot;Each player shuffles his or her hand and graveyard into his or her library. You draw seven cards.&quot;);\r\n        minusSixList.add(&quot;11.&quot; + i+1 + &quot;Destroy up to three target creatures and/or other planeswalkers. Return each card put into a graveyard this way to the battlefield under your control.&quot;);\r\n        minusSixList.add(&quot;12.&quot; + i+1 + &quot;You get an emblem with \\&quot;Whenever you cast a spell, exile target permanent.\\&quot;&quot;);\r\n        minusSixList.add(&quot;13.&quot; + i+1 + &quot;You get an emblem with \\&quot;Whenever a creature enters the battlefield under your control, you may have it fight target creature.\\&quot; Then create three 8/8 blue Octopus creature tokens.&quot;);\r\n        minusSixList.add(&quot;14.&quot; + i+1 + &quot;You control target player during that player&#39;s next turn.&quot;);\r\n        minusSixList.add(&quot;15.&quot; + i+1 + &quot;Exile all cards from target player&#39;s library, then that player shuffles his or her hand into his or her library.&quot;);\r\n        minusSixList.add(&quot;16.&quot; + i+1 + &quot;Create three 1/1 black Assassin creature tokens with \\&quot;Whenever this creature deals combat damage to a player, that player loses the game.\\&quot;&quot;);\r\n        minusSixList.add(&quot;17.&quot; + i+1 + &quot;Put all creature cards from all graveyards onto the battlefield under your control.&quot;);\r\n        minusSixList.add(&quot;18.&quot; + i+1 + &quot;You gain X life and draw X cards, where X is the number of lands you control.&quot;);\r\n        minusSixList.add(&quot;19.&quot; + i+1 + &quot;Flip five coins. Take an extra turn after this one for each coin that comes up heads.&quot;);\r\n        minusSixList.add(&quot;20.&quot; + i+1 + &quot;You gain 7 life, draw seven cards, then put up to seven permanent cards from your hand onto the battlefield.&quot;);\r\n```\r\n\r\n\r\n**NOTE:**\r\nAll quoted text is curtesy of Wizards of the Coast and their product Magic The Gathering. Per their Terms of use it is free to use with the idea that they may take and use my code without guarantee of compensation. (I am personally fine with this)","title":"Android Java - Setting text in a text box (either TextView or EditView) to not be editable by a user only by buttons","body":"<p>I am attempting to create an app where I have 3 buttons and 4 text boxes\nThey idea follows this concept.</p>\n<ul>\n<li><p>Button1 (has a +1 symbol on it) Should provide a result in text box 1 of a random selection of arrayList1 which has 20 items this button should also update the current value of text box 4.</p>\n</li>\n<li><p>Button2 (has a -1 symbol on it) Should provide a result in text box 2 of a random selection of arrayList2 which has 20 items this button should also update the current value of text box 4.</p>\n</li>\n<li><p>Button3 (has a -6 symbol on it) Should provide a result in text box 3 of a random selection of arrayList3 which has 20 items this button should also update the current value of text box 4.</p>\n</li>\n</ul>\n<p>I also need to have a default value for text box 4 that starts with the numerical value of 4.</p>\n<p><strong>Now to my actual question</strong>\nHow do I set any of these buttons to do this while simultaneously making the text boxes not be editable by the user they should only populate from the button presses.</p>\n<pre><code>        // Create the ArrayLists\n    ArrayList&lt;String&gt; plusOneList = new ArrayList&lt;String&gt;();\n    ArrayList&lt;String&gt; minusOneList = new ArrayList&lt;String&gt;();\n    ArrayList&lt;String&gt; minusSixList = new ArrayList&lt;String&gt;();\n\n    //Adding items to list\n    for (int i = 0; i &lt; 20; i++) {\n        plusOneList.add(&quot;1.&quot; + i+1 + &quot;Until end of turn, up to one target creature gets +1/+1 and gains first strike, vigilence, and lifelink.&quot;);\n        plusOneList.add(&quot;2.&quot; + i+1 + &quot;Distribute three +1/+1 counters among one, two, or three target creatures you control.&quot;);\n        plusOneList.add(&quot;3.&quot; + i+1 + &quot;Destroy target noncreature permanent.&quot;);\n        plusOneList.add(&quot;4.&quot; + i+1 + &quot;Create two 3/1 red Elemental creature tokens with haste. Exile them at the beginning of the next end step.&quot;);\n        plusOneList.add(&quot;5.&quot; + i+1 + &quot;Create three 1/1 white Soldier creature tokens.&quot;);\n        plusOneList.add(&quot;6.&quot; + i+1 + &quot;Create a 3/3 black Beast creature token with deathtouch.&quot;);\n        plusOneList.add(&quot;7.&quot; + i+1 + &quot;Reveal the top five cards of your library. Put all creature cards revealed this way into your hand and the rest on the bottom of your library in any order.&quot;);\n        plusOneList.add(&quot;8.&quot; + i+1 + &quot;During target opponent's next turn, creatures that player controls attack Urza if able.&quot;);\n        plusOneList.add(&quot;9.&quot; + i+1 + &quot;Put a loyalty counter on Urza for each creature target opponent controls.&quot;);\n        plusOneList.add(&quot;10.&quot; + i+1 + &quot;Until your next turn, whenever a creature an opponent controls attacks, it gets -1/-0 until end of turn.&quot;);\n        plusOneList.add(&quot;11.&quot; + i+1 + &quot;Target player exiles a card from their hand.&quot;);\n        plusOneList.add(&quot;12.&quot; + i+1 + &quot;Reveal the top card of your library. If it's a land card, put it onto the battlefield. Otherwise, put it into your hand.&quot;);\n        plusOneList.add(&quot;13.&quot; + i+1 + &quot;Target land you control becomes a 4/4 Elemental creature with trample. It's still a land.&quot;);\n        plusOneList.add(&quot;14.&quot; + i+1 + &quot;Draw a card, then add one mana of any color to your mana pool.&quot;);\n        plusOneList.add(&quot;15.&quot; + i+1 + &quot;Until end of turn, Urza becomes a legendary 4/4 red Dragon creature with flying, indestructible, and haste. (He doesn't lose loyalty while he's not a planeswalker.)&quot;);\n        plusOneList.add(&quot;16.&quot; + i+1 + &quot;Until your next turn, creatures you control get +1/+0 and gain lifelink.&quot;);\n        plusOneList.add(&quot;17.&quot; + i+1 + &quot;Look at the top five cards of your library. You may reveal an artifact card from among them and put it into your hand. Put the rest on the bottom of your library in any order.&quot;);\n        plusOneList.add(&quot;18.&quot; + i+1 + &quot;Urza deals 3 damage to target creature or player.&quot;);\n        plusOneList.add(&quot;19.&quot; + i+1 + &quot;Until your next turn, whenever a creature deals combat damage to Urza, destroy that creature.&quot;);\n        plusOneList.add(&quot;20.&quot; + i+1 + &quot;Add X mana in any combination of colors to your mana pool, where X is the number of creatures you control.&quot;);\n        minusOneList.add(&quot;1.&quot; + i+1 + &quot;Urza deals 3 damage to each creature.&quot;);\n        minusOneList.add(&quot;2.&quot; + i+1 + &quot;Gain control of target creature.&quot;);\n        minusOneList.add(&quot;3.&quot; + i+1 + &quot;Urza deals 4 damage to any target and you gain 4 life.&quot;);\n        minusOneList.add(&quot;4.&quot; + i+1 + &quot;Destroy target creature. You gain life equal to its toughness.&quot;);\n        minusOneList.add(&quot;5.&quot; + i+1 + &quot;You get an emblem with \\&quot;Creatures you control get +1/+1.\\&quot;&quot;);\n        minusOneList.add(&quot;6.&quot; + i+1 + &quot;You may put a creature card from your hand onto the battlefield.&quot;);\n        minusOneList.add(&quot;7.&quot; + i+1 + &quot;Draw three cards, then put a card from your hand on top of your library.&quot;);\n        minusOneList.add(&quot;8.&quot; + i+1 + &quot;Target player puts the top ten cards of his or her library into his or her graveyard.&quot;);\n        minusOneList.add(&quot;9.&quot; + i+1 + &quot;Reveal the top five cards of your library. An opponent separates those cards into two piles. Put one pile into your hand and the other on the bottom of your library in any order.&quot;);\n        minusOneList.add(&quot;10.&quot; + i+1 + &quot;Exile target permanent.&quot;);\n        minusOneList.add(&quot;11.&quot; + i+1 + &quot;Reveal the top five cards of your library. You may put all creature cards and/or land cards from among them into your hand. Put the rest into your graveyard.&quot;);\n        minusOneList.add(&quot;12.&quot; + i+1 + &quot;Search your library for a card and put that card into your hand. Then shuffle your library.&quot;);\n        minusOneList.add(&quot;13.&quot; + i+1 + &quot;Target player sacrifices two creatures.&quot;);\n        minusOneList.add(&quot;14.&quot; + i+1 + &quot;Create a 5/5 black Demon creature token with flying. You lose 2 life.&quot;);\n        minusOneList.add(&quot;15.&quot; + i+1 + &quot;Create a 4/4 gold Dragon creature token with flying.&quot;);\n        minusOneList.add(&quot;16.&quot; + i+1 + &quot;Target player's life total becomes 10.&quot;);\n        minusOneList.add(&quot;17.&quot; + i+1 + &quot;Destroy target nonland permanent.&quot;);\n        minusOneList.add(&quot;18.&quot; + i+1 + &quot;Return target permanent from a graveyard to the battlefield under your control.&quot;);\n        minusOneList.add(&quot;19.&quot; + i+1 + &quot;Create two 3/3 green Beast creature tokens.&quot;);\n        minusOneList.add(&quot;20.&quot; + i+1 + &quot;Draw four cards and discard two cards.&quot;);\n        minusSixList.add(&quot;1.&quot; + i+1 + &quot;Urza deals 7 damage to target player or planeswalker. That player or that planeswalker's controller discards seven cards, then sacrifices seven permanents.&quot;);\n        minusSixList.add(&quot;2.&quot; + i+1 + &quot;You get an emblem with \\&quot;If a source would deal damage to you or a planeswalker you control, prevent all but 1 of that damage.\\&quot;&quot;);\n        minusSixList.add(&quot;3.&quot; + i+1 + &quot;Destroy all lands target player controls.&quot;);\n        minusSixList.add(&quot;4.&quot; + i+1 + &quot;Create X 2/2&quot;);\n        minusSixList.add(&quot;5.&quot; + i+1 + &quot;You gain 100 life.&quot;);\n        minusSixList.add(&quot;6.&quot; + i+1 + &quot;Urza deals 10 damage to target player and each creature he or she controls.&quot;);\n        minusSixList.add(&quot;7.&quot; + i+1 + &quot;You get an emblem with \\&quot;Creatures you control have double strike, trample, hexproof, and haste.\\&quot;&quot;);\n        minusSixList.add(&quot;8.&quot; + i+1 + &quot;You get an emblem with \\&quot;Artifacts, creatures, enchantments, and lands you control have indestructible.\\&quot;&quot;);\n        minusSixList.add(&quot;9.&quot; + i+1 + &quot;Create a 6/6 green Wurm creature token for each land you control.&quot;);\n        minusSixList.add(&quot;10.&quot; + i+1 + &quot;Each player shuffles his or her hand and graveyard into his or her library. You draw seven cards.&quot;);\n        minusSixList.add(&quot;11.&quot; + i+1 + &quot;Destroy up to three target creatures and/or other planeswalkers. Return each card put into a graveyard this way to the battlefield under your control.&quot;);\n        minusSixList.add(&quot;12.&quot; + i+1 + &quot;You get an emblem with \\&quot;Whenever you cast a spell, exile target permanent.\\&quot;&quot;);\n        minusSixList.add(&quot;13.&quot; + i+1 + &quot;You get an emblem with \\&quot;Whenever a creature enters the battlefield under your control, you may have it fight target creature.\\&quot; Then create three 8/8 blue Octopus creature tokens.&quot;);\n        minusSixList.add(&quot;14.&quot; + i+1 + &quot;You control target player during that player's next turn.&quot;);\n        minusSixList.add(&quot;15.&quot; + i+1 + &quot;Exile all cards from target player's library, then that player shuffles his or her hand into his or her library.&quot;);\n        minusSixList.add(&quot;16.&quot; + i+1 + &quot;Create three 1/1 black Assassin creature tokens with \\&quot;Whenever this creature deals combat damage to a player, that player loses the game.\\&quot;&quot;);\n        minusSixList.add(&quot;17.&quot; + i+1 + &quot;Put all creature cards from all graveyards onto the battlefield under your control.&quot;);\n        minusSixList.add(&quot;18.&quot; + i+1 + &quot;You gain X life and draw X cards, where X is the number of lands you control.&quot;);\n        minusSixList.add(&quot;19.&quot; + i+1 + &quot;Flip five coins. Take an extra turn after this one for each coin that comes up heads.&quot;);\n        minusSixList.add(&quot;20.&quot; + i+1 + &quot;You gain 7 life, draw seven cards, then put up to seven permanent cards from your hand onto the battlefield.&quot;);\n</code></pre>\n<p><strong>NOTE:</strong>\nAll quoted text is curtesy of Wizards of the Coast and their product Magic The Gathering. Per their Terms of use it is free to use with the idea that they may take and use my code without guarantee of compensation. (I am personally fine with this)</p>\n"},{"tags":["java","keycloak","keycloak-spring-boot-starter"],"owner":{"account_id":14957897,"reputation":151,"user_id":10798587,"display_name":"Vlados"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695998502,"creation_date":1671654390,"question_id":74881456,"body_markdown":"I want that user roles uploaded from db in keycloak. I have wrote RoleSPI for this, but roles don&#39;t load. My role-provider is displayed on server info.\r\n\r\n[![server info][1]][1]\r\n\r\n\r\n[1]: https://i.stack.imgur.com/E7uiU.png\r\n\r\n\r\nI\r\nI created CustomRoleProvider:\r\n```\r\npublic class CustomRoleProvider implements RoleProvider {\r\n @Override\r\n    public RoleModel addRealmRole(RealmModel realmModel, String s, String s1) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;RoleModel&gt; getRealmRolesStream(RealmModel realmModel, Integer integer, Integer integer1) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;RoleModel&gt; getRolesStream(RealmModel realmModel, Stream&lt;String&gt; stream, String s, Integer integer, Integer integer1) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public boolean removeRole(RoleModel roleModel) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public void removeRoles(RealmModel realmModel) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public RoleModel addClientRole(ClientModel clientModel, String s, String s1) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;RoleModel&gt; getClientRolesStream(ClientModel clientModel, Integer integer, Integer integer1) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void removeRoles(ClientModel clientModel) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public RoleModel getRealmRole(RealmModel realmModel, String s) {\r\n        System.out.println(&quot;getRealmRole()&quot;);\r\n        return roleModel;\r\n    }\r\n\r\n    @Override\r\n    public RoleModel getRoleById(RealmModel realmModel, String s) {\r\n        System.out.println(&quot;getRoleById()&quot;);\r\n        return roleModel;\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;RoleModel&gt; searchForRolesStream(RealmModel realmModel, String s, Integer integer, Integer integer1) {\r\n        System.out.println(&quot;searchForRolesStream()&quot;);\r\n        return roleModelStream;\r\n    }\r\n\r\n    @Override\r\n    public RoleModel getClientRole(ClientModel clientModel, String s) {\r\n        System.out.println(&quot;getClientRole()&quot;);\r\n        return roleModel;\r\n    }\r\n\r\n    @Override\r\n    public Stream&lt;RoleModel&gt; searchForClientRolesStream(ClientModel clientModel, String s, Integer integer, Integer integer1) {\r\n        System.out.println(&quot;searchForClientRolesStream()&quot;);\r\n        return roleModelStream;\r\n    }\r\n}\r\n```\r\n\r\nMy CustomRoleProviderFactory:\r\n```\r\npublic class CustomRoleProviderFactory implements RoleProviderFactory {\r\n    @Override\r\n    public RoleProvider create(KeycloakSession keycloakSession) {\r\n        System.out.println(&quot;create&quot;);\r\n        return new CustomRoleProvider();\r\n    }\r\n\r\n    @Override\r\n    public void init(Config.Scope scope) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void postInit(KeycloakSessionFactory keycloakSessionFactory) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public String getId() {\r\n        return &quot;role-provider&quot;;\r\n    }\r\n}\r\n```\r\nI noticed that the create method was not called after the start of keycloak.\r\n\r\n\r\nThere is org.keycloak.models.RoleProviderFactory in resources\\META-INF\\services packages:\r\n```\r\ncom.healthec.keycloak.provider.CustomRoleProviderFactory\r\n```\r\n\r\nDo you have any ideas why roles don&#39;t loaded?","title":"How to set up custom role provider in keycloak 18.0.2?","body":"<p>I want that user roles uploaded from db in keycloak. I have wrote RoleSPI for this, but roles don't load. My role-provider is displayed on server info.</p>\n<p><a href=\"https://i.stack.imgur.com/E7uiU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E7uiU.png\" alt=\"server info\" /></a></p>\n<p>I\nI created CustomRoleProvider:</p>\n<pre><code>public class CustomRoleProvider implements RoleProvider {\n @Override\n    public RoleModel addRealmRole(RealmModel realmModel, String s, String s1) {\n        return null;\n    }\n\n    @Override\n    public Stream&lt;RoleModel&gt; getRealmRolesStream(RealmModel realmModel, Integer integer, Integer integer1) {\n        return null;\n    }\n\n    @Override\n    public Stream&lt;RoleModel&gt; getRolesStream(RealmModel realmModel, Stream&lt;String&gt; stream, String s, Integer integer, Integer integer1) {\n        return null;\n    }\n\n    @Override\n    public boolean removeRole(RoleModel roleModel) {\n        return false;\n    }\n\n    @Override\n    public void removeRoles(RealmModel realmModel) {\n\n    }\n\n    @Override\n    public RoleModel addClientRole(ClientModel clientModel, String s, String s1) {\n        return null;\n    }\n\n    @Override\n    public Stream&lt;RoleModel&gt; getClientRolesStream(ClientModel clientModel, Integer integer, Integer integer1) {\n        return null;\n    }\n\n    @Override\n    public void removeRoles(ClientModel clientModel) {\n\n    }\n\n    @Override\n    public void close() {\n\n    }\n\n    @Override\n    public RoleModel getRealmRole(RealmModel realmModel, String s) {\n        System.out.println(&quot;getRealmRole()&quot;);\n        return roleModel;\n    }\n\n    @Override\n    public RoleModel getRoleById(RealmModel realmModel, String s) {\n        System.out.println(&quot;getRoleById()&quot;);\n        return roleModel;\n    }\n\n    @Override\n    public Stream&lt;RoleModel&gt; searchForRolesStream(RealmModel realmModel, String s, Integer integer, Integer integer1) {\n        System.out.println(&quot;searchForRolesStream()&quot;);\n        return roleModelStream;\n    }\n\n    @Override\n    public RoleModel getClientRole(ClientModel clientModel, String s) {\n        System.out.println(&quot;getClientRole()&quot;);\n        return roleModel;\n    }\n\n    @Override\n    public Stream&lt;RoleModel&gt; searchForClientRolesStream(ClientModel clientModel, String s, Integer integer, Integer integer1) {\n        System.out.println(&quot;searchForClientRolesStream()&quot;);\n        return roleModelStream;\n    }\n}\n</code></pre>\n<p>My CustomRoleProviderFactory:</p>\n<pre><code>public class CustomRoleProviderFactory implements RoleProviderFactory {\n    @Override\n    public RoleProvider create(KeycloakSession keycloakSession) {\n        System.out.println(&quot;create&quot;);\n        return new CustomRoleProvider();\n    }\n\n    @Override\n    public void init(Config.Scope scope) {\n\n    }\n\n    @Override\n    public void postInit(KeycloakSessionFactory keycloakSessionFactory) {\n\n    }\n\n    @Override\n    public void close() {\n\n    }\n\n    @Override\n    public String getId() {\n        return &quot;role-provider&quot;;\n    }\n}\n</code></pre>\n<p>I noticed that the create method was not called after the start of keycloak.</p>\n<p>There is org.keycloak.models.RoleProviderFactory in resources\\META-INF\\services packages:</p>\n<pre><code>com.healthec.keycloak.provider.CustomRoleProviderFactory\n</code></pre>\n<p>Do you have any ideas why roles don't loaded?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8115161,"reputation":776,"user_id":6113915,"display_name":"Stian J&#248;rgensrud"},"score":0,"creation_date":1696069720,"post_id":77193954,"comment_id":136108908,"body_markdown":"Are you running this on a local computer?","body":"Are you running this on a local computer?"}],"answers":[{"tags":[],"owner":{"account_id":14961368,"reputation":1,"user_id":14220294,"display_name":"Steven Garc&#237;a"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695998313,"creation_date":1695897723,"answer_id":77194252,"question_id":77193954,"body_markdown":"First at all, you opened a scanner object, read a number, then print the result, but you have to close the `Scanner` object at the end.\r\n\r\nAdd `sc.close()` after reading the input.","title":"Maxium GCD of pair number in array","body":"<p>First at all, you opened a scanner object, read a number, then print the result, but you have to close the <code>Scanner</code> object at the end.</p>\n<p>Add <code>sc.close()</code> after reading the input.</p>\n"}],"owner":{"account_id":27834084,"reputation":1,"user_id":21251938,"display_name":"Le Mael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695998313,"creation_date":1695894984,"question_id":77193954,"body_markdown":"I want  to find maxium GCD of pair number in array\r\nExample : 2,4,7,9,14,15\r\nOutput: 7\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        int n = sc.nextInt();\r\n\r\n        int[] nums = new int[n];\r\n        for (int i = 0; i &lt; n; i++) {\r\n            nums[i] = sc.nextInt();\r\n        }\r\n\r\n        int result = findMaxGCD(nums);\r\n\r\n        System.out.println(result);\r\n    }\r\n\r\n    public static int findMaxGCD(int[] arr) {\r\n        int maxGCD = 0;\r\n        int n = arr.length;\r\n\r\n        for (int i = 0; i &lt; n - 1; i++) {\r\n            for (int j = i + 1; j &lt; n; j++) {\r\n                int gcd = gcd(arr[i], arr[j]);\r\n                if (gcd &gt; maxGCD) {\r\n                    maxGCD = gcd;\r\n                }\r\n            }\r\n        }\r\n\r\n        return maxGCD;\r\n    }\r\n\r\n    public static int gcd(int a, int b) {\r\n        if (b == 0)\r\n            return a;\r\n        return gcd(b, a % b);\r\n    }\r\n}\r\n\r\n```\r\nI test my solution but It have a runtime problem, it is timeout. Can you help me save more time.\r\n\r\nBest Solution.It have a runtime problem, it is timeout. Can you help me save more time.\r\n","title":"Maxium GCD of pair number in array","body":"<p>I want  to find maxium GCD of pair number in array\nExample : 2,4,7,9,14,15\nOutput: 7</p>\n<pre><code>import java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n\n        int n = sc.nextInt();\n\n        int[] nums = new int[n];\n        for (int i = 0; i &lt; n; i++) {\n            nums[i] = sc.nextInt();\n        }\n\n        int result = findMaxGCD(nums);\n\n        System.out.println(result);\n    }\n\n    public static int findMaxGCD(int[] arr) {\n        int maxGCD = 0;\n        int n = arr.length;\n\n        for (int i = 0; i &lt; n - 1; i++) {\n            for (int j = i + 1; j &lt; n; j++) {\n                int gcd = gcd(arr[i], arr[j]);\n                if (gcd &gt; maxGCD) {\n                    maxGCD = gcd;\n                }\n            }\n        }\n\n        return maxGCD;\n    }\n\n    public static int gcd(int a, int b) {\n        if (b == 0)\n            return a;\n        return gcd(b, a % b);\n    }\n}\n\n</code></pre>\n<p>I test my solution but It have a runtime problem, it is timeout. Can you help me save more time.</p>\n<p>Best Solution.It have a runtime problem, it is timeout. Can you help me save more time.</p>\n"},{"tags":["java","spring-restcontroller"],"owner":{"account_id":19459099,"reputation":57,"user_id":14233748,"display_name":"Sarthak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695997648,"creation_date":1695997648,"question_id":77202751,"body_markdown":"I have a method which returns a pdf. But if anything goes wrong, I want to send back the response in json format. I wrote following code for it -\r\n\r\n```\r\n@PostMapping(value=&quot;/pdf&quot;, produces = {&quot;application/json&quot;, &quot;application/pdf&quot;}) \r\nResponseEntity&lt;Object&gt; pdf(@RequestBody MyRequest myRequest) {  \r\n     try {\r\n         File file = new File(&quot;test.pdf&quot;);\r\n         return new ResponseEntity(file, HttpStatus.OK);\r\n     } else {\r\n         ErrorResponse errorResponse = ErrorResponse.builder().setMessage(&quot;Got some error&quot;).build();\r\n         return new ResponseEntity(errorResponse, HttpStatus.BAD_REQUEST);\r\n     }\r\n} \r\n```\r\n\r\nIs this the correct and standard way to implement this? I found another way where I can convert file or errorResponse to byte[], change the return type of method to ResponseEntity&lt;byte[]&gt; and remove &quot;application/pdf&quot; from produces element of PostMapping but can&#39;t decide which one is better.\r\n\r\n","title":"Same end point returning application/pdf and application/json","body":"<p>I have a method which returns a pdf. But if anything goes wrong, I want to send back the response in json format. I wrote following code for it -</p>\n<pre><code>@PostMapping(value=&quot;/pdf&quot;, produces = {&quot;application/json&quot;, &quot;application/pdf&quot;}) \nResponseEntity&lt;Object&gt; pdf(@RequestBody MyRequest myRequest) {  \n     try {\n         File file = new File(&quot;test.pdf&quot;);\n         return new ResponseEntity(file, HttpStatus.OK);\n     } else {\n         ErrorResponse errorResponse = ErrorResponse.builder().setMessage(&quot;Got some error&quot;).build();\n         return new ResponseEntity(errorResponse, HttpStatus.BAD_REQUEST);\n     }\n} \n</code></pre>\n<p>Is this the correct and standard way to implement this? I found another way where I can convert file or errorResponse to byte[], change the return type of method to ResponseEntity&lt;byte[]&gt; and remove &quot;application/pdf&quot; from produces element of PostMapping but can't decide which one is better.</p>\n"},{"tags":["java","android","visual-studio","xamarin","xamarin.forms"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693767413,"post_id":77033676,"comment_id":135800866,"body_markdown":"Yes on an Android 13 device your app can create files in all public directories on external storage without any permission.","body":"Yes on an Android 13 device your app can create files in all public directories on external storage without any permission."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693767432,"post_id":77033676,"comment_id":135800870,"body_markdown":"But it cannot read files of other apps. Well.. not in the classic way.","body":"But it cannot read files of other apps. Well.. not in the classic way."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693767510,"post_id":77033676,"comment_id":135800880,"body_markdown":"You schould try Android 11 and 12 devices too.","body":"You schould try Android 11 and 12 devices too."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693767644,"post_id":77033676,"comment_id":135800890,"body_markdown":"`on Android 13, it&#39;s unable to read files from both internal and external storage ` Hmmm . I wonder what exactly you consider to be internal storage. Full path please.","body":"<code>on Android 13, it&#39;s unable to read files from both internal and external storage </code> Hmmm . I wonder what exactly you consider to be internal storage. Full path please."},{"owner":{"account_id":26555117,"reputation":11,"user_id":20183868,"display_name":"DedSec"},"score":0,"creation_date":1693773081,"post_id":77033676,"comment_id":135801487,"body_markdown":"@blackapps i tried different location of internal storage like document folder and app directory but still same error access denied all library are up to date of Xamarain. internal storage means Primary Storage of smartphone and external sdcard hope you understand.","body":"@blackapps i tried different location of internal storage like document folder and app directory but still same error access denied all library are up to date of Xamarain. internal storage means Primary Storage of smartphone and external sdcard hope you understand."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693822072,"post_id":77033676,"comment_id":135806294,"body_markdown":"Well i told you all in my first comments. Did you read them?","body":"Well i told you all in my first comments. Did you read them?"},{"owner":{"account_id":26555117,"reputation":11,"user_id":20183868,"display_name":"DedSec"},"score":0,"creation_date":1693832050,"post_id":77033676,"comment_id":135808160,"body_markdown":"so whats the solution its not reading file after writing?","body":"so whats the solution its not reading file after writing?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693833667,"post_id":77033676,"comment_id":135808500,"body_markdown":"I dont see code where you create a file and then try to read it.","body":"I dont see code where you create a file and then try to read it."}],"owner":{"account_id":26555117,"reputation":11,"user_id":20183868,"display_name":"DedSec"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695997622,"creation_date":1693765591,"question_id":77033676,"body_markdown":"I&#39;m facing an issue with my Xamarin Android app, specifically when running it on Android 13 (API 33). The app works perfectly fine on lower Android versions (from 5 to 10), but on Android 13, it&#39;s unable to read files from both internal and external storage access denied. However, it can successfully write files to these locations.\r\n\r\nHere&#39;s how I&#39;m currently retrieving file paths in my app:\r\n\r\n```\r\npublic static string Pass()\r\n{\r\n    return Path.Combine((string)System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal), &quot;pass.licns&quot;);\r\n}\r\n\r\npublic static string Course()\r\n{\r\n    return Path.Combine((string)System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal), &quot;course.licns&quot;);\r\n}\r\n\r\n```\r\nAnd here&#39;s the relevant portion of my AndroidManifest.xml:\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:versionCode=&quot;19&quot; android:versionName=&quot;3.0&quot; package=&quot;com.player&quot; android:installLocation=&quot;auto&quot;&gt;\r\n    &lt;uses-sdk android:minSdkVersion=&quot;21&quot; android:targetSdkVersion=&quot;33&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.GET_TASKS&quot; /&gt;\r\n    &lt;application android:label=&quot;Player&quot; android:icon=&quot;@drawable/icon&quot; android:requestLegacyExternalStorage=&quot;false&quot;&gt;&lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\nI&#39;ve tried various solutions found on Stack Overflow, but none of them seem to work for Android 13. It&#39;s important to note that my app can write files successfully, but reading files is the issue.\r\n\r\nAny guidance on how to make my app work on Android 13 regarding file reading would be greatly appreciated.\r\n\r\nThank you in advance for your help!","title":"Xamarin Android app not reading files in Android 13 (API 33)","body":"<p>I'm facing an issue with my Xamarin Android app, specifically when running it on Android 13 (API 33). The app works perfectly fine on lower Android versions (from 5 to 10), but on Android 13, it's unable to read files from both internal and external storage access denied. However, it can successfully write files to these locations.</p>\n<p>Here's how I'm currently retrieving file paths in my app:</p>\n<pre><code>public static string Pass()\n{\n    return Path.Combine((string)System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal), &quot;pass.licns&quot;);\n}\n\npublic static string Course()\n{\n    return Path.Combine((string)System.Environment.GetFolderPath(System.Environment.SpecialFolder.Personal), &quot;course.licns&quot;);\n}\n\n</code></pre>\n<p>And here's the relevant portion of my AndroidManifest.xml:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:versionCode=&quot;19&quot; android:versionName=&quot;3.0&quot; package=&quot;com.player&quot; android:installLocation=&quot;auto&quot;&gt;\n    &lt;uses-sdk android:minSdkVersion=&quot;21&quot; android:targetSdkVersion=&quot;33&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.GET_TASKS&quot; /&gt;\n    &lt;application android:label=&quot;Player&quot; android:icon=&quot;@drawable/icon&quot; android:requestLegacyExternalStorage=&quot;false&quot;&gt;&lt;/application&gt;\n&lt;/manifest&gt;\n\n</code></pre>\n<p>I've tried various solutions found on Stack Overflow, but none of them seem to work for Android 13. It's important to note that my app can write files successfully, but reading files is the issue.</p>\n<p>Any guidance on how to make my app work on Android 13 regarding file reading would be greatly appreciated.</p>\n<p>Thank you in advance for your help!</p>\n"},{"tags":["java","android","kotlin","sms","android-10.0"],"answers":[{"tags":[],"owner":{"account_id":13455154,"reputation":723,"user_id":9708904,"display_name":"Danial clarc"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1649105069,"creation_date":1601464512,"answer_id":64136408,"question_id":64135681,"body_markdown":"After reading documentation carefully , I got they have updated direct intent with `RoleManager` , \r\n```\r\nif (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.P) {\r\n    val roleManager = getSystemService(RoleManager::class.java)\r\n    val roleRequestIntent = roleManager.createRequestRoleIntent(RoleManager.ROLE_SMS)\r\n    startActivityForResult(roleRequestIntent, 12)\r\n} else {\r\n    val intent = Intent(Telephony.Sms.Intents.ACTION_CHANGE_DEFAULT)\r\n    intent.putExtra(Telephony.Sms.Intents.EXTRA_PACKAGE_NAME, packageName)\r\n    startActivity(intent)\r\n}\r\n```\r\n\r\n\r\nThis is new way updating all required access \r\nfor reference :- \r\nhttps://developer.android.com/reference/android/app/role/RoleManager","title":"Change default sms app intent not working on android 10","body":"<p>After reading documentation carefully , I got they have updated direct intent with <code>RoleManager</code> ,</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.P) {\n    val roleManager = getSystemService(RoleManager::class.java)\n    val roleRequestIntent = roleManager.createRequestRoleIntent(RoleManager.ROLE_SMS)\n    startActivityForResult(roleRequestIntent, 12)\n} else {\n    val intent = Intent(Telephony.Sms.Intents.ACTION_CHANGE_DEFAULT)\n    intent.putExtra(Telephony.Sms.Intents.EXTRA_PACKAGE_NAME, packageName)\n    startActivity(intent)\n}\n</code></pre>\n<p>This is new way updating all required access\nfor reference :-\n<a href=\"https://developer.android.com/reference/android/app/role/RoleManager\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/app/role/RoleManager</a></p>\n"}],"owner":{"account_id":13455154,"reputation":723,"user_id":9708904,"display_name":"Danial clarc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1424,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64136408,"answer_count":1,"score":2,"last_activity_date":1695997603,"creation_date":1601461863,"question_id":64135681,"body_markdown":"Hello I am working on updating my app compatibility to android 10 and 11 , previously I was making my app to default sms app and receiving and sending new sms from my application , The intent to change default sms app works fine below android 10 but its not showing to change default sms app pop up on android 10 \r\n\r\n     val intent = Intent(Telephony.Sms.Intents.ACTION_CHANGE_DEFAULT)\r\n                                intent.putExtra(Telephony.Sms.Intents.EXTRA_PACKAGE_NAME, packageName)\r\n                                startActivity(intent)\r\n\r\nIf anyone know what has changed for android 10 please suggest , because I am not able to find any change for this on developer.android.com , Thanks in advance \r\n\r\n ","title":"Change default sms app intent not working on android 10","body":"<p>Hello I am working on updating my app compatibility to android 10 and 11 , previously I was making my app to default sms app and receiving and sending new sms from my application , The intent to change default sms app works fine below android 10 but its not showing to change default sms app pop up on android 10</p>\n<pre><code> val intent = Intent(Telephony.Sms.Intents.ACTION_CHANGE_DEFAULT)\n                            intent.putExtra(Telephony.Sms.Intents.EXTRA_PACKAGE_NAME, packageName)\n                            startActivity(intent)\n</code></pre>\n<p>If anyone know what has changed for android 10 please suggest , because I am not able to find any change for this on developer.android.com , Thanks in advance</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":4,"creation_date":1695996480,"post_id":77202592,"comment_id":136101309,"body_markdown":"Not much point showing us an obfuscated picture of a variable, but xxx.home != xxx_home","body":"Not much point showing us an obfuscated picture of a variable, but xxx.home != xxx_home"},{"owner":{"account_id":29563683,"reputation":11,"user_id":22657637,"display_name":"William Lee"},"score":0,"creation_date":1695996989,"post_id":77202592,"comment_id":136101411,"body_markdown":"In my environment variable, I have my jdk set as JAVA_HOME, using System.getProperty(&quot;java.home&quot;); I can get the directory, is this not how it is suppose to work?","body":"In my environment variable, I have my jdk set as JAVA_HOME, using System.getProperty(&quot;java.home&quot;); I can get the directory, is this not how it is suppose to work?"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":4,"creation_date":1695997090,"post_id":77202592,"comment_id":136101435,"body_markdown":"System property != environment variable. Use `System.getenv(&quot;xyz&quot;)` to read an environment variable, and `System.getProperty(&quot;xyz&quot;);` to read a system property","body":"System property != environment variable. Use <code>System.getenv(&quot;xyz&quot;)</code> to read an environment variable, and <code>System.getProperty(&quot;xyz&quot;);</code> to read a system property"},{"owner":{"account_id":29563683,"reputation":11,"user_id":22657637,"display_name":"William Lee"},"score":0,"creation_date":1695997367,"post_id":77202592,"comment_id":136101489,"body_markdown":"I need to use getProperty due to restrictions in the project, both xxx_home and JAVA_HOME is under the user variables section and I can read JAVA_HOME just fine with getProperty","body":"I need to use getProperty due to restrictions in the project, both xxx_home and JAVA_HOME is under the user variables section and I can read JAVA_HOME just fine with getProperty"},{"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"score":1,"creation_date":1695997477,"post_id":77202592,"comment_id":136101514,"body_markdown":"Launch your java application passing &quot;-Dxxx.home=%XXX_HOME%&quot; on the command line","body":"Launch your java application passing &quot;-Dxxx.home=%XXX_HOME%&quot; on the command line"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695997550,"post_id":77202592,"comment_id":136101530,"body_markdown":"Or, to make it work with your *current* code, you could do `&quot;-Dxxx.home=%XXX_HOME%&quot; `","body":"Or, to make it work with your <i>current</i> code, you could do <code>&quot;-Dxxx.home=%XXX_HOME%&quot; </code>"},{"owner":{"account_id":29563683,"reputation":11,"user_id":22657637,"display_name":"William Lee"},"score":0,"creation_date":1695997854,"post_id":77202592,"comment_id":136101595,"body_markdown":"Getting null still, I&#39;ve put it under program arguments in intellij, I think I&#39;m doing it right? Could it be a security policy issue on my laptop? I&#39;m using company laptop and none of my other team members have the same issue","body":"Getting null still, I&#39;ve put it under program arguments in intellij, I think I&#39;m doing it right? Could it be a security policy issue on my laptop? I&#39;m using company laptop and none of my other team members have the same issue"},{"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"score":0,"creation_date":1695998313,"post_id":77202592,"comment_id":136101705,"body_markdown":"Enumerate over all items within the collection returned by System.getProperties() and check what&#39;s there","body":"Enumerate over all items within the collection returned by System.getProperties() and check what&#39;s there"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695999088,"post_id":77202592,"comment_id":136101881,"body_markdown":"As @DuncG has said, you can access directly with `System.getenv(&quot;XXX_HOME&quot;);`","body":"As @DuncG has said, you can access directly with <code>System.getenv(&quot;XXX_HOME&quot;);</code>"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1695999351,"post_id":77202592,"comment_id":136101936,"body_markdown":"@WilliamLee &quot; I can read JAVA_HOME just fine with getProperty&quot;. You are mistaken: Java sets system property &quot;java.home&quot; based on the current running VM, isn&#39;t the value of JAVA_HOME environment variable. If you launch say &quot;c:\\jdk-17\\bin\\java&quot; and &quot;c:\\jdk-21\\bin\\java&quot; then each VM sets  system property &quot;java.home&quot; appropriately","body":"@WilliamLee &quot; I can read JAVA_HOME just fine with getProperty&quot;. You are mistaken: Java sets system property &quot;java.home&quot; based on the current running VM, isn&#39;t the value of JAVA_HOME environment variable. If you launch say &quot;c:\\jdk-17\\bin\\java&quot; and &quot;c:\\jdk-21\\bin\\java&quot; then each VM sets  system property &quot;java.home&quot; appropriately"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696000933,"post_id":77202592,"comment_id":136102290,"body_markdown":"*Java sets system property &quot;java.home&quot; based on the current running VM,* Thank you @DuncG, I&#39;d forgotten to correct that","body":"<i>Java sets system property &quot;java.home&quot; based on the current running VM,</i> Thank you @DuncG, I&#39;d forgotten to correct that"},{"owner":{"account_id":29563683,"reputation":11,"user_id":22657637,"display_name":"William Lee"},"score":0,"creation_date":1696001779,"post_id":77202592,"comment_id":136102454,"body_markdown":"@g00se yes getenv works, thanks!","body":"@g00se yes getenv works, thanks!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696002860,"post_id":77202592,"comment_id":136102655,"body_markdown":"Good, but @DuncG mentioned it first ;)","body":"Good, but @DuncG mentioned it first ;)"},{"owner":{"account_id":29563683,"reputation":11,"user_id":22657637,"display_name":"William Lee"},"score":0,"creation_date":1696002956,"post_id":77202592,"comment_id":136102675,"body_markdown":"@g00se it looks like Using system.getproperty(&quot;%XXX_HOME%&quot;) doesn&#39;t work, is there a way I can define XXX_HOME such that I can use System.getproperty(&quot;xxx.home&quot;) to retrieve the directory? Instead of using getenv","body":"@g00se it looks like Using system.getproperty(&quot;%XXX_HOME%&quot;) doesn&#39;t work, is there a way I can define XXX_HOME such that I can use System.getproperty(&quot;xxx.home&quot;) to retrieve the directory? Instead of using getenv"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696003062,"post_id":77202592,"comment_id":136102693,"body_markdown":"Well I already told you how to do that above. But of course you need to ensure you set that VM parameter in your run configuration in Netbeans. Personally, I don&#39;t know how to do that. Personally I wouldn&#39;t do this. If you have *already* set an environment variable, why give yourself the *extra* step of also setting it(then retrieving it)  as a VM parameter?","body":"Well I already told you how to do that above. But of course you need to ensure you set that VM parameter in your run configuration in Netbeans. Personally, I don&#39;t know how to do that. Personally I wouldn&#39;t do this. If you have <i>already</i> set an environment variable, why give yourself the <i>extra</i> step of also setting it(then retrieving it)  as a VM parameter?"},{"owner":{"account_id":29563683,"reputation":11,"user_id":22657637,"display_name":"William Lee"},"score":0,"creation_date":1696003437,"post_id":77202592,"comment_id":136102768,"body_markdown":"I have set -Dxxx.home=%XXX_HOME%, so that means when System.getproperty(&quot;xxx.home&quot;) runs, it should actually be running system.getproperty(&quot;%XXX_HOME%&quot;) right? \n\nI can&#39;t change the code of the project but I can change the configuration of my IDE/setup. I already have -Dxxx.home=%XXX_HOME% in my VM parameter, System.getproperty(&quot;xxx.home&quot;) still doesn&#39;t work","body":"I have set -Dxxx.home=%XXX_HOME%, so that means when System.getproperty(&quot;xxx.home&quot;) runs, it should actually be running system.getproperty(&quot;%XXX_HOME%&quot;) right?   I can&#39;t change the code of the project but I can change the configuration of my IDE/setup. I already have -Dxxx.home=%XXX_HOME% in my VM parameter, System.getproperty(&quot;xxx.home&quot;) still doesn&#39;t work"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696003730,"post_id":77202592,"comment_id":136102828,"body_markdown":"The problem could be that `%XXX_HOME%` is expanded by the shell and that might not happen with Netbeans. You&#39;d probably be better off telling us what your logical goal is here. e.g. if it&#39;s using a certain directory relative to a fixed one then there could be a better way. Also, defining stuff in relation to your NB projects directory is suspect and probably shouldn&#39;t be happening","body":"The problem could be that <code>%XXX_HOME%</code> is expanded by the shell and that might not happen with Netbeans. You&#39;d probably be better off telling us what your logical goal is here. e.g. if it&#39;s using a certain directory relative to a fixed one then there could be a better way. Also, defining stuff in relation to your NB projects directory is suspect and probably shouldn&#39;t be happening"},{"owner":{"account_id":29563683,"reputation":11,"user_id":22657637,"display_name":"William Lee"},"score":0,"creation_date":1696004173,"post_id":77202592,"comment_id":136102909,"body_markdown":"I tried in intellij as well for -Dxxx.home=%XXX_HOME% which returns null, but in Netbeans it returns %XXX_HOME% which was weird. The code in the project is System.getproperty(&quot;xxx.home&quot;) and I need this code to return the value ( directory of resources ) I set in the environment variable for XXX_HOME","body":"I tried in intellij as well for -Dxxx.home=%XXX_HOME% which returns null, but in Netbeans it returns %XXX_HOME% which was weird. The code in the project is System.getproperty(&quot;xxx.home&quot;) and I need this code to return the value ( directory of resources ) I set in the environment variable for XXX_HOME"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696004727,"post_id":77202592,"comment_id":136103031,"body_markdown":"*but in Netbeans it returns %XXX_HOME% which was weird.* Not weird at all, but for the reason I just gave. As I suspected, you&#39;re doing this all wrong. Resources are nothing to do with file system paths. [You need to rethink](https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans)","body":"<i>but in Netbeans it returns %XXX_HOME% which was weird.</i> Not weird at all, but for the reason I just gave. As I suspected, you&#39;re doing this all wrong. Resources are nothing to do with file system paths. <a href=\"https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans\" rel=\"nofollow noreferrer\">You need to rethink</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696009130,"post_id":77202592,"comment_id":136103861,"body_markdown":"Resources are contained in the deployment unit, not in the file system","body":"Resources are contained in the deployment unit, not in the file system"}],"owner":{"account_id":29563683,"reputation":11,"user_id":22657637,"display_name":"William Lee"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1696007084,"answer_count":0,"score":1,"last_activity_date":1695997301,"creation_date":1695996358,"question_id":77202592,"body_markdown":"I&#39;m trying to read a particular variable that is named xxx_home in the environment that is located under \r\n```\r\n....\\Documents\\NetBeansProjects\\....\r\n```\r\n\r\nI&#39;ve tested with my Java_home and other variables which are all readable except this particular xxx_home variable. As the location of this variable is in d\r\n\r\nI&#39;m reading it using the following code which returns null for xxx_home\r\n\r\n```\r\nString homePath = System.getProperty(&quot;xxx.home&quot;);\r\n        System.out.println(homePath);\r\n```\r\n[1]: https://i.stack.imgur.com/Olh5V.png &quot;tooltip&quot;\r\n[My environment variable](https://i.stack.imgur.com/Olh5V.png)\r\n\r\nWhen I attempt to test it via CMD with echo %XXX_HOME%, it returns the correct value. Appreciate any help!\r\n\r\nCMD returns correct value, other values in the environment variable is retrievable via the same code\r\n\r\nUpdate:\r\n1) The spelling of xxx.home and `System.getProperty(&quot;xxx.home&quot;);` is the same\r\n2) I&#39;m not able to change the code `System.getProperty(&quot;xxx.home&quot;)`\r\n3) I&#39;m able to read JAVA_HOME from environment variables -&gt; user variables with `System.getProperty(&quot;java.home&quot;)` just fine","title":"System.getProperty unable to read from a particular environment variable","body":"<p>I'm trying to read a particular variable that is named xxx_home in the environment that is located under</p>\n<pre><code>....\\Documents\\NetBeansProjects\\....\n</code></pre>\n<p>I've tested with my Java_home and other variables which are all readable except this particular xxx_home variable. As the location of this variable is in d</p>\n<p>I'm reading it using the following code which returns null for xxx_home</p>\n<pre><code>String homePath = System.getProperty(&quot;xxx.home&quot;);\n        System.out.println(homePath);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Olh5V.png\" rel=\"nofollow noreferrer\">My environment variable</a></p>\n<p>When I attempt to test it via CMD with echo %XXX_HOME%, it returns the correct value. Appreciate any help!</p>\n<p>CMD returns correct value, other values in the environment variable is retrievable via the same code</p>\n<p>Update:</p>\n<ol>\n<li>The spelling of xxx.home and <code>System.getProperty(&quot;xxx.home&quot;);</code> is the same</li>\n<li>I'm not able to change the code <code>System.getProperty(&quot;xxx.home&quot;)</code></li>\n<li>I'm able to read JAVA_HOME from environment variables -&gt; user variables with <code>System.getProperty(&quot;java.home&quot;)</code> just fine</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690787649,"post_id":76801365,"comment_id":135396224,"body_markdown":"Spring Security doesn&#39;t leverage the exception handling from Spring and does this itself. You would need to plug it into Spring Security (like https://www.baeldung.com/spring-security-exceptionhandler#with-exceptionhandler). Next you would also need to extend the problem detail support to handle the Spring Security errors, by default it only handles the known Spring errors not the Spring Security ones.","body":"Spring Security doesn&#39;t leverage the exception handling from Spring and does this itself. You would need to plug it into Spring Security (like <a href=\"https://www.baeldung.com/spring-security-exceptionhandler#with-exceptionhandler\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>). Next you would also need to extend the problem detail support to handle the Spring Security errors, by default it only handles the known Spring errors not the Spring Security ones."},{"owner":{"account_id":3635267,"reputation":156,"user_id":3030527,"accept_rate":57,"display_name":"Stene"},"score":0,"creation_date":1690787896,"post_id":76801365,"comment_id":135396265,"body_markdown":"@M.Deinum, yeah this is what I feared. I don&#39;t think I am up to the task of writing this handling myself and was hoping something already existed that I could leverage.","body":"@M.Deinum, yeah this is what I feared. I don&#39;t think I am up to the task of writing this handling myself and was hoping something already existed that I could leverage."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690788032,"post_id":76801365,"comment_id":135396288,"body_markdown":"It isn&#39;t that hard, it is just a simple class that delegates to the existing `ExceptionHandlerResolver` and you need a small extension to the provided class from Spring and register it as a bean. The components are (mostly) there it requires some wiring together.","body":"It isn&#39;t that hard, it is just a simple class that delegates to the existing <code>ExceptionHandlerResolver</code> and you need a small extension to the provided class from Spring and register it as a bean. The components are (mostly) there it requires some wiring together."},{"owner":{"account_id":3635267,"reputation":156,"user_id":3030527,"accept_rate":57,"display_name":"Stene"},"score":0,"creation_date":1690788732,"post_id":76801365,"comment_id":135396424,"body_markdown":"@M.Deinum, are you talking about creating a custom `AuthenticationEntryPoint` or `AccessDeniedHandler`? I was doing some investigating earlier and it seemed like I had to forcefully &quot;overwrite&quot; the response body.\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\n        var problemDetail = authException.convertToProblemDetail(); \n        response.setStatus(HttpStatus.UNAUTHORIZED.value());\n        response.getWriter().write(problemDetail.asJsonString());\n    }","body":"@M.Deinum, are you talking about creating a custom <code>AuthenticationEntryPoint</code> or <code>AccessDeniedHandler</code>? I was doing some investigating earlier and it seemed like I had to forcefully &quot;overwrite&quot; the response body.      @Override     public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {         var problemDetail = authException.convertToProblemDetail();          response.setStatus(HttpStatus.UNAUTHORIZED.value());         response.getWriter().write(problemDetail.asJsonString());     }"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690789561,"post_id":76801365,"comment_id":135396594,"body_markdown":"Not if you delegate to the `HandlerExceptionResolver` the annotation driven one should set the status and response itself. You would need an `AccessDeniedHandler` as well.","body":"Not if you delegate to the <code>HandlerExceptionResolver</code> the annotation driven one should set the status and response itself. You would need an <code>AccessDeniedHandler</code> as well."},{"owner":{"account_id":3635267,"reputation":156,"user_id":3030527,"accept_rate":57,"display_name":"Stene"},"score":0,"creation_date":1690789725,"post_id":76801365,"comment_id":135396621,"body_markdown":"So which exception class should the `HandlerExceptionResolver` react to?\n\n`@ExceptionHandler(SomeSpringSecurityException.class)`","body":"So which exception class should the <code>HandlerExceptionResolver</code> react to?  <code>@ExceptionHandler(SomeSpringSecurityException.class)</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690789962,"post_id":76801365,"comment_id":135396659,"body_markdown":"`AuthenticationException` is a bit of a give away (that is in your signature) then decide what to do (check the `ResponseEntityExceptionHandler` from Spring for inspiration on method signatures, and you should probably extend that one as well).","body":"<code>AuthenticationException</code> is a bit of a give away (that is in your signature) then decide what to do (check the <code>ResponseEntityExceptionHandler</code> from Spring for inspiration on method signatures, and you should probably extend that one as well)."},{"owner":{"account_id":3635267,"reputation":156,"user_id":3030527,"accept_rate":57,"display_name":"Stene"},"score":0,"creation_date":1690790345,"post_id":76801365,"comment_id":135396721,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254726/discussion-between-stene-and-m-deinum).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254726/discussion-between-stene-and-m-deinum\">continue this discussion in chat</a>."},{"owner":{"account_id":3635267,"reputation":156,"user_id":3030527,"accept_rate":57,"display_name":"Stene"},"score":0,"creation_date":1690791413,"post_id":76801365,"comment_id":135396899,"body_markdown":"@M.Deinum, The reason for why I asked for which exception, is because &quot;AuthenticationException&quot; does not appear to be thrown at all.\n\nThe class: &quot;BearerTokenAuthenticationEntryPoint&quot; has a function `commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)` that receives an AuthenticationException and handles it. So the exception is not thrown further and therefore I believe it cannot be handled by my`@ExceptionHandler(AuthenticationException.class)`","body":"@M.Deinum, The reason for why I asked for which exception, is because &quot;AuthenticationException&quot; does not appear to be thrown at all.  The class: &quot;BearerTokenAuthenticationEntryPoint&quot; has a function <code>commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)</code> that receives an AuthenticationException and handles it. So the exception is not thrown further and therefore I believe it cannot be handled by my<code>@ExceptionHandler(AuthenticationException.class)</code>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690792900,"post_id":76801365,"comment_id":135397193,"body_markdown":"Read the link I shared earlier... You call the method on the `HandlerExceptionResolver` yourself **with** the excpetion. YOu don&#39;t throw it.","body":"Read the link I shared earlier... You call the method on the <code>HandlerExceptionResolver</code> yourself <b>with</b> the excpetion. YOu don&#39;t throw it."}],"answers":[{"tags":[],"owner":{"account_id":3635267,"reputation":156,"user_id":3030527,"accept_rate":57,"display_name":"Stene"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690800931,"creation_date":1690800931,"answer_id":76802931,"question_id":76801365,"body_markdown":"&gt; This answer is thanks to @M.Deinum \r\n\r\n**1. There is no built in ProblemDetails-feature for Spring Security**\r\n\r\nSince Spring Security does not leverage exception handling from Spring, there is no ProblemDetails support built in.\r\n\r\n**2. How to implement this yourself**\r\n\r\nOne can easily achieve this behavior by implementing two different classes and wiring them up.\r\n\r\nFirstly we need to create an ExceptionHandler that can handle the `AuthenticationException.class` from Spring Security\r\n\r\n```\r\n@RestControllerAdvice\r\npublic class AuthenticationExceptionEntityExceptionHandler \r\n    extends ResponseEntityExceptionHandler {\r\n\r\n    @ExceptionHandler(AuthenticationException.class)\r\n    ProblemDetail handleAuthenticationErrorResponseException() {\r\n        return ProblemDetail.forStatusAndDetail(\r\n            HttpStatus.UNAUTHORIZED,\r\n            &quot;Could not authenticate user&quot;\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nThen we need to implement an `AuthenticationEntryPoint.class` which will delegate the exception to the `HandlerExceptionResolver`-implementation\r\n\r\n```\r\npublic class BearerTokenProblemDetailsAuthenticationEntryPoint \r\n    implements AuthenticationEntryPoint {\r\n\r\n    HandlerExceptionResolver handlerExceptionResolver;\r\n\r\n    public BearerTokenProblemDetailsAuthenticationEntryPoint(\r\n        HandlerExceptionResolver handlerExceptionResolver\r\n    ) {\r\n        this.handlerExceptionResolver = handlerExceptionResolver;\r\n    }\r\n\r\n    @Override\r\n    public void commence(\r\n        HttpServletRequest request, \r\n        HttpServletResponse response, \r\n        AuthenticationException authException\r\n    ) {\r\n        handlerExceptionResolver.resolveException(\r\n            request,\r\n            response,\r\n            null,\r\n            authException\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nAnd finally we need to configure our `SecurityFilterChain`-bean\r\n\r\n```\r\n@Bean\r\nSecurityFilterChain filterChain(HttpSecurity httpSecurity, NTKeycloakAuthProperties ntKeycloakAuthProperties) throws Exception {\r\n\r\n    return httpSecurity\r\n            .csrf(AbstractHttpConfigurer::disable)\r\n            .authorizeHttpRequests(authorizationManagerRequestMatcherRegistry -&gt; {\r\n                authorizationManagerRequestMatcherRegistry.requestMatchers(&quot;/secured/**&quot;).authenticated()\r\n                authorizationManagerRequestMatcherRegistry.requestMatchers(&quot;/**&quot;).permitAll();\r\n            })\r\n            .oauth2ResourceServer(httpSecurityOAuth2ResourceServerConfigurer -&gt; {\r\n                httpSecurityOAuth2ResourceServerConfigurer.authenticationManagerResolver(\r\n                    new JwtIssuerAuthenticationManagerResolver(ntKeycloakAuthProperties.getIssuers())\r\n                );\r\n                // Add the entry point here\r\n                httpSecurityOAuth2ResourceServerConfigurer.authenticationEntryPoint(                        \r\n                    new BearerTokenProblemDetailsAuthenticationEntryPoint(handlerExceptionResolver)\r\n                );\r\n            })\r\n            .build();\r\n}\r\n```","title":"Spring Security 6 and Spring Problem Details","body":"<blockquote>\n<p>This answer is thanks to @M.Deinum</p>\n</blockquote>\n<p><strong>1. There is no built in ProblemDetails-feature for Spring Security</strong></p>\n<p>Since Spring Security does not leverage exception handling from Spring, there is no ProblemDetails support built in.</p>\n<p><strong>2. How to implement this yourself</strong></p>\n<p>One can easily achieve this behavior by implementing two different classes and wiring them up.</p>\n<p>Firstly we need to create an ExceptionHandler that can handle the <code>AuthenticationException.class</code> from Spring Security</p>\n<pre><code>@RestControllerAdvice\npublic class AuthenticationExceptionEntityExceptionHandler \n    extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(AuthenticationException.class)\n    ProblemDetail handleAuthenticationErrorResponseException() {\n        return ProblemDetail.forStatusAndDetail(\n            HttpStatus.UNAUTHORIZED,\n            &quot;Could not authenticate user&quot;\n        );\n    }\n}\n</code></pre>\n<p>Then we need to implement an <code>AuthenticationEntryPoint.class</code> which will delegate the exception to the <code>HandlerExceptionResolver</code>-implementation</p>\n<pre><code>public class BearerTokenProblemDetailsAuthenticationEntryPoint \n    implements AuthenticationEntryPoint {\n\n    HandlerExceptionResolver handlerExceptionResolver;\n\n    public BearerTokenProblemDetailsAuthenticationEntryPoint(\n        HandlerExceptionResolver handlerExceptionResolver\n    ) {\n        this.handlerExceptionResolver = handlerExceptionResolver;\n    }\n\n    @Override\n    public void commence(\n        HttpServletRequest request, \n        HttpServletResponse response, \n        AuthenticationException authException\n    ) {\n        handlerExceptionResolver.resolveException(\n            request,\n            response,\n            null,\n            authException\n        );\n    }\n}\n</code></pre>\n<p>And finally we need to configure our <code>SecurityFilterChain</code>-bean</p>\n<pre><code>@Bean\nSecurityFilterChain filterChain(HttpSecurity httpSecurity, NTKeycloakAuthProperties ntKeycloakAuthProperties) throws Exception {\n\n    return httpSecurity\n            .csrf(AbstractHttpConfigurer::disable)\n            .authorizeHttpRequests(authorizationManagerRequestMatcherRegistry -&gt; {\n                authorizationManagerRequestMatcherRegistry.requestMatchers(&quot;/secured/**&quot;).authenticated()\n                authorizationManagerRequestMatcherRegistry.requestMatchers(&quot;/**&quot;).permitAll();\n            })\n            .oauth2ResourceServer(httpSecurityOAuth2ResourceServerConfigurer -&gt; {\n                httpSecurityOAuth2ResourceServerConfigurer.authenticationManagerResolver(\n                    new JwtIssuerAuthenticationManagerResolver(ntKeycloakAuthProperties.getIssuers())\n                );\n                // Add the entry point here\n                httpSecurityOAuth2ResourceServerConfigurer.authenticationEntryPoint(                        \n                    new BearerTokenProblemDetailsAuthenticationEntryPoint(handlerExceptionResolver)\n                );\n            })\n            .build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1385060,"reputation":820,"user_id":1317283,"accept_rate":54,"display_name":"Alex Shwarc"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695996518,"creation_date":1695996518,"answer_id":77202608,"question_id":76801365,"body_markdown":"For Spring Security 6 and Spring Boot 3.\r\n\r\n    @Configuration\r\n    @EnableMethodSecurity(securedEnabled = true)\r\n    @EnableWebSecurity(debug = true)\r\n    class SecurityConfig {\r\n    \r\n        @Value(&quot;\\${spring.security.oauth2.resourceserver.jwt.jwkSetUri}&quot;)\r\n        lateinit var jwkSetUri: String\r\n    \r\n        @Autowired\r\n        lateinit var cacheManager: CacheManager\r\n    \r\n        @Autowired\r\n        var authEntryPoint: AuthenticationEntryPoint? = null\r\n    \r\n        @Autowired\r\n        lateinit var accessDeniedHandler: DefaultAccessDeniedHandler\r\n    \r\n        private val AUTH_WHITELIST =\r\n            arrayOf(\r\n                &quot;/docs/**&quot;,\r\n                &quot;/api-docs/**&quot;,\r\n                &quot;/swagger-resources&quot;,\r\n                &quot;swagger-resources&quot;,\r\n                &quot;/swagger-resources/**&quot;,\r\n                &quot;swagger-resources/**&quot;,\r\n                &quot;/swagger-ui.html&quot;,\r\n                &quot;swagger-ui.html&quot;,\r\n                &quot;/swagger-ui/**&quot;,\r\n                &quot;/csa/api/token&quot;, // Actuators\r\n                &quot;/actuator/health/readinessState&quot;,\r\n                &quot;actuator/health/readinessState&quot;,\r\n                &quot;actuator/health/**&quot;,\r\n                &quot;/actuator/health/**&quot;,\r\n            )\r\n    \r\n        @Bean\r\n        fun jwtDecoder(cacheManager: CacheManager): JwtDecoder? {\r\n            return NimbusJwtDecoder.withJwkSetUri(jwkSetUri)\r\n                .cache(cacheManager.getCache(&quot;jwks&quot;))\r\n                .build()\r\n        }\r\n    \r\n        @Bean\r\n        @Order(1)\r\n        fun filterChain(http: HttpSecurity): SecurityFilterChain {\r\n            http\r\n                .csrf { csrf -&gt; csrf.disable() }\r\n                .cors { cors -&gt; cors.disable() }\r\n                .sessionManagement { sm -&gt; sm.sessionCreationPolicy(SessionCreationPolicy.STATELESS) }\r\n                .headers { header -&gt; header.frameOptions { frameOption -&gt; frameOption.disable() } }\r\n                .authorizeHttpRequests { authorize -&gt;\r\n                    authorize.requestMatchers(*AUTH_WHITELIST).permitAll().anyRequest().authenticated()\r\n                }\r\n                .oauth2ResourceServer { oauth2 -&gt;\r\n                    oauth2\r\n                        .jwt { jwt -&gt; jwt.decoder(jwtDecoder(cacheManager)) }\r\n                        .authenticationEntryPoint(authEntryPoint)\r\n                        .accessDeniedHandler(accessDeniedHandler)\r\n                }\r\n                .securityContext { sc -&gt; sc.requireExplicitSave(true) }\r\n                .exceptionHandling { eh -&gt;\r\n                    eh.authenticationEntryPoint(authEntryPoint)\r\n                    eh.accessDeniedHandler(accessDeniedHandler)\r\n                }\r\n    \r\n            return http.build()\r\n        }\r\n    \r\n        @Bean\r\n        fun jwtAuthenticationConverter(): JwtAuthenticationConverter? {\r\n            val grantedAuthoritiesConverter = JwtGrantedAuthoritiesConverter()\r\n            grantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;)\r\n    \r\n            val jwtAuthenticationConverter = JwtAuthenticationConverter()\r\n            jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(grantedAuthoritiesConverter)\r\n    \r\n            return jwtAuthenticationConverter\r\n        }\r\n    }\r\n\r\n\r\n    @Component\r\n    class DelegatedAuthenticationEntryPoint : AuthenticationEntryPoint {\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;handlerExceptionResolver&quot;)\r\n        private lateinit var resolver: HandlerExceptionResolver\r\n    \r\n        @Throws(IOException::class, ServletException::class)\r\n        override fun commence(\r\n            request: HttpServletRequest,\r\n            response: HttpServletResponse,\r\n            authException: AuthenticationException\r\n        ) {\r\n            resolver.resolveException(request, response, null, authException)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    @Component\r\n    class DefaultAuthenticationFailureHandler : AuthenticationFailureHandler {\r\n        @Autowired\r\n        @Qualifier(&quot;handlerExceptionResolver&quot;)\r\n        private lateinit var resolver: HandlerExceptionResolver\r\n    \r\n        @Throws(IOException::class, ServletException::class)\r\n        override fun onAuthenticationFailure(\r\n            request: HttpServletRequest,\r\n            response: HttpServletResponse,\r\n            exception: AuthenticationException\r\n        ) {\r\n            resolver.resolveException(request, response, null, exception)\r\n        }\r\n    }\r\n    \r\n    @Component\r\n    class DefaultAccessDeniedHandler : AccessDeniedHandler {\r\n    \r\n        @Autowired\r\n        @Qualifier(&quot;handlerExceptionResolver&quot;)\r\n        private lateinit var resolver: HandlerExceptionResolver\r\n    \r\n        @Throws(IOException::class, ServletException::class)\r\n        override fun handle(\r\n            request: HttpServletRequest,\r\n            response: HttpServletResponse,\r\n            accessDeniedException: AccessDeniedException\r\n        ) {\r\n            resolver.resolveException(request, response, null, accessDeniedException)\r\n        }\r\n    }\r\n\r\n","title":"Spring Security 6 and Spring Problem Details","body":"<p>For Spring Security 6 and Spring Boot 3.</p>\n<pre><code>@Configuration\n@EnableMethodSecurity(securedEnabled = true)\n@EnableWebSecurity(debug = true)\nclass SecurityConfig {\n\n    @Value(&quot;\\${spring.security.oauth2.resourceserver.jwt.jwkSetUri}&quot;)\n    lateinit var jwkSetUri: String\n\n    @Autowired\n    lateinit var cacheManager: CacheManager\n\n    @Autowired\n    var authEntryPoint: AuthenticationEntryPoint? = null\n\n    @Autowired\n    lateinit var accessDeniedHandler: DefaultAccessDeniedHandler\n\n    private val AUTH_WHITELIST =\n        arrayOf(\n            &quot;/docs/**&quot;,\n            &quot;/api-docs/**&quot;,\n            &quot;/swagger-resources&quot;,\n            &quot;swagger-resources&quot;,\n            &quot;/swagger-resources/**&quot;,\n            &quot;swagger-resources/**&quot;,\n            &quot;/swagger-ui.html&quot;,\n            &quot;swagger-ui.html&quot;,\n            &quot;/swagger-ui/**&quot;,\n            &quot;/csa/api/token&quot;, // Actuators\n            &quot;/actuator/health/readinessState&quot;,\n            &quot;actuator/health/readinessState&quot;,\n            &quot;actuator/health/**&quot;,\n            &quot;/actuator/health/**&quot;,\n        )\n\n    @Bean\n    fun jwtDecoder(cacheManager: CacheManager): JwtDecoder? {\n        return NimbusJwtDecoder.withJwkSetUri(jwkSetUri)\n            .cache(cacheManager.getCache(&quot;jwks&quot;))\n            .build()\n    }\n\n    @Bean\n    @Order(1)\n    fun filterChain(http: HttpSecurity): SecurityFilterChain {\n        http\n            .csrf { csrf -&gt; csrf.disable() }\n            .cors { cors -&gt; cors.disable() }\n            .sessionManagement { sm -&gt; sm.sessionCreationPolicy(SessionCreationPolicy.STATELESS) }\n            .headers { header -&gt; header.frameOptions { frameOption -&gt; frameOption.disable() } }\n            .authorizeHttpRequests { authorize -&gt;\n                authorize.requestMatchers(*AUTH_WHITELIST).permitAll().anyRequest().authenticated()\n            }\n            .oauth2ResourceServer { oauth2 -&gt;\n                oauth2\n                    .jwt { jwt -&gt; jwt.decoder(jwtDecoder(cacheManager)) }\n                    .authenticationEntryPoint(authEntryPoint)\n                    .accessDeniedHandler(accessDeniedHandler)\n            }\n            .securityContext { sc -&gt; sc.requireExplicitSave(true) }\n            .exceptionHandling { eh -&gt;\n                eh.authenticationEntryPoint(authEntryPoint)\n                eh.accessDeniedHandler(accessDeniedHandler)\n            }\n\n        return http.build()\n    }\n\n    @Bean\n    fun jwtAuthenticationConverter(): JwtAuthenticationConverter? {\n        val grantedAuthoritiesConverter = JwtGrantedAuthoritiesConverter()\n        grantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;)\n\n        val jwtAuthenticationConverter = JwtAuthenticationConverter()\n        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(grantedAuthoritiesConverter)\n\n        return jwtAuthenticationConverter\n    }\n}\n\n\n@Component\nclass DelegatedAuthenticationEntryPoint : AuthenticationEntryPoint {\n\n    @Autowired\n    @Qualifier(&quot;handlerExceptionResolver&quot;)\n    private lateinit var resolver: HandlerExceptionResolver\n\n    @Throws(IOException::class, ServletException::class)\n    override fun commence(\n        request: HttpServletRequest,\n        response: HttpServletResponse,\n        authException: AuthenticationException\n    ) {\n        resolver.resolveException(request, response, null, authException)\n    }\n}\n\n\n\n@Component\nclass DefaultAuthenticationFailureHandler : AuthenticationFailureHandler {\n    @Autowired\n    @Qualifier(&quot;handlerExceptionResolver&quot;)\n    private lateinit var resolver: HandlerExceptionResolver\n\n    @Throws(IOException::class, ServletException::class)\n    override fun onAuthenticationFailure(\n        request: HttpServletRequest,\n        response: HttpServletResponse,\n        exception: AuthenticationException\n    ) {\n        resolver.resolveException(request, response, null, exception)\n    }\n}\n\n@Component\nclass DefaultAccessDeniedHandler : AccessDeniedHandler {\n\n    @Autowired\n    @Qualifier(&quot;handlerExceptionResolver&quot;)\n    private lateinit var resolver: HandlerExceptionResolver\n\n    @Throws(IOException::class, ServletException::class)\n    override fun handle(\n        request: HttpServletRequest,\n        response: HttpServletResponse,\n        accessDeniedException: AccessDeniedException\n    ) {\n        resolver.resolveException(request, response, null, accessDeniedException)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3635267,"reputation":156,"user_id":3030527,"accept_rate":57,"display_name":"Stene"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76802931,"answer_count":2,"score":2,"last_activity_date":1695996518,"creation_date":1690787330,"question_id":76801365,"body_markdown":"I have a question regarding the use of the RFC7807 ProblemDetails-type that was introduced in Spring 6 and the use of Spring Security 6 to validate JWT tokens.\r\n\r\n**My hypothesis:**\r\n\r\nWhen an invalid token is supplied to a secured endpoint, the application should return a 401 **and a ProblemDetails body**. However, I cannot seem to find any config options to turn on this ProblemDetails-body.\r\n\r\n\r\n**What is actually happening:**\r\n\r\nWhen an invalid token is supplied to a secured endpoint, the application returns a 401 **without a body**\r\n\r\nHere is an example of my `SecurityFilterChain` bean:\r\n\r\n```\r\n@Bean\r\nSecurityFilterChain filterChain(HttpSecurity httpSecurity, NTKeycloakAuthProperties ntKeycloakAuthProperties) throws Exception {\r\n\r\n        return httpSecurity\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests(authorizationManagerRequestMatcherRegistry -&gt; {\r\n                    authorizationManagerRequestMatcherRegistry.requestMatchers(&quot;/secured/**&quot;).authenticated()\r\n                    authorizationManagerRequestMatcherRegistry.requestMatchers(&quot;/**&quot;).permitAll();\r\n                })\r\n                .oauth2ResourceServer(httpSecurityOAuth2ResourceServerConfigurer -&gt; {\r\n                    httpSecurityOAuth2ResourceServerConfigurer.authenticationManagerResolver(\r\n                            new JwtIssuerAuthenticationManagerResolver(ntKeycloakAuthProperties.getIssuers())\r\n                    );\r\n                })\r\n                // Question: Should there exist something pre-built and easy configurable that can enable RFC7807-type error response bodies?\r\n                .build();\r\n    }\r\n```\r\n\r\nSo in short; Is it possible to enable RFC7807-style error response bodies when using Spring Security 6?","title":"Spring Security 6 and Spring Problem Details","body":"<p>I have a question regarding the use of the RFC7807 ProblemDetails-type that was introduced in Spring 6 and the use of Spring Security 6 to validate JWT tokens.</p>\n<p><strong>My hypothesis:</strong></p>\n<p>When an invalid token is supplied to a secured endpoint, the application should return a 401 <strong>and a ProblemDetails body</strong>. However, I cannot seem to find any config options to turn on this ProblemDetails-body.</p>\n<p><strong>What is actually happening:</strong></p>\n<p>When an invalid token is supplied to a secured endpoint, the application returns a 401 <strong>without a body</strong></p>\n<p>Here is an example of my <code>SecurityFilterChain</code> bean:</p>\n<pre><code>@Bean\nSecurityFilterChain filterChain(HttpSecurity httpSecurity, NTKeycloakAuthProperties ntKeycloakAuthProperties) throws Exception {\n\n        return httpSecurity\n                .csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests(authorizationManagerRequestMatcherRegistry -&gt; {\n                    authorizationManagerRequestMatcherRegistry.requestMatchers(&quot;/secured/**&quot;).authenticated()\n                    authorizationManagerRequestMatcherRegistry.requestMatchers(&quot;/**&quot;).permitAll();\n                })\n                .oauth2ResourceServer(httpSecurityOAuth2ResourceServerConfigurer -&gt; {\n                    httpSecurityOAuth2ResourceServerConfigurer.authenticationManagerResolver(\n                            new JwtIssuerAuthenticationManagerResolver(ntKeycloakAuthProperties.getIssuers())\n                    );\n                })\n                // Question: Should there exist something pre-built and easy configurable that can enable RFC7807-type error response bodies?\n                .build();\n    }\n</code></pre>\n<p>So in short; Is it possible to enable RFC7807-style error response bodies when using Spring Security 6?</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"owner":{"account_id":27899227,"reputation":1,"user_id":21303860,"display_name":"Dimantha Thiranjaya Weerakoon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695996209,"creation_date":1695996209,"question_id":77202576,"body_markdown":"When I run the code and send the **JSON** request, the requested data according to the **JSON** passes to the line, &quot;**patientService.saveUser(user, patient, roleName);**&quot; and I&#39;ve already checked it with debug points but couldn&#39;t identify the problem. Also shows the message , &quot;**Patient registration successful!**&quot; as it is a success according to the **DefaultResponse** when I send the **JSON** request. But when I check the database through the workbench for the updated data, It shows the tables null. What is the problem with below codes and how to resolve it?\r\n\r\n**Controller**\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/patient&quot;)\r\npublic class PatientController {\r\n\r\n    private final PatientService patientService;\r\n\r\n    @Autowired\r\n    public PatientController(PatientService patientService) {\r\n        this.patientService = patientService;\r\n    }\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public DefaultResponse savePatient(@RequestBody UserModel userModel) {\r\n        User user = new User();\r\n        user.setEmail(userModel.getEmail());\r\n        user.setUsername(userModel.getUsername());\r\n        user.setPassword(userModel.getPassword());\r\n        Patient patient = new Patient();\r\n        patient.setFirstName(userModel.getPatientModel().getFirstName());\r\n        patient.setLastName(userModel.getPatientModel().getLastName());\r\n        patient.setGender(userModel.getPatientModel().getGender());\r\n        patient.setAge(userModel.getPatientModel().getAge());\r\n        patient.setMobile(userModel.getPatientModel().getMobile());\r\n        patient.setOrigin(userModel.getPatientModel().getOrigin());\r\n        user.setRole(userModel.getRole());\r\n\r\n        String roleName = userModel.getRole();\r\n\r\n        try {\r\n            patientService.saveUser(user, patient, roleName);\r\n            return new DefaultResponse(200, &quot;success&quot;, &quot;Patient registration successful!&quot;);\r\n        } catch (Exception e) {\r\n            return new DefaultResponse(400, &quot;failed&quot;, &quot;Patient registration unsuccessful!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Service**\r\n\r\n```\r\n@Service\r\npublic class PatientService {\r\n    private final UserRepository userRepository;\r\n    private final PatientRepository patientRepository;\r\n    private final RoleRepository roleRepository;\r\n\r\n    @Autowired\r\n    public PatientService(UserRepository userRepository, PatientRepository patientRepository, RoleRepository roleRepository) {\r\n        this.userRepository = userRepository;\r\n        this.patientRepository = patientRepository;\r\n        this.roleRepository = roleRepository;\r\n    }\r\n\r\n    @Transactional\r\n    public void saveUser(User user, Patient patient, String roleName) {\r\n        Role role = roleRepository.findByName(roleName);\r\n        Set&lt;Role&gt; userRoles = new HashSet&lt;&gt;();\r\n        userRoles.add(role);\r\n        if (role != null) {\r\n            userRepository.save(user);\r\n            patient.setUser(user);\r\n            patientRepository.save(patient);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**User Entity**\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class User {\r\n\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Id\r\n    private Long id;\r\n\r\n    @Column(nullable=false)\r\n    private String email;\r\n    @Column(nullable=false)\r\n    private String username;\r\n    @Column(nullable=false)\r\n    private String password;\r\n    private boolean enabled;\r\n    private String role;\r\n\r\n\r\n    @OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    private Patient patient;\r\n\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade=CascadeType.ALL)\r\n    @JoinTable(\r\n            name=&quot;users_roles&quot;,\r\n            joinColumns={@JoinColumn(name=&quot;user_id&quot;)},\r\n            inverseJoinColumns={@JoinColumn(name=&quot;role_id&quot;)})\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n    public User(String email, String username, String password) {\r\n        this.email = email;\r\n        this.username = username;\r\n        this.password = password;\r\n    }\r\n}\r\n```\r\n\r\n**Patient Entity**\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Patient {\r\n\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Id\r\n    private Long id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String gender;\r\n    private String age;\r\n    private String mobile;\r\n    private String origin;\r\n    \r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\n    public Patient(String firstName, String lastName, String gender, String age, String mobile, String origin) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.gender = gender;\r\n        this.age = age;\r\n        this.mobile = mobile;\r\n        this.origin = origin;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n**User DTO**\r\n\r\n```\r\n@Getter\r\n@Setter\r\npublic class UserModel {\r\n\r\n    private String email;\r\n    private String username;\r\n    private String password;\r\n    private PatientModel patientModel;   \r\n    private String role;\r\n\r\n}\r\n```\r\n\r\n**Patient DTO**\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class PatientModel {\r\n\r\n    private String firstName;\r\n    private String lastName;\r\n    private String gender;\r\n    private String age;\r\n    private String mobile;\r\n    private String origin;\r\n}\r\n```\r\n\r\n**Patient Repository**\r\n\r\n```\r\n@Repository\r\npublic interface PatientRepository extends JpaRepository&lt;Patient, Long&gt; {\r\n}\r\n```\r\n\r\n**User Repository**\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    User findByEmail(String email);\r\n}\r\n```\r\n\r\n**Role Entity**\r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Role {\r\n\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Id\r\n    private Long id;\r\n\r\n    @Column(nullable=false, unique=true)\r\n    private String name;\r\n\r\n}\r\n```\r\n\r\n**Role Repository**\r\n\r\n```\r\n@Repository\r\npublic interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\r\n    Role findByName(String name);\r\n}\r\n```\r\n\r\n**Properties**\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/doc_pat_mgt?createDatabaseIfNotExist=true&amp;autoReconnect=true&amp;useSSL=false\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\n```\r\n\r\n**JSON Request**\r\n\r\n```\r\n{\r\n    &quot;email&quot;: &quot;dweerakoon71@gmail.com&quot;,\r\n    &quot;username&quot;: &quot;dimantha1234&quot;,\r\n    &quot;password&quot;: &quot;123456&quot;,\r\n    \r\n  &quot;patientModel&quot;: {\r\n    &quot;firstName&quot;: &quot;Dima&quot;,\r\n    &quot;lastName&quot; : &quot;Thira&quot;,\r\n    &quot;gender&quot;: &quot;Male&quot;,\r\n    &quot;age&quot;: &quot;27&quot;,\r\n    &quot;mobile&quot;: &quot;0750650408&quot;,\r\n    &quot;origin&quot; : &quot;local&quot;\r\n  },\r\n  &quot;role&quot;: &quot;PATIENT&quot;\r\n}\r\n```\r\n\r\n**After sending the request**\r\n\r\n2023-09-29 19:22:59.171  INFO 19292 --- \\[nio-8085-exec-8\\] o.a.c.c.C.\\[Tomcat\\].\\[localhost\\].\\[/\\]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n\r\n2023-09-29 19:22:59.172  INFO 19292 --- \\[nio-8085-exec-8\\] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n\r\n2023-09-29 19:22:59.172  INFO 19292 --- \\[nio-8085-exec-8\\] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\r\n\r\nHibernate: select role0\\_.id as id1_2\\_, role0\\_.name as name2_2\\_ from role role0\\_ where role0\\_.name=?","title":"Data not saving in MqSQL database which requests through a JSON request - Springboot","body":"<p>When I run the code and send the <strong>JSON</strong> request, the requested data according to the <strong>JSON</strong> passes to the line, &quot;<strong>patientService.saveUser(user, patient, roleName);</strong>&quot; and I've already checked it with debug points but couldn't identify the problem. Also shows the message , &quot;<strong>Patient registration successful!</strong>&quot; as it is a success according to the <strong>DefaultResponse</strong> when I send the <strong>JSON</strong> request. But when I check the database through the workbench for the updated data, It shows the tables null. What is the problem with below codes and how to resolve it?</p>\n<p><strong>Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/patient&quot;)\npublic class PatientController {\n\n    private final PatientService patientService;\n\n    @Autowired\n    public PatientController(PatientService patientService) {\n        this.patientService = patientService;\n    }\n\n    @PostMapping(&quot;/register&quot;)\n    public DefaultResponse savePatient(@RequestBody UserModel userModel) {\n        User user = new User();\n        user.setEmail(userModel.getEmail());\n        user.setUsername(userModel.getUsername());\n        user.setPassword(userModel.getPassword());\n        Patient patient = new Patient();\n        patient.setFirstName(userModel.getPatientModel().getFirstName());\n        patient.setLastName(userModel.getPatientModel().getLastName());\n        patient.setGender(userModel.getPatientModel().getGender());\n        patient.setAge(userModel.getPatientModel().getAge());\n        patient.setMobile(userModel.getPatientModel().getMobile());\n        patient.setOrigin(userModel.getPatientModel().getOrigin());\n        user.setRole(userModel.getRole());\n\n        String roleName = userModel.getRole();\n\n        try {\n            patientService.saveUser(user, patient, roleName);\n            return new DefaultResponse(200, &quot;success&quot;, &quot;Patient registration successful!&quot;);\n        } catch (Exception e) {\n            return new DefaultResponse(400, &quot;failed&quot;, &quot;Patient registration unsuccessful!&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>@Service\npublic class PatientService {\n    private final UserRepository userRepository;\n    private final PatientRepository patientRepository;\n    private final RoleRepository roleRepository;\n\n    @Autowired\n    public PatientService(UserRepository userRepository, PatientRepository patientRepository, RoleRepository roleRepository) {\n        this.userRepository = userRepository;\n        this.patientRepository = patientRepository;\n        this.roleRepository = roleRepository;\n    }\n\n    @Transactional\n    public void saveUser(User user, Patient patient, String roleName) {\n        Role role = roleRepository.findByName(roleName);\n        Set&lt;Role&gt; userRoles = new HashSet&lt;&gt;();\n        userRoles.add(role);\n        if (role != null) {\n            userRepository.save(user);\n            patient.setUser(user);\n            patientRepository.save(patient);\n        }\n    }\n}\n</code></pre>\n<p><strong>User Entity</strong></p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User {\n\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    private Long id;\n\n    @Column(nullable=false)\n    private String email;\n    @Column(nullable=false)\n    private String username;\n    @Column(nullable=false)\n    private String password;\n    private boolean enabled;\n    private String role;\n\n\n    @OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    private Patient patient;\n\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade=CascadeType.ALL)\n    @JoinTable(\n            name=&quot;users_roles&quot;,\n            joinColumns={@JoinColumn(name=&quot;user_id&quot;)},\n            inverseJoinColumns={@JoinColumn(name=&quot;role_id&quot;)})\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n    public User(String email, String username, String password) {\n        this.email = email;\n        this.username = username;\n        this.password = password;\n    }\n}\n</code></pre>\n<p><strong>Patient Entity</strong></p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Patient {\n\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    private Long id;\n    private String firstName;\n    private String lastName;\n    private String gender;\n    private String age;\n    private String mobile;\n    private String origin;\n    \n\n    @OneToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\n    public Patient(String firstName, String lastName, String gender, String age, String mobile, String origin) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.gender = gender;\n        this.age = age;\n        this.mobile = mobile;\n        this.origin = origin;\n\n    }\n\n}\n</code></pre>\n<p><strong>User DTO</strong></p>\n<pre><code>@Getter\n@Setter\npublic class UserModel {\n\n    private String email;\n    private String username;\n    private String password;\n    private PatientModel patientModel;   \n    private String role;\n\n}\n</code></pre>\n<p><strong>Patient DTO</strong></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\npublic class PatientModel {\n\n    private String firstName;\n    private String lastName;\n    private String gender;\n    private String age;\n    private String mobile;\n    private String origin;\n}\n</code></pre>\n<p><strong>Patient Repository</strong></p>\n<pre><code>@Repository\npublic interface PatientRepository extends JpaRepository&lt;Patient, Long&gt; {\n}\n</code></pre>\n<p><strong>User Repository</strong></p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    User findByEmail(String email);\n}\n</code></pre>\n<p><strong>Role Entity</strong></p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Role {\n\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    private Long id;\n\n    @Column(nullable=false, unique=true)\n    private String name;\n\n}\n</code></pre>\n<p><strong>Role Repository</strong></p>\n<pre><code>@Repository\npublic interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {\n    Role findByName(String name);\n}\n</code></pre>\n<p><strong>Properties</strong></p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/doc_pat_mgt?createDatabaseIfNotExist=true&amp;autoReconnect=true&amp;useSSL=false\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\n</code></pre>\n<p><strong>JSON Request</strong></p>\n<pre><code>{\n    &quot;email&quot;: &quot;dweerakoon71@gmail.com&quot;,\n    &quot;username&quot;: &quot;dimantha1234&quot;,\n    &quot;password&quot;: &quot;123456&quot;,\n    \n  &quot;patientModel&quot;: {\n    &quot;firstName&quot;: &quot;Dima&quot;,\n    &quot;lastName&quot; : &quot;Thira&quot;,\n    &quot;gender&quot;: &quot;Male&quot;,\n    &quot;age&quot;: &quot;27&quot;,\n    &quot;mobile&quot;: &quot;0750650408&quot;,\n    &quot;origin&quot; : &quot;local&quot;\n  },\n  &quot;role&quot;: &quot;PATIENT&quot;\n}\n</code></pre>\n<p><strong>After sending the request</strong></p>\n<p>2023-09-29 19:22:59.171  INFO 19292 --- [nio-8085-exec-8] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'</p>\n<p>2023-09-29 19:22:59.172  INFO 19292 --- [nio-8085-exec-8] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'</p>\n<p>2023-09-29 19:22:59.172  INFO 19292 --- [nio-8085-exec-8] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms</p>\n<p>Hibernate: select role0_.id as id1_2_, role0_.name as name2_2_ from role role0_ where role0_.name=?</p>\n"},{"tags":["java","spring","maven","spring-mvc","jdbc"],"comments":[{"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"score":1,"creation_date":1428947149,"post_id":29611598,"comment_id":47368876,"body_markdown":"Do you see that jar in your lib directory of your deployment?","body":"Do you see that jar in your lib directory of your deployment?"},{"owner":{"account_id":1423961,"reputation":5726,"user_id":1347968,"accept_rate":50,"display_name":"siegi"},"score":0,"creation_date":1428947786,"post_id":29611598,"comment_id":47369250,"body_markdown":"How do you run your application? From an IDE‚Ä¶?","body":"How do you run your application? From an IDE‚Ä¶?"},{"owner":{"account_id":6134888,"reputation":61,"user_id":4784070,"display_name":"Harita Bubly Girl"},"score":0,"creation_date":1428947845,"post_id":29611598,"comment_id":47369288,"body_markdown":"yes , i have that jar in my libraries.","body":"yes , i have that jar in my libraries."},{"owner":{"account_id":6134888,"reputation":61,"user_id":4784070,"display_name":"Harita Bubly Girl"},"score":0,"creation_date":1428947863,"post_id":29611598,"comment_id":47369298,"body_markdown":"yes from eclipse IDE","body":"yes from eclipse IDE"},{"owner":{"account_id":6134888,"reputation":61,"user_id":4784070,"display_name":"Harita Bubly Girl"},"score":0,"creation_date":1428948542,"post_id":29611598,"comment_id":47369715,"body_markdown":"Thank You for giving hint  Chris Thompson I have done it from cmd , now it is working fine .","body":"Thank You for giving hint  Chris Thompson I have done it from cmd , now it is working fine ."},{"owner":{"display_name":"user5268786"},"score":0,"creation_date":1449047500,"post_id":29611598,"comment_id":55832467,"body_markdown":"I am facing same issue, even I loaded jar file like below: Please help, I see in my classpath\n&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\n\t\t\t&lt;version&gt;4.0&lt;/version&gt;\n\t\t\t&lt;systemPath&gt;${basedir}/src/lib/sqljdbc4-4.0.jar&lt;/systemPath&gt;\n\t\t&lt;/dependency&gt;","body":"I am facing same issue, even I loaded jar file like below: Please help, I see in my classpath &lt;dependency&gt; \t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt; \t\t\t&lt;scope&gt;system&lt;/scope&gt; \t\t\t&lt;version&gt;4.0&lt;/version&gt; \t\t\t&lt;systemPath&gt;${basedir}/src/lib/sqljdbc4-4.0.jar&lt;/systemPa&zwnj;&#8203;th&gt; \t\t&lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":6134888,"reputation":61,"user_id":4784070,"display_name":"Harita Bubly Girl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569751641,"creation_date":1428948934,"answer_id":29612254,"question_id":29611598,"body_markdown":"I don&#39;t no the exact reason, why it acts different from cmd and through eclipse  , but i given a try by running the mvn commands from the cmd then after through the eclipse IDE. then it is working fine.","title":"Could not load JDBC driver class [com.microsoft.sqlserver.jdbc.SQLServerDriver] in Maven Project","body":"<p>I don't no the exact reason, why it acts different from cmd and through eclipse  , but i given a try by running the mvn commands from the cmd then after through the eclipse IDE. then it is working fine.</p>\n"},{"tags":[],"owner":{"account_id":15276461,"reputation":147,"user_id":11022054,"display_name":"Thomas Okonkwo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588418122,"creation_date":1588418122,"answer_id":61558461,"question_id":29611598,"body_markdown":"I recently encountered this error. It was resolved when I changed the `spring-boot-starter-parent` version to a more updated version.\r\n\r\nSo whenever you are sure of your dependency yet you get errors, I&#39;d suggest you check the version of the dependency too.","title":"Could not load JDBC driver class [com.microsoft.sqlserver.jdbc.SQLServerDriver] in Maven Project","body":"<p>I recently encountered this error. It was resolved when I changed the <code>spring-boot-starter-parent</code> version to a more updated version.</p>\n\n<p>So whenever you are sure of your dependency yet you get errors, I'd suggest you check the version of the dependency too.</p>\n"}],"owner":{"account_id":6134888,"reputation":61,"user_id":4784070,"display_name":"Harita Bubly Girl"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14268,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1695996175,"creation_date":1428946786,"question_id":29611598,"body_markdown":"I have installed my sqljdbc4.jar by following this link, [mvn install][1] . it is done success fully and sqljdbc4.jar is loaded in my library also  below are my spring bean , dependency and error i got while deploying. can any one help me where i am missing. and what to do ?   \r\n\r\nMy Spring bean is :\r\n\r\n    &lt;bean id=&quot;dataSource&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n     \r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:sqlserver://vinodh-pc:1433&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;sa&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;vinodh&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n\r\nMy dependency is :\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\r\n \t\t&lt;version&gt;${sql.jdbc.version}&lt;/version&gt;\r\n    \t&lt;scope&gt;runtime&lt;/scope&gt;\r\n   \t&lt;/dependency&gt;\r\n\r\n\r\nwhile i am deploying following error is comming:\r\n\r\n\r\n    ERROR [org.springframework.web.context.ContextLoader] (MSC service thread 1-7) Context initialization failed: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;txmanager&#39; defined in class path resource [db-spring-config.xml]: Cannot resolve reference to bean &#39;dataSource&#39; while setting bean property &#39;dataSource&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [db-spring-config.xml]: Error setting property values; nested exception is org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\r\n    PropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property &#39;driverClassName&#39; threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [com.microsoft.sqlserver.jdbc.SQLServerDriver]\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:329) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:107) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1417) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1158) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:628) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) [spring-context-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479) [spring-context-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389) [spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294) [spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112) [spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.apache.catalina.core.StandardContext.contextListenerStart(StandardContext.java:3392) [jbossweb-7.0.13.Final.jar:]\r\n    \tat org.apache.catalina.core.StandardContext.start(StandardContext.java:3850) [jbossweb-7.0.13.Final.jar:]\r\n    \tat org.jboss.as.web.deployment.WebDeploymentService.start(WebDeploymentService.java:90) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811)\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_45]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_45]\r\n    \tat java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/19537396/missing-artifact-com-microsoft-sqlserversqljdbc4jar4-0/29610717#29610717\r\n  [2]: http://i.stack.imgur.com/NLx2y.png","title":"Could not load JDBC driver class [com.microsoft.sqlserver.jdbc.SQLServerDriver] in Maven Project","body":"<p>I have installed my sqljdbc4.jar by following this link, <a href=\"https://stackoverflow.com/questions/19537396/missing-artifact-com-microsoft-sqlserversqljdbc4jar4-0/29610717#29610717\">mvn install</a> . it is done success fully and sqljdbc4.jar is loaded in my library also  below are my spring bean , dependency and error i got while deploying. can any one help me where i am missing. and what to do ?   </p>\n\n<p>My Spring bean is :</p>\n\n<pre><code>&lt;bean id=\"dataSource\"\n        class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n\n        &lt;property name=\"driverClassName\" value=\"com.microsoft.sqlserver.jdbc.SQLServerDriver\" /&gt;\n        &lt;property name=\"url\" value=\"jdbc:sqlserver://vinodh-pc:1433\" /&gt;\n        &lt;property name=\"username\" value=\"sa\" /&gt;\n        &lt;property name=\"password\" value=\"vinodh\" /&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>My dependency is :</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n    &lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\n    &lt;version&gt;${sql.jdbc.version}&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>while i am deploying following error is comming:</p>\n\n<pre><code>ERROR [org.springframework.web.context.ContextLoader] (MSC service thread 1-7) Context initialization failed: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'txmanager' defined in class path resource [db-spring-config.xml]: Cannot resolve reference to bean 'dataSource' while setting bean property 'dataSource'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [db-spring-config.xml]: Error setting property values; nested exception is org.springframework.beans.PropertyBatchUpdateException; nested PropertyAccessExceptions (1) are:\nPropertyAccessException 1: org.springframework.beans.MethodInvocationException: Property 'driverClassName' threw exception; nested exception is java.lang.IllegalStateException: Could not load JDBC driver class [com.microsoft.sqlserver.jdbc.SQLServerDriver]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:329) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:107) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1417) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1158) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:628) [spring-beans-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) [spring-context-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479) [spring-context-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:389) [spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:294) [spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112) [spring-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n    at org.apache.catalina.core.StandardContext.contextListenerStart(StandardContext.java:3392) [jbossweb-7.0.13.Final.jar:]\n    at org.apache.catalina.core.StandardContext.start(StandardContext.java:3850) [jbossweb-7.0.13.Final.jar:]\n    at org.jboss.as.web.deployment.WebDeploymentService.start(WebDeploymentService.java:90) [jboss-as-web-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_45]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_45]\n    at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]\n</code></pre>\n"},{"tags":["java","spring","tomcat","logging"],"owner":{"account_id":17512303,"reputation":329,"user_id":12700084,"display_name":"omar mahameed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695995627,"creation_date":1695995201,"question_id":77202466,"body_markdown":"I&#39;m upgrading from spring 2.7 to spring 3.0.9 (also using JDK17)\r\n\r\nwhen running the SERVER, I got this ERROR, but the Application still works.\r\n\r\n```\r\nINFO: Illegal access: this web application instance has been stopped already. Could not load [META-INF/services/org.apache.commons.logging.LogFactory]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\njava.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [META-INF/services/org.apache.commons.logging.LogFactory]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1457)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.getResourceAsStream(WebappClassLoaderBase.java:1130)\r\n\tat org.apache.commons.logging.LogFactory$3.run(LogFactory.java:1237)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\tat org.apache.commons.logging.LogFactory.getResourceAsStream(LogFactory.java:1233)\r\n\tat org.apache.commons.logging.LogFactory.getFactory(LogFactory.java:530)\r\n\tat org.apache.commons.logging.LogFactory.getLog(LogFactory.java:655)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;clinit&gt;(TomcatWebServer.java:59)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488)\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\r\n```\r\n\r\n\r\nany ideas ?","title":"Tomcat LogFactory, print an ERROR when upgrading spring version and java version","body":"<p>I'm upgrading from spring 2.7 to spring 3.0.9 (also using JDK17)</p>\n<p>when running the SERVER, I got this ERROR, but the Application still works.</p>\n<pre><code>INFO: Illegal access: this web application instance has been stopped already. Could not load [META-INF/services/org.apache.commons.logging.LogFactory]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\njava.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [META-INF/services/org.apache.commons.logging.LogFactory]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n    at org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1457)\n    at org.apache.catalina.loader.WebappClassLoaderBase.getResourceAsStream(WebappClassLoaderBase.java:1130)\n    at org.apache.commons.logging.LogFactory$3.run(LogFactory.java:1237)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at org.apache.commons.logging.LogFactory.getResourceAsStream(LogFactory.java:1233)\n    at org.apache.commons.logging.LogFactory.getFactory(LogFactory.java:530)\n    at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:655)\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;clinit&gt;(TomcatWebServer.java:59)\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488)\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293)\n</code></pre>\n<p>any ideas ?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9853,"page":152,"page_size":100}
