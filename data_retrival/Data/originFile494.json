{"items":[{"tags":["java","spring","postgresql","hibernate","jpa"],"owner":{"account_id":15069196,"reputation":704,"user_id":10875311,"display_name":"Akash Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681757170,"creation_date":1681757170,"question_id":76038328,"body_markdown":"I have an Entity with `ManyToMany` relation\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;my_table&quot;)\r\npublic class Entity implements Persistable&lt;String&gt; {\r\n\r\n    @Id\r\n    private String name;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name = &quot;join_entity&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;name&quot;,foreignKey = @ForeignKey(name = &quot;link&quot;,foreignKeyDefinition = &quot; FOREIGN KEY (name) REFERENCES roles(name) on delete cascade&quot;)),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;s_name&quot;,foreignKey = @ForeignKey(name = &quot;priLink&quot;,foreignKeyDefinition = &quot; foreign key (s_name) REFERENCES entity_2(s_name) on delete cascade&quot;)))\r\n    private Set&lt;Entity2&gt; s_entity = new HashSet&lt;&gt;();\r\n\r\n// getters and setters\r\n}\r\n```\r\n\r\ni&#39;m using PostgresSQL 15.0, and have enabled `rewritebatchedinserts` property (note batch is enabled)\r\n\r\n```properties\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/myDb?reWriteBatchedInserts=true\r\n\r\n#JPA logs\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\nlogging.level.org.hibernate.stat=DEBUG\r\nspring.jpa.properties.hibernate.generate_statistics=true\r\n```\r\n\r\nWhen I try to `saveAll` for saving a size of 2 `Entity` and each `Entity` containing 2 instance of `Entity2` I end up with 6 insert query (from the logs) and \r\n\r\nwhen I try inserting 1000 rows with and without `rewritebatchedinserts` option, there is hardly any difference in time with former taking 270ms and latter 274ms on average.\r\n\r\nbased on these articles I was expecting lot more\r\n\r\n[baeldung][1]&lt;br/&gt;\r\n[vladmihalcea][2]&lt;br/&gt;\r\n[dzone][3]&lt;br/&gt;\r\nhttps://stackoverflow.com/questions/50772230/how-to-do-bulk-multi-row-inserts-with-jparepository\r\n\r\nwhy is it behaving this way and how can I make it work(if it&#39;s not working)?\r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-jdbc-batch-inserts\r\n  [2]: https://vladmihalcea.com/postgresql-multi-row-insert-rewritebatchedinserts-property/\r\n  [3]: https://dzone.com/articles/spring-boot-boost-jpa-bulk-insert-performance-by-100x","title":"PostgreSql with rewritebatchedinserts Not working as expected","body":"<p>I have an Entity with <code>ManyToMany</code> relation</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;my_table&quot;)\npublic class Entity implements Persistable&lt;String&gt; {\n\n    @Id\n    private String name;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;join_entity&quot;,\n            joinColumns = @JoinColumn(name = &quot;name&quot;,foreignKey = @ForeignKey(name = &quot;link&quot;,foreignKeyDefinition = &quot; FOREIGN KEY (name) REFERENCES roles(name) on delete cascade&quot;)),\n            inverseJoinColumns = @JoinColumn(name = &quot;s_name&quot;,foreignKey = @ForeignKey(name = &quot;priLink&quot;,foreignKeyDefinition = &quot; foreign key (s_name) REFERENCES entity_2(s_name) on delete cascade&quot;)))\n    private Set&lt;Entity2&gt; s_entity = new HashSet&lt;&gt;();\n\n// getters and setters\n}\n</code></pre>\n<p>i'm using PostgresSQL 15.0, and have enabled <code>rewritebatchedinserts</code> property (note batch is enabled)</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/myDb?reWriteBatchedInserts=true\n\n#JPA logs\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\nlogging.level.org.hibernate.stat=DEBUG\nspring.jpa.properties.hibernate.generate_statistics=true\n</code></pre>\n<p>When I try to <code>saveAll</code> for saving a size of 2 <code>Entity</code> and each <code>Entity</code> containing 2 instance of <code>Entity2</code> I end up with 6 insert query (from the logs) and</p>\n<p>when I try inserting 1000 rows with and without <code>rewritebatchedinserts</code> option, there is hardly any difference in time with former taking 270ms and latter 274ms on average.</p>\n<p>based on these articles I was expecting lot more</p>\n<p><a href=\"https://www.baeldung.com/spring-jdbc-batch-inserts\" rel=\"nofollow noreferrer\">baeldung</a><br/>\n<a href=\"https://vladmihalcea.com/postgresql-multi-row-insert-rewritebatchedinserts-property/\" rel=\"nofollow noreferrer\">vladmihalcea</a><br/>\n<a href=\"https://dzone.com/articles/spring-boot-boost-jpa-bulk-insert-performance-by-100x\" rel=\"nofollow noreferrer\">dzone</a><br/>\n<a href=\"https://stackoverflow.com/questions/50772230/how-to-do-bulk-multi-row-inserts-with-jparepository\">How to do bulk (multi row) inserts with JpaRepository?</a></p>\n<p>why is it behaving this way and how can I make it work(if it's not working)?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"owner":{"account_id":1960473,"reputation":917,"user_id":1762235,"accept_rate":71,"display_name":"typik89"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681756851,"creation_date":1681745360,"question_id":76036801,"body_markdown":"I&#39;m going to use a Global Store in my stream processing:\r\n\r\n             addGlobalStore(\r\n                Stores.keyValueStoreBuilder&lt;String, FiscalInfo&gt;(\r\n                    Stores.inMemoryKeyValueStore(storeNames.storeName),\r\n                    Serdes.String(),\r\n                    objectMapper.jsonSerde()\r\n                ).withLoggingDisabled(),\r\n                storeNames.sourceName,\r\n                StringDeserializer(),\r\n                objectMapper.jsonDeserializer&lt;FiscalInfo&gt;(),\r\n                topicSource,\r\n                storeNames.processorName,\r\n                ProcessorSupplier{ MyProcessor() } )\r\n\r\nI implemented MyProcessor to update the store.\r\nBut I noticed that the processor isn&#39;t used during restoring the store at the start time.\r\nI found that code in implementation InMemoryKevValueStore:\r\n\r\n        @Override\r\n        public void init(final ProcessorContext context,\r\n                         final StateStore root) {\r\n            if (root != null) {\r\n                // register the store\r\n                context.register(root, (key, value) -&gt; put(Bytes.wrap(key), value));\r\n            }\r\n    \r\n            open = true;\r\n        }\r\nThis code demonstrates that to restore state uses lambda: `(key, value) -&gt; put(Bytes.wrap(key), value)`. And there is almost the same logic in other implementations of Store.\r\nWhy is implemented in such way?\r\nI expected to have option to use connected to the store updater processor for restoring.","title":"Why Global Store in Kafka Streams don&#39;t use updater processor to restore at the start time?","body":"<p>I'm going to use a Global Store in my stream processing:</p>\n<pre><code>         addGlobalStore(\n            Stores.keyValueStoreBuilder&lt;String, FiscalInfo&gt;(\n                Stores.inMemoryKeyValueStore(storeNames.storeName),\n                Serdes.String(),\n                objectMapper.jsonSerde()\n            ).withLoggingDisabled(),\n            storeNames.sourceName,\n            StringDeserializer(),\n            objectMapper.jsonDeserializer&lt;FiscalInfo&gt;(),\n            topicSource,\n            storeNames.processorName,\n            ProcessorSupplier{ MyProcessor() } )\n</code></pre>\n<p>I implemented MyProcessor to update the store.\nBut I noticed that the processor isn't used during restoring the store at the start time.\nI found that code in implementation InMemoryKevValueStore:</p>\n<pre><code>    @Override\n    public void init(final ProcessorContext context,\n                     final StateStore root) {\n        if (root != null) {\n            // register the store\n            context.register(root, (key, value) -&gt; put(Bytes.wrap(key), value));\n        }\n\n        open = true;\n    }\n</code></pre>\n<p>This code demonstrates that to restore state uses lambda: <code>(key, value) -&gt; put(Bytes.wrap(key), value)</code>. And there is almost the same logic in other implementations of Store.\nWhy is implemented in such way?\nI expected to have option to use connected to the store updater processor for restoring.</p>\n"},{"tags":["java","jms","ibm-mq","spring-jms"],"comments":[{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1681425947,"post_id":76007926,"comment_id":134058781,"body_markdown":"Are you asking how to question the queue manager to see who is using a particular queue? If yes, you can send a PCF Inquire Queue Status command to the queue manager and it will answer to show whether a particular queue is in use at that time. If you want to see the sort of answer you get, it is equivalent to the MQSC command `DISPLAY QSTATUS TYPE(HANDLE) ALL`, which you could try first to see if it is what you need. Let me know if I have interpreted your request correctly and I can write a fuller answer.","body":"Are you asking how to question the queue manager to see who is using a particular queue? If yes, you can send a PCF Inquire Queue Status command to the queue manager and it will answer to show whether a particular queue is in use at that time. If you want to see the sort of answer you get, it is equivalent to the MQSC command <code>DISPLAY QSTATUS TYPE(HANDLE) ALL</code>, which you could try first to see if it is what you need. Let me know if I have interpreted your request correctly and I can write a fuller answer."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1681532296,"post_id":76007926,"comment_id":134075456,"body_markdown":"You could include a timestamp in your lock field and have the listener update it periodically, when your new listeners are looking for a queue with no listener they can include logic to test if the timestamp is older than the expected update frequency.","body":"You could include a timestamp in your lock field and have the listener update it periodically, when your new listeners are looking for a queue with no listener they can include logic to test if the timestamp is older than the expected update frequency."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1681532498,"post_id":76007926,"comment_id":134075466,"body_markdown":"If you only expect a single listener on each queue you could configure the queue as exclusive, only the first process to open it will be successful so the newer processes could cycle through the list until they find a queue they can open.","body":"If you only expect a single listener on each queue you could configure the queue as exclusive, only the first process to open it will be successful so the newer processes could cycle through the list until they find a queue they can open."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1681532518,"post_id":76007926,"comment_id":134075467,"body_markdown":"Is there a reason you cannot increase the thread limit?","body":"Is there a reason you cannot increase the thread limit?"},{"owner":{"account_id":28296777,"reputation":13,"user_id":21636113,"display_name":"Ray"},"score":0,"creation_date":1681829265,"post_id":76007926,"comment_id":134117899,"body_markdown":"@JoshMc - Thanks for the polling tip. We are working on an on prem infra, which has limited resource quota, but we can spin up more instances of the application. That&#39;s why I was looking in to this. Can you move the polling suggestion to an answer? I will accept that.","body":"@JoshMc - Thanks for the polling tip. We are working on an on prem infra, which has limited resource quota, but we can spin up more instances of the application. That&#39;s why I was looking in to this. Can you move the polling suggestion to an answer? I will accept that."}],"answers":[{"tags":[],"owner":{"account_id":1228608,"reputation":1107,"user_id":1193657,"display_name":"Talijanac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681756168,"creation_date":1681755528,"answer_id":76038125,"question_id":76007926,"body_markdown":"Yes, it is possible to know if object (a queue) in MQ is allready opened, and if listener is attach to it.\r\n\r\nHowever given that you work with Spring, and your stated goal is to dynamically attach listener to q, you should work on that. And leave IBM MQ alone.\r\n\r\nInstead using SimpleJmsListenerEndpoint you should look at JmsMessageListenerContainer which is underlying abstraction. In this example I am using DefaultMessageListenerContainer subclass to attach MessageListener to each q. Each DMLC Container is endless loop using configurable number of threads to poll a message. \r\n\r\nIn this example class, we will use a Spring bean which will spun as much DMLC containers as needed. Majority of configuration options should be injected in class as normal Spring IOC. I am using one thread per container - set by concurrency parameter. Maximum number of working containers is limited only by configuration/implementation of taskExector.\r\n\r\n    /** \r\n     * Simple service to attach DefaultMessageListenerContainer to a destination at runtime.\r\n     * Init this class as Spring Bean and use &#39;listen&#39; method.\r\n     */\r\n    class DynamicListeningWithSpring implements DisposableBean {\r\n    \r\n      @Setter ConnectionFactory connectionFactory;\r\n      @Setter Executor taskExecutor\r\n      @Setter PlatformTransactionManager transactionManager;\r\n      @Setter String concurrency = &quot;1&quot;;\r\n\r\n      final ArrayList&lt;DefaultMessageListenerContainer&gt; cointainers = new ArrayList&lt;&gt;();\r\n\r\n      /** attach listener to destination and start receiving messages */\r\n      void listen(String destination, MessageListener listener) {\r\n        DefaultMessageListenerContainer dmlc = new DefaultMessageListenerContainer();\t\r\n\t    dmlc.setConnectionFactory(connectionFactory);\r\n\t    dmlc.setSessionTransacted(true);\r\n        dmlc.setTransactionManager(transactionManager);\r\n        dmlc.setTaskExecutor(taskExecutor);\r\n        dmlc.setConcurrency(concurrency);        \r\n\t\r\n\t    dmlc.setDestination(destination);\r\n\t    dmlc.setMessageListener(listener);\r\n\t\r\n\t    // init and start receiving\r\n\t    containers.add(dmlc);\r\n\t    dmlc.afterPropertiesSet(); \r\n\t    dmlc.start();              \r\n      }\r\n\r\n      void destroy() {\r\n        for(DefaultMessageListenerContainer dmlc: cointainers) {\r\n          dmlc.stop();\t\t\r\n          dmlc.destroy();\r\n\t    }\r\n      }\r\n    }\r\n\r\n\r\n\r\n    // inject instance of DynamicListeningWithSpring  in your code\r\n    class UsageExample {\r\n       @Setter DynamicListeningWithSpring dlws;\r\n\r\n       void use() {\r\n         String destination = &quot;X&quot;\r\n         dlws.listen(destination, (Message msg) -&gt; {..});\r\n       }\r\n    }\r\n    \r\n\r\n\r\nIt is possible to achieve same behavior using JMS directly by using feature called &quot;Asynchronously listener&quot;. That will end up even little bit more performant, as it is more efficient code path than Spring solution, which is doing message polling.\r\n\r\n\r\n\r\n","title":"Is there any way to know if an IBM MQ already has any JMS Listeners attached to it?","body":"<p>Yes, it is possible to know if object (a queue) in MQ is allready opened, and if listener is attach to it.</p>\n<p>However given that you work with Spring, and your stated goal is to dynamically attach listener to q, you should work on that. And leave IBM MQ alone.</p>\n<p>Instead using SimpleJmsListenerEndpoint you should look at JmsMessageListenerContainer which is underlying abstraction. In this example I am using DefaultMessageListenerContainer subclass to attach MessageListener to each q. Each DMLC Container is endless loop using configurable number of threads to poll a message.</p>\n<p>In this example class, we will use a Spring bean which will spun as much DMLC containers as needed. Majority of configuration options should be injected in class as normal Spring IOC. I am using one thread per container - set by concurrency parameter. Maximum number of working containers is limited only by configuration/implementation of taskExector.</p>\n<pre><code>/** \n * Simple service to attach DefaultMessageListenerContainer to a destination at runtime.\n * Init this class as Spring Bean and use 'listen' method.\n */\nclass DynamicListeningWithSpring implements DisposableBean {\n\n  @Setter ConnectionFactory connectionFactory;\n  @Setter Executor taskExecutor\n  @Setter PlatformTransactionManager transactionManager;\n  @Setter String concurrency = &quot;1&quot;;\n\n  final ArrayList&lt;DefaultMessageListenerContainer&gt; cointainers = new ArrayList&lt;&gt;();\n\n  /** attach listener to destination and start receiving messages */\n  void listen(String destination, MessageListener listener) {\n    DefaultMessageListenerContainer dmlc = new DefaultMessageListenerContainer();   \n    dmlc.setConnectionFactory(connectionFactory);\n    dmlc.setSessionTransacted(true);\n    dmlc.setTransactionManager(transactionManager);\n    dmlc.setTaskExecutor(taskExecutor);\n    dmlc.setConcurrency(concurrency);        \n\n    dmlc.setDestination(destination);\n    dmlc.setMessageListener(listener);\n\n    // init and start receiving\n    containers.add(dmlc);\n    dmlc.afterPropertiesSet(); \n    dmlc.start();              \n  }\n\n  void destroy() {\n    for(DefaultMessageListenerContainer dmlc: cointainers) {\n      dmlc.stop();      \n      dmlc.destroy();\n    }\n  }\n}\n\n\n\n// inject instance of DynamicListeningWithSpring  in your code\nclass UsageExample {\n   @Setter DynamicListeningWithSpring dlws;\n\n   void use() {\n     String destination = &quot;X&quot;\n     dlws.listen(destination, (Message msg) -&gt; {..});\n   }\n}\n</code></pre>\n<p>It is possible to achieve same behavior using JMS directly by using feature called &quot;Asynchronously listener&quot;. That will end up even little bit more performant, as it is more efficient code path than Spring solution, which is doing message polling.</p>\n"}],"owner":{"account_id":28296777,"reputation":13,"user_id":21636113,"display_name":"Ray"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681756168,"creation_date":1681404269,"question_id":76007926,"body_markdown":"I am working on an application which gets a list of queue details from a DB and spins up Spring `SimpleJmsListenerEndpoint` objects for them. \r\n\r\n```java\r\nfor (final String queueName : queueList) {\r\n\tSimpleJmsListenerEndpoint endpoint = new SimpleJmsListenerEndpoint();\r\n\tendpoint.setId( &quot;demo-&quot; + i++ );\r\n\tendpoint.setDestination( queueName );\r\n\tendpoint.setConcurrency( jmsMessageConcurrency );\r\n\r\n\tendpoint.setMessageListener( message -&gt; {\r\n\t\tqueueController.recv( queueName, message );\r\n\t} );\r\n\tregistrar.registerEndpoint( endpoint );\r\n}\r\n```\r\n\r\nI am facing a problem where my container has only 5 threads active and the `queueList` has say 10 queues. Now only my 5 queues are getting listeners while the other 5 are sitting without listeners. Any ideas to resolve this?\r\n\r\nI was thinking of spinning additional instance of the same code to address this, then the question is how do I know if a queue already has a listener. Is there any way to know that?\r\n\r\nAny help is appreciated.\r\n\r\nI tried to introduce a manual mechanism based on DB. I introduced a field in table that gets marked(lock) when ever a queue has listener attached, and the service will pick up queues that doesn&#39;t have a lock on them. The problem with that was the lock has to be released when the application stops, which is not always successful.","title":"Is there any way to know if an IBM MQ already has any JMS Listeners attached to it?","body":"<p>I am working on an application which gets a list of queue details from a DB and spins up Spring <code>SimpleJmsListenerEndpoint</code> objects for them.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (final String queueName : queueList) {\n    SimpleJmsListenerEndpoint endpoint = new SimpleJmsListenerEndpoint();\n    endpoint.setId( &quot;demo-&quot; + i++ );\n    endpoint.setDestination( queueName );\n    endpoint.setConcurrency( jmsMessageConcurrency );\n\n    endpoint.setMessageListener( message -&gt; {\n        queueController.recv( queueName, message );\n    } );\n    registrar.registerEndpoint( endpoint );\n}\n</code></pre>\n<p>I am facing a problem where my container has only 5 threads active and the <code>queueList</code> has say 10 queues. Now only my 5 queues are getting listeners while the other 5 are sitting without listeners. Any ideas to resolve this?</p>\n<p>I was thinking of spinning additional instance of the same code to address this, then the question is how do I know if a queue already has a listener. Is there any way to know that?</p>\n<p>Any help is appreciated.</p>\n<p>I tried to introduce a manual mechanism based on DB. I introduced a field in table that gets marked(lock) when ever a queue has listener attached, and the service will pick up queues that doesn't have a lock on them. The problem with that was the lock has to be released when the application stops, which is not always successful.</p>\n"},{"tags":["java","jvm","bytecode","java-bytecode-asm","jasmin"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1681665612,"post_id":76029251,"comment_id":134089617,"body_markdown":"it is `iload_1` with underscore","body":"it is <code>iload_1</code> with underscore"},{"owner":{"account_id":19890695,"reputation":1,"user_id":14572831,"display_name":"Jo&#227;o Reis"},"score":0,"creation_date":1681666132,"post_id":76029251,"comment_id":134089702,"body_markdown":"but if it was 4 we would have to use without the &#39;_&#39;. For example iload 10","body":"but if it was 4 we would have to use without the &#39;_&#39;. For example iload 10"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":1,"creation_date":1681666200,"post_id":76029251,"comment_id":134089718,"body_markdown":"yes, 0-3 are shortcut commands, number is part of the name, not index argument","body":"yes, 0-3 are shortcut commands, number is part of the name, not index argument"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1681736796,"post_id":76029251,"comment_id":134100106,"body_markdown":"Of course, when you tried “iloud”, it didn’t work as the instruction is named “iload”. Any other issue with the syntax might be related to Jasmin, as there is no standard assembly syntax for Java. [The specification](https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-6.html) provides names for the instructions, but without the intend to define a binding assembly language definition. So tools like Jasmin are likely to use the same names for the instructions as other tools, but use of space characters or separators may differ.","body":"Of course, when you tried “iloud”, it didn’t work as the instruction is named “iload”. Any other issue with the syntax might be related to Jasmin, as there is no standard assembly syntax for Java. <a href=\"https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-6.html\" rel=\"nofollow noreferrer\">The specification</a> provides names for the instructions, but without the intend to define a binding assembly language definition. So tools like Jasmin are likely to use the same names for the instructions as other tools, but use of space characters or separators may differ."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681680942,"creation_date":1681680942,"answer_id":76030448,"question_id":76029251,"body_markdown":"The Java byte code contains a generic `iload` instruction that takes a value from 0 to 255 as argument (and therefore the encoding is 2 bytes).\r\n\r\nFor compacter byte code it contains 4 special instructions `iload_0` to `iload_3` that have a fixed argument (0 to 3) and are encoded in only one byte.\r\n\r\nSimilar patterns exist for several other byte code instructions.\r\n\r\nThe `iload` instructions are described in the JVM specification (https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.iload). On that page you will also find descriptions for all the other byte code instructions.","title":"Difference between iload with &#39;_&#39; and without","body":"<p>The Java byte code contains a generic <code>iload</code> instruction that takes a value from 0 to 255 as argument (and therefore the encoding is 2 bytes).</p>\n<p>For compacter byte code it contains 4 special instructions <code>iload_0</code> to <code>iload_3</code> that have a fixed argument (0 to 3) and are encoded in only one byte.</p>\n<p>Similar patterns exist for several other byte code instructions.</p>\n<p>The <code>iload</code> instructions are described in the JVM specification (<a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.iload\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.iload</a>). On that page you will also find descriptions for all the other byte code instructions.</p>\n"}],"owner":{"account_id":19890695,"reputation":1,"user_id":14572831,"display_name":"Jo&#227;o Reis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681755610,"creation_date":1681665349,"question_id":76029251,"body_markdown":"I hava a question about the iload instruction of jasmin.\r\nIs it correct to do iload 1 or it has to be iload_1? \r\nOr when is a number between 1 and 3 we have to use the &#39;_&#39; and the others we have to not use the &#39;_&#39;?\r\n\r\nI m generating jasmin code.\r\nFirst i tried every iload intruction with &#39;_&#39;, but it didn&#39;t work. Then I tried every instruction without &#39;_&#39;, and it also didn&#39;t work. ","title":"Difference between iload with &#39;_&#39; and without","body":"<p>I hava a question about the iload instruction of jasmin.\nIs it correct to do iload 1 or it has to be iload_1?\nOr when is a number between 1 and 3 we have to use the '<em>' and the others we have to not use the '</em>'?</p>\n<p>I m generating jasmin code.\nFirst i tried every iload intruction with '<em>', but it didn't work. Then I tried every instruction without '</em>', and it also didn't work.</p>\n"},{"tags":["java","functional-programming"],"comments":[{"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"score":0,"creation_date":1681753639,"post_id":76037737,"comment_id":134104629,"body_markdown":"Hi there. What are you trying to achieve calling add? The sum of &#39;a&#39; and &#39;b&#39;?","body":"Hi there. What are you trying to achieve calling add? The sum of &#39;a&#39; and &#39;b&#39;?"},{"owner":{"account_id":25510115,"reputation":1,"user_id":19301940,"display_name":"hello92304238478203984"},"score":0,"creation_date":1681754015,"post_id":76037737,"comment_id":134104716,"body_markdown":"it&#39;s just an example but my goal is to avoid doing `FooBuilder.builder().a(5).b(3).build()` or new FooBuilder(..)","body":"it&#39;s just an example but my goal is to avoid doing <code>FooBuilder.builder().a(5).b(3).build()</code> or new FooBuilder(..)"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1681754577,"post_id":76037737,"comment_id":134104827,"body_markdown":"If you want to use a function -- e.g. a `Consumer` -- that operates on `FooBuilder`s, then you have to have a `FooBuilder` instance for it to operate *on*.","body":"If you want to use a function -- e.g. a <code>Consumer</code> -- that operates on <code>FooBuilder</code>s, then you have to have a <code>FooBuilder</code> instance for it to operate <i>on</i>."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681754848,"creation_date":1681754169,"answer_id":76037976,"question_id":76037737,"body_markdown":"&gt; I&#39;m using Lombok currently\r\n\r\nYou don&#39;t say what part of Lombok you are using, but from context, I&#39;m guessing you mean its `@Getter` and `@Setter` annotations for automatically generating attribute getter and setter methods.\r\n\r\nIn that case, however, this ...\r\n\r\n&gt; [I] was wondering if is it possible to do something like the below using Java 8?\r\n\r\n... is a non-sequitur.  It either relies on attribute accessors to have been created (whether via annotation processing or ordinary coding or some other mechanism), or it relies on direct access to the fields.  Either way, it does not itself provide accessors to class `FooBuilder`&#39;s fields.\r\n\r\n&gt; I tried using a Consumer, but can&#39;t get the values.\r\n\r\nA `Consumer` is a function that accepts one argument and returns nothing.  Given some means of write access, a `Consumer` could assign values to an object&#39;s fields, which you could then read back from that object.  For example, if your classes `FooBuilder` and `Bar` are in the same package, then the default-access of `FooBuilder`&#39;s fields would allow `Bar` instances to access them directly.  In that case, you might use a lambda this way:\r\n```\r\nclass Bar {\r\n    public void doSomething () {\r\n        var result = add(p -&gt; {\r\n            p.a = Optional.of(5);\r\n            p.b = Optional.of(3);\r\n        });\r\n    }\r\n\r\n    public int add(Consumer&lt;FooBuilder&gt; setValues) {\r\n        // Create a suitable argument for the function\r\n        FooBuilder operandBuilder = new FooBuilder();\r\n\r\n        // Apply the function to it\r\n        setValues.apply(operandBuilder);\r\n\r\n        // Read out the values set by the function\r\n        return operandBuilder.a.get() + operandBuilder.b.get();\r\n    }\r\n}\r\n```\r\nI don&#39;t see much value in doing this job that way, but perhaps there are scenarios where something similar would make more sense.\r\n\r\nAnd any way around, you have to get the `FooBuilder` instance to operate on from somewhere.  Objects don&#39;t materialize out of thin air.","title":"builder pattern with java 8 lambda","body":"<blockquote>\n<p>I'm using Lombok currently</p>\n</blockquote>\n<p>You don't say what part of Lombok you are using, but from context, I'm guessing you mean its <code>@Getter</code> and <code>@Setter</code> annotations for automatically generating attribute getter and setter methods.</p>\n<p>In that case, however, this ...</p>\n<blockquote>\n<p>[I] was wondering if is it possible to do something like the below using Java 8?</p>\n</blockquote>\n<p>... is a non-sequitur.  It either relies on attribute accessors to have been created (whether via annotation processing or ordinary coding or some other mechanism), or it relies on direct access to the fields.  Either way, it does not itself provide accessors to class <code>FooBuilder</code>'s fields.</p>\n<blockquote>\n<p>I tried using a Consumer, but can't get the values.</p>\n</blockquote>\n<p>A <code>Consumer</code> is a function that accepts one argument and returns nothing.  Given some means of write access, a <code>Consumer</code> could assign values to an object's fields, which you could then read back from that object.  For example, if your classes <code>FooBuilder</code> and <code>Bar</code> are in the same package, then the default-access of <code>FooBuilder</code>'s fields would allow <code>Bar</code> instances to access them directly.  In that case, you might use a lambda this way:</p>\n<pre><code>class Bar {\n    public void doSomething () {\n        var result = add(p -&gt; {\n            p.a = Optional.of(5);\n            p.b = Optional.of(3);\n        });\n    }\n\n    public int add(Consumer&lt;FooBuilder&gt; setValues) {\n        // Create a suitable argument for the function\n        FooBuilder operandBuilder = new FooBuilder();\n\n        // Apply the function to it\n        setValues.apply(operandBuilder);\n\n        // Read out the values set by the function\n        return operandBuilder.a.get() + operandBuilder.b.get();\n    }\n}\n</code></pre>\n<p>I don't see much value in doing this job that way, but perhaps there are scenarios where something similar would make more sense.</p>\n<p>And any way around, you have to get the <code>FooBuilder</code> instance to operate on from somewhere.  Objects don't materialize out of thin air.</p>\n"},{"tags":[],"owner":{"account_id":450931,"reputation":1641,"user_id":846535,"accept_rate":33,"display_name":"marcellorvalle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681755334,"creation_date":1681754928,"answer_id":76038053,"question_id":76037737,"body_markdown":"If you are trying to avoid the boilerplate added by Lombok while using Lambdas I think you should implement your own builder method. Something like this (sorry no compiler here to se if it is 100% correct):\r\n\r\n    class Foo {\r\n        Integer a;\r\n        Integer b;\r\n\r\n        //no one else will be able to instantiate a Foo\r\n        private Foo() {}\r\n    \r\n        //getters and setters\r\n    \r\n        public static Foo build(Consumer&lt;Foo&gt; fooBuilder) {\r\n            var foo = new Foo();\r\n            fooBuilder.accept(foo);\r\n            \r\n            return foo;\r\n        }\r\n     \r\n    }\r\n\r\nNow you can use something like:\r\n\r\n    Foo myFoo = Foo.build(f -&gt; { \r\n        f.setA(5); \r\n        f.setB(3); \r\n    });\r\n\r\nYou can also implement fluent setters (idk if Lombok have this feature) if you want to use the one-liner lambda.\r\n\r\nI don&#39;t know if it still can be considered the Builder pattern. \r\n\r\n","title":"builder pattern with java 8 lambda","body":"<p>If you are trying to avoid the boilerplate added by Lombok while using Lambdas I think you should implement your own builder method. Something like this (sorry no compiler here to se if it is 100% correct):</p>\n<pre><code>class Foo {\n    Integer a;\n    Integer b;\n\n    //no one else will be able to instantiate a Foo\n    private Foo() {}\n\n    //getters and setters\n\n    public static Foo build(Consumer&lt;Foo&gt; fooBuilder) {\n        var foo = new Foo();\n        fooBuilder.accept(foo);\n        \n        return foo;\n    }\n \n}\n</code></pre>\n<p>Now you can use something like:</p>\n<pre><code>Foo myFoo = Foo.build(f -&gt; { \n    f.setA(5); \n    f.setB(3); \n});\n</code></pre>\n<p>You can also implement fluent setters (idk if Lombok have this feature) if you want to use the one-liner lambda.</p>\n<p>I don't know if it still can be considered the Builder pattern.</p>\n"}],"owner":{"account_id":25510115,"reputation":1,"user_id":19301940,"display_name":"hello92304238478203984"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681755334,"creation_date":1681752330,"question_id":76037737,"body_markdown":"I&#39;m using Lombok currently, but was wondering if is it possible to do something like the below using Java 8?\r\n```\r\nclass FooBuilder {\r\n    Optional&lt;Integer&gt; a;\r\n    Optional&lt;Integer&gt; b; \r\n}\r\n\r\nClass Bar {\r\n    public void doSomething (){\r\n        var result = add(p -&gt; p.a(5)\r\n                        .b(3));\r\n    }\r\n\r\n    public int add(Consumer&lt;FooBuilder&gt; func){\r\n        // how to extract values from func?\r\n    }\r\n}\r\n```\r\nI tried using a Consumer, but can&#39;t get the values.","title":"builder pattern with java 8 lambda","body":"<p>I'm using Lombok currently, but was wondering if is it possible to do something like the below using Java 8?</p>\n<pre><code>class FooBuilder {\n    Optional&lt;Integer&gt; a;\n    Optional&lt;Integer&gt; b; \n}\n\nClass Bar {\n    public void doSomething (){\n        var result = add(p -&gt; p.a(5)\n                        .b(3));\n    }\n\n    public int add(Consumer&lt;FooBuilder&gt; func){\n        // how to extract values from func?\n    }\n}\n</code></pre>\n<p>I tried using a Consumer, but can't get the values.</p>\n"},{"tags":["java","compression","gzipoutputstream"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1681746533,"post_id":76036715,"comment_id":134102924,"body_markdown":"*BUT when I try to compress the same test string using any online gzip converter its giving me: eJwLSS0uUQguKcrMSwcAGKAEOA==* That&#39;s base64-encoded output. And you can&#39;t make a string out of binary (gzip) data like you&#39;re trying to do","body":"<i>BUT when I try to compress the same test string using any online gzip converter its giving me: eJwLSS0uUQguKcrMSwcAGKAEOA==</i> That&#39;s base64-encoded output. And you can&#39;t make a string out of binary (gzip) data like you&#39;re trying to do"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1681747556,"post_id":76036715,"comment_id":134103185,"body_markdown":"You should use something like `return Base64.getEncoder().encodeToString(byteArrayOutputStream.toByteArray());` You should get H4sIAAAAAAAA/wtJLS5RCC4pysxLBwCkn3eSCwAAAA==","body":"You should use something like <code>return Base64.getEncoder().encodeToString(byteArrayOutputStream.toB&zwnj;&#8203;yteArray());</code> You should get H4sIAAAAAAAA/wtJLS5RCC4pysxLBwCkn3eSCwAAAA=="}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681754832,"creation_date":1681752771,"answer_id":76037794,"question_id":76036715,"body_markdown":"You are confusing both binary with Base-64, and gzip with zlib.\r\n\r\nFirst, compressed data makes use of all possible byte values, so it won&#39;t be printable. You also can&#39;t convert it to a string using `String` without losing information. Many channels can&#39;t handle all possible byte values, so in those cases, the compressed data is then _expanded_ some to encode it to use only printable characters. The most common is [Base64 encoding][1], which is the example you are showing.\r\n\r\nSecond, that particular example, `eJwLSS0uUQguKcrMSwcAGKAEOA==`, is a Base64 encoding of a _zlib_ stream, not a gzip stream. If you need a gzip stream, you generated that using the wrong tool. A Base64 gzip stream is immediately recognizable, as it will start with `H4sI`. For your test string, gzip compressed and Base64 encoded, you should get something like:\r\n```\r\nH4sIAJGKPWQAAwtJLS5RCC4pysxLBwCkn3eSCwAAAA==\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.Encoder.html","title":"Why my compressed output using GZIPOutputStream is not matching when we decompressed the same string using any online compression tools","body":"<p>You are confusing both binary with Base-64, and gzip with zlib.</p>\n<p>First, compressed data makes use of all possible byte values, so it won't be printable. You also can't convert it to a string using <code>String</code> without losing information. Many channels can't handle all possible byte values, so in those cases, the compressed data is then <em>expanded</em> some to encode it to use only printable characters. The most common is <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.Encoder.html\" rel=\"nofollow noreferrer\">Base64 encoding</a>, which is the example you are showing.</p>\n<p>Second, that particular example, <code>eJwLSS0uUQguKcrMSwcAGKAEOA==</code>, is a Base64 encoding of a <em>zlib</em> stream, not a gzip stream. If you need a gzip stream, you generated that using the wrong tool. A Base64 gzip stream is immediately recognizable, as it will start with <code>H4sI</code>. For your test string, gzip compressed and Base64 encoded, you should get something like:</p>\n<pre><code>H4sIAJGKPWQAAwtJLS5RCC4pysxLBwCkn3eSCwAAAA==\n</code></pre>\n"}],"owner":{"account_id":20928969,"reputation":157,"user_id":15375796,"display_name":"V John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76037794,"answer_count":1,"score":1,"last_activity_date":1681754832,"creation_date":1681744772,"question_id":76036715,"body_markdown":"I am using below code to compress my test string into gzip format\r\n\r\n&#39;private static final String TEST_STRING = &quot;Test String&quot;;\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        System.out.println(&quot;Original data: &quot; + TEST_STRING);\r\n        String compressedString = compress(TEST_STRING);\r\n        System.out.println(&quot;Compressed data: &quot; + compressedString);\r\n    }\r\n\r\n\r\n    private static String compress(String str){\r\n        byte[] byteArray = str.getBytes();\r\n        final ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n        try (GZIPOutputStream gzipOutputStream = new GZIPOutputStream(byteArrayOutputStream)) {\r\n            gzipOutputStream.write(byteArray);\r\n\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Exception occurred during compressing&quot; + e);\r\n        }\r\n\r\n         return new String(byteArrayOutputStream.toByteArray());\r\n    }&#39;\r\nOutput I am getting is Compressed data: \u001F      �\u000BI-..)��K\u0007 ��w�\u000B      \r\nBUT when I try to compress the same test string using any online gzip converter its giving me: eJwLSS0uUQguKcrMSwcAGKAEOA==\r\n\r\nI am not sure why this difference is coming?","title":"Why my compressed output using GZIPOutputStream is not matching when we decompressed the same string using any online compression tools","body":"<p>I am using below code to compress my test string into gzip format</p>\n<p>'private static final String TEST_STRING = &quot;Test String&quot;;</p>\n<pre><code>public static void main(String[] args) throws IOException {\n\n    System.out.println(&quot;Original data: &quot; + TEST_STRING);\n    String compressedString = compress(TEST_STRING);\n    System.out.println(&quot;Compressed data: &quot; + compressedString);\n}\n\n\nprivate static String compress(String str){\n    byte[] byteArray = str.getBytes();\n    final ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n    try (GZIPOutputStream gzipOutputStream = new GZIPOutputStream(byteArrayOutputStream)) {\n        gzipOutputStream.write(byteArray);\n\n    } catch (IOException e) {\n        System.out.println(&quot;Exception occurred during compressing&quot; + e);\n    }\n\n     return new String(byteArrayOutputStream.toByteArray());\n}'\n</code></pre>\n<p>Output I am getting is Compressed data:       �\u000BI-..)��K ��w�\u000B<br />\nBUT when I try to compress the same test string using any online gzip converter its giving me: eJwLSS0uUQguKcrMSwcAGKAEOA==</p>\n<p>I am not sure why this difference is coming?</p>\n"},{"tags":["java","android","android-activity","menu","android-relativelayout"],"answers":[{"tags":[],"owner":{"account_id":13261907,"reputation":11,"user_id":9576202,"display_name":"Vishal Sheoran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681754745,"creation_date":1681360020,"answer_id":76001614,"question_id":76001022,"body_markdown":"You have created **dashboard_menu** file and you are inflating **R.menu.menu**. Also If you are showing menu icons in Toolbar, then you need to define a Toolbar in the Activity&#39;s UI to show these menu items else it doesn&#39;t matter what you inflate it won&#39;t be visible on screen.\r\n\r\nSo just define a Toolbar in Activity&#39;s UI. ","title":"How can I fix my menu on Android studio its not visible in my activity","body":"<p>You have created <strong>dashboard_menu</strong> file and you are inflating <strong>R.menu.menu</strong>. Also If you are showing menu icons in Toolbar, then you need to define a Toolbar in the Activity's UI to show these menu items else it doesn't matter what you inflate it won't be visible on screen.</p>\n<p>So just define a Toolbar in Activity's UI.</p>\n"},{"tags":[],"owner":{"account_id":3142161,"reputation":125,"user_id":2657425,"display_name":"Samsad CV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681362451,"creation_date":1681362451,"answer_id":76001803,"question_id":76001022,"body_markdown":"Try the below code Changed menu -&gt; dashboard_menu\r\n\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n       MenuInflater inflater = getMenuInflater();\r\n       inflater.inflate(R.menu. dashboard_menu, menu);\r\n       return true;\r\n    }\r\n\r\nAlso check activity Theme, make sure to set Toolbar using\r\n\r\n     setSupportActionBar(toolbar);","title":"How can I fix my menu on Android studio its not visible in my activity","body":"<p>Try the below code Changed menu -&gt; dashboard_menu</p>\n<pre><code>public boolean onCreateOptionsMenu(Menu menu) {\n   MenuInflater inflater = getMenuInflater();\n   inflater.inflate(R.menu. dashboard_menu, menu);\n   return true;\n}\n</code></pre>\n<p>Also check activity Theme, make sure to set Toolbar using</p>\n<pre><code> setSupportActionBar(toolbar);\n</code></pre>\n"}],"owner":{"account_id":25401634,"reputation":1,"user_id":19211010,"display_name":"faith milly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681754745,"creation_date":1681350344,"question_id":76001022,"body_markdown":"I have created menu on Res, Directory Res, then menu, inside menu I created dashboard_menu. When I run the menu its not visible. Here is the code on Java. \r\nI tried to change my mini sdk from 23 to 21 as I thought it might be the problem however it didn&#39;t change. I want to see the menu on my activity.\r\n````@Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n       inflater.inflate(R.menu.menu, menu);\r\n        return true;````\r\n","title":"How can I fix my menu on Android studio its not visible in my activity","body":"<p>I have created menu on Res, Directory Res, then menu, inside menu I created dashboard_menu. When I run the menu its not visible. Here is the code on Java.\nI tried to change my mini sdk from 23 to 21 as I thought it might be the problem however it didn't change. I want to see the menu on my activity.</p>\n<pre><code>    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n       inflater.inflate(R.menu.menu, menu);\n        return true;````\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1682017712,"post_id":76038016,"comment_id":134153846,"body_markdown":"`UsernamePasswordAuthenticationFilter` is only applied for URL `/login` not for `/api/v1/user/login`.","body":"<code>UsernamePasswordAuthenticationFilter</code> is only applied for URL <code>&#47;login</code> not for <code>&#47;api&#47;v1&#47;user&#47;login</code>."}],"owner":{"account_id":22043891,"reputation":11,"user_id":16309245,"display_name":"lakhr034"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":707,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681754573,"creation_date":1681754573,"question_id":76038016,"body_markdown":"```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    private final UserService userService;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.csrf().disable()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and().authorizeHttpRequests(authorize -&gt; authorize.requestMatchers(&quot;/api/v1/user/login&quot;, &quot;/api/v1/user/register&quot;)\r\n                .permitAll()\r\n                .anyRequest().authenticated());\r\n        http.cors();\r\n\r\n        CustomFilter customFilter = new CustomFilter(authenticationManager(http.getSharedObject(AuthenticationConfiguration.class)));\r\n        customFilter.setSecurityContextRepository(new DelegatingSecurityContextRepository(\r\n                new RequestAttributeSecurityContextRepository(),\r\n                new HttpSessionSecurityContextRepository()\r\n        ));\r\n        http.addFilterAt(customFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userService);\r\n        authProvider.setPasswordEncoder(passwordEncoder);\r\n        return new ProviderManager(authProvider);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class CustomFilter extends UsernamePasswordAuthenticationFilter {\r\n\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\r\n        log.info(&quot;in filter&quot;);\r\n        log.info(&quot;username is {} password is&quot;, request.getParameter(&quot;username&quot;), request.getParameter(&quot;password&quot;));\r\n        return authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(&quot;test&quot;, &quot;test123&quot;));\r\n    }\r\n}\r\n```\r\n\r\nKeep getting access denied on /api/v1/user/login request however for /api/v1/user/register seems to work.\r\n\r\n```\r\n2023-04-16T20:21:09.844+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@78324e97, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73417494, org.springframework.security.web.context.SecurityContextHolderFilter@b75f3f4, org.springframework.security.web.header.HeaderWriterFilter@4e481512, org.springframework.web.filter.CorsFilter@29b0c169, org.springframework.security.web.authentication.logout.LogoutFilter@4c6eaa65, com.example.language.security.CustomFilter@4d1b4fa1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5570dc21, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@583b4af4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@27b7e663, org.springframework.security.web.session.SessionManagementFilter@4b552b13, org.springframework.security.web.access.ExceptionTranslationFilter@1bcf2c64, org.springframework.security.web.access.intercept.AuthorizationFilter@22ea6051]] (1/1)\r\n2023-04-16T20:21:09.844+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/user/login\r\n2023-04-16T20:21:09.844+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)\r\n2023-04-16T20:21:09.844+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)\r\n2023-04-16T20:21:09.844+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CustomFilter (7/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\r\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n2023-04-16T20:21:09.845+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id AB69A2797C628E2B4090EB5B9DAEB1D0\r\n2023-04-16T20:21:09.846+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)\r\n2023-04-16T20:21:09.846+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)\r\n2023-04-16T20:21:09.846+01:00 TRACE 7264 --- [nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@64e3a996]\r\n2023-04-16T20:21:09.846+01:00 TRACE 7264 --- [nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@64e3a996] using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1339/0x0000000801355380@45bc80c6\r\n2023-04-16T20:21:09.846+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/user/login\r\n2023-04-16T20:21:09.848+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]\r\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@78324e97, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73417494, org.springframework.security.web.context.SecurityContextHolderFilter@b75f3f4, org.springframework.security.web.header.HeaderWriterFilter@4e481512, org.springframework.web.filter.CorsFilter@29b0c169, org.springframework.security.web.authentication.logout.LogoutFilter@4c6eaa65, com.example.language.security.CustomFilter@4d1b4fa1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5570dc21, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@583b4af4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@27b7e663, org.springframework.security.web.session.SessionManagementFilter@4b552b13, org.springframework.security.web.access.ExceptionTranslationFilter@1bcf2c64, org.springframework.security.web.access.intercept.AuthorizationFilter@22ea6051]] (1/1)\r\n2023-04-16T20:21:09.849+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /error\r\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)\r\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)\r\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)\r\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern=&#39;/logout&#39;, GET], Ant [pattern=&#39;/logout&#39;, POST], Ant [pattern=&#39;/logout&#39;, PUT], Ant [pattern=&#39;/logout&#39;, DELETE]]\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CustomFilter (7/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)\r\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@4b36ae0e]]\r\n2023-04-16T20:21:09.851+01:00 TRACE 7264 --- [nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@4b36ae0e]] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@59fb0a7f\r\n2023-04-16T20:21:09.851+01:00 TRACE 7264 --- [nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\r\n2023-04-16T20:21:09.851+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\n2023-04-16T20:21:09.851+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\r\n\r\norg.springframework.security.access.AccessDeniedException: Access Denied\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:358) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n2023-04-16T20:21:09.851+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve tried debugging but it doesn&#39;t even seem to hit my custom filter but in the logs it is show that it is. Also attached the logs. I just can&#39;t seem to figure out why it would give an access denied even though i&#39;ve permitted the url for all and seeing as one I&#39;m a bit confused. \r\n","title":"Spring Security access denied on custom security","body":"<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final UserService userService;\n    private final PasswordEncoder passwordEncoder;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.csrf().disable()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and().authorizeHttpRequests(authorize -&gt; authorize.requestMatchers(&quot;/api/v1/user/login&quot;, &quot;/api/v1/user/register&quot;)\n                .permitAll()\n                .anyRequest().authenticated());\n        http.cors();\n\n        CustomFilter customFilter = new CustomFilter(authenticationManager(http.getSharedObject(AuthenticationConfiguration.class)));\n        customFilter.setSecurityContextRepository(new DelegatingSecurityContextRepository(\n                new RequestAttributeSecurityContextRepository(),\n                new HttpSessionSecurityContextRepository()\n        ));\n        http.addFilterAt(customFilter, UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userService);\n        authProvider.setPasswordEncoder(passwordEncoder);\n        return new ProviderManager(authProvider);\n    }\n}\n</code></pre>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\npublic class CustomFilter extends UsernamePasswordAuthenticationFilter {\n\n    private final AuthenticationManager authenticationManager;\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) throws AuthenticationException {\n        log.info(&quot;in filter&quot;);\n        log.info(&quot;username is {} password is&quot;, request.getParameter(&quot;username&quot;), request.getParameter(&quot;password&quot;));\n        return authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(&quot;test&quot;, &quot;test123&quot;));\n    }\n}\n</code></pre>\n<p>Keep getting access denied on /api/v1/user/login request however for /api/v1/user/register seems to work.</p>\n<pre><code>2023-04-16T20:21:09.844+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@78324e97, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73417494, org.springframework.security.web.context.SecurityContextHolderFilter@b75f3f4, org.springframework.security.web.header.HeaderWriterFilter@4e481512, org.springframework.web.filter.CorsFilter@29b0c169, org.springframework.security.web.authentication.logout.LogoutFilter@4c6eaa65, com.example.language.security.CustomFilter@4d1b4fa1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5570dc21, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@583b4af4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@27b7e663, org.springframework.security.web.session.SessionManagementFilter@4b552b13, org.springframework.security.web.access.ExceptionTranslationFilter@1bcf2c64, org.springframework.security.web.access.intercept.AuthorizationFilter@22ea6051]] (1/1)\n2023-04-16T20:21:09.844+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/v1/user/login\n2023-04-16T20:21:09.844+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)\n2023-04-16T20:21:09.844+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)\n2023-04-16T20:21:09.844+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CustomFilter (7/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\n2023-04-16T20:21:09.845+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n2023-04-16T20:21:09.845+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id AB69A2797C628E2B4090EB5B9DAEB1D0\n2023-04-16T20:21:09.846+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)\n2023-04-16T20:21:09.846+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)\n2023-04-16T20:21:09.846+01:00 TRACE 7264 --- [nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@64e3a996]\n2023-04-16T20:21:09.846+01:00 TRACE 7264 --- [nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequest@64e3a996] using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda$1339/0x0000000801355380@45bc80c6\n2023-04-16T20:21:09.846+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/v1/user/login\n2023-04-16T20:21:09.848+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@78324e97, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73417494, org.springframework.security.web.context.SecurityContextHolderFilter@b75f3f4, org.springframework.security.web.header.HeaderWriterFilter@4e481512, org.springframework.web.filter.CorsFilter@29b0c169, org.springframework.security.web.authentication.logout.LogoutFilter@4c6eaa65, com.example.language.security.CustomFilter@4d1b4fa1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5570dc21, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@583b4af4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@27b7e663, org.springframework.security.web.session.SessionManagementFilter@4b552b13, org.springframework.security.web.access.ExceptionTranslationFilter@1bcf2c64, org.springframework.security.web.access.intercept.AuthorizationFilter@22ea6051]] (1/1)\n2023-04-16T20:21:09.849+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /error\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/13)\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/13)\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/13)\n2023-04-16T20:21:09.849+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CorsFilter (5/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (6/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking CustomFilter (7/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (8/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (9/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (10/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SessionManagementFilter (11/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (12/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (13/13)\n2023-04-16T20:21:09.850+01:00 TRACE 7264 --- [nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Authorizing SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@4b36ae0e]]\n2023-04-16T20:21:09.851+01:00 TRACE 7264 --- [nio-8080-exec-5] estMatcherDelegatingAuthorizationManager : Checking authorization on SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@4b36ae0e]] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@59fb0a7f\n2023-04-16T20:21:09.851+01:00 TRACE 7264 --- [nio-8080-exec-5] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]\n2023-04-16T20:21:09.851+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n2023-04-16T20:21:09.851+01:00 TRACE 7264 --- [nio-8080-exec-5] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\n\norg.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:358) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n2023-04-16T20:21:09.851+01:00 DEBUG 7264 --- [nio-8080-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\n</code></pre>\n<p>I've tried debugging but it doesn't even seem to hit my custom filter but in the logs it is show that it is. Also attached the logs. I just can't seem to figure out why it would give an access denied even though i've permitted the url for all and seeing as one I'm a bit confused.</p>\n"},{"tags":["java","html","controller","spring-tool-suite"],"owner":{"account_id":27454567,"reputation":3,"user_id":20946250,"display_name":"Mauricio Vasquez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681754262,"creation_date":1681754262,"question_id":76037984,"body_markdown":"I have a java class named: SeparateRCC.  And now i want to execute it from a button in a web application.\r\n\r\nI created a controller class, and my html page (which holds the css and script parts). But when i run the project, and i click the button it gives me a 404 error: POST http://localhost:8080/separate-rcc-ajax 404\r\n\r\nHere are my codes:\r\n\r\nIndex.html:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;My Page&lt;/title&gt;\r\n  &lt;style&gt;\r\n    //gonna spare you the style\r\n  &lt;/style&gt;\r\n  &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n  &lt;script&gt;\r\n$(document).ready(function() {\r\n  $(&#39;#button1&#39;).click(function() {\r\n    $.ajax({\r\n      type: &#39;POST&#39;,\r\n      url: &#39;/separate-rcc-ajax&#39;,\r\n      success: function(response) {\r\n        console.log(response);\r\n      },\r\n      error: function(xhr, status, error) {\r\n        console.log(xhr.responseText);\r\n      }\r\n    });\r\n    //alert(&quot;Hi&quot;);\r\n  });\r\n\r\n  $(&#39;#button2&#39;).click(function() {\r\n    // Another class would go here after everything works on the first button.\r\n  });\r\n});\r\n&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;div class=&quot;header&quot;&gt;\r\n    &lt;h1&gt;Carga de archivo RCC al AS400&lt;/h1&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=&quot;container&quot;&gt;\r\n    &lt;div class=&quot;buttons&quot;&gt;\r\n      &lt;div class=&quot;button-wrapper&quot;&gt;\r\n        &lt;button id=&quot;button1&quot;&gt;Separar el archivo RCC&lt;/button&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=&quot;button-wrapper&quot;&gt;\r\n        &lt;button id=&quot;button2&quot;&gt;Mandar los contenidos al AS400&lt;/button&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nAnd my controller class:\r\n\r\n```\r\npackage com.rccClass;\r\n\r\nimport java.io.IOException;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\n@Controller\r\npublic class Controlador {\r\n\r\n    @RequestMapping(&quot;/&quot;)\r\n    public String home() {\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/separate-rcc&quot;)\r\n    public String separateRCC() {\r\n        SeparateRCC rcc = new SeparateRCC();\r\n        try {\r\n            rcc.separateRCC(null, null, 0); // Pass null values to use properties file\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return &quot;index&quot;; // Return the name of the index view\r\n    }\r\n\r\n    @PostMapping(&quot;/separate-rcc-ajax&quot;)\r\n    public @ResponseBody String separateRCCAsync() {\r\n        Thread thread = new Thread(() -&gt; {\r\n            SeparateRCC rcc = new SeparateRCC();\r\n                rcc.separateRCCAsync(null, null, 0); // Pass null values to use properties file\r\n        });\r\n        thread.start();\r\n        return &quot;Processing request...&quot;;\r\n    }\r\n}\r\n```\r\n\r\n[A view of th console and the folders](https://i.stack.imgur.com/ECqgT.png)\r\n\r\n\r\nAs you can see i try running a simple alert to see if the script is being read.\r\nThe controller is also (probaly) being read since when i run the application it connects me to the 8080 port, and shows me my index.html\r\nThe class itself works, reading a properties file, that&#39;s why its being send nulls. The problem itself is that is not finding the /separate-rcc. Or the /separate-rcc-ajax which was a recomendation to\r\n\r\n\r\nSomethings to note are that although i create the project as a web project, spring starter, and put the dependencies for sping web. It didn&#39;t let me create an html file from the sts, i had to go to the folder and create it manually, maybe it has something to do with that? The console in the sts never gives me an error","title":"My ajax code doesn&#39;t find my url in my controller (SpringTools Suite)","body":"<p>I have a java class named: SeparateRCC.  And now i want to execute it from a button in a web application.</p>\n<p>I created a controller class, and my html page (which holds the css and script parts). But when i run the project, and i click the button it gives me a 404 error: POST http://localhost:8080/separate-rcc-ajax 404</p>\n<p>Here are my codes:</p>\n<p>Index.html:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;My Page&lt;/title&gt;\n  &lt;style&gt;\n    //gonna spare you the style\n  &lt;/style&gt;\n  &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js&quot;&gt;&lt;/script&gt;\n  &lt;script&gt;\n$(document).ready(function() {\n  $('#button1').click(function() {\n    $.ajax({\n      type: 'POST',\n      url: '/separate-rcc-ajax',\n      success: function(response) {\n        console.log(response);\n      },\n      error: function(xhr, status, error) {\n        console.log(xhr.responseText);\n      }\n    });\n    //alert(&quot;Hi&quot;);\n  });\n\n  $('#button2').click(function() {\n    // Another class would go here after everything works on the first button.\n  });\n});\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div class=&quot;header&quot;&gt;\n    &lt;h1&gt;Carga de archivo RCC al AS400&lt;/h1&gt;\n  &lt;/div&gt;\n  &lt;div class=&quot;container&quot;&gt;\n    &lt;div class=&quot;buttons&quot;&gt;\n      &lt;div class=&quot;button-wrapper&quot;&gt;\n        &lt;button id=&quot;button1&quot;&gt;Separar el archivo RCC&lt;/button&gt;\n      &lt;/div&gt;\n      &lt;div class=&quot;button-wrapper&quot;&gt;\n        &lt;button id=&quot;button2&quot;&gt;Mandar los contenidos al AS400&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>And my controller class:</p>\n<pre><code>package com.rccClass;\n\nimport java.io.IOException;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@Controller\npublic class Controlador {\n\n    @RequestMapping(&quot;/&quot;)\n    public String home() {\n        return &quot;index&quot;;\n    }\n\n    @GetMapping(&quot;/separate-rcc&quot;)\n    public String separateRCC() {\n        SeparateRCC rcc = new SeparateRCC();\n        try {\n            rcc.separateRCC(null, null, 0); // Pass null values to use properties file\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return &quot;index&quot;; // Return the name of the index view\n    }\n\n    @PostMapping(&quot;/separate-rcc-ajax&quot;)\n    public @ResponseBody String separateRCCAsync() {\n        Thread thread = new Thread(() -&gt; {\n            SeparateRCC rcc = new SeparateRCC();\n                rcc.separateRCCAsync(null, null, 0); // Pass null values to use properties file\n        });\n        thread.start();\n        return &quot;Processing request...&quot;;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ECqgT.png\" rel=\"nofollow noreferrer\">A view of th console and the folders</a></p>\n<p>As you can see i try running a simple alert to see if the script is being read.\nThe controller is also (probaly) being read since when i run the application it connects me to the 8080 port, and shows me my index.html\nThe class itself works, reading a properties file, that's why its being send nulls. The problem itself is that is not finding the /separate-rcc. Or the /separate-rcc-ajax which was a recomendation to</p>\n<p>Somethings to note are that although i create the project as a web project, spring starter, and put the dependencies for sping web. It didn't let me create an html file from the sts, i had to go to the folder and create it manually, maybe it has something to do with that? The console in the sts never gives me an error</p>\n"},{"tags":["java","maven","flyway","dropwizard"],"owner":{"account_id":6945508,"reputation":1443,"user_id":5330107,"display_name":"Victor Cui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681753471,"creation_date":1681753471,"question_id":76037891,"body_markdown":"I&#39;m working in a dropwizard application with a config.yml of\r\n```yaml\r\ndatabase:\r\n  driverClass: org.postgresql.Driver\r\n  user: ...\r\n  password: ...\r\n  url: jdbc:postgresql://localhost:5432/postgres\r\n  properties:\r\n    charSet: UTF-8\r\n    hibernate.dialect: org.hibernate.dialect.PostgreSQLDialect\r\n  flyway:\r\n    enabled: true\r\n    locations:\r\n      - &quot;classpath:db/migration&quot;\r\n```\r\nMy dropwizard Application class&#39;s `run()` method looks like\r\n```java\r\n    @Override\r\n    public void run(WebConfiguration webConfiguration, Environment environment) throws Exception {\r\n        DataSource dataSource = webConfiguration.getDatabase().build(environment.metrics(), &quot;database&quot;);\r\n\r\n        Flyway flyway = webConfiguration.getFlywayBundle().getFlywayFactory(webConfiguration).build(dataSource);\r\n        flyway.migrate();\r\n\r\n    }\r\n```\r\nAnd my `WebConfiguration.java` class looks like\r\n```java\r\npublic class WebConfiguration extends Configuration {\r\n    @Valid\r\n    @NotNull\r\n    @JsonProperty\r\n    // configures the application&#39;s database connection.\r\n    public DataSourceFactory database = new DataSourceFactory();\r\n    public DataSourceFactory getDatabase() {  return database;}\r\n\r\n    public void setDatabase(DataSourceFactory database) {\r\n        this.database = database;\r\n    }\r\n\r\n    public FlywayBundle&lt;WebConfiguration&gt; getFlywayBundle() {\r\n        return new FlywayBundle&lt;WebConfiguration&gt;() {\r\n            @Override\r\n            public PooledDataSourceFactory getDataSourceFactory(WebConfiguration webConfiguration) {\r\n               return webConfiguration.getDatabase();\r\n            }\r\n        };\r\n    }\r\n\r\n}\r\n```\r\nI&#39;ve installed the `dropwizard-flyway` module in my `pom.xml`:\r\n```xml\r\n &lt;dependency&gt;\r\n    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n    &lt;version&gt;9.16.3&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n &lt;dependency&gt;\r\n    &lt;groupId&gt;io.dropwizard.modules&lt;/groupId&gt;\r\n    &lt;artifactId&gt;dropwizard-flyway&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0-1&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n```\r\n\r\nWhen I compile the application using `mvn package` and run the jar using the `config.yml` file, I get this error:\r\n```bash\r\n! at io.dropwizard.Application.run(Application.java:94)\r\n! at com.dexcane.server.MyApplication.main(MyApplication.java:27)\r\nio.dropwizard.configuration.ConfigurationParsingException: src/main/resources/config.yml has an error:\r\n  * Unrecognized field at: database.flyway\r\n    Did you mean?:\r\n      - user\r\n      - url\r\n      - maxSize\r\n      - password\r\n      - minSize\r\n        [33 more]\r\n\r\n\tat io.dropwizard.configuration.ConfigurationParsingException$Builder.build(ConfigurationParsingException.java:277)\r\n\tat io.dropwizard.configuration.BaseConfigurationFactory.build(BaseConfigurationFactory.java:161)\r\n\tat io.dropwizard.configuration.BaseConfigurationFactory.build(BaseConfigurationFactory.java:94)\r\n\tat io.dropwizard.cli.ConfiguredCommand.parseConfiguration(ConfiguredCommand.java:139)\r\n\tat io.dropwizard.cli.ConfiguredCommand.run(ConfiguredCommand.java:85)\r\n\tat io.dropwizard.cli.Cli.run(Cli.java:78)\r\n\tat io.dropwizard.Application.run(Application.java:94)\r\n\tat com.dexcane.server.MyApplication.main(MyApplication.java:27)\r\n```\r\nI thought the `dropwizard-flyway` bundle would enable my application to recognize the flyway field in my configuration?\r\n","title":"Unrecognized field at: &quot;database.flyway&quot; in Dropwizard application with flyway bundle","body":"<p>I'm working in a dropwizard application with a config.yml of</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>database:\n  driverClass: org.postgresql.Driver\n  user: ...\n  password: ...\n  url: jdbc:postgresql://localhost:5432/postgres\n  properties:\n    charSet: UTF-8\n    hibernate.dialect: org.hibernate.dialect.PostgreSQLDialect\n  flyway:\n    enabled: true\n    locations:\n      - &quot;classpath:db/migration&quot;\n</code></pre>\n<p>My dropwizard Application class's <code>run()</code> method looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void run(WebConfiguration webConfiguration, Environment environment) throws Exception {\n        DataSource dataSource = webConfiguration.getDatabase().build(environment.metrics(), &quot;database&quot;);\n\n        Flyway flyway = webConfiguration.getFlywayBundle().getFlywayFactory(webConfiguration).build(dataSource);\n        flyway.migrate();\n\n    }\n</code></pre>\n<p>And my <code>WebConfiguration.java</code> class looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WebConfiguration extends Configuration {\n    @Valid\n    @NotNull\n    @JsonProperty\n    // configures the application's database connection.\n    public DataSourceFactory database = new DataSourceFactory();\n    public DataSourceFactory getDatabase() {  return database;}\n\n    public void setDatabase(DataSourceFactory database) {\n        this.database = database;\n    }\n\n    public FlywayBundle&lt;WebConfiguration&gt; getFlywayBundle() {\n        return new FlywayBundle&lt;WebConfiguration&gt;() {\n            @Override\n            public PooledDataSourceFactory getDataSourceFactory(WebConfiguration webConfiguration) {\n               return webConfiguration.getDatabase();\n            }\n        };\n    }\n\n}\n</code></pre>\n<p>I've installed the <code>dropwizard-flyway</code> module in my <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;dependency&gt;\n    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n    &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;version&gt;9.16.3&lt;/version&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n    &lt;groupId&gt;io.dropwizard.modules&lt;/groupId&gt;\n    &lt;artifactId&gt;dropwizard-flyway&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-1&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>When I compile the application using <code>mvn package</code> and run the jar using the <code>config.yml</code> file, I get this error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>! at io.dropwizard.Application.run(Application.java:94)\n! at com.dexcane.server.MyApplication.main(MyApplication.java:27)\nio.dropwizard.configuration.ConfigurationParsingException: src/main/resources/config.yml has an error:\n  * Unrecognized field at: database.flyway\n    Did you mean?:\n      - user\n      - url\n      - maxSize\n      - password\n      - minSize\n        [33 more]\n\n    at io.dropwizard.configuration.ConfigurationParsingException$Builder.build(ConfigurationParsingException.java:277)\n    at io.dropwizard.configuration.BaseConfigurationFactory.build(BaseConfigurationFactory.java:161)\n    at io.dropwizard.configuration.BaseConfigurationFactory.build(BaseConfigurationFactory.java:94)\n    at io.dropwizard.cli.ConfiguredCommand.parseConfiguration(ConfiguredCommand.java:139)\n    at io.dropwizard.cli.ConfiguredCommand.run(ConfiguredCommand.java:85)\n    at io.dropwizard.cli.Cli.run(Cli.java:78)\n    at io.dropwizard.Application.run(Application.java:94)\n    at com.dexcane.server.MyApplication.main(MyApplication.java:27)\n</code></pre>\n<p>I thought the <code>dropwizard-flyway</code> bundle would enable my application to recognize the flyway field in my configuration?</p>\n"},{"tags":["java","amazon-web-services","amazon-athena"],"owner":{"account_id":11025834,"reputation":51,"user_id":8098770,"display_name":"Nihar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4404,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1681753287,"creation_date":1526443469,"question_id":50362301,"body_markdown":"I am trying to do a POC for AWS Athena using Java. I am using the sample code given in &lt;https://docs.aws.amazon.com/athena/latest/ug/code-samples.html&gt;\r\n\r\n\r\n \r\n\r\nI have tried running it from eclipse and also tried creating a jar and running it on the ec2 instance using Athena IAM role.\r\n\r\nAny help would be useful.\r\n\r\nThanks","title":"AWS Athena ClientExecutionTimeoutException","body":"<p>I am trying to do a POC for AWS Athena using Java. I am using the sample code given in <a href=\"https://docs.aws.amazon.com/athena/latest/ug/code-samples.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/athena/latest/ug/code-samples.html</a></p>\n<p>I have tried running it from eclipse and also tried creating a jar and running it on the ec2 instance using Athena IAM role.</p>\n<p>Any help would be useful.</p>\n<p>Thanks</p>\n"},{"tags":["java","math","matrix"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681753224,"creation_date":1681753224,"answer_id":76037864,"question_id":76037468,"body_markdown":"I suggest the following pattern for the secondary diagonal:\r\n\r\n    Starting point = \r\n    \r\n    {i-j, 0} if (i + j) &lt; N-1*\r\n    \r\n    {N-1*, j-i} if (i + j) &gt; N-1*\r\n    \r\n    {N-1*, 0} if (i + j) = N-1*\r\n\r\n*zero indexed so the right most column and bottom row are N-1\r\n\r\nLooping is `i--` and `j++` with condition that i and j both remain in the range 0 to &lt; N","title":"how to find the &#39;main&#39; and &#39;secondary&#39; diagonal positions given a random element","body":"<p>I suggest the following pattern for the secondary diagonal:</p>\n<pre><code>Starting point = \n\n{i-j, 0} if (i + j) &lt; N-1*\n\n{N-1*, j-i} if (i + j) &gt; N-1*\n\n{N-1*, 0} if (i + j) = N-1*\n</code></pre>\n<p>*zero indexed so the right most column and bottom row are N-1</p>\n<p>Looping is <code>i--</code> and <code>j++</code> with condition that i and j both remain in the range 0 to &lt; N</p>\n"}],"owner":{"account_id":26089053,"reputation":53,"user_id":19786208,"display_name":"Arthur Brenno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76037864,"answer_count":1,"score":0,"last_activity_date":1681753224,"creation_date":1681750124,"question_id":76037468,"body_markdown":"Problem:\r\n&gt;Given a matrix M of size NxN (square matrix), how can I find the &#39;main&#39; and the &#39;secondary&#39; diagonal of **any element** in it? \r\n\r\nExample:\r\n```\r\nM = \r\n\r\n| A00 A01 A02 A03 A04 |\r\n\r\n| A10 A11 A12 A13 A14 |\r\n\r\n| A20 A21 A22 A23 A24 |\r\n\r\n| A30 A31 A32 A33 A34 |\r\n\r\n&gt;&gt;PICKED: A21\r\n\r\n&#39;Main&#39; diag: A10, A21, A32\r\n\r\n&#39;Secondary&#39; diag: A03, A12, A21, A31\r\n```\r\n\r\n**Context:**\r\n\r\n\r\n\r\nI&#39;m solving the **Eight Queen&#39;s** problem in Java. First of all, before making the Heuristics, i&#39;ve done this methods:\r\n\r\n `public boolean anyAtTheSameRow(Queen... queens)`\r\n\r\n `public boolean anyAtTheSameCol(Queen... queens)`\r\n\r\n```java\r\npublic boolean anyAtTheSameDiagonal(ChessBoard board, Queen... queens) {\r\n        \r\n        //How it will be done: (MY THOUGHTS)\r\n        //1. Take the first queen. \r\n        //2. Get all of it&#39;s diagonal houses. &quot;\\&quot;(main) diagonal and &quot;/&quot;(secondary) diagonal.\r\n        //3. Check if the next queens current row and current col are inserted in any of these pos.\r\n        //4. If any queen is inserted in the diagonal houses, then at least 1 queen can attack another. Will immediatly return true.\r\n        //5. If, after all iterations, no queen was found at the queen[0] diagonal, then will return false. No attacks are possible.\r\n```\r\n\r\n\r\nAnd an important method, witch will get all of these together:\r\n```Java\r\npublic boolean canAttackAny(ChessBoard board, Queen... queens) {\r\n        return anyAtTheSameRow(queens) || anyAtTheSameCol(queens) || anyAtTheSameDiagonal(board, queens);\r\n}\r\n```\r\n\r\nWhat i&#39;m going to to is a loop, starting at the first row-col of the diagonal (variable starting point), then store the values of the next positions {x,y}, going up to down.\r\n\r\n\r\n**What i&#39;ve tried:**\r\n\r\nFor the main diagonal, i found this pattern for any element by a process of trial and error:\r\n\r\n```\r\nStarting point = \r\n\r\n{0, j-i} if i &lt; j\r\n\r\n{i-j, 0} if i &gt; j\r\n\r\n{0, 0} if i = j\r\n\r\n```\r\n\r\nBut, for the secondary diagonal, i haven&#39;t found any patterns. I need help.\r\n\r\nI hope my thoughts of solving part of the **Eight Queens** problem are also right.","title":"how to find the &#39;main&#39; and &#39;secondary&#39; diagonal positions given a random element","body":"<p>Problem:</p>\n<blockquote>\n<p>Given a matrix M of size NxN (square matrix), how can I find the 'main' and the 'secondary' diagonal of <strong>any element</strong> in it?</p>\n</blockquote>\n<p>Example:</p>\n<pre><code>M = \n\n| A00 A01 A02 A03 A04 |\n\n| A10 A11 A12 A13 A14 |\n\n| A20 A21 A22 A23 A24 |\n\n| A30 A31 A32 A33 A34 |\n\n&gt;&gt;PICKED: A21\n\n'Main' diag: A10, A21, A32\n\n'Secondary' diag: A03, A12, A21, A31\n</code></pre>\n<p><strong>Context:</strong></p>\n<p>I'm solving the <strong>Eight Queen's</strong> problem in Java. First of all, before making the Heuristics, i've done this methods:</p>\n<p><code>public boolean anyAtTheSameRow(Queen... queens)</code></p>\n<p><code>public boolean anyAtTheSameCol(Queen... queens)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean anyAtTheSameDiagonal(ChessBoard board, Queen... queens) {\n        \n        //How it will be done: (MY THOUGHTS)\n        //1. Take the first queen. \n        //2. Get all of it's diagonal houses. &quot;\\&quot;(main) diagonal and &quot;/&quot;(secondary) diagonal.\n        //3. Check if the next queens current row and current col are inserted in any of these pos.\n        //4. If any queen is inserted in the diagonal houses, then at least 1 queen can attack another. Will immediatly return true.\n        //5. If, after all iterations, no queen was found at the queen[0] diagonal, then will return false. No attacks are possible.\n</code></pre>\n<p>And an important method, witch will get all of these together:</p>\n<pre><code>public boolean canAttackAny(ChessBoard board, Queen... queens) {\n        return anyAtTheSameRow(queens) || anyAtTheSameCol(queens) || anyAtTheSameDiagonal(board, queens);\n}\n</code></pre>\n<p>What i'm going to to is a loop, starting at the first row-col of the diagonal (variable starting point), then store the values of the next positions {x,y}, going up to down.</p>\n<p><strong>What i've tried:</strong></p>\n<p>For the main diagonal, i found this pattern for any element by a process of trial and error:</p>\n<pre><code>Starting point = \n\n{0, j-i} if i &lt; j\n\n{i-j, 0} if i &gt; j\n\n{0, 0} if i = j\n\n</code></pre>\n<p>But, for the secondary diagonal, i haven't found any patterns. I need help.</p>\n<p>I hope my thoughts of solving part of the <strong>Eight Queens</strong> problem are also right.</p>\n"},{"tags":["java","ssl","sni","quickfixj"],"comments":[{"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"score":0,"creation_date":1681757537,"post_id":76037844,"comment_id":134105465,"body_markdown":"As per https://github.com/quickfix-j/quickfixj/blob/dce91e62c7525b84448b974b796a1fac436015ae/quickfixj-core/src/main/java/quickfix/mina/ssl/SSLFilter.java#L68 it automatically sends the remote address.","body":"As per <a href=\"https://github.com/quickfix-j/quickfixj/blob/dce91e62c7525b84448b974b796a1fac436015ae/quickfixj-core/src/main/java/quickfix/mina/ssl/SSLFilter.java#L68\" rel=\"nofollow noreferrer\">github.com/quickfix-j/quickfixj/blob/&hellip;</a> it automatically sends the remote address."}],"owner":{"account_id":1581404,"reputation":2589,"user_id":1466719,"accept_rate":63,"display_name":"Ggdw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681753127,"creation_date":1681753127,"question_id":76037844,"body_markdown":"I am running a QFJ initiator engine with core 2.3.1 and connecting to an acceptor using SSL (SocketUseSSL=Y), I want to send an SNI, I saw that there is a flag UseSNI but how can you add the server name?\r\nIf I am using SocketConnectHost to connect to the server, where do I add the internal address in the server (SNI) ","title":"Quick Fix J how to send Server Name Indication (SNI)","body":"<p>I am running a QFJ initiator engine with core 2.3.1 and connecting to an acceptor using SSL (SocketUseSSL=Y), I want to send an SNI, I saw that there is a flag UseSNI but how can you add the server name?\nIf I am using SocketConnectHost to connect to the server, where do I add the internal address in the server (SNI)</p>\n"},{"tags":["java","android","gradle","build.gradle","jwplayer"],"answers":[{"tags":[],"owner":{"account_id":8245965,"reputation":2341,"user_id":6202039,"display_name":"Jay Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521710941,"creation_date":1521710941,"answer_id":49424933,"question_id":49423572,"body_markdown":"**In my case**, I&#39;ve excluded only path &#39;META-INF/LICENSE&#39; on `yourProject/app/build.gradle` inside `android{}` . Here it is\r\n\r\n    packagingOptions {\r\n        exclude &#39;META-INF/LICENSE&#39;\r\n    }\r\n\r\nAfter it Clean Project and Rebuild Project.\r\n\r\n**If above case doesn&#39;t work** for you then You can add this in `yourProject/app/build.gradle` inside `android{}`\r\n\r\n    packagingOptions {\r\n        exclude &#39;META-INF/DEPENDENCIES&#39;\r\n        exclude &#39;META-INF/LICENSE&#39;\r\n        exclude &#39;META-INF/LICENSE.txt&#39;\r\n        exclude &#39;META-INF/license.txt&#39;\r\n        exclude &#39;META-INF/NOTICE&#39;\r\n        exclude &#39;META-INF/NOTICE.txt&#39;\r\n        exclude &#39;META-INF/notice.txt&#39;\r\n        exclude &#39;META-INF/ASL2.0&#39;\r\n    }","title":"Android: Unable to build APK. More than one file was found with OS independent path &#39;META-INF/android.arch.lifecycle_runtime.version&#39;","body":"<p><strong>In my case</strong>, I've excluded only path 'META-INF/LICENSE' on <code>yourProject/app/build.gradle</code> inside <code>android{}</code> . Here it is</p>\n\n<pre><code>packagingOptions {\n    exclude 'META-INF/LICENSE'\n}\n</code></pre>\n\n<p>After it Clean Project and Rebuild Project.</p>\n\n<p><strong>If above case doesn't work</strong> for you then You can add this in <code>yourProject/app/build.gradle</code> inside <code>android{}</code></p>\n\n<pre><code>packagingOptions {\n    exclude 'META-INF/DEPENDENCIES'\n    exclude 'META-INF/LICENSE'\n    exclude 'META-INF/LICENSE.txt'\n    exclude 'META-INF/license.txt'\n    exclude 'META-INF/NOTICE'\n    exclude 'META-INF/NOTICE.txt'\n    exclude 'META-INF/notice.txt'\n    exclude 'META-INF/ASL2.0'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6098078,"reputation":28937,"user_id":4758255,"display_name":"ישו אוהב אותך"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521712172,"creation_date":1521712172,"answer_id":49425378,"question_id":49423572,"body_markdown":"You can try using `pickFirst` something like this:\r\n\r\n    packagingOptions {\r\n       // this is the lazy option.\r\n       //pickFirst  &#39;META-INF/*&#39;\r\n       pickFirst   &#39;META-INF/android.arch.lifecycle_runtime.version&#39;\r\n    }","title":"Android: Unable to build APK. More than one file was found with OS independent path &#39;META-INF/android.arch.lifecycle_runtime.version&#39;","body":"<p>You can try using <code>pickFirst</code> something like this:</p>\n\n<pre><code>packagingOptions {\n   // this is the lazy option.\n   //pickFirst  'META-INF/*'\n   pickFirst   'META-INF/android.arch.lifecycle_runtime.version'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":119754,"reputation":2963,"user_id":311701,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616544670,"creation_date":1616544670,"answer_id":66773021,"question_id":49423572,"body_markdown":"The recommended solution per Detox android setup guide:\r\n\r\nYou need to add this to the android section of your `android/app/build.gradle`:\r\n\r\n    packagingOptions {\r\n        exclude &#39;META-INF/LICENSE&#39;\r\n    }\r\n\r\nreference https://github.com/wix/detox/blob/master/docs/Introduction.Android.md#troubleshooting","title":"Android: Unable to build APK. More than one file was found with OS independent path &#39;META-INF/android.arch.lifecycle_runtime.version&#39;","body":"<p>The recommended solution per Detox android setup guide:</p>\n<p>You need to add this to the android section of your <code>android/app/build.gradle</code>:</p>\n<pre><code>packagingOptions {\n    exclude 'META-INF/LICENSE'\n}\n</code></pre>\n<p>reference <a href=\"https://github.com/wix/detox/blob/master/docs/Introduction.Android.md#troubleshooting\" rel=\"nofollow noreferrer\">https://github.com/wix/detox/blob/master/docs/Introduction.Android.md#troubleshooting</a></p>\n"},{"tags":[],"owner":{"account_id":4099528,"reputation":48,"user_id":3365437,"accept_rate":25,"display_name":"Javier_Caceres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681752862,"creation_date":1681752862,"answer_id":76037808,"question_id":49423572,"body_markdown":"In buil.gradule ( module ) include under {android  ... and before default configuration this line\r\nandroid.packagingOptions.resources.pickFirsts += &quot;**/*.pickFirst&quot;","title":"Android: Unable to build APK. More than one file was found with OS independent path &#39;META-INF/android.arch.lifecycle_runtime.version&#39;","body":"<p>In buil.gradule ( module ) include under {android  ... and before default configuration this line\nandroid.packagingOptions.resources.pickFirsts += &quot;**/*.pickFirst&quot;</p>\n"}],"owner":{"account_id":2667032,"reputation":253,"user_id":2305239,"accept_rate":70,"display_name":"Shikhar Deep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3760,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1681752862,"creation_date":1521706375,"question_id":49423572,"body_markdown":"All of a sudden, I am getting this error while building APK \r\n\r\n    Error:Execution failed for task &#39;:app:transformResourcesWithMergeJavaResForDevDebug&#39;.\r\n    &gt; More than one file was found with OS independent path &#39;META-INF/android.arch.lifecycle_runtime.version&#39;\r\n\r\nI went through a lot of StackOverflow post related to `META-INF` issue such as `exclude &#39;META-INF/***&#39; (LICENSE, NOTICE` etc etc) in `packagingOptions` but it&#39;s not working. I have uninstalled Java 9 also and installed JDK8. Here is the output when I run with `--stacktrace` option\r\n\r\n    Executing tasks: [:app:assembleDevDebug]\r\n    \r\n    Parallel execution with configuration on demand is an incubating feature.\r\n    Configuration &#39;compile&#39; in project &#39;:app&#39; is deprecated. Use &#39;implementation&#39; instead.\r\n    registerResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)\r\n    registerResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)\r\n    registerResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)\r\n    registerResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)\r\n    :app:preBuild UP-TO-DATE\r\n    :app:preDevDebugBuild UP-TO-DATE\r\n    :app:compileDevDebugAidl UP-TO-DATE\r\n    :app:compileDevDebugRenderscript UP-TO-DATE\r\n    :app:checkDevDebugManifest UP-TO-DATE\r\n    :app:generateDevDebugBuildConfig UP-TO-DATE\r\n    :app:greendaoPrepare UP-TO-DATE\r\n    :app:greendao UP-TO-DATE\r\n    :app:prepareLintJar UP-TO-DATE\r\n    :app:generateDevDebugResValues UP-TO-DATE\r\n    :app:generateDevDebugResources UP-TO-DATE\r\n    :app:processDevDebugGoogleServices\r\n    Parsing json file: /Users/shikhardeep/StudioProjects/HOGAndroid_New/app/src/debug/google-services.json\r\n    :app:mergeDevDebugResources UP-TO-DATE\r\n    :app:createDevDebugCompatibleScreenManifests UP-TO-DATE\r\n    :app:processDevDebugManifest UP-TO-DATE\r\n    :app:splitsDiscoveryTaskDevDebug UP-TO-DATE\r\n    :app:processDevDebugResources UP-TO-DATE\r\n    :app:generateDevDebugSources UP-TO-DATE\r\n    :app:dataBindingExportBuildInfoDevDebug UP-TO-DATE\r\n    :app:javaPreCompileDevDebug UP-TO-DATE\r\n    :app:transformDataBindingWithDataBindingMergeArtifactsForDevDebug UP-TO-DATE\r\n    :app:compileDevDebugJavaWithJavac UP-TO-DATE\r\n    :app:compileDevDebugNdk NO-SOURCE\r\n    :app:compileDevDebugSources UP-TO-DATE\r\n    :app:mergeDevDebugShaders UP-TO-DATE\r\n    :app:compileDevDebugShaders UP-TO-DATE\r\n    :app:generateDevDebugAssets UP-TO-DATE\r\n    :app:mergeDevDebugAssets UP-TO-DATE\r\n    :app:transformClassesWithDexBuilderForDevDebug UP-TO-DATE\r\n    :app:transformClassesWithMultidexlistForDevDebug UP-TO-DATE\r\n    :app:transformDexArchiveWithDexMergerForDevDebug UP-TO-DATE\r\n    :app:mergeDevDebugJniLibFolders UP-TO-DATE\r\n    :app:transformNativeLibsWithMergeJniLibsForDevDebug UP-TO-DATE\r\n    :app:processDevDebugJavaRes NO-SOURCE\r\n    :app:transformResourcesWithMergeJavaResForDevDebug FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:app:transformResourcesWithMergeJavaResForDevDebug&#39;.\r\n    &gt; More than one file was found with OS independent path &#39;META-INF/android.arch.lifecycle_runtime.version&#39;\r\n    \r\n    * Try:\r\n    Run with --info or --debug option to get more log output.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:transformResourcesWithMergeJavaResForDevDebug&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:63)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\r\n    \tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:60)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:128)\r\n    \tat org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\r\n    \tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n    \tat org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\r\n    \tat org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\r\n    \tat org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:46)\r\n    \tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\r\n    \tat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:311)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:202)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:132)\r\n    \tat org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:107)\r\n    \tat org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\r\n    \tat org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\r\n    \tat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\r\n    \tat org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\r\n    \tat org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:53)\r\n    \tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    \tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    \tat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\r\n    \tat org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:45)\r\n    \tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:29)\r\n    \tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\r\n    \tat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\r\n    \tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:71)\r\n    \tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:45)\r\n    \tat org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:51)\r\n    \tat org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\r\n    \tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n    \tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n    \tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\r\n    \tat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\r\n    \tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\r\n    \tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\r\n    \tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\r\n    \tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n    \tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:58)\r\n    \tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:33)\r\n    \tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\r\n    \tat org.gradle.util.Swapper.swap(Swapper.java:38)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\r\n    \tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\r\n    \tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    Caused by: com.android.builder.merge.DuplicateRelativeFileException: More than one file was found with OS independent path &#39;META-INF/android.arch.lifecycle_runtime.version&#39;\r\n    \tat com.android.builder.merge.StreamMergeAlgorithms.lambda$acceptOnlyOne$2(StreamMergeAlgorithms.java:75)\r\n    \tat com.android.builder.merge.StreamMergeAlgorithms.lambda$select$3(StreamMergeAlgorithms.java:100)\r\n    \tat com.android.builder.merge.IncrementalFileMergerOutputs$1.create(IncrementalFileMergerOutputs.java:86)\r\n    \tat com.android.builder.merge.DelegateIncrementalFileMergerOutput.create(DelegateIncrementalFileMergerOutput.java:61)\r\n    \tat com.android.build.gradle.internal.transforms.MergeJavaResourcesTransform$1.create(MergeJavaResourcesTransform.java:379)\r\n    \tat com.android.builder.merge.IncrementalFileMerger.updateChangedFile(IncrementalFileMerger.java:221)\r\n    \tat com.android.builder.merge.IncrementalFileMerger.mergeChangedInputs(IncrementalFileMerger.java:190)\r\n    \tat com.android.builder.merge.IncrementalFileMerger.merge(IncrementalFileMerger.java:77)\r\n    \tat com.android.build.gradle.internal.transforms.MergeJavaResourcesTransform.transform(MergeJavaResourcesTransform.java:411)\r\n    \tat com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:222)\r\n    \tat com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:218)\r\n    \tat com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)\r\n    \tat com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:213)\r\n    \tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\r\n    \tat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:173)\r\n    \tat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\r\n    \tat org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\r\n    \tat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\r\n    \t... 102 more\r\n    \r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 2s\r\n    \r\n    28 actionable tasks: 2 executed, 26 up-to-date\r\n\r\n\r\n**This is my app/build.gradle file:**\r\n\r\n    buildscript {\r\n        repositories {\r\n            maven { url &#39;https://maven.fabric.io/public&#39; }\r\n            maven { url &#39;https://oss.sonatype.org/content/repositories/snapshots&#39; }\r\n        }\r\n    \r\n        dependencies {\r\n            classpath &#39;io.fabric.tools:gradle:1.+&#39;\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        maven { url &#39;https://maven.fabric.io/public&#39; }\r\n        maven { url &#39;https://oss.sonatype.org/content/repositories/snapshots&#39; }\r\n        maven { url &#39;http://static.clmbtech.com/maven&#39; }\r\n    }\r\n    \r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;io.fabric&#39;\r\n    apply plugin: &#39;org.greenrobot.greendao&#39;\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 27\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;&lt;package_ID&gt;&quot;\r\n            minSdkVersion 19\r\n            targetSdkVersion 27\r\n            versionCode 63\r\n            versionName &quot;2.2.8&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n            vectorDrawables.useSupportLibrary = true\r\n            multiDexEnabled true\r\n        }\r\n    \r\n        dataBinding {\r\n            enabled = true\r\n        }\r\n    \r\n        packagingOptions {\r\n            exclude &#39;jsr305_annotations/Jsr305_annotations.gwt.xml&#39;\r\n            exclude &#39;error_prone/Annotations.gwt.xml&#39;\r\n            exclude &#39;third_party/java_src/error_prone/project/annotations/Annotations.gwt.xml&#39;\r\n            exclude &#39;third_party/java_src/error_prone/project/annotations/Google_internal.gwt.xml&#39;\r\n        }\r\n    \r\n        dexOptions {\r\n            preDexLibraries true\r\n            maxProcessCount 8\r\n            jumboMode true\r\n            javaMaxHeapSize &quot;2g&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    \r\n        flavorDimensions &quot;default&quot;\r\n        productFlavors {\r\n            dev {\r\n                versionNameSuffix &quot;-dev&quot;\r\n                resConfigs &quot;en&quot;, &quot;xxhdpi&quot;\r\n                ext.enableCrashlytics = false\r\n            }\r\n    \r\n            prod {\r\n                \r\n            }\r\n        }\r\n    }\r\n    \r\n    greendao {\r\n        schemaVersion 1\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        androidTestImplementation(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n    \r\n        //All Dependencies \r\n        implementation &#39;com.android.support:appcompat-v7:27.1.0&#39;\r\n        implementation &#39;com.android.support:design:27.1.0&#39;\r\n        implementation &#39;com.android.support:recyclerview-v7:27.1.0&#39;\r\n    \r\n        implementation &#39;com.longtailvideo.jwplayer:jwplayer-core:+&#39;\r\n        implementation &#39;com.longtailvideo.jwplayer:jwplayer-common:+&#39;\r\n        implementation(&#39;com.longtailvideo.jwplayer:jwplayer-ima:+&#39;) {\r\n            exclude group: &quot;com.google.android.gms&quot;\r\n        }\r\n   \r\n        implementation &#39;com.google.ads.interactivemedia.v3:interactivemedia:3.6.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-ads:11.8.0&#39;\r\n    \r\n        implementation(&#39;com.crashlytics.sdk.android:crashlytics:2.6.7@aar&#39;) {\r\n            transitive = true\r\n        }\r\n    \r\n    }\r\n    \r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nWhen i searched for this file: `META-INF/android.arch.lifecycle_runtime.version` I get 2 locations:\r\n\r\n    /Users/shikhardeep/.gradle/caches/transforms-1/files-1.1/runtime-1.1.0.aar/f7273cc34aac547da4a88fd1c25f0f2f/jars/classes.jar!/META-INF/android.arch.lifecycle_runtime.version\r\n\r\n    /Users/shikhardeep/.gradle/caches/modules-2/files-2.1/com.google.ads.interactivemedia.v3/interactivemedia/3.8.2/abbc5b12ce9ca95049dce9a22cfe7a7f6709aaee/interactivemedia-3.8.2.jar!/META-INF/android.arch.lifecycle_runtime.version\r\n\r\nand both of them only contains a value `1.1.0`\r\n\r\nOne more thing: for this dependency `implementation &#39;com.android.support:appcompat-v7:27.1.0&#39;` I am getting this warning `All com.android.support libraries must use the exact same version` for a last couple of months. I don&#39;t think so this is the root cause of build failure as I was able to build APK (dev as well as release) till yesterday. There is no change in gradle file except `versionCode` and `versionName` (which I increment after a release).\r\n\r\n**UPDATE 1:**\r\nI have solved that `All com.android.support libraries must use the exact same version` by adding these but still the error persists\r\n\r\n    implementation &#39;com.android.support:cardview-v7:27.1.0&#39;\r\n    implementation &#39;com.android.support:customtabs:27.1.0&#39;\r\n    implementation &#39;com.android.support:animated-vector-drawable:27.1.0&#39;\r\n    implementation &#39;com.android.support:exifinterface:27.1.0&#39;\r\n\r\n**UPDATE 2:**\r\nI found this GitHub issue and it seems similar to my case: https://github.com/google/ExoPlayer/issues/3911.\r\nI followed the approach mentioned by one of the commentator Victor Raft and now I am able to build but I am not sure whether it&#39;s the right way or not.\r\n\r\n**UPDATE 3:** \r\nAlthough build was successful but I noticed that I am not able to play most of the media URLs. Same media URLs are working fine on live App. I am using JWPlayer SDK for media streaming. Everytime I open the VideoActivity, I get `onError()` callback with error message:  `Invalid HTTP response code: 404: Not Found`. According to JWPlayer changelog: https://developer.jwplayer.com/sdk/android/docs/developer-guide/about/release-notes/ they have updated the SDK on Mar21, 2018 and since that day I am also getting the error. In the SDK setup instructions https://developer.jwplayer.com/sdk/android/docs/developer-guide/getting-started/library-project-setup/ they have recommended to use + while including dependencies. If I try to build by specifying a lower version (2.8.0) in gradle. I get an error while syncing: `Failed to resolve: com.longtailvideo.jwplayer:jwplayer-core:2.8.0`","title":"Android: Unable to build APK. More than one file was found with OS independent path &#39;META-INF/android.arch.lifecycle_runtime.version&#39;","body":"<p>All of a sudden, I am getting this error while building APK </p>\n\n<pre><code>Error:Execution failed for task ':app:transformResourcesWithMergeJavaResForDevDebug'.\n&gt; More than one file was found with OS independent path 'META-INF/android.arch.lifecycle_runtime.version'\n</code></pre>\n\n<p>I went through a lot of StackOverflow post related to <code>META-INF</code> issue such as <code>exclude 'META-INF/***' (LICENSE, NOTICE</code> etc etc) in <code>packagingOptions</code> but it's not working. I have uninstalled Java 9 also and installed JDK8. Here is the output when I run with <code>--stacktrace</code> option</p>\n\n<pre><code>Executing tasks: [:app:assembleDevDebug]\n\nParallel execution with configuration on demand is an incubating feature.\nConfiguration 'compile' in project ':app' is deprecated. Use 'implementation' instead.\nregisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)\nregisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)\n:app:preBuild UP-TO-DATE\n:app:preDevDebugBuild UP-TO-DATE\n:app:compileDevDebugAidl UP-TO-DATE\n:app:compileDevDebugRenderscript UP-TO-DATE\n:app:checkDevDebugManifest UP-TO-DATE\n:app:generateDevDebugBuildConfig UP-TO-DATE\n:app:greendaoPrepare UP-TO-DATE\n:app:greendao UP-TO-DATE\n:app:prepareLintJar UP-TO-DATE\n:app:generateDevDebugResValues UP-TO-DATE\n:app:generateDevDebugResources UP-TO-DATE\n:app:processDevDebugGoogleServices\nParsing json file: /Users/shikhardeep/StudioProjects/HOGAndroid_New/app/src/debug/google-services.json\n:app:mergeDevDebugResources UP-TO-DATE\n:app:createDevDebugCompatibleScreenManifests UP-TO-DATE\n:app:processDevDebugManifest UP-TO-DATE\n:app:splitsDiscoveryTaskDevDebug UP-TO-DATE\n:app:processDevDebugResources UP-TO-DATE\n:app:generateDevDebugSources UP-TO-DATE\n:app:dataBindingExportBuildInfoDevDebug UP-TO-DATE\n:app:javaPreCompileDevDebug UP-TO-DATE\n:app:transformDataBindingWithDataBindingMergeArtifactsForDevDebug UP-TO-DATE\n:app:compileDevDebugJavaWithJavac UP-TO-DATE\n:app:compileDevDebugNdk NO-SOURCE\n:app:compileDevDebugSources UP-TO-DATE\n:app:mergeDevDebugShaders UP-TO-DATE\n:app:compileDevDebugShaders UP-TO-DATE\n:app:generateDevDebugAssets UP-TO-DATE\n:app:mergeDevDebugAssets UP-TO-DATE\n:app:transformClassesWithDexBuilderForDevDebug UP-TO-DATE\n:app:transformClassesWithMultidexlistForDevDebug UP-TO-DATE\n:app:transformDexArchiveWithDexMergerForDevDebug UP-TO-DATE\n:app:mergeDevDebugJniLibFolders UP-TO-DATE\n:app:transformNativeLibsWithMergeJniLibsForDevDebug UP-TO-DATE\n:app:processDevDebugJavaRes NO-SOURCE\n:app:transformResourcesWithMergeJavaResForDevDebug FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:transformResourcesWithMergeJavaResForDevDebug'.\n&gt; More than one file was found with OS independent path 'META-INF/android.arch.lifecycle_runtime.version'\n\n* Try:\nRun with --info or --debug option to get more log output.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:transformResourcesWithMergeJavaResForDevDebug'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:63)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:60)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:128)\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n    at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:46)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n    at org.gradle.initialization.DefaultGradleLauncher$ExecuteTasks.run(DefaultGradleLauncher.java:311)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n    at org.gradle.initialization.DefaultGradleLauncher.runTasks(DefaultGradleLauncher.java:202)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:132)\n    at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:107)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:78)\n    at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:75)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:152)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:100)\n    at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:75)\n    at org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$1.run(RunAsBuildOperationBuildActionRunner.java:43)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:45)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:29)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n    at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:71)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:45)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:51)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:32)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n    at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:64)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:29)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:58)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:33)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:82)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: com.android.builder.merge.DuplicateRelativeFileException: More than one file was found with OS independent path 'META-INF/android.arch.lifecycle_runtime.version'\n    at com.android.builder.merge.StreamMergeAlgorithms.lambda$acceptOnlyOne$2(StreamMergeAlgorithms.java:75)\n    at com.android.builder.merge.StreamMergeAlgorithms.lambda$select$3(StreamMergeAlgorithms.java:100)\n    at com.android.builder.merge.IncrementalFileMergerOutputs$1.create(IncrementalFileMergerOutputs.java:86)\n    at com.android.builder.merge.DelegateIncrementalFileMergerOutput.create(DelegateIncrementalFileMergerOutput.java:61)\n    at com.android.build.gradle.internal.transforms.MergeJavaResourcesTransform$1.create(MergeJavaResourcesTransform.java:379)\n    at com.android.builder.merge.IncrementalFileMerger.updateChangedFile(IncrementalFileMerger.java:221)\n    at com.android.builder.merge.IncrementalFileMerger.mergeChangedInputs(IncrementalFileMerger.java:190)\n    at com.android.builder.merge.IncrementalFileMerger.merge(IncrementalFileMerger.java:77)\n    at com.android.build.gradle.internal.transforms.MergeJavaResourcesTransform.transform(MergeJavaResourcesTransform.java:411)\n    at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:222)\n    at com.android.build.gradle.internal.pipeline.TransformTask$2.call(TransformTask.java:218)\n    at com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:102)\n    at com.android.build.gradle.internal.pipeline.TransformTask.transform(TransformTask.java:213)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:173)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n    ... 102 more\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 2s\n\n28 actionable tasks: 2 executed, 26 up-to-date\n</code></pre>\n\n<p><strong>This is my app/build.gradle file:</strong></p>\n\n<pre><code>buildscript {\n    repositories {\n        maven { url 'https://maven.fabric.io/public' }\n        maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }\n    }\n\n    dependencies {\n        classpath 'io.fabric.tools:gradle:1.+'\n    }\n}\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://maven.fabric.io/public' }\n    maven { url 'https://oss.sonatype.org/content/repositories/snapshots' }\n    maven { url 'http://static.clmbtech.com/maven' }\n}\n\napply plugin: 'com.android.application'\napply plugin: 'io.fabric'\napply plugin: 'org.greenrobot.greendao'\napply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 27\n\n    defaultConfig {\n        applicationId \"&lt;package_ID&gt;\"\n        minSdkVersion 19\n        targetSdkVersion 27\n        versionCode 63\n        versionName \"2.2.8\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n        multiDexEnabled true\n    }\n\n    dataBinding {\n        enabled = true\n    }\n\n    packagingOptions {\n        exclude 'jsr305_annotations/Jsr305_annotations.gwt.xml'\n        exclude 'error_prone/Annotations.gwt.xml'\n        exclude 'third_party/java_src/error_prone/project/annotations/Annotations.gwt.xml'\n        exclude 'third_party/java_src/error_prone/project/annotations/Google_internal.gwt.xml'\n    }\n\n    dexOptions {\n        preDexLibraries true\n        maxProcessCount 8\n        jumboMode true\n        javaMaxHeapSize \"2g\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    flavorDimensions \"default\"\n    productFlavors {\n        dev {\n            versionNameSuffix \"-dev\"\n            resConfigs \"en\", \"xxhdpi\"\n            ext.enableCrashlytics = false\n        }\n\n        prod {\n\n        }\n    }\n}\n\ngreendao {\n    schemaVersion 1\n}\n\ndependencies {\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n\n    //All Dependencies \n    implementation 'com.android.support:appcompat-v7:27.1.0'\n    implementation 'com.android.support:design:27.1.0'\n    implementation 'com.android.support:recyclerview-v7:27.1.0'\n\n    implementation 'com.longtailvideo.jwplayer:jwplayer-core:+'\n    implementation 'com.longtailvideo.jwplayer:jwplayer-common:+'\n    implementation('com.longtailvideo.jwplayer:jwplayer-ima:+') {\n        exclude group: \"com.google.android.gms\"\n    }\n\n    implementation 'com.google.ads.interactivemedia.v3:interactivemedia:3.6.0'\n    implementation 'com.google.android.gms:play-services-ads:11.8.0'\n\n    implementation('com.crashlytics.sdk.android:crashlytics:2.6.7@aar') {\n        transitive = true\n    }\n\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>When i searched for this file: <code>META-INF/android.arch.lifecycle_runtime.version</code> I get 2 locations:</p>\n\n<pre><code>/Users/shikhardeep/.gradle/caches/transforms-1/files-1.1/runtime-1.1.0.aar/f7273cc34aac547da4a88fd1c25f0f2f/jars/classes.jar!/META-INF/android.arch.lifecycle_runtime.version\n\n/Users/shikhardeep/.gradle/caches/modules-2/files-2.1/com.google.ads.interactivemedia.v3/interactivemedia/3.8.2/abbc5b12ce9ca95049dce9a22cfe7a7f6709aaee/interactivemedia-3.8.2.jar!/META-INF/android.arch.lifecycle_runtime.version\n</code></pre>\n\n<p>and both of them only contains a value <code>1.1.0</code></p>\n\n<p>One more thing: for this dependency <code>implementation 'com.android.support:appcompat-v7:27.1.0'</code> I am getting this warning <code>All com.android.support libraries must use the exact same version</code> for a last couple of months. I don't think so this is the root cause of build failure as I was able to build APK (dev as well as release) till yesterday. There is no change in gradle file except <code>versionCode</code> and <code>versionName</code> (which I increment after a release).</p>\n\n<p><strong>UPDATE 1:</strong>\nI have solved that <code>All com.android.support libraries must use the exact same version</code> by adding these but still the error persists</p>\n\n<pre><code>implementation 'com.android.support:cardview-v7:27.1.0'\nimplementation 'com.android.support:customtabs:27.1.0'\nimplementation 'com.android.support:animated-vector-drawable:27.1.0'\nimplementation 'com.android.support:exifinterface:27.1.0'\n</code></pre>\n\n<p><strong>UPDATE 2:</strong>\nI found this GitHub issue and it seems similar to my case: <a href=\"https://github.com/google/ExoPlayer/issues/3911\" rel=\"nofollow noreferrer\">https://github.com/google/ExoPlayer/issues/3911</a>.\nI followed the approach mentioned by one of the commentator Victor Raft and now I am able to build but I am not sure whether it's the right way or not.</p>\n\n<p><strong>UPDATE 3:</strong> \nAlthough build was successful but I noticed that I am not able to play most of the media URLs. Same media URLs are working fine on live App. I am using JWPlayer SDK for media streaming. Everytime I open the VideoActivity, I get <code>onError()</code> callback with error message:  <code>Invalid HTTP response code: 404: Not Found</code>. According to JWPlayer changelog: <a href=\"https://developer.jwplayer.com/sdk/android/docs/developer-guide/about/release-notes/\" rel=\"nofollow noreferrer\">https://developer.jwplayer.com/sdk/android/docs/developer-guide/about/release-notes/</a> they have updated the SDK on Mar21, 2018 and since that day I am also getting the error. In the SDK setup instructions <a href=\"https://developer.jwplayer.com/sdk/android/docs/developer-guide/getting-started/library-project-setup/\" rel=\"nofollow noreferrer\">https://developer.jwplayer.com/sdk/android/docs/developer-guide/getting-started/library-project-setup/</a> they have recommended to use + while including dependencies. If I try to build by specifying a lower version (2.8.0) in gradle. I get an error while syncing: <code>Failed to resolve: com.longtailvideo.jwplayer:jwplayer-core:2.8.0</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1681749420,"post_id":76037355,"comment_id":134103582,"body_markdown":"If you know the class statically, just cast to it. And if you don&#39;t know the class statically, then how do you know the name of the method to call? Put another way, how can you &quot;know&quot; the method you want to call without knowing what class/interface it belongs to?","body":"If you know the class statically, just cast to it. And if you don&#39;t know the class statically, then how do you know the name of the method to call? Put another way, how can you &quot;know&quot; the method you want to call without knowing what class/interface it belongs to?"},{"owner":{"account_id":28283689,"reputation":3,"user_id":21624955,"display_name":"Specter"},"score":0,"creation_date":1681749798,"post_id":76037355,"comment_id":134103681,"body_markdown":"@SilvioMayolo I know the classes but if im writing each time i have to write casting for all 4 instance of checks, here im trying to get the class name first and then do the casting making a single call way ie  className object =(className)Indout   after that GeneralApp app =(GeneralApp)   Object, here the second line is common so im trying to reuse that","body":"@SilvioMayolo I know the classes but if im writing each time i have to write casting for all 4 instance of checks, here im trying to get the class name first and then do the casting making a single call way ie  className object =(className)Indout   after that GeneralApp app =(GeneralApp)   Object, here the second line is common so im trying to reuse that"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1681750170,"post_id":76037355,"comment_id":134103754,"body_markdown":"Why not just cast to `GeneralApp` to begin with? What&#39;s the benefit to the intermediate cast?","body":"Why not just cast to <code>GeneralApp</code> to begin with? What&#39;s the benefit to the intermediate cast?"},{"owner":{"account_id":28283689,"reputation":3,"user_id":21624955,"display_name":"Specter"},"score":0,"creation_date":1681750215,"post_id":76037355,"comment_id":134103769,"body_markdown":"The general app extends the ClassName, if i try to cast directly its giving me error to cast exception,  so that 2 way casting only im able to get the method i want","body":"The general app extends the ClassName, if i try to cast directly its giving me error to cast exception,  so that 2 way casting only im able to get the method i want"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1681750353,"post_id":76037355,"comment_id":134103807,"body_markdown":"If the class is a `GeneralApp` then casting directly will pass. If it&#39;s not, then intermediate casting won&#39;t help. There&#39;s no situation in Java where adding an intermediate cast will make a failed cast succeed. The runtime class is set in stone, and casts simply change the compile-time type information, not the actual structure of the instance.","body":"If the class is a <code>GeneralApp</code> then casting directly will pass. If it&#39;s not, then intermediate casting won&#39;t help. There&#39;s no situation in Java where adding an intermediate cast will make a failed cast succeed. The runtime class is set in stone, and casts simply change the compile-time type information, not the actual structure of the instance."}],"answers":[{"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681750335,"creation_date":1681750335,"answer_id":76037495,"question_id":76037355,"body_markdown":"If I understand your question correctly I think you&#39;re over-complicating things.\r\n\r\n&gt; would it be possible to call a method from theClass?\r\n\r\nYes, but I don&#39;t think that&#39;s what you&#39;re trying to do. `theClass` represents a `Class` object. You seem to want to invoke a function on _an instance_ of that class. In which case, your code can be simplified greatly.\r\n\r\n    // -&gt; This already get the object instance you want to work with\r\n    Object something = getInstance(inNdOut); //inNdOut Object\r\n\r\n    // -&gt; The name of the class is irrelevant, delete this    \r\n    // String theType =String.valueOf(something.getClass().getCanonicalName());\r\n    \r\n    // -&gt; Getting the class from the string that was obtained from the class is circular\r\n    // -&gt; and pointless. You already have the class, which is not needed anyway. Delete this.\r\n    //class name to which cast to be done obtained in above\r\n    Class&lt;?&gt; theClass = Class.forName(theType);// the object of that class \r\n    \r\n    // -&gt; Casting the object and storing it in an Object type is pointless\r\n    //Object newObj = Class.forName(classname).cast(obj);//usual scenario\r\n    \r\n    // -&gt; If the requirements is to get the object as a common base class type,\r\n    // -&gt; just cast the original object that already passed your cast checks\r\n    //my requirement\r\n    // GeneralApp app =(GeneralApp)newObj //this step is common step after casting, so im \r\n\r\n    GeneralApp app = (GeneralApp) something;\r\n\r\nSo in summary, your code could just be:\r\n\r\n    GeneralApp app = (GeneralApp) getInstance(inNdOut);","title":"Dynamically converting java object class when class name is unknown","body":"<p>If I understand your question correctly I think you're over-complicating things.</p>\n<blockquote>\n<p>would it be possible to call a method from theClass?</p>\n</blockquote>\n<p>Yes, but I don't think that's what you're trying to do. <code>theClass</code> represents a <code>Class</code> object. You seem to want to invoke a function on <em>an instance</em> of that class. In which case, your code can be simplified greatly.</p>\n<pre><code>// -&gt; This already get the object instance you want to work with\nObject something = getInstance(inNdOut); //inNdOut Object\n\n// -&gt; The name of the class is irrelevant, delete this    \n// String theType =String.valueOf(something.getClass().getCanonicalName());\n\n// -&gt; Getting the class from the string that was obtained from the class is circular\n// -&gt; and pointless. You already have the class, which is not needed anyway. Delete this.\n//class name to which cast to be done obtained in above\nClass&lt;?&gt; theClass = Class.forName(theType);// the object of that class \n\n// -&gt; Casting the object and storing it in an Object type is pointless\n//Object newObj = Class.forName(classname).cast(obj);//usual scenario\n\n// -&gt; If the requirements is to get the object as a common base class type,\n// -&gt; just cast the original object that already passed your cast checks\n//my requirement\n// GeneralApp app =(GeneralApp)newObj //this step is common step after casting, so im \n\nGeneralApp app = (GeneralApp) something;\n</code></pre>\n<p>So in summary, your code could just be:</p>\n<pre><code>GeneralApp app = (GeneralApp) getInstance(inNdOut);\n</code></pre>\n"}],"owner":{"account_id":28283689,"reputation":3,"user_id":21624955,"display_name":"Specter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76037495,"answer_count":1,"score":0,"last_activity_date":1681752049,"creation_date":1681749204,"question_id":76037355,"body_markdown":"```\r\nprivate Object  getInstance(Appl inNdOut) {\r\nObject cl= null;\r\n// I have to check for 4 instances and do casting\r\n\tif (null!=inNdOut) {\r\n\t\t cl = (InAppl)inNdOut;// casting done\r\n\t\t \r\n\t}\r\nelse{\r\ncl=null;\r\n}\r\n\treturn cl;\r\n}\r\n\r\npublic void dta(Appl inNdOut){\r\n\r\nif (null != inNdOut) {\r\n\t\t\t\t\t\t\t\t\t\r\nObject something =getInstance(inNdOut);//inNdOut Object  \r\nString theType =String.valueOf(something .getClass ( ).getCanonicalName() ) ;\r\n //class name to which cast to be done obtained in above\r\nClass&lt;?&gt; theClass = Class.forName(theType);// the object of that class \r\n\r\n//Object newObj = Class.forName(classname).cast(obj);//usual scenario\r\n\r\n//my requirement\r\nGeneralApp app =(GeneralApp)newObj //this step is common step after casting, so im trying to reuse it\r\n\r\n\r\n\r\n\r\n}\r\n}\r\n```\r\n\r\nIn simple words,  if I have many instance of scenarios and multiple casting scenario (old code I have been told to not touch it), so if I could get the class name and cast a object to the obtained class name, I could call method from the same.\r\n\r\n1. Is the scenario I asked above possible(in code)\r\n\r\n2. ```\r\n   Class&lt;?&gt; theClass = Class.forName(theType);// the object of that class \r\n   \r\n   ```\r\n\r\nwould it be possible to call a method from theClass?\r\n\r\nI know its a little odd questions, if possible please help","title":"Dynamically converting java object class when class name is unknown","body":"<pre><code>private Object  getInstance(Appl inNdOut) {\nObject cl= null;\n// I have to check for 4 instances and do casting\n    if (null!=inNdOut) {\n         cl = (InAppl)inNdOut;// casting done\n         \n    }\nelse{\ncl=null;\n}\n    return cl;\n}\n\npublic void dta(Appl inNdOut){\n\nif (null != inNdOut) {\n                                    \nObject something =getInstance(inNdOut);//inNdOut Object  \nString theType =String.valueOf(something .getClass ( ).getCanonicalName() ) ;\n //class name to which cast to be done obtained in above\nClass&lt;?&gt; theClass = Class.forName(theType);// the object of that class \n\n//Object newObj = Class.forName(classname).cast(obj);//usual scenario\n\n//my requirement\nGeneralApp app =(GeneralApp)newObj //this step is common step after casting, so im trying to reuse it\n\n\n\n\n}\n}\n</code></pre>\n<p>In simple words,  if I have many instance of scenarios and multiple casting scenario (old code I have been told to not touch it), so if I could get the class name and cast a object to the obtained class name, I could call method from the same.</p>\n<ol>\n<li><p>Is the scenario I asked above possible(in code)</p>\n</li>\n<li>\n<pre><code>Class&lt;?&gt; theClass = Class.forName(theType);// the object of that class \n\n</code></pre>\n</li>\n</ol>\n<p>would it be possible to call a method from theClass?</p>\n<p>I know its a little odd questions, if possible please help</p>\n"},{"tags":["java","fonts","awt"],"comments":[{"owner":{"account_id":15157499,"reputation":1444,"user_id":10937788,"display_name":"Jens Dibbern"},"score":1,"creation_date":1548186607,"post_id":54314653,"comment_id":95450826,"body_markdown":"I can confirm your problem. But your code shows the same behaviour with Oracle JDK 11.0.1 Win64. Looks like a bug to me. There already some similar bugs in the OpenJDK bug database.","body":"I can confirm your problem. But your code shows the same behaviour with Oracle JDK 11.0.1 Win64. Looks like a bug to me. There already some similar bugs in the OpenJDK bug database."},{"owner":{"account_id":88678,"reputation":3162,"user_id":245108,"accept_rate":79,"display_name":"TCCV"},"score":0,"creation_date":1548186906,"post_id":54314653,"comment_id":95450956,"body_markdown":"Thank you for that.  The similar bugs in the OpenJDK bugbase all are related to JavaFX (at least the ones I&#39;ve seen) - I&#39;ll continue looking.  The Oracle JDK 11.0.1 reproduction is interesting.  OpenJDK uses FreeType as the FontScaler.  I wonder if Oracle JDK 11.0.1 also uses FreeType instead of the T2K FontScaler that was previously used.","body":"Thank you for that.  The similar bugs in the OpenJDK bugbase all are related to JavaFX (at least the ones I&#39;ve seen) - I&#39;ll continue looking.  The Oracle JDK 11.0.1 reproduction is interesting.  OpenJDK uses FreeType as the FontScaler.  I wonder if Oracle JDK 11.0.1 also uses FreeType instead of the T2K FontScaler that was previously used."},{"owner":{"account_id":15157499,"reputation":1444,"user_id":10937788,"display_name":"Jens Dibbern"},"score":0,"creation_date":1548187303,"post_id":54314653,"comment_id":95451118,"body_markdown":"Your are right. According to the JDK 11 Release Notes (https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html) they are using FreeType.","body":"Your are right. According to the JDK 11 Release Notes (<a href=\"https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/javase/&hellip;</a>) they are using FreeType."},{"owner":{"account_id":88678,"reputation":3162,"user_id":245108,"accept_rate":79,"display_name":"TCCV"},"score":0,"creation_date":1548188303,"post_id":54314653,"comment_id":95451568,"body_markdown":"I saw that too.  Oh well.  Maybe a bug report is in order.  Thanks again.","body":"I saw that too.  Oh well.  Maybe a bug report is in order.  Thanks again."},{"owner":{"account_id":88678,"reputation":3162,"user_id":245108,"accept_rate":79,"display_name":"TCCV"},"score":2,"creation_date":1548275972,"post_id":54314653,"comment_id":95487959,"body_markdown":"FYI: Bug report has been sent to Oracle.","body":"FYI: Bug report has been sent to Oracle."},{"owner":{"account_id":2043549,"reputation":1360,"user_id":1824182,"accept_rate":83,"display_name":"Ti Strga"},"score":0,"creation_date":1560286431,"post_id":54314653,"comment_id":99684758,"body_markdown":"@TCCV Do you happen to have the JDK bug number?  I&#39;m running into the same problem with a derived italic font used on a `BufferedImage`.","body":"@TCCV Do you happen to have the JDK bug number?  I&#39;m running into the same problem with a derived italic font used on a <code>BufferedImage</code>."},{"owner":{"account_id":2043549,"reputation":1360,"user_id":1824182,"accept_rate":83,"display_name":"Ti Strga"},"score":0,"creation_date":1560355937,"post_id":54314653,"comment_id":99712186,"body_markdown":"Actually, answering my own comment (can&#39;t edit it now):  it&#39;s probably [JDK-8217712](https://bugs.openjdk.java.net/browse/JDK-8217712), which refers to [JDK-8214002](https://bugs.openjdk.java.net/browse/JDK-8214002), which is **fixed in Java 12** as noted below.","body":"Actually, answering my own comment (can&#39;t edit it now):  it&#39;s probably <a href=\"https://bugs.openjdk.java.net/browse/JDK-8217712\" rel=\"nofollow noreferrer\">JDK-8217712</a>, which refers to <a href=\"https://bugs.openjdk.java.net/browse/JDK-8214002\" rel=\"nofollow noreferrer\">JDK-8214002</a>, which is <b>fixed in Java 12</b> as noted below."},{"owner":{"account_id":88678,"reputation":3162,"user_id":245108,"accept_rate":79,"display_name":"TCCV"},"score":0,"creation_date":1560373502,"post_id":54314653,"comment_id":99719723,"body_markdown":"@Ti Strga That is indeed the bug.  Sorry for not seeing this sooner.","body":"@Ti Strga That is indeed the bug.  Sorry for not seeing this sooner."}],"answers":[{"tags":[],"owner":{"account_id":88678,"reputation":3162,"user_id":245108,"accept_rate":79,"display_name":"TCCV"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1548191923,"creation_date":1548191923,"answer_id":54316590,"question_id":54314653,"body_markdown":"Because I don&#39;t like seeing questions without answers: it looks like this is just a result of the change from T2K font renderer to FreeType.\r\n\r\nSome workarounds:\r\n\r\n - Make an italic font face (if you are legally allowed to by license)\r\n - Apply an AffineTransform to the Font object (skew of -20 works well).","title":"Java is not synthesizing italic font faces","body":"<p>Because I don't like seeing questions without answers: it looks like this is just a result of the change from T2K font renderer to FreeType.</p>\n\n<p>Some workarounds:</p>\n\n<ul>\n<li>Make an italic font face (if you are legally allowed to by license)</li>\n<li>Apply an AffineTransform to the Font object (skew of -20 works well).</li>\n</ul>\n"}],"owner":{"account_id":88678,"reputation":3162,"user_id":245108,"accept_rate":79,"display_name":"TCCV"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":54316590,"answer_count":1,"score":4,"last_activity_date":1681751499,"creation_date":1548183006,"question_id":54314653,"body_markdown":"**Main question:**\r\n \r\nIs there a setting in OpenJDK that will synthesize italic font faces like the Oracle JDK does?\r\n\r\n**Background:**\r\n\r\nUsing OpenJDK, when drawing text on a Graphics2D object, text will not appear with an oblique style unless there is an italic font face registered with the desired font family.  Oracle&#39;s JDK does synthesize italic font faces.  Swing components also are synthesized.\r\n\r\n**Notes:**\r\n\r\n - Bold is synthesized, bold italic synthesizes just the bold weight.\r\n - I am aware that for best results, italic font faces should be registered.  This is perhaps not a perfect solution for applications that are already taking advantage of synthesized font faces.\r\n - There is a lot out there about JavaFX and fonts, this is not JavaFX, just AWT.\r\n\r\nHere is a simple class that illustrates the issue.  \r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GraphicsConfiguration;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n    \r\n    public class SimpleFontTest {\r\n        private static Font FONT = new Font(&quot;Impact&quot;, Font.ITALIC, 18);\r\n        private static String TEXT = &quot;The Quick Brown Fox&quot;;\r\n        \r\n        public static void main(String args[]) throws UnsupportedLookAndFeelException {\t\t\r\n            if (args.length &gt; 0 &amp;&amp; args[0] != null) {\r\n                String fontName = args[0];\r\n                FONT = new Font(fontName, Font.ITALIC, 18);\r\n            }\r\n    \r\n            JFrame f = new JFrame(&quot;Simple Font Test: &quot; + System.getProperty(&quot;java.vendor&quot;));\r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            JLabel label = new JLabel(&quot;JLabel: &quot; + TEXT);\r\n            label.setFont(FONT);\r\n    \r\n            GraphicsConfiguration gc = f.getGraphicsConfiguration();\r\n            BufferedImage image = gc.createCompatibleImage(400, 50);\r\n            Graphics2D g = image.createGraphics();\r\n            g.setFont(FONT);\r\n            g.setColor(Color.BLACK);\r\n            g.setBackground(Color.WHITE);\r\n            g.clearRect(0, 0, image.getWidth(), image.getHeight());\r\n            g.drawString(&quot;BufferedImage: &quot; + TEXT, 10, 15);\r\n            g.dispose();\r\n            JLabel picLabel = new JLabel(new ImageIcon(image));\r\n        \r\n            f.add(label, BorderLayout.PAGE_START);\r\n            f.add(picLabel, BorderLayout.CENTER);\r\n            f.setSize(400, 200);\r\n            f.setVisible(true);\r\n        }\r\n    }\r\n\r\nThe output will depend on the JDK used to build and run the class.  Here is a comparison image:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/ASKEO.png","title":"Java is not synthesizing italic font faces","body":"<p><strong>Main question:</strong></p>\n<p>Is there a setting in OpenJDK that will synthesize italic font faces like the Oracle JDK does?</p>\n<p><strong>Background:</strong></p>\n<p>Using OpenJDK, when drawing text on a Graphics2D object, text will not appear with an oblique style unless there is an italic font face registered with the desired font family.  Oracle's JDK does synthesize italic font faces.  Swing components also are synthesized.</p>\n<p><strong>Notes:</strong></p>\n<ul>\n<li>Bold is synthesized, bold italic synthesizes just the bold weight.</li>\n<li>I am aware that for best results, italic font faces should be registered.  This is perhaps not a perfect solution for applications that are already taking advantage of synthesized font faces.</li>\n<li>There is a lot out there about JavaFX and fonts, this is not JavaFX, just AWT.</li>\n</ul>\n<p>Here is a simple class that illustrates the issue.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Graphics2D;\nimport java.awt.GraphicsConfiguration;\nimport java.awt.image.BufferedImage;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class SimpleFontTest {\n    private static Font FONT = new Font(&quot;Impact&quot;, Font.ITALIC, 18);\n    private static String TEXT = &quot;The Quick Brown Fox&quot;;\n    \n    public static void main(String args[]) throws UnsupportedLookAndFeelException {     \n        if (args.length &gt; 0 &amp;&amp; args[0] != null) {\n            String fontName = args[0];\n            FONT = new Font(fontName, Font.ITALIC, 18);\n        }\n\n        JFrame f = new JFrame(&quot;Simple Font Test: &quot; + System.getProperty(&quot;java.vendor&quot;));\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JLabel label = new JLabel(&quot;JLabel: &quot; + TEXT);\n        label.setFont(FONT);\n\n        GraphicsConfiguration gc = f.getGraphicsConfiguration();\n        BufferedImage image = gc.createCompatibleImage(400, 50);\n        Graphics2D g = image.createGraphics();\n        g.setFont(FONT);\n        g.setColor(Color.BLACK);\n        g.setBackground(Color.WHITE);\n        g.clearRect(0, 0, image.getWidth(), image.getHeight());\n        g.drawString(&quot;BufferedImage: &quot; + TEXT, 10, 15);\n        g.dispose();\n        JLabel picLabel = new JLabel(new ImageIcon(image));\n    \n        f.add(label, BorderLayout.PAGE_START);\n        f.add(picLabel, BorderLayout.CENTER);\n        f.setSize(400, 200);\n        f.setVisible(true);\n    }\n}\n</code></pre>\n<p>The output will depend on the JDK used to build and run the class.  Here is a comparison image:</p>\n<p><a href=\"https://i.stack.imgur.com/ASKEO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ASKEO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681753355,"post_id":76037614,"comment_id":134104549,"body_markdown":"I would try to remove abstract from &quot;public abstract class BaseEntity&quot;.","body":"I would try to remove abstract from &quot;public abstract class BaseEntity&quot;."},{"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"score":0,"creation_date":1681780840,"post_id":76037614,"comment_id":134108942,"body_markdown":"I tried, but it doesn&#39;t work","body":"I tried, but it doesn&#39;t work"},{"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1681810332,"post_id":76037614,"comment_id":134112763,"body_markdown":"Remove the `DaoCore` since it&#39;s not needed. Just use the `JpaRepository` to create proper entity repositories, like the `UserRepository`. If you want to use polymorphic queries, you can do that using custom JPA Repository methods.","body":"Remove the <code>DaoCore</code> since it&#39;s not needed. Just use the <code>JpaRepository</code> to create proper entity repositories, like the <code>UserRepository</code>. If you want to use polymorphic queries, you can do that using custom JPA Repository methods."},{"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"score":0,"creation_date":1681810992,"post_id":76037614,"comment_id":134112920,"body_markdown":"Oh my god, thank you so much bro &lt;3","body":"Oh my god, thank you so much bro &lt;3"}],"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681751205,"creation_date":1681751205,"question_id":76037614,"body_markdown":"I have the following problem, specifically I have 1 **BaseEntity** declared:\r\n\r\n    package com.game.server.core.entity;\r\n\r\n    import jakarta.persistence.*;\r\n    import java.io.Serializable;\r\n    import java.time.LocalDateTime;\r\n\r\n    @MappedSuperclass\r\n    public abstract class BaseEntity implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        protected Integer id;\r\n\r\n        @Column(name = &quot;created_at&quot;, nullable = false, updatable = false)\r\n        protected LocalDateTime createdAt;\r\n\r\n        @Column(name = &quot;updated_at&quot;, nullable = false)\r\n        protected LocalDateTime updatedAt;\r\n\r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n\r\n        public BaseEntity() {\r\n             this.createdAt = LocalDateTime.now();\r\n             this.updatedAt = LocalDateTime.now();\r\n        }\r\n\r\n         @PreUpdate\r\n         public void preUpdate() {\r\n             this.updatedAt = LocalDateTime.now();\r\n         }\r\n     }\r\nand Entity class **User** : \r\n\r\n    package com.game.server.core.entity;\r\n\r\n    import jakarta.persistence.Entity;\r\n    import lombok.Data;\r\n\r\n    @Entity\r\n    @Data\r\n    public class User extends BaseEntity{\r\n        private String username;\r\n        private String password;\r\n    }\r\n\r\nAnd here is the **DaoCore** repository :\r\n\r\n    package com.game.server.core.dao;\r\n\r\n    import com.game.server.core.entity.BaseEntity;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    @Repository\r\n    public interface DaoCore&lt;T extends BaseEntity,ID extends Integer&gt; extends \r\n    JpaRepository&lt;T,ID&gt; {\r\n    }\r\nAnd here is the **AbstractServiceCRUD** : \r\n\r\n    package com.game.server.core.base;\r\n\r\n    import com.game.server.core.dao.DaoCore;\r\n    import com.game.server.core.entity.BaseEntity;\r\n    import jakarta.transaction.Transactional;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.ArrayDeque;\r\n\r\n    @Service\r\n    @Slf4j(topic = &quot;AbstractServiceCRUD&quot;)\r\n    @Transactional(rollbackOn = RuntimeException.class)\r\n    @RequiredArgsConstructor\r\n    public class AbstractServiceCRUD&lt;T extends BaseEntity, ID extends Integer&gt; implements ServiceCore&lt;T, ID&gt; {\r\n        private final DaoCore&lt;T, ID&gt; daoCore;\r\n    \r\n        @Override\r\n        public T save(T bo) {\r\n            try {\r\n                log.info(&quot;saving data&quot;);\r\n                return daoCore.save(bo);\r\n            } catch (Exception e) {\r\n                log.error(&quot;error saving data&quot;, e);\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public T update(T bo, ID id) {\r\n            try {\r\n                if (!(id instanceof Integer)) {\r\n                    log.info(&quot;id is not instance Integer&quot;);\r\n                    return null;\r\n                }\r\n                boolean isExist = daoCore.existsById(id);\r\n                if (isExist) {\r\n                    log.info(&quot;updating data with id: {}&quot;, id);\r\n                    bo.preUpdate();\r\n                    return daoCore.save(bo);\r\n                }\r\n                log.info(&quot;data with id: {} not found&quot;, id);\r\n                return null;\r\n            } catch (Exception e) {\r\n                log.error(&quot;error updating data&quot;, e);\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public T delete(T bo) {\r\n            try {\r\n                ID id = (ID) bo.getId();\r\n                if (id != null) {\r\n                    log.info(&quot;deleting data with id: {}&quot;, id);\r\n                    daoCore.deleteById(id);\r\n                    return bo;\r\n                }\r\n                log.info(&quot;data with id: {} not found&quot;, id);\r\n                return null;\r\n            } catch (Exception e) {\r\n                log.error(&quot;error deleting data&quot;, e);\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public T findById(ID id) {\r\n            log.info(&quot;finding data with id: {}&quot;, id);\r\n            T bo = daoCore.findById(id).orElse(null);\r\n            if (bo != null) {\r\n                log.info(&quot;data with id: {} found&quot;, id);\r\n                return bo;\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public ArrayDeque&lt;T&gt; findAll() {\r\n            log.info(&quot;finding all data&quot;);\r\n            return new ArrayDeque&lt;&gt;(daoCore.findAll());\r\n        }\r\n    \r\n        @Override\r\n        public Page&lt;T&gt; findAll(Pageable pageable) {\r\n            log.info(&quot;finding all data with page {} and size {}&quot;, pageable.getPageNumber(), pageable.getPageSize());\r\n            return daoCore.findAll(pageable);\r\n        }\r\n    }\r\nand here is **AbstractControllerCRUD** :\r\n\r\n \r\n\r\n    package com.game.server.core.base;\r\n    \r\n    import com.game.server.core.entity.BaseEntity;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.ArrayDeque;\r\n    \r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    public class AbstractControllerCRUD&lt;T extends BaseEntity, ID extends Integer&gt; implements ServiceCore&lt;T, ID&gt;{\r\n        @Autowired\r\n        private AbstractServiceCRUD&lt;T, ID&gt; abstractServiceCRUD;\r\n    \r\n    \r\n        @PostMapping(&quot;/insert&quot;)\r\n        @Override\r\n        public T save(@RequestBody T bo) {\r\n            return abstractServiceCRUD.save(bo);\r\n        }\r\n    \r\n        @PostMapping(&quot;/update/{id}&quot;)\r\n        @Override\r\n        public T update( @RequestBody T bo,@PathVariable ID id) {\r\n            return abstractServiceCRUD.update(bo, id);\r\n        }\r\n    \r\n        @GetMapping(&quot;/delete/{id}&quot;)\r\n        @Override\r\n        public T delete(@RequestBody T bo) {\r\n            return abstractServiceCRUD.delete(bo);\r\n        }\r\n    \r\n        @GetMapping(&quot;/find/{id}&quot;)\r\n        @Override\r\n        public T findById(@PathVariable ID id) {\r\n            return abstractServiceCRUD.findById(id);\r\n        }\r\n    \r\n        @GetMapping(&quot;/findAll&quot;)\r\n        @Override\r\n        public ArrayDeque&lt;T&gt; findAll() {\r\n            return abstractServiceCRUD.findAll();\r\n        }\r\n    \r\n        @GetMapping(&quot;/findAllPage&quot;)\r\n        @Override\r\n        public Page&lt;T&gt; findAll(@RequestBody Pageable pageable) {\r\n            return abstractServiceCRUD.findAll(pageable);\r\n        }\r\n    }\r\nAnd here is **UserController** :\r\n\r\n    package com.game.server.core.endpoint;\r\n    \r\n    import com.game.server.core.base.AbstractControllerCRUD;\r\n    import com.game.server.core.entity.User;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/user&quot;)\r\n    public class UserController extends AbstractControllerCRUD&lt;User,Integer&gt; {\r\n    }\r\nand here is **application.properities** file : \r\n\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/nro\r\n    spring.datasource.username=root\r\n    spring.datasource.password=123456\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.properties.hibernate.use_sql_comments=true\r\n\r\nWhen I call to api : **/api/user/insert** it successfully adds no problem, but when I call to api : **/api/user/find/{id}**\r\nthen it will throw the following error: org.hibernate.UnknownEntityTypeException: ***Unable to locate entity descriptor: com.game.server.core.entity.BaseEntity***, \r\nI have used EntityScan to scan Entities but it is not possible, my purpose is not to want JPA to create a table for BaseEntity\r\n\r\n","title":"org.hibernate.UnknownEntityTypeException: Unable to locate entity descriptor: com.game.server.core.entity.BaseEntity","body":"<p>I have the following problem, specifically I have 1 <strong>BaseEntity</strong> declared:</p>\n<pre><code>package com.game.server.core.entity;\n\nimport jakarta.persistence.*;\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\n\n@MappedSuperclass\npublic abstract class BaseEntity implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected Integer id;\n\n    @Column(name = &quot;created_at&quot;, nullable = false, updatable = false)\n    protected LocalDateTime createdAt;\n\n    @Column(name = &quot;updated_at&quot;, nullable = false)\n    protected LocalDateTime updatedAt;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public BaseEntity() {\n         this.createdAt = LocalDateTime.now();\n         this.updatedAt = LocalDateTime.now();\n    }\n\n     @PreUpdate\n     public void preUpdate() {\n         this.updatedAt = LocalDateTime.now();\n     }\n }\n</code></pre>\n<p>and Entity class <strong>User</strong> :</p>\n<pre><code>package com.game.server.core.entity;\n\nimport jakarta.persistence.Entity;\nimport lombok.Data;\n\n@Entity\n@Data\npublic class User extends BaseEntity{\n    private String username;\n    private String password;\n}\n</code></pre>\n<p>And here is the <strong>DaoCore</strong> repository :</p>\n<pre><code>package com.game.server.core.dao;\n\nimport com.game.server.core.entity.BaseEntity;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n@Repository\npublic interface DaoCore&lt;T extends BaseEntity,ID extends Integer&gt; extends \nJpaRepository&lt;T,ID&gt; {\n}\n</code></pre>\n<p>And here is the <strong>AbstractServiceCRUD</strong> :</p>\n<pre><code>package com.game.server.core.base;\n\nimport com.game.server.core.dao.DaoCore;\nimport com.game.server.core.entity.BaseEntity;\nimport jakarta.transaction.Transactional;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayDeque;\n\n@Service\n@Slf4j(topic = &quot;AbstractServiceCRUD&quot;)\n@Transactional(rollbackOn = RuntimeException.class)\n@RequiredArgsConstructor\npublic class AbstractServiceCRUD&lt;T extends BaseEntity, ID extends Integer&gt; implements ServiceCore&lt;T, ID&gt; {\n    private final DaoCore&lt;T, ID&gt; daoCore;\n\n    @Override\n    public T save(T bo) {\n        try {\n            log.info(&quot;saving data&quot;);\n            return daoCore.save(bo);\n        } catch (Exception e) {\n            log.error(&quot;error saving data&quot;, e);\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    public T update(T bo, ID id) {\n        try {\n            if (!(id instanceof Integer)) {\n                log.info(&quot;id is not instance Integer&quot;);\n                return null;\n            }\n            boolean isExist = daoCore.existsById(id);\n            if (isExist) {\n                log.info(&quot;updating data with id: {}&quot;, id);\n                bo.preUpdate();\n                return daoCore.save(bo);\n            }\n            log.info(&quot;data with id: {} not found&quot;, id);\n            return null;\n        } catch (Exception e) {\n            log.error(&quot;error updating data&quot;, e);\n            throw new RuntimeException(e);\n        }\n    }\n\n\n    @Override\n    public T delete(T bo) {\n        try {\n            ID id = (ID) bo.getId();\n            if (id != null) {\n                log.info(&quot;deleting data with id: {}&quot;, id);\n                daoCore.deleteById(id);\n                return bo;\n            }\n            log.info(&quot;data with id: {} not found&quot;, id);\n            return null;\n        } catch (Exception e) {\n            log.error(&quot;error deleting data&quot;, e);\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    public T findById(ID id) {\n        log.info(&quot;finding data with id: {}&quot;, id);\n        T bo = daoCore.findById(id).orElse(null);\n        if (bo != null) {\n            log.info(&quot;data with id: {} found&quot;, id);\n            return bo;\n        }\n        return null;\n    }\n\n    @Override\n    public ArrayDeque&lt;T&gt; findAll() {\n        log.info(&quot;finding all data&quot;);\n        return new ArrayDeque&lt;&gt;(daoCore.findAll());\n    }\n\n    @Override\n    public Page&lt;T&gt; findAll(Pageable pageable) {\n        log.info(&quot;finding all data with page {} and size {}&quot;, pageable.getPageNumber(), pageable.getPageSize());\n        return daoCore.findAll(pageable);\n    }\n}\n</code></pre>\n<p>and here is <strong>AbstractControllerCRUD</strong> :</p>\n<pre><code>package com.game.server.core.base;\n\nimport com.game.server.core.entity.BaseEntity;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.ArrayDeque;\n\n@RestController\n@RequiredArgsConstructor\npublic class AbstractControllerCRUD&lt;T extends BaseEntity, ID extends Integer&gt; implements ServiceCore&lt;T, ID&gt;{\n    @Autowired\n    private AbstractServiceCRUD&lt;T, ID&gt; abstractServiceCRUD;\n\n\n    @PostMapping(&quot;/insert&quot;)\n    @Override\n    public T save(@RequestBody T bo) {\n        return abstractServiceCRUD.save(bo);\n    }\n\n    @PostMapping(&quot;/update/{id}&quot;)\n    @Override\n    public T update( @RequestBody T bo,@PathVariable ID id) {\n        return abstractServiceCRUD.update(bo, id);\n    }\n\n    @GetMapping(&quot;/delete/{id}&quot;)\n    @Override\n    public T delete(@RequestBody T bo) {\n        return abstractServiceCRUD.delete(bo);\n    }\n\n    @GetMapping(&quot;/find/{id}&quot;)\n    @Override\n    public T findById(@PathVariable ID id) {\n        return abstractServiceCRUD.findById(id);\n    }\n\n    @GetMapping(&quot;/findAll&quot;)\n    @Override\n    public ArrayDeque&lt;T&gt; findAll() {\n        return abstractServiceCRUD.findAll();\n    }\n\n    @GetMapping(&quot;/findAllPage&quot;)\n    @Override\n    public Page&lt;T&gt; findAll(@RequestBody Pageable pageable) {\n        return abstractServiceCRUD.findAll(pageable);\n    }\n}\n</code></pre>\n<p>And here is <strong>UserController</strong> :</p>\n<pre><code>package com.game.server.core.endpoint;\n\nimport com.game.server.core.base.AbstractControllerCRUD;\nimport com.game.server.core.entity.User;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserController extends AbstractControllerCRUD&lt;User,Integer&gt; {\n}\n</code></pre>\n<p>and here is <strong>application.properities</strong> file :</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/nro\nspring.datasource.username=root\nspring.datasource.password=123456\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.use_sql_comments=true\n</code></pre>\n<p>When I call to api : <strong>/api/user/insert</strong> it successfully adds no problem, but when I call to api : <strong>/api/user/find/{id}</strong>\nthen it will throw the following error: org.hibernate.UnknownEntityTypeException: <em><strong>Unable to locate entity descriptor: com.game.server.core.entity.BaseEntity</strong></em>,\nI have used EntityScan to scan Entities but it is not possible, my purpose is not to want JPA to create a table for BaseEntity</p>\n"},{"tags":["java","arrays","collections","java-stream"],"comments":[{"owner":{"account_id":1974002,"reputation":504,"user_id":1772219,"display_name":"Eduardo Meneses"},"score":1,"creation_date":1542127585,"post_id":53285724,"comment_id":93453535,"body_markdown":"Here you can find it: https://stackoverflow.com/questions/23079003/how-to-convert-a-java-8-stream-to-an-array","body":"Here you can find it: <a href=\"https://stackoverflow.com/questions/23079003/how-to-convert-a-java-8-stream-to-an-array\" title=\"how to convert a java 8 stream to an array\">stackoverflow.com/questions/23079003/&hellip;</a>"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1542145787,"post_id":53285724,"comment_id":93461806,"body_markdown":"@nullpointer, this is not a duplicate. Please explain how this is a duplicate. I know how to convert a stream to an array. I&#39;m asking how to most efficiently create stream to an array with the added restrictions that the `Collections.toArray(T[] array)` provides. Did you read that part of the question?","body":"@nullpointer, this is not a duplicate. Please explain how this is a duplicate. I know how to convert a stream to an array. I&#39;m asking how to most efficiently create stream to an array with the added restrictions that the <code>Collections.toArray(T[] array)</code> provides. Did you read that part of the question?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1542146963,"post_id":53285724,"comment_id":93462231,"body_markdown":"The easiest way would be for your collection to extend AbstractCollection, and let the default implementation do its job.","body":"The easiest way would be for your collection to extend AbstractCollection, and let the default implementation do its job."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1542147187,"post_id":53285724,"comment_id":93462317,"body_markdown":"If performance is not a major concern, you can defer to the JDK: `getStream().collect(Collectors.toList()).toArray(array)`","body":"If performance is not a major concern, you can defer to the JDK: <code>getStream().collect(Collectors.toList()).toArray(array)</code>"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1542269400,"post_id":53285724,"comment_id":93509974,"body_markdown":"OK so may I ask why you need that? Holger already said in his answer what happens in java-11, you can even read the answer from the method creator [himself](https://stackoverflow.com/questions/51902362/collections-emptylist-singleton-singletonlist-list-set-toarray)... so why would you need that?","body":"OK so may I ask why you need that? Holger already said in his answer what happens in java-11, you can even read the answer from the method creator <a href=\"https://stackoverflow.com/questions/51902362/collections-emptylist-singleton-singletonlist-list-set-toarray\">himself</a>... so why would you need that?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1542304084,"post_id":53285724,"comment_id":93530855,"body_markdown":"&quot;OK so may I ask why you need that?&quot; Because it&#39;s the contract of `Collection.toArray()`. I didn&#39;t invent it. Every `Collection` must implement that method according to the API contract.","body":"&quot;OK so may I ask why you need that?&quot; Because it&#39;s the contract of <code>Collection.toArray()</code>. I didn&#39;t invent it. Every <code>Collection</code> must implement that method according to the API contract."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1542304551,"post_id":53285724,"comment_id":93531095,"body_markdown":"Why don&#39;t you extend AbstractCollection?","body":"Why don&#39;t you extend AbstractCollection?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1542329502,"post_id":53285724,"comment_id":93540153,"body_markdown":"Everyone, thank you for the suggestion to extend `AbstractCollection`. I am aware of that option. Now does anyone have an answer to the question?","body":"Everyone, thank you for the suggestion to extend <code>AbstractCollection</code>. I am aware of that option. Now does anyone have an answer to the question?"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542225082,"creation_date":1542225082,"answer_id":53307798,"question_id":53285724,"body_markdown":"A very recommended read is the article [Arrays of Wisdom of the Ancients](https://shipilev.net/blog/2016/arrays-wisdom-ancients/).\r\n\r\nIn short, contrary to intuition, passing a pre-sized array to the `Collections.toArray(T[])` method turns out to be less efficient than passing a zero sized array, which only serves to determine the result type but lets the collection allocate the result array.\r\n\r\nThat’s why Java&#160;11’s new `default` method [`&lt;T&gt; T[] toArray​(IntFunction&lt;T[]&gt; generator)`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)) does not use the function to allocate an array of the collection’s size but rather to allocate a zero sized array to be passed to `&lt;T&gt; T[] toArray​(T[] a)`.\r\n\r\nSo it’s worth rethinking whether you really want such a contract for a method or which actual use cases you really want to optimize for (as you can’t serve all at once).\r\n\r\nE.g. considering that passing a zero sized array is the most efficient choice anyway, you could optimize for exactly that case\r\n\r\n    @Override\r\n    public &lt;T&gt; T[] toArray(T[] array) {\r\n        T[] template = array.length == 0? array: Arrays.copyOf(array, 0);\r\n        try(Stream&lt;FooBar&gt; stream = getStream()) {\r\n            T[] result = stream.map(converter::toT)\r\n                .toArray(length -&gt; Arrays.copyOf(template, length));\r\n            if(result.length &gt; array.length) return result;\r\n            System.arraycopy(result, 0, array, 0, result.length);\r\n            if(result.length &lt; array.length) array[result.length] = null;\r\n            return array;\r\n        }\r\n    }\r\n\r\nNote that when you have to implement that method because you’re implementing a `Collection`, there are plenty of helpful abstract base classes in the JDK which provide an implementation already.\r\n\r\nYou could even utilize such an implementation when you are not implementing a collection, e.g.\r\n\r\n    public &lt;T&gt; T[] toArray(T[] array) {\r\n        try(final Stream&lt;FooBar&gt; stream = getStream()) {\r\n            return new AbstractCollection&lt;XYZ&gt;() {\r\n                public Iterator&lt;XYZ&gt; iterator() {\r\n                    return stream.map(converter::toT).iterator();\r\n                }\r\n                public int size() { return 0; } // don&#39;t know beforehand\r\n            }.toArray(array);\r\n        }\r\n    }\r\nYou have to replace `XYZ` with the return type of the `converter.toT(FooBar)` method.\r\n\r\nWhich leads to the bigger question, how `converter::toT` is supposed to convert to the right type without actually knowing what `T` is.\r\n","title":"Converting Java stream to array as per Collection.toArray(T[] array) contract","body":"<p>A very recommended read is the article <a href=\"https://shipilev.net/blog/2016/arrays-wisdom-ancients/\" rel=\"nofollow noreferrer\">Arrays of Wisdom of the Ancients</a>.</p>\n\n<p>In short, contrary to intuition, passing a pre-sized array to the <code>Collections.toArray(T[])</code> method turns out to be less efficient than passing a zero sized array, which only serves to determine the result type but lets the collection allocate the result array.</p>\n\n<p>That’s why Java 11’s new <code>default</code> method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)\" rel=\"nofollow noreferrer\"><code>&lt;T&gt; T[] toArray​(IntFunction&lt;T[]&gt; generator)</code></a> does not use the function to allocate an array of the collection’s size but rather to allocate a zero sized array to be passed to <code>&lt;T&gt; T[] toArray​(T[] a)</code>.</p>\n\n<p>So it’s worth rethinking whether you really want such a contract for a method or which actual use cases you really want to optimize for (as you can’t serve all at once).</p>\n\n<p>E.g. considering that passing a zero sized array is the most efficient choice anyway, you could optimize for exactly that case</p>\n\n<pre><code>@Override\npublic &lt;T&gt; T[] toArray(T[] array) {\n    T[] template = array.length == 0? array: Arrays.copyOf(array, 0);\n    try(Stream&lt;FooBar&gt; stream = getStream()) {\n        T[] result = stream.map(converter::toT)\n            .toArray(length -&gt; Arrays.copyOf(template, length));\n        if(result.length &gt; array.length) return result;\n        System.arraycopy(result, 0, array, 0, result.length);\n        if(result.length &lt; array.length) array[result.length] = null;\n        return array;\n    }\n}\n</code></pre>\n\n<p>Note that when you have to implement that method because you’re implementing a <code>Collection</code>, there are plenty of helpful abstract base classes in the JDK which provide an implementation already.</p>\n\n<p>You could even utilize such an implementation when you are not implementing a collection, e.g.</p>\n\n<pre><code>public &lt;T&gt; T[] toArray(T[] array) {\n    try(final Stream&lt;FooBar&gt; stream = getStream()) {\n        return new AbstractCollection&lt;XYZ&gt;() {\n            public Iterator&lt;XYZ&gt; iterator() {\n                return stream.map(converter::toT).iterator();\n            }\n            public int size() { return 0; } // don't know beforehand\n        }.toArray(array);\n    }\n}\n</code></pre>\n\n<p>You have to replace <code>XYZ</code> with the return type of the <code>converter.toT(FooBar)</code> method.</p>\n\n<p>Which leads to the bigger question, how <code>converter::toT</code> is supposed to convert to the right type without actually knowing what <code>T</code> is.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":1,"score":0,"last_activity_date":1681751115,"creation_date":1542127430,"question_id":53285724,"body_markdown":"I know that the Java `Stream&lt;&gt;` interface provides several ways to convert a stream to an array. But the `Collection.toArray(T[] array)` method is a little different. It has a few clever (at the time) requirements, including:\r\n\r\n* If the array you pass is big enough, the array you pass must be used; otherwise a new one must be created.\r\n* If the array is bigger than necessary, `null` must be added after the last element.\r\n\r\nSo if my `Collection&lt;T&gt;` implementation retrieves its values from some `Stream&lt;FooBar&gt;` (with a converter strategy that converts to `T`, how can I convert from my stream to the array required by `Collection.toArray(T[] array)`?\r\n\r\nWithout a lot of thought, it would seem I have to do this:\r\n\r\n    @Override\r\n    public &lt;T&gt; T[] toArray(T[] array) {\r\n      try (final Stream&lt;FooBar&gt; stream = getStream()) {\r\n        T[] result = stream.map(converter::toT).toArray(length -&gt;\r\n            (T[])Array.newInstance(array.getClass(), length));\r\n        if(result.length &lt;= array.length) {\r\n          System.arraycopy(result, 0, array, 0, result.length);\r\n          if(result.length &lt; array.length) {\r\n            array[result.length] = null;\r\n          }\r\n          result = array;\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\nBut is there some more concise way to do this? Is there some way I could transfer the stream directly into the given array if possible? And does the `Stream&lt;&gt;` API already provide for something like this: creating an array as the `Collection&lt;&gt;.toArray(T[] array)` API expects?\r\n\r\nResponse to possible duplicates\r\n---\r\n\r\nI know how to convert a stream to an array. This question is very specific: how to follow the contract of `Collection.toArray(T[] array)`. I don&#39;t think this is a duplicate, for two reasons: the other answers do not re-use an existing array if it is big enough, and they don&#39;t mark an element with `null` if the existing array is too big.\r\n","title":"Converting Java stream to array as per Collection.toArray(T[] array) contract","body":"<p>I know that the Java <code>Stream&lt;&gt;</code> interface provides several ways to convert a stream to an array. But the <code>Collection.toArray(T[] array)</code> method is a little different. It has a few clever (at the time) requirements, including:</p>\n<ul>\n<li>If the array you pass is big enough, the array you pass must be used; otherwise a new one must be created.</li>\n<li>If the array is bigger than necessary, <code>null</code> must be added after the last element.</li>\n</ul>\n<p>So if my <code>Collection&lt;T&gt;</code> implementation retrieves its values from some <code>Stream&lt;FooBar&gt;</code> (with a converter strategy that converts to <code>T</code>, how can I convert from my stream to the array required by <code>Collection.toArray(T[] array)</code>?</p>\n<p>Without a lot of thought, it would seem I have to do this:</p>\n<pre><code>@Override\npublic &lt;T&gt; T[] toArray(T[] array) {\n  try (final Stream&lt;FooBar&gt; stream = getStream()) {\n    T[] result = stream.map(converter::toT).toArray(length -&gt;\n        (T[])Array.newInstance(array.getClass(), length));\n    if(result.length &lt;= array.length) {\n      System.arraycopy(result, 0, array, 0, result.length);\n      if(result.length &lt; array.length) {\n        array[result.length] = null;\n      }\n      result = array;\n    }\n  }\n  return result;\n}\n</code></pre>\n<p>But is there some more concise way to do this? Is there some way I could transfer the stream directly into the given array if possible? And does the <code>Stream&lt;&gt;</code> API already provide for something like this: creating an array as the <code>Collection&lt;&gt;.toArray(T[] array)</code> API expects?</p>\n<h2>Response to possible duplicates</h2>\n<p>I know how to convert a stream to an array. This question is very specific: how to follow the contract of <code>Collection.toArray(T[] array)</code>. I don't think this is a duplicate, for two reasons: the other answers do not re-use an existing array if it is big enough, and they don't mark an element with <code>null</code> if the existing array is too big.</p>\n"},{"tags":["java","web-applications","jar","runtime","classloader"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681751027,"creation_date":1681751027,"answer_id":76037594,"question_id":75953991,"body_markdown":"You have added a method to your custom class loader to load a single class on your own request. However, if the plugin consists of more than one class, i.e. the class you’re trying to load has dependencies to other classes within the plugin, the JVM will request those classes from your loader. Those requests won’t use your `loadPluginClass` method which the JVM can’t know. Instead, it will invoke the inherited method [`loadClass(String name, boolean resolve)`].\r\n\r\nSince you didn’t override neither this method nor the [`findClass(String name)`] method (which would be the preferred way), this method will throw a `ClassNotFoundException` for every class not found through the parent loader. A failure to resolve a dependency may cause a failure for the dependent class, so even your initial call to `loadPluginClass` can fail with a `ClassNotFoundException` at the `defineClass` call.\r\n\r\nSince you said that you are using jar files for your plugins, there is no need to implement your own `ClassLoader` at all. Just use the already existing [`URLClassLoader`] and pass the `URL` of the jar file to the constructor. Or subclass it, to be able to call [`addURL`] on it. Mind that the correct way to convert a `File` to a `URL` is to call `toURI().toURL()` on the `File` object instead of `toURL()`, to avoid problems with spaces or other special characters in path names.\r\n\r\nFurther keep in mind to specify your main application’s loader as parent loader when the main application has not been loaded through the [default application class loader].\r\n\r\n[`loadClass(String name, boolean resolve)`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#loadClass(java.lang.String,boolean)\r\n[`findClass(String name)`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#findClass(java.lang.String)\r\n[`URLClassLoader`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URLClassLoader.html\r\n[`addURL`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URLClassLoader.html#addURL(java.net.URL)\r\n[default application class loader]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#getSystemClassLoader()","title":"How can I implement a custom class loader in Java that dynamically loads and executes Java code at runtime?","body":"<p>You have added a method to your custom class loader to load a single class on your own request. However, if the plugin consists of more than one class, i.e. the class you’re trying to load has dependencies to other classes within the plugin, the JVM will request those classes from your loader. Those requests won’t use your <code>loadPluginClass</code> method which the JVM can’t know. Instead, it will invoke the inherited method <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#loadClass(java.lang.String,boolean)\" rel=\"nofollow noreferrer\"><code>loadClass(String name, boolean resolve)</code></a>.</p>\n<p>Since you didn’t override neither this method nor the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#findClass(java.lang.String)\" rel=\"nofollow noreferrer\"><code>findClass(String name)</code></a> method (which would be the preferred way), this method will throw a <code>ClassNotFoundException</code> for every class not found through the parent loader. A failure to resolve a dependency may cause a failure for the dependent class, so even your initial call to <code>loadPluginClass</code> can fail with a <code>ClassNotFoundException</code> at the <code>defineClass</code> call.</p>\n<p>Since you said that you are using jar files for your plugins, there is no need to implement your own <code>ClassLoader</code> at all. Just use the already existing <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URLClassLoader.html\" rel=\"nofollow noreferrer\"><code>URLClassLoader</code></a> and pass the <code>URL</code> of the jar file to the constructor. Or subclass it, to be able to call <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/URLClassLoader.html#addURL(java.net.URL)\" rel=\"nofollow noreferrer\"><code>addURL</code></a> on it. Mind that the correct way to convert a <code>File</code> to a <code>URL</code> is to call <code>toURI().toURL()</code> on the <code>File</code> object instead of <code>toURL()</code>, to avoid problems with spaces or other special characters in path names.</p>\n<p>Further keep in mind to specify your main application’s loader as parent loader when the main application has not been loaded through the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#getSystemClassLoader()\" rel=\"nofollow noreferrer\">default application class loader</a>.</p>\n"}],"owner":{"display_name":"user15773347"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76037594,"answer_count":1,"score":0,"last_activity_date":1681751027,"creation_date":1680817374,"question_id":75953991,"body_markdown":"I am building a Java-based application that needs to dynamically load and execute plugin classes at runtime. Each plugin is represented by a separate Java class file that implements a common interface Plugin. To achieve this, I need to implement a custom class loader (PluginClassLoader) that can load and instantiate plugin classes from external JAR files.\r\n\r\nI tried implementing a custom class loader in my Java-based application to dynamically load and execute plugin classes at runtime. I expected the plugin classes to be successfully loaded and instantiated from external JAR files, and for them to be available for execution within my application&#39;s context.\r\n\r\nHere&#39;s an example of my attemted custom class loader:\r\n\r\n```java\r\npublic class PluginClassLoader extends ClassLoader {\r\n\r\n    public Class&lt;?&gt; loadPluginClass(String pluginFilePath) throws IOException {\r\n        byte[] pluginBytes = readPluginFile(pluginFilePath);\r\n        return defineClass(null, pluginBytes, 0, pluginBytes.length);\r\n    }\r\n\r\n    private byte[] readPluginFile(String pluginFilePath) throws IOException {\r\n        // Code to read the plugin file from external JAR\r\n    }\r\n}\r\n```\r\nI expected that the loadPluginClass method would load the plugin class from the specified file path and return a `Class` object that I could then use to instantiate and execute the plugin. However, when I tested it, I encountered class loading issues and `ClassNotFoundExceptions` for the plugin classes that I tried to load.","title":"How can I implement a custom class loader in Java that dynamically loads and executes Java code at runtime?","body":"<p>I am building a Java-based application that needs to dynamically load and execute plugin classes at runtime. Each plugin is represented by a separate Java class file that implements a common interface Plugin. To achieve this, I need to implement a custom class loader (PluginClassLoader) that can load and instantiate plugin classes from external JAR files.</p>\n<p>I tried implementing a custom class loader in my Java-based application to dynamically load and execute plugin classes at runtime. I expected the plugin classes to be successfully loaded and instantiated from external JAR files, and for them to be available for execution within my application's context.</p>\n<p>Here's an example of my attemted custom class loader:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PluginClassLoader extends ClassLoader {\n\n    public Class&lt;?&gt; loadPluginClass(String pluginFilePath) throws IOException {\n        byte[] pluginBytes = readPluginFile(pluginFilePath);\n        return defineClass(null, pluginBytes, 0, pluginBytes.length);\n    }\n\n    private byte[] readPluginFile(String pluginFilePath) throws IOException {\n        // Code to read the plugin file from external JAR\n    }\n}\n</code></pre>\n<p>I expected that the loadPluginClass method would load the plugin class from the specified file path and return a <code>Class</code> object that I could then use to instantiate and execute the plugin. However, when I tested it, I encountered class loading issues and <code>ClassNotFoundExceptions</code> for the plugin classes that I tried to load.</p>\n"},{"tags":["java","android","android-studio","sdk","emulation"],"answers":[{"tags":[],"owner":{"account_id":14870166,"reputation":470,"user_id":10766511,"display_name":"Nikita Shadkov"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1681750310,"creation_date":1681750310,"answer_id":76037491,"question_id":76037490,"body_markdown":"Basically what I had to do is install &quot;Additional Windows Features&quot;, which is weird because I&#39;m having Windows 10 Pro N version.\r\n\r\nTo install you go through Settings -&gt; Apps -&gt; Apps &amp; features tab -&gt; Optional features -&gt; Add a feature -&gt; Media Feature Pack. \r\n\r\nSearch for it and after installation it will work fine :)","title":"The emulator process for AVD was terminated 1073741515 (0xc0000135). MFPlat.DLL was not found","body":"<p>Basically what I had to do is install &quot;Additional Windows Features&quot;, which is weird because I'm having Windows 10 Pro N version.</p>\n<p>To install you go through Settings -&gt; Apps -&gt; Apps &amp; features tab -&gt; Optional features -&gt; Add a feature -&gt; Media Feature Pack.</p>\n<p>Search for it and after installation it will work fine :)</p>\n"}],"owner":{"account_id":14870166,"reputation":470,"user_id":10766511,"display_name":"Nikita Shadkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76037491,"answer_count":1,"score":2,"last_activity_date":1681750623,"creation_date":1681750310,"question_id":76037490,"body_markdown":"My Emulator just stopped opening after Android Studio update or after some development kit installations just showing &quot;The emulator process for AVD was terminated&quot;. It was working fine before update.\r\n\r\nIt is not memory problem because I have a lot of free space.\r\n\r\nI took Error code from idea.log (C:\\Users\\YourUserName\\AppData\\Local\\Google\\AndroidStudio2020.3\\log\\idea.log)","title":"The emulator process for AVD was terminated 1073741515 (0xc0000135). MFPlat.DLL was not found","body":"<p>My Emulator just stopped opening after Android Studio update or after some development kit installations just showing &quot;The emulator process for AVD was terminated&quot;. It was working fine before update.</p>\n<p>It is not memory problem because I have a lot of free space.</p>\n<p>I took Error code from idea.log (C:\\Users\\YourUserName\\AppData\\Local\\Google\\AndroidStudio2020.3\\log\\idea.log)</p>\n"},{"tags":["java","format","messageformat"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1681769144,"post_id":76037501,"comment_id":134107529,"body_markdown":"Have you read the documentation of [MessageFormat](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/MessageFormat.html) and [ChoiceFormat](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/ChoiceFormat.html)?","body":"Have you read the documentation of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/MessageFormat.html\" rel=\"nofollow noreferrer\">MessageFormat</a> and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/text/ChoiceFormat.html\" rel=\"nofollow noreferrer\">ChoiceFormat</a>?"}],"owner":{"account_id":26437204,"reputation":11,"user_id":20082381,"display_name":"Ma Ti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681750386,"creation_date":1681750386,"question_id":76037501,"body_markdown":"It&#39;s my first time with MessageFormat class, and I&#39;m confuse.\r\n\r\nI have that method which print result from my Stock list.I had IllegalArgumentException, I had to add one &quot;null&quot; to\r\n\r\n```\r\nFormat[] testFormats = {null, null, dateFormat, fileform};\r\n```\r\n\r\nNow it&#39;s works, but I don&#39;t understand this structure.\r\n\r\n```\r\npublic static void printStocks(List&lt;Stock&gt; stocks, Date actualDate) {\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n\r\n        double[] filelimits = {0d, actualDate.getTime()};\r\n        String[] filepart = {&quot;change {4}&quot;, &quot;open {2} and last {3}&quot;};\r\n\r\n        ChoiceFormat fileform = new ChoiceFormat(filelimits, filepart);\r\n        Format[] testFormats = {null, null, dateFormat, fileform};\r\n        MessageFormat pattform = new MessageFormat(&quot;{0}    {1} | {5} {6}&quot;);\r\n\r\n        pattform.setFormats(testFormats);\r\n\r\n        Object[] testArgs = {name, symbol, open, last, change, date, date.getTime()};\r\n```\r\n\r\n```\r\npublic static class Stock extends HashMap&lt;String, Object&gt; {\r\n        public Stock(String name, String symbol, double open, double last) {\r\n            put(&quot;name&quot;, name);\r\n            put(&quot;symbol&quot;, symbol);\r\n            put(&quot;open&quot;, open);\r\n            put(&quot;last&quot;, last);\r\n            put(&quot;date&quot;, getRandomDate(2020));\r\n        }\r\n\r\n        public Stock(String name, String symbol, double change, Date date) {\r\n            put(&quot;name&quot;, name);\r\n            put(&quot;symbol&quot;, symbol);\r\n            put(&quot;date&quot;, date);\r\n            put(&quot;change&quot;, change);\r\n        }\r\n    }\r\n```\r\n\r\nExample output:\r\n\r\n```\r\nApple Inc.    AAPL | 20-09-2047 open 125.64 and last 123.43\r\nFake Applied Materials, Inc.   AMAT | 15-01-1983 change 0.26\r\n```\r\n\r\nI suppose that {0} is related to &quot;name&quot;, {1} to &quot;symbol&quot;, {5} and {6} are correlated somehow with ChoiseFormat object which decide to use version from\r\n\r\n```\r\nString[] filepart = {&quot;change {4}&quot;, &quot;open {2} and last {3}&quot;};\r\n```\r\n\r\nand  Format\\[\\] testFormats four elements I suppose are correlated with four elements\r\n\r\n```\r\n(&quot;{0}    {1} | {5} {6}&quot;)\r\n```\r\n\r\nHow to grasp and better understand connection and cooperation ChoiceFormat with MessageFormat?","title":"Problem with correlation between MessageFormat and ChoiceFormat with usage Format[] objects","body":"<p>It's my first time with MessageFormat class, and I'm confuse.</p>\n<p>I have that method which print result from my Stock list.I had IllegalArgumentException, I had to add one &quot;null&quot; to</p>\n<pre><code>Format[] testFormats = {null, null, dateFormat, fileform};\n</code></pre>\n<p>Now it's works, but I don't understand this structure.</p>\n<pre><code>public static void printStocks(List&lt;Stock&gt; stocks, Date actualDate) {\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n\n        double[] filelimits = {0d, actualDate.getTime()};\n        String[] filepart = {&quot;change {4}&quot;, &quot;open {2} and last {3}&quot;};\n\n        ChoiceFormat fileform = new ChoiceFormat(filelimits, filepart);\n        Format[] testFormats = {null, null, dateFormat, fileform};\n        MessageFormat pattform = new MessageFormat(&quot;{0}    {1} | {5} {6}&quot;);\n\n        pattform.setFormats(testFormats);\n\n        Object[] testArgs = {name, symbol, open, last, change, date, date.getTime()};\n</code></pre>\n<pre><code>public static class Stock extends HashMap&lt;String, Object&gt; {\n        public Stock(String name, String symbol, double open, double last) {\n            put(&quot;name&quot;, name);\n            put(&quot;symbol&quot;, symbol);\n            put(&quot;open&quot;, open);\n            put(&quot;last&quot;, last);\n            put(&quot;date&quot;, getRandomDate(2020));\n        }\n\n        public Stock(String name, String symbol, double change, Date date) {\n            put(&quot;name&quot;, name);\n            put(&quot;symbol&quot;, symbol);\n            put(&quot;date&quot;, date);\n            put(&quot;change&quot;, change);\n        }\n    }\n</code></pre>\n<p>Example output:</p>\n<pre><code>Apple Inc.    AAPL | 20-09-2047 open 125.64 and last 123.43\nFake Applied Materials, Inc.   AMAT | 15-01-1983 change 0.26\n</code></pre>\n<p>I suppose that {0} is related to &quot;name&quot;, {1} to &quot;symbol&quot;, {5} and {6} are correlated somehow with ChoiseFormat object which decide to use version from</p>\n<pre><code>String[] filepart = {&quot;change {4}&quot;, &quot;open {2} and last {3}&quot;};\n</code></pre>\n<p>and  Format[] testFormats four elements I suppose are correlated with four elements</p>\n<pre><code>(&quot;{0}    {1} | {5} {6}&quot;)\n</code></pre>\n<p>How to grasp and better understand connection and cooperation ChoiceFormat with MessageFormat?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1681749195,"post_id":76037311,"comment_id":134103542,"body_markdown":"`getData` doesn&#39;t contain functions. It contains `String`, which is not a function. If it contained something callable like a [`Function`](https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html), then you could invoke the `apply` method on *that* to call it.","body":"<code>getData</code> doesn&#39;t contain functions. It contains <code>String</code>, which is not a function. If it contained something callable like a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"nofollow noreferrer\"><code>Function</code></a>, then you could invoke the <code>apply</code> method on <i>that</i> to call it."}],"answers":[{"tags":[],"owner":{"account_id":1307115,"reputation":22745,"user_id":1255873,"accept_rate":86,"display_name":"Abion47"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1681749909,"creation_date":1681749494,"answer_id":76037395,"question_id":76037311,"body_markdown":"You can use the `Function` type to use a function as a variable and then store instances of functions within the map that you can retrieve and call dynamically. For example:\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.util.function.Function;\r\n\r\nclass Main {  \r\n  public static void main(String args[]) { \r\n    // Using method references\r\n    Map&lt;String, Function&lt;String, String&gt;&gt; map = Map.ofEntries(\r\n      Map.entry(&quot;a&quot;, Main::a),\r\n      Map.entry(&quot;b&quot;, Main::b)\r\n    );\r\n\r\n    // Alternatively, using lambdas\r\n    // Map&lt;String, Function&lt;String, String&gt;&gt; map = Map.ofEntries(\r\n    //   Map.entry(&quot;a&quot;, (s) -&gt; s + &quot;a&quot;),\r\n    //   Map.entry(&quot;b&quot;, (s) -&gt; s + &quot;b&quot;)\r\n    // );\r\n\r\n    System.out.println(map.get(&quot;a&quot;).apply(&quot;test&quot;));\r\n  }\r\n\r\n  public static String a(String s) {\r\n    return s + &quot;a&quot;;\r\n  }\r\n\r\n  public static String b(String s) {\r\n    return s + &quot;b&quot;;\r\n  }\r\n}\r\n```","title":"Is it possible to pass an argument into a map in Java?","body":"<p>You can use the <code>Function</code> type to use a function as a variable and then store instances of functions within the map that you can retrieve and call dynamically. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.function.Function;\n\nclass Main {  \n  public static void main(String args[]) { \n    // Using method references\n    Map&lt;String, Function&lt;String, String&gt;&gt; map = Map.ofEntries(\n      Map.entry(&quot;a&quot;, Main::a),\n      Map.entry(&quot;b&quot;, Main::b)\n    );\n\n    // Alternatively, using lambdas\n    // Map&lt;String, Function&lt;String, String&gt;&gt; map = Map.ofEntries(\n    //   Map.entry(&quot;a&quot;, (s) -&gt; s + &quot;a&quot;),\n    //   Map.entry(&quot;b&quot;, (s) -&gt; s + &quot;b&quot;)\n    // );\n\n    System.out.println(map.get(&quot;a&quot;).apply(&quot;test&quot;));\n  }\n\n  public static String a(String s) {\n    return s + &quot;a&quot;;\n  }\n\n  public static String b(String s) {\n    return s + &quot;b&quot;;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2772246,"reputation":1263,"user_id":2386620,"accept_rate":66,"display_name":"adbarads"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76037395,"answer_count":1,"score":0,"last_activity_date":1681749909,"creation_date":1681748953,"question_id":76037311,"body_markdown":"I would like to pass a value `someValue`, into this Map. And was wondering if there was a way to do this.\r\nThe idea is to call the `getData.get(&quot;code&quot;)(someValue)` It would call a function and pass in the correct value.\r\n```\r\nprivate static final Map&lt;String, String&gt; getData = Map.ofEntries(\r\n  Map.entry(&quot;code&quot;, someSearch.getCode(someValue)), \r\n  Map.entry(&quot;foo&quot;, someSearch.bar(anotherValue)\r\n);\r\n\r\n\r\ngetData.get(&quot;code&quot;);\r\n\r\n```\r\n","title":"Is it possible to pass an argument into a map in Java?","body":"<p>I would like to pass a value <code>someValue</code>, into this Map. And was wondering if there was a way to do this.\nThe idea is to call the <code>getData.get(&quot;code&quot;)(someValue)</code> It would call a function and pass in the correct value.</p>\n<pre><code>private static final Map&lt;String, String&gt; getData = Map.ofEntries(\n  Map.entry(&quot;code&quot;, someSearch.getCode(someValue)), \n  Map.entry(&quot;foo&quot;, someSearch.bar(anotherValue)\n);\n\n\ngetData.get(&quot;code&quot;);\n\n</code></pre>\n"},{"tags":["java","spring-boot","mockito","junit4","spring-boot-test"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681738549,"post_id":76035740,"comment_id":134100638,"body_markdown":"Don&#39;t. Use the Spring environment abstraction and then you can pass it simply with `@TestPropertySource`.","body":"Don&#39;t. Use the Spring environment abstraction and then you can pass it simply with <code>@TestPropertySource</code>."},{"owner":{"account_id":26073403,"reputation":13,"user_id":19772668,"display_name":"Vijay"},"score":0,"creation_date":1681738901,"post_id":76035740,"comment_id":134100745,"body_markdown":"@M.Deinum Could you please elaborate the statement. how to use Spring environment abstraction in this scenario","body":"@M.Deinum Could you please elaborate the statement. how to use Spring environment abstraction in this scenario"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681739050,"post_id":76035740,"comment_id":134100772,"body_markdown":"Inject the `Environment` and use that to get the property, that will eventually also check the environbment. Generally when you are calling `System.getenv` or `System.getProperty` you are doing it wrong (at least in a Spring application).","body":"Inject the <code>Environment</code> and use that to get the property, that will eventually also check the environbment. Generally when you are calling <code>System.getenv</code> or <code>System.getProperty</code> you are doing it wrong (at least in a Spring application)."},{"owner":{"account_id":26073403,"reputation":13,"user_id":19772668,"display_name":"Vijay"},"score":0,"creation_date":1681740645,"post_id":76035740,"comment_id":134101231,"body_markdown":"Tried this but getting same result. without setting the environment variable also this test case should pass","body":"Tried this but getting same result. without setting the environment variable also this test case should pass"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681740996,"post_id":76035740,"comment_id":134101343,"body_markdown":"Please read... If you use the `Environment` you can just add an `@TestPropertySource` to set the property. It will then override any set environment property or use it if not set.","body":"Please read... If you use the <code>Environment</code> you can just add an <code>@TestPropertySource</code> to set the property. It will then override any set environment property or use it if not set."},{"owner":{"account_id":26073403,"reputation":13,"user_id":19772668,"display_name":"Vijay"},"score":0,"creation_date":1681742256,"post_id":76035740,"comment_id":134101711,"body_markdown":"You mean like this ?? \n`\n@RunWith(SpringRunner.class)\n@SpringBootTest(classes = {\n    DefaultTestService.class})\n@TestPropertySource(properties = {&quot;mongodb_url=localhost:27017&quot;})\npublic class test {\n\n  @Mock\n  Environment environment;\n  @InjectMocks\n  MyService myservice;\n}\n`","body":"You mean like this ??  ` @RunWith(SpringRunner.class) @SpringBootTest(classes = {     DefaultTestService.class}) @TestPropertySource(properties = {&quot;mongodb_url=localhost:27017&quot;}) public class test {    @Mock   Environment environment;   @InjectMocks   MyService myservice; } `"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681742708,"post_id":76035740,"comment_id":134101838,"body_markdown":"That should work, however your test is weird. Why run it with Spring Boot if you are mocking everything? Either use Spring Boot for the test, or don&#39;t. If you don&#39;t you will have to mock behavior for the `Environment`.","body":"That should work, however your test is weird. Why run it with Spring Boot if you are mocking everything? Either use Spring Boot for the test, or don&#39;t. If you don&#39;t you will have to mock behavior for the <code>Environment</code>."},{"owner":{"account_id":26073403,"reputation":13,"user_id":19772668,"display_name":"Vijay"},"score":0,"creation_date":1681886846,"post_id":76035740,"comment_id":134127321,"body_markdown":"Yes you are right . thanks for your help. \n`public static void set(Map&lt;String, String&gt; newenv) throws Exception {\n    Class[] classes = Collections.class.getDeclaredClasses();\n    Map&lt;String, String&gt; env = System.getenv();\n    for(Class cl : classes) {\n        if(&quot;java.util.Collections$UnmodifiableMap&quot;.equals(cl.getName())) {\n            Field field = cl.getDeclaredField(&quot;m&quot;);\n            field.setAccessible(true);\n            Object obj = field.get(env);\n            Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) obj; map.clear();\n map.putAll(newenv);}}}`\nthe above code also helps","body":"Yes you are right . thanks for your help.  <code>public static void set(Map&lt;String, String&gt; newenv) throws Exception {     Class[] classes = Collections.class.getDeclaredClasses();     Map&lt;String, String&gt; env = System.getenv();     for(Class cl : classes) {         if(&quot;java.util.Collections$UnmodifiableMap&quot;.equals(cl.getName&zwnj;&#8203;())) {             Field field = cl.getDeclaredField(&quot;m&quot;);             field.setAccessible(true);             Object obj = field.get(env);             Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) obj; map.clear();  map.putAll(newenv);}}}</code> the above code also helps"}],"owner":{"account_id":26073403,"reputation":13,"user_id":19772668,"display_name":"Vijay"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681749767,"creation_date":1681738396,"question_id":76035740,"body_markdown":"i have one class in that i&#39;m getting the value from environment varible. for that i have to write junit test case.\r\n**Service class**\r\n```\r\n@service\r\npublic class MyService{\r\n\r\n@Autowired\r\nMongoClient mongoClient;\r\n\r\npublic void save(){\r\nString mongoUri= System.getenv(&quot;mongodb_url&quot;);\r\nif(mongoUri!=null){\r\n  List&lt;String&gt; databaseNames = mongoClient.listDatabaseNames().into(new ArrayList&lt;&gt;());\r\n        for (String dbName : databaseNames) {\r\n          log.info(dbname+&quot;database name&quot;);\r\n}\r\n}\r\n}\r\n}\r\n```\r\n**TestClass**\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = {\r\n    DefaultTestService.class})\r\npublic class test {\r\n\r\n  @Mock\r\n  Environment environment;\r\n  @InjectMocks\r\n  MyService myservice;\r\n\r\n  @Test\r\n  public void test(){\r\n    when(System.getenv(&quot;mongodb_url&quot;)).thenReturn(&quot;mongodb://localhost:27017&quot;);\r\n    myservice.save();\r\n}\r\n}\r\n```\r\n**gradle dependencies**\r\n```\r\n implementation &#39;junit:junit:4.13.1&#39;\r\n```\r\ngetting null for the environment variable. how to set environment varible to pass this testcase how to achieve this could any one please help?","title":"mock system.getenv in spring boot test using junit without using powermockito","body":"<p>i have one class in that i'm getting the value from environment varible. for that i have to write junit test case.\n<strong>Service class</strong></p>\n<pre><code>@service\npublic class MyService{\n\n@Autowired\nMongoClient mongoClient;\n\npublic void save(){\nString mongoUri= System.getenv(&quot;mongodb_url&quot;);\nif(mongoUri!=null){\n  List&lt;String&gt; databaseNames = mongoClient.listDatabaseNames().into(new ArrayList&lt;&gt;());\n        for (String dbName : databaseNames) {\n          log.info(dbname+&quot;database name&quot;);\n}\n}\n}\n}\n</code></pre>\n<p><strong>TestClass</strong></p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = {\n    DefaultTestService.class})\npublic class test {\n\n  @Mock\n  Environment environment;\n  @InjectMocks\n  MyService myservice;\n\n  @Test\n  public void test(){\n    when(System.getenv(&quot;mongodb_url&quot;)).thenReturn(&quot;mongodb://localhost:27017&quot;);\n    myservice.save();\n}\n}\n</code></pre>\n<p><strong>gradle dependencies</strong></p>\n<pre><code> implementation 'junit:junit:4.13.1'\n</code></pre>\n<p>getting null for the environment variable. how to set environment varible to pass this testcase how to achieve this could any one please help?</p>\n"},{"tags":["java","android","generics","overriding"],"comments":[{"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1411524798,"post_id":25992435,"comment_id":40731580,"body_markdown":"There&#39;s no point of declaring a type parameter that you don&#39;t use in the signature.","body":"There&#39;s no point of declaring a type parameter that you don&#39;t use in the signature."},{"owner":{"account_id":5071195,"reputation":4549,"user_id":4069913,"accept_rate":22,"display_name":"Orest Savchak"},"score":0,"creation_date":1411534547,"post_id":25992435,"comment_id":40733879,"body_markdown":"It is obviosly. I declared it just for understanding. It was after third editing of my question :)","body":"It is obviosly. I declared it just for understanding. It was after third editing of my question :)"}],"answers":[{"tags":[],"owner":{"account_id":1888905,"reputation":15353,"user_id":1707520,"accept_rate":100,"display_name":"sol4me"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681749656,"creation_date":1411468355,"answer_id":25992861,"question_id":25992435,"body_markdown":"The `set` method in `Sub` compiles because you are declaring a **new** method called `set` that can take any argument `S that extends Number`. .Note you are not overriding the set method from the Super class in Sub class you have overloaded the set method.\r\n\r\nWith `get` method your are doing exactly the same i.e. overloading get method but this time compiler complains because it is not valid because you changed just the return type of the method. For e.g.\r\n\r\n    public Integer get() {\r\n        return null;\r\n    }\r\n\r\nand you declare another method in the same or child class by changing just the return type of the method like this\r\n\r\n    public Double get() {\r\n        return null;\r\n    }\r\n\r\nthen compiler will complain &quot;attempting to use incompatible return type&quot; because in java return type is not the part of the method signature.\r\n\r\nYou can replicate the same problem for `set` method if you declare\r\n\r\n    public &lt;S extends Number&gt; void set(Object arg) {  }\r\n\r\nIn this case again we just change the return type of the method but to be valid overload method parameters should be different so\r\n\r\n    public &lt;S extends Number&gt; void set(String arg) {  } // overloads\r\n\r\nwill be a valid overload.\r\n","title":"Overriding non-generic methods by generic method","body":"<p>The <code>set</code> method in <code>Sub</code> compiles because you are declaring a <strong>new</strong> method called <code>set</code> that can take any argument <code>S that extends Number</code>. .Note you are not overriding the set method from the Super class in Sub class you have overloaded the set method.</p>\n<p>With <code>get</code> method your are doing exactly the same i.e. overloading get method but this time compiler complains because it is not valid because you changed just the return type of the method. For e.g.</p>\n<pre><code>public Integer get() {\n    return null;\n}\n</code></pre>\n<p>and you declare another method in the same or child class by changing just the return type of the method like this</p>\n<pre><code>public Double get() {\n    return null;\n}\n</code></pre>\n<p>then compiler will complain &quot;attempting to use incompatible return type&quot; because in java return type is not the part of the method signature.</p>\n<p>You can replicate the same problem for <code>set</code> method if you declare</p>\n<pre><code>public &lt;S extends Number&gt; void set(Object arg) {  }\n</code></pre>\n<p>In this case again we just change the return type of the method but to be valid overload method parameters should be different so</p>\n<pre><code>public &lt;S extends Number&gt; void set(String arg) {  } // overloads\n</code></pre>\n<p>will be a valid overload.</p>\n"}],"owner":{"account_id":5071195,"reputation":4549,"user_id":4069913,"accept_rate":22,"display_name":"Orest Savchak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":978,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25992861,"answer_count":1,"score":3,"last_activity_date":1681749656,"creation_date":1411467076,"question_id":25992435,"body_markdown":"I want to make automation casting of views in my android project. So, I want to override\r\n    \r\n\r\n\r\n\r\n    View findViewById(int id) {...}\r\nmethod by \r\n    \r\n\r\n\r\n\r\n    &lt;T extends View&gt; findViewById(int id) {...}\r\nmethod. But java compilation does not allow this, however overridden method does not conflict with parental and always will return object of view or its childs. I found some info, that java does not allow overriding non-generic methods by generic methods, but explanation why is is I can&#39;t find. \r\n\r\nhttp://www.angelikalanger.com/GenericsFAQ/FAQSections/TechnicalDetails.html#FAQ824\r\nThis FAQ says that it is impossible, but I can&#39;t understand why. As example we have such classes:\r\n\r\n\r\n\r\n    class Super { \r\n      public void set( Object arg) { ... } \r\n      public Object get() { ... } \r\n    } \r\n    class Sub extends Super {  \r\n      public &lt;S extends Number&gt; void set( S arg) { ... } // overloads \r\n      public &lt;S extends Number&gt; S get() { ... } // overloads \r\n    }\r\n\r\n\r\n\r\nFAQ says that they should compile with overloading, but I have strange thing: \r\ngetter returns the same error as my findViewById, but setter compile without errors. \r\n\r\nCould someone explain me this thing? Why does java not allow to override non-generic by generic and why setter compiled, getter - no ?\r\n\r\nI know, that I can use some another method, for example\r\n    \r\n\r\n\r\n\r\n    &lt;T extends View&gt; findView(int id){\r\n      return (T) findViewById(id);\r\n    }\r\n\r\nor\r\n   \r\n\r\n\r\n    &lt;T extends View&gt; findView(int id, Class&lt;T&gt; clazz) {\r\n      return clazz.cast(findViewById(id));\r\n    }\r\nBut I want to understand, why should I use new method instead of overriding ?\r\n\r\n\r\n    //1\r\n    @Override\r\n    public View findViewById(int id) {\r\n        return (View) super.findViewById(id);\r\n    }\r\n    //2\r\n    @Override\r\n    public &lt;T extends View&gt; T findViewById(int id) {\r\n        return (T) super.findViewById(id);\r\n    }\r\n\r\nSo, during the compilation time, what is the difference between 1 and 2 ? Even method 1 is more general, than 2. \r\n\r\n\r\n\r\n    //3\r\n    @Override\r\n    public &lt;T extends View&gt; View findViewById(int id) {\r\n        return (View) super.findViewById(id);\r\n    }\r\nAfter I added method as above, I finally realised, that &quot;T extends View&quot; tells compiler, that it is not the same method as without &quot;T extends View&quot;. So, in fact, I created new another method, but with the same name and parameters, so it can&#39;t compile. Maybe it is not exactly correct, but as I understood - something similar to true.\r\n\r\nThank you all, who try to help me.","title":"Overriding non-generic methods by generic method","body":"<p>I want to make automation casting of views in my android project. So, I want to override</p>\n\n<pre><code>View findViewById(int id) {...}\n</code></pre>\n\n<p>method by </p>\n\n<pre><code>&lt;T extends View&gt; findViewById(int id) {...}\n</code></pre>\n\n<p>method. But java compilation does not allow this, however overridden method does not conflict with parental and always will return object of view or its childs. I found some info, that java does not allow overriding non-generic methods by generic methods, but explanation why is is I can't find. </p>\n\n<p><a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/TechnicalDetails.html#FAQ824\" rel=\"nofollow\">http://www.angelikalanger.com/GenericsFAQ/FAQSections/TechnicalDetails.html#FAQ824</a>\nThis FAQ says that it is impossible, but I can't understand why. As example we have such classes:</p>\n\n<pre><code>class Super { \n  public void set( Object arg) { ... } \n  public Object get() { ... } \n} \nclass Sub extends Super {  \n  public &lt;S extends Number&gt; void set( S arg) { ... } // overloads \n  public &lt;S extends Number&gt; S get() { ... } // overloads \n}\n</code></pre>\n\n<p>FAQ says that they should compile with overloading, but I have strange thing: \ngetter returns the same error as my findViewById, but setter compile without errors. </p>\n\n<p>Could someone explain me this thing? Why does java not allow to override non-generic by generic and why setter compiled, getter - no ?</p>\n\n<p>I know, that I can use some another method, for example</p>\n\n<pre><code>&lt;T extends View&gt; findView(int id){\n  return (T) findViewById(id);\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;T extends View&gt; findView(int id, Class&lt;T&gt; clazz) {\n  return clazz.cast(findViewById(id));\n}\n</code></pre>\n\n<p>But I want to understand, why should I use new method instead of overriding ?</p>\n\n<pre><code>//1\n@Override\npublic View findViewById(int id) {\n    return (View) super.findViewById(id);\n}\n//2\n@Override\npublic &lt;T extends View&gt; T findViewById(int id) {\n    return (T) super.findViewById(id);\n}\n</code></pre>\n\n<p>So, during the compilation time, what is the difference between 1 and 2 ? Even method 1 is more general, than 2. </p>\n\n<pre><code>//3\n@Override\npublic &lt;T extends View&gt; View findViewById(int id) {\n    return (View) super.findViewById(id);\n}\n</code></pre>\n\n<p>After I added method as above, I finally realised, that \"T extends View\" tells compiler, that it is not the same method as without \"T extends View\". So, in fact, I created new another method, but with the same name and parameters, so it can't compile. Maybe it is not exactly correct, but as I understood - something similar to true.</p>\n\n<p>Thank you all, who try to help me.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"score":0,"creation_date":1496575533,"post_id":44353496,"comment_id":75708973,"body_markdown":"Download the latest Chrome and `ChromeDriver` versions.","body":"Download the latest Chrome and <code>ChromeDriver</code> versions."},{"owner":{"account_id":9611957,"reputation":1991,"user_id":7136025,"accept_rate":25,"display_name":"santhosh kumar"},"score":0,"creation_date":1496575943,"post_id":44353496,"comment_id":75709091,"body_markdown":"what is the chrome driver and browser version you are using?","body":"what is the chrome driver and browser version you are using?"},{"owner":{"account_id":9862817,"reputation":5309,"user_id":7305183,"display_name":"Murthi"},"score":0,"creation_date":1496591595,"post_id":44353496,"comment_id":75713829,"body_markdown":"I guess,  system property is pointing to chrome binary instead of chrome driver exe. Please make sure of it.","body":"I guess,  system property is pointing to chrome binary instead of chrome driver exe. Please make sure of it."},{"owner":{"account_id":2033863,"reputation":960,"user_id":1816746,"accept_rate":92,"display_name":"Wunderbread"},"score":0,"creation_date":1496610391,"post_id":44353496,"comment_id":75719417,"body_markdown":"I don&#39;t know what OS you are currently using but this guide helped me a lot regarding the actual installation and path setup: [link](http://www.kenst.com/2015/03/installing-chromedriver-on-mac-osx/)","body":"I don&#39;t know what OS you are currently using but this guide helped me a lot regarding the actual installation and path setup: <a href=\"http://www.kenst.com/2015/03/installing-chromedriver-on-mac-osx/\" rel=\"nofollow noreferrer\">link</a>"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1496575876,"creation_date":1496575876,"answer_id":44353584,"question_id":44353496,"body_markdown":"Here is the Answer to your Question:\r\n\r\nWhen you work with Selenium 3.x you have to download **chromedriver.exe** from [here][1] and save it in your machine. Next you have to mention the absolute path of the **chromedriver.exe** through `System.setProperty`. While you mention the absolute path of the **chromedriver.exe** through `System.setProperty` you have either provide front slashes &quot;**/**&quot; or esacpe the back slases &quot;**\\\\\\\\**&quot;. Here is your own working code with some simple tweaks:\r\n\r\n    public class first \r\n    {\r\n        public static void main(String args[])\r\n        {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:/your_directory/chromedriver.exe&quot;);\r\n            WebDriver dr1= new ChromeDriver(); ;\r\n            String baseurl = &quot;http://www.google.com/&quot;;\r\n            dr1.get(baseurl);\r\n        }\r\n    }\r\n\r\nLet me know if this Answers your Question\r\n\r\n  [1]: https://sites.google.com/a/chromium.org/chromedriver/","title":"Launching Chrome and passing the url with selenium","body":"<p>Here is the Answer to your Question:</p>\n\n<p>When you work with Selenium 3.x you have to download <strong>chromedriver.exe</strong> from <a href=\"https://sites.google.com/a/chromium.org/chromedriver/\" rel=\"nofollow noreferrer\">here</a> and save it in your machine. Next you have to mention the absolute path of the <strong>chromedriver.exe</strong> through <code>System.setProperty</code>. While you mention the absolute path of the <strong>chromedriver.exe</strong> through <code>System.setProperty</code> you have either provide front slashes \"<strong>/</strong>\" or esacpe the back slases \"<strong>\\\\</strong>\". Here is your own working code with some simple tweaks:</p>\n\n<pre><code>public class first \n{\n    public static void main(String args[])\n    {\n        System.setProperty(\"webdriver.chrome.driver\",\"C:/your_directory/chromedriver.exe\");\n        WebDriver dr1= new ChromeDriver(); ;\n        String baseurl = \"http://www.google.com/\";\n        dr1.get(baseurl);\n    }\n}\n</code></pre>\n\n<p>Let me know if this Answers your Question</p>\n"}],"owner":{"account_id":10476850,"reputation":3,"user_id":7723113,"display_name":"Bala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44353584,"answer_count":1,"score":0,"last_activity_date":1681749498,"creation_date":1496575173,"question_id":44353496,"body_markdown":"I am using selenium for the first time:\r\nbelow is my basic Code to launch the chrome and pass the google url:\r\n    \r\n    public class first {\r\n    \tpublic static void main(String args[]){\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C://Program Files (x86)//Google//Chrome//Application//chrome.exe&quot;);\r\n    \t\tWebDriver dr1= new ChromeDriver(); ;\r\n    \t\tString baseurl = &quot;http://www.google.com/&quot;;\r\n    \t\tdr1.get(baseurl);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nAfter executing it is launching the browser but not sending the url to it.\r\nbelow is the error i got in console output:\r\n\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Timed out waiting for driver server to start.\r\n    Build info: version: &#39;unknown&#39;, revision: &#39;unknown&#39;, time: &#39;unknown&#39;\r\n    System info: host: &#39;D-113091507&#39;, ip: &#39;172.16.195.19&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_131&#39;\r\n    Driver info: driver.version: ChromeDriver\r\n    \tat org.openqa.selenium.remote.service.DriverService.waitUntilAvailable(DriverService.java:193)\r\n    \tat org.openqa.selenium.remote.service.DriverService.start(DriverService.java:181)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:78)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:637)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:250)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:236)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:137)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:184)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:171)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:124)\r\n    \tat first.first.main(first.java:12)\r\n\r\nCan someone please help me out with this?\r\n","title":"Launching Chrome and passing the url with selenium","body":"<p>I am using selenium for the first time:\nbelow is my basic Code to launch the chrome and pass the google url:</p>\n<pre><code>public class first {\n    public static void main(String args[]){\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C://Program Files (x86)//Google//Chrome//Application//chrome.exe&quot;);\n        WebDriver dr1= new ChromeDriver(); ;\n        String baseurl = &quot;http://www.google.com/&quot;;\n        dr1.get(baseurl);\n        \n    }\n}\n</code></pre>\n<p>After executing it is launching the browser but not sending the url to it.\nbelow is the error i got in console output:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Timed out waiting for driver server to start.\nBuild info: version: 'unknown', revision: 'unknown', time: 'unknown'\nSystem info: host: 'D-113091507', ip: '172.16.195.19', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_131'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.remote.service.DriverService.waitUntilAvailable(DriverService.java:193)\n    at org.openqa.selenium.remote.service.DriverService.start(DriverService.java:181)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:78)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:637)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:250)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:236)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:137)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:184)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:171)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:124)\n    at first.first.main(first.java:12)\n</code></pre>\n<p>Can someone please help me out with this?</p>\n"},{"tags":["java","spring","multithreading","thread-safety","final"],"comments":[{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":6,"creation_date":1641817826,"post_id":70652374,"comment_id":124897820,"body_markdown":"Using final on what? Because using it on counter means counter doesn&#39;t change.","body":"Using final on what? Because using it on counter means counter doesn&#39;t change."},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1641820653,"post_id":70652374,"comment_id":124898871,"body_markdown":"You can take a look at [jls17.5](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.5)","body":"You can take a look at <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">jls17.5</a>"}],"answers":[{"tags":[],"owner":{"account_id":6502221,"reputation":1372,"user_id":5032541,"display_name":"Erwan Daniel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641819048,"creation_date":1641819048,"answer_id":70652714,"question_id":70652374,"body_markdown":"No, the `final` keyword doesn&#39;t have anything in common with thread safety.\r\n\r\nThe `final` keyword on variables makes them immutable, you can&#39;t change their value anymore.\r\nHowever, it&#39;s not like the `const` keyword in c++ where the whole variable content cannot change. In Java only the reference is immutable.\r\n\r\n```\r\n   final AtomicReference&lt;String&gt; toto = new AtomicReference&lt;&gt;(&quot;text&quot;);\r\n   toto.set(&quot;new text&quot;); // totally fine\r\n   toto = new AtomicReference&lt;&gt;(&quot;text&quot;); // does not compile, as toto is immutable reference.\r\n```\r\n\r\nBut, there is another keyword that fulfill what you are looking for. It&#39;s `volatile`. https://www.baeldung.com/java-volatile\r\n\r\nIn short, the value change on all thread simultaneously and is available immediately. \r\nThat&#39;s what is used in all the `Atomic*` Java classes. \r\n\r\nEx. https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/concurrent/atomic/AtomicInteger.java\r\n\r\n\r\n\r\n","title":"Thread Safety using final","body":"<p>No, the <code>final</code> keyword doesn't have anything in common with thread safety.</p>\n<p>The <code>final</code> keyword on variables makes them immutable, you can't change their value anymore.\nHowever, it's not like the <code>const</code> keyword in c++ where the whole variable content cannot change. In Java only the reference is immutable.</p>\n<pre><code>   final AtomicReference&lt;String&gt; toto = new AtomicReference&lt;&gt;(&quot;text&quot;);\n   toto.set(&quot;new text&quot;); // totally fine\n   toto = new AtomicReference&lt;&gt;(&quot;text&quot;); // does not compile, as toto is immutable reference.\n</code></pre>\n<p>But, there is another keyword that fulfill what you are looking for. It's <code>volatile</code>. <a href=\"https://www.baeldung.com/java-volatile\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-volatile</a></p>\n<p>In short, the value change on all thread simultaneously and is available immediately.\nThat's what is used in all the <code>Atomic*</code> Java classes.</p>\n<p>Ex. <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/concurrent/atomic/AtomicInteger.java\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/concurrent/atomic/AtomicInteger.java</a></p>\n"},{"tags":[],"owner":{"account_id":19962129,"reputation":379,"user_id":14629458,"display_name":"Yasser CHENIK"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641819506,"creation_date":1641819506,"answer_id":70652798,"question_id":70652374,"body_markdown":"I m just gonna add this with Erwan Daniel&#39;s answer .&lt;br/&gt;\r\nYour \r\nIf you want a  counter shared between all your Threads here is another version of your code. \r\n\r\n     class SharedCounter {\r\n      private AtomicInteger sharedCounter ;\r\n      \r\n      public Counter(){\r\n       this.sharedCounter = new AtomicInteger(0);\r\n      }\r\n\r\n      public void increment() {\r\n         sharedCounter.getAndIncrement();\r\n      }\r\n\r\n      public int value() {\r\n         return sharedCounter.get();\r\n      }\r\n\r\n\r\nThe final will prevent your `atomicInteger12` from changing the object it&#39;s using **And** you can freely set it&#39;s value.\r\n\r\n    final SharedCounter atomicInteger12 = new Counter() ;","title":"Thread Safety using final","body":"<p>I m just gonna add this with Erwan Daniel's answer .<br/>\nYour\nIf you want a  counter shared between all your Threads here is another version of your code.</p>\n<pre><code> class SharedCounter {\n  private AtomicInteger sharedCounter ;\n  \n  public Counter(){\n   this.sharedCounter = new AtomicInteger(0);\n  }\n\n  public void increment() {\n     sharedCounter.getAndIncrement();\n  }\n\n  public int value() {\n     return sharedCounter.get();\n  }\n</code></pre>\n<p>The final will prevent your <code>atomicInteger12</code> from changing the object it's using <strong>And</strong> you can freely set it's value.</p>\n<pre><code>final SharedCounter atomicInteger12 = new Counter() ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642994137,"creation_date":1641831881,"answer_id":70655670,"question_id":70652374,"body_markdown":"In properly synchronized code, the final isn&#39;t needed.\r\n\r\nE.g. if you would use:\r\n\r\n    class MyCounter{\r\n        private AtomicInteger c = new AtomicInteger();\r\n\r\n        public int inc(){return c.incrementAndGet();}\r\n\r\n        public int get(){return c.get();}\r\n    }\r\n\r\nAnd you would share the MyCounter-instance with another thread, you need to make sure that there is a happens-before edge between writing c and reading c. This can be done in various ways e.g. you pass the MyCounter-instance to the constructor of some thread (thread start rule). Or you pass it through a volatile field (volatile variable rule) or a synchronized block (monitor lock rule).\r\n\r\nThis is typically called &#39;safe publication&#39; and for a correctly synchronized system, this is all you need. If you don&#39;t pass the reference safely, you have a data race and weird problems can happen like seeing a partially constructed object. Therefore there is a second mechanism called initialization safety; so no matter if the reference to an object isn&#39;t published safely, initialization safety using final will act as a backup solution. The primary use-case for this AFAIK is security. \r\n\r\nSo for correctly synchronized code, there is no need for final.\r\n\r\nThat doesn&#39;t mean that you should not add finals. It has all kinds of benefits like no accidental changes and it is pretty informative. So I prefer to make as many fields final as possible. \r\n\r\nFinal has no meaning for method arguments from a memory model perspective, since they are private to a thread. Only shared memory needs to be dealt with in a memory model. Making arguments of a method final is a flavor issue. Some people want it, others don&#39;t. I&#39;m not crazy about long method signatures and tend not to add them unless I&#39;m writing some difficult code. But I would be fine if local variables and formal arguments would be final by default (like Rust).\r\n\r\n","title":"Thread Safety using final","body":"<p>In properly synchronized code, the final isn't needed.</p>\n<p>E.g. if you would use:</p>\n<pre><code>class MyCounter{\n    private AtomicInteger c = new AtomicInteger();\n\n    public int inc(){return c.incrementAndGet();}\n\n    public int get(){return c.get();}\n}\n</code></pre>\n<p>And you would share the MyCounter-instance with another thread, you need to make sure that there is a happens-before edge between writing c and reading c. This can be done in various ways e.g. you pass the MyCounter-instance to the constructor of some thread (thread start rule). Or you pass it through a volatile field (volatile variable rule) or a synchronized block (monitor lock rule).</p>\n<p>This is typically called 'safe publication' and for a correctly synchronized system, this is all you need. If you don't pass the reference safely, you have a data race and weird problems can happen like seeing a partially constructed object. Therefore there is a second mechanism called initialization safety; so no matter if the reference to an object isn't published safely, initialization safety using final will act as a backup solution. The primary use-case for this AFAIK is security.</p>\n<p>So for correctly synchronized code, there is no need for final.</p>\n<p>That doesn't mean that you should not add finals. It has all kinds of benefits like no accidental changes and it is pretty informative. So I prefer to make as many fields final as possible.</p>\n<p>Final has no meaning for method arguments from a memory model perspective, since they are private to a thread. Only shared memory needs to be dealt with in a memory model. Making arguments of a method final is a flavor issue. Some people want it, others don't. I'm not crazy about long method signatures and tend not to add them unless I'm writing some difficult code. But I would be fine if local variables and formal arguments would be final by default (like Rust).</p>\n"},{"tags":[],"owner":{"account_id":37902,"reputation":7546,"user_id":108517,"accept_rate":60,"display_name":"J&#248;rgen Fogh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681749325,"creation_date":1681749325,"answer_id":76037375,"question_id":70652374,"body_markdown":"&gt; 1. I am also wondering if I can provide thread safe by using final for the necessary variable(s). If so, how can I perform this?\r\n\r\nHere is a complete implementation of your `Counter` class, using `AtomicInteger`:\r\n\r\n    class Counter {\r\n        // counter must be final here:\r\n        private final AtomicInteger counter = new AtomicInteger(0);\r\n    \r\n        public void increment() {\r\n            counter.getAndIncrement();\r\n        }\r\n    \r\n        public int getValue() {\r\n            return counter.get();\r\n        }\r\n    }\r\n\r\nNote that `counter` is `final`. This means that the reference can not be updated but the referenced `AtomicInteger` can. In addition, we get a guarantee regarding how `Counter` can be used across threads:\r\n\r\nThe relevant passage from [the Java Language Specification][0]:\r\n\r\n&gt; The usage model for final fields is a simple one: Set the final fields for an object in that object&#39;s constructor; and do not write a reference to the object being constructed in a place where another thread can see it before the object&#39;s constructor is finished. If this is followed, then when the object is seen by another thread, that thread will always see the correctly constructed version of that object&#39;s final fields. It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.\r\n\r\nThe converse is also true: If a field is not final, you are not guaranteed to see the correctly constructed version of the object, even if the constructor has finished running.\r\nIn our example, this means that we might get a `NullPointerException` if we call `getValue()` or `increment()` from another thread, since that thread might read `counter` as `null`.\r\n\r\n&gt; 2. Is one of the reason using final commonly in Java for variables and method arguments to provide thread safety?\r\n\r\nOnly for field variables. `final` provides guarantees for fields but not for local variables and method parameters.\r\n\r\n  [0]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-17.html#jls-17.5","title":"Thread Safety using final","body":"<blockquote>\n<ol>\n<li>I am also wondering if I can provide thread safe by using final for the necessary variable(s). If so, how can I perform this?</li>\n</ol>\n</blockquote>\n<p>Here is a complete implementation of your <code>Counter</code> class, using <code>AtomicInteger</code>:</p>\n<pre><code>class Counter {\n    // counter must be final here:\n    private final AtomicInteger counter = new AtomicInteger(0);\n\n    public void increment() {\n        counter.getAndIncrement();\n    }\n\n    public int getValue() {\n        return counter.get();\n    }\n}\n</code></pre>\n<p>Note that <code>counter</code> is <code>final</code>. This means that the reference can not be updated but the referenced <code>AtomicInteger</code> can. In addition, we get a guarantee regarding how <code>Counter</code> can be used across threads:</p>\n<p>The relevant passage from <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">the Java Language Specification</a>:</p>\n<blockquote>\n<p>The usage model for final fields is a simple one: Set the final fields for an object in that object's constructor; and do not write a reference to the object being constructed in a place where another thread can see it before the object's constructor is finished. If this is followed, then when the object is seen by another thread, that thread will always see the correctly constructed version of that object's final fields. It will also see versions of any object or array referenced by those final fields that are at least as up-to-date as the final fields are.</p>\n</blockquote>\n<p>The converse is also true: If a field is not final, you are not guaranteed to see the correctly constructed version of the object, even if the constructor has finished running.\nIn our example, this means that we might get a <code>NullPointerException</code> if we call <code>getValue()</code> or <code>increment()</code> from another thread, since that thread might read <code>counter</code> as <code>null</code>.</p>\n<blockquote>\n<ol start=\"2\">\n<li>Is one of the reason using final commonly in Java for variables and method arguments to provide thread safety?</li>\n</ol>\n</blockquote>\n<p>Only for field variables. <code>final</code> provides guarantees for fields but not for local variables and method parameters.</p>\n"}],"owner":{"display_name":"user17862362"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1681749325,"creation_date":1641817585,"question_id":70652374,"body_markdown":"Here is an example method for explaining thread safety:\r\n\r\n```\r\nclass Counter {\r\n    private int counter = 0;\r\n\r\n    public void increment() {\r\n        counter++;\r\n    }\r\n\r\n    public int getValue() {\r\n        return counter;\r\n    }\r\n}\r\n```\r\n\r\nIn order to provide thread safety, there are several methods and I would prefer using `AtomicInteger` approach. However;\r\n\r\n**1.** I am also wondering if I can provide thread safe by using `final` for the necessary variable(s). If so, how can I perform this?\r\n\r\n**2.** Is one of the reason using `final` commonly in Java for variables and method arguments to provide thread safety? ","title":"Thread Safety using final","body":"<p>Here is an example method for explaining thread safety:</p>\n<pre><code>class Counter {\n    private int counter = 0;\n\n    public void increment() {\n        counter++;\n    }\n\n    public int getValue() {\n        return counter;\n    }\n}\n</code></pre>\n<p>In order to provide thread safety, there are several methods and I would prefer using <code>AtomicInteger</code> approach. However;</p>\n<p><strong>1.</strong> I am also wondering if I can provide thread safe by using <code>final</code> for the necessary variable(s). If so, how can I perform this?</p>\n<p><strong>2.</strong> Is one of the reason using <code>final</code> commonly in Java for variables and method arguments to provide thread safety?</p>\n"},{"tags":["java","database","jdbc","automation","dbutils"],"comments":[{"owner":{"account_id":2754262,"reputation":746,"user_id":2372840,"display_name":"Darius Zi"},"score":0,"creation_date":1681711835,"post_id":76032043,"comment_id":134094610,"body_markdown":"Can you explain why do you need to reset result set pointer? Do you iterate result set multiple times? Maybe it&#39;s better to extract data from results set into some variable and iterate it instead?","body":"Can you explain why do you need to reset result set pointer? Do you iterate result set multiple times? Maybe it&#39;s better to extract data from results set into some variable and iterate it instead?"},{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1681712500,"post_id":76032043,"comment_id":134094709,"body_markdown":"Please don&#39;t post code images or errors if possible, copy your code or code error into question with block code format: https://stackoverflow.com/help/how-to-ask","body":"Please don&#39;t post code images or errors if possible, copy your code or code error into question with block code format: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1681715044,"post_id":76032043,"comment_id":134095164,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551) Instead, edit your question to include the code as properly formatted text.","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a> Instead, edit your question to include the code as properly formatted text."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681748941,"creation_date":1681748941,"answer_id":76037310,"question_id":76032043,"body_markdown":"According to the [javadocs][1] for `ResultSet::beforeFirst()`:\r\n\r\n&gt; *&quot;Throws: `SQLFeatureNotSupportedException` - if the JDBC driver does not support this method.&quot;*\r\n\r\nIt appears that the Snowflake JDBC driver doesn&#39;t support the method.  And their support have confirmed that. \r\n\r\nYou asked:\r\n\r\n&gt; Anyone know how to fix that?\r\n\r\nYou cannot fix it.\r\n\r\nApparently, it is not possible to reset a Snowflake cursor.\r\n\r\nI guess you could close the `ResultSet` and repeat the query.  It is inelegant, and potentially inefficient, but if you need to do it ...\r\n\r\nIf that approach won&#39;t work for you, you will need to find and use a different database product whose JDBC driver *does* provide a way to reset its cursors.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.sql/java/sql/ResultSet.html#beforeFirst()","title":"Snowflake Jdbc rs.beforeFirst() method error","body":"<p>According to the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.sql/java/sql/ResultSet.html#beforeFirst()\" rel=\"nofollow noreferrer\">javadocs</a> for <code>ResultSet::beforeFirst()</code>:</p>\n<blockquote>\n<p><em>&quot;Throws: <code>SQLFeatureNotSupportedException</code> - if the JDBC driver does not support this method.&quot;</em></p>\n</blockquote>\n<p>It appears that the Snowflake JDBC driver doesn't support the method.  And their support have confirmed that.</p>\n<p>You asked:</p>\n<blockquote>\n<p>Anyone know how to fix that?</p>\n</blockquote>\n<p>You cannot fix it.</p>\n<p>Apparently, it is not possible to reset a Snowflake cursor.</p>\n<p>I guess you could close the <code>ResultSet</code> and repeat the query.  It is inelegant, and potentially inefficient, but if you need to do it ...</p>\n<p>If that approach won't work for you, you will need to find and use a different database product whose JDBC driver <em>does</em> provide a way to reset its cursors.</p>\n"}],"owner":{"account_id":28326146,"reputation":1,"user_id":21661112,"display_name":"Aykut.Koc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681748941,"creation_date":1681710651,"question_id":76032043,"body_markdown":"I am trying to get test by using snowflake jdbc .I connected . but when I try to get some data from snowflake I got this error.net.snowflake.client.jdbc.SnowflakeLoggedFeatureNotSupportedException. I asked the snowflake support they said you are using rs.beforeFirst() method .snowflake driver doesn&#39;t support that. Anyone Know how to fix that\r\n[[enter image description here](https://i.stack.imgur.com/VlO2I.png)](https://i.stack.imgur.com/DuNQi.png)\r\n\r\n\r\nI expected like get column get some data .I think I should try without rs.beforeFirst() method to create db_util class please if anyone know .help me","title":"Snowflake Jdbc rs.beforeFirst() method error","body":"<p>I am trying to get test by using snowflake jdbc .I connected . but when I try to get some data from snowflake I got this error.net.snowflake.client.jdbc.SnowflakeLoggedFeatureNotSupportedException. I asked the snowflake support they said you are using rs.beforeFirst() method .snowflake driver doesn't support that. Anyone Know how to fix that\n[<a href=\"https://i.stack.imgur.com/VlO2I.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/DuNQi.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/DuNQi.png</a>)</p>\n<p>I expected like get column get some data .I think I should try without rs.beforeFirst() method to create db_util class please if anyone know .help me</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":1,"creation_date":1567661445,"post_id":57798823,"comment_id":102030385,"body_markdown":"**Target** folder is automatically created by maven, and each time `clean` command is run it is re created a new.","body":"<b>Target</b> folder is automatically created by maven, and each time <code>clean</code> command is run it is re created a new."}],"answers":[{"tags":[],"owner":{"account_id":13356964,"reputation":66,"user_id":9640193,"display_name":"Hagen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567663043,"creation_date":1567661043,"answer_id":57798903,"question_id":57798823,"body_markdown":"Target Folder is automatically by maven. It copies the resources from  *src/main/resources* to *target/classes/* together with the compiled java classes from **src/main/java**. \r\n\r\nIf you run your program *target/classes* is the root of you **classloader**.","title":"Issue while picking file from main/resource folder of maven folder structure","body":"<p>Target Folder is automatically by maven. It copies the resources from  <em>src/main/resources</em> to <em>target/classes/</em> together with the compiled java classes from <strong>src/main/java</strong>. </p>\n\n<p>If you run your program <em>target/classes</em> is the root of you <strong>classloader</strong>.</p>\n"},{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1567661091,"creation_date":1567661091,"answer_id":57798912,"question_id":57798823,"body_markdown":"Make sure you have structure(Module) like below:\r\n\r\n    ├── src\r\n    │   └── main\r\n    │       ├── java\r\n    │       │   └── somepackage\r\n    │       │       └──Main.java\r\n    │       │           \r\n    │       │               \r\n    │       │              \r\n    │       └── resources\r\n    │           └── filename.xml\r\n    └── pom.xml\r\n______________________________________________\r\n    File xmlFile = new File(String.valueOf(getClass().getClassLoader().getResourceAsStream(&quot;filename.xml&quot;)));\r\n","title":"Issue while picking file from main/resource folder of maven folder structure","body":"<p>Make sure you have structure(Module) like below:</p>\n\n<pre><code>├── src\n│   └── main\n│       ├── java\n│       │   └── somepackage\n│       │       └──Main.java\n│       │           \n│       │               \n│       │              \n│       └── resources\n│           └── filename.xml\n└── pom.xml\n</code></pre>\n\n<hr>\n\n<pre><code>File xmlFile = new File(String.valueOf(getClass().getClassLoader().getResourceAsStream(\"filename.xml\")));\n</code></pre>\n"}],"owner":{"account_id":16261172,"reputation":29,"user_id":11742453,"display_name":"shruti khungar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57798912,"answer_count":2,"score":1,"last_activity_date":1681748735,"creation_date":1567660573,"question_id":57798823,"body_markdown":"I am trying to fetch a file from src/main/resources folder.\r\nEarlier it was working fine but recently it has started picking that file from some target location (target/classes/filename.xml) (I did not create that file in target folder). \r\n\r\n    File xmlFile = new File(ReadXMLFile.class.getClassLoader().getResource(“filename.xml”).toURI());\r\n\r\nCode that I am trying is: \r\n\r\n     File xmlFile = new File(ReadXMLFile.class.getClassLoader().getResource(“filename.xml”).toURI()); \r\n\r\nExpected: it should pick the file from **src/main/resources/filename.xml**\r\nactual: it is picking the file from target/classes/filename.xml \r\n\r\n**Additional Info:** My code is in `ReadXMLFile.xml` and its under the below folder structure\r\ncom.qa.smartcomm.util\r\n\tReadXMLFile.xml\r\n\r\nCan someone help me with this issue?","title":"Issue while picking file from main/resource folder of maven folder structure","body":"<p>I am trying to fetch a file from src/main/resources folder.\nEarlier it was working fine but recently it has started picking that file from some target location (target/classes/filename.xml) (I did not create that file in target folder). </p>\n\n<pre><code>File xmlFile = new File(ReadXMLFile.class.getClassLoader().getResource(“filename.xml”).toURI());\n</code></pre>\n\n<p>Code that I am trying is: </p>\n\n<pre><code> File xmlFile = new File(ReadXMLFile.class.getClassLoader().getResource(“filename.xml”).toURI()); \n</code></pre>\n\n<p>Expected: it should pick the file from <strong>src/main/resources/filename.xml</strong>\nactual: it is picking the file from target/classes/filename.xml </p>\n\n<p><strong>Additional Info:</strong> My code is in <code>ReadXMLFile.xml</code> and its under the below folder structure\ncom.qa.smartcomm.util\n    ReadXMLFile.xml</p>\n\n<p>Can someone help me with this issue?</p>\n"},{"tags":["java","spring-boot","junit","mockito","junit5"],"answers":[{"tags":[],"owner":{"account_id":14432183,"reputation":389,"user_id":10425217,"display_name":"Reese"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1622816619,"creation_date":1622816619,"answer_id":67838945,"question_id":67835094,"body_markdown":"I understood the problem as @EnableJpaRepositories was with bootapllication class , it was trying to load it. solution is bootapplication class should have only @springbootapplication annotation and any other configuration can be move out to separate config file with @configuration annotation. I found it here\r\nhttps://stackoverflow.com/questions/51467132/spring-webmvctest-with-enablejpa-annotation","title":"No bean named &#39;entityManagerFactory&#39; available in RestController unsit test with Junit 5","body":"<p>I understood the problem as @EnableJpaRepositories was with bootapllication class , it was trying to load it. solution is bootapplication class should have only @springbootapplication annotation and any other configuration can be move out to separate config file with @configuration annotation. I found it here\n<a href=\"https://stackoverflow.com/questions/51467132/spring-webmvctest-with-enablejpa-annotation\">Spring @WebMvcTest with @EnableJpa* annotation</a></p>\n"},{"tags":[],"owner":{"account_id":6314267,"reputation":11,"user_id":4904826,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681748516,"creation_date":1681748516,"answer_id":76037261,"question_id":67835094,"body_markdown":"First, as previous answer said, `EnableJpaRepositories` need to be removed.\r\nSecond, what if after it is removed, your `WebMvcTest` request the repository interfaces? The answer is to add `@MockBean` in your `WebMvcTest` for all the `@Service`s and `@Repository`s","title":"No bean named &#39;entityManagerFactory&#39; available in RestController unsit test with Junit 5","body":"<p>First, as previous answer said, <code>EnableJpaRepositories</code> need to be removed.\nSecond, what if after it is removed, your <code>WebMvcTest</code> request the repository interfaces? The answer is to add <code>@MockBean</code> in your <code>WebMvcTest</code> for all the <code>@Service</code>s and <code>@Repository</code>s</p>\n"}],"owner":{"account_id":14432183,"reputation":389,"user_id":10425217,"display_name":"Reese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5034,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1681748516,"creation_date":1622799942,"question_id":67835094,"body_markdown":"I am getting &#39;No bean named &#39;entityManagerFactory&#39; available&#39; in my junit5 test class even when i am mocking the service layer class.\r\nMy understanding is if service layer is mocked, it should not look for actual jpa implementation. I am not understanding what i am missing. My application runs fine with JPA, only problem i am facing in the unit testing with @WebMvcTest\r\n\r\n**spring boot application class**\r\n\r\n    @SpringBootApplication(\r\n        scanBasePackages = {&quot;com.testapp.rest.auth&quot;})\r\n    @EnableJpaRepositories\r\n    public class SampleAuthorizationServiceApplication {\r\n    \r\n      public static void main(String[] args) {\r\n        SpringApplication.run(SampleAuthorizationServiceApplication.class, args);\r\n      }\r\n    }\r\n\r\n**Controller**\r\n\r\n    @PostMapping(\r\n          value = &quot;/testRest/auth&quot;,\r\n          consumes = MediaType.APPLICATION_JSON_VALUE,\r\n          produces = MediaType.APPLICATION_JSON_VALUE)\r\n      public ResponseEntity&lt;ResObj&gt; testValid(\r\n          @RequestBody ReqObj reqObj, @RequestHeader HttpHeaders headerSet)\r\n          throws SampleTechnicalException {\r\n    \r\n        ResObj response = authServ.authorize(reqObj);\r\n    \r\n        if (response.isSuccess()) {\r\n          log.info(&quot;Request processed successfully. response : {}&quot;, response.isSuccess());\r\n          return ResponseEntity.ok(response);\r\n        } else {\r\n          log.error(\r\n              &quot;Request couldn&#39;t be processed successfully. response : {}&quot;,\r\n              response.isSuccess());\r\n          return new ResponseEntity&lt;ResObj&gt;(response, HttpStatus.UNAUTHORIZED);\r\n        }\r\n      }\r\n\r\n**service**\r\n\r\n    @Service\r\n    @AllArgsConstructor\r\n    @Slf4j\r\n    public class AuthSerive {\r\n    \r\n      private SampleRepository1 sampleRepository1;\r\n    \r\n      private SampleRepository2 sampleRepository2;\r\n    \r\n      public ResObj authorize(ReqObj reqObj) throws SampleTechnicalException {\r\n    \r\n    \r\n        if (reqObj == null) {\r\n          throw new SampleTechnicalException(&quot;throw exception&quot;);\r\n        }\r\n    \t..\r\n    \t\r\n    }\r\n\r\n**Controller Test class**\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @WebMvcTest(controllers = AuthController.class)\r\n    class AuthControllerTest {\r\n    \r\n      @MockBean AuthSerive authServ;\r\n    \r\n      @Autowired private MockMvc mockMvc;\r\n    \r\n      \r\n    \r\n      @Test\r\n      void testAuthSample() throws Exception {\r\n        String jsonreq =\r\n            &quot;{ \\&quot;field1\\&quot;:\\&quot;\\&quot;, \\&quot;field2\\&quot;:\\&quot;x\\&quot;, \\&quot;field3\\&quot;:\\&quot;\\&quot;, \\&quot;field4\\&quot;:\\&quot;\\&quot;, \\&quot;field5\\&quot;:&quot;y&quot;, \\&quot;field6\\&quot;:\\&quot;z\\&quot;, \\&quot;field7\\&quot;:\\&quot;x\\&quot; }&quot;;\r\n        ResObj mockResponse =\r\n            ResObj.builder().authSuccess(true).errorMessage(null).build();\r\n    \r\n        ReqObj mockTestObj=\r\n            ReqObj.builder().field2(&quot;x&quot;).field5(&quot;y&quot;).field6(&quot;z&quot;).field7(&quot;x&quot;).build();\r\n    \r\n        Mockito.when(authServ.authorize(mockTestObj)).thenReturn(mockResponse);\r\n    \r\n        mockMvc\r\n            .perform(post(&quot;/api/testRest/auth&quot;).contentType(&quot;application/json&quot;).content(jsonreq))\r\n            .andExpect(status().isOk());\r\n    \r\n         \r\n      }\r\n\r\n**build.gradle**\r\n\r\n    dependencies {\r\n    \r\n        implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \r\n        developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n        implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;com.oracle.database.jdbc:ojdbc8:18.3.0.0&#39;\r\n        compileOnly &#39;org.projectlombok:lombok:1.18.4&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n        implementation group: &#39;org.springdoc&#39;, name: &#39;springdoc-openapi-ui&#39;, version: &#39;1.5.8&#39;\r\n    \r\n        implementation group: &#39;org.springframework&#39;, name: &#39;spring-context&#39;\r\n    \r\n        testCompile (&quot;org.springframework.boot:spring-boot-starter-test&quot;) {\r\n            exclude group: &quot;org.mockito&quot;, module: &quot;mockito-all&quot;\r\n        }\r\n    \r\n        testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n            exclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n        }\r\n    }\r\n\r\n**error**\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;SampleRepository1&#39; defined in com.testapp.rest.auth.repository.SampleRepository1 defined in @EnableJpaRepositories declared on SampleAuthorizationServiceApplication: Cannot create inner bean &#39;(inner bean)#47a7c93e&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#47a7c93e&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1689)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:925)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:339)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n    \t... 68 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#47a7c93e&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374)\r\n    \t... 87 common frames omitted\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available","title":"No bean named &#39;entityManagerFactory&#39; available in RestController unsit test with Junit 5","body":"<p>I am getting 'No bean named 'entityManagerFactory' available' in my junit5 test class even when i am mocking the service layer class.\nMy understanding is if service layer is mocked, it should not look for actual jpa implementation. I am not understanding what i am missing. My application runs fine with JPA, only problem i am facing in the unit testing with @WebMvcTest</p>\n<p><strong>spring boot application class</strong></p>\n<pre><code>@SpringBootApplication(\n    scanBasePackages = {&quot;com.testapp.rest.auth&quot;})\n@EnableJpaRepositories\npublic class SampleAuthorizationServiceApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(SampleAuthorizationServiceApplication.class, args);\n  }\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@PostMapping(\n      value = &quot;/testRest/auth&quot;,\n      consumes = MediaType.APPLICATION_JSON_VALUE,\n      produces = MediaType.APPLICATION_JSON_VALUE)\n  public ResponseEntity&lt;ResObj&gt; testValid(\n      @RequestBody ReqObj reqObj, @RequestHeader HttpHeaders headerSet)\n      throws SampleTechnicalException {\n\n    ResObj response = authServ.authorize(reqObj);\n\n    if (response.isSuccess()) {\n      log.info(&quot;Request processed successfully. response : {}&quot;, response.isSuccess());\n      return ResponseEntity.ok(response);\n    } else {\n      log.error(\n          &quot;Request couldn't be processed successfully. response : {}&quot;,\n          response.isSuccess());\n      return new ResponseEntity&lt;ResObj&gt;(response, HttpStatus.UNAUTHORIZED);\n    }\n  }\n</code></pre>\n<p><strong>service</strong></p>\n<pre><code>@Service\n@AllArgsConstructor\n@Slf4j\npublic class AuthSerive {\n\n  private SampleRepository1 sampleRepository1;\n\n  private SampleRepository2 sampleRepository2;\n\n  public ResObj authorize(ReqObj reqObj) throws SampleTechnicalException {\n\n\n    if (reqObj == null) {\n      throw new SampleTechnicalException(&quot;throw exception&quot;);\n    }\n    ..\n    \n}\n</code></pre>\n<p><strong>Controller Test class</strong></p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@WebMvcTest(controllers = AuthController.class)\nclass AuthControllerTest {\n\n  @MockBean AuthSerive authServ;\n\n  @Autowired private MockMvc mockMvc;\n\n  \n\n  @Test\n  void testAuthSample() throws Exception {\n    String jsonreq =\n        &quot;{ \\&quot;field1\\&quot;:\\&quot;\\&quot;, \\&quot;field2\\&quot;:\\&quot;x\\&quot;, \\&quot;field3\\&quot;:\\&quot;\\&quot;, \\&quot;field4\\&quot;:\\&quot;\\&quot;, \\&quot;field5\\&quot;:&quot;y&quot;, \\&quot;field6\\&quot;:\\&quot;z\\&quot;, \\&quot;field7\\&quot;:\\&quot;x\\&quot; }&quot;;\n    ResObj mockResponse =\n        ResObj.builder().authSuccess(true).errorMessage(null).build();\n\n    ReqObj mockTestObj=\n        ReqObj.builder().field2(&quot;x&quot;).field5(&quot;y&quot;).field6(&quot;z&quot;).field7(&quot;x&quot;).build();\n\n    Mockito.when(authServ.authorize(mockTestObj)).thenReturn(mockResponse);\n\n    mockMvc\n        .perform(post(&quot;/api/testRest/auth&quot;).contentType(&quot;application/json&quot;).content(jsonreq))\n        .andExpect(status().isOk());\n\n     \n  }\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>dependencies {\n\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    implementation group: 'org.springframework.boot', name: 'spring-boot-starter-data-jpa'\n    implementation 'com.oracle.database.jdbc:ojdbc8:18.3.0.0'\n    compileOnly 'org.projectlombok:lombok:1.18.4'\n    annotationProcessor 'org.projectlombok:lombok'\n    implementation group: 'org.springdoc', name: 'springdoc-openapi-ui', version: '1.5.8'\n\n    implementation group: 'org.springframework', name: 'spring-context'\n\n    testCompile (&quot;org.springframework.boot:spring-boot-starter-test&quot;) {\n        exclude group: &quot;org.mockito&quot;, module: &quot;mockito-all&quot;\n    }\n\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n}\n</code></pre>\n<p><strong>error</strong></p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'SampleRepository1' defined in com.testapp.rest.auth.repository.SampleRepository1 defined in @EnableJpaRepositories declared on SampleAuthorizationServiceApplication: Cannot create inner bean '(inner bean)#47a7c93e' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#47a7c93e': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1689)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:925)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:339)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    ... 68 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#47a7c93e': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374)\n    ... 87 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n</code></pre>\n"},{"tags":["java","inputstream","httpurlconnection","outputstream"],"answers":[{"tags":[],"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681747763,"creation_date":1681747763,"answer_id":76037147,"question_id":76036573,"body_markdown":"If your content is text file you can use **OutputStreamWriter**. (It&#39;s look like your file is a json)\r\n\r\n    try (OutputStream os = con.getOutputStream();\r\n        OutputStreamWriter osw = new OutputStreamWriter(os, &quot;UTF-8&quot;)) {\r\n        String data = &quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;, \\&quot;age\\&quot;: 30}&quot;;\r\n        osw.write(data);\r\n        osw.flush();\r\n    } catch (UnsupportedEncodingException e) {\r\n        throw new RuntimeException(e);\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\nIf your content is binary file you can use **DataOutputStream** \r\n\r\n    try (OutputStream os = con.getOutputStream();\r\n        DataOutputStream dos = new DataOutputStream(os)) {\r\n        byte[] data = {0x01, 0x02, 0x03, 0x04, 0x05};\r\n        dos.write(data);\r\n        dos.flush();\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\n","title":"How to upload InputStream to HttpURLConnection","body":"<p>If your content is text file you can use <strong>OutputStreamWriter</strong>. (It's look like your file is a json)</p>\n<pre><code>try (OutputStream os = con.getOutputStream();\n    OutputStreamWriter osw = new OutputStreamWriter(os, &quot;UTF-8&quot;)) {\n    String data = &quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;, \\&quot;age\\&quot;: 30}&quot;;\n    osw.write(data);\n    osw.flush();\n} catch (UnsupportedEncodingException e) {\n    throw new RuntimeException(e);\n} catch (IOException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n<p>If your content is binary file you can use <strong>DataOutputStream</strong></p>\n<pre><code>try (OutputStream os = con.getOutputStream();\n    DataOutputStream dos = new DataOutputStream(os)) {\n    byte[] data = {0x01, 0x02, 0x03, 0x04, 0x05};\n    dos.write(data);\n    dos.flush();\n} catch (IOException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n"}],"owner":{"account_id":6881483,"reputation":2901,"user_id":5288074,"accept_rate":74,"display_name":"Lara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76037147,"answer_count":1,"score":0,"last_activity_date":1681747763,"creation_date":1681743834,"question_id":76036573,"body_markdown":"I have created a **HttpURLConnection** using which i need to upload a file to a specific URL. Below is my code\r\n\r\n    String uURL = &quot;http:some_domain/add&quot;;\r\n    URL url = new URL(uURL);\r\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    connection.setDoOutput(true);\r\n    connection.setRequestProperty(&quot;Content-Type&quot;, &quot;text/plain&quot;);\r\n    connection.setRequestMethod(&quot;PUT&quot;);\r\n\r\n    OutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());\r\n\r\n    InputStream iStream = getContent(&quot;ABC&quot;, &quot;test.json&quot;);   \r\n\r\nNow, i have retrieved my content in `iStream` and want to upload it using `OutputStreamWriter`. How can i upload the content? ","title":"How to upload InputStream to HttpURLConnection","body":"<p>I have created a <strong>HttpURLConnection</strong> using which i need to upload a file to a specific URL. Below is my code</p>\n<pre><code>String uURL = &quot;http:some_domain/add&quot;;\nURL url = new URL(uURL);\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setDoOutput(true);\nconnection.setRequestProperty(&quot;Content-Type&quot;, &quot;text/plain&quot;);\nconnection.setRequestMethod(&quot;PUT&quot;);\n\nOutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());\n\nInputStream iStream = getContent(&quot;ABC&quot;, &quot;test.json&quot;);   \n</code></pre>\n<p>Now, i have retrieved my content in <code>iStream</code> and want to upload it using <code>OutputStreamWriter</code>. How can i upload the content?</p>\n"},{"tags":["java","multithreading","tomcat","spring-boot"],"comments":[{"owner":{"account_id":2478109,"reputation":2505,"user_id":2158271,"accept_rate":56,"display_name":"haba713"},"score":0,"creation_date":1515966906,"post_id":48254517,"comment_id":83491737,"body_markdown":"Not sure... Have you tried this?\norg.quartz.scheduler.interruptJobsOnShutdown=true\n\nSee https://stackoverflow.com/a/3475101/2158271","body":"Not sure... Have you tried this? org.quartz.scheduler.interruptJobsOnShutdown=true  See <a href=\"https://stackoverflow.com/a/3475101/2158271\">stackoverflow.com/a/3475101/2158271</a>"},{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1515967677,"post_id":48254517,"comment_id":83491916,"body_markdown":"i am not using quartz","body":"i am not using quartz"},{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1516200076,"post_id":48254517,"comment_id":83592056,"body_markdown":"Do you use shiro or c3p0 in your project?","body":"Do you use shiro or c3p0 in your project?"},{"owner":{"account_id":6063356,"reputation":714,"user_id":4831142,"display_name":"Robert Ellis"},"score":0,"creation_date":1516530108,"post_id":48254517,"comment_id":83718130,"body_markdown":"@MahmoudSaleh  try this https://stackoverflow.com/questions/6603051/how-can-i-shutdown-spring-task-executor-scheduler-pools-before-all-other-beans-i","body":"@MahmoudSaleh  try this <a href=\"https://stackoverflow.com/questions/6603051/how-can-i-shutdown-spring-task-executor-scheduler-pools-before-all-other-beans-i\" title=\"how can i shutdown spring task executor scheduler pools before all other beans i\">stackoverflow.com/questions/6603051/&hellip;</a>"},{"owner":{"account_id":5445861,"reputation":339,"user_id":4332437,"display_name":"Claudio Corsi"},"score":4,"creation_date":1516567038,"post_id":48254517,"comment_id":83729782,"body_markdown":"The problem is that you do not know who started the TimerThread.  I would recommend that you create a java agent that adds a print statement that produces a stack trace to the TimerThread ctor.  You could then use that information to determine who started the TimerThread.","body":"The problem is that you do not know who started the TimerThread.  I would recommend that you create a java agent that adds a print statement that produces a stack trace to the TimerThread ctor.  You could then use that information to determine who started the TimerThread."},{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1516609062,"post_id":48254517,"comment_id":83741060,"body_markdown":"@Claudio Corsi, any link for example on how to do that ?","body":"@Claudio Corsi, any link for example on how to do that ?"},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1516792030,"post_id":48254517,"comment_id":83831371,"body_markdown":"Did you try to extend your `ContainerContextClosedHandler.contextDestroyed` to manually shutdown the `taskExecutor` and/or the scheduler respectively. Similar to the fix suggested in [this answer](https://stackoverflow.com/questions/2730354/spring-scheduler-shutdown-error)","body":"Did you try to extend your <code>ContainerContextClosedHandler.contextDestroyed</code> to manually shutdown the <code>taskExecutor</code> and/or the scheduler respectively. Similar to the fix suggested in <a href=\"https://stackoverflow.com/questions/2730354/spring-scheduler-shutdown-error\">this answer</a>"},{"owner":{"account_id":2737504,"reputation":2699,"user_id":2359858,"display_name":"diogenesgg"},"score":1,"creation_date":1516809772,"post_id":48254517,"comment_id":83843586,"body_markdown":"You can debug it using Eclipse by placing a breakpoint in the TimerThread constructor, after having the source code for your JDK version attached.","body":"You can debug it using Eclipse by placing a breakpoint in the TimerThread constructor, after having the source code for your JDK version attached."},{"owner":{"account_id":389722,"reputation":102,"user_id":749337,"display_name":"matthenry87"},"score":1,"creation_date":1688166044,"post_id":48254517,"comment_id":135042465,"body_markdown":"@diogenesgg Gone are the days of having to attach the source to debug into 3rd party code. If you&#39;re using the best IDE money can buy that is (not sure if community edition has decompiler by default).","body":"@diogenesgg Gone are the days of having to attach the source to debug into 3rd party code. If you&#39;re using the best IDE money can buy that is (not sure if community edition has decompiler by default)."}],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1516204488,"creation_date":1516204488,"answer_id":48305086,"question_id":48254517,"body_markdown":"Change your `ScheduleConfig` to use `shutdownNow` instead of `shutdown` as destroy method.\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class ScheduleConfig implements SchedulingConfigurer {\r\n    \r\n        @Override\r\n        public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n            taskRegistrar.setScheduler(taskExecutor());\r\n        }\r\n    \r\n        @Bean(destroyMethod = &quot;shutdownNow&quot;)\r\n        public Executor taskExecutor() {\r\n            return Executors.newScheduledThreadPool(100);\r\n        }\r\n    }","title":"The web application appears to have started a thread named [Timer-0] but has failed to stop it","body":"<p>Change your <code>ScheduleConfig</code> to use <code>shutdownNow</code> instead of <code>shutdown</code> as destroy method.</p>\n\n<pre><code>@Configuration\n@EnableScheduling\npublic class ScheduleConfig implements SchedulingConfigurer {\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n        taskRegistrar.setScheduler(taskExecutor());\n    }\n\n    @Bean(destroyMethod = \"shutdownNow\")\n    public Executor taskExecutor() {\n        return Executors.newScheduledThreadPool(100);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4827758,"reputation":2373,"user_id":3896780,"display_name":"Mehmet Sunkur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1516231962,"creation_date":1516231962,"answer_id":48311697,"question_id":48254517,"body_markdown":"It is hard to say root cause but thread name _[Timer-0]_ gives a clue to find it. `java.util.Timer` class creates threads which has name pattern like _Timer-*_ as you can see in it&#39;s source code. \r\n\r\n    public Timer() {\r\n        this(&quot;Timer-&quot; + serialNumber());\r\n    }\r\n\r\nPossibly the libraries that are in your classpath starts a _Timer_ thread but doesn&#39;t cancel it or the code which is working in this thread stuck. \r\n\r\nI may suggest put breakpoint in `java.util.Timer` and debug it to find which tasks is working on it. It may point the root cause.","title":"The web application appears to have started a thread named [Timer-0] but has failed to stop it","body":"<p>It is hard to say root cause but thread name <em>[Timer-0]</em> gives a clue to find it. <code>java.util.Timer</code> class creates threads which has name pattern like <em>Timer-*</em> as you can see in it's source code. </p>\n\n<pre><code>public Timer() {\n    this(\"Timer-\" + serialNumber());\n}\n</code></pre>\n\n<p>Possibly the libraries that are in your classpath starts a <em>Timer</em> thread but doesn't cancel it or the code which is working in this thread stuck. </p>\n\n<p>I may suggest put breakpoint in <code>java.util.Timer</code> and debug it to find which tasks is working on it. It may point the root cause.</p>\n"},{"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1653362071,"creation_date":1516299368,"answer_id":48327830,"question_id":48254517,"body_markdown":"I want to share some solutions with root cause analysis of this issue.\r\n\r\n---\r\n&gt; # For Oracle Users\r\n\r\n## Solution #1\r\n\r\nYou should remove your Oracle driver from Tomcat&#39;s `/lib` folder.\r\nI was facing the same issue and it got resolved.\r\n\r\n**Note:** Let the Oracle driver be in `/WEB-INF/lib` folder.\r\n\r\n## Solution #2\r\n\r\nYou can use real hack by sleeping thread.\r\n\r\n    @Override\r\n    public void contextDestroyed(ServletContextEvent servletContextEvent) {\r\n        logger.info(&quot;######### contextDestroyed #########&quot;);\r\n        Enumeration&lt;Driver&gt; drivers = DriverManager.getDrivers();\r\n        while (drivers.hasMoreElements()) {\r\n            Driver driver = drivers.nextElement();\r\n            try {\r\n                DriverManager.deregisterDriver(driver);\r\n                logger.info(String.format(&quot;deregistering jdbc driver: %s&quot;, driver));\r\n            } catch (SQLException e) {\r\n                logger.info(String.format(&quot;Error deregistering driver %s&quot;, driver), e);\r\n            }\r\n        }\r\n    \ttry { Thread.sleep(2000L); } catch (Exception e) {} // Use this thread sleep\r\n    }\r\n\r\n**Resource Link:** [Solution to “Tomcat can’t stop [Abandoned connection cleanup thread]”](https://www.ralph-schuster.eu/2014/07/09/solution-to-tomcat-cant-stop-an-abandoned-connection-cleanup-thread/)\r\n\r\n## Solution #3\r\n\r\n[Svetlin Zarev](https://stackoverflow.com/users/2588800/svetlin-zarev) has told nothing to worry about. It is the standard message of tomcat. He has given root cause analysis like below:\r\n\r\n&gt; This problem is occurred when an application has started\r\n&gt; ScheduledExecutor (but this will happen with any other\r\n&gt; Thread/TheadPool) and didn&#39;t shut it down on contextDestroyed. So\r\n&gt; check if you are shutting down your threads on application/server\r\n&gt; stop.\r\n\r\n**Resource Link:** [Tomcat8 memory leak](https://stackoverflow.com/a/28106807/2293534)\r\n\r\n## Solution #4\r\n\r\n**For Oracle users**, there are multiple answers in this post: https://stackoverflow.com/questions/3320400/to-prevent-a-memory-leak-the-jdbc-driver-has-been-forcibly-unregistered\r\n\r\n---\r\n\r\n&gt; # For MySQL users\r\n\r\n## Solution #5\r\n\r\n**Root Cause Analysis with Solution:**\r\n\r\n&gt; The cleanup thread for abandoned connections in the\r\n&gt; **NonRegisteringDriver** class was refactored to have a static shutdown method. Memory was allocated but never released. If you\r\n&gt; encountered this leak problem, implement the context listener in your\r\n&gt; application with the `AbandonedConnectionCleanupThread.shutdown()`\r\n&gt; call in the `contextDestroyed` method. \r\n&gt; \r\n&gt; This issue was found in applications running under the Tomcat\r\n&gt; application server, but it might have also applied to other\r\n&gt; application servers.\r\n&gt; \r\n&gt; For example:\r\n&gt; ---\r\n&gt; \r\n&gt;     @WebListener\r\n&gt;     public class YourThreadsListener implements ServletContextListener {\r\n&gt;        public void contextDestroyed(ServletContextEvent arg0) {\r\n&gt;           try {\r\n&gt;               AbandonedConnectionCleanupThread.shutdown();\r\n&gt;           } catch (InterruptedException e) {\r\n&gt;           }\r\n&gt;        }\r\n&gt;        ...\r\n&gt;     }\r\n&gt; \r\n&gt; Note that if container does not support annotations, you add the\r\n&gt; description to  web.xml:\r\n&gt; \r\n&gt;     &lt;listener&gt;\r\n&gt;         &lt;listener-class&gt;user.package.YourThreadsListener&lt;/listener-class&gt; \r\n&gt;     &lt;/listener&gt;\r\n\r\n**Resource Link:** https://docs.oracle.com/cd/E17952_01/connector-j-relnotes-en/news-5-1-23.html\r\n\r\n","title":"The web application appears to have started a thread named [Timer-0] but has failed to stop it","body":"<p>I want to share some solutions with root cause analysis of this issue.</p>\n<hr />\n<blockquote>\n<h1>For Oracle Users</h1>\n</blockquote>\n<h2>Solution #1</h2>\n<p>You should remove your Oracle driver from Tomcat's <code>/lib</code> folder.\nI was facing the same issue and it got resolved.</p>\n<p><strong>Note:</strong> Let the Oracle driver be in <code>/WEB-INF/lib</code> folder.</p>\n<h2>Solution #2</h2>\n<p>You can use real hack by sleeping thread.</p>\n<pre><code>@Override\npublic void contextDestroyed(ServletContextEvent servletContextEvent) {\n    logger.info(&quot;######### contextDestroyed #########&quot;);\n    Enumeration&lt;Driver&gt; drivers = DriverManager.getDrivers();\n    while (drivers.hasMoreElements()) {\n        Driver driver = drivers.nextElement();\n        try {\n            DriverManager.deregisterDriver(driver);\n            logger.info(String.format(&quot;deregistering jdbc driver: %s&quot;, driver));\n        } catch (SQLException e) {\n            logger.info(String.format(&quot;Error deregistering driver %s&quot;, driver), e);\n        }\n    }\n    try { Thread.sleep(2000L); } catch (Exception e) {} // Use this thread sleep\n}\n</code></pre>\n<p><strong>Resource Link:</strong> <a href=\"https://www.ralph-schuster.eu/2014/07/09/solution-to-tomcat-cant-stop-an-abandoned-connection-cleanup-thread/\" rel=\"nofollow noreferrer\">Solution to “Tomcat can’t stop [Abandoned connection cleanup thread]”</a></p>\n<h2>Solution #3</h2>\n<p><a href=\"https://stackoverflow.com/users/2588800/svetlin-zarev\">Svetlin Zarev</a> has told nothing to worry about. It is the standard message of tomcat. He has given root cause analysis like below:</p>\n<blockquote>\n<p>This problem is occurred when an application has started\nScheduledExecutor (but this will happen with any other\nThread/TheadPool) and didn't shut it down on contextDestroyed. So\ncheck if you are shutting down your threads on application/server\nstop.</p>\n</blockquote>\n<p><strong>Resource Link:</strong> <a href=\"https://stackoverflow.com/a/28106807/2293534\">Tomcat8 memory leak</a></p>\n<h2>Solution #4</h2>\n<p><strong>For Oracle users</strong>, there are multiple answers in this post: <a href=\"https://stackoverflow.com/questions/3320400/to-prevent-a-memory-leak-the-jdbc-driver-has-been-forcibly-unregistered\">To prevent a memory leak, the JDBC Driver has been forcibly unregistered</a></p>\n<hr />\n<blockquote>\n<h1>For MySQL users</h1>\n</blockquote>\n<h2>Solution #5</h2>\n<p><strong>Root Cause Analysis with Solution:</strong></p>\n<blockquote>\n<p>The cleanup thread for abandoned connections in the\n<strong>NonRegisteringDriver</strong> class was refactored to have a static shutdown method. Memory was allocated but never released. If you\nencountered this leak problem, implement the context listener in your\napplication with the <code>AbandonedConnectionCleanupThread.shutdown()</code>\ncall in the <code>contextDestroyed</code> method.</p>\n<p>This issue was found in applications running under the Tomcat\napplication server, but it might have also applied to other\napplication servers.</p>\n<h2>For example:</h2>\n<pre><code>@WebListener\npublic class YourThreadsListener implements ServletContextListener {\n   public void contextDestroyed(ServletContextEvent arg0) {\n      try {\n          AbandonedConnectionCleanupThread.shutdown();\n      } catch (InterruptedException e) {\n      }\n   }\n   ...\n}\n</code></pre>\n<p>Note that if container does not support annotations, you add the\ndescription to  web.xml:</p>\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;user.package.YourThreadsListener&lt;/listener-class&gt; \n&lt;/listener&gt;\n</code></pre>\n</blockquote>\n<p><strong>Resource Link:</strong> <a href=\"https://docs.oracle.com/cd/E17952_01/connector-j-relnotes-en/news-5-1-23.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E17952_01/connector-j-relnotes-en/news-5-1-23.html</a></p>\n"},{"tags":[],"owner":{"account_id":2737504,"reputation":2699,"user_id":2359858,"display_name":"diogenesgg"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1516810322,"creation_date":1516763012,"answer_id":48414175,"question_id":48254517,"body_markdown":"My conclusions after running a few tests based on your code\r\nand researching online:\r\n\r\n- There&#39;s nothing to worry about ([link][1]).\r\nTomcat process is being finished and there&#39;s no memory leaks left behind.\r\n\r\n- Even if you call something like `AbandonedConnectionCleanupThread.shutdown()`,\r\nyou could still get that same Warning ([link][2])\r\n\r\n- This warning happens when calling `startup.sh` and `shutdown.sh`.\r\nWhen running Tomcat from Eclipse, it doesn&#39;t show that Warning.\r\n\r\n- Your shutdown method for the `Executor` is likely being called.\r\nFor my tests, it was getting called even if I didn&#39;t define the `destroyMethod`\r\nfor the executor.\r\n\r\n- In this case, this warning is not related to any Spring Scheduling bean.\r\n`Executors.newScheduledThreadPool` returns a new `ScheduledThreadPoolExecutor`,\r\nwhich has the destroy method and it is getting destroyed, like I pointed out earlier. You can debug and see it for yourself.\r\n\r\n- However, there&#39;s somewhere at your code calling `new java.util.Timer`,\r\nwhich calls `new TimerThread()`, \r\nass seen from your logging, and as pointed out by @Claudio Corsi.\r\n\r\n\r\n**In order to debug it and if you are using Eclipse**,\r\nyou have to attache the source code for your JDK version.\r\nOpen the class declaration (hold ctrl and choose open declaration)\r\nand click the &quot;Attach Source Code&quot; button. Make sure you have dowloaded the\r\nexact same version. You don&#39;t even have to extract the zip.\r\nIf you&#39;re using Maven, just hold on a bit that it will download for itself. \r\n\r\nThen, place a breakpoint in the constructor for `java.util.Timer`\r\nand start debugging your application.\r\n\r\n**Edit**: After identifying a reference to `java.util.Timer`, save it (as a bean, if it&#39;s not one) and call its `cancel` method on context destroy. \r\n\r\n  [1]: https://stackoverflow.com/questions/28105803/tomcat8-memory-leak#answer-28106807\r\n  [2]: https://stackoverflow.com/questions/28105803/tomcat8-memory-leak","title":"The web application appears to have started a thread named [Timer-0] but has failed to stop it","body":"<p>My conclusions after running a few tests based on your code\nand researching online:</p>\n\n<ul>\n<li><p>There's nothing to worry about (<a href=\"https://stackoverflow.com/questions/28105803/tomcat8-memory-leak#answer-28106807\">link</a>).\nTomcat process is being finished and there's no memory leaks left behind.</p></li>\n<li><p>Even if you call something like <code>AbandonedConnectionCleanupThread.shutdown()</code>,\nyou could still get that same Warning (<a href=\"https://stackoverflow.com/questions/28105803/tomcat8-memory-leak\">link</a>)</p></li>\n<li><p>This warning happens when calling <code>startup.sh</code> and <code>shutdown.sh</code>.\nWhen running Tomcat from Eclipse, it doesn't show that Warning.</p></li>\n<li><p>Your shutdown method for the <code>Executor</code> is likely being called.\nFor my tests, it was getting called even if I didn't define the <code>destroyMethod</code>\nfor the executor.</p></li>\n<li><p>In this case, this warning is not related to any Spring Scheduling bean.\n<code>Executors.newScheduledThreadPool</code> returns a new <code>ScheduledThreadPoolExecutor</code>,\nwhich has the destroy method and it is getting destroyed, like I pointed out earlier. You can debug and see it for yourself.</p></li>\n<li><p>However, there's somewhere at your code calling <code>new java.util.Timer</code>,\nwhich calls <code>new TimerThread()</code>, \nass seen from your logging, and as pointed out by @Claudio Corsi.</p></li>\n</ul>\n\n<p><strong>In order to debug it and if you are using Eclipse</strong>,\nyou have to attache the source code for your JDK version.\nOpen the class declaration (hold ctrl and choose open declaration)\nand click the \"Attach Source Code\" button. Make sure you have dowloaded the\nexact same version. You don't even have to extract the zip.\nIf you're using Maven, just hold on a bit that it will download for itself. </p>\n\n<p>Then, place a breakpoint in the constructor for <code>java.util.Timer</code>\nand start debugging your application.</p>\n\n<p><strong>Edit</strong>: After identifying a reference to <code>java.util.Timer</code>, save it (as a bean, if it's not one) and call its <code>cancel</code> method on context destroy. </p>\n"},{"tags":[],"owner":{"account_id":12662498,"reputation":627,"user_id":9202894,"display_name":"Ashish Sharma"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1563016095,"creation_date":1563016095,"answer_id":57018573,"question_id":48254517,"body_markdown":"I have also got the same issue with following error:\r\n\r\n    The web application [ROOT] appears to have started a thread named [cluster-ClusterId{value=&#39;5d29b78967e4ce07d9bb8705&#39;, description=&#39;null&#39;}-localhost:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n\r\nSo, after a while I figured it out that I didn&#39;t do the maven install for all sub modules in my spring-boot application. So, double check if you are having same error that:\r\n\r\n1. You have run `mvn clean install -U` for all sub modules in the project and for the project itself too.","title":"The web application appears to have started a thread named [Timer-0] but has failed to stop it","body":"<p>I have also got the same issue with following error:</p>\n\n<pre><code>The web application [ROOT] appears to have started a thread named [cluster-ClusterId{value='5d29b78967e4ce07d9bb8705', description='null'}-localhost:27017] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n</code></pre>\n\n<p>So, after a while I figured it out that I didn't do the maven install for all sub modules in my spring-boot application. So, double check if you are having same error that:</p>\n\n<ol>\n<li>You have run <code>mvn clean install -U</code> for all sub modules in the project and for the project itself too.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22752502,"reputation":11,"user_id":16912476,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681747622,"creation_date":1681747145,"answer_id":76037069,"question_id":48254517,"body_markdown":"Here we have identified this thread &quot;Timer-0&quot; being created by an old DB2 driver (db2jcc4 v4.19.66)\r\n\r\nWe upgraded to **db2jcc4 v4.32.28** (the latest version as of writing), and the issue was gone.\r\n\r\nAt a first look, this was coming from a thread monitoring a **DB2JccConfiguration.properties** file that we were not using.\r\n\r\nSo I assume that one of the possible causes of this problem comes from a thread leak caused by an outdated DB2 driver.\r\n\r\nTip: To find the offending library, we have set a breakpoint on the Timer.class instance, it was then obvious to determine that it came from our Db2 driver.","title":"The web application appears to have started a thread named [Timer-0] but has failed to stop it","body":"<p>Here we have identified this thread &quot;Timer-0&quot; being created by an old DB2 driver (db2jcc4 v4.19.66)</p>\n<p>We upgraded to <strong>db2jcc4 v4.32.28</strong> (the latest version as of writing), and the issue was gone.</p>\n<p>At a first look, this was coming from a thread monitoring a <strong>DB2JccConfiguration.properties</strong> file that we were not using.</p>\n<p>So I assume that one of the possible causes of this problem comes from a thread leak caused by an outdated DB2 driver.</p>\n<p>Tip: To find the offending library, we have set a breakpoint on the Timer.class instance, it was then obvious to determine that it came from our Db2 driver.</p>\n"}],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148482,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":48305086,"answer_count":6,"score":51,"last_activity_date":1681747622,"creation_date":1515966520,"question_id":48254517,"body_markdown":"I am using Spring Boot 1.5.9.RELEASE + Java 8 + Tomcat 9\r\n+ Jersey + Oracle and my app has scheduled method defined as follows:\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class ScheduleConfig implements SchedulingConfigurer {\r\n    \r\n        @Override\r\n        public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n            taskRegistrar.setScheduler(taskExecutor());\r\n        }\r\n    \r\n        @Bean(destroyMethod = &quot;shutdown&quot;)\r\n        public Executor taskExecutor() {\r\n            return Executors.newScheduledThreadPool(100);\r\n        }\r\n    }\r\n\r\nThe job class:\r\n\r\n    @Component\r\n    public class ClearCacheJob {\r\n    \r\n    \r\n    \r\n        @Scheduled(fixedRate = 3600000, initialDelay = 10000)\r\n        public void clearErrorCodesCache() {\r\n            try {\r\n                logger.info(&quot;######## ClearCacheJob #########&quot;);\r\n            } catch (Exception e) {\r\n                logger.error(&quot;Exception in ClearCacheJob&quot;, e);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nAlso I have a class to deregister the Oracle driver as follows:\r\n\r\n    @WebListener\r\n    public class ContainerContextClosedHandler implements ServletContextListener {\r\n    \r\n        private static final Logger logger = LoggerFactory.getLogger(ContainerContextClosedHandler.class);\r\n    \r\n        @Override\r\n        public void contextInitialized(ServletContextEvent servletContextEvent) {\r\n            logger.info(&quot;######### contextInitialized #########&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent servletContextEvent) {\r\n            logger.info(&quot;######### contextDestroyed #########&quot;);\r\n            Enumeration&lt;Driver&gt; drivers = DriverManager.getDrivers();\r\n            while (drivers.hasMoreElements()) {\r\n                Driver driver = drivers.nextElement();\r\n                try {\r\n                    DriverManager.deregisterDriver(driver);\r\n                    logger.info(String.format(&quot;deregistering jdbc driver: %s&quot;, driver));\r\n                } catch (SQLException e) {\r\n                    logger.info(String.format(&quot;Error deregistering driver %s&quot;, driver), e);\r\n                }\r\n    \r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nbut when stopping Tomcat I am getting the following error:\r\n\r\n    WARNING [Thread-11] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [hai] \r\n    appears to have started a thread named [Timer-0] but has failed to stop it. \r\n     This is very likely to create a memory leak. Stack trace of thread:\r\n     java.lang.Object.wait(Native Method)\r\n     java.lang.Object.wait(Unknown Source)\r\n     java.util.TimerThread.mainLoop(Unknown Source)\r\n     java.util.TimerThread.run(Unknown Source)\r\n\r\nWhy am I getting this error and how can I fix it?\r\n","title":"The web application appears to have started a thread named [Timer-0] but has failed to stop it","body":"<p>I am using Spring Boot 1.5.9.RELEASE + Java 8 + Tomcat 9\n+ Jersey + Oracle and my app has scheduled method defined as follows:</p>\n\n<pre><code>@Configuration\n@EnableScheduling\npublic class ScheduleConfig implements SchedulingConfigurer {\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n        taskRegistrar.setScheduler(taskExecutor());\n    }\n\n    @Bean(destroyMethod = \"shutdown\")\n    public Executor taskExecutor() {\n        return Executors.newScheduledThreadPool(100);\n    }\n}\n</code></pre>\n\n<p>The job class:</p>\n\n<pre><code>@Component\npublic class ClearCacheJob {\n\n\n\n    @Scheduled(fixedRate = 3600000, initialDelay = 10000)\n    public void clearErrorCodesCache() {\n        try {\n            logger.info(\"######## ClearCacheJob #########\");\n        } catch (Exception e) {\n            logger.error(\"Exception in ClearCacheJob\", e);\n        }\n    }\n\n}\n</code></pre>\n\n<p>Also I have a class to deregister the Oracle driver as follows:</p>\n\n<pre><code>@WebListener\npublic class ContainerContextClosedHandler implements ServletContextListener {\n\n    private static final Logger logger = LoggerFactory.getLogger(ContainerContextClosedHandler.class);\n\n    @Override\n    public void contextInitialized(ServletContextEvent servletContextEvent) {\n        logger.info(\"######### contextInitialized #########\");\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent servletContextEvent) {\n        logger.info(\"######### contextDestroyed #########\");\n        Enumeration&lt;Driver&gt; drivers = DriverManager.getDrivers();\n        while (drivers.hasMoreElements()) {\n            Driver driver = drivers.nextElement();\n            try {\n                DriverManager.deregisterDriver(driver);\n                logger.info(String.format(\"deregistering jdbc driver: %s\", driver));\n            } catch (SQLException e) {\n                logger.info(String.format(\"Error deregistering driver %s\", driver), e);\n            }\n\n        }\n    }\n\n}\n</code></pre>\n\n<p>but when stopping Tomcat I am getting the following error:</p>\n\n<pre><code>WARNING [Thread-11] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [hai] \nappears to have started a thread named [Timer-0] but has failed to stop it. \n This is very likely to create a memory leak. Stack trace of thread:\n java.lang.Object.wait(Native Method)\n java.lang.Object.wait(Unknown Source)\n java.util.TimerThread.mainLoop(Unknown Source)\n java.util.TimerThread.run(Unknown Source)\n</code></pre>\n\n<p>Why am I getting this error and how can I fix it?</p>\n"},{"tags":["java","spring-boot","selenium-webdriver","junit5"],"answers":[{"tags":[],"owner":{"account_id":23992033,"reputation":1,"user_id":17978028,"display_name":"David Jones"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681747571,"creation_date":1681747571,"answer_id":76037120,"question_id":73231664,"body_markdown":"Your cleanTest() is just quitting the browser. You don&#39;t want to do that between each test, you want to do that after all of the tests.\r\n\r\nSo change your @AfterEach to @AfterAll and make sure your @BeforeEach is putting you exactly where you want. In this case its taking you to www.google.com and that seems fine. But in some cases you might want to do more in between each run (in my case I log out and then log back in to our application between tests for a fresh view)","title":"How to autowire webdriver and page objects in selenium - spring tests","body":"<p>Your cleanTest() is just quitting the browser. You don't want to do that between each test, you want to do that after all of the tests.</p>\n<p>So change your @AfterEach to @AfterAll and make sure your @BeforeEach is putting you exactly where you want. In this case its taking you to <a href=\"http://www.google.com\" rel=\"nofollow noreferrer\">www.google.com</a> and that seems fine. But in some cases you might want to do more in between each run (in my case I log out and then log back in to our application between tests for a fresh view)</p>\n"}],"owner":{"account_id":25973996,"reputation":1,"user_id":19688685,"display_name":"spring-qa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681747571,"creation_date":1659596917,"question_id":73231664,"body_markdown":"I am trying to create a project with selenium and spring and use dependency injection to share the webdriver among the page objects.\r\nThis is a sample project:\r\nA base test class that is inherited by all tests\r\n```\r\npublic class Base {\r\n\r\n    @Autowired\r\n    WebDriver driver;\r\n\r\n    public void testSetUp() {\r\n        driver.get(&quot;http://google.com&quot;);\r\n    }\r\n\r\n    public void cleanTest() {\r\n        driver.quit();\r\n    }\r\n}\r\n```\r\n\r\nA WebDriverConfig class which creates the webdriver bean\r\n```\r\n@Configuration\r\npublic class WebDriverConfig {\r\n\r\n    @Bean\r\n    public WebDriver getDriver() {\r\n        WebDriverManager.chromedriver().setup();\r\n        return new ChromeDriver();\r\n    }\r\n}\r\n```\r\n\r\nA page class which includes the actions that need to be executed in each test\r\n```\r\n@Component\r\npublic class Page {\r\n\r\n    @Autowired\r\n    WebDriver driver;\r\n\r\n    public void methodForTest1() {\r\n        driver.findElement(By.name(&quot;q&quot;)).sendKeys(&quot;test1&quot;);\r\n    }\r\n\r\n    public void methodForTest2() {\r\n        driver.findElement(By.name(&quot;q&quot;)).sendKeys(&quot;test2&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd the test class which is annotated with @SpringBootTest\r\n```\r\n@SpringBootTest\r\npublic class AppTests extends Base {\r\n\r\n    @Autowired\r\n    Page page;\r\n\r\n    @BeforeEach\r\n    public void setUp() {\r\n        testSetUp();\r\n    }\r\n\r\n\r\n    @Test\r\n    void test1() throws InterruptedException {\r\n        Thread.sleep(3000);\r\n        page.methodForTest1();\r\n        Thread.sleep(3000);\r\n    }\r\n\r\n    @Test\r\n    void test2() throws InterruptedException {\r\n        Thread.sleep(3000);\r\n\r\n        page.methodForTest2();\r\n        Thread.sleep(3000);\r\n    }\r\n\r\n    @AfterEach\r\n    public void cleanUp() {\r\n        cleanTest();\r\n    }\r\n}\r\n```\r\n\r\nBoth tests are successful if run in isolation.\r\nHowever, if I run both of them in the same run, the @AfterEach method is called after the first test and the webdriver is quit. So, the second test fails with this error:\r\n\r\n```\r\norg.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?\r\n\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [null, findElement {using=id, value=L2AGLb}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 103.0.5060.134, chrome: {chromedriverVersion: 103.0.5060.134 (8ec6fce403b..., userDataDir: C:\\Users\\karamage\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:52182}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:52182/devtoo..., se:cdpVersion: 103.0.5060.134, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\n\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:145)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:569)\r\n\tat org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\r\n\tat org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:387)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:379)\r\n\tat test.config.Page.methodForTest2(Page.java:20)\r\n\tat test.AppTests.test2(AppTests.java:34)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\nIs there any way to fix this?","title":"How to autowire webdriver and page objects in selenium - spring tests","body":"<p>I am trying to create a project with selenium and spring and use dependency injection to share the webdriver among the page objects.\nThis is a sample project:\nA base test class that is inherited by all tests</p>\n<pre><code>public class Base {\n\n    @Autowired\n    WebDriver driver;\n\n    public void testSetUp() {\n        driver.get(&quot;http://google.com&quot;);\n    }\n\n    public void cleanTest() {\n        driver.quit();\n    }\n}\n</code></pre>\n<p>A WebDriverConfig class which creates the webdriver bean</p>\n<pre><code>@Configuration\npublic class WebDriverConfig {\n\n    @Bean\n    public WebDriver getDriver() {\n        WebDriverManager.chromedriver().setup();\n        return new ChromeDriver();\n    }\n}\n</code></pre>\n<p>A page class which includes the actions that need to be executed in each test</p>\n<pre><code>@Component\npublic class Page {\n\n    @Autowired\n    WebDriver driver;\n\n    public void methodForTest1() {\n        driver.findElement(By.name(&quot;q&quot;)).sendKeys(&quot;test1&quot;);\n    }\n\n    public void methodForTest2() {\n        driver.findElement(By.name(&quot;q&quot;)).sendKeys(&quot;test2&quot;);\n    }\n}\n</code></pre>\n<p>And the test class which is annotated with @SpringBootTest</p>\n<pre><code>@SpringBootTest\npublic class AppTests extends Base {\n\n    @Autowired\n    Page page;\n\n    @BeforeEach\n    public void setUp() {\n        testSetUp();\n    }\n\n\n    @Test\n    void test1() throws InterruptedException {\n        Thread.sleep(3000);\n        page.methodForTest1();\n        Thread.sleep(3000);\n    }\n\n    @Test\n    void test2() throws InterruptedException {\n        Thread.sleep(3000);\n\n        page.methodForTest2();\n        Thread.sleep(3000);\n    }\n\n    @AfterEach\n    public void cleanUp() {\n        cleanTest();\n    }\n}\n</code></pre>\n<p>Both tests are successful if run in isolation.\nHowever, if I run both of them in the same run, the @AfterEach method is called after the first test and the webdriver is quit. So, the second test fails with this error:</p>\n<pre><code>org.openqa.selenium.NoSuchSessionException: Session ID is null. Using WebDriver after calling quit()?\n\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, findElement {using=id, value=L2AGLb}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 103.0.5060.134, chrome: {chromedriverVersion: 103.0.5060.134 (8ec6fce403b..., userDataDir: C:\\Users\\karamage\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:52182}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:52182/devtoo..., se:cdpVersion: 103.0.5060.134, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\n\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:145)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:569)\n    at org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:162)\n    at org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:60)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:387)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:379)\n    at test.config.Page.methodForTest2(Page.java:20)\n    at test.AppTests.test2(AppTests.java:34)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>Is there any way to fix this?</p>\n"},{"tags":["java","sql","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1681718880,"post_id":76028697,"comment_id":134095907,"body_markdown":"What RDBMS are you using? Can you post the `CREATE TABLE` definition for your table?","body":"What RDBMS are you using? Can you post the <code>CREATE TABLE</code> definition for your table?"},{"owner":{"account_id":2992108,"reputation":3419,"user_id":2539472,"accept_rate":67,"display_name":"homerman"},"score":0,"creation_date":1681729658,"post_id":76028697,"comment_id":134098313,"body_markdown":"@LukasEder Hi Lukas - I&#39;ve updated the question with those details. In reality, the &quot;letter&quot; column is a UUID, but I assume this detail isn&#39;t all that relevant to the whatever the solution is.","body":"@LukasEder Hi Lukas - I&#39;ve updated the question with those details. In reality, the &quot;letter&quot; column is a UUID, but I assume this detail isn&#39;t all that relevant to the whatever the solution is."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681736787,"creation_date":1681736787,"answer_id":76035483,"question_id":76028697,"body_markdown":"Starting from jOOQ 3.17 and [#11969][1], this compiles just fine, assuming your `BOOL` column is really a `BOOLEAN`:\r\n\r\n```java\r\n.set(OPTIONS.IS_SELECTED, OPTIONS.LETTER.equal(val(&quot;B&quot;)))\r\n```\r\n\r\nThe reasons is that with [#11969][1], `Condition` is now a subtype of `Field&lt;Boolean&gt;`, which is what&#39;s expected here. Prior to jOOQ 3.17, you can always wrap a `Condition` in a `Field&lt;Boolean&gt;` explicitly, using [`DSL.field(Condition)`][2]\r\n\r\n```java\r\n.set(OPTIONS.IS_SELECTED, field(OPTIONS.LETTER.equal(val(&quot;B&quot;))))\r\n```\r\n\r\n[See also this section of the manual about boolean columns][3]\r\n\r\n\r\n  [1]: https://github.com/jOOQ/jOOQ/issues/11969\r\n  [2]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#field(org.jooq.Condition)\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/conditional-expressions/boolean-column/","title":"How can I perform a jOOQ update where the value assignment depends on the value of another column of the same row?","body":"<p>Starting from jOOQ 3.17 and <a href=\"https://github.com/jOOQ/jOOQ/issues/11969\" rel=\"nofollow noreferrer\">#11969</a>, this compiles just fine, assuming your <code>BOOL</code> column is really a <code>BOOLEAN</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.set(OPTIONS.IS_SELECTED, OPTIONS.LETTER.equal(val(&quot;B&quot;)))\n</code></pre>\n<p>The reasons is that with <a href=\"https://github.com/jOOQ/jOOQ/issues/11969\" rel=\"nofollow noreferrer\">#11969</a>, <code>Condition</code> is now a subtype of <code>Field&lt;Boolean&gt;</code>, which is what's expected here. Prior to jOOQ 3.17, you can always wrap a <code>Condition</code> in a <code>Field&lt;Boolean&gt;</code> explicitly, using <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#field(org.jooq.Condition)\" rel=\"nofollow noreferrer\"><code>DSL.field(Condition)</code></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>.set(OPTIONS.IS_SELECTED, field(OPTIONS.LETTER.equal(val(&quot;B&quot;))))\n</code></pre>\n<p><a href=\"https://www.jooq.org/doc/latest/manual/sql-building/conditional-expressions/boolean-column/\" rel=\"nofollow noreferrer\">See also this section of the manual about boolean columns</a></p>\n"}],"owner":{"account_id":2992108,"reputation":3419,"user_id":2539472,"accept_rate":67,"display_name":"homerman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76035483,"answer_count":1,"score":1,"last_activity_date":1681747478,"creation_date":1681659476,"question_id":76028697,"body_markdown":"Using Postgres 14.5 (and jOOQ 3.17.6), assume the following `options` table definition:\r\n\r\n    CREATE TABLE options (\r\n      letter       uuid  NOT NULL,\r\n      is_selected  bool  NULL,\r\n    );\r\n\r\n...with data:\r\n&lt;pre&gt;\r\n&lt;table&gt;\r\n&lt;tr&gt;&lt;td&gt;| letter&lt;/td&gt; | &lt;td&gt;is_selected |&lt;/td&gt;&lt;/tr&gt;\r\n&lt;tr&gt;&lt;td&gt;| A&lt;/td&gt;      | &lt;td&gt;(null)      |&lt;/td&gt;&lt;/tr&gt;\r\n&lt;tr&gt;&lt;td&gt;| B&lt;/td&gt;      | &lt;td&gt;(null)      |&lt;/td&gt;&lt;/tr&gt;\r\n&lt;tr&gt;&lt;td&gt;| C&lt;/td&gt;      | &lt;td&gt;(null)      |&lt;/td&gt;&lt;/tr&gt;\r\n&lt;tr&gt;&lt;td&gt;| ...&lt;/td&gt;    | &lt;td&gt;(null)      |&lt;/td&gt;&lt;/tr&gt;\r\n&lt;/table&gt;\r\n&lt;/pre&gt;\r\n\r\n\r\nHow can I write an update to indicate that `B` was selected and the other values were not?\r\n\r\nI tried a few things:\r\n\r\n```\r\njooq\r\n  .update(OPTIONS)\r\n  .set(OPTIONS.IS_SELECTED, OPTIONS.LETTER == val(&quot;B&quot;)) &lt;-- this didn&#39;t work because I\r\n                                                            think this a memory address\r\n                                                            comparison\r\n\r\n  .set(OPTIONS.IS_SELECTED, OPTIONS.LETTER.equal(val(&quot;B&quot;))) &lt;-- this doesn&#39;t compile\r\n\r\n  .execute()\r\n```\r\n","title":"How can I perform a jOOQ update where the value assignment depends on the value of another column of the same row?","body":"<p>Using Postgres 14.5 (and jOOQ 3.17.6), assume the following <code>options</code> table definition:</p>\n<pre><code>CREATE TABLE options (\n  letter       uuid  NOT NULL,\n  is_selected  bool  NULL,\n);\n</code></pre>\n<p>...with data:</p>\n<pre>\n\n| letter | is_selected |\n| A      | (null)      |\n| B      | (null)      |\n| C      | (null)      |\n| ...    | (null)      |\n\n</pre>\n<p>How can I write an update to indicate that <code>B</code> was selected and the other values were not?</p>\n<p>I tried a few things:</p>\n<pre><code>jooq\n  .update(OPTIONS)\n  .set(OPTIONS.IS_SELECTED, OPTIONS.LETTER == val(&quot;B&quot;)) &lt;-- this didn't work because I\n                                                            think this a memory address\n                                                            comparison\n\n  .set(OPTIONS.IS_SELECTED, OPTIONS.LETTER.equal(val(&quot;B&quot;))) &lt;-- this doesn't compile\n\n  .execute()\n</code></pre>\n"},{"tags":["java","http","https","glassfish"],"comments":[{"owner":{"account_id":9790264,"reputation":2195,"user_id":7255138,"display_name":"Prashant Abdare"},"score":0,"creation_date":1525158136,"post_id":50112378,"comment_id":87242230,"body_markdown":"What exactly you have edited in default-web.xml file? If you can share your edited file.","body":"What exactly you have edited in default-web.xml file? If you can share your edited file."},{"owner":{"account_id":5533852,"reputation":1244,"user_id":4392892,"display_name":"Sunil Kanzar"},"score":0,"creation_date":1525158592,"post_id":50112378,"comment_id":87242388,"body_markdown":"It can be useful : http://www.antwerkz.com/port-unification-in-glassfish-3-part-1/","body":"It can be useful : <a href=\"http://www.antwerkz.com/port-unification-in-glassfish-3-part-1/\" rel=\"nofollow noreferrer\">antwerkz.com/port-unification-in-glassfish-3-part-1</a>"},{"owner":{"account_id":13478226,"reputation":87,"user_id":9724391,"display_name":"Amir Damirov"},"score":0,"creation_date":1525158911,"post_id":50112378,"comment_id":87242491,"body_markdown":"&lt;security-constraint&gt;\n\n   &lt;web-resource-collection&gt;\n\n     &lt;web-resource-name&gt; here i&#39;ve add website name &lt;/web-resource-name&gt;\n\n     &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n\n   &lt;/web-resource-collection&gt;\n\n   &lt;user-data-constraint&gt;\n\n     &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n\n   &lt;/user-data-constraint&gt;\n\n &lt;/security-constraint&gt;","body":"&lt;security-constraint&gt;     &lt;web-resource-collection&gt;       &lt;web-resource-name&gt; here i&#39;ve add website name &lt;/web-resource-name&gt;       &lt;url-pattern&gt;/*&lt;/url-pattern&gt;     &lt;/web-resource-collection&gt;     &lt;user-data-constraint&gt;       &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;     &lt;/user-data-constraint&gt;   &lt;/security-constraint&gt;"},{"owner":{"account_id":13478226,"reputation":87,"user_id":9724391,"display_name":"Amir Damirov"},"score":0,"creation_date":1525159149,"post_id":50112378,"comment_id":87242582,"body_markdown":"@SunilKanzar I&#39;ve tried that link. It doesnt work for me.","body":"@SunilKanzar I&#39;ve tried that link. It doesnt work for me."},{"owner":{"account_id":13478226,"reputation":87,"user_id":9724391,"display_name":"Amir Damirov"},"score":1,"creation_date":1525159181,"post_id":50112378,"comment_id":87242592,"body_markdown":"@Prashant i&#39;ve added lines to answer.","body":"@Prashant i&#39;ve added lines to answer."},{"owner":{"account_id":5533852,"reputation":1244,"user_id":4392892,"display_name":"Sunil Kanzar"},"score":2,"creation_date":1525159352,"post_id":50112378,"comment_id":87242651,"body_markdown":"@AmirDamirov please remove your answer and add it to the question.","body":"@AmirDamirov please remove your answer and add it to the question."},{"owner":{"account_id":9790264,"reputation":2195,"user_id":7255138,"display_name":"Prashant Abdare"},"score":0,"creation_date":1525162609,"post_id":50112378,"comment_id":87243694,"body_markdown":"@AmirDamirov glad you added required code but it should be added by editing your question and into it. And also delete the answer you posted.","body":"@AmirDamirov glad you added required code but it should be added by editing your question and into it. And also delete the answer you posted."},{"owner":{"account_id":13478226,"reputation":87,"user_id":9724391,"display_name":"Amir Damirov"},"score":1,"creation_date":1525166577,"post_id":50112378,"comment_id":87245106,"body_markdown":"@Prashant thank you for correcting.\n\nI&#39;ve added.","body":"@Prashant thank you for correcting.  I&#39;ve added."},{"owner":{"account_id":9790264,"reputation":2195,"user_id":7255138,"display_name":"Prashant Abdare"},"score":0,"creation_date":1525168720,"post_id":50112378,"comment_id":87246048,"body_markdown":"Amir, you need port unification, just go through this [blog](http://www.antwerkz.com/port-unification-in-glassfish-3-part-1/). I&#39;m sure this will solve your problem.","body":"Amir, you need port unification, just go through this <a href=\"http://www.antwerkz.com/port-unification-in-glassfish-3-part-1/\" rel=\"nofollow noreferrer\">blog</a>. I&#39;m sure this will solve your problem."}],"owner":{"account_id":13478226,"reputation":87,"user_id":9724391,"display_name":"Amir Damirov"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681747073,"creation_date":1525157092,"question_id":50112378,"body_markdown":"I want to redirect HTTP requests to HTTPs. How can I do this?\r\n\r\nI&#39;ve already tried by editing default-web.xml file, but after that the Glassfish admin panel did not work.\r\n\r\nI&#39;ve added these lines to `default-web.xml`:\r\n\r\n    &lt;security-constraint&gt;\r\n\r\n       &lt;web-resource-collection&gt;\r\n\r\n         &lt;web-resource-name&gt; **here i&#39;ve added the website name** &lt;/web-resource-name&gt;\r\n\r\n         &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\r\n       &lt;/web-resource-collection&gt;\r\n\r\n       &lt;user-data-constraint&gt;\r\n\r\n         &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\r\n\r\n       &lt;/user-data-constraint&gt;\r\n\r\n     &lt;/security-constraint&gt;\r\n\r\napp version : Glassfish 3\r\n\r\nOS : Redhat 6","title":"Glassfish 3 redirect all http requests to https","body":"<p>I want to redirect HTTP requests to HTTPs. How can I do this?</p>\n<p>I've already tried by editing default-web.xml file, but after that the Glassfish admin panel did not work.</p>\n<p>I've added these lines to <code>default-web.xml</code>:</p>\n<pre><code>&lt;security-constraint&gt;\n\n   &lt;web-resource-collection&gt;\n\n     &lt;web-resource-name&gt; **here i've added the website name** &lt;/web-resource-name&gt;\n\n     &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n\n   &lt;/web-resource-collection&gt;\n\n   &lt;user-data-constraint&gt;\n\n     &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n\n   &lt;/user-data-constraint&gt;\n\n &lt;/security-constraint&gt;\n</code></pre>\n<p>app version : Glassfish 3</p>\n<p>OS : Redhat 6</p>\n"},{"tags":["java","spring","autowired"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1681747787,"post_id":76035928,"comment_id":134103238,"body_markdown":"Being a singleton does not preclude having state. &quot;*Also is there a performance impact if we excessively used short lived instances per request received?*&quot; Of course. That&#39;s stress on the GC stress, but it still might be worth doing","body":"Being a singleton does not preclude having state. &quot;<i>Also is there a performance impact if we excessively used short lived instances per request received?</i>&quot; Of course. That&#39;s stress on the GC stress, but it still might be worth doing"}],"answers":[{"tags":[],"owner":{"account_id":13010918,"reputation":442,"user_id":11532975,"display_name":"Adrian Lagartera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681746858,"creation_date":1681746858,"answer_id":76037023,"question_id":76035928,"body_markdown":"Depends of your need, Singleton its used by default for Spring and its used when you don&#39;t need have the same state in the application, but if for any reason you need a instance based on the beans of spring you can change the scope and create a bean based on Prototype instead of Singleton\r\n\r\nAnd of course you don&#39;t need use the bean for DAO objects, just pass it where is needed as you saw in other sites\r\n\r\nBy other way, the performance obviously can be affected if you create a lot of objects based on Prototype pattern, because you create new object every time (For our luck the garbage collector cleans that so, you don&#39;t should be too afraid by now)\r\n\r\nAnd for more information about that: https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch03s05.html#beans-factory-scopes-prototype","title":"Spring autowired beans vs created instances","body":"<p>Depends of your need, Singleton its used by default for Spring and its used when you don't need have the same state in the application, but if for any reason you need a instance based on the beans of spring you can change the scope and create a bean based on Prototype instead of Singleton</p>\n<p>And of course you don't need use the bean for DAO objects, just pass it where is needed as you saw in other sites</p>\n<p>By other way, the performance obviously can be affected if you create a lot of objects based on Prototype pattern, because you create new object every time (For our luck the garbage collector cleans that so, you don't should be too afraid by now)</p>\n<p>And for more information about that: <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch03s05.html#beans-factory-scopes-prototype\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.0.0.M4/reference/html/ch03s05.html#beans-factory-scopes-prototype</a></p>\n"}],"owner":{"account_id":6735022,"reputation":23,"user_id":5251538,"display_name":"Jomy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681746858,"creation_date":1681739668,"question_id":76035928,"body_markdown":"When I see typical spring web application, all the instances are created and injected by spring, and we use methods by passing some arguments. Majority of these instances are singleton and don&#39;t hold any state with it.\r\n\r\nI may be wrong, but this approach looks more procedure oriented than object oriented for me. I assume good design should utilize both spring manged beans along with instances created by user which hold some state and with methods to expose some behaviour.\r\n\r\nIs there a rule of thumb to decide which one we should use(injected singleton beans or manually created instance) in a context? Also is there a performance impact if we excessively used short lived instances per request received? Would like to know proper way to design my classes in this scenario.","title":"Spring autowired beans vs created instances","body":"<p>When I see typical spring web application, all the instances are created and injected by spring, and we use methods by passing some arguments. Majority of these instances are singleton and don't hold any state with it.</p>\n<p>I may be wrong, but this approach looks more procedure oriented than object oriented for me. I assume good design should utilize both spring manged beans along with instances created by user which hold some state and with methods to expose some behaviour.</p>\n<p>Is there a rule of thumb to decide which one we should use(injected singleton beans or manually created instance) in a context? Also is there a performance impact if we excessively used short lived instances per request received? Would like to know proper way to design my classes in this scenario.</p>\n"},{"tags":["java","pdf"],"answers":[{"tags":[],"owner":{"account_id":124206,"reputation":3205,"user_id":319149,"accept_rate":0,"display_name":"mark stephens"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681746819,"creation_date":1331983999,"answer_id":9749650,"question_id":9739192,"body_markdown":"There is an active support forum for JPedal at https://support.idrsolutions.com/jpedal/\r\n\r\nJava creates a BufferedImage which you can then save as an image (png, jpeg, tiff). There is an example built-into JPedal showing how to convert pages to images at https://support.idrsolutions.com/jpedal/tutorials/convert-images/convert-pdf-to-bufferedimage with a link to the source code. This contains comments on scaling and you can alter the page range.\r\n\r\nYou will only be able to get 200x200 if the PDF is square if you want to preserve aspect ratio.\r\n\r\n","title":"Convert PDF to images with page range","body":"<p>There is an active support forum for JPedal at <a href=\"https://support.idrsolutions.com/jpedal/\" rel=\"nofollow noreferrer\">https://support.idrsolutions.com/jpedal/</a></p>\n<p>Java creates a BufferedImage which you can then save as an image (png, jpeg, tiff). There is an example built-into JPedal showing how to convert pages to images at <a href=\"https://support.idrsolutions.com/jpedal/tutorials/convert-images/convert-pdf-to-bufferedimage\" rel=\"nofollow noreferrer\">https://support.idrsolutions.com/jpedal/tutorials/convert-images/convert-pdf-to-bufferedimage</a> with a link to the source code. This contains comments on scaling and you can alter the page range.</p>\n<p>You will only be able to get 200x200 if the PDF is square if you want to preserve aspect ratio.</p>\n"}],"owner":{"account_id":1330151,"reputation":88,"user_id":1274238,"display_name":"Nitesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9749650,"answer_count":1,"score":1,"last_activity_date":1681746819,"creation_date":1331908428,"question_id":9739192,"body_markdown":"I want to know if there is a way that we can convert PDF to images by specifying a specific page range. I have tried pdfbox but I am not being able to set the resolution. Looks like it takes the default resolution of 96. I want to be able to convert PDF to jpegs of size 200*200 and 600*600 in my project. I also tried JPedal but I am not being able to find out how to specify the page range. I am only looking at Java libraries.","title":"Convert PDF to images with page range","body":"<p>I want to know if there is a way that we can convert PDF to images by specifying a specific page range. I have tried pdfbox but I am not being able to set the resolution. Looks like it takes the default resolution of 96. I want to be able to convert PDF to jpegs of size 200*200 and 600*600 in my project. I also tried JPedal but I am not being able to find out how to specify the page range. I am only looking at Java libraries.</p>\n"},{"tags":["java","spring","postgresql","r2dbc"],"owner":{"account_id":19328780,"reputation":11,"user_id":14130839,"display_name":"artsgard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681746640,"creation_date":1681118738,"question_id":75975837,"body_markdown":"A Web-client calls a get-all endpoint which opens a Flux of articles (small object, with only 5 primitive fields) from a Postgres DB (r2dbc). See the next two code snippets.\r\n\r\nThen I try to batch-insert a 1000 articles per batch by using a connection pool. But attempts have problems\r\n\r\nThe first code-block runs and persists, BUT ONLY ONES! After running a single batch-insert 0f 1000 it calls &quot;completed&quot; and runs no more, why?\r\n\r\nThe second block was remodelled after an example, it runs multiple times but and inserts (very fast) a 250.000 articles but than it crashes with the following error:\r\n\r\n**io.netty.channel.StacklessClosedChannelException: null\r\n\tat io.netty.channel.AbstractChannel.close(ChannelPromise)(Unknown Source) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]**\r\n\r\n[link to pool-connection example][1]\r\n\r\n**The code that delivers the article flux**\r\n\r\n    public Disposable copyToDestinyInBatches(Long backPressure) {\r\n\r\n            Flux&lt;ArticleDestiny&gt; articleFlux = client.get()\r\n                    .uri(&quot;/article-batch-stream-from-origin/&quot; + backPressure)\r\n                    .accept(MediaType.APPLICATION_NDJSON) //APPLICATION_NDJSON TEXT_EVENT_STREAM\r\n                    .retrieve()\r\n                    .bodyToFlux(ArticleDestiny.class)\r\n                    .timeout(Duration.ofSeconds(10))\r\n                    .doOnError(error -&gt; log.error(&quot;Error client on batches &quot; +\r\n                            &quot;message={} | error={}&quot;, error.getMessage(), error.getStackTrace()));\r\n\r\n        return streamService.articleDestinyBatchStreamZipWith(articleFlux, backPressure);\r\n    }\r\n\r\n    public Flux&lt;ArticleOrigin&gt; getAllArticleStreamFromOrigin(Long backPressure) {\r\n        return articleOriginRepo\r\n                .findAll()\r\n                .doOnError(e -&gt; log.error(&quot;error get all articles message={} | error={}&quot;, e.getMessage(), e.getStackTrace()))\r\n                .doOnNext(a -&gt; log.debug(&quot;at stream service article id={}&quot;, a.getId()));\r\n    }\r\n\r\nFind next the two batch inserts\r\n\r\n**first:**\r\n\r\n     public Disposable articleDestinyBatchStreamConnPool(Flux&lt;ArticleDestiny&gt; articleFlux, Long backPressure) {\r\n        Flux&lt;List&lt;ArticleDestiny&gt;&gt; articleFluxList = articleFlux\r\n                .bufferTimeout(backPressure.intValue(), Duration.ofMillis(1000))\r\n                .doOnNext(a -&gt; log.info(&quot;article batch size={} | batch-count={}&quot;, a.size(), batchCounter));\r\n        Flux&lt;Connection&gt; connectionFlux = Flux.from(connectionPool.create());\r\n\r\n        var conPoolArticleZipResult =  connectionFlux.zipWith(articleFluxList, (conPool, artList) -&gt; {\r\n            Batch batch = conPool.createBatch();\r\n            artList.forEach(article -&gt; {\r\n                String sql = String.format(&quot;INSERT INTO article_destiny (country_code,art_number, name, price) VALUES (&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;)&quot;,\r\n                        article.getCountryCode(),\r\n                        article.getArtNumber(),\r\n                        article.getName(),\r\n                        article.getPrice());\r\n                batch.add(sql);\r\n            });\r\n            log.debug(&quot;print each batch={}&quot;, batch);\r\n            batchCounter++;\r\n            return Mono\r\n                    .from(batch.execute())\r\n                    .doFinally((st -&gt; {\r\n                        conPool.close();\r\n                        log.info(&quot;connection closed &quot;);\r\n                    }));\r\n        });\r\n        return conPoolArticleZipResult.subscribe( //.subscribeOn(Schedulers.newParallel(&quot;process&quot;, 4))\r\n                s -&gt; log.info(&quot;subscribe={}&quot;, s.toString()),\r\n                e -&gt; log.error(&quot;error at subscribe pool-stream-service message={} | error={} | stacktrace={}&quot;,\r\n                        e.getMessage(), e, e.getStackTrace()),\r\n                () -&gt; {\r\n                    log.info(&quot;completed! &quot;);\r\n                });\r\n    }\r\n\r\n**second:**\r\n\r\n    public Disposable articleDestinyBatchStreamConnPool(Flux&lt;ArticleDestiny&gt; articleFlux, Long backPressure) {\r\n        Flux&lt;List&lt;ArticleDestiny&gt;&gt; fluxArticleList = articleFlux\r\n                .bufferTimeout(backPressure.intValue(), Duration.ofMillis(1000))\r\n                .doOnNext(a -&gt; log.info(&quot;article batch size={}&quot;, a.size()));\r\n\r\n        Mono&lt;Object&gt; resultMono = Mono.usingWhen(connectionPool.create(), // allocates a connection from the pool\r\n                connection -&gt; {\r\n                    Batch batch = connection.createBatch();\r\n                    return fluxArticleList.flatMap(articles -&gt; {\r\n                        articles.forEach(article -&gt; {\r\n                            String sql = String.format(&quot;INSERT INTO article_destiny (country_code, art_number, name, price) VALUES (&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;,&#39;%s&#39;)&quot;,\r\n                                    article.getCountryCode(),\r\n                                    article.getArtNumber(),\r\n                                    article.getName(),\r\n                                    article.getPrice());\r\n                            batch.add(sql);\r\n                        });\r\n                        log.debug(&quot;print each batch={}&quot;, batch);\r\n\r\n                        return Mono.from(batch.execute());\r\n                    }).then();\r\n                }, Connection::close); // releases the connection back to the pool\r\n\r\n        return resultMono.mergeWith(fluxArticleList)\r\n                //.subscribeOn(Schedulers.newParallel(&quot;process&quot;, 4))\r\n                .subscribe(\r\n                s -&gt; log.debug(&quot;subscribe={}&quot;, s.toString()),\r\n                e -&gt; log.error(&quot;error at subscribe pool-stream-service message={} | error={} | stacktrace={}&quot;,\r\n                        e.getMessage(), e, e.getStackTrace()),\r\n                () -&gt; {\r\n                    log.info(&quot;completed! &quot;);\r\n                    // application shutdown\r\n                    connectionPool.dispose();\r\n                    log.info(&quot;conn dispose! &quot;);\r\n                    // here I stop the Springboot manually\r\n                });\r\n    }\r\n\r\n**Finally some programmatic config info**\r\n\r\nFirst: I extends AbstractR2dbcConfiguration\r\n\r\nSecond I exclude R2dbcDataAutoConfiguration, R2dbcAutoConfiguration\r\n\r\n**The config methods of the config class**\r\n\r\n      @Bean\r\n    @Primary\r\n    @Override\r\n    public ConnectionFactory connectionFactory() {\r\n\r\n        return new PostgresqlConnectionFactory(PostgresqlConnectionConfiguration.builder()\r\n                .host(&quot;localhost&quot;)\r\n                .port(5677)\r\n                .username(&quot;admin&quot;)\r\n                .password(&quot;secret&quot;)\r\n                .database(&quot;article_flux_db&quot;)\r\n                .tcpKeepAlive(true)\r\n                .connectTimeout(Duration.ofSeconds(10))\r\n                .statementTimeout(Duration.ofSeconds(10))\r\n\r\n\r\n\r\n    @Bean\r\n    public ConnectionPool connectionPool() {\r\n        ConnectionPoolConfiguration configuration = ConnectionPoolConfiguration.builder(connectionFactory())\r\n                .maxIdleTime(Duration.ofMillis(1000))\r\n                .maxSize(20)\r\n                .build();\r\n        ConnectionPool pool = new ConnectionPool(configuration);\r\n        return pool;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public WebClient webClient() {\r\n        HttpClient httpClient = HttpClient.create()\r\n                .keepAlive(true)\r\n                .responseTimeout(Duration.ofSeconds(60l))\r\n                .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 100000)\r\n                .doOnConnected(conn -&gt; conn\r\n                    .addHandlerLast(new ReadTimeoutHandler(100)));\r\n\r\n        WebClient webClient = WebClient.builder()\r\n\r\n        return webClient;\r\n    }\r\n\r\n    @Bean\r\n    public ConnectionFactoryInitializer initialize(ConnectionFactory connectionFactory) {\r\n        var initializer = new ConnectionFactoryInitializer();\r\n        initializer.setConnectionFactory(connectionFactory());\r\n        CompositeDatabasePopulator populator = new CompositeDatabasePopulator();\r\n        populator.addPopulators(\r\n                new ResourceDatabasePopulator(new ClassPathResource(&quot;/db-config/schema.sql&quot;))\r\n        );\r\n        initializer.setDatabasePopulator(populator);\r\n        return initializer;\r\n    }\r\n\r\n\r\n  [1]: https://github.com/r2dbc/r2dbc-pool","title":"r2dbc batch insert issues with connection pool","body":"<p>A Web-client calls a get-all endpoint which opens a Flux of articles (small object, with only 5 primitive fields) from a Postgres DB (r2dbc). See the next two code snippets.</p>\n<p>Then I try to batch-insert a 1000 articles per batch by using a connection pool. But attempts have problems</p>\n<p>The first code-block runs and persists, BUT ONLY ONES! After running a single batch-insert 0f 1000 it calls &quot;completed&quot; and runs no more, why?</p>\n<p>The second block was remodelled after an example, it runs multiple times but and inserts (very fast) a 250.000 articles but than it crashes with the following error:</p>\n<p><strong>io.netty.channel.StacklessClosedChannelException: null\nat io.netty.channel.AbstractChannel.close(ChannelPromise)(Unknown Source) ~[netty-transport-4.1.85.Final.jar:4.1.85.Final]</strong></p>\n<p><a href=\"https://github.com/r2dbc/r2dbc-pool\" rel=\"nofollow noreferrer\">link to pool-connection example</a></p>\n<p><strong>The code that delivers the article flux</strong></p>\n<pre><code>public Disposable copyToDestinyInBatches(Long backPressure) {\n\n        Flux&lt;ArticleDestiny&gt; articleFlux = client.get()\n                .uri(&quot;/article-batch-stream-from-origin/&quot; + backPressure)\n                .accept(MediaType.APPLICATION_NDJSON) //APPLICATION_NDJSON TEXT_EVENT_STREAM\n                .retrieve()\n                .bodyToFlux(ArticleDestiny.class)\n                .timeout(Duration.ofSeconds(10))\n                .doOnError(error -&gt; log.error(&quot;Error client on batches &quot; +\n                        &quot;message={} | error={}&quot;, error.getMessage(), error.getStackTrace()));\n\n    return streamService.articleDestinyBatchStreamZipWith(articleFlux, backPressure);\n}\n\npublic Flux&lt;ArticleOrigin&gt; getAllArticleStreamFromOrigin(Long backPressure) {\n    return articleOriginRepo\n            .findAll()\n            .doOnError(e -&gt; log.error(&quot;error get all articles message={} | error={}&quot;, e.getMessage(), e.getStackTrace()))\n            .doOnNext(a -&gt; log.debug(&quot;at stream service article id={}&quot;, a.getId()));\n}\n</code></pre>\n<p>Find next the two batch inserts</p>\n<p><strong>first:</strong></p>\n<pre><code> public Disposable articleDestinyBatchStreamConnPool(Flux&lt;ArticleDestiny&gt; articleFlux, Long backPressure) {\n    Flux&lt;List&lt;ArticleDestiny&gt;&gt; articleFluxList = articleFlux\n            .bufferTimeout(backPressure.intValue(), Duration.ofMillis(1000))\n            .doOnNext(a -&gt; log.info(&quot;article batch size={} | batch-count={}&quot;, a.size(), batchCounter));\n    Flux&lt;Connection&gt; connectionFlux = Flux.from(connectionPool.create());\n\n    var conPoolArticleZipResult =  connectionFlux.zipWith(articleFluxList, (conPool, artList) -&gt; {\n        Batch batch = conPool.createBatch();\n        artList.forEach(article -&gt; {\n            String sql = String.format(&quot;INSERT INTO article_destiny (country_code,art_number, name, price) VALUES ('%s','%s','%s','%s')&quot;,\n                    article.getCountryCode(),\n                    article.getArtNumber(),\n                    article.getName(),\n                    article.getPrice());\n            batch.add(sql);\n        });\n        log.debug(&quot;print each batch={}&quot;, batch);\n        batchCounter++;\n        return Mono\n                .from(batch.execute())\n                .doFinally((st -&gt; {\n                    conPool.close();\n                    log.info(&quot;connection closed &quot;);\n                }));\n    });\n    return conPoolArticleZipResult.subscribe( //.subscribeOn(Schedulers.newParallel(&quot;process&quot;, 4))\n            s -&gt; log.info(&quot;subscribe={}&quot;, s.toString()),\n            e -&gt; log.error(&quot;error at subscribe pool-stream-service message={} | error={} | stacktrace={}&quot;,\n                    e.getMessage(), e, e.getStackTrace()),\n            () -&gt; {\n                log.info(&quot;completed! &quot;);\n            });\n}\n</code></pre>\n<p><strong>second:</strong></p>\n<pre><code>public Disposable articleDestinyBatchStreamConnPool(Flux&lt;ArticleDestiny&gt; articleFlux, Long backPressure) {\n    Flux&lt;List&lt;ArticleDestiny&gt;&gt; fluxArticleList = articleFlux\n            .bufferTimeout(backPressure.intValue(), Duration.ofMillis(1000))\n            .doOnNext(a -&gt; log.info(&quot;article batch size={}&quot;, a.size()));\n\n    Mono&lt;Object&gt; resultMono = Mono.usingWhen(connectionPool.create(), // allocates a connection from the pool\n            connection -&gt; {\n                Batch batch = connection.createBatch();\n                return fluxArticleList.flatMap(articles -&gt; {\n                    articles.forEach(article -&gt; {\n                        String sql = String.format(&quot;INSERT INTO article_destiny (country_code, art_number, name, price) VALUES ('%s','%s','%s','%s')&quot;,\n                                article.getCountryCode(),\n                                article.getArtNumber(),\n                                article.getName(),\n                                article.getPrice());\n                        batch.add(sql);\n                    });\n                    log.debug(&quot;print each batch={}&quot;, batch);\n\n                    return Mono.from(batch.execute());\n                }).then();\n            }, Connection::close); // releases the connection back to the pool\n\n    return resultMono.mergeWith(fluxArticleList)\n            //.subscribeOn(Schedulers.newParallel(&quot;process&quot;, 4))\n            .subscribe(\n            s -&gt; log.debug(&quot;subscribe={}&quot;, s.toString()),\n            e -&gt; log.error(&quot;error at subscribe pool-stream-service message={} | error={} | stacktrace={}&quot;,\n                    e.getMessage(), e, e.getStackTrace()),\n            () -&gt; {\n                log.info(&quot;completed! &quot;);\n                // application shutdown\n                connectionPool.dispose();\n                log.info(&quot;conn dispose! &quot;);\n                // here I stop the Springboot manually\n            });\n}\n</code></pre>\n<p><strong>Finally some programmatic config info</strong></p>\n<p>First: I extends AbstractR2dbcConfiguration</p>\n<p>Second I exclude R2dbcDataAutoConfiguration, R2dbcAutoConfiguration</p>\n<p><strong>The config methods of the config class</strong></p>\n<pre><code>  @Bean\n@Primary\n@Override\npublic ConnectionFactory connectionFactory() {\n\n    return new PostgresqlConnectionFactory(PostgresqlConnectionConfiguration.builder()\n            .host(&quot;localhost&quot;)\n            .port(5677)\n            .username(&quot;admin&quot;)\n            .password(&quot;secret&quot;)\n            .database(&quot;article_flux_db&quot;)\n            .tcpKeepAlive(true)\n            .connectTimeout(Duration.ofSeconds(10))\n            .statementTimeout(Duration.ofSeconds(10))\n\n\n\n@Bean\npublic ConnectionPool connectionPool() {\n    ConnectionPoolConfiguration configuration = ConnectionPoolConfiguration.builder(connectionFactory())\n            .maxIdleTime(Duration.ofMillis(1000))\n            .maxSize(20)\n            .build();\n    ConnectionPool pool = new ConnectionPool(configuration);\n    return pool;\n}\n\n\n@Bean\npublic WebClient webClient() {\n    HttpClient httpClient = HttpClient.create()\n            .keepAlive(true)\n            .responseTimeout(Duration.ofSeconds(60l))\n            .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 100000)\n            .doOnConnected(conn -&gt; conn\n                .addHandlerLast(new ReadTimeoutHandler(100)));\n\n    WebClient webClient = WebClient.builder()\n\n    return webClient;\n}\n\n@Bean\npublic ConnectionFactoryInitializer initialize(ConnectionFactory connectionFactory) {\n    var initializer = new ConnectionFactoryInitializer();\n    initializer.setConnectionFactory(connectionFactory());\n    CompositeDatabasePopulator populator = new CompositeDatabasePopulator();\n    populator.addPopulators(\n            new ResourceDatabasePopulator(new ClassPathResource(&quot;/db-config/schema.sql&quot;))\n    );\n    initializer.setDatabasePopulator(populator);\n    return initializer;\n}\n</code></pre>\n"},{"tags":["java","gradle","jar"],"answers":[{"tags":[],"owner":{"account_id":5048364,"reputation":27671,"user_id":4053652,"display_name":"Stanislav"},"down_vote_count":0,"up_vote_count":189,"is_accepted":true,"score":189,"last_activity_date":1565620502,"creation_date":1442241351,"answer_id":32567525,"question_id":32567167,"body_markdown":"Try to change your manifest attributes like:\r\n\r\n    jar {\r\n      manifest {\r\n        attributes(\r\n          &#39;Class-Path&#39;: configurations.compile.collect { it.getName() }.join(&#39; &#39;),\r\n          &#39;Main-Class&#39;: &#39;hello.HelloWorld&#39;\r\n        )\r\n      }\r\n    }\r\n\r\nAnd then just change `&#39;hello.helloWorld&#39;` to `&#39;&lt;your packagename&gt;.&lt;the name of your Main class&gt;&#39;` (where your Main class has a main method). In this case, you make in your manifest an attribute, which point to this class, then a jar is running.","title":"Gradle - no main manifest attribute","body":"<p>Try to change your manifest attributes like:</p>\n\n<pre><code>jar {\n  manifest {\n    attributes(\n      'Class-Path': configurations.compile.collect { it.getName() }.join(' '),\n      'Main-Class': 'hello.HelloWorld'\n    )\n  }\n}\n</code></pre>\n\n<p>And then just change <code>'hello.helloWorld'</code> to <code>'&lt;your packagename&gt;.&lt;the name of your Main class&gt;'</code> (where your Main class has a main method). In this case, you make in your manifest an attribute, which point to this class, then a jar is running.</p>\n"},{"tags":[],"owner":{"account_id":12249303,"reputation":23,"user_id":8940150,"display_name":"Eric Hallander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557159450,"creation_date":1557159450,"answer_id":56008948,"question_id":32567167,"body_markdown":"FWIW - I used the following jar task to assemble all my compile dependencies into the jar file, and used the above recommendation to get the class-path properly set\r\n\r\n```\r\napply plugin: &#39;java-library&#39;\r\n\r\njar {\r\n  manifest {\r\n    attributes(\r\n      &#39;Class-Path&#39;: configurations.compile.collect { it.getName() }.join(&#39; &#39;),\r\n      &#39;Main-Class&#39;: &#39;your.main.class.goes.here&#39;\r\n    )\r\n  }\r\n  \r\n  // You can reference any part of the dependency configurations,\r\n  // and you can have as many from statements as you need\r\n  from configurations.compile  \r\n  // I just copied them into the top of the jar, so it looks like the eclipse exported \r\n  // runnable jar, but you could designate a lib directory, and reference that in the \r\n  // classpath as &quot;lib/$it.name&quot; instead of it.getName()\r\n  into &#39;&#39;   \r\n}\r\n```","title":"Gradle - no main manifest attribute","body":"<p>FWIW - I used the following jar task to assemble all my compile dependencies into the jar file, and used the above recommendation to get the class-path properly set</p>\n\n<pre><code>apply plugin: 'java-library'\n\njar {\n  manifest {\n    attributes(\n      'Class-Path': configurations.compile.collect { it.getName() }.join(' '),\n      'Main-Class': 'your.main.class.goes.here'\n    )\n  }\n\n  // You can reference any part of the dependency configurations,\n  // and you can have as many from statements as you need\n  from configurations.compile  \n  // I just copied them into the top of the jar, so it looks like the eclipse exported \n  // runnable jar, but you could designate a lib directory, and reference that in the \n  // classpath as \"lib/$it.name\" instead of it.getName()\n  into ''   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8666186,"reputation":7757,"user_id":6486622,"display_name":"Denis Zavedeev"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1599415820,"creation_date":1599415820,"answer_id":63767408,"question_id":32567167,"body_markdown":"To make the `jar` file executable (so that the `java -jar` command works), specify the `Main-Class` attribute in `MANIFEST.MF`.\r\n\r\nIn Gradle, you can do it by configuring the `jar` task.\r\n\r\n* for __Groovy__ DSL see these answers ([[1]](https://stackoverflow.com/a/32567525/6486622), [[2]](https://stackoverflow.com/a/43088446/6486622))\r\n* for __Kotlin__ DSL you can use the following code snippet:\r\n\r\n```kotlin\r\ntasks.withType&lt;Jar&gt; {\r\n    manifest {\r\n        attributes[&quot;Main-Class&quot;] = &quot;com.caco3.Main&quot;\r\n    }\r\n}\r\n```\r\n\r\n### Why `mainClassName` does not work as expected?\r\n\r\nOr why `mainClassName` does not specify the attribute in the manifest?\r\n\r\nThe `mainClassName` property comes from the [`application` plugin](https://docs.gradle.org/current/userguide/application_plugin.html). The plugin:\r\n\r\n&gt;  makes it easy to **start the application locally** during development, and to *package* the application as a **TAR** and/or **ZIP** *including operating system specific start scripts*.\r\n\r\n_So the `application` plugin does not aim at producing executable `jar`s_\r\n\r\nWhen a `mainClassName` property set, then:\r\n\r\n1. `$ ./gradlew run` will launch the `main` method in the class specified in the attribute\r\n1. the `zip`/`tar` archive built using `distZip`/`distTar` tasks will contain a script, which will launch the `main` method of the specified previously class.\r\n\r\nHere is the line of shell script setting the main class:\r\n\r\n\r\n```\r\n$ grep Main2 gradletest\r\neval set -- $DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLETEST_OPTS -classpath &quot;\\&quot;$CLASSPATH\\&quot;&quot; com.caco3.gradletest.Main2 &quot;$APP_ARGS&quot;\r\n```","title":"Gradle - no main manifest attribute","body":"<p>To make the <code>jar</code> file executable (so that the <code>java -jar</code> command works), specify the <code>Main-Class</code> attribute in <code>MANIFEST.MF</code>.</p>\n<p>In Gradle, you can do it by configuring the <code>jar</code> task.</p>\n<ul>\n<li>for <strong>Groovy</strong> DSL see these answers (<a href=\"https://stackoverflow.com/a/32567525/6486622\">[1]</a>, <a href=\"https://stackoverflow.com/a/43088446/6486622\">[2]</a>)</li>\n<li>for <strong>Kotlin</strong> DSL you can use the following code snippet:</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.withType&lt;Jar&gt; {\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.caco3.Main&quot;\n    }\n}\n</code></pre>\n<h3>Why <code>mainClassName</code> does not work as expected?</h3>\n<p>Or why <code>mainClassName</code> does not specify the attribute in the manifest?</p>\n<p>The <code>mainClassName</code> property comes from the <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"noreferrer\"><code>application</code> plugin</a>. The plugin:</p>\n<blockquote>\n<p>makes it easy to <strong>start the application locally</strong> during development, and to <em>package</em> the application as a <strong>TAR</strong> and/or <strong>ZIP</strong> <em>including operating system specific start scripts</em>.</p>\n</blockquote>\n<p><em>So the <code>application</code> plugin does not aim at producing executable <code>jar</code>s</em></p>\n<p>When a <code>mainClassName</code> property set, then:</p>\n<ol>\n<li><code>$ ./gradlew run</code> will launch the <code>main</code> method in the class specified in the attribute</li>\n<li>the <code>zip</code>/<code>tar</code> archive built using <code>distZip</code>/<code>distTar</code> tasks will contain a script, which will launch the <code>main</code> method of the specified previously class.</li>\n</ol>\n<p>Here is the line of shell script setting the main class:</p>\n<pre><code>$ grep Main2 gradletest\neval set -- $DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLETEST_OPTS -classpath &quot;\\&quot;$CLASSPATH\\&quot;&quot; com.caco3.gradletest.Main2 &quot;$APP_ARGS&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19533,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681746106,"creation_date":1644676761,"answer_id":71092831,"question_id":32567167,"body_markdown":"To complement [Denis Zavedeev answer][1], here are more ways for [Kotlin DSL][2] (build.gradle.kts):\r\n\r\n```kotlin\r\ntasks.jar {\r\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n}\r\n```\r\n\r\nAnother notation:\r\n\r\n```kotlin\r\ntasks.jar {\r\n    manifest {\r\n        attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n    }\r\n}\r\n```\r\n\r\nSide note: to create a runnable fat JAR (also called uber JAR), see [this post](https://stackoverflow.com/a/70864141/8583692).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/63767408/8583692\r\n  [2]: https://docs.gradle.org/current/userguide/kotlin_dsl.html","title":"Gradle - no main manifest attribute","body":"<p>To complement <a href=\"https://stackoverflow.com/a/63767408/8583692\">Denis Zavedeev answer</a>, here are more ways for <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"nofollow noreferrer\">Kotlin DSL</a> (build.gradle.kts):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.jar {\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n}\n</code></pre>\n<p>Another notation:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.jar {\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n    }\n}\n</code></pre>\n<p>Side note: to create a runnable fat JAR (also called uber JAR), see <a href=\"https://stackoverflow.com/a/70864141/8583692\">this post</a>.</p>\n"}],"owner":{"account_id":1458192,"reputation":11231,"user_id":1373258,"accept_rate":93,"display_name":"tmn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166988,"favorite_count":0,"down_vote_count":1,"up_vote_count":141,"accepted_answer_id":32567525,"answer_count":4,"score":140,"last_activity_date":1681746106,"creation_date":1442240290,"question_id":32567167,"body_markdown":"I&#39;m building a JAR file with Gradle. When I try to run it I get the following error \r\n\r\n&gt; no main manifest attribute, in RxJavaDemo.jar\r\n\r\nI tried manipulating the `manifest` property but I think I&#39;m forgetting to add the dependencies or something to it. What exactly am I doing wrong?\r\n\r\n```\r\napply plugin: &#39;java&#39;\r\napply plugin: &#39;application&#39;\r\n\r\nmainClassName = &#39;demo.MainDashboard&#39;\r\n\r\ndependencies {\r\n    compile files (&quot;H:/Processes/Development/libraries/hikari-cp/HikariCP-2.4.1.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/controls-fx/controlsfx.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/database_connections/sqlite-jdbc-3.8.6.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/guava/guava-18.0.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/rxjava/rxjava-1.0.12.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/rxjava-extras/rxjava-extras-0.5.15.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/rxjavafx/RxJavaFX-1.0.0-RC1-SNAPSHOT.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/rxjavaguava/rxjava-guava-1.0.3.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/rxjava-jdbc/rxjava-jdbc-0.6.3.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/slf4j/slf4j-api-1.7.12.jar&quot;)\r\n    compile files (&quot;H:/Processes/Development/libraries/tom-commons/tom-commons.jar&quot;)\r\n}\r\n\r\nsourceSets {\r\n    main.java.srcDir &quot;src/main/java&quot;\r\n    main.resources.srcDir &quot;src/main/resources&quot;\r\n}\r\n\r\njar { \r\n    manifest {\r\n    attributes(\r\n        &quot;Class-Path&quot;: configurations.compile.collect { it.getName() }.join(&#39; &#39;))\r\n    }\r\n    from configurations.compile.collect { entry -&gt; zipTree(entry) }\r\n}\r\n```","title":"Gradle - no main manifest attribute","body":"<p>I'm building a JAR file with Gradle. When I try to run it I get the following error</p>\n<blockquote>\n<p>no main manifest attribute, in RxJavaDemo.jar</p>\n</blockquote>\n<p>I tried manipulating the <code>manifest</code> property but I think I'm forgetting to add the dependencies or something to it. What exactly am I doing wrong?</p>\n<pre><code>apply plugin: 'java'\napply plugin: 'application'\n\nmainClassName = 'demo.MainDashboard'\n\ndependencies {\n    compile files (&quot;H:/Processes/Development/libraries/hikari-cp/HikariCP-2.4.1.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/controls-fx/controlsfx.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/database_connections/sqlite-jdbc-3.8.6.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/guava/guava-18.0.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/rxjava/rxjava-1.0.12.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/rxjava-extras/rxjava-extras-0.5.15.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/rxjavafx/RxJavaFX-1.0.0-RC1-SNAPSHOT.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/rxjavaguava/rxjava-guava-1.0.3.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/rxjava-jdbc/rxjava-jdbc-0.6.3.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/slf4j/slf4j-api-1.7.12.jar&quot;)\n    compile files (&quot;H:/Processes/Development/libraries/tom-commons/tom-commons.jar&quot;)\n}\n\nsourceSets {\n    main.java.srcDir &quot;src/main/java&quot;\n    main.resources.srcDir &quot;src/main/resources&quot;\n}\n\njar { \n    manifest {\n    attributes(\n        &quot;Class-Path&quot;: configurations.compile.collect { it.getName() }.join(' '))\n    }\n    from configurations.compile.collect { entry -&gt; zipTree(entry) }\n}\n</code></pre>\n"},{"tags":["java","android","arrays","json","loops"],"comments":[{"owner":{"account_id":50205,"reputation":5499,"user_id":149692,"accept_rate":94,"display_name":"Mr. Smith"},"score":0,"creation_date":1327260785,"post_id":8963347,"comment_id":11226194,"body_markdown":"Updated the original post with more info.","body":"Updated the original post with more info."},{"owner":{"account_id":938568,"reputation":3010,"user_id":967062,"accept_rate":62,"display_name":"Nitin Bansal"},"score":0,"creation_date":1403183099,"post_id":8963347,"comment_id":37566285,"body_markdown":"Recursive one: https://gist.github.com/anonymous/89f8163fb22f77f4f9d3","body":"Recursive one: <a href=\"https://gist.github.com/anonymous/89f8163fb22f77f4f9d3\" rel=\"nofollow noreferrer\">gist.github.com/anonymous/89f8163fb22f77f4f9d3</a>"}],"answers":[{"tags":[],"owner":{"account_id":37436,"reputation":15715,"user_id":107029,"accept_rate":83,"display_name":"Peterdk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1327256374,"creation_date":1327256374,"answer_id":8963405,"question_id":8963347,"body_markdown":"You should access the data using the `arrJson` object, not creating new JSONObjects with the string results of them.\r\n","title":"How to iterate this JSON Array using Java and org.json in Android?","body":"<p>You should access the data using the <code>arrJson</code> object, not creating new JSONObjects with the string results of them.</p>\n"},{"tags":[],"owner":{"account_id":78639,"reputation":3373,"user_id":223659,"accept_rate":70,"display_name":"tomato"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1327257815,"creation_date":1327256836,"answer_id":8963468,"question_id":8963347,"body_markdown":"You want something like this..\r\n\r\n    JSONArray jsonArray = new JSONArray(sJSON);\r\n    JSONArray jsonPersonData = jsonArray.getJSONArray(1);\r\n    for (int i=0; i&lt;jsonPersonData.length(); i++) {\r\n        JSONObject item = jsonPersonData.getJSONObject(i);\r\n        String name = item.getString(&quot;name&quot;);\r\n        String surname = item.getString(&quot;surname&quot;);\r\n    }\r\n    \r\n","title":"How to iterate this JSON Array using Java and org.json in Android?","body":"<p>You want something like this..</p>\n\n<pre><code>JSONArray jsonArray = new JSONArray(sJSON);\nJSONArray jsonPersonData = jsonArray.getJSONArray(1);\nfor (int i=0; i&lt;jsonPersonData.length(); i++) {\n    JSONObject item = jsonPersonData.getJSONObject(i);\n    String name = item.getString(\"name\");\n    String surname = item.getString(\"surname\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":331265,"reputation":945,"user_id":655839,"accept_rate":57,"display_name":"Meriam"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1327257052,"creation_date":1327257052,"answer_id":8963492,"question_id":8963347,"body_markdown":"You shoul not use JSONObject.toString. This is how you should iterate your array:\r\n\r\n    for(int i=0;i&lt;arrJSON.length();i++){\r\n    JSONObject json_data = jArray.getJSONObject(i);\r\n    String name =json_data.getString(&quot;name&quot;);\r\n    String surname =json_data.getString(&quot;surname&quot;); \r\n    }","title":"How to iterate this JSON Array using Java and org.json in Android?","body":"<p>You shoul not use JSONObject.toString. This is how you should iterate your array:</p>\n\n<pre><code>for(int i=0;i&lt;arrJSON.length();i++){\nJSONObject json_data = jArray.getJSONObject(i);\nString name =json_data.getString(\"name\");\nString surname =json_data.getString(\"surname\"); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2303960,"reputation":982,"user_id":2023625,"display_name":"Desphilboy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1408324370,"creation_date":1407995024,"answer_id":25300803,"question_id":8963347,"body_markdown":"You can Iterate using an Iterator, I have also copied a sample JSON string for you, I hope this can help:\r\n \r\n\r\n  \r\n\r\n      //  { &quot;drives&quot;:\r\n        //[{&quot;drives_id&quot;:&quot;2&quot;,&quot;ip&quot;:&quot;hq10m.backupexample.com&quot;,&quot;port&quot;:&quot;4010&quot;,&quot;ftp_username&quot;:&quot;NameSFTP&quot;,&quot;\r\n        // ftp_password&quot;:&quot;12345&quot;,&quot;permission&quot;:2,&quot;drive_name&quot;:&quot;dev&quot;\r\n        //,&quot;drive_letter&quot;:&quot;S&quot;,&quot;size&quot;:&quot;1234&quot;,&quot;ma_mode&quot;:&quot;0&quot;},\r\n        //{&quot;drives_id&quot;:&quot;3&quot;,&quot;ip&quot;:&quot;hq6m.backupexample.com&quot;,&quot;port&quot;:&quot;4206&quot;,&quot;ftp_username&quot;:&quot;userSFTP&quot;\r\n    //,&quot;ftp_password&quot;:&quot;456&quot;,&quot;permission&quot;:2,&quot;drive_name&quot;:&quot;Rashtesting&quot;\r\n    //,&quot;drive_letter&quot;:&quot;P&quot;,&quot;size&quot;:&quot;8&quot;,&quot;ma_mode&quot;:&quot;0&quot;}],&quot;user_id&quot;:&quot;8&quot;}\r\n        \t\r\n    \t  mi.setUser_id( (int) Long.parseLong(obj.get(&quot;user_id&quot;).toString()));\r\n    \t  JSONArray drivesarray= (JSONArray) obj.get(&quot;drives&quot;);\r\n    \t  Iterator&lt;JSONObject&gt; driveIterator=drivesarray.iterator();\r\n    \t  while(driveIterator.hasNext())\r\n    \t  {\r\n    \t\t  JSONObject driveJSON=driveIterator.next();\r\n    \t\t  client_drive_info drive=new client_drive_info();\r\n    \t\t  drive.setDrives_id((int) Long.parseLong(driveJSON.get(&quot;drives_id&quot;).toString()));\r\n    \t\t  drive.setIp(driveJSON.get(&quot;ip&quot; ).toString());\r\n    \t\t  drive.setPort((int )Long.parseLong(driveJSON.get(&quot;port&quot;).toString()));\r\n    \t\t  drive.setSFTPusername(driveJSON.get(&quot;ftp_username&quot;).toString());\r\n    \t\t  drive.setSFTPpassword(driveJSON.get( &quot;ftp_password&quot;).toString());\r\n    \t\t  drive.setPermission((int )Long.parseLong(driveJSON.get(&quot;permission&quot;).toString()));\r\n    \t\t  drive.setDrive_name(driveJSON.get(&quot;drive_name&quot;).toString());\r\n    \t\t  drive.setDrive_letter(driveJSON.get(&quot;drive_letter&quot;).toString());\r\n    \t\t  drive.setSize((int )Long.parseLong(driveJSON.get(&quot;size&quot;).toString()));\r\n    \t\t  \r\n    \t\t  mi.getDrives_info().add(drive);\r\n    \t  }","title":"How to iterate this JSON Array using Java and org.json in Android?","body":"<p>You can Iterate using an Iterator, I have also copied a sample JSON string for you, I hope this can help:</p>\n\n<pre><code>  //  { \"drives\":\n    //[{\"drives_id\":\"2\",\"ip\":\"hq10m.backupexample.com\",\"port\":\"4010\",\"ftp_username\":\"NameSFTP\",\"\n    // ftp_password\":\"12345\",\"permission\":2,\"drive_name\":\"dev\"\n    //,\"drive_letter\":\"S\",\"size\":\"1234\",\"ma_mode\":\"0\"},\n    //{\"drives_id\":\"3\",\"ip\":\"hq6m.backupexample.com\",\"port\":\"4206\",\"ftp_username\":\"userSFTP\"\n//,\"ftp_password\":\"456\",\"permission\":2,\"drive_name\":\"Rashtesting\"\n//,\"drive_letter\":\"P\",\"size\":\"8\",\"ma_mode\":\"0\"}],\"user_id\":\"8\"}\n\n      mi.setUser_id( (int) Long.parseLong(obj.get(\"user_id\").toString()));\n      JSONArray drivesarray= (JSONArray) obj.get(\"drives\");\n      Iterator&lt;JSONObject&gt; driveIterator=drivesarray.iterator();\n      while(driveIterator.hasNext())\n      {\n          JSONObject driveJSON=driveIterator.next();\n          client_drive_info drive=new client_drive_info();\n          drive.setDrives_id((int) Long.parseLong(driveJSON.get(\"drives_id\").toString()));\n          drive.setIp(driveJSON.get(\"ip\" ).toString());\n          drive.setPort((int )Long.parseLong(driveJSON.get(\"port\").toString()));\n          drive.setSFTPusername(driveJSON.get(\"ftp_username\").toString());\n          drive.setSFTPpassword(driveJSON.get( \"ftp_password\").toString());\n          drive.setPermission((int )Long.parseLong(driveJSON.get(\"permission\").toString()));\n          drive.setDrive_name(driveJSON.get(\"drive_name\").toString());\n          drive.setDrive_letter(driveJSON.get(\"drive_letter\").toString());\n          drive.setSize((int )Long.parseLong(driveJSON.get(\"size\").toString()));\n\n          mi.getDrives_info().add(drive);\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480174,"reputation":13676,"user_id":893254,"accept_rate":30,"display_name":"FreelanceConsultant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681745901,"creation_date":1681745901,"answer_id":76036887,"question_id":8963347,"body_markdown":"You can also use a &quot;for-of&quot; / &quot;for-in&quot; loop:\r\n\r\n```\r\nif(jsonConfig.has(&quot;KEY&quot;)) {\r\n    JSONArray jsonArray = jsonConfig.getJSONArray(&quot;KEY&quot;);\r\n\r\n    for(var element : jsonArray) {\r\n        // element has type `Object`\r\n        String elementAsString = element.toString();\r\n\r\n        // etc... change logic for conversion to different types\r\n    }\r\n}\r\n```","title":"How to iterate this JSON Array using Java and org.json in Android?","body":"<p>You can also use a &quot;for-of&quot; / &quot;for-in&quot; loop:</p>\n<pre><code>if(jsonConfig.has(&quot;KEY&quot;)) {\n    JSONArray jsonArray = jsonConfig.getJSONArray(&quot;KEY&quot;);\n\n    for(var element : jsonArray) {\n        // element has type `Object`\n        String elementAsString = element.toString();\n\n        // etc... change logic for conversion to different types\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":50205,"reputation":5499,"user_id":149692,"accept_rate":94,"display_name":"Mr. Smith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58393,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":8963468,"answer_count":5,"score":11,"last_activity_date":1681745901,"creation_date":1327256012,"question_id":8963347,"body_markdown":"My JSON string looks like this (contained in a string variable called `sJSON`):\r\n\r\n    [\r\n        {&quot;id&quot;:284}\r\n    ],\r\n    [\r\n        {&quot;name&quot;:John,&quot;surname&quot;:Doe},\r\n        {&quot;name&quot;:Jane,&quot;surname&quot;:Doe}\r\n    ]\r\n\r\nI&#39;m able to parse the first array like this (using Java and importing org.json):\r\n\r\n    JSONArray arrJSON = new JSONArray(sJSON);\r\n    JSONObject jsonGeneralData = new JSONObject(arrJSON.get(0).toString());\r\n    \r\n    String sResult = jsonGeneralData.get(&quot;id&quot;).toString();\r\n\r\nThat returns the expected result, which is 284. I&#39;m struggling to get the second array of items, and iterate through them. I&#39;m not sure if my JSON string is malformed, or if I&#39;m trying to access it the wrong way. Here&#39;s what I tried:\r\n\r\n    JSONObject jsonPersonData = new JSONObject(arrJSON.get(1).toString());\r\n    \r\nThis is as far as I got, I can&#39;t figure out how to loop through the individual items inside the second array.\r\n\r\n**EDIT:**\r\n\r\nIt seems that this line only parses the first string in the square brackets:\r\n\r\n    JSONArray arrJSON = new JSONArray(sJSON);\r\n\r\nEither the JSON is wrong (same example as above), or it&#39;s not parsing it correctly? I&#39;ve managed to solve the problem by doing a split on the string and put them each in their own `JSONArray`, but I don&#39;t think that&#39;s the best way of doing things.\r\n\r\n","title":"How to iterate this JSON Array using Java and org.json in Android?","body":"<p>My JSON string looks like this (contained in a string variable called <code>sJSON</code>):</p>\n\n<pre><code>[\n    {\"id\":284}\n],\n[\n    {\"name\":John,\"surname\":Doe},\n    {\"name\":Jane,\"surname\":Doe}\n]\n</code></pre>\n\n<p>I'm able to parse the first array like this (using Java and importing org.json):</p>\n\n<pre><code>JSONArray arrJSON = new JSONArray(sJSON);\nJSONObject jsonGeneralData = new JSONObject(arrJSON.get(0).toString());\n\nString sResult = jsonGeneralData.get(\"id\").toString();\n</code></pre>\n\n<p>That returns the expected result, which is 284. I'm struggling to get the second array of items, and iterate through them. I'm not sure if my JSON string is malformed, or if I'm trying to access it the wrong way. Here's what I tried:</p>\n\n<pre><code>JSONObject jsonPersonData = new JSONObject(arrJSON.get(1).toString());\n</code></pre>\n\n<p>This is as far as I got, I can't figure out how to loop through the individual items inside the second array.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>It seems that this line only parses the first string in the square brackets:</p>\n\n<pre><code>JSONArray arrJSON = new JSONArray(sJSON);\n</code></pre>\n\n<p>Either the JSON is wrong (same example as above), or it's not parsing it correctly? I've managed to solve the problem by doing a split on the string and put them each in their own <code>JSONArray</code>, but I don't think that's the best way of doing things.</p>\n"},{"tags":["java","list","element"],"answers":[{"tags":[],"owner":{"account_id":19015,"reputation":16919,"user_id":44124,"accept_rate":84,"display_name":"Kannan Ekanath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1267955839,"creation_date":1267955839,"answer_id":2395840,"question_id":2395816,"body_markdown":"That question does not iterate through the list twice. It just iterates once and by far is the only known method.\r\n\r\nAlso you could use some transformer classes in commons-collections of google-collections but they all do the same thing under the hood :) the following being one way\r\n\r\n    CollectionUtils.collect(collectionOfIntegers, new org.apache.commons.collections.functors.StringValueTransformer());","title":"Converting lists of one element type to a list of another type","body":"<p>That question does not iterate through the list twice. It just iterates once and by far is the only known method.</p>\n\n<p>Also you could use some transformer classes in commons-collections of google-collections but they all do the same thing under the hood :) the following being one way</p>\n\n<pre><code>CollectionUtils.collect(collectionOfIntegers, new org.apache.commons.collections.functors.StringValueTransformer());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1267956234,"creation_date":1267955880,"answer_id":2395843,"question_id":2395816,"body_markdown":"Well, you could create your own iterator wrapper class to do this.  But I doubt that you would save much by doing this.\r\n\r\nHere&#39;s a simple example that wraps any iterator to a String iterator, using Object.toString() to do the mapping.\r\n\r\n    public MyIterator implements Iterator&lt;String&gt; {\r\n\r\n        private Iterator&lt;? extends Object&gt; it;\r\n\r\n        public MyIterator(Iterator&lt;? extends Object&gt; it) {\r\n            this.it = it;\r\n        }\r\n\r\n        public boolean hasNext() {\r\n            return it.hasNext();\r\n        }\r\n\r\n        public String next() {\r\n            return it.next().toString();\r\n        }\r\n        \r\n        public void remove() {\r\n            it.remove();\r\n        }\r\n    }","title":"Converting lists of one element type to a list of another type","body":"<p>Well, you could create your own iterator wrapper class to do this.  But I doubt that you would save much by doing this.</p>\n\n<p>Here's a simple example that wraps any iterator to a String iterator, using Object.toString() to do the mapping.</p>\n\n<pre><code>public MyIterator implements Iterator&lt;String&gt; {\n\n    private Iterator&lt;? extends Object&gt; it;\n\n    public MyIterator(Iterator&lt;? extends Object&gt; it) {\n        this.it = it;\n    }\n\n    public boolean hasNext() {\n        return it.hasNext();\n    }\n\n    public String next() {\n        return it.next().toString();\n    }\n\n    public void remove() {\n        it.remove();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1267957953,"creation_date":1267955881,"answer_id":2395844,"question_id":2395816,"body_markdown":"You can write a mapping iterator that decorates an existing iterator and applies a function on it. In this case, the function transforms the objects from one type to another &quot;on-the-fly&quot;.\r\n\r\nSomething like this:\r\n\r\n    import java.util.*;\r\n    \r\n    abstract class Transformer&lt;T, U&gt; implements Iterable&lt;U&gt;, Iterator&lt;U&gt; {\r\n    \tpublic abstract U apply(T object);\t\r\n\r\n    \tfinal Iterator&lt;T&gt; source;    \t\r\n    \tTransformer(Iterable&lt;T&gt; source)    { this.source = source.iterator(); }\r\n    \r\n    \t@Override public boolean hasNext() { return source.hasNext(); }\r\n    \t@Override public U next()          { return apply(source.next()); }\r\n    \t@Override public void remove()     { source.remove(); }\t\r\n    \t\r\n    \tpublic Iterator&lt;U&gt; iterator()      { return this; }\r\n    }\r\n    \r\n    public class TransformingIterator {\t\r\n    \tpublic static void main(String args[]) {\r\n    \t\tList&lt;String&gt; list = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n    \t\tIterable&lt;Integer&gt; it = new Transformer&lt;String, Integer&gt;(list) {\r\n    \t\t\t@Override public Integer apply(String s) {\r\n    \t\t\t\treturn Integer.parseInt(s);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tfor (int i : it) {\r\n    \t\t\tSystem.out.println(i);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Converting lists of one element type to a list of another type","body":"<p>You can write a mapping iterator that decorates an existing iterator and applies a function on it. In this case, the function transforms the objects from one type to another \"on-the-fly\".</p>\n\n<p>Something like this:</p>\n\n<pre><code>import java.util.*;\n\nabstract class Transformer&lt;T, U&gt; implements Iterable&lt;U&gt;, Iterator&lt;U&gt; {\n    public abstract U apply(T object);  \n\n    final Iterator&lt;T&gt; source;       \n    Transformer(Iterable&lt;T&gt; source)    { this.source = source.iterator(); }\n\n    @Override public boolean hasNext() { return source.hasNext(); }\n    @Override public U next()          { return apply(source.next()); }\n    @Override public void remove()     { source.remove(); } \n\n    public Iterator&lt;U&gt; iterator()      { return this; }\n}\n\npublic class TransformingIterator { \n    public static void main(String args[]) {\n        List&lt;String&gt; list = Arrays.asList(\"1\", \"2\", \"3\");\n        Iterable&lt;Integer&gt; it = new Transformer&lt;String, Integer&gt;(list) {\n            @Override public Integer apply(String s) {\n                return Integer.parseInt(s);\n            }\n        };\n        for (int i : it) {\n            System.out.println(i);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":46932,"reputation":1933,"user_id":138862,"display_name":"Tedil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1267956366,"creation_date":1267956366,"answer_id":2395868,"question_id":2395816,"body_markdown":"I think you would either have to create a custom List (implementing the List interface) or a custom Iterator. For example:\r\n\r\n    ArrayList&lt;String&gt; targetList = new ArrayList&lt;String&gt;();\r\n    ConvertingIterator&lt;String&gt; iterator = new ConvertingIterator&lt;String&gt;(targetList);\r\n    // and here you would have to use a custom List implementation as a source List\r\n    // using the Iterator created above\r\n\r\nBut I doubt that this approach would save you much.","title":"Converting lists of one element type to a list of another type","body":"<p>I think you would either have to create a custom List (implementing the List interface) or a custom Iterator. For example:</p>\n\n<pre><code>ArrayList&lt;String&gt; targetList = new ArrayList&lt;String&gt;();\nConvertingIterator&lt;String&gt; iterator = new ConvertingIterator&lt;String&gt;(targetList);\n// and here you would have to use a custom List implementation as a source List\n// using the Iterator created above\n</code></pre>\n\n<p>But I doubt that this approach would save you much.</p>\n"},{"tags":[],"owner":{"account_id":18056,"reputation":28943,"user_id":41012,"accept_rate":78,"display_name":"Ben Lings"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1267956913,"creation_date":1267956913,"answer_id":2395890,"question_id":2395816,"body_markdown":"My [answer][1] to that question applies to your case:\r\n\r\n\r\n    import com.google.common.collect.Lists;\r\n    import com.google.common.base.Functions\r\n\r\n    List&lt;Integer&gt; integers = Arrays.asList(1, 2, 3, 4);\r\n\r\n    List&lt;String&gt; strings = Lists.transform(integers, Functions.toStringFunction());\r\n\r\n\r\nThe transformed list is a view on the original collection, so the transformation happens when the destination `List` is accessed.\r\n\r\n  [1]: https://stackoverflow.com/questions/18524/java-best-way-of-converting-listinteger-to-liststring/1227099#1227099","title":"Converting lists of one element type to a list of another type","body":"<p>My <a href=\"https://stackoverflow.com/questions/18524/java-best-way-of-converting-listinteger-to-liststring/1227099#1227099\">answer</a> to that question applies to your case:</p>\n\n<pre><code>import com.google.common.collect.Lists;\nimport com.google.common.base.Functions\n\nList&lt;Integer&gt; integers = Arrays.asList(1, 2, 3, 4);\n\nList&lt;String&gt; strings = Lists.transform(integers, Functions.toStringFunction());\n</code></pre>\n\n<p>The transformed list is a view on the original collection, so the transformation happens when the destination <code>List</code> is accessed.</p>\n"},{"tags":[],"owner":{"account_id":39135,"reputation":13588,"user_id":112779,"accept_rate":67,"display_name":"Mario Fusco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1267965959,"creation_date":1267965959,"answer_id":2396267,"question_id":2395816,"body_markdown":"[Lambdaj][1] allows to do that in a very simple and readable way. For example, supposing you have a list of Integer and you want to convert them in the corresponding String representation you could write something like that;\r\n\r\n    List&lt;Integer&gt; ints = asList(1, 2, 3, 4);\r\n    Iterator&lt;String&gt; stringIterator = convertIterator(ints, new Converter&lt;Integer, String&gt; {\r\n        public String convert(Integer i) { return Integer.toString(i); }\r\n    });\r\n\r\nLambdaj applies the conversion function only while you&#39;re iterating on the result.\r\nThere is also a more concise way to use the same feature. The next example works supposing that you have a list of persons with a name property and you want to convert that list in an iterator of person&#39;s names.\r\n\r\n    Iterator&lt;String&gt; namesIterator = convertIterator(persons, on(Person.class).getName());\r\n\r\nPretty easy. Isn&#39;t it?\r\n\r\n  [1]: http://code.google.com/p/lambdaj/","title":"Converting lists of one element type to a list of another type","body":"<p><a href=\"http://code.google.com/p/lambdaj/\" rel=\"nofollow noreferrer\">Lambdaj</a> allows to do that in a very simple and readable way. For example, supposing you have a list of Integer and you want to convert them in the corresponding String representation you could write something like that;</p>\n\n<pre><code>List&lt;Integer&gt; ints = asList(1, 2, 3, 4);\nIterator&lt;String&gt; stringIterator = convertIterator(ints, new Converter&lt;Integer, String&gt; {\n    public String convert(Integer i) { return Integer.toString(i); }\n});\n</code></pre>\n\n<p>Lambdaj applies the conversion function only while you're iterating on the result.\nThere is also a more concise way to use the same feature. The next example works supposing that you have a list of persons with a name property and you want to convert that list in an iterator of person's names.</p>\n\n<pre><code>Iterator&lt;String&gt; namesIterator = convertIterator(persons, on(Person.class).getName());\n</code></pre>\n\n<p>Pretty easy. Isn't it?</p>\n"},{"tags":[],"owner":{"account_id":294101,"reputation":309,"user_id":597794,"display_name":"rhodan"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1315322513,"creation_date":1315322194,"answer_id":7322197,"question_id":2395816,"body_markdown":"As an alternative to the iterator pattern, you can use a abstract generic mapper class, and only override the transform method:\r\n\r\n1. create a generic collection mapper for any data type\r\n2. [optional] create a library of methods that transform between different data types (and override the method)\r\n3. use that library\r\n\r\nthe implementation:\r\n\r\n    // Generic class to transform collections\r\n    public abstract class CollectionTransformer&lt;E, F&gt; {\r\n\r\n        abstract F transform(E e);\r\n\r\n        public List&lt;F&gt; transform(List&lt;E&gt; list) {\r\n            List&lt;F&gt; newList = new ArrayList&lt;F&gt;();\r\n            for (E e : list) {\r\n                newList.add(transform(e));\r\n            }\r\n            return newList;\r\n        }\r\n    }\r\n\r\n    // Method that transform Integer to String\r\n    // this override the transform method to specify the transformation\r\n    public static List&lt;String&gt; mapIntegerToStringCollection(List&lt;Integer&gt; list) {\r\n\r\n        CollectionTransformer transformer = new CollectionTransformer&lt;Integer, String&gt;() {\r\n            @Override  \r\n            String transform(Integer e) {\r\n                return e.toString();\r\n            }\r\n        };\r\n        return transformer.transform(list);\r\n    }\r\n\r\n    // Example Usage\r\n    List&lt;Integer&gt; integers = Arrays.asList(1,2);\r\n    List&lt;String&gt; strings = mapIntegerToStringCollection(integers);\r\n\r\nThis would be useful is you have to use transformations every time, encapsulating the process.\r\nSo you can make a library of collection mappers very easy.","title":"Converting lists of one element type to a list of another type","body":"<p>As an alternative to the iterator pattern, you can use a abstract generic mapper class, and only override the transform method:</p>\n\n<ol>\n<li>create a generic collection mapper for any data type</li>\n<li>[optional] create a library of methods that transform between different data types (and override the method)</li>\n<li>use that library</li>\n</ol>\n\n<p>the implementation:</p>\n\n<pre><code>// Generic class to transform collections\npublic abstract class CollectionTransformer&lt;E, F&gt; {\n\n    abstract F transform(E e);\n\n    public List&lt;F&gt; transform(List&lt;E&gt; list) {\n        List&lt;F&gt; newList = new ArrayList&lt;F&gt;();\n        for (E e : list) {\n            newList.add(transform(e));\n        }\n        return newList;\n    }\n}\n\n// Method that transform Integer to String\n// this override the transform method to specify the transformation\npublic static List&lt;String&gt; mapIntegerToStringCollection(List&lt;Integer&gt; list) {\n\n    CollectionTransformer transformer = new CollectionTransformer&lt;Integer, String&gt;() {\n        @Override  \n        String transform(Integer e) {\n            return e.toString();\n        }\n    };\n    return transformer.transform(list);\n}\n\n// Example Usage\nList&lt;Integer&gt; integers = Arrays.asList(1,2);\nList&lt;String&gt; strings = mapIntegerToStringCollection(integers);\n</code></pre>\n\n<p>This would be useful is you have to use transformations every time, encapsulating the process.\nSo you can make a library of collection mappers very easy.</p>\n"},{"tags":[],"owner":{"account_id":3155343,"reputation":6408,"user_id":2667872,"accept_rate":75,"display_name":"Alexey Malev"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1440515113,"creation_date":1440515113,"answer_id":32207593,"question_id":2395816,"body_markdown":"Java 8 way:\r\n\r\n    List&lt;String&gt; original = ...;\r\n    List&lt;Wrapper&gt; converted = original.stream().map(Wrapper::new).collect(Collectors.toList());\r\n\r\nassuming `Wrapper` class has a constructor accepting a `String`.","title":"Converting lists of one element type to a list of another type","body":"<p>Java 8 way:</p>\n\n<pre><code>List&lt;String&gt; original = ...;\nList&lt;Wrapper&gt; converted = original.stream().map(Wrapper::new).collect(Collectors.toList());\n</code></pre>\n\n<p>assuming <code>Wrapper</code> class has a constructor accepting a <code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":6731003,"reputation":89,"user_id":5187346,"display_name":"Babak Farhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571968440,"creation_date":1571968440,"answer_id":58551202,"question_id":2395816,"body_markdown":"Here&#39;s an on-the-fly approach. (There must be something already like this in the jdk; I just can&#39;t find it.)\r\n\r\n      package com.gnahraf.util;\r\n      \r\n      import java.util.AbstractList;\r\n      import java.util.List;\r\n      import java.util.Objects;\r\n      import java.util.function.Function;\r\n      \r\n      /**\r\n       * \r\n       */\r\n      public class Lists {\r\n      \r\n        private Lists() { }\r\n        \r\n        \r\n        public static &lt;U,V&gt; List&lt;V&gt; transform(List&lt;U&gt; source, Function&lt;U, V&gt; mapper) {\r\n          return new ListView&lt;U, V&gt;(source, mapper);\r\n        }\r\n        \r\n        protected static class ListView&lt;U, V&gt; extends AbstractList&lt;V&gt; {\r\n          \r\n          private final List&lt;U&gt; source;\r\n          private final Function&lt;U, V&gt; mapper;\r\n          \r\n          protected ListView(List&lt;U&gt; source, Function&lt;U, V&gt; mapper) {\r\n            this.source = Objects.requireNonNull(source, &quot;source&quot;);\r\n            this.mapper = Objects.requireNonNull(mapper, &quot;mapper&quot;);\r\n          }\r\n      \r\n          @Override\r\n          public V get(int index) {\r\n            return mapper.apply(source.get(index));\r\n          }\r\n      \r\n          @Override\r\n          public int size() {\r\n            return source.size();\r\n          }\r\n          \r\n        }\r\n      \r\n      }\r\n\r\n","title":"Converting lists of one element type to a list of another type","body":"<p>Here's an on-the-fly approach. (There must be something already like this in the jdk; I just can't find it.)</p>\n\n<pre><code>  package com.gnahraf.util;\n\n  import java.util.AbstractList;\n  import java.util.List;\n  import java.util.Objects;\n  import java.util.function.Function;\n\n  /**\n   * \n   */\n  public class Lists {\n\n    private Lists() { }\n\n\n    public static &lt;U,V&gt; List&lt;V&gt; transform(List&lt;U&gt; source, Function&lt;U, V&gt; mapper) {\n      return new ListView&lt;U, V&gt;(source, mapper);\n    }\n\n    protected static class ListView&lt;U, V&gt; extends AbstractList&lt;V&gt; {\n\n      private final List&lt;U&gt; source;\n      private final Function&lt;U, V&gt; mapper;\n\n      protected ListView(List&lt;U&gt; source, Function&lt;U, V&gt; mapper) {\n        this.source = Objects.requireNonNull(source, \"source\");\n        this.mapper = Objects.requireNonNull(mapper, \"mapper\");\n      }\n\n      @Override\n      public V get(int index) {\n        return mapper.apply(source.get(index));\n      }\n\n      @Override\n      public int size() {\n        return source.size();\n      }\n\n    }\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8279939,"reputation":272,"user_id":6224955,"display_name":"Rajeev Ranjan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612259855,"creation_date":1612259855,"answer_id":66007360,"question_id":2395816,"body_markdown":"This Could be a solutions --&gt; by using map\r\n\r\n \r\n\r\n     \r\n    List&lt;Employee&gt; employee = Arrays.asList(new Emp(1, 100), new Emp(2, 200), new Emp(3, 300));\r\n    List&lt;Employee&gt; employeS = employee.stream()\r\n                                                 .map(emp -&gt; new Emp(emp.getId(), emp.getSalary * 100))\r\n                                                 .collect(Collectors.toList());\r\n    employeS .stream() .forEach(s -&gt; System.out.println(&quot;Id :&quot; + s.getId() + &quot; Salary :&quot; + s.getSalary()));","title":"Converting lists of one element type to a list of another type","body":"<p>This Could be a solutions --&gt; by using map</p>\n<pre><code>List&lt;Employee&gt; employee = Arrays.asList(new Emp(1, 100), new Emp(2, 200), new Emp(3, 300));\nList&lt;Employee&gt; employeS = employee.stream()\n                                             .map(emp -&gt; new Emp(emp.getId(), emp.getSalary * 100))\n                                             .collect(Collectors.toList());\nemployeS .stream() .forEach(s -&gt; System.out.println(&quot;Id :&quot; + s.getId() + &quot; Salary :&quot; + s.getSalary()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20854728,"reputation":87,"user_id":15318369,"display_name":"simerbhatti"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1614780849,"creation_date":1614780047,"answer_id":66458585,"question_id":2395816,"body_markdown":"If you are trying to get a list of elements within a list then use the below code.Here the list of objects contains attribute name and below gets you list of names from that list\r\n\r\n    inputList.stream().map(p -&gt; p.getName()).collect(Collectors.toList());","title":"Converting lists of one element type to a list of another type","body":"<p>If you are trying to get a list of elements within a list then use the below code.Here the list of objects contains attribute name and below gets you list of names from that list</p>\n<pre><code>inputList.stream().map(p -&gt; p.getName()).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6805657,"reputation":1560,"user_id":5237474,"accept_rate":89,"display_name":"shashwatZing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681745585,"creation_date":1681745251,"answer_id":76036787,"question_id":2395816,"body_markdown":"This way of transforming complex object types is very simple and intuitive and can be easily modified in future.\r\n\r\n     class Model {\r\n        private int start;\r\n        private int end;\r\n        private String type;\r\n        //other variables  \r\n        //acccessors , constructors etc\r\n    }**\r\n\r\n    Say we need to convert this object into another one\r\n    listed below. Add a constructor with Model object\r\n\r\n\r\n    class TransformModel {\r\n        private int start;\r\n        private int end;\r\n        private String type;\r\n\r\n        TransformeModel(Model model) {\r\n            this.start = model.start;\r\n            this.end = model.end;\r\n            this.type = model.type;\r\n        }**\r\n\r\n        public List&lt;TransformModel&gt; convertFromModel(List&lt;Model&gt; models) {\r\n            return models.stream().map(TransformModel::new).collect(Collectors.toList());\r\n        }\r\n    }","title":"Converting lists of one element type to a list of another type","body":"<p>This way of transforming complex object types is very simple and intuitive and can be easily modified in future.</p>\n<pre><code> class Model {\n    private int start;\n    private int end;\n    private String type;\n    //other variables  \n    //acccessors , constructors etc\n}**\n\nSay we need to convert this object into another one\nlisted below. Add a constructor with Model object\n\n\nclass TransformModel {\n    private int start;\n    private int end;\n    private String type;\n\n    TransformeModel(Model model) {\n        this.start = model.start;\n        this.end = model.end;\n        this.type = model.type;\n    }**\n\n    public List&lt;TransformModel&gt; convertFromModel(List&lt;Model&gt; models) {\n        return models.stream().map(TransformModel::new).collect(Collectors.toList());\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user288140"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55700,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":12,"score":24,"last_activity_date":1681745585,"creation_date":1267955255,"question_id":2395816,"body_markdown":"I&#39;m writing an adapter framework where I need to convert a list of objects from one class to another. I can iterate through the source list to do this as in \r\n\r\nhttps://stackoverflow.com/questions/18524/java-best-way-of-converting-listinteger-to-liststring\r\n\r\nHowever, I&#39;m wondering if there is a way to do this on the fly when the target list is being iterated, so I don&#39;t have to iterate through the list twice.","title":"Converting lists of one element type to a list of another type","body":"<p>I'm writing an adapter framework where I need to convert a list of objects from one class to another. I can iterate through the source list to do this as in </p>\n\n<p><a href=\"https://stackoverflow.com/questions/18524/java-best-way-of-converting-listinteger-to-liststring\">Java: Best way of converting List&lt;Integer&gt; to List&lt;String&gt;</a></p>\n\n<p>However, I'm wondering if there is a way to do this on the fly when the target list is being iterated, so I don't have to iterate through the list twice.</p>\n"},{"tags":["java","maven","discord","bots"],"answers":[{"tags":[],"owner":{"account_id":22704289,"reputation":327,"user_id":16871250,"display_name":"Julian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681745426,"creation_date":1681744348,"answer_id":76036651,"question_id":76036514,"body_markdown":"\r\nBe sure that you have the Message Content Intent enabled in your Bot settings (in the Discord Portal):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd you also want to enable the Intent in your code:\r\n```java\r\nJDA bot = JDABuilder.createDefault(&quot;TOKEN&quot;)\r\n            .setActivity(Activity.playing(&quot;Working on this bot&quot;))\r\n            .enableIntents(GatewayIntent.MESSAGE_CONTENT).build();\r\n```\r\n\r\n[Link to JDA Docs][2]\r\n\r\n\r\nAs you can read in [this article][3] of Discord, you can see that you need to enable the Message Content Intent to receive the content of messages.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2X5CP.png\r\n  [2]: https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/\r\n  [3]: https://support-dev.discord.com/hc/en-us/articles/4404772028055-Message-Content-Privileged-Intent-FAQ","title":"why is event.getMessage().getContentDisplay() not returning anything?","body":"<p>Be sure that you have the Message Content Intent enabled in your Bot settings (in the Discord Portal):</p>\n<p><a href=\"https://i.stack.imgur.com/2X5CP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2X5CP.png\" alt=\"enter image description here\" /></a></p>\n<p>And you also want to enable the Intent in your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JDA bot = JDABuilder.createDefault(&quot;TOKEN&quot;)\n            .setActivity(Activity.playing(&quot;Working on this bot&quot;))\n            .enableIntents(GatewayIntent.MESSAGE_CONTENT).build();\n</code></pre>\n<p><a href=\"https://jda.wiki/using-jda/gateway-intents-and-member-cache-policy/\" rel=\"nofollow noreferrer\">Link to JDA Docs</a></p>\n<p>As you can read in <a href=\"https://support-dev.discord.com/hc/en-us/articles/4404772028055-Message-Content-Privileged-Intent-FAQ\" rel=\"nofollow noreferrer\">this article</a> of Discord, you can see that you need to enable the Message Content Intent to receive the content of messages.</p>\n"}],"owner":{"account_id":28330762,"reputation":3,"user_id":21665089,"display_name":"Rexstech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76036651,"answer_count":1,"score":0,"last_activity_date":1681745426,"creation_date":1681743469,"question_id":76036514,"body_markdown":"`    package com.ahwak;\r\n\r\n    import net.dv8tion.jda.api.JDA;\r\n    import net.dv8tion.jda.api.JDABuilder;\r\n    import net.dv8tion.jda.api.entities.Activity;\r\n    import net.dv8tion.jda.api.events.message.MessageReceivedEvent;\r\n    import net.dv8tion.jda.api.hooks.ListenerAdapter;\r\n\r\n    import javax.security.auth.login.LoginException;\r\n\r\n    public class DiscordBot extends ListenerAdapter {\r\n\r\n    @Override\r\n    public void onMessageReceived(MessageReceivedEvent event)\r\n    {\r\n    System.out.println(&quot;We have received a message from &quot; + event.getAuthor().getName() + &quot;: &quot; +    event.getMessage()\r\n            .getContentDisplay());\r\n    if(event.getMessage().getContentRaw().equals(&quot;!ping&quot;)){\r\n        event.getChannel().sendMessage(&quot;Pong!&quot;).queue();\r\n    }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) throws LoginException {\r\n\r\n        JDA bot = JDABuilder.createDefault(&quot;TOKEN&quot;)\r\n                .setActivity(Activity.playing(&quot;Working on this bot&quot;)).build();\r\n        bot.addEventListener(new DiscordBot());\r\n\r\n    }\r\n\r\n     }`\r\n\r\n\r\nIt is supposed to return Pong! when !ping is typed but it is not working. It works correctly when I enter a message however the message does not get displayed. Meaning it outputs &quot;We have received a message from Rexstech:    &quot;.","title":"why is event.getMessage().getContentDisplay() not returning anything?","body":"<p>`    package com.ahwak;</p>\n<pre><code>import net.dv8tion.jda.api.JDA;\nimport net.dv8tion.jda.api.JDABuilder;\nimport net.dv8tion.jda.api.entities.Activity;\nimport net.dv8tion.jda.api.events.message.MessageReceivedEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\n\nimport javax.security.auth.login.LoginException;\n\npublic class DiscordBot extends ListenerAdapter {\n\n@Override\npublic void onMessageReceived(MessageReceivedEvent event)\n{\nSystem.out.println(&quot;We have received a message from &quot; + event.getAuthor().getName() + &quot;: &quot; +    event.getMessage()\n        .getContentDisplay());\nif(event.getMessage().getContentRaw().equals(&quot;!ping&quot;)){\n    event.getChannel().sendMessage(&quot;Pong!&quot;).queue();\n}\n}\n\n\npublic static void main(String[] args) throws LoginException {\n\n    JDA bot = JDABuilder.createDefault(&quot;TOKEN&quot;)\n            .setActivity(Activity.playing(&quot;Working on this bot&quot;)).build();\n    bot.addEventListener(new DiscordBot());\n\n}\n\n }`\n</code></pre>\n<p>It is supposed to return Pong! when !ping is typed but it is not working. It works correctly when I enter a message however the message does not get displayed. Meaning it outputs &quot;We have received a message from Rexstech:    &quot;.</p>\n"},{"tags":["java","json","quarkus","mutiny","smallrye"],"answers":[{"tags":[],"owner":{"account_id":28331080,"reputation":1,"user_id":21665345,"display_name":"Leon Ochmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681745073,"creation_date":1681745073,"answer_id":76036760,"question_id":74237400,"body_markdown":"I stumbled over the exact same issue that you had. The solution I found was to annotate the method with\r\n\r\n    @Stream(Stream.MODE.RAW)\r\n\r\nAccording to [the documentation][1]:\r\n\r\n&gt; **@Stream(Stream.MODE.RAW):** In this case each value is written directly to the wire, without any formatting, as it becomes available. This is most useful for values that can be cut in pieces, such as strings, bytes, buffers, etc., and then re-concatenated on the client side.\r\n\r\nThat page also explains the undesired behaviour that you and I encountered:\r\n\r\n&gt; **No @Stream annotation on the resource method:** Resteasy will collect every value until the stream is complete, then wrap them into a java.util.List entity and send to the client.\r\n\r\nSo, if I understand the above correctly, not only does the annotation change the formatting of the response, but also the &quot;reactivity&quot;, i. e. whether to wait until the entire `Multi` has finished producing values and then sending them in bulk, or send it item-by-item, which might be another important consideration.\r\n\r\n  [1]: https://docs.jboss.org/resteasy/docs/6.2.0.Beta1/userguide/html_single/index.html#d4e2799","title":"Quarkus REST API with Multi&lt;String&gt; and APPLICATION_JSON return type adds additional wrapper to response","body":"<p>I stumbled over the exact same issue that you had. The solution I found was to annotate the method with</p>\n<pre><code>@Stream(Stream.MODE.RAW)\n</code></pre>\n<p>According to <a href=\"https://docs.jboss.org/resteasy/docs/6.2.0.Beta1/userguide/html_single/index.html#d4e2799\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<blockquote>\n<p><strong>@Stream(Stream.MODE.RAW):</strong> In this case each value is written directly to the wire, without any formatting, as it becomes available. This is most useful for values that can be cut in pieces, such as strings, bytes, buffers, etc., and then re-concatenated on the client side.</p>\n</blockquote>\n<p>That page also explains the undesired behaviour that you and I encountered:</p>\n<blockquote>\n<p><strong>No @Stream annotation on the resource method:</strong> Resteasy will collect every value until the stream is complete, then wrap them into a java.util.List entity and send to the client.</p>\n</blockquote>\n<p>So, if I understand the above correctly, not only does the annotation change the formatting of the response, but also the &quot;reactivity&quot;, i. e. whether to wait until the entire <code>Multi</code> has finished producing values and then sending them in bulk, or send it item-by-item, which might be another important consideration.</p>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681745073,"creation_date":1666970043,"question_id":74237400,"body_markdown":"I am trying to provide a JSON response from a Quarkus-based Rest API and I see that even if I provide a response with proper JSON, I get an additional array wrapper in my response. Is there a way to prevent the addition of array wrappers around the JSON?\r\n\r\nThe following is the Quarkus Rest API for GET requests:\r\n\r\n```\r\n  @Path(&quot;/testData&quot;)\r\n  @GET\r\n  @Produces(MediaType.APPLICATION_JSON)\r\n  public Multi &lt;String&gt; test() throws IOException {\r\n      return Multi.createFrom().items(IOUtils.toString(getClass().getResourceAsStream(&quot;/TestJSON.json&quot;), StandardCharsets.UTF_8));\r\n  }\r\n```\r\n\r\nThe following is my TestJSON.json file content:\r\n```\r\n{\r\n  &quot;isA&quot;: &quot;customerDocument&quot;,\r\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\r\n  &quot;customerBody&quot;: {\r\n    &quot;customerList&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;Batman&quot;,\r\n        &quot;age&quot;: 45,\r\n        &quot;city&quot;: &quot;gotham&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nWhen I compile the programme and obtain the response via Swagger-UI, then I get the response something like this:\r\n```\r\n[\r\n  {\r\n    &quot;isA&quot;: &quot;customerDocument&quot;,\r\n    &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\r\n    &quot;customerBody&quot;: {\r\n      &quot;customerList&quot;: [\r\n        {\r\n          &quot;name&quot;: &quot;Batman&quot;,\r\n          &quot;age&quot;: 45,\r\n          &quot;city&quot;: &quot;gotham&quot;\r\n        }\r\n      ]\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nAs we can see, an additional outer wrapper gets added to the response, which I did not provide. Can someone please let me know what&#39;s wrong here and provide some suggestions to avoid the addition of the wrapper array?","title":"Quarkus REST API with Multi&lt;String&gt; and APPLICATION_JSON return type adds additional wrapper to response","body":"<p>I am trying to provide a JSON response from a Quarkus-based Rest API and I see that even if I provide a response with proper JSON, I get an additional array wrapper in my response. Is there a way to prevent the addition of array wrappers around the JSON?</p>\n<p>The following is the Quarkus Rest API for GET requests:</p>\n<pre><code>  @Path(&quot;/testData&quot;)\n  @GET\n  @Produces(MediaType.APPLICATION_JSON)\n  public Multi &lt;String&gt; test() throws IOException {\n      return Multi.createFrom().items(IOUtils.toString(getClass().getResourceAsStream(&quot;/TestJSON.json&quot;), StandardCharsets.UTF_8));\n  }\n</code></pre>\n<p>The following is my TestJSON.json file content:</p>\n<pre><code>{\n  &quot;isA&quot;: &quot;customerDocument&quot;,\n  &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\n  &quot;customerBody&quot;: {\n    &quot;customerList&quot;: [\n      {\n        &quot;name&quot;: &quot;Batman&quot;,\n        &quot;age&quot;: 45,\n        &quot;city&quot;: &quot;gotham&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>When I compile the programme and obtain the response via Swagger-UI, then I get the response something like this:</p>\n<pre><code>[\n  {\n    &quot;isA&quot;: &quot;customerDocument&quot;,\n    &quot;createdOn&quot;: &quot;2022-10-10T12:29:43&quot;,\n    &quot;customerBody&quot;: {\n      &quot;customerList&quot;: [\n        {\n          &quot;name&quot;: &quot;Batman&quot;,\n          &quot;age&quot;: 45,\n          &quot;city&quot;: &quot;gotham&quot;\n        }\n      ]\n    }\n  }\n]\n</code></pre>\n<p>As we can see, an additional outer wrapper gets added to the response, which I did not provide. Can someone please let me know what's wrong here and provide some suggestions to avoid the addition of the wrapper array?</p>\n"},{"tags":["java","mysql","netbeans","jtable"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1681663332,"post_id":76029043,"comment_id":134089294,"body_markdown":"[This](https://stackoverflow.com/questions/4941372/how-to-insert-image-into-jtable-cell) maybe","body":"<a href=\"https://stackoverflow.com/questions/4941372/how-to-insert-image-into-jtable-cell\">This</a> maybe"},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681663525,"post_id":76029043,"comment_id":134089319,"body_markdown":"this is confusing","body":"this is confusing"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1681663533,"post_id":76029043,"comment_id":134089321,"body_markdown":"@g00se: his model seems to return the correct class type for the image column though. OP, a [mre] would be better, if possible.","body":"@g00se: his model seems to return the correct class type for the image column though. OP, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be better, if possible."},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681663720,"post_id":76029043,"comment_id":134089339,"body_markdown":"I have to submit my project on the 20th of April.","body":"I have to submit my project on the 20th of April."},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681667684,"post_id":76029043,"comment_id":134089929,"body_markdown":"@user16320675 can you please look into my code and tell me how to implement","body":"@user16320675 can you please look into my code and tell me how to implement"},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681668037,"post_id":76029043,"comment_id":134089985,"body_markdown":"May be i have to do something in jtable designing code and  TheModel.java code","body":"May be i have to do something in jtable designing code and  TheModel.java code"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1681668271,"post_id":76029043,"comment_id":134090026,"body_markdown":"1) What happens when you invoke `getColumnClass(...)` on the table? Do you get &quot;Icon&quot; or &quot;Object&quot;? 2) What happens when you invoke `getDefaultRenderer(...)` on the table? Do you get your custom renderer of the default Icon renderer. You need to isolate where the problem is. You haven&#39;t provided an MRE so we can only guess 3) Why not just extend DefaultTableModel and override the `getColumnClass(...)` method? Get this working without any customs renderers. Then you can try implements your custom model if you want and retest. When this works then replaces the renderer. Do one step at a time.","body":"1) What happens when you invoke <code>getColumnClass(...)</code> on the table? Do you get &quot;Icon&quot; or &quot;Object&quot;? 2) What happens when you invoke <code>getDefaultRenderer(...)</code> on the table? Do you get your custom renderer of the default Icon renderer. You need to isolate where the problem is. You haven&#39;t provided an MRE so we can only guess 3) Why not just extend DefaultTableModel and override the <code>getColumnClass(...)</code> method? Get this working without any customs renderers. Then you can try implements your custom model if you want and retest. When this works then replaces the renderer. Do one step at a time."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1681668633,"post_id":76029043,"comment_id":134090065,"body_markdown":"You were given a simple MRE in the link of the first comment. So the point is to start with that code to get it working. Then you can try your full custom model and get it working. Then try using your simple custom renderer. You don&#39;t need the full logic of the renderer, only basic logic to prove your renderer is being used. If it stops working at any time, then you know what you just changed and you have an [mre] to post. The Product class is irrelevant to your problem. The data in the database is irrelevant to your  problem. Frist get it working with hard coded data.","body":"You were given a simple MRE in the link of the first comment. So the point is to start with that code to get it working. Then you can try your full custom model and get it working. Then try using your simple custom renderer. You don&#39;t need the full logic of the renderer, only basic logic to prove your renderer is being used. If it stops working at any time, then you know what you just changed and you have an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to post. The Product class is irrelevant to your problem. The data in the database is irrelevant to your  problem. Frist get it working with hard coded data."},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681669349,"post_id":76029043,"comment_id":134090156,"body_markdown":"It works with normal jtable. But when i add designer file of jtable it doesn&#39;t show image","body":"It works with normal jtable. But when i add designer file of jtable it doesn&#39;t show image"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1681671774,"post_id":76029043,"comment_id":134090525,"body_markdown":"*when i add designer file of jtable* - no idea what that means. First of all there is no need to extend JTable. You only extend a class when you add functionality. Invoking setter methods is not adding functionality. If you feel you do need to extend JTable, then you do it one step at a time. Then test as you make each change. Isolated which change is causing the problem. This is how you do basic debugging.","body":"<i>when i add designer file of jtable</i> - no idea what that means. First of all there is no need to extend JTable. You only extend a class when you add functionality. Invoking setter methods is not adding functionality. If you feel you do need to extend JTable, then you do it one step at a time. Then test as you make each change. Isolated which change is causing the problem. This is how you do basic debugging."},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681672911,"post_id":76029043,"comment_id":134090654,"body_markdown":"@camickr I have another java class file DarkTable.java which contains custom designing code for my table which is in JFrame. what I meant to say was after removing DarkTable.java from JFrame I am able to get Image in my JTable. But it has no design .. it&#39;s just a normal Jtable.  But I want to get an Image in my Jtable with the DarkTable.java file present in JFrame,which gives custom designing to my Jtable.","body":"@camickr I have another java class file DarkTable.java which contains custom designing code for my table which is in JFrame. what I meant to say was after removing DarkTable.java from JFrame I am able to get Image in my JTable. But it has no design .. it&#39;s just a normal Jtable.  But I want to get an Image in my Jtable with the DarkTable.java file present in JFrame,which gives custom designing to my Jtable."},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681673421,"post_id":76029043,"comment_id":134090716,"body_markdown":"@camickr can you Look at my code TheModel.java and DarkTable.java? And Jframe code as well","body":"@camickr can you Look at my code TheModel.java and DarkTable.java? And Jframe code as well"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1681675403,"post_id":76029043,"comment_id":134090968,"body_markdown":"No I can&#39;t because you haven&#39;t posted an MRE. I have given you suggestions on how to solve the problem yourself.","body":"No I can&#39;t because you haven&#39;t posted an MRE. I have given you suggestions on how to solve the problem yourself."},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681675830,"post_id":76029043,"comment_id":134091009,"body_markdown":"what is an MRE?","body":"what is an MRE?"},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681677600,"post_id":76029043,"comment_id":134091227,"body_markdown":"@kingrishabdugar","body":"@kingrishabdugar"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1681679834,"post_id":76029043,"comment_id":134091489,"body_markdown":"Twice you have been given a link read up on the &quot;Minimal Reproducible Example&quot;. Did you not read it?","body":"Twice you have been given a link read up on the &quot;Minimal Reproducible Example&quot;. Did you not read it?"},{"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"score":0,"creation_date":1681744426,"post_id":76029043,"comment_id":134102338,"body_markdown":"I found the problem and the problem is in here.      @Override\n        public Component getTableCellRendererComponent(JTable jtable, Object o, boolean bln, boolean bln1, int row, int column) {\n            Component com = super.getTableCellRendererComponent(jtable, o, bln, bln1, row, column);","body":"I found the problem and the problem is in here.      @Override         public Component getTableCellRendererComponent(JTable jtable, Object o, boolean bln, boolean bln1, int row, int column) {             Component com = super.getTableCellRendererComponent(jtable, o, bln, bln1, row, column);"}],"owner":{"account_id":26383473,"reputation":13,"user_id":20036367,"display_name":"luci_the_coder"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681744615,"creation_date":1681662894,"question_id":76029043,"body_markdown":"Trying science morning.\r\n\r\nbut no success.\r\n\r\nI posted codes that can have problems please help me.\r\n\r\nThis Is output. Instead of an Image, it shows this text.\r\n![]()\r\n\r\n[![enter image description here](https://i.stack.imgur.com/G63tD.jpg)](https://i.stack.imgur.com/G63tD.jpg)\r\n\r\n\r\nTheModel.java javaclass ---\\&gt;(I think the problem is in here).\r\n\r\n```\r\npackage junk.yard.management.creative.system;\r\n\r\npublic class TheModel extends AbstractTableModel {\r\n\r\n    private String[] columns;\r\n    private Object[][] rows;\r\n\r\n    public TheModel() {\r\n    }\r\n\r\n    public TheModel(Object[][] data, String[] columnName) {\r\n\r\n        this.rows = data;\r\n        this.columns = columnName;\r\n    }\r\n\r\n    @Override\r\n    public Class getColumnClass(int column) {\r\n// 4 is the index of the column image\r\n        if (column == 3) {\r\n            return Icon.class;\r\n\r\n        } else {\r\n            return getValueAt(0, column).getClass();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getRowCount() {\r\n        return this.rows.length;\r\n    }\r\n\r\n    @Override\r\n    public int getColumnCount() {\r\n        return this.columns.length;\r\n    }\r\n\r\n    @Override\r\n    public Object getValueAt(int rowIndex, int columnIndex) {\r\n\r\n        return this.rows[rowIndex][columnIndex];\r\n    }\r\n\r\n    @Override\r\n    public String getColumnName(int col) {\r\n        return this.columns[col];\r\n    }\r\n\r\n}\r\n```\r\n\r\nCode in Jframe --\\&gt;(I think the problem is in here)........\r\n\r\n```\r\n public void populateJTable(){\r\n        MyQuery mq = new MyQuery();\r\n        ArrayList&lt;Product2&gt; list = mq.BindTable();\r\n        String[] columnName = {&quot;Sr. No.&quot;,&quot;Name&quot;,&quot;Type&quot;,&quot;Image&quot;};\r\n        Object[][] rows = new Object[list.size()][4];\r\n        for(int i = 0; i &lt; list.size(); i++){      \r\n            if(list.get(i).getMyImage() != null){\r\n                rows[i][0] = list.get(i).getID();\r\n            rows[i][1] = list.get(i).getName();\r\n            rows[i][2] = list.get(i).getType();\r\n             javax.swing.ImageIcon image = new javax.swing.ImageIcon(new javax.swing.ImageIcon(list.get(i).getMyImage()).getImage()\r\n             .getScaledInstance(180, 180, Image.SCALE_SMOOTH) );   \r\n                \r\n            rows[i][3] = image;\r\n            }\r\n            else{\r\n                rows[i][3] = null;\r\n            }\r\n            \r\n        }\r\n        \r\n        TheModel model = new TheModel(rows, columnName);\r\n        jTable1.setModel(model);\r\n        jTable1.setRowHeight(180);\r\n        jTable1.getColumnModel().getColumn(3).setPreferredWidth(180);\r\n    } \r\n```\r\n\r\n\r\nthis is my jTable designing code. DarkTable.java javaclass ---&gt;\r\n\r\n```\r\npackage tabledark;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Component;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.Icon;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.border.EmptyBorder;\r\nimport javax.swing.table.DefaultTableCellRenderer;\r\n\r\npublic class TableDark extends JTable {\r\n\r\n    private TableDarkHeader header;\r\n    private TableDarkCell cell;\r\n\r\n    public TableDark() {\r\n        header = new TableDarkHeader();\r\n        cell = new TableDarkCell();\r\n        getTableHeader().setDefaultRenderer(header);\r\n        getTableHeader().setPreferredSize(new Dimension(0, 35));\r\n        setDefaultRenderer(Object.class, cell);\r\n        setRowHeight(40);\r\n    }\r\n\r\n    public void setColumnAlignment(int column, int align) {\r\n        header.setAlignment(column, align);\r\n    }\r\n\r\n    public void setCellAlignment(int column, int align) {\r\n        cell.setAlignment(column, align);\r\n    }\r\n\r\n    public void setColumnWidth(int column, int width) {\r\n        getColumnModel().getColumn(column).setPreferredWidth(width);\r\n        getColumnModel().getColumn(column).setMinWidth(width);\r\n        getColumnModel().getColumn(column).setMaxWidth(width);\r\n        getColumnModel().getColumn(column).setMinWidth(10);\r\n        getColumnModel().getColumn(column).setMaxWidth(10000);\r\n    }\r\n\r\n    public void fixTable(JScrollPane scroll) {\r\n        scroll.setVerticalScrollBar(new ScrollBarCustom());\r\n        JPanel panel = new JPanel();\r\n        panel.setBackground(new Color(30, 30, 30));\r\n        scroll.setCorner(JScrollPane.UPPER_RIGHT_CORNER, panel);\r\n        scroll.getViewport().setBackground(new Color(30, 30, 30));\r\n        scroll.setBorder(BorderFactory.createLineBorder(new Color(60, 60, 60), 2));\r\n    }\r\n\r\n    private class TableDarkHeader extends DefaultTableCellRenderer {\r\n\r\n        private Map&lt;Integer, Integer&gt; alignment = new HashMap&lt;&gt;();\r\n\r\n        public void setAlignment(int column, int align) {\r\n            alignment.put(column, align);\r\n        }\r\n\r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable jtable, Object o, boolean bln, boolean bln1, int i, int i1) {\r\n            Component com = super.getTableCellRendererComponent(jtable, o, bln, bln1, i, i1);\r\n            com.setBackground(new Color(30, 30, 30));\r\n            com.setForeground(new Color(200, 200, 200));\r\n            com.setFont(com.getFont().deriveFont(Font.BOLD, 25));\r\n            if (alignment.containsKey(i1)) {\r\n                setHorizontalAlignment(alignment.get(i1));\r\n            } else {\r\n                setHorizontalAlignment(JLabel.LEFT);\r\n            }\r\n            return com;\r\n        }\r\n    }\r\n\r\n    private class TableDarkCell extends DefaultTableCellRenderer {\r\n\r\n        private Map&lt;Integer, Integer&gt; alignment = new HashMap&lt;&gt;();\r\n\r\n        public void setAlignment(int column, int align) {\r\n            alignment.put(column, align);\r\n        }\r\n\r\n        @Override\r\n        public Component getTableCellRendererComponent(JTable jtable, Object o, boolean bln, boolean bln1, int row, int column) {\r\n            Component com = super.getTableCellRendererComponent(jtable, o, bln, bln1, row, column);\r\n            if (isCellSelected(row, column)) {\r\n                if (row % 2 == 0) {\r\n                    com.setBackground(new Color(33, 103, 153));\r\n                } else {\r\n                    com.setBackground(new Color(29, 86, 127));\r\n                }\r\n            } else {\r\n                if (row % 2 == 0) {\r\n                    com.setBackground(new Color(50, 50, 50));\r\n                } else {\r\n                    com.setBackground(new Color(30, 30, 30));\r\n                }\r\n            }\r\n            com.setForeground(new Color(200, 200, 200));\r\n            setBorder(new EmptyBorder(0, 5, 0, 5));\r\n            if (alignment.containsKey(column)) {\r\n                setHorizontalAlignment(alignment.get(column));\r\n            } else {\r\n                setHorizontalAlignment(JLabel.LEFT);\r\n            }\r\n            return com;\r\n        }\r\n    }\r\n}\r\n``` \r\n\r\nI think the problem is in here please look at it  \r\n\r\n```\r\n @Override\r\n        public Component getTableCellRendererComponent(JTable jtable, Object o, boolean bln, boolean bln1, int row, int column) {\r\n            Component com = super.getTableCellRendererComponent(jtable, o, bln, bln1, row, column);\r\n            if (isCellSelected(row, column)) {\r\n                if (row % 2 == 0) {\r\n                    com.setBackground(new Color(33, 103, 153));\r\n                } else {\r\n                    com.setBackground(new Color(29, 86, 127));\r\n                }\r\n            } else {\r\n                if (row % 2 == 0) {\r\n                    com.setBackground(new Color(50, 50, 50));\r\n                } else {\r\n                    com.setBackground(new Color(30, 30, 30));\r\n                }\r\n            }\r\n            com.setForeground(new Color(200, 200, 200));\r\n            setBorder(new EmptyBorder(0, 5, 0, 5));\r\n            if (alignment.containsKey(column)) {\r\n                setHorizontalAlignment(alignment.get(column));\r\n            } else {\r\n                setHorizontalAlignment(JLabel.LEFT);\r\n            }\r\n            return com;\r\n        }\r\n    }\r\n\r\n```","title":"I am trying to add image to jTable from mysql Database. but it Shows some text given in the following image","body":"<p>Trying science morning.</p>\n<p>but no success.</p>\n<p>I posted codes that can have problems please help me.</p>\n<p>This Is output. Instead of an Image, it shows this text.\n</p>\n<p><a href=\"https://i.stack.imgur.com/G63tD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G63tD.jpg\" alt=\"enter image description here\" /></a></p>\n<p>TheModel.java javaclass ---&gt;(I think the problem is in here).</p>\n<pre><code>package junk.yard.management.creative.system;\n\npublic class TheModel extends AbstractTableModel {\n\n    private String[] columns;\n    private Object[][] rows;\n\n    public TheModel() {\n    }\n\n    public TheModel(Object[][] data, String[] columnName) {\n\n        this.rows = data;\n        this.columns = columnName;\n    }\n\n    @Override\n    public Class getColumnClass(int column) {\n// 4 is the index of the column image\n        if (column == 3) {\n            return Icon.class;\n\n        } else {\n            return getValueAt(0, column).getClass();\n        }\n    }\n\n    @Override\n    public int getRowCount() {\n        return this.rows.length;\n    }\n\n    @Override\n    public int getColumnCount() {\n        return this.columns.length;\n    }\n\n    @Override\n    public Object getValueAt(int rowIndex, int columnIndex) {\n\n        return this.rows[rowIndex][columnIndex];\n    }\n\n    @Override\n    public String getColumnName(int col) {\n        return this.columns[col];\n    }\n\n}\n</code></pre>\n<p>Code in Jframe --&gt;(I think the problem is in here)........</p>\n<pre><code> public void populateJTable(){\n        MyQuery mq = new MyQuery();\n        ArrayList&lt;Product2&gt; list = mq.BindTable();\n        String[] columnName = {&quot;Sr. No.&quot;,&quot;Name&quot;,&quot;Type&quot;,&quot;Image&quot;};\n        Object[][] rows = new Object[list.size()][4];\n        for(int i = 0; i &lt; list.size(); i++){      \n            if(list.get(i).getMyImage() != null){\n                rows[i][0] = list.get(i).getID();\n            rows[i][1] = list.get(i).getName();\n            rows[i][2] = list.get(i).getType();\n             javax.swing.ImageIcon image = new javax.swing.ImageIcon(new javax.swing.ImageIcon(list.get(i).getMyImage()).getImage()\n             .getScaledInstance(180, 180, Image.SCALE_SMOOTH) );   \n                \n            rows[i][3] = image;\n            }\n            else{\n                rows[i][3] = null;\n            }\n            \n        }\n        \n        TheModel model = new TheModel(rows, columnName);\n        jTable1.setModel(model);\n        jTable1.setRowHeight(180);\n        jTable1.getColumnModel().getColumn(3).setPreferredWidth(180);\n    } \n</code></pre>\n<p>this is my jTable designing code. DarkTable.java javaclass ---&gt;</p>\n<pre><code>package tabledark;\n\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.util.HashMap;\nimport java.util.Map;\nimport javax.swing.BorderFactory;\nimport javax.swing.Icon;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.table.DefaultTableCellRenderer;\n\npublic class TableDark extends JTable {\n\n    private TableDarkHeader header;\n    private TableDarkCell cell;\n\n    public TableDark() {\n        header = new TableDarkHeader();\n        cell = new TableDarkCell();\n        getTableHeader().setDefaultRenderer(header);\n        getTableHeader().setPreferredSize(new Dimension(0, 35));\n        setDefaultRenderer(Object.class, cell);\n        setRowHeight(40);\n    }\n\n    public void setColumnAlignment(int column, int align) {\n        header.setAlignment(column, align);\n    }\n\n    public void setCellAlignment(int column, int align) {\n        cell.setAlignment(column, align);\n    }\n\n    public void setColumnWidth(int column, int width) {\n        getColumnModel().getColumn(column).setPreferredWidth(width);\n        getColumnModel().getColumn(column).setMinWidth(width);\n        getColumnModel().getColumn(column).setMaxWidth(width);\n        getColumnModel().getColumn(column).setMinWidth(10);\n        getColumnModel().getColumn(column).setMaxWidth(10000);\n    }\n\n    public void fixTable(JScrollPane scroll) {\n        scroll.setVerticalScrollBar(new ScrollBarCustom());\n        JPanel panel = new JPanel();\n        panel.setBackground(new Color(30, 30, 30));\n        scroll.setCorner(JScrollPane.UPPER_RIGHT_CORNER, panel);\n        scroll.getViewport().setBackground(new Color(30, 30, 30));\n        scroll.setBorder(BorderFactory.createLineBorder(new Color(60, 60, 60), 2));\n    }\n\n    private class TableDarkHeader extends DefaultTableCellRenderer {\n\n        private Map&lt;Integer, Integer&gt; alignment = new HashMap&lt;&gt;();\n\n        public void setAlignment(int column, int align) {\n            alignment.put(column, align);\n        }\n\n        @Override\n        public Component getTableCellRendererComponent(JTable jtable, Object o, boolean bln, boolean bln1, int i, int i1) {\n            Component com = super.getTableCellRendererComponent(jtable, o, bln, bln1, i, i1);\n            com.setBackground(new Color(30, 30, 30));\n            com.setForeground(new Color(200, 200, 200));\n            com.setFont(com.getFont().deriveFont(Font.BOLD, 25));\n            if (alignment.containsKey(i1)) {\n                setHorizontalAlignment(alignment.get(i1));\n            } else {\n                setHorizontalAlignment(JLabel.LEFT);\n            }\n            return com;\n        }\n    }\n\n    private class TableDarkCell extends DefaultTableCellRenderer {\n\n        private Map&lt;Integer, Integer&gt; alignment = new HashMap&lt;&gt;();\n\n        public void setAlignment(int column, int align) {\n            alignment.put(column, align);\n        }\n\n        @Override\n        public Component getTableCellRendererComponent(JTable jtable, Object o, boolean bln, boolean bln1, int row, int column) {\n            Component com = super.getTableCellRendererComponent(jtable, o, bln, bln1, row, column);\n            if (isCellSelected(row, column)) {\n                if (row % 2 == 0) {\n                    com.setBackground(new Color(33, 103, 153));\n                } else {\n                    com.setBackground(new Color(29, 86, 127));\n                }\n            } else {\n                if (row % 2 == 0) {\n                    com.setBackground(new Color(50, 50, 50));\n                } else {\n                    com.setBackground(new Color(30, 30, 30));\n                }\n            }\n            com.setForeground(new Color(200, 200, 200));\n            setBorder(new EmptyBorder(0, 5, 0, 5));\n            if (alignment.containsKey(column)) {\n                setHorizontalAlignment(alignment.get(column));\n            } else {\n                setHorizontalAlignment(JLabel.LEFT);\n            }\n            return com;\n        }\n    }\n}\n</code></pre>\n<p>I think the problem is in here please look at it</p>\n<pre><code> @Override\n        public Component getTableCellRendererComponent(JTable jtable, Object o, boolean bln, boolean bln1, int row, int column) {\n            Component com = super.getTableCellRendererComponent(jtable, o, bln, bln1, row, column);\n            if (isCellSelected(row, column)) {\n                if (row % 2 == 0) {\n                    com.setBackground(new Color(33, 103, 153));\n                } else {\n                    com.setBackground(new Color(29, 86, 127));\n                }\n            } else {\n                if (row % 2 == 0) {\n                    com.setBackground(new Color(50, 50, 50));\n                } else {\n                    com.setBackground(new Color(30, 30, 30));\n                }\n            }\n            com.setForeground(new Color(200, 200, 200));\n            setBorder(new EmptyBorder(0, 5, 0, 5));\n            if (alignment.containsKey(column)) {\n                setHorizontalAlignment(alignment.get(column));\n            } else {\n                setHorizontalAlignment(JLabel.LEFT);\n            }\n            return com;\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","rate-limiting","bucket","bucket4j"],"answers":[{"tags":[],"owner":{"account_id":7743618,"reputation":24,"user_id":5862337,"display_name":"Vladimir Bukhtoyarov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681744556,"creation_date":1681744556,"answer_id":76036679,"question_id":76016472,"body_markdown":"Bucket4j does not provide direct ability to disable limits. So you need to find some trick that will behave aproximattely in desired way. \r\n\r\nFo example, you can reconfigure(via **replaceConfiguration**) the bucket with extremelly huge limit each time when you need to disbale limit. Bellow is example of effectivelly infinite limit that is enough for usual cases:\r\n\r\n     BucketConfiguration infiniteConfiguration =  BucketConfiguration.builder().\r\n                    addLimit(Bandwidth.simple(Long.MAX_VALUE, Duration.ofNanos(Long.MAX_VALUE)).\r\n                    build();\r\n\r\nThen each time when you need to activate limits again, you should to reconfigure bucket again with regular configuration.","title":"Bucket4J enable or disable dynamically","body":"<p>Bucket4j does not provide direct ability to disable limits. So you need to find some trick that will behave aproximattely in desired way.</p>\n<p>Fo example, you can reconfigure(via <strong>replaceConfiguration</strong>) the bucket with extremelly huge limit each time when you need to disbale limit. Bellow is example of effectivelly infinite limit that is enough for usual cases:</p>\n<pre><code> BucketConfiguration infiniteConfiguration =  BucketConfiguration.builder().\n                addLimit(Bandwidth.simple(Long.MAX_VALUE, Duration.ofNanos(Long.MAX_VALUE)).\n                build();\n</code></pre>\n<p>Then each time when you need to activate limits again, you should to reconfigure bucket again with regular configuration.</p>\n"}],"owner":{"account_id":15644198,"reputation":25,"user_id":12062524,"display_name":"Oscar Besga Panel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76036679,"answer_count":1,"score":1,"last_activity_date":1681744556,"creation_date":1681484476,"question_id":76016472,"body_markdown":"I know than a rate limiter with Bucket4J  can be reconfigured dynamically,  but can it be dinamically enabled/disabled ?\r\n\r\nIn my case, if the configurations is 0 permits (per seconds), it means it&#39;s disabled. And internally I configure the bucket with a comical high limit rate.\r\n\r\nYou can see the code code bellow\r\n\r\n\r\n```\r\n    public void configure(int permitsPerSecond) {\r\n        if (permitsPerSecond &gt; 0) {\r\n            // Enable rate limit with bucker4j\r\n            Refill refill = Refill.intervally(permitsPerSecond, Duration.ofSeconds(1L));\r\n            Bandwidth currentLimit = Bandwidth.classic(permitsPerSecond, refill);\r\n            BucketConfiguration currentConfiguration =  BucketConfiguration.builder().\r\n                    addLimit(currentLimit).\r\n                    build();\r\n            bucket.replaceConfiguration(currentConfiguration, TokensInheritanceStrategy.RESET);\r\n        } else {\r\n            // Disable rate limit with ludicrous high rate\r\n            BucketConfiguration currentConfiguration =  BucketConfiguration.builder().\r\n                    addLimit(Bandwidth.simple(999_999_999_999L, Duration.ofSeconds(1))).\r\n                    build();\r\n            bucket.replaceConfiguration(DEFAULT_CONFIGURATION,\r\n                    TokensInheritanceStrategy.RESET);\r\n        }\r\n    }\r\n\r\n    public boolean allowExecution() {\r\n        return bucket.tryConsume(1L);\r\n    }\r\n\r\n```\r\n\r\nI tried searching documentacion and code, expected a method like bucket.enable(boolean) and bucket.getLimit().getCapacty(), but no luck\r\n\r\nIs there another way I can disable dinamically the bucket ?\r\nAlso, can I access the current capacity of the bucket from the Bucket class ?\r\n\r\n\r\nThanks\r\n\r\n\r\n","title":"Bucket4J enable or disable dynamically","body":"<p>I know than a rate limiter with Bucket4J  can be reconfigured dynamically,  but can it be dinamically enabled/disabled ?</p>\n<p>In my case, if the configurations is 0 permits (per seconds), it means it's disabled. And internally I configure the bucket with a comical high limit rate.</p>\n<p>You can see the code code bellow</p>\n<pre><code>    public void configure(int permitsPerSecond) {\n        if (permitsPerSecond &gt; 0) {\n            // Enable rate limit with bucker4j\n            Refill refill = Refill.intervally(permitsPerSecond, Duration.ofSeconds(1L));\n            Bandwidth currentLimit = Bandwidth.classic(permitsPerSecond, refill);\n            BucketConfiguration currentConfiguration =  BucketConfiguration.builder().\n                    addLimit(currentLimit).\n                    build();\n            bucket.replaceConfiguration(currentConfiguration, TokensInheritanceStrategy.RESET);\n        } else {\n            // Disable rate limit with ludicrous high rate\n            BucketConfiguration currentConfiguration =  BucketConfiguration.builder().\n                    addLimit(Bandwidth.simple(999_999_999_999L, Duration.ofSeconds(1))).\n                    build();\n            bucket.replaceConfiguration(DEFAULT_CONFIGURATION,\n                    TokensInheritanceStrategy.RESET);\n        }\n    }\n\n    public boolean allowExecution() {\n        return bucket.tryConsume(1L);\n    }\n\n</code></pre>\n<p>I tried searching documentacion and code, expected a method like bucket.enable(boolean) and bucket.getLimit().getCapacty(), but no luck</p>\n<p>Is there another way I can disable dinamically the bucket ?\nAlso, can I access the current capacity of the bucket from the Bucket class ?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","heap-memory","jdbctemplate"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1681742659,"post_id":76036355,"comment_id":134101819,"body_markdown":"Have you tried increasing the heap size?","body":"Have you tried increasing the heap size?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1681742678,"post_id":76036355,"comment_id":134101826,"body_markdown":"Or getting the data in chunks instead of all of them at the same time?","body":"Or getting the data in chunks instead of all of them at the same time?"},{"owner":{"account_id":15972329,"reputation":43,"user_id":11526085,"display_name":"TheStudentProgrammer"},"score":0,"creation_date":1681742703,"post_id":76036355,"comment_id":134101835,"body_markdown":"Yeah @FedericoklezCulloca , that was the first thing I tried. I increased it to 6GBs and still running out of memory.","body":"Yeah @FedericoklezCulloca , that was the first thing I tried. I increased it to 6GBs and still running out of memory."},{"owner":{"account_id":15972329,"reputation":43,"user_id":11526085,"display_name":"TheStudentProgrammer"},"score":0,"creation_date":1681742776,"post_id":76036355,"comment_id":134101867,"body_markdown":"@FedericoklezCulloca could you explain what you mean by getting the data in chunks?","body":"@FedericoklezCulloca could you explain what you mean by getting the data in chunks?"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1681742834,"post_id":76036355,"comment_id":134101889,"body_markdown":"you can certainly share a similar coding example.","body":"you can certainly share a similar coding example."},{"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"score":0,"creation_date":1681743595,"post_id":76036355,"comment_id":134102095,"body_markdown":"Or you could use a key or some other `WHERE` filter to get _less_ data.","body":"Or you could use a key or some other <code>WHERE</code> filter to get <i>less</i> data."},{"owner":{"account_id":81168,"reputation":234336,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":0,"creation_date":1681744015,"post_id":76036355,"comment_id":134102206,"body_markdown":"I mean, even if you can load 6GB of records into memory, what are you going to do with them? You say you have to use this data to fetch some related data from an API, are you expecting to send 6GB to an API?","body":"I mean, even if you can load 6GB of records into memory, what are you going to do with them? You say you have to use this data to fetch some related data from an API, are you expecting to send 6GB to an API?"},{"owner":{"account_id":15972329,"reputation":43,"user_id":11526085,"display_name":"TheStudentProgrammer"},"score":0,"creation_date":1681744220,"post_id":76036355,"comment_id":134102267,"body_markdown":"@user229044 I get the data then call the API one at a time in a for loop then once the data is retrieved from the API I ingest to the DataSource.","body":"@user229044 I get the data then call the API one at a time in a for loop then once the data is retrieved from the API I ingest to the DataSource."},{"owner":{"account_id":81168,"reputation":234336,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":0,"creation_date":1681744351,"post_id":76036355,"comment_id":134102304,"body_markdown":"Are you doing that 272 million times? Or are you filtering down the data set and making dramatically fewer requests? Can you move that filtering into the database via a `where`?","body":"Are you doing that 272 million times? Or are you filtering down the data set and making dramatically fewer requests? Can you move that filtering into the database via a <code>where</code>?"},{"owner":{"account_id":15972329,"reputation":43,"user_id":11526085,"display_name":"TheStudentProgrammer"},"score":0,"creation_date":1681744764,"post_id":76036355,"comment_id":134102439,"body_markdown":"@user229044 I am not filtering the data down. I planned on calling the API that many times. I was tasked with getting all that data and the returned json in its own location in a new table. I might look more but I do not think I can filter using a ```WHERE```.","body":"@user229044 I am not filtering the data down. I planned on calling the API that many times. I was tasked with getting all that data and the returned json in its own location in a new table. I might look more but I do not think I can filter using a <code>WHERE</code>."}],"answers":[{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681743814,"creation_date":1681743814,"answer_id":76036567,"question_id":76036355,"body_markdown":"You don&#39;t need to load full dataset into memory, but instead you should process it on-the-fly:\r\n```\r\nclass JdbcTemplate {\r\n\tpublic void query(String sql, RowCallbackHandler rch) throws DataAccessException;\r\n}\r\n```\r\nE.g.:\r\n```\r\njdbcTemplate.query(getVinDataQuery, rs -&gt; {\r\n    // process each row...\r\n    final String id = rs.getString(&quot;id&quot;);\r\n    final String text = rs.getString(&quot;text&quot;);\r\n\r\n    doProcessRow(new Data(id, text));\r\n});\r\n\r\n```\r\n","title":"Is it possible to get a TON of data with springboot or should we try something else?","body":"<p>You don't need to load full dataset into memory, but instead you should process it on-the-fly:</p>\n<pre><code>class JdbcTemplate {\n    public void query(String sql, RowCallbackHandler rch) throws DataAccessException;\n}\n</code></pre>\n<p>E.g.:</p>\n<pre><code>jdbcTemplate.query(getVinDataQuery, rs -&gt; {\n    // process each row...\n    final String id = rs.getString(&quot;id&quot;);\n    final String text = rs.getString(&quot;text&quot;);\n\n    doProcessRow(new Data(id, text));\n});\n\n</code></pre>\n"}],"owner":{"account_id":15972329,"reputation":43,"user_id":11526085,"display_name":"TheStudentProgrammer"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681744065,"answer_count":1,"score":0,"last_activity_date":1681744555,"creation_date":1681742447,"question_id":76036355,"body_markdown":"I am running into a problem where I run out of memory trying to use a select query on a table with 232 million records. The specific field is a String with 17 characters. I am basically tasked with making a connection to a specific table get the selected data then use that data to call an API. Then ingest that to another table. I am, of course, running out of memory. Does anyone have any suggestions. I am keeping it general since I cannot share the codebase, but I am wondering if this design should work with such a large dataset. \r\n\r\n\r\nbelow is my runner.\r\n```\r\n @Override\r\n    public void run(ApplicationArguments args) {\r\n        final long startTimeAt = System.currentTimeMillis();\r\n\r\n        // List with all the data from AT database\r\n        List&lt;Data&gt; data = DataRepository.getData(); //ERROR\r\n        final long endTimeAt = System.currentTimeMillis();\r\n\r\n        log.info(&quot;AT data retrieval took time: {}&quot;, endTimeAt - startTimeAt);\r\n```\r\nThis is how I am getting data\r\n```\r\n@Override\r\n    public List&lt;Data&gt; getData() {\r\n        jdbcTemplate.setFetchSize(10000);\r\n        return jdbcTemplate.query(getVinDataQuery, new BeanPropertyRowMapper&lt;&gt;(Data.class));\r\n    }\r\n```\r\n\r\nIf it helps here is the error I am getting:  \r\n```java.lang.OutOfMemoryError: Java heap space```","title":"Is it possible to get a TON of data with springboot or should we try something else?","body":"<p>I am running into a problem where I run out of memory trying to use a select query on a table with 232 million records. The specific field is a String with 17 characters. I am basically tasked with making a connection to a specific table get the selected data then use that data to call an API. Then ingest that to another table. I am, of course, running out of memory. Does anyone have any suggestions. I am keeping it general since I cannot share the codebase, but I am wondering if this design should work with such a large dataset.</p>\n<p>below is my runner.</p>\n<pre><code> @Override\n    public void run(ApplicationArguments args) {\n        final long startTimeAt = System.currentTimeMillis();\n\n        // List with all the data from AT database\n        List&lt;Data&gt; data = DataRepository.getData(); //ERROR\n        final long endTimeAt = System.currentTimeMillis();\n\n        log.info(&quot;AT data retrieval took time: {}&quot;, endTimeAt - startTimeAt);\n</code></pre>\n<p>This is how I am getting data</p>\n<pre><code>@Override\n    public List&lt;Data&gt; getData() {\n        jdbcTemplate.setFetchSize(10000);\n        return jdbcTemplate.query(getVinDataQuery, new BeanPropertyRowMapper&lt;&gt;(Data.class));\n    }\n</code></pre>\n<p>If it helps here is the error I am getting:<br />\n<code>java.lang.OutOfMemoryError: Java heap space</code></p>\n"},{"tags":["java","amazon-web-services","session","policy","sts"],"comments":[{"owner":{"account_id":1912742,"reputation":15070,"user_id":1726083,"display_name":"erik258"},"score":1,"creation_date":1681744581,"post_id":76036606,"comment_id":134102382,"body_markdown":"&quot;Roles may not be assumed by root accounts.&quot;  Pretty straightforward, right?  You shouldn&#39;t use the AWS Root account for _anything_ other than setting up IAM users or SSO or whatnot,  and it shouldn&#39;t have API keys associated with it at all.","body":"&quot;Roles may not be assumed by root accounts.&quot;  Pretty straightforward, right?  You shouldn&#39;t use the AWS Root account for <i>anything</i> other than setting up IAM users or SSO or whatnot,  and it shouldn&#39;t have API keys associated with it at all."}],"owner":{"account_id":10144462,"reputation":621,"user_id":7493041,"accept_rate":43,"display_name":"Secret"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681744548,"creation_date":1681744037,"question_id":76036606,"body_markdown":"Here I am using  AWS security token service&#160;to create&#160;temporary security credentials&#160;with&#160;Spring MVC&#160;and&#160;Java&#160;app.\r\nWhile creating the temporary security credentials I am getting below exception.\r\n\r\nException : \r\n\r\n\r\n\r\n    \r\n    Exception in thread &quot;main&quot; com.amazonaws.services.securitytoken.model.AWSSecurityTokenServiceException: Roles may not be assumed by root accounts. (Service: AWSSecurityTokenService; Status Code: 403; Error Code: AccessDenied; Request ID: 205e48a6-263e-430f-9545-4991426e36cf; Proxy: null)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1879)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleServiceErrorResponse(AmazonHttpClient.java:1418)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1387)\r\n\r\nMy Java Code :\r\n\r\n    String clientRegion = &quot;us-east-1&quot;;\r\n    String roleARN = &quot;arn:aws:iam::&lt;ACCOUNT-HYPHENS&gt;:role/&lt;ROLE-NAME&gt;&quot;;\r\n    AWSCredentials credentials =  new BasicAWSCredentials(&quot;accessKey&quot;,\r\n    \t\t&quot;secretKey&quot;);\r\n    AWSCredentialsProvider credentialsProvider = new AWSStaticCredentialsProvider(credentials);\r\n    \r\n    AssumeRoleRequest assumeRequest = new AssumeRoleRequest()\r\n    \t\t.withRoleArn(roleARN)\r\n    \t\t.withDurationSeconds(3600).withRoleSessionName(&quot;TEST&quot;);\r\n    \r\n    AWSSecurityTokenService securityTokenService = AWSSecurityTokenServiceClientBuilder.standard()\r\n    \t\t.withRegion(clientRegion).withCredentials(credentialsProvider).build();\r\n    \r\n    AssumeRoleResult result = securityTokenService.assumeRole(assumeRequest);\r\n    System.out.println(result);\r\n\r\n","title":"How to create&#160;AWS temporary security credentials in Java","body":"<p>Here I am using  AWS security token service to create temporary security credentials with Spring MVC and Java app.\nWhile creating the temporary security credentials I am getting below exception.</p>\n<p>Exception :</p>\n<pre><code>Exception in thread &quot;main&quot; com.amazonaws.services.securitytoken.model.AWSSecurityTokenServiceException: Roles may not be assumed by root accounts. (Service: AWSSecurityTokenService; Status Code: 403; Error Code: AccessDenied; Request ID: 205e48a6-263e-430f-9545-4991426e36cf; Proxy: null)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleErrorResponse(AmazonHttpClient.java:1879)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleServiceErrorResponse(AmazonHttpClient.java:1418)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1387)\n</code></pre>\n<p>My Java Code :</p>\n<pre><code>String clientRegion = &quot;us-east-1&quot;;\nString roleARN = &quot;arn:aws:iam::&lt;ACCOUNT-HYPHENS&gt;:role/&lt;ROLE-NAME&gt;&quot;;\nAWSCredentials credentials =  new BasicAWSCredentials(&quot;accessKey&quot;,\n        &quot;secretKey&quot;);\nAWSCredentialsProvider credentialsProvider = new AWSStaticCredentialsProvider(credentials);\n\nAssumeRoleRequest assumeRequest = new AssumeRoleRequest()\n        .withRoleArn(roleARN)\n        .withDurationSeconds(3600).withRoleSessionName(&quot;TEST&quot;);\n\nAWSSecurityTokenService securityTokenService = AWSSecurityTokenServiceClientBuilder.standard()\n        .withRegion(clientRegion).withCredentials(credentialsProvider).build();\n\nAssumeRoleResult result = securityTokenService.assumeRole(assumeRequest);\nSystem.out.println(result);\n</code></pre>\n"},{"tags":["java","arrays","pointers"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1681742652,"post_id":76036330,"comment_id":134101814,"body_markdown":"So, you want to pass a kind of &#39;sub-array&#39; to the method.  Inside the method, index [0] may point to any index within the original array.\nI don&#39;t think that is possible in Java.\nYou have to pass the array object itself, with an offset from where you want to write to.\nOr\nYou have to create a new array, use\n\n```System.arraycopy(Object src, int srcPos, Object dest, int destPos, int length)```\n\nTo create a different array with subset of elements, and then pass that array.","body":"So, you want to pass a kind of &#39;sub-array&#39; to the method.  Inside the method, index [0] may point to any index within the original array. I don&#39;t think that is possible in Java. You have to pass the array object itself, with an offset from where you want to write to. Or You have to create a new array, use  <code>System.arraycopy(Object src, int srcPos, Object dest, int destPos, int length)</code>  To create a different array with subset of elements, and then pass that array."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681742972,"creation_date":1681742972,"answer_id":76036437,"question_id":76036330,"body_markdown":"There is not.\r\n\r\nYou have a few options:\r\n\r\n## Use `java.nio.buffer.ByteBuffer`\r\n\r\nByteBuffer is an abstract concept; they are a lot like arrays in that they are fixed size and represent bytes. Unlike `byte[]`, it has a meaningful API, and unlike `byte[]`, it has baked in tracking (as in, it has a &#39;position&#39;, unlike byte arrays which only have a length). In fact, very awesome tracking, with marks, resets, and limits. In practice, a bytebuffers consist either of &#39;a light object wrapper around an array that contains the data&#39; or &#39;direct access to a memory mapped I/O thing&#39;.\r\n\r\nIn fact, ByteBuffer __already has__ write-int-to-byte-array-as-little-endian functionality!\r\n\r\n```\r\nbyte[] buffer = new byte[512];\r\nByteBuffer bb = ByteBuffer.wrap(buffer).order(ByteOrder.LITTLE_ENDIAN);\r\nbb.position(2);\r\nbb.putInt(3);\r\n```\r\n\r\nThere is no further need for a `uint32ToBuffer` method at this point; bytebuffer already has it. The `putInt(3)` call:\r\n\r\n* Writes &#39;3&#39; as 32-bit integer into the bytes at position `[2]`, `[3]`, `[4]`, and `[5]` (because the bb&#39;s position was &#39;2&#39;; it&#39;s a relative write). Specifically, it writes 3/0/0/0 because the byte order of the buffer object is `LITTLE_ENDIAN`. By default they are big endian and would have written 0/0/0/3. Not sure why you want little endian, that is a very outdated concept at this point, only x86/x64 chips still use it: The internet tends to be big endian, and ARM chips which are at this point quite a bit more popular are too. If you are designing the protocol I strongly advise you to rewrite things to be big endian instead.\r\n* Advances the position of the bb to 6.\r\n\r\nThere&#39;s also an absolute write:\r\n\r\n```\r\nbb.putInt(2, 3);\r\n```\r\n\r\nThis has the same effect (writes `3` to `buffer[2]`, and `0` to `buffer[3]` through `buffer[5]`), but doesn&#39;t depend on the buffer&#39;s position value nor modifies it.\r\n\r\nI strongly recommend you use this here and for everything else you&#39;re doing that involves &#39;writing little-endian ints into a byte array&#39;. [The ByteBuffer API has probably just about everything you are currently writing utility methods for](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/ByteBuffer.html).\r\n\r\n## Just pass it along\r\n\r\nAlternatively, pass along the position; this is _very_ common in java APIs:\r\n\r\n```\r\nprivate void uint32ToBuffer(int val, byte[] buffer, int pos) {\r\n    buffer[pos] = (byte)val;\r\n    buffer[pos + 1] = (byte)(val &gt;&gt;&gt; 8);\r\n    buffer[pos + 2] = (byte)(val &gt;&gt;&gt; 16);\r\n    buffer[pos + 3] = (byte)(val &gt;&gt;&gt; 24);\r\n}\r\n\r\n// ... and if you want, for convenience:\r\nprivate void uint32ToBuffer(int val, byte[] buffer) {\r\n  uint32ToBuffer(val, buffer, 0);\r\n}\r\n```\r\n\r\nThere is no way in java to create arrays that are subslices of other arrays; array is extremely basic and supports absolutely nothing that could possibly count as &#39;fancy&#39;. Java also has no pointer arithmetic of any sort, thus, making a reference that points 2 slots into a  byte array just isn&#39;t a thing. In C land, a byte array is essentially &#39;just a pointer&#39; and you have no idea how long it is. In java, because buffer overflows are a rather common security issue, that concept __does not exist in any way__ and that is intentional. byte arrays really are their own data structure and notably know both that they are, in fact, a byte array, and how long they are. Java makes it impossible (unless you write some hacked class files _and_ disable the JVM&#39;s class verifier) to program a buffer overrun issue. To do that, pointers __cannot__ be modified in that fashion (you can&#39;t &#39;add 2&#39; to a pointer in java).\r\n","title":"How to make pointer like object to the middle of an array","body":"<p>There is not.</p>\n<p>You have a few options:</p>\n<h2>Use <code>java.nio.buffer.ByteBuffer</code></h2>\n<p>ByteBuffer is an abstract concept; they are a lot like arrays in that they are fixed size and represent bytes. Unlike <code>byte[]</code>, it has a meaningful API, and unlike <code>byte[]</code>, it has baked in tracking (as in, it has a 'position', unlike byte arrays which only have a length). In fact, very awesome tracking, with marks, resets, and limits. In practice, a bytebuffers consist either of 'a light object wrapper around an array that contains the data' or 'direct access to a memory mapped I/O thing'.</p>\n<p>In fact, ByteBuffer <strong>already has</strong> write-int-to-byte-array-as-little-endian functionality!</p>\n<pre><code>byte[] buffer = new byte[512];\nByteBuffer bb = ByteBuffer.wrap(buffer).order(ByteOrder.LITTLE_ENDIAN);\nbb.position(2);\nbb.putInt(3);\n</code></pre>\n<p>There is no further need for a <code>uint32ToBuffer</code> method at this point; bytebuffer already has it. The <code>putInt(3)</code> call:</p>\n<ul>\n<li>Writes '3' as 32-bit integer into the bytes at position <code>[2]</code>, <code>[3]</code>, <code>[4]</code>, and <code>[5]</code> (because the bb's position was '2'; it's a relative write). Specifically, it writes 3/0/0/0 because the byte order of the buffer object is <code>LITTLE_ENDIAN</code>. By default they are big endian and would have written 0/0/0/3. Not sure why you want little endian, that is a very outdated concept at this point, only x86/x64 chips still use it: The internet tends to be big endian, and ARM chips which are at this point quite a bit more popular are too. If you are designing the protocol I strongly advise you to rewrite things to be big endian instead.</li>\n<li>Advances the position of the bb to 6.</li>\n</ul>\n<p>There's also an absolute write:</p>\n<pre><code>bb.putInt(2, 3);\n</code></pre>\n<p>This has the same effect (writes <code>3</code> to <code>buffer[2]</code>, and <code>0</code> to <code>buffer[3]</code> through <code>buffer[5]</code>), but doesn't depend on the buffer's position value nor modifies it.</p>\n<p>I strongly recommend you use this here and for everything else you're doing that involves 'writing little-endian ints into a byte array'. <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\">The ByteBuffer API has probably just about everything you are currently writing utility methods for</a>.</p>\n<h2>Just pass it along</h2>\n<p>Alternatively, pass along the position; this is <em>very</em> common in java APIs:</p>\n<pre><code>private void uint32ToBuffer(int val, byte[] buffer, int pos) {\n    buffer[pos] = (byte)val;\n    buffer[pos + 1] = (byte)(val &gt;&gt;&gt; 8);\n    buffer[pos + 2] = (byte)(val &gt;&gt;&gt; 16);\n    buffer[pos + 3] = (byte)(val &gt;&gt;&gt; 24);\n}\n\n// ... and if you want, for convenience:\nprivate void uint32ToBuffer(int val, byte[] buffer) {\n  uint32ToBuffer(val, buffer, 0);\n}\n</code></pre>\n<p>There is no way in java to create arrays that are subslices of other arrays; array is extremely basic and supports absolutely nothing that could possibly count as 'fancy'. Java also has no pointer arithmetic of any sort, thus, making a reference that points 2 slots into a  byte array just isn't a thing. In C land, a byte array is essentially 'just a pointer' and you have no idea how long it is. In java, because buffer overflows are a rather common security issue, that concept <strong>does not exist in any way</strong> and that is intentional. byte arrays really are their own data structure and notably know both that they are, in fact, a byte array, and how long they are. Java makes it impossible (unless you write some hacked class files <em>and</em> disable the JVM's class verifier) to program a buffer overrun issue. To do that, pointers <strong>cannot</strong> be modified in that fashion (you can't 'add 2' to a pointer in java).</p>\n"}],"owner":{"account_id":5061328,"reputation":543,"user_id":4062818,"display_name":"VojtaK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76036437,"answer_count":1,"score":0,"last_activity_date":1681743685,"creation_date":1681742232,"question_id":76036330,"body_markdown":"I have a byte buffer and would like to have identifier that points to the first element, which shall be written that does not necessary have to be the first element of the array itself. \r\n\r\n```\r\n     private void uint32ToBuffer(int val, byte[] buffer)\r\n    {\r\n        buffer[0] = (byte)val;\r\n        buffer[1] = (byte)(val &gt;&gt;&gt; 8);\r\n        buffer[2] = (byte)(val &gt;&gt;&gt; 16);\r\n        buffer[3] = (byte)(val &gt;&gt;&gt; 24);\r\n    }\r\n```\r\nI would like to do\r\n\r\n```\r\nbyte[] buffer = new byte[512];\r\nuint32ToBuffer(3, &amp;buffer[2]);\r\n\r\n```\r\n\r\nbut apparently it does not work. Is it somehow possible to do this without letting  the function `uint32ToBuffer` know the initial position from which it is supposed to write to the array to replicate pointer arithmetic logic from `C` like languages? ","title":"How to make pointer like object to the middle of an array","body":"<p>I have a byte buffer and would like to have identifier that points to the first element, which shall be written that does not necessary have to be the first element of the array itself.</p>\n<pre><code>     private void uint32ToBuffer(int val, byte[] buffer)\n    {\n        buffer[0] = (byte)val;\n        buffer[1] = (byte)(val &gt;&gt;&gt; 8);\n        buffer[2] = (byte)(val &gt;&gt;&gt; 16);\n        buffer[3] = (byte)(val &gt;&gt;&gt; 24);\n    }\n</code></pre>\n<p>I would like to do</p>\n<pre><code>byte[] buffer = new byte[512];\nuint32ToBuffer(3, &amp;buffer[2]);\n\n</code></pre>\n<p>but apparently it does not work. Is it somehow possible to do this without letting  the function <code>uint32ToBuffer</code> know the initial position from which it is supposed to write to the array to replicate pointer arithmetic logic from <code>C</code> like languages?</p>\n"},{"tags":["python","java","multithreading"],"comments":[{"owner":{"account_id":16352156,"reputation":397,"user_id":11810358,"display_name":"Jorge Ruiz G&#243;mez"},"score":1,"creation_date":1681721924,"post_id":76033166,"comment_id":134096555,"body_markdown":"You can use a shared-memory region (posix-ipc or nmap) but i preffer OS Sockets as they are multiplatform and widely supported.\n\nAn alternative would be to use pub/sub message-queue system, but this usually requires a broker (MQTT, RabbitMQ, Kafka)","body":"You can use a shared-memory region (posix-ipc or nmap) but i preffer OS Sockets as they are multiplatform and widely supported.  An alternative would be to use pub/sub message-queue system, but this usually requires a broker (MQTT, RabbitMQ, Kafka)"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1681742124,"post_id":76033166,"comment_id":134101679,"body_markdown":"Does this answer your question? [How to continues send data from backend to frontend when something changes](https://stackoverflow.com/questions/71395004/how-to-continues-send-data-from-backend-to-frontend-when-something-changes)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71395004/how-to-continues-send-data-from-backend-to-frontend-when-something-changes\">How to continues send data from backend to frontend when something changes</a>"},{"owner":{"account_id":3672073,"reputation":7124,"user_id":3059024,"accept_rate":83,"display_name":"CiaranWelsh"},"score":0,"creation_date":1681889529,"post_id":76033166,"comment_id":134127938,"body_markdown":"Certainly helps, thanks!","body":"Certainly helps, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1681743539,"creation_date":1681722064,"answer_id":76033398,"question_id":76033166,"body_markdown":"I suggest that you use an http-based callback mechanism.\r\n\r\nExpose an http post endpoint in the Python application that accepts a call indicating that the Java service has completed its work.\r\n\r\nJava calls Python back to indicate completion and pass back results. Usually the initial call that Python makes to Java includes info to identify the call and this identifier is passed back in the callback allowing Python to tie everything together.\r\n\r\nThe advantage of this approach is that, because it uses http for all integration, it is not tied to the implementation technology on either end. It allows scalability, location independence and a microservice type architecture.\r\n\r\n**Implementation notes**\r\n\r\nThe payload in initial call from Python to Java must include a url where the Python http server is running, for Java to call Python back on when it’s completed the work. For example the following request body (if we are POSTing to Java):\r\n\r\n    {\r\n        “callbackUrl”: “http://10.0.0.2:8000/callback?job_id=123”,\r\n        “foo”: “bar”\r\n    }\r\n\r\nWhen complete, Java (java.net.http.HttpClient or Spring RestTemplate) POSTs the results to the callbackUrl provided and identifies the job (if required.)\r\n\r\n    POST http://10.0.0.2:8000/callback?job_id=123\r\n    {\r\n        “resultFoo”: true,\r\n        “resultBar”: 10\r\n    }\r\n\r\nIn Python create a function to accept the callback, eg with [flask][1]\r\n\r\n    @api.route(&#39;/callback&#39;, methods=[&#39;POST&#39;])\r\n    def post_callback():\r\n        \r\n      jobId = request.args.get(&#39;job_id&#39;)\r\n      #link back to original call with JobId\r\n\r\n      request_data = request.get_json()\r\n      # used the posted body data, eg request_data.resultFoo\r\n    \r\n      return json.dumps({&quot;success&quot;: True}), 201)\r\n\r\n  [1]: https://www.digitalocean.com/community/tutorials/processing-incoming-request-data-in-flask\r\n\r\n\r\n","title":"Is it possible to syncronize threads between java and Python?","body":"<p>I suggest that you use an http-based callback mechanism.</p>\n<p>Expose an http post endpoint in the Python application that accepts a call indicating that the Java service has completed its work.</p>\n<p>Java calls Python back to indicate completion and pass back results. Usually the initial call that Python makes to Java includes info to identify the call and this identifier is passed back in the callback allowing Python to tie everything together.</p>\n<p>The advantage of this approach is that, because it uses http for all integration, it is not tied to the implementation technology on either end. It allows scalability, location independence and a microservice type architecture.</p>\n<p><strong>Implementation notes</strong></p>\n<p>The payload in initial call from Python to Java must include a url where the Python http server is running, for Java to call Python back on when it’s completed the work. For example the following request body (if we are POSTing to Java):</p>\n<pre><code>{\n    “callbackUrl”: “http://10.0.0.2:8000/callback?job_id=123”,\n    “foo”: “bar”\n}\n</code></pre>\n<p>When complete, Java (java.net.http.HttpClient or Spring RestTemplate) POSTs the results to the callbackUrl provided and identifies the job (if required.)</p>\n<pre><code>POST http://10.0.0.2:8000/callback?job_id=123\n{\n    “resultFoo”: true,\n    “resultBar”: 10\n}\n</code></pre>\n<p>In Python create a function to accept the callback, eg with <a href=\"https://www.digitalocean.com/community/tutorials/processing-incoming-request-data-in-flask\" rel=\"nofollow noreferrer\">flask</a></p>\n<pre><code>@api.route('/callback', methods=['POST'])\ndef post_callback():\n    \n  jobId = request.args.get('job_id')\n  #link back to original call with JobId\n\n  request_data = request.get_json()\n  # used the posted body data, eg request_data.resultFoo\n\n  return json.dumps({&quot;success&quot;: True}), 201)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681742090,"creation_date":1681742090,"answer_id":76036303,"question_id":76033166,"body_markdown":"I think that this is a very common question that should be better formulated as &quot;how can backend notify frontend on some changes&quot;. So this question has been asked before. Here is one of those questions with good answer to it: [How to continues send data from backend to frontend when something changes][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71395004/how-to-continues-send-data-from-backend-to-frontend-when-something-changes/71395235#71395235","title":"Is it possible to syncronize threads between java and Python?","body":"<p>I think that this is a very common question that should be better formulated as &quot;how can backend notify frontend on some changes&quot;. So this question has been asked before. Here is one of those questions with good answer to it: <a href=\"https://stackoverflow.com/questions/71395004/how-to-continues-send-data-from-backend-to-frontend-when-something-changes/71395235#71395235\">How to continues send data from backend to frontend when something changes</a></p>\n"}],"owner":{"account_id":3672073,"reputation":7124,"user_id":3059024,"accept_rate":83,"display_name":"CiaranWelsh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76033398,"answer_count":2,"score":0,"last_activity_date":1681743539,"creation_date":1681720448,"question_id":76033166,"body_markdown":"I have a server written in Java. It accepts http requests as commands to do work. The work takes time. \r\n\r\nWe use Java in the backend and Python in the front end sending the http requests and controlling the work done. In Python, there exists a`threading.Event` which allows communication between threads. What I would like to do might be difficult because of our language choice, but is it possible to have the same type communication between java and Python? \r\n\r\nThat is, Java creates the event and provides a pointer to it which can be accessed and `set` by Python? I&#39;ve used this pattern between C++ and Python, but I guess that&#39;s easier because Python is written in C. \r\n\r\nAny help or pointers to resources will be welcome, thanks.","title":"Is it possible to syncronize threads between java and Python?","body":"<p>I have a server written in Java. It accepts http requests as commands to do work. The work takes time.</p>\n<p>We use Java in the backend and Python in the front end sending the http requests and controlling the work done. In Python, there exists a<code>threading.Event</code> which allows communication between threads. What I would like to do might be difficult because of our language choice, but is it possible to have the same type communication between java and Python?</p>\n<p>That is, Java creates the event and provides a pointer to it which can be accessed and <code>set</code> by Python? I've used this pattern between C++ and Python, but I guess that's easier because Python is written in C.</p>\n<p>Any help or pointers to resources will be welcome, thanks.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-api-gateway"],"comments":[{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1462979742,"post_id":37155595,"comment_id":61868828,"body_markdown":"Is this happening before your Java function is called, or after? Does your &quot;Input: &quot; log message show up in the logs?","body":"Is this happening before your Java function is called, or after? Does your &quot;Input: &quot; log message show up in the logs?"}],"answers":[{"tags":[],"owner":{"account_id":1124783,"reputation":4023,"user_id":1112317,"display_name":"RyanG"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1462984000,"creation_date":1462984000,"answer_id":37168362,"question_id":37155595,"body_markdown":"This is an error message during Lambda deserialization.\r\n\r\nYour API Gateway mapping template is sending a JSON object, but your handler is expecting a String. Either send a raw string from API Gateway, or update your handler to use a POJO corresponding to your template output.\r\n\r\ni.e.\r\n\r\n    public class MyPojo {\r\n       private String input;\r\n       public String getInput() { return input; }\r\n       public void setInput(String input) { this.input = input; }\r\n    }\r\n\r\nSee:\r\nhttp://docs.aws.amazon.com/lambda/latest/dg/java-programming-model-req-resp.html\r\n","title":"AWS Can not deserialize instance of java.lang.String out of START_OBJECT","body":"<p>This is an error message during Lambda deserialization.</p>\n\n<p>Your API Gateway mapping template is sending a JSON object, but your handler is expecting a String. Either send a raw string from API Gateway, or update your handler to use a POJO corresponding to your template output.</p>\n\n<p>i.e.</p>\n\n<pre><code>public class MyPojo {\n   private String input;\n   public String getInput() { return input; }\n   public void setInput(String input) { this.input = input; }\n}\n</code></pre>\n\n<p>See:\n<a href=\"http://docs.aws.amazon.com/lambda/latest/dg/java-programming-model-req-resp.html\" rel=\"noreferrer\">http://docs.aws.amazon.com/lambda/latest/dg/java-programming-model-req-resp.html</a></p>\n"},{"tags":[],"owner":{"account_id":4512173,"reputation":1950,"user_id":3667967,"display_name":"skvp"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1619771003,"creation_date":1550734570,"answer_id":54801594,"question_id":37155595,"body_markdown":"It worked for me in all the scenarios when I change the type of input argument from **String to Object**.\r\n\r\n    public class LambdaFunctionHandler implements RequestHandler&lt;Object, String&gt; {\r\n\r\n      @Override\r\n      public String handleRequest(Object input, Context context) {\r\n        String data= input != null ? input.toString() : &quot;{}&quot;;\r\n        context.getLogger().log(&quot;Input: &quot; + data);\r\n        return &quot;Test completed.&quot;+data;\r\n      }\r\n    }\r\n\r\n************************** Added on 12 March 2021 ***************************\r\n\r\nAfter working on a couple of Lambda implementations, I realized that the input argument is nothing but a plain string representation of a JSON structure or a Map&lt;String, Object&gt; representation.\r\n For the map representation, Key is the name of the attribute, and the value is (1) a String if it is a primitive value or (2) a List if it has multiple values, is another Map&lt;String, Object&gt; or another JSON structure. You can recover the JSON representation with:\r\n\r\n       \tif(input instanceof String)\r\n    \t{\r\n    \t\tString lambdaInputJsonStr = (String)input;\r\n    \t}\r\n    \telse if(input instanceof Map)\r\n    \t{\r\n    \t\tString lambdaInputJsonStr = gson.toJson((Map)input);\r\n        }\r\n","title":"AWS Can not deserialize instance of java.lang.String out of START_OBJECT","body":"<p>It worked for me in all the scenarios when I change the type of input argument from <strong>String to Object</strong>.</p>\n<pre><code>public class LambdaFunctionHandler implements RequestHandler&lt;Object, String&gt; {\n\n  @Override\n  public String handleRequest(Object input, Context context) {\n    String data= input != null ? input.toString() : &quot;{}&quot;;\n    context.getLogger().log(&quot;Input: &quot; + data);\n    return &quot;Test completed.&quot;+data;\n  }\n}\n</code></pre>\n<p>************************** Added on 12 March 2021 ***************************</p>\n<p>After working on a couple of Lambda implementations, I realized that the input argument is nothing but a plain string representation of a JSON structure or a Map&lt;String, Object&gt; representation.\nFor the map representation, Key is the name of the attribute, and the value is (1) a String if it is a primitive value or (2) a List if it has multiple values, is another Map&lt;String, Object&gt; or another JSON structure. You can recover the JSON representation with:</p>\n<pre><code>    if(input instanceof String)\n    {\n        String lambdaInputJsonStr = (String)input;\n    }\n    else if(input instanceof Map)\n    {\n        String lambdaInputJsonStr = gson.toJson((Map)input);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1544964,"reputation":1153,"user_id":1438692,"accept_rate":83,"display_name":"Vikky"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1571863445,"creation_date":1571863445,"answer_id":58530751,"question_id":37155595,"body_markdown":"I tried with Object as parameter type as well as Pojo class and it worked in certain scenarios but while making a request from browser with API gateway URL, it failed and gave exact above error. Spent at least 2-3 hours to figure out that correct Signature, which would work in most cases is below. However this is for hello world example, you would obviously customize your input as per your requirement. \r\n\r\n    public class LambdaFunctionHandler implements RequestHandler&lt;***Map&lt;String,Object&gt;,***  Customer&gt; {\t\r\n    \t@Override\r\n    \tpublic Customer handleRequest(***Map&lt;String,Object&gt; input***, Context context) {\r\n    \t\t\t\t\t\t\r\n    \t}\r\n    }","title":"AWS Can not deserialize instance of java.lang.String out of START_OBJECT","body":"<p>I tried with Object as parameter type as well as Pojo class and it worked in certain scenarios but while making a request from browser with API gateway URL, it failed and gave exact above error. Spent at least 2-3 hours to figure out that correct Signature, which would work in most cases is below. However this is for hello world example, you would obviously customize your input as per your requirement. </p>\n\n<pre><code>public class LambdaFunctionHandler implements RequestHandler&lt;***Map&lt;String,Object&gt;,***  Customer&gt; { \n    @Override\n    public Customer handleRequest(***Map&lt;String,Object&gt; input***, Context context) {\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3023131,"reputation":143,"user_id":2563685,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606616251,"creation_date":1606616251,"answer_id":65056406,"question_id":37155595,"body_markdown":"InputStream should be able to handle any input.\r\n\r\nReference: \r\nhttps://docs.aws.amazon.com/lambda/latest/dg/java-handler.html \r\n&gt;InputStream – The event is any JSON type. The runtime passes a byte stream of the document to the handler without modification. You deserialize the input and write output to an output stream.\r\n\r\n```java\r\npublic class Handler implements RequestHandler&lt;InputStream, String&gt; {\r\n@Override\r\n    public String handleRequest(InputStream event, Context context) {\r\n```","title":"AWS Can not deserialize instance of java.lang.String out of START_OBJECT","body":"<p>InputStream should be able to handle any input.</p>\n<p>Reference:\n<a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-handler.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lambda/latest/dg/java-handler.html</a></p>\n<blockquote>\n<p>InputStream – The event is any JSON type. The runtime passes a byte stream of the document to the handler without modification. You deserialize the input and write output to an output stream.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public class Handler implements RequestHandler&lt;InputStream, String&gt; {\n@Override\n    public String handleRequest(InputStream event, Context context) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7717417,"reputation":4027,"user_id":5844686,"display_name":"Big Pumpkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610991596,"creation_date":1610990980,"answer_id":65779312,"question_id":37155595,"body_markdown":"The error message is trying to say that &quot;Since `input` is a String, I am expecting it to start with a quote `&quot;`. But I am seeing a `{` instead&quot;. That is why changing `input` type to `Object`, `Map&lt;String,Object&gt;` or `MyPojo` made the parser happy. \r\n\r\nIf `input` should truly be a String, the payload value itself must start with a `&quot;`. For instance, `String payload = &quot;\\&quot;string input\\&quot;&quot;`.","title":"AWS Can not deserialize instance of java.lang.String out of START_OBJECT","body":"<p>The error message is trying to say that &quot;Since <code>input</code> is a String, I am expecting it to start with a quote <code>&quot;</code>. But I am seeing a <code>{</code> instead&quot;. That is why changing <code>input</code> type to <code>Object</code>, <code>Map&lt;String,Object&gt;</code> or <code>MyPojo</code> made the parser happy.</p>\n<p>If <code>input</code> should truly be a String, the payload value itself must start with a <code>&quot;</code>. For instance, <code>String payload = &quot;\\&quot;string input\\&quot;&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":3934317,"reputation":1,"user_id":3251346,"display_name":"Francisco Zuluaga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647400995,"creation_date":1647400995,"answer_id":71491467,"question_id":37155595,"body_markdown":"As mentioned by others, the error comes up because the JSON request cannot be casted to a String object. You can implement your handler using a custom input parameter class, for example:\r\n\r\n```\r\n    public class ZinusoftLambdaHandler  implements \r\n     RequestHandler&lt;CustomGetEventInput,String&gt; {\r\n\t\tpublic String handleRequest(CustomGetEventInput input, Context context) {\r\n\t\tcontext.getLogger().log(&quot;Hello World from ZinusoftLambdaHandler : \r\n        &quot;+input.getValue());\r\n\t    return &quot;Response from lambda &quot;+input.getValue();\r\n\t }\r\n   }\r\n```\r\nYour CustomGetEventInput class is just a simple POJO class. \r\n\r\nIn order to invoke a POST method in the API, you need to create a Model and add it to the request body in the Method Request section of the API definition. The json definition of the model needs to match the definition of the CustomGetEventInput class. \r\n\r\nFor example\r\n\r\n```\r\npublic class CustomEventInput {\r\n\tprivate List&lt;Integer&gt; values;\r\n\r\n\tpublic CustomEventInput() {\t\t\r\n\t}\r\n\t\r\n\tpublic CustomEventInput(List&lt;Integer&gt; input) {\r\n\t\tvalues = input;\r\n\t}\r\n\t\r\n\tpublic List&lt;Integer&gt; getValues() {\r\n\t\treturn values;\r\n\t}\r\n\r\n\tpublic void setValues(List&lt;Integer&gt; values) {\r\n\t\tthis.values = values;\r\n\t}\r\n}\r\n```\r\nJSON Model\r\n\r\n```\r\n{\r\n  &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n  &quot;title&quot;: &quot;CustomEventInput&quot;,\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;values&quot;: {\r\n      &quot;type&quot;: &quot;array&quot;,\r\n      &quot;items&quot;: { &quot;type&quot;: &quot;integer&quot; }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nFor a GET method you need to define a URL Query String with the name of the parameters that you are passing to the lambda function.","title":"AWS Can not deserialize instance of java.lang.String out of START_OBJECT","body":"<p>As mentioned by others, the error comes up because the JSON request cannot be casted to a String object. You can implement your handler using a custom input parameter class, for example:</p>\n<pre><code>    public class ZinusoftLambdaHandler  implements \n     RequestHandler&lt;CustomGetEventInput,String&gt; {\n        public String handleRequest(CustomGetEventInput input, Context context) {\n        context.getLogger().log(&quot;Hello World from ZinusoftLambdaHandler : \n        &quot;+input.getValue());\n        return &quot;Response from lambda &quot;+input.getValue();\n     }\n   }\n</code></pre>\n<p>Your CustomGetEventInput class is just a simple POJO class.</p>\n<p>In order to invoke a POST method in the API, you need to create a Model and add it to the request body in the Method Request section of the API definition. The json definition of the model needs to match the definition of the CustomGetEventInput class.</p>\n<p>For example</p>\n<pre><code>public class CustomEventInput {\n    private List&lt;Integer&gt; values;\n\n    public CustomEventInput() {     \n    }\n    \n    public CustomEventInput(List&lt;Integer&gt; input) {\n        values = input;\n    }\n    \n    public List&lt;Integer&gt; getValues() {\n        return values;\n    }\n\n    public void setValues(List&lt;Integer&gt; values) {\n        this.values = values;\n    }\n}\n</code></pre>\n<p>JSON Model</p>\n<pre><code>{\n  &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\n  &quot;title&quot;: &quot;CustomEventInput&quot;,\n  &quot;type&quot;: &quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;values&quot;: {\n      &quot;type&quot;: &quot;array&quot;,\n      &quot;items&quot;: { &quot;type&quot;: &quot;integer&quot; }\n    }\n  }\n}\n</code></pre>\n<p>For a GET method you need to define a URL Query String with the name of the parameters that you are passing to the lambda function.</p>\n"},{"tags":[],"owner":{"account_id":295561,"reputation":906,"user_id":3894472,"display_name":"Anurag"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681743265,"creation_date":1681743265,"answer_id":76036473,"question_id":37155595,"body_markdown":"Instead of using Object class, we can use AWS provided event classes like APIGatewayProxyRequestEvent, S3Event, SNSEvent etc. This will save a lot of effort when you need to look into event attributes like api query parameters, api method etc.\r\n\r\nYou will have to include the following maven dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\r\n            &lt;version&gt;3.11.1&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"AWS Can not deserialize instance of java.lang.String out of START_OBJECT","body":"<p>Instead of using Object class, we can use AWS provided event classes like APIGatewayProxyRequestEvent, S3Event, SNSEvent etc. This will save a lot of effort when you need to look into event attributes like api query parameters, api method etc.</p>\n<p>You will have to include the following maven dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\n        &lt;version&gt;3.11.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4352944,"reputation":4918,"user_id":3589625,"accept_rate":68,"display_name":"Ondrej Tokar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29752,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":54801594,"answer_count":7,"score":36,"last_activity_date":1681743265,"creation_date":1462950935,"question_id":37155595,"body_markdown":"I have made a Lambda Function and I want to access it via URL with a help of the API Gateway. \r\n\r\nI have set it all up, I have also created an `application/json` body mapping template in API Gateway looking like this: \r\n\r\n    { \r\n        &quot;input&quot;: &quot;$input.params(&#39;input&#39;)&quot;,\r\n    }\r\n\r\nAnd then I am triggering HTTP GET request that looks like this:\r\n\r\n    https://dmquh95ckh.execute-api.eu-west-1.amazonaws.com/prod/OtoTestFunction?input=test\r\n\r\nMy Java handler class looks like this:\r\n\r\n    public class LambdaFunctionHandler implements RequestHandler&lt;String, String&gt; {\r\n    \r\n        @Override\r\n        public String handleRequest(String input, Context context) {\r\n            context.getLogger().log(&quot;Input: &quot; + input);\r\n            return &quot;Test completed.&quot;+input;\r\n        }\r\n    }\r\n\r\nAnd this is the full error message:\r\n\r\n    {\r\n      &quot;errorMessage&quot;: &quot;An error occurred during JSON parsing&quot;,\r\n      &quot;errorType&quot;: &quot;java.lang.RuntimeException&quot;,\r\n      &quot;stackTrace&quot;: [],\r\n      &quot;cause&quot;: {\r\n        &quot;errorMessage&quot;: &quot;com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of java.lang.String out of START_OBJECT token\\n at [Source: lambdainternal.util.NativeMemoryAsInputStream@68c4039c; line: 1, column: 1]&quot;,\r\n        &quot;errorType&quot;: &quot;java.io.UncheckedIOException&quot;,\r\n        &quot;stackTrace&quot;: [],\r\n        &quot;cause&quot;: {\r\n          &quot;errorMessage&quot;: &quot;Can not deserialize instance of java.lang.String out of START_OBJECT token\\n at [Source: lambdainternal.util.NativeMemoryAsInputStream@68c4039c; line: 1, column: 1]&quot;,\r\n          &quot;errorType&quot;: &quot;com.fasterxml.jackson.databind.JsonMappingException&quot;,\r\n          &quot;stackTrace&quot;: [\r\n            &quot;com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:148)&quot;,\r\n            &quot;com.fasterxml.jackson.databind.DeserializationContext.mappingException(DeserializationContext.java:835)&quot;,\r\n            &quot;com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:59)&quot;,\r\n            &quot;com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:12)&quot;,\r\n            &quot;com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:1441)&quot;,\r\n            &quot;com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1047)&quot;\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"AWS Can not deserialize instance of java.lang.String out of START_OBJECT","body":"<p>I have made a Lambda Function and I want to access it via URL with a help of the API Gateway. </p>\n\n<p>I have set it all up, I have also created an <code>application/json</code> body mapping template in API Gateway looking like this: </p>\n\n<pre><code>{ \n    \"input\": \"$input.params('input')\",\n}\n</code></pre>\n\n<p>And then I am triggering HTTP GET request that looks like this:</p>\n\n<pre><code>https://dmquh95ckh.execute-api.eu-west-1.amazonaws.com/prod/OtoTestFunction?input=test\n</code></pre>\n\n<p>My Java handler class looks like this:</p>\n\n<pre><code>public class LambdaFunctionHandler implements RequestHandler&lt;String, String&gt; {\n\n    @Override\n    public String handleRequest(String input, Context context) {\n        context.getLogger().log(\"Input: \" + input);\n        return \"Test completed.\"+input;\n    }\n}\n</code></pre>\n\n<p>And this is the full error message:</p>\n\n<pre><code>{\n  \"errorMessage\": \"An error occurred during JSON parsing\",\n  \"errorType\": \"java.lang.RuntimeException\",\n  \"stackTrace\": [],\n  \"cause\": {\n    \"errorMessage\": \"com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of java.lang.String out of START_OBJECT token\\n at [Source: lambdainternal.util.NativeMemoryAsInputStream@68c4039c; line: 1, column: 1]\",\n    \"errorType\": \"java.io.UncheckedIOException\",\n    \"stackTrace\": [],\n    \"cause\": {\n      \"errorMessage\": \"Can not deserialize instance of java.lang.String out of START_OBJECT token\\n at [Source: lambdainternal.util.NativeMemoryAsInputStream@68c4039c; line: 1, column: 1]\",\n      \"errorType\": \"com.fasterxml.jackson.databind.JsonMappingException\",\n      \"stackTrace\": [\n        \"com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:148)\",\n        \"com.fasterxml.jackson.databind.DeserializationContext.mappingException(DeserializationContext.java:835)\",\n        \"com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:59)\",\n        \"com.fasterxml.jackson.databind.deser.std.StringDeserializer.deserialize(StringDeserializer.java:12)\",\n        \"com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:1441)\",\n        \"com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1047)\"\n      ]\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","glassfish","jndi","naming"],"owner":{"display_name":"user4654707"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681743260,"creation_date":1681743260,"question_id":76036472,"body_markdown":"I have four JNDI string values to lookup for my application. I&#39;ve added them to Glassfish under Resources -&gt; JNDI -&gt; Custom Resources via asadmin:\r\n\r\n```\r\ncreate-custom-resource --restype java.lang.String --factoryclass org.glassfish.resources.custom.factory.PrimitivesAndStringFactory --property &quot;value=dev&quot; environment\r\ncreate-custom-resource --restype java.lang.String --factoryclass org.glassfish.resources.custom.factory.PrimitivesAndStringFactory --property &quot;value=www.mydomain.com&quot; webURL\r\ncreate-custom-resource --restype java.lang.Boolean --factoryclass org.glassfish.resources.custom.factory.PrimitivesAndStringFactory --property &quot;value=true&quot; isTestSystem\r\ncreate-custom-resource --restype java.lang.Boolean --factoryclass org.glassfish.resources.custom.factory.PrimitivesAndStringFactory --property &quot;value=true&quot; isResetAvailable\r\n```\r\n\r\nThese appear in my domain.xml properly, but when the app starts up it says it can&#39;t find them. For example:\r\n\r\n```\r\n        try\r\n        {\r\n        \tContext initContext = new InitialContext();\r\n        \tContext envContext = (Context) initContext.lookup(CoreServicesConstants.DS_CONTEXT);\r\n\r\n        \tenvironment = (String) envContext.lookup(&quot;environment&quot;);\r\n        }\r\n        catch (final NamingException nx)\r\n        {\r\n        \tERROR_RECORDER.error(nx.getMessage(), nx);\r\n        }\r\n```\r\n\r\nThis code works with the variables in place in Tomcat 9/10 so I&#39;m pretty sure its not the code. Unless I need to change from java:comp/env to something else?\r\n\r\nJNDI string value lookup","title":"NamingException in Glassfish7","body":"<p>I have four JNDI string values to lookup for my application. I've added them to Glassfish under Resources -&gt; JNDI -&gt; Custom Resources via asadmin:</p>\n<pre><code>create-custom-resource --restype java.lang.String --factoryclass org.glassfish.resources.custom.factory.PrimitivesAndStringFactory --property &quot;value=dev&quot; environment\ncreate-custom-resource --restype java.lang.String --factoryclass org.glassfish.resources.custom.factory.PrimitivesAndStringFactory --property &quot;value=www.mydomain.com&quot; webURL\ncreate-custom-resource --restype java.lang.Boolean --factoryclass org.glassfish.resources.custom.factory.PrimitivesAndStringFactory --property &quot;value=true&quot; isTestSystem\ncreate-custom-resource --restype java.lang.Boolean --factoryclass org.glassfish.resources.custom.factory.PrimitivesAndStringFactory --property &quot;value=true&quot; isResetAvailable\n</code></pre>\n<p>These appear in my domain.xml properly, but when the app starts up it says it can't find them. For example:</p>\n<pre><code>        try\n        {\n            Context initContext = new InitialContext();\n            Context envContext = (Context) initContext.lookup(CoreServicesConstants.DS_CONTEXT);\n\n            environment = (String) envContext.lookup(&quot;environment&quot;);\n        }\n        catch (final NamingException nx)\n        {\n            ERROR_RECORDER.error(nx.getMessage(), nx);\n        }\n</code></pre>\n<p>This code works with the variables in place in Tomcat 9/10 so I'm pretty sure its not the code. Unless I need to change from java:comp/env to something else?</p>\n<p>JNDI string value lookup</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1681692835,"post_id":76030333,"comment_id":134092739,"body_markdown":"You use `javap -s` and use what follows &#39;descriptor&#39;. NB &quot;cant get it to work&quot; is not a problem description.","body":"You use <code>javap -s</code> and use what follows &#39;descriptor&#39;. NB &quot;cant get it to work&quot; is not a problem description."},{"owner":{"account_id":1022092,"reputation":3231,"user_id":1032172,"accept_rate":68,"display_name":"Mike Ward"},"score":0,"creation_date":1681693833,"post_id":76030333,"comment_id":134092866,"body_markdown":"Fair enough: For the record I tried `javap -s -p android.speech.tss.TextToSpeech` but it reported it couldn&#39;t find the class. I have the android and java SDK&#39;s installed. Not sure what else I need.","body":"Fair enough: For the record I tried <code>javap -s -p android.speech.tss.TextToSpeech</code> but it reported it couldn&#39;t find the class. I have the android and java SDK&#39;s installed. Not sure what else I need."},{"owner":{"account_id":1022092,"reputation":3231,"user_id":1032172,"accept_rate":68,"display_name":"Mike Ward"},"score":0,"creation_date":1681694357,"post_id":76030333,"comment_id":134092909,"body_markdown":"The signature I need is for the constructor `TextToSpeech(Context context, TextToSpeech.OnInitListener listener)`","body":"The signature I need is for the constructor <code>TextToSpeech(Context context, TextToSpeech.OnInitListener listener)</code>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1681698576,"post_id":76030333,"comment_id":134093299,"body_markdown":"Your `javap` was looking at the JDK classes, not the Android classes. Come to think of it, it won&#39;t work on Android classes unless they use the same .class file format.","body":"Your <code>javap</code> was looking at the JDK classes, not the Android classes. Come to think of it, it won&#39;t work on Android classes unless they use the same .class file format."},{"owner":{"account_id":1022092,"reputation":3231,"user_id":1032172,"accept_rate":68,"display_name":"Mike Ward"},"score":0,"creation_date":1681733503,"post_id":76030333,"comment_id":134099258,"body_markdown":"OK, I&#39;m new to all this JNI, NDK stuff. I&#39;m using Go lang, so this C and JNI stuff is challenging me. I thought I understood enough to ask the right question. Obviously, I have some work to do on my understanding. Thanks to everyone for their patience.","body":"OK, I&#39;m new to all this JNI, NDK stuff. I&#39;m using Go lang, so this C and JNI stuff is challenging me. I thought I understood enough to ask the right question. Obviously, I have some work to do on my understanding. Thanks to everyone for their patience."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681681606,"creation_date":1681681606,"answer_id":76030488,"question_id":76030333,"body_markdown":"You look them up online in the android documentation at https://developer.android.com/.  That has all the documentation for all the classes and functions in Android.  That has nothing to do with JNI though, unless you were trying to ask something else and just didn&#39;t word it well.","title":"How to get JNI signatures for Android classes","body":"<p>You look them up online in the android documentation at <a href=\"https://developer.android.com/\" rel=\"nofollow noreferrer\">https://developer.android.com/</a>.  That has all the documentation for all the classes and functions in Android.  That has nothing to do with JNI though, unless you were trying to ask something else and just didn't word it well.</p>\n"},{"tags":[],"owner":{"account_id":1022092,"reputation":3231,"user_id":1032172,"accept_rate":68,"display_name":"Mike Ward"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681743232,"creation_date":1681743232,"answer_id":76036466,"question_id":76030333,"body_markdown":"OK,after some more education, this is what I came up with:\r\n\r\n```\r\njmethodID midInit = (*env)-&gt;GetMethodID(\r\n    env, \r\n    cls, \r\n    &quot;&lt;init&gt;&quot;,\r\n (Landroid/content/Context;Landroid/speech/tts/TextToSpeech$OnInitListener;)V);\r\n```\r\n\r\nThe last param is the signature I was asking about.\r\n","title":"How to get JNI signatures for Android classes","body":"<p>OK,after some more education, this is what I came up with:</p>\n<pre><code>jmethodID midInit = (*env)-&gt;GetMethodID(\n    env, \n    cls, \n    &quot;&lt;init&gt;&quot;,\n (Landroid/content/Context;Landroid/speech/tts/TextToSpeech$OnInitListener;)V);\n</code></pre>\n<p>The last param is the signature I was asking about.</p>\n"}],"owner":{"account_id":1022092,"reputation":3231,"user_id":1032172,"accept_rate":68,"display_name":"Mike Ward"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1681743232,"creation_date":1681679207,"question_id":76030333,"body_markdown":"Given that I have the Android SDK installed (Linux), how do I get the method signatures for the `android.speech.tts.TextToSpeech` class? I know it has something to do with `javap` but darn if I can get it to work.","title":"How to get JNI signatures for Android classes","body":"<p>Given that I have the Android SDK installed (Linux), how do I get the method signatures for the <code>android.speech.tts.TextToSpeech</code> class? I know it has something to do with <code>javap</code> but darn if I can get it to work.</p>\n"},{"tags":["java","opencsv"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1681739617,"post_id":76035876,"comment_id":134100938,"body_markdown":"It&#39;s probably a byte order marker (BOM). If so, then [this](http://stackoverflow.com/questions/4897876/ddg#4897993)","body":"It&#39;s probably a byte order marker (BOM). If so, then <a href=\"http://stackoverflow.com/questions/4897876/ddg#4897993\">this</a>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1681741707,"post_id":76035876,"comment_id":134101529,"body_markdown":"Try the BOM with `token = token.replace(&quot;\\uFEFF&quot;, &quot;&quot;);`","body":"Try the BOM with <code>token = token.replace(&quot;\\uFEFF&quot;, &quot;&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681742867,"creation_date":1681741944,"answer_id":76036281,"question_id":76035876,"body_markdown":"# BOM\r\n\r\nYes, that is a [BOM (Byte Order Mark)][1]. \r\n\r\n`&#239;&#187;&#191;` are the characters assigned to the three octets that make up a BOM in [UTF-8][2], if misinterpreted as [code points][3]. In decimal, those three octets are 239 187 191. In hex, EF BB BF. \r\n\r\nYou can try using BOMInputStream - https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/BOMInputStream.html\r\n\r\nThere must be some signature of the CSV Reader that accepts InputStream.\r\nYou can use\r\n`new BOMInputStream(new FileInputStream(File))`\r\nThis will create a wrapper over FileInputStream object, and BOMInputStream will make sure you get the content without the BOM.\r\nThis should work with any kind of file, with or without BOM in it.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Byte_order_mark\r\n  [2]: https://en.wikipedia.org/wiki/UTF-8\r\n  [3]: https://en.wikipedia.org/wiki/Code_point","title":"Getting special character while reading the CSV file using OpenCSV for the first line and first character","body":"<h1>BOM</h1>\n<p>Yes, that is a <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">BOM (Byte Order Mark)</a>.</p>\n<p><code>ï»¿</code> are the characters assigned to the three octets that make up a BOM in <a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\">UTF-8</a>, if misinterpreted as <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code points</a>. In decimal, those three octets are 239 187 191. In hex, EF BB BF.</p>\n<p>You can try using BOMInputStream - <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/BOMInputStream.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/BOMInputStream.html</a></p>\n<p>There must be some signature of the CSV Reader that accepts InputStream.\nYou can use\n<code>new BOMInputStream(new FileInputStream(File))</code>\nThis will create a wrapper over FileInputStream object, and BOMInputStream will make sure you get the content without the BOM.\nThis should work with any kind of file, with or without BOM in it.</p>\n"}],"owner":{"account_id":1089097,"reputation":359,"user_id":1084147,"display_name":"purush"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1681742338,"answer_count":1,"score":1,"last_activity_date":1681742867,"creation_date":1681739356,"question_id":76035876,"body_markdown":"I am having CSV file, need to process it. While reading the CSV file, for the first line and first character I am seeing an unknown special character. Not sure why getting this and how to resolve.\r\n\r\nHere is the code snippet I am using,\r\n\r\n```\r\nCSVReader reportTypesReader = new CSVReader(new FileReader(Paths.get(filePath.concat(&quot;/ReportTypes.csv&quot;)).toFile()));\r\n\r\nString\\[\\] nextLine;\r\n// reads one line at a time\r\nwhile ((nextLine = reportTypesReader.readNext()) != null) {\r\nfor (String token : nextLine) {\r\nSystem.out.print(token);\r\n}\r\nSystem.out.print(&quot;\\\\n&quot;);\r\n}\r\n```\r\n\r\nHere is the sample output,\r\n\r\n```\r\n  &#239;&#187;&#191;Report Type, Icon URL\r\n```\r\n\r\nMy expectation is,\r\n\r\n```\r\nReport Type, Icon URL\r\n```","title":"Getting special character while reading the CSV file using OpenCSV for the first line and first character","body":"<p>I am having CSV file, need to process it. While reading the CSV file, for the first line and first character I am seeing an unknown special character. Not sure why getting this and how to resolve.</p>\n<p>Here is the code snippet I am using,</p>\n<pre><code>CSVReader reportTypesReader = new CSVReader(new FileReader(Paths.get(filePath.concat(&quot;/ReportTypes.csv&quot;)).toFile()));\n\nString\\[\\] nextLine;\n// reads one line at a time\nwhile ((nextLine = reportTypesReader.readNext()) != null) {\nfor (String token : nextLine) {\nSystem.out.print(token);\n}\nSystem.out.print(&quot;\\\\n&quot;);\n}\n</code></pre>\n<p>Here is the sample output,</p>\n<pre><code>  ï»¿Report Type, Icon URL\n</code></pre>\n<p>My expectation is,</p>\n<pre><code>Report Type, Icon URL\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","mongodb-authentication"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1663654660,"post_id":73781826,"comment_id":130284347,"body_markdown":"Welcome. See [ask]. Please check your grammar when you post. Spelling, grammar and punctuation are important. Remember, this is the first part of your question others will see - you want to make a good impression. If you&#39;re not comfortable writing in English, ask a friend to proof-read it for you. Also, there is a number of automatic tools that can help you check that.","body":"Welcome. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Please check your grammar when you post. Spelling, grammar and punctuation are important. Remember, this is the first part of your question others will see - you want to make a good impression. If you&#39;re not comfortable writing in English, ask a friend to proof-read it for you. Also, there is a number of automatic tools that can help you check that."},{"owner":{"account_id":18824736,"reputation":241,"user_id":13729933,"display_name":"Zabon"},"score":1,"creation_date":1663680286,"post_id":73781826,"comment_id":130293134,"body_markdown":"In your application.properties, try to write your environments variables as so : \nspring.data.mongodb.username=${MONGO_INITDB_ROOT_USERNAME}","body":"In your application.properties, try to write your environments variables as so :  spring.data.mongodb.username=${MONGO_INITDB_ROOT_USERNAME}"}],"answers":[{"tags":[],"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681742727,"creation_date":1681742727,"answer_id":76036402,"question_id":73781826,"body_markdown":"Can you test this, replace :  \r\n\r\n    spring.data.mongodb.authentication-database=admin  \r\n    spring.data.mongodb.username=rootuser  \r\n    spring.data.mongodb.password=rootpass  \r\n    spring.data.mongodb.database=mymongodb  \r\n    spring.data.mongodb.port=27017  \r\n    spring.data.mongodb.host=localhost\r\n\r\n_____________________________________________\r\nby\r\n_____________________________________________\r\n\r\n    spring.data.mongodb.uri=mongodb://rootuser:rootpass@localhost:27017  \r\n    spring.data.mongodb.database=mymongodb\r\n\r\n_____________________________________________\r\n\r\nin your file application.properties\r\n","title":"Spring Boot authentication error on connection to MongoDB","body":"<p>Can you test this, replace :</p>\n<pre><code>spring.data.mongodb.authentication-database=admin  \nspring.data.mongodb.username=rootuser  \nspring.data.mongodb.password=rootpass  \nspring.data.mongodb.database=mymongodb  \nspring.data.mongodb.port=27017  \nspring.data.mongodb.host=localhost\n</code></pre>\n<hr />\n<p>by</p>\n<hr />\n<pre><code>spring.data.mongodb.uri=mongodb://rootuser:rootpass@localhost:27017  \nspring.data.mongodb.database=mymongodb\n</code></pre>\n<hr />\n<p>in your file application.properties</p>\n"}],"owner":{"account_id":26064228,"reputation":21,"user_id":19764947,"display_name":"user19764947"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":898,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1681742727,"creation_date":1663650014,"question_id":73781826,"body_markdown":"I have MongoDB and mongodb-express running with docker-compose, I am trying to build a REST API from Spring Boot that can talk to MongoDB, but the Spring Boot application is failing to start while trying to connect to MongoDB.\r\n\r\ndocker-compose.yaml\r\n```\r\nversion: &quot;3.8&quot;\r\n    \r\nservices:\r\n    \r\n  mongodb:\r\n    image: mongo\r\n    container_name: mongodb\r\n    ports:\r\n      - &quot;27017:27017&quot;\r\n    environment:\r\n      - MONGO_INITDB_ROOT_USERNAME=rootuser\r\n      - MONGO_INITDB_ROOT_PASSWORD=rootpass\r\n    \r\n  mongo-express:\r\n    image: mongo-express\r\n    container_name: mongo-express\r\n    ports:\r\n      - &quot;8081:8081&quot;\r\n    restart: always\r\n    environment:\r\n      - ME_CONFIG_MONGODB_ADMINUSERNAME=rootuser\r\n      - ME_CONFIG_MONGODB_ADMINPASSWORD=rootpass\r\n      - ME_CONFIG_MONGODB_SERVER=mongodb\r\n    \r\nnetworks:\r\n  default:\r\n    name: mongodb-network\r\n```\r\napplication.properties\r\n```\r\nspring.data.mongodb.authentication-database=admin\r\nspring.data.mongodb.username=rootuser\r\nspring.data.mongodb.password=rootpass\r\nspring.data.mongodb.database=mymongodb\r\nspring.data.mongodb.port=27017\r\nspring.data.mongodb.host=localhost\r\nlogging.level.org.springframework.web=DEBUG\r\n\r\n\r\n\r\n        \r\n    PS C:\\Users\\utkar\\Documents\\SpringBoot2022\\mongodb-crud-tutorial&gt; docker compose ps\r\n    NAME                COMMAND                  SERVICE             STATUS              PORTS\r\n    mongo-express       &quot;tini -- /docker-ent…&quot;   mongo-express       running             0.0.0.0:8081-&gt;8081/tcp\r\n    mongodb             &quot;docker-entrypoint.s…&quot;   mongodb             running             0.0.0.0:27017-&gt;27017/tcp\r\n\r\n```\r\nError while starting the spring boot project \r\n```\r\n:: Spring Boot ::                (v2.7.3)\r\n\r\n    2022-09-19 23:00:01.187  INFO 103344 --- [           main] c.a.c.m.MongodbCrudTutorialApplication   : Starting MongodbCrudTutorialApplication using Java 17.0.2 on DESKTOP-R90T7LM with PID 103344 (C:\\Users\\utkar\\Documents\\SpringBoot2022\\mongodb-crud-tutorial\\target\\classes started by utkar in C:\\Users\\utkar\\Documents\\SpringBoot2022\\mongodb-crud-tutorial)\r\n    2022-09-19 23:00:01.190  INFO 103344 --- [           main] c.a.c.m.MongodbCrudTutorialApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-09-19 23:00:02.048  INFO 103344 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\r\n    2022-09-19 23:00:02.095  INFO 103344 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 1 MongoDB repository interfaces.\r\n    2022-09-19 23:00:12.121  INFO 103344 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-09-19 23:00:12.133  INFO 103344 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-09-19 23:00:12.134  INFO 103344 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\r\n    2022-09-19 23:00:12.618  INFO 103344 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-09-19 23:00:12.618  INFO 103344 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 11375 ms\r\n    2022-09-19 23:00:12.862  INFO 103344 --- [           main] org.mongodb.driver.client                : MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.6.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Windows&quot;, &quot;name&quot;: &quot;Windows 10&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;10.0&quot;}, &quot;platform&quot;: &quot;Java/Eclipse Adoptium/17.0.2+8&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName=&#39;rootuser&#39;, source=&#39;admin&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@542f6803]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName=&#39;null&#39;, serverSelector=&#39;null&#39;, clusterListeners=&#39;[]&#39;, serverSelectionTimeout=&#39;30000 ms&#39;, localThreshold=&#39;30000 ms&#39;}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners=&#39;[]&#39;, serverMonitorListeners=&#39;[]&#39;}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName=&#39;null&#39;, compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\r\n    2022-09-19 23:00:13.253  INFO 103344 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:43}] to localhost:27017\r\n    2022-09-19 23:00:13.260  INFO 103344 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:42}] to localhost:27017\r\n    2022-09-19 23:00:13.260  INFO 103344 --- [localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=376157600}\r\n    2022-09-19 23:00:13.432 DEBUG 103344 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice\r\n    2022-09-19 23:00:13.553 DEBUG 103344 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 mappings in &#39;requestMappingHandlerMapping&#39;\r\n    2022-09-19 23:00:13.577 DEBUG 103344 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in &#39;resourceHandlerMapping&#39;\r\n    2022-09-19 23:00:13.587 DEBUG 103344 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice\r\n    2022-09-19 23:00:14.032  INFO 103344 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2022-09-19 23:00:14.039  INFO 103344 --- [           main] c.a.c.m.MongodbCrudTutorialApplication   : Started MongodbCrudTutorialApplication in 13.803 seconds (JVM running for 17.433)\r\n    going to insert\r\n    2022-09-19 23:00:14.356  INFO 103344 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-09-19 23:00:14.390 ERROR 103344 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat com.amigos.code.mongodbcrudtutorial.MongodbCrudTutorialApplication.main(MongodbCrudTutorialApplication.java:16) ~[classes/:na]\r\n    Caused by: org.springframework.data.mongodb.UncategorizedMongoDbException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName=&#39;rootuser&#39;, source=&#39;admin&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}; nested exception is com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName=&#39;rootuser&#39;, source=&#39;admin&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\r\n    \tat org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:140) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:3044) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:600) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.insertDocument(MongoTemplate.java:1546) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.doInsert(MongoTemplate.java:1345) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:1260) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \tat org.springframework.data.mongodb.repository.support.SimpleMongoRepository.insert(SimpleMongoRepository.java:286) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy55.insert(Unknown Source) ~[na:na]\r\n    \tat com.amigos.code.mongodbcrudtutorial.MongodbCrudTutorialApplication.lambda$0(MongodbCrudTutorialApplication.java:34) ~[classes/:na]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \t... 5 common frames omitted\r\n    Caused by: com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName=&#39;rootuser&#39;, source=&#39;admin&#39;, password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.wrapException(SaslAuthenticator.java:276) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:139) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.access$100(SaslAuthenticator.java:49) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:65) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:59) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.doAsSubject(SaslAuthenticator.java:283) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:59) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultAuthenticator.authenticate(DefaultAuthenticator.java:57) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.authenticate(InternalStreamConnectionInitializer.java:207) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.finishHandshake(InternalStreamConnectionInitializer.java:81) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:185) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.UsageTrackingInternalConnection.open(UsageTrackingInternalConnection.java:54) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.open(DefaultConnectionPool.java:535) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openWithConcurrencyLimit(DefaultConnectionPool.java:911) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openOrGetAvailable(DefaultConnectionPool.java:852) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:178) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:167) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.DefaultServer.getConnection(DefaultServer.java:103) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.binding.ClusterBinding$ClusterBindingConnectionSource.getConnection(ClusterBinding.java:175) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.client.internal.ClientSessionBinding$SessionBindingConnectionSource.getConnection(ClientSessionBinding.java:192) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:592) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$3(OperationHelper.java:574) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:600) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.operation.OperationHelper.withSourceAndConnection(OperationHelper.java:573) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$execute$3(MixedBulkWriteOperation.java:272) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:65) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:308) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:85) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:212) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n    \tat com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1010) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n    \tat com.mongodb.client.internal.MongoCollectionImpl.executeInsertOne(MongoCollectionImpl.java:471) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n    \tat com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:454) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n    \tat com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:448) ~[mongodb-driver-sync-4.6.1.jar:na]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.lambda$insertDocument$15(MongoTemplate.java:1552) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:598) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\r\n    \t... 31 common frames omitted\r\n    Caused by: com.mongodb.MongoCommandException: Command failed with error 18 (AuthenticationFailed): &#39;Authentication failed.&#39; on server localhost:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Authentication failed.&quot;, &quot;code&quot;: 18, &quot;codeName&quot;: &quot;AuthenticationFailed&quot;}\r\n    \tat com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:198) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:413) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:337) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.sendSaslStart(SaslAuthenticator.java:230) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \tat com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:137) ~[mongodb-driver-core-4.6.1.jar:na]\r\n    \t... 64 common frames omitted\r\n\r\n```\r\n\r\n\r\n","title":"Spring Boot authentication error on connection to MongoDB","body":"<p>I have MongoDB and mongodb-express running with docker-compose, I am trying to build a REST API from Spring Boot that can talk to MongoDB, but the Spring Boot application is failing to start while trying to connect to MongoDB.</p>\n<p>docker-compose.yaml</p>\n<pre><code>version: &quot;3.8&quot;\n    \nservices:\n    \n  mongodb:\n    image: mongo\n    container_name: mongodb\n    ports:\n      - &quot;27017:27017&quot;\n    environment:\n      - MONGO_INITDB_ROOT_USERNAME=rootuser\n      - MONGO_INITDB_ROOT_PASSWORD=rootpass\n    \n  mongo-express:\n    image: mongo-express\n    container_name: mongo-express\n    ports:\n      - &quot;8081:8081&quot;\n    restart: always\n    environment:\n      - ME_CONFIG_MONGODB_ADMINUSERNAME=rootuser\n      - ME_CONFIG_MONGODB_ADMINPASSWORD=rootpass\n      - ME_CONFIG_MONGODB_SERVER=mongodb\n    \nnetworks:\n  default:\n    name: mongodb-network\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.data.mongodb.authentication-database=admin\nspring.data.mongodb.username=rootuser\nspring.data.mongodb.password=rootpass\nspring.data.mongodb.database=mymongodb\nspring.data.mongodb.port=27017\nspring.data.mongodb.host=localhost\nlogging.level.org.springframework.web=DEBUG\n\n\n\n        \n    PS C:\\Users\\utkar\\Documents\\SpringBoot2022\\mongodb-crud-tutorial&gt; docker compose ps\n    NAME                COMMAND                  SERVICE             STATUS              PORTS\n    mongo-express       &quot;tini -- /docker-ent…&quot;   mongo-express       running             0.0.0.0:8081-&gt;8081/tcp\n    mongodb             &quot;docker-entrypoint.s…&quot;   mongodb             running             0.0.0.0:27017-&gt;27017/tcp\n\n</code></pre>\n<p>Error while starting the spring boot project</p>\n<pre><code>:: Spring Boot ::                (v2.7.3)\n\n    2022-09-19 23:00:01.187  INFO 103344 --- [           main] c.a.c.m.MongodbCrudTutorialApplication   : Starting MongodbCrudTutorialApplication using Java 17.0.2 on DESKTOP-R90T7LM with PID 103344 (C:\\Users\\utkar\\Documents\\SpringBoot2022\\mongodb-crud-tutorial\\target\\classes started by utkar in C:\\Users\\utkar\\Documents\\SpringBoot2022\\mongodb-crud-tutorial)\n    2022-09-19 23:00:01.190  INFO 103344 --- [           main] c.a.c.m.MongodbCrudTutorialApplication   : No active profile set, falling back to 1 default profile: &quot;default&quot;\n    2022-09-19 23:00:02.048  INFO 103344 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\n    2022-09-19 23:00:02.095  INFO 103344 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 1 MongoDB repository interfaces.\n    2022-09-19 23:00:12.121  INFO 103344 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n    2022-09-19 23:00:12.133  INFO 103344 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n    2022-09-19 23:00:12.134  INFO 103344 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\n    2022-09-19 23:00:12.618  INFO 103344 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n    2022-09-19 23:00:12.618  INFO 103344 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 11375 ms\n    2022-09-19 23:00:12.862  INFO 103344 --- [           main] org.mongodb.driver.client                : MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.6.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Windows&quot;, &quot;name&quot;: &quot;Windows 10&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;10.0&quot;}, &quot;platform&quot;: &quot;Java/Eclipse Adoptium/17.0.2+8&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='rootuser', source='admin', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@542f6803]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\n    2022-09-19 23:00:13.253  INFO 103344 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:43}] to localhost:27017\n    2022-09-19 23:00:13.260  INFO 103344 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:42}] to localhost:27017\n    2022-09-19 23:00:13.260  INFO 103344 --- [localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=376157600}\n    2022-09-19 23:00:13.432 DEBUG 103344 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice\n    2022-09-19 23:00:13.553 DEBUG 103344 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 mappings in 'requestMappingHandlerMapping'\n    2022-09-19 23:00:13.577 DEBUG 103344 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'\n    2022-09-19 23:00:13.587 DEBUG 103344 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice\n    2022-09-19 23:00:14.032  INFO 103344 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n    2022-09-19 23:00:14.039  INFO 103344 --- [           main] c.a.c.m.MongodbCrudTutorialApplication   : Started MongodbCrudTutorialApplication in 13.803 seconds (JVM running for 17.433)\n    going to insert\n    2022-09-19 23:00:14.356  INFO 103344 --- [           main] ConditionEvaluationReportLoggingListener : \n    \n    Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n    2022-09-19 23:00:14.390 ERROR 103344 --- [           main] o.s.boot.SpringApplication               : Application run failed\n    \n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774) ~[spring-boot-2.7.3.jar:2.7.3]\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755) ~[spring-boot-2.7.3.jar:2.7.3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.7.3.jar:2.7.3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]\n        at com.amigos.code.mongodbcrudtutorial.MongodbCrudTutorialApplication.main(MongodbCrudTutorialApplication.java:16) ~[classes/:na]\n    Caused by: org.springframework.data.mongodb.UncategorizedMongoDbException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName='rootuser', source='admin', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}; nested exception is com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName='rootuser', source='admin', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\n        at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:140) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:3044) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:600) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        at org.springframework.data.mongodb.core.MongoTemplate.insertDocument(MongoTemplate.java:1546) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        at org.springframework.data.mongodb.core.MongoTemplate.doInsert(MongoTemplate.java:1345) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        at org.springframework.data.mongodb.core.MongoTemplate.insert(MongoTemplate.java:1260) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        at org.springframework.data.mongodb.repository.support.SimpleMongoRepository.insert(SimpleMongoRepository.java:286) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\n        at jdk.proxy2/jdk.proxy2.$Proxy55.insert(Unknown Source) ~[na:na]\n        at com.amigos.code.mongodbcrudtutorial.MongodbCrudTutorialApplication.lambda$0(MongodbCrudTutorialApplication.java:34) ~[classes/:na]\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771) ~[spring-boot-2.7.3.jar:2.7.3]\n        ... 5 common frames omitted\n    Caused by: com.mongodb.MongoSecurityException: Exception authenticating MongoCredential{mechanism=SCRAM-SHA-1, userName='rootuser', source='admin', password=&lt;hidden&gt;, mechanismProperties=&lt;hidden&gt;}\n        at com.mongodb.internal.connection.SaslAuthenticator.wrapException(SaslAuthenticator.java:276) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:139) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.SaslAuthenticator.access$100(SaslAuthenticator.java:49) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:65) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.SaslAuthenticator$1.run(SaslAuthenticator.java:59) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.SaslAuthenticator.doAsSubject(SaslAuthenticator.java:283) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.SaslAuthenticator.authenticate(SaslAuthenticator.java:59) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.DefaultAuthenticator.authenticate(DefaultAuthenticator.java:57) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnectionInitializer.authenticate(InternalStreamConnectionInitializer.java:207) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnectionInitializer.finishHandshake(InternalStreamConnectionInitializer.java:81) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:185) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.UsageTrackingInternalConnection.open(UsageTrackingInternalConnection.java:54) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.open(DefaultConnectionPool.java:535) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openWithConcurrencyLimit(DefaultConnectionPool.java:911) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.DefaultConnectionPool$OpenConcurrencyLimiter.openOrGetAvailable(DefaultConnectionPool.java:852) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:178) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.DefaultConnectionPool.get(DefaultConnectionPool.java:167) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.DefaultServer.getConnection(DefaultServer.java:103) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.binding.ClusterBinding$ClusterBindingConnectionSource.getConnection(ClusterBinding.java:175) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.client.internal.ClientSessionBinding$SessionBindingConnectionSource.getConnection(ClientSessionBinding.java:192) ~[mongodb-driver-sync-4.6.1.jar:na]\n        at com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:592) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.operation.OperationHelper.lambda$withSourceAndConnection$3(OperationHelper.java:574) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.operation.OperationHelper.withSuppliedResource(OperationHelper.java:600) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.operation.OperationHelper.withSourceAndConnection(OperationHelper.java:573) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.operation.MixedBulkWriteOperation.lambda$execute$3(MixedBulkWriteOperation.java:272) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.async.function.RetryingSyncSupplier.get(RetryingSyncSupplier.java:65) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:308) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.operation.MixedBulkWriteOperation.execute(MixedBulkWriteOperation.java:85) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:212) ~[mongodb-driver-sync-4.6.1.jar:na]\n        at com.mongodb.client.internal.MongoCollectionImpl.executeSingleWriteRequest(MongoCollectionImpl.java:1010) ~[mongodb-driver-sync-4.6.1.jar:na]\n        at com.mongodb.client.internal.MongoCollectionImpl.executeInsertOne(MongoCollectionImpl.java:471) ~[mongodb-driver-sync-4.6.1.jar:na]\n        at com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:454) ~[mongodb-driver-sync-4.6.1.jar:na]\n        at com.mongodb.client.internal.MongoCollectionImpl.insertOne(MongoCollectionImpl.java:448) ~[mongodb-driver-sync-4.6.1.jar:na]\n        at org.springframework.data.mongodb.core.MongoTemplate.lambda$insertDocument$15(MongoTemplate.java:1552) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:598) ~[spring-data-mongodb-3.4.2.jar:3.4.2]\n        ... 31 common frames omitted\n    Caused by: com.mongodb.MongoCommandException: Command failed with error 18 (AuthenticationFailed): 'Authentication failed.' on server localhost:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;Authentication failed.&quot;, &quot;code&quot;: 18, &quot;codeName&quot;: &quot;AuthenticationFailed&quot;}\n        at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:198) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:413) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:337) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.SaslAuthenticator.sendSaslStart(SaslAuthenticator.java:230) ~[mongodb-driver-core-4.6.1.jar:na]\n        at com.mongodb.internal.connection.SaslAuthenticator.getNextSaslResponse(SaslAuthenticator.java:137) ~[mongodb-driver-core-4.6.1.jar:na]\n        ... 64 common frames omitted\n\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1681498026,"post_id":76017731,"comment_id":134071813,"body_markdown":"Windows should support / as directory path separator as well. I just tried it on the Windows Explorer and works with no problems.","body":"Windows should support / as directory path separator as well. I just tried it on the Windows Explorer and works with no problems."},{"owner":{"account_id":13238943,"reputation":1,"user_id":9560149,"display_name":"Teddy"},"score":0,"creation_date":1681564334,"post_id":76017731,"comment_id":134078697,"body_markdown":"Thanks a lot, with your help I was able to reduce the number of the lines in two times :) \nI hope I can able to reduce it even more somehow, because it&#39;s not really convenient to put a new line in this file when you create a new gradle project.","body":"Thanks a lot, with your help I was able to reduce the number of the lines in two times :)  I hope I can able to reduce it even more somehow, because it&#39;s not really convenient to put a new line in this file when you create a new gradle project."}],"answers":[{"tags":[],"owner":{"account_id":13238943,"reputation":1,"user_id":9560149,"display_name":"Teddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681742437,"creation_date":1681742437,"answer_id":76036354,"question_id":76017731,"body_markdown":"I moved all topics directories to separate folder for simplicity and this is how settings.gradle file looks now:\r\n\r\n    file(&#39;exercises&#39;).eachDir { topic -&gt;\r\n        topic.eachDir { exercise -&gt;\r\n            includeBuild(&quot;exercises/${topic.name}/${exercise.name}&quot;)\r\n        }\r\n    }","title":"How can I simplify settings.gradle after I prevent Intellij Idea from crashing when processing multiple Gradle projects?","body":"<p>I moved all topics directories to separate folder for simplicity and this is how settings.gradle file looks now:</p>\n<pre><code>file('exercises').eachDir { topic -&gt;\n    topic.eachDir { exercise -&gt;\n        includeBuild(&quot;exercises/${topic.name}/${exercise.name}&quot;)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13238943,"reputation":1,"user_id":9560149,"display_name":"Teddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76036354,"answer_count":1,"score":0,"last_activity_date":1681742437,"creation_date":1681494466,"question_id":76017731,"body_markdown":"I store my solutions to various coding exercises in one repository as Gradle projects. One solution - one Gradle project. I have near 100 Gradle projects in one repository. The structure of the whole repository looks like this:\r\n\r\n```\r\nrepository_name  \r\n├── topic1  \r\n│   ├── exercise1  \r\n│   │   ├── build.gradle  \r\n│   │   └── settings.gradle  \r\n│   ├── exercise2  \r\n│   │   ├── build.gradle  \r\n│   │   └── settings.gradle  \r\n│   └── exercise3  \r\n│       ├── build.gradle  \r\n│       └── settings.gradle  \r\n├── topic2  \r\n│   ├── exercise1  \r\n│   └── exercise2  \r\n└── topic3  \r\n```\r\n[Perhaps a clearer view in the form of an image](https://i.stack.imgur.com/Typig.png)\r\n\r\n&quot;repository name&quot; and &quot;topic*&quot; are directories that consist of directories only, only &quot;exercises*&quot; are gradle projects as I mentioned before.\r\n\r\nThe problem is that when I open my whole project (repository) in IntelliJ IDEA it tries to load all these projects at the same time, all system resources go to 100% and then IntelliJ IDEA just stops responding, so I can&#39;t work with my projects anymore.\r\n\r\nI did what the JetBrains employee advised to do at this [link](https://youtrack.jetbrains.com/issue/IDEA-210255/Gradle-refresh-spawns-JVM-for-every-module-slow) at youtrack.jetbrains.com portal (and it helped)\r\n\r\nI add the repository_name/settings.gradle file and this is what it contains:\r\n\r\n```\r\nincludeBuild(&quot;topic1/exercise1&quot;)\r\nincludeBuild(&quot;topic1/exercise2&quot;)\r\nincludeBuild(&quot;topic1/exercise3&quot;)\r\nincludeBuild(&quot;topic2/exercise1&quot;)\r\n//for linux\r\nincludeBuild(&quot;topic1\\\\exercise1&quot;)\r\nincludeBuild(&quot;topic1\\\\exercise2&quot;)\r\nincludeBuild(&quot;topic1\\\\exercise3&quot;)\r\nincludeBuild(&quot;topic2\\\\exercise1&quot;)\r\n//for windows\r\n```\r\n\r\n\r\nAs you can imagine I have 100 + 100 lines in these files. I tried \r\n```\r\nincludeBuild(&quot;topic1\\\\*&quot;) \r\n```\r\nand it didn&#39;t work. \r\n\r\nIs there a way to simplify this file and add some platform independence?\r\nSomething like this:\r\n```\r\nif (windows) {\r\n  includeBuild(&quot;topic1\\\\*&quot;)\r\n  includeBuild(&quot;topic2\\\\*&quot;)\r\n  includeBuild(&quot;topic3\\\\*&quot;)\r\n} \r\nif (debian) {\r\n  includeBuild(&quot;topic1/*&quot;)\r\n  includeBuild(&quot;topic2/*&quot;)\r\n  includeBuild(&quot;topic3/*&quot;)\r\n}\r\n```","title":"How can I simplify settings.gradle after I prevent Intellij Idea from crashing when processing multiple Gradle projects?","body":"<p>I store my solutions to various coding exercises in one repository as Gradle projects. One solution - one Gradle project. I have near 100 Gradle projects in one repository. The structure of the whole repository looks like this:</p>\n<pre><code>repository_name  \n├── topic1  \n│   ├── exercise1  \n│   │   ├── build.gradle  \n│   │   └── settings.gradle  \n│   ├── exercise2  \n│   │   ├── build.gradle  \n│   │   └── settings.gradle  \n│   └── exercise3  \n│       ├── build.gradle  \n│       └── settings.gradle  \n├── topic2  \n│   ├── exercise1  \n│   └── exercise2  \n└── topic3  \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Typig.png\" rel=\"nofollow noreferrer\">Perhaps a clearer view in the form of an image</a></p>\n<p>&quot;repository name&quot; and &quot;topic*&quot; are directories that consist of directories only, only &quot;exercises*&quot; are gradle projects as I mentioned before.</p>\n<p>The problem is that when I open my whole project (repository) in IntelliJ IDEA it tries to load all these projects at the same time, all system resources go to 100% and then IntelliJ IDEA just stops responding, so I can't work with my projects anymore.</p>\n<p>I did what the JetBrains employee advised to do at this <a href=\"https://youtrack.jetbrains.com/issue/IDEA-210255/Gradle-refresh-spawns-JVM-for-every-module-slow\" rel=\"nofollow noreferrer\">link</a> at youtrack.jetbrains.com portal (and it helped)</p>\n<p>I add the repository_name/settings.gradle file and this is what it contains:</p>\n<pre><code>includeBuild(&quot;topic1/exercise1&quot;)\nincludeBuild(&quot;topic1/exercise2&quot;)\nincludeBuild(&quot;topic1/exercise3&quot;)\nincludeBuild(&quot;topic2/exercise1&quot;)\n//for linux\nincludeBuild(&quot;topic1\\\\exercise1&quot;)\nincludeBuild(&quot;topic1\\\\exercise2&quot;)\nincludeBuild(&quot;topic1\\\\exercise3&quot;)\nincludeBuild(&quot;topic2\\\\exercise1&quot;)\n//for windows\n</code></pre>\n<p>As you can imagine I have 100 + 100 lines in these files. I tried</p>\n<pre><code>includeBuild(&quot;topic1\\\\*&quot;) \n</code></pre>\n<p>and it didn't work.</p>\n<p>Is there a way to simplify this file and add some platform independence?\nSomething like this:</p>\n<pre><code>if (windows) {\n  includeBuild(&quot;topic1\\\\*&quot;)\n  includeBuild(&quot;topic2\\\\*&quot;)\n  includeBuild(&quot;topic3\\\\*&quot;)\n} \nif (debian) {\n  includeBuild(&quot;topic1/*&quot;)\n  includeBuild(&quot;topic2/*&quot;)\n  includeBuild(&quot;topic3/*&quot;)\n}\n</code></pre>\n"},{"tags":["java","arrays","dynamic","dynamic-arrays"],"comments":[{"owner":{"account_id":280210,"reputation":23650,"user_id":575765,"display_name":"martinstoeckli"},"score":2,"creation_date":1424971098,"post_id":28748692,"comment_id":45779395,"body_markdown":"Any hints about the development environment?","body":"Any hints about the development environment?"},{"owner":{"account_id":3602224,"reputation":3250,"user_id":3005299,"display_name":"mcserep"},"score":1,"creation_date":1424971141,"post_id":28748692,"comment_id":45779425,"body_markdown":"You missed a minor detail: what language are you using? Or you are free to choose? :)","body":"You missed a minor detail: what language are you using? Or you are free to choose? :)"},{"owner":{"account_id":447475,"reputation":1,"user_id":841108,"accept_rate":61,"display_name":"Basile Starynkevitch"},"score":0,"creation_date":1424971266,"post_id":28748692,"comment_id":45779504,"body_markdown":"It depends upon the programming language. C++ has [std::vector](http://en.cppreference.com/w/cpp/container/vector)... Please edit your question to improve it (and give some of your source code)","body":"It depends upon the programming language. C++ has <a href=\"http://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow noreferrer\">std::vector</a>... Please edit your question to improve it (and give some of your source code)"},{"owner":{"account_id":5853293,"reputation":31,"user_id":4611348,"display_name":"Andrew Murchison"},"score":0,"creation_date":1424971782,"post_id":28748692,"comment_id":45779804,"body_markdown":"sorry I forgot that major detail. I&#39;m working with java","body":"sorry I forgot that major detail. I&#39;m working with java"}],"answers":[{"tags":[],"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1424971876,"creation_date":1424971876,"answer_id":28748970,"question_id":28748692,"body_markdown":"Arrays are fixed length. If you want a data structure that has variable length use an ArrayList","title":"How can I change the length of an array in Java?","body":"<p>Arrays are fixed length. If you want a data structure that has variable length use an ArrayList</p>\n"},{"tags":[],"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1424973992,"creation_date":1424972470,"answer_id":28749157,"question_id":28748692,"body_markdown":"Since the poster explicitly stated the requirements of the homework exclude the use of Collections an alternative approach would be to use System.arraycopy(). In such an approach you only maintain a single array and as you add items to it you use System.arraycopy() to copy the old array into a new larger array. System.arraycopy() is relatively fast and is actually how ArrayList expands its size.\r\n\r\nIf you are concerned about the cost of using System.arraycopy() you could use it only when your array is full and create a new array with more space. E.g.\r\nCreate and array of size 20. When it gets full copy it into and array of size 40. When that gets full copy it into an array of size 60...\r\n\r\nInterestingly ArrayList increases its size by \r\n\r\n    int newCapacity = (oldCapacity * 3)/2 + 1;\r\n\r\nwhen the old array is full. Presumably the writers of this put some considerable thought into how much to grow the array by when needed. It might be worth doing the same.\r\n","title":"How can I change the length of an array in Java?","body":"<p>Since the poster explicitly stated the requirements of the homework exclude the use of Collections an alternative approach would be to use System.arraycopy(). In such an approach you only maintain a single array and as you add items to it you use System.arraycopy() to copy the old array into a new larger array. System.arraycopy() is relatively fast and is actually how ArrayList expands its size.</p>\n\n<p>If you are concerned about the cost of using System.arraycopy() you could use it only when your array is full and create a new array with more space. E.g.\nCreate and array of size 20. When it gets full copy it into and array of size 40. When that gets full copy it into an array of size 60...</p>\n\n<p>Interestingly ArrayList increases its size by </p>\n\n<pre><code>int newCapacity = (oldCapacity * 3)/2 + 1;\n</code></pre>\n\n<p>when the old array is full. Presumably the writers of this put some considerable thought into how much to grow the array by when needed. It might be worth doing the same.</p>\n"}],"owner":{"account_id":5853293,"reputation":31,"user_id":4611348,"display_name":"Andrew Murchison"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1425005150,"answer_count":2,"score":-1,"last_activity_date":1681741820,"creation_date":1424971009,"question_id":28748692,"body_markdown":"So I am assigned with a project where I have an array.  \r\nAs the user puts elements into this array **it will have to double in length once it gets full**. \r\n\r\n*We are **not permitted to use ArrayLists** or anything in the **collections interface**.*  \r\n\r\nWhat I was trying to do was to **make a new array**, once the old array was full, and then **copy the values to the new array**.  \r\n\r\nThe problem is I don&#39;t know how many times I will have to make a new array, so I was wondering how to go about solving this.","title":"How can I change the length of an array in Java?","body":"<p>So I am assigned with a project where I have an array.<br />\nAs the user puts elements into this array <strong>it will have to double in length once it gets full</strong>.</p>\n<p><em>We are <strong>not permitted to use ArrayLists</strong> or anything in the <strong>collections interface</strong>.</em></p>\n<p>What I was trying to do was to <strong>make a new array</strong>, once the old array was full, and then <strong>copy the values to the new array</strong>.</p>\n<p>The problem is I don't know how many times I will have to make a new array, so I was wondering how to go about solving this.</p>\n"},{"tags":["java","spring","runtime","exec"],"answers":[{"tags":[],"owner":{"account_id":21268452,"reputation":397,"user_id":15648344,"display_name":"Cosemuckel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681741641,"creation_date":1681741641,"answer_id":76036218,"question_id":76036134,"body_markdown":"The problem might lie therein, that you are using backslashes to specify the directory paths. While you are correctly escaping them in your code. The string for your command will still look like: `&quot;yourProjectId\\temp\\...`, which might still cause errors when executed. Try using forward slashes `/` instead or maybe using double escaped backslashes like `\\\\\\\\`. \r\n","title":"Java Runtime cmd execution in a Spring Boot project","body":"<p>The problem might lie therein, that you are using backslashes to specify the directory paths. While you are correctly escaping them in your code. The string for your command will still look like: <code>&quot;yourProjectId\\temp\\...</code>, which might still cause errors when executed. Try using forward slashes <code>/</code> instead or maybe using double escaped backslashes like <code>\\\\\\\\</code>.</p>\n"}],"owner":{"account_id":23652417,"reputation":25,"user_id":17681127,"display_name":"tlfdksro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76036218,"answer_count":1,"score":0,"last_activity_date":1681741641,"creation_date":1681741054,"question_id":76036134,"body_markdown":"A project consists of audio blocks.\r\nI&#39;m implementing REST API that updates project when there is change in blocks.   \r\nI would like to merge blocks with paddings between the audio blocks, and then upload appended audio back to S3 storages. Audio files are stored in S3 storages. \r\nI want to execute sox command while running a spring boot project in an EC2.\r\nsox module is installed in an EC2 instance. Would this be a problem of directory path? \r\n\r\nWhen I call the function it returns exit value 1, and audio blockes are not merged with paddings. \r\nI tried executing same runtime command in a simple java file and it worked, but it is not working in a deployed spring boot project.\r\n\r\n```\r\npublic void mergeBlocks(Long teamId, Long projectId){\r\n        try {\r\n            List&lt;Block&gt; blocks = blockRepository.findByProjectId(projectId);\r\n            long length = 0;\r\n            AudioInputStream clip = null;\r\n            List&lt;AudioInputStream&gt; list = new ArrayList&lt;AudioInputStream&gt;();\r\n            new File(String.valueOf(projectId)).mkdirs();\r\n            for (Block b: blocks) {\r\n                FileOutputStream fos = new FileOutputStream(new File(projectId + &quot;/temp&quot; + b.getId() + &quot;.wav&quot;));\r\n                S3Object o = amazonS3Client.getObject(AUDIO_BUCKET_NAME, teamId + &quot;/&quot; + projectId + &quot;/&quot; + b.getId() + &quot;.wav&quot;);\r\n                S3ObjectInputStream s3is = o.getObjectContent();\r\n                byte[] read_buf = new byte[1024];\r\n                int read_len = 0;\r\n                while ((read_len = s3is.read(read_buf)) &gt; 0) {\r\n                    fos.write(read_buf, 0, read_len);\r\n                }\r\n                fos.close();\r\n                String[] cmd = {&quot;sox&quot;, projectId + &quot;\\\\temp&quot; + b.getId() + &quot;.wav&quot;, projectId + &quot;\\\\interval&quot; + b.getId() + &quot;.wav&quot;, &quot;pad&quot;, &quot;0&quot;, String.valueOf(b.getInterval())};\r\n                try {\r\n                    Runtime rt = Runtime.getRuntime();\r\n                    Process pr = rt.exec(cmd);\r\n                    BufferedReader input = new BufferedReader(new InputStreamReader(pr.getInputStream()));\r\n\r\n                    String line = null;\r\n\r\n                    while ((line = input.readLine()) != null) {\r\n                        System.out.println(line);\r\n                    }\r\n\r\n                    int exitVal = pr.waitFor();\r\n                    System.out.println(&quot;Exited with error code &quot; + exitVal);\r\n                } catch(Exception e) {\r\n                    System.out.println(e.toString());\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                clip = AudioSystem.getAudioInputStream(new File(projectId + &quot;/interval&quot; + b.getId() + &quot;.wav&quot;));\r\n                list.add(clip);\r\n                length += clip.getFrameLength();\r\n            }\r\n            if(length&gt;0 &amp;&amp; list.size()&gt;0 &amp;&amp; clip!=null) {\r\n                AudioInputStream appendedFiles =\r\n                        new AudioInputStream(\r\n                                new SequenceInputStream(Collections.enumeration(list)),\r\n                                clip.getFormat(),\r\n                                length);\r\n\r\n                AudioSystem.write(appendedFiles,\r\n                        AudioFileFormat.Type.WAVE,\r\n                        new File(projectId + &quot;/appended.wav&quot;));\r\n            }\r\n            clip.close();\r\n            amazonS3Client.putObject(AUDIO_BUCKET_NAME, teamId + &quot;/&quot; + projectId + &quot;/0.wav&quot;, new File(projectId + &quot;/appended.wav&quot;));\r\n            FileUtils.deleteDirectory(new File(String.valueOf(projectId)));\r\n        } catch (AmazonServiceException e) {\r\n            System.err.println(e.getErrorMessage());\r\n            System.exit(1);\r\n        } catch (FileNotFoundException e) {\r\n            System.err.println(e.getMessage());\r\n            System.exit(1);\r\n        } catch (IOException e) {\r\n            System.err.println(e.getMessage());\r\n            System.exit(1);\r\n        } catch (UnsupportedAudioFileException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n\r\nI tried executingn sox command with java Runtime.getRuntime().exec(cmd);\r\nI expected sox command getting executed successfully while running the spring boot project.","title":"Java Runtime cmd execution in a Spring Boot project","body":"<p>A project consists of audio blocks.\nI'm implementing REST API that updates project when there is change in blocks.<br />\nI would like to merge blocks with paddings between the audio blocks, and then upload appended audio back to S3 storages. Audio files are stored in S3 storages.\nI want to execute sox command while running a spring boot project in an EC2.\nsox module is installed in an EC2 instance. Would this be a problem of directory path?</p>\n<p>When I call the function it returns exit value 1, and audio blockes are not merged with paddings.\nI tried executing same runtime command in a simple java file and it worked, but it is not working in a deployed spring boot project.</p>\n<pre><code>public void mergeBlocks(Long teamId, Long projectId){\n        try {\n            List&lt;Block&gt; blocks = blockRepository.findByProjectId(projectId);\n            long length = 0;\n            AudioInputStream clip = null;\n            List&lt;AudioInputStream&gt; list = new ArrayList&lt;AudioInputStream&gt;();\n            new File(String.valueOf(projectId)).mkdirs();\n            for (Block b: blocks) {\n                FileOutputStream fos = new FileOutputStream(new File(projectId + &quot;/temp&quot; + b.getId() + &quot;.wav&quot;));\n                S3Object o = amazonS3Client.getObject(AUDIO_BUCKET_NAME, teamId + &quot;/&quot; + projectId + &quot;/&quot; + b.getId() + &quot;.wav&quot;);\n                S3ObjectInputStream s3is = o.getObjectContent();\n                byte[] read_buf = new byte[1024];\n                int read_len = 0;\n                while ((read_len = s3is.read(read_buf)) &gt; 0) {\n                    fos.write(read_buf, 0, read_len);\n                }\n                fos.close();\n                String[] cmd = {&quot;sox&quot;, projectId + &quot;\\\\temp&quot; + b.getId() + &quot;.wav&quot;, projectId + &quot;\\\\interval&quot; + b.getId() + &quot;.wav&quot;, &quot;pad&quot;, &quot;0&quot;, String.valueOf(b.getInterval())};\n                try {\n                    Runtime rt = Runtime.getRuntime();\n                    Process pr = rt.exec(cmd);\n                    BufferedReader input = new BufferedReader(new InputStreamReader(pr.getInputStream()));\n\n                    String line = null;\n\n                    while ((line = input.readLine()) != null) {\n                        System.out.println(line);\n                    }\n\n                    int exitVal = pr.waitFor();\n                    System.out.println(&quot;Exited with error code &quot; + exitVal);\n                } catch(Exception e) {\n                    System.out.println(e.toString());\n                    e.printStackTrace();\n                }\n\n                clip = AudioSystem.getAudioInputStream(new File(projectId + &quot;/interval&quot; + b.getId() + &quot;.wav&quot;));\n                list.add(clip);\n                length += clip.getFrameLength();\n            }\n            if(length&gt;0 &amp;&amp; list.size()&gt;0 &amp;&amp; clip!=null) {\n                AudioInputStream appendedFiles =\n                        new AudioInputStream(\n                                new SequenceInputStream(Collections.enumeration(list)),\n                                clip.getFormat(),\n                                length);\n\n                AudioSystem.write(appendedFiles,\n                        AudioFileFormat.Type.WAVE,\n                        new File(projectId + &quot;/appended.wav&quot;));\n            }\n            clip.close();\n            amazonS3Client.putObject(AUDIO_BUCKET_NAME, teamId + &quot;/&quot; + projectId + &quot;/0.wav&quot;, new File(projectId + &quot;/appended.wav&quot;));\n            FileUtils.deleteDirectory(new File(String.valueOf(projectId)));\n        } catch (AmazonServiceException e) {\n            System.err.println(e.getErrorMessage());\n            System.exit(1);\n        } catch (FileNotFoundException e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        } catch (IOException e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        } catch (UnsupportedAudioFileException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I tried executingn sox command with java Runtime.getRuntime().exec(cmd);\nI expected sox command getting executed successfully while running the spring boot project.</p>\n"},{"tags":["java","debugging","maven-plugin"],"comments":[{"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1586460165,"post_id":56897925,"comment_id":108143858,"body_markdown":"[Forking](https://docs.spring.io/spring-boot/docs/current/maven-plugin/run-mojo.html#fork) is enabled by default since Spring Boot 2.2. \nSee https://stackoverflow.com/questions/61125404/since-2-2-0-spring-boot-maven-plugin-create-2-java-process-may-cause-createproc question and solution","body":"<a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/run-mojo.html#fork\" rel=\"nofollow noreferrer\">Forking</a> is enabled by default since Spring Boot 2.2.  See <a href=\"https://stackoverflow.com/questions/61125404/since-2-2-0-spring-boot-maven-plugin-create-2-java-process-may-cause-createproc\" title=\"since 2 2 0 spring boot maven plugin create 2 java process may cause createproc\">stackoverflow.com/questions/61125404/&hellip;</a> question and solution"}],"answers":[{"tags":[],"owner":{"account_id":17190715,"reputation":563,"user_id":12444527,"display_name":"Trushit Shekhda"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1576580803,"creation_date":1576576803,"answer_id":59371718,"question_id":56897925,"body_markdown":"If you are using IntelliJ Idea platform just change the launch configuration to avoid using the default shorten line\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis worked for me.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yw0fV.png","title":"Cannot run program CreateProcess error=206, The filename or extension is too long","body":"<p>If you are using IntelliJ Idea platform just change the launch configuration to avoid using the default shorten line</p>\n\n<p><a href=\"https://i.stack.imgur.com/Yw0fV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Yw0fV.png\" alt=\"enter image description here\"></a></p>\n\n<p>This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":59872,"reputation":5796,"user_id":179032,"accept_rate":83,"display_name":"Developer404"},"down_vote_count":4,"up_vote_count":0,"is_accepted":true,"score":-4,"last_activity_date":1576821032,"creation_date":1576821032,"answer_id":59420432,"question_id":56897925,"body_markdown":"I used the below commandand it worked. \r\n   mvnw -Dmaven.repo.local=C:/mavenRepo","title":"Cannot run program CreateProcess error=206, The filename or extension is too long","body":"<p>I used the below commandand it worked. \n   mvnw -Dmaven.repo.local=C:/mavenRepo</p>\n"},{"tags":[],"owner":{"account_id":12525298,"reputation":71,"user_id":9115339,"display_name":"ALAOUI Jaouhar"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1591026636,"creation_date":1591026636,"answer_id":62135926,"question_id":56897925,"body_markdown":"change \r\n````\r\n&lt;fork&gt;true&lt;/fork&gt;\r\n````\r\nto \r\n````\r\n&lt;fork&gt;false&lt;/fork&gt;\r\n````","title":"Cannot run program CreateProcess error=206, The filename or extension is too long","body":"<p>change </p>\n\n<pre><code>&lt;fork&gt;true&lt;/fork&gt;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>&lt;fork&gt;false&lt;/fork&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3398201,"reputation":970,"user_id":2851184,"accept_rate":43,"display_name":"Alok Mishra"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1681741555,"creation_date":1615284787,"answer_id":66544882,"question_id":56897925,"body_markdown":"This is caused by a Windows OS limitation. To solve it:\r\n\r\n 1. Move `.m2` repository to `c:\\`\r\n 2. Open `settings.xml` from `%MAVEN_HOME%/conf` and look for `\\&lt;settings&gt;.\\&lt;localRepository&gt;`(uncomment it if its commented out already) and change its value to `c:/.m2/repository`\r\n 3. Save the file and run the build again\r\n","title":"Cannot run program CreateProcess error=206, The filename or extension is too long","body":"<p>This is caused by a Windows OS limitation. To solve it:</p>\n<ol>\n<li>Move <code>.m2</code> repository to <code>c:\\</code></li>\n<li>Open <code>settings.xml</code> from <code>%MAVEN_HOME%/conf</code> and look for <code>\\&lt;settings&gt;.\\&lt;localRepository&gt;</code>(uncomment it if its commented out already) and change its value to <code>c:/.m2/repository</code></li>\n<li>Save the file and run the build again</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1895369,"reputation":419,"user_id":1712464,"accept_rate":0,"display_name":"developer"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1632318948,"creation_date":1632318948,"answer_id":69285725,"question_id":56897925,"body_markdown":"For me I had the similar exception, below change solved the issue\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;fork&gt;false&lt;/fork&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;","title":"Cannot run program CreateProcess error=206, The filename or extension is too long","body":"<p>For me I had the similar exception, below change solved the issue</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;fork&gt;false&lt;/fork&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":59872,"reputation":5796,"user_id":179032,"accept_rate":83,"display_name":"Developer404"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24686,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":59420432,"answer_count":5,"score":9,"last_activity_date":1681741555,"creation_date":1562309511,"question_id":56897925,"body_markdown":"I get the titled error when I use jvmarguments in the pom file. I&#39;m using mvnw command with the below plugin to enable debugging. If I remove the jvm argument, it works. But I want to enable remote debugging with the mvnw command\r\n\r\n**Code Snippet:**\r\n\r\n    &lt;plugin&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;executions&gt;\r\n    \t\t\t&lt;execution&gt;\r\n    \t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n    \t\t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;/execution&gt;\r\n    \t\t&lt;/executions&gt;\r\n    \t\t&lt;configuration&gt;\r\n    \t\t\t&lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\r\n    \t\t\t&lt;executable&gt;true&lt;/executable&gt;\r\n    \t\t\t&lt;fork&gt;true&lt;/fork&gt;\r\n    \t\t\t&lt;jvmArguments&gt;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005&lt;/jvmArguments&gt; \r\n    \t\t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n\r\n**Error:**\r\n\r\n&gt; *[ERROR] Failed to execute goal\r\n&gt; org.springframework.boot:spring-boot-maven-plugin:2.0.7.RELEASE:run\r\n&gt; (default-cli) on project dxcgateway: Could not exec java: Cannot run\r\n&gt; program &quot;C:\\Program Files\\Java\\jdk1.8.0_202\\jre\\bin\\java.exe&quot;:\r\n&gt; CreateProcess error=206, The filename or extension is too long -&gt;\r\n&gt; [Help 1] org.apache.maven.lifecycle.LifecycleExecutionException:\r\n&gt; Failed to execute goal\r\n&gt; org.springframework.boot:spring-boot-maven-plugin:2.0.7.RELEASE:run\r\n&gt; (default-cli) on project dxcg ateway: Could not exec java\r\n&gt; \r\n&gt; Caused by: java.io.IOException: Cannot run program &quot;C:\\Program\r\n&gt; Files\\Java\\jdk1.8.0_202\\jre\\bin\\java.exe&quot;: CreateProcess error=206,\r\n&gt; The filename or extension is too long\r\n&gt;     at java.lang.ProcessBuilder.start (ProcessBuilder.java:1048)\r\n&gt;     at org.springframework.boot.loader.tools.RunProcess.run (RunProcess.java:77)\r\n&gt; \r\n&gt; Caused by: java.io.IOException: Cannot run program &quot;C:\\Program\r\n&gt; Files\\Java\\jdk1.8.0_202\\jre\\bin\\java.exe&quot;: CreateProcess error=206,\r\n&gt; The filename or extension is too long\r\n&gt;     at java.lang.ProcessBuilder.start (ProcessBuilder.java:1048)\r\n    at org.springframework.boot.loader.tools.RunProcess.run (RunProcess.java:77)*","title":"Cannot run program CreateProcess error=206, The filename or extension is too long","body":"<p>I get the titled error when I use jvmarguments in the pom file. I'm using mvnw command with the below plugin to enable debugging. If I remove the jvm argument, it works. But I want to enable remote debugging with the mvnw command</p>\n\n<p><strong>Code Snippet:</strong></p>\n\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;repackage&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\n            &lt;executable&gt;true&lt;/executable&gt;\n            &lt;fork&gt;true&lt;/fork&gt;\n            &lt;jvmArguments&gt;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005&lt;/jvmArguments&gt; \n        &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p><strong>Error:</strong></p>\n\n<blockquote>\n  <p>*[ERROR] Failed to execute goal\n  org.springframework.boot:spring-boot-maven-plugin:2.0.7.RELEASE:run\n  (default-cli) on project dxcgateway: Could not exec java: Cannot run\n  program \"C:\\Program Files\\Java\\jdk1.8.0_202\\jre\\bin\\java.exe\":\n  CreateProcess error=206, The filename or extension is too long ->\n  [Help 1] org.apache.maven.lifecycle.LifecycleExecutionException:\n  Failed to execute goal\n  org.springframework.boot:spring-boot-maven-plugin:2.0.7.RELEASE:run\n  (default-cli) on project dxcg ateway: Could not exec java</p>\n  \n  <p>Caused by: java.io.IOException: Cannot run program \"C:\\Program\n  Files\\Java\\jdk1.8.0_202\\jre\\bin\\java.exe\": CreateProcess error=206,\n  The filename or extension is too long\n      at java.lang.ProcessBuilder.start (ProcessBuilder.java:1048)\n      at org.springframework.boot.loader.tools.RunProcess.run (RunProcess.java:77)</p>\n  \n  <p>Caused by: java.io.IOException: Cannot run program \"C:\\Program\n  Files\\Java\\jdk1.8.0_202\\jre\\bin\\java.exe\": CreateProcess error=206,\n  The filename or extension is too long\n      at java.lang.ProcessBuilder.start (ProcessBuilder.java:1048)\n      at org.springframework.boot.loader.tools.RunProcess.run (RunProcess.java:77)*</p>\n</blockquote>\n"},{"tags":["java","arrays","arraylist","dynamic","dynamic-arrays"],"comments":[{"owner":{"account_id":32417,"reputation":40343,"user_id":89989,"accept_rate":74,"display_name":"Gordon Gustafson"},"score":0,"creation_date":1256861137,"post_id":1647260,"comment_id":1517946,"body_markdown":"I fixed up the formatting of the question, you can just the title if you want, just be descriptive. and welcome to stackoverflow! :D","body":"I fixed up the formatting of the question, you can just the title if you want, just be descriptive. and welcome to stackoverflow! :D"}],"answers":[{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1256861099,"creation_date":1256861099,"answer_id":1647276,"question_id":1647260,"body_markdown":"You set the number of elements to anything you want at the time you create it:\r\n\r\n    xClass[] mysclass = new xClass[n];\r\n\r\nThen you can initialize the elements in a loop. I am guessing that this is what you need.\r\n\r\nIf you need to add or remove elements to the array after you create it, then you would have to use an `ArrayList`.","title":"Java dynamic array sizes?","body":"<p>You set the number of elements to anything you want at the time you create it:</p>\n\n<pre><code>xClass[] mysclass = new xClass[n];\n</code></pre>\n\n<p>Then you can initialize the elements in a loop. I am guessing that this is what you need.</p>\n\n<p>If you need to add or remove elements to the array after you create it, then you would have to use an <code>ArrayList</code>.</p>\n"},{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":0,"up_vote_count":189,"is_accepted":true,"score":189,"last_activity_date":1590235563,"creation_date":1256861107,"answer_id":1647277,"question_id":1647260,"body_markdown":"No you can&#39;t change the size of an array once created. You either have to allocate it bigger than you think you&#39;ll need or accept the overhead of having to reallocate it needs to grow in size. When it does you&#39;ll have to allocate a new one and copy the data from the old to the new:\r\n\r\n    int[] oldItems = new int[10];\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        oldItems[i] = i + 10;\r\n    }\r\n    int[] newItems = new int[20];\r\n    System.arraycopy(oldItems, 0, newItems, 0, 10);\r\n    oldItems = newItems;\r\n\r\nIf you find yourself in this situation, I&#39;d highly recommend using the Java Collections instead. In particular [`ArrayList`][1] essentially wraps an array and takes care of the logic for growing the array as required:\r\n\r\n    List&lt;XClass&gt; myclass = new ArrayList&lt;XClass&gt;();\r\n    myclass.add(new XClass());\r\n    myclass.add(new XClass());\r\n\r\nGenerally an `ArrayList` is a preferable solution to an array anyway for several reasons. For one thing, arrays are mutable. If you have a class that does this:\r\n\r\n    class Myclass {\r\n        private int[] items;\r\n    \r\n        public int[] getItems() {\r\n            return items;\r\n        }\r\n    }\r\n\r\nyou&#39;ve created a problem as a caller can change your private data member, which leads to all sorts of defensive copying. Compare this to the List version:\r\n\r\n    class Myclass {\r\n        private List&lt;Integer&gt; items;\r\n    \r\n        public List&lt;Integer&gt; getItems() {\r\n            return Collections.unmodifiableList(items);\r\n        }\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html","title":"Java dynamic array sizes?","body":"<p>No you can't change the size of an array once created. You either have to allocate it bigger than you think you'll need or accept the overhead of having to reallocate it needs to grow in size. When it does you'll have to allocate a new one and copy the data from the old to the new:</p>\n\n<pre><code>int[] oldItems = new int[10];\nfor (int i = 0; i &lt; 10; i++) {\n    oldItems[i] = i + 10;\n}\nint[] newItems = new int[20];\nSystem.arraycopy(oldItems, 0, newItems, 0, 10);\noldItems = newItems;\n</code></pre>\n\n<p>If you find yourself in this situation, I'd highly recommend using the Java Collections instead. In particular <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\"><code>ArrayList</code></a> essentially wraps an array and takes care of the logic for growing the array as required:</p>\n\n<pre><code>List&lt;XClass&gt; myclass = new ArrayList&lt;XClass&gt;();\nmyclass.add(new XClass());\nmyclass.add(new XClass());\n</code></pre>\n\n<p>Generally an <code>ArrayList</code> is a preferable solution to an array anyway for several reasons. For one thing, arrays are mutable. If you have a class that does this:</p>\n\n<pre><code>class Myclass {\n    private int[] items;\n\n    public int[] getItems() {\n        return items;\n    }\n}\n</code></pre>\n\n<p>you've created a problem as a caller can change your private data member, which leads to all sorts of defensive copying. Compare this to the List version:</p>\n\n<pre><code>class Myclass {\n    private List&lt;Integer&gt; items;\n\n    public List&lt;Integer&gt; getItems() {\n        return Collections.unmodifiableList(items);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1256861143,"creation_date":1256861143,"answer_id":1647280,"question_id":1647260,"body_markdown":"Where you declare the myclass[] array as :\r\n\r\n    xClass myclass[] = new xClass[10]\r\n\r\n, simply pass in as an argument the number of XClass elements you&#39;ll need.  At that point do you know how many you will need?  By declaring the array as having 10 elements, you are not declaring 10 XClass objects, you&#39;re simply creating an array with 10 elements of type xClass.","title":"Java dynamic array sizes?","body":"<p>Where you declare the myclass[] array as :</p>\n\n<pre><code>xClass myclass[] = new xClass[10]\n</code></pre>\n\n<p>, simply pass in as an argument the number of XClass elements you'll need.  At that point do you know how many you will need?  By declaring the array as having 10 elements, you are not declaring 10 XClass objects, you're simply creating an array with 10 elements of type xClass.</p>\n"},{"tags":[],"owner":{"account_id":68279,"reputation":10429,"user_id":199305,"accept_rate":75,"display_name":"J&#233; Queue"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1256861465,"creation_date":1256861465,"answer_id":1647295,"question_id":1647260,"body_markdown":"Yes, wrap it and use the Collections framework.\r\n\r\n    List l = new ArrayList();\r\n    l.add(new xClass());\r\n    // do stuff\r\n    l.add(new xClass());\r\n\r\nThen use List.toArray() when necessary, or just iterate over said List.\r\n\r\n","title":"Java dynamic array sizes?","body":"<p>Yes, wrap it and use the Collections framework.</p>\n\n<pre><code>List l = new ArrayList();\nl.add(new xClass());\n// do stuff\nl.add(new xClass());\n</code></pre>\n\n<p>Then use List.toArray() when necessary, or just iterate over said List.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1256863494,"creation_date":1256862602,"answer_id":1647374,"question_id":1647260,"body_markdown":"As others have said, you cannot change the size of an existing Java array.  \r\n\r\nArrayList is the closest that standard Java has to a dynamic sized array.  However, there are some things about ArrayList (actually the List interface) that are not &quot;array like&quot;.  For example:\r\n\r\n - You cannot use `[ ... ]` to index a list.  You have to use the `get(int)` and `set(int, E)` methods.\r\n - An ArrayList is created with zero elements.  You cannot simple create an ArrayList with 20 elements and then call `set(15, foo)`.\r\n - You cannot directly change the size of an ArrayList.  You do it indirectly using the various `add`, `insert` and `remove` methods.\r\n\r\nIf you want something more array-like, you will need to design your own API.  (Maybe someone could chime in with an existing third party library ... I couldn&#39;t find one with 2 minutes &quot;research&quot; using Google :-) )\r\n\r\nIf you only really need an array that grows *as you are initializing it*, then the solution is something like this.\r\n\r\n    ArrayList&lt;T&gt; tmp = new ArrayList&lt;T&gt;();\r\n    while (...) {\r\n        tmp.add(new T(...));\r\n    }\r\n    // This creates a new array and copies the element of &#39;tmp&#39; to it.\r\n    T[] array = tmp.toArray(new T[tmp.size()]);\r\n    \r\n\r\n","title":"Java dynamic array sizes?","body":"<p>As others have said, you cannot change the size of an existing Java array.  </p>\n\n<p>ArrayList is the closest that standard Java has to a dynamic sized array.  However, there are some things about ArrayList (actually the List interface) that are not \"array like\".  For example:</p>\n\n<ul>\n<li>You cannot use <code>[ ... ]</code> to index a list.  You have to use the <code>get(int)</code> and <code>set(int, E)</code> methods.</li>\n<li>An ArrayList is created with zero elements.  You cannot simple create an ArrayList with 20 elements and then call <code>set(15, foo)</code>.</li>\n<li>You cannot directly change the size of an ArrayList.  You do it indirectly using the various <code>add</code>, <code>insert</code> and <code>remove</code> methods.</li>\n</ul>\n\n<p>If you want something more array-like, you will need to design your own API.  (Maybe someone could chime in with an existing third party library ... I couldn't find one with 2 minutes \"research\" using Google :-) )</p>\n\n<p>If you only really need an array that grows <em>as you are initializing it</em>, then the solution is something like this.</p>\n\n<pre><code>ArrayList&lt;T&gt; tmp = new ArrayList&lt;T&gt;();\nwhile (...) {\n    tmp.add(new T(...));\n}\n// This creates a new array and copies the element of 'tmp' to it.\nT[] array = tmp.toArray(new T[tmp.size()]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1256863536,"creation_date":1256863536,"answer_id":1647433,"question_id":1647260,"body_markdown":"In java array length is fixed.\r\n\r\nYou can use a List to hold the values and invoke the `toArray` method if needed\r\nSee the following sample:\r\n\r\n\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.util.Random;\r\n\r\n    public class A  {\r\n\r\n        public static void main( String [] args ) {\r\n            // dynamically hold the instances\r\n            List&lt;xClass&gt; list = new ArrayList&lt;xClass&gt;();\r\n\r\n            // fill it with a random number between 0 and 100\r\n            int elements = new Random().nextInt(100);  \r\n            for( int i = 0 ; i &lt; elements ; i++ ) {\r\n                list.add( new xClass() );\r\n            }\r\n\r\n            // convert it to array\r\n            xClass [] array = list.toArray( new xClass[ list.size() ] );\r\n\r\n\r\n            System.out.println( &quot;size of array = &quot; + array.length );\r\n        }\r\n    }\r\n    class xClass {}\r\n\r\n\r\n\r\n","title":"Java dynamic array sizes?","body":"<p>In java array length is fixed.</p>\n\n<p>You can use a List to hold the values and invoke the <code>toArray</code> method if needed\nSee the following sample:</p>\n\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\nimport java.util.Random;\n\npublic class A  {\n\n    public static void main( String [] args ) {\n        // dynamically hold the instances\n        List&lt;xClass&gt; list = new ArrayList&lt;xClass&gt;();\n\n        // fill it with a random number between 0 and 100\n        int elements = new Random().nextInt(100);  \n        for( int i = 0 ; i &lt; elements ; i++ ) {\n            list.add( new xClass() );\n        }\n\n        // convert it to array\n        xClass [] array = list.toArray( new xClass[ list.size() ] );\n\n\n        System.out.println( \"size of array = \" + array.length );\n    }\n}\nclass xClass {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45917,"reputation":20079,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1256864373,"creation_date":1256864373,"answer_id":1647476,"question_id":1647260,"body_markdown":"As other users say, you probably need an implementation of java.util.List.\r\n\r\nIf, for some reason, you finally need an array, you can do two things:\r\n\r\n - Use a List and then convert it to an array with myList.toArray()\r\n\r\n - Use an array of certain size. If you need more or less size, you can modify it with java.util.Arrays methods.\r\n\r\nBest solution will depend on your problem ;)","title":"Java dynamic array sizes?","body":"<p>As other users say, you probably need an implementation of java.util.List.</p>\n\n<p>If, for some reason, you finally need an array, you can do two things:</p>\n\n<ul>\n<li><p>Use a List and then convert it to an array with myList.toArray()</p></li>\n<li><p>Use an array of certain size. If you need more or less size, you can modify it with java.util.Arrays methods.</p></li>\n</ul>\n\n<p>Best solution will depend on your problem ;)</p>\n"},{"tags":[],"owner":{"account_id":1811039,"reputation":149,"user_id":1647112,"accept_rate":78,"display_name":"Shashank Raghunath"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1349335390,"creation_date":1346784913,"answer_id":12269676,"question_id":1647260,"body_markdown":"I recommend using vectors instead. Very easy to use and has many predefined methods for implementation.\r\n\r\n    import java.util.*;\r\n\r\n    Vector&lt;Integer&gt; v=new Vector&lt;Integer&gt;(5,2);\r\n\r\nto add an element simply use:\r\n\r\n    v.addElement(int);\r\n\r\nIn the *(5,2)* the first 5 is the initial size of the vector. If you exceed the initial size,the vector will grow by 2 places. If it exceeds again, then it will again increase by 2 places and so on.\r\n\r\n","title":"Java dynamic array sizes?","body":"<p>I recommend using vectors instead. Very easy to use and has many predefined methods for implementation.</p>\n\n<pre><code>import java.util.*;\n\nVector&lt;Integer&gt; v=new Vector&lt;Integer&gt;(5,2);\n</code></pre>\n\n<p>to add an element simply use:</p>\n\n<pre><code>v.addElement(int);\n</code></pre>\n\n<p>In the <em>(5,2)</em> the first 5 is the initial size of the vector. If you exceed the initial size,the vector will grow by 2 places. If it exceeds again, then it will again increase by 2 places and so on.</p>\n"},{"tags":[],"owner":{"account_id":2360238,"reputation":155,"user_id":2067067,"display_name":"man.2067067"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1486690297,"creation_date":1365994487,"answer_id":16007002,"question_id":1647260,"body_markdown":"`Arrays.copyOf()` method has many options to fix the problem with Array length increasing dynamically.\r\n\r\n[Java API][1]\r\n\r\n\r\n  [1]:http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOf(T[],%20int)","title":"Java dynamic array sizes?","body":"<p><code>Arrays.copyOf()</code> method has many options to fix the problem with Array length increasing dynamically.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOf(T[],%20int)\" rel=\"nofollow noreferrer\">Java API</a></p>\n"},{"tags":[],"owner":{"account_id":3308211,"reputation":350,"user_id":2782340,"display_name":"Pascal9x"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1387340886,"creation_date":1387340886,"answer_id":20649628,"question_id":1647260,"body_markdown":"You can use ArrayList:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    \r\n...\r\n\r\n    ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n    arr.add(&quot;neo&quot;);\r\n    arr.add(&quot;morpheus&quot;);\r\n    arr.add(&quot;trinity&quot;);\r\n    Iterator&lt;String&gt; foreach = arr.iterator();\r\n    while (foreach.hasNext()) System.out.println(foreach.next());\r\n\r\n","title":"Java dynamic array sizes?","body":"<p>You can use ArrayList:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Iterator;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\narr.add(\"neo\");\narr.add(\"morpheus\");\narr.add(\"trinity\");\nIterator&lt;String&gt; foreach = arr.iterator();\nwhile (foreach.hasNext()) System.out.println(foreach.next());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7424018,"reputation":79,"user_id":5647204,"accept_rate":33,"display_name":"bakz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449433179,"creation_date":1449432157,"answer_id":34122020,"question_id":1647260,"body_markdown":"It is a good practice get the amount you need to store first then initialize the array.\r\n\r\nfor example, you would ask the user how many data he need to store and then initialize it, or query the component or argument of how many you need to store.\r\nif you want a dynamic array you could use `ArrayList()` and use `al.add();` function to keep adding, then you can transfer it to a fixed array.\r\n\r\n    //Initialize ArrayList and cast string so ArrayList accepts strings (or anything\r\n    ArrayList&lt;string&gt; al = new ArrayList(); \r\n    //add a certain amount of data\r\n    for(int i=0;i&lt;x;i++)\r\n    {\r\n      al.add(&quot;data &quot;+i); \r\n    }\r\n    \r\n    //get size of data inside\r\n    int size = al.size(); \r\n    //initialize String array with the size you have\r\n    String strArray[] = new String[size]; \r\n    //insert data from ArrayList to String array\r\n    for(int i=0;i&lt;size;i++)\r\n    {\r\n      strArray[i] = al.get(i);\r\n    }\r\n\r\n\r\ndoing so is redundant but just to show you the idea, `ArrayList` can hold objects unlike other primitive data types and are very easy to manipulate, removing anything from the middle is easy as well, completely dynamic.same with `List` and `Stack`\r\n","title":"Java dynamic array sizes?","body":"<p>It is a good practice get the amount you need to store first then initialize the array.</p>\n\n<p>for example, you would ask the user how many data he need to store and then initialize it, or query the component or argument of how many you need to store.\nif you want a dynamic array you could use <code>ArrayList()</code> and use <code>al.add();</code> function to keep adding, then you can transfer it to a fixed array.</p>\n\n<pre><code>//Initialize ArrayList and cast string so ArrayList accepts strings (or anything\nArrayList&lt;string&gt; al = new ArrayList(); \n//add a certain amount of data\nfor(int i=0;i&lt;x;i++)\n{\n  al.add(\"data \"+i); \n}\n\n//get size of data inside\nint size = al.size(); \n//initialize String array with the size you have\nString strArray[] = new String[size]; \n//insert data from ArrayList to String array\nfor(int i=0;i&lt;size;i++)\n{\n  strArray[i] = al.get(i);\n}\n</code></pre>\n\n<p>doing so is redundant but just to show you the idea, <code>ArrayList</code> can hold objects unlike other primitive data types and are very easy to manipulate, removing anything from the middle is easy as well, completely dynamic.same with <code>List</code> and <code>Stack</code></p>\n"},{"tags":[],"owner":{"display_name":"user5096772"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449890718,"creation_date":1449890718,"answer_id":34235888,"question_id":1647260,"body_markdown":"Java Array sizes are fixed , You cannot make dynamic Arrays as that of in C++.\r\n","title":"Java dynamic array sizes?","body":"<p>Java Array sizes are fixed , You cannot make dynamic Arrays as that of in C++.</p>\n"},{"tags":[],"owner":{"account_id":8749132,"reputation":1,"user_id":6543116,"display_name":"Maranatha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467530538,"creation_date":1467522924,"answer_id":38166961,"question_id":1647260,"body_markdown":"I don&#39;t know if you can change the size at runtime but you can allocate the size at runtime. Try using this code:\r\n\r\n    class MyClass {\r\n        void myFunction () {\r\n            Scanner s = new Scanner (System.in);\r\n            int myArray [];\r\n            int x;\r\n        \r\n            System.out.print (&quot;Enter the size of the array: &quot;);\r\n            x = s.nextInt();\r\n        \r\n            myArray = new int[x];\r\n        }\r\n    }\r\n\r\nthis assigns your array size to be the one entered at run time into x.","title":"Java dynamic array sizes?","body":"<p>I don't know if you can change the size at runtime but you can allocate the size at runtime. Try using this code:</p>\n\n<pre><code>class MyClass {\n    void myFunction () {\n        Scanner s = new Scanner (System.in);\n        int myArray [];\n        int x;\n\n        System.out.print (\"Enter the size of the array: \");\n        x = s.nextInt();\n\n        myArray = new int[x];\n    }\n}\n</code></pre>\n\n<p>this assigns your array size to be the one entered at run time into x.</p>\n"},{"tags":[],"owner":{"account_id":9725141,"reputation":194,"user_id":7212370,"display_name":"Wallace Stev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480144045,"creation_date":1480144045,"answer_id":40815898,"question_id":1647260,"body_markdown":"Here&#39;s a method that doesn&#39;t use ArrayList. The user specifies the size and you can add a do-while loop for recursion.\r\n\r\n    import java.util.Scanner;\r\n        public class Dynamic {\r\n        \tpublic static Scanner value;\r\n        \tpublic static void main(String[]args){\r\n        \t\tvalue=new Scanner(System.in);\r\n        \t\tSystem.out.println(&quot;Enter the number of tests to calculate average\\n&quot;);\r\n        \t\tint limit=value.nextInt();\r\n        \t\tint index=0;\r\n        \t\tint [] marks=new int[limit];\r\n        \t\tfloat sum,ave;\r\n        \t\tsum=0;\t\t\r\n        \t\twhile(index&lt;limit)\r\n        \t\t{\r\n        \t\t\tint test=index+1;\r\n        \t\t\tSystem.out.println(&quot;Enter the marks on test &quot; +test);\r\n        \t\t\tmarks[index]=value.nextInt();\r\n        \t\t\tsum+=marks[index];\r\n        \t\t\tindex++;\r\n        \t\t}\r\n        \t\tave=sum/limit;\r\n        \t\tSystem.out.println(&quot;The average is: &quot; + ave);\r\n        \t}\r\n        }","title":"Java dynamic array sizes?","body":"<p>Here's a method that doesn't use ArrayList. The user specifies the size and you can add a do-while loop for recursion.</p>\n\n<pre><code>import java.util.Scanner;\n    public class Dynamic {\n        public static Scanner value;\n        public static void main(String[]args){\n            value=new Scanner(System.in);\n            System.out.println(\"Enter the number of tests to calculate average\\n\");\n            int limit=value.nextInt();\n            int index=0;\n            int [] marks=new int[limit];\n            float sum,ave;\n            sum=0;      \n            while(index&lt;limit)\n            {\n                int test=index+1;\n                System.out.println(\"Enter the marks on test \" +test);\n                marks[index]=value.nextInt();\n                sum+=marks[index];\n                index++;\n            }\n            ave=sum/limit;\n            System.out.println(\"The average is: \" + ave);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9171897,"reputation":325,"user_id":6819079,"display_name":"Jatin Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485910629,"creation_date":1485910629,"answer_id":41970197,"question_id":1647260,"body_markdown":"**In Java Array Sizes are always of Fixed Length But there is way in which you can Dynamically increase the Size of the Array at Runtime Itself**\r\n\r\nThis is the most &quot;used&quot; as well as preferred way to do it-\r\n         \r\n        int temp[]=new int[stck.length+1];\r\n        for(int i=0;i&lt;stck.length;i++)temp[i]=stck[i];\r\n\t\tstck=temp;\r\nIn the above code we are initializing a new temp[] array, and further using a for loop to initialize the contents of the temp with the contents of the original array ie. stck[]. And then again copying it back to the original one, giving us a new array of new SIZE.\r\n\r\nNo doubt it generates a CPU Overhead due to reinitializing an array using for loop repeatedly. But you can still use and implement it in your code.\r\nFor the best practice use &quot;Linked List&quot; instead of Array, if you want the data to be stored dynamically in the memory, of variable length. \r\n\r\nHere&#39;s a Real-Time Example based on Dynamic Stacks to INCREASE ARRAY SIZE at Run-Time\r\n\r\nFile-name: DStack.java\r\n\r\n    \r\n    public class DStack {\r\n\tprivate int stck[];\r\n\tint tos;\r\n\t\r\n\tvoid Init_Stck(int size) {\r\n\t\tstck=new int[size];\r\n\t\ttos=-1;\r\n\t}\r\n\tint Change_Stck(int size){\r\n\t\treturn stck[size];\r\n\t}\r\n\t\r\n\tpublic void push(int item){\r\n\t\tif(tos==stck.length-1){\r\n\t\t\tint temp[]=new int[stck.length+1];\r\n\t\t\tfor(int i=0;i&lt;stck.length;i++)temp[i]=stck[i];\r\n\t\t\tstck=temp;\r\n\t\t\tstck[++tos]=item;\r\n\t\t}\r\n\t\telse\r\n\t\t\tstck[++tos]=item;\r\n\t}\r\n\tpublic int pop(){\r\n\t\tif(tos&lt;0){\r\n\t\t\tSystem.out.println(&quot;Stack Underflow&quot;);\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\telse return stck[tos--];\r\n\t}\r\n\t\r\n\tpublic void display(){\r\n\t\tfor(int x=0;x&lt;stck.length;x++){\r\n\t\t\tSystem.out.print(stck[x]+&quot; &quot;);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\n    }\r\n\r\nFile-name: Exec.java   \r\n(with the main class)\r\n\r\n    import java.util.*;\r\n    public class Exec {\r\n\r\n\tprivate static Scanner in;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tin = new Scanner(System.in);\r\n\t\tint option,item,i=1;\r\n\t\tDStack obj=new DStack();\r\n\t\tobj.Init_Stck(1);\r\n\t\tdo{\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println(&quot;--MENU--&quot;);\r\n\t\t\tSystem.out.println(&quot;1. Push a Value in The Stack&quot;);\r\n\t\t\tSystem.out.println(&quot;2. Pop a Value from the Stack&quot;);\r\n\t\t\tSystem.out.println(&quot;3. Display Stack&quot;);\r\n\t\t\tSystem.out.println(&quot;4. Exit&quot;);\r\n\t\t\toption=in.nextInt();\r\n\t\t\tswitch(option){\r\n\t\t\tcase 1:\r\n\t\t\t\tSystem.out.println(&quot;Enter the Value to be Pushed&quot;);\r\n\t\t\t\titem=in.nextInt();\r\n\t\t\t\tobj.push(item);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tSystem.out.println(&quot;Popped Item: &quot;+obj.pop());\r\n\t\t\t\tobj.Change_Stck(obj.tos);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tSystem.out.println(&quot;Displaying...&quot;);\r\n\t\t\t\tobj.display();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tSystem.out.println(&quot;Exiting...&quot;);\r\n\t\t\t\ti=0;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tSystem.out.println(&quot;Enter a Valid Value&quot;);\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}while(i==1);\r\n\r\n\t}\r\n\r\n    }\r\n\r\nHope this solves your query.\r\n","title":"Java dynamic array sizes?","body":"<p><strong>In Java Array Sizes are always of Fixed Length But there is way in which you can Dynamically increase the Size of the Array at Runtime Itself</strong></p>\n\n<p>This is the most \"used\" as well as preferred way to do it-</p>\n\n<pre><code>    int temp[]=new int[stck.length+1];\n    for(int i=0;i&lt;stck.length;i++)temp[i]=stck[i];\n    stck=temp;\n</code></pre>\n\n<p>In the above code we are initializing a new temp[] array, and further using a for loop to initialize the contents of the temp with the contents of the original array ie. stck[]. And then again copying it back to the original one, giving us a new array of new SIZE.</p>\n\n<p>No doubt it generates a CPU Overhead due to reinitializing an array using for loop repeatedly. But you can still use and implement it in your code.\nFor the best practice use \"Linked List\" instead of Array, if you want the data to be stored dynamically in the memory, of variable length. </p>\n\n<p>Here's a Real-Time Example based on Dynamic Stacks to INCREASE ARRAY SIZE at Run-Time</p>\n\n<p>File-name: DStack.java</p>\n\n<pre><code>public class DStack {\nprivate int stck[];\nint tos;\n\nvoid Init_Stck(int size) {\n    stck=new int[size];\n    tos=-1;\n}\nint Change_Stck(int size){\n    return stck[size];\n}\n\npublic void push(int item){\n    if(tos==stck.length-1){\n        int temp[]=new int[stck.length+1];\n        for(int i=0;i&lt;stck.length;i++)temp[i]=stck[i];\n        stck=temp;\n        stck[++tos]=item;\n    }\n    else\n        stck[++tos]=item;\n}\npublic int pop(){\n    if(tos&lt;0){\n        System.out.println(\"Stack Underflow\");\n        return 0;\n    }\n    else return stck[tos--];\n}\n\npublic void display(){\n    for(int x=0;x&lt;stck.length;x++){\n        System.out.print(stck[x]+\" \");\n    }\n    System.out.println();\n}\n\n}\n</code></pre>\n\n<p>File-name: Exec.java<br>\n(with the main class)</p>\n\n<pre><code>import java.util.*;\npublic class Exec {\n\nprivate static Scanner in;\n\npublic static void main(String[] args) {\n    in = new Scanner(System.in);\n    int option,item,i=1;\n    DStack obj=new DStack();\n    obj.Init_Stck(1);\n    do{\n        System.out.println();\n        System.out.println(\"--MENU--\");\n        System.out.println(\"1. Push a Value in The Stack\");\n        System.out.println(\"2. Pop a Value from the Stack\");\n        System.out.println(\"3. Display Stack\");\n        System.out.println(\"4. Exit\");\n        option=in.nextInt();\n        switch(option){\n        case 1:\n            System.out.println(\"Enter the Value to be Pushed\");\n            item=in.nextInt();\n            obj.push(item);\n            break;\n        case 2:\n            System.out.println(\"Popped Item: \"+obj.pop());\n            obj.Change_Stck(obj.tos);\n            break;\n        case 3:\n            System.out.println(\"Displaying...\");\n            obj.display();\n            break;\n        case 4:\n            System.out.println(\"Exiting...\");\n            i=0;\n            break;\n        default:\n            System.out.println(\"Enter a Valid Value\");\n\n        }\n    }while(i==1);\n\n}\n\n}\n</code></pre>\n\n<p>Hope this solves your query.</p>\n"},{"tags":[],"owner":{"account_id":11021259,"reputation":11,"user_id":8095431,"display_name":"jyoti bhushan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496298025,"creation_date":1496289067,"answer_id":44298229,"question_id":1647260,"body_markdown":"Yes, we can do this way.\r\n\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Collection_Basic {\r\n    \r\n    \tprivate static Scanner sc;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tObject[] obj=new Object[4];\r\n    \t\tsc = new Scanner(System.in);\r\n    \t\t\r\n    \t\t\r\n    \t\t//Storing element\r\n    \t\tSystem.out.println(&quot;enter your element&quot;);\r\n    \t\tfor(int i=0;i&lt;4;i++){\r\n    \t\t\tobj[i]=sc.nextInt();\r\n    \t\t}\r\n    \t\t\r\n    \t\t/*\r\n    \t\t * here, size reaches with its maximum capacity so u can not store more element,\r\n    \t\t * \r\n    \t\t * for storing more element we have to create new array Object with required size\r\n    \t\t */\r\n    \t\t\r\n    \t\tObject[] tempObj=new Object[10];\r\n    \t\t\r\n    \t\t//copying old array to new Array\r\n    \t\t\r\n    \t\tint oldArraySize=obj.length;\r\n    \t\tint i=0;\r\n    \t\tfor(;i&lt;oldArraySize;i++){\r\n    \t\t\t\r\n    \t\t\ttempObj[i]=obj[i];\r\n    \t\t}\r\n    \t\t\r\n    \t\t/*\r\n    \t\t * storing new element to the end of new Array objebt\r\n    \t\t */\r\n    \t\ttempObj[i]=90;\r\n    \r\n    \t\t//assigning new array Object refeence to the old one\r\n    \t\t\r\n    \t\tobj=tempObj;\r\n    \t\t\r\n    \t\tfor(int j=0;j&lt;obj.length;j++){\r\n    \t\t\tSystem.out.println(&quot;obj[&quot;+j+&quot;] -&quot;+obj[j]);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\n","title":"Java dynamic array sizes?","body":"<p>Yes, we can do this way.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Collection_Basic {\n\n    private static Scanner sc;\n\n    public static void main(String[] args) {\n\n        Object[] obj=new Object[4];\n        sc = new Scanner(System.in);\n\n\n        //Storing element\n        System.out.println(\"enter your element\");\n        for(int i=0;i&lt;4;i++){\n            obj[i]=sc.nextInt();\n        }\n\n        /*\n         * here, size reaches with its maximum capacity so u can not store more element,\n         * \n         * for storing more element we have to create new array Object with required size\n         */\n\n        Object[] tempObj=new Object[10];\n\n        //copying old array to new Array\n\n        int oldArraySize=obj.length;\n        int i=0;\n        for(;i&lt;oldArraySize;i++){\n\n            tempObj[i]=obj[i];\n        }\n\n        /*\n         * storing new element to the end of new Array objebt\n         */\n        tempObj[i]=90;\n\n        //assigning new array Object refeence to the old one\n\n        obj=tempObj;\n\n        for(int j=0;j&lt;obj.length;j++){\n            System.out.println(\"obj[\"+j+\"] -\"+obj[j]);\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4483891,"reputation":177,"user_id":3647184,"display_name":"Bosko Popovic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511908057,"creation_date":1511908057,"answer_id":47541993,"question_id":1647260,"body_markdown":"Since ArrayList takes to much memory when I need array of primitive types, I prefer using IntStream.builder() for creating int array (You can also use LongStream and DoubleStream builders).\r\n\r\nExample:\r\n\r\n    Builder builder = IntStream.builder();\r\n    int arraySize = new Random().nextInt();\r\n    for(int i = 0; i&lt;arraySize; i++ ) {\r\n        builder.add(i);\r\n    }\r\n    int[] array = builder.build().toArray();\r\n\r\nNote: available since Java 8.","title":"Java dynamic array sizes?","body":"<p>Since ArrayList takes to much memory when I need array of primitive types, I prefer using IntStream.builder() for creating int array (You can also use LongStream and DoubleStream builders).</p>\n\n<p>Example:</p>\n\n<pre><code>Builder builder = IntStream.builder();\nint arraySize = new Random().nextInt();\nfor(int i = 0; i&lt;arraySize; i++ ) {\n    builder.add(i);\n}\nint[] array = builder.build().toArray();\n</code></pre>\n\n<p>Note: available since Java 8.</p>\n"},{"tags":[],"owner":{"account_id":3340565,"reputation":1007,"user_id":2806948,"accept_rate":78,"display_name":"Chinthaka Devinda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532317167,"creation_date":1532317167,"answer_id":51471300,"question_id":1647260,"body_markdown":"You can do some thing \r\n\r\n\r\n\r\n\tprivate  static Person []  addPersons(Person[] persons, Person personToAdd) {\r\n\t\tint currentLenght = persons.length;\r\n\t\t\r\n\t\tPerson [] personsArrayNew = Arrays.copyOf(persons, currentLenght +1);\r\n\t\tpersonsArrayNew[currentLenght]  = personToAdd;\r\n\t\t\r\n\t\treturn personsArrayNew;\r\n\t\t\r\n\t}","title":"Java dynamic array sizes?","body":"<p>You can do some thing </p>\n\n<pre><code>private  static Person []  addPersons(Person[] persons, Person personToAdd) {\n    int currentLenght = persons.length;\n\n    Person [] personsArrayNew = Arrays.copyOf(persons, currentLenght +1);\n    personsArrayNew[currentLenght]  = personToAdd;\n\n    return personsArrayNew;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25993260,"reputation":1,"user_id":19705054,"display_name":"shevalye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667295051,"creation_date":1667208624,"answer_id":74261215,"question_id":1647260,"body_markdown":"You can create array with variable containing length. Like new int[n]. And pass n dynamically as argument to method. You can also create array with maximum size you can possibly need. And also create variable to track current size. depends on what your usage is.","title":"Java dynamic array sizes?","body":"<p>You can create array with variable containing length. Like new int[n]. And pass n dynamically as argument to method. You can also create array with maximum size you can possibly need. And also create variable to track current size. depends on what your usage is.</p>\n"}],"owner":{"account_id":68284,"reputation":1335,"user_id":199311,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510199,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"accepted_answer_id":1647277,"answer_count":19,"score":126,"last_activity_date":1681741370,"creation_date":1256860855,"question_id":1647260,"body_markdown":"I have a class - XClass, that I want to load into an array of XClasses:\r\n\r\n    XClass myClass[] = new XClass[10];\r\n    myclass[0] = new XClass();\r\n    myclass[9] = new XClass();\r\n\r\nHowever, I don&#39;t know if I will need 10, 8 or 12 classes or any other number for that matter.  \r\nI won&#39;t know until runtime. \r\n\r\nCan I change the number of elements in an array on the fly?  \r\nIf so, how?\r\n","title":"Java dynamic array sizes?","body":"<p>I have a class - XClass, that I want to load into an array of XClasses:</p>\n<pre><code>XClass myClass[] = new XClass[10];\nmyclass[0] = new XClass();\nmyclass[9] = new XClass();\n</code></pre>\n<p>However, I don't know if I will need 10, 8 or 12 classes or any other number for that matter.<br />\nI won't know until runtime.</p>\n<p>Can I change the number of elements in an array on the fly?<br />\nIf so, how?</p>\n"},{"tags":["java","memory-management","classloader","bytecode"],"answers":[{"tags":[],"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1681321306,"creation_date":1681262221,"answer_id":75991193,"question_id":75988503,"body_markdown":"Verification is described in great detail in the JVM specification, section 4.10.\r\n\r\nhttps://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html#jvms-4.10","title":"java memory management -java class loader","body":"<p>Verification is described in great detail in the JVM specification, section 4.10.</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html#jvms-4.10\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html#jvms-4.10</a></p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681741116,"creation_date":1681740786,"answer_id":76036103,"question_id":75988503,"body_markdown":"I don’t know which other two components this book identified, but I have the strong feeling that the book oversimplifies things or uses terms in different ways than other sources.\r\n\r\nThere is not a single class loader “used to load all the classes” but an arbitrary number of them. Even [the simplest setup] features three of them,\r\n\r\n - The Bootstrap class loader\r\n - The Platform class loader\r\n - The System class loader, also known as Application class loader\r\n\r\nThe responsibility of the class loaders isn’t linking nor verifying, despite you might find contradicting sources for historical reasons. The main responsibility of a class loader is to locate the definition of a class, read it into a byte array or `ByteBuffer`, and pass it to the JVM. It’s the JVM which performs linking and verification.\r\n\r\nIn the very first Java version, the responsibilities were not as well defined as today, therefore sources from that time or sources blatantly copying from such outdated sources may still tell different things.\r\n\r\n---\r\n\r\nOf course, one could try to explain a Java execution environment by splitting it into arbitrary conceptional components and even use names clashing with terms used in other documentations. That’s not necessarily wrong, but obviously will cause confusion as soon as you try to match this explanation with other sources.\r\n\r\n---\r\n\r\nWhen you generate bytecode, e.g. by compiling source code, the bytecode is in theory correct and consistent but there are strong reasons not to trust the bytecode blindly in an execution environment.\r\n\r\n - There is no guaranty that all components (libraries or classes) used in the execution environment are the same version used when compiling. Classes or libraries could have changed in an incompatible way after the classes or libraries using them had been compiled.\r\n\r\n - There is no guarantee that all tools involved (compilers or other code generators) were free of bugs\r\n\r\n - There could be intentional modifications to the compiled code, to circumvent access restrictions or compromise the execution environment in some other way.  \r\n   This was more an issue of the past, when Applets or Webstart applications, in other words, code downloaded from arbitrary internet sources supposed to run with a security manager, were a thing.\r\n\r\nA summary is given in [The Java Language Specification]:\r\n\r\n&gt; *Verification* ensures that the binary representation of a class or interface is structurally correct. For example, it checks that every instruction has a valid operation code; that every branch instruction branches to the start of some other instruction, rather than into the middle of an instruction; that every method is provided with a structurally correct signature; and that every instruction obeys the type discipline of the Java Virtual Machine.\r\n\r\nThere’s also a chapter in [The Java Virtual Machine Specification] acknowledging the rationale given above:\r\n\r\n&gt; Even though a compiler for the Java programming language must only produce *class* files that satisfy all the static and structural constraints in the previous sections, the Java Virtual Machine has no guarantee that any file it is asked to load was generated by that compiler or is properly formed. Applications such as web browsers do not download source code, which they then compile; these applications download already-compiled *class* files. The browser needs to determine whether the *class* file was produced by a trustworthy compiler or by an adversary attempting to exploit the Java Virtual Machine.\r\n&gt; \r\n&gt; *An additional problem with compile-time checking is version skew*. …\r\n\r\n[the simplest setup]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#builtinLoaders\r\n[The Java Language Specification]: https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.3.1\r\n[The Java Virtual Machine Specification]: https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html#jvms-4.10","title":"java memory management -java class loader","body":"<p>I don’t know which other two components this book identified, but I have the strong feeling that the book oversimplifies things or uses terms in different ways than other sources.</p>\n<p>There is not a single class loader “used to load all the classes” but an arbitrary number of them. Even <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ClassLoader.html#builtinLoaders\" rel=\"nofollow noreferrer\">the simplest setup</a> features three of them,</p>\n<ul>\n<li>The Bootstrap class loader</li>\n<li>The Platform class loader</li>\n<li>The System class loader, also known as Application class loader</li>\n</ul>\n<p>The responsibility of the class loaders isn’t linking nor verifying, despite you might find contradicting sources for historical reasons. The main responsibility of a class loader is to locate the definition of a class, read it into a byte array or <code>ByteBuffer</code>, and pass it to the JVM. It’s the JVM which performs linking and verification.</p>\n<p>In the very first Java version, the responsibilities were not as well defined as today, therefore sources from that time or sources blatantly copying from such outdated sources may still tell different things.</p>\n<hr />\n<p>Of course, one could try to explain a Java execution environment by splitting it into arbitrary conceptional components and even use names clashing with terms used in other documentations. That’s not necessarily wrong, but obviously will cause confusion as soon as you try to match this explanation with other sources.</p>\n<hr />\n<p>When you generate bytecode, e.g. by compiling source code, the bytecode is in theory correct and consistent but there are strong reasons not to trust the bytecode blindly in an execution environment.</p>\n<ul>\n<li><p>There is no guaranty that all components (libraries or classes) used in the execution environment are the same version used when compiling. Classes or libraries could have changed in an incompatible way after the classes or libraries using them had been compiled.</p>\n</li>\n<li><p>There is no guarantee that all tools involved (compilers or other code generators) were free of bugs</p>\n</li>\n<li><p>There could be intentional modifications to the compiled code, to circumvent access restrictions or compromise the execution environment in some other way.<br />\nThis was more an issue of the past, when Applets or Webstart applications, in other words, code downloaded from arbitrary internet sources supposed to run with a security manager, were a thing.</p>\n</li>\n</ul>\n<p>A summary is given in <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-12.html#jls-12.3.1\" rel=\"nofollow noreferrer\">The Java Language Specification</a>:</p>\n<blockquote>\n<p><em>Verification</em> ensures that the binary representation of a class or interface is structurally correct. For example, it checks that every instruction has a valid operation code; that every branch instruction branches to the start of some other instruction, rather than into the middle of an instruction; that every method is provided with a structurally correct signature; and that every instruction obeys the type discipline of the Java Virtual Machine.</p>\n</blockquote>\n<p>There’s also a chapter in <a href=\"https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html#jvms-4.10\" rel=\"nofollow noreferrer\">The Java Virtual Machine Specification</a> acknowledging the rationale given above:</p>\n<blockquote>\n<p>Even though a compiler for the Java programming language must only produce <em>class</em> files that satisfy all the static and structural constraints in the previous sections, the Java Virtual Machine has no guarantee that any file it is asked to load was generated by that compiler or is properly formed. Applications such as web browsers do not download source code, which they then compile; these applications download already-compiled <em>class</em> files. The browser needs to determine whether the <em>class</em> file was produced by a trustworthy compiler or by an adversary attempting to exploit the Java Virtual Machine.</p>\n<p><em>An additional problem with compile-time checking is version skew</em>. …</p>\n</blockquote>\n"}],"owner":{"account_id":23948812,"reputation":21,"user_id":17940759,"display_name":"opreddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1681741116,"creation_date":1681233075,"question_id":75988503,"body_markdown":"I am a beginner in java,for understanding java memory management i was reading book &#39;Java Memory Management\r\nBy Maaike van Putten , Se&#225;n Kennedy &#39; I encountered this statement &quot;To be able to execute applications, the JVM has roughly three components in place. One is used to load all the classes, the class loader. This is actually a complex process in itself; the classes are loaded and the bytecode is verified.&quot;\r\n\r\nwhat does class loader verify in bytecode (As i read all syntax verification ,access verification is done while generating bytecode not after generated and loading) can explain what exactly class loader is trying to verify in bytecode","title":"java memory management -java class loader","body":"<p>I am a beginner in java,for understanding java memory management i was reading book 'Java Memory Management\nBy Maaike van Putten , Seán Kennedy ' I encountered this statement &quot;To be able to execute applications, the JVM has roughly three components in place. One is used to load all the classes, the class loader. This is actually a complex process in itself; the classes are loaded and the bytecode is verified.&quot;</p>\n<p>what does class loader verify in bytecode (As i read all syntax verification ,access verification is done while generating bytecode not after generated and loading) can explain what exactly class loader is trying to verify in bytecode</p>\n"},{"tags":["java","annotations","aspectj"],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681741108,"creation_date":1681741108,"answer_id":76036146,"question_id":76033037,"body_markdown":"Your syntax is wrong. For unbound annotations it would be correct to use the fully qualified class name:\r\n\r\n```java\r\n@Around(&quot;@annotation(com.myorg.authorization.annotations.Authorize)&quot;)\r\npublic void validate(ProceedingJoinPoint point) throws Throwable\r\n```\r\n\r\nFor an annotation bound to an advice method parameter, you only use the parameter name as a reference:\r\n\r\n```java\r\n@Around(&quot;@annotation(authorize)&quot;)\r\npublic void validate(ProceedingJoinPoint point, Authorize authorize) throws Throwable\r\n```\r\n\r\nBy the way: If your around advice returns `void`, it can only match methods with the same return type. If the target method returns anything else, your advice needs to return the result of `proceed()` or something other matching the actual return type.\r\n\r\nPlease also make sure to adhere to Java naming conventions. `AuthValidator` looks like a class name. Method names should not be nouns like `SomeObject` but verbal descriptions like `doSomething`, starting with a lower-case character.","title":"Getting error error at ::0 formal unbound in pointcut while accessing annotation value inside an advice using ApectJ","body":"<p>Your syntax is wrong. For unbound annotations it would be correct to use the fully qualified class name:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(&quot;@annotation(com.myorg.authorization.annotations.Authorize)&quot;)\npublic void validate(ProceedingJoinPoint point) throws Throwable\n</code></pre>\n<p>For an annotation bound to an advice method parameter, you only use the parameter name as a reference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(&quot;@annotation(authorize)&quot;)\npublic void validate(ProceedingJoinPoint point, Authorize authorize) throws Throwable\n</code></pre>\n<p>By the way: If your around advice returns <code>void</code>, it can only match methods with the same return type. If the target method returns anything else, your advice needs to return the result of <code>proceed()</code> or something other matching the actual return type.</p>\n<p>Please also make sure to adhere to Java naming conventions. <code>AuthValidator</code> looks like a class name. Method names should not be nouns like <code>SomeObject</code> but verbal descriptions like <code>doSomething</code>, starting with a lower-case character.</p>\n"}],"owner":{"account_id":5758155,"reputation":3,"user_id":4545373,"display_name":"Pavan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76036146,"answer_count":1,"score":0,"last_activity_date":1681741108,"creation_date":1681719465,"question_id":76033037,"body_markdown":"I&#39;m trying to access custom annotation value inside an advice method but getting an error\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryConfiguration$EmbeddedTomcat&#39;: Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 formal unbound in pointcut \r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:610)\r\nCaused by: java.lang.IllegalArgumentException: error at ::0 formal unbound in pointcut\r\n```\r\n\r\nAnnotation declaration\r\n\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.METHOD})\r\npublic @interface Authorize {\r\n    String[] entitlements() default &quot;&quot;;\r\n}\r\n```\r\n\r\nThis issue happening with second argument in the method, if I removed the second argument application starts properly.\r\n\r\n```\r\n@Aspect\r\n@Component\r\npublic class AspectHandler{\r\n    @Around(value = &quot;@annotation(com.myorg.authorization.annotations.Authorize)&quot;)\r\n    public void AuthValidator(ProceedingJoinPoint point, Authorize authorize) throws Throwable {\r\n        String[] entitlements = authorize.entitlements();\r\n        point.proceed();\r\n    }\r\n}\r\n```\r\n\r\nI tried with argNames argument, still it doesn&#39;t work\r\n \r\n```\r\n@Around(value = &quot;@annotation(com.virtana.authorization.annotations.Authorize)&quot;, argNames = &quot;authorize&quot;)\r\n```\r\n\r\nalso tried \r\n```\r\n@Around(value = &quot;@annotation(com.virtana.authorization.annotations.Authorize) &amp;&amp; args=authorize&quot;)\r\n```","title":"Getting error error at ::0 formal unbound in pointcut while accessing annotation value inside an advice using ApectJ","body":"<p>I'm trying to access custom annotation value inside an advice method but getting an error</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.ServletWebServerFactoryConfiguration$EmbeddedTomcat': Initialization of bean failed; nested exception is java.lang.IllegalArgumentException: error at ::0 formal unbound in pointcut \n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:610)\nCaused by: java.lang.IllegalArgumentException: error at ::0 formal unbound in pointcut\n</code></pre>\n<p>Annotation declaration</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD})\npublic @interface Authorize {\n    String[] entitlements() default &quot;&quot;;\n}\n</code></pre>\n<p>This issue happening with second argument in the method, if I removed the second argument application starts properly.</p>\n<pre><code>@Aspect\n@Component\npublic class AspectHandler{\n    @Around(value = &quot;@annotation(com.myorg.authorization.annotations.Authorize)&quot;)\n    public void AuthValidator(ProceedingJoinPoint point, Authorize authorize) throws Throwable {\n        String[] entitlements = authorize.entitlements();\n        point.proceed();\n    }\n}\n</code></pre>\n<p>I tried with argNames argument, still it doesn't work</p>\n<pre><code>@Around(value = &quot;@annotation(com.virtana.authorization.annotations.Authorize)&quot;, argNames = &quot;authorize&quot;)\n</code></pre>\n<p>also tried</p>\n<pre><code>@Around(value = &quot;@annotation(com.virtana.authorization.annotations.Authorize) &amp;&amp; args=authorize&quot;)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hikaricp"],"comments":[{"owner":{"account_id":14713804,"reputation":620,"user_id":10811865,"display_name":"SirHawrk"},"score":0,"creation_date":1627622334,"post_id":68584490,"comment_id":121209899,"body_markdown":"Would you want to measure it in Code and do something with it or just as a debug notification?","body":"Would you want to measure it in Code and do something with it or just as a debug notification?"},{"owner":{"account_id":5968459,"reputation":330,"user_id":4691557,"accept_rate":100,"display_name":"Kyle"},"score":0,"creation_date":1627653164,"post_id":68584490,"comment_id":121220821,"body_markdown":"We have an application that takes a long time to get a DB connection so I&#39;m trying to understand the behavior more, so I want to log it.","body":"We have an application that takes a long time to get a DB connection so I&#39;m trying to understand the behavior more, so I want to log it."},{"owner":{"account_id":4064173,"reputation":2159,"user_id":3339758,"display_name":"Tim"},"score":0,"creation_date":1627662592,"post_id":68584490,"comment_id":121224808,"body_markdown":"Could you include some of the code that you are looking to profile? If I recall correctly, I think you can populate variables with start/stop times and other counters, then look at these variables in real time with JMX.","body":"Could you include some of the code that you are looking to profile? If I recall correctly, I think you can populate variables with start/stop times and other counters, then look at these variables in real time with JMX."},{"owner":{"account_id":5968459,"reputation":330,"user_id":4691557,"accept_rate":100,"display_name":"Kyle"},"score":0,"creation_date":1627664413,"post_id":68584490,"comment_id":121225446,"body_markdown":"HikariPool-0 - Connection is not available, request timed out after 30000ms. Means pool waited 30000ms for free connection but the application not returned any connection meanwhile, so I&#39;m trying ti log and see how long it take to get the connection","body":"HikariPool-0 - Connection is not available, request timed out after 30000ms. Means pool waited 30000ms for free connection but the application not returned any connection meanwhile, so I&#39;m trying ti log and see how long it take to get the connection"}],"answers":[{"tags":[],"owner":{"account_id":1535881,"reputation":121,"user_id":1431949,"display_name":"luish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681740474,"creation_date":1681740474,"answer_id":76036061,"question_id":68584490,"body_markdown":"You can use the HikariCP collected metrics such as `hikaricp_connections_acquire_seconds` via Prometheus (endpoint /actuator/prometheus if enabled).\r\n\r\nSource:\r\nhttps://github.com/brettwooldridge/HikariCP/blob/HikariCP-5.0.1/src/main/java/com/zaxxer/hikari/metrics/micrometer/MicrometerMetricsTracker.java","title":"Is there a way to log the time it takes to acquire connection in hikari?","body":"<p>You can use the HikariCP collected metrics such as <code>hikaricp_connections_acquire_seconds</code> via Prometheus (endpoint /actuator/prometheus if enabled).</p>\n<p>Source:\n<a href=\"https://github.com/brettwooldridge/HikariCP/blob/HikariCP-5.0.1/src/main/java/com/zaxxer/hikari/metrics/micrometer/MicrometerMetricsTracker.java\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP/blob/HikariCP-5.0.1/src/main/java/com/zaxxer/hikari/metrics/micrometer/MicrometerMetricsTracker.java</a></p>\n"}],"owner":{"account_id":5968459,"reputation":330,"user_id":4691557,"accept_rate":100,"display_name":"Kyle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681740474,"creation_date":1627609248,"question_id":68584490,"body_markdown":"Is there a way to log/know the time it takes to acquire a connection in HikariCP within the Springboot application?\r\n\r\nI was thinking if there is a way to measure getConnection in hikariCP, any suggestion?\r\n","title":"Is there a way to log the time it takes to acquire connection in hikari?","body":"<p>Is there a way to log/know the time it takes to acquire a connection in HikariCP within the Springboot application?</p>\n<p>I was thinking if there is a way to measure getConnection in hikariCP, any suggestion?</p>\n"},{"tags":["java","graphics","rgb","cmyk"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1490642969,"post_id":43054821,"comment_id":73194298,"body_markdown":"Your question is unclear.  All monitors are RGB. There is not a distinct 1-to-1 mapping to CMYK as that mapping depends on many factors such as rendering dot size, ink absorption spectrum, and a whole host of other factors that change rendering.  Even then there can be more than one way to map RGB to CMYK, and then there&#39;s gamut considerations.  It&#39;s not even clear what you want to do.  If by _&quot;show CMYK colour in java like light purple&quot;_ you mean &quot;show what the CMYK color would look like, but on the screen&quot;, this is completely impossible to do with any hope of accuracy.","body":"Your question is unclear.  All monitors are RGB. There is not a distinct 1-to-1 mapping to CMYK as that mapping depends on many factors such as rendering dot size, ink absorption spectrum, and a whole host of other factors that change rendering.  Even then there can be more than one way to map RGB to CMYK, and then there&#39;s gamut considerations.  It&#39;s not even clear what you want to do.  If by <i>&quot;show CMYK colour in java like light purple&quot;</i> you mean &quot;show what the CMYK color would look like, but on the screen&quot;, this is completely impossible to do with any hope of accuracy."},{"owner":{"account_id":6839278,"reputation":101,"user_id":5260190,"display_name":"Ms.Sahin"},"score":0,"creation_date":1490643164,"post_id":43054821,"comment_id":73194406,"body_markdown":"@JimGarrison but my task is allowing color space conversion from RGB to CMYK and CMYK to RGB. Additionally implement the presentation of the user-selected color.","body":"@JimGarrison but my task is allowing color space conversion from RGB to CMYK and CMYK to RGB. Additionally implement the presentation of the user-selected color."},{"owner":{"account_id":153967,"reputation":1960,"user_id":369604,"accept_rate":77,"display_name":"Loduwijk"},"score":0,"creation_date":1490643352,"post_id":43054821,"comment_id":73194512,"body_markdown":"Essentially a duplicate of http://stackoverflow.com/questions/4858131/rgb-to-cmyk-and-back-algorithm The answer would be to convert back and forth, as done in the accepted answer to that linked question (which is also in the list to the right, under &quot;Related&quot;). However, take notice of the comment from @JimGarrison and consider that carefully.","body":"Essentially a duplicate of <a href=\"http://stackoverflow.com/questions/4858131/rgb-to-cmyk-and-back-algorithm\" title=\"rgb to cmyk and back algorithm\">stackoverflow.com/questions/4858131/&hellip;</a> The answer would be to convert back and forth, as done in the accepted answer to that linked question (which is also in the list to the right, under &quot;Related&quot;). However, take notice of the comment from @JimGarrison and consider that carefully."}],"answers":[{"tags":[],"owner":{"account_id":5373496,"reputation":171,"user_id":6735989,"display_name":"Derek Hunter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1490643162,"creation_date":1490643162,"answer_id":43054938,"question_id":43054821,"body_markdown":"It looks to me like the java color class, has a constructor for making a color object in cmyk \r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/awt/Color.html#Color(java.awt.color.ColorSpace,%20float[],%20float)\r\n\r\nand \r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/awt/color/ColorSpace.html\r\n\r\nSo you would end up with something like \r\n\r\n`Color cmykColorValue = new Color(TYPE_CMYK, [cValue, mValue, yValue, kValue], alpha)`\r\n\r\nWhere alpha is form 0 to 1, and cValue, mValue, yValue, kValue are the corresponding cmyk values.\r\n\r\nThat should make a new CMYK color object that can be used anywhere a color object can be used.","title":"Draw CMYK Color from RGB","body":"<p>It looks to me like the java color class, has a constructor for making a color object in cmyk </p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Color.html#Color(java.awt.color.ColorSpace,%20float[],%20float)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/awt/Color.html#Color(java.awt.color.ColorSpace,%20float[],%20float)</a></p>\n\n<p>and </p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/color/ColorSpace.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/awt/color/ColorSpace.html</a></p>\n\n<p>So you would end up with something like </p>\n\n<p><code>Color cmykColorValue = new Color(TYPE_CMYK, [cValue, mValue, yValue, kValue], alpha)</code></p>\n\n<p>Where alpha is form 0 to 1, and cValue, mValue, yValue, kValue are the corresponding cmyk values.</p>\n\n<p>That should make a new CMYK color object that can be used anywhere a color object can be used.</p>\n"},{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681740296,"creation_date":1544782196,"answer_id":53777574,"question_id":43054821,"body_markdown":"The correct usage of the Color constructor for CMYK is as follows:\r\n\r\n    java.awt.Color cmyk = new Color(ColorSpace.getInstance(ColorSpace.TYPE_CMYK), new float [] {cyan,magenta,yellow}, key/alpha);\r\n\r\n**Update**: As Jin correctly mentioned there is no support in the `ColorSpace.getInstance(ColorSpace.TYPE_CMYK)` method in Java. (throws an Illegal argument Exception. \r\nI see three possibilities:\r\n\r\n 1. Use the [CMYKColorSpace][1] from the [jcgm project][2] \r\n 2. [Apache XML Graphics Commons][3] also has an implementation: org.apache.xmlgraphics.java2d.color.DeviceCMYKColorSpace \r\n \r\n        ColorSpace cs = new DeviceCMYKColorSpace();\r\n        float[] cmyk = cs.fromRGB(new float[] {0.1f, 0.5f, 0.9f});\r\n        \r\n 3. Use the CMYK color space by loading a CMYK ICC profile which then can be used to create a ColorSpace object. \r\n          \r\n        ICC_Profile cmykProfile = ICC_Profile.getInstance(&quot;path/to/cmyk/profile.icc&quot;);\r\n        ColorSpace cmykColorSpace = new ICC_ColorSpace(cmykProfile);\r\n        Color cmykColor = new Color(cmykColorSpace, new float[]{0.5f, 0.25f, 0.75f, 0.1f}, 1.0f);\r\n\r\n\r\n  [1]: https://jcgm.sourceforge.net/api/net/sf/jcgm/core/CMYKColorSpace.html\r\n  [2]: https://sourceforge.net/p/jcgm/code/HEAD/tree/core/trunk/src/net/sf/jcgm/core/CMYKColorSpace.java\r\n  [3]: https://xmlgraphics.apache.org/commons/","title":"Draw CMYK Color from RGB","body":"<p>The correct usage of the Color constructor for CMYK is as follows:</p>\n<pre><code>java.awt.Color cmyk = new Color(ColorSpace.getInstance(ColorSpace.TYPE_CMYK), new float [] {cyan,magenta,yellow}, key/alpha);\n</code></pre>\n<p><strong>Update</strong>: As Jin correctly mentioned there is no support in the <code>ColorSpace.getInstance(ColorSpace.TYPE_CMYK)</code> method in Java. (throws an Illegal argument Exception.\nI see three possibilities:</p>\n<ol>\n<li><p>Use the <a href=\"https://jcgm.sourceforge.net/api/net/sf/jcgm/core/CMYKColorSpace.html\" rel=\"nofollow noreferrer\">CMYKColorSpace</a> from the <a href=\"https://sourceforge.net/p/jcgm/code/HEAD/tree/core/trunk/src/net/sf/jcgm/core/CMYKColorSpace.java\" rel=\"nofollow noreferrer\">jcgm project</a></p>\n</li>\n<li><p><a href=\"https://xmlgraphics.apache.org/commons/\" rel=\"nofollow noreferrer\">Apache XML Graphics Commons</a> also has an implementation: org.apache.xmlgraphics.java2d.color.DeviceCMYKColorSpace</p>\n<pre><code>ColorSpace cs = new DeviceCMYKColorSpace();\nfloat[] cmyk = cs.fromRGB(new float[] {0.1f, 0.5f, 0.9f});\n</code></pre>\n</li>\n<li><p>Use the CMYK color space by loading a CMYK ICC profile which then can be used to create a ColorSpace object.</p>\n<pre><code>ICC_Profile cmykProfile = ICC_Profile.getInstance(&quot;path/to/cmyk/profile.icc&quot;);\nColorSpace cmykColorSpace = new ICC_ColorSpace(cmykProfile);\nColor cmykColor = new Color(cmykColorSpace, new float[]{0.5f, 0.25f, 0.75f, 0.1f}, 1.0f);\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":6839278,"reputation":101,"user_id":5260190,"display_name":"Ms.Sahin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2287,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":43054938,"answer_count":2,"score":3,"last_activity_date":1681740296,"creation_date":1490642744,"question_id":43054821,"body_markdown":"[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cqSOh.png\r\n\r\nHello. I have a screen like above. By using the sliders, I get red, green, blue. Also, I calculate cyan, magenta, yellow and from red, green, blue for CMYK. My question is that is there any way to show CMYK colour in java like light purple in the picture.\r\n\r\n    private void stateChanged() {\r\n          red= sliderRed.getValue();\r\n          green= sliderGreen.getValue();\r\n          blue= sliderBlue.getValue();\r\n          txt_background.setBackground(new Color(red, green, blue));\r\n    }\r\n\r\n ","title":"Draw CMYK Color from RGB","body":"<p><a href=\"https://i.stack.imgur.com/cqSOh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cqSOh.png\" alt=\"\"></a></p>\n\n<p>Hello. I have a screen like above. By using the sliders, I get red, green, blue. Also, I calculate cyan, magenta, yellow and from red, green, blue for CMYK. My question is that is there any way to show CMYK colour in java like light purple in the picture.</p>\n\n<pre><code>private void stateChanged() {\n      red= sliderRed.getValue();\n      green= sliderGreen.getValue();\n      blue= sliderBlue.getValue();\n      txt_background.setBackground(new Color(red, green, blue));\n}\n</code></pre>\n"},{"tags":["java","frida"],"comments":[{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681743285,"post_id":76036006,"comment_id":134102003,"body_markdown":"Friday&#39;s `Java.array` method wants the component type as first arg. Thus, `Java.array(&#39;[Ljava....&#39;)` makes no sense, that would make a `String[][]`. Also, that value makes no sense; `[L` is binaryspeak, and requires slashes: `[Ljava.lang.String;` is meaningless; at best it should be `[Ljava/lang/String;`","body":"Friday&#39;s <code>Java.array</code> method wants the component type as first arg. Thus, <code>Java.array(&#39;[Ljava....&#39;)</code> makes no sense, that would make a <code>String[][]</code>. Also, that value makes no sense; <code>[L</code> is binaryspeak, and requires slashes: <code>[Ljava.lang.String;</code> is meaningless; at best it should be <code>[Ljava&#47;lang&#47;String;</code>"},{"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681743305,"post_id":76036006,"comment_id":134102010,"body_markdown":"I&#39;m not personally familiar with Frida, it could be that `[Ljava.lang.String;` is some frida-specific invention, but if it is, that is utterly bizarre.","body":"I&#39;m not personally familiar with Frida, it could be that <code>[Ljava.lang.String;</code> is some frida-specific invention, but if it is, that is utterly bizarre."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1681748951,"post_id":76036006,"comment_id":134103492,"body_markdown":"In my understanding `Java.array(..)` requires a JavaScript array as second parameter. It is designed to make an JavaScript array that can be used when calling a Java method. So I don&#39;t think it can be used to cast a Java object to an array. BTW: where does `obj` come from? Of what type is `obj`?","body":"In my understanding <code>Java.array(..)</code> requires a JavaScript array as second parameter. It is designed to make an JavaScript array that can be used when calling a Java method. So I don&#39;t think it can be used to cast a Java object to an array. BTW: where does <code>obj</code> come from? Of what type is <code>obj</code>?"},{"owner":{"account_id":16526139,"reputation":185,"user_id":11940848,"display_name":"Kaspek"},"score":0,"creation_date":1681754810,"post_id":76036006,"comment_id":134104888,"body_markdown":"@Robert it&#39;s from .invoke method first argument, so its object","body":"@Robert it&#39;s from .invoke method first argument, so its object"},{"owner":{"account_id":16526139,"reputation":185,"user_id":11940848,"display_name":"Kaspek"},"score":0,"creation_date":1681754830,"post_id":76036006,"comment_id":134104892,"body_markdown":"also you have any other ideas how to iterate String[] then?","body":"also you have any other ideas how to iterate String[] then?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1682171065,"post_id":76036006,"comment_id":134175064,"body_markdown":"I am not sure what is your problem. I have an app which has a method `public byte[] String processStringArray(String[] array)`. If I hook this method in Frida `activityClass.processStringArray.implementation = function(data) {...` . No cast or something else needed to access data. I can simply execute `data.length` or get the entry `data[i]` in a loop. Please provide a minimal reproducible example of Frida code and the mthod name and signature of the method you have hooked.","body":"I am not sure what is your problem. I have an app which has a method <code>public byte[] String processStringArray(String[] array)</code>. If I hook this method in Frida <code>activityClass.processStringArray.implementation = function(data) {...</code> . No cast or something else needed to access data. I can simply execute <code>data.length</code> or get the entry <code>data[i]</code> in a loop. Please provide a minimal reproducible example of Frida code and the mthod name and signature of the method you have hooked."},{"owner":{"account_id":16526139,"reputation":185,"user_id":11940848,"display_name":"Kaspek"},"score":0,"creation_date":1683034957,"post_id":76036006,"comment_id":134302423,"body_markdown":"@Robert Yeah but i have it casted from Object, i dont have in method String[] arr, i have Object","body":"@Robert Yeah but i have it casted from Object, i dont have in method String[] arr, i have Object"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1683035757,"post_id":76036006,"comment_id":134302605,"body_markdown":"Please add the method signature of the Java method you have hooked and the hooking code. Without it is very hard to understand your question.","body":"Please add the method signature of the Java method you have hooked and the hooking code. Without it is very hard to understand your question."},{"owner":{"account_id":16526139,"reputation":185,"user_id":11940848,"display_name":"Kaspek"},"score":0,"creation_date":1683040458,"post_id":76036006,"comment_id":134303884,"body_markdown":"@Robert public Object invoke(Object obj, Object... args) its from java.lang.reflect","body":"@Robert public Object invoke(Object obj, Object... args) its from java.lang.reflect"}],"owner":{"account_id":16526139,"reputation":185,"user_id":11940848,"display_name":"Kaspek"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681740141,"creation_date":1681740141,"question_id":76036006,"body_markdown":"I tried to iterate all strings from String[] using that code, but in all my tries it failed with error\r\n\r\n```\r\nlet str = &quot;&quot;\r\nlet obj_ = Java.cast(obj, Java.use(&quot;[Ljava.lang.String;&quot;));\r\n\r\nconsole.log(&quot;obj: &quot; + JSON.stringify(obj))\r\nconsole.log(&quot;obj after cast: &quot; + JSON.stringify(obj_))\r\n\r\ntry {\r\n\tlet arr = Java.array(&#39;java.lang.String&#39;, obj_)\r\n} catch (e) {\r\n\tconsole.log(&quot;error 1: &quot; + e)\r\n}\r\n\r\ntry {\r\n\tlet arr = Java.array(&#39;[Ljava.lang.String;&#39;, obj_)\r\n} catch (e) {\r\n\tconsole.log(&quot;error 2: &quot; + e)\r\n}\r\n\r\ntry {\r\n\tlet arr = Java.array(&#39;java.lang.String&#39;, obj)\r\n} catch (e) {\r\n\tconsole.log(&quot;error 3: &quot; + e)\r\n}\r\n\r\ntry {\r\n\tlet arr = Java.array(&#39;[Ljava.lang.String;&#39;, obj)\r\n} catch (e) {\r\n\tconsole.log(&quot;error 4: &quot; + e)\r\n}\r\n\r\n// for (let i = 0; i &lt; arr.length; i++) {\r\n//     str = str + obj_[i] + &quot;,&quot;\r\n// }\r\nconsole.log(&quot;str: &quot; + str + &quot; | length: &quot; + obj_.length)\r\nreturn obj_.toString()\r\n```\r\n\r\nresult:\r\n```\r\nobj: &quot;&lt;instance: java.lang.Object, $className: [Ljava.lang.String;&gt;&quot;\r\nobj after cast: &quot;&lt;instance: [Ljava.lang.String;&gt;&quot;\r\nerror 1: Error: Expected an array\r\nerror 2: Error: Expected an array\r\nerror 3: Error: Expected an array\r\nerror 4: Error: Expected an array\r\nstr:  | length: undefined\r\n```\r\n\r\nI used four try catch to find if any of those method would work, but with no luck.","title":"Frida Java.array on string array fail after casting from object","body":"<p>I tried to iterate all strings from String[] using that code, but in all my tries it failed with error</p>\n<pre><code>let str = &quot;&quot;\nlet obj_ = Java.cast(obj, Java.use(&quot;[Ljava.lang.String;&quot;));\n\nconsole.log(&quot;obj: &quot; + JSON.stringify(obj))\nconsole.log(&quot;obj after cast: &quot; + JSON.stringify(obj_))\n\ntry {\n    let arr = Java.array('java.lang.String', obj_)\n} catch (e) {\n    console.log(&quot;error 1: &quot; + e)\n}\n\ntry {\n    let arr = Java.array('[Ljava.lang.String;', obj_)\n} catch (e) {\n    console.log(&quot;error 2: &quot; + e)\n}\n\ntry {\n    let arr = Java.array('java.lang.String', obj)\n} catch (e) {\n    console.log(&quot;error 3: &quot; + e)\n}\n\ntry {\n    let arr = Java.array('[Ljava.lang.String;', obj)\n} catch (e) {\n    console.log(&quot;error 4: &quot; + e)\n}\n\n// for (let i = 0; i &lt; arr.length; i++) {\n//     str = str + obj_[i] + &quot;,&quot;\n// }\nconsole.log(&quot;str: &quot; + str + &quot; | length: &quot; + obj_.length)\nreturn obj_.toString()\n</code></pre>\n<p>result:</p>\n<pre><code>obj: &quot;&lt;instance: java.lang.Object, $className: [Ljava.lang.String;&gt;&quot;\nobj after cast: &quot;&lt;instance: [Ljava.lang.String;&gt;&quot;\nerror 1: Error: Expected an array\nerror 2: Error: Expected an array\nerror 3: Error: Expected an array\nerror 4: Error: Expected an array\nstr:  | length: undefined\n</code></pre>\n<p>I used four try catch to find if any of those method would work, but with no luck.</p>\n"},{"tags":["java","authentication","active-directory","ldap","ldapauth"],"comments":[{"owner":{"account_id":2130119,"reputation":6881,"user_id":1891133,"accept_rate":60,"display_name":"Max"},"score":0,"creation_date":1632915300,"post_id":69367462,"comment_id":122620787,"body_markdown":"Any special charter on the password that is not correctly escaped?","body":"Any special charter on the password that is not correctly escaped?"},{"owner":{"account_id":3238984,"reputation":585,"user_id":2732482,"accept_rate":0,"display_name":"Malik"},"score":0,"creation_date":1632933133,"post_id":69367462,"comment_id":122629319,"body_markdown":"@Max , we have special character in the password @ , do we need some special treatment for the special character&#39;s","body":"@Max , we have special character in the password @ , do we need some special treatment for the special character&#39;s"}],"answers":[{"tags":[],"owner":{"account_id":15239144,"reputation":1,"user_id":10995951,"display_name":"Luis Ribeiro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681740114,"creation_date":1681740114,"answer_id":76036003,"question_id":69367462,"body_markdown":"Is this problem still unsolved? \r\nOnly differences I can see from what I use here is that on the SECURITY_AUTHENTICATION we use &quot;simple&quot;, with no capital letters at all, and we add the port to the provider URL (URL:389 in your case).","title":"LDAP Authentication Exception error code 49","body":"<p>Is this problem still unsolved?\nOnly differences I can see from what I use here is that on the SECURITY_AUTHENTICATION we use &quot;simple&quot;, with no capital letters at all, and we add the port to the provider URL (URL:389 in your case).</p>\n"}],"owner":{"account_id":3238984,"reputation":585,"user_id":2732482,"accept_rate":0,"display_name":"Malik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1095,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681740114,"creation_date":1632857116,"question_id":69367462,"body_markdown":"My customer is using AD , and I need to authenticate my user in java via LDAP, I wrote this simple code \r\n\r\n   \r\n\r\n     Hashtable env = new Hashtable();\r\n        env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n        env.put(Context.PROVIDER_URL, &quot;ldap://10.254.***.***);\r\n        env.put(Context.SECURITY_AUTHENTICATION, &quot;Simple&quot;);\r\n        env.put(Context.SECURITY_PRINCIPAL, &quot;cn=s***.u***,ou=All Users,dc=p***,dc=net,dc=**&quot;);\r\n        env.put(Context.SECURITY_CREDENTIALS, &quot;******&quot;);\r\n         \r\n        try {\r\n            DirContext ctx = new InitialDirContext(env);\r\n            System.out.println(&quot;connected&quot;);\r\n            System.out.println(ctx.getEnvironment());\r\n             \r\n            // do something useful with the context...\r\n         \r\n            ctx.close();\r\n         \r\n        } catch (AuthenticationNotSupportedException ex) {\r\n            System.out.println(&quot;The authentication is not supported by the server&quot;+ex);\r\n        } catch (AuthenticationException ex) {\r\n            System.out.println(&quot;incorrect password or username&quot;+ex);\r\n        } *catch (NamingException ex) {\r\n            System.out.println(&quot;error when trying to create the context&quot;+ex);\r\n        }\r\n            }*\r\n\r\nThis code throw following exception \r\n\r\nincorrect password or usernamejavax.naming.AuthenticationException: [LDAP: error\r\n code 49 - 80090308: LdapErr: DSID-0C090453, comment: AcceptSecurityContext error\r\nr, data 52e, v3839 ]\r\n\r\n\r\nhowever I can connect from the same user via Ad Explorer \r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fFwtt.png\r\n  [2]: https://i.stack.imgur.com/xBDcy.png\r\n\r\nAs i am able to connect with Ad Explorer , Should be able to connect with Java application as well. \r\n\r\nWhat is wrong inside my code , any help\r\n\r\n**EDIT** \r\nCustomer is having 2 ADs, AD1, AD2 and AD1 has trusted relation with AD2. The user I am trying to login is part of AD2, but customer don&#39;t allow to direct communicate with AD2,So I need to communicate via AD1 to authenticate my user who is part of AD2. \r\n","title":"LDAP Authentication Exception error code 49","body":"<p>My customer is using AD , and I need to authenticate my user in java via LDAP, I wrote this simple code</p>\n<pre><code> Hashtable env = new Hashtable();\n    env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\n    env.put(Context.PROVIDER_URL, &quot;ldap://10.254.***.***);\n    env.put(Context.SECURITY_AUTHENTICATION, &quot;Simple&quot;);\n    env.put(Context.SECURITY_PRINCIPAL, &quot;cn=s***.u***,ou=All Users,dc=p***,dc=net,dc=**&quot;);\n    env.put(Context.SECURITY_CREDENTIALS, &quot;******&quot;);\n     \n    try {\n        DirContext ctx = new InitialDirContext(env);\n        System.out.println(&quot;connected&quot;);\n        System.out.println(ctx.getEnvironment());\n         \n        // do something useful with the context...\n     \n        ctx.close();\n     \n    } catch (AuthenticationNotSupportedException ex) {\n        System.out.println(&quot;The authentication is not supported by the server&quot;+ex);\n    } catch (AuthenticationException ex) {\n        System.out.println(&quot;incorrect password or username&quot;+ex);\n    } *catch (NamingException ex) {\n        System.out.println(&quot;error when trying to create the context&quot;+ex);\n    }\n        }*\n</code></pre>\n<p>This code throw following exception</p>\n<p>incorrect password or usernamejavax.naming.AuthenticationException: [LDAP: error\ncode 49 - 80090308: LdapErr: DSID-0C090453, comment: AcceptSecurityContext error\nr, data 52e, v3839 ]</p>\n<p>however I can connect from the same user via Ad Explorer</p>\n<p><a href=\"https://i.stack.imgur.com/fFwtt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fFwtt.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/xBDcy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xBDcy.png\" alt=\"enter image description here\" /></a></p>\n<p>As i am able to connect with Ad Explorer , Should be able to connect with Java application as well.</p>\n<p>What is wrong inside my code , any help</p>\n<p><strong>EDIT</strong>\nCustomer is having 2 ADs, AD1, AD2 and AD1 has trusted relation with AD2. The user I am trying to login is part of AD2, but customer don't allow to direct communicate with AD2,So I need to communicate via AD1 to authenticate my user who is part of AD2.</p>\n"},{"tags":["java","android","firebase-authentication","google-oauth"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681805050,"post_id":76035307,"comment_id":134111636,"body_markdown":"I think that this [resource](https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseSignInWithGoogle).","body":"I think that this <a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseSignInWithGoogle\" rel=\"nofollow noreferrer\">repo</a>."}],"owner":{"account_id":28273189,"reputation":41,"user_id":21616065,"display_name":"Tgarfr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1681740021,"creation_date":1681735555,"question_id":76035307,"body_markdown":"I use this procedure\r\nhttps://developers.google.com/identity/one-tap/android/create-new-accounts?hl=fr\r\n\r\nBut i have error in method \r\noneTapClient.beginSignIn(signInRequest)(firebaseCredential)\r\n\r\nwith error message : \r\nMissing Feature{name=auth_api_credentials_begin_sign_in, version=8}\r\n\r\nThomas\r\n\r\n        oneTapClient = Identity.getSignInClient(this);\r\n        signInRequest = BeginSignInRequest.builder()\r\n                .setGoogleIdTokenRequestOptions(BeginSignInRequest.GoogleIdTokenRequestOptions.builder()\r\n                        .setSupported(true)\r\n                        .setServerClientId(getString(R.string.web_client_id))\r\n                        .setFilterByAuthorizedAccounts(false)\r\n                        .build())\r\n                .build();\r\n\r\n        SignInButton signInButton = findViewById(R.id.login_button_google);\r\n        signInButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                oneTapClient.beginSignIn(signInRequest)\r\n                        .addOnSuccessListener(activity, new OnSuccessListener&lt;BeginSignInResult&gt;() {\r\n                            @Override\r\n                            public void onSuccess(BeginSignInResult beginSignInResult) {\r\n                                try {\r\n                                    startIntentSenderForResult(beginSignInResult.getPendingIntent().getIntentSender(), REQ_ONE_TAP, null, 0, 0, 0);\r\n                                } catch (IntentSender.SendIntentException e) {\r\n                                    Log.e(&quot;Google Login&quot;, &quot;Couldn&#39;t start One Tap UI : &quot; + e.getLocalizedMessage());\r\n                                }\r\n                            }\r\n                        })\r\n                        .addOnFailureListener(activity, new OnFailureListener() {\r\n                            @Override\r\n                            public void onFailure(@NonNull Exception e) {\r\n                                Log.d(&quot;Google Login Failure&quot;, e.getLocalizedMessage());\r\n                            }\r\n                        });\r\n            }\r\n        });","title":"Missing Feature{name=auth_api_credentials_begin_sign_in, version=8}","body":"<p>I use this procedure\n<a href=\"https://developers.google.com/identity/one-tap/android/create-new-accounts?hl=fr\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/one-tap/android/create-new-accounts?hl=fr</a></p>\n<p>But i have error in method\noneTapClient.beginSignIn(signInRequest)(firebaseCredential)</p>\n<p>with error message :\nMissing Feature{name=auth_api_credentials_begin_sign_in, version=8}</p>\n<p>Thomas</p>\n<pre><code>    oneTapClient = Identity.getSignInClient(this);\n    signInRequest = BeginSignInRequest.builder()\n            .setGoogleIdTokenRequestOptions(BeginSignInRequest.GoogleIdTokenRequestOptions.builder()\n                    .setSupported(true)\n                    .setServerClientId(getString(R.string.web_client_id))\n                    .setFilterByAuthorizedAccounts(false)\n                    .build())\n            .build();\n\n    SignInButton signInButton = findViewById(R.id.login_button_google);\n    signInButton.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            oneTapClient.beginSignIn(signInRequest)\n                    .addOnSuccessListener(activity, new OnSuccessListener&lt;BeginSignInResult&gt;() {\n                        @Override\n                        public void onSuccess(BeginSignInResult beginSignInResult) {\n                            try {\n                                startIntentSenderForResult(beginSignInResult.getPendingIntent().getIntentSender(), REQ_ONE_TAP, null, 0, 0, 0);\n                            } catch (IntentSender.SendIntentException e) {\n                                Log.e(&quot;Google Login&quot;, &quot;Couldn't start One Tap UI : &quot; + e.getLocalizedMessage());\n                            }\n                        }\n                    })\n                    .addOnFailureListener(activity, new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            Log.d(&quot;Google Login Failure&quot;, e.getLocalizedMessage());\n                        }\n                    });\n        }\n    });\n</code></pre>\n"},{"tags":["java","bapi","jco"],"comments":[{"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"score":0,"creation_date":1550215554,"post_id":54704407,"comment_id":96194708,"body_markdown":"if possible try executing function on SAP side to verify number of rows being returned","body":"if possible try executing function on SAP side to verify number of rows being returned"},{"owner":{"account_id":11714988,"reputation":7,"user_id":8575794,"display_name":"Satya Sashi"},"score":0,"creation_date":1550215841,"post_id":54704407,"comment_id":96194817,"body_markdown":"Hey @DarkKnight do you mean executing using ABAP?","body":"Hey @DarkKnight do you mean executing using ABAP?"},{"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"score":0,"creation_date":1550215938,"post_id":54704407,"comment_id":96194849,"body_markdown":"yes precisely what i meant to say","body":"yes precisely what i meant to say"},{"owner":{"account_id":11714988,"reputation":7,"user_id":8575794,"display_name":"Satya Sashi"},"score":0,"creation_date":1550216436,"post_id":54704407,"comment_id":96195036,"body_markdown":"Sure @DarkKnight I will try that. Thanks for the reply.","body":"Sure @DarkKnight I will try that. Thanks for the reply."},{"owner":{"account_id":11714988,"reputation":7,"user_id":8575794,"display_name":"Satya Sashi"},"score":0,"creation_date":1550226242,"post_id":54704407,"comment_id":96200073,"body_markdown":"Hi @DarkKnight we&#39;ve implemented using ABAP and it&#39;s working. IDK why its not working in Java. :(","body":"Hi @DarkKnight we&#39;ve implemented using ABAP and it&#39;s working. IDK why its not working in Java. :("},{"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"score":0,"creation_date":1550226496,"post_id":54704407,"comment_id":96200213,"body_markdown":"Just a wild guess, check parameter values too.","body":"Just a wild guess, check parameter values too."}],"answers":[{"tags":[],"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550253081,"creation_date":1550253081,"answer_id":54714625,"question_id":54704407,"body_markdown":"If you would like to get some data from a SAP BAPI it would help a lot also to call this BAPI. The data doesn&#39;t materialize automatically in the JCo objects out of thin air.&lt;br&gt;\r\nIn your code you do not execute any JCoFunction.\r\n\r\nSet the mandatory import parameter values for this BAPI (if there are any), execute the BAPI (your JCoFunction object) and then you will get the export data from the SAP system in response which will then also add appropriate rows to the JCoTable object.\r\n\r\n","title":"getNumRows() returns 0 when running SAP BAPI using JCo SAP","body":"<p>If you would like to get some data from a SAP BAPI it would help a lot also to call this BAPI. The data doesn't materialize automatically in the JCo objects out of thin air.<br>\nIn your code you do not execute any JCoFunction.</p>\n\n<p>Set the mandatory import parameter values for this BAPI (if there are any), execute the BAPI (your JCoFunction object) and then you will get the export data from the SAP system in response which will then also add appropriate rows to the JCoTable object.</p>\n"}],"owner":{"account_id":11714988,"reputation":7,"user_id":8575794,"display_name":"Satya Sashi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681740005,"creation_date":1550215354,"question_id":54704407,"body_markdown":"I am writing Java Code to get data from *SAP BAPI* using *Java Connector (JCo)*. This is my first time to make a connection to SAP using JCo. I was able to get the Tables available in the Data Source and also get one particular Table and Number of Columns using **`table_name.getNumColumns()`** which gives me the total count of columns. But when I do, **`table_name.getNumRows()`**, it says **0**. Where as in my Data source, there are around **85 Rows**. How can I get the rows from this table?\r\n\r\nThe code I have been using:\r\n\r\n    public class SapConnection {\r\n\r\n          public static void gettingTableData(JCoFunction function) {\r\n\t\t\r\n\t          JCoParameterList table_list = function.getTableParameterList();\r\n\t          JCoTable my_table = function.getTableParameterList().getTable(&quot;SOME_TABLE&quot;);\r\n \r\n\t          System.out.println(&quot;Field Count: &quot;+my_table.getFieldCount());\r\n\r\n              // This is not working as Number of Rows is 0.\r\n\t          for(int i = 0; i&lt;my_table.getNumRows(); i++, my_table.nextRow()) {\r\n\t\t          // get those rows and do something ..\r\n\t          }\r\n\r\n\t          System.out.println(&quot;Is Empty: &quot;+my_table.isEmpty()); // returns True\r\n\t          System.out.println(&quot;Is First Row: &quot;+my_table.isFirstRow()); // returns false\r\n\t          System.out.println(&quot;Next Row: &quot;+my_table.nextRow()); // returns false\r\n\t          System.out.println(&quot;Num Rows: &quot;+my_table.getNumRows()); // returning 0\r\n\t  \r\n\t        }\r\n    \r\n          public static void loadDataSourceAndGetData(JCoDestination dest) throws JCoException {\r\n    \r\n\t       JCoRepository sapRepository = dest.getRepository();\r\n           JCoFunctionTemplate template = \r\n               sapRepository.getFunctionTemplate(&quot;DATA_SOURCE_NAME&quot;);\r\n           JCoFunction my_function = template.getFunction();\r\n       \r\n \t       gettingTableData(my_function);\r\n\r\n\t  }\r\n\r\n         public static void main(String[] args) throws JCoException {\r\n\t         // get the Properties created for connection.\r\n\t         Properties pp = getJcoProperties();\r\n             PropertiesDestinationDataProvider pddp = new PropertiesDestinationDataProvider(pp);\r\n             Environment.registerDestinationDataProvider(pddp);\r\n\r\n             JCoDestination dest = getDestination();\r\n      \r\n             try {\r\n           \t     // Using JCo Context for stateful function calls to Start() and End()\r\n                 JCoContext.begin(dest);\r\n                 loadDataSourceAndGetData(dest);\r\n                 JCoRepository sapRepository = dest.getRepository();\r\n                 System.out.println(sapRepository.getMonitor().getLastAccessTimestamp());\r\n             } finally {\r\n    \t         // end the connection.\r\n                 JCoContext.end(dest);\r\n             }\r\n        }\r\n    }","title":"getNumRows() returns 0 when running SAP BAPI using JCo SAP","body":"<p>I am writing Java Code to get data from <em>SAP BAPI</em> using <em>Java Connector (JCo)</em>. This is my first time to make a connection to SAP using JCo. I was able to get the Tables available in the Data Source and also get one particular Table and Number of Columns using <strong><code>table_name.getNumColumns()</code></strong> which gives me the total count of columns. But when I do, <strong><code>table_name.getNumRows()</code></strong>, it says <strong>0</strong>. Where as in my Data source, there are around <strong>85 Rows</strong>. How can I get the rows from this table?</p>\n<p>The code I have been using:</p>\n<pre><code>public class SapConnection {\n\n      public static void gettingTableData(JCoFunction function) {\n    \n          JCoParameterList table_list = function.getTableParameterList();\n          JCoTable my_table = function.getTableParameterList().getTable(&quot;SOME_TABLE&quot;);\n\n          System.out.println(&quot;Field Count: &quot;+my_table.getFieldCount());\n\n          // This is not working as Number of Rows is 0.\n          for(int i = 0; i&lt;my_table.getNumRows(); i++, my_table.nextRow()) {\n              // get those rows and do something ..\n          }\n\n          System.out.println(&quot;Is Empty: &quot;+my_table.isEmpty()); // returns True\n          System.out.println(&quot;Is First Row: &quot;+my_table.isFirstRow()); // returns false\n          System.out.println(&quot;Next Row: &quot;+my_table.nextRow()); // returns false\n          System.out.println(&quot;Num Rows: &quot;+my_table.getNumRows()); // returning 0\n  \n        }\n\n      public static void loadDataSourceAndGetData(JCoDestination dest) throws JCoException {\n\n       JCoRepository sapRepository = dest.getRepository();\n       JCoFunctionTemplate template = \n           sapRepository.getFunctionTemplate(&quot;DATA_SOURCE_NAME&quot;);\n       JCoFunction my_function = template.getFunction();\n   \n       gettingTableData(my_function);\n\n  }\n\n     public static void main(String[] args) throws JCoException {\n         // get the Properties created for connection.\n         Properties pp = getJcoProperties();\n         PropertiesDestinationDataProvider pddp = new PropertiesDestinationDataProvider(pp);\n         Environment.registerDestinationDataProvider(pddp);\n\n         JCoDestination dest = getDestination();\n  \n         try {\n             // Using JCo Context for stateful function calls to Start() and End()\n             JCoContext.begin(dest);\n             loadDataSourceAndGetData(dest);\n             JCoRepository sapRepository = dest.getRepository();\n             System.out.println(sapRepository.getMonitor().getLastAccessTimestamp());\n         } finally {\n             // end the connection.\n             JCoContext.end(dest);\n         }\n    }\n}\n</code></pre>\n"},{"tags":["java","google-app-engine","google-api","google-oauth"],"comments":[{"owner":{"account_id":80130,"reputation":2498,"user_id":226773,"accept_rate":83,"display_name":"Bill Prin"},"score":0,"creation_date":1466186580,"post_id":37886522,"comment_id":63230148,"body_markdown":"Not sure exactly what&#39;s wrong here but I&#39;d highly recommend using https://developers.google.com/identity/protocols/application-default-credentials anyway. If that fails try filing an issue on the cliet lib. https://github.com/google/google-api-java-client","body":"Not sure exactly what&#39;s wrong here but I&#39;d highly recommend using <a href=\"https://developers.google.com/identity/protocols/application-default-credentials\" rel=\"nofollow noreferrer\">developers.google.com/identity/protocols/&hellip;</a> anyway. If that fails try filing an issue on the cliet lib. <a href=\"https://github.com/google/google-api-java-client\" rel=\"nofollow noreferrer\">github.com/google/google-api-java-client</a>"},{"owner":{"account_id":1536594,"reputation":381,"user_id":1432476,"accept_rate":43,"display_name":"zeeshan ansari"},"score":0,"creation_date":1466198194,"post_id":37886522,"comment_id":63235516,"body_markdown":"@BillPrin: Thanks for your comment, actually I am using domain wide delegation as well but getting access token as Null with above code while impersonating a user from server side.","body":"@BillPrin: Thanks for your comment, actually I am using domain wide delegation as well but getting access token as Null with above code while impersonating a user from server side."}],"answers":[{"tags":[],"owner":{"account_id":1800313,"reputation":487,"user_id":1638831,"display_name":"garyrgilbert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1503600278,"creation_date":1503600278,"answer_id":45868886,"question_id":37886522,"body_markdown":"I had a similar problem.  The answer seems to be to simply change from\r\n `credential.getRefreshToken()` \r\nto simply \r\n`credential.refreshToken()`\r\n\r\nThat should solve the issue","title":"Getting access token as Null in Google service account","body":"<p>I had a similar problem.  The answer seems to be to simply change from\n <code>credential.getRefreshToken()</code> \nto simply \n<code>credential.refreshToken()</code></p>\n\n<p>That should solve the issue</p>\n"},{"tags":[],"owner":{"account_id":1088422,"reputation":161,"user_id":1083608,"display_name":"Michael M"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1554941551,"creation_date":1554941551,"answer_id":55622949,"question_id":37886522,"body_markdown":"For those using the Firebase Admin SDK, hence the GoogleCredentials class, this will do.\r\n\r\n    GoogleCredentials credentials = GoogleCredentials.fromStream(serviceAccount).createScoped(Arrays.asList(&quot;https://www.googleapis.com/auth/firebase.messaging&quot;));\r\n    credentials.refresh();\r\n    credentials.getAccessToken();","title":"Getting access token as Null in Google service account","body":"<p>For those using the Firebase Admin SDK, hence the GoogleCredentials class, this will do.</p>\n\n<pre><code>GoogleCredentials credentials = GoogleCredentials.fromStream(serviceAccount).createScoped(Arrays.asList(\"https://www.googleapis.com/auth/firebase.messaging\"));\ncredentials.refresh();\ncredentials.getAccessToken();\n</code></pre>\n"}],"owner":{"account_id":1536594,"reputation":381,"user_id":1432476,"accept_rate":43,"display_name":"zeeshan ansari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4812,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45868886,"answer_count":2,"score":0,"last_activity_date":1681739661,"creation_date":1466181836,"question_id":37886522,"body_markdown":"I am using Google service account to get access Token from service side using below code. But I am getting access token as Null. The same returned token will be used to open Google file picker on client side for the same userEmailId. Please suggest what I am doing wrong in my code.\r\n\r\n&lt;pre&gt;&lt;code&gt;private static final List&lt;String&gt; SCOPE = Arrays.asList(&quot;https://www.googleapis.com/auth/drive&quot;);\r\n\r\npublic String getAccessToken(String SERVICE_ACCOUNT_EMAIL, String SERVICE_ACCOUNT_PKCS12_FILE_PATH,String userEmailId){\r\n\t\t\t\ttry {\r\n\t\t\t\t\tHttpTransport httpTransport = new NetHttpTransport();\r\n\t     \t\t\tJsonFactory jsonFactory = new JacksonFactory();\r\n\t     \t\t\tGoogleCredential credential = new GoogleCredential.Builder()\r\n\t     \t\t\t      \t\t\t\t\t\t\t.setTransport(httpTransport)\r\n\t     \t\t\t      \t\t\t\t\t\t\t.setJsonFactory(jsonFactory)\r\n\t     \t\t\t      \t\t\t\t\t\t\t.setServiceAccountId(SERVICE_ACCOUNT_EMAIL)\r\n\t     \t\t\t      \t\t\t\t\t\t\t.setServiceAccountScopes(SCOPE)\r\n\t     \t\t\t      \t\t\t\t\t\t\t.setServiceAccountUser(userEmailId)\r\n\t     \t\t\t      \t\t\t\t\t\t\t.setServiceAccountPrivateKeyFromP12File(new java.io.File(SERVICE_ACCOUNT_PKCS12_FILE_PATH))\r\n\t     \t\t\t      \t\t\t\t\t        .build();\r\n\t     \t\t\t\r\n\t     \t\t\tcredential.getRefreshToken();\r\n\t     \t\t\treturn credential.getAccessToken();\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t// TODO: handle exception\r\n\t\t\t\t\tlog.severe(&quot;Error while getting Drive  credentilas. 5.0&quot;+ e.getMessage());\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}&lt;/code&gt;&lt;/pre&gt;\r\n\r\n","title":"Getting access token as Null in Google service account","body":"<p>I am using Google service account to get access Token from service side using below code. But I am getting access token as Null. The same returned token will be used to open Google file picker on client side for the same userEmailId. Please suggest what I am doing wrong in my code.</p>\n\n<pre><code>private static final List SCOPE = Arrays.asList(\"https://www.googleapis.com/auth/drive\");\n\npublic String getAccessToken(String SERVICE_ACCOUNT_EMAIL, String SERVICE_ACCOUNT_PKCS12_FILE_PATH,String userEmailId){\n                try {\n                    HttpTransport httpTransport = new NetHttpTransport();\n                    JsonFactory jsonFactory = new JacksonFactory();\n                    GoogleCredential credential = new GoogleCredential.Builder()\n                                                    .setTransport(httpTransport)\n                                                    .setJsonFactory(jsonFactory)\n                                                    .setServiceAccountId(SERVICE_ACCOUNT_EMAIL)\n                                                    .setServiceAccountScopes(SCOPE)\n                                                    .setServiceAccountUser(userEmailId)\n                                                    .setServiceAccountPrivateKeyFromP12File(new java.io.File(SERVICE_ACCOUNT_PKCS12_FILE_PATH))\n                                                    .build();\n\n                    credential.getRefreshToken();\n                    return credential.getAccessToken();\n                } catch (Exception e) {\n                    // TODO: handle exception\n                    log.severe(\"Error while getting Drive  credentilas. 5.0\"+ e.getMessage());\n                    return null;\n                }\n            }</code></pre>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1681716525,"post_id":76032591,"comment_id":134095446,"body_markdown":"Why do you mean it is wrong? external_reference is the correct name of your table.","body":"Why do you mean it is wrong? external_reference is the correct name of your table."},{"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"score":0,"creation_date":1681719178,"post_id":76032591,"comment_id":134095981,"body_markdown":"No it is not. Hibernate make an alias e1_0, so the table name don&#39;t exists anymore.","body":"No it is not. Hibernate make an alias e1_0, so the table name don&#39;t exists anymore."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1681721523,"post_id":76032591,"comment_id":134096459,"body_markdown":"If it cause an exception then I would say it is a bug. Did it work fine in Spring Boot 2?","body":"If it cause an exception then I would say it is a bug. Did it work fine in Spring Boot 2?"},{"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"score":0,"creation_date":1681734698,"post_id":76032591,"comment_id":134099586,"body_markdown":"I don&#39;t know, it&#39;s a new project","body":"I don&#39;t know, it&#39;s a new project"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681739660,"creation_date":1681737447,"answer_id":76035599,"question_id":76032591,"body_markdown":"It looks like a bug in the version of Hibernate you are using. I have just tested it with current version of Spring Boot Starter 3.0.5 (Hibernate 6.1.7 Final) Looks good:\r\n\r\n    Hibernate: select c1_0.id,c1_0.deleted,c1_0.email,c1_0.name from customer c1_0 \r\n    where c1_0.id=? and (c1_0.deleted = false)\r\n\r\nFor entity annotated as follows:\r\n\r\n    import org.hibernate.annotations.SQLDelete;\r\n    import org.hibernate.annotations.Where;\r\n\r\n    @SQLDelete(sql = &quot;UPDATE Customer SET deleted=true WHERE id=?&quot;)\r\n    @Where(clause = &quot;deleted = false&quot;)\r\n    public class Customer {\r\n    // ...\r\n    }","title":"How to use @Where in Spring Boot 3","body":"<p>It looks like a bug in the version of Hibernate you are using. I have just tested it with current version of Spring Boot Starter 3.0.5 (Hibernate 6.1.7 Final) Looks good:</p>\n<pre><code>Hibernate: select c1_0.id,c1_0.deleted,c1_0.email,c1_0.name from customer c1_0 \nwhere c1_0.id=? and (c1_0.deleted = false)\n</code></pre>\n<p>For entity annotated as follows:</p>\n<pre><code>import org.hibernate.annotations.SQLDelete;\nimport org.hibernate.annotations.Where;\n\n@SQLDelete(sql = &quot;UPDATE Customer SET deleted=true WHERE id=?&quot;)\n@Where(clause = &quot;deleted = false&quot;)\npublic class Customer {\n// ...\n}\n</code></pre>\n"}],"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681739660,"creation_date":1681716145,"question_id":76032591,"body_markdown":"I want to implement a soft delete for my entities.\r\nSo I create this annoations:\r\n\r\n    @SQLDelete(sql = &quot;UPDATE ExternalReference SET deleted=true, deletedAt=now() WHERE id=?&quot;)\r\n    @Where(clause = &quot;deleted = false&quot;)\r\n    public class ExternalReference {\r\n    ...\r\n    }\r\n\r\nBut Hibernate create this SQL Statement:\r\n\r\n    SELECT e1_0.id\r\n         FROM external_reference e1_0\r\n         WHERE e1_0.external_system=?\r\n           AND e1_0.external_class=?\r\n           AND e1_0.external_id=?\r\n           AND (external_reference.deleted = 0)\r\n\r\nIn the last line you can see, hibernate insert the `external_reference.deleted = 0`, but with a wrong table name, right here were `e1_0.deleted = 0`. How can I fix this?","title":"How to use @Where in Spring Boot 3","body":"<p>I want to implement a soft delete for my entities.\nSo I create this annoations:</p>\n<pre><code>@SQLDelete(sql = &quot;UPDATE ExternalReference SET deleted=true, deletedAt=now() WHERE id=?&quot;)\n@Where(clause = &quot;deleted = false&quot;)\npublic class ExternalReference {\n...\n}\n</code></pre>\n<p>But Hibernate create this SQL Statement:</p>\n<pre><code>SELECT e1_0.id\n     FROM external_reference e1_0\n     WHERE e1_0.external_system=?\n       AND e1_0.external_class=?\n       AND e1_0.external_id=?\n       AND (external_reference.deleted = 0)\n</code></pre>\n<p>In the last line you can see, hibernate insert the <code>external_reference.deleted = 0</code>, but with a wrong table name, right here were <code>e1_0.deleted = 0</code>. How can I fix this?</p>\n"},{"tags":["java","android","webrtc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681887330,"post_id":76035923,"comment_id":134127416,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28329816,"reputation":1,"user_id":21664285,"display_name":"叶圣豪"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681739644,"creation_date":1681739644,"question_id":76035923,"body_markdown":"I want to know how to convert Bitmap to VideoFrame\r\n\r\nI am connecting the TFlite model to Android webrtc for video processing, and I need to convert Bitmap and VideoFrame to each other. So I want to know how to convert Bitmap to VideoFrame","title":"How to convert Bitmap to VideoFrame？","body":"<p>I want to know how to convert Bitmap to VideoFrame</p>\n<p>I am connecting the TFlite model to Android webrtc for video processing, and I need to convert Bitmap and VideoFrame to each other. So I want to know how to convert Bitmap to VideoFrame</p>\n"},{"tags":["java","retrofit2"],"owner":{"account_id":28329920,"reputation":1,"user_id":21664378,"display_name":"Danie Theron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681739640,"creation_date":1681738705,"question_id":76035787,"body_markdown":"I make an API call using `Retrofit`, but instead of the data, I am getting what looks like the body.\r\n\r\nMy data is:\r\n\r\n    [{&quot;rawMaterialName&quot;:&quot;Bails&quot;},{&quot;rawMaterialName&quot;:&quot;Tins&quot;}]\r\n\r\nThe response I am getting is;\r\n\r\n    [com.example.retrofit_intro.model.RawMaterialModel@cb8f45d, com.example.retrofit_intro.model.RawMaterialModel@22291d2]\r\n\r\n**Model:**\r\n\r\n```\r\npublic class RawMaterialModel {\r\n    @SerializedName(&quot;rawMaterialName&quot;)\r\n    private final String rawMaterialName;\r\n\r\n   \r\n public RawMaterialModel( String name)\r\n    {\r\n\r\n        \r\nthis.rawMaterialName = name;\r\n\r\n    }\r\n    \r\n\r\n\r\npublic String getRawMaterials() {\r\n        return rawMaterialName;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n**MainActivity:**\r\n\r\n```\r\ninterface getRawMaterials{\r\n        @GET(&quot;/api/RawMaterial&quot;)\r\n        Call&lt;List&lt;RawMaterialModel&gt;&gt; getrawMaterials();\r\n    }\r\n\r\n   \r\n Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;BASE_URL&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\r\n                .build();\r\n\r\n\r\n\r\n    \r\ngetRawMaterials requestRawMaterials = retrofit.create(getRawMaterials.class);         \r\n        \r\nrequestRawMaterials.getrawMaterials().enqueue(new Callback&lt;List&lt;RawMaterialModel&gt;&gt;() {\r\n            @Override\r\n           \r\n public void onResponse(Call&lt;List&lt;RawMaterialModel&gt;&gt; call,    Response&lt;List&lt;RawMaterialModel&gt;&gt; response) {\r\n                if(response.isSuccessful())\r\n                {\r\n                    if(response!=null)\r\n                    {\r\n                        List&lt;RawMaterialModel&gt; rawMaterialModelList = response.body();\r\n\r\n                        Log.w(&quot;RAWLIST&quot;,rawMaterialModelList.toString());\r\n                        ArrayAdapter&lt;RawMaterialModel&gt; adapter = new ArrayAdapter&lt;&gt;  (MainActivity.this, android.R.layout.simple_spinner_item, rawMaterialModelList);\r\n                               \r\n\r\nadapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n                        spinner.setAdapter(adapter);\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n```\r\n\r\nI am populating a spinner and need `Bails and Tins`, but getting the weird `body` data instead.\r\n\r\n","title":"Retrofit call does not show data","body":"<p>I make an API call using <code>Retrofit</code>, but instead of the data, I am getting what looks like the body.</p>\n<p>My data is:</p>\n<pre><code>[{&quot;rawMaterialName&quot;:&quot;Bails&quot;},{&quot;rawMaterialName&quot;:&quot;Tins&quot;}]\n</code></pre>\n<p>The response I am getting is;</p>\n<pre><code>[com.example.retrofit_intro.model.RawMaterialModel@cb8f45d, com.example.retrofit_intro.model.RawMaterialModel@22291d2]\n</code></pre>\n<p><strong>Model:</strong></p>\n<pre><code>public class RawMaterialModel {\n    @SerializedName(&quot;rawMaterialName&quot;)\n    private final String rawMaterialName;\n\n   \n public RawMaterialModel( String name)\n    {\n\n        \nthis.rawMaterialName = name;\n\n    }\n    \n\n\npublic String getRawMaterials() {\n        return rawMaterialName;\n    }\n}\n</code></pre>\n<p><strong>MainActivity:</strong></p>\n<pre><code>interface getRawMaterials{\n        @GET(&quot;/api/RawMaterial&quot;)\n        Call&lt;List&lt;RawMaterialModel&gt;&gt; getrawMaterials();\n    }\n\n   \n Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(&quot;BASE_URL&quot;)\n                .addConverterFactory(GsonConverterFactory.create())\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                .build();\n\n\n\n    \ngetRawMaterials requestRawMaterials = retrofit.create(getRawMaterials.class);         \n        \nrequestRawMaterials.getrawMaterials().enqueue(new Callback&lt;List&lt;RawMaterialModel&gt;&gt;() {\n            @Override\n           \n public void onResponse(Call&lt;List&lt;RawMaterialModel&gt;&gt; call,    Response&lt;List&lt;RawMaterialModel&gt;&gt; response) {\n                if(response.isSuccessful())\n                {\n                    if(response!=null)\n                    {\n                        List&lt;RawMaterialModel&gt; rawMaterialModelList = response.body();\n\n                        Log.w(&quot;RAWLIST&quot;,rawMaterialModelList.toString());\n                        ArrayAdapter&lt;RawMaterialModel&gt; adapter = new ArrayAdapter&lt;&gt;  (MainActivity.this, android.R.layout.simple_spinner_item, rawMaterialModelList);\n                               \n\nadapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n                        spinner.setAdapter(adapter);\n                    }\n\n                }\n\n            }\n</code></pre>\n<p>I am populating a spinner and need <code>Bails and Tins</code>, but getting the weird <code>body</code> data instead.</p>\n"},{"tags":["java","exception","lambda","java-8","stream"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1681726059,"post_id":76033212,"comment_id":134097528,"body_markdown":"&quot;Doesn&#39;t work&quot; is not a problem description.","body":"&quot;Doesn&#39;t work&quot; is not a problem description."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1681726661,"post_id":76033212,"comment_id":134097648,"body_markdown":"You are creating a new ReportRow on every reduce call. What I think you want to do is update a single instance.","body":"You are creating a new ReportRow on every reduce call. What I think you want to do is update a single instance."},{"owner":{"account_id":7524459,"reputation":1433,"user_id":6224662,"accept_rate":71,"display_name":"fireball.1"},"score":0,"creation_date":1681730185,"post_id":76033212,"comment_id":134098437,"body_markdown":"@user207421 The &quot;doesn&#39;t work&quot; snippet is just a pseudo code example to explain the step I want to catch exceptions at - since i don&#39;t know the syntax that would work with reduce","body":"@user207421 The &quot;doesn&#39;t work&quot; snippet is just a pseudo code example to explain the step I want to catch exceptions at - since i don&#39;t know the syntax that would work with reduce"},{"owner":{"account_id":7524459,"reputation":1433,"user_id":6224662,"accept_rate":71,"display_name":"fireball.1"},"score":0,"creation_date":1681730250,"post_id":76033212,"comment_id":134098447,"body_markdown":"@AdriaanKoster the creation of new ReportRow is being collected into a list - which has further code functionality. Hence, creation of a new ReportRow is valid here","body":"@AdriaanKoster the creation of new ReportRow is being collected into a list - which has further code functionality. Hence, creation of a new ReportRow is valid here"}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681739490,"creation_date":1681729363,"answer_id":76034442,"question_id":76033212,"body_markdown":"If an unchecked exception occurs it will terminate the stream processing. This is useful in case of unexpected problems that you cannot recover from. To do this, the ImproperDataException should extend RuntimeException. For readability reasons I would move the try-catch and throw logic inside a method.\r\n\r\nFor checked exceptions you should decide what needs to happen. Either continue the process (by skipping the item or using a default value) or terminate by wrapping it in an unchecked exception. You cannot propagate checked exceptions from a stream expression.\r\n\r\nHere is a simplified and slightly contrived example. When the ArithmeticException occurs, the costPerHit calculation is skipped in the report.\r\n\r\n    static class Value {\r\n        int hits;\r\n        int cost;\r\n\r\n        Value(int hits, int cost) {\r\n            this.hits = hits;\r\n            this.cost = cost;\r\n        }\r\n    }\r\n\r\n    static class Report {\r\n        int values;\r\n        int hits;\r\n        int cost;\r\n        double costPerHit;\r\n\r\n        Report accumulate(Value value) {\r\n            values++;\r\n            hits += value.hits;\r\n            cost += value.cost;\r\n            updateCostPerHit();\r\n            return this;\r\n        }\r\n\r\n        Report combine(Report report) {\r\n            values += report.values;\r\n            hits += report.hits;\r\n            cost += report.cost;\r\n            updateCostPerHit();\r\n            return this;\r\n        }\r\n\r\n        private void updateCostPerHit() {\r\n            try {\r\n                costPerHit = cost / hits;\r\n            } catch (ArithmeticException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;Report{values=%d, hits=%d, cost=%d, costPerHit=%.2f}&quot;, values, hits, cost, costPerHit);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        List&lt;Value&gt; values = List.of(\r\n            new Value(0, 3), // causes ArithmeticException\r\n            new Value(5, 1),\r\n            new Value(1, 2),\r\n            new Value(3, 8)\r\n        );\r\n\r\n        Report output = values.stream().reduce(new Report(), Report::accumulate, Report::combine);\r\n\r\n        System.out.println(output);\r\n    }\r\n\r\nOutput:\r\n\r\n    java.lang.ArithmeticException: / by zero\r\n    \tat ErrorHandling$Report.updateCostPerHit(ErrorHandling.java:42)\r\n    \tat ErrorHandling$Report.accumulate(ErrorHandling.java:28)\r\n    \tat java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)\r\n    \tat java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:563)\r\n    \tat interview.streams.ErrorHandling.main(ErrorHandling.java:63)\r\n    Report{values=4, hits=9, cost=14, costPerHit=1.00}\r\n\r\nActually since I am using a single ReportRow as a mutable container of sorts, it&#39;s probably better to use `collect` instead of `reduce`:\r\n\r\n    Report output = values.stream().collect(Report::new, Report::accumulate, Report::combine);\r\n\r\nI think this might also be better for your actual code","title":"Exception handling in java stream reduce lambda","body":"<p>If an unchecked exception occurs it will terminate the stream processing. This is useful in case of unexpected problems that you cannot recover from. To do this, the ImproperDataException should extend RuntimeException. For readability reasons I would move the try-catch and throw logic inside a method.</p>\n<p>For checked exceptions you should decide what needs to happen. Either continue the process (by skipping the item or using a default value) or terminate by wrapping it in an unchecked exception. You cannot propagate checked exceptions from a stream expression.</p>\n<p>Here is a simplified and slightly contrived example. When the ArithmeticException occurs, the costPerHit calculation is skipped in the report.</p>\n<pre><code>static class Value {\n    int hits;\n    int cost;\n\n    Value(int hits, int cost) {\n        this.hits = hits;\n        this.cost = cost;\n    }\n}\n\nstatic class Report {\n    int values;\n    int hits;\n    int cost;\n    double costPerHit;\n\n    Report accumulate(Value value) {\n        values++;\n        hits += value.hits;\n        cost += value.cost;\n        updateCostPerHit();\n        return this;\n    }\n\n    Report combine(Report report) {\n        values += report.values;\n        hits += report.hits;\n        cost += report.cost;\n        updateCostPerHit();\n        return this;\n    }\n\n    private void updateCostPerHit() {\n        try {\n            costPerHit = cost / hits;\n        } catch (ArithmeticException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public String toString() {\n        return String.format(&quot;Report{values=%d, hits=%d, cost=%d, costPerHit=%.2f}&quot;, values, hits, cost, costPerHit);\n    }\n}\n\npublic static void main(String[] args) {\n\n    List&lt;Value&gt; values = List.of(\n        new Value(0, 3), // causes ArithmeticException\n        new Value(5, 1),\n        new Value(1, 2),\n        new Value(3, 8)\n    );\n\n    Report output = values.stream().reduce(new Report(), Report::accumulate, Report::combine);\n\n    System.out.println(output);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>java.lang.ArithmeticException: / by zero\n    at ErrorHandling$Report.updateCostPerHit(ErrorHandling.java:42)\n    at ErrorHandling$Report.accumulate(ErrorHandling.java:28)\n    at java.base/java.util.stream.ReduceOps$1ReducingSink.accept(ReduceOps.java:80)\n    at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:720)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.reduce(ReferencePipeline.java:563)\n    at interview.streams.ErrorHandling.main(ErrorHandling.java:63)\nReport{values=4, hits=9, cost=14, costPerHit=1.00}\n</code></pre>\n<p>Actually since I am using a single ReportRow as a mutable container of sorts, it's probably better to use <code>collect</code> instead of <code>reduce</code>:</p>\n<pre><code>Report output = values.stream().collect(Report::new, Report::accumulate, Report::combine);\n</code></pre>\n<p>I think this might also be better for your actual code</p>\n"}],"owner":{"account_id":7524459,"reputation":1433,"user_id":6224662,"accept_rate":71,"display_name":"fireball.1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681739490,"creation_date":1681720770,"question_id":76033212,"body_markdown":"I am trying to handle exceptions inside the `reduce(item,aggregator)` function for a stream in java. \r\nThis is what my original code looks like:\r\n```java\r\nList&lt;ReportRow&gt; totalList = newList.stream()\r\n                .collect(Collectors.groupingBy(a -&gt; a.getEngagementCode()))\r\n                .entrySet().stream()\r\n                .map(engagement -&gt; engagement.getValue().stream()\r\n                        .reduce((item, aggregator) -&gt; \r\n                                new ReportRow(item.getEnvironment(), item.getApplicationName(), item.getEngagementCode(), item.getTotalHits() + aggregator.getTotalHits(), item.getServiceLine(), Float.toString(Float.parseFloat(item.getTotalCost().replace(&quot;,&quot;, &quot;&quot;)) + Float.parseFloat(aggregator.getTotalCost().replace(&quot;,&quot;, &quot;&quot;))), item.getPrimaryOwnerEmail(), item.getDeploymentId()))\r\n                        .get())\r\n                .collect(Collectors.toList());\r\n```\r\nand this is roughly what I expect it to look like (doesn&#39;t work though). \r\n```java\r\nList&lt;ReportRow&gt; totalList = newList.stream()\r\n                .collect(Collectors.groupingBy(a -&gt; a.getEngagementCode()))\r\n                .entrySet().stream()\r\n                .map(engagement -&gt; engagement.getValue().stream()\r\n                        .reduce((item, aggregator) -&gt; {\r\n                            try {\r\n                                new ReportRow(item.getEnvironment(), item.getApplicationName(), item.getEngagementCode(), item.getTotalHits() + aggregator.getTotalHits(), item.getServiceLine(), Float.toString(Float.parseFloat(item.getTotalCost().replace(&quot;,&quot;, &quot;&quot;)) + Float.parseFloat(aggregator.getTotalCost().replace(&quot;,&quot;, &quot;&quot;))), item.getPrimaryOwnerEmail(), item.getDeploymentId()))\r\n                            } catch (Exception e) {\r\n                                throw new ImproperDataException(&quot;No Deployment Id present in row: &quot;+ item.toString());\r\n                            }\r\n                        }\r\n                        .get())\r\n                .collect(Collectors.toList());\r\n```\r\nThe exception happens when I am trying to call the `ReportRow()` constructor. \r\nWhat would be the way to handle this exception while still making using of collect, stream and map as in the original method ?","title":"Exception handling in java stream reduce lambda","body":"<p>I am trying to handle exceptions inside the <code>reduce(item,aggregator)</code> function for a stream in java.\nThis is what my original code looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ReportRow&gt; totalList = newList.stream()\n                .collect(Collectors.groupingBy(a -&gt; a.getEngagementCode()))\n                .entrySet().stream()\n                .map(engagement -&gt; engagement.getValue().stream()\n                        .reduce((item, aggregator) -&gt; \n                                new ReportRow(item.getEnvironment(), item.getApplicationName(), item.getEngagementCode(), item.getTotalHits() + aggregator.getTotalHits(), item.getServiceLine(), Float.toString(Float.parseFloat(item.getTotalCost().replace(&quot;,&quot;, &quot;&quot;)) + Float.parseFloat(aggregator.getTotalCost().replace(&quot;,&quot;, &quot;&quot;))), item.getPrimaryOwnerEmail(), item.getDeploymentId()))\n                        .get())\n                .collect(Collectors.toList());\n</code></pre>\n<p>and this is roughly what I expect it to look like (doesn't work though).</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ReportRow&gt; totalList = newList.stream()\n                .collect(Collectors.groupingBy(a -&gt; a.getEngagementCode()))\n                .entrySet().stream()\n                .map(engagement -&gt; engagement.getValue().stream()\n                        .reduce((item, aggregator) -&gt; {\n                            try {\n                                new ReportRow(item.getEnvironment(), item.getApplicationName(), item.getEngagementCode(), item.getTotalHits() + aggregator.getTotalHits(), item.getServiceLine(), Float.toString(Float.parseFloat(item.getTotalCost().replace(&quot;,&quot;, &quot;&quot;)) + Float.parseFloat(aggregator.getTotalCost().replace(&quot;,&quot;, &quot;&quot;))), item.getPrimaryOwnerEmail(), item.getDeploymentId()))\n                            } catch (Exception e) {\n                                throw new ImproperDataException(&quot;No Deployment Id present in row: &quot;+ item.toString());\n                            }\n                        }\n                        .get())\n                .collect(Collectors.toList());\n</code></pre>\n<p>The exception happens when I am trying to call the <code>ReportRow()</code> constructor.\nWhat would be the way to handle this exception while still making using of collect, stream and map as in the original method ?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681738873,"creation_date":1681724446,"answer_id":76033730,"question_id":76033702,"body_markdown":"All you need is:\r\n\r\n 1. Deserialize json into a `Map` (e.g. using [jackson-utils][1])\r\n 2. Add new field to reuired values\r\n 3. Serialize `Map` into a json (e.g. using [jackson-utils][1])\r\n\r\nI expect the map will look like `Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt;`  with one single key `&quot;record&quot;`.\r\n\r\n---\r\n\r\n```java\r\npublic class Foo {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Path file = Paths.get(&quot;foo.json&quot;);\r\n        addFieldToJson(file, &quot;category&quot;, &quot;ABC&quot;);\r\n    }\r\n\r\n    public static void addFieldToJson(Path file, String key, Object value) {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        Map&lt;String, Object&gt; map = readJson(file, mapper);\r\n        addField(map, key, value);\r\n        writeJson(file, map, mapper);\r\n    }\r\n\r\n    private static Map&lt;String, Object&gt; readJson(Path file, ObjectMapper mapper) throws IOException {\r\n        try (InputStream in = new FileInputStream(file.toFile())) {\r\n            MapType mapType = mapper.getTypeFactory().constructRawMapType(LinkedHashMap.class);\r\n            return mapper.readValue(in, mapType);\r\n        }\r\n    }\r\n\r\n    private static void writeJson(Path file, Map&lt;String, Object&gt; map, ObjectMapper mapper) throws IOException {\r\n        try (OutputStream out = new FileOutputStream(file.toFile())) {\r\n            mapper.writerWithDefaultPrettyPrinter().writeValue(out, map);\r\n        }\r\n    }\r\n\r\n    private static void addField(Map&lt;String, Object&gt; map, String key, Object value) {\r\n        Object records = map.get(&quot;records&quot;);\r\n\r\n        if (records instanceof Iterable)\r\n            for (Object record : (Iterable&lt;Object&gt;) records)\r\n                if (record instanceof Map)\r\n                    ((Map&lt;String, Object&gt;) record).put(key, value);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://github.com/oleg-cherednik/jackson-utils","title":"How to add new attribute in each json object of json array in java?","body":"<p>All you need is:</p>\n<ol>\n<li>Deserialize json into a <code>Map</code> (e.g. using <a href=\"https://github.com/oleg-cherednik/jackson-utils\" rel=\"nofollow noreferrer\">jackson-utils</a>)</li>\n<li>Add new field to reuired values</li>\n<li>Serialize <code>Map</code> into a json (e.g. using <a href=\"https://github.com/oleg-cherednik/jackson-utils\" rel=\"nofollow noreferrer\">jackson-utils</a>)</li>\n</ol>\n<p>I expect the map will look like <code>Map&lt;String, List&lt;Map&lt;String, Object&gt;&gt;&gt;</code>  with one single key <code>&quot;record&quot;</code>.</p>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo {\n\n    public static void main(String[] args) throws Exception {\n        Path file = Paths.get(&quot;foo.json&quot;);\n        addFieldToJson(file, &quot;category&quot;, &quot;ABC&quot;);\n    }\n\n    public static void addFieldToJson(Path file, String key, Object value) {\n        ObjectMapper mapper = new ObjectMapper();\n        Map&lt;String, Object&gt; map = readJson(file, mapper);\n        addField(map, key, value);\n        writeJson(file, map, mapper);\n    }\n\n    private static Map&lt;String, Object&gt; readJson(Path file, ObjectMapper mapper) throws IOException {\n        try (InputStream in = new FileInputStream(file.toFile())) {\n            MapType mapType = mapper.getTypeFactory().constructRawMapType(LinkedHashMap.class);\n            return mapper.readValue(in, mapType);\n        }\n    }\n\n    private static void writeJson(Path file, Map&lt;String, Object&gt; map, ObjectMapper mapper) throws IOException {\n        try (OutputStream out = new FileOutputStream(file.toFile())) {\n            mapper.writerWithDefaultPrettyPrinter().writeValue(out, map);\n        }\n    }\n\n    private static void addField(Map&lt;String, Object&gt; map, String key, Object value) {\n        Object records = map.get(&quot;records&quot;);\n\n        if (records instanceof Iterable)\n            for (Object record : (Iterable&lt;Object&gt;) records)\n                if (record instanceof Map)\n                    ((Map&lt;String, Object&gt;) record).put(key, value);\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":12637935,"reputation":49,"user_id":9186497,"display_name":"dev007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681738873,"creation_date":1681724277,"question_id":76033702,"body_markdown":"I&#39;m trying to append  new key value pair in each json object of json array using java. I&#39;m trying to add category field in the json array.\r\n\r\nHow to append the new field in each existing json object in a json array?\r\n\r\n    Current Format:\r\n    ===============\r\n    {\r\n        &quot;records&quot;: [\r\n            {\r\n                &quot;time&quot;: &quot;2023-04-04T00:02:40.8303990Z&quot;,\r\n                &quot;ProviderName&quot;: &quot;Service Control Manager&quot;,\r\n                &quot;EventId&quot;: 7036,\r\n                &quot;Level&quot;: 4\r\n            },\r\n            {\r\n                &quot;time&quot;: &quot;2023-04-04T00:02:40.8303990Z&quot;,\r\n                &quot;ProviderName&quot;: &quot;Service Control Manager&quot;,\r\n                &quot;EventId&quot;: 7037,\r\n                &quot;Level&quot;: 3\r\n            }\r\n    ]\r\n    }\r\n    \r\n    Expected format: (Added Category field)\r\n    ===============\r\n    {\r\n        &quot;records&quot;: [\r\n            {\r\n                &quot;time&quot;: &quot;2023-04-04T00:02:40.8303990Z&quot;,\r\n                &quot;ProviderName&quot;: &quot;Service Control Manager&quot;,\r\n                &quot;EventId&quot;: 7036,\r\n                &quot;Level&quot;: 4,\r\n                &quot;category&quot;:&quot;ABC&quot;\r\n            },\r\n            {\r\n                &quot;time&quot;: &quot;2023-04-04T00:02:40.8303990Z&quot;,\r\n                &quot;ProviderName&quot;: &quot;Service Control Manager&quot;,\r\n                &quot;EventId&quot;: 7037,\r\n                &quot;Level&quot;: 3,\r\n                &quot;category&quot;:&quot;ABC&quot;\r\n            }\r\n    ]\r\n    }","title":"How to add new attribute in each json object of json array in java?","body":"<p>I'm trying to append  new key value pair in each json object of json array using java. I'm trying to add category field in the json array.</p>\n<p>How to append the new field in each existing json object in a json array?</p>\n<pre><code>Current Format:\n===============\n{\n    &quot;records&quot;: [\n        {\n            &quot;time&quot;: &quot;2023-04-04T00:02:40.8303990Z&quot;,\n            &quot;ProviderName&quot;: &quot;Service Control Manager&quot;,\n            &quot;EventId&quot;: 7036,\n            &quot;Level&quot;: 4\n        },\n        {\n            &quot;time&quot;: &quot;2023-04-04T00:02:40.8303990Z&quot;,\n            &quot;ProviderName&quot;: &quot;Service Control Manager&quot;,\n            &quot;EventId&quot;: 7037,\n            &quot;Level&quot;: 3\n        }\n]\n}\n\nExpected format: (Added Category field)\n===============\n{\n    &quot;records&quot;: [\n        {\n            &quot;time&quot;: &quot;2023-04-04T00:02:40.8303990Z&quot;,\n            &quot;ProviderName&quot;: &quot;Service Control Manager&quot;,\n            &quot;EventId&quot;: 7036,\n            &quot;Level&quot;: 4,\n            &quot;category&quot;:&quot;ABC&quot;\n        },\n        {\n            &quot;time&quot;: &quot;2023-04-04T00:02:40.8303990Z&quot;,\n            &quot;ProviderName&quot;: &quot;Service Control Manager&quot;,\n            &quot;EventId&quot;: 7037,\n            &quot;Level&quot;: 3,\n            &quot;category&quot;:&quot;ABC&quot;\n        }\n]\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-cloud-stream-binder-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1681738639,"post_id":76032059,"comment_id":134100667,"body_markdown":"This error comes from `batch.size` producer config and isn&#39;t associated with high traffic, but rather low traffic when there&#39;s not enough data to send in a full network request","body":"This error comes from <code>batch.size</code> producer config and isn&#39;t associated with high traffic, but rather low traffic when there&#39;s not enough data to send in a full network request"},{"owner":{"account_id":7758338,"reputation":533,"user_id":5871863,"accept_rate":50,"display_name":"Norbert Koch"},"score":0,"creation_date":1683020474,"post_id":76032059,"comment_id":134299260,"body_markdown":"Hi @OneCricketeer. Sorry for the late response. I did some tests. After I batch extremly, the Stream works reliable. After an elmination procedure, I figured out, that the broker couldn&#39;t process this amount of data, which results in long network responses. Scaling up solved the problem.","body":"Hi @OneCricketeer. Sorry for the late response. I did some tests. After I batch extremly, the Stream works reliable. After an elmination procedure, I figured out, that the broker couldn&#39;t process this amount of data, which results in long network responses. Scaling up solved the problem."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683030568,"post_id":76032059,"comment_id":134301221,"body_markdown":"Feel free to to post your solution below as an answer","body":"Feel free to to post your solution below as an answer"}],"owner":{"account_id":7758338,"reputation":533,"user_id":5871863,"accept_rate":50,"display_name":"Norbert Koch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681738538,"creation_date":1681710869,"question_id":76032059,"body_markdown":"I cannot understand, why I always receive `TimeoutException` in my Spring Cloud Stream Kafka Topology.\r\n\r\nI have the following configuration for my Spring Cloud Stream Functions:\r\n\r\n```yaml\r\nspring:\r\n  application:\r\n    name: foo\r\n\r\n  cloud:\r\n    function:\r\n      definition: transformKey;mapData\r\n    stream:\r\n      bindings:\r\n        transformKey-in-0:\r\n          destination: incoming-topic\r\n        transformKey-out-0:\r\n          destination: repartitioned-topic\r\n        mapData-in-0:\r\n          destination: repartitioned-topic\r\n        mapData-in-1:\r\n          destination: joining-topic\r\n        mapData-out-0:\r\n          destination: converted-outcome-topic\r\n\r\n      kafka:\r\n        streams:\r\n          binder:\r\n            min-partition-count: 60\r\n            auto-add-partitions: true\r\n            required-acks: all\r\n            producer-properties:\r\n              retries: 2\r\n            functions:\r\n              transformKey:\r\n                applicationId: transform-key-appid\r\n              mapData:\r\n                applicationId: mapdata-appid\r\n          bindings:\r\n            mapData-in-1:\r\n              consumer:\r\n                materializedAs: joining-store\r\n            transformKey-out-0:\r\n              producer:\r\n                sync: true\r\n```\r\n\r\nMy focus is currently the first iteration, where I just transform the key, so that the information become repartioned. The key is small (just a few bytes) and the value can have a bit more bytes: 1-4 KiB.\r\n\r\nUnfortunatelly I get the following error:\r\n\r\n```\r\nExpiring 3 record(s) for repartitioned-topic-55:120000 ms has passed since batch creation\r\n```\r\n\r\nMy expectation is, when producing information takes to long, the whole function would run slower. But this seems not the case. The the data consumption on `transformKey-in-0` is still processing althoug the batch cannot be cleared as fast. I can&#39;t imagine, that there is no reliable solution for this situation. Or maybe I have a misunderstanding in the process.\r\n\r\nDoes anyone have an idea, how to solve this issue?\r\n\r\n","title":"How make Spring Cloud Stream Kafka Function more reliable during high traffic issues?","body":"<p>I cannot understand, why I always receive <code>TimeoutException</code> in my Spring Cloud Stream Kafka Topology.</p>\n<p>I have the following configuration for my Spring Cloud Stream Functions:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  application:\n    name: foo\n\n  cloud:\n    function:\n      definition: transformKey;mapData\n    stream:\n      bindings:\n        transformKey-in-0:\n          destination: incoming-topic\n        transformKey-out-0:\n          destination: repartitioned-topic\n        mapData-in-0:\n          destination: repartitioned-topic\n        mapData-in-1:\n          destination: joining-topic\n        mapData-out-0:\n          destination: converted-outcome-topic\n\n      kafka:\n        streams:\n          binder:\n            min-partition-count: 60\n            auto-add-partitions: true\n            required-acks: all\n            producer-properties:\n              retries: 2\n            functions:\n              transformKey:\n                applicationId: transform-key-appid\n              mapData:\n                applicationId: mapdata-appid\n          bindings:\n            mapData-in-1:\n              consumer:\n                materializedAs: joining-store\n            transformKey-out-0:\n              producer:\n                sync: true\n</code></pre>\n<p>My focus is currently the first iteration, where I just transform the key, so that the information become repartioned. The key is small (just a few bytes) and the value can have a bit more bytes: 1-4 KiB.</p>\n<p>Unfortunatelly I get the following error:</p>\n<pre><code>Expiring 3 record(s) for repartitioned-topic-55:120000 ms has passed since batch creation\n</code></pre>\n<p>My expectation is, when producing information takes to long, the whole function would run slower. But this seems not the case. The the data consumption on <code>transformKey-in-0</code> is still processing althoug the batch cannot be cleared as fast. I can't imagine, that there is no reliable solution for this situation. Or maybe I have a misunderstanding in the process.</p>\n<p>Does anyone have an idea, how to solve this issue?</p>\n"},{"tags":["java","android","opencv","template-matching"],"comments":[{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1681738478,"post_id":76034859,"comment_id":134100613,"body_markdown":"what exactly is the problem? how to position a widget?","body":"what exactly is the problem? how to position a widget?"},{"owner":{"account_id":28328854,"reputation":1,"user_id":21663444,"display_name":"Mugdho Chakraborty"},"score":0,"creation_date":1681742573,"post_id":76034859,"comment_id":134101789,"body_markdown":"yes need to place any widget in my case webview exactly on the rectangle drawn after template matching.The position and size should vary according to the rectangle size and position on the screen.","body":"yes need to place any widget in my case webview exactly on the rectangle drawn after template matching.The position and size should vary according to the rectangle size and position on the screen."}],"owner":{"account_id":28328854,"reputation":1,"user_id":21663444,"display_name":"Mugdho Chakraborty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681738443,"creation_date":1681732140,"question_id":76034859,"body_markdown":"I am Working on an App where I have to do template matching using openCv library.\r\nI have done that and drawn a rectangle on the matched template.\r\nNow I want to use a webview exactly on the rectangle to play some video.\r\nFor that I am adding the webview programatically on a FrameLayout.\r\nBut I am unable to adjust the positions and the dimensions of the webview on the mobile screen such that it would be placed on the rectangle.I am sharing my code snippet\r\n\r\n```\r\n // Load the source image from a resource\r\n        Drawable drawable = getResources().getDrawable(R.drawable.full_new);///// source from drawable\r\n        Bitmap bitmap1 = ((BitmapDrawable) drawable).getBitmap();\r\n\r\n        // Convert the Bitmap to a Mat object\r\n        Mat src = new Mat();\r\n        Utils.bitmapToMat(bitmap1, src);\r\n\r\n        // Load the template image from a resource\r\n        Drawable drawable2 = getResources().getDrawable(R.drawable.imgg);////// template from drawable\r\n        Bitmap bitmap2 = ((BitmapDrawable) drawable2).getBitmap();\r\n\r\n        // Convert the Bitmap to a Mat object\r\n        Mat template = new Mat();\r\n        Utils.bitmapToMat(bitmap2, template);\r\n\r\n        // Check that the Mats are not empty\r\n        if (src.empty()) {\r\n            Log.e(&quot;TAGGGGGGG&quot;, &quot;Failed to load src image!&quot;);\r\n            return;\r\n        }\r\n\r\n        if (template.empty()) {\r\n            Log.e(&quot;TAGGGGGGG&quot;, &quot;Failed to load template image!&quot;);\r\n            return;\r\n        }\r\n\r\n        // Convert images to grayscale\r\n        Mat sourceImageGray = new Mat();\r\n        Mat templateImageGray = new Mat();\r\n\r\n        Imgproc.cvtColor(src, sourceImageGray, Imgproc.COLOR_BGR2GRAY);\r\n        Imgproc.cvtColor(template, templateImageGray, Imgproc.COLOR_BGR2GRAY);\r\n\r\n        Imgproc.GaussianBlur(sourceImageGray, sourceImageGray, new Size(3, 3), 0);\r\n        Imgproc.GaussianBlur(templateImageGray, templateImageGray, new Size(3, 3), 0);\r\n\r\n        // Check that the grayscale conversion worked\r\n        if (sourceImageGray.empty()) {\r\n            Log.e(&quot;TAGGGGGGG&quot;, &quot;Failed to convert src image to grayscale!&quot;);\r\n            return;\r\n        }\r\n\r\n        if (templateImageGray.empty()) {\r\n            Log.e(&quot;TAGGGGGGG&quot;, &quot;Failed to convert template image to grayscale!&quot;);\r\n            return;\r\n        }\r\n\r\n\r\n\r\n        // Create a Mat object to hold the matching scores\r\n        Mat result = new Mat(src.rows() - template.rows() + 1, src.cols() - template.cols() + 1, CvType.CV_8UC1);\r\n\r\n        // Perform the template matching\r\n        Imgproc.matchTemplate(sourceImageGray, templateImageGray, result, Imgproc.TM_CCOEFF_NORMED);///////////\r\n\r\n        // Find the best match\r\n        Core.MinMaxLocResult mmr = Core.minMaxLoc(result);\r\n        Point maxLoc = mmr.maxLoc;\r\n\r\n        // Draw the rectangle on the image\r\n        int w = template.cols();\r\n        int h = template.rows();\r\n        Point rectPoint1 = maxLoc;\r\n        Point rectPoint2 = new Point(maxLoc.x + w, maxLoc.y + h);\r\n        Scalar color = new Scalar(255, 255, 0);\r\n        int thickness = 10;\r\n        Imgproc.rectangle(src, rectPoint1, rectPoint2, color, thickness);\r\n\r\n        // Apply Canny edge detection on the rectangle region\r\n        Mat rectMat = src.submat((int) rectPoint1.y, (int) rectPoint2.y, (int) rectPoint1.x, (int) rectPoint2.x);\r\n\r\n        int webViewWidth = template.width();\r\n        int webViewHeight = template.height();\r\n        int webViewX = (int) (maxLoc.x + (template.cols() / 2) - (webViewWidth / 2));\r\n        int webViewY = (int) (maxLoc.y + (template.rows() / 2) - (webViewHeight / 2));\r\n\r\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n\r\n        // Create a WebView and add it to a FrameLayout\r\n        WebView webView = new WebView(this);\r\n        FrameLayout frameLayout = findViewById(R.id.frame);\r\n        frameLayout.addView(webView);\r\n\r\n\r\n        frameLayout.setX((float) rectPoint1.x);//98\r\n        frameLayout.setY((float) rectPoint1.y);//182\r\n        frameLayout.getLayoutParams().width =  (int)(rectPoint2.x - rectPoint1.x);;\r\n        frameLayout.getLayoutParams().height = (int) (rectPoint2.y - rectPoint1.y);;\r\n\r\n        webView.setBackgroundColor(Color.TRANSPARENT);\r\n        webView.setVisibility(View.VISIBLE);\r\n        WebSettings webSettings = webView.getSettings();\r\n\r\n        webView.setWebChromeClient(new WebChromeClient());\r\n\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webSettings.setDomStorageEnabled(true);\r\n        webSettings.setPluginState(WebSettings.PluginState.ON);\r\n        webView.setWebViewClient(new WebViewClient() {\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                if (url.startsWith(&quot;http://www.youtube.com&quot;) || url.startsWith(&quot;vnd.youtube&quot;)) {\r\n                    startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(url)));\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n\r\n        String embedUrl = &quot;https://www.youtube.com/embed/&quot; + &quot;uJIfpoRM-3U&quot;;\r\n        webView.loadUrl(embedUrl);\r\n\r\n        // Convert the result Mat to a Bitmap\r\n        Bitmap bitmap = Bitmap.createBitmap(src.cols(), src.rows(), Bitmap.Config.RGB_565);\r\n        Utils.matToBitmap(src, bitmap);\r\n\r\n        // Set the Bitmap to an ImageView\r\n        ImageView imageView = findViewById(R.id.image_view);\r\n        imageView.setImageBitmap(bitmap);\r\n```\r\n\r\nI have done that and drawn a rectangle on the matched template.\r\nNow I want to use a webview exactly on the rectangle to play some video.\r\nFor that I am adding the webview programatically on a FrameLayout.\r\nBut I am unable to adjust the positions and the dimensions of the webview on the mobile screen such that it would be placed on the rectangle","title":"How to add a webview to play a youtube video on it after drawing a rectangle by template matching using openCV in Java android","body":"<p>I am Working on an App where I have to do template matching using openCv library.\nI have done that and drawn a rectangle on the matched template.\nNow I want to use a webview exactly on the rectangle to play some video.\nFor that I am adding the webview programatically on a FrameLayout.\nBut I am unable to adjust the positions and the dimensions of the webview on the mobile screen such that it would be placed on the rectangle.I am sharing my code snippet</p>\n<pre><code> // Load the source image from a resource\n        Drawable drawable = getResources().getDrawable(R.drawable.full_new);///// source from drawable\n        Bitmap bitmap1 = ((BitmapDrawable) drawable).getBitmap();\n\n        // Convert the Bitmap to a Mat object\n        Mat src = new Mat();\n        Utils.bitmapToMat(bitmap1, src);\n\n        // Load the template image from a resource\n        Drawable drawable2 = getResources().getDrawable(R.drawable.imgg);////// template from drawable\n        Bitmap bitmap2 = ((BitmapDrawable) drawable2).getBitmap();\n\n        // Convert the Bitmap to a Mat object\n        Mat template = new Mat();\n        Utils.bitmapToMat(bitmap2, template);\n\n        // Check that the Mats are not empty\n        if (src.empty()) {\n            Log.e(&quot;TAGGGGGGG&quot;, &quot;Failed to load src image!&quot;);\n            return;\n        }\n\n        if (template.empty()) {\n            Log.e(&quot;TAGGGGGGG&quot;, &quot;Failed to load template image!&quot;);\n            return;\n        }\n\n        // Convert images to grayscale\n        Mat sourceImageGray = new Mat();\n        Mat templateImageGray = new Mat();\n\n        Imgproc.cvtColor(src, sourceImageGray, Imgproc.COLOR_BGR2GRAY);\n        Imgproc.cvtColor(template, templateImageGray, Imgproc.COLOR_BGR2GRAY);\n\n        Imgproc.GaussianBlur(sourceImageGray, sourceImageGray, new Size(3, 3), 0);\n        Imgproc.GaussianBlur(templateImageGray, templateImageGray, new Size(3, 3), 0);\n\n        // Check that the grayscale conversion worked\n        if (sourceImageGray.empty()) {\n            Log.e(&quot;TAGGGGGGG&quot;, &quot;Failed to convert src image to grayscale!&quot;);\n            return;\n        }\n\n        if (templateImageGray.empty()) {\n            Log.e(&quot;TAGGGGGGG&quot;, &quot;Failed to convert template image to grayscale!&quot;);\n            return;\n        }\n\n\n\n        // Create a Mat object to hold the matching scores\n        Mat result = new Mat(src.rows() - template.rows() + 1, src.cols() - template.cols() + 1, CvType.CV_8UC1);\n\n        // Perform the template matching\n        Imgproc.matchTemplate(sourceImageGray, templateImageGray, result, Imgproc.TM_CCOEFF_NORMED);///////////\n\n        // Find the best match\n        Core.MinMaxLocResult mmr = Core.minMaxLoc(result);\n        Point maxLoc = mmr.maxLoc;\n\n        // Draw the rectangle on the image\n        int w = template.cols();\n        int h = template.rows();\n        Point rectPoint1 = maxLoc;\n        Point rectPoint2 = new Point(maxLoc.x + w, maxLoc.y + h);\n        Scalar color = new Scalar(255, 255, 0);\n        int thickness = 10;\n        Imgproc.rectangle(src, rectPoint1, rectPoint2, color, thickness);\n\n        // Apply Canny edge detection on the rectangle region\n        Mat rectMat = src.submat((int) rectPoint1.y, (int) rectPoint2.y, (int) rectPoint1.x, (int) rectPoint2.x);\n\n        int webViewWidth = template.width();\n        int webViewHeight = template.height();\n        int webViewX = (int) (maxLoc.x + (template.cols() / 2) - (webViewWidth / 2));\n        int webViewY = (int) (maxLoc.y + (template.rows() / 2) - (webViewHeight / 2));\n\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n        ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n\n\n        // Create a WebView and add it to a FrameLayout\n        WebView webView = new WebView(this);\n        FrameLayout frameLayout = findViewById(R.id.frame);\n        frameLayout.addView(webView);\n\n\n        frameLayout.setX((float) rectPoint1.x);//98\n        frameLayout.setY((float) rectPoint1.y);//182\n        frameLayout.getLayoutParams().width =  (int)(rectPoint2.x - rectPoint1.x);;\n        frameLayout.getLayoutParams().height = (int) (rectPoint2.y - rectPoint1.y);;\n\n        webView.setBackgroundColor(Color.TRANSPARENT);\n        webView.setVisibility(View.VISIBLE);\n        WebSettings webSettings = webView.getSettings();\n\n        webView.setWebChromeClient(new WebChromeClient());\n\n        webSettings.setJavaScriptEnabled(true);\n        webSettings.setDomStorageEnabled(true);\n        webSettings.setPluginState(WebSettings.PluginState.ON);\n        webView.setWebViewClient(new WebViewClient() {\n            @Override\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\n                if (url.startsWith(&quot;http://www.youtube.com&quot;) || url.startsWith(&quot;vnd.youtube&quot;)) {\n                    startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(url)));\n                    return true;\n                }\n                return false;\n            }\n        });\n\n\n        String embedUrl = &quot;https://www.youtube.com/embed/&quot; + &quot;uJIfpoRM-3U&quot;;\n        webView.loadUrl(embedUrl);\n\n        // Convert the result Mat to a Bitmap\n        Bitmap bitmap = Bitmap.createBitmap(src.cols(), src.rows(), Bitmap.Config.RGB_565);\n        Utils.matToBitmap(src, bitmap);\n\n        // Set the Bitmap to an ImageView\n        ImageView imageView = findViewById(R.id.image_view);\n        imageView.setImageBitmap(bitmap);\n</code></pre>\n<p>I have done that and drawn a rectangle on the matched template.\nNow I want to use a webview exactly on the rectangle to play some video.\nFor that I am adding the webview programatically on a FrameLayout.\nBut I am unable to adjust the positions and the dimensions of the webview on the mobile screen such that it would be placed on the rectangle</p>\n"},{"tags":["java","arrays","extending"],"comments":[{"owner":{"account_id":1175311,"reputation":15568,"user_id":1151456,"accept_rate":83,"display_name":"Abubakkar"},"score":4,"creation_date":1350230652,"post_id":12883956,"comment_id":17444997,"body_markdown":"you can use ArrayList for it. It is extendable.","body":"you can use ArrayList for it. It is extendable."},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1350230698,"post_id":12883956,"comment_id":17445011,"body_markdown":"[`ArrayList`](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html) is what you want.","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>ArrayList</code></a> is what you want."},{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":4,"creation_date":1350230804,"post_id":12883956,"comment_id":17445040,"body_markdown":"Why can&#39;t you use `ArrayList`?","body":"Why can&#39;t you use <code>ArrayList</code>?"},{"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"score":3,"creation_date":1350237002,"post_id":12883956,"comment_id":17446791,"body_markdown":"If you can&#39;t use ArrayList (why?) then take a look at the ArrayList source code, since this does what you need (although it doesn&#39;t copy the array on *every* addition) and write your own version based upon it.","body":"If you can&#39;t use ArrayList (why?) then take a look at the ArrayList source code, since this does what you need (although it doesn&#39;t copy the array on <i>every</i> addition) and write your own version based upon it."}],"answers":[{"tags":[],"owner":{"account_id":338634,"reputation":5266,"user_id":667608,"accept_rate":100,"display_name":"chantheman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350231111,"creation_date":1350230675,"answer_id":12883973,"question_id":12883956,"body_markdown":"You should use an ArrayList. See this [tutorial][1].\r\n\r\n\r\n  [1]: http://www.dreamincode.net/forums/topic/58935-arraylist-vs-static-arrays/\r\n\r\nIf you can&#39;t use an array list, from your edit, then you need to loop the array and move each element into a bigger array based on the length of you current array. \r\n\r\nA simple google search should answer this.","title":"Create an extendable array in Java","body":"<p>You should use an ArrayList. See this <a href=\"http://www.dreamincode.net/forums/topic/58935-arraylist-vs-static-arrays/\" rel=\"nofollow\">tutorial</a>.</p>\n\n<p>If you can't use an array list, from your edit, then you need to loop the array and move each element into a bigger array based on the length of you current array. </p>\n\n<p>A simple google search should answer this.</p>\n"},{"tags":[],"owner":{"account_id":163092,"reputation":1622,"user_id":384984,"accept_rate":76,"display_name":"Federico Lenzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350230735,"creation_date":1350230735,"answer_id":12883985,"question_id":12883956,"body_markdown":"Use \r\n[ArrayList][1] check the javadoc, I think it is what are you looking for\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html","title":"Create an extendable array in Java","body":"<p>Use \n<a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"nofollow\">ArrayList</a> check the javadoc, I think it is what are you looking for</p>\n"},{"tags":[],"owner":{"account_id":1482219,"reputation":7021,"user_id":1391333,"accept_rate":97,"display_name":"ElderMael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350230773,"creation_date":1350230773,"answer_id":12883992,"question_id":12883956,"body_markdown":"I recommend you to check the [source code][1] of the ArrayList class.\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java","title":"Create an extendable array in Java","body":"<p>I recommend you to check the <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java\" rel=\"nofollow\">source code</a> of the ArrayList class.</p>\n"},{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350231005,"creation_date":1350231005,"answer_id":12884034,"question_id":12883956,"body_markdown":"As others recommended, use ArrayList if possible. But if you can&#39;t for some reason (I guess homework?), then have a look at [System.arraycopy][1] to efficiently copy arrays.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29","title":"Create an extendable array in Java","body":"<p>As others recommended, use ArrayList if possible. But if you can't for some reason (I guess homework?), then have a look at <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29\" rel=\"nofollow\">System.arraycopy</a> to efficiently copy arrays.</p>\n"},{"tags":[],"owner":{"account_id":80219,"reputation":34027,"user_id":226975,"accept_rate":80,"display_name":"Wyzard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1350231136,"creation_date":1350231136,"answer_id":12884051,"question_id":12883956,"body_markdown":"If you can&#39;t use ArrayList, then you&#39;ll have to write your own class that basically does the same thing as ArrayList.\r\n\r\nYour class will need to hold a reference to an array, as well as an integer that says how many values have been put into it (since it may be less than the current size of the array).\r\n\r\nWhen an element is added to the array, check that integer against the array&#39;s current size.  If it&#39;s less than the array&#39;s size, it means there&#39;s room for another element, so just put the new value into the array using the integer as the index, then add one to the integer.  If the integer is equal to or greater than the array&#39;s size, it means you need a bigger array, and you&#39;ll have to write the code to create a new array and copy all the values to it.\r\n\r\nWhen you create a bigger array, you&#39;ll probably want to make it big enough to hold more than one additional value, so that you don&#39;t have to create new arrays (and copy lots of values) *every* time you add a new element.  A common technique is to make the new array size some percentage of the old one, like 150%.","title":"Create an extendable array in Java","body":"<p>If you can't use ArrayList, then you'll have to write your own class that basically does the same thing as ArrayList.</p>\n\n<p>Your class will need to hold a reference to an array, as well as an integer that says how many values have been put into it (since it may be less than the current size of the array).</p>\n\n<p>When an element is added to the array, check that integer against the array's current size.  If it's less than the array's size, it means there's room for another element, so just put the new value into the array using the integer as the index, then add one to the integer.  If the integer is equal to or greater than the array's size, it means you need a bigger array, and you'll have to write the code to create a new array and copy all the values to it.</p>\n\n<p>When you create a bigger array, you'll probably want to make it big enough to hold more than one additional value, so that you don't have to create new arrays (and copy lots of values) <em>every</em> time you add a new element.  A common technique is to make the new array size some percentage of the old one, like 150%.</p>\n"},{"tags":[],"owner":{"account_id":412591,"reputation":4348,"user_id":785736,"accept_rate":51,"display_name":"Mr T."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350231499,"creation_date":1350231499,"answer_id":12884099,"question_id":12883956,"body_markdown":"This code was not tested but it should give you a starting point on what you should do.\r\nI implemented only on Integer but i trust you can extend this even more.\r\n\r\n    public class ExtendableArray {\r\n    \t\r\n    \tprivate Integer[] arr;\r\n    \t\r\n    \tpublic ExtendableArray(int capacity) {\r\n    \t\tarr = new Integer[capacity];\r\n    \t}\r\n    \t\r\n    \tpublic void add(Integer item) {\r\n    \t\tif (getLastIndex() == arr.length) {\r\n    \t\t\tgenerateBiggerArray();\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n    \t\t\tif (arr[i] == null) {\r\n    \t\t\t\tarr[i] = item;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate void generateBiggerArray() {\r\n    \t\tint currentCapacity = arr.length;\r\n    \t\tInteger[] tempArr = new Integer[currentCapacity + 4];\r\n    \t\tfor(int i = 0; i &lt; arr.length; i++) {\r\n    \t\t\ttempArr[i] = arr[i];\r\n    \t\t}\r\n    \t\tthis.arr = tempArr;\r\n    \t}\r\n    \t\r\n    \tprivate int getLastIndex() {\r\n    \t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n    \t\t\tif (arr[i] == null)\r\n    \t\t\t\treturn i;\r\n    \t\t}\r\n    \t\treturn arr.length;\r\n    \t}\r\n    }\r\n\r\nBTW - there are many places in this code that you can improve (efficiency etc..) i encourage you to try. This is a good exercise :)","title":"Create an extendable array in Java","body":"<p>This code was not tested but it should give you a starting point on what you should do.\nI implemented only on Integer but i trust you can extend this even more.</p>\n\n<pre><code>public class ExtendableArray {\n\n    private Integer[] arr;\n\n    public ExtendableArray(int capacity) {\n        arr = new Integer[capacity];\n    }\n\n    public void add(Integer item) {\n        if (getLastIndex() == arr.length) {\n            generateBiggerArray();\n            return;\n        }\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[i] == null) {\n                arr[i] = item;\n                break;\n            }\n        }\n    }\n\n    private void generateBiggerArray() {\n        int currentCapacity = arr.length;\n        Integer[] tempArr = new Integer[currentCapacity + 4];\n        for(int i = 0; i &lt; arr.length; i++) {\n            tempArr[i] = arr[i];\n        }\n        this.arr = tempArr;\n    }\n\n    private int getLastIndex() {\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[i] == null)\n                return i;\n        }\n        return arr.length;\n    }\n}\n</code></pre>\n\n<p>BTW - there are many places in this code that you can improve (efficiency etc..) i encourage you to try. This is a good exercise :)</p>\n"}],"owner":{"account_id":1908567,"reputation":627,"user_id":1722950,"accept_rate":91,"display_name":"Alex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3460,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":12884051,"answer_count":6,"score":0,"last_activity_date":1681737590,"creation_date":1350230552,"question_id":12883956,"body_markdown":"I want to create an extendable array.\r\n\r\nWhenever you try and add an element into the array and it&#39;s full:\r\n\r\n- it should copy every element from the current array into the new one  \r\n (including the new element that you want to add),\r\n\r\n- then it should delete the old array. \r\n\r\nWould anyone be able to give me some pointers on how to do this?\r\n\r\n**EDIT:**  \r\nNote: I can&#39;t use an ArrayList for this.","title":"Create an extendable array in Java","body":"<p>I want to create an extendable array.</p>\n<p>Whenever you try and add an element into the array and it's full:</p>\n<ul>\n<li><p>it should copy every element from the current array into the new one<br />\n(including the new element that you want to add),</p>\n</li>\n<li><p>then it should delete the old array.</p>\n</li>\n</ul>\n<p>Would anyone be able to give me some pointers on how to do this?</p>\n<p><strong>EDIT:</strong><br />\nNote: I can't use an ArrayList for this.</p>\n"},{"tags":["java","string","object"],"comments":[{"owner":{"account_id":57768,"reputation":2919,"user_id":173074,"accept_rate":75,"display_name":"Ricky Clarkson"},"score":2,"creation_date":1286445883,"post_id":3880274,"comment_id":4130286,"body_markdown":"Where does this Object[] come from?","body":"Where does this Object[] come from?"},{"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"score":0,"creation_date":1578832639,"post_id":3880274,"comment_id":105560322,"body_markdown":"@RickyClarkson Thanks Rick, it&#39;s a good point to avoid redundant boxing unboxing.","body":"@RickyClarkson Thanks Rick, it&#39;s a good point to avoid redundant boxing unboxing."}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1500660933,"creation_date":1286443489,"answer_id":3880299,"question_id":3880274,"body_markdown":"this is conversion  \r\n\r\n    for(int i = 0 ; i &lt; objectArr.length ; i ++){  \r\n       try {\r\n          strArr[i] = objectArr[i].toString();\r\n       } catch (NullPointerException ex) {\r\n           // do some default initialization\r\n       }\r\n    }  \r\n\r\nThis is casting \r\n \r\n\r\n    String [] strArr = (String[]) objectArr;  //this will give you class cast exception\r\n\r\n\r\n**Update:**  \r\n\r\n**Tweak 1**\r\n   \r\n\r\n     String[] stringArray = Arrays.copyOf(objectArray, objectArray.length, String[].class);\r\n\r\n**Tweak2**\r\n\r\n     Arrays.asList(Object_Array).toArray(new String[Object_Array.length]);\r\n\r\n**Note**:That only works if the objects are all Strings; his current code works even if they are not  \r\n  \r\nforTweak1 :only on Java 1.6 and above","title":"How to convert the Object[] to String[] in Java?","body":"<p>this is conversion  </p>\n\n<pre><code>for(int i = 0 ; i &lt; objectArr.length ; i ++){  \n   try {\n      strArr[i] = objectArr[i].toString();\n   } catch (NullPointerException ex) {\n       // do some default initialization\n   }\n}  \n</code></pre>\n\n<p>This is casting </p>\n\n<pre><code>String [] strArr = (String[]) objectArr;  //this will give you class cast exception\n</code></pre>\n\n<p><strong>Update:</strong>  </p>\n\n<p><strong>Tweak 1</strong></p>\n\n<pre><code> String[] stringArray = Arrays.copyOf(objectArray, objectArray.length, String[].class);\n</code></pre>\n\n<p><strong>Tweak2</strong></p>\n\n<pre><code> Arrays.asList(Object_Array).toArray(new String[Object_Array.length]);\n</code></pre>\n\n<p><strong>Note</strong>:That only works if the objects are all Strings; his current code works even if they are not  </p>\n\n<p>forTweak1 :only on Java 1.6 and above</p>\n"},{"tags":[],"owner":{"account_id":51415,"reputation":24508,"user_id":153621,"accept_rate":88,"display_name":"nanda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1286444305,"creation_date":1286444305,"answer_id":3880387,"question_id":3880274,"body_markdown":"I think this is the simplest way if all entries in objectArr are String:\r\n\r\n    for(int i = 0 ; i &lt; objectArr.length ; i ++){\r\n        strArr[i] = (String) objectArr[i];\r\n    }\r\n\r\n  ","title":"How to convert the Object[] to String[] in Java?","body":"<p>I think this is the simplest way if all entries in objectArr are String:</p>\n\n<pre><code>for(int i = 0 ; i &lt; objectArr.length ; i ++){\n    strArr[i] = (String) objectArr[i];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1286444956,"creation_date":1286444328,"answer_id":3880389,"question_id":3880274,"body_markdown":"Simply casting like this `String[] strings = (String[]) objectArray;` probably won&#39;t work.\r\n\r\nTry something like this:\r\n\r\n    public static String[] asStrings(Object... objArray) {\r\n        String[] strArray = new String[objArray.length];\r\n        for (int i = 0; i &lt; objArray.length; i++)\r\n            strArray[i] = String.valueOf(objArray[i]);\r\n        return strArray;\r\n    }\r\n\r\nYou could then use the function either like this\r\n    \r\n    Object[] objs = { &quot;hello world&quot;, -1.0, 5 };\r\n    String[] strings = asStrings(objs);\r\n\r\nor like this\r\n\r\n    String[] strings = asStrings(&quot;hello world&quot;, -1.0, 5);\r\n","title":"How to convert the Object[] to String[] in Java?","body":"<p>Simply casting like this <code>String[] strings = (String[]) objectArray;</code> probably won't work.</p>\n\n<p>Try something like this:</p>\n\n<pre><code>public static String[] asStrings(Object... objArray) {\n    String[] strArray = new String[objArray.length];\n    for (int i = 0; i &lt; objArray.length; i++)\n        strArray[i] = String.valueOf(objArray[i]);\n    return strArray;\n}\n</code></pre>\n\n<p>You could then use the function either like this</p>\n\n<pre><code>Object[] objs = { \"hello world\", -1.0, 5 };\nString[] strings = asStrings(objs);\n</code></pre>\n\n<p>or like this</p>\n\n<pre><code>String[] strings = asStrings(\"hello world\", -1.0, 5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47259,"reputation":21919,"user_id":139909,"accept_rate":87,"display_name":"bdhar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1286445016,"creation_date":1286444555,"answer_id":3880408,"question_id":3880274,"body_markdown":"I guess you could also use [System.arraycopy][1]\r\n\r\n    System.arraycopy(objarray, 0, strarray, 0, objarray.length);\r\n\r\nprovided, `strarray` is of the length `objarray.length` and objarray contain only strings. Or it would throw ArrayStoreException. See aioobe&#39;s comment.\r\n\r\n\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/System.html","title":"How to convert the Object[] to String[] in Java?","body":"<p>I guess you could also use <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/System.html\" rel=\"nofollow\">System.arraycopy</a></p>\n\n<pre><code>System.arraycopy(objarray, 0, strarray, 0, objarray.length);\n</code></pre>\n\n<p>provided, <code>strarray</code> is of the length <code>objarray.length</code> and objarray contain only strings. Or it would throw ArrayStoreException. See aioobe's comment.</p>\n"},{"tags":[],"owner":{"account_id":1092885,"reputation":37669,"user_id":1087131,"accept_rate":54,"display_name":"Stephen Paul"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1591124132,"creation_date":1591123653,"answer_id":62159218,"question_id":3880274,"body_markdown":"Java 8 solution:\r\n\r\n    String[] strArr = Arrays.stream(objArr).map(Object::toString).toArray(String[]::new);","title":"How to convert the Object[] to String[] in Java?","body":"<p>Java 8 solution:</p>\n\n<pre><code>String[] strArr = Arrays.stream(objArr).map(Object::toString).toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646920957,"creation_date":1646920957,"answer_id":71425427,"question_id":3880274,"body_markdown":"My point is not fit for the answer exactly (scenario specific), but it may happen someone unknowingly ended upon in object[].\r\n\r\n in my case I was trying to convert List&lt;String&gt; to String[] &amp; on using .toArray() on list, it converted it to Object[]\r\n\r\nSo, specific to the mentioned scenario, a one-line solution\r\n\r\n\tList&lt;String&gt; list = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\r\n\tString[] array = list.toArray(new String[list.size()]);\r\n\tSystem.out.println(Arrays.toString(array)); // [a, b, c, d]\r\n\r\n","title":"How to convert the Object[] to String[] in Java?","body":"<p>My point is not fit for the answer exactly (scenario specific), but it may happen someone unknowingly ended upon in object[].</p>\n<p>in my case I was trying to convert List to String[] &amp; on using .toArray() on list, it converted it to Object[]</p>\n<p>So, specific to the mentioned scenario, a one-line solution</p>\n<pre><code>List&lt;String&gt; list = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\nString[] array = list.toArray(new String[list.size()]);\nSystem.out.println(Arrays.toString(array)); // [a, b, c, d]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28285300,"reputation":1,"user_id":21626352,"display_name":"Thor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681737546,"creation_date":1681304492,"answer_id":75995777,"question_id":3880274,"body_markdown":"The argument `toArray` is just a placeholder for the type so you do not need to allocate a certain size.\r\n\r\nUsing the following line will do just fine:\r\n```\r\nString[] array = list.toArray(new String[0]);\r\n```\r\nHere is another variation of the above line:\r\n```\r\nString [] strArr = Arrays.asList(Object_Array).toArray(new String[0]);\r\n```","title":"How to convert the Object[] to String[] in Java?","body":"<p>The argument <code>toArray</code> is just a placeholder for the type so you do not need to allocate a certain size.</p>\n<p>Using the following line will do just fine:</p>\n<pre><code>String[] array = list.toArray(new String[0]);\n</code></pre>\n<p>Here is another variation of the above line:</p>\n<pre><code>String [] strArr = Arrays.asList(Object_Array).toArray(new String[0]);\n</code></pre>\n"}],"owner":{"account_id":164508,"reputation":20225,"user_id":387298,"accept_rate":91,"display_name":"Questions"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30271,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":3880299,"answer_count":7,"score":10,"last_activity_date":1681737546,"creation_date":1286443324,"question_id":3880274,"body_markdown":"I have a question about Java. I have an `Object[]` (Java default, not the user-defined) and I want to convert it to a `String[]`. Can anyone help me? thank you.","title":"How to convert the Object[] to String[] in Java?","body":"<p>I have a question about Java. I have an <code>Object[]</code> (Java default, not the user-defined) and I want to convert it to a <code>String[]</code>. Can anyone help me? thank you.</p>\n"},{"tags":["java","java-11","pdftron"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1681303301,"post_id":75995455,"comment_id":134034223,"body_markdown":"Does it work for versions below  11.0.8? Which version was the last known to work?","body":"Does it work for versions below  11.0.8? Which version was the last known to work?"},{"owner":{"account_id":4642163,"reputation":2513,"user_id":3761687,"display_name":"Ryan"},"score":0,"creation_date":1681316554,"post_id":75995455,"comment_id":134037922,"body_markdown":"Please provide your code where you call `pdftron.PDF.PDFNet.setTempPath`. Though that is a very old version of PDFNet, the namespace for a long time now has been `com.pdftron.pdf.PDFNet.setTempPath()` so simply update the SDK might resolve your issue.","body":"Please provide your code where you call <code>pdftron.PDF.PDFNet.setTempPath</code>. Though that is a very old version of PDFNet, the namespace for a long time now has been <code>com.pdftron.pdf.PDFNet.setTempPath()</code> so simply update the SDK might resolve your issue."},{"owner":{"account_id":10694513,"reputation":1,"user_id":7872204,"display_name":"Jyoti"},"score":0,"creation_date":1681725932,"post_id":75995455,"comment_id":134097502,"body_markdown":"@Hulk : I tried with 11.0.7 . It was working in that version","body":"@Hulk : I tried with 11.0.7 . It was working in that version"},{"owner":{"account_id":10694513,"reputation":1,"user_id":7872204,"display_name":"Jyoti"},"score":0,"creation_date":1681820667,"post_id":75995455,"comment_id":134115337,"body_markdown":"@ryan : Here is sample code we are using \npublic static void setTempPath(String var0) throws PDFNetException {\n        try {\n            com.pdftron.pdf.PDFNet.setTempPath(var0);\n        } catch (com.pdftron.common.PDFNetException var2) {\n            throw new PDFNetException(var2);\n        }\n    }\n\nIt is called using one method \nFile tempPDFTron = new File (&quot;my path&quot;)\nif (! tempPDFTron.exists())\n\t\t{\n\t\t\ttempPDFTron.mkdirs();\n\t\t}\n\t\tPDFNet.setTempPath(tempPDFTron.toString());\n\t\tPDFNet.setPersistentCachePath(tempPDFTron.toString());","body":"@ryan : Here is sample code we are using  public static void setTempPath(String var0) throws PDFNetException {         try {             com.pdftron.pdf.PDFNet.setTempPath(var0);         } catch (com.pdftron.common.PDFNetException var2) {             throw new PDFNetException(var2);         }     }  It is called using one method  File tempPDFTron = new File (&quot;my path&quot;) if (! tempPDFTron.exists()) \t\t{ \t\t\ttempPDFTron.mkdirs(); \t\t} \t\tPDFNet.setTempPath(tempPDFTron.toString()); \t\tPDFNet.setPersistentCachePath(tempPDFTron.toString());"},{"owner":{"account_id":4642163,"reputation":2513,"user_id":3761687,"display_name":"Ryan"},"score":0,"creation_date":1681944762,"post_id":75995455,"comment_id":134140308,"body_markdown":"Sorry, I don&#39;t follow your comment. Please update your question to reflect that latest state you are in and the latest error/exception.","body":"Sorry, I don&#39;t follow your comment. Please update your question to reflect that latest state you are in and the latest error/exception."}],"owner":{"account_id":10694513,"reputation":1,"user_id":7872204,"display_name":"Jyoti"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681737491,"creation_date":1681302510,"question_id":75995455,"body_markdown":"I have a project where I am using PDFNet jar for using its functionality. Recently I upgraded my openjdk version to **11.0.12** and started facing issue of NullPointerException while loading dll file.\r\nError Shown :\r\n\r\n```none\r\njava.lang.ExceptionInInitializerError  \r\n        at pdftron.PDF.PDFNet.setTempPath(PDFNet.java:390)\r\n    &#160;&#160;&#160; at abc.PdfViewerLicense.setupTempDirectory(PdfViewerLicense.java:70)\r\n    &#160;&#160;&#160; at abc.PdfViewerLicense.&lt;init&gt;(PdfViewerLicense.java:44)\r\n    &#160;&#160;&#160; at abc.PdfViewerLicense.initialize(PdfViewerLicense.java:98)\r\n    &#160;&#160;&#160; at abc.PdfTronUtil.convertTextToPDF(PdfTronUtil.java:251)\r\n    &#160;&#160;&#160; at abc.PdfTronUtilSpec.API to merge PDF file(PdfTronUtilSpec.groovy:167)\r\n    Caused by: java.lang.NullPointerException\r\n    &#160;&#160;&#160; at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2649)\r\n    &#160;&#160;&#160; at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\r\n    &#160;&#160;&#160; at java.base/java.lang.System.loadLibrary(System.java:1873)\r\n    &#160;&#160;&#160; at com.pdftron.pdf.PDFNet.&lt;clinit&gt;(PDFNet.java:22)\r\n```\r\n\r\n\r\n\r\nPlease suggest any solution for this issue in the given version of openjdk (11.0.12). \r\n\r\n\r\nTried with few openjdk versions above 11.0.8. Facing same issue in all version.","title":"Facing issue of ClassLoader.loadLibrary() in open jdk 11.0.8+","body":"<p>I have a project where I am using PDFNet jar for using its functionality. Recently I upgraded my openjdk version to <strong>11.0.12</strong> and started facing issue of NullPointerException while loading dll file.\nError Shown :</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.ExceptionInInitializerError  \n        at pdftron.PDF.PDFNet.setTempPath(PDFNet.java:390)\n        at abc.PdfViewerLicense.setupTempDirectory(PdfViewerLicense.java:70)\n        at abc.PdfViewerLicense.&lt;init&gt;(PdfViewerLicense.java:44)\n        at abc.PdfViewerLicense.initialize(PdfViewerLicense.java:98)\n        at abc.PdfTronUtil.convertTextToPDF(PdfTronUtil.java:251)\n        at abc.PdfTronUtilSpec.API to merge PDF file(PdfTronUtilSpec.groovy:167)\n    Caused by: java.lang.NullPointerException\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2649)\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\n        at java.base/java.lang.System.loadLibrary(System.java:1873)\n        at com.pdftron.pdf.PDFNet.&lt;clinit&gt;(PDFNet.java:22)\n</code></pre>\n<p>Please suggest any solution for this issue in the given version of openjdk (11.0.12).</p>\n<p>Tried with few openjdk versions above 11.0.8. Facing same issue in all version.</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1681240803,"post_id":75982292,"comment_id":134024008,"body_markdown":"By default a GridBagLayout will display the component in the center, unless one of th the component uses the &quot;weighty&quot; constraint, so you would need to add a dummy component to the bottom of the panel.. An easier approach is to  use a &quot;wrapper&quot; panel. The wrapper panel can use a BorderLayout. Then you add your westScrollPanel to the BorderLayout.PAGE_START. Add the wrapper panel to the frame. Now the components will display from the top.","body":"By default a GridBagLayout will display the component in the center, unless one of th the component uses the &quot;weighty&quot; constraint, so you would need to add a dummy component to the bottom of the panel.. An easier approach is to  use a &quot;wrapper&quot; panel. The wrapper panel can use a BorderLayout. Then you add your westScrollPanel to the BorderLayout.PAGE_START. Add the wrapper panel to the frame. Now the components will display from the top."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1681252597,"post_id":75982292,"comment_id":134026077,"body_markdown":"You should NOT set the size of anything. Application can run on different screens with different resolutions so they need to be flexible and adjust. Each layout manager is designed for different functionality. That is why many also have constraints so you can customize the behaviour. This makes them very flexible and powerful.  You need to use the appropriate layout manager or combination of layout managers.","body":"You should NOT set the size of anything. Application can run on different screens with different resolutions so they need to be flexible and adjust. Each layout manager is designed for different functionality. That is why many also have constraints so you can customize the behaviour. This makes them very flexible and powerful.  You need to use the appropriate layout manager or combination of layout managers."},{"owner":{"account_id":2001051,"reputation":1982,"user_id":1820715,"accept_rate":75,"display_name":"Magno C"},"score":0,"creation_date":1681254762,"post_id":75982292,"comment_id":134026327,"body_markdown":"All Swing programmers who commented on my questions have a bad habit of saying what I should&#39;t do, but none have the ability to type a single line of code to show the solution with &quot;appropriate layout manager or combination of layout managers&quot;. Three times I showed the code. If I should&#39;t do this way, show us better. You Swing guys are too theoretical.","body":"All Swing programmers who commented on my questions have a bad habit of saying what I should&#39;t do, but none have the ability to type a single line of code to show the solution with &quot;appropriate layout manager or combination of layout managers&quot;. Three times I showed the code. If I should&#39;t do this way, show us better. You Swing guys are too theoretical."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1681261811,"post_id":75982292,"comment_id":134027042,"body_markdown":"*and know nothing about Swing.* - which is why you have been given suggestions on how to use Swing effectively. Don&#39;t blame Swing for your lack of knowledge. *Three times I showed the code.* - you showed a few lines of random code. We need the full context to give a complete answer. This is called an [mre]. Because an MRE was not provided I gave you a verbal explanation of how to use layout managers to achieve you desired effect, which you did incorporate in your answer. You are welcome.","body":"<i>and know nothing about Swing.</i> - which is why you have been given suggestions on how to use Swing effectively. Don&#39;t blame Swing for your lack of knowledge. <i>Three times I showed the code.</i> - you showed a few lines of random code. We need the full context to give a complete answer. This is called an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Because an MRE was not provided I gave you a verbal explanation of how to use layout managers to achieve you desired effect, which you did incorporate in your answer. You are welcome."}],"answers":[{"tags":[],"owner":{"account_id":2001051,"reputation":1982,"user_id":1820715,"accept_rate":75,"display_name":"Magno C"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1681737421,"creation_date":1681251717,"answer_id":75990523,"question_id":75982292,"body_markdown":"Solved:\r\n\r\n```\r\n\tpublic void addScrollFrame( JPanel toWho, JPanel buttonPanel ) {\r\n\t    JButton btnAddType = new JButton(&quot;Add&quot;);\r\n\t    btnAddType.addActionListener( e -&gt; {\r\n\t    \tJLabel card = addNewCard(&quot;This is a new Card!&quot;);\r\n\t    \t// Store it for future reference (Ex. change label)\r\n\t    });\r\n\t    buttonPanel.add(btnAddType);\r\n\r\n\t    JButton btnDeleteField = new JButton(&quot;Del&quot;);\r\n\t    buttonPanel.add(btnDeleteField);\r\n\r\n\t    JButton btnSaveRule = new JButton(&quot;Save&quot;);\r\n\t    buttonPanel.add(btnSaveRule);\r\n\t    \r\n\t    this.westContentPanel = new JPanel();\r\n\t    westContentPanel.setLayout( new BoxLayout( westContentPanel, BoxLayout.Y_AXIS)  );\r\n\t    \r\n\t    JScrollPane scroll = new JScrollPane(westContentPanel);\r\n\t    scroll.setHorizontalScrollBarPolicy( JScrollPane.HORIZONTAL_SCROLLBAR_NEVER );\r\n\t    scroll.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n\t    \r\n\t    scroll.setViewportView(westContentPanel); \r\n\t    toWho.add(scroll, BorderLayout.CENTER);\r\n\t}\r\n\r\n    private JLabel addNewCard(String text) {\r\n    \tJLabel vesselLabel = new JLabel( text, JLabel.LEFT );\r\n    \tvesselLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 10));\r\n    \tvesselLabel.setOpaque(true);\r\n    \tvesselLabel.setBackground(Color.WHITE);\r\n    \tvesselLabel.setCursor( new Cursor( Cursor.HAND_CURSOR ) );\r\n    \tvesselLabel.setBorder( BorderFactory.createEmptyBorder(0, 3, 0, 0) );\r\n    \tvesselLabel.setPreferredSize( new Dimension(200,35) );\r\n    \t\r\n    \tJPanel jp = new JPanel( new BorderLayout() );\r\n    \tjp.setMaximumSize( new Dimension(200,35) );\r\n    \tjp.setBorder( BorderFactory.createCompoundBorder(\r\n    \t\tBorderFactory.createEmptyBorder(3, 0, 0, 0), BorderFactory.createLineBorder( Color.BLACK )\r\n    \t));\r\n    \tjp.add( vesselLabel );\r\n    \tthis.westContentPanel.add(jp);    \t\r\n        this.frame.revalidate();\t\r\n        return vesselLabel;\r\n\t}\t\r\n```\r\n\r\n```toWho``` is a Panel to use as container and ```buttonPanel ``` a panel to use as button bar.\r\n\r\n```\r\n\t\tJPanel westButtonsPanel = new JPanel();\r\n        westButtonsPanel.setPreferredSize(new Dimension(220,40));\r\n        westButtonsPanel.setBorder( BorderFactory.createEtchedBorder() );\r\n\r\n\t\tJPanel west = new JPanel(  );\r\n\t\twest.setLayout( new BorderLayout(0, 0) );\r\n\t\twest.setBorder( BorderFactory.createEtchedBorder() );\r\n\t\twest.add(westButtonsPanel,BorderLayout.NORTH);\r\n\t\taddScrollFrame(west, westButtonsPanel);\r\n```\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWith scroll !! Just what I need !!\r\n\r\n[![enter image description here][2]][2]\r\n\r\n***Note:*** You may want ```westContentPanel``` to be created local at ```addScrollFrame``` scope and passed as parameter to ```addNewCard()```. You choose. \r\n\r\n  [1]: https://i.stack.imgur.com/GK0VQ.png\r\n  [2]: https://i.stack.imgur.com/Z4uLu.png","title":"Stack JPanel cards from top to bottom inside a JPanel","body":"<p>Solved:</p>\n<pre><code>    public void addScrollFrame( JPanel toWho, JPanel buttonPanel ) {\n        JButton btnAddType = new JButton(&quot;Add&quot;);\n        btnAddType.addActionListener( e -&gt; {\n            JLabel card = addNewCard(&quot;This is a new Card!&quot;);\n            // Store it for future reference (Ex. change label)\n        });\n        buttonPanel.add(btnAddType);\n\n        JButton btnDeleteField = new JButton(&quot;Del&quot;);\n        buttonPanel.add(btnDeleteField);\n\n        JButton btnSaveRule = new JButton(&quot;Save&quot;);\n        buttonPanel.add(btnSaveRule);\n        \n        this.westContentPanel = new JPanel();\n        westContentPanel.setLayout( new BoxLayout( westContentPanel, BoxLayout.Y_AXIS)  );\n        \n        JScrollPane scroll = new JScrollPane(westContentPanel);\n        scroll.setHorizontalScrollBarPolicy( JScrollPane.HORIZONTAL_SCROLLBAR_NEVER );\n        scroll.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\n        \n        scroll.setViewportView(westContentPanel); \n        toWho.add(scroll, BorderLayout.CENTER);\n    }\n\n    private JLabel addNewCard(String text) {\n        JLabel vesselLabel = new JLabel( text, JLabel.LEFT );\n        vesselLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 10));\n        vesselLabel.setOpaque(true);\n        vesselLabel.setBackground(Color.WHITE);\n        vesselLabel.setCursor( new Cursor( Cursor.HAND_CURSOR ) );\n        vesselLabel.setBorder( BorderFactory.createEmptyBorder(0, 3, 0, 0) );\n        vesselLabel.setPreferredSize( new Dimension(200,35) );\n        \n        JPanel jp = new JPanel( new BorderLayout() );\n        jp.setMaximumSize( new Dimension(200,35) );\n        jp.setBorder( BorderFactory.createCompoundBorder(\n            BorderFactory.createEmptyBorder(3, 0, 0, 0), BorderFactory.createLineBorder( Color.BLACK )\n        ));\n        jp.add( vesselLabel );\n        this.westContentPanel.add(jp);      \n        this.frame.revalidate();    \n        return vesselLabel;\n    }   \n</code></pre>\n<p><code>toWho</code> is a Panel to use as container and <code>buttonPanel </code> a panel to use as button bar.</p>\n<pre><code>        JPanel westButtonsPanel = new JPanel();\n        westButtonsPanel.setPreferredSize(new Dimension(220,40));\n        westButtonsPanel.setBorder( BorderFactory.createEtchedBorder() );\n\n        JPanel west = new JPanel(  );\n        west.setLayout( new BorderLayout(0, 0) );\n        west.setBorder( BorderFactory.createEtchedBorder() );\n        west.add(westButtonsPanel,BorderLayout.NORTH);\n        addScrollFrame(west, westButtonsPanel);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/GK0VQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GK0VQ.png\" alt=\"enter image description here\" /></a></p>\n<p>With scroll !! Just what I need !!</p>\n<p><a href=\"https://i.stack.imgur.com/Z4uLu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z4uLu.png\" alt=\"enter image description here\" /></a></p>\n<p><em><strong>Note:</strong></em> You may want <code>westContentPanel</code> to be created local at <code>addScrollFrame</code> scope and passed as parameter to <code>addNewCard()</code>. You choose.</p>\n"}],"owner":{"account_id":2001051,"reputation":1982,"user_id":1820715,"accept_rate":75,"display_name":"Magno C"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75990523,"answer_count":1,"score":-2,"last_activity_date":1681737421,"creation_date":1681185608,"question_id":75982292,"body_markdown":"I need to dynamically stack panels inside another one, but instead filling it from center, I need to add cards ( panels ) and they going to top of the container.\r\n\r\nMuch more like this:\r\nhttp://www.java2s.com/Tutorials/Java/Swing_How_to/Layout/Force_components_to_be_stacked_from_top_not_vertically_centered_with_GridBagLayout.htm\r\n\r\nand this:\r\nhttps://stackoverflow.com/questions/49330716/gridbaglayout-vertically-positioning-components\r\n\r\nBut I can&#39;t addapt the code to allow dynamically inserts of new JPanels.\r\n\r\nThis is what I have so far:\r\n\r\n```\r\n    private JLabel addVesselPane(String text) {\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.gridx = 0;\r\n        gbc.gridy = GridBagConstraints.RELATIVE;\r\n        gbc.weightx = 1.0;\r\n        gbc.anchor = GridBagConstraints.FIRST_LINE_START;\r\n        gbc.fill = GridBagConstraints.HORIZONTAL;      \t\r\n    \t\r\n    \tJLabel vesselLabel = new JLabel( text, JLabel.LEFT );\r\n    \tvesselLabel.setFont(new java.awt.Font(&quot;Arial&quot;, Font.PLAIN, 9));\r\n    \tvesselLabel.setOpaque(true);\r\n    \tvesselLabel.setBackground(Color.WHITE);   \r\n    \t\r\n    \tJPanel jp = new JPanel( new BorderLayout() );\r\n    \tjp.setBorder( BorderFactory.createEtchedBorder() );\r\n    \tjp.setPreferredSize(new Dimension(190,30));\r\n    \tjp.add( vesselLabel );\r\n    \t\r\n    \twestContentPanel.add(jp, gbc);    \t\r\n        this.frame.revalidate();\t\r\n        return vesselLabel;\r\n\t}\r\n```\r\n\r\nwhere:\r\n\r\n```\r\nGridBagLayout grid = new GridBagLayout();\r\nwestContentPanel = new JPanel( grid );\r\nJScrollPane westScrollPanel = new JScrollPane(westContentPanel);\r\n```\r\n\r\nbut when I ...\r\n\r\n```\r\nfor( int x=0; x &lt; 5; x++ ) {\r\n  \taddVesselPane(&quot;Btn &quot; + x);\r\n}\r\n```\r\n\r\nThe result is:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I expect all panels being at the top of the blue panel. I must say when I have more panels than the blue panel can hold, the scroller is activated and I can scroll down. I must be allowed to delete panels too. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/75gEK.png","title":"Stack JPanel cards from top to bottom inside a JPanel","body":"<p>I need to dynamically stack panels inside another one, but instead filling it from center, I need to add cards ( panels ) and they going to top of the container.</p>\n<p>Much more like this:\n<a href=\"http://www.java2s.com/Tutorials/Java/Swing_How_to/Layout/Force_components_to_be_stacked_from_top_not_vertically_centered_with_GridBagLayout.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Tutorials/Java/Swing_How_to/Layout/Force_components_to_be_stacked_from_top_not_vertically_centered_with_GridBagLayout.htm</a></p>\n<p>and this:\n<a href=\"https://stackoverflow.com/questions/49330716/gridbaglayout-vertically-positioning-components\">GridBagLayout - Vertically positioning components</a></p>\n<p>But I can't addapt the code to allow dynamically inserts of new JPanels.</p>\n<p>This is what I have so far:</p>\n<pre><code>    private JLabel addVesselPane(String text) {\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridx = 0;\n        gbc.gridy = GridBagConstraints.RELATIVE;\n        gbc.weightx = 1.0;\n        gbc.anchor = GridBagConstraints.FIRST_LINE_START;\n        gbc.fill = GridBagConstraints.HORIZONTAL;       \n        \n        JLabel vesselLabel = new JLabel( text, JLabel.LEFT );\n        vesselLabel.setFont(new java.awt.Font(&quot;Arial&quot;, Font.PLAIN, 9));\n        vesselLabel.setOpaque(true);\n        vesselLabel.setBackground(Color.WHITE);   \n        \n        JPanel jp = new JPanel( new BorderLayout() );\n        jp.setBorder( BorderFactory.createEtchedBorder() );\n        jp.setPreferredSize(new Dimension(190,30));\n        jp.add( vesselLabel );\n        \n        westContentPanel.add(jp, gbc);      \n        this.frame.revalidate();    \n        return vesselLabel;\n    }\n</code></pre>\n<p>where:</p>\n<pre><code>GridBagLayout grid = new GridBagLayout();\nwestContentPanel = new JPanel( grid );\nJScrollPane westScrollPanel = new JScrollPane(westContentPanel);\n</code></pre>\n<p>but when I ...</p>\n<pre><code>for( int x=0; x &lt; 5; x++ ) {\n    addVesselPane(&quot;Btn &quot; + x);\n}\n</code></pre>\n<p>The result is:</p>\n<p><a href=\"https://i.stack.imgur.com/75gEK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/75gEK.png\" alt=\"enter image description here\" /></a></p>\n<p>When I expect all panels being at the top of the blue panel. I must say when I have more panels than the blue panel can hold, the scroller is activated and I can scroll down. I must be allowed to delete panels too.</p>\n"},{"tags":["java","collections"],"answers":[{"tags":[],"owner":{"account_id":1095069,"reputation":871,"user_id":1088831,"display_name":"Mike Duigou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637171227,"creation_date":1366309781,"answer_id":16090519,"question_id":12536269,"body_markdown":"The key difference is that `ConcurrentNavigableMap` provides the additional `ConcurrentMap` methods to `NavigableMap` as well as the additional concurrent usage semantics of `ConcurrentMap`.","title":"ConcurrentNavigableMap vs NavigableMap differences","body":"<p>The key difference is that <code>ConcurrentNavigableMap</code> provides the additional <code>ConcurrentMap</code> methods to <code>NavigableMap</code> as well as the additional concurrent usage semantics of <code>ConcurrentMap</code>.</p>\n"}],"owner":{"account_id":1866044,"reputation":635,"user_id":1689583,"display_name":"Pradeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":16090519,"answer_count":1,"score":2,"last_activity_date":1681737183,"creation_date":1348252529,"question_id":12536269,"body_markdown":"There are some additions to the Java Collection Framework.  \r\n\r\nI tried to find out but I could not drill down what is actually the difference between:  \r\n**NavigableMap** vs **ConcurrentNavigableMap**.\r\n\r\nIs it only, that ConcurrentNavigableMap can be modified by different threads?\r\n","title":"ConcurrentNavigableMap vs NavigableMap differences","body":"<p>There are some additions to the Java Collection Framework.</p>\n<p>I tried to find out but I could not drill down what is actually the difference between:<br />\n<strong>NavigableMap</strong> vs <strong>ConcurrentNavigableMap</strong>.</p>\n<p>Is it only, that ConcurrentNavigableMap can be modified by different threads?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1681735807,"post_id":76035291,"comment_id":134099846,"body_markdown":"`ImmutableList` is from Guava. What do you want to do with the list? If you only need to iterate, then `Iterable&lt;Student&gt;` is the way to go (unless your clients cast the iterable to a list again).","body":"<code>ImmutableList</code> is from Guava. What do you want to do with the list? If you only need to iterate, then <code>Iterable&lt;Student&gt;</code> is the way to go (unless your clients cast the iterable to a list again)."},{"owner":{"account_id":22112469,"reputation":74,"user_id":16367144,"display_name":"SquidXTV"},"score":1,"creation_date":1681735926,"post_id":76035291,"comment_id":134099883,"body_markdown":"Do you maybe mean **Unmodifiable List** instead of **Immutable**?","body":"Do you maybe mean <b>Unmodifiable List</b> instead of <b>Immutable</b>?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1681736266,"post_id":76035291,"comment_id":134099973,"body_markdown":"Who is using this method? Only yourself? Then does it really matter? If others, then you can document there will be side effects (but if you&#39;ve written this method yourself, that&#39;s up to you to decide). So, again, why try to enforce it?","body":"Who is using this method? Only yourself? Then does it really matter? If others, then you can document there will be side effects (but if you&#39;ve written this method yourself, that&#39;s up to you to decide). So, again, why try to enforce it?"},{"owner":{"account_id":452919,"reputation":3460,"user_id":849632,"accept_rate":85,"display_name":"Arun"},"score":0,"creation_date":1681736334,"post_id":76035291,"comment_id":134099984,"body_markdown":"This method will be rolled in to a library and will be used by many services and projects. I want to ensure that this library should not do the mutation in the future. So i want to enforce that in the method contract itself (parameter)","body":"This method will be rolled in to a library and will be used by many services and projects. I want to ensure that this library should not do the mutation in the future. So i want to enforce that in the method contract itself (parameter)"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1681736469,"post_id":76035291,"comment_id":134100022,"body_markdown":"But if you&#39;re the one actually implementing the method, then a compiler check would be after you&#39;ve already written the code within... You&#39;d need static code analysis to find if you&#39;ve mutated the parameter/collection or not","body":"But if you&#39;re the one actually implementing the method, then a compiler check would be after you&#39;ve already written the code within... You&#39;d need static code analysis to find if you&#39;ve mutated the parameter/collection or not"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1681767811,"post_id":76035291,"comment_id":134107350,"body_markdown":"Rather than trying to do this at the type level, I&#39;d consider adding a unit test which calls `topRankingStudentName` and checks that the contents of the list are the same after the call.","body":"Rather than trying to do this at the type level, I&#39;d consider adding a unit test which calls <code>topRankingStudentName</code> and checks that the contents of the list are the same after the call."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1681737121,"creation_date":1681737121,"answer_id":76035544,"question_id":76035291,"body_markdown":"You can&#39;t. The `List` API does not have either a generally used accessible immutable subtype (nor could such a thing exist in java, at best, it could be a contract deal, with no compiler/runtime enforcement), nor does it have a method that tells you.\r\n\r\nYou have a few options, all of them bad.\r\n\r\n## use guava&#39;s ImmutableList\r\n\r\nUse the `ImmutableList` class from the [guava](https://github.com/google/guava) library. Note that this means an immutable non-guava list wouldn&#39;t be allowed either, e.g. `List.of(&quot;a&quot;, &quot;b&quot;)` is immutable, but is not a `com.google.common.collect.ImmutableList`. Guava has terrible API design in regards to using guava types on the boundary between separate modules (due to them breaking backwards compatibility with abandon, which is fine, but guava not having a separate backwards locked variant with just the classes used in public APIs makes it terrible for this). I strongly recommend against doing it this way.\r\n\r\n## Write a method that checks at runtime\r\n\r\nYou can attempt to invoke `.set(DUMMY_STUDENT)` and then remove that student again (or set the same value), throwing an exception if this succeeds, and carrying on if you get an `UnsupportedOperationException`. This is a bit hacky (there is no spec guarantee that getting an UOEx necessarily means it&#39;s immutable). Use `set` and not `add` because `Arrays.asList` supports `set` and not `add`:\r\n\r\n```\r\npublic String topRankingStudentName(List&lt;? extends Student&gt; students) {\r\n  ensureImmutable(students);\r\n  ....\r\n}\r\n\r\n/**\r\n * This method relies on the fact that the vast majority\r\n * of immutable list impls fail-fast when calling\r\n * mutable methods even if they would have no effect,\r\n * and that they fail-fast by throwing UnsupportedOperationException.\r\n */\r\npublic static &lt;T&gt; void ensureImmutable(List&lt;T&gt; list) {\r\n  try {\r\n    if (list.size() &gt; 0) {\r\n      list.set(0, list.get(0));\r\n    } else {\r\n      list.clear();\r\n    }\r\n  } catch (UnsupportedOperationException expected) {\r\n    // This is good news - we want this to happen\r\n    return;\r\n  }\r\n  throw new IllegalArgumentException(&quot;list should be immutable&quot;);\r\n}\r\n```\r\n\r\nI wouldn&#39;t do this either; at some point you&#39;re better off putting in the documentation (the javadoc) what the inputs should be instead of checking everything; there are ways around this if someone is intentionally wanting to write broken code. And if someone is intentionally trying to mess it up, no amount of checks are going to stop them. Conclusion: Writing checks that go beyond trying to stop honest misuse of an API and try to stop intentional misuse of an API cannot possibly work, so don&#39;t try.\r\n\r\n## Just write it in the docs\r\n\r\nJust put a note in the docs that the list must not be changed once passed, and recommending that callers use `List.copyOf(someMutableList)` if they can&#39;t make this guarantee.\r\n\r\n## Make a copy\r\n\r\nYou can always write:\r\n\r\n```\r\npublic String topRankingStudentName(List&lt;? extends Student&gt; studentsIn) {\r\n  List&lt;? extends Student&gt; students = List.copyOf(studentsIn);\r\n // Code here\r\n}\r\n```\r\n\r\nThere are situations where this code is &#39;smart&#39; and doesn&#39;t actually make copies - specifically if `studentsIn` is e.g. made with `List.of()`, the above makes no copy (because the `List` API code knows there&#39;s no point to doing this). However, this doesn&#39;t do what you want (which is: Ensure callers only pass in immutable lists), it merely solves a different problem (which is: You don&#39;t want your code to do wonky things because the list is being changed halfway through running). Only you can determine if this alternate effect is good enough here.\r\n\r\nNote that this __also__ adds a requirement that the provided list contains no `null` values.\r\n\r\n## Hack in a different way\r\n\r\nGiven that `List.copyOf` is &#39;smart&#39; and returns the argument directly if it is an immutable list __from the core libraries__ (it wouldn&#39;t do that for various immutable lists, such as `Arrays.asList(someZeroLenArray)`, or guava&#39;s `ImmutableList` instances) - you can use that:\r\n\r\n```\r\npublic String topRankingStudentName(List&lt;? extends Student&gt; students) {\r\n  /* Check immutable */ {\r\n    List&lt;? extends Students&gt; s = List.copyOf(students);\r\n    if (s != students) throw new IllegalArgumentException(&quot;students is not immutable&quot;);\r\n  }\r\n\r\n  // code here\r\n}\r\n```\r\n\r\nExcluding various non-`List.of`-based immutable lists with this is not great, though.\r\n\r\n## Closing notes\r\n\r\nMost of these hacks &#39;work&#39; within the caveats they describe, but most aren&#39;t actually programming against spec, just against currently-known behaviour. I have no particular reason to believe these behaviours will ever change, but if they do, you can&#39;t file bugs with e.g. team OpenJDK that they changed how `List.copyOf` works.\r\n\r\nFor that and a few more reasons I __strongly__ recommend going with either the &#39;make a copy&#39; or &#39;just document it&#39; options.\r\n\r\nAlso note that given the input is (supposed to be) immutable, `List&lt;? extends Student&gt;` is the right type, not `List&lt;Student&gt;`. The former lets folks pass `List&lt;SomeSpecificStudentSubC;ass&gt;` as well, and the only thing that a `List&lt;? extends Student&gt;` cannot do that a `List&lt;Student&gt;` can do, is &#39;add things to it&#39; (doesn&#39;t mean the list is immutable, merely that _your code_ cannot add anything except `null`, it can still remove things though), which, given that you want immutable input, you aren&#39;t interested in.\r\n","title":"Java method parameter - get only Immutable List","body":"<p>You can't. The <code>List</code> API does not have either a generally used accessible immutable subtype (nor could such a thing exist in java, at best, it could be a contract deal, with no compiler/runtime enforcement), nor does it have a method that tells you.</p>\n<p>You have a few options, all of them bad.</p>\n<h2>use guava's ImmutableList</h2>\n<p>Use the <code>ImmutableList</code> class from the <a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">guava</a> library. Note that this means an immutable non-guava list wouldn't be allowed either, e.g. <code>List.of(&quot;a&quot;, &quot;b&quot;)</code> is immutable, but is not a <code>com.google.common.collect.ImmutableList</code>. Guava has terrible API design in regards to using guava types on the boundary between separate modules (due to them breaking backwards compatibility with abandon, which is fine, but guava not having a separate backwards locked variant with just the classes used in public APIs makes it terrible for this). I strongly recommend against doing it this way.</p>\n<h2>Write a method that checks at runtime</h2>\n<p>You can attempt to invoke <code>.set(DUMMY_STUDENT)</code> and then remove that student again (or set the same value), throwing an exception if this succeeds, and carrying on if you get an <code>UnsupportedOperationException</code>. This is a bit hacky (there is no spec guarantee that getting an UOEx necessarily means it's immutable). Use <code>set</code> and not <code>add</code> because <code>Arrays.asList</code> supports <code>set</code> and not <code>add</code>:</p>\n<pre><code>public String topRankingStudentName(List&lt;? extends Student&gt; students) {\n  ensureImmutable(students);\n  ....\n}\n\n/**\n * This method relies on the fact that the vast majority\n * of immutable list impls fail-fast when calling\n * mutable methods even if they would have no effect,\n * and that they fail-fast by throwing UnsupportedOperationException.\n */\npublic static &lt;T&gt; void ensureImmutable(List&lt;T&gt; list) {\n  try {\n    if (list.size() &gt; 0) {\n      list.set(0, list.get(0));\n    } else {\n      list.clear();\n    }\n  } catch (UnsupportedOperationException expected) {\n    // This is good news - we want this to happen\n    return;\n  }\n  throw new IllegalArgumentException(&quot;list should be immutable&quot;);\n}\n</code></pre>\n<p>I wouldn't do this either; at some point you're better off putting in the documentation (the javadoc) what the inputs should be instead of checking everything; there are ways around this if someone is intentionally wanting to write broken code. And if someone is intentionally trying to mess it up, no amount of checks are going to stop them. Conclusion: Writing checks that go beyond trying to stop honest misuse of an API and try to stop intentional misuse of an API cannot possibly work, so don't try.</p>\n<h2>Just write it in the docs</h2>\n<p>Just put a note in the docs that the list must not be changed once passed, and recommending that callers use <code>List.copyOf(someMutableList)</code> if they can't make this guarantee.</p>\n<h2>Make a copy</h2>\n<p>You can always write:</p>\n<pre><code>public String topRankingStudentName(List&lt;? extends Student&gt; studentsIn) {\n  List&lt;? extends Student&gt; students = List.copyOf(studentsIn);\n // Code here\n}\n</code></pre>\n<p>There are situations where this code is 'smart' and doesn't actually make copies - specifically if <code>studentsIn</code> is e.g. made with <code>List.of()</code>, the above makes no copy (because the <code>List</code> API code knows there's no point to doing this). However, this doesn't do what you want (which is: Ensure callers only pass in immutable lists), it merely solves a different problem (which is: You don't want your code to do wonky things because the list is being changed halfway through running). Only you can determine if this alternate effect is good enough here.</p>\n<p>Note that this <strong>also</strong> adds a requirement that the provided list contains no <code>null</code> values.</p>\n<h2>Hack in a different way</h2>\n<p>Given that <code>List.copyOf</code> is 'smart' and returns the argument directly if it is an immutable list <strong>from the core libraries</strong> (it wouldn't do that for various immutable lists, such as <code>Arrays.asList(someZeroLenArray)</code>, or guava's <code>ImmutableList</code> instances) - you can use that:</p>\n<pre><code>public String topRankingStudentName(List&lt;? extends Student&gt; students) {\n  /* Check immutable */ {\n    List&lt;? extends Students&gt; s = List.copyOf(students);\n    if (s != students) throw new IllegalArgumentException(&quot;students is not immutable&quot;);\n  }\n\n  // code here\n}\n</code></pre>\n<p>Excluding various non-<code>List.of</code>-based immutable lists with this is not great, though.</p>\n<h2>Closing notes</h2>\n<p>Most of these hacks 'work' within the caveats they describe, but most aren't actually programming against spec, just against currently-known behaviour. I have no particular reason to believe these behaviours will ever change, but if they do, you can't file bugs with e.g. team OpenJDK that they changed how <code>List.copyOf</code> works.</p>\n<p>For that and a few more reasons I <strong>strongly</strong> recommend going with either the 'make a copy' or 'just document it' options.</p>\n<p>Also note that given the input is (supposed to be) immutable, <code>List&lt;? extends Student&gt;</code> is the right type, not <code>List&lt;Student&gt;</code>. The former lets folks pass <code>List&lt;SomeSpecificStudentSubC;ass&gt;</code> as well, and the only thing that a <code>List&lt;? extends Student&gt;</code> cannot do that a <code>List&lt;Student&gt;</code> can do, is 'add things to it' (doesn't mean the list is immutable, merely that <em>your code</em> cannot add anything except <code>null</code>, it can still remove things though), which, given that you want immutable input, you aren't interested in.</p>\n"}],"owner":{"account_id":452919,"reputation":3460,"user_id":849632,"accept_rate":85,"display_name":"Arun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76035544,"answer_count":1,"score":0,"last_activity_date":1681737121,"creation_date":1681735479,"question_id":76035291,"body_markdown":"I want to enforce immutability in one of my methods.\r\n\r\n```java\r\npublic record Student (String name, int rank, String school, String district){}\r\n\r\npublic String topRankingStudentName (List&lt;Student&gt; students) {\r\n    // I want this incoming students to be Immutable List\r\n    // How to enforce ?\r\n}\r\n```\r\n\r\nHere I am getting the `students` as a List. I want to enforce to my callers that they pass only `Immutable` collection. I thought of getting `ImmutableList`, but that class is not accessible. Using JDK-17\r\n\r\nHow to do this ?","title":"Java method parameter - get only Immutable List","body":"<p>I want to enforce immutability in one of my methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Student (String name, int rank, String school, String district){}\n\npublic String topRankingStudentName (List&lt;Student&gt; students) {\n    // I want this incoming students to be Immutable List\n    // How to enforce ?\n}\n</code></pre>\n<p>Here I am getting the <code>students</code> as a List. I want to enforce to my callers that they pass only <code>Immutable</code> collection. I thought of getting <code>ImmutableList</code>, but that class is not accessible. Using JDK-17</p>\n<p>How to do this ?</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":272446,"reputation":27058,"user_id":563532,"accept_rate":100,"display_name":"Rob"},"score":8,"creation_date":1301872917,"post_id":5533191,"comment_id":6287208,"body_markdown":"Don&#39;t create a new Random object each time you call the function. Keep it as a private variable and instantiate it only once","body":"Don&#39;t create a new Random object each time you call the function. Keep it as a private variable and instantiate it only once"},{"owner":{"account_id":205617,"reputation":10965,"user_id":454470,"display_name":"Steven Benitez"},"score":0,"creation_date":1301872943,"post_id":5533191,"comment_id":6287212,"body_markdown":"What are you setting the seed to?","body":"What are you setting the seed to?"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1426459271,"post_id":5533191,"comment_id":46369693,"body_markdown":"Manually setting the seed is not recommended unless you know exactly what it does mean.","body":"Manually setting the seed is not recommended unless you know exactly what it does mean."},{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":0,"creation_date":1447369429,"post_id":5533191,"comment_id":55139133,"body_markdown":"&quot;Any one who considers arithmetical methods of producing random digits is, of course, in a state of sin&quot;","body":"&quot;Any one who considers arithmetical methods of producing random digits is, of course, in a state of sin&quot;"}],"answers":[{"tags":[],"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1301872884,"creation_date":1301872884,"answer_id":5533199,"question_id":5533191,"body_markdown":"If you always set the seed, you will always get the same answer.  That is what setting the seed does.","title":"Java random always returns the same number when I set the seed?","body":"<p>If you always set the seed, you will always get the same answer.  That is what setting the seed does.</p>\n"},{"tags":[],"owner":{"account_id":163375,"reputation":60245,"user_id":385478,"accept_rate":85,"display_name":"Graham Borland"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1301872951,"creation_date":1301872951,"answer_id":5533201,"question_id":5533191,"body_markdown":"Set the seed once on startup, rather than every time you want a new random number.","title":"Java random always returns the same number when I set the seed?","body":"<p>Set the seed once on startup, rather than every time you want a new random number.</p>\n"},{"tags":[],"owner":{"account_id":20630,"reputation":140545,"user_id":49485,"accept_rate":72,"display_name":"Sophie Alpert"},"down_vote_count":1,"up_vote_count":52,"is_accepted":true,"score":51,"last_activity_date":1301872975,"creation_date":1301872975,"answer_id":5533203,"question_id":5533191,"body_markdown":"You need to share the `Random()` instance across the whole class:\r\n\r\n    public class Numbers {\r\n        Random randnum;\r\n    \r\n        public Numbers() {\r\n            randnum = new Random();\r\n            randnum.setSeed(123456789);\r\n        }\r\n    \r\n        public int random(int i){\r\n            return randnum.nextInt(i);\r\n        }\r\n    }\r\n\r\n","title":"Java random always returns the same number when I set the seed?","body":"<p>You need to share the <code>Random()</code> instance across the whole class:</p>\n\n<pre><code>public class Numbers {\n    Random randnum;\n\n    public Numbers() {\n        randnum = new Random();\n        randnum.setSeed(123456789);\n    }\n\n    public int random(int i){\n        return randnum.nextInt(i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":154948,"reputation":42791,"user_id":371250,"display_name":"ninjalj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1301873118,"creation_date":1301873118,"answer_id":5533213,"question_id":5533191,"body_markdown":"What you are using is not a Random Number Generator, it&#39;s a Pseudo-Random Number Generator. PRNG&#39;s generate sequences of pseudo-random numbers, the seed selects a starting point in a sequence (a PRNG may generate one or several sequences).","title":"Java random always returns the same number when I set the seed?","body":"<p>What you are using is not a Random Number Generator, it's a Pseudo-Random Number Generator. PRNG's generate sequences of pseudo-random numbers, the seed selects a starting point in a sequence (a PRNG may generate one or several sequences).</p>\n"},{"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1681737084,"creation_date":1301873451,"answer_id":5533245,"question_id":5533191,"body_markdown":"Usually, `Random` **is not truly random but pseudorandom**.  \r\nIt means it takes a given seed and uses it to generate a sequence of numbers that looks like random (but is **enterely predictable** and **it repeats if you put the same seed**).\r\n\r\nIf you don&#39;t put seed, then the first seed will be taken from a variable source (usually the system time in nano).\r\n\r\nUsually, a value with seed will be used in order to have it repeat the exact pseudorandom generated values (for example, for testing). \r\n\r\nThe suggested solutions:\r\n- Use `Random()` without seed instead.\r\n- Initiate the `Random(long seed)` with a seed ONCE in the constucor of your class, then call `nextInt` whenever you need to get a pseudorandom.","title":"Java random always returns the same number when I set the seed?","body":"<p>Usually, <code>Random</code> <strong>is not truly random but pseudorandom</strong>.<br />\nIt means it takes a given seed and uses it to generate a sequence of numbers that looks like random (but is <strong>enterely predictable</strong> and <strong>it repeats if you put the same seed</strong>).</p>\n<p>If you don't put seed, then the first seed will be taken from a variable source (usually the system time in nano).</p>\n<p>Usually, a value with seed will be used in order to have it repeat the exact pseudorandom generated values (for example, for testing).</p>\n<p>The suggested solutions:</p>\n<ul>\n<li>Use <code>Random()</code> without seed instead.</li>\n<li>Initiate the <code>Random(long seed)</code> with a seed ONCE in the constucor of your class, then call <code>nextInt</code> whenever you need to get a pseudorandom.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":345386,"reputation":2738,"user_id":678289,"accept_rate":92,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1301873750,"creation_date":1301873750,"answer_id":5533265,"question_id":5533191,"body_markdown":"Do you necessarily need to create the `new Random()` inside your `random(int i)` method? If you are OBLIGED to do it that way, you could use, you could set the seed to the current time, although that is not fail proof, because you could call your `numbers.random(10)` so fast after the other that it would end up being the same seed. You could try maybe using nanoSeconds (System.nanoTime() I think? And if setSeed only accepts int, multiply it I guess). \r\n\r\nWhat I would suggest however, if you are allowed to do so, is to declare your Random **outside** your method. If you instanciate your random variable in, say, your `number` class constructor, you could set any seed and any time you call your method it would give you a new number. (They will be the same sets of numbers every time you restart your application if you use a constant seed however, you could use time as your seed in this case too). \r\n\r\nFinally, the last problem could be if you declare several `number` classes at the same time. They will all have the same random seed and give you the same set of random numbers. If this happens, you can make a `static Random` in your main class, and call it in your numbers class. This will couple those two classes though, but it would work. Another option would be to send an incrementing value to your `number` class constructor, for each `number` you instanciate, and use the value you pass as the seed.\r\n\r\nThe second option should be good for you though, if you are allowed to do it that way.","title":"Java random always returns the same number when I set the seed?","body":"<p>Do you necessarily need to create the <code>new Random()</code> inside your <code>random(int i)</code> method? If you are OBLIGED to do it that way, you could use, you could set the seed to the current time, although that is not fail proof, because you could call your <code>numbers.random(10)</code> so fast after the other that it would end up being the same seed. You could try maybe using nanoSeconds (System.nanoTime() I think? And if setSeed only accepts int, multiply it I guess). </p>\n\n<p>What I would suggest however, if you are allowed to do so, is to declare your Random <strong>outside</strong> your method. If you instanciate your random variable in, say, your <code>number</code> class constructor, you could set any seed and any time you call your method it would give you a new number. (They will be the same sets of numbers every time you restart your application if you use a constant seed however, you could use time as your seed in this case too). </p>\n\n<p>Finally, the last problem could be if you declare several <code>number</code> classes at the same time. They will all have the same random seed and give you the same set of random numbers. If this happens, you can make a <code>static Random</code> in your main class, and call it in your numbers class. This will couple those two classes though, but it would work. Another option would be to send an incrementing value to your <code>number</code> class constructor, for each <code>number</code> you instanciate, and use the value you pass as the seed.</p>\n\n<p>The second option should be good for you though, if you are allowed to do it that way.</p>\n"},{"tags":[],"owner":{"account_id":1644191,"reputation":2702,"user_id":1516042,"display_name":"Jim"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1343524464,"creation_date":1343519891,"answer_id":11705615,"question_id":5533191,"body_markdown":"There are two issues causing what you see. The first is that the code sets a seed value for a Random instance. The second is that the instance method &quot;random&quot; instances a new Random object and then immediately sets its seed with the same seed every time. The combination of these two guarantees that, for the same value of i, the method &quot;random&quot; will always return the same value and it will always be the first in the sequence that the seed always generates. \r\n\r\nAssuming setting the seed is mandatory, to get the next value in the sequence instead of the same first value of the sequence every time, the randnum instance of Random can&#39;t have its seed set every time just before its next method gets called. To fix that, move the randnum local variable instance of Random from the scope of the random instance method to the class scope. Second, set the seed only when random is assigned a Random instance or only to get same sequence of results from it to start over again. Class Random&#39;s setSeed(long seed) instance method can&#39;t execute in the class scope, so the constructor has to set it using the Random constructor with the long seed parameter. The following code shows the changes:\r\n\r\n    public class RandomDemo { // arbitrary example class name\r\n        // lots of class related stuff may be here...\r\n \r\n        // still inside the class scope...\r\n        // private is a good idea unless an external method needs to change it\r\n        private Random randnum = new Random(123456789L);\r\n        // the seed guarantees it will always produce the same sequence\r\n        // of pseudo-random values when the next methods get called\r\n        // for unpredicable sequences, use the following constructor instead:\r\n        // private Random randnum = new Random();\r\n        \r\n        // lots of code may be here...\r\n\r\n        // publicly exposed instance method for getting random number\r\n        // from a sequence determined by seed 123456789L\r\n        // in the range from 0 through i-1\r\n        public int randnum(int i) {\r\n            // don&#39;t set the seed in here, or randnum will return the exact same integer\r\n            // for the same value of i on every method call\r\n            // nextInt(i) will give the next value from randnum conforming to range i\r\n            return randnum.nextInt(i);\r\n        } // end randnum\r\n\r\n        // lots of more code may be here...\r\n        \r\n    } // end class RandDemo\r\n\r\nThe above will give you an exact solution to your exact problem, as stated. However, using a mandatory seed seems unusual, given what it does. \r\n\r\nIf this is for a class project or software testing where the sequence has to be predictable and repeatable, setting the seed to a fixed value makes sense. Otherwise, question the validity of setting the seed to some predetermined value. The following explains more about Random, seeds for Random and why there is a provision for supplying a seed.\r\n\r\nRandom has two constructors:\r\n\r\n    Random()\r\n\r\nand\r\n\r\n    Random(long seed)\r\n\r\nand an instance method\r\n\r\n    setSeed(long seed)\r\n\r\nthat all affect the sequence of numbers obtained from a Random instance. The instance method,\r\n\r\n    setSeed(long seed)\r\n\r\nsets the Random object to the same state it would have been in had it been just instanced with the same seed as the constructor argument. Only the low-order 48 bits of a seed value get used. \r\n\r\nIf a Random object is instanced without a seed, the seed will be the same as the system time in milliseconds. This ensures that, unless two Random objects are instanced in the same millisecond, they will produce different pseudo-random sequences. Only the low order 48 bits of the seed value gets used. This causes unpredictable pseudo-random sequences. It is not necessary and wasteful of computing resources to get a new instance of Random every time one calls a next method. \r\n\r\nRandom&#39;s seed parameters are provided so that one may instance a Random object that produces a sequence that is repeatable. For a given seed, the sequence of values in next methods are guaranteed to be the same sequence whenever that seed is used. This is useful for testing software that is going to use pseudo-random sequences where results have to be predicable and repeatable. It is not useful for creating different unpredictable pseudo-random sequences in operation. \r\n\r\nThe statement &quot;it is mandatory that I set the seed&quot; negates any unpredictablity of the Random object&#39;s pseudo-random sequences. Is this for a class project or software test where results have to be the same for the same inputs to the program?","title":"Java random always returns the same number when I set the seed?","body":"<p>There are two issues causing what you see. The first is that the code sets a seed value for a Random instance. The second is that the instance method \"random\" instances a new Random object and then immediately sets its seed with the same seed every time. The combination of these two guarantees that, for the same value of i, the method \"random\" will always return the same value and it will always be the first in the sequence that the seed always generates. </p>\n\n<p>Assuming setting the seed is mandatory, to get the next value in the sequence instead of the same first value of the sequence every time, the randnum instance of Random can't have its seed set every time just before its next method gets called. To fix that, move the randnum local variable instance of Random from the scope of the random instance method to the class scope. Second, set the seed only when random is assigned a Random instance or only to get same sequence of results from it to start over again. Class Random's setSeed(long seed) instance method can't execute in the class scope, so the constructor has to set it using the Random constructor with the long seed parameter. The following code shows the changes:</p>\n\n<pre><code>public class RandomDemo { // arbitrary example class name\n    // lots of class related stuff may be here...\n\n    // still inside the class scope...\n    // private is a good idea unless an external method needs to change it\n    private Random randnum = new Random(123456789L);\n    // the seed guarantees it will always produce the same sequence\n    // of pseudo-random values when the next methods get called\n    // for unpredicable sequences, use the following constructor instead:\n    // private Random randnum = new Random();\n\n    // lots of code may be here...\n\n    // publicly exposed instance method for getting random number\n    // from a sequence determined by seed 123456789L\n    // in the range from 0 through i-1\n    public int randnum(int i) {\n        // don't set the seed in here, or randnum will return the exact same integer\n        // for the same value of i on every method call\n        // nextInt(i) will give the next value from randnum conforming to range i\n        return randnum.nextInt(i);\n    } // end randnum\n\n    // lots of more code may be here...\n\n} // end class RandDemo\n</code></pre>\n\n<p>The above will give you an exact solution to your exact problem, as stated. However, using a mandatory seed seems unusual, given what it does. </p>\n\n<p>If this is for a class project or software testing where the sequence has to be predictable and repeatable, setting the seed to a fixed value makes sense. Otherwise, question the validity of setting the seed to some predetermined value. The following explains more about Random, seeds for Random and why there is a provision for supplying a seed.</p>\n\n<p>Random has two constructors:</p>\n\n<pre><code>Random()\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Random(long seed)\n</code></pre>\n\n<p>and an instance method</p>\n\n<pre><code>setSeed(long seed)\n</code></pre>\n\n<p>that all affect the sequence of numbers obtained from a Random instance. The instance method,</p>\n\n<pre><code>setSeed(long seed)\n</code></pre>\n\n<p>sets the Random object to the same state it would have been in had it been just instanced with the same seed as the constructor argument. Only the low-order 48 bits of a seed value get used. </p>\n\n<p>If a Random object is instanced without a seed, the seed will be the same as the system time in milliseconds. This ensures that, unless two Random objects are instanced in the same millisecond, they will produce different pseudo-random sequences. Only the low order 48 bits of the seed value gets used. This causes unpredictable pseudo-random sequences. It is not necessary and wasteful of computing resources to get a new instance of Random every time one calls a next method. </p>\n\n<p>Random's seed parameters are provided so that one may instance a Random object that produces a sequence that is repeatable. For a given seed, the sequence of values in next methods are guaranteed to be the same sequence whenever that seed is used. This is useful for testing software that is going to use pseudo-random sequences where results have to be predicable and repeatable. It is not useful for creating different unpredictable pseudo-random sequences in operation. </p>\n\n<p>The statement \"it is mandatory that I set the seed\" negates any unpredictablity of the Random object's pseudo-random sequences. Is this for a class project or software test where results have to be the same for the same inputs to the program?</p>\n"}],"owner":{"account_id":352939,"reputation":3674,"user_id":690338,"accept_rate":23,"display_name":"badcoder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99539,"favorite_count":0,"down_vote_count":2,"up_vote_count":33,"accepted_answer_id":5533203,"answer_count":7,"score":31,"last_activity_date":1681737084,"creation_date":1301872791,"question_id":5533191,"body_markdown":"I require help with a random number generator I am creating. My code is as follows (inside a class called numbers):\r\n\r\n    public int random(int i){\r\n        Random randnum = new Random();\r\n        randnum.setSeed(123456789);\r\n        return randnum.nextInt(i);\r\n    }\r\n\r\nWhen I call this method from another class (in order to generate a random number), it always returns the same number. For example if I were to do:\r\n\r\n    System.out.println(numbers.random(10));\r\n    System.out.print(numbers.random(10));\r\n\r\nit always prints the same number e.g. 5 5. What do I have to do so that it prints two different numbers e.g. 5 8\r\n\r\nIt is mandatory that I set the seed.\r\n\r\nThanks\r\n\r\n","title":"Java random always returns the same number when I set the seed?","body":"<p>I require help with a random number generator I am creating. My code is as follows (inside a class called numbers):</p>\n\n<pre><code>public int random(int i){\n    Random randnum = new Random();\n    randnum.setSeed(123456789);\n    return randnum.nextInt(i);\n}\n</code></pre>\n\n<p>When I call this method from another class (in order to generate a random number), it always returns the same number. For example if I were to do:</p>\n\n<pre><code>System.out.println(numbers.random(10));\nSystem.out.print(numbers.random(10));\n</code></pre>\n\n<p>it always prints the same number e.g. 5 5. What do I have to do so that it prints two different numbers e.g. 5 8</p>\n\n<p>It is mandatory that I set the seed.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","itext","freemarker"],"comments":[{"owner":{"account_id":17364500,"reputation":1,"user_id":12579991,"display_name":"kianaproudmoore"},"score":0,"creation_date":1673190860,"post_id":75027602,"comment_id":132437918,"body_markdown":"hi @KJ the image size is only 77KB, and the base64EncodedString length is 135127 characters. does it mean there is a limitation on the length that can be injected into PDF that causing the problem?","body":"hi @KJ the image size is only 77KB, and the base64EncodedString length is 135127 characters. does it mean there is a limitation on the length that can be injected into PDF that causing the problem?"},{"owner":{"account_id":17364500,"reputation":1,"user_id":12579991,"display_name":"kianaproudmoore"},"score":0,"creation_date":1673230978,"post_id":75027602,"comment_id":132444685,"body_markdown":"unfortunately, I&#39;m still not able to display the image even though it&#39;s using  data:image/jpeg","body":"unfortunately, I&#39;m still not able to display the image even though it&#39;s using  data:image/jpeg"},{"owner":{"account_id":17364500,"reputation":1,"user_id":12579991,"display_name":"kianaproudmoore"},"score":0,"creation_date":1673236376,"post_id":75027602,"comment_id":132445276,"body_markdown":"hi @KJ thanks for help, your sample  image is working fine here if I open directly the html file. however if I copy the script into my freemarker file , the image still blanks. thats also happens to my image. it works if I open directly using html file.","body":"hi @KJ thanks for help, your sample  image is working fine here if I open directly the html file. however if I copy the script into my freemarker file , the image still blanks. thats also happens to my image. it works if I open directly using html file."},{"owner":{"account_id":17364500,"reputation":1,"user_id":12579991,"display_name":"kianaproudmoore"},"score":0,"creation_date":1673236477,"post_id":75027602,"comment_id":132445288,"body_markdown":"I&#39;m wondering if this related  to base64 encoded string incompatibility  of spring boot and itext pdf library that I use","body":"I&#39;m wondering if this related  to base64 encoded string incompatibility  of spring boot and itext pdf library that I use"}],"answers":[{"tags":[],"owner":{"account_id":13734,"reputation":1450,"user_id":27760,"display_name":"Glenner003"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675350265,"creation_date":1675350265,"answer_id":75325097,"question_id":75027602,"body_markdown":"iText html2pdf currently doesn&#39;t support base 64 encoded resources.","title":"Generate pdf file with Itext PDF and Freemarker : blank image using base64","body":"<p>iText html2pdf currently doesn't support base 64 encoded resources.</p>\n"}],"owner":{"account_id":17364500,"reputation":1,"user_id":12579991,"display_name":"kianaproudmoore"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681737044,"creation_date":1672985968,"question_id":75027602,"body_markdown":"I&#39;ve been looking for the solution to why the image doesn&#39;t show up using the base64 encoded string in the pdf file.\r\nI have Java class to generate pdf reports with itextpdf and Freemarker template. there is a logo image that I want to pass on to the report. the logo value using base64 encoded string with the format as following:\r\n```\r\ndata:image/jpg;base64,base64EncodedString\r\n```\r\n\r\nhere is the Freemarker template:\r\n```\r\n  &lt;#macro header logo&gt;\r\n  &lt;header&gt;\r\n    &lt;table width=&quot;800&quot;&gt;\r\n      &lt;tr&gt;\r\n          &lt;#if logo??&gt;\r\n            &lt;td width=&quot;300&quot;&gt; \r\n              &lt;img src=&quot;https://cdn.pixabay.com/photo/2016/03/08/20/03/flag-1244649_960_720.jpg&quot; width=&quot;60&quot; height=&quot;60&quot; align=&quot;left&quot;/&gt;\r\n              &lt;img src=&quot;${logo}&quot; width=&quot;60&quot; height=&quot;60&quot; align=&quot;left&quot;/&gt;\r\n            &lt;/td&gt;\r\n          &lt;/#if&gt;\r\n      &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    &lt;br/&gt;\r\n  &lt;/header&gt;\r\n\r\n&lt;/#macro&gt;\r\n```\r\n\r\nthe first image using URL path is working, however the second image using base64 is blank.\r\nthe image appears when I run it through jsfiddle or using html file \r\nhttps://jsfiddle.net/riskiana/jvug1tzL/3/\r\n\r\nplease somebody help me.\r\n\r\nthanks\r\n\r\n\r\n","title":"Generate pdf file with Itext PDF and Freemarker : blank image using base64","body":"<p>I've been looking for the solution to why the image doesn't show up using the base64 encoded string in the pdf file.\nI have Java class to generate pdf reports with itextpdf and Freemarker template. there is a logo image that I want to pass on to the report. the logo value using base64 encoded string with the format as following:</p>\n<pre><code>data:image/jpg;base64,base64EncodedString\n</code></pre>\n<p>here is the Freemarker template:</p>\n<pre><code>  &lt;#macro header logo&gt;\n  &lt;header&gt;\n    &lt;table width=&quot;800&quot;&gt;\n      &lt;tr&gt;\n          &lt;#if logo??&gt;\n            &lt;td width=&quot;300&quot;&gt; \n              &lt;img src=&quot;https://cdn.pixabay.com/photo/2016/03/08/20/03/flag-1244649_960_720.jpg&quot; width=&quot;60&quot; height=&quot;60&quot; align=&quot;left&quot;/&gt;\n              &lt;img src=&quot;${logo}&quot; width=&quot;60&quot; height=&quot;60&quot; align=&quot;left&quot;/&gt;\n            &lt;/td&gt;\n          &lt;/#if&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;br/&gt;\n  &lt;/header&gt;\n\n&lt;/#macro&gt;\n</code></pre>\n<p>the first image using URL path is working, however the second image using base64 is blank.\nthe image appears when I run it through jsfiddle or using html file\n<a href=\"https://jsfiddle.net/riskiana/jvug1tzL/3/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/riskiana/jvug1tzL/3/</a></p>\n<p>please somebody help me.</p>\n<p>thanks</p>\n"},{"tags":["java","postgresql","jar","driver","schemaspy"],"comments":[{"owner":{"account_id":1367126,"reputation":1154,"user_id":1303334,"accept_rate":60,"display_name":"mbaydar"},"score":0,"creation_date":1333634166,"post_id":10029423,"comment_id":12828152,"body_markdown":"Is there any configuration file which has this line /whereever/postgresql-8.0-312.jdbc3.jar . Maybe it is something you have to edit.","body":"Is there any configuration file which has this line /whereever/postgresql-8.0-312.jdbc3.jar . Maybe it is something you have to edit."},{"owner":{"account_id":1014710,"reputation":659,"user_id":1026535,"accept_rate":81,"display_name":"Pankaj Bhambhani"},"score":0,"creation_date":1333655140,"post_id":10029423,"comment_id":12836217,"body_markdown":"@mbaydar The -dp configuration is used to specify path to driver file which is what I am doing","body":"@mbaydar The -dp configuration is used to specify path to driver file which is what I am doing"},{"owner":{"account_id":1367126,"reputation":1154,"user_id":1303334,"accept_rate":60,"display_name":"mbaydar"},"score":0,"creation_date":1333655516,"post_id":10029423,"comment_id":12836340,"body_markdown":"Can you add your configuration file ?","body":"Can you add your configuration file ?"},{"owner":{"account_id":1014710,"reputation":659,"user_id":1026535,"accept_rate":81,"display_name":"Pankaj Bhambhani"},"score":0,"creation_date":1333656285,"post_id":10029423,"comment_id":12836603,"body_markdown":"The configuration file is actually embedded in SchemaSpy.jar. I cant modify it by I can override it by using &quot;-dp&quot; option.","body":"The configuration file is actually embedded in SchemaSpy.jar. I cant modify it by I can override it by using &quot;-dp&quot; option."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1333698730,"post_id":10029423,"comment_id":12844780,"body_markdown":"Please do **not** use that out-dated and obsolete driver. Use a  current driver (9.0 or 9.1). If your driver is actually matching your PostgreSQL version you should immediately update to a supported and current version.","body":"Please do <b>not</b> use that out-dated and obsolete driver. Use a  current driver (9.0 or 9.1). If your driver is actually matching your PostgreSQL version you should immediately update to a supported and current version."}],"answers":[{"tags":[],"owner":{"account_id":1367126,"reputation":1154,"user_id":1303334,"accept_rate":60,"display_name":"mbaydar"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1435772937,"creation_date":1333687372,"answer_id":10039205,"question_id":10029423,"body_markdown":"I think the problem is you didn&#39;t add the classpath to the driver. You have to add your classpath like this  &lt;pre&gt;&lt;code&gt;java -jar schemaSpy_5.0.0.jar -t pgsql -host 10.100.71.21[:5432] -db mydb -s public -u username -p password -dp /home/panx/postgresql-8.0-312.jdbc3.jar -o output/&lt;/pre&gt;&lt;/code&gt; If it does not work you can download the source code of this project. In the project there is pgsql.properties file in dbTypes folder. You can change it with your classpath and I think this solves your problem.","title":"Schema Spy unable to find postgresql driver","body":"<p>I think the problem is you didn't add the classpath to the driver. You have to add your classpath like this  <pre><code>java -jar schemaSpy_5.0.0.jar -t pgsql -host 10.100.71.21[:5432] -db mydb -s public -u username -p password -dp /home/panx/postgresql-8.0-312.jdbc3.jar -o output/</pre></code> If it does not work you can download the source code of this project. In the project there is pgsql.properties file in dbTypes folder. You can change it with your classpath and I think this solves your problem.</p>\n"},{"tags":[],"owner":{"account_id":4103212,"reputation":751,"user_id":3368114,"display_name":"jithin iyyani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568453246,"creation_date":1399836041,"answer_id":23596887,"question_id":10029423,"body_markdown":"I&#39;d like to add a few points.\r\n\r\n 1. You would be using Schema Spy with Graphviz. Versions 2.31+ does not add an entry to Window&#39;s System path variable.\r\nSo after you download and install Graphviz  update the path variable to have path till Graphviz&#39;s bin directory.\r\n(C:\\Program Files (x86)\\Graphviz2.38\\bin)\r\n 2. Alternative to downloading entire project source to change the classpath in the property file would be to update the jar using 7-zip.\r\n 3. Open the jar file using 7-zip  navigate to **net/sourceforge/schemaspy/dbTypes/**\r\n   right click pgsql.properties say edit.\r\n 4. Change the following entry for driverPath to make it point to jdbc jar file\r\n  **driverPath=D:/Work/JavaProjects/tools/postgresql-9.3-1100.jdbc4.jar**\r\n 5. Click on save and update. This should do the trick.\r\n\r\n\r\n\r\n","title":"Schema Spy unable to find postgresql driver","body":"<p>I'd like to add a few points.</p>\n\n<ol>\n<li>You would be using Schema Spy with Graphviz. Versions 2.31+ does not add an entry to Window's System path variable.\nSo after you download and install Graphviz  update the path variable to have path till Graphviz's bin directory.\n(C:\\Program Files (x86)\\Graphviz2.38\\bin)</li>\n<li>Alternative to downloading entire project source to change the classpath in the property file would be to update the jar using 7-zip.</li>\n<li>Open the jar file using 7-zip  navigate to <strong>net/sourceforge/schemaspy/dbTypes/</strong>\nright click pgsql.properties say edit.</li>\n<li>Change the following entry for driverPath to make it point to jdbc jar file\n<strong>driverPath=D:/Work/JavaProjects/tools/postgresql-9.3-1100.jdbc4.jar</strong></li>\n<li>Click on save and update. This should do the trick.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14501591,"reputation":41,"user_id":11664835,"display_name":"Валерий Рязанов"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681736724,"creation_date":1560864847,"answer_id":56650436,"question_id":10029423,"body_markdown":"1. Download the driver from [here](https://jdbc.postgresql.org/download/).  \r\n\r\n2. Specify the path to the driver file with `-dp`.\r\n\r\n   For example:\r\n   \r\n   ```\r\n   java -jar schemaSpy.jar   \\\r\n     -t pgsql11              \\\r\n     -host &lt;host&gt;:&lt;port&gt;     \\\r\n     -db &lt;database_name&gt;     \\\r\n     -s &lt;schema_name&gt;        \\\r\n     -u &lt;database_user&gt;      \\\r\n     -p  &lt;password&gt;          \\\r\n     -o &lt;output_directory&gt;   \\\r\n     -dp &lt;path_to_downloaded_driver&gt;\r\n   ```\r\n\r\n   One-liner on Windows:\r\n\r\n   ```\r\n   java -jar schemaSpy.jar  -t pgsql -host localhost:5432 -db _dbname_ -s _schena_name_ -u postgres -p  -o D:\\RVA\\postgreSQL\\  -dp &quot;D:\\Program Files (x86)\\PostgreSQL\\pgJDBC\\postgresql-42.2.5.jar&quot;\r\n   ```\r\n---\r\n\r\nNOTE: There are two possible values for database type&#39;s value (`-t`) when it comes to PostgreSQL: \r\n\r\n```\r\n$ schemaspy --dbhelp\r\n...\r\nINFO  - PostgreSQL Before Version 11 (-t pgsql)\r\nINFO  -    -host   \t\thost of database, may contain port\r\nINFO  -    -port   \t\toptional port if not default\r\nINFO  -    -db   \t\tdatabase name\r\nINFO  - PostgreSQL On Or After Version 11 (-t pgsql11)\r\nINFO  -    -host   \t\thost of database, may contain port\r\nINFO  -    -port   \t\toptional port if not default\r\nINFO  -    -db   \t\tdatabase name\r\n...\r\n```","title":"Schema Spy unable to find postgresql driver","body":"<ol>\n<li><p>Download the driver from <a href=\"https://jdbc.postgresql.org/download/\" rel=\"nofollow noreferrer\">here</a>.</p>\n</li>\n<li><p>Specify the path to the driver file with <code>-dp</code>.</p>\n<p>For example:</p>\n<pre><code>java -jar schemaSpy.jar   \\\n  -t pgsql11              \\\n  -host &lt;host&gt;:&lt;port&gt;     \\\n  -db &lt;database_name&gt;     \\\n  -s &lt;schema_name&gt;        \\\n  -u &lt;database_user&gt;      \\\n  -p  &lt;password&gt;          \\\n  -o &lt;output_directory&gt;   \\\n  -dp &lt;path_to_downloaded_driver&gt;\n</code></pre>\n<p>One-liner on Windows:</p>\n<pre><code>java -jar schemaSpy.jar  -t pgsql -host localhost:5432 -db _dbname_ -s _schena_name_ -u postgres -p  -o D:\\RVA\\postgreSQL\\  -dp &quot;D:\\Program Files (x86)\\PostgreSQL\\pgJDBC\\postgresql-42.2.5.jar&quot;\n</code></pre>\n</li>\n</ol>\n<hr />\n<p>NOTE: There are two possible values for database type's value (<code>-t</code>) when it comes to PostgreSQL:</p>\n<pre><code>$ schemaspy --dbhelp\n...\nINFO  - PostgreSQL Before Version 11 (-t pgsql)\nINFO  -    -host        host of database, may contain port\nINFO  -    -port        optional port if not default\nINFO  -    -db          database name\nINFO  - PostgreSQL On Or After Version 11 (-t pgsql11)\nINFO  -    -host        host of database, may contain port\nINFO  -    -port        optional port if not default\nINFO  -    -db          database name\n...\n</code></pre>\n"}],"owner":{"account_id":1014710,"reputation":659,"user_id":1026535,"accept_rate":81,"display_name":"Pankaj Bhambhani"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10046,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":10039205,"answer_count":3,"score":15,"last_activity_date":1681736724,"creation_date":1333632108,"question_id":10029423,"body_markdown":"I want to use Schema Spy to generate schema diagrams,\r\n\r\nI have specifed the following command\r\n\r\n    java -jar schemaSpy_5.0.0.jar -t pgsql -host 10.100.71.21[:5432] -db mydb -s public -u username -p password -dp postgresql-8.0-312.jdbc3.jar -o output/\r\n\r\nI have the postgresql driver jar file in the same directory as schema spy jar file. But it gives the following error\r\n\r\n\r\n    [schemaSpy_5.0.0.jar]/net/sourceforge/schemaspy/dbTypes/pgsql.properties\r\n    java.lang.ClassNotFoundException: org.postgresql.Driver\r\n\r\n    Failed to load driver &#39;org.postgresql.Driver&#39;from: [file:/home/panx/postgresql-8.0- 312.jdbc3.jar]\r\n    This entry doesn&#39;t point to a valid file/directory: [/whereever/postgresql-8.0-312.jdbc3.jar]\r\n\r\n    Use the -dp option to specify the location of the database\r\n     drivers for your database (usually in a .jar or .zip/.Z).\r\n\r\nAny help would be appreciated.\r\n\r\nThanks,\r\n\r\nPankaj","title":"Schema Spy unable to find postgresql driver","body":"<p>I want to use Schema Spy to generate schema diagrams,</p>\n\n<p>I have specifed the following command</p>\n\n<pre><code>java -jar schemaSpy_5.0.0.jar -t pgsql -host 10.100.71.21[:5432] -db mydb -s public -u username -p password -dp postgresql-8.0-312.jdbc3.jar -o output/\n</code></pre>\n\n<p>I have the postgresql driver jar file in the same directory as schema spy jar file. But it gives the following error</p>\n\n<pre><code>[schemaSpy_5.0.0.jar]/net/sourceforge/schemaspy/dbTypes/pgsql.properties\njava.lang.ClassNotFoundException: org.postgresql.Driver\n\nFailed to load driver 'org.postgresql.Driver'from: [file:/home/panx/postgresql-8.0- 312.jdbc3.jar]\nThis entry doesn't point to a valid file/directory: [/whereever/postgresql-8.0-312.jdbc3.jar]\n\nUse the -dp option to specify the location of the database\n drivers for your database (usually in a .jar or .zip/.Z).\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n\n<p>Thanks,</p>\n\n<p>Pankaj</p>\n"},{"tags":["java","angular","spring"],"comments":[{"owner":{"account_id":1402548,"reputation":8370,"user_id":1331040,"display_name":"Harun Yilmaz"},"score":0,"creation_date":1681736039,"post_id":76035100,"comment_id":134099913,"body_markdown":"You&#39;re trying to access `/api/answer` from the browser address bar directly, which is a `GET` request. That&#39;s why you get `GET method not allowed` response. You need to go to the address where the Angular app is running, which I assume is `localhost:4200`","body":"You&#39;re trying to access <code>&#47;api&#47;answer</code> from the browser address bar directly, which is a <code>GET</code> request. That&#39;s why you get <code>GET method not allowed</code> response. You need to go to the address where the Angular app is running, which I assume is <code>localhost:4200</code>"},{"owner":{"account_id":28075507,"reputation":29,"user_id":21447436,"display_name":"Benedikt M&#252;ller"},"score":0,"creation_date":1681736193,"post_id":76035100,"comment_id":134099947,"body_markdown":"But i want to have the data at :8080 so at the backend? Or am i wrong?","body":"But i want to have the data at :8080 so at the backend? Or am i wrong?"},{"owner":{"account_id":28075507,"reputation":29,"user_id":21447436,"display_name":"Benedikt M&#252;ller"},"score":0,"creation_date":1681736246,"post_id":76035100,"comment_id":134099962,"body_markdown":"So i want to post data to :8080 where the backend is. That the backend can have the data.","body":"So i want to post data to :8080 where the backend is. That the backend can have the data."},{"owner":{"account_id":1402548,"reputation":8370,"user_id":1331040,"display_name":"Harun Yilmaz"},"score":0,"creation_date":1681736367,"post_id":76035100,"comment_id":134099989,"body_markdown":"You&#39;re not wrong, but there&#39;s a misconception. `localhost:8080` is your backend. And you want your frontend (which should be running on a different port) to make a `POST` request to the backend. But you go directly to the backend endpoint from the browser.","body":"You&#39;re not wrong, but there&#39;s a misconception. <code>localhost:8080</code> is your backend. And you want your frontend (which should be running on a different port) to make a <code>POST</code> request to the backend. But you go directly to the backend endpoint from the browser."},{"owner":{"account_id":28075507,"reputation":29,"user_id":21447436,"display_name":"Benedikt M&#252;ller"},"score":0,"creation_date":1681736440,"post_id":76035100,"comment_id":134100010,"body_markdown":"Okei but i dont understand how i should do it then. I thought that i need to send it directly to the backend endpoint.","body":"Okei but i dont understand how i should do it then. I thought that i need to send it directly to the backend endpoint."},{"owner":{"account_id":1402548,"reputation":8370,"user_id":1331040,"display_name":"Harun Yilmaz"},"score":0,"creation_date":1681736478,"post_id":76035100,"comment_id":134100026,"body_markdown":"You need to go to the `frontend`, and then the frontend will make a `POST` request to your backend.","body":"You need to go to the <code>frontend</code>, and then the frontend will make a <code>POST</code> request to your backend."},{"owner":{"account_id":28075507,"reputation":29,"user_id":21447436,"display_name":"Benedikt M&#252;ller"},"score":0,"creation_date":1681736540,"post_id":76035100,"comment_id":134100044,"body_markdown":"Can we chat in a private chat?","body":"Can we chat in a private chat?"},{"owner":{"account_id":1402548,"reputation":8370,"user_id":1331040,"display_name":"Harun Yilmaz"},"score":0,"creation_date":1681736601,"post_id":76035100,"comment_id":134100063,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/253192/discussion-between-harun-yilmaz-and-benedikt-muller).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253192/discussion-between-harun-yilmaz-and-benedikt-muller\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":12468804,"reputation":31,"user_id":9077723,"display_name":"Adam Waniak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681736649,"creation_date":1681736649,"answer_id":76035463,"question_id":76035100,"body_markdown":"By entering `localhost:8080/api/request` in your browser you are sending GET request to `http://localhost:8080/api/request` and **this is your backend not fronted**. You are not handling GET request on the backend - that is why you are getting status 405 (method not allowed).\r\n\r\nI bet what you wanted was to enter the fronted. The default port for the angular app is 4200 so you should try to enter into the browser `localhost:4200`","title":"How can i connect frontend with backend and post objects from frontend to backend","body":"<p>By entering <code>localhost:8080/api/request</code> in your browser you are sending GET request to <code>http://localhost:8080/api/request</code> and <strong>this is your backend not fronted</strong>. You are not handling GET request on the backend - that is why you are getting status 405 (method not allowed).</p>\n<p>I bet what you wanted was to enter the fronted. The default port for the angular app is 4200 so you should try to enter into the browser <code>localhost:4200</code></p>\n"}],"owner":{"account_id":28075507,"reputation":29,"user_id":21447436,"display_name":"Benedikt M&#252;ller"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1681736649,"creation_date":1681733998,"question_id":76035100,"body_markdown":"So i have the following ngOnInit() for test:\r\n```typescript\r\nngOnInit(): void {\r\n    this.http.post&lt;any&gt;(&#39;http://localhost:8080/api/answers&#39;, { title: &#39;Angular POST Request Example&#39; });\r\n  }\r\n```\r\n\r\nAnd the following RestController:\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class ControllerPosting{\r\n\r\n\r\n    @PostMapping(path=&quot;/answers&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public @ResponseBody String handlePostRequest(@RequestBody String title){\r\n        //System.out.println(s);\r\n        return &quot;ok&quot;;\r\n    }\r\n}\r\n```\r\n\r\nWhat i get on the /api/answers side is:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/B9Fvc.png\r\n\r\nAlso getting this error in spring:\r\nResolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;GET&#39; is not supported] but im not using &quot;GET&quot; dont know..\r\n\r\nSadly, i realy don&#39;t understand why there is method &quot;GET&quot; and why my post isn&#39;t there. Perheps someone can help me. Thank you.","title":"How can i connect frontend with backend and post objects from frontend to backend","body":"<p>So i have the following ngOnInit() for test:</p>\n<pre class=\"lang-js prettyprint-override\"><code>ngOnInit(): void {\n    this.http.post&lt;any&gt;('http://localhost:8080/api/answers', { title: 'Angular POST Request Example' });\n  }\n</code></pre>\n<p>And the following RestController:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class ControllerPosting{\n\n\n    @PostMapping(path=&quot;/answers&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public @ResponseBody String handlePostRequest(@RequestBody String title){\n        //System.out.println(s);\n        return &quot;ok&quot;;\n    }\n}\n</code></pre>\n<p>What i get on the /api/answers side is:\n<a href=\"https://i.stack.imgur.com/B9Fvc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B9Fvc.png\" alt=\"enter image description here\" /></a></p>\n<p>Also getting this error in spring:\nResolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported] but im not using &quot;GET&quot; dont know..</p>\n<p>Sadly, i realy don't understand why there is method &quot;GET&quot; and why my post isn't there. Perheps someone can help me. Thank you.</p>\n"},{"tags":["java","iterator","reverse","concurrentskiplistmap"],"answers":[{"tags":[],"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1457627412,"creation_date":1457624645,"answer_id":35921047,"question_id":35920855,"body_markdown":"`ConcurrentSkipListMap` implements `ConcurrentNavigableMap`, which has a [`descdendingMap()`][1] method returning view of this map ordered in reverse:\r\n\r\n    Iterator&lt;Entry&lt;Long, Double&gt;&gt; reversed = data.descendingMap().entrySet().iterator();\r\n\r\nHowever, CSLM reversed iterator is *much* slower than direct iterator (O(log N) vs O(1) for each `next()`) and thus should be used only if required rarely. Otherwise consider creating the map using &quot;reversed&quot; custom comparator:\r\n\r\n    data = new ConcurrentSkipListMap&lt;&gt;((k1, k2) -&gt; Long.compare(k2, k1));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/NavigableMap.html#descendingMap--","title":"Iterate a Java ConcurrentSkipListMap in reverse","body":"<p><code>ConcurrentSkipListMap</code> implements <code>ConcurrentNavigableMap</code>, which has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/NavigableMap.html#descendingMap--\" rel=\"nofollow\"><code>descdendingMap()</code></a> method returning view of this map ordered in reverse:</p>\n\n<pre><code>Iterator&lt;Entry&lt;Long, Double&gt;&gt; reversed = data.descendingMap().entrySet().iterator();\n</code></pre>\n\n<p>However, CSLM reversed iterator is <em>much</em> slower than direct iterator (O(log N) vs O(1) for each <code>next()</code>) and thus should be used only if required rarely. Otherwise consider creating the map using \"reversed\" custom comparator:</p>\n\n<pre><code>data = new ConcurrentSkipListMap&lt;&gt;((k1, k2) -&gt; Long.compare(k2, k1));\n</code></pre>\n"}],"owner":{"account_id":4437333,"reputation":1079,"user_id":3612829,"accept_rate":72,"display_name":"Waltari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1127,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":35921047,"answer_count":1,"score":4,"last_activity_date":1681736515,"creation_date":1457624186,"question_id":35920855,"body_markdown":"I have a map with some values:\r\n\r\n    public ConcurrentMap&lt;Long, Double&gt; data = new ConcurrentSkipListMap&lt;&gt;();\r\n\r\nHow do I iterate this in reverse?  \r\nJava iterator doesn&#39;t seem to have an next() function or a function to reverse the map.","title":"Iterate a Java ConcurrentSkipListMap in reverse","body":"<p>I have a map with some values:</p>\n<pre><code>public ConcurrentMap&lt;Long, Double&gt; data = new ConcurrentSkipListMap&lt;&gt;();\n</code></pre>\n<p>How do I iterate this in reverse?<br />\nJava iterator doesn't seem to have an next() function or a function to reverse the map.</p>\n"},{"tags":["java","real-time","pixel"],"comments":[{"owner":{"account_id":24479,"reputation":12860,"user_id":62255,"accept_rate":73,"display_name":"jedierikb"},"score":0,"creation_date":1409234572,"post_id":25550707,"comment_id":39896518,"body_markdown":"java you can do that.  check out processing.org which uses the java vm to draw pixels.","body":"java you can do that.  check out processing.org which uses the java vm to draw pixels."},{"owner":{"account_id":4454002,"reputation":117,"user_id":3624920,"accept_rate":86,"display_name":"Kumara"},"score":0,"creation_date":1409235065,"post_id":25550707,"comment_id":39896918,"body_markdown":"I don&#39;t think it can be done with it (in real time). The application itself should be invisible while running, just the desired pixels are displayed in changed color.","body":"I don&#39;t think it can be done with it (in real time). The application itself should be invisible while running, just the desired pixels are displayed in changed color."}],"answers":[{"tags":[],"owner":{"account_id":34563,"reputation":19814,"user_id":97754,"accept_rate":90,"display_name":"Margus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681736326,"creation_date":1409235087,"answer_id":25550956,"question_id":25550707,"body_markdown":"Yes, it is possible. For example take a look at : https://stackoverflow.com/questions/3742731/java-how-to-draw-constantly-changing-graphic. There \r\nI basically created a zoom tool. \r\n\r\nNote that it differs slightly from what you are looking for as you would read pixels from topmost rendered view. You however want topmost that is not your program. \r\n\r\nYou can get program view, but it is slightly more complicated, as you need to find process that is rendering this form. I am quite sure it would be platform dependent. For example if you use Windows you need to use Win Api. But to answer you - yes it is possible.\r\n","title":"Displaying colored pixels in real time","body":"<p>Yes, it is possible. For example take a look at : <a href=\"https://stackoverflow.com/questions/3742731/java-how-to-draw-constantly-changing-graphic\">Java, how to draw constantly changing graphics</a>. There\nI basically created a zoom tool.</p>\n<p>Note that it differs slightly from what you are looking for as you would read pixels from topmost rendered view. You however want topmost that is not your program.</p>\n<p>You can get program view, but it is slightly more complicated, as you need to find process that is rendering this form. I am quite sure it would be platform dependent. For example if you use Windows you need to use Win Api. But to answer you - yes it is possible.</p>\n"}],"owner":{"account_id":4454002,"reputation":117,"user_id":3624920,"accept_rate":86,"display_name":"Kumara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1409239681,"answer_count":1,"score":0,"last_activity_date":1681736326,"creation_date":1409234379,"question_id":25550707,"body_markdown":"So the question is: is it possible (with java), to get the pixels color, change it&#39;s value, and displaying the new color on top of the same pixel, and very importantly- in real time?\r\n\r\nThe application itself should be invisible while running, just the desired pixels are displayed in changed color.  \r\n\r\nJust want to know if it can be done with java, and if not, what is the most practical way of doing it. ","title":"Displaying colored pixels in real time","body":"<p>So the question is: is it possible (with java), to get the pixels color, change it's value, and displaying the new color on top of the same pixel, and very importantly- in real time?</p>\n\n<p>The application itself should be invisible while running, just the desired pixels are displayed in changed color.  </p>\n\n<p>Just want to know if it can be done with java, and if not, what is the most practical way of doing it. </p>\n"},{"tags":["java","java-io","java-nio"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1681726995,"post_id":76034102,"comment_id":134097733,"body_markdown":"originalName; newName = originalName; counter 0; while (newName.exists()) newName = originalName -&gt; add (++counter) as suffix;","body":"originalName; newName = originalName; counter 0; while (newName.exists()) newName = originalName -&gt; add (++counter) as suffix;"},{"owner":{"account_id":16540071,"reputation":356,"user_id":11951046,"display_name":"Farrukh Nabiyev"},"score":0,"creation_date":1681737249,"post_id":76034102,"comment_id":134100235,"body_markdown":"The best is instead of a number add a timestamp, then it will always be unique and incremental","body":"The best is instead of a number add a timestamp, then it will always be unique and incremental"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1681738594,"post_id":76034102,"comment_id":134100653,"body_markdown":"Is there a reason you can’t build the new destination path yourself?  If the path exists, use `hash + &quot;-&quot; + number`.  Write a loop that, as long the path exists, increments the number and builds a new destination path.","body":"Is there a reason you can’t build the new destination path yourself?  If the path exists, use <code>hash + &quot;-&quot; + number</code>.  Write a loop that, as long the path exists, increments the number and builds a new destination path."}],"answers":[{"tags":[],"owner":{"account_id":3986871,"reputation":139,"user_id":3287175,"display_name":"vaultboy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1681736030,"creation_date":1681730897,"answer_id":76034673,"question_id":76034102,"body_markdown":"A source file can be moved to a target directory (targetDir) and will rename the file when the filename already exists in the target directory. Not thoroughly tested though.\r\n\r\n\r\n    package testcode;\r\n    \r\n    import java.io.File;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class TestCode {\r\n    \r\n        public static void main(String[] args) {\r\n            \r\n            String dir = &quot;C:&quot;+File.separator+&quot;Users&quot;+File.separator+&quot;Name&quot;+File.separator+&quot;Documents&quot;+File.separator;\r\n            String fileName = &quot;filename.ext&quot;;\r\n            String fileLocation = dir+fileName;\r\n            Path source = Paths.get(fileLocation);\r\n            String targetDir = source.getParent().toString();        \r\n            \r\n            moveFile(source, targetDir);\r\n        }\r\n           \r\n        private static boolean moveFile(Path source, String targetDir) {\r\n            \r\n            String fileName = removeExtension(source.getFileName().toString());\r\n            String ext = getFileExtension(source.getFileName().toString());\r\n    \r\n            String target = targetDir+File.separator+fileName+ext;     \r\n            int count = 1;\r\n            \r\n            while (Files.exists(Paths.get(target))) {\r\n                target = targetDir+File.separator+fileName+count+ext;     \r\n                count++;\r\n            }\r\n                \r\n            try {             \r\n                Files.move(source, Paths.get(target));\r\n                System.out.print(&quot;Moved file&quot;);\r\n                return true;                \r\n            } \r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n            }  \r\n             \r\n            return false;\r\n        }\r\n        \r\n        private static String getFileExtension(String fileName) {\r\n            int index = fileName.lastIndexOf(&#39;.&#39;);\r\n            if (index &gt; 0) {\r\n                return fileName.substring(index);\r\n            }\r\n            return null;\r\n        }\r\n        \r\n        private static String removeExtension(String fileName) {\r\n            int index = fileName.lastIndexOf(&#39;.&#39;);\r\n            if (index &gt; 0) {\r\n                return fileName.substring(0, index);\r\n            }       \r\n            return null;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"java: rename file and add suffix if it already exists","body":"<p>A source file can be moved to a target directory (targetDir) and will rename the file when the filename already exists in the target directory. Not thoroughly tested though.</p>\n<pre><code>package testcode;\n\nimport java.io.File;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class TestCode {\n\n    public static void main(String[] args) {\n        \n        String dir = &quot;C:&quot;+File.separator+&quot;Users&quot;+File.separator+&quot;Name&quot;+File.separator+&quot;Documents&quot;+File.separator;\n        String fileName = &quot;filename.ext&quot;;\n        String fileLocation = dir+fileName;\n        Path source = Paths.get(fileLocation);\n        String targetDir = source.getParent().toString();        \n        \n        moveFile(source, targetDir);\n    }\n       \n    private static boolean moveFile(Path source, String targetDir) {\n        \n        String fileName = removeExtension(source.getFileName().toString());\n        String ext = getFileExtension(source.getFileName().toString());\n\n        String target = targetDir+File.separator+fileName+ext;     \n        int count = 1;\n        \n        while (Files.exists(Paths.get(target))) {\n            target = targetDir+File.separator+fileName+count+ext;     \n            count++;\n        }\n            \n        try {             \n            Files.move(source, Paths.get(target));\n            System.out.print(&quot;Moved file&quot;);\n            return true;                \n        } \n        catch (Exception e) {\n            e.printStackTrace();\n        }  \n         \n        return false;\n    }\n    \n    private static String getFileExtension(String fileName) {\n        int index = fileName.lastIndexOf('.');\n        if (index &gt; 0) {\n            return fileName.substring(index);\n        }\n        return null;\n    }\n    \n    private static String removeExtension(String fileName) {\n        int index = fileName.lastIndexOf('.');\n        if (index &gt; 0) {\n            return fileName.substring(0, index);\n        }       \n        return null;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3899033,"reputation":21460,"user_id":3227319,"accept_rate":48,"display_name":"Jordi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1681736030,"creation_date":1681726806,"question_id":76034102,"body_markdown":"I need to rename a file.\r\n\r\n```lang-java\r\nPath destPath = Paths.get(directoryPath, hash);\r\nFiles.move(path, destPath);\r\n```\r\n\r\nThe problem is that when I&#39;m trying to &quot;rename&quot; the file, it can already exist.\r\n\r\nIs there anyway to solve it by convention adding a suffix like `-number`?\r\n\r\nFor example, if I need to rename to `newfile` and `newfile` and `newfile1` exist, I want to rename to `rename2`.\r\n\r\nIf at the time to rename `newfile2` file, another file is renamed to `newfile2` then `newfile3` should be written...\r\n\r\nAny ideas?","title":"java: rename file and add suffix if it already exists","body":"<p>I need to rename a file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path destPath = Paths.get(directoryPath, hash);\nFiles.move(path, destPath);\n</code></pre>\n<p>The problem is that when I'm trying to &quot;rename&quot; the file, it can already exist.</p>\n<p>Is there anyway to solve it by convention adding a suffix like <code>-number</code>?</p>\n<p>For example, if I need to rename to <code>newfile</code> and <code>newfile</code> and <code>newfile1</code> exist, I want to rename to <code>rename2</code>.</p>\n<p>If at the time to rename <code>newfile2</code> file, another file is renamed to <code>newfile2</code> then <code>newfile3</code> should be written...</p>\n<p>Any ideas?</p>\n"},{"tags":["java","data-structures","java-8"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1681735309,"post_id":76035065,"comment_id":134099744,"body_markdown":"well, it&#39;s _your_ task - so _you_ should at least try to solve it: do some research, apply what you learned and when stuck, come back with an exact description of what went wrong, best in the form of a [mcve] :)","body":"well, it&#39;s <i>your</i> task - so <i>you</i> should at least try to solve it: do some research, apply what you learned and when stuck, come back with an exact description of what went wrong, best in the form of a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> :)"}],"answers":[{"tags":[],"owner":{"account_id":25277304,"reputation":150,"user_id":19105712,"display_name":"David NoHorizon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681735394,"creation_date":1681735394,"answer_id":76035275,"question_id":76035065,"body_markdown":"here is the example using Hashmap:\r\n\r\n    import java.util.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            List&lt;Relation&gt; relations = Arrays.asList(\r\n                    new Relation(&quot;A&quot;, 1, 0),\r\n                    new Relation(&quot;B1&quot;, 2, 1),\r\n                    new Relation(&quot;B2&quot;, 3, 1),\r\n                    new Relation(&quot;C1&quot;, 4, 2),\r\n                    new Relation(&quot;C2&quot;, 5, 3),\r\n                    new Relation(&quot;D1&quot;, 6, 5)\r\n            );\r\n    \r\n            List&lt;Person&gt; parentList = buildParentChildList(relations);\r\n            printPersons(parentList, 0);\r\n        }\r\n    \r\n        public static List&lt;Person&gt; buildParentChildList(List&lt;Relation&gt; relations) {\r\n            Map&lt;Integer, Person&gt; personMap = new HashMap&lt;&gt;();\r\n            Map&lt;Integer, List&lt;Person&gt;&gt; childMap = new HashMap&lt;&gt;();\r\n    \r\n            for (Relation relation : relations) {\r\n                Person person = new Person(relation.name);\r\n                personMap.put(relation.id, person);\r\n                childMap.putIfAbsent(relation.parentId, new ArrayList&lt;&gt;());\r\n                childMap.get(relation.parentId).add(person);\r\n            }\r\n    \r\n            for (Person person : personMap.values()) {\r\n                person.childs = childMap.getOrDefault(person.id, Collections.emptyList());\r\n            }\r\n    \r\n            return childMap.get(0);\r\n        }\r\n    \r\n        public static void printPersons(List&lt;Person&gt; persons, int level) {\r\n            for (Person person : persons) {\r\n                System.out.println(&quot;  &quot;.repeat(level) + person.name);\r\n                printPersons(person.childs, level + 1);\r\n            }\r\n        }\r\n    }\r\n    \r\n    class Relation {\r\n        String name;\r\n        int id;\r\n        int parentId;\r\n    \r\n        Relation(String name, int id, int parentId) {\r\n            this.name = name;\r\n            this.id = id;\r\n            this.parentId = parentId;\r\n        }\r\n    }\r\n    \r\n    class Person {\r\n        String name;\r\n        int id;\r\n        List&lt;Person&gt; childs;\r\n    \r\n        Person(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\nHope it helps, good luck.\r\n","title":"Need to map child with their parents","body":"<p>here is the example using Hashmap:</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Relation&gt; relations = Arrays.asList(\n                new Relation(&quot;A&quot;, 1, 0),\n                new Relation(&quot;B1&quot;, 2, 1),\n                new Relation(&quot;B2&quot;, 3, 1),\n                new Relation(&quot;C1&quot;, 4, 2),\n                new Relation(&quot;C2&quot;, 5, 3),\n                new Relation(&quot;D1&quot;, 6, 5)\n        );\n\n        List&lt;Person&gt; parentList = buildParentChildList(relations);\n        printPersons(parentList, 0);\n    }\n\n    public static List&lt;Person&gt; buildParentChildList(List&lt;Relation&gt; relations) {\n        Map&lt;Integer, Person&gt; personMap = new HashMap&lt;&gt;();\n        Map&lt;Integer, List&lt;Person&gt;&gt; childMap = new HashMap&lt;&gt;();\n\n        for (Relation relation : relations) {\n            Person person = new Person(relation.name);\n            personMap.put(relation.id, person);\n            childMap.putIfAbsent(relation.parentId, new ArrayList&lt;&gt;());\n            childMap.get(relation.parentId).add(person);\n        }\n\n        for (Person person : personMap.values()) {\n            person.childs = childMap.getOrDefault(person.id, Collections.emptyList());\n        }\n\n        return childMap.get(0);\n    }\n\n    public static void printPersons(List&lt;Person&gt; persons, int level) {\n        for (Person person : persons) {\n            System.out.println(&quot;  &quot;.repeat(level) + person.name);\n            printPersons(person.childs, level + 1);\n        }\n    }\n}\n\nclass Relation {\n    String name;\n    int id;\n    int parentId;\n\n    Relation(String name, int id, int parentId) {\n        this.name = name;\n        this.id = id;\n        this.parentId = parentId;\n    }\n}\n\nclass Person {\n    String name;\n    int id;\n    List&lt;Person&gt; childs;\n\n    Person(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>Hope it helps, good luck.</p>\n"}],"owner":{"account_id":1618127,"reputation":169,"user_id":1495253,"accept_rate":80,"display_name":"wild"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1681735997,"creation_date":1681733707,"question_id":76035065,"body_markdown":"    name    id      parentId\r\n    A       1           0   \r\n    B1      2           1   \r\n    B2      3           1   \r\n    C1      4           2   \r\n    C2      5           3   \r\n    D1      6           5\r\n\r\nThe above is a table am using to hold parent child relationship, Now with the above data i need to frame a list of parents and their Childs in java in tree format,\r\nOne solution is to use recursion, is there any other best solution to find out the children &amp; their parents\r\n\r\nExpected OutPut format:\r\n```java\r\n    List&lt;Person&gt; parentList;\r\n\r\n    Class Person{\r\n        String name;\r\n        List&lt;Person&gt; childs;\r\n    }\r\n```\r\n","title":"Need to map child with their parents","body":"<pre><code>name    id      parentId\nA       1           0   \nB1      2           1   \nB2      3           1   \nC1      4           2   \nC2      5           3   \nD1      6           5\n</code></pre>\n<p>The above is a table am using to hold parent child relationship, Now with the above data i need to frame a list of parents and their Childs in java in tree format,\nOne solution is to use recursion, is there any other best solution to find out the children &amp; their parents</p>\n<p>Expected OutPut format:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    List&lt;Person&gt; parentList;\n\n    Class Person{\n        String name;\n        List&lt;Person&gt; childs;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","csrf"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1681459635,"post_id":76009094,"comment_id":134062867,"body_markdown":"Show your request with headers. Show your Spring Security DEBUG logs.","body":"Show your request with headers. Show your Spring Security DEBUG logs."},{"owner":{"account_id":6128339,"reputation":4087,"user_id":4779472,"accept_rate":89,"display_name":"Rohit Gupta"},"score":0,"creation_date":1681735635,"post_id":76009094,"comment_id":134099802,"body_markdown":"FYI, Debug details do not mean Debug Logs.  What it means is what do you observe when you single step and what is the values of the variables.","body":"FYI, Debug details do not mean Debug Logs.  What it means is what do you observe when you single step and what is the values of the variables."},{"owner":{"account_id":16691668,"reputation":354,"user_id":12064109,"display_name":"Akash Dahane"},"score":0,"creation_date":1686317288,"post_id":76009094,"comment_id":134786217,"body_markdown":"Same problem mate. Version 6.1 problem","body":"Same problem mate. Version 6.1 problem"}],"owner":{"account_id":28297830,"reputation":11,"user_id":21637004,"display_name":"Vlad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1681735645,"creation_date":1681413557,"question_id":76009094,"body_markdown":"My spring boot application return 403 forbidden CSRF token cannot be found on all requests even with csrf disabled in filterChain\r\nMy filterChain Bean looks like this:\r\n\r\n```\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity\r\n                .csrf().disable()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/auth/login&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .addFilterBefore(new JwtTokenFilter(jwtTokenProvider), UsernamePasswordAuthenticationFilter.class);\r\n        return httpSecurity.build();\r\n    }\r\n```\r\n\r\nFilter class like this:\r\n\r\n```\r\n@AllArgsConstructor\r\npublic class JwtTokenFilter extends GenericFilterBean {\r\n\r\n    private final JwtTokenProvider jwtTokenProvider;\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\r\n        String bearerToken = ((HttpServletRequest) servletRequest).getHeader(&quot;Authorization&quot;);\r\n        if (bearerToken != null &amp;&amp; bearerToken.startsWith(&quot;Bearer &quot;)) {\r\n            bearerToken = bearerToken.substring(7);\r\n        }\r\n        if (bearerToken != null &amp;&amp; jwtTokenProvider.validateToken(bearerToken)) {\r\n            Authentication authentication = jwtTokenProvider.getAuthentication(bearerToken);\r\n            if (authentication != null) {\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            }\r\n        }\r\n        filterChain.doFilter(servletRequest, servletResponse);\r\n    }\r\n}\r\n```\r\nDEBUG Logs: \r\n\r\n```\r\n2023-04-14T11:38:34.554+03:00 DEBUG 13404 --- [ctor-http-nio-2] o.s.w.s.a.HttpWebHandlerAdapter          : [1cc1175d-1] HTTP POST &quot;/auth/login&quot;\r\n2023-04-14T11:38:34.713+03:00 DEBUG 13404 --- [     parallel-1] o.s.w.s.s.DefaultWebSessionManager       : Created new WebSession.\r\n2023-04-14T11:38:34.783+03:00 DEBUG 13404 --- [ctor-http-nio-2] o.s.w.s.a.HttpWebHandlerAdapter          : [1cc1175d-1] Completed 403 FORBIDDEN\r\n```\r\n[Request with headers][1]\r\n\r\nI couldn&#39;t find a working answer in similar existing questions\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1sC4d.png\r\n\r\n**UPDATE:**\r\nI created empty project just with filterChain and mock controller:\r\n\r\nController:\r\n```\r\n@Controller\r\npublic class AController {\r\n    @PostMapping(path = &quot;/auth/login&quot;)\r\n    public ResponseEntity&lt;String&gt; login(){\r\n        return ResponseEntity.ok().build();\r\n    }\r\n}\r\n```\r\n\r\nConfiguration:\r\n```\r\n@Configuration\r\n@EnableWebSecurity(debug = true)\r\npublic class AConfiguration {\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable();\r\n        return http.build();\r\n    }\r\n}\r\n```\r\nApplication:\r\n```\r\n@SpringBootApplication\r\npublic class SecurityConfigurationApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SecurityConfigurationApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nRequest:\r\n```\r\nPOST http://localhost:8080/auth/login\r\nContent-Length: 0\r\nConnection: Keep-Alive\r\nUser-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)\r\nAccept-Encoding: br,deflate,gzip,x-gzip\r\n\r\n```\r\nResponse:\r\n```\r\nPOST http://localhost:8080/auth/login\r\n\r\nHTTP/1.1 403 Forbidden\r\nContent-Type: text/plain\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\nPragma: no-cache\r\nExpires: 0\r\nX-Content-Type-Options: nosniff\r\nX-Frame-Options: DENY\r\nX-XSS-Protection: 0\r\nReferrer-Policy: no-referrer\r\ncontent-length: 38\r\n\r\nAn expected CSRF token cannot be found\r\n\r\nResponse code: 403 (Forbidden); Time: 154ms (154 ms); Content length: 38 bytes (38 B)\r\n\r\n```","title":"Spring boot with Spring Security with disabled csrf returns 403 forbidden on request with An expected CSRF token cannot be found in body","body":"<p>My spring boot application return 403 forbidden CSRF token cannot be found on all requests even with csrf disabled in filterChain\nMy filterChain Bean looks like this:</p>\n<pre><code>    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .csrf().disable()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/auth/login&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .addFilterBefore(new JwtTokenFilter(jwtTokenProvider), UsernamePasswordAuthenticationFilter.class);\n        return httpSecurity.build();\n    }\n</code></pre>\n<p>Filter class like this:</p>\n<pre><code>@AllArgsConstructor\npublic class JwtTokenFilter extends GenericFilterBean {\n\n    private final JwtTokenProvider jwtTokenProvider;\n\n    @Override\n    public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {\n        String bearerToken = ((HttpServletRequest) servletRequest).getHeader(&quot;Authorization&quot;);\n        if (bearerToken != null &amp;&amp; bearerToken.startsWith(&quot;Bearer &quot;)) {\n            bearerToken = bearerToken.substring(7);\n        }\n        if (bearerToken != null &amp;&amp; jwtTokenProvider.validateToken(bearerToken)) {\n            Authentication authentication = jwtTokenProvider.getAuthentication(bearerToken);\n            if (authentication != null) {\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            }\n        }\n        filterChain.doFilter(servletRequest, servletResponse);\n    }\n}\n</code></pre>\n<p>DEBUG Logs:</p>\n<pre><code>2023-04-14T11:38:34.554+03:00 DEBUG 13404 --- [ctor-http-nio-2] o.s.w.s.a.HttpWebHandlerAdapter          : [1cc1175d-1] HTTP POST &quot;/auth/login&quot;\n2023-04-14T11:38:34.713+03:00 DEBUG 13404 --- [     parallel-1] o.s.w.s.s.DefaultWebSessionManager       : Created new WebSession.\n2023-04-14T11:38:34.783+03:00 DEBUG 13404 --- [ctor-http-nio-2] o.s.w.s.a.HttpWebHandlerAdapter          : [1cc1175d-1] Completed 403 FORBIDDEN\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1sC4d.png\" rel=\"nofollow noreferrer\">Request with headers</a></p>\n<p>I couldn't find a working answer in similar existing questions</p>\n<p><strong>UPDATE:</strong>\nI created empty project just with filterChain and mock controller:</p>\n<p>Controller:</p>\n<pre><code>@Controller\npublic class AController {\n    @PostMapping(path = &quot;/auth/login&quot;)\n    public ResponseEntity&lt;String&gt; login(){\n        return ResponseEntity.ok().build();\n    }\n}\n</code></pre>\n<p>Configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity(debug = true)\npublic class AConfiguration {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable();\n        return http.build();\n    }\n}\n</code></pre>\n<p>Application:</p>\n<pre><code>@SpringBootApplication\npublic class SecurityConfigurationApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SecurityConfigurationApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Request:</p>\n<pre><code>POST http://localhost:8080/auth/login\nContent-Length: 0\nConnection: Keep-Alive\nUser-Agent: Apache-HttpClient/4.5.13 (Java/17.0.5)\nAccept-Encoding: br,deflate,gzip,x-gzip\n\n</code></pre>\n<p>Response:</p>\n<pre><code>POST http://localhost:8080/auth/login\n\nHTTP/1.1 403 Forbidden\nContent-Type: text/plain\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Content-Type-Options: nosniff\nX-Frame-Options: DENY\nX-XSS-Protection: 0\nReferrer-Policy: no-referrer\ncontent-length: 38\n\nAn expected CSRF token cannot be found\n\nResponse code: 403 (Forbidden); Time: 154ms (154 ms); Content length: 38 bytes (38 B)\n\n</code></pre>\n"},{"tags":["java","eclipse","unit-testing","maven","junit"],"answers":[{"tags":[],"owner":{"account_id":1851051,"reputation":358,"user_id":1677620,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402652543,"creation_date":1402652543,"answer_id":24202293,"question_id":24201984,"body_markdown":"I&#39;m not sure about the eclipse specifics, but you could try a test suite, and set up to run that. It might be easier to point to than a package.\r\n\r\n    @RunWith(Suite.class)\r\n    @SuiteClasses({\r\n        unit.OneClass.class, \r\n        unit.TwoClass.class\r\n    })\r\n    public class UnitTestSuite {\r\n\r\netc","title":"How to run a single test package and its subpackages in eclipse?","body":"<p>I'm not sure about the eclipse specifics, but you could try a test suite, and set up to run that. It might be easier to point to than a package.</p>\n\n<pre><code>@RunWith(Suite.class)\n@SuiteClasses({\n    unit.OneClass.class, \n    unit.TwoClass.class\n})\npublic class UnitTestSuite {\n</code></pre>\n\n<p>etc</p>\n"},{"tags":[],"owner":{"account_id":45132,"reputation":5490,"user_id":132903,"display_name":"soru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402653230,"creation_date":1402653230,"answer_id":24202548,"question_id":24201984,"body_markdown":"What you are trying to do (run all tests in a package by right clicking on it) should work in principle. Certainly does for me in Eclipse Kepler SR2.\r\n\r\nIf it&#39;s not working, presumably the reason is one of:\r\n\r\n - old version of Eclipse\r\n - corrupted install\r\n - corrupted project\r\n - wrong classpath settings\r\n - some inconsistency between junit3/4\r\n - clicking on the wrong thing\r\n","title":"How to run a single test package and its subpackages in eclipse?","body":"<p>What you are trying to do (run all tests in a package by right clicking on it) should work in principle. Certainly does for me in Eclipse Kepler SR2.</p>\n\n<p>If it's not working, presumably the reason is one of:</p>\n\n<ul>\n<li>old version of Eclipse</li>\n<li>corrupted install</li>\n<li>corrupted project</li>\n<li>wrong classpath settings</li>\n<li>some inconsistency between junit3/4</li>\n<li>clicking on the wrong thing</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2878819,"reputation":955,"user_id":2470141,"accept_rate":20,"display_name":"Amar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402747463,"creation_date":1402747463,"answer_id":24219723,"question_id":24201984,"body_markdown":"You might try using cobertura. You have maven project so Using MAVEN command **mvn cobertura:cobertura** in the project level generates the code coverage under /target/site/cobertura/index.html\r\n\r\nHowever there is also a plugin names as **eclemma** which might be helpful.","title":"How to run a single test package and its subpackages in eclipse?","body":"<p>You might try using cobertura. You have maven project so Using MAVEN command <strong>mvn cobertura:cobertura</strong> in the project level generates the code coverage under /target/site/cobertura/index.html</p>\n\n<p>However there is also a plugin names as <strong>eclemma</strong> which might be helpful.</p>\n"},{"tags":[],"owner":{"account_id":318404,"reputation":347,"user_id":635617,"display_name":"William Jarvis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681735578,"creation_date":1681735578,"answer_id":76035311,"question_id":24201984,"body_markdown":"Eclipse release 2023-03 (4.27) now does this out of the box. You can right click a package and run all tests and it will run sub package tests now too.\r\n\r\nhttps://www.eclipse.org/eclipse/news/4.27/jdt.php#junit-subpackage-support","title":"How to run a single test package and its subpackages in eclipse?","body":"<p>Eclipse release 2023-03 (4.27) now does this out of the box. You can right click a package and run all tests and it will run sub package tests now too.</p>\n<p><a href=\"https://www.eclipse.org/eclipse/news/4.27/jdt.php#junit-subpackage-support\" rel=\"nofollow noreferrer\">https://www.eclipse.org/eclipse/news/4.27/jdt.php#junit-subpackage-support</a></p>\n"}],"owner":{"account_id":403468,"reputation":2142,"user_id":771253,"accept_rate":65,"display_name":"Tarken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1985,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1681735578,"creation_date":1402651581,"question_id":24201984,"body_markdown":"I have a Java/Maven project, my test are under src/test/java. There I have two packages integration and unit each with subpackages. I would like to run all test inside the unit package and it&#39;s subpackages.\r\n\r\nI am using JUnit4 and Eclipse Kepler SR2.\r\n\r\nI know that with right click -&gt; run as it should run but somehow Eclipse doesn&#39;t find any tests.\r\n\r\nThis works:\r\n\r\n - running each test alone\r\n - running all tests by right clicking on src/test/java -&gt; run as.\r\n - running only unit tests with mvn test (using the surefire plugin)\r\n\r\nBut I want to use some codecoverage plugin for eclipse and for that I need to run the tests in eclipse without the integration tests. And it is not a problem of the coverage tool, vanillia run as junit test also doesn&#39;t work.\r\n\r\nThe test classes get compiled to target/test-classes. And they are there :-/ \r\n\r\nSo any suggestions what causes this?\r\n\r\n**EDIT:**\r\n\r\nOkay it seems like eclipse only executes tests directly in the selected package. How to also execute tests in subpackages? ","title":"How to run a single test package and its subpackages in eclipse?","body":"<p>I have a Java/Maven project, my test are under src/test/java. There I have two packages integration and unit each with subpackages. I would like to run all test inside the unit package and it's subpackages.</p>\n\n<p>I am using JUnit4 and Eclipse Kepler SR2.</p>\n\n<p>I know that with right click -> run as it should run but somehow Eclipse doesn't find any tests.</p>\n\n<p>This works:</p>\n\n<ul>\n<li>running each test alone</li>\n<li>running all tests by right clicking on src/test/java -> run as.</li>\n<li>running only unit tests with mvn test (using the surefire plugin)</li>\n</ul>\n\n<p>But I want to use some codecoverage plugin for eclipse and for that I need to run the tests in eclipse without the integration tests. And it is not a problem of the coverage tool, vanillia run as junit test also doesn't work.</p>\n\n<p>The test classes get compiled to target/test-classes. And they are there :-/ </p>\n\n<p>So any suggestions what causes this?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Okay it seems like eclipse only executes tests directly in the selected package. How to also execute tests in subpackages? </p>\n"},{"tags":["java","javafx","javafx-8","breadcrumbs","controlsfx"],"comments":[{"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"score":0,"creation_date":1434696979,"post_id":30931401,"comment_id":49898935,"body_markdown":"Can you add the code for MainClass, where you are loading the FXML and calling the `refresh()`?","body":"Can you add the code for MainClass, where you are loading the FXML and calling the <code>refresh()</code>?"},{"owner":{"account_id":6487578,"reputation":189,"user_id":5022615,"accept_rate":80,"display_name":"Jay Vaidya"},"score":0,"creation_date":1434954511,"post_id":30931401,"comment_id":49977815,"body_markdown":"I&#39;m not using that structure anymore so won&#39;t really make sense. I can get the breadcrumbs to show up not but clicking does nothing. Working on it!","body":"I&#39;m not using that structure anymore so won&#39;t really make sense. I can get the breadcrumbs to show up not but clicking does nothing. Working on it!"}],"answers":[{"tags":[],"owner":{"account_id":4633450,"reputation":412,"user_id":3755297,"accept_rate":50,"display_name":"Torarn"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1681735485,"creation_date":1434699565,"answer_id":30932587,"question_id":30931401,"body_markdown":"The BreadCrumbBar use a tree to display the navigation, so you should create the TreeItem in consequence.\r\n\r\nHere is an example of a tree with 3 levels :\r\n```\r\nTreeItem&lt;String&gt; root = new TreeItem&lt;String&gt;(&quot;Root&quot;);\r\n\t\t\r\nTreeItem&lt;String&gt; item1 = new TreeItem&lt;String&gt;(&quot;Item 1&quot;);\r\nTreeItem&lt;String&gt; item11 = new TreeItem&lt;String&gt;(&quot;Item 1.1&quot;);\r\nTreeItem&lt;String&gt; item12 = new TreeItem&lt;String&gt;(&quot;Item 1.2&quot;);\r\n\t\t\r\nitem1.getChildren().addAll(item11, item12);\r\n\t\t\r\nTreeItem&lt;String&gt; item2 = new TreeItem&lt;String&gt;(&quot;Item 2&quot;);\r\n\t\t\r\nroot.getChildren().addAll(item1, item2);\r\n```\r\nThen you have a tree graphicaly represented like this :\r\n\r\n                       &lt;item11&gt;\r\n                     /\r\n             &lt;item1&gt;\r\n           /         \\\r\n    &lt;root&gt;             &lt;item12&gt;\r\n           \\\r\n             &lt;item2&gt;\r\n\r\n\r\nWhen you use the `BreadCrumbBar.setSelectedCrumb(TreeItem&lt;?&gt;)` you select\r\n\r\n&gt; the bottom-most path node (**the node on the most-right side in terms of the bread crumb bar**)\r\n\r\n\r\nSo if you use `breadcrumb.selectedCrumbProperty().set(root);` you will get :\r\n\r\n![enter image description here][1]\r\n\r\n\r\nAnd if you use `breadcrumb.selectedCrumbProperty().set(item11);` you will get :\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/5DRLy.png\r\n  [2]: http://i.stack.imgur.com/uDIPq.png\r\n\r\n\r\nHope it helps, I actually am trying to figure out how it works too ^^","title":"How to use BreadCrumbBar in ControlsFX (JavaFX 8)","body":"<p>The BreadCrumbBar use a tree to display the navigation, so you should create the TreeItem in consequence.</p>\n<p>Here is an example of a tree with 3 levels :</p>\n<pre><code>TreeItem&lt;String&gt; root = new TreeItem&lt;String&gt;(&quot;Root&quot;);\n        \nTreeItem&lt;String&gt; item1 = new TreeItem&lt;String&gt;(&quot;Item 1&quot;);\nTreeItem&lt;String&gt; item11 = new TreeItem&lt;String&gt;(&quot;Item 1.1&quot;);\nTreeItem&lt;String&gt; item12 = new TreeItem&lt;String&gt;(&quot;Item 1.2&quot;);\n        \nitem1.getChildren().addAll(item11, item12);\n        \nTreeItem&lt;String&gt; item2 = new TreeItem&lt;String&gt;(&quot;Item 2&quot;);\n        \nroot.getChildren().addAll(item1, item2);\n</code></pre>\n<p>Then you have a tree graphicaly represented like this :</p>\n<pre><code>                   &lt;item11&gt;\n                 /\n         &lt;item1&gt;\n       /         \\\n&lt;root&gt;             &lt;item12&gt;\n       \\\n         &lt;item2&gt;\n</code></pre>\n<p>When you use the <code>BreadCrumbBar.setSelectedCrumb(TreeItem&lt;?&gt;)</code> you select</p>\n<blockquote>\n<p>the bottom-most path node (<strong>the node on the most-right side in terms of the bread crumb bar</strong>)</p>\n</blockquote>\n<p>So if you use <code>breadcrumb.selectedCrumbProperty().set(root);</code> you will get :</p>\n<p><img src=\"https://i.stack.imgur.com/5DRLy.png\" alt=\"enter image description here\" /></p>\n<p>And if you use <code>breadcrumb.selectedCrumbProperty().set(item11);</code> you will get :</p>\n<p><img src=\"https://i.stack.imgur.com/uDIPq.png\" alt=\"enter image description here\" /></p>\n<p>Hope it helps, I actually am trying to figure out how it works too ^^</p>\n"}],"owner":{"account_id":6487578,"reputation":189,"user_id":5022615,"accept_rate":80,"display_name":"Jay Vaidya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4133,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":30932587,"answer_count":1,"score":6,"last_activity_date":1681735485,"creation_date":1434695467,"question_id":30931401,"body_markdown":"I&#39;m a Java beginner trying to use BreadCrumbBar from ControlsFX to make a navigation bar in a desktop application I&#39;m making using JavaFX 8. I can&#39;t seem to be able to get the bar to work the way I want to, and searching for a tutorial online yielded no results. I&#39;ve found the API but it doesn&#39;t help much.\r\n\r\nMy code is attached below: \r\n    \r\n    @FXML\r\n\tprivate BreadCrumbBar bread;\r\n\r\n    private TreeItem&lt;String&gt; tree, tree1, tree2;\r\n\r\n    @FXML\r\n\tprivate void initialize(){\r\n\t\ttree = new TreeItem&lt;String&gt;(&quot;Log In&quot;);\r\n\t\ttree1 = new TreeItem&lt;String&gt;(&quot;Language Selection&quot;);\r\n\t\ttree2 = new TreeItem&lt;String&gt;(&quot;Patient List&quot;);\r\n\t\ttree.getChildren().addAll(tree1, tree2);\r\n\t\tbread.setSelectedCrumb(tree);\r\n\t}\r\n\r\n    public void refresh(){\r\n\t\tbread.setSelectedCrumb(tree.nextSibling(bread.getSelectedCrumb()));\r\n\t}\r\n\r\n\r\nThe bar appears as it should for the log in screen showing only &quot;Log In&quot; as the selected crumb.I&#39;m calling refresh from the main class every time I want to shift to the next breadcrumb button but the bar just disappears when I move on from the first screen. Should&#39;t it set the selected crumb to the next sibling of tree i.e. tree1 ? \r\n\r\nIf anyone knows how to configure the autonavigation function that would be really helpful too. (possibly more helpful than sorting out my own code if it&#39;s easy to implement) \r\n\r\nThanks! \r\n","title":"How to use BreadCrumbBar in ControlsFX (JavaFX 8)","body":"<p>I'm a Java beginner trying to use BreadCrumbBar from ControlsFX to make a navigation bar in a desktop application I'm making using JavaFX 8. I can't seem to be able to get the bar to work the way I want to, and searching for a tutorial online yielded no results. I've found the API but it doesn't help much.</p>\n\n<p>My code is attached below: </p>\n\n<pre><code>@FXML\nprivate BreadCrumbBar bread;\n\nprivate TreeItem&lt;String&gt; tree, tree1, tree2;\n\n@FXML\nprivate void initialize(){\n    tree = new TreeItem&lt;String&gt;(\"Log In\");\n    tree1 = new TreeItem&lt;String&gt;(\"Language Selection\");\n    tree2 = new TreeItem&lt;String&gt;(\"Patient List\");\n    tree.getChildren().addAll(tree1, tree2);\n    bread.setSelectedCrumb(tree);\n}\n\npublic void refresh(){\n    bread.setSelectedCrumb(tree.nextSibling(bread.getSelectedCrumb()));\n}\n</code></pre>\n\n<p>The bar appears as it should for the log in screen showing only \"Log In\" as the selected crumb.I'm calling refresh from the main class every time I want to shift to the next breadcrumb button but the bar just disappears when I move on from the first screen. Should't it set the selected crumb to the next sibling of tree i.e. tree1 ? </p>\n\n<p>If anyone knows how to configure the autonavigation function that would be really helpful too. (possibly more helpful than sorting out my own code if it's easy to implement) </p>\n\n<p>Thanks! </p>\n"},{"tags":["java","oop","inheritance","casting","typecasting-operator"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1681733082,"post_id":76034942,"comment_id":134099137,"body_markdown":"`int x = 10;` and `int x = 20;` are *two different fields.*  The second one does not in any way override the first one.  Methods can be overridden;  fields cannot.  That said, if the constructor of B contained `x = 20;` (without the `int`—it is vital that the code does not declare a new field!), you would see what you expected to see.","body":"<code>int x = 10;</code> and <code>int x = 20;</code> are <i>two different fields.</i>  The second one does not in any way override the first one.  Methods can be overridden;  fields cannot.  That said, if the constructor of B contained <code>x = 20;</code> (without the <code>int</code>—it is vital that the code does not declare a new field!), you would see what you expected to see."},{"owner":{"account_id":1622656,"reputation":1043,"user_id":1498904,"accept_rate":100,"display_name":"nomoa"},"score":1,"creation_date":1681733138,"post_id":76034942,"comment_id":134099150,"body_markdown":"duplicate of https://stackoverflow.com/questions/10722110/overriding-member-variables-in-java-variable-hiding ?","body":"duplicate of <a href=\"https://stackoverflow.com/questions/10722110/overriding-member-variables-in-java-variable-hiding\" title=\"overriding member variables in java variable hiding\">stackoverflow.com/questions/10722110/&hellip;</a> ?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1681734600,"post_id":76034942,"comment_id":134099565,"body_markdown":"To answer the literal question in the title: **nothing** happens to the fields. In fact **nothing** happens to the object at all! Casting a reference in Java doesn&#39;t affect the object it references at all. It only changes the compile-time type, which can affect which methods you can call. At runtime that cast is nothing more than a check that it&#39;s allowed: that&#39;s all the JVM really does.","body":"To answer the literal question in the title: <b>nothing</b> happens to the fields. In fact <b>nothing</b> happens to the object at all! Casting a reference in Java doesn&#39;t affect the object it references at all. It only changes the compile-time type, which can affect which methods you can call. At runtime that cast is nothing more than a check that it&#39;s allowed: that&#39;s all the JVM really does."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89778,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681735317,"creation_date":1681735317,"answer_id":76035264,"question_id":76034942,"body_markdown":"* All Bs are As with extra bells and whistles. That&#39;s what `extends A {}` means.\r\n* Fields inherit for free. In fact, because fields do not have an implementation (merely defining them is where it ends), _if you declare a field with the same name in a subtype, you now have __2__ fields_. Thus, your B instances have 2 fields. They are __both__ named `x` but are completely separate fields. In real code you should never do this; it&#39;s very confusing.\r\n* Removing `int x;` from your B class means B _still_ has a field of type `int` named `x` - it inherits that one from A. It just means it now doesn&#39;t also have a second field also named `x` also of type `int`.\r\n\r\nThe &#39;name&#39; of a method in java is not just the method name, it also includes the parameter types. You can&#39;t override&#39; unless they match. In other words:\r\n\r\n```\r\nclass A { \r\n  void foo(int x) {}\r\n}\r\n\r\nclass B extends A {\r\n  void foo(long y) {}\r\n}\r\n```\r\n\r\nHere B&#39;s `foo` method is not the same name as A&#39;s and therefore foo does not override. If you slap an `@Override` on it, you&#39;ll get a compiler error. It is not possible to cause B&#39;s foo code to run with `A a = new B(); a.foo(5);` because given that the _reference_ here (`a` - a pointer, variables point at objects) is of type `A`, the compiler doesn&#39;t know about B&#39;s `foo(long)` method and thus couldn&#39;t possibly call it here. Make that B method `void foo(int x)` and that __is__ an override and `A a = new B(); a.foo(5);` would call B&#39;s, not A&#39;s, because java does dynamic dispatch.\r\n\r\nThe same principle applies to fields. With `A a = new B();` `a.x` refers to the `x` field defined in class A.\r\n","title":"When typecasting an child class&#39;s object to parent class, what happens with the variables of the object?","body":"<ul>\n<li>All Bs are As with extra bells and whistles. That's what <code>extends A {}</code> means.</li>\n<li>Fields inherit for free. In fact, because fields do not have an implementation (merely defining them is where it ends), <em>if you declare a field with the same name in a subtype, you now have <strong>2</strong> fields</em>. Thus, your B instances have 2 fields. They are <strong>both</strong> named <code>x</code> but are completely separate fields. In real code you should never do this; it's very confusing.</li>\n<li>Removing <code>int x;</code> from your B class means B <em>still</em> has a field of type <code>int</code> named <code>x</code> - it inherits that one from A. It just means it now doesn't also have a second field also named <code>x</code> also of type <code>int</code>.</li>\n</ul>\n<p>The 'name' of a method in java is not just the method name, it also includes the parameter types. You can't override' unless they match. In other words:</p>\n<pre><code>class A { \n  void foo(int x) {}\n}\n\nclass B extends A {\n  void foo(long y) {}\n}\n</code></pre>\n<p>Here B's <code>foo</code> method is not the same name as A's and therefore foo does not override. If you slap an <code>@Override</code> on it, you'll get a compiler error. It is not possible to cause B's foo code to run with <code>A a = new B(); a.foo(5);</code> because given that the <em>reference</em> here (<code>a</code> - a pointer, variables point at objects) is of type <code>A</code>, the compiler doesn't know about B's <code>foo(long)</code> method and thus couldn't possibly call it here. Make that B method <code>void foo(int x)</code> and that <strong>is</strong> an override and <code>A a = new B(); a.foo(5);</code> would call B's, not A's, because java does dynamic dispatch.</p>\n<p>The same principle applies to fields. With <code>A a = new B();</code> <code>a.x</code> refers to the <code>x</code> field defined in class A.</p>\n"}],"owner":{"account_id":28327397,"reputation":1,"user_id":21662203,"display_name":"Akanksha Makkar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681735317,"creation_date":1681732875,"question_id":76034942,"body_markdown":"```java\r\nclass HelloWorld \r\n{\r\n    public static void main(String[] args) \r\n    {\r\n         A a =  new B();\r\n\t     System.out.println(a.getX()); \r\n\t     a.show();\r\n    }\r\n}\r\n\r\nclass A {\r\n    int x = 10;\r\n    \r\n    public A() {\r\n    }\r\n    \r\n    public int getX() {\r\n        return x;\r\n    }\r\n    \r\n    public void show(){\r\n        System.out.println(&quot;A show&quot;);\r\n    }   \r\n}\r\n\r\nclass B extends A{\r\n    int x = 20 ;\r\n    \r\n    public B() {\r\n        super();\r\n    }\r\n    \r\n    @Override\r\n     public void show(){\r\n        System.out.println(&quot;B show&quot;);\r\n    }\r\n}\r\n```\r\n\r\nWhy is the output this?\r\n\r\n&gt; 10  \r\n&gt; B Show\r\n\r\nI understand &#39;B Show&#39;. Since the object is of class B, it will call the method that is overridden in B. But do not understand why it is printing &#39;10&#39; in output even though the object of B has value of x equal to 20.\r\nPlease help me understand this.","title":"When typecasting an child class&#39;s object to parent class, what happens with the variables of the object?","body":"<pre class=\"lang-java prettyprint-override\"><code>class HelloWorld \n{\n    public static void main(String[] args) \n    {\n         A a =  new B();\n         System.out.println(a.getX()); \n         a.show();\n    }\n}\n\nclass A {\n    int x = 10;\n    \n    public A() {\n    }\n    \n    public int getX() {\n        return x;\n    }\n    \n    public void show(){\n        System.out.println(&quot;A show&quot;);\n    }   \n}\n\nclass B extends A{\n    int x = 20 ;\n    \n    public B() {\n        super();\n    }\n    \n    @Override\n     public void show(){\n        System.out.println(&quot;B show&quot;);\n    }\n}\n</code></pre>\n<p>Why is the output this?</p>\n<blockquote>\n<p>10<br />\nB Show</p>\n</blockquote>\n<p>I understand 'B Show'. Since the object is of class B, it will call the method that is overridden in B. But do not understand why it is printing '10' in output even though the object of B has value of x equal to 20.\nPlease help me understand this.</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","springfox"],"answers":[{"tags":[],"owner":{"account_id":18858438,"reputation":2538,"user_id":13755857,"display_name":"Shawrup"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1607707309,"creation_date":1607700785,"answer_id":65254207,"question_id":65254070,"body_markdown":"You can hide parameters from swagger ui, by using \r\n```\r\n@ApiModelProperty(hidden = true)\r\n```\r\nwith the fields you do not want to show. But the hidden fields will be hidden for every api in your swagger ui.\r\n\r\nThere is another way which requires you to create another dto. You can create another Dto and ask springfox show the new alternate dto instead of the original one.\r\n```\r\n    @PostMapping(value = &quot;/someapi&quot;)\r\n    @ApiImplicitParams({\r\n            @ApiImplicitParam(\r\n                    name = &quot;request&quot;,\r\n                    dataTypeClass = AdditionalModel.class\r\n            )\r\n    })\r\n    public Response hello(@RequestBody Request request){\r\n        return new Response();\r\n    }\r\n```\r\nThis approach will not make you change your code, but you will be required to create another dto.\r\nAlso you also need to register the AdditionalModel in your Docket Bean.\r\n```\r\n    @Bean\r\n    public Docket petApi() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.any())\r\n                .paths(PathSelectors.any())\r\n                .build()\r\n                .pathMapping(&quot;/&quot;)\r\n           .additionalModels(typeResolver.resolve(AdditionalModel.class));\r\n    }\r\n```","title":"How to exclude fields from RequestBody - Swagger","body":"<p>You can hide parameters from swagger ui, by using</p>\n<pre><code>@ApiModelProperty(hidden = true)\n</code></pre>\n<p>with the fields you do not want to show. But the hidden fields will be hidden for every api in your swagger ui.</p>\n<p>There is another way which requires you to create another dto. You can create another Dto and ask springfox show the new alternate dto instead of the original one.</p>\n<pre><code>    @PostMapping(value = &quot;/someapi&quot;)\n    @ApiImplicitParams({\n            @ApiImplicitParam(\n                    name = &quot;request&quot;,\n                    dataTypeClass = AdditionalModel.class\n            )\n    })\n    public Response hello(@RequestBody Request request){\n        return new Response();\n    }\n</code></pre>\n<p>This approach will not make you change your code, but you will be required to create another dto.\nAlso you also need to register the AdditionalModel in your Docket Bean.</p>\n<pre><code>    @Bean\n    public Docket petApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build()\n                .pathMapping(&quot;/&quot;)\n           .additionalModels(typeResolver.resolve(AdditionalModel.class));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20622449,"reputation":21,"user_id":15139153,"display_name":"Roman_G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681735065,"creation_date":1681735065,"answer_id":76035239,"question_id":65254070,"body_markdown":"It is a bit outdated answer, but i hit similar problem when was designing my Api: when you have single DTO for request and response schema. \r\n\r\nMy work around was using @Schema with accessMode = Schema.AccessMode.READ_ONLY on fields that required hiding in POST PUT operations\r\n\r\n    @Schema(description = &quot;Category of ingredients&quot;)\r\n    public record CategoryDTO (\r\n            @Digits(integer = 20, fraction = 0)\r\n            @Min(0)\r\n            @Max(Long.MAX_VALUE)\r\n            @Schema(description = &quot;Id of category, autogenerated value, please ignore for POST operations&quot;)\r\n            Long categoryId,\r\n    \r\n            @NotNull(message = &quot;{validation.companyId}&quot;)\r\n            @Digits(integer = 20, fraction = 0)\r\n            @Min(0)\r\n            @Max(Long.MAX_VALUE)\r\n            @Schema(description = &quot;Id of company category belongs to.&quot;)\r\n            Long categoryCompanyId,\r\n            @NotBlank\r\n            @Length(max = 45, message = &quot;{validation.size.45}&quot;)\r\n            String categoryName,\r\n            @Digits(integer = 20, fraction = 0)\r\n            @Min(0)\r\n            @Max(Long.MAX_VALUE)\r\n            @Schema(description = &quot;Id of parent category, if is null then it is root category, &quot; +\r\n                    &quot;please assign the value to place in specific branch&quot;)\r\n            Long parentCategoryId,\r\n    \r\n            @Schema(accessMode = Schema.AccessMode.READ_ONLY)\r\n            String parentCategoryName,\r\n            String categoryImage,\r\n            @Schema(accessMode = Schema.AccessMode.READ_ONLY)\r\n            LocalDateTime dateCreated,\r\n            @Schema(accessMode = Schema.AccessMode.READ_ONLY)\r\n            LocalDateTime dateUpdated,\r\n            @Schema(accessMode = Schema.AccessMode.READ_ONLY)\r\n            Set&lt;CategoryDTO&gt; categoryCategories\r\n    \r\n    ) implements Serializable {\r\n            @Serial\r\n            private static final long serialVersionUID = 1L; }\r\n  \r\nMight be usefull for some1 looking for same solution","title":"How to exclude fields from RequestBody - Swagger","body":"<p>It is a bit outdated answer, but i hit similar problem when was designing my Api: when you have single DTO for request and response schema.</p>\n<p>My work around was using @Schema with accessMode = Schema.AccessMode.READ_ONLY on fields that required hiding in POST PUT operations</p>\n<pre><code>@Schema(description = &quot;Category of ingredients&quot;)\npublic record CategoryDTO (\n        @Digits(integer = 20, fraction = 0)\n        @Min(0)\n        @Max(Long.MAX_VALUE)\n        @Schema(description = &quot;Id of category, autogenerated value, please ignore for POST operations&quot;)\n        Long categoryId,\n\n        @NotNull(message = &quot;{validation.companyId}&quot;)\n        @Digits(integer = 20, fraction = 0)\n        @Min(0)\n        @Max(Long.MAX_VALUE)\n        @Schema(description = &quot;Id of company category belongs to.&quot;)\n        Long categoryCompanyId,\n        @NotBlank\n        @Length(max = 45, message = &quot;{validation.size.45}&quot;)\n        String categoryName,\n        @Digits(integer = 20, fraction = 0)\n        @Min(0)\n        @Max(Long.MAX_VALUE)\n        @Schema(description = &quot;Id of parent category, if is null then it is root category, &quot; +\n                &quot;please assign the value to place in specific branch&quot;)\n        Long parentCategoryId,\n\n        @Schema(accessMode = Schema.AccessMode.READ_ONLY)\n        String parentCategoryName,\n        String categoryImage,\n        @Schema(accessMode = Schema.AccessMode.READ_ONLY)\n        LocalDateTime dateCreated,\n        @Schema(accessMode = Schema.AccessMode.READ_ONLY)\n        LocalDateTime dateUpdated,\n        @Schema(accessMode = Schema.AccessMode.READ_ONLY)\n        Set&lt;CategoryDTO&gt; categoryCategories\n\n) implements Serializable {\n        @Serial\n        private static final long serialVersionUID = 1L; }\n</code></pre>\n<p>Might be usefull for some1 looking for same solution</p>\n"}],"owner":{"account_id":19248226,"reputation":55,"user_id":14066828,"display_name":"ishlyakhtenkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6503,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65254207,"answer_count":2,"score":3,"last_activity_date":1681735065,"creation_date":1607700238,"question_id":65254070,"body_markdown":"I have this DTO:\r\n\r\n    public class UserTo extends AbstractBaseTo {\r\n\r\n    @NotBlank(message = &quot;Name must not be blank&quot;)\r\n    @Size(min = 2, max = 100, message = &quot;Name length must be between 2 and 100 characters&quot;)\r\n    private String name;\r\n\r\n    @Email(message = &quot;Email must accord email pattern&quot;)\r\n    @NotBlank(message = &quot;Email must not be blank&quot;)\r\n    @Size(max = 100, message = &quot;Email length must be 100 characters max&quot;)\r\n    private String email;\r\n\r\n    @NotBlank(message = &quot;Password must not be blank&quot;)\r\n    @Size(min = 5, max = 32, message = &quot;Password length must be between 5 and 32 characters&quot;)\r\n    private String password;\r\n    .......\r\nI use this DTO in many methods of my UserController, but, for example, in Login method i use only two fields of that: email and password.\r\n\r\nWhen i use Swagger to create documentation to my API, it shows all fields of UserTo in documentation for Login method. I want that it shows only two fields. How can i do this? I do not want to create additional DTOs (with 2 or 3 fields, you know). I tried to use @RequestBody annotation from Swagger for create some example of needed RequestBody, but it doesn&#39;t work.\r\n\r\nI use Spring Boot and springfox 3.0.0.\r\n","title":"How to exclude fields from RequestBody - Swagger","body":"<p>I have this DTO:</p>\n<pre><code>public class UserTo extends AbstractBaseTo {\n\n@NotBlank(message = &quot;Name must not be blank&quot;)\n@Size(min = 2, max = 100, message = &quot;Name length must be between 2 and 100 characters&quot;)\nprivate String name;\n\n@Email(message = &quot;Email must accord email pattern&quot;)\n@NotBlank(message = &quot;Email must not be blank&quot;)\n@Size(max = 100, message = &quot;Email length must be 100 characters max&quot;)\nprivate String email;\n\n@NotBlank(message = &quot;Password must not be blank&quot;)\n@Size(min = 5, max = 32, message = &quot;Password length must be between 5 and 32 characters&quot;)\nprivate String password;\n.......\n</code></pre>\n<p>I use this DTO in many methods of my UserController, but, for example, in Login method i use only two fields of that: email and password.</p>\n<p>When i use Swagger to create documentation to my API, it shows all fields of UserTo in documentation for Login method. I want that it shows only two fields. How can i do this? I do not want to create additional DTOs (with 2 or 3 fields, you know). I tried to use @RequestBody annotation from Swagger for create some example of needed RequestBody, but it doesn't work.</p>\n<p>I use Spring Boot and springfox 3.0.0.</p>\n"},{"tags":["java","html","spring","rest","thymeleaf"],"owner":{"account_id":28317640,"reputation":1,"user_id":21653929,"display_name":"Artom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681734398,"creation_date":1681734398,"question_id":76035153,"body_markdown":"I am new to spring and came up with this to show html page with my http request:\r\n\r\n```\r\n@ResponseBody\r\n@GetMapping(&quot;/addStop&quot;)\r\npublic String showAddStopForm() throws IOException {\r\n     String formHtml = Files.readString(Path.of(&quot;lab-1/src/main/resources/templates/stops.html&quot;)); //Path to your html file\r\n     return formHtml;\r\n}\r\n```\r\n\r\nIt works well, but displays the whole html file. I would like to make it possible to show a certain form depending on http request, so I won&#39;t have to create 10+html files for a project\r\n.\r\n\r\nI tried using thymeleaf and so my code for outputing one of the forms looks like the following:\r\n\r\n```\r\n@GetMapping(&quot;/my-page&quot;)\r\n    public String myPage(@NotNull Model model) throws  IOException{\r\n        model.addAttribute(&quot;formType&quot;, &quot;my-page&quot;);\r\n        return &quot;stops&quot;;\r\n    }\r\n```\r\n\r\nBut I get error page each time.\r\n\r\nThat&#39;s how my stops.html looks for now:\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Add stop&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;form th:if=&quot;${formType} == &#39;addStop&#39;&quot; method=&quot;POST&quot; action=&quot;/stops&quot;&gt;\r\n    &lt;label for=&quot;stop&quot;&gt;Stop:&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;stop&quot; name=&quot;stop&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n  &lt;/form&gt;\r\n  &lt;form th:if=&quot;${formType} == &#39;my-page&#39;&quot; method=&quot;GET&quot; action=&quot;/stops&quot;&gt;\r\n    &lt;label for=&quot;stop&quot;&gt;Stop:&lt;/label&gt;\r\n    &lt;input type=&quot;text&quot; id=&quot;qwe&quot; name=&quot;stop&quot;&gt;&lt;br&gt;&lt;br&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n  &lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nPath to stops.html looks like following: src\\&gt;main\\&gt;resources\\&gt;templates\r\n\r\n```\r\npom.xml:\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.codebind&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;lab-1&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;lab-1&lt;/name&gt;\r\n\t&lt;description&gt;Working stuff&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.3.14&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;13.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n```\r\nStopsController:\r\npackage com.codebind.lab1;\r\nimport org.jetbrains.annotations.NotNull;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/stops&quot;)\r\npublic class StopsController {\r\n\r\n    @Autowired\r\n    private final StopDao stopsDao;\r\n\r\n    public StopsController(StopDao stopsDao) {\r\n        this.stopsDao = stopsDao;\r\n    }\r\n\r\n    @ResponseBody\r\n    @GetMapping()\r\n    public ArrayList&lt;Stops&gt; getAllStops() throws SQLException {\r\n        try {\r\n            return stopsDao.getAllStops();\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @GetMapping(&quot;/{name}&quot;)\r\n    public Stops getStopByName(@PathVariable(&quot;name&quot;) String stopName) throws SQLException {\r\n        return stopsDao.getStopByName(stopName);\r\n    }\r\n\r\n    @ResponseBody\r\n    @GetMapping(&quot;/addStop&quot;)\r\n    public String showAddStopForm() throws IOException {\r\n         String formHtml = Files.readString(Path.of(&quot;lab-1/src/main/resources/templates/stops.html&quot;));\r\n         return formHtml;\r\n    }\r\n\r\n    @ResponseBody\r\n    @PostMapping(&quot;/addStop&quot;)\r\n    public String addStop(@RequestParam(&quot;stop&quot;) String stopName) {\r\n        try {\r\n            stopsDao.insertStop(new Stops(stopName));\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n            System.out.println(ex.getMessage());\r\n        }\r\n        return &quot;redirect:/stops&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/my-page&quot;)\r\n    public String myPage(@NotNull Model model) throws  IOException{\r\n        model.addAttribute(&quot;formType&quot;, &quot;my-page&quot;);\r\n        return &quot;stops&quot;;\r\n    }\r\n}\r\n```\r\n\r\nI would be glad to receive any help on that one.\r\n\r\nI was trying to get some info on it, but every time i tried, it still showed the whole page.","title":"Using thymeleaf to show one of html forms","body":"<p>I am new to spring and came up with this to show html page with my http request:</p>\n<pre><code>@ResponseBody\n@GetMapping(&quot;/addStop&quot;)\npublic String showAddStopForm() throws IOException {\n     String formHtml = Files.readString(Path.of(&quot;lab-1/src/main/resources/templates/stops.html&quot;)); //Path to your html file\n     return formHtml;\n}\n</code></pre>\n<p>It works well, but displays the whole html file. I would like to make it possible to show a certain form depending on http request, so I won't have to create 10+html files for a project\n.</p>\n<p>I tried using thymeleaf and so my code for outputing one of the forms looks like the following:</p>\n<pre><code>@GetMapping(&quot;/my-page&quot;)\n    public String myPage(@NotNull Model model) throws  IOException{\n        model.addAttribute(&quot;formType&quot;, &quot;my-page&quot;);\n        return &quot;stops&quot;;\n    }\n</code></pre>\n<p>But I get error page each time.</p>\n<p>That's how my stops.html looks for now:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n  &lt;title&gt;Add stop&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;form th:if=&quot;${formType} == 'addStop'&quot; method=&quot;POST&quot; action=&quot;/stops&quot;&gt;\n    &lt;label for=&quot;stop&quot;&gt;Stop:&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;stop&quot; name=&quot;stop&quot;&gt;&lt;br&gt;&lt;br&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n  &lt;/form&gt;\n  &lt;form th:if=&quot;${formType} == 'my-page'&quot; method=&quot;GET&quot; action=&quot;/stops&quot;&gt;\n    &lt;label for=&quot;stop&quot;&gt;Stop:&lt;/label&gt;\n    &lt;input type=&quot;text&quot; id=&quot;qwe&quot; name=&quot;stop&quot;&gt;&lt;br&gt;&lt;br&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n  &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Path to stops.html looks like following: src&gt;main&gt;resources&gt;templates</p>\n<pre><code>pom.xml:\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.codebind&lt;/groupId&gt;\n    &lt;artifactId&gt;lab-1&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;lab-1&lt;/name&gt;\n    &lt;description&gt;Working stuff&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.14&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;13.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<pre><code>StopsController:\npackage com.codebind.lab1;\nimport org.jetbrains.annotations.NotNull;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\n\n@Controller\n@RequestMapping(&quot;/stops&quot;)\npublic class StopsController {\n\n    @Autowired\n    private final StopDao stopsDao;\n\n    public StopsController(StopDao stopsDao) {\n        this.stopsDao = stopsDao;\n    }\n\n    @ResponseBody\n    @GetMapping()\n    public ArrayList&lt;Stops&gt; getAllStops() throws SQLException {\n        try {\n            return stopsDao.getAllStops();\n        } catch (SQLException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    @GetMapping(&quot;/{name}&quot;)\n    public Stops getStopByName(@PathVariable(&quot;name&quot;) String stopName) throws SQLException {\n        return stopsDao.getStopByName(stopName);\n    }\n\n    @ResponseBody\n    @GetMapping(&quot;/addStop&quot;)\n    public String showAddStopForm() throws IOException {\n         String formHtml = Files.readString(Path.of(&quot;lab-1/src/main/resources/templates/stops.html&quot;));\n         return formHtml;\n    }\n\n    @ResponseBody\n    @PostMapping(&quot;/addStop&quot;)\n    public String addStop(@RequestParam(&quot;stop&quot;) String stopName) {\n        try {\n            stopsDao.insertStop(new Stops(stopName));\n        }\n        catch (Exception ex)\n        {\n            System.out.println(ex.getMessage());\n        }\n        return &quot;redirect:/stops&quot;;\n    }\n\n    @GetMapping(&quot;/my-page&quot;)\n    public String myPage(@NotNull Model model) throws  IOException{\n        model.addAttribute(&quot;formType&quot;, &quot;my-page&quot;);\n        return &quot;stops&quot;;\n    }\n}\n</code></pre>\n<p>I would be glad to receive any help on that one.</p>\n<p>I was trying to get some info on it, but every time i tried, it still showed the whole page.</p>\n"},{"tags":["java","kotlin","augmented-reality","arcore","sceneform"],"answers":[{"tags":[],"owner":{"account_id":8834917,"reputation":50825,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1681734229,"creation_date":1551133496,"answer_id":54875635,"question_id":54869965,"body_markdown":"ARCore&#39;s new **Augmented Faces API**, that is working on the front-facing camera without depth sensor, offers a high quality, `468-point` **3D canonical mesh** that allows users attach such effects to their faces as animated masks, glasses, skin retouching, etc. The mesh provides **coordinates and region specific anchors** that make it possible to add these effects.\r\n\r\nI believe that a facial landmarks detection is generated with a help of computer vision algorithms under the hood of ARCore 1.7. It&#39;s also important to say that you can get started in Unity or in Sceneform by creating an ARCore session with the &quot;front-facing camera&quot; and Augmented Faces &quot;mesh&quot; mode enabled. Note that other AR features such as plane detection aren&#39;t currently available when using the front-facing camera. `AugmentedFace` extends `Trackable`, so faces are detected and updated just like planes, Augmented Images, and other Trackables.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you know, several years ago Google released `Face API` that performs face detection, which locates faces in pictures, along with their position (where they are in the picture) and orientation (which way they’re facing, relative to the camera). Face API allows you detect landmarks (points of interest on a face) and perform classifications to determine whether the eyes are open or closed, and whether or not a face is smiling. The Face API also detects and follows faces in moving images, which is known as face tracking. \r\n\r\n**So, ARCore 1.7 just borrowed some *architectural elements* from Face API and now it&#39;s not only detects facial landmarks and generates 468 points for them but also tracks them in real time at 60 fps and sticks 3D facial geometry to them**.\r\n\r\nSee Google&#39;s [Face Detection Concepts Overview][2].\r\n\r\n[![enter image description here][3]][3]\r\n\r\nTo calculate a depth channel in a video, shot by moving RGB camera, is not a rocket science. You just need to apply a parallax formula to tracked features. So if a translation&#39;s amplitude of a feature on a static object is quite high – the tracked object is closer to a camera, and if an amplitude of a feature on a static object is quite low – the tracked object is farther from a camera. These approaches for calculating a depth channel is quite usual for such compositing apps as [The Foundry NUKE][4] and [Blackmagic Fusion][5] for more than 10 years. Now the same principles are accessible in ARCore.\r\n\r\nYou cannot decline the Face detection/tracking algorithm to a custom object or another part of the body like a hand. **Augmented Faces API** developed for just faces.\r\n\r\nHere&#39;s how Java code for activating Augmented Faces feature looks like:\r\n\r\n    // Create ARCore session that supports Augmented Faces\r\n    public Session createAugmentedFacesSession(Activity activity) throws \r\n                                                          UnavailableException {\r\n    \r\n        // Use selfie camera\r\n        Session session = new Session(activity, \r\n                                      EnumSet.of(Session.Feature.FRONT_CAMERA));\r\n\r\n        // Enabling Augmented Faces\r\n        Config config = session.getConfig();\r\n        config.setAugmentedFaceMode(Config.AugmentedFaceMode.MESH3D);\r\n        session.configure(config);\r\n        return session;\r\n    }\r\n\r\nThen get a list of detected faces:\r\n\r\n    Collection&lt;AugmentedFace&gt; fl = session.getAllTrackables(AugmentedFace.class);\r\n\r\nAnd at last rendering the effect:\r\n\r\n    for (AugmentedFace face : fl) {\r\n\r\n        // Create a face node and add it to the scene.\r\n        AugmentedFaceNode faceNode = new AugmentedFaceNode(face);\r\n        faceNode.setParent(scene);\r\n\r\n        // Overlay the 3D assets on the face\r\n        faceNode.setFaceRegionsRenderable(faceRegionsRenderable);\r\n\r\n        // Overlay a texture on the face\r\n        faceNode.setFaceMeshTexture(faceMeshTexture);\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JAbxu.jpg\r\n  [2]: https://developers.google.com/vision/face-detection-concepts#classification\r\n  [3]: https://i.stack.imgur.com/GmXjX.png\r\n  [4]: https://learn.foundry.com/nuke/8.0/content/user_guide/depthgenerator/generating_depth_maps.html\r\n  [5]: https://www.blackmagicdesign.com/products/fusion/","title":"Augmented Faces API – How facial landmarks generated?","body":"<p>ARCore's new <strong>Augmented Faces API</strong>, that is working on the front-facing camera without depth sensor, offers a high quality, <code>468-point</code> <strong>3D canonical mesh</strong> that allows users attach such effects to their faces as animated masks, glasses, skin retouching, etc. The mesh provides <strong>coordinates and region specific anchors</strong> that make it possible to add these effects.</p>\n<p>I believe that a facial landmarks detection is generated with a help of computer vision algorithms under the hood of ARCore 1.7. It's also important to say that you can get started in Unity or in Sceneform by creating an ARCore session with the &quot;front-facing camera&quot; and Augmented Faces &quot;mesh&quot; mode enabled. Note that other AR features such as plane detection aren't currently available when using the front-facing camera. <code>AugmentedFace</code> extends <code>Trackable</code>, so faces are detected and updated just like planes, Augmented Images, and other Trackables.</p>\n<p><a href=\"https://i.stack.imgur.com/JAbxu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JAbxu.jpg\" alt=\"enter image description here\" /></a></p>\n<p>As you know, several years ago Google released <code>Face API</code> that performs face detection, which locates faces in pictures, along with their position (where they are in the picture) and orientation (which way they’re facing, relative to the camera). Face API allows you detect landmarks (points of interest on a face) and perform classifications to determine whether the eyes are open or closed, and whether or not a face is smiling. The Face API also detects and follows faces in moving images, which is known as face tracking.</p>\n<p><strong>So, ARCore 1.7 just borrowed some <em>architectural elements</em> from Face API and now it's not only detects facial landmarks and generates 468 points for them but also tracks them in real time at 60 fps and sticks 3D facial geometry to them</strong>.</p>\n<p>See Google's <a href=\"https://developers.google.com/vision/face-detection-concepts#classification\" rel=\"nofollow noreferrer\">Face Detection Concepts Overview</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/GmXjX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GmXjX.png\" alt=\"enter image description here\" /></a></p>\n<p>To calculate a depth channel in a video, shot by moving RGB camera, is not a rocket science. You just need to apply a parallax formula to tracked features. So if a translation's amplitude of a feature on a static object is quite high – the tracked object is closer to a camera, and if an amplitude of a feature on a static object is quite low – the tracked object is farther from a camera. These approaches for calculating a depth channel is quite usual for such compositing apps as <a href=\"https://learn.foundry.com/nuke/8.0/content/user_guide/depthgenerator/generating_depth_maps.html\" rel=\"nofollow noreferrer\">The Foundry NUKE</a> and <a href=\"https://www.blackmagicdesign.com/products/fusion/\" rel=\"nofollow noreferrer\">Blackmagic Fusion</a> for more than 10 years. Now the same principles are accessible in ARCore.</p>\n<p>You cannot decline the Face detection/tracking algorithm to a custom object or another part of the body like a hand. <strong>Augmented Faces API</strong> developed for just faces.</p>\n<p>Here's how Java code for activating Augmented Faces feature looks like:</p>\n<pre><code>// Create ARCore session that supports Augmented Faces\npublic Session createAugmentedFacesSession(Activity activity) throws \n                                                      UnavailableException {\n\n    // Use selfie camera\n    Session session = new Session(activity, \n                                  EnumSet.of(Session.Feature.FRONT_CAMERA));\n\n    // Enabling Augmented Faces\n    Config config = session.getConfig();\n    config.setAugmentedFaceMode(Config.AugmentedFaceMode.MESH3D);\n    session.configure(config);\n    return session;\n}\n</code></pre>\n<p>Then get a list of detected faces:</p>\n<pre><code>Collection&lt;AugmentedFace&gt; fl = session.getAllTrackables(AugmentedFace.class);\n</code></pre>\n<p>And at last rendering the effect:</p>\n<pre><code>for (AugmentedFace face : fl) {\n\n    // Create a face node and add it to the scene.\n    AugmentedFaceNode faceNode = new AugmentedFaceNode(face);\n    faceNode.setParent(scene);\n\n    // Overlay the 3D assets on the face\n    faceNode.setFaceRegionsRenderable(faceRegionsRenderable);\n\n    // Overlay a texture on the face\n    faceNode.setFaceMeshTexture(faceMeshTexture);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27614672,"reputation":1,"user_id":21076986,"display_name":"chloe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674615710,"creation_date":1674615566,"answer_id":75229313,"question_id":54869965,"body_markdown":"ARCore doesn&#39;t have face detection feature, so it might be better to use MLKit instead\r\n\r\nhttps://developers.google.com/ml-kit/vision/face-detection?hl=en","title":"Augmented Faces API – How facial landmarks generated?","body":"<p>ARCore doesn't have face detection feature, so it might be better to use MLKit instead</p>\n<p><a href=\"https://developers.google.com/ml-kit/vision/face-detection?hl=en\" rel=\"nofollow noreferrer\">https://developers.google.com/ml-kit/vision/face-detection?hl=en</a></p>\n"}],"owner":{"account_id":9157387,"reputation":684,"user_id":6809926,"display_name":"Zenocode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4781,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":54875635,"answer_count":2,"score":9,"last_activity_date":1681734229,"creation_date":1551109867,"question_id":54869965,"body_markdown":"I&#39;m an IT student, and would like to know (understand) more about the [Augmented Faces API][1] in ARCore.\r\n\r\n\r\nI just saw the [ARCore V1.7 release][2], and the new [Augmented Faces API][1]. I get the enormous potential of this API. But I didn&#39;t see any questions or articles on this subject. So I&#39;m questioning myself, and here are some assumptions / questions which come to my mind about this release.\r\n\r\n\r\nAssumption\r\n-\r\n- ARCore team are using (Like Instagram and Snapchat) machine learning, to generate landmarks all over the face. Probably [HOG Face Detection][3]..\r\n\r\nQuestions\r\n-\r\n- How does ARCore generate 468 points all over the user face&#39;s on a Smartphone ? Impossible to find any response on that, even in the source code.\r\n- How they can have the depth from a simple smartphone camera ?\r\n- How to decline the Face detection / tracking, to a custom object or another part of the body like a Hand ?\r\n\r\nSo if you have any advices or remarks on this subject, let&#39;s share ! \r\n\r\n  [1]: https://developers.google.com/ar/develop/unity/augmented-faces/\r\n  [2]: https://github.com/google-ar/arcore-unity-sdk/releases/tag/v1.7.0\r\n  [3]: http://sklin93.github.io/hog.html","title":"Augmented Faces API – How facial landmarks generated?","body":"<p>I'm an IT student, and would like to know (understand) more about the <a href=\"https://developers.google.com/ar/develop/unity/augmented-faces/\" rel=\"nofollow noreferrer\">Augmented Faces API</a> in ARCore.</p>\n\n<p>I just saw the <a href=\"https://github.com/google-ar/arcore-unity-sdk/releases/tag/v1.7.0\" rel=\"nofollow noreferrer\">ARCore V1.7 release</a>, and the new <a href=\"https://developers.google.com/ar/develop/unity/augmented-faces/\" rel=\"nofollow noreferrer\">Augmented Faces API</a>. I get the enormous potential of this API. But I didn't see any questions or articles on this subject. So I'm questioning myself, and here are some assumptions / questions which come to my mind about this release.</p>\n\n<h2>Assumption</h2>\n\n<ul>\n<li>ARCore team are using (Like Instagram and Snapchat) machine learning, to generate landmarks all over the face. Probably <a href=\"http://sklin93.github.io/hog.html\" rel=\"nofollow noreferrer\">HOG Face Detection</a>..</li>\n</ul>\n\n<h2>Questions</h2>\n\n<ul>\n<li>How does ARCore generate 468 points all over the user face's on a Smartphone ? Impossible to find any response on that, even in the source code.</li>\n<li>How they can have the depth from a simple smartphone camera ?</li>\n<li>How to decline the Face detection / tracking, to a custom object or another part of the body like a Hand ?</li>\n</ul>\n\n<p>So if you have any advices or remarks on this subject, let's share ! </p>\n"},{"tags":["java","parsing","svg","batik"],"answers":[{"tags":[],"owner":{"account_id":1354077,"reputation":98666,"user_id":1292848,"accept_rate":50,"display_name":"Paul LeBeau"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1565177032,"creation_date":1565160534,"answer_id":57388449,"question_id":57373033,"body_markdown":"The path parsing with Batik looks fairly simple:\r\n\r\nIt appears like you just have to create a class that implements the `PathHandler` interface.\r\n\r\n    class MyPathHandler implements PathHandler\r\n    {\r\n      void\tstartPath() { ... }\r\n      void\tmovetoAbs(float x, float y)\r\n      ... etc...\r\n      void\tendPath() { ... }\r\n    }\r\n\r\nThen do:\r\n\r\n      PathParser parser = new PathParser();\r\n      parser.setPathHandler(new MyPathHandler());\r\n      parser.parse(&quot;M351.3,251 l-3.1-2.2 ... snip ... C355,251.1,354.6,251.2,354.3,251z&quot;);\r\n      parser.doParse();\r\n\r\nThe `moveToAbs()` method will be called whenever the PathParser encounters an `M` command etc.\r\n\r\nIf that doesn&#39;t work then I was able to find at least four or five instances of SVG path parsing code in Java or JS in about one minute of googling.\r\n\r\nAs for the sampling part.  That&#39;s a lot trickier.  You&#39;ll need code to measure the length of quadratic and cubic beziers, and arcs.  The latter will probably involve converting the arcs (`A`/`a`) to centre parameterization (theres information in the spec on how to do that).  It&#39;s not trivial to do all this.  There&#39;ll be code for it, if you can find it, in Batik, Firefox, Chrome, Android etc.  Perhaps there is also code out there that someone has already built.\r\n\r\nIt would be easy if you were doing it in a browser. There have already been questions asked and answered here on that.","title":"Reading SVG path in Java","body":"<p>The path parsing with Batik looks fairly simple:</p>\n\n<p>It appears like you just have to create a class that implements the <code>PathHandler</code> interface.</p>\n\n<pre><code>class MyPathHandler implements PathHandler\n{\n  void  startPath() { ... }\n  void  movetoAbs(float x, float y)\n  ... etc...\n  void  endPath() { ... }\n}\n</code></pre>\n\n<p>Then do:</p>\n\n<pre><code>  PathParser parser = new PathParser();\n  parser.setPathHandler(new MyPathHandler());\n  parser.parse(\"M351.3,251 l-3.1-2.2 ... snip ... C355,251.1,354.6,251.2,354.3,251z\");\n  parser.doParse();\n</code></pre>\n\n<p>The <code>moveToAbs()</code> method will be called whenever the PathParser encounters an <code>M</code> command etc.</p>\n\n<p>If that doesn't work then I was able to find at least four or five instances of SVG path parsing code in Java or JS in about one minute of googling.</p>\n\n<p>As for the sampling part.  That's a lot trickier.  You'll need code to measure the length of quadratic and cubic beziers, and arcs.  The latter will probably involve converting the arcs (<code>A</code>/<code>a</code>) to centre parameterization (theres information in the spec on how to do that).  It's not trivial to do all this.  There'll be code for it, if you can find it, in Batik, Firefox, Chrome, Android etc.  Perhaps there is also code out there that someone has already built.</p>\n\n<p>It would be easy if you were doing it in a browser. There have already been questions asked and answered here on that.</p>\n"},{"tags":[],"owner":{"account_id":2111883,"reputation":324,"user_id":1877010,"display_name":"DaHoC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681734162,"creation_date":1681734162,"answer_id":76035122,"question_id":57373033,"body_markdown":"Building upon Paul LeBeau&#39;s answer, Batik evolved a bit, here is an updated version for Batik 1.16:\r\n\r\n```\r\nclass MyPathHandler extends DefaultPathHandler {\r\n    public void startPath() { ... }\r\n\r\n    public void movetoAbs(float x, float y) throws ParseException {\r\n        System.out.println(&quot;Move abs to &quot; + x + &quot;, &quot; + y);\r\n    }\r\n    \r\n    public void movetoRel(float x, float y) throws ParseException {\r\n        System.out.println(&quot;Move rel to &quot; + x + &quot;, &quot; + y);\r\n    }\r\n\r\n    public void endPath() { ... }\r\n}\r\n```\r\nand\r\n```\r\nPathParser parser = new PathParser();\r\nparser.setPathHandler(new MyPathHandler());\r\nparser.parse(&quot;M351.3,251 l-3.1-2.2 ... snip ... C355,251.1,354.6,251.2,354.3,251z&quot;);\r\n```\r\n","title":"Reading SVG path in Java","body":"<p>Building upon Paul LeBeau's answer, Batik evolved a bit, here is an updated version for Batik 1.16:</p>\n<pre><code>class MyPathHandler extends DefaultPathHandler {\n    public void startPath() { ... }\n\n    public void movetoAbs(float x, float y) throws ParseException {\n        System.out.println(&quot;Move abs to &quot; + x + &quot;, &quot; + y);\n    }\n    \n    public void movetoRel(float x, float y) throws ParseException {\n        System.out.println(&quot;Move rel to &quot; + x + &quot;, &quot; + y);\n    }\n\n    public void endPath() { ... }\n}\n</code></pre>\n<p>and</p>\n<pre><code>PathParser parser = new PathParser();\nparser.setPathHandler(new MyPathHandler());\nparser.parse(&quot;M351.3,251 l-3.1-2.2 ... snip ... C355,251.1,354.6,251.2,354.3,251z&quot;);\n</code></pre>\n"}],"owner":{"account_id":16427469,"reputation":322,"user_id":11867141,"display_name":"the_ritz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1457,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":57388449,"answer_count":2,"score":-2,"last_activity_date":1681734162,"creation_date":1565083958,"question_id":57373033,"body_markdown":"I&#39;m reading text files in java where I use the scanner class to read text in SVG format. I have seen answers that recommend Batik. I would like to know how to use Batik only on the path data in SVG format. I want to evaluate the path and extract points that would trace out the path. Can I do this using Batik without having to evaluate the entire file in Batik?\r\n\r\nI was trying to create my own path parser but I don&#39;t have enough time or skill to do so. I am evaluating tags in SVG format by splitting them using `&lt; and /&gt;` and I am stuck on evaluating the d attribute of paths. Here&#39;s an example of a path that I need to evaluate:\r\n\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n\r\n    &lt;svg width=&quot;10000&quot; height=&quot;1000&quot;&gt;\r\n    &lt;path id=&quot;square&quot; fill=&quot;#0000FF&quot; \r\n    d=&quot;M351.3,251 l-3.1-2.2c-0.3-0.2-0.3-0.5-0.1-0.8l2.2-3.1c0.2-0.3,0.5-0.3,0.8-0.1l3.1,2.2\r\n    c0.3,0.2,0.3,0.5,0.1,0.8l-2.2,3.1C355,251.1,354.6,251.2,354.3,251z&quot;/&gt;\r\n\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nI need the points along this path.\r\n","title":"Reading SVG path in Java","body":"<p>I'm reading text files in java where I use the scanner class to read text in SVG format. I have seen answers that recommend Batik. I would like to know how to use Batik only on the path data in SVG format. I want to evaluate the path and extract points that would trace out the path. Can I do this using Batik without having to evaluate the entire file in Batik?</p>\n\n<p>I was trying to create my own path parser but I don't have enough time or skill to do so. I am evaluating tags in SVG format by splitting them using <code>&lt; and /&gt;</code> and I am stuck on evaluating the d attribute of paths. Here's an example of a path that I need to evaluate:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n\n&lt;svg width=\"10000\" height=\"1000\"&gt;\n&lt;path id=\"square\" fill=\"#0000FF\" \nd=\"M351.3,251 l-3.1-2.2c-0.3-0.2-0.3-0.5-0.1-0.8l2.2-3.1c0.2-0.3,0.5-0.3,0.8-0.1l3.1,2.2\nc0.3,0.2,0.3,0.5,0.1,0.8l-2.2,3.1C355,251.1,354.6,251.2,354.3,251z\"/&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I need the points along this path.</p>\n"},{"tags":["java","swagger-codegen","swagger-3.0","multi-value-dictionary"],"owner":{"account_id":28302167,"reputation":11,"user_id":21640700,"display_name":"xendv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1681734155,"creation_date":1681459305,"question_id":76012833,"body_markdown":"We had next code generated by previous plugin with version OAS2:\r\n```json\r\n{\r\n          &quot;description&quot; : &quot;parameters&quot;,\r\n          &quot;in&quot; : &quot;body&quot;,\r\n          &quot;name&quot; : &quot;body&quot;,\r\n          &quot;required&quot; : false,\r\n          &quot;schema&quot; : {\r\n            &quot;type&quot; : &quot;object&quot;,\r\n            &quot;additionalProperties&quot; : {\r\n              &quot;items&quot; : {\r\n                &quot;type&quot; : &quot;string&quot;\r\n              },\r\n              &quot;type&quot; : &quot;array&quot;\r\n            }\r\n          }\r\n        },\r\n```\r\n\r\nAfter switching to OAS3 we found out that the next definition (inside a method of a resource) is not generating parameter at all:\r\n```\r\n@Parameter(description = &quot;parameters&quot;) @NotNull MultivaluedMap&lt;String, String&gt; parameters\r\n```\r\n\r\n\r\nTrying to do some workaround with additionalProperties, but still can&#39;t see generated parameter:\r\n```\r\n @Parameter(description = &quot;paremeters&quot;, content = @Content(schema = @Schema(type = &quot;object&quot;),\r\nadditionalPropertiesSchema = @Schema(type = &quot;string&quot;)))\r\n@NotNull MultivaluedMap&lt;String, String&gt; parameters\r\n```\r\n\r\nIs there any way to generate parameter for MultivaluedMap using annotations so it would look something like this?\r\n[Generated parameter in swagger UI]\r\n&lt;img src=&quot;https://i.stack.imgur.com/E01T3.png&quot;&gt;","title":"Generating MultivaluedMap parameter definition using annotations with swagger-gradle-plugin (OAS3)","body":"<p>We had next code generated by previous plugin with version OAS2:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n          &quot;description&quot; : &quot;parameters&quot;,\n          &quot;in&quot; : &quot;body&quot;,\n          &quot;name&quot; : &quot;body&quot;,\n          &quot;required&quot; : false,\n          &quot;schema&quot; : {\n            &quot;type&quot; : &quot;object&quot;,\n            &quot;additionalProperties&quot; : {\n              &quot;items&quot; : {\n                &quot;type&quot; : &quot;string&quot;\n              },\n              &quot;type&quot; : &quot;array&quot;\n            }\n          }\n        },\n</code></pre>\n<p>After switching to OAS3 we found out that the next definition (inside a method of a resource) is not generating parameter at all:</p>\n<pre><code>@Parameter(description = &quot;parameters&quot;) @NotNull MultivaluedMap&lt;String, String&gt; parameters\n</code></pre>\n<p>Trying to do some workaround with additionalProperties, but still can't see generated parameter:</p>\n<pre><code> @Parameter(description = &quot;paremeters&quot;, content = @Content(schema = @Schema(type = &quot;object&quot;),\nadditionalPropertiesSchema = @Schema(type = &quot;string&quot;)))\n@NotNull MultivaluedMap&lt;String, String&gt; parameters\n</code></pre>\n<p>Is there any way to generate parameter for MultivaluedMap using annotations so it would look something like this?\n[Generated parameter in swagger UI]\n<img src=\"https://i.stack.imgur.com/E01T3.png\"></p>\n"},{"tags":["java","exception","archunit"],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681733731,"creation_date":1681733731,"answer_id":76035068,"question_id":76031106,"body_markdown":"There is no API for actually thrown exceptions in the current ArchUnit version 1.0.1 (cf. feature request [ArchUnit #886](https://github.com/TNG/ArchUnit/issues/886)). Note that [`JavaCodeUnit`&#39;s `getThrowsClause()`](https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/core/domain/JavaCodeUnit.html#getThrowsClause()) is only about the method signature.\r\n\r\nAs exceptions that are thrown are usually instantiated before, you can try to find those constructor (or maybe factory method?) calls. For example, the following rule might catch _(pun intended)_ many `RuntimeException`s:\r\n\r\n```java\r\n@ArchTest\r\nArchRule no_plain_RuntimeExceptions = noClasses()\r\n    .should().callConstructorWhere(describe(&quot;target is a RuntimeException&quot;, call -&gt;\r\n            call.getTargetOwner().isAssignableTo(RuntimeException.class)\r\n    ));\r\n```\r\n\r\nPlease edit your question if you want to ask about a more specific use case.","title":"How do you enforce custom Exception in java with ArchUnit","body":"<p>There is no API for actually thrown exceptions in the current ArchUnit version 1.0.1 (cf. feature request <a href=\"https://github.com/TNG/ArchUnit/issues/886\" rel=\"nofollow noreferrer\">ArchUnit #886</a>). Note that <a href=\"https://javadoc.io/doc/com.tngtech.archunit/archunit/latest/com/tngtech/archunit/core/domain/JavaCodeUnit.html#getThrowsClause()\" rel=\"nofollow noreferrer\"><code>JavaCodeUnit</code>'s <code>getThrowsClause()</code></a> is only about the method signature.</p>\n<p>As exceptions that are thrown are usually instantiated before, you can try to find those constructor (or maybe factory method?) calls. For example, the following rule might catch <em>(pun intended)</em> many <code>RuntimeException</code>s:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ArchTest\nArchRule no_plain_RuntimeExceptions = noClasses()\n    .should().callConstructorWhere(describe(&quot;target is a RuntimeException&quot;, call -&gt;\n            call.getTargetOwner().isAssignableTo(RuntimeException.class)\n    ));\n</code></pre>\n<p>Please edit your question if you want to ask about a more specific use case.</p>\n"}],"owner":{"account_id":2462758,"reputation":71,"user_id":2146546,"display_name":"Umashankar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681733731,"creation_date":1681693946,"question_id":76031106,"body_markdown":"I want to use ArchUnit to enforce usage of only custom exception created specific to project to throw for uniform exceptions with pre defined error codes. How do we enforce this via ArchUnit\r\nI see some examples for logging etc., but is this possible to enforce exception with ArchUnit?","title":"How do you enforce custom Exception in java with ArchUnit","body":"<p>I want to use ArchUnit to enforce usage of only custom exception created specific to project to throw for uniform exceptions with pre defined error codes. How do we enforce this via ArchUnit\nI see some examples for logging etc., but is this possible to enforce exception with ArchUnit?</p>\n"},{"tags":["java","selenium-webdriver","takesscreenshot"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1681754552,"post_id":76035057,"comment_id":134104822,"body_markdown":"try/catch that line and include the exception in your post.  For the unhandled prompt behavior you should use the constant... and also options.  Ex: options.setUnhandledPromptBehaviour(UnexpectedAlertBehaviour.IGNORE);  https://www.selenium.dev/selenium/docs/api/java/index.html?org/openqa/selenium/UnexpectedAlertBehaviour.html","body":"try/catch that line and include the exception in your post.  For the unhandled prompt behavior you should use the constant... and also options.  Ex: options.setUnhandledPromptBehaviour(UnexpectedAlertBehaviour&zwnj;&#8203;.IGNORE);  <a href=\"https://www.selenium.dev/selenium/docs/api/java/index.html?org/openqa/selenium/UnexpectedAlertBehaviour.html\" rel=\"nofollow noreferrer\">selenium.dev/selenium/docs/api/java/index.html?org/openqa/&hellip;</a>"}],"owner":{"account_id":4028629,"reputation":13,"user_id":3315728,"display_name":"sritej_kr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681733649,"creation_date":1681733649,"question_id":76035057,"body_markdown":"Selenium tests unable to capture screenshot when alert is raised. \r\n\r\nI set the desired capability too. \r\n```\r\nchromeOptions.setCapability(CapabilityType.UNHANDLED_PROMPT_BEHAVIOUR, &quot;ignore&quot;);\r\n```\r\nBut the script failing at 2nd line. Tried applying explicit waits too but no use.\r\n```\r\ndriverManager.getWebDriver().switchTo().alert();\r\nbyte[] screenshot = ((TakesScreenshot) driverManager.getWebDriver()).getScreenshotAs(OutputType.BYTES);\r\nscenario.attach(screenshot, &quot;image/png&quot;, &quot;attachment-&quot;+LocalTime.now().toSecondOfDay());\r\ndriverManager.getWebDriver().switchTo().defaultContent();\r\n```\r\n\r\nOther stack overflow articles doesn&#39;t seem to help. Is there any solution for this? Are there any popular 3rd party libraries can be used for this purpose?","title":"How to capture alert screenshot in Selenium WebDriver 4.7.2, Java 17","body":"<p>Selenium tests unable to capture screenshot when alert is raised.</p>\n<p>I set the desired capability too.</p>\n<pre><code>chromeOptions.setCapability(CapabilityType.UNHANDLED_PROMPT_BEHAVIOUR, &quot;ignore&quot;);\n</code></pre>\n<p>But the script failing at 2nd line. Tried applying explicit waits too but no use.</p>\n<pre><code>driverManager.getWebDriver().switchTo().alert();\nbyte[] screenshot = ((TakesScreenshot) driverManager.getWebDriver()).getScreenshotAs(OutputType.BYTES);\nscenario.attach(screenshot, &quot;image/png&quot;, &quot;attachment-&quot;+LocalTime.now().toSecondOfDay());\ndriverManager.getWebDriver().switchTo().defaultContent();\n</code></pre>\n<p>Other stack overflow articles doesn't seem to help. Is there any solution for this? Are there any popular 3rd party libraries can be used for this purpose?</p>\n"},{"tags":["java","xml-parsing"],"owner":{"account_id":25486631,"reputation":101,"user_id":19282140,"display_name":"java developer 111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681733623,"creation_date":1681733623,"question_id":76035049,"body_markdown":"simple expression\r\n\r\n     private static final XPathExpression SOME_NUMBER = newXPathExpression(\r\n                &quot;.//some/number/text()&quot;\r\n        );\r\nand evaluating \r\n\r\n    return (String) SOME_NUMBER.evaluate(document, XPathConstants.STRING);\r\n\r\ni want return null if argument number not found in XML document instead of empty string \r\n\r\ni know i can check empty string by myself - but in my case i need separate argument with no value = empty, argument not foud = null","title":"XPathExpression return null if attribute not found","body":"<p>simple expression</p>\n<pre><code> private static final XPathExpression SOME_NUMBER = newXPathExpression(\n            &quot;.//some/number/text()&quot;\n    );\n</code></pre>\n<p>and evaluating</p>\n<pre><code>return (String) SOME_NUMBER.evaluate(document, XPathConstants.STRING);\n</code></pre>\n<p>i want return null if argument number not found in XML document instead of empty string</p>\n<p>i know i can check empty string by myself - but in my case i need separate argument with no value = empty, argument not foud = null</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9498,"page":494,"page_size":100}
