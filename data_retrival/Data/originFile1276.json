{"items":[{"tags":["java","methods","conventions"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1489143430,"post_id":4668218,"comment_id":72553350,"body_markdown":"Also note that when _working_ with code like this, most IDE&#39;s allow you to see the definition of whatever is underneath the cursor automatically.  This mean you do not have to do anything but glance.","body":"Also note that when <i>working</i> with code like this, most IDE&#39;s allow you to see the definition of whatever is underneath the cursor automatically.  This mean you do not have to do anything but glance."},{"owner":{"account_id":1221477,"reputation":4119,"user_id":1188047,"accept_rate":60,"display_name":"Ben"},"score":1,"creation_date":1525369996,"post_id":4668218,"comment_id":87340172,"body_markdown":"If you have 40 methods in a single class - you&#39;re doing it wrong","body":"If you have 40 methods in a single class - you&#39;re doing it wrong"}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1644995538,"creation_date":1294831863,"answer_id":4668264,"question_id":4668218,"body_markdown":"40 methods in a single class is a bit much.\r\n\r\nWould it make sense to move some of the functionality into other - suitably named - classes?  Then it is much easier to make sense of.\r\n\r\nWhen you have fewer, it is much easier to list them in a natural reading order.  A frequent paradigm is to list things either _before_ or _after_ you need them , in the order you need them.\r\n\r\nThis usually means that `main()` goes on top or on bottom.","title":"Are there any Java method ordering conventions?","body":"<p>40 methods in a single class is a bit much.</p>\n<p>Would it make sense to move some of the functionality into other - suitably named - classes?  Then it is much easier to make sense of.</p>\n<p>When you have fewer, it is much easier to list them in a natural reading order.  A frequent paradigm is to list things either <em>before</em> or <em>after</em> you need them , in the order you need them.</p>\n<p>This usually means that <code>main()</code> goes on top or on bottom.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":151,"is_accepted":true,"score":150,"last_activity_date":1294831951,"creation_date":1294831951,"answer_id":4668276,"question_id":4668218,"body_markdown":"Some conventions list all the public methods first, and then all the private ones - that means it&#39;s easy to separate the API from the implementation, even when there&#39;s no interface involved, if you see what I mean.\r\n\r\nAnother idea is to group related methods together - this makes it easier to spot seams where you could split your existing large class into several smaller, more targeted ones.","title":"Are there any Java method ordering conventions?","body":"<p>Some conventions list all the public methods first, and then all the private ones - that means it's easy to separate the API from the implementation, even when there's no interface involved, if you see what I mean.</p>\n\n<p>Another idea is to group related methods together - this makes it easier to spot seams where you could split your existing large class into several smaller, more targeted ones.</p>\n"},{"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1294831982,"creation_date":1294831982,"answer_id":4668283,"question_id":4668218,"body_markdown":"Are you using Eclipse? If so I would stick with the default member sort order, because that is likely to be most familiar to whoever reads your code (although it is not my favourite sort order.)","title":"Are there any Java method ordering conventions?","body":"<p>Are you using Eclipse? If so I would stick with the default member sort order, because that is likely to be most familiar to whoever reads your code (although it is not my favourite sort order.)</p>\n"},{"tags":[],"owner":{"account_id":14630,"reputation":16827,"user_id":30316,"accept_rate":82,"display_name":"eljenso"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1294832177,"creation_date":1294832177,"answer_id":4668310,"question_id":4668218,"body_markdown":"My &quot;convention&quot;: static before instance, public before private, constructor before methods, but main method at the bottom (if present). \r\n","title":"Are there any Java method ordering conventions?","body":"<p>My \"convention\": static before instance, public before private, constructor before methods, but main method at the bottom (if present). </p>\n"},{"tags":[],"owner":{"account_id":198697,"reputation":18245,"user_id":443515,"accept_rate":56,"display_name":"Qwerky"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1294832689,"creation_date":1294832689,"answer_id":4668369,"question_id":4668218,"body_markdown":"Not sure if there is universally accepted standard but my own preferences are;\r\n\r\n- constructors first \r\n- static methods next, if there is a main method, always before other static methods\r\n- non static methods next, usually in order of the significance of the method followed by any methods that it calls. This means that public methods that call other class methods appear towards the top and private methods that call no other methods usually end up towards the bottom\r\n- standard methods like `toString`, `equals` and `hashcode` next\r\n- getters and setters have a special place reserved right at the bottom of the class","title":"Are there any Java method ordering conventions?","body":"<p>Not sure if there is universally accepted standard but my own preferences are;</p>\n\n<ul>\n<li>constructors first </li>\n<li>static methods next, if there is a main method, always before other static methods</li>\n<li>non static methods next, usually in order of the significance of the method followed by any methods that it calls. This means that public methods that call other class methods appear towards the top and private methods that call no other methods usually end up towards the bottom</li>\n<li>standard methods like <code>toString</code>, <code>equals</code> and <code>hashcode</code> next</li>\n<li>getters and setters have a special place reserved right at the bottom of the class</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":102066,"reputation":5017,"user_id":274205,"accept_rate":75,"display_name":"Timofey Gorshkov"},"down_vote_count":2,"up_vote_count":49,"is_accepted":false,"score":47,"last_activity_date":1401135671,"creation_date":1309161482,"answer_id":6490053,"question_id":4668218,"body_markdown":"The more precise link to &#171;Code Conventions&#187;: [&#171;Class and Interface Declarations&#187;][1]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20130516014426/http://www.oracle.com/technetwork/java/codeconventions-141855.html#1852","title":"Are there any Java method ordering conventions?","body":"<p>The more precise link to «Code Conventions»: <a href=\"https://web.archive.org/web/20130516014426/http://www.oracle.com/technetwork/java/codeconventions-141855.html#1852\">«Class and Interface Declarations»</a></p>\n"},{"tags":[],"owner":{"account_id":255148,"reputation":13908,"user_id":534994,"accept_rate":93,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":155,"is_accepted":false,"score":155,"last_activity_date":1654808019,"creation_date":1347635038,"answer_id":12427127,"question_id":4668218,"body_markdown":" 1. Class (static) variables: First the public class variables, then the\r\n    protected, and then the private.\r\n      \r\n 2. Instance variables: First public, then protected, and then private.\r\n    \r\n 3. Constructors\r\n    \r\n 4. Methods: These methods should be grouped by functionality rather\r\n    than by scope or accessibility. For example, a private class method\r\n    can be in between two public instance methods. The goal is to make\r\n    reading and understanding the code easier.\r\n\r\nSource: https://www.oracle.com/java/technologies/javase/codeconventions-fileorganization.html","title":"Are there any Java method ordering conventions?","body":"<ol>\n<li><p>Class (static) variables: First the public class variables, then the\nprotected, and then the private.</p>\n</li>\n<li><p>Instance variables: First public, then protected, and then private.</p>\n</li>\n<li><p>Constructors</p>\n</li>\n<li><p>Methods: These methods should be grouped by functionality rather\nthan by scope or accessibility. For example, a private class method\ncan be in between two public instance methods. The goal is to make\nreading and understanding the code easier.</p>\n</li>\n</ol>\n<p>Source: <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-fileorganization.html\" rel=\"noreferrer\">https://www.oracle.com/java/technologies/javase/codeconventions-fileorganization.html</a></p>\n"},{"tags":[],"owner":{"account_id":1344592,"reputation":1139,"user_id":1285585,"accept_rate":85,"display_name":"Stephan Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390475126,"creation_date":1390475126,"answer_id":21306331,"question_id":4668218,"body_markdown":"Also, eclipse offers the possibility to sort class members for you, if you for some reason mixed them up:\r\n\r\nOpen your class file, the go to &quot;Source&quot; in the main menu and select &quot;Sort Members&quot;.\r\n\r\ntaken from here: https://stackoverflow.com/questions/854232/sorting-methods-in-eclipse?answertab=active#tab-top","title":"Are there any Java method ordering conventions?","body":"<p>Also, eclipse offers the possibility to sort class members for you, if you for some reason mixed them up:</p>\n\n<p>Open your class file, the go to \"Source\" in the main menu and select \"Sort Members\".</p>\n\n<p>taken from here: <a href=\"https://stackoverflow.com/questions/854232/sorting-methods-in-eclipse?answertab=active#tab-top\">Sorting methods in Eclipse</a></p>\n"}],"owner":{"account_id":124495,"reputation":33043,"user_id":319618,"accept_rate":82,"display_name":"fredley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145361,"favorite_count":0,"down_vote_count":1,"up_vote_count":186,"closed_date":1405612152,"accepted_answer_id":4668276,"answer_count":8,"score":185,"last_activity_date":1654808019,"creation_date":1294831580,"question_id":4668218,"body_markdown":"I&#39;ve got a large-ish class (40 or so methods) that is part of a package I will be submitting as course-work. Currently, the methods are pretty jumbled up in terms of utility public/private etc. and I want to order them in a sensible way. Is there a standard way of doing this? E.g. normally fields are listed before methods, the constructor(s) are listed before other methods, and getters/setters last; what about the remaining methods?","title":"Are there any Java method ordering conventions?","body":"<p>I've got a large-ish class (40 or so methods) that is part of a package I will be submitting as course-work. Currently, the methods are pretty jumbled up in terms of utility public/private etc. and I want to order them in a sensible way. Is there a standard way of doing this? E.g. normally fields are listed before methods, the constructor(s) are listed before other methods, and getters/setters last; what about the remaining methods?</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":5655920,"reputation":63,"user_id":4475123,"accept_rate":75,"display_name":"lryk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654807821,"creation_date":1654807821,"answer_id":72566502,"question_id":72564627,"body_markdown":"I was able to resolve the issue. I had Spring Data JPA repositories in the Spring batch job which was causing the issue as per the below link:\r\nhttps://github.com/spring-guides/gs-batch-processing/issues/40\r\n\r\n\r\n\r\n","title":"Spring Batch Job with Flows not terminating after completion","body":"<p>I was able to resolve the issue. I had Spring Data JPA repositories in the Spring batch job which was causing the issue as per the below link:\n<a href=\"https://github.com/spring-guides/gs-batch-processing/issues/40\" rel=\"nofollow noreferrer\">https://github.com/spring-guides/gs-batch-processing/issues/40</a></p>\n"}],"owner":{"account_id":5655920,"reputation":63,"user_id":4475123,"accept_rate":75,"display_name":"lryk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654807821,"creation_date":1654797194,"question_id":72564627,"body_markdown":"I have the below configuration for a Spring batch job :\r\nFirst Flow :\r\n``` \r\nreturn new FlowBuilder&lt;SimpleFlow&gt;(&quot;flowB&quot;)\r\n\t\t\t\t.start(stepA)\r\n\t\t\t\t .next(stepB)\r\n\t             .next(stepC)\r\n\t             .end(); \r\n```\r\nSecond Flow:\r\n\r\n```\r\nreturn new FlowBuilder&lt;SimpleFlow&gt;(&quot;flowNotify&quot;)\r\n\t\t\t\t.start(stepNotify)\r\n\t             .end();\r\n```\r\n\r\nANd my Job configuration is as follows:\r\n```\r\n Job job =  jobBuilderFactory.get(&quot;job1&quot;)\r\n\t                .listener(customJobListener)\r\n\t                .start(stepOne)\r\n\t                .next(customDecider).on(&quot;STATUS_STOP&quot;).to(flowNotify)\r\n\t                .from(customDecider).on(&quot;STATUS_PROCEED&quot;).to(flowB)\r\n\t                .end()\r\n\t                .build();\r\n\t        return  job;\r\n```\r\n\r\nThe job runs fine in both the flows based on FlowExitStatus being returned from the Decider, however after the last step the job doesn&#39;t terminate, I need to manually terminate the job.\r\n\r\nCan someone please guide me on how to terminate the job after the completion of the last step","title":"Spring Batch Job with Flows not terminating after completion","body":"<p>I have the below configuration for a Spring batch job :\nFirst Flow :</p>\n<pre><code>return new FlowBuilder&lt;SimpleFlow&gt;(&quot;flowB&quot;)\n                .start(stepA)\n                 .next(stepB)\n                 .next(stepC)\n                 .end(); \n</code></pre>\n<p>Second Flow:</p>\n<pre><code>return new FlowBuilder&lt;SimpleFlow&gt;(&quot;flowNotify&quot;)\n                .start(stepNotify)\n                 .end();\n</code></pre>\n<p>ANd my Job configuration is as follows:</p>\n<pre><code> Job job =  jobBuilderFactory.get(&quot;job1&quot;)\n                    .listener(customJobListener)\n                    .start(stepOne)\n                    .next(customDecider).on(&quot;STATUS_STOP&quot;).to(flowNotify)\n                    .from(customDecider).on(&quot;STATUS_PROCEED&quot;).to(flowB)\n                    .end()\n                    .build();\n            return  job;\n</code></pre>\n<p>The job runs fine in both the flows based on FlowExitStatus being returned from the Decider, however after the last step the job doesn't terminate, I need to manually terminate the job.</p>\n<p>Can someone please guide me on how to terminate the job after the completion of the last step</p>\n"},{"tags":["java","parsing","double","locale"],"answers":[{"tags":[],"owner":{"account_id":56173,"reputation":4101,"user_id":168233,"accept_rate":86,"display_name":"Serhiy"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1412759825,"creation_date":1412759825,"answer_id":26253271,"question_id":26252824,"body_markdown":"If you try to create `Locale` like `new Locale(&quot;sv_SE&quot;)`, then it will fail to match it through the ISO 639 standard used to detect language (yes if there is only one parameters it is threatened as language, check the documentation). In your case you should use `new Locale(&quot;sv&quot;,&quot;SE&quot;)` to correctly setup the country, otherwise, since the matching for language fails, default language is used (which in your case seem to be English). In English, the comma is used for digit grouping and not as decimal mark, that is why the result you have in unexpected but correct.","title":"Java: what&#39;s the difference between the sv and sv_SE locale?","body":"<p>If you try to create <code>Locale</code> like <code>new Locale(\"sv_SE\")</code>, then it will fail to match it through the ISO 639 standard used to detect language (yes if there is only one parameters it is threatened as language, check the documentation). In your case you should use <code>new Locale(\"sv\",\"SE\")</code> to correctly setup the country, otherwise, since the matching for language fails, default language is used (which in your case seem to be English). In English, the comma is used for digit grouping and not as decimal mark, that is why the result you have in unexpected but correct.</p>\n"}],"owner":{"account_id":1734548,"reputation":855,"user_id":1802826,"accept_rate":50,"display_name":"d-b"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13172,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":26253271,"answer_count":1,"score":8,"last_activity_date":1654807463,"creation_date":1412758404,"question_id":26252824,"body_markdown":"I tried to parse a string (-0,3) to a double in java using Swedish locale using this code:\r\n\r\n    String DoubleString = &quot;-0,3&quot;\r\n    NumberFormat swedishNumberFormat = NumberFormat.getInstance(new Locale(&quot;sv&quot;));\r\n    System.out.println(swedishNumberFormat.parse(doubleString).doubleValue());\r\n\r\n\r\nWhen I tried with the `sv_SE` locale the result was -3.0, which, obviously, is incorrect. I then, after **a lot** of headache changed the locale to `sv` (as in the example above) and then the result was correct, -0,3.\r\n\r\nAccording to http://www.localeplanet.com/java/sv/index.html and http://www.localeplanet.com/java/sv-SE/index.html the decimal separator (*Decimalavgr&#228;nsare*) in both cases is comma (`,`) so why this difference?\r\n\r\n(I tried to tag this with some tags related to Sweden such as sv_SE but I didn&#39;t have enough reputation points to add new tags. Feel free to add tags if you can.)","title":"Java: what&#39;s the difference between the sv and sv_SE locale?","body":"<p>I tried to parse a string (-0,3) to a double in java using Swedish locale using this code:</p>\n\n<pre><code>String DoubleString = \"-0,3\"\nNumberFormat swedishNumberFormat = NumberFormat.getInstance(new Locale(\"sv\"));\nSystem.out.println(swedishNumberFormat.parse(doubleString).doubleValue());\n</code></pre>\n\n<p>When I tried with the <code>sv_SE</code> locale the result was -3.0, which, obviously, is incorrect. I then, after <strong>a lot</strong> of headache changed the locale to <code>sv</code> (as in the example above) and then the result was correct, -0,3.</p>\n\n<p>According to <a href=\"http://www.localeplanet.com/java/sv/index.html\" rel=\"noreferrer\">http://www.localeplanet.com/java/sv/index.html</a> and <a href=\"http://www.localeplanet.com/java/sv-SE/index.html\" rel=\"noreferrer\">http://www.localeplanet.com/java/sv-SE/index.html</a> the decimal separator (<em>Decimalavgränsare</em>) in both cases is comma (<code>,</code>) so why this difference?</p>\n\n<p>(I tried to tag this with some tags related to Sweden such as sv_SE but I didn't have enough reputation points to add new tags. Feel free to add tags if you can.)</p>\n"},{"tags":["java","maven","maven-3","maven-compiler-plugin"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1598146226,"post_id":38882080,"comment_id":112362231,"body_markdown":"Related: [*“maven.compiler.release” as an replacement for source and target?*](https://stackoverflow.com/q/59049980/642706)","body":"Related: <a href=\"https://stackoverflow.com/q/59049980/642706\"><i>“maven.compiler.release” as an replacement for source and target?</i></a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1598146442,"post_id":38882080,"comment_id":112362268,"body_markdown":"Related: [*How do you specify the Java compiler version in a pom.xml file?*](https://stackoverflow.com/q/16723533/642706)","body":"Related: <a href=\"https://stackoverflow.com/q/16723533/642706\"><i>How do you specify the Java compiler version in a pom.xml file?</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":442,"is_accepted":true,"score":442,"last_activity_date":1654807195,"creation_date":1470861341,"answer_id":38883073,"question_id":38882080,"body_markdown":"**How to specify the JDK version?**\r\n\r\nUse any of three ways: (1) Spring Boot feature, or use Maven compiler plugin with either (2) `source` &amp; `target` or (3) with `release`.\r\n\r\n# Spring Boot\r\n\r\n1) `&lt;java.version&gt;` is not referenced in the Maven documentation.  \r\nIt is a Spring Boot specificity.   \r\nIt allows to set the source and the target java version with the same version such as this one to specify java 1.8 for both : \r\n\r\n    &lt;properties&gt;\r\n         &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;   \r\n\r\nFeel free to use it if you use Spring Boot.\r\n\r\n\r\n# `maven-compiler-plugin` with `source` &amp; `target`\r\n\r\n2) Using `maven-compiler-plugin` or `maven.compiler.source`/`maven.compiler.target` properties are equivalent.    \r\n\r\nThat is indeed : \r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;    \r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\nis equivalent to :\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\naccording to the [Maven documentation of the compiler plugin][1]\r\nsince the `&lt;source&gt;` and the `&lt;target&gt;` elements in the compiler configuration use the properties `maven.compiler.source` and `maven.compiler.target` if they are defined.   \r\n\r\n&gt; [**source**][3]\r\n\r\n&gt; The `-source` argument for the Java compiler.  \r\n&gt; **NOTE**: Since 3.8.0 the default value has changed from 1.5 to 1.6. Since 3.9.0 the default value has changed from 1.6 to 1.7  \r\n&gt; Default value is: 1.7.  \r\n&gt; User property is: `maven.compiler.source`.\r\n\r\n\r\n&gt; [**target**][4]\r\n\r\n&gt; The `-target` argument for the Java compiler.  \r\n&gt; **NOTE**: Since 3.8.0 the default value has changed from 1.5 to 1.6. Since 3.9.0 the default value has changed from 1.6 to 1.7  \r\n&gt; Default value is: `1.6`.  \r\n&gt; User property is: `maven.compiler.target`.\r\n\r\nAbout the default values  for `source` and  `target`, note that\r\n [since the `3.8.0` of the maven compiler, the default values have changed from `1.5` to `1.6`][2].     \r\n\r\n# `maven-compiler-plugin` with `release` instead of `source` &amp; `target`\r\n\r\n3) The maven-compiler-plugin `3.6` and later versions provide a new way :\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;release&gt;9&lt;/release&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nYou could also declare just :\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.release&gt;9&lt;/maven.compiler.release&gt;\r\n\t&lt;/properties&gt;\r\n\r\nBut at this time it will not work as the `maven-compiler-plugin` default version you use doesn&#39;t rely on a recent enough version.   \r\n\r\nThe Maven `release` argument conveys  `release` : a [new JVM standard option ][5] that we could pass from Java 9 :\r\n\r\n&gt; Compiles against the public, supported and documented API for a\r\n&gt; specific VM version.\r\n\r\nThis way provides a standard way to specify the same version for the `source`, the `target` and the `bootstrap` JVM options.      \r\nNote that specifying the `bootstrap` is a good practice for cross compilations and it will not hurt if you don&#39;t make cross compilations either.     \r\n\r\n----------\r\n\r\n**Which is the best way to specify the JDK version?**\r\n\r\nThe first way (`&lt;java.version&gt;`) is allowed only if you use Spring Boot.   \r\n\r\n**For Java 8 and below :**\r\n\r\nAbout the two other ways : valuing the `maven.compiler.source`/`maven.compiler.target` properties **or** using the `maven-compiler-plugin`, you can use one or the other. It changes nothing in the facts since finally the two solutions rely on the same properties and the same mechanism : the maven core compiler plugin.   \r\n\r\nWell, if you don&#39;t need to specify other properties or behavior than Java versions in the compiler plugin, using this way makes more sense as this is more concise:\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n**From Java 9 :**\r\n\r\nThe `release` argument (third point) is a way to strongly consider if you want to use the same version for the source and the target.   \r\n\r\n**What happens if the version differs between the JDK in JAVA_HOME and which one specified in the pom.xml?**\r\n\r\nIt is not a problem if the JDK referenced by the `JAVA_HOME` is compatible with the version specified in the pom but to ensure a better cross-compilation compatibility think about adding the `bootstrap` JVM option with as value the path of the `rt.jar` of the `target` version.     \r\n\r\nAn important thing to consider is that the `source` and the `target` version in the Maven configuration should not be superior to the JDK version referenced by the `JAVA_HOME`.   \r\nA older version of the JDK cannot compile with a more recent version since it doesn&#39;t know its specification.    \r\n\r\nTo get information about the source, target and release supported versions according to the used JDK, please refer to [java compilation : source, target and release supported versions][6].\r\n\r\n\r\n----------\r\n\r\n\r\n**How handle the case of JDK referenced by the JAVA_HOME is not compatible with the java target and/or source versions specified in the pom?**\r\n\r\nFor example, if your `JAVA_HOME` refers to a JDK 1.7 and you specify a JDK 1.8 as source and target in the compiler configuration of your pom.xml, it will be a problem because as explained, the JDK 1.7 doesn&#39;t know how to compile with.  \r\nFrom its point of view, it is an unknown JDK version since it was released after it.   \r\nIn this case, you should configure the Maven compiler plugin to specify the JDK in this way :\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t&lt;configuration&gt;\r\n    \t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t&lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;compilerVersion&gt;1.8&lt;/compilerVersion&gt;\t\t\r\n    \t\t&lt;fork&gt;true&lt;/fork&gt;\r\n    \t\t&lt;executable&gt;D:\\jdk1.8\\bin\\javac&lt;/executable&gt;\t\t\t\t\r\n    \t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nYou could have more details in [examples with maven compiler plugin][7].   \r\n\r\n\r\n----------\r\n\r\n\r\nIt is not asked but cases where that may be more complicated is when you specify source but not target. It may use a different version in target according to the source version. Rules are particular : you can read about them in [the Cross-Compilation Options part][8].\r\n\r\n\r\n----------\r\n\r\n**Why the compiler plugin is traced in the output at the execution of the Maven `package` goal even if you don&#39;t specify it in the pom.xml?**\r\n\r\n\r\n\r\nTo compile your code and more generally to perform all tasks required for a maven goal, Maven needs tools. So, it uses core Maven plugins (you recognize a core Maven plugin by its `groupId` : `org.apache.maven.plugins`) to do the required tasks : compiler plugin for compiling classes,  test plugin for executing tests,  and so for... So, even if you don&#39;t declare these plugins, they are bound to the execution of the Maven lifecycle.    \r\nAt the root dir of your Maven project, you can run the command : `mvn help:effective-pom` to get the final pom effectively used. You could see among other information, attached plugins by Maven (specified or not in your pom.xml), with the used version, their configuration and the executed goals for each phase of the lifecycle.   \r\n\r\nIn the output of the `mvn help:effective-pom` command, you could see the declaration of these core plugins in the `&lt;build&gt;&lt;plugins&gt;` element, for example :\r\n\r\n    ...\r\n    &lt;plugin&gt;\r\n       &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;2.5&lt;/version&gt;\r\n       &lt;executions&gt;\r\n         &lt;execution&gt;\r\n           &lt;id&gt;default-clean&lt;/id&gt;\r\n           &lt;phase&gt;clean&lt;/phase&gt;\r\n           &lt;goals&gt;\r\n             &lt;goal&gt;clean&lt;/goal&gt;\r\n           &lt;/goals&gt;\r\n         &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n     &lt;/plugin&gt;\r\n     &lt;plugin&gt;\r\n       &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;2.6&lt;/version&gt;\r\n       &lt;executions&gt;\r\n         &lt;execution&gt;\r\n           &lt;id&gt;default-testResources&lt;/id&gt;\r\n           &lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n           &lt;goals&gt;\r\n             &lt;goal&gt;testResources&lt;/goal&gt;\r\n           &lt;/goals&gt;\r\n         &lt;/execution&gt;\r\n         &lt;execution&gt;\r\n           &lt;id&gt;default-resources&lt;/id&gt;\r\n           &lt;phase&gt;process-resources&lt;/phase&gt;\r\n           &lt;goals&gt;\r\n             &lt;goal&gt;resources&lt;/goal&gt;\r\n           &lt;/goals&gt;\r\n         &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n     &lt;/plugin&gt;\r\n     &lt;plugin&gt;\r\n       &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;3.1&lt;/version&gt;\r\n       &lt;executions&gt;\r\n         &lt;execution&gt;\r\n           &lt;id&gt;default-compile&lt;/id&gt;\r\n           &lt;phase&gt;compile&lt;/phase&gt;\r\n           &lt;goals&gt;\r\n             &lt;goal&gt;compile&lt;/goal&gt;\r\n           &lt;/goals&gt;\r\n         &lt;/execution&gt;\r\n         &lt;execution&gt;\r\n           &lt;id&gt;default-testCompile&lt;/id&gt;\r\n           &lt;phase&gt;test-compile&lt;/phase&gt;\r\n           &lt;goals&gt;\r\n             &lt;goal&gt;testCompile&lt;/goal&gt;\r\n           &lt;/goals&gt;\r\n         &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n     &lt;/plugin&gt;\r\n      ...\r\n\r\n \r\n\r\nYou can have more information about it in [the introduction of the Maven lifeycle in the Maven documentation][9].\r\n\r\nNevertheless, you can declare these plugins when you want to configure them with other values as default values (for example, you did it when you declared the maven-compiler plugin in your pom.xml to adjust the JDK version to use) or when you want to add some plugin executions not used by default in the Maven lifecycle.\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html\r\n  [2]: https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12317225&amp;version=12341563\r\n  [3]: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#source\r\n  [4]: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#target\r\n  [5]: https://docs.oracle.com/javase/9/tools/javac.htm#JSWOR627\r\n  [6]: https://stackoverflow.com/questions/51692748/java-compilation-source-target-and-release-supported-versions/51692749#51692749\r\n  [7]: https://maven.apache.org/plugins/maven-compiler-plugin/examples/compile-using-different-jdk.html\r\n  [8]: https://docs.oracle.com/javase/8/docs/technotes/tools/unix/javac.html\r\n  [9]: https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html","title":"Specifying Java version in maven - differences between properties and compiler plugin","body":"<p><strong>How to specify the JDK version?</strong></p>\n<p>Use any of three ways: (1) Spring Boot feature, or use Maven compiler plugin with either (2) <code>source</code> &amp; <code>target</code> or (3) with <code>release</code>.</p>\n<h1>Spring Boot</h1>\n<ol>\n<li><p><code>&lt;java.version&gt;</code> is not referenced in the Maven documentation.<br />\nIt is a Spring Boot specificity.<br />\nIt allows to set the source and the target java version with the same version such as this one to specify java 1.8 for both :</p>\n \n      1.8\n    \n</li>\n</ol>\n<p>Feel free to use it if you use Spring Boot.</p>\n<h1><code>maven-compiler-plugin</code> with <code>source</code> &amp; <code>target</code></h1>\n<ol start=\"2\">\n<li>Using <code>maven-compiler-plugin</code> or <code>maven.compiler.source</code>/<code>maven.compiler.target</code> properties are equivalent.</li>\n</ol>\n<p>That is indeed :</p>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;    \n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>is equivalent to :</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>according to the <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html\" rel=\"noreferrer\">Maven documentation of the compiler plugin</a>\nsince the <code>&lt;source&gt;</code> and the <code>&lt;target&gt;</code> elements in the compiler configuration use the properties <code>maven.compiler.source</code> and <code>maven.compiler.target</code> if they are defined.</p>\n<blockquote>\n<p><a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#source\" rel=\"noreferrer\"><strong>source</strong></a></p>\n</blockquote>\n<blockquote>\n<p>The <code>-source</code> argument for the Java compiler.<br />\n<strong>NOTE</strong>: Since 3.8.0 the default value has changed from 1.5 to 1.6. Since 3.9.0 the default value has changed from 1.6 to 1.7<br />\nDefault value is: 1.7.<br />\nUser property is: <code>maven.compiler.source</code>.</p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#target\" rel=\"noreferrer\"><strong>target</strong></a></p>\n</blockquote>\n<blockquote>\n<p>The <code>-target</code> argument for the Java compiler.<br />\n<strong>NOTE</strong>: Since 3.8.0 the default value has changed from 1.5 to 1.6. Since 3.9.0 the default value has changed from 1.6 to 1.7<br />\nDefault value is: <code>1.6</code>.<br />\nUser property is: <code>maven.compiler.target</code>.</p>\n</blockquote>\n<p>About the default values  for <code>source</code> and  <code>target</code>, note that\n<a href=\"https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12317225&amp;version=12341563\" rel=\"noreferrer\">since the <code>3.8.0</code> of the maven compiler, the default values have changed from <code>1.5</code> to <code>1.6</code></a>.</p>\n<h1><code>maven-compiler-plugin</code> with <code>release</code> instead of <code>source</code> &amp; <code>target</code></h1>\n<ol start=\"3\">\n<li><p>The maven-compiler-plugin <code>3.6</code> and later versions provide a new way :</p>\n \n     org.apache.maven.plugins\n     maven-compiler-plugin\n     3.8.0\n     \n         9\n     \n \n</li>\n</ol>\n<p>You could also declare just :</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.release&gt;9&lt;/maven.compiler.release&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>But at this time it will not work as the <code>maven-compiler-plugin</code> default version you use doesn't rely on a recent enough version.</p>\n<p>The Maven <code>release</code> argument conveys  <code>release</code> : a <a href=\"https://docs.oracle.com/javase/9/tools/javac.htm#JSWOR627\" rel=\"noreferrer\">new JVM standard option </a> that we could pass from Java 9 :</p>\n<blockquote>\n<p>Compiles against the public, supported and documented API for a\nspecific VM version.</p>\n</blockquote>\n<p>This way provides a standard way to specify the same version for the <code>source</code>, the <code>target</code> and the <code>bootstrap</code> JVM options.<br />\nNote that specifying the <code>bootstrap</code> is a good practice for cross compilations and it will not hurt if you don't make cross compilations either.</p>\n<hr />\n<p><strong>Which is the best way to specify the JDK version?</strong></p>\n<p>The first way (<code>&lt;java.version&gt;</code>) is allowed only if you use Spring Boot.</p>\n<p><strong>For Java 8 and below :</strong></p>\n<p>About the two other ways : valuing the <code>maven.compiler.source</code>/<code>maven.compiler.target</code> properties <strong>or</strong> using the <code>maven-compiler-plugin</code>, you can use one or the other. It changes nothing in the facts since finally the two solutions rely on the same properties and the same mechanism : the maven core compiler plugin.</p>\n<p>Well, if you don't need to specify other properties or behavior than Java versions in the compiler plugin, using this way makes more sense as this is more concise:</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p><strong>From Java 9 :</strong></p>\n<p>The <code>release</code> argument (third point) is a way to strongly consider if you want to use the same version for the source and the target.</p>\n<p><strong>What happens if the version differs between the JDK in JAVA_HOME and which one specified in the pom.xml?</strong></p>\n<p>It is not a problem if the JDK referenced by the <code>JAVA_HOME</code> is compatible with the version specified in the pom but to ensure a better cross-compilation compatibility think about adding the <code>bootstrap</code> JVM option with as value the path of the <code>rt.jar</code> of the <code>target</code> version.</p>\n<p>An important thing to consider is that the <code>source</code> and the <code>target</code> version in the Maven configuration should not be superior to the JDK version referenced by the <code>JAVA_HOME</code>.<br />\nA older version of the JDK cannot compile with a more recent version since it doesn't know its specification.</p>\n<p>To get information about the source, target and release supported versions according to the used JDK, please refer to <a href=\"https://stackoverflow.com/questions/51692748/java-compilation-source-target-and-release-supported-versions/51692749#51692749\">java compilation : source, target and release supported versions</a>.</p>\n<hr />\n<p><strong>How handle the case of JDK referenced by the JAVA_HOME is not compatible with the java target and/or source versions specified in the pom?</strong></p>\n<p>For example, if your <code>JAVA_HOME</code> refers to a JDK 1.7 and you specify a JDK 1.8 as source and target in the compiler configuration of your pom.xml, it will be a problem because as explained, the JDK 1.7 doesn't know how to compile with.<br />\nFrom its point of view, it is an unknown JDK version since it was released after it.<br />\nIn this case, you should configure the Maven compiler plugin to specify the JDK in this way :</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n        &lt;compilerVersion&gt;1.8&lt;/compilerVersion&gt;      \n        &lt;fork&gt;true&lt;/fork&gt;\n        &lt;executable&gt;D:\\jdk1.8\\bin\\javac&lt;/executable&gt;                \n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>You could have more details in <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/compile-using-different-jdk.html\" rel=\"noreferrer\">examples with maven compiler plugin</a>.</p>\n<hr />\n<p>It is not asked but cases where that may be more complicated is when you specify source but not target. It may use a different version in target according to the source version. Rules are particular : you can read about them in <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/javac.html\" rel=\"noreferrer\">the Cross-Compilation Options part</a>.</p>\n<hr />\n<p><strong>Why the compiler plugin is traced in the output at the execution of the Maven <code>package</code> goal even if you don't specify it in the pom.xml?</strong></p>\n<p>To compile your code and more generally to perform all tasks required for a maven goal, Maven needs tools. So, it uses core Maven plugins (you recognize a core Maven plugin by its <code>groupId</code> : <code>org.apache.maven.plugins</code>) to do the required tasks : compiler plugin for compiling classes,  test plugin for executing tests,  and so for... So, even if you don't declare these plugins, they are bound to the execution of the Maven lifecycle.<br />\nAt the root dir of your Maven project, you can run the command : <code>mvn help:effective-pom</code> to get the final pom effectively used. You could see among other information, attached plugins by Maven (specified or not in your pom.xml), with the used version, their configuration and the executed goals for each phase of the lifecycle.</p>\n<p>In the output of the <code>mvn help:effective-pom</code> command, you could see the declaration of these core plugins in the <code>&lt;build&gt;&lt;plugins&gt;</code> element, for example :</p>\n<pre><code>...\n&lt;plugin&gt;\n   &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n   &lt;version&gt;2.5&lt;/version&gt;\n   &lt;executions&gt;\n     &lt;execution&gt;\n       &lt;id&gt;default-clean&lt;/id&gt;\n       &lt;phase&gt;clean&lt;/phase&gt;\n       &lt;goals&gt;\n         &lt;goal&gt;clean&lt;/goal&gt;\n       &lt;/goals&gt;\n     &lt;/execution&gt;\n   &lt;/executions&gt;\n &lt;/plugin&gt;\n &lt;plugin&gt;\n   &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n   &lt;version&gt;2.6&lt;/version&gt;\n   &lt;executions&gt;\n     &lt;execution&gt;\n       &lt;id&gt;default-testResources&lt;/id&gt;\n       &lt;phase&gt;process-test-resources&lt;/phase&gt;\n       &lt;goals&gt;\n         &lt;goal&gt;testResources&lt;/goal&gt;\n       &lt;/goals&gt;\n     &lt;/execution&gt;\n     &lt;execution&gt;\n       &lt;id&gt;default-resources&lt;/id&gt;\n       &lt;phase&gt;process-resources&lt;/phase&gt;\n       &lt;goals&gt;\n         &lt;goal&gt;resources&lt;/goal&gt;\n       &lt;/goals&gt;\n     &lt;/execution&gt;\n   &lt;/executions&gt;\n &lt;/plugin&gt;\n &lt;plugin&gt;\n   &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n   &lt;version&gt;3.1&lt;/version&gt;\n   &lt;executions&gt;\n     &lt;execution&gt;\n       &lt;id&gt;default-compile&lt;/id&gt;\n       &lt;phase&gt;compile&lt;/phase&gt;\n       &lt;goals&gt;\n         &lt;goal&gt;compile&lt;/goal&gt;\n       &lt;/goals&gt;\n     &lt;/execution&gt;\n     &lt;execution&gt;\n       &lt;id&gt;default-testCompile&lt;/id&gt;\n       &lt;phase&gt;test-compile&lt;/phase&gt;\n       &lt;goals&gt;\n         &lt;goal&gt;testCompile&lt;/goal&gt;\n       &lt;/goals&gt;\n     &lt;/execution&gt;\n   &lt;/executions&gt;\n &lt;/plugin&gt;\n  ...\n</code></pre>\n<p>You can have more information about it in <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"noreferrer\">the introduction of the Maven lifeycle in the Maven documentation</a>.</p>\n<p>Nevertheless, you can declare these plugins when you want to configure them with other values as default values (for example, you did it when you declared the maven-compiler plugin in your pom.xml to adjust the JDK version to use) or when you want to add some plugin executions not used by default in the Maven lifecycle.</p>\n"},{"tags":[],"owner":{"account_id":8092942,"reputation":11,"user_id":6098325,"display_name":"Stefano"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1528883473,"creation_date":1528883473,"answer_id":50834224,"question_id":38882080,"body_markdown":"Consider the alternative:\r\n\r\n    &lt;properties&gt;\r\n        &lt;javac.src.version&gt;1.8&lt;/javac.src.version&gt;\r\n    \t&lt;javac.target.version&gt;1.8&lt;/javac.target.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nIt should be the same thing of `maven.compiler.source/maven.compiler.target` but the above solution works for me, otherwise the second one gets the parent specification (I have a matrioska of .pom)\r\n","title":"Specifying Java version in maven - differences between properties and compiler plugin","body":"<p>Consider the alternative:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;javac.src.version&gt;1.8&lt;/javac.src.version&gt;\n    &lt;javac.target.version&gt;1.8&lt;/javac.target.version&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>It should be the same thing of <code>maven.compiler.source/maven.compiler.target</code> but the above solution works for me, otherwise the second one gets the parent specification (I have a matrioska of .pom)</p>\n"},{"tags":[],"owner":{"account_id":11047947,"reputation":1318,"user_id":8113350,"display_name":"Sen"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1608656807,"creation_date":1542722476,"answer_id":53394694,"question_id":38882080,"body_markdown":"None of the solutions above worked for me straight away. So I followed these steps:\r\n\r\n\r\n 1. Add in `pom.xml:`\r\n    \r\n```\r\n&lt;properties&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n&lt;/properties&gt;\r\n```\r\n    \r\n 2. Go to `Project Properties` &gt; `Java Build Path`, then remove the JRE\r\n        System Library pointing to `JRE1.5`.\r\n    \r\n 3. Force updated the project.\r\n\r\n ","title":"Specifying Java version in maven - differences between properties and compiler plugin","body":"<p>None of the solutions above worked for me straight away. So I followed these steps:</p>\n<ol>\n<li>Add in <code>pom.xml:</code></li>\n</ol>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n&lt;/properties&gt;\n</code></pre>\n<ol start=\"2\">\n<li><p>Go to <code>Project Properties</code> &gt; <code>Java Build Path</code>, then remove the JRE\nSystem Library pointing to <code>JRE1.5</code>.</p>\n</li>\n<li><p>Force updated the project.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4280750,"reputation":1855,"user_id":3500196,"display_name":"Shivang Agarwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617687809,"creation_date":1617687809,"answer_id":66963233,"question_id":38882080,"body_markdown":"The below steps work for me like charm! so thought to share with everyone.\r\n \r\nThese are the lines i added in the pom.xml file to work with a basic project. I am using Java 12 (you can replace yours 11, 10, 1.8 etc).\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;12&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;12&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;12&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nAfter changing the pom file please reload your project so that IDE can download/fetch the plugin to the project. (For IntelijIDEA: Right-click on pom.xml -&gt; Go to maven -&gt; Reload project).\r\n\r\nplease make sure to configure the desire version in your IDE as well. ","title":"Specifying Java version in maven - differences between properties and compiler plugin","body":"<p>The below steps work for me like charm! so thought to share with everyone.</p>\n<p>These are the lines i added in the pom.xml file to work with a basic project. I am using Java 12 (you can replace yours 11, 10, 1.8 etc).</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;12&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;12&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;12&lt;/release&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>After changing the pom file please reload your project so that IDE can download/fetch the plugin to the project. (For IntelijIDEA: Right-click on pom.xml -&gt; Go to maven -&gt; Reload project).</p>\n<p>please make sure to configure the desire version in your IDE as well.</p>\n"},{"tags":[],"owner":{"account_id":11018018,"reputation":120,"user_id":8093288,"display_name":"Amey"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1622534924,"creation_date":1622534924,"answer_id":67785040,"question_id":38882080,"body_markdown":"For NetBeans IDE, changing project properties - (Jersey Service) - Categories &gt; Sources &gt; \r\nSelected &#39;Source/Binary Format&#39; as 1.8.","title":"Specifying Java version in maven - differences between properties and compiler plugin","body":"<p>For NetBeans IDE, changing project properties - (Jersey Service) - Categories &gt; Sources &gt;\nSelected 'Source/Binary Format' as 1.8.</p>\n"},{"tags":[],"owner":{"account_id":9557519,"reputation":543,"user_id":7099541,"display_name":"afshar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643007477,"creation_date":1643007477,"answer_id":70830051,"question_id":38882080,"body_markdown":"if you are using IntelliJ idea maven build.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hrSLJ.png","title":"Specifying Java version in maven - differences between properties and compiler plugin","body":"<p>if you are using IntelliJ idea maven build.</p>\n<p><a href=\"https://i.stack.imgur.com/hrSLJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hrSLJ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3020387,"reputation":3402,"user_id":2561582,"accept_rate":62,"display_name":"Plebejusz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291317,"favorite_count":0,"down_vote_count":0,"up_vote_count":292,"accepted_answer_id":38883073,"answer_count":6,"score":292,"last_activity_date":1654807195,"creation_date":1470857744,"question_id":38882080,"body_markdown":"I&#39;m not very experienced with Maven and while experimenting with multi-module project I started wondering how can I specify Java version for all my child modules in parent Maven pom. Until today I was using just:\r\n\r\n    &lt;properties&gt;\r\n    \t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n...but when researching I found that you can also specify Java version in Maven compiler plugin, like that:\r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;    \r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\nAnd then wrap this into plugin management tag to enable child poms usage of this. So the first question is this: \r\n\r\n**What are the differences beetwen setting Java version in properties and in Maven compiler plugin?**\r\n\r\nI couldn&#39;t find clear answer but in process of researching I found that you can also specify Java version in this way:\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n...which suggest that compiler plugin is there even if I don&#39;t explicit declare it. Running `mvn package` outputs with \r\n\r\n    maven-compiler-plugin:3.1:compile (default-compile) @ testproj ---\r\n\r\n...and some other plugins that I didn&#39;t declare. \r\n\r\n**So are those plugins default, hidden part of Maven pom? Are there any differences between setting source/target in properties and in Maven plugin configuration element?**\r\n\r\nSome other questions are - which way should be used (and when if they are not equal)? Which one is best for multi-module project and what happens if Java version specified in pom is different than version pointed in `JAVA_HOME`?","title":"Specifying Java version in maven - differences between properties and compiler plugin","body":"<p>I'm not very experienced with Maven and while experimenting with multi-module project I started wondering how can I specify Java version for all my child modules in parent Maven pom. Until today I was using just:</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>...but when researching I found that you can also specify Java version in Maven compiler plugin, like that:</p>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;    \n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>And then wrap this into plugin management tag to enable child poms usage of this. So the first question is this:</p>\n<p><strong>What are the differences beetwen setting Java version in properties and in Maven compiler plugin?</strong></p>\n<p>I couldn't find clear answer but in process of researching I found that you can also specify Java version in this way:</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>...which suggest that compiler plugin is there even if I don't explicit declare it. Running <code>mvn package</code> outputs with</p>\n<pre><code>maven-compiler-plugin:3.1:compile (default-compile) @ testproj ---\n</code></pre>\n<p>...and some other plugins that I didn't declare.</p>\n<p><strong>So are those plugins default, hidden part of Maven pom? Are there any differences between setting source/target in properties and in Maven plugin configuration element?</strong></p>\n<p>Some other questions are - which way should be used (and when if they are not equal)? Which one is best for multi-module project and what happens if Java version specified in pom is different than version pointed in <code>JAVA_HOME</code>?</p>\n"},{"tags":["java","junit5","pitest"],"answers":[{"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654807109,"creation_date":1654807109,"answer_id":72566404,"question_id":72555693,"body_markdown":"As of pitest 1.4.7 upwards, the coverage system pitest uses introduces a synthetic field to each class to hold the coverage probes. This is a common approach, also used by coverage systems such as jacoco.\r\n\r\nMost reflection based libraries filter out synthetic fields. It seems that the code your are running is not well behaved. If it is your own code, you will need to update it to ignore synthetic fields. If not, you will need to contact the library maintainer.\r\n\r\nIncidently, the latest version of pitest is 1.8.0. I would recomend upgrading to this rather than 1.6.0. ","title":"Pitest JUnit5 mutation fails","body":"<p>As of pitest 1.4.7 upwards, the coverage system pitest uses introduces a synthetic field to each class to hold the coverage probes. This is a common approach, also used by coverage systems such as jacoco.</p>\n<p>Most reflection based libraries filter out synthetic fields. It seems that the code your are running is not well behaved. If it is your own code, you will need to update it to ignore synthetic fields. If not, you will need to contact the library maintainer.</p>\n<p>Incidently, the latest version of pitest is 1.8.0. I would recomend upgrading to this rather than 1.6.0.</p>\n"}],"owner":{"account_id":25512983,"reputation":1,"user_id":19304290,"display_name":"Rain03"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654807109,"creation_date":1654756575,"question_id":72555693,"body_markdown":"I have the following question:\r\n\r\nI have to upgrade some tests from JUnit 4 to JUnit 5 and, also, update the version of pitest from 1.4.0 to 1.6.0.\r\n\r\nWith the tests on JUnit 4 and pitest 1.4.0 tests everything works.\r\nAfter migrating the test to JUnit 5, with some modification, test are passing but, when I do pitest the tests with pojo validation fails. \r\n\r\nExample of a test:\r\n```\r\n    @BeforeEach\r\n    public void setup() {\r\n        pojoClasses = PojoClassFactory.getPojoClassesRecursively(POJO_PACKAGE, pojoClass -&gt; pojoClass.getName().endsWith(&quot;Dto&quot;));\r\n\r\n        pojoValidator = new PojoValidator();\r\n\r\n        pojoValidator.addRule(new NoPublicFieldsRule());\r\n        pojoValidator.addRule(new NoPrimitivesRule());\r\n        pojoValidator.addRule(new NoStaticExceptFinalRule());\r\n        pojoValidator.addRule(new GetterMustExistRule());\r\n        pojoValidator.addRule(new SetterMustExistRule());\r\n\r\n        pojoValidator.addTester(new DefaultValuesNullTester());\r\n        pojoValidator.addTester(new SetterTester());\r\n        pojoValidator.addTester(new GetterTester());\r\n    }\r\n\r\n    @Test\r\n    public void testPojoStructureAndBehavior() {\r\n        for (PojoClass pojoClass : pojoClasses) {\r\n            pojoValidator.runValidation(pojoClass);\r\n        }\r\n    }\r\n```\r\n\r\nAnd the error I got:\r\n```\r\njava.lang.AssertionError: Primitive fields (byte, short, int, long, float, double, boolean, char) not allowed [PojoFieldImpl [field=private static transient int something.something.something.packagename.classname.$$pitCoverageProbeSize, fieldGetter=null, fieldSetter=null]]\r\n```\r\n\r\nAny ideas?\r\n\r\n","title":"Pitest JUnit5 mutation fails","body":"<p>I have the following question:</p>\n<p>I have to upgrade some tests from JUnit 4 to JUnit 5 and, also, update the version of pitest from 1.4.0 to 1.6.0.</p>\n<p>With the tests on JUnit 4 and pitest 1.4.0 tests everything works.\nAfter migrating the test to JUnit 5, with some modification, test are passing but, when I do pitest the tests with pojo validation fails.</p>\n<p>Example of a test:</p>\n<pre><code>    @BeforeEach\n    public void setup() {\n        pojoClasses = PojoClassFactory.getPojoClassesRecursively(POJO_PACKAGE, pojoClass -&gt; pojoClass.getName().endsWith(&quot;Dto&quot;));\n\n        pojoValidator = new PojoValidator();\n\n        pojoValidator.addRule(new NoPublicFieldsRule());\n        pojoValidator.addRule(new NoPrimitivesRule());\n        pojoValidator.addRule(new NoStaticExceptFinalRule());\n        pojoValidator.addRule(new GetterMustExistRule());\n        pojoValidator.addRule(new SetterMustExistRule());\n\n        pojoValidator.addTester(new DefaultValuesNullTester());\n        pojoValidator.addTester(new SetterTester());\n        pojoValidator.addTester(new GetterTester());\n    }\n\n    @Test\n    public void testPojoStructureAndBehavior() {\n        for (PojoClass pojoClass : pojoClasses) {\n            pojoValidator.runValidation(pojoClass);\n        }\n    }\n</code></pre>\n<p>And the error I got:</p>\n<pre><code>java.lang.AssertionError: Primitive fields (byte, short, int, long, float, double, boolean, char) not allowed [PojoFieldImpl [field=private static transient int something.something.something.packagename.classname.$$pitCoverageProbeSize, fieldGetter=null, fieldSetter=null]]\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":10130520,"reputation":719,"user_id":7484134,"display_name":"Benjamin Eckardt"},"score":2,"creation_date":1654807243,"post_id":72566386,"comment_id":128186838,"body_markdown":"Might be valuable to see the implementation of your CarService.","body":"Might be valuable to see the implementation of your CarService."},{"owner":{"account_id":6099776,"reputation":1781,"user_id":4759182,"display_name":"rasilvap"},"score":0,"creation_date":1654807839,"post_id":72566386,"comment_id":128186997,"body_markdown":"The error is related with the mock of the resttemplate object in the  when(restTemplate.exchange(... line","body":"The error is related with the mock of the resttemplate object in the  when(restTemplate.exchange(... line"},{"owner":{"account_id":10130520,"reputation":719,"user_id":7484134,"display_name":"Benjamin Eckardt"},"score":0,"creation_date":1654886103,"post_id":72566386,"comment_id":128207754,"body_markdown":"I reckon the `restTemplate.exchange(...)` call within the CarService is slightly different and therefor not matches the mock rule. That&#39;s why I&#39;m asking for it.","body":"I reckon the <code>restTemplate.exchange(...)</code> call within the CarService is slightly different and therefor not matches the mock rule. That&#39;s why I&#39;m asking for it."}],"owner":{"account_id":6099776,"reputation":1781,"user_id":4759182,"display_name":"rasilvap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654807004,"creation_date":1654807004,"question_id":72566386,"body_markdown":"I am using mockito to test a resttemplate exchange method, but I am getting a `BadRequest 400 : &quot;{&quot;timestamp&quot;:&quot;2022-06-09T20:27:37.950+00:00&quot;,&quot;status&quot;:400.` I am using junit 5 as well.\r\n\r\n\r\nThis is my code:\r\n\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import exception.HmacExeption;\r\n    import model.Payload;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.*;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n    import org.springframework.http.HttpEntity;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.client.RestTemplate;\r\n    \r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    \r\n    @ExtendWith(MockitoExtension.class)\r\n    class GithubWebHookServiceTest {\r\n    \r\n        @Mock\r\n        private RestTemplate restTemplate;\r\n    \r\n        @InjectMocks\r\n        private CarService carService;\r\n    \r\n    \r\n       @Test\r\n        public void test() throws HmacExeption, NoSuchAlgorithmException, InvalidKeyException, JsonProcessingException {\r\n            ResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;String&gt;(&quot;sampleBodyString&quot;, HttpStatus.ACCEPTED);\r\n    \r\n            Mockito.\r\n                    when(restTemplate.exchange(\r\n                                    Matchers.anyString(),\r\n                                    Matchers.any(HttpMethod.class),\r\n                                    Matchers.&lt;HttpEntity&lt;?&gt;&gt; any(),\r\n                                    Matchers.&lt;Class&lt;String&gt;&gt; any()\r\n                            )\r\n                    ).thenReturn(responseEntity);\r\n    \r\n            carService.executeRestCall(new Payload());\r\n        }\r\n    \r\n    }\r\n\r\nNot sure, what am I missing.\r\n\r\nThanks!!","title":"BadRequest 400 when mocking a resttemplate exchange method","body":"<p>I am using mockito to test a resttemplate exchange method, but I am getting a <code>BadRequest 400 : &quot;{&quot;timestamp&quot;:&quot;2022-06-09T20:27:37.950+00:00&quot;,&quot;status&quot;:400.</code> I am using junit 5 as well.</p>\n<p>This is my code:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport exception.HmacExeption;\nimport model.Payload;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.*;\nimport org.mockito.junit.jupiter.MockitoExtension;\nimport org.springframework.http.HttpEntity;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.client.RestTemplate;\n\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\n\n@ExtendWith(MockitoExtension.class)\nclass GithubWebHookServiceTest {\n\n    @Mock\n    private RestTemplate restTemplate;\n\n    @InjectMocks\n    private CarService carService;\n\n\n   @Test\n    public void test() throws HmacExeption, NoSuchAlgorithmException, InvalidKeyException, JsonProcessingException {\n        ResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;String&gt;(&quot;sampleBodyString&quot;, HttpStatus.ACCEPTED);\n\n        Mockito.\n                when(restTemplate.exchange(\n                                Matchers.anyString(),\n                                Matchers.any(HttpMethod.class),\n                                Matchers.&lt;HttpEntity&lt;?&gt;&gt; any(),\n                                Matchers.&lt;Class&lt;String&gt;&gt; any()\n                        )\n                ).thenReturn(responseEntity);\n\n        carService.executeRestCall(new Payload());\n    }\n\n}\n</code></pre>\n<p>Not sure, what am I missing.</p>\n<p>Thanks!!</p>\n"},{"tags":["java","regex","split"],"comments":[{"owner":{"account_id":6697099,"reputation":709,"user_id":5164811,"display_name":"Erwan C."},"score":1,"creation_date":1441877270,"post_id":32497948,"comment_id":52855754,"body_markdown":"You can first split on &quot;[[&quot; and then split result[0] on &quot;,&quot;","body":"You can first split on &quot;[[&quot; and then split result[0] on &quot;,&quot;"}],"answers":[{"tags":[],"owner":{"account_id":214939,"reputation":18275,"user_id":469220,"accept_rate":75,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1441878844,"creation_date":1441877239,"answer_id":32498016,"question_id":32497948,"body_markdown":"Except for the outer set of `[]`, that looks like JSON, so you could replace the outer `[]`s with `{}`s and parse it as JSON.\r\n\r\nEdit: I was a bit too quick to reply. JSON keys need to be strings, and `test`, `test1` etc. would also have had to be in quotes for this to be JSON. The following code splits on the top level commas and prints out the trimmed strings around them, dropping the outer `[]`s.\r\n\r\n    ....\r\n      public static void parse(String s) {\r\n        boolean quote = false;\r\n        int depth = 0;\r\n        int splitPoint = 1; // drop the first &#39;[&#39;\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n          char c = s.charAt(i);\r\n          switch (c) {\r\n            case &#39;&quot;&#39;:\r\n              quote = !quote;\r\n              break;\r\n            case &#39;{&#39;:\r\n            case &#39;[&#39;:\r\n              if (!quote) {\r\n                depth += 1;\r\n              }\r\n              break;\r\n            case &#39;}&#39;:\r\n            case &#39;]&#39;:\r\n              if (!quote) {\r\n                depth -= 1;\r\n              }\r\n              break;\r\n            case &#39;,&#39;:\r\n              if (!quote &amp;&amp; depth == 1) {\r\n                System.out.println(s.substring(splitPoint, i).trim()); // or store\r\n                splitPoint = i + 1;\r\n              }\r\n              break;\r\n          }\r\n        }\r\n        System.out.println(s.substring(splitPoint, s.length() - 1).trim()); // or store\r\n      }\r\n    ....\r\n\r\nOutput:\r\n\r\n    675: test\r\n    676: test1\r\n    677: test2\r\n    678: [[{&quot;id&quot;:0,&quot;value&quot;:&quot;15&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;2&quot;},{&quot;id&quot;:2,&quot;value&quot;:&quot;2&quot;}],[{&quot;id&quot;:0,&quot;value&quot;:&quot;2&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;3&quot;},{&quot;id&quot;:2,&quot;value&quot;:&quot;3&quot;}],[{&quot;id&quot;:0,&quot;value&quot;:&quot;5&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;6&quot;},{&quot;id&quot;:2,&quot;value&quot;:&quot;6&quot;}],[{&quot;id&quot;:0,&quot;value&quot;:&quot;7&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;8&quot;}],  [{&quot;id&quot;:0,&quot;value&quot;:&quot;99&quot;},\r\n    {&quot;id&quot;:1,&quot;value&quot;:&quot;8&quot;},{&quot;id&quot;:2,&quot;value&quot;:&quot;7&quot;}]]\r\n\r\nIf you have access to the code that builds that string, you would ideally have it print something that&#39;s directly parseable as JSON, and then you would have no need to do manual processing.","title":"Java Regex - Split comma separated list but exclude commas within square brackets","body":"<p>Except for the outer set of <code>[]</code>, that looks like JSON, so you could replace the outer <code>[]</code>s with <code>{}</code>s and parse it as JSON.</p>\n\n<p>Edit: I was a bit too quick to reply. JSON keys need to be strings, and <code>test</code>, <code>test1</code> etc. would also have had to be in quotes for this to be JSON. The following code splits on the top level commas and prints out the trimmed strings around them, dropping the outer <code>[]</code>s.</p>\n\n<pre><code>....\n  public static void parse(String s) {\n    boolean quote = false;\n    int depth = 0;\n    int splitPoint = 1; // drop the first '['\n    for (int i = 0; i &lt; s.length(); i++) {\n      char c = s.charAt(i);\n      switch (c) {\n        case '\"':\n          quote = !quote;\n          break;\n        case '{':\n        case '[':\n          if (!quote) {\n            depth += 1;\n          }\n          break;\n        case '}':\n        case ']':\n          if (!quote) {\n            depth -= 1;\n          }\n          break;\n        case ',':\n          if (!quote &amp;&amp; depth == 1) {\n            System.out.println(s.substring(splitPoint, i).trim()); // or store\n            splitPoint = i + 1;\n          }\n          break;\n      }\n    }\n    System.out.println(s.substring(splitPoint, s.length() - 1).trim()); // or store\n  }\n....\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>675: test\n676: test1\n677: test2\n678: [[{\"id\":0,\"value\":\"15\"},{\"id\":1,\"value\":\"2\"},{\"id\":2,\"value\":\"2\"}],[{\"id\":0,\"value\":\"2\"},{\"id\":1,\"value\":\"3\"},{\"id\":2,\"value\":\"3\"}],[{\"id\":0,\"value\":\"5\"},{\"id\":1,\"value\":\"6\"},{\"id\":2,\"value\":\"6\"}],[{\"id\":0,\"value\":\"7\"},{\"id\":1,\"value\":\"8\"}],  [{\"id\":0,\"value\":\"99\"},\n{\"id\":1,\"value\":\"8\"},{\"id\":2,\"value\":\"7\"}]]\n</code></pre>\n\n<p>If you have access to the code that builds that string, you would ideally have it print something that's directly parseable as JSON, and then you would have no need to do manual processing.</p>\n"}],"owner":{"account_id":1402893,"reputation":886,"user_id":1331332,"accept_rate":93,"display_name":"mhorgan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":32498016,"answer_count":1,"score":3,"last_activity_date":1654806539,"creation_date":1441877012,"question_id":32497948,"body_markdown":"I am trying to split the string below, but I want to exclude everything in the `[[......]]`. I have tried using multiple suggestions that I have found here already, but none of them are working. \r\n\r\n    [675: test, 676: test1, 677: test2, 678: [[{&quot;id&quot;:0,&quot;value&quot;:&quot;15&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;2&quot;},\r\n    {&quot;id&quot;:2,&quot;value&quot;:&quot;2&quot;}],[{&quot;id&quot;:0,&quot;value&quot;:&quot;2&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;3&quot;},\r\n    {&quot;id&quot;:2,&quot;value&quot;:&quot;3&quot;}],[{&quot;id&quot;:0,&quot;value&quot;:&quot;5&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;6&quot;},\r\n    {&quot;id&quot;:2,&quot;value&quot;:&quot;6&quot;}],[{&quot;id&quot;:0,&quot;value&quot;:&quot;7&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;8&quot;}],\r\n    [{&quot;id&quot;:0,&quot;value&quot;:&quot;99&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;8&quot;},{&quot;id&quot;:2,&quot;value&quot;:&quot;7&quot;}]]]\r\n\r\nI want to be able to get a result like this:\r\n\r\n    675: test \r\n    676: test1 \r\n    677: test2 \r\n    678: [[{&quot;id&quot;:0,&quot;value&quot;:&quot;15&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;2&quot;}, {&quot;id&quot;:2,&quot;value&quot;:&quot;2&quot;}], \r\n         [{&quot;id&quot;:0,&quot;value&quot;:&quot;2&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;3&quot;},{&quot;id&quot;:2,&quot;value&quot;:&quot;3&quot;}],       \r\n         [{&quot;id&quot;:0,&quot;value&quot;:&quot;5&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;6&quot;}, {&quot;id&quot;:2,&quot;value&quot;:&quot;6&quot;}],\r\n         [{&quot;id&quot;:0,&quot;value&quot;:&quot;7&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;8&quot;}],\r\n         [{&quot;id&quot;:0,&quot;value&quot;:&quot;99&quot;},{&quot;id&quot;:1,&quot;value&quot;:&quot;8&quot;},{&quot;id&quot;:2,&quot;value&quot;:&quot;7&quot;}]]]\r\n\r\nI tried splitting the string by commas but that split up all the data contained within the square brackets also. \r\n\r\nThanks","title":"Java Regex - Split comma separated list but exclude commas within square brackets","body":"<p>I am trying to split the string below, but I want to exclude everything in the <code>[[......]]</code>. I have tried using multiple suggestions that I have found here already, but none of them are working. </p>\n\n<pre><code>[675: test, 676: test1, 677: test2, 678: [[{\"id\":0,\"value\":\"15\"},{\"id\":1,\"value\":\"2\"},\n{\"id\":2,\"value\":\"2\"}],[{\"id\":0,\"value\":\"2\"},{\"id\":1,\"value\":\"3\"},\n{\"id\":2,\"value\":\"3\"}],[{\"id\":0,\"value\":\"5\"},{\"id\":1,\"value\":\"6\"},\n{\"id\":2,\"value\":\"6\"}],[{\"id\":0,\"value\":\"7\"},{\"id\":1,\"value\":\"8\"}],\n[{\"id\":0,\"value\":\"99\"},{\"id\":1,\"value\":\"8\"},{\"id\":2,\"value\":\"7\"}]]]\n</code></pre>\n\n<p>I want to be able to get a result like this:</p>\n\n<pre><code>675: test \n676: test1 \n677: test2 \n678: [[{\"id\":0,\"value\":\"15\"},{\"id\":1,\"value\":\"2\"}, {\"id\":2,\"value\":\"2\"}], \n     [{\"id\":0,\"value\":\"2\"},{\"id\":1,\"value\":\"3\"},{\"id\":2,\"value\":\"3\"}],       \n     [{\"id\":0,\"value\":\"5\"},{\"id\":1,\"value\":\"6\"}, {\"id\":2,\"value\":\"6\"}],\n     [{\"id\":0,\"value\":\"7\"},{\"id\":1,\"value\":\"8\"}],\n     [{\"id\":0,\"value\":\"99\"},{\"id\":1,\"value\":\"8\"},{\"id\":2,\"value\":\"7\"}]]]\n</code></pre>\n\n<p>I tried splitting the string by commas but that split up all the data contained within the square brackets also. </p>\n\n<p>Thanks</p>\n"},{"tags":["java","math"],"answers":[{"tags":[],"owner":{"account_id":78181,"reputation":46967,"user_id":222674,"accept_rate":97,"display_name":"Petar Minchev"},"down_vote_count":2,"up_vote_count":40,"is_accepted":false,"score":38,"last_activity_date":1470774418,"creation_date":1320871447,"answer_id":8071402,"question_id":8071363,"body_markdown":"No, there is not something as short as `a**b`\r\n\r\nHere is a simple loop, if you want to avoid doubles:\r\n\r\n    long result = 1;\r\n    for (int i = 1; i &lt;= b; i++) {\r\n       result *= a;\r\n    }\r\n\r\nIf you want to use `pow` and convert the result in to integer, cast the result as follows:\r\n\r\n    int result = (int)Math.pow(a, b);","title":"Calculating powers of integers","body":"<p>No, there is not something as short as <code>a**b</code></p>\n\n<p>Here is a simple loop, if you want to avoid doubles:</p>\n\n<pre><code>long result = 1;\nfor (int i = 1; i &lt;= b; i++) {\n   result *= a;\n}\n</code></pre>\n\n<p>If you want to use <code>pow</code> and convert the result in to integer, cast the result as follows:</p>\n\n<pre><code>int result = (int)Math.pow(a, b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":3,"up_vote_count":64,"is_accepted":true,"score":61,"last_activity_date":1550597905,"creation_date":1320871646,"answer_id":8071453,"question_id":8071363,"body_markdown":"Integers are only 32 bits. This means that its max value is `2^31 -1`. As you see, for very small numbers, you quickly have a result which can&#39;t be represented by an integer anymore. That&#39;s why `Math.pow` uses `double`. \r\n\r\nIf you want arbitrary integer precision, use [`BigInteger.pow`][1]. But it&#39;s of course less efficient.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/math/BigInteger.html#pow%28int%29","title":"Calculating powers of integers","body":"<p>Integers are only 32 bits. This means that its max value is <code>2^31 -1</code>. As you see, for very small numbers, you quickly have a result which can't be represented by an integer anymore. That's why <code>Math.pow</code> uses <code>double</code>. </p>\n\n<p>If you want arbitrary integer precision, use <a href=\"http://download.oracle.com/javase/6/docs/api/java/math/BigInteger.html#pow%28int%29\" rel=\"noreferrer\"><code>BigInteger.pow</code></a>. But it's of course less efficient.</p>\n"},{"tags":[],"owner":{"account_id":2457393,"reputation":49,"user_id":2142246,"display_name":"mark lamban"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1547665009,"creation_date":1362615687,"answer_id":15260831,"question_id":8071363,"body_markdown":"    import java.util.*;\r\n\r\n    public class Power {\r\n    \r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \t\tint num = 0;\r\n    \t\tint pow = 0;\r\n    \t\tint power = 0;\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Enter number: &quot;);\r\n    \t\tnum = sc.nextInt();\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Enter power: &quot;);\r\n    \t\tpow = sc.nextInt();\r\n    \t\t\r\n    \t\tSystem.out.print(power(num,pow));\r\n    \t}\r\n\r\n    \tpublic static int power(int a, int b)\r\n    \t{\r\n    \t\tint power = 1;\r\n\r\n    \t\tfor(int c = 0; c &lt; b; c++)\r\n    \t\t\tpower *= a;\r\n\r\n    \t\treturn power;\r\n    \t}\r\n    \t\t  \r\n    }\r\n\r\n","title":"Calculating powers of integers","body":"<pre><code>import java.util.*;\n\npublic class Power {\n\n    public static void main(String args[])\n    {\n        Scanner sc=new Scanner(System.in);\n        int num = 0;\n        int pow = 0;\n        int power = 0;\n\n        System.out.print(\"Enter number: \");\n        num = sc.nextInt();\n\n        System.out.print(\"Enter power: \");\n        pow = sc.nextInt();\n\n        System.out.print(power(num,pow));\n    }\n\n    public static int power(int a, int b)\n    {\n        int power = 1;\n\n        for(int c = 0; c &lt; b; c++)\n            power *= a;\n\n        return power;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3823840,"reputation":667,"user_id":3171171,"display_name":"Laakal"},"down_vote_count":4,"up_vote_count":46,"is_accepted":false,"score":42,"last_activity_date":1407531211,"creation_date":1389139144,"answer_id":20984477,"question_id":8071363,"body_markdown":"Best the algorithm is based on the recursive power definition of a^b.\r\n\r\n\r\n    long pow (long a, int b)\r\n    {\r\n    \tif ( b == 0) \t\treturn 1;\r\n    \tif ( b == 1)\t\treturn a;\r\n    \tif (isEven( b )) \treturn     pow ( a * a, b/2); //even a=(a^2)^b/2\r\n        else                return a * pow ( a * a, b/2); //odd  a=a*(a^2)^b/2\r\n    \r\n    }\r\n\r\nRunning time of  the operation is O(logb).\r\nReference:[More information][1]\r\n\r\n\r\n  [1]: http://faculty.simpson.edu/lydia.sinapova/www/cmsc250/LN250_Weiss/L04-BigOh.htm","title":"Calculating powers of integers","body":"<p>Best the algorithm is based on the recursive power definition of a^b.</p>\n\n<pre><code>long pow (long a, int b)\n{\n    if ( b == 0)        return 1;\n    if ( b == 1)        return a;\n    if (isEven( b ))    return     pow ( a * a, b/2); //even a=(a^2)^b/2\n    else                return a * pow ( a * a, b/2); //odd  a=a*(a^2)^b/2\n\n}\n</code></pre>\n\n<p>Running time of  the operation is O(logb).\nReference:<a href=\"http://faculty.simpson.edu/lydia.sinapova/www/cmsc250/LN250_Weiss/L04-BigOh.htm\" rel=\"noreferrer\">More information</a></p>\n"},{"tags":[],"owner":{"account_id":219024,"reputation":171,"user_id":1685162,"display_name":"ant"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1471438752,"creation_date":1409403979,"answer_id":25582692,"question_id":8071363,"body_markdown":"Google Guava has math utilities for integers.\r\n[IntMath][1]\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/math/IntMath.html","title":"Calculating powers of integers","body":"<p>Google Guava has math utilities for integers.\n<a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/math/IntMath.html\" rel=\"noreferrer\">IntMath</a></p>\n"},{"tags":[],"owner":{"account_id":2498526,"reputation":1268,"user_id":2174310,"accept_rate":81,"display_name":"Smarty77"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440589847,"creation_date":1440589847,"answer_id":32225878,"question_id":8071363,"body_markdown":"I managed to modify(boundaries, even check, negative nums check) Qx__ answer. Use at your own risk. 0^-1, 0^-2 etc.. returns 0.\r\n\r\n    private static int pow(int x, int n) {\r\n    \t\tif (n == 0)\r\n    \t\t\treturn 1;\r\n    \t\tif (n == 1)\r\n    \t\t\treturn x;\r\n    \t\tif (n &lt; 0) { // always 1^xx = 1 &amp;&amp; 2^-1 (=0.5 --&gt; ~ 1 )\r\n    \t\t\tif (x == 1 || (x == 2 &amp;&amp; n == -1))\r\n    \t\t\t\treturn 1;\r\n    \t\t\telse\r\n    \t\t\t\treturn 0;\r\n    \t\t}\r\n    \t\tif ((n &amp; 1) == 0) { //is even \r\n    \t\t\tlong num = pow(x * x, n / 2);\r\n    \t\t\tif (num &gt; Integer.MAX_VALUE) //check bounds\r\n    \t\t\t\treturn Integer.MAX_VALUE; \r\n    \t\t\treturn (int) num;\r\n    \t\t} else {\r\n    \t\t\tlong num = x * pow(x * x, n / 2);\r\n    \t\t\tif (num &gt; Integer.MAX_VALUE) //check bounds\r\n    \t\t\t\treturn Integer.MAX_VALUE;\r\n    \t\t\treturn (int) num;\r\n    \t\t}\r\n    \t}","title":"Calculating powers of integers","body":"<p>I managed to modify(boundaries, even check, negative nums check) Qx__ answer. Use at your own risk. 0^-1, 0^-2 etc.. returns 0.</p>\n\n<pre><code>private static int pow(int x, int n) {\n        if (n == 0)\n            return 1;\n        if (n == 1)\n            return x;\n        if (n &lt; 0) { // always 1^xx = 1 &amp;&amp; 2^-1 (=0.5 --&gt; ~ 1 )\n            if (x == 1 || (x == 2 &amp;&amp; n == -1))\n                return 1;\n            else\n                return 0;\n        }\n        if ((n &amp; 1) == 0) { //is even \n            long num = pow(x * x, n / 2);\n            if (num &gt; Integer.MAX_VALUE) //check bounds\n                return Integer.MAX_VALUE; \n            return (int) num;\n        } else {\n            long num = x * pow(x * x, n / 2);\n            if (num &gt; Integer.MAX_VALUE) //check bounds\n                return Integer.MAX_VALUE;\n            return (int) num;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50030,"reputation":61435,"user_id":149138,"accept_rate":56,"display_name":"BeeOnRope"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497568804,"creation_date":1464911287,"answer_id":37603878,"question_id":8071363,"body_markdown":"Guava&#39;s math libraries offer two methods that are useful when calculating exact integer powers:\r\n\r\n[`pow(int b, int k)`](https://google.github.io/guava/releases/19.0/api/docs/com/google/common/math/IntMath.html#checkedPow%28int,%20int%29) calculates b to the kth the power, and wraps on overflow\r\n\r\n[`checkedPow(int b, int k)`](https://google.github.io/guava/releases/19.0/api/docs/com/google/common/math/IntMath.html#checkedPow%28int,%20int%29) is identical except that it throws `ArithmeticException` on overflow\r\n\r\nPersonally `checkedPow()` meets most of my needs for integer exponentiation and is cleaner and safter than using the double versions and rounding, etc. In almost all the places I want a power function, overflow is an error (or impossible, but I want to be told if the impossible ever becomes possible).\r\n\r\nIf you want get a `long` result, you can just use the corresponding [`LongMath`](https://google.github.io/guava/releases/19.0/api/docs/com/google/common/math/LongMath.html#checkedPow%28long,%20int%29) methods and pass `int` arguments.","title":"Calculating powers of integers","body":"<p>Guava's math libraries offer two methods that are useful when calculating exact integer powers:</p>\n\n<p><a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/math/IntMath.html#checkedPow%28int,%20int%29\" rel=\"nofollow noreferrer\"><code>pow(int b, int k)</code></a> calculates b to the kth the power, and wraps on overflow</p>\n\n<p><a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/math/IntMath.html#checkedPow%28int,%20int%29\" rel=\"nofollow noreferrer\"><code>checkedPow(int b, int k)</code></a> is identical except that it throws <code>ArithmeticException</code> on overflow</p>\n\n<p>Personally <code>checkedPow()</code> meets most of my needs for integer exponentiation and is cleaner and safter than using the double versions and rounding, etc. In almost all the places I want a power function, overflow is an error (or impossible, but I want to be told if the impossible ever becomes possible).</p>\n\n<p>If you want get a <code>long</code> result, you can just use the corresponding <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/math/LongMath.html#checkedPow%28long,%20int%29\" rel=\"nofollow noreferrer\"><code>LongMath</code></a> methods and pass <code>int</code> arguments.</p>\n"},{"tags":[],"owner":{"account_id":11066464,"reputation":307,"user_id":8126119,"display_name":"Shubham Srivastava"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1499175501,"creation_date":1499175501,"answer_id":44907550,"question_id":8071363,"body_markdown":"Well you can simply use `Math.pow(a,b)` as you have used earlier and just convert its value by using `(int)` before it. Below could be used as an example to it.\r\n\r\n    int x = (int) Math.pow(a,b);\r\nwhere `a` and `b` could be `double` or `int` values as you want.\r\nThis will simply convert its output to an integer value as you required.","title":"Calculating powers of integers","body":"<p>Well you can simply use <code>Math.pow(a,b)</code> as you have used earlier and just convert its value by using <code>(int)</code> before it. Below could be used as an example to it.</p>\n\n<pre><code>int x = (int) Math.pow(a,b);\n</code></pre>\n\n<p>where <code>a</code> and <code>b</code> could be <code>double</code> or <code>int</code> values as you want.\nThis will simply convert its output to an integer value as you required.</p>\n"},{"tags":[],"owner":{"account_id":2197912,"reputation":1425,"user_id":1943126,"display_name":"Michail Alexakis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500419305,"creation_date":1500419305,"answer_id":45178514,"question_id":8071363,"body_markdown":"A simple (no checks for overflow or for validity of arguments) implementation for the repeated-squaring algorithm for computing the power:\r\n     \r\n    /** Compute a**p, assume result fits in a 32-bit signed integer */ \r\n    int pow(int a, int p)\r\n    {\r\n        int res = 1;\r\n        int i1 = 31 - Integer.numberOfLeadingZeros(p); // highest bit index\r\n        for (int i = i1; i &gt;= 0; --i) {\r\n            res *= res;\r\n            if ((p &amp; (1&lt;&lt;i)) &gt; 0)\r\n                res *= a;\r\n        }\r\n        return res;\r\n    }\r\n\r\nThe time complexity is logarithmic to exponent p (i.e. linear to the number of bits required to represent p).","title":"Calculating powers of integers","body":"<p>A simple (no checks for overflow or for validity of arguments) implementation for the repeated-squaring algorithm for computing the power:</p>\n\n<pre><code>/** Compute a**p, assume result fits in a 32-bit signed integer */ \nint pow(int a, int p)\n{\n    int res = 1;\n    int i1 = 31 - Integer.numberOfLeadingZeros(p); // highest bit index\n    for (int i = i1; i &gt;= 0; --i) {\n        res *= res;\n        if ((p &amp; (1&lt;&lt;i)) &gt; 0)\n            res *= a;\n    }\n    return res;\n}\n</code></pre>\n\n<p>The time complexity is logarithmic to exponent p (i.e. linear to the number of bits required to represent p).</p>\n"},{"tags":[],"owner":{"account_id":9227023,"reputation":206,"user_id":6854499,"display_name":"Pritam Mullick"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1503300329,"creation_date":1503300329,"answer_id":45791441,"question_id":8071363,"body_markdown":"Unlike Python (where powers can be calculated by a**b) , JAVA has no such shortcut way of accomplishing the result of the power of two numbers.\r\n&lt;!-- language: lang-java --&gt;\r\nJava has function named pow in the Math class, which returns a Double value\r\n\r\n    double pow(double base, double exponent)\r\n\r\nBut you can also calculate powers of integer using the same function. In the following program I did the same and finally I am converting the result into an integer (typecasting). Follow the example:\r\n\r\n    import java.util.*;\r\n    import java.lang.*; // CONTAINS THE Math library\r\n    public class Main{\r\n        public static void main(String[] args){\r\n            Scanner sc = new Scanner(System.in);\r\n            int n= sc.nextInt(); // Accept integer n\r\n            int m = sc.nextInt(); // Accept integer m\r\n            int ans = (int) Math.pow(n,m); // Calculates n ^ m\r\n            System.out.println(ans); // prints answers\r\n        }\r\n    }\r\n\r\nAlternatively,\r\nThe `java.math.BigInteger.pow(int exponent)` returns a BigInteger whose value is (this^exponent). The exponent is an integer rather than a BigInteger. Example:\r\n\r\n    import java.math.*;\r\n    public class BigIntegerDemo {\r\n    public static void main(String[] args) {\r\n          BigInteger bi1, bi2; // create 2 BigInteger objects          \r\n          int exponent = 2; // create and assign value to exponent\r\n          // assign value to bi1\r\n          bi1 = new BigInteger(&quot;6&quot;);\r\n          // perform pow operation on bi1 using exponent\r\n          bi2 = bi1.pow(exponent);\r\n          String str = &quot;Result is &quot; + bi1 + &quot;^&quot; +exponent+ &quot; = &quot; +bi2;\r\n          // print bi2 value\r\n          System.out.println( str );\r\n       }\r\n    }\r\n\r\n","title":"Calculating powers of integers","body":"<p>Unlike Python (where powers can be calculated by a**b) , JAVA has no such shortcut way of accomplishing the result of the power of two numbers.\nJava has function named pow in the Math class, which returns a Double value</p>\n\n<pre><code>double pow(double base, double exponent)\n</code></pre>\n\n<p>But you can also calculate powers of integer using the same function. In the following program I did the same and finally I am converting the result into an integer (typecasting). Follow the example:</p>\n\n<pre><code>import java.util.*;\nimport java.lang.*; // CONTAINS THE Math library\npublic class Main{\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        int n= sc.nextInt(); // Accept integer n\n        int m = sc.nextInt(); // Accept integer m\n        int ans = (int) Math.pow(n,m); // Calculates n ^ m\n        System.out.println(ans); // prints answers\n    }\n}\n</code></pre>\n\n<p>Alternatively,\nThe <code>java.math.BigInteger.pow(int exponent)</code> returns a BigInteger whose value is (this^exponent). The exponent is an integer rather than a BigInteger. Example:</p>\n\n<pre><code>import java.math.*;\npublic class BigIntegerDemo {\npublic static void main(String[] args) {\n      BigInteger bi1, bi2; // create 2 BigInteger objects          \n      int exponent = 2; // create and assign value to exponent\n      // assign value to bi1\n      bi1 = new BigInteger(\"6\");\n      // perform pow operation on bi1 using exponent\n      bi2 = bi1.pow(exponent);\n      String str = \"Result is \" + bi1 + \"^\" +exponent+ \" = \" +bi2;\n      // print bi2 value\n      System.out.println( str );\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5305676,"reputation":1318,"user_id":4233693,"accept_rate":29,"display_name":"Stanislaw Baranski"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1549481128,"creation_date":1513711378,"answer_id":47893863,"question_id":8071363,"body_markdown":"When it&#39;s power of 2. Take in mind, that you can use simple and fast shift expression `1 &lt;&lt; exponent`\r\n\r\nexample:\r\n\r\n2&lt;sup&gt;2&lt;/sup&gt; = `1 &lt;&lt; 2` = `(int) Math.pow(2, 2)`&lt;br&gt;\r\n2&lt;sup&gt;10&lt;/sup&gt; = `1 &lt;&lt; 10` = `(int) Math.pow(2, 10)`\r\n\r\n\r\nFor larger exponents (over 31) use long instead\r\n\r\n2&lt;sup&gt;32&lt;/sup&gt; = `1L &lt;&lt; 32` = `(long) Math.pow(2, 32)`\r\n\r\nbtw. in Kotlin you have ```shl``` instead of ```&lt;&lt;``` so\r\n\r\n(java) `1L &lt;&lt; 32` = `1L shl 32` (kotlin)\r\n\r\n","title":"Calculating powers of integers","body":"<p>When it's power of 2. Take in mind, that you can use simple and fast shift expression <code>1 &lt;&lt; exponent</code></p>\n\n<p>example:</p>\n\n<p>2<sup>2</sup> = <code>1 &lt;&lt; 2</code> = <code>(int) Math.pow(2, 2)</code><br>\n2<sup>10</sup> = <code>1 &lt;&lt; 10</code> = <code>(int) Math.pow(2, 10)</code></p>\n\n<p>For larger exponents (over 31) use long instead</p>\n\n<p>2<sup>32</sup> = <code>1L &lt;&lt; 32</code> = <code>(long) Math.pow(2, 32)</code></p>\n\n<p>btw. in Kotlin you have <code>shl</code> instead of <code>&lt;&lt;</code> so</p>\n\n<p>(java) <code>1L &lt;&lt; 32</code> = <code>1L shl 32</code> (kotlin)</p>\n"},{"tags":[],"owner":{"account_id":9668806,"reputation":67,"user_id":7174493,"display_name":"Yuvaraj Ram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529965183,"creation_date":1518680047,"answer_id":48802022,"question_id":8071363,"body_markdown":"Use the below logic to calculate the n power of a.\r\n\r\nNormally if we want to calculate n power of a. We will multiply &#39;a&#39; by n number of times.Time complexity of this approach will be O(n)\r\nSplit the power n by 2, calculate Exponentattion = multiply &#39;a&#39; till n/2 only. Double the value. Now the Time Complexity is reduced to O(n/2).\r\n\r\n   \r\n\r\n    public  int calculatePower1(int a, int b) {\r\n        if (b == 0) {\r\n            return 1;\r\n\t\t}\r\n\t\t\r\n\t\tint val = (b % 2 == 0) ? (b / 2) : (b - 1) / 2;\r\n\r\n\t\tint temp = 1;\r\n\t\tfor (int i = 1; i &lt;= val; i++) {\r\n\t\t\ttemp *= a;\r\n\t\t}\r\n\t\t\r\n\t\tif (b % 2 == 0) {\r\n\t\t\treturn temp * temp;\r\n\t\t} else {\r\n\t\t\treturn a * temp * temp;\r\n\t\t}\r\n\t}","title":"Calculating powers of integers","body":"<p>Use the below logic to calculate the n power of a.</p>\n\n<p>Normally if we want to calculate n power of a. We will multiply 'a' by n number of times.Time complexity of this approach will be O(n)\nSplit the power n by 2, calculate Exponentattion = multiply 'a' till n/2 only. Double the value. Now the Time Complexity is reduced to O(n/2).</p>\n\n<pre><code>public  int calculatePower1(int a, int b) {\n    if (b == 0) {\n        return 1;\n    }\n\n    int val = (b % 2 == 0) ? (b / 2) : (b - 1) / 2;\n\n    int temp = 1;\n    for (int i = 1; i &lt;= val; i++) {\n        temp *= a;\n    }\n\n    if (b % 2 == 0) {\n        return temp * temp;\n    } else {\n        return a * temp * temp;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14070224,"reputation":31,"user_id":10163903,"display_name":"Morriss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533175849,"creation_date":1533175849,"answer_id":51644566,"question_id":8071363,"body_markdown":" base is the number that you want to power up, n is the power, we return 1 if n is 0, and we return the base if the n is 1, if the conditions are not met, we use the formula **base*(powerN(base,n-1))** eg: 2 raised to to using this formula is : 2(base)*2(powerN(base,n-1)).\r\n\r\n    public int power(int base, int n){\r\n       return n == 0 ? 1 : (n == 1 ? base : base*(power(base,n-1)));\r\n    }\r\n\r\n\r\n","title":"Calculating powers of integers","body":"<p>base is the number that you want to power up, n is the power, we return 1 if n is 0, and we return the base if the n is 1, if the conditions are not met, we use the formula <strong>base*(powerN(base,n-1))</strong> eg: 2 raised to to using this formula is : 2(base)*2(powerN(base,n-1)).</p>\n\n<pre><code>public int power(int base, int n){\n   return n == 0 ? 1 : (n == 1 ? base : base*(power(base,n-1)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10219947,"reputation":21,"user_id":7544425,"display_name":"Yerassyl Aben"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589818371,"creation_date":1589818371,"answer_id":61874059,"question_id":8071363,"body_markdown":"**There some issues with pow method:**\r\n\r\n 1. We can replace (y &amp; 1) == 0; with y % 2 == 0  \r\n    bitwise operations always are faster.\r\n\r\nYour code always decrements y and performs extra multiplication, including the cases when y is even. It&#39;s better to put this part into else clause.\r\n\r\n\r\n\r\n   \r\n\r\n    public static long pow(long x, int y) {\r\n            long result = 1;\r\n            while (y &gt; 0) {\r\n                if ((y &amp; 1) == 0) {\r\n                    x *= x;\r\n                    y &gt;&gt;&gt;= 1;\r\n                } else {\r\n                    result *= x;\r\n                    y--;\r\n                }\r\n            }\r\n            return result;\r\n        }","title":"Calculating powers of integers","body":"<p><strong>There some issues with pow method:</strong></p>\n\n<ol>\n<li>We can replace (y &amp; 1) == 0; with y % 2 == 0<br>\nbitwise operations always are faster.</li>\n</ol>\n\n<p>Your code always decrements y and performs extra multiplication, including the cases when y is even. It's better to put this part into else clause.</p>\n\n<pre><code>public static long pow(long x, int y) {\n        long result = 1;\n        while (y &gt; 0) {\n            if ((y &amp; 1) == 0) {\n                x *= x;\n                y &gt;&gt;&gt;= 1;\n            } else {\n                result *= x;\n                y--;\n            }\n        }\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":426050,"reputation":18998,"user_id":807037,"accept_rate":66,"display_name":"Noel Yap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594683325,"creation_date":1594683325,"answer_id":62885897,"question_id":8071363,"body_markdown":"Apache has [`ArithmeticUtils.pow(int k, int e)`][1].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-math/javadocs/api-3.4/org/apache/commons/math3/util/ArithmeticUtils.html#pow(int,%20int)","title":"Calculating powers of integers","body":"<p>Apache has <a href=\"https://commons.apache.org/proper/commons-math/javadocs/api-3.4/org/apache/commons/math3/util/ArithmeticUtils.html#pow(int,%20int)\" rel=\"nofollow noreferrer\"><code>ArithmeticUtils.pow(int k, int e)</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":9154381,"reputation":1,"user_id":10218562,"display_name":"sudarshan padale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602419428,"creation_date":1602396336,"answer_id":64301076,"question_id":8071363,"body_markdown":"```java\r\nimport java.util.Scanner;\r\n\r\nclass Solution {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int t = sc.nextInt();\r\n\r\n        for (int i = 0; i &lt; t; i++) {\r\n\r\n            try {\r\n                long x = sc.nextLong();\r\n                System.out.println(x + &quot; can be fitted in:&quot;);\r\n                if (x &gt;= -128 &amp;&amp; x &lt;= 127) {\r\n                    System.out.println(&quot;* byte&quot;);\r\n                }\r\n                if (x &gt;= -32768 &amp;&amp; x &lt;= 32767) {\r\n                    //Complete the code\r\n                    System.out.println(&quot;* short&quot;);\r\n                    System.out.println(&quot;* int&quot;);\r\n                    System.out.println(&quot;* long&quot;);\r\n                } else if (x &gt;= -Math.pow(2, 31) &amp;&amp; x &lt;= Math.pow(2, 31) - 1) {\r\n                    System.out.println(&quot;* int&quot;);\r\n                    System.out.println(&quot;* long&quot;);\r\n                } else {\r\n                    System.out.println(&quot;* long&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(sc.next() + &quot; can&#39;t be fitted anywhere.&quot;);\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n```","title":"Calculating powers of integers","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\nclass Solution {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int t = sc.nextInt();\n\n        for (int i = 0; i &lt; t; i++) {\n\n            try {\n                long x = sc.nextLong();\n                System.out.println(x + &quot; can be fitted in:&quot;);\n                if (x &gt;= -128 &amp;&amp; x &lt;= 127) {\n                    System.out.println(&quot;* byte&quot;);\n                }\n                if (x &gt;= -32768 &amp;&amp; x &lt;= 32767) {\n                    //Complete the code\n                    System.out.println(&quot;* short&quot;);\n                    System.out.println(&quot;* int&quot;);\n                    System.out.println(&quot;* long&quot;);\n                } else if (x &gt;= -Math.pow(2, 31) &amp;&amp; x &lt;= Math.pow(2, 31) - 1) {\n                    System.out.println(&quot;* int&quot;);\n                    System.out.println(&quot;* long&quot;);\n                } else {\n                    System.out.println(&quot;* long&quot;);\n                }\n            } catch (Exception e) {\n                System.out.println(sc.next() + &quot; can't be fitted anywhere.&quot;);\n            }\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8491468,"reputation":879,"user_id":8461756,"display_name":"Sandeep Dixit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645249750,"creation_date":1645249750,"answer_id":71182528,"question_id":8071363,"body_markdown":"int arguments are acceptable when there is a double paramter. So Math.pow(a,b) will work for int arguments. It returns double you just need to cast to int.\r\n\r\n    int i =  (int) Math.pow(3,10); \r\n\r\n\r\n\r\n","title":"Calculating powers of integers","body":"<p>int arguments are acceptable when there is a double paramter. So Math.pow(a,b) will work for int arguments. It returns double you just need to cast to int.</p>\n<pre><code>int i =  (int) Math.pow(3,10); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":25516426,"reputation":1,"user_id":19307207,"display_name":"Baireddy Naresh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654806121,"creation_date":1654780680,"answer_id":72560994,"question_id":8071363,"body_markdown":"Without using pow function and +ve and -ve pow values.\r\n\r\n~~~java \r\npublic class PowFunction {\r\n\r\n    public static void main(String[] args) {\r\n        int x = 5;\r\n        int y = -3;\r\n        System.out.println( x + &quot; raised to the power of &quot; + y + &quot; is &quot; + Math.pow(x,y));\r\n        float temp =1;\r\n        if(y&gt;0){\r\n            for(;y&gt;0;y--){\r\n                temp = temp*x;\r\n            }\r\n        } else {\r\n            for(;y&lt;0;y++){\r\n                temp = temp*x;\r\n            }\r\n            temp = 1/temp;\r\n        }\r\n        System.out.println(&quot;power value without using pow method.  :: &quot;+temp);\r\n    }\r\n}\r\n~~~","title":"Calculating powers of integers","body":"<p>Without using pow function and +ve and -ve pow values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PowFunction {\n\n    public static void main(String[] args) {\n        int x = 5;\n        int y = -3;\n        System.out.println( x + &quot; raised to the power of &quot; + y + &quot; is &quot; + Math.pow(x,y));\n        float temp =1;\n        if(y&gt;0){\n            for(;y&gt;0;y--){\n                temp = temp*x;\n            }\n        } else {\n            for(;y&lt;0;y++){\n                temp = temp*x;\n            }\n            temp = 1/temp;\n        }\n        System.out.println(&quot;power value without using pow method.  :: &quot;+temp);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":365916,"reputation":11573,"user_id":711129,"accept_rate":97,"display_name":"Hidde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456660,"favorite_count":0,"down_vote_count":0,"up_vote_count":105,"accepted_answer_id":8071453,"answer_count":18,"score":105,"last_activity_date":1654806121,"creation_date":1320871246,"question_id":8071363,"body_markdown":"Is there any other way in Java to calculate a power of an integer?\r\n\r\nI use `Math.pow(a, b)` now, but it returns a `double`, and that is usually a lot of work, and looks less clean when you just want to use `int`s (a power will then also always result in an `int`). \r\n\r\nIs there something as simple as `a**b` like in Python?","title":"Calculating powers of integers","body":"<p>Is there any other way in Java to calculate a power of an integer?</p>\n\n<p>I use <code>Math.pow(a, b)</code> now, but it returns a <code>double</code>, and that is usually a lot of work, and looks less clean when you just want to use <code>int</code>s (a power will then also always result in an <code>int</code>). </p>\n\n<p>Is there something as simple as <code>a**b</code> like in Python?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1654729741,"post_id":72553014,"comment_id":128164305,"body_markdown":"I&#39;d be tempted to make use of [OpenCSV](https://www.baeldung.com/opencsv), but failing that, I&#39;d read the file contents into a `List` of some kind and then just cherry pick the row the user selected","body":"I&#39;d be tempted to make use of <a href=\"https://www.baeldung.com/opencsv\" rel=\"nofollow noreferrer\">OpenCSV</a>, but failing that, I&#39;d read the file contents into a <code>List</code> of some kind and then just cherry pick the row the user selected"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1654729946,"post_id":72553014,"comment_id":128164350,"body_markdown":"Or failing that, with the code you already have `if (line.startsWith(userSelection + &quot;,&quot;)) { //store it }`","body":"Or failing that, with the code you already have <code>if (line.startsWith(userSelection + &quot;,&quot;)) { &#47;&#47;store it }</code>"},{"owner":{"account_id":8519084,"reputation":409,"user_id":6386639,"display_name":"Vivek Swansi"},"score":0,"creation_date":1654741677,"post_id":72553014,"comment_id":128165992,"body_markdown":"At this line String line = scanner.nextLine(); you can actually save the CSV to the collection and then ask for the user selection and fetch and store the user selection.\n\nFor ex - if the user selection is based on the index use the array/ArrayList else make use of the Map of cars and description.","body":"At this line String line = scanner.nextLine(); you can actually save the CSV to the collection and then ask for the user selection and fetch and store the user selection.  For ex - if the user selection is based on the index use the array/ArrayList else make use of the Map of cars and description."}],"answers":[{"tags":[],"owner":{"account_id":22049479,"reputation":41,"user_id":16313975,"display_name":"Drl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654805805,"creation_date":1654805805,"answer_id":72566171,"question_id":72553014,"body_markdown":"Your question is not clear. But following code will ask user for a number and print the correspondig csv line.\r\n\r\n     public static void carSelection() throws IOException {\r\n        \r\n        String CSVFileName = &quot;CarList.csv&quot;;\r\n        System.out.println(&quot;To make a booking:&quot;);\r\n        System.out.println(&quot;Select the car number from the car list&quot;);\r\n        // Enter data using BufferReader\r\n        BufferedReader reader = new BufferedReader(\r\n                new InputStreamReader(System.in));\r\n\r\n        Stream&lt;String&gt; lines = Files.lines(Paths.get(CSVFileName));\r\n        int inputNr = Integer.parseInt(reader.readLine());\r\n        String line = lines.skip(inputNr - 1).findFirst().get();\r\n        System.out.println(line);        \r\n    }","title":"How to select one row from multiple rows of strings and store the values separated by commars","body":"<p>Your question is not clear. But following code will ask user for a number and print the correspondig csv line.</p>\n<pre><code> public static void carSelection() throws IOException {\n    \n    String CSVFileName = &quot;CarList.csv&quot;;\n    System.out.println(&quot;To make a booking:&quot;);\n    System.out.println(&quot;Select the car number from the car list&quot;);\n    // Enter data using BufferReader\n    BufferedReader reader = new BufferedReader(\n            new InputStreamReader(System.in));\n\n    Stream&lt;String&gt; lines = Files.lines(Paths.get(CSVFileName));\n    int inputNr = Integer.parseInt(reader.readLine());\n    String line = lines.skip(inputNr - 1).findFirst().get();\n    System.out.println(line);        \n}\n</code></pre>\n"}],"owner":{"account_id":23604257,"reputation":1,"user_id":17640220,"display_name":"BigO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654805805,"creation_date":1654728680,"question_id":72553014,"body_markdown":"I have a csv file thats converted each row into strings and i want a user to select a numbe 1- 5 and it would store what row the user entered.\r\nThe string that has been made from the csv file is below.\r\n\r\n1,Mazda CX-9,7,Automatic ,Premium,150\r\n\r\n2,VW Golf,5,Automatic ,Standard,59\r\n\r\n3,Toyota Corolla,5,Automatic ,Premium,55\r\n\r\n4,VW Tiguan,7,Automatic ,Premium,110\r\n\r\n5,Ford Falcon,5,Manual,Standard,60\r\n\r\n\r\n\r\n    public static void carSelection() throws IOException{\r\n        String CSVFileName = &quot;CarList.csv&quot;;\r\n        File file = new File(CSVFileName);\r\n                System.out.println(&quot;To make a booking:&quot;);\r\n        System.out.println(&quot;     Select the car number from the car list&quot;);\r\n        try {\r\n            //reads file\r\n         Scanner scanner = new Scanner(file);\r\n         //while the file has lines to read\r\n        while (scanner.hasNextLine()) {\r\n            //  read the line to a string\r\n        String line = scanner.nextLine();\r\n    }\r\n        } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n      }\r\n    }","title":"How to select one row from multiple rows of strings and store the values separated by commars","body":"<p>I have a csv file thats converted each row into strings and i want a user to select a numbe 1- 5 and it would store what row the user entered.\nThe string that has been made from the csv file is below.</p>\n<p>1,Mazda CX-9,7,Automatic ,Premium,150</p>\n<p>2,VW Golf,5,Automatic ,Standard,59</p>\n<p>3,Toyota Corolla,5,Automatic ,Premium,55</p>\n<p>4,VW Tiguan,7,Automatic ,Premium,110</p>\n<p>5,Ford Falcon,5,Manual,Standard,60</p>\n<pre><code>public static void carSelection() throws IOException{\n    String CSVFileName = &quot;CarList.csv&quot;;\n    File file = new File(CSVFileName);\n            System.out.println(&quot;To make a booking:&quot;);\n    System.out.println(&quot;     Select the car number from the car list&quot;);\n    try {\n        //reads file\n     Scanner scanner = new Scanner(file);\n     //while the file has lines to read\n    while (scanner.hasNextLine()) {\n        //  read the line to a string\n    String line = scanner.nextLine();\n}\n    } catch (FileNotFoundException e) {\n            e.printStackTrace();\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1420444304,"post_id":27770852,"comment_id":43961295,"body_markdown":"Drop the `application.properties` in the same directory as the jar file, it will be picked up automatically.","body":"Drop the <code>application.properties</code> in the same directory as the jar file, it will be picked up automatically."},{"owner":{"account_id":2932936,"reputation":198,"user_id":2512637,"display_name":"greenhalos"},"score":0,"creation_date":1420455412,"post_id":27770852,"comment_id":43966274,"body_markdown":"I am using a war file, building with maven in Intellij and deploying into a Tomcat, so no jar-file","body":"I am using a war file, building with maven in Intellij and deploying into a Tomcat, so no jar-file"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1420456437,"post_id":27770852,"comment_id":43966761,"body_markdown":"Add to your question as that influences the answer. Regardless you should use option 2 as the properties loaded by Spring Boot are ordered specifically, adding a `@PropertySource` will add your loaded properties to the end of the chain of `PropertySource`s that are consulted.","body":"Add to your question as that influences the answer. Regardless you should use option 2 as the properties loaded by Spring Boot are ordered specifically, adding a <code>@PropertySource</code> will add your loaded properties to the end of the chain of <code>PropertySource</code>s that are consulted."},{"owner":{"account_id":462942,"reputation":341,"user_id":865554,"accept_rate":78,"display_name":"bwfrieds"},"score":0,"creation_date":1464205173,"post_id":27770852,"comment_id":62394522,"body_markdown":"greenhalos, did you ever find a resolution to this problem?  I have the same issue with my war file.  I&#39;d rather not add arguments/parameters to the tomcat startup config, but I will if I have to.","body":"greenhalos, did you ever find a resolution to this problem?  I have the same issue with my war file.  I&#39;d rather not add arguments/parameters to the tomcat startup config, but I will if I have to."},{"owner":{"account_id":2932936,"reputation":198,"user_id":2512637,"display_name":"greenhalos"},"score":0,"creation_date":1464246022,"post_id":27770852,"comment_id":62407891,"body_markdown":"mainly I needed this due to different developers who hab different database setups. I resolved the problem by placing the default application properties in the resource directory and the custom properties to override the default once wehre placed in a new directory config inside the resource directory. The properties in the config directory override the properties in the resource directory.\n\nIn production I set the properties in the tomcat script.\n\nI hope this is what you were looking for.","body":"mainly I needed this due to different developers who hab different database setups. I resolved the problem by placing the default application properties in the resource directory and the custom properties to override the default once wehre placed in a new directory config inside the resource directory. The properties in the config directory override the properties in the resource directory.  In production I set the properties in the tomcat script.  I hope this is what you were looking for."},{"owner":{"account_id":198078,"reputation":3106,"user_id":442528,"accept_rate":76,"display_name":"Janik Zikovsky"},"score":1,"creation_date":1527518948,"post_id":27770852,"comment_id":88147670,"body_markdown":"@M.Deinum - actually, I found that application.properties needs to be in the current working directory to get picked up.","body":"@M.Deinum - actually, I found that application.properties needs to be in the current working directory to get picked up."}],"answers":[{"tags":[],"owner":{"account_id":2855979,"reputation":1812,"user_id":2452245,"accept_rate":73,"display_name":"JR Utily"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1489593425,"creation_date":1420448262,"answer_id":27776123,"question_id":27770852,"body_markdown":"I always use `--spring.config.location=` in the command line as specified in the [documentation][1], and you can put various files in this, one with default values and another with the overridden ones.\r\n\r\nEdit:   \r\nAlternatively, you could also use something like :\r\n\r\n    @PropertySources({\r\n        @PropertySource(&quot;classpath:default.properties&quot;)\r\n        , @PropertySource(value = &quot;file:${external.config}&quot;, ignoreResourceNotFound = true)\r\n    })\r\n\r\nand specify a `external.config` in your application.properties.   \r\nThis would provide a default path for overridding config, that is still overriddable itself by specifying a `--external.config` in the command line.   \r\nI use this with `${external.config}` being defined as a system env variable, but it should work with a application.properties variable too.\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html","title":"Spring boot external application.properties","body":"<p>I always use <code>--spring.config.location=</code> in the command line as specified in the <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"noreferrer\">documentation</a>, and you can put various files in this, one with default values and another with the overridden ones.</p>\n\n<p>Edit:<br>\nAlternatively, you could also use something like :</p>\n\n<pre><code>@PropertySources({\n    @PropertySource(\"classpath:default.properties\")\n    , @PropertySource(value = \"file:${external.config}\", ignoreResourceNotFound = true)\n})\n</code></pre>\n\n<p>and specify a <code>external.config</code> in your application.properties.<br>\nThis would provide a default path for overridding config, that is still overriddable itself by specifying a <code>--external.config</code> in the command line.<br>\nI use this with <code>${external.config}</code> being defined as a system env variable, but it should work with a application.properties variable too.</p>\n"},{"tags":[],"owner":{"account_id":942344,"reputation":4204,"user_id":970200,"display_name":"Ian Lim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545268895,"creation_date":1545268895,"answer_id":53861306,"question_id":27770852,"body_markdown":"# Notes\r\n1) Tomcat allows you to define context parameters\r\n2) Spring Boot will read the properties defined in Tomcat context parameters as if you are defining them as -Dsomething=some_value\r\n\r\n# Options\r\n\r\n**Option 1:** Hence a possible way is for you to define **spring.config.location** at the Tomcat context paramter:\r\n\r\n    &lt;Context&gt;\r\n        &lt;Parameter name=&quot;spring.config.location&quot; value=&quot;/path/to/application.properties&quot; /&gt;\r\n    &lt;/Context&gt;\r\n\r\n**Option 2:** define a system property at the Tomcat&#39;s setenv.sh file\r\n\r\n    Dspring.config.location=/path/to/application.properties\r\n\r\n**Option 3:** define an environment variable: **SPRING_CONFIG_LOCATION**\r\n\r\n\r\n\r\n","title":"Spring boot external application.properties","body":"<h1>Notes</h1>\n\n<p>1) Tomcat allows you to define context parameters\n2) Spring Boot will read the properties defined in Tomcat context parameters as if you are defining them as -Dsomething=some_value</p>\n\n<h1>Options</h1>\n\n<p><strong>Option 1:</strong> Hence a possible way is for you to define <strong>spring.config.location</strong> at the Tomcat context paramter:</p>\n\n<pre><code>&lt;Context&gt;\n    &lt;Parameter name=\"spring.config.location\" value=\"/path/to/application.properties\" /&gt;\n&lt;/Context&gt;\n</code></pre>\n\n<p><strong>Option 2:</strong> define a system property at the Tomcat's setenv.sh file</p>\n\n<pre><code>Dspring.config.location=/path/to/application.properties\n</code></pre>\n\n<p><strong>Option 3:</strong> define an environment variable: <strong>SPRING_CONFIG_LOCATION</strong></p>\n"},{"tags":[],"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550507812,"creation_date":1550502574,"answer_id":54750185,"question_id":27770852,"body_markdown":"If you do not want to use any solution from above, you could do the following in the start of your `main(String args[])` method (before the usage of `SpringApplication.run(MyClass.class, args)`:\r\n\r\n    //Specifies a custom location for application.properties file.\r\n    System.setProperty(&quot;spring.config.location&quot;, &quot;target/config/application.properties&quot;);","title":"Spring boot external application.properties","body":"<p>If you do not want to use any solution from above, you could do the following in the start of your <code>main(String args[])</code> method (before the usage of <code>SpringApplication.run(MyClass.class, args)</code>:</p>\n\n<pre><code>//Specifies a custom location for application.properties file.\nSystem.setProperty(\"spring.config.location\", \"target/config/application.properties\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15194299,"reputation":122,"user_id":10964148,"display_name":"Ramzi Guetiti"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574956237,"creation_date":1574956237,"answer_id":59092435,"question_id":27770852,"body_markdown":"I had the same requirement like yours( war package instead of a fat jar)  and I manged to externalize the configuration file:\r\nIn my main class I made this configuration:\r\n\r\n    @SpringBootApplication\r\n    @PropertySource(&quot;file:D:\\\\Projets\\\\XXXXX\\\\Config\\\\application.properties&quot;)\r\n    public class WyApplication extends SpringBootServletInitializer {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(WyApplication.class, args);\r\n    \t}\r\n    \r\n    }   \r\n\r\nHope this will help you.\r\nGood luck.","title":"Spring boot external application.properties","body":"<p>I had the same requirement like yours( war package instead of a fat jar)  and I manged to externalize the configuration file:\nIn my main class I made this configuration:</p>\n\n<pre><code>@SpringBootApplication\n@PropertySource(\"file:D:\\\\Projets\\\\XXXXX\\\\Config\\\\application.properties\")\npublic class WyApplication extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(WyApplication.class, args);\n    }\n\n}   \n</code></pre>\n\n<p>Hope this will help you.\nGood luck.</p>\n"},{"tags":[],"owner":{"account_id":7504151,"reputation":235,"user_id":5701336,"display_name":"mhsallam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598144362,"creation_date":1598144362,"answer_id":63542477,"question_id":27770852,"body_markdown":"**Note:** The following solution will replace the old application.properties entirely\r\n\r\nYou can place your application.properties in one of the following locations:\r\n\r\n - Under /config sub-directory of the current directory\r\n - The current directory\r\n - A classpath /config package\r\n - The classpath root\r\n\r\nAnd then exclude the default one under resources directory, like:\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/application.properties&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\nFind more details in this [link][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-properties-file-outside-jar","title":"Spring boot external application.properties","body":"<p><strong>Note:</strong> The following solution will replace the old application.properties entirely</p>\n<p>You can place your application.properties in one of the following locations:</p>\n<ul>\n<li>Under /config sub-directory of the current directory</li>\n<li>The current directory</li>\n<li>A classpath /config package</li>\n<li>The classpath root</li>\n</ul>\n<p>And then exclude the default one under resources directory, like:</p>\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;**/application.properties&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Find more details in this <a href=\"https://www.baeldung.com/spring-properties-file-outside-jar\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":8327739,"reputation":309,"user_id":6257289,"display_name":"sebasdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621101262,"creation_date":1621101262,"answer_id":67549731,"question_id":27770852,"body_markdown":"Based on [@JR Utily][1] response this &quot;format&quot; work for me when use email config and multiple properties (I tried to use a `PropertySourcesPlaceholderConfigurer` Bean but for any reason don&#39;t take the email config):\r\n\r\n    @SpringBootApplication\r\n    @PropertySources({\r\n        @PropertySource(&quot;classpath:application.properties&quot;),\r\n        @PropertySource(value = &quot;file:/path/to/config1.properties&quot;, ignoreResourceNotFound = true),\r\n        @PropertySource(value = &quot;file:/path/to/config2.properties&quot;, ignoreResourceNotFound = true),\r\n        @PropertySource(value = &quot;file:/path/to/config3.properties&quot;, ignoreResourceNotFound = true)\r\n    })\r\n    public class ExampleApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ExampleApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/27776123/6257289","title":"Spring boot external application.properties","body":"<p>Based on <a href=\"https://stackoverflow.com/a/27776123/6257289\">@JR Utily</a> response this &quot;format&quot; work for me when use email config and multiple properties (I tried to use a <code>PropertySourcesPlaceholderConfigurer</code> Bean but for any reason don't take the email config):</p>\n<pre><code>@SpringBootApplication\n@PropertySources({\n    @PropertySource(&quot;classpath:application.properties&quot;),\n    @PropertySource(value = &quot;file:/path/to/config1.properties&quot;, ignoreResourceNotFound = true),\n    @PropertySource(value = &quot;file:/path/to/config2.properties&quot;, ignoreResourceNotFound = true),\n    @PropertySource(value = &quot;file:/path/to/config3.properties&quot;, ignoreResourceNotFound = true)\n})\npublic class ExampleApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ExampleApplication.class, args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14099234,"reputation":11,"user_id":10185005,"display_name":"Somanath Behera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654805569,"creation_date":1654663241,"answer_id":72540139,"question_id":27770852,"body_markdown":"Yes we can add application.properties file from external folder. The simplest way is \r\n\r\n~~~java\r\n@SpringBootApplication\r\npublic class ExternalAppPropertiesTest{\r\n\r\n    public static void main(String[] args) {\r\n        System.setProperties(&quot;spring.config.location&quot;,&quot;D:\\\\yourfoldername where application.properties added&quot;);\r\n        SpringApplication.run(ExternalAppPropertiesTest.class, args);\r\n    }\r\n}\r\n~~~\r\n\r\n N.B. - In case of externally application.properties access please don&#39;t use @PropertySources annotation and file path. It will not access your logging properties e.g. logging.file.name=yourlogfilename.log\r\n\r\nHere is one more suggestion, for code maintenance you can put your applcation.properties by renaming the file name in your src folder of spring boot application and maintain the changes which is done in external file.\r\n\r\n ","title":"Spring boot external application.properties","body":"<p>Yes we can add application.properties file from external folder. The simplest way is</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class ExternalAppPropertiesTest{\n\n    public static void main(String[] args) {\n        System.setProperties(&quot;spring.config.location&quot;,&quot;D:\\\\yourfoldername where application.properties added&quot;);\n        SpringApplication.run(ExternalAppPropertiesTest.class, args);\n    }\n}\n</code></pre>\n<p>N.B. - In case of externally application.properties access please don't use @PropertySources annotation and file path. It will not access your logging properties e.g. logging.file.name=yourlogfilename.log</p>\n<p>Here is one more suggestion, for code maintenance you can put your applcation.properties by renaming the file name in your src folder of spring boot application and maintain the changes which is done in external file.</p>\n"}],"owner":{"account_id":2932936,"reputation":198,"user_id":2512637,"display_name":"greenhalos"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66951,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":7,"score":17,"last_activity_date":1654805569,"creation_date":1420409009,"question_id":27770852,"body_markdown":"I am developing a spring boot application\r\n\r\nI want to override some properties in `src/main/resources/application.properties` with an external file (e.g. `/etc/projectName/application.properties`).\r\n\r\nI tried several methods: \r\n\r\n1. `@PropertySource(&quot;file:/etc/projectName/application.properties&quot;)` as annotation at `ApplicationConfig.java` \r\n\r\n2. `spring.config.location=/etc/projectName/application.properties` in my application.properties in `resources`\r\n\r\nI tested it with `spring.port`. The first method only added properties but didn&#39;t override them.","title":"Spring boot external application.properties","body":"<p>I am developing a spring boot application</p>\n\n<p>I want to override some properties in <code>src/main/resources/application.properties</code> with an external file (e.g. <code>/etc/projectName/application.properties</code>).</p>\n\n<p>I tried several methods: </p>\n\n<ol>\n<li><p><code>@PropertySource(\"file:/etc/projectName/application.properties\")</code> as annotation at <code>ApplicationConfig.java</code> </p></li>\n<li><p><code>spring.config.location=/etc/projectName/application.properties</code> in my application.properties in <code>resources</code></p></li>\n</ol>\n\n<p>I tested it with <code>spring.port</code>. The first method only added properties but didn't override them.</p>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1654445536,"creation_date":1654444174,"answer_id":72508821,"question_id":72508803,"body_markdown":"    val list = listOf(1, 2, 2, 3, 2, 5, 1, 1, 6, 1)\r\n    \r\n    val result = list.filterIndexed { index, i -&gt; \r\n      if (index &gt; 0) i != list[index - 1] else true\r\n      // or: if (index &lt; list.size - 1) i != list[index + 1] else true\r\n    }\r\n    \r\n    println(result)\r\n\r\nEdit, for scalar types and data classes:\r\n\r\n    fun &lt;T : Any&gt; List&lt;T&gt;.filterConsecutiveDuplicates() =\r\n      filterIndexed { index, i -&gt; if (index &lt; size - 1) i != this[index + 1] else true }\r\n\r\n    val list = listOf(1, 2, 2, 3, 2, 5, 1, 1, 6, 1)\r\n    val list2 = list.filterConsecutiveDuplicates()\r\n\r\n    data class O(val name: String)\r\n    val objects = listOf(O(&quot;A&quot;), O(&quot;A&quot;), O(&quot;B&quot;), O(&quot;A&quot;), O(&quot;B&quot;), O(&quot;C&quot;), O(&quot;C&quot;), O(&quot;A&quot;))\r\n    val objects2 = objects.filterConsecutiveDuplicates()\r\n\r\n\r\n","title":"How to remove all duplicates that are in consecutive positions?","body":"<pre><code>val list = listOf(1, 2, 2, 3, 2, 5, 1, 1, 6, 1)\n\nval result = list.filterIndexed { index, i -&gt; \n  if (index &gt; 0) i != list[index - 1] else true\n  // or: if (index &lt; list.size - 1) i != list[index + 1] else true\n}\n\nprintln(result)\n</code></pre>\n<p>Edit, for scalar types and data classes:</p>\n<pre><code>fun &lt;T : Any&gt; List&lt;T&gt;.filterConsecutiveDuplicates() =\n  filterIndexed { index, i -&gt; if (index &lt; size - 1) i != this[index + 1] else true }\n\nval list = listOf(1, 2, 2, 3, 2, 5, 1, 1, 6, 1)\nval list2 = list.filterConsecutiveDuplicates()\n\ndata class O(val name: String)\nval objects = listOf(O(&quot;A&quot;), O(&quot;A&quot;), O(&quot;B&quot;), O(&quot;A&quot;), O(&quot;B&quot;), O(&quot;C&quot;), O(&quot;C&quot;), O(&quot;A&quot;))\nval objects2 = objects.filterConsecutiveDuplicates()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16370655,"reputation":1878,"user_id":11983046,"display_name":"Ryan Zhang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654444350,"creation_date":1654444350,"answer_id":72508858,"question_id":72508803,"body_markdown":"If you want a Java method to do this:\r\n\r\nI don&#39;t know of any method in Java that you can conveniently use to do this. Just implement the logic yourself. Try something like what&#39;s shown below:\r\n\r\n```\r\nint[] a = ... // whatever initial array value\r\nList&lt;Integer&gt; b = new ArrayList&lt;Integer&gt;(); // final array after processing\r\n\r\nb.add(a[0]);\r\n\r\nfor(int i = 1; i &lt; a.length; ++i) if(a[i] != a[i-1]) b.add(a[i]);\r\n```\r\n\r\n`b` Should store the contents of what you want.","title":"How to remove all duplicates that are in consecutive positions?","body":"<p>If you want a Java method to do this:</p>\n<p>I don't know of any method in Java that you can conveniently use to do this. Just implement the logic yourself. Try something like what's shown below:</p>\n<pre><code>int[] a = ... // whatever initial array value\nList&lt;Integer&gt; b = new ArrayList&lt;Integer&gt;(); // final array after processing\n\nb.add(a[0]);\n\nfor(int i = 1; i &lt; a.length; ++i) if(a[i] != a[i-1]) b.add(a[i]);\n</code></pre>\n<p><code>b</code> Should store the contents of what you want.</p>\n"},{"tags":[],"owner":{"account_id":9925264,"reputation":614,"user_id":7347085,"display_name":"DrPhill"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654444906,"creation_date":1654444906,"answer_id":72508934,"question_id":72508803,"body_markdown":"\r\n\r\n    val list = listOf(1,2,2,3,2,5,1,1,6,1)\r\n    // if list is empty then result is empty list\r\n    val mutableList = mutableListOf(list.first())\r\n    list.forEach {\r\n        if (it != mutableList.last()) {\r\n            mutableList.add(it)\r\n        }\r\n    }\r\n    println(mutableList.joinToString { it.toString() })\r\n\r\n","title":"How to remove all duplicates that are in consecutive positions?","body":"<pre><code>val list = listOf(1,2,2,3,2,5,1,1,6,1)\n// if list is empty then result is empty list\nval mutableList = mutableListOf(list.first())\nlist.forEach {\n    if (it != mutableList.last()) {\n        mutableList.add(it)\n    }\n}\nprintln(mutableList.joinToString { it.toString() })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654446004,"creation_date":1654445272,"answer_id":72508985,"question_id":72508803,"body_markdown":"You already have a java version, this would be the Kotlin one. We can take advantage of Kotlin&#39;s [zipWithNext](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/zip-with-next.html) to make it simpler, but to note is that we are creating a new list. \r\n\r\n```\r\nfun main() {\r\n\tval list = listOf(1, 2, 2, 3, 2, 5, 1, 1, 6, 1)\r\n\tval result = list.removeConsecutiveDuplicates()\r\n\tprintln(result)\r\n}\r\n\r\n\r\nfun &lt;T&gt; Collection&lt;T&gt;.removeConsecutiveDuplicates(): MutableList&lt;T&gt; {\r\n\tval result = mutableListOf&lt;T&gt;()\r\n\tthis.zipWithNext { a, b -&gt; if (a != b) result += a }\r\n\treturn result\r\n}\r\n```\r\n\r\nThe print result is `[1, 2, 3, 2, 5, 1, 6]`.\r\n\r\nAs DrPhill suggested, you can do it without an explicit second list, he did it with `mapNotNull`, but I would personally prefer it with `.filter`\r\n\r\n```\r\nfun &lt;T&gt; Collection&lt;T&gt;.removeConsecutiveDuplicates(): List&lt;T&gt; {\r\n\treturn this.zipWithNext().filter { (a, b) -&gt; a != b  }.map { it.first }\r\n}\r\n```","title":"How to remove all duplicates that are in consecutive positions?","body":"<p>You already have a java version, this would be the Kotlin one. We can take advantage of Kotlin's <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/zip-with-next.html\" rel=\"nofollow noreferrer\">zipWithNext</a> to make it simpler, but to note is that we are creating a new list.</p>\n<pre><code>fun main() {\n    val list = listOf(1, 2, 2, 3, 2, 5, 1, 1, 6, 1)\n    val result = list.removeConsecutiveDuplicates()\n    println(result)\n}\n\n\nfun &lt;T&gt; Collection&lt;T&gt;.removeConsecutiveDuplicates(): MutableList&lt;T&gt; {\n    val result = mutableListOf&lt;T&gt;()\n    this.zipWithNext { a, b -&gt; if (a != b) result += a }\n    return result\n}\n</code></pre>\n<p>The print result is <code>[1, 2, 3, 2, 5, 1, 6]</code>.</p>\n<p>As DrPhill suggested, you can do it without an explicit second list, he did it with <code>mapNotNull</code>, but I would personally prefer it with <code>.filter</code></p>\n<pre><code>fun &lt;T&gt; Collection&lt;T&gt;.removeConsecutiveDuplicates(): List&lt;T&gt; {\n    return this.zipWithNext().filter { (a, b) -&gt; a != b  }.map { it.first }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9925264,"reputation":614,"user_id":7347085,"display_name":"DrPhill"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1654805495,"creation_date":1654445837,"answer_id":72509060,"question_id":72508803,"body_markdown":"Based on [Alex.T&#39;s answer](https://stackoverflow.com/questions/72508803/how-to-remove-all-duplicates-if-it-is-a-consecutive-position/72508985#72508985):\r\n\r\n    fun &lt;T&gt; Collection&lt;T&gt;.removeConsecutiveDuplicates(): MutableList&lt;T&gt; {\r\n         return this.zipWithNext().mapNotNull {a, b -&gt; if (a != b) a else null }\r\n    }\r\n\r\n[Edit: I now prefer Alex.T&#39;s modified version of my suggestion - it is much clearer.]","title":"How to remove all duplicates that are in consecutive positions?","body":"<p>Based on <a href=\"https://stackoverflow.com/questions/72508803/how-to-remove-all-duplicates-if-it-is-a-consecutive-position/72508985#72508985\">Alex.T's answer</a>:</p>\n<pre><code>fun &lt;T&gt; Collection&lt;T&gt;.removeConsecutiveDuplicates(): MutableList&lt;T&gt; {\n     return this.zipWithNext().mapNotNull {a, b -&gt; if (a != b) a else null }\n}\n</code></pre>\n<p>[Edit: I now prefer Alex.T's modified version of my suggestion - it is much clearer.]</p>\n"}],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"accepted_answer_id":72508821,"answer_count":5,"score":2,"last_activity_date":1654805495,"creation_date":1654443982,"question_id":72508803,"body_markdown":"I want to be able to remove all duplicates if they are in a consecutive position in an array. For example, I have this array:\r\n```\r\n[1,2,2,3,2,5,1,1,6,1]\r\n```\r\n\r\nAnd now, I want to remove all the duplicates if they are in the same position. And in the end, after removing the elements, the final array will look like this:\r\n```\r\n[1,2,3,2,5,1,6,1]\r\n```\r\n\r\nAnd clearly, we can see that we are removing it if it is in its next position.\r\n\r\n**Note:** I don&#39;t want this only with integers. I want to it work with all objects. Also, I don&#39;t want to remove all the duplicates. Remove them only if it is in the following position.\r\n\r\nIdeally, I would like to do this in-place, rather than creating a new array.\r\n\r\nSo, how can I achieve this with [tag:java] or [tag:kotlin].","title":"How to remove all duplicates that are in consecutive positions?","body":"<p>I want to be able to remove all duplicates if they are in a consecutive position in an array. For example, I have this array:</p>\n<pre><code>[1,2,2,3,2,5,1,1,6,1]\n</code></pre>\n<p>And now, I want to remove all the duplicates if they are in the same position. And in the end, after removing the elements, the final array will look like this:</p>\n<pre><code>[1,2,3,2,5,1,6,1]\n</code></pre>\n<p>And clearly, we can see that we are removing it if it is in its next position.</p>\n<p><strong>Note:</strong> I don't want this only with integers. I want to it work with all objects. Also, I don't want to remove all the duplicates. Remove them only if it is in the following position.</p>\n<p>Ideally, I would like to do this in-place, rather than creating a new array.</p>\n<p>So, how can I achieve this with <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" rel=\"tag\">java</a> or <a href=\"/questions/tagged/kotlin\" class=\"post-tag\" title=\"show questions tagged &#39;kotlin&#39;\" rel=\"tag\">kotlin</a>.</p>\n"},{"tags":["java","mapbox","mapbox-android","mapbox-marker"],"comments":[{"owner":{"account_id":3664283,"reputation":789,"user_id":3053216,"accept_rate":95,"display_name":"user3053216"},"score":0,"creation_date":1591093646,"post_id":62149869,"comment_id":109918317,"body_markdown":"Please add what you have tried so far and what exactly is going wrong.","body":"Please add what you have tried so far and what exactly is going wrong."},{"owner":{"account_id":17669058,"reputation":1039,"user_id":12825713,"display_name":"Usama Abdulrehman"},"score":0,"creation_date":1591093998,"post_id":62149869,"comment_id":109918494,"body_markdown":"Please include a minimal reproducible example.","body":"Please include a minimal reproducible example."},{"owner":{"account_id":14836207,"reputation":51,"user_id":10714251,"display_name":"Saad El Qorchi"},"score":0,"creation_date":1591101152,"post_id":62149869,"comment_id":109922249,"body_markdown":"please have a look at this question https://stackoverflow.com/questions/62152085/add-text-programmatically-inside-drawable-android","body":"please have a look at this question <a href=\"https://stackoverflow.com/questions/62152085/add-text-programmatically-inside-drawable-android\" title=\"add text programmatically inside drawable android\">stackoverflow.com/questions/62152085/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":18018298,"reputation":616,"user_id":13096248,"display_name":"Mapbox Developer Support"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1591136351,"creation_date":1591136351,"answer_id":62162249,"question_id":62149869,"body_markdown":"Rather than displaying markers with the `MapboxMap#addMarker` method and depending on a drawable resource, you could add icons from coordinates stored as GeoJSON features using a symbol layer, as shown in [this example][1] for the Mapbox Maps SDK for Android. \r\n\r\nWhen adding each `Feature` representing a coordinate to the a [GeoJSON][2] object, you could add a property to each `Feature`&#39;s `properties` object containing the number to display on the marker for this coordinate. Then, in addition to the `iconImage` added with `SymbolLayer#setProperties` as shown in the example, you could also add a `textField` for each symbol populated by the property added to the GeoJSON. This [symbol layer clustering example][3] shows a similar workflow applied to a clustering use case. The difference between the clustering example and your implementation will mainly be that, rather than obtaining the number to display from a clustered count, you will be obtaining it from a GeoJSON property which you specified for the coordinate.\r\n\r\n\r\n  [1]: https://docs.mapbox.com/android/maps/examples/marker-symbol-layer/\r\n  [2]: https://docs.mapbox.com/help/glossary/geojson/\r\n  [3]: https://docs.mapbox.com/android/maps/examples/symbol-layer-clustering/","title":"Adding numbers to marker in mapbox android","body":"<p>Rather than displaying markers with the <code>MapboxMap#addMarker</code> method and depending on a drawable resource, you could add icons from coordinates stored as GeoJSON features using a symbol layer, as shown in <a href=\"https://docs.mapbox.com/android/maps/examples/marker-symbol-layer/\" rel=\"nofollow noreferrer\">this example</a> for the Mapbox Maps SDK for Android. </p>\n\n<p>When adding each <code>Feature</code> representing a coordinate to the a <a href=\"https://docs.mapbox.com/help/glossary/geojson/\" rel=\"nofollow noreferrer\">GeoJSON</a> object, you could add a property to each <code>Feature</code>'s <code>properties</code> object containing the number to display on the marker for this coordinate. Then, in addition to the <code>iconImage</code> added with <code>SymbolLayer#setProperties</code> as shown in the example, you could also add a <code>textField</code> for each symbol populated by the property added to the GeoJSON. This <a href=\"https://docs.mapbox.com/android/maps/examples/symbol-layer-clustering/\" rel=\"nofollow noreferrer\">symbol layer clustering example</a> shows a similar workflow applied to a clustering use case. The difference between the clustering example and your implementation will mainly be that, rather than obtaining the number to display from a clustered count, you will be obtaining it from a GeoJSON property which you specified for the coordinate.</p>\n"},{"tags":[],"owner":{"account_id":3814553,"reputation":722,"user_id":3164227,"display_name":"shubomb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654805472,"creation_date":1654805472,"answer_id":72566117,"question_id":62149869,"body_markdown":"   \r\n\r\n In v10, Marker means annotation and we can achieve multiple marker like this:\r\n        \r\n       \r\n\r\n        var markerList :ArrayList&lt;PointAnnotationOptions&gt; = ArrayList()\r\n                var annotationApi : AnnotationPlugin? = null\r\n                lateinit var annotaionConfig : AnnotationConfig\r\n                var pointAnnotationManager : PointAnnotationManager? = null\r\n                var mapView: MapView? = null\r\n                val layerID = &quot;map_annotation&quot;;\r\n                \r\n                mapView = findViewById(R.id.map);\r\n                mapView?.getMapboxMap()?.loadStyleUri(\r\n                       Style.MAPBOX_STREETS,\r\n                       object : Style.OnStyleLoaded {\r\n                                createMarkerList()\r\n                                annotationApi = mapView?.annotations\r\n                                annotaionConfig = AnnotationConfig(\r\n                                          layerId = layerID\r\n                                )\r\n                               pointAnnotationManager = annotationApi?.createPointAnnotationManager(annotaionConfig)!!\r\n        \r\n                                }\r\n                       }\r\n               )\r\n            \r\n            fun createMarkerList(){\r\n              markerList =  ArrayList();\r\n              for (i in 0 until 5) {\r\n              bitmapFromDrawableRes(context!!.applicationContext,R.drawable.doctor_online\r\n                  )?.let {\r\n                val pointAnnotationOptions: PointAnnotationOptions = \r\n                PointAnnotationOptions()\r\n                    .withPoint(Point.fromLngLat(latLng!!.longitude,latLng!!.latitude))\r\n                    .withIconImage(it)\r\n                    .withData(Gson().fromJson(data.toString(), JsonElement::class.java))\r\n                    .withIconSize(2.0)\r\n               markerList.add(pointAnnotationOptions);\r\n                } \r\n             }\r\n             // For Creating marker\r\n             pointAnnotationManager?.create(markerList)\r\n           }\r\n    \r\n    private fun convertDrawableToBitmap(sourceDrawable: Drawable?): Bitmap? {\r\n            if (sourceDrawable == null) {\r\n                return null\r\n            }\r\n            return if (sourceDrawable is BitmapDrawable) {\r\n                sourceDrawable.bitmap\r\n            } else {\r\n    // copying drawable object to not manipulate on the same reference\r\n                val constantState = sourceDrawable.constantState ?: return null\r\n                val drawable = constantState.newDrawable().mutate()\r\n                val bitmap: Bitmap = Bitmap.createBitmap(\r\n                    drawable.intrinsicWidth, drawable.intrinsicHeight,\r\n                    Bitmap.Config.ARGB_8888\r\n                )\r\n                val canvas = Canvas(bitmap)\r\n                drawable.setBounds(0, 0, canvas.width, canvas.height)\r\n                drawable.draw(canvas)\r\n                bitmap\r\n            }\r\n        }\r\n\r\n","title":"Adding numbers to marker in mapbox android","body":"<p>In v10, Marker means annotation and we can achieve multiple marker like this:</p>\n<pre><code>    var markerList :ArrayList&lt;PointAnnotationOptions&gt; = ArrayList()\n            var annotationApi : AnnotationPlugin? = null\n            lateinit var annotaionConfig : AnnotationConfig\n            var pointAnnotationManager : PointAnnotationManager? = null\n            var mapView: MapView? = null\n            val layerID = &quot;map_annotation&quot;;\n            \n            mapView = findViewById(R.id.map);\n            mapView?.getMapboxMap()?.loadStyleUri(\n                   Style.MAPBOX_STREETS,\n                   object : Style.OnStyleLoaded {\n                            createMarkerList()\n                            annotationApi = mapView?.annotations\n                            annotaionConfig = AnnotationConfig(\n                                      layerId = layerID\n                            )\n                           pointAnnotationManager = annotationApi?.createPointAnnotationManager(annotaionConfig)!!\n    \n                            }\n                   }\n           )\n        \n        fun createMarkerList(){\n          markerList =  ArrayList();\n          for (i in 0 until 5) {\n          bitmapFromDrawableRes(context!!.applicationContext,R.drawable.doctor_online\n              )?.let {\n            val pointAnnotationOptions: PointAnnotationOptions = \n            PointAnnotationOptions()\n                .withPoint(Point.fromLngLat(latLng!!.longitude,latLng!!.latitude))\n                .withIconImage(it)\n                .withData(Gson().fromJson(data.toString(), JsonElement::class.java))\n                .withIconSize(2.0)\n           markerList.add(pointAnnotationOptions);\n            } \n         }\n         // For Creating marker\n         pointAnnotationManager?.create(markerList)\n       }\n\nprivate fun convertDrawableToBitmap(sourceDrawable: Drawable?): Bitmap? {\n        if (sourceDrawable == null) {\n            return null\n        }\n        return if (sourceDrawable is BitmapDrawable) {\n            sourceDrawable.bitmap\n        } else {\n// copying drawable object to not manipulate on the same reference\n            val constantState = sourceDrawable.constantState ?: return null\n            val drawable = constantState.newDrawable().mutate()\n            val bitmap: Bitmap = Bitmap.createBitmap(\n                drawable.intrinsicWidth, drawable.intrinsicHeight,\n                Bitmap.Config.ARGB_8888\n            )\n            val canvas = Canvas(bitmap)\n            drawable.setBounds(0, 0, canvas.width, canvas.height)\n            drawable.draw(canvas)\n            bitmap\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":14836207,"reputation":51,"user_id":10714251,"display_name":"Saad El Qorchi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2879,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62162249,"answer_count":2,"score":0,"last_activity_date":1654805472,"creation_date":1591093511,"question_id":62149869,"body_markdown":"I&#39;m trying to figure out how to add numbers to markers programmatically in mapbox to get the result of the image below\r\n\r\n[MARKERS WITH NUMBERS ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ssm4c.png\r\n\r\n\r\n\r\nHere is the code of the map that displays some markers \r\n```\r\npublic class DepartMissionFragment extends Fragment {\r\n    private MapView mapView;\r\n\r\n    private static final String TAG = &quot;DirectionsActivity&quot;;\r\n\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        super.onCreateView(inflater, container, savedInstanceState);\r\n        Mapbox.getInstance(requireActivity(), getString(R.string.access_token));\r\n        View view  = inflater.inflate(R.layout.fragment_mission_depart, container, false);\r\n\r\n        mapView = view.findViewById(R.id.mapView20);\r\n        mapView.onCreate(savedInstanceState);\r\n        mapView.getMapAsync(new OnMapReadyCallback() {\r\n            @Override\r\n            public void onMapReady(@NonNull MapboxMap mapboxMap) {\r\n\r\n                mapboxMap.addMarker(new MarkerOptions()\r\n                        .position(new LatLng(33.589886, -7.603869))\r\n                        .title(&quot;marker one&quot;));\r\n// It is possible to use .setIcon() to get a custom icon from ressources\r\n \r\n\r\n                mapboxMap.addMarker(new MarkerOptions()\r\n                        .position(new LatLng(33.589790, -7.603989))\r\n                        .title(&quot;marker two&quot;));\r\n\r\n                mapboxMap.addMarker(new MarkerOptions()\r\n                        .position(new LatLng(33.589190, -7.603089))\r\n                        .title(&quot;marker three&quot;));\r\n\r\n\r\n                mapboxMap.addMarker(new MarkerOptions()\r\n                        .position(new LatLng(33.588790, -7.603289))\r\n                        .title(&quot;etc..&quot;));\r\n\r\n                mapboxMap.addMarker(new MarkerOptions()\r\n                        .position(new LatLng(33.580790, -7.603989))\r\n                        .title(&quot;etc....&quot;));\r\n                mapboxMap.setStyle(getString(R.string.navigation_guidance_day), new Style.OnStyleLoaded() {\r\n\r\n                    @Override\r\n                    public void onStyleLoaded(@NonNull Style style) {\r\n\r\n\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onAttach(@NonNull Context context) {\r\n        super.onAttach(context);\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        mapView.onStart();\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        mapView.onResume();\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        mapView.onPause();\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        mapView.onStop();\r\n    }\r\n\r\n    @Override\r\n    public void onSaveInstanceState(Bundle outState) {\r\n        super.onSaveInstanceState(outState);\r\n        mapView.onSaveInstanceState(outState);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        mapView.onDestroy();\r\n    }\r\n\r\n    @Override\r\n    public void onLowMemory() {\r\n        super.onLowMemory();\r\n        mapView.onLowMemory();\r\n    }\r\n}\r\n````\r\n\r\nI&#39;m searching for a way to give numbers to the markers, a proper way for me would be to add custom marker from drawable.\r\n\r\nAny other method is welcomed.\r\n\r\n\r\n","title":"Adding numbers to marker in mapbox android","body":"<p>I'm trying to figure out how to add numbers to markers programmatically in mapbox to get the result of the image below</p>\n\n<p><a href=\"https://i.stack.imgur.com/ssm4c.png\" rel=\"nofollow noreferrer\">MARKERS WITH NUMBERS </a></p>\n\n<p>Here is the code of the map that displays some markers </p>\n\n<pre><code>public class DepartMissionFragment extends Fragment {\n    private MapView mapView;\n\n    private static final String TAG = \"DirectionsActivity\";\n\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        super.onCreateView(inflater, container, savedInstanceState);\n        Mapbox.getInstance(requireActivity(), getString(R.string.access_token));\n        View view  = inflater.inflate(R.layout.fragment_mission_depart, container, false);\n\n        mapView = view.findViewById(R.id.mapView20);\n        mapView.onCreate(savedInstanceState);\n        mapView.getMapAsync(new OnMapReadyCallback() {\n            @Override\n            public void onMapReady(@NonNull MapboxMap mapboxMap) {\n\n                mapboxMap.addMarker(new MarkerOptions()\n                        .position(new LatLng(33.589886, -7.603869))\n                        .title(\"marker one\"));\n// It is possible to use .setIcon() to get a custom icon from ressources\n\n\n                mapboxMap.addMarker(new MarkerOptions()\n                        .position(new LatLng(33.589790, -7.603989))\n                        .title(\"marker two\"));\n\n                mapboxMap.addMarker(new MarkerOptions()\n                        .position(new LatLng(33.589190, -7.603089))\n                        .title(\"marker three\"));\n\n\n                mapboxMap.addMarker(new MarkerOptions()\n                        .position(new LatLng(33.588790, -7.603289))\n                        .title(\"etc..\"));\n\n                mapboxMap.addMarker(new MarkerOptions()\n                        .position(new LatLng(33.580790, -7.603989))\n                        .title(\"etc....\"));\n                mapboxMap.setStyle(getString(R.string.navigation_guidance_day), new Style.OnStyleLoaded() {\n\n                    @Override\n                    public void onStyleLoaded(@NonNull Style style) {\n\n\n                    }\n                });\n\n            }\n        });\n        return view;\n    }\n\n    @Override\n    public void onAttach(@NonNull Context context) {\n        super.onAttach(context);\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        mapView.onStart();\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        mapView.onResume();\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        mapView.onPause();\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        mapView.onStop();\n    }\n\n    @Override\n    public void onSaveInstanceState(Bundle outState) {\n        super.onSaveInstanceState(outState);\n        mapView.onSaveInstanceState(outState);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        mapView.onDestroy();\n    }\n\n    @Override\n    public void onLowMemory() {\n        super.onLowMemory();\n        mapView.onLowMemory();\n    }\n}\n</code></pre>\n\n<p>I'm searching for a way to give numbers to the markers, a proper way for me would be to add custom marker from drawable.</p>\n\n<p>Any other method is welcomed.</p>\n"},{"tags":["java","javafx","model-view-controller","fxml"],"comments":[{"owner":{"account_id":24940065,"reputation":41,"user_id":18806082,"display_name":"Ernest P W"},"score":0,"creation_date":1654805724,"post_id":72566004,"comment_id":128186430,"body_markdown":"Or is it usually possible but the class cannot be accessed due to different location?","body":"Or is it usually possible but the class cannot be accessed due to different location?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1654807590,"post_id":72566004,"comment_id":128186940,"body_markdown":"What is the exact module warning/error you&#39;re getting?","body":"What is the exact module warning/error you&#39;re getting?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1654808070,"post_id":72566004,"comment_id":128187050,"body_markdown":"See https://stackoverflow.com/q/32342864/2189127","body":"See <a href=\"https://stackoverflow.com/q/32342864/2189127\">stackoverflow.com/q/32342864/2189127</a>"}],"owner":{"account_id":24940065,"reputation":41,"user_id":18806082,"display_name":"Ernest P W"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654833637,"answer_count":0,"score":0,"last_activity_date":1654804822,"creation_date":1654804822,"question_id":72566004,"body_markdown":"Can someone explain me how to integrate the model part of a program with a FXML-Controller? I&#39;m new to FXML. So far, I tried to create a constructor for the controller and pass the relevant information as parameters but then I get the warning: &quot;Class &#39;some_class&#39; is not exported from module &#39;some_module&#39;. If my logic part contains classes like Person, Room etc. how do I pass them to the controller? Could someone show me a simple example of how to do it? The example oracle provided in their documentation doesn&#39;t make it quite clear for me. Thanks in advance.","title":"How to integrate the model part of a program with FXML-Controller?","body":"<p>Can someone explain me how to integrate the model part of a program with a FXML-Controller? I'm new to FXML. So far, I tried to create a constructor for the controller and pass the relevant information as parameters but then I get the warning: &quot;Class 'some_class' is not exported from module 'some_module'. If my logic part contains classes like Person, Room etc. how do I pass them to the controller? Could someone show me a simple example of how to do it? The example oracle provided in their documentation doesn't make it quite clear for me. Thanks in advance.</p>\n"},{"tags":["java","android","import","view","gson"],"comments":[{"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1654806037,"post_id":72565962,"comment_id":128186519,"body_markdown":"Can you explain what your problem is? What exactly does not work?","body":"Can you explain what your problem is? What exactly does not work?"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1654834281,"post_id":72565962,"comment_id":128191374,"body_markdown":"When you run a slow network task you cannot immediately retrieve the result. It will either block the UI thread (bad) or return an empty result before the background task runs. For an AsyncTask you cannot do anything with the result until `onPostExecute`, which you have not implemented.","body":"When you run a slow network task you cannot immediately retrieve the result. It will either block the UI thread (bad) or return an empty result before the background task runs. For an AsyncTask you cannot do anything with the result until <code>onPostExecute</code>, which you have not implemented."},{"owner":{"account_id":25388169,"reputation":23,"user_id":19199647,"display_name":"Brie"},"score":0,"creation_date":1654837740,"post_id":72565962,"comment_id":128191873,"body_markdown":"The problem is : i need class Data is a class of objects of my api response (Football teams), i need to create a somehow a list in Data where i will store this objects, and for &quot; responseResult.Data()&quot; program can&#39;t resolve Date() in class Data, or if you have some exemple or code to display my response in a listview i would be gratefull, im new in the android studio and java and our professor doesen&#39;t explained to us .","body":"The problem is : i need class Data is a class of objects of my api response (Football teams), i need to create a somehow a list in Data where i will store this objects, and for &quot; responseResult.Data()&quot; program can&#39;t resolve Date() in class Data, or if you have some exemple or code to display my response in a listview i would be gratefull, im new in the android studio and java and our professor doesen&#39;t explained to us ."}],"owner":{"account_id":25388169,"reputation":23,"user_id":19199647,"display_name":"Brie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654804590,"creation_date":1654804590,"question_id":72565962,"body_markdown":"I need help to implement a list view from an API, \r\ni need one more list to complete and make a get method.\r\nThis is for a project for faculty and i dont see solution on tutorials on internet\r\nHere is code for information view :\r\npackage com.example.myapplication;\r\n\r\n``` import static android.content.ContentValues.TAG;\r\n\r\nimport android.content.pm.PackageManager;\r\nimport android.os.AsyncTask;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ListView;\r\nimport android.widget.SearchView;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.gms.common.api.Api;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.JsonElement;\r\nimport com.google.gson.JsonParser;\r\nimport com.google.gson.annotations.SerializedName;\r\nimport com.google.gson.reflect.TypeToken;\r\n\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.lang.reflect.Type;\r\nimport java.net.HttpCookie;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Comparator;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport javax.net.ssl.HttpsURLConnection;\r\n\r\nimport okhttp3.Call;\r\nimport okhttp3.Callback;\r\nimport okhttp3.OkHttpClient;\r\nimport okhttp3.Request;\r\nimport okhttp3.Response;\r\nimport okhttp3.ResponseBody;\r\n\r\npublic class TopScorer extends AppCompatActivity {\r\n    SearchView searchView;\r\n    ListView listView;\r\n    String teams[] = {};\r\n\r\n    ArrayAdapter&lt;String&gt; arrayAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_top_scorer);\r\n        searchView = findViewById(R.id.search);\r\n        listView = findViewById(R.id.listview);\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            ArrayList&lt;String&gt; teamsInf = new ArrayList&lt;&gt;();\r\n\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                API API = new API(query);\r\n                try {\r\n                    API.execute().get();\r\n                    teamsInf = API.getTeamsInfo();\r\n                    arrayAdapter = new ArrayAdapter&lt;String&gt;(TopScorer.this, android.R.layout.simple_list_item_1, teamsInf);\r\n                    listView.setAdapter(arrayAdapter);\r\n                } catch (ExecutionException e) {\r\n                    e.printStackTrace();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return true;\r\n\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n\r\n    public class API extends AsyncTask {\r\n\r\n        String teamName;\r\n        ArrayList&lt;String&gt; teamsInfo;\r\n\r\n        public API(String name) {\r\n            this.teamsInfo = new ArrayList&lt;&gt;();\r\n        }\r\n\r\n        @Override\r\n        protected Object doInBackground(Object[] objects) {\r\n            OkHttpClient client = new OkHttpClient();\r\n\r\n            Request request = new Request.Builder()\r\n                    .url(&quot;https://heisenbug-premier-league-live-scores-v1.p.rapidapi.com/api/premierleague/team?name=&quot;+this.teamName)\r\n                    .get()\r\n                    .addHeader(&quot;X-RapidAPI-Key&quot;, &quot;6ad8dfcfcbmshb4a45a22532e4a1p1efecajsnc2fb433de0da&quot;)\r\n                    .addHeader(&quot;X-RapidAPI-Host&quot;, &quot;heisenbug-premier-league-live-scores-v1.p.rapidapi.com&quot;)\r\n                    .build();\r\n            client.newCall(request).enqueue(new Callback() {\r\n                @Override\r\n                public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                    Toast.makeText(TopScorer.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n                @Override\r\n                public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n                    int index=1;\r\n                    String myResult = response.body().string();\r\n                    Gson gson = new Gson();\r\n                    Data responseResult=gson.fromJson(myResult, Data.class);\r\n                    for (lst l : responseResult.Data())\r\n                    {\r\n                        Log.d(TAG, &quot;Liverpool: &quot; + l.getTeam());\r\n                        teamsInfo.add(String.valueOf(index) + &quot;. &quot; + l.getPlayed() + &quot;: &quot; + l.getWin());\r\n                        teamsInfo.add(&quot;Draws : &quot; + l.getDraw());\r\n                        teamsInfo.add(&quot;Loss : &quot; + l.getLoss());\r\n                        teamsInfo.add(&quot;Goals Against : &quot; + l.getGoalsAgainst());\r\n                        teamsInfo.add(&quot;Goals For : &quot; + l.getGoalsFor());\r\n                        teamsInfo.add(&quot;Points : &quot; + l.getPoints());\r\n                        teamsInfo.add(&quot;&quot;);\r\n                        index++;\r\n                    }\r\n\r\n\r\n                }\r\n            });\r\n            return null;\r\n        }\r\n        public ArrayList&lt;String&gt; getTeamsInfo()\r\n        {\r\n            return this.teamsInfo;\r\n        }\r\n    }\r\n}\r\n``` \r\n\r\nand here is Data Class code:\r\n\r\n``` package com.example.myapplication;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Data {\r\n    private String team;\r\n    private String played;\r\n    private String win;\r\n    private String draw;\r\n    private String loss;\r\n    private String goalsFor;\r\n    private String goalsAgainst;\r\n    private String points;\r\n\r\n\r\n    public String getTeam() {\r\n        return this.team;\r\n    }\r\n\r\n    public String getPlayed() {\r\n        return this.played;\r\n    }\r\n\r\n    public String getWin() {\r\n        return this.win;\r\n    }\r\n\r\n    public String getDraw() {\r\n        return this.draw;\r\n    }\r\n\r\n    public String getLoss() {\r\n        return this.loss;\r\n    }\r\n\r\n    public String getGoalsFor() {\r\n        return this.goalsFor;\r\n    }\r\n\r\n    public String getGoalsAgainst() {\r\n        return this.goalsAgainst;\r\n    }\r\n\r\n    public String getPoints() {\r\n        return this.points;\r\n    }\r\n\r\n    public Data fromJson(JSONObject jsonObject) {\r\n        Data team = new Data();\r\n        try {\r\n            team.team = jsonObject.getString(&quot;team&quot;);\r\n            team.played = jsonObject.getString(&quot;played&quot;);\r\n            team.win = jsonObject.getString(&quot;win&quot;);\r\n            team.draw = jsonObject.getString(&quot;draw&quot;);\r\n            team.loss = jsonObject.getString(&quot;loss&quot;);\r\n            team.goalsFor = jsonObject.getString(&quot;goalsFor&quot;);\r\n            team.goalsAgainst = jsonObject.getString(&quot;goalsAgainst&quot;);\r\n            team.points = jsonObject.getString(&quot;points&quot;);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n        return team;\r\n    }\r\n}\r\n\r\n```\r\ncan anyone help me, i prefered to implement api respone with okhttp code","title":"Problem to implement API in Android Studio","body":"<p>I need help to implement a list view from an API,\ni need one more list to complete and make a get method.\nThis is for a project for faculty and i dont see solution on tutorials on internet\nHere is code for information view :\npackage com.example.myapplication;</p>\n<pre><code>\nimport android.content.pm.PackageManager;\nimport android.os.AsyncTask;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ListView;\nimport android.widget.SearchView;\nimport android.widget.Spinner;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.android.gms.common.api.Api;\nimport com.google.gson.Gson;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonParser;\nimport com.google.gson.annotations.SerializedName;\nimport com.google.gson.reflect.TypeToken;\n\n\nimport java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.lang.reflect.Type;\nimport java.net.HttpCookie;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.concurrent.ExecutionException;\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.net.ssl.HttpsURLConnection;\n\nimport okhttp3.Call;\nimport okhttp3.Callback;\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.Response;\nimport okhttp3.ResponseBody;\n\npublic class TopScorer extends AppCompatActivity {\n    SearchView searchView;\n    ListView listView;\n    String teams[] = {};\n\n    ArrayAdapter&lt;String&gt; arrayAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_top_scorer);\n        searchView = findViewById(R.id.search);\n        listView = findViewById(R.id.listview);\n\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            ArrayList&lt;String&gt; teamsInf = new ArrayList&lt;&gt;();\n\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                API API = new API(query);\n                try {\n                    API.execute().get();\n                    teamsInf = API.getTeamsInfo();\n                    arrayAdapter = new ArrayAdapter&lt;String&gt;(TopScorer.this, android.R.layout.simple_list_item_1, teamsInf);\n                    listView.setAdapter(arrayAdapter);\n                } catch (ExecutionException e) {\n                    e.printStackTrace();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                return true;\n\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                return true;\n            }\n        });\n    }\n\n    public class API extends AsyncTask {\n\n        String teamName;\n        ArrayList&lt;String&gt; teamsInfo;\n\n        public API(String name) {\n            this.teamsInfo = new ArrayList&lt;&gt;();\n        }\n\n        @Override\n        protected Object doInBackground(Object[] objects) {\n            OkHttpClient client = new OkHttpClient();\n\n            Request request = new Request.Builder()\n                    .url(&quot;https://heisenbug-premier-league-live-scores-v1.p.rapidapi.com/api/premierleague/team?name=&quot;+this.teamName)\n                    .get()\n                    .addHeader(&quot;X-RapidAPI-Key&quot;, &quot;6ad8dfcfcbmshb4a45a22532e4a1p1efecajsnc2fb433de0da&quot;)\n                    .addHeader(&quot;X-RapidAPI-Host&quot;, &quot;heisenbug-premier-league-live-scores-v1.p.rapidapi.com&quot;)\n                    .build();\n            client.newCall(request).enqueue(new Callback() {\n                @Override\n                public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                    Toast.makeText(TopScorer.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                @Override\n                public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                    int index=1;\n                    String myResult = response.body().string();\n                    Gson gson = new Gson();\n                    Data responseResult=gson.fromJson(myResult, Data.class);\n                    for (lst l : responseResult.Data())\n                    {\n                        Log.d(TAG, &quot;Liverpool: &quot; + l.getTeam());\n                        teamsInfo.add(String.valueOf(index) + &quot;. &quot; + l.getPlayed() + &quot;: &quot; + l.getWin());\n                        teamsInfo.add(&quot;Draws : &quot; + l.getDraw());\n                        teamsInfo.add(&quot;Loss : &quot; + l.getLoss());\n                        teamsInfo.add(&quot;Goals Against : &quot; + l.getGoalsAgainst());\n                        teamsInfo.add(&quot;Goals For : &quot; + l.getGoalsFor());\n                        teamsInfo.add(&quot;Points : &quot; + l.getPoints());\n                        teamsInfo.add(&quot;&quot;);\n                        index++;\n                    }\n\n\n                }\n            });\n            return null;\n        }\n        public ArrayList&lt;String&gt; getTeamsInfo()\n        {\n            return this.teamsInfo;\n        }\n    }\n}\n</code></pre>\n<p>and here is Data Class code:</p>\n<pre><code>\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Data {\n    private String team;\n    private String played;\n    private String win;\n    private String draw;\n    private String loss;\n    private String goalsFor;\n    private String goalsAgainst;\n    private String points;\n\n\n    public String getTeam() {\n        return this.team;\n    }\n\n    public String getPlayed() {\n        return this.played;\n    }\n\n    public String getWin() {\n        return this.win;\n    }\n\n    public String getDraw() {\n        return this.draw;\n    }\n\n    public String getLoss() {\n        return this.loss;\n    }\n\n    public String getGoalsFor() {\n        return this.goalsFor;\n    }\n\n    public String getGoalsAgainst() {\n        return this.goalsAgainst;\n    }\n\n    public String getPoints() {\n        return this.points;\n    }\n\n    public Data fromJson(JSONObject jsonObject) {\n        Data team = new Data();\n        try {\n            team.team = jsonObject.getString(&quot;team&quot;);\n            team.played = jsonObject.getString(&quot;played&quot;);\n            team.win = jsonObject.getString(&quot;win&quot;);\n            team.draw = jsonObject.getString(&quot;draw&quot;);\n            team.loss = jsonObject.getString(&quot;loss&quot;);\n            team.goalsFor = jsonObject.getString(&quot;goalsFor&quot;);\n            team.goalsAgainst = jsonObject.getString(&quot;goalsAgainst&quot;);\n            team.points = jsonObject.getString(&quot;points&quot;);\n        } catch (JSONException e) {\n            e.printStackTrace();\n            return null;\n        }\n        return team;\n    }\n}\n\n</code></pre>\n<p>can anyone help me, i prefered to implement api respone with okhttp code</p>\n"},{"tags":["java","android","xml","android-layout"],"comments":[{"owner":{"account_id":888101,"reputation":80674,"user_id":927034,"accept_rate":100,"display_name":"K-ballo"},"score":0,"creation_date":1357042795,"post_id":14110378,"comment_id":19525430,"body_markdown":"Why would you think you have to put it in the `drawable` folder? Is your music playlist a _drawable_?","body":"Why would you think you have to put it in the <code>drawable</code> folder? Is your music playlist a <i>drawable</i>?"},{"owner":{"display_name":"user1873875"},"score":0,"creation_date":1357042940,"post_id":14110378,"comment_id":19525456,"body_markdown":"I said i wont to get xml from android drawable folder instead of webpage","body":"I said i wont to get xml from android drawable folder instead of webpage"},{"owner":{"account_id":888101,"reputation":80674,"user_id":927034,"accept_rate":100,"display_name":"K-ballo"},"score":0,"creation_date":1357042992,"post_id":14110378,"comment_id":19525470,"body_markdown":"Then why would you thought it should be in the `drawable` folder to begin with? Is it a _drawable_?","body":"Then why would you thought it should be in the <code>drawable</code> folder to begin with? Is it a <i>drawable</i>?"},{"owner":{"display_name":"user1873875"},"score":0,"creation_date":1357043063,"post_id":14110378,"comment_id":19525487,"body_markdown":"it is a folder in android if you do not understand android dont wast time.","body":"it is a folder in android if you do not understand android dont wast time."},{"owner":{"account_id":888101,"reputation":80674,"user_id":927034,"accept_rate":100,"display_name":"K-ballo"},"score":0,"creation_date":1357043174,"post_id":14110378,"comment_id":19525513,"body_markdown":"I understand _Android_ quite fine sir, there are different subfolders at the `res` folder, each of them for a specific purpose. The `drawable` folder is used to contain _drawables_, then you have other folders like `xml` to contain _xml_ files or `raw` to contain any kind of file that you want to preserve as is (as opposed to have the package builder mess with your file since it assumes its a drawable when its not)","body":"I understand <i>Android</i> quite fine sir, there are different subfolders at the <code>res</code> folder, each of them for a specific purpose. The <code>drawable</code> folder is used to contain <i>drawables</i>, then you have other folders like <code>xml</code> to contain <i>xml</i> files or <code>raw</code> to contain any kind of file that you want to preserve as is (as opposed to have the package builder mess with your file since it assumes its a drawable when its not)"},{"owner":{"display_name":"user1873875"},"score":0,"creation_date":1357043337,"post_id":14110378,"comment_id":19525539,"body_markdown":"man can you tell me how to retrive my xml file from that folder","body":"man can you tell me how to retrive my xml file from that folder"},{"owner":{"account_id":888101,"reputation":80674,"user_id":927034,"accept_rate":100,"display_name":"K-ballo"},"score":0,"creation_date":1357043789,"post_id":14110378,"comment_id":19525645,"body_markdown":"No sir, there is no guarantee your file will even be in that folder in the generated apk, or if it is whether it will be intact or modified by the apk generation. You are not supposed to put things other than _drawables_ in the `drawable` folder. That&#39;s why I keep asking why do you want to put it there, because if you have a reason for it then you simply can&#39;t do it (at least not guaranteed to work). If you don&#39;t have a reason, then you should simply put it in a folder that matches your content.","body":"No sir, there is no guarantee your file will even be in that folder in the generated apk, or if it is whether it will be intact or modified by the apk generation. You are not supposed to put things other than <i>drawables</i> in the <code>drawable</code> folder. That&#39;s why I keep asking why do you want to put it there, because if you have a reason for it then you simply can&#39;t do it (at least not guaranteed to work). If you don&#39;t have a reason, then you should simply put it in a folder that matches your content."}],"answers":[{"tags":[],"owner":{"account_id":268298,"reputation":13327,"user_id":556975,"display_name":"Pratik Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1357043408,"creation_date":1357043408,"answer_id":14110469,"question_id":14110378,"body_markdown":"Put the xml into `/res/raw` folder.\r\n\r\nThen use :\r\n\r\n    InputStream is=getResources().openRawResource(R.raw.my_xml);\r\n\r\nThen use this parser [XML PULL PARSER][1]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/org/xmlpull/v1/XmlPullParser.html\r\n\r\n    XmlPullParser xpp=XmlPullParserFactory.newInstance().newPullParser();\r\n    xpp.setInput(is,&quot;your-encoding&quot;);\r\n\r\nThanks.\r\n","title":"How to get xml file from drawable folder Android","body":"<p>Put the xml into <code>/res/raw</code> folder.</p>\n\n<p>Then use :</p>\n\n<pre><code>InputStream is=getResources().openRawResource(R.raw.my_xml);\n</code></pre>\n\n<p>Then use this parser <a href=\"http://developer.android.com/reference/org/xmlpull/v1/XmlPullParser.html\" rel=\"nofollow\">XML PULL PARSER</a></p>\n\n<pre><code>XmlPullParser xpp=XmlPullParserFactory.newInstance().newPullParser();\nxpp.setInput(is,\"your-encoding\");\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":20730584,"reputation":1,"user_id":15238872,"display_name":"Jason Robertson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654804405,"creation_date":1654804405,"answer_id":72565931,"question_id":14110378,"body_markdown":"Try this:\r\n```\r\nString file = &quot;res/drawable/music.xml&quot;;\r\nXmlResourceParser parser = getContext().getAssets().openXmlResourceParser(file);\r\n```\r\n\r\nor in Kotlin:\r\n```\r\nval file = &quot;res/drawable/music.xml&quot;\r\nval parser = context.assets.openXmlResourceParser(file)\r\n```\r\n\r\nIt worked for me. And then you can look for examples of `XmlPullParser` to know how to use it.","title":"How to get xml file from drawable folder Android","body":"<p>Try this:</p>\n<pre><code>String file = &quot;res/drawable/music.xml&quot;;\nXmlResourceParser parser = getContext().getAssets().openXmlResourceParser(file);\n</code></pre>\n<p>or in Kotlin:</p>\n<pre><code>val file = &quot;res/drawable/music.xml&quot;\nval parser = context.assets.openXmlResourceParser(file)\n</code></pre>\n<p>It worked for me. And then you can look for examples of <code>XmlPullParser</code> to know how to use it.</p>\n"}],"owner":{"display_name":"user1873875"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14110469,"answer_count":2,"score":1,"last_activity_date":1654804405,"creation_date":1357042708,"question_id":14110378,"body_markdown":"I have an xml file on a web page http://api.androidhive.info/music/music.xml on my application I use  \r\n\r\n    static final String URL = &quot;http://api.androidhive.info/music/music.xml&quot;;\r\n    String xml = parser.getXmlFromUrl(URL);\r\n\r\nworks fine but know I have put this file in my Android resource folder. So how do I get my file from android drawable folder like this `R.drawble.music.xml` instead of web page.\r\nhttp://api.androidhive.info/music/music.xml","title":"How to get xml file from drawable folder Android","body":"<p>I have an xml file on a web page <a href=\"http://api.androidhive.info/music/music.xml\" rel=\"nofollow noreferrer\">http://api.androidhive.info/music/music.xml</a> on my application I use  </p>\n\n<pre><code>static final String URL = \"http://api.androidhive.info/music/music.xml\";\nString xml = parser.getXmlFromUrl(URL);\n</code></pre>\n\n<p>works fine but know I have put this file in my Android resource folder. So how do I get my file from android drawable folder like this <code>R.drawble.music.xml</code> instead of web page.\n<a href=\"http://api.androidhive.info/music/music.xml\" rel=\"nofollow noreferrer\">http://api.androidhive.info/music/music.xml</a></p>\n"},{"tags":["java","c#",".net"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1654790581,"post_id":72563253,"comment_id":128181619,"body_markdown":"`target.getBytes()` will return various encodings depending on your OS, JVM, and Java version. Unless you don&#39;t care if the bytes are Windows-1252 or ISO-8859-1 or UTF-8 or EBCDIC, you should never use it for anything and instead prefer `target.getBytes(StandardCharsets.UTF_8)`.","body":"<code>target.getBytes()</code> will return various encodings depending on your OS, JVM, and Java version. Unless you don&#39;t care if the bytes are Windows-1252 or ISO-8859-1 or UTF-8 or EBCDIC, you should never use it for anything and instead prefer <code>target.getBytes(StandardCharsets.UTF_8)</code>."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1654790741,"post_id":72563253,"comment_id":128181688,"body_markdown":"Also, on recent versions of Java, you can use `HexFormat.of().format(db)` instead of the loop to format the digest.","body":"Also, on recent versions of Java, you can use <code>HexFormat.of().format(db)</code> instead of the loop to format the digest."},{"owner":{"account_id":11738688,"reputation":5051,"user_id":13677853,"display_name":"nop"},"score":0,"creation_date":1654790966,"post_id":72563253,"comment_id":128181775,"body_markdown":"@DavidConrad, thanks but I&#39;m not using the Java code. I&#39;m trying to convert it to C#.","body":"@DavidConrad, thanks but I&#39;m not using the Java code. I&#39;m trying to convert it to C#."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1654791227,"post_id":72563253,"comment_id":128181874,"body_markdown":"What does that mean, then, &quot;it still says that the signature is invalid&quot;? I thought you were comparing the signatures produced by the Java code vs. the C# code. The C# code is explicitly using UTF-8, so maybe that is the problem. &quot;It,&quot; whatever it is, does not expect the signature to be done with UTF-8, but rather some other unspecified encoding.","body":"What does that mean, then, &quot;it still says that the signature is invalid&quot;? I thought you were comparing the signatures produced by the Java code vs. the C# code. The C# code is explicitly using UTF-8, so maybe that is the problem. &quot;It,&quot; whatever it is, does not expect the signature to be done with UTF-8, but rather some other unspecified encoding."},{"owner":{"account_id":11738688,"reputation":5051,"user_id":13677853,"display_name":"nop"},"score":0,"creation_date":1654791458,"post_id":72563253,"comment_id":128181973,"body_markdown":"@DavidConrad, I&#39;m not sure because the exchange doesn&#39;t really provide that information. https://github.com/mxcdevelop/mexc-api-demo/blob/7991f8a3a17e6ba5dc2cf55133532ab145b0c878/Java/src/main/java/com/mexc/example/spot/websocket/MexcSpotRawWsExample.java#L88 The Java code works fine","body":"@DavidConrad, I&#39;m not sure because the exchange doesn&#39;t really provide that information. <a href=\"https://github.com/mxcdevelop/mexc-api-demo/blob/7991f8a3a17e6ba5dc2cf55133532ab145b0c878/Java/src/main/java/com/mexc/example/spot/websocket/MexcSpotRawWsExample.java#L88\" rel=\"nofollow noreferrer\">github.com/mxcdevelop/mexc-api-demo/blob/&hellip;</a> The Java code works fine"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1654793226,"post_id":72563253,"comment_id":128182603,"body_markdown":"The main difference I can see is that they are using different character sets. You can check if the string is the same by adding some debugging code to each of them, but most likely it&#39;s the encoding. You can check what encoding Java is using by looking at `java.nio.charset.Charset.defaultCharset()` or `System.getProperty(&quot;file.encoding&quot;)`. And then change C# to use the same.","body":"The main difference I can see is that they are using different character sets. You can check if the string is the same by adding some debugging code to each of them, but most likely it&#39;s the encoding. You can check what encoding Java is using by looking at <code>java.nio.charset.Charset.defaultCharset()</code> or <code>System.getProperty(&quot;file.encoding&quot;)</code>. And then change C# to use the same."},{"owner":{"account_id":11738688,"reputation":5051,"user_id":13677853,"display_name":"nop"},"score":1,"creation_date":1654796533,"post_id":72563253,"comment_id":128183668,"body_markdown":"@DavidConrad, the support told me that the lexicographical sort is causing it.","body":"@DavidConrad, the support told me that the lexicographical sort is causing it."},{"owner":{"account_id":11738688,"reputation":5051,"user_id":13677853,"display_name":"nop"},"score":0,"creation_date":1654796799,"post_id":72563253,"comment_id":128183751,"body_markdown":"@DavidConrad, confirmed it was causing it. Now I gotta find a way to wrap the sorting inside the method","body":"@DavidConrad, confirmed it was causing it. Now I gotta find a way to wrap the sorting inside the method"}],"answers":[{"tags":[],"owner":{"account_id":9606741,"reputation":32531,"user_id":7132550,"accept_rate":75,"display_name":"Michał Turczyn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654803654,"creation_date":1654803654,"answer_id":72565799,"question_id":72563253,"body_markdown":"In `GenerateSign` method you can just create instance of `SortedDictionary` based on dictionary passed as parameter:\r\n```C#\r\nprivate static string GenerateSign(Dictionary&lt;string, object&gt; query, string apiSecret)\r\n{\r\n    var sortedDict = new SortedDictionary&lt;string, object&gt;(query, StringComparer.Ordinal);\r\n    // rest of the method\r\n}\r\n```\r\nOr you can do even better (note the important change from `Dictionary` to `IDictionary`):\r\n```C#\r\nprivate static string GenerateSign(IDictionary&lt;string, object&gt; query, string apiSecret)\r\n{\r\n    query = new SortedDictionary&lt;string, object&gt;(query, StringComparer.Ordinal);\r\n    // rest of the method\r\n}\r\n```\r\n","title":"How to port MD5 signature code from Java to C#","body":"<p>In <code>GenerateSign</code> method you can just create instance of <code>SortedDictionary</code> based on dictionary passed as parameter:</p>\n<pre><code>private static string GenerateSign(Dictionary&lt;string, object&gt; query, string apiSecret)\n{\n    var sortedDict = new SortedDictionary&lt;string, object&gt;(query, StringComparer.Ordinal);\n    // rest of the method\n}\n</code></pre>\n<p>Or you can do even better (note the important change from <code>Dictionary</code> to <code>IDictionary</code>):</p>\n<pre><code>private static string GenerateSign(IDictionary&lt;string, object&gt; query, string apiSecret)\n{\n    query = new SortedDictionary&lt;string, object&gt;(query, StringComparer.Ordinal);\n    // rest of the method\n}\n</code></pre>\n"}],"owner":{"account_id":11738688,"reputation":5051,"user_id":13677853,"display_name":"nop"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72565799,"answer_count":1,"score":0,"last_activity_date":1654803654,"creation_date":1654789877,"question_id":72563253,"body_markdown":"I&#39;m trying to port the following Java code to C#, but so far it still says that the signature is invalid.\r\n\r\n```cs\r\nprivate static String generateSignStr(Map&lt;String, String&gt; params, String key) {\r\n    StringBuilder sb = new StringBuilder();\r\n    params.entrySet().stream().sorted(Map.Entry.comparingByKey()).forEach(entry -&gt; {\r\n        if (sb.length() &gt; 0) {\r\n            sb.append(&#39;&amp;&#39;);\r\n        }\r\n        sb.append(entry.getKey()).append(&#39;=&#39;);\r\n        sb.append(entry.getValue());\r\n    });\r\n    sb.append(&#39;&amp;&#39;).append(&quot;api_secret&quot;)\r\n            .append(&#39;=&#39;).append(key);\r\n    return sb.toString();\r\n}\r\n\r\nprivate static String sign(String target) {\r\n    MessageDigest md;\r\n    try {\r\n        md = MessageDigest.getInstance(&quot;MD5&quot;);\r\n    } catch (NoSuchAlgorithmException e) {\r\n        log.error(&quot;Fail to get MD5 instance&quot;);\r\n        return null;\r\n    }\r\n    md.update(target.getBytes());\r\n    byte[] dg = md.digest();\r\n    StringBuilder output = new StringBuilder(dg.length * 2);\r\n    for (byte dgByte : dg) {\r\n        int current = dgByte &amp; 0xff;\r\n        if (current &lt; 16) {\r\n            output.append(&quot;0&quot;);\r\n        }\r\n        output.append(Integer.toString(current, 16));\r\n    }\r\n    return output.toString();\r\n}\r\n```\r\n\r\n```cs\r\nprivate static string GenerateSign(Dictionary&lt;string, object&gt; query, string apiSecret)\r\n{\r\n    var sb = new StringBuilder();\r\n\r\n    var queryParameterString = string.Join(&quot;&amp;&quot;,\r\n        query.Where(kvp =&gt; !string.IsNullOrWhiteSpace(kvp.Value.ToString()))\r\n            .Select(kvp =&gt; $&quot;{kvp.Key}={HttpUtility.UrlEncode(kvp.Value.ToString())}&quot;));\r\n    sb.Append(queryParameterString);\r\n\r\n    if (sb.Length &gt; 0)\r\n    {\r\n        sb.Append(&#39;&amp;&#39;);\r\n    }\r\n\r\n    sb.Append(&quot;api_secret=&quot;).Append(apiSecret);\r\n\r\n    return sb.ToString();\r\n}\r\n\r\nprivate static string Sign(string source)\r\n{\r\n    using var md5 = MD5.Create();\r\n    var sourceBytes = Encoding.UTF8.GetBytes(source);\r\n    var hash = md5.ComputeHash(sourceBytes);\r\n    return BitConverter.ToString(hash).Replace(&quot;-&quot;, string.Empty).ToLowerInvariant();\r\n}\r\n```\r\n\r\n# Edit:\r\n\r\nThis fixed it. However, it would be nice if someone knows a way to lexicographically sort the dictionary inside that method just like the Java code.\r\n\r\n```cs\r\nvar @params = new Dictionary&lt;string, object&gt;\r\n        {\r\n            { &quot;api_key&quot;, _apiKey },\r\n            { &quot;req_time&quot;, now },\r\n            { &quot;op&quot;, &quot;sub.personal&quot; }\r\n        };\r\n\r\n        var javaSorted = @params.OrderBy(item =&gt; item.Key, StringComparer.Ordinal)\r\n            .ToDictionary(i =&gt; i.Key, i =&gt; i.Value);\r\n\r\nvar signature = Sign(GenerateSign(javaSorted, _apiSecret));\r\n```\r\n","title":"How to port MD5 signature code from Java to C#","body":"<p>I'm trying to port the following Java code to C#, but so far it still says that the signature is invalid.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>private static String generateSignStr(Map&lt;String, String&gt; params, String key) {\n    StringBuilder sb = new StringBuilder();\n    params.entrySet().stream().sorted(Map.Entry.comparingByKey()).forEach(entry -&gt; {\n        if (sb.length() &gt; 0) {\n            sb.append('&amp;');\n        }\n        sb.append(entry.getKey()).append('=');\n        sb.append(entry.getValue());\n    });\n    sb.append('&amp;').append(&quot;api_secret&quot;)\n            .append('=').append(key);\n    return sb.toString();\n}\n\nprivate static String sign(String target) {\n    MessageDigest md;\n    try {\n        md = MessageDigest.getInstance(&quot;MD5&quot;);\n    } catch (NoSuchAlgorithmException e) {\n        log.error(&quot;Fail to get MD5 instance&quot;);\n        return null;\n    }\n    md.update(target.getBytes());\n    byte[] dg = md.digest();\n    StringBuilder output = new StringBuilder(dg.length * 2);\n    for (byte dgByte : dg) {\n        int current = dgByte &amp; 0xff;\n        if (current &lt; 16) {\n            output.append(&quot;0&quot;);\n        }\n        output.append(Integer.toString(current, 16));\n    }\n    return output.toString();\n}\n</code></pre>\n<pre class=\"lang-cs prettyprint-override\"><code>private static string GenerateSign(Dictionary&lt;string, object&gt; query, string apiSecret)\n{\n    var sb = new StringBuilder();\n\n    var queryParameterString = string.Join(&quot;&amp;&quot;,\n        query.Where(kvp =&gt; !string.IsNullOrWhiteSpace(kvp.Value.ToString()))\n            .Select(kvp =&gt; $&quot;{kvp.Key}={HttpUtility.UrlEncode(kvp.Value.ToString())}&quot;));\n    sb.Append(queryParameterString);\n\n    if (sb.Length &gt; 0)\n    {\n        sb.Append('&amp;');\n    }\n\n    sb.Append(&quot;api_secret=&quot;).Append(apiSecret);\n\n    return sb.ToString();\n}\n\nprivate static string Sign(string source)\n{\n    using var md5 = MD5.Create();\n    var sourceBytes = Encoding.UTF8.GetBytes(source);\n    var hash = md5.ComputeHash(sourceBytes);\n    return BitConverter.ToString(hash).Replace(&quot;-&quot;, string.Empty).ToLowerInvariant();\n}\n</code></pre>\n<h1>Edit:</h1>\n<p>This fixed it. However, it would be nice if someone knows a way to lexicographically sort the dictionary inside that method just like the Java code.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>var @params = new Dictionary&lt;string, object&gt;\n        {\n            { &quot;api_key&quot;, _apiKey },\n            { &quot;req_time&quot;, now },\n            { &quot;op&quot;, &quot;sub.personal&quot; }\n        };\n\n        var javaSorted = @params.OrderBy(item =&gt; item.Key, StringComparer.Ordinal)\n            .ToDictionary(i =&gt; i.Key, i =&gt; i.Value);\n\nvar signature = Sign(GenerateSign(javaSorted, _apiSecret));\n</code></pre>\n"},{"tags":["java","android","kotlin","android-canvas","drawbitmap"],"comments":[{"owner":{"account_id":13117480,"reputation":371,"user_id":9476147,"display_name":"Syed Faizan Ali"},"score":0,"creation_date":1654773437,"post_id":72559186,"comment_id":128174555,"body_markdown":"Can you use an XML drawable for this purpose? If yes then I may have a good solution for you.","body":"Can you use an XML drawable for this purpose? If yes then I may have a good solution for you."}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654803651,"creation_date":1654774853,"answer_id":72559634,"question_id":72559186,"body_markdown":"You&#39;re initialising `backgroundGradient` when you declare the variable, and that sets the gradient width with a call to ``getIntrinsicWidth``, which itself relies on `textWidth` having been initialised. But that initialisation happens in the `init` block, which is below `backgroundGradient`, so it hasn&#39;t run yet.\r\n\r\nI haven&#39;t tested it but I&#39;m guessing `textWidth` is still zero (they behave like Java objects/primitives in this situation) so you&#39;re getting a very tiny gradient and the rest of your background is just the end colour. Try initialising your gradient in ``init``, after `textWidth` has been set\r\n\r\n----\r\n\r\nThis is the kind of thing I&#39;m talking about in the comments - you get your metrics in `draw()`, so that&#39;s when you should initialise/update your stuff that depends on those metrics:\r\n\r\n````\r\n// keep a record of the previous bounds values for comparison\r\nprivate var previousBounds: Rect? = null\r\n\r\noverride fun draw(canvas: Canvas) {\r\n    // check if the dimensions have changed - if so, update everything\r\n    if (bounds != previousBounds) {\r\n        updateStuff(bounds)\r\n        previousBounds = bounds\r\n    }\r\n\r\n    // draw stuff\r\n    canvas.drawRoundRect(bounds,\r\n        AndroidUtilities.dp(2f).toFloat(),\r\n        AndroidUtilities.dp(2f).toFloat(), paint\r\n    )\r\n    canvas.drawText(\r\n        text,\r\n        rect.left + AndroidUtilities.dp(5f),\r\n        rect.top + AndroidUtilities.dp(12f),\r\n        textPaint\r\n    )\r\n}\r\n\r\nprivate fun updateStuff(area: Rect) {\r\n    // update all your stuff that changes when the dimensions change\r\n    paint.shader = LinearGradient(\r\n        0f, 0f, area.width, 0f,\r\n        intArrayOf(-0xb73320, -0xafa523, -0x41bf40, -0x457d5),\r\n        floatArrayOf(0.06f, 0.34f, 0.73f, 1f),\r\n        Shader.TileMode.CLAMP\r\n    )\r\n}\r\n````\r\nSo the basic idea here is there&#39;s stuff you can initialise during construction - basic `Paint`s, colours etc. Then there&#39;s some stuff that you can only initialise during `draw`, when you finally have the drawable&#39;s dimensions. If you split those out, you can initialise/update the stuff that needs it directly from the `draw` function, when you have the info needed.\r\n\r\nFor example, you don&#39;t actually need to set a gradient shader on your paint during construction - you just need it before you try to draw anything. That&#39;s simple enough - set it inside the `draw` call. By keeping a copy of the most recent set of dimensions, you can compare and see if anything&#39;s changed, and avoid unnecessarily recreating the same `LinearGradient` every time (I don&#39;t know how often `draw` is called, but it&#39;s a good habit either way). By making it null at the start, the comparison fails so it always updates the first time `draw` is called (i.e. it initialises)\r\n\r\nI don&#39;t know if you&#39;re still using that `getIntrinsicWidth` call, but if you are, since it relies on `textSize` being set, just make sure that&#39;s set before you reference it. And since it looks like it doesn&#39;t change after being set during init, and the `draw` call (and any updates it triggers) comes later, it&#39;s all good. If any of that stuff *does* need to update, just put it in the update function, and make sure things come after anything they rely on\r\n\r\n(I haven&#39;t tested this code, it&#39;s just to give you the general idea)","title":"When trying to make a gradient from the background, the background is filled with one color","body":"<p>You're initialising <code>backgroundGradient</code> when you declare the variable, and that sets the gradient width with a call to <code>getIntrinsicWidth</code>, which itself relies on <code>textWidth</code> having been initialised. But that initialisation happens in the <code>init</code> block, which is below <code>backgroundGradient</code>, so it hasn't run yet.</p>\n<p>I haven't tested it but I'm guessing <code>textWidth</code> is still zero (they behave like Java objects/primitives in this situation) so you're getting a very tiny gradient and the rest of your background is just the end colour. Try initialising your gradient in <code>init</code>, after <code>textWidth</code> has been set</p>\n<hr />\n<p>This is the kind of thing I'm talking about in the comments - you get your metrics in <code>draw()</code>, so that's when you should initialise/update your stuff that depends on those metrics:</p>\n<pre><code>// keep a record of the previous bounds values for comparison\nprivate var previousBounds: Rect? = null\n\noverride fun draw(canvas: Canvas) {\n    // check if the dimensions have changed - if so, update everything\n    if (bounds != previousBounds) {\n        updateStuff(bounds)\n        previousBounds = bounds\n    }\n\n    // draw stuff\n    canvas.drawRoundRect(bounds,\n        AndroidUtilities.dp(2f).toFloat(),\n        AndroidUtilities.dp(2f).toFloat(), paint\n    )\n    canvas.drawText(\n        text,\n        rect.left + AndroidUtilities.dp(5f),\n        rect.top + AndroidUtilities.dp(12f),\n        textPaint\n    )\n}\n\nprivate fun updateStuff(area: Rect) {\n    // update all your stuff that changes when the dimensions change\n    paint.shader = LinearGradient(\n        0f, 0f, area.width, 0f,\n        intArrayOf(-0xb73320, -0xafa523, -0x41bf40, -0x457d5),\n        floatArrayOf(0.06f, 0.34f, 0.73f, 1f),\n        Shader.TileMode.CLAMP\n    )\n}\n</code></pre>\n<p>So the basic idea here is there's stuff you can initialise during construction - basic <code>Paint</code>s, colours etc. Then there's some stuff that you can only initialise during <code>draw</code>, when you finally have the drawable's dimensions. If you split those out, you can initialise/update the stuff that needs it directly from the <code>draw</code> function, when you have the info needed.</p>\n<p>For example, you don't actually need to set a gradient shader on your paint during construction - you just need it before you try to draw anything. That's simple enough - set it inside the <code>draw</code> call. By keeping a copy of the most recent set of dimensions, you can compare and see if anything's changed, and avoid unnecessarily recreating the same <code>LinearGradient</code> every time (I don't know how often <code>draw</code> is called, but it's a good habit either way). By making it null at the start, the comparison fails so it always updates the first time <code>draw</code> is called (i.e. it initialises)</p>\n<p>I don't know if you're still using that <code>getIntrinsicWidth</code> call, but if you are, since it relies on <code>textSize</code> being set, just make sure that's set before you reference it. And since it looks like it doesn't change after being set during init, and the <code>draw</code> call (and any updates it triggers) comes later, it's all good. If any of that stuff <em>does</em> need to update, just put it in the update function, and make sure things come after anything they rely on</p>\n<p>(I haven't tested this code, it's just to give you the general idea)</p>\n"}],"owner":{"account_id":9850569,"reputation":49,"user_id":15262158,"display_name":"Drics"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72559634,"answer_count":1,"score":0,"last_activity_date":1654803651,"creation_date":1654772642,"question_id":72559186,"body_markdown":"I&#39;m creating an Android application and I needed to create a Drawable with a gradient background and text inside, but for some reason I don&#39;t have a gradient, and the entire background is filled with solid color&lt;br&gt;\r\nClass code:\r\n\r\n```kotlin\r\nclass TestDrawable(textSize: Int = 16) : Drawable() {\r\n    private val rect = RectF()\r\n    private val paint = Paint(Paint.ANTI_ALIAS_FLAG)\r\n    private val textPaint = TextPaint(Paint.ANTI_ALIAS_FLAG)\r\n    private val textWidth: Int\r\n    private val text: String\r\n\r\n    private var backgroundGradient: LinearGradient = LinearGradient(\r\n        0f, 0f, intrinsicWidth.toFloat(), 0f,\r\n        intArrayOf(-0xb73320, -0xafa523, -0x41bf40, -0x457d5),\r\n        floatArrayOf(0.06f, 0.34f, 0.73f, 1f),\r\n        Shader.TileMode.CLAMP\r\n    )\r\n\r\n    override fun draw(canvas: Canvas) {\r\n        rect.set(bounds)\r\n        canvas.drawRoundRect(rect,\r\n            AndroidUtilities.dp(2f).toFloat(),\r\n            AndroidUtilities.dp(2f).toFloat(), paint)\r\n        canvas.drawText(\r\n            text,\r\n            rect.left + AndroidUtilities.dp(5f),\r\n            rect.top + AndroidUtilities.dp(12f),\r\n            textPaint\r\n        )\r\n    }\r\n\r\n    override fun getIntrinsicWidth(): Int {\r\n        return textWidth + AndroidUtilities.dp((5 * 2).toFloat())\r\n    }\r\n\r\n    override fun getIntrinsicHeight(): Int {\r\n        return AndroidUtilities.dp(16f)\r\n    }\r\n\r\n    init {\r\n        textPaint.textSize = AndroidUtilities.dp(textSize.toFloat()).toFloat()\r\n        textPaint.typeface = AndroidUtilities.getTypeface(&quot;fonts/rmedium.ttf&quot;)\r\n        textPaint.color = -0x1000000\r\n\r\n        //paint.style = Paint.Style.FILL\r\n        paint.color = -0x1\r\n        paint.shader = backgroundGradient\r\n        backgroundGradient.setLocalMatrix(Matrix())\r\n\r\n        text = &quot;plus&quot;.uppercase()\r\n        textWidth = ceil(textPaint.measureText(text).toDouble()).toInt()\r\n    }\r\n}\r\n```","title":"When trying to make a gradient from the background, the background is filled with one color","body":"<p>I'm creating an Android application and I needed to create a Drawable with a gradient background and text inside, but for some reason I don't have a gradient, and the entire background is filled with solid color<br>\nClass code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class TestDrawable(textSize: Int = 16) : Drawable() {\n    private val rect = RectF()\n    private val paint = Paint(Paint.ANTI_ALIAS_FLAG)\n    private val textPaint = TextPaint(Paint.ANTI_ALIAS_FLAG)\n    private val textWidth: Int\n    private val text: String\n\n    private var backgroundGradient: LinearGradient = LinearGradient(\n        0f, 0f, intrinsicWidth.toFloat(), 0f,\n        intArrayOf(-0xb73320, -0xafa523, -0x41bf40, -0x457d5),\n        floatArrayOf(0.06f, 0.34f, 0.73f, 1f),\n        Shader.TileMode.CLAMP\n    )\n\n    override fun draw(canvas: Canvas) {\n        rect.set(bounds)\n        canvas.drawRoundRect(rect,\n            AndroidUtilities.dp(2f).toFloat(),\n            AndroidUtilities.dp(2f).toFloat(), paint)\n        canvas.drawText(\n            text,\n            rect.left + AndroidUtilities.dp(5f),\n            rect.top + AndroidUtilities.dp(12f),\n            textPaint\n        )\n    }\n\n    override fun getIntrinsicWidth(): Int {\n        return textWidth + AndroidUtilities.dp((5 * 2).toFloat())\n    }\n\n    override fun getIntrinsicHeight(): Int {\n        return AndroidUtilities.dp(16f)\n    }\n\n    init {\n        textPaint.textSize = AndroidUtilities.dp(textSize.toFloat()).toFloat()\n        textPaint.typeface = AndroidUtilities.getTypeface(&quot;fonts/rmedium.ttf&quot;)\n        textPaint.color = -0x1000000\n\n        //paint.style = Paint.Style.FILL\n        paint.color = -0x1\n        paint.shader = backgroundGradient\n        backgroundGradient.setLocalMatrix(Matrix())\n\n        text = &quot;plus&quot;.uppercase()\n        textWidth = ceil(textPaint.measureText(text).toDouble()).toInt()\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","jackson-dataformat-xml","jack"],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654779784,"creation_date":1654779784,"answer_id":72560794,"question_id":72560237,"body_markdown":"try a custom deserializer, e.g.\r\n\r\n    class DeSerializer extends StdDeserializer&lt;ModelTrees&gt; {\r\n    \r\n    \tprotected DeSerializer() {\r\n    \t\tsuper(ModelTrees.class);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ModelTrees deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\r\n    \t\tJsonNode node = jp.getCodec().readTree(jp);\r\n    \r\n    \t\tJsonNode treesNode = node.get(&quot;model_trees&quot;);\r\n    \r\n    \t\tJsonNode entryNode = treesNode.get(&quot;entry&quot;);\r\n    \r\n    \t\treturn new ModelTrees(entryNode.get(&quot;tree_kind&quot;).textValue(), entryNode.get(&quot;age&quot;).asInt());\r\n    \t}\r\n    }\r\n\r\nModel class:\r\n\r\n    public class ModelTrees {\r\n    \tprivate String treeKind;\r\n    \tprivate int age;\r\n    \r\n    \tpublic ModelTrees(String treeKind, int age) {\r\n    \t\tthis.treeKind = treeKind;\r\n    \t\tthis.age = age;\r\n    \t}\r\n    }\r\n\r\nRegister custom mapper:\r\n\r\n    XmlMapper mapper = new XmlMapper();\r\n    SimpleModule module = new SimpleModule(&quot;configModule&quot;,   com.fasterxml.jackson.core.Version.unknownVersion());\r\n    module.addDeserializer(ModelTrees.class, new DeSerializer());\r\n    mapper.registerModule(module);","title":"Java XML Jackson parsing xml to object and ignore some elements","body":"<p>try a custom deserializer, e.g.</p>\n<pre><code>class DeSerializer extends StdDeserializer&lt;ModelTrees&gt; {\n\n    protected DeSerializer() {\n        super(ModelTrees.class);\n    }\n\n    @Override\n    public ModelTrees deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        JsonNode node = jp.getCodec().readTree(jp);\n\n        JsonNode treesNode = node.get(&quot;model_trees&quot;);\n\n        JsonNode entryNode = treesNode.get(&quot;entry&quot;);\n\n        return new ModelTrees(entryNode.get(&quot;tree_kind&quot;).textValue(), entryNode.get(&quot;age&quot;).asInt());\n    }\n}\n</code></pre>\n<p>Model class:</p>\n<pre><code>public class ModelTrees {\n    private String treeKind;\n    private int age;\n\n    public ModelTrees(String treeKind, int age) {\n        this.treeKind = treeKind;\n        this.age = age;\n    }\n}\n</code></pre>\n<p>Register custom mapper:</p>\n<pre><code>XmlMapper mapper = new XmlMapper();\nSimpleModule module = new SimpleModule(&quot;configModule&quot;,   com.fasterxml.jackson.core.Version.unknownVersion());\nmodule.addDeserializer(ModelTrees.class, new DeSerializer());\nmapper.registerModule(module);\n</code></pre>\n"}],"owner":{"account_id":19856892,"reputation":29,"user_id":14546117,"display_name":"Lethargicaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72560794,"answer_count":1,"score":1,"last_activity_date":1654803640,"creation_date":1654777597,"question_id":72560237,"body_markdown":"I want to get the fields of model_tree into an object.\r\n```xml    \r\n    &lt;form&gt;\r\n      &lt;model_trees&gt;\r\n        &lt;entry&gt;\r\n            &lt;tree_kind&gt;kind&lt;/tree_kind&gt;\r\n            &lt;age&gt;10&lt;/age&gt;\r\n        &lt;/entry&gt;\r\n      &lt;/model_trees&gt;\r\n    &lt;/form&gt;\r\n```   \r\n```java \r\n    @JsonIgnoreProperties(ignoreUnknown=true)\r\n    @JacksonXmlRootElement(localName = &quot;model_trees&quot;)\r\n    public class ModelTrees extends BaseEntity {\r\n      @JacksonXmlProperty(localName = &quot;tree_kind&quot;)\r\n      private String treeKind;\r\n      @JacksonXmlProperty\r\n      private int age;\r\n    }\r\n```\r\nIs there a way to not create additional classes for &quot;form&quot;/&quot;entry&quot; elements?","title":"Java XML Jackson parsing xml to object and ignore some elements","body":"<p>I want to get the fields of model_tree into an object.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;form&gt;\n      &lt;model_trees&gt;\n        &lt;entry&gt;\n            &lt;tree_kind&gt;kind&lt;/tree_kind&gt;\n            &lt;age&gt;10&lt;/age&gt;\n        &lt;/entry&gt;\n      &lt;/model_trees&gt;\n    &lt;/form&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    @JsonIgnoreProperties(ignoreUnknown=true)\n    @JacksonXmlRootElement(localName = &quot;model_trees&quot;)\n    public class ModelTrees extends BaseEntity {\n      @JacksonXmlProperty(localName = &quot;tree_kind&quot;)\n      private String treeKind;\n      @JacksonXmlProperty\n      private int age;\n    }\n</code></pre>\n<p>Is there a way to not create additional classes for &quot;form&quot;/&quot;entry&quot; elements?</p>\n"},{"tags":["java","html","asp.net-core-mvc"],"comments":[{"owner":{"account_id":3472896,"reputation":849,"user_id":2906821,"accept_rate":42,"display_name":"Dhruv Pal"},"score":0,"creation_date":1654805018,"post_id":72565775,"comment_id":128186212,"body_markdown":"By not going into depth of the question, usually in these cases, I upload files on a server and store the URL in the database, then those links can be directly opened on UI. Saves a lot of headaches","body":"By not going into depth of the question, usually in these cases, I upload files on a server and store the URL in the database, then those links can be directly opened on UI. Saves a lot of headaches"},{"owner":{"account_id":23367131,"reputation":8945,"user_id":17438579,"display_name":"Xinran Shen"},"score":0,"creation_date":1654824314,"post_id":72565775,"comment_id":128189960,"body_markdown":"So what&#39;s the problem you have met?","body":"So what&#39;s the problem you have met?"},{"owner":{"account_id":25419967,"reputation":25,"user_id":19226166,"display_name":"ParadigmOmega"},"score":0,"creation_date":1654856809,"post_id":72565775,"comment_id":128197533,"body_markdown":"The images don&#39;t get stored in the database table &quot;Pets&quot; once a Resident record is added. The other details save - just not the images.","body":"The images don&#39;t get stored in the database table &quot;Pets&quot; once a Resident record is added. The other details save - just not the images."},{"owner":{"account_id":23367131,"reputation":8945,"user_id":17438579,"display_name":"Xinran Shen"},"score":0,"creation_date":1655105261,"post_id":72565775,"comment_id":128242346,"body_markdown":"You can refer to this [doc](https://tutexchange.com/how-to-upload-files-and-save-in-database-in-asp-net-core-mvc/) about how to upload file and save in database.","body":"You can refer to this <a href=\"https://tutexchange.com/how-to-upload-files-and-save-in-database-in-asp-net-core-mvc/\" rel=\"nofollow noreferrer\">doc</a> about how to upload file and save in database."}],"owner":{"account_id":25419967,"reputation":25,"user_id":19226166,"display_name":"ParadigmOmega"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654803515,"creation_date":1654803515,"question_id":72565775,"body_markdown":"I have been stuck on an issue with a one to many relationship database. I am trying to upload images to a record in the database, but everything I try is not working. Basically, I want to allow a user to upload different pictures of the pet into a database. There is one resident, but multiple pets, each pet can have multiple images, some images may be null. I am trying to store the image as a byte[], but if there is a better way of doing it please let me know. I am asking for a fresh pair of eyes to see what I am not seeing.\r\n\r\nResident Model\r\n\r\n```\r\npublic class Residents\r\n    {\r\n        [Key]\r\n        public int ResidentId { get; set; }\r\n        [Required]\r\n        [StringLength(10)]\r\n        public string UnitNo { get; set; } = string.Empty;   \r\n        [Required]\r\n        [StringLength(100)]\r\n        public string Name { get; set; } = string.Empty;\r\n        [Required]\r\n        [StringLength(100)]\r\n        public string Surname { get; set; } = string.Empty;\r\n        [Required]\r\n        [StringLength(50)]\r\n        public string EmailAddress { get; set; } = string.Empty;\r\n        [StringLength(20)]\r\n        public string ResTel1 { get; set; } = string.Empty;\r\n        [StringLength(20)]\r\n        public string ResTel2 { get; set; } = string.Empty;\r\n        public DateTime ApplicationDate { get; set; }\r\n        //[Required]\r\n        [StringLength(10)]\r\n        public string PetAmount { get; set; } = string.Empty;\r\n        [Required]\r\n        [StringLength(10)]\r\n        public string ApplicationSigned { get; set; } = &quot;No&quot;;\r\n        [StringLength(50)]\r\n        public string TrusteeAppStatus { get; set; } = string.Empty;\r\n        public virtual List&lt;Pets&gt; Pets { get; set; } = new List&lt;Pets&gt;();\r\n    }\r\n}\r\n\r\n```\r\n\r\nPets Model\r\n\r\n```\r\n\r\npublic class Pets\r\n    {\r\n        [Key]\r\n        public int PetId { get; set; }\r\n        [ForeignKey(&quot;ResID&quot;)]\r\n        public int ResID { get; set; }\r\n        public virtual Residents Resident { get; private set; }\r\n        public string PetName { get; set; } = string.Empty;\r\n        public string PetType { get; set; } = string.Empty;\r\n        public string PetSex { get; set; } = string.Empty;\r\n        public string PetDesc { get; set; } = string.Empty;\r\n        public string PetChip { get; set; } = string.Empty;\r\n        public string PetChipImageUrl { get; set; } = string.Empty;\r\n        [Display(Name = &quot;Pet Chip Image&quot;)]\r\n        [NotMapped]\r\n        public IFormFile? PetChipImage { get; set; }\r\n        public string PetSterile { get; set; } = string.Empty;\r\n        public string PetSterileImageUrl { get; set; } = string.Empty;\r\n        [Display(Name = &quot;Pet Sterile Image&quot;)]\r\n        [NotMapped]\r\n        public IFormFile? PetSterileImage { get; set; }\r\n        public string PetStatus { get; set; } = string.Empty;\r\n        public string PetAdditional { get; set; } = string.Empty;\r\n        public string PetImageUrl { get; set; } = string.Empty;\r\n        [Display(Name = &quot;Pet Sterile Image&quot;)]\r\n        [NotMapped]\r\n        public IFormFile? PetImage { get; set; }\r\n    }\r\n}\r\n\r\n```\r\n\r\nController\r\n\r\n```\r\n\r\n[HttpGet]\r\n        public IActionResult Create()\r\n        { \r\n            Residents residents = new Residents();\r\n            residents.Pets.Add(new Pets() { PetId = 1 });\r\n            return View(residents);\r\n        }\r\n\r\n        [HttpPost]\r\n        public IActionResult Create(Residents residents)\r\n        {\r\n            foreach (Pets pets in residents.Pets)\r\n            {\r\n                if (pets.PetName == null || pets.PetName.Length == 0)\r\n                    residents.Pets.Remove(pets);\r\n            }\r\n\r\n           \r\n            _context.Residents.Add(residents);\r\n            _context.SaveChanges();\r\n            return RedirectToAction(&quot;Index&quot;);  \r\n        }\r\n```\r\n\r\nCSHTML\r\n\r\n```\r\n&lt;div id=&quot;PetInput&quot; class=&quot;col-md-12&quot;&gt;\r\n                    &lt;table id=&quot;PetAdd&quot; class=&quot;table table-striped table-sm&quot;&gt;\r\n                        &lt;thead&gt;\r\n                            &lt;tr&gt;\r\n                                &lt;th&gt;\r\n                                    Pet name\r\n                                &lt;/th&gt;\r\n                                &lt;th&gt;\r\n                                    Type\r\n                                &lt;/th&gt;\r\n                                &lt;th&gt;\r\n                                    Gender\r\n                                &lt;/th&gt;\r\n                                &lt;th&gt;\r\n                                    Description\r\n                                &lt;/th&gt;\r\n                                &lt;th&gt;\r\n                                    Chipped?\r\n                                &lt;/th&gt;\r\n                                &lt;th&gt;\r\n                                    Sterilized?\r\n                                &lt;/th&gt;\r\n                                &lt;th&gt;\r\n                                    Status\r\n                                &lt;/th&gt;\r\n                                &lt;th&gt;\r\n                                    Additional Info\r\n                                &lt;/th&gt;\r\n                                &lt;th&gt;\r\n\r\n                                &lt;/th&gt;\r\n                                &lt;/tr&gt;\r\n                        &lt;/thead&gt;\r\n                        &lt;tbody&gt;\r\n                            @*@foreach (var item in Model.Pets)*@\r\n                            @for (int i = 0; i &lt; Model.Pets.Count; i++)\r\n                            {\r\n                                &lt;tr&gt;\r\n                                    &lt;td&gt;\r\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetName, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\r\n                                        @*&lt;input asp-for=&quot;@item.PetName&quot; class=&quot;form-control&quot; /&gt;*@\r\n                                    &lt;/td&gt;\r\n                                    &lt;td&gt;\r\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetType, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\r\n                                        @*&lt;input asp-for=&quot;@item.PetType&quot; class=&quot;form-control&quot; /&gt;*@\r\n                                    &lt;/td&gt;\r\n                                    &lt;td&gt;\r\n                                        @*@Html.EditorFor(x =&gt; x.Pets[i].PetSex, new { htmlAttributes = new { @class = &quot;form-control&quot;} })*@\r\n                                        @Html.DropDownListFor(x =&gt; x.Pets[i].PetSex, new SelectList(Enum.GetValues(typeof(PetGender))),&quot;Select&quot;)\r\n                                        @*&lt;input asp-for=&quot;@item.PetSex&quot; class=&quot;form-control&quot; /&gt;*@\r\n                                    &lt;/td&gt;\r\n                                    &lt;td&gt;\r\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetDesc, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\r\n                                        @*&lt;input asp-for=&quot;@item.PetDesc&quot; class=&quot;form-control&quot; /&gt;*@\r\n                                    &lt;/td&gt;\r\n                                    &lt;td&gt;\r\n                                        @*@Html.EditorFor(x =&gt; x.Pets[i].PetChip, new { htmlAttributes = new { @class = &quot;form-control&quot;} })*@\r\n                                         @Html.DropDownListFor(x =&gt; x.Pets[i].PetChip, new SelectList(Enum.GetValues(typeof(ChooseYesNo))),&quot;Select&quot;)\r\n                                        @*&lt;input asp-for=&quot;@item.PetChip&quot; class=&quot;form-control&quot; /&gt;*@\r\n                                    &lt;/td&gt;\r\n                                    &lt;td&gt;\r\n                                        @*@Html.EditorFor(x =&gt; x.Pets[i].PetSterile, new { htmlAttributes = new { @class = &quot;form-control&quot;} })*@\r\n                                        @Html.DropDownListFor(x =&gt; x.Pets[i].PetSterile, new SelectList(Enum.GetValues(typeof(ChooseYesNo))),&quot;Select&quot;)\r\n                                        @*&lt;input asp-for=&quot;@item.PetSterile&quot; class=&quot;form-control&quot; /&gt;*@\r\n                                    &lt;/td&gt;\r\n                                    &lt;td&gt;\r\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetStatus, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\r\n                                        @*&lt;input asp-for=&quot;@item.PetStatus&quot; class=&quot;form-control&quot; /&gt;*@\r\n                                    &lt;/td&gt;\r\n                                    &lt;td&gt;\r\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetAdditional, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\r\n                                        @*&lt;input asp-for=&quot;@item.PetAdditional&quot; class=&quot;form-control&quot; /&gt;*@\r\n                                    &lt;/td&gt;\r\n                                    \r\n                                &lt;/tr&gt;\r\n                                \r\n                                \r\n                                &lt;tr&gt;\r\n                                    &lt;td colspan=&quot;2&quot;&gt;\r\n                                        Add an image of the microchip certificate&lt;br /&gt;\r\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetChipImage, new { type = &quot;file&quot; })\r\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetChipImageUrl, new { type = &quot;file&quot;, @onchange =&quot;encodeImageFileAsURL(this)&quot;})\r\n                                       \r\n                                    &lt;/td&gt;\r\n                                    &lt;td colspan=&quot;4&quot;&gt;\r\n                                        Add an image of the sterilization certificate&lt;br /&gt;\r\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetSterileImage, new { type = &quot;file&quot; })\r\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetSterileImageUrl, new { type = &quot;file&quot; })\r\n                                    &lt;/td&gt;\r\n                                    &lt;td colspan=&quot;2&quot;&gt;\r\n                                        Add an image your pet&lt;br /&gt;\r\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetImage, new { type = &quot;file&quot; })\r\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetImageUrl, new { type = &quot;file&quot; })\r\n                                    &lt;/td&gt;\r\n                                    &lt;td&gt;\r\n                                    &lt;button id=&#39;btnadd-@i&#39; type=&quot;button&quot; class=&quot;btn btn-sm btn-secondary visible&quot;\r\n                                                onclick=&quot;AddItem(this)&quot; &gt;Add&lt;/button&gt;\r\n                                    &lt;button id=&#39;btnremove-@i&#39; type=&quot;button&quot; class=&quot;btn btn-sm btn-secondary invisible&quot;\r\n                                                onclick=&quot;DeleteItem(this)&quot;&gt;Delete&lt;/button&gt;\r\n                                    &lt;/td&gt; \r\n                               &lt;/tr&gt;\r\n```\r\n\r\nJava Script\r\n\r\n```\r\nfunction encodeImageFileAsURL(element) {\r\n\tvar file = element.files[0];\r\n\tvar reader = new FileReader();\r\n\treader.onloadend = function () {\r\n\t\tconsole.log(&#39;RESULT&#39;, reader.result)\r\n\t}\r\n\treader.readAsDataURL(file);\r\n}\r\n```\r\n","title":"Adding images as part of a one to many relationship","body":"<p>I have been stuck on an issue with a one to many relationship database. I am trying to upload images to a record in the database, but everything I try is not working. Basically, I want to allow a user to upload different pictures of the pet into a database. There is one resident, but multiple pets, each pet can have multiple images, some images may be null. I am trying to store the image as a byte[], but if there is a better way of doing it please let me know. I am asking for a fresh pair of eyes to see what I am not seeing.</p>\n<p>Resident Model</p>\n<pre><code>public class Residents\n    {\n        [Key]\n        public int ResidentId { get; set; }\n        [Required]\n        [StringLength(10)]\n        public string UnitNo { get; set; } = string.Empty;   \n        [Required]\n        [StringLength(100)]\n        public string Name { get; set; } = string.Empty;\n        [Required]\n        [StringLength(100)]\n        public string Surname { get; set; } = string.Empty;\n        [Required]\n        [StringLength(50)]\n        public string EmailAddress { get; set; } = string.Empty;\n        [StringLength(20)]\n        public string ResTel1 { get; set; } = string.Empty;\n        [StringLength(20)]\n        public string ResTel2 { get; set; } = string.Empty;\n        public DateTime ApplicationDate { get; set; }\n        //[Required]\n        [StringLength(10)]\n        public string PetAmount { get; set; } = string.Empty;\n        [Required]\n        [StringLength(10)]\n        public string ApplicationSigned { get; set; } = &quot;No&quot;;\n        [StringLength(50)]\n        public string TrusteeAppStatus { get; set; } = string.Empty;\n        public virtual List&lt;Pets&gt; Pets { get; set; } = new List&lt;Pets&gt;();\n    }\n}\n\n</code></pre>\n<p>Pets Model</p>\n<pre><code>\npublic class Pets\n    {\n        [Key]\n        public int PetId { get; set; }\n        [ForeignKey(&quot;ResID&quot;)]\n        public int ResID { get; set; }\n        public virtual Residents Resident { get; private set; }\n        public string PetName { get; set; } = string.Empty;\n        public string PetType { get; set; } = string.Empty;\n        public string PetSex { get; set; } = string.Empty;\n        public string PetDesc { get; set; } = string.Empty;\n        public string PetChip { get; set; } = string.Empty;\n        public string PetChipImageUrl { get; set; } = string.Empty;\n        [Display(Name = &quot;Pet Chip Image&quot;)]\n        [NotMapped]\n        public IFormFile? PetChipImage { get; set; }\n        public string PetSterile { get; set; } = string.Empty;\n        public string PetSterileImageUrl { get; set; } = string.Empty;\n        [Display(Name = &quot;Pet Sterile Image&quot;)]\n        [NotMapped]\n        public IFormFile? PetSterileImage { get; set; }\n        public string PetStatus { get; set; } = string.Empty;\n        public string PetAdditional { get; set; } = string.Empty;\n        public string PetImageUrl { get; set; } = string.Empty;\n        [Display(Name = &quot;Pet Sterile Image&quot;)]\n        [NotMapped]\n        public IFormFile? PetImage { get; set; }\n    }\n}\n\n</code></pre>\n<p>Controller</p>\n<pre><code>\n[HttpGet]\n        public IActionResult Create()\n        { \n            Residents residents = new Residents();\n            residents.Pets.Add(new Pets() { PetId = 1 });\n            return View(residents);\n        }\n\n        [HttpPost]\n        public IActionResult Create(Residents residents)\n        {\n            foreach (Pets pets in residents.Pets)\n            {\n                if (pets.PetName == null || pets.PetName.Length == 0)\n                    residents.Pets.Remove(pets);\n            }\n\n           \n            _context.Residents.Add(residents);\n            _context.SaveChanges();\n            return RedirectToAction(&quot;Index&quot;);  \n        }\n</code></pre>\n<p>CSHTML</p>\n<pre><code>&lt;div id=&quot;PetInput&quot; class=&quot;col-md-12&quot;&gt;\n                    &lt;table id=&quot;PetAdd&quot; class=&quot;table table-striped table-sm&quot;&gt;\n                        &lt;thead&gt;\n                            &lt;tr&gt;\n                                &lt;th&gt;\n                                    Pet name\n                                &lt;/th&gt;\n                                &lt;th&gt;\n                                    Type\n                                &lt;/th&gt;\n                                &lt;th&gt;\n                                    Gender\n                                &lt;/th&gt;\n                                &lt;th&gt;\n                                    Description\n                                &lt;/th&gt;\n                                &lt;th&gt;\n                                    Chipped?\n                                &lt;/th&gt;\n                                &lt;th&gt;\n                                    Sterilized?\n                                &lt;/th&gt;\n                                &lt;th&gt;\n                                    Status\n                                &lt;/th&gt;\n                                &lt;th&gt;\n                                    Additional Info\n                                &lt;/th&gt;\n                                &lt;th&gt;\n\n                                &lt;/th&gt;\n                                &lt;/tr&gt;\n                        &lt;/thead&gt;\n                        &lt;tbody&gt;\n                            @*@foreach (var item in Model.Pets)*@\n                            @for (int i = 0; i &lt; Model.Pets.Count; i++)\n                            {\n                                &lt;tr&gt;\n                                    &lt;td&gt;\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetName, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\n                                        @*&lt;input asp-for=&quot;@item.PetName&quot; class=&quot;form-control&quot; /&gt;*@\n                                    &lt;/td&gt;\n                                    &lt;td&gt;\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetType, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\n                                        @*&lt;input asp-for=&quot;@item.PetType&quot; class=&quot;form-control&quot; /&gt;*@\n                                    &lt;/td&gt;\n                                    &lt;td&gt;\n                                        @*@Html.EditorFor(x =&gt; x.Pets[i].PetSex, new { htmlAttributes = new { @class = &quot;form-control&quot;} })*@\n                                        @Html.DropDownListFor(x =&gt; x.Pets[i].PetSex, new SelectList(Enum.GetValues(typeof(PetGender))),&quot;Select&quot;)\n                                        @*&lt;input asp-for=&quot;@item.PetSex&quot; class=&quot;form-control&quot; /&gt;*@\n                                    &lt;/td&gt;\n                                    &lt;td&gt;\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetDesc, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\n                                        @*&lt;input asp-for=&quot;@item.PetDesc&quot; class=&quot;form-control&quot; /&gt;*@\n                                    &lt;/td&gt;\n                                    &lt;td&gt;\n                                        @*@Html.EditorFor(x =&gt; x.Pets[i].PetChip, new { htmlAttributes = new { @class = &quot;form-control&quot;} })*@\n                                         @Html.DropDownListFor(x =&gt; x.Pets[i].PetChip, new SelectList(Enum.GetValues(typeof(ChooseYesNo))),&quot;Select&quot;)\n                                        @*&lt;input asp-for=&quot;@item.PetChip&quot; class=&quot;form-control&quot; /&gt;*@\n                                    &lt;/td&gt;\n                                    &lt;td&gt;\n                                        @*@Html.EditorFor(x =&gt; x.Pets[i].PetSterile, new { htmlAttributes = new { @class = &quot;form-control&quot;} })*@\n                                        @Html.DropDownListFor(x =&gt; x.Pets[i].PetSterile, new SelectList(Enum.GetValues(typeof(ChooseYesNo))),&quot;Select&quot;)\n                                        @*&lt;input asp-for=&quot;@item.PetSterile&quot; class=&quot;form-control&quot; /&gt;*@\n                                    &lt;/td&gt;\n                                    &lt;td&gt;\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetStatus, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\n                                        @*&lt;input asp-for=&quot;@item.PetStatus&quot; class=&quot;form-control&quot; /&gt;*@\n                                    &lt;/td&gt;\n                                    &lt;td&gt;\n                                        @Html.EditorFor(x =&gt; x.Pets[i].PetAdditional, new { htmlAttributes = new { @class = &quot;form-control&quot;} })\n                                        @*&lt;input asp-for=&quot;@item.PetAdditional&quot; class=&quot;form-control&quot; /&gt;*@\n                                    &lt;/td&gt;\n                                    \n                                &lt;/tr&gt;\n                                \n                                \n                                &lt;tr&gt;\n                                    &lt;td colspan=&quot;2&quot;&gt;\n                                        Add an image of the microchip certificate&lt;br /&gt;\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetChipImage, new { type = &quot;file&quot; })\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetChipImageUrl, new { type = &quot;file&quot;, @onchange =&quot;encodeImageFileAsURL(this)&quot;})\n                                       \n                                    &lt;/td&gt;\n                                    &lt;td colspan=&quot;4&quot;&gt;\n                                        Add an image of the sterilization certificate&lt;br /&gt;\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetSterileImage, new { type = &quot;file&quot; })\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetSterileImageUrl, new { type = &quot;file&quot; })\n                                    &lt;/td&gt;\n                                    &lt;td colspan=&quot;2&quot;&gt;\n                                        Add an image your pet&lt;br /&gt;\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetImage, new { type = &quot;file&quot; })\n                                        @Html.TextBoxFor(x =&gt; x.Pets[i].PetImageUrl, new { type = &quot;file&quot; })\n                                    &lt;/td&gt;\n                                    &lt;td&gt;\n                                    &lt;button id='btnadd-@i' type=&quot;button&quot; class=&quot;btn btn-sm btn-secondary visible&quot;\n                                                onclick=&quot;AddItem(this)&quot; &gt;Add&lt;/button&gt;\n                                    &lt;button id='btnremove-@i' type=&quot;button&quot; class=&quot;btn btn-sm btn-secondary invisible&quot;\n                                                onclick=&quot;DeleteItem(this)&quot;&gt;Delete&lt;/button&gt;\n                                    &lt;/td&gt; \n                               &lt;/tr&gt;\n</code></pre>\n<p>Java Script</p>\n<pre><code>function encodeImageFileAsURL(element) {\n    var file = element.files[0];\n    var reader = new FileReader();\n    reader.onloadend = function () {\n        console.log('RESULT', reader.result)\n    }\n    reader.readAsDataURL(file);\n}\n</code></pre>\n"},{"tags":["java","string","loops","for-loop","concatenation"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1654733888,"post_id":72553459,"comment_id":128164983,"body_markdown":"`outputString = String.join(&quot;+&quot;, stringPieces);`","body":"<code>outputString = String.join(&quot;+&quot;, stringPieces);</code>"},{"owner":{"account_id":8115094,"reputation":3418,"user_id":6130540,"accept_rate":52,"display_name":"Clone"},"score":0,"creation_date":1654733946,"post_id":72553459,"comment_id":128164993,"body_markdown":"@shmosel, thanks! Didn&#39;t realize that option existed","body":"@shmosel, thanks! Didn&#39;t realize that option existed"},{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":1,"creation_date":1654735078,"post_id":72553459,"comment_id":128165151,"body_markdown":"@shmosel - write it up as an answer, it&#39;s better than mine","body":"@shmosel - write it up as an answer, it&#39;s better than mine"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1654736043,"post_id":72553459,"comment_id":128165278,"body_markdown":"Why don&#39;t you just `replace(&quot; &quot;, &quot;+&quot;)`?","body":"Why don&#39;t you just <code>replace(&quot; &quot;, &quot;+&quot;)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654735026,"creation_date":1654735026,"answer_id":72553557,"question_id":72553459,"body_markdown":"Based on the observation that you don&#39;t want a separator the first time - use an empty separator the first time!\r\n\r\n    String sep = &quot;&quot;;\r\n    for (String strTemp : stringPieces) {\r\n        outputString += sep + strTemp;\r\n        sep = &quot;+&quot;;\r\n    }\r\n\r\n \r\n","title":"Is there a way of alter first iteration of for loop for adding strings?","body":"<p>Based on the observation that you don't want a separator the first time - use an empty separator the first time!</p>\n<pre><code>String sep = &quot;&quot;;\nfor (String strTemp : stringPieces) {\n    outputString += sep + strTemp;\n    sep = &quot;+&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654770085,"creation_date":1654770085,"answer_id":72558655,"question_id":72553459,"body_markdown":"Personally, I would proffer the solution using `String.join()` proposed by *@shmosel* in the comment.\r\n\r\nHere is another way of achieving this with Stream API:\r\n\r\n```\r\nString outputString = \r\n    Arrays.stream(stringPieces).collect(Collectors.joining(&quot;+&quot;));\r\n```","title":"Is there a way of alter first iteration of for loop for adding strings?","body":"<p>Personally, I would proffer the solution using <code>String.join()</code> proposed by <em>@shmosel</em> in the comment.</p>\n<p>Here is another way of achieving this with Stream API:</p>\n<pre><code>String outputString = \n    Arrays.stream(stringPieces).collect(Collectors.joining(&quot;+&quot;));\n</code></pre>\n"}],"owner":{"account_id":8115094,"reputation":3418,"user_id":6130540,"accept_rate":52,"display_name":"Clone"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654803415,"creation_date":1654733802,"question_id":72553459,"body_markdown":"I currently have a for loop, and I am looking for a quick and elegant method to remove the plus sign `+` from the first &quot;adding&quot; of the loop, so the results is not `+example+input+string` but rather `example+input+string` preferably without the need of rewriting the loop much. \r\n\r\n    String inpputString = &quot;example input string&quot;;\r\n\tString outputString= &quot;&quot;;\r\n\t\t\r\n\tString[] stringPieces= mainString.split(&quot; &quot;);\r\n\t\t\r\n\tfor (String strTemp : stringPieces){\r\n\t\toutputString = outputString + &quot;+&quot; + strTemp;\r\n\t}\r\n\r\n","title":"Is there a way of alter first iteration of for loop for adding strings?","body":"<p>I currently have a for loop, and I am looking for a quick and elegant method to remove the plus sign <code>+</code> from the first &quot;adding&quot; of the loop, so the results is not <code>+example+input+string</code> but rather <code>example+input+string</code> preferably without the need of rewriting the loop much.</p>\n<pre><code>String inpputString = &quot;example input string&quot;;\nString outputString= &quot;&quot;;\n    \nString[] stringPieces= mainString.split(&quot; &quot;);\n    \nfor (String strTemp : stringPieces){\n    outputString = outputString + &quot;+&quot; + strTemp;\n}\n</code></pre>\n"},{"tags":["java","weblogic12c","jersey-client","servlet-mapping"],"answers":[{"tags":[],"owner":{"account_id":12271777,"reputation":632,"user_id":8956733,"display_name":"Taraskin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545989704,"creation_date":1545986953,"answer_id":53955815,"question_id":53776574,"body_markdown":"UPDATE. The issue fixed now.\r\n\r\n**1. weblogic.xml changed**:\r\n\r\n        &lt;wls:container-descriptor&gt;\r\n        &lt;wls:prefer-application-packages&gt;\r\n            &lt;wls:package-name&gt;antlr.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;javax.persistence.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;javax.validation.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.apache.commons.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.springframework.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.hibernate.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;ch.qos.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.slf4j.*&lt;/wls:package-name&gt;            \r\n            &lt;!--Jax-RS--&gt;\r\n            &lt;wls:package-name&gt;javax.ws.rs.*&lt;/wls:package-name&gt;\r\n            &lt;!--Jersey 2.0--&gt;\r\n            &lt;wls:package-name&gt;org.glassfish.jersey.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.glassfish.hk2.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;org.jvnet.hk2.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;jersey.repackaged.org.objectweb.asm.*&lt;/wls:package-name&gt;\r\n            &lt;!-- wls --&gt;\r\n            &lt;wls:package-name&gt;weblogic.jaxrs.api.client.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;weblogic.jaxrs.internal.api.client.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;weblogic.jaxrs.dispatch.*&lt;/wls:package-name&gt;\r\n            &lt;wls:package-name&gt;weblogic.jaxrs.monitoring.util.*&lt;/wls:package-name&gt;\r\n        &lt;/wls:prefer-application-packages&gt;\r\n        &lt;wls:prefer-application-resources&gt;\r\n            &lt;!-- apis --&gt;\r\n            &lt;wls:resource-name&gt;javax.ws.rs.*&lt;/wls:resource-name&gt;\r\n            &lt;!-- jersey --&gt;\r\n            &lt;wls:resource-name&gt;META-INF/services/org.glassfish.jersey.*&lt;/wls:resource-name&gt;\r\n            &lt;wls:resource-name&gt;com.sun.jersey.*&lt;/wls:resource-name&gt;\r\n            &lt;wls:resource-name&gt;org.glassfish.jersey.*&lt;/wls:resource-name&gt;\r\n            &lt;wls:resource-name&gt;jersey.repackaged.*&lt;/wls:resource-name&gt;\r\n            &lt;!-- hk2 --&gt;\r\n            &lt;wls:resource-name&gt;META-INF/services/org.glassfish.hk2.*&lt;/wls:resource-name&gt;\r\n            &lt;wls:resource-name&gt;org.glassfish.hk2.*&lt;/wls:resource-name&gt;\r\n            &lt;wls:resource-name&gt;org.jvnet.hk2.*&lt;/wls:resource-name&gt;\r\n            &lt;wls:resource-name&gt;org.jvnet.hk2.tiger_types.*&lt;/wls:resource-name&gt;\r\n        &lt;/wls:prefer-application-resources&gt;\r\n    &lt;/wls:container-descriptor&gt;\r\n\r\ni.e.: \r\n\r\n- **&amp;lt;wls:prefer-application-resources&amp;gt;** section was added.\r\n\r\n- in **&amp;lt;wls:prefer-application-packages&amp;gt;** section next blocks were added:\r\n\r\n          &lt;!--Jax-RS--&gt; and below\r\n          &lt;!--Jersey 2.0--&gt; and below\r\n          &lt;!-- wls --&gt; and below\r\n\r\n**2. Added endpoint config**:\r\n\r\n   \r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n\r\n    public class JerseyApplication extends ResourceConfig {\r\n        public JerseyApplication() {\r\n            packages(&quot;path.to.the.package&quot;);\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n**3. Added dependency to pom.xml**:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n**4. web.xml servlet config**:\r\n\r\n    \t&lt;!--WebLogic Jersey Configuration--&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;display-name&gt;WL Jersey Configuration&lt;/display-name&gt;\r\n\t\t&lt;servlet-name&gt;jersey&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;path.to.the.JerseyApplication&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;jersey&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/jersey/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n\r\n\r\n[This link helped a lot][1]\r\n\r\nP.S. Later using of Jackson 2.X library on WLS was similarly fixed (just added proper class to the **&amp;lt;wls:prefer-application-packages&amp;gt;** section)\r\n\r\n  [1]: https://stackoverflow.com/questions/26361136/using-jersey-2-x-web-service-on-weblogic-12-1-1","title":"Weblogic 12.2.1.0.0 disable default base URI pattern value (resources)","body":"<p>UPDATE. The issue fixed now.</p>\n\n<p><strong>1. weblogic.xml changed</strong>:</p>\n\n<pre><code>    &lt;wls:container-descriptor&gt;\n    &lt;wls:prefer-application-packages&gt;\n        &lt;wls:package-name&gt;antlr.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;javax.persistence.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;javax.validation.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;org.apache.commons.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;org.springframework.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;org.hibernate.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;ch.qos.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;org.slf4j.*&lt;/wls:package-name&gt;            \n        &lt;!--Jax-RS--&gt;\n        &lt;wls:package-name&gt;javax.ws.rs.*&lt;/wls:package-name&gt;\n        &lt;!--Jersey 2.0--&gt;\n        &lt;wls:package-name&gt;org.glassfish.jersey.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;org.glassfish.hk2.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;org.jvnet.hk2.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;jersey.repackaged.org.objectweb.asm.*&lt;/wls:package-name&gt;\n        &lt;!-- wls --&gt;\n        &lt;wls:package-name&gt;weblogic.jaxrs.api.client.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;weblogic.jaxrs.internal.api.client.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;weblogic.jaxrs.dispatch.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;weblogic.jaxrs.monitoring.util.*&lt;/wls:package-name&gt;\n    &lt;/wls:prefer-application-packages&gt;\n    &lt;wls:prefer-application-resources&gt;\n        &lt;!-- apis --&gt;\n        &lt;wls:resource-name&gt;javax.ws.rs.*&lt;/wls:resource-name&gt;\n        &lt;!-- jersey --&gt;\n        &lt;wls:resource-name&gt;META-INF/services/org.glassfish.jersey.*&lt;/wls:resource-name&gt;\n        &lt;wls:resource-name&gt;com.sun.jersey.*&lt;/wls:resource-name&gt;\n        &lt;wls:resource-name&gt;org.glassfish.jersey.*&lt;/wls:resource-name&gt;\n        &lt;wls:resource-name&gt;jersey.repackaged.*&lt;/wls:resource-name&gt;\n        &lt;!-- hk2 --&gt;\n        &lt;wls:resource-name&gt;META-INF/services/org.glassfish.hk2.*&lt;/wls:resource-name&gt;\n        &lt;wls:resource-name&gt;org.glassfish.hk2.*&lt;/wls:resource-name&gt;\n        &lt;wls:resource-name&gt;org.jvnet.hk2.*&lt;/wls:resource-name&gt;\n        &lt;wls:resource-name&gt;org.jvnet.hk2.tiger_types.*&lt;/wls:resource-name&gt;\n    &lt;/wls:prefer-application-resources&gt;\n&lt;/wls:container-descriptor&gt;\n</code></pre>\n\n<p>i.e.: </p>\n\n<ul>\n<li><p><strong>&lt;wls:prefer-application-resources&gt;</strong> section was added.</p></li>\n<li><p>in <strong>&lt;wls:prefer-application-packages&gt;</strong> section next blocks were added:</p>\n\n<pre><code>  &lt;!--Jax-RS--&gt; and below\n  &lt;!--Jersey 2.0--&gt; and below\n  &lt;!-- wls --&gt; and below\n</code></pre></li>\n</ul>\n\n<p><strong>2. Added endpoint config</strong>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import org.glassfish.jersey.server.ResourceConfig;\r\n\r\npublic class JerseyApplication extends ResourceConfig {\r\n    public JerseyApplication() {\r\n        packages(\"path.to.the.package\");\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>3. Added dependency to pom.xml</strong>:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p><strong>4. web.xml servlet config</strong>:</p>\n\n<pre><code>    &lt;!--WebLogic Jersey Configuration--&gt;\n&lt;servlet&gt;\n    &lt;display-name&gt;WL Jersey Configuration&lt;/display-name&gt;\n    &lt;servlet-name&gt;jersey&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n        &lt;param-value&gt;path.to.the.JerseyApplication&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;jersey&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/jersey/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/26361136/using-jersey-2-x-web-service-on-weblogic-12-1-1\">This link helped a lot</a></p>\n\n<p>P.S. Later using of Jackson 2.X library on WLS was similarly fixed (just added proper class to the <strong>&lt;wls:prefer-application-packages&gt;</strong> section)</p>\n"},{"tags":[],"owner":{"account_id":3368180,"reputation":908,"user_id":2828177,"display_name":"Gajendra Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605764370,"creation_date":1605764370,"answer_id":64905992,"question_id":53776574,"body_markdown":"Solution shared by Taras is working fine, i had to add below dependencies:\r\n\r\n        \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.27&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.27&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Weblogic 12.2.1.0.0 disable default base URI pattern value (resources)","body":"<p>Solution shared by Taras is working fine, i had to add below dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n    &lt;version&gt;2.27&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n    &lt;version&gt;2.27&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15574575,"reputation":1,"user_id":11235984,"display_name":"Josue Cespedes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654803222,"creation_date":1654803222,"answer_id":72565735,"question_id":53776574,"body_markdown":"I was having the same issue with weblogic 12.2.1 and com.sun.jersey, I have updated to org.glassfish.jersey version 2.26\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n    &lt;version&gt;2.26&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n    &lt;version&gt;2.26&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    &lt;version&gt;2.26&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\nIn my web.xml file I updated my servlet as following: \r\n```\r\n&lt;servlet&gt;        \r\n    &lt;servlet-name&gt;your servlet name&lt;/servlet-name&gt;        \r\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n    &lt;init-param&gt;\r\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n        &lt;param-value&gt;\r\n            path.to.rest.resources\r\n        &lt;/param-value&gt;\r\n    &lt;/init-param&gt;       \r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;    \r\n&lt;/servlet&gt;  \r\n```\r\nNo other change was needed, and the issue was resolved. Hope can be helpful","title":"Weblogic 12.2.1.0.0 disable default base URI pattern value (resources)","body":"<p>I was having the same issue with weblogic 12.2.1 and com.sun.jersey, I have updated to org.glassfish.jersey version 2.26</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n    &lt;version&gt;2.26&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n    &lt;version&gt;2.26&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n    &lt;version&gt;2.26&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In my web.xml file I updated my servlet as following:</p>\n<pre><code>&lt;servlet&gt;        \n    &lt;servlet-name&gt;your servlet name&lt;/servlet-name&gt;        \n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n        &lt;param-value&gt;\n            path.to.rest.resources\n        &lt;/param-value&gt;\n    &lt;/init-param&gt;       \n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;    \n&lt;/servlet&gt;  \n</code></pre>\n<p>No other change was needed, and the issue was resolved. Hope can be helpful</p>\n"}],"owner":{"account_id":12271777,"reputation":632,"user_id":8956733,"display_name":"Taraskin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2003,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1654803222,"creation_date":1544778761,"question_id":53776574,"body_markdown":"Pre-requsitions:\r\n\r\n 1. WebLogic Server Version: 12.2.1.0.0\r\n 2. Common Java web-application deployed\r\n 3. Started using Jersey **client** library\r\n\r\nIssue:\r\n\r\nRight after that **/resources/** URI has been mapped/handled by (embedded) WebLogic JAX-RS/Jersey servlet handler.\r\n\r\nWL mapping issue:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nGoogling shown this (pretty similar):\r\n\r\n* https://stackoverflow.com/questions/44146254/automatic-jax-rs-registration-in-weblogic-12-2-1-when-adding-eclipselink-artifac\r\n\r\nand\r\n\r\n* https://docs.oracle.com/middleware/1221/wls/RESTF/deploy-restful-service.htm#RESTF191\r\n\r\nFrom the Oracle&#39;s docs:\r\n\r\n&gt; ***&amp;lt;servlet-mapping&amp;gt;**&lt;p&gt; ...If not specified, one of the following values are used, in order of precedence:\r\n&gt; \r\n&gt; **@ApplicationPath** annotation value defined in the javax.ws.rs.core.Application subclass. \r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; The value **resources**. This is the **default base URI pattern** for\r\n&gt; RESTful Web service applications. \r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; If both the **&amp;lt;servlet-mapping&amp;gt;** and @ApplicationPath are\r\n&gt; specified, the **&amp;lt;servlet-mapping&amp;gt;** takes precedence.*\r\n\r\n\r\nI do not need REST services and default mapping at all - just want to use **Jersey client only**. After trying different options I haven&#39;t succeed with any solution.\r\n\r\nExplicitly added configuration in `web.xml`  *(tried for both JAX-RS 1.1 and 2.0 vesrions), without implementing any endpoints, as use only Jersey client with setting **&amp;lt;servlet-mapping&amp;gt;***:\r\n\r\n\r\n**web.xml**\r\n\r\n\t&lt;!--WebLogic Jersey Configuration--&gt;\r\n\t&lt;servlet&gt;\r\n\t\t&lt;display-name&gt;WL Jersey Configuration&lt;/display-name&gt;\r\n\t\t&lt;servlet-name&gt;jersey&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\t\t&lt;!--&lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;--&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jersey.config.wls.server.monitoring.enabled&lt;/param-name&gt;\r\n            &lt;param-value&gt;false&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;jersey&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/jersey/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n\r\n*In addition updated* **weblogic.xml**:\r\n\t\r\n    &lt;wls:container-descriptor&gt;\r\n    \t&lt;wls:prefer-application-packages&gt;\r\n            ...\r\n    \t\t&lt;wls:package-name&gt;org.glassfish.*&lt;/wls:package-name&gt;\r\n    \t\t&lt;wls:package-name&gt;com.sun.jersey.*&lt;/wls:package-name&gt;\r\n    \t\t&lt;wls:package-name&gt;javax.ws.rs.*&lt;/wls:package-name&gt;\r\n    \t&lt;/wls:prefer-application-packages&gt;\r\n    &lt;/wls:container-descriptor&gt;\r\n\r\nIt did not help. Any ideas on how to disable/override this *default* behaviour of WLS 12.2.1.0.0? Or maybe I&#39;ve missed or doing something wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yHee1.png","title":"Weblogic 12.2.1.0.0 disable default base URI pattern value (resources)","body":"<p>Pre-requsitions:</p>\n\n<ol>\n<li>WebLogic Server Version: 12.2.1.0.0</li>\n<li>Common Java web-application deployed</li>\n<li>Started using Jersey <strong>client</strong> library</li>\n</ol>\n\n<p>Issue:</p>\n\n<p>Right after that <strong>/resources/</strong> URI has been mapped/handled by (embedded) WebLogic JAX-RS/Jersey servlet handler.</p>\n\n<p>WL mapping issue:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yHee1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yHee1.png\" alt=\"enter image description here\"></a></p>\n\n<p>Googling shown this (pretty similar):</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44146254/automatic-jax-rs-registration-in-weblogic-12-2-1-when-adding-eclipselink-artifac\">Automatic Jax-RS registration in Weblogic 12.2.1 when adding eclipselink artifact</a></li>\n</ul>\n\n<p>and</p>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/middleware/1221/wls/RESTF/deploy-restful-service.htm#RESTF191\" rel=\"nofollow noreferrer\">https://docs.oracle.com/middleware/1221/wls/RESTF/deploy-restful-service.htm#RESTF191</a></li>\n</ul>\n\n<p>From the Oracle's docs:</p>\n\n<blockquote>\n  <p><strong>*&lt;servlet-mapping&gt;</strong><p> ...If not specified, one of the following values are used, in order of precedence:</p>\n  \n  <p><strong>@ApplicationPath</strong> annotation value defined in the javax.ws.rs.core.Application subclass. </p>\n  \n  <p>...</p>\n  \n  <p>The value <strong>resources</strong>. This is the <strong>default base URI pattern</strong> for\n  RESTful Web service applications. </p>\n  \n  <p>...</p>\n  \n  <p>If both the <strong>&lt;servlet-mapping&gt;</strong> and @ApplicationPath are\n  specified, the <strong>&lt;servlet-mapping&gt;</strong> takes precedence.*</p>\n</blockquote>\n\n<p>I do not need REST services and default mapping at all - just want to use <strong>Jersey client only</strong>. After trying different options I haven't succeed with any solution.</p>\n\n<p>Explicitly added configuration in <code>web.xml</code>  <em>(tried for both JAX-RS 1.1 and 2.0 vesrions), without implementing any endpoints, as use only Jersey client with setting <strong>&lt;servlet-mapping&gt;</em></strong>:</p>\n\n<p><strong>web.xml</strong></p>\n\n<pre><code>&lt;!--WebLogic Jersey Configuration--&gt;\n&lt;servlet&gt;\n    &lt;display-name&gt;WL Jersey Configuration&lt;/display-name&gt;\n    &lt;servlet-name&gt;jersey&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;!--&lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;--&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.wls.server.monitoring.enabled&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/init-param&gt;\n\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;jersey&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/jersey/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p><em>In addition updated</em> <strong>weblogic.xml</strong>:</p>\n\n<pre><code>&lt;wls:container-descriptor&gt;\n    &lt;wls:prefer-application-packages&gt;\n        ...\n        &lt;wls:package-name&gt;org.glassfish.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;com.sun.jersey.*&lt;/wls:package-name&gt;\n        &lt;wls:package-name&gt;javax.ws.rs.*&lt;/wls:package-name&gt;\n    &lt;/wls:prefer-application-packages&gt;\n&lt;/wls:container-descriptor&gt;\n</code></pre>\n\n<p>It did not help. Any ideas on how to disable/override this <em>default</em> behaviour of WLS 12.2.1.0.0? Or maybe I've missed or doing something wrong?</p>\n"},{"tags":["java","mongodb","spring-boot","intellij-idea","http-post"],"comments":[{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1654733191,"post_id":72552883,"comment_id":128164881,"body_markdown":"The HTTP mapping used on your controller has nothing to do with updating your entity. If you can somehow get it to your service with a GET request to your controller the service layer wouldn&#39;t care.","body":"The HTTP mapping used on your controller has nothing to do with updating your entity. If you can somehow get it to your service with a GET request to your controller the service layer wouldn&#39;t care."},{"owner":{"account_id":25510586,"reputation":3,"user_id":19302324,"display_name":"vangoh"},"score":0,"creation_date":1654800468,"post_id":72552883,"comment_id":128184865,"body_markdown":"Hi, Thank you! I also noticed that my repo was expecting TableItem and I sent Player to it...","body":"Hi, Thank you! I also noticed that my repo was expecting TableItem and I sent Player to it..."}],"answers":[{"tags":[],"owner":{"account_id":17474517,"reputation":108,"user_id":12669673,"display_name":"Alexandru Borza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654757811,"creation_date":1654757811,"answer_id":72555922,"question_id":72552883,"body_markdown":"you can have 2 solutions:\r\n - to use a DTO (Data Transfer Object). Get a DTO in controller, create a mapper from DTO to Entity and from Entity to DTO and create a function to update the Entity from the DTO. You can see more here: https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances\r\n - second solution, that I think that is easier to implement, it&#39;s to create a function that copy the properties of a entity to another and exclude the null ones. You can get more info here: https://stackoverflow.com/questions/19737626/how-to-ignore-null-values-using-springframework-beanutils-copyproperties\r\n\r\n","title":"How to update a single Property of an Object in Database with Post and NOT PATCH? (Java, springboot)","body":"<p>you can have 2 solutions:</p>\n<ul>\n<li>to use a DTO (Data Transfer Object). Get a DTO in controller, create a mapper from DTO to Entity and from Entity to DTO and create a function to update the Entity from the DTO. You can see more here: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances\" rel=\"nofollow noreferrer\">https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances</a></li>\n<li>second solution, that I think that is easier to implement, it's to create a function that copy the properties of a entity to another and exclude the null ones. You can get more info here: <a href=\"https://stackoverflow.com/questions/19737626/how-to-ignore-null-values-using-springframework-beanutils-copyproperties\">How to ignore null values using springframework BeanUtils copyProperties?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":25510586,"reputation":3,"user_id":19302324,"display_name":"vangoh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654802733,"creation_date":1654801665,"answer_id":72565436,"question_id":72552883,"body_markdown":"Thanks for the quick feedback! I have seen some thinking errors already... my Repository expects TableItems and I just give it the property I want to change(Player in Players). I also forgot by the @Post the PathVariable with the TableId.\r\n\r\nThrough your tips I have now found a solution that also works! Here my code:\r\n\r\nController:\r\n\r\n     @PostMapping(&quot;/{id}/players&quot;)\r\n    public void postNewPlayer(@RequestBody Player newPlayer, @PathVariable String id) {\r\n        gameService.addNewPlayer(newPlayer, id);\r\n    }\r\n\r\nService:\r\n\r\n    public void addNewPlayer(Player newPlayer, String tableId) {\r\n\r\n        TableItem tableToBeUpdated = tableItemsRepo.findById(tableId)\r\n                .orElseThrow( () -&gt; new NoSuchElementException((&quot;Table with ID &quot; + tableId + &quot; not found!&quot;)));\r\n        List&lt;Player&gt; players =  tableToBeUpdated.getPlayers();\r\n        if( players == null) {\r\n            players = new ArrayList&lt;&gt;();\r\n            tableToBeUpdated.setPlayers(players);\r\n        }\r\n        players.add(newPlayer);\r\n        tableItemsRepo.save(tableToBeUpdated);\r\n    }\r\n\r\nI did not have to change anything in the repo.\r\nThe result it looks like this in the DB:\r\n\r\n    {\r\n       &quot;roundNumber&quot;: 2,\r\n       &quot;bigBlind&quot;: 20,\r\n       &quot;smallBlind&quot;: 10,\r\n       &quot;maxSize&quot;: 2,\r\n       &quot;freeSeats&quot;: 2,\r\n       &quot;tableChips&quot;: 0,\r\n       &quot;tableCards&quot;: [\r\n       {\r\n          &quot;rank&quot;: &quot;FIVE&quot;,\r\n          &quot;suit&quot;: &quot;HEARTS&quot;\r\n      },\r\n      {\r\n         &quot;rank&quot;: &quot;SEVEN&quot;,\r\n         &quot;suit&quot;: &quot;SPADES&quot;\r\n      }\r\n      ],\r\n      &quot;players&quot;: [\r\n      {\r\n         &quot;playerName&quot;: &quot;brasuca&quot;,\r\n         &quot;playerChips&quot;: 1000,\r\n         &quot;playerCards&quot;: [\r\n         {\r\n            &quot;rank&quot;: &quot;SEVEN&quot;,\r\n            &quot;suit&quot;: &quot;HEARTS&quot;\r\n        },\r\n        {\r\n           &quot;rank&quot;: &quot;KING&quot;,\r\n           &quot;suit&quot;: &quot;HEARTS&quot;\r\n        }\r\n      ]\r\n    }\r\n    ]}\r\n   \r\n\r\nThank you very much for your help!!","title":"How to update a single Property of an Object in Database with Post and NOT PATCH? (Java, springboot)","body":"<p>Thanks for the quick feedback! I have seen some thinking errors already... my Repository expects TableItems and I just give it the property I want to change(Player in Players). I also forgot by the @Post the PathVariable with the TableId.</p>\n<p>Through your tips I have now found a solution that also works! Here my code:</p>\n<p>Controller:</p>\n<pre><code> @PostMapping(&quot;/{id}/players&quot;)\npublic void postNewPlayer(@RequestBody Player newPlayer, @PathVariable String id) {\n    gameService.addNewPlayer(newPlayer, id);\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>public void addNewPlayer(Player newPlayer, String tableId) {\n\n    TableItem tableToBeUpdated = tableItemsRepo.findById(tableId)\n            .orElseThrow( () -&gt; new NoSuchElementException((&quot;Table with ID &quot; + tableId + &quot; not found!&quot;)));\n    List&lt;Player&gt; players =  tableToBeUpdated.getPlayers();\n    if( players == null) {\n        players = new ArrayList&lt;&gt;();\n        tableToBeUpdated.setPlayers(players);\n    }\n    players.add(newPlayer);\n    tableItemsRepo.save(tableToBeUpdated);\n}\n</code></pre>\n<p>I did not have to change anything in the repo.\nThe result it looks like this in the DB:</p>\n<pre><code>{\n   &quot;roundNumber&quot;: 2,\n   &quot;bigBlind&quot;: 20,\n   &quot;smallBlind&quot;: 10,\n   &quot;maxSize&quot;: 2,\n   &quot;freeSeats&quot;: 2,\n   &quot;tableChips&quot;: 0,\n   &quot;tableCards&quot;: [\n   {\n      &quot;rank&quot;: &quot;FIVE&quot;,\n      &quot;suit&quot;: &quot;HEARTS&quot;\n  },\n  {\n     &quot;rank&quot;: &quot;SEVEN&quot;,\n     &quot;suit&quot;: &quot;SPADES&quot;\n  }\n  ],\n  &quot;players&quot;: [\n  {\n     &quot;playerName&quot;: &quot;brasuca&quot;,\n     &quot;playerChips&quot;: 1000,\n     &quot;playerCards&quot;: [\n     {\n        &quot;rank&quot;: &quot;SEVEN&quot;,\n        &quot;suit&quot;: &quot;HEARTS&quot;\n    },\n    {\n       &quot;rank&quot;: &quot;KING&quot;,\n       &quot;suit&quot;: &quot;HEARTS&quot;\n    }\n  ]\n}\n]}\n</code></pre>\n<p>Thank you very much for your help!!</p>\n"}],"owner":{"account_id":25510586,"reputation":3,"user_id":19302324,"display_name":"vangoh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":560,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72555922,"answer_count":2,"score":0,"last_activity_date":1654802733,"creation_date":1654727505,"question_id":72552883,"body_markdown":"I want to create a Post method to update a single property from my API main Object:\r\n\r\n    @Builder\r\n    @Document(collection = &quot;tableItems&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    public class TableItem {\r\n\r\n        @Id\r\n        private String id;\r\n        private int roundNumber;\r\n        private RoundState roundState;\r\n        private int bigBlind;\r\n        private int smallBlind;\r\n        private int maxSize;\r\n        private int freeSeats;\r\n        private double tableChips;\r\n        private List&lt;Card&gt; tableCards;\r\n        private List&lt;Player&gt; players;\r\n        private List&lt;Seat&gt; seats;\r\n\r\n    }\r\n\r\nSo, this object ist save on my MongoDB. I want to add a new Player on players, but all other properties should not change!\r\n\r\nIn my GameController, I have a @RequestMapping(&quot;/api/tableitems&quot;) and my method looks like this:\r\n\r\n    @PostMapping(&quot;/{id}/players&quot;)\r\n    public void postNewPlayer(@RequestBody Player newPlayer, String tableId) {\r\n        gameService.addNewPlayer(id, newPlayer);\r\n    }\r\n\r\nIn my GameService my addNewPlayer method looks like this:\r\n\r\n    public void addNewPlayer(Player newPlayer, String tableId) {\r\n\r\n        TableItem tableToBeUpdated = tableItemsRepo.findById(tableId)\r\n                .orElseThrow( () -&gt; new NoSuchElementException((&quot;Table with ID &quot; + tableId + &quot; not found!&quot;)));\r\n\r\n        tableItemsRepo.save(newPlayer);\r\n    }\r\n\r\nIntelliJ grumbles and throws the following error message:\r\n\r\n&gt;  **Inferred type &#39;S&#39; for type parameter &#39;S&#39; is not within its bound; should extend &#39;backend.model.TableItem&#39;**\r\n\r\nAnd finally my repository looks like this:\r\n\r\n    @Repository\r\n    public interface TableItemsRepository extends MongoRepository&lt;TableItem, String&gt; {\r\n    }\r\n\r\n**Is it at all possible to update a single property of an object with @POST? How does it work? If not, how else can it be done? I am at a loss and would be very grateful for some help... Thanks a lot!**","title":"How to update a single Property of an Object in Database with Post and NOT PATCH? (Java, springboot)","body":"<p>I want to create a Post method to update a single property from my API main Object:</p>\n<pre><code>@Builder\n@Document(collection = &quot;tableItems&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class TableItem {\n\n    @Id\n    private String id;\n    private int roundNumber;\n    private RoundState roundState;\n    private int bigBlind;\n    private int smallBlind;\n    private int maxSize;\n    private int freeSeats;\n    private double tableChips;\n    private List&lt;Card&gt; tableCards;\n    private List&lt;Player&gt; players;\n    private List&lt;Seat&gt; seats;\n\n}\n</code></pre>\n<p>So, this object ist save on my MongoDB. I want to add a new Player on players, but all other properties should not change!</p>\n<p>In my GameController, I have a @RequestMapping(&quot;/api/tableitems&quot;) and my method looks like this:</p>\n<pre><code>@PostMapping(&quot;/{id}/players&quot;)\npublic void postNewPlayer(@RequestBody Player newPlayer, String tableId) {\n    gameService.addNewPlayer(id, newPlayer);\n}\n</code></pre>\n<p>In my GameService my addNewPlayer method looks like this:</p>\n<pre><code>public void addNewPlayer(Player newPlayer, String tableId) {\n\n    TableItem tableToBeUpdated = tableItemsRepo.findById(tableId)\n            .orElseThrow( () -&gt; new NoSuchElementException((&quot;Table with ID &quot; + tableId + &quot; not found!&quot;)));\n\n    tableItemsRepo.save(newPlayer);\n}\n</code></pre>\n<p>IntelliJ grumbles and throws the following error message:</p>\n<blockquote>\n<p><strong>Inferred type 'S' for type parameter 'S' is not within its bound; should extend 'backend.model.TableItem'</strong></p>\n</blockquote>\n<p>And finally my repository looks like this:</p>\n<pre><code>@Repository\npublic interface TableItemsRepository extends MongoRepository&lt;TableItem, String&gt; {\n}\n</code></pre>\n<p><strong>Is it at all possible to update a single property of an object with @POST? How does it work? If not, how else can it be done? I am at a loss and would be very grateful for some help... Thanks a lot!</strong></p>\n"},{"tags":["java","spring-boot","reactive-programming","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654802245,"creation_date":1654802245,"answer_id":72565551,"question_id":72565490,"body_markdown":"I can think of the simplest solution would be below:\r\n\r\n    // Call Inventory Service, and place order if product is in stock\r\n    boolean allProductsInStock = webClient.get()\r\n    \t\t\t\t.uri(&quot;http://localhost:8092/api/inventory&quot;, uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\r\n    \t\t\t\t.retrieve()\r\n    \t\t\t\t.bodyToMono(InventoryResponse[].class)\r\n    \t\t\t\t.map(e -&gt; Arrays.stream(e))\r\n    \t\t\t\t.block()\r\n    \t\t\t\t.allMatch(InventoryResponse::isInStock);","title":"Spring Boot Reactive - How to convert Array response to actual DTO object?","body":"<p>I can think of the simplest solution would be below:</p>\n<pre><code>// Call Inventory Service, and place order if product is in stock\nboolean allProductsInStock = webClient.get()\n                .uri(&quot;http://localhost:8092/api/inventory&quot;, uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\n                .retrieve()\n                .bodyToMono(InventoryResponse[].class)\n                .map(e -&gt; Arrays.stream(e))\n                .block()\n                .allMatch(InventoryResponse::isInStock);\n</code></pre>\n"}],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72565551,"answer_count":1,"score":0,"last_activity_date":1654802245,"creation_date":1654802006,"question_id":72565490,"body_markdown":"I am developing Spring Boot 2.7.0 and Reactive Microservices using Spring WebFlux.\r\n\r\nBelow is the code \r\n\r\n    public void placeOrder(OrderRequest orderRequest) {\r\n    \t\tList&lt;OrderLineItems&gt; orderLineItems = orderRequest.getOrderLineItemsDtoList()\r\n    \t\t\t\t.stream()\r\n    \t\t\t\t.map(this::mapToDto)\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \r\n    \t\tOrder order = new Order();\r\n    \t\torder.setOrderNumber(UUID.randomUUID().toString());\r\n    \t\torder.setOrderLineItemsList(orderLineItems);\r\n    \r\n    \r\n    \t\tList&lt;String&gt; skuCodes = order.getOrderLineItemsList()\r\n    \t\t\t\t.stream()\r\n    \t\t\t\t.map(orderLineItem -&gt; orderLineItem.getSkuCode())\r\n    \t\t\t\t.collect(Collectors.toList());\r\n    \r\n    \t\t// Call Inventory Service, and place order if product is in stock\r\n    \t\tInventoryResponse[] inventoryResponsArray = webClient.get()\r\n    \t\t\t\t.uri(&quot;http://localhost:8092/api/inventory&quot;,\r\n    \t\t\t\t\t\turiBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\r\n    \t\t\t\t.retrieve()\r\n    \t\t\t\t.bodyToMono(InventoryResponse[].class)\r\n    \t\t\t\t.block();\r\n    \r\n    \t\tboolean allProductsInStock = Arrays.stream(inventoryResponsArray)\r\n    \t\t\t\t.allMatch(InventoryResponse::isInStock);\r\n    \r\n    \t\tif(allProductsInStock){\r\n    \t\t\torderRepository.save(order);\r\n    \t\t} else {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Product is not in stock, please try again later&quot;);\r\n    \t\t}\r\n    \t}\r\n\r\nIs there any way to combine below two codes into one?\r\n\r\n    // Call Inventory Service, and place order if product is in stock\r\n    \t\tInventoryResponse[] inventoryResponsArray = webClient.get()\r\n    \t\t\t\t.uri(&quot;http://localhost:8092/api/inventory&quot;,\r\n    \t\t\t\t\t\turiBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\r\n    \t\t\t\t.retrieve()\r\n    \t\t\t\t.bodyToMono(InventoryResponse[].class)\r\n    \t\t\t\t.block();\r\n    \r\n    \t\tboolean allProductsInStock = Arrays.stream(inventoryResponsArray)\r\n    \t\t\t\t.allMatch(InventoryResponse::isInStock);","title":"Spring Boot Reactive - How to convert Array response to actual DTO object?","body":"<p>I am developing Spring Boot 2.7.0 and Reactive Microservices using Spring WebFlux.</p>\n<p>Below is the code</p>\n<pre><code>public void placeOrder(OrderRequest orderRequest) {\n        List&lt;OrderLineItems&gt; orderLineItems = orderRequest.getOrderLineItemsDtoList()\n                .stream()\n                .map(this::mapToDto)\n                .collect(Collectors.toList());\n\n        Order order = new Order();\n        order.setOrderNumber(UUID.randomUUID().toString());\n        order.setOrderLineItemsList(orderLineItems);\n\n\n        List&lt;String&gt; skuCodes = order.getOrderLineItemsList()\n                .stream()\n                .map(orderLineItem -&gt; orderLineItem.getSkuCode())\n                .collect(Collectors.toList());\n\n        // Call Inventory Service, and place order if product is in stock\n        InventoryResponse[] inventoryResponsArray = webClient.get()\n                .uri(&quot;http://localhost:8092/api/inventory&quot;,\n                        uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\n                .retrieve()\n                .bodyToMono(InventoryResponse[].class)\n                .block();\n\n        boolean allProductsInStock = Arrays.stream(inventoryResponsArray)\n                .allMatch(InventoryResponse::isInStock);\n\n        if(allProductsInStock){\n            orderRepository.save(order);\n        } else {\n            throw new IllegalArgumentException(&quot;Product is not in stock, please try again later&quot;);\n        }\n    }\n</code></pre>\n<p>Is there any way to combine below two codes into one?</p>\n<pre><code>// Call Inventory Service, and place order if product is in stock\n        InventoryResponse[] inventoryResponsArray = webClient.get()\n                .uri(&quot;http://localhost:8092/api/inventory&quot;,\n                        uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\n                .retrieve()\n                .bodyToMono(InventoryResponse[].class)\n                .block();\n\n        boolean allProductsInStock = Arrays.stream(inventoryResponsArray)\n                .allMatch(InventoryResponse::isInStock);\n</code></pre>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1654802188,"post_id":72565007,"comment_id":128185350,"body_markdown":"You could just try it?","body":"You could just try it?"}],"answers":[{"tags":[],"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654802196,"creation_date":1654802196,"answer_id":72565536,"question_id":72565007,"body_markdown":"Yes, that&#39;s exactly the way you do it. Except if `DemoSuper` also has `getA()` and/or `getB()`, you should remove `private val` from `a` and/or `b` because it&#39;ll inherit the properties.","title":"Constructor in kotlin","body":"<p>Yes, that's exactly the way you do it. Except if <code>DemoSuper</code> also has <code>getA()</code> and/or <code>getB()</code>, you should remove <code>private val</code> from <code>a</code> and/or <code>b</code> because it'll inherit the properties.</p>\n"}],"owner":{"account_id":17511433,"reputation":15,"user_id":16958084,"display_name":"Hello Mr Mustafo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72565536,"answer_count":1,"score":0,"last_activity_date":1654802196,"creation_date":1654799248,"question_id":72565007,"body_markdown":"i&#39;m wondering is it okey to do something like this in Kotlin?\r\n\r\nJava:\r\n \r\n\r\n       public class DemoSuper {\r\n            private int a;\r\n            private int b;\r\n        \r\n            public DemoSuper(int a, int b) {\r\n                this.a = a;\r\n                this.b = b;\r\n            }\r\n        }\r\n\r\nKotlin.\r\n\r\n    class DemoClass(\r\n            private val a: Int,\r\n            private val b: Int\r\n    ) : DemoSuper(a, b) \r\n\r\nBasically, I want to call the Java constructor `DemoSuper`\r\nfrom Kotlin primary constructor `DemoClass`.\r\nI could use the super keyword in Java, but in Kotlin is it possible to do it like this?\r\n\r\n\r\nTnx.","title":"Constructor in kotlin","body":"<p>i'm wondering is it okey to do something like this in Kotlin?</p>\n<p>Java:</p>\n<pre><code>   public class DemoSuper {\n        private int a;\n        private int b;\n    \n        public DemoSuper(int a, int b) {\n            this.a = a;\n            this.b = b;\n        }\n    }\n</code></pre>\n<p>Kotlin.</p>\n<pre><code>class DemoClass(\n        private val a: Int,\n        private val b: Int\n) : DemoSuper(a, b) \n</code></pre>\n<p>Basically, I want to call the Java constructor <code>DemoSuper</code>\nfrom Kotlin primary constructor <code>DemoClass</code>.\nI could use the super keyword in Java, but in Kotlin is it possible to do it like this?</p>\n<p>Tnx.</p>\n"},{"tags":["java","kotlin","ssl","quarkus","tls1.3"],"comments":[{"owner":{"account_id":9701780,"reputation":1040,"user_id":7196490,"accept_rate":25,"display_name":"Edu G"},"score":0,"creation_date":1654786516,"post_id":72562465,"comment_id":128179971,"body_markdown":"Does this answer your question? [How to create a X509 certificate using Java?](https://stackoverflow.com/questions/11383898/how-to-create-a-x509-certificate-using-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11383898/how-to-create-a-x509-certificate-using-java\">How to create a X509 certificate using Java?</a>"},{"owner":{"account_id":1936496,"reputation":32803,"user_id":1743843,"accept_rate":77,"display_name":"softshipper"},"score":0,"creation_date":1654787479,"post_id":72562465,"comment_id":128180397,"body_markdown":"I could not find the package sun.security.tools.keytool.CertAndKeyGen on https://docs.oracle.com/search/?q=sun.security.tools&amp;pg=1&amp;size=10&amp;product=en%2Fjava%2Fjavase%2F17&amp;category=en%2Fjava&amp;showfirstpage=true&amp;lang=en. Is sun.security.tools.keytool.CertAndKeyGen not deprecated?","body":"I could not find the package sun.security.tools.keytool.CertAndKeyGen on <a href=\"https://docs.oracle.com/search/?q=sun.security.tools&amp;pg=1&amp;size=10&amp;product=en%2Fjava%2Fjavase%2F17&amp;category=en%2Fjava&amp;showfirstpage=true&amp;lang=en\" rel=\"nofollow noreferrer\">docs.oracle.com/search/&hellip;</a>. Is sun.security.tools.keytool.CertAndKeyGen not deprecated?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1654800620,"post_id":72562465,"comment_id":128184918,"body_markdown":"The names of `CertificateFactory.generate{Certificate,Certificates,CertPath}` are misleading: these do not _create_ the stated things but rather _read them in_ from preexisting data (often a file but may be a database, network connection, or other data source). Out-of-the-box Java does not support creating a cert (with keypair as keytool does, or without). If you can add BouncyCastle, see https://stackoverflow.com/questions/29852290/ https://stackoverflow.com/questions/14930381/ https://stackoverflow.com/questions/59301937/ and maybe https://stackoverflow.com/questions/925377/","body":"The names of <code>CertificateFactory.generate{Certificate,Certificates,CertPat&zwnj;&#8203;h}</code> are misleading: these do not <i>create</i> the stated things but rather <i>read them in</i> from preexisting data (often a file but may be a database, network connection, or other data source). Out-of-the-box Java does not support creating a cert (with keypair as keytool does, or without). If you can add BouncyCastle, see <a href=\"https://stackoverflow.com/questions/29852290/\">stackoverflow.com/questions/29852290</a> <a href=\"https://stackoverflow.com/questions/14930381/\">stackoverflow.com/questions/14930381</a> <a href=\"https://stackoverflow.com/questions/59301937/\">stackoverflow.com/questions/59301937</a> and maybe <a href=\"https://stackoverflow.com/questions/925377/\">stackoverflow.com/questions/925377</a>"}],"owner":{"account_id":1936496,"reputation":32803,"user_id":1743843,"accept_rate":77,"display_name":"softshipper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":904,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654801435,"creation_date":1654786391,"question_id":72562465,"body_markdown":"I would like to create certificates programmatically instead with `java keytool`. \r\n\r\nFor example, this is how I create a server certificate and would like to translate it into Java code:\r\n\r\n    keytool -v \\\r\n            -genkeypair \\\r\n            -dname &quot;$SERVER_DN&quot; \\\r\n            -keystore &quot;$SERVER_DIR&quot;/keystore.jks \\\r\n            -storepass &quot;$SERVER_PW&quot; \\\r\n            -keypass &quot;$SERVER_PW&quot; \\\r\n            -keyalg &quot;EC&quot; \\\r\n            -alias server \\\r\n            -validity 1825 \\\r\n            -deststoretype pkcs12 \\\r\n            -ext KU=digitalSignature,dataEncipherment,keyEncipherment,keyAgreement \\\r\n            -ext EKU=serverAuth \\\r\n            -ext SAN=&quot;$SERVER_SAN&quot;\r\n\r\nFor creating KeyStore I have found the library https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/KeyStore.html for creating certificate I have found https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/cert/CertificateFactory.html#getInstance(java.lang.String).  \r\n\r\nI have tried to create a certificate as follows:\r\n\r\n    import io.quarkus.runtime.QuarkusApplication\r\n    import io.quarkus.runtime.annotations.QuarkusMain\r\n    import java.io.FileInputStream\r\n    import java.security.cert.CertificateFactory\r\n    \r\n    \r\n    @QuarkusMain\r\n    class Main :QuarkusApplication{\r\n        override fun run(vararg args: String?): Int {\r\n            val cf = CertificateFactory.getInstance(&quot;X.509&quot;)\r\n            val cert = cf.generateCertificate(FileInputStream(&quot;/Users/developer/jvm/cert-bash/server.crt&quot;))\r\n            return 0\r\n        }\r\n    }\r\n\r\nand got an error\r\n\r\n    2022-06-09 16:30:44,960 ERROR [io.qua.run.Application] (Quarkus Main Thread) Failed to start application (with profile dev): java.io.IOException: Empty input\r\n\r\nThe file is empty and I would like to write the generated certificate into the file.\r\nDo I use `cf.generateCertificate` wrong?\r\n\r\n**Update**\r\n\r\nAs @Edu G suggested the solution on https://stackoverflow.com/questions/11383898/how-to-create-a-x509-certificate-using-java I can not find the library sun.security.tools.keytool.* on https://docs.oracle.com/en/java/javase/17/, why? ","title":"Create X509 certificate programmactically","body":"<p>I would like to create certificates programmatically instead with <code>java keytool</code>.</p>\n<p>For example, this is how I create a server certificate and would like to translate it into Java code:</p>\n<pre><code>keytool -v \\\n        -genkeypair \\\n        -dname &quot;$SERVER_DN&quot; \\\n        -keystore &quot;$SERVER_DIR&quot;/keystore.jks \\\n        -storepass &quot;$SERVER_PW&quot; \\\n        -keypass &quot;$SERVER_PW&quot; \\\n        -keyalg &quot;EC&quot; \\\n        -alias server \\\n        -validity 1825 \\\n        -deststoretype pkcs12 \\\n        -ext KU=digitalSignature,dataEncipherment,keyEncipherment,keyAgreement \\\n        -ext EKU=serverAuth \\\n        -ext SAN=&quot;$SERVER_SAN&quot;\n</code></pre>\n<p>For creating KeyStore I have found the library <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/KeyStore.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/KeyStore.html</a> for creating certificate I have found <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/cert/CertificateFactory.html#getInstance(java.lang.String)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/security/cert/CertificateFactory.html#getInstance(java.lang.String)</a>.</p>\n<p>I have tried to create a certificate as follows:</p>\n<pre><code>import io.quarkus.runtime.QuarkusApplication\nimport io.quarkus.runtime.annotations.QuarkusMain\nimport java.io.FileInputStream\nimport java.security.cert.CertificateFactory\n\n\n@QuarkusMain\nclass Main :QuarkusApplication{\n    override fun run(vararg args: String?): Int {\n        val cf = CertificateFactory.getInstance(&quot;X.509&quot;)\n        val cert = cf.generateCertificate(FileInputStream(&quot;/Users/developer/jvm/cert-bash/server.crt&quot;))\n        return 0\n    }\n}\n</code></pre>\n<p>and got an error</p>\n<pre><code>2022-06-09 16:30:44,960 ERROR [io.qua.run.Application] (Quarkus Main Thread) Failed to start application (with profile dev): java.io.IOException: Empty input\n</code></pre>\n<p>The file is empty and I would like to write the generated certificate into the file.\nDo I use <code>cf.generateCertificate</code> wrong?</p>\n<p><strong>Update</strong></p>\n<p>As @Edu G suggested the solution on <a href=\"https://stackoverflow.com/questions/11383898/how-to-create-a-x509-certificate-using-java\">How to create a X509 certificate using Java?</a> I can not find the library sun.security.tools.keytool.* on <a href=\"https://docs.oracle.com/en/java/javase/17/\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/</a>, why?</p>\n"},{"tags":["java","jmeter","jmx"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654801016,"creation_date":1654801016,"answer_id":72565328,"question_id":72564496,"body_markdown":"The fact that the function is [deprecated][1] doesn&#39;t mean it cannot be used, it&#39;s just a warning that it might be removed in one of the next releases, as long as it does what you expect it&#39;s absolutely fine to use it. \r\n\r\nIf you need to get rid of this compile-time warning: looking into the latest [JavaDoc for SaveService][2] it now takes [File][3] as the parameter so you should do something like:\r\n\r\n    HashTree testPlan = SaveService.loadTree(new File(&quot;/path/to/your/script.jmx&quot;));\r\n\r\nYou might also be interested in [JMeter DSL][4] as &quot;pure&quot; [JMeter API][5] is not too friendly and readable. \r\n\r\n\r\n  [1]: https://www.baeldung.com/java-deprecated\r\n  [2]: https://jmeter.apache.org/api/org/apache/jmeter/save/SaveService.html#loadTree-java.io.File-\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/io/File.html\r\n  [4]: https://www.blazemeter.com/blog/jmeterdsl-performance-testing-developers/\r\n  [5]: https://jmeter.apache.org/api/index.html","title":"The method loadTree(InputStream) from the type SaveService is deprecatedJava(67108967) JMeter","body":"<p>The fact that the function is <a href=\"https://www.baeldung.com/java-deprecated\" rel=\"nofollow noreferrer\">deprecated</a> doesn't mean it cannot be used, it's just a warning that it might be removed in one of the next releases, as long as it does what you expect it's absolutely fine to use it.</p>\n<p>If you need to get rid of this compile-time warning: looking into the latest <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/save/SaveService.html#loadTree-java.io.File-\" rel=\"nofollow noreferrer\">JavaDoc for SaveService</a> it now takes <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\">File</a> as the parameter so you should do something like:</p>\n<pre><code>HashTree testPlan = SaveService.loadTree(new File(&quot;/path/to/your/script.jmx&quot;));\n</code></pre>\n<p>You might also be interested in <a href=\"https://www.blazemeter.com/blog/jmeterdsl-performance-testing-developers/\" rel=\"nofollow noreferrer\">JMeter DSL</a> as &quot;pure&quot; <a href=\"https://jmeter.apache.org/api/index.html\" rel=\"nofollow noreferrer\">JMeter API</a> is not too friendly and readable.</p>\n"}],"owner":{"account_id":25518485,"reputation":1,"user_id":19308890,"display_name":"Ivan Anikin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654801016,"creation_date":1654796427,"question_id":72564496,"body_markdown":"I&#39;m trying to run JMeter script using JMeter 3.1, where the SaveService.loadTree() function is depricated. Would anyone be so kind and suggest what should I do, when the scripts I need to process are written in JMeter 3.1. \r\nThis is the error message:\r\n&#39;The method loadTree(InputStream) from the type SaveService is deprecatedJava(67108967)&#39;\r\nThanks in advance! :)\r\nI&#39;d like to create an automated solution of running JMeter scripts and testing different variations of changes. If you know any resource that might help me or others interested in the topic, please share, we&#39;ll be most grateful to you!","title":"The method loadTree(InputStream) from the type SaveService is deprecatedJava(67108967) JMeter","body":"<p>I'm trying to run JMeter script using JMeter 3.1, where the SaveService.loadTree() function is depricated. Would anyone be so kind and suggest what should I do, when the scripts I need to process are written in JMeter 3.1.\nThis is the error message:\n'The method loadTree(InputStream) from the type SaveService is deprecatedJava(67108967)'\nThanks in advance! :)\nI'd like to create an automated solution of running JMeter scripts and testing different variations of changes. If you know any resource that might help me or others interested in the topic, please share, we'll be most grateful to you!</p>\n"},{"tags":["java","android-studio","shuffle","fisher-yates-shuffle"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1650012793,"post_id":71881785,"comment_id":127022029,"body_markdown":"Yes, well this code is for an array - what have you tried to translate it to support `List`?","body":"Yes, well this code is for an array - what have you tried to translate it to support <code>List</code>?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1650012799,"post_id":71881785,"comment_id":127022030,"body_markdown":"What exactly are you trying to achieve here? `Collections.shuffle()` already uses Fisher-Yates algorithm.","body":"What exactly are you trying to achieve here? <code>Collections.shuffle()</code> already uses Fisher-Yates algorithm."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1650013190,"post_id":71881785,"comment_id":127022109,"body_markdown":"And btw you cannot change/override it, because it&#39;s static method.","body":"And btw you cannot change/override it, because it&#39;s static method."}],"owner":{"account_id":23668331,"reputation":1,"user_id":17695488,"display_name":"rappolop"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654800946,"creation_date":1650011525,"question_id":71881785,"body_markdown":"    List&lt;TriviaQuestion&gt; list;\r\n    Collections.shuffle(list);\r\n\r\nis Collections.shuffle(list); can it be called Fisher Yates?\r\n\r\n    for (int i = n-1; i &gt; 0; i--) {\r\n                int j = r.nextInt(i+1);\r\n                int temp = arr[i];\r\n                arr[i] = arr[j];\r\n                arr[j] = temp;\r\n            }","title":"Is Collections.shuffle(list); Fisher Yates Algorithm?","body":"<pre><code>List&lt;TriviaQuestion&gt; list;\nCollections.shuffle(list);\n</code></pre>\n<p>is Collections.shuffle(list); can it be called Fisher Yates?</p>\n<pre><code>for (int i = n-1; i &gt; 0; i--) {\n            int j = r.nextInt(i+1);\n            int temp = arr[i];\n            arr[i] = arr[j];\n            arr[j] = temp;\n        }\n</code></pre>\n"},{"tags":["java","mysql","hibernate","jpa","deadlock"],"comments":[{"owner":{"account_id":5689160,"reputation":1446,"user_id":4497704,"display_name":"D-FENS"},"score":0,"creation_date":1639096682,"post_id":70294893,"comment_id":124268568,"body_markdown":"I don&#39;t know how to turn off the lock completely, but could you try out if when using [optimistic locking](https://www.baeldung.com/jpa-optimistic-locking) it comes to a deadlock? `entityManager.find(A.class, aid, LockModeType.OPTIMISTIC);`","body":"I don&#39;t know how to turn off the lock completely, but could you try out if when using <a href=\"https://www.baeldung.com/jpa-optimistic-locking\" rel=\"nofollow noreferrer\">optimistic locking</a> it comes to a deadlock? <code>entityManager.find(A.class, aid, LockModeType.OPTIMISTIC);</code>"},{"owner":{"account_id":2303891,"reputation":1772,"user_id":2023577,"display_name":"user2023577"},"score":1,"creation_date":1639361170,"post_id":70294893,"comment_id":124321721,"body_markdown":"We didn&#39;t design with version or timestamp columns in our entities/tables to be usable with optimistic locking. But that not involving server-side locks anymore than the default LockMode.NONE. So, I would like to rely on the jpa default which seems reasonable. I&#39;m not quite ready to change all the thousands of transactions annotations.. that could be a huge mistake. The main reason for my S.O. questions is about the origin of the deadlock by jpa/hibernate but not raw statements that are similar, i.e. where is the shared lock coming from if nothing requested it.","body":"We didn&#39;t design with version or timestamp columns in our entities/tables to be usable with optimistic locking. But that not involving server-side locks anymore than the default LockMode.NONE. So, I would like to rely on the jpa default which seems reasonable. I&#39;m not quite ready to change all the thousands of transactions annotations.. that could be a huge mistake. The main reason for my S.O. questions is about the origin of the deadlock by jpa/hibernate but not raw statements that are similar, i.e. where is the shared lock coming from if nothing requested it."}],"answers":[{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639343022,"creation_date":1639342383,"answer_id":70327612,"question_id":70294893,"body_markdown":"&gt; What is surprising: I enabled the hibernate DEBUG level on org.hibernate.SQL to see the statements, and NONE of them show any &quot;select ... lock in share mode&quot; (nor select ... for update). (...) The question is where is this configured? For all the docs I read, the default lock mode is LockMode.NONE. \r\n\r\nThe default locking behaviour is configured in your RDBMS, of course. It is also known as *isolation level*. You said yours was set to `REPEATABLE READ`, so both read locks and write locks are maintained till the end of transaction. \r\n\r\nYou seem to be confused about expecting no locks to be in use unless explicitly requested. This is not at all how it works. A `SELECT` statement **always** acquires a read lock, and an `UPDATE` statement **always** acquires a write lock. The million dollar question is when those locks get **released**, and that&#39;s what isolation levels control. \r\n\r\n&gt; I want to just lock less\r\n\r\nWell then, switch to a more lenient isolation level - `READ COMMITED`, if your use case doesn&#39;t care about non-repeatable reads. \r\n\r\nOr, if there&#39;s little contention over DB rows and your update operations are relatively inexpensive, use optimistic locking, like @roccobaroccoSC suggested. \r\n\r\nOr, if contention changes dynamically, try a hybrid approach: first, try optimistic locking n times, and if that fails, use pessimistic locking, with upfront calls to `em.find(..., LockMode.PESSIMISTIC)`. ","title":"jpa hibernate deadlock with simple find + update","body":"<blockquote>\n<p>What is surprising: I enabled the hibernate DEBUG level on org.hibernate.SQL to see the statements, and NONE of them show any &quot;select ... lock in share mode&quot; (nor select ... for update). (...) The question is where is this configured? For all the docs I read, the default lock mode is LockMode.NONE.</p>\n</blockquote>\n<p>The default locking behaviour is configured in your RDBMS, of course. It is also known as <em>isolation level</em>. You said yours was set to <code>REPEATABLE READ</code>, so both read locks and write locks are maintained till the end of transaction.</p>\n<p>You seem to be confused about expecting no locks to be in use unless explicitly requested. This is not at all how it works. A <code>SELECT</code> statement <strong>always</strong> acquires a read lock, and an <code>UPDATE</code> statement <strong>always</strong> acquires a write lock. The million dollar question is when those locks get <strong>released</strong>, and that's what isolation levels control.</p>\n<blockquote>\n<p>I want to just lock less</p>\n</blockquote>\n<p>Well then, switch to a more lenient isolation level - <code>READ COMMITED</code>, if your use case doesn't care about non-repeatable reads.</p>\n<p>Or, if there's little contention over DB rows and your update operations are relatively inexpensive, use optimistic locking, like @roccobaroccoSC suggested.</p>\n<p>Or, if contention changes dynamically, try a hybrid approach: first, try optimistic locking n times, and if that fails, use pessimistic locking, with upfront calls to <code>em.find(..., LockMode.PESSIMISTIC)</code>.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1639366523,"creation_date":1639366523,"answer_id":70329676,"question_id":70294893,"body_markdown":"Your expectations about nonlocking reads are correct and documentation clearly states the same: https://dev.mysql.com/doc/refman/8.0/en/innodb-consistent-read.html, however I do believe that your analysis of the situation is incomplete - when you are performing tracing you might overlook some statements which look irrelevant for you, but from InnoDB perspective such statements might make sense, e.g. consider the following DB structure:\r\n\r\n```\r\nmysql&gt; create table t(id int(11), v int(11));\r\nQuery OK, 0 rows affected, 2 warnings (0.02 sec)\r\n\r\nmysql&gt; insert into t(id,v) primary key, values(1,1),(2,2);\r\nQuery OK, 2 rows affected (0.00 sec)\r\n\r\nmysql&gt; select * from t;\r\n+------+------+\r\n| id   | v    |\r\n+------+------+\r\n|    1 |    1 |\r\n|    2 |    2 |\r\n+------+------+\r\n2 rows in set (0.00 sec)\r\n```\r\n\r\nand the next statement actually locks the whole table due to &quot;missing&quot; index on `v` column:\r\n\r\n```\r\nmysql&gt; update t set v=4 where id&lt;2;\r\nQuery OK, 1 row affected (0.00 sec)\r\nRows matched: 1  Changed: 1  Warnings: 0\r\n\r\nmysql&gt; show engine innodb status;\r\n...\r\n---TRANSACTION 3672, ACTIVE 2 sec\r\n3 lock struct(s), heap size 1128, 2 row lock(s), undo log entries 1\r\n\r\n\r\n```\r\n\r\nwhich is counterintuitive for us, but described in documentation: https://dev.mysql.com/doc/refman/8.0/en/innodb-locks-set.html: \r\n\r\n&gt; UPDATE ... WHERE ... sets an exclusive next-key lock on every record\r\n&gt; the search encounters. However, only an index record lock is required\r\n&gt; for statements that lock rows using a unique index to search for a\r\n&gt; unique row.\r\n\r\n","title":"jpa hibernate deadlock with simple find + update","body":"<p>Your expectations about nonlocking reads are correct and documentation clearly states the same: <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-consistent-read.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/innodb-consistent-read.html</a>, however I do believe that your analysis of the situation is incomplete - when you are performing tracing you might overlook some statements which look irrelevant for you, but from InnoDB perspective such statements might make sense, e.g. consider the following DB structure:</p>\n<pre><code>mysql&gt; create table t(id int(11), v int(11));\nQuery OK, 0 rows affected, 2 warnings (0.02 sec)\n\nmysql&gt; insert into t(id,v) primary key, values(1,1),(2,2);\nQuery OK, 2 rows affected (0.00 sec)\n\nmysql&gt; select * from t;\n+------+------+\n| id   | v    |\n+------+------+\n|    1 |    1 |\n|    2 |    2 |\n+------+------+\n2 rows in set (0.00 sec)\n</code></pre>\n<p>and the next statement actually locks the whole table due to &quot;missing&quot; index on <code>v</code> column:</p>\n<pre><code>mysql&gt; update t set v=4 where id&lt;2;\nQuery OK, 1 row affected (0.00 sec)\nRows matched: 1  Changed: 1  Warnings: 0\n\nmysql&gt; show engine innodb status;\n...\n---TRANSACTION 3672, ACTIVE 2 sec\n3 lock struct(s), heap size 1128, 2 row lock(s), undo log entries 1\n\n\n</code></pre>\n<p>which is counterintuitive for us, but described in documentation: <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-locks-set.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/innodb-locks-set.html</a>:</p>\n<blockquote>\n<p>UPDATE ... WHERE ... sets an exclusive next-key lock on every record\nthe search encounters. However, only an index record lock is required\nfor statements that lock rows using a unique index to search for a\nunique row.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1075023,"reputation":521,"user_id":1073371,"accept_rate":71,"display_name":"castrogne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654799982,"creation_date":1654799982,"answer_id":72565129,"question_id":70294893,"body_markdown":"That&#39;s exactly the trouble I get : A select and an update causing deadlock.\r\n\r\nI use SQL server 2019, which default isolation level is Read commited. What would be the less locking isolaltion level ? Read Uncommitted ? \r\n\r\nhttps://www.sqlservercentral.com/articles/isolation-levels-in-sql-server\r\n","title":"jpa hibernate deadlock with simple find + update","body":"<p>That's exactly the trouble I get : A select and an update causing deadlock.</p>\n<p>I use SQL server 2019, which default isolation level is Read commited. What would be the less locking isolaltion level ? Read Uncommitted ?</p>\n<p><a href=\"https://www.sqlservercentral.com/articles/isolation-levels-in-sql-server\" rel=\"nofollow noreferrer\">https://www.sqlservercentral.com/articles/isolation-levels-in-sql-server</a></p>\n"}],"owner":{"account_id":2303891,"reputation":1772,"user_id":2023577,"display_name":"user2023577"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2959,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1654799982,"creation_date":1639074230,"question_id":70294893,"body_markdown":"I&#39;m frequently having deadlock when 2 transactions are doing:\r\n* entitymanager.find by id, no lock mode in particular\r\n* entitymanager.merge, no lock mode in particular\r\n\r\nThey are all under @Transactional and the default isolation is repeatable read, under mysql 5.7. The entity as id PK autoincrement as commonly used. No @Version if that matters...\r\n\r\nWhat happens is this:\r\n1) txn A finds the row\r\n2) txn B finds the row\r\n3) txn A tries to update and thus escalate to an exclusive X lock but waits because there seems to be a shared (S) (read) lock on the row from txn B\r\n4) txn B tries to update and thus escalate to an exclusive X lock but it is after txn A, which is held back by B itself. Now this is detected as a deadlock so one of these txn will rollback.\r\n\r\nThe SHOW ENGINE INNODB STATUS (SEIS) reveals the last detected deadlock.\r\nIt clearly says there were shared (S) locks.\r\n\r\nThis is my SEIS from prod (with some relabelling for privacy).\r\n\r\n    *** (1) TRANSACTION:\r\n    TRANSACTION 175274419, ACTIVE 0 sec starting index read\r\n    mysql tables in use 1, locked 1\r\n    LOCK WAIT 8 lock struct(s), heap size 1136, 3 row lock(s), undo log entries 2\r\n    MySQL thread id 627088, OS thread handle 22952098592512, query id 365172765 192.168.1.100 mydatabase updating\r\n    \r\n    update thing set needs_checkup=0 where id=1129\r\n    \r\n    *** (1) WAITING FOR THIS LOCK TO BE GRANTED:\r\n    RECORD LOCKS space id 361 page no 25 n bits 144 index PRIMARY of table `mydatabase`.`thing` trx id 175274419 lock_mode X locks rec but not gap waiting\r\n    \r\n    \r\n    *** (2) TRANSACTION:\r\n    TRANSACTION 175274420, ACTIVE 0 sec starting index read\r\n    mysql tables in use 1, locked 1\r\n    8 lock struct(s), heap size 1136, 3 row lock(s), undo log entries 2\r\n    MySQL thread id 627077, OS thread handle 22952240928512, query id 365172766 192.168.1.100 mydatabase updating\r\n    \r\n    update thing set needs_checkup=0 where id=1129\r\n    \r\n    *** (2) HOLDS THE LOCK(S):\r\n    RECORD LOCKS space id 361 page no 25 n bits 144 index PRIMARY of table `mydatabase`.`thing` trx id 175274420 lock mode S locks rec but not gap\r\n     \r\n    *** (2) WAITING FOR THIS LOCK TO BE GRANTED:\r\n    RECORD LOCKS space id 361 page no 25 n bits 144 index PRIMARY of table `mydatabase`.`thing` trx id 175274420 lock_mode X locks rec but not gap waiting\r\n    \r\n    *** WE ROLL BACK TRANSACTION (2)\r\n    \r\n\r\nWhat is surprising: I enabled the hibernate DEBUG level on org.hibernate.SQL to see the  statements, and NONE of them show any &quot;select ... lock in share mode&quot; (nor select ... for update).\r\n\r\n(I&#39;ve gone the extra mile and packet-sniffed the mysql protocol over port 3306 with wireshark, and not a single hint of special locking mode, nor any session variable other than the usual &quot;set session transaction read write&quot; vs &quot;... read only&quot; from time to time, which has no effect on locking).\r\n\r\nThere is enough time between steps 1 and 3 obviously for txn B to sneak in. So I presume this shared lock is not a momentary effect of the update statement. We wouldn&#39;t get deadlocks that easily if that was the case. So I presume the shared lock comes from the &quot;find&quot;.\r\n\r\nThe question is **where is this configured**? \r\nFor all the docs I read, the default lock mode is LockMode.NONE.\r\n\r\nIf I write raw sql in 2 sessions, like below, (and using transaction read write mode, the default) I don&#39;t get the deadlock:\r\n1) txnA: select * from foo where id = 1;\r\n2) txnB: select * from foo where id = 1;\r\n3) txnA: update foo set x=x+1 where id = 1;\r\n4) txnB: update foo set x=x+1000 where id = 1;\r\n\r\nbut if I write this, then I get the same deadlock:\r\n1) txnA: select * from foo where id = 1 lock in share mode ;\r\n2) txnB: select * from foo where id = 1 lock in share mode ;\r\n3) txnA: update foo set x=x+1 where id = 1;\r\n4) txnB: update foo set x=x+1000 where id = 1;\r\n\r\nNow, I don&#39;t want to use a X (or U) lock in the find, as mentioned in https://stackoverflow.com/questions/22353327/how-do-update-locks-prevent-a-common-form-of-deadlock. \r\n\r\nI want to just lock less, as the raw SQL seems to allow.\r\nSo again, the question is **where is this configured? why is this shared lock requested? How does hibernate even get to that point if none of the sql statement I see in the sniffed packets even hint at those shared locks?** \r\n\r\nThanks.\r\n\r\n\r\n\r\n**UPDATE:**\r\n\r\nIn the last days, I&#39;ve examined the possibility for an unseen statement in the same transactions prior to the updates above.\r\n\r\na) I do have a foreign key of some child table row inserted and pointing to the &#39;thing&#39; row. The mysql doc does say something about shared locks on parent of FK. I tried and it didn&#39;t lock the parent for share. I still couldn&#39;t make the deadlock with those child inserts with &quot;raw&quot; instructions again. The child insert doesn&#39;t prevent a parent update (the parent &quot;thing&quot; table is the one having deadlocked statement, remember).\r\n\r\nb) I also read on unique keys. They mention something about the statement (failing the unique constraint) taking a shared lock. I&#39;m not clear on the steps to achieve that. While I&#39;m still investigating that, I though I should mention it in case that lights up someone&#39;s mind...\r\n\r\n","title":"jpa hibernate deadlock with simple find + update","body":"<p>I'm frequently having deadlock when 2 transactions are doing:</p>\n<ul>\n<li>entitymanager.find by id, no lock mode in particular</li>\n<li>entitymanager.merge, no lock mode in particular</li>\n</ul>\n<p>They are all under @Transactional and the default isolation is repeatable read, under mysql 5.7. The entity as id PK autoincrement as commonly used. No @Version if that matters...</p>\n<p>What happens is this:</p>\n<ol>\n<li>txn A finds the row</li>\n<li>txn B finds the row</li>\n<li>txn A tries to update and thus escalate to an exclusive X lock but waits because there seems to be a shared (S) (read) lock on the row from txn B</li>\n<li>txn B tries to update and thus escalate to an exclusive X lock but it is after txn A, which is held back by B itself. Now this is detected as a deadlock so one of these txn will rollback.</li>\n</ol>\n<p>The SHOW ENGINE INNODB STATUS (SEIS) reveals the last detected deadlock.\nIt clearly says there were shared (S) locks.</p>\n<p>This is my SEIS from prod (with some relabelling for privacy).</p>\n<pre><code>*** (1) TRANSACTION:\nTRANSACTION 175274419, ACTIVE 0 sec starting index read\nmysql tables in use 1, locked 1\nLOCK WAIT 8 lock struct(s), heap size 1136, 3 row lock(s), undo log entries 2\nMySQL thread id 627088, OS thread handle 22952098592512, query id 365172765 192.168.1.100 mydatabase updating\n\nupdate thing set needs_checkup=0 where id=1129\n\n*** (1) WAITING FOR THIS LOCK TO BE GRANTED:\nRECORD LOCKS space id 361 page no 25 n bits 144 index PRIMARY of table `mydatabase`.`thing` trx id 175274419 lock_mode X locks rec but not gap waiting\n\n\n*** (2) TRANSACTION:\nTRANSACTION 175274420, ACTIVE 0 sec starting index read\nmysql tables in use 1, locked 1\n8 lock struct(s), heap size 1136, 3 row lock(s), undo log entries 2\nMySQL thread id 627077, OS thread handle 22952240928512, query id 365172766 192.168.1.100 mydatabase updating\n\nupdate thing set needs_checkup=0 where id=1129\n\n*** (2) HOLDS THE LOCK(S):\nRECORD LOCKS space id 361 page no 25 n bits 144 index PRIMARY of table `mydatabase`.`thing` trx id 175274420 lock mode S locks rec but not gap\n \n*** (2) WAITING FOR THIS LOCK TO BE GRANTED:\nRECORD LOCKS space id 361 page no 25 n bits 144 index PRIMARY of table `mydatabase`.`thing` trx id 175274420 lock_mode X locks rec but not gap waiting\n\n*** WE ROLL BACK TRANSACTION (2)\n</code></pre>\n<p>What is surprising: I enabled the hibernate DEBUG level on org.hibernate.SQL to see the  statements, and NONE of them show any &quot;select ... lock in share mode&quot; (nor select ... for update).</p>\n<p>(I've gone the extra mile and packet-sniffed the mysql protocol over port 3306 with wireshark, and not a single hint of special locking mode, nor any session variable other than the usual &quot;set session transaction read write&quot; vs &quot;... read only&quot; from time to time, which has no effect on locking).</p>\n<p>There is enough time between steps 1 and 3 obviously for txn B to sneak in. So I presume this shared lock is not a momentary effect of the update statement. We wouldn't get deadlocks that easily if that was the case. So I presume the shared lock comes from the &quot;find&quot;.</p>\n<p>The question is <strong>where is this configured</strong>?\nFor all the docs I read, the default lock mode is LockMode.NONE.</p>\n<p>If I write raw sql in 2 sessions, like below, (and using transaction read write mode, the default) I don't get the deadlock:</p>\n<ol>\n<li>txnA: select * from foo where id = 1;</li>\n<li>txnB: select * from foo where id = 1;</li>\n<li>txnA: update foo set x=x+1 where id = 1;</li>\n<li>txnB: update foo set x=x+1000 where id = 1;</li>\n</ol>\n<p>but if I write this, then I get the same deadlock:</p>\n<ol>\n<li>txnA: select * from foo where id = 1 lock in share mode ;</li>\n<li>txnB: select * from foo where id = 1 lock in share mode ;</li>\n<li>txnA: update foo set x=x+1 where id = 1;</li>\n<li>txnB: update foo set x=x+1000 where id = 1;</li>\n</ol>\n<p>Now, I don't want to use a X (or U) lock in the find, as mentioned in <a href=\"https://stackoverflow.com/questions/22353327/how-do-update-locks-prevent-a-common-form-of-deadlock\">How do UPDATE locks prevent a common form of deadlock?</a>.</p>\n<p>I want to just lock less, as the raw SQL seems to allow.\nSo again, the question is <strong>where is this configured? why is this shared lock requested? How does hibernate even get to that point if none of the sql statement I see in the sniffed packets even hint at those shared locks?</strong></p>\n<p>Thanks.</p>\n<p><strong>UPDATE:</strong></p>\n<p>In the last days, I've examined the possibility for an unseen statement in the same transactions prior to the updates above.</p>\n<p>a) I do have a foreign key of some child table row inserted and pointing to the 'thing' row. The mysql doc does say something about shared locks on parent of FK. I tried and it didn't lock the parent for share. I still couldn't make the deadlock with those child inserts with &quot;raw&quot; instructions again. The child insert doesn't prevent a parent update (the parent &quot;thing&quot; table is the one having deadlocked statement, remember).</p>\n<p>b) I also read on unique keys. They mention something about the statement (failing the unique constraint) taking a shared lock. I'm not clear on the steps to achieve that. While I'm still investigating that, I though I should mention it in case that lights up someone's mind...</p>\n"},{"tags":["java","spring","annotations","spring-scheduled"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1343031077,"post_id":11608531,"comment_id":15368308,"body_markdown":"related: http://stackoverflow.com/questions/6788811/taskscheduler-scheduled-and-quartz/6840970#6840970","body":"related: <a href=\"http://stackoverflow.com/questions/6788811/taskscheduler-scheduled-and-quartz/6840970#6840970\" title=\"taskscheduler scheduled and quartz\">stackoverflow.com/questions/6788811/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1343030922,"creation_date":1343030922,"answer_id":11608614,"question_id":11608531,"body_markdown":"Some spring annotations support SpEL.\r\n\r\nFirst:\r\n\r\n    &lt;context:property-placeholder\r\n        location=&quot;file:${external.config.location}/application.properties&quot; /&gt;\r\n\r\nAnd then, for example:\r\n\r\n    @Value(&quot;${delayValue}&quot;)\r\n    private int delayValue;\r\n\r\nI&#39;m not sure if `@Scheduled` supports SPeL, though, but in general, that&#39;s the approach.\r\n\r\nIn regard to scheduling, check this [post of mine][1] and [this related question][2]\r\n\r\n\r\n  [1]: http://techblog.bozho.net/?p=452\r\n  [2]: https://stackoverflow.com/questions/6788811/taskscheduler-scheduled-and-quartz/6840970#6840970","title":"Injecting externalized value into Spring annotation","body":"<p>Some spring annotations support SpEL.</p>\n\n<p>First:</p>\n\n<pre><code>&lt;context:property-placeholder\n    location=\"file:${external.config.location}/application.properties\" /&gt;\n</code></pre>\n\n<p>And then, for example:</p>\n\n<pre><code>@Value(\"${delayValue}\")\nprivate int delayValue;\n</code></pre>\n\n<p>I'm not sure if <code>@Scheduled</code> supports SPeL, though, but in general, that's the approach.</p>\n\n<p>In regard to scheduling, check this <a href=\"http://techblog.bozho.net/?p=452\" rel=\"nofollow noreferrer\">post of mine</a> and <a href=\"https://stackoverflow.com/questions/6788811/taskscheduler-scheduled-and-quartz/6840970#6840970\">this related question</a></p>\n"},{"tags":[],"owner":{"account_id":341781,"reputation":20847,"user_id":672586,"display_name":"gkamal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1343031365,"creation_date":1343030925,"answer_id":11608615,"question_id":11608531,"body_markdown":"A better way to do this is to define the scheduling in xml using the task name space\r\n\r\n    &lt;context:property-placeholder location=&quot;scheduling.properties&quot;/&gt;\r\n    &lt;task:scheduled ref=&quot;someBean&quot; method=&quot;someMethod&quot; fixed-delay=&quot;${delayValue}&quot;/&gt;\r\n\r\n\r\nIf you for some reason want to do it with annotation, you need to create an annotation that has another optional attribute where you can specify the property name or better still a property placeholder expression or Spel expression.\r\n\r\n    @MyScheduled(fixedDelayString=&quot;${delay}&quot;)","title":"Injecting externalized value into Spring annotation","body":"<p>A better way to do this is to define the scheduling in xml using the task name space</p>\n\n<pre><code>&lt;context:property-placeholder location=\"scheduling.properties\"/&gt;\n&lt;task:scheduled ref=\"someBean\" method=\"someMethod\" fixed-delay=\"${delayValue}\"/&gt;\n</code></pre>\n\n<p>If you for some reason want to do it with annotation, you need to create an annotation that has another optional attribute where you can specify the property name or better still a property placeholder expression or Spel expression.</p>\n\n<pre><code>@MyScheduled(fixedDelayString=\"${delay}\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100622,"reputation":3010,"user_id":271149,"accept_rate":90,"display_name":"quantum"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1343385581,"creation_date":1343385581,"answer_id":11686184,"question_id":11608531,"body_markdown":"Thank you both for your answers, you have provided valuable info which led me to this solution, so I upvoted both answers.\r\n\r\nI&#39;ve opted to make a custom bean post processor and custom `@Scheduled` annotation.\r\n\r\nThe code is simple (essentially it is a trivial adaptation of existing Spring code) and I really wonder why they didn&#39;t do it like this from the get go. `BeanPostProcessor`&#39;s code count is effectively doubled since I chose to handle the old annotation and the new one.\r\n\r\nIf you have any suggestion on how to improve this code, I&#39;ll be glad to hear it out.\r\n\r\n\r\n**CustomScheduled** class (annotation)\r\n\r\n    @Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    public @interface CustomScheduled {\r\n    \r\n    \tString cron() default &quot;&quot;;\r\n    \r\n    \tString fixedDelay() default &quot;&quot;;\r\n    \r\n    \tString fixedRate() default &quot;&quot;;\r\n    }\r\n\r\n**CustomScheduledAnnotationBeanPostProcessor** class\r\n\r\n    public class CustomScheduledAnnotationBeanPostProcessor implements BeanPostProcessor, Ordered, EmbeddedValueResolverAware, ApplicationContextAware,\tApplicationListener&lt;ContextRefreshedEvent&gt;, DisposableBean \r\n    {\r\n       \tprivate static final Logger LOG = LoggerFactory.getLogger(CustomScheduledAnnotationBeanPostProcessor.class);\r\n    \t\r\n    \t// omitted code is the same as in ScheduledAnnotationBeanPostProcessor......\r\n    \r\n    \tpublic Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\r\n    \t\treturn bean;\r\n    \t}\r\n    \r\n    \t// processes both @Scheduled and @CustomScheduled annotations\r\n    \tpublic Object postProcessAfterInitialization(final Object bean, String beanName) throws BeansException {\r\n    \t\tfinal Class&lt;?&gt; targetClass = AopUtils.getTargetClass(bean);\r\n    \t\tReflectionUtils.doWithMethods(targetClass, new MethodCallback() {\r\n    \t\t\tpublic void doWith(Method method) throws IllegalArgumentException, IllegalAccessException {\r\n    \t\t\t\t\r\n    \t\t\t\tScheduled oldScheduledAnnotation = AnnotationUtils.getAnnotation(method, Scheduled.class);\r\n    \t\t\t\tif (oldScheduledAnnotation != null) {\r\n    \t\t\t\t\tLOG.info(&quot;@Scheduled found at method {}&quot;, method.getName());\r\n    \t\t\t\t\tAssert.isTrue(void.class.equals(method.getReturnType()), &quot;Only void-returning methods may be annotated with @Scheduled.&quot;);\r\n    \t\t\t\t\tAssert.isTrue(method.getParameterTypes().length == 0, &quot;Only no-arg methods may be annotated with @Scheduled.&quot;);\r\n    \t\t\t\t\tif (AopUtils.isJdkDynamicProxy(bean)) {\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t// found a @Scheduled method on the target class for this JDK proxy -&gt; is it\r\n    \t\t\t\t\t\t\t// also present on the proxy itself?\r\n    \t\t\t\t\t\t\tmethod = bean.getClass().getMethod(method.getName(), method.getParameterTypes());\r\n    \t\t\t\t\t\t} catch (SecurityException ex) {\r\n    \t\t\t\t\t\t\tReflectionUtils.handleReflectionException(ex);\r\n    \t\t\t\t\t\t} catch (NoSuchMethodException ex) {\r\n    \t\t\t\t\t\t\tthrow new IllegalStateException(String.format(\r\n    \t\t\t\t\t\t\t\t\t&quot;@Scheduled method &#39;%s&#39; found on bean target class &#39;%s&#39;, &quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;but not found in any interface(s) for bean JDK proxy. Either &quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;pull the method up to an interface or switch to subclass (CGLIB) &quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;proxies by setting proxy-target-class/proxyTargetClass &quot; +\r\n    \t\t\t\t\t\t\t\t\t&quot;attribute to &#39;true&#39;&quot;, method.getName(), targetClass.getSimpleName()));\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tRunnable runnable = new ScheduledMethodRunnable(bean, method);\r\n    \t\t\t\t\tboolean processedSchedule = false;\r\n    \t\t\t\t\tString errorMessage = &quot;Exactly one of &#39;cron&#39;, &#39;fixedDelay&#39;, or &#39;fixedRate&#39; is required.&quot;;\r\n    \t\t\t\t\tString cron = oldScheduledAnnotation.cron();\r\n    \t\t\t\t\tif (!&quot;&quot;.equals(cron)) {\r\n    \t\t\t\t\t\tprocessedSchedule = true;\r\n    \t\t\t\t\t\tif (embeddedValueResolver != null) {\r\n    \t\t\t\t\t\t\tcron = embeddedValueResolver.resolveStringValue(cron);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tcronTasks.put(runnable, cron);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tlong fixedDelay = oldScheduledAnnotation.fixedDelay();\r\n    \t\t\t\t\tif (fixedDelay &gt;= 0) {\r\n    \t\t\t\t\t\tAssert.isTrue(!processedSchedule, errorMessage);\r\n    \t\t\t\t\t\tprocessedSchedule = true;\r\n    \t\t\t\t\t\tfixedDelayTasks.put(runnable, fixedDelay);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tlong fixedRate = oldScheduledAnnotation.fixedRate();\r\n    \t\t\t\t\tif (fixedRate &gt;= 0) {\r\n    \t\t\t\t\t\tAssert.isTrue(!processedSchedule, errorMessage);\r\n    \t\t\t\t\t\tprocessedSchedule = true;\r\n    \t\t\t\t\t\tfixedRateTasks.put(runnable, fixedRate);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tAssert.isTrue(processedSchedule, errorMessage);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tCustomScheduled newScheduledAnnotation = AnnotationUtils.getAnnotation(method, CustomScheduled.class);\r\n    \t\t\t\tif (newScheduledAnnotation != null) {\r\n    \t\t\t\t\tLOG.info(&quot;@CustomScheduled found at method {}&quot;, method.getName());\r\n    \t\t\t\t\tAssert.isTrue(void.class.equals(method.getReturnType()), &quot;Only void-returning methods may be annotated with @CustomScheduled.&quot;);\r\n    \t\t\t\t\tAssert.isTrue(method.getParameterTypes().length == 0, &quot;Only no-arg methods may be annotated with @CustomScheduled.&quot;);\r\n    \t\t\t\t\tif (AopUtils.isJdkDynamicProxy(bean)) {\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t// found a @CustomScheduled method on the target class for this JDK proxy -&gt; is it\r\n    \t\t\t\t\t\t\t// also present on the proxy itself?\r\n    \t\t\t\t\t\t\tmethod = bean.getClass().getMethod(method.getName(), method.getParameterTypes());\r\n    \t\t\t\t\t\t} catch (SecurityException ex) {\r\n    \t\t\t\t\t\t\tReflectionUtils.handleReflectionException(ex);\r\n    \t\t\t\t\t\t} catch (NoSuchMethodException ex) {\r\n    \t\t\t\t\t\t\tthrow new IllegalStateException(String.format(&quot;@CustomScheduled method &#39;%s&#39; found on bean target class &#39;%s&#39;, &quot;\r\n    \t\t\t\t\t\t\t\t\t+ &quot;but not found in any interface(s) for bean JDK proxy. Either &quot;\r\n    \t\t\t\t\t\t\t\t\t+ &quot;pull the method up to an interface or switch to subclass (CGLIB) &quot;\r\n    \t\t\t\t\t\t\t\t\t+ &quot;proxies by setting proxy-target-class/proxyTargetClass &quot; + &quot;attribute to &#39;true&#39;&quot;, method.getName(),\r\n    \t\t\t\t\t\t\t\t\ttargetClass.getSimpleName()));\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tRunnable runnable = new ScheduledMethodRunnable(bean, method);\r\n    \t\t\t\t\tboolean processedSchedule = false;\r\n    \t\t\t\t\tString errorMessage = &quot;Exactly one of &#39;cron&#39;, &#39;fixedDelay&#39;, or &#39;fixedRate&#39; is required.&quot;;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tboolean numberFormatException = false;\r\n    \t\t\t\t\tString numberFormatErrorMessage = &quot;Delay value is not a number!&quot;;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tString cron = newScheduledAnnotation.cron();\r\n    \t\t\t\t\tif (!&quot;&quot;.equals(cron)) {\r\n    \t\t\t\t\t\tprocessedSchedule = true;\r\n    \t\t\t\t\t\tif (embeddedValueResolver != null) {\r\n    \t\t\t\t\t\t\tcron = embeddedValueResolver.resolveStringValue(cron);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tcronTasks.put(runnable, cron);\r\n    \t\t\t\t\t\tLOG.info(&quot;Put cron in tasks map with value {}&quot;, cron);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t// fixedDelay value resolving\r\n    \t\t\t\t\tLong fixedDelay = null;\r\n    \t\t\t\t\tString resolverDelayCandidate = newScheduledAnnotation.fixedDelay();\r\n    \t\t\t\t\tif (!&quot;&quot;.equals(resolverDelayCandidate)) {\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\tif (embeddedValueResolver != null) {\r\n    \t\t\t\t\t\t\t\tresolverDelayCandidate = embeddedValueResolver.resolveStringValue(resolverDelayCandidate);\r\n    \t\t\t\t\t\t\t\tfixedDelay = Long.valueOf(resolverDelayCandidate);\r\n    \t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\tfixedDelay = Long.valueOf(newScheduledAnnotation.fixedDelay());\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t} catch (NumberFormatException e) {\r\n    \t\t\t\t\t\t\tnumberFormatException = true;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tAssert.isTrue(!numberFormatException, numberFormatErrorMessage);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif (fixedDelay != null &amp;&amp; fixedDelay &gt;= 0) {\r\n    \t\t\t\t\t\tAssert.isTrue(!processedSchedule, errorMessage);\r\n    \t\t\t\t\t\tprocessedSchedule = true;\r\n    \t\t\t\t\t\tfixedDelayTasks.put(runnable, fixedDelay);\r\n    \t\t\t\t\t\tLOG.info(&quot;Put fixedDelay in tasks map with value {}&quot;, fixedDelay);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t// fixedRate value resolving\r\n    \t\t\t\t\tLong fixedRate = null;\r\n    \t\t\t\t\tString resolverRateCandidate = newScheduledAnnotation.fixedRate();\r\n    \t\t\t\t\tif (!&quot;&quot;.equals(resolverRateCandidate)) {\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\tif (embeddedValueResolver != null) {\r\n    \t\t\t\t\t\t\t\tfixedRate = Long.valueOf(embeddedValueResolver.resolveStringValue(resolverRateCandidate));\r\n    \t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\tfixedRate = Long.valueOf(newScheduledAnnotation.fixedRate());\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t} catch (NumberFormatException e) {\r\n    \t\t\t\t\t\t\tnumberFormatException = true;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tAssert.isTrue(!numberFormatException, numberFormatErrorMessage);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif (fixedRate != null &amp;&amp; fixedRate &gt;= 0) {\r\n    \t\t\t\t\t\tAssert.isTrue(!processedSchedule, errorMessage);\r\n    \t\t\t\t\t\tprocessedSchedule = true;\r\n    \t\t\t\t\t\tfixedRateTasks.put(runnable, fixedRate);\r\n    \t\t\t\t\t\tLOG.info(&quot;Put fixedRate in tasks map with value {}&quot;, fixedRate);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tAssert.isTrue(processedSchedule, errorMessage);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\treturn bean;\r\n    \t}\r\n    }\r\n\r\n\r\n**spring-context.xml** config file\r\n\r\n    &lt;beans...&gt;\r\n       \t&lt;!-- Enables the use of a @CustomScheduled annotation--&gt;\r\n    \t&lt;bean class=&quot;org.package.CustomScheduledAnnotationBeanPostProcessor&quot; /&gt;\r\n    &lt;/beans&gt;","title":"Injecting externalized value into Spring annotation","body":"<p>Thank you both for your answers, you have provided valuable info which led me to this solution, so I upvoted both answers.</p>\n\n<p>I've opted to make a custom bean post processor and custom <code>@Scheduled</code> annotation.</p>\n\n<p>The code is simple (essentially it is a trivial adaptation of existing Spring code) and I really wonder why they didn't do it like this from the get go. <code>BeanPostProcessor</code>'s code count is effectively doubled since I chose to handle the old annotation and the new one.</p>\n\n<p>If you have any suggestion on how to improve this code, I'll be glad to hear it out.</p>\n\n<p><strong>CustomScheduled</strong> class (annotation)</p>\n\n<pre><code>@Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface CustomScheduled {\n\n    String cron() default \"\";\n\n    String fixedDelay() default \"\";\n\n    String fixedRate() default \"\";\n}\n</code></pre>\n\n<p><strong>CustomScheduledAnnotationBeanPostProcessor</strong> class</p>\n\n<pre><code>public class CustomScheduledAnnotationBeanPostProcessor implements BeanPostProcessor, Ordered, EmbeddedValueResolverAware, ApplicationContextAware, ApplicationListener&lt;ContextRefreshedEvent&gt;, DisposableBean \n{\n    private static final Logger LOG = LoggerFactory.getLogger(CustomScheduledAnnotationBeanPostProcessor.class);\n\n    // omitted code is the same as in ScheduledAnnotationBeanPostProcessor......\n\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\n        return bean;\n    }\n\n    // processes both @Scheduled and @CustomScheduled annotations\n    public Object postProcessAfterInitialization(final Object bean, String beanName) throws BeansException {\n        final Class&lt;?&gt; targetClass = AopUtils.getTargetClass(bean);\n        ReflectionUtils.doWithMethods(targetClass, new MethodCallback() {\n            public void doWith(Method method) throws IllegalArgumentException, IllegalAccessException {\n\n                Scheduled oldScheduledAnnotation = AnnotationUtils.getAnnotation(method, Scheduled.class);\n                if (oldScheduledAnnotation != null) {\n                    LOG.info(\"@Scheduled found at method {}\", method.getName());\n                    Assert.isTrue(void.class.equals(method.getReturnType()), \"Only void-returning methods may be annotated with @Scheduled.\");\n                    Assert.isTrue(method.getParameterTypes().length == 0, \"Only no-arg methods may be annotated with @Scheduled.\");\n                    if (AopUtils.isJdkDynamicProxy(bean)) {\n                        try {\n                            // found a @Scheduled method on the target class for this JDK proxy -&gt; is it\n                            // also present on the proxy itself?\n                            method = bean.getClass().getMethod(method.getName(), method.getParameterTypes());\n                        } catch (SecurityException ex) {\n                            ReflectionUtils.handleReflectionException(ex);\n                        } catch (NoSuchMethodException ex) {\n                            throw new IllegalStateException(String.format(\n                                    \"@Scheduled method '%s' found on bean target class '%s', \" +\n                                    \"but not found in any interface(s) for bean JDK proxy. Either \" +\n                                    \"pull the method up to an interface or switch to subclass (CGLIB) \" +\n                                    \"proxies by setting proxy-target-class/proxyTargetClass \" +\n                                    \"attribute to 'true'\", method.getName(), targetClass.getSimpleName()));\n                        }\n                    }\n                    Runnable runnable = new ScheduledMethodRunnable(bean, method);\n                    boolean processedSchedule = false;\n                    String errorMessage = \"Exactly one of 'cron', 'fixedDelay', or 'fixedRate' is required.\";\n                    String cron = oldScheduledAnnotation.cron();\n                    if (!\"\".equals(cron)) {\n                        processedSchedule = true;\n                        if (embeddedValueResolver != null) {\n                            cron = embeddedValueResolver.resolveStringValue(cron);\n                        }\n                        cronTasks.put(runnable, cron);\n                    }\n                    long fixedDelay = oldScheduledAnnotation.fixedDelay();\n                    if (fixedDelay &gt;= 0) {\n                        Assert.isTrue(!processedSchedule, errorMessage);\n                        processedSchedule = true;\n                        fixedDelayTasks.put(runnable, fixedDelay);\n                    }\n                    long fixedRate = oldScheduledAnnotation.fixedRate();\n                    if (fixedRate &gt;= 0) {\n                        Assert.isTrue(!processedSchedule, errorMessage);\n                        processedSchedule = true;\n                        fixedRateTasks.put(runnable, fixedRate);\n                    }\n                    Assert.isTrue(processedSchedule, errorMessage);\n                }\n\n                CustomScheduled newScheduledAnnotation = AnnotationUtils.getAnnotation(method, CustomScheduled.class);\n                if (newScheduledAnnotation != null) {\n                    LOG.info(\"@CustomScheduled found at method {}\", method.getName());\n                    Assert.isTrue(void.class.equals(method.getReturnType()), \"Only void-returning methods may be annotated with @CustomScheduled.\");\n                    Assert.isTrue(method.getParameterTypes().length == 0, \"Only no-arg methods may be annotated with @CustomScheduled.\");\n                    if (AopUtils.isJdkDynamicProxy(bean)) {\n                        try {\n                            // found a @CustomScheduled method on the target class for this JDK proxy -&gt; is it\n                            // also present on the proxy itself?\n                            method = bean.getClass().getMethod(method.getName(), method.getParameterTypes());\n                        } catch (SecurityException ex) {\n                            ReflectionUtils.handleReflectionException(ex);\n                        } catch (NoSuchMethodException ex) {\n                            throw new IllegalStateException(String.format(\"@CustomScheduled method '%s' found on bean target class '%s', \"\n                                    + \"but not found in any interface(s) for bean JDK proxy. Either \"\n                                    + \"pull the method up to an interface or switch to subclass (CGLIB) \"\n                                    + \"proxies by setting proxy-target-class/proxyTargetClass \" + \"attribute to 'true'\", method.getName(),\n                                    targetClass.getSimpleName()));\n                        }\n                    }\n\n                    Runnable runnable = new ScheduledMethodRunnable(bean, method);\n                    boolean processedSchedule = false;\n                    String errorMessage = \"Exactly one of 'cron', 'fixedDelay', or 'fixedRate' is required.\";\n\n                    boolean numberFormatException = false;\n                    String numberFormatErrorMessage = \"Delay value is not a number!\";\n\n                    String cron = newScheduledAnnotation.cron();\n                    if (!\"\".equals(cron)) {\n                        processedSchedule = true;\n                        if (embeddedValueResolver != null) {\n                            cron = embeddedValueResolver.resolveStringValue(cron);\n                        }\n                        cronTasks.put(runnable, cron);\n                        LOG.info(\"Put cron in tasks map with value {}\", cron);\n                    }\n\n                    // fixedDelay value resolving\n                    Long fixedDelay = null;\n                    String resolverDelayCandidate = newScheduledAnnotation.fixedDelay();\n                    if (!\"\".equals(resolverDelayCandidate)) {\n                        try {\n                            if (embeddedValueResolver != null) {\n                                resolverDelayCandidate = embeddedValueResolver.resolveStringValue(resolverDelayCandidate);\n                                fixedDelay = Long.valueOf(resolverDelayCandidate);\n                            } else {\n                                fixedDelay = Long.valueOf(newScheduledAnnotation.fixedDelay());\n                            }\n                        } catch (NumberFormatException e) {\n                            numberFormatException = true;\n                        }\n                    }\n\n                    Assert.isTrue(!numberFormatException, numberFormatErrorMessage);\n\n                    if (fixedDelay != null &amp;&amp; fixedDelay &gt;= 0) {\n                        Assert.isTrue(!processedSchedule, errorMessage);\n                        processedSchedule = true;\n                        fixedDelayTasks.put(runnable, fixedDelay);\n                        LOG.info(\"Put fixedDelay in tasks map with value {}\", fixedDelay);\n                    }\n\n                    // fixedRate value resolving\n                    Long fixedRate = null;\n                    String resolverRateCandidate = newScheduledAnnotation.fixedRate();\n                    if (!\"\".equals(resolverRateCandidate)) {\n                        try {\n                            if (embeddedValueResolver != null) {\n                                fixedRate = Long.valueOf(embeddedValueResolver.resolveStringValue(resolverRateCandidate));\n                            } else {\n                                fixedRate = Long.valueOf(newScheduledAnnotation.fixedRate());\n                            }\n                        } catch (NumberFormatException e) {\n                            numberFormatException = true;\n                        }\n                    }\n\n                    Assert.isTrue(!numberFormatException, numberFormatErrorMessage);\n\n                    if (fixedRate != null &amp;&amp; fixedRate &gt;= 0) {\n                        Assert.isTrue(!processedSchedule, errorMessage);\n                        processedSchedule = true;\n                        fixedRateTasks.put(runnable, fixedRate);\n                        LOG.info(\"Put fixedRate in tasks map with value {}\", fixedRate);\n                    }\n                    Assert.isTrue(processedSchedule, errorMessage);\n                }\n            }\n        });\n        return bean;\n    }\n}\n</code></pre>\n\n<p><strong>spring-context.xml</strong> config file</p>\n\n<pre><code>&lt;beans...&gt;\n    &lt;!-- Enables the use of a @CustomScheduled annotation--&gt;\n    &lt;bean class=\"org.package.CustomScheduledAnnotationBeanPostProcessor\" /&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2745949,"reputation":5806,"user_id":2366359,"display_name":"Mark-A"},"down_vote_count":0,"up_vote_count":88,"is_accepted":true,"score":88,"last_activity_date":1368108869,"creation_date":1368108869,"answer_id":16463900,"question_id":11608531,"body_markdown":"The `@Scheduled` annotation in Spring v3.2.2 has added String parameters to the original 3 long parameters to handle this. `fixedDelayString`, `fixedRateString` and `initialDelayString` are now available too:\r\n\r\n     @Scheduled(fixedDelayString = &quot;${my.delay.property}&quot;)\r\n     public void someMethod(){\r\n            // perform something\r\n     }","title":"Injecting externalized value into Spring annotation","body":"<p>The <code>@Scheduled</code> annotation in Spring v3.2.2 has added String parameters to the original 3 long parameters to handle this. <code>fixedDelayString</code>, <code>fixedRateString</code> and <code>initialDelayString</code> are now available too:</p>\n\n<pre><code> @Scheduled(fixedDelayString = \"${my.delay.property}\")\n public void someMethod(){\n        // perform something\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2481329,"reputation":76,"user_id":2160751,"display_name":"selins sofa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541147483,"creation_date":1541147483,"answer_id":53115072,"question_id":11608531,"body_markdown":"If you want to make this work with annotation rather than bean configuration xml, you can use the following annotations: @Component, @PropertySource with PropertySourcesPlaceholderConfigurer Bean itself, like this:\r\n\r\n    @Component\r\n    @PropertySource({ &quot;classpath:scheduling.properties&quot; })\r\n    public class SomeClass {\r\n        \r\n        @Scheduled(fixedDelay = &quot;${delay}&quot;)\r\n        public void someMethod(){\r\n            // perform something\r\n        }\r\n\r\n        @Bean\r\n        public static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() {\r\n\t\t    return new PropertySourcesPlaceholderConfigurer();\r\n        }\t\r\n    }","title":"Injecting externalized value into Spring annotation","body":"<p>If you want to make this work with annotation rather than bean configuration xml, you can use the following annotations: @Component, @PropertySource with PropertySourcesPlaceholderConfigurer Bean itself, like this:</p>\n\n<pre><code>@Component\n@PropertySource({ \"classpath:scheduling.properties\" })\npublic class SomeClass {\n\n    @Scheduled(fixedDelay = \"${delay}\")\n    public void someMethod(){\n        // perform something\n    }\n\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() {\n        return new PropertySourcesPlaceholderConfigurer();\n    }   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11885668,"reputation":729,"user_id":8698137,"display_name":"Shadyar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654799568,"creation_date":1654674744,"answer_id":72541974,"question_id":11608531,"body_markdown":"We can use a field value from other beans. Suppose we have a bean named someBean with a field someValue equal to 10. Then, 10 will be assigned to the field:\r\n```\r\n    @Value(&quot;#{someBean.someValue}&quot;)  \r\n    private Integer someBeanValue;  \r\n```\r\nReference: [A Quick Guide to Spring @Value - Baeldung ](https://www.baeldung.com/spring-value-annotation)","title":"Injecting externalized value into Spring annotation","body":"<p>We can use a field value from other beans. Suppose we have a bean named someBean with a field someValue equal to 10. Then, 10 will be assigned to the field:</p>\n<pre><code>    @Value(&quot;#{someBean.someValue}&quot;)  \n    private Integer someBeanValue;  \n</code></pre>\n<p>Reference: <a href=\"https://www.baeldung.com/spring-value-annotation\" rel=\"nofollow noreferrer\">A Quick Guide to Spring @Value - Baeldung </a></p>\n"}],"owner":{"account_id":100622,"reputation":3010,"user_id":271149,"accept_rate":90,"display_name":"quantum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57060,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":16463900,"answer_count":6,"score":34,"last_activity_date":1654799568,"creation_date":1343030595,"question_id":11608531,"body_markdown":"I&#39;ve been thinking around the Java feature that evaluates annotation values in compile-time and it seems to really make difficult externalizing annotation values.\r\n\r\nHowever, I am unsure whether it is actually impossible, so I&#39;d appreciate any suggestions or definitive answers on this.\r\n\r\nMore to the point, I am trying to externalize an annotation value which controls delays between scheduled method calls in Spring, e.g.:\r\n\r\n\r\n    public class SomeClass {\r\n\r\n        private Properties props;\r\n        private static final long delay = 0;\r\n\r\n        @PostConstruct\r\n        public void initializeBean() {\r\n            Resource resource = new ClassPathResource(&quot;scheduling.properties&quot;);\r\n            props = PropertiesLoaderUtils.loadProperties(resource);\r\n            delay = props.getProperties(&quot;delayValue&quot;);\r\n        }\r\n\r\n        @Scheduled(fixedDelay = delay)\r\n        public void someMethod(){\r\n            // perform something\r\n        }\r\n    }\r\n\r\nSuppose that `scheduling.properties` is on classpath and contains property key `delayValue` along with its corresponding long value.\r\n\r\nNow, this code has obvious compilation errors since we&#39;re trying to assign a value to `final` variable, but that is mandatory, since we can&#39;t assign the variable to annotation value, unless it is `static final`.\r\n\r\nIs there any way of getting around this? I&#39;ve been thinking about Spring&#39;s custom annotations, but the root issue remains - how to assign the externalized value to annotation?\r\n\r\nAny idea is welcome.\r\n\r\nEDIT: A small update - Quartz integration is overkill for this example. We just need a periodic execution with sub-minute resolution and that&#39;s all.","title":"Injecting externalized value into Spring annotation","body":"<p>I've been thinking around the Java feature that evaluates annotation values in compile-time and it seems to really make difficult externalizing annotation values.</p>\n\n<p>However, I am unsure whether it is actually impossible, so I'd appreciate any suggestions or definitive answers on this.</p>\n\n<p>More to the point, I am trying to externalize an annotation value which controls delays between scheduled method calls in Spring, e.g.:</p>\n\n<pre><code>public class SomeClass {\n\n    private Properties props;\n    private static final long delay = 0;\n\n    @PostConstruct\n    public void initializeBean() {\n        Resource resource = new ClassPathResource(\"scheduling.properties\");\n        props = PropertiesLoaderUtils.loadProperties(resource);\n        delay = props.getProperties(\"delayValue\");\n    }\n\n    @Scheduled(fixedDelay = delay)\n    public void someMethod(){\n        // perform something\n    }\n}\n</code></pre>\n\n<p>Suppose that <code>scheduling.properties</code> is on classpath and contains property key <code>delayValue</code> along with its corresponding long value.</p>\n\n<p>Now, this code has obvious compilation errors since we're trying to assign a value to <code>final</code> variable, but that is mandatory, since we can't assign the variable to annotation value, unless it is <code>static final</code>.</p>\n\n<p>Is there any way of getting around this? I've been thinking about Spring's custom annotations, but the root issue remains - how to assign the externalized value to annotation?</p>\n\n<p>Any idea is welcome.</p>\n\n<p>EDIT: A small update - Quartz integration is overkill for this example. We just need a periodic execution with sub-minute resolution and that's all.</p>\n"},{"tags":["java","android","json","number-formatting","stringbuilder"],"comments":[{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":0,"creation_date":1429292449,"post_id":29705973,"comment_id":47547539,"body_markdown":"`jsonStringBuilder.append(&quot;, &quot;)`","body":"<code>jsonStringBuilder.append(&quot;, &quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":6115978,"reputation":2219,"user_id":4771017,"accept_rate":75,"display_name":"CubeJockey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429292477,"creation_date":1429292477,"answer_id":29706021,"question_id":29705973,"body_markdown":"Try something like\r\n\r\n    jsonStringBuilder.append(product.getString(TAG_LATITUDE) + &quot;, &quot;);\r\n\r\nAlternatively, you can precede your longitude instead:\r\n\r\n    jsonStringBuilder.append(&quot;, &quot; + product.getString(TAG_LONGITUDE));","title":"Append a comma with StringBuilder","body":"<p>Try something like</p>\n\n<pre><code>jsonStringBuilder.append(product.getString(TAG_LATITUDE) + \", \");\n</code></pre>\n\n<p>Alternatively, you can precede your longitude instead:</p>\n\n<pre><code>jsonStringBuilder.append(\", \" + product.getString(TAG_LONGITUDE));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3926928,"reputation":850,"user_id":3248527,"display_name":"Sanj"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1429293152,"creation_date":1429292510,"answer_id":29706034,"question_id":29705973,"body_markdown":"That line.separator after get the latitude will put a new line after it, I do not think you want that.\r\n\r\nTo add the comma just do another append.\r\n\r\nOnly need one try/catch block on failure.\r\n\r\n    StringBuilder jsonStringBuilder = new StringBuilder(); \r\n\r\n    // display profile data in EditText\r\n    try \r\n    {\r\n        jsonStringBuilder.append(product.getString(TAG_LATITUDE));\r\n        jsonStringBuilder.append(&quot;, &quot;);                                \r\n        jsonStringBuilder.append(product.getString(TAG_LONGITUDE));\r\n        lblDummyLocation.setText(jsonStringBuilder.toString());            \r\n    } \r\n    catch (JSONException e) \r\n    {\r\n        e.printStackTrace(); // use a logger for this ideally\r\n        lblDummyLocation.setText(&quot;Failed to get co-ordinates&quot;);            \r\n    }\r\n    ","title":"Append a comma with StringBuilder","body":"<p>That line.separator after get the latitude will put a new line after it, I do not think you want that.</p>\n\n<p>To add the comma just do another append.</p>\n\n<p>Only need one try/catch block on failure.</p>\n\n<pre><code>StringBuilder jsonStringBuilder = new StringBuilder(); \n\n// display profile data in EditText\ntry \n{\n    jsonStringBuilder.append(product.getString(TAG_LATITUDE));\n    jsonStringBuilder.append(\", \");                                \n    jsonStringBuilder.append(product.getString(TAG_LONGITUDE));\n    lblDummyLocation.setText(jsonStringBuilder.toString());            \n} \ncatch (JSONException e) \n{\n    e.printStackTrace(); // use a logger for this ideally\n    lblDummyLocation.setText(\"Failed to get co-ordinates\");            \n}\n</code></pre>\n"}],"owner":{"account_id":5918235,"reputation":367,"user_id":4656324,"accept_rate":88,"display_name":"Ankhit Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13231,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":29706034,"answer_count":2,"score":2,"last_activity_date":1654799414,"creation_date":1429292268,"question_id":29705973,"body_markdown":"I&#39;ve got a small problem, my code works and sends me the output of a longitude and latitude. I would simply like a comma and space to separate the value in the textview. I do not want a line separator. \r\n\r\nWhat I get: 32.67543-55.986454\r\n\r\nWhat I want: 32.67543, -55.986454 (comma and space)\r\n\r\nAny ideas?\r\n\r\nCode:\r\n\r\n\r\n    /**\r\n     * After completing background task Dismiss the progress dialog\r\n     * *\r\n     */\r\n    protected void onPostExecute(JSONObject product) {\r\n        if (product != null) {\r\n            // product with this pid found\r\n            // Edit Text\r\n            lblDummyLocation = (TextView) findViewById(R.id.lblDummyLocation);\r\n\r\n            StringBuilder jsonStringBuilder = new StringBuilder(); //Create StringBuilder for concatenation of JSON results\r\n\r\n            // display profile data in EditText\r\n            try {\r\n                //txtMessage.setText(product.getString(TAG_FIRSTNAME));  //Don&#39;t set the text here\r\n                jsonStringBuilder.append(product.getString(TAG_LATITUDE)); //Concatenate each separate item\r\n                jsonStringBuilder.append(System.getProperty(&quot;line.separator&quot;));\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n            try {\r\n                //txtMessage.setText(product.getString(TAG_LASTNAME));\r\n                jsonStringBuilder.append(product.getString(TAG_LONGITUDE));\r\n                //jsonStringBuilder.append(System.getProperty(&quot;line.separator&quot;));\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            lblDummyLocation.setText(jsonStringBuilder.toString());\r\n        }\r\n\r\n        // dismiss the dialog once got all details\r\n        pDialog.dismiss();\r\n    }\r\n","title":"Append a comma with StringBuilder","body":"<p>I've got a small problem, my code works and sends me the output of a longitude and latitude. I would simply like a comma and space to separate the value in the textview. I do not want a line separator.</p>\n<p>What I get: 32.67543-55.986454</p>\n<p>What I want: 32.67543, -55.986454 (comma and space)</p>\n<p>Any ideas?</p>\n<p>Code:</p>\n<pre><code>/**\n * After completing background task Dismiss the progress dialog\n * *\n */\nprotected void onPostExecute(JSONObject product) {\n    if (product != null) {\n        // product with this pid found\n        // Edit Text\n        lblDummyLocation = (TextView) findViewById(R.id.lblDummyLocation);\n\n        StringBuilder jsonStringBuilder = new StringBuilder(); //Create StringBuilder for concatenation of JSON results\n\n        // display profile data in EditText\n        try {\n            //txtMessage.setText(product.getString(TAG_FIRSTNAME));  //Don't set the text here\n            jsonStringBuilder.append(product.getString(TAG_LATITUDE)); //Concatenate each separate item\n            jsonStringBuilder.append(System.getProperty(&quot;line.separator&quot;));\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n        try {\n            //txtMessage.setText(product.getString(TAG_LASTNAME));\n            jsonStringBuilder.append(product.getString(TAG_LONGITUDE));\n            //jsonStringBuilder.append(System.getProperty(&quot;line.separator&quot;));\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n\n        lblDummyLocation.setText(jsonStringBuilder.toString());\n    }\n\n    // dismiss the dialog once got all details\n    pDialog.dismiss();\n}\n</code></pre>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":0,"creation_date":1654703051,"post_id":72547909,"comment_id":128156093,"body_markdown":"Does your input file have a header row?","body":"Does your input file have a header row?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1654705966,"post_id":72547909,"comment_id":128157298,"body_markdown":"You should move all your code inside `if (matcher.matches())` check to ensure you only write matched lines. Also, your output shown does not match your reducer","body":"You should move all your code inside <code>if (matcher.matches())</code> check to ensure you only write matched lines. Also, your output shown does not match your reducer"},{"owner":{"account_id":17925493,"reputation":11,"user_id":13024262,"display_name":"scandll"},"score":0,"creation_date":1654780958,"post_id":72547909,"comment_id":128177456,"body_markdown":"thank you @OneCricketeer , yes i put the wrong one","body":"thank you @OneCricketeer , yes i put the wrong one"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1654786395,"post_id":72547909,"comment_id":128179916,"body_markdown":"Please [edit] your question to correct the code","body":"Please <a href=\"https://stackoverflow.com/posts/72547909/edit\">edit</a> your question to correct the code"},{"owner":{"account_id":17925493,"reputation":11,"user_id":13024262,"display_name":"scandll"},"score":0,"creation_date":1654787714,"post_id":72547909,"comment_id":128180483,"body_markdown":"@OneCricketeer ok thank you. i sent you a message on facebook (found it on your website). can you check it please","body":"@OneCricketeer ok thank you. i sent you a message on facebook (found it on your website). can you check it please"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1654793988,"post_id":72547909,"comment_id":128182847,"body_markdown":"Please do not use my private social media for help. Your reducer shows `System.out.println(key.toString() + &quot;;&quot; + nb);` and there is no semi colon in the output you have reported. Also, as I said, I think the problem is your mapper if statement needs to wrap everything related to writing the output to the context","body":"Please do not use my private social media for help. Your reducer shows <code>System.out.println(key.toString() + &quot;;&quot; + nb);</code> and there is no semi colon in the output you have reported. Also, as I said, I think the problem is your mapper if statement needs to wrap everything related to writing the output to the context"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654799263,"creation_date":1654799263,"answer_id":72565010,"question_id":72547909,"body_markdown":"You get an **empty** key (not null) because your default mapper Text is an empty string. Then the reducer counts that as `0`... \r\n\r\nIt works fine if you check that your lines actually match before writing the output\r\n\r\nHere&#39;s a refactored version of your code\r\n\r\n    public class WebLogDriver extends Configured implements Tool {\r\n    \r\n      public static final String APP_NAME = WebLogDriver.class.getSimpleName();\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n        final int status = ToolRunner.run(new Configuration(), new WebLogDriver(), args);\r\n        System.exit(status);\r\n      }\r\n    \r\n      @Override\r\n      public int run(String[] args) throws Exception {\r\n        Configuration conf = getConf();\r\n        Job job = Job.getInstance(conf, APP_NAME);\r\n        job.setJarByClass(WebLogDriver.class);\r\n    \r\n        // outputs for mapper and reducer\r\n        job.setOutputKeyClass(Text.class);\r\n    \r\n        // setup mapper\r\n        job.setMapperClass(WebLogDriver.WebLogMapper.class);\r\n        job.setMapOutputValueClass(IntWritable.class);\r\n    \r\n        // setup reducer\r\n        job.setReducerClass(WebLogDriver.WebLogReducer.class);\r\n        job.setOutputValueClass(IntWritable.class);\r\n    \r\n        FileInputFormat.addInputPath(job, new Path(args[0]));\r\n        final Path outputDir = new Path(args[1]);\r\n        FileOutputFormat.setOutputPath(job, outputDir);\r\n    \r\n        return job.waitForCompletion(true) ? 0 : 1;\r\n      }\r\n    \r\n      static class WebLogMapper extends Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {\r\n    \r\n        static final Pattern HTTP_LOG_PATTERN = Pattern.compile(&quot;(\\\\S+) - - \\\\[(.+)] \\&quot;(\\\\S+) (/\\\\S*) HTTP/\\\\S+\\&quot; \\\\S+ (\\\\d+)&quot;);\r\n    \r\n        final Text keyOut = new Text();\r\n        final IntWritable valueOut = new IntWritable();\r\n    \r\n        @Override\r\n        protected void map(LongWritable key, Text value, Mapper&lt;LongWritable, Text, Text, IntWritable&gt;.Context context) throws IOException, InterruptedException {\r\n          String line = value.toString();\r\n          if (line.isEmpty()) return;\r\n          Matcher matcher = HTTP_LOG_PATTERN.matcher(line);\r\n    \r\n          if (matcher.matches()) {\r\n            keyOut.set(matcher.group(1));\r\n            try {\r\n              valueOut.set(Integer.parseInt(matcher.group(5)));\r\n    \r\n              context.write(keyOut, valueOut);\r\n            } catch (NumberFormatException e) {\r\n              e.printStackTrace();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    \r\n      static class WebLogReducer extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\r\n    \r\n        static final IntWritable valueOut = new IntWritable();\r\n    \r\n        @Override\r\n        protected void reduce(Text key, Iterable&lt;IntWritable&gt; values, Reducer&lt;Text, IntWritable, Text, IntWritable&gt;.Context context) throws IOException, InterruptedException {\r\n          int nb = StreamSupport.stream(values.spliterator(), true)\r\n              .mapToInt(IntWritable::get)\r\n              .sum();\r\n          valueOut.set(nb);\r\n          context.write(key, valueOut);\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"why is the first output line in map reduce null in java","body":"<p>You get an <strong>empty</strong> key (not null) because your default mapper Text is an empty string. Then the reducer counts that as <code>0</code>...</p>\n<p>It works fine if you check that your lines actually match before writing the output</p>\n<p>Here's a refactored version of your code</p>\n<pre><code>public class WebLogDriver extends Configured implements Tool {\n\n  public static final String APP_NAME = WebLogDriver.class.getSimpleName();\n\n  public static void main(String[] args) throws Exception {\n    final int status = ToolRunner.run(new Configuration(), new WebLogDriver(), args);\n    System.exit(status);\n  }\n\n  @Override\n  public int run(String[] args) throws Exception {\n    Configuration conf = getConf();\n    Job job = Job.getInstance(conf, APP_NAME);\n    job.setJarByClass(WebLogDriver.class);\n\n    // outputs for mapper and reducer\n    job.setOutputKeyClass(Text.class);\n\n    // setup mapper\n    job.setMapperClass(WebLogDriver.WebLogMapper.class);\n    job.setMapOutputValueClass(IntWritable.class);\n\n    // setup reducer\n    job.setReducerClass(WebLogDriver.WebLogReducer.class);\n    job.setOutputValueClass(IntWritable.class);\n\n    FileInputFormat.addInputPath(job, new Path(args[0]));\n    final Path outputDir = new Path(args[1]);\n    FileOutputFormat.setOutputPath(job, outputDir);\n\n    return job.waitForCompletion(true) ? 0 : 1;\n  }\n\n  static class WebLogMapper extends Mapper&lt;LongWritable, Text, Text, IntWritable&gt; {\n\n    static final Pattern HTTP_LOG_PATTERN = Pattern.compile(&quot;(\\\\S+) - - \\\\[(.+)] \\&quot;(\\\\S+) (/\\\\S*) HTTP/\\\\S+\\&quot; \\\\S+ (\\\\d+)&quot;);\n\n    final Text keyOut = new Text();\n    final IntWritable valueOut = new IntWritable();\n\n    @Override\n    protected void map(LongWritable key, Text value, Mapper&lt;LongWritable, Text, Text, IntWritable&gt;.Context context) throws IOException, InterruptedException {\n      String line = value.toString();\n      if (line.isEmpty()) return;\n      Matcher matcher = HTTP_LOG_PATTERN.matcher(line);\n\n      if (matcher.matches()) {\n        keyOut.set(matcher.group(1));\n        try {\n          valueOut.set(Integer.parseInt(matcher.group(5)));\n\n          context.write(keyOut, valueOut);\n        } catch (NumberFormatException e) {\n          e.printStackTrace();\n        }\n      }\n    }\n  }\n\n  static class WebLogReducer extends Reducer&lt;Text, IntWritable, Text, IntWritable&gt; {\n\n    static final IntWritable valueOut = new IntWritable();\n\n    @Override\n    protected void reduce(Text key, Iterable&lt;IntWritable&gt; values, Reducer&lt;Text, IntWritable, Text, IntWritable&gt;.Context context) throws IOException, InterruptedException {\n      int nb = StreamSupport.stream(values.spliterator(), true)\n          .mapToInt(IntWritable::get)\n          .sum();\n      valueOut.set(nb);\n      context.write(key, valueOut);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":17925493,"reputation":11,"user_id":13024262,"display_name":"scandll"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654799263,"creation_date":1654700082,"question_id":72547909,"body_markdown":"I don&#39;t understand why the first output of my map reduce job is 0 and null\r\nThe output is : url ; number of visits\r\n\r\nand here is the mapper class :\r\n\r\n    public class WordCountMapper extends\r\n    \t\tMapper&lt;LongWritable, Text, Text, IntWritable&gt; \r\n    {\r\n    \tpublic void map(LongWritable cle, Text valeur, Context sortie)\r\n    \t\t\tthrows IOException \t\t\t\r\n    \t{\r\n    \t\t\r\n    \t\tString url=&quot;&quot;;\r\n    \t\tint nbVisites=0;\r\n    \t\tPattern httplogPattern = Pattern.compile(&quot;([^\\\\s]+) - - \\\\[(.+)\\\\] \\&quot;([^\\\\s]+) (/[^\\\\s]*) HTTP/[^\\\\s]+\\&quot; [^\\\\s]+ ([0-9]+)&quot;);\r\n    \t\tString ligne = valeur.toString();\r\n    \r\n    \t\tif (ligne.length()&gt;0) {\r\n    \t\t    Matcher matcher = httplogPattern.matcher(ligne);\r\n    \t\t    if (matcher.matches()) {\r\n    \t\t\t    url = matcher.group(1);\r\n    \t\t\t\tnbVisites = Integer.parseInt(matcher.group(5));\r\n    \t\t\t}\t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tText urlText = new Text(url);\r\n    \t\tIntWritable value = new IntWritable(nbVisites);\r\n    \t\ttry \r\n    \t\t{\t\t\t\r\n    \t\t\tsortie.write(urlText, value);\t\r\n    \t\t\tSystem.out.println(urlText + &quot; ; &quot; + value);\r\n    \t\t} \r\n    \t\tcatch (InterruptedException e) \r\n    \t\t{\r\n    \t\t    e.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\nand reducer :\r\n\r\n    public class WordCountReducer extends\r\n    \t\tReducer&lt;Text, IntWritable, Text, IntWritable&gt; \r\n    {\r\n    \tpublic void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context sortie) throws IOException, InterruptedException \r\n    \t{\r\n    \t\t\r\n    \r\n    \t\tIterator&lt;IntWritable&gt; it = values.iterator();\r\n    \t\tint nb=0;\r\n    \t\twhile (it.hasNext()) {\r\n    \t\t\tnb = nb + it.next().get();\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\tsortie.write(key,  new IntWritable(nb));\r\n    \t\t\tSystem.out.println(key.toString() + &quot;;&quot; + nb);\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nEach line of the input file looks like this : \r\n\r\n    199.72.81.55 - - [01/Jul/1995:00:00:01 -0400] &quot;GET /history/apollo/ HTTP/1.0&quot; 200 6245\r\n\r\n\r\nand here is the output :\r\n\r\n    \t0\r\n    04-dynamic-c.rotterdam.luna.net\t4\r\n    06-dynamic-c.rotterdam.luna.net\t1\r\n    10.salc.wsu.edu\t3\r\n    11.ts2.mnet.medstroms.se\t1\r\n    128.100.183.222\t4\r\n    128.102.149.149\t4\r\n\r\nAs you can see first line is a couple of null values\r\n\r\nThank you","title":"why is the first output line in map reduce null in java","body":"<p>I don't understand why the first output of my map reduce job is 0 and null\nThe output is : url ; number of visits</p>\n<p>and here is the mapper class :</p>\n<pre><code>public class WordCountMapper extends\n        Mapper&lt;LongWritable, Text, Text, IntWritable&gt; \n{\n    public void map(LongWritable cle, Text valeur, Context sortie)\n            throws IOException          \n    {\n        \n        String url=&quot;&quot;;\n        int nbVisites=0;\n        Pattern httplogPattern = Pattern.compile(&quot;([^\\\\s]+) - - \\\\[(.+)\\\\] \\&quot;([^\\\\s]+) (/[^\\\\s]*) HTTP/[^\\\\s]+\\&quot; [^\\\\s]+ ([0-9]+)&quot;);\n        String ligne = valeur.toString();\n\n        if (ligne.length()&gt;0) {\n            Matcher matcher = httplogPattern.matcher(ligne);\n            if (matcher.matches()) {\n                url = matcher.group(1);\n                nbVisites = Integer.parseInt(matcher.group(5));\n            }           \n        }\n        \n        Text urlText = new Text(url);\n        IntWritable value = new IntWritable(nbVisites);\n        try \n        {           \n            sortie.write(urlText, value);   \n            System.out.println(urlText + &quot; ; &quot; + value);\n        } \n        catch (InterruptedException e) \n        {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>and reducer :</p>\n<pre><code>public class WordCountReducer extends\n        Reducer&lt;Text, IntWritable, Text, IntWritable&gt; \n{\n    public void reduce(Text key, Iterable&lt;IntWritable&gt; values, Context sortie) throws IOException, InterruptedException \n    {\n        \n\n        Iterator&lt;IntWritable&gt; it = values.iterator();\n        int nb=0;\n        while (it.hasNext()) {\n            nb = nb + it.next().get();\n        }\n\n        try {\n            sortie.write(key,  new IntWritable(nb));\n            System.out.println(key.toString() + &quot;;&quot; + nb);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Each line of the input file looks like this :</p>\n<pre><code>199.72.81.55 - - [01/Jul/1995:00:00:01 -0400] &quot;GET /history/apollo/ HTTP/1.0&quot; 200 6245\n</code></pre>\n<p>and here is the output :</p>\n<pre><code>    0\n04-dynamic-c.rotterdam.luna.net 4\n06-dynamic-c.rotterdam.luna.net 1\n10.salc.wsu.edu 3\n11.ts2.mnet.medstroms.se    1\n128.100.183.222 4\n128.102.149.149 4\n</code></pre>\n<p>As you can see first line is a couple of null values</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","spring-bean"],"comments":[{"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"score":0,"creation_date":1654789897,"post_id":72563048,"comment_id":128181382,"body_markdown":"I think the only issue is that is your Bean1 object has a close method, it will get called when you close the application context.  I do not think closing the application forces GC of specific objects (I think its not even possible as this is under the control of the JVM)","body":"I think the only issue is that is your Bean1 object has a close method, it will get called when you close the application context.  I do not think closing the application forces GC of specific objects (I think its not even possible as this is under the control of the JVM)"}],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654792803,"creation_date":1654792803,"answer_id":72563863,"question_id":72563048,"body_markdown":"It seems that it will not be null.\r\n\r\nI have an interface Coach, and class that implements it TrackCoach, which has a method called \r\n\r\n`getDailyWorkout();`\r\n\r\nI am doing a basic calling of a bean from the container using `getBean()`\r\n\r\nHere is a main class\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t//load spring configuration file\r\n\t\tClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n\t\t// retrieve bean from spring container\r\n\t\tCoach theCoach = context.getBean(&quot;myCoach&quot;, Coach.class);\r\n\t\t//call methods on bean\r\n\t\tSystem.out.println(theCoach.getDailyWorkout());\r\n\t\tObject o = new Object();\r\n\t\to = theCoach;\r\n\t\tSystem.out.println(&quot;this is Object before closing&gt; &quot;+o);\r\n\t\t//close context\r\n\t\tSystem.out.println(&quot;Closing context&quot;);\r\n\t\tcontext.close();\r\n\t\tSystem.out.println(&quot;After closing context&quot;);\r\n\t\tSystem.out.println(&quot;this is a regular usage of bean reference&gt; &quot;+theCoach.getDailyWorkout());\r\n\t\tSystem.out.println(&quot;this is Object AFTER closing&gt; &quot;+o);\r\n\t\tCoach c = (Coach) o;\r\n\t\t\r\n\t\tSystem.out.println(&quot;this is AFTER CASTING&gt; &quot;+c.getDailyWorkout());\r\n\r\n\t}\r\n\r\nAnd the output is the following\r\n\r\n   \r\n\r\n\r\n\r\n\r\n\r\n        Jun 09, 2022 6:36:00 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh\r\n    INFO: Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@6d9c638: startup date [Thu Jun 09 18:36:00 CEST 2022]; root of context hierarchy\r\n    Jun 09, 2022 6:36:00 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\r\n    INFO: Loading XML bean definitions from class path resource [applicationContext.xml]\r\n        Run for 20 min \r\n        this is Object before closing&gt; com.juradent.springdemo.TrackCoach@69b0fd6f\r\n        Closing context\r\n        Jun 09, 2022 6:36:01 PM org.springframework.context.support.AbstractApplicationContext doClose\r\n        INFO: Closing org.springframework.context.support.ClassPathXmlApplicationContext@6d9c638: startup date [Thu Jun 09 18:36:00 CEST 2022]; root of context hierarchy\r\n        After closing context\r\n        this is a regular usage of bean reference&gt; Run for 20 min\r\n        this is Object AFTER closing&gt; com.juradent.springdemo.TrackCoach@69b0fd6f\r\n        this is AFTER CASTING&gt; Run for 20 min\r\n\r\n\r\n","title":"What happens to Spring bean after ApplicationContext is shutdown","body":"<p>It seems that it will not be null.</p>\n<p>I have an interface Coach, and class that implements it TrackCoach, which has a method called</p>\n<p><code>getDailyWorkout();</code></p>\n<p>I am doing a basic calling of a bean from the container using <code>getBean()</code></p>\n<p>Here is a main class</p>\n<pre><code>public static void main(String[] args) {\n    \n    //load spring configuration file\n    ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\n    // retrieve bean from spring container\n    Coach theCoach = context.getBean(&quot;myCoach&quot;, Coach.class);\n    //call methods on bean\n    System.out.println(theCoach.getDailyWorkout());\n    Object o = new Object();\n    o = theCoach;\n    System.out.println(&quot;this is Object before closing&gt; &quot;+o);\n    //close context\n    System.out.println(&quot;Closing context&quot;);\n    context.close();\n    System.out.println(&quot;After closing context&quot;);\n    System.out.println(&quot;this is a regular usage of bean reference&gt; &quot;+theCoach.getDailyWorkout());\n    System.out.println(&quot;this is Object AFTER closing&gt; &quot;+o);\n    Coach c = (Coach) o;\n    \n    System.out.println(&quot;this is AFTER CASTING&gt; &quot;+c.getDailyWorkout());\n\n}\n</code></pre>\n<p>And the output is the following</p>\n<pre><code>    Jun 09, 2022 6:36:00 PM org.springframework.context.support.AbstractApplicationContext prepareRefresh\nINFO: Refreshing org.springframework.context.support.ClassPathXmlApplicationContext@6d9c638: startup date [Thu Jun 09 18:36:00 CEST 2022]; root of context hierarchy\nJun 09, 2022 6:36:00 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\nINFO: Loading XML bean definitions from class path resource [applicationContext.xml]\n    Run for 20 min \n    this is Object before closing&gt; com.juradent.springdemo.TrackCoach@69b0fd6f\n    Closing context\n    Jun 09, 2022 6:36:01 PM org.springframework.context.support.AbstractApplicationContext doClose\n    INFO: Closing org.springframework.context.support.ClassPathXmlApplicationContext@6d9c638: startup date [Thu Jun 09 18:36:00 CEST 2022]; root of context hierarchy\n    After closing context\n    this is a regular usage of bean reference&gt; Run for 20 min\n    this is Object AFTER closing&gt; com.juradent.springdemo.TrackCoach@69b0fd6f\n    this is AFTER CASTING&gt; Run for 20 min\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654799242,"creation_date":1654793542,"answer_id":72564008,"question_id":72563048,"body_markdown":"`ApplicationContext` uses `HashMap` under the hood for storing beans and if you call `close()` on it, its going to call `clear()` method on these `HashMap`s.\r\nAs you know when we call `clear()` method on `HashMap`, it&#39;s only assigns the `null` to map `Entries` so if there is another object that references to those objects, they will survive.\r\n\r\nSo your questions:\r\n\r\n 1. No, Because there is another reference to `Bean1`\r\n 2. You still have it.\r\n\r\n ","title":"What happens to Spring bean after ApplicationContext is shutdown","body":"<p><code>ApplicationContext</code> uses <code>HashMap</code> under the hood for storing beans and if you call <code>close()</code> on it, its going to call <code>clear()</code> method on these <code>HashMap</code>s.\nAs you know when we call <code>clear()</code> method on <code>HashMap</code>, it's only assigns the <code>null</code> to map <code>Entries</code> so if there is another object that references to those objects, they will survive.</p>\n<p>So your questions:</p>\n<ol>\n<li>No, Because there is another reference to <code>Bean1</code></li>\n<li>You still have it.</li>\n</ol>\n"}],"owner":{"account_id":5968065,"reputation":14213,"user_id":4691279,"accept_rate":58,"display_name":"hagrawal7777"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72564008,"answer_count":2,"score":-2,"last_activity_date":1654799242,"creation_date":1654788789,"question_id":72563048,"body_markdown":"Suppose I have a normal application in which I am creating a Spring application context using `ApplicationContext applicationContext = new FileSystemXmlApplicationContext(&quot;bean.xml&quot;);`\r\n\r\nNow, suppose in this bean.xml  there is bean definition for a Spring bean `Bean1`, so when I will create the application context then Spring container will instantiate and initialize an object for this `Bean1`.\r\n\r\nAnd then I have a non-Spring object holding a reference to the object of this Spring bean `Bean1`.\r\n\r\nNow, lets say I shutdown the application context using `((ConfigurableApplicationContext)appCtx).close();`. \r\n\r\nNow my questions are:\r\n\r\n 1. What will happen to the object this Spring bean `Bean1`, will it be garbage collected as soon as Spring&#39;s ApplicationContext is shutdown? \r\n 2. Since I am holding a reference to the object of this Spring bean `Bean1`, will I still have this object or will object reference variable pointing to this will become NULL? ","title":"What happens to Spring bean after ApplicationContext is shutdown","body":"<p>Suppose I have a normal application in which I am creating a Spring application context using <code>ApplicationContext applicationContext = new FileSystemXmlApplicationContext(&quot;bean.xml&quot;);</code></p>\n<p>Now, suppose in this bean.xml  there is bean definition for a Spring bean <code>Bean1</code>, so when I will create the application context then Spring container will instantiate and initialize an object for this <code>Bean1</code>.</p>\n<p>And then I have a non-Spring object holding a reference to the object of this Spring bean <code>Bean1</code>.</p>\n<p>Now, lets say I shutdown the application context using <code>((ConfigurableApplicationContext)appCtx).close();</code>.</p>\n<p>Now my questions are:</p>\n<ol>\n<li>What will happen to the object this Spring bean <code>Bean1</code>, will it be garbage collected as soon as Spring's ApplicationContext is shutdown?</li>\n<li>Since I am holding a reference to the object of this Spring bean <code>Bean1</code>, will I still have this object or will object reference variable pointing to this will become NULL?</li>\n</ol>\n"},{"tags":["java","spring-boot","hibernate","hql"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1654783312,"post_id":72561268,"comment_id":128178551,"body_markdown":"Remove `static` keyword from all fields which have `@Autowired`. And the NPE happens at `settings.put(Environment.DRIVER, hibernateUtilModel.getDriver());` because `hibernateUtilModel` is null. Reason, see first sentence","body":"Remove <code>static</code> keyword from all fields which have <code>@Autowired</code>. And the NPE happens at <code>settings.put(Environment.DRIVER, hibernateUtilModel.getDriver());</code> because <code>hibernateUtilModel</code> is null. Reason, see first sentence"},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1654785531,"post_id":72561268,"comment_id":128179524,"body_markdown":"@XtremeBaumer Thank about that static. So i managed to find what kind solution i need.","body":"@XtremeBaumer Thank about that static. So i managed to find what kind solution i need."}],"answers":[{"tags":[],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654785409,"creation_date":1654785409,"answer_id":72562217,"question_id":72561268,"body_markdown":"fix reference https://stackoverflow.com/questions/1018797/can-you-use-autowired-with-static-fields\r\n\r\n```\r\n\tprivate static  HibernateUtilModel hibernateUtilModel;\r\n\t@Autowired\r\n    public void setSomeThing(HibernateUtilModel hibernateUtilModel){\r\n\t\tHibernateUtil.hibernateUtilModel= hibernateUtilModel;\r\n    }\r\n\t\r\n```\r\nmissing `{`\r\n```\r\n@Value(&quot;${spring.jpa.hibernate.ddl-auto}&quot;)\r\n```","title":"HQL/ORM hibernate Implementation error Null","body":"<p>fix reference <a href=\"https://stackoverflow.com/questions/1018797/can-you-use-autowired-with-static-fields\">Can you use @Autowired with static fields?</a></p>\n<pre><code>    private static  HibernateUtilModel hibernateUtilModel;\n    @Autowired\n    public void setSomeThing(HibernateUtilModel hibernateUtilModel){\n        HibernateUtil.hibernateUtilModel= hibernateUtilModel;\n    }\n    \n</code></pre>\n<p>missing <code>{</code></p>\n<pre><code>@Value(&quot;${spring.jpa.hibernate.ddl-auto}&quot;)\n</code></pre>\n"}],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654799144,"creation_date":1654781676,"question_id":72561268,"body_markdown":"Implemenetation: A project with `ORM hibernate` `HQL` so i changes my implementation like this https://www.javaguides.net/2019/10/hibernate-query-language-tutorial.html but its giving me error. My old implementation works fine but i need likes this process.\r\n\r\n\r\nThis will work\r\n```\r\n\t@Override\r\n\tpublic Product save(Product product) {\r\n\t\tSession session = entityManager.unwrap(Session.class);\r\n\t\t    session.save(product);\r\n\t\t    session.close();\r\n\t\t\treturn product;\r\n\t\t\r\n\t}\r\n```\r\nI need like this but wont work\r\n```\r\n\tpublic Product saveStudent(Product product) {\r\n\t\tTransaction transaction = null;\r\n\t\ttry (Session session = HibernateUtil.getSessionFactory().openSession()) {\r\n\t\t\ttransaction = session.beginTransaction();\r\n\t\t\t\r\n\t\t\tObject object = session.save(product);\r\n\t\t\t\r\n\t\t\tsession.get(Product.class, (Serializable) object);\r\n\t\t\t\r\n\t\t\ttransaction.commit();\r\n\t\t} catch (Exception e) {\r\n\t\t\tif (transaction != null) {\r\n\t\t\t\ttransaction.rollback();\r\n\t\t\t}\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn product;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic Product save(Product product) {\r\n        Transaction transaction = null;\r\n        try (Session session = HibernateUtil.getSessionFactory().openSession()) {\r\n            // start a transaction\r\n            transaction = session.beginTransaction();\r\n\r\n            String hql = &quot;INSERT INTO Product  (purchase_item, productname, productbrand, productprice, productdescription, productquantity, productexpirationdate) &quot; +\r\n                &quot;SELECT  purchase_item, productname, productbrand, productprice, productdescription, productquantity, productexpirationdate FROM Product &quot;;\r\n            Query query = session.createQuery(hql);\r\n          query.executeUpdate();\r\n\r\n\r\n            transaction.commit();\r\n        } catch (Exception e) {\r\n            if (transaction != null) {\r\n                transaction.rollback();\r\n            }\r\n            e.printStackTrace();\r\n        }\r\n\t\treturn saveStudent(product);\r\n    }\r\n\t\r\n\t\r\n```\r\n\r\nThis giving me hard time, i try also the container name for mysql but wont work. \r\n```\r\npackage com.product.DAO;\r\n\r\nimport java.util.Properties;\r\n\r\nimport com.product.Entity.Product;\r\n\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\nimport org.hibernate.cfg.Configuration;\r\nimport org.hibernate.cfg.Environment;\r\nimport org.hibernate.service.ServiceRegistry;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.stereotype.Component;\r\n\r\n\r\n\r\n\r\n\r\n@Component\r\npublic class HibernateUtil {\r\n\t\r\n\t\r\n\t@Autowired\r\n\tprivate static  HibernateUtilModel hibernateUtilModel;\r\n\t\r\n\tprivate static SessionFactory sessionFactory;\r\n\t\r\n\t\r\n\t\r\n\t\r\n    public static SessionFactory getSessionFactory() {\r\n    \t\r\n    \t\r\n        if (sessionFactory == null) {\r\n            try {\r\n                Configuration configuration = new Configuration();\r\n\r\n                Properties settings = new Properties();\r\n                settings.put(Environment.DRIVER, hibernateUtilModel.getDriver());\r\n                settings.put(Environment.URL, hibernateUtilModel.getUrl());\r\n                settings.put(Environment.USER, hibernateUtilModel.getUser());\r\n                settings.put(Environment.PASS, hibernateUtilModel.getPass());\r\n                settings.put(Environment.DIALECT, hibernateUtilModel.getDialect());\r\n\r\n                settings.put(Environment.SHOW_SQL, hibernateUtilModel.getShow_sql());\r\n                settings.put(Environment.IMPLICIT_NAMING_STRATEGY,hibernateUtilModel.getIMPLICIT());\r\n                settings.put(Environment.PHYSICAL_NAMING_STRATEGY,hibernateUtilModel.getPHYSICAL());\r\n                \r\n                settings.put(Environment.CURRENT_SESSION_CONTEXT_CLASS, &quot;thread&quot;);\r\n\r\n                settings.put(Environment.HBM2DDL_AUTO, hibernateUtilModel.getUpdate());\r\n\r\n                configuration.setProperties(settings);\r\n\r\n                configuration.addAnnotatedClass(Product.class);\r\n\r\n                ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\r\n                    .applySettings(configuration.getProperties()).build();\r\n\r\n                sessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return sessionFactory;\r\n    }\r\n    \r\n\r\n\r\n}\r\n\r\n```\r\n```\r\n\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\n\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Service\r\npublic class HibernateUtilModel {\r\n\t\r\n\t\r\n\t@Value(&quot;${spring.datasource.url}&quot;)\r\n\tprivate  String url;\r\n\t\r\n\t@Value(&quot;${spring.datasource.driver-class-name}&quot;)\r\n\tprivate String driver;\r\n\t\r\n\t@Value(&quot;${spring.datasource.username}&quot;)\r\n\tprivate  String user;\r\n\t\r\n\t@Value(&quot;${spring.datasource.password}&quot;)\r\n\tprivate String pass;\r\n\t\r\n\t@Value(&quot;${spring.jpa.properties.hibernate.dialect}&quot;)\r\n\tprivate  String dialect;\r\n\t\r\n\t@Value(&quot;${spring.jpa.show-sql}&quot;)\r\n\tprivate String show_sql;\r\n\t\r\n\t@Value(&quot;${spring.jpa.hibernate.naming.implicit-strategy}&quot;)\r\n\tprivate String IMPLICIT;\r\n\t\r\n\t@Value(&quot;${spring.jpa.hibernate.naming.physical-strategy}&quot;)\r\n\tprivate  String PHYSICAL;\r\n\t\r\n\t@Value(&quot;$spring.jpa.hibernate.ddl-auto}&quot;)\r\n\tprivate  String update;\r\n\r\n\t\r\n\r\n}\r\n\r\n```\r\napplication.yaml\r\n```\r\n\r\n\r\nspring:\r\n  jackson:\r\n    deserialization:\r\n      wrap-exceptions: false\r\n  datasource:\r\n    driver-class-name: com.mysql.cj.jdbc.Driver\r\n    url: jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/dbpoc\r\n    username: root\r\n    password: root\r\n  \r\n  \r\n\r\n    \r\n  jpa:\r\n    hibernate:\r\n      naming:\r\n        implicit-strategy: org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\r\n        physical-strategy: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\r\n      ddl-auto: update\r\n    generate-ddl: false\r\n    show-sql: false\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.MySQL5InnoDBDialect\r\n\r\n  mvc:\r\n   throw-exception-if-no-handler-found: true\r\n  web:\r\n    resources:\r\n      add-mappings: false\r\n        \r\n  sql:\r\n    init:\r\n      mode: always\r\n      continue-on-error: true\r\n\r\n    \r\nserver:\r\n  port: 8091\r\n  \r\n  \r\n\r\n```\r\ndocker-compose.yaml\r\n```\r\nversion: &#39;3.8&#39;\r\n\r\nnetworks:\r\n  default:\r\n    name: product-poc-project-net\r\n    external: true\r\n    \r\nservices: \r\n#----------------------------------------------------------------  \r\n  productmicroservice:\r\n    image: productmicroservice:latest\r\n    container_name: productmicroservice\r\n     \r\n    restart: always\r\n    build:\r\n      context: ./\r\n      dockerfile: Dockerfile\r\n    ports:\r\n      - &quot;9001:8091&quot;\r\n    \r\n    environment:\r\n    \r\n      - MYSQL_HOST=mysqldb\r\n      - MYSQL_USER=root\r\n      - MYSQL_PASSWORD=root\r\n      - MYSQL_PORT=3306\r\n      \r\n      - &quot;SPRING_PROFILES_ACTIVE=${ACTIVE_PROFILE}&quot;\r\n   depends_on:\r\n      - mysqldb\r\n   \r\n      \r\n\r\n   mysqldb:\r\n    image: mysql:8.0.28\r\n    restart: unless-stopped\r\n    container_name: mysqldb\r\n    ports: \r\n      - &quot;3307:3306&quot;\r\n    \r\n    cap_add:\r\n      - SYS_NICE\r\n    environment:\r\n      MYSQL_DATABASE: dbpoc\r\n      MYSQL_ROOT_PASSWORD: root \r\n      \r\n  \r\n\r\n```\r\nWhile application is excuting the app this show\r\n`Autowired annotation is not supported`\r\n```\r\nmain] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: private static com.product.DAO.ProductDAOImpl com.product.ProductMicroserviceApplication.hibernateUtil\r\nproductmicroservice    | 2022-06-09 13:15:14.672  INFO 1 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: private static com.product.DAO.HibernateUtilModel com.product.DAO.HibernateUtil.hibernateUtilModel\r\n\r\n```\r\nError\r\n```\r\n\r\n java.lang.NullPointerException\r\nproductmicroservice    |        at com.product.DAO.HibernateUtil.getSessionFactory(HibernateUtil.java:40)\r\nproductmicroservice    |        at com.product.DAO.ProductDAOImpl.save(ProductDAOImpl.java:137)\r\nproductmicroservice    |        at com.product.DAO.ProductDAOImpl$$FastClassBySpringCGLIB$$7fcc36eb.invoke(&lt;generated&gt;)\r\nproductmicroservice    |        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\nproductmicroservice    |        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\r\nproductmicroservice    |        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.ja\r\n\r\n\r\n```\r\n```\r\n\r\n\r\nimport java.util.Date;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.NotNull;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\nimport com.fasterxml.jackson.annotation.OptBoolean;\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\nimport com.product.DateDeserializer.DateDeserializer;\r\n\r\nimport org.hibernate.annotations.DynamicUpdate;\r\n\r\nimport org.springframework.format.annotation.DateTimeFormat;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@ToString\r\n@Table(name = &quot;tb_product&quot;)\r\n@DynamicUpdate\r\npublic class Product  {\r\n\r\n      \r\n     @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Id\r\n      @Column\r\n      private Integer purchase_item;\r\n     \r\n      @NotBlank\r\n      @NotNull\r\n      @Column\r\n      private String productname;\r\n      \r\n      @NotBlank\r\n      @NotNull\r\n      @Column\r\n      private String productbrand;\r\n\r\n      @NotNull\r\n      @Column\r\n      private Double productprice;\r\n \r\n      @NotBlank\r\n      @NotNull\r\n      @Column\r\n      private String productdescription;\r\n      \r\n      @NotNull\r\n      @Column\r\n      private Integer productquantity;\r\n    \r\n      \r\n      @NotNull\r\n      @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\r\n      @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING, lenient = OptBoolean.FALSE)\r\n     @JsonDeserialize(using = DateDeserializer.class)\r\n      private Date productexpirationdate;\r\n      \r\n      \r\n      \r\n  \r\n\r\n}\r\n\r\n```","title":"HQL/ORM hibernate Implementation error Null","body":"<p>Implemenetation: A project with <code>ORM hibernate</code> <code>HQL</code> so i changes my implementation like this <a href=\"https://www.javaguides.net/2019/10/hibernate-query-language-tutorial.html\" rel=\"nofollow noreferrer\">https://www.javaguides.net/2019/10/hibernate-query-language-tutorial.html</a> but its giving me error. My old implementation works fine but i need likes this process.</p>\n<p>This will work</p>\n<pre><code>    @Override\n    public Product save(Product product) {\n        Session session = entityManager.unwrap(Session.class);\n            session.save(product);\n            session.close();\n            return product;\n        \n    }\n</code></pre>\n<p>I need like this but wont work</p>\n<pre><code>    public Product saveStudent(Product product) {\n        Transaction transaction = null;\n        try (Session session = HibernateUtil.getSessionFactory().openSession()) {\n            transaction = session.beginTransaction();\n            \n            Object object = session.save(product);\n            \n            session.get(Product.class, (Serializable) object);\n            \n            transaction.commit();\n        } catch (Exception e) {\n            if (transaction != null) {\n                transaction.rollback();\n            }\n            e.printStackTrace();\n        }\n        return product;\n    }\n    \n    \n    \n    @Override\n    public Product save(Product product) {\n        Transaction transaction = null;\n        try (Session session = HibernateUtil.getSessionFactory().openSession()) {\n            // start a transaction\n            transaction = session.beginTransaction();\n\n            String hql = &quot;INSERT INTO Product  (purchase_item, productname, productbrand, productprice, productdescription, productquantity, productexpirationdate) &quot; +\n                &quot;SELECT  purchase_item, productname, productbrand, productprice, productdescription, productquantity, productexpirationdate FROM Product &quot;;\n            Query query = session.createQuery(hql);\n          query.executeUpdate();\n\n\n            transaction.commit();\n        } catch (Exception e) {\n            if (transaction != null) {\n                transaction.rollback();\n            }\n            e.printStackTrace();\n        }\n        return saveStudent(product);\n    }\n    \n    \n</code></pre>\n<p>This giving me hard time, i try also the container name for mysql but wont work.</p>\n<pre><code>package com.product.DAO;\n\nimport java.util.Properties;\n\nimport com.product.Entity.Product;\n\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.cfg.Environment;\nimport org.hibernate.service.ServiceRegistry;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n\n\n\n\n\n@Component\npublic class HibernateUtil {\n    \n    \n    @Autowired\n    private static  HibernateUtilModel hibernateUtilModel;\n    \n    private static SessionFactory sessionFactory;\n    \n    \n    \n    \n    public static SessionFactory getSessionFactory() {\n        \n        \n        if (sessionFactory == null) {\n            try {\n                Configuration configuration = new Configuration();\n\n                Properties settings = new Properties();\n                settings.put(Environment.DRIVER, hibernateUtilModel.getDriver());\n                settings.put(Environment.URL, hibernateUtilModel.getUrl());\n                settings.put(Environment.USER, hibernateUtilModel.getUser());\n                settings.put(Environment.PASS, hibernateUtilModel.getPass());\n                settings.put(Environment.DIALECT, hibernateUtilModel.getDialect());\n\n                settings.put(Environment.SHOW_SQL, hibernateUtilModel.getShow_sql());\n                settings.put(Environment.IMPLICIT_NAMING_STRATEGY,hibernateUtilModel.getIMPLICIT());\n                settings.put(Environment.PHYSICAL_NAMING_STRATEGY,hibernateUtilModel.getPHYSICAL());\n                \n                settings.put(Environment.CURRENT_SESSION_CONTEXT_CLASS, &quot;thread&quot;);\n\n                settings.put(Environment.HBM2DDL_AUTO, hibernateUtilModel.getUpdate());\n\n                configuration.setProperties(settings);\n\n                configuration.addAnnotatedClass(Product.class);\n\n                ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()\n                    .applySettings(configuration.getProperties()).build();\n\n                sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n        return sessionFactory;\n    }\n    \n\n\n}\n\n</code></pre>\n<pre><code>\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Service;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\n\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Service\npublic class HibernateUtilModel {\n    \n    \n    @Value(&quot;${spring.datasource.url}&quot;)\n    private  String url;\n    \n    @Value(&quot;${spring.datasource.driver-class-name}&quot;)\n    private String driver;\n    \n    @Value(&quot;${spring.datasource.username}&quot;)\n    private  String user;\n    \n    @Value(&quot;${spring.datasource.password}&quot;)\n    private String pass;\n    \n    @Value(&quot;${spring.jpa.properties.hibernate.dialect}&quot;)\n    private  String dialect;\n    \n    @Value(&quot;${spring.jpa.show-sql}&quot;)\n    private String show_sql;\n    \n    @Value(&quot;${spring.jpa.hibernate.naming.implicit-strategy}&quot;)\n    private String IMPLICIT;\n    \n    @Value(&quot;${spring.jpa.hibernate.naming.physical-strategy}&quot;)\n    private  String PHYSICAL;\n    \n    @Value(&quot;$spring.jpa.hibernate.ddl-auto}&quot;)\n    private  String update;\n\n    \n\n}\n\n</code></pre>\n<p>application.yaml</p>\n<pre><code>\n\nspring:\n  jackson:\n    deserialization:\n      wrap-exceptions: false\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/dbpoc\n    username: root\n    password: root\n  \n  \n\n    \n  jpa:\n    hibernate:\n      naming:\n        implicit-strategy: org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\n        physical-strategy: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\n      ddl-auto: update\n    generate-ddl: false\n    show-sql: false\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.MySQL5InnoDBDialect\n\n  mvc:\n   throw-exception-if-no-handler-found: true\n  web:\n    resources:\n      add-mappings: false\n        \n  sql:\n    init:\n      mode: always\n      continue-on-error: true\n\n    \nserver:\n  port: 8091\n  \n  \n\n</code></pre>\n<p>docker-compose.yaml</p>\n<pre><code>version: '3.8'\n\nnetworks:\n  default:\n    name: product-poc-project-net\n    external: true\n    \nservices: \n#----------------------------------------------------------------  \n  productmicroservice:\n    image: productmicroservice:latest\n    container_name: productmicroservice\n     \n    restart: always\n    build:\n      context: ./\n      dockerfile: Dockerfile\n    ports:\n      - &quot;9001:8091&quot;\n    \n    environment:\n    \n      - MYSQL_HOST=mysqldb\n      - MYSQL_USER=root\n      - MYSQL_PASSWORD=root\n      - MYSQL_PORT=3306\n      \n      - &quot;SPRING_PROFILES_ACTIVE=${ACTIVE_PROFILE}&quot;\n   depends_on:\n      - mysqldb\n   \n      \n\n   mysqldb:\n    image: mysql:8.0.28\n    restart: unless-stopped\n    container_name: mysqldb\n    ports: \n      - &quot;3307:3306&quot;\n    \n    cap_add:\n      - SYS_NICE\n    environment:\n      MYSQL_DATABASE: dbpoc\n      MYSQL_ROOT_PASSWORD: root \n      \n  \n\n</code></pre>\n<p>While application is excuting the app this show\n<code>Autowired annotation is not supported</code></p>\n<pre><code>main] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: private static com.product.DAO.ProductDAOImpl com.product.ProductMicroserviceApplication.hibernateUtil\nproductmicroservice    | 2022-06-09 13:15:14.672  INFO 1 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : Autowired annotation is not supported on static fields: private static com.product.DAO.HibernateUtilModel com.product.DAO.HibernateUtil.hibernateUtilModel\n\n</code></pre>\n<p>Error</p>\n<pre><code>\n java.lang.NullPointerException\nproductmicroservice    |        at com.product.DAO.HibernateUtil.getSessionFactory(HibernateUtil.java:40)\nproductmicroservice    |        at com.product.DAO.ProductDAOImpl.save(ProductDAOImpl.java:137)\nproductmicroservice    |        at com.product.DAO.ProductDAOImpl$$FastClassBySpringCGLIB$$7fcc36eb.invoke(&lt;generated&gt;)\nproductmicroservice    |        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nproductmicroservice    |        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\nproductmicroservice    |        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.ja\n\n\n</code></pre>\n<pre><code>\n\nimport java.util.Date;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotNull;\n\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport com.fasterxml.jackson.annotation.OptBoolean;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.product.DateDeserializer.DateDeserializer;\n\nimport org.hibernate.annotations.DynamicUpdate;\n\nimport org.springframework.format.annotation.DateTimeFormat;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@ToString\n@Table(name = &quot;tb_product&quot;)\n@DynamicUpdate\npublic class Product  {\n\n      \n     @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n      @Column\n      private Integer purchase_item;\n     \n      @NotBlank\n      @NotNull\n      @Column\n      private String productname;\n      \n      @NotBlank\n      @NotNull\n      @Column\n      private String productbrand;\n\n      @NotNull\n      @Column\n      private Double productprice;\n \n      @NotBlank\n      @NotNull\n      @Column\n      private String productdescription;\n      \n      @NotNull\n      @Column\n      private Integer productquantity;\n    \n      \n      @NotNull\n      @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)\n      @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING, lenient = OptBoolean.FALSE)\n     @JsonDeserialize(using = DateDeserializer.class)\n      private Date productexpirationdate;\n      \n      \n      \n  \n\n}\n\n</code></pre>\n"},{"tags":["java","tomcat","grails"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1654199988,"post_id":72475977,"comment_id":128040862,"body_markdown":"I have tried to recreate that and cannot.  What JDK is Tomcat running in, and what version of Tomcat is it?","body":"I have tried to recreate that and cannot.  What JDK is Tomcat running in, and what version of Tomcat is it?"},{"owner":{"account_id":1883439,"reputation":65,"user_id":1703127,"display_name":"vrivon"},"score":0,"creation_date":1654203173,"post_id":72475977,"comment_id":128041934,"body_markdown":"I am updating my answer with machine and software","body":"I am updating my answer with machine and software"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1654223557,"post_id":72475977,"comment_id":128045284,"body_markdown":"Does every request 404?  If your app provides a custom 404 handling page, is that rendered or are you seeing the default Tomcat 404 page?","body":"Does every request 404?  If your app provides a custom 404 handling page, is that rendered or are you seeing the default Tomcat 404 page?"},{"owner":{"account_id":1883439,"reputation":65,"user_id":1703127,"display_name":"vrivon"},"score":0,"creation_date":1654273079,"post_id":72475977,"comment_id":128059377,"body_markdown":"Every dynamic request fails, but you can access to the files in /assets/ folder, I dont know if this means something or not. You see the default TOMCAT 404 error page, not the application custom error page.","body":"Every dynamic request fails, but you can access to the files in /assets/ folder, I dont know if this means something or not. You see the default TOMCAT 404 error page, not the application custom error page."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1654273285,"post_id":72475977,"comment_id":128059433,"body_markdown":"It sounds like it my be a problem related to the root context but it is hard to say without some more info.  If you are able to recreate the issue in a demo app and can share a link to a repo with that code, I would be happy to investigate.  If it starts to look like a bug in Grails, please file an issue at https://github.com/grails/grails-core/issues and we will investigate. Best of luck.","body":"It sounds like it my be a problem related to the root context but it is hard to say without some more info.  If you are able to recreate the issue in a demo app and can share a link to a repo with that code, I would be happy to investigate.  If it starts to look like a bug in Grails, please file an issue at <a href=\"https://github.com/grails/grails-core/issues\" rel=\"nofollow noreferrer\">github.com/grails/grails-core/issues</a> and we will investigate. Best of luck."},{"owner":{"account_id":1883439,"reputation":65,"user_id":1703127,"display_name":"vrivon"},"score":0,"creation_date":1654279934,"post_id":72475977,"comment_id":128061385,"body_markdown":"I already submitted the issue. No anwsers yet:\nhttps://github.com/grails/grails-core/issues/12547\nI&#39;m just using a clean new project with  Grails 5.1.7. As I said, it works running with: grails run-app. It is the deployment to Tomcat what is not working. \n\nIn any case please tell me where to send you the  project and I would be happy to do it. Thanks in advance","body":"I already submitted the issue. No anwsers yet: <a href=\"https://github.com/grails/grails-core/issues/12547\" rel=\"nofollow noreferrer\">github.com/grails/grails-core/issues/12547</a> I&#39;m just using a clean new project with  Grails 5.1.7. As I said, it works running with: grails run-app. It is the deployment to Tomcat what is not working.   In any case please tell me where to send you the  project and I would be happy to do it. Thanks in advance"},{"owner":{"account_id":1883439,"reputation":65,"user_id":1703127,"display_name":"vrivon"},"score":0,"creation_date":1654732711,"post_id":72475977,"comment_id":128164797,"body_markdown":"Link to the repository of basic project that works on Tomcat 8.5, but not on Tomcat 9 or Tomcat 10.\n\nhttps://github.com/vrivon/grails5","body":"Link to the repository of basic project that works on Tomcat 8.5, but not on Tomcat 9 or Tomcat 10.  <a href=\"https://github.com/vrivon/grails5\" rel=\"nofollow noreferrer\">github.com/vrivon/grails5</a>"}],"answers":[{"tags":[],"owner":{"account_id":1883439,"reputation":65,"user_id":1703127,"display_name":"vrivon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654798135,"creation_date":1654798135,"answer_id":72564793,"question_id":72475977,"body_markdown":"I managed to run the Grails 5 application on Tomcat 8 and Tomcat 9 by updating the JVM version from 11 to 16. It seems like Grails 5 doesnt support Tomcat 10.","title":"How to run a Grails 5.1.7 application on a Tomcat 9.0.44 server - HTTP 404","body":"<p>I managed to run the Grails 5 application on Tomcat 8 and Tomcat 9 by updating the JVM version from 11 to 16. It seems like Grails 5 doesnt support Tomcat 10.</p>\n"}],"owner":{"account_id":1883439,"reputation":65,"user_id":1703127,"display_name":"vrivon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72564793,"answer_count":1,"score":0,"last_activity_date":1654798135,"creation_date":1654171349,"question_id":72475977,"body_markdown":"My old application with grails version 4.0.5 used to run perfectly. After being forced to update gradle I wasnt able to make it even compile. Then, I created a new project with grails 5.1.7, updated the build.gradle file with the new commands and finally it compiled. The application runs fine in my computer with:\r\n\r\n    grails run-app\r\n\r\nHowever, when I make and run the .war file created with the command:\r\n\r\n    grails war\r\n\r\nin my tomcat server, I get no errors on deployment, but http request always get an **HTTP 404** error.\r\n\r\nSo I decided to make a new vanilla 5.1.7 grails project and try to make a new clean war. This new project also runs perfectly on my computer with run-app and also is deployed with no errors but also shows the **HTTP 404** error with you try to retrieve a page.\r\n\r\nI have been reading on grails documentation that ***grails war*** command makes a embedded container and could cause problems on tomcat:\r\n\r\nhttps://docs.grails.org/latest/guide/deployment.html#deploymentStandalone\r\n\r\nSo, I tried to follow the advice and remove from build.gradle:\r\n\r\n    implementation  &quot;org.springframework.boot:spring-boot-starter-tomcat&quot;\r\n\r\nBut still no luck, I keep getting the **HTTP 404** error.\r\n\r\nSummary:\r\n\r\nMy grails 4.0.5 application ran just fine creating the war file with &quot;grails war&quot;, so I am not sure if this &quot;embeddable&quot; is the cause of the problem. Due to I get no errors I have no clue.\r\n\r\nAny help would be appreciated\r\n\r\nMachines and software I&#39;ve tested:\r\n\r\nMachine 1:\r\n* Ubuntu 20.10\r\n* Apache tomcat 9.0.44\r\n* openjdk version &quot;11.0.11&quot;\r\n\r\nMachine 2:\r\n* Windows 10\r\n* Apache tomcat 10.0.10\r\n* openjdk version &quot;11.0.11&quot;\r\n\r\nSame result on both.\r\n\r\nI have also tried to add:\r\n`ext[&#39;tomcat.version&#39;] = &#39;10.0.10&#39;` to gradle in case. Not working.\r\n","title":"How to run a Grails 5.1.7 application on a Tomcat 9.0.44 server - HTTP 404","body":"<p>My old application with grails version 4.0.5 used to run perfectly. After being forced to update gradle I wasnt able to make it even compile. Then, I created a new project with grails 5.1.7, updated the build.gradle file with the new commands and finally it compiled. The application runs fine in my computer with:</p>\n<pre><code>grails run-app\n</code></pre>\n<p>However, when I make and run the .war file created with the command:</p>\n<pre><code>grails war\n</code></pre>\n<p>in my tomcat server, I get no errors on deployment, but http request always get an <strong>HTTP 404</strong> error.</p>\n<p>So I decided to make a new vanilla 5.1.7 grails project and try to make a new clean war. This new project also runs perfectly on my computer with run-app and also is deployed with no errors but also shows the <strong>HTTP 404</strong> error with you try to retrieve a page.</p>\n<p>I have been reading on grails documentation that <em><strong>grails war</strong></em> command makes a embedded container and could cause problems on tomcat:</p>\n<p><a href=\"https://docs.grails.org/latest/guide/deployment.html#deploymentStandalone\" rel=\"nofollow noreferrer\">https://docs.grails.org/latest/guide/deployment.html#deploymentStandalone</a></p>\n<p>So, I tried to follow the advice and remove from build.gradle:</p>\n<pre><code>implementation  &quot;org.springframework.boot:spring-boot-starter-tomcat&quot;\n</code></pre>\n<p>But still no luck, I keep getting the <strong>HTTP 404</strong> error.</p>\n<p>Summary:</p>\n<p>My grails 4.0.5 application ran just fine creating the war file with &quot;grails war&quot;, so I am not sure if this &quot;embeddable&quot; is the cause of the problem. Due to I get no errors I have no clue.</p>\n<p>Any help would be appreciated</p>\n<p>Machines and software I've tested:</p>\n<p>Machine 1:</p>\n<ul>\n<li>Ubuntu 20.10</li>\n<li>Apache tomcat 9.0.44</li>\n<li>openjdk version &quot;11.0.11&quot;</li>\n</ul>\n<p>Machine 2:</p>\n<ul>\n<li>Windows 10</li>\n<li>Apache tomcat 10.0.10</li>\n<li>openjdk version &quot;11.0.11&quot;</li>\n</ul>\n<p>Same result on both.</p>\n<p>I have also tried to add:\n<code>ext['tomcat.version'] = '10.0.10'</code> to gradle in case. Not working.</p>\n"},{"tags":["java","animation","processing","sprite"],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654797260,"creation_date":1654797260,"answer_id":72564641,"question_id":72564440,"body_markdown":"You&#39;re sooo close ! :)\r\n\r\nYou&#39;ve got the solution pretty much using `frameCount`, just need to separate the frame update from the drawing. You want to update based on the frameCount (every once in a while), but display continuously:\r\n\r\n```java\r\nvoid display(float xpos, float ypos) {\r\n    if(frameCount % 12 == 0){\r\n      frame = (frame+1) % imageCount;\r\n    }\r\n    image(images[frame], xpos, ypos);\r\n}\r\n```\r\n(feel to ajust 12 (60/5) to what suits your project best)\r\n\r\nShameless plug, you can also use the [image-sequence-player][1] library I wrote which allows you to call `setDelay(1000/5)` to have the image sequence play at 5fps.\r\n\r\n\r\n  [1]: https://github.com/hirschandmann/image-sequence-player","title":"How do I slow down an a sprite animation with processing java","body":"<p>You're sooo close ! :)</p>\n<p>You've got the solution pretty much using <code>frameCount</code>, just need to separate the frame update from the drawing. You want to update based on the frameCount (every once in a while), but display continuously:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void display(float xpos, float ypos) {\n    if(frameCount % 12 == 0){\n      frame = (frame+1) % imageCount;\n    }\n    image(images[frame], xpos, ypos);\n}\n</code></pre>\n<p>(feel to ajust 12 (60/5) to what suits your project best)</p>\n<p>Shameless plug, you can also use the <a href=\"https://github.com/hirschandmann/image-sequence-player\" rel=\"nofollow noreferrer\">image-sequence-player</a> library I wrote which allows you to call <code>setDelay(1000/5)</code> to have the image sequence play at 5fps.</p>\n"}],"owner":{"account_id":21254536,"reputation":595,"user_id":15636264,"display_name":"Scollier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72564641,"answer_count":1,"score":2,"last_activity_date":1654797263,"creation_date":1654796066,"question_id":72564440,"body_markdown":"I&#39;m attempting to slow down a sprite animation that I found from this website here: https://processing.org/examples/animatedsprite.html\r\n\r\nHere is the class for the animation:\r\n```java\r\nclass Animation {\r\n  PImage[] images;\r\n  int imageCount;\r\n  int frame;\r\n  \r\n  Animation(String imagePrefix, int count) {\r\n    imageCount = count;\r\n    images = new PImage[imageCount];\r\n\r\n    for (int i = 0; i &lt; imageCount; i++) {\r\n      // Use nf() to number format &#39;i&#39; into four digits\r\n      String filename = &quot;images/&quot; + imagePrefix + nf(i, 2) + &quot;.png&quot;;\r\n      images[i] = loadImage(filename);\r\n    }\r\n  }\r\n\r\n  void display(float xpos, float ypos) {\r\n    frame = (frame+1) % imageCount;\r\n    image(images[frame], xpos, ypos);\r\n  }\r\n  \r\n  int getWidth() {\r\n    return images[0].width;\r\n  }\r\n}\r\n```\r\n\r\n\r\nFrom the website showing the animation, it says:\r\n&gt;It would be easy to write a program to display animated GIFs, but would not allow as much control over the display sequence and **rate of display.**\r\n\r\nSo far, the animation plays at the current frame rate (around 60 FPS), but what if I want to play  it at 5 FPS? Obviously, I can&#39;t just slow down the entire framerate, because I want just the animation to slow down, not my entire project/canvas.\r\n\r\nI&#39;ve tried slowing the animation down by doing something like this:\r\n\r\n```java\r\nif (frameCount % 10 == 1) {\r\n //Show image\r\n}\r\n```\r\nBut the above approach flashes the image, only showing it every ten frames. **How would I successfully slow down the rate of display of the animation, so that the frames don&#39;t appear so quickly?**\r\n\r\nHere&#39;s what the animation looks like right now:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd here&#39;s what I want it to look like:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CcuOc.gif\r\n  [2]: https://i.stack.imgur.com/Dtw6t.gif\r\n\r\n\r\nThanks for any help.","title":"How do I slow down an a sprite animation with processing java","body":"<p>I'm attempting to slow down a sprite animation that I found from this website here: <a href=\"https://processing.org/examples/animatedsprite.html\" rel=\"nofollow noreferrer\">https://processing.org/examples/animatedsprite.html</a></p>\n<p>Here is the class for the animation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Animation {\n  PImage[] images;\n  int imageCount;\n  int frame;\n  \n  Animation(String imagePrefix, int count) {\n    imageCount = count;\n    images = new PImage[imageCount];\n\n    for (int i = 0; i &lt; imageCount; i++) {\n      // Use nf() to number format 'i' into four digits\n      String filename = &quot;images/&quot; + imagePrefix + nf(i, 2) + &quot;.png&quot;;\n      images[i] = loadImage(filename);\n    }\n  }\n\n  void display(float xpos, float ypos) {\n    frame = (frame+1) % imageCount;\n    image(images[frame], xpos, ypos);\n  }\n  \n  int getWidth() {\n    return images[0].width;\n  }\n}\n</code></pre>\n<p>From the website showing the animation, it says:</p>\n<blockquote>\n<p>It would be easy to write a program to display animated GIFs, but would not allow as much control over the display sequence and <strong>rate of display.</strong></p>\n</blockquote>\n<p>So far, the animation plays at the current frame rate (around 60 FPS), but what if I want to play  it at 5 FPS? Obviously, I can't just slow down the entire framerate, because I want just the animation to slow down, not my entire project/canvas.</p>\n<p>I've tried slowing the animation down by doing something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (frameCount % 10 == 1) {\n //Show image\n}\n</code></pre>\n<p>But the above approach flashes the image, only showing it every ten frames. <strong>How would I successfully slow down the rate of display of the animation, so that the frames don't appear so quickly?</strong></p>\n<p>Here's what the animation looks like right now:</p>\n<p><a href=\"https://i.stack.imgur.com/CcuOc.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CcuOc.gif\" alt=\"enter image description here\" /></a></p>\n<p>And here's what I want it to look like:</p>\n<p><a href=\"https://i.stack.imgur.com/Dtw6t.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dtw6t.gif\" alt=\"enter image description here\" /></a></p>\n<p>Thanks for any help.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654796372,"creation_date":1654796372,"answer_id":72564491,"question_id":72564454,"body_markdown":"Normalize your list of valid species by storing them all in e.g. lowercase, and apply the same normalization on your user input. Regardless of the case of the user&#39;s input, you&#39;re checking whether a lowercase string (`species.toLowerCase()`) is within a set of lowercase valid species.\r\n\r\n```\r\n    String[]validSpecies = { &quot;capuchin&quot;, &quot;guenon&quot;, &quot;macaque&quot;, &quot;marmoset&quot;};\r\n    boolean isValid;\r\n\r\n    System.out.println(&quot;Enter monkey&#39;s species: &quot;);\r\n    String species = scanner.nextLine();\r\n    isValid = Arrays.asList(validSpecies).contains(species.toLowerCase());\r\n    if (!isValid) {\r\n        System.out.println(&quot;This species is not permitted&quot;);\r\n        return;\r\n    }\r\n```\r\n\r\n","title":"Intro Java: how to eliminate case sensitivity for user input here?","body":"<p>Normalize your list of valid species by storing them all in e.g. lowercase, and apply the same normalization on your user input. Regardless of the case of the user's input, you're checking whether a lowercase string (<code>species.toLowerCase()</code>) is within a set of lowercase valid species.</p>\n<pre><code>    String[]validSpecies = { &quot;capuchin&quot;, &quot;guenon&quot;, &quot;macaque&quot;, &quot;marmoset&quot;};\n    boolean isValid;\n\n    System.out.println(&quot;Enter monkey's species: &quot;);\n    String species = scanner.nextLine();\n    isValid = Arrays.asList(validSpecies).contains(species.toLowerCase());\n    if (!isValid) {\n        System.out.println(&quot;This species is not permitted&quot;);\n        return;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654796602,"creation_date":1654796602,"answer_id":72564531,"question_id":72564454,"body_markdown":"Do it with a stream instead:\r\n\r\n    boolean isValid = Arrays.stream(validSpecies)\r\n          .anyMatch(s -&gt; s.equalsIgnoreCase(species));","title":"Intro Java: how to eliminate case sensitivity for user input here?","body":"<p>Do it with a stream instead:</p>\n<pre><code>boolean isValid = Arrays.stream(validSpecies)\n      .anyMatch(s -&gt; s.equalsIgnoreCase(species));\n</code></pre>\n"}],"owner":{"display_name":"user18942073"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72564491,"answer_count":2,"score":0,"last_activity_date":1654796602,"creation_date":1654796133,"question_id":72564454,"body_markdown":"If the user capitalizes, say, Capuchin, it works fine, but I&#39;d like to eliminate case sensitivity. In my very limited experience, I&#39;d look to place &quot;.equalsIgnoreCase()&quot; somewhere, but I can&#39;t figure out where it&#39;s possible to do that, or something similar. Do I need to change the method entirely or is there a way to do it within this block?\r\n\r\n        String[]validSpecies = { &quot;Capuchin&quot;, &quot;Guenon&quot;, &quot;Macaque&quot;, &quot;Marmoset&quot;};\r\n    \tboolean isValid;\r\n\r\n        System.out.println(&quot;Enter monkey&#39;s species: &quot;);\r\n        String species = scanner.nextLine();\r\n        isValid = Arrays.asList(validSpecies).contains(species);\r\n        if (!isValid) {\r\n        \tSystem.out.println(&quot;This species is not permitted&quot;);\r\n        \treturn;\r\n        }\r\n","title":"Intro Java: how to eliminate case sensitivity for user input here?","body":"<p>If the user capitalizes, say, Capuchin, it works fine, but I'd like to eliminate case sensitivity. In my very limited experience, I'd look to place &quot;.equalsIgnoreCase()&quot; somewhere, but I can't figure out where it's possible to do that, or something similar. Do I need to change the method entirely or is there a way to do it within this block?</p>\n<pre><code>    String[]validSpecies = { &quot;Capuchin&quot;, &quot;Guenon&quot;, &quot;Macaque&quot;, &quot;Marmoset&quot;};\n    boolean isValid;\n\n    System.out.println(&quot;Enter monkey's species: &quot;);\n    String species = scanner.nextLine();\n    isValid = Arrays.asList(validSpecies).contains(species);\n    if (!isValid) {\n        System.out.println(&quot;This species is not permitted&quot;);\n        return;\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":0,"creation_date":1654795893,"post_id":72564373,"comment_id":128183426,"body_markdown":"I&#39;m not sure what your question is. You are currently comparing a string that starts with a newline to one that doesn&#39;t, so that might be your issue? If not, then please clarify what the problem is.","body":"I&#39;m not sure what your question is. You are currently comparing a string that starts with a newline to one that doesn&#39;t, so that might be your issue? If not, then please clarify what the problem is."},{"owner":{"account_id":25518304,"reputation":3,"user_id":19308753,"display_name":"kriskata1"},"score":0,"creation_date":1654796235,"post_id":72564373,"comment_id":128183569,"body_markdown":"When the console outputs &quot;Successfully logged in!&quot; the loop doesn&#39;t break and that should be because the if-condition isn&#39;t met, so that leads me to think that I don&#39;t get the right value from login(loginUsername,loginPassword)","body":"When the console outputs &quot;Successfully logged in!&quot; the loop doesn&#39;t break and that should be because the if-condition isn&#39;t met, so that leads me to think that I don&#39;t get the right value from login(loginUsername,loginPassword)"}],"answers":[{"tags":[],"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654796140,"creation_date":1654796140,"answer_id":72564455,"question_id":72564373,"body_markdown":"But `&quot;Successfully logged in!&quot;` is not the same string as `&quot;\\nSuccessfully logged in!&quot;`.\r\n\r\nMore importantly... Why use strings for this at all?  If you want to know whether something is true or false, there&#39;s a perfectly good data type to convey that information.  Return that type instead:\r\n\r\n    return check;\r\n\r\nRename the method to something more meaningful than `login`, and use its result in a semantically clear condition:\r\n\r\n    if (isLoginSuccessful(loginUsername,loginPassword)) {\r\n        break;\r\n    }\r\n\r\nThis puts the semantics of what you&#39;re doing *in the code itself*, rather than in magic strings that you need to copy/paste everywhere and manually keep track of.  Which, already in this one tiny example, you&#39;ve lost track of by making the strings different.  (With the added benefit that using booleans for conditional logic *probably* performs a little better than string comparison.)","title":"How to compare a returned string from a method with another string in the main method?","body":"<p>But <code>&quot;Successfully logged in!&quot;</code> is not the same string as <code>&quot;\\nSuccessfully logged in!&quot;</code>.</p>\n<p>More importantly... Why use strings for this at all?  If you want to know whether something is true or false, there's a perfectly good data type to convey that information.  Return that type instead:</p>\n<pre><code>return check;\n</code></pre>\n<p>Rename the method to something more meaningful than <code>login</code>, and use its result in a semantically clear condition:</p>\n<pre><code>if (isLoginSuccessful(loginUsername,loginPassword)) {\n    break;\n}\n</code></pre>\n<p>This puts the semantics of what you're doing <em>in the code itself</em>, rather than in magic strings that you need to copy/paste everywhere and manually keep track of.  Which, already in this one tiny example, you've lost track of by making the strings different.  (With the added benefit that using booleans for conditional logic <em>probably</em> performs a little better than string comparison.)</p>\n"}],"owner":{"account_id":25518304,"reputation":3,"user_id":19308753,"display_name":"kriskata1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72564455,"answer_count":1,"score":-2,"last_activity_date":1654796140,"creation_date":1654795738,"question_id":72564373,"body_markdown":"The idea is that the while loop should loop through the code if the result is &quot;wrong password&quot;,\r\nuntil the correct password is entered and breaks the loop when it matches the login method return value.\r\n\r\n    while (true){\r\n       System.out.println(&quot;\\nLogin: &quot;);\r\n       System.out.println(&quot;\\nEnter a username: &quot;);\r\n       String loginUsername = sc.nextLine();\r\n       System.out.println(&quot;Enter a password: &quot;);\r\n       String loginPassword = sc.nextLine();\r\n       System.out.println(login(loginUsername,loginPassword));\r\n       if (login(loginUsername,loginPassword).equalsIgnoreCase(&quot;Successfully logged in!&quot;)) {\r\n           break;\r\n       }\r\n    }\r\n    \r\nthis code is the return statements from the login method\r\n\r\n    if (check == true){\r\n            return (&quot;\\nSuccessfully logged in!&quot;);\r\n        } else {\r\n            return (&quot;\\nWrong username/password&quot;);\r\n        }\r\n","title":"How to compare a returned string from a method with another string in the main method?","body":"<p>The idea is that the while loop should loop through the code if the result is &quot;wrong password&quot;,\nuntil the correct password is entered and breaks the loop when it matches the login method return value.</p>\n<pre><code>while (true){\n   System.out.println(&quot;\\nLogin: &quot;);\n   System.out.println(&quot;\\nEnter a username: &quot;);\n   String loginUsername = sc.nextLine();\n   System.out.println(&quot;Enter a password: &quot;);\n   String loginPassword = sc.nextLine();\n   System.out.println(login(loginUsername,loginPassword));\n   if (login(loginUsername,loginPassword).equalsIgnoreCase(&quot;Successfully logged in!&quot;)) {\n       break;\n   }\n}\n</code></pre>\n<p>this code is the return statements from the login method</p>\n<pre><code>if (check == true){\n        return (&quot;\\nSuccessfully logged in!&quot;);\n    } else {\n        return (&quot;\\nWrong username/password&quot;);\n    }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1654643797,"post_id":72533277,"comment_id":128138670,"body_markdown":"Hi R D, can you check at the `drawable` folders. if there is any `ic_baseline_pause_24` available","body":"Hi R D, can you check at the <code>drawable</code> folders. if there is any <code>ic_baseline_pause_24</code> available"},{"owner":{"account_id":25497800,"reputation":1,"user_id":19291603,"display_name":"R D"},"score":0,"creation_date":1654706858,"post_id":72533277,"comment_id":128157641,"body_markdown":"Hey Ticherhaz, \nthere is no longer the icon calles &quot;ic_baseline_pause_24&quot; in the drawable folder I deleted it, because I do not longer use it.\nIf I add it back in the folder, it will be used and the old version, in which I used that icon as test, will be seen in the app.\n\nFor me it looks like changes in the main.xml are no longer accepted.","body":"Hey Ticherhaz,  there is no longer the icon calles &quot;ic_baseline_pause_24&quot; in the drawable folder I deleted it, because I do not longer use it. If I add it back in the folder, it will be used and the old version, in which I used that icon as test, will be seen in the app.  For me it looks like changes in the main.xml are no longer accepted."}],"answers":[{"tags":[],"owner":{"account_id":25497800,"reputation":1,"user_id":19291603,"display_name":"R D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654711550,"creation_date":1654711550,"answer_id":72550330,"question_id":72533277,"body_markdown":"Ok, I found the solution to my problem...\r\n\r\nIt was i syntax-error in main.xml\r\n\r\nIt has to be:\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/action_item_one&quot;\r\n        android:icon=&quot;@drawable/ic_help&quot;\r\n        app:showAsAction=&quot;always&quot;\r\n        android:title=&quot;Hilfe&quot;/&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/action_item_two&quot;\r\n        android:icon=&quot;@drawable/ic_forward_30_48px&quot;\r\n        app:showAsAction=&quot;always&quot;\r\n        android:title=&quot;Sekunden&quot;&gt;\r\n    &lt;/item&gt;\r\n\r\nCause this error the menu did not update","title":"Android Studio | Error &quot;resource not found&quot; for no longer called resource","body":"<p>Ok, I found the solution to my problem...</p>\n<p>It was i syntax-error in main.xml</p>\n<p>It has to be:</p>\n<pre><code>&lt;item\n    android:id=&quot;@+id/action_item_one&quot;\n    android:icon=&quot;@drawable/ic_help&quot;\n    app:showAsAction=&quot;always&quot;\n    android:title=&quot;Hilfe&quot;/&gt;\n&lt;item\n    android:id=&quot;@+id/action_item_two&quot;\n    android:icon=&quot;@drawable/ic_forward_30_48px&quot;\n    app:showAsAction=&quot;always&quot;\n    android:title=&quot;Sekunden&quot;&gt;\n&lt;/item&gt;\n</code></pre>\n<p>Cause this error the menu did not update</p>\n"}],"owner":{"account_id":25497800,"reputation":1,"user_id":19291603,"display_name":"R D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1654795323,"creation_date":1654613237,"question_id":72533277,"body_markdown":"fist off all the code:\r\nFollowing lines are in my MainActivity.java\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        // Inflate the menu; this adds items to the action bar if it is present.\r\n        getMenuInflater().inflate(R.menu.main, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        // Handle action bar item clicks here. The action bar will\r\n        // automatically handle clicks on the Home/Up button, so long\r\n        // as you specify a parent activity in AndroidManifest.xml.\r\n        int id = item.getItemId();\r\n\r\n        View view = findViewById(R.id.action_item_two);\r\n\r\n        //noinspection SimplifiableIfStatement\r\n        if (id == R.id.action_item_one) {\r\n            // Do thing one\r\n            return true;\r\n        }\r\n        if (id == R.id.action_item_two) {\r\n            // Do thing two\r\n            return true;\r\n        }\r\n\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\nMy menu has the file res/menu/main.xml and looks like this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/action_item_one&quot;\r\n        android:icon=&quot;@drawable/ic_help&quot;\r\n        app:showAsAction=&quot;always&quot;\r\n        android:title=&quot;Hilfe&quot;&gt;\r\n    &lt;/item&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/action_item_two&quot;\r\n        android:icon=&quot;@drawable/ic_forward_30_48px&quot;\r\n        app:showAsAction=&quot;always&quot;\r\n        android:title=&quot;Sekunden&quot;&gt;\r\n    &lt;/item&gt;\r\n\r\n&lt;/menu&gt;\r\n```\r\nIn an old version of the main menu I used drawable/ic_baseline_pause_24 as icon-source to test the menu and it worked.\r\n\r\nAfter this I changed the icon-sources to the final ones, but the icons where still the old one.\r\n\r\nI deleted the old icon source (drawable/ic_baseline_pause_24 and from now on I have the following error when trying to start the app:\r\n[datafile to the app]\\app\\src\\main\\res\\menu\\main.xml:4: AAPT: error: resource drawable/ic_baseline_pause_24 (aka [...]:drawable/ic_baseline_pause_24) not found.\r\n\r\nIn line 4 of old menu version stood the old icon-source but now it stands nowhere and I have no idea how to solve this error.\r\n\r\nI tried to restart everything including (invalidate Caches and restarting Android Studio)\r\n\r\nI hope somebody can help!\r\nThanks","title":"Android Studio | Error &quot;resource not found&quot; for no longer called resource","body":"<p>fist off all the code:\nFollowing lines are in my MainActivity.java</p>\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.main, menu);\n    return true;\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    // Handle action bar item clicks here. The action bar will\n    // automatically handle clicks on the Home/Up button, so long\n    // as you specify a parent activity in AndroidManifest.xml.\n    int id = item.getItemId();\n\n    View view = findViewById(R.id.action_item_two);\n\n    //noinspection SimplifiableIfStatement\n    if (id == R.id.action_item_one) {\n        // Do thing one\n        return true;\n    }\n    if (id == R.id.action_item_two) {\n        // Do thing two\n        return true;\n    }\n\n    return super.onOptionsItemSelected(item);\n}\n</code></pre>\n<p>My menu has the file res/menu/main.xml and looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    &lt;item\n        android:id=&quot;@+id/action_item_one&quot;\n        android:icon=&quot;@drawable/ic_help&quot;\n        app:showAsAction=&quot;always&quot;\n        android:title=&quot;Hilfe&quot;&gt;\n    &lt;/item&gt;\n    &lt;item\n        android:id=&quot;@+id/action_item_two&quot;\n        android:icon=&quot;@drawable/ic_forward_30_48px&quot;\n        app:showAsAction=&quot;always&quot;\n        android:title=&quot;Sekunden&quot;&gt;\n    &lt;/item&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>In an old version of the main menu I used drawable/ic_baseline_pause_24 as icon-source to test the menu and it worked.</p>\n<p>After this I changed the icon-sources to the final ones, but the icons where still the old one.</p>\n<p>I deleted the old icon source (drawable/ic_baseline_pause_24 and from now on I have the following error when trying to start the app:\n[datafile to the app]\\app\\src\\main\\res\\menu\\main.xml:4: AAPT: error: resource drawable/ic_baseline_pause_24 (aka [...]:drawable/ic_baseline_pause_24) not found.</p>\n<p>In line 4 of old menu version stood the old icon-source but now it stands nowhere and I have no idea how to solve this error.</p>\n<p>I tried to restart everything including (invalidate Caches and restarting Android Studio)</p>\n<p>I hope somebody can help!\nThanks</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1654788134,"post_id":72562869,"comment_id":128180644,"body_markdown":"These should be capitalized: `@Component` and `@Autowired`; along with `Interface1`. Take a look at Java code style conventions.","body":"These should be capitalized: <code>@Component</code> and <code>@Autowired</code>; along with <code>Interface1</code>. Take a look at Java code style conventions."},{"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"score":0,"creation_date":1654788158,"post_id":72562869,"comment_id":128180650,"body_markdown":"its just a pseudo code","body":"its just a pseudo code"},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1654788211,"post_id":72562869,"comment_id":128180670,"body_markdown":"But you tagged it for Spring, and those are actual annotations.","body":"But you tagged it for Spring, and those are actual annotations."},{"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"score":0,"creation_date":1654788332,"post_id":72562869,"comment_id":128180714,"body_markdown":"@Mr.Polywhirl changes does as per your suggestions,thanks","body":"@Mr.Polywhirl changes does as per your suggestions,thanks"},{"owner":{"account_id":77814,"reputation":3385,"user_id":221847,"accept_rate":57,"display_name":"Fu Cheng"},"score":0,"creation_date":1654789216,"post_id":72562869,"comment_id":128181108,"body_markdown":"Are you manually creating new instances of `Test` using `new Test()`, not using dependency injection?","body":"Are you manually creating new instances of <code>Test</code> using <code>new Test()</code>, not using dependency injection?"},{"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"score":0,"creation_date":1654789715,"post_id":72562869,"comment_id":128181310,"body_markdown":"@AlexCheng yes because I am following the others code","body":"@AlexCheng yes because I am following the others code"},{"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"score":0,"creation_date":1654883403,"post_id":72562869,"comment_id":128207025,"body_markdown":"What does your project structur look like? Do you have a multiple modules? Because Spring scans all classes on the same lvl and nested, so you have to tell Spring to scan certain packages for multi module project. (Just anonther thought I had)","body":"What does your project structur look like? Do you have a multiple modules? Because Spring scans all classes on the same lvl and nested, so you have to tell Spring to scan certain packages for multi module project. (Just anonther thought I had)"}],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654789538,"creation_date":1654788769,"answer_id":72563040,"question_id":72562869,"body_markdown":"You can Inject the Interface as parameter into your Bean method and then use the constructor of `Test` to set the field. With that you also get the advantage to set `i1` final :D\r\n\r\n```java\r\n@Bean\r\npublic Test xyx(YourInterface interface){\r\n    Test test = new Test(interface);\r\n    // do stuff \r\n    return Test\r\n}","title":"how to get object from a class which annotated","body":"<p>You can Inject the Interface as parameter into your Bean method and then use the constructor of <code>Test</code> to set the field. With that you also get the advantage to set <code>i1</code> final :D</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Test xyx(YourInterface interface){\n    Test test = new Test(interface);\n    // do stuff \n    return Test\n}\n</code></pre>\n"}],"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654795207,"creation_date":1654788029,"question_id":72562869,"body_markdown":"I have a class lets say Test as below\r\n\r\n   \r\n\r\n    @Component\r\n    public class Test implements TestInterface\r\n    \r\n    @Autowired \r\n    private interface1 i1;\r\n\r\nThere is a class C1\r\n\r\n    @Component \r\n    public class C1 implements interface1 \r\n\r\nand I am calling this class as below\r\n\r\n    @Bean\r\n    public void xyx(){\r\n    \r\n    new Test();\r\n\r\nwhen I debug then I am getting i1 as null. \r\n\r\nPlease advise what I am doing wrong \r\n\r\nNote:. I have to use class Test inside xyx() because its a pseudo code and there lots of codes inside xyx()","title":"how to get object from a class which annotated","body":"<p>I have a class lets say Test as below</p>\n<pre><code>@Component\npublic class Test implements TestInterface\n\n@Autowired \nprivate interface1 i1;\n</code></pre>\n<p>There is a class C1</p>\n<pre><code>@Component \npublic class C1 implements interface1 \n</code></pre>\n<p>and I am calling this class as below</p>\n<pre><code>@Bean\npublic void xyx(){\n\nnew Test();\n</code></pre>\n<p>when I debug then I am getting i1 as null.</p>\n<p>Please advise what I am doing wrong</p>\n<p>Note:. I have to use class Test inside xyx() because its a pseudo code and there lots of codes inside xyx()</p>\n"},{"tags":["java","rest","glassfish","jersey","jax-rs"],"answers":[{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":88,"is_accepted":true,"score":88,"last_activity_date":1649466344,"creation_date":1385616848,"answer_id":20258438,"question_id":19452887,"body_markdown":"If you&#39;re using Maven, use the following dependency:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.22.2&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nFor Gradle, the following will work:\r\n\r\n    testImplementation &#39;org.glassfish.jersey.core:jersey-common:2.22.2&#39;","title":"org.glassfish.jersey.internal.RuntimeDelegateImpl NOT FOUND","body":"<p>If you're using Maven, use the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\n    &lt;version&gt;2.22.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For Gradle, the following will work:</p>\n<pre><code>testImplementation 'org.glassfish.jersey.core:jersey-common:2.22.2'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3353441,"reputation":51,"user_id":2816961,"display_name":"Shahadet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1463122845,"creation_date":1463122845,"answer_id":37203266,"question_id":19452887,"body_markdown":"In my case the problem was for another Jar being used named: \r\n**javax.ws.rs-api-2.0.jar**\r\n\r\nRemoving that jar solved my problem.\r\n\r\nThe jar that I have used:\r\n\r\n    &lt;include name=&quot;jersey-client-1.9.jar&quot; /&gt;\r\n    &lt;include name=&quot;jersey-core-1.9.jar&quot; /&gt;\r\n    &lt;include name=&quot;jersey-multipart-1.9.jar&quot; /&gt;","title":"org.glassfish.jersey.internal.RuntimeDelegateImpl NOT FOUND","body":"<p>In my case the problem was for another Jar being used named: \n<strong>javax.ws.rs-api-2.0.jar</strong></p>\n\n<p>Removing that jar solved my problem.</p>\n\n<p>The jar that I have used:</p>\n\n<pre><code>&lt;include name=\"jersey-client-1.9.jar\" /&gt;\n&lt;include name=\"jersey-core-1.9.jar\" /&gt;\n&lt;include name=\"jersey-multipart-1.9.jar\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62381,"reputation":174,"user_id":185390,"display_name":"Thomas Newman"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1480641094,"creation_date":1480641094,"answer_id":40923185,"question_id":19452887,"body_markdown":"Developing against a Wildfly 10.1 runtime I didn&#39;t want to introduce Jersey into my builds. With Gradle I used\r\n\r\n    testRuntime &quot;org.jboss.resteasy:resteasy-jaxrs:$versions.resteasy&quot;\r\n\r\nresteasy version is 3.0.19.Final. This jar contains \r\n\r\n    META-INF/services/javax.ws.rs.ext.RuntimeDelegate\r\nwith an entry\r\n\r\n    org.jboss.resteasy.spi.ResteasyProviderFactory","title":"org.glassfish.jersey.internal.RuntimeDelegateImpl NOT FOUND","body":"<p>Developing against a Wildfly 10.1 runtime I didn't want to introduce Jersey into my builds. With Gradle I used</p>\n\n<pre><code>testRuntime \"org.jboss.resteasy:resteasy-jaxrs:$versions.resteasy\"\n</code></pre>\n\n<p>resteasy version is 3.0.19.Final. This jar contains </p>\n\n<pre><code>META-INF/services/javax.ws.rs.ext.RuntimeDelegate\n</code></pre>\n\n<p>with an entry</p>\n\n<pre><code>org.jboss.resteasy.spi.ResteasyProviderFactory\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5039176,"reputation":91,"user_id":4047132,"display_name":"Adrienne Dunham"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1505775035,"creation_date":1505775035,"answer_id":46289242,"question_id":19452887,"body_markdown":"    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\r\n        &lt;version&gt;2.26&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI ran into issues with Java 8 and jersey-common 2.22.2 but 2.26 worked.","title":"org.glassfish.jersey.internal.RuntimeDelegateImpl NOT FOUND","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-common&lt;/artifactId&gt;\n    &lt;version&gt;2.26&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I ran into issues with Java 8 and jersey-common 2.22.2 but 2.26 worked.</p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602114084,"creation_date":1602114084,"answer_id":64253770,"question_id":19452887,"body_markdown":"tl;dr if you&#39;re using jersey-client 1.x within an app that has a &quot;provider&quot; class also present, and you have rs-api-2.1.jar there, you need to add jersey-server 1.x or remove rs-api-2.1 if you happen to also have jsr311-api-1.1.1 present.\r\n\r\nAppears this is what is happening:\r\n\r\nApparently jersey-client, when it is first coming up, tries to create a &quot;mime map&quot; of different mime types.  \r\n\r\njersey-core 1.x ContextResolverFactory:\r\n\r\n      public void init(ProviderServices providersServices, InjectableProviderFactory ipf) {\r\n        Map&lt;Type, Map&lt;MediaType, List&lt;ContextResolver&gt;&gt;&gt; rs = new HashMap();\r\n        Set&lt;ContextResolver&gt; providers = providersServices.getProviders(ContextResolver.class);\r\n        Iterator i$ = providers.iterator();\r\n    \r\n        while(i$.hasNext()) {\r\n          ContextResolver provider = (ContextResolver)i$.next();\r\n          List&lt;MediaType&gt; ms = MediaTypes.createMediaTypes((Produces)provider.getClass().getAnnotation(Produces.class));\r\n           ...\r\n\r\nSo if there are any &quot;providers&quot; kicking around (ex: `@Produces ({MediaType.WILDCARD})`), it tries to lookup their type and add it to the mime type lists.  However, it does it the following:     \r\n\r\nif you have rs-api-2.1.jar:\r\n\r\n     private static RuntimeDelegate findDelegate() {\r\n       try {\r\n    Object delegate = FactoryFinder.find(&quot;javax.ws.rs.ext.RuntimeDelegate&quot;, &quot;org.glassfish.jersey.internal.RuntimeDelegateImpl&quot;, RuntimeDelegate.class);\r\n\r\nIf you have the following other dependency, it appears to implement it slightly differently:\r\n\r\njsr311-api-1.1.1.jar:\r\n\r\n\r\n     private static RuntimeDelegate findDelegate() {\r\n       try {\r\n         Object delegate = FactoryFinder.find(&quot;javax.ws.rs.ext.RuntimeDelegate&quot;, &quot;com.sun.ws.rs.ext.RuntimeDelegateImpl&quot;);\r\n\r\nJersey 1.x client happens to provide `./jersey-client-.19/com/sun/ws/rs/ext/RuntimeDelegateImpl.class`\r\n\r\nWhereas Jersey 1.x server provides:\r\n\r\n`./jersey-server-1.19/com/sun/jersey/server/impl/provider/RuntimeDelegateImpl.class`\r\n\r\njersey 2.0 is &quot;org.glassfish.jersey...&quot; and provides &quot;org.glassfish.jersey.internal.RuntimeDelegateImpl&quot; (apparently sanely)\r\n\r\nSo it appears to me that `rs-api-2.1` basically targets jersey 2.x by default.  But happens to work with jersey-client 1.x if you also include jersey-server.\r\n\r\nWith jersey 2.x you don&#39;t need to include the &quot;server to use the client&quot; in such a weird way, seems to just work.\r\n\r\nMy hunch is either the API changed (you&#39;re not supposed to combine jersey 1.x with jsr-2? huh?), or maybe accidental flub, or bug, or poor design of jersey-client 1.x, who knows.\r\n\r\nAdding things that happen to add &quot;jersey 2.x&quot; or &quot;jersey-server 1.x&quot; transitively also works.\r\n\r\nThese worked around the following runtime failure:\r\n```\r\nCaused by: java.lang.ExceptionInInitializerError: null\r\n\tat com.sun.jersey.core.spi.factory.ContextResolverFactory.init(ContextResolverFactory.java:86)\r\n\tat com.sun.jersey.api.client.Client.init(Client.java:340)\r\n\tat com.sun.jersey.api.client.Client.access$000(Client.java:119)\r\n\tat com.sun.jersey.api.client.Client$1.f(Client.java:192)\r\n\tat com.sun.jersey.api.client.Client$1.f(Client.java:188)\r\n\tat com.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:193)\r\n\tat com.sun.jersey.api.client.Client.&lt;init&gt;(Client.java:188)\r\n\tat com.sun.jersey.api.client.Client.&lt;init&gt;(Client.java:171)\r\n\tat redacted\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\tat org.familysearch.digitalarchive.aggregator.integration.ServiceAccountConfig$$EnhancerBySpringCGLIB$$a3409578.identityService(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 29 common frames omitted\r\nCaused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: org.glassfish.jersey.internal.RuntimeDelegateImpl\r\n\tat javax.ws.rs.ext.RuntimeDelegate.findDelegate(RuntimeDelegate.java:154)\r\n\tat javax.ws.rs.ext.RuntimeDelegate.getInstance(RuntimeDelegate.java:121)\r\n\tat javax.ws.rs.core.MediaType.valueOf(MediaType.java:196)\r\n\tat com.sun.jersey.core.header.MediaTypes.&lt;clinit&gt;(MediaTypes.java:65)\r\n\t... 48 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.glassfish.jersey.internal.RuntimeDelegateImpl\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:264)\r\n\tat javax.ws.rs.ext.FactoryFinder.newInstance(FactoryFinder.java:111)\r\n\tat javax.ws.rs.ext.FactoryFinder.find(FactoryFinder.java:209)\r\n\tat javax.ws.rs.ext.RuntimeDelegate.findDelegate(RuntimeDelegate.java:136)\r\n\t... 51 common frames omitted\r\n```","title":"org.glassfish.jersey.internal.RuntimeDelegateImpl NOT FOUND","body":"<p>tl;dr if you're using jersey-client 1.x within an app that has a &quot;provider&quot; class also present, and you have rs-api-2.1.jar there, you need to add jersey-server 1.x or remove rs-api-2.1 if you happen to also have jsr311-api-1.1.1 present.</p>\n<p>Appears this is what is happening:</p>\n<p>Apparently jersey-client, when it is first coming up, tries to create a &quot;mime map&quot; of different mime types.</p>\n<p>jersey-core 1.x ContextResolverFactory:</p>\n<pre><code>  public void init(ProviderServices providersServices, InjectableProviderFactory ipf) {\n    Map&lt;Type, Map&lt;MediaType, List&lt;ContextResolver&gt;&gt;&gt; rs = new HashMap();\n    Set&lt;ContextResolver&gt; providers = providersServices.getProviders(ContextResolver.class);\n    Iterator i$ = providers.iterator();\n\n    while(i$.hasNext()) {\n      ContextResolver provider = (ContextResolver)i$.next();\n      List&lt;MediaType&gt; ms = MediaTypes.createMediaTypes((Produces)provider.getClass().getAnnotation(Produces.class));\n       ...\n</code></pre>\n<p>So if there are any &quot;providers&quot; kicking around (ex: <code>@Produces ({MediaType.WILDCARD})</code>), it tries to lookup their type and add it to the mime type lists.  However, it does it the following:</p>\n<p>if you have rs-api-2.1.jar:</p>\n<pre><code> private static RuntimeDelegate findDelegate() {\n   try {\nObject delegate = FactoryFinder.find(&quot;javax.ws.rs.ext.RuntimeDelegate&quot;, &quot;org.glassfish.jersey.internal.RuntimeDelegateImpl&quot;, RuntimeDelegate.class);\n</code></pre>\n<p>If you have the following other dependency, it appears to implement it slightly differently:</p>\n<p>jsr311-api-1.1.1.jar:</p>\n<pre><code> private static RuntimeDelegate findDelegate() {\n   try {\n     Object delegate = FactoryFinder.find(&quot;javax.ws.rs.ext.RuntimeDelegate&quot;, &quot;com.sun.ws.rs.ext.RuntimeDelegateImpl&quot;);\n</code></pre>\n<p>Jersey 1.x client happens to provide <code>./jersey-client-.19/com/sun/ws/rs/ext/RuntimeDelegateImpl.class</code></p>\n<p>Whereas Jersey 1.x server provides:</p>\n<p><code>./jersey-server-1.19/com/sun/jersey/server/impl/provider/RuntimeDelegateImpl.class</code></p>\n<p>jersey 2.0 is &quot;org.glassfish.jersey...&quot; and provides &quot;org.glassfish.jersey.internal.RuntimeDelegateImpl&quot; (apparently sanely)</p>\n<p>So it appears to me that <code>rs-api-2.1</code> basically targets jersey 2.x by default.  But happens to work with jersey-client 1.x if you also include jersey-server.</p>\n<p>With jersey 2.x you don't need to include the &quot;server to use the client&quot; in such a weird way, seems to just work.</p>\n<p>My hunch is either the API changed (you're not supposed to combine jersey 1.x with jsr-2? huh?), or maybe accidental flub, or bug, or poor design of jersey-client 1.x, who knows.</p>\n<p>Adding things that happen to add &quot;jersey 2.x&quot; or &quot;jersey-server 1.x&quot; transitively also works.</p>\n<p>These worked around the following runtime failure:</p>\n<pre><code>Caused by: java.lang.ExceptionInInitializerError: null\n    at com.sun.jersey.core.spi.factory.ContextResolverFactory.init(ContextResolverFactory.java:86)\n    at com.sun.jersey.api.client.Client.init(Client.java:340)\n    at com.sun.jersey.api.client.Client.access$000(Client.java:119)\n    at com.sun.jersey.api.client.Client$1.f(Client.java:192)\n    at com.sun.jersey.api.client.Client$1.f(Client.java:188)\n    at com.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:193)\n    at com.sun.jersey.api.client.Client.&lt;init&gt;(Client.java:188)\n    at com.sun.jersey.api.client.Client.&lt;init&gt;(Client.java:171)\n    at redacted\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n    at org.familysearch.digitalarchive.aggregator.integration.ServiceAccountConfig$$EnhancerBySpringCGLIB$$a3409578.identityService(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 29 common frames omitted\nCaused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: org.glassfish.jersey.internal.RuntimeDelegateImpl\n    at javax.ws.rs.ext.RuntimeDelegate.findDelegate(RuntimeDelegate.java:154)\n    at javax.ws.rs.ext.RuntimeDelegate.getInstance(RuntimeDelegate.java:121)\n    at javax.ws.rs.core.MediaType.valueOf(MediaType.java:196)\n    at com.sun.jersey.core.header.MediaTypes.&lt;clinit&gt;(MediaTypes.java:65)\n    ... 48 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.glassfish.jersey.internal.RuntimeDelegateImpl\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:264)\n    at javax.ws.rs.ext.FactoryFinder.newInstance(FactoryFinder.java:111)\n    at javax.ws.rs.ext.FactoryFinder.find(FactoryFinder.java:209)\n    at javax.ws.rs.ext.RuntimeDelegate.findDelegate(RuntimeDelegate.java:136)\n    ... 51 common frames omitted\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14449831,"reputation":29,"user_id":10437734,"display_name":"Gaurav Sharma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1605656466,"creation_date":1605656466,"answer_id":64884993,"question_id":19452887,"body_markdown":"    compile &#39;org.springframework.boot:spring-boot-starter-jersey:1.2.0.RELEASE&#39;\r\n\r\nThis worked for me!!!","title":"org.glassfish.jersey.internal.RuntimeDelegateImpl NOT FOUND","body":"<pre><code>compile 'org.springframework.boot:spring-boot-starter-jersey:1.2.0.RELEASE'\n</code></pre>\n<p>This worked for me!!!</p>\n"},{"tags":[],"owner":{"account_id":13932107,"reputation":31,"user_id":10060063,"display_name":"Danish Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654794143,"creation_date":1654794143,"answer_id":72564111,"question_id":19452887,"body_markdown":"Please use UriComponents instead URI\r\n\r\n\r\n\r\n    UriComponents uriComponents = UriComponentsBuilder.fromUriString(&quot;http://localhost:8000&quot;).build();\r\n\r\nThen you can get URI object like \r\n&lt;pre&gt;uriComponents.toUri()&lt;/pre&gt;","title":"org.glassfish.jersey.internal.RuntimeDelegateImpl NOT FOUND","body":"<p>Please use UriComponents instead URI</p>\n<pre><code>UriComponents uriComponents = UriComponentsBuilder.fromUriString(&quot;http://localhost:8000&quot;).build();\n</code></pre>\n<p>Then you can get URI object like</p>\n<pre>uriComponents.toUri()</pre>\n"}],"owner":{"account_id":2973632,"reputation":635,"user_id":2525185,"accept_rate":100,"display_name":"Spark8006"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76296,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":20258438,"answer_count":7,"score":47,"last_activity_date":1654794143,"creation_date":1382108597,"question_id":19452887,"body_markdown":"I am using jersey for my project and tring to parse a URI from a string.\r\n\r\n    UriBuilder.fromUri(&quot;http://localhost:8000&quot;).build();\r\n\r\nThe code is simple, but I get a error below\r\n\r\n    java.lang.ClassNotFoundException: org.glassfish.jersey.internal.RuntimeDelegateImpl\r\n\r\nIt seems the program can not find the delegate. I already imported `javax.ws.rs.core.UriBuilder` and have `jersey-common 2.0` that should contain the delegate in my build path. But I still get this error.\r\n\r\nDoes someone know how to fix it? Thanks!","title":"org.glassfish.jersey.internal.RuntimeDelegateImpl NOT FOUND","body":"<p>I am using jersey for my project and tring to parse a URI from a string.</p>\n\n<pre><code>UriBuilder.fromUri(\"http://localhost:8000\").build();\n</code></pre>\n\n<p>The code is simple, but I get a error below</p>\n\n<pre><code>java.lang.ClassNotFoundException: org.glassfish.jersey.internal.RuntimeDelegateImpl\n</code></pre>\n\n<p>It seems the program can not find the delegate. I already imported <code>javax.ws.rs.core.UriBuilder</code> and have <code>jersey-common 2.0</code> that should contain the delegate in my build path. But I still get this error.</p>\n\n<p>Does someone know how to fix it? Thanks!</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1654794067,"post_id":72564070,"comment_id":128182874,"body_markdown":"`super.setContentView(view);` – Looks like you meant for that to be `super.setContentView(drawerLayout);` instead.","body":"<code>super.setContentView(view);</code> – Looks like you meant for that to be <code>super.setContentView(drawerLayout);</code> instead."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1654812632,"post_id":72564070,"comment_id":128188103,"body_markdown":"Your code doesn&#39;t make much sense. You have one `Activity` class that extends another `Activity` class and in `onCreate()` you call through to `super.onCreate()` and in each class&#39; `onCreate()` you call `setContentView()`. You should only call `setContentView()` once in each `Activity`.","body":"Your code doesn&#39;t make much sense. You have one <code>Activity</code> class that extends another <code>Activity</code> class and in <code>onCreate()</code> you call through to <code>super.onCreate()</code> and in each class&#39; <code>onCreate()</code> you call <code>setContentView()</code>. You should only call <code>setContentView()</code> once in each <code>Activity</code>."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1654812853,"post_id":72564070,"comment_id":128188146,"body_markdown":"@DavidWasser Look closer. `DrawerBaseActivity` does not override `onCreate()`. It&#39;s overriding `setContentView()` to wrap the subclass&#39;s `View` in the `DrawerLayout` setup.","body":"@DavidWasser Look closer. <code>DrawerBaseActivity</code> does not override <code>onCreate()</code>. It&#39;s overriding <code>setContentView()</code> to wrap the subclass&#39;s <code>View</code> in the <code>DrawerLayout</code> setup."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1654814507,"post_id":72564070,"comment_id":128188438,"body_markdown":"OK, my bad. It is after midnight. Looks like Mike M&#39;s comment is your problem.","body":"OK, my bad. It is after midnight. Looks like Mike M&#39;s comment is your problem."}],"owner":{"account_id":23064957,"reputation":11,"user_id":17179522,"display_name":"Luqman Ahmed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654793894,"creation_date":1654793894,"question_id":72564070,"body_markdown":"1. Below are my both activities which i am calling . \r\n2. I know this is answered before but my case seems to be different. \r\n3. Can somebody look into this?  \r\n\r\n  \r\n\r\n      import android.os.Bundle;\r\n        import android.view.View;\r\n        \r\n        import com.example.mediapipeposetracking.databinding.ActivityDashboardBinding;\r\n        \r\n        public class DashboardActivity extends DrawerBaseActivity{\r\n        ActivityDashboardBinding activityDashboardBinding;\r\n        \r\n        \r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n        activityDashboardBinding = ActivityDashboardBinding.inflate(getLayoutInflater());\r\n        setContentView(activityDashboardBinding.getRoot());\r\n            }\r\n        \r\n        }\r\n    \r\n    --------------------------------------------------------------------------------\r\n    Second Activity\r\n        import androidx.annotation.NonNull;\r\n        import androidx.appcompat.app.ActionBarDrawerToggle;\r\n        import androidx.appcompat.app.AppCompatActivity;\r\n        import androidx.appcompat.widget.Toolbar;\r\n        import androidx.drawerlayout.widget.DrawerLayout;\r\n        \r\n        import android.os.Bundle;\r\n        import android.view.MenuItem;\r\n        import android.view.View;\r\n        import android.view.ViewGroup;\r\n        import android.widget.FrameLayout;\r\n        \r\n        import com.google.android.material.navigation.NavigationView;\r\n        \r\n        public class DrawerBaseActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n        \r\n           DrawerLayout drawerLayout;\r\n        \r\n            @Override\r\n            public void setContentView(View view) {\r\n                drawerLayout=(DrawerLayout) getLayoutInflater().inflate(R.layout.activity_drawer_base,null);\r\n                FrameLayout container=drawerLayout.findViewById(R.id.activityContainer);\r\n                container.addView(view);\r\n        \r\n                super.setContentView(view);\r\n                Toolbar toolbar =drawerLayout.findViewById(R.id.toolBar);\r\n                setSupportActionBar(toolbar);\r\n                NavigationView navigationView=drawerLayout.findViewById(R.id.nav_view);\r\n                navigationView.setNavigationItemSelectedListener(this);\r\n        \r\n                ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this,drawerLayout,R.string.menu_drawer_open, R.string.menu_drawer_close);\r\n                drawerLayout.addDrawerListener(toggle);\r\n                toggle.syncState();\r\n            }\r\n        \r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                return false;\r\n            }\r\n        \r\n            protected void allocateActivityTitle(String titleString){\r\n                if(getSupportActionBar()!=null){\r\n                    getSupportActionBar().setTitle(titleString);\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n        Caused by: java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child&#39;s parent first.\r\n                at android.view.ViewGroup.addViewInner(ViewGroup.java:5235)\r\n                at android.view.ViewGroup.addView(ViewGroup.java:5064)\r\n                at android.view.ViewGroup.addView(ViewGroup.java:5004)\r\n                at android.view.ViewGroup.addView(ViewGroup.java:4976)\r\n                at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:687)\r\n                at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:175)\r\n                at com.example.mediapipeposetracking.DrawerBaseActivity.setContentView(DrawerBaseActivity.java:27)\r\n                at com.example.mediapipeposetracking.DashboardActivity.onCreate(DashboardActivity.java:17)\r\n\r\n\r\n","title":"You must call removeView() on the child&#39;s parent first Android Studio","body":"<ol>\n<li><p>Below are my both activities which i am calling .</p>\n</li>\n<li><p>I know this is answered before but my case seems to be different.</p>\n</li>\n<li><p>Can somebody look into this?</p>\n<p>import android.os.Bundle;\nimport android.view.View;</p>\n<pre><code> import com.example.mediapipeposetracking.databinding.ActivityDashboardBinding;\n\n public class DashboardActivity extends DrawerBaseActivity{\n ActivityDashboardBinding activityDashboardBinding;\n\n\n     protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n activityDashboardBinding = ActivityDashboardBinding.inflate(getLayoutInflater());\n setContentView(activityDashboardBinding.getRoot());\n     }\n\n }\n</code></pre>\n<hr />\n<p>Second Activity\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.drawerlayout.widget.DrawerLayout;</p>\n<pre><code> import android.os.Bundle;\n import android.view.MenuItem;\n import android.view.View;\n import android.view.ViewGroup;\n import android.widget.FrameLayout;\n\n import com.google.android.material.navigation.NavigationView;\n\n public class DrawerBaseActivity extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\n\n    DrawerLayout drawerLayout;\n\n     @Override\n     public void setContentView(View view) {\n         drawerLayout=(DrawerLayout) getLayoutInflater().inflate(R.layout.activity_drawer_base,null);\n         FrameLayout container=drawerLayout.findViewById(R.id.activityContainer);\n         container.addView(view);\n\n         super.setContentView(view);\n         Toolbar toolbar =drawerLayout.findViewById(R.id.toolBar);\n         setSupportActionBar(toolbar);\n         NavigationView navigationView=drawerLayout.findViewById(R.id.nav_view);\n         navigationView.setNavigationItemSelectedListener(this);\n\n         ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this,drawerLayout,R.string.menu_drawer_open, R.string.menu_drawer_close);\n         drawerLayout.addDrawerListener(toggle);\n         toggle.syncState();\n     }\n\n     @Override\n     public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n         return false;\n     }\n\n     protected void allocateActivityTitle(String titleString){\n         if(getSupportActionBar()!=null){\n             getSupportActionBar().setTitle(titleString);\n         }\n     }\n }\n\n\n Caused by: java.lang.IllegalStateException: The specified child already has a parent. You must call removeView() on the child's parent first.\n         at android.view.ViewGroup.addViewInner(ViewGroup.java:5235)\n         at android.view.ViewGroup.addView(ViewGroup.java:5064)\n         at android.view.ViewGroup.addView(ViewGroup.java:5004)\n         at android.view.ViewGroup.addView(ViewGroup.java:4976)\n         at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:687)\n         at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:175)\n         at com.example.mediapipeposetracking.DrawerBaseActivity.setContentView(DrawerBaseActivity.java:27)\n         at com.example.mediapipeposetracking.DashboardActivity.onCreate(DashboardActivity.java:17)\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":4618281,"reputation":301,"user_id":4402902,"display_name":"Mohamed Hamza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654791240,"creation_date":1654791240,"answer_id":72563581,"question_id":72563175,"body_markdown":"You can use `setImageResource()` for this:\r\n\r\n    pic.setImageResource(R.drawable.image);\r\n\r\n\r\n----------\r\n\r\n\r\nMore about it [here][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/ImageView#setImageResource(int)","title":"How do I access an image as a Drawable in AndroidStudio?","body":"<p>You can use <code>setImageResource()</code> for this:</p>\n<pre><code>pic.setImageResource(R.drawable.image);\n</code></pre>\n<hr />\n<p>More about it <a href=\"https://developer.android.com/reference/android/widget/ImageView#setImageResource(int)\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":12518217,"reputation":649,"user_id":9110576,"display_name":"Haseeb Hassan Asif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654793832,"creation_date":1654793832,"answer_id":72564058,"question_id":72563175,"body_markdown":"Use this for java\r\n```\r\nContextCompat.getDrawable(getActivity(), R.drawable.drawable_resource_name);\r\n```\r\nand then set this drawable to your image view\r\n","title":"How do I access an image as a Drawable in AndroidStudio?","body":"<p>Use this for java</p>\n<pre><code>ContextCompat.getDrawable(getActivity(), R.drawable.drawable_resource_name);\n</code></pre>\n<p>and then set this drawable to your image view</p>\n"}],"owner":{"account_id":9029790,"reputation":361,"user_id":9686427,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1654793832,"creation_date":1654789447,"question_id":72563175,"body_markdown":"I&#39;m working on an android app using java in AndroidStudio. I have an `ImageView pic` and I want to set its image as a .png that I have saved in my `/drawable` folder. I may try\r\n\r\n    pic.setImageDrawable(R.drawable.image_name);\r\n\r\nHowever, `setImageDrawable()` requires a Drawable, while `R.drawable.image_name` returns an Integer (the ID of the image).\r\n\r\n---\r\n\r\nHow may I resolve this?\r\n","title":"How do I access an image as a Drawable in AndroidStudio?","body":"<p>I'm working on an android app using java in AndroidStudio. I have an <code>ImageView pic</code> and I want to set its image as a .png that I have saved in my <code>/drawable</code> folder. I may try</p>\n<pre><code>pic.setImageDrawable(R.drawable.image_name);\n</code></pre>\n<p>However, <code>setImageDrawable()</code> requires a Drawable, while <code>R.drawable.image_name</code> returns an Integer (the ID of the image).</p>\n<hr />\n<p>How may I resolve this?</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":10034154,"reputation":479,"user_id":7419493,"display_name":"justis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654792608,"creation_date":1654792608,"answer_id":72563815,"question_id":72562072,"body_markdown":"If you want to ensure that the class and object are of the same type, you’re going to need to make your own mapping class which enforces that, or use an existing one like Guava’s [ClassToInstanceMap][1].\r\n\r\nIf it’s sufficient for you to simply put and get a Command instance out of your map given a class, then I’d recommend simply dropping the second wildcard:\r\n\r\n\r\n    private static Map&lt;Class&lt;? extends Command&gt;, Command&gt; instances;\r\n    \r\n\r\nThere are a lot of great existing answers which explain the behavior of the extends wildcard and why you’re getting the warning that you are when attempting to insert one of your command instances. I definitely recommend giving them a read: https://stackoverflow.com/questions/4343202/difference-between-super-t-and-extends-t-in-java\r\n\r\n\r\n  [1]: https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ClassToInstanceMap.java","title":"Java - Get instance of each subclass","body":"<p>If you want to ensure that the class and object are of the same type, you’re going to need to make your own mapping class which enforces that, or use an existing one like Guava’s <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/ClassToInstanceMap.java\" rel=\"nofollow noreferrer\">ClassToInstanceMap</a>.</p>\n<p>If it’s sufficient for you to simply put and get a Command instance out of your map given a class, then I’d recommend simply dropping the second wildcard:</p>\n<pre><code>private static Map&lt;Class&lt;? extends Command&gt;, Command&gt; instances;\n</code></pre>\n<p>There are a lot of great existing answers which explain the behavior of the extends wildcard and why you’re getting the warning that you are when attempting to insert one of your command instances. I definitely recommend giving them a read: <a href=\"https://stackoverflow.com/questions/4343202/difference-between-super-t-and-extends-t-in-java\">Difference between &lt;? super T&gt; and &lt;? extends T&gt; in Java</a></p>\n"},{"tags":[],"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654793621,"creation_date":1654793621,"answer_id":72564023,"question_id":72562072,"body_markdown":"This can be achieved by creating special kind of Map where keys type is bound to values type:\r\n\r\n```java\r\n    public class BoundMap&lt;T&gt; extends HashMap&lt;Class&lt;? extends T&gt;, T&gt; {\r\n    }\r\n```\r\n\r\nThen the code becomes:\r\n\r\n```java\r\n    private static BoundMap&lt;Command&gt; instances;\r\n\r\n    public static &lt;T extends Command&gt; void addInstance(Class&lt;T&gt; tClass, T tInstance) {\r\n        instances.put(tClass, tInstance);\r\n    }\r\n```\r\n","title":"Java - Get instance of each subclass","body":"<p>This can be achieved by creating special kind of Map where keys type is bound to values type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class BoundMap&lt;T&gt; extends HashMap&lt;Class&lt;? extends T&gt;, T&gt; {\n    }\n</code></pre>\n<p>Then the code becomes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static BoundMap&lt;Command&gt; instances;\n\n    public static &lt;T extends Command&gt; void addInstance(Class&lt;T&gt; tClass, T tInstance) {\n        instances.put(tClass, tInstance);\n    }\n</code></pre>\n"}],"owner":{"account_id":19331659,"reputation":65,"user_id":14133123,"display_name":"Troughy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72563815,"answer_count":2,"score":1,"last_activity_date":1654793621,"creation_date":1654784778,"question_id":72562072,"body_markdown":"I have an abstract class Command. The constructor looks like this:\r\n\r\n    public Command(String cmd, String helpMsg, String... args) {\r\n        this.command = cmd;\r\n        this.helpMsg = helpMsg;\r\n        this.args = args;\r\n    }\r\nWhenever a certain condition is met, I want to be able to print out each command, it&#39;s help message and arguments. \r\n\r\nIf I could loop through the instances of the subclasses of Command, I could call the getter functions for these attributes. However, I don&#39;t know how I could store instances like this. I&#39;ve been reading about generics but haven&#39;t been able to solve this problem yet.\r\n\r\nRight now I have another class with this code:\r\n\r\n    private static Map&lt;Class&lt;? extends Command&gt;, ? extends Command&gt; instances;\r\n    \r\n    public static &lt;T extends Command&gt; void addInstance(Class&lt;T&gt; tClass, T tInstance) {\r\n        instances.put(tClass, tInstance);\r\n    }\r\n\r\nBut it gives me this error:\r\n\r\n&gt; Required type:\r\ncapture of ? extends Command\r\n\r\n&gt; Provided:\r\nT\r\n\r\nIt would also be nice if I were able to get instances to individual subclasses with `getInstance(subclass.class)`","title":"Java - Get instance of each subclass","body":"<p>I have an abstract class Command. The constructor looks like this:</p>\n<pre><code>public Command(String cmd, String helpMsg, String... args) {\n    this.command = cmd;\n    this.helpMsg = helpMsg;\n    this.args = args;\n}\n</code></pre>\n<p>Whenever a certain condition is met, I want to be able to print out each command, it's help message and arguments.</p>\n<p>If I could loop through the instances of the subclasses of Command, I could call the getter functions for these attributes. However, I don't know how I could store instances like this. I've been reading about generics but haven't been able to solve this problem yet.</p>\n<p>Right now I have another class with this code:</p>\n<pre><code>private static Map&lt;Class&lt;? extends Command&gt;, ? extends Command&gt; instances;\n\npublic static &lt;T extends Command&gt; void addInstance(Class&lt;T&gt; tClass, T tInstance) {\n    instances.put(tClass, tInstance);\n}\n</code></pre>\n<p>But it gives me this error:</p>\n<blockquote>\n<p>Required type:\ncapture of ? extends Command</p>\n</blockquote>\n<blockquote>\n<p>Provided:\nT</p>\n</blockquote>\n<p>It would also be nice if I were able to get instances to individual subclasses with <code>getInstance(subclass.class)</code></p>\n"},{"tags":["java","eclipse","servlets","jakarta-ee"],"comments":[{"owner":{"account_id":4325247,"reputation":12424,"user_id":4390212,"accept_rate":74,"display_name":"DimaSan"},"score":0,"creation_date":1474897407,"post_id":39703906,"comment_id":66707136,"body_markdown":"You can create it without wizard. Just create a class and extend it from `HttpServlet`.","body":"You can create it without wizard. Just create a class and extend it from <code>HttpServlet</code>."},{"owner":{"account_id":6210378,"reputation":587,"user_id":6012309,"accept_rate":94,"display_name":"Khalil Bz"},"score":0,"creation_date":1474903048,"post_id":39703906,"comment_id":66711007,"body_markdown":"Thank you for your help Sir  :) :) :) :)","body":"Thank you for your help Sir  :) :) :) :)"}],"answers":[{"tags":[],"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1474899173,"creation_date":1474898849,"answer_id":39705092,"question_id":39703906,"body_markdown":"Ensure the *Dynamic Web Module* facet is enabled for your project and try writing the package name when creating a servlet.\r\n\r\n---\r\n\r\nBy the way, you don&#39;t need a wizard to create a servlet. Just create a class that extends [`HttpServlet`][2] and annotate it with [`@WebServlet`][1]:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @WebServlet(&quot;/hello-world&quot;)\r\n    public class HelloWorldServlet extends HttpServlet {\r\n        ...\r\n    }\r\n\r\nThen override the `doXXX(HttpServletRequest, HttpServletResponse)` methods to handle the requests.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/servlet/annotation/WebServlet.html\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html","title":"Can&#39;t create a Servlet in eclipse","body":"<p>Ensure the <em>Dynamic Web Module</em> facet is enabled for your project and try writing the package name when creating a servlet.</p>\n\n<hr>\n\n<p>By the way, you don't need a wizard to create a servlet. Just create a class that extends <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServlet.html\" rel=\"nofollow\"><code>HttpServlet</code></a> and annotate it with <a href=\"http://docs.oracle.com/javaee/7/api/javax/servlet/annotation/WebServlet.html\" rel=\"nofollow\"><code>@WebServlet</code></a>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@WebServlet(\"/hello-world\")\npublic class HelloWorldServlet extends HttpServlet {\n    ...\n}\n</code></pre>\n\n<p>Then override the <code>doXXX(HttpServletRequest, HttpServletResponse)</code> methods to handle the requests.</p>\n"},{"tags":[],"owner":{"account_id":9001828,"reputation":1298,"user_id":6787033,"accept_rate":78,"display_name":"Wojtek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474900695,"creation_date":1474900695,"answer_id":39705721,"question_id":39703906,"body_markdown":"It looks like you have forgotten to type the package name. For educational purposes it is enough to write there the project name in lowercase - so in your situation it would be just `mywebtest`.","title":"Can&#39;t create a Servlet in eclipse","body":"<p>It looks like you have forgotten to type the package name. For educational purposes it is enough to write there the project name in lowercase - so in your situation it would be just <code>mywebtest</code>.</p>\n"},{"tags":[],"owner":{"account_id":1230564,"reputation":2043,"user_id":1195268,"accept_rate":50,"display_name":"vinsinraw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654793333,"creation_date":1654793333,"answer_id":72563961,"question_id":39703906,"body_markdown":"**Prechecks** (Eclipse Version: 2022-03 (4.23.0) with java 1.8 and Tomcat v8.5)\r\n\r\n    Rt click on the project &gt; Build Path &gt; Configure Build Path &gt; Project Facets\r\n    Dynamic Web Module: 3.1 or 3.0\r\n    Java: 1.8 or any other version selected\r\n    Javascript: 1.0\r\n\r\n\r\nNow try creating servlet (Rt click src/main/java &gt; New &gt; Servlet &gt; Follow usual instructions as shown). If servlet not created, then try following solution\r\n\r\n**Solution**\r\n\r\n    Rt click on the project &gt; Build Path &gt; Configure Build Path &gt; \r\n    a.\tJava Build Path &gt; Libraries &gt; Remove Apache Tomcat instance, if listed.\r\n    b.\tTargeted Runtimes &gt; Checkmark Apache Tomcat v8.5\r\n    Apply &amp; Close\r\n\r\nNow again try creating servlet, this time it should work and the servlet will be created.","title":"Can&#39;t create a Servlet in eclipse","body":"<p><strong>Prechecks</strong> (Eclipse Version: 2022-03 (4.23.0) with java 1.8 and Tomcat v8.5)</p>\n<pre><code>Rt click on the project &gt; Build Path &gt; Configure Build Path &gt; Project Facets\nDynamic Web Module: 3.1 or 3.0\nJava: 1.8 or any other version selected\nJavascript: 1.0\n</code></pre>\n<p>Now try creating servlet (Rt click src/main/java &gt; New &gt; Servlet &gt; Follow usual instructions as shown). If servlet not created, then try following solution</p>\n<p><strong>Solution</strong></p>\n<pre><code>Rt click on the project &gt; Build Path &gt; Configure Build Path &gt; \na.  Java Build Path &gt; Libraries &gt; Remove Apache Tomcat instance, if listed.\nb.  Targeted Runtimes &gt; Checkmark Apache Tomcat v8.5\nApply &amp; Close\n</code></pre>\n<p>Now again try creating servlet, this time it should work and the servlet will be created.</p>\n"}],"owner":{"account_id":6210378,"reputation":587,"user_id":6012309,"accept_rate":94,"display_name":"Khalil Bz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4403,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":39705092,"answer_count":3,"score":1,"last_activity_date":1654793333,"creation_date":1474895647,"question_id":39703906,"body_markdown":"I&#39;m trying to create a servlet in eclipse but when I create the name of the Servlet the **finish** and the **next** button don&#39;t show up.\n\n &gt; I searched a lot in slack and I verified that:\n &gt;\n &gt; - My project is a Dynamic Web Project\n &gt; - Dynamic Web Module is checked in my Project Propriety\n &gt; - I have followed more than a tutorial and the result is the same\n\nLook at this picture Please:\n[![enter image description here][1]][1]\n\n\n  [1]: http://i.stack.imgur.com/hjChI.png","title":"Can&#39;t create a Servlet in eclipse","body":"<p>I'm trying to create a servlet in eclipse but when I create the name of the Servlet the <strong>finish</strong> and the <strong>next</strong> button don't show up.</p>\n<blockquote>\n<p>I searched a lot in slack and I verified that:</p>\n<ul>\n<li>My project is a Dynamic Web Project</li>\n<li>Dynamic Web Module is checked in my Project Propriety</li>\n<li>I have followed more than a tutorial and the result is the same</li>\n</ul>\n</blockquote>\n<p>Look at this picture Please:\n<a href=\"https://i.stack.imgur.com/hjChI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hjChI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":371249,"reputation":30891,"user_id":719673,"display_name":"Seth Robertson"},"score":0,"creation_date":1308618392,"post_id":6419262,"comment_id":7530558,"body_markdown":"Give international users some love--utf8 for the win!  Also people using punctuation and other special characters should get extra credit.","body":"Give international users some love--utf8 for the win!  Also people using punctuation and other special characters should get extra credit."},{"owner":{"account_id":276050,"reputation":10176,"user_id":569266,"display_name":"phooji"},"score":0,"creation_date":1308618923,"post_id":6419262,"comment_id":7530625,"body_markdown":"@Seth Robertson: I thought Java&#39;s internal representation is UTF-16...","body":"@Seth Robertson: I thought Java&#39;s internal representation is UTF-16..."},{"owner":{"account_id":371249,"reputation":30891,"user_id":719673,"display_name":"Seth Robertson"},"score":0,"creation_date":1308677886,"post_id":6419262,"comment_id":7544234,"body_markdown":"@phooji: Yes, but he is only giving credit for 0-9A-Za-z, not including space-/ :-@ [-` {-~ and then the full UTF-8 character-sets.","body":"@phooji: Yes, but he is only giving credit for 0-9A-Za-z, not including space-/ :-@ [-` {-~ and then the full UTF-8 character-sets."},{"owner":{"account_id":276050,"reputation":10176,"user_id":569266,"display_name":"phooji"},"score":0,"creation_date":1308678162,"post_id":6419262,"comment_id":7544299,"body_markdown":"@Seth Robertson: I guess my (somewhat pedantic) point is that UTF-8 and UTF-16 are binary representations for the same Unicode character set.","body":"@Seth Robertson: I guess my (somewhat pedantic) point is that UTF-8 and UTF-16 are binary representations for the same Unicode character set."},{"owner":{"account_id":371249,"reputation":30891,"user_id":719673,"display_name":"Seth Robertson"},"score":0,"creation_date":1308678474,"post_id":6419262,"comment_id":7544387,"body_markdown":"@phooji: Yes, I&#39;m not saying the code will fail, I&#39;m saying whatever &quot;combinations&quot; is supposed to represent isn&#39;t being increased due to whatever contribution the punctuation, UTF-8, or UTF-16 characters that might be in the password provide.","body":"@phooji: Yes, I&#39;m not saying the code will fail, I&#39;m saying whatever &quot;combinations&quot; is supposed to represent isn&#39;t being increased due to whatever contribution the punctuation, UTF-8, or UTF-16 characters that might be in the password provide."}],"answers":[{"tags":[],"owner":{"account_id":42192,"reputation":3454,"user_id":122860,"display_name":"joeslice"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308618673,"creation_date":1308618673,"answer_id":6419308,"question_id":6419262,"body_markdown":"The problem is that `matches` tries to match the entire input string.\r\n\r\nInstead, try creating a `Pattern`, then from there create a `Matcher`, and then use the [find][1] method.\r\n\r\nThe [Pattern javadoc][2] should help a great deal.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/regex/Matcher.html#find%28%29\r\n  [2]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Pattern.html","title":"String contains at least one digit","body":"<p>The problem is that <code>matches</code> tries to match the entire input string.</p>\n\n<p>Instead, try creating a <code>Pattern</code>, then from there create a <code>Matcher</code>, and then use the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/regex/Matcher.html#find%28%29\" rel=\"nofollow\">find</a> method.</p>\n\n<p>The <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow\">Pattern javadoc</a> should help a great deal.</p>\n"},{"tags":[],"owner":{"account_id":169874,"reputation":396,"user_id":396214,"display_name":"Hrzio"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1308618951,"creation_date":1308618951,"answer_id":6419337,"question_id":6419262,"body_markdown":"You could use Pattern instead, I think &quot;matches&quot; method looks for the whole string to match the regular expression.\r\n\r\nTry the next code:\r\n\r\n        int combinations = 0;\r\n        String pass = &quot;!!AAabas1&quot;;\r\n        if (Pattern.compile(&quot;[0-9]&quot;).matcher(pass).find()) {\r\n            combinations = combinations + 10;\r\n        }\r\n\r\n        if (Pattern.compile(&quot;[a-z]&quot;).matcher(pass).find()) {\r\n            combinations = combinations + 26;\r\n        }\r\n\r\n        if (Pattern.compile(&quot;[A-Z]&quot;).matcher(pass).find()) {\r\n            combinations = combinations + 26;\r\n        }","title":"String contains at least one digit","body":"<p>You could use Pattern instead, I think \"matches\" method looks for the whole string to match the regular expression.</p>\n\n<p>Try the next code:</p>\n\n<pre><code>    int combinations = 0;\n    String pass = \"!!AAabas1\";\n    if (Pattern.compile(\"[0-9]\").matcher(pass).find()) {\n        combinations = combinations + 10;\n    }\n\n    if (Pattern.compile(\"[a-z]\").matcher(pass).find()) {\n        combinations = combinations + 26;\n    }\n\n    if (Pattern.compile(\"[A-Z]\").matcher(pass).find()) {\n        combinations = combinations + 26;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7848,"reputation":108920,"user_id":13792,"accept_rate":100,"display_name":"ColinD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1308620883,"creation_date":1308620883,"answer_id":6419512,"question_id":6419262,"body_markdown":"While using a regex for this can obviously work, [Guava][1]&#39;s [CharMatcher][2] class might be a bit more appropriate to what you&#39;re trying to do:\r\n\r\n    if (CharMatcher.inRange(&#39;0&#39;, &#39;9&#39;).matchesAnyOf(pass))\r\n      combinations += 10;\r\n    if (CharMatcher.inRange(&#39;a&#39;, &#39;z&#39;).matchesAnyOf(pass))\r\n      combinations += 26;\r\n    if (CharMatcher.inRange(&#39;A&#39;, &#39;Z&#39;).matchesAnyOf(pass))\r\n      combinations += 26;\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com\r\n  [2]: http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/base/CharMatcher.html","title":"String contains at least one digit","body":"<p>While using a regex for this can obviously work, <a href=\"http://guava-libraries.googlecode.com\" rel=\"nofollow\">Guava</a>'s <a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/base/CharMatcher.html\" rel=\"nofollow\">CharMatcher</a> class might be a bit more appropriate to what you're trying to do:</p>\n\n<pre><code>if (CharMatcher.inRange('0', '9').matchesAnyOf(pass))\n  combinations += 10;\nif (CharMatcher.inRange('a', 'z').matchesAnyOf(pass))\n  combinations += 26;\nif (CharMatcher.inRange('A', 'Z').matchesAnyOf(pass))\n  combinations += 26;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":414580,"reputation":8014,"user_id":788883,"accept_rate":100,"display_name":"hoipolloi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1308621892,"creation_date":1308621892,"answer_id":6419596,"question_id":6419262,"body_markdown":"Here&#39;s my attempt. Note, this uses unicode categories for validation so is non-latin language friendly.\r\n\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class PasswordValidator {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tfinal PasswordValidator passwordValidator = new PasswordValidator();\r\n    \t\tfor (String password : new String[] { &quot;abc&quot;, &quot;abc123&quot;, &quot;ABC123&quot;, &quot;abc123ABC&quot;, &quot;!!!AAabas1&quot;, &quot;гшщз&quot;,\r\n    \t\t\t\t&quot;гшщзЧСМИ22&quot; }) {\r\n    \t\t\tSystem.out.printf(&quot;Password &#39;%s&#39; is %s%n&quot;, password, passwordValidator.isValidPassword(password) ? &quot;ok&quot;\r\n    \t\t\t\t\t: &quot;INVALID&quot;);\r\n    \t\t}\r\n    \t}\r\n    \tprivate static final Pattern LOWER_CASE = Pattern.compile(&quot;\\\\p{Lu}&quot;);\r\n    \tprivate static final Pattern UPPER_CASE = Pattern.compile(&quot;\\\\p{Ll}&quot;);\r\n    \tprivate static final Pattern DECIMAL_DIGIT = Pattern.compile(&quot;\\\\p{Nd}&quot;);\r\n    \r\n    \t/**\r\n    \t * Determine if a password is valid.\r\n    \t * \r\n    \t * &lt;p&gt;\r\n    \t * A password is considered valid if it contains:\r\n    \t * &lt;ul&gt;\r\n    \t * &lt;li&gt;At least one lower-case letter&lt;/li&gt;\r\n    \t * &lt;li&gt;At least one upper-case letter&lt;/li&gt;\r\n    \t * &lt;li&gt;At least one digit&lt;/li&gt;\r\n    \t * &lt;/p&gt;\r\n    \t * \r\n    \t * @param password\r\n    \t *            password to validate\r\n    \t * @return True if the password is considered valid, otherwise false\r\n    \t */\r\n    \tpublic boolean isValidPassword(final String password) {\r\n    \t\treturn containsDigit(password) &amp;&amp; containsLowerCase(password) &amp;&amp; containsUpperCase(password);\r\n    \t}\r\n    \r\n    \tprivate boolean containsDigit(final String str) {\r\n    \t\treturn DECIMAL_DIGIT.matcher(str).find();\r\n    \t}\r\n    \r\n    \tprivate boolean containsUpperCase(final String str) {\r\n    \t\treturn UPPER_CASE.matcher(str).find();\r\n    \t}\r\n    \r\n    \tprivate boolean containsLowerCase(final String str) {\r\n    \t\treturn LOWER_CASE.matcher(str).find();\r\n    \t}\r\n    \r\n    }\r\n\r\nHere&#39;s the output:\r\n\r\n    Password &#39;abc&#39; is INVALID\r\n    Password &#39;abc123&#39; is INVALID\r\n    Password &#39;ABC123&#39; is INVALID\r\n    Password &#39;abc123ABC&#39; is ok\r\n    Password &#39;!!!AAabas1&#39; is ok\r\n    Password &#39;гшщз&#39; is INVALID\r\n    Password &#39;гшщзЧСМИ22&#39; is ok","title":"String contains at least one digit","body":"<p>Here's my attempt. Note, this uses unicode categories for validation so is non-latin language friendly.</p>\n\n<pre><code>import java.util.regex.Pattern;\n\npublic class PasswordValidator {\n\n    public static void main(String[] args) {\n        final PasswordValidator passwordValidator = new PasswordValidator();\n        for (String password : new String[] { \"abc\", \"abc123\", \"ABC123\", \"abc123ABC\", \"!!!AAabas1\", \"гшщз\",\n                \"гшщзЧСМИ22\" }) {\n            System.out.printf(\"Password '%s' is %s%n\", password, passwordValidator.isValidPassword(password) ? \"ok\"\n                    : \"INVALID\");\n        }\n    }\n    private static final Pattern LOWER_CASE = Pattern.compile(\"\\\\p{Lu}\");\n    private static final Pattern UPPER_CASE = Pattern.compile(\"\\\\p{Ll}\");\n    private static final Pattern DECIMAL_DIGIT = Pattern.compile(\"\\\\p{Nd}\");\n\n    /**\n     * Determine if a password is valid.\n     * \n     * &lt;p&gt;\n     * A password is considered valid if it contains:\n     * &lt;ul&gt;\n     * &lt;li&gt;At least one lower-case letter&lt;/li&gt;\n     * &lt;li&gt;At least one upper-case letter&lt;/li&gt;\n     * &lt;li&gt;At least one digit&lt;/li&gt;\n     * &lt;/p&gt;\n     * \n     * @param password\n     *            password to validate\n     * @return True if the password is considered valid, otherwise false\n     */\n    public boolean isValidPassword(final String password) {\n        return containsDigit(password) &amp;&amp; containsLowerCase(password) &amp;&amp; containsUpperCase(password);\n    }\n\n    private boolean containsDigit(final String str) {\n        return DECIMAL_DIGIT.matcher(str).find();\n    }\n\n    private boolean containsUpperCase(final String str) {\n        return UPPER_CASE.matcher(str).find();\n    }\n\n    private boolean containsLowerCase(final String str) {\n        return LOWER_CASE.matcher(str).find();\n    }\n\n}\n</code></pre>\n\n<p>Here's the output:</p>\n\n<pre><code>Password 'abc' is INVALID\nPassword 'abc123' is INVALID\nPassword 'ABC123' is INVALID\nPassword 'abc123ABC' is ok\nPassword '!!!AAabas1' is ok\nPassword 'гшщз' is INVALID\nPassword 'гшщзЧСМИ22' is ok\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9337239,"reputation":51,"user_id":6931082,"display_name":"CooL AndroDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475748193,"creation_date":1475746904,"answer_id":39892630,"question_id":6419262,"body_markdown":"    String str_rno = &quot;CooL8&quot;;\r\n\r\n    boolean Flag = false;\r\n\r\n    String[] parts = str_rno.split(&quot;&quot;); \r\n\r\n    for (int i = 0; i &lt; str_rno.length(); i++) {\r\n\r\n        String part1 = parts[i + 1];      \r\n\r\n        if (Character.isDigit(str_rno.charAt(i))) {\r\n            System.out.println(&quot; &quot; + i + &quot; &quot; + part1 + &quot; digit&quot;);\r\n            Flag = true;\r\n        } else {\r\n            System.out.println(&quot; &quot; + i + &quot; &quot; + part1 + &quot; char &quot;);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    if(Flag==true){\r\n        Toast.makeText(getApplicationContext(),&quot;String contain 1 digit&quot;,Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    if(Flag==flase){\r\n        Toast.makeText(getApplicationContext(),&quot;String not contain 1 digit&quot;,Toast.LENGTH_SHORT).show();\r\n    }\r\n","title":"String contains at least one digit","body":"<pre><code>String str_rno = \"CooL8\";\n\nboolean Flag = false;\n\nString[] parts = str_rno.split(\"\"); \n\nfor (int i = 0; i &lt; str_rno.length(); i++) {\n\n    String part1 = parts[i + 1];      \n\n    if (Character.isDigit(str_rno.charAt(i))) {\n        System.out.println(\" \" + i + \" \" + part1 + \" digit\");\n        Flag = true;\n    } else {\n        System.out.println(\" \" + i + \" \" + part1 + \" char \");\n    }\n\n}\n\n\nif(Flag==true){\n    Toast.makeText(getApplicationContext(),\"String contain 1 digit\",Toast.LENGTH_SHORT).show();\n}\n\nif(Flag==flase){\n    Toast.makeText(getApplicationContext(),\"String not contain 1 digit\",Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22426002,"reputation":366,"user_id":16632604,"display_name":"Flimtix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654793257,"creation_date":1654793257,"answer_id":72563946,"question_id":6419262,"body_markdown":"If you don&#39;t want to or are not allowed to use a regex you can also use the following method:\r\n\r\n```java\r\npublic static boolean containsNumber(String value) {\r\n    for (int i = 0; i &lt; value.length(); i++) {\r\n        if (Character.isDigit(value.charAt(i)))\r\n            return true;\r\n    }\r\n    return false;\r\n}\r\n```\r\n\r\nIt goes through the string until it finds a `number`. If no number was found, then false is returned. However, I suspect that for longer strings the regex variant has better performance.","title":"String contains at least one digit","body":"<p>If you don't want to or are not allowed to use a regex you can also use the following method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean containsNumber(String value) {\n    for (int i = 0; i &lt; value.length(); i++) {\n        if (Character.isDigit(value.charAt(i)))\n            return true;\n    }\n    return false;\n}\n</code></pre>\n<p>It goes through the string until it finds a <code>number</code>. If no number was found, then false is returned. However, I suspect that for longer strings the regex variant has better performance.</p>\n"}],"owner":{"account_id":426397,"reputation":2898,"user_id":807595,"accept_rate":68,"display_name":"idipous"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19349,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":6419337,"answer_count":6,"score":8,"last_activity_date":1654793257,"creation_date":1308618241,"question_id":6419262,"body_markdown":"I am trying to see whether a string contains at least a digit or a lowercase or an uppercase.\r\n\r\nI have written something like this:\r\n\r\n          int combinations = 0;\r\n\t      string pass = &quot;!!!AAabas1&quot;;\r\n\r\n\t      if (pass.matches(&quot;[0-9]&quot;)) {\r\n\t    \t  combinations = combinations + 10;\r\n\t      }\r\n\r\n\t      if (pass.matches(&quot;[a-z]&quot;)) {\r\n\t          combinations =combinations + 26;\r\n\t      }\r\n\r\n\t      if (pass.matches(&quot;[A-Z]&quot;)) {\r\n\t          combinations =combinations + 26;\r\n\t      }\r\n\r\nHowever I don&#39;t understand why I cannot get combinations to go to 36. They just remain at 0. What am I doing wrong?","title":"String contains at least one digit","body":"<p>I am trying to see whether a string contains at least a digit or a lowercase or an uppercase.</p>\n\n<p>I have written something like this:</p>\n\n<pre><code>      int combinations = 0;\n      string pass = \"!!!AAabas1\";\n\n      if (pass.matches(\"[0-9]\")) {\n          combinations = combinations + 10;\n      }\n\n      if (pass.matches(\"[a-z]\")) {\n          combinations =combinations + 26;\n      }\n\n      if (pass.matches(\"[A-Z]\")) {\n          combinations =combinations + 26;\n      }\n</code></pre>\n\n<p>However I don't understand why I cannot get combinations to go to 36. They just remain at 0. What am I doing wrong?</p>\n"},{"tags":["java","inheritance","lambda","method-reference"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1654789876,"post_id":72563196,"comment_id":128181371,"body_markdown":"Inside your ServiceA you are calling the methods on your `private final List&lt;ServiceB&gt; worker` list, which as you can see contains Objects of type `ServiceB` and those calls on `ServiceB` are what are generating the output. That you for some reason decided to have `ServiceB extends ServiceC` probably just added to your confusion. ( If you name classes A, B, and C you usually expect those names to mean that B extends A and C extends B, not what you decided to do)","body":"Inside your ServiceA you are calling the methods on your <code>private final List&lt;ServiceB&gt; worker</code> list, which as you can see contains Objects of type <code>ServiceB</code> and those calls on <code>ServiceB</code> are what are generating the output. That you for some reason decided to have <code>ServiceB extends ServiceC</code> probably just added to your confusion. ( If you name classes A, B, and C you usually expect those names to mean that B extends A and C extends B, not what you decided to do)"},{"owner":{"account_id":6023763,"reputation":1217,"user_id":7805363,"display_name":"Programming-Lover"},"score":0,"creation_date":1654790188,"post_id":72563196,"comment_id":128181489,"body_markdown":"Thanks for the reply can you please explain this line: worker.forEach(InterfaceOne::start);\nhere I am calling InterfaceOne::start","body":"Thanks for the reply can you please explain this line: worker.forEach(InterfaceOne::start); here I am calling InterfaceOne::start"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1654790264,"post_id":72563196,"comment_id":128181515,"body_markdown":"That line iterates over all objects in the `workers` list and calls the method `start` on each one. This was btw already explained in the answer you got below.","body":"That line iterates over all objects in the <code>workers</code> list and calls the method <code>start</code> on each one. This was btw already explained in the answer you got below."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1654790652,"post_id":72563196,"comment_id":128181645,"body_markdown":"What output did you expect? Why?","body":"What output did you expect? Why?"},{"owner":{"account_id":6023763,"reputation":1217,"user_id":7805363,"display_name":"Programming-Lover"},"score":0,"creation_date":1654791277,"post_id":72563196,"comment_id":128181896,"body_markdown":"```worker.forEach(obj -&gt; obj.start());``` and \n```worker.forEach(InterfaceOne::start);```\nabove two lines creates same output, here i  want to understand more about ```worker.forEach(InterfaceOne::start);```","body":"<code>worker.forEach(obj -&gt; obj.start());</code> and  <code>worker.forEach(InterfaceOne::start);</code> above two lines creates same output, here i  want to understand more about <code>worker.forEach(InterfaceOne::start);</code>"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1654791328,"post_id":72563196,"comment_id":128181921,"body_markdown":"I don&#39;t understand. You don&#39;t mention a lambda expression in your post. Is this a new question, trying to compare those two?","body":"I don&#39;t understand. You don&#39;t mention a lambda expression in your post. Is this a new question, trying to compare those two?"},{"owner":{"account_id":6023763,"reputation":1217,"user_id":7805363,"display_name":"Programming-Lover"},"score":0,"creation_date":1654791823,"post_id":72563196,"comment_id":128182092,"body_markdown":"My Bad, Should I update the question? Actually, that&#39;s the confusion for me how  ```InterfaceOne::start```is being interpreted","body":"My Bad, Should I update the question? Actually, that&#39;s the confusion for me how  <code>InterfaceOne::start</code>is being interpreted"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1654791923,"post_id":72563196,"comment_id":128182126,"body_markdown":"Yes please, edit to clarify the questions in the comments.","body":"Yes please, edit to clarify the questions in the comments."}],"answers":[{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654789885,"creation_date":1654789885,"answer_id":72563256,"question_id":72563196,"body_markdown":"You wrote:\r\n\r\n    worker.forEach(InterfaceOne::start);\r\n\r\nThis calls the start method for every element of the worker list. It does not matter if it&#39;s called in the scope of a method of ServiceA, the elements of the worker list are ServiceB&#39;s, which inherit the `start` method of ServiceC.","title":"How Inheritance works in Java with method reference operator","body":"<p>You wrote:</p>\n<pre><code>worker.forEach(InterfaceOne::start);\n</code></pre>\n<p>This calls the start method for every element of the worker list. It does not matter if it's called in the scope of a method of ServiceA, the elements of the worker list are ServiceB's, which inherit the <code>start</code> method of ServiceC.</p>\n"}],"owner":{"account_id":6023763,"reputation":1217,"user_id":7805363,"display_name":"Programming-Lover"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72563256,"answer_count":1,"score":-1,"last_activity_date":1654792952,"creation_date":1654789580,"question_id":72563196,"body_markdown":"Interface\r\n```\r\npublic interface InterfaceOne {\r\n    void start();\r\n    void stop();\r\n}\r\n```\r\nMain Class\r\n```\r\npublic class MainProg {\r\n    public static void main(String [] args){\r\n        new ServiceA().start();\r\n    }\r\n}\r\n```\r\nServiceA\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ServiceA implements InterfaceOne{\r\n    private final List&lt;ServiceB&gt; worker = new ArrayList&lt;&gt;();\r\n    public ServiceA(){\r\n        for(int i = 0; i &lt; 2; i++){\r\n            worker.add(new ServiceB(2));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void start() {\r\n        worker.forEach(InterfaceOne::start);\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        worker.forEach(InterfaceOne::stop);\r\n    }\r\n}\r\n```\r\nServiceB\r\n```\r\npublic class ServiceB extends ServiceC{\r\n    int count;\r\n    protected ServiceB(int num){\r\n        this.count = num;\r\n    }\r\n}\r\n```\r\nServiceC\r\n```\r\npublic class ServiceC implements InterfaceOne{\r\n    @Override\r\n    public void start() {\r\n        System.out.println(&quot;Starting..&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        System.out.println(&quot;Stopping..&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHere from the main class, I am calling a method of ServiceA that internally calls to the method of serviceB using the method reference operator. ServiceA Can be also written like below where instead of using the method reference operator i can use lambda function\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ServiceA implements InterfaceOne{\r\n    private final List&lt;ServiceB&gt; worker = new ArrayList&lt;&gt;();\r\n    public ServiceA(){\r\n        for(int i = 0; i &lt; 2; i++){\r\n            worker.add(new ServiceB(2));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void start() {\r\n        worker.forEach(obj -&gt; obj.start());\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        worker.forEach(obj -&gt; obj.stop());\r\n    }\r\n}\r\n```\r\nHere I am aware of how this program is working using lambda function, but want to understand how it is working with the method reference operator\r\n\r\n```\r\nworker.forEach(InterfaceOne::start);\r\n```\r\n\r\nThe output of this program is\r\n```code\r\nStarting..\r\nStarting..\r\n```","title":"How Inheritance works in Java with method reference operator","body":"<p>Interface</p>\n<pre><code>public interface InterfaceOne {\n    void start();\n    void stop();\n}\n</code></pre>\n<p>Main Class</p>\n<pre><code>public class MainProg {\n    public static void main(String [] args){\n        new ServiceA().start();\n    }\n}\n</code></pre>\n<p>ServiceA</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class ServiceA implements InterfaceOne{\n    private final List&lt;ServiceB&gt; worker = new ArrayList&lt;&gt;();\n    public ServiceA(){\n        for(int i = 0; i &lt; 2; i++){\n            worker.add(new ServiceB(2));\n        }\n    }\n\n    @Override\n    public void start() {\n        worker.forEach(InterfaceOne::start);\n    }\n\n    @Override\n    public void stop() {\n        worker.forEach(InterfaceOne::stop);\n    }\n}\n</code></pre>\n<p>ServiceB</p>\n<pre><code>public class ServiceB extends ServiceC{\n    int count;\n    protected ServiceB(int num){\n        this.count = num;\n    }\n}\n</code></pre>\n<p>ServiceC</p>\n<pre><code>public class ServiceC implements InterfaceOne{\n    @Override\n    public void start() {\n        System.out.println(&quot;Starting..&quot;);\n    }\n\n    @Override\n    public void stop() {\n        System.out.println(&quot;Stopping..&quot;);\n    }\n}\n</code></pre>\n<p>Here from the main class, I am calling a method of ServiceA that internally calls to the method of serviceB using the method reference operator. ServiceA Can be also written like below where instead of using the method reference operator i can use lambda function</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class ServiceA implements InterfaceOne{\n    private final List&lt;ServiceB&gt; worker = new ArrayList&lt;&gt;();\n    public ServiceA(){\n        for(int i = 0; i &lt; 2; i++){\n            worker.add(new ServiceB(2));\n        }\n    }\n\n    @Override\n    public void start() {\n        worker.forEach(obj -&gt; obj.start());\n    }\n\n    @Override\n    public void stop() {\n        worker.forEach(obj -&gt; obj.stop());\n    }\n}\n</code></pre>\n<p>Here I am aware of how this program is working using lambda function, but want to understand how it is working with the method reference operator</p>\n<pre><code>worker.forEach(InterfaceOne::start);\n</code></pre>\n<p>The output of this program is</p>\n<pre><code>Starting..\nStarting..\n</code></pre>\n"},{"tags":["java","spring","spring-boot","tomcat","oom"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1654792843,"post_id":72563848,"comment_id":128182468,"body_markdown":"Set an appropriate timeout for connecting to the target mu-service.  Use a circuit breaker like Resilience4J.","body":"Set an appropriate timeout for connecting to the target mu-service.  Use a circuit breaker like Resilience4J."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654793239,"post_id":72563848,"comment_id":128182609,"body_markdown":"https://github.com/resilience4j/resilience4j","body":"<a href=\"https://github.com/resilience4j/resilience4j\" rel=\"nofollow noreferrer\">github.com/resilience4j/resilience4j</a>"}],"owner":{"account_id":8722422,"reputation":625,"user_id":7370205,"display_name":"darth jemico"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654792738,"creation_date":1654792738,"question_id":72563848,"body_markdown":"I have a java spring boot microservice, managed in k8s cluster. The application is just a webmvc app (java, tomcat, spring boot, old but gold RestTemplate), that collects required dats abd sends request to another microservice.\r\n\r\nThere is a problem - the target microservice can suddenly response slowly (several minutes), that causes heap to grow up to limits and lasts with OOM.\r\n\r\nAre there any recommendations for such cases? What jvm / app settings can i tune to make app durable to leaks?","title":"What is the safe way to handle long tomcat connections?","body":"<p>I have a java spring boot microservice, managed in k8s cluster. The application is just a webmvc app (java, tomcat, spring boot, old but gold RestTemplate), that collects required dats abd sends request to another microservice.</p>\n<p>There is a problem - the target microservice can suddenly response slowly (several minutes), that causes heap to grow up to limits and lasts with OOM.</p>\n<p>Are there any recommendations for such cases? What jvm / app settings can i tune to make app durable to leaks?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore","android-espresso"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1654776621,"post_id":72558160,"comment_id":128175668,"body_markdown":"That NullPointerException stack trace doesn&#39;t look like it has anything to do with Firestore.  Maybe you would like to share more about the error that does imply Firestore: &quot;Internal error in Cloud Firestore (24.1.2).&quot;  Is there more to this error that you&#39;re not showing?","body":"That NullPointerException stack trace doesn&#39;t look like it has anything to do with Firestore.  Maybe you would like to share more about the error that does imply Firestore: &quot;Internal error in Cloud Firestore (24.1.2).&quot;  Is there more to this error that you&#39;re not showing?"},{"owner":{"account_id":19919616,"reputation":63,"user_id":14595783,"display_name":"Calas"},"score":0,"creation_date":1654782287,"post_id":72558160,"comment_id":128178092,"body_markdown":"Hi. I just posted my entire error from Android Studio at the bottom. I can&#39;t seem to narrow down what the cause is. Thank you","body":"Hi. I just posted my entire error from Android Studio at the bottom. I can&#39;t seem to narrow down what the cause is. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":19919616,"reputation":63,"user_id":14595783,"display_name":"Calas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654792646,"creation_date":1654792646,"answer_id":72563825,"question_id":72558160,"body_markdown":"It turns out that I had some outdated gradle dependencies. I am not exactly sure which ones it was but I changed my app gradle dependencies from:\r\n\r\n```\r\n\r\n    // Declare the dependency for the Firebase Authentication library\r\n    // When using the BoM, you don&#39;t specify versions in Firebase library dependencies\r\n    implementation &#39;com.google.firebase:firebase-auth&#39;\r\n\r\n    // Also declare the dependency for the Google Play services library and specify its version\r\n    implementation &#39;com.google.android.gms:play-services-auth:20.2.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test:rules:1.0.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    androidTestImplementation &#39;androidx.test:core:1.4.0&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.room:room-testing:2.4.2&#39;\r\n    annotationProcessor &#39;androidx.room:room-compiler:2.4.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-intents:3.4.0&#39;\r\n    androidTestImplementation(&#39;androidx.test.espresso:espresso-contrib:3.4.0&#39;) {\r\n        exclude group: &#39;com.android.support&#39;, module: &#39;appcompat&#39;\r\n        exclude group: &#39;com.android.support&#39;, module: &#39;support-v4&#39;\r\n        exclude module: &#39;recyclerview-v7&#39;\r\n    }\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:30.0.0&#39;)\r\n\r\n}\r\n```\r\n\r\nto this instead:\r\n```\r\ndependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:29.3.1&#39;)\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:24.1.2&#39;\r\n    implementation &#39;androidx.room:room-runtime:2.4.2&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation(&#39;androidx.test.espresso:espresso-contrib:3.4.0&#39;) {\r\n        exclude module: &quot;protobuf-lite&quot;\r\n    }\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    androidTestImplementation &#39;androidx.test:runner:1.4.0&#39;\r\n    androidTestImplementation &#39;androidx.test:rules:1.4.0&#39;\r\n    androidTestImplementation &#39;androidx.room:room-testing:2.4.2&#39;\r\n    annotationProcessor &#39;androidx.room:room-compiler:2.4.2&#39;\r\n}\r\n```\r\nThis seems to have fixed the problem and my tests are now running perfectly.","title":"Why am I getting Internal error in Cloud Firestore (24.1.2). In my Android app only when running an espresso test?","body":"<p>It turns out that I had some outdated gradle dependencies. I am not exactly sure which ones it was but I changed my app gradle dependencies from:</p>\n<pre><code>\n    // Declare the dependency for the Firebase Authentication library\n    // When using the BoM, you don't specify versions in Firebase library dependencies\n    implementation 'com.google.firebase:firebase-auth'\n\n    // Also declare the dependency for the Google Play services library and specify its version\n    implementation 'com.google.android.gms:play-services-auth:20.2.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'com.android.support.test:rules:1.0.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    androidTestImplementation 'androidx.test:core:1.4.0'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.room:room-testing:2.4.2'\n    annotationProcessor 'androidx.room:room-compiler:2.4.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-intents:3.4.0'\n    androidTestImplementation('androidx.test.espresso:espresso-contrib:3.4.0') {\n        exclude group: 'com.android.support', module: 'appcompat'\n        exclude group: 'com.android.support', module: 'support-v4'\n        exclude module: 'recyclerview-v7'\n    }\n    implementation platform('com.google.firebase:firebase-bom:30.0.0')\n\n}\n</code></pre>\n<p>to this instead:</p>\n<pre><code>dependencies {\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.6.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'com.android.volley:volley:1.2.1'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation platform('com.google.firebase:firebase-bom:29.3.1')\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.google.firebase:firebase-firestore:24.1.2'\n    implementation 'androidx.room:room-runtime:2.4.2'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation('androidx.test.espresso:espresso-contrib:3.4.0') {\n        exclude module: &quot;protobuf-lite&quot;\n    }\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    androidTestImplementation 'androidx.test:runner:1.4.0'\n    androidTestImplementation 'androidx.test:rules:1.4.0'\n    androidTestImplementation 'androidx.room:room-testing:2.4.2'\n    annotationProcessor 'androidx.room:room-compiler:2.4.2'\n}\n</code></pre>\n<p>This seems to have fixed the problem and my tests are now running perfectly.</p>\n"}],"owner":{"account_id":19919616,"reputation":63,"user_id":14595783,"display_name":"Calas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":904,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654792646,"creation_date":1654768081,"question_id":72558160,"body_markdown":"The app seems to be running fine, and the data loads to the application with no problem, but I am getting this error only when running a test to see if my match card for my dating app exists. I ran this same test with mock local data and had no issues. When I connect my app to firebase I get this error.\r\n\r\n*Caused by: java.lang.RuntimeException: Internal error in Cloud Firestore (24.1.2).*\r\n\r\nHere is the code for the test that I am running:\r\n\r\n```\r\npublic void matchesCardExists(){\r\n        onView(withId(R.id.name)).perform(replaceText(&quot;Bill&quot;));\r\n        onView(withId(R.id.email)).perform(replaceText(&quot;test@gmail.com&quot;));\r\n        onView(withId(R.id.user_name)).perform(replaceText(&quot;bigbill&quot;));\r\n        onView(withId(R.id.description)).perform(replaceText(&quot;This is a test&quot;));\r\n        onView(withId(R.id.occupation)).perform(replaceText(&quot;I work at test&quot;));\r\n\r\n        onView(withId(R.id.dateButton)).perform(click());\r\n\r\n        onView(withClassName(Matchers.equalTo(DatePicker.class.getName())))\r\n                .perform(PickerActions.setDate(2000, 2 + 1, 5));\r\n\r\n        onView(withId(android.R.id.button1)).perform(click());\r\n\r\n        onView(withId(R.id.submitButton)).perform(click());\r\n\r\n        openActionBarOverflowOrOptionsMenu(ApplicationProvider.getApplicationContext());\r\n        onView(withText(&quot;Matches&quot;)).perform(click());\r\n\r\n        onView(isRoot()).perform(HelpersViewMatcher.waitView(withText(&quot;Cool Guy Mike&quot;), 100000));\r\n\r\n        onView(withRecyclerView(R.id.recycler_view).atPosition(0)).check(matches(hasDescendant(withText(&quot;Cool Guy Mike&quot;))));\r\n```\r\nBasically it fills out a form to sign up and sends the user to a tabbed activity with a matches fragment. The matches fragment has cards loaded with data from the firestore. The test checks the card in the first position for the string &quot;Cool Guy Mike&quot;.\r\n\r\nHere is the stack trace from firebase.\r\n\r\n```\r\njava.lang.NullPointerException\r\nat java.util.Objects.requireNonNull(Objects.java:203)\r\nat com.example.datingapp.RecyclerViewMatcher$1.matchesSafely(RecyclerViewMatcher.java:56)\r\nat com.example.datingapp.RecyclerViewMatcher$1.matchesSafely(RecyclerViewMatcher.java:30)\r\nat org.hamcrest.TypeSafeMatcher.matches(TypeSafeMatcher.java:67)\r\nat androidx.test.espresso.base.ViewFinderImpl$MatcherPredicateAdapter.apply(ViewFinderImpl.java:1)\r\nat androidx.test.espresso.core.internal.deps.guava.collect.Iterators$5.computeNext(Iterators.java:3)\r\nat androidx.test.espresso.core.internal.deps.guava.collect.AbstractIterator.tryToComputeNext(AbstractIterator.java:2)\r\nat androidx.test.espresso.core.internal.deps.guava.collect.AbstractIterator.hasNext(AbstractIterator.java:5)\r\nat androidx.test.espresso.base.ViewFinderImpl.getView(ViewFinderImpl.java:7)\r\nat androidx.test.espresso.ViewInteraction$2.call(ViewInteraction.java:5)\r\nat androidx.test.espresso.ViewInteraction$2.call(ViewInteraction.java:1)\r\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\nat android.os.Handler.handleCallback(Handler.java:883)\r\nat android.os.Handler.dispatchMessage(Handler.java:100)\r\nat android.os.Looper.loop(Looper.java:214)\r\nat android.app.ActivityThread.main(ActivityThread.java:7356)\r\nat java.lang.reflect.Method.invoke(Native Method)\r\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n```\r\n\r\nHere is the error in Android Studio\r\n```\r\nandroidx.test.espresso.PerformException: Error performing &#39;single click - At Coordinates: 1082, 465 and precision: 16, 16&#39; on view &#39;Animations or transitions are enabled on the target device.\r\nFor more info check: https://developer.android.com/training/testing/espresso/setup#set-up-environment\r\n\r\nan instance of android.widget.TextView and view.getText() with or without transformation to match: is &quot;Matches&quot;&#39;.\r\n\tat androidx.test.espresso.PerformException$Builder.build(PerformException.java:1)\r\n\tat androidx.test.espresso.base.DefaultFailureHandler.getUserFriendlyError(DefaultFailureHandler.java:9)\r\n\tat androidx.test.espresso.base.DefaultFailureHandler.handle(DefaultFailureHandler.java:7)\r\n\tat androidx.test.espresso.ViewInteraction.waitForAndHandleInteractionResults(ViewInteraction.java:8)\r\n\tat androidx.test.espresso.ViewInteraction.desugaredPerform(ViewInteraction.java:11)\r\n\tat androidx.test.espresso.ViewInteraction.perform(ViewInteraction.java:4)\r\n\tat com.example.datingapp.MainActivityTest.matchesCardExists(MainActivityTest.java:265)\r\n\t... 29 trimmed\r\nCaused by: java.lang.RuntimeException: Internal error in Cloud Firestore (24.1.2).\r\n\tat com.google.firebase.firestore.util.AsyncQueue.lambda$panic$3(AsyncQueue.java:539)\r\n\tat com.google.firebase.firestore.util.-$$Lambda$AsyncQueue$jx84dqgUsF4ojecSMurRqFLFD1Y.run(Unknown Source:2)\r\n\tat android.os.Handler.handleCallback(Handler.java:883)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:100)\r\n\tat androidx.test.espresso.base.Interrogator.loopAndInterrogate(Interrogator.java:14)\r\n\tat androidx.test.espresso.base.UiControllerImpl.loopUntil(UiControllerImpl.java:8)\r\n\tat androidx.test.espresso.base.UiControllerImpl.loopUntil(UiControllerImpl.java:1)\r\n\tat androidx.test.espresso.base.UiControllerImpl.loopMainThreadForAtLeast(UiControllerImpl.java:8)\r\n\tat androidx.test.espresso.action.Tap$1.sendTap(Tap.java:6)\r\n\tat androidx.test.espresso.action.GeneralClickAction.perform(GeneralClickAction.java:6)\r\n\tat androidx.test.espresso.ViewInteraction$SingleExecutionViewAction.perform(ViewInteraction.java:2)\r\n\tat androidx.test.espresso.ViewInteraction.doPerform(ViewInteraction.java:22)\r\n\tat androidx.test.espresso.ViewInteraction.access$100(ViewInteraction.java:1)\r\n\tat androidx.test.espresso.ViewInteraction$1.call(ViewInteraction.java:2)\r\n\tat androidx.test.espresso.ViewInteraction$1.call(ViewInteraction.java:1)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat android.os.Handler.handleCallback(Handler.java:883)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:100)\r\n\tat android.os.Looper.loop(Looper.java:214)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:7356)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\nCaused by: java.lang.NoSuchMethodError: No static method registerDefaultInstance(Ljava/lang/Class;Lcom/google/protobuf/GeneratedMessageLite;)V in class Lcom/google/protobuf/GeneratedMessageLite; or its super classes (declaration of &#39;com.google.protobuf.GeneratedMessageLite&#39; appears in /data/app/com.example.datingapp.test-LB1xq3vHsZYBNdA8gmmVkQ==/base.apk)\r\n\tat com.google.firestore.v1.ListenRequest.&lt;clinit&gt;(ListenRequest.java:873)\r\n\tat com.google.firestore.v1.ListenRequest.getDefaultInstance(ListenRequest.java:878)\r\n\tat com.google.firestore.v1.FirestoreGrpc.getListenMethod(FirestoreGrpc.java:384)\r\n\tat com.google.firebase.firestore.remote.WatchStream.&lt;init&gt;(WatchStream.java:61)\r\n\tat com.google.firebase.firestore.remote.Datastore.createWatchStream(Datastore.java:131)\r\n\tat com.google.firebase.firestore.remote.RemoteStore.&lt;init&gt;(RemoteStore.java:167)\r\n\tat com.google.firebase.firestore.core.MemoryComponentProvider.createRemoteStore(MemoryComponentProvider.java:78)\r\n\tat com.google.firebase.firestore.core.ComponentProvider.initialize(ComponentProvider.java:143)\r\n\tat com.google.firebase.firestore.core.FirestoreClient.initialize(FirestoreClient.java:272)\r\n\tat com.google.firebase.firestore.core.FirestoreClient.lambda$new$0$FirestoreClient(FirestoreClient.java:109)\r\n\tat com.google.firebase.firestore.core.-$$Lambda$FirestoreClient$Eq-cAcb1C1mM4tyiJsLJXZ13tyU.run(Unknown Source:8)\r\n\tat com.google.firebase.firestore.util.AsyncQueue.lambda$enqueue$2(AsyncQueue.java:441)\r\n\tat com.google.firebase.firestore.util.-$$Lambda$AsyncQueue$Y9GO7zO2DX6MzQJ5TbKtKW_NzO0.call(Unknown Source:2)\r\n\tat com.google.firebase.firestore.util.AsyncQueue$SynchronizedShutdownAwareExecutor.lambda$executeAndReportResult$1(AsyncQueue.java:327)\r\n\tat com.google.firebase.firestore.util.-$$Lambda$AsyncQueue$SynchronizedShutdownAwareExecutor$pKSAgg-ozJ8RbUveSl-44aUfFQw.run(Unknown Source:4)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n\tat com.google.firebase.firestore.util.AsyncQueue$SynchronizedShutdownAwareExecutor$DelayedStartFactory.run(AsyncQueue.java:234)\r\n\tat java.lang.Thread.run(Thread.java:919)\r\n\r\n```","title":"Why am I getting Internal error in Cloud Firestore (24.1.2). In my Android app only when running an espresso test?","body":"<p>The app seems to be running fine, and the data loads to the application with no problem, but I am getting this error only when running a test to see if my match card for my dating app exists. I ran this same test with mock local data and had no issues. When I connect my app to firebase I get this error.</p>\n<p><em>Caused by: java.lang.RuntimeException: Internal error in Cloud Firestore (24.1.2).</em></p>\n<p>Here is the code for the test that I am running:</p>\n<pre><code>public void matchesCardExists(){\n        onView(withId(R.id.name)).perform(replaceText(&quot;Bill&quot;));\n        onView(withId(R.id.email)).perform(replaceText(&quot;test@gmail.com&quot;));\n        onView(withId(R.id.user_name)).perform(replaceText(&quot;bigbill&quot;));\n        onView(withId(R.id.description)).perform(replaceText(&quot;This is a test&quot;));\n        onView(withId(R.id.occupation)).perform(replaceText(&quot;I work at test&quot;));\n\n        onView(withId(R.id.dateButton)).perform(click());\n\n        onView(withClassName(Matchers.equalTo(DatePicker.class.getName())))\n                .perform(PickerActions.setDate(2000, 2 + 1, 5));\n\n        onView(withId(android.R.id.button1)).perform(click());\n\n        onView(withId(R.id.submitButton)).perform(click());\n\n        openActionBarOverflowOrOptionsMenu(ApplicationProvider.getApplicationContext());\n        onView(withText(&quot;Matches&quot;)).perform(click());\n\n        onView(isRoot()).perform(HelpersViewMatcher.waitView(withText(&quot;Cool Guy Mike&quot;), 100000));\n\n        onView(withRecyclerView(R.id.recycler_view).atPosition(0)).check(matches(hasDescendant(withText(&quot;Cool Guy Mike&quot;))));\n</code></pre>\n<p>Basically it fills out a form to sign up and sends the user to a tabbed activity with a matches fragment. The matches fragment has cards loaded with data from the firestore. The test checks the card in the first position for the string &quot;Cool Guy Mike&quot;.</p>\n<p>Here is the stack trace from firebase.</p>\n<pre><code>java.lang.NullPointerException\nat java.util.Objects.requireNonNull(Objects.java:203)\nat com.example.datingapp.RecyclerViewMatcher$1.matchesSafely(RecyclerViewMatcher.java:56)\nat com.example.datingapp.RecyclerViewMatcher$1.matchesSafely(RecyclerViewMatcher.java:30)\nat org.hamcrest.TypeSafeMatcher.matches(TypeSafeMatcher.java:67)\nat androidx.test.espresso.base.ViewFinderImpl$MatcherPredicateAdapter.apply(ViewFinderImpl.java:1)\nat androidx.test.espresso.core.internal.deps.guava.collect.Iterators$5.computeNext(Iterators.java:3)\nat androidx.test.espresso.core.internal.deps.guava.collect.AbstractIterator.tryToComputeNext(AbstractIterator.java:2)\nat androidx.test.espresso.core.internal.deps.guava.collect.AbstractIterator.hasNext(AbstractIterator.java:5)\nat androidx.test.espresso.base.ViewFinderImpl.getView(ViewFinderImpl.java:7)\nat androidx.test.espresso.ViewInteraction$2.call(ViewInteraction.java:5)\nat androidx.test.espresso.ViewInteraction$2.call(ViewInteraction.java:1)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat android.os.Handler.handleCallback(Handler.java:883)\nat android.os.Handler.dispatchMessage(Handler.java:100)\nat android.os.Looper.loop(Looper.java:214)\nat android.app.ActivityThread.main(ActivityThread.java:7356)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n<p>Here is the error in Android Studio</p>\n<pre><code>androidx.test.espresso.PerformException: Error performing 'single click - At Coordinates: 1082, 465 and precision: 16, 16' on view 'Animations or transitions are enabled on the target device.\nFor more info check: https://developer.android.com/training/testing/espresso/setup#set-up-environment\n\nan instance of android.widget.TextView and view.getText() with or without transformation to match: is &quot;Matches&quot;'.\n    at androidx.test.espresso.PerformException$Builder.build(PerformException.java:1)\n    at androidx.test.espresso.base.DefaultFailureHandler.getUserFriendlyError(DefaultFailureHandler.java:9)\n    at androidx.test.espresso.base.DefaultFailureHandler.handle(DefaultFailureHandler.java:7)\n    at androidx.test.espresso.ViewInteraction.waitForAndHandleInteractionResults(ViewInteraction.java:8)\n    at androidx.test.espresso.ViewInteraction.desugaredPerform(ViewInteraction.java:11)\n    at androidx.test.espresso.ViewInteraction.perform(ViewInteraction.java:4)\n    at com.example.datingapp.MainActivityTest.matchesCardExists(MainActivityTest.java:265)\n    ... 29 trimmed\nCaused by: java.lang.RuntimeException: Internal error in Cloud Firestore (24.1.2).\n    at com.google.firebase.firestore.util.AsyncQueue.lambda$panic$3(AsyncQueue.java:539)\n    at com.google.firebase.firestore.util.-$$Lambda$AsyncQueue$jx84dqgUsF4ojecSMurRqFLFD1Y.run(Unknown Source:2)\n    at android.os.Handler.handleCallback(Handler.java:883)\n    at android.os.Handler.dispatchMessage(Handler.java:100)\n    at androidx.test.espresso.base.Interrogator.loopAndInterrogate(Interrogator.java:14)\n    at androidx.test.espresso.base.UiControllerImpl.loopUntil(UiControllerImpl.java:8)\n    at androidx.test.espresso.base.UiControllerImpl.loopUntil(UiControllerImpl.java:1)\n    at androidx.test.espresso.base.UiControllerImpl.loopMainThreadForAtLeast(UiControllerImpl.java:8)\n    at androidx.test.espresso.action.Tap$1.sendTap(Tap.java:6)\n    at androidx.test.espresso.action.GeneralClickAction.perform(GeneralClickAction.java:6)\n    at androidx.test.espresso.ViewInteraction$SingleExecutionViewAction.perform(ViewInteraction.java:2)\n    at androidx.test.espresso.ViewInteraction.doPerform(ViewInteraction.java:22)\n    at androidx.test.espresso.ViewInteraction.access$100(ViewInteraction.java:1)\n    at androidx.test.espresso.ViewInteraction$1.call(ViewInteraction.java:2)\n    at androidx.test.espresso.ViewInteraction$1.call(ViewInteraction.java:1)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at android.os.Handler.handleCallback(Handler.java:883)\n    at android.os.Handler.dispatchMessage(Handler.java:100)\n    at android.os.Looper.loop(Looper.java:214)\n    at android.app.ActivityThread.main(ActivityThread.java:7356)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\nCaused by: java.lang.NoSuchMethodError: No static method registerDefaultInstance(Ljava/lang/Class;Lcom/google/protobuf/GeneratedMessageLite;)V in class Lcom/google/protobuf/GeneratedMessageLite; or its super classes (declaration of 'com.google.protobuf.GeneratedMessageLite' appears in /data/app/com.example.datingapp.test-LB1xq3vHsZYBNdA8gmmVkQ==/base.apk)\n    at com.google.firestore.v1.ListenRequest.&lt;clinit&gt;(ListenRequest.java:873)\n    at com.google.firestore.v1.ListenRequest.getDefaultInstance(ListenRequest.java:878)\n    at com.google.firestore.v1.FirestoreGrpc.getListenMethod(FirestoreGrpc.java:384)\n    at com.google.firebase.firestore.remote.WatchStream.&lt;init&gt;(WatchStream.java:61)\n    at com.google.firebase.firestore.remote.Datastore.createWatchStream(Datastore.java:131)\n    at com.google.firebase.firestore.remote.RemoteStore.&lt;init&gt;(RemoteStore.java:167)\n    at com.google.firebase.firestore.core.MemoryComponentProvider.createRemoteStore(MemoryComponentProvider.java:78)\n    at com.google.firebase.firestore.core.ComponentProvider.initialize(ComponentProvider.java:143)\n    at com.google.firebase.firestore.core.FirestoreClient.initialize(FirestoreClient.java:272)\n    at com.google.firebase.firestore.core.FirestoreClient.lambda$new$0$FirestoreClient(FirestoreClient.java:109)\n    at com.google.firebase.firestore.core.-$$Lambda$FirestoreClient$Eq-cAcb1C1mM4tyiJsLJXZ13tyU.run(Unknown Source:8)\n    at com.google.firebase.firestore.util.AsyncQueue.lambda$enqueue$2(AsyncQueue.java:441)\n    at com.google.firebase.firestore.util.-$$Lambda$AsyncQueue$Y9GO7zO2DX6MzQJ5TbKtKW_NzO0.call(Unknown Source:2)\n    at com.google.firebase.firestore.util.AsyncQueue$SynchronizedShutdownAwareExecutor.lambda$executeAndReportResult$1(AsyncQueue.java:327)\n    at com.google.firebase.firestore.util.-$$Lambda$AsyncQueue$SynchronizedShutdownAwareExecutor$pKSAgg-ozJ8RbUveSl-44aUfFQw.run(Unknown Source:4)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at com.google.firebase.firestore.util.AsyncQueue$SynchronizedShutdownAwareExecutor$DelayedStartFactory.run(AsyncQueue.java:234)\n    at java.lang.Thread.run(Thread.java:919)\n\n</code></pre>\n"},{"tags":["java","pass-by-reference"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1654749199,"post_id":72554746,"comment_id":128167079,"body_markdown":"Are you saying you see the &quot;after swapping&quot; print statement showing `a = 3` and `b = 2`? Because that&#39;s not possible in Java.","body":"Are you saying you see the &quot;after swapping&quot; print statement showing <code>a = 3</code> and <code>b = 2</code>? Because that&#39;s not possible in Java."},{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":1,"creation_date":1654749471,"post_id":72554746,"comment_id":128167117,"body_markdown":"OP, Java, unline C/C++ or virtually any other language, prohibits the editing of a variable outside its declaration block. It is essentially passing, for the lack of a better term, an `int*` and collecting it in an `int*`. What you&#39;ll have to do if you have to swap using a function, is add it to a Pair or a List and then modify the list inside the function.","body":"OP, Java, unline C/C++ or virtually any other language, prohibits the editing of a variable outside its declaration block. It is essentially passing, for the lack of a better term, an <code>int*</code> and collecting it in an <code>int*</code>. What you&#39;ll have to do if you have to swap using a function, is add it to a Pair or a List and then modify the list inside the function."},{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":2,"creation_date":1654749581,"post_id":72554746,"comment_id":128167132,"body_markdown":"In your case, you are not swapping a or b, but a1 and b1. They being swapped in the same &quot;scope&quot;, the swap works.","body":"In your case, you are not swapping a or b, but a1 and b1. They being swapped in the same &quot;scope&quot;, the swap works."},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":3,"creation_date":1654750021,"post_id":72554746,"comment_id":128167207,"body_markdown":"&quot;Suppose instead of the swapped values some garbage value is stored due to some unforeseen abnormalities in Java compiler , then how to change that to whatever is desired?&quot; I don&#39;t understand what you&#39;re asking.","body":"&quot;Suppose instead of the swapped values some garbage value is stored due to some unforeseen abnormalities in Java compiler , then how to change that to whatever is desired?&quot; I don&#39;t understand what you&#39;re asking."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1654751719,"post_id":72554746,"comment_id":128167477,"body_markdown":"Class names start with uppercase letter in Java conventions. I fixed yours.","body":"Class names start with uppercase letter in Java conventions. I fixed yours."}],"answers":[{"tags":[],"owner":{"account_id":15925013,"reputation":1027,"user_id":11490808,"display_name":"Hưng Chu"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1654749651,"creation_date":1654749651,"answer_id":72554807,"question_id":72554746,"body_markdown":"    System.out.println(&quot;In swapping class value of a after swapping =&quot;+a + &quot; and that of b=&quot; + b);\r\nYou are just printing a and b variables here. Because there is no re-assignment for a and b anywhere in `swap` class. Change your code to print `num.a1` and `num.b1` and you should see the values changed for `num` object","title":"How to solve change contents of variables having values from call by reference facility in Java?","body":"<pre><code>System.out.println(&quot;In swapping class value of a after swapping =&quot;+a + &quot; and that of b=&quot; + b);\n</code></pre>\n<p>You are just printing a and b variables here. Because there is no re-assignment for a and b anywhere in <code>swap</code> class. Change your code to print <code>num.a1</code> and <code>num.b1</code> and you should see the values changed for <code>num</code> object</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1654792539,"creation_date":1654753810,"answer_id":72555284,"question_id":72554746,"body_markdown":"The trick here is understanding that Java has two parallel [type systems][1]: \r\n\r\n - primitives (for faster execution, least memory used, similarity to [C][2])\r\n - classes &amp; objects (for benefits of [object-oriented programming][3])\r\n\r\nIn your code:\r\n\r\n    num.a1 = a;\r\n\r\n… you are copying the quantity of two from `a`, and putting that quantity into `a1`. After that statement executes, `a` and `a1` are independent. They are two separate numbers, two separate values, without knowledge of one another. This is because they are primitives.\r\n\r\nIn your code:\r\n\r\n    Numbers num = new Numbers();   \r\n\r\n… you switched to the OOP type system. Here you instantiated an `Numbers` object, which means you grabbed a piece of memory somewhere else, carved out room in that memory for the three primitives defined in that class. You also carved out room for a reference to implementation of the method named `swapping` that lives inside the class definition. \r\n\r\nA reference (or link, or pointer) was made from that instantiated `Numbers` object floating around in memory to your local variable named `num`. \r\n\r\nWhen you called the `swapping` method, that code worked on the `a1` and `b1` primitive values stored *within* your object. That code knows nothing about the `a` and `b` variables that live outside the object, that live locally within the `main` method only. \r\n\r\nSo after the `swapping` code finishes, you can think of memory in your [JVM][4] as looking like this diagram. After swapping, the `a` and `b` variables remain in their original condition, untouched. Only the `a1` and `b1` variables (and `temp`) were touched. \r\n\r\n[![digram of main method distinct from object][5]][5]\r\n\r\nSo code in separate scopes *can* share references to the same object. But code in separate scopes *cannot* share the very same primitive variable, they can only get a copy of the other&#39;s primitive variable&#39;s value. \r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Type_system\r\n  [2]: https://en.wikipedia.org/wiki/The_C_Programming_Language\r\n  [3]: https://en.wikipedia.org/wiki/Object-oriented_programming\r\n  [4]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [5]: https://i.stack.imgur.com/LUsSV.png","title":"How to solve change contents of variables having values from call by reference facility in Java?","body":"<p>The trick here is understanding that Java has two parallel <a href=\"https://en.wikipedia.org/wiki/Type_system\" rel=\"nofollow noreferrer\">type systems</a>:</p>\n<ul>\n<li>primitives (for faster execution, least memory used, similarity to <a href=\"https://en.wikipedia.org/wiki/The_C_Programming_Language\" rel=\"nofollow noreferrer\">C</a>)</li>\n<li>classes &amp; objects (for benefits of <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">object-oriented programming</a>)</li>\n</ul>\n<p>In your code:</p>\n<pre><code>num.a1 = a;\n</code></pre>\n<p>… you are copying the quantity of two from <code>a</code>, and putting that quantity into <code>a1</code>. After that statement executes, <code>a</code> and <code>a1</code> are independent. They are two separate numbers, two separate values, without knowledge of one another. This is because they are primitives.</p>\n<p>In your code:</p>\n<pre><code>Numbers num = new Numbers();   \n</code></pre>\n<p>… you switched to the OOP type system. Here you instantiated an <code>Numbers</code> object, which means you grabbed a piece of memory somewhere else, carved out room in that memory for the three primitives defined in that class. You also carved out room for a reference to implementation of the method named <code>swapping</code> that lives inside the class definition.</p>\n<p>A reference (or link, or pointer) was made from that instantiated <code>Numbers</code> object floating around in memory to your local variable named <code>num</code>.</p>\n<p>When you called the <code>swapping</code> method, that code worked on the <code>a1</code> and <code>b1</code> primitive values stored <em>within</em> your object. That code knows nothing about the <code>a</code> and <code>b</code> variables that live outside the object, that live locally within the <code>main</code> method only.</p>\n<p>So after the <code>swapping</code> code finishes, you can think of memory in your <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">JVM</a> as looking like this diagram. After swapping, the <code>a</code> and <code>b</code> variables remain in their original condition, untouched. Only the <code>a1</code> and <code>b1</code> variables (and <code>temp</code>) were touched.</p>\n<p><a href=\"https://i.stack.imgur.com/LUsSV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LUsSV.png\" alt=\"digram of main method distinct from object\" /></a></p>\n<p>So code in separate scopes <em>can</em> share references to the same object. But code in separate scopes <em>cannot</em> share the very same primitive variable, they can only get a copy of the other's primitive variable's value.</p>\n"}],"owner":{"account_id":23848746,"reputation":29,"user_id":17852930,"display_name":"Kyoko Chidori"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72555284,"answer_count":2,"score":1,"last_activity_date":1654792539,"creation_date":1654748967,"question_id":72554746,"body_markdown":"I had written the following code as follows: \r\n\r\n```lang-java\r\nclass Numbers\r\n{\r\n\r\n    int temp,a1,b1;\r\n\r\n    void swapping(){\r\n        temp = a1;\r\n        a1 = b1;\r\n        b1 = temp;\r\n        System.out.println(&quot;In numbers class value of a after swapping =&quot;+a1 + &quot; and that of b=&quot; + b1);\r\n    }\r\n}\r\n```\r\n\r\n```lang-java\r\npublic class Swap{\r\n\r\n    public static void main(String[] args) {\r\n        int a=2;\r\n        int b=3;\r\n        System.out.println(&quot;In swapping class value of a before swapping =&quot;+a + &quot; and that of b=&quot; + b);\r\n\r\n        Numbers num = new Numbers();        \r\n\r\n        num.a1= a;\r\n        num.b1= b;\r\n        num.swapping();\r\n        System.out.println(&quot;In swapping class value of a after swapping =&quot;+a + &quot; and that of b=&quot; + b);\r\n    }\r\n\r\n}\r\n```\r\n\r\nNow the values of a1 and b1 in void swapping() are unchanged as per the dummy println statement just after the swapping operation is implemented on both a1 and b1 . This is the same as the values printed in the main function just before the swapping function was called . However the println statement in the main function after the function call shows the swapped values . Suppose instead of the swapped values some garbage value is stored due to some unforeseen abnormalities in Java compiler , then how to change that to whatever is desired?","title":"How to solve change contents of variables having values from call by reference facility in Java?","body":"<p>I had written the following code as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Numbers\n{\n\n    int temp,a1,b1;\n\n    void swapping(){\n        temp = a1;\n        a1 = b1;\n        b1 = temp;\n        System.out.println(&quot;In numbers class value of a after swapping =&quot;+a1 + &quot; and that of b=&quot; + b1);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Swap{\n\n    public static void main(String[] args) {\n        int a=2;\n        int b=3;\n        System.out.println(&quot;In swapping class value of a before swapping =&quot;+a + &quot; and that of b=&quot; + b);\n\n        Numbers num = new Numbers();        \n\n        num.a1= a;\n        num.b1= b;\n        num.swapping();\n        System.out.println(&quot;In swapping class value of a after swapping =&quot;+a + &quot; and that of b=&quot; + b);\n    }\n\n}\n</code></pre>\n<p>Now the values of a1 and b1 in void swapping() are unchanged as per the dummy println statement just after the swapping operation is implemented on both a1 and b1 . This is the same as the values printed in the main function just before the swapping function was called . However the println statement in the main function after the function call shows the swapped values . Suppose instead of the swapped values some garbage value is stored due to some unforeseen abnormalities in Java compiler , then how to change that to whatever is desired?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"score":0,"creation_date":1458668229,"post_id":36161343,"comment_id":59959886,"body_markdown":"Use `Integer.parseInt()` to convert from `String` to `Integer`...","body":"Use <code>Integer.parseInt()</code> to convert from <code>String</code> to <code>Integer</code>..."},{"owner":{"account_id":7902935,"reputation":6346,"user_id":5969411,"accept_rate":80,"display_name":"ManoDestra"},"score":1,"creation_date":1458668265,"post_id":36161343,"comment_id":59959910,"body_markdown":"Use the split method for a string and loop through the results added the parsed integers (Integer.parseInt(value)) into your ArrayList of Integers.","body":"Use the split method for a string and loop through the results added the parsed integers (Integer.parseInt(value)) into your ArrayList of Integers."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1458668286,"post_id":36161343,"comment_id":59959926,"body_markdown":"You are printing the whole list. You should iterate over each element and print each one in a loop.","body":"You are printing the whole list. You should iterate over each element and print each one in a loop."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1458668313,"post_id":36161343,"comment_id":59959952,"body_markdown":"Your `myInts.size()` is 0 as the list is empty until you put something in it.","body":"Your <code>myInts.size()</code> is 0 as the list is empty until you put something in it."},{"owner":{"account_id":8042960,"reputation":75,"user_id":6064029,"accept_rate":86,"display_name":"java2019"},"score":0,"creation_date":1458671592,"post_id":36161343,"comment_id":59962058,"body_markdown":"I am still very confused on where what to add to my code? Is there any way that someone could clarify where things go?","body":"I am still very confused on where what to add to my code? Is there any way that someone could clarify where things go?"},{"owner":{"account_id":2244074,"reputation":4893,"user_id":1977887,"accept_rate":75,"display_name":"Erick G. Hagstrom"},"score":0,"creation_date":1458673479,"post_id":36161343,"comment_id":59963239,"body_markdown":"Just take out your `for` loop and put @Mureinik&#39;s code in its place.","body":"Just take out your <code>for</code> loop and put @Mureinik&#39;s code in its place."}],"answers":[{"tags":[],"owner":{"account_id":6650510,"reputation":6244,"user_id":5132826,"accept_rate":80,"display_name":"Maljam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458668335,"creation_date":1458668335,"answer_id":36161486,"question_id":36161343,"body_markdown":"First, you can convert the input string to `String[]`, by using the `split` method: `input.split(&quot;,&quot;)`. This will give you an array where the elements are strings which were separated by `&quot;,&quot;`.\r\n\r\nAnd then, to convert a String to an `Integer` wrapper, you can use:  \r\n\r\n 1. `Integer i = Integer.valueOf(str);`\r\n 2. `Integer i = Integer.parseInt(str)`","title":"Delimited List of Integers","body":"<p>First, you can convert the input string to <code>String[]</code>, by using the <code>split</code> method: <code>input.split(\",\")</code>. This will give you an array where the elements are strings which were separated by <code>\",\"</code>.</p>\n\n<p>And then, to convert a String to an <code>Integer</code> wrapper, you can use:  </p>\n\n<ol>\n<li><code>Integer i = Integer.valueOf(str);</code></li>\n<li><code>Integer i = Integer.parseInt(str)</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8095429,"reputation":15,"user_id":6100161,"display_name":"SeeoX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458668410,"creation_date":1458668410,"answer_id":36161520,"question_id":36161343,"body_markdown":"myInts is empty, your data is in integers.  \r\nI suggest that you search about the fonction : split (from String)","title":"Delimited List of Integers","body":"<p>myInts is empty, your data is in integers.<br>\nI suggest that you search about the fonction : split (from String)</p>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1458717021,"creation_date":1458668466,"answer_id":36161538,"question_id":36161343,"body_markdown":"The easiest way to convert this string would be to split it according to the comma and apply `Integer.valueOf` to each element:\r\n\r\n\r\n    List&lt;Integer&gt; converted = Arrays.stream(integers.split(&quot;,&quot;))\r\n                                    .map(Integer::valueOf)\r\n                                    .collect(Collectors.toList());\r\n\r\nPrinting them, assuming you **have to** use a `for` loop, would just mean looping over them and printing each one individually:\r\n\r\n    for (Integer i : converted) {\r\n        System.out.println(i);\r\n    }\r\n\r\nIf you don&#39;t absolutely have to use a `for` loop, this could also be done much more elegantly with streams, even without storing to a temporary list:\r\n\r\n    Arrays.stream(integers.split(&quot;,&quot;))\r\n          .map(Integer::valueOf)\r\n          .forEach(System.out::println);","title":"Delimited List of Integers","body":"<p>The easiest way to convert this string would be to split it according to the comma and apply <code>Integer.valueOf</code> to each element:</p>\n\n<pre><code>List&lt;Integer&gt; converted = Arrays.stream(integers.split(\",\"))\n                                .map(Integer::valueOf)\n                                .collect(Collectors.toList());\n</code></pre>\n\n<p>Printing them, assuming you <strong>have to</strong> use a <code>for</code> loop, would just mean looping over them and printing each one individually:</p>\n\n<pre><code>for (Integer i : converted) {\n    System.out.println(i);\n}\n</code></pre>\n\n<p>If you don't absolutely have to use a <code>for</code> loop, this could also be done much more elegantly with streams, even without storing to a temporary list:</p>\n\n<pre><code>Arrays.stream(integers.split(\",\"))\n      .map(Integer::valueOf)\n      .forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":8042960,"reputation":75,"user_id":6064029,"accept_rate":86,"display_name":"java2019"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1654792222,"creation_date":1458667935,"question_id":36161343,"body_markdown":"This is the original prompt:\r\n\r\nWrite program that gets a comma-delimited String of integers (e.g. “4,8,16,32,…”) from the user at the command line and then converts the String to an ArrayList of Integers (using the wrapper class) with each element containing one of the input integers in sequence. Finally, use a for loop to output the integers to the command line, each on a separate line. \r\n\r\n    import java.util.Scanner;\r\n    import java.util.ArrayList;\r\n    \r\n    public class Parser {\r\n    \r\n        \r\n        public static void main(String[] args) {\r\n            \r\n            Scanner scnr = new Scanner(System.in);\r\n            \r\n            ArrayList&lt;String&gt; myInts = new ArrayList&lt;String&gt;();\r\n            String integers = &quot;&quot;;\r\n            \r\n            System.out.print(&quot;Enter a list of delimited integers: &quot;);\r\n            integers = scnr.nextLine();\r\n            \r\n            for (int i = 0; i &lt; myInts.size(); i++) {\r\n                integers = myInts.get(i);\r\n                myInts.add(integers);\r\n                System.out.println(myInts);\r\n            }\r\n        }\r\n    }\r\n\r\nI was able to get it to where it accepts the list of delimited integers, but I&#39;m stuck on the converting piece of it and the for loop, specifically printing each number to a separate line.\r\n","title":"Delimited List of Integers","body":"<p>This is the original prompt:</p>\n\n<p>Write program that gets a comma-delimited String of integers (e.g. “4,8,16,32,…”) from the user at the command line and then converts the String to an ArrayList of Integers (using the wrapper class) with each element containing one of the input integers in sequence. Finally, use a for loop to output the integers to the command line, each on a separate line. </p>\n\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\n\npublic class Parser {\n\n\n    public static void main(String[] args) {\n\n        Scanner scnr = new Scanner(System.in);\n\n        ArrayList&lt;String&gt; myInts = new ArrayList&lt;String&gt;();\n        String integers = \"\";\n\n        System.out.print(\"Enter a list of delimited integers: \");\n        integers = scnr.nextLine();\n\n        for (int i = 0; i &lt; myInts.size(); i++) {\n            integers = myInts.get(i);\n            myInts.add(integers);\n            System.out.println(myInts);\n        }\n    }\n}\n</code></pre>\n\n<p>I was able to get it to where it accepts the list of delimited integers, but I'm stuck on the converting piece of it and the for loop, specifically printing each number to a separate line.</p>\n"},{"tags":["java","android","animation","waveform"],"comments":[{"owner":{"account_id":15774068,"reputation":2919,"user_id":11382234,"display_name":"Ali Raza"},"score":0,"creation_date":1623317157,"post_id":67802409,"comment_id":120046804,"body_markdown":"So brother, did you find a solution to this problem yet ??","body":"So brother, did you find a solution to this problem yet ??"},{"owner":{"account_id":21805997,"reputation":1,"user_id":16104189,"display_name":"Đi Kod"},"score":0,"creation_date":1623405649,"post_id":67802409,"comment_id":120075791,"body_markdown":"I haven&#39;t found a solution yet","body":"I haven&#39;t found a solution yet"},{"owner":{"account_id":15774068,"reputation":2919,"user_id":11382234,"display_name":"Ali Raza"},"score":0,"creation_date":1623475820,"post_id":67802409,"comment_id":120094964,"body_markdown":"I have used this LIbrary for now::\nhttps://github.com/scrobot/SoundWaveView\n\nYou can try it too, If you want.","body":"I have used this LIbrary for now:: <a href=\"https://github.com/scrobot/SoundWaveView\" rel=\"nofollow noreferrer\">github.com/scrobot/SoundWaveView</a>  You can try it too, If you want."},{"owner":{"account_id":21805997,"reputation":1,"user_id":16104189,"display_name":"Đi Kod"},"score":0,"creation_date":1623487213,"post_id":67802409,"comment_id":120096883,"body_markdown":"Thank brother, i will try it","body":"Thank brother, i will try it"}],"owner":{"account_id":21805997,"reputation":1,"user_id":16104189,"display_name":"Đi Kod"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654791876,"creation_date":1622625903,"question_id":67802409,"body_markdown":"I have generated a simple waveform like the picture below with my code.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut I want to give more gap between each line I want it to be like the SoundCloud waves like the picture below.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IsNBc.png\r\n  [2]: https://i.stack.imgur.com/ja9q0.jpg\r\n\r\nHere is my code:\r\n\r\n```java\r\npublic class AudioWaveSeekBar extends View {\r\n    private static Paint paintInner;\r\n    private static Paint paintOuter;\r\n    private int width;\r\n    private int height;\r\n    private float startX;\r\n    private int thumbX = 0;\r\n    private View parentView;\r\n    private Context context;\r\n    private int thumbDX = 0;\r\n    private byte[] waveformBytes;\r\n    private boolean pressed = false;\r\n    private boolean startDragging = false;\r\n    private SeekBarChangeListener seekBarChangeListener;\r\n    private int innerColor = 0xffafbcd7;\r\n    private int outerColor = 0xff3b5998;\r\n    private int pressedColor = 0xffa7b8dc;\r\n    private int duration;\r\n\r\n    public AudioWaveSeekBar(Context context) {\r\n        this(context, null);\r\n    }\r\n\r\n    public AudioWaveSeekBar(Context context, AttributeSet attrs) {\r\n        this(context, attrs, 0);\r\n    }\r\n\r\n    public AudioWaveSeekBar(Context context, AttributeSet attrs, int defStyleAttr) {\r\n        super(context, attrs, defStyleAttr);\r\n        this.context = context;\r\n        if (paintInner == null) {\r\n            paintInner = new Paint();\r\n            paintOuter = new Paint();\r\n        }\r\n    }\r\n\r\n    public static float dip2px(Context context, float dp) {\r\n        return dp * context.getResources().getDisplayMetrics().density;\r\n    }\r\n\r\n    public static float px2cm(Context context, float cm) {\r\n        return (cm / 2.54f) * context.getResources().getDisplayMetrics().density;\r\n    }\r\n\r\n    public void setOnSeekBarChangeListener(SeekBarChangeListener seekBarDelegate) {\r\n        seekBarChangeListener = seekBarDelegate;\r\n    }\r\n\r\n    public void setColors(int inner, int outer, int selected) {\r\n        innerColor = inner;\r\n        outerColor = outer;\r\n        pressedColor = selected;\r\n    }\r\n\r\n    public void setWaveform(byte[] waveform) {\r\n        waveformBytes = waveform;\r\n        invalidate();\r\n    }\r\n\r\n    public void setProgress(float progress) {\r\n        if (duration != 0)\r\n            progress = progress / duration;\r\n        else\r\n            progress = 0;\r\n        thumbX = (int) Math.ceil(width * progress);\r\n        if (thumbX &lt; 0) {\r\n            thumbX = 0;\r\n        } else if (thumbX &gt; width) {\r\n            thumbX = width;\r\n        }\r\n        invalidate();\r\n    }\r\n\r\n    public void setParentView(View view) {\r\n        parentView = view;\r\n    }\r\n\r\n    public void setDuration(int duration) {\r\n        this.duration = duration;\r\n    }\r\n\r\n    public void setSize(int w, int h) {\r\n        width = w;\r\n        height = h;\r\n        invalidate();\r\n    }\r\n\r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n        boolean result = onTouch(event.getAction(), event.getX(), event.getY());\r\n        if (result)\r\n            invalidate();\r\n        return result || super.onTouchEvent(event);\r\n    }\r\n\r\n    public boolean onTouch(int action, float x, float y) {\r\n        if (action == MotionEvent.ACTION_DOWN) {\r\n            if (0 &lt;= x &amp;&amp; x &lt;= width &amp;&amp; y &gt;= 0 &amp;&amp; y &lt;= height) {\r\n                startX = x;\r\n                pressed = true;\r\n                thumbDX = (int) (x - thumbX);\r\n                startDragging = false;\r\n                return true;\r\n            }\r\n        } else if (action == MotionEvent.ACTION_UP || action == MotionEvent.ACTION_CANCEL) {\r\n            if (pressed) {\r\n                if (action == MotionEvent.ACTION_UP &amp;&amp; seekBarChangeListener != null) {\r\n                    seekBarChangeListener.OnSeekBarChangeListener((int) (((float) thumbX / (float) width) * duration));\r\n                }\r\n                pressed = false;\r\n                return true;\r\n            }\r\n        } else if (action == MotionEvent.ACTION_MOVE) {\r\n            if (pressed) {\r\n                if (startDragging) {\r\n                    thumbX = (int) (x - thumbDX);\r\n                    if (thumbX &lt; 0) {\r\n                        thumbX = 0;\r\n                    } else if (thumbX &gt; width) {\r\n                        thumbX = width;\r\n                    }\r\n                }\r\n                if (startX != -1 &amp;&amp; Math.abs(x - startX) &gt; px2cm(context, 0.2f)) {\r\n                    if (parentView != null &amp;&amp; parentView.getParent() != null) {\r\n                        parentView.getParent().requestDisallowInterceptTouchEvent(true);\r\n                    }\r\n                    startDragging = true;\r\n                    startX = -1;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    protected void onLayout(boolean changed, int left, int top, int right, int bottom) {\r\n        super.onLayout(changed, left, top, right, bottom);\r\n        setSize(right - left, bottom - top);\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        super.onDraw(canvas);\r\n        if (waveformBytes == null || width == 0) {\r\n            return;\r\n        }\r\n        float totalBarsCount = width / dip2px(context, 3);\r\n        if (totalBarsCount &lt;= 0.1f)\r\n            return;\r\n\r\n        int max = waveformBytes[0];\r\n        int min = waveformBytes[0];\r\n        for (int i = 1; i &lt; waveformBytes.length; i++) {\r\n            if (waveformBytes[i] &gt; max) max = waveformBytes[i];\r\n            if (waveformBytes[i] &lt; min) min = waveformBytes[i];\r\n        }\r\n        int samplesCount = waveformBytes.length;\r\n        float samplesPerBar = samplesCount / totalBarsCount;\r\n        float barCounter = 0;\r\n        int nextBarNum = 0;\r\n\r\n        paintInner.setColor(pressed ? pressedColor : innerColor);\r\n        paintOuter.setColor(outerColor);\r\n\r\n        int barNum = 0;\r\n        int lastBarNum;\r\n        int drawBarCount;\r\n\r\n        for (int a = 0; a &lt; samplesCount; a++) {\r\n            if (a != nextBarNum) {\r\n                continue;\r\n            }\r\n            drawBarCount = 0;\r\n            lastBarNum = nextBarNum;\r\n            while (lastBarNum == nextBarNum) {\r\n                barCounter += samplesPerBar;\r\n                nextBarNum = (int) barCounter;\r\n                drawBarCount++;\r\n            }\r\n\r\n            int value = (waveformBytes[a] - min) % (max + 1);\r\n\r\n            for (int b = 0; b &lt; drawBarCount; b++) {\r\n                float x = barNum * dip2px(context, 4);\r\n                if (x &lt; thumbX &amp;&amp; x + dip2px(context, 3) &lt; thumbX) {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\r\n                        canvas.drawRoundRect(x, height - Math.max(dip2px(context, 3), height * value / max), x + dip2px(context, 3), height, 50, 50, paintOuter);\r\n                    else\r\n                        canvas.drawRect(x, height - Math.max(dip2px(context, 3), height * value / max), x + dip2px(context, 3), height, paintOuter);\r\n                } else {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\r\n                        canvas.drawRoundRect(x, height - Math.max(dip2px(context, 3), height * value / max), x + dip2px(context, 3), height, 50, 50, paintInner);\r\n                    else\r\n                        canvas.drawRect(x, height - Math.max(dip2px(context, 3), height * value / max), x + dip2px(context, 3), height, paintInner);\r\n                    if (x &lt; thumbX) {\r\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\r\n                            canvas.drawRoundRect(x, height - Math.max(dip2px(context, 3), height * value / max), thumbX, height, 50, 50, paintOuter);\r\n                        else\r\n                            canvas.drawRect(x, height - Math.max(dip2px(context, 3), height * value / max), thumbX, height, paintOuter);\r\n                    }\r\n                }\r\n                barNum++;\r\n            }\r\n        }\r\n    }\r\n\r\n    public interface SeekBarChangeListener {\r\n        void OnSeekBarChangeListener(int progress);\r\n    }\r\n}\r\n```","title":"How to get a SoundCloud like waveforms-seekbar in Android","body":"<p>I have generated a simple waveform like the picture below with my code.</p>\n<p><a href=\"https://i.stack.imgur.com/IsNBc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IsNBc.png\" alt=\"enter image description here\" /></a></p>\n<p>But I want to give more gap between each line I want it to be like the SoundCloud waves like the picture below.</p>\n<p><a href=\"https://i.stack.imgur.com/ja9q0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ja9q0.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AudioWaveSeekBar extends View {\n    private static Paint paintInner;\n    private static Paint paintOuter;\n    private int width;\n    private int height;\n    private float startX;\n    private int thumbX = 0;\n    private View parentView;\n    private Context context;\n    private int thumbDX = 0;\n    private byte[] waveformBytes;\n    private boolean pressed = false;\n    private boolean startDragging = false;\n    private SeekBarChangeListener seekBarChangeListener;\n    private int innerColor = 0xffafbcd7;\n    private int outerColor = 0xff3b5998;\n    private int pressedColor = 0xffa7b8dc;\n    private int duration;\n\n    public AudioWaveSeekBar(Context context) {\n        this(context, null);\n    }\n\n    public AudioWaveSeekBar(Context context, AttributeSet attrs) {\n        this(context, attrs, 0);\n    }\n\n    public AudioWaveSeekBar(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        this.context = context;\n        if (paintInner == null) {\n            paintInner = new Paint();\n            paintOuter = new Paint();\n        }\n    }\n\n    public static float dip2px(Context context, float dp) {\n        return dp * context.getResources().getDisplayMetrics().density;\n    }\n\n    public static float px2cm(Context context, float cm) {\n        return (cm / 2.54f) * context.getResources().getDisplayMetrics().density;\n    }\n\n    public void setOnSeekBarChangeListener(SeekBarChangeListener seekBarDelegate) {\n        seekBarChangeListener = seekBarDelegate;\n    }\n\n    public void setColors(int inner, int outer, int selected) {\n        innerColor = inner;\n        outerColor = outer;\n        pressedColor = selected;\n    }\n\n    public void setWaveform(byte[] waveform) {\n        waveformBytes = waveform;\n        invalidate();\n    }\n\n    public void setProgress(float progress) {\n        if (duration != 0)\n            progress = progress / duration;\n        else\n            progress = 0;\n        thumbX = (int) Math.ceil(width * progress);\n        if (thumbX &lt; 0) {\n            thumbX = 0;\n        } else if (thumbX &gt; width) {\n            thumbX = width;\n        }\n        invalidate();\n    }\n\n    public void setParentView(View view) {\n        parentView = view;\n    }\n\n    public void setDuration(int duration) {\n        this.duration = duration;\n    }\n\n    public void setSize(int w, int h) {\n        width = w;\n        height = h;\n        invalidate();\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        boolean result = onTouch(event.getAction(), event.getX(), event.getY());\n        if (result)\n            invalidate();\n        return result || super.onTouchEvent(event);\n    }\n\n    public boolean onTouch(int action, float x, float y) {\n        if (action == MotionEvent.ACTION_DOWN) {\n            if (0 &lt;= x &amp;&amp; x &lt;= width &amp;&amp; y &gt;= 0 &amp;&amp; y &lt;= height) {\n                startX = x;\n                pressed = true;\n                thumbDX = (int) (x - thumbX);\n                startDragging = false;\n                return true;\n            }\n        } else if (action == MotionEvent.ACTION_UP || action == MotionEvent.ACTION_CANCEL) {\n            if (pressed) {\n                if (action == MotionEvent.ACTION_UP &amp;&amp; seekBarChangeListener != null) {\n                    seekBarChangeListener.OnSeekBarChangeListener((int) (((float) thumbX / (float) width) * duration));\n                }\n                pressed = false;\n                return true;\n            }\n        } else if (action == MotionEvent.ACTION_MOVE) {\n            if (pressed) {\n                if (startDragging) {\n                    thumbX = (int) (x - thumbDX);\n                    if (thumbX &lt; 0) {\n                        thumbX = 0;\n                    } else if (thumbX &gt; width) {\n                        thumbX = width;\n                    }\n                }\n                if (startX != -1 &amp;&amp; Math.abs(x - startX) &gt; px2cm(context, 0.2f)) {\n                    if (parentView != null &amp;&amp; parentView.getParent() != null) {\n                        parentView.getParent().requestDisallowInterceptTouchEvent(true);\n                    }\n                    startDragging = true;\n                    startX = -1;\n                }\n                return true;\n            }\n        }\n        return false;\n    }\n\n    @Override\n    protected void onLayout(boolean changed, int left, int top, int right, int bottom) {\n        super.onLayout(changed, left, top, right, bottom);\n        setSize(right - left, bottom - top);\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n        if (waveformBytes == null || width == 0) {\n            return;\n        }\n        float totalBarsCount = width / dip2px(context, 3);\n        if (totalBarsCount &lt;= 0.1f)\n            return;\n\n        int max = waveformBytes[0];\n        int min = waveformBytes[0];\n        for (int i = 1; i &lt; waveformBytes.length; i++) {\n            if (waveformBytes[i] &gt; max) max = waveformBytes[i];\n            if (waveformBytes[i] &lt; min) min = waveformBytes[i];\n        }\n        int samplesCount = waveformBytes.length;\n        float samplesPerBar = samplesCount / totalBarsCount;\n        float barCounter = 0;\n        int nextBarNum = 0;\n\n        paintInner.setColor(pressed ? pressedColor : innerColor);\n        paintOuter.setColor(outerColor);\n\n        int barNum = 0;\n        int lastBarNum;\n        int drawBarCount;\n\n        for (int a = 0; a &lt; samplesCount; a++) {\n            if (a != nextBarNum) {\n                continue;\n            }\n            drawBarCount = 0;\n            lastBarNum = nextBarNum;\n            while (lastBarNum == nextBarNum) {\n                barCounter += samplesPerBar;\n                nextBarNum = (int) barCounter;\n                drawBarCount++;\n            }\n\n            int value = (waveformBytes[a] - min) % (max + 1);\n\n            for (int b = 0; b &lt; drawBarCount; b++) {\n                float x = barNum * dip2px(context, 4);\n                if (x &lt; thumbX &amp;&amp; x + dip2px(context, 3) &lt; thumbX) {\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\n                        canvas.drawRoundRect(x, height - Math.max(dip2px(context, 3), height * value / max), x + dip2px(context, 3), height, 50, 50, paintOuter);\n                    else\n                        canvas.drawRect(x, height - Math.max(dip2px(context, 3), height * value / max), x + dip2px(context, 3), height, paintOuter);\n                } else {\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\n                        canvas.drawRoundRect(x, height - Math.max(dip2px(context, 3), height * value / max), x + dip2px(context, 3), height, 50, 50, paintInner);\n                    else\n                        canvas.drawRect(x, height - Math.max(dip2px(context, 3), height * value / max), x + dip2px(context, 3), height, paintInner);\n                    if (x &lt; thumbX) {\n                        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\n                            canvas.drawRoundRect(x, height - Math.max(dip2px(context, 3), height * value / max), thumbX, height, 50, 50, paintOuter);\n                        else\n                            canvas.drawRect(x, height - Math.max(dip2px(context, 3), height * value / max), thumbX, height, paintOuter);\n                    }\n                }\n                barNum++;\n            }\n        }\n    }\n\n    public interface SeekBarChangeListener {\n        void OnSeekBarChangeListener(int progress);\n    }\n}\n</code></pre>\n"},{"tags":["java","node.js","discord.js"],"comments":[{"owner":{"display_name":"user437212"},"score":0,"creation_date":1654703876,"post_id":72534913,"comment_id":128156445,"body_markdown":"&quot;stopped working&quot;. Please tell us with an [edit] what this means, with examples.","body":"&quot;stopped working&quot;. Please tell us with an <a href=\"https://stackoverflow.com/posts/72534913/edit\">edit</a> what this means, with examples."}],"answers":[{"tags":[],"owner":{"account_id":21032085,"reputation":19,"user_id":15456231,"display_name":"Courtney1723"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654634185,"creation_date":1654624183,"answer_id":72535569,"question_id":72534913,"body_markdown":"It&#39;s possibly a typo in line 5: \r\n```\r\nonst config = require(&#39;../Database/config.json&#39;);\r\n```\r\nshould be\r\n```\r\nconst config = require(&#39;../Database/config.json&#39;);\r\n```\r\n\r\n","title":"Node.js embed isn&#39;t generating invite links","body":"<p>It's possibly a typo in line 5:</p>\n<pre><code>onst config = require('../Database/config.json');\n</code></pre>\n<p>should be</p>\n<pre><code>const config = require('../Database/config.json');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23651407,"reputation":1175,"user_id":17680233,"display_name":"新Acesyyy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654648725,"creation_date":1654648725,"answer_id":72538876,"question_id":72534913,"body_markdown":"To create a link on embed:\r\n\r\n    const embed = new MessageEmbed()\r\n    .setDescription(&#39;[Testing Link](https://www.google.com/)&#39;) //Your HyperLink\r\n    message.channel.send({embeds: [embed]})\r\n\r\nThese should be your code looks like:\r\n\r\n    embed.setDescription(`[${guild}] - (${description})`)\r\n[![Something like these][1]][1]\r\n\r\n    const guild = &quot;Something Testing for a link&quot;;\r\n    const description = &quot;https://www.google.com/&quot;;\r\n\r\n    const embed = new MessageEmbed()\r\n    .setDescription(`[${guild}](${description})`)\r\n    message.channel.send({embeds: [embed]})\r\n\r\nRemember to start your Hyperlink with `https://` or `http://`\r\n\r\n  [1]: https://i.stack.imgur.com/L77es.png","title":"Node.js embed isn&#39;t generating invite links","body":"<p>To create a link on embed:</p>\n<pre><code>const embed = new MessageEmbed()\n.setDescription('[Testing Link](https://www.google.com/)') //Your HyperLink\nmessage.channel.send({embeds: [embed]})\n</code></pre>\n<p>These should be your code looks like:</p>\n<pre><code>embed.setDescription(`[${guild}] - (${description})`)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/L77es.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L77es.png\" alt=\"Something like these\" /></a></p>\n<pre><code>const guild = &quot;Something Testing for a link&quot;;\nconst description = &quot;https://www.google.com/&quot;;\n\nconst embed = new MessageEmbed()\n.setDescription(`[${guild}](${description})`)\nmessage.channel.send({embeds: [embed]})\n</code></pre>\n<p>Remember to start your Hyperlink with <code>https://</code> or <code>http://</code></p>\n"}],"owner":{"account_id":25419523,"reputation":39,"user_id":19225804,"display_name":"Do0ks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72538876,"answer_count":2,"score":-1,"last_activity_date":1654791797,"creation_date":1654620667,"question_id":72534913,"body_markdown":"not really sure what&#39;s going on with this code..\r\nAt one point, the code was working fine. Woke up the next day and it completely stopped working. Im not sure if something was updated, but its just weird.\r\nJavaScript isn&#39;t my strongest language\r\n\r\nDoes anyone have any ideas? Me and 3 others have been stumped for a few days on this.\r\nThanks for any help!\r\n\r\n    const { SlashCommandBuilder } = require(&#39;@discordjs/builders&#39;);\r\n    const { MessageEmbed } = require(&#39;discord.js&#39;);\r\n    const { QuickDB } = require(&#39;quick.db&#39;);\r\n    const db = new QuickDB();\r\n    const config = require(&#39;../Database/config.json&#39;);\r\n\r\n    module.exports = {\r\n      data: new SlashCommandBuilder()\r\n        .setName(&#39;farm&#39;)\r\n        .setDescription(&#39;Join servers for coins!&#39;),\r\n    async execute(interaction, client) {\r\n\r\n        await interaction.deferReply();\r\n\r\n        let orders = await db.all(`orders_`, { sort: &quot;.data&quot; })\r\n\r\n        let length = 0;\r\n\r\n        orders = orders.filter(x =&gt; x.data &gt; 0 &amp;&amp; client.guilds.cache.get(x.ID.split(&quot;_&quot;)[1]) \r\n    &amp;&amp; client.guilds.cache.get(x.ID.split(&quot;_&quot;)[1]).members.cache.get(interaction.user.id) === \r\n    undefined)\r\n\r\n        const embed = new MessageEmbed()\r\n            .setColor(&quot;RANDOM&quot;)\r\n            .setTitle(&#39;Farm!&#39;)\r\n\r\n        for (let i = 0; i &lt; orders.length; i++) {\r\n\r\n            let handler = true\r\n            \r\n            console.log(orders)\r\n            \r\n\r\n            if (length &gt;= 1) { return; } else {\r\n\r\n                let id = orders[i].ID.split(&quot;_&quot;)[1]\r\n\r\n                let guild = client.guilds.cache.get(orders[i].ID.split(&quot;_&quot;)[1]).name\r\n\r\n                let code = await db.get(`code_${id}`)\r\n\r\n\r\n                await client.fetchInvite(&quot;https://discord.gg/&quot; + code)\r\n                    .then(link =&gt; {\r\n                        console.log(link.code)\r\n                        if (link.code === null) handler = false\r\n                    })\r\n                    .catch(error =&gt; {\r\n                        handler = false\r\n                    })\r\n\r\n                await new Promise(resolve =&gt; setTimeout(resolve, 1))\r\n\r\n                if (handler) {\r\n                    let description = await db.get(`description_${id}`)\r\n\r\n                    embed.setDescription(`${guild} - ${description}`,)\r\n                    length++\r\n                }\r\n             }\r\n          }\r\n\r\n            interaction.editReply({ embeds: [embed] });\r\n        },\r\n    };","title":"Node.js embed isn&#39;t generating invite links","body":"<p>not really sure what's going on with this code..\nAt one point, the code was working fine. Woke up the next day and it completely stopped working. Im not sure if something was updated, but its just weird.\nJavaScript isn't my strongest language</p>\n<p>Does anyone have any ideas? Me and 3 others have been stumped for a few days on this.\nThanks for any help!</p>\n<pre><code>const { SlashCommandBuilder } = require('@discordjs/builders');\nconst { MessageEmbed } = require('discord.js');\nconst { QuickDB } = require('quick.db');\nconst db = new QuickDB();\nconst config = require('../Database/config.json');\n\nmodule.exports = {\n  data: new SlashCommandBuilder()\n    .setName('farm')\n    .setDescription('Join servers for coins!'),\nasync execute(interaction, client) {\n\n    await interaction.deferReply();\n\n    let orders = await db.all(`orders_`, { sort: &quot;.data&quot; })\n\n    let length = 0;\n\n    orders = orders.filter(x =&gt; x.data &gt; 0 &amp;&amp; client.guilds.cache.get(x.ID.split(&quot;_&quot;)[1]) \n&amp;&amp; client.guilds.cache.get(x.ID.split(&quot;_&quot;)[1]).members.cache.get(interaction.user.id) === \nundefined)\n\n    const embed = new MessageEmbed()\n        .setColor(&quot;RANDOM&quot;)\n        .setTitle('Farm!')\n\n    for (let i = 0; i &lt; orders.length; i++) {\n\n        let handler = true\n        \n        console.log(orders)\n        \n\n        if (length &gt;= 1) { return; } else {\n\n            let id = orders[i].ID.split(&quot;_&quot;)[1]\n\n            let guild = client.guilds.cache.get(orders[i].ID.split(&quot;_&quot;)[1]).name\n\n            let code = await db.get(`code_${id}`)\n\n\n            await client.fetchInvite(&quot;https://discord.gg/&quot; + code)\n                .then(link =&gt; {\n                    console.log(link.code)\n                    if (link.code === null) handler = false\n                })\n                .catch(error =&gt; {\n                    handler = false\n                })\n\n            await new Promise(resolve =&gt; setTimeout(resolve, 1))\n\n            if (handler) {\n                let description = await db.get(`description_${id}`)\n\n                embed.setDescription(`${guild} - ${description}`,)\n                length++\n            }\n         }\n      }\n\n        interaction.editReply({ embeds: [embed] });\n    },\n};\n</code></pre>\n"},{"tags":["java","string","list","split"],"answers":[{"tags":[],"owner":{"account_id":12914911,"reputation":1158,"user_id":9339516,"display_name":"ᴓᴓᴓ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654633451,"creation_date":1654633451,"answer_id":72537165,"question_id":72537120,"body_markdown":"I think you already have the answer? Maybe this could make it more clear.\r\nhttps://stackoverflow.com/questions/454908/split-java-string-by-new-line\r\n\r\n\r\n```\r\nString content = &quot;das,fdfd,fdsd,dsds,arer&quot; + &quot;\\n&quot; +\r\n                     &quot;abv,dsds,dsa,wew,ewewew&quot; + &quot;\\n&quot; +\r\n                     &quot;dfdf,wewes,mds,ojop,nsmcd&quot;;\r\nif (content.contains(&quot;\\n&quot;)) {\r\n    String[] parts = content.split(&quot;\\\\r?\\\\n&quot;);\r\n    String part1 = parts[0]; \r\n    String part2 = parts[1];\r\n    String part3 = parts[2];\r\n}\r\n```\r\n","title":"Want to separate long string and add it to list","body":"<p>I think you already have the answer? Maybe this could make it more clear.\n<a href=\"https://stackoverflow.com/questions/454908/split-java-string-by-new-line\">Split Java String by New Line</a></p>\n<pre><code>String content = &quot;das,fdfd,fdsd,dsds,arer&quot; + &quot;\\n&quot; +\n                     &quot;abv,dsds,dsa,wew,ewewew&quot; + &quot;\\n&quot; +\n                     &quot;dfdf,wewes,mds,ojop,nsmcd&quot;;\nif (content.contains(&quot;\\n&quot;)) {\n    String[] parts = content.split(&quot;\\\\r?\\\\n&quot;);\n    String part1 = parts[0]; \n    String part2 = parts[1];\n    String part3 = parts[2];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654791198,"creation_date":1654633708,"answer_id":72537205,"question_id":72537120,"body_markdown":"You don&#39;t need to have a while loop, the `split(String regex)` already returns `String[]`. The `\\` character should also be escaped, so `&quot;\\n&quot;` becomes `&quot;\\\\n&quot;`.\r\n\r\n\r\n```\r\nString content = &quot;das,fdfd,fdsd,dsds,arer&quot; + &quot;\\n&quot; +\r\n            &quot;abv,dsds,dsa,wew,ewewew&quot; + &quot;\\n&quot; +\r\n            &quot;dfdf,wewes,mds,ojop,nsmcd&quot;;\r\n\r\nList&lt;String&gt; list = Arrays.asList(content.split(&quot;\\\\n&quot;));\r\nSystem.out.println(list);\r\n```\r\n\r\nSee this [code run live at Ideone.com][1].\r\n\r\n\r\n  [1]: https://ideone.com/DQEEeW","title":"Want to separate long string and add it to list","body":"<p>You don't need to have a while loop, the <code>split(String regex)</code> already returns <code>String[]</code>. The <code>\\</code> character should also be escaped, so <code>&quot;\\n&quot;</code> becomes <code>&quot;\\\\n&quot;</code>.</p>\n<pre><code>String content = &quot;das,fdfd,fdsd,dsds,arer&quot; + &quot;\\n&quot; +\n            &quot;abv,dsds,dsa,wew,ewewew&quot; + &quot;\\n&quot; +\n            &quot;dfdf,wewes,mds,ojop,nsmcd&quot;;\n\nList&lt;String&gt; list = Arrays.asList(content.split(&quot;\\\\n&quot;));\nSystem.out.println(list);\n</code></pre>\n<p>See this <a href=\"https://ideone.com/DQEEeW\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n"}],"owner":{"account_id":25285411,"reputation":17,"user_id":19112514,"display_name":"Ajm Kir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654859381,"answer_count":2,"score":0,"last_activity_date":1654791198,"creation_date":1654633093,"question_id":72537120,"body_markdown":"   I have a long string essentially like below,  I want to add each line in the string into the List as its own individual string. In this case for each line, there would be 3 different elements in the List.\r\n\r\n     String content = &quot;das,fdfd,fdsd,dsds,arer&quot; + &quot;\\n&quot; +\r\n                         &quot;abv,dsds,dsa,wew,ewewew&quot; + &quot;\\n&quot; +\r\n                         &quot;dfdf,wewes,mds,ojop,nsmcd&quot;\r\n    \r\n    while (content.contains(&quot;\\n&quot;)){\r\n         list = Arrays.asList(content.split(&quot;\\n&quot;));\r\n        }\r\n\r\n       System.out.println(list);","title":"Want to separate long string and add it to list","body":"<p>I have a long string essentially like below,  I want to add each line in the string into the List as its own individual string. In this case for each line, there would be 3 different elements in the List.</p>\n<pre><code> String content = &quot;das,fdfd,fdsd,dsds,arer&quot; + &quot;\\n&quot; +\n                     &quot;abv,dsds,dsa,wew,ewewew&quot; + &quot;\\n&quot; +\n                     &quot;dfdf,wewes,mds,ojop,nsmcd&quot;\n\nwhile (content.contains(&quot;\\n&quot;)){\n     list = Arrays.asList(content.split(&quot;\\n&quot;));\n    }\n\n   System.out.println(list);\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","lifecycle"],"comments":[{"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1559122136,"post_id":14731092,"comment_id":99318496,"body_markdown":"And what happened? What did you want to happen?","body":"And what happened? What did you want to happen?"}],"answers":[{"tags":[],"owner":{"account_id":38973,"reputation":17442,"user_id":112222,"accept_rate":88,"display_name":"Teja Kantamneni"},"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1360161187,"creation_date":1360161187,"answer_id":14731561,"question_id":14731092,"body_markdown":"Try this \r\n`@Scope(value=&quot;request&quot;, proxyMode= ScopedProxyMode.TARGET_CLASS)`\r\n\r\nFor more details see this [blog post][1].\r\n\r\n\r\n  [1]: http://whyjava.wordpress.com/2010/10/30/spring-scoped-proxy-beans-an-alternative-to-method-injection/","title":"Spring request scope bean","body":"<p>Try this \n<code>@Scope(value=\"request\", proxyMode= ScopedProxyMode.TARGET_CLASS)</code></p>\n\n<p>For more details see this <a href=\"http://whyjava.wordpress.com/2010/10/30/spring-scoped-proxy-beans-an-alternative-to-method-injection/\" rel=\"noreferrer\">blog post</a>.</p>\n"},{"tags":[],"owner":{"account_id":7095926,"reputation":2491,"user_id":6790744,"display_name":"Akshay Bande"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559121797,"creation_date":1559121797,"answer_id":56357199,"question_id":14731092,"body_markdown":"You can set your bean to request scope by xml configuration as \r\n\r\n     &lt;bean id=&quot;testBean&quot; class=&quot;com.test.TestBean&quot; scope=&quot;request&quot;&gt;\r\n        &lt;aop:scoped-proxy/&gt;\r\n      &lt;/bean&gt;\r\n\r\n\r\nTag **aop:scoped-proxy**  will be used to inject your bean using proxy. This is xml based way to set your bean to request scope. ","title":"Spring request scope bean","body":"<p>You can set your bean to request scope by xml configuration as </p>\n\n<pre><code> &lt;bean id=\"testBean\" class=\"com.test.TestBean\" scope=\"request\"&gt;\n    &lt;aop:scoped-proxy/&gt;\n  &lt;/bean&gt;\n</code></pre>\n\n<p>Tag <strong>aop:scoped-proxy</strong>  will be used to inject your bean using proxy. This is xml based way to set your bean to request scope. </p>\n"},{"tags":[],"owner":{"account_id":25517906,"reputation":1,"user_id":19308430,"display_name":"Damien Monchaty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654790989,"creation_date":1654790910,"answer_id":72563511,"question_id":14731092,"body_markdown":"Try scopeName instead of value\r\n\r\n@Scope(scopeName = &quot;request&quot;, proxyMode = ScopedProxyMode.TARGET_CLASS)","title":"Spring request scope bean","body":"<p>Try scopeName instead of value</p>\n<p>@Scope(scopeName = &quot;request&quot;, proxyMode = ScopedProxyMode.TARGET_CLASS)</p>\n"}],"owner":{"account_id":1317112,"reputation":1575,"user_id":1263727,"accept_rate":86,"display_name":"john Smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33234,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":14731561,"answer_count":3,"score":17,"last_activity_date":1654790989,"creation_date":1360159764,"question_id":14731092,"body_markdown":"How can I set up a bean which will created once per request. \r\n\r\nI Tried to do like this :\r\n\r\n\r\n\r\n       @Component\r\n       @Scope(value = &quot;request&quot;)\r\n       public class TestBean {\r\n            @PostConstruct\r\n            public void init() {\r\n                 System.out.println(&quot;start request&quot;);\r\n            }\r\n\r\n            @PreDestroy\r\n            public void onDestroy() {\r\n                 System.out.println(&quot;ends request&quot;);\r\n            }\r\n       }\r\n\r\n\r\nThanks.","title":"Spring request scope bean","body":"<p>How can I set up a bean which will created once per request. </p>\n\n<p>I Tried to do like this :</p>\n\n<pre><code>   @Component\n   @Scope(value = \"request\")\n   public class TestBean {\n        @PostConstruct\n        public void init() {\n             System.out.println(\"start request\");\n        }\n\n        @PreDestroy\n        public void onDestroy() {\n             System.out.println(\"ends request\");\n        }\n   }\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["java","rest","web-services","jersey","jax-rs"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1654712180,"post_id":72550318,"comment_id":128159435,"body_markdown":"Is `{start}` a `@PathParam`?","body":"Is <code>{start}</code> a <code>@PathParam</code>?"},{"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"score":0,"creation_date":1654712454,"post_id":72550318,"comment_id":128159554,"body_markdown":"@stdunbar Yes, the value can change, based on the URI, i want the beginning parameter i.e. `/v1` to be optional. With or with `/v1` , the URI must hit the same endpoint resource class.","body":"@stdunbar Yes, the value can change, based on the URI, i want the beginning parameter i.e. <code>&#47;v1</code> to be optional. With or with <code>&#47;v1</code> , the URI must hit the same endpoint resource class."},{"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"score":0,"creation_date":1654712669,"post_id":72550318,"comment_id":128159633,"body_markdown":"You can create two end points using the code similar as above. And both the resource layer can call the same internl service","body":"You can create two end points using the code similar as above. And both the resource layer can call the same internl service"},{"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"score":0,"creation_date":1654712803,"post_id":72550318,"comment_id":128159702,"body_markdown":"@DeepakPatankar Not an option, need to have a single class which can resolve to two different endpoints.","body":"@DeepakPatankar Not an option, need to have a single class which can resolve to two different endpoints."}],"answers":[{"tags":[],"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654790761,"creation_date":1654790761,"answer_id":72563479,"question_id":72550318,"body_markdown":"Okay, I found a solution for this using Regx in the @Path annotation as follows:\r\n\r\n    @Path(&quot;/{ver : (v1/)?}{start}/resource&quot;)\r\n    public class classA{\r\n    \r\n    //Business logic\r\n    \r\n    }\r\n\r\nThe `&quot;/{ver : (v1/)?}{start}/resource&quot;` will resolve to both `/v1/start/resource` or `/start/resource`\r\n\r\n","title":"Multiple root paths for same Jersey REST API class","body":"<p>Okay, I found a solution for this using Regx in the @Path annotation as follows:</p>\n<pre><code>@Path(&quot;/{ver : (v1/)?}{start}/resource&quot;)\npublic class classA{\n\n//Business logic\n\n}\n</code></pre>\n<p>The <code>&quot;/{ver : (v1/)?}{start}/resource&quot;</code> will resolve to both <code>/v1/start/resource</code> or <code>/start/resource</code></p>\n"}],"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654790761,"creation_date":1654711484,"question_id":72550318,"body_markdown":"I have a Jersey REST API class with following root path\r\n\r\n    @Path(/v1/{start}/resource)\r\n    public class classA{\r\n\r\n    //Business logic\r\n\r\n    }\r\n\r\nNow I have a requirement where I need to have one more path which points to same REST class, i.e have two paths pointing to same rest class, for example:\r\n\r\nBoth endpoints `/v1/start/resource` and `/start/resource` should hit the same above given rest class.\r\n\r\nIs there any way to achieve this?\r\n\r\n\r\n\r\n\r\n","title":"Multiple root paths for same Jersey REST API class","body":"<p>I have a Jersey REST API class with following root path</p>\n<pre><code>@Path(/v1/{start}/resource)\npublic class classA{\n\n//Business logic\n\n}\n</code></pre>\n<p>Now I have a requirement where I need to have one more path which points to same REST class, i.e have two paths pointing to same rest class, for example:</p>\n<p>Both endpoints <code>/v1/start/resource</code> and <code>/start/resource</code> should hit the same above given rest class.</p>\n<p>Is there any way to achieve this?</p>\n"},{"tags":["java","itext","itext7"],"comments":[{"owner":{"account_id":8178327,"reputation":1669,"user_id":6156384,"display_name":"Samuel Huylebroeck"},"score":0,"creation_date":1507808994,"post_id":46707630,"comment_id":80364001,"body_markdown":"Yes. several approaches exist by changing page size at `Document` level. The best approach to take will depend on your usecase. If you need a new page after certain content is added, you can set the page-size and add a page-break element to force a new page, if you need something like a landscape page every X pages, page events are your best bet, etc.","body":"Yes. several approaches exist by changing page size at <code>Document</code> level. The best approach to take will depend on your usecase. If you need a new page after certain content is added, you can set the page-size and add a page-break element to force a new page, if you need something like a landscape page every X pages, page events are your best bet, etc."},{"owner":{"account_id":9363087,"reputation":177,"user_id":6948843,"accept_rate":100,"display_name":"Franken"},"score":0,"creation_date":1507859655,"post_id":46707630,"comment_id":80389377,"body_markdown":"Yes, I want to add a new page(different page-kind) after certain content is added. How to set the page-size and add a page-break element to force a new page? I need a help. Thanks for your comment.","body":"Yes, I want to add a new page(different page-kind) after certain content is added. How to set the page-size and add a page-break element to force a new page? I need a help. Thanks for your comment."}],"answers":[{"tags":[],"owner":{"account_id":8507892,"reputation":83,"user_id":6378811,"display_name":"UMKalaycı"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507805787,"creation_date":1507805787,"answer_id":46707847,"question_id":46707630,"body_markdown":"\r\nMaybe it might work\r\n\r\n    Rectangle one = new Rectangle(70,140);\r\n    document.setPageSize(one);","title":"How to create a document with unequal page sizes in iText 7","body":"<p>Maybe it might work</p>\n\n<pre><code>Rectangle one = new Rectangle(70,140);\ndocument.setPageSize(one);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8178327,"reputation":1669,"user_id":6156384,"display_name":"Samuel Huylebroeck"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1507880540,"creation_date":1507880540,"answer_id":46724935,"question_id":46707630,"body_markdown":"If you&#39;re adding content through the high-level API (`Document.add()` and its ilk), and the desired page-size is directly tied to specific content, modifying the default page-size through `PdfDocument.setDefaultPageSize` is probably the cleanest and easiest way to go about it, like this:\r\n\r\n    public void createPdf(String dest) throws IOException, FileNotFoundException{\r\n    \tPdfWriter writer = new PdfWriter(dest);\r\n    \tPdfDocument pdfDoc = new PdfDocument(writer);\r\n    \tDocument doc = new Document(pdfDoc);\r\n    \tpdfDoc.setDefaultPageSize(PageSize.A5);//All pages will be added using this page size\r\n    \tString paragraphOneText = &quot;I have seen the face of sorrow\\n&quot; +\r\n    \t\t\t&quot;She looks away in the distance\\n&quot; +\r\n    \t\t\t&quot;Across all these bridges\\n&quot; +\r\n    \t\t\t&quot;From whence I came\\n&quot; +\r\n    \t\t\t&quot;And those spans, trussed and arched\\n&quot; +\r\n    \t\t\t&quot;Hold up our lives as we go back again\\n&quot; +\r\n    \t\t\t&quot;To how we thought then\\n&quot; +\r\n    \t\t\t&quot;To how we thought we thought then&quot;;\r\n    \tString paragraphTwoText = &quot;I have seen sorrow&#39;s face,\\n&quot; +\r\n    \t\t\t&quot;But she is ever turned away\\n&quot; +\r\n    \t\t\t&quot;And her words leave me blind\\n&quot; +\r\n    \t\t\t&quot;Her eyes make me mute\\n&quot; +\r\n    \t\t\t&quot;I do not understand what she says to me\\n&quot; +\r\n    \t\t\t&quot;I do not know if to obey\\n&quot; +\r\n    \t\t\t&quot;Or attempt a flood of tears&quot;;\r\n    \tString paragraphThreeText  = &quot;I have seen her face\\n&quot; +\r\n    \t\t\t&quot;She does not speak\\n&quot; +\r\n    \t\t\t&quot;She does not weep\\n&quot; +\r\n    \t\t\t&quot;She does not know me\\n&quot; +\r\n    \t\t\t&quot;For I am but a stone fitted in place\\n&quot; +\r\n    \t\t\t&quot;On the bridge where she walks&quot;;\r\n    \tString attribution = &quot;--Toc the Younger&quot;;\r\n    \r\n    \tParagraph p = new Paragraph(paragraphOneText);\r\n    \t//Current default pagesize is A5, so any new pages will be created as A5\r\n    \tdoc.add(p);\r\n    \t//Changing default pagesize will affect any new pages that are created\r\n    \tpdfDoc.setDefaultPageSize(PageSize.A5.rotate());\r\n    \t//Adding an areabreak of type NEXT_PAGE will force the creation of a new page\r\n    \tdoc.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\r\n    \tp = new Paragraph(paragraphTwoText);\r\n    \tdoc.add(p);\r\n    \tpdfDoc.setDefaultPageSize(PageSize.A5);\r\n    \tdoc.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\r\n    \tp = new Paragraph(paragraphThreeText);\r\n    \tdoc.add(p);\r\n    \tp= new Paragraph(attribution);\r\n    \tdoc.add(p);\r\n    \tdoc.close();\r\n    }","title":"How to create a document with unequal page sizes in iText 7","body":"<p>If you're adding content through the high-level API (<code>Document.add()</code> and its ilk), and the desired page-size is directly tied to specific content, modifying the default page-size through <code>PdfDocument.setDefaultPageSize</code> is probably the cleanest and easiest way to go about it, like this:</p>\n\n<pre><code>public void createPdf(String dest) throws IOException, FileNotFoundException{\n    PdfWriter writer = new PdfWriter(dest);\n    PdfDocument pdfDoc = new PdfDocument(writer);\n    Document doc = new Document(pdfDoc);\n    pdfDoc.setDefaultPageSize(PageSize.A5);//All pages will be added using this page size\n    String paragraphOneText = \"I have seen the face of sorrow\\n\" +\n            \"She looks away in the distance\\n\" +\n            \"Across all these bridges\\n\" +\n            \"From whence I came\\n\" +\n            \"And those spans, trussed and arched\\n\" +\n            \"Hold up our lives as we go back again\\n\" +\n            \"To how we thought then\\n\" +\n            \"To how we thought we thought then\";\n    String paragraphTwoText = \"I have seen sorrow's face,\\n\" +\n            \"But she is ever turned away\\n\" +\n            \"And her words leave me blind\\n\" +\n            \"Her eyes make me mute\\n\" +\n            \"I do not understand what she says to me\\n\" +\n            \"I do not know if to obey\\n\" +\n            \"Or attempt a flood of tears\";\n    String paragraphThreeText  = \"I have seen her face\\n\" +\n            \"She does not speak\\n\" +\n            \"She does not weep\\n\" +\n            \"She does not know me\\n\" +\n            \"For I am but a stone fitted in place\\n\" +\n            \"On the bridge where she walks\";\n    String attribution = \"--Toc the Younger\";\n\n    Paragraph p = new Paragraph(paragraphOneText);\n    //Current default pagesize is A5, so any new pages will be created as A5\n    doc.add(p);\n    //Changing default pagesize will affect any new pages that are created\n    pdfDoc.setDefaultPageSize(PageSize.A5.rotate());\n    //Adding an areabreak of type NEXT_PAGE will force the creation of a new page\n    doc.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\n    p = new Paragraph(paragraphTwoText);\n    doc.add(p);\n    pdfDoc.setDefaultPageSize(PageSize.A5);\n    doc.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\n    p = new Paragraph(paragraphThreeText);\n    doc.add(p);\n    p= new Paragraph(attribution);\n    doc.add(p);\n    doc.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11526668,"reputation":66,"user_id":8548836,"display_name":"Jackson Faria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654790701,"creation_date":1654790701,"answer_id":72563463,"question_id":46707630,"body_markdown":" Try this...\r\n\r\n    PageSize PageSize = new PageSize(100,50);\r\n    \r\n    PdfDocument pdfDoc = new PdfDocument(new PdfWriter(memoryStream));\r\n    pdfDoc.SetDefaultPageSize(PageSize);","title":"How to create a document with unequal page sizes in iText 7","body":"<p>Try this...</p>\n<pre><code>PageSize PageSize = new PageSize(100,50);\n\nPdfDocument pdfDoc = new PdfDocument(new PdfWriter(memoryStream));\npdfDoc.SetDefaultPageSize(PageSize);\n</code></pre>\n"}],"owner":{"account_id":9363087,"reputation":177,"user_id":6948843,"accept_rate":100,"display_name":"Franken"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5296,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":46724935,"answer_count":3,"score":4,"last_activity_date":1654790701,"creation_date":1507805049,"question_id":46707630,"body_markdown":"How to create a document with unequal page sizes in iText 7?\r\n\r\nIs it possible in iText7?\r\n\r\nIn iText5, I used `document.setPageSize()` and `document.newPage()`.","title":"How to create a document with unequal page sizes in iText 7","body":"<p>How to create a document with unequal page sizes in iText 7?</p>\n\n<p>Is it possible in iText7?</p>\n\n<p>In iText5, I used <code>document.setPageSize()</code> and <code>document.newPage()</code>.</p>\n"},{"tags":["java","sqlite","vert.x"],"answers":[{"tags":[],"owner":{"account_id":4688294,"reputation":1004,"user_id":3795137,"accept_rate":83,"display_name":"andykais"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654790618,"creation_date":1654790618,"answer_id":72563439,"question_id":72563424,"body_markdown":"So these arent definitive answers, but I have tried a few other options, and want to outline them here.\r\n\r\nFor instance, vertx can instantiate a SQLClient without a pool:\r\n\r\n```java\r\nJsonObject config = new JsonObject()\r\n    .put(&quot;url&quot;, &quot;jdbc:sqlite:&quot;+databaseFile)\r\n    .put(&quot;driver_class&quot;, &quot;org.sqlite.jdbcDriver&quot;)\r\n    .put(&quot;max_pool_size&quot;, 1);\r\n\r\nVertx vertx = Vertx.vertx();\r\nSQLClient client = JDBCClient.create(vertx, config);\r\n```\r\nthough this still uses a connection pool, so I have to make the same adjustments to set a single connection in the pool, so that the pragma sticks.\r\n\r\nThere is also a `SQLiteConfig` class from the sqlite library, but I have no idea how to connect that into the vertx jdbc wrappers\r\n```java\r\norg.sqlite.SQLiteConfig config = new org.sqlite.SQLiteConfig();\r\nconfig.setSynchronous(SynchronousMode.NORMAL);\r\n```\r\n\r\n\r\nis a pool required with vertx? I did try running the sqlite jdbc driver directly, without a vertx wrapper. But this ran into all kinds of `SQLITE_BUSY` exceptions.","title":"java vertx jdbc sqlite: how to set PRAGMA syncronous=NORMAL","body":"<p>So these arent definitive answers, but I have tried a few other options, and want to outline them here.</p>\n<p>For instance, vertx can instantiate a SQLClient without a pool:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonObject config = new JsonObject()\n    .put(&quot;url&quot;, &quot;jdbc:sqlite:&quot;+databaseFile)\n    .put(&quot;driver_class&quot;, &quot;org.sqlite.jdbcDriver&quot;)\n    .put(&quot;max_pool_size&quot;, 1);\n\nVertx vertx = Vertx.vertx();\nSQLClient client = JDBCClient.create(vertx, config);\n</code></pre>\n<p>though this still uses a connection pool, so I have to make the same adjustments to set a single connection in the pool, so that the pragma sticks.</p>\n<p>There is also a <code>SQLiteConfig</code> class from the sqlite library, but I have no idea how to connect that into the vertx jdbc wrappers</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.sqlite.SQLiteConfig config = new org.sqlite.SQLiteConfig();\nconfig.setSynchronous(SynchronousMode.NORMAL);\n</code></pre>\n<p>is a pool required with vertx? I did try running the sqlite jdbc driver directly, without a vertx wrapper. But this ran into all kinds of <code>SQLITE_BUSY</code> exceptions.</p>\n"}],"owner":{"account_id":4688294,"reputation":1004,"user_id":3795137,"accept_rate":83,"display_name":"andykais"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654790640,"creation_date":1654790543,"question_id":72563424,"body_markdown":"Vertx outlines that this is the normal way to connect to a database here https://vertx.io/docs/vertx-jdbc-client/java/ :\r\n\r\n```java\r\nString databaseFile = &quot;sqlite.db&quot;;\r\n\r\nJDBCPool pool = JDBCPool.pool(\r\n    this.context.getVertx(),\r\n    new JDBCConnectOptions()\r\n        .setJdbcUrl(&quot;jdbc:sqlite:&quot;.concat(databaseFile)),\r\n    new PoolOptions()\r\n        .setMaxSize(1)\r\n        .setConnectionTimeout(CONNECTION_TIMEOUT)\r\n);\r\n```\r\nThis application I am writing has interprocess communication, so I want to use WAL mode, and synchronous=NORMAL to avoid heavy disk usage. The WAL pragma (`PRAGMA journal_model=WAL`) is set to the database itself, so I dont need to worry about it on application startup. However, the `synchronous` pragma _is_ set per connection, so I need to set that when the appplication starts. Currently that looks like this:\r\n\r\n```java\r\n// await this future\r\npool\r\n  .preparedQuery(&quot;PRAGMA synchronous=NORMAL&quot;)\r\n  .execute()\r\n```\r\n\r\nI can confirm that later on the synchronous pragma _is_ set on the database connection.\r\n```java\r\npool\r\n  .preparedQuery(&quot;PRAGMA synchronous&quot;)\r\n  .execute()\r\n  .map(rows -&gt; {\r\n    for (Row row : rows) {\r\n      System.out.println(&quot;pragma synchronous is &quot; + row.getInteger(&quot;synchronous&quot;))\r\n    }\r\n  })\r\n```\r\nand since I enforce a single connection in the pool, this _should_ be fine. However I cant help but feel that there is a better way of doing this.\r\n\r\nAs a side note, I chose a single connection because sqlite is synchronous in nature, there is only ever one write happening at a time to the database. Creating write contention within a single application sounds detrimental rather than helpful, and I have designed my application to have as little concurrent writes within a single process as possible, though inter-process concurrency is real.","title":"java vertx jdbc sqlite: how to set PRAGMA syncronous=NORMAL","body":"<p>Vertx outlines that this is the normal way to connect to a database here <a href=\"https://vertx.io/docs/vertx-jdbc-client/java/\" rel=\"nofollow noreferrer\">https://vertx.io/docs/vertx-jdbc-client/java/</a> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String databaseFile = &quot;sqlite.db&quot;;\n\nJDBCPool pool = JDBCPool.pool(\n    this.context.getVertx(),\n    new JDBCConnectOptions()\n        .setJdbcUrl(&quot;jdbc:sqlite:&quot;.concat(databaseFile)),\n    new PoolOptions()\n        .setMaxSize(1)\n        .setConnectionTimeout(CONNECTION_TIMEOUT)\n);\n</code></pre>\n<p>This application I am writing has interprocess communication, so I want to use WAL mode, and synchronous=NORMAL to avoid heavy disk usage. The WAL pragma (<code>PRAGMA journal_model=WAL</code>) is set to the database itself, so I dont need to worry about it on application startup. However, the <code>synchronous</code> pragma <em>is</em> set per connection, so I need to set that when the appplication starts. Currently that looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// await this future\npool\n  .preparedQuery(&quot;PRAGMA synchronous=NORMAL&quot;)\n  .execute()\n</code></pre>\n<p>I can confirm that later on the synchronous pragma <em>is</em> set on the database connection.</p>\n<pre class=\"lang-java prettyprint-override\"><code>pool\n  .preparedQuery(&quot;PRAGMA synchronous&quot;)\n  .execute()\n  .map(rows -&gt; {\n    for (Row row : rows) {\n      System.out.println(&quot;pragma synchronous is &quot; + row.getInteger(&quot;synchronous&quot;))\n    }\n  })\n</code></pre>\n<p>and since I enforce a single connection in the pool, this <em>should</em> be fine. However I cant help but feel that there is a better way of doing this.</p>\n<p>As a side note, I chose a single connection because sqlite is synchronous in nature, there is only ever one write happening at a time to the database. Creating write contention within a single application sounds detrimental rather than helpful, and I have designed my application to have as little concurrent writes within a single process as possible, though inter-process concurrency is real.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"score":2,"creation_date":1654770939,"post_id":72558795,"comment_id":128173658,"body_markdown":"How does your cat understand whether a line with a number or a string has arrived?","body":"How does your cat understand whether a line with a number or a string has arrived?"},{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":1,"creation_date":1654771035,"post_id":72558795,"comment_id":128173690,"body_markdown":"Yes you can try using Factory Pattern \nhttps://www.tutorialspoint.com/design_pattern/factory_pattern.htm","body":"Yes you can try using Factory Pattern  <a href=\"https://www.tutorialspoint.com/design_pattern/factory_pattern.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/design_pattern/factory_pattern.htm</a>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1654771156,"post_id":72558795,"comment_id":128173725,"body_markdown":"@Hamza and how would that be without a conditional statement?","body":"@Hamza and how would that be without a conditional statement?"},{"owner":{"account_id":14483402,"reputation":892,"user_id":11745788,"display_name":"WBLord"},"score":0,"creation_date":1654771185,"post_id":72558795,"comment_id":128173735,"body_markdown":"@Hamza This will not work, because classes are not coming in! These are strings!","body":"@Hamza This will not work, because classes are not coming in! These are strings!"},{"owner":{"account_id":13343141,"reputation":515,"user_id":9630748,"display_name":"Arnault Le Pr&#233;vost-Corvellec"},"score":0,"creation_date":1654771505,"post_id":72558795,"comment_id":128173843,"body_markdown":"You can build a map&lt;string,consumer&lt;string&gt;&gt; and do myMap.get(mytype).accept(mystribgtotest)","body":"You can build a map&lt;string,consumer&lt;string&gt;&gt; and do myMap.get(mytype).accept(mystribgtotest)"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1654771512,"post_id":72558795,"comment_id":128173845,"body_markdown":"OP could follow the factory pattern example, but replace the if-else construct with a `Map&lt;String, Validation&gt;`.","body":"OP could follow the factory pattern example, but replace the if-else construct with a <code>Map&lt;String, Validation&gt;</code>."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1654771531,"post_id":72558795,"comment_id":128173854,"body_markdown":"@WBLord It will work. In fact the example linked by Hamza uses a string to decide which object is built.","body":"@WBLord It will work. In fact the example linked by Hamza uses a string to decide which object is built."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1654771875,"post_id":72558795,"comment_id":128173964,"body_markdown":"@JustAnotherDeveloper yes, by using a conditional statement, which the OP doesn&#39;t seem to want.","body":"@JustAnotherDeveloper yes, by using a conditional statement, which the OP doesn&#39;t seem to want."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1654772138,"post_id":72558795,"comment_id":128174051,"body_markdown":"@Stultuske That was not what OP was complaining about in their comment directed at Hamza though. I&#39;m only addressing that. Others have already addressed alternatives to the use of conditional statements, so I didn&#39;t think it was necessary to repeat the same.","body":"@Stultuske That was not what OP was complaining about in their comment directed at Hamza though. I&#39;m only addressing that. Others have already addressed alternatives to the use of conditional statements, so I didn&#39;t think it was necessary to repeat the same."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1654772230,"post_id":72558795,"comment_id":128174078,"body_markdown":"@JustAnotherDeveloper either we see different comments, or the OP hasn&#39;t&#39; commented at all.","body":"@JustAnotherDeveloper either we see different comments, or the OP hasn&#39;t&#39; commented at all."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1654772336,"post_id":72558795,"comment_id":128174107,"body_markdown":"@Stultuske No, that was a brainfart on my part, the comment is by WBLord, not by OP. And it&#39;s still incorrect, so my comment is valid. Not sure why we are arguing this, anyway.","body":"@Stultuske No, that was a brainfart on my part, the comment is by WBLord, not by OP. And it&#39;s still incorrect, so my comment is valid. Not sure why we are arguing this, anyway."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1654772510,"post_id":72558795,"comment_id":128174168,"body_markdown":"@JustAnotherDeveloper have you also checked the other comments, talking about Maps? The OP doesn&#39;t want a conditional statement (only specified switch, but if you don&#39;t want that, it&#39;s clear you don&#39;t want if&#39;s either, since they&#39;re the same, just different syntax). A different approach has been proposed, yet you keep defending the conditional statement option.","body":"@JustAnotherDeveloper have you also checked the other comments, talking about Maps? The OP doesn&#39;t want a conditional statement (only specified switch, but if you don&#39;t want that, it&#39;s clear you don&#39;t want if&#39;s either, since they&#39;re the same, just different syntax). A different approach has been proposed, yet you keep defending the conditional statement option."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1654772578,"post_id":72558795,"comment_id":128174199,"body_markdown":"@Stultuske: Have you read my comments? I have addressed that point already.","body":"@Stultuske: Have you read my comments? I have addressed that point already."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1654772691,"post_id":72558795,"comment_id":128174242,"body_markdown":"I have. if you understand that &quot;repeating what has been said&quot; is somewhat pointless, how is &quot;repeating what has been said and has been pointed out to not meet the requirements&quot; different?","body":"I have. if you understand that &quot;repeating what has been said&quot; is somewhat pointless, how is &quot;repeating what has been said and has been pointed out to not meet the requirements&quot; different?"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1654772796,"post_id":72558795,"comment_id":128174286,"body_markdown":"I am not doing that, though. I believe I have sufficiently explained myself even though I have no obligation to do so, and this is not productive at all. Feel free to have the last word.","body":"I am not doing that, though. I believe I have sufficiently explained myself even though I have no obligation to do so, and this is not productive at all. Feel free to have the last word."},{"owner":{"account_id":9695334,"reputation":103,"user_id":17854400,"display_name":"Talktomegoose"},"score":0,"creation_date":1654823804,"post_id":72558795,"comment_id":128189875,"body_markdown":"Thank you everyone for your suggestions. I have decided to take the approach @Hamza suggested.","body":"Thank you everyone for your suggestions. I have decided to take the approach @Hamza suggested."}],"answers":[{"tags":[],"owner":{"account_id":25512984,"reputation":11,"user_id":19304291,"display_name":"Yas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654772494,"creation_date":1654772494,"answer_id":72559151,"question_id":72558795,"body_markdown":"public class SomeControllerClass {\r\n\r\n\r\n    public SomeControllerClass() {\r\n        String test = &quot;Numeric&quot;;\r\n\r\n        switch (test) {\r\n            case &quot;Numeric&quot;:\r\n                System.out.println(&quot;CALL THE NUMERIC VALIDATION CLASS&quot;);\r\n                NumericValidation obj=NumericValidation.getIntance();\r\n                break;\r\n            case &quot;String&quot;:\r\n                System.out.println(&quot;CALL THE String VALIDATION CLASS&quot;);\r\n                StringValidation obj1 = StringValidation.getIntance();\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n","title":"How to pick a method based on a value of a parameter without use of a switch statement","body":"<p>public class SomeControllerClass {</p>\n<pre><code>public SomeControllerClass() {\n    String test = &quot;Numeric&quot;;\n\n    switch (test) {\n        case &quot;Numeric&quot;:\n            System.out.println(&quot;CALL THE NUMERIC VALIDATION CLASS&quot;);\n            NumericValidation obj=NumericValidation.getIntance();\n            break;\n        case &quot;String&quot;:\n            System.out.println(&quot;CALL THE String VALIDATION CLASS&quot;);\n            StringValidation obj1 = StringValidation.getIntance();\n            break;\n    }\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654773602,"creation_date":1654773602,"answer_id":72559392,"question_id":72558795,"body_markdown":"Proper way is to use a Factory pattern. You will need to create a factory that can provide you an appropriate validator based on your value. That&#39;s the answer in the nutshell.\r\n&lt;br&gt;&lt;br&gt;\r\nI dealt with similar problem in Spring boot app context. The problem was that if I need to use in some bean an implementation of the interface but I only know which one I need at runtime based on some key (like in your situation). I wrote my own solution with what I called self-populating factory. Basically by the time application runs I have a factory that could give me any implementation of a particular interface. Here is [Javadoc page][1] that explains it. Also you can read this article: [Non-intrusive access to &quot;Orphaned&quot; Beans in Spring framework][2]. It explains the feature and tells you where to get the MgntUtils Open-Source library that includes the feature. A disclaimer: the MgntUtils library is written and maintained by me\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/package-summary.html\r\n  [2]: https://www.linkedin.com/pulse/non-intrusive-access-orphaned-beans-spring-framework-michael-gantman/","title":"How to pick a method based on a value of a parameter without use of a switch statement","body":"<p>Proper way is to use a Factory pattern. You will need to create a factory that can provide you an appropriate validator based on your value. That's the answer in the nutshell.\n<br><br>\nI dealt with similar problem in Spring boot app context. The problem was that if I need to use in some bean an implementation of the interface but I only know which one I need at runtime based on some key (like in your situation). I wrote my own solution with what I called self-populating factory. Basically by the time application runs I have a factory that could give me any implementation of a particular interface. Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/package-summary.html\" rel=\"nofollow noreferrer\">Javadoc page</a> that explains it. Also you can read this article: <a href=\"https://www.linkedin.com/pulse/non-intrusive-access-orphaned-beans-spring-framework-michael-gantman/\" rel=\"nofollow noreferrer\">Non-intrusive access to &quot;Orphaned&quot; Beans in Spring framework</a>. It explains the feature and tells you where to get the MgntUtils Open-Source library that includes the feature. A disclaimer: the MgntUtils library is written and maintained by me</p>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654776518,"creation_date":1654776518,"answer_id":72559989,"question_id":72558795,"body_markdown":"Honestly, it&#39;s better to use `Factory Pattern`. However, I am giving a suggestion that does not use any factory pattern or switch statements.\r\n\r\nIt may not be an ideal coding example.\r\n\r\n-----------------------------------------\r\n\r\nI have assumed certain things here since I am not sure what is `String test = &quot;Numeric&quot;` means.\r\n\r\n - If it is mean you will get `Numeric` and `String` as actual values and not as a possible datatype of value(actual value can be &quot;30.00&quot; or &quot;Some String Value&quot;) then the below suggestion will not work. Don&#39;t need to read the rest.\r\n- If that is not the case then there is another problem, by `Numeric` it can mean int, long or double. I am giving example considering `Double`.You can change yours accrodingly.\r\n\r\nIdea is to try to parse the numeric data into the desired data and if it parses successfully then call `NumericValidation` otherwise call the `StringValidation`\r\n```\r\nString test = &quot;30.00&quot;; //your input\r\n\r\nboolean valid = false;\r\ntry{\r\n\tDouble dVal = Double.parseDouble(test);\r\n\t//call your method however you want its just an example. \r\n    //Once we don&#39;t have any exception we can perform validation here.\r\n    valid =new NumericValidation().validation(dVal); \r\n}catch(NumberFormatException e){\r\n    //since we got exception its not a numeric value and we can proceed with StringValidation.\r\n\tvalid = new StringValidation().validation(test);\r\n}\r\n``` \r\nDemo Validation Classes\r\n```\r\n\r\npublic class StringValidation {\r\n    public boolean validation(String val) {\r\n        //logic\r\n    }\r\n}\r\n\r\npublic class NumericValidation {\r\n\r\n    public boolean validation(Double val) {\r\n       //logic \r\n    }\r\n}\r\n```","title":"How to pick a method based on a value of a parameter without use of a switch statement","body":"<p>Honestly, it's better to use <code>Factory Pattern</code>. However, I am giving a suggestion that does not use any factory pattern or switch statements.</p>\n<p>It may not be an ideal coding example.</p>\n<hr />\n<p>I have assumed certain things here since I am not sure what is <code>String test = &quot;Numeric&quot;</code> means.</p>\n<ul>\n<li>If it is mean you will get <code>Numeric</code> and <code>String</code> as actual values and not as a possible datatype of value(actual value can be &quot;30.00&quot; or &quot;Some String Value&quot;) then the below suggestion will not work. Don't need to read the rest.</li>\n<li>If that is not the case then there is another problem, by <code>Numeric</code> it can mean int, long or double. I am giving example considering <code>Double</code>.You can change yours accrodingly.</li>\n</ul>\n<p>Idea is to try to parse the numeric data into the desired data and if it parses successfully then call <code>NumericValidation</code> otherwise call the <code>StringValidation</code></p>\n<pre><code>String test = &quot;30.00&quot;; //your input\n\nboolean valid = false;\ntry{\n    Double dVal = Double.parseDouble(test);\n    //call your method however you want its just an example. \n    //Once we don't have any exception we can perform validation here.\n    valid =new NumericValidation().validation(dVal); \n}catch(NumberFormatException e){\n    //since we got exception its not a numeric value and we can proceed with StringValidation.\n    valid = new StringValidation().validation(test);\n}\n</code></pre>\n<p>Demo Validation Classes</p>\n<pre><code>\npublic class StringValidation {\n    public boolean validation(String val) {\n        //logic\n    }\n}\n\npublic class NumericValidation {\n\n    public boolean validation(Double val) {\n       //logic \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25512984,"reputation":11,"user_id":19304291,"display_name":"Yas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654789864,"creation_date":1654789864,"answer_id":72563249,"question_id":72558795,"body_markdown":"\r\n    public class SomeControllerClass {\r\n\r\n\r\n    public SomeControllerClass() {\r\n        String test = &quot;10&quot;;\r\n        boolean numeric=true;;\r\n        try {\r\n        \t Double num= Double.parseDouble(test);\r\n        }\r\n        catch (NumberFormatException e) {\r\n        \t numeric =false;\r\n        }\r\n        finally{\r\n        \tif(numeric) {\r\n        \t\tNumericValidation.getIntance();\r\n        \t}\r\n        \telse {\r\n        \t\tStringValidation.getIntance();\r\n        \t}\r\n        \t\r\n        }\r\n        \r\n\r\n       }\r\n\r\n\r\n    }\r\n\r\n    public class NumericValidation {\r\n\r\n\t\r\n\t  private static NumericValidation instance = null;\r\n\t\tprivate NumericValidation() {\r\n\t\t\tSystem.out.println(&quot;NumericValidation&quot;);\r\n\t\t}\r\n\t\tpublic static NumericValidation getIntance() {\r\n\t\t\tif(instance==null) {\r\n\t\t\t    instance=new NumericValidation();\r\n\t\t\t}\r\n\t\t\treturn instance;\r\n\t\t}\r\n\t\tpublic void print() {\r\n\t\t\tSystem.out.print(&quot;fsdffffff&quot;);\r\n\t\t}\r\n     }\r\n\r\n    public class StringValidation {\r\n    private static StringValidation instance = null;\r\n\tprivate StringValidation() {\r\n\t\tSystem.out.println(&quot;Stringvalidation&quot;);\r\n\t}\r\n\tpublic static StringValidation getIntance() {\r\n\t\tif(instance==null) {\r\n\t\t    instance=new StringValidation();\r\n\t\t}\r\n\t\treturn instance;\r\n\t}\r\n\t\r\n    }\r\n\r\n\r\n","title":"How to pick a method based on a value of a parameter without use of a switch statement","body":"<pre><code>public class SomeControllerClass {\n\n\npublic SomeControllerClass() {\n    String test = &quot;10&quot;;\n    boolean numeric=true;;\n    try {\n         Double num= Double.parseDouble(test);\n    }\n    catch (NumberFormatException e) {\n         numeric =false;\n    }\n    finally{\n        if(numeric) {\n            NumericValidation.getIntance();\n        }\n        else {\n            StringValidation.getIntance();\n        }\n        \n    }\n    \n\n   }\n\n\n}\n\npublic class NumericValidation {\n\n\n  private static NumericValidation instance = null;\n    private NumericValidation() {\n        System.out.println(&quot;NumericValidation&quot;);\n    }\n    public static NumericValidation getIntance() {\n        if(instance==null) {\n            instance=new NumericValidation();\n        }\n        return instance;\n    }\n    public void print() {\n        System.out.print(&quot;fsdffffff&quot;);\n    }\n }\n\npublic class StringValidation {\nprivate static StringValidation instance = null;\nprivate StringValidation() {\n    System.out.println(&quot;Stringvalidation&quot;);\n}\npublic static StringValidation getIntance() {\n    if(instance==null) {\n        instance=new StringValidation();\n    }\n    return instance;\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":9695334,"reputation":103,"user_id":17854400,"display_name":"Talktomegoose"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1654789864,"creation_date":1654770769,"question_id":72558795,"body_markdown":"I have a classes that do validations:\r\nOne class does string validation and one does numeric validation and a controller class that picks based on value: \r\n\r\n```\r\npublic class SomeControllerClass {\r\n\r\n\r\n    public SomeControllerClass() {\r\n        String test = &quot;Numeric&quot;;\r\n\r\n        switch (test) {\r\n            case &quot;Numeric&quot;:\r\n                System.out.println(&quot;CALL THE NUMERIC VALIDATION CLASS&quot;);\r\n                break;\r\n            case &quot;String&quot;:\r\n                System.out.println(&quot;CALL THE String VALIDATION CLASS&quot;);\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\npublic class StringValidation {\r\n//methods = String validation (Max length etc)\r\n}\r\n\r\n\r\npublic class NumericValidation {\r\n//methods = Is numeric, range etc \r\n}\r\n\r\n```\r\n\r\nMy question: \r\nIs their a better way to do this withot the use of swich statement?","title":"How to pick a method based on a value of a parameter without use of a switch statement","body":"<p>I have a classes that do validations:\nOne class does string validation and one does numeric validation and a controller class that picks based on value:</p>\n<pre><code>public class SomeControllerClass {\n\n\n    public SomeControllerClass() {\n        String test = &quot;Numeric&quot;;\n\n        switch (test) {\n            case &quot;Numeric&quot;:\n                System.out.println(&quot;CALL THE NUMERIC VALIDATION CLASS&quot;);\n                break;\n            case &quot;String&quot;:\n                System.out.println(&quot;CALL THE String VALIDATION CLASS&quot;);\n                break;\n        }\n\n    }\n\n\n}\n\n\npublic class StringValidation {\n//methods = String validation (Max length etc)\n}\n\n\npublic class NumericValidation {\n//methods = Is numeric, range etc \n}\n\n</code></pre>\n<p>My question:\nIs their a better way to do this withot the use of swich statement?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":5,"creation_date":1654789276,"post_id":72563120,"comment_id":128181128,"body_markdown":"You are using `maven` - at least I can deduce it from having `target` directory. `main` and `java` directories are just a way Maven organizes project files and those directories are not part of packaging system. In your case you should just use `princ` as package name.","body":"You are using <code>maven</code> - at least I can deduce it from having <code>target</code> directory. <code>main</code> and <code>java</code> directories are just a way Maven organizes project files and those directories are not part of packaging system. In your case you should just use <code>princ</code> as package name."},{"owner":{"account_id":15300972,"reputation":61,"user_id":11039404,"display_name":"TBrsx"},"score":0,"creation_date":1654791200,"post_id":72563120,"comment_id":128181862,"body_markdown":"@MichałKrzywański You can put your comment as an answer for me to accept it, as it is more detailed than the current accepted answer. Thanks !","body":"@MichałKrzywański You can put your comment as an answer for me to accept it, as it is more detailed than the current accepted answer. Thanks !"}],"answers":[{"tags":[],"owner":{"account_id":24147270,"reputation":34,"user_id":18112648,"display_name":"Collin Short"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654789709,"creation_date":1654789709,"answer_id":72563225,"question_id":72563120,"body_markdown":"you should not need the main.java just do package princ... for example: [Model.test][1] for this project layout: [Project Structure.][2] this gives me no errors.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7mZ77.png\r\n  [2]: https://i.stack.imgur.com/6xs8W.png","title":"Intellij : Package name does not correspond to the file path","body":"<p>you should not need the main.java just do package princ... for example: <a href=\"https://i.stack.imgur.com/7mZ77.png\" rel=\"nofollow noreferrer\">Model.test</a> for this project layout: <a href=\"https://i.stack.imgur.com/6xs8W.png\" rel=\"nofollow noreferrer\">Project Structure.</a> this gives me no errors.</p>\n"}],"owner":{"account_id":15300972,"reputation":61,"user_id":11039404,"display_name":"TBrsx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1050,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72563225,"answer_count":1,"score":0,"last_activity_date":1654789709,"creation_date":1654789161,"question_id":72563120,"body_markdown":"I have a Java/Maven project in intellij with the following file structure :\r\n\r\n[![My directory structure][1]][1]\r\n\r\nAnd the following line get me the error &quot; Package name &#39;test.java.princ&#39; does not correspond to the file path &#39;princ&#39;&quot;\r\n\r\n[![Line with the error][2]][2]\r\n\r\nIn fact, it does this with *every* files in my project.\r\n\r\nWhat I&#39;ve tried :\r\n- Rebuilding with maven\r\n- Deleting project and importing it again\r\n- Unmarking src/resources folder and marking them again\r\n- supervision.iml has the correct folders as src and resources\r\n\r\nBuilding works fine, with intellij or mvn command.\r\n\r\n  [1]: https://i.stack.imgur.com/u868H.png\r\n  [2]: https://i.stack.imgur.com/pUZkN.png","title":"Intellij : Package name does not correspond to the file path","body":"<p>I have a Java/Maven project in intellij with the following file structure :</p>\n<p><a href=\"https://i.stack.imgur.com/u868H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u868H.png\" alt=\"My directory structure\" /></a></p>\n<p>And the following line get me the error &quot; Package name 'test.java.princ' does not correspond to the file path 'princ'&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/pUZkN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pUZkN.png\" alt=\"Line with the error\" /></a></p>\n<p>In fact, it does this with <em>every</em> files in my project.</p>\n<p>What I've tried :</p>\n<ul>\n<li>Rebuilding with maven</li>\n<li>Deleting project and importing it again</li>\n<li>Unmarking src/resources folder and marking them again</li>\n<li>supervision.iml has the correct folders as src and resources</li>\n</ul>\n<p>Building works fine, with intellij or mvn command.</p>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1654787512,"post_id":72562666,"comment_id":128180414,"body_markdown":"Are you looking for [`parseDefaulting`](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#parseDefaulting-java.time.temporal.TemporalField-long-)?","body":"Are you looking for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#parseDefaulting-java.time.temporal.TemporalField-long-\" rel=\"nofollow noreferrer\"><code>parseDefaulting</code></a>?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1654788054,"post_id":72562666,"comment_id":128180607,"body_markdown":"What are some of the &quot;default values for missing fields&quot; that you have in mind? I feel this isn&#39;t intuitive to set at all, when you allow literally any format at all.","body":"What are some of the &quot;default values for missing fields&quot; that you have in mind? I feel this isn&#39;t intuitive to set at all, when you allow literally any format at all."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1654871529,"post_id":72562666,"comment_id":128203004,"body_markdown":"In what context do you need this? For my part I would be unhappy about knowing next to nothing about the data that I am to process.","body":"In what context do you need this? For my part I would be unhappy about knowing next to nothing about the data that I am to process."}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654789511,"creation_date":1654787916,"answer_id":72562838,"question_id":72562666,"body_markdown":"You can use `DateTimeFormatterBuilder::parseDefaulting` to set default values.\r\n\r\n```java\r\nvar now = ZonedDateTime.now();\r\nDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n    .appendPattern(pattern)\r\n    .parseDefaulting(ChronoField.OFFSET_SECONDS, now.getOffset().getTotalSeconds())\r\n    .parseDefaulting(ChronoField.YEAR, now.getYear())\r\n    .parseDefaulting(ChronoField.MONTH_OF_YEAR, now.getMonthValue())\r\n    .parseDefaulting(ChronoField.DAY_OF_MONTH, now.getDayOfMonth())\r\n    .parseDefaulting(ChronoField.HOUR_OF_DAY, now.getHour())\r\n    .parseDefaulting(ChronoField.MINUTE_OF_HOUR, now.getMinute())\r\n    .parseDefaulting(ChronoField.SECOND_OF_MINUTE, now.getSecond())\r\n    .toFormatter(Locale.ROOT);\r\nInstant dt = Instant.from(formatter.parse(str));\r\n```\r\n\r\nNote that it&#39;s important to first append the pattern using `appendPattern`, and then set all your defaults using `parseDefaulting`.\r\n\r\nAlso note that I used the current time stamp to fill the defaults. So, for example, if you left out the year, it takes the current year (2022 at the time of writing). Of course, the defaults depend on your exact use case.\r\n\r\nExamples:\r\n\r\nAt the time of writing, it&#39;s *2022-06-09T17:18:36+02:00*.\r\n\r\n```java\r\nSystem.out.println(parse(&quot;9-6&quot;, &quot;d-M&quot;));\r\nSystem.out.println(parse(&quot;2023&quot;, &quot;uuuu&quot;));\r\nSystem.out.println(parse(&quot;10:13&quot;, &quot;H:m&quot;));\r\nSystem.out.println(parse(&quot;25 Dec, 16:22&quot;, &quot;d MMM, H:mm&quot;));\r\n```\r\n\r\nresolves to\r\n\r\n```none\r\n2022-06-09T15:18:36Z\r\n2023-06-09T15:18:36Z\r\n2022-06-09T08:13:36Z\r\n2022-12-25T14:22:36Z\r\n```","title":"Generic date and time parsing in java 8","body":"<p>You can use <code>DateTimeFormatterBuilder::parseDefaulting</code> to set default values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var now = ZonedDateTime.now();\nDateTimeFormatter formatter = new DateTimeFormatterBuilder()\n    .appendPattern(pattern)\n    .parseDefaulting(ChronoField.OFFSET_SECONDS, now.getOffset().getTotalSeconds())\n    .parseDefaulting(ChronoField.YEAR, now.getYear())\n    .parseDefaulting(ChronoField.MONTH_OF_YEAR, now.getMonthValue())\n    .parseDefaulting(ChronoField.DAY_OF_MONTH, now.getDayOfMonth())\n    .parseDefaulting(ChronoField.HOUR_OF_DAY, now.getHour())\n    .parseDefaulting(ChronoField.MINUTE_OF_HOUR, now.getMinute())\n    .parseDefaulting(ChronoField.SECOND_OF_MINUTE, now.getSecond())\n    .toFormatter(Locale.ROOT);\nInstant dt = Instant.from(formatter.parse(str));\n</code></pre>\n<p>Note that it's important to first append the pattern using <code>appendPattern</code>, and then set all your defaults using <code>parseDefaulting</code>.</p>\n<p>Also note that I used the current time stamp to fill the defaults. So, for example, if you left out the year, it takes the current year (2022 at the time of writing). Of course, the defaults depend on your exact use case.</p>\n<p>Examples:</p>\n<p>At the time of writing, it's <em>2022-06-09T17:18:36+02:00</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(parse(&quot;9-6&quot;, &quot;d-M&quot;));\nSystem.out.println(parse(&quot;2023&quot;, &quot;uuuu&quot;));\nSystem.out.println(parse(&quot;10:13&quot;, &quot;H:m&quot;));\nSystem.out.println(parse(&quot;25 Dec, 16:22&quot;, &quot;d MMM, H:mm&quot;));\n</code></pre>\n<p>resolves to</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-06-09T15:18:36Z\n2023-06-09T15:18:36Z\n2022-06-09T08:13:36Z\n2022-12-25T14:22:36Z\n</code></pre>\n"}],"owner":{"account_id":16478911,"reputation":147,"user_id":11906121,"display_name":"elcye"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72562838,"answer_count":1,"score":0,"last_activity_date":1654789511,"creation_date":1654787205,"question_id":72562666,"body_markdown":"I was recently trying to make a generic date and time parsing method with the java 8 time API, mainly for interfacing with older code using `Date`.\r\n\r\nI wanted to do something like that:\r\n\r\n    public static Date parse(String dateStr, String pattern) {\r\n        return Date.from(Instant.parse(dateStr, DateTimeFormatter.ofPattern(pattern)));\r\n    }\r\n\r\nThe problem is that with the time API, the class to use depends on the pattern `DateTimeFormatter.parse` will never fail but will return a `TemporalAccessor` which is horrible to work with and convert to a usable class.\r\n\r\nAnd `LocalDateTime.parse` will fail if the pattern has no time information like &quot;dd/MM/yyyy&quot;. Other classes like `Instant`, `ZonedDateTime`, etc. will all fail to parse if the pattern doesn&#39;t match the expected class.\r\n\r\nIdeally, I&#39;d like a way to parse leniently and return an Instant, with default values for missing fields, but I can&#39;t find a way to do that.\r\n\r\nAny idea?","title":"Generic date and time parsing in java 8","body":"<p>I was recently trying to make a generic date and time parsing method with the java 8 time API, mainly for interfacing with older code using <code>Date</code>.</p>\n<p>I wanted to do something like that:</p>\n<pre><code>public static Date parse(String dateStr, String pattern) {\n    return Date.from(Instant.parse(dateStr, DateTimeFormatter.ofPattern(pattern)));\n}\n</code></pre>\n<p>The problem is that with the time API, the class to use depends on the pattern <code>DateTimeFormatter.parse</code> will never fail but will return a <code>TemporalAccessor</code> which is horrible to work with and convert to a usable class.</p>\n<p>And <code>LocalDateTime.parse</code> will fail if the pattern has no time information like &quot;dd/MM/yyyy&quot;. Other classes like <code>Instant</code>, <code>ZonedDateTime</code>, etc. will all fail to parse if the pattern doesn't match the expected class.</p>\n<p>Ideally, I'd like a way to parse leniently and return an Instant, with default values for missing fields, but I can't find a way to do that.</p>\n<p>Any idea?</p>\n"},{"tags":["java","libusb","dymo"],"answers":[{"tags":[],"owner":{"account_id":24147270,"reputation":34,"user_id":18112648,"display_name":"Collin Short"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654789476,"creation_date":1654789476,"answer_id":72563181,"question_id":72552729,"body_markdown":"Figured out the issue. I was sending 8 bytes.. scale looks for 6, although dymo does not say this anywhere. their manual is a joke... and they have no documentation.\r\nMain.java:\r\n```\r\npackage Model;\r\n\r\nimport javax.management.Descriptor;\r\nimport javax.usb.*;\r\nimport javax.usb.event.UsbPipeListener;\r\n\r\nimport org.usb4java.*;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.util.List;\r\n\r\npublic class main{\r\n\r\n    //Vendor ID = 0x0922\r\n    //Product ID = 0x8009\r\n    private static short Vendor_ID = 0x0922;\r\n    private static short Product_ID = (short) 0x8009;\r\n\r\n    public static void main(String[] args) throws UsbException {\r\n        UsbScaleInterface scale = UsbScaleInterface.findScale();\r\n        scale.open();\r\n        try {\r\n            for (int i = 0; i &lt; 60; i++) {\r\n                scale.syncSubmit();\r\n            }\r\n        } finally {\r\n            scale.close();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nUsbScaleInterface.java:\r\n```\r\npackage Model;\r\n\r\nimport javax.usb.*;\r\nimport javax.usb.event.UsbPipeDataEvent;\r\nimport javax.usb.event.UsbPipeErrorEvent;\r\nimport javax.usb.event.UsbPipeListener;\r\nimport java.util.List;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\npublic class UsbScaleInterface  implements UsbPipeListener {\r\n\r\n    private final UsbDevice device;\r\n    private UsbInterface iface;\r\n    private UsbPipe pipe;\r\n    private byte[] data = new byte[6];\r\n\r\n    private UsbScaleInterface(UsbDevice device) {\r\n        this.device = device;\r\n    }\r\n\r\n\r\n    public static UsbScaleInterface findScale() throws UsbException {\r\n        UsbServices services = UsbHostManager.getUsbServices();\r\n        UsbHub rootHub = services.getRootUsbHub();\r\n        // Dymo M10 Scale:\r\n        UsbDevice device = findDevice(rootHub, (short) 0x0922, (short) 0x8003);\r\n        // Dymo M25 Scale:\r\n        if (device == null) {\r\n            device = findDevice(rootHub, (short) 0x0922, (short) 0x8004);\r\n        }\r\n        // Dymo S100 Scale:\r\n        if (device == null) {\r\n            device = findDevice(rootHub, (short) 0x0922, (short) 0x8009);\r\n        }\r\n        if (device == null) {\r\n            return null;\r\n        }\r\n        return new UsbScaleInterface(device);\r\n    }\r\n\r\n    private static UsbDevice findDevice(UsbHub hub, short vendorId, short productId) {\r\n        for (UsbDevice device : (List&lt;UsbDevice&gt;) hub.getAttachedUsbDevices()) {\r\n            UsbDeviceDescriptor desc = device.getUsbDeviceDescriptor();\r\n            if (desc.idVendor() == vendorId &amp;&amp; desc.idProduct() == productId) {\r\n                return device;\r\n            }\r\n            if (device.isUsbHub()) {\r\n                device = findDevice((UsbHub) device, vendorId, productId);\r\n                if (device != null) {\r\n                    return device;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public void open() throws UsbException {\r\n        UsbConfiguration configuration = device.getActiveUsbConfiguration();\r\n        iface = configuration.getUsbInterface((byte) 0);\r\n        // this allows us to steal the lock from the kernel\r\n        iface.claim(usbInterface -&gt; true);\r\n        final List&lt;UsbEndpoint&gt; endpoints = iface.getUsbEndpoints();\r\n        pipe = endpoints.get(0).getUsbPipe(); // there is only 1 endpoint\r\n        pipe.addUsbPipeListener(this);\r\n        pipe.open();\r\n    }\r\n\r\n    public void syncSubmit() throws UsbException {\r\n        pipe.syncSubmit(data);\r\n    }\r\n\r\n\r\n    public void close() throws UsbException {\r\n        pipe.close();\r\n        iface.release();\r\n    }\r\n\r\n    @Override\r\n    public void dataEventOccurred(UsbPipeDataEvent upde) {\r\n        boolean empty = data[1] == 2;\r\n        boolean overweight = data[1] == 6;\r\n        boolean negative = data[1] == 5;\r\n        boolean grams = data[2] == 2;\r\n        int scalingFactor = data[3];\r\n        int weight = (data[4] &amp; 0xFF) + (data[5] &lt;&lt; 8);\r\n        if (empty) {\r\n            System.out.println(&quot;EMPTY&quot;);\r\n        } else if (overweight) {\r\n            System.out.println(&quot;OVERWEIGHT&quot;);\r\n        } else if (negative) {\r\n            System.out.println(&quot;NEGATIVE&quot;);\r\n        } else { // Use String.format since printf causes problems on remote exec\r\n            System.out.println(String.format(&quot;Weight = %,.1f%s&quot;,\r\n                    scaleWeight(weight, scalingFactor),\r\n                    grams ? &quot;g&quot; : &quot;oz&quot;));\r\n        }\r\n    }\r\n\r\n    private double scaleWeight(int weight, int scalingFactor) {\r\n        return weight * Math.pow(10, scalingFactor);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void errorEventOccurred(UsbPipeErrorEvent usbPipeErrorEvent) {\r\n        Logger.getLogger(UsbScaleInterface.class.getName()).log(Level.SEVERE, &quot;Scale Error&quot;, usbPipeErrorEvent);\r\n    }\r\n}\r\n```\r\nJust need to figure out how the tare function might work now and possible way to turn the scale on from the computer. however I don&#39;t think this will be an easy task as it would be pretty brute force... Mind you both of these classes are in the same package.","title":"I need to Read data from USB scale, DYMO s100 scale. which Java package is going to work the best?","body":"<p>Figured out the issue. I was sending 8 bytes.. scale looks for 6, although dymo does not say this anywhere. their manual is a joke... and they have no documentation.\nMain.java:</p>\n<pre><code>package Model;\n\nimport javax.management.Descriptor;\nimport javax.usb.*;\nimport javax.usb.event.UsbPipeListener;\n\nimport org.usb4java.*;\n\nimport java.nio.ByteBuffer;\nimport java.util.List;\n\npublic class main{\n\n    //Vendor ID = 0x0922\n    //Product ID = 0x8009\n    private static short Vendor_ID = 0x0922;\n    private static short Product_ID = (short) 0x8009;\n\n    public static void main(String[] args) throws UsbException {\n        UsbScaleInterface scale = UsbScaleInterface.findScale();\n        scale.open();\n        try {\n            for (int i = 0; i &lt; 60; i++) {\n                scale.syncSubmit();\n            }\n        } finally {\n            scale.close();\n        }\n    }\n\n}\n</code></pre>\n<p>UsbScaleInterface.java:</p>\n<pre><code>package Model;\n\nimport javax.usb.*;\nimport javax.usb.event.UsbPipeDataEvent;\nimport javax.usb.event.UsbPipeErrorEvent;\nimport javax.usb.event.UsbPipeListener;\nimport java.util.List;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class UsbScaleInterface  implements UsbPipeListener {\n\n    private final UsbDevice device;\n    private UsbInterface iface;\n    private UsbPipe pipe;\n    private byte[] data = new byte[6];\n\n    private UsbScaleInterface(UsbDevice device) {\n        this.device = device;\n    }\n\n\n    public static UsbScaleInterface findScale() throws UsbException {\n        UsbServices services = UsbHostManager.getUsbServices();\n        UsbHub rootHub = services.getRootUsbHub();\n        // Dymo M10 Scale:\n        UsbDevice device = findDevice(rootHub, (short) 0x0922, (short) 0x8003);\n        // Dymo M25 Scale:\n        if (device == null) {\n            device = findDevice(rootHub, (short) 0x0922, (short) 0x8004);\n        }\n        // Dymo S100 Scale:\n        if (device == null) {\n            device = findDevice(rootHub, (short) 0x0922, (short) 0x8009);\n        }\n        if (device == null) {\n            return null;\n        }\n        return new UsbScaleInterface(device);\n    }\n\n    private static UsbDevice findDevice(UsbHub hub, short vendorId, short productId) {\n        for (UsbDevice device : (List&lt;UsbDevice&gt;) hub.getAttachedUsbDevices()) {\n            UsbDeviceDescriptor desc = device.getUsbDeviceDescriptor();\n            if (desc.idVendor() == vendorId &amp;&amp; desc.idProduct() == productId) {\n                return device;\n            }\n            if (device.isUsbHub()) {\n                device = findDevice((UsbHub) device, vendorId, productId);\n                if (device != null) {\n                    return device;\n                }\n            }\n        }\n        return null;\n    }\n\n    public void open() throws UsbException {\n        UsbConfiguration configuration = device.getActiveUsbConfiguration();\n        iface = configuration.getUsbInterface((byte) 0);\n        // this allows us to steal the lock from the kernel\n        iface.claim(usbInterface -&gt; true);\n        final List&lt;UsbEndpoint&gt; endpoints = iface.getUsbEndpoints();\n        pipe = endpoints.get(0).getUsbPipe(); // there is only 1 endpoint\n        pipe.addUsbPipeListener(this);\n        pipe.open();\n    }\n\n    public void syncSubmit() throws UsbException {\n        pipe.syncSubmit(data);\n    }\n\n\n    public void close() throws UsbException {\n        pipe.close();\n        iface.release();\n    }\n\n    @Override\n    public void dataEventOccurred(UsbPipeDataEvent upde) {\n        boolean empty = data[1] == 2;\n        boolean overweight = data[1] == 6;\n        boolean negative = data[1] == 5;\n        boolean grams = data[2] == 2;\n        int scalingFactor = data[3];\n        int weight = (data[4] &amp; 0xFF) + (data[5] &lt;&lt; 8);\n        if (empty) {\n            System.out.println(&quot;EMPTY&quot;);\n        } else if (overweight) {\n            System.out.println(&quot;OVERWEIGHT&quot;);\n        } else if (negative) {\n            System.out.println(&quot;NEGATIVE&quot;);\n        } else { // Use String.format since printf causes problems on remote exec\n            System.out.println(String.format(&quot;Weight = %,.1f%s&quot;,\n                    scaleWeight(weight, scalingFactor),\n                    grams ? &quot;g&quot; : &quot;oz&quot;));\n        }\n    }\n\n    private double scaleWeight(int weight, int scalingFactor) {\n        return weight * Math.pow(10, scalingFactor);\n    }\n\n\n    @Override\n    public void errorEventOccurred(UsbPipeErrorEvent usbPipeErrorEvent) {\n        Logger.getLogger(UsbScaleInterface.class.getName()).log(Level.SEVERE, &quot;Scale Error&quot;, usbPipeErrorEvent);\n    }\n}\n</code></pre>\n<p>Just need to figure out how the tare function might work now and possible way to turn the scale on from the computer. however I don't think this will be an easy task as it would be pretty brute force... Mind you both of these classes are in the same package.</p>\n"}],"owner":{"account_id":24147270,"reputation":34,"user_id":18112648,"display_name":"Collin Short"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654789476,"creation_date":1654726046,"question_id":72552729,"body_markdown":"I have tried using LibUsb to connect I just really need to be able to parse the data from this scale, in the end it is going to be going into Filemaker pro. the issue I have with this current code:\r\n```\r\npackage Model;\r\n\r\nimport javax.management.Descriptor;\r\nimport javax.usb.UsbDevice;\r\nimport javax.usb.UsbDeviceDescriptor;\r\nimport javax.usb.UsbHub;\r\n\r\nimport org.usb4java.*;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.util.List;\r\n\r\npublic class main {\r\n\r\n    //Vendor ID = 0x0922\r\n    //Product ID = 0x8009\r\n    private static short Vendor_ID = 0x0922;\r\n    private static short Product_ID = (short) 0x8009;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Device Dymo_Scale = listDevices(Vendor_ID, Product_ID);\r\n\r\n        DeviceHandle handle = new DeviceHandle();\r\n        int result = LibUsb.open(Dymo_Scale, handle);\r\n        if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to open USB device&quot;, result);\r\n        try\r\n        {\r\n            result = LibUsb.setConfiguration(handle, 0);\r\n            if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to set Configuration&quot;, result);\r\n            // Use device handle here\r\n            result = LibUsb.claimInterface(handle, 0);\r\n            if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to claim interface&quot;, result);\r\n            try\r\n            {\r\n                ByteBuffer buffer = ByteBuffer.allocateDirect(8);\r\n                buffer.put(new byte[] { 1, 2, 3, 4, 5, 6, 7, 8 });\r\n                int transfered = LibUsb.controlTransfer(handle,\r\n                        (byte) (LibUsb.REQUEST_TYPE_CLASS | LibUsb.RECIPIENT_INTERFACE),\r\n                        (byte) 0, (short) 0, (short) 0, buffer, 5);\r\n                if (transfered &lt; 0) throw new LibUsbException(&quot;Control transfer failed&quot;, transfered);\r\n                System.out.println(transfered + &quot; bytes sent&quot;);\r\n            }\r\n            finally\r\n            {\r\n                result = LibUsb.releaseInterface(handle, 0);\r\n                if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to release interface&quot;, result);\r\n            }\r\n        }\r\n        finally\r\n        {\r\n            LibUsb.close(handle);\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    private static Device listDevices(short vendorId, short productId) {\r\n        // Create the libusb context\r\n        Context context = new Context();\r\n\r\n        // Initialize the libusb context\r\n        int result = LibUsb.init(context);\r\n        if (result &lt; 0)\r\n        {\r\n            throw new LibUsbException(&quot;Unable to initialize libusb&quot;, result);\r\n        }\r\n\r\n        // Read the USB device list\r\n        DeviceList list = new DeviceList();\r\n        result = LibUsb.getDeviceList(context, list);\r\n        if (result &lt; 0)\r\n        {\r\n            throw new LibUsbException(&quot;Unable to get device list&quot;, result);\r\n        }\r\n\r\n        try\r\n        {\r\n            // Iterate over all devices and list them\r\n            for (Device device: list)\r\n            {\r\n                int address = LibUsb.getDeviceAddress(device);\r\n                int busNumber = LibUsb.getBusNumber(device);\r\n                DeviceDescriptor descriptor = new DeviceDescriptor();\r\n                result = LibUsb.getDeviceDescriptor(device, descriptor);\r\n                if (result &lt; 0)\r\n                {\r\n                    throw new LibUsbException(\r\n                            &quot;Unable to read device descriptor&quot;, result);\r\n                }\r\n                if (descriptor.idVendor() == vendorId &amp;&amp; descriptor.idProduct() == productId) return device;\r\n\r\n            }\r\n        }\r\n        finally\r\n        {\r\n            // Ensure the allocated device list is freed\r\n            LibUsb.freeDeviceList(list, true);\r\n        }\r\n\r\n        // Deinitialize the libusb context\r\n        LibUsb.exit(context);\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\nis I get a USB error: \r\n```\r\nException in thread &quot;main&quot; org.usb4java.LibUsbException: USB error 9: Control transfer failed: Pipe error\r\n\tat Model.main.main(main.java:41)\r\n\r\nProcess finished with exit code 1\r\n```\r\nI have quite a bit of experience with java itself in networking and other areas. I think my issue might be somewhere in the ByteBuffer area... I am not exactly sure about endpoints or buffers I am also trying to access the device through interface 0 which it seems to make the connection and claim the Interface just fine but I need now to get a reading back from the scale...\r\n\r\nIs there a **better** Package out there that can do what I am looking for? or is there just something I am not doing properly in the Synchronous data transfer. Currently am writing this on a Mac if that makes any bit of difference.\r\n\r\nAs always, appreciate the help if any can provide. \r\n\r\n - Side note. This is a decently old package and has not been updated in years. Wonder if there is an updated more recent option.","title":"I need to Read data from USB scale, DYMO s100 scale. which Java package is going to work the best?","body":"<p>I have tried using LibUsb to connect I just really need to be able to parse the data from this scale, in the end it is going to be going into Filemaker pro. the issue I have with this current code:</p>\n<pre><code>package Model;\n\nimport javax.management.Descriptor;\nimport javax.usb.UsbDevice;\nimport javax.usb.UsbDeviceDescriptor;\nimport javax.usb.UsbHub;\n\nimport org.usb4java.*;\n\nimport java.nio.ByteBuffer;\nimport java.util.List;\n\npublic class main {\n\n    //Vendor ID = 0x0922\n    //Product ID = 0x8009\n    private static short Vendor_ID = 0x0922;\n    private static short Product_ID = (short) 0x8009;\n\n    public static void main(String[] args) {\n\n        Device Dymo_Scale = listDevices(Vendor_ID, Product_ID);\n\n        DeviceHandle handle = new DeviceHandle();\n        int result = LibUsb.open(Dymo_Scale, handle);\n        if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to open USB device&quot;, result);\n        try\n        {\n            result = LibUsb.setConfiguration(handle, 0);\n            if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to set Configuration&quot;, result);\n            // Use device handle here\n            result = LibUsb.claimInterface(handle, 0);\n            if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to claim interface&quot;, result);\n            try\n            {\n                ByteBuffer buffer = ByteBuffer.allocateDirect(8);\n                buffer.put(new byte[] { 1, 2, 3, 4, 5, 6, 7, 8 });\n                int transfered = LibUsb.controlTransfer(handle,\n                        (byte) (LibUsb.REQUEST_TYPE_CLASS | LibUsb.RECIPIENT_INTERFACE),\n                        (byte) 0, (short) 0, (short) 0, buffer, 5);\n                if (transfered &lt; 0) throw new LibUsbException(&quot;Control transfer failed&quot;, transfered);\n                System.out.println(transfered + &quot; bytes sent&quot;);\n            }\n            finally\n            {\n                result = LibUsb.releaseInterface(handle, 0);\n                if (result != LibUsb.SUCCESS) throw new LibUsbException(&quot;Unable to release interface&quot;, result);\n            }\n        }\n        finally\n        {\n            LibUsb.close(handle);\n        }\n\n\n    }\n\n\n\n\n\n    private static Device listDevices(short vendorId, short productId) {\n        // Create the libusb context\n        Context context = new Context();\n\n        // Initialize the libusb context\n        int result = LibUsb.init(context);\n        if (result &lt; 0)\n        {\n            throw new LibUsbException(&quot;Unable to initialize libusb&quot;, result);\n        }\n\n        // Read the USB device list\n        DeviceList list = new DeviceList();\n        result = LibUsb.getDeviceList(context, list);\n        if (result &lt; 0)\n        {\n            throw new LibUsbException(&quot;Unable to get device list&quot;, result);\n        }\n\n        try\n        {\n            // Iterate over all devices and list them\n            for (Device device: list)\n            {\n                int address = LibUsb.getDeviceAddress(device);\n                int busNumber = LibUsb.getBusNumber(device);\n                DeviceDescriptor descriptor = new DeviceDescriptor();\n                result = LibUsb.getDeviceDescriptor(device, descriptor);\n                if (result &lt; 0)\n                {\n                    throw new LibUsbException(\n                            &quot;Unable to read device descriptor&quot;, result);\n                }\n                if (descriptor.idVendor() == vendorId &amp;&amp; descriptor.idProduct() == productId) return device;\n\n            }\n        }\n        finally\n        {\n            // Ensure the allocated device list is freed\n            LibUsb.freeDeviceList(list, true);\n        }\n\n        // Deinitialize the libusb context\n        LibUsb.exit(context);\n        return null;\n    }\n\n}\n</code></pre>\n<p>is I get a USB error:</p>\n<pre><code>Exception in thread &quot;main&quot; org.usb4java.LibUsbException: USB error 9: Control transfer failed: Pipe error\n    at Model.main.main(main.java:41)\n\nProcess finished with exit code 1\n</code></pre>\n<p>I have quite a bit of experience with java itself in networking and other areas. I think my issue might be somewhere in the ByteBuffer area... I am not exactly sure about endpoints or buffers I am also trying to access the device through interface 0 which it seems to make the connection and claim the Interface just fine but I need now to get a reading back from the scale...</p>\n<p>Is there a <strong>better</strong> Package out there that can do what I am looking for? or is there just something I am not doing properly in the Synchronous data transfer. Currently am writing this on a Mac if that makes any bit of difference.</p>\n<p>As always, appreciate the help if any can provide.</p>\n<ul>\n<li>Side note. This is a decently old package and has not been updated in years. Wonder if there is an updated more recent option.</li>\n</ul>\n"},{"tags":["java","microsoft-graph-api","office365","msg"],"answers":[{"tags":[],"owner":{"account_id":194657,"reputation":48152,"user_id":1603351,"display_name":"Eugene Astafiev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654788816,"creation_date":1654788816,"answer_id":72563052,"question_id":72561781,"body_markdown":"MS Graph doesn&#39;t provide anything for that. The file format is specific to Outlook on Windows only.\r\n\r\nThe [MSG file format][1] is described in full in MSDN. MS Graph (nor EWS) doesn&#39;t expose such files in any way. As a possible workaround you can create an MSG file and import EML into it, see [How to create &quot;.msg&quot; file without using outlook in mfc?][2] for more information on that.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/openspecs/exchange_server_protocols/ms-oxmsg/b046868c-9fbf-41ae-9ffb-8de2bd4eec82\r\n  [2]: https://stackoverflow.com/questions/22299460/how-to-create-msg-file-without-using-outlook-in-mfc","title":"Convert Microsoft Graph Message to .msg Format","body":"<p>MS Graph doesn't provide anything for that. The file format is specific to Outlook on Windows only.</p>\n<p>The <a href=\"https://learn.microsoft.com/en-us/openspecs/exchange_server_protocols/ms-oxmsg/b046868c-9fbf-41ae-9ffb-8de2bd4eec82\" rel=\"nofollow noreferrer\">MSG file format</a> is described in full in MSDN. MS Graph (nor EWS) doesn't expose such files in any way. As a possible workaround you can create an MSG file and import EML into it, see <a href=\"https://stackoverflow.com/questions/22299460/how-to-create-msg-file-without-using-outlook-in-mfc\">How to create &quot;.msg&quot; file without using outlook in mfc?</a> for more information on that.</p>\n"}],"owner":{"account_id":5026376,"reputation":655,"user_id":4038204,"accept_rate":43,"display_name":"Ahmad Hijazi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654788848,"creation_date":1654783623,"question_id":72561781,"body_markdown":"I am using MS Graph API to get the message but I need to convert it to .msg file and store it on my machine, is there a way to do this?\r\n\r\nI need to covert `messageToBeSavedAsMSG` as `.msg` format:\r\n\r\n    \t\t\tgraphClient.users(properties.getUser()).sendMail(\r\n\t\t\t\t\tUserSendMailParameterSet.newBuilder().withMessage(msg).withSaveToSentItems(saveToSentItems).build())\r\n\t\t\t\t\t.buildRequest().post();\r\n\t\t\t\r\n\t\t\t//Start saving .msg format\r\n\t\t\tMessageCollectionPage messages = graphClient.users(properties.getUser()).messages()\r\n\t\t\t\t\t.buildRequest()\r\n\t\t\t\t\t.get();\r\n\t\t\t\r\n\t\t\tString msgID = messages.getCurrentPage().get(0).id;\r\n\t\t\t\r\n\t\t\tMessage messageToBeSavedAsMSG = graphClient.users(properties.getUser()).messages(msgID)\r\n\t\t\t\t\t.buildRequest()\r\n\t\t\t\t\t.get();","title":"Convert Microsoft Graph Message to .msg Format","body":"<p>I am using MS Graph API to get the message but I need to convert it to .msg file and store it on my machine, is there a way to do this?</p>\n<p>I need to covert <code>messageToBeSavedAsMSG</code> as <code>.msg</code> format:</p>\n<pre><code>            graphClient.users(properties.getUser()).sendMail(\n                UserSendMailParameterSet.newBuilder().withMessage(msg).withSaveToSentItems(saveToSentItems).build())\n                .buildRequest().post();\n        \n        //Start saving .msg format\n        MessageCollectionPage messages = graphClient.users(properties.getUser()).messages()\n                .buildRequest()\n                .get();\n        \n        String msgID = messages.getCurrentPage().get(0).id;\n        \n        Message messageToBeSavedAsMSG = graphClient.users(properties.getUser()).messages(msgID)\n                .buildRequest()\n                .get();\n</code></pre>\n"},{"tags":["java","processbuilder","zombie-process"],"comments":[{"owner":{"account_id":18894667,"reputation":1124,"user_id":13784117,"display_name":"user13784117"},"score":0,"creation_date":1597762377,"post_id":63468663,"comment_id":112236436,"body_markdown":"call `process.destroy()` ?","body":"call <code>process.destroy()</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654788642,"creation_date":1597766016,"answer_id":63472255,"question_id":63468663,"body_markdown":"Are your commands generating a lot of output? The cause of the zombies may be simply that cmd has written a lot of output the STDOUT and the stream is blocking in the BufferedReader.\r\n\r\nYou can test if this the case by adding redirect to null - just append &quot; &gt; /dev/null&quot; the end of cmd. This discards the sub-process output and means the BufferedReader is not full of unread data / blocking the sub-process. \r\n\r\n    processBuilder.command(&quot;bash&quot;, &quot;-c&quot;,  cmd + &quot; &gt; /dev/null&quot;);\r\n\r\nIf that fixes the zombie problem you can revert the redirect and make `ProcessBuilder` redirect output to files (before calling `start()`), or you&#39;ll need to add a thread to consume the IO as it is generated.\r\n\r\n    Path tmpdir = Path.of(System.getProperty(&quot;java.io.tmpdir&quot;));\r\n    Path out = tmpdir.resolve(&quot;stdout.log&quot;);\r\n    processBuilder.redirectErrorStream(true);\r\n    processBuilder.redirectOutput(out.toFile());\r\n\r\nAt the end you should return the out file for caller to check, or could return `Files.newBufferedReader(out)`.\r\n\r\nIf you don&#39;t use the redirect to file as above, this will store using thread to capture the output into memory buffer. Note you&#39;d need to duplicate for STDERR too if not redirecting ERR-&gt;OUT:\r\n\r\n    Process p = pb.start();\r\n    ByteArrayOutputStream stdout = new ByteArrayOutputStream(8192);\r\n    new Thread(() -&gt; copy(p.getInputStream(), stdout), &quot;STDOUT&quot;).start();\r\n    int rc = p.waitFor();\r\n    byte[] sour = stdout.toByteArray()\r\n\r\nUsing method:\r\n\r\n\r\n    private static void copy(InputStream in, OutputStream buf)\r\n    {\r\n        try(var autoClose = in; var autoClose2 = buf)\r\n        {\r\n            in.transferTo(buf);\r\n        }\r\n        catch(IOException io)\r\n        {\r\n            throw new UncheckedIOException(io);\r\n        }\r\n    }\r\n","title":"Linux zombies processes left unterminated with Java ProcessBuilder","body":"<p>Are your commands generating a lot of output? The cause of the zombies may be simply that cmd has written a lot of output the STDOUT and the stream is blocking in the BufferedReader.</p>\n<p>You can test if this the case by adding redirect to null - just append &quot; &gt; /dev/null&quot; the end of cmd. This discards the sub-process output and means the BufferedReader is not full of unread data / blocking the sub-process.</p>\n<pre><code>processBuilder.command(&quot;bash&quot;, &quot;-c&quot;,  cmd + &quot; &gt; /dev/null&quot;);\n</code></pre>\n<p>If that fixes the zombie problem you can revert the redirect and make <code>ProcessBuilder</code> redirect output to files (before calling <code>start()</code>), or you'll need to add a thread to consume the IO as it is generated.</p>\n<pre><code>Path tmpdir = Path.of(System.getProperty(&quot;java.io.tmpdir&quot;));\nPath out = tmpdir.resolve(&quot;stdout.log&quot;);\nprocessBuilder.redirectErrorStream(true);\nprocessBuilder.redirectOutput(out.toFile());\n</code></pre>\n<p>At the end you should return the out file for caller to check, or could return <code>Files.newBufferedReader(out)</code>.</p>\n<p>If you don't use the redirect to file as above, this will store using thread to capture the output into memory buffer. Note you'd need to duplicate for STDERR too if not redirecting ERR-&gt;OUT:</p>\n<pre><code>Process p = pb.start();\nByteArrayOutputStream stdout = new ByteArrayOutputStream(8192);\nnew Thread(() -&gt; copy(p.getInputStream(), stdout), &quot;STDOUT&quot;).start();\nint rc = p.waitFor();\nbyte[] sour = stdout.toByteArray()\n</code></pre>\n<p>Using method:</p>\n<pre><code>private static void copy(InputStream in, OutputStream buf)\n{\n    try(var autoClose = in; var autoClose2 = buf)\n    {\n        in.transferTo(buf);\n    }\n    catch(IOException io)\n    {\n        throw new UncheckedIOException(io);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7887751,"reputation":183,"user_id":5959136,"display_name":"chimaira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654788642,"creation_date":1597753889,"question_id":63468663,"body_markdown":"I have a java Spring REST API with a controller that runs a linux command with the ProcessBuilder class\r\n\r\n. The command is a generated &#39;find&#39; command   \r\n\r\nThe problem is that I found a lot of unterminated  processes in the hosting server after fiew days of use. I don&#39;t know why they  still there and not ended or destroyed . (I checked with a ps -ef command) \r\n\r\nHere is my runCmd function:   \r\n\r\n````\r\n\r\npublic static final BufferedReader runCmd(String cmd) throws IOException, InterruptedException {\r\n\t\tProcessBuilder processBuilder = new ProcessBuilder();\r\n     \tprocessBuilder.command(&quot;bash&quot;, &quot;-c&quot;,  cmd);\r\n\r\n\t\tprocessBuilder.redirectErrorStream(true);\r\n\t\tProcess process = processBuilder.start();\r\n\r\n\t\tBufferedReader output = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\r\n\t\tint ret = process.waitFor();\r\n\t\treturn output;\r\n}\r\n\r\n````\r\n\r\nIs there a way to make sur that there is no more process left behind ? \r\n\r\n\r\n**UPDATE**\r\n\r\n The problem comes only from commands with a very large output stream (std output) Thanks for the hint @DuncG\r\n\r\nAs this output is important, I can&#39;t ignore it. I have to find a way to consume it. \r\n\r\nAny Idea on how to do it with Runnable Threads ? \r\n\r\n\r\n\r\nThanks ","title":"Linux zombies processes left unterminated with Java ProcessBuilder","body":"<p>I have a java Spring REST API with a controller that runs a linux command with the ProcessBuilder class</p>\n<p>. The command is a generated 'find' command</p>\n<p>The problem is that I found a lot of unterminated  processes in the hosting server after fiew days of use. I don't know why they  still there and not ended or destroyed . (I checked with a ps -ef command)</p>\n<p>Here is my runCmd function:</p>\n<pre><code>\npublic static final BufferedReader runCmd(String cmd) throws IOException, InterruptedException {\n        ProcessBuilder processBuilder = new ProcessBuilder();\n        processBuilder.command(&quot;bash&quot;, &quot;-c&quot;,  cmd);\n\n        processBuilder.redirectErrorStream(true);\n        Process process = processBuilder.start();\n\n        BufferedReader output = new BufferedReader(new InputStreamReader(process.getInputStream()));\n\n        int ret = process.waitFor();\n        return output;\n}\n\n</code></pre>\n<p>Is there a way to make sur that there is no more process left behind ?</p>\n<p><strong>UPDATE</strong></p>\n<p>The problem comes only from commands with a very large output stream (std output) Thanks for the hint @DuncG</p>\n<p>As this output is important, I can't ignore it. I have to find a way to consume it.</p>\n<p>Any Idea on how to do it with Runnable Threads ?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":20202552,"reputation":11,"user_id":14817878,"display_name":"Mohamedkms"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654788545,"creation_date":1654788545,"answer_id":72562974,"question_id":72488227,"body_markdown":"i solved this issue by adding ProjectDTO and associated @JsonSerializer\r\n\r\nProjectDTO class :\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @JsonSerialize(using = ProjectDtoSerializer.class)\r\n    //@JsonTypeInfo(use = JsonTypeInfo.Id.NAME,include = JsonTypeInfo.As.WRAPPER_OBJECT)\r\n    public class ProjectDTO {\r\n        private Long id;\r\n        private String name;\r\n        private boolean actif;\r\n        private Date dateDebut;\r\n        private Date dateFin;\r\n        private ProjectPhaseStatus status;\r\n        private List&lt;ProjectPhaseDTO&gt; projectPhaseDTOS;\r\n    }\r\n\r\nProjectDtoSerializer class :\r\n\r\n    public class ProjectDtoSerializer extends StdSerializer&lt;ProjectDTO&gt; {\r\n    \r\n        public ProjectDtoSerializer(){\r\n            this(null);\r\n        }\r\n    \r\n        public ProjectDtoSerializer(Class&lt;ProjectDTO&gt; t) {\r\n            super(t);\r\n        }\r\n        @Override\r\n        public void serialize(ProjectDTO projectDTO, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeFieldName(&quot;project&quot;);\r\n            jsonGenerator.writeStartObject();\r\n            jsonGenerator.writeStringField(&quot;name&quot;,projectDTO.getName());\r\n            jsonGenerator.writeBooleanField(&quot;actif&quot;,projectDTO.isActif());\r\n            jsonGenerator.writeStringField(&quot;dateDebut&quot;,projectDTO.getDateDebut().toString());\r\n            if(projectDTO.getDateFin()!=null) jsonGenerator.writeStringField(&quot;dateFin&quot;,projectDTO.getDateFin().toString());\r\n            jsonGenerator.writeStringField(&quot;status&quot;,projectDTO.getStatus().toString());\r\n            jsonGenerator.writeFieldName(&quot;projectPhase&quot;);\r\n            jsonGenerator.writeStartArray();\r\n            projectDTO.getProjectPhaseDTOS().forEach(projectPhaseDTO -&gt; {\r\n                try {\r\n                    jsonGenerator.writeObject(projectPhaseDTO);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            jsonGenerator.writeEndArray();\r\n            jsonGenerator.writeEndObject();\r\n    \r\n            jsonGenerator.writeEndObject();\r\n        }\r\n    }\r\nThanks for help ","title":"how can i avoid duplicate field in jackson when serialising bidirectional relation","body":"<p>i solved this issue by adding ProjectDTO and associated @JsonSerializer</p>\n<p>ProjectDTO class :</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonSerialize(using = ProjectDtoSerializer.class)\n//@JsonTypeInfo(use = JsonTypeInfo.Id.NAME,include = JsonTypeInfo.As.WRAPPER_OBJECT)\npublic class ProjectDTO {\n    private Long id;\n    private String name;\n    private boolean actif;\n    private Date dateDebut;\n    private Date dateFin;\n    private ProjectPhaseStatus status;\n    private List&lt;ProjectPhaseDTO&gt; projectPhaseDTOS;\n}\n</code></pre>\n<p>ProjectDtoSerializer class :</p>\n<pre><code>public class ProjectDtoSerializer extends StdSerializer&lt;ProjectDTO&gt; {\n\n    public ProjectDtoSerializer(){\n        this(null);\n    }\n\n    public ProjectDtoSerializer(Class&lt;ProjectDTO&gt; t) {\n        super(t);\n    }\n    @Override\n    public void serialize(ProjectDTO projectDTO, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n        jsonGenerator.writeStartObject();\n        jsonGenerator.writeFieldName(&quot;project&quot;);\n        jsonGenerator.writeStartObject();\n        jsonGenerator.writeStringField(&quot;name&quot;,projectDTO.getName());\n        jsonGenerator.writeBooleanField(&quot;actif&quot;,projectDTO.isActif());\n        jsonGenerator.writeStringField(&quot;dateDebut&quot;,projectDTO.getDateDebut().toString());\n        if(projectDTO.getDateFin()!=null) jsonGenerator.writeStringField(&quot;dateFin&quot;,projectDTO.getDateFin().toString());\n        jsonGenerator.writeStringField(&quot;status&quot;,projectDTO.getStatus().toString());\n        jsonGenerator.writeFieldName(&quot;projectPhase&quot;);\n        jsonGenerator.writeStartArray();\n        projectDTO.getProjectPhaseDTOS().forEach(projectPhaseDTO -&gt; {\n            try {\n                jsonGenerator.writeObject(projectPhaseDTO);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n        jsonGenerator.writeEndArray();\n        jsonGenerator.writeEndObject();\n\n        jsonGenerator.writeEndObject();\n    }\n}\n</code></pre>\n<p>Thanks for help</p>\n"}],"owner":{"account_id":20202552,"reputation":11,"user_id":14817878,"display_name":"Mohamedkms"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72562974,"answer_count":1,"score":0,"last_activity_date":1654788545,"creation_date":1654251770,"question_id":72488227,"body_markdown":"im using Jackson 2.13.0 &amp; Spring Boot i want to serialise My Pojo PhaseProject :\r\n\r\n    @Entity\r\n    @Data @NoArgsConstructor @AllArgsConstructor\r\n    @Builder(toBuilder = true)\r\n    @JsonTypeInfo(include= JsonTypeInfo.As.WRAPPER_OBJECT,use = JsonTypeInfo.Id.NAME)\r\n    public class ProjectPhase {\r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id_phase;\r\n        private String phaseName;\r\n        private Date dateDebt;\r\n        private Date dateFin;\r\n        @OneToMany(mappedBy = &quot;projectPhase&quot;)\r\n        private List&lt;TypePhase&gt; typesPhase;\r\n        @ManyToOne\r\n        private Project project;\r\n    \r\n        @OneToMany(mappedBy = &quot;projectPhase&quot;)\r\n        private List&lt;Collab_Task_ProjectPhase&gt; collab_task_projectPhases;\r\n    }\r\nProject Phase List output :\r\n\r\n    [\r\n      {\r\n        &quot;ProjectPhase&quot;: {\r\n          &quot;id_phase&quot;: 1,\r\n          &quot;phaseName&quot;: &quot;phase1&quot;,\r\n          &quot;dateDebt&quot;: null,\r\n          &quot;dateFin&quot;: null,\r\n          &quot;typesPhase&quot;: [],\r\n          &quot;project&quot;: {\r\n            &quot;Project&quot;: {\r\n              &quot;id&quot;: 1,\r\n              &quot;actif&quot;: true,\r\n              &quot;dateDebut&quot;: &quot;2022-06-03T10:13:02.975+00:00&quot;,\r\n              &quot;dateFin&quot;: null,\r\n              &quot;projectName&quot;: &quot;project 1&quot;\r\n            }\r\n          },\r\n          &quot;collab_task_projectPhases&quot;: []\r\n        }\r\n      },\r\n      {\r\n        &quot;ProjectPhase&quot;: {\r\n          &quot;id_phase&quot;: 2,\r\n          &quot;phaseName&quot;: &quot;phase2&quot;,\r\n          &quot;dateDebt&quot;: null,\r\n          &quot;dateFin&quot;: null,\r\n          &quot;typesPhase&quot;: [],\r\n          &quot;project&quot;: {\r\n            &quot;Project&quot;: {\r\n              &quot;id&quot;: 1,\r\n              &quot;actif&quot;: true,\r\n              &quot;dateDebut&quot;: &quot;2022-06-03T10:13:02.975+00:00&quot;,\r\n              &quot;dateFin&quot;: null,\r\n              &quot;projectName&quot;: &quot;project 1&quot;\r\n            }\r\n          },\r\n          &quot;collab_task_projectPhases&quot;: []\r\n        }\r\n      }\r\n    ]\r\n\r\nProject Class :\r\n\r\n    @Data\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder(toBuilder = true)\r\n    @JsonRootName(value = &quot;project&quot;)\r\n    @JsonTypeInfo(include= JsonTypeInfo.As.WRAPPER_OBJECT,use = JsonTypeInfo.Id.NAME)\r\n    public class Project implements Serializable {\r\n        @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String ProjectName;\r\n        private boolean actif;\r\n        private Date dateDebut;\r\n        private Date dateFin;\r\n        //Status Enum (Dev Liv ...)\r\n        @OneToMany(mappedBy = &quot;project&quot;,cascade = CascadeType.ALL)\r\n        @JsonIgnore\r\n        private List&lt;ProjectPhase&gt; projectPhases;\r\n    \r\n    }\r\n\r\nMy probleme is how can i avoid serialisising project in ProjectPhase:\r\n\r\n&quot;project&quot;: {\r\n        &quot;Project&quot;: {\r\n          &quot;id&quot;: 1,\r\n  }\r\n  }\r\n\r\nhow can i avoid  duplicate field in jackson when serialising  bidirectional  relation ?","title":"how can i avoid duplicate field in jackson when serialising bidirectional relation","body":"<p>im using Jackson 2.13.0 &amp; Spring Boot i want to serialise My Pojo PhaseProject :</p>\n<pre><code>@Entity\n@Data @NoArgsConstructor @AllArgsConstructor\n@Builder(toBuilder = true)\n@JsonTypeInfo(include= JsonTypeInfo.As.WRAPPER_OBJECT,use = JsonTypeInfo.Id.NAME)\npublic class ProjectPhase {\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id_phase;\n    private String phaseName;\n    private Date dateDebt;\n    private Date dateFin;\n    @OneToMany(mappedBy = &quot;projectPhase&quot;)\n    private List&lt;TypePhase&gt; typesPhase;\n    @ManyToOne\n    private Project project;\n\n    @OneToMany(mappedBy = &quot;projectPhase&quot;)\n    private List&lt;Collab_Task_ProjectPhase&gt; collab_task_projectPhases;\n}\n</code></pre>\n<p>Project Phase List output :</p>\n<pre><code>[\n  {\n    &quot;ProjectPhase&quot;: {\n      &quot;id_phase&quot;: 1,\n      &quot;phaseName&quot;: &quot;phase1&quot;,\n      &quot;dateDebt&quot;: null,\n      &quot;dateFin&quot;: null,\n      &quot;typesPhase&quot;: [],\n      &quot;project&quot;: {\n        &quot;Project&quot;: {\n          &quot;id&quot;: 1,\n          &quot;actif&quot;: true,\n          &quot;dateDebut&quot;: &quot;2022-06-03T10:13:02.975+00:00&quot;,\n          &quot;dateFin&quot;: null,\n          &quot;projectName&quot;: &quot;project 1&quot;\n        }\n      },\n      &quot;collab_task_projectPhases&quot;: []\n    }\n  },\n  {\n    &quot;ProjectPhase&quot;: {\n      &quot;id_phase&quot;: 2,\n      &quot;phaseName&quot;: &quot;phase2&quot;,\n      &quot;dateDebt&quot;: null,\n      &quot;dateFin&quot;: null,\n      &quot;typesPhase&quot;: [],\n      &quot;project&quot;: {\n        &quot;Project&quot;: {\n          &quot;id&quot;: 1,\n          &quot;actif&quot;: true,\n          &quot;dateDebut&quot;: &quot;2022-06-03T10:13:02.975+00:00&quot;,\n          &quot;dateFin&quot;: null,\n          &quot;projectName&quot;: &quot;project 1&quot;\n        }\n      },\n      &quot;collab_task_projectPhases&quot;: []\n    }\n  }\n]\n</code></pre>\n<p>Project Class :</p>\n<pre><code>@Data\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\n@JsonRootName(value = &quot;project&quot;)\n@JsonTypeInfo(include= JsonTypeInfo.As.WRAPPER_OBJECT,use = JsonTypeInfo.Id.NAME)\npublic class Project implements Serializable {\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String ProjectName;\n    private boolean actif;\n    private Date dateDebut;\n    private Date dateFin;\n    //Status Enum (Dev Liv ...)\n    @OneToMany(mappedBy = &quot;project&quot;,cascade = CascadeType.ALL)\n    @JsonIgnore\n    private List&lt;ProjectPhase&gt; projectPhases;\n\n}\n</code></pre>\n<p>My probleme is how can i avoid serialisising project in ProjectPhase:</p>\n<p>&quot;project&quot;: {\n&quot;Project&quot;: {\n&quot;id&quot;: 1,\n}\n}</p>\n<p>how can i avoid  duplicate field in jackson when serialising  bidirectional  relation ?</p>\n"},{"tags":["java","scala","apache-spark","hdfs","protocol-buffers"],"comments":[{"owner":{"account_id":4692255,"reputation":14807,"user_id":3798102,"accept_rate":62,"display_name":"Nagarjuna Pamu"},"score":0,"creation_date":1478359747,"post_id":40439652,"comment_id":68126750,"body_markdown":"You cannot connect to the node on local machine with this ip `10.20.30.50:7077`","body":"You cannot connect to the node on local machine with this ip <code>10.20.30.50:7077</code>"},{"owner":{"account_id":1686851,"reputation":7640,"user_id":1549950,"accept_rate":69,"display_name":"Michael Lihs"},"score":0,"creation_date":1478359809,"post_id":40439652,"comment_id":68126761,"body_markdown":"why not? Spark is running in a virtual machine on my host that is accessible via this IP - so I don&#39;t see why I shouldn&#39;t be able to connect to it? Is this any special restriction in Spark?","body":"why not? Spark is running in a virtual machine on my host that is accessible via this IP - so I don&#39;t see why I shouldn&#39;t be able to connect to it? Is this any special restriction in Spark?"},{"owner":{"account_id":4692255,"reputation":14807,"user_id":3798102,"accept_rate":62,"display_name":"Nagarjuna Pamu"},"score":0,"creation_date":1478359859,"post_id":40439652,"comment_id":68126775,"body_markdown":"You never told me that there is a virtual machine in between","body":"You never told me that there is a virtual machine in between"},{"owner":{"account_id":4692255,"reputation":14807,"user_id":3798102,"accept_rate":62,"display_name":"Nagarjuna Pamu"},"score":0,"creation_date":1478359890,"post_id":40439652,"comment_id":68126787,"body_markdown":"BTW see if the IP is reachable from outside the virtual machine","body":"BTW see if the IP is reachable from outside the virtual machine"},{"owner":{"account_id":1686851,"reputation":7640,"user_id":1549950,"accept_rate":69,"display_name":"Michael Lihs"},"score":0,"creation_date":1478359955,"post_id":40439652,"comment_id":68126813,"body_markdown":"I edited my question and yes - the machine is reachable (this should be clear by getting an entry in the logfile within the Spark master on the VM). The Java log also states `Successfully created connection to /10.20.30.50:7077` which means that a connection was successful.","body":"I edited my question and yes - the machine is reachable (this should be clear by getting an entry in the logfile within the Spark master on the VM). The Java log also states <code>Successfully created connection to &#47;10.20.30.50:7077</code> which means that a connection was successful."},{"owner":{"account_id":4692255,"reputation":14807,"user_id":3798102,"accept_rate":62,"display_name":"Nagarjuna Pamu"},"score":0,"creation_date":1478360069,"post_id":40439652,"comment_id":68126851,"body_markdown":"Connection got closed for some reason ..check the code why","body":"Connection got closed for some reason ..check the code why"},{"owner":{"account_id":475201,"reputation":37562,"user_id":5344058,"display_name":"Tzach Zohar"},"score":2,"creation_date":1478360924,"post_id":40439652,"comment_id":68127145,"body_markdown":"A guess: your Spark master (on `10.20.30.50:7077`) runs a different Spark version (perhaps 1.6?): your driver code uses Spark 2.0.1, which (I _think_) doesn&#39;t even use Akka, and the message on the master says something about failing to decode Akka protocol - can you check the version used on master?","body":"A guess: your Spark master (on <code>10.20.30.50:7077</code>) runs a different Spark version (perhaps 1.6?): your driver code uses Spark 2.0.1, which (I <i>think</i>) doesn&#39;t even use Akka, and the message on the master says something about failing to decode Akka protocol - can you check the version used on master?"},{"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"score":0,"creation_date":1478363113,"post_id":40439652,"comment_id":68127839,"body_markdown":"@MichaelLihs: pls check my answer. it might help to resolve.Danken!","body":"@MichaelLihs: pls check my answer. it might help to resolve.Danken!"},{"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"score":0,"creation_date":1478369860,"post_id":40439652,"comment_id":68129944,"body_markdown":"@TzachZohar:  &quot;which (I think) doesn&#39;t even use Akka, &quot; pls see https://jaceklaskowski.gitbooks.io/mastering-apache-spark/content/spark-akka-netty.html","body":"@TzachZohar:  &quot;which (I think) doesn&#39;t even use Akka, &quot; pls see <a href=\"https://jaceklaskowski.gitbooks.io/mastering-apache-spark/content/spark-akka-netty.html\" rel=\"nofollow noreferrer\">jaceklaskowski.gitbooks.io/mastering-apache-spark/content/&hellip;</a>"},{"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"score":0,"creation_date":1478370904,"post_id":40439652,"comment_id":68130291,"body_markdown":"@JacekLaskowski: Can you pls throw some light on this.","body":"@JacekLaskowski: Can you pls throw some light on this."},{"owner":{"account_id":1686851,"reputation":7640,"user_id":1549950,"accept_rate":69,"display_name":"Michael Lihs"},"score":0,"creation_date":1478377680,"post_id":40439652,"comment_id":68132216,"body_markdown":"Thanks for all your help, will further dig into that tomorrow, I&#39;m on the road at the moment... guess it&#39;s a version mismatch...","body":"Thanks for all your help, will further dig into that tomorrow, I&#39;m on the road at the moment... guess it&#39;s a version mismatch..."}],"answers":[{"tags":[],"owner":{"account_id":325703,"reputation":28507,"user_id":647053,"display_name":"Ram Ghadiyaram"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1583767253,"creation_date":1478361684,"answer_id":40440310,"question_id":40439652,"body_markdown":"&gt; *Looks like network error in the first place (but actually NOT) in the disguise of version mismatch of spark . You can point to correct\r\n&gt; version of spark jars mostly assembly jars.*\r\n\r\nThis issue may happen due to version miss match in Hadoop RPC call using Protobuffer.\r\n\r\n[when a protocol message being parsed is invalid in some way, e.g. it contains a malformed varint or a negative byte length.][1]\r\n\r\n\r\n- My experience with protobuf, `InvalidProtocolBufferException` can happen, only  when the message was not able to parse(programatically if you are parsing protobuf message, may be message legth is zero or message is corrupted...).\r\n\r\n- Spark uses Akka Actors for Message Passing between Master/Driver and Workers and [Internally akka uses googles protobuf to communicate. see method below from AkkaPduCodec.scala)][2]\r\n\r\n        override def decodePdu(raw: ByteString): AkkaPdu = {\r\n            try {\r\n              val pdu = AkkaProtocolMessage.parseFrom(raw.toArray)\r\n              if (pdu.hasPayload) Payload(ByteString(pdu.getPayload.asReadOnlyByteBuffer()))\r\n              else if (pdu.hasInstruction) decodeControlPdu(pdu.getInstruction)\r\n              else throw new PduCodecException(&quot;Error decoding Akka PDU: Neither message nor control message were contained&quot;, null)\r\n            } catch {\r\n              case e: InvalidProtocolBufferException &#226;‡’ throw new PduCodecException(&quot;Decoding PDU failed.&quot;, e)\r\n            }\r\n          }\r\n\r\nBut in your case, since its version mismatch, new protobuf version message cant be parsed from old version of parser... or something like...\r\n\r\nIf you are using maven other dependencies, pls. review.\r\n\r\n\r\n  [1]: http://doc.akka.io/japi/akka/2.4.1/akka/protobuf/InvalidProtocolBufferException.html\r\n  [2]: http://alvinalexander.com/java/jwarehouse/akka-2.3/akka-remote/src/main/scala/akka/remote/transport/AkkaPduCodec.scala.shtml","title":"Spark and Java: Exception thrown in awaitResult","body":"<blockquote>\n  <p><em>Looks like network error in the first place (but actually NOT) in the disguise of version mismatch of spark . You can point to correct\n  version of spark jars mostly assembly jars.</em></p>\n</blockquote>\n\n<p>This issue may happen due to version miss match in Hadoop RPC call using Protobuffer.</p>\n\n<p><a href=\"http://doc.akka.io/japi/akka/2.4.1/akka/protobuf/InvalidProtocolBufferException.html\" rel=\"nofollow noreferrer\">when a protocol message being parsed is invalid in some way, e.g. it contains a malformed varint or a negative byte length.</a></p>\n\n<ul>\n<li><p>My experience with protobuf, <code>InvalidProtocolBufferException</code> can happen, only  when the message was not able to parse(programatically if you are parsing protobuf message, may be message legth is zero or message is corrupted...).</p></li>\n<li><p>Spark uses Akka Actors for Message Passing between Master/Driver and Workers and <a href=\"http://alvinalexander.com/java/jwarehouse/akka-2.3/akka-remote/src/main/scala/akka/remote/transport/AkkaPduCodec.scala.shtml\" rel=\"nofollow noreferrer\">Internally akka uses googles protobuf to communicate. see method below from AkkaPduCodec.scala)</a></p>\n\n<pre><code>override def decodePdu(raw: ByteString): AkkaPdu = {\n    try {\n      val pdu = AkkaProtocolMessage.parseFrom(raw.toArray)\n      if (pdu.hasPayload) Payload(ByteString(pdu.getPayload.asReadOnlyByteBuffer()))\n      else if (pdu.hasInstruction) decodeControlPdu(pdu.getInstruction)\n      else throw new PduCodecException(\"Error decoding Akka PDU: Neither message nor control message were contained\", null)\n    } catch {\n      case e: InvalidProtocolBufferException â‡’ throw new PduCodecException(\"Decoding PDU failed.\", e)\n    }\n  }\n</code></pre></li>\n</ul>\n\n<p>But in your case, since its version mismatch, new protobuf version message cant be parsed from old version of parser... or something like...</p>\n\n<p>If you are using maven other dependencies, pls. review.</p>\n"},{"tags":[],"owner":{"account_id":1686851,"reputation":7640,"user_id":1549950,"accept_rate":69,"display_name":"Michael Lihs"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1478523775,"creation_date":1478523775,"answer_id":40465897,"question_id":40439652,"body_markdown":"It turned out that I had Spark version 1.5.2 running in the virtual machine and used version 2.0.1 of the Spark library in Java. I fixed the issue by using the appropriate Spark library version in my `pom.xml` which is\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spark-core_2.10&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnother problem (that occurred later) was, that I also had to pin the Scala version with which the library was build. This is the `_2.10` suffix in the artifactId.\r\n\r\nBasically @RamPrassad&#39;s answer pointed me into the right direction but didn&#39;t give a clear advice what I need to do to fix my problem.\r\n\r\nBy the way: I couldn&#39;t update Spark in the virtual machine, since it was brought to me by the HortonWorks distribution...","title":"Spark and Java: Exception thrown in awaitResult","body":"<p>It turned out that I had Spark version 1.5.2 running in the virtual machine and used version 2.0.1 of the Spark library in Java. I fixed the issue by using the appropriate Spark library version in my <code>pom.xml</code> which is</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-core_2.10&lt;/artifactId&gt;\n    &lt;version&gt;1.5.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Another problem (that occurred later) was, that I also had to pin the Scala version with which the library was build. This is the <code>_2.10</code> suffix in the artifactId.</p>\n\n<p>Basically @RamPrassad's answer pointed me into the right direction but didn't give a clear advice what I need to do to fix my problem.</p>\n\n<p>By the way: I couldn't update Spark in the virtual machine, since it was brought to me by the HortonWorks distribution...</p>\n"},{"tags":[],"owner":{"account_id":13383606,"reputation":1792,"user_id":9658149,"display_name":"Eric Bellet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619685513,"creation_date":1619685513,"answer_id":67313862,"question_id":40439652,"body_markdown":"This error also happens when you have strange characters that you wanna insert into a table, for example: \r\n\r\n    INSERT INTO mytable\r\n    (select &#39;GARDENﬠy para el uso para el control de rat쟣om﷠rata&#39; as text)\r\n\r\nSo the solution is to change the encoding text or to remove these special characters like this:\r\n\r\n    INSERT INTO mytable\r\n        (select regexp_replace(&#39;GARDENﬠy para el uso para el control de rat쟣om﷠rata&#39;, \r\n    &#39;[\\u0100-\\uffff]&#39;, &#39;&#39;) as text)\r\n\r\n","title":"Spark and Java: Exception thrown in awaitResult","body":"<p>This error also happens when you have strange characters that you wanna insert into a table, for example:</p>\n<pre><code>INSERT INTO mytable\n(select 'GARDENﬠy para el uso para el control de rat쟣om﷠rata' as text)\n</code></pre>\n<p>So the solution is to change the encoding text or to remove these special characters like this:</p>\n<pre><code>INSERT INTO mytable\n    (select regexp_replace('GARDENﬠy para el uso para el control de rat쟣om﷠rata', \n'[\\u0100-\\uffff]', '') as text)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14946089,"reputation":710,"user_id":10791330,"display_name":"Jacky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654788513,"creation_date":1654788513,"answer_id":72562963,"question_id":40439652,"body_markdown":"I got this same error while trying to read in data from my SQL table. My particular issue was that I did not give the SQL user sufficient permissions to read in the data. \r\n\r\nMy SQL user had permission to run a SELECT statement, but  when I look at the log via `select * from stv_recents` (on redshift) I saw that it also performs a `UNLOAD` command to s3. [Here&#39;s a resource to `GRANT` permissions on redshift][1]\r\n\r\nNot sure if this is still relevant for you seeing that this was almost 6 years ago, but I see this in your error: \r\n\r\n&gt; `SecurityManager: authentication disabled; ui acls disabled; users \r\n&gt; with view permissions: Set(lii5ka); groups with view permissions:\r\n&gt; Set(); users  with modify permissions: Set(lii5ka); groups with modify\r\n&gt; permissions: Set()`\r\n\r\n which looks like you also didn&#39;t have sufficient permissions set on your SQL user\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/redshift/latest/dg/r_GRANT.html","title":"Spark and Java: Exception thrown in awaitResult","body":"<p>I got this same error while trying to read in data from my SQL table. My particular issue was that I did not give the SQL user sufficient permissions to read in the data.</p>\n<p>My SQL user had permission to run a SELECT statement, but  when I look at the log via <code>select * from stv_recents</code> (on redshift) I saw that it also performs a <code>UNLOAD</code> command to s3. <a href=\"https://docs.aws.amazon.com/redshift/latest/dg/r_GRANT.html\" rel=\"nofollow noreferrer\">Here's a resource to <code>GRANT</code> permissions on redshift</a></p>\n<p>Not sure if this is still relevant for you seeing that this was almost 6 years ago, but I see this in your error:</p>\n<blockquote>\n<p><code>SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(lii5ka); groups with view permissions: Set(); users  with modify permissions: Set(lii5ka); groups with modify permissions: Set()</code></p>\n</blockquote>\n<p>which looks like you also didn't have sufficient permissions set on your SQL user</p>\n"}],"owner":{"account_id":1686851,"reputation":7640,"user_id":1549950,"accept_rate":69,"display_name":"Michael Lihs"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66318,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":40440310,"answer_count":4,"score":16,"last_activity_date":1654788513,"creation_date":1478357925,"question_id":40439652,"body_markdown":"I am trying to connect a Spark cluster running within a virtual machine with IP `10.20.30.50` and port `7077` from within a Java application and run the word count example:\r\n\r\n    SparkConf conf = new SparkConf().setMaster(&quot;spark://10.20.30.50:7077&quot;).setAppName(&quot;wordCount&quot;);\r\n    JavaSparkContext sc = new JavaSparkContext(conf);\r\n    JavaRDD&lt;String&gt; textFile = sc.textFile(&quot;hdfs://localhost:8020/README.md&quot;);\r\n    String result = Long.toString(textFile.count());\r\n    JavaRDD&lt;String&gt; words = textFile.flatMap((FlatMapFunction&lt;String, String&gt;) s -&gt; Arrays.asList(s.split(&quot; &quot;)).iterator());\r\n    JavaPairRDD&lt;String, Integer&gt; pairs = words.mapToPair((PairFunction&lt;String, String, Integer&gt;) s -&gt; new Tuple2&lt;&gt;(s, 1));\r\n    JavaPairRDD&lt;String, Integer&gt; counts = pairs.reduceByKey((Function2&lt;Integer, Integer, Integer&gt;) (a, b) -&gt; a + b);\r\n    counts.saveAsTextFile(&quot;hdfs://localhost:8020/tmp/output&quot;);\r\n    sc.stop();\r\n    return result;\r\n\r\nThe Java application shows the following stack trace:\r\n\r\n    Running Spark version 2.0.1\r\n    Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n    Changing view acls to: lii5ka\r\n    Changing modify acls to: lii5ka\r\n    Changing view acls groups to:\r\n    Changing modify acls groups to:\r\n    SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(lii5ka); groups with view permissions: Set(); users  with modify permissions: Set(lii5ka); groups with modify permissions: Set()\r\n    Successfully started service &#39;sparkDriver&#39; on port 61267.\r\n    Registering MapOutputTracker\r\n    Registering BlockManagerMaster\r\n    Created local directory at /private/var/folders/4k/h0sl02993_99bzt0dzv759000000gn/T/blockmgr-51de868d-3ba7-40be-8c53-f881f97ced63\r\n    MemoryStore started with capacity 2004.6 MB\r\n    Registering OutputCommitCoordinator\r\n    Logging initialized @48403ms\r\n    jetty-9.2.z-SNAPSHOT\r\n    Started o.s.j.s.ServletContextHandler@1316e7ec{/jobs,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@782de006{/jobs/json,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@2d0353{/jobs/job,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@381e24a0{/jobs/job/json,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@1c138dc8{/stages,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@b29739c{/stages/json,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@63f6de31{/stages/stage,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@2a04ddcb{/stages/stage/json,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@2af9688e{/stages/pool,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@6a0c5bde{/stages/pool/json,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@3f5e17f8{/storage,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@33b86f5d{/storage/json,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@5264dcbc{/storage/rdd,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@5a3ebf85{/storage/rdd/json,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@159082ed{/environment,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@6522c585{/environment/json,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@115774a1{/executors,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@3e3a3399{/executors/json,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@2f2c5959{/executors/threadDump,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@5c51afd4{/executors/threadDump/json,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@76893a83{/static,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@19c07930{/,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@54eb0dc0{/api,null,AVAILABLE}\r\n    Started o.s.j.s.ServletContextHandler@5953786{/stages/stage/kill,null,AVAILABLE}\r\n    Started ServerConnector@2eeb8bd6{HTTP/1.1}{0.0.0.0:4040}\r\n    Started @48698ms\r\n    Successfully started service &#39;SparkUI&#39; on port 4040.\r\n    Bound SparkUI to 0.0.0.0, and started at http://192.168.0.104:4040\r\n    Connecting to master spark://10.20.30.50:7077...\r\n    Successfully created connection to /10.20.30.50:7077 after 25 ms (0 ms spent in bootstraps)\r\n    Connecting to master spark://10.20.30.50:7077...\r\n    Still have 2 requests outstanding when connection from /10.20.30.50:7077 is closed\r\n    Failed to connect to master 10.20.30.50:7077\r\n\r\n    org.apache.spark.SparkException: Exception thrown in awaitResult\r\n            at org.apache.spark.rpc.RpcTimeout$$anonfun$1.applyOrElse(RpcTimeout.scala:77) ~[spark-core_2.11-2.0.1.jar:2.0.1]\r\n            at org.apache.spark.rpc.RpcTimeout$$anonfun$1.applyOrElse(RpcTimeout.scala:75) ~[spark-core_2.11-2.0.1.jar:2.0.1]\r\n            at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:36) ~[scala-library-2.11.8.jar:na]\r\n            at org.apache.spark.rpc.RpcTimeout$$anonfun$addMessageIfTimeout$1.applyOrElse(RpcTimeout.scala:59) ~[spark-core_2.11-2.0.1.jar:2.0.1]\r\n            at org.apache.spark.rpc.RpcTimeout$$anonfun$addMessageIfTimeout$1.applyOrElse(RpcTimeout.scala:59) ~[spark-core_2.11-2.0.1.jar:2.0.1]\r\n            at scala.PartialFunction$OrElse.apply(PartialFunction.scala:167) ~[scala-library-2.11.8.jar:na]\r\n            at org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:83) ~[spark-core_2.11-2.0.1.jar:2.0.1]\r\n            at org.apache.spark.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:88) ~[spark-core_2.11-2.0.1.jar:2.0.1]\r\n            at org.apache.spark.rpc.RpcEnv.setupEndpointRef(RpcEnv.scala:96) ~[spark-core_2.11-2.0.1.jar:2.0.1]\r\n            at org.apache.spark.deploy.client.StandaloneAppClient$ClientEndpoint$$anonfun$tryRegisterAllMasters$1$$anon$1.run(StandaloneAppClient.scala:106) ~[spark-core_2.11-2.0.1.jar:2.0.1]\r\n            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_102]\r\n            at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_102]\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_102]\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_102]\r\n            at java.lang.Thread.run(Thread.java:745) [na:1.8.0_102]\r\n    Caused by: java.io.IOException: Connection from /10.20.30.50:7077 closed\r\n            at org.apache.spark.network.client.TransportResponseHandler.channelInactive(TransportResponseHandler.java:128) ~[spark-network-common_2.11-2.0.1.jar:2.0.1]\r\n            at org.apache.spark.network.server.TransportChannelHandler.channelInactive(TransportChannelHandler.java:109) ~[spark-network-common_2.11-2.0.1.jar:2.0.1]\r\n            at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:208) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\r\n            at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:194) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\r\n            at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:75) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\r\n            at io.netty.handler.timeout.IdleStateHandler.channelInactive(IdleStateHandler.java:257) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\r\n            at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:208) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\r\n            at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:194) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\r\n            at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:75) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\r\n            at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:208) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\r\n            at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:194) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\r\n            at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:75) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\r\n            at org.apache.spark.network.util.TransportFrameDecoder.channelInactive(TransportFrameDecoder.java:182) ~[spark-network-common_2.11-2.0.1.jar:2.0.1]\r\n            at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:208) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\r\n            at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:194) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\r\n            at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:828) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\r\n            at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:621) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:357) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\r\n            at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:357) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:111) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\r\n            ... 1 common frames omitted\r\n\r\nIn the Spark Master log on `10.20.30.50`, I get the following error message:\r\n\r\n    16/11/05 14:47:20 ERROR OneForOneStrategy: Error while decoding incoming Akka PDU of length: 1298\r\n    akka.remote.transport.AkkaProtocolException: Error while decoding incoming Akka PDU of length: 1298\r\n    Caused by: akka.remote.transport.PduCodecException: Decoding PDU failed.\r\n        at akka.remote.transport.AkkaPduProtobufCodec$.decodePdu(AkkaPduCodec.scala:167)\r\n        at akka.remote.transport.ProtocolStateActor.akka$remote$transport$ProtocolStateActor$$decodePdu(AkkaProtocolTransport.scala:580)\r\n        at akka.remote.transport.ProtocolStateActor$$anonfun$4.applyOrElse(AkkaProtocolTransport.scala:375)\r\n        at akka.remote.transport.ProtocolStateActor$$anonfun$4.applyOrElse(AkkaProtocolTransport.scala:343)\r\n        at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:33)\r\n        at akka.actor.FSM$class.processEvent(FSM.scala:604)\r\n        at akka.remote.transport.ProtocolStateActor.processEvent(AkkaProtocolTransport.scala:269)\r\n        at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:598)\r\n        at akka.actor.FSM$$anonfun$receive$1.applyOrElse(FSM.scala:592)\r\n        at akka.actor.Actor$class.aroundReceive(Actor.scala:467)\r\n        at akka.remote.transport.ProtocolStateActor.aroundReceive(AkkaProtocolTransport.scala:269)\r\n        at akka.actor.ActorCell.receiveMessage(ActorCell.scala:516)\r\n        at akka.actor.ActorCell.invoke(ActorCell.scala:487)\r\n        at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:238)\r\n        at akka.dispatch.Mailbox.run(Mailbox.scala:220)\r\n        at akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(AbstractDispatcher.scala:397)\r\n        at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)\r\n        at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)\r\n        at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)\r\n        at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)\r\n    Caused by: com.google.protobuf.InvalidProtocolBufferException: Protocol message contained an invalid tag (zero).\r\n        at com.google.protobuf.InvalidProtocolBufferException.invalidTag(InvalidProtocolBufferException.java:89)\r\n        at com.google.protobuf.CodedInputStream.readTag(CodedInputStream.java:108)\r\n        at akka.remote.WireFormats$AkkaProtocolMessage.&lt;init&gt;(WireFormats.java:6643)\r\n        at akka.remote.WireFormats$AkkaProtocolMessage.&lt;init&gt;(WireFormats.java:6607)\r\n        at akka.remote.WireFormats$AkkaProtocolMessage$1.parsePartialFrom(WireFormats.java:6703)\r\n        at akka.remote.WireFormats$AkkaProtocolMessage$1.parsePartialFrom(WireFormats.java:6698)\r\n        at com.google.protobuf.AbstractParser.parsePartialFrom(AbstractParser.java:141)\r\n        at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:176)\r\n        at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:188)\r\n        at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:193)\r\n        at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:49)\r\n        at akka.remote.WireFormats$AkkaProtocolMessage.parseFrom(WireFormats.java:6821)\r\n        at akka.remote.transport.AkkaPduProtobufCodec$.decodePdu(AkkaPduCodec.scala:168)\r\n        ... 19 more\r\n\r\n**Additional Information**\r\n\r\n* The example works fine when I use `new SparkConf().setMaster(&quot;local&quot;)` instead\r\n* I can connect to the Spark Master with `spark-shell --master spark://10.20.30.50:7077` on the very same machine","title":"Spark and Java: Exception thrown in awaitResult","body":"<p>I am trying to connect a Spark cluster running within a virtual machine with IP <code>10.20.30.50</code> and port <code>7077</code> from within a Java application and run the word count example:</p>\n\n<pre><code>SparkConf conf = new SparkConf().setMaster(\"spark://10.20.30.50:7077\").setAppName(\"wordCount\");\nJavaSparkContext sc = new JavaSparkContext(conf);\nJavaRDD&lt;String&gt; textFile = sc.textFile(\"hdfs://localhost:8020/README.md\");\nString result = Long.toString(textFile.count());\nJavaRDD&lt;String&gt; words = textFile.flatMap((FlatMapFunction&lt;String, String&gt;) s -&gt; Arrays.asList(s.split(\" \")).iterator());\nJavaPairRDD&lt;String, Integer&gt; pairs = words.mapToPair((PairFunction&lt;String, String, Integer&gt;) s -&gt; new Tuple2&lt;&gt;(s, 1));\nJavaPairRDD&lt;String, Integer&gt; counts = pairs.reduceByKey((Function2&lt;Integer, Integer, Integer&gt;) (a, b) -&gt; a + b);\ncounts.saveAsTextFile(\"hdfs://localhost:8020/tmp/output\");\nsc.stop();\nreturn result;\n</code></pre>\n\n<p>The Java application shows the following stack trace:</p>\n\n<pre><code>Running Spark version 2.0.1\nUnable to load native-hadoop library for your platform... using builtin-java classes where applicable\nChanging view acls to: lii5ka\nChanging modify acls to: lii5ka\nChanging view acls groups to:\nChanging modify acls groups to:\nSecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(lii5ka); groups with view permissions: Set(); users  with modify permissions: Set(lii5ka); groups with modify permissions: Set()\nSuccessfully started service 'sparkDriver' on port 61267.\nRegistering MapOutputTracker\nRegistering BlockManagerMaster\nCreated local directory at /private/var/folders/4k/h0sl02993_99bzt0dzv759000000gn/T/blockmgr-51de868d-3ba7-40be-8c53-f881f97ced63\nMemoryStore started with capacity 2004.6 MB\nRegistering OutputCommitCoordinator\nLogging initialized @48403ms\njetty-9.2.z-SNAPSHOT\nStarted o.s.j.s.ServletContextHandler@1316e7ec{/jobs,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@782de006{/jobs/json,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@2d0353{/jobs/job,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@381e24a0{/jobs/job/json,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@1c138dc8{/stages,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@b29739c{/stages/json,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@63f6de31{/stages/stage,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@2a04ddcb{/stages/stage/json,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@2af9688e{/stages/pool,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@6a0c5bde{/stages/pool/json,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@3f5e17f8{/storage,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@33b86f5d{/storage/json,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@5264dcbc{/storage/rdd,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@5a3ebf85{/storage/rdd/json,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@159082ed{/environment,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@6522c585{/environment/json,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@115774a1{/executors,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@3e3a3399{/executors/json,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@2f2c5959{/executors/threadDump,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@5c51afd4{/executors/threadDump/json,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@76893a83{/static,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@19c07930{/,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@54eb0dc0{/api,null,AVAILABLE}\nStarted o.s.j.s.ServletContextHandler@5953786{/stages/stage/kill,null,AVAILABLE}\nStarted ServerConnector@2eeb8bd6{HTTP/1.1}{0.0.0.0:4040}\nStarted @48698ms\nSuccessfully started service 'SparkUI' on port 4040.\nBound SparkUI to 0.0.0.0, and started at http://192.168.0.104:4040\nConnecting to master spark://10.20.30.50:7077...\nSuccessfully created connection to /10.20.30.50:7077 after 25 ms (0 ms spent in bootstraps)\nConnecting to master spark://10.20.30.50:7077...\nStill have 2 requests outstanding when connection from /10.20.30.50:7077 is closed\nFailed to connect to master 10.20.30.50:7077\n\norg.apache.spark.SparkException: Exception thrown in awaitResult\n        at org.apache.spark.rpc.RpcTimeout$$anonfun$1.applyOrElse(RpcTimeout.scala:77) ~[spark-core_2.11-2.0.1.jar:2.0.1]\n        at org.apache.spark.rpc.RpcTimeout$$anonfun$1.applyOrElse(RpcTimeout.scala:75) ~[spark-core_2.11-2.0.1.jar:2.0.1]\n        at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:36) ~[scala-library-2.11.8.jar:na]\n        at org.apache.spark.rpc.RpcTimeout$$anonfun$addMessageIfTimeout$1.applyOrElse(RpcTimeout.scala:59) ~[spark-core_2.11-2.0.1.jar:2.0.1]\n        at org.apache.spark.rpc.RpcTimeout$$anonfun$addMessageIfTimeout$1.applyOrElse(RpcTimeout.scala:59) ~[spark-core_2.11-2.0.1.jar:2.0.1]\n        at scala.PartialFunction$OrElse.apply(PartialFunction.scala:167) ~[scala-library-2.11.8.jar:na]\n        at org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:83) ~[spark-core_2.11-2.0.1.jar:2.0.1]\n        at org.apache.spark.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:88) ~[spark-core_2.11-2.0.1.jar:2.0.1]\n        at org.apache.spark.rpc.RpcEnv.setupEndpointRef(RpcEnv.scala:96) ~[spark-core_2.11-2.0.1.jar:2.0.1]\n        at org.apache.spark.deploy.client.StandaloneAppClient$ClientEndpoint$$anonfun$tryRegisterAllMasters$1$$anon$1.run(StandaloneAppClient.scala:106) ~[spark-core_2.11-2.0.1.jar:2.0.1]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_102]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_102]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_102]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_102]\n        at java.lang.Thread.run(Thread.java:745) [na:1.8.0_102]\nCaused by: java.io.IOException: Connection from /10.20.30.50:7077 closed\n        at org.apache.spark.network.client.TransportResponseHandler.channelInactive(TransportResponseHandler.java:128) ~[spark-network-common_2.11-2.0.1.jar:2.0.1]\n        at org.apache.spark.network.server.TransportChannelHandler.channelInactive(TransportChannelHandler.java:109) ~[spark-network-common_2.11-2.0.1.jar:2.0.1]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:208) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:194) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\n        at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:75) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\n        at io.netty.handler.timeout.IdleStateHandler.channelInactive(IdleStateHandler.java:257) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:208) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:194) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\n        at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:75) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:208) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:194) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\n        at io.netty.channel.ChannelInboundHandlerAdapter.channelInactive(ChannelInboundHandlerAdapter.java:75) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\n        at org.apache.spark.network.util.TransportFrameDecoder.channelInactive(TransportFrameDecoder.java:182) ~[spark-network-common_2.11-2.0.1.jar:2.0.1]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:208) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:194) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\n        at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:828) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\n        at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:621) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:357) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:357) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\n        at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:111) ~[netty-all-4.0.29.Final.jar:4.0.29.Final]\n        ... 1 common frames omitted\n</code></pre>\n\n<p>In the Spark Master log on <code>10.20.30.50</code>, I get the following error message:</p>\n\n<pre><code>16/11/05 14:47:20 ERROR OneForOneStrategy: Error while decoding incoming Akka PDU of length: 1298\nakka.remote.transport.AkkaProtocolException: Error while decoding incoming Akka PDU of length: 1298\nCaused by: akka.remote.transport.PduCodecException: Decoding PDU failed.\n    at akka.remote.transport.AkkaPduProtobufCodec$.decodePdu(AkkaPduCodec.scala:167)\n    at akka.remote.transport.ProtocolStateActor.akka$remote$transport$ProtocolStateActor$$decodePdu(AkkaProtocolTransport.scala:580)\n    at akka.remote.transport.ProtocolStateActor$$anonfun$4.applyOrElse(AkkaProtocolTransport.scala:375)\n    at akka.remote.transport.ProtocolStateActor$$anonfun$4.applyOrElse(AkkaProtocolTransport.scala:343)\n    at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:33)\n    at akka.actor.FSM$class.processEvent(FSM.scala:604)\n    at akka.remote.transport.ProtocolStateActor.processEvent(AkkaProtocolTransport.scala:269)\n    at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:598)\n    at akka.actor.FSM$$anonfun$receive$1.applyOrElse(FSM.scala:592)\n    at akka.actor.Actor$class.aroundReceive(Actor.scala:467)\n    at akka.remote.transport.ProtocolStateActor.aroundReceive(AkkaProtocolTransport.scala:269)\n    at akka.actor.ActorCell.receiveMessage(ActorCell.scala:516)\n    at akka.actor.ActorCell.invoke(ActorCell.scala:487)\n    at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:238)\n    at akka.dispatch.Mailbox.run(Mailbox.scala:220)\n    at akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(AbstractDispatcher.scala:397)\n    at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)\n    at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)\n    at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)\n    at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)\nCaused by: com.google.protobuf.InvalidProtocolBufferException: Protocol message contained an invalid tag (zero).\n    at com.google.protobuf.InvalidProtocolBufferException.invalidTag(InvalidProtocolBufferException.java:89)\n    at com.google.protobuf.CodedInputStream.readTag(CodedInputStream.java:108)\n    at akka.remote.WireFormats$AkkaProtocolMessage.&lt;init&gt;(WireFormats.java:6643)\n    at akka.remote.WireFormats$AkkaProtocolMessage.&lt;init&gt;(WireFormats.java:6607)\n    at akka.remote.WireFormats$AkkaProtocolMessage$1.parsePartialFrom(WireFormats.java:6703)\n    at akka.remote.WireFormats$AkkaProtocolMessage$1.parsePartialFrom(WireFormats.java:6698)\n    at com.google.protobuf.AbstractParser.parsePartialFrom(AbstractParser.java:141)\n    at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:176)\n    at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:188)\n    at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:193)\n    at com.google.protobuf.AbstractParser.parseFrom(AbstractParser.java:49)\n    at akka.remote.WireFormats$AkkaProtocolMessage.parseFrom(WireFormats.java:6821)\n    at akka.remote.transport.AkkaPduProtobufCodec$.decodePdu(AkkaPduCodec.scala:168)\n    ... 19 more\n</code></pre>\n\n<p><strong>Additional Information</strong></p>\n\n<ul>\n<li>The example works fine when I use <code>new SparkConf().setMaster(\"local\")</code> instead</li>\n<li>I can connect to the Spark Master with <code>spark-shell --master spark://10.20.30.50:7077</code> on the very same machine</li>\n</ul>\n"},{"tags":["java","date","grpc","grpc-java","proto"],"comments":[{"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"score":0,"creation_date":1538652579,"post_id":52645487,"comment_id":92223148,"body_markdown":"Do you mean by _Java8 Date_ `LocalDate`? `Date` itself is Java 1 :-)","body":"Do you mean by <i>Java8 Date</i> <code>LocalDate</code>? <code>Date</code> itself is Java 1 :-)"},{"owner":{"account_id":14374646,"reputation":371,"user_id":10383389,"display_name":"Thirunavukkarasu"},"score":0,"creation_date":1538652730,"post_id":52645487,"comment_id":92223231,"body_markdown":"Sorry Its typo. changed the question now @LuCio,","body":"Sorry Its typo. changed the question now @LuCio,"},{"owner":{"account_id":14374646,"reputation":371,"user_id":10383389,"display_name":"Thirunavukkarasu"},"score":0,"creation_date":1538652836,"post_id":52645487,"comment_id":92223294,"body_markdown":"Actually Google Proto Buffer returning com.google.protobuf.Timestamp instance. In that place we need to convert it into LocalDate or what ever its !","body":"Actually Google Proto Buffer returning com.google.protobuf.Timestamp instance. In that place we need to convert it into LocalDate or what ever its !"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1538655230,"post_id":52645487,"comment_id":92224750,"body_markdown":"Use `Instant.ofEpochSecond(yourTimestamp.getSeconds(), yourTimestamp.getNanos())` and continue from the `Instant` you get. If in doubt, search for how to convert `Instant` to `LocalDate`, it’s described in many places.","body":"Use <code>Instant.ofEpochSecond(yourTimestamp.getSeconds(), yourTimestamp.getNanos())</code> and continue from the <code>Instant</code> you get. If in doubt, search for how to convert <code>Instant</code> to <code>LocalDate</code>, it’s described in many places."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1538671239,"post_id":52645487,"comment_id":92235081,"body_markdown":"Dear Down-Voter, please leave a criticism along with your vote to explain how this Question is not helpful, constructive, or well-formed. Seems  to me to be a perfectly fine Question for Stack Overflow.","body":"Dear Down-Voter, please leave a criticism along with your vote to explain how this Question is not helpful, constructive, or well-formed. Seems  to me to be a perfectly fine Question for Stack Overflow."}],"answers":[{"tags":[],"owner":{"account_id":2712119,"reputation":1260,"user_id":2340341,"accept_rate":100,"display_name":"Sir. Hedgehog"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1538655826,"creation_date":1538652474,"answer_id":52645554,"question_id":52645487,"body_markdown":"The simplest way to do it is to extract the date from the buffer Timestamp to a **String** so it can be multiused and then:\r\n\r\n\r\n    Timestamp timestamp;\r\n    String sDate1 = timestamp.toString();  \r\n    Date date1 = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(sDate1);\r\n\r\nIn case you want to make it a LocalDate you do the following:\r\n\r\n    Timestamp timestamp;\r\n    String sDate1 = timestamp.toString();    \r\n    LocalDate localDate = LocalDate.parse(sDate1);\r\n\r\nIn case you cannot extract the String timestamp and you have Miliseconds you can also create the LocalDate and Date object from that as well, as they both have contractors for it.\r\n\r\n        Timestamp timestamp;\r\n        long timeInMilliSeconds = Timestamp.toMillis(timestamp);\r\n        Date currentDate = new Date(timeInMilliSeconds);\r\n        LocalDate date = Instant.ofEpochMilli(timeInMilliSeconds).atZone(ZoneId.systemDefault()).toLocalDate();\r\n\r\n","title":"How to convert Google proto timestamp to Java LocalDate?","body":"<p>The simplest way to do it is to extract the date from the buffer Timestamp to a <strong>String</strong> so it can be multiused and then:</p>\n\n<pre><code>Timestamp timestamp;\nString sDate1 = timestamp.toString();  \nDate date1 = new SimpleDateFormat(\"dd/MM/yyyy\").parse(sDate1);\n</code></pre>\n\n<p>In case you want to make it a LocalDate you do the following:</p>\n\n<pre><code>Timestamp timestamp;\nString sDate1 = timestamp.toString();    \nLocalDate localDate = LocalDate.parse(sDate1);\n</code></pre>\n\n<p>In case you cannot extract the String timestamp and you have Miliseconds you can also create the LocalDate and Date object from that as well, as they both have contractors for it.</p>\n\n<pre><code>    Timestamp timestamp;\n    long timeInMilliSeconds = Timestamp.toMillis(timestamp);\n    Date currentDate = new Date(timeInMilliSeconds);\n    LocalDate date = Instant.ofEpochMilli(timeInMilliSeconds).atZone(ZoneId.systemDefault()).toLocalDate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4259399,"reputation":8159,"user_id":3484146,"display_name":"ifloop"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1538661817,"creation_date":1538654737,"answer_id":52646284,"question_id":52645487,"body_markdown":"First some heads up: Protobuf&#39;s `TimeStamp` has a higher resolution (Seconds and fractions of seconds) than Java&#39;s `LocalDate` (Days) so you will be loosing some information by converting from `TimeStamp` to a `LocalDate`\r\n\r\nSee this excerpt of TimeStamp&#39;s [JavaDoc][1]:\r\n&gt; A Timestamp represents a point in time independent of any time zone or\r\n&gt; calendar, represented as seconds and fractions of seconds at\r\n&gt; nanosecond resolution in UTC Epoch time.\r\n\r\n___\r\n\r\nThis very same JavaDoc tells us, the value is a representation based on Epoch time, that means we can use Java&#39;s [LocalDateTime#ofEpochSeconds][2] to convert without loss (because `LocalDateTime` also stores time) and from there on strip the time to get a `LocalDate`.\r\n\r\nBy using a `LocalDateTime` (em: Local) we can make sure we use the same TimeZone offset as the `TimeStamp` Class does, which is UTC (thats again from the JavaDoc):\r\n\r\n    final Timestamp ts1 = Timestamp.newBuilder().setSeconds((60 * 60 * 24) - 1).build();\r\n    final Timestamp ts2 = Timestamp.newBuilder().setSeconds((60 * 60 * 24)).build();\r\n\r\n    final LocalDate ld1 = LocalDateTime.ofEpochSecond(ts1.getSeconds(), ts1.getNanos(), ZoneOffset.UTC).toLocalDate();\r\n    final LocalDate ld2 = LocalDateTime.ofEpochSecond(ts2.getSeconds(), ts2.getNanos(), ZoneOffset.UTC).toLocalDate();\r\n\r\n    System.out.println(ts1 + &quot; = &quot; + ld1);\r\n    System.out.println(ts2 + &quot; = &quot; + ld2);\r\n\r\nOutput\r\n\r\n&gt; seconds: 86399  = 1970-01-01\r\n\r\n&gt; seconds: 86400  = 1970-01-02 \r\n\r\n___\r\n\r\n**EDIT** after asking for conversion to `java.util.Date`\r\n\r\nLooking at possible constructors for `Date` and their [JavaDoc][3] we find:\r\n\r\n&gt; Allocates a Date object and initializes it to represent the specified number of milliseconds since the standard base time known as &quot;the epoch&quot;, namely January 1, 1970, 00:00:00 GMT.\r\n\r\nAnd because GMT beeing the older Standard for zoned time representation and it is basically UTC +/- 0, this constructor fits our needs:\r\n\r\n    TimeZone.setDefault(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    // making sure the Date objects use UTC as timezone\r\n\r\n    final Timestamp ts1 = Timestamp.newBuilder().setSeconds((60 * 60 * 24) - 1).build();\r\n    final Timestamp ts2 = Timestamp.newBuilder().setSeconds((60 * 60 * 24)).build();\r\n\r\n    final Date d1 = new Date(ts1.getSeconds() * 1000);\r\n    final Date d2 = new Date(ts2.getSeconds() * 1000);\r\n\r\n    System.out.println(ts1 + &quot; = &quot; + d1);\r\n    System.out.println(ts2 + &quot; = &quot; + d2);\r\n\r\nOutput:\r\n\r\n&gt; seconds: 86399 = Thu Jan 01 23:59:59 CET 1970\r\n\r\n&gt; seconds: 86400 = Fri Jan 02 00:00:00 CET 1970\r\n \r\n\r\n\r\n  [1]: https://developers.google.com/protocol-buffers/docs/reference/java/\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#ofEpochSecond-long-int-java.time.ZoneOffset-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#Date-long-","title":"How to convert Google proto timestamp to Java LocalDate?","body":"<p>First some heads up: Protobuf's <code>TimeStamp</code> has a higher resolution (Seconds and fractions of seconds) than Java's <code>LocalDate</code> (Days) so you will be loosing some information by converting from <code>TimeStamp</code> to a <code>LocalDate</code></p>\n\n<p>See this excerpt of TimeStamp's <a href=\"https://developers.google.com/protocol-buffers/docs/reference/java/\" rel=\"nofollow noreferrer\">JavaDoc</a>:</p>\n\n<blockquote>\n  <p>A Timestamp represents a point in time independent of any time zone or\n  calendar, represented as seconds and fractions of seconds at\n  nanosecond resolution in UTC Epoch time.</p>\n</blockquote>\n\n<hr>\n\n<p>This very same JavaDoc tells us, the value is a representation based on Epoch time, that means we can use Java's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#ofEpochSecond-long-int-java.time.ZoneOffset-\" rel=\"nofollow noreferrer\">LocalDateTime#ofEpochSeconds</a> to convert without loss (because <code>LocalDateTime</code> also stores time) and from there on strip the time to get a <code>LocalDate</code>.</p>\n\n<p>By using a <code>LocalDateTime</code> (em: Local) we can make sure we use the same TimeZone offset as the <code>TimeStamp</code> Class does, which is UTC (thats again from the JavaDoc):</p>\n\n<pre><code>final Timestamp ts1 = Timestamp.newBuilder().setSeconds((60 * 60 * 24) - 1).build();\nfinal Timestamp ts2 = Timestamp.newBuilder().setSeconds((60 * 60 * 24)).build();\n\nfinal LocalDate ld1 = LocalDateTime.ofEpochSecond(ts1.getSeconds(), ts1.getNanos(), ZoneOffset.UTC).toLocalDate();\nfinal LocalDate ld2 = LocalDateTime.ofEpochSecond(ts2.getSeconds(), ts2.getNanos(), ZoneOffset.UTC).toLocalDate();\n\nSystem.out.println(ts1 + \" = \" + ld1);\nSystem.out.println(ts2 + \" = \" + ld2);\n</code></pre>\n\n<p>Output</p>\n\n<blockquote>\n  <p>seconds: 86399  = 1970-01-01</p>\n  \n  <p>seconds: 86400  = 1970-01-02 </p>\n</blockquote>\n\n<hr>\n\n<p><strong>EDIT</strong> after asking for conversion to <code>java.util.Date</code></p>\n\n<p>Looking at possible constructors for <code>Date</code> and their <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#Date-long-\" rel=\"nofollow noreferrer\">JavaDoc</a> we find:</p>\n\n<blockquote>\n  <p>Allocates a Date object and initializes it to represent the specified number of milliseconds since the standard base time known as \"the epoch\", namely January 1, 1970, 00:00:00 GMT.</p>\n</blockquote>\n\n<p>And because GMT beeing the older Standard for zoned time representation and it is basically UTC +/- 0, this constructor fits our needs:</p>\n\n<pre><code>TimeZone.setDefault(TimeZone.getTimeZone(\"UTC\"));\n// making sure the Date objects use UTC as timezone\n\nfinal Timestamp ts1 = Timestamp.newBuilder().setSeconds((60 * 60 * 24) - 1).build();\nfinal Timestamp ts2 = Timestamp.newBuilder().setSeconds((60 * 60 * 24)).build();\n\nfinal Date d1 = new Date(ts1.getSeconds() * 1000);\nfinal Date d2 = new Date(ts2.getSeconds() * 1000);\n\nSystem.out.println(ts1 + \" = \" + d1);\nSystem.out.println(ts2 + \" = \" + d2);\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>seconds: 86399 = Thu Jan 01 23:59:59 CET 1970</p>\n  \n  <p>seconds: 86400 = Fri Jan 02 00:00:00 CET 1970</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1579133613,"creation_date":1538670372,"answer_id":52651480,"question_id":52645487,"body_markdown":"# tl;dr\r\n\r\nAs a moment in UTC, convert to `java.time.Instant`. Then apply a time zone to get a `ZonedDateTime`. Extract the date-only portion as a `LocalDate`. \r\n\r\nOne-liner:\r\n\r\n    Instant\r\n    .ofEpochSecond( ts.getSeconds() , ts.getNanos() ) \r\n    .atZone( ZoneId.of( &quot;America/Montreal&quot; ) ) \r\n    .toLocalDate() \r\n\r\n# Convert\r\n\r\nFirst step is to convert the [`Timestamp`](https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/Timestamp) object’s count of seconds and fractional second (nanoseconds) to the *java.time* classes. Specifically, [`java.time.Instant`](https://docs.oracle.com/javase/10/docs/api/java/time/Instant.html). Just like `Timestamp`, an `Instant` represents a moment in UTC with a resolution of nanoseconds. \r\n\r\n    Instant instant =  Instant.ofEpochSecond( ts.getSeconds() , ts.getNanos() ) ;\r\n\r\nDetermining a date requires a time zone. For any given moment, the date varies around the globe by zone. \r\n\r\nApply a `ZoneId` to our `Instant` to get a `ZonedDateTime`. Same moment, same point on the timeline, different wall-clock time.  \r\n\r\n    ZoneId z = ZoneId( &quot;Pacific/Auckland&quot; ) ; \r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n\r\nExtract the date-only portion as a `LocalDate`. A `LocalDate` has no time-of-day and no time zone. \r\n\r\n    LocalDate ld = zdt.toLocalDate() ;\r\n\r\nCaution: Do *not* use `LocalDateTime` class for this purpose, as unfortunately shown in another Answer. That class purposely lacks any concept of time zone or offset-from-UTC. As such it cannot represent a moment, is not a point on the timeline. See class documentation. \r\n\r\n# Convert\r\n\r\nBest to entirely avoid the terribly troublesome legacy date-time classes including `Date`, `Calendar`, `SimpleDateFormat`. But if you must interoperate with old code not yet updated to *java.time* you can convert back-and-forth. Call new conversion methods added to the old classes. \r\n\r\n    GregorianCalendar gc = GregorianCalendar.from( zdt ) ;\r\n\r\nTo represent a date-only value as a `GregorianCalendar` we must specify a time-of-day and a time zone. You’ll likely want to use the first moment of the day as the time-of-day component. Never assume the first moment is 00:00:00. Anomalies such as Daylight Saving Time mean the first moment might be another time such as 01:00:00. Let *java.time* determine first moment. \r\n\r\n    ZonedDateTime firstMomentOfDay = ld.atZone( z ) ;\r\n    GregorianCalendar gc = GregorianCalendar.from( firstMomentOfDay ) ;\r\n\r\n\r\n----------\r\n\r\n\r\n[![Table of date-time types in Java (both legacy and modern) and in standard SQL][1]][1]\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7jHwR.png","title":"How to convert Google proto timestamp to Java LocalDate?","body":"<h1>tl;dr</h1>\n\n<p>As a moment in UTC, convert to <code>java.time.Instant</code>. Then apply a time zone to get a <code>ZonedDateTime</code>. Extract the date-only portion as a <code>LocalDate</code>. </p>\n\n<p>One-liner:</p>\n\n<pre><code>Instant\n.ofEpochSecond( ts.getSeconds() , ts.getNanos() ) \n.atZone( ZoneId.of( \"America/Montreal\" ) ) \n.toLocalDate() \n</code></pre>\n\n<h1>Convert</h1>\n\n<p>First step is to convert the <a href=\"https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/Timestamp\" rel=\"noreferrer\"><code>Timestamp</code></a> object’s count of seconds and fractional second (nanoseconds) to the <em>java.time</em> classes. Specifically, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>java.time.Instant</code></a>. Just like <code>Timestamp</code>, an <code>Instant</code> represents a moment in UTC with a resolution of nanoseconds. </p>\n\n<pre><code>Instant instant =  Instant.ofEpochSecond( ts.getSeconds() , ts.getNanos() ) ;\n</code></pre>\n\n<p>Determining a date requires a time zone. For any given moment, the date varies around the globe by zone. </p>\n\n<p>Apply a <code>ZoneId</code> to our <code>Instant</code> to get a <code>ZonedDateTime</code>. Same moment, same point on the timeline, different wall-clock time.  </p>\n\n<pre><code>ZoneId z = ZoneId( \"Pacific/Auckland\" ) ; \nZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n\n<p>Extract the date-only portion as a <code>LocalDate</code>. A <code>LocalDate</code> has no time-of-day and no time zone. </p>\n\n<pre><code>LocalDate ld = zdt.toLocalDate() ;\n</code></pre>\n\n<p>Caution: Do <em>not</em> use <code>LocalDateTime</code> class for this purpose, as unfortunately shown in another Answer. That class purposely lacks any concept of time zone or offset-from-UTC. As such it cannot represent a moment, is not a point on the timeline. See class documentation. </p>\n\n<h1>Convert</h1>\n\n<p>Best to entirely avoid the terribly troublesome legacy date-time classes including <code>Date</code>, <code>Calendar</code>, <code>SimpleDateFormat</code>. But if you must interoperate with old code not yet updated to <em>java.time</em> you can convert back-and-forth. Call new conversion methods added to the old classes. </p>\n\n<pre><code>GregorianCalendar gc = GregorianCalendar.from( zdt ) ;\n</code></pre>\n\n<p>To represent a date-only value as a <code>GregorianCalendar</code> we must specify a time-of-day and a time zone. You’ll likely want to use the first moment of the day as the time-of-day component. Never assume the first moment is 00:00:00. Anomalies such as Daylight Saving Time mean the first moment might be another time such as 01:00:00. Let <em>java.time</em> determine first moment. </p>\n\n<pre><code>ZonedDateTime firstMomentOfDay = ld.atZone( z ) ;\nGregorianCalendar gc = GregorianCalendar.from( firstMomentOfDay ) ;\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://i.stack.imgur.com/7jHwR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7jHwR.png\" alt=\"Table of date-time types in Java (both legacy and modern) and in standard SQL\"></a></p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n\n<ul>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Most of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":13604301,"reputation":29,"user_id":9814017,"display_name":"Zankhana Patel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1585198743,"creation_date":1585198743,"answer_id":60861253,"question_id":52645487,"body_markdown":"    PubsubMessage pubsubMessage = message.getPubsubMessage();\r\n    String data = pubsubMessage.getData().toStringUtf8();\r\n    //System.out.println(pubsubMessage.getMessageId());\r\n    Timestamp timestamp = pubsubMessage.getPublishTime();\r\n    //System.out.println(timestamp);\r\n    Instant instant =  Instant.ofEpochSecond(timestamp.getSeconds() , \r\n    timestamp.getNanos());\r\n    ZoneId z = ZoneId.of(&quot;America/Montreal&quot;);\r\n    ZonedDateTime zdt = instant.atZone(z);\r\n    LocalDateTime ldt = zdt.toLocalDateTime();\r\n    System.out.println(&quot;today&#39;s date==&gt; &quot;+ldt.getDayOfMonth()); \r\n\r\nThe above code will definitely work.","title":"How to convert Google proto timestamp to Java LocalDate?","body":"<pre><code>PubsubMessage pubsubMessage = message.getPubsubMessage();\nString data = pubsubMessage.getData().toStringUtf8();\n//System.out.println(pubsubMessage.getMessageId());\nTimestamp timestamp = pubsubMessage.getPublishTime();\n//System.out.println(timestamp);\nInstant instant =  Instant.ofEpochSecond(timestamp.getSeconds() , \ntimestamp.getNanos());\nZoneId z = ZoneId.of(\"America/Montreal\");\nZonedDateTime zdt = instant.atZone(z);\nLocalDateTime ldt = zdt.toLocalDateTime();\nSystem.out.println(\"today's date==&gt; \"+ldt.getDayOfMonth()); \n</code></pre>\n\n<p>The above code will definitely work.</p>\n"},{"tags":[],"owner":{"account_id":3431454,"reputation":160,"user_id":2875747,"display_name":"linczy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654788145,"creation_date":1654787245,"answer_id":72562673,"question_id":52645487,"body_markdown":"    long millis = com.google.protobuf.util.Timestamps.toMillis(protoTimestamp);\r\n    \r\n    LocalDate result = Instant.ofEpochMilli(millis).atZone(ZoneId.systemDefault()).toLocalDate();\r\n\r\nsee @ https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/util/Timestamps.html#toMillis-com.google.protobuf.Timestamp-\r\n\r\n","title":"How to convert Google proto timestamp to Java LocalDate?","body":"<pre><code>long millis = com.google.protobuf.util.Timestamps.toMillis(protoTimestamp);\n\nLocalDate result = Instant.ofEpochMilli(millis).atZone(ZoneId.systemDefault()).toLocalDate();\n</code></pre>\n<p>see @ <a href=\"https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/util/Timestamps.html#toMillis-com.google.protobuf.Timestamp-\" rel=\"nofollow noreferrer\">https://developers.google.com/protocol-buffers/docs/reference/java/com/google/protobuf/util/Timestamps.html#toMillis-com.google.protobuf.Timestamp-</a></p>\n"}],"owner":{"account_id":14374646,"reputation":371,"user_id":10383389,"display_name":"Thirunavukkarasu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39412,"favorite_count":0,"down_vote_count":2,"up_vote_count":24,"accepted_answer_id":52651480,"answer_count":5,"score":22,"last_activity_date":1654788145,"creation_date":1538652243,"question_id":52645487,"body_markdown":"We need to convert Google Proto buffer time stamp to a normal date. In that circumstance is there any way to convert Google Proto buffer timestamp to a Java `LocalDate` directly?","title":"How to convert Google proto timestamp to Java LocalDate?","body":"<p>We need to convert Google Proto buffer time stamp to a normal date. In that circumstance is there any way to convert Google Proto buffer timestamp to a Java <code>LocalDate</code> directly?</p>\n"},{"tags":["java","mysql"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453744069,"creation_date":1453744069,"answer_id":34998928,"question_id":34998884,"body_markdown":"Instead of a raw `rs.next()` you need to check the result (it returns `false` if there are no more rows).... something like,\r\n\r\n    if (rs.next()) {\r\n        max = rs.getInt(1);\r\n    }","title":":Illegal operation on empty result set","body":"<p>Instead of a raw <code>rs.next()</code> you need to check the result (it returns <code>false</code> if there are no more rows).... something like,</p>\n\n<pre><code>if (rs.next()) {\n    max = rs.getInt(1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7230662,"reputation":8299,"user_id":5517633,"display_name":"Abdelhak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453744089,"creation_date":1453744089,"answer_id":34998938,"question_id":34998884,"body_markdown":"You don&#39;t checked if the your result set is empty or not before. Try to use `while` loop like this:      \r\n       \r\n      While(rs.next()){\r\n       max = rs.getInt(1);\r\n          ...\r\n\r\n\r\n\r\n","title":":Illegal operation on empty result set","body":"<p>You don't checked if the your result set is empty or not before. Try to use <code>while</code> loop like this:      </p>\n\n<pre><code>  While(rs.next()){\n   max = rs.getInt(1);\n      ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453744648,"creation_date":1453744648,"answer_id":34999091,"question_id":34998884,"body_markdown":"As said in the other answers, one may call the column getters only as long as `rs.next()` returns true.\r\n\r\nIn your case:\r\n\r\n    int max = rs.next() ? rs.getInt(1) : 0;\r\n\r\n\r\n    float x = rs.next() ? rs.getFloat(1) : 0f;\r\n \r\nMaybe the SQL queries are not the best fit too.\r\n\r\nIn the stacktrace you see that a call to getFloat raised the error.","title":":Illegal operation on empty result set","body":"<p>As said in the other answers, one may call the column getters only as long as <code>rs.next()</code> returns true.</p>\n\n<p>In your case:</p>\n\n<pre><code>int max = rs.next() ? rs.getInt(1) : 0;\n\n\nfloat x = rs.next() ? rs.getFloat(1) : 0f;\n</code></pre>\n\n<p>Maybe the SQL queries are not the best fit too.</p>\n\n<p>In the stacktrace you see that a call to getFloat raised the error.</p>\n"}],"owner":{"account_id":7700901,"reputation":3,"user_id":5833527,"display_name":"rehan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2030,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1654788087,"creation_date":1453743925,"question_id":34998884,"body_markdown":"I have made a simple science quiz java app with 4 frames: Login, Menu, Test, and Result.\r\n\r\nThe first three frames are working fine but when i click on show result it shows an error. This is my code from the Test JFrame. If you want I can send coding of other frames also\r\n\r\nthis is my error\r\n\r\n&gt;     java.sql.SQLException: Illegal operation on empty result set.\r\n&gt;             at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1055)\r\n&gt;             at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)\r\n&gt;             at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:926)\r\n&gt;             at com.mysql.jdbc.ResultSetImpl.checkRowPos(ResultSetImpl.java:815)\r\n&gt;             at com.mysql.jdbc.ResultSetImpl.getStringInternal(ResultSetImpl.java:5528)\r\n&gt;             at com.mysql.jdbc.ResultSetImpl.getString(ResultSetImpl.java:5448)\r\n&gt;             at com.mysql.jdbc.ResultSetImpl.getFloat(ResultSetImpl.java:2499)\r\n&gt;             at Test.ResultBTNActionPerformed(Test.java:292)\r\n&gt;             at Test.access$500(Test.java:18)\r\n&gt;             at Test$6.actionPerformed(Test.java:215)\r\n&gt;             at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\r\n&gt;             at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2318)\r\n&gt;             at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)\r\n&gt;             at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)\r\n&gt;             at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:236)\r\n&gt;             at java.awt.Component.processMouseEvent(Component.java:6216)\r\n&gt;             at javax.swing.JComponent.processMouseEvent(JComponent.java:3265)\r\n&gt;             at java.awt.Component.processEvent(Component.java:5981)\r\n&gt;             at java.awt.Container.processEvent(Container.java:2041)\r\n&gt;             at java.awt.Component.dispatchEventImpl(Component.java:4583)\r\n&gt;             at java.awt.Container.dispatchEventImpl(Container.java:2099)\r\n&gt;             at java.awt.Component.dispatchEvent(Component.java:4413)\r\n&gt;             at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4556)\r\n&gt;             at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4220)\r\n&gt;             at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4150)\r\n&gt;             at java.awt.Container.dispatchEventImpl(Container.java:2085)\r\n&gt;             at java.awt.Window.dispatchEventImpl(Window.java:2475)\r\n&gt;             at java.awt.Component.dispatchEvent(Component.java:4413)\r\n&gt;             at java.awt.EventQueue.dispatchEvent(EventQueue.java:599)\r\n&gt;             at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)\r\n&gt;             at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)\r\n&gt;             at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)\r\n&gt;             at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)\r\n&gt;             at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)\r\n&gt;             at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)\r\n\r\ntest JFrame Coding\r\n\r\n    import java.sql.*;\r\n    import javax.swing.JOptionPane;\r\n    public class Test extends javax.swing.JFrame {\r\n        String ID;\r\n        String Subject;\r\n        int index =1;\r\n        int max =0;\r\n        int result = 0;\r\n        char [] answers;\r\n        /** Creates new form Test */\r\n        public Test()\r\n        {\r\n            initComponents();\r\n        }\r\n        public Test(String subject, String id)\r\n        {\r\n            initComponents();\r\n            ID = id;\r\n            Subject = subject;\r\n            PrevBTN.setVisible(false);\r\n            try\r\n              {\r\n    \r\n            \r\n                Class.forName(&quot;java.sql.Driver&quot;);\r\n                String database = &quot;jdbc:mysql://localhost:3306/quizdb&quot;;\r\n                Connection conn = DriverManager.getConnection(database, &quot;root&quot;, &quot;1234&quot;);\r\n                Statement stmt = conn.createStatement();\r\n    \r\n                String sql = &quot;select max(SNo) from &quot; + Subject;\r\n                ResultSet rs = stmt.executeQuery(sql);\r\n                rs.next();\r\n                max = rs.getInt(1);\r\n                answers = new char[max];\r\n                for(int i=0; i&lt;max;i++)\r\n                    answers[i] = &#39;e&#39;;\r\n                rs.close();\r\n                stmt.close();\r\n                conn.close();\r\n                getQues();\r\n                 }\r\n                 catch(Exception e){ e.printStackTrace();\r\n              }\r\n        }\r\n        private void getQues()\r\n        {\r\n            try\r\n            {\r\n            \r\n                Class.forName(&quot;java.sql.Driver&quot;);\r\n                String database = &quot;jdbc:mysql://localhost:3306/quizdb&quot;;\r\n                Connection conn = DriverManager.getConnection(database, &quot;root&quot;, &quot;1234&quot;);\r\n                Statement stmt = conn.createStatement();\r\n    \r\n                String sql = &quot;select * from &quot; + Subject + &quot; where SNo = &quot; + index;\r\n                ResultSet rs = stmt.executeQuery(sql);\r\n                rs.next();\r\n                QuesTA.setText(&quot;\\nQ&quot; + index + &quot;.  &quot; + rs.getString(2));\r\n                a.setText(rs.getString(&quot;a&quot;));\r\n                b.setText(rs.getString(&quot;b&quot;));\r\n                c.setText(rs.getString(&quot;c&quot;));\r\n                d.setText(rs.getString(&quot;d&quot;));\r\n                a.setSelected(answers[index-1] == &#39;a&#39;);\r\n                b.setSelected(answers[index-1] == &#39;b&#39;);\r\n                c.setSelected(answers[index-1] == &#39;c&#39;);\r\n                d.setSelected(answers[index-1] == &#39;d&#39;);\r\n                e.setSelected(answers[index-1] == &#39;e&#39;);\r\n                rs.close();\r\n                stmt.close();\r\n                conn.close();\r\n            }\r\n             catch(Exception e){ e.printStackTrace(); }\r\n        }\r\n        \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n        private void initComponents() {\r\n    \r\n            buttonGroup1 = new javax.swing.ButtonGroup();\r\n            jLabel2 = new javax.swing.JLabel();\r\n            a = new javax.swing.JRadioButton();\r\n            b = new javax.swing.JRadioButton();\r\n            c = new javax.swing.JRadioButton();\r\n            jScrollPane1 = new javax.swing.JScrollPane();\r\n            QuesTA = new javax.swing.JTextArea();\r\n            PrevBTN = new javax.swing.JButton();\r\n            NextBTN = new javax.swing.JButton();\r\n            ResultBTN = new javax.swing.JButton();\r\n            d = new javax.swing.JRadioButton();\r\n            jLabel1 = new javax.swing.JLabel();\r\n            e = new javax.swing.JRadioButton();\r\n    \r\n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n            setTitle(&quot;Quiz Time&quot;);\r\n            setResizable(false);\r\n            getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());\r\n    \r\n            jLabel2.setFont(new java.awt.Font(&quot;Castellar&quot;, 1, 36));\r\n            jLabel2.setForeground(new java.awt.Color(255, 0, 51));\r\n            jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n            jLabel2.setText(&quot;SCIENCE QUIZ&quot;);\r\n            getContentPane().add(jLabel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(111, 20, 360, -1));\r\n    \r\n            buttonGroup1.add(a);\r\n            a.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 14));\r\n            a.setForeground(new java.awt.Color(102, 0, 102));\r\n            a.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n            a.setOpaque(false);\r\n            a.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    aActionPerformed(evt);\r\n                }\r\n            });\r\n            getContentPane().add(a, new org.netbeans.lib.awtextra.AbsoluteConstraints(120, 210, -1, -1));\r\n    \r\n            buttonGroup1.add(b);\r\n            b.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 14));\r\n            b.setForeground(new java.awt.Color(102, 0, 102));\r\n            b.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n            b.setOpaque(false);\r\n            b.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    bActionPerformed(evt);\r\n                }\r\n            });\r\n            getContentPane().add(b, new org.netbeans.lib.awtextra.AbsoluteConstraints(120, 240, -1, -1));\r\n    \r\n            buttonGroup1.add(c);\r\n            c.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 14));\r\n            c.setForeground(new java.awt.Color(102, 0, 102));\r\n            c.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n            c.setOpaque(false);\r\n            c.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    cActionPerformed(evt);\r\n                }\r\n            });\r\n            getContentPane().add(c, new org.netbeans.lib.awtextra.AbsoluteConstraints(120, 270, -1, -1));\r\n    \r\n            jScrollPane1.setHorizontalScrollBarPolicy(javax.swing.ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\r\n            jScrollPane1.setAlignmentX(5.0F);\r\n            jScrollPane1.setAlignmentY(5.0F);\r\n    \r\n            QuesTA.setBackground(new java.awt.Color(248, 241, 244));\r\n            QuesTA.setColumns(20);\r\n            QuesTA.setEditable(false);\r\n            QuesTA.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 18));\r\n            QuesTA.setForeground(new java.awt.Color(0, 153, 153));\r\n            QuesTA.setLineWrap(true);\r\n            QuesTA.setRows(3);\r\n            QuesTA.setWrapStyleWord(true);\r\n            QuesTA.setAutoscrolls(false);\r\n            QuesTA.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, new java.awt.Color(204, 0, 204), new java.awt.Color(204, 0, 204), new java.awt.Color(153, 0, 153), new java.awt.Color(153, 0, 153)));\r\n            QuesTA.setSelectionColor(new java.awt.Color(255, 255, 51));\r\n            jScrollPane1.setViewportView(QuesTA);\r\n    \r\n            getContentPane().add(jScrollPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 80, 460, 100));\r\n    \r\n            PrevBTN.setBackground(javax.swing.UIManager.getDefaults().getColor(&quot;Button.highlight&quot;));\r\n            PrevBTN.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 16)); // NOI18N\r\n            PrevBTN.setForeground(new java.awt.Color(0, 102, 102));\r\n            PrevBTN.setText(&quot;&lt;&lt; Prev&quot;);\r\n            PrevBTN.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, new java.awt.Color(255, 204, 255), new java.awt.Color(255, 204, 255), new java.awt.Color(153, 0, 153), new java.awt.Color(153, 0, 153)));\r\n            PrevBTN.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    PrevBTNActionPerformed(evt);\r\n                }\r\n            });\r\n            getContentPane().add(PrevBTN, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 370, 90, 40));\r\n    \r\n            NextBTN.setBackground(javax.swing.UIManager.getDefaults().getColor(&quot;Button.highlight&quot;));\r\n            NextBTN.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 16)); // NOI18N\r\n            NextBTN.setForeground(new java.awt.Color(0, 102, 153));\r\n            NextBTN.setText(&quot;Next &gt;&gt;&quot;);\r\n            NextBTN.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, new java.awt.Color(255, 204, 255), new java.awt.Color(255, 204, 255), new java.awt.Color(153, 0, 153), new java.awt.Color(153, 0, 153)));\r\n            NextBTN.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    NextBTNActionPerformed(evt);\r\n                }\r\n            });\r\n            getContentPane().add(NextBTN, new org.netbeans.lib.awtextra.AbsoluteConstraints(450, 370, 90, 40));\r\n    \r\n            ResultBTN.setBackground(javax.swing.UIManager.getDefaults().getColor(&quot;Button.highlight&quot;));\r\n            ResultBTN.setFont(new java.awt.Font(&quot;Castellar&quot;, 1, 16)); // NOI18N\r\n            ResultBTN.setForeground(new java.awt.Color(0, 102, 102));\r\n            ResultBTN.setText(&quot;GEt RESULT&quot;);\r\n            ResultBTN.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, new java.awt.Color(255, 204, 255), new java.awt.Color(255, 204, 255), new java.awt.Color(153, 0, 153), new java.awt.Color(153, 0, 153)));\r\n            ResultBTN.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    ResultBTNActionPerformed(evt);\r\n                }\r\n            });\r\n            getContentPane().add(ResultBTN, new org.netbeans.lib.awtextra.AbsoluteConstraints(210, 370, 140, 40));\r\n    \r\n            buttonGroup1.add(d);\r\n            d.setFont(new java.awt.Font(&quot;Tahoma&quot;, 1, 14));\r\n            d.setForeground(new java.awt.Color(102, 0, 102));\r\n            d.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n            d.setOpaque(false);\r\n            d.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    dActionPerformed(evt);\r\n                }\r\n            });\r\n            getContentPane().add(d, new org.netbeans.lib.awtextra.AbsoluteConstraints(120, 300, -1, -1));\r\n    \r\n            jLabel1.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 14));\r\n            jLabel1.setForeground(new java.awt.Color(102, 0, 102));\r\n            jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n            jLabel1.setOpaque(true);\r\n            getContentPane().add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, -1, 430));\r\n    \r\n            buttonGroup1.add(e);\r\n            getContentPane().add(e, new org.netbeans.lib.awtextra.AbsoluteConstraints(550, 450, 10, 10));\r\n    \r\n            pack();\r\n        }// &lt;/editor-fold&gt;                        \r\n    \r\n        private void PrevBTNActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n                index--;\r\n                getQues();\r\n                if(index == 1)\r\n                    PrevBTN.setVisible(false);\r\n                if(index &lt; max)\r\n                    NextBTN.setVisible(true);\r\n    }                                       \r\n    \r\n        private void NextBTNActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n                index++;\r\n                getQues();\r\n                if(index == max)\r\n                    NextBTN.setVisible(false);\r\n                if(index &gt; 1)\r\n                    PrevBTN.setVisible(true);\r\n    }                                       \r\n    \r\n        private void bActionPerformed(java.awt.event.ActionEvent evt) {                                  \r\n            answers[index-1] = &#39;b&#39;;\r\n    }                                 \r\n    \r\n        private void ResultBTNActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n            try\r\n            {\r\n             \r\n                  Class.forName(&quot;java.sql.Driver&quot;);\r\n                String database = &quot;jdbc:mysql://localhost:3306/quizdb&quot;;\r\n                Connection conn = DriverManager.getConnection(database, &quot;root&quot;, &quot;1234&quot;);\r\n                Statement stmt = conn.createStatement();\r\n    \r\n                String sql = &quot;select Result from &quot; + Subject;\r\n                ResultSet rs = stmt.executeQuery(sql);\r\n                int i = 0;\r\n                while(rs.next())\r\n                {\r\n                    char ans = rs.getString(1).charAt(0);\r\n                    if(ans == answers[i])\r\n                        result++;\r\n                    i++;\r\n                }\r\n                float res = ((float)result * 100 ) / max;\r\n                sql = &quot;Select &quot; + Subject + &quot;Result from Result where ID = &#39;&quot; + ID + &quot;&#39;&quot;;\r\n                rs = stmt.executeQuery(sql);\r\n                rs.next();\r\n                if(res &gt; rs.getFloat(1))\r\n                {\r\n                    sql = &quot;update Result set &quot; + Subject + &quot;Result = &quot; + res + &quot; where ID = &#39;&quot; + ID + &quot;&#39;&quot;;\r\n                    stmt.executeUpdate(sql);\r\n                }\r\n                stmt.close();\r\n                conn.close();\r\n                new Result(res,ID).setVisible(true);\r\n                this.setVisible(false);\r\n            }\r\n             catch(Exception e)\r\n             {  e.printStackTrace();\r\n                                   }\r\n    }                                         \r\n    \r\n        private void aActionPerformed(java.awt.event.ActionEvent evt) {                                  \r\n            answers[index-1] = &#39;a&#39;;\r\n        }                                 \r\n    \r\n        private void cActionPerformed(java.awt.event.ActionEvent evt) {                                  \r\n            answers[index-1] = &#39;c&#39;;\r\n        }                                 \r\n    \r\n        private void dActionPerformed(java.awt.event.ActionEvent evt) {                                  \r\n            answers[index-1] = &#39;d&#39;;\r\n        }                                 \r\n    \r\n        /**\r\n        * @param args the command line arguments\r\n        */\r\n        public static void main(String args[]) {\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new Test().setVisible(true);\r\n                }\r\n            });\r\n        }","title":":Illegal operation on empty result set","body":"<p>I have made a simple science quiz java app with 4 frames: Login, Menu, Test, and Result.</p>\n\n<p>The first three frames are working fine but when i click on show result it shows an error. This is my code from the Test JFrame. If you want I can send coding of other frames also</p>\n\n<p>this is my error</p>\n\n<blockquote>\n<pre><code>java.sql.SQLException: Illegal operation on empty result set.\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1055)\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:956)\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:926)\n        at com.mysql.jdbc.ResultSetImpl.checkRowPos(ResultSetImpl.java:815)\n        at com.mysql.jdbc.ResultSetImpl.getStringInternal(ResultSetImpl.java:5528)\n        at com.mysql.jdbc.ResultSetImpl.getString(ResultSetImpl.java:5448)\n        at com.mysql.jdbc.ResultSetImpl.getFloat(ResultSetImpl.java:2499)\n        at Test.ResultBTNActionPerformed(Test.java:292)\n        at Test.access$500(Test.java:18)\n        at Test$6.actionPerformed(Test.java:215)\n        at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\n        at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2318)\n        at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)\n        at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)\n        at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:236)\n        at java.awt.Component.processMouseEvent(Component.java:6216)\n        at javax.swing.JComponent.processMouseEvent(JComponent.java:3265)\n        at java.awt.Component.processEvent(Component.java:5981)\n        at java.awt.Container.processEvent(Container.java:2041)\n        at java.awt.Component.dispatchEventImpl(Component.java:4583)\n        at java.awt.Container.dispatchEventImpl(Container.java:2099)\n        at java.awt.Component.dispatchEvent(Component.java:4413)\n        at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4556)\n        at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4220)\n        at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4150)\n        at java.awt.Container.dispatchEventImpl(Container.java:2085)\n        at java.awt.Window.dispatchEventImpl(Window.java:2475)\n        at java.awt.Component.dispatchEvent(Component.java:4413)\n        at java.awt.EventQueue.dispatchEvent(EventQueue.java:599)\n        at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)\n        at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)\n        at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)\n        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)\n        at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)\n        at java.awt.EventDispatchThread.run(EventDispatchThread.java:122)\n</code></pre>\n</blockquote>\n\n<p>test JFrame Coding</p>\n\n<pre><code>import java.sql.*;\nimport javax.swing.JOptionPane;\npublic class Test extends javax.swing.JFrame {\n    String ID;\n    String Subject;\n    int index =1;\n    int max =0;\n    int result = 0;\n    char [] answers;\n    /** Creates new form Test */\n    public Test()\n    {\n        initComponents();\n    }\n    public Test(String subject, String id)\n    {\n        initComponents();\n        ID = id;\n        Subject = subject;\n        PrevBTN.setVisible(false);\n        try\n          {\n\n\n            Class.forName(\"java.sql.Driver\");\n            String database = \"jdbc:mysql://localhost:3306/quizdb\";\n            Connection conn = DriverManager.getConnection(database, \"root\", \"1234\");\n            Statement stmt = conn.createStatement();\n\n            String sql = \"select max(SNo) from \" + Subject;\n            ResultSet rs = stmt.executeQuery(sql);\n            rs.next();\n            max = rs.getInt(1);\n            answers = new char[max];\n            for(int i=0; i&lt;max;i++)\n                answers[i] = 'e';\n            rs.close();\n            stmt.close();\n            conn.close();\n            getQues();\n             }\n             catch(Exception e){ e.printStackTrace();\n          }\n    }\n    private void getQues()\n    {\n        try\n        {\n\n            Class.forName(\"java.sql.Driver\");\n            String database = \"jdbc:mysql://localhost:3306/quizdb\";\n            Connection conn = DriverManager.getConnection(database, \"root\", \"1234\");\n            Statement stmt = conn.createStatement();\n\n            String sql = \"select * from \" + Subject + \" where SNo = \" + index;\n            ResultSet rs = stmt.executeQuery(sql);\n            rs.next();\n            QuesTA.setText(\"\\nQ\" + index + \".  \" + rs.getString(2));\n            a.setText(rs.getString(\"a\"));\n            b.setText(rs.getString(\"b\"));\n            c.setText(rs.getString(\"c\"));\n            d.setText(rs.getString(\"d\"));\n            a.setSelected(answers[index-1] == 'a');\n            b.setSelected(answers[index-1] == 'b');\n            c.setSelected(answers[index-1] == 'c');\n            d.setSelected(answers[index-1] == 'd');\n            e.setSelected(answers[index-1] == 'e');\n            rs.close();\n            stmt.close();\n            conn.close();\n        }\n         catch(Exception e){ e.printStackTrace(); }\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    // &lt;editor-fold defaultstate=\"collapsed\" desc=\"Generated Code\"&gt;                          \n    private void initComponents() {\n\n        buttonGroup1 = new javax.swing.ButtonGroup();\n        jLabel2 = new javax.swing.JLabel();\n        a = new javax.swing.JRadioButton();\n        b = new javax.swing.JRadioButton();\n        c = new javax.swing.JRadioButton();\n        jScrollPane1 = new javax.swing.JScrollPane();\n        QuesTA = new javax.swing.JTextArea();\n        PrevBTN = new javax.swing.JButton();\n        NextBTN = new javax.swing.JButton();\n        ResultBTN = new javax.swing.JButton();\n        d = new javax.swing.JRadioButton();\n        jLabel1 = new javax.swing.JLabel();\n        e = new javax.swing.JRadioButton();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n        setTitle(\"Quiz Time\");\n        setResizable(false);\n        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());\n\n        jLabel2.setFont(new java.awt.Font(\"Castellar\", 1, 36));\n        jLabel2.setForeground(new java.awt.Color(255, 0, 51));\n        jLabel2.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        jLabel2.setText(\"SCIENCE QUIZ\");\n        getContentPane().add(jLabel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(111, 20, 360, -1));\n\n        buttonGroup1.add(a);\n        a.setFont(new java.awt.Font(\"Tahoma\", 1, 14));\n        a.setForeground(new java.awt.Color(102, 0, 102));\n        a.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        a.setOpaque(false);\n        a.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                aActionPerformed(evt);\n            }\n        });\n        getContentPane().add(a, new org.netbeans.lib.awtextra.AbsoluteConstraints(120, 210, -1, -1));\n\n        buttonGroup1.add(b);\n        b.setFont(new java.awt.Font(\"Tahoma\", 1, 14));\n        b.setForeground(new java.awt.Color(102, 0, 102));\n        b.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        b.setOpaque(false);\n        b.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                bActionPerformed(evt);\n            }\n        });\n        getContentPane().add(b, new org.netbeans.lib.awtextra.AbsoluteConstraints(120, 240, -1, -1));\n\n        buttonGroup1.add(c);\n        c.setFont(new java.awt.Font(\"Tahoma\", 1, 14));\n        c.setForeground(new java.awt.Color(102, 0, 102));\n        c.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        c.setOpaque(false);\n        c.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                cActionPerformed(evt);\n            }\n        });\n        getContentPane().add(c, new org.netbeans.lib.awtextra.AbsoluteConstraints(120, 270, -1, -1));\n\n        jScrollPane1.setHorizontalScrollBarPolicy(javax.swing.ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\n        jScrollPane1.setAlignmentX(5.0F);\n        jScrollPane1.setAlignmentY(5.0F);\n\n        QuesTA.setBackground(new java.awt.Color(248, 241, 244));\n        QuesTA.setColumns(20);\n        QuesTA.setEditable(false);\n        QuesTA.setFont(new java.awt.Font(\"Tahoma\", 0, 18));\n        QuesTA.setForeground(new java.awt.Color(0, 153, 153));\n        QuesTA.setLineWrap(true);\n        QuesTA.setRows(3);\n        QuesTA.setWrapStyleWord(true);\n        QuesTA.setAutoscrolls(false);\n        QuesTA.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, new java.awt.Color(204, 0, 204), new java.awt.Color(204, 0, 204), new java.awt.Color(153, 0, 153), new java.awt.Color(153, 0, 153)));\n        QuesTA.setSelectionColor(new java.awt.Color(255, 255, 51));\n        jScrollPane1.setViewportView(QuesTA);\n\n        getContentPane().add(jScrollPane1, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 80, 460, 100));\n\n        PrevBTN.setBackground(javax.swing.UIManager.getDefaults().getColor(\"Button.highlight\"));\n        PrevBTN.setFont(new java.awt.Font(\"Tahoma\", 1, 16)); // NOI18N\n        PrevBTN.setForeground(new java.awt.Color(0, 102, 102));\n        PrevBTN.setText(\"&lt;&lt; Prev\");\n        PrevBTN.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, new java.awt.Color(255, 204, 255), new java.awt.Color(255, 204, 255), new java.awt.Color(153, 0, 153), new java.awt.Color(153, 0, 153)));\n        PrevBTN.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                PrevBTNActionPerformed(evt);\n            }\n        });\n        getContentPane().add(PrevBTN, new org.netbeans.lib.awtextra.AbsoluteConstraints(20, 370, 90, 40));\n\n        NextBTN.setBackground(javax.swing.UIManager.getDefaults().getColor(\"Button.highlight\"));\n        NextBTN.setFont(new java.awt.Font(\"Tahoma\", 1, 16)); // NOI18N\n        NextBTN.setForeground(new java.awt.Color(0, 102, 153));\n        NextBTN.setText(\"Next &gt;&gt;\");\n        NextBTN.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, new java.awt.Color(255, 204, 255), new java.awt.Color(255, 204, 255), new java.awt.Color(153, 0, 153), new java.awt.Color(153, 0, 153)));\n        NextBTN.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                NextBTNActionPerformed(evt);\n            }\n        });\n        getContentPane().add(NextBTN, new org.netbeans.lib.awtextra.AbsoluteConstraints(450, 370, 90, 40));\n\n        ResultBTN.setBackground(javax.swing.UIManager.getDefaults().getColor(\"Button.highlight\"));\n        ResultBTN.setFont(new java.awt.Font(\"Castellar\", 1, 16)); // NOI18N\n        ResultBTN.setForeground(new java.awt.Color(0, 102, 102));\n        ResultBTN.setText(\"GEt RESULT\");\n        ResultBTN.setBorder(javax.swing.BorderFactory.createBevelBorder(javax.swing.border.BevelBorder.RAISED, new java.awt.Color(255, 204, 255), new java.awt.Color(255, 204, 255), new java.awt.Color(153, 0, 153), new java.awt.Color(153, 0, 153)));\n        ResultBTN.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                ResultBTNActionPerformed(evt);\n            }\n        });\n        getContentPane().add(ResultBTN, new org.netbeans.lib.awtextra.AbsoluteConstraints(210, 370, 140, 40));\n\n        buttonGroup1.add(d);\n        d.setFont(new java.awt.Font(\"Tahoma\", 1, 14));\n        d.setForeground(new java.awt.Color(102, 0, 102));\n        d.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        d.setOpaque(false);\n        d.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                dActionPerformed(evt);\n            }\n        });\n        getContentPane().add(d, new org.netbeans.lib.awtextra.AbsoluteConstraints(120, 300, -1, -1));\n\n        jLabel1.setFont(new java.awt.Font(\"Tahoma\", 0, 14));\n        jLabel1.setForeground(new java.awt.Color(102, 0, 102));\n        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n        jLabel1.setOpaque(true);\n        getContentPane().add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(0, 0, -1, 430));\n\n        buttonGroup1.add(e);\n        getContentPane().add(e, new org.netbeans.lib.awtextra.AbsoluteConstraints(550, 450, 10, 10));\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void PrevBTNActionPerformed(java.awt.event.ActionEvent evt) {                                        \n            index--;\n            getQues();\n            if(index == 1)\n                PrevBTN.setVisible(false);\n            if(index &lt; max)\n                NextBTN.setVisible(true);\n}                                       \n\n    private void NextBTNActionPerformed(java.awt.event.ActionEvent evt) {                                        \n            index++;\n            getQues();\n            if(index == max)\n                NextBTN.setVisible(false);\n            if(index &gt; 1)\n                PrevBTN.setVisible(true);\n}                                       \n\n    private void bActionPerformed(java.awt.event.ActionEvent evt) {                                  \n        answers[index-1] = 'b';\n}                                 \n\n    private void ResultBTNActionPerformed(java.awt.event.ActionEvent evt) {                                          \n        try\n        {\n\n              Class.forName(\"java.sql.Driver\");\n            String database = \"jdbc:mysql://localhost:3306/quizdb\";\n            Connection conn = DriverManager.getConnection(database, \"root\", \"1234\");\n            Statement stmt = conn.createStatement();\n\n            String sql = \"select Result from \" + Subject;\n            ResultSet rs = stmt.executeQuery(sql);\n            int i = 0;\n            while(rs.next())\n            {\n                char ans = rs.getString(1).charAt(0);\n                if(ans == answers[i])\n                    result++;\n                i++;\n            }\n            float res = ((float)result * 100 ) / max;\n            sql = \"Select \" + Subject + \"Result from Result where ID = '\" + ID + \"'\";\n            rs = stmt.executeQuery(sql);\n            rs.next();\n            if(res &gt; rs.getFloat(1))\n            {\n                sql = \"update Result set \" + Subject + \"Result = \" + res + \" where ID = '\" + ID + \"'\";\n                stmt.executeUpdate(sql);\n            }\n            stmt.close();\n            conn.close();\n            new Result(res,ID).setVisible(true);\n            this.setVisible(false);\n        }\n         catch(Exception e)\n         {  e.printStackTrace();\n                               }\n}                                         \n\n    private void aActionPerformed(java.awt.event.ActionEvent evt) {                                  \n        answers[index-1] = 'a';\n    }                                 \n\n    private void cActionPerformed(java.awt.event.ActionEvent evt) {                                  \n        answers[index-1] = 'c';\n    }                                 \n\n    private void dActionPerformed(java.awt.event.ActionEvent evt) {                                  \n        answers[index-1] = 'd';\n    }                                 \n\n    /**\n    * @param args the command line arguments\n    */\n    public static void main(String args[]) {\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new Test().setVisible(true);\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","docker","shared-libraries"],"comments":[{"owner":{"account_id":77814,"reputation":3385,"user_id":221847,"accept_rate":57,"display_name":"Fu Cheng"},"score":1,"creation_date":1654788996,"post_id":72562871,"comment_id":128181012,"body_markdown":"You need to copy those native library files into Docker image and use the path inside of the image to set the `LD_LIBRARY_PATH` environment variable.","body":"You need to copy those native library files into Docker image and use the path inside of the image to set the <code>LD_LIBRARY_PATH</code> environment variable."},{"owner":{"account_id":12549200,"reputation":33,"user_id":9131524,"display_name":"user9131524"},"score":0,"creation_date":1654789895,"post_id":72562871,"comment_id":128181380,"body_markdown":"@AlexCheng\nYeah, so the .so library is inside the /home/backend/lib container, which is copied along with the rest of the files. Do I need to change the LD_LIBRARY_PATH to something else?","body":"@AlexCheng Yeah, so the .so library is inside the /home/backend/lib container, which is copied along with the rest of the files. Do I need to change the LD_LIBRARY_PATH to something else?"},{"owner":{"account_id":77814,"reputation":3385,"user_id":221847,"accept_rate":57,"display_name":"Fu Cheng"},"score":0,"creation_date":1654790185,"post_id":72562871,"comment_id":128181486,"body_markdown":"You don&#39;t have to. Just make sure `LD_LIBRARY_PATH ` refers to the correct path in the container.","body":"You don&#39;t have to. Just make sure <code>LD_LIBRARY_PATH </code> refers to the correct path in the container."},{"owner":{"account_id":12549200,"reputation":33,"user_id":9131524,"display_name":"user9131524"},"score":0,"creation_date":1654791937,"post_id":72562871,"comment_id":128182134,"body_markdown":"@AlexCheng \nYeah I think that is the case, It points to the /home/backend/lib/ directory and inside that dictory is the libnauty.so","body":"@AlexCheng  Yeah I think that is the case, It points to the /home/backend/lib/ directory and inside that dictory is the libnauty.so"}],"owner":{"account_id":12549200,"reputation":33,"user_id":9131524,"display_name":"user9131524"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":958,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654788033,"creation_date":1654788033,"question_id":72562871,"body_markdown":"I have created a working back-end application, but I want to Dockerize it now. The back-end uses the nauty library and everything works fine when not using Docker containers.\r\n\r\nTo make this work, locally I had to start the application using ``java -Djava.library.path=&quot;&lt;PATH&gt;/backend/lib/&quot; -jar backend.jar``. The library path points to the directory where the nauty library (libnauty.so) resides. In my ~/.bashrc, I had to set the environment variable ``LD_LIBRARY_PATH=&lt;PATH&gt;/backend/lib/:/usr/local/lib``. After doing this, the application works fine.\r\n\r\nAfter dockerizing the application, this gives problems. I get the error ``java.lang.UnsatisfiedLinkError: no nauty in java.library.path: &quot;/home/backend/lib/&quot;``.\r\n\r\nI tried solving the issue by setting the environment variable in the docker container and using the same entrypoint for the application, but the issue remains.\r\n\r\nMy Dockerfile for the back-end looks like this.\r\n```\r\nFROM openjdk:17-oracle\r\nARG JAR_FILE=target/*.jar\r\nEXPOSE 8080\r\nENV LD_LIBRARY_PATH=/home/backend/lib/:/usr/local/lib\r\nCOPY ${JAR_FILE} /home/backend/backend.jar\r\nCOPY . /home/backend\r\nENTRYPOINT [&quot;java&quot;, &quot;-Djava.library.path=\\&quot;/home/backend/lib/\\&quot;&quot;, &quot;-jar&quot;, &quot;/home/backend/backend.jar&quot;]\r\n```\r\nAny ideas on how to solve this issue? Any pointers would be greatly appreciated!","title":"Unsatisfied Link Error for library when running Spring application inside Docker container","body":"<p>I have created a working back-end application, but I want to Dockerize it now. The back-end uses the nauty library and everything works fine when not using Docker containers.</p>\n<p>To make this work, locally I had to start the application using <code>java -Djava.library.path=&quot;&lt;PATH&gt;/backend/lib/&quot; -jar backend.jar</code>. The library path points to the directory where the nauty library (libnauty.so) resides. In my ~/.bashrc, I had to set the environment variable <code>LD_LIBRARY_PATH=&lt;PATH&gt;/backend/lib/:/usr/local/lib</code>. After doing this, the application works fine.</p>\n<p>After dockerizing the application, this gives problems. I get the error <code>java.lang.UnsatisfiedLinkError: no nauty in java.library.path: &quot;/home/backend/lib/&quot;</code>.</p>\n<p>I tried solving the issue by setting the environment variable in the docker container and using the same entrypoint for the application, but the issue remains.</p>\n<p>My Dockerfile for the back-end looks like this.</p>\n<pre><code>FROM openjdk:17-oracle\nARG JAR_FILE=target/*.jar\nEXPOSE 8080\nENV LD_LIBRARY_PATH=/home/backend/lib/:/usr/local/lib\nCOPY ${JAR_FILE} /home/backend/backend.jar\nCOPY . /home/backend\nENTRYPOINT [&quot;java&quot;, &quot;-Djava.library.path=\\&quot;/home/backend/lib/\\&quot;&quot;, &quot;-jar&quot;, &quot;/home/backend/backend.jar&quot;]\n</code></pre>\n<p>Any ideas on how to solve this issue? Any pointers would be greatly appreciated!</p>\n"},{"tags":["java","xml","spring","spring-mvc","xml-configuration"],"comments":[{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1654697095,"post_id":72546849,"comment_id":128153224,"body_markdown":"Can you share a picture of your expanded project, that would be very helpful","body":"Can you share a picture of your expanded project, that would be very helpful"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1654698209,"post_id":72546849,"comment_id":128153745,"body_markdown":"You could use `org.springframework.web.servlet.view.UrlBasedViewResolver` instead of `org.springframework.web.servlet.view.InternalResourceViewResolver`. Then the call would be xxx/test-page. Also I believe your `&lt;url-pattern&gt;/&lt;/url-pattern&gt;` to be faulty","body":"You could use <code>org.springframework.web.servlet.view.UrlBasedViewResolver</code> instead of <code>org.springframework.web.servlet.view.InternalResourceViewRes&zwnj;&#8203;olver</code>. Then the call would be xxx/test-page. Also I believe your <code>&lt;url-pattern&gt;&#47;&lt;&#47;url-pattern&gt;</code> to be faulty"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654753868,"post_id":72546849,"comment_id":128167869,"body_markdown":"@XtremeBaumer The `InternalResourceViewResolver` is  a dedicated/specialized extension of the `UrlBasedViewResolver` changing to that won&#39;t solve a thing. The mapping is perfectly fine as you want to map everything.","body":"@XtremeBaumer The <code>InternalResourceViewResolver</code> is  a dedicated/specialized extension of the <code>UrlBasedViewResolver</code> changing to that won&#39;t solve a thing. The mapping is perfectly fine as you want to map everything."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654754024,"post_id":72546849,"comment_id":128167907,"body_markdown":"What goes wrong? Why do you think it doesn&#39;t match? As long as there is a `test-page.jsp` inside `/WEB-INF/views/` it will match. I suspect the problem is your creating of a war file. You apparently only include what is inside `webapp` (and I suspect you are either using Maven or Gradle). Instead of doing `jar -cvf ....` use your build tool to generate the war file. You are now going to miss libraries, compiled classes etc. etc.","body":"What goes wrong? Why do you think it doesn&#39;t match? As long as there is a <code>test-page.jsp</code> inside <code>&#47;WEB-INF&#47;views&#47;</code> it will match. I suspect the problem is your creating of a war file. You apparently only include what is inside <code>webapp</code> (and I suspect you are either using Maven or Gradle). Instead of doing <code>jar -cvf ....</code> use your build tool to generate the war file. You are now going to miss libraries, compiled classes etc. etc."},{"owner":{"account_id":25506690,"reputation":1,"user_id":19299056,"display_name":"Shin"},"score":0,"creation_date":1654788019,"post_id":72546849,"comment_id":128180594,"body_markdown":"Hi zawarudo! I added a pic of my project structure in VS Code (The lib folder just has all the Spring framework JARS)","body":"Hi zawarudo! I added a pic of my project structure in VS Code (The lib folder just has all the Spring framework JARS)"},{"owner":{"account_id":25506690,"reputation":1,"user_id":19299056,"display_name":"Shin"},"score":0,"creation_date":1654788146,"post_id":72546849,"comment_id":128180648,"body_markdown":"Hi M. Deinum, you&#39;re correct I am currently not using a build tool at the moment I am compiling from the command line using jar -cvf project.war * command. Not sure why this would be an issue though. Are you saying I should execute the command within the root project dirctory rather than just the webapp?","body":"Hi M. Deinum, you&#39;re correct I am currently not using a build tool at the moment I am compiling from the command line using jar -cvf project.war * command. Not sure why this would be an issue though. Are you saying I should execute the command within the root project dirctory rather than just the webapp?"}],"owner":{"account_id":25506690,"reputation":1,"user_id":19299056,"display_name":"Shin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":725,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654787956,"creation_date":1654696006,"question_id":72546849,"body_markdown":"I am beginning to learn the Spring Framework and am currently learning Spring MVC. I am using Spring version 5.3, and I am having issues with loading the JSP files in the views directory. I understand from the notes that they removed suffix pattern matching, but I have no idea what my XML configuration should be to match this new change.\r\n\r\nCan someone please help me get this issue sorted, and show me what the XML configuration should be for Spring 5.3 MVC. It&#39;s halted my progress for three whole days!\r\n\r\nNote: I am aware that Spring Boot is the norm these days but I want to learn Spring from scratch even if it is more tedious to work with.\r\n\r\nAdditional Note: I am using entirely XML configuration for this.\r\n\r\nI am not using a build tool at the moment as I will learn one later on. I build my projects from the command line:\r\n\r\ncd into webapp folder --&gt; jar -cvf mvc-test.war * --&gt; run on Tomcat 9 server\r\n\r\nJDK: 11\r\n\r\nIDE: VS Code\r\n\r\nMy Controller Class:\r\n\r\n    package com.controller;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    \r\n    @Controller\r\n    public class HomeController {\r\n        \r\n        @RequestMapping(&quot;/&quot;)\r\n        public String showPage() {\r\n            return &quot;test-page&quot;;\r\n        }\r\n    }\r\n\r\nMy web.xml File:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n    \txsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n    \tid=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\r\n    \r\n    \t&lt;display-name&gt;spring-mvc-demo&lt;/display-name&gt;\r\n    \r\n    \t&lt;absolute-ordering /&gt;\r\n    \r\n    \t&lt;!-- Spring MVC Configs --&gt;\r\n    \r\n    \t&lt;!-- Step 1: Configure Spring MVC Dispatcher Servlet --&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;/WEB-INF/spring-mvc-demo-servlet.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \r\n    \t&lt;!-- Step 2: Set up URL mapping for Spring MVC Dispatcher Servlet --&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t\r\n    &lt;/web-app&gt;\r\n\r\nMy spring-mvc-demo-servlet.xml File:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txsi:schemaLocation=&quot;\r\n    \t\thttp://www.springframework.org/schema/beans\r\n        \thttp://www.springframework.org/schema/beans/spring-beans.xsd\r\n        \thttp://www.springframework.org/schema/context\r\n        \thttp://www.springframework.org/schema/context/spring-context.xsd\r\n        \thttp://www.springframework.org/schema/mvc\r\n            http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\r\n    \r\n    \t&lt;!-- Step 3: Add support for component scanning --&gt;\r\n    \t&lt;context:component-scan base-package=&quot;com.controller&quot; /&gt;\r\n    \r\n    \t&lt;!-- Step 4: Add support for conversion, formatting and validation support --&gt;\r\n    \t&lt;mvc:annotation-driven/&gt;\r\n    \r\n    \t&lt;!-- Step 5: Define Spring MVC view resolver --&gt;\r\n    \t&lt;bean\r\n    \t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n    \t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nMy project structure is below (Sorry I don&#39;t know how to format this):\r\n\r\nRoot Projet Folder: mvc-test\r\n\r\nmvc-test: src and webapp folders\r\n\r\nsrc: main/java/com/controller/HomeController.java\r\n\r\nwebapp: WEB-INF\r\n\r\nWEB-INF: lib, views, spring-mvc-demo-servlet.xml, web.xml\r\n\r\nviews: test-page.jsp\r\n\r\n[Project Structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xQ32f.png","title":"Spring 5.3.9 MVC XML Configuration: ViewResolver Not Mapping To Controller","body":"<p>I am beginning to learn the Spring Framework and am currently learning Spring MVC. I am using Spring version 5.3, and I am having issues with loading the JSP files in the views directory. I understand from the notes that they removed suffix pattern matching, but I have no idea what my XML configuration should be to match this new change.</p>\n<p>Can someone please help me get this issue sorted, and show me what the XML configuration should be for Spring 5.3 MVC. It's halted my progress for three whole days!</p>\n<p>Note: I am aware that Spring Boot is the norm these days but I want to learn Spring from scratch even if it is more tedious to work with.</p>\n<p>Additional Note: I am using entirely XML configuration for this.</p>\n<p>I am not using a build tool at the moment as I will learn one later on. I build my projects from the command line:</p>\n<p>cd into webapp folder --&gt; jar -cvf mvc-test.war * --&gt; run on Tomcat 9 server</p>\n<p>JDK: 11</p>\n<p>IDE: VS Code</p>\n<p>My Controller Class:</p>\n<pre><code>package com.controller;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class HomeController {\n    \n    @RequestMapping(&quot;/&quot;)\n    public String showPage() {\n        return &quot;test-page&quot;;\n    }\n}\n</code></pre>\n<p>My web.xml File:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n    id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\n\n    &lt;display-name&gt;spring-mvc-demo&lt;/display-name&gt;\n\n    &lt;absolute-ordering /&gt;\n\n    &lt;!-- Spring MVC Configs --&gt;\n\n    &lt;!-- Step 1: Configure Spring MVC Dispatcher Servlet --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring-mvc-demo-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;!-- Step 2: Set up URL mapping for Spring MVC Dispatcher Servlet --&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    \n&lt;/web-app&gt;\n</code></pre>\n<p>My spring-mvc-demo-servlet.xml File:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n\n    &lt;!-- Step 3: Add support for component scanning --&gt;\n    &lt;context:component-scan base-package=&quot;com.controller&quot; /&gt;\n\n    &lt;!-- Step 4: Add support for conversion, formatting and validation support --&gt;\n    &lt;mvc:annotation-driven/&gt;\n\n    &lt;!-- Step 5: Define Spring MVC view resolver --&gt;\n    &lt;bean\n        class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>My project structure is below (Sorry I don't know how to format this):</p>\n<p>Root Projet Folder: mvc-test</p>\n<p>mvc-test: src and webapp folders</p>\n<p>src: main/java/com/controller/HomeController.java</p>\n<p>webapp: WEB-INF</p>\n<p>WEB-INF: lib, views, spring-mvc-demo-servlet.xml, web.xml</p>\n<p>views: test-page.jsp</p>\n<p><a href=\"https://i.stack.imgur.com/xQ32f.png\" rel=\"nofollow noreferrer\">Project Structure</a></p>\n"},{"tags":["java","spring-boot","security","hash"],"comments":[{"owner":{"account_id":6126609,"reputation":1245,"user_id":4778343,"display_name":"Stefan Golubović"},"score":0,"creation_date":1654789057,"post_id":72562764,"comment_id":128181035,"body_markdown":"Check out [this answer](https://stackoverflow.com/a/72545570/4778343), maybe it will give you an idea what your teammate meant by including a custom claim. The only difference is that you&#39;ll need to adjust you `getAuthToken` method to pass the hash/key (however you call it), and to return your custom implementation of `JwtAuthenticationToken` which would have the hash/key from token.","body":"Check out <a href=\"https://stackoverflow.com/a/72545570/4778343\">this answer</a>, maybe it will give you an idea what your teammate meant by including a custom claim. The only difference is that you&#39;ll need to adjust you <code>getAuthToken</code> method to pass the hash/key (however you call it), and to return your custom implementation of <code>JwtAuthenticationToken</code> which would have the hash/key from token."}],"owner":{"account_id":12692819,"reputation":21,"user_id":9222228,"display_name":"The Doctor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654787577,"creation_date":1654787577,"question_id":72562764,"body_markdown":"i am currently working with a frontend-backend-system consisting of a questionnaire which users can answer. I implemented argon2 as hashing algorithm to generate a salted hash from the users password to save together with the users personal questionnaire results, so only the user him-/herself can access his/her personal results.\r\n\r\nNow, a user can log into his account with username+password, and the spring-boot backend uses spring security with JWTAuthenticationFilter and JWTTokenizer. Unfortunately, i am very new to this and can&#39;t figure out how to make the user-result-mapping available to the user when he/she logs in.\r\n\r\nMy thoughts are these: The User answers a questionnaire, the results are send to the backend, and then argon2 creates a salted hash from his/her passwort and saves it with the result.\r\n\r\nNow, if the user logs into the system again, i can&#39;t use encode() from the argon2PasswordEncoder again, since it would generate a new salt which doesn&#39;t match the salted hash already saved with his result.\r\n\r\nA person from our team advised me to adjust the JWTAuthenticationFilter/JWTTokenizer so my key is in it as a &quot;claim&quot;, to adjust the JWTAuthorizationFilter to decode a custom AuthenticationToken which should include a field for my key and then &quot;cast it in the service &#39;Authentication&#39; to CustomAuthenticationToken and read the key&quot;.\r\n\r\nBut i am not able to figure out what he means. Where do i get the salted hash from the result-mapping from? I can&#39;t just encode the password again with argon2, because as said, it will generate a new salt! And i have no idea what really to adjust in the AuthenticationFilter/Tokenizer/AuthorizationFilter.\r\n\r\nSuppose we have a Result-Entity with a field &quot;userHash&quot; which saves the salted argon2-hash of the user to whom this Result belongs. Saving the Result is not really implemented yet, since i don&#39;t know how, how i should save the result, since i can&#39;t do &quot;get result from frontend, generate argon2 hash from user password, save it with the result&quot; every time, since as already said, it generates a new salt every time.\r\n\r\nSo my question is: When do i create the salted hash, how do i handle it so we always have the very same salted hash for a user when he/she logs in? What does my colleague mean with his advice?\r\n\r\nFor reference, our attemptAuthentication-Method in the JWTAuthenticationFilter looks like this:\r\n```\r\n@Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\r\n        throws AuthenticationException {\r\n        UserLoginDto user = null;\r\n        try {\r\n            user = new ObjectMapper().readValue(request.getInputStream(), UserLoginDto.class);\r\n            Authentication token;\r\n            if (user.loginKey() != null) {\r\n                token = new LoginKeyAuthenticationToken(user.loginKey());\r\n            } else {\r\n                if (user.usernameOrEmail() == null || user.password() == null) {\r\n                    throw new BadCredentialsException(&quot;Username/E-Mail and password may not be null.&quot;);\r\n                }\r\n                token = new UsernamePasswordAuthenticationToken(\r\n                    user.usernameOrEmail().toLowerCase(),\r\n                    user.password()\r\n                );\r\n            }\r\n\r\n            return authenticationManager.authenticate(token);\r\n        } catch (IOException e) {\r\n            throw new BadCredentialsException(&quot;Wrong API request or JSON schema&quot;, e);\r\n        } catch (BadCredentialsException e) {\r\n            if (user != null &amp;&amp; user.usernameOrEmail() != null) {\r\n                LOGGER.error(&quot;Unsuccessful authentication attempt for user {}&quot;, user.usernameOrEmail());\r\n            }\r\n            throw e;\r\n        }\r\n    }\r\n```\r\n\r\nJWTTokenizer, getAuthToken():\r\n```\r\n    public String getAuthToken(String user, List&lt;String&gt; roles) {\r\n        byte[] signingKey = securityProperties.getJwtSecret().getBytes();\r\n        String token = Jwts.builder()\r\n            .signWith(Keys.hmacShaKeyFor(signingKey), SignatureAlgorithm.HS512)\r\n            .setHeaderParam(&quot;typ&quot;, securityProperties.getJwtType())\r\n            .setIssuer(securityProperties.getJwtIssuer())\r\n            .setAudience(securityProperties.getJwtAudience())\r\n            .setSubject(user)\r\n            .setExpiration(new Date(System.currentTimeMillis() + securityProperties.getJwtExpirationTime()))\r\n            .claim(&quot;rol&quot;, roles)\r\n            .compact();\r\n        return securityProperties.getAuthTokenPrefix() + token;\r\n    }\r\n```\r\n\r\nAny advice is highly appreciated!","title":"How to include a salted password in spring-boot security with JWTAuthenticationFilter/JWTTokenizer?","body":"<p>i am currently working with a frontend-backend-system consisting of a questionnaire which users can answer. I implemented argon2 as hashing algorithm to generate a salted hash from the users password to save together with the users personal questionnaire results, so only the user him-/herself can access his/her personal results.</p>\n<p>Now, a user can log into his account with username+password, and the spring-boot backend uses spring security with JWTAuthenticationFilter and JWTTokenizer. Unfortunately, i am very new to this and can't figure out how to make the user-result-mapping available to the user when he/she logs in.</p>\n<p>My thoughts are these: The User answers a questionnaire, the results are send to the backend, and then argon2 creates a salted hash from his/her passwort and saves it with the result.</p>\n<p>Now, if the user logs into the system again, i can't use encode() from the argon2PasswordEncoder again, since it would generate a new salt which doesn't match the salted hash already saved with his result.</p>\n<p>A person from our team advised me to adjust the JWTAuthenticationFilter/JWTTokenizer so my key is in it as a &quot;claim&quot;, to adjust the JWTAuthorizationFilter to decode a custom AuthenticationToken which should include a field for my key and then &quot;cast it in the service 'Authentication' to CustomAuthenticationToken and read the key&quot;.</p>\n<p>But i am not able to figure out what he means. Where do i get the salted hash from the result-mapping from? I can't just encode the password again with argon2, because as said, it will generate a new salt! And i have no idea what really to adjust in the AuthenticationFilter/Tokenizer/AuthorizationFilter.</p>\n<p>Suppose we have a Result-Entity with a field &quot;userHash&quot; which saves the salted argon2-hash of the user to whom this Result belongs. Saving the Result is not really implemented yet, since i don't know how, how i should save the result, since i can't do &quot;get result from frontend, generate argon2 hash from user password, save it with the result&quot; every time, since as already said, it generates a new salt every time.</p>\n<p>So my question is: When do i create the salted hash, how do i handle it so we always have the very same salted hash for a user when he/she logs in? What does my colleague mean with his advice?</p>\n<p>For reference, our attemptAuthentication-Method in the JWTAuthenticationFilter looks like this:</p>\n<pre><code>@Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response)\n        throws AuthenticationException {\n        UserLoginDto user = null;\n        try {\n            user = new ObjectMapper().readValue(request.getInputStream(), UserLoginDto.class);\n            Authentication token;\n            if (user.loginKey() != null) {\n                token = new LoginKeyAuthenticationToken(user.loginKey());\n            } else {\n                if (user.usernameOrEmail() == null || user.password() == null) {\n                    throw new BadCredentialsException(&quot;Username/E-Mail and password may not be null.&quot;);\n                }\n                token = new UsernamePasswordAuthenticationToken(\n                    user.usernameOrEmail().toLowerCase(),\n                    user.password()\n                );\n            }\n\n            return authenticationManager.authenticate(token);\n        } catch (IOException e) {\n            throw new BadCredentialsException(&quot;Wrong API request or JSON schema&quot;, e);\n        } catch (BadCredentialsException e) {\n            if (user != null &amp;&amp; user.usernameOrEmail() != null) {\n                LOGGER.error(&quot;Unsuccessful authentication attempt for user {}&quot;, user.usernameOrEmail());\n            }\n            throw e;\n        }\n    }\n</code></pre>\n<p>JWTTokenizer, getAuthToken():</p>\n<pre><code>    public String getAuthToken(String user, List&lt;String&gt; roles) {\n        byte[] signingKey = securityProperties.getJwtSecret().getBytes();\n        String token = Jwts.builder()\n            .signWith(Keys.hmacShaKeyFor(signingKey), SignatureAlgorithm.HS512)\n            .setHeaderParam(&quot;typ&quot;, securityProperties.getJwtType())\n            .setIssuer(securityProperties.getJwtIssuer())\n            .setAudience(securityProperties.getJwtAudience())\n            .setSubject(user)\n            .setExpiration(new Date(System.currentTimeMillis() + securityProperties.getJwtExpirationTime()))\n            .claim(&quot;rol&quot;, roles)\n            .compact();\n        return securityProperties.getAuthTokenPrefix() + token;\n    }\n</code></pre>\n<p>Any advice is highly appreciated!</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":5842503,"reputation":66,"user_id":4930651,"display_name":"Victor Alcantara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654787503,"creation_date":1654786407,"answer_id":72562470,"question_id":72419877,"body_markdown":"In your GET request you should specify the location parameter which will match your method parameter `@RequestParam String location`:\r\n\r\nExample:\r\n    `&quot;/cars-manage/add?location=&lt;your location&gt;&quot;` and in your method signature should be String like :\r\n\r\n    @GetMapping(&quot;/cars-manage/add&quot;)\r\n    public String carsAddpage(@RequestParam String location, Model model)\r\n    \r\nIt&#39;s also possible binding parameters as Map and Lists.\r\n\r\n   \r\nExample here: https://www.baeldung.com/spring-request-param","title":"How can i add data to &lt;option&gt; in Spring Boot from Relational Table?","body":"<p>In your GET request you should specify the location parameter which will match your method parameter <code>@RequestParam String location</code>:</p>\n<p>Example:\n<code>&quot;/cars-manage/add?location=&lt;your location&gt;&quot;</code> and in your method signature should be String like :</p>\n<pre><code>@GetMapping(&quot;/cars-manage/add&quot;)\npublic String carsAddpage(@RequestParam String location, Model model)\n</code></pre>\n<p>It's also possible binding parameters as Map and Lists.</p>\n<p>Example here: <a href=\"https://www.baeldung.com/spring-request-param\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-request-param</a></p>\n"}],"owner":{"account_id":17472141,"reputation":3,"user_id":18568892,"display_name":"Vladislav_Rosch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72562470,"answer_count":1,"score":0,"last_activity_date":1654787503,"creation_date":1653779948,"question_id":72419877,"body_markdown":"I have s simple Java Spring Project with simple DataBase. My Tables &quot;Park_lot&quot; and &quot;Cars&quot; have relation @OneToOne.\r\nHow Can I add all information from one column &quot;location&quot; to &lt;optionlist&gt;, that used to add info to table Cars?\r\n\r\nMy models:\r\nParkLot.java\r\n\r\n    package com.valderosh.carrent.models;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.List;\r\n    \r\n    @Entity\r\n    public class ParkLot {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String phoneNumber;\r\n        private String location;\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getPhoneNumber() {\r\n            return phoneNumber;\r\n        }\r\n    \r\n        public void setPhoneNumber(String phoneNumber) {\r\n            this.phoneNumber = phoneNumber;\r\n        }\r\n    \r\n        public String getLocation() {\r\n            return location;\r\n        }\r\n    \r\n        public void setLocation(String location) {\r\n            this.location = location;\r\n        }\r\n    \r\n        public ParkLot() {\r\n        }\r\n    \r\n        public ParkLot(String phoneNumber, String location) {\r\n            this.phoneNumber = phoneNumber;\r\n            this.location = location;\r\n        }\r\n    }\r\n\r\nCars.java\r\n\r\n    package com.valderosh.carrent.models;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    public class Cars {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        //Fields\r\n        private String brand;\r\n        private String mark;\r\n        private String segment;\r\n        private String colour;\r\n        private String power;\r\n        private String drive_opt;\r\n        private String status;\r\n        private String fuel;\r\n        private String transmission;\r\n        private String image;\r\n        private String number;\r\n    \r\n        //Relations\r\n        @OneToOne(mappedBy = &quot;cars&quot;, fetch = FetchType.EAGER)\r\n        private Prices prices;\r\n    \r\n        @OneToOne(fetch = FetchType.EAGER)\r\n        @JoinColumn(name=&quot;park_id&quot;)\r\n        private ParkLot location;\r\n    \r\n        //Constructor\r\n        public Cars() {\r\n        }\r\n    \r\n        public Cars(String brand, String mark, String segment, String colour, String power, String drive_opt, String status, String fuel, String transmission, String image, String number, Prices prices, ParkLot location) {\r\n            this.brand = brand;\r\n            this.mark = mark;\r\n            this.segment = segment;\r\n            this.colour = colour;\r\n            this.power = power;\r\n            this.drive_opt = drive_opt;\r\n            this.status = status;\r\n            this.fuel = fuel;\r\n            this.transmission = transmission;\r\n            this.image = image;\r\n            this.number = number;\r\n            this.prices = prices;\r\n            this.location = location;\r\n        }\r\n    \r\n        //GetSetters\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getBrand() {\r\n            return brand;\r\n        }\r\n    \r\n        public void setBrand(String brand) {\r\n            this.brand = brand;\r\n        }\r\n    \r\n        public String getMark() {\r\n            return mark;\r\n        }\r\n    \r\n        public void setMark(String mark) {\r\n            this.mark = mark;\r\n        }\r\n    \r\n        public String getSegment() {\r\n            return segment;\r\n        }\r\n    \r\n        public void setSegment(String segment) {\r\n            this.segment = segment;\r\n        }\r\n    \r\n        public String getColour() {\r\n            return colour;\r\n        }\r\n    \r\n        public void setColour(String colour) {\r\n            this.colour = colour;\r\n        }\r\n    \r\n        public String getPower() {\r\n            return power;\r\n        }\r\n    \r\n        public void setPower(String power) {\r\n            this.power = power;\r\n        }\r\n    \r\n        public String getDrive_opt() {\r\n            return drive_opt;\r\n        }\r\n    \r\n        public void setDrive_opt(String drive_opt) {\r\n            this.drive_opt = drive_opt;\r\n        }\r\n    \r\n        public String getStatus() {\r\n            return status;\r\n        }\r\n    \r\n        public void setStatus(String status) {\r\n            this.status = status;\r\n        }\r\n    \r\n        public String getFuel() {\r\n            return fuel;\r\n        }\r\n    \r\n        public void setFuel(String fuel) {\r\n            this.fuel = fuel;\r\n        }\r\n    \r\n        public String getTransmission() {\r\n            return transmission;\r\n        }\r\n    \r\n        public void setTransmission(String transmission) {\r\n            this.transmission = transmission;\r\n        }\r\n    \r\n        public String getImage() {\r\n            return image;\r\n        }\r\n    \r\n        public void setImage(String image) {\r\n            this.image = image;\r\n        }\r\n    \r\n        public String getNumber() {\r\n            return number;\r\n        }\r\n    \r\n        public void setNumber(String number) {\r\n            this.number = number;\r\n        }\r\n    \r\n        public Prices getPrices() {\r\n            return prices;\r\n        }\r\n    \r\n        public void setPrices(Prices prices) {\r\n            this.prices = prices;\r\n        }\r\n    \r\n        public ParkLot getLocation() {\r\n            return location;\r\n        }\r\n    \r\n        public void setLocation(ParkLot location) {\r\n            this.location = location;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nMy Controllers:\r\n\r\nCarsController\r\n\r\n    package com.valderosh.carrent.controllers;\r\n    import com.valderosh.carrent.models.*;\r\n    import com.valderosh.carrent.repository.CarsRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Optional;\r\n    \r\n    @Controller\r\n    public class CarsController {\r\n    \r\n        @Autowired\r\n        private CarsRepository carsRepository;\r\n        \r\n    \r\n    \r\n        @GetMapping(&quot;/cars-manage/add&quot;)\r\n        public String carsAddpage(@RequestParam ParkLot location, Model model) {\r\n            model.addAttribute(&quot;parking&quot;, location);\r\n            return &quot;cars/carsAdd&quot;;\r\n        }\r\n    \r\n    \r\n        @PostMapping(&quot;/cars-manage/add&quot;)\r\n        public String newCarAdd( @RequestParam String brand, @RequestParam  String mark, @RequestParam  String segment, @RequestParam String colour, @RequestParam String power, @RequestParam String drive_opt, @RequestParam String transmission, @RequestParam String fuel, @RequestParam String status,@RequestParam String image, @RequestParam String number, @RequestParam(required = false) Prices prices, @RequestParam ParkLot location, Model model) {\r\n            Cars newCar = new Cars(brand, mark, segment, colour, power, drive_opt, status,  fuel, transmission, image, number, prices, location);\r\n            carsRepository.save(newCar);\r\n            return &quot;redirect:/car-park&quot;;\r\n        }\r\n    \r\n       }\r\n\r\n\r\nHTML Template (with using ThymeLeaf)\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;New Car&lt;/title&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n        &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css&quot; integrity=&quot;sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==&quot; crossorigin=&quot;anonymous&quot; referrerpolicy=&quot;no-referrer&quot; /&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;header th:insert = &quot;components/header :: header&quot;&gt;&lt;/header&gt;\r\n        &lt;h2&gt;New Car&lt;/h2&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col xs-6&quot;&gt;\r\n                &lt;div class=&quot;container mt-5 mb-1&quot;&gt;\r\n                    &lt;form action=&quot;/cars-manage/add&quot; method=&quot;post&quot; class=&quot;form-outline col-md-8&quot;&gt;\r\n                        &lt;div class=&quot;card mb-2 mt-2 border-secondary&quot;&gt;\r\n                            &lt;div class=&quot;container my-2&quot; &gt;\r\n                                &lt;h5 class=&quot;card-text mb-2&quot;&gt;Other///&lt;/h5&gt;\r\n                                &lt;p class=&quot;text-muted mt-5&quot;&gt;Segment&lt;/p&gt;\r\n                                &lt;select name=&quot;segment&quot; class=&quot;form-select&quot;&gt;\r\n                                    &lt;option value=&quot;Econom&quot;&gt;Econom&lt;/option&gt;\r\n                                    &lt;option value=&quot;Standart&quot;&gt;Standart&lt;/option&gt;\r\n                                    &lt;option value=&quot;Luxury&quot;&gt;Luxury&lt;/option&gt;\r\n                                &lt;/select&gt;\r\n                                &lt;p class=&quot;text-muted mt-5&quot;&gt;Status&lt;/p&gt;\r\n                                &lt;select name=&quot;status&quot; class=&quot;form-select&quot;&gt;\r\n                                    &lt;option value=&quot;Free&quot;&gt;Free&lt;/option&gt;\r\n                                    &lt;option value=&quot;Used&quot;&gt;Used&lt;/option&gt;\r\n                                    &lt;option value=&quot;In Repair&quot;&gt;In Repair&lt;/option&gt;\r\n                                &lt;/select&gt;\r\n                                &lt;p class=&quot;text-muted mt-5&quot;&gt;Number Plates&lt;/p&gt;\r\n                                &lt;input name=&quot;number&quot; placeholder=&quot;Number&quot; class=&quot;form-control&quot;&gt;\r\n                                &lt;p class=&quot;text-muted mt-3&quot;&gt;LOCATION&lt;/p&gt;\r\n                                &lt;!--Here i want to place all values from column &quot;Location&quot;, table ParkLot to this option list named &quot;location&quot; --&gt;\r\n                                &lt;select name=&quot;location&quot; class=&quot;form-select&quot;&gt;\r\n                                    &lt;option th:each=&quot;park : ${parking}&quot; th:value=&quot;${park.location}&quot;  th:text=&quot;${park.location}&quot;&gt;&lt;/option&gt;\r\n                                &lt;/select&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-success mt-2&quot;&gt;Create&lt;/button&gt;\r\n                    &lt;/form&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;img class=&quot;col xs-6 mt-5&quot; src=&quot;https://lh3.googleusercontent.com/Vo-uOewd9MJF9S5RMCcECaIV5r8d4iaIFZCIdWTfygwRFNB5Uf5NTOInEzzkNAK-Dd3bds5MMzFXgCONuv4tpBm86cnMGeGQ35Q5KgnquRGiaOikkXNV_7nlf2kRUfF9492r9gjVpyFntFiTCTnbXSe8gXmQE5TFY0ukvBesQ-ttPQprsg6oeCErPgjAsppky4Cw28xX7N1Tbk5yUMYEYFvGKjd8PioXyjJo1n5q5YURRLfM_kD7T4JOfEbABxFxfSP0o5vqpln8KY2piwn7JKy7yoqocVCv9EACixyH-utDYe0BFRgcEqRmmujtmPbrnBTMwXX9V0D1dw7gbXlJoS9GBTX_MIprkuZ8RAkGxdc1rLMuMQZwJ3GR415uPCOSKRtkv9qS5pe41ADi5MaWFM7CRNtkevdq9IXQ7iachfISV5dt0fvov_uw1TFHIfGkn7v7wRHFsXOx_dIh4n04mxut2MfZXHNV7LPJOSScAKsZpwRUeCXWK6zXmBoa1kxZmsOw3P2NVwHriBnxjicfgIe5Yo7AbXMKX1ly0X1K3vlKV4CN2YOQ8sq2RhPnxEknXO3HNbz8nw2nj1KRliYcCiHSfPVYReI_7N3hz4gKCr8S-8ZsqZrIyizpXvpXmu3mzMtASLw-BeYHfcXqr4qF6AFREIgMJQMdVY-ZyWL8Wqpqr2x1lpQ3kl1Z56tbXHGVh5tbHBc370yTIf0LdDa65OfQdTH9ItDgTf4yh7ZAX_xRcv8eg5SYYKLkqodrvUIlxanVXDzY4aIh3YAvUP4M0JwgNilxiwBGmSLJGM_3P2E3RN08YrSb4brpb_PXt7rnkUFMoru6ig4kMjKCZsjw5Dv49LUiqxjrZLDEGIIuspiDuh_LmhsXV2FnmBygcP9GsMgxlJf7UA=s800-no?authuser=4&quot; height=&quot;600&quot; width=&quot;400&quot;&gt;\r\n        &lt;/div&gt;\r\n    \r\n        &lt;footer th:insert = &quot;components/footer :: footer&quot;&gt;&lt;/footer&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nWhen i started app and foint to &quot;carAdd&quot; Page i have this exception:\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v2.6.3)\r\n    \r\n    2022-05-29 01:49:33.565  INFO 16404 --- [           main] c.valderosh.carrent.CarrentApplication   : Starting CarrentApplication using Java 15.0.2 on LynxPad with PID 16404 (C:\\Users\\HP\\Desktop\\Java\\Spring\\Projects\\carrent\\target\\classes started by Lynx in C:\\Users\\HP\\Desktop\\Java\\Spring\\Projects\\carrent)\r\n    2022-05-29 01:49:33.567  INFO 16404 --- [           main] c.valderosh.carrent.CarrentApplication   : No active profile set, falling back to default profiles: default\r\n    2022-05-29 01:49:34.810  INFO 16404 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2022-05-29 01:49:34.944  INFO 16404 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 120 ms. Found 8 JPA repository interfaces.\r\n    2022-05-29 01:49:35.886  INFO 16404 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-05-29 01:49:35.902  INFO 16404 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-05-29 01:49:35.902  INFO 16404 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]\r\n    2022-05-29 01:49:36.055  INFO 16404 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-05-29 01:49:36.055  INFO 16404 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2387 ms\r\n    2022-05-29 01:49:36.364  INFO 16404 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2022-05-29 01:49:36.440  INFO 16404 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final\r\n    2022-05-29 01:49:36.488  INFO 16404 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2022-05-29 01:49:36.606  INFO 16404 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2022-05-29 01:49:36.779  INFO 16404 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2022-05-29 01:49:36.808  INFO 16404 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect\r\n    2022-05-29 01:49:37.696  INFO 16404 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2022-05-29 01:49:37.705  INFO 16404 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-05-29 01:49:37.772  WARN 16404 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2022-05-29 01:49:38.740  INFO 16404 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63d66761, org.springframework.security.web.context.SecurityContextPersistenceFilter@e645600, org.springframework.security.web.header.HeaderWriterFilter@37753b69, org.springframework.security.web.authentication.logout.LogoutFilter@39004e4f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4ec37a42, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78d61f17, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@47d4e28a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@434a8938, org.springframework.security.web.session.SessionManagementFilter@74c04377, org.springframework.security.web.access.ExceptionTranslationFilter@1ab1d93d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6e78177b]\r\n    2022-05-29 01:49:39.463  INFO 16404 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2022-05-29 01:49:39.483  INFO 16404 --- [           main] c.valderosh.carrent.CarrentApplication   : Started CarrentApplication in 6.485 seconds (JVM running for 7.21)\r\n    2022-05-29 01:50:10.206  INFO 16404 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2022-05-29 01:50:10.206  INFO 16404 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2022-05-29 01:50:10.209  INFO 16404 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms\r\n    2022-05-29 01:50:14.304  WARN 16404 --- [nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter &#39;location&#39; for method parameter type ParkLot is not present]\r\n\r\n","title":"How can i add data to &lt;option&gt; in Spring Boot from Relational Table?","body":"<p>I have s simple Java Spring Project with simple DataBase. My Tables &quot;Park_lot&quot; and &quot;Cars&quot; have relation @OneToOne.\nHow Can I add all information from one column &quot;location&quot; to , that used to add info to table Cars?</p>\n<p>My models:\nParkLot.java</p>\n<pre><code>package com.valderosh.carrent.models;\n\nimport javax.persistence.*;\nimport java.util.List;\n\n@Entity\npublic class ParkLot {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String phoneNumber;\n    private String location;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getLocation() {\n        return location;\n    }\n\n    public void setLocation(String location) {\n        this.location = location;\n    }\n\n    public ParkLot() {\n    }\n\n    public ParkLot(String phoneNumber, String location) {\n        this.phoneNumber = phoneNumber;\n        this.location = location;\n    }\n}\n</code></pre>\n<p>Cars.java</p>\n<pre><code>package com.valderosh.carrent.models;\n\nimport javax.persistence.*;\n\n@Entity\npublic class Cars {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    //Fields\n    private String brand;\n    private String mark;\n    private String segment;\n    private String colour;\n    private String power;\n    private String drive_opt;\n    private String status;\n    private String fuel;\n    private String transmission;\n    private String image;\n    private String number;\n\n    //Relations\n    @OneToOne(mappedBy = &quot;cars&quot;, fetch = FetchType.EAGER)\n    private Prices prices;\n\n    @OneToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name=&quot;park_id&quot;)\n    private ParkLot location;\n\n    //Constructor\n    public Cars() {\n    }\n\n    public Cars(String brand, String mark, String segment, String colour, String power, String drive_opt, String status, String fuel, String transmission, String image, String number, Prices prices, ParkLot location) {\n        this.brand = brand;\n        this.mark = mark;\n        this.segment = segment;\n        this.colour = colour;\n        this.power = power;\n        this.drive_opt = drive_opt;\n        this.status = status;\n        this.fuel = fuel;\n        this.transmission = transmission;\n        this.image = image;\n        this.number = number;\n        this.prices = prices;\n        this.location = location;\n    }\n\n    //GetSetters\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getBrand() {\n        return brand;\n    }\n\n    public void setBrand(String brand) {\n        this.brand = brand;\n    }\n\n    public String getMark() {\n        return mark;\n    }\n\n    public void setMark(String mark) {\n        this.mark = mark;\n    }\n\n    public String getSegment() {\n        return segment;\n    }\n\n    public void setSegment(String segment) {\n        this.segment = segment;\n    }\n\n    public String getColour() {\n        return colour;\n    }\n\n    public void setColour(String colour) {\n        this.colour = colour;\n    }\n\n    public String getPower() {\n        return power;\n    }\n\n    public void setPower(String power) {\n        this.power = power;\n    }\n\n    public String getDrive_opt() {\n        return drive_opt;\n    }\n\n    public void setDrive_opt(String drive_opt) {\n        this.drive_opt = drive_opt;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public String getFuel() {\n        return fuel;\n    }\n\n    public void setFuel(String fuel) {\n        this.fuel = fuel;\n    }\n\n    public String getTransmission() {\n        return transmission;\n    }\n\n    public void setTransmission(String transmission) {\n        this.transmission = transmission;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public void setImage(String image) {\n        this.image = image;\n    }\n\n    public String getNumber() {\n        return number;\n    }\n\n    public void setNumber(String number) {\n        this.number = number;\n    }\n\n    public Prices getPrices() {\n        return prices;\n    }\n\n    public void setPrices(Prices prices) {\n        this.prices = prices;\n    }\n\n    public ParkLot getLocation() {\n        return location;\n    }\n\n    public void setLocation(ParkLot location) {\n        this.location = location;\n    }\n\n}\n</code></pre>\n<p>My Controllers:</p>\n<p>CarsController</p>\n<pre><code>package com.valderosh.carrent.controllers;\nimport com.valderosh.carrent.models.*;\nimport com.valderosh.carrent.repository.CarsRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\nimport java.util.ArrayList;\nimport java.util.Optional;\n\n@Controller\npublic class CarsController {\n\n    @Autowired\n    private CarsRepository carsRepository;\n    \n\n\n    @GetMapping(&quot;/cars-manage/add&quot;)\n    public String carsAddpage(@RequestParam ParkLot location, Model model) {\n        model.addAttribute(&quot;parking&quot;, location);\n        return &quot;cars/carsAdd&quot;;\n    }\n\n\n    @PostMapping(&quot;/cars-manage/add&quot;)\n    public String newCarAdd( @RequestParam String brand, @RequestParam  String mark, @RequestParam  String segment, @RequestParam String colour, @RequestParam String power, @RequestParam String drive_opt, @RequestParam String transmission, @RequestParam String fuel, @RequestParam String status,@RequestParam String image, @RequestParam String number, @RequestParam(required = false) Prices prices, @RequestParam ParkLot location, Model model) {\n        Cars newCar = new Cars(brand, mark, segment, colour, power, drive_opt, status,  fuel, transmission, image, number, prices, location);\n        carsRepository.save(newCar);\n        return &quot;redirect:/car-park&quot;;\n    }\n\n   }\n</code></pre>\n<p>HTML Template (with using ThymeLeaf)</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;New Car&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3&quot; crossorigin=&quot;anonymous&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css&quot; integrity=&quot;sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==&quot; crossorigin=&quot;anonymous&quot; referrerpolicy=&quot;no-referrer&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=&quot;container&quot;&gt;\n    &lt;header th:insert = &quot;components/header :: header&quot;&gt;&lt;/header&gt;\n    &lt;h2&gt;New Car&lt;/h2&gt;\n    &lt;div class=&quot;row&quot;&gt;\n        &lt;div class=&quot;col xs-6&quot;&gt;\n            &lt;div class=&quot;container mt-5 mb-1&quot;&gt;\n                &lt;form action=&quot;/cars-manage/add&quot; method=&quot;post&quot; class=&quot;form-outline col-md-8&quot;&gt;\n                    &lt;div class=&quot;card mb-2 mt-2 border-secondary&quot;&gt;\n                        &lt;div class=&quot;container my-2&quot; &gt;\n                            &lt;h5 class=&quot;card-text mb-2&quot;&gt;Other///&lt;/h5&gt;\n                            &lt;p class=&quot;text-muted mt-5&quot;&gt;Segment&lt;/p&gt;\n                            &lt;select name=&quot;segment&quot; class=&quot;form-select&quot;&gt;\n                                &lt;option value=&quot;Econom&quot;&gt;Econom&lt;/option&gt;\n                                &lt;option value=&quot;Standart&quot;&gt;Standart&lt;/option&gt;\n                                &lt;option value=&quot;Luxury&quot;&gt;Luxury&lt;/option&gt;\n                            &lt;/select&gt;\n                            &lt;p class=&quot;text-muted mt-5&quot;&gt;Status&lt;/p&gt;\n                            &lt;select name=&quot;status&quot; class=&quot;form-select&quot;&gt;\n                                &lt;option value=&quot;Free&quot;&gt;Free&lt;/option&gt;\n                                &lt;option value=&quot;Used&quot;&gt;Used&lt;/option&gt;\n                                &lt;option value=&quot;In Repair&quot;&gt;In Repair&lt;/option&gt;\n                            &lt;/select&gt;\n                            &lt;p class=&quot;text-muted mt-5&quot;&gt;Number Plates&lt;/p&gt;\n                            &lt;input name=&quot;number&quot; placeholder=&quot;Number&quot; class=&quot;form-control&quot;&gt;\n                            &lt;p class=&quot;text-muted mt-3&quot;&gt;LOCATION&lt;/p&gt;\n                            &lt;!--Here i want to place all values from column &quot;Location&quot;, table ParkLot to this option list named &quot;location&quot; --&gt;\n                            &lt;select name=&quot;location&quot; class=&quot;form-select&quot;&gt;\n                                &lt;option th:each=&quot;park : ${parking}&quot; th:value=&quot;${park.location}&quot;  th:text=&quot;${park.location}&quot;&gt;&lt;/option&gt;\n                            &lt;/select&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-success mt-2&quot;&gt;Create&lt;/button&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;img class=&quot;col xs-6 mt-5&quot; src=&quot;https://lh3.googleusercontent.com/Vo-uOewd9MJF9S5RMCcECaIV5r8d4iaIFZCIdWTfygwRFNB5Uf5NTOInEzzkNAK-Dd3bds5MMzFXgCONuv4tpBm86cnMGeGQ35Q5KgnquRGiaOikkXNV_7nlf2kRUfF9492r9gjVpyFntFiTCTnbXSe8gXmQE5TFY0ukvBesQ-ttPQprsg6oeCErPgjAsppky4Cw28xX7N1Tbk5yUMYEYFvGKjd8PioXyjJo1n5q5YURRLfM_kD7T4JOfEbABxFxfSP0o5vqpln8KY2piwn7JKy7yoqocVCv9EACixyH-utDYe0BFRgcEqRmmujtmPbrnBTMwXX9V0D1dw7gbXlJoS9GBTX_MIprkuZ8RAkGxdc1rLMuMQZwJ3GR415uPCOSKRtkv9qS5pe41ADi5MaWFM7CRNtkevdq9IXQ7iachfISV5dt0fvov_uw1TFHIfGkn7v7wRHFsXOx_dIh4n04mxut2MfZXHNV7LPJOSScAKsZpwRUeCXWK6zXmBoa1kxZmsOw3P2NVwHriBnxjicfgIe5Yo7AbXMKX1ly0X1K3vlKV4CN2YOQ8sq2RhPnxEknXO3HNbz8nw2nj1KRliYcCiHSfPVYReI_7N3hz4gKCr8S-8ZsqZrIyizpXvpXmu3mzMtASLw-BeYHfcXqr4qF6AFREIgMJQMdVY-ZyWL8Wqpqr2x1lpQ3kl1Z56tbXHGVh5tbHBc370yTIf0LdDa65OfQdTH9ItDgTf4yh7ZAX_xRcv8eg5SYYKLkqodrvUIlxanVXDzY4aIh3YAvUP4M0JwgNilxiwBGmSLJGM_3P2E3RN08YrSb4brpb_PXt7rnkUFMoru6ig4kMjKCZsjw5Dv49LUiqxjrZLDEGIIuspiDuh_LmhsXV2FnmBygcP9GsMgxlJf7UA=s800-no?authuser=4&quot; height=&quot;600&quot; width=&quot;400&quot;&gt;\n    &lt;/div&gt;\n\n    &lt;footer th:insert = &quot;components/footer :: footer&quot;&gt;&lt;/footer&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>When i started app and foint to &quot;carAdd&quot; Page i have this exception:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.6.3)\n\n2022-05-29 01:49:33.565  INFO 16404 --- [           main] c.valderosh.carrent.CarrentApplication   : Starting CarrentApplication using Java 15.0.2 on LynxPad with PID 16404 (C:\\Users\\HP\\Desktop\\Java\\Spring\\Projects\\carrent\\target\\classes started by Lynx in C:\\Users\\HP\\Desktop\\Java\\Spring\\Projects\\carrent)\n2022-05-29 01:49:33.567  INFO 16404 --- [           main] c.valderosh.carrent.CarrentApplication   : No active profile set, falling back to default profiles: default\n2022-05-29 01:49:34.810  INFO 16404 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-05-29 01:49:34.944  INFO 16404 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 120 ms. Found 8 JPA repository interfaces.\n2022-05-29 01:49:35.886  INFO 16404 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-05-29 01:49:35.902  INFO 16404 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-05-29 01:49:35.902  INFO 16404 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]\n2022-05-29 01:49:36.055  INFO 16404 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-05-29 01:49:36.055  INFO 16404 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2387 ms\n2022-05-29 01:49:36.364  INFO 16404 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-05-29 01:49:36.440  INFO 16404 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.4.Final\n2022-05-29 01:49:36.488  INFO 16404 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-05-29 01:49:36.606  INFO 16404 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-05-29 01:49:36.779  INFO 16404 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-05-29 01:49:36.808  INFO 16404 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect\n2022-05-29 01:49:37.696  INFO 16404 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-05-29 01:49:37.705  INFO 16404 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-05-29 01:49:37.772  WARN 16404 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2022-05-29 01:49:38.740  INFO 16404 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63d66761, org.springframework.security.web.context.SecurityContextPersistenceFilter@e645600, org.springframework.security.web.header.HeaderWriterFilter@37753b69, org.springframework.security.web.authentication.logout.LogoutFilter@39004e4f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4ec37a42, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78d61f17, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@47d4e28a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@434a8938, org.springframework.security.web.session.SessionManagementFilter@74c04377, org.springframework.security.web.access.ExceptionTranslationFilter@1ab1d93d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6e78177b]\n2022-05-29 01:49:39.463  INFO 16404 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-05-29 01:49:39.483  INFO 16404 --- [           main] c.valderosh.carrent.CarrentApplication   : Started CarrentApplication in 6.485 seconds (JVM running for 7.21)\n2022-05-29 01:50:10.206  INFO 16404 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-05-29 01:50:10.206  INFO 16404 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-05-29 01:50:10.209  INFO 16404 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms\n2022-05-29 01:50:14.304  WARN 16404 --- [nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'location' for method parameter type ParkLot is not present]\n</code></pre>\n"},{"tags":["java","android","audio"],"owner":{"account_id":19663825,"reputation":31,"user_id":14394727,"display_name":"ilkeraktuna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654787405,"creation_date":1654787405,"question_id":72562715,"body_markdown":"I am trying to write an app to route audio output on speaker BUT leave microphone on wired headset when the headset is connected.\r\n\r\nIt is possible to route audio output on speaker when headset is connected with the following code:\r\n\r\n```\r\n        AudioManager audioManager = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);\r\n        audioManager.setWiredHeadsetOn(false);\r\n        audioManager.setSpeakerphoneOn(true);\r\n        audioManager.setMode(AudioManager.MODE_IN_COMMUNICATION);\r\n```\r\n\r\nHowever, when I do this, headset microphone is also disabled.\r\nBut I need it to receive audio input.\r\n\r\nHow can I separately manage input and output devices ?\r\n\r\nTo the following question, there is a solution (at the bottom) but it is only valid if I start the mediaplayer.\r\nIn my case, I am trying to route the media of other apps to the speaker.\r\n\r\nhttps://stackoverflow.com/questions/20126831/route-mic-input-through-headset-and-audio-output-through-phones-speaker\r\n\r\nIs there any way to do it ?\r\n","title":"How to set different devices for audio input and output on Android","body":"<p>I am trying to write an app to route audio output on speaker BUT leave microphone on wired headset when the headset is connected.</p>\n<p>It is possible to route audio output on speaker when headset is connected with the following code:</p>\n<pre><code>        AudioManager audioManager = (AudioManager) context.getSystemService(Context.AUDIO_SERVICE);\n        audioManager.setWiredHeadsetOn(false);\n        audioManager.setSpeakerphoneOn(true);\n        audioManager.setMode(AudioManager.MODE_IN_COMMUNICATION);\n</code></pre>\n<p>However, when I do this, headset microphone is also disabled.\nBut I need it to receive audio input.</p>\n<p>How can I separately manage input and output devices ?</p>\n<p>To the following question, there is a solution (at the bottom) but it is only valid if I start the mediaplayer.\nIn my case, I am trying to route the media of other apps to the speaker.</p>\n<p><a href=\"https://stackoverflow.com/questions/20126831/route-mic-input-through-headset-and-audio-output-through-phones-speaker\">Route MIC input through headset and AUDIO output through phone&#39;s speaker</a></p>\n<p>Is there any way to do it ?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":801225,"reputation":7522,"user_id":878732,"accept_rate":60,"display_name":"harsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376817568,"creation_date":1376817568,"answer_id":18297588,"question_id":18297551,"body_markdown":"    if (dfsa_StateList.get(i).equals(dfsa[row][col])) {\r\n                    str1 = alphabetList.get(col)+ &quot; &quot; + i + &quot;, &quot;;\r\n                    if(str1.endsWith(&quot;,&quot;))\r\n                        System.out.print(str1.substring(0, str1.lastIndexOf(&quot;,&quot;)));\r\n                    if(str1.isEmpty())\r\n                        System.out.print(&quot;None&quot;);\r\n     }\r\n     else {//no match\r\n         System.out.print(&quot;None&quot;);\r\n     }","title":"remove last comma from loop printouts JAVA","body":"<pre><code>if (dfsa_StateList.get(i).equals(dfsa[row][col])) {\n                str1 = alphabetList.get(col)+ \" \" + i + \", \";\n                if(str1.endsWith(\",\"))\n                    System.out.print(str1.substring(0, str1.lastIndexOf(\",\")));\n                if(str1.isEmpty())\n                    System.out.print(\"None\");\n }\n else {//no match\n     System.out.print(\"None\");\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1177483,"reputation":2233,"user_id":1153120,"accept_rate":67,"display_name":"muthukumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376818964,"creation_date":1376817639,"answer_id":18297598,"question_id":18297551,"body_markdown":"you can use \r\n\r\n       for (int col = 0; col &lt; dfsa[row].length; col++)\r\n        {\r\n            for (int i = 0; i &lt; dfsa_StateList.size(); i++)\r\n            { // traverse thru dfsa states list                     \r\n                if (dfsa_StateList.get(i).equals(dfsa[row][col]))\r\n                {\r\n                    str1 = alphabetList.get(col) + &quot; &quot; + i + &quot;, &quot;;\r\n                    if (str1.endsWith(&quot;,&quot;))\r\n                    {\r\n                        int index = str1.lastIndexOf(&quot;,&quot;);\r\n                        str1 = str1.substring(0, index);\r\n                    }\r\n                    if(str1.trim.isEmpty())\r\n                    {\r\n                      System.out.print(&quot;None&quot;);\r\n                    }\r\n                    else\r\n                    {\r\n                    System.out.print(str1);\r\n                    }\r\n                }\r\n            }\r\n        }","title":"remove last comma from loop printouts JAVA","body":"<p>you can use </p>\n\n<pre><code>   for (int col = 0; col &lt; dfsa[row].length; col++)\n    {\n        for (int i = 0; i &lt; dfsa_StateList.size(); i++)\n        { // traverse thru dfsa states list                     \n            if (dfsa_StateList.get(i).equals(dfsa[row][col]))\n            {\n                str1 = alphabetList.get(col) + \" \" + i + \", \";\n                if (str1.endsWith(\",\"))\n                {\n                    int index = str1.lastIndexOf(\",\");\n                    str1 = str1.substring(0, index);\n                }\n                if(str1.trim.isEmpty())\n                {\n                  System.out.print(\"None\");\n                }\n                else\n                {\n                System.out.print(str1);\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2278494,"reputation":2749,"user_id":2004206,"display_name":"Paweł Piecyk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1376821963,"creation_date":1376819551,"answer_id":18297868,"question_id":18297551,"body_markdown":"Try with:\r\n\r\n    String str1 = null; \r\n    for (int row=0; row&lt;dfsa.length; row++) {\r\n    \r\n        System.out.print(&quot;\\tstate &quot; + row +&quot;: &quot;);   \r\n        String line = &quot;&quot;;\r\n        for (int col=0; col&lt;dfsa[row].length; col++) {  \r\n            for (int i=0; i&lt;dfsa_StateList.size(); i++) { // traverse thru dfsa states list                     \r\n                if (dfsa_StateList.get(i).equals(dfsa[row][col])) {\r\n                    str1 = alphabetList.get(col)+ &quot; &quot; + i + &quot;, &quot;;\r\n                    line += str1;\r\n                }\r\n            }                   \r\n        }    \r\n        line = line.length() &gt; 0 ? line.substring(0, line.length() - 2) : &quot;None&quot;;\r\n        System.out.println(line)       \r\n    }","title":"remove last comma from loop printouts JAVA","body":"<p>Try with:</p>\n\n<pre><code>String str1 = null; \nfor (int row=0; row&lt;dfsa.length; row++) {\n\n    System.out.print(\"\\tstate \" + row +\": \");   \n    String line = \"\";\n    for (int col=0; col&lt;dfsa[row].length; col++) {  \n        for (int i=0; i&lt;dfsa_StateList.size(); i++) { // traverse thru dfsa states list                     \n            if (dfsa_StateList.get(i).equals(dfsa[row][col])) {\n                str1 = alphabetList.get(col)+ \" \" + i + \", \";\n                line += str1;\n            }\n        }                   \n    }    \n    line = line.length() &gt; 0 ? line.substring(0, line.length() - 2) : \"None\";\n    System.out.println(line)       \n}\n</code></pre>\n"}],"owner":{"account_id":2255283,"reputation":1673,"user_id":1986597,"accept_rate":82,"display_name":"Casper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3947,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18297868,"answer_count":3,"score":0,"last_activity_date":1654787375,"creation_date":1376817257,"question_id":18297551,"body_markdown":"I got a small problem with the printouts from a loop. \r\n\r\n\tString str1 = null; \r\n\tfor (int row=0; row&lt;dfsa.length; row++) {\r\n\t\t\r\n\t\tSystem.out.print(&quot;\\tstate &quot; + row +&quot;: &quot;);\t\r\n\r\n\t\tfor (int col=0; col&lt;dfsa[row].length; col++) {\t\r\n\t\t\tfor (int i=0; i&lt;dfsa_StateList.size(); i++) { // traverse thru dfsa states list\t\t\t\t\t\t\r\n\t\t\t\tif (dfsa_StateList.get(i).equals(dfsa[row][col])) {\r\n\t\t\t\t\tstr1 = alphabetList.get(col)+ &quot; &quot; + i + &quot;, &quot;;\r\n\t\t\t\t\tSystem.out.print(str1);\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\t\t\r\n\t\t}\t\t\t\r\n\t\tSystem.out.println();\r\n\t}\r\n\r\nExplaining the code: it traverses through a 2D array (row and col), then from each slot, traverses through another 1D arrayList, if that slot in arrayList matches with the slot in the 2D array, print the column from 2D array and the index of the arrayList\r\n\r\nSample output:\r\n\r\n        state 0: b 1, c 2, \r\n    \tstate 1: e 3, \r\n    \tstate 2: a 4, \r\n    \tstate 3: a 5, \r\n    \tstate 4: r 6, \r\n    \tstate 5: r 7, \r\n    \tstate 6: e 8, \r\n    \tstate 7: \r\n    \tstate 8:\r\n\r\nb 1 and c 2 are on the same line because there are 2 matches in one row.\r\nI only need the comma to separate between 2 matches within one row. \r\nI have tried using substring, some regex found online but they didn&#39;t work\r\n\r\nIn additional, I want to display &quot;none&quot; for the last 2 rows (state 7 and 8). I have been also trying to do it but still no luck.\r\n\r\nPlease give some advice, thanks","title":"remove last comma from loop printouts JAVA","body":"<p>I got a small problem with the printouts from a loop. </p>\n\n<pre><code>String str1 = null; \nfor (int row=0; row&lt;dfsa.length; row++) {\n\n    System.out.print(\"\\tstate \" + row +\": \");   \n\n    for (int col=0; col&lt;dfsa[row].length; col++) {  \n        for (int i=0; i&lt;dfsa_StateList.size(); i++) { // traverse thru dfsa states list                     \n            if (dfsa_StateList.get(i).equals(dfsa[row][col])) {\n                str1 = alphabetList.get(col)+ \" \" + i + \", \";\n                System.out.print(str1);\n            }\n        }                   \n    }           \n    System.out.println();\n}\n</code></pre>\n\n<p>Explaining the code: it traverses through a 2D array (row and col), then from each slot, traverses through another 1D arrayList, if that slot in arrayList matches with the slot in the 2D array, print the column from 2D array and the index of the arrayList</p>\n\n<p>Sample output:</p>\n\n<pre><code>    state 0: b 1, c 2, \n    state 1: e 3, \n    state 2: a 4, \n    state 3: a 5, \n    state 4: r 6, \n    state 5: r 7, \n    state 6: e 8, \n    state 7: \n    state 8:\n</code></pre>\n\n<p>b 1 and c 2 are on the same line because there are 2 matches in one row.\nI only need the comma to separate between 2 matches within one row. \nI have tried using substring, some regex found online but they didn't work</p>\n\n<p>In additional, I want to display \"none\" for the last 2 rows (state 7 and 8). I have been also trying to do it but still no luck.</p>\n\n<p>Please give some advice, thanks</p>\n"},{"tags":["java","spring","jpa"],"answers":[{"tags":[],"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654777992,"creation_date":1654777992,"answer_id":72560330,"question_id":72560120,"body_markdown":"isn&#39;t your mapping incorrect? I guess it should be a ManyToOne relationship\r\n\r\n    @Entity\r\n    public class Item {\r\n      \r\n      ...\r\n    \r\n      @ManyToOne( fetch = FetchType.EAGER)\r\n      @JoinColumn( name=&quot;id_order&quot; )\r\n      private Order order;\r\n\r\n      ...\r\n\r\n}","title":"Delete with cascade in spring with JPA","body":"<p>isn't your mapping incorrect? I guess it should be a ManyToOne relationship</p>\n<pre><code>@Entity\npublic class Item {\n  \n  ...\n\n  @ManyToOne( fetch = FetchType.EAGER)\n  @JoinColumn( name=&quot;id_order&quot; )\n  private Order order;\n\n  ...\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":24516834,"reputation":56,"user_id":18430457,"display_name":"Tsimpragakis Vasilis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654786516,"creation_date":1654786516,"answer_id":72562500,"question_id":72560120,"body_markdown":"This method does the exact opposite of what u want to do.It returns a list with the item you want to remove and does not remove the item\r\n\r\n      // filter to remove item from order items\r\n            List&lt;Item&gt; updatedItems = orderToUpdate.get().getItems()\r\n                    .stream()\r\n                    .filter(oldItem -&gt; oldItem.getId() == item.getId())\r\n                    .collect(Collectors.toList());\r\n\r\nin order to remove item from the list you have to filter and select all items whose id is not equal to item id.","title":"Delete with cascade in spring with JPA","body":"<p>This method does the exact opposite of what u want to do.It returns a list with the item you want to remove and does not remove the item</p>\n<pre><code>  // filter to remove item from order items\n        List&lt;Item&gt; updatedItems = orderToUpdate.get().getItems()\n                .stream()\n                .filter(oldItem -&gt; oldItem.getId() == item.getId())\n                .collect(Collectors.toList());\n</code></pre>\n<p>in order to remove item from the list you have to filter and select all items whose id is not equal to item id.</p>\n"}],"owner":{"account_id":3800499,"reputation":570,"user_id":3154301,"accept_rate":50,"display_name":"Mauro Alvarez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654787145,"creation_date":1654777068,"question_id":72560120,"body_markdown":"I&#39;m developing a delivery system for supermarket products.\r\nI have Orders which contain a list of items. Each item contains a product. \r\nI&#39;m trying to delete a product, I&#39;m performing a logic deletion by setting a flag in my product entity. But I have to remove the item which belongs to a product and also recalculate the price of the order and update its items. \r\n\r\nHere&#39;s my code\r\n\r\n**Order.java**\r\n\r\n    @Entity\r\n    @Table (name=&quot;Orders&quot;)\r\n    public class Order {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column (name = &quot;id&quot;, nullable = false)\r\n        private long id;\r\n        @OneToMany( mappedBy = &quot;order&quot;, cascade = {CascadeType.PERSIST, CascadeType.REMOVE}, fetch = FetchType.EAGER)\r\n        @JsonIgnore\r\n        private List&lt;Item&gt; items;\r\n\r\n        private float totalPrice;\r\n    }\r\n\r\nItem.java\r\n\r\n    @Entity\r\n    public class Item {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        private Long id;\r\n        \r\n        @OneToOne( fetch = FetchType.EAGER)\r\n        @JoinColumn( name=&quot;id_order&quot; )\r\n        private Order order;\r\n    \r\n        @OneToOne( fetch = FetchType.EAGER)\r\n        @JoinColumn( name=&quot;id_product&quot; )\r\n        private Product product;\r\n    \r\n        private boolean active;\r\n\r\n    }\r\n\r\n**ProductController.java**\r\n\r\n    @DeleteMapping(&quot;/remover-producto/{product_id}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public void removerProducto(@PathVariable long product_id) {\r\n        Optional&lt;Product&gt; productToRemove = productService.findProduct(product_id);\r\n        // Get the product to remove\r\n        if(productToRemove.isPresent()) {\r\n            // Perform logical deletion\r\n            productToRemove.get().setActive(false);\r\n            // Update entity with flag\r\n            productService.eliminarLogico(productToRemove.get());\r\n            // get item from the product_id\r\n            Optional&lt;Item&gt; itemToRemove = itemService.itemWithProductId(product_id);\r\n            if(itemToRemove.isPresent()) {\r\n                // physical removal of item\r\n                orderService.removeItemFromOrderAndUpdatePrice(itemToRemove.get());\r\n            }\r\n        }\r\n    }\r\n\r\n**OrderServiceImpl.java**\r\n\r\n    @Override\r\n        public void removeItemFromOrderAndUpdatePrice(Item item) {\r\n            // get order that contains the item\r\n            Optional&lt;Order&gt; orderToUpdate = orderRepository.findOrderWithItemId(item.getId());\r\n    \r\n            if(orderToUpdate.isPresent()) {\r\n                // update total price from order\r\n                float total = orderToUpdate.get().getTotalPrice() - item.getProduct().getPrice();\r\n                orderToUpdate.get().setTotalPrice(total);\r\n                // filter to remove item from order items\r\n                List&lt;Item&gt; updatedItems = orderToUpdate.get().getItems()\r\n                        .stream()\r\n                        .filter(oldItem -&gt; oldItem.getId() != item.getId())\r\n                        .collect(Collectors.toList());\r\n               \r\n                orderToUpdate.get().getItems().clear();\r\n                orderToUpdate.get().setItems(updatedItems);\r\n                // It is not updating with the new list of items.\r\n                orderRepository.save(orderToUpdate.get());\r\n            }\r\n        }\r\n\r\nI defined the list of items in **order** with cascade type persist and remove. But the item is still in the database. The product is successfully deleted (logically) and the order has the correct total price.\r\n\r\nI tried adding **orphanRemoval=true** but I get --&gt; A collection with cascade=&quot;all-delete-orphan&quot; was no longer referenced by the owning entity instance: com.bd.tpfinal.model.Order.items","title":"Delete with cascade in spring with JPA","body":"<p>I'm developing a delivery system for supermarket products.\nI have Orders which contain a list of items. Each item contains a product.\nI'm trying to delete a product, I'm performing a logic deletion by setting a flag in my product entity. But I have to remove the item which belongs to a product and also recalculate the price of the order and update its items.</p>\n<p>Here's my code</p>\n<p><strong>Order.java</strong></p>\n<pre><code>@Entity\n@Table (name=&quot;Orders&quot;)\npublic class Order {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column (name = &quot;id&quot;, nullable = false)\n    private long id;\n    @OneToMany( mappedBy = &quot;order&quot;, cascade = {CascadeType.PERSIST, CascadeType.REMOVE}, fetch = FetchType.EAGER)\n    @JsonIgnore\n    private List&lt;Item&gt; items;\n\n    private float totalPrice;\n}\n</code></pre>\n<p>Item.java</p>\n<pre><code>@Entity\npublic class Item {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n    \n    @OneToOne( fetch = FetchType.EAGER)\n    @JoinColumn( name=&quot;id_order&quot; )\n    private Order order;\n\n    @OneToOne( fetch = FetchType.EAGER)\n    @JoinColumn( name=&quot;id_product&quot; )\n    private Product product;\n\n    private boolean active;\n\n}\n</code></pre>\n<p><strong>ProductController.java</strong></p>\n<pre><code>@DeleteMapping(&quot;/remover-producto/{product_id}&quot;)\n@ResponseStatus(HttpStatus.OK)\npublic void removerProducto(@PathVariable long product_id) {\n    Optional&lt;Product&gt; productToRemove = productService.findProduct(product_id);\n    // Get the product to remove\n    if(productToRemove.isPresent()) {\n        // Perform logical deletion\n        productToRemove.get().setActive(false);\n        // Update entity with flag\n        productService.eliminarLogico(productToRemove.get());\n        // get item from the product_id\n        Optional&lt;Item&gt; itemToRemove = itemService.itemWithProductId(product_id);\n        if(itemToRemove.isPresent()) {\n            // physical removal of item\n            orderService.removeItemFromOrderAndUpdatePrice(itemToRemove.get());\n        }\n    }\n}\n</code></pre>\n<p><strong>OrderServiceImpl.java</strong></p>\n<pre><code>@Override\n    public void removeItemFromOrderAndUpdatePrice(Item item) {\n        // get order that contains the item\n        Optional&lt;Order&gt; orderToUpdate = orderRepository.findOrderWithItemId(item.getId());\n\n        if(orderToUpdate.isPresent()) {\n            // update total price from order\n            float total = orderToUpdate.get().getTotalPrice() - item.getProduct().getPrice();\n            orderToUpdate.get().setTotalPrice(total);\n            // filter to remove item from order items\n            List&lt;Item&gt; updatedItems = orderToUpdate.get().getItems()\n                    .stream()\n                    .filter(oldItem -&gt; oldItem.getId() != item.getId())\n                    .collect(Collectors.toList());\n           \n            orderToUpdate.get().getItems().clear();\n            orderToUpdate.get().setItems(updatedItems);\n            // It is not updating with the new list of items.\n            orderRepository.save(orderToUpdate.get());\n        }\n    }\n</code></pre>\n<p>I defined the list of items in <strong>order</strong> with cascade type persist and remove. But the item is still in the database. The product is successfully deleted (logically) and the order has the correct total price.</p>\n<p>I tried adding <strong>orphanRemoval=true</strong> but I get --&gt; A collection with cascade=&quot;all-delete-orphan&quot; was no longer referenced by the owning entity instance: com.bd.tpfinal.model.Order.items</p>\n"},{"tags":["java","rest","curl","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654786382,"creation_date":1654786382,"answer_id":72562460,"question_id":72555832,"body_markdown":"You are not supposed to subscribe explicitly to the publisher in WebFlux. If you run in debug mode and put breakpoint on `return` statement you would see\r\n\r\n`Caused by: java.lang.IllegalStateException: Only one connection receive subscriber allowed.`\r\n\r\nIn run-time this error is not visible because `subscribe` is async and your code exited even before it.\r\n\r\nIn any case, the correct implementation would look like \r\n\r\n\r\n```\r\npublic Mono&lt;ServerResponse&gt; test(ServerRequest serverRequest) {\r\n    return serverRequest.bodyToMono(String.class)\r\n            .doOnNext(System.out::println)\r\n            .flatMap(body -&gt; ServerResponse.ok()\r\n                    .body(BodyInserters.fromValue(&quot;ok&quot;))\r\n            );\r\n}\r\n```","title":"Body in serverRequest is null with ServerRequest(Spring Webflux)","body":"<p>You are not supposed to subscribe explicitly to the publisher in WebFlux. If you run in debug mode and put breakpoint on <code>return</code> statement you would see</p>\n<p><code>Caused by: java.lang.IllegalStateException: Only one connection receive subscriber allowed.</code></p>\n<p>In run-time this error is not visible because <code>subscribe</code> is async and your code exited even before it.</p>\n<p>In any case, the correct implementation would look like</p>\n<pre><code>public Mono&lt;ServerResponse&gt; test(ServerRequest serverRequest) {\n    return serverRequest.bodyToMono(String.class)\n            .doOnNext(System.out::println)\n            .flatMap(body -&gt; ServerResponse.ok()\n                    .body(BodyInserters.fromValue(&quot;ok&quot;))\n            );\n}\n</code></pre>\n"}],"owner":{"account_id":21949549,"reputation":3,"user_id":16228895,"display_name":"yjs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72562460,"answer_count":1,"score":0,"last_activity_date":1654786382,"creation_date":1654757348,"question_id":72555832,"body_markdown":"I sent the request as below.\r\n\r\n```sh\r\ncurl -d &quot;{&quot;&quot;key1&quot;&quot;:&quot;&quot;value1&quot;&quot;, &quot;&quot;key2&quot;&quot;:&quot;&quot;value2&quot;&quot;}&quot; \\\r\n-H &quot;Content-Type: application/json&quot; \\\r\n-X POST http://localhost:8080/myApi/test\r\n```\r\n\r\nAnd write route configure as below\r\n```java\r\nRouterFunctions.route()\r\n               .path(&quot;/myApi&quot;, builder -&gt; builder\r\n                   .POST(&quot;/test&quot;, handler::test))\r\n               .build();\r\n```\r\n\r\nIn handler::test,\r\n```java\r\npublic Mono&lt;ServerResponse&gt; test(ServerRequest serverRequest) {\r\n    System.out.println(serverRequest.headers());\r\n    serverRequest.bodyToMono(String.class).subscribe(System.out::println);\r\n    return  ServerResponse.ok().body(Mono.just(&quot;ok&quot;), String.class);\r\n}\r\n```\r\n\r\nBut result is as below.\r\n```\r\n[Host:&quot;localhost:8080&quot;, User-Agent:&quot;curl/7.77.0&quot;, Accept:&quot;*/*&quot;, Content-Type:&quot;application/json&quot;, content-length:&quot;26&quot;]\r\n```\r\n\r\nI add one line to check body is null, and result is as below.\r\n```Java\r\nSystem.out.println(serverRequest.bodyToMono(String.class).toProcessor().peek());\r\n```\r\n```sh\r\nnull\r\n```\r\n\r\nIs there any way to extract body from ```ServerRequest```?","title":"Body in serverRequest is null with ServerRequest(Spring Webflux)","body":"<p>I sent the request as below.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl -d &quot;{&quot;&quot;key1&quot;&quot;:&quot;&quot;value1&quot;&quot;, &quot;&quot;key2&quot;&quot;:&quot;&quot;value2&quot;&quot;}&quot; \\\n-H &quot;Content-Type: application/json&quot; \\\n-X POST http://localhost:8080/myApi/test\n</code></pre>\n<p>And write route configure as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>RouterFunctions.route()\n               .path(&quot;/myApi&quot;, builder -&gt; builder\n                   .POST(&quot;/test&quot;, handler::test))\n               .build();\n</code></pre>\n<p>In handler::test,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;ServerResponse&gt; test(ServerRequest serverRequest) {\n    System.out.println(serverRequest.headers());\n    serverRequest.bodyToMono(String.class).subscribe(System.out::println);\n    return  ServerResponse.ok().body(Mono.just(&quot;ok&quot;), String.class);\n}\n</code></pre>\n<p>But result is as below.</p>\n<pre><code>[Host:&quot;localhost:8080&quot;, User-Agent:&quot;curl/7.77.0&quot;, Accept:&quot;*/*&quot;, Content-Type:&quot;application/json&quot;, content-length:&quot;26&quot;]\n</code></pre>\n<p>I add one line to check body is null, and result is as below.</p>\n<pre><code>System.out.println(serverRequest.bodyToMono(String.class).toProcessor().peek());\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>null\n</code></pre>\n<p>Is there any way to extract body from <code>ServerRequest</code>?</p>\n"},{"tags":["java","gson"],"answers":[{"tags":[],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654786309,"creation_date":1654786309,"answer_id":72562441,"question_id":72560961,"body_markdown":"I&#39;ve been found the solution. Need to change \r\n```\r\nnew GsonBuilder().registerTypeAdapter(MyEnum.class, new MyEnumSeserializer());\r\n```\r\nto \r\n```\r\nnew GsonBuilder(). registerTypeHierarchyAdapter(MyEnum.class, new MyEnumSeserializer());\r\n```\r\nand all work fine.","title":"How to write custom serializer for proxy classes","body":"<p>I've been found the solution. Need to change</p>\n<pre><code>new GsonBuilder().registerTypeAdapter(MyEnum.class, new MyEnumSeserializer());\n</code></pre>\n<p>to</p>\n<pre><code>new GsonBuilder(). registerTypeHierarchyAdapter(MyEnum.class, new MyEnumSeserializer());\n</code></pre>\n<p>and all work fine.</p>\n"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72562441,"answer_count":1,"score":0,"last_activity_date":1654786309,"creation_date":1654780548,"question_id":72560961,"body_markdown":"I need to serialize/deserialize a POJO with enum. I have the following DTO:\r\n```\r\npublic enum MyEnum {\r\n    VAL1(&quot;val1&quot;),\r\n    VAL2(&quot;val2&quot;) {\r\n         @Override\r\n         public String getValue() {\r\n             return &quot;test2&quot;;\r\n         }\r\n    };\r\n    private final String name;\r\n    MyEnum(String name) {\r\n       this.name = name;\r\n    }\r\n\r\n    public String getValue() {\r\n       return name;\r\n    }\r\n   \r\n}\r\npublic class MyPojo {\r\n    public MyEnum prop;\r\n}\r\npublic static void main(String... args) {\r\n    Gson gson = new GsonBuilder().registerTypeAdapter(MyEnum.class, new MyEnumSeserializer());\r\n    MyPojo p = new MyPojo();\r\n    p.prop = MyEnum.VAL2;   // and I get MyEnum$1.class and My serializer doesn&#39;t work\r\n    String json = gson.toJson(p);\r\n    MyPojo p1 = gson.fromJson(json, MyPojo.class);\r\n}\r\n```\r\nHow can I write a custom serializer/deserializer for proxy classes using Gson library? I can&#39;t use another library.\r\n","title":"How to write custom serializer for proxy classes","body":"<p>I need to serialize/deserialize a POJO with enum. I have the following DTO:</p>\n<pre><code>public enum MyEnum {\n    VAL1(&quot;val1&quot;),\n    VAL2(&quot;val2&quot;) {\n         @Override\n         public String getValue() {\n             return &quot;test2&quot;;\n         }\n    };\n    private final String name;\n    MyEnum(String name) {\n       this.name = name;\n    }\n\n    public String getValue() {\n       return name;\n    }\n   \n}\npublic class MyPojo {\n    public MyEnum prop;\n}\npublic static void main(String... args) {\n    Gson gson = new GsonBuilder().registerTypeAdapter(MyEnum.class, new MyEnumSeserializer());\n    MyPojo p = new MyPojo();\n    p.prop = MyEnum.VAL2;   // and I get MyEnum$1.class and My serializer doesn't work\n    String json = gson.toJson(p);\n    MyPojo p1 = gson.fromJson(json, MyPojo.class);\n}\n</code></pre>\n<p>How can I write a custom serializer/deserializer for proxy classes using Gson library? I can't use another library.</p>\n"},{"tags":["java","c++","windows","soap","unicode"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1489687673,"post_id":42841641,"comment_id":72792457,"body_markdown":"_&quot;...and on disk as UTF-8&quot;_ That usually depends on what encoding you give to the IO api you&#39;re using.","body":"<i>&quot;...and on disk as UTF-8&quot;</i> That usually depends on what encoding you give to the IO api you&#39;re using."},{"owner":{"account_id":4106157,"reputation":2138,"user_id":3370124,"display_name":"Richard Critten"},"score":0,"creation_date":1489689476,"post_id":42841641,"comment_id":72793504,"body_markdown":"Windows uses UTF-16LE. If you have UTF-16 strings in Java just pass them to Windows.  If you are saving them as UTF-8, then you will need to convert them to UTF-16LE when you read them into your Windows program. `MultiByteToWideChar` can convert from UTF-8 to UTF-16 so can C++11 standard functions.","body":"Windows uses UTF-16LE. If you have UTF-16 strings in Java just pass them to Windows.  If you are saving them as UTF-8, then you will need to convert them to UTF-16LE when you read them into your Windows program. <code>MultiByteToWideChar</code> can convert from UTF-8 to UTF-16 so can C++11 standard functions."}],"answers":[{"tags":[],"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654786047,"creation_date":1489801693,"answer_id":42869568,"question_id":42841641,"body_markdown":"&gt; I have read that Java stores strings in memory as UTF-16\r\n\r\nIt **used** to, but that is changing.  Per [JEP 254: Compact Strings](http://openjdk.java.net/jeps/254), the in-memory storage may soon use ISO-8859-1 instead, but **ONLY WHEN** it results in a more compact storage than UTF-16 without losing data.  Though Java strings use a public interface that is based on UTF-16 (regardless of whether their in-memory storage will use ISO-8859-1 or not).  So just *pretend* they are always UTF-16.\r\n\r\n&gt; When I have a Java string being sent to the C++ client, should I assume that it is UTF-8 or UTF-16?\r\n\r\nYou can&#39;t assume either encoding. You have to look at the actual SOAP data.  SOAP uses XML, and XML can use any character encoding the creator wants, as long as it declares the encoding in the XML prolog (if it is something other than UTF-8, which is the most commonly used encoding in XML).  Don&#39;t assume, know what you are working with.  If you are using a SOAP library, you are limited by whatever encoding it chooses to use for its in-memory strings.\r\n\r\n&gt; When I receive a string from Java and just insert it into a `std::wstring`, without any sort of conversion the C++ client uses the `Windows-1252` code page.\r\n\r\nThat is very unlikely, since `std::wstring` uses UTF-16 on Windows, and Java strings are also UTF-16 (for all intents and purposes).  You must be converting your strings incorrectly.  Please [edit your question](https://stackoverflow.com/posts/42841641/edit) to show your actual code.\r\n\r\n&gt; Is the correct function to receive and convert the unicode string `MultiByteToWideChar`?\r\n\r\n**IF** you have an 8-bit string ANSI to begin with (`char*` or `std::string`), then yes.  But that should not be the case when interacting directly with Java (via JNI/JNA) or with `std::wstring`.  So it makes me wonder if you are using a SOAP implementation on the C++ side that is based on 8-bit ANSI strings instead of 16-bit Unicode strings.\r\n\r\n&gt; Although the Windows function that I am calling (`SetComputerNameExW`) is meant to accept Unicode, when I pass in the string that is received from Java via SOAP (I specifically re-encode the string as UTF-8 while debugging) request and decode it as UTF-8 on the C++ side, after passing the value to `SetComputerNameExW` the system initiates a reboot\r\n\r\nYou can&#39;t pass a UTF-8 string to `SetComputerNameExW()`, the code will not even compile, unless you are using an invalid typecast to force it.  You must pass a UTF-16 string instead.\r\n\r\n&gt; but only renames the machine to the first character (ie, if my string is `ThisIsAT&#235;st`, then the machine will rename to `T`).\r\n\r\nThat implies something went very bad with your conversions.  Whatever you *think* you are passing to `SetComputerNameExW()` is not what is *actually* being passed, it is not formatted correctly, which is why `SetComputerNameExW()` only picks up the first character.  \r\n\r\nBut again, this is a situation where you have not shown your actual SOAP data or code, so no one can tell you why the string is not being formatted correctly.\r\n\r\n&gt; Is there a specific Unicode format that has to be used for these Windows API calls?\r\n\r\nThe Win32 API only supports two types of strings:\r\n\r\n- localized ANSI strings\r\n\r\n- UTF-16 strings\r\n\r\nYou can&#39;t use UTF-8 at all (except in a VERY FEW cases), so you have to convert any UTF-8 data to one of the other formats (preferably UTF-16, since conversions between UTFs is loss-less, and the Windows core is based on UTF-16 anyway).","title":"Using Unicode text in Windows calls (C++) received from Java SOAP","body":"<blockquote>\n<p>I have read that Java stores strings in memory as UTF-16</p>\n</blockquote>\n<p>It <strong>used</strong> to, but that is changing.  Per <a href=\"http://openjdk.java.net/jeps/254\" rel=\"nofollow noreferrer\">JEP 254: Compact Strings</a>, the in-memory storage may soon use ISO-8859-1 instead, but <strong>ONLY WHEN</strong> it results in a more compact storage than UTF-16 without losing data.  Though Java strings use a public interface that is based on UTF-16 (regardless of whether their in-memory storage will use ISO-8859-1 or not).  So just <em>pretend</em> they are always UTF-16.</p>\n<blockquote>\n<p>When I have a Java string being sent to the C++ client, should I assume that it is UTF-8 or UTF-16?</p>\n</blockquote>\n<p>You can't assume either encoding. You have to look at the actual SOAP data.  SOAP uses XML, and XML can use any character encoding the creator wants, as long as it declares the encoding in the XML prolog (if it is something other than UTF-8, which is the most commonly used encoding in XML).  Don't assume, know what you are working with.  If you are using a SOAP library, you are limited by whatever encoding it chooses to use for its in-memory strings.</p>\n<blockquote>\n<p>When I receive a string from Java and just insert it into a <code>std::wstring</code>, without any sort of conversion the C++ client uses the <code>Windows-1252</code> code page.</p>\n</blockquote>\n<p>That is very unlikely, since <code>std::wstring</code> uses UTF-16 on Windows, and Java strings are also UTF-16 (for all intents and purposes).  You must be converting your strings incorrectly.  Please <a href=\"https://stackoverflow.com/posts/42841641/edit\">edit your question</a> to show your actual code.</p>\n<blockquote>\n<p>Is the correct function to receive and convert the unicode string <code>MultiByteToWideChar</code>?</p>\n</blockquote>\n<p><strong>IF</strong> you have an 8-bit string ANSI to begin with (<code>char*</code> or <code>std::string</code>), then yes.  But that should not be the case when interacting directly with Java (via JNI/JNA) or with <code>std::wstring</code>.  So it makes me wonder if you are using a SOAP implementation on the C++ side that is based on 8-bit ANSI strings instead of 16-bit Unicode strings.</p>\n<blockquote>\n<p>Although the Windows function that I am calling (<code>SetComputerNameExW</code>) is meant to accept Unicode, when I pass in the string that is received from Java via SOAP (I specifically re-encode the string as UTF-8 while debugging) request and decode it as UTF-8 on the C++ side, after passing the value to <code>SetComputerNameExW</code> the system initiates a reboot</p>\n</blockquote>\n<p>You can't pass a UTF-8 string to <code>SetComputerNameExW()</code>, the code will not even compile, unless you are using an invalid typecast to force it.  You must pass a UTF-16 string instead.</p>\n<blockquote>\n<p>but only renames the machine to the first character (ie, if my string is <code>ThisIsATëst</code>, then the machine will rename to <code>T</code>).</p>\n</blockquote>\n<p>That implies something went very bad with your conversions.  Whatever you <em>think</em> you are passing to <code>SetComputerNameExW()</code> is not what is <em>actually</em> being passed, it is not formatted correctly, which is why <code>SetComputerNameExW()</code> only picks up the first character.</p>\n<p>But again, this is a situation where you have not shown your actual SOAP data or code, so no one can tell you why the string is not being formatted correctly.</p>\n<blockquote>\n<p>Is there a specific Unicode format that has to be used for these Windows API calls?</p>\n</blockquote>\n<p>The Win32 API only supports two types of strings:</p>\n<ul>\n<li><p>localized ANSI strings</p>\n</li>\n<li><p>UTF-16 strings</p>\n</li>\n</ul>\n<p>You can't use UTF-8 at all (except in a VERY FEW cases), so you have to convert any UTF-8 data to one of the other formats (preferably UTF-16, since conversions between UTFs is loss-less, and the Windows core is based on UTF-16 anyway).</p>\n"}],"owner":{"account_id":355189,"reputation":311,"user_id":693984,"accept_rate":67,"display_name":"clamport"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":42869568,"answer_count":1,"score":1,"last_activity_date":1654786047,"creation_date":1489687369,"question_id":42841641,"body_markdown":"I am using gSoap with C++ to send and receive web service calls from Java. The difference in what Java considers a character and C/C++ considers a character seems to be wreaking havoc, as is different code pages. This question has a couple different parts.\r\n\r\n 1. I have read that Java stores strings in memory as UTF-16 and on disk as UTF-8. When I have a Java string being sent to the C++ client, should I assume that it is UTF-8 or UTF-16?\r\n 2. When I receive a string from Java and just insert it into a `std::wstring`, without any sort of conversion the C++ client uses the `Windows-1252` code page. Is the correct function to receive and convert the unicode string `MultiByteToWideChar`?\r\n 3. Although the Windows function that I am calling (`SetComputerNameExW`) is meant to accept Unicode, when I pass in the string that is received from Java via SOAP (I specifically re-encode the string as UTF-8 while debugging) request and decode it as UTF-8 on the C++ side, after passing the value to `SetComputerNameExW` the system initiates a reboot but only renames the machine to the first character (ie, if my string is `ThisIsAT&#235;st`, then the machine will rename to `T`). Is there a specific Unicode format that has to be used for these Windows API calls?\r\n\r\nAny assistance is greatly appreciated! Thanks!\r\n","title":"Using Unicode text in Windows calls (C++) received from Java SOAP","body":"<p>I am using gSoap with C++ to send and receive web service calls from Java. The difference in what Java considers a character and C/C++ considers a character seems to be wreaking havoc, as is different code pages. This question has a couple different parts.</p>\n\n<ol>\n<li>I have read that Java stores strings in memory as UTF-16 and on disk as UTF-8. When I have a Java string being sent to the C++ client, should I assume that it is UTF-8 or UTF-16?</li>\n<li>When I receive a string from Java and just insert it into a <code>std::wstring</code>, without any sort of conversion the C++ client uses the <code>Windows-1252</code> code page. Is the correct function to receive and convert the unicode string <code>MultiByteToWideChar</code>?</li>\n<li>Although the Windows function that I am calling (<code>SetComputerNameExW</code>) is meant to accept Unicode, when I pass in the string that is received from Java via SOAP (I specifically re-encode the string as UTF-8 while debugging) request and decode it as UTF-8 on the C++ side, after passing the value to <code>SetComputerNameExW</code> the system initiates a reboot but only renames the machine to the first character (ie, if my string is <code>ThisIsATëst</code>, then the machine will rename to <code>T</code>). Is there a specific Unicode format that has to be used for these Windows API calls?</li>\n</ol>\n\n<p>Any assistance is greatly appreciated! Thanks!</p>\n"},{"tags":["java","json","gson","auto-value"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1654786834,"post_id":72562376,"comment_id":128180115,"body_markdown":"`response` should be `String`, not `Optional&lt;String&gt;`. Same for the other optionals.","body":"<code>response</code> should be <code>String</code>, not <code>Optional&lt;String&gt;</code>. Same for the other optionals."},{"owner":{"account_id":6121628,"reputation":388,"user_id":4774977,"accept_rate":90,"display_name":"Sunil Kumar"},"score":0,"creation_date":1654786952,"post_id":72562376,"comment_id":128180168,"body_markdown":"I have a use case of `Optional`. In this case do you know how would parsing work for the optional fields from the json string?","body":"I have a use case of <code>Optional</code>. In this case do you know how would parsing work for the optional fields from the json string?"}],"owner":{"account_id":6121628,"reputation":388,"user_id":4774977,"accept_rate":90,"display_name":"Sunil Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654857522,"answer_count":0,"score":0,"last_activity_date":1654786030,"creation_date":1654786030,"question_id":72562376,"body_markdown":"I am using autovalue gson to serialize and deserialize java objects. I have introduced a response class model which indicates a model corresponding to a response of an API.\r\n\r\nHowever, when I am trying to test the json deserialization I am constantly getting exception: `java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 15 path $.response`\r\n\r\n```java\r\n// Response.java class\r\n@GenerateTypeAdapter\r\n@AutoValue\r\npublic abstract class Response {\r\n\r\n  // Populated in case of error scenarios.\r\n  public abstract Optional&lt;String&gt; response();\r\n\r\n  public abstract String apiResponse();\r\n\r\n  public abstract Boolean apiSuccess();\r\n\r\n  public abstract Optional&lt;MyFirstClass&gt; firstInfo();\r\n\r\n  public abstract Optional&lt;String&gt; message();\r\n\r\n\r\n  public abstract Builder toBuilder();\r\n\r\n  public static Builder builder() {\r\n    return new AutoValue_Response.Builder();\r\n  }\r\n\r\n  public static TypeAdapter&lt;Response&gt; typeAdapter(Gson gson) {\r\n    return new Response_GsonTypeAdapter(gson);\r\n  }\r\n\r\n  /** Builder for {@link Response}. */\r\n  @AutoValue.Builder\r\n  public abstract static class Builder {\r\n   // All the setters and build method definitions.\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n// AutoValueGsonTypeAdapterFactory.java class\r\n@GsonTypeAdapterFactory\r\npublic abstract class AutoValueGsonTypeAdapterFactory implements TypeAdapterFactory {\r\n  public static TypeAdapterFactory create() {\r\n    return new AutoValueGson_AutoValueGsonTypeAdapterFactory();\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\nI am using the deserialization like this:\r\n```java\r\n// In UT, I am testing like below:\r\nprivate static final String failureResponseJson =\r\n  &quot;{\\&quot;response\\&quot;: \\&quot;Cannot process now\\&quot;,\\&quot;apiResponse\\&quot;:\\&quot;99\\&quot;,\\&quot;apiSuccess\\&quot;:\\&quot;false\\&quot;,\\&quot;message\\&quot;:\\&quot;Cannot process now\\&quot;}&quot;;\r\nGson gson = new GsonBuilder()\r\n  .registerTypeAdapterFactory(AutoValueGsonTypeAdapterFactory.create())\r\n  .create();\r\n\r\nCreateDisputeJuspayResponse response = gson.fromJson(failureResponseJson, CreateDisputeJuspayResponse.class)\r\n```\r\n\r\nHowever, I am getting `java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 15 path $.response` continuously. I also tried with various other json strings, but none seem to be working. Any help would be highly appreciated.","title":"Expected BEGIN_OBJECT but was STRING at ... for a correct json string","body":"<p>I am using autovalue gson to serialize and deserialize java objects. I have introduced a response class model which indicates a model corresponding to a response of an API.</p>\n<p>However, when I am trying to test the json deserialization I am constantly getting exception: <code>java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 15 path $.response</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>// Response.java class\n@GenerateTypeAdapter\n@AutoValue\npublic abstract class Response {\n\n  // Populated in case of error scenarios.\n  public abstract Optional&lt;String&gt; response();\n\n  public abstract String apiResponse();\n\n  public abstract Boolean apiSuccess();\n\n  public abstract Optional&lt;MyFirstClass&gt; firstInfo();\n\n  public abstract Optional&lt;String&gt; message();\n\n\n  public abstract Builder toBuilder();\n\n  public static Builder builder() {\n    return new AutoValue_Response.Builder();\n  }\n\n  public static TypeAdapter&lt;Response&gt; typeAdapter(Gson gson) {\n    return new Response_GsonTypeAdapter(gson);\n  }\n\n  /** Builder for {@link Response}. */\n  @AutoValue.Builder\n  public abstract static class Builder {\n   // All the setters and build method definitions.\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// AutoValueGsonTypeAdapterFactory.java class\n@GsonTypeAdapterFactory\npublic abstract class AutoValueGsonTypeAdapterFactory implements TypeAdapterFactory {\n  public static TypeAdapterFactory create() {\n    return new AutoValueGson_AutoValueGsonTypeAdapterFactory();\n  }\n}\n\n</code></pre>\n<p>I am using the deserialization like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// In UT, I am testing like below:\nprivate static final String failureResponseJson =\n  &quot;{\\&quot;response\\&quot;: \\&quot;Cannot process now\\&quot;,\\&quot;apiResponse\\&quot;:\\&quot;99\\&quot;,\\&quot;apiSuccess\\&quot;:\\&quot;false\\&quot;,\\&quot;message\\&quot;:\\&quot;Cannot process now\\&quot;}&quot;;\nGson gson = new GsonBuilder()\n  .registerTypeAdapterFactory(AutoValueGsonTypeAdapterFactory.create())\n  .create();\n\nCreateDisputeJuspayResponse response = gson.fromJson(failureResponseJson, CreateDisputeJuspayResponse.class)\n</code></pre>\n<p>However, I am getting <code>java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 15 path $.response</code> continuously. I also tried with various other json strings, but none seem to be working. Any help would be highly appreciated.</p>\n"},{"tags":["java","oop","methods","switch-statement"],"comments":[{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":1,"creation_date":1654783098,"post_id":72561565,"comment_id":128178448,"body_markdown":"Put the variables in an object or record","body":"Put the variables in an object or record"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1654783256,"post_id":72561565,"comment_id":128178523,"body_markdown":"Why do you have those methods in the first place? Can&#39;t you use inheritance/polymorphism?","body":"Why do you have those methods in the first place? Can&#39;t you use inheritance/polymorphism?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1654783352,"post_id":72561565,"comment_id":128178568,"body_markdown":"Without context (like why there&#39;s hard-coded account numbers) or much else there&#39;s little to go on. It&#39;s not clear why a `getAccount` method would require anything other than an account ID. My first instinct is there are multiple missing abstractions.","body":"Without context (like why there&#39;s hard-coded account numbers) or much else there&#39;s little to go on. It&#39;s not clear why a <code>getAccount</code> method would require anything other than an account ID. My first instinct is there are multiple missing abstractions."},{"owner":{"account_id":19236458,"reputation":45,"user_id":14057316,"display_name":"miikey722"},"score":0,"creation_date":1654783801,"post_id":72561565,"comment_id":128178751,"body_markdown":"@DaveNewton - a better way to name the method would be getAccount29DetailsforAPITransfer - each account has unique details that get sent via the SOAP API call.","body":"@DaveNewton - a better way to name the method would be getAccount29DetailsforAPITransfer - each account has unique details that get sent via the SOAP API call."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1654784133,"post_id":72561565,"comment_id":128178892,"body_markdown":"That doesn&#39;t help clarify anything. I&#39;m not sure why something named `getXxx` doesn&#39;t appear to return anything, why more than an account ID is required, why there isn&#39;t a class/record for the parameter, etc. The last point answers your question--you create a parameter record like you would for anything else--but IMO there are larger concerns at play in the end.","body":"That doesn&#39;t help clarify anything. I&#39;m not sure why something named <code>getXxx</code> doesn&#39;t appear to return anything, why more than an account ID is required, why there isn&#39;t a class/record for the parameter, etc. The last point answers your question--you create a parameter record like you would for anything else--but IMO there are larger concerns at play in the end."}],"answers":[{"tags":[],"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654783145,"creation_date":1654783145,"answer_id":72561661,"question_id":72561565,"body_markdown":"why don&#39;t you just go like this :\r\n\r\n```\r\ngetAccount(account, name, address, location, accountID, business);\r\n```\r\n\r\nand then handle it inside your method ?","title":"How can I create a variable / property to pass in the same arguments to every method?","body":"<p>why don't you just go like this :</p>\n<pre><code>getAccount(account, name, address, location, accountID, business);\n</code></pre>\n<p>and then handle it inside your method ?</p>\n"},{"tags":[],"owner":{"account_id":19213814,"reputation":1,"user_id":14038989,"display_name":"Stack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654785659,"creation_date":1654785458,"answer_id":72562229,"question_id":72561565,"body_markdown":"why don&#39;t you just declare the variables (name, address, location, accountID, business) inside the class (as an instance variable) but outside the method. Then just call the methods with no entry argument.\r\n\r\n    \r\n    switch(account){\r\n\r\n          case &quot;25&quot;:\r\n            getAccount25();\r\n            break;\r\n          case &quot;26&quot;:\r\n            getAccount26();\r\n            break;\r\n          case &quot;27&quot;:\r\n            getAccount27();\r\n            break;\r\n          case &quot;28&quot;:\r\n            getAccount28();\r\n            break;\r\n          case &quot;29&quot;:\r\n            getAccount29();\r\n            break;\r\n    }\r\n\r\nThe methods can use the variables as long as they are in the same class. If you are declaring the methods in another class, make the variables &quot;public static&quot;.","title":"How can I create a variable / property to pass in the same arguments to every method?","body":"<p>why don't you just declare the variables (name, address, location, accountID, business) inside the class (as an instance variable) but outside the method. Then just call the methods with no entry argument.</p>\n<pre><code>switch(account){\n\n      case &quot;25&quot;:\n        getAccount25();\n        break;\n      case &quot;26&quot;:\n        getAccount26();\n        break;\n      case &quot;27&quot;:\n        getAccount27();\n        break;\n      case &quot;28&quot;:\n        getAccount28();\n        break;\n      case &quot;29&quot;:\n        getAccount29();\n        break;\n}\n</code></pre>\n<p>The methods can use the variables as long as they are in the same class. If you are declaring the methods in another class, make the variables &quot;public static&quot;.</p>\n"}],"owner":{"account_id":19236458,"reputation":45,"user_id":14057316,"display_name":"miikey722"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1654785659,"creation_date":1654782797,"question_id":72561565,"body_markdown":"I&#39;m creating a switch statement that calls different methods for each case. The caveat is, the methods all take in the exact same arguments, so I find myself duplicating code. It isn&#39;t possible to combine these methods either - as they all instantiate unique xml backing instances. \r\n\r\n```\r\n\r\nswitch(account){\r\n\r\n          case &quot;25&quot;:\r\n            getAccount25(name, address, location, accountID, business)\r\n            break\r\n          case &quot;26&quot;:\r\n            getAccount26(name, address, location, accountID, business)\r\n            break\r\n          case &quot;27&quot;:\r\n            getAccount27(name, address, location, accountID, business)\r\n            break\r\n          case &quot;28&quot;:\r\n            getAccount28(name, address, location, accountID, business)\r\n            break\r\n          case &quot;29&quot;:\r\n            getAccount29(name, address, location, accountID, business)\r\n            break\r\n```\r\nIs there a way to avoid duplicating (name, address, location, accountID, business) for each method call?","title":"How can I create a variable / property to pass in the same arguments to every method?","body":"<p>I'm creating a switch statement that calls different methods for each case. The caveat is, the methods all take in the exact same arguments, so I find myself duplicating code. It isn't possible to combine these methods either - as they all instantiate unique xml backing instances.</p>\n<pre><code>\nswitch(account){\n\n          case &quot;25&quot;:\n            getAccount25(name, address, location, accountID, business)\n            break\n          case &quot;26&quot;:\n            getAccount26(name, address, location, accountID, business)\n            break\n          case &quot;27&quot;:\n            getAccount27(name, address, location, accountID, business)\n            break\n          case &quot;28&quot;:\n            getAccount28(name, address, location, accountID, business)\n            break\n          case &quot;29&quot;:\n            getAccount29(name, address, location, accountID, business)\n            break\n</code></pre>\n<p>Is there a way to avoid duplicating (name, address, location, accountID, business) for each method call?</p>\n"},{"tags":["java","user-interface","intellij-idea"],"comments":[{"owner":{"account_id":9127082,"reputation":2954,"user_id":6790326,"display_name":"Dorian Gray"},"score":0,"creation_date":1654786420,"post_id":72562079,"comment_id":128179924,"body_markdown":"That code doesn&#39;t contain &quot;GUILoginPage.this&quot;","body":"That code doesn&#39;t contain &quot;GUILoginPage.this&quot;"}],"answers":[{"tags":[],"owner":{"account_id":2427198,"reputation":391,"user_id":2118884,"display_name":"Spok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654785651,"creation_date":1654785651,"answer_id":72562286,"question_id":72562079,"body_markdown":"`this` doesn&#39;t have any meaning in a static context. your main is Static so it means that there is no instance of a class to work with.\r\n\r\nHere you will need to define and use your own action listener that will handle the button click, such as :\r\n\r\n```\r\nloginButton.addActionListener(new ActionListener() { \r\n  public void actionPerformed(ActionEvent e) { \r\n    performLogin();\r\n  } \r\n} );\r\n```","title":"alternatives to using &quot;.this&quot; for addActionListener? static context issues","body":"<p><code>this</code> doesn't have any meaning in a static context. your main is Static so it means that there is no instance of a class to work with.</p>\n<p>Here you will need to define and use your own action listener that will handle the button click, such as :</p>\n<pre><code>loginButton.addActionListener(new ActionListener() { \n  public void actionPerformed(ActionEvent e) { \n    performLogin();\n  } \n} );\n</code></pre>\n"}],"owner":{"account_id":23443896,"reputation":5,"user_id":18626608,"display_name":"user18626608"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72562286,"answer_count":1,"score":0,"last_activity_date":1654785651,"creation_date":1654784796,"question_id":72562079,"body_markdown":"created login class for GUI, added all the GUI construction to a method so I can call it from my main class on startup. Calling method throws error &quot;&#39;GUILoginPage.this&#39; cannot be referenced from a static context&quot;.\r\n\r\nWhat are the work arounds for this? I understand the reasoning behind not being able to use .this but I haven&#39;t seen any solutions\r\n\r\n    public static void main() {\r\n\r\n        JFrame frame = new JFrame();\r\n        JButton loginButton = new JButton(&quot;Login&quot;);\r\n\r\n        JTextField userIDField = new JTextField();\r\n        JPasswordField userPasswordField = new JPasswordField();\r\n        JLabel userIDLabel = new JLabel(&quot;Username:&quot;);\r\n        JLabel userPasswordLabel = new JLabel(&quot;Password:&quot;);\r\n\r\n\r\n        userIDLabel.setBounds(50, 100, 75, 25);\r\n        userPasswordLabel.setBounds(50, 150, 75, 25);\r\n\r\n        userIDField.setBounds(125, 100, 200, 25);\r\n        userPasswordField.setBounds(125, 150, 200, 25);\r\n\r\n        loginButton.setBounds(125, 200, 100, 25);\r\n        loginButton.addActionListener(this);\r\n        frame.add(userIDLabel);\r\n        frame.add(userPasswordLabel);\r\n        frame.add(userIDField);\r\n        frame.add(userPasswordField);\r\n        frame.add(loginButton);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(400, 400);\r\n        frame.setLayout(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n","title":"alternatives to using &quot;.this&quot; for addActionListener? static context issues","body":"<p>created login class for GUI, added all the GUI construction to a method so I can call it from my main class on startup. Calling method throws error &quot;'GUILoginPage.this' cannot be referenced from a static context&quot;.</p>\n<p>What are the work arounds for this? I understand the reasoning behind not being able to use .this but I haven't seen any solutions</p>\n<pre><code>public static void main() {\n\n    JFrame frame = new JFrame();\n    JButton loginButton = new JButton(&quot;Login&quot;);\n\n    JTextField userIDField = new JTextField();\n    JPasswordField userPasswordField = new JPasswordField();\n    JLabel userIDLabel = new JLabel(&quot;Username:&quot;);\n    JLabel userPasswordLabel = new JLabel(&quot;Password:&quot;);\n\n\n    userIDLabel.setBounds(50, 100, 75, 25);\n    userPasswordLabel.setBounds(50, 150, 75, 25);\n\n    userIDField.setBounds(125, 100, 200, 25);\n    userPasswordField.setBounds(125, 150, 200, 25);\n\n    loginButton.setBounds(125, 200, 100, 25);\n    loginButton.addActionListener(this);\n    frame.add(userIDLabel);\n    frame.add(userPasswordLabel);\n    frame.add(userIDField);\n    frame.add(userPasswordField);\n    frame.add(loginButton);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(400, 400);\n    frame.setLayout(null);\n    frame.setVisible(true);\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","entity"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1654779849,"post_id":72560429,"comment_id":128176964,"body_markdown":"just call `persist()` with both objects?","body":"just call <code>persist()</code> with both objects?"},{"owner":{"account_id":15144244,"reputation":11,"user_id":10928451,"display_name":"EBruno"},"score":0,"creation_date":1654780215,"post_id":72560429,"comment_id":128177114,"body_markdown":"if i&#39;m not wrong, persist will create (insert) a new record on the database, I need an update.","body":"if i&#39;m not wrong, persist will create (insert) a new record on the database, I need an update."}],"owner":{"account_id":15144244,"reputation":11,"user_id":10928451,"display_name":"EBruno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654785512,"creation_date":1654778353,"question_id":72560429,"body_markdown":"I&#39;m facing an issue by using jpa.\r\nI have an application with multiple tables / entities, of course, some entities use child entity.\r\nIn this application, I have a screen to update the characteristics of a specific product and the name of the customer associated to this product (on another table / entity).\r\n\r\nOn my product Entity, I have a **OneToOnerelation** to the customer defined like :\r\n```java\r\n @OneToOne(targetEntity = Customer.class, cascade = CascadeType.ALL)\r\n @JoinColumn(name=&quot;CUSTOMER_ID&quot;, referencedColumnName = &quot;ID&quot;) \r\n private Customer customer;\r\n```\r\nIn some case, the user only update the customer name and thus, the information is correctly persisted (on table Customer).\r\nBut, I want that the record on table Prodcut to be updated too (at least to have the last_updated_date in synch in the database).\r\nAs I use the merge command from jpa and the main entity (product) is not updated, it seems, the merge method does nothing.\r\n\r\nDo you have any idea how can I do that?\r\n\r\nBest regards\r\n\r\nBruno\r\n\r\n","title":"Jpa, how to automatically persist an Entity in case of change in a child entity","body":"<p>I'm facing an issue by using jpa.\nI have an application with multiple tables / entities, of course, some entities use child entity.\nIn this application, I have a screen to update the characteristics of a specific product and the name of the customer associated to this product (on another table / entity).</p>\n<p>On my product Entity, I have a <strong>OneToOnerelation</strong> to the customer defined like :</p>\n<pre class=\"lang-java prettyprint-override\"><code> @OneToOne(targetEntity = Customer.class, cascade = CascadeType.ALL)\n @JoinColumn(name=&quot;CUSTOMER_ID&quot;, referencedColumnName = &quot;ID&quot;) \n private Customer customer;\n</code></pre>\n<p>In some case, the user only update the customer name and thus, the information is correctly persisted (on table Customer).\nBut, I want that the record on table Prodcut to be updated too (at least to have the last_updated_date in synch in the database).\nAs I use the merge command from jpa and the main entity (product) is not updated, it seems, the merge method does nothing.</p>\n<p>Do you have any idea how can I do that?</p>\n<p>Best regards</p>\n<p>Bruno</p>\n"},{"tags":["java","equals","hashcode","bigdecimal","lombok"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1460642324,"post_id":36625347,"comment_id":60846726,"body_markdown":"Always call `stripTrailingZeroes` before storing your `BigDecimal` in the field?","body":"Always call <code>stripTrailingZeroes</code> before storing your <code>BigDecimal</code> in the field?"},{"owner":{"account_id":4624783,"reputation":885,"user_id":3748908,"accept_rate":52,"display_name":"user3748908"},"score":0,"creation_date":1460642967,"post_id":36625347,"comment_id":60847244,"body_markdown":"Uf, I&#39;d prefer not to have to clutter the code just for comparisons.","body":"Uf, I&#39;d prefer not to have to clutter the code just for comparisons."},{"owner":{"account_id":6244632,"reputation":4283,"user_id":4857050,"display_name":"Raphael Amoedo"},"score":0,"creation_date":1460645472,"post_id":36625347,"comment_id":60849382,"body_markdown":"You can also always set the scale for BigDecimal. See the example: https://repl.it/CFag/0","body":"You can also always set the scale for BigDecimal. See the example: <a href=\"https://repl.it/CFag/0\" rel=\"nofollow noreferrer\">repl.it/CFag/0</a>"},{"owner":{"account_id":4624783,"reputation":885,"user_id":3748908,"accept_rate":52,"display_name":"user3748908"},"score":0,"creation_date":1460703304,"post_id":36625347,"comment_id":60874630,"body_markdown":"@RaphaelAmoedo Same problem that with Andy&#39;s suggestion.","body":"@RaphaelAmoedo Same problem that with Andy&#39;s suggestion."},{"owner":{"account_id":6244632,"reputation":4283,"user_id":4857050,"display_name":"Raphael Amoedo"},"score":1,"creation_date":1460726991,"post_id":36625347,"comment_id":60890367,"body_markdown":"Then probably you have to override Equals by yourself...","body":"Then probably you have to override Equals by yourself..."},{"owner":{"account_id":6244632,"reputation":4283,"user_id":4857050,"display_name":"Raphael Amoedo"},"score":0,"creation_date":1460727139,"post_id":36625347,"comment_id":60890496,"body_markdown":"The setScale can be used too on getter (which you&#39;d have to write it)... Then, probably the EqualsAndHashCode, according to Lombok&#39;s documentation will work.","body":"The setScale can be used too on getter (which you&#39;d have to write it)... Then, probably the EqualsAndHashCode, according to Lombok&#39;s documentation will work."},{"owner":{"account_id":7494226,"reputation":605,"user_id":5694999,"display_name":"eric.v"},"score":0,"creation_date":1562446524,"post_id":36625347,"comment_id":100377853,"body_markdown":"Could you store the BigDecimal as a String and convert the String to a BigDecimal in the getter and the setter ?","body":"Could you store the BigDecimal as a String and convert the String to a BigDecimal in the getter and the setter ?"},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":4,"creation_date":1573047008,"post_id":36625347,"comment_id":103753057,"body_markdown":"Reported as [#1260](https://github.com/rzwitserloot/lombok/issues/1260), and closed with [a workaround](https://github.com/rzwitserloot/lombok/issues/1260#issuecomment-268114093).","body":"Reported as <a href=\"https://github.com/rzwitserloot/lombok/issues/1260\" rel=\"nofollow noreferrer\">#1260</a>, and closed with <a href=\"https://github.com/rzwitserloot/lombok/issues/1260#issuecomment-268114093\" rel=\"nofollow noreferrer\">a workaround</a>."},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1573114405,"post_id":36625347,"comment_id":103777863,"body_markdown":"I fail to see how `BigDecimal`s `equal()` is broken. You could argue Strings are broken in Java since `!&quot;Foo&quot;.equals(&quot;foo&quot;)`","body":"I fail to see how <code>BigDecimal</code>s <code>equal()</code> is broken. You could argue Strings are broken in Java since <code>!&quot;Foo&quot;.equals(&quot;foo&quot;)</code>"},{"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"score":0,"creation_date":1624282145,"post_id":36625347,"comment_id":120308549,"body_markdown":"The link is dead as of now","body":"The link is dead as of now"}],"answers":[{"tags":[],"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573046650,"creation_date":1573046650,"answer_id":58731218,"question_id":36625347,"body_markdown":"Well, it’s not Lombok’s fault, since it is quite unclear how to compare `BigDecimal` in general. Anyway, the following example code presents a solution:\r\n\r\n    import lombok.AccessLevel;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.EqualsAndHashCode;\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    \r\n    import java.math.BigDecimal;\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    public class WithBigDecimals {\r\n    \r\n        private int i;\r\n    \r\n        private String s;\r\n    \r\n        @EqualsAndHashCode.Exclude\r\n        private BigDecimal d;\r\n    \r\n        @Getter(AccessLevel.NONE)\r\n        @Setter(AccessLevel.NONE)\r\n        @ToString.Exclude\r\n        private final BigDecimalComparer _bdc = new BigDecimalComparer();\r\n    \r\n        private class BigDecimalComparer {\r\n            public WithBigDecimals getOuter() {\r\n                return WithBigDecimals.this;\r\n            }\r\n    \r\n            @Override\r\n            public boolean equals(Object obj) {\r\n                if (!(obj instanceof BigDecimalComparer))\r\n                    return false;\r\n                BigDecimalComparer other = (BigDecimalComparer) obj;\r\n                double epsilon = d.doubleValue() / 1000d;\r\n                return d.doubleValue() - epsilon &lt; other.getOuter().d.doubleValue() &amp;&amp;\r\n                        other.getOuter().d.doubleValue() &lt; d.doubleValue() + epsilon;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            var a = new WithBigDecimals(42, &quot;2.4&quot;, new BigDecimal(&quot;2.4&quot;));\r\n            var b = new WithBigDecimals(42, &quot;2.4&quot;, new BigDecimal(&quot;2.40&quot;));\r\n            var c = new WithBigDecimals(42, &quot;2.4&quot;, new BigDecimal(2.4));\r\n    \r\n            System.out.printf(&quot;%s == %s  ??  %b%n&quot;, a, b, a.equals(b));\r\n            System.out.printf(&quot;%s == %s  ??  %b%n&quot;, b, c, b.equals(c));\r\n            System.out.printf(&quot;%s == %s  ??  %b%n&quot;, a, c, a.equals(c));\r\n        }\r\n    \r\n    }\r\n\r\nAs you can see, the `BigDecimal` is exluded from `@EqualsAndHashCode`. To re-inject it, I have created another field which is only privately accessed. It is used in the auto-generated `equals()` method and can provide comparisons at will. I used a simple version of almost-equality here.","title":"How to make Lombok&#39;s EqualsAndHashCode work with BigDecimal","body":"<p>Well, it’s not Lombok’s fault, since it is quite unclear how to compare <code>BigDecimal</code> in general. Anyway, the following example code presents a solution:</p>\n\n<pre><code>import lombok.AccessLevel;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\nimport java.math.BigDecimal;\n\n@Data\n@AllArgsConstructor\npublic class WithBigDecimals {\n\n    private int i;\n\n    private String s;\n\n    @EqualsAndHashCode.Exclude\n    private BigDecimal d;\n\n    @Getter(AccessLevel.NONE)\n    @Setter(AccessLevel.NONE)\n    @ToString.Exclude\n    private final BigDecimalComparer _bdc = new BigDecimalComparer();\n\n    private class BigDecimalComparer {\n        public WithBigDecimals getOuter() {\n            return WithBigDecimals.this;\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            if (!(obj instanceof BigDecimalComparer))\n                return false;\n            BigDecimalComparer other = (BigDecimalComparer) obj;\n            double epsilon = d.doubleValue() / 1000d;\n            return d.doubleValue() - epsilon &lt; other.getOuter().d.doubleValue() &amp;&amp;\n                    other.getOuter().d.doubleValue() &lt; d.doubleValue() + epsilon;\n        }\n    }\n\n    public static void main(String[] args) {\n        var a = new WithBigDecimals(42, \"2.4\", new BigDecimal(\"2.4\"));\n        var b = new WithBigDecimals(42, \"2.4\", new BigDecimal(\"2.40\"));\n        var c = new WithBigDecimals(42, \"2.4\", new BigDecimal(2.4));\n\n        System.out.printf(\"%s == %s  ??  %b%n\", a, b, a.equals(b));\n        System.out.printf(\"%s == %s  ??  %b%n\", b, c, b.equals(c));\n        System.out.printf(\"%s == %s  ??  %b%n\", a, c, a.equals(c));\n    }\n\n}\n</code></pre>\n\n<p>As you can see, the <code>BigDecimal</code> is exluded from <code>@EqualsAndHashCode</code>. To re-inject it, I have created another field which is only privately accessed. It is used in the auto-generated <code>equals()</code> method and can provide comparisons at will. I used a simple version of almost-equality here.</p>\n"},{"tags":[],"owner":{"account_id":5789010,"reputation":3745,"user_id":4567218,"display_name":"Leonid Dashko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1600860426,"creation_date":1600860426,"answer_id":64026932,"question_id":36625347,"body_markdown":"I faced the same issue recently.\r\n\r\nBasically, you see this behavior:\r\n```\r\nBigDecimal x = new BigDecimal(&quot;2&quot;);\r\nBigDecimal y = new BigDecimal(&quot;2.00&quot;);\r\nSystem.out.println(x.equals(y));                              // False\r\nSystem.out.println(x.compareTo(y) == 0 ? &quot;true&quot;: &quot;false&quot;);    // True\r\n```\r\n\r\nThere&#39;s no a good solution that will work out of the box, but you may redefine BigDecimal field value being used in hashCode &amp; equals:  \r\n```\r\n@EqualsAndHashCode\r\nclass Test Class {\r\n\r\n  @EqualsAndHashCode.Exclude\r\n  private BigDecimal amount;\r\n  ...\r\n\r\n  @EqualsAndHashCode.Include\r\n  private BigDecimal getAmountForEquals() {\r\n    return ofNullable(amount).map(BigDecimal::stripTrailingZeros).orElse(null);\r\n  }\r\n}\r\n```","title":"How to make Lombok&#39;s EqualsAndHashCode work with BigDecimal","body":"<p>I faced the same issue recently.</p>\n<p>Basically, you see this behavior:</p>\n<pre><code>BigDecimal x = new BigDecimal(&quot;2&quot;);\nBigDecimal y = new BigDecimal(&quot;2.00&quot;);\nSystem.out.println(x.equals(y));                              // False\nSystem.out.println(x.compareTo(y) == 0 ? &quot;true&quot;: &quot;false&quot;);    // True\n</code></pre>\n<p>There's no a good solution that will work out of the box, but you may redefine BigDecimal field value being used in hashCode &amp; equals:</p>\n<pre><code>@EqualsAndHashCode\nclass Test Class {\n\n  @EqualsAndHashCode.Exclude\n  private BigDecimal amount;\n  ...\n\n  @EqualsAndHashCode.Include\n  private BigDecimal getAmountForEquals() {\n    return ofNullable(amount).map(BigDecimal::stripTrailingZeros).orElse(null);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":175037,"reputation":451,"user_id":404750,"display_name":"blackstrype"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654785272,"creation_date":1654785272,"answer_id":72562189,"question_id":36625347,"body_markdown":"The answers already provided are steps in the right direction. I didn&#39;t want to pull away from my double and I certainly didn&#39;t want to have to rewrite the equals and hash for the other 15 metrics of my class. So I have something similar (hopefully it can help others):\r\n\r\n    /**\r\n     * Calculated percentage \r\n     */\r\n    @EqualsAndHashCode.Exclude\r\n    private Double percentage;\r\n\r\n    /**\r\n     * @return percentage rounded to 5 digits specifically for equals comparison sot\r\n     */\r\n    @EqualsAndHashCode.Include\r\n    private Double percentageForEquals() {\r\n        return Math.round(percentage * 1e5) / 1e5;\r\n    }\r\n","title":"How to make Lombok&#39;s EqualsAndHashCode work with BigDecimal","body":"<p>The answers already provided are steps in the right direction. I didn't want to pull away from my double and I certainly didn't want to have to rewrite the equals and hash for the other 15 metrics of my class. So I have something similar (hopefully it can help others):</p>\n<pre><code>/**\n * Calculated percentage \n */\n@EqualsAndHashCode.Exclude\nprivate Double percentage;\n\n/**\n * @return percentage rounded to 5 digits specifically for equals comparison sot\n */\n@EqualsAndHashCode.Include\nprivate Double percentageForEquals() {\n    return Math.round(percentage * 1e5) / 1e5;\n}\n</code></pre>\n"}],"owner":{"account_id":4624783,"reputation":885,"user_id":3748908,"accept_rate":52,"display_name":"user3748908"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5789,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1654785272,"creation_date":1460642190,"question_id":36625347,"body_markdown":"I have exactly the problem described [here][1]. This is, being `BigDecimal`&#39;s equals being broken as it is, having such a field in a class prevents using `@EqualsAndHashCode`. The only solution I came up with is to `exclude` such fields, but of course this is not optimal.\r\n\r\nIs there any solution? Any way of injecting my own comparator for a field/type?\r\n\r\n\r\n  [1]: http://tech.transferwise.com/fun-with-bigdecimal/","title":"How to make Lombok&#39;s EqualsAndHashCode work with BigDecimal","body":"<p>I have exactly the problem described <a href=\"http://tech.transferwise.com/fun-with-bigdecimal/\" rel=\"noreferrer\">here</a>. This is, being <code>BigDecimal</code>'s equals being broken as it is, having such a field in a class prevents using <code>@EqualsAndHashCode</code>. The only solution I came up with is to <code>exclude</code> such fields, but of course this is not optimal.</p>\n\n<p>Is there any solution? Any way of injecting my own comparator for a field/type?</p>\n"},{"tags":["java","apache-spark","livy"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1654267330,"post_id":72486441,"comment_id":128057329,"body_markdown":"Please [don&#39;t upload text as image](https://meta.stackoverflow.com/a/285557/13447). Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see [ask].","body":"Please <a href=\"https://meta.stackoverflow.com/a/285557/13447\">don&#39;t upload text as image</a>. Edit your question to contain all the information in text form - consider to use the editor&#39;s formatting options. Also see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1654438084,"post_id":72486441,"comment_id":128085815,"body_markdown":"Your Java command is using a Windows path, but then referencing /d/ folder paths... Something in your path is misconfigured and you should only need CMD, not Git bash. Although WSL2 might work better, overall","body":"Your Java command is using a Windows path, but then referencing /d/ folder paths... Something in your path is misconfigured and you should only need CMD, not Git bash. Although WSL2 might work better, overall"}],"answers":[{"tags":[],"owner":{"account_id":12511310,"reputation":606,"user_id":9106312,"display_name":"Mirza Asad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654784641,"creation_date":1654784641,"answer_id":72562039,"question_id":72486441,"body_markdown":"The error got resolved when I used Windows Subsystem for Linux (WSL).","title":"Apache Livy : Could not find or load main class org.apache.livy.server.LivyServer","body":"<p>The error got resolved when I used Windows Subsystem for Linux (WSL).</p>\n"}],"owner":{"account_id":12511310,"reputation":606,"user_id":9106312,"display_name":"Mirza Asad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72562039,"answer_count":1,"score":0,"last_activity_date":1654784641,"creation_date":1654243103,"question_id":72486441,"body_markdown":"I am trying to start Apache Livy 0.8.0 server on my windows 10 machine for spark 3.1.2 and hadoop 3.2.1. I am taking help from [here.][1]. I have successfully built apache livy using maven (I have attached a [![screenshot][2]][2] of it) But I am not able to run the livy server. When I run it I get the following error -\r\n\r\n```\r\n&gt; starting C:/AmazonJDK/jdk1.8.0_332/bin/java  -cp /d/ApacheLivy/incubator-livy-master/incubator-livy-master/server/target/jars/*:/d/ApacheLivy/incubator-livy-master/incubator-livy-master/conf:D:/Program_files/spark/conf:D:/ApacheHadoop/hadoop-3.2.1/etc/hadoop: org.apache.livy.server.LivyServer, logging to D:/ApacheLivy/incubator-livy-master/incubator-livy-master/logs/livy--server.out\r\nps: unknown option -- o\r\nTry `ps --help&#39; for more information.\r\nfailed to launch C:/AmazonJDK/jdk1.8.0_332/bin/java  -cp /d/ApacheLivy/incubator-livy-master/incubator-livy-master/server/target/jars/*:/d/ApacheLivy/incubator-livy-master/incubator-livy-master/conf:D:/Program_files/spark/conf:D:/ApacheHadoop/hadoop-3.2.1/etc/hadoop: org.apache.livy.server.LivyServer:\r\n  Error: Could not find or load main class org.apache.livy.server.LivyServer\r\nfull log in D:/ApacheLivy/incubator-livy-master/incubator-livy-master/logs/livy--server.out\r\n```\r\n\r\nI am using Git bash. If you need more information I will provide\r\n\r\n\r\n  [1]: https://jtaras.medium.com/building-apache-livy-0-8-0-for-spark-3-x-9bdfe1a66bd7\r\n  [2]: https://i.stack.imgur.com/8BLAh.png","title":"Apache Livy : Could not find or load main class org.apache.livy.server.LivyServer","body":"<p>I am trying to start Apache Livy 0.8.0 server on my windows 10 machine for spark 3.1.2 and hadoop 3.2.1. I am taking help from <a href=\"https://jtaras.medium.com/building-apache-livy-0-8-0-for-spark-3-x-9bdfe1a66bd7\" rel=\"nofollow noreferrer\">here.</a>. I have successfully built apache livy using maven (I have attached a <a href=\"https://i.stack.imgur.com/8BLAh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8BLAh.png\" alt=\"screenshot\" /></a> of it) But I am not able to run the livy server. When I run it I get the following error -</p>\n<pre><code>&gt; starting C:/AmazonJDK/jdk1.8.0_332/bin/java  -cp /d/ApacheLivy/incubator-livy-master/incubator-livy-master/server/target/jars/*:/d/ApacheLivy/incubator-livy-master/incubator-livy-master/conf:D:/Program_files/spark/conf:D:/ApacheHadoop/hadoop-3.2.1/etc/hadoop: org.apache.livy.server.LivyServer, logging to D:/ApacheLivy/incubator-livy-master/incubator-livy-master/logs/livy--server.out\nps: unknown option -- o\nTry `ps --help' for more information.\nfailed to launch C:/AmazonJDK/jdk1.8.0_332/bin/java  -cp /d/ApacheLivy/incubator-livy-master/incubator-livy-master/server/target/jars/*:/d/ApacheLivy/incubator-livy-master/incubator-livy-master/conf:D:/Program_files/spark/conf:D:/ApacheHadoop/hadoop-3.2.1/etc/hadoop: org.apache.livy.server.LivyServer:\n  Error: Could not find or load main class org.apache.livy.server.LivyServer\nfull log in D:/ApacheLivy/incubator-livy-master/incubator-livy-master/logs/livy--server.out\n</code></pre>\n<p>I am using Git bash. If you need more information I will provide</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1652522245,"post_id":72239046,"comment_id":127629850,"body_markdown":"I would rather ask why would you do that instead of using a class. Just to avoid the private constructor?","body":"I would rather ask why would you do that instead of using a class. Just to avoid the private constructor?"},{"owner":{"account_id":25288602,"reputation":23,"user_id":19115113,"display_name":"Patel Muhammad"},"score":0,"creation_date":1652523847,"post_id":72239046,"comment_id":127630108,"body_markdown":"I thought it would strangely fit what the class itself was, that is, it could not be instantiated and did not have any variables","body":"I thought it would strangely fit what the class itself was, that is, it could not be instantiated and did not have any variables"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1652526617,"post_id":72239046,"comment_id":127630566,"body_markdown":"This is asking for opinions, and thus off-topic. However, I want to point you to the similar question of defining constants in interfaces: [What is the use of interface constants?](https://stackoverflow.com/questions/2659593/what-is-the-use-of-interface-constants), as - in my opinion - the accepted answer applies equally for this case.","body":"This is asking for opinions, and thus off-topic. However, I want to point you to the similar question of defining constants in interfaces: <a href=\"https://stackoverflow.com/questions/2659593/what-is-the-use-of-interface-constants\">What is the use of interface constants?</a>, as - in my opinion - the accepted answer applies equally for this case."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654784252,"creation_date":1652522355,"answer_id":72239130,"question_id":72239046,"body_markdown":"Although this is possible interfaces should be used\r\n\r\n&gt; when it is important for disparate groups of programmers to agree to a &quot;contract&quot; that spells out how their software interacts. Each group should be able to write their code without any knowledge of how the other group&#39;s code is written. Generally speaking, interfaces are such contracts.\r\n\r\nhttps://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html\r\n\r\nInterfaces should be defined as an abstract type used to specify the behavior of a class; therefore they&#39;re meant to be later implemented. \r\n\r\nWhat you&#39;re trying to do is not completely wrong (interfaces can offer static methods), but it&#39;s definitely not what they were designed for. If you want to offer a set of static utilities from a common &quot;place&quot;, you could declare a final class with a private constructor, in order to prevent its extension (with possible methods overriding), and avoid its instantiation. The `Math` class is a perfect example of this. \r\n\r\nAlternatively, if you want to declare instances of said class, you could declare your class normally, then declare its methods as final (to prevent their overriding) and offer a public constructor or a factory method.","title":"Interfaces and static methods in java","body":"<p>Although this is possible interfaces should be used</p>\n<blockquote>\n<p>when it is important for disparate groups of programmers to agree to a &quot;contract&quot; that spells out how their software interacts. Each group should be able to write their code without any knowledge of how the other group's code is written. Generally speaking, interfaces are such contracts.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html</a></p>\n<p>Interfaces should be defined as an abstract type used to specify the behavior of a class; therefore they're meant to be later implemented.</p>\n<p>What you're trying to do is not completely wrong (interfaces can offer static methods), but it's definitely not what they were designed for. If you want to offer a set of static utilities from a common &quot;place&quot;, you could declare a final class with a private constructor, in order to prevent its extension (with possible methods overriding), and avoid its instantiation. The <code>Math</code> class is a perfect example of this.</p>\n<p>Alternatively, if you want to declare instances of said class, you could declare your class normally, then declare its methods as final (to prevent their overriding) and offer a public constructor or a factory method.</p>\n"},{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1652522374,"creation_date":1652522374,"answer_id":72239133,"question_id":72239046,"body_markdown":"A program is not just a set of instructions for a computer to obey.  It&#39;s also a message to future developers.  You should use the statements in your program to indicate to other developers (or even yourself a few months into the future), what you intend for the computer to do.\r\n\r\nThat&#39;s why we give variables, methods and classes clear names.  It&#39;s why we lay out our programs in certain expected ways.  It&#39;s why we use indentation consistently, and why we have naming conventions.\r\n\r\nOne of those conventions is that if you have a bunch of static methods that need to be organised together, they should be organised into a class, not an interface.  Whether or not it&#39;s technically possible to put all your methods into an interface is not the question you should be asking.  What matters is how to communicate most efficiently what you&#39;re actually intending to do.\r\n\r\nTo that end, please don&#39;t set up your program in strange, innovative ways.  You&#39;re just going to confuse and annoy people.","title":"Interfaces and static methods in java","body":"<p>A program is not just a set of instructions for a computer to obey.  It's also a message to future developers.  You should use the statements in your program to indicate to other developers (or even yourself a few months into the future), what you intend for the computer to do.</p>\n<p>That's why we give variables, methods and classes clear names.  It's why we lay out our programs in certain expected ways.  It's why we use indentation consistently, and why we have naming conventions.</p>\n<p>One of those conventions is that if you have a bunch of static methods that need to be organised together, they should be organised into a class, not an interface.  Whether or not it's technically possible to put all your methods into an interface is not the question you should be asking.  What matters is how to communicate most efficiently what you're actually intending to do.</p>\n<p>To that end, please don't set up your program in strange, innovative ways.  You're just going to confuse and annoy people.</p>\n"}],"owner":{"account_id":25288602,"reputation":23,"user_id":19115113,"display_name":"Patel Muhammad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1652555640,"accepted_answer_id":72239133,"answer_count":2,"score":2,"last_activity_date":1654784252,"creation_date":1652521655,"question_id":72239046,"body_markdown":"It occurred to me that interfaces cannot be instantiated and hence I could create an interface containing only a bunch of static utilities methods that I need as opposed to a regular class with a private constructor and public static methods. Any comments on that? Should I do it or does it not really matter?","title":"Interfaces and static methods in java","body":"<p>It occurred to me that interfaces cannot be instantiated and hence I could create an interface containing only a bunch of static utilities methods that I need as opposed to a regular class with a private constructor and public static methods. Any comments on that? Should I do it or does it not really matter?</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1654781439,"post_id":72561140,"comment_id":128177715,"body_markdown":"So you want to be able to do `myFunction(MyState.State1)` *and also* `myFunction(MyState.State1(&quot;foo&quot;))`, or just the first one? In other words, is `myFunction` checking which state, or is it also checking `someString`?","body":"So you want to be able to do <code>myFunction(MyState.State1)</code> <i>and also</i> <code>myFunction(MyState.State1(&quot;foo&quot;))</code>, or just the first one? In other words, is <code>myFunction</code> checking which state, or is it also checking <code>someString</code>?"},{"owner":{"account_id":15564616,"reputation":1279,"user_id":11228798,"display_name":"Mehdi Satei"},"score":0,"creation_date":1654781568,"post_id":72561140,"comment_id":128177780,"body_markdown":"No. I want to send a class of MyState to myFunction to compare the classes. \nI think I should be using something with KClass","body":"No. I want to send a class of MyState to myFunction to compare the classes.  I think I should be using something with KClass"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1654781844,"post_id":72561140,"comment_id":128177901,"body_markdown":"Can you use inline generics? `inline &lt;reified T : MyState&gt; myFunction&lt;T&gt;() { val newState1 = ...; return newState1 is T ... }`","body":"Can you use inline generics? <code>inline &lt;reified T : MyState&gt; myFunction&lt;T&gt;() { val newState1 = ...; return newState1 is T ... }</code>"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654784105,"creation_date":1654784105,"answer_id":72561903,"question_id":72561140,"body_markdown":"You should use `kotlin.reflect.KClass` instead of `java.lang.Class` as you are writing Kotlin, and you should use [`isInstance`][1] to check if something is an instance of a given `KClass`. \r\n\r\n```\r\nfun myFunction(conditionStateClass: KClass&lt;out MyState&gt;): Boolean {\r\n    val newState1 = MyState.State1(&quot;foo&quot;)\r\n    val newState2 = MyState.State2\r\n    return conditionStateClass.isInstance(newState1) || conditionStateClass.isInstance(newState2)\r\n}\r\n\r\n// Usage:\r\nmyFunction(MyState.State1::class)\r\n```\r\n\r\nAlternatively, use an inline function with a `reified` type parameter:\r\n\r\n```\r\ninline fun &lt;reified T: MyState&gt; myFunction(): Boolean {\r\n    val newState1 = MyState.State1(&quot;foo&quot;)\r\n    val newState2 = MyState.State2\r\n    return newState1 is T || newState2 is T\r\n}\r\n\r\n// Usage:\r\nmyFunction&lt;MyState.State1&gt;()\r\n```\r\n\r\nThough this isn&#39;t always possible, if `myFunction` uses private members.\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/is-instance.html","title":"Kotlin sending an instance of sealed class as function parameter","body":"<p>You should use <code>kotlin.reflect.KClass</code> instead of <code>java.lang.Class</code> as you are writing Kotlin, and you should use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/is-instance.html\" rel=\"nofollow noreferrer\"><code>isInstance</code></a> to check if something is an instance of a given <code>KClass</code>.</p>\n<pre><code>fun myFunction(conditionStateClass: KClass&lt;out MyState&gt;): Boolean {\n    val newState1 = MyState.State1(&quot;foo&quot;)\n    val newState2 = MyState.State2\n    return conditionStateClass.isInstance(newState1) || conditionStateClass.isInstance(newState2)\n}\n\n// Usage:\nmyFunction(MyState.State1::class)\n</code></pre>\n<p>Alternatively, use an inline function with a <code>reified</code> type parameter:</p>\n<pre><code>inline fun &lt;reified T: MyState&gt; myFunction(): Boolean {\n    val newState1 = MyState.State1(&quot;foo&quot;)\n    val newState2 = MyState.State2\n    return newState1 is T || newState2 is T\n}\n\n// Usage:\nmyFunction&lt;MyState.State1&gt;()\n</code></pre>\n<p>Though this isn't always possible, if <code>myFunction</code> uses private members.</p>\n"}],"owner":{"account_id":15564616,"reputation":1279,"user_id":11228798,"display_name":"Mehdi Satei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1035,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72561903,"answer_count":1,"score":3,"last_activity_date":1654784105,"creation_date":1654781181,"question_id":72561140,"body_markdown":"I have a sealed class which I&#39;d like to send instances of it to another function as an argument. The function should then compare a local instance of sealed class with its argument. How can I achieve this?\r\n\r\n    sealed class MyState {\r\n        data class State1(val someString: String): MyState()\r\n        object State2: MyState()\r\n        object State3: MyState()\r\n    }\r\n\r\nThe function\r\n\r\n    fun myFunction(conditionStateClass: Class&lt;MyState&gt;): Boolean {\r\n        val newState1 = MyState.State1(&quot;foo&quot;)\r\n        val newState2 = MyState.State2\r\n        return newState::class.java == conditionState || newState2::class.java == conditionState // Not possible\r\n    }\r\n\r\n\r\nAnd I&#39;d like to call the function\r\n\r\n    myFunction(MyState.State1::class.java)\r\n\r\nI know this is wrong. How can I achieve a similar thing?","title":"Kotlin sending an instance of sealed class as function parameter","body":"<p>I have a sealed class which I'd like to send instances of it to another function as an argument. The function should then compare a local instance of sealed class with its argument. How can I achieve this?</p>\n<pre><code>sealed class MyState {\n    data class State1(val someString: String): MyState()\n    object State2: MyState()\n    object State3: MyState()\n}\n</code></pre>\n<p>The function</p>\n<pre><code>fun myFunction(conditionStateClass: Class&lt;MyState&gt;): Boolean {\n    val newState1 = MyState.State1(&quot;foo&quot;)\n    val newState2 = MyState.State2\n    return newState::class.java == conditionState || newState2::class.java == conditionState // Not possible\n}\n</code></pre>\n<p>And I'd like to call the function</p>\n<pre><code>myFunction(MyState.State1::class.java)\n</code></pre>\n<p>I know this is wrong. How can I achieve a similar thing?</p>\n"},{"tags":["java","null","freemarker"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1399041405,"post_id":23430636,"comment_id":35909365,"body_markdown":"Which versions of Freemarker and Java are you using? Also, are you using any other framework that help you tie these technologies?","body":"Which versions of Freemarker and Java are you using? Also, are you using any other framework that help you tie these technologies?"},{"owner":{"account_id":2530431,"reputation":55,"user_id":2198839,"accept_rate":75,"display_name":"tosovvoj"},"score":0,"creation_date":1399289840,"post_id":23430636,"comment_id":35985324,"body_markdown":"I am using freeMarker 2.3.20 and java 1.7. No I do not use any other framework.","body":"I am using freeMarker 2.3.20 and java 1.7. No I do not use any other framework."},{"owner":{"account_id":12210830,"reputation":335,"user_id":8912667,"display_name":"Fabien MIFSUD"},"score":0,"creation_date":1607095115,"post_id":23430636,"comment_id":115172586,"body_markdown":"Can you transform your transaction object into a flat map to simplify everything ?","body":"Can you transform your transaction object into a flat map to simplify everything ?"},{"owner":{"account_id":2530431,"reputation":55,"user_id":2198839,"accept_rate":75,"display_name":"tosovvoj"},"score":0,"creation_date":1607121633,"post_id":23430636,"comment_id":115182736,"body_markdown":"I do not see any easy way how to do it. It seems like a lot of work.","body":"I do not see any easy way how to do it. It seems like a lot of work."}],"answers":[{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1399053673,"creation_date":1399053673,"answer_id":23434245,"question_id":23430636,"body_markdown":"If you need to show a dummy data model to the templates, your best bet is probably a custom `ObjectWrapper` (see `Configuration.setObjectWrapper`). Everything that reads the data model runs through the `TemplateModel`-s, and the root `TemplateModel` is made by the `ObjectWrapper`, thus it can control what values the templates get for what names. But the question is, when you have to return a dummy value for a name, how can you tell what its type will be? It&#39;s not just about finding out if it will be a string or a number, but also if it will be a method (like `getNestedObject2`) or a hash (something that can be followed by `.`). What can help there is that FreeMarker allows a value to have multiple types, so you can return a value that can be used as a method and as a hash and as a string, for example. Depending on the application that hack is might be good enough, except, you still have to decide if the value is a string or a number, because `${}` will print the numerical value if the value both a string and a number.","title":"Handling null in Freemarker","body":"<p>If you need to show a dummy data model to the templates, your best bet is probably a custom <code>ObjectWrapper</code> (see <code>Configuration.setObjectWrapper</code>). Everything that reads the data model runs through the <code>TemplateModel</code>-s, and the root <code>TemplateModel</code> is made by the <code>ObjectWrapper</code>, thus it can control what values the templates get for what names. But the question is, when you have to return a dummy value for a name, how can you tell what its type will be? It's not just about finding out if it will be a string or a number, but also if it will be a method (like <code>getNestedObject2</code>) or a hash (something that can be followed by <code>.</code>). What can help there is that FreeMarker allows a value to have multiple types, so you can return a value that can be used as a method and as a hash and as a string, for example. Depending on the application that hack is might be good enough, except, you still have to decide if the value is a string or a number, because <code>${}</code> will print the numerical value if the value both a string and a number.</p>\n"}],"owner":{"account_id":2530431,"reputation":55,"user_id":2198839,"accept_rate":75,"display_name":"tosovvoj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1070,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654784016,"creation_date":1399041154,"question_id":23430636,"body_markdown":"**Situation:**\r\n\r\n - Old java project using freemarker has many finished templates working great.\r\n - Every template is using data form Transaction object.\r\n - This transaction object is very large, because wraps all data about transaction.\r\n - In templates is a lot of expression like this:\r\n    get(&quot;object1&quot;).getNestedObject2().getNestedObject3().getValue();\r\n\r\n\r\n\r\n\r\n**Problem:**\r\nNew requirements appear: All templates have to be process for preview with no real data. All numbers should be Zero and all string should be ---. \r\n\r\n**Unsatisfactory solutions:**\r\n\r\n\r\n 1. Remake all  templates to check null values. (Lot of work and not safe)\r\n 2. Create Transaction object that contains all default value. (Lot of work)\r\n\r\n\r\nWell my question is: Can I say to Freemarker, that if he finds null or finds null along the way, that he should use 0 instead if he was expecting number or --- if he was expecting String.\r\n\r\nOr do you see any better solution?","title":"Handling null in Freemarker","body":"<p><strong>Situation:</strong></p>\n<ul>\n<li>Old java project using freemarker has many finished templates working great.</li>\n<li>Every template is using data form Transaction object.</li>\n<li>This transaction object is very large, because wraps all data about transaction.</li>\n<li>In templates is a lot of expression like this:\nget(&quot;object1&quot;).getNestedObject2().getNestedObject3().getValue();</li>\n</ul>\n<p><strong>Problem:</strong>\nNew requirements appear: All templates have to be process for preview with no real data. All numbers should be Zero and all string should be ---.</p>\n<p><strong>Unsatisfactory solutions:</strong></p>\n<ol>\n<li>Remake all  templates to check null values. (Lot of work and not safe)</li>\n<li>Create Transaction object that contains all default value. (Lot of work)</li>\n</ol>\n<p>Well my question is: Can I say to Freemarker, that if he finds null or finds null along the way, that he should use 0 instead if he was expecting number or --- if he was expecting String.</p>\n<p>Or do you see any better solution?</p>\n"},{"tags":["java","hibernate","criteriabuilder"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1654785990,"post_id":72561833,"comment_id":128179743,"body_markdown":"`method createQuery from sessions only accepts String` what hibernate version are you using? It should definitely accept `CriteriaQuery` directly as well, leaving you with `session.createQuery(queryConcepts)...`","body":"<code>method createQuery from sessions only accepts String</code> what hibernate version are you using? It should definitely accept <code>CriteriaQuery</code> directly as well, leaving you with <code>session.createQuery(queryConcepts)...</code>"},{"owner":{"account_id":8084699,"reputation":1,"user_id":6092618,"display_name":"Hugo Marinho"},"score":0,"creation_date":1654786725,"post_id":72561833,"comment_id":128180063,"body_markdown":"I am using hibernate-core 4.2.0","body":"I am using hibernate-core 4.2.0"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1654842549,"post_id":72561833,"comment_id":128192872,"body_markdown":"Any reason to use a version thats 9 years old? You will have an easier time using an up to date version","body":"Any reason to use a version thats 9 years old? You will have an easier time using an up to date version"},{"owner":{"account_id":8084699,"reputation":1,"user_id":6092618,"display_name":"Hugo Marinho"},"score":0,"creation_date":1655461570,"post_id":72561833,"comment_id":128343416,"body_markdown":"Yes I understand that a new version will resolve my problem but right now I can&#39;t do update for a new version of Hibernate","body":"Yes I understand that a new version will resolve my problem but right now I can&#39;t do update for a new version of Hibernate"}],"owner":{"account_id":8084699,"reputation":1,"user_id":6092618,"display_name":"Hugo Marinho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654783862,"creation_date":1654783862,"question_id":72561833,"body_markdown":"I am required to use StatelessSession because of the memory consumption when handling millions of rows and the method createQuery from sessions only accepts String.\r\n\r\nThe code looks like this:\r\n\r\n \r\n\r\n    StatelessSession session = ((Session) EntityManager\r\n                        .getDelegate()).getSessionFactory().openStatelessSession();\r\n    \t\t\t\t\t\r\n    CriteriaBuilder criteriaBuilder = EntityManager\r\n                        .getCriteriaBuilder();\r\n    \r\n    CriteriaQuery&lt;Concepts&gt; queryConcepts = criteriaBuilder\r\n                        .createQuery(Concepts.class);\r\n    \r\n    Root&lt;Concepts&gt; rootConcepts = queryConcepts\r\n                        .from(Concepts.class);\r\n    Root&lt;TecAccountingExportTemp&gt; rootExportTemp = queryConcepts\r\n                        .from(ExportTemp.class);\r\n    \r\n    rootConcepts.alias(&quot;a&quot;);\r\n    rootExportTemp.alias(&quot;b&quot;);\r\n    \r\n    queryConcepts\r\n             .select(rootConcepts);\r\n    \r\n    Predicate fieldIdCab = criteriaBuilder\r\n              .equal(rootConcepts\r\n              .get(Concepts.XPTO_NAME),\r\n                                rootExportTemp\r\n                                        .get(ExportTemp.XPTO_NAME));\r\n    \r\n    Predicate fieldKey = criteriaBuilder.equal(\r\n                        rootExportTemp\r\n                                .get(ExportTemp.KEY_NAME),\r\n                        ExportTmpType.CONCEPTS.getValue());\r\n    \r\n    Predicate fieldExportId = criteriaBuilder.equal(\r\n                        rootExportTemp\r\n                                .get(ExportTemp.ID_NAME),\r\n                        tecAccountingExport.getId());\r\n    \r\n    Predicate predicateFilter = criteriaBuilder.and(fieldIdCab,\r\n                        fieldKey, fieldExportId);\r\n    \r\n    queryConcepts.where(predicateFilter);\r\n    \t\t\t\r\n    TypedQuery&lt;Concepts&gt; query = EntityManager\r\n                        .createQuery(queryConcepts);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    Query scrollQuery = query.unwrap(org.hibernate.Query.class);\r\n    \t\t\t\t\t\r\n    \r\n    scrollconcepts = session\r\n                        .createQuery(\r\n                                scrollQuery.getQueryString()).setReadOnly(true)\r\n                        .setFetchSize(maxCachedRecords).setCacheable(false)\r\n                        .scroll(ScrollMode.FORWARD_ONLY);\r\n\r\n\r\nThe problem is that when the parameters are an instance of String, the scrollQuery.getQueryString() doesn&#39;t place the variable values correctly, they are like (xpto=:param1...) instead of what happens when the parameters are an instance of Integer (xpto=1 - correctly formating param1 as 1).\r\n\r\nCan someone help me? ","title":"CriteriaBuilder + Hibernate StatelessSession create sql","body":"<p>I am required to use StatelessSession because of the memory consumption when handling millions of rows and the method createQuery from sessions only accepts String.</p>\n<p>The code looks like this:</p>\n<pre><code>StatelessSession session = ((Session) EntityManager\n                    .getDelegate()).getSessionFactory().openStatelessSession();\n                    \nCriteriaBuilder criteriaBuilder = EntityManager\n                    .getCriteriaBuilder();\n\nCriteriaQuery&lt;Concepts&gt; queryConcepts = criteriaBuilder\n                    .createQuery(Concepts.class);\n\nRoot&lt;Concepts&gt; rootConcepts = queryConcepts\n                    .from(Concepts.class);\nRoot&lt;TecAccountingExportTemp&gt; rootExportTemp = queryConcepts\n                    .from(ExportTemp.class);\n\nrootConcepts.alias(&quot;a&quot;);\nrootExportTemp.alias(&quot;b&quot;);\n\nqueryConcepts\n         .select(rootConcepts);\n\nPredicate fieldIdCab = criteriaBuilder\n          .equal(rootConcepts\n          .get(Concepts.XPTO_NAME),\n                            rootExportTemp\n                                    .get(ExportTemp.XPTO_NAME));\n\nPredicate fieldKey = criteriaBuilder.equal(\n                    rootExportTemp\n                            .get(ExportTemp.KEY_NAME),\n                    ExportTmpType.CONCEPTS.getValue());\n\nPredicate fieldExportId = criteriaBuilder.equal(\n                    rootExportTemp\n                            .get(ExportTemp.ID_NAME),\n                    tecAccountingExport.getId());\n\nPredicate predicateFilter = criteriaBuilder.and(fieldIdCab,\n                    fieldKey, fieldExportId);\n\nqueryConcepts.where(predicateFilter);\n            \nTypedQuery&lt;Concepts&gt; query = EntityManager\n                    .createQuery(queryConcepts);\n                    \n                    \nQuery scrollQuery = query.unwrap(org.hibernate.Query.class);\n                    \n\nscrollconcepts = session\n                    .createQuery(\n                            scrollQuery.getQueryString()).setReadOnly(true)\n                    .setFetchSize(maxCachedRecords).setCacheable(false)\n                    .scroll(ScrollMode.FORWARD_ONLY);\n</code></pre>\n<p>The problem is that when the parameters are an instance of String, the scrollQuery.getQueryString() doesn't place the variable values correctly, they are like (xpto=:param1...) instead of what happens when the parameters are an instance of Integer (xpto=1 - correctly formating param1 as 1).</p>\n<p>Can someone help me?</p>\n"},{"tags":["javascript","java","android","server","sails.js"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1654783794,"post_id":72561804,"comment_id":128178747,"body_markdown":"This is pretty broad. What is the specific issue?","body":"This is pretty broad. What is the specific issue?"},{"owner":{"account_id":19663038,"reputation":23,"user_id":14394103,"display_name":"imaluris"},"score":0,"creation_date":1654876598,"post_id":72561804,"comment_id":128204984,"body_markdown":"i update server and cliient in github repo. This is the java class where i ask for data .https://github.com/imaluris/FalesieInItalia-Client/blob/main/app/src/main/java/com/example/falesieinitalia/ListaFalesie.java","body":"i update server and cliient in github repo. This is the java class where i ask for data .<a href=\"https://github.com/imaluris/FalesieInItalia-Client/blob/main/app/src/main/java/com/example/falesieinitalia/ListaFalesie.java\" rel=\"nofollow noreferrer\">github.com/imaluris/FalesieInItalia-Client/blob/main/app/sr&zwnj;&#8203;c/&hellip;</a>"},{"owner":{"account_id":19663038,"reputation":23,"user_id":14394103,"display_name":"imaluris"},"score":0,"creation_date":1654876698,"post_id":72561804,"comment_id":128205017,"body_markdown":"and this is the server with model named Falesia. https://github.com/imaluris/FalesieInItalia-Server","body":"and this is the server with model named Falesia. <a href=\"https://github.com/imaluris/FalesieInItalia-Server\" rel=\"nofollow noreferrer\">github.com/imaluris/FalesieInItalia-Server</a>"},{"owner":{"account_id":19663038,"reputation":23,"user_id":14394103,"display_name":"imaluris"},"score":0,"creation_date":1654876819,"post_id":72561804,"comment_id":128205061,"body_markdown":"i need to know how get data from client to server. When i request data i need to send also some parameters to server. How can i do?","body":"i need to know how get data from client to server. When i request data i need to send also some parameters to server. How can i do?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1654877953,"post_id":72561804,"comment_id":128205412,"body_markdown":"Are you asking how to make an HTTP request with parameters in Android?","body":"Are you asking how to make an HTTP request with parameters in Android?"},{"owner":{"account_id":19663038,"reputation":23,"user_id":14394103,"display_name":"imaluris"},"score":0,"creation_date":1655117832,"post_id":72561804,"comment_id":128246546,"body_markdown":"I already did an HTTP request, but without parameters. I&#39;d like to know how put in the request parameters and how do get this parameters from the Sails.js server correctly.","body":"I already did an HTTP request, but without parameters. I&#39;d like to know how put in the request parameters and how do get this parameters from the Sails.js server correctly."}],"owner":{"account_id":19663038,"reputation":23,"user_id":14394103,"display_name":"imaluris"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654783719,"creation_date":1654783719,"question_id":72561804,"body_markdown":"i have an android app and a server with sails.js. In this server i have a model. I&#39;d like to know how can i get the data in this model from my android app?\r\nI should also filter this data before receiving them in the app.\r\n\r\nCan anyone help me?\r\n\r\nThank you.\r\n","title":"How can i get data from a sails.js DB server to an android app?","body":"<p>i have an android app and a server with sails.js. In this server i have a model. I'd like to know how can i get the data in this model from my android app?\nI should also filter this data before receiving them in the app.</p>\n<p>Can anyone help me?</p>\n<p>Thank you.</p>\n"},{"tags":["java","oracle","nashorn","sqlcl"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1654784524,"post_id":72561796,"comment_id":128179077,"body_markdown":"See here - https://www.thatjeffsmith.com/archive/2022/04/running-javascript-in-oracle-sqlcl-22-1/","body":"See here - <a href=\"https://www.thatjeffsmith.com/archive/2022/04/running-javascript-in-oracle-sqlcl-22-1/\" rel=\"nofollow noreferrer\">thatjeffsmith.com/archive/2022/04/&hellip;</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1654794013,"post_id":72561796,"comment_id":128182857,"body_markdown":"Using GraalVM is one option but Nashorn has been open sourced. I imagine you could just add it to your environment although I don&#39;t know what steps are needed. https://github.com/openjdk/nashorn/","body":"Using GraalVM is one option but Nashorn has been open sourced. I imagine you could just add it to your environment although I don&#39;t know what steps are needed. <a href=\"https://github.com/openjdk/nashorn/\" rel=\"nofollow noreferrer\">github.com/openjdk/nashorn</a>"}],"owner":{"account_id":1171448,"reputation":1083,"user_id":1148545,"accept_rate":50,"display_name":"Skytunnel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654783696,"creation_date":1654783696,"question_id":72561796,"body_markdown":"\n\nRecently upgraded to SQL Developer \n21.4.3.063.0100 on Java 1.8.0_311 from 18.1.0.095.1630 on Java 1.8.0_152\n\n And now all scripts running through the sqlcl component fail on startup\n\n    Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\n    \n    \n    SQLcl: Release 21.4 Production on Thu Jun 09 14:21:56 2022\n    \n    Copyright (c) 1982, 2022, Oracle. All rights reserved.\n    \n    !ScriptCommand.1!!ScriptCommand.1!js language engine not found\n    Please add js language engine to the classpath\n    SQL&gt; show java\n    Java Detail\n    -----------\n    java.home= C:\\Program Files\\SQL Developer 21.4.3\\jdk\\jre\n    java.vendor= Oracle Corporation\n    java.vendor.url= http://java.oracle.com/\n    java.version= 1.8.0_311\n    --------------------------------------------------------------------------------\n    os.arch= amd64\n    os.name= Windows 10\n    os.version= 10.0\n    \n    SQL&gt; version\n    Oracle SQLDeveloper Command-Line (SQLcl) version: 21.4.2.0 build: 21.4.2.59.1646\n\nCommand line used to start up sqlcl instance:\n\n    %COMSPEC% /Q /C SET SQLPATH=%CD%&amp;SET /P JAVA_TOOL_OPTIONS=&lt;utf8.txt&amp;C:\\Program Files\\SQL Developer\\sqldeveloper\\bin\\sql.exe&quot; /nolog\n\nMy login.sql file does run js scripts to automatically manage connections\n\nWhat is the resolution for this?\n\nNoting I’ve seen stuff about Nashorn being deprecated; would that be the cause?  If it’s deprecated is there a replacement?  I’ve a lot setup on it.","title":"SQLcl Nashorn js missing on upgrade?","body":"<p>Recently upgraded to SQL Developer\n21.4.3.063.0100 on Java 1.8.0_311 from 18.1.0.095.1630 on Java 1.8.0_152</p>\n<p>And now all scripts running through the sqlcl component fail on startup</p>\n<pre><code>Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\n\n\nSQLcl: Release 21.4 Production on Thu Jun 09 14:21:56 2022\n\nCopyright (c) 1982, 2022, Oracle. All rights reserved.\n\n!ScriptCommand.1!!ScriptCommand.1!js language engine not found\nPlease add js language engine to the classpath\nSQL&gt; show java\nJava Detail\n-----------\njava.home= C:\\Program Files\\SQL Developer 21.4.3\\jdk\\jre\njava.vendor= Oracle Corporation\njava.vendor.url= http://java.oracle.com/\njava.version= 1.8.0_311\n--------------------------------------------------------------------------------\nos.arch= amd64\nos.name= Windows 10\nos.version= 10.0\n\nSQL&gt; version\nOracle SQLDeveloper Command-Line (SQLcl) version: 21.4.2.0 build: 21.4.2.59.1646\n</code></pre>\n<p>Command line used to start up sqlcl instance:</p>\n<pre><code>%COMSPEC% /Q /C SET SQLPATH=%CD%&amp;SET /P JAVA_TOOL_OPTIONS=&lt;utf8.txt&amp;C:\\Program Files\\SQL Developer\\sqldeveloper\\bin\\sql.exe&quot; /nolog\n</code></pre>\n<p>My login.sql file does run js scripts to automatically manage connections</p>\n<p>What is the resolution for this?</p>\n<p>Noting I’ve seen stuff about Nashorn being deprecated; would that be the cause?  If it’s deprecated is there a replacement?  I’ve a lot setup on it.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"score":2,"creation_date":1654731485,"post_id":72553077,"comment_id":128164627,"body_markdown":"Can you include the stack trace of your crash to see where the problem is.","body":"Can you include the stack trace of your crash to see where the problem is."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654746559,"post_id":72553077,"comment_id":128166706,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":25413418,"reputation":13,"user_id":19220813,"display_name":"Bishop"},"score":0,"creation_date":1654757569,"post_id":72553077,"comment_id":128168886,"body_markdown":"Hello @DanielKnauf I&#39;ll add the error displayed in my logcat to the code","body":"Hello @DanielKnauf I&#39;ll add the error displayed in my logcat to the code"}],"answers":[{"tags":[],"owner":{"account_id":23787141,"reputation":559,"user_id":17799032,"display_name":"Daniel Knauf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654783144,"creation_date":1654783144,"answer_id":72561660,"question_id":72553077,"body_markdown":"The stack trace shows you the method and line in which the NPE occurs: \r\n\r\n```\r\n...SurfaceHolder.lockCanvas()...\r\n...(GameActivity.java:290)\r\n```\r\n\r\nThis happens because your `SurfaceHolder` variable is `null` until you set it in `surfaceCreated`:\r\n\r\n```\r\n    private SurfaceHolder surfaceHolder;\r\n\r\n    @Override\r\n    public void surfaceCreated(@NonNull SurfaceHolder holder) {\r\n        this.surfaceHolder = surfaceHolder;\r\n\r\n        init();\r\n    }\r\n```\r\n\r\nAnd here lies the problem, instead of setting the created `SurfaceHolder` you set the class variable on itself. The created `SurfaceHolder` is called _holder_ not _surfaceHolder_.\r\n\r\nYou can fix it by renaming the method parameter:\r\n```\r\n    @Override\r\n    public void surfaceCreated(@NonNull SurfaceHolder surfaceHolder) {\r\n      this.surfaceHolder = surfaceHolder;\r\n    \r\n      init();\r\n    }\r\n```\r\n\r\nor assign the method parameter correctly.\r\n\r\n```\r\n    @Override\r\n    public void surfaceCreated(@NonNull SurfaceHolder holder) {\r\n      this.surfaceHolder = holder;\r\n    \r\n      init();\r\n    }\r\n```\r\n","title":"My app keeps crashing when I Open the Game Activity. I tried to create a game activity to be opened from the main activity","body":"<p>The stack trace shows you the method and line in which the NPE occurs:</p>\n<pre><code>...SurfaceHolder.lockCanvas()...\n...(GameActivity.java:290)\n</code></pre>\n<p>This happens because your <code>SurfaceHolder</code> variable is <code>null</code> until you set it in <code>surfaceCreated</code>:</p>\n<pre><code>    private SurfaceHolder surfaceHolder;\n\n    @Override\n    public void surfaceCreated(@NonNull SurfaceHolder holder) {\n        this.surfaceHolder = surfaceHolder;\n\n        init();\n    }\n</code></pre>\n<p>And here lies the problem, instead of setting the created <code>SurfaceHolder</code> you set the class variable on itself. The created <code>SurfaceHolder</code> is called <em>holder</em> not <em>surfaceHolder</em>.</p>\n<p>You can fix it by renaming the method parameter:</p>\n<pre><code>    @Override\n    public void surfaceCreated(@NonNull SurfaceHolder surfaceHolder) {\n      this.surfaceHolder = surfaceHolder;\n    \n      init();\n    }\n</code></pre>\n<p>or assign the method parameter correctly.</p>\n<pre><code>    @Override\n    public void surfaceCreated(@NonNull SurfaceHolder holder) {\n      this.surfaceHolder = holder;\n    \n      init();\n    }\n</code></pre>\n"}],"owner":{"account_id":25413418,"reputation":13,"user_id":19220813,"display_name":"Bishop"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72561660,"answer_count":1,"score":-1,"last_activity_date":1654783144,"creation_date":1654729248,"question_id":72553077,"body_markdown":"When I open my Game Activity with Intent from my Home Activity, the app keeps crashing immediately the game activity launches.\r\nThe game activity is basically a snake game with canvas to draw out the snake. Please help\r\nis there a specific reason for this or is something wrong with my code?\r\nI am going to drop my game activity code and manifest below\r\n\r\nhere is the game activity code\r\n```\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.AppCompatImageButton;\r\n\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.graphics.Canvas;\r\nimport android.graphics.Color;\r\nimport android.graphics.Paint;\r\nimport android.graphics.PorterDuff;\r\nimport android.os.Bundle;\r\nimport android.view.SurfaceHolder;\r\nimport android.view.SurfaceView;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\n\r\npublic class GameActivity extends AppCompatActivity implements SurfaceHolder.Callback {\r\n\r\n    // list snake points / snake length\r\n    private List&lt;SnakePoints&gt; snakePointsList = new ArrayList&lt;&gt;();\r\n    private SurfaceView surfaceView;\r\n    private TextView scoreTV;\r\n\r\n    // surface holder draws the snake on the surface&#39;s canvas\r\n    private SurfaceHolder surfaceHolder;\r\n\r\n    // snake moving position. Values can be right, left, top, bottom.\r\n    // by default, snake mover to right.\r\n    private String movingPosition = &quot;right&quot;;\r\n\r\n    // score\r\n    private int score = 0;\r\n\r\n    // snake size / point size\r\n    private  static  final int pointSize = 28;\r\n\r\n    // default tail size\r\n    private static final int defaultTailPoints = 3;\r\n\r\n    // snake color\r\n    private static final int snakeColor = Color.YELLOW;\r\n\r\n    // snake speed\r\n    private static final int snakeMovingSpeed = 800;\r\n\r\n    // random point coordinates on the surfaceView\r\n    private int positionX, positionY;\r\n\r\n    // timer to move snake / change snake position after a specific time\r\n    private Timer timer;\r\n    \r\n    // canvas to draw snake and show on surfaceView\r\n    private Canvas canvas = null;\r\n    \r\n    //point color / single point color of a snake\r\n    private Paint pointColor = null;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_game);\r\n\r\n        // getting surfaceView and score TextView from xml file\r\n        surfaceView = findViewById(R.id.surfaceView);\r\n        scoreTV = findViewById(R.id.scoreTV);\r\n\r\n        // getting image buttons from xml file\r\n        final AppCompatImageButton topBtn = findViewById(R.id.topBtn);\r\n        final AppCompatImageButton leftBtn = findViewById(R.id.leftBtn);\r\n        final AppCompatImageButton rightBtn = findViewById(R.id.rightBtn);\r\n        final AppCompatImageButton bottomBtn = findViewById(R.id.bottomBtn);\r\n\r\n        // call back to surfaceView\r\n        surfaceView.getHolder().addCallback(this);\r\n\r\n        topBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (!movingPosition.equals(&quot;bottom&quot;)){\r\n                    movingPosition = &quot;top&quot;;\r\n                }\r\n            }\r\n        });\r\n\r\n        leftBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (!movingPosition.equals(&quot;right&quot;)){\r\n                    movingPosition = &quot;left&quot;;\r\n                }\r\n            }\r\n        });\r\n\r\n        rightBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (!movingPosition.equals(&quot;left&quot;)){\r\n                    movingPosition = &quot;right&quot;;\r\n                }\r\n            }\r\n        });\r\n\r\n        bottomBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (!movingPosition.equals(&quot;top&quot;)){\r\n                    movingPosition = &quot;bottom&quot;;\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void surfaceCreated(@NonNull SurfaceHolder holder) {\r\n\r\n        // when the surface is created, get surfaceHolder and assign it to surfaceHolder\r\n        this.surfaceHolder = surfaceHolder;\r\n\r\n        // initialize data for snake / surfaceView\r\n        init();\r\n    }\r\n\r\n    @Override\r\n    public void surfaceChanged(@NonNull SurfaceHolder holder, int format, int width, int height) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void surfaceDestroyed(@NonNull SurfaceHolder holder) {\r\n\r\n    }\r\n\r\n private void init(){\r\n\r\n        // clear the snake points / length\r\n     snakePointsList.clear();\r\n\r\n     // set default score\r\n     scoreTV.setText(&quot;0&quot;);\r\n\r\n     // make score 0\r\n     score = 0;\r\n\r\n     // default moving position is right\r\n     movingPosition = &quot;right&quot;;\r\n\r\n     // default snake starting position on the screen\r\n     int startPositionX = (pointSize) * defaultTailPoints;\r\n\r\n     // making snake&#39;s default length / points\r\n     for (int i = 0; i &lt; defaultTailPoints; i++){\r\n\r\n         // adding points to snake tail\r\n         SnakePoints snakePoints = new SnakePoints(startPositionX, pointSize);\r\n         snakePointsList.add(snakePoints);\r\n\r\n         // increasing the value for the next snake tail\r\n         startPositionX = startPositionX - (pointSize * 2);\r\n\r\n     }\r\n\r\n     // add random point on the screen to be eaten by snake\r\n     addPoint();\r\n\r\n     // start moving the snake / start game\r\n     moveSnake();\r\n\r\n }\r\n\r\n private void  addPoint(){\r\n\r\n        // getting surfaceView width and height to add point on the surface to be eaten by the snake\r\n        int surfaceWidth = surfaceView.getWidth() - (pointSize * 2);\r\n        int surfaceHeight = surfaceView.getHeight() - (pointSize * 2);\r\n\r\n        int randomXPosition = new Random().nextInt(surfaceWidth / pointSize);\r\n        int randomYPosition = new Random().nextInt(surfaceHeight / pointSize);\r\n\r\n        //check if randomXPosition is even orr odd value coz we need only even number\r\n        if ((randomXPosition % 2) != 0){\r\n            randomXPosition = randomXPosition + 1;\r\n        }\r\n        if ((randomYPosition % 2) != 0){\r\n            randomYPosition = randomYPosition + 1;\r\n        }\r\n\r\n        positionX = (pointSize * randomXPosition) + pointSize;\r\n        positionY = (pointSize * randomYPosition) + pointSize;\r\n\r\n }\r\n\r\n private void moveSnake(){\r\n\r\n        timer = new Timer();\r\n        timer.scheduleAtFixedRate(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n\r\n                // getting head position\r\n                int headPositionX = snakePointsList.get(0).getPositionX();\r\n                int headPositionY = snakePointsList.get(0).getPositionY();\r\n\r\n                // to check if the snake has eaten a point\r\n                if (headPositionX == positionX &amp;&amp; positionY == headPositionY){\r\n\r\n                    //grow snake after eating\r\n                    growSnake();\r\n\r\n                    // add another random point on the screen\r\n                    addPoint();\r\n\r\n                }\r\n\r\n                // check which side the snake is moving\r\n                switch (movingPosition){\r\n                    case &quot;right&quot;:\r\n\r\n                        //move snakes head to right\r\n                        snakePointsList.get(0).setPositionX(headPositionX + (pointSize * 2));\r\n                        snakePointsList.get(0).setPositionY(headPositionY);\r\n                        break;\r\n\r\n                    case &quot;left&quot;:\r\n\r\n                        //move snakes head to left\r\n                        snakePointsList.get(0).setPositionX(headPositionX - (pointSize * 2));\r\n                        snakePointsList.get(0).setPositionY(headPositionY);\r\n                        break;\r\n\r\n                    case &quot;top&quot;:\r\n\r\n                        //move snakes head to top\r\n                        snakePointsList.get(0).setPositionX(headPositionX);\r\n                        snakePointsList.get(0).setPositionY(headPositionY - (pointSize * 2));\r\n                        break;\r\n\r\n                    case &quot;bottom&quot;:\r\n\r\n                        //move snakes head to bottom\r\n                        snakePointsList.get(0).setPositionX(headPositionX);\r\n                        snakePointsList.get(0).setPositionY(headPositionY + (pointSize * 2));\r\n                        break;\r\n                }\r\n\r\n                //check if game is over. Weather snake touch edges or snake itself\r\n                if (checkGameOver(headPositionX, headPositionY)){\r\n\r\n                    //stop timer / stop moving snake\r\n                    timer.purge();\r\n                    timer.cancel();\r\n\r\n                    //game over dialogue\r\n                    AlertDialog.Builder builder = new AlertDialog.Builder(GameActivity.this);\r\n                    builder.setMessage(&quot;Your Score = &quot; +score);\r\n                    builder.setTitle(&quot;Game Over&quot;);\r\n                    builder.setCancelable(false);\r\n                    builder.setPositiveButton(&quot;Go back&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i) {\r\n\r\n                            // return\r\n                            Intent intent = new Intent(GameActivity.this, HomeActivity.class);\r\n                            startActivity(intent);\r\n                        }\r\n                    });\r\n\r\n                    //timer runs in background so show dialogue in main thread\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            builder.show();\r\n                        }\r\n                    });\r\n\r\n                }\r\n                \r\n                else {\r\n                    \r\n                    //lock canvas on surfaceHolder to draw on it\r\n                    canvas = surfaceHolder.lockCanvas();\r\n                    \r\n                    //clear canvas with white color\r\n                    canvas.drawColor(Color.WHITE, PorterDuff.Mode.CLEAR);\r\n                    \r\n                    // change snake&#39;s head position. Other snake points will follow snake&#39;s head\r\n                    canvas.drawCircle(snakePointsList.get(0).getPositionX(), snakePointsList.get(0).getPositionY(), pointSize, createPointColor());\r\n\r\n                    // draw random point circles on the surface to be eaten by the snake\r\n                    canvas.drawCircle(positionX, positionY, pointSize, createPointColor());\r\n\r\n                    // all other points following snake&#39;s head position 0 is head of snake\r\n                    for (int i = 1; i &lt; snakePointsList.size(); i++){\r\n\r\n                        int getTempPositionX = snakePointsList.get(i).getPositionX();\r\n                        int getTempPositionY = snakePointsList.get(i).getPositionY();\r\n\r\n                        // move points across the head\r\n                        snakePointsList.get(i).setPositionX(headPositionX);\r\n                        snakePointsList.get(i).setPositionY(headPositionY);\r\n                        canvas.drawCircle(snakePointsList.get(i).getPositionX(), snakePointsList.get(i).getPositionY(), pointSize, createPointColor());\r\n\r\n                        //change head position\r\n                        headPositionX = getTempPositionX;\r\n                        headPositionY = getTempPositionY;\r\n\r\n                    }\r\n\r\n                    //unlock canvas to draw on surfaceView\r\n                    surfaceHolder.unlockCanvasAndPost(canvas);\r\n\r\n                }\r\n                \r\n            }\r\n        }, 1000- snakeMovingSpeed, 1000- snakeMovingSpeed);\r\n\r\n }\r\n\r\n private void growSnake(){\r\n\r\n        // create new snake points\r\n        SnakePoints snakePoints = new SnakePoints(0,0);\r\n\r\n        //add points to the snake&#39;s tail\r\n        snakePointsList.add(snakePoints);\r\n\r\n        //increase score\r\n     score++;\r\n\r\n     //setting score to textView\r\n     runOnUiThread(new Runnable() {\r\n         @Override\r\n         public void run() {\r\n             scoreTV.setText(String.valueOf(score));\r\n         }\r\n     });\r\n\r\n }\r\n\r\n private boolean checkGameOver(int headPositionX, int headPositionY){\r\n        boolean gameOver = false;\r\n\r\n        //check if snake&#39;s head touches edges\r\n        if (snakePointsList.get(0).getPositionX() &lt; 0 ||\r\n            snakePointsList.get(0).getPositionY() &lt; 0 ||\r\n            snakePointsList.get(0).getPositionX() &gt;= surfaceView.getWidth() ||\r\n            snakePointsList.get(0).getPositionY() &gt;= surfaceView.getHeight()){\r\n\r\n            gameOver = true;\r\n\r\n        }\r\n        else {\r\n\r\n            //check if snake&#39;s head touches itself\r\n            for (int i = 1; i &lt; snakePointsList.size(); i++){\r\n\r\n                if (headPositionX == snakePointsList.get(i).getPositionX() &amp;&amp;\r\n                    headPositionY == snakePointsList.get(i).getPositionY()){\r\n                    gameOver = true;\r\n                    break;\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        return gameOver;\r\n }\r\n \r\n private Paint createPointColor(){\r\n        \r\n        if (pointColor == null){\r\n            \r\n            pointColor = new Paint();\r\n            pointColor.setColor(snakeColor);\r\n            pointColor.setStyle(Paint.Style.FILL);\r\n            pointColor.setAntiAlias(true);\r\n                        \r\n        }\r\n\r\n     return pointColor;\r\n        \r\n }\r\n\r\n} \r\n\r\n```\r\nhere is my manifest\r\n\r\n``` &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.practechs.kubetnew28_05&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:exported=&quot;false&quot;\r\n        android:icon=&quot;@mipmap/logo&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/logo&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.KubetNew25_05&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.GameActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar.FullScreen&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;.WebsiteActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.HomeActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\nThe error displayed in my logcat \r\n``` \r\n2022-06-08 14:21:13.881 19048-19242/com.practechs.kubetnew28_05 E/AndroidRuntime: FATAL EXCEPTION: Timer-0\r\n    Process: com.practechs.kubetnew28_05, PID: 19048\r\n    java.lang.NullPointerException: Attempt to invoke interface method &#39;android.graphics.Canvas android.view.SurfaceHolder.lockCanvas()&#39; on a null object reference\r\n        at com.practechs.kubetnew28_05.GameActivity$5.run(GameActivity.java:290)\r\n        at java.util.TimerThread.mainLoop(Timer.java:562)\r\n        at java.util.TimerThread.run(Timer.java:512)\r\n```","title":"My app keeps crashing when I Open the Game Activity. I tried to create a game activity to be opened from the main activity","body":"<p>When I open my Game Activity with Intent from my Home Activity, the app keeps crashing immediately the game activity launches.\nThe game activity is basically a snake game with canvas to draw out the snake. Please help\nis there a specific reason for this or is something wrong with my code?\nI am going to drop my game activity code and manifest below</p>\n<p>here is the game activity code</p>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.AppCompatImageButton;\n\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.graphics.Canvas;\nimport android.graphics.Color;\nimport android.graphics.Paint;\nimport android.graphics.PorterDuff;\nimport android.os.Bundle;\nimport android.view.SurfaceHolder;\nimport android.view.SurfaceView;\nimport android.view.View;\nimport android.widget.TextView;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\npublic class GameActivity extends AppCompatActivity implements SurfaceHolder.Callback {\n\n    // list snake points / snake length\n    private List&lt;SnakePoints&gt; snakePointsList = new ArrayList&lt;&gt;();\n    private SurfaceView surfaceView;\n    private TextView scoreTV;\n\n    // surface holder draws the snake on the surface's canvas\n    private SurfaceHolder surfaceHolder;\n\n    // snake moving position. Values can be right, left, top, bottom.\n    // by default, snake mover to right.\n    private String movingPosition = &quot;right&quot;;\n\n    // score\n    private int score = 0;\n\n    // snake size / point size\n    private  static  final int pointSize = 28;\n\n    // default tail size\n    private static final int defaultTailPoints = 3;\n\n    // snake color\n    private static final int snakeColor = Color.YELLOW;\n\n    // snake speed\n    private static final int snakeMovingSpeed = 800;\n\n    // random point coordinates on the surfaceView\n    private int positionX, positionY;\n\n    // timer to move snake / change snake position after a specific time\n    private Timer timer;\n    \n    // canvas to draw snake and show on surfaceView\n    private Canvas canvas = null;\n    \n    //point color / single point color of a snake\n    private Paint pointColor = null;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_game);\n\n        // getting surfaceView and score TextView from xml file\n        surfaceView = findViewById(R.id.surfaceView);\n        scoreTV = findViewById(R.id.scoreTV);\n\n        // getting image buttons from xml file\n        final AppCompatImageButton topBtn = findViewById(R.id.topBtn);\n        final AppCompatImageButton leftBtn = findViewById(R.id.leftBtn);\n        final AppCompatImageButton rightBtn = findViewById(R.id.rightBtn);\n        final AppCompatImageButton bottomBtn = findViewById(R.id.bottomBtn);\n\n        // call back to surfaceView\n        surfaceView.getHolder().addCallback(this);\n\n        topBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (!movingPosition.equals(&quot;bottom&quot;)){\n                    movingPosition = &quot;top&quot;;\n                }\n            }\n        });\n\n        leftBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (!movingPosition.equals(&quot;right&quot;)){\n                    movingPosition = &quot;left&quot;;\n                }\n            }\n        });\n\n        rightBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (!movingPosition.equals(&quot;left&quot;)){\n                    movingPosition = &quot;right&quot;;\n                }\n            }\n        });\n\n        bottomBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (!movingPosition.equals(&quot;top&quot;)){\n                    movingPosition = &quot;bottom&quot;;\n                }\n            }\n        });\n\n    }\n\n    @Override\n    public void surfaceCreated(@NonNull SurfaceHolder holder) {\n\n        // when the surface is created, get surfaceHolder and assign it to surfaceHolder\n        this.surfaceHolder = surfaceHolder;\n\n        // initialize data for snake / surfaceView\n        init();\n    }\n\n    @Override\n    public void surfaceChanged(@NonNull SurfaceHolder holder, int format, int width, int height) {\n\n    }\n\n    @Override\n    public void surfaceDestroyed(@NonNull SurfaceHolder holder) {\n\n    }\n\n private void init(){\n\n        // clear the snake points / length\n     snakePointsList.clear();\n\n     // set default score\n     scoreTV.setText(&quot;0&quot;);\n\n     // make score 0\n     score = 0;\n\n     // default moving position is right\n     movingPosition = &quot;right&quot;;\n\n     // default snake starting position on the screen\n     int startPositionX = (pointSize) * defaultTailPoints;\n\n     // making snake's default length / points\n     for (int i = 0; i &lt; defaultTailPoints; i++){\n\n         // adding points to snake tail\n         SnakePoints snakePoints = new SnakePoints(startPositionX, pointSize);\n         snakePointsList.add(snakePoints);\n\n         // increasing the value for the next snake tail\n         startPositionX = startPositionX - (pointSize * 2);\n\n     }\n\n     // add random point on the screen to be eaten by snake\n     addPoint();\n\n     // start moving the snake / start game\n     moveSnake();\n\n }\n\n private void  addPoint(){\n\n        // getting surfaceView width and height to add point on the surface to be eaten by the snake\n        int surfaceWidth = surfaceView.getWidth() - (pointSize * 2);\n        int surfaceHeight = surfaceView.getHeight() - (pointSize * 2);\n\n        int randomXPosition = new Random().nextInt(surfaceWidth / pointSize);\n        int randomYPosition = new Random().nextInt(surfaceHeight / pointSize);\n\n        //check if randomXPosition is even orr odd value coz we need only even number\n        if ((randomXPosition % 2) != 0){\n            randomXPosition = randomXPosition + 1;\n        }\n        if ((randomYPosition % 2) != 0){\n            randomYPosition = randomYPosition + 1;\n        }\n\n        positionX = (pointSize * randomXPosition) + pointSize;\n        positionY = (pointSize * randomYPosition) + pointSize;\n\n }\n\n private void moveSnake(){\n\n        timer = new Timer();\n        timer.scheduleAtFixedRate(new TimerTask() {\n            @Override\n            public void run() {\n\n                // getting head position\n                int headPositionX = snakePointsList.get(0).getPositionX();\n                int headPositionY = snakePointsList.get(0).getPositionY();\n\n                // to check if the snake has eaten a point\n                if (headPositionX == positionX &amp;&amp; positionY == headPositionY){\n\n                    //grow snake after eating\n                    growSnake();\n\n                    // add another random point on the screen\n                    addPoint();\n\n                }\n\n                // check which side the snake is moving\n                switch (movingPosition){\n                    case &quot;right&quot;:\n\n                        //move snakes head to right\n                        snakePointsList.get(0).setPositionX(headPositionX + (pointSize * 2));\n                        snakePointsList.get(0).setPositionY(headPositionY);\n                        break;\n\n                    case &quot;left&quot;:\n\n                        //move snakes head to left\n                        snakePointsList.get(0).setPositionX(headPositionX - (pointSize * 2));\n                        snakePointsList.get(0).setPositionY(headPositionY);\n                        break;\n\n                    case &quot;top&quot;:\n\n                        //move snakes head to top\n                        snakePointsList.get(0).setPositionX(headPositionX);\n                        snakePointsList.get(0).setPositionY(headPositionY - (pointSize * 2));\n                        break;\n\n                    case &quot;bottom&quot;:\n\n                        //move snakes head to bottom\n                        snakePointsList.get(0).setPositionX(headPositionX);\n                        snakePointsList.get(0).setPositionY(headPositionY + (pointSize * 2));\n                        break;\n                }\n\n                //check if game is over. Weather snake touch edges or snake itself\n                if (checkGameOver(headPositionX, headPositionY)){\n\n                    //stop timer / stop moving snake\n                    timer.purge();\n                    timer.cancel();\n\n                    //game over dialogue\n                    AlertDialog.Builder builder = new AlertDialog.Builder(GameActivity.this);\n                    builder.setMessage(&quot;Your Score = &quot; +score);\n                    builder.setTitle(&quot;Game Over&quot;);\n                    builder.setCancelable(false);\n                    builder.setPositiveButton(&quot;Go back&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialogInterface, int i) {\n\n                            // return\n                            Intent intent = new Intent(GameActivity.this, HomeActivity.class);\n                            startActivity(intent);\n                        }\n                    });\n\n                    //timer runs in background so show dialogue in main thread\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            builder.show();\n                        }\n                    });\n\n                }\n                \n                else {\n                    \n                    //lock canvas on surfaceHolder to draw on it\n                    canvas = surfaceHolder.lockCanvas();\n                    \n                    //clear canvas with white color\n                    canvas.drawColor(Color.WHITE, PorterDuff.Mode.CLEAR);\n                    \n                    // change snake's head position. Other snake points will follow snake's head\n                    canvas.drawCircle(snakePointsList.get(0).getPositionX(), snakePointsList.get(0).getPositionY(), pointSize, createPointColor());\n\n                    // draw random point circles on the surface to be eaten by the snake\n                    canvas.drawCircle(positionX, positionY, pointSize, createPointColor());\n\n                    // all other points following snake's head position 0 is head of snake\n                    for (int i = 1; i &lt; snakePointsList.size(); i++){\n\n                        int getTempPositionX = snakePointsList.get(i).getPositionX();\n                        int getTempPositionY = snakePointsList.get(i).getPositionY();\n\n                        // move points across the head\n                        snakePointsList.get(i).setPositionX(headPositionX);\n                        snakePointsList.get(i).setPositionY(headPositionY);\n                        canvas.drawCircle(snakePointsList.get(i).getPositionX(), snakePointsList.get(i).getPositionY(), pointSize, createPointColor());\n\n                        //change head position\n                        headPositionX = getTempPositionX;\n                        headPositionY = getTempPositionY;\n\n                    }\n\n                    //unlock canvas to draw on surfaceView\n                    surfaceHolder.unlockCanvasAndPost(canvas);\n\n                }\n                \n            }\n        }, 1000- snakeMovingSpeed, 1000- snakeMovingSpeed);\n\n }\n\n private void growSnake(){\n\n        // create new snake points\n        SnakePoints snakePoints = new SnakePoints(0,0);\n\n        //add points to the snake's tail\n        snakePointsList.add(snakePoints);\n\n        //increase score\n     score++;\n\n     //setting score to textView\n     runOnUiThread(new Runnable() {\n         @Override\n         public void run() {\n             scoreTV.setText(String.valueOf(score));\n         }\n     });\n\n }\n\n private boolean checkGameOver(int headPositionX, int headPositionY){\n        boolean gameOver = false;\n\n        //check if snake's head touches edges\n        if (snakePointsList.get(0).getPositionX() &lt; 0 ||\n            snakePointsList.get(0).getPositionY() &lt; 0 ||\n            snakePointsList.get(0).getPositionX() &gt;= surfaceView.getWidth() ||\n            snakePointsList.get(0).getPositionY() &gt;= surfaceView.getHeight()){\n\n            gameOver = true;\n\n        }\n        else {\n\n            //check if snake's head touches itself\n            for (int i = 1; i &lt; snakePointsList.size(); i++){\n\n                if (headPositionX == snakePointsList.get(i).getPositionX() &amp;&amp;\n                    headPositionY == snakePointsList.get(i).getPositionY()){\n                    gameOver = true;\n                    break;\n                }\n\n            }\n\n        }\n\n        return gameOver;\n }\n \n private Paint createPointColor(){\n        \n        if (pointColor == null){\n            \n            pointColor = new Paint();\n            pointColor.setColor(snakeColor);\n            pointColor.setStyle(Paint.Style.FILL);\n            pointColor.setAntiAlias(true);\n                        \n        }\n\n     return pointColor;\n        \n }\n\n} \n\n</code></pre>\n<p>here is my manifest</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.practechs.kubetnew28_05&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:exported=&quot;false&quot;\n        android:icon=&quot;@mipmap/logo&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/logo&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.KubetNew25_05&quot;&gt;\n        &lt;activity\n            android:name=&quot;.GameActivity&quot;\n            android:exported=&quot;false&quot;\n            android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar.FullScreen&quot;/&gt;\n        &lt;activity\n            android:name=&quot;.WebsiteActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.HomeActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>The error displayed in my logcat</p>\n<pre><code>2022-06-08 14:21:13.881 19048-19242/com.practechs.kubetnew28_05 E/AndroidRuntime: FATAL EXCEPTION: Timer-0\n    Process: com.practechs.kubetnew28_05, PID: 19048\n    java.lang.NullPointerException: Attempt to invoke interface method 'android.graphics.Canvas android.view.SurfaceHolder.lockCanvas()' on a null object reference\n        at com.practechs.kubetnew28_05.GameActivity$5.run(GameActivity.java:290)\n        at java.util.TimerThread.mainLoop(Timer.java:562)\n        at java.util.TimerThread.run(Timer.java:512)\n</code></pre>\n"},{"tags":["java","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1654783417,"post_id":72561262,"comment_id":128178589,"body_markdown":"You can write your own matcher/extension for the URL to do the validation. You don&#39;t need a filter. Write something like `antMatcher(&quot;/whatever-you-want-to-match&quot;).access(&quot;@someBean.someMethodToDoCheck(#request))` something like that. Make sure you add a filter that allows for reading the request multiple times else you will run into issues downstream.","body":"You can write your own matcher/extension for the URL to do the validation. You don&#39;t need a filter. Write something like <code>antMatcher(&quot;&#47;whatever-you-want-to-match&quot;).access(&quot;@someBean.&zwnj;&#8203;someMethodToDoCheck(&zwnj;&#8203;#request))</code> something like that. Make sure you add a filter that allows for reading the request multiple times else you will run into issues downstream."},{"owner":{"account_id":24004041,"reputation":41,"user_id":17988492,"display_name":"Mem"},"score":0,"creation_date":1654784825,"post_id":72561262,"comment_id":128179201,"body_markdown":"It&#39;s SOAP request, so I have to check the XML body.. Any idea how to check that with antMatcher?","body":"It&#39;s SOAP request, so I have to check the XML body.. Any idea how to check that with antMatcher?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654850175,"post_id":72561262,"comment_id":128195121,"body_markdown":"As stated you don&#39;t check **that** with an ant matcher but in the part that checks the `access` and you write a custom bean for that.","body":"As stated you don&#39;t check <b>that</b> with an ant matcher but in the part that checks the <code>access</code> and you write a custom bean for that."}],"owner":{"account_id":24004041,"reputation":41,"user_id":17988492,"display_name":"Mem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654782952,"creation_date":1654781646,"question_id":72561262,"body_markdown":"I have a scenario that based on the request body content, user should be allowed to access certain resource on SOAP services. I can&#39;t achieve this using `antMatcher(**)` because the path is same for all request. \r\n\r\nI tried by adding a filter: \r\n\r\n    public class MyFilter extends GenericFilterBean {\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n        HttpServletRequest r = (HttpServletRequest)request;\r\n        MyRequestWrapper req = new MyRequestWrapper(r);\r\n        String body = req.getBody();\r\n\r\n       if(body.indexOf(&quot;searchKeyOnBody&quot;)!=0){\r\n            //Need to check if user has specified role or not \r\n            Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n            Set&lt;String&gt; roles = authentication.getAuthorities().stream()\r\n                .map(r -&gt; r.getAuthority()).collect(Collectors.toSet());\r\n            boolean hasManagerRole = authentication.getAuthorities().stream()\r\n                .anyMatch(r -&gt; r.getAuthority().equals(&quot;ROLE_MANAGER&quot;));\r\n    \r\n            if(!hasManagerRole){\r\n               throwUnauthorized(response);\r\n               return;\r\n            }\r\n        }\r\n\r\n        chain.doFilter(req, response);\r\n    }\r\n\r\nIn spring security config: \r\n\r\n    @Configuration\r\n    public class MyAppConfig extends WebSecurityConfigurerAdapter {\r\n       @Override\r\n       protected void configure(HttpSecurity http) throws Exception {\r\n          http.**.addFilterAfter(new MyFilter (), UsernamePasswordAuthenticationFilter.class)\r\n\r\n\r\nThe problem here is `Authentication authentication = SecurityContextHolder.getContext().getAuthentication();` in filter class is `null`. So, I am not able to retrive the user info and it&#39;s role. \r\n\r\nQuestion: \r\nIs there any way to retrieve the user info in the filter? \r\nAnybody have better idea for this? ","title":"Spring Security: redirect user based on request body","body":"<p>I have a scenario that based on the request body content, user should be allowed to access certain resource on SOAP services. I can't achieve this using <code>antMatcher(**)</code> because the path is same for all request.</p>\n<p>I tried by adding a filter:</p>\n<pre><code>public class MyFilter extends GenericFilterBean {\n@Override\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n    HttpServletRequest r = (HttpServletRequest)request;\n    MyRequestWrapper req = new MyRequestWrapper(r);\n    String body = req.getBody();\n\n   if(body.indexOf(&quot;searchKeyOnBody&quot;)!=0){\n        //Need to check if user has specified role or not \n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        Set&lt;String&gt; roles = authentication.getAuthorities().stream()\n            .map(r -&gt; r.getAuthority()).collect(Collectors.toSet());\n        boolean hasManagerRole = authentication.getAuthorities().stream()\n            .anyMatch(r -&gt; r.getAuthority().equals(&quot;ROLE_MANAGER&quot;));\n\n        if(!hasManagerRole){\n           throwUnauthorized(response);\n           return;\n        }\n    }\n\n    chain.doFilter(req, response);\n}\n</code></pre>\n<p>In spring security config:</p>\n<pre><code>@Configuration\npublic class MyAppConfig extends WebSecurityConfigurerAdapter {\n   @Override\n   protected void configure(HttpSecurity http) throws Exception {\n      http.**.addFilterAfter(new MyFilter (), UsernamePasswordAuthenticationFilter.class)\n</code></pre>\n<p>The problem here is <code>Authentication authentication = SecurityContextHolder.getContext().getAuthentication();</code> in filter class is <code>null</code>. So, I am not able to retrive the user info and it's role.</p>\n<p>Question:\nIs there any way to retrieve the user info in the filter?\nAnybody have better idea for this?</p>\n"},{"tags":["java","recursion","subset-sum"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1654710017,"post_id":72549909,"comment_id":128158748,"body_markdown":"I’m voting to close this question because this does not appear to be a programming issue, so much as a &quot;this is what I want&quot; issue","body":"I’m voting to close this question because this does not appear to be a programming issue, so much as a &quot;this is what I want&quot; issue"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1654710335,"post_id":72549909,"comment_id":128158858,"body_markdown":"There is a fairly obvious O(n) non-recursive solution for this","body":"There is a fairly obvious O(n) non-recursive solution for this"},{"owner":{"account_id":16009454,"reputation":719,"user_id":11554082,"display_name":"Dani"},"score":0,"creation_date":1654756303,"post_id":72549909,"comment_id":128168522,"body_markdown":"@ControlAltDel How? Don&#39;t we need to check all of the continuous subsets?","body":"@ControlAltDel How? Don&#39;t we need to check all of the continuous subsets?"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654710062,"creation_date":1654710062,"answer_id":72550049,"question_id":72549909,"body_markdown":"You are on the right track.\r\n\r\nThink of it this way:\r\n* for every entry you have to decide: do you want to start a new sum at this point or skip it and reconsider the next entry.\r\n* `a + b + c + d` contains the sum of `b + c + d`. Do you want to recompute the sums?\r\n* Maybe a [bottom-up][1] approach would be better\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/tabulation-vs-memoization/","title":"Subset sum problem with continuous subset using recursion","body":"<p>You are on the right track.</p>\n<p>Think of it this way:</p>\n<ul>\n<li>for every entry you have to decide: do you want to start a new sum at this point or skip it and reconsider the next entry.</li>\n<li><code>a + b + c + d</code> contains the sum of <code>b + c + d</code>. Do you want to recompute the sums?</li>\n<li>Maybe a <a href=\"https://www.geeksforgeeks.org/tabulation-vs-memoization/\" rel=\"nofollow noreferrer\">bottom-up</a> approach would be better</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654782927,"creation_date":1654782927,"answer_id":72561603,"question_id":72549909,"body_markdown":"The O(n) solution that you asked for:\r\n\r\nThis solution requires three fixed point numbers: The start and end indices, and the total sum of the span\r\n\r\nStarting from element 0 (or from the end of the list if you want) increase the end index until the total sum is greater than or equal to the desired value. If it is equal, you&#39;ve found a subset sum. If it is greater, move the start index up one and subtract the value of the previous start index. Finally, if the resulting total is greater than the desired value, move the end index back until the sum is less than the desired value. In the other case (where the sum is less) move the end index forward until the sum is greater than the desired value. If no match is found, repeat\r\n\r\nSo, caveats:\r\n1. Is this &quot;fairly obvious&quot;? Maybe, maybe not. I was making assumptions about order of magnitude similarity when I said both &quot;fairly obvious&quot; and o(n) in my comments \r\n2. Is this actually o(n)? It depends a lot on how similar (in terms of order of magnitude (digits in the number)) the numbers in the list are. The closer all the numbers are to each other, the fewer steps you&#39;ll need to make on the end index to test if a subset exists. On the other hand, if you have a couple of very big numbers (like in the thousands) surrounded by hundreds of pretty small numbers (1&#39;s and 2&#39;s and 3&#39;s) the solution I&#39;ve presented will get closers to O(n^2)\r\n3. This solution only works based on your restriction that the subset values are continuous","title":"Subset sum problem with continuous subset using recursion","body":"<p>The O(n) solution that you asked for:</p>\n<p>This solution requires three fixed point numbers: The start and end indices, and the total sum of the span</p>\n<p>Starting from element 0 (or from the end of the list if you want) increase the end index until the total sum is greater than or equal to the desired value. If it is equal, you've found a subset sum. If it is greater, move the start index up one and subtract the value of the previous start index. Finally, if the resulting total is greater than the desired value, move the end index back until the sum is less than the desired value. In the other case (where the sum is less) move the end index forward until the sum is greater than the desired value. If no match is found, repeat</p>\n<p>So, caveats:</p>\n<ol>\n<li>Is this &quot;fairly obvious&quot;? Maybe, maybe not. I was making assumptions about order of magnitude similarity when I said both &quot;fairly obvious&quot; and o(n) in my comments</li>\n<li>Is this actually o(n)? It depends a lot on how similar (in terms of order of magnitude (digits in the number)) the numbers in the list are. The closer all the numbers are to each other, the fewer steps you'll need to make on the end index to test if a subset exists. On the other hand, if you have a couple of very big numbers (like in the thousands) surrounded by hundreds of pretty small numbers (1's and 2's and 3's) the solution I've presented will get closers to O(n^2)</li>\n<li>This solution only works based on your restriction that the subset values are continuous</li>\n</ol>\n"}],"owner":{"account_id":16009454,"reputation":719,"user_id":11554082,"display_name":"Dani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1654782927,"creation_date":1654709362,"question_id":72549909,"body_markdown":"I am trying to think how to solve the Subset sum problem with an extra constraint: The subset of the array needs to be continuous (the indexes needs to be). I am trying to solve it using recursion in `Java`.\r\n\r\nI know the solution for the non-constrained problem: Each element can be in the subset (and thus I perform a recursive call with `sum = sum - arr[index]`) or not be in it (and thus I perform a recursive call with `sum = sum`).\r\n\r\nI am thinking about maybe adding another parameter for knowing weather or not the previous index is part of the subset, but I don&#39;t know what to do next.","title":"Subset sum problem with continuous subset using recursion","body":"<p>I am trying to think how to solve the Subset sum problem with an extra constraint: The subset of the array needs to be continuous (the indexes needs to be). I am trying to solve it using recursion in <code>Java</code>.</p>\n<p>I know the solution for the non-constrained problem: Each element can be in the subset (and thus I perform a recursive call with <code>sum = sum - arr[index]</code>) or not be in it (and thus I perform a recursive call with <code>sum = sum</code>).</p>\n<p>I am thinking about maybe adding another parameter for knowing weather or not the previous index is part of the subset, but I don't know what to do next.</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1654775835,"post_id":72559765,"comment_id":128175388,"body_markdown":"Why are you passing `new HashMap&lt;String,String&gt;()` as a parameter to `field.get`? `field` is a field of `Class&lt;?&gt; type`. You need to pass an instance of `type` as a parameter. And that is not `HashMap` since that does not have your custom `MaskedMap` annotation in it.","body":"Why are you passing <code>new HashMap&lt;String,String&gt;()</code> as a parameter to <code>field.get</code>? <code>field</code> is a field of <code>Class&lt;?&gt; type</code>. You need to pass an instance of <code>type</code> as a parameter. And that is not <code>HashMap</code> since that does not have your custom <code>MaskedMap</code> annotation in it."},{"owner":{"account_id":24963499,"reputation":47,"user_id":18827255,"display_name":"Volatail"},"score":0,"creation_date":1654777591,"post_id":72559765,"comment_id":128176049,"body_markdown":"I tried to do it on your advice, but I caught another exception","body":"I tried to do it on your advice, but I caught another exception"}],"answers":[{"tags":[],"owner":{"account_id":24963499,"reputation":47,"user_id":18827255,"display_name":"Volatail"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654782593,"creation_date":1654782593,"answer_id":72561510,"question_id":72559765,"body_markdown":"The right solution, you need to use the Object itself\r\n\r\n\r\n    private void maskedMapProcess(Object value) {\r\n                            for (Field field : value.getClass().getDeclaredFields()) {\r\n                                MaskedMap maskedMap = field.getAnnotation(MaskedMap.class);\r\n                                if (maskedMap != null) {\r\n                                    for (int i = 0; i &lt; maskedMap.keys().length; i++) {\r\n                                        field.setAccessible(true);\r\n                                        try {\r\n                                            Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) field.get(value);\r\n                                            valueMasks.put(map.get(maskedMap.keys()[i]), maskedMap.masks()[i].newInstance());\r\n                                        } catch (Exception e) {\r\n                                            throw new UnexpectedException(e);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }","title":"How to make a Map object from Field(reflect) with all values?","body":"<p>The right solution, you need to use the Object itself</p>\n<pre><code>private void maskedMapProcess(Object value) {\n                        for (Field field : value.getClass().getDeclaredFields()) {\n                            MaskedMap maskedMap = field.getAnnotation(MaskedMap.class);\n                            if (maskedMap != null) {\n                                for (int i = 0; i &lt; maskedMap.keys().length; i++) {\n                                    field.setAccessible(true);\n                                    try {\n                                        Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) field.get(value);\n                                        valueMasks.put(map.get(maskedMap.keys()[i]), maskedMap.masks()[i].newInstance());\n                                    } catch (Exception e) {\n                                        throw new UnexpectedException(e);\n                                    }\n                                }\n                            }\n                        }\n                    }\n</code></pre>\n"}],"owner":{"account_id":24963499,"reputation":47,"user_id":18827255,"display_name":"Volatail"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654782593,"creation_date":1654775478,"question_id":72559765,"body_markdown":"I have a field annotated with the MaskedMap annotation and it is a Map class.\r\nThen I get this field through the annotation search and I want to get all the values of this field that are in the Map. And I can&#39;t make from field to Map\r\n\r\n    private void putMapParamsMasks(Class&lt;?&gt; type) {\r\n                        for (Field field : type.getDeclaredFields()) {\r\n                            MaskedMap maskedMap = field.getAnnotation(MaskedMap.class);\r\n                            if (maskedMap != null) {\r\n                                for (int i = 0; i &lt; maskedMap.keys().length; i++) {\r\n                                    try {\r\n                                        Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) field.get(new HashMap&lt;String,String&gt;()); //failed\r\n                                        valueMasks.put(map.get(maskedMap.keys()[i]), maskedMap.masks()[i].newInstance());\r\n                                    } catch (InstantiationException | IllegalAccessException e) {\r\n                                        throw new UnexpectedException(e);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n\r\nI tried to do it like this:\r\n\r\n    Map&lt;String, String&gt; map =(Map&lt;String, String&gt;) field.get(type);\r\n\r\nBut I caught it\r\n\r\n    java.lang.IllegalArgumentException: Can not set java.util.Map field com.ConfirmRequest.params to null value","title":"How to make a Map object from Field(reflect) with all values?","body":"<p>I have a field annotated with the MaskedMap annotation and it is a Map class.\nThen I get this field through the annotation search and I want to get all the values of this field that are in the Map. And I can't make from field to Map</p>\n<pre><code>private void putMapParamsMasks(Class&lt;?&gt; type) {\n                    for (Field field : type.getDeclaredFields()) {\n                        MaskedMap maskedMap = field.getAnnotation(MaskedMap.class);\n                        if (maskedMap != null) {\n                            for (int i = 0; i &lt; maskedMap.keys().length; i++) {\n                                try {\n                                    Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) field.get(new HashMap&lt;String,String&gt;()); //failed\n                                    valueMasks.put(map.get(maskedMap.keys()[i]), maskedMap.masks()[i].newInstance());\n                                } catch (InstantiationException | IllegalAccessException e) {\n                                    throw new UnexpectedException(e);\n                                }\n                            }\n                        }\n                    }\n                }\n</code></pre>\n<p>I tried to do it like this:</p>\n<pre><code>Map&lt;String, String&gt; map =(Map&lt;String, String&gt;) field.get(type);\n</code></pre>\n<p>But I caught it</p>\n<pre><code>java.lang.IllegalArgumentException: Can not set java.util.Map field com.ConfirmRequest.params to null value\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":5897936,"reputation":8081,"user_id":4642485,"accept_rate":73,"display_name":"Chris Gong"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605039596,"creation_date":1605039596,"answer_id":64776202,"question_id":64775805,"body_markdown":"In the [Key.Builder][1] class in the `software.amazon.awssdk.enhanced.dynamodb` package of the AWS SDK for java, there seems to be a `sortValue(sortValue)` function in addition to the `partitionValue(partitionValue)` that you used for the `Key` object for your `QueryConditional` object. Therefore, you should append a call to `sortValue` onto the result of `Key.builder().partitionValue(roomid)` before calling the `build()` function. So assuming the value of the sort key you want to query on is stored in a variable called `createdDate`, replace this line,\r\n\r\n    QueryConditional keyValue = QueryConditional.keyEqualTo(Key.builder().partitionValue(roomid).build());\r\n\r\nwith\r\n\r\n    QueryConditional keyValue = QueryConditional.keyEqualTo(Key.builder().partitionValue(roomid).sortValue(createdDate).build());\r\n\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/Key.Builder.html","title":"Query DynamboDB on partition key and sort key using aws-skd-java2","body":"<p>In the <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/enhanced/dynamodb/Key.Builder.html\" rel=\"nofollow noreferrer\">Key.Builder</a> class in the <code>software.amazon.awssdk.enhanced.dynamodb</code> package of the AWS SDK for java, there seems to be a <code>sortValue(sortValue)</code> function in addition to the <code>partitionValue(partitionValue)</code> that you used for the <code>Key</code> object for your <code>QueryConditional</code> object. Therefore, you should append a call to <code>sortValue</code> onto the result of <code>Key.builder().partitionValue(roomid)</code> before calling the <code>build()</code> function. So assuming the value of the sort key you want to query on is stored in a variable called <code>createdDate</code>, replace this line,</p>\n<pre><code>QueryConditional keyValue = QueryConditional.keyEqualTo(Key.builder().partitionValue(roomid).build());\n</code></pre>\n<p>with</p>\n<pre><code>QueryConditional keyValue = QueryConditional.keyEqualTo(Key.builder().partitionValue(roomid).sortValue(createdDate).build());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10500127,"reputation":1609,"user_id":7739083,"display_name":"Stempler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654782171,"creation_date":1654782171,"answer_id":72561402,"question_id":64775805,"body_markdown":"This is my full java example to find an item using `DynamoDbEnhancedClient`:\r\n\r\n   \r\n\r\n     public void findByPartitionAndSortKey(String partitionKey, String sortKey) {\r\n            \r\n         DynamoDbTable&lt;MyObject&gt; myObjTable = dynamoDbEnhancedClient.table(&quot;my_table&quot;, TableSchema.fromBean(MyObject.class));\r\n    \r\n          QueryConditional queryConditional = \r\n          QueryConditional.keyEqualTo(Key.builder()\r\n                          .partitionValue(partitionKey)\r\n                          .sortValue(sortKey) //not required if you dont have a sort key\r\n                          .build());\r\n    \r\n                PageIterable&lt;MyObject&gt; results = myObjTable.query(queryConditional);\r\n    \r\n         results.stream().forEach(p-&gt; p.items().forEach(item -&gt; System.out.println(item) //process));\r\n              \r\n    \r\n        }","title":"Query DynamboDB on partition key and sort key using aws-skd-java2","body":"<p>This is my full java example to find an item using <code>DynamoDbEnhancedClient</code>:</p>\n<pre><code> public void findByPartitionAndSortKey(String partitionKey, String sortKey) {\n        \n     DynamoDbTable&lt;MyObject&gt; myObjTable = dynamoDbEnhancedClient.table(&quot;my_table&quot;, TableSchema.fromBean(MyObject.class));\n\n      QueryConditional queryConditional = \n      QueryConditional.keyEqualTo(Key.builder()\n                      .partitionValue(partitionKey)\n                      .sortValue(sortKey) //not required if you dont have a sort key\n                      .build());\n\n            PageIterable&lt;MyObject&gt; results = myObjTable.query(queryConditional);\n\n     results.stream().forEach(p-&gt; p.items().forEach(item -&gt; System.out.println(item) //process));\n          \n\n    }\n</code></pre>\n"}],"owner":{"account_id":4882255,"reputation":371,"user_id":3935670,"accept_rate":20,"display_name":"tsingh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4699,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1654782171,"creation_date":1605037801,"question_id":64775805,"body_markdown":"I have a dyanmodb Table which i want to query using aws-skd-java2. Example codes only show using primary key\r\n\r\n\r\n\r\nDynamoDbEnhancedClient client.....\r\n\r\n//static schema to enhance cold starts\r\n\r\nDynamoDbIndex&lt;ChildActivity&gt; index= client.table(&quot;DEV_ChildActivity&quot;, ChildActivity.TABLE_SCHEMA)\r\n\t\t\t\t\t\t\t.index(&quot;roomId-index&quot;)\r\n\r\nNow to Query:\r\n\r\n    QueryConditional keyValue = QueryConditional.keyEqualTo(Key.builder().partitionValue(roomid).build());\r\n    \t\tQueryEnhancedRequest req = QueryEnhancedRequest.builder()\r\n    \t\t\t\t.queryConditional(keyValue).build();\r\n    \r\n    \t\tSdkIterable&lt;Page&lt;ChildActivity&gt;&gt; result = index.query(req);\r\n\r\n\r\n**Question**: \r\nHow do i include sort key of the index in request above? In the examples there is sample passing query request to DyanmodbClient but that return a low level list of Map, which i don&#39;t want to use. In version 1 of java api it was quite straightforward  \r\n\r\nPrimary Partition Key:childId\r\nPrimary Sort Key:createdDateTime\r\n\r\n\r\nGSI(roomId-Index)\r\nKey:roomId(s)\r\nSort:createdDate(s)\r\n\r\n\r\n\r\nBelow are my dependencies\r\n\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt; \r\n\t\t\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t\t\t &lt;artifactId&gt;apache-client&lt;/artifactId&gt;\r\n\t\t\t\t &lt;/exclusion&gt;\r\n\t\t\t    &lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;netty-nio-client&lt;/artifactId&gt; &lt;/exclusion&gt;\r\n\t\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;dynamodb-enhanced&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt; \r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;url-connection-client&lt;/artifactId&gt; \r\n\t\t&lt;/dependency&gt;\r\n","title":"Query DynamboDB on partition key and sort key using aws-skd-java2","body":"<p>I have a dyanmodb Table which i want to query using aws-skd-java2. Example codes only show using primary key</p>\n<p>DynamoDbEnhancedClient client.....</p>\n<p>//static schema to enhance cold starts</p>\n<p>DynamoDbIndex index= client.table(&quot;DEV_ChildActivity&quot;, ChildActivity.TABLE_SCHEMA)\n.index(&quot;roomId-index&quot;)</p>\n<p>Now to Query:</p>\n<pre><code>QueryConditional keyValue = QueryConditional.keyEqualTo(Key.builder().partitionValue(roomid).build());\n        QueryEnhancedRequest req = QueryEnhancedRequest.builder()\n                .queryConditional(keyValue).build();\n\n        SdkIterable&lt;Page&lt;ChildActivity&gt;&gt; result = index.query(req);\n</code></pre>\n<p><strong>Question</strong>:\nHow do i include sort key of the index in request above? In the examples there is sample passing query request to DyanmodbClient but that return a low level list of Map, which i don't want to use. In version 1 of java api it was quite straightforward</p>\n<p>Primary Partition Key:childId\nPrimary Sort Key:createdDateTime</p>\n<p>GSI(roomId-Index)\nKey:roomId(s)\nSort:createdDate(s)</p>\n<p>Below are my dependencies</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;dynamodb&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt; \n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                 &lt;artifactId&gt;apache-client&lt;/artifactId&gt;\n             &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                &lt;artifactId&gt;netty-nio-client&lt;/artifactId&gt; &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n      &lt;artifactId&gt;dynamodb-enhanced&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt; \n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;url-connection-client&lt;/artifactId&gt; \n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","many-to-one"],"answers":[{"tags":[],"owner":{"account_id":17014182,"reputation":601,"user_id":12308512,"display_name":"Darshana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592033861,"creation_date":1592033861,"answer_id":62356875,"question_id":62353992,"body_markdown":"Yes you can, ```@JoinColumn(name = &quot;b_id&quot;, nullable = true)``` default value of nullable is ```true``` so your FK column can store ```null``` without setting any value of ```nullable```.\r\n\r\nTable A is referring to B, so Parent is B, not A.","title":"Setting null to foreign key column during save operation in jpa","body":"<p>Yes you can, <code>@JoinColumn(name = \"b_id\", nullable = true)</code> default value of nullable is <code>true</code> so your FK column can store <code>null</code> without setting any value of <code>nullable</code>.</p>\n\n<p>Table A is referring to B, so Parent is B, not A.</p>\n"},{"tags":[],"owner":{"account_id":7720244,"reputation":197,"user_id":5846691,"display_name":"Holger Rattenscheid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654781869,"creation_date":1654781869,"answer_id":72561321,"question_id":62353992,"body_markdown":"You have to add nullable = true and also optional = true. Optional is often forgotten.\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL, optional = true)\r\n    @JoinColumn(name = &quot;b_id&quot;, nullable = true)\r\n    private B b;","title":"Setting null to foreign key column during save operation in jpa","body":"<p>You have to add nullable = true and also optional = true. Optional is often forgotten.</p>\n<pre><code>@ManyToOne(cascade = CascadeType.ALL, optional = true)\n@JoinColumn(name = &quot;b_id&quot;, nullable = true)\nprivate B b;\n</code></pre>\n"}],"owner":{"account_id":18236823,"reputation":19,"user_id":13274634,"display_name":"NKZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1654781869,"creation_date":1592006079,"question_id":62353992,"body_markdown":"&lt;p&gt;I have a Child entity as below&lt;/p&gt;\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;A&quot;)\r\npublic class A {\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid2&quot;)\r\n    private UUID uuid;\r\n\r\n    private String str1;\r\n    \r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;b_id&quot;)\r\n    private B b;\r\n    ....\r\n}\r\n```\r\nand parent entity as \r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;B&quot;)\r\npublic class B {\r\n    @Id\r\n    private String bId;\r\n    private String name;\r\n}\r\n\r\n```\r\nI want to save a null value in the foreign key column &quot;b_id&quot; in table A when a save operation is performed. Can I do that using hibernate?","title":"Setting null to foreign key column during save operation in jpa","body":"<p>I have a Child entity as below</p>\n\n<pre><code>@Entity\n@Table(name = \"A\")\npublic class A {\n    @Id\n    @GeneratedValue(generator = \"uuid2\")\n    private UUID uuid;\n\n    private String str1;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = \"b_id\")\n    private B b;\n    ....\n}\n</code></pre>\n\n<p>and parent entity as </p>\n\n<pre><code>@Entity\n@Table(name = \"B\")\npublic class B {\n    @Id\n    private String bId;\n    private String name;\n}\n\n</code></pre>\n\n<p>I want to save a null value in the foreign key column \"b_id\" in table A when a save operation is performed. Can I do that using hibernate?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1654777603,"post_id":72560203,"comment_id":128176052,"body_markdown":"Clearly you&#39;ve already installed openjdk 17 and now there&#39;s a conflict. Which jdk do you want?","body":"Clearly you&#39;ve already installed openjdk 17 and now there&#39;s a conflict. Which jdk do you want?"},{"owner":{"account_id":25515821,"reputation":1,"user_id":19306702,"display_name":"mahomes15"},"score":0,"creation_date":1654778217,"post_id":72560203,"comment_id":128176280,"body_markdown":"I deleted openjdk 11, updated my ubuntu and then downloaded openjdk17 and now I can run my program.","body":"I deleted openjdk 11, updated my ubuntu and then downloaded openjdk17 and now I can run my program."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1654781811,"post_id":72560203,"comment_id":128177882,"body_markdown":"Want to put that as a proper answer? Then others potentially can use your question and answer to solve their problems as well...","body":"Want to put that as a proper answer? Then others potentially can use your question and answer to solve their problems as well..."}],"owner":{"account_id":25515821,"reputation":1,"user_id":19306702,"display_name":"mahomes15"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654781744,"creation_date":1654777436,"question_id":72560203,"body_markdown":"Everytime I try to run my Program I get this message. I already used the command `sudo apt install openjdk-11-jdk` and installed it, but it still doesn`t work. \r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can&#39;t load library: /usr/lib/jvm/java-17-openjdk-amd64/lib/libawt_xawt.so\r\n            at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2393)\r\n            at java.base/java.lang.Runtime.load0(Runtime.java:755)\r\n            at java.base/java.lang.System.load(System.java:1953)\r\n            at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\r\n            at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\r\n            at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232)\r\n            at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:174)\r\n            at java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:315)\r\n            at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:285)\r\n            at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2398)\r\n            at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\r\n            at java.base/java.lang.System.loadLibrary(System.java:1989)\r\n            at java.desktop/java.awt.Toolkit$2.run(Toolkit.java:1392)\r\n            at java.desktop/java.awt.Toolkit$2.run(Toolkit.java:1390)\r\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n            at java.desktop/java.awt.Toolkit.loadLibraries(Toolkit.java:1389)\r\n            at java.desktop/java.awt.Toolkit.initStatic(Toolkit.java:1427)\r\n            at java.desktop/java.awt.Toolkit.&lt;clinit&gt;(Toolkit.java:1401)\r\n            at java.desktop/java.awt.Color.&lt;clinit&gt;(Color.java:277)\r\n            at StdDraw.&lt;clinit&gt;(StdDraw.java:488)\r\n            at Envelope.main(Envelope.java:11)\r\n\r\n","title":"How do I solve &#39;UnsatisfiedLinkError: Can&#39;t load library&#39; in Ubuntu?","body":"<p>Everytime I try to run my Program I get this message. I already used the command <code>sudo apt install openjdk-11-jdk</code> and installed it, but it still doesn`t work.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can't load library: /usr/lib/jvm/java-17-openjdk-amd64/lib/libawt_xawt.so\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2393)\n        at java.base/java.lang.Runtime.load0(Runtime.java:755)\n        at java.base/java.lang.System.load(System.java:1953)\n        at java.base/jdk.internal.loader.NativeLibraries.load(Native Method)\n        at java.base/jdk.internal.loader.NativeLibraries$NativeLibraryImpl.open(NativeLibraries.java:388)\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:232)\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:174)\n        at java.base/jdk.internal.loader.NativeLibraries.findFromPaths(NativeLibraries.java:315)\n        at java.base/jdk.internal.loader.NativeLibraries.loadLibrary(NativeLibraries.java:285)\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2398)\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818)\n        at java.base/java.lang.System.loadLibrary(System.java:1989)\n        at java.desktop/java.awt.Toolkit$2.run(Toolkit.java:1392)\n        at java.desktop/java.awt.Toolkit$2.run(Toolkit.java:1390)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n        at java.desktop/java.awt.Toolkit.loadLibraries(Toolkit.java:1389)\n        at java.desktop/java.awt.Toolkit.initStatic(Toolkit.java:1427)\n        at java.desktop/java.awt.Toolkit.&lt;clinit&gt;(Toolkit.java:1401)\n        at java.desktop/java.awt.Color.&lt;clinit&gt;(Color.java:277)\n        at StdDraw.&lt;clinit&gt;(StdDraw.java:488)\n        at Envelope.main(Envelope.java:11)\n</code></pre>\n"},{"tags":["java","android","wifi-direct"],"comments":[{"owner":{"account_id":452406,"reputation":2551,"user_id":848833,"accept_rate":80,"display_name":"VinceFR"},"score":0,"creation_date":1373010790,"post_id":17483351,"comment_id":25409715,"body_markdown":"what say your crash log?","body":"what say your crash log?"}],"answers":[{"tags":[],"owner":{"account_id":2936021,"reputation":3219,"user_id":2514879,"display_name":"Bhavin Nattar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373009911,"creation_date":1373009911,"answer_id":17483553,"question_id":17483351,"body_markdown":"May this help you..\r\n\r\nI suppose you have not given the permission in `AndroidManifest.xml` file..\r\n","title":"App Crashing when WiFi Direct is turned ON","body":"<p>May this help you..</p>\n\n<p>I suppose you have not given the permission in <code>AndroidManifest.xml</code> file..</p>\n"}],"owner":{"account_id":2446765,"reputation":1,"user_id":2133910,"display_name":"Ostap Orobes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654781330,"creation_date":1373009243,"question_id":17483351,"body_markdown":"I was developing WiFi Direct application. It turns out, that app is crashing when I&#39; m turning on WiFi Direct and launching a program. \r\nHere is my code\r\n\r\n    @TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH)\r\n        public class MainActivity extends Activity {\r\n\r\n\t//For WiFi Direct\r\n\tprivate WifiP2pManager mManager;\r\n\tprivate Channel mChannel;\r\n\tprivate IntentFilter mIntentFilter= new IntentFilter();\r\n    private boolean isWifiP2pEnabled = false;\r\n    private ArrayAdapter aa;\r\n\r\n\tpublic void setIsWifiP2pEnabled(boolean isWifiP2pEnabled) {\r\n\t\tisWifiP2pEnabled=isWifiP2pEnabled;\r\n      \r\n    }\r\n\t//End Wifi Direct\r\n\tprivate Networking_input net;\r\n\tprivate Networking_output net_out;\r\n\tprivate Networking_files net_file;\r\n\tprivate EditText inputData;\r\n\tprivate Button sendParameters;\r\n\tprivate Button peersSearch;\r\n\tprivate ListView listview;\r\n\tprivate TextView displayText;\r\n\tprivate List&lt;WifiP2pDevice&gt; deviceList = new ArrayList&lt;WifiP2pDevice&gt;();\r\n\t\r\n\t\r\n\t\r\n\t@Override\r\n\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.activity_main);\r\n\t\t\r\n\t\t//For Wifi Direct\r\n\t\tmIntentFilter.addAction(WifiP2pManager.WIFI_P2P_STATE_CHANGED_ACTION);\r\n\t    mIntentFilter.addAction(WifiP2pManager.WIFI_P2P_PEERS_CHANGED_ACTION);\r\n\t    mIntentFilter.addAction(WifiP2pManager.WIFI_P2P_CONNECTION_CHANGED_ACTION);\r\n\t    mIntentFilter.addAction(WifiP2pManager.WIFI_P2P_THIS_DEVICE_CHANGED_ACTION);\r\n\t\t//End Wifi Direct\r\n\t\t\r\n\t\tinputData= (EditText) findViewById(R.id.editText1);\r\n\t\tsendParameters=(Button) findViewById(R.id.button1);\r\n\t\tpeersSearch=(Button) findViewById(R.id.button2);\r\n\t\tdisplayText=(TextView) findViewById(R.id.textView1);\r\n\t\tlistview=(ListView) findViewById(R.id.listView1);\r\n\t\taa=new ArrayAdapter&lt;WifiP2pDevice&gt;(this, android.R.layout.simple_list_item_1, deviceList);\r\n\t\t\r\n\t\tlistview.setAdapter(aa);\r\n\t\t\r\n\t\t//Begin for WiFi Direct\r\n\t\tmManager = (WifiP2pManager) getSystemService(Context.WIFI_P2P_SERVICE);\r\n\t    mChannel = mManager.initialize(this, getMainLooper(), null);\r\n\t    //End for WiFi Direct\t\r\n\t    \r\n\t\t\r\n\t    peersSearch.setOnClickListener(new OnClickListener() {\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View v) \r\n\t\t\t{\r\n\t\t\t\tdiscoverPeers();\r\n\t\t\t}\r\n\t\t});\r\n\t    \r\n\t    listview.setOnItemClickListener(new OnItemClickListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onItemClick(AdapterView&lt;?&gt; arg0, View arg1, int index,long arg3) \r\n\t\t\t{\r\n\t\t\t\tconnectTo(deviceList.get(index));\t\t\t\t\r\n\t\t\t}\r\n\t    \t\r\n\t\t});\t    \r\n\t    sendParameters.setOnClickListener(new OnClickListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View v) {\r\n\t\t\t\t\r\n\t\t\t\tnet_out= new Networking_output();\r\n\t\t\t\tString input=inputData.getText().toString();\r\n\t\t\t\tnet_out.execute(input);\r\n\t\t\t\tnet_file=new Networking_files();\r\n\t\t\t\tnet_file.execute();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t}\r\n\t\r\n\tBroadcastReceiver p2pStatusReceiver= new BroadcastReceiver()\r\n\t{\r\n\t\t@Override\r\n\t\tpublic void onReceive(Context context, Intent intent) {\r\n\t\t      int state = intent.getIntExtra(\r\n\t\t        WifiP2pManager.EXTRA_WIFI_STATE,\r\n\t\t        WifiP2pManager.WIFI_P2P_STATE_DISABLED);\r\n\t\t      \r\n\t\t      switch (state) {\r\n\t\t        case (WifiP2pManager.WIFI_P2P_STATE_ENABLED): \r\n\t\t        \tpeersSearch.setEnabled(true);\r\n\t\t          break;\r\n\t\t        default: \r\n\t\t        \tpeersSearch.setEnabled(false);\r\n\t\t      }\r\n\t\t    }\r\n\t};\r\n\t\r\n\tprivate void discoverPeers()\r\n\t{\r\n\t\tmManager.discoverPeers(mChannel, new WifiP2pManager.ActionListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onSuccess() {\r\n\t\t\t\tToast toast=Toast.makeText(MainActivity.this, &quot;Discovery initiated&quot;, Toast.LENGTH_SHORT);\r\n\t\t\t\ttoast.show();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onFailure(int reason) {\r\n\t\t\t\tToast toast=Toast.makeText(MainActivity.this, &quot;Discovery failed&quot;, Toast.LENGTH_SHORT);\r\n\t\t\t\ttoast.show();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tBroadcastReceiver peerDiscoveryReceiver = new BroadcastReceiver()\r\n\t{\r\n\t\t@TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH)\r\n\t\t@Override\r\n\t\tpublic void onReceive(Context context, Intent intent) \r\n\t\t{\r\n\t\t\tmManager.requestPeers(mChannel, new PeerListListener() {\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onPeersAvailable(WifiP2pDeviceList peers) {\r\n\t\t\t\t\tdeviceList.clear();\r\n\t\t\t\t\tdeviceList.addAll(peers.getDeviceList());\r\n\t\t\t\t\taa.notifyDataSetChanged();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\t@TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH)\r\n\tprivate void connectTo(final WifiP2pDevice device)\r\n\t{\r\n\t\tWifiP2pConfig config=new WifiP2pConfig();\r\n\t\tconfig.deviceAddress=device.deviceAddress;\r\n\t\t\r\n\t\tmManager.connect(mChannel, config, new ActionListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onSuccess() {\r\n\t\t\t\tToast toast=Toast.makeText(MainActivity.this, &quot;Connected to &quot; + device.deviceAddress.toString() , Toast.LENGTH_SHORT);\r\n\t\t\t\ttoast.show();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onFailure(int reason) {\r\n\t\t\t\tToast toast=Toast.makeText(MainActivity.this, &quot;Connection Failed&quot; , Toast.LENGTH_SHORT);\r\n\t\t\t\ttoast.show();\r\n\t\t\t}\r\n\t\t});\r\n\t}\t\r\n\r\n\tBroadcastReceiver connectionChangedReceiver = new BroadcastReceiver() {\r\n\t\t    @Override\r\n\t\t    public void onReceive(Context context, Intent intent) \r\n\t\t    {\r\n\t\t    \tString ExtraKey=WifiP2pManager.EXTRA_NETWORK_INFO;\r\n\t\t    \tNetworkInfo networkinfo= (NetworkInfo)intent.getParcelableExtra(ExtraKey);\r\n\t\t    \tif(networkinfo.isConnected())\r\n\t\t    \t{\r\n\t\t    \t\tmManager.requestConnectionInfo(mChannel, new ConnectionInfoListener() {\t\t\t\t\t\t\r\n\t\t\t\t\t\tpublic void onConnectionInfoAvailable(WifiP2pInfo info) {\r\n\t\t\t\t\t\t\tif(info.groupFormed)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif(info.isGroupOwner)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tToast toast=Toast.makeText(MainActivity.this, &quot;I am Group Owner&quot; , Toast.LENGTH_SHORT);\r\n\t\t\t\t\t\t\t\t\ttoast.show();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse if(info.groupFormed)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tToast toast=Toast.makeText(MainActivity.this, &quot;I am Group Client&quot; , Toast.LENGTH_SHORT);\r\n\t\t\t\t\t\t\t\t\ttoast.show();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t    \t}  \t\t\t\r\n\t\t    \t\t\t\r\n\t\t    }\r\n\t };\r\n\t\r\n\t \r\n\t @Override\r\n\t public void onResume() \r\n\t {\r\n\t        super.onResume();\r\n\t        registerReceiver(peerDiscoveryReceiver, mIntentFilter);\r\n\t        registerReceiver(connectionChangedReceiver, mIntentFilter);\r\n\t        registerReceiver(p2pStatusReceiver, mIntentFilter);\r\n\t }\r\n\t \r\n\t \r\n\t \r\n\t @Override\r\n\t public void onPause() \r\n\t {\r\n\t        super.onPause();\r\n\t        unregisterReceiver(peerDiscoveryReceiver);\r\n\t        unregisterReceiver(connectionChangedReceiver);\r\n\t        unregisterReceiver(p2pStatusReceiver);\r\n\t }\r\n\r\n\r\nI took a code from http://kurser.iha.dk/eit/itsmap/basic/MEIER/Professional%20Android%204%20All%20downloads/9781118102275%20PA4AD/Code%20Snippets/Chapter%2016/PA4AD_Ch16_WiFiDirect/src/com/paad/wifidirect/WiFiDirectActivity.java\r\n\r\nTHank you in advance for help\r\n\r\nUPD\r\nManifest file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.androidapp&quot;\r\n    android:versionCode=&quot;1&quot;\r\n    android:versionName=&quot;1.0&quot; &gt;\r\n\r\n    &lt;uses-sdk\r\n        android:minSdkVersion=&quot;8&quot;\r\n        android:targetSdkVersion=&quot;17&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission\r\n        android:required=&quot;true&quot;\r\n        android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot;/&gt;\r\n    &lt;uses-permission\r\n        android:required=&quot;true&quot;\r\n        android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot;/&gt;\r\n    \r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@drawable/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:theme=&quot;@style/AppTheme&quot; &gt;\r\n        &lt;activity\r\n            android:name=&quot;com.example.androidapp.MainActivity&quot;\r\n            android:label=&quot;@string/app_name&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n","title":"App Crashing when WiFi Direct is turned ON","body":"<p>I was developing WiFi Direct application. It turns out, that app is crashing when I' m turning on WiFi Direct and launching a program. \nHere is my code</p>\n\n<pre><code>@TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH)\n    public class MainActivity extends Activity {\n\n//For WiFi Direct\nprivate WifiP2pManager mManager;\nprivate Channel mChannel;\nprivate IntentFilter mIntentFilter= new IntentFilter();\nprivate boolean isWifiP2pEnabled = false;\nprivate ArrayAdapter aa;\n\npublic void setIsWifiP2pEnabled(boolean isWifiP2pEnabled) {\n    isWifiP2pEnabled=isWifiP2pEnabled;\n\n}\n//End Wifi Direct\nprivate Networking_input net;\nprivate Networking_output net_out;\nprivate Networking_files net_file;\nprivate EditText inputData;\nprivate Button sendParameters;\nprivate Button peersSearch;\nprivate ListView listview;\nprivate TextView displayText;\nprivate List&lt;WifiP2pDevice&gt; deviceList = new ArrayList&lt;WifiP2pDevice&gt;();\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    //For Wifi Direct\n    mIntentFilter.addAction(WifiP2pManager.WIFI_P2P_STATE_CHANGED_ACTION);\n    mIntentFilter.addAction(WifiP2pManager.WIFI_P2P_PEERS_CHANGED_ACTION);\n    mIntentFilter.addAction(WifiP2pManager.WIFI_P2P_CONNECTION_CHANGED_ACTION);\n    mIntentFilter.addAction(WifiP2pManager.WIFI_P2P_THIS_DEVICE_CHANGED_ACTION);\n    //End Wifi Direct\n\n    inputData= (EditText) findViewById(R.id.editText1);\n    sendParameters=(Button) findViewById(R.id.button1);\n    peersSearch=(Button) findViewById(R.id.button2);\n    displayText=(TextView) findViewById(R.id.textView1);\n    listview=(ListView) findViewById(R.id.listView1);\n    aa=new ArrayAdapter&lt;WifiP2pDevice&gt;(this, android.R.layout.simple_list_item_1, deviceList);\n\n    listview.setAdapter(aa);\n\n    //Begin for WiFi Direct\n    mManager = (WifiP2pManager) getSystemService(Context.WIFI_P2P_SERVICE);\n    mChannel = mManager.initialize(this, getMainLooper(), null);\n    //End for WiFi Direct   \n\n\n    peersSearch.setOnClickListener(new OnClickListener() {          \n        @Override\n        public void onClick(View v) \n        {\n            discoverPeers();\n        }\n    });\n\n    listview.setOnItemClickListener(new OnItemClickListener() {\n\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; arg0, View arg1, int index,long arg3) \n        {\n            connectTo(deviceList.get(index));               \n        }\n\n    });     \n    sendParameters.setOnClickListener(new OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n\n            net_out= new Networking_output();\n            String input=inputData.getText().toString();\n            net_out.execute(input);\n            net_file=new Networking_files();\n            net_file.execute();\n\n        }\n    });\n\n}\n\nBroadcastReceiver p2pStatusReceiver= new BroadcastReceiver()\n{\n    @Override\n    public void onReceive(Context context, Intent intent) {\n          int state = intent.getIntExtra(\n            WifiP2pManager.EXTRA_WIFI_STATE,\n            WifiP2pManager.WIFI_P2P_STATE_DISABLED);\n\n          switch (state) {\n            case (WifiP2pManager.WIFI_P2P_STATE_ENABLED): \n                peersSearch.setEnabled(true);\n              break;\n            default: \n                peersSearch.setEnabled(false);\n          }\n        }\n};\n\nprivate void discoverPeers()\n{\n    mManager.discoverPeers(mChannel, new WifiP2pManager.ActionListener() {\n\n        @Override\n        public void onSuccess() {\n            Toast toast=Toast.makeText(MainActivity.this, \"Discovery initiated\", Toast.LENGTH_SHORT);\n            toast.show();\n\n        }\n\n        @Override\n        public void onFailure(int reason) {\n            Toast toast=Toast.makeText(MainActivity.this, \"Discovery failed\", Toast.LENGTH_SHORT);\n            toast.show();\n\n        }\n    });\n}\n\nBroadcastReceiver peerDiscoveryReceiver = new BroadcastReceiver()\n{\n    @TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH)\n    @Override\n    public void onReceive(Context context, Intent intent) \n    {\n        mManager.requestPeers(mChannel, new PeerListListener() {\n\n            @Override\n            public void onPeersAvailable(WifiP2pDeviceList peers) {\n                deviceList.clear();\n                deviceList.addAll(peers.getDeviceList());\n                aa.notifyDataSetChanged();\n\n            }\n        });\n    }\n};\n\n\n@TargetApi(Build.VERSION_CODES.ICE_CREAM_SANDWICH)\nprivate void connectTo(final WifiP2pDevice device)\n{\n    WifiP2pConfig config=new WifiP2pConfig();\n    config.deviceAddress=device.deviceAddress;\n\n    mManager.connect(mChannel, config, new ActionListener() {\n\n        @Override\n        public void onSuccess() {\n            Toast toast=Toast.makeText(MainActivity.this, \"Connected to \" + device.deviceAddress.toString() , Toast.LENGTH_SHORT);\n            toast.show();\n        }\n\n        @Override\n        public void onFailure(int reason) {\n            Toast toast=Toast.makeText(MainActivity.this, \"Connection Failed\" , Toast.LENGTH_SHORT);\n            toast.show();\n        }\n    });\n}   \n\nBroadcastReceiver connectionChangedReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) \n        {\n            String ExtraKey=WifiP2pManager.EXTRA_NETWORK_INFO;\n            NetworkInfo networkinfo= (NetworkInfo)intent.getParcelableExtra(ExtraKey);\n            if(networkinfo.isConnected())\n            {\n                mManager.requestConnectionInfo(mChannel, new ConnectionInfoListener() {                     \n                    public void onConnectionInfoAvailable(WifiP2pInfo info) {\n                        if(info.groupFormed)\n                        {\n                            if(info.isGroupOwner)\n                            {\n                                Toast toast=Toast.makeText(MainActivity.this, \"I am Group Owner\" , Toast.LENGTH_SHORT);\n                                toast.show();\n                            }\n                            else if(info.groupFormed)\n                            {\n                                Toast toast=Toast.makeText(MainActivity.this, \"I am Group Client\" , Toast.LENGTH_SHORT);\n                                toast.show();\n                            }\n                        }\n\n\n                    }\n                });\n            }           \n\n        }\n };\n\n\n @Override\n public void onResume() \n {\n        super.onResume();\n        registerReceiver(peerDiscoveryReceiver, mIntentFilter);\n        registerReceiver(connectionChangedReceiver, mIntentFilter);\n        registerReceiver(p2pStatusReceiver, mIntentFilter);\n }\n\n\n\n @Override\n public void onPause() \n {\n        super.onPause();\n        unregisterReceiver(peerDiscoveryReceiver);\n        unregisterReceiver(connectionChangedReceiver);\n        unregisterReceiver(p2pStatusReceiver);\n }\n</code></pre>\n\n<p>I took a code from <a href=\"http://kurser.iha.dk/eit/itsmap/basic/MEIER/Professional%20Android%204%20All%20downloads/9781118102275%20PA4AD/Code%20Snippets/Chapter%2016/PA4AD_Ch16_WiFiDirect/src/com/paad/wifidirect/WiFiDirectActivity.java\" rel=\"nofollow\">http://kurser.iha.dk/eit/itsmap/basic/MEIER/Professional%20Android%204%20All%20downloads/9781118102275%20PA4AD/Code%20Snippets/Chapter%2016/PA4AD_Ch16_WiFiDirect/src/com/paad/wifidirect/WiFiDirectActivity.java</a></p>\n\n<p>THank you in advance for help</p>\n\n<p>UPD\nManifest file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.example.androidapp\"\nandroid:versionCode=\"1\"\nandroid:versionName=\"1.0\" &gt;\n\n&lt;uses-sdk\n    android:minSdkVersion=\"8\"\n    android:targetSdkVersion=\"17\" /&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n&lt;uses-permission\n    android:required=\"true\"\n    android:name=\"android.permission.ACCESS_WIFI_STATE\"/&gt;\n&lt;uses-permission\n    android:required=\"true\"\n    android:name=\"android.permission.CHANGE_WIFI_STATE\"/&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@drawable/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:theme=\"@style/AppTheme\" &gt;\n    &lt;activity\n        android:name=\"com.example.androidapp.MainActivity\"\n        android:label=\"@string/app_name\" &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","node.js","ipc","communication"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1568126404,"post_id":57873141,"comment_id":102171166,"body_markdown":"Try listening on System.in and responding to System.out","body":"Try listening on System.in and responding to System.out"},{"owner":{"account_id":3908821,"reputation":82,"user_id":3234726,"display_name":"Hengqi Chen"},"score":1,"creation_date":1568127300,"post_id":57873141,"comment_id":102171685,"body_markdown":"unix domain socket on *nix or named pipe on windows","body":"unix domain socket on *nix or named pipe on windows"},{"owner":{"account_id":9531131,"reputation":188,"user_id":7082777,"display_name":"Mike Mulligan"},"score":0,"creation_date":1568384852,"post_id":57873141,"comment_id":102268557,"body_markdown":"I ended up solving this using named pipes, thanks Hengqi Chen!","body":"I ended up solving this using named pipes, thanks Hengqi Chen!"}],"answers":[{"tags":[],"owner":{"account_id":9531131,"reputation":188,"user_id":7082777,"display_name":"Mike Mulligan"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1568384951,"creation_date":1568384951,"answer_id":57925555,"question_id":57873141,"body_markdown":"I solved this issue by using named pipes...\r\n\r\nOn Node I used the Net API\r\nhttps://nodejs.org/api/net.html#net_ipc_support\r\n\r\nOn Java I used RandomAccessFile\r\nhttps://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html\r\n","title":"IPC Communication between Node.js and Java","body":"<p>I solved this issue by using named pipes...</p>\n\n<p>On Node I used the Net API\n<a href=\"https://nodejs.org/api/net.html#net_ipc_support\" rel=\"nofollow noreferrer\">https://nodejs.org/api/net.html#net_ipc_support</a></p>\n\n<p>On Java I used RandomAccessFile\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/io/RandomAccessFile.html</a></p>\n"},{"tags":[],"owner":{"account_id":10426298,"reputation":480,"user_id":7690862,"display_name":"Jake P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654781313,"creation_date":1654781313,"answer_id":72561183,"question_id":57873141,"body_markdown":"I ended up solving this with inspiration from [Erwin Bolwidt&#39;s Comment][1].\r\n\r\n    const { spawn } = require(&#39;child_process&#39;)\r\n    \r\n    // Java App is within args\r\n    const args = []\r\n    \r\n    const javaProcess = spawn(&#39;java&#39;, args, { cwd: __dirname })\r\n    \r\n    javaProcess.stdout.on(&#39;data&#39;, (m) =&gt; {\r\n      console.log(&#39;PARENT got message:&#39;, m)\r\n    })\r\n    \r\n    // Sends message to the Java process\r\n    javaProcess.stdin.write(&#39;Hello there java!&#39;);\r\n\r\nThe java process can wait for a message with a `Scanner` on `System.in` then print output to `System.out`.\r\n\r\nIn summary you&#39;re just rerouting the process&#39;s stdin/stdout. https://nodejs.org/api/child_process.html#subprocessstdout \r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57873141/ipc-communication-between-node-js-and-java#comment102171166_57873141\r\n","title":"IPC Communication between Node.js and Java","body":"<p>I ended up solving this with inspiration from <a href=\"https://stackoverflow.com/questions/57873141/ipc-communication-between-node-js-and-java#comment102171166_57873141\">Erwin Bolwidt's Comment</a>.</p>\n<pre><code>const { spawn } = require('child_process')\n\n// Java App is within args\nconst args = []\n\nconst javaProcess = spawn('java', args, { cwd: __dirname })\n\njavaProcess.stdout.on('data', (m) =&gt; {\n  console.log('PARENT got message:', m)\n})\n\n// Sends message to the Java process\njavaProcess.stdin.write('Hello there java!');\n</code></pre>\n<p>The java process can wait for a message with a <code>Scanner</code> on <code>System.in</code> then print output to <code>System.out</code>.</p>\n<p>In summary you're just rerouting the process's stdin/stdout. <a href=\"https://nodejs.org/api/child_process.html#subprocessstdout\" rel=\"nofollow noreferrer\">https://nodejs.org/api/child_process.html#subprocessstdout</a></p>\n"}],"owner":{"account_id":9531131,"reputation":188,"user_id":7082777,"display_name":"Mike Mulligan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1446,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57925555,"answer_count":2,"score":1,"last_activity_date":1654781313,"creation_date":1568126232,"question_id":57873141,"body_markdown":"I&#39;m looking to communicate between Node.js and a Java sub-process via IPC. I&#39;m looking for recommendations that **do not** require opening a port.\r\n\r\n```javascript\r\nconst { spawn } = require(&#39;child_process&#39;)\r\n\r\n// Java App is within args\r\nconst args = []\r\n\r\nconst javaProcess = spawn(&#39;java&#39;, args, { cwd: __dirname })\r\n\r\njavaProcess.on(&#39;message&#39;, (m) =&gt; {\r\n  console.log(&#39;PARENT got message:&#39;, m)\r\n})\r\n\r\n// Sends { &#39;hello&#39;: &#39;world&#39; } to the Java process\r\njavaProcess.send({ hello: &#39;world&#39; })\r\n```\r\n\r\nI understand that the Node layer can send messages to a sub-process, I just don&#39;t know how I&#39;d go about listening for messages in the Java layer and sending messages back.\r\n\r\nAny help is greatly appreciated, thanks!","title":"IPC Communication between Node.js and Java","body":"<p>I'm looking to communicate between Node.js and a Java sub-process via IPC. I'm looking for recommendations that <strong>do not</strong> require opening a port.</p>\n\n<pre><code>const { spawn } = require('child_process')\n\n// Java App is within args\nconst args = []\n\nconst javaProcess = spawn('java', args, { cwd: __dirname })\n\njavaProcess.on('message', (m) =&gt; {\n  console.log('PARENT got message:', m)\n})\n\n// Sends { 'hello': 'world' } to the Java process\njavaProcess.send({ hello: 'world' })\n</code></pre>\n\n<p>I understand that the Node layer can send messages to a sub-process, I just don't know how I'd go about listening for messages in the Java layer and sending messages back.</p>\n\n<p>Any help is greatly appreciated, thanks!</p>\n"},{"tags":["java","selenium","firefox","selenium-webdriver"],"comments":[{"owner":{"account_id":8251305,"reputation":912,"user_id":6205848,"display_name":"HaC"},"score":0,"creation_date":1508821923,"post_id":46902102,"comment_id":80751945,"body_markdown":"What version of Firefox do you have? Make sure it&#39;s at least v 55","body":"What version of Firefox do you have? Make sure it&#39;s at least v 55"},{"owner":{"account_id":1724214,"reputation":461,"user_id":1579272,"accept_rate":55,"display_name":"Fenici"},"score":0,"creation_date":1508822461,"post_id":46902102,"comment_id":80752121,"body_markdown":"its latest firefox , i haven&#39;t try the firefox nighty on mac , @Hac , how to call firefox nighty in mac ?","body":"its latest firefox , i haven&#39;t try the firefox nighty on mac , @Hac , how to call firefox nighty in mac ?"}],"answers":[{"tags":[],"owner":{"account_id":4806420,"reputation":3411,"user_id":3881320,"display_name":"Davide Patti"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1637267722,"creation_date":1508828799,"answer_id":46904206,"question_id":46902102,"body_markdown":"Your problem is here:\r\n\r\n    @After\r\n        public void test_Cleaning(){\r\n            System.out.println(&quot;Closing Browser&quot;);\r\n            baseURL = null;\r\n            driver.close();\r\n            driver.quit();\r\n        }\r\n\r\nTry only with `close()`.\r\nExplanation [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/35286345/3881320","title":"Error in fire fox selenium web driver","body":"<p>Your problem is here:</p>\n<pre><code>@After\n    public void test_Cleaning(){\n        System.out.println(&quot;Closing Browser&quot;);\n        baseURL = null;\n        driver.close();\n        driver.quit();\n    }\n</code></pre>\n<p>Try only with <code>close()</code>.\nExplanation <a href=\"https://stackoverflow.com/a/35286345/3881320\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":23504287,"reputation":1467,"user_id":17553781,"display_name":"Manishyadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654781233,"creation_date":1654781233,"answer_id":72561161,"question_id":46902102,"body_markdown":"We generally get this , if we use `driver.close()` and `driver.quit()` together  so it would be better if you remove `driver.close()`;\r\n\r\n```\r\n public void test_Cleaning(){\r\n        System.out.println(&quot;Closing Browser&quot;);\r\n        baseURL = null;\r\n        driver.quit();\r\n    }\r\n```","title":"Error in fire fox selenium web driver","body":"<p>We generally get this , if we use <code>driver.close()</code> and <code>driver.quit()</code> together  so it would be better if you remove <code>driver.close()</code>;</p>\n<pre><code> public void test_Cleaning(){\n        System.out.println(&quot;Closing Browser&quot;);\n        baseURL = null;\n        driver.quit();\n    }\n</code></pre>\n"}],"owner":{"account_id":1724214,"reputation":461,"user_id":1579272,"accept_rate":55,"display_name":"Fenici"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13816,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46904206,"answer_count":2,"score":1,"last_activity_date":1654781233,"creation_date":1508818636,"question_id":46902102,"body_markdown":"Recently, bump into this issues with selenium firefox driver. \r\nThanks in advance \r\n\r\n**Set UP** \r\n\r\nos.name: &#39;Mac OS X&#39;,\r\n\r\nos.arch: &#39;x86_64&#39;,\r\n\r\nos.version: &#39;10.12.6&#39;, \r\n\r\njava.version: &#39;1.8.0_131&#39; \r\n\r\n**Firefox version** 56.0.1 (64-bit)\r\n \r\n***Gecko Driver***  Latest 0.19.0\r\n\r\n&gt; The error shows failed:\r\n&gt; org.openqa.selenium.SessionNotCreatedException: Tried to run command\r\n&gt; without establishing a connection\r\n\r\nI tried different ways to tackle it but always come with the same error. \r\n1. update all the selenium test driver to the latest\r\n2. specify the directory export PATH = $PATH driverDir \r\n\r\n\r\n***My code*** \r\n\r\n  \r\n\r\n      package automationFramework;\r\n    \r\n    import org.apache.commons.io.FileUtils;\r\n    import org.junit.*;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.remote.RemoteWebDriver;\r\n    import org.openqa.selenium.safari.SafariDriver;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    \r\n    public class GeckoDriver {\r\n        private static WebDriver driver;\r\n        public static int random = 0;\r\n        private String baseURL;\r\n        // @BeforeClass : Executes only once for the Test-Class.\r\n        @BeforeClass\r\n        public static void setting_SystemProperties(){\r\n            System.out.println(&quot;System Properties seting Key value.&quot;);\r\n    \r\n        }\r\n        // @Before      : To execute once before ever Test.\r\n        @Before\r\n        public void test_Setup(){\r\n            System.out.println(&quot;Launching Browser&quot;);\r\n            if (random == 0) {\r\n                System.out.println(&quot;Start Chrome Browser Testing &quot;);\r\n                System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/Users/Fannity/Desktop/Drivers/geckodriver&quot;);  // Chrome Driver Location.\r\n                driver = new FirefoxDriver();\r\n            }\r\n    \r\n            driver.manage().window().maximize();\r\n            driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n    \r\n            System.out.println(&quot;Session ID : &quot; + ((RemoteWebDriver) driver).getSessionId() );\r\n        }\r\n    \r\n        @Test\r\n        public void selenium_ScreenShot() throws IOException {\r\n            baseURL = &quot;https://www.google.com/&quot;;\r\n            driver.get(baseURL);\r\n            System.out.println(&quot;Selenium Screen shot.&quot;);\r\n            File screenshotFile = ((RemoteWebDriver) driver).getScreenshotAs(OutputType.FILE);\r\n            FileUtils.copyFile(screenshotFile, new File(&quot;/Users/Fannity/Desktop/JUNIT-Selenium.jpg&quot;));\r\n            random += 1;\r\n        }\r\n    \r\n        // @After       : To execute once after ever Test.\r\n        @After\r\n        public void test_Cleaning(){\r\n            System.out.println(&quot;Closing Browser&quot;);\r\n            baseURL = null;\r\n            driver.close();\r\n            driver.quit();\r\n        }\r\n        // @AfterClass  : Executes only once before Terminating the Test-Class.\r\n        @AfterClass\r\n        public static void clearing_SystemProperties(){\r\n            System.out.println(&quot;System Property Removing Key value.&quot;);\r\n            System.clearProperty(&quot;webdriver.gecko.driver&quot;);\r\n        }\r\n    }\r\n\r\n***ERROR*** \r\n\r\nhttps://gist.github.com/Fenici/f82f885486de37ae110fda8d7430df6e","title":"Error in fire fox selenium web driver","body":"<p>Recently, bump into this issues with selenium firefox driver. \nThanks in advance </p>\n\n<p><strong>Set UP</strong> </p>\n\n<p>os.name: 'Mac OS X',</p>\n\n<p>os.arch: 'x86_64',</p>\n\n<p>os.version: '10.12.6', </p>\n\n<p>java.version: '1.8.0_131' </p>\n\n<p><strong>Firefox version</strong> 56.0.1 (64-bit)</p>\n\n<p><strong><em>Gecko Driver</em></strong>  Latest 0.19.0</p>\n\n<blockquote>\n  <p>The error shows failed:\n  org.openqa.selenium.SessionNotCreatedException: Tried to run command\n  without establishing a connection</p>\n</blockquote>\n\n<p>I tried different ways to tackle it but always come with the same error. \n1. update all the selenium test driver to the latest\n2. specify the directory export PATH = $PATH driverDir </p>\n\n<p><strong><em>My code</em></strong> </p>\n\n<pre><code>  package automationFramework;\n\nimport org.apache.commons.io.FileUtils;\nimport org.junit.*;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.remote.RemoteWebDriver;\nimport org.openqa.selenium.safari.SafariDriver;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.concurrent.TimeUnit;\n\nimport static org.junit.Assert.assertEquals;\n\npublic class GeckoDriver {\n    private static WebDriver driver;\n    public static int random = 0;\n    private String baseURL;\n    // @BeforeClass : Executes only once for the Test-Class.\n    @BeforeClass\n    public static void setting_SystemProperties(){\n        System.out.println(\"System Properties seting Key value.\");\n\n    }\n    // @Before      : To execute once before ever Test.\n    @Before\n    public void test_Setup(){\n        System.out.println(\"Launching Browser\");\n        if (random == 0) {\n            System.out.println(\"Start Chrome Browser Testing \");\n            System.setProperty(\"webdriver.gecko.driver\", \"/Users/Fannity/Desktop/Drivers/geckodriver\");  // Chrome Driver Location.\n            driver = new FirefoxDriver();\n        }\n\n        driver.manage().window().maximize();\n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n\n        System.out.println(\"Session ID : \" + ((RemoteWebDriver) driver).getSessionId() );\n    }\n\n    @Test\n    public void selenium_ScreenShot() throws IOException {\n        baseURL = \"https://www.google.com/\";\n        driver.get(baseURL);\n        System.out.println(\"Selenium Screen shot.\");\n        File screenshotFile = ((RemoteWebDriver) driver).getScreenshotAs(OutputType.FILE);\n        FileUtils.copyFile(screenshotFile, new File(\"/Users/Fannity/Desktop/JUNIT-Selenium.jpg\"));\n        random += 1;\n    }\n\n    // @After       : To execute once after ever Test.\n    @After\n    public void test_Cleaning(){\n        System.out.println(\"Closing Browser\");\n        baseURL = null;\n        driver.close();\n        driver.quit();\n    }\n    // @AfterClass  : Executes only once before Terminating the Test-Class.\n    @AfterClass\n    public static void clearing_SystemProperties(){\n        System.out.println(\"System Property Removing Key value.\");\n        System.clearProperty(\"webdriver.gecko.driver\");\n    }\n}\n</code></pre>\n\n<p><strong><em>ERROR</em></strong> </p>\n\n<p><a href=\"https://gist.github.com/Fenici/f82f885486de37ae110fda8d7430df6e\" rel=\"nofollow noreferrer\">https://gist.github.com/Fenici/f82f885486de37ae110fda8d7430df6e</a></p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":2,"creation_date":1402418481,"post_id":4681090,"comment_id":37261063,"body_markdown":"unfortunately, I think some of the answers below may not work because apparently something changed with more recent versions of Java. Today I downloaded the version 7.60 Java SDK. After some searching, found it at C:\\Program Files (x86)\\Java\\jdk1.7.0_60. There was an older version 6 JRE already installed. It was at C:\\Program Files\\Java and this was on the %PATH% not the newer install.","body":"unfortunately, I think some of the answers below may not work because apparently something changed with more recent versions of Java. Today I downloaded the version 7.60 Java SDK. After some searching, found it at C:\\Program Files (x86)\\Java\\jdk1.7.0_60. There was an older version 6 JRE already installed. It was at C:\\Program Files\\Java and this was on the %PATH% not the newer install."},{"owner":{"account_id":1868856,"reputation":1929,"user_id":1691651,"display_name":"JohnP2"},"score":1,"creation_date":1521067900,"post_id":4681090,"comment_id":85580933,"body_markdown":"The best answer is at the bottom, a one-liner from majkinetor for PowerShell:\n\n$p=&#39;HKLM:\\SOFTWARE\\JavaSoft\\Java Development Kit&#39;; $v=(gp $p).CurrentVersion; (gp $p/$v).JavaHome","body":"The best answer is at the bottom, a one-liner from majkinetor for PowerShell:  $p=&#39;HKLM:\\SOFTWARE\\JavaSoft\\Java Development Kit&#39;; $v=(gp $p).CurrentVersion; (gp $p/$v).JavaHome"},{"owner":{"account_id":983910,"reputation":655,"user_id":1002899,"accept_rate":60,"display_name":"KGS"},"score":1,"creation_date":1539715134,"post_id":4681090,"comment_id":92599920,"body_markdown":"one more thing, if your jdk was bundled with intellij idea, it could be somewhere near the idea installation. For me it was in a folder 1 directory up from the idea folder, and the PATH variable pointed to a jre in Program Files","body":"one more thing, if your jdk was bundled with intellij idea, it could be somewhere near the idea installation. For me it was in a folder 1 directory up from the idea folder, and the PATH variable pointed to a jre in Program Files"}],"answers":[{"tags":[],"owner":{"account_id":26091,"reputation":178004,"user_id":67606,"accept_rate":78,"display_name":"Pablo Santa Cruz"},"down_vote_count":14,"up_vote_count":471,"is_accepted":true,"score":457,"last_activity_date":1294928932,"creation_date":1294928932,"answer_id":4681109,"question_id":4681090,"body_markdown":"If you are using Linux/Unix/Mac OS X:\r\n\r\nTry this:\r\n\r\n    $ which java\r\n\r\nShould output the exact location.\r\n\r\nAfter that, you can set `JAVA_HOME` environment variable yourself.\r\n\r\nIn my computer (Mac OS X - Snow Leopard):\r\n\r\n    $ which java\r\n    /usr/bin/java\r\n    $ ls -l /usr/bin/java\r\n    lrwxr-xr-x  1 root  wheel  74 Nov  7 07:59 /usr/bin/java -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java\r\n\r\nIf you are using Windows:\r\n\r\n    c:\\&gt; for %i in (java.exe) do @echo.   %~$PATH:i","title":"How do I find where JDK is installed on my windows machine?","body":"<p>If you are using Linux/Unix/Mac OS X:</p>\n\n<p>Try this:</p>\n\n<pre><code>$ which java\n</code></pre>\n\n<p>Should output the exact location.</p>\n\n<p>After that, you can set <code>JAVA_HOME</code> environment variable yourself.</p>\n\n<p>In my computer (Mac OS X - Snow Leopard):</p>\n\n<pre><code>$ which java\n/usr/bin/java\n$ ls -l /usr/bin/java\nlrwxr-xr-x  1 root  wheel  74 Nov  7 07:59 /usr/bin/java -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java\n</code></pre>\n\n<p>If you are using Windows:</p>\n\n<pre><code>c:\\&gt; for %i in (java.exe) do @echo.   %~$PATH:i\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3393,"reputation":60796,"user_id":4893,"accept_rate":64,"display_name":"sblundy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1294928934,"creation_date":1294928934,"answer_id":4681110,"question_id":4681090,"body_markdown":"Have you tried looking at your %PATH% variable. That&#39;s what Windows uses to find any executable.","title":"How do I find where JDK is installed on my windows machine?","body":"<p>Have you tried looking at your %PATH% variable. That's what Windows uses to find any executable.</p>\n"},{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":5,"up_vote_count":16,"is_accepted":false,"score":11,"last_activity_date":1294929776,"creation_date":1294928998,"answer_id":4681121,"question_id":4681090,"body_markdown":"Run this program from commandline:\r\n\r\n    // File: Main.java\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n           System.out.println(System.getProperty(&quot;java.home&quot;));\r\n        }\r\n    \r\n    }\r\n\r\n\r\n    $ javac Main.java\r\n    $ java Main","title":"How do I find where JDK is installed on my windows machine?","body":"<p>Run this program from commandline:</p>\n\n<pre><code>// File: Main.java\npublic class Main {\n\n    public static void main(String[] args) {\n       System.out.println(System.getProperty(\"java.home\"));\n    }\n\n}\n\n\n$ javac Main.java\n$ java Main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1294929045,"creation_date":1294929045,"answer_id":4681129,"question_id":4681090,"body_markdown":"This is OS specific. On Unix:\r\n\r\n    which java\r\n\r\nwill display the path to the executable. I don&#39;t know of a Windows equivalent, but there you typically have the `bin` folder of the JDK installation in the system `PATH`:\r\n\r\n    echo %PATH%","title":"How do I find where JDK is installed on my windows machine?","body":"<p>This is OS specific. On Unix:</p>\n\n<pre><code>which java\n</code></pre>\n\n<p>will display the path to the executable. I don't know of a Windows equivalent, but there you typically have the <code>bin</code> folder of the JDK installation in the system <code>PATH</code>:</p>\n\n<pre><code>echo %PATH%\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"anon"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1294929114,"creation_date":1294929114,"answer_id":4681147,"question_id":4681090,"body_markdown":"Just execute the  `set` command in your command line. Then you see all the environments variables you have set.\r\n\r\nOr if on Unix you can simplify it:\r\n\r\n    $ set | grep &quot;JAVA_HOME&quot; ","title":"How do I find where JDK is installed on my windows machine?","body":"<p>Just execute the  <code>set</code> command in your command line. Then you see all the environments variables you have set.</p>\n\n<p>Or if on Unix you can simplify it:</p>\n\n<pre><code>$ set | grep \"JAVA_HOME\" \n</code></pre>\n"},{"tags":[],"owner":{"account_id":313803,"reputation":505,"user_id":628633,"display_name":"Denis The Menace"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1328093319,"creation_date":1328093319,"answer_id":9094539,"question_id":4681090,"body_markdown":"Java installer puts several files into %WinDir%\\System32 folder (java.exe, javaws.exe and some others). When you type java.exe in command line or create process without full path, Windows runs these as last resort if they are missing in %PATH% folders. \r\n\r\nYou can lookup all versions of Java installed in registry. Take a look at HKLM\\SOFTWARE\\JavaSoft\\Java Runtime Environment and HKLM\\SOFTWARE\\Wow6432Node\\JavaSoft\\Java Runtime Environment for 32-bit java on 64 bit Windows.\r\n\r\nThis is how java itself finds out different versions installed. And this is why both 32-bit and 64-bit version can co-exist and works fine without interfering.","title":"How do I find where JDK is installed on my windows machine?","body":"<p>Java installer puts several files into %WinDir%\\System32 folder (java.exe, javaws.exe and some others). When you type java.exe in command line or create process without full path, Windows runs these as last resort if they are missing in %PATH% folders. </p>\n\n<p>You can lookup all versions of Java installed in registry. Take a look at HKLM\\SOFTWARE\\JavaSoft\\Java Runtime Environment and HKLM\\SOFTWARE\\Wow6432Node\\JavaSoft\\Java Runtime Environment for 32-bit java on 64 bit Windows.</p>\n\n<p>This is how java itself finds out different versions installed. And this is why both 32-bit and 64-bit version can co-exist and works fine without interfering.</p>\n"},{"tags":[],"owner":{"account_id":235554,"reputation":5999,"user_id":502441,"display_name":"grokster"},"down_vote_count":1,"up_vote_count":156,"is_accepted":false,"score":155,"last_activity_date":1336580977,"creation_date":1336580977,"answer_id":10520266,"question_id":4681090,"body_markdown":"Windows &gt; Start &gt; cmd &gt; \r\n\r\n    C:&gt; for %i in (javac.exe) do @echo.   %~$PATH:i\r\n\r\nIf you have a JDK installed, the Path is displayed,  \r\nfor example: `C:\\Program Files\\Java\\jdk1.6.0_30\\bin\\javac.exe`\r\n\r\n\r\n","title":"How do I find where JDK is installed on my windows machine?","body":"<p>Windows > Start > cmd > </p>\n\n<pre><code>C:&gt; for %i in (javac.exe) do @echo.   %~$PATH:i\n</code></pre>\n\n<p>If you have a JDK installed, the Path is displayed,<br>\nfor example: <code>C:\\Program Files\\Java\\jdk1.6.0_30\\bin\\javac.exe</code></p>\n"},{"tags":[],"owner":{"account_id":875266,"reputation":697,"user_id":925035,"display_name":"Moika Turns"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1351074218,"creation_date":1351074218,"answer_id":13047287,"question_id":4681090,"body_markdown":"More on Windows... variable *java.home* is not always the same location as the binary that is run. \r\n\r\nAs Denis The Menace says, the installer puts Java files into *Program Files*, but also *java.exe* into *System32*. With nothing Java related on the path *java -version* can still work. However when PeterMmm&#39;s program is run it reports the value of *Program Files* as *java.home*, this is not wrong (Java is installed there) but the actual binary being run is located in *System32*.\r\n\r\nOne way to hunt down the location of the *java.exe* binary, add the following line to PeterMmm&#39;s code to keep the program running a while longer:\r\n\r\n    try{Thread.sleep(60000);}catch(Exception e) {}\r\n\r\nCompile and run it, then hunt down the location of the *java.exe* image. E.g. in Windows 7 open the task manager, find the *java.exe* entry, right click and select &#39;open file location&#39;, this opens the exact location of the Java binary. In this case it would be *System32*.","title":"How do I find where JDK is installed on my windows machine?","body":"<p>More on Windows... variable <em>java.home</em> is not always the same location as the binary that is run. </p>\n\n<p>As Denis The Menace says, the installer puts Java files into <em>Program Files</em>, but also <em>java.exe</em> into <em>System32</em>. With nothing Java related on the path <em>java -version</em> can still work. However when PeterMmm's program is run it reports the value of <em>Program Files</em> as <em>java.home</em>, this is not wrong (Java is installed there) but the actual binary being run is located in <em>System32</em>.</p>\n\n<p>One way to hunt down the location of the <em>java.exe</em> binary, add the following line to PeterMmm's code to keep the program running a while longer:</p>\n\n<pre><code>try{Thread.sleep(60000);}catch(Exception e) {}\n</code></pre>\n\n<p>Compile and run it, then hunt down the location of the <em>java.exe</em> image. E.g. in Windows 7 open the task manager, find the <em>java.exe</em> entry, right click and select 'open file location', this opens the exact location of the Java binary. In this case it would be <em>System32</em>.</p>\n"},{"tags":[],"owner":{"account_id":3092783,"reputation":1810,"user_id":2618576,"display_name":"NanoBennett"},"down_vote_count":2,"up_vote_count":138,"is_accepted":false,"score":136,"last_activity_date":1397659754,"creation_date":1374753754,"answer_id":17857502,"question_id":4681090,"body_markdown":"In Windows at the command prompt\r\n\r\n`where javac`","title":"How do I find where JDK is installed on my windows machine?","body":"<p>In Windows at the command prompt</p>\n\n<p><code>where javac</code></p>\n"},{"tags":[],"owner":{"account_id":2020706,"reputation":8780,"user_id":1806956,"accept_rate":83,"display_name":"Ronen Rabinovici"},"down_vote_count":3,"up_vote_count":37,"is_accepted":false,"score":34,"last_activity_date":1382649890,"creation_date":1382649890,"answer_id":19576957,"question_id":4681090,"body_markdown":"In windows the default is: `C:\\Program Files\\Java\\jdk1.6.0_14` (where the numbers may differ, as they&#39;re the version).","title":"How do I find where JDK is installed on my windows machine?","body":"<p>In windows the default is: <code>C:\\Program Files\\Java\\jdk1.6.0_14</code> (where the numbers may differ, as they're the version).</p>\n"},{"tags":[],"owner":{"account_id":3909942,"reputation":297,"user_id":3235582,"display_name":"luccaa"},"down_vote_count":3,"up_vote_count":30,"is_accepted":false,"score":27,"last_activity_date":1390667632,"creation_date":1390667632,"answer_id":21353157,"question_id":4681090,"body_markdown":"Plain and simple on Windows platforms:\r\n\r\n**where java**","title":"How do I find where JDK is installed on my windows machine?","body":"<p>Plain and simple on Windows platforms:</p>\n\n<p><strong>where java</strong></p>\n"},{"tags":[],"owner":{"account_id":392397,"reputation":28066,"user_id":753632,"accept_rate":57,"display_name":"Johann"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1419531317,"creation_date":1394969813,"answer_id":22436326,"question_id":4681090,"body_markdown":"In a Windows command prompt, just type:\r\n\r\n    set java_home\r\n\r\nOr, if you don&#39;t like the command environment, you can check it from:\r\n\r\nStart menu &gt; Computer &gt; System Properties &gt; Advanced System Properties. Then open Advanced tab &gt; Environment Variables and in system variable try to find JAVA_HOME. \r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3Atvv.jpg","title":"How do I find where JDK is installed on my windows machine?","body":"<p>In a Windows command prompt, just type:</p>\n\n<pre><code>set java_home\n</code></pre>\n\n<p>Or, if you don't like the command environment, you can check it from:</p>\n\n<p>Start menu > Computer > System Properties > Advanced System Properties. Then open Advanced tab > Environment Variables and in system variable try to find JAVA_HOME. </p>\n\n<p><img src=\"https://i.stack.imgur.com/3Atvv.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"display_name":"user1663023"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433956441,"creation_date":1399532503,"answer_id":23534944,"question_id":4681090,"body_markdown":"    #!/bin/bash\r\n    \r\n    if [[ $(which ${JAVA_HOME}/bin/java) ]]; then\r\n        exe=&quot;${JAVA_HOME}/bin/java&quot;\r\n    elif [[ $(which java) ]]; then\r\n        exe=&quot;java&quot;\r\n    else \r\n        echo &quot;Java environment is not detected.&quot;\r\n        exit 1\r\n    fi\r\n    \r\n    ${exe} -version\r\n\r\nFor windows:\r\n\r\n    @echo off\r\n    if &quot;%JAVA_HOME%&quot; == &quot;&quot; goto nojavahome\r\n    \r\n    echo Using JAVA_HOME            :   %JAVA_HOME%\r\n    \r\n    &quot;%JAVA_HOME%/bin/java.exe&quot; -version\r\n    goto exit\r\n    \r\n    :nojavahome\r\n    echo The JAVA_HOME environment variable is not defined correctly\r\n    echo This environment variable is needed to run this program.\r\n    goto exit\r\n    \r\n    :exit\r\n\r\nThis link might help to explain how to find java executable from bash: http://srcode.org/2014/05/07/detect-java-executable/","title":"How do I find where JDK is installed on my windows machine?","body":"<pre><code>#!/bin/bash\n\nif [[ $(which ${JAVA_HOME}/bin/java) ]]; then\n    exe=\"${JAVA_HOME}/bin/java\"\nelif [[ $(which java) ]]; then\n    exe=\"java\"\nelse \n    echo \"Java environment is not detected.\"\n    exit 1\nfi\n\n${exe} -version\n</code></pre>\n\n<p>For windows:</p>\n\n<pre><code>@echo off\nif \"%JAVA_HOME%\" == \"\" goto nojavahome\n\necho Using JAVA_HOME            :   %JAVA_HOME%\n\n\"%JAVA_HOME%/bin/java.exe\" -version\ngoto exit\n\n:nojavahome\necho The JAVA_HOME environment variable is not defined correctly\necho This environment variable is needed to run this program.\ngoto exit\n\n:exit\n</code></pre>\n\n<p>This link might help to explain how to find java executable from bash: <a href=\"http://srcode.org/2014/05/07/detect-java-executable/\" rel=\"nofollow\">http://srcode.org/2014/05/07/detect-java-executable/</a></p>\n"},{"tags":[],"owner":{"account_id":2273308,"reputation":317,"user_id":2000186,"display_name":"munsingh"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1413795417,"creation_date":1407781260,"answer_id":25249886,"question_id":4681090,"body_markdown":"The batch script below will print out the existing default JRE. It can be easily modified to find the JDK version installed by replacing the **Java Runtime Environment** with **Java Development Kit**.\r\n\r\n    @echo off\r\n    \r\n    setlocal\r\n    \r\n    ::- Get the Java Version\r\n    set KEY=&quot;HKLM\\SOFTWARE\\JavaSoft\\Java Runtime Environment&quot;\r\n    set VALUE=CurrentVersion\r\n    reg query %KEY% /v %VALUE% 2&gt;nul || (\r\n\t\techo JRE not installed \r\n\t\texit /b 1\r\n\t)\r\n    set JRE_VERSION=\r\n    for /f &quot;tokens=2,*&quot; %%a in (&#39;reg query %KEY% /v %VALUE% ^| findstr %VALUE%&#39;) do (\r\n    \tset JRE_VERSION=%%b\r\n    )\r\n    \r\n    echo JRE VERSION: %JRE_VERSION%\r\n    \r\n    ::- Get the JavaHome\r\n    set KEY=&quot;HKLM\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\%JRE_VERSION%&quot;\r\n    set VALUE=JavaHome\r\n    reg query %KEY% /v %VALUE% 2&gt;nul || (\r\n\t\techo JavaHome not installed\r\n\t\texit /b 1\r\n\t)\r\n    \r\n    set JAVAHOME=\r\n    for /f &quot;tokens=2,*&quot; %%a in (&#39;reg query %KEY% /v %VALUE% ^| findstr %VALUE%&#39;) do (\r\n    \tset JAVAHOME=%%b\r\n    )\r\n    \r\n    echo JavaHome: %JAVAHOME%\r\n    \r\n    endlocal\r\n\r\n","title":"How do I find where JDK is installed on my windows machine?","body":"<p>The batch script below will print out the existing default JRE. It can be easily modified to find the JDK version installed by replacing the <strong>Java Runtime Environment</strong> with <strong>Java Development Kit</strong>.</p>\n\n<pre><code>@echo off\n\nsetlocal\n\n::- Get the Java Version\nset KEY=\"HKLM\\SOFTWARE\\JavaSoft\\Java Runtime Environment\"\nset VALUE=CurrentVersion\nreg query %KEY% /v %VALUE% 2&gt;nul || (\n    echo JRE not installed \n    exit /b 1\n)\nset JRE_VERSION=\nfor /f \"tokens=2,*\" %%a in ('reg query %KEY% /v %VALUE% ^| findstr %VALUE%') do (\n    set JRE_VERSION=%%b\n)\n\necho JRE VERSION: %JRE_VERSION%\n\n::- Get the JavaHome\nset KEY=\"HKLM\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\%JRE_VERSION%\"\nset VALUE=JavaHome\nreg query %KEY% /v %VALUE% 2&gt;nul || (\n    echo JavaHome not installed\n    exit /b 1\n)\n\nset JAVAHOME=\nfor /f \"tokens=2,*\" %%a in ('reg query %KEY% /v %VALUE% ^| findstr %VALUE%') do (\n    set JAVAHOME=%%b\n)\n\necho JavaHome: %JAVAHOME%\n\nendlocal\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5535751,"reputation":13,"user_id":4394156,"display_name":"Husam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1419529340,"creation_date":1419529340,"answer_id":27649451,"question_id":4681090,"body_markdown":"in Windows cmd:\r\n\r\n    set &quot;JAVA_HOME&quot; ","title":"How do I find where JDK is installed on my windows machine?","body":"<p>in Windows cmd:</p>\n\n<pre><code>set \"JAVA_HOME\" \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7355972,"reputation":221,"user_id":5600718,"display_name":"Thomas Bender"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1448384618,"creation_date":1448384618,"answer_id":33899635,"question_id":4681090,"body_markdown":"Under Windows, you can use\r\n\r\n    C:&gt;dir /b /s java.exe\r\n\r\nto print the full path of each and every &quot;java.exe&quot; on your C: drive, regardless of whether they are on your PATH environment variable.","title":"How do I find where JDK is installed on my windows machine?","body":"<p>Under Windows, you can use</p>\n\n<pre><code>C:&gt;dir /b /s java.exe\n</code></pre>\n\n<p>to print the full path of each and every \"java.exe\" on your C: drive, regardless of whether they are on your PATH environment variable.</p>\n"},{"tags":[],"owner":{"account_id":3162752,"reputation":2021,"user_id":2673386,"accept_rate":75,"display_name":"EntangledLoops"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1478271621,"creation_date":1453858401,"answer_id":35027301,"question_id":4681090,"body_markdown":"None of these answers are correct for Linux if you are looking for the home that includes the subdirs such as: bin, docs, include, jre, lib, etc.\r\n\r\nOn Ubuntu for openjdk1.8.0, this is in:\r\n`/usr/lib/jvm/java-1.8.0-openjdk-amd64`\r\n\r\nand you may prefer to use that for `JAVA_HOME` since you will be able to find headers if you build JNI source files. While it&#39;s true `which java` will provide the binary path, it is not the true JDK home.","title":"How do I find where JDK is installed on my windows machine?","body":"<p>None of these answers are correct for Linux if you are looking for the home that includes the subdirs such as: bin, docs, include, jre, lib, etc.</p>\n\n<p>On Ubuntu for openjdk1.8.0, this is in:\n<code>/usr/lib/jvm/java-1.8.0-openjdk-amd64</code></p>\n\n<p>and you may prefer to use that for <code>JAVA_HOME</code> since you will be able to find headers if you build JNI source files. While it's true <code>which java</code> will provide the binary path, it is not the true JDK home.</p>\n"},{"tags":[],"owner":{"account_id":30330,"reputation":8790,"user_id":82660,"accept_rate":69,"display_name":"majkinetor"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1497687301,"creation_date":1497687301,"answer_id":44602323,"question_id":4681090,"body_markdown":"Powershell one liner:\r\n\r\n\r\n\r\n    $p=&#39;HKLM:\\SOFTWARE\\JavaSoft\\Java Development Kit&#39;; $v=(gp $p).CurrentVersion; (gp $p/$v).JavaHome\r\n\r\n","title":"How do I find where JDK is installed on my windows machine?","body":"<p>Powershell one liner:</p>\n\n<pre><code>$p='HKLM:\\SOFTWARE\\JavaSoft\\Java Development Kit'; $v=(gp $p).CurrentVersion; (gp $p/$v).JavaHome\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2106226,"reputation":2685,"user_id":1872506,"accept_rate":57,"display_name":"smartexpert"},"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1654781177,"creation_date":1501094787,"answer_id":45335127,"question_id":4681090,"body_markdown":"**Command line**:\r\n\r\nRun `where java` on Command Prompt.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**GUI:**\r\n\r\nOn Windows 10 you can find out the path by going to Control Panel &gt; Programs &gt; Java. In the panel that shows up, you can find the path as demonstrated in the screenshot below. In the Java Control Panel, go to the &#39;Java&#39; tab and then click the &#39;View&#39; button under the description &#39;View and manage Java Runtime versions and settings for Java applications and applets.&#39;\r\n\r\nThis should work on Windows 7 and possibly other recent versions of Windows.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jyTVh.png\r\n  [2]: https://i.stack.imgur.com/QwBLv.png","title":"How do I find where JDK is installed on my windows machine?","body":"<p><strong>Command line</strong>:</p>\n<p>Run <code>where java</code> on Command Prompt.</p>\n<p><a href=\"https://i.stack.imgur.com/jyTVh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jyTVh.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>GUI:</strong></p>\n<p>On Windows 10 you can find out the path by going to Control Panel &gt; Programs &gt; Java. In the panel that shows up, you can find the path as demonstrated in the screenshot below. In the Java Control Panel, go to the 'Java' tab and then click the 'View' button under the description 'View and manage Java Runtime versions and settings for Java applications and applets.'</p>\n<p>This should work on Windows 7 and possibly other recent versions of Windows.</p>\n<p><a href=\"https://i.stack.imgur.com/QwBLv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QwBLv.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":81519,"reputation":34798,"user_id":229792,"accept_rate":63,"display_name":"jameshfisher"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1516283916,"creation_date":1516283916,"answer_id":48323062,"question_id":4681090,"body_markdown":"On macOS, run:\r\n\r\n    cd /tmp &amp;&amp; echo &#39;public class Main {public static void main(String[] args) {System.out.println(System.getProperty(&quot;java.home&quot;));}}&#39; &gt; Main.java &amp;&amp; javac Main.java &amp;&amp; java Main\r\n\r\nOn my machine, this prints:\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home\r\n\r\nNote that running `which java` does not show the JDK location, because the `java` command is instead part of `JavaVM.framework`, which wraps the real JDK:\r\n\r\n    $ which java\r\n    /usr/bin/java\r\n    /private/tmp\r\n    $ ls -l /usr/bin/java\r\n    lrwxr-xr-x  1 root  wheel  74 14 Nov 17:37 /usr/bin/java -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java\r\n","title":"How do I find where JDK is installed on my windows machine?","body":"<p>On macOS, run:</p>\n\n<pre><code>cd /tmp &amp;&amp; echo 'public class Main {public static void main(String[] args) {System.out.println(System.getProperty(\"java.home\"));}}' &gt; Main.java &amp;&amp; javac Main.java &amp;&amp; java Main\n</code></pre>\n\n<p>On my machine, this prints:</p>\n\n<pre><code>/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home\n</code></pre>\n\n<p>Note that running <code>which java</code> does not show the JDK location, because the <code>java</code> command is instead part of <code>JavaVM.framework</code>, which wraps the real JDK:</p>\n\n<pre><code>$ which java\n/usr/bin/java\n/private/tmp\n$ ls -l /usr/bin/java\nlrwxr-xr-x  1 root  wheel  74 14 Nov 17:37 /usr/bin/java -&gt; /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1868856,"reputation":1929,"user_id":1691651,"display_name":"JohnP2"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522259483,"creation_date":1522259483,"answer_id":49541102,"question_id":4681090,"body_markdown":"I have improved [munsingh][1]&#39;s answer above by testing for the registry key in 64-bit and 32-bit registries, if needed:\r\n\r\n    ::- Test for the registry location  \r\n    SET VALUE=CurrentVersion\r\n    SET KEY_1=&quot;HKLM\\SOFTWARE\\JavaSoft\\Java Development Kit&quot;\r\n    SET KEY_2=HKLM\\SOFTWARE\\JavaSoft\\JDK\r\n    SET REG_1=reg.exe\r\n    SET REG_2=&quot;C:\\Windows\\sysnative\\reg.exe&quot;\r\n    SET REG_3=&quot;C:\\Windows\\syswow64\\reg.exe&quot;\r\n    \r\n    SET KEY=%KEY_1%\r\n    SET REG=%REG_1%\r\n    %REG% QUERY %KEY% /v %VALUE% 2&gt;nul\r\n    IF %ERRORLEVEL% EQU 0 GOTO _set_value\r\n    \r\n    SET KEY=%KEY_2%\r\n    SET REG=%REG_1%\r\n    %REG% QUERY %KEY% /v %VALUE% 2&gt;nul\r\n    IF %ERRORLEVEL% EQU 0 GOTO _set_value\r\n    \r\n    ::- %REG_2% is for 64-bit installations, using &quot;C:\\Windows\\sysnative&quot;\r\n    SET KEY=%KEY_1%\r\n    SET REG=%REG_2%\r\n    %REG% QUERY %KEY% /v %VALUE% 2&gt;nul\r\n    IF %ERRORLEVEL% EQU 0 GOTO _set_value\r\n    \r\n    SET KEY=%KEY_2%\r\n    SET REG=%REG_2%\r\n    %REG% QUERY %KEY% /v %VALUE% 2&gt;nul\r\n    IF %ERRORLEVEL% EQU 0 GOTO _set_value\r\n    \r\n    ::- %REG_3% is for 32-bit installations on a 64-bit system, using &quot;C:\\Windows\\syswow64&quot;\r\n    SET KEY=%KEY_1%\r\n    SET REG=%REG_3%\r\n    %REG% QUERY %KEY% /v %VALUE% 2&gt;nul\r\n    IF %ERRORLEVEL% EQU 0 GOTO _set_value\r\n    \r\n    SET KEY=%KEY_2%\r\n    SET REG=%REG_3%\r\n    %REG% QUERY %KEY% /v %VALUE% 2&gt;nul\r\n    IF %ERRORLEVEL% EQU 0 GOTO _set_value\r\n    \r\n    :_set_value\r\n    FOR /F &quot;tokens=2,*&quot; %%a IN (&#39;%REG% QUERY %KEY% /v %VALUE%&#39;) DO (\r\n        SET JDK_VERSION=%%b\r\n    )\r\n    SET KEY=%KEY%\\%JDK_VERSION%\r\n    SET VALUE=JavaHome\r\n    FOR /F &quot;tokens=2,*&quot; %%a IN (&#39;%REG% QUERY %KEY% /v %VALUE%&#39;) DO (\r\n        SET JAVAHOME=%%b\r\n    )\r\n    ECHO &quot;%JAVAHOME%&quot;\r\n    ::- SETX JAVA_HOME &quot;%JAVAHOME%&quot;\r\n\r\n[reference for access to the 64-bit registry][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25249886\r\n  [2]: https://stackoverflow.com/a/25103599","title":"How do I find where JDK is installed on my windows machine?","body":"<p>I have improved <a href=\"https://stackoverflow.com/a/25249886\">munsingh</a>'s answer above by testing for the registry key in 64-bit and 32-bit registries, if needed:</p>\n\n<pre><code>::- Test for the registry location  \nSET VALUE=CurrentVersion\nSET KEY_1=\"HKLM\\SOFTWARE\\JavaSoft\\Java Development Kit\"\nSET KEY_2=HKLM\\SOFTWARE\\JavaSoft\\JDK\nSET REG_1=reg.exe\nSET REG_2=\"C:\\Windows\\sysnative\\reg.exe\"\nSET REG_3=\"C:\\Windows\\syswow64\\reg.exe\"\n\nSET KEY=%KEY_1%\nSET REG=%REG_1%\n%REG% QUERY %KEY% /v %VALUE% 2&gt;nul\nIF %ERRORLEVEL% EQU 0 GOTO _set_value\n\nSET KEY=%KEY_2%\nSET REG=%REG_1%\n%REG% QUERY %KEY% /v %VALUE% 2&gt;nul\nIF %ERRORLEVEL% EQU 0 GOTO _set_value\n\n::- %REG_2% is for 64-bit installations, using \"C:\\Windows\\sysnative\"\nSET KEY=%KEY_1%\nSET REG=%REG_2%\n%REG% QUERY %KEY% /v %VALUE% 2&gt;nul\nIF %ERRORLEVEL% EQU 0 GOTO _set_value\n\nSET KEY=%KEY_2%\nSET REG=%REG_2%\n%REG% QUERY %KEY% /v %VALUE% 2&gt;nul\nIF %ERRORLEVEL% EQU 0 GOTO _set_value\n\n::- %REG_3% is for 32-bit installations on a 64-bit system, using \"C:\\Windows\\syswow64\"\nSET KEY=%KEY_1%\nSET REG=%REG_3%\n%REG% QUERY %KEY% /v %VALUE% 2&gt;nul\nIF %ERRORLEVEL% EQU 0 GOTO _set_value\n\nSET KEY=%KEY_2%\nSET REG=%REG_3%\n%REG% QUERY %KEY% /v %VALUE% 2&gt;nul\nIF %ERRORLEVEL% EQU 0 GOTO _set_value\n\n:_set_value\nFOR /F \"tokens=2,*\" %%a IN ('%REG% QUERY %KEY% /v %VALUE%') DO (\n    SET JDK_VERSION=%%b\n)\nSET KEY=%KEY%\\%JDK_VERSION%\nSET VALUE=JavaHome\nFOR /F \"tokens=2,*\" %%a IN ('%REG% QUERY %KEY% /v %VALUE%') DO (\n    SET JAVAHOME=%%b\n)\nECHO \"%JAVAHOME%\"\n::- SETX JAVA_HOME \"%JAVAHOME%\"\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/25103599\">reference for access to the 64-bit registry</a></p>\n"},{"tags":[],"owner":{"account_id":10154177,"reputation":105,"user_id":7499763,"display_name":"Rudixx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553642586,"creation_date":1553642586,"answer_id":55367594,"question_id":4681090,"body_markdown":"Script for 32/64 bit Windows.\r\n\r\n    @echo off\r\n    \r\n    setlocal enabledelayedexpansion\r\n    \r\n    ::- Get the Java Version\r\n    set KEY=&quot;HKLM\\SOFTWARE\\JavaSoft\\Java Runtime Environment&quot;\r\n    set KEY64=&quot;HKLM\\SOFTWARE\\WOW6432Node\\JavaSoft\\Java Runtime Environment&quot;\r\n    set VALUE=CurrentVersion\r\n    reg query %KEY% /v %VALUE% 2&gt;nul || (\r\n    \tset KEY=!KEY64!\r\n    \treg query !KEY! /v %VALUE% 2&gt;nul || (\r\n        echo JRE not installed \r\n        exit /b 1\r\n    )\r\n    )\r\n    \r\n    set JRE_VERSION=\r\n    for /f &quot;tokens=2,*&quot; %%a in (&#39;reg query %KEY% /v %VALUE% ^| findstr %VALUE%&#39;) do (\r\n        set JRE_VERSION=%%b\r\n    )\r\n    \r\n    echo JRE VERSION: %JRE_VERSION%\r\n    \r\n    ::- Get the JavaHome\r\n    set KEY=&quot;HKLM\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\%JRE_VERSION%&quot;\r\n    set KEY64=&quot;HKLM\\SOFTWARE\\WOW6432Node\\JavaSoft\\Java Runtime Environment\\%JRE_VERSION%&quot;\r\n    set VALUE=JavaHome\r\n    reg query %KEY% /v %VALUE% 2&gt;nul || (\r\n    \tset KEY=!KEY64!\r\n    \treg query !KEY! /v %VALUE% 2&gt;nul || (\r\n        echo JavaHome not installed\r\n        exit /b 1\r\n    )\r\n    )\r\n    \r\n    set JAVAHOME=\r\n    for /f &quot;tokens=2,*&quot; %%a in (&#39;reg query %KEY% /v %VALUE% ^| findstr %VALUE%&#39;) do (\r\n        set JAVAHOME=%%b\r\n    )\r\n    \r\n    echo JavaHome: %JAVAHOME%\r\n    \r\n    endlocal","title":"How do I find where JDK is installed on my windows machine?","body":"<p>Script for 32/64 bit Windows.</p>\n\n<pre><code>@echo off\n\nsetlocal enabledelayedexpansion\n\n::- Get the Java Version\nset KEY=\"HKLM\\SOFTWARE\\JavaSoft\\Java Runtime Environment\"\nset KEY64=\"HKLM\\SOFTWARE\\WOW6432Node\\JavaSoft\\Java Runtime Environment\"\nset VALUE=CurrentVersion\nreg query %KEY% /v %VALUE% 2&gt;nul || (\n    set KEY=!KEY64!\n    reg query !KEY! /v %VALUE% 2&gt;nul || (\n    echo JRE not installed \n    exit /b 1\n)\n)\n\nset JRE_VERSION=\nfor /f \"tokens=2,*\" %%a in ('reg query %KEY% /v %VALUE% ^| findstr %VALUE%') do (\n    set JRE_VERSION=%%b\n)\n\necho JRE VERSION: %JRE_VERSION%\n\n::- Get the JavaHome\nset KEY=\"HKLM\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\%JRE_VERSION%\"\nset KEY64=\"HKLM\\SOFTWARE\\WOW6432Node\\JavaSoft\\Java Runtime Environment\\%JRE_VERSION%\"\nset VALUE=JavaHome\nreg query %KEY% /v %VALUE% 2&gt;nul || (\n    set KEY=!KEY64!\n    reg query !KEY! /v %VALUE% 2&gt;nul || (\n    echo JavaHome not installed\n    exit /b 1\n)\n)\n\nset JAVAHOME=\nfor /f \"tokens=2,*\" %%a in ('reg query %KEY% /v %VALUE% ^| findstr %VALUE%') do (\n    set JAVAHOME=%%b\n)\n\necho JavaHome: %JAVAHOME%\n\nendlocal\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9627977,"reputation":374,"user_id":7146967,"display_name":"Mudit Verma"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1602904430,"creation_date":1602904430,"answer_id":64398658,"question_id":4681090,"body_markdown":"Maybe the above methods work... I tried some and didn&#39;t for me. What did was this : \r\n\r\nRun this in terminal : \r\n\r\n    /usr/libexec/java_home\r\n\r\n","title":"How do I find where JDK is installed on my windows machine?","body":"<p>Maybe the above methods work... I tried some and didn't for me. What did was this :</p>\n<p>Run this in terminal :</p>\n<pre><code>/usr/libexec/java_home\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1997956,"reputation":2654,"user_id":1789708,"display_name":"Scott H"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1604943158,"creation_date":1604943158,"answer_id":64756422,"question_id":4681090,"body_markdown":"In Windows PowerShell you can use the `Get-Command` function to see where Java is installed:\r\n\r\n```\r\nGet-Command -All java\r\n```\r\n\r\nOr \r\n\r\n```\r\ngcm -All java\r\n```\r\n\r\nThe `-All` part makes sure to show all places it appears in the Path lookup. Below is example output. \r\n\r\n```\r\nPS C:&gt; gcm -All java\r\n\r\nCommandType     Name                                               Version    Source\r\n-----------     ----                                               -------    ------\r\nApplication     java.exe                                           8.0.202.8  C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\jav...\r\nApplication     java.exe                                           8.0.131... C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe\r\n```","title":"How do I find where JDK is installed on my windows machine?","body":"<p>In Windows PowerShell you can use the <code>Get-Command</code> function to see where Java is installed:</p>\n<pre><code>Get-Command -All java\n</code></pre>\n<p>Or</p>\n<pre><code>gcm -All java\n</code></pre>\n<p>The <code>-All</code> part makes sure to show all places it appears in the Path lookup. Below is example output.</p>\n<pre><code>PS C:&gt; gcm -All java\n\nCommandType     Name                                               Version    Source\n-----------     ----                                               -------    ------\nApplication     java.exe                                           8.0.202.8  C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\jav...\nApplication     java.exe                                           8.0.131... C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22668154,"reputation":121,"user_id":16840210,"display_name":"deateaterOG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633241072,"creation_date":1633240758,"answer_id":69422437,"question_id":4681090,"body_markdown":"Simple method (Windows):\r\nOpen an application using java.\r\npress ctrl + shift + esc\r\n\r\nRight click on OpenJDK platform binary. Click open file location.\r\nThen it will show java/javaw.exe then go to the top where it shows the folder and click on the jdk then right copy the path, boom. (Wont work for apps using bundled jre paths/runtimes, because it will show path to the bundled runtime)","title":"How do I find where JDK is installed on my windows machine?","body":"<p>Simple method (Windows):\nOpen an application using java.\npress ctrl + shift + esc</p>\n<p>Right click on OpenJDK platform binary. Click open file location.\nThen it will show java/javaw.exe then go to the top where it shows the folder and click on the jdk then right copy the path, boom. (Wont work for apps using bundled jre paths/runtimes, because it will show path to the bundled runtime)</p>\n"}],"owner":{"account_id":66823,"reputation":4557,"user_id":195853,"accept_rate":70,"display_name":"Ashine"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1370815,"favorite_count":0,"down_vote_count":1,"up_vote_count":403,"accepted_answer_id":4681109,"answer_count":25,"score":402,"last_activity_date":1654781177,"creation_date":1294928773,"question_id":4681090,"body_markdown":"**I need to know where JDK is located on my machine.** \r\n\r\nOn running `Java -version` in **cmd**, it shows the version as &#39;1.6.xx&#39;.\r\nTo find the location of this SDK on my machine I tried using `echo %JAVA_HOME%` but it is only showing &#39;JAVA_HOME&#39; (as there is no &#39;JAVA_PATH&#39; var set in my environment variables).\r\n\r\n","title":"How do I find where JDK is installed on my windows machine?","body":"<p><strong>I need to know where JDK is located on my machine.</strong> </p>\n\n<p>On running <code>Java -version</code> in <strong>cmd</strong>, it shows the version as '1.6.xx'.\nTo find the location of this SDK on my machine I tried using <code>echo %JAVA_HOME%</code> but it is only showing 'JAVA_HOME' (as there is no 'JAVA_PATH' var set in my environment variables).</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8716,"page":1276,"page_size":100}
