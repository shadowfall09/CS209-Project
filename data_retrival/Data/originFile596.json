{"items":[{"tags":["java","sonarqube","sonar-runner","static-code-analysis"],"comments":[{"owner":{"account_id":1316894,"reputation":10675,"user_id":1263543,"display_name":"benzonico"},"score":0,"creation_date":1524832804,"post_id":50058133,"comment_id":87141638,"body_markdown":"Is the path valid ? What is the exact output error ? did you provide a path to the compiled classes of your project ?","body":"Is the path valid ? What is the exact output error ? did you provide a path to the compiled classes of your project ?"},{"owner":{"account_id":3148809,"reputation":22476,"user_id":2662707,"display_name":"G. Ann - SonarSource Team"},"score":2,"creation_date":1524837746,"post_id":50058133,"comment_id":87144786,"body_markdown":"@RakeshSinghBalhara `sonar.java.binaries` is looking for the top-level directory containing the _class files_, it won&#39;t expand a jar","body":"@RakeshSinghBalhara <code>sonar.java.binaries</code> is looking for the top-level directory containing the <i>class files</i>, it won&#39;t expand a jar"},{"owner":{"account_id":282043,"reputation":4264,"user_id":578706,"accept_rate":100,"display_name":"Tibor Blenessy"},"score":1,"creation_date":1572603106,"post_id":50058133,"comment_id":103618050,"body_markdown":"@Rakesh please do not edit existing questions if you want to ask a new one","body":"@Rakesh please do not edit existing questions if you want to ask a new one"}],"answers":[{"tags":[],"owner":{"account_id":282043,"reputation":4264,"user_id":578706,"accept_rate":100,"display_name":"Tibor Blenessy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1525254134,"creation_date":1525254134,"answer_id":50131516,"question_id":50058133,"body_markdown":"Set your property like this `sonar.java.binaries=bin`, it has to be set to the directory containing the binaries.","title":"error in sonar.java.binaries property for java based project environment setup","body":"<p>Set your property like this <code>sonar.java.binaries=bin</code>, it has to be set to the directory containing the binaries.</p>\n"},{"tags":[],"owner":{"account_id":8802416,"reputation":171,"user_id":6578100,"display_name":"raja emani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678172260,"creation_date":1678172260,"answer_id":75658825,"question_id":50058133,"body_markdown":"Sonar plugin is unable to find the binaries which means the project is not built first or packaged first\r\nexecute\r\n\r\n    mvn clean package sonar:sonar\r\n\r\nor\r\n\r\n    mvn clean package\r\n    mvn sonar:sonar","title":"error in sonar.java.binaries property for java based project environment setup","body":"<p>Sonar plugin is unable to find the binaries which means the project is not built first or packaged first\nexecute</p>\n<pre><code>mvn clean package sonar:sonar\n</code></pre>\n<p>or</p>\n<pre><code>mvn clean package\nmvn sonar:sonar\n</code></pre>\n"}],"owner":{"account_id":4770958,"reputation":380,"user_id":3855723,"display_name":"Rakesh Singh Balhara"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15077,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":2,"score":0,"last_activity_date":1678172260,"creation_date":1524816877,"question_id":50058133,"body_markdown":"&gt; Error | Java | SonarQube | please provide compiled classes of your project with sonar.java.binaries property.\r\n\r\nBelow is my sonar-project.properties file. I have provided my binaries path. but still, I am getting the error message.        \r\n\r\n    sonar.projectKey=Hello\r\n    sonar.projectName=JavaPro\r\n    sonar.projectVersion=1.0\r\n    sonar.java.sources=java\r\n    sonar.java.binaries=bin/A.jar\r\n    sonar.java.file.suffixes=java\r\n    sonar.sourceEncoding=UTF-8","title":"error in sonar.java.binaries property for java based project environment setup","body":"<blockquote>\n  <p>Error | Java | SonarQube | please provide compiled classes of your project with sonar.java.binaries property.</p>\n</blockquote>\n\n<p>Below is my sonar-project.properties file. I have provided my binaries path. but still, I am getting the error message.        </p>\n\n<pre><code>sonar.projectKey=Hello\nsonar.projectName=JavaPro\nsonar.projectVersion=1.0\nsonar.java.sources=java\nsonar.java.binaries=bin/A.jar\nsonar.java.file.suffixes=java\nsonar.sourceEncoding=UTF-8\n</code></pre>\n"},{"tags":["java","sql","spring-boot","hibernate","entity"],"comments":[{"owner":{"account_id":5454149,"reputation":515,"user_id":4338129,"accept_rate":78,"display_name":"Dranna"},"score":1,"creation_date":1639675332,"post_id":70382480,"comment_id":124415560,"body_markdown":"Have you tried escaping the string with backticks? Like `@javax.persistence.Column(name = &quot;\\`NameWrittenInPascalCase\\`&quot;)`","body":"Have you tried escaping the string with backticks? Like <code>@javax.persistence.Column(name = &quot;`NameWrittenInPascalCase`&quot;)</code>"},{"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"score":0,"creation_date":1639676801,"post_id":70382480,"comment_id":124416084,"body_markdown":"No, but it does not help. In query sent to server there is still `name_written_in_pascal_case`. :(","body":"No, but it does not help. In query sent to server there is still <code>name_written_in_pascal_case</code>. :("},{"owner":{"account_id":10851574,"reputation":116,"user_id":7979163,"display_name":"srp321"},"score":1,"creation_date":1639677662,"post_id":70382480,"comment_id":124416423,"body_markdown":"depending upon ur hibernate version the property name needs to be adjusted in application.properties. refer to this post: https://stackoverflow.com/questions/29087626/entity-class-name-is-transformed-into-sql-table-name-with-underscores","body":"depending upon ur hibernate version the property name needs to be adjusted in application.properties. refer to this post: <a href=\"https://stackoverflow.com/questions/29087626/entity-class-name-is-transformed-into-sql-table-name-with-underscores\" title=\"entity class name is transformed into sql table name with underscores\">stackoverflow.com/questions/29087626/&hellip;</a>"},{"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"score":0,"creation_date":1640010317,"post_id":70382480,"comment_id":124486697,"body_markdown":"Oh, thank you. It looks like this question is possible duplicate of the question which you linked. I did not find it when i searched for it before.","body":"Oh, thank you. It looks like this question is possible duplicate of the question which you linked. I did not find it when i searched for it before."}],"answers":[{"tags":[],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1678172258,"creation_date":1639675449,"answer_id":70383154,"question_id":70382480,"body_markdown":"In your project `application.properties` file set the naming strategy:\r\n\r\n    spring.jpa.hibernate.naming-strategy=org.hibernate.cfg.EJB3NamingStrategy\r\n\r\nDefault value is `org.springframework.boot.orm.jpa.SpringNamingStrategy`\r\n&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;\r\n***UPDATE:***\r\n\r\nIf previous property does not solved your problem, you can use this one (For newer versions of **Hibernate**):\r\n\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl","title":"How to prevent Spring Boot/Hibernate from converting entity column names from PascalCase to snake_case?","body":"<p>In your project <code>application.properties</code> file set the naming strategy:</p>\n<pre><code>spring.jpa.hibernate.naming-strategy=org.hibernate.cfg.EJB3NamingStrategy\n</code></pre>\n<p>Default value is <code>org.springframework.boot.orm.jpa.SpringNamingStrategy</code>\n<br /><br /><br />\n<em><strong>UPDATE:</strong></em></p>\n<p>If previous property does not solved your problem, you can use this one (For newer versions of <strong>Hibernate</strong>):</p>\n<pre><code>spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n"}],"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3692,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":70383154,"answer_count":1,"score":7,"last_activity_date":1678172258,"creation_date":1639672180,"question_id":70382480,"body_markdown":"I stumbled upon a strange error today. One of my Java Persistence Application programming interface (JPA) entities in Spring Boot application is not working. I tracked the problem down to a single column:\r\n```java\r\n@javax.persistence.Column(name = &quot;NameWrittenInPascalCase&quot;)\r\njava.lang.String c;\r\n```\r\nWhen I checked the Structured Query Language (SQL) query which Spring Boot/Hibernate generates I discovered the problem. It seams that Spring Boot or Hibernate converts the `NameWrittenInPascalCase` into `name_written_in_pascal_case` (just written in snake case). (In database, of course, my column name is written in PascalCase).\r\n\r\nFor gods sake, why?\r\n\r\nAnd how to prevent it from doing so?\r\n\r\nIf you need aditional info, I use Spring Boot version 2.5.7.","title":"How to prevent Spring Boot/Hibernate from converting entity column names from PascalCase to snake_case?","body":"<p>I stumbled upon a strange error today. One of my Java Persistence Application programming interface (JPA) entities in Spring Boot application is not working. I tracked the problem down to a single column:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@javax.persistence.Column(name = &quot;NameWrittenInPascalCase&quot;)\njava.lang.String c;\n</code></pre>\n<p>When I checked the Structured Query Language (SQL) query which Spring Boot/Hibernate generates I discovered the problem. It seams that Spring Boot or Hibernate converts the <code>NameWrittenInPascalCase</code> into <code>name_written_in_pascal_case</code> (just written in snake case). (In database, of course, my column name is written in PascalCase).</p>\n<p>For gods sake, why?</p>\n<p>And how to prevent it from doing so?</p>\n<p>If you need aditional info, I use Spring Boot version 2.5.7.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1678164954,"post_id":75658162,"comment_id":133475969,"body_markdown":"First start with a very simple string, maybe `[ x ]` and step through your code with the debugger seeing how it works.","body":"First start with a very simple string, maybe <code>[ x ]</code> and step through your code with the debugger seeing how it works."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1678165172,"post_id":75658162,"comment_id":133475995,"body_markdown":"Also are you sure that you want to remove matched &quot;reversed&quot; brackets, i.e. `] x [` -&gt; ` x `, which your second example implies?","body":"Also are you sure that you want to remove matched &quot;reversed&quot; brackets, i.e. <code>] x [</code> -&gt; ` x `, which your second example implies?"},{"owner":{"account_id":25712903,"reputation":41,"user_id":19471125,"display_name":"Salome"},"score":0,"creation_date":1678171586,"post_id":75658162,"comment_id":133476939,"body_markdown":"I think the instructions are vague so I&#39;ve been trying to figure out what&#39;s actually going on by looking at the testing and expected results. I edited and included the testing (replaces words with hello- it doesn&#39;t matter) It&#39;s interesting you say that, because I&#39;m wondering if my big problem is that it&#39;s looking for both reversed and direct? I&#39;m not actually sure. I&#39;ve not yet fully developed the programming logic fully. I&#39;m still learning and still somewhat very lost just following along with lessons still.","body":"I think the instructions are vague so I&#39;ve been trying to figure out what&#39;s actually going on by looking at the testing and expected results. I edited and included the testing (replaces words with hello- it doesn&#39;t matter) It&#39;s interesting you say that, because I&#39;m wondering if my big problem is that it&#39;s looking for both reversed and direct? I&#39;m not actually sure. I&#39;ve not yet fully developed the programming logic fully. I&#39;m still learning and still somewhat very lost just following along with lessons still."}],"answers":[{"tags":[],"owner":{"account_id":20336489,"reputation":318,"user_id":14917047,"display_name":"Mislah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678167754,"creation_date":1678167288,"answer_id":75658358,"question_id":75658162,"body_markdown":"You can do this by counting the number of each type of brackets in the string and iterate over the string by removing common number of pairs.\r\n\r\nThe algorithm:\r\n```\r\nstr = &quot;hello [ [ ] hello ] hello [ hello ] hello&quot;\r\n\r\nlcount = str.count(&#39;[&#39;)\r\nrcount = str.count(&#39;]&#39;)\r\n\r\nminimum = min(lcount, rcount) //Gives the number of pairs\r\n\r\nlcount = minimum //Number of left brackets to be removed\r\nrcount = minimum //Number of right brackets to be removed\r\n\r\nfor i in str:\r\n\tif (str[i] == &#39;[&#39; &amp;&amp; lcount != 0):\r\n\t\tremove str[i];\r\n\t\tlcount--;\r\n\telse if (str[i] == &#39;]&#39; &amp;&amp; rcount != 0):\r\n\t\tremove str[i];\r\n\t\trcount--;\r\n ```\r\n\r\nThe java implementation:\r\n```lang-java\r\nimport static java.lang.Math.min;\r\n\r\nclass Main{\r\n    public static void main(String[] args){\r\n        String str = &quot;] hello world ] ] [ HELLO ] WORLD ] ] ] hello world&quot;;\r\n        String newStr = &quot;&quot;;\r\n\r\n        int lcount = str.length() - str.replace(&quot;[&quot;, &quot;&quot;).length();\r\n        int rcount = str.length() - str.replace(&quot;]&quot;, &quot;&quot;).length();\r\n        \r\n        lcount = rcount = min(lcount, rcount);\r\n\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            if (str.charAt(i) == &#39;[&#39; &amp;&amp; lcount != 0) {\r\n                lcount--;\r\n            }\r\n            else if (str.charAt(i) == &#39;]&#39; &amp;&amp; rcount != 0){\r\n                rcount--;\r\n            }\r\n            else{\r\n                newStr += str.charAt(i);\r\n            }\r\n        }\r\n\r\n        System.out.println(newStr);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n`hello world ] ]  HELLO ] WORLD ] ] ] hello world`","title":"Remove pairs of nested brackets anywhere in a string in Java","body":"<p>You can do this by counting the number of each type of brackets in the string and iterate over the string by removing common number of pairs.</p>\n<p>The algorithm:</p>\n<pre><code>str = &quot;hello [ [ ] hello ] hello [ hello ] hello&quot;\n\nlcount = str.count('[')\nrcount = str.count(']')\n\nminimum = min(lcount, rcount) //Gives the number of pairs\n\nlcount = minimum //Number of left brackets to be removed\nrcount = minimum //Number of right brackets to be removed\n\nfor i in str:\n    if (str[i] == '[' &amp;&amp; lcount != 0):\n        remove str[i];\n        lcount--;\n    else if (str[i] == ']' &amp;&amp; rcount != 0):\n        remove str[i];\n        rcount--;\n</code></pre>\n<p>The java implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.lang.Math.min;\n\nclass Main{\n    public static void main(String[] args){\n        String str = &quot;] hello world ] ] [ HELLO ] WORLD ] ] ] hello world&quot;;\n        String newStr = &quot;&quot;;\n\n        int lcount = str.length() - str.replace(&quot;[&quot;, &quot;&quot;).length();\n        int rcount = str.length() - str.replace(&quot;]&quot;, &quot;&quot;).length();\n        \n        lcount = rcount = min(lcount, rcount);\n\n        for (int i = 0; i &lt; str.length(); i++) {\n            if (str.charAt(i) == '[' &amp;&amp; lcount != 0) {\n                lcount--;\n            }\n            else if (str.charAt(i) == ']' &amp;&amp; rcount != 0){\n                rcount--;\n            }\n            else{\n                newStr += str.charAt(i);\n            }\n        }\n\n        System.out.println(newStr);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<p><code>hello world ] ]  HELLO ] WORLD ] ] ] hello world</code></p>\n"}],"owner":{"account_id":25712903,"reputation":41,"user_id":19471125,"display_name":"Salome"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75658358,"answer_count":1,"score":1,"last_activity_date":1678171439,"creation_date":1678164813,"question_id":75658162,"body_markdown":"I&#39;m working on a school assignment and I can&#39;t manage to figure out. I&#39;ve tried several different approaches to this including searching from the left, inside to out, and this is outside to in. I searched for over an hour online and on S.O.\r\n\r\nI&#39;m very new to programming so perhaps I just don&#39;t know what to look for or maybe this is too advanced for me just yet. I feel like I am missing something in my logic itself. If anyone can explain the logic, I would appreciate the patience.\r\n\r\nNote: I have permission from my teacher to use Stack Overflow. If I&#39;m doing this wrong here, please correct me and teach me how to make better posts- thank you.\r\n\r\nThe GOAL is to remove pairs of brackets. For instance:\r\nThis:\r\n\r\n    hello [ [ ] hello ] hello [ hello ] hello hello\r\n\r\nShould result in this:\r\n\r\n    hello hello hello hello hello hello\r\n\r\nAnd This:\r\n\r\n    ] hello world ] ] [ HELLO ] WORLD ] ] ] hello world\r\n\r\nShould result in this:\r\n\r\n    hello world ] ] HELLO ] WORLD ] ] ] hello world\r\n\r\nThis is my code:\r\n\r\n```\r\n    public class PairRemoval {\r\n        public static void main(String[] args) {\r\n            String text = &quot;] hello world ] ] [ HELLO ] WORLD ] ] ] hello world&quot;;\r\n            String leftPattern = &quot;[&quot;;\r\n            String rightPattern = &quot;]&quot;;\r\n    \r\n            String sentence = pairRemoval(text, leftPattern, rightPattern);\r\n    \r\n            System.out.println(sentence);\r\n\r\n            // Expected:  hello world ] ] HELLO ] WORLD ] ] ] hello world (per assignment)\r\n            // Output:  ] hello world ] ] HELLO ] WORLD ] ] ] hello world\r\n\r\n        }\r\n        \r\n        public static String pairRemoval(String text, String leftPattern, String rightPattern) {\r\n    \r\n            int count = 0;\r\n            String sentence = &quot;&quot;;\r\n            int leftIndex = 0; // Initialize left index to search from the beginning of the string\r\n            int rightIndex = text.length() - 1; // Initialize right index to search from the end of the string\r\n        \r\n            // Loop until the left and right indexes meet or cross each other\r\n            while (leftIndex &lt;= rightIndex) {\r\n                char leftLetter = text.charAt(leftIndex);\r\n                char rightLetter = text.charAt(rightIndex);\r\n        \r\n                // If the left letter matches the left pattern\r\n                if (leftLetter == leftPattern.charAt(0)) {\r\n                    count++;\r\n                    leftIndex++;\r\n                    continue; // Skip to next iteration to keep searching from the left\r\n                }\r\n        \r\n                // If the right letter matches the right pattern\r\n                if (rightLetter == rightPattern.charAt(0)) {\r\n                    if (count &gt; 0) {\r\n                        count--;\r\n                        rightIndex--;\r\n                        continue; // Skip to next iteration to keep searching from the right\r\n                    }\r\n                }\r\n        \r\n                // If neither letter matches a pattern, append the left letter to the sentence\r\n                sentence = sentence + leftLetter;\r\n                leftIndex++;\r\n               \r\n            }\r\n        \r\n            // Return the final sentence with all pairs removed\r\n            return sentence;\r\n        }\r\n```\r\n\r\nEdit: Added example input output\r\n```\r\ntext = &#39;hello [ [ ] hello ] hello [ hello ] hello hello&#39;\r\nleft pattern = &#39;[&#39;\r\nright pattern = &#39;]&#39;\r\nExpected value was: &#39;hello hello hello hello hello hello&#39;\r\n\r\ntext = &#39;&gt; hello hello &gt; &gt; &lt; hello &gt; hello &gt; &gt; &gt; hello hello&#39;\r\nleft pattern = &#39;&lt;&#39;\r\nright pattern = &#39;&gt;&#39;\r\nExpected value was: &#39; hello hello &gt; &gt; hello &gt; hello &gt; &gt; &gt; hello hello&#39;\r\n\r\ntext = &#39;&lt; &lt; hello &gt; hello hello hello &gt; &lt; hello &lt; hello &lt; &gt; hello&#39;\r\nleft pattern = &#39;&lt;&#39;\r\nright pattern = &#39;&gt;&#39;\r\nExpected value was: &#39; hello hello hello hello hello &lt; hello &lt; hello&#39;\r\n\r\ntext = &#39;[ [ [ hello [ [ hello hello hello hello [ [ ] ] hello hello&#39;\r\nleft pattern = &#39;[&#39;\r\nright pattern = &#39;]&#39;\r\nExpected value was: &#39; [ hello [ [ hello hello hello hello [ [ hello hello&#39;\r\n\r\nExample 1: \r\ntext = { { hello } } { } hello hello } hello hello hello hello \r\nleftPattern =  {\r\nrightPattern = }\r\nexpected = hello     hello hello } hello hello hello hello\r\n\r\nExample 2: \r\ntext = hello ( hello hello hello ) hello ) ) ) hello\r\nleftPattern =  (\r\nrightPattern = )\r\nexpected =. hello  hello hello hello  hello ) ) ) hello\r\n\r\nExample 3: \r\ntext = hello hello } { hello { } hello } { { hello\r\nleftPattern =  {\r\nrightPattern = }\r\nexpected = hello hello   hello   hello   { hello\r\n```","title":"Remove pairs of nested brackets anywhere in a string in Java","body":"<p>I'm working on a school assignment and I can't manage to figure out. I've tried several different approaches to this including searching from the left, inside to out, and this is outside to in. I searched for over an hour online and on S.O.</p>\n<p>I'm very new to programming so perhaps I just don't know what to look for or maybe this is too advanced for me just yet. I feel like I am missing something in my logic itself. If anyone can explain the logic, I would appreciate the patience.</p>\n<p>Note: I have permission from my teacher to use Stack Overflow. If I'm doing this wrong here, please correct me and teach me how to make better posts- thank you.</p>\n<p>The GOAL is to remove pairs of brackets. For instance:\nThis:</p>\n<pre><code>hello [ [ ] hello ] hello [ hello ] hello hello\n</code></pre>\n<p>Should result in this:</p>\n<pre><code>hello hello hello hello hello hello\n</code></pre>\n<p>And This:</p>\n<pre><code>] hello world ] ] [ HELLO ] WORLD ] ] ] hello world\n</code></pre>\n<p>Should result in this:</p>\n<pre><code>hello world ] ] HELLO ] WORLD ] ] ] hello world\n</code></pre>\n<p>This is my code:</p>\n<pre><code>    public class PairRemoval {\n        public static void main(String[] args) {\n            String text = &quot;] hello world ] ] [ HELLO ] WORLD ] ] ] hello world&quot;;\n            String leftPattern = &quot;[&quot;;\n            String rightPattern = &quot;]&quot;;\n    \n            String sentence = pairRemoval(text, leftPattern, rightPattern);\n    \n            System.out.println(sentence);\n\n            // Expected:  hello world ] ] HELLO ] WORLD ] ] ] hello world (per assignment)\n            // Output:  ] hello world ] ] HELLO ] WORLD ] ] ] hello world\n\n        }\n        \n        public static String pairRemoval(String text, String leftPattern, String rightPattern) {\n    \n            int count = 0;\n            String sentence = &quot;&quot;;\n            int leftIndex = 0; // Initialize left index to search from the beginning of the string\n            int rightIndex = text.length() - 1; // Initialize right index to search from the end of the string\n        \n            // Loop until the left and right indexes meet or cross each other\n            while (leftIndex &lt;= rightIndex) {\n                char leftLetter = text.charAt(leftIndex);\n                char rightLetter = text.charAt(rightIndex);\n        \n                // If the left letter matches the left pattern\n                if (leftLetter == leftPattern.charAt(0)) {\n                    count++;\n                    leftIndex++;\n                    continue; // Skip to next iteration to keep searching from the left\n                }\n        \n                // If the right letter matches the right pattern\n                if (rightLetter == rightPattern.charAt(0)) {\n                    if (count &gt; 0) {\n                        count--;\n                        rightIndex--;\n                        continue; // Skip to next iteration to keep searching from the right\n                    }\n                }\n        \n                // If neither letter matches a pattern, append the left letter to the sentence\n                sentence = sentence + leftLetter;\n                leftIndex++;\n               \n            }\n        \n            // Return the final sentence with all pairs removed\n            return sentence;\n        }\n</code></pre>\n<p>Edit: Added example input output</p>\n<pre><code>text = 'hello [ [ ] hello ] hello [ hello ] hello hello'\nleft pattern = '['\nright pattern = ']'\nExpected value was: 'hello hello hello hello hello hello'\n\ntext = '&gt; hello hello &gt; &gt; &lt; hello &gt; hello &gt; &gt; &gt; hello hello'\nleft pattern = '&lt;'\nright pattern = '&gt;'\nExpected value was: ' hello hello &gt; &gt; hello &gt; hello &gt; &gt; &gt; hello hello'\n\ntext = '&lt; &lt; hello &gt; hello hello hello &gt; &lt; hello &lt; hello &lt; &gt; hello'\nleft pattern = '&lt;'\nright pattern = '&gt;'\nExpected value was: ' hello hello hello hello hello &lt; hello &lt; hello'\n\ntext = '[ [ [ hello [ [ hello hello hello hello [ [ ] ] hello hello'\nleft pattern = '['\nright pattern = ']'\nExpected value was: ' [ hello [ [ hello hello hello hello [ [ hello hello'\n\nExample 1: \ntext = { { hello } } { } hello hello } hello hello hello hello \nleftPattern =  {\nrightPattern = }\nexpected = hello     hello hello } hello hello hello hello\n\nExample 2: \ntext = hello ( hello hello hello ) hello ) ) ) hello\nleftPattern =  (\nrightPattern = )\nexpected =. hello  hello hello hello  hello ) ) ) hello\n\nExample 3: \ntext = hello hello } { hello { } hello } { { hello\nleftPattern =  {\nrightPattern = }\nexpected = hello hello   hello   hello   { hello\n</code></pre>\n"},{"tags":["java","generics","tree"],"comments":[{"owner":{"account_id":8667854,"reputation":11597,"user_id":6487675,"display_name":"dWinder"},"score":0,"creation_date":1532507026,"post_id":51513162,"comment_id":89996613,"body_markdown":"What do you mean by &#39;the next larger element&#39;? Do you seek for the max data in the tree? Highest data in the tree that bigger then n? Can you please elaborate so we can help you?","body":"What do you mean by &#39;the next larger element&#39;? Do you seek for the max data in the tree? Highest data in the tree that bigger then n? Can you please elaborate so we can help you?"},{"owner":{"account_id":14026692,"reputation":1,"user_id":10131551,"display_name":"Niharika Gurnani"},"score":0,"creation_date":1532518092,"post_id":51513162,"comment_id":90003922,"body_markdown":"Next larger element means value which is just greater than n.\nFor example, if a tree contains nodes with data values : 10,20,30,40,50 and, if n=18(say), then output should be 20.","body":"Next larger element means value which is just greater than n. For example, if a tree contains nodes with data values : 10,20,30,40,50 and, if n=18(say), then output should be 20."},{"owner":{"account_id":8667854,"reputation":11597,"user_id":6487675,"display_name":"dWinder"},"score":0,"creation_date":1540213174,"post_id":51513162,"comment_id":92769034,"body_markdown":"Did this answer helped you?","body":"Did this answer helped you?"}],"answers":[{"tags":[],"owner":{"account_id":8667854,"reputation":11597,"user_id":6487675,"display_name":"dWinder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574031849,"creation_date":1532518578,"answer_id":51517917,"question_id":51513162,"body_markdown":"You have two main errors in your code: \r\n\r\n1. `if(root.data &gt; n) return root;`\r\nConsider the following tree:\r\n\r\n          40\r\n         /  \\ \r\n        10   30\r\n\r\n    Now what happens if you run your function with n=15? The root is bigger than n, and therefore returns 40, but not 30 as the required output.\r\n\r\n2. `if(front.children.get(i).data &gt; n) return front.children.get(i);`\r\n\r\n    Consider the following example:\r\n\r\n          40\r\n         /  \\ \r\n        20   18\r\n\r\n    Again, run with n=15, and you will get 20 as the first child checked on the root. The function returns and does not continue to check other more suitable nodes.\r\n\r\nYour **simplest** way (surely not the shortest) to achieve that can use the following algorithm:\r\n\r\n 1. Traverse on all node (BFS or DFS) and export data to an array\r\n 2. Find the next bigger element of n\r\n 3. Traverse on the tree and find the node with that data\r\n\r\n","title":"Find and return the node with the next larger element in a generic tree","body":"<p>You have two main errors in your code: </p>\n\n<ol>\n<li><p><code>if(root.data &gt; n) return root;</code>\nConsider the following tree:</p>\n\n<pre><code>  40\n /  \\ \n10   30\n</code></pre>\n\n<p>Now what happens if you run your function with n=15? The root is bigger than n, and therefore returns 40, but not 30 as the required output.</p></li>\n<li><p><code>if(front.children.get(i).data &gt; n) return front.children.get(i);</code></p>\n\n<p>Consider the following example:</p>\n\n<pre><code>  40\n /  \\ \n20   18\n</code></pre>\n\n<p>Again, run with n=15, and you will get 20 as the first child checked on the root. The function returns and does not continue to check other more suitable nodes.</p></li>\n</ol>\n\n<p>Your <strong>simplest</strong> way (surely not the shortest) to achieve that can use the following algorithm:</p>\n\n<ol>\n<li>Traverse on all node (BFS or DFS) and export data to an array</li>\n<li>Find the next bigger element of n</li>\n<li>Traverse on the tree and find the node with that data</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17111615,"reputation":1,"user_id":12382256,"display_name":"kartikey khosla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574031565,"creation_date":1573894599,"answer_id":58889070,"question_id":51513162,"body_markdown":"Consider:\r\n\r\n    if(front.children.get(i).data &gt; n)\r\n\r\nBy this `if` statement the next any greater element will be returned.\r\n\r\nIt goes right with a case like:\r\n\r\n    21\r\n    10 3 20 30 40 2 40 50 0 0 0 0 \r\n\r\nbut a case like:\r\n\r\n    21\r\n    10 3 20 20 40 2 40 30 0 0 0 0 \r\n\r\nIt will return 40 while we need 30 as the answer.\r\n","title":"Find and return the node with the next larger element in a generic tree","body":"<p>Consider:</p>\n\n<pre><code>if(front.children.get(i).data &gt; n)\n</code></pre>\n\n<p>By this <code>if</code> statement the next any greater element will be returned.</p>\n\n<p>It goes right with a case like:</p>\n\n<pre><code>21\n10 3 20 30 40 2 40 50 0 0 0 0 \n</code></pre>\n\n<p>but a case like:</p>\n\n<pre><code>21\n10 3 20 20 40 2 40 30 0 0 0 0 \n</code></pre>\n\n<p>It will return 40 while we need 30 as the answer.</p>\n"},{"tags":[],"owner":{"account_id":27953974,"reputation":1,"user_id":21347181,"display_name":"Neffi Bathla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678171436,"creation_date":1678171352,"answer_id":75658715,"question_id":51513162,"body_markdown":"    public static TreeNode&lt;Integer&gt; findNextLargerNode2(TreeNode&lt;Integer&gt; root, int n){\r\n    \t\tif(root==null) {return null;}\r\n    \t\tTreeNode&lt;Integer&gt; ans=null;\r\n    \t\tif(root.data&gt;n) {\r\n    \t\t\tans=root;\r\n    \t\t}\r\n    \t\tfor(TreeNode&lt;Integer&gt; child: root.children) {\r\n    \t\t\tTreeNode&lt;Integer&gt; childans=findNextLargerNode2(child,n);\r\n    \t\t\tif(childans!=null) {\r\n    \t\t\t\tif(ans==null || ans.data&gt;childans.data) {\r\n    \t\t\t\t\tans=childans;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn ans;\r\n    \t\r\n    \t}","title":"Find and return the node with the next larger element in a generic tree","body":"<pre><code>public static TreeNode&lt;Integer&gt; findNextLargerNode2(TreeNode&lt;Integer&gt; root, int n){\n        if(root==null) {return null;}\n        TreeNode&lt;Integer&gt; ans=null;\n        if(root.data&gt;n) {\n            ans=root;\n        }\n        for(TreeNode&lt;Integer&gt; child: root.children) {\n            TreeNode&lt;Integer&gt; childans=findNextLargerNode2(child,n);\n            if(childans!=null) {\n                if(ans==null || ans.data&gt;childans.data) {\n                    ans=childans;\n                }\n            }\n        }\n        return ans;\n    \n    }\n</code></pre>\n"}],"owner":{"account_id":14026692,"reputation":1,"user_id":10131551,"display_name":"Niharika Gurnani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1678171436,"creation_date":1532503705,"question_id":51513162,"body_markdown":"I am using a different approach. But only two test cases are successfully running. Here&#39;s my code:\r\n\r\n    public static TreeNode&lt;Integer&gt; findNextLargerNode(TreeNode&lt;Integer&gt; root, int n){\r\n        Queue&lt;TreeNode&lt;Integer&gt;&gt;pendingNodes = new LinkedList&lt;&gt;();\r\n        pendingNodes.add(root);\r\n        if(root == null)\r\n        {\r\n            return null;\r\n        }\r\n        if(root.data &gt; n)\r\n        {\r\n            return root;\r\n        }\r\n        while(pendingNodes.size()!=0)\r\n        {\r\n            TreeNode&lt;Integer&gt; front = pendingNodes.remove();\r\n            for(int i =0; i&lt;front.children.size(); i++)\r\n            {\r\n                pendingNodes.add(front.children.get(i));\r\n                if(front.children.get(i).data &gt; n)\r\n                {\r\n                    return front.children.get(i);\r\n                }\r\n             }\r\n         }\r\n         return null;\r\n     }\r\n\r\nWhere have I made errors?\r\n\r\n","title":"Find and return the node with the next larger element in a generic tree","body":"<p>I am using a different approach. But only two test cases are successfully running. Here's my code:</p>\n\n<pre><code>public static TreeNode&lt;Integer&gt; findNextLargerNode(TreeNode&lt;Integer&gt; root, int n){\n    Queue&lt;TreeNode&lt;Integer&gt;&gt;pendingNodes = new LinkedList&lt;&gt;();\n    pendingNodes.add(root);\n    if(root == null)\n    {\n        return null;\n    }\n    if(root.data &gt; n)\n    {\n        return root;\n    }\n    while(pendingNodes.size()!=0)\n    {\n        TreeNode&lt;Integer&gt; front = pendingNodes.remove();\n        for(int i =0; i&lt;front.children.size(); i++)\n        {\n            pendingNodes.add(front.children.get(i));\n            if(front.children.get(i).data &gt; n)\n            {\n                return front.children.get(i);\n            }\n         }\n     }\n     return null;\n }\n</code></pre>\n\n<p>Where have I made errors?</p>\n"},{"tags":["java","runtime-error","nosuchelementexception"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1678125525,"post_id":75653875,"comment_id":133469143,"body_markdown":"How many lines are there in file `stockNames.txt`? Are there less than 99 lines in the file? From the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#get()): _Throws: NoSuchElementException - if no value is present_ `String loadString = load.skip(i).findFirst().get();` ___findFirst___ is returning an empty `Optional`.","body":"How many lines are there in file <code>stockNames.txt</code>? Are there less than 99 lines in the file? From the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#get()\" rel=\"nofollow noreferrer\">documentation</a>: <i>Throws: NoSuchElementException - if no value is present</i> <code>String loadString = load.skip(i).findFirst().get();</code> <b><i>findFirst</i></b> is returning an empty <code>Optional</code>."},{"owner":{"account_id":27877406,"reputation":1,"user_id":21286618,"display_name":"Kit"},"score":0,"creation_date":1678125823,"post_id":75653875,"comment_id":133469228,"body_markdown":"In this situation, it can vary up to 99 because you can add more lines","body":"In this situation, it can vary up to 99 because you can add more lines"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1678126017,"post_id":75653875,"comment_id":133469279,"body_markdown":"Let&#39;s say the file has 20 lines. In your `for` loop, once `i` is greater than 20, you will skip all the lines in the file, so `findFirst` will return an &quot;empty&quot; `Optional`. By the way, the documentation states that the `Stream` should be closed (if I remember correctly) - something that you are not doing.","body":"Let&#39;s say the file has 20 lines. In your <code>for</code> loop, once <code>i</code> is greater than 20, you will skip all the lines in the file, so <code>findFirst</code> will return an &quot;empty&quot; <code>Optional</code>. By the way, the documentation states that the <code>Stream</code> should be closed (if I remember correctly) - something that you are not doing."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678170554,"creation_date":1678170554,"answer_id":75658646,"question_id":75653875,"body_markdown":"You appear to be making this a lot more complicated than it needs to be.  \r\nHere is my *stocknames.txt* file:\r\n```none\r\nRIVN\r\nSNAP\r\nNVOS\r\nAMAM\r\nTRKA\r\nBBIO\r\nSAVE\r\nUNCY\r\nAAPL\r\nNTNX\r\nSOFI\r\nGLPH\r\nGBTC\r\n```\r\nEach line is the stock [symbol][1].  \r\nThe below code reads each line of file *stocknames.txt* and, for each line read, calls method `showName` which outputs the name associated with the given symbol. I believe that is what you are trying to do.\r\n```java\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\n\r\nimport org.jsoup.Connection;\r\nimport org.jsoup.Jsoup;\r\nimport org.jsoup.nodes.Document;\r\nimport org.jsoup.nodes.Element;\r\nimport org.jsoup.select.Elements;\r\n\r\npublic class Extractor {\r\n    private static final String TEMPLATE = &quot;http://finance.yahoo.com/quote/%s?p=%s&amp;.tsrc=fin-srch&quot;;\r\n\r\n    public static void showName(String name) throws IOException {\r\n        String url = String.format(TEMPLATE, name, name);\r\n        Connection conn = Jsoup.connect(url);\r\n        Document doc = conn.get(); // throws java.io.IOException\r\n        Elements contentA = doc.getElementsByClass(&quot;D(ib) Fz(18px)&quot;);\r\n        for (Element a : contentA) {\r\n            System.out.println(a.text());\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try (Scanner gatherStocks = new Scanner(new File(&quot;stocknames.txt&quot;))) {\r\n            while (gatherStocks.hasNextLine()) {\r\n                String name = gatherStocks.nextLine();\r\n                showName(name);\r\n            }\r\n        }\r\n        catch (IOException xIo) {\r\n            xIo.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nWhen I run the above code, I get the following output:\r\n```none\r\nRivian Automotive, Inc. (RIVN)\r\nSnap Inc. (SNAP)\r\nNovo Integrated Sciences, Inc. (NVOS)\r\nAmbrx Biopharma Inc. (AMAM)\r\nTroika Media Group, Inc. (TRKA)\r\nBridgeBio Pharma, Inc. (BBIO)\r\nSpirit Airlines, Inc. (SAVE)\r\nUnicycive Therapeutics, Inc. (UNCY)\r\nApple Inc. (AAPL)\r\nNutanix, Inc. (NTNX)\r\nSoFi Technologies, Inc. (SOFI)\r\nGrayscale Bitcoin Trust (BTC) (GBTC)\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Ticker_symbol","title":"Jsoup and for loop nosuchelementexception","body":"<p>You appear to be making this a lot more complicated than it needs to be.<br />\nHere is my <em>stocknames.txt</em> file:</p>\n<pre class=\"lang-none prettyprint-override\"><code>RIVN\nSNAP\nNVOS\nAMAM\nTRKA\nBBIO\nSAVE\nUNCY\nAAPL\nNTNX\nSOFI\nGLPH\nGBTC\n</code></pre>\n<p>Each line is the stock <a href=\"https://en.wikipedia.org/wiki/Ticker_symbol\" rel=\"nofollow noreferrer\">symbol</a>.<br />\nThe below code reads each line of file <em>stocknames.txt</em> and, for each line read, calls method <code>showName</code> which outputs the name associated with the given symbol. I believe that is what you are trying to do.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.Scanner;\n\nimport org.jsoup.Connection;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\n\npublic class Extractor {\n    private static final String TEMPLATE = &quot;http://finance.yahoo.com/quote/%s?p=%s&amp;.tsrc=fin-srch&quot;;\n\n    public static void showName(String name) throws IOException {\n        String url = String.format(TEMPLATE, name, name);\n        Connection conn = Jsoup.connect(url);\n        Document doc = conn.get(); // throws java.io.IOException\n        Elements contentA = doc.getElementsByClass(&quot;D(ib) Fz(18px)&quot;);\n        for (Element a : contentA) {\n            System.out.println(a.text());\n        }\n    }\n\n    public static void main(String[] args) {\n        try (Scanner gatherStocks = new Scanner(new File(&quot;stocknames.txt&quot;))) {\n            while (gatherStocks.hasNextLine()) {\n                String name = gatherStocks.nextLine();\n                showName(name);\n            }\n        }\n        catch (IOException xIo) {\n            xIo.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>When I run the above code, I get the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Rivian Automotive, Inc. (RIVN)\nSnap Inc. (SNAP)\nNovo Integrated Sciences, Inc. (NVOS)\nAmbrx Biopharma Inc. (AMAM)\nTroika Media Group, Inc. (TRKA)\nBridgeBio Pharma, Inc. (BBIO)\nSpirit Airlines, Inc. (SAVE)\nUnicycive Therapeutics, Inc. (UNCY)\nApple Inc. (AAPL)\nNutanix, Inc. (NTNX)\nSoFi Technologies, Inc. (SOFI)\nGrayscale Bitcoin Trust (BTC) (GBTC)\n</code></pre>\n"}],"owner":{"account_id":27877406,"reputation":1,"user_id":21286618,"display_name":"Kit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678170926,"creation_date":1678123091,"question_id":75653875,"body_markdown":"I am trying to gather data on Yahoo Finance by constantly changing URL string.  \r\nHere is my code to make more sense:\r\n```java\r\n    public static void gatherLoop() throws NoSuchElementException, IOException {\r\n        for (var i = 1; i &lt; 99; i++) {\r\n            BufferedReader gatherStocks = new BufferedReader(new FileReader(&quot;stockNames.txt&quot;));\r\n            Stream&lt;String&gt; load = Files.lines(Paths.get(&quot;stockNames.txt&quot;));\r\n            String loadString = load.skip(i).findFirst().get();\r\n            String glURL = &quot;http://finance.yahoo.com/quote/&quot;+loadString+&quot;?p=&quot;+loadString+&quot;&amp;.tsrc=fin-srch&quot;;\r\n\r\n            if (glURL.equals(&quot;http://finance.yahoo.com/quote/?p=&amp;.tsrc=fin-srch&quot;)) {\r\n                gatherStocks.close();\r\n                System.out.println(&quot;Loaded Stocks&quot;);\r\n                System.out.println(&quot;If Their Is No Stocks Popping Up, You Have No Saved Stocks&quot;);\r\n            }\r\n            else {\r\n                Document doc = Jsoup.connect(glURL).get();\r\n                Elements contentA = doc.getElementsByClass(&quot;D(ib) Fz(18px)&quot;);\r\n                System.out.println(&quot;|------------------------------------------------|&quot;);\r\n                for(Element a : contentA) {\r\n                    System.out.println(&quot;| &quot; + i + &quot;. Name: &quot; + a.text());\r\n                    gatherStocks.readLine();\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\nHowever when I run the code I get a runtime error in the compiler:\r\n```none\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No value present\r\n        at java.base/java.util.Optional.get(Optional.java:143)\r\n        at StockAnalysis.saves.gatherLoop(saves.java:32)\r\n        at StockAnalysis.saves.gatherSavedStocks(saves.java:25)\r\n        at StockAnalysis.Home.main(Home.java:27)\r\n```\r\nThe first thing I tried was just doing `i++` and running the `void` again but that would reset `i` back to zero. Then I tried just reading `loadstring` string.","title":"Jsoup and for loop nosuchelementexception","body":"<p>I am trying to gather data on Yahoo Finance by constantly changing URL string.<br />\nHere is my code to make more sense:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void gatherLoop() throws NoSuchElementException, IOException {\n        for (var i = 1; i &lt; 99; i++) {\n            BufferedReader gatherStocks = new BufferedReader(new FileReader(&quot;stockNames.txt&quot;));\n            Stream&lt;String&gt; load = Files.lines(Paths.get(&quot;stockNames.txt&quot;));\n            String loadString = load.skip(i).findFirst().get();\n            String glURL = &quot;http://finance.yahoo.com/quote/&quot;+loadString+&quot;?p=&quot;+loadString+&quot;&amp;.tsrc=fin-srch&quot;;\n\n            if (glURL.equals(&quot;http://finance.yahoo.com/quote/?p=&amp;.tsrc=fin-srch&quot;)) {\n                gatherStocks.close();\n                System.out.println(&quot;Loaded Stocks&quot;);\n                System.out.println(&quot;If Their Is No Stocks Popping Up, You Have No Saved Stocks&quot;);\n            }\n            else {\n                Document doc = Jsoup.connect(glURL).get();\n                Elements contentA = doc.getElementsByClass(&quot;D(ib) Fz(18px)&quot;);\n                System.out.println(&quot;|------------------------------------------------|&quot;);\n                for(Element a : contentA) {\n                    System.out.println(&quot;| &quot; + i + &quot;. Name: &quot; + a.text());\n                    gatherStocks.readLine();\n                }\n            }\n        }\n    }\n</code></pre>\n<p>However when I run the code I get a runtime error in the compiler:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException: No value present\n        at java.base/java.util.Optional.get(Optional.java:143)\n        at StockAnalysis.saves.gatherLoop(saves.java:32)\n        at StockAnalysis.saves.gatherSavedStocks(saves.java:25)\n        at StockAnalysis.Home.main(Home.java:27)\n</code></pre>\n<p>The first thing I tried was just doing <code>i++</code> and running the <code>void</code> again but that would reset <code>i</code> back to zero. Then I tried just reading <code>loadstring</code> string.</p>\n"},{"tags":["java","maven","javaparser"],"answers":[{"tags":[],"owner":{"account_id":9092458,"reputation":41,"user_id":6767698,"accept_rate":0,"display_name":"Rohit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678170904,"creation_date":1678170904,"answer_id":75658674,"question_id":75553216,"body_markdown":"So looks like it is not possible to achieve something like this directly in Java parser.\r\n\r\nWhat I ended up doing is to use **org.apache.maven.model.io.xpp3.MavenXpp3Reader** to parse my pom.xml file and get the list of dependencies/managed dependencies.\r\nThen I used that list to generate the path of the jar&#39;s (using the syntax **&lt;user.home&gt;/.m2/repository/\\&lt;group-id&gt;/\\&lt;artifact-id&gt;/\\&lt;version&gt;/\\&lt;artifact-id&gt;-\\&lt;version&gt;-\\&lt;classifier&gt;.jar**).\r\n\r\nThis jar file path was then passed to JarTypeSolver.","title":"How to add maven type solver in JavaParser","body":"<p>So looks like it is not possible to achieve something like this directly in Java parser.</p>\n<p>What I ended up doing is to use <strong>org.apache.maven.model.io.xpp3.MavenXpp3Reader</strong> to parse my pom.xml file and get the list of dependencies/managed dependencies.\nThen I used that list to generate the path of the jar's (using the syntax <strong>&lt;user.home&gt;/.m2/repository/&lt;group-id&gt;/&lt;artifact-id&gt;/&lt;version&gt;/&lt;artifact-id&gt;-&lt;version&gt;-&lt;classifier&gt;.jar</strong>).</p>\n<p>This jar file path was then passed to JarTypeSolver.</p>\n"}],"owner":{"account_id":9092458,"reputation":41,"user_id":6767698,"accept_rate":0,"display_name":"Rohit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75658674,"answer_count":1,"score":0,"last_activity_date":1678170904,"creation_date":1677219782,"question_id":75553216,"body_markdown":"I have an AEM maven project with dependencies being injected by maven.\r\nI am using the Java Parser library to do some analysis of the code.\r\nTill now, we were manually injecting the typesolvers using the paths of the jars in the m2 repository like below\r\n\r\n        List&lt;TypeSolver&gt; typeSolvers = new ArrayList&lt;TypeSolver&gt;();\r\n\t\ttypeSolvers.add(new ReflectionTypeSolver());\r\n\t\ttypeSolvers.add(new JavaParserTypeSolver(new File(projectPath + &quot;/src/main/java&quot;)));\r\n\t\tfor (String str : dependencies) {\r\n\t\t\ttypeSolvers.add(JarTypeSolver.getJarTypeSolver(str));\r\n\t\t}\r\n\t\tTypeSolver[] tsArray = new TypeSolver[typeSolvers.size()];\r\n\t\tfor (int i = 0; i &lt; typeSolvers.size(); i++) {\r\n\t\t\ttsArray[i] = typeSolvers.get(i);\r\n\t\t}\r\n\t\ttypeSolver = new CombinedTypeSolver(tsArray);\r\n\r\nWe were passing it the list of jar paths like below:\r\n\r\n        List&lt;String&gt; dependencies = new ArrayList&lt;&gt;();\r\n\t\tdependencies.add(&quot;C:/Users/&quot;+Utility.USER_NAME+&quot;/.m2/repository/com/adobe/aem/uber-jar/6.2.0/uber-jar-6.2.0-apis.jar&quot;);\r\n\r\nNow, I would like the typesolver to automatically resolve the dependency without adding the paths manually.\r\nIs there any &#39;Maven typesolver&#39; like thing in Java which can help with the same.","title":"How to add maven type solver in JavaParser","body":"<p>I have an AEM maven project with dependencies being injected by maven.\nI am using the Java Parser library to do some analysis of the code.\nTill now, we were manually injecting the typesolvers using the paths of the jars in the m2 repository like below</p>\n<pre><code>    List&lt;TypeSolver&gt; typeSolvers = new ArrayList&lt;TypeSolver&gt;();\n    typeSolvers.add(new ReflectionTypeSolver());\n    typeSolvers.add(new JavaParserTypeSolver(new File(projectPath + &quot;/src/main/java&quot;)));\n    for (String str : dependencies) {\n        typeSolvers.add(JarTypeSolver.getJarTypeSolver(str));\n    }\n    TypeSolver[] tsArray = new TypeSolver[typeSolvers.size()];\n    for (int i = 0; i &lt; typeSolvers.size(); i++) {\n        tsArray[i] = typeSolvers.get(i);\n    }\n    typeSolver = new CombinedTypeSolver(tsArray);\n</code></pre>\n<p>We were passing it the list of jar paths like below:</p>\n<pre><code>    List&lt;String&gt; dependencies = new ArrayList&lt;&gt;();\n    dependencies.add(&quot;C:/Users/&quot;+Utility.USER_NAME+&quot;/.m2/repository/com/adobe/aem/uber-jar/6.2.0/uber-jar-6.2.0-apis.jar&quot;);\n</code></pre>\n<p>Now, I would like the typesolver to automatically resolve the dependency without adding the paths manually.\nIs there any 'Maven typesolver' like thing in Java which can help with the same.</p>\n"},{"tags":["java","graalvm","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":2061396,"reputation":306,"user_id":1837841,"display_name":"user1837841"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678170872,"creation_date":1678168043,"answer_id":75658423,"question_id":75657785,"body_markdown":"&lt;strike&gt;The error occurs with the current release version of GraalVM (22.3), but is resolved in the current development version (23.0.0).\r\n\r\nClosing as answered.&lt;/strike&gt;\r\n\r\nThe version compiled by the dev build can run, but only from the target directory.\r\n\r\nShould really have checked that sooner.","title":"Cannot access internal (polyglot) libraries from Graal native-image binary","body":"<p><strike>The error occurs with the current release version of GraalVM (22.3), but is resolved in the current development version (23.0.0).</p>\n<p>Closing as answered.</strike></p>\n<p>The version compiled by the dev build can run, but only from the target directory.</p>\n<p>Should really have checked that sooner.</p>\n"}],"owner":{"account_id":2061396,"reputation":306,"user_id":1837841,"display_name":"user1837841"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678170872,"creation_date":1678159493,"question_id":75657785,"body_markdown":"I&#39;ve created a simple &quot;hello world&quot; application to introduce myself to Graal and its polyglot functionality (currently linux only).\r\n\r\nhttps://github.com/BurntMonkey/hello-graal/\r\n\r\nTo be honest, it&#39;s a bit hacky - but it&#39;s relatively clean nonetheless.\r\n\r\nI&#39;m compiling the c code to a shared object (.so) and placing it in the resources directory.\r\n\r\nI&#39;ve installed the LLVM toolchain as well as native-image with Graal&#39;s gu command.\r\n\r\nWith $JAVA_HOME pointing to that Graal instance, the jar works as expected.\r\n\r\nI compiled that to a native image with the following command:\r\n\r\n    $GRAAL_HOME/bin/native-image -H:IncludeResources=&quot;lib/.+&quot; --language:llvm -jar hellograal-1.0.jar\r\n\r\nCompilation completes (takes a long time, but that&#39;s expected) but execution fails with the following error:\r\n\r\n    Exception in thread &quot;main&quot; Cannot load &quot;libsulong-native.so&quot;. Internal library path not set\r\n         at org.graalvm.sdk/org.graalvm.polyglot.Context.eval(Context.java:399)\r\n         at NativeApp.main(NativeApp.java:14)\r\n\r\nI&#39;ve spent some time trying to figure out how to define the internal library path, to no avail.\r\n\r\nAny help would be appreciated.","title":"Cannot access internal (polyglot) libraries from Graal native-image binary","body":"<p>I've created a simple &quot;hello world&quot; application to introduce myself to Graal and its polyglot functionality (currently linux only).</p>\n<p><a href=\"https://github.com/BurntMonkey/hello-graal/\" rel=\"nofollow noreferrer\">https://github.com/BurntMonkey/hello-graal/</a></p>\n<p>To be honest, it's a bit hacky - but it's relatively clean nonetheless.</p>\n<p>I'm compiling the c code to a shared object (.so) and placing it in the resources directory.</p>\n<p>I've installed the LLVM toolchain as well as native-image with Graal's gu command.</p>\n<p>With $JAVA_HOME pointing to that Graal instance, the jar works as expected.</p>\n<p>I compiled that to a native image with the following command:</p>\n<pre><code>$GRAAL_HOME/bin/native-image -H:IncludeResources=&quot;lib/.+&quot; --language:llvm -jar hellograal-1.0.jar\n</code></pre>\n<p>Compilation completes (takes a long time, but that's expected) but execution fails with the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; Cannot load &quot;libsulong-native.so&quot;. Internal library path not set\n     at org.graalvm.sdk/org.graalvm.polyglot.Context.eval(Context.java:399)\n     at NativeApp.main(NativeApp.java:14)\n</code></pre>\n<p>I've spent some time trying to figure out how to define the internal library path, to no avail.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android","firebase"],"answers":[{"tags":[],"owner":{"account_id":5416935,"reputation":482,"user_id":4311839,"display_name":"Husseinfo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678133392,"creation_date":1678133392,"answer_id":75655398,"question_id":75655221,"body_markdown":"You are using support libraries that are not compatible with **AndroidX**, like: `&#39;com.android.support:appcompat-v7:28.0.0&#39;`.\r\n\r\nTo migrate your project, you need to:\r\n\r\n 1. Append this to `gradle.properties` to enable AndroidX migration:\r\n```\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true\r\n``` \r\n\r\n 2. Replace legacy support libraries with AndroidX ones, for ex:\r\n```\r\nimplementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n```\r\nWill be replaced with:\r\n```java\r\nimplementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n```\r\n\r\n 3. Replace all legacy support classes references with AndroidX ones, for ex:\r\n```\r\nimport android.support.v7.app.AppCompatActivity;\r\n```\r\nWill be replaced with:\r\n```java\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n```","title":"Error AndroidX dependencies when i use Firebase","body":"<p>You are using support libraries that are not compatible with <strong>AndroidX</strong>, like: <code>'com.android.support:appcompat-v7:28.0.0'</code>.</p>\n<p>To migrate your project, you need to:</p>\n<ol>\n<li>Append this to <code>gradle.properties</code> to enable AndroidX migration:</li>\n</ol>\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<ol start=\"2\">\n<li>Replace legacy support libraries with AndroidX ones, for ex:</li>\n</ol>\n<pre><code>implementation 'com.android.support:appcompat-v7:28.0.0'\n</code></pre>\n<p>Will be replaced with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>implementation 'androidx.appcompat:appcompat:1.6.1'\n</code></pre>\n<ol start=\"3\">\n<li>Replace all legacy support classes references with AndroidX ones, for ex:</li>\n</ol>\n<pre><code>import android.support.v7.app.AppCompatActivity;\n</code></pre>\n<p>Will be replaced with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.appcompat.app.AppCompatActivity;\n</code></pre>\n"}],"owner":{"account_id":27552120,"reputation":3,"user_id":21026982,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678170672,"creation_date":1678132114,"question_id":75655221,"body_markdown":"I am following I youtube tutorial to create an android app at android studio. I am going fine but when I change my build.gradle files I get this error:\r\n\r\n&gt; &quot;Caused by: com.android.builder.errors.EvalIssueException:\r\n&gt; Configuration :app:debugRuntimeClasspath contains AndroidX\r\n&gt; dependencies, but the android.useAndroidX property is not enabled,\r\n&gt; which may cause runtime issues. &quot;\r\n\r\nHere my github for the project :https://github.com/fanhsg-lab/Duolingo.git\r\n\r\nThe last change is what cause the error.\r\n\r\nAnd I cant fix it by adding:\r\n\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n\r\nBecause this creates more errors in my MainActivity cause I use Fragments.","title":"Error AndroidX dependencies when i use Firebase","body":"<p>I am following I youtube tutorial to create an android app at android studio. I am going fine but when I change my build.gradle files I get this error:</p>\n<blockquote>\n<p>&quot;Caused by: com.android.builder.errors.EvalIssueException:\nConfiguration :app:debugRuntimeClasspath contains AndroidX\ndependencies, but the android.useAndroidX property is not enabled,\nwhich may cause runtime issues. &quot;</p>\n</blockquote>\n<p>Here my github for the project :<a href=\"https://github.com/fanhsg-lab/Duolingo.git\" rel=\"nofollow noreferrer\">https://github.com/fanhsg-lab/Duolingo.git</a></p>\n<p>The last change is what cause the error.</p>\n<p>And I cant fix it by adding:</p>\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>Because this creates more errors in my MainActivity cause I use Fragments.</p>\n"},{"tags":["java","dictionary","http","arcgis","mapview"],"owner":{"account_id":27952217,"reputation":11,"user_id":21345780,"display_name":"MrDoctor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678170567,"creation_date":1678150017,"question_id":75657117,"body_markdown":"I&#39;m creating an android app, and I just want to load a map from my arcGIS online.\r\n\r\nHere&#39;s the MainActivity class:\r\n```java\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private MapView mMapView;\r\n    private ArcGISMap wenceMap;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Get a reference to the MapView in your layout file\r\n        mMapView = findViewById(R.id.mapView);\r\n        wenceMap = new ArcGISMap(Basemap.Type.OPEN_STREET_MAP,0.47867,37.803972, 7 );\r\n        mMapView.setMap(wenceMap);\r\n    }\r\n\r\n    @Override\r\n    protected void onPause()\r\n    {\r\n        mMapView.pause();\r\n        super.onPause();\r\n    }\r\n\r\n    @Override\r\n    protected void onResume()\r\n    {\r\n        super.onResume();\r\n        mMapView.resume();\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy()\r\n    {\r\n        super.onDestroy();\r\n        mMapView.dispose();\r\n    }\r\n}\r\n```\r\n\r\nWhen I start the app, the MainActivity runs, the map starts to load, then it crashes:\r\n```\r\n2023-03-06 16:28:43.751 5916-5950/com.example.connectdb A/ample.connectd: runtime.cc:663] JNI DETECTED ERROR IN APPLICATION: JNI NewLocalRef called with pending exception java.lang.NoClassDefFoundError: com.esri.arcgisruntime.internal.io.handler.request.r\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a$b.a(boolean) (SourceFile:42)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a.a(com.esri.arcgisruntime.internal.jni.CoreRequest, com.esri.arcgisruntime.io.RemoteResource) (SourceFile:6)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.ServiceImageTiledLayer.onRequestRequired(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:5)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.$r8$lambda$PYL96yarVXNzWqZ_E_istxaJo94(com.esri.arcgisruntime.layers.Layer, com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:-1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer$$ExternalSyntheticLambda0.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (D8$$SyntheticClass:-1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.jni.CoreLayer.onRequestRequired(long) (SourceFile:5)\r\n    runtime.cc:663] Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/apache/hc/core5/http/message/BasicNameValuePair;\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.io.handler.request.c.&lt;clinit&gt;() (SourceFile:1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a$b.a(boolean) (SourceFile:42)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a.a(com.esri.arcgisruntime.internal.jni.CoreRequest, com.esri.arcgisruntime.io.RemoteResource) (SourceFile:6)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.ServiceImageTiledLayer.onRequestRequired(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:5)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.$r8$lambda$PYL96yarVXNzWqZ_E_istxaJo94(com.esri.arcgisruntime.layers.Layer, com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:-1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer$$ExternalSyntheticLambda0.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (D8$$SyntheticClass:-1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.jni.CoreLayer.onRequestRequired(long) (SourceFile:5)\r\n    runtime.cc:663] Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;org.apache.hc.core5.http.message.BasicNameValuePair&quot; on path: DexPathList[[dex file &quot;/data/data/com.example.connectdb/code_cache/.overlay/base.apk/classes3.dex&quot;, zip file &quot;/data/app/~~xFM4OE_RLEEB6OQ3KBuvcw==/com.example.connectdb-XpS3GPmm3IYAnKjd-2utlw==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~xFM4OE_RLEEB6OQ3KBuvcw==/com.example.connectdb-XpS3GPmm3IYAnKjd-2utlw==/lib/x86, /data/app/~~xFM4OE_RLEEB6OQ3KBuvcw==/com.example.connectdb-XpS3GPmm3IYAnKjd-2utlw==/base.apk!/lib/x86, /system/lib, /system_ext/lib]]\r\n    runtime.cc:663]   at java.lang.Class dalvik.system.BaseDexClassLoader.findClass(java.lang.String) (BaseDexClassLoader.java:207)\r\n    runtime.cc:663]   at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String, boolean) (ClassLoader.java:379)\r\n    runtime.cc:663]   at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String) (ClassLoader.java:312)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.io.handler.request.c.&lt;clinit&gt;() (SourceFile:1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a$b.a(boolean) (SourceFile:42)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a.a(com.esri.arcgisruntime.internal.jni.CoreRequest, com.esri.arcgisruntime.io.RemoteResource) (SourceFile:6)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.ServiceImageTiledLayer.onRequestRequired(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:1)\r\n2023-03-06 16:28:43.751 5916-5950/com.example.connectdb A/ample.connectd: runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:5)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.$r8$lambda$PYL96yarVXNzWqZ_E_istxaJo94(com.esri.arcgisruntime.layers.Layer, com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:-1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer$$ExternalSyntheticLambda0.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (D8$$SyntheticClass:-1)\r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.jni.CoreLayer.onRequestRequired(long) (SourceFile:5)\r\n    runtime.cc:663] \r\n    runtime.cc:663]     in call to NewLocalRef\r\n2023-03-06 16:28:43.751 5916-5950/com.example.connectdb A/libc: Fatal signal 6 (SIGABRT), code -1 (SI_QUEUE) in tid 5950 (RTC thread), pid 5916 (ample.connectdb)\r\n```\r\n\r\nI&#39;ve asked around, the answer I&#39;m getting is:  \r\n&gt; It seems that there is a problem with the ArcGIS Runtime SDK for Android. The error message suggests that there is a missing class, specifically org.apache.hc.core5.http.message.BasicNameValuePair. The NoClassDefFoundError exception indicates that the class was present during compilation but is missing during runtime.\r\n\r\nI downloaded the arcgis java SDK for android, implementing it in my gradle build as such:  \r\n```\r\nimplementation files(&#39;libs/arcgis-runtime-sdk-java-200.0.0/libs/arcgis-android-100.15.1.aar&#39;)\r\n```\r\n\r\nI&#39;ve tried:  \r\n```\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.5.3&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.5.3&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    implementation &#39;org.apache.httpcomponents:httpcore:4.4.14&#39;\r\n    //implementation &quot;com.esri.arcgisruntime:arcgis-java:100.15.1&quot;\r\n    runtimeOnly &quot;org.slf4j:slf4j-nop:1.7.32&quot;\r\n    implementation files(&#39;libs/volley-1.2.1.aar&#39;)\r\n```\r\n\r\nThe &#39;com.esri.arcgisrunetime&#39; doesnt work, I had to downloaded it manually.","title":"Android app crashes while loading an arcGIS map","body":"<p>I'm creating an android app, and I just want to load a map from my arcGIS online.</p>\n<p>Here's the MainActivity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity {\n\n    private MapView mMapView;\n    private ArcGISMap wenceMap;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Get a reference to the MapView in your layout file\n        mMapView = findViewById(R.id.mapView);\n        wenceMap = new ArcGISMap(Basemap.Type.OPEN_STREET_MAP,0.47867,37.803972, 7 );\n        mMapView.setMap(wenceMap);\n    }\n\n    @Override\n    protected void onPause()\n    {\n        mMapView.pause();\n        super.onPause();\n    }\n\n    @Override\n    protected void onResume()\n    {\n        super.onResume();\n        mMapView.resume();\n    }\n\n    @Override\n    protected void onDestroy()\n    {\n        super.onDestroy();\n        mMapView.dispose();\n    }\n}\n</code></pre>\n<p>When I start the app, the MainActivity runs, the map starts to load, then it crashes:</p>\n<pre><code>2023-03-06 16:28:43.751 5916-5950/com.example.connectdb A/ample.connectd: runtime.cc:663] JNI DETECTED ERROR IN APPLICATION: JNI NewLocalRef called with pending exception java.lang.NoClassDefFoundError: com.esri.arcgisruntime.internal.io.handler.request.r\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a$b.a(boolean) (SourceFile:42)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a.a(com.esri.arcgisruntime.internal.jni.CoreRequest, com.esri.arcgisruntime.io.RemoteResource) (SourceFile:6)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.ServiceImageTiledLayer.onRequestRequired(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:5)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.$r8$lambda$PYL96yarVXNzWqZ_E_istxaJo94(com.esri.arcgisruntime.layers.Layer, com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:-1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer$$ExternalSyntheticLambda0.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (D8$$SyntheticClass:-1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.jni.CoreLayer.onRequestRequired(long) (SourceFile:5)\n    runtime.cc:663] Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Lorg/apache/hc/core5/http/message/BasicNameValuePair;\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.io.handler.request.c.&lt;clinit&gt;() (SourceFile:1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a$b.a(boolean) (SourceFile:42)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a.a(com.esri.arcgisruntime.internal.jni.CoreRequest, com.esri.arcgisruntime.io.RemoteResource) (SourceFile:6)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.ServiceImageTiledLayer.onRequestRequired(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:5)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.$r8$lambda$PYL96yarVXNzWqZ_E_istxaJo94(com.esri.arcgisruntime.layers.Layer, com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:-1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer$$ExternalSyntheticLambda0.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (D8$$SyntheticClass:-1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.jni.CoreLayer.onRequestRequired(long) (SourceFile:5)\n    runtime.cc:663] Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;org.apache.hc.core5.http.message.BasicNameValuePair&quot; on path: DexPathList[[dex file &quot;/data/data/com.example.connectdb/code_cache/.overlay/base.apk/classes3.dex&quot;, zip file &quot;/data/app/~~xFM4OE_RLEEB6OQ3KBuvcw==/com.example.connectdb-XpS3GPmm3IYAnKjd-2utlw==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~xFM4OE_RLEEB6OQ3KBuvcw==/com.example.connectdb-XpS3GPmm3IYAnKjd-2utlw==/lib/x86, /data/app/~~xFM4OE_RLEEB6OQ3KBuvcw==/com.example.connectdb-XpS3GPmm3IYAnKjd-2utlw==/base.apk!/lib/x86, /system/lib, /system_ext/lib]]\n    runtime.cc:663]   at java.lang.Class dalvik.system.BaseDexClassLoader.findClass(java.lang.String) (BaseDexClassLoader.java:207)\n    runtime.cc:663]   at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String, boolean) (ClassLoader.java:379)\n    runtime.cc:663]   at java.lang.Class java.lang.ClassLoader.loadClass(java.lang.String) (ClassLoader.java:312)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.io.handler.request.c.&lt;clinit&gt;() (SourceFile:1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a$b.a(boolean) (SourceFile:42)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.requestable.a.a(com.esri.arcgisruntime.internal.jni.CoreRequest, com.esri.arcgisruntime.io.RemoteResource) (SourceFile:6)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.ServiceImageTiledLayer.onRequestRequired(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:1)\n2023-03-06 16:28:43.751 5916-5950/com.example.connectdb A/ample.connectd: runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:5)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer.$r8$lambda$PYL96yarVXNzWqZ_E_istxaJo94(com.esri.arcgisruntime.layers.Layer, com.esri.arcgisruntime.internal.jni.CoreRequest) (SourceFile:-1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.layers.Layer$$ExternalSyntheticLambda0.a(com.esri.arcgisruntime.internal.jni.CoreRequest) (D8$$SyntheticClass:-1)\n    runtime.cc:663]   at void com.esri.arcgisruntime.internal.jni.CoreLayer.onRequestRequired(long) (SourceFile:5)\n    runtime.cc:663] \n    runtime.cc:663]     in call to NewLocalRef\n2023-03-06 16:28:43.751 5916-5950/com.example.connectdb A/libc: Fatal signal 6 (SIGABRT), code -1 (SI_QUEUE) in tid 5950 (RTC thread), pid 5916 (ample.connectdb)\n</code></pre>\n<p>I've asked around, the answer I'm getting is:</p>\n<blockquote>\n<p>It seems that there is a problem with the ArcGIS Runtime SDK for Android. The error message suggests that there is a missing class, specifically org.apache.hc.core5.http.message.BasicNameValuePair. The NoClassDefFoundError exception indicates that the class was present during compilation but is missing during runtime.</p>\n</blockquote>\n<p>I downloaded the arcgis java SDK for android, implementing it in my gradle build as such:</p>\n<pre><code>implementation files('libs/arcgis-runtime-sdk-java-200.0.0/libs/arcgis-android-100.15.1.aar')\n</code></pre>\n<p>I've tried:</p>\n<pre><code>    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.navigation:navigation-fragment:2.5.3'\n    implementation 'androidx.navigation:navigation-ui:2.5.3'\n    testImplementation 'junit:junit:4.13.2'\n    implementation 'org.apache.httpcomponents:httpcore:4.4.14'\n    //implementation &quot;com.esri.arcgisruntime:arcgis-java:100.15.1&quot;\n    runtimeOnly &quot;org.slf4j:slf4j-nop:1.7.32&quot;\n    implementation files('libs/volley-1.2.1.aar')\n</code></pre>\n<p>The 'com.esri.arcgisrunetime' doesnt work, I had to downloaded it manually.</p>\n"},{"tags":["java","jenkins","sonarqube","findbugs"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":2,"up_vote_count":122,"is_accepted":true,"score":120,"last_activity_date":1615527414,"creation_date":1339361325,"answer_id":10972243,"question_id":10971968,"body_markdown":"This is a [FAQ][1]. You can put `//NOSONAR` at the end of the line triggering the warning. \r\n&gt; **`//NOSONAR`**\r\n&gt;\r\n&gt; For most languages, SonarQube supports the use of the generic mechanism: `//NOSONAR` at the end of the line of the issue. This will suppress all issues - now and in the future - that might be raised on the line.\r\n\r\nI prefer using the FindBugs mechanism though, which consists in adding the @SuppressFBWarnings annotation:\r\n\r\n    @edu.umd.cs.findbugs.annotations.SuppressFBWarnings(\r\n        value = &quot;NAME_OF_THE_FINDBUGS_RULE_TO_IGNORE&quot;,\r\n        justification = &quot;Why you choose to ignore it&quot;)\r\n\r\n\r\n  [1]: https://docs.sonarqube.org/latest/faq/","title":"Turning Sonar off for certain code","body":"<p>This is a <a href=\"https://docs.sonarqube.org/latest/faq/\" rel=\"noreferrer\">FAQ</a>. You can put <code>//NOSONAR</code> at the end of the line triggering the warning.</p>\n<blockquote>\n<p><strong><code>//NOSONAR</code></strong></p>\n<p>For most languages, SonarQube supports the use of the generic mechanism: <code>//NOSONAR</code> at the end of the line of the issue. This will suppress all issues - now and in the future - that might be raised on the line.</p>\n</blockquote>\n<p>I prefer using the FindBugs mechanism though, which consists in adding the @SuppressFBWarnings annotation:</p>\n<pre><code>@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(\n    value = &quot;NAME_OF_THE_FINDBUGS_RULE_TO_IGNORE&quot;,\n    justification = &quot;Why you choose to ignore it&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1319116,"reputation":5358,"user_id":1265315,"accept_rate":30,"display_name":"maestr0"},"down_vote_count":0,"up_vote_count":344,"is_accepted":false,"score":344,"last_activity_date":1473031278,"creation_date":1427922317,"answer_id":29400824,"question_id":10971968,"body_markdown":"You can annotate a class or a method with SuppressWarnings\r\n\r\n    @java.lang.SuppressWarnings(&quot;squid:S00112&quot;)\r\n\r\n**squid:S00112** in this case is a Sonar issue ID. You can find this ID in the Sonar UI. Go to Issues Drilldown. Find an issue you want to suppress warnings on. In the red issue box in your code is there a Rule link with a definition of a given issue. Once you click that you will see the ID at the top of the page.","title":"Turning Sonar off for certain code","body":"<p>You can annotate a class or a method with SuppressWarnings</p>\n\n<pre><code>@java.lang.SuppressWarnings(\"squid:S00112\")\n</code></pre>\n\n<p><strong>squid:S00112</strong> in this case is a Sonar issue ID. You can find this ID in the Sonar UI. Go to Issues Drilldown. Find an issue you want to suppress warnings on. In the red issue box in your code is there a Rule link with a definition of a given issue. Once you click that you will see the ID at the top of the page.</p>\n"},{"tags":[],"owner":{"account_id":1040536,"reputation":2501,"user_id":1046662,"accept_rate":69,"display_name":"wiredniko"},"down_vote_count":0,"up_vote_count":139,"is_accepted":false,"score":139,"last_activity_date":1600957993,"creation_date":1432238658,"answer_id":30383335,"question_id":10971968,"body_markdown":"I recommend you try to suppress specific warnings by using `@SuppressWarnings(&quot;squid:S2078&quot;)`. \r\n\r\nFor suppressing multiple warnings you can do it like this `@SuppressWarnings({&quot;squid:S2078&quot;, &quot;squid:S2076&quot;})`\r\n\r\nThere is also the `//NOSONAR` comment that tells SonarQube to ignore all errors for a specific line.\r\n\r\nFinally if you have the proper rights for the user interface you can issue a flag as a false positive directly from the interface.\r\n\r\nThe reason why I recommend suppression of specific warnings is that it&#39;s a better practice to block a specific issue instead of using `//NOSONAR` and risk a Sonar issue creeping in your code by accident.\r\n\r\nYou can read more about this in the [FAQ](https://docs.sonarqube.org/latest/faq/#header-1)\r\n\r\nEdit: 6/30/16\r\nSonarQube is now called SonarLint\r\n\r\nIn case you are wondering how to find the squid number. Just click on the Sonar message (ex. `Remove this method to simply inherit it.`) and the Sonar issue will expand.\r\n\r\nOn the bottom left it will have the squid number (ex. `squid:S1185` Maintainability &gt; Understandability)\r\n\r\nSo then you can suppress it by `@SuppressWarnings(&quot;squid:S1185&quot;)`","title":"Turning Sonar off for certain code","body":"<p>I recommend you try to suppress specific warnings by using <code>@SuppressWarnings(&quot;squid:S2078&quot;)</code>.</p>\n<p>For suppressing multiple warnings you can do it like this <code>@SuppressWarnings({&quot;squid:S2078&quot;, &quot;squid:S2076&quot;})</code></p>\n<p>There is also the <code>//NOSONAR</code> comment that tells SonarQube to ignore all errors for a specific line.</p>\n<p>Finally if you have the proper rights for the user interface you can issue a flag as a false positive directly from the interface.</p>\n<p>The reason why I recommend suppression of specific warnings is that it's a better practice to block a specific issue instead of using <code>//NOSONAR</code> and risk a Sonar issue creeping in your code by accident.</p>\n<p>You can read more about this in the <a href=\"https://docs.sonarqube.org/latest/faq/#header-1\" rel=\"noreferrer\">FAQ</a></p>\n<p>Edit: 6/30/16\nSonarQube is now called SonarLint</p>\n<p>In case you are wondering how to find the squid number. Just click on the Sonar message (ex. <code>Remove this method to simply inherit it.</code>) and the Sonar issue will expand.</p>\n<p>On the bottom left it will have the squid number (ex. <code>squid:S1185</code> Maintainability &gt; Understandability)</p>\n<p>So then you can suppress it by <code>@SuppressWarnings(&quot;squid:S1185&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":10466378,"reputation":61,"user_id":7715686,"display_name":"Noker"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1489588749,"creation_date":1489588749,"answer_id":42812867,"question_id":10971968,"body_markdown":"I not be able to find squid number in sonar 5.6, with this annotation also works:\r\n \r\n    @SuppressWarnings({&quot;pmd:AvoidCatchingGenericException&quot;, &quot;checkstyle:com.puppycrawl.tools.checkstyle.checks.coding.IllegalCatchCheck&quot;})\r\n","title":"Turning Sonar off for certain code","body":"<p>I not be able to find squid number in sonar 5.6, with this annotation also works:</p>\n\n<pre><code>@SuppressWarnings({\"pmd:AvoidCatchingGenericException\", \"checkstyle:com.puppycrawl.tools.checkstyle.checks.coding.IllegalCatchCheck\"})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6543430,"reputation":201,"user_id":5060129,"display_name":"Jain"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1539933084,"creation_date":1539933084,"answer_id":52887397,"question_id":10971968,"body_markdown":"Use //NOSONAR  on the line you get warning if it is something you cannot help your code with. It works!","title":"Turning Sonar off for certain code","body":"<p>Use //NOSONAR  on the line you get warning if it is something you cannot help your code with. It works!</p>\n"},{"tags":[],"owner":{"account_id":21817391,"reputation":86,"user_id":16114042,"display_name":"Paps"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1624453902,"creation_date":1624453552,"answer_id":68100425,"question_id":10971968,"body_markdown":"Actually it&#39;s a tricky to understand which is the ID of issue so i used @SuppressWarnings(&quot;all&quot;) annotation which basically  is applied of all rules but to be more precise is better to use the ID. Click to see picture -&gt;\r\n[Sonar Issue ID][1]\r\n\r\n[1]: https://i.stack.imgur.com/Wv9Hc.jpg\r\n\r\nSo when click on &quot;Why is this an issue?&quot; in the red box, i you will get to a screen with explanation. On top of the screen in left side you can see rule name, and on the left the id of this rule. \r\nSo to applied for this rule only you have to add this annotation to your class or method.\r\n\r\n@SuppressWarnings(&quot;common-java:DuplicatedBlocks&quot;)","title":"Turning Sonar off for certain code","body":"<p>Actually it's a tricky to understand which is the ID of issue so i used @SuppressWarnings(&quot;all&quot;) annotation which basically  is applied of all rules but to be more precise is better to use the ID. Click to see picture -&gt;\n<a href=\"https://i.stack.imgur.com/Wv9Hc.jpg\" rel=\"noreferrer\">Sonar Issue ID</a></p>\n<p>So when click on &quot;Why is this an issue?&quot; in the red box, i you will get to a screen with explanation. On top of the screen in left side you can see rule name, and on the left the id of this rule.\nSo to applied for this rule only you have to add this annotation to your class or method.</p>\n<p>@SuppressWarnings(&quot;common-java:DuplicatedBlocks&quot;)</p>\n"},{"tags":[],"owner":{"account_id":18536547,"reputation":21,"user_id":21347034,"display_name":"Abhijeet Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678169722,"creation_date":1678169722,"answer_id":75658566,"question_id":10971968,"body_markdown":"code complexity of any method is allowed only 15, if we have to resolve this issue without refactoring the methods we can use this at the top of method definition:-@SuppressWarnings({&quot;java:S3776&quot;})","title":"Turning Sonar off for certain code","body":"<p>code complexity of any method is allowed only 15, if we have to resolve this issue without refactoring the methods we can use this at the top of method definition:-@SuppressWarnings({&quot;java:S3776&quot;})</p>\n"}],"owner":{"account_id":208096,"reputation":6297,"user_id":458370,"accept_rate":76,"display_name":"Ant Kutschera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355153,"favorite_count":0,"down_vote_count":0,"up_vote_count":269,"accepted_answer_id":10972243,"answer_count":7,"score":269,"last_activity_date":1678169722,"creation_date":1339358950,"question_id":10971968,"body_markdown":"Is it possible to turn off sonar ([www.sonarsource.org][1]) measurements for specific blocks of code, which one doesn&#39;t want to be measured?\r\n\r\nAn example is the &quot;Preserve Stack Trace&quot; warning which Findbugs outputs.  When leaving the server, I might well want to only pass the message back to the client, not including the actual exception which I just caught, if that exception is unknown to the client (because the client doesn&#39;t have the JAR in which that exception was contained for example).\r\n\r\n  [1]: http://www.sonarsource.org","title":"Turning Sonar off for certain code","body":"<p>Is it possible to turn off sonar (<a href=\"http://www.sonarsource.org\" rel=\"noreferrer\">www.sonarsource.org</a>) measurements for specific blocks of code, which one doesn't want to be measured?</p>\n\n<p>An example is the \"Preserve Stack Trace\" warning which Findbugs outputs.  When leaving the server, I might well want to only pass the message back to the client, not including the actual exception which I just caught, if that exception is unknown to the client (because the client doesn't have the JAR in which that exception was contained for example).</p>\n"},{"tags":["java","xml","groovy"],"owner":{"account_id":15338114,"reputation":73,"user_id":11065854,"display_name":"Joseph Cen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678168873,"creation_date":1678159412,"question_id":75657775,"body_markdown":"I use __StreamingMarkupBuilder__ for building a Xml.\r\nBut the problem is the xml namespace is added random in these inner fields.\r\nI just want to have the namespace at the root node.\r\n\r\nMy code:\r\n```\r\nimport groovy.xml.StreamingMarkupBuilder\r\nimport groovy.xml.XmlUtil\r\nimport java.time.LocalDateTime\r\n\r\n\r\ndef buildXml() {\r\n    def mkpBuilder = new StreamingMarkupBuilder()\r\n\r\n    mkpBuilder.encoding = &#39;utf-8&#39;\r\n\r\n    def clearingXml = mkpBuilder.bind { bld -&gt;\r\n        mkp.xmlDeclaration()\r\n        mkp.declareNamespace(ns0: &#39;urn:document:rfc:functions&#39;)\r\n\r\n        &#39;ns0:rootNode&#39; {\r\n            fieldDynamic(LocalDateTime.now())\r\n            fieldConst(123)\r\n            fieldConst(&quot;abc&quot;)\r\n        }\r\n    }\r\n\r\n    return XmlUtil.serialize(clearingXml)\r\n}\r\n\r\nprintln buildXml()\r\n \r\n```\r\n\r\nBelow are the xml output from the groovy script:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;ns0:rootNode xmlns:ns0=&quot;urn:document:rfc:functions&quot;&gt;\r\n  &lt;fieldDynamic&gt;2023-03-07T11:18:01.462405&lt;/fieldDynamic&gt;\r\n  &lt;fieldConst xmlns:ns0=&quot;urn:document:rfc:functions&quot;&gt;123&lt;/fieldConst&gt; &lt;!-- Namespace is not need at here! --&gt;\r\n  &lt;fieldConst&gt;abc&lt;/fieldConst&gt;\r\n&lt;/ns0:rootNode&gt;\r\n```\r\n\r\nI just want the __&#39;ns0&#39;__ at the root node. But the namespace is not need at field __&#39;fieldConst&#39;__.","title":"Groovy StreamingMarkupBuilder will add namespace random","body":"<p>I use <strong>StreamingMarkupBuilder</strong> for building a Xml.\nBut the problem is the xml namespace is added random in these inner fields.\nI just want to have the namespace at the root node.</p>\n<p>My code:</p>\n<pre><code>import groovy.xml.StreamingMarkupBuilder\nimport groovy.xml.XmlUtil\nimport java.time.LocalDateTime\n\n\ndef buildXml() {\n    def mkpBuilder = new StreamingMarkupBuilder()\n\n    mkpBuilder.encoding = 'utf-8'\n\n    def clearingXml = mkpBuilder.bind { bld -&gt;\n        mkp.xmlDeclaration()\n        mkp.declareNamespace(ns0: 'urn:document:rfc:functions')\n\n        'ns0:rootNode' {\n            fieldDynamic(LocalDateTime.now())\n            fieldConst(123)\n            fieldConst(&quot;abc&quot;)\n        }\n    }\n\n    return XmlUtil.serialize(clearingXml)\n}\n\nprintln buildXml()\n \n</code></pre>\n<p>Below are the xml output from the groovy script:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;ns0:rootNode xmlns:ns0=&quot;urn:document:rfc:functions&quot;&gt;\n  &lt;fieldDynamic&gt;2023-03-07T11:18:01.462405&lt;/fieldDynamic&gt;\n  &lt;fieldConst xmlns:ns0=&quot;urn:document:rfc:functions&quot;&gt;123&lt;/fieldConst&gt; &lt;!-- Namespace is not need at here! --&gt;\n  &lt;fieldConst&gt;abc&lt;/fieldConst&gt;\n&lt;/ns0:rootNode&gt;\n</code></pre>\n<p>I just want the <strong>'ns0'</strong> at the root node. But the namespace is not need at field <strong>'fieldConst'</strong>.</p>\n"},{"tags":["java","eclipse","javafx","javafx-11"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1639636302,"post_id":70374601,"comment_id":124400764,"body_markdown":"Follow the getting started documentation at openjfx.io.","body":"Follow the getting started documentation at openjfx.io."}],"answers":[{"tags":[],"owner":{"account_id":25185553,"reputation":21,"user_id":19026489,"display_name":"Max"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651599721,"creation_date":1651599721,"answer_id":72103392,"question_id":70374601,"body_markdown":"In Eclipse IDE create a java project like always and create a new library in Windows &gt; Preferences and under Java &gt; Build Path &gt; User Libraries click on New...\r\nName the library and add the .jar&#39;s clicking on Add External JARs... \r\nGo to the path where you unziped the javafx package and under lib select all the .jar&#39;s. click Open and Apply and Close.\r\nYou can start importing javafx code.\r\nIf you run the application will get an error\r\n&quot;Error: JavaFX runtime components are missing, and are required to run this application&quot;\r\nTo fix this go to Run &gt; Run Configurations.\r\nCreate a new Configuration under Java Application\r\nOn the right in the Arguments tab look for VM Arguments and add \r\n\r\n--module-path &quot;PATH_TO_YOUR_JAVAFX_LIB_FOLDER&quot; --add-modules javafx.controls,javafx.fxml\r\n\r\nwhere PATH_TO_YOUR_JAVAFX_LIB_FOLDER in my case would be &quot;C:\\Program Files\\Java\\jdk-11.0.14\\openjfx-18.0.1_windows-x64_bin-sdk\\javafx-sdk-18.0.1\\lib&quot;.\r\nApply the changes and Run\r\nFirst problem fix\r\n\r\nNow, if you try to Export your project the IDE will show you a warning saying that the VM arguments will not be part of the runnable JAR and if you execute the jar you will face the same error: &quot;Error: JavaFX runtime components are missing, and are required to run this application&quot;\r\nI always check &quot;copy the required libraries into a sub-folder next to the jar&quot; in the export wizard.\r\nTo fix the error create a new text file next to your exported .jar and name it with the .bat extension (in windows)\r\nEdit the .bat file and add: \r\n\r\njava --module-path &quot;PATH_TO_YOUR_JAVAFX_LIB_FOLDER&quot; --add-modules javafx.controls,javafx.fxml -jar YOUR_PROJECT_NAME.jar\r\n\r\nAll done, but PATH_TO_YOUR_JAVAFX_LIB_FOLDER is in your machine, so what if you run the .jar in another machine? \r\n\r\njava --module-path &quot;YOUR_PROJECT_NAME_lib/&quot; --add-modules javafx.controls,javafx.fxml -jar YOUR_PROJECT_NAME.jar\r\n\r\nwhere YOUR_PROJECT_NAME_lib is in the same directory as the exported .jar\r\n\r\nIf run now you get the error \r\n\r\n&quot;Graphics Device initialization failed for :  d3d, sw\r\nError initializing QuantumRenderer: no suitable pipeline found\r\n...\r\n&quot;\r\n\r\nThis error happens because it doesn&#39;t find the natives(.dll), so,\r\ncopy the folder bin under PATH_TO_YOUR_JAVAFX paste it in the same folder of the exported .jar file\r\n\r\nThis should do the trick. Hope this help you.","title":"Error initializing QuantumRenderer: no suitable pipeline found in Eclipse JavaFX","body":"<p>In Eclipse IDE create a java project like always and create a new library in Windows &gt; Preferences and under Java &gt; Build Path &gt; User Libraries click on New...\nName the library and add the .jar's clicking on Add External JARs...\nGo to the path where you unziped the javafx package and under lib select all the .jar's. click Open and Apply and Close.\nYou can start importing javafx code.\nIf you run the application will get an error\n&quot;Error: JavaFX runtime components are missing, and are required to run this application&quot;\nTo fix this go to Run &gt; Run Configurations.\nCreate a new Configuration under Java Application\nOn the right in the Arguments tab look for VM Arguments and add</p>\n<p>--module-path &quot;PATH_TO_YOUR_JAVAFX_LIB_FOLDER&quot; --add-modules javafx.controls,javafx.fxml</p>\n<p>where PATH_TO_YOUR_JAVAFX_LIB_FOLDER in my case would be &quot;C:\\Program Files\\Java\\jdk-11.0.14\\openjfx-18.0.1_windows-x64_bin-sdk\\javafx-sdk-18.0.1\\lib&quot;.\nApply the changes and Run\nFirst problem fix</p>\n<p>Now, if you try to Export your project the IDE will show you a warning saying that the VM arguments will not be part of the runnable JAR and if you execute the jar you will face the same error: &quot;Error: JavaFX runtime components are missing, and are required to run this application&quot;\nI always check &quot;copy the required libraries into a sub-folder next to the jar&quot; in the export wizard.\nTo fix the error create a new text file next to your exported .jar and name it with the .bat extension (in windows)\nEdit the .bat file and add:</p>\n<p>java --module-path &quot;PATH_TO_YOUR_JAVAFX_LIB_FOLDER&quot; --add-modules javafx.controls,javafx.fxml -jar YOUR_PROJECT_NAME.jar</p>\n<p>All done, but PATH_TO_YOUR_JAVAFX_LIB_FOLDER is in your machine, so what if you run the .jar in another machine?</p>\n<p>java --module-path &quot;YOUR_PROJECT_NAME_lib/&quot; --add-modules javafx.controls,javafx.fxml -jar YOUR_PROJECT_NAME.jar</p>\n<p>where YOUR_PROJECT_NAME_lib is in the same directory as the exported .jar</p>\n<p>If run now you get the error</p>\n<p>&quot;Graphics Device initialization failed for :  d3d, sw\nError initializing QuantumRenderer: no suitable pipeline found\n...\n&quot;</p>\n<p>This error happens because it doesn't find the natives(.dll), so,\ncopy the folder bin under PATH_TO_YOUR_JAVAFX paste it in the same folder of the exported .jar file</p>\n<p>This should do the trick. Hope this help you.</p>\n"},{"tags":[],"owner":{"account_id":23319183,"reputation":41,"user_id":17397392,"display_name":"Eric VB"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678168567,"creation_date":1678168567,"answer_id":75658464,"question_id":70374601,"body_markdown":"If the other answer didn&#39;t work, it may be possible that you downloaded the wrong JavaFX file, make sure it&#39;s for the proper system and either x64 or x86 architecture depending on your computer(check program files for the matching one), as it won&#39;t work if the wrong one is in place. If you did download the wrong file, you&#39;ll need to replace the files in the library you made as well as the file location in the VM argument to the correct file.\r\n\r\nHope this helps, I spent about an hour blanking before realizing I downloaded the x86 instead of x64 files.","title":"Error initializing QuantumRenderer: no suitable pipeline found in Eclipse JavaFX","body":"<p>If the other answer didn't work, it may be possible that you downloaded the wrong JavaFX file, make sure it's for the proper system and either x64 or x86 architecture depending on your computer(check program files for the matching one), as it won't work if the wrong one is in place. If you did download the wrong file, you'll need to replace the files in the library you made as well as the file location in the VM argument to the correct file.</p>\n<p>Hope this helps, I spent about an hour blanking before realizing I downloaded the x86 instead of x64 files.</p>\n"}],"owner":{"account_id":17974564,"reputation":94,"user_id":13062496,"display_name":"Aneesh Edavalath S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4295,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1678168567,"creation_date":1639635318,"question_id":70374601,"body_markdown":"Showing &quot;Error initializing QuantumRenderer: no suitable pipeline found&quot; after running JavaFX application. I added required JavaFX jar files to the project and I don&#39;t know why this error occured.    \r\n\r\n    Graphics Device initialization failed for :  d3d, sw\r\n        Error initializing QuantumRenderer: no suitable pipeline found\r\n        java.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n        \tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\r\n        \tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:254)\r\n        \tat javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:264)\r\n        \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n        \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n        \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n        \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\r\n        \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\n        Caused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n        \tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\r\n        \tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n        \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n        Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\n        Caused by: java.lang.RuntimeException: No toolkit found\r\n        \tat javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:276)\r\n        \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n        \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n        \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n        \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\r\n        \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n        \t... 5 more\r\n\r\n","title":"Error initializing QuantumRenderer: no suitable pipeline found in Eclipse JavaFX","body":"<p>Showing &quot;Error initializing QuantumRenderer: no suitable pipeline found&quot; after running JavaFX application. I added required JavaFX jar files to the project and I don't know why this error occured.</p>\n<pre><code>Graphics Device initialization failed for :  d3d, sw\n    Error initializing QuantumRenderer: no suitable pipeline found\n    java.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:254)\n        at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:264)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\n    Caused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\n        at javafx.graphics/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\n    Caused by: java.lang.RuntimeException: No toolkit found\n        at javafx.graphics/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:276)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n        at javafx.graphics/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\n        at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n        ... 5 more\n</code></pre>\n"},{"tags":["java","dart","x509certificate","public-key","pem"],"comments":[{"owner":{"account_id":2211898,"reputation":29180,"user_id":1953515,"display_name":"julemand101"},"score":0,"creation_date":1678174296,"post_id":75658452,"comment_id":133477474,"body_markdown":"Part of the issue is your are using different data types. The bytes in Dart is clearly unsigned (since the values goes between 0 and 255) while the values in Java are signed (goes from -128 to 127). But this does not explain the start of the certificate being different.","body":"Part of the issue is your are using different data types. The bytes in Dart is clearly unsigned (since the values goes between 0 and 255) while the values in Java are signed (goes from -128 to 127). But this does not explain the start of the certificate being different."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1678175930,"post_id":75658452,"comment_id":133477873,"body_markdown":"I don&#39;t dart, but the value you show is _only_ the (per-algorithm) value from the BIT STRING part of SubjectPublicKeyInfo, while Java returns the encoding of the whole SubjectPublicKeyInfo SEQUENCE; see rfc5280 4.1. In particular this is a key for X9-type-EC (OID 1.2.840.10045.2.1) on curve secp256k1 (OID 1.3.132.0.10) so its BIT STRING value is, after a prefix byte 00 for unused_bits in DER, the point format defined in SEC1 and referenced in rfc5480 2.2, in this case uncompressed (first byte 04 followed by 32 bytes X and 32 bytes Y).","body":"I don&#39;t dart, but the value you show is <i>only</i> the (per-algorithm) value from the BIT STRING part of SubjectPublicKeyInfo, while Java returns the encoding of the whole SubjectPublicKeyInfo SEQUENCE; see rfc5280 4.1. In particular this is a key for X9-type-EC (OID 1.2.840.10045.2.1) on curve secp256k1 (OID 1.3.132.0.10) so its BIT STRING value is, after a prefix byte 00 for unused_bits in DER, the point format defined in SEC1 and referenced in rfc5480 2.2, in this case uncompressed (first byte 04 followed by 32 bytes X and 32 bytes Y)."}],"owner":{"account_id":27094412,"reputation":41,"user_id":20641792,"display_name":"Scribes Dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678168408,"creation_date":1678168408,"question_id":75658452,"body_markdown":"I have get public key from x509 certificate using basic_utils package in flutter but it is different from java encoded public key.\r\n\r\nJava code\r\n\r\n      public static byte[] getPublicKeyFromCert(String certificateValue) {\r\n        byte[] CertData = Base64.decode(certificateValue, Base64.DEFAULT);\r\n        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(CertData);\r\n        CertificateFactory certificatefactory = null;\r\n        try {\r\n            certificatefactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n        } catch (CertificateException e) {\r\n            e.printStackTrace();\r\n        }\r\n        X509Certificate objcert509 = null;\r\n        try {\r\n            objcert509 = (X509Certificate)certificatefactory.generateCertificate(byteArrayInputStream);\r\n        } catch (CertificateException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        byte[] publicKey = objcert509.getPublicKey().getEncoded();\r\n        return publicKey;\r\n    }\r\n\r\noutput : [48, 86, 48, 16, 6, 7, 42, -122, 72, -50, 61, 2, 1, 6, 5, 43, -127, 4, 0, 10, 3, 66, 0, 4, -2, 6, 1, -3, -114, 15, -55, -25, -65, 101, -90, 85, 7, 18, -43, -117, -13, -124, 67, 29, -15, -70, 114, 37, 56, 75, 112, -41, -102, -18, -39, -26, -121, -100, 127, -25, 30, 37, 84, -112, 88, 73, -56, -97, -85, 7, -94, -27, -113, 38, 39, 40, 75, 76, 82, 106, 7, -68, 83, -127, -103, -52, 125, 89]\r\n\r\nDart Code \r\n\r\n     var base64Str = base64.decode(certificateValue);\r\n    var x509Certificate = x509UtilsLocal.crlDerToPem(base64Str);\r\n    X509CertificateData x509certificateData = X509Utils.x509CertificateFromPem(x509Certificate);\r\n    print(&quot;getPublicKeyFromCert&quot; + hex.decode(x509certificateData.publicKeyData.bytes).toString());\r\n    var bytes = hex.decode(x509certificateData.publicKeyData.bytes);\r\n\r\n\r\noutput : [0, 4, 254, 6, 1, 253, 142, 15, 201, 231, 191, 101, 166, 85, 7, 18, 213, 139, 243, 132, 67, 29, 241, 186, 114, 37, 56, 75, 112, 215, 154, 238, 217, 230, 135, 156, 127, 231, 30, 37, 84, 144, 88, 73, 200, 159, 171, 7, 162, 229, 143, 38, 39, 40, 75, 76, 82, 106, 7, 188, 83, 129, 153, 204, 125, 89]\r\n","title":"encoded public key of x509 Certificate from java and dart are different","body":"<p>I have get public key from x509 certificate using basic_utils package in flutter but it is different from java encoded public key.</p>\n<p>Java code</p>\n<pre><code>  public static byte[] getPublicKeyFromCert(String certificateValue) {\n    byte[] CertData = Base64.decode(certificateValue, Base64.DEFAULT);\n    ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(CertData);\n    CertificateFactory certificatefactory = null;\n    try {\n        certificatefactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n    } catch (CertificateException e) {\n        e.printStackTrace();\n    }\n    X509Certificate objcert509 = null;\n    try {\n        objcert509 = (X509Certificate)certificatefactory.generateCertificate(byteArrayInputStream);\n    } catch (CertificateException e) {\n        e.printStackTrace();\n    }\n\n    byte[] publicKey = objcert509.getPublicKey().getEncoded();\n    return publicKey;\n}\n</code></pre>\n<p>output : [48, 86, 48, 16, 6, 7, 42, -122, 72, -50, 61, 2, 1, 6, 5, 43, -127, 4, 0, 10, 3, 66, 0, 4, -2, 6, 1, -3, -114, 15, -55, -25, -65, 101, -90, 85, 7, 18, -43, -117, -13, -124, 67, 29, -15, -70, 114, 37, 56, 75, 112, -41, -102, -18, -39, -26, -121, -100, 127, -25, 30, 37, 84, -112, 88, 73, -56, -97, -85, 7, -94, -27, -113, 38, 39, 40, 75, 76, 82, 106, 7, -68, 83, -127, -103, -52, 125, 89]</p>\n<p>Dart Code</p>\n<pre><code> var base64Str = base64.decode(certificateValue);\nvar x509Certificate = x509UtilsLocal.crlDerToPem(base64Str);\nX509CertificateData x509certificateData = X509Utils.x509CertificateFromPem(x509Certificate);\nprint(&quot;getPublicKeyFromCert&quot; + hex.decode(x509certificateData.publicKeyData.bytes).toString());\nvar bytes = hex.decode(x509certificateData.publicKeyData.bytes);\n</code></pre>\n<p>output : [0, 4, 254, 6, 1, 253, 142, 15, 201, 231, 191, 101, 166, 85, 7, 18, 213, 139, 243, 132, 67, 29, 241, 186, 114, 37, 56, 75, 112, 215, 154, 238, 217, 230, 135, 156, 127, 231, 30, 37, 84, 144, 88, 73, 200, 159, 171, 7, 162, 229, 143, 38, 39, 40, 75, 76, 82, 106, 7, 188, 83, 129, 153, 204, 125, 89]</p>\n"},{"tags":["java","android","kotlin","battery"],"answers":[{"tags":[],"owner":{"account_id":27953616,"reputation":9,"user_id":21346893,"display_name":"Dupe Tv"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678168338,"creation_date":1678168338,"answer_id":75658448,"question_id":75658408,"body_markdown":"\r\n\r\n    BatteryManager bm = (BatteryManager)getSystemService(BATTERY_SERVICE);\r\n    int batteryLevel = bm.getIntProperty(BatteryManager.BATTERY_PROPERTY_CAPACITY);\r\n    float batteryPercent = batteryLevel / 100f;\r\n\r\n","title":"How to Get current charge percentage in decimal in java for android","body":"<pre><code>BatteryManager bm = (BatteryManager)getSystemService(BATTERY_SERVICE);\nint batteryLevel = bm.getIntProperty(BatteryManager.BATTERY_PROPERTY_CAPACITY);\nfloat batteryPercent = batteryLevel / 100f;\n</code></pre>\n"}],"owner":{"account_id":23493015,"reputation":1,"user_id":17543799,"display_name":"Krithick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1678183225,"answer_count":1,"score":-1,"last_activity_date":1678168338,"creation_date":1678167810,"question_id":75658408,"body_markdown":"I need to get the current charge percentage in decimal values like -&gt; 50.3,20.4,etc...\r\n\r\nIs there any way to do the same in android with Kotlin/Java.\r\n\r\nAnyone Please help me with this.\r\n\r\nAlgorithm / Code to get the Current battery Percentage in Decimals.\r\nlike 15.2 like this.","title":"How to Get current charge percentage in decimal in java for android","body":"<p>I need to get the current charge percentage in decimal values like -&gt; 50.3,20.4,etc...</p>\n<p>Is there any way to do the same in android with Kotlin/Java.</p>\n<p>Anyone Please help me with this.</p>\n<p>Algorithm / Code to get the Current battery Percentage in Decimals.\nlike 15.2 like this.</p>\n"},{"tags":["java","selenium-webdriver","testng","selenium-grid","remotewebdriver"],"owner":{"account_id":27953549,"reputation":21,"user_id":21346836,"display_name":"Priyanka Srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678167895,"creation_date":1678167895,"question_id":75658413,"body_markdown":"org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;18.0.2&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, platformName: Windows 10}], desiredCapabilities=Capabilities {browserName: chrome, platformName: Windows 10}}]\r\nCapabilities {browserName: chrome, platformName: Windows 10}\r\n\r\n\r\nFacing this error while running my test suit for multiple browser in Selenium grid.\r\n\r\n\r\n\r\n\r\n\r\n\r\nTrying to execute basic tests in selenium grid for standalone mode but facing issue.","title":"using selenium grid facing Invalid address of the remote server or browser start-up failure error","body":"<p>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '18.0.2'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, platformName: Windows 10}], desiredCapabilities=Capabilities {browserName: chrome, platformName: Windows 10}}]\nCapabilities {browserName: chrome, platformName: Windows 10}</p>\n<p>Facing this error while running my test suit for multiple browser in Selenium grid.</p>\n<p>Trying to execute basic tests in selenium grid for standalone mode but facing issue.</p>\n"},{"tags":["java","criteria-api"],"comments":[{"owner":{"account_id":396748,"reputation":30697,"user_id":760489,"accept_rate":72,"display_name":"Pratik"},"score":0,"creation_date":1312801252,"post_id":6981083,"comment_id":8329079,"body_markdown":"try with the 1=0 for more detail see this post\r\n\r\n[http://stackoverflow.com/questions/6145809/mysql-where-1-0-confusion/6145827#6145827][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/6145809/mysql-where-1-0-confusion/6145827#6145827","body":"try with the 1=0 for more detail see this post    [<a href=\"http://stackoverflow.com/questions/6145809/mysql-where-1-0-confusion/6145827#6145827][1]\" title=\"mysql where 1 0 confusion\">stackoverflow.com/questions/6145809/mysql-where-1-0-confusi&zwnj;&#8203;on/&hellip;</a>        [1]: <a href=\"http://stackoverflow.com/questions/6145809/mysql-where-1-0-confusion/6145827#6145827\" title=\"mysql where 1 0 confusion\">stackoverflow.com/questions/6145809/mysql-where-1-0-confusio&zwnj;&#8203;n/&hellip;</a>"},{"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"score":1,"creation_date":1312801695,"post_id":6981083,"comment_id":8329186,"body_markdown":"@Pratik, the problem is how to write the condition in criteria api. The condition itself is not a problem.","body":"@Pratik, the problem is how to write the condition in criteria api. The condition itself is not a problem."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1312801351,"creation_date":1312801015,"answer_id":6981105,"question_id":6981083,"body_markdown":"How about\r\n\r\n    CriteriaBuilder.notEqual(CriteriaBuilder.literal(1), 1)\r\n\r\nAlthough, if you *know* that this shouldn&#39;t execute, then using expressions might not be optimal on some RDBMS, if the database can&#39;t peek at bind values. I don&#39;t know how to do create a JPA Predicate with an inlined `1 &lt;&gt; 1` SQL expression, though...","title":"criteria api where 1&lt;&gt;1 clause","body":"<p>How about</p>\n\n<pre><code>CriteriaBuilder.notEqual(CriteriaBuilder.literal(1), 1)\n</code></pre>\n\n<p>Although, if you <em>know</em> that this shouldn't execute, then using expressions might not be optimal on some RDBMS, if the database can't peek at bind values. I don't know how to do create a JPA Predicate with an inlined <code>1 &lt;&gt; 1</code> SQL expression, though...</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1312801506,"creation_date":1312801506,"answer_id":6981182,"question_id":6981083,"body_markdown":"How about this:\r\n\r\n    CriteriaBuilder.isTrue(CriteriaBuilder.literal(Boolean.FALSE));\r\n\r\n","title":"criteria api where 1&lt;&gt;1 clause","body":"<p>How about this:</p>\n\n<pre><code>CriteriaBuilder.isTrue(CriteriaBuilder.literal(Boolean.FALSE));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40939,"reputation":41525,"user_id":118846,"display_name":"Mikko Maunu"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1317549042,"creation_date":1316450040,"answer_id":7474263,"question_id":6981083,"body_markdown":"Javadoc from CriteriaBuilder: &quot;Create a disjunction (with zero disjuncts). A disjunction with zero disjuncts is false.&quot;\r\n\r\n    CriteriaBuilder cb..\r\n    Predicate itsFalse = cb.disjunction();\r\n\r\nAnd then generated SQL depends about implementation, Hibernate produces 0=1. Why I prefer this method over other alternatives, is:\r\n\r\n 1. According documentation it fits perfectly to this use without\r\n    additional arguments and you kind of guess what it does from name.\r\n 2. It is short.\r\n\r\n","title":"criteria api where 1&lt;&gt;1 clause","body":"<p>Javadoc from CriteriaBuilder: \"Create a disjunction (with zero disjuncts). A disjunction with zero disjuncts is false.\"</p>\n\n<pre><code>CriteriaBuilder cb..\nPredicate itsFalse = cb.disjunction();\n</code></pre>\n\n<p>And then generated SQL depends about implementation, Hibernate produces 0=1. Why I prefer this method over other alternatives, is:</p>\n\n<ol>\n<li>According documentation it fits perfectly to this use without\nadditional arguments and you kind of guess what it does from name.</li>\n<li>It is short.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7974175,"reputation":21,"user_id":6017862,"display_name":"volkov_kv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678167648,"creation_date":1678167648,"answer_id":75658392,"question_id":6981083,"body_markdown":"```java\r\ncriteriaBuilder.isTrue(criteriaBuilder.literal(false));\r\n```\r\n\r\nor\r\n```java\r\nSpecification&lt;TheEntity&gt; specification = (root, query, cb) -&gt; cb.isTrue(cb.literal(false));\r\n```\r\n\r\n","title":"criteria api where 1&lt;&gt;1 clause","body":"<pre class=\"lang-java prettyprint-override\"><code>criteriaBuilder.isTrue(criteriaBuilder.literal(false));\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>Specification&lt;TheEntity&gt; specification = (root, query, cb) -&gt; cb.isTrue(cb.literal(false));\n</code></pre>\n"}],"owner":{"account_id":217320,"reputation":42820,"user_id":473070,"accept_rate":82,"display_name":"Vladimir Ivanov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8796,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":6981105,"answer_count":4,"score":13,"last_activity_date":1678167648,"creation_date":1312800888,"question_id":6981083,"body_markdown":"I want the query not to return any values. I can&#39;t just not query database, so I&#39;d like to add some unreachable condition to predicates, something like &#39;where 1 &lt;&gt; 1&#39;. But the CriteriaBuilder.equal() doesn&#39;t allow to do that. Is there any way to reach the goal?\r\n\r\nThanks.","title":"criteria api where 1&lt;&gt;1 clause","body":"<p>I want the query not to return any values. I can't just not query database, so I'd like to add some unreachable condition to predicates, something like 'where 1 &lt;> 1'. But the CriteriaBuilder.equal() doesn't allow to do that. Is there any way to reach the goal?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","android","xml","android-edittext"],"owner":{"account_id":27953482,"reputation":11,"user_id":21346783,"display_name":"Anmol Panwar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1678182898,"answer_count":0,"score":1,"last_activity_date":1678167382,"creation_date":1678167360,"question_id":75658372,"body_markdown":"When I paste in Edittext in Android Studio, it paste color, underline and links also.\r\nI only want it to paste it as plain text. I can do it by &quot;paste as plain text&quot; or through clipboard. But How can I do it by default by clicking on paste itself.\r\n[image](https://i.stack.imgur.com/MFV6X.jpg)\r\n\r\n\r\n\r\n\r\n```\r\n&lt;EditText\r\n        android:id=&quot;@+id/input_text&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@id/textHome&quot;\r\n        android:layout_above=&quot;@id/submit_button&quot;\r\n        android:padding=&quot;16dp&quot;\r\n        android:textColor=&quot;#F1F1F1&quot;\r\n        android:hint=&quot;Enter text here...&quot;\r\n        android:textSize=&quot;16dp&quot;\r\n        android:gravity=&quot;top|left&quot;\r\n        android:inputType=&quot;textMultiLine&quot;\r\n        android:scrollbars=&quot;vertical&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:focusableInTouchMode=&quot;true&quot;\r\n        android:background=&quot;@drawable/edittext_background&quot;/&gt;\r\n```\r\n\r\nI tried changing inputType but still getting the same.","title":"How to paste as plain text in android EditText by default","body":"<p>When I paste in Edittext in Android Studio, it paste color, underline and links also.\nI only want it to paste it as plain text. I can do it by &quot;paste as plain text&quot; or through clipboard. But How can I do it by default by clicking on paste itself.\n<a href=\"https://i.stack.imgur.com/MFV6X.jpg\" rel=\"nofollow noreferrer\">image</a></p>\n<pre><code>&lt;EditText\n        android:id=&quot;@+id/input_text&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@id/textHome&quot;\n        android:layout_above=&quot;@id/submit_button&quot;\n        android:padding=&quot;16dp&quot;\n        android:textColor=&quot;#F1F1F1&quot;\n        android:hint=&quot;Enter text here...&quot;\n        android:textSize=&quot;16dp&quot;\n        android:gravity=&quot;top|left&quot;\n        android:inputType=&quot;textMultiLine&quot;\n        android:scrollbars=&quot;vertical&quot;\n        android:focusable=&quot;true&quot;\n        android:focusableInTouchMode=&quot;true&quot;\n        android:background=&quot;@drawable/edittext_background&quot;/&gt;\n</code></pre>\n<p>I tried changing inputType but still getting the same.</p>\n"},{"tags":["java","algorithm","testing","graph-theory"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1678016481,"post_id":75641297,"comment_id":133447962,"body_markdown":"It depends on your situation and requirements. A conventional way of seeing it is that a path consists of *0 or more* edges and that a path of length 0 ends in the same vertex where it starts. Seeing it this way the vertex has no edge to itself but still has a path to itself. A path consisting of 0 edges.","body":"It depends on your situation and requirements. A conventional way of seeing it is that a path consists of <i>0 or more</i> edges and that a path of length 0 ends in the same vertex where it starts. Seeing it this way the vertex has no edge to itself but still has a path to itself. A path consisting of 0 edges."},{"owner":{"account_id":27939108,"reputation":49,"user_id":21335474,"display_name":"User"},"score":0,"creation_date":1678017365,"post_id":75641297,"comment_id":133448095,"body_markdown":"If I understand you correctly, you&#39;re telling me that a vertex has always a path to itself even if it doesn&#39;t have an edge to itself? It kinda makes sense, but then I am back to square one. I&#39;ve implemented different version of the test method myself and my first implementation of hasPath passes all of them except for when I ask it if a vertex has a path to itself?","body":"If I understand you correctly, you&#39;re telling me that a vertex has always a path to itself even if it doesn&#39;t have an edge to itself? It kinda makes sense, but then I am back to square one. I&#39;ve implemented different version of the test method myself and my first implementation of hasPath passes all of them except for when I ask it if a vertex has a path to itself?"},{"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"score":1,"creation_date":1678025991,"post_id":75641297,"comment_id":133449351,"body_markdown":"Disallowing the empty path is in poor taste IMO. Let P be the binary relation where vPw means &quot;there is a simple path from v to w&quot; (assuming an undirected graph, but this also applies with modifications to directed). With empty paths, P is an equivalence relation (reflexive, symmetric, transitive), which is a really nice property. Without empty paths, P in general is only symmetric (!). We expect to lose reflexivity (vPv), but if vPw, then wPv, and since we don&#39;t have vPv, we&#39;ve lost transitivity too. Obviously, however, if this is an assignment, whoever wrote the test case has the last word.","body":"Disallowing the empty path is in poor taste IMO. Let P be the binary relation where vPw means &quot;there is a simple path from v to w&quot; (assuming an undirected graph, but this also applies with modifications to directed). With empty paths, P is an equivalence relation (reflexive, symmetric, transitive), which is a really nice property. Without empty paths, P in general is only symmetric (!). We expect to lose reflexivity (vPv), but if vPw, then wPv, and since we don&#39;t have vPv, we&#39;ve lost transitivity too. Obviously, however, if this is an assignment, whoever wrote the test case has the last word."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678028133,"post_id":75641297,"comment_id":133449748,"body_markdown":"I didn&#39;t tell you to look at it that way in your context. But you understood correctly, what you say is what I consider a conventional and nice way to look at it for many purposes.","body":"I didn&#39;t tell you to look at it that way in your context. But you understood correctly, what you say is what I consider a conventional and nice way to look at it for many purposes."},{"owner":{"account_id":27939108,"reputation":49,"user_id":21335474,"display_name":"User"},"score":0,"creation_date":1678032177,"post_id":75641297,"comment_id":133450422,"body_markdown":"I agree but if you look at the name of the test method it says &quot;graphWithVerteciesWithoutEdgesHasPathIsFalse&quot;. Doesn&#39;t it mean that if there is no edges then there is no path?","body":"I agree but if you look at the name of the test method it says &quot;graphWithVerteciesWithoutEdgesHasPathIsFalse&quot;. Doesn&#39;t it mean that if there is no edges then there is no path?"},{"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"score":0,"creation_date":1678037112,"post_id":75641297,"comment_id":133451279,"body_markdown":"@User Yes, the person who wrote that test considers no edges to imply no path. But I would disagree. This is ultimately an argument about definitions with no &quot;right&quot; answer (but a prettier answer and an uglier answer, IMO).","body":"@User Yes, the person who wrote that test considers no edges to imply no path. But I would disagree. This is ultimately an argument about definitions with no &quot;right&quot; answer (but a prettier answer and an uglier answer, IMO)."},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1678042703,"post_id":75641297,"comment_id":133452256,"body_markdown":"I am pretty sure that it is common to look at it like Ole V.V. describes it in the first comment. I&#39;ve never seen any teaching material that would suggest otherwise. Also intuition, if I am at home, there is a path to my home, even if I don&#39;t have the keys and doors lock automatically, so I cannot come back when leaving, but if I am right there now then I have a path.","body":"I am pretty sure that it is common to look at it like Ole V.V. describes it in the first comment. I&#39;ve never seen any teaching material that would suggest otherwise. Also intuition, if I am at home, there is a path to my home, even if I don&#39;t have the keys and doors lock automatically, so I cannot come back when leaving, but if I am right there now then I have a path."},{"owner":{"account_id":27939108,"reputation":49,"user_id":21335474,"display_name":"User"},"score":0,"creation_date":1678044282,"post_id":75641297,"comment_id":133452540,"body_markdown":"@maraca I couldn&#39;t agree more! But the problem is then I have literally no idea what is wrong with my code. I have spent a bit over 2 days trying to figure this out now and I&#39;ve not found anything. Would you please look at the code if you can spot maybe something that might affect the test method?","body":"@maraca I couldn&#39;t agree more! But the problem is then I have literally no idea what is wrong with my code. I have spent a bit over 2 days trying to figure this out now and I&#39;ve not found anything. Would you please look at the code if you can spot maybe something that might affect the test method?"},{"owner":{"account_id":27939108,"reputation":49,"user_id":21335474,"display_name":"User"},"score":0,"creation_date":1678044410,"post_id":75641297,"comment_id":133452582,"body_markdown":"@David Eisenstat so you&#39;re telling me that No Edge, No Path is also about a vertex&#39;s relation to itself? But in anycase should I keep the &quot;if == &quot; statement or change it by &quot;if has edge statement&quot;?","body":"@David Eisenstat so you&#39;re telling me that No Edge, No Path is also about a vertex&#39;s relation to itself? But in anycase should I keep the &quot;if == &quot; statement or change it by &quot;if has edge statement&quot;?"},{"owner":{"account_id":27939108,"reputation":49,"user_id":21335474,"display_name":"User"},"score":0,"creation_date":1678044996,"post_id":75641297,"comment_id":133452730,"body_markdown":"Also I should add that it is a weighted graph","body":"Also I should add that it is a weighted graph"},{"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"score":0,"creation_date":1678045434,"post_id":75641297,"comment_id":133452831,"body_markdown":"This isn&#39;t really a graph theory problem. You can either follow the spec as is, not follow the spec as is, or get the spec changed. The consensus in this comment thread is that the spec *should* be changed, but we can&#39;t change it for you. (Your `hasPath` is basically what I would have written.)","body":"This isn&#39;t really a graph theory problem. You can either follow the spec as is, not follow the spec as is, or get the spec changed. The consensus in this comment thread is that the spec <i>should</i> be changed, but we can&#39;t change it for you. (Your <code>hasPath</code> is basically what I would have written.)"},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":1,"creation_date":1678047991,"post_id":75641297,"comment_id":133453301,"body_markdown":"@User as said by David Eisenstat your solution is fine, but they want to see something different, so you have to go with it. But you could say that you didn&#39;t understand at first and it would be helpful to include whether path to same node always exists or not. My guess is they made a mistake in the checker, but I would avoid saying they did something wrong or they feel threatened and can get annoying to deal with.","body":"@User as said by David Eisenstat your solution is fine, but they want to see something different, so you have to go with it. But you could say that you didn&#39;t understand at first and it would be helpful to include whether path to same node always exists or not. My guess is they made a mistake in the checker, but I would avoid saying they did something wrong or they feel threatened and can get annoying to deal with."}],"owner":{"account_id":27939108,"reputation":49,"user_id":21335474,"display_name":"User"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678167236,"creation_date":1678009104,"question_id":75641297,"body_markdown":"So I have created a method called hasPath that checks if there is a path between two given vertices. It passes all the test methods except one test method that asserts that a graph with vertecies without edges hasPath is False. \r\n\r\nWhen I create a new graph in the main method and do this to an empty graph\r\n\r\n&gt; System.out.println(Graph.hasPath(g, 0, 0));\r\n\r\nIt returns true, meaning it assumes that a vertex has an edge to itself.\r\n\r\nSo I changed this line on line 8:\r\n\r\n&gt; if (topVertex == w)\r\n\r\nto \r\n\r\n&gt; if(g.hasEdge(topVertex, w))\r\n\r\nNow it returns false which is good, but my question is this why it was failing the test method I mentioned (I don&#39;t have access to the test method). Also what difference does this change make? I feel like &quot;==&quot; still does the job?\r\n\r\nThis is my first implementation.\r\n\r\n```java\r\n    public static boolean hasPath(Graph g, int v, int w) {\r\n        Queue&lt;Integer&gt; queue = new LinkedList&lt;&gt;();\r\n        boolean [] visited = new boolean[g.numVertices()];\r\n        queue.offer(v);\r\n        visited[v] = true;\r\n        while(!queue.isEmpty()){\r\n            int topVertex = queue.poll();\r\n            if(topVertex == w){\r\n                return true;\r\n            }            \r\n            Iterator&lt;Integer&gt; it = g.neighbors(topVertex);\r\n\r\n            while(it.hasNext()){\r\n                int ite = it.next();\r\n                if(!visited[ite]){\r\n                    visited[ite]=true;\r\n                    queue.offer(ite);\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    \r\n    }\r\n        ```\r\n\r\n\r\n","title":"Does a vertex always have a path to iteself even if it doesn&#39;t have an edge to itself?","body":"<p>So I have created a method called hasPath that checks if there is a path between two given vertices. It passes all the test methods except one test method that asserts that a graph with vertecies without edges hasPath is False.</p>\n<p>When I create a new graph in the main method and do this to an empty graph</p>\n<blockquote>\n<p>System.out.println(Graph.hasPath(g, 0, 0));</p>\n</blockquote>\n<p>It returns true, meaning it assumes that a vertex has an edge to itself.</p>\n<p>So I changed this line on line 8:</p>\n<blockquote>\n<p>if (topVertex == w)</p>\n</blockquote>\n<p>to</p>\n<blockquote>\n<p>if(g.hasEdge(topVertex, w))</p>\n</blockquote>\n<p>Now it returns false which is good, but my question is this why it was failing the test method I mentioned (I don't have access to the test method). Also what difference does this change make? I feel like &quot;==&quot; still does the job?</p>\n<p>This is my first implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static boolean hasPath(Graph g, int v, int w) {\n        Queue&lt;Integer&gt; queue = new LinkedList&lt;&gt;();\n        boolean [] visited = new boolean[g.numVertices()];\n        queue.offer(v);\n        visited[v] = true;\n        while(!queue.isEmpty()){\n            int topVertex = queue.poll();\n            if(topVertex == w){\n                return true;\n            }            \n            Iterator&lt;Integer&gt; it = g.neighbors(topVertex);\n\n            while(it.hasNext()){\n                int ite = it.next();\n                if(!visited[ite]){\n                    visited[ite]=true;\n                    queue.offer(ite);\n                }\n            }\n        }\n        return false;\n    \n    }\n        ```\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","maven","intellij-idea","jasypt"],"comments":[{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1678171834,"post_id":75658317,"comment_id":133476998,"body_markdown":"Try to add these flags into `Settings | Build, Execution, Deployment | Build Tools | Maven | Runner | VM Options` to see if it helps.","body":"Try to add these flags into <code>Settings | Build, Execution, Deployment | Build Tools | Maven | Runner | VM Options</code> to see if it helps."}],"owner":{"account_id":6600236,"reputation":63,"user_id":5098776,"display_name":"Akash Chaudhuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678166854,"creation_date":1678166854,"question_id":75658317,"body_markdown":"I am trying to configure jasypt-maven-plugin in my spring-boot application. \r\nOn building my project with the below command, the build is successful. But I am not able to get the encrypted password on running the encrypt command. \r\n\r\n**Command Used:**\r\n    mvn jasypt:encrypt -DjasyptEncryptorPassword=&quot;learningjava&quot; -DdecryptedValue=&quot;dev12345&quot; \r\n\r\n**pom.xml** \r\n\r\n      &lt;dependency&gt;\r\n          &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.3&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;build&gt;\r\n          &lt;pluginManagement&gt;\r\n              &lt;plugins&gt;\r\n                  &lt;plugin&gt;\r\n                      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                  &lt;/plugin&gt;\r\n                  &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;jasypt-maven-plugin&lt;/artifactId&gt;\r\n                      &lt;version&gt;3.0.3&lt;/version&gt;\r\n                  &lt;/plugin&gt;\r\n              &lt;/plugins&gt;\r\n          &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n\r\n**App.java**\r\n\r\n    @SpringBootApplication\r\n    @EnableEncryptableProperties\r\n    public class App {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(App.class, args);\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MF3KI.jpg","title":"jasypt-maven-plugin doesn&#39;t encrypt the provided value in IntelliJ","body":"<p>I am trying to configure jasypt-maven-plugin in my spring-boot application.\nOn building my project with the below command, the build is successful. But I am not able to get the encrypted password on running the encrypt command.</p>\n<p><strong>Command Used:</strong>\nmvn jasypt:encrypt -DjasyptEncryptorPassword=&quot;learningjava&quot; -DdecryptedValue=&quot;dev12345&quot;</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>  &lt;dependency&gt;\n      &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\n      &lt;artifactId&gt;jasypt-spring-boot-starter&lt;/artifactId&gt;\n      &lt;version&gt;3.0.3&lt;/version&gt;\n  &lt;/dependency&gt;\n\n  &lt;build&gt;\n      &lt;pluginManagement&gt;\n          &lt;plugins&gt;\n              &lt;plugin&gt;\n                  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n              &lt;/plugin&gt;\n              &lt;plugin&gt;\n                    &lt;groupId&gt;com.github.ulisesbocchio&lt;/groupId&gt;\n                  &lt;artifactId&gt;jasypt-maven-plugin&lt;/artifactId&gt;\n                  &lt;version&gt;3.0.3&lt;/version&gt;\n              &lt;/plugin&gt;\n          &lt;/plugins&gt;\n      &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n</code></pre>\n<p><strong>App.java</strong></p>\n<pre><code>@SpringBootApplication\n@EnableEncryptableProperties\npublic class App {\n\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/MF3KI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MF3KI.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22881048,"reputation":231,"user_id":17022635,"display_name":"siarhei987"},"score":0,"creation_date":1678133352,"post_id":75655270,"comment_id":133471141,"body_markdown":"You pass a relative path to a directory so it depends on a current working directory. If you are trying to start your program from IDE, your current working directory would be the root of your project. You can check it with `new File(&quot;&quot;).getAbsolutePath()`.","body":"You pass a relative path to a directory so it depends on a current working directory. If you are trying to start your program from IDE, your current working directory would be the root of your project. You can check it with <code>new File(&quot;&quot;).getAbsolutePath()</code>."},{"owner":{"account_id":27708886,"reputation":23,"user_id":21151953,"display_name":"webdudewithnoname"},"score":0,"creation_date":1678133811,"post_id":75655270,"comment_id":133471260,"body_markdown":"But what if the path that I am providing leads to a directory located in another module ?","body":"But what if the path that I am providing leads to a directory located in another module ?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1678139361,"post_id":75655270,"comment_id":133472485,"body_markdown":"You can use `..` in the path to move one directory up in the hierarchy, as in `../another-module/src/main/resources/my_directory`, or provide an absolute path.","body":"You can use <code>..</code> in the path to move one directory up in the hierarchy, as in <code>..&#47;another-module&#47;src&#47;main&#47;resources&#47;my_directory</code>, or provide an absolute path."}],"answers":[{"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678166100,"creation_date":1678166100,"answer_id":75658257,"question_id":75655270,"body_markdown":"Ideally you should be able read anything that is place in the resource directory using the classloader as it will be available in the classpath. Please have a look at the code below, this should work for your case as well:\r\n\r\n```\r\npublic class ClassToReadJsons {\r\n\r\n  public static void main(String[] args) {\r\n    new ClassToReadJsons().getFiles(ClassToReadJsons.class.getClassLoader().getResource(&quot;my_directory&quot;).getPath()).forEach(file -&gt; System.out.println(file.getAbsolutePath()));\r\n  }\r\n  private List&lt;File&gt; getFiles(String directoryPath) {\r\n    File directory = new File(directoryPath);\r\n    File[] files = directory.listFiles((dir, name) -&gt; name.endsWith(&quot;.json&quot;));\r\n    if (files != null) {\r\n      return Arrays.asList(files);\r\n    } else {\r\n      return Collections.emptyList();\r\n    }\r\n  }\r\n}\r\n```","title":"Reading json files from a directory throws exception with the provided path","body":"<p>Ideally you should be able read anything that is place in the resource directory using the classloader as it will be available in the classpath. Please have a look at the code below, this should work for your case as well:</p>\n<pre><code>public class ClassToReadJsons {\n\n  public static void main(String[] args) {\n    new ClassToReadJsons().getFiles(ClassToReadJsons.class.getClassLoader().getResource(&quot;my_directory&quot;).getPath()).forEach(file -&gt; System.out.println(file.getAbsolutePath()));\n  }\n  private List&lt;File&gt; getFiles(String directoryPath) {\n    File directory = new File(directoryPath);\n    File[] files = directory.listFiles((dir, name) -&gt; name.endsWith(&quot;.json&quot;));\n    if (files != null) {\n      return Arrays.asList(files);\n    } else {\n      return Collections.emptyList();\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":27708886,"reputation":23,"user_id":21151953,"display_name":"webdudewithnoname"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678166100,"creation_date":1678132545,"question_id":75655270,"body_markdown":"I am trying to read bunch of json files and return them as List&lt;Files&gt;.\r\nI am providing the path from the repository root as an argument, but i keep getting an &quot;Unexpected exception thrown: java.lang.IllegalArgumentException&quot;. \r\n\r\nHere is my code:\r\n\r\n```\r\n  private List&lt;File&gt; getFiles(String directoryPath) {\r\n    File directory = new File(directoryPath);\r\n    File[] files = directory.listFiles((dir, name) -&gt; name.endsWith(&quot;.json&quot;));\r\n    if (files != null) {\r\n      return Arrays.asList(files);\r\n    } else {\r\n      return Collections.emptyList();\r\n    }\r\n  }\r\n```\r\n\r\nThe funny thing is if i provide a path from content root (src/main/resources/my_directory), it returns the files, but otherwise with path to repository root (my-app-1/src/main/resouces/my_directory) throws an exception.","title":"Reading json files from a directory throws exception with the provided path","body":"<p>I am trying to read bunch of json files and return them as List.\nI am providing the path from the repository root as an argument, but i keep getting an &quot;Unexpected exception thrown: java.lang.IllegalArgumentException&quot;.</p>\n<p>Here is my code:</p>\n<pre><code>  private List&lt;File&gt; getFiles(String directoryPath) {\n    File directory = new File(directoryPath);\n    File[] files = directory.listFiles((dir, name) -&gt; name.endsWith(&quot;.json&quot;));\n    if (files != null) {\n      return Arrays.asList(files);\n    } else {\n      return Collections.emptyList();\n    }\n  }\n</code></pre>\n<p>The funny thing is if i provide a path from content root (src/main/resources/my_directory), it returns the files, but otherwise with path to repository root (my-app-1/src/main/resouces/my_directory) throws an exception.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1678166732,"post_id":75658033,"comment_id":133476212,"body_markdown":"Does the middleware provide an API?","body":"Does the middleware provide an API?"},{"owner":{"account_id":9225058,"reputation":425,"user_id":6853132,"accept_rate":50,"display_name":"Bhuvaneshwari K"},"score":0,"creation_date":1678179360,"post_id":75658033,"comment_id":133478781,"body_markdown":"Yes.  This is used for create api  -  /create","body":"Yes.  This is used for create api  -  /create"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1678195437,"post_id":75658033,"comment_id":133483026,"body_markdown":"To pass your json data, you have use this API that is available. But you will have a constrains related to the contract provided by this API. You will have to readapt the content of your json to match the API contract.","body":"To pass your json data, you have use this API that is available. But you will have a constrains related to the contract provided by this API. You will have to readapt the content of your json to match the API contract."},{"owner":{"account_id":9225058,"reputation":425,"user_id":6853132,"accept_rate":50,"display_name":"Bhuvaneshwari K"},"score":0,"creation_date":1678436790,"post_id":75658033,"comment_id":133535560,"body_markdown":"I used the same structure being used for front-end UI, which solves my issue.","body":"I used the same structure being used for front-end UI, which solves my issue."}],"owner":{"account_id":9225058,"reputation":425,"user_id":6853132,"accept_rate":50,"display_name":"Bhuvaneshwari K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678164791,"creation_date":1678163133,"question_id":75658033,"body_markdown":"I am passing below request to an api using postman.\r\n\r\n\r\n    {\r\n      &quot;user&quot;: {\r\n        &quot;phone&quot;:&quot;1111111111&quot;,\r\n        &quot;email&quot;: &quot;sample@gmail.com&quot;\r\n      },\r\n      &quot;eIdentifier&quot;: {\r\n        &quot;cIdentifier&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;Fname&quot;,\r\n            &quot;value&quot;: &quot;Test&quot;\r\n          },\r\n            {\r\n            &quot;name&quot;: &quot;Lname&quot;,\r\n            &quot;value&quot;: &quot;Test&quot;\r\n          },\r\n           {\r\n            &quot;name&quot;: &quot;Product&quot;,\r\n            &quot;value&quot;: &quot;Pouch&quot;\r\n          }\r\n        ]\r\n      }\r\n    }    \r\n\r\nIn local env, I tried passing request from postman to middleware, all the data are binding properly and getting saved in 3rd party application. But in front end, user will have UI, to select product, email, first name, last name and phone number. When user clicks Login button, all those parameters will be passed to a middleware, and from middleware data should bind accordingly as per above syntax and send it to a third-party application to store the information.\r\n\r\nHow can I bind the data from front end to middleware for this key and value cIdentifier arraylist?\r\n","title":"How to bind Postman key and value pair data to Pojo Class using Java","body":"<p>I am passing below request to an api using postman.</p>\n<pre><code>{\n  &quot;user&quot;: {\n    &quot;phone&quot;:&quot;1111111111&quot;,\n    &quot;email&quot;: &quot;sample@gmail.com&quot;\n  },\n  &quot;eIdentifier&quot;: {\n    &quot;cIdentifier&quot;: [\n      {\n        &quot;name&quot;: &quot;Fname&quot;,\n        &quot;value&quot;: &quot;Test&quot;\n      },\n        {\n        &quot;name&quot;: &quot;Lname&quot;,\n        &quot;value&quot;: &quot;Test&quot;\n      },\n       {\n        &quot;name&quot;: &quot;Product&quot;,\n        &quot;value&quot;: &quot;Pouch&quot;\n      }\n    ]\n  }\n}    \n</code></pre>\n<p>In local env, I tried passing request from postman to middleware, all the data are binding properly and getting saved in 3rd party application. But in front end, user will have UI, to select product, email, first name, last name and phone number. When user clicks Login button, all those parameters will be passed to a middleware, and from middleware data should bind accordingly as per above syntax and send it to a third-party application to store the information.</p>\n<p>How can I bind the data from front end to middleware for this key and value cIdentifier arraylist?</p>\n"},{"tags":["java","amazon-s3","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":1920397,"reputation":2057,"user_id":1732062,"accept_rate":100,"display_name":"djWann"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1463497293,"creation_date":1463497293,"answer_id":37279766,"question_id":37254681,"body_markdown":"I didn&#39;t find a direct solution to this problem so I used a workaround:\r\n\r\n    val df2 = sql.read.parquet(path2)\r\n    df2.write.mode(SaveMode.Append).parquet(path1)\r\n    \r\n    val df1 = sql.read.parquet(path1)\r\n    df1.write.mode(SaveMode.Overwrite).parquet(path1)","title":"Spark throwing FileNotFoundException when overwriting dataframe on S3","body":"<p>I didn't find a direct solution to this problem so I used a workaround:</p>\n\n<pre><code>val df2 = sql.read.parquet(path2)\ndf2.write.mode(SaveMode.Append).parquet(path1)\n\nval df1 = sql.read.parquet(path1)\ndf1.write.mode(SaveMode.Overwrite).parquet(path1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4979060,"reputation":31,"user_id":4004598,"display_name":"Raghwendra Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512560916,"creation_date":1511339354,"answer_id":47429952,"question_id":37254681,"body_markdown":"In the above case as both the read and write paths are same the consistency model becomes eventual consistency. \r\nTo give an example in your code data is read from same path1 and the final data is also to path1, it reads the data initially but as spark starts writing data the data being read is removed hence giving `java.io.FileNotFound` exception.\r\nSo if possible you should use different path for writing the final output.\r\n\r\nThis kind of read write if even considered as error in spark sql, when you read a dataframe from a table and write to that same table an error is thrown by spark, telling read and write to same location not allowed.","title":"Spark throwing FileNotFoundException when overwriting dataframe on S3","body":"<p>In the above case as both the read and write paths are same the consistency model becomes eventual consistency. \nTo give an example in your code data is read from same path1 and the final data is also to path1, it reads the data initially but as spark starts writing data the data being read is removed hence giving <code>java.io.FileNotFound</code> exception.\nSo if possible you should use different path for writing the final output.</p>\n\n<p>This kind of read write if even considered as error in spark sql, when you read a dataframe from a table and write to that same table an error is thrown by spark, telling read and write to same location not allowed.</p>\n"},{"tags":[],"owner":{"account_id":8201651,"reputation":1736,"user_id":6172826,"display_name":"seunggabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678163836,"creation_date":1678087287,"answer_id":75648068,"question_id":37254681,"body_markdown":"### recommend to use spark.yarn.stagingDir\r\n```\r\n    private fun read(\r\n        target: String,\r\n        extension: Extension,\r\n        repartition: Int? = 1,\r\n    ): Dataset&lt;Row&gt; {\r\n        return SparkUtil.make()\r\n            .read()\r\n            .format(extension.name)\r\n            .load(target)\r\n            .repartition(repartition!!)\r\n    }\r\n\r\n    private fun merge(\r\n        target: String,\r\n        extension: Extension,\r\n        repartition: Int? = 1,\r\n    ) {\r\n        val ds = read(target, extension, repartition)\r\n\r\n        val dir = SparkUtil.conf(&quot;spark.yarn.stagingDir&quot;) // stagingDir\r\n        val id = SparkUtil.id() // applicationId\r\n        val temp = &quot;$dir/$id&quot;\r\n\r\n        ds.write()\r\n            .format(extension.name)\r\n            .mode(SaveMode.Overwrite)\r\n            .save(temp)\r\n\r\n        read(temp, extension, repartition)\r\n            .write()\r\n            .format(extension.name)\r\n            .mode(SaveMode.Overwrite)\r\n            .save(target)\r\n    }\r\n```","title":"Spark throwing FileNotFoundException when overwriting dataframe on S3","body":"<h3>recommend to use spark.yarn.stagingDir</h3>\n<pre><code>    private fun read(\n        target: String,\n        extension: Extension,\n        repartition: Int? = 1,\n    ): Dataset&lt;Row&gt; {\n        return SparkUtil.make()\n            .read()\n            .format(extension.name)\n            .load(target)\n            .repartition(repartition!!)\n    }\n\n    private fun merge(\n        target: String,\n        extension: Extension,\n        repartition: Int? = 1,\n    ) {\n        val ds = read(target, extension, repartition)\n\n        val dir = SparkUtil.conf(&quot;spark.yarn.stagingDir&quot;) // stagingDir\n        val id = SparkUtil.id() // applicationId\n        val temp = &quot;$dir/$id&quot;\n\n        ds.write()\n            .format(extension.name)\n            .mode(SaveMode.Overwrite)\n            .save(temp)\n\n        read(temp, extension, repartition)\n            .write()\n            .format(extension.name)\n            .mode(SaveMode.Overwrite)\n            .save(target)\n    }\n</code></pre>\n"}],"owner":{"account_id":1920397,"reputation":2057,"user_id":1732062,"accept_rate":100,"display_name":"djWann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":37279766,"answer_count":3,"score":0,"last_activity_date":1678163836,"creation_date":1463404054,"question_id":37254681,"body_markdown":"I have partitioned parquet files stored on two locations on S3 in the same bucket:\r\n\r\n    path1: s3n://bucket/a/\r\n    path2: s3n://bucket/b/\r\n\r\nThe data has the same structure. I want to read the files from the first location and aggregate them to the second location using spark sql. Here is the code snippet:\r\n\r\n    val df1 = sql.read.parquet(path1)\r\n    val df2 = sql.read.parquet(path2)\r\n    \r\n    val df = df1.unionAll(df2)\r\n    \r\n    df.write.mode(SaveMode.Overwrite).parquet(path1)\r\n\r\nWhen I run this piece of code I get the following exception:\r\n\r\n    java.io.FileNotFoundException: No such file or directory \r\n    s3n://a/part-r-00001-file.gz.parquet\r\n\r\nI&#39;m using spark 1.6.1 and scala 2.11.","title":"Spark throwing FileNotFoundException when overwriting dataframe on S3","body":"<p>I have partitioned parquet files stored on two locations on S3 in the same bucket:</p>\n\n<pre><code>path1: s3n://bucket/a/\npath2: s3n://bucket/b/\n</code></pre>\n\n<p>The data has the same structure. I want to read the files from the first location and aggregate them to the second location using spark sql. Here is the code snippet:</p>\n\n<pre><code>val df1 = sql.read.parquet(path1)\nval df2 = sql.read.parquet(path2)\n\nval df = df1.unionAll(df2)\n\ndf.write.mode(SaveMode.Overwrite).parquet(path1)\n</code></pre>\n\n<p>When I run this piece of code I get the following exception:</p>\n\n<pre><code>java.io.FileNotFoundException: No such file or directory \ns3n://a/part-r-00001-file.gz.parquet\n</code></pre>\n\n<p>I'm using spark 1.6.1 and scala 2.11.</p>\n"},{"tags":["java","video-processing","webm"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678171321,"post_id":75657993,"comment_id":133476884,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27953120,"reputation":1,"user_id":21346501,"display_name":"Zora Liu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678162483,"creation_date":1678162483,"question_id":75657993,"body_markdown":"I want to merge multiple .webm files into one, a simple splice. After looking around all I need to use is ffmpeg.\r\nIs there a way to merge without using FFMPEG?\r\n\r\nI tried stitching the two videos together directly using FileInputStream and FileOutputStream, but the stitched video gives me an error at the second file location.","title":"How can I merge multiple .webm (Audio) files using java without FFMPEG?","body":"<p>I want to merge multiple .webm files into one, a simple splice. After looking around all I need to use is ffmpeg.\nIs there a way to merge without using FFMPEG?</p>\n<p>I tried stitching the two videos together directly using FileInputStream and FileOutputStream, but the stitched video gives me an error at the second file location.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2858222,"reputation":2416,"user_id":2453985,"display_name":"Vikram Palakurthi"},"score":0,"creation_date":1522360305,"post_id":49565443,"comment_id":86139437,"body_markdown":"Include more information, code snippets, screenshots, log trace. which could be helpful in finding a solution.","body":"Include more information, code snippets, screenshots, log trace. which could be helpful in finding a solution."},{"owner":{"account_id":3940837,"reputation":2674,"user_id":4443351,"accept_rate":71,"display_name":"Bizon4ik"},"score":0,"creation_date":1522361609,"post_id":49565443,"comment_id":86139887,"body_markdown":"@VikramPalakurthi I created a new spring-boot app without any controller. Put above mention logging level in `application.property` and start the app. Then send some request to this app and obtained 404 error in response, however, there is nothing in the application log. What should I do to find 404 error in log (change log level to `DEBUG` is not an option)?","body":"@VikramPalakurthi I created a new spring-boot app without any controller. Put above mention logging level in <code>application.property</code> and start the app. Then send some request to this app and obtained 404 error in response, however, there is nothing in the application log. What should I do to find 404 error in log (change log level to <code>DEBUG</code> is not an option)?"},{"owner":{"account_id":2858222,"reputation":2416,"user_id":2453985,"display_name":"Vikram Palakurthi"},"score":0,"creation_date":1522361955,"post_id":49565443,"comment_id":86140002,"body_markdown":"So when there is no controller in place and you are trying to access the url which gave you a 404 error. This sounds right to me. Implement a base controller and then try to access it. What you created is just a simple application without any access points, try to complete it by adding a controller and methods which handle requests and send responses (view or json) for example.","body":"So when there is no controller in place and you are trying to access the url which gave you a 404 error. This sounds right to me. Implement a base controller and then try to access it. What you created is just a simple application without any access points, try to complete it by adding a controller and methods which handle requests and send responses (view or json) for example."},{"owner":{"account_id":2858222,"reputation":2416,"user_id":2453985,"display_name":"Vikram Palakurthi"},"score":0,"creation_date":1522362003,"post_id":49565443,"comment_id":86140024,"body_markdown":"And, if you want to see the logs you need to update the log config for tomcat, if that&#39;s what you are using.","body":"And, if you want to see the logs you need to update the log config for tomcat, if that&#39;s what you are using."},{"owner":{"account_id":2858222,"reputation":2416,"user_id":2453985,"display_name":"Vikram Palakurthi"},"score":0,"creation_date":1522362094,"post_id":49565443,"comment_id":86140052,"body_markdown":"use this reference to enable logs https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html","body":"use this reference to enable logs <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":2858222,"reputation":2416,"user_id":2453985,"display_name":"Vikram Palakurthi"},"score":0,"creation_date":1522362286,"post_id":49565443,"comment_id":86140110,"body_markdown":"Possible duplicate of [Spring Boot: How can I set the logging level with application.properties?](https://stackoverflow.com/questions/20485059/spring-boot-how-can-i-set-the-logging-level-with-application-properties)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/20485059/spring-boot-how-can-i-set-the-logging-level-with-application-properties\">Spring Boot: How can I set the logging level with application.properties?</a>"},{"owner":{"account_id":5221480,"reputation":65,"user_id":4174815,"display_name":"Danish ALI"},"score":0,"creation_date":1678157588,"post_id":49565443,"comment_id":133475173,"body_markdown":"[404 Exception not handled in Spring ControllerAdvice](https://stackoverflow.com/questions/54116245/404-exception-not-handled-in-spring-controlleradvice) might help","body":"<a href=\"https://stackoverflow.com/questions/54116245/404-exception-not-handled-in-spring-controlleradvice\">404 Exception not handled in Spring ControllerAdvice</a> might help"}],"answers":[{"tags":[],"owner":{"account_id":5221480,"reputation":65,"user_id":4174815,"display_name":"Danish ALI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678160337,"creation_date":1678160337,"answer_id":75657846,"question_id":49565443,"body_markdown":"I did a bit of experimentation and turn outs that for now you have to add following to the properties\r\n\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n    spring.web.resources.add-mappings=false\r\n\r\nthen even with no logging configuration you will get logs which look something like: \r\n\r\n&gt; 2023-03-07T03:35:24.323Z  WARN 283306 --- [nio-8080-exec-1]\r\n&gt; o.s.web.servlet.PageNotFound             : No mapping for GET /bad\r\n&gt; 2023-03-07T03:35:24.327Z  WARN 283306 --- [nio-8080-exec-1]\r\n&gt; o.s.web.servlet.PageNotFound             : No endpoint GET /bad.\r\n&gt; 2023-03-07T03:35:24.329Z  WARN 283306 --- [nio-8080-exec-1]\r\n&gt; .w.s.m.s.DefaultHandlerExceptionResolver : Resolved\r\n&gt; [org.springframework.web.servlet.NoHandlerFoundException: No endpoint\r\n&gt; GET /bad.]","title":"Spring Boot add in log information about 404 error","body":"<p>I did a bit of experimentation and turn outs that for now you have to add following to the properties</p>\n<pre><code>spring.mvc.throw-exception-if-no-handler-found=true\nspring.web.resources.add-mappings=false\n</code></pre>\n<p>then even with no logging configuration you will get logs which look something like:</p>\n<blockquote>\n<p>2023-03-07T03:35:24.323Z  WARN 283306 --- [nio-8080-exec-1]\no.s.web.servlet.PageNotFound             : No mapping for GET /bad\n2023-03-07T03:35:24.327Z  WARN 283306 --- [nio-8080-exec-1]\no.s.web.servlet.PageNotFound             : No endpoint GET /bad.\n2023-03-07T03:35:24.329Z  WARN 283306 --- [nio-8080-exec-1]\n.w.s.m.s.DefaultHandlerExceptionResolver : Resolved\n[org.springframework.web.servlet.NoHandlerFoundException: No endpoint\nGET /bad.]</p>\n</blockquote>\n"}],"owner":{"account_id":3940837,"reputation":2674,"user_id":4443351,"accept_rate":71,"display_name":"Bizon4ik"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2130,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1678160337,"creation_date":1522359573,"question_id":49565443,"body_markdown":"I use the following log level `logging.level.org.springframework.web= ERROR` and wish also to see in my log 404 error (with full URL) that is generated when requested URL cannot be matched to any controller. What is the best way for this? ","title":"Spring Boot add in log information about 404 error","body":"<p>I use the following log level <code>logging.level.org.springframework.web= ERROR</code> and wish also to see in my log 404 error (with full URL) that is generated when requested URL cannot be matched to any controller. What is the best way for this? </p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":1,"creation_date":1678160997,"post_id":75657833,"comment_id":133475517,"body_markdown":"What JDK does it show when you run `mvn --version` in the command?","body":"What JDK does it show when you run <code>mvn --version</code> in the command?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1678163055,"post_id":75657833,"comment_id":133475730,"body_markdown":"Perhaps you need to check the setting for the compiler plugin as well, see https://stackoverflow.com/questions/38882080/specifying-java-version-in-maven-differences-between-properties-and-compiler-p","body":"Perhaps you need to check the setting for the compiler plugin as well, see <a href=\"https://stackoverflow.com/questions/38882080/specifying-java-version-in-maven-differences-between-properties-and-compiler-p\" title=\"specifying java version in maven differences between properties and compiler p\">stackoverflow.com/questions/38882080/&hellip;</a>"},{"owner":{"account_id":20929302,"reputation":1,"user_id":15376057,"display_name":"Dan Wang"},"score":0,"creation_date":1678174773,"post_id":75657833,"comment_id":133477597,"body_markdown":"@LJreplica, It&#39;s JDK 17. I realized this may be the reason for compilation error using the command line. So I changed it to JDK 11 and the compilation succeeded. However, I still wonder why compile using IDEA failed given that I have appoint all possible configuration of JDK to 11.","body":"@LJreplica, It&#39;s JDK 17. I realized this may be the reason for compilation error using the command line. So I changed it to JDK 11 and the compilation succeeded. However, I still wonder why compile using IDEA failed given that I have appoint all possible configuration of JDK to 11."},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1678182231,"post_id":75657833,"comment_id":133479541,"body_markdown":"Check `Settings | Build, Execution, Deployment | Build Tools | Maven | Runner`, `File | Project Structure | Modules | module_name | Dependencies | Module SDK` any JDK 17 there.","body":"Check <code>Settings | Build, Execution, Deployment | Build Tools | Maven | Runner</code>, <code>File | Project Structure | Modules | module_name | Dependencies | Module SDK</code> any JDK 17 there."}],"owner":{"account_id":20929302,"reputation":1,"user_id":15376057,"display_name":"Dan Wang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678160103,"creation_date":1678160103,"question_id":75657833,"body_markdown":"I am building a java project using maven. I have appointed the compiler source and target to 11 in the pom.xml. \r\n\r\n```\r\n&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n```\r\nHowever, when I execute `mvn package`, I got an error message indicating class `AccessControlException` in `java.security` is deprecated and will be removed.\r\n\r\nI&#39;m really confused, since the `AccessControlException` class is deprecated after JDK 17 while I am using JDK 11. Can anyone tell me what&#39;s wrong?\r\n\r\n\r\nI&#39;ve tried to compile my project both in IDEA and using command line, but getting this error all the time.\r\nWhen using IDEA, I&#39;ve set the SDK and the language level of the project and all its modules to 11. I also set the maven runner JRE to use the prokect JDK.","title":"Deprecated class error during maven install (using JDK 11 but the class is deprecated after JDK 17)","body":"<p>I am building a java project using maven. I have appointed the compiler source and target to 11 in the pom.xml.</p>\n<pre><code>&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>However, when I execute <code>mvn package</code>, I got an error message indicating class <code>AccessControlException</code> in <code>java.security</code> is deprecated and will be removed.</p>\n<p>I'm really confused, since the <code>AccessControlException</code> class is deprecated after JDK 17 while I am using JDK 11. Can anyone tell me what's wrong?</p>\n<p>I've tried to compile my project both in IDEA and using command line, but getting this error all the time.\nWhen using IDEA, I've set the SDK and the language level of the project and all its modules to 11. I also set the maven runner JRE to use the prokect JDK.</p>\n"},{"tags":["java","random","random-seed"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1678159602,"post_id":75657787,"comment_id":133475383,"body_markdown":"Call `nextInt` 25 times on the same instance of `Random`.","body":"Call <code>nextInt</code> 25 times on the same instance of <code>Random</code>."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678159810,"creation_date":1678159810,"answer_id":75657810,"question_id":75657787,"body_markdown":"Create the `Random` once in the constructor, then use the same instance each time to generate the next number.\r\n\r\nFor example:\r\n\r\n```java\r\npublic class Board {\r\n\tprivate final Random rand;\r\n\tpublic Board(long seed) {\r\n\t\tthis.rand = new Random(seed);\r\n\t}\r\n\tpublic void someMethod() {\r\n\t\tint randomInt = rand.nextInt(50);\r\n        // do something with randomInt\r\n\t}\r\n}\r\n```","title":"How can I generate multiple random numbers from the same seed in Java?","body":"<p>Create the <code>Random</code> once in the constructor, then use the same instance each time to generate the next number.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Board {\n    private final Random rand;\n    public Board(long seed) {\n        this.rand = new Random(seed);\n    }\n    public void someMethod() {\n        int randomInt = rand.nextInt(50);\n        // do something with randomInt\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27952860,"reputation":3,"user_id":21346291,"display_name":"Robbie McClure"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75657810,"answer_count":1,"score":0,"last_activity_date":1678159810,"creation_date":1678159512,"question_id":75657787,"body_markdown":"I&#39;m trying to generate a randomized bingo board that is 5x5. My program generates 25 random numbers and assigns each one to a spot on the bingo board. I need to be able to have a user enter a custom seed which is used in the random number generation so that multiple people can be able to play with the same board (yes I know this is counterintuitive in bingo but I still need to be able to do it).\r\n\r\nThe current issue is that when using a set seed, the random number generator will generate the same number every time, filling the board with clones of a single number. How can I use a singular seed to generate the same board multiple times without all the random numbers being the same?\r\n\r\nDisclamer: I&#39;ve only been in computer science for 2 semesters so I&#39;m a beginner! Go easy on me!\r\n\r\nMy random generator method looks something like this:\r\n\r\n```\r\npublic void random(long seed)\r\n\t{\r\n\t\tRandom rand = new Random(seed);\r\n\t        randomInt = rand.nextInt(50);\r\n\t}\r\n```","title":"How can I generate multiple random numbers from the same seed in Java?","body":"<p>I'm trying to generate a randomized bingo board that is 5x5. My program generates 25 random numbers and assigns each one to a spot on the bingo board. I need to be able to have a user enter a custom seed which is used in the random number generation so that multiple people can be able to play with the same board (yes I know this is counterintuitive in bingo but I still need to be able to do it).</p>\n<p>The current issue is that when using a set seed, the random number generator will generate the same number every time, filling the board with clones of a single number. How can I use a singular seed to generate the same board multiple times without all the random numbers being the same?</p>\n<p>Disclamer: I've only been in computer science for 2 semesters so I'm a beginner! Go easy on me!</p>\n<p>My random generator method looks something like this:</p>\n<pre><code>public void random(long seed)\n    {\n        Random rand = new Random(seed);\n            randomInt = rand.nextInt(50);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","resttemplate","multipart","spring-resttemplate"],"owner":{"account_id":387940,"reputation":37,"user_id":746575,"display_name":"jasmeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678158407,"creation_date":1678158407,"question_id":75657694,"body_markdown":"I&#39;m working on a chain of microservice in Java where **A microservice** calls **B** and **B** in turn calls **C(some external service)**.\r\nI need to call a method of **C** which accepts Multipart File and upload it to a location.\r\n\r\nNow in **A microservice**, I can have multiple files along with some tags. Each file can have their own tags. \r\n**A microservice** just redirects the request to **B microservice** and nothing else. \r\n\r\nBelow is how I made my `AController.java`, `AService.java` and `ARequest.java` classes.\r\n\r\n    \r\n\r\n&gt; **AController.java**\r\n\r\n    @PostMapping(value=&quot;/document/upload&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    \tpublic ResponseEntity&lt;List&lt;Response&gt;&gt; uploadDocuments(@RequestParam(required = true) Integer clientId,  @ModelAttribute(&quot;files&quot;) List&lt;ARequest&gt; aRequestList) throws IOException {\r\n    \t\treturn aService.uploadDocuments(clientId, aRequestList);\r\n    \t}\r\n\r\n    \r\n\r\n&gt; **AService.java**\r\n\r\n    \tpublic ResponseEntity&lt;List&lt;Response&gt;&gt; uploadDocuments(Integer clientId, List&lt;ARequest&gt; aRequestList)\r\n    \t\t\tthrows IOException {\r\n    \t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\theaders.setContentType(MediaType.MULTIPART_FORM_DATA_VALUE);\r\n    \t\tHttpEntity&lt;ARequest&gt; requestPayload = new HttpEntity&lt;ARequest&gt;(aRequestList, headers);\r\n    \t\tResponseEntity&lt;List&lt;A&gt;&gt; responseEResponsentity = restTemplate.exchange(&quot;SomeUrl&quot;, HttpMethod.POST,\r\n    \t\t\t\trequestPayload, new ParameterizedTypeReference&lt;ResponseEntity&lt;List&lt;Response&gt;&gt;&gt;());\r\n    \t}\r\n\r\n\r\n    \r\n\r\n&gt; **ARequest.java**\r\n\r\n    \r\n    public class ARequest implements Serializable {\r\n    \tprivate static final long serialVersionUID = 9156893005763135311L;\r\n    \tprivate String documentId;\r\n    \tprivate String tag;\r\n    \tprivate String displayName;\r\n    \tprivate String description;\r\n    \tprivate MultipartFile fileContent;\r\n    }\r\n\r\n\r\nMy **B Microservice** has same controller method as **AController**. BService will save some data in DB which is coming in from the BRequest object and Cresponse object and return list of saved DB values for a given clientId.\r\n\r\nHere is my Code for - \r\n\r\n&gt; **BController.java**\r\n\r\n    @PostMapping(value=&quot;/document/upload&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n        public ResponseEntity&lt;List&lt;Response&gt;&gt; uploadDocuments(@RequestParam(required = true) Integer clientId,  @ModelAttribute(&quot;files&quot;) List&lt;BRequest&gt; bRequestList) throws IOException {\r\n            return bService.uploadDocuments(clientId, bRequestList);\r\n        }\r\n\r\nBService.java\r\n\r\n    public ResponseEntity&lt;List&lt;Response&gt;&gt; uploadDocuments(Integer clientId, List&lt;BRequest&gt; bRequestList)\r\n\t\t\tthrows IOException {\r\n\t\tfor (BRequest request : bRequestList) {\r\n\t\t\t// Call C service with request.getFileContent() and get response back\r\n\t\t\t// Save in DB (clientID, tag, displayName, description, documentId(coming from response of C)\r\n\t\t}\r\n\t\treturn Response;\r\n\t}\r\n\r\nResponse is a JPA Entity in B Microservice and is just a DTO in A microservice.\r\n\r\n1.Can someone guide me if my approach is correct?\r\n2. How can i test it using postman\r\n3. If i change tweak code to get input as single Request instead of file to test it from postman, i&#39;m getting below error when i call B Microservice from A.\r\n\r\n    No HttpMessageConverter for java.util.ArrayList and content type &quot;multipart/form-data&quot;\r\n\r\nIf i change some other thing, i get `400 Bad Request`\r\n\r\nNow i&#39;m so confused that i cant think in any direction. Please help me \r\n","title":"Uploading List of Multipart files and other details in SpringBoot with RestTemplate","body":"<p>I'm working on a chain of microservice in Java where <strong>A microservice</strong> calls <strong>B</strong> and <strong>B</strong> in turn calls <strong>C(some external service)</strong>.\nI need to call a method of <strong>C</strong> which accepts Multipart File and upload it to a location.</p>\n<p>Now in <strong>A microservice</strong>, I can have multiple files along with some tags. Each file can have their own tags.\n<strong>A microservice</strong> just redirects the request to <strong>B microservice</strong> and nothing else.</p>\n<p>Below is how I made my <code>AController.java</code>, <code>AService.java</code> and <code>ARequest.java</code> classes.</p>\n<blockquote>\n<p><strong>AController.java</strong></p>\n</blockquote>\n<pre><code>@PostMapping(value=&quot;/document/upload&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public ResponseEntity&lt;List&lt;Response&gt;&gt; uploadDocuments(@RequestParam(required = true) Integer clientId,  @ModelAttribute(&quot;files&quot;) List&lt;ARequest&gt; aRequestList) throws IOException {\n        return aService.uploadDocuments(clientId, aRequestList);\n    }\n</code></pre>\n<blockquote>\n<p><strong>AService.java</strong></p>\n</blockquote>\n<pre><code>    public ResponseEntity&lt;List&lt;Response&gt;&gt; uploadDocuments(Integer clientId, List&lt;ARequest&gt; aRequestList)\n            throws IOException {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.MULTIPART_FORM_DATA_VALUE);\n        HttpEntity&lt;ARequest&gt; requestPayload = new HttpEntity&lt;ARequest&gt;(aRequestList, headers);\n        ResponseEntity&lt;List&lt;A&gt;&gt; responseEResponsentity = restTemplate.exchange(&quot;SomeUrl&quot;, HttpMethod.POST,\n                requestPayload, new ParameterizedTypeReference&lt;ResponseEntity&lt;List&lt;Response&gt;&gt;&gt;());\n    }\n</code></pre>\n<blockquote>\n<p><strong>ARequest.java</strong></p>\n</blockquote>\n<pre><code>public class ARequest implements Serializable {\n    private static final long serialVersionUID = 9156893005763135311L;\n    private String documentId;\n    private String tag;\n    private String displayName;\n    private String description;\n    private MultipartFile fileContent;\n}\n</code></pre>\n<p>My <strong>B Microservice</strong> has same controller method as <strong>AController</strong>. BService will save some data in DB which is coming in from the BRequest object and Cresponse object and return list of saved DB values for a given clientId.</p>\n<p>Here is my Code for -</p>\n<blockquote>\n<p><strong>BController.java</strong></p>\n</blockquote>\n<pre><code>@PostMapping(value=&quot;/document/upload&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public ResponseEntity&lt;List&lt;Response&gt;&gt; uploadDocuments(@RequestParam(required = true) Integer clientId,  @ModelAttribute(&quot;files&quot;) List&lt;BRequest&gt; bRequestList) throws IOException {\n        return bService.uploadDocuments(clientId, bRequestList);\n    }\n</code></pre>\n<p>BService.java</p>\n<pre><code>public ResponseEntity&lt;List&lt;Response&gt;&gt; uploadDocuments(Integer clientId, List&lt;BRequest&gt; bRequestList)\n        throws IOException {\n    for (BRequest request : bRequestList) {\n        // Call C service with request.getFileContent() and get response back\n        // Save in DB (clientID, tag, displayName, description, documentId(coming from response of C)\n    }\n    return Response;\n}\n</code></pre>\n<p>Response is a JPA Entity in B Microservice and is just a DTO in A microservice.</p>\n<p>1.Can someone guide me if my approach is correct?\n2. How can i test it using postman\n3. If i change tweak code to get input as single Request instead of file to test it from postman, i'm getting below error when i call B Microservice from A.</p>\n<pre><code>No HttpMessageConverter for java.util.ArrayList and content type &quot;multipart/form-data&quot;\n</code></pre>\n<p>If i change some other thing, i get <code>400 Bad Request</code></p>\n<p>Now i'm so confused that i cant think in any direction. Please help me</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1678191491,"post_id":75657675,"comment_id":133481984,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted more than **400** (four hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped. Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted more than <b>400</b> (four hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way you increase your chances of being helped. Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."},{"owner":{"account_id":15349625,"reputation":11,"user_id":15972573,"display_name":"Byakuran"},"score":0,"creation_date":1678251712,"post_id":75657675,"comment_id":133495171,"body_markdown":"I didn&#39;t post all of my code here, I post only the class that I think is relevant to my problem, I&#39;ll try to post minimal code anyway.","body":"I didn&#39;t post all of my code here, I post only the class that I think is relevant to my problem, I&#39;ll try to post minimal code anyway."}],"owner":{"account_id":15349625,"reputation":11,"user_id":15972573,"display_name":"Byakuran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678158157,"creation_date":1678158157,"question_id":75657675,"body_markdown":"I added a new child node in firebase &quot;datastock&quot; and give a unique view id in android so that the data will be uploaded exactly to their respective child node. Unfortunately, it still swaps the data for &quot;dataImage&quot; into &quot;dataStock&quot;, \r\n[![firebase data](https://i.stack.imgur.com/6KUo1.png)]\r\n\r\nEven though I already check many times for the possibility that their view id&#39;s was swapped. Tell me what I&#39;m missing out, here&#39;s my code:\r\n\r\nactivity_upload.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;ScrollView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.UploadActivity&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        app:cardCornerRadius=&quot;30dp&quot;\r\n        app:cardElevation=&quot;20dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:padding=&quot;20dp&quot;\r\n            android:background=&quot;@drawable/lavender_border&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Upload Data&quot;\r\n                android:textSize=&quot;30sp&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:textColor=&quot;@color/lavender&quot;/&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;200dp&quot;\r\n                android:src=&quot;@drawable/uploadimg&quot;\r\n                android:id=&quot;@+id/uploadImage&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:scaleType=&quot;fitXY&quot;/&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:id=&quot;@+id/uploadTopic&quot;\r\n                android:background=&quot;@drawable/lavender_border&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:padding=&quot;16dp&quot;\r\n                android:hint=&quot;Enter product name&quot;\r\n                android:inputType=&quot;text&quot;\r\n                android:gravity=&quot;start|center_vertical&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:textColor=&quot;@color/lavender&quot;/&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;80dp&quot;\r\n                android:id=&quot;@+id/uploadDesc&quot;\r\n                android:background=&quot;@drawable/lavender_border&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:padding=&quot;16dp&quot;\r\n                android:hint=&quot;Enter description&quot;\r\n                android:gravity=&quot;start|center_vertical&quot;\r\n                android:inputType=&quot;textMultiLine&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:textColor=&quot;@color/lavender&quot;/&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:id=&quot;@+id/uploadLang&quot;\r\n                android:background=&quot;@drawable/lavender_border&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:padding=&quot;16dp&quot;\r\n                android:hint=&quot;Enter price&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:gravity=&quot;start|center_vertical&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:textColor=&quot;@color/lavender&quot;/&gt;\r\n\r\n            &lt;EditText\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:id=&quot;@+id/uploadStock&quot;\r\n                android:background=&quot;@drawable/lavender_border&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:padding=&quot;16dp&quot;\r\n                android:hint=&quot;Enter stock&quot;\r\n                android:inputType=&quot;number&quot;\r\n                android:gravity=&quot;start|center_vertical&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:textColor=&quot;@color/lavender&quot;/&gt;\r\n\r\n            &lt;Button\r\n                android:layout_width=&quot;300dp&quot;\r\n                android:layout_height=&quot;60dp&quot;\r\n                android:text=&quot;Save&quot;\r\n                android:id=&quot;@+id/saveButton&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                app:cornerRadius = &quot;20dp&quot;/&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n&lt;/ScrollView&gt;\r\n```\r\n\r\nUploadActivity.java\r\n\r\n```\r\npackage com.example.admin_app;\r\n\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.Activity;\r\nimport android.app.AlertDialog;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\n\r\nimport java.text.DateFormat;\r\nimport java.util.Calendar;\r\nimport java.util.Currency;\r\n\r\npublic class UploadActivity extends AppCompatActivity {\r\n\r\n    ImageView uploadImage;\r\n    Button saveButton;\r\n    EditText uploadTopic, uploadDesc, uploadLang, uploadStock;\r\n    String imageURL;\r\n    Uri uri;\r\n    //CurrencyEditText uploadLang;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_upload);\r\n        \r\n        uploadImage = findViewById(R.id.uploadImage);\r\n        uploadDesc = findViewById(R.id.uploadDesc);\r\n        uploadTopic = findViewById(R.id.uploadTopic);\r\n        uploadLang = findViewById(R.id.uploadLang);\r\n        uploadStock = findViewById(R.id.uploadStock);\r\n        saveButton = findViewById(R.id.saveButton);\r\n\r\n        ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(),\r\n                new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                    @Override\r\n                    public void onActivityResult(ActivityResult result) {\r\n                        if (result.getResultCode() == Activity.RESULT_OK){\r\n                            Intent data = result.getData();\r\n                            assert data != null;\r\n                            uri = data.getData();\r\n                            uploadImage.setImageURI(uri);\r\n                        } else {\r\n                            Toast.makeText(UploadActivity.this, &quot;No Image Selected&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n\r\n        uploadImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent photoPicker = new Intent(Intent.ACTION_PICK);\r\n                photoPicker.setType(&quot;image/*&quot;);\r\n                activityResultLauncher.launch(photoPicker);\r\n            }\r\n        });\r\n\r\n        saveButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                saveData();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void saveData(){\r\n\r\n        StorageReference storageReference = FirebaseStorage.getInstance().getReference().child(&quot;Android Images&quot;)\r\n                .child(uri.getLastPathSegment());\r\n\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(UploadActivity.this);\r\n        builder.setCancelable(false);\r\n        builder.setView(R.layout.progress_layout);\r\n        AlertDialog dialog = builder.create();\r\n        dialog.show();\r\n\r\n        storageReference.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n\r\n                Task&lt;Uri&gt; uriTask = taskSnapshot.getStorage().getDownloadUrl();\r\n                while (!uriTask.isComplete());\r\n                Uri urlImage = uriTask.getResult();\r\n                imageURL = urlImage.toString();\r\n                uploadData();\r\n                dialog.dismiss();\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                dialog.dismiss();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void uploadData(){\r\n\r\n        String title = uploadTopic.getText().toString();\r\n        String desc = uploadDesc.getText().toString();\r\n        String lang = uploadLang.getText().toString();\r\n        String stock = uploadStock.getText().toString();\r\n\r\n        DataClass dataClass = new DataClass(title, desc, lang, stock, imageURL);\r\n\r\n        //We are changing the child from title to currentDate,\r\n        // because we will be updating title as well and it may affect child value.\r\n\r\n        String currentDate = DateFormat.getDateTimeInstance().format(Calendar.getInstance().getTime());\r\n\r\n        FirebaseDatabase.getInstance().getReference(&quot;Products&quot;).child(currentDate)\r\n                .setValue(dataClass).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                        if (task.isSuccessful()){\r\n                            Toast.makeText(UploadActivity.this, &quot;Saved&quot;, Toast.LENGTH_SHORT).show();\r\n                            finish();\r\n                        }\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(UploadActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n}\r\n```\r\n\r\nMyAdapter.java\r\n\r\n```\r\npackage com.example.admin_app;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport com.bumptech.glide.Glide;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; {\r\n\r\n    private Context context;\r\n    private List&lt;DataClass&gt; dataList;\r\n\r\n    public MyAdapter(Context context, List&lt;DataClass&gt; dataList) {\r\n        this.context = context;\r\n        this.dataList = dataList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.recycler_item, parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        Glide.with(context).load(dataList.get(position).getDataImage()).into(holder.recImage);\r\n        holder.recTitle.setText(dataList.get(position).getDataTitle());\r\n        holder.recDesc.setText(dataList.get(position).getDataDesc());\r\n        holder.recLang.setText(dataList.get(position).getDataLang());\r\n        holder.recStock.setText(dataList.get(position).getDataStock());\r\n        holder.recCard.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(context, DetailActivity.class);\r\n                intent.putExtra(&quot;Image&quot;, dataList.get(holder.getAdapterPosition()).getDataImage());\r\n                intent.putExtra(&quot;Description&quot;, dataList.get(holder.getAdapterPosition()).getDataDesc());\r\n                intent.putExtra(&quot;Name&quot;, dataList.get(holder.getAdapterPosition()).getDataTitle());\r\n                intent.putExtra(&quot;Key&quot;,dataList.get(holder.getAdapterPosition()).getKey());\r\n                intent.putExtra(&quot;Price&quot;, dataList.get(holder.getAdapterPosition()).getDataLang());\r\n                intent.putExtra(&quot;Stock&quot;, dataList.get(holder.getAdapterPosition()).getDataStock());\r\n                context.startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return dataList.size();\r\n    }\r\n\r\n    public void searchDataList(ArrayList&lt;DataClass&gt; searchList){\r\n        dataList = searchList;\r\n        notifyDataSetChanged();\r\n    }\r\n}\r\n\r\nclass MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n    ImageView recImage;\r\n    TextView recTitle, recDesc, recLang, recStock;\r\n    CardView recCard;\r\n\r\n    public MyViewHolder(@NonNull View itemView) {\r\n        super(itemView);\r\n\r\n        recImage = itemView.findViewById(R.id.recImage);\r\n        recCard = itemView.findViewById(R.id.recCard);\r\n        recDesc = itemView.findViewById(R.id.recDesc);\r\n        recLang = itemView.findViewById(R.id.recPriority);\r\n        recTitle = itemView.findViewById(R.id.recTitle);\r\n        recStock = itemView.findViewById(R.id.recStock);\r\n    }\r\n}\r\n```\r\n\r\nDataClass.java\r\n\r\n```\r\npackage com.example.admin_app;\r\n\r\n\r\npublic class DataClass {\r\n\r\n    private String dataTitle;\r\n    private String dataDesc;\r\n    private String dataLang;\r\n    private String dataImage;\r\n    private String dataStock;\r\n    private String key;\r\n\r\n    public String getKey() {\r\n        return key;\r\n    }\r\n\r\n    public void setKey(String key) {\r\n        this.key = key;\r\n    }\r\n\r\n    public String getDataTitle() {\r\n        return dataTitle;\r\n    }\r\n\r\n    public String getDataDesc() {\r\n        return dataDesc;\r\n    }\r\n\r\n    public String getDataLang() {\r\n        return dataLang;\r\n    }\r\n    public String getDataStock() {\r\n        return dataStock;\r\n    }\r\n\r\n    public String getDataImage() {\r\n        return dataImage;\r\n    }\r\n\r\n    public DataClass(String dataTitle, String dataDesc, String dataLang, String dataImage, String dataStock) {\r\n        this.dataTitle = dataTitle;\r\n        this.dataDesc = dataDesc;\r\n        this.dataLang = dataLang;\r\n        this.dataImage = dataImage;\r\n        this.dataStock = dataStock;\r\n    }\r\n    public DataClass(){\r\n\r\n    }\r\n}\r\n```","title":"Why my data uploaded for &quot;dataImage&quot; swaps to &quot;dataStock&quot; in firebase","body":"<p>I added a new child node in firebase &quot;datastock&quot; and give a unique view id in android so that the data will be uploaded exactly to their respective child node. Unfortunately, it still swaps the data for &quot;dataImage&quot; into &quot;dataStock&quot;,\n[<img src=\"https://i.stack.imgur.com/6KUo1.png\" alt=\"firebase data\" />]</p>\n<p>Even though I already check many times for the possibility that their view id's was swapped. Tell me what I'm missing out, here's my code:</p>\n<p>activity_upload.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;ScrollView\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.UploadActivity&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;50dp&quot;\n        android:layout_marginEnd=&quot;20dp&quot;\n        android:layout_marginStart=&quot;20dp&quot;\n        app:cardCornerRadius=&quot;30dp&quot;\n        app:cardElevation=&quot;20dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layout_gravity=&quot;center_horizontal&quot;\n            android:padding=&quot;20dp&quot;\n            android:background=&quot;@drawable/lavender_border&quot;&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:text=&quot;Upload Data&quot;\n                android:textSize=&quot;30sp&quot;\n                android:textAlignment=&quot;center&quot;\n                android:textColor=&quot;@color/lavender&quot;/&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;200dp&quot;\n                android:src=&quot;@drawable/uploadimg&quot;\n                android:id=&quot;@+id/uploadImage&quot;\n                android:layout_marginTop=&quot;10dp&quot;\n                android:scaleType=&quot;fitXY&quot;/&gt;\n\n            &lt;EditText\n                android:layout_width=&quot;300dp&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:id=&quot;@+id/uploadTopic&quot;\n                android:background=&quot;@drawable/lavender_border&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:padding=&quot;16dp&quot;\n                android:hint=&quot;Enter product name&quot;\n                android:inputType=&quot;text&quot;\n                android:gravity=&quot;start|center_vertical&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:textColor=&quot;@color/lavender&quot;/&gt;\n\n            &lt;EditText\n                android:layout_width=&quot;300dp&quot;\n                android:layout_height=&quot;80dp&quot;\n                android:id=&quot;@+id/uploadDesc&quot;\n                android:background=&quot;@drawable/lavender_border&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:padding=&quot;16dp&quot;\n                android:hint=&quot;Enter description&quot;\n                android:gravity=&quot;start|center_vertical&quot;\n                android:inputType=&quot;textMultiLine&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:textColor=&quot;@color/lavender&quot;/&gt;\n\n            &lt;EditText\n                android:layout_width=&quot;300dp&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:id=&quot;@+id/uploadLang&quot;\n                android:background=&quot;@drawable/lavender_border&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:padding=&quot;16dp&quot;\n                android:hint=&quot;Enter price&quot;\n                android:inputType=&quot;number&quot;\n                android:gravity=&quot;start|center_vertical&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:textColor=&quot;@color/lavender&quot;/&gt;\n\n            &lt;EditText\n                android:layout_width=&quot;300dp&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:id=&quot;@+id/uploadStock&quot;\n                android:background=&quot;@drawable/lavender_border&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:padding=&quot;16dp&quot;\n                android:hint=&quot;Enter stock&quot;\n                android:inputType=&quot;number&quot;\n                android:gravity=&quot;start|center_vertical&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:textColor=&quot;@color/lavender&quot;/&gt;\n\n            &lt;Button\n                android:layout_width=&quot;300dp&quot;\n                android:layout_height=&quot;60dp&quot;\n                android:text=&quot;Save&quot;\n                android:id=&quot;@+id/saveButton&quot;\n                android:textSize=&quot;18sp&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:layout_gravity=&quot;center&quot;\n                app:cornerRadius = &quot;20dp&quot;/&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n<p>UploadActivity.java</p>\n<pre><code>package com.example.admin_app;\n\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.Activity;\nimport android.app.AlertDialog;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.storage.FirebaseStorage;\nimport com.google.firebase.storage.StorageReference;\nimport com.google.firebase.storage.UploadTask;\n\nimport java.text.DateFormat;\nimport java.util.Calendar;\nimport java.util.Currency;\n\npublic class UploadActivity extends AppCompatActivity {\n\n    ImageView uploadImage;\n    Button saveButton;\n    EditText uploadTopic, uploadDesc, uploadLang, uploadStock;\n    String imageURL;\n    Uri uri;\n    //CurrencyEditText uploadLang;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_upload);\n        \n        uploadImage = findViewById(R.id.uploadImage);\n        uploadDesc = findViewById(R.id.uploadDesc);\n        uploadTopic = findViewById(R.id.uploadTopic);\n        uploadLang = findViewById(R.id.uploadLang);\n        uploadStock = findViewById(R.id.uploadStock);\n        saveButton = findViewById(R.id.saveButton);\n\n        ActivityResultLauncher&lt;Intent&gt; activityResultLauncher = registerForActivityResult(\n                new ActivityResultContracts.StartActivityForResult(),\n                new ActivityResultCallback&lt;ActivityResult&gt;() {\n                    @Override\n                    public void onActivityResult(ActivityResult result) {\n                        if (result.getResultCode() == Activity.RESULT_OK){\n                            Intent data = result.getData();\n                            assert data != null;\n                            uri = data.getData();\n                            uploadImage.setImageURI(uri);\n                        } else {\n                            Toast.makeText(UploadActivity.this, &quot;No Image Selected&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                }\n        );\n\n        uploadImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent photoPicker = new Intent(Intent.ACTION_PICK);\n                photoPicker.setType(&quot;image/*&quot;);\n                activityResultLauncher.launch(photoPicker);\n            }\n        });\n\n        saveButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                saveData();\n            }\n        });\n    }\n\n    public void saveData(){\n\n        StorageReference storageReference = FirebaseStorage.getInstance().getReference().child(&quot;Android Images&quot;)\n                .child(uri.getLastPathSegment());\n\n        AlertDialog.Builder builder = new AlertDialog.Builder(UploadActivity.this);\n        builder.setCancelable(false);\n        builder.setView(R.layout.progress_layout);\n        AlertDialog dialog = builder.create();\n        dialog.show();\n\n        storageReference.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n\n                Task&lt;Uri&gt; uriTask = taskSnapshot.getStorage().getDownloadUrl();\n                while (!uriTask.isComplete());\n                Uri urlImage = uriTask.getResult();\n                imageURL = urlImage.toString();\n                uploadData();\n                dialog.dismiss();\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                dialog.dismiss();\n            }\n        });\n    }\n\n    public void uploadData(){\n\n        String title = uploadTopic.getText().toString();\n        String desc = uploadDesc.getText().toString();\n        String lang = uploadLang.getText().toString();\n        String stock = uploadStock.getText().toString();\n\n        DataClass dataClass = new DataClass(title, desc, lang, stock, imageURL);\n\n        //We are changing the child from title to currentDate,\n        // because we will be updating title as well and it may affect child value.\n\n        String currentDate = DateFormat.getDateTimeInstance().format(Calendar.getInstance().getTime());\n\n        FirebaseDatabase.getInstance().getReference(&quot;Products&quot;).child(currentDate)\n                .setValue(dataClass).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                        if (task.isSuccessful()){\n                            Toast.makeText(UploadActivity.this, &quot;Saved&quot;, Toast.LENGTH_SHORT).show();\n                            finish();\n                        }\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(UploadActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n}\n</code></pre>\n<p>MyAdapter.java</p>\n<pre><code>package com.example.admin_app;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport com.bumptech.glide.Glide;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport androidx.annotation.NonNull;\nimport androidx.cardview.widget.CardView;\nimport androidx.recyclerview.widget.RecyclerView;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyViewHolder&gt; {\n\n    private Context context;\n    private List&lt;DataClass&gt; dataList;\n\n    public MyAdapter(Context context, List&lt;DataClass&gt; dataList) {\n        this.context = context;\n        this.dataList = dataList;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.recycler_item, parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        Glide.with(context).load(dataList.get(position).getDataImage()).into(holder.recImage);\n        holder.recTitle.setText(dataList.get(position).getDataTitle());\n        holder.recDesc.setText(dataList.get(position).getDataDesc());\n        holder.recLang.setText(dataList.get(position).getDataLang());\n        holder.recStock.setText(dataList.get(position).getDataStock());\n        holder.recCard.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(context, DetailActivity.class);\n                intent.putExtra(&quot;Image&quot;, dataList.get(holder.getAdapterPosition()).getDataImage());\n                intent.putExtra(&quot;Description&quot;, dataList.get(holder.getAdapterPosition()).getDataDesc());\n                intent.putExtra(&quot;Name&quot;, dataList.get(holder.getAdapterPosition()).getDataTitle());\n                intent.putExtra(&quot;Key&quot;,dataList.get(holder.getAdapterPosition()).getKey());\n                intent.putExtra(&quot;Price&quot;, dataList.get(holder.getAdapterPosition()).getDataLang());\n                intent.putExtra(&quot;Stock&quot;, dataList.get(holder.getAdapterPosition()).getDataStock());\n                context.startActivity(intent);\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return dataList.size();\n    }\n\n    public void searchDataList(ArrayList&lt;DataClass&gt; searchList){\n        dataList = searchList;\n        notifyDataSetChanged();\n    }\n}\n\nclass MyViewHolder extends RecyclerView.ViewHolder{\n\n    ImageView recImage;\n    TextView recTitle, recDesc, recLang, recStock;\n    CardView recCard;\n\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        recImage = itemView.findViewById(R.id.recImage);\n        recCard = itemView.findViewById(R.id.recCard);\n        recDesc = itemView.findViewById(R.id.recDesc);\n        recLang = itemView.findViewById(R.id.recPriority);\n        recTitle = itemView.findViewById(R.id.recTitle);\n        recStock = itemView.findViewById(R.id.recStock);\n    }\n}\n</code></pre>\n<p>DataClass.java</p>\n<pre><code>package com.example.admin_app;\n\n\npublic class DataClass {\n\n    private String dataTitle;\n    private String dataDesc;\n    private String dataLang;\n    private String dataImage;\n    private String dataStock;\n    private String key;\n\n    public String getKey() {\n        return key;\n    }\n\n    public void setKey(String key) {\n        this.key = key;\n    }\n\n    public String getDataTitle() {\n        return dataTitle;\n    }\n\n    public String getDataDesc() {\n        return dataDesc;\n    }\n\n    public String getDataLang() {\n        return dataLang;\n    }\n    public String getDataStock() {\n        return dataStock;\n    }\n\n    public String getDataImage() {\n        return dataImage;\n    }\n\n    public DataClass(String dataTitle, String dataDesc, String dataLang, String dataImage, String dataStock) {\n        this.dataTitle = dataTitle;\n        this.dataDesc = dataDesc;\n        this.dataLang = dataLang;\n        this.dataImage = dataImage;\n        this.dataStock = dataStock;\n    }\n    public DataClass(){\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","openfeign"],"comments":[{"owner":{"account_id":4527593,"reputation":23,"user_id":3678975,"display_name":"Adi"},"score":0,"creation_date":1679098918,"post_id":75657620,"comment_id":133666194,"body_markdown":"The way I was trying to fail the feign client call was by not switching on the server on the other side of the call which was wrong. Error decoder works when the http call itself is not successful and not when the call itself is not made in the first place","body":"The way I was trying to fail the feign client call was by not switching on the server on the other side of the call which was wrong. Error decoder works when the http call itself is not successful and not when the call itself is not made in the first place"}],"owner":{"account_id":4527593,"reputation":23,"user_id":3678975,"display_name":"Adi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678157277,"creation_date":1678157277,"question_id":75657620,"body_markdown":"I am trying to introduce a custom decoder in order to throw appropriate exceptions rather than the generic `Feign.Retryable` exception and for that I wanted a custom decoder. Following the documentation: https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#springencoder-configuration:~:text=Spring%20Cloud%20OpenFeign%20does%20not%20provide%20the%20following%20beans%20by%20default%20for%20feign%2C%20but%20still%20looks%20up%20beans%20of%20these%20types%20from%20the%20application%20context%20to%20create%20the%20feign%20client%3A, I have the following classes:\r\n\r\nAdded the config class\r\n\r\n```\r\n@FeignClient(\r\n    value = &quot;rateservice&quot;,\r\n    url = &quot;${rateservice.api.baseurl}&quot;,\r\n    configuration = CustomFeignConfig.class)\r\npublic interface RateClient {\r\n  @RequestMapping(method = RequestMethod.POST, value = &quot;/calculatedrates&quot;)\r\n  Rate calculateRate(RateRequest request);\r\n\r\n  @RequestMapping(method = RequestMethod.POST, value = &quot;/overrides&quot;)\r\n  RateOverrideResponse createRateOverride(RateOverrideRequest rateOverrideRequest);\r\n}\r\n```\r\n\r\nConfig class\r\n\r\n```\r\n@RequiredArgsConstructor\r\n@Configuration\r\npublic class CustomFeignConfig {\r\n\r\n  private final CustomErrorDecoder customErrorDecoder;\r\n  @Bean\r\n  public ErrorDecoder errorDecoder(){\r\n    return customErrorDecoder;\r\n  }\r\n\r\nImplementation of the custom error decoder\r\n@Component\r\n@Slf4j\r\npublic class CustomErrorDecoder implements ErrorDecoder {\r\n  @Override\r\n  public Exception decode(String methodKey, Response response) {\r\n    log.info(response.toString()); // For now just making it hit the breakpoint\r\n    return new RuntimeException();\r\n  }\r\n}\r\n```\r\n\r\nHowever, I see the customErrorDecoder not coming into effect.\r\n\r\nI set a breakpoint in the error-decoder and it wasn&#39;t getting hit when I intentionally tried to fail the feign client call. Thanks you for the help in advance. ","title":"Custom configuration not taken into effect for feign client using @FeignClient","body":"<p>I am trying to introduce a custom decoder in order to throw appropriate exceptions rather than the generic <code>Feign.Retryable</code> exception and for that I wanted a custom decoder. Following the documentation: <a href=\"https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#springencoder-configuration:%7E:text=Spring%20Cloud%20OpenFeign%20does%20not%20provide%20the%20following%20beans%20by%20default%20for%20feign%2C%20but%20still%20looks%20up%20beans%20of%20these%20types%20from%20the%20application%20context%20to%20create%20the%20feign%20client%3A\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-openfeign/docs/current/reference/html/#springencoder-configuration:~:text=Spring%20Cloud%20OpenFeign%20does%20not%20provide%20the%20following%20beans%20by%20default%20for%20feign%2C%20but%20still%20looks%20up%20beans%20of%20these%20types%20from%20the%20application%20context%20to%20create%20the%20feign%20client%3A</a>, I have the following classes:</p>\n<p>Added the config class</p>\n<pre><code>@FeignClient(\n    value = &quot;rateservice&quot;,\n    url = &quot;${rateservice.api.baseurl}&quot;,\n    configuration = CustomFeignConfig.class)\npublic interface RateClient {\n  @RequestMapping(method = RequestMethod.POST, value = &quot;/calculatedrates&quot;)\n  Rate calculateRate(RateRequest request);\n\n  @RequestMapping(method = RequestMethod.POST, value = &quot;/overrides&quot;)\n  RateOverrideResponse createRateOverride(RateOverrideRequest rateOverrideRequest);\n}\n</code></pre>\n<p>Config class</p>\n<pre><code>@RequiredArgsConstructor\n@Configuration\npublic class CustomFeignConfig {\n\n  private final CustomErrorDecoder customErrorDecoder;\n  @Bean\n  public ErrorDecoder errorDecoder(){\n    return customErrorDecoder;\n  }\n\nImplementation of the custom error decoder\n@Component\n@Slf4j\npublic class CustomErrorDecoder implements ErrorDecoder {\n  @Override\n  public Exception decode(String methodKey, Response response) {\n    log.info(response.toString()); // For now just making it hit the breakpoint\n    return new RuntimeException();\n  }\n}\n</code></pre>\n<p>However, I see the customErrorDecoder not coming into effect.</p>\n<p>I set a breakpoint in the error-decoder and it wasn't getting hit when I intentionally tried to fail the feign client call. Thanks you for the help in advance.</p>\n"},{"tags":["java","rest-assured","rest-assured-jsonpath"],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678155800,"creation_date":1678155800,"answer_id":75657520,"question_id":75650300,"body_markdown":"You could put the key inside single quote `&#39;&#39;`\r\n\r\n```java\r\nresponse.body().jsonPath().get(&quot;&#39;hydra:member&#39;&quot;);\r\n```","title":"Error in extracting json response properties of hydra:collection using RestAssured Java","body":"<p>You could put the key inside single quote <code>''</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>response.body().jsonPath().get(&quot;'hydra:member'&quot;);\n</code></pre>\n"}],"owner":{"account_id":4917533,"reputation":131,"user_id":3961068,"accept_rate":75,"display_name":"Oreliya Fernando"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75657520,"answer_count":1,"score":0,"last_activity_date":1678155800,"creation_date":1678102062,"question_id":75650300,"body_markdown":"I&#39;m extracting MailTM GET /domains API properties and need to extract the `hydra:member` from the following API response.\r\n\r\n    {\r\n    &quot;@context&quot;: &quot;/contexts/Domain&quot;,\r\n    &quot;@id&quot;: &quot;/domains&quot;,\r\n    &quot;@type&quot;: &quot;hydra:Collection&quot;,\r\n    &quot;hydra:member&quot;: [\r\n        {\r\n            &quot;@id&quot;: &quot;/domains/63d9a7067f7658e92f217bdd&quot;,\r\n            &quot;@type&quot;: &quot;Domain&quot;,\r\n            &quot;id&quot;: &quot;63d9a7067f7658e92f217bdd&quot;,\r\n            &quot;domain&quot;: &quot;eurokool.com&quot;,\r\n            &quot;isActive&quot;: true,\r\n            &quot;isPrivate&quot;: false,\r\n            &quot;createdAt&quot;: &quot;2023-02-01T00:00:00+00:00&quot;,\r\n            &quot;updatedAt&quot;: &quot;2023-02-01T00:00:00+00:00&quot;\r\n        }\r\n    ],\r\n    &quot;hydra:totalItems&quot;: 1\r\n}\r\n\r\nI used JsonPath to extract the values from the response. \r\n\r\n    RestAssured.baseURI = &quot;https://api.mail.tm&quot;;\r\n    \r\n        Response response = given()\r\n                        .when()\r\n                        .get(&quot;/domains&quot;)\r\n                        .then()\r\n                        .extract().response();  \r\n          \r\n        response.body().jsonPath().get(&quot;hydra:member&quot;);\r\n\r\nI can extract the other properties using JsonPath like `@context`, `@type`. But when I&#39;m extracting the `hydra:member`, I&#39;m getting the following error.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FYsGP.png","title":"Error in extracting json response properties of hydra:collection using RestAssured Java","body":"<p>I'm extracting MailTM GET /domains API properties and need to extract the <code>hydra:member</code> from the following API response.</p>\n<pre><code>{\n&quot;@context&quot;: &quot;/contexts/Domain&quot;,\n&quot;@id&quot;: &quot;/domains&quot;,\n&quot;@type&quot;: &quot;hydra:Collection&quot;,\n&quot;hydra:member&quot;: [\n    {\n        &quot;@id&quot;: &quot;/domains/63d9a7067f7658e92f217bdd&quot;,\n        &quot;@type&quot;: &quot;Domain&quot;,\n        &quot;id&quot;: &quot;63d9a7067f7658e92f217bdd&quot;,\n        &quot;domain&quot;: &quot;eurokool.com&quot;,\n        &quot;isActive&quot;: true,\n        &quot;isPrivate&quot;: false,\n        &quot;createdAt&quot;: &quot;2023-02-01T00:00:00+00:00&quot;,\n        &quot;updatedAt&quot;: &quot;2023-02-01T00:00:00+00:00&quot;\n    }\n],\n&quot;hydra:totalItems&quot;: 1\n</code></pre>\n<p>}</p>\n<p>I used JsonPath to extract the values from the response.</p>\n<pre><code>RestAssured.baseURI = &quot;https://api.mail.tm&quot;;\n\n    Response response = given()\n                    .when()\n                    .get(&quot;/domains&quot;)\n                    .then()\n                    .extract().response();  \n      \n    response.body().jsonPath().get(&quot;hydra:member&quot;);\n</code></pre>\n<p>I can extract the other properties using JsonPath like <code>@context</code>, <code>@type</code>. But when I'm extracting the <code>hydra:member</code>, I'm getting the following error.</p>\n<p><a href=\"https://i.stack.imgur.com/FYsGP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FYsGP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","build","jar"],"comments":[{"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"score":0,"creation_date":1678155837,"post_id":75657480,"comment_id":133474985,"body_markdown":"@life888888 I think so ... It seems that `maven-shade-plugin` is what I need. I will check it out. Thak you so much!","body":"@life888888 I think so ... It seems that <code>maven-shade-plugin</code> is what I need. I will check it out. Thak you so much!"}],"owner":{"account_id":4206618,"reputation":808,"user_id":4180447,"accept_rate":47,"display_name":"tarekahf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678155862,"answer_count":0,"score":0,"last_activity_date":1678155197,"creation_date":1678155197,"question_id":75657480,"body_markdown":"I added the following Jackson dataformat dependency to be able to serialize/deserialize Java POJO to/from XML:\r\n```\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.12.7&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\n\r\nI am building a component that will introduce changes to a deployed instance and usually I am expected to generate one or two JAR files. After I added the above dependency, I noticed that I have to add the following JAR files to the classpath of the main deployed instance so that it works:\r\n\r\n 1. jackson-annotations-2.14.2.jar\r\n 2. jackson-core-2.14.2.jar\r\n 3. jackson-databind-2.14.2.jar\r\n 4. jackson-dataformat-xml-2.12.7.jar\r\n 5. woodstox-core-6.2.4.jar\r\n 7. stax2-api-4.2.1.jar\r\n 8. jackson-module-jaxb-annotations-2.12.7.jar\r\n\r\nIn addition to the above, I have to generate the JAR file for the newly developed classes. I am using the following section in `pom.xml` for this purpose:\r\n\r\n```\r\n\t&lt;plugin&gt;\r\n\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;final&lt;/id&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;jar&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;classifier&gt;&lt;/classifier&gt;\r\n\t\t\t\t\t&lt;finalName&gt;NewJARFileName&lt;/finalName&gt;\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;com\\path\\to\\java\\classes1\\**&lt;/include&gt;\r\n\t\t\t\t\t\t&lt;include&gt;com\\path\\to\\java\\classes2\\**&lt;/include&gt;\r\n\t\t\t\t\t\t...\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;**/*.properties&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n```\r\n\r\nI am manually copying the above files to the lib folder of the deployed instance and I modified the classpath accordingly. Everything is working file, however, I&#39;m trying to find a way to combine the new 7 JAR files with the JAR file I am building into 1 or 2 files during the build process to simplify the deployment process.\r\n\r\nI appreciate your help.","title":"How to combine the JAR dependencies of jackson-dataformat-xml and newly developed classes in one JAR file","body":"<p>I added the following Jackson dataformat dependency to be able to serialize/deserialize Java POJO to/from XML:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;version&gt;2.12.7&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I am building a component that will introduce changes to a deployed instance and usually I am expected to generate one or two JAR files. After I added the above dependency, I noticed that I have to add the following JAR files to the classpath of the main deployed instance so that it works:</p>\n<ol>\n<li>jackson-annotations-2.14.2.jar</li>\n<li>jackson-core-2.14.2.jar</li>\n<li>jackson-databind-2.14.2.jar</li>\n<li>jackson-dataformat-xml-2.12.7.jar</li>\n<li>woodstox-core-6.2.4.jar</li>\n<li>stax2-api-4.2.1.jar</li>\n<li>jackson-module-jaxb-annotations-2.12.7.jar</li>\n</ol>\n<p>In addition to the above, I have to generate the JAR file for the newly developed classes. I am using the following section in <code>pom.xml</code> for this purpose:</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;final&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;jar&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;configuration&gt;\n                    &lt;classifier&gt;&lt;/classifier&gt;\n                    &lt;finalName&gt;NewJARFileName&lt;/finalName&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;com\\path\\to\\java\\classes1\\**&lt;/include&gt;\n                        &lt;include&gt;com\\path\\to\\java\\classes2\\**&lt;/include&gt;\n                        ...\n                    &lt;/includes&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;**/*.properties&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                    &lt;archive&gt;\n                        &lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p>I am manually copying the above files to the lib folder of the deployed instance and I modified the classpath accordingly. Everything is working file, however, I'm trying to find a way to combine the new 7 JAR files with the JAR file I am building into 1 or 2 files during the build process to simplify the deployment process.</p>\n<p>I appreciate your help.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1505251244,"post_id":46185469,"comment_id":79333805,"body_markdown":"well a solution without dirty hackarounds would be a private method with a `boolean` parameter for returning the same value. Then your public methods would call that one (Since you&#39;re attempting to look for a self-caller). Outside of that, you&#39;re looking at reading the stack.","body":"well a solution without dirty hackarounds would be a private method with a <code>boolean</code> parameter for returning the same value. Then your public methods would call that one (Since you&#39;re attempting to look for a self-caller). Outside of that, you&#39;re looking at reading the stack."},{"owner":{"account_id":6272697,"reputation":591,"user_id":4876432,"accept_rate":60,"display_name":"Nick Resnick"},"score":0,"creation_date":1560437018,"post_id":46185469,"comment_id":99744098,"body_markdown":"Does anyone know how to do this in scala?","body":"Does anyone know how to do this in scala?"}],"answers":[{"tags":[],"owner":{"account_id":10899779,"reputation":7224,"user_id":8012379,"display_name":"Indra Basak"},"down_vote_count":5,"up_vote_count":16,"is_accepted":true,"score":11,"last_activity_date":1584320534,"creation_date":1505251912,"answer_id":46185629,"question_id":46185469,"body_markdown":"You should use **PowerMock** if you want `Foo` to return the same instance of `Bar` when you call `doSomething` method on any instance of `Foo`. Here&#39;s an example:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(Foo.class)\r\n    public class FooMockAllInstanceTest {\r\n    \r\n        @Test\r\n        public void testMockInstanceofObjectCreation() throws Exception {\r\n            Bar mockBar = PowerMockito.mock(Bar.class);\r\n            when(mockBar.sayHello()).thenReturn(&quot;Hi John!&quot;);\r\n            PowerMockito.whenNew(Bar.class)\r\n                    .withNoArguments()\r\n                    .thenReturn(mockBar);\r\n    \r\n            Foo myFooOne = new Foo();\r\n            assertEquals(mockBar,  myFooOne.doSomething(&quot;Jane&quot;));\r\n    \r\n            Foo myFooTwo = new Foo();\r\n            assertEquals(mockBar,  myFooTwo.doSomething(&quot;Sarah&quot;));\r\n    \r\n            Baz bazOne = new Baz();\r\n            assertEquals(mockBar, bazOne.doSomething(&quot;Sam&quot;));\r\n    \r\n            Baz bazTwo = new Baz();\r\n            assertEquals(mockBar, bazTwo.doSomething(&quot;Nina&quot;));\r\n        }\r\n    }\r\n\r\nThis example will return the same `Bar` object even when `Baz` is called. Here&#39;s the `Baz` class,\r\n\r\n    public class Baz {\r\n    \r\n        public Bar doSomething(String name) {\r\n            Foo foo = new Foo();\r\n            return foo.doSomething(name);\r\n        }\r\n    }\r\n\r\n**Update 2**\r\n\r\nThere&#39;s another slightly better way to test with PowerMock. Here it&#39;s,\r\n\r\n    @Test\r\n    public void testStubbingMethod() throws Exception {\r\n        Bar mockBar = PowerMockito.mock(Bar.class);\r\n        when(mockBar.sayHello()).thenReturn(&quot;Hi John!&quot;);\r\n\r\n        PowerMockito.stub(PowerMockito.method(Foo.class, &quot;doSomething&quot;,\r\n                String.class)).toReturn(mockBar);\r\n\r\n        Foo myFooOne = new Foo();\r\n        assertEquals(mockBar, myFooOne.doSomething(&quot;Jane&quot;));\r\n\r\n        Foo myFooTwo = new Foo();\r\n        assertEquals(mockBar, myFooTwo.doSomething(&quot;Sarah&quot;));\r\n\r\n        Baz bazOne = new Baz();\r\n        assertEquals(mockBar, bazOne.doSomething(&quot;Sam&quot;));\r\n\r\n        Baz bazTwo = new Baz();\r\n        assertEquals(mockBar, bazTwo.doSomething(&quot;Nina&quot;));\r\n    }","title":"Mockito: mock instance method for all instances of a class","body":"<p>You should use <strong>PowerMock</strong> if you want <code>Foo</code> to return the same instance of <code>Bar</code> when you call <code>doSomething</code> method on any instance of <code>Foo</code>. Here's an example:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(Foo.class)\npublic class FooMockAllInstanceTest {\n\n    @Test\n    public void testMockInstanceofObjectCreation() throws Exception {\n        Bar mockBar = PowerMockito.mock(Bar.class);\n        when(mockBar.sayHello()).thenReturn(\"Hi John!\");\n        PowerMockito.whenNew(Bar.class)\n                .withNoArguments()\n                .thenReturn(mockBar);\n\n        Foo myFooOne = new Foo();\n        assertEquals(mockBar,  myFooOne.doSomething(\"Jane\"));\n\n        Foo myFooTwo = new Foo();\n        assertEquals(mockBar,  myFooTwo.doSomething(\"Sarah\"));\n\n        Baz bazOne = new Baz();\n        assertEquals(mockBar, bazOne.doSomething(\"Sam\"));\n\n        Baz bazTwo = new Baz();\n        assertEquals(mockBar, bazTwo.doSomething(\"Nina\"));\n    }\n}\n</code></pre>\n\n<p>This example will return the same <code>Bar</code> object even when <code>Baz</code> is called. Here's the <code>Baz</code> class,</p>\n\n<pre><code>public class Baz {\n\n    public Bar doSomething(String name) {\n        Foo foo = new Foo();\n        return foo.doSomething(name);\n    }\n}\n</code></pre>\n\n<p><strong>Update 2</strong></p>\n\n<p>There's another slightly better way to test with PowerMock. Here it's,</p>\n\n<pre><code>@Test\npublic void testStubbingMethod() throws Exception {\n    Bar mockBar = PowerMockito.mock(Bar.class);\n    when(mockBar.sayHello()).thenReturn(\"Hi John!\");\n\n    PowerMockito.stub(PowerMockito.method(Foo.class, \"doSomething\",\n            String.class)).toReturn(mockBar);\n\n    Foo myFooOne = new Foo();\n    assertEquals(mockBar, myFooOne.doSomething(\"Jane\"));\n\n    Foo myFooTwo = new Foo();\n    assertEquals(mockBar, myFooTwo.doSomething(\"Sarah\"));\n\n    Baz bazOne = new Baz();\n    assertEquals(mockBar, bazOne.doSomething(\"Sam\"));\n\n    Baz bazTwo = new Baz();\n    assertEquals(mockBar, bazTwo.doSomething(\"Nina\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678154919,"creation_date":1678154919,"answer_id":75657461,"question_id":46185469,"body_markdown":"I found this page to tell &quot;How to mock construction of new objects&quot;\r\n\r\nhttps://github.com/powermock/powermock/wiki/MockConstructor#example\r\n\r\n```\r\n// Class to be tested and need mock File object\r\n\r\npublic class PersistenceManager {\r\n\r\n\tpublic boolean createDirectoryStructure(String directoryPath) {\r\n\t\tFile directory = new File(directoryPath);\r\n\r\n\t\tif (directory.exists()) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;\\&quot;&quot; + directoryPath + &quot;\\&quot; already exists.&quot;);\r\n\t\t}\r\n\r\n\t\treturn directory.mkdirs();\r\n\t}\r\n}\r\n```\r\n\r\n```\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.powermock.core.classloader.annotations.PrepareForTest;\r\nimport org.powermock.modules.junit4.PowerMockRunner;\r\n\r\nimport java.io.File;\r\n\r\nimport static org.easymock.EasyMock.expect;\r\nimport static org.junit.Assert.assertTrue;\r\nimport static org.powermock.api.easymock.PowerMock.*;\r\n\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest( PersistenceManager.class )\r\npublic class PersistenceManagerTest {\r\n\r\n\t@Test\r\n\tpublic void testCreateDirectoryStructure_ok() throws Exception {\r\n\t\tfinal String path = &quot;directoryPath&quot;;\r\n\t\tFile fileMock = createMock(File.class);\r\n\r\n\t\tPersistenceManager tested = new PersistenceManager();\r\n\r\n\t\texpectNew(File.class, path).andReturn(fileMock);\r\n\r\n\t\texpect(fileMock.exists()).andReturn(false);\r\n\t\texpect(fileMock.mkdirs()).andReturn(true);\r\n\r\n\t\treplay(fileMock, File.class);\r\n\r\n\t\tassertTrue(tested.createDirectoryStructure(path));\r\n\r\n\t\tverify(fileMock, File.class);\r\n\t}\r\n}\r\n```","title":"Mockito: mock instance method for all instances of a class","body":"<p>I found this page to tell &quot;How to mock construction of new objects&quot;</p>\n<p><a href=\"https://github.com/powermock/powermock/wiki/MockConstructor#example\" rel=\"nofollow noreferrer\">https://github.com/powermock/powermock/wiki/MockConstructor#example</a></p>\n<pre><code>// Class to be tested and need mock File object\n\npublic class PersistenceManager {\n\n    public boolean createDirectoryStructure(String directoryPath) {\n        File directory = new File(directoryPath);\n\n        if (directory.exists()) {\n            throw new IllegalArgumentException(&quot;\\&quot;&quot; + directoryPath + &quot;\\&quot; already exists.&quot;);\n        }\n\n        return directory.mkdirs();\n    }\n}\n</code></pre>\n<pre><code>import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\nimport java.io.File;\n\nimport static org.easymock.EasyMock.expect;\nimport static org.junit.Assert.assertTrue;\nimport static org.powermock.api.easymock.PowerMock.*;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest( PersistenceManager.class )\npublic class PersistenceManagerTest {\n\n    @Test\n    public void testCreateDirectoryStructure_ok() throws Exception {\n        final String path = &quot;directoryPath&quot;;\n        File fileMock = createMock(File.class);\n\n        PersistenceManager tested = new PersistenceManager();\n\n        expectNew(File.class, path).andReturn(fileMock);\n\n        expect(fileMock.exists()).andReturn(false);\n        expect(fileMock.mkdirs()).andReturn(true);\n\n        replay(fileMock, File.class);\n\n        assertTrue(tested.createDirectoryStructure(path));\n\n        verify(fileMock, File.class);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4529689,"reputation":745,"user_id":3680562,"accept_rate":88,"display_name":"ddolce"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42416,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":46185629,"answer_count":2,"score":29,"last_activity_date":1678154919,"creation_date":1505251097,"question_id":46185469,"body_markdown":"I&#39;m trying to stub an instance method of a particular class, so that when any instance of this `Foo` class calls this instance method `doSomething`, the same `object` is returned (see code below). However, mockito doesn&#39;t allow any matchers outside of verification or stubbing.\r\n\r\n    Bar object = new Bar();\r\n    given(any(Foo.class).doSomething(Arg.class)).willReturn(object);\r\n\r\nAnd in `Foo.class`:\r\n\r\n    Bar doSomething(Arg param) {\r\n        Bar bar = new Bar();\r\n        // Do something with bar\r\n        return bar;\r\n    }\r\n\r\nAny way I can achieve this goal with Mockito? Thanks!","title":"Mockito: mock instance method for all instances of a class","body":"<p>I'm trying to stub an instance method of a particular class, so that when any instance of this <code>Foo</code> class calls this instance method <code>doSomething</code>, the same <code>object</code> is returned (see code below). However, mockito doesn't allow any matchers outside of verification or stubbing.</p>\n\n<pre><code>Bar object = new Bar();\ngiven(any(Foo.class).doSomething(Arg.class)).willReturn(object);\n</code></pre>\n\n<p>And in <code>Foo.class</code>:</p>\n\n<pre><code>Bar doSomething(Arg param) {\n    Bar bar = new Bar();\n    // Do something with bar\n    return bar;\n}\n</code></pre>\n\n<p>Any way I can achieve this goal with Mockito? Thanks!</p>\n"},{"tags":["java","saml","onelogin","opensaml"],"comments":[{"owner":{"account_id":5393216,"reputation":571,"user_id":4295123,"accept_rate":69,"display_name":"Ardit Meti"},"score":0,"creation_date":1677057375,"post_id":75529796,"comment_id":133260358,"body_markdown":"Signer.signObject(signature); why are you signing the signature here?","body":"Signer.signObject(signature); why are you signing the signature here?"},{"owner":{"account_id":16869080,"reputation":51,"user_id":12198033,"display_name":"Jess"},"score":0,"creation_date":1677066448,"post_id":75529796,"comment_id":133262875,"body_markdown":"Hi, thank you for the comment. I saw some code uses &quot;Signer.signObject(signature)&quot; and some uses &quot;Signer.signObject(assertion)&quot;. Using the former one, it passes the validation check. Should I use signObject(assertion) / signObject(response) though?","body":"Hi, thank you for the comment. I saw some code uses &quot;Signer.signObject(signature)&quot; and some uses &quot;Signer.signObject(assertion)&quot;. Using the former one, it passes the validation check. Should I use signObject(assertion) / signObject(response) though?"},{"owner":{"account_id":5393216,"reputation":571,"user_id":4295123,"accept_rate":69,"display_name":"Ardit Meti"},"score":0,"creation_date":1677067722,"post_id":75529796,"comment_id":133263265,"body_markdown":"you should sign the assertion and response if the idp is expecting them signed.","body":"you should sign the assertion and response if the idp is expecting them signed."},{"owner":{"account_id":16869080,"reputation":51,"user_id":12198033,"display_name":"Jess"},"score":0,"creation_date":1677068332,"post_id":75529796,"comment_id":133263450,"body_markdown":"Oh I am the IDP side by the way. I&#39;ll try signObject(assertion) and signObject(response)!","body":"Oh I am the IDP side by the way. I&#39;ll try signObject(assertion) and signObject(response)!"},{"owner":{"account_id":16869080,"reputation":51,"user_id":12198033,"display_name":"Jess"},"score":0,"creation_date":1677073321,"post_id":75529796,"comment_id":133265065,"body_markdown":"I tried changing Signer.signObject(signature) to signObject(response); then I get the error message &quot;The method signObject(Signature) in the type Signer is not applicable for the arguments (Response)&quot;. So Signer.signObject(signature) is the correct way I guess.","body":"I tried changing Signer.signObject(signature) to signObject(response); then I get the error message &quot;The method signObject(Signature) in the type Signer is not applicable for the arguments (Response)&quot;. So Signer.signObject(signature) is the correct way I guess."},{"owner":{"account_id":3525262,"reputation":3260,"user_id":2946563,"display_name":"Andrew K."},"score":0,"creation_date":1677073880,"post_id":75529796,"comment_id":133265229,"body_markdown":"So... It&#39;s not common to sign both **unless** you are encrypting the entire assertion, signing it, then signing the wrapping response. Has your Service Provider said that they require both to be signed? Because if not, then I would suggest signing the overall response, and leave it at that.","body":"So... It&#39;s not common to sign both <b>unless</b> you are encrypting the entire assertion, signing it, then signing the wrapping response. Has your Service Provider said that they require both to be signed? Because if not, then I would suggest signing the overall response, and leave it at that."},{"owner":{"account_id":16869080,"reputation":51,"user_id":12198033,"display_name":"Jess"},"score":0,"creation_date":1677082223,"post_id":75529796,"comment_id":133268168,"body_markdown":"Yeah the first time I tried just signing assertion only cuz the sp spec requires the signed assertion. It kinda worked that I could sign in /w signed assertion but the problem is that I cannot get to the beginning service. SP said that the beginning service might need signed response. So I&#39;m trying to sign both now. [Excel/Word/Teams etc &gt; Azure AD (SP) &gt; IDP &gt; Azure AD (SP) &gt; should go back to the service(Excel/Word/Teams) but it has lost the appid somewhere that it goes to office.com page] Oh I should encrypt assertion &gt; sign assertion &gt; sign response you mean? I&#39;ll try that!","body":"Yeah the first time I tried just signing assertion only cuz the sp spec requires the signed assertion. It kinda worked that I could sign in /w signed assertion but the problem is that I cannot get to the beginning service. SP said that the beginning service might need signed response. So I&#39;m trying to sign both now. [Excel/Word/Teams etc &gt; Azure AD (SP) &gt; IDP &gt; Azure AD (SP) &gt; should go back to the service(Excel/Word/Teams) but it has lost the appid somewhere that it goes to office.com page] Oh I should encrypt assertion &gt; sign assertion &gt; sign response you mean? I&#39;ll try that!"},{"owner":{"account_id":16869080,"reputation":51,"user_id":12198033,"display_name":"Jess"},"score":0,"creation_date":1677107064,"post_id":75529796,"comment_id":133274917,"body_markdown":"I tried encrypting the assertion using this tool (https://www.samltool.com/encrypt.php) RSA_1_5 &amp; AES128_CBC then I realized that the &quot;saml:Assertion&quot; is changed to &quot;saml:AssertionEncrypted&quot;. When I use the tool&#39;s(https://www.samltool.com/sign_response.php) &quot;Sign Message and Assertion&quot; though, the Assertion is still &quot;saml:Assertion&quot;. Am I misunderstanding what your point? (I still tried signing the assertion anyway, but it doesn&#39;t spit any result; I guess it can only take raw assertion).","body":"I tried encrypting the assertion using this tool (<a href=\"https://www.samltool.com/encrypt.php\" rel=\"nofollow noreferrer\">samltool.com/encrypt.php</a>) RSA_1_5 &amp; AES128_CBC then I realized that the &quot;saml:Assertion&quot; is changed to &quot;saml:AssertionEncrypted&quot;. When I use the tool&#39;s(<a href=\"https://www.samltool.com/sign_response.php\" rel=\"nofollow noreferrer\">samltool.com/sign_response.php</a>) &quot;Sign Message and Assertion&quot; though, the Assertion is still &quot;saml:Assertion&quot;. Am I misunderstanding what your point? (I still tried signing the assertion anyway, but it doesn&#39;t spit any result; I guess it can only take raw assertion)."}],"answers":[{"tags":[],"owner":{"account_id":16869080,"reputation":51,"user_id":12198033,"display_name":"Jess"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678154496,"creation_date":1678154496,"answer_id":75657425,"question_id":75529796,"body_markdown":"Ok it was the line break in assertion that was making this whole issue.\r\nI just replaced the special characters and it magically works so well now.. wow....\r\nThe tones of time for nothing... wow.....\r\n\r\n    astStr = astStr.replace(&quot;&amp;#13;&quot;, &quot;&quot;).replace(&quot;&amp;#xD;&quot;, &quot;&quot;);","title":"SAML - How to Correctly Sign both Response(Message) and Assertion","body":"<p>Ok it was the line break in assertion that was making this whole issue.\nI just replaced the special characters and it magically works so well now.. wow....\nThe tones of time for nothing... wow.....</p>\n<pre><code>astStr = astStr.replace(&quot;&amp;#13;&quot;, &quot;&quot;).replace(&quot;&amp;#xD;&quot;, &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":16869080,"reputation":51,"user_id":12198033,"display_name":"Jess"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75657425,"answer_count":1,"score":0,"last_activity_date":1678154496,"creation_date":1677053392,"question_id":75529796,"body_markdown":"I&#39;m using Java8, and I tried both OpenSAML(v3) and OneLogin but none of them worked.\r\n\r\n- Validation Check Tool : https://samltool.io/\r\n- Signing Assertion Only : Valid\r\n- Signing Response Only : Valid\r\n- Signing Both : Response Signature Invalid\r\n\r\nUsing [this site][1] I tried\r\n- Sign Both : Valid\r\n- Sign Assertion &gt; Copy then Sign Response : Valid\r\n- Sign Assertion via Code &gt; Sign Response : Response Signature Invalid\r\n\r\nResponse Signature Inavlid Message looks like this *&quot;XMLJS0013: Cryptographic error: Invalid digest for uri &#39;$REFERENCE_URI&#39;. Calculated digest is $CALCULATED_DIGESTVALUE but the xml to validate supplies digest $MY_DIGESTVALUE&quot;*\r\n\r\nWhen I manually replace $MY_DIGESTVALUE with $CALCULATED_DIGESTVALUE, the error message changes to *&quot;The calculated signature does not match the signature of the message.&quot;*\r\n\r\n```java\r\n/* Methods */\r\n// For OneLogin\r\nprivate Object stringTOobject(String samlStr) throws Exception {\r\n\tDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n\tfactory.setNamespaceAware(true);\r\n\tDocumentBuilder builder = factory.newDocumentBuilder();\r\n\tDocument document = builder.parse(new ByteArrayInputStream(samlStr.getBytes(&quot;UTF-8&quot;)));  \r\n\tElement samlElement = document.getDocumentElement();\r\n\tUnmarshaller unmarshaller = XMLObjectProviderRegistrySupport.getUnmarshallerFactory().getUnmarshaller(samlElement);\r\n\treturn unmarshaller.unmarshall(samlElement);\r\n}\r\n// For OpenSAML\r\nprivate &lt;T&gt; T createObject(Class&lt;T&gt; clazz) throws Exception {\r\n\tQName defaultElementName = (QName) clazz.getDeclaredField(&quot;DEFAULT_ELEMENT_NAME&quot;).get(null);\r\n\tObject object = SAMLutil.getSAMLBuilder().getBuilder(defaultElementName).buildObject(defaultElementName);\r\n\treturn clazz.cast(object);\r\n}\r\nprivate KeyInfo getKeyInfo(BasicX509Credential basicCredential, HashMap reqMap) throws Exception {\r\n\tKeyInfo result = null;\r\n\tKeyName keyName = createObject(KeyName.class);\r\n\tkeyName.setValue($KeyID);\r\n\tX509KeyInfoGeneratorFactory kiFactory = new X509KeyInfoGeneratorFactory();\r\n\tkiFactory.setEmitEntityCertificate(true);\r\n\tresult = kiFactory.newInstance().generate(basicCredential);\r\n\tresult.getKeyNames().add(keyName);\r\n\t// To remove linebreaks in Certificate\r\n\tresult.getX509Datas().get(0).getX509Certificates().get(0).setValue($X509CertificateString);\r\n\treturn result;\r\n}\r\nprivate Signature getSig(HashMap reqMap) throws Exception {\r\n\tSignature result = createObject(Signature.class);\r\n\tBasicX509Credential basicCredential = getBasicX509Credential($X509CertificateString);\r\n\tbasicCredential.setPrivateKey($PrivateKey);\r\n\tKeyInfo keyInfo = getKeyInfo(basicCredential, reqMap);\r\n\tresult.setKeyInfo(keyInfo);\r\n\tresult.setCanonicalizationAlgorithm(SignatureConstants.ALGO_ID_C14N_EXCL_OMIT_COMMENTS);\r\n\tresult.setSignatureAlgorithm(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA1);\r\n\tresult.setSigningCredential(basicCredential);\r\n\treturn result;\r\n}\r\n\r\n/* OneLogin */\r\n// 1. Sign Assertion &gt; Turn signed string back to Assertion\r\nAssertionMarshaller aMarshaller = new AssertionMarshaller();\r\nString astStr = Util.addSign(aMarshaller.marshall(assertion), privateKey, cert, Constants.RSA_SHA1);\r\nassertion = (Assertion) stringTOobject(astStr);\r\n// 2. Add Assertion into Response\r\nresponse.getAssertions().add(assertion);\r\n// 3. Sign Response &gt; Turn signed string back to Response\r\nResponseMarshaller marshaller = new ResponseMarshaller();\r\nString resStr = Util.addSign(marshaller.marshall(response), privateKey, cert, Constants.RSA_SHA1);\r\nresponse = (Response) stringTOobject(resStr);\r\n// 4. To XMLString\r\nString samlStr = SerializeSupport.nodeToString(marshaller.marshall(response));\r\n\r\n/* OpenSAML */\r\n// 1. Sign Assertion\r\nSignature signature = getSig(reqMap);\r\nassertion.setSignature(signature);\r\n((SAMLObjectContentReference)signature.getContentReferences().get(0)).setDigestAlgorithm(SignatureConstants.ALGO_ID_DIGEST_SHA1);\r\nAssertionMarshaller aMarshaller = new AssertionMarshaller();\r\naMarshaller.marshall(assertion);\r\nSigner.signObject(signature);\r\n// 2. Add Assertion into Response\r\nresponse.getAssertions().add(assertion);\r\n// 3. Sign Response\r\nSignature signature = getSig(reqMap);\r\nresponse.setSignature(signature);\r\n((SAMLObjectContentReference)signature.getContentReferences().get(0)).setDigestAlgorithm(SignatureConstants.ALGO_ID_DIGEST_SHA1);\r\nResponseMarshaller marshaller = new ResponseMarshaller();\r\nmarshaller.marshall(response);\r\nSigner.signObject(signature);\r\n// 4. To XMLString\r\nString samlStr = SerializeSupport.nodeToString(marshaller.marshall(response));\r\n```\r\n\r\nWhat am I missing?\r\n\r\nAny help would be really appreciated.\r\n\r\n\r\n  [1]: https://www.samltool.com/sign_response.php","title":"SAML - How to Correctly Sign both Response(Message) and Assertion","body":"<p>I'm using Java8, and I tried both OpenSAML(v3) and OneLogin but none of them worked.</p>\n<ul>\n<li>Validation Check Tool : <a href=\"https://samltool.io/\" rel=\"nofollow noreferrer\">https://samltool.io/</a></li>\n<li>Signing Assertion Only : Valid</li>\n<li>Signing Response Only : Valid</li>\n<li>Signing Both : Response Signature Invalid</li>\n</ul>\n<p>Using <a href=\"https://www.samltool.com/sign_response.php\" rel=\"nofollow noreferrer\">this site</a> I tried</p>\n<ul>\n<li>Sign Both : Valid</li>\n<li>Sign Assertion &gt; Copy then Sign Response : Valid</li>\n<li>Sign Assertion via Code &gt; Sign Response : Response Signature Invalid</li>\n</ul>\n<p>Response Signature Inavlid Message looks like this <em>&quot;XMLJS0013: Cryptographic error: Invalid digest for uri '$REFERENCE_URI'. Calculated digest is $CALCULATED_DIGESTVALUE but the xml to validate supplies digest $MY_DIGESTVALUE&quot;</em></p>\n<p>When I manually replace $MY_DIGESTVALUE with $CALCULATED_DIGESTVALUE, the error message changes to <em>&quot;The calculated signature does not match the signature of the message.&quot;</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>/* Methods */\n// For OneLogin\nprivate Object stringTOobject(String samlStr) throws Exception {\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n    factory.setNamespaceAware(true);\n    DocumentBuilder builder = factory.newDocumentBuilder();\n    Document document = builder.parse(new ByteArrayInputStream(samlStr.getBytes(&quot;UTF-8&quot;)));  \n    Element samlElement = document.getDocumentElement();\n    Unmarshaller unmarshaller = XMLObjectProviderRegistrySupport.getUnmarshallerFactory().getUnmarshaller(samlElement);\n    return unmarshaller.unmarshall(samlElement);\n}\n// For OpenSAML\nprivate &lt;T&gt; T createObject(Class&lt;T&gt; clazz) throws Exception {\n    QName defaultElementName = (QName) clazz.getDeclaredField(&quot;DEFAULT_ELEMENT_NAME&quot;).get(null);\n    Object object = SAMLutil.getSAMLBuilder().getBuilder(defaultElementName).buildObject(defaultElementName);\n    return clazz.cast(object);\n}\nprivate KeyInfo getKeyInfo(BasicX509Credential basicCredential, HashMap reqMap) throws Exception {\n    KeyInfo result = null;\n    KeyName keyName = createObject(KeyName.class);\n    keyName.setValue($KeyID);\n    X509KeyInfoGeneratorFactory kiFactory = new X509KeyInfoGeneratorFactory();\n    kiFactory.setEmitEntityCertificate(true);\n    result = kiFactory.newInstance().generate(basicCredential);\n    result.getKeyNames().add(keyName);\n    // To remove linebreaks in Certificate\n    result.getX509Datas().get(0).getX509Certificates().get(0).setValue($X509CertificateString);\n    return result;\n}\nprivate Signature getSig(HashMap reqMap) throws Exception {\n    Signature result = createObject(Signature.class);\n    BasicX509Credential basicCredential = getBasicX509Credential($X509CertificateString);\n    basicCredential.setPrivateKey($PrivateKey);\n    KeyInfo keyInfo = getKeyInfo(basicCredential, reqMap);\n    result.setKeyInfo(keyInfo);\n    result.setCanonicalizationAlgorithm(SignatureConstants.ALGO_ID_C14N_EXCL_OMIT_COMMENTS);\n    result.setSignatureAlgorithm(SignatureConstants.ALGO_ID_SIGNATURE_RSA_SHA1);\n    result.setSigningCredential(basicCredential);\n    return result;\n}\n\n/* OneLogin */\n// 1. Sign Assertion &gt; Turn signed string back to Assertion\nAssertionMarshaller aMarshaller = new AssertionMarshaller();\nString astStr = Util.addSign(aMarshaller.marshall(assertion), privateKey, cert, Constants.RSA_SHA1);\nassertion = (Assertion) stringTOobject(astStr);\n// 2. Add Assertion into Response\nresponse.getAssertions().add(assertion);\n// 3. Sign Response &gt; Turn signed string back to Response\nResponseMarshaller marshaller = new ResponseMarshaller();\nString resStr = Util.addSign(marshaller.marshall(response), privateKey, cert, Constants.RSA_SHA1);\nresponse = (Response) stringTOobject(resStr);\n// 4. To XMLString\nString samlStr = SerializeSupport.nodeToString(marshaller.marshall(response));\n\n/* OpenSAML */\n// 1. Sign Assertion\nSignature signature = getSig(reqMap);\nassertion.setSignature(signature);\n((SAMLObjectContentReference)signature.getContentReferences().get(0)).setDigestAlgorithm(SignatureConstants.ALGO_ID_DIGEST_SHA1);\nAssertionMarshaller aMarshaller = new AssertionMarshaller();\naMarshaller.marshall(assertion);\nSigner.signObject(signature);\n// 2. Add Assertion into Response\nresponse.getAssertions().add(assertion);\n// 3. Sign Response\nSignature signature = getSig(reqMap);\nresponse.setSignature(signature);\n((SAMLObjectContentReference)signature.getContentReferences().get(0)).setDigestAlgorithm(SignatureConstants.ALGO_ID_DIGEST_SHA1);\nResponseMarshaller marshaller = new ResponseMarshaller();\nmarshaller.marshall(response);\nSigner.signObject(signature);\n// 4. To XMLString\nString samlStr = SerializeSupport.nodeToString(marshaller.marshall(response));\n</code></pre>\n<p>What am I missing?</p>\n<p>Any help would be really appreciated.</p>\n"},{"tags":["java","reactjs","react-native","react-context"],"owner":{"account_id":6492529,"reputation":4028,"user_id":5026136,"accept_rate":33,"display_name":"Elliptica"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678154226,"creation_date":1678154226,"question_id":75657405,"body_markdown":"I want to send events from my Java code to my React Native code. I&#39;m following the guide here: https://reactnative.dev/docs/native-modules-android#sending-events-to-javascript\r\n\r\nHowever, I keep getting the error `Tried to access a JS module before the React instance was fully set up&quot;`. I added in a check for `reactContext.hasActiveCatalystInstance()` and that&#39;s always false. Yet I have a valid ReactApplicationContext and my react code is running. I need `hasActiveCatalystInstance()` to be true. \r\n\r\nMy class extends `ReactContextBaseJavaModule` and the constructor takes in the context like so: `MyClass(ReactApplicationContext context)`.\r\n\r\nWhy is `hasActiveCatalystInstance()` always false and how can I rectify that?","title":"hasActiveCatalystInstance is always false","body":"<p>I want to send events from my Java code to my React Native code. I'm following the guide here: <a href=\"https://reactnative.dev/docs/native-modules-android#sending-events-to-javascript\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/native-modules-android#sending-events-to-javascript</a></p>\n<p>However, I keep getting the error <code>Tried to access a JS module before the React instance was fully set up&quot;</code>. I added in a check for <code>reactContext.hasActiveCatalystInstance()</code> and that's always false. Yet I have a valid ReactApplicationContext and my react code is running. I need <code>hasActiveCatalystInstance()</code> to be true.</p>\n<p>My class extends <code>ReactContextBaseJavaModule</code> and the constructor takes in the context like so: <code>MyClass(ReactApplicationContext context)</code>.</p>\n<p>Why is <code>hasActiveCatalystInstance()</code> always false and how can I rectify that?</p>\n"},{"tags":["java","spring","postgresql","project-reactor","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678154189,"creation_date":1678154189,"answer_id":75657401,"question_id":75617596,"body_markdown":"1. Check the syntax of your SQL query\r\n2. Use the correct parameter name: In your SQL query, you are using a placeholder $1, which suggests that you are using positional parameters. However, your method parameter name is ```s```. You need to use the correct parameter name in your SQL query, either by changing the placeholder to ```:s``` or by using positional parameters and specifying the correct parameter index.\r\n\r\nbelow is code snippet\r\n\r\n```\r\n\r\n  @Query(value = &quot;SELECT * from stock_names  where stock_namee=:s&quot;)\r\n  Flux&lt;Stock&gt; myCustomSearchFor(@Param(&quot;s&quot;)String s);\r\n\r\n```","title":"Spring ReactiveCrudRepository @Query with PostgreSql throws PostgresqlBadGrammarException: [42P01]","body":"<ol>\n<li>Check the syntax of your SQL query</li>\n<li>Use the correct parameter name: In your SQL query, you are using a placeholder $1, which suggests that you are using positional parameters. However, your method parameter name is <code>s</code>. You need to use the correct parameter name in your SQL query, either by changing the placeholder to <code>:s</code> or by using positional parameters and specifying the correct parameter index.</li>\n</ol>\n<p>below is code snippet</p>\n<pre><code>\n  @Query(value = &quot;SELECT * from stock_names  where stock_namee=:s&quot;)\n  Flux&lt;Stock&gt; myCustomSearchFor(@Param(&quot;s&quot;)String s);\n\n</code></pre>\n"}],"owner":{"account_id":10965552,"reputation":329,"user_id":8057394,"display_name":"Csongi77"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678154189,"creation_date":1677771164,"question_id":75617596,"body_markdown":"Given a ReactiveCrudRepository with specified @Query which **passes unit test flawlessly using MariaDB** backend **but throws exception using PostgreSQL**. \r\nOther Spring repository queries succeeds (findById, findByStockName). The structure is the same on both databases.\r\nWhat can cause the error? Any ideas?\r\nAny help is appreciated! \r\n\r\nThe entity (Stock.java):\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(schema = &quot;experiment_schema&quot;, name = &quot;stock_names&quot;)\r\npublic class Stock {\r\n\r\n  public Stock(String stockName) {\r\n    this.stockName = stockName;\r\n  }\r\n\r\n  @Id\r\n  Integer id;\r\n\r\n  @Length(min = 3, max = 3)\r\n  @Pattern(regexp = &quot;^([A-Z]){3}$&quot;)\r\n  @Column(value = &quot;stock_namee&quot;)\r\n  String stockName;\r\n}\r\n```\r\nThe repository:\r\n```\r\nimport net.sytes.csongi.springreactivetest.entities.Stock;\r\nimport org.springframework.data.r2dbc.repository.Query;\r\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\nimport reactor.core.publisher.Flux;\r\n\r\n@Repository\r\ninterface StockRepository extends ReactiveCrudRepository&lt;Stock,Integer&gt; {\r\n\r\n// this query fails using PostgreSQL.\r\n// also tried @Query(value = &quot;SELECT * from stock_names where stock_namee=:$1&quot;) with same result\r\n  @Query(value = &quot;SELECT * from stock_names  where stock_namee=:s&quot;)\r\n  Flux&lt;Stock&gt; myCustomSearchFor(String s);\r\n}\r\n```\r\nThe service:\r\n```\r\nimport jakarta.validation.ConstraintViolation;\r\nimport jakarta.validation.ConstraintViolationException;\r\nimport jakarta.validation.Validator;\r\nimport net.sytes.csongi.springreactivetest.entities.Stock;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport java.util.Set;\r\n\r\n@Service\r\npublic class StockService {\r\n\r\n  @Autowired\r\n  private StockRepository repository;\r\n  @Autowired\r\n  private Validator validator;\r\n\r\n  public Mono&lt;Stock&gt; save(Stock stockToSave) {\r\n    Set&lt;ConstraintViolation&lt;Stock&gt;&gt; constraintValidations = validator.validate(stockToSave);\r\n    if (constraintValidations.isEmpty())\r\n      return repository.save(stockToSave);\r\n    throw new ConstraintViolationException(&quot;The following errors occured: &quot;, constraintValidations);\r\n  }\r\n\r\n  public Mono&lt;Void&gt; deleteAll() {\r\n    return repository.deleteAll();\r\n  }\r\n\r\n  public Flux&lt;Stock&gt; findStockByName(String stockName) {\r\n    return repository.myCustomSearchFor(stockName);\r\n  }\r\n}\r\n```\r\nThe test that succeeds/fails on MariaDB/PostgreSQL:\r\n```\r\n\r\nimport jakarta.validation.ConstraintViolationException;\r\nimport net.sytes.csongi.springreactivetest.entities.Stock;\r\nimport net.sytes.csongi.springreactivetest.repositories.StockService;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.DisplayName;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\n@SpringBootTest\r\npublic class StockServiceTest {\r\n\r\n  private static final String VALID_STOCK_NAME = &quot;EDE&quot;;\r\n\r\n  @Autowired\r\n  private StockService stockService;\r\n  private Stock validStock;\r\n\r\n\r\n  @BeforeEach\r\n  public void setup() {\r\n    validStock = new Stock(VALID_STOCK_NAME);\r\n    stockService.deleteAll().block();\r\n  }\r\n// ...\r\n  @Test\r\n  @DisplayName(&quot;Find by stock name should work&quot;)\r\n  public void findByStockNameShouldWork() {\r\n    stockService.save(validStock).block();\r\n    List&lt;Stock&gt; loaded = stockService.findStockByName(VALID_STOCK_NAME).collectList().block();\r\n    assertEquals(1,loaded.size());\r\n  }\r\n}\r\n```\r\nThe application.yml:\r\n```\r\nspring:\r\n main:\r\n  web-application-type: reactive\r\n r2dbc:\r\n  url: r2dbc:postgresql://localhost:4444/product_db \r\n#  url: r2dbc:mariadb://localhost:7777/experiment_schema -&gt; succeeds\r\n  password: dev_xxx\r\n  username: dev_xxx\r\n data:\r\n  r2dbc:\r\n   repositories:\r\n    enabled: true\r\nlogging:\r\n level:\r\n  root: info\r\n```\r\nThe error message:\r\n```\r\nexecuteMany; bad SQL grammar [SELECT * from stock_names  where stock_namee=$1]\r\norg.springframework.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar [SELECT * from stock_names  where stock_namee=$1]\r\n\tat app//org.springframework.r2dbc.connection.ConnectionFactoryUtils.convertR2dbcException(ConnectionFactoryUtils.java:243)\r\n\tat app//org.springframework.r2dbc.core.DefaultDatabaseClient.lambda$inConnectionMany$8(DefaultDatabaseClient.java:151)\r\n\tat app//reactor.core.publisher.Flux.lambda$onErrorMap$28(Flux.java:7134)\r\n\tat app//reactor.core.publisher.Flux.lambda$onErrorResume$29(Flux.java:7187)\r\n\tat app//reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\r\n\tat app//reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.deferredError(FluxUsingWhen.java:398)\r\n\tat app//reactor.core.publisher.FluxUsingWhen$RollbackInner.onComplete(FluxUsingWhen.java:475)\r\n\tat app//reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2205)\r\n\tat app//reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\r\n\tat app//reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2205)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209)\r\n\tat app//reactor.pool.SimpleDequePool.maybeRecycleAndDrain(SimpleDequePool.java:531)\r\n\tat app//reactor.pool.SimpleDequePool$QueuePoolRecyclerInner.onComplete(SimpleDequePool.java:761)\r\n\tat app//reactor.core.publisher.Operators.complete(Operators.java:137)\r\n\tat app//reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\r\n\tat app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\r\n\tat app//reactor.pool.SimpleDequePool$QueuePoolRecyclerMono.subscribe(SimpleDequePool.java:873)\r\n\tat app//reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\r\n\tat app//reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\r\n\tat app//reactor.core.publisher.Operators.complete(Operators.java:137)\r\n\tat app//reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\r\n\tat app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\r\n\tat app//reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\r\n\tat app//reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89)\r\n\tat app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onComplete(FluxHandleFuseable.java:238)\r\n\tat app//reactor.core.publisher.MonoSupplier$MonoSupplierSubscription.request(MonoSupplier.java:148)\r\n\tat app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.request(FluxHandleFuseable.java:259)\r\n\tat app//reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onSubscribe(MonoIgnoreElements.java:72)\r\n\tat app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onSubscribe(FluxHandleFuseable.java:163)\r\n\tat app//reactor.core.publisher.MonoSupplier.subscribe(MonoSupplier.java:48)\r\n\tat app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\r\n\tat app//reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\r\n\tat app//reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\tat app//reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\tat app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\r\n\tat app//reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\tat app//reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)\r\n\tat app//reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\r\n\tat app//reactor.core.publisher.FluxFilter$FilterSubscriber.onError(FluxFilter.java:157)\r\n\tat app//reactor.core.publisher.FluxFilter$FilterConditionalSubscriber.onError(FluxFilter.java:291)\r\n\tat app//reactor.core.publisher.FluxMap$MapConditionalSubscriber.onError(FluxMap.java:265)\r\n\tat app//reactor.core.publisher.Operators.error(Operators.java:198)\r\n\tat app//reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\r\n\tat app//reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\r\n\tat app//reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\tat app//reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\tat app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\r\n\tat app//reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.onError(FluxUsingWhen.java:364)\r\n\tat app//reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:843)\r\n\tat app//reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:609)\r\n\tat app//reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:589)\r\n\tat app//reactor.core.publisher.FluxFlatMap$FlatMapMain.innerError(FluxFlatMap.java:864)\r\n\tat app//reactor.core.publisher.FluxFlatMap$FlatMapInner.onError(FluxFlatMap.java:991)\r\n\tat app//reactor.core.publisher.FluxHandle$HandleSubscriber.onError(FluxHandle.java:212)\r\n\tat app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)\r\n\tat app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:200)\r\n\tat app//reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337)\r\n\tat app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\r\n\tat app//reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854)\r\n\tat app//reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854)\r\n\tat app//io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onNext(FluxDiscardOnCancel.java:91)\r\n\tat app//reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:113)\r\n\tat app//reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:128)\r\n\tat app//reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:814)\r\n\tat app//reactor.core.publisher.FluxCreate$BufferAsyncSink.next(FluxCreate.java:739)\r\n\tat app//reactor.core.publisher.FluxCreate$SerializedFluxSink.next(FluxCreate.java:161)\r\n\tat app//io.r2dbc.postgresql.client.ReactorNettyClient$Conversation.emit(ReactorNettyClient.java:687)\r\n\tat app//io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.emit(ReactorNettyClient.java:939)\r\n\tat app//io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.onNext(ReactorNettyClient.java:813)\r\n\tat app//io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.onNext(ReactorNettyClient.java:719)\r\n\tat app//reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:128)\r\n\tat app//reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854)\r\n\tat app//reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)\r\n\tat app//reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)\r\n\tat app//reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:294)\r\n\tat app//reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:403)\r\n\tat app//reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:411)\r\n\tat app//reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\r\n\tat app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\r\n\tat app//io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\r\n\tat app//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat app//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n\tat app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat app//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat app//io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\r\n\tat app//io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\r\n\tat app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\r\n\tat app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base@18.0.2-ea/java.lang.Thread.run(Thread.java:833)\r\n\tSuppressed: java.lang.Exception: #block terminated with an error\r\n\t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\r\n\t\tat reactor.core.publisher.Mono.block(Mono.java:1710)\r\n\t\tat net.sytes.csongi.springreactivetest.StockServiceTest.findByStockNameShouldWork(StockServiceTest.java:74)\r\n\t\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\t\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\t\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\t\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\t\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\t\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\t\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\t\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\t\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\t\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\t\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\t\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\t\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\t\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\t\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: io.r2dbc.postgresql.ExceptionFactory$PostgresqlBadGrammarException: [42P01] relation &quot;stock_names&quot; does not exist\r\n\tat app//io.r2dbc.postgresql.ExceptionFactory.createException(ExceptionFactory.java:96)\r\n\tat app//io.r2dbc.postgresql.ExceptionFactory.createException(ExceptionFactory.java:65)\r\n\tat app//io.r2dbc.postgresql.ExceptionFactory.handleErrorResponse(ExceptionFactory.java:132)\r\n\tat app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:178)\r\n\t... 43 more\r\n\r\n```\r\nRelated gradle dependencies:\r\n```\r\ndependencies {\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-r2dbc&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    runtimeOnly &#39;org.postgresql:r2dbc-postgresql&#39;\r\n    testRuntimeOnly &#39;org.mariadb:r2dbc-mariadb:1.1.3&#39;\r\n    annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;io.projectreactor:reactor-test&#39;\r\n}\r\n```\r\n","title":"Spring ReactiveCrudRepository @Query with PostgreSql throws PostgresqlBadGrammarException: [42P01]","body":"<p>Given a ReactiveCrudRepository with specified @Query which <strong>passes unit test flawlessly using MariaDB</strong> backend <strong>but throws exception using PostgreSQL</strong>.\nOther Spring repository queries succeeds (findById, findByStockName). The structure is the same on both databases.\nWhat can cause the error? Any ideas?\nAny help is appreciated!</p>\n<p>The entity (Stock.java):</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(schema = &quot;experiment_schema&quot;, name = &quot;stock_names&quot;)\npublic class Stock {\n\n  public Stock(String stockName) {\n    this.stockName = stockName;\n  }\n\n  @Id\n  Integer id;\n\n  @Length(min = 3, max = 3)\n  @Pattern(regexp = &quot;^([A-Z]){3}$&quot;)\n  @Column(value = &quot;stock_namee&quot;)\n  String stockName;\n}\n</code></pre>\n<p>The repository:</p>\n<pre><code>import net.sytes.csongi.springreactivetest.entities.Stock;\nimport org.springframework.data.r2dbc.repository.Query;\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\nimport org.springframework.stereotype.Repository;\nimport reactor.core.publisher.Flux;\n\n@Repository\ninterface StockRepository extends ReactiveCrudRepository&lt;Stock,Integer&gt; {\n\n// this query fails using PostgreSQL.\n// also tried @Query(value = &quot;SELECT * from stock_names where stock_namee=:$1&quot;) with same result\n  @Query(value = &quot;SELECT * from stock_names  where stock_namee=:s&quot;)\n  Flux&lt;Stock&gt; myCustomSearchFor(String s);\n}\n</code></pre>\n<p>The service:</p>\n<pre><code>import jakarta.validation.ConstraintViolation;\nimport jakarta.validation.ConstraintViolationException;\nimport jakarta.validation.Validator;\nimport net.sytes.csongi.springreactivetest.entities.Stock;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\nimport java.util.Set;\n\n@Service\npublic class StockService {\n\n  @Autowired\n  private StockRepository repository;\n  @Autowired\n  private Validator validator;\n\n  public Mono&lt;Stock&gt; save(Stock stockToSave) {\n    Set&lt;ConstraintViolation&lt;Stock&gt;&gt; constraintValidations = validator.validate(stockToSave);\n    if (constraintValidations.isEmpty())\n      return repository.save(stockToSave);\n    throw new ConstraintViolationException(&quot;The following errors occured: &quot;, constraintValidations);\n  }\n\n  public Mono&lt;Void&gt; deleteAll() {\n    return repository.deleteAll();\n  }\n\n  public Flux&lt;Stock&gt; findStockByName(String stockName) {\n    return repository.myCustomSearchFor(stockName);\n  }\n}\n</code></pre>\n<p>The test that succeeds/fails on MariaDB/PostgreSQL:</p>\n<pre><code>\nimport jakarta.validation.ConstraintViolationException;\nimport net.sytes.csongi.springreactivetest.entities.Stock;\nimport net.sytes.csongi.springreactivetest.repositories.StockService;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport reactor.core.publisher.Mono;\n\nimport java.util.List;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\n@SpringBootTest\npublic class StockServiceTest {\n\n  private static final String VALID_STOCK_NAME = &quot;EDE&quot;;\n\n  @Autowired\n  private StockService stockService;\n  private Stock validStock;\n\n\n  @BeforeEach\n  public void setup() {\n    validStock = new Stock(VALID_STOCK_NAME);\n    stockService.deleteAll().block();\n  }\n// ...\n  @Test\n  @DisplayName(&quot;Find by stock name should work&quot;)\n  public void findByStockNameShouldWork() {\n    stockService.save(validStock).block();\n    List&lt;Stock&gt; loaded = stockService.findStockByName(VALID_STOCK_NAME).collectList().block();\n    assertEquals(1,loaded.size());\n  }\n}\n</code></pre>\n<p>The application.yml:</p>\n<pre><code>spring:\n main:\n  web-application-type: reactive\n r2dbc:\n  url: r2dbc:postgresql://localhost:4444/product_db \n#  url: r2dbc:mariadb://localhost:7777/experiment_schema -&gt; succeeds\n  password: dev_xxx\n  username: dev_xxx\n data:\n  r2dbc:\n   repositories:\n    enabled: true\nlogging:\n level:\n  root: info\n</code></pre>\n<p>The error message:</p>\n<pre><code>executeMany; bad SQL grammar [SELECT * from stock_names  where stock_namee=$1]\norg.springframework.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar [SELECT * from stock_names  where stock_namee=$1]\n    at app//org.springframework.r2dbc.connection.ConnectionFactoryUtils.convertR2dbcException(ConnectionFactoryUtils.java:243)\n    at app//org.springframework.r2dbc.core.DefaultDatabaseClient.lambda$inConnectionMany$8(DefaultDatabaseClient.java:151)\n    at app//reactor.core.publisher.Flux.lambda$onErrorMap$28(Flux.java:7134)\n    at app//reactor.core.publisher.Flux.lambda$onErrorResume$29(Flux.java:7187)\n    at app//reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\n    at app//reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.deferredError(FluxUsingWhen.java:398)\n    at app//reactor.core.publisher.FluxUsingWhen$RollbackInner.onComplete(FluxUsingWhen.java:475)\n    at app//reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2205)\n    at app//reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\n    at app//reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2205)\n    at app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209)\n    at app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:209)\n    at app//reactor.pool.SimpleDequePool.maybeRecycleAndDrain(SimpleDequePool.java:531)\n    at app//reactor.pool.SimpleDequePool$QueuePoolRecyclerInner.onComplete(SimpleDequePool.java:761)\n    at app//reactor.core.publisher.Operators.complete(Operators.java:137)\n    at app//reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\n    at app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\n    at app//reactor.pool.SimpleDequePool$QueuePoolRecyclerMono.subscribe(SimpleDequePool.java:873)\n    at app//reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n    at app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240)\n    at app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\n    at app//reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260)\n    at app//reactor.core.publisher.Operators.complete(Operators.java:137)\n    at app//reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\n    at app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\n    at app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\n    at app//reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\n    at app//reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n    at app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240)\n    at app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203)\n    at app//reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onComplete(MonoIgnoreElements.java:89)\n    at app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onComplete(FluxHandleFuseable.java:238)\n    at app//reactor.core.publisher.MonoSupplier$MonoSupplierSubscription.request(MonoSupplier.java:148)\n    at app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.request(FluxHandleFuseable.java:259)\n    at app//reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onSubscribe(MonoIgnoreElements.java:72)\n    at app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onSubscribe(FluxHandleFuseable.java:163)\n    at app//reactor.core.publisher.MonoSupplier.subscribe(MonoSupplier.java:48)\n    at app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\n    at app//reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)\n    at app//reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\n    at app//reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at app//reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n    at app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\n    at app//reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n    at app//reactor.core.publisher.MonoIgnoreElements$IgnoreElementsSubscriber.onError(MonoIgnoreElements.java:84)\n    at app//reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\n    at app//reactor.core.publisher.FluxFilter$FilterSubscriber.onError(FluxFilter.java:157)\n    at app//reactor.core.publisher.FluxFilter$FilterConditionalSubscriber.onError(FluxFilter.java:291)\n    at app//reactor.core.publisher.FluxMap$MapConditionalSubscriber.onError(FluxMap.java:265)\n    at app//reactor.core.publisher.Operators.error(Operators.java:198)\n    at app//reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\n    at app//reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\n    at app//reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at app//reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n    at app//reactor.core.publisher.Mono.subscribe(Mono.java:4485)\n    at app//reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.onError(FluxUsingWhen.java:364)\n    at app//reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:843)\n    at app//reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:609)\n    at app//reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:589)\n    at app//reactor.core.publisher.FluxFlatMap$FlatMapMain.innerError(FluxFlatMap.java:864)\n    at app//reactor.core.publisher.FluxFlatMap$FlatMapInner.onError(FluxFlatMap.java:991)\n    at app//reactor.core.publisher.FluxHandle$HandleSubscriber.onError(FluxHandle.java:212)\n    at app//reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:255)\n    at app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:200)\n    at app//reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337)\n    at app//reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107)\n    at app//reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854)\n    at app//reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854)\n    at app//io.r2dbc.postgresql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onNext(FluxDiscardOnCancel.java:91)\n    at app//reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onNext(FluxDoFinally.java:113)\n    at app//reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:128)\n    at app//reactor.core.publisher.FluxCreate$BufferAsyncSink.drain(FluxCreate.java:814)\n    at app//reactor.core.publisher.FluxCreate$BufferAsyncSink.next(FluxCreate.java:739)\n    at app//reactor.core.publisher.FluxCreate$SerializedFluxSink.next(FluxCreate.java:161)\n    at app//io.r2dbc.postgresql.client.ReactorNettyClient$Conversation.emit(ReactorNettyClient.java:687)\n    at app//io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.emit(ReactorNettyClient.java:939)\n    at app//io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.onNext(ReactorNettyClient.java:813)\n    at app//io.r2dbc.postgresql.client.ReactorNettyClient$BackendMessageSubscriber.onNext(ReactorNettyClient.java:719)\n    at app//reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:128)\n    at app//reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854)\n    at app//reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)\n    at app//reactor.core.publisher.FluxMap$MapConditionalSubscriber.onNext(FluxMap.java:224)\n    at app//reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:294)\n    at app//reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:403)\n    at app//reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:411)\n    at app//reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\n    at app//io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\n    at app//io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\n    at app//io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at app//io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at app//io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n    at app//io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at app//io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at app//io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\n    at app//io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\n    at app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\n    at app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base@18.0.2-ea/java.lang.Thread.run(Thread.java:833)\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99)\n        at reactor.core.publisher.Mono.block(Mono.java:1710)\n        at net.sytes.csongi.springreactivetest.StockServiceTest.findByStockNameShouldWork(StockServiceTest.java:74)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n        at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n        at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n        at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n        at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n        at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n        at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n        at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n        at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n        at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n        at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n        at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n        at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n        at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n        at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n        at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n        at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n        at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n        at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: io.r2dbc.postgresql.ExceptionFactory$PostgresqlBadGrammarException: [42P01] relation &quot;stock_names&quot; does not exist\n    at app//io.r2dbc.postgresql.ExceptionFactory.createException(ExceptionFactory.java:96)\n    at app//io.r2dbc.postgresql.ExceptionFactory.createException(ExceptionFactory.java:65)\n    at app//io.r2dbc.postgresql.ExceptionFactory.handleErrorResponse(ExceptionFactory.java:132)\n    at app//reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:178)\n    ... 43 more\n\n</code></pre>\n<p>Related gradle dependencies:</p>\n<pre><code>dependencies {\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    implementation 'org.springframework.boot:spring-boot-starter-data-r2dbc'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    runtimeOnly 'org.postgresql:r2dbc-postgresql'\n    testRuntimeOnly 'org.mariadb:r2dbc-mariadb:1.1.3'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n}\n</code></pre>\n"},{"tags":["python","java","jython","jython-2.7"],"comments":[{"owner":{"account_id":176760,"reputation":49306,"user_id":407651,"display_name":"mzjn"},"score":0,"creation_date":1678348745,"post_id":75657238,"comment_id":133515755,"body_markdown":"Reported here: https://github.com/jython/jython/issues/236","body":"Reported here: <a href=\"https://github.com/jython/jython/issues/236\" rel=\"nofollow noreferrer\">github.com/jython/jython/issues/236</a>"}],"owner":{"account_id":27952325,"reputation":21,"user_id":21345856,"display_name":"Peter Wu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678152703,"creation_date":1678151762,"question_id":75657238,"body_markdown":"I am trying to read from a file: test1.txt\r\n   the file has only one line:  abcdefghigk\r\n\r\n    java -jar jython-standalone-2.7.3.jar\r\n    Jython 2.7.3 (tags/v2.7.3:5f29801fe, Sep 10 2022, 18:52:49)\r\n    [Java HotSpot(TM) 64-Bit Server VM (Oracle Corporation)] on java1.8.0_351\r\n    Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\n\r\n    &gt;&gt;&gt; from java.io import FileReader\r\n    from java.io import FileReader\r\n    &gt;&gt;&gt; import jarray\r\n    import jarray\r\n    &gt;&gt;&gt; reader = FileReader(&#39;./test1.txt&#39;)\r\n    reader = FileReader(&#39;./test1.txt&#39;)\r\n    &gt;&gt;&gt; chars = jarray.zeros(2048, &#39;c&#39;)\r\n    chars = jarray.zeros(2048, &#39;c&#39;)\r\n    &gt;&gt;&gt; num = reader.read(chars)\r\n    num = reader.read(chars)\r\n    Traceback (most recent call last):\r\n      File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\r\n    TypeError: read(): 1st arg can&#39;t be coerced to java.nio.CharBuffer, char[]\r\n    &gt;&gt;&gt; \r\n\r\n\r\n\r\nIf I use the older jython , it works\r\n\r\n    [pzwu@pzwu-1 python]$ java -jar jython-standalone-2.7.2.jar \r\n    Jython 2.7.2 (v2.7.2:925a3cc3b49d, Mar 21 2020, 10:03:58)\r\n    [Java HotSpot(TM) 64-Bit Server VM (Oracle Corporation)] on java1.8.0_351\r\n    Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\r\n\r\n    &gt;&gt;&gt; from java.io import FileReader\r\n    from java.io import FileReader\r\n    &gt;&gt;&gt; import jarray\r\n    import jarray\r\n    &gt;&gt;&gt; reader = FileReader(&#39;./test1.txt&#39;)\r\n    reader = FileReader(&#39;./test1.txt&#39;)\r\n    &gt;&gt;&gt; chars = jarray.zeros(2048, &#39;c&#39;)\r\n    chars = jarray.zeros(2048, &#39;c&#39;)\r\n    &gt;&gt;&gt; num = reader.read(chars)\r\n    num = reader.read(chars)\r\n    &gt;&gt;&gt; print num\r\n    print num\r\n    13\r\n\r\n\r\nNot sure what&#39;s going from 2.7.2 to 2.7.3.   Thanks\r\n\r\n\r\nTried with jdk11, same result..    I guess it is a 2.7.3 bug?\r\n\r\n\r\n\r\n","title":"Jython 2.7.3: Filereader: TypeError: read(): 1st arg can&#39;t be coerced to java.nio.CharBuffer, char[]","body":"<p>I am trying to read from a file: test1.txt\nthe file has only one line:  abcdefghigk</p>\n<pre><code>java -jar jython-standalone-2.7.3.jar\nJython 2.7.3 (tags/v2.7.3:5f29801fe, Sep 10 2022, 18:52:49)\n[Java HotSpot(TM) 64-Bit Server VM (Oracle Corporation)] on java1.8.0_351\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\n\n&gt;&gt;&gt; from java.io import FileReader\nfrom java.io import FileReader\n&gt;&gt;&gt; import jarray\nimport jarray\n&gt;&gt;&gt; reader = FileReader('./test1.txt')\nreader = FileReader('./test1.txt')\n&gt;&gt;&gt; chars = jarray.zeros(2048, 'c')\nchars = jarray.zeros(2048, 'c')\n&gt;&gt;&gt; num = reader.read(chars)\nnum = reader.read(chars)\nTraceback (most recent call last):\n  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\nTypeError: read(): 1st arg can't be coerced to java.nio.CharBuffer, char[]\n&gt;&gt;&gt; \n</code></pre>\n<p>If I use the older jython , it works</p>\n<pre><code>[pzwu@pzwu-1 python]$ java -jar jython-standalone-2.7.2.jar \nJython 2.7.2 (v2.7.2:925a3cc3b49d, Mar 21 2020, 10:03:58)\n[Java HotSpot(TM) 64-Bit Server VM (Oracle Corporation)] on java1.8.0_351\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\n\n&gt;&gt;&gt; from java.io import FileReader\nfrom java.io import FileReader\n&gt;&gt;&gt; import jarray\nimport jarray\n&gt;&gt;&gt; reader = FileReader('./test1.txt')\nreader = FileReader('./test1.txt')\n&gt;&gt;&gt; chars = jarray.zeros(2048, 'c')\nchars = jarray.zeros(2048, 'c')\n&gt;&gt;&gt; num = reader.read(chars)\nnum = reader.read(chars)\n&gt;&gt;&gt; print num\nprint num\n13\n</code></pre>\n<p>Not sure what's going from 2.7.2 to 2.7.3.   Thanks</p>\n<p>Tried with jdk11, same result..    I guess it is a 2.7.3 bug?</p>\n"},{"tags":["java","maven","jenkins","ignition"],"owner":{"account_id":2614803,"reputation":117,"user_id":2264103,"accept_rate":50,"display_name":"cmwarre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678151676,"creation_date":1678151676,"question_id":75657227,"body_markdown":"I have a project structure like the following:\r\n\r\n    root/pom.xml\r\n    root/build/pom.xml\r\n    root/module1/pom.xml\r\n    ...\r\n\r\nIn the &quot;build&quot; module, there is a maven plugin (https://github.com/inductiveautomation/ignition-maven-plugin) that will publish my compiled module to an Ignition server, and in that pom.xml I can define a &quot;gatewayAddress&quot; property that defaults to localhost. \r\n\r\nI&#39;m developing a CI pipeline in Jenkins and I would like to specify this property to be a development server &quot;test.example.com&quot;. \r\n\r\nI&#39;m trying to add -D arguments to my command line arguments in maven and I can&#39;t seem to get it to work.  How would I go about setting a property like that in maven?\r\n\r\n2nd &quot;bonus&quot; question - how should I override this property for the Jenkins build? Should this be done with command line arguments like I&#39;m attempting or is this what the settings.xml file should be used for? \r\n\r\n","title":"Maven Override Submodule Plugin Properties","body":"<p>I have a project structure like the following:</p>\n<pre><code>root/pom.xml\nroot/build/pom.xml\nroot/module1/pom.xml\n...\n</code></pre>\n<p>In the &quot;build&quot; module, there is a maven plugin (<a href=\"https://github.com/inductiveautomation/ignition-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/inductiveautomation/ignition-maven-plugin</a>) that will publish my compiled module to an Ignition server, and in that pom.xml I can define a &quot;gatewayAddress&quot; property that defaults to localhost.</p>\n<p>I'm developing a CI pipeline in Jenkins and I would like to specify this property to be a development server &quot;test.example.com&quot;.</p>\n<p>I'm trying to add -D arguments to my command line arguments in maven and I can't seem to get it to work.  How would I go about setting a property like that in maven?</p>\n<p>2nd &quot;bonus&quot; question - how should I override this property for the Jenkins build? Should this be done with command line arguments like I'm attempting or is this what the settings.xml file should be used for?</p>\n"},{"tags":["java","arrays","sorting","cpu","benchmarking"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1678134084,"post_id":75654911,"comment_id":133471327,"body_markdown":"This question seems very clearly to be using [inadequate approaches to benchmarking in Java](https://stackoverflow.com/q/504103/869736) which can produce outright lies.","body":"This question seems very clearly to be using <a href=\"https://stackoverflow.com/q/504103/869736\">inadequate approaches to benchmarking in Java</a> which can produce outright lies."}],"answers":[{"tags":[],"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1678131985,"creation_date":1678131284,"answer_id":75655092,"question_id":75654911,"body_markdown":"It&#39;s not about being sorted per-se, it&#39;s about the order in which memory is accessed.\r\n\r\nI will briefly describe a few experiments to confirm that:\r\n\r\n- Try using `long[]` instead of `ArrayList&lt;Long&gt;`. Then there are no individually allocated `Long` objects, just one big array that directly contains the data. That makes the memory access order of `sum` independent of the contents of the array. I did not perform this experiment since it would take a bit more work to write the code.\r\n- Try initializing the list with randomly-ordered values. I tried that (I also made the list a bit shorter to save time) and got this result:\r\n\r\n      duration: 31ms\r\n      -6262510617230624864\r\n      duration: 77ms\r\n      -6262510617230624864\r\n      duration: 160ms\r\n      -6262510617230624864\r\n  ie the fastest order is *the same as the order in which the `Long` objects were created*, independently of their values.\r\n- Recreate the `Long` objects in-order after shuffling, for example:\r\n\r\n        for (int i = 0; i &lt; l.size(); i++)\r\n        \tl.set(i, new Long(l.get(i)));\r\n  \r\n   That makes the `sum` of the shuffled list fast again (subsequently sorting the list un-orders the memory access pattern and makes `sum` slow again).\r\n\r\nThere is actually no guarantee that `Long` objects that are allocated one after the other will be allocated in the same order in memory, but that is a pretty common thing to happen, when a sufficiently large number of them is allocated and not much disturbance happens meanwhile.","title":"Why is summing a sorted array faster than an unsorted one?","body":"<p>It's not about being sorted per-se, it's about the order in which memory is accessed.</p>\n<p>I will briefly describe a few experiments to confirm that:</p>\n<ul>\n<li><p>Try using <code>long[]</code> instead of <code>ArrayList&lt;Long&gt;</code>. Then there are no individually allocated <code>Long</code> objects, just one big array that directly contains the data. That makes the memory access order of <code>sum</code> independent of the contents of the array. I did not perform this experiment since it would take a bit more work to write the code.</p>\n</li>\n<li><p>Try initializing the list with randomly-ordered values. I tried that (I also made the list a bit shorter to save time) and got this result:</p>\n<pre><code>duration: 31ms\n-6262510617230624864\nduration: 77ms\n-6262510617230624864\nduration: 160ms\n-6262510617230624864\n</code></pre>\n<p>ie the fastest order is <em>the same as the order in which the <code>Long</code> objects were created</em>, independently of their values.</p>\n</li>\n<li><p>Recreate the <code>Long</code> objects in-order after shuffling, for example:</p>\n<pre><code>  for (int i = 0; i &lt; l.size(); i++)\n      l.set(i, new Long(l.get(i)));\n</code></pre>\n<p>That makes the <code>sum</code> of the shuffled list fast again (subsequently sorting the list un-orders the memory access pattern and makes <code>sum</code> slow again).</p>\n</li>\n</ul>\n<p>There is actually no guarantee that <code>Long</code> objects that are allocated one after the other will be allocated in the same order in memory, but that is a pretty common thing to happen, when a sufficiently large number of them is allocated and not much disturbance happens meanwhile.</p>\n"}],"owner":{"account_id":27950120,"reputation":27,"user_id":21344198,"display_name":"Ignatyo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":1,"score":1,"last_activity_date":1678151258,"creation_date":1678129970,"question_id":75654911,"body_markdown":"I have an **ArrayList** with numbers from 10 MM to 20 MM\r\n\r\n```\r\n List&lt;Long&gt; l = new ArrayList&lt;&gt;();\r\n        for (long i = 10_000_000; i &lt; 20_000_000; i++) {\r\n            l.add(i);\r\n        }\r\n```\r\n\r\nWhy is the ***sum()*** function faster on a sorted array than on an unsorted?\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Long&gt; l = new ArrayList&lt;&gt;();\r\n        for (long i = 10_000_000; i &lt; 20_000_000; i++) {\r\n            l.add(i);\r\n        }\r\n\r\n        System.out.println(sum(l));\r\n\r\n        Collections.shuffle(l);\r\n        System.out.println(sum(l));\r\n\r\n        Collections.sort(l);\r\n        System.out.println(sum(l));\r\n    }\r\n\r\n    static long sum(List&lt;Long&gt; l) {\r\n        long started = System.nanoTime();\r\n        long result = 0;\r\n        for (long v : l) {\r\n            result += v;\r\n        }\r\n        System.out.println(&quot; duration: &quot; + (System.nanoTime() - started) / 1_000_000 + &quot;ms&quot;);\r\n        return result;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI execute the ***sum()*** function three times\r\n\r\n- First time, on a sorted array\r\n- Second time on unsorted\r\n- And the third time again on sorted\r\n\r\nOn my computer, the execution time was\r\n\r\n 1) 85ms\r\n\r\n 2) 250ms\r\n\r\n 3) 97ms\r\n\r\n\r\n\r\nWhy is the ***sum()*** function faster on a sorted array than on an unsorted?","title":"Why is summing a sorted array faster than an unsorted one?","body":"<p>I have an <strong>ArrayList</strong> with numbers from 10 MM to 20 MM</p>\n<pre><code> List&lt;Long&gt; l = new ArrayList&lt;&gt;();\n        for (long i = 10_000_000; i &lt; 20_000_000; i++) {\n            l.add(i);\n        }\n</code></pre>\n<p>Why is the <em><strong>sum()</strong></em> function faster on a sorted array than on an unsorted?</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        List&lt;Long&gt; l = new ArrayList&lt;&gt;();\n        for (long i = 10_000_000; i &lt; 20_000_000; i++) {\n            l.add(i);\n        }\n\n        System.out.println(sum(l));\n\n        Collections.shuffle(l);\n        System.out.println(sum(l));\n\n        Collections.sort(l);\n        System.out.println(sum(l));\n    }\n\n    static long sum(List&lt;Long&gt; l) {\n        long started = System.nanoTime();\n        long result = 0;\n        for (long v : l) {\n            result += v;\n        }\n        System.out.println(&quot; duration: &quot; + (System.nanoTime() - started) / 1_000_000 + &quot;ms&quot;);\n        return result;\n    }\n\n}\n</code></pre>\n<p>I execute the <em><strong>sum()</strong></em> function three times</p>\n<ul>\n<li>First time, on a sorted array</li>\n<li>Second time on unsorted</li>\n<li>And the third time again on sorted</li>\n</ul>\n<p>On my computer, the execution time was</p>\n<ol>\n<li><p>85ms</p>\n</li>\n<li><p>250ms</p>\n</li>\n<li><p>97ms</p>\n</li>\n</ol>\n<p>Why is the <em><strong>sum()</strong></em> function faster on a sorted array than on an unsorted?</p>\n"},{"tags":["java","google-cloud-firestore","protocol-buffers","grpc"],"answers":[{"tags":[],"owner":{"account_id":25649504,"reputation":144,"user_id":19417003,"display_name":"Larry Safran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678150848,"creation_date":1678150848,"answer_id":75657180,"question_id":75642967,"body_markdown":"It looks like you are running into classloader hell.  \r\n\r\nThe field `maxInboundMessageSize` was local to the class `NettyChannelBuilder`, but as of 1.51.x that field was moved to the parent class `AbstractManagedChannelImplBuilder`.  Probably the version of firestore you are using is pulling in a newer version of gRPC and one version is creating the object while the other version is being used for the class method logic.\r\n\r\nI would recommend upgrading your gRPC version to 1.53.0.","title":"maxInboundMessageSize when trying to save a protobuf object to firestore","body":"<p>It looks like you are running into classloader hell.</p>\n<p>The field <code>maxInboundMessageSize</code> was local to the class <code>NettyChannelBuilder</code>, but as of 1.51.x that field was moved to the parent class <code>AbstractManagedChannelImplBuilder</code>.  Probably the version of firestore you are using is pulling in a newer version of gRPC and one version is creating the object while the other version is being used for the class method logic.</p>\n<p>I would recommend upgrading your gRPC version to 1.53.0.</p>\n"}],"owner":{"account_id":25426166,"reputation":337,"user_id":19231322,"display_name":"Arnob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75657180,"answer_count":1,"score":0,"last_activity_date":1678150848,"creation_date":1678026961,"question_id":75642967,"body_markdown":"I am using gRPC protobuf for my project and in the auth sub-module I have this piece of code:\r\n\r\n\r\n```\r\n    @Override\r\n    public void signUp(SignUpRequest request, StreamObserver&lt;SignUpResponse&gt; response) {\r\n        String email = request.getEmail();\r\n        String password = request.getPassword();\r\n        User user;\r\n        long now = Instant.now().toEpochMilli();\r\n\r\n        CreateRequest createRequest = new CreateRequest()\r\n                .setEmail(request.getEmail())\r\n                .setPassword(request.getPassword())\r\n                .setEmailVerified(true);\r\n        UserRecord userRecord;\r\n        try {\r\n            userRecord = FirebaseAuth.getInstance().createUserAsync(createRequest).get();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n            response.onError(Status.INTERNAL.withDescription(&quot;User creation interrupted&quot;).asRuntimeException());\r\n            return;\r\n        } catch (ExecutionException e) {\r\n            e.printStackTrace();\r\n            response.onError(Status.INVALID_ARGUMENT.withDescription(&quot;Invalid email or password&quot;).asRuntimeException());\r\n            return;\r\n        }\r\n\r\n\r\n        user = User.newBuilder()\r\n                .setEmail(request.getEmail())\r\n                .setCreatedAt(now)\r\n                .setUpdatedAt(now)\r\n                .build();\r\n        log.info(&quot;user record&quot;+userRecord.toString());\r\n\r\n\r\n        try {\r\n            String jsonString = JsonFormat.printer().print(user);\r\n            Firestore db = FirestoreClient.getFirestore();\r\n            DocumentReference userRef = db.collection(&quot;users&quot;).document();\r\n            userRef.set(jsonString);\r\n        } catch (InvalidProtocolBufferException e) {\r\n            e.printStackTrace();\r\n        }\r\n        log.info(user.toString());\r\n\r\n\r\n        SignUpResponse signUpResponse = SignUpResponse.newBuilder()\r\n                .setUser(user)\r\n                .setResponseTime(now)\r\n                .setResponseStatus(200)\r\n                .build();\r\n\r\n        response.onNext(signUpResponse);\r\n        response.onCompleted();\r\n    }\r\n```\r\n\r\nAs you can see I am using firebase to authenticate and trying to save the user in users collection in firestore. But I&#39;m getting this error:\r\n\r\n\r\n```\r\nException in thread &quot;pool-2-thread-2&quot; java.lang.NoSuchFieldError: maxInboundMessageSize\r\n\tat io.grpc.netty.shaded.io.grpc.netty.NettyChannelBuilder.maxInboundMessageSize(NettyChannelBuilder.java:531)\r\n\tat io.grpc.netty.shaded.io.grpc.netty.NettyChannelBuilder.maxInboundMessageSize(NettyChannelBuilder.java:72)\r\n\tat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createSingleChannel(InstantiatingGrpcChannelProvider.java:370)\r\n\tat com.google.api.gax.grpc.ChannelPool.&lt;init&gt;(ChannelPool.java:105)\r\n\tat com.google.api.gax.grpc.ChannelPool.create(ChannelPool.java:83)\r\n\tat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createChannel(InstantiatingGrpcChannelProvider.java:236)\r\n\tat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:230)\r\n\tat com.google.api.gax.rpc.ClientContext.create(ClientContext.java:201)\r\n\tat com.google.api.gax.rpc.ClientContext.create(ClientContext.java:132)\r\n\tat com.google.cloud.firestore.spi.v1.GrpcFirestoreRpc.&lt;init&gt;(GrpcFirestoreRpc.java:127)\r\n\tat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreRpcFactory.create(FirestoreOptions.java:88)\r\n\tat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreRpcFactory.create(FirestoreOptions.java:80)\r\n\tat com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:560)\r\n\tat com.google.cloud.firestore.FirestoreOptions.getFirestoreRpc(FirestoreOptions.java:358)\r\n\tat com.google.cloud.firestore.FirestoreImpl.&lt;init&gt;(FirestoreImpl.java:79)\r\n\tat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreFactory.create(FirestoreOptions.java:71)\r\n\tat com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreFactory.create(FirestoreOptions.java:64)\r\n\tat com.google.cloud.ServiceOptions.getService(ServiceOptions.java:540)\r\n\tat com.google.firebase.cloud.FirestoreClient.&lt;init&gt;(FirestoreClient.java:55)\r\n\tat com.google.firebase.cloud.FirestoreClient.&lt;init&gt;(FirestoreClient.java:32)\r\n\tat com.google.firebase.cloud.FirestoreClient$FirestoreInstances.lambda$get$0(FirestoreClient.java:150)\r\n\tat java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1220)\r\n\tat java.base/java.util.Collections$SynchronizedMap.computeIfAbsent(Collections.java:2760)\r\n\tat com.google.firebase.cloud.FirestoreClient$FirestoreInstances.get(FirestoreClient.java:150)\r\n\tat com.google.firebase.cloud.FirestoreClient.getInstance(FirestoreClient.java:121)\r\n\tat com.google.firebase.cloud.FirestoreClient.getFirestore(FirestoreClient.java:98)\r\n\tat com.google.firebase.cloud.FirestoreClient.getFirestore(FirestoreClient.java:83)\r\n\tat com.google.firebase.cloud.FirestoreClient.getFirestore(FirestoreClient.java:68)\r\n\tat server.AuthServiceImpl.signUp(AuthServiceImpl.java:83)\r\n\tat root.protos.auth.AuthServiceGrpc$MethodHandlers.invoke(AuthServiceGrpc.java:277)\r\n\tat io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:182)\r\n\tat io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)\r\n\tat io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)\r\n\tat io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40)\r\n\tat io.grpc.util.TransmitStatusRuntimeExceptionInterceptor$1.onHalfClose(TransmitStatusRuntimeExceptionInterceptor.java:74)\r\n\tat io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:335)\r\n\tat io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:866)\r\n\tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\r\n```\r\n\r\nIn the parent pom I have:\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${grpc.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${grpc.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${grpc.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${protobuf-java.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${protobuf-java.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nwhere `&lt;grpc.version&gt;1.41.0&lt;/grpc.version&gt;` and\r\n\t\t`&lt;protobuf-java.version&gt;3.19.0&lt;/protobuf-java.version&gt;`\r\n\r\n\r\nNow I am not sure about the issue. Is it because firestore doesn&#39;t support proto objects or something else? And what can I do to solve the issue?","title":"maxInboundMessageSize when trying to save a protobuf object to firestore","body":"<p>I am using gRPC protobuf for my project and in the auth sub-module I have this piece of code:</p>\n<pre><code>    @Override\n    public void signUp(SignUpRequest request, StreamObserver&lt;SignUpResponse&gt; response) {\n        String email = request.getEmail();\n        String password = request.getPassword();\n        User user;\n        long now = Instant.now().toEpochMilli();\n\n        CreateRequest createRequest = new CreateRequest()\n                .setEmail(request.getEmail())\n                .setPassword(request.getPassword())\n                .setEmailVerified(true);\n        UserRecord userRecord;\n        try {\n            userRecord = FirebaseAuth.getInstance().createUserAsync(createRequest).get();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n            response.onError(Status.INTERNAL.withDescription(&quot;User creation interrupted&quot;).asRuntimeException());\n            return;\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n            response.onError(Status.INVALID_ARGUMENT.withDescription(&quot;Invalid email or password&quot;).asRuntimeException());\n            return;\n        }\n\n\n        user = User.newBuilder()\n                .setEmail(request.getEmail())\n                .setCreatedAt(now)\n                .setUpdatedAt(now)\n                .build();\n        log.info(&quot;user record&quot;+userRecord.toString());\n\n\n        try {\n            String jsonString = JsonFormat.printer().print(user);\n            Firestore db = FirestoreClient.getFirestore();\n            DocumentReference userRef = db.collection(&quot;users&quot;).document();\n            userRef.set(jsonString);\n        } catch (InvalidProtocolBufferException e) {\n            e.printStackTrace();\n        }\n        log.info(user.toString());\n\n\n        SignUpResponse signUpResponse = SignUpResponse.newBuilder()\n                .setUser(user)\n                .setResponseTime(now)\n                .setResponseStatus(200)\n                .build();\n\n        response.onNext(signUpResponse);\n        response.onCompleted();\n    }\n</code></pre>\n<p>As you can see I am using firebase to authenticate and trying to save the user in users collection in firestore. But I'm getting this error:</p>\n<pre><code>Exception in thread &quot;pool-2-thread-2&quot; java.lang.NoSuchFieldError: maxInboundMessageSize\n    at io.grpc.netty.shaded.io.grpc.netty.NettyChannelBuilder.maxInboundMessageSize(NettyChannelBuilder.java:531)\n    at io.grpc.netty.shaded.io.grpc.netty.NettyChannelBuilder.maxInboundMessageSize(NettyChannelBuilder.java:72)\n    at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createSingleChannel(InstantiatingGrpcChannelProvider.java:370)\n    at com.google.api.gax.grpc.ChannelPool.&lt;init&gt;(ChannelPool.java:105)\n    at com.google.api.gax.grpc.ChannelPool.create(ChannelPool.java:83)\n    at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createChannel(InstantiatingGrpcChannelProvider.java:236)\n    at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:230)\n    at com.google.api.gax.rpc.ClientContext.create(ClientContext.java:201)\n    at com.google.api.gax.rpc.ClientContext.create(ClientContext.java:132)\n    at com.google.cloud.firestore.spi.v1.GrpcFirestoreRpc.&lt;init&gt;(GrpcFirestoreRpc.java:127)\n    at com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreRpcFactory.create(FirestoreOptions.java:88)\n    at com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreRpcFactory.create(FirestoreOptions.java:80)\n    at com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:560)\n    at com.google.cloud.firestore.FirestoreOptions.getFirestoreRpc(FirestoreOptions.java:358)\n    at com.google.cloud.firestore.FirestoreImpl.&lt;init&gt;(FirestoreImpl.java:79)\n    at com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreFactory.create(FirestoreOptions.java:71)\n    at com.google.cloud.firestore.FirestoreOptions$DefaultFirestoreFactory.create(FirestoreOptions.java:64)\n    at com.google.cloud.ServiceOptions.getService(ServiceOptions.java:540)\n    at com.google.firebase.cloud.FirestoreClient.&lt;init&gt;(FirestoreClient.java:55)\n    at com.google.firebase.cloud.FirestoreClient.&lt;init&gt;(FirestoreClient.java:32)\n    at com.google.firebase.cloud.FirestoreClient$FirestoreInstances.lambda$get$0(FirestoreClient.java:150)\n    at java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1220)\n    at java.base/java.util.Collections$SynchronizedMap.computeIfAbsent(Collections.java:2760)\n    at com.google.firebase.cloud.FirestoreClient$FirestoreInstances.get(FirestoreClient.java:150)\n    at com.google.firebase.cloud.FirestoreClient.getInstance(FirestoreClient.java:121)\n    at com.google.firebase.cloud.FirestoreClient.getFirestore(FirestoreClient.java:98)\n    at com.google.firebase.cloud.FirestoreClient.getFirestore(FirestoreClient.java:83)\n    at com.google.firebase.cloud.FirestoreClient.getFirestore(FirestoreClient.java:68)\n    at server.AuthServiceImpl.signUp(AuthServiceImpl.java:83)\n    at root.protos.auth.AuthServiceGrpc$MethodHandlers.invoke(AuthServiceGrpc.java:277)\n    at io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:182)\n    at io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)\n    at io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)\n    at io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40)\n    at io.grpc.util.TransmitStatusRuntimeExceptionInterceptor$1.onHalfClose(TransmitStatusRuntimeExceptionInterceptor.java:74)\n    at io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:335)\n    at io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:866)\n    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)\n</code></pre>\n<p>In the parent pom I have:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-netty&lt;/artifactId&gt;\n            &lt;version&gt;${grpc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n            &lt;version&gt;${grpc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n            &lt;version&gt;${grpc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\n            &lt;version&gt;${protobuf-java.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n            &lt;version&gt;${protobuf-java.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>where <code>&lt;grpc.version&gt;1.41.0&lt;/grpc.version&gt;</code> and\n<code>&lt;protobuf-java.version&gt;3.19.0&lt;/protobuf-java.version&gt;</code></p>\n<p>Now I am not sure about the issue. Is it because firestore doesn't support proto objects or something else? And what can I do to solve the issue?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1678079811,"post_id":75647244,"comment_id":133457201,"body_markdown":"You can rewrite the entire stream API and include the `&lt;T&gt; void foo() throws T` trick, but that&#39;s.. rather hacky and not a good idea. You can make your own `UncheckedDatabaseException` and throw that (`try { return x.next(); } catch (DatabaseException e) { throw new UncheckedDatabaseException(e); }`). But, really, lambdas / stream API is not at all a good fit here. &quot;I want to convert this to a stream since this also behaves like a lazy operation&quot; - no you don&#39;t. Streams have about 20 properties. This concept shares &#39;lazy&#39; as one, and misses on the other 19.","body":"You can rewrite the entire stream API and include the <code>&lt;T&gt; void foo() throws T</code> trick, but that&#39;s.. rather hacky and not a good idea. You can make your own <code>UncheckedDatabaseException</code> and throw that (<code>try { return x.next(); } catch (DatabaseException e) { throw new UncheckedDatabaseException(e); }</code>). But, really, lambdas / stream API is not at all a good fit here. &quot;I want to convert this to a stream since this also behaves like a lazy operation&quot; - no you don&#39;t. Streams have about 20 properties. This concept shares &#39;lazy&#39; as one, and misses on the other 19."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678150816,"creation_date":1678084099,"answer_id":75647670,"question_id":75647244,"body_markdown":"First, note the types in `java.util.function` and `java.util.stream` do not support throwing _checked_ exceptions. If you really want to stream your rows, then somewhere you&#39;re going to have to catch the checked exception, wrap it in an _unchecked exception_, and then throw said unchecked exception. In the attempt you show in your question, you would do that inside the `Supplier` implementation.\r\n\r\nThat said, the `generate` method creates an _infinite_ stream. I doubt you have an infinite number of rows to return. The next method to consider is `iterate` (the finite overload), but the arguments it takes don&#39;t lend themselves to what you&#39;re trying to do. At least not directly.\r\n\r\nProbably the most correct solution is to first create a [`Spliterator`][1] implementation to iterate the rows. Then use [`StreamSupport`][2] to create a `Stream`.\r\n\r\nFor example:\r\n\r\n```lang-java\r\nimport java.util.Objects;\r\nimport java.util.Spliterators.AbstractSpliterator;\r\nimport java.util.function.Consumer;\r\nimport java.util.stream.Stream;\r\nimport java.util.stream.StreamSupport;\r\n\r\npublic class MyClassSpliterator extends AbstractSpliterator&lt;Row&gt; {\r\n\r\n    public static Stream&lt;Row&gt; streamRows(MyClass myClass) {\r\n        return StreamSupport.stream(new MyClassSpliterator(myClass), false);\r\n    }\r\n\r\n    private final MyClass myClass;\r\n\r\n    public MyClassSpliterator(MyClass myClass) {\r\n        // Assumes an unknown number of rows. Also, assumes NONNULL\r\n        // characteristic due to the assumption that a null value\r\n        // means there&#39;s no more rows to process. Add or change\r\n        // characteristics as appropriate.\r\n        super(Long.MAX_VALUE, NONNULL);\r\n        this.myClass = Objects.requireNonNull(myClass);\r\n    }\r\n    \r\n    @Override\r\n    public boolean tryAdvance(Consumer&lt;? super Row&gt; action) {\r\n        try {\r\n            // Assumes MyClass#next() will return null when there&#39;s no\r\n            // more rows to process.\r\n            Row next = myClass.next();\r\n            if (next != null) {\r\n                action.accept(next);\r\n                return true;\r\n            }\r\n            return false;\r\n        } catch (DatabaseException ex) {\r\n            // Should probably create and use a custom unchecked exception\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhere you place the `Spliterator` implementation and the `streamRows` method are obviously up to you.\r\n\r\nNote the above extends [`AbstractSpliterator`][3]. That class makes it easier to create `Spliterator` implementations. By default, it supports limited and relatively naive parallelism. It basically just buffers a bunch of elements so they can be split up. If you have a better splitting solution, or just don&#39;t want to support any splitting, then override the `trySplit()` method.\r\n\r\nAnd note if you already have an `Iterator` implementation for your `MyClass`, then it may be more appropriate to use one of the methods in [`Spliterators`][4] to create the `Spliterator`.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Spliterator.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/StreamSupport.html\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Spliterators.AbstractSpliterator.html\r\n  [4]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Spliterators.html\r\n  [5]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Stream.html#takeWhile(java.util.function.Predicate)","title":"Creating a custom stream from a class object that has a method that fetches values one by one","body":"<p>First, note the types in <code>java.util.function</code> and <code>java.util.stream</code> do not support throwing <em>checked</em> exceptions. If you really want to stream your rows, then somewhere you're going to have to catch the checked exception, wrap it in an <em>unchecked exception</em>, and then throw said unchecked exception. In the attempt you show in your question, you would do that inside the <code>Supplier</code> implementation.</p>\n<p>That said, the <code>generate</code> method creates an <em>infinite</em> stream. I doubt you have an infinite number of rows to return. The next method to consider is <code>iterate</code> (the finite overload), but the arguments it takes don't lend themselves to what you're trying to do. At least not directly.</p>\n<p>Probably the most correct solution is to first create a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Spliterator.html\" rel=\"nofollow noreferrer\"><code>Spliterator</code></a> implementation to iterate the rows. Then use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/StreamSupport.html\" rel=\"nofollow noreferrer\"><code>StreamSupport</code></a> to create a <code>Stream</code>.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Objects;\nimport java.util.Spliterators.AbstractSpliterator;\nimport java.util.function.Consumer;\nimport java.util.stream.Stream;\nimport java.util.stream.StreamSupport;\n\npublic class MyClassSpliterator extends AbstractSpliterator&lt;Row&gt; {\n\n    public static Stream&lt;Row&gt; streamRows(MyClass myClass) {\n        return StreamSupport.stream(new MyClassSpliterator(myClass), false);\n    }\n\n    private final MyClass myClass;\n\n    public MyClassSpliterator(MyClass myClass) {\n        // Assumes an unknown number of rows. Also, assumes NONNULL\n        // characteristic due to the assumption that a null value\n        // means there's no more rows to process. Add or change\n        // characteristics as appropriate.\n        super(Long.MAX_VALUE, NONNULL);\n        this.myClass = Objects.requireNonNull(myClass);\n    }\n    \n    @Override\n    public boolean tryAdvance(Consumer&lt;? super Row&gt; action) {\n        try {\n            // Assumes MyClass#next() will return null when there's no\n            // more rows to process.\n            Row next = myClass.next();\n            if (next != null) {\n                action.accept(next);\n                return true;\n            }\n            return false;\n        } catch (DatabaseException ex) {\n            // Should probably create and use a custom unchecked exception\n            throw new RuntimeException(ex);\n        }\n    }\n}\n</code></pre>\n<p>Where you place the <code>Spliterator</code> implementation and the <code>streamRows</code> method are obviously up to you.</p>\n<p>Note the above extends <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Spliterators.AbstractSpliterator.html\" rel=\"nofollow noreferrer\"><code>AbstractSpliterator</code></a>. That class makes it easier to create <code>Spliterator</code> implementations. By default, it supports limited and relatively naive parallelism. It basically just buffers a bunch of elements so they can be split up. If you have a better splitting solution, or just don't want to support any splitting, then override the <code>trySplit()</code> method.</p>\n<p>And note if you already have an <code>Iterator</code> implementation for your <code>MyClass</code>, then it may be more appropriate to use one of the methods in <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Spliterators.html\" rel=\"nofollow noreferrer\"><code>Spliterators</code></a> to create the <code>Spliterator</code>.</p>\n"}],"owner":{"account_id":14929922,"reputation":21,"user_id":21339766,"display_name":"bigi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678150816,"creation_date":1678079482,"question_id":75647244,"body_markdown":"I have a class object that&#39;s like a database cursor, it has a `next()` method that reads the next table row.\r\n\r\n```\r\nclass MyClass{\r\n   Row next() throws DatabaseException {\r\n   ...\r\n   }\r\n}\r\n```\r\n\r\nI want to convert this to a stream since this also behaves like a lazy operation.\r\n\r\nI tried using Supplier which is accepted by `Stream.generate()`. `Supplier` has a method `get()` which has to be overridden for custom implementations.\r\n\r\n\r\n```\r\n\r\nStream&lt;Row&gt; stream = Stream.generate (new Supplier &lt;Row&gt;() { \r\n   @Override public Row get() { \r\n      // custom implementation\r\n      ...\r\n   }\r\n});\r\n\r\n```\r\n\r\nThe only problem using this is that MyClass.next() throws an exception while Supplier.get() doesnt allow exceptions. Is there any other way to create a custom stream for such class?","title":"Creating a custom stream from a class object that has a method that fetches values one by one","body":"<p>I have a class object that's like a database cursor, it has a <code>next()</code> method that reads the next table row.</p>\n<pre><code>class MyClass{\n   Row next() throws DatabaseException {\n   ...\n   }\n}\n</code></pre>\n<p>I want to convert this to a stream since this also behaves like a lazy operation.</p>\n<p>I tried using Supplier which is accepted by <code>Stream.generate()</code>. <code>Supplier</code> has a method <code>get()</code> which has to be overridden for custom implementations.</p>\n<pre><code>\nStream&lt;Row&gt; stream = Stream.generate (new Supplier &lt;Row&gt;() { \n   @Override public Row get() { \n      // custom implementation\n      ...\n   }\n});\n\n</code></pre>\n<p>The only problem using this is that MyClass.next() throws an exception while Supplier.get() doesnt allow exceptions. Is there any other way to create a custom stream for such class?</p>\n"},{"tags":["java","hibernate","hibernate-6.x"],"comments":[{"owner":{"account_id":2254560,"reputation":199,"user_id":1986022,"accept_rate":50,"display_name":"jluiz20"},"score":0,"creation_date":1678162427,"post_id":75657167,"comment_id":133475677,"body_markdown":"Found [the commit](https://github.com/hibernate/hibernate-orm/commit/61772103958cc8aacad80064edaf1bde92a59acf) that was removed, the comment is the best: &quot;this stuff is so old and so bad that it&#39;s not even worth deprecating&quot;","body":"Found <a href=\"https://github.com/hibernate/hibernate-orm/commit/61772103958cc8aacad80064edaf1bde92a59acf\" rel=\"nofollow noreferrer\">the commit</a> that was removed, the comment is the best: &quot;this stuff is so old and so bad that it&#39;s not even worth deprecating&quot;"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1678694371,"post_id":75657167,"comment_id":133576172,"body_markdown":"Why not create a second session then to connect to the other datasource?","body":"Why not create a second session then to connect to the other datasource?"}],"owner":{"account_id":2254560,"reputation":199,"user_id":1986022,"accept_rate":50,"display_name":"jluiz20"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678150718,"creation_date":1678150718,"question_id":75657167,"body_markdown":"In hibernate 5, we have `session.disconnect()` where we could disconnect the session from its underlying JDBC connection, for example:\r\n\r\n```\r\nimport org.hibernate.Session;\r\nimport javax.persistence.EntityManager;\r\n\r\n----\r\n\r\ntry (Session session = entityManager.unwrap(Session.class)) {\r\n    session.disconnect();\r\n}\r\n```\r\n\r\nI could not find it on the [Session on Hibernate 6](https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/Session.html). Anyone knows another way to disconnect from the current session?\r\n\r\nPS: I was using `disconnect()` in Hibernate 5 when I had two data sources and I needed to switch between them.\r\n\r\n\r\n","title":"Do we have a replacement for session.disconnect() on Hibernate 6?","body":"<p>In hibernate 5, we have <code>session.disconnect()</code> where we could disconnect the session from its underlying JDBC connection, for example:</p>\n<pre><code>import org.hibernate.Session;\nimport javax.persistence.EntityManager;\n\n----\n\ntry (Session session = entityManager.unwrap(Session.class)) {\n    session.disconnect();\n}\n</code></pre>\n<p>I could not find it on the <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/Session.html\" rel=\"nofollow noreferrer\">Session on Hibernate 6</a>. Anyone knows another way to disconnect from the current session?</p>\n<p>PS: I was using <code>disconnect()</code> in Hibernate 5 when I had two data sources and I needed to switch between them.</p>\n"},{"tags":["java","flutter","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":7832532,"reputation":1060,"user_id":5921933,"accept_rate":38,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671093077,"creation_date":1671093077,"answer_id":74808735,"question_id":74443767,"body_markdown":"Please check gradle compatibility from here https://docs.gradle.org/current/userguide/compatibility.html and use the compatible version. \r\n\r\nI&#39;m using java `19.0.1`. Updating Gradle version as below can solve the issue:\r\n\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.5.1-bin.zip\r\n```\r\n\r\nCleaning gradle before retrying is also helpful:\r\n\r\n```\r\ngradle clean \r\n```","title":"exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39;","body":"<p>Please check gradle compatibility from here <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a> and use the compatible version.</p>\n<p>I'm using java <code>19.0.1</code>. Updating Gradle version as below can solve the issue:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5.1-bin.zip\n</code></pre>\n<p>Cleaning gradle before retrying is also helpful:</p>\n<pre><code>gradle clean \n</code></pre>\n"},{"tags":[],"owner":{"account_id":234646,"reputation":1628,"user_id":500936,"accept_rate":23,"display_name":"Jean-Pierre Schnyder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677349485,"creation_date":1677349485,"answer_id":75567523,"question_id":74443767,"body_markdown":"This is my solution:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-all.zip\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QfVjm.jpg","title":"exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39;","body":"<p>This is my solution:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-all.zip\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/QfVjm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QfVjm.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":21352289,"reputation":458,"user_id":15721679,"display_name":"Abdeldjalil Chougui"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678148444,"creation_date":1678121540,"answer_id":75653626,"question_id":74443767,"body_markdown":"I had the same bug, and I found that the bug is caused by non compatibility of gradle user.\r\n\r\nAnd the following works for me :\r\n\r\n- Check the compatibility [here][1].\r\n- Then go to the files `gradle/wrapper/gradle-wrapper.properties` and `android/gradle/wrapper/gradle-wrapper.properties` \r\n- Set the attribute `distributionUrl` with the compatible version of gradle\r\n\r\nRun the project and now you are okay\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/compatibility.html","title":"exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39;","body":"<p>I had the same bug, and I found that the bug is caused by non compatibility of gradle user.</p>\n<p>And the following works for me :</p>\n<ul>\n<li>Check the compatibility <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li>Then go to the files <code>gradle/wrapper/gradle-wrapper.properties</code> and <code>android/gradle/wrapper/gradle-wrapper.properties</code></li>\n<li>Set the attribute <code>distributionUrl</code> with the compatible version of gradle</li>\n</ul>\n<p>Run the project and now you are okay</p>\n"}],"owner":{"account_id":14866314,"reputation":75,"user_id":10735311,"display_name":"Aditya Sutar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10147,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1678148444,"creation_date":1668506695,"question_id":74443767,"body_markdown":"A problem occurred evaluating root project &#39;android&#39;.\r\n&gt; A problem occurred configuring project &#39;:app&#39;.\r\n   &gt; Could not open project generic class cache for build file &#39;C:\\Users\\InFED Laptop\\Documents\\GitHub\\sustain-and-save\\android\\app\\build.gradle&#39; (C:\\Users\\InFED Laptop\\.gradle\\caches\\7.5.1\\scripts\\cgusqz2rdd56uogb1dahk58km).\r\n      &gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63","title":"exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39;","body":"<p>A problem occurred evaluating root project 'android'.</p>\n<blockquote>\n<p>A problem occurred configuring project ':app'.\nCould not open project generic class cache for build file 'C:\\Users\\InFED Laptop\\Documents\\GitHub\\sustain-and-save\\android\\app\\build.gradle' (C:\\Users\\InFED Laptop.gradle\\caches\\7.5.1\\scripts\\cgusqz2rdd56uogb1dahk58km).\n&gt; BUG! exception in phase 'semantic analysis' in source unit '<em>BuildScript</em>' Unsupported class file major version 63</p>\n</blockquote>\n"},{"tags":["java","android","memory-leaks","hprof"],"answers":[{"tags":[],"owner":{"account_id":3492124,"reputation":1637,"user_id":2921519,"display_name":"Maurice Lam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678148282,"creation_date":1678148282,"answer_id":75656983,"question_id":75466277,"body_markdown":"You can take a look at `jvm-hprof-rs` (https://bitbucket.org/marshallpierce/jvm-hprof-rs/src/master/).\r\n\r\nIf you are comfortable writing Rust code, the library gives you a great deal of control over how to process the data. ([Documentation](https://docs.rs/jvm-hprof/0.1.0/jvm_hprof/))\r\n\r\nFor simpler cases, the `analyze_hprof` example can give you a CSV format containing the &quot;Instance count&quot;, &quot;Instance size (bytes)&quot;, &quot;Total shallow instance size (bytes)&quot;, &quot;Class name&quot;, and &quot;Class obj id&quot;. You can then post-process to get the info you need.\r\n\r\n```\r\ncargo run --release --example analyze_hprof -- \\\r\n    -f path/to/your.hprof \\\r\n    instance-counts\r\n```\r\n\r\nIf I am understanding your problem correctly, you can take the output CSV, grep for the class name you want to analyze, and compute `Instance size (bytes) / Instance count`.","title":"Parsing hprof memory dump","body":"<p>You can take a look at <code>jvm-hprof-rs</code> (<a href=\"https://bitbucket.org/marshallpierce/jvm-hprof-rs/src/master/\" rel=\"nofollow noreferrer\">https://bitbucket.org/marshallpierce/jvm-hprof-rs/src/master/</a>).</p>\n<p>If you are comfortable writing Rust code, the library gives you a great deal of control over how to process the data. (<a href=\"https://docs.rs/jvm-hprof/0.1.0/jvm_hprof/\" rel=\"nofollow noreferrer\">Documentation</a>)</p>\n<p>For simpler cases, the <code>analyze_hprof</code> example can give you a CSV format containing the &quot;Instance count&quot;, &quot;Instance size (bytes)&quot;, &quot;Total shallow instance size (bytes)&quot;, &quot;Class name&quot;, and &quot;Class obj id&quot;. You can then post-process to get the info you need.</p>\n<pre><code>cargo run --release --example analyze_hprof -- \\\n    -f path/to/your.hprof \\\n    instance-counts\n</code></pre>\n<p>If I am understanding your problem correctly, you can take the output CSV, grep for the class name you want to analyze, and compute <code>Instance size (bytes) / Instance count</code>.</p>\n"}],"owner":{"account_id":8677048,"reputation":447,"user_id":6494163,"display_name":"T code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75656983,"answer_count":1,"score":0,"last_activity_date":1678148282,"creation_date":1676502611,"question_id":75466277,"body_markdown":"I am working on an Android application and I have a memory dump (i.e. a .hprof file) that I captured from my application.\r\n\r\nI want to investigate a certain container of the application. \r\n\r\nJust like an ArrayList, the container has a growth policy that increases the capacity of the container when the size is reached to guarantee constant amortized time cost for adding elements into it.\r\n\r\nMy hypothesis is that every instance of the container possesses multiple unused allocated memory spaces. \r\n\r\nI want to automate the process of investigating this case. Is there a way to write a script that can parse this .hprof file and return the ratio of these unused allocated spaces to total_entries?\r\n\r\nThank you!","title":"Parsing hprof memory dump","body":"<p>I am working on an Android application and I have a memory dump (i.e. a .hprof file) that I captured from my application.</p>\n<p>I want to investigate a certain container of the application.</p>\n<p>Just like an ArrayList, the container has a growth policy that increases the capacity of the container when the size is reached to guarantee constant amortized time cost for adding elements into it.</p>\n<p>My hypothesis is that every instance of the container possesses multiple unused allocated memory spaces.</p>\n<p>I want to automate the process of investigating this case. Is there a way to write a script that can parse this .hprof file and return the ratio of these unused allocated spaces to total_entries?</p>\n<p>Thank you!</p>\n"},{"tags":["java"],"owner":{"account_id":20656721,"reputation":29,"user_id":15165636,"display_name":"Ukraine1449"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678148270,"creation_date":1678148270,"question_id":75656981,"body_markdown":"Error: The redirect_uri does not match the registered value\r\n\r\nThe code related to this is as follows: \r\n\r\n    final String clientId = &quot;78bg6407krjxu9&quot;;\r\n        final String clientSecret = &quot;V8XEuAwLwyAPLinI&quot;;\r\n        final OAuth20Service service = new ServiceBuilder(clientId)\r\n                .apiSecret(clientSecret)\r\n                .defaultScope(new ScopeBuilder(&quot;r_liteprofile&quot;, &quot;r_emailaddress&quot;)) // replace with desired scope\r\n                .callback(&quot;http://example.com/callback&quot;)\r\n                .build(LinkedInApi20.instance());\r\n        final Scanner in = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;=== &quot; + NETWORK_NAME + &quot;&#39;s OAuth Workflow ===&quot;);\r\n        System.out.println();\r\n        System.out.println(&quot;Fetching the Authorization URL...&quot;);\r\n        final String secretState = &quot;secret&quot; + new Random().nextInt(999_999);\r\n        final String authorizationUrl = service.getAuthorizationUrl(secretState);\r\n        System.out.println(&quot;Got the Authorization URL!&quot;);\r\n        System.out.println(&quot;Now go and authorize ScribeJava here:&quot;);\r\n        System.out.println(authorizationUrl);\r\n        System.out.println(&quot;And paste the authorization code here&quot;);\r\n        System.out.print(&quot;&gt;&gt;&quot;);\r\n        final String code = in.nextLine();\r\n        System.out.println();","title":"Trying to use scribejava, running into error saying &quot;The redirect_uri does not match the registered value&quot;","body":"<p>Error: The redirect_uri does not match the registered value</p>\n<p>The code related to this is as follows:</p>\n<pre><code>final String clientId = &quot;78bg6407krjxu9&quot;;\n    final String clientSecret = &quot;V8XEuAwLwyAPLinI&quot;;\n    final OAuth20Service service = new ServiceBuilder(clientId)\n            .apiSecret(clientSecret)\n            .defaultScope(new ScopeBuilder(&quot;r_liteprofile&quot;, &quot;r_emailaddress&quot;)) // replace with desired scope\n            .callback(&quot;http://example.com/callback&quot;)\n            .build(LinkedInApi20.instance());\n    final Scanner in = new Scanner(System.in);\n\n    System.out.println(&quot;=== &quot; + NETWORK_NAME + &quot;'s OAuth Workflow ===&quot;);\n    System.out.println();\n    System.out.println(&quot;Fetching the Authorization URL...&quot;);\n    final String secretState = &quot;secret&quot; + new Random().nextInt(999_999);\n    final String authorizationUrl = service.getAuthorizationUrl(secretState);\n    System.out.println(&quot;Got the Authorization URL!&quot;);\n    System.out.println(&quot;Now go and authorize ScribeJava here:&quot;);\n    System.out.println(authorizationUrl);\n    System.out.println(&quot;And paste the authorization code here&quot;);\n    System.out.print(&quot;&gt;&gt;&quot;);\n    final String code = in.nextLine();\n    System.out.println();\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678146223,"creation_date":1678146223,"answer_id":75656818,"question_id":75656590,"body_markdown":"It&#39;s not guaranteed. Java uses data from [Common Locale Data Repository](https://en.wikipedia.org/wiki/Common_Locale_Data_Repository) and they periodically update it. \r\n\r\nThere have been cases where that update was a breaking change, e.g. this:  https://stackoverflow.com/questions/69267710/septembers-short-form-sep-no-longer-parses-in-java-17-in-en-gb-locale\r\n\r\nThat zone just happens to have both of those examples as valid aliases. See: https://github.com/openjdk/jdk/blob/master/make/data/cldr/common/bcp47/timezone.xml#L398 but there is no requirement that they do so.\r\n\r\nA zone name is not really something you should expect forwards compatibility for. This data models the real world, and the real world is constantly changing. If you want to rely on something that&#39;s future-proof, then use the offset, i.e. `+02:00`.","title":"Is Java ZoneID guaranteed to parse previously existing timezones?","body":"<p>It's not guaranteed. Java uses data from <a href=\"https://en.wikipedia.org/wiki/Common_Locale_Data_Repository\" rel=\"nofollow noreferrer\">Common Locale Data Repository</a> and they periodically update it.</p>\n<p>There have been cases where that update was a breaking change, e.g. this:  <a href=\"https://stackoverflow.com/questions/69267710/septembers-short-form-sep-no-longer-parses-in-java-17-in-en-gb-locale\">September&#39;s short form &quot;Sep&quot; no longer parses in Java 17 in en_GB locale</a></p>\n<p>That zone just happens to have both of those examples as valid aliases. See: <a href=\"https://github.com/openjdk/jdk/blob/master/make/data/cldr/common/bcp47/timezone.xml#L398\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/make/data/cldr/common/bcp47/timezone.xml#L398</a> but there is no requirement that they do so.</p>\n<p>A zone name is not really something you should expect forwards compatibility for. This data models the real world, and the real world is constantly changing. If you want to rely on something that's future-proof, then use the offset, i.e. <code>+02:00</code>.</p>\n"}],"owner":{"account_id":166796,"reputation":72317,"user_id":391161,"accept_rate":63,"display_name":"merlin2011"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75656818,"answer_count":1,"score":4,"last_activity_date":1678147219,"creation_date":1678143492,"question_id":75656590,"body_markdown":"In late 2022, the timezone `Europe/Kiev` was [renamed][1] to `Europe/Kyiv` by IANA.\r\n\r\nConsider the following program:\r\n\r\n```\r\nimport java.time.ZoneId;\r\n\r\npublic class TZPlay {\r\n  public static void main(String[] args) {\r\n    try {\r\n//      ZoneId.of(&quot;Europe/Kiev&quot;); // Works in Java 17.06 and Java 17.03\r\n//      ZoneId.of(&quot;Europe/Kyiv&quot;); // Works in Java 17.06 but not Java 17.03.\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nObservations:\r\n * Java 17.03 throws the following exception when trying to parse `Europe/Kyiv`.\r\n\r\n```\r\njava.time.zone.ZoneRulesException: Unknown time-zone ID: Europe/Kyiv\r\n        at java.base/java.time.zone.ZoneRulesProvider.getProvider(ZoneRulesProvider.java:280)\r\n        at java.base/java.time.zone.ZoneRulesProvider.getRules(ZoneRulesProvider.java:235)\r\n        at java.base/java.time.ZoneRegion.ofId(ZoneRegion.java:121)\r\n        at java.base/java.time.ZoneId.of(ZoneId.java:410)\r\n        at java.base/java.time.ZoneId.of(ZoneId.java:358)\r\n        at TZPlay.main(TZPlay.java:7)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:419)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:192)\r\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\r\n```\r\n\r\n * Java 17.06 correctly parses it without exception. \r\n * Moreover, Java 17.06 also parses `Europe/Kiev` without exception.\r\n\r\nEmpirically, based on the above example, it seems like newer versions of Java are able to parse older timezones after they were renamed.\r\n\r\n**Is this guaranteed to always be true, or will old timezones sometimes break on newer Java minor versions?**\r\n\r\nI searched the [ZoneId javadoc][2] for the terms &quot;previous&quot;, &quot;old&quot; and &quot;rename&quot; but did not find anything obvious.\r\n\r\n\r\n  [1]: https://mm.icann.org/pipermail/tz/2022-April/031376.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneId.html","title":"Is Java ZoneID guaranteed to parse previously existing timezones?","body":"<p>In late 2022, the timezone <code>Europe/Kiev</code> was <a href=\"https://mm.icann.org/pipermail/tz/2022-April/031376.html\" rel=\"nofollow noreferrer\">renamed</a> to <code>Europe/Kyiv</code> by IANA.</p>\n<p>Consider the following program:</p>\n<pre><code>import java.time.ZoneId;\n\npublic class TZPlay {\n  public static void main(String[] args) {\n    try {\n//      ZoneId.of(&quot;Europe/Kiev&quot;); // Works in Java 17.06 and Java 17.03\n//      ZoneId.of(&quot;Europe/Kyiv&quot;); // Works in Java 17.06 but not Java 17.03.\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>Observations:</p>\n<ul>\n<li>Java 17.03 throws the following exception when trying to parse <code>Europe/Kyiv</code>.</li>\n</ul>\n<pre><code>java.time.zone.ZoneRulesException: Unknown time-zone ID: Europe/Kyiv\n        at java.base/java.time.zone.ZoneRulesProvider.getProvider(ZoneRulesProvider.java:280)\n        at java.base/java.time.zone.ZoneRulesProvider.getRules(ZoneRulesProvider.java:235)\n        at java.base/java.time.ZoneRegion.ofId(ZoneRegion.java:121)\n        at java.base/java.time.ZoneId.of(ZoneId.java:410)\n        at java.base/java.time.ZoneId.of(ZoneId.java:358)\n        at TZPlay.main(TZPlay.java:7)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:419)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:192)\n        at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:132)\n</code></pre>\n<ul>\n<li>Java 17.06 correctly parses it without exception.</li>\n<li>Moreover, Java 17.06 also parses <code>Europe/Kiev</code> without exception.</li>\n</ul>\n<p>Empirically, based on the above example, it seems like newer versions of Java are able to parse older timezones after they were renamed.</p>\n<p><strong>Is this guaranteed to always be true, or will old timezones sometimes break on newer Java minor versions?</strong></p>\n<p>I searched the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneId.html\" rel=\"nofollow noreferrer\">ZoneId javadoc</a> for the terms &quot;previous&quot;, &quot;old&quot; and &quot;rename&quot; but did not find anything obvious.</p>\n"},{"tags":["java","object","math","methods"],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678037658,"creation_date":1678037658,"answer_id":75644123,"question_id":75642501,"body_markdown":"Why not make eight multi dimensional arrays representing each of the eight sides total of the two rhombus , each of the elements represents a pixel along the edge of the rhombus and stores an array of two elements being x position of pixel and y position of pixel.\r\nThe use one of the two to loop over all it&#39;s elements of each side and find if any pixel pair get an exact match of the other quadrilateral pixel pair.\r\nPersonally, I think you would be better drawing some test cases to see if you can figure probability first by checking the positions along x and along y of the quadrilaterals four points to be better able to choose which side array to work on testing first.","title":"Check If Two Rhombus Overlap In Java","body":"<p>Why not make eight multi dimensional arrays representing each of the eight sides total of the two rhombus , each of the elements represents a pixel along the edge of the rhombus and stores an array of two elements being x position of pixel and y position of pixel.\nThe use one of the two to loop over all it's elements of each side and find if any pixel pair get an exact match of the other quadrilateral pixel pair.\nPersonally, I think you would be better drawing some test cases to see if you can figure probability first by checking the positions along x and along y of the quadrilaterals four points to be better able to choose which side array to work on testing first.</p>\n"},{"tags":[],"owner":{"account_id":27831612,"reputation":11,"user_id":21249904,"display_name":"KEK LOL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678146947,"creation_date":1678146947,"answer_id":75656878,"question_id":75642501,"body_markdown":"    void overlaps(Rhombus r) {\r\n            int x1 = Math.min(this.p1, Math.min(this.p2, Math.min(this.p3, this.p4)));\r\n            int y1 = Math.min(this.p1, Math.min(this.p2, Math.min(this.p3, this.p4)));\r\n            int x2 = Math.max(this.p1, Math.max(this.p2, Math.max(this.p3, this.p4)));\r\n            int y2 = Math.max(this.p1, Math.max(this.p2, Math.max(this.p3, this.p4)));\r\n            int x3 = Math.min(r.p1, Math.min(r.p2, Math.min(r.p3, r.p4)));\r\n            int y3 = Math.min(r.p1, Math.min(r.p2, Math.min(r.p3, r.p4)));\r\n            int x4 = Math.max(r.p1, Math.max(r.p2, Math.max(r.p3, r.p4)));\r\n            int y4 = Math.max(r.p1, Math.max(r.p2, Math.max(r.p3, r.p4)));\r\n    \r\n            if (x1 &lt; x4 &amp;&amp; x2 &gt; x3 &amp;&amp; y1 &lt; y4 &amp;&amp; y2 &gt; y3) {\r\n                System.out.println(&quot;One rhombus intersects the other&quot;);\r\n            } else {\r\n                System.out.println(&quot;The two rhombuses do not intersect&quot;);\r\n            }\r\n        }","title":"Check If Two Rhombus Overlap In Java","body":"<pre><code>void overlaps(Rhombus r) {\n        int x1 = Math.min(this.p1, Math.min(this.p2, Math.min(this.p3, this.p4)));\n        int y1 = Math.min(this.p1, Math.min(this.p2, Math.min(this.p3, this.p4)));\n        int x2 = Math.max(this.p1, Math.max(this.p2, Math.max(this.p3, this.p4)));\n        int y2 = Math.max(this.p1, Math.max(this.p2, Math.max(this.p3, this.p4)));\n        int x3 = Math.min(r.p1, Math.min(r.p2, Math.min(r.p3, r.p4)));\n        int y3 = Math.min(r.p1, Math.min(r.p2, Math.min(r.p3, r.p4)));\n        int x4 = Math.max(r.p1, Math.max(r.p2, Math.max(r.p3, r.p4)));\n        int y4 = Math.max(r.p1, Math.max(r.p2, Math.max(r.p3, r.p4)));\n\n        if (x1 &lt; x4 &amp;&amp; x2 &gt; x3 &amp;&amp; y1 &lt; y4 &amp;&amp; y2 &gt; y3) {\n            System.out.println(&quot;One rhombus intersects the other&quot;);\n        } else {\n            System.out.println(&quot;The two rhombuses do not intersect&quot;);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":27831612,"reputation":11,"user_id":21249904,"display_name":"KEK LOL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75656878,"answer_count":2,"score":1,"last_activity_date":1678147073,"creation_date":1678022476,"question_id":75642501,"body_markdown":"I need to Check If Two Rhombus Overlap In Java, i dont understand how to do it properly \r\n\r\n\r\n    public class Rhombus {\r\n        int p1;\r\n        int p2;\r\n        int p3;\r\n        int p4;\r\n        Rhombus(int p1, int p2, int p3, int p4){\r\n            this.p1 = p1;\r\n            this.p2 = p2;\r\n            this.p3 = p3;\r\n            this.p4 = p4;\r\n        }\r\n        void overlaps(Rhombus r){\r\n            System.out.println(&quot;Checking if one rhombus intersects the second one:&quot;);\r\n            if (r.p1 == this.p1 || r.p1 == this.p2 || r.p1 == this.p3 || r.p1 == this.p4 || r.p2 == this.p1 || r.p2 == this.p2 || r.p2 == this.p3 || r.p2 == this.p4 || r.p3 == this.p1 || r.p3 == this.p2 || r.p3 == this.p3 || r.p3 == this.p4 || r.p4 == this.p1 || r.p4 == this.p2 || r.p4 == this.p3 || r.p4 == this.p4 ) System.out.println(&quot;true&quot;);\r\n            else System.out.println(&quot;false&quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Rhombus rhombus1 = new Rhombus(3, 3, 3, 3);\r\n            Rhombus rhombus2 = new Rhombus(1, 5, 5, 5);\r\n            rhombus1.overlaps(rhombus2);\r\n        }\r\n    }\r\n\r\n\r\nI try this, but it doesnt work if one point cross another rhombus \r\n","title":"Check If Two Rhombus Overlap In Java","body":"<p>I need to Check If Two Rhombus Overlap In Java, i dont understand how to do it properly</p>\n<pre><code>public class Rhombus {\n    int p1;\n    int p2;\n    int p3;\n    int p4;\n    Rhombus(int p1, int p2, int p3, int p4){\n        this.p1 = p1;\n        this.p2 = p2;\n        this.p3 = p3;\n        this.p4 = p4;\n    }\n    void overlaps(Rhombus r){\n        System.out.println(&quot;Checking if one rhombus intersects the second one:&quot;);\n        if (r.p1 == this.p1 || r.p1 == this.p2 || r.p1 == this.p3 || r.p1 == this.p4 || r.p2 == this.p1 || r.p2 == this.p2 || r.p2 == this.p3 || r.p2 == this.p4 || r.p3 == this.p1 || r.p3 == this.p2 || r.p3 == this.p3 || r.p3 == this.p4 || r.p4 == this.p1 || r.p4 == this.p2 || r.p4 == this.p3 || r.p4 == this.p4 ) System.out.println(&quot;true&quot;);\n        else System.out.println(&quot;false&quot;);\n    }\n\n    public static void main(String[] args) {\n        Rhombus rhombus1 = new Rhombus(3, 3, 3, 3);\n        Rhombus rhombus2 = new Rhombus(1, 5, 5, 5);\n        rhombus1.overlaps(rhombus2);\n    }\n}\n</code></pre>\n<p>I try this, but it doesnt work if one point cross another rhombus</p>\n"},{"tags":["java","spring-boot","azure"],"answers":[{"tags":[],"owner":{"account_id":13328605,"reputation":68,"user_id":9620766,"display_name":"random coder dude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678125743,"creation_date":1678125743,"answer_id":75654291,"question_id":75654120,"body_markdown":"Try changing this in your pom.xml:\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nTo this:\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\nSpring-Boot 3 does require Java 17, so you&#39;ll need to downgrade to Spring-Boot 2. If that&#39;s not an option, you&#39;ll keep the pom.xml the same and change the Azure cli version to 17.\r\n","title":"Why can I not publish Spring Boot Web Service to MS Azure?","body":"<p>Try changing this in your pom.xml:</p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>To this:</p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Spring-Boot 3 does require Java 17, so you'll need to downgrade to Spring-Boot 2. If that's not an option, you'll keep the pom.xml the same and change the Azure cli version to 17.</p>\n"},{"tags":[],"owner":{"account_id":2703064,"reputation":35,"user_id":2333345,"display_name":"Lee Cottrell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678146936,"creation_date":1678146936,"answer_id":75656877,"question_id":75654120,"body_markdown":"Downgrading to Spring boot 2.7.10-snapshot worked. I was able to successfully transfer the web service from GitHub to Azure. \r\n\r\nI was able to successfully upgrade the Azure cli to java 17, but it did not allow the service to post.","title":"Why can I not publish Spring Boot Web Service to MS Azure?","body":"<p>Downgrading to Spring boot 2.7.10-snapshot worked. I was able to successfully transfer the web service from GitHub to Azure.</p>\n<p>I was able to successfully upgrade the Azure cli to java 17, but it did not allow the service to post.</p>\n"}],"owner":{"account_id":2703064,"reputation":35,"user_id":2333345,"display_name":"Lee Cottrell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75656877,"answer_count":2,"score":1,"last_activity_date":1678146936,"creation_date":1678124621,"question_id":75654120,"body_markdown":"My students and I are having problems posting a Java SpringBoot web service to my pay as you go Azure subscription. We are following microsoft&#39;s directions from their [learn.microsoft.com](https://learn.microsoft.com/en-us/azure/app-service/quickstart-java?tabs=javase&amp;pivots=platform-windows-development-environment-maven) site. We keep receiving *invalid target release: 17*\r\n\r\nThis is my code &lt;https://github.com/leecottrellPTC/Azurepublish.git&gt;\r\nThis is MS&#39;s code &lt;https://github.com/spring-guides/gs-spring-boot&gt;\r\n\r\nThe version of Java in the Azure CLI is Java 11. I have tried rebuilding my project locally to Java versions 8, 11, and 17. Each time, it runs on my local servers. When I republish it to Azure, I make the proper version choices in the wizard. I have tried Linux and Windows OS, and several tiers of pay. Each results in the same error.\r\n\r\nThe MS Link offers four different ways to publish a web service. I have tried them all with the exception of Docker. I do not have that configured.\r\n\r\nI have run the *mvn package azure-webapp:deploy -e*, receiving a vomit of errors.\r\n\r\nI do not know what else to do.\r\n\r\n~~~\r\n Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project azurehotel: Fatal error compiling: error: invalid target release: 17 -\\&gt; \\[Help 1\\]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal    org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project azurehotel: Fatal error compiling\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke (Method.java:566)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: Fatal error compiling\r\nat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1220)\r\nat org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\r\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke (Method.java:566)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.codehaus.plexus.compiler.CompilerException: error: invalid target release: 17\r\nat org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:197)\r\nat org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:182)\r\nat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1209)\r\nat org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\r\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke (Method.java:566)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: java.lang.IllegalArgumentException: error: invalid target release: 17\r\nat com.sun.tools.javac.main.Arguments.error (Arguments.java:907)\r\nat com.sun.tools.javac.main.Arguments.doProcessArgs (Arguments.java:383)\r\nat com.sun.tools.javac.main.Arguments.processArgs (Arguments.java:347)\r\nat com.sun.tools.javac.main.Arguments.init (Arguments.java:246)\r\nat com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:185)\r\nat com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:119)\r\nat com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:68)\r\nat org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:135)\r\nat org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:182)\r\nat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1209)\r\nat org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\r\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\nat java.lang.reflect.Method.invoke (Method.java:566)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n\\[ERROR\\]\r\n\\[ERROR\\] Re-run Maven using the -X switch to enable full debug logging.\r\n\\[ERROR\\]\r\n\\[ERROR\\] For more information about the errors and possible solutions, please read the following articles:\r\n\\[ERROR\\] \\[Help 1\\] &lt;/kbd&gt;&lt;kbd&gt;http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n~~~\r\n   ","title":"Why can I not publish Spring Boot Web Service to MS Azure?","body":"<p>My students and I are having problems posting a Java SpringBoot web service to my pay as you go Azure subscription. We are following microsoft's directions from their <a href=\"https://learn.microsoft.com/en-us/azure/app-service/quickstart-java?tabs=javase&amp;pivots=platform-windows-development-environment-maven\" rel=\"nofollow noreferrer\">learn.microsoft.com</a> site. We keep receiving <em>invalid target release: 17</em></p>\n<p>This is my code <a href=\"https://github.com/leecottrellPTC/Azurepublish.git\" rel=\"nofollow noreferrer\">https://github.com/leecottrellPTC/Azurepublish.git</a>\nThis is MS's code <a href=\"https://github.com/spring-guides/gs-spring-boot\" rel=\"nofollow noreferrer\">https://github.com/spring-guides/gs-spring-boot</a></p>\n<p>The version of Java in the Azure CLI is Java 11. I have tried rebuilding my project locally to Java versions 8, 11, and 17. Each time, it runs on my local servers. When I republish it to Azure, I make the proper version choices in the wizard. I have tried Linux and Windows OS, and several tiers of pay. Each results in the same error.</p>\n<p>The MS Link offers four different ways to publish a web service. I have tried them all with the exception of Docker. I do not have that configured.</p>\n<p>I have run the <em>mvn package azure-webapp:deploy -e</em>, receiving a vomit of errors.</p>\n<p>I do not know what else to do.</p>\n<pre><code> Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project azurehotel: Fatal error compiling: error: invalid target release: 17 -\\&gt; \\[Help 1\\]\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal    org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project azurehotel: Fatal error compiling\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke (Method.java:566)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Fatal error compiling\nat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1220)\nat org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke (Method.java:566)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.codehaus.plexus.compiler.CompilerException: error: invalid target release: 17\nat org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:197)\nat org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:182)\nat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1209)\nat org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke (Method.java:566)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.IllegalArgumentException: error: invalid target release: 17\nat com.sun.tools.javac.main.Arguments.error (Arguments.java:907)\nat com.sun.tools.javac.main.Arguments.doProcessArgs (Arguments.java:383)\nat com.sun.tools.javac.main.Arguments.processArgs (Arguments.java:347)\nat com.sun.tools.javac.main.Arguments.init (Arguments.java:246)\nat com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:185)\nat com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:119)\nat com.sun.tools.javac.api.JavacTool.getTask (JavacTool.java:68)\nat org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:135)\nat org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile (JavacCompiler.java:182)\nat org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1209)\nat org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:198)\nat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\nat org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\nat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\nat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\nat org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\nat org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\nat org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\nat org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\nat org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\nat org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\nat jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke (Method.java:566)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n\\[ERROR\\]\n\\[ERROR\\] Re-run Maven using the -X switch to enable full debug logging.\n\\[ERROR\\]\n\\[ERROR\\] For more information about the errors and possible solutions, please read the following articles:\n\\[ERROR\\] \\[Help 1\\] &lt;/kbd&gt;&lt;kbd&gt;http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","android","kotlin","android-jetpack-compose"],"answers":[{"tags":[],"owner":{"account_id":25444915,"reputation":186,"user_id":19247254,"display_name":"ngalashev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660731153,"creation_date":1660731153,"answer_id":73386643,"question_id":73363186,"body_markdown":"If i understand your question correctly I would do it this way:\r\n\r\n    @Composable\r\n    fun App(mainViewModel: MainViewModel) {\r\n        val navController = rememberNavController()\r\n\r\n        LaunchedEffect(Unit) {\r\n            mainViewModel.checkAuth(navController)\r\n        }\r\n        \r\n        NavHost(\r\n            navController = navController,\r\n            startDestination = RootNavigation.Home.route\r\n        ) {\r\n            \r\n            composable(RootNavigation.Home.route) {\r\n                SplashScreen()\r\n            }\r\n\r\n            loginGraph(navController)\r\n\r\n            workspaceGraph(navController)\r\n        }\r\n    }\r\n\r\nAt MainViewModel:\r\n\r\n    fun checkAuth(navController: NavHostController) {\r\n        viewModelScope.launch {\r\n            ...//your code\r\n            \r\n            if (resource.data == null)                            \r\n                navController.navigateAndReplaceStartRoute(RootNavigation.Login.route)\r\n            else navController.navigateAndReplaceStartRoute(RootNavigation.Workspace.route)\r\n\r\n            ...//your code\r\n        }\r\n    }\r\n\r\nDid I answer your question?","title":"Navigate by checking login state with jetpack compose (Conditional Nested Nav graphs)","body":"<p>If i understand your question correctly I would do it this way:</p>\n<pre><code>@Composable\nfun App(mainViewModel: MainViewModel) {\n    val navController = rememberNavController()\n\n    LaunchedEffect(Unit) {\n        mainViewModel.checkAuth(navController)\n    }\n    \n    NavHost(\n        navController = navController,\n        startDestination = RootNavigation.Home.route\n    ) {\n        \n        composable(RootNavigation.Home.route) {\n            SplashScreen()\n        }\n\n        loginGraph(navController)\n\n        workspaceGraph(navController)\n    }\n}\n</code></pre>\n<p>At MainViewModel:</p>\n<pre><code>fun checkAuth(navController: NavHostController) {\n    viewModelScope.launch {\n        ...//your code\n        \n        if (resource.data == null)                            \n            navController.navigateAndReplaceStartRoute(RootNavigation.Login.route)\n        else navController.navigateAndReplaceStartRoute(RootNavigation.Workspace.route)\n\n        ...//your code\n    }\n}\n</code></pre>\n<p>Did I answer your question?</p>\n"},{"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678146713,"creation_date":1678146713,"answer_id":75656865,"question_id":73363186,"body_markdown":"So, for me is easier doing it this way\r\n\r\n    @Composable\r\n    fun NavigationGraph(\r\n        navController: NavHostController\r\n    ) {\r\n    \r\n        val currentUser = Firebase.auth.currentUser\r\n        val startRoute = if(currentUser != null) NavigationScreens.HomeScreen else NavigationScreens.LoginScreen\r\n    \r\n        NavHost(navController = navController, startDestination = startRoute.route) { ... }\r\n\r\nSince `Firebase.auth` is a singleton that can be accessed from anywhere, you can check in your `NavGraph` before creating it if the user is not null, if so, there is a current logged in user , if there is a user logged in, just show home screen, else login.\r\n\r\nIf someone is interesed on what `NavigationScreens` is.\r\n\r\n    sealed class NavigationScreens(val route: String) {\r\n     object HomeScreen: NavigationScreens(&quot;home_screen&quot;)\r\n     object LoginScreen: NavigationScreens(&quot;login_screen&quot;)\r\n    }\r\n\r\nThe solution given from **@ngalashev** could potentially open the HomeScreen before the validation inside `mainViewModel.checkAuth(navController)` returns to navigate to the `LoginScreen`. Also it could add the HomeScreen to the backstack","title":"Navigate by checking login state with jetpack compose (Conditional Nested Nav graphs)","body":"<p>So, for me is easier doing it this way</p>\n<pre><code>@Composable\nfun NavigationGraph(\n    navController: NavHostController\n) {\n\n    val currentUser = Firebase.auth.currentUser\n    val startRoute = if(currentUser != null) NavigationScreens.HomeScreen else NavigationScreens.LoginScreen\n\n    NavHost(navController = navController, startDestination = startRoute.route) { ... }\n</code></pre>\n<p>Since <code>Firebase.auth</code> is a singleton that can be accessed from anywhere, you can check in your <code>NavGraph</code> before creating it if the user is not null, if so, there is a current logged in user , if there is a user logged in, just show home screen, else login.</p>\n<p>If someone is interesed on what <code>NavigationScreens</code> is.</p>\n<pre><code>sealed class NavigationScreens(val route: String) {\n object HomeScreen: NavigationScreens(&quot;home_screen&quot;)\n object LoginScreen: NavigationScreens(&quot;login_screen&quot;)\n}\n</code></pre>\n<p>The solution given from <strong>@ngalashev</strong> could potentially open the HomeScreen before the validation inside <code>mainViewModel.checkAuth(navController)</code> returns to navigate to the <code>LoginScreen</code>. Also it could add the HomeScreen to the backstack</p>\n"}],"owner":{"account_id":7862760,"reputation":4624,"user_id":5942579,"accept_rate":74,"display_name":"Emmanuel Mtali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1021,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678146713,"creation_date":1660577513,"question_id":73363186,"body_markdown":"I am trying to implement a way to check authentication status from the room database before and navigate (Conditional navigation) \r\n\r\nThe requirement is as follows\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6PfBf.png\r\n\r\nI have a session manager with the following code\r\n\r\n        private val _sessionState = MutableStateFlow(SessionState.Loading)\r\n        val sessionState: StateFlow&lt;SessionState&gt; = _sessionState\r\n    \r\n        init {\r\n            coroutineScope.launch {\r\n                sessionRepo.getActiveSession()\r\n                    .collect { resource -&gt;\r\n                        _sessionState.value = when (resource) {\r\n                            is Resource.Success -&gt; {\r\n                                if (resource.data == null) {\r\n                                    SessionState.InActive\r\n                                } else {\r\n                                    SessionState.Active\r\n                                }\r\n                            }\r\n                            else -&gt; throw IllegalStateException(&quot;Failed to load session&quot;)\r\n                        }\r\n                    }\r\n            }\r\n        }\r\n\r\n\r\nHow can I check this with jetpack compose\r\n\r\n","title":"Navigate by checking login state with jetpack compose (Conditional Nested Nav graphs)","body":"<p>I am trying to implement a way to check authentication status from the room database before and navigate (Conditional navigation)</p>\n<p>The requirement is as follows</p>\n<p><a href=\"https://i.stack.imgur.com/6PfBf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6PfBf.png\" alt=\"enter image description here\" /></a></p>\n<p>I have a session manager with the following code</p>\n<pre><code>    private val _sessionState = MutableStateFlow(SessionState.Loading)\n    val sessionState: StateFlow&lt;SessionState&gt; = _sessionState\n\n    init {\n        coroutineScope.launch {\n            sessionRepo.getActiveSession()\n                .collect { resource -&gt;\n                    _sessionState.value = when (resource) {\n                        is Resource.Success -&gt; {\n                            if (resource.data == null) {\n                                SessionState.InActive\n                            } else {\n                                SessionState.Active\n                            }\n                        }\n                        else -&gt; throw IllegalStateException(&quot;Failed to load session&quot;)\n                    }\n                }\n        }\n    }\n</code></pre>\n<p>How can I check this with jetpack compose</p>\n"},{"tags":["java","spring","docker","grpc"],"answers":[{"tags":[],"owner":{"account_id":25649504,"reputation":144,"user_id":19417003,"display_name":"Larry Safran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678146161,"creation_date":1678146161,"answer_id":75656812,"question_id":65527633,"body_markdown":"The existing logic only retries the dns lookup when refresh() is called after the timeout period.  Refresh will only be called as needed, such as the channel moving to state TRANSIENT_FALIURE or the reconnect attempts after that, so your original plan to set a relatively short cache.ttl was a good approach.","title":"GRPC Java caches old DNS entry and does not retry to get a new entry","body":"<p>The existing logic only retries the dns lookup when refresh() is called after the timeout period.  Refresh will only be called as needed, such as the channel moving to state TRANSIENT_FALIURE or the reconnect attempts after that, so your original plan to set a relatively short cache.ttl was a good approach.</p>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75656812,"answer_count":1,"score":2,"last_activity_date":1678146161,"creation_date":1609481428,"question_id":65527633,"body_markdown":"Similar to https://stackoverflow.com/questions/64007975/java-grpc-invalidate-dns-cache but more specific to a Docker *development* environment where services can come up and down (since some stacks are pretty resource intensive so some are shutdown and brought up on an as needed basis).  Its easier to do `docker stack rm` and `docker stack deploy` for the parts that we need rather than creating scale up and down scripts for each stack.  In that situation when the services are recreated the VIP can change (I know I can just fix the IP on the network, but that would mean each stack has to know which ones are available which is something I&#39;d want to avoid).\r\n\r\nGiven that context, the DNS may point to an older address, so I use the `-Dnetworkaddress.cache.ttl=5` looking at the [grpc-java code](https://github.com/grpc/grpc-java/blob/f6c2d221e2b6c975c6cf465d68fe11ab12dabe55/core/src/main/java/io/grpc/internal/DnsNameResolver.java#L106) it appears that should be all I need to set so that it is consistent.  At least for 5 seconds (which is the TTL)\r\n\r\nBut let&#39;s say I want to make it performant and only retry when needed and only define the message channel once (since according to the instructions it is a very expensive operation.  I set things up as follows.  But I am getting occassional failures.  I don&#39;t reuse the stubs because it appears to cause problems in my first go.\r\n\r\n```java\r\n@Component\r\npublic class ClientProvider {\r\n  @Value(&quot;${srv.host}&quot;)\r\n  private String host;\r\n\r\n  @Value(&quot;${srv.port}&quot;)\r\n  private int port;\r\n\r\n  @Value(&quot;${srv.maxRetryAttempts:5}&quot;)\r\n  private int maxiRetryAttempts;\r\n\r\n  @Value(&quot;${srv.maxMessageSize:50000000}&quot;)\r\n  private int maxMessageSize;\r\n\r\n  private ManagedChannel channel;\r\n  @PostConstruct\r\n  public void initChannel() {\r\n    channel = ManagedChannelBuilder\r\n             .forAddress(host, port)\r\n             .usePlaintext()\r\n             .enableRetry()\r\n             .maxRetryAttempts(maxRetryAttempts)\r\n             .maxInboundMessageSize(maxMessageSize)\r\n             .build();\r\n  }\r\n\r\n  public MyBlockingStub blockingStub() {\r\n    return MyGrpc.newBlockingStub(channel);\r\n  }\r\n\r\n  public MyStub stub() {\r\n    return MyGrpc.newStub(channel);\r\n  }\r\n  \r\n  @PreDestroy\r\n  public void shutdownChannel() {\r\n    channel.shutdown();\r\n  }\r\n}\r\n```\r\n\r\nSo I got rid of the single channel and created channels everytime I needed a stub.  It seems to work but I don&#39;t think this is the right way of doing things especiaally since I am not cleaning up the channels after use.\r\n\r\n```java\r\n@Component\r\npublic class ClientProvider {\r\n  @Value(&quot;${srv.host}&quot;)\r\n  private String host;\r\n\r\n  @Value(&quot;${srv.port}&quot;)\r\n  private int port;\r\n\r\n  @Value(&quot;${srv.maxRetryAttempts:5}&quot;)\r\n  private int maxiRetryAttempts;\r\n\r\n  @Value(&quot;${srv.maxMessageSize:50000000}&quot;)\r\n  private int maxMessageSize;\r\n\r\n  public ManagedChannel channel() {\r\n    return ManagedChannelBuilder\r\n             .forAddress(host, port)\r\n             .usePlaintext()\r\n             .enableRetry()\r\n             .maxRetryAttempts(maxRetryAttempts)\r\n             .maxInboundMessageSize(maxMessageSize)\r\n             .build();\r\n  }\r\n\r\n  public MyBlockingStub blockingStub() {\r\n    return MyGrpc.newBlockingStub(channel());\r\n  }\r\n\r\n  public MyStub stub() {\r\n    return MyGrpc.newStub(channel());\r\n  }\r\n}\r\n```\r\n\r\nI am thinking it is just a matter of setting up the configuration correctly on the channel, but I am not sure if I am missing anything.","title":"GRPC Java caches old DNS entry and does not retry to get a new entry","body":"<p>Similar to <a href=\"https://stackoverflow.com/questions/64007975/java-grpc-invalidate-dns-cache\">Java Grpc: invalidate dns cache</a> but more specific to a Docker <em>development</em> environment where services can come up and down (since some stacks are pretty resource intensive so some are shutdown and brought up on an as needed basis).  Its easier to do <code>docker stack rm</code> and <code>docker stack deploy</code> for the parts that we need rather than creating scale up and down scripts for each stack.  In that situation when the services are recreated the VIP can change (I know I can just fix the IP on the network, but that would mean each stack has to know which ones are available which is something I'd want to avoid).</p>\n<p>Given that context, the DNS may point to an older address, so I use the <code>-Dnetworkaddress.cache.ttl=5</code> looking at the <a href=\"https://github.com/grpc/grpc-java/blob/f6c2d221e2b6c975c6cf465d68fe11ab12dabe55/core/src/main/java/io/grpc/internal/DnsNameResolver.java#L106\" rel=\"nofollow noreferrer\">grpc-java code</a> it appears that should be all I need to set so that it is consistent.  At least for 5 seconds (which is the TTL)</p>\n<p>But let's say I want to make it performant and only retry when needed and only define the message channel once (since according to the instructions it is a very expensive operation.  I set things up as follows.  But I am getting occassional failures.  I don't reuse the stubs because it appears to cause problems in my first go.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ClientProvider {\n  @Value(&quot;${srv.host}&quot;)\n  private String host;\n\n  @Value(&quot;${srv.port}&quot;)\n  private int port;\n\n  @Value(&quot;${srv.maxRetryAttempts:5}&quot;)\n  private int maxiRetryAttempts;\n\n  @Value(&quot;${srv.maxMessageSize:50000000}&quot;)\n  private int maxMessageSize;\n\n  private ManagedChannel channel;\n  @PostConstruct\n  public void initChannel() {\n    channel = ManagedChannelBuilder\n             .forAddress(host, port)\n             .usePlaintext()\n             .enableRetry()\n             .maxRetryAttempts(maxRetryAttempts)\n             .maxInboundMessageSize(maxMessageSize)\n             .build();\n  }\n\n  public MyBlockingStub blockingStub() {\n    return MyGrpc.newBlockingStub(channel);\n  }\n\n  public MyStub stub() {\n    return MyGrpc.newStub(channel);\n  }\n  \n  @PreDestroy\n  public void shutdownChannel() {\n    channel.shutdown();\n  }\n}\n</code></pre>\n<p>So I got rid of the single channel and created channels everytime I needed a stub.  It seems to work but I don't think this is the right way of doing things especiaally since I am not cleaning up the channels after use.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ClientProvider {\n  @Value(&quot;${srv.host}&quot;)\n  private String host;\n\n  @Value(&quot;${srv.port}&quot;)\n  private int port;\n\n  @Value(&quot;${srv.maxRetryAttempts:5}&quot;)\n  private int maxiRetryAttempts;\n\n  @Value(&quot;${srv.maxMessageSize:50000000}&quot;)\n  private int maxMessageSize;\n\n  public ManagedChannel channel() {\n    return ManagedChannelBuilder\n             .forAddress(host, port)\n             .usePlaintext()\n             .enableRetry()\n             .maxRetryAttempts(maxRetryAttempts)\n             .maxInboundMessageSize(maxMessageSize)\n             .build();\n  }\n\n  public MyBlockingStub blockingStub() {\n    return MyGrpc.newBlockingStub(channel());\n  }\n\n  public MyStub stub() {\n    return MyGrpc.newStub(channel());\n  }\n}\n</code></pre>\n<p>I am thinking it is just a matter of setting up the configuration correctly on the channel, but I am not sure if I am missing anything.</p>\n"},{"tags":["java","spring","spring-boot","javabeans","autowired"],"answers":[{"tags":[],"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677900600,"creation_date":1677899351,"answer_id":75633416,"question_id":75633154,"body_markdown":"In theory, providing it in a bean should work, but you should be sure to initialize its data in the bean.\r\n\r\n    @Bean\r\n    public List&lt;Student&gt; getStudents() {\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        List&lt;Student&gt; people = restTemplate.exchange(&quot;https://some.url.com&quot;, ...other params);\r\n        return people;\r\n    }\r\n\r\nThis bean should be a singleton by default, so it should be the same list provided anywhere else a `List&lt;Student&gt;` is injected (either through constructor injection or with `@Autowired`)\r\n\r\nIf you are needing to use the RestTemplate in other places, you can make that a bean as well, which I believe youve already done, and inject it via constructor.\r\n\r\n    @Bean\r\n    public List&lt;Student&gt; getStudents(RestTemplate restTemplate) {\r\n        List&lt;Student&gt; people = restTemplate.exchange(&quot;https://some.url.com&quot;, ...other params);\r\n        return people;\r\n    }\r\n\r\nEdit: I did a bit more research and it seems to make the list accessible, you may need to use `@Resource` instead of `@Autowired` as suggested here\r\n[how to define a list bean in spring][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2416056/how-to-define-a-list-bean-in-spring","title":"How to share the ArrayList across spring boot","body":"<p>In theory, providing it in a bean should work, but you should be sure to initialize its data in the bean.</p>\n<pre><code>@Bean\npublic List&lt;Student&gt; getStudents() {\n    RestTemplate restTemplate = new RestTemplate();\n    List&lt;Student&gt; people = restTemplate.exchange(&quot;https://some.url.com&quot;, ...other params);\n    return people;\n}\n</code></pre>\n<p>This bean should be a singleton by default, so it should be the same list provided anywhere else a <code>List&lt;Student&gt;</code> is injected (either through constructor injection or with <code>@Autowired</code>)</p>\n<p>If you are needing to use the RestTemplate in other places, you can make that a bean as well, which I believe youve already done, and inject it via constructor.</p>\n<pre><code>@Bean\npublic List&lt;Student&gt; getStudents(RestTemplate restTemplate) {\n    List&lt;Student&gt; people = restTemplate.exchange(&quot;https://some.url.com&quot;, ...other params);\n    return people;\n}\n</code></pre>\n<p>Edit: I did a bit more research and it seems to make the list accessible, you may need to use <code>@Resource</code> instead of <code>@Autowired</code> as suggested here\n<a href=\"https://stackoverflow.com/questions/2416056/how-to-define-a-list-bean-in-spring\">how to define a list bean in spring</a></p>\n"},{"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678146015,"creation_date":1678146015,"answer_id":75656795,"question_id":75633154,"body_markdown":"Don&#39;t make a bean of `List&lt;Student&gt;`. Make a business class with a `public List&lt;Student&gt; getStudents()` method - this class should be a bean.","title":"How to share the ArrayList across spring boot","body":"<p>Don't make a bean of <code>List&lt;Student&gt;</code>. Make a business class with a <code>public List&lt;Student&gt; getStudents()</code> method - this class should be a bean.</p>\n"}],"owner":{"account_id":24725031,"reputation":79,"user_id":18613635,"display_name":"Gwenda Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75633416,"answer_count":2,"score":0,"last_activity_date":1678146015,"creation_date":1677893894,"question_id":75633154,"body_markdown":"I have a java application that uses aws kinesis stream. \r\n\r\nIn the application, I get the student data in real time via kinesis stream and I have to make some action depending on the student id. \r\n\r\nThere is a list of students that I need to query from the database, and the each student from kinesis stream needs a checking if the student is in the list or not. \r\n\r\nHowever I would like to query the list of students to the database only once, because that is one of the requirements. \r\n\r\nOn top of that I would like to make the query as soon as the application starts; that way if the query fails we can also fail the application. In other words, if the query does not succeed the application should not run.\r\n\r\nThis is what I would like to do\r\n\r\n```groovy\r\n@SpringBootApplication\r\n@EnabledScheduling\r\n@EnableCaching\r\n@Configuration\r\nclass Application implements CommandLineRuner {\r\n\r\n  @Autowired\r\n  RestTemplate restTemplate\r\n\r\n  @Autowired\r\n  List&lt;Student&gt; students\r\n\r\n  static void main(String[] args) {\r\n    SpringApplication app = new SpringApplication(Application);\r\n    app.webApplicationType = WebApplicationType.NONE;\r\n    app.run(args)\r\n  }\r\n\r\n  @Overrde\r\n  void run(String... args) thows Exception {\r\n    try {\r\n      // make a request\r\n      List&lt;Student&gt; people = this.restTemplate.exchange(&quot;https://some.url.com&quot;, ...other params)\r\n      this.students = people\r\n\r\n      // running kcl worker\r\n      KclConsumer.kclWorker.run()\r\n    } catch (Exception ex) {\r\n      ....\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n```groovy\r\n@Service\r\nclass SomeService {\r\n\r\n  @Autowired\r\n  RestTemplate restTemplate\r\n\r\n  @Autowired\r\n  List&lt;Student&gt; students\r\n\r\n  void func(Student id) {\r\n    this.students.each {\r\n      if(id == it.id) {\r\n        println(&quot;found you&quot;)\r\n        return;\r\n      }\r\n    }\r\n    println(&quot;not found&quot;)\r\n  }\r\n}\r\n```\r\nI have tried creating the bean and share across the project as following but it does not seem to work...\r\n\r\n```groovy\r\nclass SomeConfig {\r\n  @Bean\r\n  List&lt;Student&gt; students() {\r\n    return new ArrayList&lt;&gt;();\r\n  }\r\n}\r\n```\r\n\r\nI am guess how I am using bean is wrong. \r\nCan someone help me with my code please? \r\nThank you in advance","title":"How to share the ArrayList across spring boot","body":"<p>I have a java application that uses aws kinesis stream.</p>\n<p>In the application, I get the student data in real time via kinesis stream and I have to make some action depending on the student id.</p>\n<p>There is a list of students that I need to query from the database, and the each student from kinesis stream needs a checking if the student is in the list or not.</p>\n<p>However I would like to query the list of students to the database only once, because that is one of the requirements.</p>\n<p>On top of that I would like to make the query as soon as the application starts; that way if the query fails we can also fail the application. In other words, if the query does not succeed the application should not run.</p>\n<p>This is what I would like to do</p>\n<pre><code>@SpringBootApplication\n@EnabledScheduling\n@EnableCaching\n@Configuration\nclass Application implements CommandLineRuner {\n\n  @Autowired\n  RestTemplate restTemplate\n\n  @Autowired\n  List&lt;Student&gt; students\n\n  static void main(String[] args) {\n    SpringApplication app = new SpringApplication(Application);\n    app.webApplicationType = WebApplicationType.NONE;\n    app.run(args)\n  }\n\n  @Overrde\n  void run(String... args) thows Exception {\n    try {\n      // make a request\n      List&lt;Student&gt; people = this.restTemplate.exchange(&quot;https://some.url.com&quot;, ...other params)\n      this.students = people\n\n      // running kcl worker\n      KclConsumer.kclWorker.run()\n    } catch (Exception ex) {\n      ....\n    }\n  }\n}\n</code></pre>\n<pre><code>@Service\nclass SomeService {\n\n  @Autowired\n  RestTemplate restTemplate\n\n  @Autowired\n  List&lt;Student&gt; students\n\n  void func(Student id) {\n    this.students.each {\n      if(id == it.id) {\n        println(&quot;found you&quot;)\n        return;\n      }\n    }\n    println(&quot;not found&quot;)\n  }\n}\n</code></pre>\n<p>I have tried creating the bean and share across the project as following but it does not seem to work...</p>\n<pre><code>class SomeConfig {\n  @Bean\n  List&lt;Student&gt; students() {\n    return new ArrayList&lt;&gt;();\n  }\n}\n</code></pre>\n<p>I am guess how I am using bean is wrong.\nCan someone help me with my code please?\nThank you in advance</p>\n"},{"tags":["java","multithreading","spring-boot","threadpool"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1678146310,"post_id":75656777,"comment_id":133473716,"body_markdown":"Where is the error? I don&#39;t see a cast.","body":"Where is the error? I don&#39;t see a cast."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678146921,"post_id":75656777,"comment_id":133473809,"body_markdown":"Possibly some code (e.g., some decorator/proxy?) is invoking a method on your `FutureImpl` (e.g., `thenAccept`) and that&#39;s returning a plain `CompletableFuture`. If that&#39;s the case, then try overriding [`newIncompleteFuture()`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/CompletableFuture.html#newIncompleteFuture()) as well and see if that fixes the error.","body":"Possibly some code (e.g., some decorator/proxy?) is invoking a method on your <code>FutureImpl</code> (e.g., <code>thenAccept</code>) and that&#39;s returning a plain <code>CompletableFuture</code>. If that&#39;s the case, then try overriding <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/CompletableFuture.html#newIncompleteFuture()\" rel=\"nofollow noreferrer\"><code>newIncompleteFuture()</code></a> as well and see if that fixes the error."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678146954,"post_id":75656777,"comment_id":133473817,"body_markdown":"But note your override of `cancel` is not doing what you think. `Thread.currentThread().interrupt()` is interrupting the thread which called `cancel`, not the thread that&#39;s executing the future&#39;s action.","body":"But note your override of <code>cancel</code> is not doing what you think. <code>Thread.currentThread().interrupt()</code> is interrupting the thread which called <code>cancel</code>, not the thread that&#39;s executing the future&#39;s action."},{"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"score":0,"creation_date":1678181685,"post_id":75656777,"comment_id":133479411,"body_markdown":"Then how may I interrupt thread that is executing future&#39;s action? I don&#39;t want to double up threads&#39; number","body":"Then how may I interrupt thread that is executing future&#39;s action? I don&#39;t want to double up threads&#39; number"}],"owner":{"account_id":18807214,"reputation":45,"user_id":13716265,"display_name":"Thorvas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678145707,"creation_date":1678145707,"question_id":75656777,"body_markdown":"I need to override ```cancel()``` method in ```CompletableFuture&lt;T&gt;``` class because I need to interrupt thread after timeout specified in ```get()```. Normal ```CompletableFuture&lt;T&gt;``` only throws ```TimeoutException``` after timeout, but threads are still stuck with some infinite task. If there is other solution, please, correct me but currently I am trying to instantiate ```FutureImpl&lt;T&gt;```. However, I receive an error with message:\r\n```\r\nclass java.util.concurrent.CompletableFuture cannot be cast to class FutureImpl (java.util.concurrent.CompletableFuture is in module java.base of loader &#39;bootstrap&#39;; FutureImpl is in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\nI extend ```CompletableFuture&lt;T&gt;``` like that:\r\n```\r\npublic class FutureImpl&lt;T&gt; extends CompletableFuture&lt;T&gt; {\r\n\r\n    @Override\r\n    public boolean cancel(boolean mayInterruptIfRunning) {\r\n        boolean result = super.cancel(mayInterruptIfRunning);\r\n        if (mayInterruptIfRunning &amp;&amp; result) {\r\n            System.out.println(&quot;Really cancelled&quot;);\r\n            Thread.currentThread().interrupt();\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have snippet of code (it implements method in interface)\r\n\r\n```\r\n@Override\r\n    @Async(&quot;Executor&quot;)\r\n    public FutureImpl&lt;String&gt; process() {\r\n        FutureImpl&lt;String&gt; newFuture = new FutureImpl&lt;String&gt;();\r\n        System.out.println(newFuture.getClass());\r\n\r\n        try {\r\n            //Do something long\r\n            newFuture.complete(&quot;RESULT&quot;);\r\n\r\n        } catch (Exception exc){\r\n            newFuture.completeExceptionally(exc);\r\n        }\r\n        return newFuture;\r\n    }\r\n}\r\n```\r\n\r\nAnd I also have this snippet of code:\r\n```\r\n    @Inject\r\n    private WorkerService workerService;\r\n\r\n    //An example PostMapping for service test in Postman\r\n    @GetMapping\r\n    @Async(&quot;TARWS-Executor&quot;)\r\n    public void testService() {\r\n        FutureImpl&lt;String&gt; future = workerService.process();\r\n\r\n        try {\r\n            future.get(5, TimeUnit.SECONDS);\r\n        } catch (InterruptedException | ExecutionException | TimeoutException exc) {\r\n            future.cancel(true);\r\n        }\r\n\r\n    }\r\n\r\n```\r\n","title":"Custom CompletableFuture class - incompatible casting despite having correct return","body":"<p>I need to override <code>cancel()</code> method in <code>CompletableFuture&lt;T&gt;</code> class because I need to interrupt thread after timeout specified in <code>get()</code>. Normal <code>CompletableFuture&lt;T&gt;</code> only throws <code>TimeoutException</code> after timeout, but threads are still stuck with some infinite task. If there is other solution, please, correct me but currently I am trying to instantiate <code>FutureImpl&lt;T&gt;</code>. However, I receive an error with message:</p>\n<pre><code>class java.util.concurrent.CompletableFuture cannot be cast to class FutureImpl (java.util.concurrent.CompletableFuture is in module java.base of loader 'bootstrap'; FutureImpl is in unnamed module of loader 'app')\n</code></pre>\n<p>I extend <code>CompletableFuture&lt;T&gt;</code> like that:</p>\n<pre><code>public class FutureImpl&lt;T&gt; extends CompletableFuture&lt;T&gt; {\n\n    @Override\n    public boolean cancel(boolean mayInterruptIfRunning) {\n        boolean result = super.cancel(mayInterruptIfRunning);\n        if (mayInterruptIfRunning &amp;&amp; result) {\n            System.out.println(&quot;Really cancelled&quot;);\n            Thread.currentThread().interrupt();\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>I have snippet of code (it implements method in interface)</p>\n<pre><code>@Override\n    @Async(&quot;Executor&quot;)\n    public FutureImpl&lt;String&gt; process() {\n        FutureImpl&lt;String&gt; newFuture = new FutureImpl&lt;String&gt;();\n        System.out.println(newFuture.getClass());\n\n        try {\n            //Do something long\n            newFuture.complete(&quot;RESULT&quot;);\n\n        } catch (Exception exc){\n            newFuture.completeExceptionally(exc);\n        }\n        return newFuture;\n    }\n}\n</code></pre>\n<p>And I also have this snippet of code:</p>\n<pre><code>    @Inject\n    private WorkerService workerService;\n\n    //An example PostMapping for service test in Postman\n    @GetMapping\n    @Async(&quot;TARWS-Executor&quot;)\n    public void testService() {\n        FutureImpl&lt;String&gt; future = workerService.process();\n\n        try {\n            future.get(5, TimeUnit.SECONDS);\n        } catch (InterruptedException | ExecutionException | TimeoutException exc) {\n            future.cancel(true);\n        }\n\n    }\n\n</code></pre>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678144836,"creation_date":1678144836,"answer_id":75656705,"question_id":75656381,"body_markdown":"You&#39;d need to write your own loop to do this. The TCP request will fail to connect if the broker is down. The config `retries` for a producer is for handling _transient_ errors, on sending data itself, not establishing broker connections. \r\n\r\nAlso, note that `2147483647` is the default retries value, so there is no reason to explicitly set it to a lower value in this case. ","title":"Kafka retry property not working as expected","body":"<p>You'd need to write your own loop to do this. The TCP request will fail to connect if the broker is down. The config <code>retries</code> for a producer is for handling <em>transient</em> errors, on sending data itself, not establishing broker connections.</p>\n<p>Also, note that <code>2147483647</code> is the default retries value, so there is no reason to explicitly set it to a lower value in this case.</p>\n"}],"owner":{"account_id":27836545,"reputation":37,"user_id":21253875,"display_name":"Inessa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75656705,"answer_count":1,"score":0,"last_activity_date":1678144836,"creation_date":1678141347,"question_id":75656381,"body_markdown":"I have setup up Kafka using version 2.8.1 with the basic configuration as 1 Broker 1 Topic and 1 Partition.\r\nI use the following code to send\r\n\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        //1. Create producer configuration information\r\n        Properties properties = new Properties();\r\n        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,&quot;localhost:19092&quot;);\r\n        properties.put(&quot;max.block.ms&quot;,&quot;5000&quot;);\r\n        properties.put(&quot;retries&quot;,&quot;3&quot;);\r\n        properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\r\n        //2. Create producer object\r\n        KafkaProducer&lt;String,String&gt; producer = new KafkaProducer&lt;String, String&gt;(properties);\r\n\r\n        final CountDownLatch countDownLatch = new CountDownLatch(1);\r\n       \r\n        //3. Send data\r\n            producer.send(new ProducerRecord&lt;String, String&gt;(&quot;test&quot;,&quot;CallBack--1&quot;), new Callback() {\r\n                public void onCompletion(RecordMetadata metadata, Exception exception) {\r\n                    if (exception == null){\r\n                        System.out.println(metadata.partition()+&quot;==&quot;+metadata.offset());\r\n                        countDownLatch.countDown();\r\n                    }else {\r\n                        System.out.println(&quot;Error!!!&quot;);\r\n                        exception.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n\r\n        countDownLatch.await(60, TimeUnit.SECONDS);\r\n\r\n\r\n        //4. Close resources\r\n        producer.close();\r\n    }\r\n\r\n\r\n\r\nBoth my Broker &amp; Zookeeper are down and I expect `Error!!` to appear in the log 3 times, but nothing happens after the error `org.apache.kafka.common.errors.TimeoutException: Topic test not present in metadata after 5000 ms`.How can I set up repeats when the broker is unavailable?","title":"Kafka retry property not working as expected","body":"<p>I have setup up Kafka using version 2.8.1 with the basic configuration as 1 Broker 1 Topic and 1 Partition.\nI use the following code to send</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    //1. Create producer configuration information\n    Properties properties = new Properties();\n    properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG,&quot;localhost:19092&quot;);\n    properties.put(&quot;max.block.ms&quot;,&quot;5000&quot;);\n    properties.put(&quot;retries&quot;,&quot;3&quot;);\n    properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n    properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,&quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n\n    //2. Create producer object\n    KafkaProducer&lt;String,String&gt; producer = new KafkaProducer&lt;String, String&gt;(properties);\n\n    final CountDownLatch countDownLatch = new CountDownLatch(1);\n   \n    //3. Send data\n        producer.send(new ProducerRecord&lt;String, String&gt;(&quot;test&quot;,&quot;CallBack--1&quot;), new Callback() {\n            public void onCompletion(RecordMetadata metadata, Exception exception) {\n                if (exception == null){\n                    System.out.println(metadata.partition()+&quot;==&quot;+metadata.offset());\n                    countDownLatch.countDown();\n                }else {\n                    System.out.println(&quot;Error!!!&quot;);\n                    exception.printStackTrace();\n                }\n            }\n        });\n\n    countDownLatch.await(60, TimeUnit.SECONDS);\n\n\n    //4. Close resources\n    producer.close();\n}\n</code></pre>\n<p>Both my Broker &amp; Zookeeper are down and I expect <code>Error!!</code> to appear in the log 3 times, but nothing happens after the error <code>org.apache.kafka.common.errors.TimeoutException: Topic test not present in metadata after 5000 ms</code>.How can I set up repeats when the broker is unavailable?</p>\n"},{"tags":["java","asynchronous","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678144688,"creation_date":1678144688,"answer_id":75656693,"question_id":75656643,"body_markdown":"The first send request is blocking to create the topic. \r\n\r\nAlso, your `after` should be within the lamdba callback body. ","title":"How kafka producer works in asynchronous mode","body":"<p>The first send request is blocking to create the topic.</p>\n<p>Also, your <code>after</code> should be within the lamdba callback body.</p>\n"}],"owner":{"account_id":18476555,"reputation":517,"user_id":13459947,"display_name":"Violetta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75656693,"answer_count":1,"score":0,"last_activity_date":1678144688,"creation_date":1678144085,"question_id":75656643,"body_markdown":"I have a simple code to send a message\r\n```\r\n    private static void send(KafkaProducer&lt;String, String&gt; producer) {\r\n        System.out.println(Thread.currentThread()+&quot; before&quot;);\r\n        producer.send(new ProducerRecord&lt;String, String&gt;(&quot;test&quot;, &quot;test&quot;), (metadata, exception) -&gt; {\r\n            if (exception == null) {\r\n                System.out.println(metadata.partition());\r\n            } else {\r\n                exception.printStackTrace();\r\n            }\r\n        });\r\n        System.out.println(Thread.currentThread()+&quot; after&quot;);\r\n    }\r\n```\r\nAnd kafka config\r\n```\r\n        Properties properties = new Properties();\r\n        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9091&quot;);\r\n        properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n        properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n\r\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\r\n```\r\nMy kafka is shutdown.\r\n\r\nI expected if I call send twice\r\n```\r\n        send(producer);\r\n        send(producer);\r\n```\r\n, I will get two `Thread before` records one after the other since we are working in asynchronous mode\r\n```\r\nThread before\r\nThread before\r\n\r\n```\r\nBut I see the start of processing the second record only after the error of the first\r\n```\r\nThread[main,5,main] before\r\norg.apache.kafka.common.errors.TimeoutException: Topic test not present in metadata after 60000 ms.\r\nThread[main,5,main] after\r\nThread[main,5,main] before\r\n```\r\n\r\nI think I misunderstood kafka&#39;s asynchronous mode","title":"How kafka producer works in asynchronous mode","body":"<p>I have a simple code to send a message</p>\n<pre><code>    private static void send(KafkaProducer&lt;String, String&gt; producer) {\n        System.out.println(Thread.currentThread()+&quot; before&quot;);\n        producer.send(new ProducerRecord&lt;String, String&gt;(&quot;test&quot;, &quot;test&quot;), (metadata, exception) -&gt; {\n            if (exception == null) {\n                System.out.println(metadata.partition());\n            } else {\n                exception.printStackTrace();\n            }\n        });\n        System.out.println(Thread.currentThread()+&quot; after&quot;);\n    }\n</code></pre>\n<p>And kafka config</p>\n<pre><code>        Properties properties = new Properties();\n        properties.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9091&quot;);\n        properties.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        properties.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(properties);\n</code></pre>\n<p>My kafka is shutdown.</p>\n<p>I expected if I call send twice</p>\n<pre><code>        send(producer);\n        send(producer);\n</code></pre>\n<p>, I will get two <code>Thread before</code> records one after the other since we are working in asynchronous mode</p>\n<pre><code>Thread before\nThread before\n\n</code></pre>\n<p>But I see the start of processing the second record only after the error of the first</p>\n<pre><code>Thread[main,5,main] before\norg.apache.kafka.common.errors.TimeoutException: Topic test not present in metadata after 60000 ms.\nThread[main,5,main] after\nThread[main,5,main] before\n</code></pre>\n<p>I think I misunderstood kafka's asynchronous mode</p>\n"},{"tags":["java","servlets","deployment","netbeans","tomcat9"],"answers":[{"tags":[],"owner":{"account_id":27951943,"reputation":1,"user_id":21345560,"display_name":"Kandarp Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678144659,"creation_date":1678144659,"answer_id":75656690,"question_id":75154273,"body_markdown":"Here the problem is with the User Profile Folder&#39;s Name.\r\nThe space in that folder&#39;s name (Ayush Singh) creates a problem.\r\nI&#39;m not sure that is windows error or netbeans error but try running netbeans into other user account with name which does not have space or other special characters in between like Ayush.\r\nThis was the error with me as well and I tried above steps and it worked.","title":"Netbeans fails to deploy web application on tomcat","body":"<p>Here the problem is with the User Profile Folder's Name.\nThe space in that folder's name (Ayush Singh) creates a problem.\nI'm not sure that is windows error or netbeans error but try running netbeans into other user account with name which does not have space or other special characters in between like Ayush.\nThis was the error with me as well and I tried above steps and it worked.</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678144659,"creation_date":1674010381,"question_id":75154273,"body_markdown":"I am using **NetBeans IDE** for building Servlet Applications. When I build and try to deploy on Tomcat I get the following errors-\r\n```\r\nIn-place deployment at D:\\SpringBootProjects\\Servlets\\urlrewritingsample\\build\\web\r\nDeployment is in progress...\r\ndeploy?config=file%3A%2FC%3A%2FUsers%2FAyush%2520Singh%2FAppData%2FLocal%2FTemp%2Fcontext1073696000555366189.xml&amp;path=/urlrewritingsample\r\nFAIL - Failed to deploy application at context path [/urlrewritingsample]\r\nD:\\SpringBootProjects\\Servlets\\urlrewritingsample\\nbproject\\build-impl.xml:1030: The module has not been deployed.\r\nSee the server log for details.\r\nBUILD FAILED (total time: 0 seconds)\r\n``` \r\n\r\nTomcat log messages-\r\n```\r\n18-Jan-2023 08:19:54.047 SEVERE [http-nio-8080-exec-6] org.apache.catalina.startup.ExpandWar.copy Error copying [C:\\Users\\Ayush%20Singh\\AppData\\Local\\Temp\\context125052041248512568.xml] to [C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\conf\\Catalina\\localhost\\urlrewritingsample.xml]\r\n\tjava.io.FileNotFoundException: C:\\Users\\Ayush%20Singh\\AppData\\Local\\Temp\\context125052041248512568.xml (The system cannot find the path specified)\r\n\t\tat java.base/java.io.FileInputStream.open0(Native Method)\r\n\t\tat java.base/java.io.FileInputStream.open(FileInputStream.java:216)\r\n\t\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n\t\tat org.apache.catalina.startup.ExpandWar.copy(ExpandWar.java:269)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1006)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:660)\r\n\t\tat org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\r\n\t\tat org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nCan somebody please explain the reason for this error and how to resolve it?","title":"Netbeans fails to deploy web application on tomcat","body":"<p>I am using <strong>NetBeans IDE</strong> for building Servlet Applications. When I build and try to deploy on Tomcat I get the following errors-</p>\n<pre><code>In-place deployment at D:\\SpringBootProjects\\Servlets\\urlrewritingsample\\build\\web\nDeployment is in progress...\ndeploy?config=file%3A%2FC%3A%2FUsers%2FAyush%2520Singh%2FAppData%2FLocal%2FTemp%2Fcontext1073696000555366189.xml&amp;path=/urlrewritingsample\nFAIL - Failed to deploy application at context path [/urlrewritingsample]\nD:\\SpringBootProjects\\Servlets\\urlrewritingsample\\nbproject\\build-impl.xml:1030: The module has not been deployed.\nSee the server log for details.\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n<p>Tomcat log messages-</p>\n<pre><code>18-Jan-2023 08:19:54.047 SEVERE [http-nio-8080-exec-6] org.apache.catalina.startup.ExpandWar.copy Error copying [C:\\Users\\Ayush%20Singh\\AppData\\Local\\Temp\\context125052041248512568.xml] to [C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\conf\\Catalina\\localhost\\urlrewritingsample.xml]\n    java.io.FileNotFoundException: C:\\Users\\Ayush%20Singh\\AppData\\Local\\Temp\\context125052041248512568.xml (The system cannot find the path specified)\n        at java.base/java.io.FileInputStream.open0(Native Method)\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:216)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\n        at org.apache.catalina.startup.ExpandWar.copy(ExpandWar.java:269)\n        at org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1006)\n        at org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:660)\n        at org.apache.catalina.valves.RequestFilterValve.process(RequestFilterValve.java:378)\n        at org.apache.catalina.valves.RemoteAddrValve.invoke(RemoteAddrValve.java:56)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Can somebody please explain the reason for this error and how to resolve it?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1429704196,"post_id":29796651,"comment_id":47721980,"body_markdown":"Maybe this [Spring documentation](http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-annotation-support) could help to solve your problem.","body":"Maybe this <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-annotation-support\" rel=\"nofollow noreferrer\">Spring documentation</a> could help to solve your problem."}],"answers":[{"tags":[],"owner":{"account_id":7713866,"reputation":1037,"user_id":5842306,"display_name":"Arie Z."},"down_vote_count":0,"up_vote_count":92,"is_accepted":false,"score":92,"last_activity_date":1511530675,"creation_date":1453822300,"answer_id":35017579,"question_id":29796651,"body_markdown":"Yes, all `@Scheduled` methods share a single thread by default.\r\nIt is possible to override this behavior by defining a `@Configuration` such as this:\r\n\r\n    @Configuration\r\n    public class SchedulingConfigurerConfiguration implements SchedulingConfigurer {\r\n\r\n        @Override\r\n        public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n            ThreadPoolTaskScheduler taskScheduler = new ThreadPoolTaskScheduler();\r\n            taskScheduler.setPoolSize(100);\r\n            taskScheduler.initialize();\r\n            taskRegistrar.setTaskScheduler(taskScheduler);\r\n        }\r\n    }\r\n\r\nThis example ensures that all `@Scheduled` methods share a thread pool of size 100.","title":"What is the default scheduler pool size in spring-boot?","body":"<p>Yes, all <code>@Scheduled</code> methods share a single thread by default.\nIt is possible to override this behavior by defining a <code>@Configuration</code> such as this:</p>\n\n<pre><code>@Configuration\npublic class SchedulingConfigurerConfiguration implements SchedulingConfigurer {\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n        ThreadPoolTaskScheduler taskScheduler = new ThreadPoolTaskScheduler();\n        taskScheduler.setPoolSize(100);\n        taskScheduler.initialize();\n        taskRegistrar.setTaskScheduler(taskScheduler);\n    }\n}\n</code></pre>\n\n<p>This example ensures that all <code>@Scheduled</code> methods share a thread pool of size 100.</p>\n"},{"tags":[],"owner":{"account_id":3041527,"reputation":1728,"user_id":2578409,"display_name":"Bruce"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569244745,"creation_date":1569244745,"answer_id":58063399,"question_id":29796651,"body_markdown":"a very simple way to do this:\r\n\r\n```java\r\n@Configuration\r\npublic class ScheduleConfig {\r\n  ScheduleConfig(ThreadPoolTaskScheduler threadPoolTaskScheduler) {\r\n    threadPoolTaskScheduler.setPoolSize(10);\r\n  }\r\n}\r\n```","title":"What is the default scheduler pool size in spring-boot?","body":"<p>a very simple way to do this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ScheduleConfig {\n  ScheduleConfig(ThreadPoolTaskScheduler threadPoolTaskScheduler) {\n    threadPoolTaskScheduler.setPoolSize(10);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1577368343,"creation_date":1577368343,"answer_id":59489421,"question_id":29796651,"body_markdown":"The default scheduler pool size in spring-boot is **only one**.\r\n\r\nIn `org.springframework.scheduling.config.ScheduledTaskRegistrar`:\r\n\r\n```java\r\n\t/**\r\n\t * Schedule all registered tasks against the underlying\r\n\t * {@linkplain #setTaskScheduler(TaskScheduler) task scheduler}.\r\n\t */\r\n\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\tprotected void scheduleTasks() {\r\n\t\tif (this.taskScheduler == null) {\r\n\t\t\tthis.localExecutor = Executors.newSingleThreadScheduledExecutor();\r\n\t\t\tthis.taskScheduler = new ConcurrentTaskScheduler(this.localExecutor);\r\n\t\t}\r\n        ...\r\n    }\r\n\r\n```","title":"What is the default scheduler pool size in spring-boot?","body":"<p>The default scheduler pool size in spring-boot is <strong>only one</strong>.</p>\n\n<p>In <code>org.springframework.scheduling.config.ScheduledTaskRegistrar</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Schedule all registered tasks against the underlying\n     * {@linkplain #setTaskScheduler(TaskScheduler) task scheduler}.\n     */\n    @SuppressWarnings(\"deprecation\")\n    protected void scheduleTasks() {\n        if (this.taskScheduler == null) {\n            this.localExecutor = Executors.newSingleThreadScheduledExecutor();\n            this.taskScheduler = new ConcurrentTaskScheduler(this.localExecutor);\n        }\n        ...\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8660948,"reputation":1200,"user_id":6483409,"display_name":"robothy"},"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1678143161,"creation_date":1577951129,"answer_id":59559914,"question_id":29796651,"body_markdown":"The default pool size is 1, and you can set the pool size in `application.properties` since springboot2.1.0 via changing the value of `spring.task.scheduling.pool.size`.\r\n\r\n```\r\nspring.task.scheduling.pool.size=20\r\n```\r\nThe same task will be executed in serialized when the trigger period is shorter than the execution duration. And Spring Boot will execute different tasks in parallel with a maximum of 20 threads.\r\n","title":"What is the default scheduler pool size in spring-boot?","body":"<p>The default pool size is 1, and you can set the pool size in <code>application.properties</code> since springboot2.1.0 via changing the value of <code>spring.task.scheduling.pool.size</code>.</p>\n<pre><code>spring.task.scheduling.pool.size=20\n</code></pre>\n<p>The same task will be executed in serialized when the trigger period is shorter than the execution duration. And Spring Boot will execute different tasks in parallel with a maximum of 20 threads.</p>\n"},{"tags":[],"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1604282389,"creation_date":1604282389,"answer_id":64638904,"question_id":29796651,"body_markdown":"Using built-in capabilities and with anotated spring configuration this will be like that:\r\n\r\n```java\r\n    @Bean\r\n    public TaskScheduler taskScheduler() {\r\n        return new ConcurrentTaskScheduler(new ScheduledThreadPoolExecutor(20));\r\n    }\r\n```","title":"What is the default scheduler pool size in spring-boot?","body":"<p>Using built-in capabilities and with anotated spring configuration this will be like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public TaskScheduler taskScheduler() {\n        return new ConcurrentTaskScheduler(new ScheduledThreadPoolExecutor(20));\n    }\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69991,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"answer_count":5,"score":82,"last_activity_date":1678143161,"creation_date":1429703420,"question_id":29796651,"body_markdown":"I&#39;m using `spring-boot` and `@Scheduled` annotation to execute some tasks.\r\n\r\nHow can I find out what the default pool size of scheduled tasks is by default in spring-boot?\r\n\r\nReason: the following class does not execute the jobs in parallel, but one after the other. Maybe only a single thread executor is configured by default?\r\n\r\n    @Service\r\n    public class ZipFileTesterAsync {\r\n    \r\n        @Scheduled(fixedDelay = 60000, initialDelay = 500)\r\n    \tpublic void run() throws Exception {\r\n        \tSystem.out.println(&quot;import 1&quot;);\r\n    \t    TimeUnit.MINUTES.sleep(1);\r\n    \t    System.out.println(&quot;import 1 finished&quot;);\r\n        }\r\n        \r\n        @Scheduled(fixedDelay = 60000, initialDelay = 1000)\r\n    \tpublic void run2() throws Exception {\r\n        \tSystem.out.println(&quot;import 2&quot;);\r\n    \t    TimeUnit.MINUTES.sleep(1);\r\n        }\r\n    }\r\n\r\nResult: the 2nd job is executed after the first finished.\r\n","title":"What is the default scheduler pool size in spring-boot?","body":"<p>I'm using <code>spring-boot</code> and <code>@Scheduled</code> annotation to execute some tasks.</p>\n\n<p>How can I find out what the default pool size of scheduled tasks is by default in spring-boot?</p>\n\n<p>Reason: the following class does not execute the jobs in parallel, but one after the other. Maybe only a single thread executor is configured by default?</p>\n\n<pre><code>@Service\npublic class ZipFileTesterAsync {\n\n    @Scheduled(fixedDelay = 60000, initialDelay = 500)\n    public void run() throws Exception {\n        System.out.println(\"import 1\");\n        TimeUnit.MINUTES.sleep(1);\n        System.out.println(\"import 1 finished\");\n    }\n\n    @Scheduled(fixedDelay = 60000, initialDelay = 1000)\n    public void run2() throws Exception {\n        System.out.println(\"import 2\");\n        TimeUnit.MINUTES.sleep(1);\n    }\n}\n</code></pre>\n\n<p>Result: the 2nd job is executed after the first finished.</p>\n"},{"tags":["java","image","javafx","jdbc","h2"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678142230,"creation_date":1678139448,"answer_id":75656159,"question_id":75656158,"body_markdown":"# Example app\r\n\r\nWhile I am no expert on JavaFX/OpenJFX, nor am I an expert on image encoding, I was able to cobble together this crude but effective little app to demonstrate:\r\n\r\n 1. Loading an image from a local file.\r\n 2. Displaying that image in an [`ImageView`][1] field in JavaFX.\r\n 3. Writing that image content to a field in an [H2][2] database.\r\n 4. Showing a list of IDs tracking each saved image. (IDs are [UUID][3]s.)\r\n 5. Retrieving a selected image from database, and displaying in JavaFX.\r\n\r\n[![screenshot of example app showing images displayed while reading and writing to database][4]][4]\r\n\r\nI found various chunks of code for encoding/decoding image data. I do not know what chunks may be old-fashioned or outmoded. All I know is that I got them to work.\r\n\r\nSome used classes from the [AWT][5] and [Swing][6] frameworks bundled with Java. But be aware that this example JavaFX app is [modularized][7], so you must add elements to your `module-info.java` file to access those classes.\r\n\r\nIn this example, the H2 database is configured to be an [in-memory database][8]. This means the stored data is *not* written to storage. When your app ends, the database and all its rows disappear, poof &#128168;.\r\n\r\nThis app was written in Java 19 with OpenJFX 19. \r\n\r\nI starting this app by creating a project using the *JavaFX* template built into the *New Project* dialog box of the [IntelliJ][9] [IDE][10].\r\n\r\nThe code for encoding the image data is found in the two `transform` methods.\r\n\r\nThe `transformImageIntoInputStream` method takes a JavaFX image object, uses Swing &amp; AWT to create an AWT buffered image (not to be confused with JavaFX image). That buffered image is then converted to an array of `byte`, from which we get an `InputStream`. The input stream can be passed to the JDBC method [`PreparedStatement :: setBlob`][11] to store a [BLOB][12] in the database.\r\n\r\n```java\r\n    @SuppressWarnings ( &quot;UnnecessaryLocalVariable&quot; )\r\n    private InputStream transformImageIntoInputStream ( final Image image )\r\n    {\r\n        BufferedImage awtBufferedImage = SwingFXUtils.fromFXImage( image , null );\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        try\r\n        {\r\n            ImageIO.write( awtBufferedImage , &quot;jpg&quot; , outputStream );\r\n            byte[] res = outputStream.toByteArray();\r\n            InputStream inputStream = new ByteArrayInputStream( res );\r\n            return inputStream;\r\n        }\r\n        catch ( IOException e ) { e.printStackTrace(); }\r\n        throw new IllegalStateException( &quot;Should not reach this point in method `transformImageIntoInputStream`.&quot; );\r\n    }\r\n```\r\n\r\nTo retrieve from the database, we call [`ResultSet :: getBlob`][13] to produce a [`java.sql.Blob`][14] object. We use [`javax.imageio.ImageIO`][15] to read a binary stream obtained from that `Blob` object we retrieved. That produces another AWT buffered image (again, not to be confused with a JavaFX image). We then make use of Swing again to produce a JavaFX image from that AWT image.\r\n\r\n```java\r\n    private Image transformBlobIntoImage ( final Blob blob )\r\n    {\r\n        try\r\n        {\r\n            BufferedImage awtBufferedImage = ImageIO.read( blob.getBinaryStream() );\r\n            Image image = SwingFXUtils.toFXImage( awtBufferedImage , null );\r\n            return image;\r\n        }\r\n        catch ( IOException e ) { throw new RuntimeException( e ); }\r\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\r\n    }\r\n```\r\n\r\nAs noted above, I am no expert on image handling. This sure seems a roundabout way to go to get image data encoded/decoded. And I am surprised to have found only approaches using AWT and Swing rather than straight JavaFX. If anyone knows better approaches, please do post!\r\n\r\n## Source Code\r\n\r\nHere is the entire Java code for the app, in a single file.\r\n\r\n```java\r\n/*\r\n By Basil Bourque.  http://www.Basil.work/\r\n\r\n This code is a response to this Question on Stack Overflow:\r\n &gt; insert an image to a database with javafx\r\n https://stackoverflow.com/q/75632865/642706\r\n\r\n This code was cobbled together quickly, as a starting point\r\n for further learning. Not meant for production use.\r\n Caveat: I an not an expert in JavaFX nor in image encoding.\r\n Use at your own risk.\r\n\r\n This demo app opens a window with five items, running left to right:\r\n  A button to load JPEG files from your local storage.\r\n  An `ImageView` field to show the image you loaded. Defaults to the Java mascot &quot;Duke&quot;, loaded over the internet.\r\n  A button to save the loaded image to an in-memory database using the H2 Database Engine (written in pure Java).\r\n  A list of the UUIDs that each identify an image stored in the database.\r\n  Another `ImageView` field to show the image retrieved from the database per the UUID selected in the list.\r\n*/\r\npackage work.basil.example.fximage;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.beans.value.ObservableValue;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.embed.swing.SwingFXUtils;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.stage.FileChooser;\r\nimport javafx.stage.Stage;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.sql.DataSource;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.*;\r\nimport java.sql.*;\r\nimport java.util.Objects;\r\nimport java.util.UUID;\r\n\r\n@SuppressWarnings ( &quot;SqlNoDataSourceInspection&quot; )\r\npublic class App extends Application\r\n{\r\n    @Override\r\n    public void start ( final Stage stage )\r\n    {\r\n        // Widgets  ---------------------------------------\r\n        Button loadFromDesktopButton = new Button( &quot;Open JPEG file&quot; );\r\n\r\n        String url = &quot;https://www.oracle.com/a/ocom/img/rc24-duke-java-mascot.jpg&quot;;  // Arbitrary example image.\r\n        Image duke = new Image( url );\r\n        ImageView desktopImageView = new ImageView();\r\n        desktopImageView.setImage( duke );\r\n\r\n        desktopImageView.setFitWidth( 300 );\r\n        desktopImageView.setPreserveRatio( true );\r\n        desktopImageView.setSmooth( true );\r\n        desktopImageView.setCache( true );\r\n\r\n        Button storeInDatabaseButton = new Button( &quot;Store in database&quot; );\r\n\r\n        ListView &lt; UUID &gt; listView = new ListView &lt;&gt;();\r\n        listView.setPrefWidth( 300 );\r\n        ObservableList &lt; UUID &gt; ids = FXCollections.observableArrayList();\r\n        listView.setItems( ids );\r\n\r\n        ImageView databaseImageView = new ImageView();\r\n        databaseImageView.setFitWidth( 300 );\r\n        databaseImageView.setPreserveRatio( true );\r\n        databaseImageView.setSmooth( true );\r\n        databaseImageView.setCache( true );\r\n\r\n        // Behavior  --------------------------------------\r\n        DataSource dataSource = this.configureDataSource();\r\n        this.configureDatabase( dataSource );\r\n\r\n        loadFromDesktopButton.setOnAction(\r\n                ( ActionEvent event ) -&gt; this.loadImageFromLocalStorage( stage , desktopImageView )\r\n        );\r\n        storeInDatabaseButton.setOnAction(\r\n                ( ActionEvent event ) -&gt; {\r\n                    Image image = desktopImageView.getImage();\r\n                    UUID id = this.storeImageInDatabase( image , dataSource );\r\n                    ids.add( id );  // Add a list item for the image we just stored in database.\r\n                    listView.getSelectionModel().select( id ); // Select the newly added list item.\r\n                }\r\n        );\r\n\r\n        listView.getSelectionModel().selectedItemProperty().addListener(\r\n                ( ObservableValue &lt; ? extends UUID &gt; observableValue , UUID oldValue , UUID newValue ) -&gt; {\r\n                    Image image = this.fetchImageFromDatabase( newValue , dataSource );\r\n                    databaseImageView.setImage( image );\r\n                }\r\n        );\r\n\r\n        // Layout  --------------------------------------\r\n        stage.setTitle( &quot;Image To Database&quot; );\r\n        HBox root = new HBox();\r\n        root.setPadding( new Insets( 15 , 12 , 15 , 12 ) );\r\n        root.setSpacing( 10 );\r\n        root.setStyle( &quot;-fx-background-color: Grey;&quot; );\r\n\r\n        // Arrange  --------------------------------------\r\n        root.getChildren().add( loadFromDesktopButton );\r\n        root.getChildren().add( desktopImageView );\r\n        root.getChildren().add( storeInDatabaseButton );\r\n        root.getChildren().add( listView );\r\n        root.getChildren().add( databaseImageView );\r\n\r\n        Scene scene = new Scene( root , 1_250 , 300 );\r\n        stage.setScene( scene );\r\n        stage.show();\r\n    }\r\n\r\n\r\n    // Subroutines  --------------------------------------\r\n    private void loadImageFromLocalStorage ( final Stage stage , final ImageView imageView )\r\n    {\r\n        FileChooser fileChooser = new FileChooser();\r\n        fileChooser.setTitle( &quot;Open JPEG file&quot; );\r\n        File file = fileChooser.showOpenDialog( stage );\r\n        if ( file != null )\r\n        {\r\n            System.out.println( file );\r\n            Image image = new Image( file.toURI().toString() );\r\n            imageView.setImage( image );\r\n        }\r\n    }\r\n\r\n    private DataSource configureDataSource ( )\r\n    {\r\n        org.h2.jdbcx.JdbcDataSource ds = new org.h2.jdbcx.JdbcDataSource();  // Implementation of `DataSource` bundled with H2. You may choose to use some other implementation.\r\n        ds.setURL( &quot;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;&quot; );\r\n        ds.setUser( &quot;scott&quot; );\r\n        ds.setPassword( &quot;tiger&quot; );\r\n        ds.setDescription( &quot;An example database for storing an image.&quot; );\r\n        return ds;\r\n    }\r\n\r\n    private void configureDatabase ( final DataSource dataSource )\r\n    {\r\n        // Create table.\r\n        String sql =\r\n                &quot;&quot;&quot;\r\n                CREATE TABLE IF NOT EXISTS image_\r\n                (\r\n                    id_ uuid NOT NULL ,\r\n                    CONSTRAINT image_pkey_ PRIMARY KEY ( id_ ) ,\r\n                    row_created_ TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP() ,\r\n                    content_ BLOB\r\n                )\r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try (\r\n                Connection conn = dataSource.getConnection() ;\r\n                Statement stmt = conn.createStatement()\r\n        )\r\n        {\r\n            System.out.println( &quot;INFO - Running `configureDatabase` method.&quot; );\r\n            stmt.executeUpdate( sql );\r\n        }\r\n        catch ( SQLException e ) { e.printStackTrace(); }\r\n    }\r\n\r\n\r\n    private UUID storeImageInDatabase ( final Image image , final DataSource dataSource )\r\n    {\r\n        InputStream inputStream = this.transformImageIntoInputStream( Objects.requireNonNull( image ) );\r\n\r\n        // Write to database\r\n        String sql =\r\n                &quot;&quot;&quot;\r\n                INSERT INTO image_ ( id_ , content_ )\r\n                VALUES ( ? , ? )\r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try\r\n                (\r\n                        Connection conn = dataSource.getConnection() ;\r\n                        PreparedStatement preparedStatement = conn.prepareStatement( sql )\r\n                )\r\n        {\r\n            UUID id = UUID.randomUUID(); // In real work, we would retrieve the value generated by the database rather the app.\r\n            preparedStatement.setObject( 1 , id );\r\n            preparedStatement.setBlob( 2 , inputStream );\r\n            int rowCount = preparedStatement.executeUpdate();\r\n            if ( rowCount != 1 ) { throw new IllegalStateException( &quot;SQL insert failed to affect any rows.&quot; ); }\r\n            return id;\r\n        }\r\n        catch ( SQLException e ) { e.printStackTrace(); }\r\n        throw new IllegalStateException( &quot;Should never have reached this point in `storeImageInDatabase` method. &quot; );\r\n    }\r\n\r\n    private Image fetchImageFromDatabase ( final UUID id , final DataSource dataSource )\r\n    {\r\n        byte[] bytes = null;\r\n        String sql =\r\n                &quot;&quot;&quot;\r\n                SELECT *\r\n                FROM image_\r\n                WHERE id_ = ?\r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try\r\n                (\r\n                        Connection conn = dataSource.getConnection() ;\r\n                        PreparedStatement preparedStatement = conn.prepareStatement( sql )\r\n                )\r\n        {\r\n            System.out.println( &quot;DEBUG id = &quot; + id );\r\n            preparedStatement.setObject( 1 , id );\r\n            try (\r\n                    ResultSet resultSet = preparedStatement.executeQuery() ;\r\n            )\r\n            {\r\n                if ( resultSet.next() )\r\n                {\r\n                    System.out.println( &quot;DEBUG resultSet = &quot; + resultSet );\r\n                    Blob blob = resultSet.getBlob( &quot;content_&quot; );\r\n                    System.out.println( &quot;DEBUG blob = &quot; + blob );\r\n                    Image image = this.transformBlobIntoImage( blob );\r\n                    return image;\r\n                }\r\n                else { throw new IllegalStateException( &quot;Failed to find any rows for id: &quot; + id ); }\r\n            }\r\n        }\r\n        catch ( SQLException e ) { e.printStackTrace(); }\r\n        throw new IllegalStateException( &quot;Should never have reached this point in `storeImageInDatabase` method. &quot; );\r\n    }\r\n\r\n\r\n    @SuppressWarnings ( &quot;UnnecessaryLocalVariable&quot; )\r\n    private InputStream transformImageIntoInputStream ( final Image image )\r\n    {\r\n        BufferedImage awtBufferedImage = SwingFXUtils.fromFXImage( image , null );\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        try\r\n        {\r\n            ImageIO.write( awtBufferedImage , &quot;jpg&quot; , outputStream );\r\n            byte[] res = outputStream.toByteArray();\r\n            InputStream inputStream = new ByteArrayInputStream( res );\r\n            return inputStream;\r\n        }\r\n        catch ( IOException e ) { e.printStackTrace(); }\r\n        throw new IllegalStateException( &quot;Should not reach this point in method `transformImageIntoInputStream`.&quot; );\r\n    }\r\n\r\n    private Image transformBlobIntoImage ( final Blob blob )\r\n    {\r\n        try\r\n        {\r\n            BufferedImage awtBufferedImage = ImageIO.read( blob.getBinaryStream() );\r\n            Image image = SwingFXUtils.toFXImage( awtBufferedImage , null );\r\n            return image;\r\n        }\r\n        catch ( IOException e ) { throw new RuntimeException( e ); }\r\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\r\n    }\r\n\r\n    public static void main ( final String[] args )\r\n    {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nHere is the `module-info.java` file.\r\n\r\n```java\r\nmodule work.basil.example.fximage {\r\n    requires javafx.controls;  // JavaFX/OpenJFX API.\r\n\r\n    requires java.desktop;     // Needed for classes in AWT that convert image to octets.\r\n    requires javafx.swing;     // Needed for `javafx.embed.swing.SwingFXUtils` class to convert image to octets.\r\n\r\n    requires java.sql;         // JDBC API.\r\n    requires java.naming;      // Java Naming and Directory Interface (JNDI) API. Needed for `DataSource` in JDBC.\r\n    requires com.h2database;   // H2 Database Engine.\r\n\r\n    exports work.basil.example.fximage;\r\n}\r\n```\r\n\r\nAnd my [Apache Maven][16] [POM][17] file.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns = &quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation = &quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;work.basil.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;FxImageToDb&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;FxImage&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-controls --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;19.0.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-swing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\r\n            &lt;version&gt;19.0.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.214&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;19&lt;/source&gt;\r\n                    &lt;target&gt;19&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;work.basil.example.fximage/work.basil.example.fximage.App&lt;/mainClass&gt;\r\n                            &lt;launcher&gt;app&lt;/launcher&gt;\r\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\r\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\r\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\r\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\r\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n## Resources\r\n\r\n[*Convert Blob to JPG and update blob*](https://stackoverflow.com/q/27846062/642706)\r\n\r\n[*Java BLOB to image file*](https://stackoverflow.com/q/50427495/642706)\r\n\r\n[*Auto-generate lambda expression as argument in IntelliJ*](https://stackoverflow.com/q/49469666/642706)\r\n\r\n[*JavaFX select item in ListView*](https://stackoverflow.com/q/11088612/642706)\r\n\r\n[*Using JavaFX UI Controls &#160;11 List View*](https://docs.oracle.com/javafx/2/ui_controls/list-view.htm)\r\n\r\n[*Using JavaFX UI Controls  26 File Chooser*](https://docs.oracle.com/javafx/2/ui_controls/file-chooser.htm)\r\n\r\n[*How can I show an image using the ImageView component in javafx and fxml?*](https://stackoverflow.com/q/22710053/642706)\r\n\r\nH2 Database Engine documentation for [`BLOB`](http://h2database.com/html/datatypes.html#binary_large_object_type) type and for [discussion of the Large Object][18] types.\r\n\r\nAWT &amp; Swing classes: [`SwingFXUtils`](https://openjfx.io/javadoc/19/javafx.swing/javafx/embed/swing/SwingFXUtils.html) \r\n\r\n[*How to convert a JavaFX ImageView to InputStream*](https://stackoverflow.com/q/49335128/642706)\r\n\r\n[*Saving an image in MySQL from Java*](https://stackoverflow.com/q/15035883/642706)\r\n\r\n[*How to save an image from HTML to a DATABASE using JAVA*](https://stackoverflow.com/q/50783126/642706)\r\n\r\n[*Storing Image in Data Base Using Java in Binary Format*](https://stackoverflow.com/q/21500339/642706)\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/ImageView.html\r\n  [2]: https://en.wikipedia.org/wiki/H2_(DBMS)\r\n  [3]: https://en.wikipedia.org/wiki/Universally_unique_identifier\r\n  [4]: https://i.stack.imgur.com/80iZw.jpg\r\n  [5]: https://en.wikipedia.org/wiki/Abstract_Window_Toolkit\r\n  [6]: https://en.wikipedia.org/wiki/Swing_(Java)\r\n  [7]: https://en.wikipedia.org/wiki/Java_Platform_Module_System\r\n  [8]: https://en.wikipedia.org/wiki/In-memory_database\r\n  [9]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [10]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [11]: https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/PreparedStatement.html#setBlob(int,java.io.InputStream)\r\n  [12]: https://en.wikipedia.org/wiki/Binary_large_object\r\n  [13]: https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/ResultSet.html#getBlob(java.lang.String)\r\n  [14]: https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/Blob.html\r\n  [15]: https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/imageio/ImageIO.html\r\n  [16]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [17]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n  [18]: http://h2database.com/html/advanced.html#large_objects","title":"Example JavaFX app to read and write JPEG images to a database","body":"<h1>Example app</h1>\n<p>While I am no expert on JavaFX/OpenJFX, nor am I an expert on image encoding, I was able to cobble together this crude but effective little app to demonstrate:</p>\n<ol>\n<li>Loading an image from a local file.</li>\n<li>Displaying that image in an <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/ImageView.html\" rel=\"nofollow noreferrer\"><code>ImageView</code></a> field in JavaFX.</li>\n<li>Writing that image content to a field in an <a href=\"https://en.wikipedia.org/wiki/H2_(DBMS)\" rel=\"nofollow noreferrer\">H2</a> database.</li>\n<li>Showing a list of IDs tracking each saved image. (IDs are <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">UUID</a>s.)</li>\n<li>Retrieving a selected image from database, and displaying in JavaFX.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/80iZw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/80iZw.jpg\" alt=\"screenshot of example app showing images displayed while reading and writing to database\" /></a></p>\n<p>I found various chunks of code for encoding/decoding image data. I do not know what chunks may be old-fashioned or outmoded. All I know is that I got them to work.</p>\n<p>Some used classes from the <a href=\"https://en.wikipedia.org/wiki/Abstract_Window_Toolkit\" rel=\"nofollow noreferrer\">AWT</a> and <a href=\"https://en.wikipedia.org/wiki/Swing_(Java)\" rel=\"nofollow noreferrer\">Swing</a> frameworks bundled with Java. But be aware that this example JavaFX app is <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">modularized</a>, so you must add elements to your <code>module-info.java</code> file to access those classes.</p>\n<p>In this example, the H2 database is configured to be an <a href=\"https://en.wikipedia.org/wiki/In-memory_database\" rel=\"nofollow noreferrer\">in-memory database</a>. This means the stored data is <em>not</em> written to storage. When your app ends, the database and all its rows disappear, poof .</p>\n<p>This app was written in Java 19 with OpenJFX 19.</p>\n<p>I starting this app by creating a project using the <em>JavaFX</em> template built into the <em>New Project</em> dialog box of the <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ</a> <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a>.</p>\n<p>The code for encoding the image data is found in the two <code>transform</code> methods.</p>\n<p>The <code>transformImageIntoInputStream</code> method takes a JavaFX image object, uses Swing &amp; AWT to create an AWT buffered image (not to be confused with JavaFX image). That buffered image is then converted to an array of <code>byte</code>, from which we get an <code>InputStream</code>. The input stream can be passed to the JDBC method <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/PreparedStatement.html#setBlob(int,java.io.InputStream)\" rel=\"nofollow noreferrer\"><code>PreparedStatement :: setBlob</code></a> to store a <a href=\"https://en.wikipedia.org/wiki/Binary_large_object\" rel=\"nofollow noreferrer\">BLOB</a> in the database.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @SuppressWarnings ( &quot;UnnecessaryLocalVariable&quot; )\n    private InputStream transformImageIntoInputStream ( final Image image )\n    {\n        BufferedImage awtBufferedImage = SwingFXUtils.fromFXImage( image , null );\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        try\n        {\n            ImageIO.write( awtBufferedImage , &quot;jpg&quot; , outputStream );\n            byte[] res = outputStream.toByteArray();\n            InputStream inputStream = new ByteArrayInputStream( res );\n            return inputStream;\n        }\n        catch ( IOException e ) { e.printStackTrace(); }\n        throw new IllegalStateException( &quot;Should not reach this point in method `transformImageIntoInputStream`.&quot; );\n    }\n</code></pre>\n<p>To retrieve from the database, we call <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/ResultSet.html#getBlob(java.lang.String)\" rel=\"nofollow noreferrer\"><code>ResultSet :: getBlob</code></a> to produce a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.sql/java/sql/Blob.html\" rel=\"nofollow noreferrer\"><code>java.sql.Blob</code></a> object. We use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/imageio/ImageIO.html\" rel=\"nofollow noreferrer\"><code>javax.imageio.ImageIO</code></a> to read a binary stream obtained from that <code>Blob</code> object we retrieved. That produces another AWT buffered image (again, not to be confused with a JavaFX image). We then make use of Swing again to produce a JavaFX image from that AWT image.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private Image transformBlobIntoImage ( final Blob blob )\n    {\n        try\n        {\n            BufferedImage awtBufferedImage = ImageIO.read( blob.getBinaryStream() );\n            Image image = SwingFXUtils.toFXImage( awtBufferedImage , null );\n            return image;\n        }\n        catch ( IOException e ) { throw new RuntimeException( e ); }\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\n    }\n</code></pre>\n<p>As noted above, I am no expert on image handling. This sure seems a roundabout way to go to get image data encoded/decoded. And I am surprised to have found only approaches using AWT and Swing rather than straight JavaFX. If anyone knows better approaches, please do post!</p>\n<h2>Source Code</h2>\n<p>Here is the entire Java code for the app, in a single file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n By Basil Bourque.  http://www.Basil.work/\n\n This code is a response to this Question on Stack Overflow:\n &gt; insert an image to a database with javafx\n https://stackoverflow.com/q/75632865/642706\n\n This code was cobbled together quickly, as a starting point\n for further learning. Not meant for production use.\n Caveat: I an not an expert in JavaFX nor in image encoding.\n Use at your own risk.\n\n This demo app opens a window with five items, running left to right:\n  A button to load JPEG files from your local storage.\n  An `ImageView` field to show the image you loaded. Defaults to the Java mascot &quot;Duke&quot;, loaded over the internet.\n  A button to save the loaded image to an in-memory database using the H2 Database Engine (written in pure Java).\n  A list of the UUIDs that each identify an image stored in the database.\n  Another `ImageView` field to show the image retrieved from the database per the UUID selected in the list.\n*/\npackage work.basil.example.fximage;\n\nimport javafx.application.Application;\nimport javafx.beans.value.ObservableValue;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.embed.swing.SwingFXUtils;\nimport javafx.event.ActionEvent;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ListView;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.FileChooser;\nimport javafx.stage.Stage;\n\nimport javax.imageio.ImageIO;\nimport javax.sql.DataSource;\nimport java.awt.image.BufferedImage;\nimport java.io.*;\nimport java.sql.*;\nimport java.util.Objects;\nimport java.util.UUID;\n\n@SuppressWarnings ( &quot;SqlNoDataSourceInspection&quot; )\npublic class App extends Application\n{\n    @Override\n    public void start ( final Stage stage )\n    {\n        // Widgets  ---------------------------------------\n        Button loadFromDesktopButton = new Button( &quot;Open JPEG file&quot; );\n\n        String url = &quot;https://www.oracle.com/a/ocom/img/rc24-duke-java-mascot.jpg&quot;;  // Arbitrary example image.\n        Image duke = new Image( url );\n        ImageView desktopImageView = new ImageView();\n        desktopImageView.setImage( duke );\n\n        desktopImageView.setFitWidth( 300 );\n        desktopImageView.setPreserveRatio( true );\n        desktopImageView.setSmooth( true );\n        desktopImageView.setCache( true );\n\n        Button storeInDatabaseButton = new Button( &quot;Store in database&quot; );\n\n        ListView &lt; UUID &gt; listView = new ListView &lt;&gt;();\n        listView.setPrefWidth( 300 );\n        ObservableList &lt; UUID &gt; ids = FXCollections.observableArrayList();\n        listView.setItems( ids );\n\n        ImageView databaseImageView = new ImageView();\n        databaseImageView.setFitWidth( 300 );\n        databaseImageView.setPreserveRatio( true );\n        databaseImageView.setSmooth( true );\n        databaseImageView.setCache( true );\n\n        // Behavior  --------------------------------------\n        DataSource dataSource = this.configureDataSource();\n        this.configureDatabase( dataSource );\n\n        loadFromDesktopButton.setOnAction(\n                ( ActionEvent event ) -&gt; this.loadImageFromLocalStorage( stage , desktopImageView )\n        );\n        storeInDatabaseButton.setOnAction(\n                ( ActionEvent event ) -&gt; {\n                    Image image = desktopImageView.getImage();\n                    UUID id = this.storeImageInDatabase( image , dataSource );\n                    ids.add( id );  // Add a list item for the image we just stored in database.\n                    listView.getSelectionModel().select( id ); // Select the newly added list item.\n                }\n        );\n\n        listView.getSelectionModel().selectedItemProperty().addListener(\n                ( ObservableValue &lt; ? extends UUID &gt; observableValue , UUID oldValue , UUID newValue ) -&gt; {\n                    Image image = this.fetchImageFromDatabase( newValue , dataSource );\n                    databaseImageView.setImage( image );\n                }\n        );\n\n        // Layout  --------------------------------------\n        stage.setTitle( &quot;Image To Database&quot; );\n        HBox root = new HBox();\n        root.setPadding( new Insets( 15 , 12 , 15 , 12 ) );\n        root.setSpacing( 10 );\n        root.setStyle( &quot;-fx-background-color: Grey;&quot; );\n\n        // Arrange  --------------------------------------\n        root.getChildren().add( loadFromDesktopButton );\n        root.getChildren().add( desktopImageView );\n        root.getChildren().add( storeInDatabaseButton );\n        root.getChildren().add( listView );\n        root.getChildren().add( databaseImageView );\n\n        Scene scene = new Scene( root , 1_250 , 300 );\n        stage.setScene( scene );\n        stage.show();\n    }\n\n\n    // Subroutines  --------------------------------------\n    private void loadImageFromLocalStorage ( final Stage stage , final ImageView imageView )\n    {\n        FileChooser fileChooser = new FileChooser();\n        fileChooser.setTitle( &quot;Open JPEG file&quot; );\n        File file = fileChooser.showOpenDialog( stage );\n        if ( file != null )\n        {\n            System.out.println( file );\n            Image image = new Image( file.toURI().toString() );\n            imageView.setImage( image );\n        }\n    }\n\n    private DataSource configureDataSource ( )\n    {\n        org.h2.jdbcx.JdbcDataSource ds = new org.h2.jdbcx.JdbcDataSource();  // Implementation of `DataSource` bundled with H2. You may choose to use some other implementation.\n        ds.setURL( &quot;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;&quot; );\n        ds.setUser( &quot;scott&quot; );\n        ds.setPassword( &quot;tiger&quot; );\n        ds.setDescription( &quot;An example database for storing an image.&quot; );\n        return ds;\n    }\n\n    private void configureDatabase ( final DataSource dataSource )\n    {\n        // Create table.\n        String sql =\n                &quot;&quot;&quot;\n                CREATE TABLE IF NOT EXISTS image_\n                (\n                    id_ uuid NOT NULL ,\n                    CONSTRAINT image_pkey_ PRIMARY KEY ( id_ ) ,\n                    row_created_ TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP() ,\n                    content_ BLOB\n                )\n                ;\n                &quot;&quot;&quot;;\n        try (\n                Connection conn = dataSource.getConnection() ;\n                Statement stmt = conn.createStatement()\n        )\n        {\n            System.out.println( &quot;INFO - Running `configureDatabase` method.&quot; );\n            stmt.executeUpdate( sql );\n        }\n        catch ( SQLException e ) { e.printStackTrace(); }\n    }\n\n\n    private UUID storeImageInDatabase ( final Image image , final DataSource dataSource )\n    {\n        InputStream inputStream = this.transformImageIntoInputStream( Objects.requireNonNull( image ) );\n\n        // Write to database\n        String sql =\n                &quot;&quot;&quot;\n                INSERT INTO image_ ( id_ , content_ )\n                VALUES ( ? , ? )\n                ;\n                &quot;&quot;&quot;;\n        try\n                (\n                        Connection conn = dataSource.getConnection() ;\n                        PreparedStatement preparedStatement = conn.prepareStatement( sql )\n                )\n        {\n            UUID id = UUID.randomUUID(); // In real work, we would retrieve the value generated by the database rather the app.\n            preparedStatement.setObject( 1 , id );\n            preparedStatement.setBlob( 2 , inputStream );\n            int rowCount = preparedStatement.executeUpdate();\n            if ( rowCount != 1 ) { throw new IllegalStateException( &quot;SQL insert failed to affect any rows.&quot; ); }\n            return id;\n        }\n        catch ( SQLException e ) { e.printStackTrace(); }\n        throw new IllegalStateException( &quot;Should never have reached this point in `storeImageInDatabase` method. &quot; );\n    }\n\n    private Image fetchImageFromDatabase ( final UUID id , final DataSource dataSource )\n    {\n        byte[] bytes = null;\n        String sql =\n                &quot;&quot;&quot;\n                SELECT *\n                FROM image_\n                WHERE id_ = ?\n                ;\n                &quot;&quot;&quot;;\n        try\n                (\n                        Connection conn = dataSource.getConnection() ;\n                        PreparedStatement preparedStatement = conn.prepareStatement( sql )\n                )\n        {\n            System.out.println( &quot;DEBUG id = &quot; + id );\n            preparedStatement.setObject( 1 , id );\n            try (\n                    ResultSet resultSet = preparedStatement.executeQuery() ;\n            )\n            {\n                if ( resultSet.next() )\n                {\n                    System.out.println( &quot;DEBUG resultSet = &quot; + resultSet );\n                    Blob blob = resultSet.getBlob( &quot;content_&quot; );\n                    System.out.println( &quot;DEBUG blob = &quot; + blob );\n                    Image image = this.transformBlobIntoImage( blob );\n                    return image;\n                }\n                else { throw new IllegalStateException( &quot;Failed to find any rows for id: &quot; + id ); }\n            }\n        }\n        catch ( SQLException e ) { e.printStackTrace(); }\n        throw new IllegalStateException( &quot;Should never have reached this point in `storeImageInDatabase` method. &quot; );\n    }\n\n\n    @SuppressWarnings ( &quot;UnnecessaryLocalVariable&quot; )\n    private InputStream transformImageIntoInputStream ( final Image image )\n    {\n        BufferedImage awtBufferedImage = SwingFXUtils.fromFXImage( image , null );\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        try\n        {\n            ImageIO.write( awtBufferedImage , &quot;jpg&quot; , outputStream );\n            byte[] res = outputStream.toByteArray();\n            InputStream inputStream = new ByteArrayInputStream( res );\n            return inputStream;\n        }\n        catch ( IOException e ) { e.printStackTrace(); }\n        throw new IllegalStateException( &quot;Should not reach this point in method `transformImageIntoInputStream`.&quot; );\n    }\n\n    private Image transformBlobIntoImage ( final Blob blob )\n    {\n        try\n        {\n            BufferedImage awtBufferedImage = ImageIO.read( blob.getBinaryStream() );\n            Image image = SwingFXUtils.toFXImage( awtBufferedImage , null );\n            return image;\n        }\n        catch ( IOException e ) { throw new RuntimeException( e ); }\n        catch ( SQLException e ) { throw new RuntimeException( e ); }\n    }\n\n    public static void main ( final String[] args )\n    {\n        launch();\n    }\n}\n</code></pre>\n<p>Here is the <code>module-info.java</code> file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>module work.basil.example.fximage {\n    requires javafx.controls;  // JavaFX/OpenJFX API.\n\n    requires java.desktop;     // Needed for classes in AWT that convert image to octets.\n    requires javafx.swing;     // Needed for `javafx.embed.swing.SwingFXUtils` class to convert image to octets.\n\n    requires java.sql;         // JDBC API.\n    requires java.naming;      // Java Naming and Directory Interface (JNDI) API. Needed for `DataSource` in JDBC.\n    requires com.h2database;   // H2 Database Engine.\n\n    exports work.basil.example.fximage;\n}\n</code></pre>\n<p>And my <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Apache Maven</a> <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> file.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns = &quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation = &quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;work.basil.example&lt;/groupId&gt;\n    &lt;artifactId&gt;FxImageToDb&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;FxImage&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-controls --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;19.0.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-swing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n            &lt;version&gt;19.0.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.9.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;2.1.214&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;19&lt;/source&gt;\n                    &lt;target&gt;19&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;work.basil.example.fximage/work.basil.example.fximage.App&lt;/mainClass&gt;\n                            &lt;launcher&gt;app&lt;/launcher&gt;\n                            &lt;jlinkZipName&gt;app&lt;/jlinkZipName&gt;\n                            &lt;jlinkImageName&gt;app&lt;/jlinkImageName&gt;\n                            &lt;noManPages&gt;true&lt;/noManPages&gt;\n                            &lt;stripDebug&gt;true&lt;/stripDebug&gt;\n                            &lt;noHeaderFiles&gt;true&lt;/noHeaderFiles&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>Resources</h2>\n<p><a href=\"https://stackoverflow.com/q/27846062/642706\"><em>Convert Blob to JPG and update blob</em></a></p>\n<p><a href=\"https://stackoverflow.com/q/50427495/642706\"><em>Java BLOB to image file</em></a></p>\n<p><a href=\"https://stackoverflow.com/q/49469666/642706\"><em>Auto-generate lambda expression as argument in IntelliJ</em></a></p>\n<p><a href=\"https://stackoverflow.com/q/11088612/642706\"><em>JavaFX select item in ListView</em></a></p>\n<p><a href=\"https://docs.oracle.com/javafx/2/ui_controls/list-view.htm\" rel=\"nofollow noreferrer\"><em>Using JavaFX UI Controls 11 List View</em></a></p>\n<p><a href=\"https://docs.oracle.com/javafx/2/ui_controls/file-chooser.htm\" rel=\"nofollow noreferrer\"><em>Using JavaFX UI Controls  26 File Chooser</em></a></p>\n<p><a href=\"https://stackoverflow.com/q/22710053/642706\"><em>How can I show an image using the ImageView component in javafx and fxml?</em></a></p>\n<p>H2 Database Engine documentation for <a href=\"http://h2database.com/html/datatypes.html#binary_large_object_type\" rel=\"nofollow noreferrer\"><code>BLOB</code></a> type and for <a href=\"http://h2database.com/html/advanced.html#large_objects\" rel=\"nofollow noreferrer\">discussion of the Large Object</a> types.</p>\n<p>AWT &amp; Swing classes: <a href=\"https://openjfx.io/javadoc/19/javafx.swing/javafx/embed/swing/SwingFXUtils.html\" rel=\"nofollow noreferrer\"><code>SwingFXUtils</code></a></p>\n<p><a href=\"https://stackoverflow.com/q/49335128/642706\"><em>How to convert a JavaFX ImageView to InputStream</em></a></p>\n<p><a href=\"https://stackoverflow.com/q/15035883/642706\"><em>Saving an image in MySQL from Java</em></a></p>\n<p><a href=\"https://stackoverflow.com/q/50783126/642706\"><em>How to save an image from HTML to a DATABASE using JAVA</em></a></p>\n<p><a href=\"https://stackoverflow.com/q/21500339/642706\"><em>Storing Image in Data Base Using Java in Binary Format</em></a></p>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678142230,"creation_date":1678139448,"question_id":75656158,"body_markdown":"As part of learning [JavaFX][1], I would like to see a minimal example of how to read &amp; write JPEG images to a database while displaying them in a JavaFX app. \r\n\r\nThis Question may be similar to this other Question, [insert an image to a database with javafx][2], but hopefully more focused.\r\n\r\nI have seen bits of code here and there for processing images, but I have not been able to convert an image from a [OpenJFX][3] [`Image`][4] object to something that can be stored in a field in a [SQL][5] database such as [H2 Database Engine][6] via [JDBC][7].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JavaFX\r\n  [2]: https://stackoverflow.com/q/75632865/642706\r\n  [3]: https://openjfx.io/\r\n  [4]: https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/Image.html\r\n  [5]: https://en.wikipedia.org/wiki/SQL\r\n  [6]: https://en.wikipedia.org/wiki/H2_(DBMS)\r\n  [7]: https://en.wikipedia.org/wiki/Java_Database_Connectivity","title":"Example JavaFX app to read and write JPEG images to a database","body":"<p>As part of learning <a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a>, I would like to see a minimal example of how to read &amp; write JPEG images to a database while displaying them in a JavaFX app.</p>\n<p>This Question may be similar to this other Question, <a href=\"https://stackoverflow.com/q/75632865/642706\">insert an image to a database with javafx</a>, but hopefully more focused.</p>\n<p>I have seen bits of code here and there for processing images, but I have not been able to convert an image from a <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a> <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/image/Image.html\" rel=\"nofollow noreferrer\"><code>Image</code></a> object to something that can be stored in a field in a <a href=\"https://en.wikipedia.org/wiki/SQL\" rel=\"nofollow noreferrer\">SQL</a> database such as <a href=\"https://en.wikipedia.org/wiki/H2_(DBMS)\" rel=\"nofollow noreferrer\">H2 Database Engine</a> via <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a>.</p>\n"},{"tags":["java","hashmap","java-stream","collectors"],"comments":[{"owner":{"account_id":785462,"reputation":16343,"user_id":845034,"accept_rate":57,"display_name":"steffen"},"score":0,"creation_date":1670103525,"post_id":74670924,"comment_id":131796817,"body_markdown":"How about creating a [minimal-reproducible-example](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"How about creating a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal-reproducible-example</a>?"},{"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"score":0,"creation_date":1670105176,"post_id":74670924,"comment_id":131797112,"body_markdown":"I have added a minimal-reproducible-example","body":"I have added a minimal-reproducible-example"}],"answers":[{"tags":[],"owner":{"account_id":27104252,"reputation":23,"user_id":20650320,"display_name":"Ronmeir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670138765,"creation_date":1670105990,"answer_id":74671226,"question_id":74670924,"body_markdown":"I wouldnt use this in my code because I think its not readable and will be very hard to change and manage in the future(SOLID).\r\nBut in case you still want this-  \r\n\r\nIf I got your design right hash is unique per user and transaction will only have deposit or withdrawal, if so, this will work-  \r\n\r\nYou could triple groupBy via collectors chaining like you did in your example. \r\nYou can create the `Txn` type via simple map function just check which id is null.\r\n```\r\nMap&lt;String, Map&lt;String, Map&lt;String, List&lt;Txn&gt;&gt;&gt;&gt; groupBy = \r\n      txnList.stream()\r\n             .collect(Collectors.groupingBy(Txn::getHash, LinkedHashMap::new,\r\n                       Collectors.groupingBy(Txn::getDepositId, LinkedHashMap::new,\r\n                         Collectors.groupingBy(Txn::getWithdrawId, LinkedHashMap::new, Collectors.toList()))));\r\n```\r\n\r\nthen use the logic from your example on this stream.","title":"How to merge two groupingBy in java streams?","body":"<p>I wouldnt use this in my code because I think its not readable and will be very hard to change and manage in the future(SOLID).\nBut in case you still want this-</p>\n<p>If I got your design right hash is unique per user and transaction will only have deposit or withdrawal, if so, this will work-</p>\n<p>You could triple groupBy via collectors chaining like you did in your example.\nYou can create the <code>Txn</code> type via simple map function just check which id is null.</p>\n<pre><code>Map&lt;String, Map&lt;String, Map&lt;String, List&lt;Txn&gt;&gt;&gt;&gt; groupBy = \n      txnList.stream()\n             .collect(Collectors.groupingBy(Txn::getHash, LinkedHashMap::new,\n                       Collectors.groupingBy(Txn::getDepositId, LinkedHashMap::new,\n                         Collectors.groupingBy(Txn::getWithdrawId, LinkedHashMap::new, Collectors.toList()))));\n</code></pre>\n<p>then use the logic from your example on this stream.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670116443,"creation_date":1670106838,"answer_id":74671331,"question_id":74670924,"body_markdown":"&lt;h3&gt;TL;DR&lt;/h3&gt;\r\n\r\nFor those who didn&#39;t understand the question, OP wants to generate from each `Txn` instance (`Txn` probably stands for transaction) **two** peaces of data: `hash` and `withdrawId` + aggregated amount, and `hash` and `depositId` + aggregated amount.\r\n\r\nAnd then they want to merge the two parts together (for that reason they were creating the two streams, and then concatenating them).\r\n\r\n***Note:** it seems like there&#39;s a logical flow in the original code: the same amount gets associated with `withdrawId` and `depositId`. Which doesn&#39;t reflect that this amount has been taken from one account and transferred to another. Hence, it would make sense if for `depositId` amount would be used as is, and for `withdrawId` - negated (i.e. `-1 * amount`).*\r\n\r\n# [`Collectors.teeing()`][teeing]\r\n\r\nYou can make use of the Java 12 Collector `teeing()` and internally group stream elements into two distinct Maps:\r\n\r\n* the first one by grouping the stream data by `withdrawId` and `hash`.\r\n\r\n* and another one by grouping the data `depositId` and `hash`.\r\n\r\nTeeing expects three arguments: 2 downstream Collectors and a Function combining the results produced by collectors.\r\n\r\nAs the downstream of `teeing()` we can use a combination of Collectors `groupingBy()` and [`summingInt()`][summingInt], the second one is needed to accumulate integer `amount` of the transaction.\r\n\r\n**Note** that there&#39;s no need in using nested Collector `groupingBy()` instead we can create a custom type that would hold `id` and `hash` (*and its `equals/hashCode` should be implemented based on the wrapped id and hash*). [Java 16 `record`][record] fits into this role perfectly well:\r\n\r\n```\r\npublic record HashWalletId(String hash, String walletId) {}\r\n```\r\n\r\nInstances of `HashWalletId` would be used as Keys in both intermediate Maps.\r\n\r\nThe *finisher function* of `teeing()` would merge the results of the two Maps together.\r\n\r\nThe only thing left is to generate instances of `UserTxn` out of map entries.\r\n\r\n```\r\nList&lt;Txn&gt; txnList = // initializing the list\r\n        \r\nList&lt;UserTxn&gt; result = txnList.stream()\r\n    .collect(Collectors.teeing(\r\n        Collectors.groupingBy(\r\n            txn -&gt; new HashWalletId(txn.getHash(), txn.getWithdrawId()),\r\n            Collectors.summingInt(txn -&gt; -1 * txn.getAmount())), // because amount has been withdrawn\r\n        Collectors.groupingBy(\r\n            txn -&gt; new HashWalletId(txn.getHash(), txn.getDepositId()),\r\n            Collectors.summingInt(Txn::getAmount)),\r\n        (map1, map2) -&gt; {\r\n            map2.forEach((k, v) -&gt; map1.merge(k, v, Integer::sum));\r\n            return map1;\r\n        }\r\n    ))\r\n    .entrySet().stream()\r\n    .map(entry -&gt; UserTxn.builder()\r\n        .hash(entry.getKey().hash())\r\n        .walletId(entry.getKey().walletId())\r\n        .txnType(entry.getValue() &gt; 0 ? &quot;DEPOSIT&quot; : &quot;WITHDRAW&quot;)\r\n        .amount(entry.getValue())\r\n        .build()\r\n    )\r\n    .toList(); // remove the terminal operation if your goal is to produce a Stream\r\n```\r\n\r\n\r\n\r\n   [teeing]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\r\n\r\n   [summingInt]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#summingInt(java.util.function.ToIntFunction)\r\n\r\n   [record]: https://docs.oracle.com/en/java/javase/16/language/records.html","title":"How to merge two groupingBy in java streams?","body":"<h3>TL;DR</h3>\n<p>For those who didn't understand the question, OP wants to generate from each <code>Txn</code> instance (<code>Txn</code> probably stands for transaction) <strong>two</strong> peaces of data: <code>hash</code> and <code>withdrawId</code> + aggregated amount, and <code>hash</code> and <code>depositId</code> + aggregated amount.</p>\n<p>And then they want to merge the two parts together (for that reason they were creating the two streams, and then concatenating them).</p>\n<p><em><strong>Note:</strong> it seems like there's a logical flow in the original code: the same amount gets associated with <code>withdrawId</code> and <code>depositId</code>. Which doesn't reflect that this amount has been taken from one account and transferred to another. Hence, it would make sense if for <code>depositId</code> amount would be used as is, and for <code>withdrawId</code> - negated (i.e. <code>-1 * amount</code>).</em></p>\n<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Collectors.teeing()</code></a></h1>\n<p>You can make use of the Java 12 Collector <code>teeing()</code> and internally group stream elements into two distinct Maps:</p>\n<ul>\n<li><p>the first one by grouping the stream data by <code>withdrawId</code> and <code>hash</code>.</p>\n</li>\n<li><p>and another one by grouping the data <code>depositId</code> and <code>hash</code>.</p>\n</li>\n</ul>\n<p>Teeing expects three arguments: 2 downstream Collectors and a Function combining the results produced by collectors.</p>\n<p>As the downstream of <code>teeing()</code> we can use a combination of Collectors <code>groupingBy()</code> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#summingInt(java.util.function.ToIntFunction)\" rel=\"nofollow noreferrer\"><code>summingInt()</code></a>, the second one is needed to accumulate integer <code>amount</code> of the transaction.</p>\n<p><strong>Note</strong> that there's no need in using nested Collector <code>groupingBy()</code> instead we can create a custom type that would hold <code>id</code> and <code>hash</code> (<em>and its <code>equals/hashCode</code> should be implemented based on the wrapped id and hash</em>). <a href=\"https://docs.oracle.com/en/java/javase/16/language/records.html\" rel=\"nofollow noreferrer\">Java 16 <code>record</code></a> fits into this role perfectly well:</p>\n<pre><code>public record HashWalletId(String hash, String walletId) {}\n</code></pre>\n<p>Instances of <code>HashWalletId</code> would be used as Keys in both intermediate Maps.</p>\n<p>The <em>finisher function</em> of <code>teeing()</code> would merge the results of the two Maps together.</p>\n<p>The only thing left is to generate instances of <code>UserTxn</code> out of map entries.</p>\n<pre><code>List&lt;Txn&gt; txnList = // initializing the list\n        \nList&lt;UserTxn&gt; result = txnList.stream()\n    .collect(Collectors.teeing(\n        Collectors.groupingBy(\n            txn -&gt; new HashWalletId(txn.getHash(), txn.getWithdrawId()),\n            Collectors.summingInt(txn -&gt; -1 * txn.getAmount())), // because amount has been withdrawn\n        Collectors.groupingBy(\n            txn -&gt; new HashWalletId(txn.getHash(), txn.getDepositId()),\n            Collectors.summingInt(Txn::getAmount)),\n        (map1, map2) -&gt; {\n            map2.forEach((k, v) -&gt; map1.merge(k, v, Integer::sum));\n            return map1;\n        }\n    ))\n    .entrySet().stream()\n    .map(entry -&gt; UserTxn.builder()\n        .hash(entry.getKey().hash())\n        .walletId(entry.getKey().walletId())\n        .txnType(entry.getValue() &gt; 0 ? &quot;DEPOSIT&quot; : &quot;WITHDRAW&quot;)\n        .amount(entry.getValue())\n        .build()\n    )\n    .toList(); // remove the terminal operation if your goal is to produce a Stream\n</code></pre>\n"}],"owner":{"account_id":16194832,"reputation":582,"user_id":11692715,"display_name":"Mohit Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74671331,"answer_count":2,"score":0,"last_activity_date":1678142210,"creation_date":1670103260,"question_id":74670924,"body_markdown":"I have a input object\r\n\r\n      @Getter\r\n      class Txn {\r\n    \r\n        private String hash;\r\n        private String withdrawId;\r\n        private String depositId;\r\n        private Integer amount;\r\n        private String date;\r\n    \r\n      }\r\n\r\nand the output object is\r\n\r\n      @Builder\r\n      @Getter\r\n      class UserTxn {\r\n    \r\n        private String hash;\r\n        private String walletId;\r\n        private String txnType;\r\n        private Integer amount;\r\n      }\r\n\r\nIn the **Txn** object transfers the **amount** from the **withdrawId -&gt; depositId**.\r\n\r\nwhat I am doing is I am **adding** all the **transactions** (Txn objects) in a single amount **grouped by hash**.\r\n\r\nbut for that I have to make **two streams for groupingby** withdrawId and second or for depositId and then the **third stream for merging** them\r\n\r\n\r\ngrouping by withdrawId\r\n\r\n    var withdrawStream = txnList.stream().collect(Collectors.groupingBy(Txn::getHash, LinkedHashMap::new,\r\n            Collectors.groupingBy(Txn::getWithdrawId, LinkedHashMap::new, Collectors.toList())))\r\n        .entrySet().stream().flatMap(hashEntrySet -&gt; hashEntrySet.getValue().entrySet().stream()\r\n            .map(withdrawEntrySet -&gt;\r\n                UserTxn.builder()\r\n                    .hash(hashEntrySet.getKey())\r\n                    .walletId(withdrawEntrySet.getKey())\r\n                    .txnType(&quot;WITHDRAW&quot;)\r\n                    .amount(withdrawEntrySet.getValue().stream().map(Txn::getAmount).reduce(0, Integer::sum))\r\n                    .build()\r\n            ));\r\n\r\ngrouping by depositId\r\n\r\n\r\n    \r\n    var depositStream = txnList.stream().collect(Collectors.groupingBy(Txn::getHash, LinkedHashMap::new,\r\n            Collectors.groupingBy(Txn::getDepositId, LinkedHashMap::new, Collectors.toList())))\r\n        .entrySet().stream().flatMap(hashEntrySet -&gt; hashEntrySet.getValue().entrySet().stream()\r\n            .map(withdrawEntrySet -&gt;\r\n                UserTxn.builder()\r\n                    .hash(hashEntrySet.getKey())\r\n                    .walletId(withdrawEntrySet.getKey())\r\n                    .txnType(&quot;DEPOSIT&quot;)\r\n                    .amount(withdrawEntrySet.getValue().stream().map(Txn::getAmount).reduce(0, Integer::sum))\r\n                    .build()\r\n            ));\r\n    \r\n\r\nthen merging them again, using deposites - withdraws\r\n\r\n    var res = Stream.concat(withdrawStream, depositStream).collect(Collectors.groupingBy(UserTxn::getHash, LinkedHashMap::new,\r\n        Collectors.groupingBy(UserTxn::getWalletId, LinkedHashMap::new, Collectors.toList())))\r\n        .entrySet().stream().flatMap(hashEntrySet -&gt; hashEntrySet.getValue().entrySet().stream()\r\n            .map(withdrawEntrySet -&gt; {\r\n                  var depositAmount = withdrawEntrySet.getValue().stream().filter(userTxn -&gt; userTxn.txnType.equals(&quot;DEPOSIT&quot;)).map(UserTxn::getAmount).reduce(0, Integer::sum);\r\n                  var withdrawAmount = withdrawEntrySet.getValue().stream().filter(userTxn -&gt; userTxn.txnType.equals(&quot;WITHDRAW&quot;)).map(UserTxn::getAmount).reduce(0, Integer::sum);\r\n                  var totalAmount = depositAmount-withdrawAmount;\r\n                  return UserTxn.builder()\r\n                      .hash(hashEntrySet.getKey())\r\n                      .walletId(withdrawEntrySet.getKey())\r\n                      .txnType(totalAmount &gt; 0 ? &quot;DEPOSIT&quot;: &quot;WITHDRAW&quot;)\r\n                      .amount(totalAmount)\r\n                      .build();\r\n                }\r\n            ));\r\n\r\n\r\nMy question is, How can I do this in one stream. \r\nLike by somehow groupingBy withdrawId and depositId is one grouping.\r\n\r\nsomething like \r\n\r\n    res = txnList.stream()\r\n            .collect(Collectors.groupingBy(Txn::getHash,\r\n                LinkedHashMap::new,\r\n                Collectors.groupingBy(Txn::getWithdrawId &amp;&amp; Txn::getDepositId,\r\n                    LinkedHashMap::new, Collectors.toList())))\r\n            .entrySet().stream().flatMap(hashEntrySet -&gt; hashEntrySet.getValue().entrySet().stream()\r\n                .map(walletEntrySet -&gt;\r\n                    {\r\n                      var totalAmount = walletEntrySet.getValue().stream().map(\r\n                          txn -&gt; Objects.equals(txn.getDepositId(), walletEntrySet.getKey())\r\n                              ? txn.getAmount() : (-txn.getAmount())).reduce(0, Integer::sum);\r\n                      return UserTxn.builder()\r\n                          .hash(hashEntrySet.getKey())\r\n                          .walletId(walletEntrySet.getKey())\r\n                          .txnType(&quot;WITHDRAW&quot;)\r\n                          .amount(totalAmount)\r\n                          .build();\r\n                    }\r\n                ));\r\n\r\n\r\n\r\n","title":"How to merge two groupingBy in java streams?","body":"<p>I have a input object</p>\n<pre><code>  @Getter\n  class Txn {\n\n    private String hash;\n    private String withdrawId;\n    private String depositId;\n    private Integer amount;\n    private String date;\n\n  }\n</code></pre>\n<p>and the output object is</p>\n<pre><code>  @Builder\n  @Getter\n  class UserTxn {\n\n    private String hash;\n    private String walletId;\n    private String txnType;\n    private Integer amount;\n  }\n</code></pre>\n<p>In the <strong>Txn</strong> object transfers the <strong>amount</strong> from the <strong>withdrawId -&gt; depositId</strong>.</p>\n<p>what I am doing is I am <strong>adding</strong> all the <strong>transactions</strong> (Txn objects) in a single amount <strong>grouped by hash</strong>.</p>\n<p>but for that I have to make <strong>two streams for groupingby</strong> withdrawId and second or for depositId and then the <strong>third stream for merging</strong> them</p>\n<p>grouping by withdrawId</p>\n<pre><code>var withdrawStream = txnList.stream().collect(Collectors.groupingBy(Txn::getHash, LinkedHashMap::new,\n        Collectors.groupingBy(Txn::getWithdrawId, LinkedHashMap::new, Collectors.toList())))\n    .entrySet().stream().flatMap(hashEntrySet -&gt; hashEntrySet.getValue().entrySet().stream()\n        .map(withdrawEntrySet -&gt;\n            UserTxn.builder()\n                .hash(hashEntrySet.getKey())\n                .walletId(withdrawEntrySet.getKey())\n                .txnType(&quot;WITHDRAW&quot;)\n                .amount(withdrawEntrySet.getValue().stream().map(Txn::getAmount).reduce(0, Integer::sum))\n                .build()\n        ));\n</code></pre>\n<p>grouping by depositId</p>\n<pre><code>var depositStream = txnList.stream().collect(Collectors.groupingBy(Txn::getHash, LinkedHashMap::new,\n        Collectors.groupingBy(Txn::getDepositId, LinkedHashMap::new, Collectors.toList())))\n    .entrySet().stream().flatMap(hashEntrySet -&gt; hashEntrySet.getValue().entrySet().stream()\n        .map(withdrawEntrySet -&gt;\n            UserTxn.builder()\n                .hash(hashEntrySet.getKey())\n                .walletId(withdrawEntrySet.getKey())\n                .txnType(&quot;DEPOSIT&quot;)\n                .amount(withdrawEntrySet.getValue().stream().map(Txn::getAmount).reduce(0, Integer::sum))\n                .build()\n        ));\n</code></pre>\n<p>then merging them again, using deposites - withdraws</p>\n<pre><code>var res = Stream.concat(withdrawStream, depositStream).collect(Collectors.groupingBy(UserTxn::getHash, LinkedHashMap::new,\n    Collectors.groupingBy(UserTxn::getWalletId, LinkedHashMap::new, Collectors.toList())))\n    .entrySet().stream().flatMap(hashEntrySet -&gt; hashEntrySet.getValue().entrySet().stream()\n        .map(withdrawEntrySet -&gt; {\n              var depositAmount = withdrawEntrySet.getValue().stream().filter(userTxn -&gt; userTxn.txnType.equals(&quot;DEPOSIT&quot;)).map(UserTxn::getAmount).reduce(0, Integer::sum);\n              var withdrawAmount = withdrawEntrySet.getValue().stream().filter(userTxn -&gt; userTxn.txnType.equals(&quot;WITHDRAW&quot;)).map(UserTxn::getAmount).reduce(0, Integer::sum);\n              var totalAmount = depositAmount-withdrawAmount;\n              return UserTxn.builder()\n                  .hash(hashEntrySet.getKey())\n                  .walletId(withdrawEntrySet.getKey())\n                  .txnType(totalAmount &gt; 0 ? &quot;DEPOSIT&quot;: &quot;WITHDRAW&quot;)\n                  .amount(totalAmount)\n                  .build();\n            }\n        ));\n</code></pre>\n<p>My question is, How can I do this in one stream.\nLike by somehow groupingBy withdrawId and depositId is one grouping.</p>\n<p>something like</p>\n<pre><code>res = txnList.stream()\n        .collect(Collectors.groupingBy(Txn::getHash,\n            LinkedHashMap::new,\n            Collectors.groupingBy(Txn::getWithdrawId &amp;&amp; Txn::getDepositId,\n                LinkedHashMap::new, Collectors.toList())))\n        .entrySet().stream().flatMap(hashEntrySet -&gt; hashEntrySet.getValue().entrySet().stream()\n            .map(walletEntrySet -&gt;\n                {\n                  var totalAmount = walletEntrySet.getValue().stream().map(\n                      txn -&gt; Objects.equals(txn.getDepositId(), walletEntrySet.getKey())\n                          ? txn.getAmount() : (-txn.getAmount())).reduce(0, Integer::sum);\n                  return UserTxn.builder()\n                      .hash(hashEntrySet.getKey())\n                      .walletId(walletEntrySet.getKey())\n                      .txnType(&quot;WITHDRAW&quot;)\n                      .amount(totalAmount)\n                      .build();\n                }\n            ));\n</code></pre>\n"},{"tags":["java","sorting","set","java-stream"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670530256,"creation_date":1670525028,"answer_id":74734960,"question_id":74734847,"body_markdown":"## TL;DR\r\n\r\n* `LinkedHashSet` - is the only implementation of the `Set` interface, which would to retain the order of the plain `String`s (`action` property), that differs from the alphabetical one.\r\n\r\n* *Timsort* has a slightly better performance than sorting via *Red-black tree* (i.e. by storing elments into a `TreeSet`). Since OP has said that *&quot;is a critical operation&quot;*, that worth to take into consideration.\r\n\r\n---------------------------------------------\r\n\r\nYou can sort the stream elements by timestamp before applying `collect`. That would guarantee that `action`s in the list would be consumed in the required order.\r\n\r\nAnd to retain the order of these Strings, you can use a [`LinkedHashSet`][linkedHashSet] (`TreeSet` would not be helpful in this case since you need to keep the order by property which would not be present in the collection). \r\n\r\n```\r\nvar actionsById = orderRows.stream()\r\n    .sorted(Comparator.comparing(OrderRow::getTimestamp))\r\n    .collect(Collectors.groupingBy(\r\n        OrderRow::getOrderId,\r\n        Collectors.mapping(\r\n            OrderRow::getAction,\r\n            Collectors.toCollection(LinkedHashSet::new))\r\n    ));\r\n```\r\n\r\nAlternatively, you can sort the sets while grouping (as you were trying to do).\r\n\r\n```\r\nvar actionsById = orderRows.stream()\r\n    .collect(Collectors.groupingBy(\r\n        OrderRow::getOrderId,\r\n        Collectors.collectingAndThen(\r\n            Collectors.mapping(\r\n                Function.identity(),\r\n                Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(Comparator.comparing(OrderRow::getTimestamp)))\r\n            ),\r\n            set -&gt; set.stream().map(OrderRow::getAction).collect(Collectors.toCollection(LinkedHashSet::new))\r\n        )\r\n    ));\r\n```\r\n\r\nOr instead of sorting via *Red-Black Tree* (`TreeSet` *is backed by the an implementation of this data structure*) each set can be sorted via *Timsort* (which is an algorithm used while sorting an array of elements, and `sorted()` operation is invoked in the stream, its elements are being dumped into an array).\r\n\r\nMaintaining a *Red-Black Tree* is constful, and theoretically *Timsort* should perform a bit better.\r\n\r\n```\r\nvar actionsById = orderRows.stream()\r\n    .collect(Collectors.groupingBy(\r\n        OrderRow::getOrderId,\r\n        Collectors.collectingAndThen(\r\n            Collectors.mapping(\r\n                Function.identity(), Collectors.toList()\r\n            ),\r\n            list -&gt; list.stream().sorted(Comparator.comparing(OrderRow::getTimestamp))\r\n                .map(OrderRow::getAction)\r\n                .collect(Collectors.toCollection(LinkedHashSet::new))\r\n        )\r\n    ));\r\n```\r\n\r\nTo eliminate allocating a new array in memory (which happens when `sorted()` operation is being called) we can sort the lists produced by `mapping()` directly, and then create a stream out of sorted lists in the *finisher* function of `collectingAndThen()`.\r\n\r\nThat would require writing a multiline lambda, but in this case is justifiable by the performance gain.\r\n\r\n```\r\nvar actionsById = orderRows.stream()\r\n    .collect(Collectors.groupingBy(\r\n        OrderRow::getOrderId,\r\n        Collectors.collectingAndThen(\r\n            Collectors.mapping(\r\n                Function.identity(), Collectors.toList()\r\n            ),\r\n            list -&gt; {\r\n                list.sort(Comparator.comparing(OrderRow::getTimestamp));\r\n                return list.stream().map(OrderRow::getAction)\r\n                    .collect(Collectors.toCollection(LinkedHashSet::new));\r\n            }\r\n        )\r\n    ));\r\n```\r\n\r\n\r\n   [linkedHashSet]: https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/LinkedHashSet.html","title":"Java-Stream - Sort and Transform elements using groupingBy()","body":"<h2>TL;DR</h2>\n<ul>\n<li><p><code>LinkedHashSet</code> - is the only implementation of the <code>Set</code> interface, which would to retain the order of the plain <code>String</code>s (<code>action</code> property), that differs from the alphabetical one.</p>\n</li>\n<li><p><em>Timsort</em> has a slightly better performance than sorting via <em>Red-black tree</em> (i.e. by storing elments into a <code>TreeSet</code>). Since OP has said that <em>&quot;is a critical operation&quot;</em>, that worth to take into consideration.</p>\n</li>\n</ul>\n<hr />\n<p>You can sort the stream elements by timestamp before applying <code>collect</code>. That would guarantee that <code>action</code>s in the list would be consumed in the required order.</p>\n<p>And to retain the order of these Strings, you can use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/LinkedHashSet.html\" rel=\"nofollow noreferrer\"><code>LinkedHashSet</code></a> (<code>TreeSet</code> would not be helpful in this case since you need to keep the order by property which would not be present in the collection).</p>\n<pre><code>var actionsById = orderRows.stream()\n    .sorted(Comparator.comparing(OrderRow::getTimestamp))\n    .collect(Collectors.groupingBy(\n        OrderRow::getOrderId,\n        Collectors.mapping(\n            OrderRow::getAction,\n            Collectors.toCollection(LinkedHashSet::new))\n    ));\n</code></pre>\n<p>Alternatively, you can sort the sets while grouping (as you were trying to do).</p>\n<pre><code>var actionsById = orderRows.stream()\n    .collect(Collectors.groupingBy(\n        OrderRow::getOrderId,\n        Collectors.collectingAndThen(\n            Collectors.mapping(\n                Function.identity(),\n                Collectors.toCollection(() -&gt; new TreeSet&lt;&gt;(Comparator.comparing(OrderRow::getTimestamp)))\n            ),\n            set -&gt; set.stream().map(OrderRow::getAction).collect(Collectors.toCollection(LinkedHashSet::new))\n        )\n    ));\n</code></pre>\n<p>Or instead of sorting via <em>Red-Black Tree</em> (<code>TreeSet</code> <em>is backed by the an implementation of this data structure</em>) each set can be sorted via <em>Timsort</em> (which is an algorithm used while sorting an array of elements, and <code>sorted()</code> operation is invoked in the stream, its elements are being dumped into an array).</p>\n<p>Maintaining a <em>Red-Black Tree</em> is constful, and theoretically <em>Timsort</em> should perform a bit better.</p>\n<pre><code>var actionsById = orderRows.stream()\n    .collect(Collectors.groupingBy(\n        OrderRow::getOrderId,\n        Collectors.collectingAndThen(\n            Collectors.mapping(\n                Function.identity(), Collectors.toList()\n            ),\n            list -&gt; list.stream().sorted(Comparator.comparing(OrderRow::getTimestamp))\n                .map(OrderRow::getAction)\n                .collect(Collectors.toCollection(LinkedHashSet::new))\n        )\n    ));\n</code></pre>\n<p>To eliminate allocating a new array in memory (which happens when <code>sorted()</code> operation is being called) we can sort the lists produced by <code>mapping()</code> directly, and then create a stream out of sorted lists in the <em>finisher</em> function of <code>collectingAndThen()</code>.</p>\n<p>That would require writing a multiline lambda, but in this case is justifiable by the performance gain.</p>\n<pre><code>var actionsById = orderRows.stream()\n    .collect(Collectors.groupingBy(\n        OrderRow::getOrderId,\n        Collectors.collectingAndThen(\n            Collectors.mapping(\n                Function.identity(), Collectors.toList()\n            ),\n            list -&gt; {\n                list.sort(Comparator.comparing(OrderRow::getTimestamp));\n                return list.stream().map(OrderRow::getAction)\n                    .collect(Collectors.toCollection(LinkedHashSet::new));\n            }\n        )\n    ));\n</code></pre>\n"}],"owner":{"account_id":15967888,"reputation":165,"user_id":11522914,"display_name":"CovetousSlope"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74734960,"answer_count":1,"score":1,"last_activity_date":1678142196,"creation_date":1670524301,"question_id":74734847,"body_markdown":"Suppose I have the following domain class:\r\n\r\n    public class OrderRow {\r\n        private Long orderId;\r\n        private String action;\r\n        private LocalDateTime timestamp;\r\n        \r\n        // getters, constructor, etc.\r\n    }\r\n\r\nI have a following data set of `OrderRow`s :\r\n```\r\nOrderId  \tAction   \t\t    \tTimestamp\r\n3\t\t\tPay money \t\t    \t2015-05-27 12:48:47.000\r\n3\t\t\tSelect Item\t\t    \t2015-05-27 12:44:47.000\r\n1 \t\t\tGenerate Payment\t\t2015-05-27 12:55:47.000\r\n2\t\t\tPay money\t\t    \t2015-05-27 12:48:47.000\r\n2\t\t\tSelect Item \t    \t2015-05-27 12:44:47.000\r\n2\t\t\tDeliver \t\t    \t2015-05-27 12:55:47.000\r\n1\t\t\tGenerate Invoice    \t2015-05-27 12:48:47.000\r\n1\t\t\tCreate PO\t\t    \t2015-05-27 12:44:47.000\r\n3\t\t\tDeliver \t\t    \t2015-05-27 12:55:47.000\r\n```\r\n\r\nWhat I want to obtain the following `Map` from the sample data shown above:\r\n\r\n```\r\n[3] -&gt; [&quot;Select Item&quot;, &quot;Pay money&quot;, &quot;Deliver&quot;]\r\n[1] -&gt; [&quot;Create PO&quot;, &quot;Generate Invoice&quot;, &quot;Generate Payment&quot;]\r\n[2] -&gt; [&quot;Select Item&quot;, &quot;Pay money&quot;, &quot;Deliver&quot;]  \r\n```\r\nBy performing below operations :\r\n 1. I want to groupBy `orderId`.\r\n 2. Sort actions by `timestamp`.\r\n 3. Create a `Set` (as there can be duplicates) of `action`s.\r\n\r\nI am trying to do this in a single `groupingBy` operation as performing separate sorting, `mapping` operations take a lot of time if data set is huge.\r\n\r\nI&#39;ve tried to do the following:\r\n```\r\norderRows.stream()\r\n    .collect(Collectors.groupingBy(OrderRow::getOrderId, \r\n        Collectors.mapping(Function.identity(),\r\n            Collectors.toCollection(\r\n                () -&gt; new TreeSet&lt;&gt;(Comparator.comparing(e -&gt; e.timestamp))\r\n    ))));\r\n```\r\nBut then I get output as `Map&lt;String, Set&lt;OrderRow&gt;&gt;`\r\nwhere as I need the result of type `Map&lt;String, Set&lt;String&gt;&gt;`.\r\n\r\nWould be really grateful if someone can show me at least a direction to go.\r\n\r\n**Note** that is a critical operation and should be done in few milliseconds, hence performance is important.","title":"Java-Stream - Sort and Transform elements using groupingBy()","body":"<p>Suppose I have the following domain class:</p>\n<pre><code>public class OrderRow {\n    private Long orderId;\n    private String action;\n    private LocalDateTime timestamp;\n    \n    // getters, constructor, etc.\n}\n</code></pre>\n<p>I have a following data set of <code>OrderRow</code>s :</p>\n<pre><code>OrderId     Action                  Timestamp\n3           Pay money               2015-05-27 12:48:47.000\n3           Select Item             2015-05-27 12:44:47.000\n1           Generate Payment        2015-05-27 12:55:47.000\n2           Pay money               2015-05-27 12:48:47.000\n2           Select Item             2015-05-27 12:44:47.000\n2           Deliver                 2015-05-27 12:55:47.000\n1           Generate Invoice        2015-05-27 12:48:47.000\n1           Create PO               2015-05-27 12:44:47.000\n3           Deliver                 2015-05-27 12:55:47.000\n</code></pre>\n<p>What I want to obtain the following <code>Map</code> from the sample data shown above:</p>\n<pre><code>[3] -&gt; [&quot;Select Item&quot;, &quot;Pay money&quot;, &quot;Deliver&quot;]\n[1] -&gt; [&quot;Create PO&quot;, &quot;Generate Invoice&quot;, &quot;Generate Payment&quot;]\n[2] -&gt; [&quot;Select Item&quot;, &quot;Pay money&quot;, &quot;Deliver&quot;]  \n</code></pre>\n<p>By performing below operations :</p>\n<ol>\n<li>I want to groupBy <code>orderId</code>.</li>\n<li>Sort actions by <code>timestamp</code>.</li>\n<li>Create a <code>Set</code> (as there can be duplicates) of <code>action</code>s.</li>\n</ol>\n<p>I am trying to do this in a single <code>groupingBy</code> operation as performing separate sorting, <code>mapping</code> operations take a lot of time if data set is huge.</p>\n<p>I've tried to do the following:</p>\n<pre><code>orderRows.stream()\n    .collect(Collectors.groupingBy(OrderRow::getOrderId, \n        Collectors.mapping(Function.identity(),\n            Collectors.toCollection(\n                () -&gt; new TreeSet&lt;&gt;(Comparator.comparing(e -&gt; e.timestamp))\n    ))));\n</code></pre>\n<p>But then I get output as <code>Map&lt;String, Set&lt;OrderRow&gt;&gt;</code>\nwhere as I need the result of type <code>Map&lt;String, Set&lt;String&gt;&gt;</code>.</p>\n<p>Would be really grateful if someone can show me at least a direction to go.</p>\n<p><strong>Note</strong> that is a critical operation and should be done in few milliseconds, hence performance is important.</p>\n"},{"tags":["java","list","java-stream","collectors"],"comments":[{"owner":{"account_id":11238821,"reputation":63,"user_id":8243925,"display_name":"noob123"},"score":0,"creation_date":1671204165,"post_id":74825309,"comment_id":132055431,"body_markdown":"I tried to summerize it again.","body":"I tried to summerize it again."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671205969,"post_id":74825309,"comment_id":132056034,"body_markdown":"So you have a list of `SampleObject`s `payload` and you want to collect `ValueObject`s that are contained in the lists corresponding to the same `id` into a single `List`, and create a new `SampleObject` based on each aggregated `List`, right? And the result should be of type `List&lt;SampleObject&gt;` ?","body":"So you have a list of <code>SampleObject</code>s <code>payload</code> and you want to collect <code>ValueObject</code>s that are contained in the lists corresponding to the same <code>id</code> into a single <code>List</code>, and create a new <code>SampleObject</code> based on each aggregated <code>List</code>, right? And the result should be of type <code>List&lt;SampleObject&gt;</code> ?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1671206023,"post_id":74825309,"comment_id":132056062,"body_markdown":"You forget to provide the field name for List&lt;ValueObject&gt; in the `SampleObject`.","body":"You forget to provide the field name for List&lt;ValueObject&gt; in the <code>SampleObject</code>."},{"owner":{"account_id":11238821,"reputation":63,"user_id":8243925,"display_name":"noob123"},"score":0,"creation_date":1671207764,"post_id":74825309,"comment_id":132056645,"body_markdown":"The ValueObject just contains some strings. \nYes, within the List&lt;SampleObject&gt; are entities that have the same id but different ValueObject. As ValueObject is a list, I want to merge all enteries that have the same id to one SampleObject, this object should contain all ValueObjects of the duplicates. Thank you for your help!","body":"The ValueObject just contains some strings.  Yes, within the List&lt;SampleObject&gt; are entities that have the same id but different ValueObject. As ValueObject is a list, I want to merge all enteries that have the same id to one SampleObject, this object should contain all ValueObjects of the duplicates. Thank you for your help!"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671208264,"creation_date":1671207626,"answer_id":74827142,"question_id":74825309,"body_markdown":"# [`Collectors.flatMapping()`][flatMapping]\r\n\r\nIn order to combine together and store into a single list all the `ValueObject`s that correspond to the same `id` you can use Collector `flatMapping()`, which expects a *function* that produces a Stream from the element (*similarly to* `flatMap()` *operation*) and a downstream Collector which tells how the new elements produced by the *function* need to be stored.\r\n\r\nA combination of Collectors `groupingBy()` and `flatMapping()` would give you a map of type `Map&lt;UUID, List&lt;ValueObject&gt;&gt;`. To produce a `List` of `SampleObject`s out of it, you can create a stream map entries, transform each entry into a `SampleObject` and then collect the elements into a List.\r\n\r\nThat&#39;s how implementation might look like:\r\n\r\n```\r\nList&lt;SampleObject&gt; payload = // initializing the list\r\n    \r\nList&lt;SampleObject&gt; mergedData = payload.stream()\r\n    .collect(Collectors.groupingBy( // intermediate Map&lt;UUID, List&lt;ValueObject&gt;&gt;\r\n        SampleObject::getId,\r\n        Collectors.flatMapping(\r\n            sampleObject -&gt; sampleObject.getValues().stream(),\r\n            Collectors.toList()\r\n        )\r\n    ))\r\n    .entrySet().stream()\r\n    .map(entry -&gt; new SampleObject(entry.getKey(), entry.getValue()))\r\n    .toList(); // for Java 16+ or collect(Collectors.toList())\r\n```\r\n\r\n\r\n   [flatMapping]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#flatMapping(java.util.function.Function,java.util.stream.Collector)","title":"Merge/aggregate objects within a list java","body":"<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#flatMapping(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>Collectors.flatMapping()</code></a></h1>\n<p>In order to combine together and store into a single list all the <code>ValueObject</code>s that correspond to the same <code>id</code> you can use Collector <code>flatMapping()</code>, which expects a <em>function</em> that produces a Stream from the element (<em>similarly to</em> <code>flatMap()</code> <em>operation</em>) and a downstream Collector which tells how the new elements produced by the <em>function</em> need to be stored.</p>\n<p>A combination of Collectors <code>groupingBy()</code> and <code>flatMapping()</code> would give you a map of type <code>Map&lt;UUID, List&lt;ValueObject&gt;&gt;</code>. To produce a <code>List</code> of <code>SampleObject</code>s out of it, you can create a stream map entries, transform each entry into a <code>SampleObject</code> and then collect the elements into a List.</p>\n<p>That's how implementation might look like:</p>\n<pre><code>List&lt;SampleObject&gt; payload = // initializing the list\n    \nList&lt;SampleObject&gt; mergedData = payload.stream()\n    .collect(Collectors.groupingBy( // intermediate Map&lt;UUID, List&lt;ValueObject&gt;&gt;\n        SampleObject::getId,\n        Collectors.flatMapping(\n            sampleObject -&gt; sampleObject.getValues().stream(),\n            Collectors.toList()\n        )\n    ))\n    .entrySet().stream()\n    .map(entry -&gt; new SampleObject(entry.getKey(), entry.getValue()))\n    .toList(); // for Java 16+ or collect(Collectors.toList())\n</code></pre>\n"}],"owner":{"account_id":11238821,"reputation":63,"user_id":8243925,"display_name":"noob123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74827142,"answer_count":1,"score":2,"last_activity_date":1678142185,"creation_date":1671198376,"question_id":74825309,"body_markdown":"I have a custom type which looks like this:\r\n\r\n    public class SampleObject {\r\n        private UUID id;\r\n        private List&lt;ValueObject&gt; values;\r\n        \r\n        // getters, all-args constructor, etc.\r\n    }\r\n\r\nThe `ValueObject` just contains some Strings.\r\n\r\nAnd I have a `List` of `SampleObject`s `payload`. Within that list, there are several objects with the **same** `id` but different values in the` List&lt;ValueObject&gt;`.\r\n\r\nWhat I want to archive is to merge all objects with the same `id` and add all the different lists of the `ValueObject`s in one merged object.\r\n\r\nAt the end, I need again a list of `SampleObject`s.\r\n\r\nWhat I tried is the following: \r\n\r\n```\r\nList&lt;SampleObject&gt; payload = // initializing the List\r\n\r\npayload.stream().collect(Collectors.groupingBy(SampleObject::getId));\r\n```\r\n\r\nBut this returns a `Map` of `List` of `SampleObject`s. \r\nAnd I don&#39;t know how to merge then the objects under the value of this Map.","title":"Merge/aggregate objects within a list java","body":"<p>I have a custom type which looks like this:</p>\n<pre><code>public class SampleObject {\n    private UUID id;\n    private List&lt;ValueObject&gt; values;\n    \n    // getters, all-args constructor, etc.\n}\n</code></pre>\n<p>The <code>ValueObject</code> just contains some Strings.</p>\n<p>And I have a <code>List</code> of <code>SampleObject</code>s <code>payload</code>. Within that list, there are several objects with the <strong>same</strong> <code>id</code> but different values in the<code> List&lt;ValueObject&gt;</code>.</p>\n<p>What I want to archive is to merge all objects with the same <code>id</code> and add all the different lists of the <code>ValueObject</code>s in one merged object.</p>\n<p>At the end, I need again a list of <code>SampleObject</code>s.</p>\n<p>What I tried is the following:</p>\n<pre><code>List&lt;SampleObject&gt; payload = // initializing the List\n\npayload.stream().collect(Collectors.groupingBy(SampleObject::getId));\n</code></pre>\n<p>But this returns a <code>Map</code> of <code>List</code> of <code>SampleObject</code>s.\nAnd I don't know how to merge then the objects under the value of this Map.</p>\n"},{"tags":["java","spring-boot","aerospike"],"answers":[{"tags":[],"owner":{"account_id":20706132,"reputation":795,"user_id":15203960,"display_name":"Roi Menashe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649335029,"creation_date":1625732054,"answer_id":68297876,"question_id":68292496,"body_markdown":"Spring Data Aerospike stores both `@_class` and `@user_key` bins by default out of the box.\r\n\r\nWe store `@_class` bin in order to know how to map back the object to a Plain Old Java Object (POJO) when reading a record from Aerospike.\r\n\r\nWe store `@user_key` because Aerospike doesnt store the user key (only the digest) when saving a record, you can read more about the data model in Aerospike here: https://docs.aerospike.com/docs/architecture/data-model.html,\r\n so when you have historical data its helpful to know the original user key.\r\n\r\nYou can disable @_class, but with consequences. Please check Anastasiia Smirnova&#39;s comment.","title":"spring aerospike data - how to remove @user_key and @_class bins from sets","body":"<p>Spring Data Aerospike stores both <code>@_class</code> and <code>@user_key</code> bins by default out of the box.</p>\n<p>We store <code>@_class</code> bin in order to know how to map back the object to a Plain Old Java Object (POJO) when reading a record from Aerospike.</p>\n<p>We store <code>@user_key</code> because Aerospike doesnt store the user key (only the digest) when saving a record, you can read more about the data model in Aerospike here: <a href=\"https://docs.aerospike.com/docs/architecture/data-model.html\" rel=\"nofollow noreferrer\">https://docs.aerospike.com/docs/architecture/data-model.html</a>,\nso when you have historical data its helpful to know the original user key.</p>\n<p>You can disable @_class, but with consequences. Please check Anastasiia Smirnova's comment.</p>\n"},{"tags":[],"owner":{"account_id":352053,"reputation":522,"user_id":688926,"display_name":"Anastasiia Smirnova"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1625830108,"creation_date":1625830108,"answer_id":68316000,"question_id":68292496,"body_markdown":"Storing `@class` can be disabled via providing the following bean in the context:\r\n\r\n    @Bean\r\n    @Override\r\n    public AerospikeTypeAliasAccessor aerospikeTypeAliasAccessor() {\r\n        //we do not want to save @class field with type of document into Aerospike\r\n        return new AerospikeTypeAliasAccessor(null);\r\n    }\r\n\r\nNote, that disabling saving type information will make it impossible to read documents with generic data types.","title":"spring aerospike data - how to remove @user_key and @_class bins from sets","body":"<p>Storing <code>@class</code> can be disabled via providing the following bean in the context:</p>\n<pre><code>@Bean\n@Override\npublic AerospikeTypeAliasAccessor aerospikeTypeAliasAccessor() {\n    //we do not want to save @class field with type of document into Aerospike\n    return new AerospikeTypeAliasAccessor(null);\n}\n</code></pre>\n<p>Note, that disabling saving type information will make it impossible to read documents with generic data types.</p>\n"},{"tags":[],"owner":{"account_id":68404,"reputation":9917,"user_id":199593,"accept_rate":50,"display_name":"edigu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678141991,"creation_date":1678141991,"answer_id":75656455,"question_id":68292496,"body_markdown":"Yes, `@_class` is needed to map the data back to the java class you persisted, as others already mentioned. It might be not needed on use cases like write using spring-data-aerospike and read via another application or tool outside.\r\n\r\nI had a similar issue with Aerospike but my concern was slightly different: writing very long and repetitive class names with each record on a write-heavy application: sacrificing more bytes, more memory in long term, than actually needed.\r\n\r\nSolution to save some bytes per record was using a type alias:\r\n\r\n    import org.springframework.data.annotation.TypeAlias;\r\n\r\n    @Document\r\n    @TypeAlias(&quot;DeliveryRequest&quot;)\r\n    public class DeliveryRequest {}\r\n\r\nSo it reduced the space needed from `71 bytes`:\r\n\r\n    com.myorganization.servicemanager.delivery.domain.model.DeliveryRequest\r\n\r\nto `15 bytes`.\r\n\r\nWanted to share it as a hint for devs dealing with long and annoying class/package names in AQL outputs.\r\n\r\n\r\n\r\n","title":"spring aerospike data - how to remove @user_key and @_class bins from sets","body":"<p>Yes, <code>@_class</code> is needed to map the data back to the java class you persisted, as others already mentioned. It might be not needed on use cases like write using spring-data-aerospike and read via another application or tool outside.</p>\n<p>I had a similar issue with Aerospike but my concern was slightly different: writing very long and repetitive class names with each record on a write-heavy application: sacrificing more bytes, more memory in long term, than actually needed.</p>\n<p>Solution to save some bytes per record was using a type alias:</p>\n<pre><code>import org.springframework.data.annotation.TypeAlias;\n\n@Document\n@TypeAlias(&quot;DeliveryRequest&quot;)\npublic class DeliveryRequest {}\n</code></pre>\n<p>So it reduced the space needed from <code>71 bytes</code>:</p>\n<pre><code>com.myorganization.servicemanager.delivery.domain.model.DeliveryRequest\n</code></pre>\n<p>to <code>15 bytes</code>.</p>\n<p>Wanted to share it as a hint for devs dealing with long and annoying class/package names in AQL outputs.</p>\n"}],"owner":{"account_id":7867974,"reputation":41,"user_id":5946233,"display_name":"Shaho Shahbazpanahi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1678141991,"creation_date":1625688742,"question_id":68292496,"body_markdown":"I am new to the spring-aerospike-data, I was hoping if someone could let me know how can I remove `@user_key` and `@_class` bins when I send post request to the application. I am trying to use spring-areospike-data in my Rest-api. please see bleow example:\r\n\r\n - POM dependecis:\r\n```lang-xml\r\n\r\n     &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.aerospike&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-aerospike&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n```\r\n- Spring version: 2.5.1\r\n- Configruation classes:\r\n\r\n```lang-java\r\n\r\n    @Data\r\n    @Component\r\n    @ConfigurationProperties(prefix = &quot;aerospike&quot;)\r\n    public class AerospikeConfigurationProperties {\r\n     private String host;\r\n     private int port;\r\n     private String namespace;\r\n    }\r\n\r\n```\r\n\r\n```lang-java\r\n\r\n     @Configuration\r\n    @EnableConfigurationProperties(AerospikeConfigurationProperties.class)\r\n    @EnableAerospikeRepositories(basePackages = &quot;com.moneris.repositories&quot;)\r\n    public class AerospikeConfiguration extends AbstractAerospikeDataConfiguration {\r\n     @Autowired\r\n     private AerospikeConfigurationProperties aerospikeConfigurationProperties;\r\n     @Override\r\n     protected Collection&lt;Host&gt; getHosts() {\r\n        return Collections.singleton(new Host(aerospikeConfigurationProperties.getHost(), \r\n       aerospikeConfigurationProperties.getPort()));\r\n    }\r\n \t@Override\r\n    protected String nameSpace() {\r\n        return aerospikeConfigurationProperties.getNamespace();\r\n    }\r\n   }\r\n\r\n```\r\n\r\n\r\n\r\npom dependencies:\r\nhere is my POJO:\r\n\r\n``` lang-java\r\n\r\n    @Data\r\n    @Document\r\n    @AllArgsConstructor\r\n    public class UserApi {\r\n     @Id\r\n     private String apiKey;\r\n     private String apiName;\r\n     private int enabled;\r\n   \r\n   }\r\n\r\n```\r\n\r\n\r\nand here is the repo:\r\n\r\n```lang-java\r\n\r\n    public interface AerospikeUserApiKeyRepository extends CrudRepository&lt;UserApi, String&gt; {\r\n\t\r\n   }\r\n\r\n```\r\nand here is service:\r\n\r\n``` lang-java\r\n\r\n    @Service\r\n    @AllArgsConstructor\r\n    public class UserService {\r\n   \r\n        AerospikeUserApiKeyRepository aerospikeUserApiKeyRepository;\r\n    public void addUserApiKey(UserApi userApi) {\r\n    \taerospikeUserApiKeyRepository.save(userApi);\r\n    }\r\n    \r\n    public Optional&lt;UserApi&gt; getUserApi(String apiKey){\r\n    \treturn aerospikeUserApiKeyRepository.findById(apiKey);\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nhere the controller:\r\n\r\n```lang-java\r\n\r\n    @RestController\r\n    @AllArgsConstructor\r\n    public class UserController {\r\n    UserService userService;\r\n\r\n    @PostMapping(&quot;/users/apiKey&quot;)\r\n    public void addUserApi(@RequestBody UserApi userApi) {\r\n        userService.addUserApiKey(userApi);;\r\n    }\r\n    \r\n    @GetMapping(&quot;/users/apiKey/{apiKey}&quot;)\r\n         public Optional&lt;UserApi&gt; getUserApi(@PathVariable(&quot;apiKey&quot;) String apiKey) {\r\n        return userService.getUserApi(apiKey);\r\n    }\r\n}\r\n\r\n```\r\nwhen I run my applicaiton and send post request to the ```http://localhost:8080/users/apiKey``` with below json body\r\n\r\n```lang-json\r\n{\r\n    &quot;apiKey&quot;: &quot;ABC&quot;,\r\n    &quot;apiName&quot;: &quot;TEST&quot;,\r\n    &quot;enabled&quot;: 1\r\n}\r\n\r\n```\r\n I am geting below record in the aerospike db [![enter image description here][1]][1]\r\n is ther any way not stor ```@user_key and @_class``` in the sets? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kMKBU.png","title":"spring aerospike data - how to remove @user_key and @_class bins from sets","body":"<p>I am new to the spring-aerospike-data, I was hoping if someone could let me know how can I remove <code>@user_key</code> and <code>@_class</code> bins when I send post request to the application. I am trying to use spring-areospike-data in my Rest-api. please see bleow example:</p>\n<ul>\n<li>POM dependecis:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>\n     &lt;dependency&gt;\n            &lt;groupId&gt;com.aerospike&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-aerospike&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<ul>\n<li>Spring version: 2.5.1</li>\n<li>Configruation classes:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Data\n    @Component\n    @ConfigurationProperties(prefix = &quot;aerospike&quot;)\n    public class AerospikeConfigurationProperties {\n     private String host;\n     private int port;\n     private String namespace;\n    }\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n     @Configuration\n    @EnableConfigurationProperties(AerospikeConfigurationProperties.class)\n    @EnableAerospikeRepositories(basePackages = &quot;com.moneris.repositories&quot;)\n    public class AerospikeConfiguration extends AbstractAerospikeDataConfiguration {\n     @Autowired\n     private AerospikeConfigurationProperties aerospikeConfigurationProperties;\n     @Override\n     protected Collection&lt;Host&gt; getHosts() {\n        return Collections.singleton(new Host(aerospikeConfigurationProperties.getHost(), \n       aerospikeConfigurationProperties.getPort()));\n    }\n    @Override\n    protected String nameSpace() {\n        return aerospikeConfigurationProperties.getNamespace();\n    }\n   }\n\n</code></pre>\n<p>pom dependencies:\nhere is my POJO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Data\n    @Document\n    @AllArgsConstructor\n    public class UserApi {\n     @Id\n     private String apiKey;\n     private String apiName;\n     private int enabled;\n   \n   }\n\n</code></pre>\n<p>and here is the repo:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    public interface AerospikeUserApiKeyRepository extends CrudRepository&lt;UserApi, String&gt; {\n    \n   }\n\n</code></pre>\n<p>and here is service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Service\n    @AllArgsConstructor\n    public class UserService {\n   \n        AerospikeUserApiKeyRepository aerospikeUserApiKeyRepository;\n    public void addUserApiKey(UserApi userApi) {\n        aerospikeUserApiKeyRepository.save(userApi);\n    }\n    \n    public Optional&lt;UserApi&gt; getUserApi(String apiKey){\n        return aerospikeUserApiKeyRepository.findById(apiKey);\n    }\n    \n}\n\n</code></pre>\n<p>here the controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @RestController\n    @AllArgsConstructor\n    public class UserController {\n    UserService userService;\n\n    @PostMapping(&quot;/users/apiKey&quot;)\n    public void addUserApi(@RequestBody UserApi userApi) {\n        userService.addUserApiKey(userApi);;\n    }\n    \n    @GetMapping(&quot;/users/apiKey/{apiKey}&quot;)\n         public Optional&lt;UserApi&gt; getUserApi(@PathVariable(&quot;apiKey&quot;) String apiKey) {\n        return userService.getUserApi(apiKey);\n    }\n}\n\n</code></pre>\n<p>when I run my applicaiton and send post request to the <code>http://localhost:8080/users/apiKey</code> with below json body</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;apiKey&quot;: &quot;ABC&quot;,\n    &quot;apiName&quot;: &quot;TEST&quot;,\n    &quot;enabled&quot;: 1\n}\n\n</code></pre>\n<p>I am geting below record in the aerospike db <a href=\"https://i.stack.imgur.com/kMKBU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kMKBU.png\" alt=\"enter image description here\" /></a>\nis ther any way not stor <code>@user_key and @_class</code> in the sets?</p>\n"},{"tags":["java","javafx","inputstream","fileinputstream"],"answers":[{"tags":[],"owner":{"account_id":10594997,"reputation":531,"user_id":7804060,"display_name":"Liudmila Kornilova"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1521284568,"creation_date":1521284568,"answer_id":49335227,"question_id":49335128,"body_markdown":"What if you get bytes from an image and create ByteArrayInputStream?\r\n\r\n    ImageView view = new ImageView();\r\n    BufferedImage bImage = SwingFXUtils.fromFXImage(view.getImage(), null);\r\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    try {\r\n        ImageIO.write(bImage, &quot;png&quot;, outputStream);\r\n        byte[] res  = outputStream.toByteArray();\r\n        InputStream inputStream = new ByteArrayInputStream(res);\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }","title":"How to convert a JavaFX ImageView to InputStream","body":"<p>What if you get bytes from an image and create ByteArrayInputStream?</p>\n\n<pre><code>ImageView view = new ImageView();\nBufferedImage bImage = SwingFXUtils.fromFXImage(view.getImage(), null);\nByteArrayOutputStream outputStream = new ByteArrayOutputStream();\ntry {\n    ImageIO.write(bImage, \"png\", outputStream);\n    byte[] res  = outputStream.toByteArray();\n    InputStream inputStream = new ByteArrayInputStream(res);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":12615780,"reputation":35,"user_id":9173300,"accept_rate":100,"display_name":"Splanas00"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49335227,"answer_count":1,"score":1,"last_activity_date":1678141946,"creation_date":1521283977,"question_id":49335128,"body_markdown":"I have an `ImageView` that contains an image, what I need is to make a getImage() of the `ImageView` and convert it to an `InputStream`. This is the code that I have:\r\n\r\n    try {\r\n\r\n        File fileImage = new File(ivImage.getImage());\r\n    \r\n        InputStream isImage = (InputStream) new FileInputStream(fileImage);\r\n    \r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n\r\nIs there a way to get the `ImageView` image and convert it to `InputStream` ?\r\n\r\nThanks","title":"How to convert a JavaFX ImageView to InputStream","body":"<p>I have an <code>ImageView</code> that contains an image, what I need is to make a getImage() of the <code>ImageView</code> and convert it to an <code>InputStream</code>. This is the code that I have:</p>\n\n<pre><code>try {\n\n    File fileImage = new File(ivImage.getImage());\n\n    InputStream isImage = (InputStream) new FileInputStream(fileImage);\n\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Is there a way to get the <code>ImageView</code> image and convert it to <code>InputStream</code> ?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","intellij-idea","compilation","jetbrains-ide"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1678142083,"post_id":75656361,"comment_id":133473028,"body_markdown":"You need to tell IntelliJ what the &quot;sources root&quot; folder(s) is/are, that is, the root of the source tree.  You should be able to do that in your project window - right-click on the folder, and select &quot;Mark Directory As&quot; | &quot;Sources Root&quot;.","body":"You need to tell IntelliJ what the &quot;sources root&quot; folder(s) is/are, that is, the root of the source tree.  You should be able to do that in your project window - right-click on the folder, and select &quot;Mark Directory As&quot; | &quot;Sources Root&quot;."},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1678159404,"post_id":75656361,"comment_id":133475364,"body_markdown":"Dawood&#39;s suggestion should be right here. See here for details: https://www.jetbrains.com/help/idea/content-roots.html","body":"Dawood&#39;s suggestion should be right here. See here for details: <a href=\"https://www.jetbrains.com/help/idea/content-roots.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/content-roots.html</a>"}],"owner":{"account_id":25761004,"reputation":45,"user_id":19511943,"display_name":"UrosDjosic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678141160,"creation_date":1678141160,"question_id":75656361,"body_markdown":"For months now, I have been using IntelliJ IDEA to write my Java projects. I have always made them in the same directory, and never had any problems with the IDE.\r\n\r\nHowever, after starting a new college course of OOP in Java, I decided to save all my college projects in a seperate directory. To my surpirse, IntelliJ IDEA simply REFUSED to compile any projects made here.\r\n\r\nThe specific error I get is:\r\n\r\n```\r\nError: Could not find or load main class Main\r\nCaused by: java.lang.ClassNotFoundException: Main\r\n\r\nProcess finished with exit code 1\r\n```\r\nIt suggests &#39;rebuilding the project&#39;, which results in the following:\r\n\r\n```\r\nInternal error (java.io.IOException): Cannot find IntelliJ IDEA project files at C:\\IMPERIUM ROMANUM\\Fakultet Tehnickih Nauka\\Semestar II\\Objektno Orijentisano Programiranje I\\Vebe\\VEZBE_00 et VEZBE_01\\Vezbe01\r\njava.io.IOException: Cannot find IntelliJ IDEA project files at C:\\IMPERIUM ROMANUM\\Fakultet Tehnickih Nauka\\Semestar II\\Objektno Orijentisano Programiranje I\\Vebe\\VEZBE_00 et VEZBE_01\\Vezbe01\r\n\tat org.jetbrains.jps.model.serialization.JpsProjectLoader.loadProject(JpsProjectLoader.java:124)\r\n\tat org.jetbrains.jps.model.serialization.JpsProjectLoader.loadProject(JpsProjectLoader.java:101)\r\n\tat org.jetbrains.jps.model.serialization.impl.JpsSerializationManagerImpl.loadModel(JpsSerializationManagerImpl.java:23)\r\n\tat org.jetbrains.jps.cmdline.JpsModelLoaderImpl.loadModel(JpsModelLoaderImpl.java:34)\r\n\tat org.jetbrains.jps.cmdline.BuildRunner.load(BuildRunner.java:68)\r\n\tat org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:347)\r\n\tat org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:193)\r\n\tat org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:211)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n\r\nPlease perform full project rebuild (Build | Rebuild Project)\r\n```\r\n\r\nThis is incredibly frustrating, since we are talking about the simplest possible &quot;Hello World&quot; code, which has 0 complexity and doesn&#39;t even use any other classes except Main.\r\n\r\nWhat&#39;s funny is that this same code compiles perfectly through the command prompt with\r\n`javac Main.java`\r\n\r\nand runs without any issues with\r\n`java Main`\r\n\r\nDoes anyone have any similar experiences? Why is IntelliJ behaving like this, while working fine in all previous projects?","title":"IntelliJ IDEA refuses to work after changing directory in which I make Java projects","body":"<p>For months now, I have been using IntelliJ IDEA to write my Java projects. I have always made them in the same directory, and never had any problems with the IDE.</p>\n<p>However, after starting a new college course of OOP in Java, I decided to save all my college projects in a seperate directory. To my surpirse, IntelliJ IDEA simply REFUSED to compile any projects made here.</p>\n<p>The specific error I get is:</p>\n<pre><code>Error: Could not find or load main class Main\nCaused by: java.lang.ClassNotFoundException: Main\n\nProcess finished with exit code 1\n</code></pre>\n<p>It suggests 'rebuilding the project', which results in the following:</p>\n<pre><code>Internal error (java.io.IOException): Cannot find IntelliJ IDEA project files at C:\\IMPERIUM ROMANUM\\Fakultet Tehnickih Nauka\\Semestar II\\Objektno Orijentisano Programiranje I\\Vebe\\VEZBE_00 et VEZBE_01\\Vezbe01\njava.io.IOException: Cannot find IntelliJ IDEA project files at C:\\IMPERIUM ROMANUM\\Fakultet Tehnickih Nauka\\Semestar II\\Objektno Orijentisano Programiranje I\\Vebe\\VEZBE_00 et VEZBE_01\\Vezbe01\n    at org.jetbrains.jps.model.serialization.JpsProjectLoader.loadProject(JpsProjectLoader.java:124)\n    at org.jetbrains.jps.model.serialization.JpsProjectLoader.loadProject(JpsProjectLoader.java:101)\n    at org.jetbrains.jps.model.serialization.impl.JpsSerializationManagerImpl.loadModel(JpsSerializationManagerImpl.java:23)\n    at org.jetbrains.jps.cmdline.JpsModelLoaderImpl.loadModel(JpsModelLoaderImpl.java:34)\n    at org.jetbrains.jps.cmdline.BuildRunner.load(BuildRunner.java:68)\n    at org.jetbrains.jps.cmdline.BuildSession.runBuild(BuildSession.java:347)\n    at org.jetbrains.jps.cmdline.BuildSession.run(BuildSession.java:193)\n    at org.jetbrains.jps.cmdline.BuildMain$MyMessageHandler.lambda$channelRead0$0(BuildMain.java:211)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\n\nPlease perform full project rebuild (Build | Rebuild Project)\n</code></pre>\n<p>This is incredibly frustrating, since we are talking about the simplest possible &quot;Hello World&quot; code, which has 0 complexity and doesn't even use any other classes except Main.</p>\n<p>What's funny is that this same code compiles perfectly through the command prompt with\n<code>javac Main.java</code></p>\n<p>and runs without any issues with\n<code>java Main</code></p>\n<p>Does anyone have any similar experiences? Why is IntelliJ behaving like this, while working fine in all previous projects?</p>\n"},{"tags":["java","appium","desktop-application","winappdriver"],"owner":{"account_id":19116976,"reputation":11,"user_id":13961654,"display_name":"Yogev Abr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":775,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678141049,"creation_date":1595229594,"question_id":62990377,"body_markdown":"I am used to test Android and IOS in Appium, but now doing some Windows PC application automation, and want to use the same design pattern as in mobile apps - Page Object.&lt;br&gt;\r\nFor each element in my app I have `automationId` value, and I am trying to assign it using the `WindowsFindBy` annoatation, as follows:&lt;br&gt;\r\n\r\n    @WindowsFindBy(id = &quot;textBoxDirectory&quot;)\r\n    WebElement textBoxDirectory;\r\n\r\n\r\nAnd I event tried using the accessibility value, but get the same result as you can see in driver logs.\r\n&lt;br&gt;\r\n\r\n    @WindowsFindBy(accessibility = &quot;textBoxDirectory&quot;)\r\n    WebElement textBoxDirectory;\r\n\r\nThe page constructor does this:\r\n\r\n    public PageObject(WindowsDriver driver) {\r\n        this.driver = driver;\r\n        PageFactory.initElements(driver, this);\r\n    }\r\n\r\nin WinAppDriver log, I see that the driver is trying to find the element by **name** and not by **ID** as expected: &lt;br&gt;\r\n\r\n    {&quot;using&quot;:&quot;name&quot;,&quot;value&quot;:&quot;textBoxDirectory&quot;}\r\n    HTTP/1.1 404 Not Found\r\n    Content-Length: 139\r\n    Content-Type: application/json\r\n    \r\n    {&quot;status&quot;:7,&quot;value&quot;:{&quot;error&quot;:&quot;no such element&quot;,&quot;message&quot;:&quot;An element could not be located on the page using the given search parameters.&quot;}}\r\n\r\nWhen I try to access the field the primitive way: `textBoxDirectory = driver.findElementByAccessibilityId(&quot;textBoxDirectory&quot;);` I get the element succesfully.\r\n&lt;br&gt;\r\nThanks a lot for your help!\r\n","title":"PageFactory using Appium to test Windows desktop app","body":"<p>I am used to test Android and IOS in Appium, but now doing some Windows PC application automation, and want to use the same design pattern as in mobile apps - Page Object.<br>\nFor each element in my app I have <code>automationId</code> value, and I am trying to assign it using the <code>WindowsFindBy</code> annoatation, as follows:<br></p>\n<pre><code>@WindowsFindBy(id = &quot;textBoxDirectory&quot;)\nWebElement textBoxDirectory;\n</code></pre>\n<p>And I event tried using the accessibility value, but get the same result as you can see in driver logs.\n<br></p>\n<pre><code>@WindowsFindBy(accessibility = &quot;textBoxDirectory&quot;)\nWebElement textBoxDirectory;\n</code></pre>\n<p>The page constructor does this:</p>\n<pre><code>public PageObject(WindowsDriver driver) {\n    this.driver = driver;\n    PageFactory.initElements(driver, this);\n}\n</code></pre>\n<p>in WinAppDriver log, I see that the driver is trying to find the element by <strong>name</strong> and not by <strong>ID</strong> as expected: <br></p>\n<pre><code>{&quot;using&quot;:&quot;name&quot;,&quot;value&quot;:&quot;textBoxDirectory&quot;}\nHTTP/1.1 404 Not Found\nContent-Length: 139\nContent-Type: application/json\n\n{&quot;status&quot;:7,&quot;value&quot;:{&quot;error&quot;:&quot;no such element&quot;,&quot;message&quot;:&quot;An element could not be located on the page using the given search parameters.&quot;}}\n</code></pre>\n<p>When I try to access the field the primitive way: <code>textBoxDirectory = driver.findElementByAccessibilityId(&quot;textBoxDirectory&quot;);</code> I get the element succesfully.\n<br>\nThanks a lot for your help!</p>\n"},{"tags":["java","hashmap","java-stream","collectors"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1671552736,"post_id":74865728,"comment_id":132121548,"body_markdown":"`List&lt;String&gt;` is the _value_ type of your map, not the key type. You&#39;ll want a downstream collector to be able to map to the appropriate outputs instead of your source objects (e.g. `&quot;lizzard&quot;` instead of `{&quot;A&quot;, &quot;lizzard&quot;}`). Something akin to `Collectors.mapping(e -&gt; e[0], Collectors.toList())` in place of your current `#toList` call.","body":"<code>List&lt;String&gt;</code> is the <i>value</i> type of your map, not the key type. You&#39;ll want a downstream collector to be able to map to the appropriate outputs instead of your source objects (e.g. <code>&quot;lizzard&quot;</code> instead of <code>{&quot;A&quot;, &quot;lizzard&quot;}</code>). Something akin to <code>Collectors.mapping(e -&gt; e[0], Collectors.toList())</code> in place of your current <code>#toList</code> call."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671556107,"creation_date":1671556107,"answer_id":74866515,"question_id":74865728,"body_markdown":"Since elements in the stream are of type `String[]`, with your current collector\r\n```\r\nCollectors.groupingBy(e-&gt; e[1], Collectors.toList())\r\n```\r\nMap&#39;s Values would be of type `List&lt;String[]&gt;` (whilst you need a `List&lt;String&gt;`, not a list of arrays). Hence, you need to transform the stream elements received by the downstream Collector before storing them into a List.\r\n\r\nAs *@Rogue* has pointed out in the [comment][comment] you need to use Collector [`mapping()`][mapping] and the downstream of `groupingBy()`. And `toList()` should be in turn provided as the downstream Collector of `mapping()`.\r\n\r\n```\r\nString[][] guests = {\r\n    {&quot;A&quot;, &quot;lizzard&quot;},\r\n    {&quot;B&quot;, &quot;Gorilla&quot;},\r\n    {&quot;C&quot;, &quot;lizzard&quot;},\r\n    {&quot;D&quot;, &quot;Gorilla&quot;},\r\n    {&quot;E&quot;, &quot;lizzard&quot;},\r\n    {&quot;F&quot;, &quot;Gorilla&quot;},\r\n    {&quot;G&quot;, &quot;lizzard&quot;},\r\n    {&quot;H&quot;, &quot;Monkey&quot;},\r\n    {&quot;I&quot;, &quot;lizzard&quot;}\r\n};\r\n        \r\nMap&lt;String, List&lt;String&gt;&gt; guestMap = Arrays.stream(guests)\r\n    .collect(Collectors.groupingBy(\r\n        e -&gt; e[1],\r\n        Collectors.mapping(e -&gt; e[0],\r\n            Collectors.toList())\r\n    ));\r\n    \r\nguestMap.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nMonkey -&gt; [H]\r\nlizzard -&gt; [A, C, E, G, I]\r\nGorilla -&gt; [B, D, F]\r\n```\r\n\r\n\r\n   [comment]: https://stackoverflow.com/questions/74865728/converting-2d-string-array-map-in-java8#comment132121548_74865728\r\n\r\n   [mapping]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)","title":"Converting 2d String Array into a Map in Java8","body":"<p>Since elements in the stream are of type <code>String[]</code>, with your current collector</p>\n<pre><code>Collectors.groupingBy(e-&gt; e[1], Collectors.toList())\n</code></pre>\n<p>Map's Values would be of type <code>List&lt;String[]&gt;</code> (whilst you need a <code>List&lt;String&gt;</code>, not a list of arrays). Hence, you need to transform the stream elements received by the downstream Collector before storing them into a List.</p>\n<p>As <em>@Rogue</em> has pointed out in the <a href=\"https://stackoverflow.com/questions/74865728/converting-2d-string-array-map-in-java8#comment132121548_74865728\">comment</a> you need to use Collector <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#mapping(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>mapping()</code></a> and the downstream of <code>groupingBy()</code>. And <code>toList()</code> should be in turn provided as the downstream Collector of <code>mapping()</code>.</p>\n<pre><code>String[][] guests = {\n    {&quot;A&quot;, &quot;lizzard&quot;},\n    {&quot;B&quot;, &quot;Gorilla&quot;},\n    {&quot;C&quot;, &quot;lizzard&quot;},\n    {&quot;D&quot;, &quot;Gorilla&quot;},\n    {&quot;E&quot;, &quot;lizzard&quot;},\n    {&quot;F&quot;, &quot;Gorilla&quot;},\n    {&quot;G&quot;, &quot;lizzard&quot;},\n    {&quot;H&quot;, &quot;Monkey&quot;},\n    {&quot;I&quot;, &quot;lizzard&quot;}\n};\n        \nMap&lt;String, List&lt;String&gt;&gt; guestMap = Arrays.stream(guests)\n    .collect(Collectors.groupingBy(\n        e -&gt; e[1],\n        Collectors.mapping(e -&gt; e[0],\n            Collectors.toList())\n    ));\n    \nguestMap.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Monkey -&gt; [H]\nlizzard -&gt; [A, C, E, G, I]\nGorilla -&gt; [B, D, F]\n</code></pre>\n"}],"owner":{"account_id":7819979,"reputation":1197,"user_id":5913407,"accept_rate":57,"display_name":"LowCool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74866515,"answer_count":1,"score":0,"last_activity_date":1678141047,"creation_date":1671551888,"question_id":74865728,"body_markdown":"Seems like a very basic question, I want to convert my 2d string array into a `Map` with `List` as a Value.\r\n\r\nI&#39;ve tried something like below:\r\n\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; guestMap = Arrays\r\n    .stream(guests)\r\n    .collect(Collectors.groupingBy(e-&gt; e[1], Collectors.toList()));\r\n```\r\n\r\nMy nested array of strings like this\r\n\r\n```\r\nString[][] guests = {\r\n    {&quot;A&quot;, &quot;lizzard&quot;},\r\n    {&quot;B&quot;, &quot;Gorilla&quot;},\r\n    {&quot;C&quot;, &quot;lizzard&quot;},\r\n    {&quot;D&quot;, &quot;Gorilla&quot;},\r\n    {&quot;E&quot;, &quot;lizzard&quot;},\r\n    {&quot;F&quot;, &quot;Gorilla&quot;},\r\n    {&quot;G&quot;, &quot;lizzard&quot;},\r\n    {&quot;H&quot;, &quot;Monkey&quot;},\r\n    {&quot;I&quot;, &quot;lizzard&quot;}\r\n};\r\n```\r\n\r\nI know about a way of solving it using `computeIfAbsent()`. But I&#39;m looking for a solution purely using Stream API.","title":"Converting 2d String Array into a Map in Java8","body":"<p>Seems like a very basic question, I want to convert my 2d string array into a <code>Map</code> with <code>List</code> as a Value.</p>\n<p>I've tried something like below:</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; guestMap = Arrays\n    .stream(guests)\n    .collect(Collectors.groupingBy(e-&gt; e[1], Collectors.toList()));\n</code></pre>\n<p>My nested array of strings like this</p>\n<pre><code>String[][] guests = {\n    {&quot;A&quot;, &quot;lizzard&quot;},\n    {&quot;B&quot;, &quot;Gorilla&quot;},\n    {&quot;C&quot;, &quot;lizzard&quot;},\n    {&quot;D&quot;, &quot;Gorilla&quot;},\n    {&quot;E&quot;, &quot;lizzard&quot;},\n    {&quot;F&quot;, &quot;Gorilla&quot;},\n    {&quot;G&quot;, &quot;lizzard&quot;},\n    {&quot;H&quot;, &quot;Monkey&quot;},\n    {&quot;I&quot;, &quot;lizzard&quot;}\n};\n</code></pre>\n<p>I know about a way of solving it using <code>computeIfAbsent()</code>. But I'm looking for a solution purely using Stream API.</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673047029,"creation_date":1673047029,"answer_id":75036964,"question_id":75032886,"body_markdown":"The attempt is actually pretty close. We can achieve the desired result with the following code snippet:\r\n\r\n    Map&lt;Integer, List&lt;X&gt;&gt; map = \r\n        stream.collect(Collectors.groupingBy(x -&gt; x.getT().getHour()));;\r\n\r\n[&lt;kbd&gt;`Ideone.com` demo&lt;/kbd&gt;][ideone]\r\n\r\n[ideone]: https://ideone.com/CWLnx3","title":"How to use groupingby() to create a map from a stream in java, but grouping by not only by an attribute","body":"<p>The attempt is actually pretty close. We can achieve the desired result with the following code snippet:</p>\n<pre><code>Map&lt;Integer, List&lt;X&gt;&gt; map = \n    stream.collect(Collectors.groupingBy(x -&gt; x.getT().getHour()));;\n</code></pre>\n<p><a href=\"https://ideone.com/CWLnx3\" rel=\"nofollow noreferrer\"><kbd><code>Ideone.com</code> demo</kbd></a></p>\n"}],"owner":{"account_id":27454458,"reputation":3,"user_id":20946161,"display_name":"Cata Lebedina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75036964,"answer_count":1,"score":-1,"last_activity_date":1678141022,"creation_date":1673018852,"question_id":75032886,"body_markdown":"I have a stream from elements of a class x. One of the arributes (t) of the class x is from type LocalDateTime and I need to group the elements by hours.\r\n\r\nI tried something like this:\r\n\r\n    Map&lt;Integer, List&lt;x&gt;&gt; m = stream.collect(Collectors.groupingBy(x::t.getHour));\r\n\r\nBut this syntax doesn&#180;t work, any other idea of what i might be able to do?","title":"How to use groupingby() to create a map from a stream in java, but grouping by not only by an attribute","body":"<p>I have a stream from elements of a class x. One of the arributes (t) of the class x is from type LocalDateTime and I need to group the elements by hours.</p>\n<p>I tried something like this:</p>\n<pre><code>Map&lt;Integer, List&lt;x&gt;&gt; m = stream.collect(Collectors.groupingBy(x::t.getHour));\n</code></pre>\n<p>But this syntax doesnt work, any other idea of what i might be able to do?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675019093,"post_id":75276696,"comment_id":132833523,"body_markdown":"Maps do not easily lend themselves to recursive definitions like `Map&lt;String, Map&lt;string, Map&lt;string, ....&gt;&gt;&gt;`  It would be something like `Map&lt;String, Object&gt;` and require casting to use.  I would recommend you use an alternative data structure such as a linked list to hold the hierarchy.","body":"Maps do not easily lend themselves to recursive definitions like <code>Map&lt;String, Map&lt;string, Map&lt;string, ....&gt;&gt;&gt;</code>  It would be something like <code>Map&lt;String, Object&gt;</code> and require casting to use.  I would recommend you use an alternative data structure such as a linked list to hold the hierarchy."}],"answers":[{"tags":[],"owner":{"account_id":21401510,"reputation":66,"user_id":15763551,"display_name":"MahmoudFawzyKhalil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675020323,"creation_date":1675020323,"answer_id":75277730,"question_id":75276696,"body_markdown":"Here is how you could do this using a Map&lt;String, Map&gt; and [mutable reduction][1] using the [collect](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-) method that takes a supplier, accumulator, and combiner. The API is not the most pleasant to use, as WJS pointed out. \r\n\r\nIt requires unchecked casts because you can&#39;t represent these recursive structures of unknown depth using generics.\r\n\r\n\r\n    class Scratch {\r\n    public static void main(String[] args) {\r\n        var list = new String[]{&quot;caso.id&quot;,\r\n                &quot;caso.unidadeDoCaso.id&quot;,\r\n                &quot;caso.etiqueta&quot;,\r\n                &quot;caso.sigiloso&quot;,\r\n                &quot;caso.idPecaSegredoJustica&quot;,\r\n                &quot;caso.numeroAno&quot;,\r\n                &quot;caso.numero&quot;,\r\n                &quot;caso.competencia.id&quot;,\r\n                &quot;caso.competencia.ativo&quot;,\r\n                &quot;caso.competencia.nome&quot;,\r\n                &quot;caso.responsavel.id&quot;,\r\n                &quot;caso.responsavel.dadosPessoais.nome&quot;,\r\n                &quot;caso.escrivao.id&quot;,\r\n                &quot;caso.escrivao.dadosPessoais.nome&quot;};\r\n\r\n        Map&lt;String, Map&gt; result = Arrays.stream(list).collect(HashMap::new, Scratch::mapRecursively, HashMap::putAll);\r\n\r\n        System.out.println(result);\r\n        // {caso={unidadeDoCaso={id=null}, etiqueta=null, idPecaSegredoJustica=null, escrivao={id=null, dadosPessoais={nome=null}}, sigiloso=null, numero=null, id=null, numeroAno=null, responsavel={id=null, dadosPessoais={nome=null}}, competencia={ativo=null, nome=null, id=null}}}\r\n\r\n        System.out.println(result.get(&quot;caso&quot;).keySet());\r\n        // [unidadeDoCaso, etiqueta, idPecaSegredoJustica, escrivao, sigiloso, numero, id, numeroAno, responsavel, competencia]\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private static void mapRecursively(HashMap&lt;String, Map&gt; map, String s) {\r\n        // first recursion: s = caso.competencia.id\r\n        // second recursion: s = id\r\n\r\n        int dot = s.indexOf(&#39;.&#39;);\r\n\r\n        // Base case 1\r\n        if (dot == -1) {\r\n            map.put(s, null);\r\n            return;\r\n        }\r\n\r\n        String key = s.substring(0, dot); // caso\r\n        String value = s.substring(dot + 1); // competencia.id\r\n\r\n        boolean isFirstTimeToComeAcrossWord = !map.containsKey(key);\r\n        if (isFirstTimeToComeAcrossWord) {\r\n            map.put(key, new HashMap&lt;&gt;());\r\n        }\r\n\r\n        // Base case 2\r\n        int dot2 = value.indexOf(&#39;.&#39;);\r\n\r\n        if (dot2 == -1) {\r\n            map.get(key).put(value, null);\r\n            return;\r\n        }\r\n\r\n        String newKey = value.substring(0, dot2); // competencia\r\n        String leftover = value.substring(dot2 + 1); // id\r\n\r\n        boolean isFirstTimeWeComeAcrossNestedWord = !map.get(key).containsKey(newKey);\r\n        // Recursive cases\r\n        if (isFirstTimeWeComeAcrossNestedWord) {\r\n            var newMap = new HashMap&lt;String, Map&gt;();\r\n            map.get(key).put(newKey, newMap);\r\n            mapRecursively(newMap, leftover);\r\n        } else {\r\n            mapRecursively((HashMap&lt;String, Map&gt;) map.get(key).get(newKey), leftover);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction","title":"Java stream groupingby nested string","body":"<p>Here is how you could do this using a Map&lt;String, Map&gt; and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction\" rel=\"nofollow noreferrer\">mutable reduction</a> using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#collect-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\">collect</a> method that takes a supplier, accumulator, and combiner. The API is not the most pleasant to use, as WJS pointed out.</p>\n<p>It requires unchecked casts because you can't represent these recursive structures of unknown depth using generics.</p>\n<pre><code>class Scratch {\npublic static void main(String[] args) {\n    var list = new String[]{&quot;caso.id&quot;,\n            &quot;caso.unidadeDoCaso.id&quot;,\n            &quot;caso.etiqueta&quot;,\n            &quot;caso.sigiloso&quot;,\n            &quot;caso.idPecaSegredoJustica&quot;,\n            &quot;caso.numeroAno&quot;,\n            &quot;caso.numero&quot;,\n            &quot;caso.competencia.id&quot;,\n            &quot;caso.competencia.ativo&quot;,\n            &quot;caso.competencia.nome&quot;,\n            &quot;caso.responsavel.id&quot;,\n            &quot;caso.responsavel.dadosPessoais.nome&quot;,\n            &quot;caso.escrivao.id&quot;,\n            &quot;caso.escrivao.dadosPessoais.nome&quot;};\n\n    Map&lt;String, Map&gt; result = Arrays.stream(list).collect(HashMap::new, Scratch::mapRecursively, HashMap::putAll);\n\n    System.out.println(result);\n    // {caso={unidadeDoCaso={id=null}, etiqueta=null, idPecaSegredoJustica=null, escrivao={id=null, dadosPessoais={nome=null}}, sigiloso=null, numero=null, id=null, numeroAno=null, responsavel={id=null, dadosPessoais={nome=null}}, competencia={ativo=null, nome=null, id=null}}}\n\n    System.out.println(result.get(&quot;caso&quot;).keySet());\n    // [unidadeDoCaso, etiqueta, idPecaSegredoJustica, escrivao, sigiloso, numero, id, numeroAno, responsavel, competencia]\n}\n\n@SuppressWarnings(&quot;unchecked&quot;)\nprivate static void mapRecursively(HashMap&lt;String, Map&gt; map, String s) {\n    // first recursion: s = caso.competencia.id\n    // second recursion: s = id\n\n    int dot = s.indexOf('.');\n\n    // Base case 1\n    if (dot == -1) {\n        map.put(s, null);\n        return;\n    }\n\n    String key = s.substring(0, dot); // caso\n    String value = s.substring(dot + 1); // competencia.id\n\n    boolean isFirstTimeToComeAcrossWord = !map.containsKey(key);\n    if (isFirstTimeToComeAcrossWord) {\n        map.put(key, new HashMap&lt;&gt;());\n    }\n\n    // Base case 2\n    int dot2 = value.indexOf('.');\n\n    if (dot2 == -1) {\n        map.get(key).put(value, null);\n        return;\n    }\n\n    String newKey = value.substring(0, dot2); // competencia\n    String leftover = value.substring(dot2 + 1); // id\n\n    boolean isFirstTimeWeComeAcrossNestedWord = !map.get(key).containsKey(newKey);\n    // Recursive cases\n    if (isFirstTimeWeComeAcrossNestedWord) {\n        var newMap = new HashMap&lt;String, Map&gt;();\n        map.get(key).put(newKey, newMap);\n        mapRecursively(newMap, leftover);\n    } else {\n        mapRecursively((HashMap&lt;String, Map&gt;) map.get(key).get(newKey), leftover);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675026156,"creation_date":1675026156,"answer_id":75278368,"question_id":75276696,"body_markdown":"In spite of my suggestion I decided to provide this. There are two recursive routines.\r\n- one to fill the map.\r\n- the other to print it.\r\n\r\n```\r\nString[] array = {\r\n        &quot;caso.id&quot;,&quot;caso.unidadeDoCaso.id&quot;,&quot;caso.etiqueta&quot;,\r\n        &quot;caso.sigiloso&quot;,&quot;caso.idPecaSegredoJustica&quot;,&quot;caso.numeroAno&quot;,\r\n        &quot;caso.numero&quot;,&quot;caso.competencia.id&quot;,&quot;caso.competencia.ativo&quot;,\r\n        &quot;caso.competencia.nome&quot;,&quot;caso.responsavel.id&quot;,\r\n        &quot;caso.responsavel.dadosPessoais.nome&quot;,&quot;caso.escrivao.id&quot;,\r\n        &quot;caso.escrivao.dadosPessoais.nome&quot;\r\n};\r\n```\r\n- Create the map\r\n- Then iterated across the data, splitting on the dot.\r\n- then call fill with the map, just split nodes, and the starting node index.\r\n```\r\nMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n\r\nfor (String s : array) {\r\n    String[] nodes = s.split(&quot;\\\\.&quot;);\r\n    fill(map, nodes, 0);\r\n}\r\n\r\nprint(map, &quot;&quot;);\r\n```\r\nprints\r\n```\r\ncaso\r\n   unidadeDoCaso\r\n      id\r\n   etiqueta\r\n   idPecaSegredoJustica\r\n   escrivao\r\n      id\r\n      dadosPessoais\r\n         nome\r\n   sigiloso\r\n   numero\r\n   id\r\n   numeroAno\r\n   responsavel\r\n      id\r\n      dadosPessoais\r\n         nome\r\n   competencia\r\n      ativo\r\n      nome\r\n      id\r\n```\r\nThe `fill` method continues until the supplied nodes are all processed.\r\n- first the map is checked to see if the node exists or not(equal to null)\r\n- if not present, a new map is constructed and added to the supplied map. Then the method is called to process the next node.\r\n- otherwise, the method is called to add the current node to the map after the one that exists and continue processing the nodes.\r\n```\r\npublic static void fill(Map&lt;String, Object&gt; map, String[] nodes, int i) {\r\n    if (i &gt;= nodes.length) {\r\n        return;\r\n    }\r\n    String node = nodes[i];\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    Map&lt;String, Object&gt; obj = (Map&lt;String, Object&gt;)(node);\r\n    if (obj == null) {\r\n        Map&lt;String, Object&gt; m = new HashMap&lt;&gt;();\r\n        map.put(node, m);\r\n        fill(m, nodes, i + 1);\r\n    } else {\r\n        fill( obj, nodes, i + 1);\r\n    }\r\n}\r\n```\r\nThis prints the map elements and indents each subsequent nested map level on a separate line. \r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\npublic static void print(Map&lt;String, Object&gt; map, String indent) {\r\n\r\n    for (String key : map.keySet()) {\r\n        if (key != null) {\r\n            System.out.println(indent + key);\r\n            print((Map&lt;String, Object&gt;) map.get(key), indent + &quot;   &quot;);\r\n        }\r\n    }\r\n}\r\n","title":"Java stream groupingby nested string","body":"<p>In spite of my suggestion I decided to provide this. There are two recursive routines.</p>\n<ul>\n<li>one to fill the map.</li>\n<li>the other to print it.</li>\n</ul>\n<pre><code>String[] array = {\n        &quot;caso.id&quot;,&quot;caso.unidadeDoCaso.id&quot;,&quot;caso.etiqueta&quot;,\n        &quot;caso.sigiloso&quot;,&quot;caso.idPecaSegredoJustica&quot;,&quot;caso.numeroAno&quot;,\n        &quot;caso.numero&quot;,&quot;caso.competencia.id&quot;,&quot;caso.competencia.ativo&quot;,\n        &quot;caso.competencia.nome&quot;,&quot;caso.responsavel.id&quot;,\n        &quot;caso.responsavel.dadosPessoais.nome&quot;,&quot;caso.escrivao.id&quot;,\n        &quot;caso.escrivao.dadosPessoais.nome&quot;\n};\n</code></pre>\n<ul>\n<li>Create the map</li>\n<li>Then iterated across the data, splitting on the dot.</li>\n<li>then call fill with the map, just split nodes, and the starting node index.</li>\n</ul>\n<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n\nfor (String s : array) {\n    String[] nodes = s.split(&quot;\\\\.&quot;);\n    fill(map, nodes, 0);\n}\n\nprint(map, &quot;&quot;);\n</code></pre>\n<p>prints</p>\n<pre><code>caso\n   unidadeDoCaso\n      id\n   etiqueta\n   idPecaSegredoJustica\n   escrivao\n      id\n      dadosPessoais\n         nome\n   sigiloso\n   numero\n   id\n   numeroAno\n   responsavel\n      id\n      dadosPessoais\n         nome\n   competencia\n      ativo\n      nome\n      id\n</code></pre>\n<p>The <code>fill</code> method continues until the supplied nodes are all processed.</p>\n<ul>\n<li>first the map is checked to see if the node exists or not(equal to null)</li>\n<li>if not present, a new map is constructed and added to the supplied map. Then the method is called to process the next node.</li>\n<li>otherwise, the method is called to add the current node to the map after the one that exists and continue processing the nodes.</li>\n</ul>\n<pre><code>public static void fill(Map&lt;String, Object&gt; map, String[] nodes, int i) {\n    if (i &gt;= nodes.length) {\n        return;\n    }\n    String node = nodes[i];\n    @SuppressWarnings(&quot;unchecked&quot;)\n    Map&lt;String, Object&gt; obj = (Map&lt;String, Object&gt;)(node);\n    if (obj == null) {\n        Map&lt;String, Object&gt; m = new HashMap&lt;&gt;();\n        map.put(node, m);\n        fill(m, nodes, i + 1);\n    } else {\n        fill( obj, nodes, i + 1);\n    }\n}\n</code></pre>\n<p>This prints the map elements and indents each subsequent nested map level on a separate line.</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic static void print(Map&lt;String, Object&gt; map, String indent) {\n\n    for (String key : map.keySet()) {\n        if (key != null) {\n            System.out.println(indent + key);\n            print((Map&lt;String, Object&gt;) map.get(key), indent + &quot;   &quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4625545,"reputation":39,"user_id":3749477,"display_name":"gravatasufoca"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678140973,"creation_date":1675011548,"question_id":75276696,"body_markdown":"I have a list of string, and I want to be able to group them hierarchically.\r\n\r\nExample of the list:\r\n```\r\nvar list = new String[]{&quot;caso.id&quot;,\r\n&quot;caso.unidadeDoCaso.id&quot;,\r\n&quot;caso.etiqueta&quot;,\r\n&quot;caso.sigiloso&quot;,\r\n&quot;caso.idPecaSegredoJustica&quot;,\r\n&quot;caso.numeroAno&quot;,\r\n&quot;caso.numero&quot;,\r\n&quot;caso.competencia.id&quot;,\r\n&quot;caso.competencia.ativo&quot;,\r\n&quot;caso.competencia.nome&quot;,\r\n&quot;caso.responsavel.id&quot;,\r\n&quot;caso.responsavel.dadosPessoais.nome&quot;,\r\n&quot;caso.escrivao.id&quot;,\r\n&quot;caso.escrivao.dadosPessoais.nome&quot;};\r\n\r\n```\r\nI want to group them in Maps.\r\nLike:\r\n```\r\ncaso-&gt;\r\n   id\r\n   sigiloso,\r\n   ...\r\n   unidadeDoCaso-&gt;\r\n              id\r\n   competencia-&gt;\r\n              id\r\n              ativo\r\n              ...\r\n   responsavel-&gt;\r\n             id\r\n             dadosPessoais-&gt;\r\n                       nome\r\n                       ...\r\n              ...\r\n             \r\n  ...\r\n```\r\n\r\nI was able to group just one level. I was wondering if there&#39;s a way to do it recursively.\r\n\r\n","title":"Java stream groupingby nested string","body":"<p>I have a list of string, and I want to be able to group them hierarchically.</p>\n<p>Example of the list:</p>\n<pre><code>var list = new String[]{&quot;caso.id&quot;,\n&quot;caso.unidadeDoCaso.id&quot;,\n&quot;caso.etiqueta&quot;,\n&quot;caso.sigiloso&quot;,\n&quot;caso.idPecaSegredoJustica&quot;,\n&quot;caso.numeroAno&quot;,\n&quot;caso.numero&quot;,\n&quot;caso.competencia.id&quot;,\n&quot;caso.competencia.ativo&quot;,\n&quot;caso.competencia.nome&quot;,\n&quot;caso.responsavel.id&quot;,\n&quot;caso.responsavel.dadosPessoais.nome&quot;,\n&quot;caso.escrivao.id&quot;,\n&quot;caso.escrivao.dadosPessoais.nome&quot;};\n\n</code></pre>\n<p>I want to group them in Maps.\nLike:</p>\n<pre><code>caso-&gt;\n   id\n   sigiloso,\n   ...\n   unidadeDoCaso-&gt;\n              id\n   competencia-&gt;\n              id\n              ativo\n              ...\n   responsavel-&gt;\n             id\n             dadosPessoais-&gt;\n                       nome\n                       ...\n              ...\n             \n  ...\n</code></pre>\n<p>I was able to group just one level. I was wondering if there's a way to do it recursively.</p>\n"},{"tags":["java","jackson","deprecated","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1678140592,"creation_date":1575302205,"answer_id":59142507,"question_id":59136341,"body_markdown":"From [documentation][1]:\r\n\r\n&gt; **Deprecated**. Since `2.9` there are better mechanism for specifying\r\n&gt; filtering; specifically using JsonInclude or configuration overrides\r\n&gt; (see `ObjectMapper.configOverride(Class)`). Feature that determines\r\n&gt; whether `Map` entries with null values are to be serialized (true) or not (false).  \r\n&gt; NOTE: unlike other `SerializationFeatures`, this feature\r\n&gt; **cannot be dynamically changed on per-call basis**, because its effect is\r\n&gt; considered during construction of serializers and property handlers.\r\n&gt; \r\n&gt; Feature is enabled by default.\r\n\r\nSimple example:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.annotation.JsonInclude.Value;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializationFeature;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class JsonApp {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;string&quot;, &quot;value&quot;);\r\n            map.put(&quot;int&quot;, 1);\r\n            map.put(&quot;null1&quot;, null);\r\n            map.put(null, null);\r\n    \r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n            mapper.configOverride(Map.class).setInclude(Value.construct(JsonInclude.Include.NON_NULL, JsonInclude.Include.NON_NULL));\r\n    \r\n            System.out.println(mapper.writeValueAsString(map));\r\n        }\r\n    }\r\n\r\nAbove code prints:\r\n\r\n    {\r\n      &quot;string&quot; : &quot;value&quot;,\r\n      &quot;int&quot; : 1\r\n    }\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/SerializationFeature.html#WRITE_NULL_MAP_VALUES","title":"Is there any replacement for deprecated property SerializationFeature.WRITE_NULL_MAP_VALUES in Jackson Databind?","body":"<p>From <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/SerializationFeature.html#WRITE_NULL_MAP_VALUES\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p><strong>Deprecated</strong>. Since <code>2.9</code> there are better mechanism for specifying\nfiltering; specifically using JsonInclude or configuration overrides\n(see <code>ObjectMapper.configOverride(Class)</code>). Feature that determines\nwhether <code>Map</code> entries with null values are to be serialized (true) or not (false).<br />\nNOTE: unlike other <code>SerializationFeatures</code>, this feature\n<strong>cannot be dynamically changed on per-call basis</strong>, because its effect is\nconsidered during construction of serializers and property handlers.</p>\n<p>Feature is enabled by default.</p>\n</blockquote>\n<p>Simple example:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonInclude.Value;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class JsonApp {\n\n    public static void main(String[] args) throws Exception {\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;string&quot;, &quot;value&quot;);\n        map.put(&quot;int&quot;, 1);\n        map.put(&quot;null1&quot;, null);\n        map.put(null, null);\n\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.enable(SerializationFeature.INDENT_OUTPUT);\n        mapper.configOverride(Map.class).setInclude(Value.construct(JsonInclude.Include.NON_NULL, JsonInclude.Include.NON_NULL));\n\n        System.out.println(mapper.writeValueAsString(map));\n    }\n}\n</code></pre>\n<p>Above code prints:</p>\n<pre><code>{\n  &quot;string&quot; : &quot;value&quot;,\n  &quot;int&quot; : 1\n}\n</code></pre>\n"}],"owner":{"account_id":17153697,"reputation":110,"user_id":12415065,"display_name":"Abhinav Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9412,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":59142507,"answer_count":1,"score":6,"last_activity_date":1678140592,"creation_date":1575280428,"question_id":59136341,"body_markdown":"We are using ObjectMapper to ignore serialisation of null maps in our project\r\n\r\n    configure(SerializationFeature.WRITE_NULL_MAP_VALUES, false)\r\n\r\nBut after Jackson-Databind 2.9, the property is depreciated and we are looking for an alternate option.\r\n\r\nCan the below code work as substitute for removing the above property -\r\n\r\n    setSerializationInclusion(Include.NON_NULL)\r\n","title":"Is there any replacement for deprecated property SerializationFeature.WRITE_NULL_MAP_VALUES in Jackson Databind?","body":"<p>We are using ObjectMapper to ignore serialisation of null maps in our project</p>\n\n<pre><code>configure(SerializationFeature.WRITE_NULL_MAP_VALUES, false)\n</code></pre>\n\n<p>But after Jackson-Databind 2.9, the property is depreciated and we are looking for an alternate option.</p>\n\n<p>Can the below code work as substitute for removing the above property -</p>\n\n<pre><code>setSerializationInclusion(Include.NON_NULL)\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":13762909,"reputation":1124,"user_id":9932194,"display_name":"K M Rejowan Ahmmed"},"score":1,"creation_date":1678119151,"post_id":75653006,"comment_id":133467251,"body_markdown":"It would be easier to provide any suggestions if you add your codes with your questions.","body":"It would be easier to provide any suggestions if you add your codes with your questions."},{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1678119271,"post_id":75653006,"comment_id":133467281,"body_markdown":"This is unlikely to be a problem with the emulator and more likely to be a problem with your code","body":"This is unlikely to be a problem with the emulator and more likely to be a problem with your code"},{"owner":{"account_id":17428729,"reputation":9,"user_id":12633134,"display_name":"phill"},"score":0,"creation_date":1678121621,"post_id":75653006,"comment_id":133468003,"body_markdown":"@KenWolf as requested","body":"@KenWolf as requested"},{"owner":{"account_id":17428729,"reputation":9,"user_id":12633134,"display_name":"phill"},"score":0,"creation_date":1678122885,"post_id":75653006,"comment_id":133468371,"body_markdown":"@KMRejowanAhmmed as requested","body":"@KMRejowanAhmmed as requested"},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1678141106,"post_id":75653006,"comment_id":133472865,"body_markdown":"What have you done to debug your app? https://developer.android.com/studio/debug","body":"What have you done to debug your app? <a href=\"https://developer.android.com/studio/debug\" rel=\"nofollow noreferrer\">developer.android.com/studio/debug</a>"},{"owner":{"account_id":17428729,"reputation":9,"user_id":12633134,"display_name":"phill"},"score":0,"creation_date":1678301098,"post_id":75653006,"comment_id":133507805,"body_markdown":"@dominicoder well ive never used a debugger before if im honest, i have just been doing print statements to find out whats going on, when the last item is removed ive printed to find out what is in the shred preferences, there is nothing and the table is empty, on going back to the page i checked again and they are empty, plus the method to load the shared preferences does not run.","body":"@dominicoder well ive never used a debugger before if im honest, i have just been doing print statements to find out whats going on, when the last item is removed ive printed to find out what is in the shred preferences, there is nothing and the table is empty, on going back to the page i checked again and they are empty, plus the method to load the shared preferences does not run."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1678309308,"post_id":75653006,"comment_id":133509798,"body_markdown":"Then I would suggest starting to learn to use the debugger and stepping through your code line by line. You have _a lot_ going on there, it&#39;s very difficult to grok what you&#39;re doing, but given the amount of string manipulation and looping happening, you surely have a bug in there somewhere.","body":"Then I would suggest starting to learn to use the debugger and stepping through your code line by line. You have <i>a lot</i> going on there, it&#39;s very difficult to grok what you&#39;re doing, but given the amount of string manipulation and looping happening, you surely have a bug in there somewhere."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1678309393,"post_id":75653006,"comment_id":133509817,"body_markdown":"Also, unrelated to your question - this kind of feels like you&#39;re abusing SharedPreferences as a glorified database. Considering using Room intead. It might even expose or solve the current problem you&#39;re having.","body":"Also, unrelated to your question - this kind of feels like you&#39;re abusing SharedPreferences as a glorified database. Considering using Room intead. It might even expose or solve the current problem you&#39;re having."},{"owner":{"account_id":17428729,"reputation":9,"user_id":12633134,"display_name":"phill"},"score":0,"creation_date":1678386339,"post_id":75653006,"comment_id":133527052,"body_markdown":"@dominicoder  thanks for the advice, when you&#39;re learning this all on the fly as i am right now it can be a bit overwhelming to learn multiple things at once, as i am sure you have experienced yourself but ill try throw that in.","body":"@dominicoder  thanks for the advice, when you&#39;re learning this all on the fly as i am right now it can be a bit overwhelming to learn multiple things at once, as i am sure you have experienced yourself but ill try throw that in."},{"owner":{"account_id":17428729,"reputation":9,"user_id":12633134,"display_name":"phill"},"score":0,"creation_date":1678386372,"post_id":75653006,"comment_id":133527061,"body_markdown":"@dominicoder and ill look into Room, not heard of that before thanks","body":"@dominicoder and ill look into Room, not heard of that before thanks"}],"owner":{"account_id":17428729,"reputation":9,"user_id":12633134,"display_name":"phill"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678140224,"creation_date":1678118045,"question_id":75653006,"body_markdown":"I am creating an app and I have a function of it where you can add items to a table, this all works fine, you can add more to each item and delete, the table is saved each time in a stored preference (which is cleared before re-entering info), again all goes in, everything fine. \r\n\r\nthe problem arises as so, when I press the back button and re-enter the page the stored preferences are successfully loaded back into the table perfectly exactly how it was left, however, when I remove all the items and the last item is removed from the table, I press back and then go back in and the last item has appeared back into the table.\r\n I checked the stored preferences, it is empty and the method that loads the stored preferences does not run, hence I&#39;ve shown no code because it all works fine, so there is obviously something beyond my code happening.\r\n\r\nif anyone could point me in the right direction I would be grateful.\r\n\r\nok as requested heres my code:\r\n\r\nthis is intoStore it is from here you click onto the button to the individual container number, the page and code the back button takes me to.\r\n\r\n    package com.apps.storemanager;\r\n    \r\n    import static android.graphics.Color.rgb;\r\n    \r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.graphics.Color;\r\n    import android.graphics.drawable.Drawable;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.Button;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.RelativeLayout;\r\n    import android.widget.TableLayout;\r\n    import android.widget.TableRow;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import com.android.volley.Request;\r\n    import com.android.volley.RequestQueue;\r\n    import com.android.volley.Response;\r\n    import com.android.volley.VolleyError;\r\n    import com.android.volley.toolbox.StringRequest;\r\n    import com.android.volley.toolbox.Volley;\r\n    \r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class IntoStore extends AppCompatActivity {\r\n    \r\n        TextView customerName, address, contactInfo;\r\n        SharedPreferences sharedPreferences;\r\n        SharedPreferences[] containerNumberPreferences;\r\n        Button[] containers;\r\n        TableLayout containerTable;\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.into_store);\r\n    \r\n            sharedPreferences= getSharedPreferences(&quot;storeManagerUser&quot; , MODE_PRIVATE);\r\n    \r\n            customerName = findViewById(R.id.customerNameLabel);\r\n            address = findViewById(R.id.addressLabel);\r\n            contactInfo = findViewById(R.id.contactIfoLabel);\r\n    \r\n            containerTable = findViewById(R.id.containerTableLayout);\r\n    \r\n    \r\n            getIntoStoreCustomer();\r\n        }\r\n    \r\n        protected void getIntoStoreCustomer(){\r\n    \r\n            RequestQueue queue = Volley.newRequestQueue(this);\r\n            String url =&quot;http://192.168.0.193/storemanager/getIntoStoreCustomer.php&quot;;\r\n    \r\n            StringRequest stringRequest = new StringRequest(Request.Method.POST, url,\r\n                    new Response.Listener&lt;String&gt;() {\r\n                        @Override\r\n                        public void onResponse(String response) {\r\n    \r\n                            try{\r\n    \r\n                                //retrieves customer info\r\n                                JSONObject jsonObject = new JSONObject(response);\r\n                                String getCustomerName = jsonObject.getString(&quot;Customer Name&quot;);\r\n                                String getAddress = jsonObject.getString(&quot;Address&quot;);\r\n                                String getContactInfo = jsonObject.getString(&quot;Contact Info&quot;);\r\n                                String getContainers = jsonObject.getString(&quot;Containers&quot;);\r\n    \r\n                                //retrieves customers containers\r\n                                String[] getContainerNumber = getContainers.split(&quot;\\\\s+&quot;);\r\n                                customerName.setText(getCustomerName);\r\n                                address.setText(getAddress.replace(&quot;,&quot;, &quot;\\n&quot;));\r\n                                contactInfo.setText(getContactInfo);\r\n    \r\n                                //creates container button array\r\n                                containers = new Button[getContainerNumber.length];\r\n                                containerNumberPreferences = new SharedPreferences[getContainerNumber.length];\r\n                                boolean newRow = false;\r\n                                TableRow row = new TableRow(IntoStore.this);\r\n                                containerTable.addView(row);\r\n    \r\n                                for(int i = 0; i &lt; containers.length; i++){\r\n    \r\n                                //create the shared preference per container\r\n                                    containerNumberPreferences[i] = getSharedPreferences(getContainerNumber[i], MODE_PRIVATE);\r\n                                    SharedPreferences.Editor editor = containerNumberPreferences[i].edit();\r\n                                    editor.putString(&quot;container&quot;, getContainerNumber[i]);\r\n                                    editor.apply();\r\n    \r\n                                    if(i % 3 == 0) {            //to add 3 containers (buttons) per row\r\n    \r\n                                        newRow = true;\r\n    \r\n                                        if(newRow){\r\n                                                                //sets row layout\r\n                                            newRow = false;\r\n                                            row = new TableRow(IntoStore.this);\r\n                                            TableRow.LayoutParams params = new TableRow.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, TableLayout.LayoutParams.MATCH_PARENT);\r\n                                            params.setMargins(10,10,10,10);\r\n                                            row.setLayoutParams(params);\r\n                                            containerTable.addView(row);\r\n                                        }\r\n                                    }\r\n                                    //creates buttons\r\n                                    containers[i] = new Button(IntoStore.this);\r\n                                    containers[i].setText(getContainerNumber[i]);\r\n                                    containers[i].setTextSize(45f);\r\n                                    containers[i].setPadding(60, 60,60,60);\r\n                                    containers[i].setBackgroundColor((rgb(255,217,25)));\r\n                                    TableRow.LayoutParams params = new TableRow.LayoutParams(\r\n                                            TableRow.LayoutParams.MATCH_PARENT,\r\n                                            TableRow.LayoutParams.MATCH_PARENT\r\n                                    );\r\n    \r\n                                    //adds margin to buttons\r\n                                    params.setMargins(10, 10,10,30);\r\n                                    containers[i].setLayoutParams(params);\r\n                                    row.addView(containers[i],params);\r\n    \r\n                                    containers[i].setOnClickListener(new View.OnClickListener() {\r\n                                        @Override\r\n                                        public void onClick(View view) {\r\n    \r\n                                            Intent intent = new Intent(IntoStore.this.getApplicationContext(), LoadContainer.class);\r\n                                            intent.putExtra(&quot;container&quot;, ((Button) view).getText().toString());\r\n                                            startActivity(intent);\r\n    \r\n                                        }\r\n                                    });\r\n    \r\n                                }\r\n    \r\n                            } catch (JSONException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                    }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n    \r\n                }\r\n            })\r\n            {\r\n                protected Map&lt;String, String&gt; getParams(){\r\n                    Map&lt;String, String&gt; paramV = new HashMap&lt;&gt;();\r\n    \r\n                    paramV.put(&quot;username&quot;, sharedPreferences.getString(&quot;user&quot;, &quot;&quot;));\r\n    \r\n                    return paramV;\r\n                }\r\n            };\r\n    \r\n            queue.add(stringRequest);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nthis is the code for the individual container number, where the table is added to.\r\n\r\n    package com.apps.storemanager;\r\n    \r\n    import static android.graphics.Color.rgb;\r\n    \r\n    import android.annotation.SuppressLint;\r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.graphics.Bitmap;\r\n    import android.graphics.Color;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.provider.MediaStore;\r\n    import android.view.Gravity;\r\n    import android.view.MotionEvent;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.TableLayout;\r\n    import android.widget.TableRow;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.activity.result.ActivityResultLauncher;\r\n    import androidx.activity.result.contract.ActivityResultContracts;\r\n    import androidx.annotation.Nullable;\r\n    import androidx.annotation.RequiresApi;\r\n    import androidx.appcompat.app.AlertDialog;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    import java.util.Map;\r\n    \r\n    public class LoadContainer extends AppCompatActivity {\r\n    \r\n        private SharedPreferences containerNumberPreference;\r\n        private TextView containerNumberLabel;\r\n        private EditText itemInput;\r\n        private Float textSize;\r\n        private Button addTenBTN, addTwentyBTN, addItemBTN;\r\n        private TableLayout itemTable;\r\n        private String container;\r\n        private ActivityResultLauncher&lt;Intent&gt; ImageCapture;\r\n        private String itemName;\r\n        private Button shutDoor;\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.loadcontainer);\r\n    \r\n            Bundle getIntent = getIntent().getExtras();\r\n            container = getIntent.getString(&quot;container&quot;);\r\n    \r\n            containerNumberPreference = getSharedPreferences(container, MODE_PRIVATE);\r\n            containerNumberLabel = findViewById(R.id.containerNumberLabel);\r\n            containerNumberLabel.setText(containerNumberPreference.getString(&quot;container&quot;, &quot;&quot;));\r\n    \r\n            itemTable = findViewById(R.id.loadContainerItemTable);\r\n            itemInput = findViewById(R.id.newItemInput);\r\n            itemInput.setOnClickListener(view -&gt; itemInput.selectAll());\r\n    \r\n            textSize = 28f;   //text size for item and number\r\n    \r\n            addTenBTN = findViewById(R.id.addTenCartonBTN);\r\n            addTenBTN.setOnClickListener(view -&gt; addBox(((Button) view).getText().toString()));\r\n    \r\n            addTwentyBTN = findViewById(R.id.addTwentyCartonBTN);\r\n            addTwentyBTN.setOnClickListener(view -&gt; addBox(((Button) view).getText().toString()));\r\n    \r\n            addItemBTN = findViewById(R.id.addItemBTN);\r\n            addItemBTN.setOnClickListener(view -&gt; addItem(&quot;&quot;,&quot;&quot;));\r\n    \r\n            ImageCapture = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\r\n                    result -&gt; {\r\n                        if(result.getResultCode() == RESULT_OK &amp;&amp; result.getData() != null){\r\n    \r\n                            Bundle bundle = result.getData().getExtras();\r\n                            Bitmap bitMap = (Bitmap) bundle.get(&quot;data&quot;);\r\n    \r\n                            saveTempBitmap(bitMap);\r\n                        }\r\n    \r\n                    });\r\n    \r\n            shutDoor = findViewById(R.id.shutDoorBTN);\r\n            shutDoor.setOnClickListener(view -&gt; saveContainer());\r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n                loadSavedItems();\r\n            }\r\n    \r\n        }\r\n    \r\n        /**\r\n         * loads saved items\r\n         */\r\n        @RequiresApi(api = Build.VERSION_CODES.N)\r\n        protected void loadSavedItems(){\r\n    \r\n               Map&lt;String, ?&gt; savedItems = containerNumberPreference.getAll();\r\n               ArrayList&lt;String&gt; itemsAndNumber = new ArrayList&lt;&gt;();\r\n               savedItems.forEach((k, v) -&gt; itemsAndNumber.add(String.valueOf(v)));\r\n    \r\n               if(itemsAndNumber.size() &gt; 1) {  //1 to skip container number\r\n                   for (int i = 1; i &lt; itemsAndNumber.size(); i++) {\r\n                       String item = itemsAndNumber.get(i);\r\n                       String number = itemsAndNumber.get((i+1));\r\n                       addItem(itemsAndNumber.get(i), itemsAndNumber.get(++i));\r\n                   }\r\n               }\r\n            }\r\n    \r\n    \r\n        /**\r\n         * add item new box 10s and 20s\r\n         */\r\n        protected void addBox(String box){\r\n    \r\n            boolean existing = addToExistingItem(box);        //search table for duplicate\r\n    \r\n            if(!existing) {\r\n    \r\n                TableRow newRow = setTableRow(new TableRow(this));\r\n                TextView newItem = setItemTextView(new TextView(this), box);\r\n                TextView number = setNumberTextView(new TextView(this), &quot;1&quot;);\r\n                Button imageButton = setImageButton(new Button(this));\r\n                itemTable.addView(newRow);\r\n                newRow.addView(newItem);\r\n                newRow.addView(number);\r\n                newRow.addView(imageButton);\r\n    \r\n                updateSharedPreferences();\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * add new item\r\n         * also parameters for loading shared preferences\r\n         * loadSavedItems() line 92\r\n         */\r\n        protected void addItem(String savedItem, String savedNumber) {\r\n    \r\n            boolean existing;\r\n            String item = savedItem.isEmpty() ? itemInput.getText().toString().trim() : savedItem;\r\n            String itemNumber = savedNumber.isEmpty() ? &quot;1&quot; : savedNumber;\r\n    \r\n            if (!item.isEmpty()) {\r\n    \r\n                existing = addToExistingItem(item);        //search table for duplicate\r\n    \r\n                if (!existing) {\r\n    \r\n                    TableRow newRow = setTableRow(new TableRow(this));\r\n                    TextView newItem = setItemTextView(new TextView(this), item);\r\n                    TextView number = setNumberTextView(new TextView(this), itemNumber);\r\n                    Button imageButton = setImageButton(new Button(this));\r\n                    itemTable.addView(newRow);\r\n                    newRow.addView(newItem);\r\n                    newRow.addView(number);\r\n                    newRow.addView(imageButton);\r\n    \r\n                    updateSharedPreferences();\r\n                }\r\n            } else {\r\n                Toast.makeText(getApplicationContext(), &quot;Please Enter Item To Load&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * finds and adds to existing item\r\n         */\r\n        protected boolean addToExistingItem(String item){\r\n    \r\n            boolean found = false;\r\n    \r\n            for(int i = 0; i &lt; itemTable.getChildCount(); i++) {\r\n    \r\n                TableRow row = (TableRow) itemTable.getChildAt(i);\r\n                TextView text = (TextView) row.getChildAt(0);\r\n                String getText = text.getText().toString();\r\n    \r\n                if (getText.equals(item)) {\r\n    \r\n                    found = true;\r\n                    TextView numberText = (TextView) row.getChildAt(1);\r\n                    int update = Integer.parseInt(numberText.getText().toString());\r\n                    update++;\r\n                    numberText.setText(String.valueOf(update));\r\n    \r\n                    updateSharedPreferences();\r\n                }\r\n            }\r\n    \r\n            return found;\r\n        }\r\n    \r\n        /**\r\n         * finds and removes item\r\n         */\r\n        protected void removeFromExistingItem(String item) {\r\n    \r\n            for (int i = 0; i &lt; itemTable.getChildCount(); i++) {\r\n    \r\n                TableRow row = (TableRow) itemTable.getChildAt(i);\r\n                TextView text = (TextView) row.getChildAt(0);\r\n                String getText = text.getText().toString();\r\n    \r\n                if (getText.equals(item)) {\r\n    \r\n                    TextView numberText = (TextView) row.getChildAt(1);\r\n                    int update = Integer.parseInt(numberText.getText().toString());\r\n                    update--;\r\n    \r\n                    final int itemPlace = i;\r\n    \r\n                    if(update == 0){\r\n    \r\n                        AlertDialog.Builder builder = new AlertDialog.Builder(LoadContainer.this);\r\n    \r\n                        builder.setTitle(&quot;Removing Item&quot;);\r\n    \r\n                        builder.setMessage(&quot;You Are About To Remove The Item, All images Will be Removed With&quot; +\r\n                                        &quot; It Do You Want To Continue?&quot;)\r\n                                .setCancelable(false)\r\n                                .setPositiveButton(&quot;OK&quot;, (dialog, id) -&gt; {\r\n    \r\n                                    itemTable.removeViewAt(itemPlace);\r\n                                    row.removeViewAt(itemPlace);\r\n                                    updateSharedPreferences();\r\n    \r\n                                })\r\n                                .setNegativeButton(&quot;Cancel&quot;, (dialog, id) -&gt; dialog.cancel());\r\n    \r\n                        AlertDialog alertDialog = builder.create();\r\n                        alertDialog.show();\r\n    \r\n                    }else {\r\n    \r\n                        numberText.setText(String.valueOf(update));\r\n                    }\r\n    \r\n                    updateSharedPreferences();\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * updates the containers shared preferences\r\n         */\r\n        protected void updateSharedPreferences(){\r\n    \r\n            String storedItem = &quot;Stored Item &quot;;\r\n            String storedItemNumber = &quot;Stored Item Number &quot;;\r\n    \r\n            SharedPreferences.Editor editor =  containerNumberPreference.edit();\r\n            editor.clear();\r\n            editor.putString(&quot;container&quot;, containerNumberLabel.getText().toString());\r\n    \r\n            for(int i = 0; i &lt; itemTable.getChildCount(); i++) {\r\n    \r\n                TableRow itemRow = (TableRow) itemTable.getChildAt(i);\r\n                TextView itemTextView = (TextView) itemRow.getChildAt(0);\r\n                String item = itemTextView.getText().toString();\r\n    \r\n                itemTextView = (TextView) itemRow.getChildAt(1);\r\n                String itemNumber = itemTextView.getText().toString();\r\n    \r\n                editor.putString(storedItem + i, item);\r\n                editor.putString(storedItemNumber + i, itemNumber);\r\n                editor.apply();\r\n    \r\n            }\r\n        }\r\n    \r\n        /**\r\n         * gets formatted table row\r\n         */\r\n        @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n        protected TableRow setTableRow(TableRow row){\r\n    \r\n            row.setLayoutParams(new TableLayout.LayoutParams(TableLayout.LayoutParams.MATCH_PARENT, TableLayout.LayoutParams.MATCH_PARENT));\r\n            row.setPadding(0,5,0,0);\r\n    \r\n            row.setOnTouchListener(new View.OnTouchListener() {\r\n                private long start;\r\n                private long total;\r\n    \r\n                //creates touch for item row\r\n                @Override\r\n                public boolean onTouch(View view, MotionEvent event) {\r\n    \r\n                    if(event.getAction() == MotionEvent.ACTION_DOWN) {\r\n    \r\n                            start = event.getEventTime();\r\n                    }\r\n    \r\n                    if(event.getAction() == MotionEvent.ACTION_UP) {\r\n    \r\n                        long time = event.getEventTime();\r\n                        total = time - start;\r\n                        TextView getItem = (TextView) row.getChildAt(0);\r\n                        String item = getItem.getText().toString();\r\n    \r\n                        if (total &gt; 500) {      //if touch held it removes 1 of item\r\n    \r\n                         removeFromExistingItem(item);\r\n    \r\n    \r\n                        } else {                //else goes to camera to take photo of item\r\n    \r\n                            itemName = item;   //name for saved image\r\n                            Intent takePhoto = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                            ImageCapture.launch(takePhoto);\r\n                        }\r\n                    }\r\n                    return true;\r\n                }\r\n            });\r\n    \r\n            return row;\r\n        }\r\n    \r\n        /**\r\n         * gets formatted item text view\r\n         */\r\n        protected TextView setItemTextView(TextView itemName, String item){\r\n    \r\n            itemName.setTextSize(textSize);\r\n            itemName.setTextColor(Color.WHITE);\r\n            itemName.setGravity(Gravity.START);\r\n            itemName.setPadding(15,15,15,15);\r\n            itemName.setBackgroundColor(rgb(0,64,128));\r\n            itemName.setText(item);\r\n    \r\n            return itemName;\r\n        }\r\n    \r\n        /**\r\n         * get formatted new number textview\r\n         */\r\n        protected TextView setNumberTextView(TextView tv, String number){\r\n    \r\n            tv.setTextSize(textSize);\r\n            tv.setTextColor(Color.WHITE);\r\n            tv.setGravity(Gravity.END);\r\n            tv.setPadding(15,15,15,15);\r\n            tv.setBackgroundColor(rgb(0,64,128));\r\n            tv.setText(number);\r\n    \r\n            return tv;\r\n        }\r\n    \r\n        /**\r\n         * sets button to view images\r\n         */\r\n        protected Button setImageButton(Button button){\r\n    \r\n            button.setBackgroundColor(rgb(0,64,128));\r\n            button.setBackgroundResource(R.drawable.ic_baseline_image_search_24);\r\n            button.setOnClickListener(view -&gt; {\r\n    \r\n                TableRow row = (TableRow) button.getParent();\r\n                TextView getTextView = (TextView) row.getChildAt(0);\r\n                String item = getTextView.getText().toString();\r\n    \r\n                String root = Environment.getExternalStorageDirectory().toString();\r\n                File myDir = new File(root + &quot;/Pictures/&quot; + item);\r\n                File[] imageFile = myDir.listFiles();\r\n    \r\n                ArrayList&lt;String&gt; images = new ArrayList&lt;&gt;();\r\n    \r\n                if(imageFile != null) {\r\n                    for (int i = 0; i &lt; imageFile.length; i++) {\r\n    \r\n                        images.add(imageFile[i].getAbsolutePath());\r\n                        System.out.println(i);\r\n                    }\r\n                }\r\n                Intent openImageViewer = new Intent(LoadContainer.this, ImageViewer.class);\r\n                openImageViewer.putStringArrayListExtra(&quot;ImageList&quot;, images);\r\n                startActivity(openImageViewer);\r\n    \r\n            });\r\n    \r\n            return button;\r\n        }\r\n    \r\n        /**\r\n         * checks for storage permissions\r\n         * @param bitmap\r\n         */\r\n    \r\n        public void saveTempBitmap(Bitmap bitmap) {\r\n            if (isExternalStorageWritable()) {\r\n                saveImage(bitmap);\r\n            }else{\r\n    \r\n                Toast.makeText(getApplicationContext(), &quot;unable to save file&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * saves image to storage\r\n         * @param finalBitmap\r\n         */\r\n        private String saveImage(Bitmap finalBitmap) {\r\n    \r\n            String root = Environment.getExternalStorageDirectory().toString();\r\n            File myDir = new File(root + &quot;/Pictures/&quot; + itemName);\r\n            myDir.mkdirs();\r\n    \r\n            String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n            String fname = itemName + &quot;-&quot; + timeStamp +&quot;.jpg&quot;;\r\n    \r\n            File file = new File(myDir, fname);\r\n    \r\n            try(FileOutputStream out = new FileOutputStream(file)) {\r\n    \r\n                finalBitmap.compress(Bitmap.CompressFormat.JPEG, 100, out);\r\n                out.flush();\r\n    \r\n            } catch (Exception e) {\r\n    \r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return myDir.toString();\r\n        }\r\n    \r\n        /* Checks if external storage is available for read and write */\r\n        public boolean isExternalStorageWritable() {\r\n    \r\n            String state = Environment.getExternalStorageState();\r\n    \r\n            if (Environment.MEDIA_MOUNTED.equals(state)) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        private void saveContainer(){\r\n    \r\n    \r\n        }\r\n    }","title":"is there a data cache in the android studio emulator? or is this another issue?","body":"<p>I am creating an app and I have a function of it where you can add items to a table, this all works fine, you can add more to each item and delete, the table is saved each time in a stored preference (which is cleared before re-entering info), again all goes in, everything fine.</p>\n<p>the problem arises as so, when I press the back button and re-enter the page the stored preferences are successfully loaded back into the table perfectly exactly how it was left, however, when I remove all the items and the last item is removed from the table, I press back and then go back in and the last item has appeared back into the table.\nI checked the stored preferences, it is empty and the method that loads the stored preferences does not run, hence I've shown no code because it all works fine, so there is obviously something beyond my code happening.</p>\n<p>if anyone could point me in the right direction I would be grateful.</p>\n<p>ok as requested heres my code:</p>\n<p>this is intoStore it is from here you click onto the button to the individual container number, the page and code the back button takes me to.</p>\n<pre><code>package com.apps.storemanager;\n\nimport static android.graphics.Color.rgb;\n\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.graphics.Color;\nimport android.graphics.drawable.Drawable;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\nimport android.widget.RelativeLayout;\nimport android.widget.TableLayout;\nimport android.widget.TableRow;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.StringRequest;\nimport com.android.volley.toolbox.Volley;\n\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class IntoStore extends AppCompatActivity {\n\n    TextView customerName, address, contactInfo;\n    SharedPreferences sharedPreferences;\n    SharedPreferences[] containerNumberPreferences;\n    Button[] containers;\n    TableLayout containerTable;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.into_store);\n\n        sharedPreferences= getSharedPreferences(&quot;storeManagerUser&quot; , MODE_PRIVATE);\n\n        customerName = findViewById(R.id.customerNameLabel);\n        address = findViewById(R.id.addressLabel);\n        contactInfo = findViewById(R.id.contactIfoLabel);\n\n        containerTable = findViewById(R.id.containerTableLayout);\n\n\n        getIntoStoreCustomer();\n    }\n\n    protected void getIntoStoreCustomer(){\n\n        RequestQueue queue = Volley.newRequestQueue(this);\n        String url =&quot;http://192.168.0.193/storemanager/getIntoStoreCustomer.php&quot;;\n\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, url,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n\n                        try{\n\n                            //retrieves customer info\n                            JSONObject jsonObject = new JSONObject(response);\n                            String getCustomerName = jsonObject.getString(&quot;Customer Name&quot;);\n                            String getAddress = jsonObject.getString(&quot;Address&quot;);\n                            String getContactInfo = jsonObject.getString(&quot;Contact Info&quot;);\n                            String getContainers = jsonObject.getString(&quot;Containers&quot;);\n\n                            //retrieves customers containers\n                            String[] getContainerNumber = getContainers.split(&quot;\\\\s+&quot;);\n                            customerName.setText(getCustomerName);\n                            address.setText(getAddress.replace(&quot;,&quot;, &quot;\\n&quot;));\n                            contactInfo.setText(getContactInfo);\n\n                            //creates container button array\n                            containers = new Button[getContainerNumber.length];\n                            containerNumberPreferences = new SharedPreferences[getContainerNumber.length];\n                            boolean newRow = false;\n                            TableRow row = new TableRow(IntoStore.this);\n                            containerTable.addView(row);\n\n                            for(int i = 0; i &lt; containers.length; i++){\n\n                            //create the shared preference per container\n                                containerNumberPreferences[i] = getSharedPreferences(getContainerNumber[i], MODE_PRIVATE);\n                                SharedPreferences.Editor editor = containerNumberPreferences[i].edit();\n                                editor.putString(&quot;container&quot;, getContainerNumber[i]);\n                                editor.apply();\n\n                                if(i % 3 == 0) {            //to add 3 containers (buttons) per row\n\n                                    newRow = true;\n\n                                    if(newRow){\n                                                            //sets row layout\n                                        newRow = false;\n                                        row = new TableRow(IntoStore.this);\n                                        TableRow.LayoutParams params = new TableRow.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, TableLayout.LayoutParams.MATCH_PARENT);\n                                        params.setMargins(10,10,10,10);\n                                        row.setLayoutParams(params);\n                                        containerTable.addView(row);\n                                    }\n                                }\n                                //creates buttons\n                                containers[i] = new Button(IntoStore.this);\n                                containers[i].setText(getContainerNumber[i]);\n                                containers[i].setTextSize(45f);\n                                containers[i].setPadding(60, 60,60,60);\n                                containers[i].setBackgroundColor((rgb(255,217,25)));\n                                TableRow.LayoutParams params = new TableRow.LayoutParams(\n                                        TableRow.LayoutParams.MATCH_PARENT,\n                                        TableRow.LayoutParams.MATCH_PARENT\n                                );\n\n                                //adds margin to buttons\n                                params.setMargins(10, 10,10,30);\n                                containers[i].setLayoutParams(params);\n                                row.addView(containers[i],params);\n\n                                containers[i].setOnClickListener(new View.OnClickListener() {\n                                    @Override\n                                    public void onClick(View view) {\n\n                                        Intent intent = new Intent(IntoStore.this.getApplicationContext(), LoadContainer.class);\n                                        intent.putExtra(&quot;container&quot;, ((Button) view).getText().toString());\n                                        startActivity(intent);\n\n                                    }\n                                });\n\n                            }\n\n                        } catch (JSONException e) {\n                            e.printStackTrace();\n                        }\n                    }\n                }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n\n            }\n        })\n        {\n            protected Map&lt;String, String&gt; getParams(){\n                Map&lt;String, String&gt; paramV = new HashMap&lt;&gt;();\n\n                paramV.put(&quot;username&quot;, sharedPreferences.getString(&quot;user&quot;, &quot;&quot;));\n\n                return paramV;\n            }\n        };\n\n        queue.add(stringRequest);\n\n    }\n\n}\n</code></pre>\n<p>this is the code for the individual container number, where the table is added to.</p>\n<pre><code>package com.apps.storemanager;\n\nimport static android.graphics.Color.rgb;\n\nimport android.annotation.SuppressLint;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.graphics.Bitmap;\nimport android.graphics.Color;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.provider.MediaStore;\nimport android.view.Gravity;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TableLayout;\nimport android.widget.TableRow;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.annotation.Nullable;\nimport androidx.annotation.RequiresApi;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.Map;\n\npublic class LoadContainer extends AppCompatActivity {\n\n    private SharedPreferences containerNumberPreference;\n    private TextView containerNumberLabel;\n    private EditText itemInput;\n    private Float textSize;\n    private Button addTenBTN, addTwentyBTN, addItemBTN;\n    private TableLayout itemTable;\n    private String container;\n    private ActivityResultLauncher&lt;Intent&gt; ImageCapture;\n    private String itemName;\n    private Button shutDoor;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.loadcontainer);\n\n        Bundle getIntent = getIntent().getExtras();\n        container = getIntent.getString(&quot;container&quot;);\n\n        containerNumberPreference = getSharedPreferences(container, MODE_PRIVATE);\n        containerNumberLabel = findViewById(R.id.containerNumberLabel);\n        containerNumberLabel.setText(containerNumberPreference.getString(&quot;container&quot;, &quot;&quot;));\n\n        itemTable = findViewById(R.id.loadContainerItemTable);\n        itemInput = findViewById(R.id.newItemInput);\n        itemInput.setOnClickListener(view -&gt; itemInput.selectAll());\n\n        textSize = 28f;   //text size for item and number\n\n        addTenBTN = findViewById(R.id.addTenCartonBTN);\n        addTenBTN.setOnClickListener(view -&gt; addBox(((Button) view).getText().toString()));\n\n        addTwentyBTN = findViewById(R.id.addTwentyCartonBTN);\n        addTwentyBTN.setOnClickListener(view -&gt; addBox(((Button) view).getText().toString()));\n\n        addItemBTN = findViewById(R.id.addItemBTN);\n        addItemBTN.setOnClickListener(view -&gt; addItem(&quot;&quot;,&quot;&quot;));\n\n        ImageCapture = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\n                result -&gt; {\n                    if(result.getResultCode() == RESULT_OK &amp;&amp; result.getData() != null){\n\n                        Bundle bundle = result.getData().getExtras();\n                        Bitmap bitMap = (Bitmap) bundle.get(&quot;data&quot;);\n\n                        saveTempBitmap(bitMap);\n                    }\n\n                });\n\n        shutDoor = findViewById(R.id.shutDoorBTN);\n        shutDoor.setOnClickListener(view -&gt; saveContainer());\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            loadSavedItems();\n        }\n\n    }\n\n    /**\n     * loads saved items\n     */\n    @RequiresApi(api = Build.VERSION_CODES.N)\n    protected void loadSavedItems(){\n\n           Map&lt;String, ?&gt; savedItems = containerNumberPreference.getAll();\n           ArrayList&lt;String&gt; itemsAndNumber = new ArrayList&lt;&gt;();\n           savedItems.forEach((k, v) -&gt; itemsAndNumber.add(String.valueOf(v)));\n\n           if(itemsAndNumber.size() &gt; 1) {  //1 to skip container number\n               for (int i = 1; i &lt; itemsAndNumber.size(); i++) {\n                   String item = itemsAndNumber.get(i);\n                   String number = itemsAndNumber.get((i+1));\n                   addItem(itemsAndNumber.get(i), itemsAndNumber.get(++i));\n               }\n           }\n        }\n\n\n    /**\n     * add item new box 10s and 20s\n     */\n    protected void addBox(String box){\n\n        boolean existing = addToExistingItem(box);        //search table for duplicate\n\n        if(!existing) {\n\n            TableRow newRow = setTableRow(new TableRow(this));\n            TextView newItem = setItemTextView(new TextView(this), box);\n            TextView number = setNumberTextView(new TextView(this), &quot;1&quot;);\n            Button imageButton = setImageButton(new Button(this));\n            itemTable.addView(newRow);\n            newRow.addView(newItem);\n            newRow.addView(number);\n            newRow.addView(imageButton);\n\n            updateSharedPreferences();\n        }\n    }\n\n    /**\n     * add new item\n     * also parameters for loading shared preferences\n     * loadSavedItems() line 92\n     */\n    protected void addItem(String savedItem, String savedNumber) {\n\n        boolean existing;\n        String item = savedItem.isEmpty() ? itemInput.getText().toString().trim() : savedItem;\n        String itemNumber = savedNumber.isEmpty() ? &quot;1&quot; : savedNumber;\n\n        if (!item.isEmpty()) {\n\n            existing = addToExistingItem(item);        //search table for duplicate\n\n            if (!existing) {\n\n                TableRow newRow = setTableRow(new TableRow(this));\n                TextView newItem = setItemTextView(new TextView(this), item);\n                TextView number = setNumberTextView(new TextView(this), itemNumber);\n                Button imageButton = setImageButton(new Button(this));\n                itemTable.addView(newRow);\n                newRow.addView(newItem);\n                newRow.addView(number);\n                newRow.addView(imageButton);\n\n                updateSharedPreferences();\n            }\n        } else {\n            Toast.makeText(getApplicationContext(), &quot;Please Enter Item To Load&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    /**\n     * finds and adds to existing item\n     */\n    protected boolean addToExistingItem(String item){\n\n        boolean found = false;\n\n        for(int i = 0; i &lt; itemTable.getChildCount(); i++) {\n\n            TableRow row = (TableRow) itemTable.getChildAt(i);\n            TextView text = (TextView) row.getChildAt(0);\n            String getText = text.getText().toString();\n\n            if (getText.equals(item)) {\n\n                found = true;\n                TextView numberText = (TextView) row.getChildAt(1);\n                int update = Integer.parseInt(numberText.getText().toString());\n                update++;\n                numberText.setText(String.valueOf(update));\n\n                updateSharedPreferences();\n            }\n        }\n\n        return found;\n    }\n\n    /**\n     * finds and removes item\n     */\n    protected void removeFromExistingItem(String item) {\n\n        for (int i = 0; i &lt; itemTable.getChildCount(); i++) {\n\n            TableRow row = (TableRow) itemTable.getChildAt(i);\n            TextView text = (TextView) row.getChildAt(0);\n            String getText = text.getText().toString();\n\n            if (getText.equals(item)) {\n\n                TextView numberText = (TextView) row.getChildAt(1);\n                int update = Integer.parseInt(numberText.getText().toString());\n                update--;\n\n                final int itemPlace = i;\n\n                if(update == 0){\n\n                    AlertDialog.Builder builder = new AlertDialog.Builder(LoadContainer.this);\n\n                    builder.setTitle(&quot;Removing Item&quot;);\n\n                    builder.setMessage(&quot;You Are About To Remove The Item, All images Will be Removed With&quot; +\n                                    &quot; It Do You Want To Continue?&quot;)\n                            .setCancelable(false)\n                            .setPositiveButton(&quot;OK&quot;, (dialog, id) -&gt; {\n\n                                itemTable.removeViewAt(itemPlace);\n                                row.removeViewAt(itemPlace);\n                                updateSharedPreferences();\n\n                            })\n                            .setNegativeButton(&quot;Cancel&quot;, (dialog, id) -&gt; dialog.cancel());\n\n                    AlertDialog alertDialog = builder.create();\n                    alertDialog.show();\n\n                }else {\n\n                    numberText.setText(String.valueOf(update));\n                }\n\n                updateSharedPreferences();\n            }\n        }\n    }\n\n    /**\n     * updates the containers shared preferences\n     */\n    protected void updateSharedPreferences(){\n\n        String storedItem = &quot;Stored Item &quot;;\n        String storedItemNumber = &quot;Stored Item Number &quot;;\n\n        SharedPreferences.Editor editor =  containerNumberPreference.edit();\n        editor.clear();\n        editor.putString(&quot;container&quot;, containerNumberLabel.getText().toString());\n\n        for(int i = 0; i &lt; itemTable.getChildCount(); i++) {\n\n            TableRow itemRow = (TableRow) itemTable.getChildAt(i);\n            TextView itemTextView = (TextView) itemRow.getChildAt(0);\n            String item = itemTextView.getText().toString();\n\n            itemTextView = (TextView) itemRow.getChildAt(1);\n            String itemNumber = itemTextView.getText().toString();\n\n            editor.putString(storedItem + i, item);\n            editor.putString(storedItemNumber + i, itemNumber);\n            editor.apply();\n\n        }\n    }\n\n    /**\n     * gets formatted table row\n     */\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\n    protected TableRow setTableRow(TableRow row){\n\n        row.setLayoutParams(new TableLayout.LayoutParams(TableLayout.LayoutParams.MATCH_PARENT, TableLayout.LayoutParams.MATCH_PARENT));\n        row.setPadding(0,5,0,0);\n\n        row.setOnTouchListener(new View.OnTouchListener() {\n            private long start;\n            private long total;\n\n            //creates touch for item row\n            @Override\n            public boolean onTouch(View view, MotionEvent event) {\n\n                if(event.getAction() == MotionEvent.ACTION_DOWN) {\n\n                        start = event.getEventTime();\n                }\n\n                if(event.getAction() == MotionEvent.ACTION_UP) {\n\n                    long time = event.getEventTime();\n                    total = time - start;\n                    TextView getItem = (TextView) row.getChildAt(0);\n                    String item = getItem.getText().toString();\n\n                    if (total &gt; 500) {      //if touch held it removes 1 of item\n\n                     removeFromExistingItem(item);\n\n\n                    } else {                //else goes to camera to take photo of item\n\n                        itemName = item;   //name for saved image\n                        Intent takePhoto = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                        ImageCapture.launch(takePhoto);\n                    }\n                }\n                return true;\n            }\n        });\n\n        return row;\n    }\n\n    /**\n     * gets formatted item text view\n     */\n    protected TextView setItemTextView(TextView itemName, String item){\n\n        itemName.setTextSize(textSize);\n        itemName.setTextColor(Color.WHITE);\n        itemName.setGravity(Gravity.START);\n        itemName.setPadding(15,15,15,15);\n        itemName.setBackgroundColor(rgb(0,64,128));\n        itemName.setText(item);\n\n        return itemName;\n    }\n\n    /**\n     * get formatted new number textview\n     */\n    protected TextView setNumberTextView(TextView tv, String number){\n\n        tv.setTextSize(textSize);\n        tv.setTextColor(Color.WHITE);\n        tv.setGravity(Gravity.END);\n        tv.setPadding(15,15,15,15);\n        tv.setBackgroundColor(rgb(0,64,128));\n        tv.setText(number);\n\n        return tv;\n    }\n\n    /**\n     * sets button to view images\n     */\n    protected Button setImageButton(Button button){\n\n        button.setBackgroundColor(rgb(0,64,128));\n        button.setBackgroundResource(R.drawable.ic_baseline_image_search_24);\n        button.setOnClickListener(view -&gt; {\n\n            TableRow row = (TableRow) button.getParent();\n            TextView getTextView = (TextView) row.getChildAt(0);\n            String item = getTextView.getText().toString();\n\n            String root = Environment.getExternalStorageDirectory().toString();\n            File myDir = new File(root + &quot;/Pictures/&quot; + item);\n            File[] imageFile = myDir.listFiles();\n\n            ArrayList&lt;String&gt; images = new ArrayList&lt;&gt;();\n\n            if(imageFile != null) {\n                for (int i = 0; i &lt; imageFile.length; i++) {\n\n                    images.add(imageFile[i].getAbsolutePath());\n                    System.out.println(i);\n                }\n            }\n            Intent openImageViewer = new Intent(LoadContainer.this, ImageViewer.class);\n            openImageViewer.putStringArrayListExtra(&quot;ImageList&quot;, images);\n            startActivity(openImageViewer);\n\n        });\n\n        return button;\n    }\n\n    /**\n     * checks for storage permissions\n     * @param bitmap\n     */\n\n    public void saveTempBitmap(Bitmap bitmap) {\n        if (isExternalStorageWritable()) {\n            saveImage(bitmap);\n        }else{\n\n            Toast.makeText(getApplicationContext(), &quot;unable to save file&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    /**\n     * saves image to storage\n     * @param finalBitmap\n     */\n    private String saveImage(Bitmap finalBitmap) {\n\n        String root = Environment.getExternalStorageDirectory().toString();\n        File myDir = new File(root + &quot;/Pictures/&quot; + itemName);\n        myDir.mkdirs();\n\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        String fname = itemName + &quot;-&quot; + timeStamp +&quot;.jpg&quot;;\n\n        File file = new File(myDir, fname);\n\n        try(FileOutputStream out = new FileOutputStream(file)) {\n\n            finalBitmap.compress(Bitmap.CompressFormat.JPEG, 100, out);\n            out.flush();\n\n        } catch (Exception e) {\n\n            e.printStackTrace();\n        }\n\n        return myDir.toString();\n    }\n\n    /* Checks if external storage is available for read and write */\n    public boolean isExternalStorageWritable() {\n\n        String state = Environment.getExternalStorageState();\n\n        if (Environment.MEDIA_MOUNTED.equals(state)) {\n            return true;\n        }\n        return false;\n    }\n\n    private void saveContainer(){\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","opencv"],"answers":[{"tags":[],"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1678140209,"creation_date":1678140209,"answer_id":75656246,"question_id":75652836,"body_markdown":"The reason that the whole image is detected as one contour is that `findContours` finds white contours (not black contours), and the entire image after threshold is a large white contour.  \r\n\r\nUse `Imgproc.THRESH_BINARY_INV` for inverting black and white:  \r\n\r\n    Imgproc.threshold(grayImage, thresholdImage, 242, 255, Imgproc.THRESH_BINARY_INV);\r\n\r\n---\r\n\r\nOther issues:  \r\n\r\n - We may ignore small contours - considered to be noise:  \r\n\r\n        double contour_area = Imgproc.contourArea(contour);\r\n        if (contour_area &lt; min_contour_area) {\r\n            continue;\r\n        }\r\n        \r\n - Add white padding before `warpAffine` - required because `warpAffine` may add black margins (think of 45 degrees rotation for example):  \r\n\r\n        Mat rect = new Mat(image, boundingRect);\r\n        rect = rect.clone(); //Create a clone of the cropped rectangle (required because copyMakeBorder refers to the large image).\r\n        Mat rectWithBorder = new Mat();\r\n        Core.copyMakeBorder(rect, rectWithBorder, emptySpace*2, emptySpace*2, emptySpace*2, emptySpace*2, Core.BORDER_CONSTANT, new Scalar(255, 255, 255));\r\n\r\n - Rotate around the center of the cropped rectangle (not around `rotatedRect.center`):  \r\n\r\n        Point rect_center = new Point((rectWithBorder.cols()-1.0)/2, (rectWithBorder.rows()-1.0)/2);\r\n        Mat rotationMatrix = Imgproc.getRotationMatrix2D(rect_center, angle, 1.0);  \r\n        Mat rotatedRectMat = new Mat();\r\n        Imgproc.warpAffine(rectWithBorder, rotatedRectMat, rotationMatrix, rectWithBorder.size());\r\n\r\n - Remove the extra margins after `warpAffine`:  \r\n\r\n        Rect boundingRect2 = new Rect(emptySpace, emptySpace, rotatedRectMat.cols()-emptySpace*2, rotatedRectMat.rows()-emptySpace*2);\r\n        Mat rectWithBorder2 = new Mat(rotatedRectMat, boundingRect2);\r\n\r\n---\r\n\r\nCode sample:  \r\n\r\n    package myproject;\r\n    \r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.Scalar;\r\n    import org.opencv.core.Rect;\r\n    import org.opencv.core.Point;\r\n    import org.opencv.core.MatOfPoint;\r\n    import org.opencv.core.MatOfPoint2f;\r\n    import org.opencv.core.RotatedRect;\r\n    import org.opencv.imgproc.Imgproc;\r\n    import org.opencv.imgcodecs.Imgcodecs;\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    \r\n    class Sample {\r\n        \r\n    \r\n    static { System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\r\n    \r\n    \r\n      \r\n    public static void main(String[] args) {\r\n        // Load the image file\r\n        // temp\r\n        //File file = ResourceUtils.getFile(&quot;classpath:input_image.png&quot;);\r\n        final String image_file_name = &quot;input_image.png&quot;;\r\n        \r\n        // temp change to inputstream\r\n        Mat image = Imgcodecs.imread(image_file_name);\r\n    \r\n        // Convert the image to grayscale\r\n        Mat grayImage = new Mat();\r\n        Imgproc.cvtColor(image, grayImage, Imgproc.COLOR_BGR2GRAY);\r\n    \r\n        // Apply a threshold to convert the image to black and white\r\n        Mat thresholdImage = new Mat();\r\n        //Imgproc.threshold(grayImage, thresholdImage, 242, 255, Imgproc.THRESH_BINARY);\r\n        Imgproc.threshold(grayImage, thresholdImage, 242, 255, Imgproc.THRESH_BINARY_INV);\r\n        Imgcodecs.imwrite(&quot;thresh.png&quot;, thresholdImage);\r\n    \r\n        // Find contours in the thresholded image\r\n        List&lt;MatOfPoint&gt; contours = new ArrayList&lt;&gt;();\r\n        Mat hierarchy = new Mat();\r\n        Imgproc.findContours(thresholdImage, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\r\n    \r\n        // Set the amount of empty space to add around the cropped image\r\n        int emptySpace = 20;\r\n        \r\n        double min_contour_area = 10000.0;  //Area threshold - ignore small contours with area less than 10000 (assume noise)\r\n    \r\n        // Loop over the contours\r\n        for (int i = 0; i &lt; contours.size(); i++) {\r\n            MatOfPoint contour = contours.get(i);\r\n            \r\n            double contour_area = Imgproc.contourArea(contour);\r\n            \r\n            if (contour_area &lt; min_contour_area) {\r\n                continue;   //Ignore small contours with area less than min_contour_area (assume noise)\r\n            }\r\n    \r\n            // Find the bounding box of the contour\r\n            Rect boundingRect = Imgproc.boundingRect(contour);\r\n    \r\n            // Crop the rectangle from the original image using the bounding box coordinates\r\n            Mat rect = new Mat(image, boundingRect);\r\n            rect = rect.clone(); //Create a clone of the cropped rectangle (required because copyMakeBorder refers to the large image). \r\n            \r\n            //Imgcodecs.imwrite(&quot;rect.png&quot;, rect); //Save rect for testing\r\n    \r\n            // Straighten the rectangle\r\n            RotatedRect rotatedRect = Imgproc.minAreaRect(new MatOfPoint2f(contour.toArray()));\r\n            double angle = rotatedRect.angle;\r\n            if (rotatedRect.size.width &gt; rotatedRect.size.height) {\r\n                angle += 90;\r\n            }\r\n                   \r\n            // Add empty space around the rect - add larger padding before rotation because warpAffine may add black margins\r\n            Mat rectWithBorder = new Mat();\r\n            Core.copyMakeBorder(rect, rectWithBorder, emptySpace*2, emptySpace*2, emptySpace*2, emptySpace*2, Core.BORDER_CONSTANT, new Scalar(255, 255, 255));\r\n            \r\n            //Imgcodecs.imwrite(&quot;rectWithBorder.png&quot;, rectWithBorder); //Save rectWithBorder for testing\r\n            \r\n            //Mat rotationMatrix = Imgproc.getRotationMatrix2D(rotatedRect.center, angle, 1.0);  \r\n            Point rect_center = new Point((rectWithBorder.cols()-1.0)/2, (rectWithBorder.rows()-1.0)/2);\r\n            Mat rotationMatrix = Imgproc.getRotationMatrix2D(rect_center, angle, 1.0);  //Rotate around the center of rect.\r\n            Mat rotatedRectMat = new Mat();\r\n            Imgproc.warpAffine(rectWithBorder, rotatedRectMat, rotationMatrix, rectWithBorder.size());\r\n            \r\n            //Imgcodecs.imwrite(&quot;rotatedRectMat.png&quot;, rotatedRectMat); //Save rotatedRectMat for testing\r\n            \r\n            //Crop the center of rotatedRectMat (remove the extra emptySpace padding from each side).\r\n            Rect boundingRect2 = new Rect(emptySpace, emptySpace, rotatedRectMat.cols()-emptySpace*2, rotatedRectMat.rows()-emptySpace*2);\r\n            Mat rectWithBorder2 = new Mat(rotatedRectMat, boundingRect2);\r\n    \r\n    \r\n            // Save the rectangle with border as a separate image file\r\n            Imgcodecs.imwrite(String.format(&quot;output_image_%d.png&quot;, i), rectWithBorder2);\r\n        }\r\n    }\r\n    \r\n    }\r\n\r\n---\r\n\r\nResult:  \r\n[![enter image description here][1]][1]  [![enter image description here][2]][2]  [![enter image description here][3]][3]  \r\n\r\n[![enter image description here][4]][4]  [![enter image description here][5]][5]  [![enter image description here][6]][6]  \r\n\r\n[![enter image description here][7]][7]  [![enter image description here][8]][8]  [![enter image description here][9]][9]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PYKul.png\r\n  [2]: https://i.stack.imgur.com/ha8AQ.png\r\n  [3]: https://i.stack.imgur.com/zrxFh.png\r\n  [4]: https://i.stack.imgur.com/metmS.png\r\n  [5]: https://i.stack.imgur.com/rpb4u.png\r\n  [6]: https://i.stack.imgur.com/db4Ug.png\r\n  [7]: https://i.stack.imgur.com/xDKhJ.png\r\n  [8]: https://i.stack.imgur.com/LmC4x.png\r\n  [9]: https://i.stack.imgur.com/boXzQ.png","title":"Java OpenCV Not Detecting Contours Properly","body":"<p>The reason that the whole image is detected as one contour is that <code>findContours</code> finds white contours (not black contours), and the entire image after threshold is a large white contour.</p>\n<p>Use <code>Imgproc.THRESH_BINARY_INV</code> for inverting black and white:</p>\n<pre><code>Imgproc.threshold(grayImage, thresholdImage, 242, 255, Imgproc.THRESH_BINARY_INV);\n</code></pre>\n<hr />\n<p>Other issues:</p>\n<ul>\n<li><p>We may ignore small contours - considered to be noise:</p>\n<pre><code> double contour_area = Imgproc.contourArea(contour);\n if (contour_area &lt; min_contour_area) {\n     continue;\n }\n</code></pre>\n</li>\n<li><p>Add white padding before <code>warpAffine</code> - required because <code>warpAffine</code> may add black margins (think of 45 degrees rotation for example):</p>\n<pre><code> Mat rect = new Mat(image, boundingRect);\n rect = rect.clone(); //Create a clone of the cropped rectangle (required because copyMakeBorder refers to the large image).\n Mat rectWithBorder = new Mat();\n Core.copyMakeBorder(rect, rectWithBorder, emptySpace*2, emptySpace*2, emptySpace*2, emptySpace*2, Core.BORDER_CONSTANT, new Scalar(255, 255, 255));\n</code></pre>\n</li>\n<li><p>Rotate around the center of the cropped rectangle (not around <code>rotatedRect.center</code>):</p>\n<pre><code> Point rect_center = new Point((rectWithBorder.cols()-1.0)/2, (rectWithBorder.rows()-1.0)/2);\n Mat rotationMatrix = Imgproc.getRotationMatrix2D(rect_center, angle, 1.0);  \n Mat rotatedRectMat = new Mat();\n Imgproc.warpAffine(rectWithBorder, rotatedRectMat, rotationMatrix, rectWithBorder.size());\n</code></pre>\n</li>\n<li><p>Remove the extra margins after <code>warpAffine</code>:</p>\n<pre><code> Rect boundingRect2 = new Rect(emptySpace, emptySpace, rotatedRectMat.cols()-emptySpace*2, rotatedRectMat.rows()-emptySpace*2);\n Mat rectWithBorder2 = new Mat(rotatedRectMat, boundingRect2);\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>Code sample:</p>\n<pre><code>package myproject;\n\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.Scalar;\nimport org.opencv.core.Rect;\nimport org.opencv.core.Point;\nimport org.opencv.core.MatOfPoint;\nimport org.opencv.core.MatOfPoint2f;\nimport org.opencv.core.RotatedRect;\nimport org.opencv.imgproc.Imgproc;\nimport org.opencv.imgcodecs.Imgcodecs;\nimport java.util.List;\nimport java.util.ArrayList;\n\nclass Sample {\n    \n\nstatic { System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\n\n\n  \npublic static void main(String[] args) {\n    // Load the image file\n    // temp\n    //File file = ResourceUtils.getFile(&quot;classpath:input_image.png&quot;);\n    final String image_file_name = &quot;input_image.png&quot;;\n    \n    // temp change to inputstream\n    Mat image = Imgcodecs.imread(image_file_name);\n\n    // Convert the image to grayscale\n    Mat grayImage = new Mat();\n    Imgproc.cvtColor(image, grayImage, Imgproc.COLOR_BGR2GRAY);\n\n    // Apply a threshold to convert the image to black and white\n    Mat thresholdImage = new Mat();\n    //Imgproc.threshold(grayImage, thresholdImage, 242, 255, Imgproc.THRESH_BINARY);\n    Imgproc.threshold(grayImage, thresholdImage, 242, 255, Imgproc.THRESH_BINARY_INV);\n    Imgcodecs.imwrite(&quot;thresh.png&quot;, thresholdImage);\n\n    // Find contours in the thresholded image\n    List&lt;MatOfPoint&gt; contours = new ArrayList&lt;&gt;();\n    Mat hierarchy = new Mat();\n    Imgproc.findContours(thresholdImage, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\n\n    // Set the amount of empty space to add around the cropped image\n    int emptySpace = 20;\n    \n    double min_contour_area = 10000.0;  //Area threshold - ignore small contours with area less than 10000 (assume noise)\n\n    // Loop over the contours\n    for (int i = 0; i &lt; contours.size(); i++) {\n        MatOfPoint contour = contours.get(i);\n        \n        double contour_area = Imgproc.contourArea(contour);\n        \n        if (contour_area &lt; min_contour_area) {\n            continue;   //Ignore small contours with area less than min_contour_area (assume noise)\n        }\n\n        // Find the bounding box of the contour\n        Rect boundingRect = Imgproc.boundingRect(contour);\n\n        // Crop the rectangle from the original image using the bounding box coordinates\n        Mat rect = new Mat(image, boundingRect);\n        rect = rect.clone(); //Create a clone of the cropped rectangle (required because copyMakeBorder refers to the large image). \n        \n        //Imgcodecs.imwrite(&quot;rect.png&quot;, rect); //Save rect for testing\n\n        // Straighten the rectangle\n        RotatedRect rotatedRect = Imgproc.minAreaRect(new MatOfPoint2f(contour.toArray()));\n        double angle = rotatedRect.angle;\n        if (rotatedRect.size.width &gt; rotatedRect.size.height) {\n            angle += 90;\n        }\n               \n        // Add empty space around the rect - add larger padding before rotation because warpAffine may add black margins\n        Mat rectWithBorder = new Mat();\n        Core.copyMakeBorder(rect, rectWithBorder, emptySpace*2, emptySpace*2, emptySpace*2, emptySpace*2, Core.BORDER_CONSTANT, new Scalar(255, 255, 255));\n        \n        //Imgcodecs.imwrite(&quot;rectWithBorder.png&quot;, rectWithBorder); //Save rectWithBorder for testing\n        \n        //Mat rotationMatrix = Imgproc.getRotationMatrix2D(rotatedRect.center, angle, 1.0);  \n        Point rect_center = new Point((rectWithBorder.cols()-1.0)/2, (rectWithBorder.rows()-1.0)/2);\n        Mat rotationMatrix = Imgproc.getRotationMatrix2D(rect_center, angle, 1.0);  //Rotate around the center of rect.\n        Mat rotatedRectMat = new Mat();\n        Imgproc.warpAffine(rectWithBorder, rotatedRectMat, rotationMatrix, rectWithBorder.size());\n        \n        //Imgcodecs.imwrite(&quot;rotatedRectMat.png&quot;, rotatedRectMat); //Save rotatedRectMat for testing\n        \n        //Crop the center of rotatedRectMat (remove the extra emptySpace padding from each side).\n        Rect boundingRect2 = new Rect(emptySpace, emptySpace, rotatedRectMat.cols()-emptySpace*2, rotatedRectMat.rows()-emptySpace*2);\n        Mat rectWithBorder2 = new Mat(rotatedRectMat, boundingRect2);\n\n\n        // Save the rectangle with border as a separate image file\n        Imgcodecs.imwrite(String.format(&quot;output_image_%d.png&quot;, i), rectWithBorder2);\n    }\n}\n\n}\n</code></pre>\n<hr />\n<p>Result:<br />\n<a href=\"https://i.stack.imgur.com/PYKul.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PYKul.png\" alt=\"enter image description here\" /></a>  <a href=\"https://i.stack.imgur.com/ha8AQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ha8AQ.png\" alt=\"enter image description here\" /></a>  <a href=\"https://i.stack.imgur.com/zrxFh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zrxFh.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/metmS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/metmS.png\" alt=\"enter image description here\" /></a>  <a href=\"https://i.stack.imgur.com/rpb4u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rpb4u.png\" alt=\"enter image description here\" /></a>  <a href=\"https://i.stack.imgur.com/db4Ug.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/db4Ug.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/xDKhJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xDKhJ.png\" alt=\"enter image description here\" /></a>  <a href=\"https://i.stack.imgur.com/LmC4x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LmC4x.png\" alt=\"enter image description here\" /></a>  <a href=\"https://i.stack.imgur.com/boXzQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/boXzQ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14964196,"reputation":398,"user_id":10803013,"display_name":"andresmonc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75656246,"answer_count":1,"score":2,"last_activity_date":1678140209,"creation_date":1678117100,"question_id":75652836,"body_markdown":"I&#39;m trying to use opencv to detect contours of cards scanned against a white background. However, I&#39;m running into an issue where it seems to just be detecting the whole image as 1 contour. I&#39;m completely stumped on what I can tweak at this point. I&#39;ve tried ImgProc.RETR_LIST but that returns 42k contours. \r\n\r\n**Code:** \r\n```\r\n    public void convert() throws FileNotFoundException {\r\n        // Load the image file\r\n        // temp\r\n        File file = ResourceUtils.getFile(&quot;classpath:input_image.png&quot;);\r\n        // temp change to inputstream\r\n        Mat image = Imgcodecs.imread(file.getAbsolutePath());\r\n\r\n        // Convert the image to grayscale\r\n        Mat grayImage = new Mat();\r\n        Imgproc.cvtColor(image, grayImage, Imgproc.COLOR_BGR2GRAY);\r\n\r\n        // Apply a threshold to convert the image to black and white\r\n        Mat thresholdImage = new Mat();\r\n        Imgproc.threshold(grayImage, thresholdImage, 242, 255, Imgproc.THRESH_BINARY);\r\n        Imgcodecs.imwrite(&quot;thresh.png&quot;, thresholdImage);\r\n\r\n        // Find contours in the thresholded image\r\n        List&lt;MatOfPoint&gt; contours = new ArrayList&lt;&gt;();\r\n        Mat hierarchy = new Mat();\r\n        Imgproc.findContours(thresholdImage, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\r\n\r\n        // Set the amount of empty space to add around the cropped image\r\n        int emptySpace = 20;\r\n\r\n        // Loop over the contours\r\n        for (int i = 0; i &lt; contours.size(); i++) {\r\n            MatOfPoint contour = contours.get(i);\r\n\r\n            // Find the bounding box of the contour\r\n            Rect boundingRect = Imgproc.boundingRect(contour);\r\n\r\n            // Crop the rectangle from the original image using the bounding box coordinates\r\n            Mat rect = new Mat(image, boundingRect);\r\n\r\n            // Straighten the rectangle\r\n            RotatedRect rotatedRect = Imgproc.minAreaRect(new MatOfPoint2f(contour.toArray()));\r\n            double angle = rotatedRect.angle;\r\n            if (rotatedRect.size.width &gt; rotatedRect.size.height) {\r\n                angle += 90;\r\n            }\r\n            Mat rotationMatrix = Imgproc.getRotationMatrix2D(rotatedRect.center, angle, 1.0);\r\n            Mat rotatedRectMat = new Mat();\r\n            Imgproc.warpAffine(rect, rotatedRectMat, rotationMatrix, rect.size());\r\n\r\n            // Add empty space around the cropped image\r\n            Mat rectWithBorder = new Mat();\r\n            Core.copyMakeBorder(rotatedRectMat, rectWithBorder, emptySpace, emptySpace, emptySpace, emptySpace, Core.BORDER_CONSTANT, new Scalar(255, 255, 255));\r\n\r\n            // Save the rectangle with border as a separate image file\r\n            Imgcodecs.imwrite(String.format(&quot;output_image_%d.png&quot;, i), rectWithBorder);\r\n\r\n        }\r\n    }\r\n```\r\n**Input Image**:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Generated Threshold:**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Output Image:**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ysWlH.png\r\n  [2]: https://i.stack.imgur.com/JNciq.png\r\n  [3]: https://i.stack.imgur.com/FQZXN.png","title":"Java OpenCV Not Detecting Contours Properly","body":"<p>I'm trying to use opencv to detect contours of cards scanned against a white background. However, I'm running into an issue where it seems to just be detecting the whole image as 1 contour. I'm completely stumped on what I can tweak at this point. I've tried ImgProc.RETR_LIST but that returns 42k contours.</p>\n<p><strong>Code:</strong></p>\n<pre><code>    public void convert() throws FileNotFoundException {\n        // Load the image file\n        // temp\n        File file = ResourceUtils.getFile(&quot;classpath:input_image.png&quot;);\n        // temp change to inputstream\n        Mat image = Imgcodecs.imread(file.getAbsolutePath());\n\n        // Convert the image to grayscale\n        Mat grayImage = new Mat();\n        Imgproc.cvtColor(image, grayImage, Imgproc.COLOR_BGR2GRAY);\n\n        // Apply a threshold to convert the image to black and white\n        Mat thresholdImage = new Mat();\n        Imgproc.threshold(grayImage, thresholdImage, 242, 255, Imgproc.THRESH_BINARY);\n        Imgcodecs.imwrite(&quot;thresh.png&quot;, thresholdImage);\n\n        // Find contours in the thresholded image\n        List&lt;MatOfPoint&gt; contours = new ArrayList&lt;&gt;();\n        Mat hierarchy = new Mat();\n        Imgproc.findContours(thresholdImage, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\n\n        // Set the amount of empty space to add around the cropped image\n        int emptySpace = 20;\n\n        // Loop over the contours\n        for (int i = 0; i &lt; contours.size(); i++) {\n            MatOfPoint contour = contours.get(i);\n\n            // Find the bounding box of the contour\n            Rect boundingRect = Imgproc.boundingRect(contour);\n\n            // Crop the rectangle from the original image using the bounding box coordinates\n            Mat rect = new Mat(image, boundingRect);\n\n            // Straighten the rectangle\n            RotatedRect rotatedRect = Imgproc.minAreaRect(new MatOfPoint2f(contour.toArray()));\n            double angle = rotatedRect.angle;\n            if (rotatedRect.size.width &gt; rotatedRect.size.height) {\n                angle += 90;\n            }\n            Mat rotationMatrix = Imgproc.getRotationMatrix2D(rotatedRect.center, angle, 1.0);\n            Mat rotatedRectMat = new Mat();\n            Imgproc.warpAffine(rect, rotatedRectMat, rotationMatrix, rect.size());\n\n            // Add empty space around the cropped image\n            Mat rectWithBorder = new Mat();\n            Core.copyMakeBorder(rotatedRectMat, rectWithBorder, emptySpace, emptySpace, emptySpace, emptySpace, Core.BORDER_CONSTANT, new Scalar(255, 255, 255));\n\n            // Save the rectangle with border as a separate image file\n            Imgcodecs.imwrite(String.format(&quot;output_image_%d.png&quot;, i), rectWithBorder);\n\n        }\n    }\n</code></pre>\n<p><strong>Input Image</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/ysWlH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ysWlH.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Generated Threshold:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/JNciq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JNciq.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Output Image:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/FQZXN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FQZXN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","jboss","datasource","jndi"],"answers":[{"tags":[],"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677820830,"creation_date":1677820830,"answer_id":75623421,"question_id":75623055,"body_markdown":"Try below configuration for jndi lookup and binding\r\n\r\n    spring.datasource.jndi-name=java:jboss/datasources/YourDataSourceName","title":"Spring Boot application use JNDI datasource from JBoss Standalone.xml","body":"<p>Try below configuration for jndi lookup and binding</p>\n<pre><code>spring.datasource.jndi-name=java:jboss/datasources/YourDataSourceName\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1386148,"reputation":1691,"user_id":1318162,"accept_rate":64,"display_name":"rphello101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678140208,"creation_date":1677966250,"answer_id":75638856,"question_id":75623055,"body_markdown":"Finally figured this out. When deploying a WAR file to a JBoss server, you need to do the following: \r\n\r\n1. Change your [filename].war to [filename].zip and extract the contents \r\n2. Change the newly extracted folder name to [filename].war\r\n3. Move your main &quot;com&quot; and related folders (with all your classes, templates, etc.) to WEB-INF/classes (you may need to create the classes folder) \r\n4. Move the application.properties file to WEB-INF/classes\r\n\r\nI was missing Step 4. I moved application.properties to WEB-INF but not to WEB-INF/classes. The server couldn&#39;t find the application.properties file, but rather than saying so, it through the error noted in the question above. \r\n\r\nWEB-INF/classes will be your root directory","title":"Spring Boot application use JNDI datasource from JBoss Standalone.xml","body":"<p>Finally figured this out. When deploying a WAR file to a JBoss server, you need to do the following:</p>\n<ol>\n<li>Change your [filename].war to [filename].zip and extract the contents</li>\n<li>Change the newly extracted folder name to [filename].war</li>\n<li>Move your main &quot;com&quot; and related folders (with all your classes, templates, etc.) to WEB-INF/classes (you may need to create the classes folder)</li>\n<li>Move the application.properties file to WEB-INF/classes</li>\n</ol>\n<p>I was missing Step 4. I moved application.properties to WEB-INF but not to WEB-INF/classes. The server couldn't find the application.properties file, but rather than saying so, it through the error noted in the question above.</p>\n<p>WEB-INF/classes will be your root directory</p>\n"}],"owner":{"account_id":1386148,"reputation":1691,"user_id":1318162,"accept_rate":64,"display_name":"rphello101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":816,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75638856,"answer_count":2,"score":0,"last_activity_date":1678140208,"creation_date":1677816102,"question_id":75623055,"body_markdown":"I am trying to get my Spring Boot application to work on our JBoss 7.4 server. One of our requirements is to keep the datasource information defined in the JBoss standalone.xml file\r\n\r\nIn standalone.xml, I have: \r\n\r\n    &lt;datasources&gt;\r\n    \t&lt;datasource jndi-name=&quot;java:jboss/datasources/BugsquisherDS&quot; pool-name=&quot;BugsquisherDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&gt;\r\n    \t&lt;connection-url&gt;jdbc:sqlserver://[redacted]&lt;/connection-url&gt;\r\n    \t&lt;driver&gt;sqlserver2008&lt;/driver&gt;\r\n    \t...\r\n    \t&lt;/datasource&gt;\r\n    \t&lt;drivers&gt;\r\n    \t\t&lt;driver name=&quot;h2&quot; module=&quot;com.h2database.h2&quot;&gt;\r\n    \t\t\t&lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;\r\n    \t\t&lt;/driver&gt;\r\n    \t\t&lt;driver name=&quot;sqlserver2008&quot; module=&quot;com.microsoft.sqlserver&quot;&gt;\r\n    \t\t\t&lt;driver-class&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/driver-class&gt;\r\n    \t\t&lt;/driver&gt;\r\n    \t&lt;/drivers&gt;\r\n    &lt;/datasource&gt;\r\n\r\nAnd I believe the only thing I needed to get this to work was adding the JNDI-name to my application.properties:\r\n\r\n    spring.datasource.jndi-name=java:jboss/datasources/BugsquisherDS\r\n\r\nWhen I deploy, I fail with the following error: \r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n    \r\n    Reason: Failed to determine a suitable driver class\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider the following:\r\n    \tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n    \tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n    \r\n    20:51:39,370 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 81) MSC000001: Failed to start service jboss.deployment.unit.&quot;SupportCenter.war&quot;.undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;SupportCenter.war&quot;.undertow-deployment: java.lang.RuntimeException: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    \tat org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    \tat org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n    \tat org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n    \tat org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n    \tat org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\n    Caused by: java.lang.RuntimeException: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    \tat io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:257)\r\n    \tat org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:96)\r\n    \tat org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\r\n    \t... 8 more\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat deployment.SupportCenter.war//org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\r\n    \tat deployment.SupportCenter.war//org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\r\n    \tat deployment.SupportCenter.war//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \tat deployment.SupportCenter.war//org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n    \tat deployment.SupportCenter.war//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n    \tat deployment.SupportCenter.war//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n    \tat deployment.SupportCenter.war//org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat deployment.SupportCenter.war//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\r\n    \tat deployment.SupportCenter.war//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\r\n    \tat deployment.SupportCenter.war//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\r\n    \tat deployment.SupportCenter.war//com.onlinesol.supportcenterv2.SupportCenterV2Application.onStartup(SupportCenterV2Application.java:34)\r\n    \tat deployment.SupportCenter.war//org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\r\n    \tat io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:204)\r\n    \tat io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\r\n    \tat io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n    \tat io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    \tat org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n    \tat org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n    \tat org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n    \tat org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n    \tat org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n    \tat org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n    \tat io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\r\n    \t... 10 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n    \t... 44 more\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n    \t... 58 more\r\n    Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    \tat deployment.SupportCenter.war//org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:252)\r\n    \tat deployment.SupportCenter.war//org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:193)\r\n    \tat deployment.SupportCenter.war//org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48)\r\n    \tat deployment.SupportCenter.war//org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat deployment.SupportCenter.war//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \t... 59 more\r\n\r\nWhat did I miss?","title":"Spring Boot application use JNDI datasource from JBoss Standalone.xml","body":"<p>I am trying to get my Spring Boot application to work on our JBoss 7.4 server. One of our requirements is to keep the datasource information defined in the JBoss standalone.xml file</p>\n<p>In standalone.xml, I have:</p>\n<pre><code>&lt;datasources&gt;\n    &lt;datasource jndi-name=&quot;java:jboss/datasources/BugsquisherDS&quot; pool-name=&quot;BugsquisherDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&gt;\n    &lt;connection-url&gt;jdbc:sqlserver://[redacted]&lt;/connection-url&gt;\n    &lt;driver&gt;sqlserver2008&lt;/driver&gt;\n    ...\n    &lt;/datasource&gt;\n    &lt;drivers&gt;\n        &lt;driver name=&quot;h2&quot; module=&quot;com.h2database.h2&quot;&gt;\n            &lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;\n        &lt;/driver&gt;\n        &lt;driver name=&quot;sqlserver2008&quot; module=&quot;com.microsoft.sqlserver&quot;&gt;\n            &lt;driver-class&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/driver-class&gt;\n        &lt;/driver&gt;\n    &lt;/drivers&gt;\n&lt;/datasource&gt;\n</code></pre>\n<p>And I believe the only thing I needed to get this to work was adding the JNDI-name to my application.properties:</p>\n<pre><code>spring.datasource.jndi-name=java:jboss/datasources/BugsquisherDS\n</code></pre>\n<p>When I deploy, I fail with the following error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n\n20:51:39,370 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 81) MSC000001: Failed to start service jboss.deployment.unit.&quot;SupportCenter.war&quot;.undertow-deployment: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;SupportCenter.war&quot;.undertow-deployment: java.lang.RuntimeException: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    at org.jboss.threads@2.4.0.Final-redhat-00001//org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: java.lang.RuntimeException: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:257)\n    at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:96)\n    at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\n    ... 8 more\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at deployment.SupportCenter.war//org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\n    at deployment.SupportCenter.war//org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\n    at deployment.SupportCenter.war//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at deployment.SupportCenter.war//org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n    at deployment.SupportCenter.war//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n    at deployment.SupportCenter.war//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n    at deployment.SupportCenter.war//org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at deployment.SupportCenter.war//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\n    at deployment.SupportCenter.war//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\n    at deployment.SupportCenter.war//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\n    at deployment.SupportCenter.war//com.onlinesol.supportcenterv2.SupportCenterV2Application.onStartup(SupportCenterV2Application.java:34)\n    at deployment.SupportCenter.war//org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\n    at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:204)\n    at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\n    at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n    at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n    at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at org.wildfly.extension.undertow@7.4.0.GA-redhat-00005//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n    at io.undertow.servlet@2.2.5.Final-redhat-00001//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\n    ... 10 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n    ... 44 more\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 58 more\nCaused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at deployment.SupportCenter.war//org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:252)\n    at deployment.SupportCenter.war//org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.initializeDataSourceBuilder(DataSourceProperties.java:193)\n    at deployment.SupportCenter.war//org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:48)\n    at deployment.SupportCenter.war//org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:90)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at deployment.SupportCenter.war//org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 59 more\n</code></pre>\n<p>What did I miss?</p>\n"},{"tags":["java","gradle","testng"],"owner":{"account_id":6660558,"reputation":11,"user_id":5139874,"display_name":"Sam in MA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678139851,"creation_date":1678139851,"question_id":75656200,"body_markdown":"I&#39;m executing `gradle clean build test` in my Java 11 project. The build is &quot;succeeding&quot;, but no tests are ever being executed.  This was working just fine with Java 8, but due to updates to our Jenkins build server, I&#39;m required to upgrade this project to use Java 11.  At the same time, I upgraded from gradle 4.10 to 5.6.\r\n\r\n\r\n```\r\n./gradlew --no-daemon clean build test\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.codehaus.groovy.vmplugin.v7.Java7$1 (file:/Users/Sam/.gradle/wrapper/dists/gradle-5.6.4-all/ankdp27end7byghfw1q2sw75f/gradle-5.6.4/lib/groovy-all-1.3-2.5.4.jar) to constructor java.lang.invoke.MethodHandles$Lookup(java.lang.Class,int)\r\nWARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.vmplugin.v7.Java7$1\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n&gt; Task :clean\r\n&gt; Task :compileJava\r\n&gt; Task :processResources\r\n&gt; Task :classes\r\n&gt; Task :jar\r\n&gt; Task :assemble\r\n&gt; Task :checkstyleMain\r\n\r\n&gt; Task :compileTestJava\r\nNote: Some input files use unchecked or unsafe operations.\r\nNote: Recompile with -Xlint:unchecked for details.\r\n\r\n&gt; Task :processTestResources\r\n&gt; Task :testClasses\r\n&gt; Task :checkstyleTest\r\n\r\n&gt; Task :test\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.apache.logging.log4j.core.util.ReflectionUtil (file:/Users/Sam/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-core/2.16.0/ca12fb3902ecfcba1e1357ebfc55407acec30ede/log4j-core-2.16.0.jar) to field java.util.Collections$UnmodifiableMap.m\r\nWARNING: Please consider reporting this to the maintainers of org.apache.logging.log4j.core.util.ReflectionUtil\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n\r\n&gt; Task :check\r\n&gt; Task :build\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\r\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/5.6.4/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD SUCCESSFUL in 17s\r\n9 actionable tasks: 9 executed\r\n```\r\n\r\nI have the following block in build.gradle:\r\n\r\n```groovy\r\ntest {\r\n    group &quot;tests&quot;\r\n    description &quot;Run unit tests&quot;\r\n    dependsOn assemble\r\n    scanForTestClasses true\r\n    useTestNG {\r\n        systemProperties defaultProperties &lt;&lt; System.properties\r\n    }\r\n    testClassesDirs = sourceSets.test.output.classesDirs\r\n    classpath = sourceSets.test.runtimeClasspath\r\n    outputs.upToDateWhen { false }\r\n}\r\n```\r\n\r\nand the following source sets:\r\n\r\n```groovy\r\nsourceSets {\r\n    main {\r\n        java {\r\n            srcDir &#39;src/main/java&#39;\r\n        }\r\n        resources {\r\n            srcDir &#39;src/main/resources&#39;\r\n        }\r\n    }\r\n\r\n    test {\r\n        java {\r\n            compileClasspath += main.output\r\n            runtimeClasspath += main.output\r\n            srcDir &#39;src/test/unit&#39;\r\n        }\r\n        resources {\r\n            srcDirs = [&#39;src/test/resources&#39;]\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m stumped why the tests don&#39;t run from the command line (nor if I try to execute them from IntelliJ IDEA using gradle, of course), yet they executed fine with Java 8 / Gradle 4, and they also execute fine from IDEA when I execute them using a TestNG run configuration.","title":"Gradle 5.6 with Java 11 and TestNG 7.4.0 - tests are not being executed","body":"<p>I'm executing <code>gradle clean build test</code> in my Java 11 project. The build is &quot;succeeding&quot;, but no tests are ever being executed.  This was working just fine with Java 8, but due to updates to our Jenkins build server, I'm required to upgrade this project to use Java 11.  At the same time, I upgraded from gradle 4.10 to 5.6.</p>\n<pre><code>./gradlew --no-daemon clean build test\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.codehaus.groovy.vmplugin.v7.Java7$1 (file:/Users/Sam/.gradle/wrapper/dists/gradle-5.6.4-all/ankdp27end7byghfw1q2sw75f/gradle-5.6.4/lib/groovy-all-1.3-2.5.4.jar) to constructor java.lang.invoke.MethodHandles$Lookup(java.lang.Class,int)\nWARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.vmplugin.v7.Java7$1\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n&gt; Task :clean\n&gt; Task :compileJava\n&gt; Task :processResources\n&gt; Task :classes\n&gt; Task :jar\n&gt; Task :assemble\n&gt; Task :checkstyleMain\n\n&gt; Task :compileTestJava\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\n&gt; Task :processTestResources\n&gt; Task :testClasses\n&gt; Task :checkstyleTest\n\n&gt; Task :test\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.apache.logging.log4j.core.util.ReflectionUtil (file:/Users/Sam/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-core/2.16.0/ca12fb3902ecfcba1e1357ebfc55407acec30ede/log4j-core-2.16.0.jar) to field java.util.Collections$UnmodifiableMap.m\nWARNING: Please consider reporting this to the maintainers of org.apache.logging.log4j.core.util.ReflectionUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n\n&gt; Task :check\n&gt; Task :build\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/5.6.4/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD SUCCESSFUL in 17s\n9 actionable tasks: 9 executed\n</code></pre>\n<p>I have the following block in build.gradle:</p>\n<pre><code>test {\n    group &quot;tests&quot;\n    description &quot;Run unit tests&quot;\n    dependsOn assemble\n    scanForTestClasses true\n    useTestNG {\n        systemProperties defaultProperties &lt;&lt; System.properties\n    }\n    testClassesDirs = sourceSets.test.output.classesDirs\n    classpath = sourceSets.test.runtimeClasspath\n    outputs.upToDateWhen { false }\n}\n</code></pre>\n<p>and the following source sets:</p>\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDir 'src/main/java'\n        }\n        resources {\n            srcDir 'src/main/resources'\n        }\n    }\n\n    test {\n        java {\n            compileClasspath += main.output\n            runtimeClasspath += main.output\n            srcDir 'src/test/unit'\n        }\n        resources {\n            srcDirs = ['src/test/resources']\n        }\n    }\n}\n</code></pre>\n<p>I'm stumped why the tests don't run from the command line (nor if I try to execute them from IntelliJ IDEA using gradle, of course), yet they executed fine with Java 8 / Gradle 4, and they also execute fine from IDEA when I execute them using a TestNG run configuration.</p>\n"},{"tags":["java","spring","spring-boot","heroku","deployment"],"comments":[{"owner":{"account_id":15398978,"reputation":316,"user_id":11109119,"display_name":"Guy_g23"},"score":0,"creation_date":1681382450,"post_id":75655494,"comment_id":134048790,"body_markdown":"Show your pom.xml content so users can share feedbacks","body":"Show your pom.xml content so users can share feedbacks"}],"owner":{"account_id":27951024,"reputation":1,"user_id":21344877,"display_name":"Luca De Cicco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678139507,"answer_count":0,"score":0,"last_activity_date":1678139545,"creation_date":1678134193,"question_id":75655494,"body_markdown":"I try to deploy my spring boot app to heroku but I have this problem : [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project heroku-deploy-spring: Fatal error compiling: invalid target release: 17 -&gt;\r\n\r\nI try to change in pom java version to 11 , but still the same problem","title":"I have an error when i try to deploy spring boot app to heroku","body":"<p>I try to deploy my spring boot app to heroku but I have this problem : [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project heroku-deploy-spring: Fatal error compiling: invalid target release: 17 -&gt;</p>\n<p>I try to change in pom java version to 11 , but still the same problem</p>\n"},{"tags":["java","selenium-webdriver","canvas","coordinates"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678138881,"creation_date":1678138476,"answer_id":75656056,"question_id":75655910,"body_markdown":"As per the given HTML:\r\n\r\n![html](https://i.stack.imgur.com/UzJEr.png)\r\n\r\nThe desired `&lt;canvas&gt;` element is within is within a [`&lt;iframe&gt;`](https://stackoverflow.com/a/53276478/7429447) so you have to:\r\n\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the desired _frameToBeAvailableAndSwitchToIt_.\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/50621712/7429447) for the _visibilityOfElementLocated_ as follows:\r\n- You can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n\t  new WebDriverWait(Util.setup.driver, Duration.ofSeconds(10)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;div.dialogMaster&quot;)));\r\n\t  WebElement canvas = new WebDriverWait(Util.setup.driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.tagName(&quot;canvas&quot;))).get(0);\r\n\t  System.out.println(canvas.getSize().width/2); // -&gt; returns 849\r\n\t  System.out.println(canvas.getSize().height/2); // -&gt; returns 341","title":"How to check where is clicked in canvas(HTML) using Java","body":"<p>As per the given HTML:</p>\n<p><img src=\"https://i.stack.imgur.com/UzJEr.png\" alt=\"html\" /></p>\n<p>The desired <code>&lt;canvas&gt;</code> element is within is within a <a href=\"https://stackoverflow.com/a/53276478/7429447\"><code>&lt;iframe&gt;</code></a> so you have to:</p>\n<ul>\n<li><p>Induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the desired <em>frameToBeAvailableAndSwitchToIt</em>.</p>\n</li>\n<li><p>Induce <a href=\"https://stackoverflow.com/a/50621712/7429447\">WebDriverWait</a> for the <em>visibilityOfElementLocated</em> as follows:</p>\n</li>\n<li><p>You can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<pre><code>new WebDriverWait(Util.setup.driver, Duration.ofSeconds(10)).until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;div.dialogMaster&quot;)));\nWebElement canvas = new WebDriverWait(Util.setup.driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.tagName(&quot;canvas&quot;))).get(0);\nSystem.out.println(canvas.getSize().width/2); // -&gt; returns 849\nSystem.out.println(canvas.getSize().height/2); // -&gt; returns 341\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":25820050,"reputation":35,"user_id":19559322,"display_name":"codename_zoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75656056,"answer_count":1,"score":1,"last_activity_date":1678138881,"creation_date":1678137263,"question_id":75655910,"body_markdown":"I have a canvas inside a window. The window is full screen, but the canvas is not the full size. I want to click a specific position in canvas so I use bellow:  \r\n`Actions action = new Actions(driver).moveToElement(canvas, 0, 0).moveByOffset(849,341).click();`\r\n\r\n[![enter image description here](https://i.stack.imgur.com/UzJEr.png)](https://i.stack.imgur.com/UzJEr.png)\r\n```\r\nWebElement iframe = driver.findElements(By.tagName(&quot;iframe&quot;)).get(0);\r\ndriver.switchTo().frame(iframe);\r\nWebElement canvas = driver.findElements(By.tagName(&quot;canvas&quot;)).get(0);\r\nSystem.out.println(canvas.getSize().width/2); // -&gt; returns 849\r\nSystem.out.println(canvas.getSize().height/2); // -&gt; returns 341\r\n```\r\nThe problem is, the specific position isn&#39;t clicked and I don&#39;t know where is clicked just by using the code above. I&#39;ve used Page Ruler to locate pointer but it didn&#39;t work in this situaion.\r\n\r\nI&#39;m hoping there is a solution which will highlight or show the location of pointer.\r\n\r\n","title":"How to check where is clicked in canvas(HTML) using Java","body":"<p>I have a canvas inside a window. The window is full screen, but the canvas is not the full size. I want to click a specific position in canvas so I use bellow:<br />\n<code>Actions action = new Actions(driver).moveToElement(canvas, 0, 0).moveByOffset(849,341).click();</code></p>\n<p><a href=\"https://i.stack.imgur.com/UzJEr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UzJEr.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>WebElement iframe = driver.findElements(By.tagName(&quot;iframe&quot;)).get(0);\ndriver.switchTo().frame(iframe);\nWebElement canvas = driver.findElements(By.tagName(&quot;canvas&quot;)).get(0);\nSystem.out.println(canvas.getSize().width/2); // -&gt; returns 849\nSystem.out.println(canvas.getSize().height/2); // -&gt; returns 341\n</code></pre>\n<p>The problem is, the specific position isn't clicked and I don't know where is clicked just by using the code above. I've used Page Ruler to locate pointer but it didn't work in this situaion.</p>\n<p>I'm hoping there is a solution which will highlight or show the location of pointer.</p>\n"},{"tags":["java","spring","rest","param","multivalue"],"comments":[{"owner":{"account_id":55167,"reputation":1294,"user_id":2632690,"accept_rate":27,"display_name":"JVXR"},"score":0,"creation_date":1454689734,"post_id":35228865,"comment_id":58172589,"body_markdown":"Check if your browser or http client is not discarding the empty param.","body":"Check if your browser or http client is not discarding the empty param."},{"owner":{"account_id":4111475,"reputation":61,"user_id":3374151,"display_name":"silverdrop"},"score":0,"creation_date":1454690173,"post_id":35228865,"comment_id":58172851,"body_markdown":"I don&#39;t think this is the case. When using something like @RequestParam Map&lt;String, String&gt; params, I see the single null value in there (?testParam=)","body":"I don&#39;t think this is the case. When using something like @RequestParam Map&lt;String, String&gt; params, I see the single null value in there (?testParam=)"}],"answers":[{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1454693199,"creation_date":1454693199,"answer_id":35230022,"question_id":35228865,"body_markdown":"Spring&#39;s `StringToArrayConverter` is responsible for this conversion. If you take a look at its `convert` method:\r\n\r\n    public Object convert(Object source, TypeDescriptor sourceType, TypeDescriptor targetType) {\r\n    \t\tif (source == null) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\tString string = (String) source;\r\n    \t\tString[] fields = StringUtils.commaDelimitedListToStringArray(string);\r\n    \t\tObject target = Array.newInstance(targetType.getElementTypeDescriptor().getType(), fields.length);\r\n    \t\tfor (int i = 0; i &lt; fields.length; i++) {\r\n    \t\t\tString sourceElement = fields[i];\r\n    \t\t\tObject targetElement = this.conversionService.convert(sourceElement.trim(), sourceType, targetType.getElementTypeDescriptor());\r\n    \t\t\tArray.set(target, i, targetElement);\r\n    \t\t}\r\n    \t\treturn target;\r\n    }\r\n\r\nBasically, it takes the input (empty `String` in your case), split it by **comma** and return an array with values of the exploded `String`. Result of splitting an empty `String`, of course, is an empty `Array`. \r\n\r\nWhen you pass two parameters with the same name, the `ArrayToArrayConverter` will be called, which behaves as you would expect and returns an array with two empty `String`s.\r\n\r\nIf you want to disable the default `String` to `Array` behavior, you should register another `Converter` that converts an empty `String` to a single element `Array`.","title":"Spring framework REST multivalue request parameter empty array","body":"<p>Spring's <code>StringToArrayConverter</code> is responsible for this conversion. If you take a look at its <code>convert</code> method:</p>\n\n<pre><code>public Object convert(Object source, TypeDescriptor sourceType, TypeDescriptor targetType) {\n        if (source == null) {\n            return null;\n        }\n        String string = (String) source;\n        String[] fields = StringUtils.commaDelimitedListToStringArray(string);\n        Object target = Array.newInstance(targetType.getElementTypeDescriptor().getType(), fields.length);\n        for (int i = 0; i &lt; fields.length; i++) {\n            String sourceElement = fields[i];\n            Object targetElement = this.conversionService.convert(sourceElement.trim(), sourceType, targetType.getElementTypeDescriptor());\n            Array.set(target, i, targetElement);\n        }\n        return target;\n}\n</code></pre>\n\n<p>Basically, it takes the input (empty <code>String</code> in your case), split it by <strong>comma</strong> and return an array with values of the exploded <code>String</code>. Result of splitting an empty <code>String</code>, of course, is an empty <code>Array</code>. </p>\n\n<p>When you pass two parameters with the same name, the <code>ArrayToArrayConverter</code> will be called, which behaves as you would expect and returns an array with two empty <code>String</code>s.</p>\n\n<p>If you want to disable the default <code>String</code> to <code>Array</code> behavior, you should register another <code>Converter</code> that converts an empty <code>String</code> to a single element <code>Array</code>.</p>\n"},{"tags":[],"owner":{"account_id":8650613,"reputation":266,"user_id":6476436,"display_name":"David Costanzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678138558,"creation_date":1678138558,"answer_id":75656066,"question_id":35228865,"body_markdown":"To add to Ali&#39;s correct answer...\r\n\r\nYou can register a `Converter` that directs Spring to treat the empty string as an array with the empty string within the `addFormatters` method of your `WebMvcConfigurer` bean.\r\n\r\n```\r\n@Configuration\r\npublic class MyMvcConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n        // Register a converter so that an empty string web parameter,\r\n        // when converted to a String[], is treated as an array with\r\n        // one element (the empty string), instead of an empty array.\r\n        registry.addConverter(new Converter&lt;String, String[]&gt;() {\r\n            @Override\r\n            public String[] convert(String source) {\r\n                if (source.isEmpty()) { // Special case empty string\r\n                    return new String[] { &quot;&quot; };\r\n                }\r\n\r\n                return StringUtils.commaDelimitedListToStringArray(source);\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"Spring framework REST multivalue request parameter empty array","body":"<p>To add to Ali's correct answer...</p>\n<p>You can register a <code>Converter</code> that directs Spring to treat the empty string as an array with the empty string within the <code>addFormatters</code> method of your <code>WebMvcConfigurer</code> bean.</p>\n<pre><code>@Configuration\npublic class MyMvcConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        // Register a converter so that an empty string web parameter,\n        // when converted to a String[], is treated as an array with\n        // one element (the empty string), instead of an empty array.\n        registry.addConverter(new Converter&lt;String, String[]&gt;() {\n            @Override\n            public String[] convert(String source) {\n                if (source.isEmpty()) { // Special case empty string\n                    return new String[] { &quot;&quot; };\n                }\n\n                return StringUtils.commaDelimitedListToStringArray(source);\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4111475,"reputation":61,"user_id":3374151,"display_name":"silverdrop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1842,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35230022,"answer_count":2,"score":1,"last_activity_date":1678138558,"creation_date":1454689446,"question_id":35228865,"body_markdown":"I have a rest endpoint (spring-boot-1.3.0-RELEASE -&gt; spring-core-4.2.4.RELEASE) which takes a multiple instance string parameter\r\n\r\n    @RequestMapping(value = &quot;/test&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;Object&gt; getTest(@RequestParam(value = &quot;testParam&quot;, required = false) String[] testParamArray) {}\r\n\r\n    /test?testParam=  =&gt; testParamArray has length 0\r\n    /test?testParam=&amp;testParam=  =&gt; testParamArray has length 2 (two empty string items)\r\n\r\nI expected that for the first case to get a single empty sting element in the array but there are none.\r\nAny ideas on how to achieve this?","title":"Spring framework REST multivalue request parameter empty array","body":"<p>I have a rest endpoint (spring-boot-1.3.0-RELEASE -> spring-core-4.2.4.RELEASE) which takes a multiple instance string parameter</p>\n\n<pre><code>@RequestMapping(value = \"/test\", method = RequestMethod.GET)\npublic ResponseEntity&lt;Object&gt; getTest(@RequestParam(value = \"testParam\", required = false) String[] testParamArray) {}\n\n/test?testParam=  =&gt; testParamArray has length 0\n/test?testParam=&amp;testParam=  =&gt; testParamArray has length 2 (two empty string items)\n</code></pre>\n\n<p>I expected that for the first case to get a single empty sting element in the array but there are none.\nAny ideas on how to achieve this?</p>\n"},{"tags":["java","spring","spring-batch"],"owner":{"account_id":27928742,"reputation":21,"user_id":21327289,"display_name":"Abhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678138248,"creation_date":1678138204,"question_id":75656021,"body_markdown":"I am working on a Spring Batch application with a job that works with around 7 million elements. So far, the job is set up to read from a SQL database, apply some processing and write to a mongo database. \r\nI am now implementing a change detection mechanism wherein after processing if the data of a specific element is the same as the previous run, I don&#39;t want to write it into mongo. In order to do this, I need to access the output of the previous run in the processor so I know when to exclude it from being written.\r\nSince the processor is called for every element, I cannot have a repository call in the processor. Looking for suggestions on how I could solve this.\r\n\r\nI am thinking of 2 different options right now but I&#39;m not sure if this aligns with the best practices:\r\n\r\n1. Replace the existing JDBC SQL reader with a custom reader that first reads from the SQL database and then from mongo by querying only those elements that were read from SQL. This way I can pass the input data from SQL and the previous run&#39;s output into the processor.\r\n\r\n2. Keep the existing SQL reader and use one of the batch event listeners (chunk listener, item read listener). For example, I could create an item read listener where once items are read, I can query mongo for those items and store that data in an in-memory cache and access that in the processor. I am worried about how this would affect multi-threading however.","title":"Spring Batch reading from 2 different databases","body":"<p>I am working on a Spring Batch application with a job that works with around 7 million elements. So far, the job is set up to read from a SQL database, apply some processing and write to a mongo database.\nI am now implementing a change detection mechanism wherein after processing if the data of a specific element is the same as the previous run, I don't want to write it into mongo. In order to do this, I need to access the output of the previous run in the processor so I know when to exclude it from being written.\nSince the processor is called for every element, I cannot have a repository call in the processor. Looking for suggestions on how I could solve this.</p>\n<p>I am thinking of 2 different options right now but I'm not sure if this aligns with the best practices:</p>\n<ol>\n<li><p>Replace the existing JDBC SQL reader with a custom reader that first reads from the SQL database and then from mongo by querying only those elements that were read from SQL. This way I can pass the input data from SQL and the previous run's output into the processor.</p>\n</li>\n<li><p>Keep the existing SQL reader and use one of the batch event listeners (chunk listener, item read listener). For example, I could create an item read listener where once items are read, I can query mongo for those items and store that data in an in-memory cache and access that in the processor. I am worried about how this would affect multi-threading however.</p>\n</li>\n</ol>\n"},{"tags":["java","android","kotlin","android-sdk-2.3"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1678138582,"post_id":75655924,"comment_id":133472333,"body_markdown":"Widgets are typically registered to update with some interval. They will receive a broadcast that will launch the app process if it isn&#39;t already started. If you don&#39;t use widgets, you can still register for various system broadcasts in your manifest, or use AlarmManager.","body":"Widgets are typically registered to update with some interval. They will receive a broadcast that will launch the app process if it isn&#39;t already started. If you don&#39;t use widgets, you can still register for various system broadcasts in your manifest, or use AlarmManager."},{"owner":{"account_id":14049443,"reputation":19,"user_id":10148684,"display_name":"kouranyi"},"score":0,"creation_date":1678140976,"post_id":75655924,"comment_id":133472845,"body_markdown":"yes, thanks that&#39;s a good hint, but the minimum possible update interval value for the widget `updatePeriodMillis` is 30 minutes. I calculated the time that passed since I killed the process until it become live again it took around 10 minutes meaning the app is using another way to relaunch the process and update the widget. I wonder can AlarmManger or BroadcastReciverers still work despite having no services or a process running ?","body":"yes, thanks that&#39;s a good hint, but the minimum possible update interval value for the widget <code>updatePeriodMillis</code> is 30 minutes. I calculated the time that passed since I killed the process until it become live again it took around 10 minutes meaning the app is using another way to relaunch the process and update the widget. I wonder can AlarmManger or BroadcastReciverers still work despite having no services or a process running ?"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1678142845,"post_id":75655924,"comment_id":133473159,"body_markdown":"`AlarmManager` is working on Android side, isn&#39;t killed/dismissed when you are killing your app. personally I&#39;ve made few years ago a widget which is self refreshing every... well, that depends on time of a day, in the midday it was about 6 minutes, at night  about 20-30. `updatePeriodMillis` set up to 2x most rare interval, just for a case when `AlarmManager` would not trigger refreshing action for some reason","body":"<code>AlarmManager</code> is working on Android side, isn&#39;t killed/dismissed when you are killing your app. personally I&#39;ve made few years ago a widget which is self refreshing every... well, that depends on time of a day, in the midday it was about 6 minutes, at night  about 20-30. <code>updatePeriodMillis</code> set up to 2x most rare interval, just for a case when <code>AlarmManager</code> would not trigger refreshing action for some reason"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1678160288,"post_id":75655924,"comment_id":133475446,"body_markdown":"The timer wouldnt have started from the time you killed the process. It would have been some multiple from when the widget was first added. Actually, I suspect its just an approximate minimum. It might also trigger early in some cases to avoid having to wake up the device to do it.","body":"The timer wouldnt have started from the time you killed the process. It would have been some multiple from when the widget was first added. Actually, I suspect its just an approximate minimum. It might also trigger early in some cases to avoid having to wake up the device to do it."}],"owner":{"account_id":14049443,"reputation":19,"user_id":10148684,"display_name":"kouranyi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678137370,"creation_date":1678137370,"question_id":75655924,"body_markdown":"that&#39;s an android app that has a widget that displays the current battery percentage and whether it&#39;s charging or not ( that&#39;s why it needs to be always running to monitor the battery level ).\r\nI forced stop the running process and the widget stoped to display the correct battery percentage for some few minutes untill the app process became LIVE again.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nwhat&#39;s the component used here ? and how the process starts itself again?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3BXo2.jpg","title":"What android component could make the app process always running like that despite having 0 running services?","body":"<p>that's an android app that has a widget that displays the current battery percentage and whether it's charging or not ( that's why it needs to be always running to monitor the battery level ).\nI forced stop the running process and the widget stoped to display the correct battery percentage for some few minutes untill the app process became LIVE again.</p>\n<p><a href=\"https://i.stack.imgur.com/3BXo2.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3BXo2.jpg\" alt=\"enter image description here\" /></a></p>\n<p>what's the component used here ? and how the process starts itself again?</p>\n"},{"tags":["java","lombok","jdbi","jdbi3","jdbi3-core"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1678050694,"post_id":75643681,"comment_id":133453737,"body_markdown":"Try removing the Lombok `@Builder` annotation. The Jdbi documentation mentions &quot;_The standard bean convention requires that the setter returns a `void` value. The popular &quot;builder pattern&quot; setter convention of returning the bean itself does not work with the standard Java Bean convention and the setter will not be found. This is a common source of problems when using the `BeanMapper`._&quot;","body":"Try removing the Lombok <code>@Builder</code> annotation. The Jdbi documentation mentions &quot;<i>The standard bean convention requires that the setter returns a <code>void</code> value. The popular &quot;builder pattern&quot; setter convention of returning the bean itself does not work with the standard Java Bean convention and the setter will not be found. This is a common source of problems when using the <code>BeanMapper</code>.</i>&quot;"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1678050728,"post_id":75643681,"comment_id":133453744,"body_markdown":"Otherwise, if that does not help (I don&#39;t typically use Lombok, myself), can you provide the precise DDL for the three tables you are using?","body":"Otherwise, if that does not help (I don&#39;t typically use Lombok, myself), can you provide the precise DDL for the three tables you are using?"},{"owner":{"account_id":16935487,"reputation":313,"user_id":12248597,"display_name":"EzyHoo"},"score":0,"creation_date":1678121944,"post_id":75643681,"comment_id":133468101,"body_markdown":"I am not replacing the setter with builder. The builder and constructor, setter are all in the class. The issue seems to be the prefix only looks for &quot;prefix_&quot; not &quot;prefix.&quot;","body":"I am not replacing the setter with builder. The builder and constructor, setter are all in the class. The issue seems to be the prefix only looks for &quot;prefix_&quot; not &quot;prefix.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":16935487,"reputation":313,"user_id":12248597,"display_name":"EzyHoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678137074,"creation_date":1678122126,"answer_id":75653724,"question_id":75643681,"body_markdown":"The issue is the prefix looks for &quot;prefix_&quot; instead of &quot;prefix.&quot;\r\nSo I will have to explicitly add the alias for the select query to work:\r\n````\r\nString selectSql = &quot;SELECT t.id as t_id, t.ticket_int_1 as t_ticket_int_1, i.id as i_id ....&quot;","title":"JDBI3: Mapping bean class didn&#39;t find any matching columns in result set when mapping to JoinRow","body":"<p>The issue is the prefix looks for &quot;prefix_&quot; instead of &quot;prefix.&quot;\nSo I will have to explicitly add the alias for the select query to work:</p>\n<pre><code>String selectSql = &quot;SELECT t.id as t_id, t.ticket_int_1 as t_ticket_int_1, i.id as i_id ....&quot;\n</code></pre>\n"}],"owner":{"account_id":16935487,"reputation":313,"user_id":12248597,"display_name":"EzyHoo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678137074,"creation_date":1678033626,"question_id":75643681,"body_markdown":"I have SQL schema and Java class for issue and ticket model defined as follow:\r\n\r\n````\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class Ticket {\r\n\r\n    private long id;\r\n    private int ticket_int_1;\r\n    private int ticket_int_2;\r\n    private int ticket_int_3;\r\n    private String ticket_varchar_1;\r\n    private String dateFiled;\r\n    private String dateLastUpdated;\r\n    private String dateResolved;\r\n}\r\n````\r\n\r\n````\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n@ToString\r\n\r\npublic class Issue {\r\n    private long id;\r\n    private long issue_bigInt_1;\r\n    private long issue_bigInt_2;\r\n    private int issue_int_1;\r\n    @EqualsAndHashCode.Include\r\n    private long issue_bigInt_3;\r\n    private int issue_int_2;\r\n    @EqualsAndHashCode.Include\r\n    private int issue_int_3;\r\n    @EqualsAndHashCode.Include\r\n    private String issue_varchar_1;\r\n    @EqualsAndHashCode.Include\r\n    private String issue_varchar_2;\r\n    @EqualsAndHashCode.Include\r\n    private String issue_varchar_3;\r\n    private int issue_int_4;\r\n    private String dateResolved;\r\n    private String dateCreated;\r\n    private String dateUpdate;\r\n}\r\n````\r\n\r\n````\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class TicketIssue {\r\n    private long id;\r\n    private int ticket_issue_int_1;\r\n    private long issueId; // issue will be the many\r\n    private long ticketId;  // ticket will be the 1\r\n}\r\n````\r\n\r\n\r\nAccording to the [official doc][1], I wrote the following code:\r\n\r\n````\r\nString selectSql = &quot;SELECT t.*, i.* FROM &quot; + ISSUE_TABLE + &quot; as i&quot;\r\n        + &quot; JOIN &quot; + TICKET_ISSUES_TABLE + &quot; as ti on i.id = ti.issue_id&quot;\r\n        + &quot; JOIN &quot; + TICKET_TABLE + &quot; as t on ti.ticket_id = t.id&quot;;\r\n\r\njdbi.useHandle(handle -&gt; \r\n        handle.registerRowMapper(BeanMapper.factory(Ticket.class, &quot;t&quot;))\r\n        .registerRowMapper(BeanMapper.factory(Issue.class, &quot;i&quot;))\r\n        .registerRowMapper(JoinRowMapper.forTypes(Ticket.class, Issue.class))\r\n        .createQuery(selectSql)\r\n        .mapTo(JoinRow.class));\r\n\r\n````\r\n\r\nExecuting above query throws an error: \r\n\r\n&gt; java.lang.IllegalArgumentException: Mapping bean class Ticket didn&#39;t find any matching columns in result set\r\n\r\n\r\nMy implementation looks exactly the same with the documentation, what went wrong here? Can anyone help?\r\n\r\n  [1]: https://jdbi.org/#_beanmapper","title":"JDBI3: Mapping bean class didn&#39;t find any matching columns in result set when mapping to JoinRow","body":"<p>I have SQL schema and Java class for issue and ticket model defined as follow:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class Ticket {\n\n    private long id;\n    private int ticket_int_1;\n    private int ticket_int_2;\n    private int ticket_int_3;\n    private String ticket_varchar_1;\n    private String dateFiled;\n    private String dateLastUpdated;\n    private String dateResolved;\n}\n</code></pre>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\n@ToString\n\npublic class Issue {\n    private long id;\n    private long issue_bigInt_1;\n    private long issue_bigInt_2;\n    private int issue_int_1;\n    @EqualsAndHashCode.Include\n    private long issue_bigInt_3;\n    private int issue_int_2;\n    @EqualsAndHashCode.Include\n    private int issue_int_3;\n    @EqualsAndHashCode.Include\n    private String issue_varchar_1;\n    @EqualsAndHashCode.Include\n    private String issue_varchar_2;\n    @EqualsAndHashCode.Include\n    private String issue_varchar_3;\n    private int issue_int_4;\n    private String dateResolved;\n    private String dateCreated;\n    private String dateUpdate;\n}\n</code></pre>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class TicketIssue {\n    private long id;\n    private int ticket_issue_int_1;\n    private long issueId; // issue will be the many\n    private long ticketId;  // ticket will be the 1\n}\n</code></pre>\n<p>According to the <a href=\"https://jdbi.org/#_beanmapper\" rel=\"nofollow noreferrer\">official doc</a>, I wrote the following code:</p>\n<pre><code>String selectSql = &quot;SELECT t.*, i.* FROM &quot; + ISSUE_TABLE + &quot; as i&quot;\n        + &quot; JOIN &quot; + TICKET_ISSUES_TABLE + &quot; as ti on i.id = ti.issue_id&quot;\n        + &quot; JOIN &quot; + TICKET_TABLE + &quot; as t on ti.ticket_id = t.id&quot;;\n\njdbi.useHandle(handle -&gt; \n        handle.registerRowMapper(BeanMapper.factory(Ticket.class, &quot;t&quot;))\n        .registerRowMapper(BeanMapper.factory(Issue.class, &quot;i&quot;))\n        .registerRowMapper(JoinRowMapper.forTypes(Ticket.class, Issue.class))\n        .createQuery(selectSql)\n        .mapTo(JoinRow.class));\n\n</code></pre>\n<p>Executing above query throws an error:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Mapping bean class Ticket didn't find any matching columns in result set</p>\n</blockquote>\n<p>My implementation looks exactly the same with the documentation, what went wrong here? Can anyone help?</p>\n"},{"tags":["java","spring-boot","swagger-ui","springdoc"],"comments":[{"owner":{"account_id":918176,"reputation":73,"user_id":950496,"display_name":"mbodev"},"score":0,"creation_date":1678028152,"post_id":75643064,"comment_id":133449749,"body_markdown":"How would your production code look then? Would that still have that test header included and would that be branching off somehow? Typically you read header as method params.","body":"How would your production code look then? Would that still have that test header included and would that be branching off somehow? Typically you read header as method params."},{"owner":{"account_id":10650147,"reputation":2228,"user_id":7841415,"display_name":"Suule"},"score":0,"creation_date":1678029126,"post_id":75643064,"comment_id":133449896,"body_markdown":"Yes, production code would have the same header, but it would be added with third party service. There wouldnt be any authentication within current service, the information are needed only to store them in database, whenever some data was created/modified. I would like to avoid ppl to add it by hand with swagger, as there might be much more data then just `username` and `email`","body":"Yes, production code would have the same header, but it would be added with third party service. There wouldnt be any authentication within current service, the information are needed only to store them in database, whenever some data was created/modified. I would like to avoid ppl to add it by hand with swagger, as there might be much more data then just <code>username</code> and <code>email</code>"},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1678091598,"post_id":75643064,"comment_id":133459318,"body_markdown":"In standalone Swagger UI it can be done using the `requestInterceptor` as [shown here](https://stackoverflow.com/q/46485621/113116). Since you&#39;re using Springdoc, you can try adding the `requestInterceptor` [as suggested here](https://github.com/springdoc/springdoc-openapi/issues/1654#issuecomment-1121621044).","body":"In standalone Swagger UI it can be done using the <code>requestInterceptor</code> as <a href=\"https://stackoverflow.com/q/46485621/113116\">shown here</a>. Since you&#39;re using Springdoc, you can try adding the <code>requestInterceptor</code> <a href=\"https://github.com/springdoc/springdoc-openapi/issues/1654#issuecomment-1121621044\" rel=\"nofollow noreferrer\">as suggested here</a>."}],"answers":[{"tags":[],"owner":{"account_id":27385661,"reputation":389,"user_id":20889523,"display_name":"Ritik Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678137053,"creation_date":1678039425,"answer_id":75644293,"question_id":75643064,"body_markdown":"Yes, it&#39;s possible to pass a custom header with some default value through Swagger UI. You can use the below code snippet to customize OpenAPI -\r\n\r\n    @Bean\r\n    public OpenApiCustomizer getCustomizer() {\r\n        ObjectSchema myCustomSchema = new ObjectSchema();\r\n        myCustomSchema.addProperty(&quot;username&quot;, new Schema&lt;&gt;().type(&quot;string&quot;)._default(&quot;swagger&quot;));\r\n        myCustomSchema.addProperty(&quot;email&quot;, new Schema&lt;&gt;().type(&quot;string&quot;)._default(&quot;dummy@email&quot;));\r\n\r\n        return openApi -&gt; openApi.getPaths().values().stream()\r\n                .flatMap(pathItem -&gt; pathItem.readOperations().stream())\r\n                .forEach(operation -&gt; \r\n                    operation.addParametersItem(\r\n                            new HeaderParameter()\r\n                                    .name(&quot;test-header&quot;)\r\n                                    .required(false)\r\n                                    .schema(myCustomSchema).explode(true)\r\n                                    .style(Parameter.StyleEnum.SIMPLE)\r\n                    )\r\n                );\r\n    }\r\n\r\nThis will produce your header&#39;s value in the controller as **username=swagger,email=dummy@email**.\r\n\r\nBut I&#39;ll suggest if you have to pass a JSON as a header then pass it in stringified, and parse it to an object in your controller. For string type header, OpenAPI can be customized as - \r\n\r\n     @Bean\r\n    public OpenApiCustomizer getCustomizer() {\r\n        return openApi -&gt; openApi.getPaths().values().stream()\r\n                .flatMap(pathItem -&gt; pathItem.readOperations().stream())\r\n                .forEach(operation -&gt; operation\r\n                        .addParametersItem(\r\n                                new HeaderParameter()\r\n                                        .name(&quot;test-header&quot;)\r\n                                        .required(false)\r\n                                        .schema(new Schema().type(&quot;string&quot;)._default(&quot;{\\&quot;username\\&quot;:\\&quot;swagger\\&quot;, \\&quot;email\\&quot;:\\&quot;dummy@email\\&quot;}&quot;))\r\n                        ));\r\n    }\r\nPlease upvote if it helps.","title":"How to inject a custom header whenever a request is sent from Swagger UI?","body":"<p>Yes, it's possible to pass a custom header with some default value through Swagger UI. You can use the below code snippet to customize OpenAPI -</p>\n<pre><code>@Bean\npublic OpenApiCustomizer getCustomizer() {\n    ObjectSchema myCustomSchema = new ObjectSchema();\n    myCustomSchema.addProperty(&quot;username&quot;, new Schema&lt;&gt;().type(&quot;string&quot;)._default(&quot;swagger&quot;));\n    myCustomSchema.addProperty(&quot;email&quot;, new Schema&lt;&gt;().type(&quot;string&quot;)._default(&quot;dummy@email&quot;));\n\n    return openApi -&gt; openApi.getPaths().values().stream()\n            .flatMap(pathItem -&gt; pathItem.readOperations().stream())\n            .forEach(operation -&gt; \n                operation.addParametersItem(\n                        new HeaderParameter()\n                                .name(&quot;test-header&quot;)\n                                .required(false)\n                                .schema(myCustomSchema).explode(true)\n                                .style(Parameter.StyleEnum.SIMPLE)\n                )\n            );\n}\n</code></pre>\n<p>This will produce your header's value in the controller as <strong>username=swagger,email=dummy@email</strong>.</p>\n<p>But I'll suggest if you have to pass a JSON as a header then pass it in stringified, and parse it to an object in your controller. For string type header, OpenAPI can be customized as -</p>\n<pre><code> @Bean\npublic OpenApiCustomizer getCustomizer() {\n    return openApi -&gt; openApi.getPaths().values().stream()\n            .flatMap(pathItem -&gt; pathItem.readOperations().stream())\n            .forEach(operation -&gt; operation\n                    .addParametersItem(\n                            new HeaderParameter()\n                                    .name(&quot;test-header&quot;)\n                                    .required(false)\n                                    .schema(new Schema().type(&quot;string&quot;)._default(&quot;{\\&quot;username\\&quot;:\\&quot;swagger\\&quot;, \\&quot;email\\&quot;:\\&quot;dummy@email\\&quot;}&quot;))\n                    ));\n}\n</code></pre>\n<p>Please upvote if it helps.</p>\n"}],"owner":{"account_id":10650147,"reputation":2228,"user_id":7841415,"display_name":"Suule"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1035,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75644293,"answer_count":1,"score":1,"last_activity_date":1678137053,"creation_date":1678027910,"question_id":75643064,"body_markdown":"I have a situation when I would like to hard-code a request header called `test-header` which will store simple JSON data `{&quot;username&quot;:&quot;swagger&quot;, &quot;email&quot;:&quot;dummy@email&quot;}`.\r\nSo the users who will use Swagger UI to make requests won&#39;t need to add this data manually, it will always be automatically added to each request sent from Swagger UI. \r\n\r\nI am using `org.springdoc` with Spring Boot v3. And currently I just have simple OpenAPI bean:\r\n\r\n    @Bean\r\n    public OpenAPI customOpenAPI(@Value(&quot;${springdoc.version}&quot;) String appVersion) {\r\n    \treturn new OpenAPI()\r\n    \t\t\t.info(new Info().title(&quot;Person API&quot;).version(appVersion)\r\n    \t\t\t\t\t.license(new License().name(&quot;Apache 2.0&quot;).url(&quot;http://springdoc.org&quot;)));\r\n    };\r\n\r\nIs there a possibility to add it somehow to it? Or am I fated to use a filter/interceptor?","title":"How to inject a custom header whenever a request is sent from Swagger UI?","body":"<p>I have a situation when I would like to hard-code a request header called <code>test-header</code> which will store simple JSON data <code>{&quot;username&quot;:&quot;swagger&quot;, &quot;email&quot;:&quot;dummy@email&quot;}</code>.\nSo the users who will use Swagger UI to make requests won't need to add this data manually, it will always be automatically added to each request sent from Swagger UI.</p>\n<p>I am using <code>org.springdoc</code> with Spring Boot v3. And currently I just have simple OpenAPI bean:</p>\n<pre><code>@Bean\npublic OpenAPI customOpenAPI(@Value(&quot;${springdoc.version}&quot;) String appVersion) {\n    return new OpenAPI()\n            .info(new Info().title(&quot;Person API&quot;).version(appVersion)\n                    .license(new License().name(&quot;Apache 2.0&quot;).url(&quot;http://springdoc.org&quot;)));\n};\n</code></pre>\n<p>Is there a possibility to add it somehow to it? Or am I fated to use a filter/interceptor?</p>\n"},{"tags":["java","osgi","javadoc","java-12"],"answers":[{"tags":[],"owner":{"account_id":2230571,"reputation":2771,"user_id":1968258,"display_name":"Marcos Zolnowski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1556584928,"creation_date":1556584928,"answer_id":55912496,"question_id":55906161,"body_markdown":"Probably a Javadoc bug, because Javadoc considers the Java Annotation as a **Javadoc Tag**.\r\n\r\n**Workaround 1:**\r\ndisable this Javadoc tag\r\n&lt;!-- language: Maven --&gt;\r\n\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                    &lt;configuration&gt;                        \r\n                        &lt;tags&gt;\r\n                            &lt;tag&gt;\r\n                                &lt;name&gt;Version&lt;/name&gt;                            \r\n                                &lt;placement&gt;X&lt;/placement&gt;                            \r\n                            &lt;/tag&gt;\r\n                        &lt;/tags&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n\r\n**Workaround 2:**\r\nadd an empty Javadoc block in front of every annotation\r\n\r\n    /** */@Version(&quot;1.3.0&quot;)\r\n    package org.apache.jackrabbit.oak.commons;","title":"Weird javadoc error (with jdk12) for OSGi version annotation","body":"<p>Probably a Javadoc bug, because Javadoc considers the Java Annotation as a <strong>Javadoc Tag</strong>.</p>\n\n<p><strong>Workaround 1:</strong>\ndisable this Javadoc tag\n</p>\n\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;                        \n                    &lt;tags&gt;\n                        &lt;tag&gt;\n                            &lt;name&gt;Version&lt;/name&gt;                            \n                            &lt;placement&gt;X&lt;/placement&gt;                            \n                        &lt;/tag&gt;\n                    &lt;/tags&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n\n<p><strong>Workaround 2:</strong>\nadd an empty Javadoc block in front of every annotation</p>\n\n<pre><code>/** */@Version(\"1.3.0\")\npackage org.apache.jackrabbit.oak.commons;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":300049,"reputation":440,"user_id":4297386,"display_name":"Liam Miller-Cushon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678136552,"creation_date":1666638099,"answer_id":74185633,"question_id":55906161,"body_markdown":"The fix is to upgrade to a newer JDK version.\r\n\r\nThe issue affects JDK 12, and was fixed in JDK 13 by [JDK-8222091: Javadoc does not handle package annotations correctly on package-info.java](https://bugs.openjdk.org/browse/JDK-8222091).\r\n\r\nThe same issue also affects OpenJDK 11.0.17, because the change that introduced the javadoc regression was backported. It was fixed in JDK 11.0.18. (See https://bugs.openjdk.org/browse/JDK-8295850.) \r\n\r\nSimplified repro:\r\n\r\n```java\r\npackage p;\r\n\r\nimport static java.lang.annotation.ElementType.PACKAGE;\r\n\r\nimport java.lang.annotation.Target;\r\n\r\n@Target(PACKAGE)\r\npublic @interface A {}\r\n```\r\n\r\n```java\r\n@A\r\npackage p;\r\n```\r\n\r\n```\r\n$ javadoc package-info.java A.java\r\n...\r\npackage-info.java:1: error: unknown tag: A\r\n@A\r\n^\r\n```","title":"Weird javadoc error (with jdk12) for OSGi version annotation","body":"<p>The fix is to upgrade to a newer JDK version.</p>\n<p>The issue affects JDK 12, and was fixed in JDK 13 by <a href=\"https://bugs.openjdk.org/browse/JDK-8222091\" rel=\"nofollow noreferrer\">JDK-8222091: Javadoc does not handle package annotations correctly on package-info.java</a>.</p>\n<p>The same issue also affects OpenJDK 11.0.17, because the change that introduced the javadoc regression was backported. It was fixed in JDK 11.0.18. (See <a href=\"https://bugs.openjdk.org/browse/JDK-8295850.\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8295850.</a>)</p>\n<p>Simplified repro:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package p;\n\nimport static java.lang.annotation.ElementType.PACKAGE;\n\nimport java.lang.annotation.Target;\n\n@Target(PACKAGE)\npublic @interface A {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@A\npackage p;\n</code></pre>\n<pre><code>$ javadoc package-info.java A.java\n...\npackage-info.java:1: error: unknown tag: A\n@A\n^\n</code></pre>\n"}],"owner":{"account_id":20956,"reputation":40587,"user_id":50543,"display_name":"Julian Reschke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":55912496,"answer_count":2,"score":4,"last_activity_date":1678136552,"creation_date":1556550533,"question_id":55906161,"body_markdown":"With the change from Java 11 to Java 12, we now see a weird error when generating Javadoc on package-info files containing OSGi version annotations.\r\n\r\nThe source code is:\r\n~~~\r\n@Version(&quot;1.3.0&quot;)\r\npackage org.apache.jackrabbit.oak.commons;\r\n\r\nimport org.osgi.annotation.versioning.Version;\r\n~~~\r\n\r\nThe error is:\r\n~~~\r\n[ERROR] C:\\projects\\apache\\oak\\trunk\\oak-commons\\src\\main\\java\\org\\apache\\jackrabbit\\oak\\commons\\package-info.java:17: error: unknown tag: Version\r\n[ERROR] @Version(&quot;1.3.0&quot;)\r\n[ERROR] ^\r\n~~~\r\n\r\n([See details and context][1])\r\n\r\nIs this a regression in Java 12, or is there something wrong in the way the annotations are used, or how Javadoc is invoked (through maven)?\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/OAK-8149","title":"Weird javadoc error (with jdk12) for OSGi version annotation","body":"<p>With the change from Java 11 to Java 12, we now see a weird error when generating Javadoc on package-info files containing OSGi version annotations.</p>\n\n<p>The source code is:</p>\n\n<pre><code>@Version(\"1.3.0\")\npackage org.apache.jackrabbit.oak.commons;\n\nimport org.osgi.annotation.versioning.Version;\n</code></pre>\n\n<p>The error is:</p>\n\n<pre><code>[ERROR] C:\\projects\\apache\\oak\\trunk\\oak-commons\\src\\main\\java\\org\\apache\\jackrabbit\\oak\\commons\\package-info.java:17: error: unknown tag: Version\n[ERROR] @Version(\"1.3.0\")\n[ERROR] ^\n</code></pre>\n\n<p>(<a href=\"https://issues.apache.org/jira/browse/OAK-8149\" rel=\"nofollow noreferrer\">See details and context</a>)</p>\n\n<p>Is this a regression in Java 12, or is there something wrong in the way the annotations are used, or how Javadoc is invoked (through maven)?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1678132046,"post_id":75655095,"comment_id":133470802,"body_markdown":"Wouldn&#39;t you just need another `groupingBy` operation? E.g., `groupingBy(Data::getDateOfBirth, groupingBy(Data::getName, mapping(Data::getDateAttended, toList()))`","body":"Wouldn&#39;t you just need another <code>groupingBy</code> operation? E.g., <code>groupingBy(Data::getDateOfBirth, groupingBy(Data::getName, mapping(Data::getDateAttended, toList()))</code>"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678133317,"creation_date":1678133009,"answer_id":75655343,"question_id":75655095,"body_markdown":"You need `Collectors.mapping` like this:\r\n\r\n```java\r\nMap&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; nameAttendedClassMap = data.stream()\r\n        .collect(groupingBy(Data::getDateOfBirth,\r\n                 groupingBy(Data::getName, \r\n                       mapping(Data::getDateAttendedClass, Collectors.toList()))));\r\n```\r\n\r\nYou need to group the Data objects by `dateOfBirth` using `Collectors.groupingBy`, then group the Data objects again by `name` and finally `map` the `dateAttendedClass` field of each `Data` object to a list using `Collectors.mapping`.","title":"How to collect a map of maps from stream","body":"<p>You need <code>Collectors.mapping</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; nameAttendedClassMap = data.stream()\n        .collect(groupingBy(Data::getDateOfBirth,\n                 groupingBy(Data::getName, \n                       mapping(Data::getDateAttendedClass, Collectors.toList()))));\n</code></pre>\n<p>You need to group the Data objects by <code>dateOfBirth</code> using <code>Collectors.groupingBy</code>, then group the Data objects again by <code>name</code> and finally <code>map</code> the <code>dateAttendedClass</code> field of each <code>Data</code> object to a list using <code>Collectors.mapping</code>.</p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678136072,"creation_date":1678135267,"answer_id":75655623,"question_id":75655095,"body_markdown":"As suggested by others, you should nest your `groupingBy` calls.\r\n\r\nHere is a working example. You should store your dates as epoch values. This is the best way to store the values. They are more transportable and universal this way. If you want to display any information, you can call convenience methods to format. When a date is represented as an integer, you can specify what locale you want to use to format the date. There is also no need to pare the dates when comparing them when sorting; or comparing in general.\r\n\r\nAlso, name your objects appropriately. Changing the name of `Data` to `Student` helps identify what the object represents.\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport java.time.*;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\n\r\nimport com.google.gson.GsonBuilder; // Used for printing formatted JSON\r\n\r\npublic class DataMap {\r\n    private static final DateTimeFormatter dateFormatter;\r\n    private static final DateTimeFormatter yearFormatter;\r\n\r\n    static {\r\n        dateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n        yearFormatter = DateTimeFormatter.ofPattern(&quot;yyyy&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Student&gt; data = new ArrayList&lt;Student&gt;();\r\n        data.add(createStudent(&quot;Billy&quot;, &quot;1990-01-30&quot;, &quot;2005-08-28&quot;));\r\n        data.add(createStudent(&quot;Billy&quot;, &quot;1990-01-30&quot;, &quot;2006-08-28&quot;));\r\n        data.add(createStudent(&quot;Billy&quot;, &quot;1990-01-31&quot;, &quot;2007-08-28&quot;));\r\n        data.add(createStudent(&quot;Billy&quot;, &quot;1990-01-31&quot;, &quot;2008-08-28&quot;));\r\n        data.add(createStudent(&quot;Alice&quot;, &quot;1990-01-30&quot;, &quot;2005-08-28&quot;));\r\n        data.add(createStudent(&quot;Alice&quot;, &quot;1990-01-30&quot;, &quot;2006-08-28&quot;));\r\n        data.add(createStudent(&quot;Alice&quot;, &quot;1990-01-31&quot;, &quot;2007-08-28&quot;));\r\n        data.add(createStudent(&quot;Alice&quot;, &quot;1990-01-31&quot;, &quot;2008-08-28&quot;));\r\n\r\n        Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; grouped = groupAttendanceByBirthAndName(data);\r\n        System.out.println(grouped);\r\n\r\n        // For display purposes...\r\n        System.out.println(new GsonBuilder().setPrettyPrinting().create().toJson(grouped).toString());\r\n    }\r\n\r\n    private static Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; groupAttendanceByBirthAndName(List&lt;Student&gt; students) {\r\n        return students.stream()\r\n                .collect(Collectors.groupingBy(Student::getDateOfBirthAsString,\r\n                        Collectors.groupingBy(Student::getName,\r\n                                Collectors.mapping(Student::getDateAttendedClassAsString, Collectors.toList()))));\r\n    }\r\n\r\n    private static String formatEpochMilliAsDate(long epochMilli, DateTimeFormatter dateFormatter) {\r\n        return dateFormatter.format(Instant.ofEpochMilli(epochMilli).atZone(ZoneId.systemDefault()).toLocalDate());\r\n    }\r\n\r\n    private static long epochFromDate(String date) {\r\n        return LocalDate.parse(date).atStartOfDay(ZoneId.systemDefault()).toInstant().toEpochMilli();\r\n    }\r\n\r\n    private static Student createStudent(String name, String birthYear, String attendanceYear) {\r\n        return new Student(name, epochFromDate(birthYear), epochFromDate(attendanceYear));\r\n    }\r\n\r\n    private static class Student {\r\n        private String name;\r\n        private long dateOfBirth;\r\n        private long dateAttendedClass;\r\n\r\n        public Student(String name, long dateOfBirth, long dateAttendedClass) {\r\n            this.name = name;\r\n            this.dateOfBirth = dateOfBirth;\r\n            this.dateAttendedClass = dateAttendedClass;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public long getDateOfBirth() {\r\n            return dateOfBirth;\r\n        }\r\n\r\n        // Convenience method ~ Used for grouping and display\r\n        public String getDateOfBirthAsString() {\r\n            return formatEpochMilliAsDate(dateOfBirth, dateFormatter);\r\n        }\r\n\r\n        public long getDateAttendedClass() {\r\n            return dateAttendedClass;\r\n        }\r\n\r\n        // Convenience method ~ Used for grouping and display\r\n        public String getDateAttendedClassAsString() {\r\n            return formatEpochMilliAsDate(dateAttendedClass, yearFormatter);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n## Output\r\n\r\nRaw `Map` output:\r\n\r\n```\r\n{1990-01-31={Billy=[2007, 2008], Alice=[2007, 2008]}, 1990-01-30={Billy=[2005, 2006], Alice=[2005, 2006]}}\r\n```\r\n\r\nI used Google&#39;s [Gson library](https://github.com/google/gson) to pretty-print the nested map as JSON. You could use Jackson&#39;s [`ObjectMapper`](https://github.com/FasterXML/jackson-databind) as well.\r\n\r\n```json\r\n{\r\n  &quot;1990-01-31&quot;: {\r\n    &quot;Billy&quot;: [\r\n      &quot;2007&quot;,\r\n      &quot;2008&quot;\r\n    ],\r\n    &quot;Alice&quot;: [\r\n      &quot;2007&quot;,\r\n      &quot;2008&quot;\r\n    ]\r\n  },\r\n  &quot;1990-01-30&quot;: {\r\n    &quot;Billy&quot;: [\r\n      &quot;2005&quot;,\r\n      &quot;2006&quot;\r\n    ],\r\n    &quot;Alice&quot;: [\r\n      &quot;2005&quot;,\r\n      &quot;2006&quot;\r\n    ]\r\n  }\r\n}\r\n```","title":"How to collect a map of maps from stream","body":"<p>As suggested by others, you should nest your <code>groupingBy</code> calls.</p>\n<p>Here is a working example. You should store your dates as epoch values. This is the best way to store the values. They are more transportable and universal this way. If you want to display any information, you can call convenience methods to format. When a date is represented as an integer, you can specify what locale you want to use to format the date. There is also no need to pare the dates when comparing them when sorting; or comparing in general.</p>\n<p>Also, name your objects appropriately. Changing the name of <code>Data</code> to <code>Student</code> helps identify what the object represents.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport java.time.*;\nimport java.time.format.DateTimeFormatter;\nimport java.util.*;\nimport java.util.stream.Collectors;\n\nimport com.google.gson.GsonBuilder; // Used for printing formatted JSON\n\npublic class DataMap {\n    private static final DateTimeFormatter dateFormatter;\n    private static final DateTimeFormatter yearFormatter;\n\n    static {\n        dateFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n        yearFormatter = DateTimeFormatter.ofPattern(&quot;yyyy&quot;);\n    }\n\n    public static void main(String[] args) {\n        List&lt;Student&gt; data = new ArrayList&lt;Student&gt;();\n        data.add(createStudent(&quot;Billy&quot;, &quot;1990-01-30&quot;, &quot;2005-08-28&quot;));\n        data.add(createStudent(&quot;Billy&quot;, &quot;1990-01-30&quot;, &quot;2006-08-28&quot;));\n        data.add(createStudent(&quot;Billy&quot;, &quot;1990-01-31&quot;, &quot;2007-08-28&quot;));\n        data.add(createStudent(&quot;Billy&quot;, &quot;1990-01-31&quot;, &quot;2008-08-28&quot;));\n        data.add(createStudent(&quot;Alice&quot;, &quot;1990-01-30&quot;, &quot;2005-08-28&quot;));\n        data.add(createStudent(&quot;Alice&quot;, &quot;1990-01-30&quot;, &quot;2006-08-28&quot;));\n        data.add(createStudent(&quot;Alice&quot;, &quot;1990-01-31&quot;, &quot;2007-08-28&quot;));\n        data.add(createStudent(&quot;Alice&quot;, &quot;1990-01-31&quot;, &quot;2008-08-28&quot;));\n\n        Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; grouped = groupAttendanceByBirthAndName(data);\n        System.out.println(grouped);\n\n        // For display purposes...\n        System.out.println(new GsonBuilder().setPrettyPrinting().create().toJson(grouped).toString());\n    }\n\n    private static Map&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; groupAttendanceByBirthAndName(List&lt;Student&gt; students) {\n        return students.stream()\n                .collect(Collectors.groupingBy(Student::getDateOfBirthAsString,\n                        Collectors.groupingBy(Student::getName,\n                                Collectors.mapping(Student::getDateAttendedClassAsString, Collectors.toList()))));\n    }\n\n    private static String formatEpochMilliAsDate(long epochMilli, DateTimeFormatter dateFormatter) {\n        return dateFormatter.format(Instant.ofEpochMilli(epochMilli).atZone(ZoneId.systemDefault()).toLocalDate());\n    }\n\n    private static long epochFromDate(String date) {\n        return LocalDate.parse(date).atStartOfDay(ZoneId.systemDefault()).toInstant().toEpochMilli();\n    }\n\n    private static Student createStudent(String name, String birthYear, String attendanceYear) {\n        return new Student(name, epochFromDate(birthYear), epochFromDate(attendanceYear));\n    }\n\n    private static class Student {\n        private String name;\n        private long dateOfBirth;\n        private long dateAttendedClass;\n\n        public Student(String name, long dateOfBirth, long dateAttendedClass) {\n            this.name = name;\n            this.dateOfBirth = dateOfBirth;\n            this.dateAttendedClass = dateAttendedClass;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public long getDateOfBirth() {\n            return dateOfBirth;\n        }\n\n        // Convenience method ~ Used for grouping and display\n        public String getDateOfBirthAsString() {\n            return formatEpochMilliAsDate(dateOfBirth, dateFormatter);\n        }\n\n        public long getDateAttendedClass() {\n            return dateAttendedClass;\n        }\n\n        // Convenience method ~ Used for grouping and display\n        public String getDateAttendedClassAsString() {\n            return formatEpochMilliAsDate(dateAttendedClass, yearFormatter);\n        }\n    }\n}\n</code></pre>\n<h2>Output</h2>\n<p>Raw <code>Map</code> output:</p>\n<pre><code>{1990-01-31={Billy=[2007, 2008], Alice=[2007, 2008]}, 1990-01-30={Billy=[2005, 2006], Alice=[2005, 2006]}}\n</code></pre>\n<p>I used Google's <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson library</a> to pretty-print the nested map as JSON. You could use Jackson's <a href=\"https://github.com/FasterXML/jackson-databind\" rel=\"nofollow noreferrer\"><code>ObjectMapper</code></a> as well.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;1990-01-31&quot;: {\n    &quot;Billy&quot;: [\n      &quot;2007&quot;,\n      &quot;2008&quot;\n    ],\n    &quot;Alice&quot;: [\n      &quot;2007&quot;,\n      &quot;2008&quot;\n    ]\n  },\n  &quot;1990-01-30&quot;: {\n    &quot;Billy&quot;: [\n      &quot;2005&quot;,\n      &quot;2006&quot;\n    ],\n    &quot;Alice&quot;: [\n      &quot;2005&quot;,\n      &quot;2006&quot;\n    ]\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4708698,"reputation":1254,"user_id":3809938,"accept_rate":44,"display_name":"user3809938"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75655623,"answer_count":2,"score":0,"last_activity_date":1678136072,"creation_date":1678131310,"question_id":75655095,"body_markdown":"I have below class\r\n\r\n    public class Data {\r\n    \t\r\n    \tString name;\r\n    \tString dateOfBirth;\r\n    \tString dateAttendedClass;\r\n    \r\n    }\r\n\r\nI have a list of Data and wanted to create a map of below:\r\n    \r\n    Map&lt;String Map&lt;String, List&lt;String&gt;&gt;&gt;\r\n\r\n    Map&lt;dateOfBirth Map&lt;name,list(dateAttendedClass)&gt;&gt;\r\n\r\nI managed to create a Map of \r\n    \r\n    Map&lt;name,list(dateAttendedClass)&gt;\r\n\r\nby doing this\r\n\r\n    \tMap&lt;String, List&lt;String&gt;&gt; nameAttendedClassMap = data.stream()\r\n\t\t\t\t.collect(Collectors.groupingBy(Data::getName,\r\n\t\t\t\t\t\tCollectors.mapping(Data::getDateAttended, Collectors.toList())));\r\n\r\nBut I am not sure how to collect this map further and have it in a map with the key being date of birth. \r\n\r\n    Map&lt;String Map&lt;String, List&lt;String&gt;&gt;&gt;\r\n\r\n\r\n","title":"How to collect a map of maps from stream","body":"<p>I have below class</p>\n<pre><code>public class Data {\n    \n    String name;\n    String dateOfBirth;\n    String dateAttendedClass;\n\n}\n</code></pre>\n<p>I have a list of Data and wanted to create a map of below:</p>\n<pre><code>Map&lt;String Map&lt;String, List&lt;String&gt;&gt;&gt;\n\nMap&lt;dateOfBirth Map&lt;name,list(dateAttendedClass)&gt;&gt;\n</code></pre>\n<p>I managed to create a Map of</p>\n<pre><code>Map&lt;name,list(dateAttendedClass)&gt;\n</code></pre>\n<p>by doing this</p>\n<pre><code>    Map&lt;String, List&lt;String&gt;&gt; nameAttendedClassMap = data.stream()\n            .collect(Collectors.groupingBy(Data::getName,\n                    Collectors.mapping(Data::getDateAttended, Collectors.toList())));\n</code></pre>\n<p>But I am not sure how to collect this map further and have it in a map with the key being date of birth.</p>\n<pre><code>Map&lt;String Map&lt;String, List&lt;String&gt;&gt;&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1678135579,"post_id":75655673,"comment_id":133471685,"body_markdown":"What do you mean by _dynamically_?","body":"What do you mean by <i>dynamically</i>?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1678135698,"post_id":75655673,"comment_id":133471713,"body_markdown":"There&#39;s aren&#39;t many &quot;good&quot; ways to do this in Java.  You can create a &quot;copy constructor&quot; that takes an object of `MyClass` and copies all of its fields.  You can use reflection to copy all fields.  You can use `clone()`, but that is deprecated.  You can serialize and deserialize objects, but that exposes a `Serializable` interface.","body":"There&#39;s aren&#39;t many &quot;good&quot; ways to do this in Java.  You can create a &quot;copy constructor&quot; that takes an object of <code>MyClass</code> and copies all of its fields.  You can use reflection to copy all fields.  You can use <code>clone()</code>, but that is deprecated.  You can serialize and deserialize objects, but that exposes a <code>Serializable</code> interface."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":1,"creation_date":1678139478,"post_id":75655673,"comment_id":133472519,"body_markdown":"I wouldn&#39;t try to create a class dynamically.  Because Java is a statically typed language, you would only be able to access it as an `Object`, and you would need to use reflection to access the values.  Have you considered simply creating a Map?  Since this is just a POJO and there&#39;s no behavior, this is the approach I would take.","body":"I wouldn&#39;t try to create a class dynamically.  Because Java is a statically typed language, you would only be able to access it as an <code>Object</code>, and you would need to use reflection to access the values.  Have you considered simply creating a Map?  Since this is just a POJO and there&#39;s no behavior, this is the approach I would take."},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":1,"creation_date":1678162653,"post_id":75655673,"comment_id":133475697,"body_markdown":"See if [this](https://stackoverflow.com/questions/12832554/how-to-add-attributes-dynamically-for-java-object) helps?","body":"See if <a href=\"https://stackoverflow.com/questions/12832554/how-to-add-attributes-dynamically-for-java-object\">this</a> helps?"},{"owner":{"account_id":17004455,"reputation":138,"user_id":12300985,"display_name":"Prashant Pandey"},"score":0,"creation_date":1678306356,"post_id":75655673,"comment_id":133509090,"body_markdown":"https://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java","body":"<a href=\"https://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java\" title=\"how do i copy an object in java\">stackoverflow.com/questions/869033/&hellip;</a>"}],"owner":{"account_id":1127972,"reputation":10009,"user_id":1114773,"accept_rate":46,"display_name":"More Than Five"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678135869,"creation_date":1678135537,"question_id":75655673,"body_markdown":"Suppose, I have a class like this...\r\n\r\n    public class MyClass {\r\n        private String firstName;\r\n        private String lastName;\r\n\r\n        public String getFirstName() // .... \r\n        // ... usual getters \r\n    }\r\n\r\nAnd I want to dynamically make a new object and has the exact same fields and values and add just three more? How do I do that.  One idea convert MyClass to a Map and just add the fields.\r\n\r\nAny better idea?\r\n\r\nThanks","title":"Copy object structure and values","body":"<p>Suppose, I have a class like this...</p>\n<pre><code>public class MyClass {\n    private String firstName;\n    private String lastName;\n\n    public String getFirstName() // .... \n    // ... usual getters \n}\n</code></pre>\n<p>And I want to dynamically make a new object and has the exact same fields and values and add just three more? How do I do that.  One idea convert MyClass to a Map and just add the fields.</p>\n<p>Any better idea?</p>\n<p>Thanks</p>\n"},{"tags":["java","file","bufferedreader"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1678049247,"post_id":75645091,"comment_id":133453477,"body_markdown":"look at the exit condition for the while loop: \n`while(curr != -1){ System.out.println(position() + currentChar()); }`\nIt looks like the new position and next character are calculated and printed and only then you&#39;re going to actually exit the while loop.","body":"look at the exit condition for the while loop:  <code>while(curr != -1){ System.out.println(position() + currentChar()); }</code> It looks like the new position and next character are calculated and printed and only then you&#39;re going to actually exit the while loop."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1678049416,"post_id":75645091,"comment_id":133453505,"body_markdown":"You&#39;ve got two issues that I can see.  First up, it looks like your lines end with CR + LF (carriage return = 13, then line feed = 10).  You&#39;re only checking for the CR; and you&#39;re treating the LF like any other character, except that it shows up as being the first character on the next line.  Also, the `println` within `nextChar` gets called BEFORE the `println` on the line where you call `nextChar`; and that makes your outputs appear out of order.","body":"You&#39;ve got two issues that I can see.  First up, it looks like your lines end with CR + LF (carriage return = 13, then line feed = 10).  You&#39;re only checking for the CR; and you&#39;re treating the LF like any other character, except that it shows up as being the first character on the next line.  Also, the <code>println</code> within <code>nextChar</code> gets called BEFORE the <code>println</code> on the line where you call <code>nextChar</code>; and that makes your outputs appear out of order."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1678049635,"post_id":75645091,"comment_id":133453540,"body_markdown":"Oh and the third issue - it looks like you&#39;re trying to print the end-of-file marker (the -1) as well, but for some reason, your console shows it as a ? mark.","body":"Oh and the third issue - it looks like you&#39;re trying to print the end-of-file marker (the -1) as well, but for some reason, your console shows it as a ? mark."},{"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"score":0,"creation_date":1678051993,"post_id":75645091,"comment_id":133453959,"body_markdown":"@DawoodibnKareem I removed the println and self-call. the output is not in order, but still includes the extra empty characters listed. Also, what exactly are CR and LF?","body":"@DawoodibnKareem I removed the println and self-call. the output is not in order, but still includes the extra empty characters listed. Also, what exactly are CR and LF?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1678056430,"post_id":75645091,"comment_id":133454554,"body_markdown":"beatmaister: see https://en.wikipedia.org/wiki/Newline . BTW if you want to see _exactly_ what is in a file on Windows, try `format-hex filename` in powershell (or the alias `fhx`).","body":"beatmaister: see <a href=\"https://en.wikipedia.org/wiki/Newline\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Newline</a> . BTW if you want to see <i>exactly</i> what is in a file on Windows, try <code>format-hex filename</code> in powershell (or the alias <code>fhx</code>)."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1678059941,"post_id":75645091,"comment_id":133454995,"body_markdown":"Which println did you remove?  Do you understand WHY it was not in order before?  And did you read the bit in parentheses in my earlier comment about Carriage Return (CR) and Line Feed (LF)?","body":"Which println did you remove?  Do you understand WHY it was not in order before?  And did you read the bit in parentheses in my earlier comment about Carriage Return (CR) and Line Feed (LF)?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1678135839,"post_id":75645091,"comment_id":133471742,"body_markdown":"If you just use [`readLine()`](https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#readLine--) and then step over the characters in the resulting string (`readLine()` auto removes end of line characters) then you should be fine. Increase the line for each line read, and then use the index in the string for the second column.","body":"If you just use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#readLine--\" rel=\"nofollow noreferrer\"><code>readLine()</code></a> and then step over the characters in the resulting string (<code>readLine()</code> auto removes end of line characters) then you should be fine. Increase the line for each line read, and then use the index in the string for the second column."}],"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678135628,"creation_date":1678047571,"question_id":75645091,"body_markdown":"This code reads a text file character by character.\r\nIt prints the line number, character number, and the character using different functions.\r\n\r\nThe `nextChar()` function correctly changes the line and character numbers but still prints the wrong ones before the increment.\r\nFor example, this input text should go from &quot;1 : 5 o&quot; to &quot;2 : 0  &quot; then &quot;2 : 1 C&quot;. But it prints &quot;1 : 6  &quot; before the &quot;2 : 0  &quot; ...\r\nAlso it reads a &quot;?&quot; at the end of the file for some reason.\r\n\r\n    public static void main(String[] args){\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            String fileName = &quot;&quot;;\r\n            System.out.print(&quot;Enter the file name: &quot;);\r\n            fileName = scanner.nextLine();\r\n            if(fileName.equalsIgnoreCase(&quot;quit&quot;) || fileName.equalsIgnoreCase(&quot;exit&quot;)){System.out.println(&quot;Exitting...&quot;); return;}\r\n    \r\n    \r\n            while(!fileName.equalsIgnoreCase(&quot;quit&quot;) || !fileName.equalsIgnoreCase(&quot;exit&quot;)){\r\n                \r\n                try{\r\n                    File file = new File(fileName);\r\n                    FileReader fr = new FileReader(file);\r\n                    br = new BufferedReader(fr);\r\n                    \r\n                    while(curr != -1){\r\n                        System.out.println(position() + currentChar());\r\n                    }\r\n    \r\n                }\r\n                catch(FileNotFoundException e){\r\n                    System.out.println(&quot;file not found, check file name&quot;);\r\n                    break;\r\n                }\r\n                \r\n                System.out.print(&quot;Enter the file name: &quot;);\r\n                fileName = scanner.nextLine();\r\n                if(fileName.equalsIgnoreCase(&quot;quit&quot;) || fileName.equalsIgnoreCase(&quot;exit&quot;)){System.out.println(&quot;Exitting...&quot;); return;}       \r\n            }\r\n            scanner.close();\r\n    \r\n        }\r\n    \r\n        public static String position(){\r\n            String pos = line + &quot; : &quot; + ch + &quot; &quot;;\r\n            return pos;\r\n        }\r\n    \r\n        public static void nextChar(BufferedReader br){\r\n            try{\r\n                curr = br.read();\r\n                if(curr==13){\r\n                    line++; ch=0;\r\n                    System.out.println(line + &quot; : &quot; + ch + &quot;&quot;);\r\n                    nextChar(br);\r\n    \r\n                }else{ ch++; }\r\n            }catch(IOException e){\r\n                System.out.println(&quot;invalid file input&quot;);\r\n            }\r\n        }\r\n    \r\n        public static char currentChar(){\r\n            nextChar(br);\r\n            currChar = (char) curr;\r\n            return currChar;\r\n        }\r\n    }\r\n\r\nInput text:\r\n   \r\n```none\r\nHello\r\nCOSC 455!\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nEnter the file name: input.txt\r\n1 : 1 H\r\n1 : 2 e\r\n1 : 3 l\r\n1 : 4 l\r\n1 : 5 o\r\n2 : 0\r\n1 : 6\r\n\r\n2 : 1 C\r\n2 : 2 O\r\n2 : 3 S\r\n2 : 4 C\r\n2 : 5\r\n2 : 6 4\r\n2 : 7 5\r\n2 : 8 5\r\n2 : 9 !\r\n3 : 0\r\n2 : 10\r\n\r\n3 : 1 ?\r\n```\r\n","title":"Code to read file prints extra characters","body":"<p>This code reads a text file character by character.\nIt prints the line number, character number, and the character using different functions.</p>\n<p>The <code>nextChar()</code> function correctly changes the line and character numbers but still prints the wrong ones before the increment.\nFor example, this input text should go from &quot;1 : 5 o&quot; to &quot;2 : 0  &quot; then &quot;2 : 1 C&quot;. But it prints &quot;1 : 6  &quot; before the &quot;2 : 0  &quot; ...\nAlso it reads a &quot;?&quot; at the end of the file for some reason.</p>\n<pre><code>public static void main(String[] args){\n        Scanner scanner = new Scanner(System.in);\n\n        String fileName = &quot;&quot;;\n        System.out.print(&quot;Enter the file name: &quot;);\n        fileName = scanner.nextLine();\n        if(fileName.equalsIgnoreCase(&quot;quit&quot;) || fileName.equalsIgnoreCase(&quot;exit&quot;)){System.out.println(&quot;Exitting...&quot;); return;}\n\n\n        while(!fileName.equalsIgnoreCase(&quot;quit&quot;) || !fileName.equalsIgnoreCase(&quot;exit&quot;)){\n            \n            try{\n                File file = new File(fileName);\n                FileReader fr = new FileReader(file);\n                br = new BufferedReader(fr);\n                \n                while(curr != -1){\n                    System.out.println(position() + currentChar());\n                }\n\n            }\n            catch(FileNotFoundException e){\n                System.out.println(&quot;file not found, check file name&quot;);\n                break;\n            }\n            \n            System.out.print(&quot;Enter the file name: &quot;);\n            fileName = scanner.nextLine();\n            if(fileName.equalsIgnoreCase(&quot;quit&quot;) || fileName.equalsIgnoreCase(&quot;exit&quot;)){System.out.println(&quot;Exitting...&quot;); return;}       \n        }\n        scanner.close();\n\n    }\n\n    public static String position(){\n        String pos = line + &quot; : &quot; + ch + &quot; &quot;;\n        return pos;\n    }\n\n    public static void nextChar(BufferedReader br){\n        try{\n            curr = br.read();\n            if(curr==13){\n                line++; ch=0;\n                System.out.println(line + &quot; : &quot; + ch + &quot;&quot;);\n                nextChar(br);\n\n            }else{ ch++; }\n        }catch(IOException e){\n            System.out.println(&quot;invalid file input&quot;);\n        }\n    }\n\n    public static char currentChar(){\n        nextChar(br);\n        currChar = (char) curr;\n        return currChar;\n    }\n}\n</code></pre>\n<p>Input text:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Hello\nCOSC 455!\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter the file name: input.txt\n1 : 1 H\n1 : 2 e\n1 : 3 l\n1 : 4 l\n1 : 5 o\n2 : 0\n1 : 6\n\n2 : 1 C\n2 : 2 O\n2 : 3 S\n2 : 4 C\n2 : 5\n2 : 6 4\n2 : 7 5\n2 : 8 5\n2 : 9 !\n3 : 0\n2 : 10\n\n3 : 1 ?\n</code></pre>\n"},{"tags":["java","collections","simulation","anylogic","agent"],"answers":[{"tags":[],"owner":{"account_id":10243439,"reputation":706,"user_id":7560058,"display_name":"Amy Brown Greer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678135603,"creation_date":1678135603,"answer_id":75655682,"question_id":75655247,"body_markdown":"    route = (ArrayList&lt;Order&gt;)sortAscending( route, o -&gt; o.deliveryOrder );\r\n\r\nA few notes:\r\n\r\n - sortAscending will return a new sorted list, so be sure to say route = sortAscending.  I made the mistake more than once of just saying sortAscending( collection, value ) and being surprised when my list did not sort.\r\n - sortAscending will return a list, and a collection on the AnyLogic canvas will be an ArrayList, LinkedHashMap, or something more specific than just List, so you need to cast.\r\n- your collection of route needs to specify that it is items of type order, or else java doesn&#39;t know that the o in the value express is an order and it cannot see o.deliveryOrder\r\n\r\n","title":"Anylogic: Sort agents in a collection by a parameter of the agents","body":"<pre><code>route = (ArrayList&lt;Order&gt;)sortAscending( route, o -&gt; o.deliveryOrder );\n</code></pre>\n<p>A few notes:</p>\n<ul>\n<li>sortAscending will return a new sorted list, so be sure to say route = sortAscending.  I made the mistake more than once of just saying sortAscending( collection, value ) and being surprised when my list did not sort.</li>\n<li>sortAscending will return a list, and a collection on the AnyLogic canvas will be an ArrayList, LinkedHashMap, or something more specific than just List, so you need to cast.</li>\n<li>your collection of route needs to specify that it is items of type order, or else java doesn't know that the o in the value express is an order and it cannot see o.deliveryOrder</li>\n</ul>\n"}],"owner":{"account_id":27385707,"reputation":1,"user_id":20889562,"display_name":"mpardi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678135603,"creation_date":1678132382,"question_id":75655247,"body_markdown":"I am working on a siumulation of last mile delivery with multiple deliveries by truck. In order to make the shortest routing I&#39;m working with an external program which optimize the order of the deliveries which output of the program sort the delivers by a number. I save this and input it in anylogic by a parameter called deliveryOrder in my Order agent.\r\n\r\nWhen I create the truck agent and pick the orders by a pickup block, I store the orders agents in a collection inside each truck called route for the multiple delivery.\r\n\r\nMy biggest concern is when I want to sort the order agents inside route collection of everytruck by deliveryOrder ascending. I could not understand if i can sort agents in a collection with the parameter deliveryOrder. How can i do this?\r\n\r\n[pickup block where i want to sort](https://i.stack.imgur.com/5PRGv.png)\r\n\r\n[van parameters and collection](https://i.stack.imgur.com/dZEt4.png)\r\n\r\n[order parameters](https://i.stack.imgur.com/Eb8az.png)\r\n\r\nI read the anylogic help but I couldnt figure it out how to do it.","title":"Anylogic: Sort agents in a collection by a parameter of the agents","body":"<p>I am working on a siumulation of last mile delivery with multiple deliveries by truck. In order to make the shortest routing I'm working with an external program which optimize the order of the deliveries which output of the program sort the delivers by a number. I save this and input it in anylogic by a parameter called deliveryOrder in my Order agent.</p>\n<p>When I create the truck agent and pick the orders by a pickup block, I store the orders agents in a collection inside each truck called route for the multiple delivery.</p>\n<p>My biggest concern is when I want to sort the order agents inside route collection of everytruck by deliveryOrder ascending. I could not understand if i can sort agents in a collection with the parameter deliveryOrder. How can i do this?</p>\n<p><a href=\"https://i.stack.imgur.com/5PRGv.png\" rel=\"nofollow noreferrer\">pickup block where i want to sort</a></p>\n<p><a href=\"https://i.stack.imgur.com/dZEt4.png\" rel=\"nofollow noreferrer\">van parameters and collection</a></p>\n<p><a href=\"https://i.stack.imgur.com/Eb8az.png\" rel=\"nofollow noreferrer\">order parameters</a></p>\n<p>I read the anylogic help but I couldnt figure it out how to do it.</p>\n"},{"tags":["java","amqp","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1680405263,"post_id":75652974,"comment_id":133892101,"body_markdown":"Any feedback here? Did my answer address your question?","body":"Any feedback here? Did my answer address your question?"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678134597,"creation_date":1678125042,"answer_id":75654178,"question_id":75652974,"body_markdown":"Both AMQP and core are *messaging* protocols.\r\n\r\nAMQP is an [OASIS standard protocol][1] which is supported by a number of different message brokers and has client implementations in many different languages across many different platforms. AMQP has broad industry support and is great for interoperability. It is 100% independent of ActiveMQ Artemis which is why the ActiveMQ Artemis documentation doesn&#39;t explain how it works. That kind information is available in the AMQP specification itself.\r\n\r\nThe core protocol supported by ActiveMQ Artemis is _only_ supported by ActiveMQ Artemis and no other brokers. There are client implementations for both the JMS API and the core API. Both of these are in written in Java. There are no other client implementations.\r\n\r\nPerformance of both protocol implementations in the broker is roughly equivalent.\r\n\r\nGenerally speaking you&#39;d probably want to use AMQP rather than core for interoperability and portability.\r\n\r\n\r\n  [1]: https://www.amqp.org/resources/download","title":"What is the difference between the AMQP protocol and CORE in ActiveMQ","body":"<p>Both AMQP and core are <em>messaging</em> protocols.</p>\n<p>AMQP is an <a href=\"https://www.amqp.org/resources/download\" rel=\"nofollow noreferrer\">OASIS standard protocol</a> which is supported by a number of different message brokers and has client implementations in many different languages across many different platforms. AMQP has broad industry support and is great for interoperability. It is 100% independent of ActiveMQ Artemis which is why the ActiveMQ Artemis documentation doesn't explain how it works. That kind information is available in the AMQP specification itself.</p>\n<p>The core protocol supported by ActiveMQ Artemis is <em>only</em> supported by ActiveMQ Artemis and no other brokers. There are client implementations for both the JMS API and the core API. Both of these are in written in Java. There are no other client implementations.</p>\n<p>Performance of both protocol implementations in the broker is roughly equivalent.</p>\n<p>Generally speaking you'd probably want to use AMQP rather than core for interoperability and portability.</p>\n"}],"owner":{"account_id":25716131,"reputation":3,"user_id":19473884,"display_name":" "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678134597,"creation_date":1678117851,"question_id":75652974,"body_markdown":"I want to understand what is the difference between these protocols and where is it better to use which one\r\n\r\nThere is no normal explanation of these protocols in the official documentation","title":"What is the difference between the AMQP protocol and CORE in ActiveMQ","body":"<p>I want to understand what is the difference between these protocols and where is it better to use which one</p>\n<p>There is no normal explanation of these protocols in the official documentation</p>\n"},{"tags":["java","variables","static-methods","program-entry-point","void"],"comments":[{"owner":{"account_id":476735,"reputation":2038,"user_id":887798,"accept_rate":100,"display_name":"Erich Schreiner"},"score":3,"creation_date":1342526536,"post_id":11522026,"comment_id":15228251,"body_markdown":"Static methods can not access non-static fields, but of course you can define local variables in the method itself (and through those access non-static fields). Please give an example to clarify.","body":"Static methods can not access non-static fields, but of course you can define local variables in the method itself (and through those access non-static fields). Please give an example to clarify."}],"answers":[{"tags":[],"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1342527202,"creation_date":1342526514,"answer_id":11522055,"question_id":11522026,"body_markdown":"No, it doesn&#39;t.\r\n\r\n    public class A {\r\n      int a = 2;\r\n      public static void main(String[] args) {\r\n        System.out.println(a); // won&#39;t compile!!\r\n      }\r\n    }\r\nbut\r\n\r\n    public class A {\r\n      static int a = 2;\r\n      public static void main(String[] args) {\r\n        System.out.println(a); // this works!\r\n      }\r\n    }\r\nor if you instantiate `A`\r\n\r\n    public class A {\r\n      int a = 2;\r\n      public static void main(String[] args) {\r\n        A myA = new A();\r\n        System.out.println(myA.a); // this works too!\r\n      }\r\n    }\r\n\r\nAlso \r\n\r\n    public class A {\r\n      public static void main(String[] args) {\r\n        int a = 2;\r\n        System.out.println(a); // this works too!\r\n      }\r\n    }\r\nwill work, since `a` is a local variable here, and not an instance variable. A method local variable is always reachable during the execution of the method, regardless of if the method is `static` or not.","title":"public static void main () access non static variable","body":"<p>No, it doesn't.</p>\n\n<pre><code>public class A {\n  int a = 2;\n  public static void main(String[] args) {\n    System.out.println(a); // won't compile!!\n  }\n}\n</code></pre>\n\n<p>but</p>\n\n<pre><code>public class A {\n  static int a = 2;\n  public static void main(String[] args) {\n    System.out.println(a); // this works!\n  }\n}\n</code></pre>\n\n<p>or if you instantiate <code>A</code></p>\n\n<pre><code>public class A {\n  int a = 2;\n  public static void main(String[] args) {\n    A myA = new A();\n    System.out.println(myA.a); // this works too!\n  }\n}\n</code></pre>\n\n<p>Also </p>\n\n<pre><code>public class A {\n  public static void main(String[] args) {\n    int a = 2;\n    System.out.println(a); // this works too!\n  }\n}\n</code></pre>\n\n<p>will work, since <code>a</code> is a local variable here, and not an instance variable. A method local variable is always reachable during the execution of the method, regardless of if the method is <code>static</code> or not.</p>\n"},{"tags":[],"owner":{"account_id":1028420,"reputation":18799,"user_id":1037210,"accept_rate":100,"display_name":"Lion"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1342527985,"creation_date":1342526545,"answer_id":11522063,"question_id":11522026,"body_markdown":"The main method does not have access to non-static members either.  \r\n\r\n    final public class Demo\r\n    {\r\n       private String instanceVariable;\r\n       private static String staticVariable;\r\n       \r\n       public String instanceMethod()\r\n       {\r\n          return &quot;instance&quot;;\r\n       }\r\n       \r\n       public static String staticMethod()\r\n       {\r\n          return &quot;static&quot;;\r\n       }\r\n       \r\n       public static void main(String[] args)\r\n       {\r\n          System.out.println(staticVariable); // ok\r\n          System.out.println(Demo.staticMethod()); // ok\r\n          \r\n          System.out.println(new Demo().instanceMethod()); // ok\r\n          System.out.println(new Demo().instanceVariable); // ok\r\n          \r\n          System.out.println(Demo.instanceMethod()); // wrong\r\n          System.out.println(instanceVariable);         // wrong \r\n       }\r\n    }\r\n\r\nThis is because by default when you call a method or variable it is really accessing the `this.method()` or this.variable. But in the main() method or any other static method(), no &quot;this&quot; objects has yet been created.\r\n\r\nIn this sense, the static method is not a part of the object instance of the class that contains it. This is the idea behind utility classes.\r\n\r\nTo call any non-static method or variable in a static context, you need to first construct the object with a constructor or a factory like your would anywhere outside of the class.\r\n\r\n\r\n----------\r\n\r\n\r\nMore depth:\r\n\r\nBasically it&#39;s a flaw in the design of Java IMO which allows static members (methods and fields) to be referenced *as if* they were instance members. This can be very confusing in code like this:\r\n\r\n    Thread newThread = new Thread(runnable);\r\n    newThread.start();\r\n    newThread.sleep(1000);\r\n\r\nThat *looks* like it&#39;s sending the new thread to sleep, but it *actually* compiles down into code like this:\r\n\r\n    Thread newThread = new Thread(runnable);\r\n    newThread.start();\r\n    Thread.sleep(1000);\r\n\r\nbecause `sleep` is a static method which only ever makes the *current* thread sleep.\r\n\r\nIndeed, the variable isn&#39;t even checked for non-nullity (any more; it used to be, I believe):\r\n\r\n    Thread t = null;\r\n    t.sleep(1000);\r\n\r\nSome IDEs can be configured to issue a warning or error for code like this - you shouldn&#39;t do it, as it hurts readability. (This is one of the flaws which was corrected by C#...)","title":"public static void main () access non static variable","body":"<p>The main method does not have access to non-static members either.  </p>\n\n<pre><code>final public class Demo\n{\n   private String instanceVariable;\n   private static String staticVariable;\n\n   public String instanceMethod()\n   {\n      return \"instance\";\n   }\n\n   public static String staticMethod()\n   {\n      return \"static\";\n   }\n\n   public static void main(String[] args)\n   {\n      System.out.println(staticVariable); // ok\n      System.out.println(Demo.staticMethod()); // ok\n\n      System.out.println(new Demo().instanceMethod()); // ok\n      System.out.println(new Demo().instanceVariable); // ok\n\n      System.out.println(Demo.instanceMethod()); // wrong\n      System.out.println(instanceVariable);         // wrong \n   }\n}\n</code></pre>\n\n<p>This is because by default when you call a method or variable it is really accessing the <code>this.method()</code> or this.variable. But in the main() method or any other static method(), no \"this\" objects has yet been created.</p>\n\n<p>In this sense, the static method is not a part of the object instance of the class that contains it. This is the idea behind utility classes.</p>\n\n<p>To call any non-static method or variable in a static context, you need to first construct the object with a constructor or a factory like your would anywhere outside of the class.</p>\n\n<hr>\n\n<p>More depth:</p>\n\n<p>Basically it's a flaw in the design of Java IMO which allows static members (methods and fields) to be referenced <em>as if</em> they were instance members. This can be very confusing in code like this:</p>\n\n<pre><code>Thread newThread = new Thread(runnable);\nnewThread.start();\nnewThread.sleep(1000);\n</code></pre>\n\n<p>That <em>looks</em> like it's sending the new thread to sleep, but it <em>actually</em> compiles down into code like this:</p>\n\n<pre><code>Thread newThread = new Thread(runnable);\nnewThread.start();\nThread.sleep(1000);\n</code></pre>\n\n<p>because <code>sleep</code> is a static method which only ever makes the <em>current</em> thread sleep.</p>\n\n<p>Indeed, the variable isn't even checked for non-nullity (any more; it used to be, I believe):</p>\n\n<pre><code>Thread t = null;\nt.sleep(1000);\n</code></pre>\n\n<p>Some IDEs can be configured to issue a warning or error for code like this - you shouldn't do it, as it hurts readability. (This is one of the flaws which was corrected by C#...)</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1342527075,"creation_date":1342526597,"answer_id":11522072,"question_id":11522026,"body_markdown":"Yes, the main method may access non-static variables, but only indirectly **through actual instances**.\r\n\r\nExample:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Example ex = new Example();\r\n            ex.variable = 5;\r\n        }\r\n    }\r\n\r\n    class Example {\r\n        public int variable;\r\n    }\r\n\r\nWhat people mean when they say *&quot;non-static variables cannot be used in a static method&quot;* is that **non-static members of the same class** can&#39;t be directly accessed (as shown in [Keppils answer](https://stackoverflow.com/a/11522055/276052) for instance).\r\n\r\n**Related question:**\r\n\r\n- https://stackoverflow.com/questions/7893755/accessing-non-static-members-through-the-main-method-in-java\r\n\r\n\r\n----------\r\n\r\n\r\n**Update:**\r\n\r\nWhen talking about non-static variables one implicitly means *member variables*. (Since local variables can&#39;t possible have a static modifier anyway.)\r\n\r\nIn the code\r\n\r\n    public class A {\r\n        public static void main(String[] args) {\r\n            int a = 2;\r\n            System.out.println(a); // this works!\r\n        }\r\n    }\r\n\r\nyou&#39;re declaring a *local* variable (which typically is not referred to as non-static even though it doesn&#39;t have a static modifier).","title":"public static void main () access non static variable","body":"<p>Yes, the main method may access non-static variables, but only indirectly <strong>through actual instances</strong>.</p>\n\n<p>Example:</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Example ex = new Example();\n        ex.variable = 5;\n    }\n}\n\nclass Example {\n    public int variable;\n}\n</code></pre>\n\n<p>What people mean when they say <em>\"non-static variables cannot be used in a static method\"</em> is that <strong>non-static members of the same class</strong> can't be directly accessed (as shown in <a href=\"https://stackoverflow.com/a/11522055/276052\">Keppils answer</a> for instance).</p>\n\n<p><strong>Related question:</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/7893755/accessing-non-static-members-through-the-main-method-in-java\">Accessing non-static members through the main method in Java</a></li>\n</ul>\n\n<hr>\n\n<p><strong>Update:</strong></p>\n\n<p>When talking about non-static variables one implicitly means <em>member variables</em>. (Since local variables can't possible have a static modifier anyway.)</p>\n\n<p>In the code</p>\n\n<pre><code>public class A {\n    public static void main(String[] args) {\n        int a = 2;\n        System.out.println(a); // this works!\n    }\n}\n</code></pre>\n\n<p>you're declaring a <em>local</em> variable (which typically is not referred to as non-static even though it doesn't have a static modifier).</p>\n"},{"tags":[],"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342526680,"creation_date":1342526680,"answer_id":11522089,"question_id":11522026,"body_markdown":"You can create non-static references in static methods like :\r\n\r\n    static void method() {\r\n       A a = new A();\r\n    }\r\n\r\nSame thing we do in case of `public static void main(String[] args)` method","title":"public static void main () access non static variable","body":"<p>You can create non-static references in static methods like :</p>\n\n<pre><code>static void method() {\n   A a = new A();\n}\n</code></pre>\n\n<p>Same thing we do in case of <code>public static void main(String[] args)</code> method</p>\n"},{"tags":[],"owner":{"account_id":5317889,"reputation":838,"user_id":4242131,"accept_rate":0,"display_name":"Sufyan Ahmad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491084299,"creation_date":1491084299,"answer_id":43162495,"question_id":11522026,"body_markdown":"**Here you can see table that clear the access of static and non-static data members in static and non-static methods. **[![static non-static table][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I069d.png\r\n","title":"public static void main () access non static variable","body":"<p>**Here you can see table that clear the access of static and non-static data members in static and non-static methods. **<a href=\"https://i.stack.imgur.com/I069d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I069d.png\" alt=\"static non-static table\"></a></p>\n"},{"tags":[],"owner":{"account_id":11115749,"reputation":1,"user_id":8381890,"display_name":"Abhishek Paithane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678134045,"creation_date":1533090430,"answer_id":51624576,"question_id":11522026,"body_markdown":"    public class XYZ\r\n    {\r\n       int i=0;\r\n\r\n       public static void increment()\r\n       {\r\n           i++;   \r\n       }\r\n    }\r\n\r\n    public class M\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            XYZ o1 = new XYZ();\r\n            XYZ o2 = new XYZ();\r\n            o1.increment(); \r\n            XYZ.increment(); // system wont be able to know i belongs to which object \r\n                      // as it increment method (static method) can be called using class name system \r\n                      // will be confused changes belongs to which object.\r\n        }\r\n    }\r\n\r\n","title":"public static void main () access non static variable","body":"<pre><code>public class XYZ\n{\n   int i=0;\n\n   public static void increment()\n   {\n       i++;   \n   }\n}\n\npublic class M\n{\n    public static void main(String[] args)\n    {\n        XYZ o1 = new XYZ();\n        XYZ o2 = new XYZ();\n        o1.increment(); \n        XYZ.increment(); // system wont be able to know i belongs to which object \n                  // as it increment method (static method) can be called using class name system \n                  // will be confused changes belongs to which object.\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1657567,"reputation":817,"user_id":1526671,"accept_rate":8,"display_name":"user1526671"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50255,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"answer_count":6,"score":14,"last_activity_date":1678134045,"creation_date":1342526411,"question_id":11522026,"body_markdown":"It is said that **non-static variables** cannot be used in a static method.  But `public static void main` does.  How is that?","title":"public static void main () access non static variable","body":"<p>It is said that <strong>non-static variables</strong> cannot be used in a static method.  But <code>public static void main</code> does.  How is that?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10242,"reputation":12230,"user_id":19246,"accept_rate":82,"display_name":"Martin C."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678128843,"creation_date":1678128843,"answer_id":75654739,"question_id":75654700,"body_markdown":"You don&#39;t need a second loop, since they are not doing the same:\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n        int[][] nums = new int[10][2];\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            nums[i][0] = (int) (Math.random() * 5 + 1);\r\n            nums[i][1] = (int) (Math.random() * 10 + 1);\r\n        }\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            System.out.println(nums[i][0] + &quot; x &quot; + nums[i][1] + &quot; = &quot;);\r\n        }\r\n    }\r\n```\r\n\r\nAlso it&#39;s better to create an explicit `Random` object, because in that case you get access to a more readable API, that does not require casting to `int`, and you can also create identical sequences by playing around with the seed when creating the random generator:\r\n\r\n```java\r\nimport java.util.Random;\r\n\r\npublic class TimeTable {\r\n    public static void main(String[] args) {\r\n        int[][] nums = new int[10][2];\r\n        Random random = new Random(/* you can put a seed here to get identical sequences*/);\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            nums[i][0] = random.nextInt(5) + 1;\r\n            nums[i][1] = random.nextInt(10) + 1;\r\n        }\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            System.out.println(nums[i][0] + &quot; x &quot; + nums[i][1] + &quot; = &quot;);\r\n        }\r\n    }\r\n}\r\n```","title":"Multi-Dimensional Arrays in Java Math.Random - Limiting numbers seperately for each column","body":"<p>You don't need a second loop, since they are not doing the same:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        int[][] nums = new int[10][2];\n\n        for (int i = 0; i &lt; 10; i++) {\n            nums[i][0] = (int) (Math.random() * 5 + 1);\n            nums[i][1] = (int) (Math.random() * 10 + 1);\n        }\n\n        for (int i = 0; i &lt; 10; i++) {\n            System.out.println(nums[i][0] + &quot; x &quot; + nums[i][1] + &quot; = &quot;);\n        }\n    }\n</code></pre>\n<p>Also it's better to create an explicit <code>Random</code> object, because in that case you get access to a more readable API, that does not require casting to <code>int</code>, and you can also create identical sequences by playing around with the seed when creating the random generator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\n\npublic class TimeTable {\n    public static void main(String[] args) {\n        int[][] nums = new int[10][2];\n        Random random = new Random(/* you can put a seed here to get identical sequences*/);\n\n        for (int i = 0; i &lt; 10; i++) {\n            nums[i][0] = random.nextInt(5) + 1;\n            nums[i][1] = random.nextInt(10) + 1;\n        }\n\n        for (int i = 0; i &lt; 10; i++) {\n            System.out.println(nums[i][0] + &quot; x &quot; + nums[i][1] + &quot; = &quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678130825,"creation_date":1678130478,"answer_id":75654975,"question_id":75654700,"body_markdown":"Here is an easy way to do it.  Change your array to index columns first, then rows.  You don&#39;t need a loop to fill the arrays.  The formatted print statement helps keep the &#39;=&#39; aligned.\r\n\r\n- Random.ints arguments are `count, minValue, maxValue (exclusive)`\r\n```\r\npublic class TimeTable {\r\n    public static void main(String[] args) {\r\n        int[][] nums = new int[2][]; // length determined by Random\r\n        Random r = new Random();\r\n        nums[0] = r.ints(10, 1, 6).toArray(); // 1 thru 5 inclusive\r\n        nums[1] = r.ints(10, 1, 11).toArray();// 1 thru 10 inclusive\r\n        for (int i = 0; i &lt; nums[0].length; i++) {\r\n            System.out.printf(&quot;%d x %-2d = %n&quot;, nums[0][i], nums[1][i]);\r\n        }\r\n    }\r\n}\r\n```\r\nprints\r\n```\r\n3 x 2  = \r\n1 x 3  = \r\n4 x 10 = \r\n1 x 9  = \r\n3 x 5  = \r\n5 x 4  = \r\n1 x 1  = \r\n2 x 4  = \r\n2 x 10 = \r\n1 x 1  = ","title":"Multi-Dimensional Arrays in Java Math.Random - Limiting numbers seperately for each column","body":"<p>Here is an easy way to do it.  Change your array to index columns first, then rows.  You don't need a loop to fill the arrays.  The formatted print statement helps keep the '=' aligned.</p>\n<ul>\n<li>Random.ints arguments are <code>count, minValue, maxValue (exclusive)</code></li>\n</ul>\n<pre><code>public class TimeTable {\n    public static void main(String[] args) {\n        int[][] nums = new int[2][]; // length determined by Random\n        Random r = new Random();\n        nums[0] = r.ints(10, 1, 6).toArray(); // 1 thru 5 inclusive\n        nums[1] = r.ints(10, 1, 11).toArray();// 1 thru 10 inclusive\n        for (int i = 0; i &lt; nums[0].length; i++) {\n            System.out.printf(&quot;%d x %-2d = %n&quot;, nums[0][i], nums[1][i]);\n        }\n    }\n}\n</code></pre>\n<p>prints</p>\n<pre><code>3 x 2  = \n1 x 3  = \n4 x 10 = \n1 x 9  = \n3 x 5  = \n5 x 4  = \n1 x 1  = \n2 x 4  = \n2 x 10 = \n1 x 1  = \n</code></pre>\n"}],"owner":{"account_id":25679730,"reputation":15,"user_id":19442685,"display_name":"Erhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75654739,"answer_count":2,"score":1,"last_activity_date":1678133755,"creation_date":1678128576,"question_id":75654700,"body_markdown":"Currently, I am in the process of learning how to code. My goal is to develop a software application that generates multiplication questions randomly. In order to achieve this, I would like to restrict the random numbers generated in the first column of the multi-dimensional array to a maximum of 5, and to a maximum of 10 in the second column. I have made some progress in limiting the range of Math.random to 5 or any specified number, but unfortunately, this limitation applies to every column in the array.\r\n\r\nHere is my code:\r\n\r\n```\r\npackage exercises;\r\n\r\npublic class TimeTable {\r\n    public static void main(String[] args) {\r\n        int[][] nums = new int[10][2];\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            for (int j = 0; j &lt; 2; j++) {\r\n                nums[i][j] = (int) (Math.random() * 5 + 1);\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n\r\n            System.out.println(nums[i][0] + &quot; x &quot; + nums[i][1] + &quot; = &quot;);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand the output is : \r\n\r\n```\r\n3 x 2 = \r\n1 x 1 = \r\n5 x 4 = \r\n2 x 4 = \r\n5 x 3 = \r\n1 x 4 = \r\n5 x 1 = \r\n2 x 5 = \r\n3 x 3 = \r\n5 x 1 = \r\n```\r\nFrom the previous example, it can be observed that the numbers on both sides of the multiplication questions are restricted to a maximum of 5. However, my objective is to limit the first column to a maximum of 5 while allowing the second column to reach a maximum of 10. This will enable children to focus on specific numbers while practicing multiplication.\r\n\r\nI have attempted to find solutions by reviewing documentation and searching for previously asked questions on StackOverflow, but I have yet to find a viable solution. Thank you for your assistance.","title":"Multi-Dimensional Arrays in Java Math.Random - Limiting numbers seperately for each column","body":"<p>Currently, I am in the process of learning how to code. My goal is to develop a software application that generates multiplication questions randomly. In order to achieve this, I would like to restrict the random numbers generated in the first column of the multi-dimensional array to a maximum of 5, and to a maximum of 10 in the second column. I have made some progress in limiting the range of Math.random to 5 or any specified number, but unfortunately, this limitation applies to every column in the array.</p>\n<p>Here is my code:</p>\n<pre><code>package exercises;\n\npublic class TimeTable {\n    public static void main(String[] args) {\n        int[][] nums = new int[10][2];\n\n        for (int i = 0; i &lt; 10; i++) {\n            for (int j = 0; j &lt; 2; j++) {\n                nums[i][j] = (int) (Math.random() * 5 + 1);\n            }\n        }\n\n        for (int i = 0; i &lt; 10; i++) {\n\n            System.out.println(nums[i][0] + &quot; x &quot; + nums[i][1] + &quot; = &quot;);\n\n        }\n    }\n}\n</code></pre>\n<p>and the output is :</p>\n<pre><code>3 x 2 = \n1 x 1 = \n5 x 4 = \n2 x 4 = \n5 x 3 = \n1 x 4 = \n5 x 1 = \n2 x 5 = \n3 x 3 = \n5 x 1 = \n</code></pre>\n<p>From the previous example, it can be observed that the numbers on both sides of the multiplication questions are restricted to a maximum of 5. However, my objective is to limit the first column to a maximum of 5 while allowing the second column to reach a maximum of 10. This will enable children to focus on specific numbers while practicing multiplication.</p>\n<p>I have attempted to find solutions by reviewing documentation and searching for previously asked questions on StackOverflow, but I have yet to find a viable solution. Thank you for your assistance.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","transactions"],"owner":{"account_id":27950937,"reputation":1,"user_id":21344813,"display_name":"jakub99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678133521,"creation_date":1678133521,"question_id":75655418,"body_markdown":"I have a problem with my Transaction Management class in my project. After I add TransactionManagerConfig class to my project, entities are not creating in my database anymore.\r\n\r\nHere&#39;s my TransactionManagerConfig class:\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\npublic class TransactionManagerConfig {\r\n\r\n    @Autowired\r\n    private HibernateProperties hibernateProperties;\r\n\r\n    @Autowired\r\n    private DataSourceProperties dataSourceProperties;\r\n\r\n    @Bean\r\n    @Primary\r\n    public LocalSessionFactoryBean sessionFactory() {\r\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n        sessionFactory.setDataSource(dataSource());\r\n        sessionFactory.setPackagesToScan(&quot;com.spotify.game.model.entity&quot;);\r\n        sessionFactory.setHibernateProperties(getHibernateProperties());\r\n\r\n        return sessionFactory;\r\n    }\r\n\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setUrl(dataSourceProperties.getUrl());\r\n        dataSource.setUsername(dataSourceProperties.getUsername());\r\n        dataSource.setPassword(dataSourceProperties.getPassword());\r\n        dataSource.setDriverClassName(dataSourceProperties.getDriverClassName());\r\n\r\n        return dataSource;\r\n    }\r\n\r\n    @Bean(name = &quot;entityManagerFactory&quot;)\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n        LocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\r\n        emf.setDataSource(dataSource());\r\n        emf.setPackagesToScan(&quot;com.spotify.game.model.entity&quot;);\r\n        emf.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n        emf.setJpaProperties(getHibernateProperties());\r\n\r\n        return emf;\r\n    }\r\n\r\n    @Bean(name = &quot;transactionManager&quot;)\r\n    public PlatformTransactionManager hibernateTransactionManager(SessionFactory sessionFactory) {\r\n        HibernateTransactionManager transactionManager = new HibernateTransactionManager();\r\n        transactionManager.setSessionFactory(sessionFactory);\r\n        return transactionManager;\r\n    }\r\n\r\n    private Properties getHibernateProperties() {\r\n        Properties properties = new Properties();\r\n        properties.setProperty(&quot;hibernate.dialect&quot;, hibernateProperties.getDialect());\r\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, hibernateProperties.getHbm2ddlAuto());\r\n        properties.setProperty(&quot;hibernate.show_sql&quot;, String.valueOf(hibernateProperties.isShowSql()));\r\n        properties.setProperty(&quot;hibernate.format_sql&quot;, String.valueOf(hibernateProperties.isFormatSql()));\r\n        properties.setProperty(&quot;hibernate.jdbc.batch_size&quot;, String.valueOf(hibernateProperties.getBatchSize()));\r\n        properties.setProperty(&quot;hibernate.order_inserts&quot;, String.valueOf(hibernateProperties.isOrderInserts()));\r\n        properties.setProperty(&quot;hibernate.order_updates&quot;, String.valueOf(hibernateProperties.isOrderInserts()));\r\n\r\n        return properties;\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere&#39;s my method in my UserService class:\r\n\r\n\r\n```\r\n@Override\r\n    public User createUser(String username, String password, String email) {\r\n        User user = new User();\r\n        user.setUsername(username);\r\n        user.setEmail(email);\r\n        user.setVerified(false);\r\n\r\n        String encryptedPassword = passwordEncoder.encode(password);\r\n        user.setPasswordHash(encryptedPassword);\r\n\r\n        try {\r\n            userRepository.save(user);\r\n        } catch (DataIntegrityViolationException e) {\r\n            throw new DuplicateKeyException(&quot;User with username &#39;&quot; + username + &quot;&#39; or email &#39;&quot; + email + &quot;&#39; already exists&quot;);\r\n        }\r\n\r\n        return user;\r\n    }\r\n```\r\n\r\nAnd here&#39;s a test:\r\n\r\n\r\n```\r\n@Test\r\n    public void createUserTest() {\r\n        User user = userService.createUser(&quot;test_username&quot;, &quot;test_password&quot;, &quot;test@example.com&quot;);\r\n\r\n        assertNotNull(user.getId());\r\n        assertEquals(&quot;test_username&quot;, user.getUsername());\r\n        assertEquals(&quot;test@example.com&quot;, user.getEmail());\r\n        assertFalse(user.isVerified());\r\n    }\r\n```\r\n\r\nAnd my user entity:\r\n\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;username&quot;, unique = true)\r\n    private String username;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String passwordHash;\r\n\r\n    @Column(name = &quot;email&quot;, unique = true)\r\n    private String email;\r\n\r\n    @Column(name = &quot;verified&quot;)\r\n    private boolean verified;\r\n```\r\n\r\n\r\n\r\nHow can I fix this problem?","title":"I have a problem with my Transaction Management class","body":"<p>I have a problem with my Transaction Management class in my project. After I add TransactionManagerConfig class to my project, entities are not creating in my database anymore.</p>\n<p>Here's my TransactionManagerConfig class:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\npublic class TransactionManagerConfig {\n\n    @Autowired\n    private HibernateProperties hibernateProperties;\n\n    @Autowired\n    private DataSourceProperties dataSourceProperties;\n\n    @Bean\n    @Primary\n    public LocalSessionFactoryBean sessionFactory() {\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n        sessionFactory.setDataSource(dataSource());\n        sessionFactory.setPackagesToScan(&quot;com.spotify.game.model.entity&quot;);\n        sessionFactory.setHibernateProperties(getHibernateProperties());\n\n        return sessionFactory;\n    }\n\n    @Bean\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setUrl(dataSourceProperties.getUrl());\n        dataSource.setUsername(dataSourceProperties.getUsername());\n        dataSource.setPassword(dataSourceProperties.getPassword());\n        dataSource.setDriverClassName(dataSourceProperties.getDriverClassName());\n\n        return dataSource;\n    }\n\n    @Bean(name = &quot;entityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        LocalContainerEntityManagerFactoryBean emf = new LocalContainerEntityManagerFactoryBean();\n        emf.setDataSource(dataSource());\n        emf.setPackagesToScan(&quot;com.spotify.game.model.entity&quot;);\n        emf.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n        emf.setJpaProperties(getHibernateProperties());\n\n        return emf;\n    }\n\n    @Bean(name = &quot;transactionManager&quot;)\n    public PlatformTransactionManager hibernateTransactionManager(SessionFactory sessionFactory) {\n        HibernateTransactionManager transactionManager = new HibernateTransactionManager();\n        transactionManager.setSessionFactory(sessionFactory);\n        return transactionManager;\n    }\n\n    private Properties getHibernateProperties() {\n        Properties properties = new Properties();\n        properties.setProperty(&quot;hibernate.dialect&quot;, hibernateProperties.getDialect());\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, hibernateProperties.getHbm2ddlAuto());\n        properties.setProperty(&quot;hibernate.show_sql&quot;, String.valueOf(hibernateProperties.isShowSql()));\n        properties.setProperty(&quot;hibernate.format_sql&quot;, String.valueOf(hibernateProperties.isFormatSql()));\n        properties.setProperty(&quot;hibernate.jdbc.batch_size&quot;, String.valueOf(hibernateProperties.getBatchSize()));\n        properties.setProperty(&quot;hibernate.order_inserts&quot;, String.valueOf(hibernateProperties.isOrderInserts()));\n        properties.setProperty(&quot;hibernate.order_updates&quot;, String.valueOf(hibernateProperties.isOrderInserts()));\n\n        return properties;\n    }\n}\n</code></pre>\n<p>Here's my method in my UserService class:</p>\n<pre><code>@Override\n    public User createUser(String username, String password, String email) {\n        User user = new User();\n        user.setUsername(username);\n        user.setEmail(email);\n        user.setVerified(false);\n\n        String encryptedPassword = passwordEncoder.encode(password);\n        user.setPasswordHash(encryptedPassword);\n\n        try {\n            userRepository.save(user);\n        } catch (DataIntegrityViolationException e) {\n            throw new DuplicateKeyException(&quot;User with username '&quot; + username + &quot;' or email '&quot; + email + &quot;' already exists&quot;);\n        }\n\n        return user;\n    }\n</code></pre>\n<p>And here's a test:</p>\n<pre><code>@Test\n    public void createUserTest() {\n        User user = userService.createUser(&quot;test_username&quot;, &quot;test_password&quot;, &quot;test@example.com&quot;);\n\n        assertNotNull(user.getId());\n        assertEquals(&quot;test_username&quot;, user.getUsername());\n        assertEquals(&quot;test@example.com&quot;, user.getEmail());\n        assertFalse(user.isVerified());\n    }\n</code></pre>\n<p>And my user entity:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;username&quot;, unique = true)\n    private String username;\n\n    @Column(name = &quot;password&quot;)\n    private String passwordHash;\n\n    @Column(name = &quot;email&quot;, unique = true)\n    private String email;\n\n    @Column(name = &quot;verified&quot;)\n    private boolean verified;\n</code></pre>\n<p>How can I fix this problem?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":22266993,"reputation":897,"user_id":16497617,"display_name":"Maneesha Indrachapa"},"score":0,"creation_date":1678118544,"post_id":75653046,"comment_id":133467080,"body_markdown":"No, it is not possible to run a Spring Boot application as a normal Java executable JAR without a Spring Boot loader. The Spring Boot loader must be in your classpath in order to start a Spring Boot application. For a Spring Boot application to start, the Spring Boot loader offers a wide range of capabilities, including performing classpath scanning, creating the application context, and managing dependencies.","body":"No, it is not possible to run a Spring Boot application as a normal Java executable JAR without a Spring Boot loader. The Spring Boot loader must be in your classpath in order to start a Spring Boot application. For a Spring Boot application to start, the Spring Boot loader offers a wide range of capabilities, including performing classpath scanning, creating the application context, and managing dependencies."},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678118581,"post_id":75653046,"comment_id":133467090,"body_markdown":"it is possible to run a Spring Boot application as a normal Java executable JAR without using the Spring Boot Loader, it requires a lot of manual configuration and initialization of dependencies, properties, and application context. Therefore, it is not recommended, and it is always better to use the Spring Boot Loader to run Spring Boot applications.\nSo no don&#39;t do that","body":"it is possible to run a Spring Boot application as a normal Java executable JAR without using the Spring Boot Loader, it requires a lot of manual configuration and initialization of dependencies, properties, and application context. Therefore, it is not recommended, and it is always better to use the Spring Boot Loader to run Spring Boot applications. So no don&#39;t do that"},{"owner":{"account_id":9442932,"reputation":2017,"user_id":7022735,"accept_rate":40,"display_name":"rvit34"},"score":0,"creation_date":1678118885,"post_id":75653046,"comment_id":133467183,"body_markdown":"@Karim, do you have an example how to do it manually?","body":"@Karim, do you have an example how to do it manually?"},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678119348,"post_id":75653046,"comment_id":133467295,"body_markdown":"@rvit34 honestly never done it myself and it&#39;s better to avoid it altogether, your issue feels like you need to rethink what&#39;s the thing you actually want to achieve. but something like this should work:\n\njava -cp /my-app-dir/main.jar:/my-app-dir/dependencies/* -Dspring.config.location=/my-app-dir/application.properties com.mypackage.subpackage.MainApplication","body":"@rvit34 honestly never done it myself and it&#39;s better to avoid it altogether, your issue feels like you need to rethink what&#39;s the thing you actually want to achieve. but something like this should work:  java -cp /my-app-dir/main.jar:/my-app-dir/dependencies/* -Dspring.config.location=/my-app-dir/application.properties com.mypackage.subpackage.MainApplication"},{"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"score":0,"creation_date":1678119400,"post_id":75653046,"comment_id":133467312,"body_markdown":"and you need to add every env variable to the command too, and look up other variables that spring needs to work","body":"and you need to add every env variable to the command too, and look up other variables that spring needs to work"}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678133462,"creation_date":1678133462,"answer_id":75655409,"question_id":75653046,"body_markdown":"Yes, it&#39;s possible and supported. It&#39;s what happens in your IDE when you run you application&#39;s main method directly or when you use the run support in Spring Boot&#39;s Maven and Gradle plugins.\r\n\r\nThere&#39;s a [section in the reference documentation describing how to explode the packaged archive and run the main class directly](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/index.html#container-images.efficient-images.unpacking). It&#39;s written in the context of container images, but it applies to other deployment approaches as well.","title":"Run Spring Boot application as normal java application without spring boot loader","body":"<p>Yes, it's possible and supported. It's what happens in your IDE when you run you application's main method directly or when you use the run support in Spring Boot's Maven and Gradle plugins.</p>\n<p>There's a <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/index.html#container-images.efficient-images.unpacking\" rel=\"nofollow noreferrer\">section in the reference documentation describing how to explode the packaged archive and run the main class directly</a>. It's written in the context of container images, but it applies to other deployment approaches as well.</p>\n"}],"owner":{"account_id":9442932,"reputation":2017,"user_id":7022735,"accept_rate":40,"display_name":"rvit34"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75655409,"answer_count":1,"score":0,"last_activity_date":1678133462,"creation_date":1678118349,"question_id":75653046,"body_markdown":"I wonder is it possible to run spring boot application as a normal java executable jar without spring boot loader?\r\nFor example I have next directory with jars:\r\n```\r\n/my-app-dir/main.jar\r\n/my-app-dir/dependencies/spring-core.jar\r\n/my-app-dir/dependencies/apache-tomcat.jar\r\n...\r\n```\r\nwhere main.jar contains only application classes and directory dependencies contains all required runtime dependencies including spring and spring-boot ones.\r\nAnd I would run it as usual:\r\n`java -cp /my-app-dir/main.jar:./my-app-dir/dependencies/* com.mypackage.subpackage.MainApplication`\r\n\r\nWhen I do so, spring boot app is loading but cannot find beans and resolve beens tree.\r\n\r\n\r\n\r\n","title":"Run Spring Boot application as normal java application without spring boot loader","body":"<p>I wonder is it possible to run spring boot application as a normal java executable jar without spring boot loader?\nFor example I have next directory with jars:</p>\n<pre><code>/my-app-dir/main.jar\n/my-app-dir/dependencies/spring-core.jar\n/my-app-dir/dependencies/apache-tomcat.jar\n...\n</code></pre>\n<p>where main.jar contains only application classes and directory dependencies contains all required runtime dependencies including spring and spring-boot ones.\nAnd I would run it as usual:\n<code>java -cp /my-app-dir/main.jar:./my-app-dir/dependencies/* com.mypackage.subpackage.MainApplication</code></p>\n<p>When I do so, spring boot app is loading but cannot find beans and resolve beens tree.</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"score":5,"creation_date":1678129803,"post_id":75654860,"comment_id":133470247,"body_markdown":"The loop is running forever, so the println list never get executed.","body":"The loop is running forever, so the println list never get executed."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678131421,"creation_date":1678131421,"answer_id":75655111,"question_id":75654860,"body_markdown":"You should [code to an interface][1]. `ArrayList` is the implementation. [List][2] is the interface.\r\n\r\nYou have an [infinite loop][3]. You need to decide on how to terminate the loop, otherwise code after the loop will not get executed.\r\n\r\nIn fact, when I copied your code to my [Eclipse][4] IDE, it flagged the following line of the code as _Unreachable code_\r\n```java\r\nSystem.out.println(&quot;The Grocery List: &quot; +shopList);\r\n```\r\nIn the below code, I decided that simply hitting &lt;kbd&gt;ENTER&lt;/kbd&gt; will terminate the loop.\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class ShopList {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        List&lt;String&gt; shopList = new ArrayList&lt;&gt;();\r\n        while (true) {\r\n            System.out.print(&quot;Enter an item (or just hit &#39;ENTER&#39; to quit): &quot;);\r\n            String item = sc.nextLine();\r\n            if (item.isEmpty()) {\r\n                break;\r\n            }\r\n            else {\r\n                shopList.add(item);\r\n            }\r\n        }\r\n        System.out.println(&quot;The Grocery List: &quot; +shopList);\r\n        sc.close();\r\n    }\r\n}\r\n```\r\nOutput from a sample run:  \r\n(Note that the second last entry was the &lt;kbd&gt;TAB&lt;/kbd&gt; key and in the last entry, I hit the &lt;kbd&gt;ENTER&lt;/kbd&gt; by itself which meant that `item` was an empty string.)\r\n```none\r\nEnter an item (or just hit &#39;ENTER&#39; to quit): s\r\nEnter an item (or just hit &#39;ENTER&#39; to quit): %\r\nEnter an item (or just hit &#39;ENTER&#39; to quit): mvosp[5rt04j89w\r\nEnter an item (or just hit &#39;ENTER&#39; to quit): *&amp;^$^&amp;$ghdtr d df\r\nEnter an item (or just hit &#39;ENTER&#39; to quit): \t\r\nEnter an item (or just hit &#39;ENTER&#39; to quit): \r\nThe Grocery List: [s, %, mvosp[5rt04j89w, *&amp;^$^&amp;$ghdtr d df, \t]\r\n```\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1992384/program-to-an-interface-what-does-it-mean\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\r\n  [3]: https://stackoverflow.com/questions/31173481/when-would-you-write-an-infinite-loop-in-java\r\n  [4]: https://www.eclipse.org/","title":"Dynamic input in ArrayList","body":"<p>You should <a href=\"https://stackoverflow.com/questions/1992384/program-to-an-interface-what-does-it-mean\">code to an interface</a>. <code>ArrayList</code> is the implementation. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a> is the interface.</p>\n<p>You have an <a href=\"https://stackoverflow.com/questions/31173481/when-would-you-write-an-infinite-loop-in-java\">infinite loop</a>. You need to decide on how to terminate the loop, otherwise code after the loop will not get executed.</p>\n<p>In fact, when I copied your code to my <a href=\"https://www.eclipse.org/\" rel=\"nofollow noreferrer\">Eclipse</a> IDE, it flagged the following line of the code as <em>Unreachable code</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;The Grocery List: &quot; +shopList);\n</code></pre>\n<p>In the below code, I decided that simply hitting <kbd>ENTER</kbd> will terminate the loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class ShopList {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        List&lt;String&gt; shopList = new ArrayList&lt;&gt;();\n        while (true) {\n            System.out.print(&quot;Enter an item (or just hit 'ENTER' to quit): &quot;);\n            String item = sc.nextLine();\n            if (item.isEmpty()) {\n                break;\n            }\n            else {\n                shopList.add(item);\n            }\n        }\n        System.out.println(&quot;The Grocery List: &quot; +shopList);\n        sc.close();\n    }\n}\n</code></pre>\n<p>Output from a sample run:<br />\n(Note that the second last entry was the <kbd>TAB</kbd> key and in the last entry, I hit the <kbd>ENTER</kbd> by itself which meant that <code>item</code> was an empty string.)</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter an item (or just hit 'ENTER' to quit): s\nEnter an item (or just hit 'ENTER' to quit): %\nEnter an item (or just hit 'ENTER' to quit): mvosp[5rt04j89w\nEnter an item (or just hit 'ENTER' to quit): *&amp;^$^&amp;$ghdtr d df\nEnter an item (or just hit 'ENTER' to quit):    \nEnter an item (or just hit 'ENTER' to quit): \nThe Grocery List: [s, %, mvosp[5rt04j89w, *&amp;^$^&amp;$ghdtr d df,    ]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678133203,"creation_date":1678133203,"answer_id":75655368,"question_id":75654860,"body_markdown":"This would be a great use case for a `do...while()` loop:\r\n\r\n    String item;\r\n    Scanner sc = new Scanner(System.in);\r\n\r\n    List&lt;String&gt; shopList = new ArrayList&lt;String&gt;();\r\n    do {\r\n        System.out.print(&quot;Enter an item [Enter to quit]: &quot;);\r\n        item = sc.nextLine();\r\n        if (!item.isEmpty()) {\r\n          shopList.add(item);\r\n        }\r\n    } while (!item.isEmpty());\r\n\r\n    System.out.println(&quot;The Grocery List: &quot; + shopList);\r\n    sc.close();\r\n\r\nSample run:\r\n\r\n    Enter an item [Enter to quit]: pizza crust\r\n    Enter an item [Enter to quit]: pizza sauce\r\n    Enter an item [Enter to quit]: pepperoni\r\n    Enter an item [Enter to quit]: cheese\r\n    Enter an item [Enter to quit]: \r\n    The Grocery List: [pizza crust, pizza sauce, pepperoni, cheese]","title":"Dynamic input in ArrayList","body":"<p>This would be a great use case for a <code>do...while()</code> loop:</p>\n<pre><code>String item;\nScanner sc = new Scanner(System.in);\n\nList&lt;String&gt; shopList = new ArrayList&lt;String&gt;();\ndo {\n    System.out.print(&quot;Enter an item [Enter to quit]: &quot;);\n    item = sc.nextLine();\n    if (!item.isEmpty()) {\n      shopList.add(item);\n    }\n} while (!item.isEmpty());\n\nSystem.out.println(&quot;The Grocery List: &quot; + shopList);\nsc.close();\n</code></pre>\n<p>Sample run:</p>\n<pre><code>Enter an item [Enter to quit]: pizza crust\nEnter an item [Enter to quit]: pizza sauce\nEnter an item [Enter to quit]: pepperoni\nEnter an item [Enter to quit]: cheese\nEnter an item [Enter to quit]: \nThe Grocery List: [pizza crust, pizza sauce, pepperoni, cheese]\n</code></pre>\n"}],"owner":{"account_id":26700564,"reputation":1,"user_id":20307683,"display_name":"Nelly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1678133203,"creation_date":1678129648,"question_id":75654860,"body_markdown":"I am trying to create an `ArrayList` in which you can add input that is non-fixed, so you can add input later.\r\nCurrently I have two issues: \r\n- the elements of the `ArrayList` aren&#39;t being printed.\r\n- I can only input one element, instead of an infinite amount.\r\n\r\nThanks\r\n\r\nCode:\r\n```java\r\npublic static void main(String[] args) {\r\n    Scanner sc = new Scanner(System.in);\r\n    ArrayList&lt;String&gt; shopList = new ArrayList&lt;&gt;();\r\n    while (true) {\r\n        System.out.println(&quot;Enter an item: &quot;);\r\n        String item = sc.nextLine();\r\n        shopList.add(item);\r\n    }\r\n    System.out.println(&quot;The Grocery List: &quot; +shopList);\r\n    sc.close();\r\n}\r\n```\r\n","title":"Dynamic input in ArrayList","body":"<p>I am trying to create an <code>ArrayList</code> in which you can add input that is non-fixed, so you can add input later.\nCurrently I have two issues:</p>\n<ul>\n<li>the elements of the <code>ArrayList</code> aren't being printed.</li>\n<li>I can only input one element, instead of an infinite amount.</li>\n</ul>\n<p>Thanks</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    ArrayList&lt;String&gt; shopList = new ArrayList&lt;&gt;();\n    while (true) {\n        System.out.println(&quot;Enter an item: &quot;);\n        String item = sc.nextLine();\n        shopList.add(item);\n    }\n    System.out.println(&quot;The Grocery List: &quot; +shopList);\n    sc.close();\n}\n</code></pre>\n"},{"tags":["java","if-statement","keyboard","logic"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1678129621,"post_id":75654558,"comment_id":133470212,"body_markdown":"*this behavior seems to be linked to the order of the if statements* - well, did you change the order of the statements to validate your thought?  A KeyEvent is only generated for the last key pressed, so order should not matter, assuming your logic is correct. However, you should NOT be using a KeyListener. Instead you should be using `Key Bindings`. Check out: [Motion Using the Keyboard](https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/) for more information.","body":"<i>this behavior seems to be linked to the order of the if statements</i> - well, did you change the order of the statements to validate your thought?  A KeyEvent is only generated for the last key pressed, so order should not matter, assuming your logic is correct. However, you should NOT be using a KeyListener. Instead you should be using <code>Key Bindings</code>. Check out: <a href=\"https://tips4java.wordpress.com/2013/06/09/motion-using-the-keyboard/\" rel=\"nofollow noreferrer\">Motion Using the Keyboard</a> for more information."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678133931,"post_id":75654558,"comment_id":133471291,"body_markdown":"On &quot;pressed&quot;, add the direction to a `Set`, on &quot;release&quot; remove it - also, use the Key Bindings API instead","body":"On &quot;pressed&quot;, add the direction to a <code>Set</code>, on &quot;release&quot; remove it - also, use the Key Bindings API instead"}],"answers":[{"tags":[],"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678132469,"creation_date":1678132469,"answer_id":75655261,"question_id":75654558,"body_markdown":"Reading your description of the issue, it&#39;s clear that it is in fact linked to the order of the if statements. Whichever is the last statement to evaluate to `true` will determine the direction, ignoring any other keys that were pressed. I would suggest implementing it in a way that accounts for other key presses, such as:\r\n\r\n    if (!collisionOn) {\r\n        if(keyH.upPressed) {\r\n            worldY -= speed;\r\n        }\r\n        if(keyH.downPressed) {\r\n            worldY += speed;\r\n        }\r\n        if(keyH.leftPressed) {\r\n            worldX -= speed;\r\n        }\r\n        if(keyH.rightPressed) {\r\n            worldX += speed;\r\n        }\r\n    }\r\n\r\nWithout seeing more of the code, I&#39;m not sure if your implementation allows this, but it shouldn&#39;t be difficult to obtain something to that effect.","title":"Player Movements in RPG Java Game - Simultaneous key pressing","body":"<p>Reading your description of the issue, it's clear that it is in fact linked to the order of the if statements. Whichever is the last statement to evaluate to <code>true</code> will determine the direction, ignoring any other keys that were pressed. I would suggest implementing it in a way that accounts for other key presses, such as:</p>\n<pre><code>if (!collisionOn) {\n    if(keyH.upPressed) {\n        worldY -= speed;\n    }\n    if(keyH.downPressed) {\n        worldY += speed;\n    }\n    if(keyH.leftPressed) {\n        worldX -= speed;\n    }\n    if(keyH.rightPressed) {\n        worldX += speed;\n    }\n}\n</code></pre>\n<p>Without seeing more of the code, I'm not sure if your implementation allows this, but it shouldn't be difficult to obtain something to that effect.</p>\n"}],"owner":{"account_id":24576902,"reputation":1,"user_id":18482613,"display_name":"JNewance"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678132469,"creation_date":1678127523,"question_id":75654558,"body_markdown":"In my java RPG game, a KeyHandler checks which of the WASD key is pressed during playstate:\r\n\r\n```\r\n`if (gp.gameState == gp.playState) {\r\n     if (code == KeyEvent.VK_W){\r\n         upPressed = true;\r\n     }\r\n     if (code == KeyEvent.VK_A){\r\n         leftPressed = true;\r\n     }\r\n     if (code == KeyEvent.VK_S){\r\n         downPressed = true;\r\n     }\r\n     if (code == KeyEvent.VK_D){\r\n         rightPressed = true;\r\n     }`\r\n```\r\n\r\nInside the update fuction, a the value of a string variable called &quot;direction&quot; changes based on which key the KeyHandler recognized:\r\n\r\n```\r\n`if(keyH.upPressed || keyH.downPressed || keyH.leftPressed || keyH.rightPressed ){\r\n     if (keyH.upPressed){\r\n         direction = &quot;up&quot;;\r\n     }\r\n     if(keyH.downPressed){\r\n         direction = &quot;down&quot;;\r\n     }\r\n     if(keyH.leftPressed){\r\n         direction = &quot;left&quot;;\r\n     }\r\n     if(keyH.rightPressed){\r\n         direction = &quot;right&quot;;\r\n     }`\r\n```\r\n\r\nAfter checking for eventual collisions, the player moves based on his direction in the same update fuction:\r\n\r\n```\r\n`if (!collisionOn) {\r\n      if(Objects.equals(direction, &quot;up&quot;)) {\r\n          worldY -= speed;\r\n      }\r\n      if(Objects.equals(direction, &quot;down&quot;)) {\r\n          worldY += speed;\r\n      }\r\n      if(Objects.equals(direction, &quot;left&quot;)) {\r\n          worldX -= speed;\r\n      }\r\n      if(Objects.equals(direction, &quot;right&quot;)) {\r\n          worldX += speed;\r\n      }`\r\n```\r\n\r\nMy problem is that when pressing some of the keys simoultaneously the resulting action is not what is expected: while holding the W key, if any other key between A,S or D changes the direction; while holding the S key, only pressing A or D changes the direction, W is not working. While holding A only pressing D changes the direction, W and S not working. While holding D, no other directional key works. This behavior seems to be linked to the order of the if statements in my second snippets of code, but I can&#39;t figure out how.","title":"Player Movements in RPG Java Game - Simultaneous key pressing","body":"<p>In my java RPG game, a KeyHandler checks which of the WASD key is pressed during playstate:</p>\n<pre><code>`if (gp.gameState == gp.playState) {\n     if (code == KeyEvent.VK_W){\n         upPressed = true;\n     }\n     if (code == KeyEvent.VK_A){\n         leftPressed = true;\n     }\n     if (code == KeyEvent.VK_S){\n         downPressed = true;\n     }\n     if (code == KeyEvent.VK_D){\n         rightPressed = true;\n     }`\n</code></pre>\n<p>Inside the update fuction, a the value of a string variable called &quot;direction&quot; changes based on which key the KeyHandler recognized:</p>\n<pre><code>`if(keyH.upPressed || keyH.downPressed || keyH.leftPressed || keyH.rightPressed ){\n     if (keyH.upPressed){\n         direction = &quot;up&quot;;\n     }\n     if(keyH.downPressed){\n         direction = &quot;down&quot;;\n     }\n     if(keyH.leftPressed){\n         direction = &quot;left&quot;;\n     }\n     if(keyH.rightPressed){\n         direction = &quot;right&quot;;\n     }`\n</code></pre>\n<p>After checking for eventual collisions, the player moves based on his direction in the same update fuction:</p>\n<pre><code>`if (!collisionOn) {\n      if(Objects.equals(direction, &quot;up&quot;)) {\n          worldY -= speed;\n      }\n      if(Objects.equals(direction, &quot;down&quot;)) {\n          worldY += speed;\n      }\n      if(Objects.equals(direction, &quot;left&quot;)) {\n          worldX -= speed;\n      }\n      if(Objects.equals(direction, &quot;right&quot;)) {\n          worldX += speed;\n      }`\n</code></pre>\n<p>My problem is that when pressing some of the keys simoultaneously the resulting action is not what is expected: while holding the W key, if any other key between A,S or D changes the direction; while holding the S key, only pressing A or D changes the direction, W is not working. While holding A only pressing D changes the direction, W and S not working. While holding D, no other directional key works. This behavior seems to be linked to the order of the if statements in my second snippets of code, but I can't figure out how.</p>\n"},{"tags":["extjs","sencha-cmd","extjs7","java"],"owner":{"account_id":4255401,"reputation":39,"user_id":3481224,"display_name":"Lucaele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1678131723,"creation_date":1654851635,"question_id":72571688,"body_markdown":"i&#39;m using Sencha Themer 1.4.0\r\non Apple M1 with Monterey 12.4\r\njava version &quot;1.8.0_333&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_333-b02)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.333-b02, mixed mode)\r\n\r\nAlways loading bar on open or create a theme remain at 99%.\r\n\r\nOn logs there is:\r\n\r\n```\r\n[2022-06-10 00:28:29.051] [DEBUG] [default] - Exception in thread &quot;Thread-34&quot; \r\n[2022-06-10 00:28:29.051] [DEBUG] [default] - java.lang.UnsatisfiedLinkError: /private/var/folders/d9/h_t37l0x3hj1h7r4vsd50ngw0000gn/T/jna--1385014272/jna2864571768082386130.tmp: dlopen(/private/var/folders/d9/h_t37l0x3hj1h7r4vsd50ngw0000gn/T/jna--1385014272/jna2864571768082386130.tmp, 0x0001): tried: &#39;/private/var/folders/d9/h_t37l0x3hj1h7r4vsd50ngw0000gn/T/jna--1385014272/jna2864571768082386130.tmp&#39; (fat file, but missing compatible architecture (have &#39;i386,x86_64,unknown&#39;, need &#39;arm64e&#39;))\r\n\tat java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n\tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1950)\r\n\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1832)\r\n\tat java.lang.Runtime.load0(Runtime.java:811)\r\n\tat java.lang.System.load(System.java:1088)\r\n\tat com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:761)\r\n\tat com.sun.jna.Native.loadNativeDispatchLibrary(Native.java:736)\r\n\tat com.sun.jna.Native.&lt;clinit&gt;(Native.java:131)\r\n\tat com.sencha.jna.mac.Carbon.&lt;clinit&gt;(Carbon.java:11)\r\n\tat com.sencha.tools.watchers.FSEventWatchService$1.run(FSEventWatchService.java:41)\r\n\tat com.sencha.util.ThreadUtil$1.run(ThreadUtil.java:65)\r\n\tat com.sencha.util.ThreadUtil$2.run(ThreadUtil.java:162)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nHow fix this problem?\r\nThanks","title":"Sencha Themer 1.4.0 fat file, but missing compatible architecture (have &#39;i386,x86_64,unknown&#39;, need &#39;arm64e&#39;)","body":"<p>i'm using Sencha Themer 1.4.0\non Apple M1 with Monterey 12.4\njava version &quot;1.8.0_333&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_333-b02)\nJava HotSpot(TM) 64-Bit Server VM (build 25.333-b02, mixed mode)</p>\n<p>Always loading bar on open or create a theme remain at 99%.</p>\n<p>On logs there is:</p>\n<pre><code>[2022-06-10 00:28:29.051] [DEBUG] [default] - Exception in thread &quot;Thread-34&quot; \n[2022-06-10 00:28:29.051] [DEBUG] [default] - java.lang.UnsatisfiedLinkError: /private/var/folders/d9/h_t37l0x3hj1h7r4vsd50ngw0000gn/T/jna--1385014272/jna2864571768082386130.tmp: dlopen(/private/var/folders/d9/h_t37l0x3hj1h7r4vsd50ngw0000gn/T/jna--1385014272/jna2864571768082386130.tmp, 0x0001): tried: '/private/var/folders/d9/h_t37l0x3hj1h7r4vsd50ngw0000gn/T/jna--1385014272/jna2864571768082386130.tmp' (fat file, but missing compatible architecture (have 'i386,x86_64,unknown', need 'arm64e'))\n    at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n    at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1950)\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1832)\n    at java.lang.Runtime.load0(Runtime.java:811)\n    at java.lang.System.load(System.java:1088)\n    at com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:761)\n    at com.sun.jna.Native.loadNativeDispatchLibrary(Native.java:736)\n    at com.sun.jna.Native.&lt;clinit&gt;(Native.java:131)\n    at com.sencha.jna.mac.Carbon.&lt;clinit&gt;(Carbon.java:11)\n    at com.sencha.tools.watchers.FSEventWatchService$1.run(FSEventWatchService.java:41)\n    at com.sencha.util.ThreadUtil$1.run(ThreadUtil.java:65)\n    at com.sencha.util.ThreadUtil$2.run(ThreadUtil.java:162)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>How fix this problem?\nThanks</p>\n"},{"tags":["java","freemarker"],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678131542,"creation_date":1678131542,"question_id":75655136,"body_markdown":"I&#39;ve implemented the `TemplateDirectiveModel` interface and although I can do `environment.getDataModel()` and even call `get()` on the DataModel I can&#39;t seem to find a way to add a new value to the DataModel. Is this possible? And if so how? \r\n","title":"How do I add an Object to the DataModel through TemplateDirectiveModel in Freemarker?","body":"<p>I've implemented the <code>TemplateDirectiveModel</code> interface and although I can do <code>environment.getDataModel()</code> and even call <code>get()</code> on the DataModel I can't seem to find a way to add a new value to the DataModel. Is this possible? And if so how?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","api","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":4477746,"reputation":1014,"user_id":3642410,"accept_rate":100,"display_name":"Karim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678126062,"creation_date":1678125224,"answer_id":75654196,"question_id":75653867,"body_markdown":"To upload your data (photos, videos, documents, etc.) to Amazon S3, you must first create an S3 bucket in one of the AWS Regions, a bucket is a container for objects stored in Amazon S3.\r\n\r\nYou need to make sure the bucket you&#39;re using already exists\r\n\r\nuse this condition to make sure the bucket already exists before uploading a file to S3:\r\n\r\n    if (s3Client.doesBucketExist(bucketName)) {\r\n                ObjectMetadata metadata = new ObjectMetadata();\r\n                metadata.setContentType(contentType);\r\n                metadata.setContentLength(stream.available());\r\n\r\n                s3Client.putObject(new PutObjectRequest(bucketName, key, stream, metadata));\r\n            } else {\r\n                log.warn(&quot;AWS S3 &#39;{}&#39; Bucket does not exist&quot;, bucketName);\r\n                 s3client.createBucket(bucketName);\r\n            }\r\nif `s3client.createBucket(bucketName);` throws an exception that means you&#39;re not allowed to create a bucket use this documentation to create one https://docs.aws.amazon.com/AmazonS3/latest/userguide/create-bucket-overview.html\r\n\r\nIf you don&#39;t have access at all, you need to talk to your AWS admin to create one for you.\r\n\r\nAlso don&#39;t create a bucket each time like this\r\n\r\n    private final String BUCKET_NAME = &quot;awstockproducts&quot; + System.currentTimeMillis();\r\n\r\njust use one for different kind of APP\r\n\r\n    private final String BUCKET_NAME = &quot;awstockproducts-app1-dev&quot;\r\n\r\nso you don&#39;t create a bucket each time you run the application\r\n\r\n","title":"Amazon aws error with s3 bucket not existing (Spring Boot)","body":"<p>To upload your data (photos, videos, documents, etc.) to Amazon S3, you must first create an S3 bucket in one of the AWS Regions, a bucket is a container for objects stored in Amazon S3.</p>\n<p>You need to make sure the bucket you're using already exists</p>\n<p>use this condition to make sure the bucket already exists before uploading a file to S3:</p>\n<pre><code>if (s3Client.doesBucketExist(bucketName)) {\n            ObjectMetadata metadata = new ObjectMetadata();\n            metadata.setContentType(contentType);\n            metadata.setContentLength(stream.available());\n\n            s3Client.putObject(new PutObjectRequest(bucketName, key, stream, metadata));\n        } else {\n            log.warn(&quot;AWS S3 '{}' Bucket does not exist&quot;, bucketName);\n             s3client.createBucket(bucketName);\n        }\n</code></pre>\n<p>if <code>s3client.createBucket(bucketName);</code> throws an exception that means you're not allowed to create a bucket use this documentation to create one <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/create-bucket-overview.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/userguide/create-bucket-overview.html</a></p>\n<p>If you don't have access at all, you need to talk to your AWS admin to create one for you.</p>\n<p>Also don't create a bucket each time like this</p>\n<pre><code>private final String BUCKET_NAME = &quot;awstockproducts&quot; + System.currentTimeMillis();\n</code></pre>\n<p>just use one for different kind of APP</p>\n<pre><code>private final String BUCKET_NAME = &quot;awstockproducts-app1-dev&quot;\n</code></pre>\n<p>so you don't create a bucket each time you run the application</p>\n"},{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678131404,"creation_date":1678127380,"answer_id":75654533,"question_id":75653867,"body_markdown":"The answer above references **AWS SDK for Java V1** - which is not recommended to use anymore. See the SDK page here for Version information: \r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples\r\n\r\nRather then looking into the AWS S3 Service Guide that contains V1 code, now refer to the [AWS Code Library][1] that uses the latest SDK version - which for Java is AWS SDK for Java V2. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nFor AWS SDK for Java V2 examples, see:\r\n\r\n[Code examples for Amazon S3 using AWS SDKs][3]\r\n\r\nI have used V2 in many Spring Boot projects and there are no issues working with S3 operations. So to use S3 Java functionality in Spring boot, upgrade to V2 - which is best practice.  \r\n\r\n**UPDATE ON A POSSIBLE ISSUE**\r\n\r\nI am looking at your code much closer. I see this issue in your controller: \r\n\r\n  **private final String BUCKET_NAME = &quot;awstockproducts&quot; + System.currentTimeMillis();**\r\n\r\n**You are changing your bucket name with a time stamp**. Then you call **putObject()** and reference that bucket name with a timestamp. Unless you created a bucket on the fly with that name (and I do not see that logic), that bucket does not exist and you get an exception. \r\n\r\nSO you have 2 choices: \r\n\r\n- keep the bucket name static so you know it exists. \r\n- or if you have to keep a timestamp for a bucket, then use the V2 API and a waiter to create a bucket before calling **putObject()**. Then you can reference the bucket name with the timestamp. To learn how to create a new bucket with a waiter using V2, see the Create Bucket example here. Notice the user of a waiter. This approach will create a new bucket for each request. I personally would use a static bucket name. \r\n\r\nhttps://docs.aws.amazon.com/code-library/latest/ug/java_2_s3_code_examples.html \r\n\r\n\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/code-library/latest/ug/what-is-code-library.html\r\n  [2]: https://i.stack.imgur.com/xNYA4.png\r\n  [3]: https://docs.aws.amazon.com/code-library/latest/ug/java_2_s3_code_examples.html","title":"Amazon aws error with s3 bucket not existing (Spring Boot)","body":"<p>The answer above references <strong>AWS SDK for Java V1</strong> - which is not recommended to use anymore. See the SDK page here for Version information:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples</a></p>\n<p>Rather then looking into the AWS S3 Service Guide that contains V1 code, now refer to the <a href=\"https://docs.aws.amazon.com/code-library/latest/ug/what-is-code-library.html\" rel=\"nofollow noreferrer\">AWS Code Library</a> that uses the latest SDK version - which for Java is AWS SDK for Java V2.</p>\n<p><a href=\"https://i.stack.imgur.com/xNYA4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xNYA4.png\" alt=\"enter image description here\" /></a></p>\n<p>For AWS SDK for Java V2 examples, see:</p>\n<p><a href=\"https://docs.aws.amazon.com/code-library/latest/ug/java_2_s3_code_examples.html\" rel=\"nofollow noreferrer\">Code examples for Amazon S3 using AWS SDKs</a></p>\n<p>I have used V2 in many Spring Boot projects and there are no issues working with S3 operations. So to use S3 Java functionality in Spring boot, upgrade to V2 - which is best practice.</p>\n<p><strong>UPDATE ON A POSSIBLE ISSUE</strong></p>\n<p>I am looking at your code much closer. I see this issue in your controller:</p>\n<p><strong>private final String BUCKET_NAME = &quot;awstockproducts&quot; + System.currentTimeMillis();</strong></p>\n<p><strong>You are changing your bucket name with a time stamp</strong>. Then you call <strong>putObject()</strong> and reference that bucket name with a timestamp. Unless you created a bucket on the fly with that name (and I do not see that logic), that bucket does not exist and you get an exception.</p>\n<p>SO you have 2 choices:</p>\n<ul>\n<li>keep the bucket name static so you know it exists.</li>\n<li>or if you have to keep a timestamp for a bucket, then use the V2 API and a waiter to create a bucket before calling <strong>putObject()</strong>. Then you can reference the bucket name with the timestamp. To learn how to create a new bucket with a waiter using V2, see the Create Bucket example here. Notice the user of a waiter. This approach will create a new bucket for each request. I personally would use a static bucket name.</li>\n</ul>\n<p><a href=\"https://docs.aws.amazon.com/code-library/latest/ug/java_2_s3_code_examples.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/code-library/latest/ug/java_2_s3_code_examples.html</a></p>\n"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":760,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678131404,"creation_date":1678123042,"question_id":75653867,"body_markdown":"I&#39;m developing a product registration api in spring boot, and in my post method I send an image upload via multipart/form-data, along with a json with my product&#39;s dto. As you can see:\r\n\r\n```\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RequestMapping(&quot;/product&quot;)\r\npublic class ProductController {\r\n    final ProductService productService;\r\n    final CategoryService categoryService;\r\n    final ProductMapper productMapper;\r\n    final S3Client s3Client;\r\n\r\n    private final String BUCKET_NAME = &quot;awstockproducts&quot; + System.currentTimeMillis();\r\n\r\n    public ProductController(ProductService productService, ProductMapper productMapper, CategoryService categoryService, S3Client s3Client) {\r\n        this.productService = productService;\r\n        this.productMapper = productMapper;\r\n        this.categoryService = categoryService;\r\n        this.s3Client = s3Client;\r\n    }\r\n    @PostMapping(value = &quot;/&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    public ResponseEntity&lt;Object&gt; saveProduct (@RequestParam(&quot;productDto&quot;) String jsonString, @RequestParam(&quot;file&quot;)MultipartFile file) {\r\n        try {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            ProductDto productDto = objectMapper.readValue(jsonString, ProductDto.class);\r\n\r\n            if (productService.existsByProduct(productDto.getProduct())) {\r\n                return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Product already exists!&quot;);\r\n            }\r\n            ProductModel productModel = productMapper.toProductModel(productDto);\r\n            CategoryModel categoryModel = categoryService.findById(productDto.getProductCategory().getCategory_id())\r\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;Category not found&quot;));\r\n            productModel.setProductCategory(categoryModel);\r\n\r\n            String fileName = &quot;/products/images/&quot; + UUID.randomUUID().toString() + &quot;-&quot; + file.getOriginalFilename();\r\n\r\n            s3Client.putObject(PutObjectRequest\r\n                            .builder()\r\n                            .bucket(BUCKET_NAME)\r\n                            .key(fileName)\r\n                            .build(),\r\n                        software.amazon.awssdk.core.sync.RequestBody.fromString(&quot;Testing java sdk&quot;));\r\n            return ResponseEntity.status(HttpStatus.CREATED).body(productService.save(productModel));\r\n        } catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(e);\r\n        }\r\n    }\r\n\r\n```\r\n\r\nThe problem is that I am having problems making the request from my postman\r\n\r\n```\r\n    &quot;localizedMessage&quot;: &quot;The specified bucket does not exist (Service: S3, Status Code: 404, Request ID: ZZ27F9CNNTG2RTPR, Extended Request ID: \r\n```\r\n\r\nDespite the message, checking amazon aws I can see that indeed my bucket exists and has the same name as the one I configured in my application. This is amazonConfig\r\n\r\n```\r\npackage com.api.business_manager_api.Config;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport software.amazon.awssdk.auth.credentials.AwsBasicCredentials;\r\nimport software.amazon.awssdk.auth.credentials.StaticCredentialsProvider;\r\nimport software.amazon.awssdk.regions.Region;\r\nimport software.amazon.awssdk.services.s3.S3Client;\r\n\r\n@Configuration\r\npublic class AmazonConfig {\r\n    private final String AWS_REGION = &quot;us-east-1&quot;;\r\n    private final String BUCKET_NAME = &quot;productstockimages&quot;;\r\n\r\n    @Value(&quot;${aws.accessKeyId}&quot;)\r\n    private String accessKeyId;\r\n\r\n    @Value(&quot;${aws.secretAccessKey}&quot;)\r\n    private String secretAccessKey;\r\n\r\n    @Bean\r\n    public S3Client s3Client() {\r\n        AwsBasicCredentials awsCreds = AwsBasicCredentials.create(accessKeyId, secretAccessKey);\r\n        return S3Client.builder()\r\n                .region(Region.of(AWS_REGION))\r\n                .credentialsProvider(StaticCredentialsProvider.create(awsCreds))\r\n                .build();\r\n    }\r\n}\r\n\r\n```\r\n\r\nIn my secretKey and in my AccessKey, I configured in properties with the keys of my authorized IAM user from the amazon aws console.\r\n","title":"Amazon aws error with s3 bucket not existing (Spring Boot)","body":"<p>I'm developing a product registration api in spring boot, and in my post method I send an image upload via multipart/form-data, along with a json with my product's dto. As you can see:</p>\n<pre><code>@RestController\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RequestMapping(&quot;/product&quot;)\npublic class ProductController {\n    final ProductService productService;\n    final CategoryService categoryService;\n    final ProductMapper productMapper;\n    final S3Client s3Client;\n\n    private final String BUCKET_NAME = &quot;awstockproducts&quot; + System.currentTimeMillis();\n\n    public ProductController(ProductService productService, ProductMapper productMapper, CategoryService categoryService, S3Client s3Client) {\n        this.productService = productService;\n        this.productMapper = productMapper;\n        this.categoryService = categoryService;\n        this.s3Client = s3Client;\n    }\n    @PostMapping(value = &quot;/&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public ResponseEntity&lt;Object&gt; saveProduct (@RequestParam(&quot;productDto&quot;) String jsonString, @RequestParam(&quot;file&quot;)MultipartFile file) {\n        try {\n            ObjectMapper objectMapper = new ObjectMapper();\n            ProductDto productDto = objectMapper.readValue(jsonString, ProductDto.class);\n\n            if (productService.existsByProduct(productDto.getProduct())) {\n                return ResponseEntity.status(HttpStatus.CONFLICT).body(&quot;Product already exists!&quot;);\n            }\n            ProductModel productModel = productMapper.toProductModel(productDto);\n            CategoryModel categoryModel = categoryService.findById(productDto.getProductCategory().getCategory_id())\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;Category not found&quot;));\n            productModel.setProductCategory(categoryModel);\n\n            String fileName = &quot;/products/images/&quot; + UUID.randomUUID().toString() + &quot;-&quot; + file.getOriginalFilename();\n\n            s3Client.putObject(PutObjectRequest\n                            .builder()\n                            .bucket(BUCKET_NAME)\n                            .key(fileName)\n                            .build(),\n                        software.amazon.awssdk.core.sync.RequestBody.fromString(&quot;Testing java sdk&quot;));\n            return ResponseEntity.status(HttpStatus.CREATED).body(productService.save(productModel));\n        } catch (Exception e) {\n            return ResponseEntity.status(HttpStatus.CONFLICT).body(e);\n        }\n    }\n\n</code></pre>\n<p>The problem is that I am having problems making the request from my postman</p>\n<pre><code>    &quot;localizedMessage&quot;: &quot;The specified bucket does not exist (Service: S3, Status Code: 404, Request ID: ZZ27F9CNNTG2RTPR, Extended Request ID: \n</code></pre>\n<p>Despite the message, checking amazon aws I can see that indeed my bucket exists and has the same name as the one I configured in my application. This is amazonConfig</p>\n<pre><code>package com.api.business_manager_api.Config;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport software.amazon.awssdk.auth.credentials.AwsBasicCredentials;\nimport software.amazon.awssdk.auth.credentials.StaticCredentialsProvider;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3Client;\n\n@Configuration\npublic class AmazonConfig {\n    private final String AWS_REGION = &quot;us-east-1&quot;;\n    private final String BUCKET_NAME = &quot;productstockimages&quot;;\n\n    @Value(&quot;${aws.accessKeyId}&quot;)\n    private String accessKeyId;\n\n    @Value(&quot;${aws.secretAccessKey}&quot;)\n    private String secretAccessKey;\n\n    @Bean\n    public S3Client s3Client() {\n        AwsBasicCredentials awsCreds = AwsBasicCredentials.create(accessKeyId, secretAccessKey);\n        return S3Client.builder()\n                .region(Region.of(AWS_REGION))\n                .credentialsProvider(StaticCredentialsProvider.create(awsCreds))\n                .build();\n    }\n}\n\n</code></pre>\n<p>In my secretKey and in my AccessKey, I configured in properties with the keys of my authorized IAM user from the amazon aws console.</p>\n"},{"tags":["java","android","couchbase"],"comments":[{"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"score":0,"creation_date":1678132185,"post_id":75655059,"comment_id":133470843,"body_markdown":"Are you trying to connect to a Couchbase Server or are you trying to embed Couchbase Lite in a Java app?","body":"Are you trying to connect to a Couchbase Server or are you trying to embed Couchbase Lite in a Java app?"},{"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"score":0,"creation_date":1678132203,"post_id":75655059,"comment_id":133470848,"body_markdown":"If you&#39;re using Server, what version are you using?","body":"If you&#39;re using Server, what version are you using?"},{"owner":{"account_id":23044280,"reputation":31,"user_id":17162030,"display_name":"Juser"},"score":1,"creation_date":1678132872,"post_id":75655059,"comment_id":133471022,"body_markdown":"It&#39;s CouchbaseLite for now","body":"It&#39;s CouchbaseLite for now"},{"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"score":0,"creation_date":1678284213,"post_id":75655059,"comment_id":133502576,"body_markdown":"I&#39;m no Java developer, FYI, but I&#39;m a little confused. You&#39;re importing `com.couchbase.client.java.*` but your bundle file is referencing `com.couchbase.lite...`. So I think you&#39;re trying to import the Server SDK libraries, but you actually want the Couchbase Lite SDK libraries. Have you gone through the Install docs for Couchbase Lite for Java? https://docs.couchbase.com/couchbase-lite/current/java/gs-install.html","body":"I&#39;m no Java developer, FYI, but I&#39;m a little confused. You&#39;re importing <code>com.couchbase.client.java.*</code> but your bundle file is referencing <code>com.couchbase.lite...</code>. So I think you&#39;re trying to import the Server SDK libraries, but you actually want the Couchbase Lite SDK libraries. Have you gone through the Install docs for Couchbase Lite for Java? <a href=\"https://docs.couchbase.com/couchbase-lite/current/java/gs-install.html\" rel=\"nofollow noreferrer\">docs.couchbase.com/couchbase-lite/current/java/gs-install.ht&zwnj;&#8203;ml</a>"}],"owner":{"account_id":23044280,"reputation":31,"user_id":17162030,"display_name":"Juser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1678131171,"creation_date":1678131044,"question_id":75655059,"body_markdown":"I&#39;m trying to build a project using couchbase. The thing is, the system cannot even locate the package. Thus when I try\r\n\r\n```\r\nimport com.couchbase.client.java.Cluster;\r\n// or any other of the below\r\n\r\nimport com.couchbase.client.java.CouchbaseCluster;\r\nimport com.couchbase.client.java.Bucket;\r\n\r\nimport com.couchbase.client.java.document.JsonDocument;\r\nimport com.couchbase.client.java.document.json.JsonObject;\r\n```\r\n\r\nit says couchbase can&#39;t be located.\r\n\r\nIn build.gradle file I&#39;ve tried including (among other different) these lines\r\n\r\n```\r\nimplementation &#39;com.couchbase.lite:couchbase-lite-android-ee:3.0.0&#39;\r\nimplementation &#39;com.couchbase.lite:couchbase-lite-android:2.0.0&#39;\r\n// To access the database through HTTP (often used for hybrid development and peer-to-peer sync).\r\nimplementation &#39;com.couchbase.lite:couchbase-lite-java-listener:1.4.4&#39;\r\n// To use ForestDB as the storage type.\r\nimplementation &#39;com.couchbase.lite:couchbase-lite-android-forestdb:1.4.4&#39;\r\n// To enable encryption on SQLite databases.\r\nimplementation &#39;com.couchbase.lite:couchbase-lite-android-sqlcipher:1.4.4&#39;\r\nimplementation &#39;com.couchbase.lite:couchbase-lite-java-javascript:1.2.1&#39;\r\nimplementation &#39;com.couchbase.lite:couchbase-lite-android:1.1.0&#39;\r\n```\r\n\r\nI found these on stackoverflow. However, it seems that they no longer work / deprecated. I wonder if there is still a way to implement couchbase?","title":"Couchbase module cannot be found in Android studio","body":"<p>I'm trying to build a project using couchbase. The thing is, the system cannot even locate the package. Thus when I try</p>\n<pre><code>import com.couchbase.client.java.Cluster;\n// or any other of the below\n\nimport com.couchbase.client.java.CouchbaseCluster;\nimport com.couchbase.client.java.Bucket;\n\nimport com.couchbase.client.java.document.JsonDocument;\nimport com.couchbase.client.java.document.json.JsonObject;\n</code></pre>\n<p>it says couchbase can't be located.</p>\n<p>In build.gradle file I've tried including (among other different) these lines</p>\n<pre><code>implementation 'com.couchbase.lite:couchbase-lite-android-ee:3.0.0'\nimplementation 'com.couchbase.lite:couchbase-lite-android:2.0.0'\n// To access the database through HTTP (often used for hybrid development and peer-to-peer sync).\nimplementation 'com.couchbase.lite:couchbase-lite-java-listener:1.4.4'\n// To use ForestDB as the storage type.\nimplementation 'com.couchbase.lite:couchbase-lite-android-forestdb:1.4.4'\n// To enable encryption on SQLite databases.\nimplementation 'com.couchbase.lite:couchbase-lite-android-sqlcipher:1.4.4'\nimplementation 'com.couchbase.lite:couchbase-lite-java-javascript:1.2.1'\nimplementation 'com.couchbase.lite:couchbase-lite-android:1.1.0'\n</code></pre>\n<p>I found these on stackoverflow. However, it seems that they no longer work / deprecated. I wonder if there is still a way to implement couchbase?</p>\n"},{"tags":["java","android","android-studio","web-scraping","jsoup"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678130984,"creation_date":1678130984,"answer_id":75655047,"question_id":75654683,"body_markdown":"Either increase the number or set it to zero:\r\n\r\n    ....timeout(0).get();\r\n\r\nA timeout of zero is treated as an infinite timeout.","title":"JSOUP in Android Studio for Web Scrapping","body":"<p>Either increase the number or set it to zero:</p>\n<pre><code>....timeout(0).get();\n</code></pre>\n<p>A timeout of zero is treated as an infinite timeout.</p>\n"}],"owner":{"account_id":17702384,"reputation":1,"user_id":12851749,"display_name":"my pc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678130984,"creation_date":1678128447,"question_id":75654683,"body_markdown":"I have having issue to web scrap data from this simple link:\r\n\r\nhttps://translatekreol.mu/translation.php?&amp;source=enn%20bon%20garson&amp;lang=kreol&amp;boutton=Translate\r\n\r\nThere is only the body tag to scrap but JSOUP library is not showing any result. The website is taking around 25seconds to load and despite timeout is 60000\r\n```\r\nDocument doc = Jsoup.connect(&quot;https://translatekreol.mu/translation.php?&amp;source=enn%20bon%20garson&amp;lang=kreol&amp;boutton=Translate&quot;).timeout(60000).get();\r\n```\r\nis not working. But if we scrap google.com instead of above url, it works.\r\n\r\nThe website: https://translatekreol.mu/translation.php?&amp;source=enn%20bon%20garson&amp;lang=kreol&amp;boutton=Translate is slow, so I increase the timeout to see if it can collect data but did not work.\r\n\r\nThe response of this website is from body tag, so despite getting data, the application stops at this point.\r\n\r\nPlease help me.\r\n","title":"JSOUP in Android Studio for Web Scrapping","body":"<p>I have having issue to web scrap data from this simple link:</p>\n<p><a href=\"https://translatekreol.mu/translation.php?&amp;source=enn%20bon%20garson&amp;lang=kreol&amp;boutton=Translate\" rel=\"nofollow noreferrer\">https://translatekreol.mu/translation.php?&amp;source=enn%20bon%20garson&amp;lang=kreol&amp;boutton=Translate</a></p>\n<p>There is only the body tag to scrap but JSOUP library is not showing any result. The website is taking around 25seconds to load and despite timeout is 60000</p>\n<pre><code>Document doc = Jsoup.connect(&quot;https://translatekreol.mu/translation.php?&amp;source=enn%20bon%20garson&amp;lang=kreol&amp;boutton=Translate&quot;).timeout(60000).get();\n</code></pre>\n<p>is not working. But if we scrap google.com instead of above url, it works.</p>\n<p>The website: <a href=\"https://translatekreol.mu/translation.php?&amp;source=enn%20bon%20garson&amp;lang=kreol&amp;boutton=Translate\" rel=\"nofollow noreferrer\">https://translatekreol.mu/translation.php?&amp;source=enn%20bon%20garson&amp;lang=kreol&amp;boutton=Translate</a> is slow, so I increase the timeout to see if it can collect data but did not work.</p>\n<p>The response of this website is from body tag, so despite getting data, the application stops at this point.</p>\n<p>Please help me.</p>\n"},{"tags":["java","memory-management","heap-memory"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1678134235,"post_id":75655038,"comment_id":133471365,"body_markdown":"I&#39;m not sure what you&#39;re expecting here.  Why would this be unusual or a problem?","body":"I&#39;m not sure what you&#39;re expecting here.  Why would this be unusual or a problem?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1678137228,"post_id":75655038,"comment_id":133472074,"body_markdown":"If you dont specify neither initial nor max heap size the JVM uses some algorithm to determine both. If you specify an initial heap size then it has the effect of providing a fixed initial heap size and the JVM still uses some algorithm to determine the max heap size.","body":"If you dont specify neither initial nor max heap size the JVM uses some algorithm to determine both. If you specify an initial heap size then it has the effect of providing a fixed initial heap size and the JVM still uses some algorithm to determine the max heap size."}],"owner":{"account_id":27950672,"reputation":1,"user_id":21344623,"display_name":"Arun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678130940,"creation_date":1678130940,"question_id":75655038,"body_markdown":"Say, I set the initial heap size (Xms) to a particular value and do not specify maximum heap size (Xmx). I&#39;m wondering that what that would mean / what the effect of that would be.\r\n\r\nI recently realized that I had done that for one of PRs mistakenly. I didn&#39;t face any issues. That made me wonder what the effect of this might be. ","title":"What happens if only the initial heap size (Xms) is set and maximum is left unspecified (Xmx)?","body":"<p>Say, I set the initial heap size (Xms) to a particular value and do not specify maximum heap size (Xmx). I'm wondering that what that would mean / what the effect of that would be.</p>\n<p>I recently realized that I had done that for one of PRs mistakenly. I didn't face any issues. That made me wonder what the effect of this might be.</p>\n"},{"tags":["java","wildfly","activemq-artemis","java-ee-8","message-listener"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1677776122,"post_id":75618389,"comment_id":133408628,"body_markdown":"What pool are you referring to? How do you know the pool is not ready to work on the message(s)?","body":"What pool are you referring to? How do you know the pool is not ready to work on the message(s)?"},{"owner":{"account_id":17292944,"reputation":5,"user_id":12524189,"display_name":"canEE"},"score":0,"creation_date":1677833438,"post_id":75618389,"comment_id":133418968,"body_markdown":"I have defined max 8 pools in Wildfly &lt;strict-max-pool name=&quot;delivery-mdb-pool&quot; max-pool-size=&quot;8&quot; .../&gt; I know it is not ready because I can see that I have for example put 10,000 messages on the queue, the MessageListener have only handled f.eks 1000, and the queue is empty in activeMQ. If I stop sending to the queue, the MessageListener will still handle the last 9000.","body":"I have defined max 8 pools in Wildfly &lt;strict-max-pool name=&quot;delivery-mdb-pool&quot; max-pool-size=&quot;8&quot; .../&gt; I know it is not ready because I can see that I have for example put 10,000 messages on the queue, the MessageListener have only handled f.eks 1000, and the queue is empty in activeMQ. If I stop sending to the queue, the MessageListener will still handle the last 9000."}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678130873,"creation_date":1678130873,"answer_id":75655022,"question_id":75618389,"body_markdown":"As far as I can tell what you&#39;re seeing is the expected behavior. This is because the creation of sessions and receiving of messages by the JCA RA is independent of the instance pool size used by the EE container for the MDB.\r\n\r\nIn short, the JCA RA receives the message from the broker and passes it to an instance of the MDB. If no MDB instance is available the JCA RA just waits for one to become available. If you don&#39;t want to get into this kind of situation then you should set the `maxSession` activation configuration property on the MDB to the same value you use for the MDB instance pool (i.e. `8` in this case).\r\n\r\nAlso, aside from this, it is important to keep in mind that the core client used within the JCA RA will fetch a batch of messages all at once and buffer them so that it doesn&#39;t have to make a network round-trip to the broker for _every single message_. This is a performance optimization controlled by the `consumerWindowSize` activation configuration property and it impacts all core clients, not just ones in an EE context. This will also impact your use-case. If, for some reason, you want the message count in the broker to exactly reflect how many messages have been _consumed_ and not include any buffered messages then you can set the `consumerWindowSize` to `0`, but that will negatively impact performance, potentially severely.","title":"Why is MessageListener consuming ActiveMQ messages before a pool is ready to work on the message?","body":"<p>As far as I can tell what you're seeing is the expected behavior. This is because the creation of sessions and receiving of messages by the JCA RA is independent of the instance pool size used by the EE container for the MDB.</p>\n<p>In short, the JCA RA receives the message from the broker and passes it to an instance of the MDB. If no MDB instance is available the JCA RA just waits for one to become available. If you don't want to get into this kind of situation then you should set the <code>maxSession</code> activation configuration property on the MDB to the same value you use for the MDB instance pool (i.e. <code>8</code> in this case).</p>\n<p>Also, aside from this, it is important to keep in mind that the core client used within the JCA RA will fetch a batch of messages all at once and buffer them so that it doesn't have to make a network round-trip to the broker for <em>every single message</em>. This is a performance optimization controlled by the <code>consumerWindowSize</code> activation configuration property and it impacts all core clients, not just ones in an EE context. This will also impact your use-case. If, for some reason, you want the message count in the broker to exactly reflect how many messages have been <em>consumed</em> and not include any buffered messages then you can set the <code>consumerWindowSize</code> to <code>0</code>, but that will negatively impact performance, potentially severely.</p>\n"}],"owner":{"account_id":17292944,"reputation":5,"user_id":12524189,"display_name":"canEE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75655022,"answer_count":1,"score":0,"last_activity_date":1678130873,"creation_date":1677775230,"question_id":75618389,"body_markdown":"Application deployed on WildFly using Java EE `javax.jms.MessageListener` to consume messages from queue.\r\n\r\n```java\r\n@ResourceAdapter(&quot;remote-artemis&quot;)\r\n@MessageDriven(name = &quot;DeliveryMDB&quot;, activationConfig = {\r\n        @ActivationConfigProperty(propertyName = &quot;destinationLookup&quot;, propertyValue = &quot;delivery_inbound&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;)\r\n})\r\n@TransactionManagement(TransactionManagementType.CONTAINER)\r\n@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED)\r\n@Pool(value=&quot;delivery-mdb-pool&quot;)\r\n```\r\nThis `MessageListener` consumes all messages on the queue regardless of if a *pool* is ready to work on the message. This has multiple negative effects, such as having to wait for the application to handle all messages before shutdown is triggered (problematic because we have thousands of messages in queue). If a forced shutdown is needed then all the messages are gone. We can no longer track the number of message in queue in ActiveMQ because they are all consumed. \r\n\r\nI expected the `MessageListener` to only consume a message when a *pool* was ready. I have tried to read the ActiveMQ documentation, but cannot find anything relevant.\r\n\r\nIs this normal behavior?","title":"Why is MessageListener consuming ActiveMQ messages before a pool is ready to work on the message?","body":"<p>Application deployed on WildFly using Java EE <code>javax.jms.MessageListener</code> to consume messages from queue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResourceAdapter(&quot;remote-artemis&quot;)\n@MessageDriven(name = &quot;DeliveryMDB&quot;, activationConfig = {\n        @ActivationConfigProperty(propertyName = &quot;destinationLookup&quot;, propertyValue = &quot;delivery_inbound&quot;),\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;),\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;)\n})\n@TransactionManagement(TransactionManagementType.CONTAINER)\n@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED)\n@Pool(value=&quot;delivery-mdb-pool&quot;)\n</code></pre>\n<p>This <code>MessageListener</code> consumes all messages on the queue regardless of if a <em>pool</em> is ready to work on the message. This has multiple negative effects, such as having to wait for the application to handle all messages before shutdown is triggered (problematic because we have thousands of messages in queue). If a forced shutdown is needed then all the messages are gone. We can no longer track the number of message in queue in ActiveMQ because they are all consumed.</p>\n<p>I expected the <code>MessageListener</code> to only consume a message when a <em>pool</em> was ready. I have tried to read the ActiveMQ documentation, but cannot find anything relevant.</p>\n<p>Is this normal behavior?</p>\n"},{"tags":["java","exception","jakarta-mail","smtp-auth"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1388040878,"post_id":20780495,"comment_id":31148668,"body_markdown":"Try `properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);` and you&#39;ll probably need username and password too.","body":"Try <code>properties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);</code> and you&#39;ll probably need username and password too."},{"owner":{"account_id":3238984,"reputation":585,"user_id":2732482,"accept_rate":0,"display_name":"Malik"},"score":0,"creation_date":1388041062,"post_id":20780495,"comment_id":31148750,"body_markdown":"Thanks for your reply Elliott , how can i specify username and password? Would you please tell me.","body":"Thanks for your reply Elliott , how can i specify username and password? Would you please tell me."},{"owner":{"account_id":1570610,"reputation":442,"user_id":1458377,"display_name":"Sanjay Nagare"},"score":0,"creation_date":1388041542,"post_id":20780495,"comment_id":31148893,"body_markdown":"Hey Malik,is your problem solved?","body":"Hey Malik,is your problem solved?"},{"owner":{"account_id":3238984,"reputation":585,"user_id":2732482,"accept_rate":0,"display_name":"Malik"},"score":0,"creation_date":1388043526,"post_id":20780495,"comment_id":31149516,"body_markdown":"Yes Sanjay My problem is solved. :)","body":"Yes Sanjay My problem is solved. :)"}],"answers":[{"tags":[],"owner":{"account_id":1144443,"reputation":4425,"user_id":2113996,"accept_rate":31,"display_name":"eatSleepCode"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1388041303,"creation_date":1388041303,"answer_id":20780609,"question_id":20780495,"body_markdown":"While creating session override a method `PasswordAuthentication` and in that give username and password.\r\n\r\n        Session session = Session.getDefaultInstance(props,\tnew javax.mail.Authenticator() \r\n        {\r\n            protected PasswordAuthentication getPasswordAuthentication() \r\n        \t{\r\n        \t    return new PasswordAuthentication(&quot;pqr@gmail.com&quot;,&quot;xyz@123&quot;);\r\n        \t}\r\n       });","title":"com.sun.mail.smtp.SMTPSendFailedException: 530-5.5.1 Authentication Required","body":"<p>While creating session override a method <code>PasswordAuthentication</code> and in that give username and password.</p>\n\n<pre><code>    Session session = Session.getDefaultInstance(props, new javax.mail.Authenticator() \n    {\n        protected PasswordAuthentication getPasswordAuthentication() \n        {\n            return new PasswordAuthentication(\"pqr@gmail.com\",\"xyz@123\");\n        }\n   });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1388041340,"creation_date":1388041340,"answer_id":20780617,"question_id":20780495,"body_markdown":"Try these\r\n\r\n    String login = &quot;myemailhere&quot;;\r\n    String pass = &quot;mypasshere&quot;;\r\n    properties.setProperty(&quot;mail.smtp.user&quot;, login);\r\n    properties.setProperty(&quot;mail.smtp.password&quot;, pass);\r\n    properties.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;);      \r\n\r\n    Transport transport = session.getTransport(&quot;smtp&quot;);\r\n    transport.connect(null, login, pass);","title":"com.sun.mail.smtp.SMTPSendFailedException: 530-5.5.1 Authentication Required","body":"<p>Try these</p>\n\n<pre><code>String login = \"myemailhere\";\nString pass = \"mypasshere\";\nproperties.setProperty(\"mail.smtp.user\", login);\nproperties.setProperty(\"mail.smtp.password\", pass);\nproperties.setProperty(\"mail.smtp.auth\", \"true\");      \n\nTransport transport = session.getTransport(\"smtp\");\ntransport.connect(null, login, pass);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1570610,"reputation":442,"user_id":1458377,"display_name":"Sanjay Nagare"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1388041447,"creation_date":1388041447,"answer_id":20780637,"question_id":20780495,"body_markdown":"    properties.setProperty(&quot;mail.smtp.user&quot;, &quot;abc&quot;);\r\n    properties.setProperty(&quot;mail.smtp.password&quot;, &quot;xyz&quot;);\r\n    properties.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;); \r\nplease try using this ","title":"com.sun.mail.smtp.SMTPSendFailedException: 530-5.5.1 Authentication Required","body":"<pre><code>properties.setProperty(\"mail.smtp.user\", \"abc\");\nproperties.setProperty(\"mail.smtp.password\", \"xyz\");\nproperties.setProperty(\"mail.smtp.auth\", \"true\"); \n</code></pre>\n\n<p>please try using this </p>\n"},{"tags":[],"owner":{"account_id":2622997,"reputation":76,"user_id":2270628,"display_name":"Denis Sheremetov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417117934,"creation_date":1417117934,"answer_id":27177903,"question_id":20780495,"body_markdown":"If it still doesn&#39;t work for you try this:\r\n\r\n\r\n    properties.setProperty(&quot;mail.smtps.ssl.enable&quot;, &quot;true&quot;);\r\n    properties.setProperty(&quot;mail.smtps.auth&quot;, &quot;true&quot;); ","title":"com.sun.mail.smtp.SMTPSendFailedException: 530-5.5.1 Authentication Required","body":"<p>If it still doesn't work for you try this:</p>\n\n<pre><code>properties.setProperty(\"mail.smtps.ssl.enable\", \"true\");\nproperties.setProperty(\"mail.smtps.auth\", \"true\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4409432,"reputation":1027,"user_id":3592811,"display_name":"Dias Abdraimov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520409755,"creation_date":1520409755,"answer_id":49146860,"question_id":20780495,"body_markdown":"Try also\r\n\r\n    Transport.send(message, user, pass);\r\n\r\nI have found this in Transport class documentation\r\n\r\n&gt; Use the specified user name and password to authenticate to the mail\r\n&gt; server.\r\n\r\n    public static void send(Message msg, String user, String password) throws MessagingException {\r\n    \r\n    \tmsg.saveChanges();\r\n    \tsend0(msg, msg.getAllRecipients(), user, password);\r\n    }\r\n\r\nI am Using JavaMail v 1.6.1 and [MailTrap SMTP Server][1]\r\n\r\n\r\n  [1]: https://mailtrap.io/","title":"com.sun.mail.smtp.SMTPSendFailedException: 530-5.5.1 Authentication Required","body":"<p>Try also</p>\n\n<pre><code>Transport.send(message, user, pass);\n</code></pre>\n\n<p>I have found this in Transport class documentation</p>\n\n<blockquote>\n  <p>Use the specified user name and password to authenticate to the mail\n  server.</p>\n</blockquote>\n\n<pre><code>public static void send(Message msg, String user, String password) throws MessagingException {\n\n    msg.saveChanges();\n    send0(msg, msg.getAllRecipients(), user, password);\n}\n</code></pre>\n\n<p>I am Using JavaMail v 1.6.1 and <a href=\"https://mailtrap.io/\" rel=\"nofollow noreferrer\">MailTrap SMTP Server</a></p>\n"},{"tags":[],"owner":{"account_id":3270337,"reputation":2871,"user_id":2753863,"display_name":"Vladimir Vagaytsev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533637590,"creation_date":1520947153,"answer_id":49257256,"question_id":20780495,"body_markdown":"I faced the same issue recently. I tried to send an email over Gmail server with API key + password auth. `Transport.send(message)` didn&#39;t work for me, I debugged it and found out that it ignored session settings attached to the `message`.\r\n\r\nThis is now I did the email sending over SMTP Gmail server with auth and TLS. I used `com.sun.mail:javax.mail-1.6.1`\r\n\r\n        String host = &quot;your-email-server-host&quot;; // define your server host here\r\n        int port = 587; // standard port for TLS connection\r\n\r\n        // config session properties, here the SMTP protocol is used\r\n        Properties properties = new Properties();\r\n        properties.setProperty(&quot;mail.smtp.host&quot;, host);\r\n        properties.setProperty(&quot;mail.smtp.port&quot;, String.valueOf(port));\r\n        properties.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;); // enable auth\r\n        properties.setProperty(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;); // enable TLS\r\n\r\n        // get session instace baed on the settings defined above\r\n        Session session = Session.getInstance(properties);\r\n\r\n        // `prepareMessage` implementation is omitted, construct your own message here\r\n        MimeMessage mimeMessage = prepareMessage(email, session);\r\n\r\n        // your credentials       \r\n        String username = &quot;your-username@gmail.com&quot;; // or API key, I used API key\r\n        String password = &quot;your-password&quot;;\r\n\r\n        // get the transport instance from the freshly created session\r\n        // pass the valid protocol name, here the SMTP is used\r\n        Transport transport = session.getTransport(&quot;stmp&quot;);\r\n\r\n        // connect to the transport instance with your credentials\r\n        transport.connect(host, port, username,password);\r\n\r\n        // send the message\r\n        transport.sendMessage(mimeMessage, mimeMessage.getAllRecipients());\r\n\r\n","title":"com.sun.mail.smtp.SMTPSendFailedException: 530-5.5.1 Authentication Required","body":"<p>I faced the same issue recently. I tried to send an email over Gmail server with API key + password auth. <code>Transport.send(message)</code> didn't work for me, I debugged it and found out that it ignored session settings attached to the <code>message</code>.</p>\n\n<p>This is now I did the email sending over SMTP Gmail server with auth and TLS. I used <code>com.sun.mail:javax.mail-1.6.1</code></p>\n\n<pre><code>    String host = \"your-email-server-host\"; // define your server host here\n    int port = 587; // standard port for TLS connection\n\n    // config session properties, here the SMTP protocol is used\n    Properties properties = new Properties();\n    properties.setProperty(\"mail.smtp.host\", host);\n    properties.setProperty(\"mail.smtp.port\", String.valueOf(port));\n    properties.setProperty(\"mail.smtp.auth\", \"true\"); // enable auth\n    properties.setProperty(\"mail.smtp.starttls.enable\", \"true\"); // enable TLS\n\n    // get session instace baed on the settings defined above\n    Session session = Session.getInstance(properties);\n\n    // `prepareMessage` implementation is omitted, construct your own message here\n    MimeMessage mimeMessage = prepareMessage(email, session);\n\n    // your credentials       \n    String username = \"your-username@gmail.com\"; // or API key, I used API key\n    String password = \"your-password\";\n\n    // get the transport instance from the freshly created session\n    // pass the valid protocol name, here the SMTP is used\n    Transport transport = session.getTransport(\"stmp\");\n\n    // connect to the transport instance with your credentials\n    transport.connect(host, port, username,password);\n\n    // send the message\n    transport.sendMessage(mimeMessage, mimeMessage.getAllRecipients());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3091695,"reputation":151,"user_id":2617666,"display_name":"Rishi Singhal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1541121970,"creation_date":1541084792,"answer_id":53103972,"question_id":20780495,"body_markdown":"This works for me:\r\n\r\n    final Properties properties = System.getProperties();\r\n\r\n\t// Setting up mail server\r\n\tproperties.setProperty(&quot;mail.smtp.host&quot;, EMAIL_SMTP_HOST);\r\n\tproperties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\tproperties.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\r\n\tSession session = Session.getInstance(properties, new Authenticator() {\r\n\t\t@Override\r\n\t\tprotected PasswordAuthentication getPasswordAuthentication() {\r\n\t\t\treturn new PasswordAuthentication(EMAIL_USERNAME,\r\n\t\t\t\t\tEMAIL_PASSWORD);\r\n\t\t}\r\n\t});\r\n\tsession.setDebug(true);","title":"com.sun.mail.smtp.SMTPSendFailedException: 530-5.5.1 Authentication Required","body":"<p>This works for me:</p>\n\n<pre><code>final Properties properties = System.getProperties();\n\n// Setting up mail server\nproperties.setProperty(\"mail.smtp.host\", EMAIL_SMTP_HOST);\nproperties.put(\"mail.smtp.starttls.enable\", \"true\");\nproperties.put(\"mail.smtp.auth\", \"true\");\n\nSession session = Session.getInstance(properties, new Authenticator() {\n    @Override\n    protected PasswordAuthentication getPasswordAuthentication() {\n        return new PasswordAuthentication(EMAIL_USERNAME,\n                EMAIL_PASSWORD);\n    }\n});\nsession.setDebug(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22016368,"reputation":1,"user_id":16285793,"display_name":"xinping"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624331106,"creation_date":1624331106,"answer_id":68077023,"question_id":20780495,"body_markdown":"    properties.setProperty(&quot;mail.smtp.user&quot;, &quot;abc&quot;);\r\n    properties.setProperty(&quot;mail.smtp.password&quot;, &quot;xyz&quot;);\r\n    properties.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\r\nit worked, fix my problem\r\n\r\n","title":"com.sun.mail.smtp.SMTPSendFailedException: 530-5.5.1 Authentication Required","body":"<pre><code>properties.setProperty(&quot;mail.smtp.user&quot;, &quot;abc&quot;);\nproperties.setProperty(&quot;mail.smtp.password&quot;, &quot;xyz&quot;);\nproperties.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n</code></pre>\n<p>it worked, fix my problem</p>\n"},{"tags":[],"owner":{"account_id":19863584,"reputation":301,"user_id":14551409,"display_name":"Eduard Frankford"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678130783,"creation_date":1678130783,"answer_id":75655014,"question_id":20780495,"body_markdown":"For me to make it work with a JHipster application I had to implement my custom JavaMailSenderImpl() because via properties did not work.\r\n\r\nInside the MailService Class create a method:\r\n\r\n    public JavaMailSender getJavaMailSender() {\r\n    JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n    mailSender.setHost(&quot;&quot;);\r\n    mailSender.setPort(587);\r\n\r\n    mailSender.setUsername(&quot;&quot;);\r\n    mailSender.setPassword(&quot;&quot;);\r\n\r\n    Properties props = mailSender.getJavaMailProperties();\r\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\r\n    return mailSender;}\r\n\r\nThen you can use this implementation and go on as normal:\r\n\r\n    JavaMailSender javaMailSender = getJavaMailSender();\r\n    MimeMessage mimeMessage = javaMailSender.createMimeMessage(); \r\n\r\nI think the reason why I had to do this was that my application connected via VPN to the server and there some things got mixed up.","title":"com.sun.mail.smtp.SMTPSendFailedException: 530-5.5.1 Authentication Required","body":"<p>For me to make it work with a JHipster application I had to implement my custom JavaMailSenderImpl() because via properties did not work.</p>\n<p>Inside the MailService Class create a method:</p>\n<pre><code>public JavaMailSender getJavaMailSender() {\nJavaMailSenderImpl mailSender = new JavaMailSenderImpl();\nmailSender.setHost(&quot;&quot;);\nmailSender.setPort(587);\n\nmailSender.setUsername(&quot;&quot;);\nmailSender.setPassword(&quot;&quot;);\n\nProperties props = mailSender.getJavaMailProperties();\nprops.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\nprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\nprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\nprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\n\nreturn mailSender;}\n</code></pre>\n<p>Then you can use this implementation and go on as normal:</p>\n<pre><code>JavaMailSender javaMailSender = getJavaMailSender();\nMimeMessage mimeMessage = javaMailSender.createMimeMessage(); \n</code></pre>\n<p>I think the reason why I had to do this was that my application connected via VPN to the server and there some things got mixed up.</p>\n"}],"owner":{"account_id":3238984,"reputation":585,"user_id":2732482,"accept_rate":0,"display_name":"Malik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45178,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":9,"score":2,"last_activity_date":1678130783,"creation_date":1388040758,"question_id":20780495,"body_markdown":"I am trying to send an Email from my Java Application to any particular email address.\r\nI am using Java Mail API but Unfortunately i am getting SMTPSendFailedException error. Can any body tell me where i am doing a mistake. Here is my code\r\n\r\n    import java.util.*;\r\n    \r\n    import javax.mail.*;\r\n    import javax.mail.internet.*;\r\n    import javax.activation.*;\r\n    \r\n    //import SeconMail.Authenticator;\r\n    \r\n    public class SendMail\r\n    {\r\n    \t\r\n       public static void main(String [] args)\r\n       {    \r\n    \t  \r\n          // Recipient&#39;s email ID needs to be mentioned.\r\n          String to = &quot;to@gmail.com&quot;;\r\n    \r\n          // Sender&#39;s email ID needs to be mentioned\r\n          String from = &quot;from@expertflow.com&quot;;\r\n    \r\n          // Assuming you are sending email from localhost\r\n          String host = &quot;smtp.gmail.com&quot;;\r\n    \r\n          // Get system properties\r\n          Properties properties = System.getProperties();\r\n    \r\n          // Setup mail server\r\n      \r\n          properties.setProperty(&quot;mail.smtp.host&quot;, host);\r\n    \r\n          \r\n          properties.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    \r\n          properties.put(&quot;mail.smtp.auth&quot;, &quot;false&quot;);\r\n          // Get the default Session object.\r\n          Session session = Session.getDefaultInstance(properties);\r\n          session.setDebug(true);\r\n    \r\n          try{\r\n             // Create a default MimeMessage object.\r\n             MimeMessage message = new MimeMessage(session);\r\n    \r\n             // Set From: header field of the header.\r\n             message.setFrom(new InternetAddress(from));\r\n    \r\n             // Set To: header field of the header.\r\n             message.addRecipient(Message.RecipientType.TO,\r\n                                      new InternetAddress(to));\r\n    \r\n             // Set Subject: header field\r\n             message.setSubject(&quot;This is the Subject Line!&quot;);\r\n    \r\n             // Now set the actual message\r\n             message.setText(&quot;This is actual message&quot;);\r\n    \r\n             // Send message\r\n             Transport.send(message);\r\n             System.out.println(&quot;Sent message successfully....&quot;);\r\n          }catch (MessagingException mex) {\r\n             mex.printStackTrace();\r\n          }\r\n       }\r\n    }\r\n\r\n","title":"com.sun.mail.smtp.SMTPSendFailedException: 530-5.5.1 Authentication Required","body":"<p>I am trying to send an Email from my Java Application to any particular email address.\nI am using Java Mail API but Unfortunately i am getting SMTPSendFailedException error. Can any body tell me where i am doing a mistake. Here is my code</p>\n\n<pre><code>import java.util.*;\n\nimport javax.mail.*;\nimport javax.mail.internet.*;\nimport javax.activation.*;\n\n//import SeconMail.Authenticator;\n\npublic class SendMail\n{\n\n   public static void main(String [] args)\n   {    \n\n      // Recipient's email ID needs to be mentioned.\n      String to = \"to@gmail.com\";\n\n      // Sender's email ID needs to be mentioned\n      String from = \"from@expertflow.com\";\n\n      // Assuming you are sending email from localhost\n      String host = \"smtp.gmail.com\";\n\n      // Get system properties\n      Properties properties = System.getProperties();\n\n      // Setup mail server\n\n      properties.setProperty(\"mail.smtp.host\", host);\n\n\n      properties.put(\"mail.smtp.starttls.enable\", \"true\");\n\n      properties.put(\"mail.smtp.auth\", \"false\");\n      // Get the default Session object.\n      Session session = Session.getDefaultInstance(properties);\n      session.setDebug(true);\n\n      try{\n         // Create a default MimeMessage object.\n         MimeMessage message = new MimeMessage(session);\n\n         // Set From: header field of the header.\n         message.setFrom(new InternetAddress(from));\n\n         // Set To: header field of the header.\n         message.addRecipient(Message.RecipientType.TO,\n                                  new InternetAddress(to));\n\n         // Set Subject: header field\n         message.setSubject(\"This is the Subject Line!\");\n\n         // Now set the actual message\n         message.setText(\"This is actual message\");\n\n         // Send message\n         Transport.send(message);\n         System.out.println(\"Sent message successfully....\");\n      }catch (MessagingException mex) {\n         mex.printStackTrace();\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","html","deployment","server","cpanel"],"owner":{"account_id":19799707,"reputation":1,"user_id":21344573,"display_name":"Uchavero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678130463,"creation_date":1678130463,"question_id":75654973,"body_markdown":"I have a problem deploying my JSP(war) project in the cpanel of my web domain. the login link opens it: http://www.miaventon.com.mx/app/login.jsp\r\nbut when I try to enter with the username and password, the action (servlet) sends it to me as 404 as if my servlet did not exist, I already added an htaccess in public html but it remains the same\r\n\r\nhtaccess: \r\n\r\n```\r\nSetHandler jakarta-servlet\r\nSetEnv JK_WORKER_NAME ajp13\r\nRewriteEngine On  \r\n  RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} -f [OR]\r\n  RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} -d\r\n  RewriteRule ^ - [L]\r\n\r\n  RewriteRule ^ /app/login.jsp [L]\r\n```\r\n\r\n\r\nhe buscado en videos e ingresado ciertas lineas de c&#243;digo pero no, tambi&#233;n he ingreso la version con glasfish y con tomcat y no","title":"deploy a JSP project (war) in cpanel","body":"<p>I have a problem deploying my JSP(war) project in the cpanel of my web domain. the login link opens it: <a href=\"http://www.miaventon.com.mx/app/login.jsp\" rel=\"nofollow noreferrer\">http://www.miaventon.com.mx/app/login.jsp</a>\nbut when I try to enter with the username and password, the action (servlet) sends it to me as 404 as if my servlet did not exist, I already added an htaccess in public html but it remains the same</p>\n<p>htaccess:</p>\n<pre><code>SetHandler jakarta-servlet\nSetEnv JK_WORKER_NAME ajp13\nRewriteEngine On  \n  RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} -f [OR]\n  RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} -d\n  RewriteRule ^ - [L]\n\n  RewriteRule ^ /app/login.jsp [L]\n</code></pre>\n<p>he buscado en videos e ingresado ciertas lineas de cdigo pero no, tambin he ingreso la version con glasfish y con tomcat y no</p>\n"},{"tags":["java","web-services","soap","wsdl","saaj"],"answers":[{"tags":[],"owner":{"account_id":5785597,"reputation":9456,"user_id":4564945,"display_name":"Necreaux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678130405,"creation_date":1603462067,"answer_id":64501562,"question_id":28604395,"body_markdown":"This is a bug in SAAJ, the Java SOAP library being used.\r\n\r\nIn an error response, the SOAP &quot;faultcode&quot; value is supposed to be formatted in a qname (prefix:localName) format. Older versions of SAAJ enforce this too strictly, giving this error if the prefix is blank. Upgrading to 1.3.16 fixes this issue.\r\n\r\nSee: https://github.com/javaee/metro-saaj/issues/47","title":"JAX-WS: com.sun.xml.messaging.saaj.SOAPExceptionImpl: No NamespaceURI, SOAP requires faultcode content to be a QName","body":"<p>This is a bug in SAAJ, the Java SOAP library being used.</p>\n<p>In an error response, the SOAP &quot;faultcode&quot; value is supposed to be formatted in a qname (prefix:localName) format. Older versions of SAAJ enforce this too strictly, giving this error if the prefix is blank. Upgrading to 1.3.16 fixes this issue.</p>\n<p>See: <a href=\"https://github.com/javaee/metro-saaj/issues/47\" rel=\"nofollow noreferrer\">https://github.com/javaee/metro-saaj/issues/47</a></p>\n"}],"owner":{"account_id":1664153,"reputation":2331,"user_id":1531904,"accept_rate":62,"display_name":"Mary Ryllo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":867,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678130405,"creation_date":1424343006,"question_id":28604395,"body_markdown":"I&#39;m performing a SOAP request via SSL. One request is working, but another request for same SOAP service fails with this exception: \r\n\r\n    java.lang.reflect.UndeclaredThrowableException\r\n    \tcom.sun.proxy.$Proxy980.initPayment2(Unknown Source)\r\n    \tcom.mobimoney.emulator.rostelecom.utils.LogicImpl.executeInitPayment2(LogicImpl.java:76)\r\n    \tcom.mobimoney.emulator.rostelecom.servlets.InitPaymentPageServlet.execInitPayment(InitPaymentPageServlet.java:56)\r\n    \tcom.mobimoney.emulator.rostelecom.servlets.InitPaymentPageServlet.service(InitPaymentPageServlet.java:24)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    \torg.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)\r\n    com.sun.xml.messaging.saaj.SOAPExceptionImpl: No NamespaceURI, SOAP requires faultcode content to be a QName\r\n    \tcom.sun.xml.messaging.saaj.soap.impl.FaultImpl.setFaultCode(FaultImpl.java:155)\r\n    \tcom.sun.xml.messaging.saaj.soap.impl.FaultImpl.setFaultCode(FaultImpl.java:171)\r\n    \torg.apache.cxf.jaxws.JaxWsClientProxy.createSoapFault(JaxWsClientProxy.java:208)\r\n    \torg.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:142)\r\n    \tcom.sun.proxy.$Proxy980.initPayment2(Unknown Source)\r\n    \tcom.mobimoney.emulator.rostelecom.utils.LogicImpl.executeInitPayment2(LogicImpl.java:76)\r\n    \tcom.mobimoney.emulator.rostelecom.servlets.InitPaymentPageServlet.execInitPayment(InitPaymentPageServlet.java:56)\r\n    \tcom.mobimoney.emulator.rostelecom.servlets.InitPaymentPageServlet.service(InitPaymentPageServlet.java:24)\r\n    \tjavax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n    \torg.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)\r\n\r\nI can&#39;t understand what&#39;s going wrong. I&#39;ve Googled this exception and didn&#39;t find anything useful.\r\nMaybe this is a problem in WSDL or how I generated classes from WSDL? ","title":"JAX-WS: com.sun.xml.messaging.saaj.SOAPExceptionImpl: No NamespaceURI, SOAP requires faultcode content to be a QName","body":"<p>I'm performing a SOAP request via SSL. One request is working, but another request for same SOAP service fails with this exception:</p>\n<pre><code>java.lang.reflect.UndeclaredThrowableException\n    com.sun.proxy.$Proxy980.initPayment2(Unknown Source)\n    com.mobimoney.emulator.rostelecom.utils.LogicImpl.executeInitPayment2(LogicImpl.java:76)\n    com.mobimoney.emulator.rostelecom.servlets.InitPaymentPageServlet.execInitPayment(InitPaymentPageServlet.java:56)\n    com.mobimoney.emulator.rostelecom.servlets.InitPaymentPageServlet.service(InitPaymentPageServlet.java:24)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)\ncom.sun.xml.messaging.saaj.SOAPExceptionImpl: No NamespaceURI, SOAP requires faultcode content to be a QName\n    com.sun.xml.messaging.saaj.soap.impl.FaultImpl.setFaultCode(FaultImpl.java:155)\n    com.sun.xml.messaging.saaj.soap.impl.FaultImpl.setFaultCode(FaultImpl.java:171)\n    org.apache.cxf.jaxws.JaxWsClientProxy.createSoapFault(JaxWsClientProxy.java:208)\n    org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:142)\n    com.sun.proxy.$Proxy980.initPayment2(Unknown Source)\n    com.mobimoney.emulator.rostelecom.utils.LogicImpl.executeInitPayment2(LogicImpl.java:76)\n    com.mobimoney.emulator.rostelecom.servlets.InitPaymentPageServlet.execInitPayment(InitPaymentPageServlet.java:56)\n    com.mobimoney.emulator.rostelecom.servlets.InitPaymentPageServlet.service(InitPaymentPageServlet.java:24)\n    javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n    org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96)\n</code></pre>\n<p>I can't understand what's going wrong. I've Googled this exception and didn't find anything useful.\nMaybe this is a problem in WSDL or how I generated classes from WSDL?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9396,"page":596,"page_size":100}
