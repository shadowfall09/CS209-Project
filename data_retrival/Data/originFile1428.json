{"items":[{"tags":["java","abstract-class"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650031789,"creation_date":1650031469,"answer_id":71885016,"question_id":71884899,"body_markdown":"The problem is you define a generic type `&lt;Piece&gt;` in a lot of the methods in `Board`. This hides the actual type `Piece` and replaces it with an unknown type basically equivalent to `Object`, which doesn&#39;t have a `getColor` method. You need to remove all the occurrences of the generic type `&lt;Piece&gt;` in the methods of `Board`.\r\n\r\nSo, for example\r\n```java\r\npublic &lt;Piece&gt; Piece getPiece(Position pos)\r\n```\r\n\r\nshould be\r\n\r\n```java\r\npublic Piece getPiece(Position pos)\r\n```\r\n\r\nAnd the same goes for the other methods:\r\n\r\n```java\r\npublic &lt;Piece&gt; void setPiece(Piece piece, Position position)\r\n```\r\n\r\nshould be\r\n\r\n```java\r\npublic void setPiece(Piece piece, Position position)\r\n```\r\n\r\nand\r\n\r\n```java\r\npublic &lt;Piece&gt; boolean containsOppositeColor(Position pos, Color col)\r\n```\r\n\r\nshould be\r\n\r\n```java\r\npublic boolean containsOppositeColor(Position pos, Color col)\r\n```","title":"Method undefined for the Type Piece problem","body":"<p>The problem is you define a generic type <code>&lt;Piece&gt;</code> in a lot of the methods in <code>Board</code>. This hides the actual type <code>Piece</code> and replaces it with an unknown type basically equivalent to <code>Object</code>, which doesn't have a <code>getColor</code> method. You need to remove all the occurrences of the generic type <code>&lt;Piece&gt;</code> in the methods of <code>Board</code>.</p>\n<p>So, for example</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;Piece&gt; Piece getPiece(Position pos)\n</code></pre>\n<p>should be</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Piece getPiece(Position pos)\n</code></pre>\n<p>And the same goes for the other methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;Piece&gt; void setPiece(Piece piece, Position position)\n</code></pre>\n<p>should be</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setPiece(Piece piece, Position position)\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;Piece&gt; boolean containsOppositeColor(Position pos, Color col)\n</code></pre>\n<p>should be</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean containsOppositeColor(Position pos, Color col)\n</code></pre>\n"}],"owner":{"account_id":24948564,"reputation":1,"user_id":18813653,"display_name":"LordBaljeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650035334,"creation_date":1650030856,"question_id":71884899,"body_markdown":"I&#39;ve been working on a project of coding chess in Java. I have an abstract class named `Piece` which has one abstract method and a couple of normal methods. I also have a class for each chess piece, and they all extend `Piece`.\r\n\r\nThere is a class the represents the board called `Board` as well. In this class, I have a method that checks if the piece at a given position belongs to the other player or not. In this method I call a method from the `Piece` class that gets the color called `getColor()`. when I call this method on a piece it says _&quot;The method getColor() is undefined for the type Piece&quot;_ even though it is a method that is created inside the `Piece` class. I really don&#39;t know what to do to solve this issue.\r\n\r\nHere&#39;s the `Piece` class code:\r\n\r\n```java\r\nabstract class Piece {\r\n    private Color color;\r\n\r\n    /**\r\n     * @param color the color of the piece.\r\n     */\r\n    public Piece(Color color) {\r\n        this.color = color;\r\n    }\r\n\r\n    /**\r\n     * This method gives a list of all legal moves a piece at a given position in a\r\n     * given board can do.\r\n     * \r\n     * @param position the position of the piece in the board.\r\n     * @param board    the board in which the piece is in.\r\n     * @return a list of all legal moves.\r\n     */\r\n    abstract List&lt;Position&gt; getPossibleMoves(Position position, Board board);\r\n\r\n\r\n    /**\r\n     * @return the color of the piece.\r\n     */\r\n    public Color getColor() {\r\n        return color;\r\n    }\r\n```\r\n\r\nHere&#39;s the `Board` class code:\r\n\r\n```java\r\npublic class Board {\r\n    private Square[][] square;\r\n\r\n    /**\r\n     * Initialises an 8 by 8 squares 2d table.\r\n     */\r\n    public Board() {\r\n        this.square = new Square[8][8];\r\n        for (int row = 0; row &lt; square.length; row++) {\r\n            for (int column = 0; column &lt; square.length; column++) {\r\n                square[row][column] = new Square&lt;&gt;(null);\r\n            }\r\n        }\r\n    } \r\n\r\n     /**\r\n     * This method sets the given piece in the given position in the board.\r\n     * Throw an exception if the position is not in the board.\r\n     * \r\n     * @param piece    The piece to be set.\r\n     * @param position The position to set the piece in.\r\n     */\r\n    public &lt;Piece&gt; void setPiece(Piece piece, Position position) {\r\n        if (piece instanceof Piece) {\r\n            if (contains(position)) {\r\n                square[position.getRow()][position.getColumn()].setPiece(piece);\r\n            } else {\r\n                throw new IllegalArgumentException(&quot;The given position isn&#39;t part of the board :&quot; + position);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * This method returns the piece that is in the given position in the board.\r\n     * Throws an exception if the position is not in the board.\r\n     * \r\n     * @param pos The position of the piece in the board.\r\n     * @return the piece.\r\n     */\r\n    public &lt;Piece&gt; Piece getPiece(Position pos) {\r\n        Piece piece;\r\n        if (contains(pos)) {\r\n            piece = (Piece) square[pos.getRow()][pos.getColumn()].getPiece();\r\n        } else {\r\n            throw new IllegalArgumentException(&quot;The given position isn&#39;t part of the board :&quot; + pos);\r\n        }\r\n        return piece;\r\n    }\r\n     /**\r\n     * This method determines whether or not the piece at the given position has the\r\n     * same or the opposite color as the given color.\r\n     * throws an exception if position is not in the board.\r\n     * \r\n     * @param pos the position of the piece to be checked.\r\n     * @param col the color to check if the piece is in the opposite color or not.\r\n     * @return true if the piece is in the opposite color, false otherwise.\r\n     */\r\n    public &lt;Piece&gt; boolean containsOppositeColor(Position pos, Color col) {\r\n        boolean containsOpposite = false;\r\n        if (contains(pos)) {\r\n            if (!isFree(pos)) {\r\n                Piece piece = getPiece(pos);\r\n                containsOpposite = (col.opposite() == piece.getColor());\r\n            }\r\n        } else {\r\n            throw new IllegalArgumentException(&quot;The given position isn&#39;t part of the board :&quot; + pos);\r\n        }\r\n        return containsOpposite;\r\n    }\r\n```\r\n\r\nThe problem is at the line that says : `containsOpposite = (col.opposite() == piece.getColor());`","title":"Method undefined for the Type Piece problem","body":"<p>I've been working on a project of coding chess in Java. I have an abstract class named <code>Piece</code> which has one abstract method and a couple of normal methods. I also have a class for each chess piece, and they all extend <code>Piece</code>.</p>\n<p>There is a class the represents the board called <code>Board</code> as well. In this class, I have a method that checks if the piece at a given position belongs to the other player or not. In this method I call a method from the <code>Piece</code> class that gets the color called <code>getColor()</code>. when I call this method on a piece it says <em>&quot;The method getColor() is undefined for the type Piece&quot;</em> even though it is a method that is created inside the <code>Piece</code> class. I really don't know what to do to solve this issue.</p>\n<p>Here's the <code>Piece</code> class code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class Piece {\n    private Color color;\n\n    /**\n     * @param color the color of the piece.\n     */\n    public Piece(Color color) {\n        this.color = color;\n    }\n\n    /**\n     * This method gives a list of all legal moves a piece at a given position in a\n     * given board can do.\n     * \n     * @param position the position of the piece in the board.\n     * @param board    the board in which the piece is in.\n     * @return a list of all legal moves.\n     */\n    abstract List&lt;Position&gt; getPossibleMoves(Position position, Board board);\n\n\n    /**\n     * @return the color of the piece.\n     */\n    public Color getColor() {\n        return color;\n    }\n</code></pre>\n<p>Here's the <code>Board</code> class code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Board {\n    private Square[][] square;\n\n    /**\n     * Initialises an 8 by 8 squares 2d table.\n     */\n    public Board() {\n        this.square = new Square[8][8];\n        for (int row = 0; row &lt; square.length; row++) {\n            for (int column = 0; column &lt; square.length; column++) {\n                square[row][column] = new Square&lt;&gt;(null);\n            }\n        }\n    } \n\n     /**\n     * This method sets the given piece in the given position in the board.\n     * Throw an exception if the position is not in the board.\n     * \n     * @param piece    The piece to be set.\n     * @param position The position to set the piece in.\n     */\n    public &lt;Piece&gt; void setPiece(Piece piece, Position position) {\n        if (piece instanceof Piece) {\n            if (contains(position)) {\n                square[position.getRow()][position.getColumn()].setPiece(piece);\n            } else {\n                throw new IllegalArgumentException(&quot;The given position isn't part of the board :&quot; + position);\n            }\n        }\n    }\n\n    /**\n     * This method returns the piece that is in the given position in the board.\n     * Throws an exception if the position is not in the board.\n     * \n     * @param pos The position of the piece in the board.\n     * @return the piece.\n     */\n    public &lt;Piece&gt; Piece getPiece(Position pos) {\n        Piece piece;\n        if (contains(pos)) {\n            piece = (Piece) square[pos.getRow()][pos.getColumn()].getPiece();\n        } else {\n            throw new IllegalArgumentException(&quot;The given position isn't part of the board :&quot; + pos);\n        }\n        return piece;\n    }\n     /**\n     * This method determines whether or not the piece at the given position has the\n     * same or the opposite color as the given color.\n     * throws an exception if position is not in the board.\n     * \n     * @param pos the position of the piece to be checked.\n     * @param col the color to check if the piece is in the opposite color or not.\n     * @return true if the piece is in the opposite color, false otherwise.\n     */\n    public &lt;Piece&gt; boolean containsOppositeColor(Position pos, Color col) {\n        boolean containsOpposite = false;\n        if (contains(pos)) {\n            if (!isFree(pos)) {\n                Piece piece = getPiece(pos);\n                containsOpposite = (col.opposite() == piece.getColor());\n            }\n        } else {\n            throw new IllegalArgumentException(&quot;The given position isn't part of the board :&quot; + pos);\n        }\n        return containsOpposite;\n    }\n</code></pre>\n<p>The problem is at the line that says : <code>containsOpposite = (col.opposite() == piece.getColor());</code></p>\n"},{"tags":["c#","java","arrays"],"comments":[{"owner":{"account_id":237153,"reputation":114550,"user_id":932418,"display_name":"L.B"},"score":0,"creation_date":1390341159,"post_id":21269727,"comment_id":32047761,"body_markdown":"http://msdn.microsoft.com/en-us/library/system.array.copy(v=vs.110).aspx","body":"<a href=\"http://msdn.microsoft.com/en-us/library/system.array.copy(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"},{"owner":{"account_id":1966542,"reputation":4462,"user_id":1766655,"accept_rate":100,"display_name":"Mishax"},"score":1,"creation_date":1410511815,"post_id":21269727,"comment_id":40362978,"body_markdown":"Why is this question downvoted? This is precisely the info I was looking for","body":"Why is this question downvoted? This is precisely the info I was looking for"},{"owner":{"account_id":68306,"reputation":19133,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":1,"creation_date":1442998310,"post_id":21269727,"comment_id":53310909,"body_markdown":"I also am baffled by the downvotes. Perhaps the downvoters are not familiar enough with both java and C# to grasp that the java function `copyOfRange` has no direct equivalent in C#, in the sense that C# requires a separate action to create an array, before performing Array.Copy. This is why a newcomer to C# may struggle a bit before seeing a good equivalent. IMHO this question is very useful to some beginners.","body":"I also am baffled by the downvotes. Perhaps the downvoters are not familiar enough with both java and C# to grasp that the java function <code>copyOfRange</code> has no direct equivalent in C#, in the sense that C# requires a separate action to create an array, before performing Array.Copy. This is why a newcomer to C# may struggle a bit before seeing a good equivalent. IMHO this question is very useful to some beginners."}],"answers":[{"tags":[],"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1390342428,"creation_date":1390340901,"answer_id":21269785,"question_id":21269727,"body_markdown":"The problem is the ported array copy is *not* doing the same thing.\r\n\r\nGiven an input of `[a,b,c,d,e,f]` the Java code is creating two arrays, `[a,b,c]` and `[d,e,f]` while the C# port is creating two arrays, `[a,b,c]` and `[0,0,0,d,e,f]`. Notably,\r\n\r\n- The new right array is the size of A (`new int[A.Length]`). This is what causes the StackOverflowException as the termination case is never reached, and;\r\n- The new right array is only assigned values starting at the `q` index, which is the half-way index.\r\n\r\nConsider this replacement method using [`Array.Copy`](http://msdn.microsoft.com/en-us/library/z50k9bft(v=vs.110).aspx) - a method with the same signature can be used as a drop in replacement in ported code, as long as what&#39;s inside the method has the same effect as the original.\r\n\r\n&lt;!-- language: lang-cs --&gt;\r\n\r\n    int[] copyOfRange (int[] src, int start, int end) {\r\n        int len = end - start;\r\n        int[] dest = new int[len];\r\n        Array.Copy(src, start, dest, 0, len);\r\n        return dest;\r\n    }\r\n\r\nOr, a version that does it with a loop but without the issue in the original port. Another reason to use discreet functions - it makes the task easy to see  and reason about. Being able to also eliminate duplicate code doesn&#39;t hurt.\r\n\r\n&lt;!-- language: lang-cs --&gt;\r\n\r\n    int[] copyOfRange (int[] src, int start, int end) {\r\n        int len = end - start;\r\n        int[] dest = new int[len];\r\n        // note i is always from 0\r\n        for (int i = 0; i &lt; len; i++)\r\n        {\r\n            dest[i] = src[start + i]; // so 0..n = 0+x..n+x\r\n        }\r\n        return dest;\r\n    }\r\n\r\nIf you&#39;re lazy like me, the code could also be trivially written using [LINQ](http://msdn.microsoft.com/en-us/library/bb397926.aspx).\r\n\r\n    int[] leftArray = A.Take(q).ToArray();\r\n    int[] rightArray = A.Skip(q).ToArray();\r\n\r\n","title":"How to convert Java &quot;Arrays.copyOfRange&quot; function to C#?","body":"<p>The problem is the ported array copy is <em>not</em> doing the same thing.</p>\n\n<p>Given an input of <code>[a,b,c,d,e,f]</code> the Java code is creating two arrays, <code>[a,b,c]</code> and <code>[d,e,f]</code> while the C# port is creating two arrays, <code>[a,b,c]</code> and <code>[0,0,0,d,e,f]</code>. Notably,</p>\n\n<ul>\n<li>The new right array is the size of A (<code>new int[A.Length]</code>). This is what causes the StackOverflowException as the termination case is never reached, and;</li>\n<li>The new right array is only assigned values starting at the <code>q</code> index, which is the half-way index.</li>\n</ul>\n\n<p>Consider this replacement method using <a href=\"http://msdn.microsoft.com/en-us/library/z50k9bft%28v=vs.110%29.aspx\" rel=\"noreferrer\"><code>Array.Copy</code></a> - a method with the same signature can be used as a drop in replacement in ported code, as long as what's inside the method has the same effect as the original.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>int[] copyOfRange (int[] src, int start, int end) {\n    int len = end - start;\n    int[] dest = new int[len];\n    Array.Copy(src, start, dest, 0, len);\n    return dest;\n}\n</code></pre>\n\n<p>Or, a version that does it with a loop but without the issue in the original port. Another reason to use discreet functions - it makes the task easy to see  and reason about. Being able to also eliminate duplicate code doesn't hurt.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>int[] copyOfRange (int[] src, int start, int end) {\n    int len = end - start;\n    int[] dest = new int[len];\n    // note i is always from 0\n    for (int i = 0; i &lt; len; i++)\n    {\n        dest[i] = src[start + i]; // so 0..n = 0+x..n+x\n    }\n    return dest;\n}\n</code></pre>\n\n<p>If you're lazy like me, the code could also be trivially written using <a href=\"http://msdn.microsoft.com/en-us/library/bb397926.aspx\" rel=\"noreferrer\">LINQ</a>.</p>\n\n<pre><code>int[] leftArray = A.Take(q).ToArray();\nint[] rightArray = A.Skip(q).ToArray();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user16665136"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650035201,"creation_date":1650035201,"answer_id":71885691,"question_id":21269727,"body_markdown":"Now in modern C# there is a simple solution for this:\r\n```cs\r\nstring[] cuttedArray = array[2..6] // from second element to sixth element exclusive\r\n```","title":"How to convert Java &quot;Arrays.copyOfRange&quot; function to C#?","body":"<p>Now in modern C# there is a simple solution for this:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>string[] cuttedArray = array[2..6] // from second element to sixth element exclusive\n</code></pre>\n"}],"owner":{"account_id":3072025,"reputation":337,"user_id":2602439,"accept_rate":100,"display_name":"Milot25"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7986,"favorite_count":0,"down_vote_count":4,"up_vote_count":9,"accepted_answer_id":21269785,"answer_count":2,"score":5,"last_activity_date":1650035201,"creation_date":1390340663,"question_id":21269727,"body_markdown":"Working on MergeSort in Java:\r\n\r\n    public void mergeSort(int[] A)\r\n    {\r\n         if (A.length &gt; 1)\r\n         {\r\n             int q = A.length/2;\r\n             int[] leftArray = Arrays.copyOfRange(A, 0, q);\r\n             int[] rightArray = Arrays.copyOfRange(A,q,A.length);\r\n             mergeSort(leftArray);\r\n             mergeSort(rightArray);\r\n             merge(A,leftArray,rightArray);\r\n         }\r\n    }\r\n\r\nThe recursion in the code above works well in Java.\r\n\r\nSo for curiosity I want to convert function Arrays.copyOfRange from java to c#.\r\nArray.copy in C# takes five arguments. Do you know any simpler function in c# do get certain elements of the array starting at position x to y (like java).\r\n\r\nIn c# I coded the above method like this:\r\n\r\n    public void mergeSort(int[] A)\r\n    {\r\n        if (A.Length &gt; 1)\r\n        {\r\n            int q = A.Length / 2;\r\n            int[] leftArray = new int[q];\r\n            int[] rightArray = new int[A.Length];\r\n            for (int i = 0; i &lt; q; i++)\r\n            {\r\n                leftArray[i] = A[i];\r\n                Console.WriteLine(leftArray[i]);\r\n            }\r\n\r\n            for (int i = q; i &lt; A.Length; i++)\r\n            {\r\n                rightArray[i] = A[i];\r\n                Console.WriteLine(rightArray[i]);\r\n            }\r\n            Console.ReadKey();\r\n\r\n            mergeSort(leftArray);\r\n            mergeSort(rightArray);\r\n            merge(A, leftArray, rightArray);\r\n        }\r\n    }\r\nAs you can see I have replaced Arrays.copyOfRange functions in Java with two loops in c# and this works in c# without recursion.\r\nHowever calling mergeSort(leftArray) and mergeSort(rightArray) it prints this in c#: \r\n\r\nProcess is terminated due to StackOverflowException!!\r\n\r\nAny better idea on how to get certain elements in c#?\r\n\r\n","title":"How to convert Java &quot;Arrays.copyOfRange&quot; function to C#?","body":"<p>Working on MergeSort in Java:</p>\n\n<pre><code>public void mergeSort(int[] A)\n{\n     if (A.length &gt; 1)\n     {\n         int q = A.length/2;\n         int[] leftArray = Arrays.copyOfRange(A, 0, q);\n         int[] rightArray = Arrays.copyOfRange(A,q,A.length);\n         mergeSort(leftArray);\n         mergeSort(rightArray);\n         merge(A,leftArray,rightArray);\n     }\n}\n</code></pre>\n\n<p>The recursion in the code above works well in Java.</p>\n\n<p>So for curiosity I want to convert function Arrays.copyOfRange from java to c#.\nArray.copy in C# takes five arguments. Do you know any simpler function in c# do get certain elements of the array starting at position x to y (like java).</p>\n\n<p>In c# I coded the above method like this:</p>\n\n<pre><code>public void mergeSort(int[] A)\n{\n    if (A.Length &gt; 1)\n    {\n        int q = A.Length / 2;\n        int[] leftArray = new int[q];\n        int[] rightArray = new int[A.Length];\n        for (int i = 0; i &lt; q; i++)\n        {\n            leftArray[i] = A[i];\n            Console.WriteLine(leftArray[i]);\n        }\n\n        for (int i = q; i &lt; A.Length; i++)\n        {\n            rightArray[i] = A[i];\n            Console.WriteLine(rightArray[i]);\n        }\n        Console.ReadKey();\n\n        mergeSort(leftArray);\n        mergeSort(rightArray);\n        merge(A, leftArray, rightArray);\n    }\n}\n</code></pre>\n\n<p>As you can see I have replaced Arrays.copyOfRange functions in Java with two loops in c# and this works in c# without recursion.\nHowever calling mergeSort(leftArray) and mergeSort(rightArray) it prints this in c#: </p>\n\n<p>Process is terminated due to StackOverflowException!!</p>\n\n<p>Any better idea on how to get certain elements in c#?</p>\n"},{"tags":["java","jpa","eclipselink"],"answers":[{"tags":[],"owner":{"account_id":1630483,"reputation":4039,"user_id":1505146,"accept_rate":50,"display_name":"Tasos P."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650034412,"creation_date":1650034412,"answer_id":71885549,"question_id":71885167,"body_markdown":"Since you are not explicitly state EclipseLink version being used, I&#39;ll just assume version 2.6.\r\n\r\nAs per the [official EclipseLink documentation](https://www.eclipse.org/eclipselink/documentation/2.6/jpa/extensions/queryhints.htm), `eclipselink.LEFT_FETCH` is not a supported query hint. You are probably trying to use `eclipselink.join-fetch` or `eclipselink.left-join-fetch` as [documented here](https://www.eclipse.org/eclipselink/documentation/2.6/jpa/extensions/queryhints.htm#fetch).\r\n\r\nThe proper way to use this hint is along the lines of:\r\n\r\n```java\r\nString sQuery = &quot;SELECT ds FROM DatexSituationData ds&quot;;      \r\n\r\nEntityManager em = emf.getInstance().getFactory().createEntityManager();\r\nTypedQuery q = em.createQuery(sQuery, DatexSituationData.class);\r\nq.setHint(&quot;eclipselink.join-fetch&quot;, &quot;ds.situationRecords&quot;);\r\nq.setHint(&quot;eclipselink.join-fetch&quot;, &quot;ds.situationLocation&quot;);\r\n// ...\r\n\r\nlResult = q.getResultList();\r\n```\r\n\r\nAnother approach would be [batch fetching](https://www.eclipse.org/eclipselink/documentation/2.6/jpa/extensions/queryhints.htm#batch).\r\n\r\nThis would work as:\r\n\r\n```java\r\n//...\r\nem\r\n.createQuery(&quot;SELECT ds FROM DatexSituationData ds&quot;)\r\n.setHint(&quot;eclipselink.batch&quot;, &quot;ds.situationRecords&quot;)\r\n//...\r\n.setHint(&quot;eclipselink.batch.type&quot;, &quot;IN&quot;)\r\n.setHint(&quot;eclipselink.batch_size&quot;, &quot;1000&quot;);\r\n//...\r\n```\r\n\r\nYou would probably test both approaches and gather some metrics; then decide which one works better (in terms of performance) for your DB schema and usage patterns.","title":"How to fetch join nested entities in JPA-eclipselink, in case of sub-entity being in relation @ManyToOne","body":"<p>Since you are not explicitly state EclipseLink version being used, I'll just assume version 2.6.</p>\n<p>As per the <a href=\"https://www.eclipse.org/eclipselink/documentation/2.6/jpa/extensions/queryhints.htm\" rel=\"nofollow noreferrer\">official EclipseLink documentation</a>, <code>eclipselink.LEFT_FETCH</code> is not a supported query hint. You are probably trying to use <code>eclipselink.join-fetch</code> or <code>eclipselink.left-join-fetch</code> as <a href=\"https://www.eclipse.org/eclipselink/documentation/2.6/jpa/extensions/queryhints.htm#fetch\" rel=\"nofollow noreferrer\">documented here</a>.</p>\n<p>The proper way to use this hint is along the lines of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sQuery = &quot;SELECT ds FROM DatexSituationData ds&quot;;      \n\nEntityManager em = emf.getInstance().getFactory().createEntityManager();\nTypedQuery q = em.createQuery(sQuery, DatexSituationData.class);\nq.setHint(&quot;eclipselink.join-fetch&quot;, &quot;ds.situationRecords&quot;);\nq.setHint(&quot;eclipselink.join-fetch&quot;, &quot;ds.situationLocation&quot;);\n// ...\n\nlResult = q.getResultList();\n</code></pre>\n<p>Another approach would be <a href=\"https://www.eclipse.org/eclipselink/documentation/2.6/jpa/extensions/queryhints.htm#batch\" rel=\"nofollow noreferrer\">batch fetching</a>.</p>\n<p>This would work as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//...\nem\n.createQuery(&quot;SELECT ds FROM DatexSituationData ds&quot;)\n.setHint(&quot;eclipselink.batch&quot;, &quot;ds.situationRecords&quot;)\n//...\n.setHint(&quot;eclipselink.batch.type&quot;, &quot;IN&quot;)\n.setHint(&quot;eclipselink.batch_size&quot;, &quot;1000&quot;);\n//...\n</code></pre>\n<p>You would probably test both approaches and gather some metrics; then decide which one works better (in terms of performance) for your DB schema and usage patterns.</p>\n"}],"owner":{"account_id":24945431,"reputation":15,"user_id":18810801,"display_name":"VedadR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71885549,"answer_count":1,"score":1,"last_activity_date":1650034412,"creation_date":1650032256,"question_id":71885167,"body_markdown":"I have multiple entities that i want to fetch in single query, because N+1 queries last too long.\r\nFor example SQL join query lasts 5 seconds on DB, but elcipselink persistence fetching lasts 50-80 seconds due to N+1 fetching.\r\nI found out that LEFT JOIN FETCH is not working as soon as @ManyToOne relation is implemented.\r\nDoes anyone know solution to LEFT JOIN FETCH for this case?\r\n\r\nPlease find below simplified entities.\r\n\r\n     @Entity\r\n    @Table(name=&quot;SITUATION_DATA&quot;)\r\n    @NamedQuery(name=&quot;SituationData.findAll&quot;, query=&quot;SELECT s FROM SituationData s&quot;)\r\n    public class DatexSituationData implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\t\r\n\t//bi-directional many-to-one association to SituationRecord\r\n\t@OneToMany(mappedBy=&quot;datexSituationData&quot;, cascade = CascadeType.PERSIST, fetch = FetchType.EAGER)\r\n\t@JoinFetch(value=JoinFetchType.OUTER)\r\n\tprivate List&lt;SituationRecord&gt; situationRecords;\t\r\n    }\r\n\r\n\r\n     @Entity\r\n    @Table(name=&quot;SituationRecord&quot;)\r\n    @NamedQuery(name=&quot;SituationRecord.findAll&quot;, query=&quot;SELECT s FROM SituationRecord s&quot;)\r\n    public class SituationRecord implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@OneToMany(mappedBy=&quot;situationRecord&quot;, cascade = CascadeType.PERSIST, fetch = FetchType.EAGER)\r\n\t@JoinFetch(value=JoinFetchType.OUTER)\r\n\tprivate List&lt;SituationRecordComment&gt; situationRecordComment;\r\n\r\n\t@OneToMany(mappedBy=&quot;situationRecord&quot;, cascade = CascadeType.PERSIST, fetch = FetchType.EAGER)\r\n\t@JoinFetch(value=JoinFetchType.OUTER)\r\n\tprivate List&lt;SituationRecordTypeElement&gt; situationRecordTypeElements;\r\n\t\t\r\n\t//bi-directional many-to-one association to SituationLocation\r\n\t@ManyToOne(cascade = CascadeType.PERSIST, fetch = FetchType.EAGER)\r\n\t@JoinFetch(value=JoinFetchType.OUTER)\r\n\t@JoinColumn(name=&quot;ID_LOKACIJE&quot;)\r\n\tprivate SituationLocation situationLocation;\r\n\t\r\n\t//bi-directional many-to-one association to DatexSituationData\r\n\t@ManyToOne()\r\n\t@JoinColumns({\r\n\t\t@JoinColumn(name=&quot;SITUATION_ID&quot;, referencedColumnName=&quot;ID&quot;, nullable=false),\r\n\t\t@JoinColumn(name=&quot;SITUATION_VERSION&quot;, referencedColumnName=&quot;VERSION&quot;, nullable=false)\r\n\t\t})\r\n\tprivate DatexSituationData datexSituationData;\t\r\n    }\r\n\r\n     @Entity\r\n    @Table(name=&quot;SITUATION_LOCATIONS&quot;)\r\n    @NamedQuery(name=&quot;SituationLocation.findAll&quot;, query=&quot;SELECT s FROM SituationLocation s&quot;)\r\n    public class SituationLocation implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@Id\t\r\n\t@GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;situation_location_seq&quot;)\r\n    @SequenceGenerator(name=&quot;situation_location_seq&quot;, sequenceName=&quot;SEQ_SITUATION_LOCATION&quot;, allocationSize=1)\r\n\t@Column(name=&quot;ID_LOKACIJE&quot;, unique=true, nullable=false)\t\r\n\tprivate long idLokacije;\r\n\r\n\t//bi-directional many-to-one association to SituationRecord\r\n\t@OneToMany(mappedBy=&quot;situationLocation&quot;, cascade = CascadeType.PERSIST)\t\r\n\tprivate List&lt;SituationRecord&gt; situationRecords;\t\r\n    }\r\n\r\nThis is how i fetch it.\r\nI have tried all of the below combinations, but every combinations makes query for each row (object) in SituationData, or in some cases for each joined SituationData join SituationRecord.\r\n\r\n         String sQuery = \t\t\t    \r\n\t\t//&quot;select * from SITUATION_DATA t&quot;;\r\n        //&quot;SELECT * FROM (select t.*, rank() over(partition by t.id order by version desc) rnk from SITUATION_DATA t) where rnk = 1&quot;;\r\n\t\t&quot;SELECT ds FROM SituationData ds LEFT JOIN FETCH ds.situationRecords sr LEFT JOIN FETCH sr.situationLocation sl LEFT JOIN FETCH sr.situationRecordTypeElements sre LEFT JOIN FETCH sr.situationRecordComment src&quot;;\t\t\r\n\r\n     EntityManager em = Emf.getInstance().getFactory().createEntityManager();\r\n     //Query q = em.createNativeQuery(sQuery, DatexSituationData.class);\r\n\t\t\tQuery q = em.createQuery(sQuery, DatexSituationData.class);\r\n    //\t\tq.setHint(&quot;eclipselink.LEFT_FETCH&quot;, &quot;t.situationRecords.situationRecordComment&quot;);\r\n\t\t    q.setHint(&quot;eclipselink.LEFT_FETCH&quot;, &quot;ds.sr.sl&quot;);\r\n\t\t    q.setHint(&quot;eclipselink.LEFT_FETCH&quot;, &quot;ds.sr.sre&quot;);\r\n\t\t    q.setHint(&quot;eclipselink.LEFT_FETCH&quot;, &quot;ds.sr.src&quot;);\r\n    //\t\tq.setHint(&quot;eclipselink.JDBC_FETCH_SIZE&quot;, &quot;100&quot;);\r\n\t\t    \t    \r\n\t\t    lResult = q.getResultList();\r\n\r\n","title":"How to fetch join nested entities in JPA-eclipselink, in case of sub-entity being in relation @ManyToOne","body":"<p>I have multiple entities that i want to fetch in single query, because N+1 queries last too long.\nFor example SQL join query lasts 5 seconds on DB, but elcipselink persistence fetching lasts 50-80 seconds due to N+1 fetching.\nI found out that LEFT JOIN FETCH is not working as soon as @ManyToOne relation is implemented.\nDoes anyone know solution to LEFT JOIN FETCH for this case?</p>\n<p>Please find below simplified entities.</p>\n<pre><code> @Entity\n@Table(name=&quot;SITUATION_DATA&quot;)\n@NamedQuery(name=&quot;SituationData.findAll&quot;, query=&quot;SELECT s FROM SituationData s&quot;)\npublic class DatexSituationData implements Serializable {\nprivate static final long serialVersionUID = 1L;\n    \n//bi-directional many-to-one association to SituationRecord\n@OneToMany(mappedBy=&quot;datexSituationData&quot;, cascade = CascadeType.PERSIST, fetch = FetchType.EAGER)\n@JoinFetch(value=JoinFetchType.OUTER)\nprivate List&lt;SituationRecord&gt; situationRecords; \n}\n\n\n @Entity\n@Table(name=&quot;SituationRecord&quot;)\n@NamedQuery(name=&quot;SituationRecord.findAll&quot;, query=&quot;SELECT s FROM SituationRecord s&quot;)\npublic class SituationRecord implements Serializable {\nprivate static final long serialVersionUID = 1L;\n\n@OneToMany(mappedBy=&quot;situationRecord&quot;, cascade = CascadeType.PERSIST, fetch = FetchType.EAGER)\n@JoinFetch(value=JoinFetchType.OUTER)\nprivate List&lt;SituationRecordComment&gt; situationRecordComment;\n\n@OneToMany(mappedBy=&quot;situationRecord&quot;, cascade = CascadeType.PERSIST, fetch = FetchType.EAGER)\n@JoinFetch(value=JoinFetchType.OUTER)\nprivate List&lt;SituationRecordTypeElement&gt; situationRecordTypeElements;\n    \n//bi-directional many-to-one association to SituationLocation\n@ManyToOne(cascade = CascadeType.PERSIST, fetch = FetchType.EAGER)\n@JoinFetch(value=JoinFetchType.OUTER)\n@JoinColumn(name=&quot;ID_LOKACIJE&quot;)\nprivate SituationLocation situationLocation;\n\n//bi-directional many-to-one association to DatexSituationData\n@ManyToOne()\n@JoinColumns({\n    @JoinColumn(name=&quot;SITUATION_ID&quot;, referencedColumnName=&quot;ID&quot;, nullable=false),\n    @JoinColumn(name=&quot;SITUATION_VERSION&quot;, referencedColumnName=&quot;VERSION&quot;, nullable=false)\n    })\nprivate DatexSituationData datexSituationData;  \n}\n\n @Entity\n@Table(name=&quot;SITUATION_LOCATIONS&quot;)\n@NamedQuery(name=&quot;SituationLocation.findAll&quot;, query=&quot;SELECT s FROM SituationLocation s&quot;)\npublic class SituationLocation implements Serializable {\nprivate static final long serialVersionUID = 1L;\n\n@Id \n@GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;situation_location_seq&quot;)\n@SequenceGenerator(name=&quot;situation_location_seq&quot;, sequenceName=&quot;SEQ_SITUATION_LOCATION&quot;, allocationSize=1)\n@Column(name=&quot;ID_LOKACIJE&quot;, unique=true, nullable=false)    \nprivate long idLokacije;\n\n//bi-directional many-to-one association to SituationRecord\n@OneToMany(mappedBy=&quot;situationLocation&quot;, cascade = CascadeType.PERSIST) \nprivate List&lt;SituationRecord&gt; situationRecords; \n}\n</code></pre>\n<p>This is how i fetch it.\nI have tried all of the below combinations, but every combinations makes query for each row (object) in SituationData, or in some cases for each joined SituationData join SituationRecord.</p>\n<pre><code>     String sQuery =                \n    //&quot;select * from SITUATION_DATA t&quot;;\n    //&quot;SELECT * FROM (select t.*, rank() over(partition by t.id order by version desc) rnk from SITUATION_DATA t) where rnk = 1&quot;;\n    &quot;SELECT ds FROM SituationData ds LEFT JOIN FETCH ds.situationRecords sr LEFT JOIN FETCH sr.situationLocation sl LEFT JOIN FETCH sr.situationRecordTypeElements sre LEFT JOIN FETCH sr.situationRecordComment src&quot;;      \n\n EntityManager em = Emf.getInstance().getFactory().createEntityManager();\n //Query q = em.createNativeQuery(sQuery, DatexSituationData.class);\n        Query q = em.createQuery(sQuery, DatexSituationData.class);\n//      q.setHint(&quot;eclipselink.LEFT_FETCH&quot;, &quot;t.situationRecords.situationRecordComment&quot;);\n        q.setHint(&quot;eclipselink.LEFT_FETCH&quot;, &quot;ds.sr.sl&quot;);\n        q.setHint(&quot;eclipselink.LEFT_FETCH&quot;, &quot;ds.sr.sre&quot;);\n        q.setHint(&quot;eclipselink.LEFT_FETCH&quot;, &quot;ds.sr.src&quot;);\n//      q.setHint(&quot;eclipselink.JDBC_FETCH_SIZE&quot;, &quot;100&quot;);\n                \n        lResult = q.getResultList();\n</code></pre>\n"},{"tags":["java","maven","ssh","scp","jsch"],"answers":[{"tags":[],"owner":{"account_id":1246414,"reputation":6801,"user_id":1207769,"accept_rate":62,"display_name":"ctrueden"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1650033823,"creation_date":1358532622,"answer_id":14404990,"question_id":5819775,"body_markdown":"There are three potential approaches to deploy Maven artifacts via SSH/SCP:\r\n\r\n* `wagon-ssh` (deprecated)\r\n* `wagon-ssh-external` (platform-specific concerns)\r\n* A `wagon-ssh` rewrite built on [Apache Mina SSHD](https://mina.apache.org/sshd-project/) (does not actually exist yet as of this writing)\r\n\r\n## 1. wagon-ssh\r\n\r\nThe [Maven SSH wagon](https://maven.apache.org/wagon/wagon-providers/wagon-ssh/) uses JSch, the pure-Java implementation of SSH, which works regardless of OS. (Perhaps that was not the case when this question was originally posted, but it is true now.)\r\n\r\nHere is a sample configuration which I successfully used to deploy over SCP to a Linux box from a Windows 7 system with Maven 3.0.4.\r\n\r\n`pom.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n        http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n      &lt;groupId&gt;hello&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hello&lt;/artifactId&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n      &lt;name&gt;Hello&lt;/name&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;extensions&gt;\r\n          &lt;extension&gt;\r\n            &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;\r\n            &lt;artifactId&gt;wagon-ssh&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3&lt;/version&gt;\r\n          &lt;/extension&gt;\r\n        &lt;/extensions&gt;\r\n      &lt;/build&gt;\r\n\r\n      &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;my-ssh-repo&lt;/id&gt;\r\n          &lt;url&gt;scp://my.server.url/path/to/ssh-repo&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/distributionManagement&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n`settings.xml`:\r\n\r\n    &lt;settings&gt;\r\n      &lt;servers&gt;\r\n        &lt;server&gt;\r\n          &lt;id&gt;my-ssh-repo&lt;/id&gt;\r\n          &lt;username&gt;myUser&lt;/username&gt;\r\n          &lt;password&gt;myPass&lt;/password&gt;\r\n        &lt;/server&gt;\r\n      &lt;/servers&gt;\r\n    &lt;/settings&gt;\r\n\r\nUnfortunately, this wagon is now deprecated for two reasons: it is built on JSch which is not fully open source, and it is difficult to maintain due to complex and low level code needed. See [WAGON-616](https://issues.apache.org/jira/browse/WAGON-616) for details.\r\n\r\n## 2. wagon-ssh-external\r\n\r\nThe [Maven SSH External Wagon](https://maven.apache.org/wagon/wagon-providers/wagon-ssh-external/) calls out to your system SSH/SCP commands. Unfortunately, there are some OS-specific configuration issues, particularly on Windows, as explained in the [Deployment of artifacts in an external SSH command](http://maven.apache.org/plugins/maven-deploy-plugin/examples/deploy-ssh-external.html) guide, and as highlighted in the question above.\r\n\r\n## 3. wagon-ssh rewrite using Apache Mina SSHD\r\n\r\nA viable hope for a pure-Java SSH/SCP wagon would be to rework the `wagon-ssh` implementation to use [Apache Mina SSHD](https://mina.apache.org/sshd-project/) instead of JSch. Unfortunately, no one has actually done this yet, but the maintainer of `wagon-ssh` has indicated that it could be un-deprecated should anyone in the community step forward to tackle the project.","title":"Is there any way of having maven scp wagon work consistently on linux/mac/windows platform?","body":"<p>There are three potential approaches to deploy Maven artifacts via SSH/SCP:</p>\n<ul>\n<li><code>wagon-ssh</code> (deprecated)</li>\n<li><code>wagon-ssh-external</code> (platform-specific concerns)</li>\n<li>A <code>wagon-ssh</code> rewrite built on <a href=\"https://mina.apache.org/sshd-project/\" rel=\"nofollow noreferrer\">Apache Mina SSHD</a> (does not actually exist yet as of this writing)</li>\n</ul>\n<h2>1. wagon-ssh</h2>\n<p>The <a href=\"https://maven.apache.org/wagon/wagon-providers/wagon-ssh/\" rel=\"nofollow noreferrer\">Maven SSH wagon</a> uses JSch, the pure-Java implementation of SSH, which works regardless of OS. (Perhaps that was not the case when this question was originally posted, but it is true now.)</p>\n<p>Here is a sample configuration which I successfully used to deploy over SCP to a Linux box from a Windows 7 system with Maven 3.0.4.</p>\n<p><code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n    http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;hello&lt;/groupId&gt;\n  &lt;artifactId&gt;hello&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;Hello&lt;/name&gt;\n\n  &lt;build&gt;\n    &lt;extensions&gt;\n      &lt;extension&gt;\n        &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;\n        &lt;artifactId&gt;wagon-ssh&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt;\n      &lt;/extension&gt;\n    &lt;/extensions&gt;\n  &lt;/build&gt;\n\n  &lt;distributionManagement&gt;\n    &lt;repository&gt;\n      &lt;id&gt;my-ssh-repo&lt;/id&gt;\n      &lt;url&gt;scp://my.server.url/path/to/ssh-repo&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/distributionManagement&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><code>settings.xml</code>:</p>\n<pre><code>&lt;settings&gt;\n  &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;my-ssh-repo&lt;/id&gt;\n      &lt;username&gt;myUser&lt;/username&gt;\n      &lt;password&gt;myPass&lt;/password&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>Unfortunately, this wagon is now deprecated for two reasons: it is built on JSch which is not fully open source, and it is difficult to maintain due to complex and low level code needed. See <a href=\"https://issues.apache.org/jira/browse/WAGON-616\" rel=\"nofollow noreferrer\">WAGON-616</a> for details.</p>\n<h2>2. wagon-ssh-external</h2>\n<p>The <a href=\"https://maven.apache.org/wagon/wagon-providers/wagon-ssh-external/\" rel=\"nofollow noreferrer\">Maven SSH External Wagon</a> calls out to your system SSH/SCP commands. Unfortunately, there are some OS-specific configuration issues, particularly on Windows, as explained in the <a href=\"http://maven.apache.org/plugins/maven-deploy-plugin/examples/deploy-ssh-external.html\" rel=\"nofollow noreferrer\">Deployment of artifacts in an external SSH command</a> guide, and as highlighted in the question above.</p>\n<h2>3. wagon-ssh rewrite using Apache Mina SSHD</h2>\n<p>A viable hope for a pure-Java SSH/SCP wagon would be to rework the <code>wagon-ssh</code> implementation to use <a href=\"https://mina.apache.org/sshd-project/\" rel=\"nofollow noreferrer\">Apache Mina SSHD</a> instead of JSch. Unfortunately, no one has actually done this yet, but the maintainer of <code>wagon-ssh</code> has indicated that it could be un-deprecated should anyone in the community step forward to tackle the project.</p>\n"}],"owner":{"account_id":143638,"reputation":2719,"user_id":352109,"accept_rate":81,"display_name":"Riccardo Cossu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9604,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":14404990,"answer_count":1,"score":11,"last_activity_date":1650033823,"creation_date":1303998953,"question_id":5819775,"body_markdown":"Given the very poor documentation about scp/ssh and maven I tried different approaches, basically falling in two main categories: using scpexe wagon and scp wagon. Usually they both work without issue on both linux and mac, but on windows I never found a way to make it work on all machines.\r\n\r\nscpexe approach (after installing complete putty and adding to path) - settings.xml configuration:\r\n\r\n    &lt;server&gt;\r\n        &lt;id&gt;internal&lt;/id&gt;\r\n        &lt;username&gt;******&lt;/username&gt;\r\n        &lt;password&gt;*******&lt;/password&gt;\r\n        &lt;configuration&gt;\r\n            &lt;sshExecutable&gt;plink&lt;/sshExecutable&gt;\r\n            &lt;scpExecutable&gt;pscp&lt;/scpExecutable&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/server&gt;\r\n\r\nscp approach - settings.xml :\r\n\r\n     &lt;server&gt;\r\n          &lt;id&gt;internal&lt;/id&gt;\r\n          &lt;username&gt;*********&lt;/username&gt;\r\n          &lt;password&gt;*********&lt;/password&gt;\r\n          &lt;configuration&gt;\r\n               &lt;StrictHostKeyChecking&gt;ask&lt;/StrictHostKeyChecking&gt;\r\n          &lt;/configuration&gt;\r\n     &lt;/server&gt;\r\n\r\nI also tried putting StrictHostKeyChecking to &quot;no&quot;, but, security risks aside, did not work on a particular machine.\r\n\r\nHas someone found a way to use an internal ssh repository consistently on all machines?","title":"Is there any way of having maven scp wagon work consistently on linux/mac/windows platform?","body":"<p>Given the very poor documentation about scp/ssh and maven I tried different approaches, basically falling in two main categories: using scpexe wagon and scp wagon. Usually they both work without issue on both linux and mac, but on windows I never found a way to make it work on all machines.</p>\n\n<p>scpexe approach (after installing complete putty and adding to path) - settings.xml configuration:</p>\n\n<pre><code>&lt;server&gt;\n    &lt;id&gt;internal&lt;/id&gt;\n    &lt;username&gt;******&lt;/username&gt;\n    &lt;password&gt;*******&lt;/password&gt;\n    &lt;configuration&gt;\n        &lt;sshExecutable&gt;plink&lt;/sshExecutable&gt;\n        &lt;scpExecutable&gt;pscp&lt;/scpExecutable&gt;\n    &lt;/configuration&gt;\n&lt;/server&gt;\n</code></pre>\n\n<p>scp approach - settings.xml :</p>\n\n<pre><code> &lt;server&gt;\n      &lt;id&gt;internal&lt;/id&gt;\n      &lt;username&gt;*********&lt;/username&gt;\n      &lt;password&gt;*********&lt;/password&gt;\n      &lt;configuration&gt;\n           &lt;StrictHostKeyChecking&gt;ask&lt;/StrictHostKeyChecking&gt;\n      &lt;/configuration&gt;\n &lt;/server&gt;\n</code></pre>\n\n<p>I also tried putting StrictHostKeyChecking to \"no\", but, security risks aside, did not work on a particular machine.</p>\n\n<p>Has someone found a way to use an internal ssh repository consistently on all machines?</p>\n"},{"tags":["java","spring-boot","api","rest","microservices"],"answers":[{"tags":[],"owner":{"account_id":22259,"reputation":53853,"user_id":54734,"accept_rate":29,"display_name":"VoiceOfUnreason"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649942548,"creation_date":1649942548,"answer_id":71872357,"question_id":71871236,"body_markdown":"Go ahead and cache the data you need in your table.\r\n\r\n&gt; HTTP does not attempt to require the results of a GET to be safe.  What\r\nit does is require that the semantics of the operation be safe, and\r\ntherefore it is a fault of the implementation, not the interface\r\nor the user of that interface, if anything happens as a result that\r\ncauses loss of property (money, BTW, is considered property for the\r\nsake of this definition). -- Fielding, 2002\r\n\r\n[Safe][1], here, means &quot;essentially read-only&quot;.  It means that general purpose components (like a web crawler) can submit the request on their own, without needing to worry about underlying cost.  It means that a user agent can &quot;pre-fetch&quot; the resource before the user decides to click on the link.\r\n\r\nYour server&#39;s making changes to its underlying data store is an _implementation detail_, it doesn&#39;t change the semantics of the request.\r\n\r\n\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics#section-9.2.1","title":"Using a GET request to persist items in database","body":"<p>Go ahead and cache the data you need in your table.</p>\n<blockquote>\n<p>HTTP does not attempt to require the results of a GET to be safe.  What\nit does is require that the semantics of the operation be safe, and\ntherefore it is a fault of the implementation, not the interface\nor the user of that interface, if anything happens as a result that\ncauses loss of property (money, BTW, is considered property for the\nsake of this definition). -- Fielding, 2002</p>\n</blockquote>\n<p><a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-semantics#section-9.2.1\" rel=\"nofollow noreferrer\">Safe</a>, here, means &quot;essentially read-only&quot;.  It means that general purpose components (like a web crawler) can submit the request on their own, without needing to worry about underlying cost.  It means that a user agent can &quot;pre-fetch&quot; the resource before the user decides to click on the link.</p>\n<p>Your server's making changes to its underlying data store is an <em>implementation detail</em>, it doesn't change the semantics of the request.</p>\n"}],"owner":{"account_id":4165247,"reputation":378,"user_id":3414342,"accept_rate":56,"display_name":"sjaymj62"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71872357,"answer_count":1,"score":-1,"last_activity_date":1650033723,"creation_date":1649937421,"question_id":71871236,"body_markdown":"I currently have a scenario with two java microservices, lets say **StudentService** and **UserService**. Both services persist data in respective nosql databases.\r\n\r\nThe client makes a ***GET api/v1/students/{id}*** to retrieve a particular student from the **StudentService**. In some cases, some entries for students in the Student table do not contain a field *age*. I currently retrieve age for this student from the **UserService** and return it to my client.\r\n\r\nAlthough this seems quite straightforward and seems to work, I am not really a big fan of this solution because we could end up with a nested request for each GET request from the client(worst case). \r\n\r\nThe alternative I am thinking of is, when the StudentService cannot find age for a student, it retrieves age from UserTable and also adds this field in my *UserTable*. By doing this, next time the client calls ***GET api/v1/students/{id}*** for the same user, the UserService has everything it needs and I do not have to go to UserService again.\r\n\r\nOn the contrary, modifying contents of a Table with a GET request is not ideal.\r\n\r\nMaking major modifications to the structure of my Tables and services is unfortunately not possible because of legacy reasons.\r\n\r\nHow would you guys suggest I proceed?","title":"Using a GET request to persist items in database","body":"<p>I currently have a scenario with two java microservices, lets say <strong>StudentService</strong> and <strong>UserService</strong>. Both services persist data in respective nosql databases.</p>\n<p>The client makes a <em><strong>GET api/v1/students/{id}</strong></em> to retrieve a particular student from the <strong>StudentService</strong>. In some cases, some entries for students in the Student table do not contain a field <em>age</em>. I currently retrieve age for this student from the <strong>UserService</strong> and return it to my client.</p>\n<p>Although this seems quite straightforward and seems to work, I am not really a big fan of this solution because we could end up with a nested request for each GET request from the client(worst case).</p>\n<p>The alternative I am thinking of is, when the StudentService cannot find age for a student, it retrieves age from UserTable and also adds this field in my <em>UserTable</em>. By doing this, next time the client calls <em><strong>GET api/v1/students/{id}</strong></em> for the same user, the UserService has everything it needs and I do not have to go to UserService again.</p>\n<p>On the contrary, modifying contents of a Table with a GET request is not ideal.</p>\n<p>Making major modifications to the structure of my Tables and services is unfortunately not possible because of legacy reasons.</p>\n<p>How would you guys suggest I proceed?</p>\n"},{"tags":["java","equals","hashcode"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1650031984,"post_id":71885074,"comment_id":127027463,"body_markdown":"There is no point overriding those methods to have them do what they did already.","body":"There is no point overriding those methods to have them do what they did already."},{"owner":{"display_name":"user18810667"},"score":0,"creation_date":1650260480,"post_id":71885074,"comment_id":127066439,"body_markdown":"@khelwood Then how should these classes above be defined?","body":"@khelwood Then how should these classes above be defined?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1650265159,"post_id":71885074,"comment_id":127067342,"body_markdown":"Either remove the equals and hashcode methods, or put logic in them that determines equality and hashcode based on the values held by the classes.","body":"Either remove the equals and hashcode methods, or put logic in them that determines equality and hashcode based on the values held by the classes."},{"owner":{"display_name":"user18810667"},"score":0,"creation_date":1650284311,"post_id":71885074,"comment_id":127072317,"body_markdown":"Thanks, but I am asking which approach is true. Then should I remove them?","body":"Thanks, but I am asking which approach is true. Then should I remove them?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1650285366,"post_id":71885074,"comment_id":127072590,"body_markdown":"It is your code. How you write it depends on how you want your classes to behave.","body":"It is your code. How you write it depends on how you want your classes to behave."}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650032271,"creation_date":1650032271,"answer_id":71885169,"question_id":71885074,"body_markdown":"It is not useful to define `equals` and `hashcode` methods calling their super implementation.\r\nNot defining them at all will use the super implementation.\r\nIn that case, they will use the `Object` implementation of hashcode and equals in either case (defining them calling super.equals or super.hashCode or not defining them at all).\r\n\r\nRemember to make your implementation of hashcode and equals if you need to use them. The method `equals` is used to check if two objects are logically the same object checking their content. Can be used directly, or not directly when you search for an object in a collection for example. The hashcode is used for the keys of an HashMap and values of an HashSet. \r\n\r\nModern ide helps you creating a correct implementation of those methods depending on the fields that are useful in your context.","title":"Do I need to define equals and hashCode methods for inheritedClass and Base Class?","body":"<p>It is not useful to define <code>equals</code> and <code>hashcode</code> methods calling their super implementation.\nNot defining them at all will use the super implementation.\nIn that case, they will use the <code>Object</code> implementation of hashcode and equals in either case (defining them calling super.equals or super.hashCode or not defining them at all).</p>\n<p>Remember to make your implementation of hashcode and equals if you need to use them. The method <code>equals</code> is used to check if two objects are logically the same object checking their content. Can be used directly, or not directly when you search for an object in a collection for example. The hashcode is used for the keys of an HashMap and values of an HashSet.</p>\n<p>Modern ide helps you creating a correct implementation of those methods depending on the fields that are useful in your context.</p>\n"},{"tags":[],"owner":{"account_id":24429166,"reputation":15,"user_id":18354334,"display_name":"Rashmin Dave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650033555,"creation_date":1650033555,"answer_id":71885394,"question_id":71885074,"body_markdown":"@federico To give you correct answer some details, \r\n\r\n**equals and hashCode is method from Object class** which is **parent of all class**. equals and hashCode use to define that particular class object is different than other object from same class and find hash value.(which called by other Java collection classes if you using it to store these objects). \r\nGenerally we create child class if you have different behavior or fields on top of Parent class. So, child class should have more fields, better to implement equals and hashCode in child class. \r\n\r\nThere will be **no error if you don&#39;t implement** equals and hashCode in child class.","title":"Do I need to define equals and hashCode methods for inheritedClass and Base Class?","body":"<p>@federico To give you correct answer some details,</p>\n<p><strong>equals and hashCode is method from Object class</strong> which is <strong>parent of all class</strong>. equals and hashCode use to define that particular class object is different than other object from same class and find hash value.(which called by other Java collection classes if you using it to store these objects).\nGenerally we create child class if you have different behavior or fields on top of Parent class. So, child class should have more fields, better to implement equals and hashCode in child class.</p>\n<p>There will be <strong>no error if you don't implement</strong> equals and hashCode in child class.</p>\n"},{"tags":[],"owner":{"account_id":8904821,"reputation":324,"user_id":6647053,"display_name":"Zachary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650033685,"creation_date":1650033685,"answer_id":71885420,"question_id":71885074,"body_markdown":"Let&#39;s assume that a product&#39;s hashcode is derived from properties unique to a product. We&#39;ll also assume that 2 objects are equal if they have the same hashcode. In this scenario:\r\n\r\n    public abstract class BaseEntity {\r\n\r\n      public abstract int hashCode();\r\n\r\n      @Override\r\n      public boolean equals(Object object) {\r\n          return this.hashCode() == object.hashCode();\r\n      }\r\n    }\r\n\r\n    public class Product extends BaseEntity {\r\n\r\n      @Override\r\n      public int hashCode() {\r\n        return someValueDerivedFromProductProperties;\r\n      }\r\n    }\r\n\r\nThis means that all classes that extend the BaseEntity must define an implementation of hashCode and are considered equal if the returned hashcode values are equal","title":"Do I need to define equals and hashCode methods for inheritedClass and Base Class?","body":"<p>Let's assume that a product's hashcode is derived from properties unique to a product. We'll also assume that 2 objects are equal if they have the same hashcode. In this scenario:</p>\n<pre><code>public abstract class BaseEntity {\n\n  public abstract int hashCode();\n\n  @Override\n  public boolean equals(Object object) {\n      return this.hashCode() == object.hashCode();\n  }\n}\n\npublic class Product extends BaseEntity {\n\n  @Override\n  public int hashCode() {\n    return someValueDerivedFromProductProperties;\n  }\n}\n</code></pre>\n<p>This means that all classes that extend the BaseEntity must define an implementation of hashCode and are considered equal if the returned hashcode values are equal</p>\n"}],"owner":{"display_name":"user18810667"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71885169,"answer_count":3,"score":0,"last_activity_date":1650033685,"creation_date":1650031785,"question_id":71885074,"body_markdown":"I am wondering if I should define `equals` and `hashCode` methods in the `Product` class as shown below? \r\n\r\n\r\n```\r\npublic abstract class BaseEntity {\r\n\r\n    // properties \r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return super.hashCode();\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object other) {\r\n        return super.equals(other);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class Product extends BaseEntity {\r\n\r\n    // properties   \r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return super.hashCode();\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object other) {\r\n        return super.equals(other);\r\n    }\r\n}\r\n```","title":"Do I need to define equals and hashCode methods for inheritedClass and Base Class?","body":"<p>I am wondering if I should define <code>equals</code> and <code>hashCode</code> methods in the <code>Product</code> class as shown below?</p>\n<pre><code>public abstract class BaseEntity {\n\n    // properties \n\n    @Override\n    public int hashCode() {\n        return super.hashCode();\n    }\n\n    @Override\n    public boolean equals(Object other) {\n        return super.equals(other);\n    }\n}\n</code></pre>\n<pre><code>public class Product extends BaseEntity {\n\n    // properties   \n\n    @Override\n    public int hashCode() {\n        return super.hashCode();\n    }\n\n    @Override\n    public boolean equals(Object other) {\n        return super.equals(other);\n    }\n}\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":15621868,"reputation":211,"user_id":11270463,"display_name":"Mohamed Mamun"},"score":0,"creation_date":1625406208,"post_id":68243946,"comment_id":120614052,"body_markdown":"Remove the annotation ```@Document```, it&#39;s used if you want to change the default object name. If you wonder to change, then the right way to you use it like this ```@Document(&quot;collection = name_of_the_collection&quot;)```","body":"Remove the annotation <code>@Document</code>, it&#39;s used if you want to change the default object name. If you wonder to change, then the right way to you use it like this <code>@Document(&quot;collection = name_of_the_collection&quot;)</code>"},{"owner":{"account_id":3635110,"reputation":1239,"user_id":3030406,"accept_rate":55,"display_name":"Rookie007"},"score":0,"creation_date":1625418876,"post_id":68243946,"comment_id":120617118,"body_markdown":"I have tried that, still same","body":"I have tried that, still same"},{"owner":{"account_id":7761220,"reputation":3129,"user_id":5873923,"display_name":"Marc Tarin"},"score":0,"creation_date":1625491560,"post_id":68243946,"comment_id":120634156,"body_markdown":"Not sure this is the problem, but try to specify the domain type for PersonRepository:  `public interface PersonRepo extends MongoRepository&lt;Person, String&gt;`, as is done in the [reference documentation](https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#reference), for instance.","body":"Not sure this is the problem, but try to specify the domain type for PersonRepository:  <code>public interface PersonRepo extends MongoRepository&lt;Person, String&gt;</code>, as is done in the <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/#reference\" rel=\"nofollow noreferrer\">reference documentation</a>, for instance."},{"owner":{"account_id":3635110,"reputation":1239,"user_id":3030406,"accept_rate":55,"display_name":"Rookie007"},"score":0,"creation_date":1625495489,"post_id":68243946,"comment_id":120635902,"body_markdown":"@MarcTarin thanks for the reply, the issue was all the data I was trying to persist is null, so its not getting persisted","body":"@MarcTarin thanks for the reply, the issue was all the data I was trying to persist is null, so its not getting persisted"}],"owner":{"account_id":3635110,"reputation":1239,"user_id":3030406,"accept_rate":55,"display_name":"Rookie007"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650032466,"creation_date":1625395713,"question_id":68243946,"body_markdown":"I am using Spring Data Mongodb and Embeded mongoDB to persist the data. \r\n\r\nPom.xml \r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\r\napplicaiton.properties\r\n\r\n      spring.data.mongodb.port=2019\r\n      spring.data.mongodb.database=testdb\r\n      spring.data.mongodb.host=localhost\r\n\r\nMain class: \r\n\r\n       @SpringBootApplication \r\n      @EnableAutoConfiguration\r\n      @EnableMongoRepositories(basePackages = { &quot;com.koka.mongotest.repo&quot;})\r\n      public class MongotestApplication {\r\n\r\n    \tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MongotestApplication.class, args);\r\n\t   }\r\n\r\n    }\r\n\r\nEnity or Domain class : \r\n\r\n      @Document\r\n      public class Person \r\n       {\r\n           @Indexed\r\n           private String personId;\r\n            private String name; \r\n            //getter and setters\r\n        }\r\n\r\nRepo:\r\n      \r\n        @Repository\r\n       public interface PersonRepo extends MongoRepository { //No Custom emthod}\r\nService layer : \r\n\r\n       @Service\r\n       public class ServiceImpl {\r\n             @Autowired\r\n             PresonRepo repo;\r\n            public void saveJon(Person p )\r\n           {\r\n             repo.save(p);\r\n          }\r\n       }\r\n\r\nbut Int DB its getting saved as \r\n\r\n       {&quot;_id&quot;:{&quot;$oid&quot;:&quot;60e18f9d7eb50d70b56b543f&quot;},&quot;_class&quot;:&quot;com.koka.mongotest.entity.Person&quot;}\r\n\r\n\r\nBut that person Object hold info which is not being saved. Please advise on this, \r\n","title":"Unable to persist Spring data mongodb using save on repository","body":"<p>I am using Spring Data Mongodb and Embeded mongoDB to persist the data.</p>\n<p>Pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n\n    &lt;/dependency&gt;\n</code></pre>\n<p>applicaiton.properties</p>\n<pre><code>  spring.data.mongodb.port=2019\n  spring.data.mongodb.database=testdb\n  spring.data.mongodb.host=localhost\n</code></pre>\n<p>Main class:</p>\n<pre><code>   @SpringBootApplication \n  @EnableAutoConfiguration\n  @EnableMongoRepositories(basePackages = { &quot;com.koka.mongotest.repo&quot;})\n  public class MongotestApplication {\n\n    public static void main(String[] args) {\n    SpringApplication.run(MongotestApplication.class, args);\n   }\n\n}\n</code></pre>\n<p>Enity or Domain class :</p>\n<pre><code>  @Document\n  public class Person \n   {\n       @Indexed\n       private String personId;\n        private String name; \n        //getter and setters\n    }\n</code></pre>\n<p>Repo:</p>\n<pre><code>    @Repository\n   public interface PersonRepo extends MongoRepository { //No Custom emthod}\n</code></pre>\n<p>Service layer :</p>\n<pre><code>   @Service\n   public class ServiceImpl {\n         @Autowired\n         PresonRepo repo;\n        public void saveJon(Person p )\n       {\n         repo.save(p);\n      }\n   }\n</code></pre>\n<p>but Int DB its getting saved as</p>\n<pre><code>   {&quot;_id&quot;:{&quot;$oid&quot;:&quot;60e18f9d7eb50d70b56b543f&quot;},&quot;_class&quot;:&quot;com.koka.mongotest.entity.Person&quot;}\n</code></pre>\n<p>But that person Object hold info which is not being saved. Please advise on this,</p>\n"},{"tags":["java","tcp","runtime","netty","socketexception"],"comments":[{"owner":{"display_name":"user13830582"},"score":0,"creation_date":1648724971,"post_id":71677627,"comment_id":126700132,"body_markdown":"Is this question removed?","body":"Is this question removed?"}],"answers":[{"tags":[],"owner":{"account_id":12027197,"reputation":177,"user_id":8850201,"display_name":"Florian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650031868,"creation_date":1650031868,"answer_id":71885093,"question_id":71677627,"body_markdown":"A connection reset occurs if the server tries to read or write data after the connection was closed by the client.","title":"What is causing connection reset in my tcp server?","body":"<p>A connection reset occurs if the server tries to read or write data after the connection was closed by the client.</p>\n"}],"owner":{"display_name":"user13830582"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":687,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650031868,"creation_date":1648644856,"question_id":71677627,"body_markdown":"This error can happen at anytime but the error message is not showing where it happens during runtime,\r\n\r\n[Error message][1]\r\n\r\n\r\nTCPServerhandler with the closing part\r\n\r\n[TCPServerHandler][2]\r\n\r\nTCPserverRun code\r\n\r\n[TCPServer][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vRlCH.png\r\n  [2]: https://i.stack.imgur.com/U7N5y.png\r\n  [3]: https://i.stack.imgur.com/khKFO.png","title":"What is causing connection reset in my tcp server?","body":"<p>This error can happen at anytime but the error message is not showing where it happens during runtime,</p>\n<p><a href=\"https://i.stack.imgur.com/vRlCH.png\" rel=\"nofollow noreferrer\">Error message</a></p>\n<p>TCPServerhandler with the closing part</p>\n<p><a href=\"https://i.stack.imgur.com/U7N5y.png\" rel=\"nofollow noreferrer\">TCPServerHandler</a></p>\n<p>TCPserverRun code</p>\n<p><a href=\"https://i.stack.imgur.com/khKFO.png\" rel=\"nofollow noreferrer\">TCPServer</a></p>\n"},{"tags":["java","spring","jdbc","spring-data","spring-data-jdbc"],"comments":[{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":1,"creation_date":1650030910,"post_id":71884390,"comment_id":127027104,"body_markdown":"In general you can set it by accessing inner jdbc template of `NamedParameterJdbcTemplate` - `jdbcTemplate.getJdbcTemplate().setFetchSize(100);`","body":"In general you can set it by accessing inner jdbc template of <code>NamedParameterJdbcTemplate</code> - <code>jdbcTemplate.getJdbcTemplate().setFetchSize(100);</code>"}],"answers":[{"tags":[],"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650031777,"creation_date":1650031777,"answer_id":71885071,"question_id":71884390,"body_markdown":"You can create `NamedParameterJdbcTemplate` using custom `JdbcTemplate`.\r\n```\r\n@Bean\r\nJdbcOperations jdbcOperations(DataSource dataSource) {\r\n    final var jdbcTemplate = new JdbcTemplate(dataSource);\r\n    jdbcTemplate.setFetchSize(100);\r\n    return jdbcTemplate;\r\n}\r\n\r\n@Bean\r\nNamedParameterJdbcOperations namedParameterJdbcOperations(JdbcOperations operations) {\r\n    return new NamedParameterJdbcTemplate(operations);\r\n}\r\n```","title":"How to set fetch-size in Spring-Data-JDBC","body":"<p>You can create <code>NamedParameterJdbcTemplate</code> using custom <code>JdbcTemplate</code>.</p>\n<pre><code>@Bean\nJdbcOperations jdbcOperations(DataSource dataSource) {\n    final var jdbcTemplate = new JdbcTemplate(dataSource);\n    jdbcTemplate.setFetchSize(100);\n    return jdbcTemplate;\n}\n\n@Bean\nNamedParameterJdbcOperations namedParameterJdbcOperations(JdbcOperations operations) {\n    return new NamedParameterJdbcTemplate(operations);\n}\n</code></pre>\n"}],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2576,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71885071,"answer_count":1,"score":4,"last_activity_date":1650031777,"creation_date":1650027873,"question_id":71884390,"body_markdown":"I use Spring-Data-**JDBC** (not JPA) and want to set the fetch-size. \r\n\r\nI know that the the classic `org.springframwork.jdbc.core.JdbcTemplate` has a `setFetchSize(int)` method, but I have Spring-Data-JDBC repository:\r\n\r\n    org.springframework.data.repository.Repository;\r\n    org.springframework.data.jdbc.repository.query.Query;\r\n\r\n    /** This is a Spring Data &lt;b&gt;JDBC&lt;/b&gt; (JDBC not JPA!). */      \r\n    public interface UserDao extends  Repository&lt;User, Long&gt; {\r\n      \r\n        @Query(value = UserRowMapper.SELECT_BY_NAME_STATEMENT\r\n               rowMapperClass = UserRowMapper.class)\r\n        Optional&lt;User&gt; findByName(String name);\r\n    }\r\n\r\nand this is the relevant part of the configuration:\r\n\r\n    @Configuration\r\n    @EnableJdbcRepositories \r\n    public class AppConfigSpringDataJdbc extends AbstractJdbcConfiguration {\r\n       @Autowired\r\n       private DataSource dataSource;\r\n\r\n       @Bean\r\n       public NamedParameterJdbcTemplate namedParameterJdbcTemplate() {\r\n           return new NamedParameterJdbcTemplate(this.dataSource);\r\n       }\r\n    }\r\n\r\n\r\nSo my question is: **How/Where to set the sql query fetch-size when using Spring-Data-JDBC, either by query or in general?**\r\n\r\n\r\n_(The common solutions for Spring-Data-JPA will not work, because there is no `persistence.xml` or `javax.persistence.QueryHint`annotation because it is JDBC)_\r\n\r\n","title":"How to set fetch-size in Spring-Data-JDBC","body":"<p>I use Spring-Data-<strong>JDBC</strong> (not JPA) and want to set the fetch-size.</p>\n<p>I know that the the classic <code>org.springframwork.jdbc.core.JdbcTemplate</code> has a <code>setFetchSize(int)</code> method, but I have Spring-Data-JDBC repository:</p>\n<pre><code>org.springframework.data.repository.Repository;\norg.springframework.data.jdbc.repository.query.Query;\n\n/** This is a Spring Data &lt;b&gt;JDBC&lt;/b&gt; (JDBC not JPA!). */      \npublic interface UserDao extends  Repository&lt;User, Long&gt; {\n  \n    @Query(value = UserRowMapper.SELECT_BY_NAME_STATEMENT\n           rowMapperClass = UserRowMapper.class)\n    Optional&lt;User&gt; findByName(String name);\n}\n</code></pre>\n<p>and this is the relevant part of the configuration:</p>\n<pre><code>@Configuration\n@EnableJdbcRepositories \npublic class AppConfigSpringDataJdbc extends AbstractJdbcConfiguration {\n   @Autowired\n   private DataSource dataSource;\n\n   @Bean\n   public NamedParameterJdbcTemplate namedParameterJdbcTemplate() {\n       return new NamedParameterJdbcTemplate(this.dataSource);\n   }\n}\n</code></pre>\n<p>So my question is: <strong>How/Where to set the sql query fetch-size when using Spring-Data-JDBC, either by query or in general?</strong></p>\n<p><em>(The common solutions for Spring-Data-JPA will not work, because there is no <code>persistence.xml</code> or <code>javax.persistence.QueryHint</code>annotation because it is JDBC)</em></p>\n"},{"tags":["java","performance","for-loop"],"comments":[{"owner":{"account_id":3370,"reputation":7124,"user_id":4857,"accept_rate":96,"display_name":"Ande Turner"},"score":1,"creation_date":1225714967,"post_id":256859,"comment_id":116796,"body_markdown":"@Keparo: It is a &quot;for each&quot; loop not a &quot;for-in&quot; loop","body":"@Keparo: It is a &quot;for each&quot; loop not a &quot;for-in&quot; loop"},{"owner":{"account_id":469470,"reputation":5158,"user_id":876062,"accept_rate":50,"display_name":"damithH"},"score":0,"creation_date":1400244619,"post_id":256859,"comment_id":36409430,"body_markdown":"in java its called &quot;for each&quot;, but when it come to Objective C its called &quot;for In&quot; loop.","body":"in java its called &quot;for each&quot;, but when it come to Objective C its called &quot;for In&quot; loop."},{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":0,"creation_date":1426697745,"post_id":256859,"comment_id":46482046,"body_markdown":"Also see: https://docs.oracle.com/javase/8/docs/api/java/util/RandomAccess.html","body":"Also see: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/RandomAccess.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/RandomAccess.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1432098506,"post_id":256859,"comment_id":48774932,"body_markdown":"The extended for loop performance is discussed here: http://stackoverflow.com/questions/12155987/extended-for-loop-performance","body":"The extended for loop performance is discussed here: <a href=\"http://stackoverflow.com/questions/12155987/extended-for-loop-performance\" title=\"extended for loop performance\">stackoverflow.com/questions/12155987/&hellip;</a>"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1589706022,"post_id":256859,"comment_id":109394421,"body_markdown":"*Even if* there would be a difference, it would be so minor that you should favor readability unless this piece of code is executed trillions of times per second. And then you would need a proper benchmark to avoid premature optimization anyways.","body":"<i>Even if</i> there would be a difference, it would be so minor that you should favor readability unless this piece of code is executed trillions of times per second. And then you would need a proper benchmark to avoid premature optimization anyways."}],"answers":[{"tags":[],"owner":{"account_id":13612,"reputation":27046,"user_id":27474,"accept_rate":68,"display_name":"Vijay Dev"},"down_vote_count":7,"up_vote_count":230,"is_accepted":true,"score":223,"last_activity_date":1225630042,"creation_date":1225630042,"answer_id":256861,"question_id":256859,"body_markdown":"From Item 46 in [Effective Java][1] by Joshua Bloch :\r\n\r\n&gt; The for-each loop, introduced in\r\n&gt; release 1.5, gets rid of the clutter\r\n&gt; and the opportunity for error by\r\n&gt; hiding the iterator or index variable\r\n&gt; completely. The resulting idiom\r\n&gt; applies equally to collections and\r\n&gt; arrays:\r\n&gt; \r\n&gt;     // The preferred idiom for iterating over collections and arrays\r\n&gt;     for (Element e : elements) {\r\n&gt;         doSomething(e);\r\n&gt;     }\r\n&gt; \r\n&gt; When you see the colon (:), read it as\r\n&gt; “in.” Thus, the loop above reads as\r\n&gt; “for each element e in elements.” Note\r\n&gt; that there is no performance penalty\r\n&gt; for using the for-each loop, even for\r\n&gt; arrays. In fact, it may offer a slight\r\n&gt; performance advantage over an ordinary\r\n&gt; for loop in some circumstances, as it\r\n&gt; computes the limit of the array index\r\n&gt; only once. While you can do this by\r\n&gt; hand (Item 45), programmers don’t\r\n&gt; always do so.\r\n\r\n\r\n  [1]: http://www.amazon.com/Effective-Java-2nd-Joshua-Bloch/dp/0321356683","title":"Is there a performance difference between a for loop and a for-each loop?","body":"<p>From Item 46 in <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321356683\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Effective Java</a> by Joshua Bloch :</p>\n\n<blockquote>\n  <p>The for-each loop, introduced in\n  release 1.5, gets rid of the clutter\n  and the opportunity for error by\n  hiding the iterator or index variable\n  completely. The resulting idiom\n  applies equally to collections and\n  arrays:</p>\n\n<pre><code>// The preferred idiom for iterating over collections and arrays\nfor (Element e : elements) {\n    doSomething(e);\n}\n</code></pre>\n  \n  <p>When you see the colon (:), read it as\n  “in.” Thus, the loop above reads as\n  “for each element e in elements.” Note\n  that there is no performance penalty\n  for using the for-each loop, even for\n  arrays. In fact, it may offer a slight\n  performance advantage over an ordinary\n  for loop in some circumstances, as it\n  computes the limit of the array index\n  only once. While you can do this by\n  hand (Item 45), programmers don’t\n  always do so.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2397,"reputation":179869,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1225630461,"creation_date":1225630461,"answer_id":256872,"question_id":256859,"body_markdown":"Even with something like an ArrayList or Vector, where &quot;get&quot; is a simple array lookup, the second loop still has additional overhead that the first one doesn&#39;t.  I would expect it to be a tiny bit slower than the first.","title":"Is there a performance difference between a for loop and a for-each loop?","body":"<p>Even with something like an ArrayList or Vector, where \"get\" is a simple array lookup, the second loop still has additional overhead that the first one doesn't.  I would expect it to be a tiny bit slower than the first.</p>\n"},{"tags":[],"owner":{"account_id":13285,"reputation":43297,"user_id":26575,"display_name":"Jouni K. Sepp&#228;nen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1225631143,"creation_date":1225631143,"answer_id":256879,"question_id":256859,"body_markdown":"The only way to know for sure is to benchmark it, and even that is [not as simple as it may sound][1]. The JIT compiler can do very unexpected things to your code.\r\n\r\n\r\n  [1]: http://wikis.sun.com/display/HotSpotInternals/MicroBenchmarks","title":"Is there a performance difference between a for loop and a for-each loop?","body":"<p>The only way to know for sure is to benchmark it, and even that is <a href=\"http://wikis.sun.com/display/HotSpotInternals/MicroBenchmarks\" rel=\"nofollow noreferrer\">not as simple as it may sound</a>. The JIT compiler can do very unexpected things to your code.</p>\n"},{"tags":[],"owner":{"account_id":10566,"reputation":29161,"user_id":20029,"display_name":"Zach Scrivena"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1525712257,"creation_date":1225631278,"answer_id":256882,"question_id":256859,"body_markdown":"The for-each loop should generally be preferred. The &quot;get&quot; approach may be slower if the List implementation you are using does not support random access. For example, if a LinkedList is used, you would incur a traversal cost, whereas the for-each approach uses an iterator that keeps track of its position in the list. More information on the [nuances of the for-each loop][1].\r\n\r\nI think the article is now here:  [new location][2]\r\n\r\nThe link shown here was dead.  \r\n\r\n  [1]: http://today.java.net/pub/a/today/2006/11/07/nuances-of-java-5-for-each-loop.html\r\n  [2]: https://community.oracle.com/docs/DOC-983591","title":"Is there a performance difference between a for loop and a for-each loop?","body":"<p>The for-each loop should generally be preferred. The \"get\" approach may be slower if the List implementation you are using does not support random access. For example, if a LinkedList is used, you would incur a traversal cost, whereas the for-each approach uses an iterator that keeps track of its position in the list. More information on the <a href=\"http://today.java.net/pub/a/today/2006/11/07/nuances-of-java-5-for-each-loop.html\" rel=\"nofollow noreferrer\">nuances of the for-each loop</a>.</p>\n\n<p>I think the article is now here:  <a href=\"https://community.oracle.com/docs/DOC-983591\" rel=\"nofollow noreferrer\">new location</a></p>\n\n<p>The link shown here was dead.  </p>\n"},{"tags":[],"owner":{"account_id":563934,"reputation":538,"user_id":33459,"display_name":"P Arrayah"},"down_vote_count":2,"up_vote_count":34,"is_accepted":false,"score":32,"last_activity_date":1589705745,"creation_date":1225642244,"answer_id":257009,"question_id":256859,"body_markdown":"All these loops do the exact same, I just want to show these before throwing in my two cents.\r\n\r\nFirst, the classic way of looping through List:\r\n\r\n    for (int i=0; i &lt; strings.size(); i++) { /* do something using strings.get(i) */ }\r\nSecond, the preferred way since it&#39;s less error prone (how many times have YOU done the &quot;oops, mixed the variables i and j in these loops within loops&quot; thing?).\r\n\r\n    for (String s : strings) { /* do something using s */ }\r\n\r\nThird, the micro-optimized for loop:\r\n\r\n    int size = strings.size();\r\n    for (int i = -1; ++i &lt; size;) { /* do something using strings.get(i) */ }\r\n\r\nNow the actual two cents: At least when I was testing these, the third one was the fastest when counting milliseconds on how long it took for each type of loop with a simple operation in it repeated a few million times - this was using Java 5 with jre1.6u10 on Windows in case anyone is interested.\r\n\r\nWhile it at least seems to be so that the third one is the fastest, you really should ask yourself if you want to take the risk of implementing this peephole optimization everywhere in your looping code since from what I&#39;ve seen, actual looping isn&#39;t usually the most time consuming part of any real program (or maybe I&#39;m just working on the wrong field, who knows). And also like I mentioned in the pretext for the Java *for-each loop* (some refer to it as *Iterator loop* and others as *for-in loop*) you are less likely to hit that one particular stupid bug when using it. And before debating how this even can even be faster than the other ones, remember that javac doesn&#39;t optimize bytecode at all (well, nearly at all anyway), it just compiles it.\r\n\r\nIf you&#39;re into micro-optimization though and/or your software uses lots of recursive loops and such then you may be interested in the third loop type. Just remember to benchmark your software well both before and after changing the for loops you have to this odd, micro-optimized one.","title":"Is there a performance difference between a for loop and a for-each loop?","body":"<p>All these loops do the exact same, I just want to show these before throwing in my two cents.</p>\n\n<p>First, the classic way of looping through List:</p>\n\n<pre><code>for (int i=0; i &lt; strings.size(); i++) { /* do something using strings.get(i) */ }\n</code></pre>\n\n<p>Second, the preferred way since it's less error prone (how many times have YOU done the \"oops, mixed the variables i and j in these loops within loops\" thing?).</p>\n\n<pre><code>for (String s : strings) { /* do something using s */ }\n</code></pre>\n\n<p>Third, the micro-optimized for loop:</p>\n\n<pre><code>int size = strings.size();\nfor (int i = -1; ++i &lt; size;) { /* do something using strings.get(i) */ }\n</code></pre>\n\n<p>Now the actual two cents: At least when I was testing these, the third one was the fastest when counting milliseconds on how long it took for each type of loop with a simple operation in it repeated a few million times - this was using Java 5 with jre1.6u10 on Windows in case anyone is interested.</p>\n\n<p>While it at least seems to be so that the third one is the fastest, you really should ask yourself if you want to take the risk of implementing this peephole optimization everywhere in your looping code since from what I've seen, actual looping isn't usually the most time consuming part of any real program (or maybe I'm just working on the wrong field, who knows). And also like I mentioned in the pretext for the Java <em>for-each loop</em> (some refer to it as <em>Iterator loop</em> and others as <em>for-in loop</em>) you are less likely to hit that one particular stupid bug when using it. And before debating how this even can even be faster than the other ones, remember that javac doesn't optimize bytecode at all (well, nearly at all anyway), it just compiles it.</p>\n\n<p>If you're into micro-optimization though and/or your software uses lots of recursive loops and such then you may be interested in the third loop type. Just remember to benchmark your software well both before and after changing the for loops you have to this odd, micro-optimized one.</p>\n"},{"tags":[],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1225684294,"creation_date":1225684294,"answer_id":257894,"question_id":256859,"body_markdown":"It&#39;s always better to use the iterator instead of indexing. This is because iterator is most likely optimzied for the List implementation while indexed (calling get) might not be. For example LinkedList is a List but indexing through its elements will be slower than iterating using the iterator.\r\n","title":"Is there a performance difference between a for loop and a for-each loop?","body":"<p>It's always better to use the iterator instead of indexing. This is because iterator is most likely optimzied for the List implementation while indexed (calling get) might not be. For example LinkedList is a List but indexing through its elements will be slower than iterating using the iterator.</p>\n"},{"tags":[],"owner":{"account_id":9168,"reputation":12722,"user_id":16828,"accept_rate":87,"display_name":"Fortyrunner"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1225700558,"creation_date":1225700558,"answer_id":258117,"question_id":256859,"body_markdown":"foreach makes the intention of your code clearer and that is normally preferred over a very minor speed improvement - if any.\r\n\r\nWhenever I see an indexed loop I have to parse it a little longer to make sure it does what I *think* it does E.g. Does it start from zero, does it include or exclude the end point etc.?\r\n\r\nMost of my time seems to be spent reading code  (that I wrote or someone else wrote) and clarity is almost always more important than performance. Its easy to dismiss performance these days because Hotspot does such an amazing job.","title":"Is there a performance difference between a for loop and a for-each loop?","body":"<p>foreach makes the intention of your code clearer and that is normally preferred over a very minor speed improvement - if any.</p>\n\n<p>Whenever I see an indexed loop I have to parse it a little longer to make sure it does what I <em>think</em> it does E.g. Does it start from zero, does it include or exclude the end point etc.?</p>\n\n<p>Most of my time seems to be spent reading code  (that I wrote or someone else wrote) and clarity is almost always more important than performance. Its easy to dismiss performance these days because Hotspot does such an amazing job.</p>\n"},{"tags":[],"owner":{"account_id":26833,"reputation":2378,"user_id":70173,"accept_rate":70,"display_name":"Sarmun"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1453795786,"creation_date":1235441633,"answer_id":580210,"question_id":256859,"body_markdown":"Well, performance impact is mostly insignificant, but isn&#39;t zero. If you look at JavaDoc of `RandomAccess` interface:\r\n\r\n&gt; As a rule of thumb, a List\r\n&gt; implementation should implement this\r\n&gt; interface if, for typical instances of\r\n&gt; the class, this loop: \r\n&gt; \r\n&gt;     for (int i=0, n=list.size(); i &lt; n; i++)\r\n&gt;         list.get(i);\r\n&gt; \r\n&gt;   runs faster than this loop: \r\n&gt; \r\n&gt;     for (Iterator i=list.iterator(); i.hasNext();)\r\n&gt;           i.next();\r\n\r\nAnd for-each loop is using version with iterator, so for `ArrayList` for example, for-each loop isn&#39;t fastest.","title":"Is there a performance difference between a for loop and a for-each loop?","body":"<p>Well, performance impact is mostly insignificant, but isn't zero. If you look at JavaDoc of <code>RandomAccess</code> interface:</p>\n\n<blockquote>\n  <p>As a rule of thumb, a List\n  implementation should implement this\n  interface if, for typical instances of\n  the class, this loop: </p>\n\n<pre><code>for (int i=0, n=list.size(); i &lt; n; i++)\n    list.get(i);\n</code></pre>\n  \n  <p>runs faster than this loop: </p>\n\n<pre><code>for (Iterator i=list.iterator(); i.hasNext();)\n      i.next();\n</code></pre>\n</blockquote>\n\n<p>And for-each loop is using version with iterator, so for <code>ArrayList</code> for example, for-each loop isn't fastest.</p>\n"},{"tags":[],"owner":{"account_id":229654,"reputation":371,"user_id":492749,"accept_rate":0,"display_name":"Wibowit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1346190822,"creation_date":1346190822,"answer_id":12168053,"question_id":256859,"body_markdown":"The following code:\r\n\r\n    import java.lang.reflect.Array;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n     \r\n    interface Function&lt;T&gt; {\r\n        long perform(T parameter, long x);\r\n    }\r\n     \r\n    class MyArray&lt;T&gt; {\r\n     \r\n        T[] array;\r\n        long x;\r\n     \r\n        public MyArray(int size, Class&lt;T&gt; type, long x) {\r\n            array = (T[]) Array.newInstance(type, size);\r\n            this.x = x;\r\n        }\r\n     \r\n        public void forEach(Function&lt;T&gt; function) {\r\n            for (T element : array) {\r\n                x = function.perform(element, x);\r\n            }\r\n        }\r\n    }\r\n     \r\n    class Compute {\r\n        int factor;\r\n        final long constant;\r\n     \r\n        public Compute(int factor, long constant) {\r\n            this.factor = factor;\r\n            this.constant = constant;\r\n        }\r\n     \r\n        public long compute(long parameter, long x) {\r\n            return x * factor + parameter + constant;\r\n        }\r\n    }\r\n     \r\n    public class Main {\r\n     \r\n        public static void main(String[] args) {\r\n            List&lt;Long&gt; numbers = new ArrayList&lt;Long&gt;(50000000);\r\n            for (int i = 0; i &lt; 50000000; i++) {\r\n                numbers.add(i * i + 5L);\r\n            }\r\n     \r\n            long x = 234553523525L;\r\n     \r\n            long time = System.currentTimeMillis();\r\n            for (int i = 0; i &lt; numbers.size(); i++) {\r\n                x += x * 7 + numbers.get(i) + 3;\r\n            }\r\n            System.out.println(System.currentTimeMillis() - time);\r\n            System.out.println(x);\r\n            x = 0;\r\n            time = System.currentTimeMillis();\r\n            for (long i : numbers) {\r\n                x += x * 7 + i + 3;\r\n            }\r\n            System.out.println(System.currentTimeMillis() - time);\r\n            System.out.println(x);\r\n            x = 0;\r\n            numbers = null;\r\n            MyArray&lt;Long&gt; myArray = new MyArray&lt;Long&gt;(50000000, Long.class, 234553523525L);\r\n            for (int i = 0; i &lt; 50000000; i++) {\r\n                myArray.array[i] = i * i + 3L;\r\n            }\r\n            time = System.currentTimeMillis();\r\n            myArray.forEach(new Function&lt;Long&gt;() {\r\n     \r\n                public long perform(Long parameter, long x) {\r\n                    return x * 8 + parameter + 5L;\r\n                }\r\n            });\r\n            System.out.println(System.currentTimeMillis() - time);\r\n            System.out.println(myArray.x);\r\n            myArray = null;\r\n            myArray = new MyArray&lt;Long&gt;(50000000, Long.class, 234553523525L);\r\n            for (int i = 0; i &lt; 50000000; i++) {\r\n                myArray.array[i] = i * i + 3L;\r\n            }\r\n            time = System.currentTimeMillis();\r\n            myArray.forEach(new Function&lt;Long&gt;() {\r\n     \r\n                public long perform(Long parameter, long x) {\r\n                    return new Compute(8, 5).compute(parameter, x);\r\n                }\r\n            });\r\n            System.out.println(System.currentTimeMillis() - time);\r\n            System.out.println(myArray.x);\r\n        }\r\n    }\r\n\r\nGives following output on my system:\r\n\r\n    224\r\n    -699150247503735895\r\n    221\r\n    -699150247503735895\r\n    220\r\n    -699150247503735895\r\n    219\r\n    -699150247503735895\r\n\r\nI&#39;m running Ubuntu 12.10 alpha with OracleJDK 1.7 update 6.\r\n\r\nIn general HotSpot optimizes a lot of indirections and simple reduntant operations, so in general you shouldn&#39;t worry about them unless there are a lot of them in seqence or they are heavily nested.\r\n\r\nOn the other hand, indexed get on LinkedList is much slower than calling next on iterator for LinkedList so you can avoid that performance hit while retaining readability when you use iterators (explicitly or implicitly in for-each loop).","title":"Is there a performance difference between a for loop and a for-each loop?","body":"<p>The following code:</p>\n\n<pre><code>import java.lang.reflect.Array;\nimport java.util.ArrayList;\nimport java.util.List;\n\ninterface Function&lt;T&gt; {\n    long perform(T parameter, long x);\n}\n\nclass MyArray&lt;T&gt; {\n\n    T[] array;\n    long x;\n\n    public MyArray(int size, Class&lt;T&gt; type, long x) {\n        array = (T[]) Array.newInstance(type, size);\n        this.x = x;\n    }\n\n    public void forEach(Function&lt;T&gt; function) {\n        for (T element : array) {\n            x = function.perform(element, x);\n        }\n    }\n}\n\nclass Compute {\n    int factor;\n    final long constant;\n\n    public Compute(int factor, long constant) {\n        this.factor = factor;\n        this.constant = constant;\n    }\n\n    public long compute(long parameter, long x) {\n        return x * factor + parameter + constant;\n    }\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        List&lt;Long&gt; numbers = new ArrayList&lt;Long&gt;(50000000);\n        for (int i = 0; i &lt; 50000000; i++) {\n            numbers.add(i * i + 5L);\n        }\n\n        long x = 234553523525L;\n\n        long time = System.currentTimeMillis();\n        for (int i = 0; i &lt; numbers.size(); i++) {\n            x += x * 7 + numbers.get(i) + 3;\n        }\n        System.out.println(System.currentTimeMillis() - time);\n        System.out.println(x);\n        x = 0;\n        time = System.currentTimeMillis();\n        for (long i : numbers) {\n            x += x * 7 + i + 3;\n        }\n        System.out.println(System.currentTimeMillis() - time);\n        System.out.println(x);\n        x = 0;\n        numbers = null;\n        MyArray&lt;Long&gt; myArray = new MyArray&lt;Long&gt;(50000000, Long.class, 234553523525L);\n        for (int i = 0; i &lt; 50000000; i++) {\n            myArray.array[i] = i * i + 3L;\n        }\n        time = System.currentTimeMillis();\n        myArray.forEach(new Function&lt;Long&gt;() {\n\n            public long perform(Long parameter, long x) {\n                return x * 8 + parameter + 5L;\n            }\n        });\n        System.out.println(System.currentTimeMillis() - time);\n        System.out.println(myArray.x);\n        myArray = null;\n        myArray = new MyArray&lt;Long&gt;(50000000, Long.class, 234553523525L);\n        for (int i = 0; i &lt; 50000000; i++) {\n            myArray.array[i] = i * i + 3L;\n        }\n        time = System.currentTimeMillis();\n        myArray.forEach(new Function&lt;Long&gt;() {\n\n            public long perform(Long parameter, long x) {\n                return new Compute(8, 5).compute(parameter, x);\n            }\n        });\n        System.out.println(System.currentTimeMillis() - time);\n        System.out.println(myArray.x);\n    }\n}\n</code></pre>\n\n<p>Gives following output on my system:</p>\n\n<pre><code>224\n-699150247503735895\n221\n-699150247503735895\n220\n-699150247503735895\n219\n-699150247503735895\n</code></pre>\n\n<p>I'm running Ubuntu 12.10 alpha with OracleJDK 1.7 update 6.</p>\n\n<p>In general HotSpot optimizes a lot of indirections and simple reduntant operations, so in general you shouldn't worry about them unless there are a lot of them in seqence or they are heavily nested.</p>\n\n<p>On the other hand, indexed get on LinkedList is much slower than calling next on iterator for LinkedList so you can avoid that performance hit while retaining readability when you use iterators (explicitly or implicitly in for-each loop).</p>\n"},{"tags":[],"owner":{"account_id":229946,"reputation":588,"user_id":2958002,"display_name":"Changgeng"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1383701602,"creation_date":1383701602,"answer_id":19802454,"question_id":256859,"body_markdown":"By the variable name `objectArrayList`, I assume that is an instance of `java.util.ArrayList`. In that case, the performance difference would be unnoticeable.\r\n\r\nOn the other hand, if it&#39;s an instance of `java.util.LinkedList`, the second approach will be much slower as the `List#get(int)` is an O(n) operation.\r\n\r\nSo the first approach is always preferred unless the index is needed by the logic in the loop.\r\n","title":"Is there a performance difference between a for loop and a for-each loop?","body":"<p>By the variable name <code>objectArrayList</code>, I assume that is an instance of <code>java.util.ArrayList</code>. In that case, the performance difference would be unnoticeable.</p>\n\n<p>On the other hand, if it's an instance of <code>java.util.LinkedList</code>, the second approach will be much slower as the <code>List#get(int)</code> is an O(n) operation.</p>\n\n<p>So the first approach is always preferred unless the index is needed by the logic in the loop.</p>\n"},{"tags":[],"owner":{"account_id":350479,"reputation":539,"user_id":686368,"display_name":"Gary Gregory"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1411765078,"creation_date":1411765078,"answer_id":26068201,"question_id":256859,"body_markdown":"There appears to be a difference unfortunately.\r\n\r\nIf you look at the generated bytes code for both kinds of loops, they are different.\r\n\r\nHere is an example from the Log4j source code.\r\n\r\nIn /log4j-api/src/main/java/org/apache/logging/log4j/MarkerManager.java we have a static inner class called Log4jMarker which defines:\r\n\r\n        /*\r\n         * Called from add while synchronized.\r\n         */\r\n        private static boolean contains(final Marker parent, final Marker... localParents) {\r\n            //noinspection ForLoopReplaceableByForEach\r\n            for (final Marker marker : localParents) {\r\n                if (marker == parent) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\nWith standard loop:\r\n\r\n      private static boolean contains(org.apache.logging.log4j.Marker, org.apache.logging.log4j.Marker...);\r\n        Code:\r\n           0: iconst_0\r\n           1: istore_2\r\n           2: aload_1\r\n           3: arraylength\r\n           4: istore_3\r\n           5: iload_2\r\n           6: iload_3\r\n           7: if_icmpge     29\r\n          10: aload_1\r\n          11: iload_2\r\n          12: aaload\r\n          13: astore        4\r\n          15: aload         4\r\n          17: aload_0\r\n          18: if_acmpne     23\r\n          21: iconst_1\r\n          22: ireturn\r\n          23: iinc          2, 1\r\n          26: goto          5\r\n          29: iconst_0\r\n          30: ireturn\r\n\r\nWith for-each:\r\n\r\n      private static boolean contains(org.apache.logging.log4j.Marker, org.apache.logging.log4j.Marker...);\r\n        Code:\r\n           0: aload_1\r\n           1: astore_2\r\n           2: aload_2\r\n           3: arraylength\r\n           4: istore_3\r\n           5: iconst_0\r\n           6: istore        4\r\n           8: iload         4\r\n          10: iload_3\r\n          11: if_icmpge     34\r\n          14: aload_2\r\n          15: iload         4\r\n          17: aaload\r\n          18: astore        5\r\n          20: aload         5\r\n          22: aload_0\r\n          23: if_acmpne     28\r\n          26: iconst_1\r\n          27: ireturn\r\n          28: iinc          4, 1\r\n          31: goto          8\r\n          34: iconst_0\r\n          35: ireturn\r\n\r\n\r\nWhat is up with THAT Oracle?\r\n\r\nI&#39;ve tried this with Java 7 and 8 on Windows 7.\r\n","title":"Is there a performance difference between a for loop and a for-each loop?","body":"<p>There appears to be a difference unfortunately.</p>\n\n<p>If you look at the generated bytes code for both kinds of loops, they are different.</p>\n\n<p>Here is an example from the Log4j source code.</p>\n\n<p>In /log4j-api/src/main/java/org/apache/logging/log4j/MarkerManager.java we have a static inner class called Log4jMarker which defines:</p>\n\n<pre><code>    /*\n     * Called from add while synchronized.\n     */\n    private static boolean contains(final Marker parent, final Marker... localParents) {\n        //noinspection ForLoopReplaceableByForEach\n        for (final Marker marker : localParents) {\n            if (marker == parent) {\n                return true;\n            }\n        }\n        return false;\n    }\n</code></pre>\n\n<p>With standard loop:</p>\n\n<pre><code>  private static boolean contains(org.apache.logging.log4j.Marker, org.apache.logging.log4j.Marker...);\n    Code:\n       0: iconst_0\n       1: istore_2\n       2: aload_1\n       3: arraylength\n       4: istore_3\n       5: iload_2\n       6: iload_3\n       7: if_icmpge     29\n      10: aload_1\n      11: iload_2\n      12: aaload\n      13: astore        4\n      15: aload         4\n      17: aload_0\n      18: if_acmpne     23\n      21: iconst_1\n      22: ireturn\n      23: iinc          2, 1\n      26: goto          5\n      29: iconst_0\n      30: ireturn\n</code></pre>\n\n<p>With for-each:</p>\n\n<pre><code>  private static boolean contains(org.apache.logging.log4j.Marker, org.apache.logging.log4j.Marker...);\n    Code:\n       0: aload_1\n       1: astore_2\n       2: aload_2\n       3: arraylength\n       4: istore_3\n       5: iconst_0\n       6: istore        4\n       8: iload         4\n      10: iload_3\n      11: if_icmpge     34\n      14: aload_2\n      15: iload         4\n      17: aaload\n      18: astore        5\n      20: aload         5\n      22: aload_0\n      23: if_acmpne     28\n      26: iconst_1\n      27: ireturn\n      28: iinc          4, 1\n      31: goto          8\n      34: iconst_0\n      35: ireturn\n</code></pre>\n\n<p>What is up with THAT Oracle?</p>\n\n<p>I've tried this with Java 7 and 8 on Windows 7.</p>\n"},{"tags":[],"owner":{"account_id":7547889,"reputation":362,"user_id":5730313,"accept_rate":80,"display_name":"Santosh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1453472132,"creation_date":1453471761,"answer_id":34948680,"question_id":256859,"body_markdown":"\r\n    1. for(Object o: objectArrayList){\r\n        o.DoSomthing();\r\n    }\r\n    and\r\n    \r\n    2. for(int i=0; i&lt;objectArrayList.size(); i++){\r\n        objectArrayList.get(i).DoSomthing();\r\n    }\r\n\r\nBoth does the same but for easy and safe programming use for-each, there are possibilities for error prone in 2nd way of using.","title":"Is there a performance difference between a for loop and a for-each loop?","body":"<pre><code>1. for(Object o: objectArrayList){\n    o.DoSomthing();\n}\nand\n\n2. for(int i=0; i&lt;objectArrayList.size(); i++){\n    objectArrayList.get(i).DoSomthing();\n}\n</code></pre>\n\n<p>Both does the same but for easy and safe programming use for-each, there are possibilities for error prone in 2nd way of using.</p>\n"},{"tags":[],"owner":{"account_id":1676268,"reputation":1859,"user_id":1541763,"accept_rate":80,"display_name":"TBridges42"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467483156,"creation_date":1467483156,"answer_id":38163145,"question_id":256859,"body_markdown":"Here is a brief analysis of the difference put out by the Android development team:\r\n\r\nhttps://www.youtube.com/watch?v=MZOf3pOAM6A\r\n\r\nThe result is that there *is* a difference, and in very restrained environments with very large lists it could be a noticeable difference. In their testing, the for each loop took twice as long. However, their testing was over an arraylist of 400,000 integers. The actual difference per element in the array was 6 *microseconds*. I haven&#39;t tested and they didn&#39;t say, but I would expect the difference to be slightly larger using objects rather than primitives, but even still unless you are building library code where you have no idea the scale of what you will be asked to iterate over, I think the difference is not worth stressing about.","title":"Is there a performance difference between a for loop and a for-each loop?","body":"<p>Here is a brief analysis of the difference put out by the Android development team:</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=MZOf3pOAM6A\" rel=\"nofollow\">https://www.youtube.com/watch?v=MZOf3pOAM6A</a></p>\n\n<p>The result is that there <em>is</em> a difference, and in very restrained environments with very large lists it could be a noticeable difference. In their testing, the for each loop took twice as long. However, their testing was over an arraylist of 400,000 integers. The actual difference per element in the array was 6 <em>microseconds</em>. I haven't tested and they didn't say, but I would expect the difference to be slightly larger using objects rather than primitives, but even still unless you are building library code where you have no idea the scale of what you will be asked to iterate over, I think the difference is not worth stressing about.</p>\n"},{"tags":[],"owner":{"account_id":2406464,"reputation":410,"user_id":2102793,"display_name":"neural"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497430994,"creation_date":1497430994,"answer_id":44540213,"question_id":256859,"body_markdown":"It&#39;s weird that no one has mentioned the obvious - foreach allocates memory (in the form of an iterator), whereas a normal for loop does not allocate any memory. For games on Android, this is a problem, because it means that the garbage collector will run periodically. In a game you don&#39;t want the garbage collector to run... EVER. So don&#39;t use foreach loops in your draw (or render) method.","title":"Is there a performance difference between a for loop and a for-each loop?","body":"<p>It's weird that no one has mentioned the obvious - foreach allocates memory (in the form of an iterator), whereas a normal for loop does not allocate any memory. For games on Android, this is a problem, because it means that the garbage collector will run periodically. In a game you don't want the garbage collector to run... EVER. So don't use foreach loops in your draw (or render) method.</p>\n"},{"tags":[],"owner":{"account_id":1557723,"reputation":3383,"user_id":1448316,"accept_rate":40,"display_name":"Sreekanth Karumanaghat"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1503293864,"creation_date":1503293864,"answer_id":45789947,"question_id":256859,"body_markdown":"Accepted answer answers the question, apart from the exceptional case of ArrayList...\r\n\r\nSince most developers rely on ArrayList(atleast I believe so)\r\n\r\nSo I am obligated to add the correct answer here.\r\n\r\nStraight from the developer documentation:-\r\n\r\n\r\nThe enhanced for loop (also sometimes known as &quot;for-each&quot; loop) can be used for collections that implement the Iterable interface and for arrays. With collections, an iterator is allocated to make interface calls to hasNext() and next(). With an ArrayList, a hand-written counted loop is about 3x faster (with or without JIT), but for other collections the enhanced for loop syntax will be exactly equivalent to explicit iterator usage.\r\n\r\nThere are several alternatives for iterating through an array:\r\n\r\n    static class Foo {\r\n        int mSplat;\r\n    }\r\n    \r\n    Foo[] mArray = ...\r\n    \r\n    public void zero() {\r\n        int sum = 0;\r\n        for (int i = 0; i &lt; mArray.length; ++i) {\r\n            sum += mArray[i].mSplat;\r\n        }\r\n    }\r\n    \r\n    public void one() {\r\n        int sum = 0;\r\n        Foo[] localArray = mArray;\r\n        int len = localArray.length;\r\n    \r\n        for (int i = 0; i &lt; len; ++i) {\r\n            sum += localArray[i].mSplat;\r\n        }\r\n    }\r\n    \r\n    public void two() {\r\n        int sum = 0;\r\n        for (Foo a : mArray) {\r\n            sum += a.mSplat;\r\n        }\r\n    }\r\n\r\nzero() is slowest, because the JIT can&#39;t yet optimize away the cost of getting the array length once for every iteration through the loop.\r\n\r\none() is faster. It pulls everything out into local variables, avoiding the lookups. Only the array length offers a performance benefit.\r\n\r\ntwo() is fastest for devices without a JIT, and indistinguishable from one() for devices with a JIT. It uses the enhanced for loop syntax introduced in version 1.5 of the Java programming language.\r\n\r\nSo, you should use the enhanced for loop by default, but consider a hand-written counted loop for performance-critical ArrayList iteration.","title":"Is there a performance difference between a for loop and a for-each loop?","body":"<p>Accepted answer answers the question, apart from the exceptional case of ArrayList...</p>\n\n<p>Since most developers rely on ArrayList(atleast I believe so)</p>\n\n<p>So I am obligated to add the correct answer here.</p>\n\n<p>Straight from the developer documentation:-</p>\n\n<p>The enhanced for loop (also sometimes known as \"for-each\" loop) can be used for collections that implement the Iterable interface and for arrays. With collections, an iterator is allocated to make interface calls to hasNext() and next(). With an ArrayList, a hand-written counted loop is about 3x faster (with or without JIT), but for other collections the enhanced for loop syntax will be exactly equivalent to explicit iterator usage.</p>\n\n<p>There are several alternatives for iterating through an array:</p>\n\n<pre><code>static class Foo {\n    int mSplat;\n}\n\nFoo[] mArray = ...\n\npublic void zero() {\n    int sum = 0;\n    for (int i = 0; i &lt; mArray.length; ++i) {\n        sum += mArray[i].mSplat;\n    }\n}\n\npublic void one() {\n    int sum = 0;\n    Foo[] localArray = mArray;\n    int len = localArray.length;\n\n    for (int i = 0; i &lt; len; ++i) {\n        sum += localArray[i].mSplat;\n    }\n}\n\npublic void two() {\n    int sum = 0;\n    for (Foo a : mArray) {\n        sum += a.mSplat;\n    }\n}\n</code></pre>\n\n<p>zero() is slowest, because the JIT can't yet optimize away the cost of getting the array length once for every iteration through the loop.</p>\n\n<p>one() is faster. It pulls everything out into local variables, avoiding the lookups. Only the array length offers a performance benefit.</p>\n\n<p>two() is fastest for devices without a JIT, and indistinguishable from one() for devices with a JIT. It uses the enhanced for loop syntax introduced in version 1.5 of the Java programming language.</p>\n\n<p>So, you should use the enhanced for loop by default, but consider a hand-written counted loop for performance-critical ArrayList iteration.</p>\n"},{"tags":[],"owner":{"account_id":9634354,"reputation":366,"user_id":10656396,"display_name":"Jerry Lundegaard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650031246,"creation_date":1631881394,"answer_id":69223378,"question_id":256859,"body_markdown":"Seems to me like the other answers are based on the incorrect benchmarks, that doesn&#39;t take Hotspot&#39;s compilation and optimization process into an account.\r\n\r\n**Short answer**\r\n----------------\r\n\r\nUse enhanced-loop when possible, because most of the time it&#39;s the fastest.\r\nIf you cannot, pull the entire array into a local variable if possible:\r\n\r\n    int localArray = this.array;\r\n    for (int i = 0; i &lt; localArray.length; i++) { \r\n        methodCall(localArray[i]); \r\n    }\r\n\r\n\r\n\r\n\r\n**Long answer**\r\n---------------\r\n\r\nNow, usually there is no difference, because Hotspot is very good at optimizing and getting rid of checks that java needs to do.\r\n\r\nBut sometimes some optimizations just cannot be done, usually because you have a virtual call inside a loop, that cannot be inlined.\r\nIn that case, some loops can really be faster than others.\r\n\r\nFew of the things that Java needs to do:\r\n - ***reload this.array*** - because it could be changed (by the call or another thread)\r\n - **check whether *i* is in inside the bounds of the array**, if not *throw IndexOutOfBoundsException* \r\n - **check whether an accessed object reference is null**, if yes *throw NullPointerException*\r\n\r\nConsider this c-style loop:\r\n\r\n    for (int i = 0; i &lt; this.array.length; i++) { //now java knows i &lt; this.array.length\r\n        methodCall(this.array[i]);// no need to check\r\n    }\r\n \r\nBy evaluating the loop condition ***i &lt; this.array.length***, java knows that ***i*** **must be** inside of bounds (***i*** is changed only **after** the call), so don&#39;t need to check it again in the next line.\r\nBut in this case java needs to reload ***this.array.length***.\r\n\r\nYou might be tempted to &quot;optimize&quot; the loop, by pulling the ***this.array.length*** value inside of the local variable:\r\n\r\n    int len = this.array.length;//len is now a local variable\r\n    for (int i = 0; i &lt; len; i++) { //no reload needed\r\n        methodCall(this.array[i]); //now java will do the check\r\n    }\r\n\r\nNow java don&#39;t need to reload every single time, because a local variable can be cannot be changed by the methodCall and/or another thread. Local variables can be changed only inside the method itself, and java now can prove that variable ***len*** could not change.\r\n\r\nBut now the loop condition ***i &lt; this.array.length*** changed to ***i &lt; len***, and previous optimization fails, and java need to check whether the ***i*** in inside of bounds of ***this.array***.\r\n\r\nA better optimization would be to pull entire array into a local variable:\r\n\r\n    ArrayType[] localArray = this.array;\r\n    for (int i = 0; i &lt; localArray.length; i++) { \r\n        methodCall(localArray[i]); \r\n    }\r\n\r\nNow java don&#39;t need to reload the array, and the  &quot;***i*** in bounds&quot; check is also eliminated.\r\n\r\nAnd what about the enhanced-loop?\r\nWell, usually the compiler rewrites your enhanced loop into something like the last shown loop, if not even better.","title":"Is there a performance difference between a for loop and a for-each loop?","body":"<p>Seems to me like the other answers are based on the incorrect benchmarks, that doesn't take Hotspot's compilation and optimization process into an account.</p>\n<h2><strong>Short answer</strong></h2>\n<p>Use enhanced-loop when possible, because most of the time it's the fastest.\nIf you cannot, pull the entire array into a local variable if possible:</p>\n<pre><code>int localArray = this.array;\nfor (int i = 0; i &lt; localArray.length; i++) { \n    methodCall(localArray[i]); \n}\n</code></pre>\n<h2><strong>Long answer</strong></h2>\n<p>Now, usually there is no difference, because Hotspot is very good at optimizing and getting rid of checks that java needs to do.</p>\n<p>But sometimes some optimizations just cannot be done, usually because you have a virtual call inside a loop, that cannot be inlined.\nIn that case, some loops can really be faster than others.</p>\n<p>Few of the things that Java needs to do:</p>\n<ul>\n<li><em><strong>reload this.array</strong></em> - because it could be changed (by the call or another thread)</li>\n<li><strong>check whether <em>i</em> is in inside the bounds of the array</strong>, if not <em>throw IndexOutOfBoundsException</em></li>\n<li><strong>check whether an accessed object reference is null</strong>, if yes <em>throw NullPointerException</em></li>\n</ul>\n<p>Consider this c-style loop:</p>\n<pre><code>for (int i = 0; i &lt; this.array.length; i++) { //now java knows i &lt; this.array.length\n    methodCall(this.array[i]);// no need to check\n}\n</code></pre>\n<p>By evaluating the loop condition <em><strong>i &lt; this.array.length</strong></em>, java knows that <em><strong>i</strong></em> <strong>must be</strong> inside of bounds (<em><strong>i</strong></em> is changed only <strong>after</strong> the call), so don't need to check it again in the next line.\nBut in this case java needs to reload <em><strong>this.array.length</strong></em>.</p>\n<p>You might be tempted to &quot;optimize&quot; the loop, by pulling the <em><strong>this.array.length</strong></em> value inside of the local variable:</p>\n<pre><code>int len = this.array.length;//len is now a local variable\nfor (int i = 0; i &lt; len; i++) { //no reload needed\n    methodCall(this.array[i]); //now java will do the check\n}\n</code></pre>\n<p>Now java don't need to reload every single time, because a local variable can be cannot be changed by the methodCall and/or another thread. Local variables can be changed only inside the method itself, and java now can prove that variable <em><strong>len</strong></em> could not change.</p>\n<p>But now the loop condition <em><strong>i &lt; this.array.length</strong></em> changed to <em><strong>i &lt; len</strong></em>, and previous optimization fails, and java need to check whether the <em><strong>i</strong></em> in inside of bounds of <em><strong>this.array</strong></em>.</p>\n<p>A better optimization would be to pull entire array into a local variable:</p>\n<pre><code>ArrayType[] localArray = this.array;\nfor (int i = 0; i &lt; localArray.length; i++) { \n    methodCall(localArray[i]); \n}\n</code></pre>\n<p>Now java don't need to reload the array, and the  &quot;<em><strong>i</strong></em> in bounds&quot; check is also eliminated.</p>\n<p>And what about the enhanced-loop?\nWell, usually the compiler rewrites your enhanced loop into something like the last shown loop, if not even better.</p>\n"}],"owner":{"account_id":13282,"reputation":6676,"user_id":26567,"accept_rate":100,"display_name":"eflles"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142375,"favorite_count":0,"down_vote_count":0,"up_vote_count":206,"accepted_answer_id":256861,"answer_count":16,"score":206,"last_activity_date":1650031246,"creation_date":1225629653,"question_id":256859,"body_markdown":"What, if any, is the performance difference between the following two loops?\r\n    \r\n    for (Object o: objectArrayList) {\r\n        o.DoSomething();\r\n    }\r\n\r\nand \r\n    \r\n    for (int i=0; i&lt;objectArrayList.size(); i++) {\r\n        objectArrayList.get(i).DoSomething();\r\n    }\r\n","title":"Is there a performance difference between a for loop and a for-each loop?","body":"<p>What, if any, is the performance difference between the following two loops?</p>\n\n<pre><code>for (Object o: objectArrayList) {\n    o.DoSomething();\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>for (int i=0; i&lt;objectArrayList.size(); i++) {\n    objectArrayList.get(i).DoSomething();\n}\n</code></pre>\n"},{"tags":["java","weblogic12c","ejb-3.1"],"owner":{"account_id":748890,"reputation":9396,"user_id":730754,"accept_rate":50,"display_name":"Eduardo Y&#225;&#241;ez Parareda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650030999,"creation_date":1649855983,"question_id":71858195,"body_markdown":"The startup of my application takes almost 7 minutes, but more than 4 of them are used by Weblogic to resolve EJB references. I&#39;ve profiled the startup of the server, and I&#39;ve found that the time is spent in:\r\n\r\n```weblogic.application.naming.EnvUtils.findInfo```\r\n\r\nWhich is called by:\r\n\r\n    weblogic.application.naming.EjbReferenceResolver.get()\r\n    |\r\n     - weblogic.application.naming.EjbReferenceResolver.resolve(ApplicationContextInternal)\r\n     |\r\n      - weblogic.application.naming.EjbReferenceResolver.resolveEjbRef(Collection)\r\n        |\r\n         - weblogic.application.naming.EnvUtils.findInfoByReferenceClass\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2YGQR.png\r\n\r\nI don&#39;t know, but maybe it&#39;s trying to figure out those EJB references, and there&#39;s a way to tell it that information in a configuration file, or using annotation, that could improve the startup time.\r\n\r\nAny ideas? And please, don&#39;t tell me about /dev/random - /dev/urandom, because that doesn&#39;t fix anything in this case (already tried).\r\n\r\n","title":"Weblogic 12c spent several minutes during startup resolving EJB references","body":"<p>The startup of my application takes almost 7 minutes, but more than 4 of them are used by Weblogic to resolve EJB references. I've profiled the startup of the server, and I've found that the time is spent in:</p>\n<p><code>weblogic.application.naming.EnvUtils.findInfo</code></p>\n<p>Which is called by:</p>\n<pre><code>weblogic.application.naming.EjbReferenceResolver.get()\n|\n - weblogic.application.naming.EjbReferenceResolver.resolve(ApplicationContextInternal)\n |\n  - weblogic.application.naming.EjbReferenceResolver.resolveEjbRef(Collection)\n    |\n     - weblogic.application.naming.EnvUtils.findInfoByReferenceClass\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/2YGQR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2YGQR.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't know, but maybe it's trying to figure out those EJB references, and there's a way to tell it that information in a configuration file, or using annotation, that could improve the startup time.</p>\n<p>Any ideas? And please, don't tell me about /dev/random - /dev/urandom, because that doesn't fix anything in this case (already tried).</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":11458149,"reputation":15009,"user_id":8398549,"display_name":"Cid"},"score":0,"creation_date":1650023224,"post_id":71883609,"comment_id":127024777,"body_markdown":"Java and C# are different languages","body":"Java and C# are different languages"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1650023529,"post_id":71883609,"comment_id":127024864,"body_markdown":"[codereview.se] is probably a better place for your question.","body":"<a href=\"https://codereview.stackexchange.com\">Code Review</a> is probably a better place for your question."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1650023764,"post_id":71883609,"comment_id":127024933,"body_markdown":"Since all catch blocks are the same, and you are already catching Exception, catch only Exception (delete the other two catches)","body":"Since all catch blocks are the same, and you are already catching Exception, catch only Exception (delete the other two catches)"},{"owner":{"account_id":18676555,"reputation":1,"user_id":13614108,"display_name":"Rom&#225;n G-R"},"score":0,"creation_date":1650024209,"post_id":71883609,"comment_id":127025050,"body_markdown":"Ok, thanks. Also when I try to divide by zero, exception is not catched, &quot;ok&quot; gets true and the loop ends. Console prints Infinity...","body":"Ok, thanks. Also when I try to divide by zero, exception is not catched, &quot;ok&quot; gets true and the loop ends. Console prints Infinity..."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1650024325,"post_id":71883609,"comment_id":127025085,"body_markdown":"@Rom&#225;nG-R [Java division by zero doesnt throw an ArithmeticException - why?](https://stackoverflow.com/a/33798761)","body":"@Rom&#225;nG-R <a href=\"https://stackoverflow.com/a/33798761\">Java division by zero doesnt throw an ArithmeticException - why?</a>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650030486,"creation_date":1650030486,"answer_id":71884839,"question_id":71883609,"body_markdown":"No. For many reasons.\r\n\r\n## Code is pointless\r\n\r\n`Exception` is the supertype of both other exceptions, but the code is the same. You&#39;ve written:\r\n\r\n* If the animal is a Pomeranian, say &quot;Woof&quot;.\r\n* If the animal is a german shepherd, say &quot;Woof&quot;.\r\n* If the animal is a dog of any kind, say &quot;Woof&quot;.\r\n\r\nYou can just delete the first two lines in that strategy for the exact same effect. When an exception occurs, all &#39;catch&#39; blocks are checked, in order (except more efficiently than literally checking one by one) - the first catch block whose exception type is what was thrown __or a supertype of it__, is triggered.\r\n\r\n## Exception messages aren&#39;t reliable\r\n\r\nAn exception is just an object. It has a type (such as `ArithmeticException`, and note that the exception type tree is very hierarchical. For example, `FileNotFoundException` extends `IOException` extends `Exception` extends `Throwable`. (Which is the root type of all things you can throw and catch).\r\n\r\nThey &#39;communicate&#39; what the problem is, and do so in ways that are intended for the programmer, and in ways that are intended for the user, but __mostly__ the programmer. All exceptions have the following information available in them, which gives information about what happened:\r\n\r\n* The type (example: `FileNotFoundException`)\r\n* The message (example: `&quot;Access denied: foo.txt&quot;`)\r\n* The stack trace (this shows the call stack and lets you know where in the code it happened)\r\n* The &#39;causal chain&#39; - Often an exception occurs because of another exception, and often that other &#39;underlying&#39; exception is the more interesting one. For example, a `SaveGameException` occurs, but the underlying reason for that is an IOException that contains the text &#39;disk full&#39; which is much more useful to fix the problem. Given that a cause can have a cause which can have a cause, and so on - it&#39;s a chain.\r\n* The suppressed list. This is a list of exceptions that also occurred but which are likely less important. It&#39;s rarely interesting to look at these, and they occur when using try-with-resources.\r\n* Custom stuff. As I said, exceptions are just types, and therefore you are free to add more stuff. SQLException in particular has plenty of extremely useful extra&#39;s, such as the SQL DB engine&#39;s error code.\r\n\r\nOf all that data, the only one that&#39;s _potentially_ useful to relay directly to a user is `.getMessage()`, but _most_ exception types (it&#39;s just code - its up to the person who writes that code to decide how it works!) __do not work that way__ - their message contains the specifics, _meant for the programmer, not the user_. They are the parameterized data that &#39;goes with&#39; the type. In other words, the message __makes no sense__ without the context of what type the exception was, and in general isn&#39;t sensible to just verbatim relay to the user.\r\n\r\nFor example, a `FileNotFoundException` will have as message just a file name. Telling the user: `Error: foo.txt` is mostly useless; they have no idea what the heck happened or what that means. Showing them `FileNotFoundException: foo.txt`, now we&#39;re getting somewhere.\r\n\r\n## Separate issue: Dividing by 0\r\n\r\n`(double)num1/num2` is parsed and compiled as this:\r\n\r\n* First, take `num1`, and convert its value to a `double` value.\r\n* Then, execute the operation `someDouble / someInt` (where `someDouble` is the converted-to-a-`double`-already `num1` variable, and the `someInt` is the `num2` variable). This isn&#39;t possible, of course (in pretty much all programming languages, both numeric types need to be identical before you can do any math on em), and the java spec dictates how to resolve that problem: By &#39;widening&#39; the &#39;narrower&#39; type. In the spec, int is the &#39;narrower&#39; type, so...\r\n* The compiler also adds a separate &#39;convert this to a double&#39; instruction for `num2`. We now have 2 doubles.\r\n* Now the compiler executes the math operation.\r\n* ... and `0.0 / 0.0` __does not throw any exceptions__. Unlike in integer math, doubles have magic values for NaN (not a number), Infinity, and negative Infinity. `5.0/0.0` is simply Infinity. `0.0/0.0` is simply NaN. This, your double value is now NaN. This is then passed to the `String.format` code which renders it as, I think, literally the text `&quot;NaN&quot;`. No exception occurs.\r\n\r\nTo fix this, you have 2 options: Either first do integer math (so, just `num1 / num2`, and THEN cast to a double: `(double) (num1 / num2)`) - but I don&#39;t think you want that. In integer math, e.g. `5/2` is just 2 (not `2.5`! That would take a double and we&#39;re doing all integer math), and THEN you turn that into a double, which is 2.0, and not what you want.\r\n\r\nThe other option is simply to accept that exceptions is just not how it works.\r\n\r\nIf you want to print `Error: ` then either check if the double is nan/positive infinity/negative infinity, or perhaps simply check if `num2` is 0:\r\n\r\n```\r\nif (num2 == 0) {\r\n  System.out.println(&quot;Error: Divisor cannot be 0&quot;);\r\n} else {\r\n  // do the math stuff\r\n}\r\n```\r\n\r\nNo try/catch needed at all.\r\n\r\n## So how do I show exceptions to a user?\r\n\r\nYou either know what the exception is caused by and what the &#39;message&#39; part of it means and you translate it all into something to show to your user, _OR_, you __just show the entire thing verbatim__. Yes, this will look like scary programmerese to the user. There is no generic &#39;hey, error, can you render yourself into a form that looks friendly to a near computer illiterate user for me&#39;. It just does not exist.\r\n\r\nHiding information from users sucks, so don&#39;t be tempted by this. Just show them the scary screenful, but feel free to couch it in a warning first. Something like this:\r\n\r\n```\r\n} catch (IOException e) {\r\n  System.err.println(&quot;Saving your game failed!&quot;);\r\n  System.err.println(&quot;The problem appears to be related to the file system. Perhaps this will help you in figuring out the problem: &quot;);\r\n  e.printStackTrace(); // see note\r\n}\r\n```\r\n\r\nAnd note that the `printStackTrace` method is a lie. It actually prints the type, the message, _and_ the stack trace, _and_ the causal chain. If you just want to print the type and the message, `System.err.println(e.toString())` does that, but given that this hides the causal chain, that is somewhat likely to hide the actual useful info.\r\n\r\n","title":"Asking for user input in while loop with exceptions","body":"<p>No. For many reasons.</p>\n<h2>Code is pointless</h2>\n<p><code>Exception</code> is the supertype of both other exceptions, but the code is the same. You've written:</p>\n<ul>\n<li>If the animal is a Pomeranian, say &quot;Woof&quot;.</li>\n<li>If the animal is a german shepherd, say &quot;Woof&quot;.</li>\n<li>If the animal is a dog of any kind, say &quot;Woof&quot;.</li>\n</ul>\n<p>You can just delete the first two lines in that strategy for the exact same effect. When an exception occurs, all 'catch' blocks are checked, in order (except more efficiently than literally checking one by one) - the first catch block whose exception type is what was thrown <strong>or a supertype of it</strong>, is triggered.</p>\n<h2>Exception messages aren't reliable</h2>\n<p>An exception is just an object. It has a type (such as <code>ArithmeticException</code>, and note that the exception type tree is very hierarchical. For example, <code>FileNotFoundException</code> extends <code>IOException</code> extends <code>Exception</code> extends <code>Throwable</code>. (Which is the root type of all things you can throw and catch).</p>\n<p>They 'communicate' what the problem is, and do so in ways that are intended for the programmer, and in ways that are intended for the user, but <strong>mostly</strong> the programmer. All exceptions have the following information available in them, which gives information about what happened:</p>\n<ul>\n<li>The type (example: <code>FileNotFoundException</code>)</li>\n<li>The message (example: <code>&quot;Access denied: foo.txt&quot;</code>)</li>\n<li>The stack trace (this shows the call stack and lets you know where in the code it happened)</li>\n<li>The 'causal chain' - Often an exception occurs because of another exception, and often that other 'underlying' exception is the more interesting one. For example, a <code>SaveGameException</code> occurs, but the underlying reason for that is an IOException that contains the text 'disk full' which is much more useful to fix the problem. Given that a cause can have a cause which can have a cause, and so on - it's a chain.</li>\n<li>The suppressed list. This is a list of exceptions that also occurred but which are likely less important. It's rarely interesting to look at these, and they occur when using try-with-resources.</li>\n<li>Custom stuff. As I said, exceptions are just types, and therefore you are free to add more stuff. SQLException in particular has plenty of extremely useful extra's, such as the SQL DB engine's error code.</li>\n</ul>\n<p>Of all that data, the only one that's <em>potentially</em> useful to relay directly to a user is <code>.getMessage()</code>, but <em>most</em> exception types (it's just code - its up to the person who writes that code to decide how it works!) <strong>do not work that way</strong> - their message contains the specifics, <em>meant for the programmer, not the user</em>. They are the parameterized data that 'goes with' the type. In other words, the message <strong>makes no sense</strong> without the context of what type the exception was, and in general isn't sensible to just verbatim relay to the user.</p>\n<p>For example, a <code>FileNotFoundException</code> will have as message just a file name. Telling the user: <code>Error: foo.txt</code> is mostly useless; they have no idea what the heck happened or what that means. Showing them <code>FileNotFoundException: foo.txt</code>, now we're getting somewhere.</p>\n<h2>Separate issue: Dividing by 0</h2>\n<p><code>(double)num1/num2</code> is parsed and compiled as this:</p>\n<ul>\n<li>First, take <code>num1</code>, and convert its value to a <code>double</code> value.</li>\n<li>Then, execute the operation <code>someDouble / someInt</code> (where <code>someDouble</code> is the converted-to-a-<code>double</code>-already <code>num1</code> variable, and the <code>someInt</code> is the <code>num2</code> variable). This isn't possible, of course (in pretty much all programming languages, both numeric types need to be identical before you can do any math on em), and the java spec dictates how to resolve that problem: By 'widening' the 'narrower' type. In the spec, int is the 'narrower' type, so...</li>\n<li>The compiler also adds a separate 'convert this to a double' instruction for <code>num2</code>. We now have 2 doubles.</li>\n<li>Now the compiler executes the math operation.</li>\n<li>... and <code>0.0 / 0.0</code> <strong>does not throw any exceptions</strong>. Unlike in integer math, doubles have magic values for NaN (not a number), Infinity, and negative Infinity. <code>5.0/0.0</code> is simply Infinity. <code>0.0/0.0</code> is simply NaN. This, your double value is now NaN. This is then passed to the <code>String.format</code> code which renders it as, I think, literally the text <code>&quot;NaN&quot;</code>. No exception occurs.</li>\n</ul>\n<p>To fix this, you have 2 options: Either first do integer math (so, just <code>num1 / num2</code>, and THEN cast to a double: <code>(double) (num1 / num2)</code>) - but I don't think you want that. In integer math, e.g. <code>5/2</code> is just 2 (not <code>2.5</code>! That would take a double and we're doing all integer math), and THEN you turn that into a double, which is 2.0, and not what you want.</p>\n<p>The other option is simply to accept that exceptions is just not how it works.</p>\n<p>If you want to print <code>Error: </code> then either check if the double is nan/positive infinity/negative infinity, or perhaps simply check if <code>num2</code> is 0:</p>\n<pre><code>if (num2 == 0) {\n  System.out.println(&quot;Error: Divisor cannot be 0&quot;);\n} else {\n  // do the math stuff\n}\n</code></pre>\n<p>No try/catch needed at all.</p>\n<h2>So how do I show exceptions to a user?</h2>\n<p>You either know what the exception is caused by and what the 'message' part of it means and you translate it all into something to show to your user, <em>OR</em>, you <strong>just show the entire thing verbatim</strong>. Yes, this will look like scary programmerese to the user. There is no generic 'hey, error, can you render yourself into a form that looks friendly to a near computer illiterate user for me'. It just does not exist.</p>\n<p>Hiding information from users sucks, so don't be tempted by this. Just show them the scary screenful, but feel free to couch it in a warning first. Something like this:</p>\n<pre><code>} catch (IOException e) {\n  System.err.println(&quot;Saving your game failed!&quot;);\n  System.err.println(&quot;The problem appears to be related to the file system. Perhaps this will help you in figuring out the problem: &quot;);\n  e.printStackTrace(); // see note\n}\n</code></pre>\n<p>And note that the <code>printStackTrace</code> method is a lie. It actually prints the type, the message, <em>and</em> the stack trace, <em>and</em> the causal chain. If you just want to print the type and the message, <code>System.err.println(e.toString())</code> does that, but given that this hides the causal chain, that is somewhat likely to hide the actual useful info.</p>\n"}],"owner":{"account_id":18676555,"reputation":1,"user_id":13614108,"display_name":"Rom&#225;n G-R"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650030486,"creation_date":1650023093,"question_id":71883609,"body_markdown":"Is this a good practice?\r\n\r\nI know I can verify input with an if statement, \r\nbut I&#39;m trying to understand how exceptions work...\r\n\r\n\r\n\r\n        public static void main(String[] args)  {\r\n\t\t\t\t\r\n\t\tint num1, num2;\r\n\t\tboolean ok = false;\r\n\t\t\r\n\t\twhile(!ok) {\r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\tnum1 = Integer.parseInt(JOptionPane.showInputDialog(&quot;Ingresar 1er numero&quot;));\r\n\t\t\t\tnum2 = Integer.parseInt(JOptionPane.showInputDialog(&quot;Ingresar 2do numero&quot;));\r\n\t\t\t\tSystem.out.println(String.format(&quot;%.2f&quot;,((double)num1/num2)));\r\n\t\t\t\tok = true;\r\n\t\t\t}\r\n\t\t\tcatch (NumberFormatException e) {\r\n\t\t\t\tSystem.out.println(&quot;Error: &quot; + e.getMessage());\r\n\t\t\t}\r\n\t\t\tcatch (ArithmeticException e) {\r\n\t\t\t\tSystem.out.println(&quot;Error: &quot; + e.getMessage());\r\n\t\t\t}\r\n\t\t\tcatch (Exception e) {\r\n\t\t\t\tSystem.out.println(&quot;Error: &quot; + e.getMessage());\r\n\t\t\t}\t\t\t\r\n\t\t}","title":"Asking for user input in while loop with exceptions","body":"<p>Is this a good practice?</p>\n<p>I know I can verify input with an if statement,\nbut I'm trying to understand how exceptions work...</p>\n<pre><code>    public static void main(String[] args)  {\n            \n    int num1, num2;\n    boolean ok = false;\n    \n    while(!ok) {\n        try {\n            \n            num1 = Integer.parseInt(JOptionPane.showInputDialog(&quot;Ingresar 1er numero&quot;));\n            num2 = Integer.parseInt(JOptionPane.showInputDialog(&quot;Ingresar 2do numero&quot;));\n            System.out.println(String.format(&quot;%.2f&quot;,((double)num1/num2)));\n            ok = true;\n        }\n        catch (NumberFormatException e) {\n            System.out.println(&quot;Error: &quot; + e.getMessage());\n        }\n        catch (ArithmeticException e) {\n            System.out.println(&quot;Error: &quot; + e.getMessage());\n        }\n        catch (Exception e) {\n            System.out.println(&quot;Error: &quot; + e.getMessage());\n        }           \n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649867684,"post_id":71860317,"comment_id":126986484,"body_markdown":"Have you read the upgrade guides?","body":"Have you read the upgrade guides?"},{"owner":{"account_id":15681853,"reputation":377,"user_id":11377572,"display_name":"Henry Bai"},"score":0,"creation_date":1649876128,"post_id":71860317,"comment_id":126989381,"body_markdown":"@khmarbaise not yet. I&#39;m new to maven and spring.","body":"@khmarbaise not yet. I&#39;m new to maven and spring."}],"answers":[{"tags":[],"owner":{"account_id":24944172,"reputation":11,"user_id":18809680,"display_name":"Sanyam Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650022632,"creation_date":1650022632,"answer_id":71883546,"question_id":71860317,"body_markdown":"    &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.6&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nUpgrade 2.6.6 maybe your problem resolve and I am using it there is not such problem like this.  ","title":"Incompatible dependencies after updating Spring Boot version from 2.1.3 to 2.3.11","body":"<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Upgrade 2.6.6 maybe your problem resolve and I am using it there is not such problem like this.</p>\n"}],"owner":{"account_id":15681853,"reputation":377,"user_id":11377572,"display_name":"Henry Bai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650030134,"creation_date":1649864805,"question_id":71860317,"body_markdown":"I&#39;m trying to update Spring Boot version to 2.3.11 from 2.1.3. After I update it in pom like below\r\n\r\n    &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.11.RELEASE&lt;/version&gt;\r\n            &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nan error occurs:\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not instantiate id generator.\r\n\r\nIt looks some dependencies are incompatible with spring 2.3.11. Is there any way to find the dependencies that are incompatible?\r\n\r\n","title":"Incompatible dependencies after updating Spring Boot version from 2.1.3 to 2.3.11","body":"<p>I'm trying to update Spring Boot version to 2.3.11 from 2.1.3. After I update it in pom like below</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.11.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>an error occurs:</p>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not instantiate id generator.</p>\n<p>It looks some dependencies are incompatible with spring 2.3.11. Is there any way to find the dependencies that are incompatible?</p>\n"},{"tags":["java","spring-boot","cassandra","spring-data","spring-data-cassandra"],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650027666,"creation_date":1650027206,"answer_id":71884280,"question_id":71878311,"body_markdown":"A good example for this can be found in the Git repo for DataStax&#39;s [E-commerce workshop][1].\r\n\r\nConsider this table/PK definition:\r\n\r\n    CREATE TABLE user (\r\n      user_id UUID,\r\n      ...\r\n      PRIMARY KEY (user_id));\r\n\r\nAs there is a single column defined as the primary key, the [UserEntity class][2] only needs to use the `@PrimaryKey` annotation:\r\n\r\n    @PrimaryKey(&quot;user_id&quot;)\r\n\tprivate UUID userId;\r\n\r\nNow consider _this_ table/PK definition:\r\n\r\n    CREATE TABLE cart_products (\r\n        cart_id uuid,\r\n        product_timestamp timestamp,\r\n        product_id text,\r\n        ...\r\n        PRIMARY KEY (cart_id, product_timestamp, product_id)\r\n    ) WITH CLUSTERING ORDER BY (product_timestamp DESC, product_id ASC)\r\n      AND default_time_to_live = 5184000;\r\n\r\n`cart_products` uses three columns for its PRIMARY KEY: `cart_id` as the partition key; `product_timestamp` and `product_id` for the clustering keys.  So the [CartProductEntity class][3] still uses the `@PrimaryKey` annotation, but it references the [CartProductsPrimaryKey class][4]:\r\n\r\n\t@PrimaryKey\r\n\tprivate CartProductsPrimaryKey key;\r\n\r\nInside _that_ class, the individual primary key columns are annotated with `@PrimaryKeyColumn`:\r\n\r\n    @PrimaryKeyClass\r\n    public class CartProductsPrimaryKey {\r\n    \r\n        @PrimaryKeyColumn(\r\n                name = &quot;cart_id&quot;, \r\n                ordinal = 0, \r\n                type = PrimaryKeyType.PARTITIONED) \r\n    \tprivate UUID cartId;\r\n        \r\n        @PrimaryKeyColumn(\r\n                name = &quot;product_timestamp&quot;, \r\n                ordinal = 1, \r\n                type = PrimaryKeyType.CLUSTERED, \r\n                ordering = Ordering.DESCENDING)\r\n        private Date productTimestamp;\r\n        \r\n        @PrimaryKeyColumn(\r\n                name = &quot;product_id&quot;, \r\n                ordinal = 2, \r\n                type = PrimaryKeyType.CLUSTERED, \r\n                ordering = Ordering.ASCENDING)\r\n        private String productId;\r\n\r\nBasically, the annotations used depend largely on the complexity of the primary key definition.\r\n\r\nAs for the `@Id` annotation, it serves the same function as `@PrimaryKey`.  This is mentioned in the [Spring Data Cassandra repository][5].\r\n\r\n&gt; The @Id annotation tells the mapper which property you want to use for the Cassandra primary key. Composite primary keys can require a slightly different data model.\r\n\r\n  [1]: https://github.com/datastaxdevs/workshop-ecommerce-app/\r\n  [2]: https://github.com/datastaxdevs/workshop-ecommerce-app/blob/main/backend/src/main/java/com/datastax/tutorials/service/user/UserEntity.java\r\n  [3]: https://github.com/datastaxdevs/workshop-ecommerce-app/blob/main/backend/src/main/java/com/datastax/tutorials/service/cartproducts/CartProductEntity.java\r\n  [4]: https://github.com/datastaxdevs/workshop-ecommerce-app/blob/main/backend/src/main/java/com/datastax/tutorials/service/cartproducts/CartProductsPrimaryKey.java\r\n  [5]: https://github.com/spring-projects/spring-data-cassandra/blob/main/src/main/asciidoc/reference/mapping.adoc#metadata-based-mapping\r\n","title":"What is the difference between @PrimaryKeyColumn and @PrimaryKey in Spring Data Cassandra?","body":"<p>A good example for this can be found in the Git repo for DataStax's <a href=\"https://github.com/datastaxdevs/workshop-ecommerce-app/\" rel=\"nofollow noreferrer\">E-commerce workshop</a>.</p>\n<p>Consider this table/PK definition:</p>\n<pre><code>CREATE TABLE user (\n  user_id UUID,\n  ...\n  PRIMARY KEY (user_id));\n</code></pre>\n<p>As there is a single column defined as the primary key, the <a href=\"https://github.com/datastaxdevs/workshop-ecommerce-app/blob/main/backend/src/main/java/com/datastax/tutorials/service/user/UserEntity.java\" rel=\"nofollow noreferrer\">UserEntity class</a> only needs to use the <code>@PrimaryKey</code> annotation:</p>\n<pre><code>@PrimaryKey(&quot;user_id&quot;)\nprivate UUID userId;\n</code></pre>\n<p>Now consider <em>this</em> table/PK definition:</p>\n<pre><code>CREATE TABLE cart_products (\n    cart_id uuid,\n    product_timestamp timestamp,\n    product_id text,\n    ...\n    PRIMARY KEY (cart_id, product_timestamp, product_id)\n) WITH CLUSTERING ORDER BY (product_timestamp DESC, product_id ASC)\n  AND default_time_to_live = 5184000;\n</code></pre>\n<p><code>cart_products</code> uses three columns for its PRIMARY KEY: <code>cart_id</code> as the partition key; <code>product_timestamp</code> and <code>product_id</code> for the clustering keys.  So the <a href=\"https://github.com/datastaxdevs/workshop-ecommerce-app/blob/main/backend/src/main/java/com/datastax/tutorials/service/cartproducts/CartProductEntity.java\" rel=\"nofollow noreferrer\">CartProductEntity class</a> still uses the <code>@PrimaryKey</code> annotation, but it references the <a href=\"https://github.com/datastaxdevs/workshop-ecommerce-app/blob/main/backend/src/main/java/com/datastax/tutorials/service/cartproducts/CartProductsPrimaryKey.java\" rel=\"nofollow noreferrer\">CartProductsPrimaryKey class</a>:</p>\n<pre><code>@PrimaryKey\nprivate CartProductsPrimaryKey key;\n</code></pre>\n<p>Inside <em>that</em> class, the individual primary key columns are annotated with <code>@PrimaryKeyColumn</code>:</p>\n<pre><code>@PrimaryKeyClass\npublic class CartProductsPrimaryKey {\n\n    @PrimaryKeyColumn(\n            name = &quot;cart_id&quot;, \n            ordinal = 0, \n            type = PrimaryKeyType.PARTITIONED) \n    private UUID cartId;\n    \n    @PrimaryKeyColumn(\n            name = &quot;product_timestamp&quot;, \n            ordinal = 1, \n            type = PrimaryKeyType.CLUSTERED, \n            ordering = Ordering.DESCENDING)\n    private Date productTimestamp;\n    \n    @PrimaryKeyColumn(\n            name = &quot;product_id&quot;, \n            ordinal = 2, \n            type = PrimaryKeyType.CLUSTERED, \n            ordering = Ordering.ASCENDING)\n    private String productId;\n</code></pre>\n<p>Basically, the annotations used depend largely on the complexity of the primary key definition.</p>\n<p>As for the <code>@Id</code> annotation, it serves the same function as <code>@PrimaryKey</code>.  This is mentioned in the <a href=\"https://github.com/spring-projects/spring-data-cassandra/blob/main/src/main/asciidoc/reference/mapping.adoc#metadata-based-mapping\" rel=\"nofollow noreferrer\">Spring Data Cassandra repository</a>.</p>\n<blockquote>\n<p>The @Id annotation tells the mapper which property you want to use for the Cassandra primary key. Composite primary keys can require a slightly different data model.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3520251,"reputation":114,"user_id":2942745,"display_name":"cogitoboy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650029553,"creation_date":1650029553,"answer_id":71884698,"question_id":71878311,"body_markdown":"\r\n[https://github.com/spring-projects/spring-data-cassandra/blob/main/src/main/asciidoc/reference/mapping.adoc#metadata-based-mapping][1]\r\n\r\n@Id: Applied at the field or property level to mark the property used for identity purposes.\r\n\r\n@PrimaryKey: Similar to @Id but lets you specify the column name.\r\n\r\n@PrimaryKeyColumn: Cassandra-specific annotation for primary key columns that lets you specify primary key column attributes, such as for clustered or partitioned. Can be used on single and multiple attributes to indicate either a single or a composite (compound) primary key. If used on a property within the entity, make sure to apply the @Id annotation as well.\r\n\r\n@PrimaryKeyClass: Applied at the class level to indicate that this class is a compound primary key class. Must be referenced with\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-cassandra/blob/main/src/main/asciidoc/reference/mapping.adoc#metadata-based-mapping","title":"What is the difference between @PrimaryKeyColumn and @PrimaryKey in Spring Data Cassandra?","body":"<p><a href=\"https://github.com/spring-projects/spring-data-cassandra/blob/main/src/main/asciidoc/reference/mapping.adoc#metadata-based-mapping\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-cassandra/blob/main/src/main/asciidoc/reference/mapping.adoc#metadata-based-mapping</a></p>\n<p>@Id: Applied at the field or property level to mark the property used for identity purposes.</p>\n<p>@PrimaryKey: Similar to @Id but lets you specify the column name.</p>\n<p>@PrimaryKeyColumn: Cassandra-specific annotation for primary key columns that lets you specify primary key column attributes, such as for clustered or partitioned. Can be used on single and multiple attributes to indicate either a single or a composite (compound) primary key. If used on a property within the entity, make sure to apply the @Id annotation as well.</p>\n<p>@PrimaryKeyClass: Applied at the class level to indicate that this class is a compound primary key class. Must be referenced with</p>\n"}],"owner":{"account_id":7933575,"reputation":79,"user_id":5990491,"display_name":"Fclass"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1527,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1650029553,"creation_date":1649975906,"question_id":71878311,"body_markdown":"I have recently started using Cassandra for my Spring Boot applications. I have always just used `@PrimaryKeyColumn` and `@Id` annotation to mark the Primary Key in the Java Class but yesterday I saw a github repos where people were using @PrimaryKeyColumn annotations with `@Id` annotation and some other repos where people are just using `@PrimaryKey` annotations. \r\nWhat am I missing here, I feel so lost.","title":"What is the difference between @PrimaryKeyColumn and @PrimaryKey in Spring Data Cassandra?","body":"<p>I have recently started using Cassandra for my Spring Boot applications. I have always just used <code>@PrimaryKeyColumn</code> and <code>@Id</code> annotation to mark the Primary Key in the Java Class but yesterday I saw a github repos where people were using @PrimaryKeyColumn annotations with <code>@Id</code> annotation and some other repos where people are just using <code>@PrimaryKey</code> annotations.\nWhat am I missing here, I feel so lost.</p>\n"},{"tags":["java","hide","taskbar","system-tray"],"comments":[{"owner":{"account_id":1436230,"reputation":2183,"user_id":1357527,"accept_rate":75,"display_name":"Natecat"},"score":0,"creation_date":1462756225,"post_id":37106529,"comment_id":61755208,"body_markdown":"Fairly sure if you have a window it will show up in the taskbar; the taskbar is really just a list of windows","body":"Fairly sure if you have a window it will show up in the taskbar; the taskbar is really just a list of windows"}],"answers":[{"tags":[],"owner":{"account_id":18543195,"reputation":21,"user_id":13511204,"display_name":"Armin Rezaee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589139665,"creation_date":1589112400,"answer_id":61711694,"question_id":37106529,"body_markdown":"do this `setVisible(false)` then there will be nothing in the taskbar","title":"Hide Java application to System Tray","body":"<p>do this <code>setVisible(false)</code> then there will be nothing in the taskbar</p>\n"}],"owner":{"account_id":3771295,"reputation":7247,"user_id":3133418,"accept_rate":100,"display_name":"nick zoum"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3497,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1650029507,"creation_date":1462756086,"question_id":37106529,"body_markdown":"I want to hide my Java application from the taskbar and for it to be visible only at the system tray. Here is a picture in case this is unclear.\r\n\r\n[![image][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Lo1IG.png\r\nI tried to implement it like [this](https://stackoverflow.com/questions/7461477/how-to-hide-a-jframe-in-system-tray-of-taskbar) and the icon did appear in the system tray but it is still showing the application on the taskbar.\r\n\r\nHere is part of the Frame class\r\n\r\n    public class Widget extends JFrame {\r\n\tprivate static final long serialVersionUID = -197136854089859547L;\r\n\tprivate JPanel mainPanel;\r\n\tprivate WidgetProperties properties;\r\n\tprivate Makedir mkdir;\r\n\tprivate ArrayList&lt;Item&gt; items;\r\n\tprivate Image icon;\r\n\tprivate TrayIcon trayIcon;\r\n\tprivate SystemTray tray;\r\n\r\n\tpublic Widget() {\r\n\t\tsuper(&quot;&quot;);\r\n\t\tthis.setTray();\r\n\t\tthis.setUndecorated(true);\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t}\r\n\r\n\tpublic void setTray() {\r\n\t\ttray = SystemTray.getSystemTray();\r\n\t\tPopupMenu menu = new PopupMenu();\r\n\t\tMenuItem show = new MenuItem(&quot;Show&quot;);\r\n\t\tMenuItem exit = new MenuItem(&quot;Exit&quot;);\r\n\t\tshow.addActionListener(new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent arg0) {\r\n\t\t\t\tsetState(Frame.NORMAL);\r\n\t\t\t}\r\n\t\t});\r\n\t\texit.addActionListener(new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent arg0) {\r\n\t\t\t\tclose();\r\n\t\t\t}\r\n\t\t});\r\n\t\tmenu.add(show);\r\n\t\tmenu.addSeparator();\r\n\t\tmenu.add(exit);\r\n\t\ttrayIcon = new TrayIcon(icon, &quot;EasyStart&quot;, menu);\r\n\t\ttrayIcon.setImageAutoSize(true);\r\n\t\ttry\r\n\r\n\t\t{\r\n\t\t\ttray.add(trayIcon);\r\n\r\n\t\t} catch (AWTException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void setup() {\r\n\t\tthis.resize();\r\n\t\tthis.setVisible(true);\r\n\t}\r\n\r\n\tpublic void resize() {\r\n\t\tthis.setResizable(true);\r\n\t\tthis.setShape(properties.getShape());\r\n\t\tthis.setSize(properties.getSize());\r\n\t\tthis.setResizable(false);\r\n\t}\r\n\r\n\tpublic void close() {\r\n\t\tSystem.exit(0);\r\n\t}\r\n\r\n}\r\n\r\nI just need to find how to hide the application from the taskbar.","title":"Hide Java application to System Tray","body":"<p>I want to hide my Java application from the taskbar and for it to be visible only at the system tray. Here is a picture in case this is unclear.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Lo1IG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lo1IG.png\" alt=\"image\"></a></p>\n\n<p>I tried to implement it like <a href=\"https://stackoverflow.com/questions/7461477/how-to-hide-a-jframe-in-system-tray-of-taskbar\">this</a> and the icon did appear in the system tray but it is still showing the application on the taskbar.</p>\n\n<p>Here is part of the Frame class</p>\n\n<pre><code>public class Widget extends JFrame {\nprivate static final long serialVersionUID = -197136854089859547L;\nprivate JPanel mainPanel;\nprivate WidgetProperties properties;\nprivate Makedir mkdir;\nprivate ArrayList&lt;Item&gt; items;\nprivate Image icon;\nprivate TrayIcon trayIcon;\nprivate SystemTray tray;\n\npublic Widget() {\n    super(\"\");\n    this.setTray();\n    this.setUndecorated(true);\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n}\n\npublic void setTray() {\n    tray = SystemTray.getSystemTray();\n    PopupMenu menu = new PopupMenu();\n    MenuItem show = new MenuItem(\"Show\");\n    MenuItem exit = new MenuItem(\"Exit\");\n    show.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent arg0) {\n            setState(Frame.NORMAL);\n        }\n    });\n    exit.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent arg0) {\n            close();\n        }\n    });\n    menu.add(show);\n    menu.addSeparator();\n    menu.add(exit);\n    trayIcon = new TrayIcon(icon, \"EasyStart\", menu);\n    trayIcon.setImageAutoSize(true);\n    try\n\n    {\n        tray.add(trayIcon);\n\n    } catch (AWTException e) {\n        e.printStackTrace();\n    }\n}\n\npublic void setup() {\n    this.resize();\n    this.setVisible(true);\n}\n\npublic void resize() {\n    this.setResizable(true);\n    this.setShape(properties.getShape());\n    this.setSize(properties.getSize());\n    this.setResizable(false);\n}\n\npublic void close() {\n    System.exit(0);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I just need to find how to hide the application from the taskbar.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1650013881,"post_id":71881546,"comment_id":127022276,"body_markdown":"What do you mean by looping itself? You&#39;re calling your method recursively twice when the value is Ace, but what is the result? \nAlso what do you mean by doing differently? Compared to what?","body":"What do you mean by looping itself? You&#39;re calling your method recursively twice when the value is Ace, but what is the result?  Also what do you mean by doing differently? Compared to what?"},{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1650014018,"post_id":71881546,"comment_id":127022327,"body_markdown":"Also, try to set a debug point to the Ace case and check out what happens.","body":"Also, try to set a debug point to the Ace case and check out what happens."}],"answers":[{"tags":[],"owner":{"account_id":11378263,"reputation":32,"user_id":8341848,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650026144,"creation_date":1650010932,"answer_id":71881706,"question_id":71881546,"body_markdown":"You can make a flag (or flags since you may get two or more ace?), don&#39;t give 1 or 11 inside &quot;case &quot;Ace&quot;. Do scoring after all is done.","title":"How to call a method inside the same method only once","body":"<p>You can make a flag (or flags since you may get two or more ace?), don't give 1 or 11 inside &quot;case &quot;Ace&quot;. Do scoring after all is done.</p>\n"},{"tags":[],"owner":{"account_id":21208365,"reputation":260,"user_id":15597511,"display_name":"Daksh Rawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650026079,"creation_date":1650011885,"answer_id":71881830,"question_id":71881546,"body_markdown":"*Maybe this might not be a legit way to solve it*\r\n\r\n**But it works fine and you can give it a try**\r\n\r\nInitialize a variable outside the getCardValue() method\r\n\r\n    int b=0;\r\n\r\nThen change your getCardValue() method to\r\n\r\n    case &quot;Ace&quot;:\r\n         cardValue = 11;\r\n    if(b==0)\r\n    {\r\n      b=1;\r\n      int a=getCardValue(player,1,plugin) + getCardValue(player,3,plugin) ;\r\n      b=0;\r\n      if(a&gt; 21) {\r\n      cardValue = 1;\r\n      } \r\n    }\r\n    break;\r\n\r\nSo basically here b=0 as default and when the card is ace it satisfies the condition `b==0` and then calls the method again but before doing that it sets b=1...\r\n\r\nSo when it comes back here again ( the ace with the condition and method call). The condition `if(b==0)` is false as &#39;b&#39; was set to 1... so it does not execute the code inside `if(b==0)`\r\n\r\nThen after you have the returned value in variable &#39;a&#39; the next line gets execute that is `b=0;` and then `if(a&gt; 21) {\r\n  cardValue = 1;\r\n  }`\r\n","title":"How to call a method inside the same method only once","body":"<p><em>Maybe this might not be a legit way to solve it</em></p>\n<p><strong>But it works fine and you can give it a try</strong></p>\n<p>Initialize a variable outside the getCardValue() method</p>\n<pre><code>int b=0;\n</code></pre>\n<p>Then change your getCardValue() method to</p>\n<pre><code>case &quot;Ace&quot;:\n     cardValue = 11;\nif(b==0)\n{\n  b=1;\n  int a=getCardValue(player,1,plugin) + getCardValue(player,3,plugin) ;\n  b=0;\n  if(a&gt; 21) {\n  cardValue = 1;\n  } \n}\nbreak;\n</code></pre>\n<p>So basically here b=0 as default and when the card is ace it satisfies the condition <code>b==0</code> and then calls the method again but before doing that it sets b=1...</p>\n<p>So when it comes back here again ( the ace with the condition and method call). The condition <code>if(b==0)</code> is false as 'b' was set to 1... so it does not execute the code inside <code>if(b==0)</code></p>\n<p>Then after you have the returned value in variable 'a' the next line gets execute that is <code>b=0;</code> and then <code>if(a&gt; 21) { cardValue = 1; }</code></p>\n"}],"owner":{"account_id":24910210,"reputation":31,"user_id":18779838,"display_name":"CrispyCriv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1650029404,"creation_date":1650009897,"question_id":71881546,"body_markdown":"I&#39;m trying to make blackjack where if the ace + other card &gt; 21, the ace&#39;s value is 1 instead of 11. Everything worked until I added that part so I believe it&#39;s looping itself since it&#39;s using the method in itself. What do I do differently?\r\n```\r\npublic class CardValue implements Listener {\r\n\r\n    @SuppressWarnings({&quot;ConstantConditions&quot;, &quot;unused&quot;, &quot;SimplifiableIfStatement&quot;})\r\n\r\n    //HandValue handValue = new HandValue();\r\n    public int getCardValue(final Player player, final int cardPos, final Plugin plugin) {\r\n\r\n        int cardValue = 0;\r\n\r\n            List&lt;String&gt; types = Arrays.asList(&quot;Ace&quot;,&quot;Two&quot;,&quot;Three&quot;,&quot;Four&quot;,&quot;Five&quot;,&quot;Six&quot;,&quot;Seven&quot;,&quot;Eight&quot;,&quot;Nine&quot;,&quot;Ten&quot;,&quot;Jack&quot;,&quot;Queen&quot;,&quot;King&quot;);\r\n            for(String type : types) {\r\n                if(plugin.getConfig().getList(player.getName() + &quot;&#39;s game deck&quot;).get(cardPos).toString().contains(type)) {\r\n                    switch (type) {\r\n                        case &quot;Ace&quot;:\r\n                            cardValue = 11;\r\n                            if(getCardValue(player,1,plugin) + getCardValue(player,3,plugin) &gt; 21) {\r\n                                cardValue = 1;\r\n                            }\r\n                            break;\r\n                        case &quot;Two&quot;:\r\n                            cardValue = 2;\r\n                            break;\r\n                        case &quot;Three&quot;:\r\n                            cardValue = 3;\r\n                            break;\r\n                        case &quot;Four&quot;:\r\n                            cardValue = 4;\r\n                            break;\r\n                        case &quot;Five&quot;:\r\n                            cardValue = 5;\r\n                            break;\r\n                        case &quot;Six&quot;:\r\n                            cardValue = 6;\r\n                            break;\r\n                        case &quot;Seven&quot;:\r\n                            cardValue = 7;\r\n                            break;\r\n                        case &quot;Eight&quot;:\r\n                            cardValue = 8;\r\n                            break;\r\n                        case &quot;Nine&quot;:\r\n                            cardValue = 9;\r\n                            break;\r\n                        case &quot;Ten&quot;: case &quot;Jack&quot;: case &quot;Queen&quot;: case &quot;King&quot;:\r\n                            cardValue = 10;\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            return cardValue;\r\n        }\r\n    }","title":"How to call a method inside the same method only once","body":"<p>I'm trying to make blackjack where if the ace + other card &gt; 21, the ace's value is 1 instead of 11. Everything worked until I added that part so I believe it's looping itself since it's using the method in itself. What do I do differently?</p>\n<pre><code>public class CardValue implements Listener {\n\n    @SuppressWarnings({&quot;ConstantConditions&quot;, &quot;unused&quot;, &quot;SimplifiableIfStatement&quot;})\n\n    //HandValue handValue = new HandValue();\n    public int getCardValue(final Player player, final int cardPos, final Plugin plugin) {\n\n        int cardValue = 0;\n\n            List&lt;String&gt; types = Arrays.asList(&quot;Ace&quot;,&quot;Two&quot;,&quot;Three&quot;,&quot;Four&quot;,&quot;Five&quot;,&quot;Six&quot;,&quot;Seven&quot;,&quot;Eight&quot;,&quot;Nine&quot;,&quot;Ten&quot;,&quot;Jack&quot;,&quot;Queen&quot;,&quot;King&quot;);\n            for(String type : types) {\n                if(plugin.getConfig().getList(player.getName() + &quot;'s game deck&quot;).get(cardPos).toString().contains(type)) {\n                    switch (type) {\n                        case &quot;Ace&quot;:\n                            cardValue = 11;\n                            if(getCardValue(player,1,plugin) + getCardValue(player,3,plugin) &gt; 21) {\n                                cardValue = 1;\n                            }\n                            break;\n                        case &quot;Two&quot;:\n                            cardValue = 2;\n                            break;\n                        case &quot;Three&quot;:\n                            cardValue = 3;\n                            break;\n                        case &quot;Four&quot;:\n                            cardValue = 4;\n                            break;\n                        case &quot;Five&quot;:\n                            cardValue = 5;\n                            break;\n                        case &quot;Six&quot;:\n                            cardValue = 6;\n                            break;\n                        case &quot;Seven&quot;:\n                            cardValue = 7;\n                            break;\n                        case &quot;Eight&quot;:\n                            cardValue = 8;\n                            break;\n                        case &quot;Nine&quot;:\n                            cardValue = 9;\n                            break;\n                        case &quot;Ten&quot;: case &quot;Jack&quot;: case &quot;Queen&quot;: case &quot;King&quot;:\n                            cardValue = 10;\n                            break;\n                    }\n                }\n            }\n            return cardValue;\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1650024036,"post_id":71883762,"comment_id":127025003,"body_markdown":"A primitive class field always has a value. If it is not explicitly initialized, it is implicitly initialized with `0`.","body":"A primitive class field always has a value. If it is not explicitly initialized, it is implicitly initialized with <code>0</code>."}],"answers":[{"tags":[],"owner":{"account_id":16354422,"reputation":295,"user_id":11811981,"display_name":"Mircea Matei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650024227,"creation_date":1650024227,"answer_id":71883812,"question_id":71883762,"body_markdown":"Java is a strongly typed programming language because every variable must be declared with a data type. A variable cannot start off life without knowing the range of values it can hold, and once it is declared, the data type of the variable cannot change. From [here][1]\r\n\r\nThis does not apply to javascript, that is why it can have the thruthy/falsey checks. In OOP languages you usually make null checks for objects (or look up NullObjectPattern) or in your case a default value check. Check if amount is the default double value.\r\n\r\n  [1]: https://www.thoughtco.com/strongly-typed-2034295#:~:text=Java%20is%20a%20strongly%20typed,of%20the%20variable%20cannot%20change.","title":"How to check if a variable holds any value in if condition?","body":"<p>Java is a strongly typed programming language because every variable must be declared with a data type. A variable cannot start off life without knowing the range of values it can hold, and once it is declared, the data type of the variable cannot change. From <a href=\"https://www.thoughtco.com/strongly-typed-2034295#:%7E:text=Java%20is%20a%20strongly%20typed,of%20the%20variable%20cannot%20change.\" rel=\"nofollow noreferrer\">here</a></p>\n<p>This does not apply to javascript, that is why it can have the thruthy/falsey checks. In OOP languages you usually make null checks for objects (or look up NullObjectPattern) or in your case a default value check. Check if amount is the default double value.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650028330,"creation_date":1650027806,"answer_id":71884382,"question_id":71883762,"body_markdown":"\r\nJava does not have `undefined` and `null` as Javascript has. Java has only `null` value.\r\n\r\nIn Java primitive variables like `double` when used as fields in some class, they are initialized to their default value (double uses the default `0.0`) if you don&#39;t provide any initial value. \r\n\r\nBut if you use the relative wrapped object like `Double` as class field it will not be initialized in default value (`0.0`) but `null`.\r\n\r\nSo you can use the wrapped object `Double` and check if it is `null`, since this will happen when no value is assigned to that field.\r\n\r\n       class Shop {\r\n        private Double amount;\r\n        private int discount;\r\n        \r\n        public int getDiscount(){\r\n            if(amount == null){ \r\n               this.discount=10;\r\n            } ","title":"How to check if a variable holds any value in if condition?","body":"<p>Java does not have <code>undefined</code> and <code>null</code> as Javascript has. Java has only <code>null</code> value.</p>\n<p>In Java primitive variables like <code>double</code> when used as fields in some class, they are initialized to their default value (double uses the default <code>0.0</code>) if you don't provide any initial value.</p>\n<p>But if you use the relative wrapped object like <code>Double</code> as class field it will not be initialized in default value (<code>0.0</code>) but <code>null</code>.</p>\n<p>So you can use the wrapped object <code>Double</code> and check if it is <code>null</code>, since this will happen when no value is assigned to that field.</p>\n<pre><code>   class Shop {\n    private Double amount;\n    private int discount;\n    \n    public int getDiscount(){\n        if(amount == null){ \n           this.discount=10;\n        } \n</code></pre>\n"}],"owner":{"account_id":15141010,"reputation":11,"user_id":10926009,"display_name":"Anurag Sundriyal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1650028964,"creation_date":1650023959,"question_id":71883762,"body_markdown":"I was working on a problem, and I wanted to know how we can check if a variable holds any value inside the if condition in Java. Like in JavaScript, if we simply do like\r\n \r\nJavascript code\r\n\r\n```javacript\r\nlet amount;\r\nlet discount;\r\nif(amount){\r\n    discount=10;\r\n}\r\n```\r\n\r\nI can simply check here if amount holds a value or not in JavaScript.  \r\n\r\nThis is the code I need help in:\r\n  \r\ncase:  if I want to check if a variable holds a value in it?\r\n\r\n```java\r\nclass Shop {\r\n    private double amount;\r\n    private int discount;\r\n\r\n    public int getDiscount(){\r\n        if(amount){  // err: cannot convert double to bool\r\n           this.discount=10;\r\n        }\r\n        else{\r\n          this.discount=0;\r\n        }\r\n        return this.discount;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n       Shop s1= new Shop s2;\r\n       System.out.println(&quot;Discount=&quot;+ s1.getDiscount());\r\n    }\r\n```\r\n\r\n","title":"How to check if a variable holds any value in if condition?","body":"<p>I was working on a problem, and I wanted to know how we can check if a variable holds any value inside the if condition in Java. Like in JavaScript, if we simply do like</p>\n<p>Javascript code</p>\n<pre><code>let amount;\nlet discount;\nif(amount){\n    discount=10;\n}\n</code></pre>\n<p>I can simply check here if amount holds a value or not in JavaScript.</p>\n<p>This is the code I need help in:</p>\n<p>case:  if I want to check if a variable holds a value in it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Shop {\n    private double amount;\n    private int discount;\n\n    public int getDiscount(){\n        if(amount){  // err: cannot convert double to bool\n           this.discount=10;\n        }\n        else{\n          this.discount=0;\n        }\n        return this.discount;\n    }\n\n    public static void main(String[] args) {\n       Shop s1= new Shop s2;\n       System.out.println(&quot;Discount=&quot;+ s1.getDiscount());\n    }\n</code></pre>\n"},{"tags":["java","kubernetes","apache-kafka","apache-flink"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1649458199,"post_id":71798835,"comment_id":126889187,"body_markdown":"1) If the Flink code is running in k8s pods, you cannot use localhost, and tunneling is irrelevant 2) If you are running Flink on your host, make sure the Kafka pod is actually advertising `localhost:9094` as a valid address. You can use `kafka-console-consumer` to test with, too","body":"1) If the Flink code is running in k8s pods, you cannot use localhost, and tunneling is irrelevant 2) If you are running Flink on your host, make sure the Kafka pod is actually advertising <code>localhost:9094</code> as a valid address. You can use <code>kafka-console-consumer</code> to test with, too"},{"owner":{"account_id":4276926,"reputation":453,"user_id":3497321,"display_name":"user3497321"},"score":1,"creation_date":1649462258,"post_id":71798835,"comment_id":126889796,"body_markdown":"I&#39;m running Flink code in my local. I&#39;ve tested kafka consume using command ```./bin/kafka-console-consumer.sh --bootstrap-server localhost:9094 --topic input-topic --from-beginning``` and I&#39;m able to see the messages.","body":"I&#39;m running Flink code in my local. I&#39;ve tested kafka consume using command <code>.&#47;bin&#47;kafka-console-consumer.sh --bootstrap-server localhost:9094 --topic input-topic --from-beginning</code> and I&#39;m able to see the messages."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1649507813,"post_id":71798835,"comment_id":126896147,"body_markdown":"What is port 8081 for then? You&#39;ve opened the Flink operator to &quot;submit code&quot; to k8s. Therefore it&#39;s running in the cluster, not on your host directly, and therefore localhost isn&#39;t referring to the Kafka broker or able to use the &quot;tunnel&quot;. What other kafka addresses have you tried?","body":"What is port 8081 for then? You&#39;ve opened the Flink operator to &quot;submit code&quot; to k8s. Therefore it&#39;s running in the cluster, not on your host directly, and therefore localhost isn&#39;t referring to the Kafka broker or able to use the &quot;tunnel&quot;. What other kafka addresses have you tried?"},{"owner":{"account_id":4276926,"reputation":453,"user_id":3497321,"display_name":"user3497321"},"score":0,"creation_date":1649516538,"post_id":71798835,"comment_id":126897956,"body_markdown":"@OneCricketeer - port 8081 is for submitting flink jobs. Yes, I&#39;m submitting code to k8s. When I grep for advertised listeners, I got this info ```advertised.listeners=CONTROLPLANE-9090://my-cluster-kafka-0.my-cluster-kafka-brokers.new-kafka-operator.svc:9090,REPLICATION-9091://my-cluster-kafka-0.my-cluster-kafka-brokers.new-kafka-operator.svc:9091,PLAIN-9092://my-cluster-kafka-0.my-cluster-kafka-brokers.new-kafka-operator.svc:9092,TLS-9093://my-cluster-kafka-0.my-cluster-kafka-brokers.new-kafka-operator.svc:9093,EXTERNAL-9094://127.0.0.1:9094```. I&#39;ve tried the kafka-operator.svc as well.","body":"@OneCricketeer - port 8081 is for submitting flink jobs. Yes, I&#39;m submitting code to k8s. When I grep for advertised listeners, I got this info <code>advertised.listeners=CONTROLPLANE-9090:&#47;&#47;my-cluster-kafka-0.&zwnj;&#8203;my-cluster-kafka-bro&zwnj;&#8203;kers.new-kafka-opera&zwnj;&#8203;tor.svc:9090,REPLICA&zwnj;&#8203;TION-9091:&#47;&#47;my-clust&zwnj;&#8203;er-kafka-0.my-cluste&zwnj;&#8203;r-kafka-brokers.new-&zwnj;&#8203;kafka-operator.svc:9&zwnj;&#8203;091,PLAIN-9092:&#47;&#47;my-&zwnj;&#8203;cluster-kafka-0.my-c&zwnj;&#8203;luster-kafka-brokers&zwnj;&#8203;.new-kafka-operator.&zwnj;&#8203;svc:9092,TLS-9093:&#47;&#47;&zwnj;&#8203;my-cluster-kafka-0.m&zwnj;&#8203;y-cluster-kafka-brok&zwnj;&#8203;ers.new-kafka-operat&zwnj;&#8203;or.svc:9093,EXTERNAL&zwnj;&#8203;-9094:&#47;&#47;127.0.0.1:90&zwnj;&#8203;94</code>. I&#39;ve tried the kafka-operator.svc as well."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1649694371,"post_id":71798835,"comment_id":126935725,"body_markdown":"That is for one particular pod, not any specific service that has gotten installed, but, since you have not given any TLS settings, try `.setBootstrapServers(&quot;my-cluster-kafka-0.my-cluster-kafka-brokers.new-kafka-operator.svc:9092&quot;)`","body":"That is for one particular pod, not any specific service that has gotten installed, but, since you have not given any TLS settings, try <code>.setBootstrapServers(&quot;my-cluster-kafka-0.my-cluster-kafka-br&zwnj;&#8203;okers.new-kafka-oper&zwnj;&#8203;ator.svc:9092&quot;)</code>"},{"owner":{"account_id":4276926,"reputation":453,"user_id":3497321,"display_name":"user3497321"},"score":0,"creation_date":1650012528,"post_id":71798835,"comment_id":127021974,"body_markdown":"@OneCricketeer - I tried this, but it didn&#39;t work. It is resulting in same exception.","body":"@OneCricketeer - I tried this, but it didn&#39;t work. It is resulting in same exception."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1650028033,"post_id":71798835,"comment_id":127026227,"body_markdown":"Alright, well, the PLAIN-9092 listener seems to be what you need. You also might need a network policy to access the resources across namespaces (try deploying in the same namespace first). And unclear what Kafka operator you&#39;re using, but a &quot;headless&quot; service address is what you should be attaching to rather than a numbered pod service address. Unless you explicitly need to use minikube, I&#39;d suggest just running Kafka in Docker (Compose), then running Flink directly on your host to have direct access to your cpu and ram without limiting it by pod resource sizes","body":"Alright, well, the PLAIN-9092 listener seems to be what you need. You also might need a network policy to access the resources across namespaces (try deploying in the same namespace first). And unclear what Kafka operator you&#39;re using, but a &quot;headless&quot; service address is what you should be attaching to rather than a numbered pod service address. Unless you explicitly need to use minikube, I&#39;d suggest just running Kafka in Docker (Compose), then running Flink directly on your host to have direct access to your cpu and ram without limiting it by pod resource sizes"},{"owner":{"account_id":4276926,"reputation":453,"user_id":3497321,"display_name":"user3497321"},"score":0,"creation_date":1650032299,"post_id":71798835,"comment_id":127027561,"body_markdown":"@OneCricketeer - I have re-deployed both into the same namespace few days back, still it errors out. I&#39;m using strimzi kafka operator.","body":"@OneCricketeer - I have re-deployed both into the same namespace few days back, still it errors out. I&#39;m using strimzi kafka operator."},{"owner":{"account_id":2463552,"reputation":158,"user_id":2147141,"accept_rate":67,"display_name":"sunny"},"score":0,"creation_date":1683938628,"post_id":71798835,"comment_id":134448294,"body_markdown":"Were you able to find a solution or solve the metadata issue ?","body":"Were you able to find a solution or solve the metadata issue ?"},{"owner":{"account_id":13118576,"reputation":214,"user_id":9476859,"display_name":"Jeet Banerjee"},"score":0,"creation_date":1687879713,"post_id":71798835,"comment_id":134997202,"body_markdown":"I&#39;m getting the same error when trying to use AWS Kinesis data analytics and trying to read from a Kafka topic in MSK. `Failed to get metadata for topics` I am providing the bootstrap servers with the TLS endpoint (port 9094)","body":"I&#39;m getting the same error when trying to use AWS Kinesis data analytics and trying to read from a Kafka topic in MSK. <code>Failed to get metadata for topics</code> I am providing the bootstrap servers with the TLS endpoint (port 9094)"},{"owner":{"account_id":13118576,"reputation":214,"user_id":9476859,"display_name":"Jeet Banerjee"},"score":0,"creation_date":1687884054,"post_id":71798835,"comment_id":134998251,"body_markdown":"Update - I was missing the VPC configuration, after adding it worked.","body":"Update - I was missing the VPC configuration, after adding it worked."}],"owner":{"account_id":4276926,"reputation":453,"user_id":3497321,"display_name":"user3497321"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2760,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650028135,"creation_date":1649428396,"question_id":71798835,"body_markdown":"I have setup flink operator and kafka on minikube (both are on different namespaces). I am trying to consume messages from a kafka topic in flink and do some transformations. I am able to publish messages to the topic with sample java code, with below properties:\r\n```\r\nProperties props = new Properties();\r\nprops.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9094&quot;);\r\nprops.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\nprops.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class.getName());\r\nprops.put(ProducerConfig.ACKS_CONFIG, &quot;1&quot;);\r\n```\r\nI&#39;m using ```localhost:9094``` because I did ```minikube tunnel``` and this is working. For flink I&#39;m doing port forwarding, so that I can execute the code with ```localhost:8081``` and I&#39;m able to execute example WordCount jobs. In flink, I&#39;m trying to consume messages like this:\r\n\r\n```\r\nKafkaSource&lt;String&gt; source = KafkaSource.&lt;String&gt;builder()\r\n        .setBootstrapServers(&quot;localhost:9094&quot;)\r\n        .setTopics(&quot;input_topic&quot;)\r\n        .setGroupId(&quot;test_group&quot;)\r\n        .setStartingOffsets(OffsetsInitializer.earliest())\r\n        .setValueOnlyDeserializer(new SimpleStringSchema())\r\n        .build();\r\n\r\nDataStream&lt;String&gt; stream = env.fromSource(source, WatermarkStrategy.noWatermarks(), &quot;Source&quot;);\r\n```\r\nHowever, I&#39;m not able to execute this code, as the flink job is throwing exceptions:\r\n```\r\norg.apache.flink.util.FlinkException: Global failure triggered by OperatorCoordinator for &#39;Source: Entity Source -&gt; Sink: Print to Std. Out&#39; (operator cbc357ccb763df2852fee8c4fc7d55f2).\r\n\tat org.apache.flink.runtime.operators.coordination.OperatorCoordinatorHolder$LazyInitializedCoordinatorContext.failJob(OperatorCoordinatorHolder.java:545)\r\n\tat org.apache.flink.runtime.operators.coordination.RecreateOnResetOperatorCoordinator$QuiesceableContext.failJob(RecreateOnResetOperatorCoordinator.java:231)\r\n\tat org.apache.flink.runtime.source.coordinator.SourceCoordinatorContext.failJob(SourceCoordinatorContext.java:287)\r\n\tat org.apache.flink.runtime.source.coordinator.SourceCoordinatorContext.handleUncaughtExceptionFromAsyncCall(SourceCoordinatorContext.java:300)\r\n\tat org.apache.flink.util.ThrowableCatchingRunnable.run(ThrowableCatchingRunnable.java:42)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: org.apache.flink.util.FlinkRuntimeException: Failed to list subscribed topic partitions due to \r\n\tat org.apache.flink.connector.kafka.source.enumerator.KafkaSourceEnumerator.checkPartitionChanges(KafkaSourceEnumerator.java:237)\r\n\tat org.apache.flink.runtime.source.coordinator.ExecutorNotifier.lambda$null$1(ExecutorNotifier.java:83)\r\n\tat org.apache.flink.util.ThrowableCatchingRunnable.run(ThrowableCatchingRunnable.java:40)\r\n\t... 7 more\r\nCaused by: java.lang.RuntimeException: Failed to get metadata for topics [input_topic].\r\n\tat org.apache.flink.connector.kafka.source.enumerator.subscriber.KafkaSubscriberUtils.getTopicMetadata(KafkaSubscriberUtils.java:47)\r\n\tat org.apache.flink.connector.kafka.source.enumerator.subscriber.TopicListSubscriber.getSubscribedTopicPartitions(TopicListSubscriber.java:52)\r\n\tat org.apache.flink.connector.kafka.source.enumerator.KafkaSourceEnumerator.getSubscribedTopicPartitions(KafkaSourceEnumerator.java:222)\r\n\tat org.apache.flink.runtime.source.coordinator.ExecutorNotifier.lambda$notifyReadyAsync$2(ExecutorNotifier.java:80)\r\n\t... 7 more\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: describeTopics\r\n\tat java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)\r\n\tat java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)\r\n\tat org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\r\n\tat org.apache.flink.connector.kafka.source.enumerator.subscriber.KafkaSubscriberUtils.getTopicMetadata(KafkaSubscriberUtils.java:44)\r\n\t... 10 more\r\nCaused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: describeTopics\r\n```\r\n","title":"Flink - Failed to get metadata for topics exception while consuming from kafka topic","body":"<p>I have setup flink operator and kafka on minikube (both are on different namespaces). I am trying to consume messages from a kafka topic in flink and do some transformations. I am able to publish messages to the topic with sample java code, with below properties:</p>\n<pre><code>Properties props = new Properties();\nprops.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9094&quot;);\nprops.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\nprops.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class.getName());\nprops.put(ProducerConfig.ACKS_CONFIG, &quot;1&quot;);\n</code></pre>\n<p>I'm using <code>localhost:9094</code> because I did <code>minikube tunnel</code> and this is working. For flink I'm doing port forwarding, so that I can execute the code with <code>localhost:8081</code> and I'm able to execute example WordCount jobs. In flink, I'm trying to consume messages like this:</p>\n<pre><code>KafkaSource&lt;String&gt; source = KafkaSource.&lt;String&gt;builder()\n        .setBootstrapServers(&quot;localhost:9094&quot;)\n        .setTopics(&quot;input_topic&quot;)\n        .setGroupId(&quot;test_group&quot;)\n        .setStartingOffsets(OffsetsInitializer.earliest())\n        .setValueOnlyDeserializer(new SimpleStringSchema())\n        .build();\n\nDataStream&lt;String&gt; stream = env.fromSource(source, WatermarkStrategy.noWatermarks(), &quot;Source&quot;);\n</code></pre>\n<p>However, I'm not able to execute this code, as the flink job is throwing exceptions:</p>\n<pre><code>org.apache.flink.util.FlinkException: Global failure triggered by OperatorCoordinator for 'Source: Entity Source -&gt; Sink: Print to Std. Out' (operator cbc357ccb763df2852fee8c4fc7d55f2).\n    at org.apache.flink.runtime.operators.coordination.OperatorCoordinatorHolder$LazyInitializedCoordinatorContext.failJob(OperatorCoordinatorHolder.java:545)\n    at org.apache.flink.runtime.operators.coordination.RecreateOnResetOperatorCoordinator$QuiesceableContext.failJob(RecreateOnResetOperatorCoordinator.java:231)\n    at org.apache.flink.runtime.source.coordinator.SourceCoordinatorContext.failJob(SourceCoordinatorContext.java:287)\n    at org.apache.flink.runtime.source.coordinator.SourceCoordinatorContext.handleUncaughtExceptionFromAsyncCall(SourceCoordinatorContext.java:300)\n    at org.apache.flink.util.ThrowableCatchingRunnable.run(ThrowableCatchingRunnable.java:42)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: org.apache.flink.util.FlinkRuntimeException: Failed to list subscribed topic partitions due to \n    at org.apache.flink.connector.kafka.source.enumerator.KafkaSourceEnumerator.checkPartitionChanges(KafkaSourceEnumerator.java:237)\n    at org.apache.flink.runtime.source.coordinator.ExecutorNotifier.lambda$null$1(ExecutorNotifier.java:83)\n    at org.apache.flink.util.ThrowableCatchingRunnable.run(ThrowableCatchingRunnable.java:40)\n    ... 7 more\nCaused by: java.lang.RuntimeException: Failed to get metadata for topics [input_topic].\n    at org.apache.flink.connector.kafka.source.enumerator.subscriber.KafkaSubscriberUtils.getTopicMetadata(KafkaSubscriberUtils.java:47)\n    at org.apache.flink.connector.kafka.source.enumerator.subscriber.TopicListSubscriber.getSubscribedTopicPartitions(TopicListSubscriber.java:52)\n    at org.apache.flink.connector.kafka.source.enumerator.KafkaSourceEnumerator.getSubscribedTopicPartitions(KafkaSourceEnumerator.java:222)\n    at org.apache.flink.runtime.source.coordinator.ExecutorNotifier.lambda$notifyReadyAsync$2(ExecutorNotifier.java:80)\n    ... 7 more\nCaused by: java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: describeTopics\n    at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)\n    at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1908)\n    at org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:165)\n    at org.apache.flink.connector.kafka.source.enumerator.subscriber.KafkaSubscriberUtils.getTopicMetadata(KafkaSubscriberUtils.java:44)\n    ... 10 more\nCaused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: describeTopics\n</code></pre>\n"},{"tags":["java","pandas","docker","pyspark","dockerfile"],"answers":[{"tags":[],"owner":{"account_id":995080,"reputation":10630,"user_id":1011253,"accept_rate":76,"display_name":"ItayB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650028115,"creation_date":1650028115,"answer_id":71884441,"question_id":71884072,"body_markdown":"`pyspark` (aka Spark) requires java, which doesn&#39;t seems to be installed in your image.\r\n\r\nYou can try something like:\r\n```\r\nFROM amancevice/pandas\r\n\r\nRUN apt-get update \\\r\n  &amp;&amp; apt-get install -y --no-install-recommends \\\r\n         openjdk-11-jre-headless \\\r\n  &amp;&amp; apt-get autoremove -yqq --purge \\\r\n  &amp;&amp; apt-get clean \\\r\n  &amp;&amp; rm -rf /var/lib/apt/lists/*\r\nENV JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\n\r\nRUN pip install -r requirements.txt\r\nRUN mkdir /app\r\nADD . /app\r\nWORKDIR /app\r\nEXPOSE 5000\r\nCMD [&quot;python&quot;, &quot;app.py&quot;]\r\n```\r\n\r\nNote that I also moved your `requrements.txt` installation before adding your code. This will save your time by using docker cache.\r\n","title":"Is it possible to use a docker image that has both pyspark and pandas installed?","body":"<p><code>pyspark</code> (aka Spark) requires java, which doesn't seems to be installed in your image.</p>\n<p>You can try something like:</p>\n<pre><code>FROM amancevice/pandas\n\nRUN apt-get update \\\n  &amp;&amp; apt-get install -y --no-install-recommends \\\n         openjdk-11-jre-headless \\\n  &amp;&amp; apt-get autoremove -yqq --purge \\\n  &amp;&amp; apt-get clean \\\n  &amp;&amp; rm -rf /var/lib/apt/lists/*\nENV JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\n\nRUN pip install -r requirements.txt\nRUN mkdir /app\nADD . /app\nWORKDIR /app\nEXPOSE 5000\nCMD [&quot;python&quot;, &quot;app.py&quot;]\n</code></pre>\n<p>Note that I also moved your <code>requrements.txt</code> installation before adding your code. This will save your time by using docker cache.</p>\n"}],"owner":{"display_name":"user18715965"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1274,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":71884441,"answer_count":1,"score":2,"last_activity_date":1650028115,"creation_date":1650025930,"question_id":71884072,"body_markdown":"My flask application uses pandas and pyspark.\r\n\r\nI created a Dockerfile where it uses a docker Pandas image:\r\n```\r\nFROM amancevice/pandas\r\nRUN mkdir /app\r\nADD . /app\r\nWORKDIR /app\r\nEXPOSE 5000\r\nRUN pip install -r requirements.txt\r\nCMD [&quot;python&quot;, &quot;app.py&quot;]\r\n```\r\n\r\nIn requirements.txt I have:\r\n```\r\nflask\r\npymysql\r\nsqlalchemy\r\npasslib\r\nhdfs\r\nWerkzeug\r\npandas\r\npyspark\r\n```\r\nWhere I&#180;m using pyspark is in this function (it was just an example for verifying if it works):\r\n```\r\nfrom pyspark.sql import SparkSession\r\n\r\n@app.route(&#39;/home/search&#39;, methods=[&quot;GET&quot;, &quot;POST&quot;])\r\ndef search_tab():\r\n    if &#39;loggedin&#39; in session:\r\n        user_id = &#39;user&#39; + str(session[&#39;id&#39;])\r\n\r\n        if request.method == &#39;POST&#39;:\r\n            checkboxData = request.form.getlist(&quot;checkboxData&quot;)\r\n\r\n            for cd in checkboxData:\r\n                if cd.endswith(&quot;.csv&quot;):\r\n                    data_hdfs(user_id, cd)\r\n                else:\r\n                    print(&quot;xml&quot;)\r\n\r\n            return render_template(&quot;search.html&quot;, id=session[&#39;id&#39;])\r\n    return render_template(&#39;login.html&#39;)\r\n\r\n\r\ndef data_hdfs(user_id, cd):\r\n    #spark session\r\n    warehouse_location =&#39;hdfs://hdfs-nn:9000/flask_platform&#39;\r\n\r\n    spark = SparkSession \\\r\n        .builder \\\r\n        .master(&quot;local[2]&quot;) \\\r\n        .appName(&quot;read csv&quot;) \\\r\n        .config(&quot;spark.sql.warehouse.dir&quot;, warehouse_location) \\\r\n        .getOrCreate()\r\n\r\n    raw_data = spark.read.options(header=&#39;True&#39;, delimiter=&#39;;&#39;).csv(&quot;hdfs://hdfs-nn:9000&quot;+cd)\r\n\r\n    raw_data.repartition(1).write.format(&#39;csv&#39;).option(&#39;header&#39;,True).mode(&#39;overwrite&#39;).option(&#39;sep&#39;,&#39;;&#39;).save(&quot;hdfs://hdfs-nn:9000/flask_platform/&quot;+user_id+&quot;/staging_area/mapped_files/mapped_file_4.csv&quot;)\r\n\r\n    return spark.stop()\r\n```\r\n\r\n\r\nBut when I try to use code in pyspark, I got this error:\r\n```\r\nJAVA_HOME is not set\r\n172.20.0.1 - - [15/Apr/2022 11:58:16] &quot;POST /home/search HTTP/1.1&quot; 500 -\r\nTraceback (most recent call last):\r\n   File &quot;/usr/local/lib/python3.9/site-packages/flask/app.py&quot;, line 2095, in __call__\r\n     return self.wsgi_app(environ, start_response)\r\n   File &quot;/usr/local/lib/python3.9/site-packages/flask/app.py&quot;, line 2080, in wsgi_app\r\n     response = self.handle_exception(e)\r\n   File &quot;/usr/local/lib/python3.9/site-packages/flask/app.py&quot;, line 2077, in wsgi_app\r\n     response = self.full_dispatch_request()\r\n   File &quot;/usr/local/lib/python3.9/site-packages/flask/app.py&quot;, line 1525, in full_dis\r\n     rv = self.handle_user_exception(e)\r\n   File &quot;/usr/local/lib/python3.9/site-packages/flask/app.py&quot;, line 1523, in full_dis\r\n     rv = self.dispatch_request()\r\n   File &quot;/usr/local/lib/python3.9/site-packages/flask/app.py&quot;, line 1509, in dispatch\r\n     return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)\r\n   File &quot;/app/app.py&quot;, line 243, in search_tab\r\n     data_hdfs(user_id, cd)\r\n   File &quot;/app/app.py&quot;, line 255, in data_hdfs\r\n     spark = SparkSession \\\r\n   File &quot;/usr/local/lib/python3.9/site-packages/pyspark/sql/session.py&quot;, line 228, in\r\n     sc = SparkContext.getOrCreate(sparkConf)\r\n   File &quot;/usr/local/lib/python3.9/site-packages/pyspark/context.py&quot;, line 392, in get\r\n     SparkContext(conf=conf or SparkConf())\r\n   File &quot;/usr/local/lib/python3.9/site-packages/pyspark/context.py&quot;, line 144, in __i\r\n     SparkContext._ensure_initialized(self, gateway=gateway, conf=conf)\r\n   File &quot;/usr/local/lib/python3.9/site-packages/pyspark/context.py&quot;, line 339, in _en\r\n     SparkContext._gateway = gateway or launch_gateway(conf)\r\n   File &quot;/usr/local/lib/python3.9/site-packages/pyspark/java_gateway.py&quot;, line 108, i\r\n     raise RuntimeError(&quot;Java gateway process exited before sending its port number&quot;)\r\nRuntimeError: Java gateway process exited before sending its port number\r\n```\r\n\r\n\r\nIs it possible to use a docker image that has both pyspark and pandas installed? If so, where can I find it?\r\nBecause I need to use both in my project.\r\nThanks ","title":"Is it possible to use a docker image that has both pyspark and pandas installed?","body":"<p>My flask application uses pandas and pyspark.</p>\n<p>I created a Dockerfile where it uses a docker Pandas image:</p>\n<pre><code>FROM amancevice/pandas\nRUN mkdir /app\nADD . /app\nWORKDIR /app\nEXPOSE 5000\nRUN pip install -r requirements.txt\nCMD [&quot;python&quot;, &quot;app.py&quot;]\n</code></pre>\n<p>In requirements.txt I have:</p>\n<pre><code>flask\npymysql\nsqlalchemy\npasslib\nhdfs\nWerkzeug\npandas\npyspark\n</code></pre>\n<p>Where I´m using pyspark is in this function (it was just an example for verifying if it works):</p>\n<pre><code>from pyspark.sql import SparkSession\n\n@app.route('/home/search', methods=[&quot;GET&quot;, &quot;POST&quot;])\ndef search_tab():\n    if 'loggedin' in session:\n        user_id = 'user' + str(session['id'])\n\n        if request.method == 'POST':\n            checkboxData = request.form.getlist(&quot;checkboxData&quot;)\n\n            for cd in checkboxData:\n                if cd.endswith(&quot;.csv&quot;):\n                    data_hdfs(user_id, cd)\n                else:\n                    print(&quot;xml&quot;)\n\n            return render_template(&quot;search.html&quot;, id=session['id'])\n    return render_template('login.html')\n\n\ndef data_hdfs(user_id, cd):\n    #spark session\n    warehouse_location ='hdfs://hdfs-nn:9000/flask_platform'\n\n    spark = SparkSession \\\n        .builder \\\n        .master(&quot;local[2]&quot;) \\\n        .appName(&quot;read csv&quot;) \\\n        .config(&quot;spark.sql.warehouse.dir&quot;, warehouse_location) \\\n        .getOrCreate()\n\n    raw_data = spark.read.options(header='True', delimiter=';').csv(&quot;hdfs://hdfs-nn:9000&quot;+cd)\n\n    raw_data.repartition(1).write.format('csv').option('header',True).mode('overwrite').option('sep',';').save(&quot;hdfs://hdfs-nn:9000/flask_platform/&quot;+user_id+&quot;/staging_area/mapped_files/mapped_file_4.csv&quot;)\n\n    return spark.stop()\n</code></pre>\n<p>But when I try to use code in pyspark, I got this error:</p>\n<pre><code>JAVA_HOME is not set\n172.20.0.1 - - [15/Apr/2022 11:58:16] &quot;POST /home/search HTTP/1.1&quot; 500 -\nTraceback (most recent call last):\n   File &quot;/usr/local/lib/python3.9/site-packages/flask/app.py&quot;, line 2095, in __call__\n     return self.wsgi_app(environ, start_response)\n   File &quot;/usr/local/lib/python3.9/site-packages/flask/app.py&quot;, line 2080, in wsgi_app\n     response = self.handle_exception(e)\n   File &quot;/usr/local/lib/python3.9/site-packages/flask/app.py&quot;, line 2077, in wsgi_app\n     response = self.full_dispatch_request()\n   File &quot;/usr/local/lib/python3.9/site-packages/flask/app.py&quot;, line 1525, in full_dis\n     rv = self.handle_user_exception(e)\n   File &quot;/usr/local/lib/python3.9/site-packages/flask/app.py&quot;, line 1523, in full_dis\n     rv = self.dispatch_request()\n   File &quot;/usr/local/lib/python3.9/site-packages/flask/app.py&quot;, line 1509, in dispatch\n     return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)\n   File &quot;/app/app.py&quot;, line 243, in search_tab\n     data_hdfs(user_id, cd)\n   File &quot;/app/app.py&quot;, line 255, in data_hdfs\n     spark = SparkSession \\\n   File &quot;/usr/local/lib/python3.9/site-packages/pyspark/sql/session.py&quot;, line 228, in\n     sc = SparkContext.getOrCreate(sparkConf)\n   File &quot;/usr/local/lib/python3.9/site-packages/pyspark/context.py&quot;, line 392, in get\n     SparkContext(conf=conf or SparkConf())\n   File &quot;/usr/local/lib/python3.9/site-packages/pyspark/context.py&quot;, line 144, in __i\n     SparkContext._ensure_initialized(self, gateway=gateway, conf=conf)\n   File &quot;/usr/local/lib/python3.9/site-packages/pyspark/context.py&quot;, line 339, in _en\n     SparkContext._gateway = gateway or launch_gateway(conf)\n   File &quot;/usr/local/lib/python3.9/site-packages/pyspark/java_gateway.py&quot;, line 108, i\n     raise RuntimeError(&quot;Java gateway process exited before sending its port number&quot;)\nRuntimeError: Java gateway process exited before sending its port number\n</code></pre>\n<p>Is it possible to use a docker image that has both pyspark and pandas installed? If so, where can I find it?\nBecause I need to use both in my project.\nThanks</p>\n"},{"tags":["java","treemap"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1649951395,"post_id":71874093,"comment_id":127009311,"body_markdown":"TreeMap inherently sorts its contents according to some specified sorting order. Given your keys are themselves also TreeMaps and TreeMaps have no intrinsically defined sorting order, you get this error. I think you&#39;re confused and not interested in TreeMap at all. If you want to maintain the same order as how you read it (same as the input file), you want `LinkedHashMap` instead. Most of all, you want to make a new class with fields `String country; List&lt;String&gt; exports; long value;`, and use that instead. Java is nominal. Use java the way it wants to be used.","body":"TreeMap inherently sorts its contents according to some specified sorting order. Given your keys are themselves also TreeMaps and TreeMaps have no intrinsically defined sorting order, you get this error. I think you&#39;re confused and not interested in TreeMap at all. If you want to maintain the same order as how you read it (same as the input file), you want <code>LinkedHashMap</code> instead. Most of all, you want to make a new class with fields <code>String country; List&lt;String&gt; exports; long value;</code>, and use that instead. Java is nominal. Use java the way it wants to be used."},{"owner":{"account_id":24938312,"reputation":11,"user_id":18804578,"display_name":"Bobby Brown"},"score":0,"creation_date":1649958543,"post_id":71874093,"comment_id":127011631,"body_markdown":"@rzwitserloot Perfect, exactly what I was hoping for. Will take a look at LinkedHashMap","body":"@rzwitserloot Perfect, exactly what I was hoping for. Will take a look at LinkedHashMap"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650028056,"creation_date":1649951199,"answer_id":71874333,"question_id":71874093,"body_markdown":"Check [javadoc][1]. To cite - `The map is sorted according to the natural ordering of its keys, or by a Comparator provided at map creation time, depending on which constructor is used.` Natural ordering of keys means key must implement [Comparable][2]. Your keys are of type `TreeMap`, which does not have natural ordering - it does not implement `Comparable`. Naturally this leads to `ClassCastException`.\r\n\r\nIf you really must use TreeMap as key for your TreeMap, you must provide a [Comparator][3] to TreeMap constructor:\r\n```\r\nComparator&lt;TreeMap&lt;String,String&gt;&gt; comparator = implement it;\r\nTreeMap&lt;TreeMap&lt;String,String&gt;,TreeMap&lt;String,String&gt;&gt; exportsData = new TreeMap&lt;&gt;(comparator);\r\n```\r\nSeeing that your data is coming from a csv file, i would suggest to parse it to some custom class. It would be much more readable, and it will be easier to implement `Comparable`, or `Comparator` if needed.\r\n\r\n**Edit:** You don&#39;t actually need 2 maps - for exports and value, it complicates thing more that needed. Those can be put in a single map. Keys are values from the first line in csv(or other keys, as in your case) and values are corresponding values from the parsed line. So you have:\r\n```\r\nMap&lt;String, String&gt; lineData;\r\n```\r\nCountry may also be part of this map(if you need it). Normally it&#39;s this map, which will be rerpesented by your custom class, but it looks like your task is to work with collections, so i won&#39;t delve into that.\r\n\r\nSince you want to map country names to data, now you need another map - keys will be string(country name) and values the map containing line data from above.\r\n\r\nAll of that can be stored in a list(you can store anything in a list). I&#39;m leaving to you figuring out the exact way to implement it.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html","title":"java.lang.ClassCastException: class java.util.TreeMap cannot be cast to class java.lang.Comparable","body":"<p>Check <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">javadoc</a>. To cite - <code>The map is sorted according to the natural ordering of its keys, or by a Comparator provided at map creation time, depending on which constructor is used.</code> Natural ordering of keys means key must implement <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a>. Your keys are of type <code>TreeMap</code>, which does not have natural ordering - it does not implement <code>Comparable</code>. Naturally this leads to <code>ClassCastException</code>.</p>\n<p>If you really must use TreeMap as key for your TreeMap, you must provide a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a> to TreeMap constructor:</p>\n<pre><code>Comparator&lt;TreeMap&lt;String,String&gt;&gt; comparator = implement it;\nTreeMap&lt;TreeMap&lt;String,String&gt;,TreeMap&lt;String,String&gt;&gt; exportsData = new TreeMap&lt;&gt;(comparator);\n</code></pre>\n<p>Seeing that your data is coming from a csv file, i would suggest to parse it to some custom class. It would be much more readable, and it will be easier to implement <code>Comparable</code>, or <code>Comparator</code> if needed.</p>\n<p><strong>Edit:</strong> You don't actually need 2 maps - for exports and value, it complicates thing more that needed. Those can be put in a single map. Keys are values from the first line in csv(or other keys, as in your case) and values are corresponding values from the parsed line. So you have:</p>\n<pre><code>Map&lt;String, String&gt; lineData;\n</code></pre>\n<p>Country may also be part of this map(if you need it). Normally it's this map, which will be rerpesented by your custom class, but it looks like your task is to work with collections, so i won't delve into that.</p>\n<p>Since you want to map country names to data, now you need another map - keys will be string(country name) and values the map containing line data from above.</p>\n<p>All of that can be stored in a list(you can store anything in a list). I'm leaving to you figuring out the exact way to implement it.</p>\n"}],"owner":{"account_id":24938312,"reputation":11,"user_id":18804578,"display_name":"Bobby Brown"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1600,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650028056,"creation_date":1649950185,"question_id":71874093,"body_markdown":"I receive the following error when attempting to run my java program\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.ClassCastException: class java.util.TreeMap cannot be cast to class java.lang.Comparable (java.util.TreeMap and java.lang.Comparable are in module java.base of loader &#39;bootstrap&#39;)\r\n\tat java.base/java.util.TreeMap.compare(TreeMap.java:1569)\r\n\tat java.base/java.util.TreeMap.addEntryToEmptyMap(TreeMap.java:776)\r\n\tat java.base/java.util.TreeMap.put(TreeMap.java:785)\r\n\tat java.base/java.util.TreeMap.put(TreeMap.java:534)\r\n\tat exportsParser.exportsMap(exportsParser.java:53)\r\n\tat exportsParser.main(exportsParser.java:28)\r\n```\r\n\r\nThe applicable code:\r\n\r\n```java\r\nimport edu.duke.*;\r\nimport java.io.*;\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.util.regex.*;\r\nimport java.util.*;\r\nimport java.util.TreeMap;\r\nimport java.util.Iterator;\r\n\r\npublic class exportsParser{\r\n\r\n\tvoid println(Object obj){\r\n\t\tSystem.out.println(obj);\r\n\t}\r\n\r\n\t/* The rather involved pattern used to match CSV&#39;s consists of three\r\n\t * alternations: the first matches aquoted field, the second unquoted,\r\n\t * the third a null field.\r\n\t */\r\n\tprivate final static Pattern csv_pattern = Pattern.compile(&quot;\\&quot;([^\\&quot;]+?)\\&quot;,?|([^,]+),?|,&quot;);\r\n\r\n\tpublic static void main(String[] argv) throws IOException {\r\n\t\t//println(csv_pattern);\r\n\t\texportsParser parser = new exportsParser();\r\n\t\tBufferedReader reader = new BufferedReader(new FileReader(&quot;./exports_small.csv&quot;));\r\n\t\tparser.exportsMap(reader);\r\n\t}\r\n\tpublic TreeMap&lt;String, TreeMap&lt;TreeMap&lt;String,String&gt; ,TreeMap&lt;String, String&gt;&gt;&gt; exportsMap(BufferedReader reader) throws IOException{\r\n\r\n\t\tif(reader.readLine() == null) return null;\r\n\r\n\t\tTreeMap&lt;String, TreeMap&lt;TreeMap&lt;String,String&gt;, TreeMap&lt;String,String&gt;&gt;&gt; exportsTable = new TreeMap&lt;&gt;();\r\n\t\tTreeMap&lt;String, String&gt; products = new TreeMap&lt;&gt;();\r\n\t\tTreeMap&lt;String, String&gt; value = new TreeMap&lt;&gt;();\r\n\t\tTreeMap&lt;TreeMap&lt;String,String&gt;,TreeMap&lt;String,String&gt;&gt; exportsData = new TreeMap&lt;&gt;();\r\n\r\n\t\tint countryIndex = 0;\r\n\r\n\t\tArrayList&lt;String&gt; exportsList = new ArrayList&lt;String&gt;();\r\n\t\tString line;\r\n\r\n\t\ttry{\r\n\t\t\twhile((line = reader.readLine()) != null){\r\n\t\t\t\texportsList = parse(line);\r\n\r\n\t\t\t\tString countryName = exportsList.get(0);\r\n\t\t\t\tproducts.put(&quot;items&quot;, exportsList.get(1));\r\n\t\t\t\tvalue.put(&quot;total&quot;, exportsList.get(2));\r\n\t\t\t\tprintln(products);\r\n\t\t\t\tprintln(value);\r\n\t\t\t\texportsData.put(products, value);\r\n\t\t\t\tprintln(exportsData);\r\n\r\n    //\t\t\t\texportsTable.put(countryName,exportsData);\r\n\t\t\t\tprintln(exportsTable);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(IOException e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treader.close();\r\n\t\treturn exportsTable;\r\n\t}\r\n\r\n\t/* Parse one line.\r\n\t * @return List of Strings, minus their double quotes\r\n\t */\r\n\tpublic ArrayList&lt;String&gt; parse(String line) {\r\n\t\tArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\t\tMatcher mat = csv_pattern.matcher(line);\r\n\t\t// For each field\r\n\t\twhile (mat.find()) {\r\n\t\t\tString match = mat.group();\r\n\t\t\tif (match == null)\r\n\t\t\t\tbreak;\r\n\t\t\tif (match.endsWith(&quot;,&quot;)) {  // trim trailing ,\r\n\t\t\t\tmatch = match.substring(0, match.length() - 1);\r\n\t\t\t}\r\n\t\t\t/*if (match.startsWith(&quot;\\&quot;&quot;)) { // assume also ends with\r\n\t\t\t  match = match.substring(1, match.length() - 1);\r\n\t\t\t  }*/\r\n\t\t\tif (match.length() == 0)\r\n\t\t\t\tmatch = null;\r\n\t\t\tlist.add(match);\r\n\t\t}\r\n\t\treturn list;\r\n\t}\r\n}\r\n```\r\n\r\nTo clarify, the issue arises when attempting to put the TreeMap data of products and value in exportsData. Same is applicable when attempting to add exportsData to the exportsTable correlating its key (Country) to the exportsData (Value). I understand what the errors means, I just have no idea as to how to fix it. Additionally libraries are not allowed (Purpose is to understand the flow of input data into &quot;rows/columns&quot; and experiment with Trees, HashMaps, etc)\r\n\r\nAdditionally, I cannot use a database for this as this is a requirement to manually do this. However what is not a requirement is using TreeMaps of course. We are allowed to experiment with the various Collection classes. \r\n\r\nI have spent a while trying to get this to work but I have run out of thoughts and forum pages to read now. Eventually, this would be ideal to make it cater towards larger CSV files of unknown columns. However, for the practice run, we have been given the information before hand, hence the indexing in the code above.\r\n\r\nCSV data:\r\n\r\n```none\r\nCountry,Exports,Value (dollars)\r\nGermany,&quot;motor vehicles, machinery, chemicals&quot;,&quot;$1,547,000,000,000&quot;\r\nMacedonia,&quot;tobacco, textiles&quot;,&quot;$3,421,000,000&quot;\r\nMadagascar,&quot;coffee, vanilla, shellfish&quot;,&quot;$864,800,000&quot;\r\nMalawi,&quot;tea, sugar, cotton, coffee&quot;,&quot;$1,332,000,000&quot;\r\nMalaysia,&quot;semiconductors, wood&quot;,&quot;$231,300,000,000&quot;\r\nNamibia,&quot;diamonds, copper, gold, zinc, lead&quot;,&quot;$4,597,000,000&quot;\r\nPeru,&quot;copper, gold, lead, zinc, tin,  coffee&quot;,&quot;$36,430,000,000&quot;\r\nRwanda,&quot;coffee, tea, hides, tin ore&quot;,&quot;$720,000,000&quot;\r\nSouth Africa,&quot;gold, diamonds, platinum&quot;,&quot;$97,900,000,000&quot;\r\nUnited States,&quot;corn, computers, automobiles, medicines&quot;,&quot;$1,610,000,000,000&quot;\r\n```\r\n\r\nThis is my first time using the above so it is prone to beginner errors.\r\n\r\n","title":"java.lang.ClassCastException: class java.util.TreeMap cannot be cast to class java.lang.Comparable","body":"<p>I receive the following error when attempting to run my java program</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: class java.util.TreeMap cannot be cast to class java.lang.Comparable (java.util.TreeMap and java.lang.Comparable are in module java.base of loader 'bootstrap')\n    at java.base/java.util.TreeMap.compare(TreeMap.java:1569)\n    at java.base/java.util.TreeMap.addEntryToEmptyMap(TreeMap.java:776)\n    at java.base/java.util.TreeMap.put(TreeMap.java:785)\n    at java.base/java.util.TreeMap.put(TreeMap.java:534)\n    at exportsParser.exportsMap(exportsParser.java:53)\n    at exportsParser.main(exportsParser.java:28)\n</code></pre>\n<p>The applicable code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import edu.duke.*;\nimport java.io.*;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.regex.*;\nimport java.util.*;\nimport java.util.TreeMap;\nimport java.util.Iterator;\n\npublic class exportsParser{\n\n    void println(Object obj){\n        System.out.println(obj);\n    }\n\n    /* The rather involved pattern used to match CSV's consists of three\n     * alternations: the first matches aquoted field, the second unquoted,\n     * the third a null field.\n     */\n    private final static Pattern csv_pattern = Pattern.compile(&quot;\\&quot;([^\\&quot;]+?)\\&quot;,?|([^,]+),?|,&quot;);\n\n    public static void main(String[] argv) throws IOException {\n        //println(csv_pattern);\n        exportsParser parser = new exportsParser();\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;./exports_small.csv&quot;));\n        parser.exportsMap(reader);\n    }\n    public TreeMap&lt;String, TreeMap&lt;TreeMap&lt;String,String&gt; ,TreeMap&lt;String, String&gt;&gt;&gt; exportsMap(BufferedReader reader) throws IOException{\n\n        if(reader.readLine() == null) return null;\n\n        TreeMap&lt;String, TreeMap&lt;TreeMap&lt;String,String&gt;, TreeMap&lt;String,String&gt;&gt;&gt; exportsTable = new TreeMap&lt;&gt;();\n        TreeMap&lt;String, String&gt; products = new TreeMap&lt;&gt;();\n        TreeMap&lt;String, String&gt; value = new TreeMap&lt;&gt;();\n        TreeMap&lt;TreeMap&lt;String,String&gt;,TreeMap&lt;String,String&gt;&gt; exportsData = new TreeMap&lt;&gt;();\n\n        int countryIndex = 0;\n\n        ArrayList&lt;String&gt; exportsList = new ArrayList&lt;String&gt;();\n        String line;\n\n        try{\n            while((line = reader.readLine()) != null){\n                exportsList = parse(line);\n\n                String countryName = exportsList.get(0);\n                products.put(&quot;items&quot;, exportsList.get(1));\n                value.put(&quot;total&quot;, exportsList.get(2));\n                println(products);\n                println(value);\n                exportsData.put(products, value);\n                println(exportsData);\n\n    //              exportsTable.put(countryName,exportsData);\n                println(exportsTable);\n            }\n        }\n        catch(IOException e)\n        {\n            e.printStackTrace();\n        }\n        reader.close();\n        return exportsTable;\n    }\n\n    /* Parse one line.\n     * @return List of Strings, minus their double quotes\n     */\n    public ArrayList&lt;String&gt; parse(String line) {\n        ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        Matcher mat = csv_pattern.matcher(line);\n        // For each field\n        while (mat.find()) {\n            String match = mat.group();\n            if (match == null)\n                break;\n            if (match.endsWith(&quot;,&quot;)) {  // trim trailing ,\n                match = match.substring(0, match.length() - 1);\n            }\n            /*if (match.startsWith(&quot;\\&quot;&quot;)) { // assume also ends with\n              match = match.substring(1, match.length() - 1);\n              }*/\n            if (match.length() == 0)\n                match = null;\n            list.add(match);\n        }\n        return list;\n    }\n}\n</code></pre>\n<p>To clarify, the issue arises when attempting to put the TreeMap data of products and value in exportsData. Same is applicable when attempting to add exportsData to the exportsTable correlating its key (Country) to the exportsData (Value). I understand what the errors means, I just have no idea as to how to fix it. Additionally libraries are not allowed (Purpose is to understand the flow of input data into &quot;rows/columns&quot; and experiment with Trees, HashMaps, etc)</p>\n<p>Additionally, I cannot use a database for this as this is a requirement to manually do this. However what is not a requirement is using TreeMaps of course. We are allowed to experiment with the various Collection classes.</p>\n<p>I have spent a while trying to get this to work but I have run out of thoughts and forum pages to read now. Eventually, this would be ideal to make it cater towards larger CSV files of unknown columns. However, for the practice run, we have been given the information before hand, hence the indexing in the code above.</p>\n<p>CSV data:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Country,Exports,Value (dollars)\nGermany,&quot;motor vehicles, machinery, chemicals&quot;,&quot;$1,547,000,000,000&quot;\nMacedonia,&quot;tobacco, textiles&quot;,&quot;$3,421,000,000&quot;\nMadagascar,&quot;coffee, vanilla, shellfish&quot;,&quot;$864,800,000&quot;\nMalawi,&quot;tea, sugar, cotton, coffee&quot;,&quot;$1,332,000,000&quot;\nMalaysia,&quot;semiconductors, wood&quot;,&quot;$231,300,000,000&quot;\nNamibia,&quot;diamonds, copper, gold, zinc, lead&quot;,&quot;$4,597,000,000&quot;\nPeru,&quot;copper, gold, lead, zinc, tin,  coffee&quot;,&quot;$36,430,000,000&quot;\nRwanda,&quot;coffee, tea, hides, tin ore&quot;,&quot;$720,000,000&quot;\nSouth Africa,&quot;gold, diamonds, platinum&quot;,&quot;$97,900,000,000&quot;\nUnited States,&quot;corn, computers, automobiles, medicines&quot;,&quot;$1,610,000,000,000&quot;\n</code></pre>\n<p>This is my first time using the above so it is prone to beginner errors.</p>\n"},{"tags":["java","error-handling"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":3,"creation_date":1650022351,"post_id":71883402,"comment_id":127024566,"body_markdown":"You have a typo `strIntput` vs. `strInput`","body":"You have a typo <code>strIntput</code> vs. <code>strInput</code>"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1650130413,"post_id":71883402,"comment_id":127045998,"body_markdown":"I am voting to close this question because it was caused by a typo, and as such it is unlikely to be of help to future visitors to this site.","body":"I am voting to close this question because it was caused by a typo, and as such it is unlikely to be of help to future visitors to this site."}],"answers":[{"tags":[],"owner":{"account_id":21208365,"reputation":260,"user_id":15597511,"display_name":"Daksh Rawal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650022697,"creation_date":1650022697,"answer_id":71883554,"question_id":71883402,"body_markdown":"you have named the variable as `String strIntput;`\r\n\r\nwhile declaring it..but you are using strInput everywhere else\r\n\r\nso change `String strIntput;` **TO** `String strInput;`","title":"Error handling in JAVA - Check correct input type","body":"<p>you have named the variable as <code>String strIntput;</code></p>\n<p>while declaring it..but you are using strInput everywhere else</p>\n<p>so change <code>String strIntput;</code> <strong>TO</strong> <code>String strInput;</code></p>\n"},{"tags":[],"owner":{"account_id":22414805,"reputation":21,"user_id":16623016,"display_name":"Дима Шуть"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650027957,"creation_date":1650027957,"answer_id":71884411,"question_id":71883402,"body_markdown":"There is another method which you can use:\r\n#Scaner.nextInt(); It will get Integer value from console or, in another case, will throw an exception \r\n","title":"Error handling in JAVA - Check correct input type","body":"<p>There is another method which you can use:\n#Scaner.nextInt(); It will get Integer value from console or, in another case, will throw an exception</p>\n"}],"owner":{"account_id":24947255,"reputation":15,"user_id":18812458,"display_name":"Cwarren"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71883554,"answer_count":2,"score":1,"last_activity_date":1650027957,"creation_date":1650021698,"question_id":71883402,"body_markdown":"Not sure where i&#39;m going wrong, please help. Trying to check if the user has only entered an integer. Error showing strInpit cannot be resolved to a variable. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Salary{ \r\n      public static void main(String[] args){\r\n        int num = 0;\r\n        String strIntput;\r\n        boolean valid = false;\r\n        \r\n\r\n        // setup scanner\r\n        Scanner in = new Scanner(System.in);\r\n        // loop to check for valid input\r\n        while(valid == false){\r\n          //prompt user to enter\r\n          System.out.println(&quot;Enter your salary per year&quot;);\r\n          // grab input from keyboard\r\n          strInput = in.nextLine();\r\n          // try to convert String to int\r\n          try{\r\n            num = Integer.parseInt(strInput);\r\n            valid = true;\r\n          }\r\n          catch(NumberFormatException e){\r\n            System.out.println(&quot;Error - enter an integer value.&quot;);\r\n          }\r\n        }\r\n        System.out.println(&quot;your salary is &quot; + num);\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Error handling in JAVA - Check correct input type","body":"<p>Not sure where i'm going wrong, please help. Trying to check if the user has only entered an integer. Error showing strInpit cannot be resolved to a variable.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Salary{ \n  public static void main(String[] args){\n    int num = 0;\n    String strIntput;\n    boolean valid = false;\n    \n\n    // setup scanner\n    Scanner in = new Scanner(System.in);\n    // loop to check for valid input\n    while(valid == false){\n      //prompt user to enter\n      System.out.println(\"Enter your salary per year\");\n      // grab input from keyboard\n      strInput = in.nextLine();\n      // try to convert String to int\n      try{\n        num = Integer.parseInt(strInput);\n        valid = true;\n      }\n      catch(NumberFormatException e){\n        System.out.println(\"Error - enter an integer value.\");\n      }\n    }\n    System.out.println(\"your salary is \" + num);\n  }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","solr","lucene"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650032004,"post_id":71884391,"comment_id":127027470,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1650219388,"post_id":71884391,"comment_id":127060167,"body_markdown":"Is this related to Solr in any way?","body":"Is this related to Solr in any way?"},{"owner":{"account_id":16810041,"reputation":1,"user_id":12153263,"display_name":"ArmagedechOfficial"},"score":0,"creation_date":1650280413,"post_id":71884391,"comment_id":127071262,"body_markdown":"@MatsLindh yes.","body":"@MatsLindh yes."},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1650285258,"post_id":71884391,"comment_id":127072566,"body_markdown":"@ArmagedechOfficial Sorry for not being clear; _how_ is this related to Solr? Add relevant code to your question so that people can reproduce the problem.","body":"@ArmagedechOfficial Sorry for not being clear; <i>how</i> is this related to Solr? Add relevant code to your question so that people can reproduce the problem."},{"owner":{"account_id":16810041,"reputation":1,"user_id":12153263,"display_name":"ArmagedechOfficial"},"score":0,"creation_date":1650286249,"post_id":71884391,"comment_id":127072850,"body_markdown":"@MatsLindh im just creating indexes and push it to solr. idk how to to attach right code snippet. But this problem reproduce in Lucene query too.","body":"@MatsLindh im just creating indexes and push it to solr. idk how to to attach right code snippet. But this problem reproduce in Lucene query too."}],"owner":{"account_id":16810041,"reputation":1,"user_id":12153263,"display_name":"ArmagedechOfficial"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650027876,"creation_date":1650027876,"question_id":71884391,"body_markdown":"I have two index folder, then delete all docs from second folder documents which storing in first directory, then adding, but without few documents.\r\nIn my case, I delete, then add the same document. Then I create \r\nTermQuery(new Term(my_field, my_data)), \r\nbut the result is 0. But if I  create MathcAllDocsQuery(), the document appears in ScoreDocs array.\r\n","title":"Lucene Query doesn&#39;t work after delete and adding same doc","body":"<p>I have two index folder, then delete all docs from second folder documents which storing in first directory, then adding, but without few documents.\nIn my case, I delete, then add the same document. Then I create\nTermQuery(new Term(my_field, my_data)),\nbut the result is 0. But if I  create MathcAllDocsQuery(), the document appears in ScoreDocs array.</p>\n"},{"tags":["java","javafx","popup","popupwindow"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1650027377,"creation_date":1649989388,"answer_id":71879435,"question_id":71879089,"body_markdown":"Note that the style is a single property, so when you call `pu.setStyle(...)` twice, the second style *replaces* the previous style; it doesn&#39;t add to it.\r\n\r\nYou need to set the background radius on the same container as you set the background color. The following works:\r\n\r\n    public void start(Stage stage) {\r\n\r\n        PopupControl pu = new PopupControl();\r\n\r\n        VBox vb = new VBox();\r\n        vb.setPrefWidth(300);\r\n        vb.setPrefHeight(200);\r\n        vb.setStyle(&quot;-fx-background-color: rgba(17, 230, 120, 1.0); &quot; +\r\n                &quot;-fx-background-radius: 10 10 10 10 ;&quot;);\r\n\r\n\r\n        pu.getScene().setRoot(vb);\r\n        stage.setWidth(600);\r\n        stage.setHeight(500);\r\n        stage.show();\r\n\r\n        pu.show(stage);\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSetting the styles in an external style sheet is preferred, and probably easier.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ESWNi.png","title":"How to Round the Corners of a JavaFX PopupControl","body":"<p>Note that the style is a single property, so when you call <code>pu.setStyle(...)</code> twice, the second style <em>replaces</em> the previous style; it doesn't add to it.</p>\n<p>You need to set the background radius on the same container as you set the background color. The following works:</p>\n<pre><code>public void start(Stage stage) {\n\n    PopupControl pu = new PopupControl();\n\n    VBox vb = new VBox();\n    vb.setPrefWidth(300);\n    vb.setPrefHeight(200);\n    vb.setStyle(&quot;-fx-background-color: rgba(17, 230, 120, 1.0); &quot; +\n            &quot;-fx-background-radius: 10 10 10 10 ;&quot;);\n\n\n    pu.getScene().setRoot(vb);\n    stage.setWidth(600);\n    stage.setHeight(500);\n    stage.show();\n\n    pu.show(stage);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ESWNi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ESWNi.png\" alt=\"enter image description here\" /></a></p>\n<p>Setting the styles in an external style sheet is preferred, and probably easier.</p>\n"}],"owner":{"account_id":24314670,"reputation":21,"user_id":18256081,"display_name":"Robert0275"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650027377,"creation_date":1649985154,"question_id":71879089,"body_markdown":"I&#39;d like to slightly round the corners of a JavaFX PopupControl.\r\n\r\nBelow is a simple recreation of what I&#39;ve tried:\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n    \r\n    @Override\r\n    public void start(Stage stage) {\r\n\r\n        PopupControl pu = new PopupControl();\r\n        pu.setStyle(&quot;-fx-background-radius: 10 10 10 10&quot;);\r\n        pu.setStyle(&quot;-fx-border-radius: 10 10 10 10&quot;);\r\n\r\n        VBox vb = new VBox();\r\n        vb.setPrefWidth(300);\r\n        vb.setPrefHeight(200);\r\n        vb.setStyle(&quot;-fx-background-color: rgba(17, 230, 120, 1.0)&quot;);\r\n\r\n        pu.getScene().setRoot(vb);\r\n        stage.setWidth(600);\r\n        stage.setHeight(500);\r\n        stage.show();\r\n\r\n        pu.show(stage);\r\n\r\nHere is what&#39;s being shown:\r\n\r\n![][1]\r\n\r\nFor clarification, the corners of the green PopupControl are what I&#39;m trying to round off.\r\n\r\nAny help is appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a6tKD.png","title":"How to Round the Corners of a JavaFX PopupControl","body":"<p>I'd like to slightly round the corners of a JavaFX PopupControl.</p>\n<p>Below is a simple recreation of what I've tried:</p>\n<pre><code>public static void main(String[] args) {\n    launch(args);\n}\n\n@Override\npublic void start(Stage stage) {\n\n    PopupControl pu = new PopupControl();\n    pu.setStyle(&quot;-fx-background-radius: 10 10 10 10&quot;);\n    pu.setStyle(&quot;-fx-border-radius: 10 10 10 10&quot;);\n\n    VBox vb = new VBox();\n    vb.setPrefWidth(300);\n    vb.setPrefHeight(200);\n    vb.setStyle(&quot;-fx-background-color: rgba(17, 230, 120, 1.0)&quot;);\n\n    pu.getScene().setRoot(vb);\n    stage.setWidth(600);\n    stage.setHeight(500);\n    stage.show();\n\n    pu.show(stage);\n</code></pre>\n<p>Here is what's being shown:</p>\n<p><img src=\"https://i.stack.imgur.com/a6tKD.png\" alt=\"\" /></p>\n<p>For clarification, the corners of the green PopupControl are what I'm trying to round off.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","scala","apache-spark","hive","bigdata"],"answers":[{"tags":[],"owner":{"account_id":9154396,"reputation":4513,"user_id":6807769,"display_name":"Vincent Doba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650026608,"creation_date":1650026608,"answer_id":71884176,"question_id":71883786,"body_markdown":"If you use dataframe, you can build partition by using window that sum a column whose value is 1 when you change partition and 0 if you don&#39;t change partition.\r\n\r\nYou can transform a RDD to a dataframe with `sparkSession.createDataframe()` method as explained in [this answer](https://stackoverflow.com/a/42469625/6807769)\r\n\r\nBack to your problem. In you case, you change partition every time column behavior is equal to &quot;view&quot;. So we can start with this condition:\r\n\r\n```scala\r\nimport org.apache.spark.sql.functions.col\r\n\r\nval df1 = df.withColumn(&quot;is_view&quot;, (col(&quot;behavior&quot;) === &quot;view&quot;).cast(&quot;integer&quot;))\r\n```\r\n\r\nYou get the following dataframe:\r\n\r\n```\r\n+------+--------+----------+----+-------+\r\n|userid|behavior|timestamp |url |is_view|\r\n+------+--------+----------+----+-------+\r\n|1     |view    |1650022601|url1|1      |\r\n|1     |click   |1650022602|url2|0      |\r\n|1     |click   |1650022614|url3|0      |\r\n|1     |view    |1650022617|url4|1      |\r\n|1     |click   |1650022622|url5|0      |\r\n|1     |view    |1650022626|url7|1      |\r\n|2     |view    |1650022628|url8|1      |\r\n|2     |view    |1650022631|url9|1      |\r\n+------+--------+----------+----+-------+\r\n```\r\n\r\nThen you use a window ordered by timestamp to sum over the `is_view` column:\r\n\r\n```\r\nimport org.apache.spark.sql.expressions.Window\r\nimport org.apache.spark.sql.functions.sum\r\n\r\nval df2 = df1.withColumn(&quot;partition&quot;, sum(&quot;is_view&quot;).over(Window.partitionBy(&quot;userid&quot;).orderBy(&quot;timestamp&quot;)))\r\n```\r\n\r\nWhich get you the following dataframe:\r\n\r\n```\r\n+------+--------+----------+----+-------+---------+\r\n|userid|behavior|timestamp |url |is_view|partition|\r\n+------+--------+----------+----+-------+---------+\r\n|1     |view    |1650022601|url1|1      |1        |\r\n|1     |click   |1650022602|url2|0      |1        |\r\n|1     |click   |1650022614|url3|0      |1        |\r\n|1     |view    |1650022617|url4|1      |2        |\r\n|1     |click   |1650022622|url5|0      |2        |\r\n|1     |view    |1650022626|url7|1      |3        |\r\n|2     |view    |1650022628|url8|1      |1        |\r\n|2     |view    |1650022631|url9|1      |2        |\r\n+------+--------+----------+----+-------+---------+\r\n```\r\n\r\nThen, you just have to aggregate per userid and partition:\r\n\r\n```\r\nimport org.apache.spark.sql.functions.{max, min}\r\n\r\nval result = df2.groupBy(&quot;userid&quot;, &quot;partition&quot;)\r\n  .agg((max(&quot;timestamp&quot;) - min(&quot;timestamp&quot;)).as(&quot;duration&quot;))\r\n```\r\n\r\nAnd you get the following results:\r\n\r\n```\r\n+------+---------+--------+\r\n|userid|partition|duration|\r\n+------+---------+--------+\r\n|1     |1        |13      |\r\n|1     |2        |5       |\r\n|1     |3        |0       |\r\n|2     |1        |0       |\r\n|2     |2        |0       |\r\n+------+---------+--------+\r\n```\r\n\r\nThe complete scala code:\r\n\r\n```scala\r\nimport org.apache.spark.sql.expressions.Window\r\nimport org.apache.spark.sql.functions.{col, max, min, sum}\r\n\r\nval result = df\r\n  .withColumn(&quot;is_view&quot;, (col(&quot;behavior&quot;) === &quot;view&quot;).cast(&quot;integer&quot;))\r\n  .withColumn(&quot;partition&quot;, sum(&quot;is_view&quot;).over(Window.partitionBy(&quot;userid&quot;).orderBy(&quot;timestamp&quot;)))\r\n  .groupBy(&quot;userid&quot;, &quot;partition&quot;)\r\n  .agg((max(&quot;timestamp&quot;) - min(&quot;timestamp&quot;)).as(&quot;duration&quot;))\r\n```","title":"How to group unassociated content","body":"<p>If you use dataframe, you can build partition by using window that sum a column whose value is 1 when you change partition and 0 if you don't change partition.</p>\n<p>You can transform a RDD to a dataframe with <code>sparkSession.createDataframe()</code> method as explained in <a href=\"https://stackoverflow.com/a/42469625/6807769\">this answer</a></p>\n<p>Back to your problem. In you case, you change partition every time column behavior is equal to &quot;view&quot;. So we can start with this condition:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import org.apache.spark.sql.functions.col\n\nval df1 = df.withColumn(&quot;is_view&quot;, (col(&quot;behavior&quot;) === &quot;view&quot;).cast(&quot;integer&quot;))\n</code></pre>\n<p>You get the following dataframe:</p>\n<pre><code>+------+--------+----------+----+-------+\n|userid|behavior|timestamp |url |is_view|\n+------+--------+----------+----+-------+\n|1     |view    |1650022601|url1|1      |\n|1     |click   |1650022602|url2|0      |\n|1     |click   |1650022614|url3|0      |\n|1     |view    |1650022617|url4|1      |\n|1     |click   |1650022622|url5|0      |\n|1     |view    |1650022626|url7|1      |\n|2     |view    |1650022628|url8|1      |\n|2     |view    |1650022631|url9|1      |\n+------+--------+----------+----+-------+\n</code></pre>\n<p>Then you use a window ordered by timestamp to sum over the <code>is_view</code> column:</p>\n<pre><code>import org.apache.spark.sql.expressions.Window\nimport org.apache.spark.sql.functions.sum\n\nval df2 = df1.withColumn(&quot;partition&quot;, sum(&quot;is_view&quot;).over(Window.partitionBy(&quot;userid&quot;).orderBy(&quot;timestamp&quot;)))\n</code></pre>\n<p>Which get you the following dataframe:</p>\n<pre><code>+------+--------+----------+----+-------+---------+\n|userid|behavior|timestamp |url |is_view|partition|\n+------+--------+----------+----+-------+---------+\n|1     |view    |1650022601|url1|1      |1        |\n|1     |click   |1650022602|url2|0      |1        |\n|1     |click   |1650022614|url3|0      |1        |\n|1     |view    |1650022617|url4|1      |2        |\n|1     |click   |1650022622|url5|0      |2        |\n|1     |view    |1650022626|url7|1      |3        |\n|2     |view    |1650022628|url8|1      |1        |\n|2     |view    |1650022631|url9|1      |2        |\n+------+--------+----------+----+-------+---------+\n</code></pre>\n<p>Then, you just have to aggregate per userid and partition:</p>\n<pre><code>import org.apache.spark.sql.functions.{max, min}\n\nval result = df2.groupBy(&quot;userid&quot;, &quot;partition&quot;)\n  .agg((max(&quot;timestamp&quot;) - min(&quot;timestamp&quot;)).as(&quot;duration&quot;))\n</code></pre>\n<p>And you get the following results:</p>\n<pre><code>+------+---------+--------+\n|userid|partition|duration|\n+------+---------+--------+\n|1     |1        |13      |\n|1     |2        |5       |\n|1     |3        |0       |\n|2     |1        |0       |\n|2     |2        |0       |\n+------+---------+--------+\n</code></pre>\n<p>The complete scala code:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import org.apache.spark.sql.expressions.Window\nimport org.apache.spark.sql.functions.{col, max, min, sum}\n\nval result = df\n  .withColumn(&quot;is_view&quot;, (col(&quot;behavior&quot;) === &quot;view&quot;).cast(&quot;integer&quot;))\n  .withColumn(&quot;partition&quot;, sum(&quot;is_view&quot;).over(Window.partitionBy(&quot;userid&quot;).orderBy(&quot;timestamp&quot;)))\n  .groupBy(&quot;userid&quot;, &quot;partition&quot;)\n  .agg((max(&quot;timestamp&quot;) - min(&quot;timestamp&quot;)).as(&quot;duration&quot;))\n</code></pre>\n"}],"owner":{"account_id":15683408,"reputation":15,"user_id":11316766,"display_name":"Applewald"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71884176,"answer_count":1,"score":1,"last_activity_date":1650026608,"creation_date":1650024097,"question_id":71883786,"body_markdown":"I have a hive table that records user behavior\r\n\r\nlike this\r\n\r\n|userid| behavior| timestamp | url |\r\n|------|---------|-----------|---- |\r\n| 1    | view    | 1650022601| url1|\r\n| 1    | click   | 1650022602| url2|\r\n| 1    | click   | 1650022614| url3|\r\n| 1    | view    | 1650022617| url4|\r\n| 1    | click   | 1650022622| url5|\r\n| 1    | view    | 1650022626| url7|\r\n| 2    | view    | 1650022628| url8|\r\n| 2    | view    | 1650022631| url9|\r\n\r\nAbout 400GB is added to the table every day.\r\n\r\nI want to order by timestamp asc, then one &#39;view&#39; is in a group between another &#39;view&#39;\r\nlike this table, the first 3 lines belong to a same group , then subtract the timestamps,\r\nlike 1650022614 - 1650022601 as the view time.\r\n\r\nHow to do this?\r\n\r\ni try lag and lead function, or scala like this\r\n```scala\r\n        val pairRDD: RDD[(Int, String)] = record.map(x =&gt; {\r\n            if (StringUtil.isDateString(x.split(&quot;\\\\s+&quot;)(0))) {\r\n                partition = partition + 1\r\n                (partition, x)\r\n            } else {\r\n                (partition, x)\r\n            }\r\n        })\r\n```\r\nor java like this\r\n```java\r\n\t\tLongAccumulator part = spark.sparkContext().longAccumulator(&quot;part&quot;);\r\n\r\n\t\tJavaPairRDD&lt;Long, Row&gt; pairRDD = spark.sql(sql).coalesce(1).javaRDD().mapToPair((PairFunction&lt;Row, Long, Row&gt;) row -&gt; {\r\n\t\t\tif (row.getAs(&quot;event&quot;) == &quot;pageview&quot;) {\r\n\t\t\t\tpart.add(1L);\r\n\t\t\t}\r\n        return new Tuple2&lt;&gt;(part.value(), row);\r\n\t\t});\r\n```\r\nbut when a dataset is very large, this code just stupid.\r\n\r\nsave me plz\r\n","title":"How to group unassociated content","body":"<p>I have a hive table that records user behavior</p>\n<p>like this</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>userid</th>\n<th>behavior</th>\n<th>timestamp</th>\n<th>url</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>view</td>\n<td>1650022601</td>\n<td>url1</td>\n</tr>\n<tr>\n<td>1</td>\n<td>click</td>\n<td>1650022602</td>\n<td>url2</td>\n</tr>\n<tr>\n<td>1</td>\n<td>click</td>\n<td>1650022614</td>\n<td>url3</td>\n</tr>\n<tr>\n<td>1</td>\n<td>view</td>\n<td>1650022617</td>\n<td>url4</td>\n</tr>\n<tr>\n<td>1</td>\n<td>click</td>\n<td>1650022622</td>\n<td>url5</td>\n</tr>\n<tr>\n<td>1</td>\n<td>view</td>\n<td>1650022626</td>\n<td>url7</td>\n</tr>\n<tr>\n<td>2</td>\n<td>view</td>\n<td>1650022628</td>\n<td>url8</td>\n</tr>\n<tr>\n<td>2</td>\n<td>view</td>\n<td>1650022631</td>\n<td>url9</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>About 400GB is added to the table every day.</p>\n<p>I want to order by timestamp asc, then one 'view' is in a group between another 'view'\nlike this table, the first 3 lines belong to a same group , then subtract the timestamps,\nlike 1650022614 - 1650022601 as the view time.</p>\n<p>How to do this?</p>\n<p>i try lag and lead function, or scala like this</p>\n<pre class=\"lang-scala prettyprint-override\"><code>        val pairRDD: RDD[(Int, String)] = record.map(x =&gt; {\n            if (StringUtil.isDateString(x.split(&quot;\\\\s+&quot;)(0))) {\n                partition = partition + 1\n                (partition, x)\n            } else {\n                (partition, x)\n            }\n        })\n</code></pre>\n<p>or java like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>        LongAccumulator part = spark.sparkContext().longAccumulator(&quot;part&quot;);\n\n        JavaPairRDD&lt;Long, Row&gt; pairRDD = spark.sql(sql).coalesce(1).javaRDD().mapToPair((PairFunction&lt;Row, Long, Row&gt;) row -&gt; {\n            if (row.getAs(&quot;event&quot;) == &quot;pageview&quot;) {\n                part.add(1L);\n            }\n        return new Tuple2&lt;&gt;(part.value(), row);\n        });\n</code></pre>\n<p>but when a dataset is very large, this code just stupid.</p>\n<p>save me plz</p>\n"},{"tags":["java","apache-beam","google-cloud-pubsub","google-dataflow"],"comments":[{"owner":{"account_id":16360069,"reputation":1856,"user_id":15745884,"display_name":"Kabilan Mohanraj"},"score":0,"creation_date":1650347672,"post_id":71826849,"comment_id":127086788,"body_markdown":"Hi @Balasubramanian! If my answer addressed your question, consider upvoting and accepting it. If not, let me know so that the answer can be improved. Accepting an answer will help the community members with their research as well :)","body":"Hi @Balasubramanian! If my answer addressed your question, consider upvoting and accepting it. If not, let me know so that the answer can be improved. Accepting an answer will help the community members with their research as well :)"}],"answers":[{"tags":[],"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649770784,"creation_date":1649770784,"answer_id":71843772,"question_id":71826849,"body_markdown":"You can&#39;t unack the message with Apache beam. When the message are correctly ingested in the pipeline, they are acked automatically.\r\n\r\nYou can keep them in the pipeline and reprocess them until the conditions are met. But you could have a congestion, or an overusage of Dataflow resources for nothing. It could be better to clean the message before, on a Cloud Functions for instance, that unack the message when they aren&#39;t valid, and publish in a target PubSub topic the valid messages.","title":"Unacknowledge some pub/sub messages in apache beam pipeline","body":"<p>You can't unack the message with Apache beam. When the message are correctly ingested in the pipeline, they are acked automatically.</p>\n<p>You can keep them in the pipeline and reprocess them until the conditions are met. But you could have a congestion, or an overusage of Dataflow resources for nothing. It could be better to clean the message before, on a Cloud Functions for instance, that unack the message when they aren't valid, and publish in a target PubSub topic the valid messages.</p>\n"},{"tags":[],"owner":{"account_id":16360069,"reputation":1856,"user_id":15745884,"display_name":"Kabilan Mohanraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650026279,"creation_date":1650026279,"answer_id":71884129,"question_id":71826849,"body_markdown":"As an alternative to @guillaume&#39;s suggestion, you can also store the &quot;to-be-processed-later&quot; messages (in raw format) in storage mediums such as BigQuery or Cloud Bigtable. All the messages will be acked by the pipeline and then the segregation can be done inside the pipeline where the &quot;valid&quot; messages are processed as usual while the &quot;invalid&quot; messages are preserved in storage for future processing. \r\n\r\nOnce the processing conditions are satisfied, the &quot;invalid&quot; messages can be retrieved from the storage medium and processed after which they can be deleted from storage. This could be a viable solution if the &quot;invalid&quot; messages will be processed after the message retention period which is 7 days.\r\n\r\nThe above workflow is inspired by [this section][1] of the Google Cloud blog. I considered the &quot;invalid&quot; messages to be &quot;bad&quot; data.\r\n\r\n\r\n  [1]: https://cloud.google.com/blog/products/data-analytics/guide-to-common-cloud-dataflow-use-case-patterns-part-1#:~:text=Pattern%3A%20Dealing%20with%20bad%20data","title":"Unacknowledge some pub/sub messages in apache beam pipeline","body":"<p>As an alternative to @guillaume's suggestion, you can also store the &quot;to-be-processed-later&quot; messages (in raw format) in storage mediums such as BigQuery or Cloud Bigtable. All the messages will be acked by the pipeline and then the segregation can be done inside the pipeline where the &quot;valid&quot; messages are processed as usual while the &quot;invalid&quot; messages are preserved in storage for future processing.</p>\n<p>Once the processing conditions are satisfied, the &quot;invalid&quot; messages can be retrieved from the storage medium and processed after which they can be deleted from storage. This could be a viable solution if the &quot;invalid&quot; messages will be processed after the message retention period which is 7 days.</p>\n<p>The above workflow is inspired by <a href=\"https://cloud.google.com/blog/products/data-analytics/guide-to-common-cloud-dataflow-use-case-patterns-part-1#:%7E:text=Pattern%3A%20Dealing%20with%20bad%20data\" rel=\"nofollow noreferrer\">this section</a> of the Google Cloud blog. I considered the &quot;invalid&quot; messages to be &quot;bad&quot; data.</p>\n"}],"owner":{"account_id":1616749,"reputation":348,"user_id":1494229,"display_name":"Balasubramanian Naagarajan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1650026279,"creation_date":1649675730,"question_id":71826849,"body_markdown":"Currently we have a use case where we want to process some messages at later point of time, after some conditions met.\r\nIs it possible to unacknowledge some pub/sub messages in apache beam pipeline which will be later available after visibility time out which we can process later?","title":"Unacknowledge some pub/sub messages in apache beam pipeline","body":"<p>Currently we have a use case where we want to process some messages at later point of time, after some conditions met.\nIs it possible to unacknowledge some pub/sub messages in apache beam pipeline which will be later available after visibility time out which we can process later?</p>\n"},{"tags":["java","spring","spring-boot","logging","logback"],"answers":[{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645464891,"creation_date":1645464891,"answer_id":71210651,"question_id":71210343,"body_markdown":"You need to remove the `additivity=&quot;false&quot;` flag","title":"Logback log to different files from the same package","body":"<p>You need to remove the <code>additivity=&quot;false&quot;</code> flag</p>\n"}],"owner":{"account_id":16915720,"reputation":105,"user_id":12233772,"display_name":"Luca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650025884,"creation_date":1645463389,"question_id":71210343,"body_markdown":"I want to log into two different files, historic.log and applicative.log, from the same package that is com.authenticationservice.user.UserRequest.\r\nIn the historic.log file I want to log at info level and in the applicative.log I want to log at level error.\r\n\r\nThis is how I&#39;ve done it, but it isn&#39;t working properly, only one of the two loggers works properly.\r\n\r\nlogback-spring.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n\r\n    &lt;property name=&quot;LOGS&quot; value=&quot;./logs&quot; /&gt;\r\n\r\n    &lt;appender name=&quot;Console&quot;\r\n              class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n            &lt;Pattern&gt;\r\n                %white(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable\r\n            &lt;/Pattern&gt;\r\n        &lt;/layout&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;HistoricLog&quot;\r\n              class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${LOGS}/historic.log&lt;/file&gt;\r\n        &lt;encoder\r\n                class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n            &lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n\r\n        &lt;rollingPolicy\r\n                class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;!-- rollover daily and when the file reaches 10 MegaBytes --&gt;\r\n            &lt;fileNamePattern&gt;${LOGS}/historicArchived/spring-boot-logger-%d{yyyy-MM-dd}.%i.log\r\n            &lt;/fileNamePattern&gt;\r\n            &lt;timeBasedFileNamingAndTriggeringPolicy\r\n                    class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n        &lt;/rollingPolicy&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;ApplicativeLog&quot;\r\n              class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${LOGS}/applicative.log&lt;/file&gt;\r\n        &lt;encoder\r\n                class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n            &lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n\r\n        &lt;rollingPolicy\r\n                class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;!-- rollover daily and when the file reaches 10 MegaBytes --&gt;\r\n            &lt;fileNamePattern&gt;${LOGS}/applicativeArchived/spring-boot-logger-%d{yyyy-MM-dd}.%i.log\r\n            &lt;/fileNamePattern&gt;\r\n            &lt;timeBasedFileNamingAndTriggeringPolicy\r\n                    class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n        &lt;/rollingPolicy&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n      &lt;logger name=&quot;com.authenticationservice.user.UserRequest&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n          &lt;appender-ref ref=&quot;HistoricLog&quot; /&gt;\r\n      &lt;/logger&gt;\r\n\r\n      &lt;logger name=&quot;com.authenticationservice.user.UserRequest&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\r\n          &lt;appender-ref ref=&quot;ApplicativeLog&quot; /&gt;\r\n      &lt;/logger&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\n","title":"Logback log to different files from the same package","body":"<p>I want to log into two different files, historic.log and applicative.log, from the same package that is com.authenticationservice.user.UserRequest.\nIn the historic.log file I want to log at info level and in the applicative.log I want to log at level error.</p>\n<p>This is how I've done it, but it isn't working properly, only one of the two loggers works properly.</p>\n<p>logback-spring.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n    &lt;property name=&quot;LOGS&quot; value=&quot;./logs&quot; /&gt;\n\n    &lt;appender name=&quot;Console&quot;\n              class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;Pattern&gt;\n                %white(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable\n            &lt;/Pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;HistoricLog&quot;\n              class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;${LOGS}/historic.log&lt;/file&gt;\n        &lt;encoder\n                class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n            &lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\n        &lt;/encoder&gt;\n\n        &lt;rollingPolicy\n                class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n            &lt;!-- rollover daily and when the file reaches 10 MegaBytes --&gt;\n            &lt;fileNamePattern&gt;${LOGS}/historicArchived/spring-boot-logger-%d{yyyy-MM-dd}.%i.log\n            &lt;/fileNamePattern&gt;\n            &lt;timeBasedFileNamingAndTriggeringPolicy\n                    class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;/rollingPolicy&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;ApplicativeLog&quot;\n              class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;${LOGS}/applicative.log&lt;/file&gt;\n        &lt;encoder\n                class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n            &lt;Pattern&gt;%d %p %C{1.} [%t] %m%n&lt;/Pattern&gt;\n        &lt;/encoder&gt;\n\n        &lt;rollingPolicy\n                class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n            &lt;!-- rollover daily and when the file reaches 10 MegaBytes --&gt;\n            &lt;fileNamePattern&gt;${LOGS}/applicativeArchived/spring-boot-logger-%d{yyyy-MM-dd}.%i.log\n            &lt;/fileNamePattern&gt;\n            &lt;timeBasedFileNamingAndTriggeringPolicy\n                    class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;/rollingPolicy&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\n    &lt;/root&gt;\n\n      &lt;logger name=&quot;com.authenticationservice.user.UserRequest&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n          &lt;appender-ref ref=&quot;HistoricLog&quot; /&gt;\n      &lt;/logger&gt;\n\n      &lt;logger name=&quot;com.authenticationservice.user.UserRequest&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\n          &lt;appender-ref ref=&quot;ApplicativeLog&quot; /&gt;\n      &lt;/logger&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","maven","slf4j"],"comments":[{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":3,"creation_date":1649985820,"post_id":71879104,"comment_id":127017698,"body_markdown":"https://www.slf4j.org/manual.html have you tried looking at the documentation? you need the api and an implementation. SLF4j is a facade over existing frameworks.","body":"<a href=\"https://www.slf4j.org/manual.html\" rel=\"nofollow noreferrer\">slf4j.org/manual.html</a> have you tried looking at the documentation? you need the api and an implementation. SLF4j is a facade over existing frameworks."}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649992641,"creation_date":1649992641,"answer_id":71879715,"question_id":71879104,"body_markdown":"`slf4j` is a library that is used as an abstraction of each logging implementation framework such as `log4j`, `logback` or `Jakarta Commons Logging`. If your intent is to use it, you have to also define the concrete framework you want to use under the wood, for example for `log4j`, your `pom` dependencies will look like this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.30&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.17&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nDepending on the framework you want to use, the dependencies will be a bit different.\r\n\r\nThis excellent [link][1] will give your more details.\r\n\r\n\r\n  [1]: https://www.baeldung.com/slf4j-with-log4j2-logback","title":"Which slf4j .jar dependency do I need?","body":"<p><code>slf4j</code> is a library that is used as an abstraction of each logging implementation framework such as <code>log4j</code>, <code>logback</code> or <code>Jakarta Commons Logging</code>. If your intent is to use it, you have to also define the concrete framework you want to use under the wood, for example for <code>log4j</code>, your <code>pom</code> dependencies will look like this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;1.7.30&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;version&gt;1.2.17&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Depending on the framework you want to use, the dependencies will be a bit different.</p>\n<p>This excellent <a href=\"https://www.baeldung.com/slf4j-with-log4j2-logback\" rel=\"nofollow noreferrer\">link</a> will give your more details.</p>\n"},{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650025579,"creation_date":1650025579,"answer_id":71884016,"question_id":71879104,"body_markdown":"SLF4J is a logging API. Combine it with Logback (written by the same people as SLF4J) which implements that logging API:\r\n\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFind the latest stable versions on [mvnrepository.com][1]. Currently logback 1.2.11 and slf4J 1.7.32. Note the the vulnerabilities mentioned on logback 1.2.11 are because of an optional dependency on log4J 1.x (which you don&#39;t get automatically, so it&#39;s safe to use logback 1.2.11 at the time of writing).\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/ch.qos.logback/logback-classic","title":"Which slf4j .jar dependency do I need?","body":"<p>SLF4J is a logging API. Combine it with Logback (written by the same people as SLF4J) which implements that logging API:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n  &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n  &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Find the latest stable versions on <a href=\"https://mvnrepository.com/artifact/ch.qos.logback/logback-classic\" rel=\"nofollow noreferrer\">mvnrepository.com</a>. Currently logback 1.2.11 and slf4J 1.7.32. Note the the vulnerabilities mentioned on logback 1.2.11 are because of an optional dependency on log4J 1.x (which you don't get automatically, so it's safe to use logback 1.2.11 at the time of writing).</p>\n"}],"owner":{"account_id":4940084,"reputation":852,"user_id":3977058,"accept_rate":0,"display_name":"Nick Lee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1402,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1650025579,"creation_date":1649985393,"question_id":71879104,"body_markdown":"I&#39;m getting the following error: \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\r\n&gt; org/slf4j/LoggerFactory\r\n\r\nI need to include slf4j as a dependency but I&#39;m not sure which jar file to download from https://repo1.maven.org/maven2/org/slf4j/. \r\n\r\nI tried `org/slf4j/slf4j-ap`i which doesn&#39;t work. How do I determine which one is correct?\r\n","title":"Which slf4j .jar dependency do I need?","body":"<p>I'm getting the following error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\norg/slf4j/LoggerFactory</p>\n</blockquote>\n<p>I need to include slf4j as a dependency but I'm not sure which jar file to download from <a href=\"https://repo1.maven.org/maven2/org/slf4j/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/slf4j/</a>.</p>\n<p>I tried <code>org/slf4j/slf4j-ap</code>i which doesn't work. How do I determine which one is correct?</p>\n"},{"tags":["java","intellij-idea","plugins","syntax-highlighting"],"comments":[{"owner":{"account_id":7656850,"reputation":207,"user_id":5929508,"display_name":"Nadia Solovyeva"},"score":0,"creation_date":1650028460,"post_id":71883880,"comment_id":127026368,"body_markdown":"It looks like you are trying to create a new IntelliJ plugin, but did not follow https://plugins.jetbrains.com/docs/intellij/creating-plugin-project.html","body":"It looks like you are trying to create a new IntelliJ plugin, but did not follow <a href=\"https://plugins.jetbrains.com/docs/intellij/creating-plugin-project.html\" rel=\"nofollow noreferrer\">plugins.jetbrains.com/docs/intellij/&hellip;</a>"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1650028583,"post_id":71883880,"comment_id":127026415,"body_markdown":"Try to temporarily [disable](https://www.jetbrains.com/help/idea/managing-plugins.html) all third-party plugins and clear the IDE caches. (File | Invalidate Caches... | Invalidate and Restart)","body":"Try to temporarily <a href=\"https://www.jetbrains.com/help/idea/managing-plugins.html\" rel=\"nofollow noreferrer\">disable</a> all third-party plugins and clear the IDE caches. (File | Invalidate Caches... | Invalidate and Restart)"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1650028635,"post_id":71883880,"comment_id":127026426,"body_markdown":"If the problem remains submit a new request at https://intellij-support.jetbrains.com/hc/en-us/requests/new","body":"If the problem remains submit a new request at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/requests/new</a>"},{"owner":{"account_id":13026640,"reputation":29,"user_id":9414433,"display_name":"stedev"},"score":0,"creation_date":1650105078,"post_id":71883880,"comment_id":127040971,"body_markdown":"I installed older Intelij version (2020) and it solved my problem :)","body":"I installed older Intelij version (2020) and it solved my problem :)"}],"owner":{"account_id":13026640,"reputation":29,"user_id":9414433,"display_name":"stedev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1650025216,"creation_date":1650024591,"question_id":71883880,"body_markdown":"I have installed Intellij 2022 CE and I faced a problem with Java mistake&#39;s highlighting. \r\nCode auto-completing doesn&#39;t work too. \r\nIn top right corner I see title &quot;analyzing&quot;.\r\n\r\nI found information that it is necessary to mark folder with code as &quot;resource folder&quot; and I did it. Nothing helped. \r\n\r\nAny ideas what to do?\r\n\r\nHere is the example of errors without highlighting\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x4hDu.png","title":"Intellij CE auto-completion and error highlighting don&#39;t work","body":"<p>I have installed Intellij 2022 CE and I faced a problem with Java mistake's highlighting.\nCode auto-completing doesn't work too.\nIn top right corner I see title &quot;analyzing&quot;.</p>\n<p>I found information that it is necessary to mark folder with code as &quot;resource folder&quot; and I did it. Nothing helped.</p>\n<p>Any ideas what to do?</p>\n<p>Here is the example of errors without highlighting</p>\n<p><a href=\"https://i.stack.imgur.com/x4hDu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x4hDu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":4049650,"reputation":729,"user_id":3329708,"accept_rate":60,"display_name":"Master Disaster"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1471795714,"creation_date":1471795714,"answer_id":39066208,"question_id":39066198,"body_markdown":"You can do that in Fragment:\r\n\r\n    getActivity().registerReceiver(receiver, filter);\r\n\r\n","title":"Cannot resolve method registerReceiver(android.content.BroadcastReceiver, android.content.IntentFilter) in Fragment class","body":"<p>You can do that in Fragment:</p>\n\n<pre><code>getActivity().registerReceiver(receiver, filter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7423733,"reputation":7391,"user_id":5647037,"display_name":"Vucko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1471795902,"creation_date":1471795902,"answer_id":39066229,"question_id":39066198,"body_markdown":"`registerReceiver` is the method found in `Context` class. `Fragment` does not extend it, but the `Activity` does. That&#39;s why you can use it like this:\r\n\r\n    registerReceiver.(receiver, filter);\r\nIn the activity, but you must call it on a context from the Fragment either like this:\r\n\r\n    getActivity().registerReceiver(receiver, filter);\r\nOr even better in `onAttach`\r\n\r\n    @Override\r\n    public void onAttach(Context context) {\r\n          context.registerReceiver(receiver, filter);\r\n    }","title":"Cannot resolve method registerReceiver(android.content.BroadcastReceiver, android.content.IntentFilter) in Fragment class","body":"<p><code>registerReceiver</code> is the method found in <code>Context</code> class. <code>Fragment</code> does not extend it, but the <code>Activity</code> does. That's why you can use it like this:</p>\n\n<pre><code>registerReceiver.(receiver, filter);\n</code></pre>\n\n<p>In the activity, but you must call it on a context from the Fragment either like this:</p>\n\n<pre><code>getActivity().registerReceiver(receiver, filter);\n</code></pre>\n\n<p>Or even better in <code>onAttach</code></p>\n\n<pre><code>@Override\npublic void onAttach(Context context) {\n      context.registerReceiver(receiver, filter);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13326467,"reputation":1,"user_id":9619250,"display_name":"Ali Talaourar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650025175,"creation_date":1650025175,"answer_id":71883967,"question_id":39066198,"body_markdown":"This works for me :\r\n\r\n    getActivity().registerReceiver(receiver, filter);","title":"Cannot resolve method registerReceiver(android.content.BroadcastReceiver, android.content.IntentFilter) in Fragment class","body":"<p>This works for me :</p>\n<pre><code>getActivity().registerReceiver(receiver, filter);\n</code></pre>\n"}],"owner":{"account_id":9048195,"reputation":49,"user_id":6739513,"display_name":"Syira Nana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7842,"favorite_count":0,"down_vote_count":3,"up_vote_count":5,"answer_count":3,"score":2,"last_activity_date":1650025175,"creation_date":1471795652,"question_id":39066198,"body_markdown":"    //here my code\r\n    //used this IntentFilter\r\n    \r\n    IntentFilter filter = new IntentFilter();\r\n\r\n    filter.addAction(BluetoothAdapter.ACTION_STATE_CHANGED);\r\n    filter.addAction(BluetoothDevice.ACTION_FOUND);\r\n    filter.addAction(BluetoothAdapter.ACTION_DISCOVERY_STARTED);\r\n    filter.addAction(BluetoothAdapter.ACTION_DISCOVERY_FINISHED);\r\n        \r\n    //this method cannot be resolve\r\n   \r\n    registerReceiver(mReceiver, filter);\r\n    ","title":"Cannot resolve method registerReceiver(android.content.BroadcastReceiver, android.content.IntentFilter) in Fragment class","body":"<pre><code>//here my code\n//used this IntentFilter\n\nIntentFilter filter = new IntentFilter();\n\nfilter.addAction(BluetoothAdapter.ACTION_STATE_CHANGED);\nfilter.addAction(BluetoothDevice.ACTION_FOUND);\nfilter.addAction(BluetoothAdapter.ACTION_DISCOVERY_STARTED);\nfilter.addAction(BluetoothAdapter.ACTION_DISCOVERY_FINISHED);\n\n//this method cannot be resolve\n\nregisterReceiver(mReceiver, filter);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":2,"creation_date":1650020308,"post_id":71883156,"comment_id":127024073,"body_markdown":"You can always use BigDecimal","body":"You can always use BigDecimal"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1650020520,"post_id":71883156,"comment_id":127024133,"body_markdown":"In short - as soon as you perform calculations on floating point types, you need to know how they are defined. They are not very intuitive and come with lots of pitfalls, and this is not really specific to the Java language.","body":"In short - as soon as you perform calculations on floating point types, you need to know how they are defined. They are not very intuitive and come with lots of pitfalls, and this is not really specific to the Java language."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1650025127,"post_id":71883156,"comment_id":127025290,"body_markdown":"@Szprota21 gives the right suggestion. `BigDecimal.valueOf(41).multiply(new BigDecimal(&quot;0.01&quot;))` prints as `0.41`.","body":"@Szprota21 gives the right suggestion. <code>BigDecimal.valueOf(41).multiply(new BigDecimal(&quot;0.01&quot;))</code> prints as <code>0.41</code>."}],"owner":{"account_id":18306511,"reputation":685,"user_id":13330214,"display_name":"newbieeyo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1650020335,"answer_count":0,"score":0,"last_activity_date":1650024988,"creation_date":1650020153,"question_id":71883156,"body_markdown":"Both were hoping for a 0.41 result, but the result was not what I expected. I know this result is a floating point difference. Is there a way to always get the expected result without worrying about doing this kind of floating point arithmetic in Java?\r\n\r\n\r\n```\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(41 / 100.0);\r\n            System.out.println(41 * 0.01);\r\n        }\r\n    }\r\n```\r\n\r\nPrinted output:\r\n\r\n    0.41\r\n    0.41000000000000003\r\n\r\n","title":"41 / 100.0 result has different from 41 * 0.01","body":"<p>Both were hoping for a 0.41 result, but the result was not what I expected. I know this result is a floating point difference. Is there a way to always get the expected result without worrying about doing this kind of floating point arithmetic in Java?</p>\n<pre><code>    public class Main {\n        public static void main(String[] args) {\n            System.out.println(41 / 100.0);\n            System.out.println(41 * 0.01);\n        }\n    }\n</code></pre>\n<p>Printed output:</p>\n<pre><code>0.41\n0.41000000000000003\n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"display_name":"user18810706"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650018381,"creation_date":1650018381,"answer_id":71882903,"question_id":71882636,"body_markdown":"He is calling \r\n\r\n       return roleDao.list();\r\n\r\nBut there is no implementation of that statement, RoleDao interface is not implemented anywhere. Which means **there is no** bean called `roleDao`, which means, you cannot run this code. It will give you error.\r\n\r\nThe author probably did not share RoleDao implementation.","title":"How to find entity from frontend in spring boot?","body":"<p>He is calling</p>\n<pre><code>   return roleDao.list();\n</code></pre>\n<p>But there is no implementation of that statement, RoleDao interface is not implemented anywhere. Which means <strong>there is no</strong> bean called <code>roleDao</code>, which means, you cannot run this code. It will give you error.</p>\n<p>The author probably did not share RoleDao implementation.</p>\n"}],"owner":{"account_id":12810677,"reputation":569,"user_id":9269017,"display_name":"kk luo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650024843,"creation_date":1650016734,"question_id":71882636,"body_markdown":"I&#39;m learning spring boot from a project https://github.com/rstyro/admin     \r\nIn page/role/list.html,there is code:\r\n\r\n   \r\n         &lt;button th:if=&quot;${QX.add == &#39;1&#39; &amp;&amp; QX.query == &#39;1&#39;}&quot; class=&quot;btn btn-success \r\n             btn-sm&quot; id=&quot;addRole&quot;&gt;&lt;i class=&quot;fa fa-plus&quot;&gt;&lt;/i&gt; &amp;nbsp;&amp;nbsp;add role&lt;/button&gt;\r\n    \r\nI want to check what is this QX entity, So I go to RoleController.java\r\n\r\n     @RequestMapping(value=&quot;/list&quot;,method=RequestMethod.GET)\r\n    \t public Object list(Model model){\r\n    \t\tmodel.addAttribute(&quot;roles&quot;, roleService.list());\r\n    \t\treturn &quot;page/role/list&quot;;\r\n    \t} \r\nthen RoleService.java\r\n\r\n    @Service\r\n    public class RoleService implements IRoleService{\r\n    \r\n    \t@Autowired\r\n    \tprivate RoleDao roleDao;\r\n    \t\r\n    \t@Autowired\r\n    \tprivate MenuService menuService;\r\n    \t\r\n    \tprivate Logger log = Logger.getLogger(this.getClass());\r\n    \t\r\n    \t@Override\r\n    \tpublic List&lt;ParameterMap&gt; list() {\r\n    \t\treturn roleDao.list();\r\n    \t}\r\nthen RoleDao.java\r\n\r\n    public interface RoleDao {\r\n    \tpublic List&lt;ParameterMap&gt; list();\r\n    \tpublic List&lt;ParameterMap&gt; getRoleByuId(ParameterMap pm);\r\n    \tpublic ParameterMap getRoleById(ParameterMap pm);\r\n    \tpublic void updateRoleQX(ParameterMap pm);\r\n    \tpublic void addRole(ParameterMap pm);\r\n    \tpublic void delRole(String roleId);\r\n    \tpublic void delUserRole(String roleId);\r\n    }\r\nand RoleMapper.xml\r\n\r\n    &lt;mapper namespace=&quot;com.lrs.admin.dao.RoleDao&quot; &gt;\r\n    \t&lt;select id=&quot;list&quot;  resultType=&quot;pm&quot;&gt;\r\n    \t\tSELECT \r\n    \t\t\trole_id,\r\n    \t\t\trole_name,\r\n    \t\t\trole_desc,\r\n    \t\t\trights,\r\n    \t\t\tadd_qx,\r\n    \t\t\tdel_qx,\r\n    \t\t\tedit_qx,\r\n    \t\t\tquery_qx\r\n    \t\tfrom \r\n    \t\t\tsys_role\r\n    \t&lt;/select&gt;\r\n\r\nand Role.java\r\n\r\n    public class Role {\r\n    \tprivate long roleId;\r\n    \tprivate String roleName;\r\n    \tprivate String roleDesc;\r\n    \tprivate String rights;\r\n    \tprivate String addQX;\r\n    \tprivate String delQX;\r\n    \tprivate String editQX;\r\n    \tprivate String queryQX;\r\n    \tpublic long getRoleId() {\r\n    \t\treturn roleId;\r\n    \t}\r\n\r\nBut nothing is there. Am I missing something? Thx.","title":"How to find entity from frontend in spring boot?","body":"<p>I'm learning spring boot from a project <a href=\"https://github.com/rstyro/admin\" rel=\"nofollow noreferrer\">https://github.com/rstyro/admin</a><br />\nIn page/role/list.html,there is code:</p>\n<pre><code>     &lt;button th:if=&quot;${QX.add == '1' &amp;&amp; QX.query == '1'}&quot; class=&quot;btn btn-success \n         btn-sm&quot; id=&quot;addRole&quot;&gt;&lt;i class=&quot;fa fa-plus&quot;&gt;&lt;/i&gt; &amp;nbsp;&amp;nbsp;add role&lt;/button&gt;\n</code></pre>\n<p>I want to check what is this QX entity, So I go to RoleController.java</p>\n<pre><code> @RequestMapping(value=&quot;/list&quot;,method=RequestMethod.GET)\n     public Object list(Model model){\n        model.addAttribute(&quot;roles&quot;, roleService.list());\n        return &quot;page/role/list&quot;;\n    } \n</code></pre>\n<p>then RoleService.java</p>\n<pre><code>@Service\npublic class RoleService implements IRoleService{\n\n    @Autowired\n    private RoleDao roleDao;\n    \n    @Autowired\n    private MenuService menuService;\n    \n    private Logger log = Logger.getLogger(this.getClass());\n    \n    @Override\n    public List&lt;ParameterMap&gt; list() {\n        return roleDao.list();\n    }\n</code></pre>\n<p>then RoleDao.java</p>\n<pre><code>public interface RoleDao {\n    public List&lt;ParameterMap&gt; list();\n    public List&lt;ParameterMap&gt; getRoleByuId(ParameterMap pm);\n    public ParameterMap getRoleById(ParameterMap pm);\n    public void updateRoleQX(ParameterMap pm);\n    public void addRole(ParameterMap pm);\n    public void delRole(String roleId);\n    public void delUserRole(String roleId);\n}\n</code></pre>\n<p>and RoleMapper.xml</p>\n<pre><code>&lt;mapper namespace=&quot;com.lrs.admin.dao.RoleDao&quot; &gt;\n    &lt;select id=&quot;list&quot;  resultType=&quot;pm&quot;&gt;\n        SELECT \n            role_id,\n            role_name,\n            role_desc,\n            rights,\n            add_qx,\n            del_qx,\n            edit_qx,\n            query_qx\n        from \n            sys_role\n    &lt;/select&gt;\n</code></pre>\n<p>and Role.java</p>\n<pre><code>public class Role {\n    private long roleId;\n    private String roleName;\n    private String roleDesc;\n    private String rights;\n    private String addQX;\n    private String delQX;\n    private String editQX;\n    private String queryQX;\n    public long getRoleId() {\n        return roleId;\n    }\n</code></pre>\n<p>But nothing is there. Am I missing something? Thx.</p>\n"},{"tags":["java","android","sql","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1587592606,"creation_date":1587590666,"answer_id":61375356,"question_id":61375259,"body_markdown":"The `ViewHolder` is always not null in `onCreateViewHolder()` as the `View` you created within this method can&#39;t be null. \r\n\r\n `onCreateViewHolder()` is built in a different way than `getView()` that you use to create`ListView` adapter\r\n\r\n\r\nSo, please Change your `onCreateViewHolder` to be\r\n\r\n```\r\n        @Override\r\n        public MyAppAdapter.ViewHolder onCreateViewHolder(ViewGroup parent,int viewType) {\r\n            View rowView = LayoutInflater.from(parent.getContext()).inflate(R.layout.listcontentstorechat,parent,false);\r\n            ViewHolder viewHolder = new ViewHolder(rowView);\r\n            \r\n            return viewHolder;\r\n        }\r\n```\r\n&gt; **Edit:** now (and before actually) it doesn&#39;t add the text into the recycle view any help for that? I have updated my question\r\n\r\nYou return a wrong list size from the `getItemCount()`, as your adapter uses  `arraylist` as its list of data, so you need to return the size of it    \r\n\r\nSo change `getItemCount()` into\r\n\r\n    @Override\r\n     public int getItemCount() {\r\n         if (arraylist != null)\r\n             return arraylist.size();\r\n         else\r\n             return 0;\r\n     }\r\n\r\n\r\n&gt; **Edit 2:**\r\n```\r\n java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference\r\n        at com.example.medicnes.ChatActivity$MyAppAdapter.onBindViewHolder(ChatActivity.java:275)\r\n        at com.example.medicnes.ChatActivity$MyAppAdapter.onBindViewHolder(ChatActivity.java:225)\r\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\r\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\r\n```\r\n\r\nYou didn&#39;t initialize views within the row item layout using `.findViewById()`, so change `ViewHolder` constructor to be \r\n\r\n\tpublic ViewHolder(@NonNull View itemView) {\r\n\t\tsuper(itemView);\r\n\t\tmessageText = itemView.findViewById(R.id.message_text);\r\n\t\tmessageUser = itemView.findViewById(R.id.message_user);\r\n\t\tmessageTime = itemView.findViewById(R.id.message_time);\r\n\t}\r\n\r\n\r\n","title":"Attempt to read from field &#39;android.view.View androidx.recyclerview.widget.RecyclerView$ViewHolder.itemView&#39; on a null object reference","body":"<p>The <code>ViewHolder</code> is always not null in <code>onCreateViewHolder()</code> as the <code>View</code> you created within this method can't be null. </p>\n\n<p><code>onCreateViewHolder()</code> is built in a different way than <code>getView()</code> that you use to create<code>ListView</code> adapter</p>\n\n<p>So, please Change your <code>onCreateViewHolder</code> to be</p>\n\n<pre><code>        @Override\n        public MyAppAdapter.ViewHolder onCreateViewHolder(ViewGroup parent,int viewType) {\n            View rowView = LayoutInflater.from(parent.getContext()).inflate(R.layout.listcontentstorechat,parent,false);\n            ViewHolder viewHolder = new ViewHolder(rowView);\n\n            return viewHolder;\n        }\n</code></pre>\n\n<blockquote>\n  <p><strong>Edit:</strong> now (and before actually) it doesn't add the text into the recycle view any help for that? I have updated my question</p>\n</blockquote>\n\n<p>You return a wrong list size from the <code>getItemCount()</code>, as your adapter uses  <code>arraylist</code> as its list of data, so you need to return the size of it    </p>\n\n<p>So change <code>getItemCount()</code> into</p>\n\n<pre><code>@Override\n public int getItemCount() {\n     if (arraylist != null)\n         return arraylist.size();\n     else\n         return 0;\n }\n</code></pre>\n\n<blockquote>\n  <p><strong>Edit 2:</strong></p>\n</blockquote>\n\n<pre><code> java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n        at com.example.medicnes.ChatActivity$MyAppAdapter.onBindViewHolder(ChatActivity.java:275)\n        at com.example.medicnes.ChatActivity$MyAppAdapter.onBindViewHolder(ChatActivity.java:225)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\n</code></pre>\n\n<p>You didn't initialize views within the row item layout using <code>.findViewById()</code>, so change <code>ViewHolder</code> constructor to be </p>\n\n<pre><code>public ViewHolder(@NonNull View itemView) {\n    super(itemView);\n    messageText = itemView.findViewById(R.id.message_text);\n    messageUser = itemView.findViewById(R.id.message_user);\n    messageTime = itemView.findViewById(R.id.message_time);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587590780,"creation_date":1587590780,"answer_id":61375378,"question_id":61375259,"body_markdown":"Your adapter is returning null viewholders.\r\n\r\n&gt;     View rowView = LayoutInflater.from(parent.getContext()).inflate(R.layout.listcontentstorechat,parent,false);\r\n\r\n`rowView` is always nonnull here, so this condition:\r\n\r\n&gt;     if (rowView == null) {\r\n\r\nis never hit and instead the code goes to the else branch\r\n\r\n&gt;     } else {\r\n&gt;         viewHolder = (ViewHolder) rowView.getTag();\r\n&gt;     }\r\n\r\nthat replaces `viewHolder` with null and you return that.\r\n\r\nThat part of the code looks like an attempt to adapt and older ListView adapter to be a RecyclerView adapter. You don&#39;t need the `setTag()`/`getTag()` yourself with RecyclerView.\r\n\r\nJust create and init your view holder and return that from the method.\r\n","title":"Attempt to read from field &#39;android.view.View androidx.recyclerview.widget.RecyclerView$ViewHolder.itemView&#39; on a null object reference","body":"<p>Your adapter is returning null viewholders.</p>\n\n<blockquote>\n<pre><code>View rowView = LayoutInflater.from(parent.getContext()).inflate(R.layout.listcontentstorechat,parent,false);\n</code></pre>\n</blockquote>\n\n<p><code>rowView</code> is always nonnull here, so this condition:</p>\n\n<blockquote>\n<pre><code>if (rowView == null) {\n</code></pre>\n</blockquote>\n\n<p>is never hit and instead the code goes to the else branch</p>\n\n<blockquote>\n<pre><code>} else {\n    viewHolder = (ViewHolder) rowView.getTag();\n}\n</code></pre>\n</blockquote>\n\n<p>that replaces <code>viewHolder</code> with null and you return that.</p>\n\n<p>That part of the code looks like an attempt to adapt and older ListView adapter to be a RecyclerView adapter. You don't need the <code>setTag()</code>/<code>getTag()</code> yourself with RecyclerView.</p>\n\n<p>Just create and init your view holder and return that from the method.</p>\n"},{"tags":[],"owner":{"account_id":22666186,"reputation":1,"user_id":16838509,"display_name":"Razeen Hassan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630919675,"creation_date":1630890509,"answer_id":69068262,"question_id":61375259,"body_markdown":"I had the same issue, when I tried to use `recyclerView` on a `Fragment` to retrieve the data from firebase firestore and place it in the `recyclerView`, I was not able to access the `recyclerView`. Just add `getView()` in front of findViewById(R.id.recyclerViewid)\r\n\r\n     \r\n             \r\n\r\n\r\n\r\nMy Code Before:\r\n           \r\n\r\n \r\n\r\n\r\n    //Declared at the top of the class\r\n    RecylcerView recyclerView ;\r\n    //In the onViewCreate section\r\n    recyclerView = findViewById(R.id.recyclerview)//&lt;--id of the recyclerView\r\n\r\nMy Code After:\r\n\r\n    //Declared at the top of the class\r\n    RecylcerView recyclerView ;\r\n    //In the onViewCreate section\r\n    recyclerView = (getView).findViewById(R.id.recyclerview)//&lt;--id of the recyclerView\r\n\r\n\r\n","title":"Attempt to read from field &#39;android.view.View androidx.recyclerview.widget.RecyclerView$ViewHolder.itemView&#39; on a null object reference","body":"<p>I had the same issue, when I tried to use <code>recyclerView</code> on a <code>Fragment</code> to retrieve the data from firebase firestore and place it in the <code>recyclerView</code>, I was not able to access the <code>recyclerView</code>. Just add <code>getView()</code> in front of findViewById(R.id.recyclerViewid)</p>\n<p>My Code Before:</p>\n<pre><code>//Declared at the top of the class\nRecylcerView recyclerView ;\n//In the onViewCreate section\nrecyclerView = findViewById(R.id.recyclerview)//&lt;--id of the recyclerView\n</code></pre>\n<p>My Code After:</p>\n<pre><code>//Declared at the top of the class\nRecylcerView recyclerView ;\n//In the onViewCreate section\nrecyclerView = (getView).findViewById(R.id.recyclerview)//&lt;--id of the recyclerView\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24947722,"reputation":1,"user_id":18812874,"display_name":"Gaming With Ishfaq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650024716,"creation_date":1650024716,"answer_id":71883898,"question_id":61375259,"body_markdown":"This is may be because your are not returning view through binding in setcontentview","title":"Attempt to read from field &#39;android.view.View androidx.recyclerview.widget.RecyclerView$ViewHolder.itemView&#39; on a null object reference","body":"<p>This is may be because your are not returning view through binding in setcontentview</p>\n"}],"owner":{"account_id":18364441,"reputation":275,"user_id":13375840,"display_name":"zyngot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12728,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":61375356,"answer_count":4,"score":5,"last_activity_date":1650024716,"creation_date":1587590208,"question_id":61375259,"body_markdown":"I am making an app that gets data from sql and puts it in a recycle view i first tried it in a list view but i found it easier in a recycle view it is basically like a chat system app anyways,when i add my data into the recycle view it gives me this error in the logcat.\r\n\r\n \r\n\r\n     java.lang.NullPointerException: Attempt to read from field\r\n           &#39;android.view.View\r\n           androidx.recyclerview.widget.RecyclerView$ViewHolder.itemView&#39; on a\r\n           null object reference\r\n                   at androidx.recyclerview.widget.RecyclerView$Adapter.createViewHolder(RecyclerView.java:7079)\r\n                   at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6235)\r\n                   at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\r\n                   at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\r\n                   at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2303)\r\n                   at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1627)\r\n                   at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\r\n                   at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\r\n                   at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\r\n                   at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3851)\r\n                   at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\r\n                   at android.view.View.layout(View.java:18010)\r\n                   at android.view.ViewGroup.layout(ViewGroup.java:5817)\r\n                   at android.widget.RelativeLayout.onLayout(RelativeLayout.java:1080)\r\n                   at android.view.View.layout(View.java:18010)\r\n                   at android.view.ViewGroup.layout(ViewGroup.java:5817)\r\n                   at android.widget.FrameLayout.layoutChildren(FrameLayout.java:344)\r\n                   at android.widget.FrameLayout.onLayout(FrameLayout.java:281)\r\n                   at android.view.View.layout(View.java:18010)\r\n                   at android.view.ViewGroup.layout(ViewGroup.java:5817)\r\n                   at androidx.appcompat.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:444)\r\n                   at android.view.View.layout(View.java:18010)\r\n                   at android.view.ViewGroup.layout(ViewGroup.java:5817)\r\n                   at android.widget.FrameLayout.layoutChildren(FrameLayout.java:344)\r\n                   at android.widget.FrameLayout.onLayout(FrameLayout.java:281)\r\n                   at android.view.View.layout(View.java:18010)\r\n                   at android.view.ViewGroup.layout(ViewGroup.java:5817)\r\n                   at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1742)\r\n                   at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1585)\r\n                   at android.widget.LinearLayout.onLayout(LinearLayout.java:1494)\r\n\r\nPlease help because it doesn&#39;t give me any clue on where is the error coming from or stuff like that.\r\n\r\nhere is my adapter class:\r\n\r\n    public class MyAppAdapter extends \r\n\r\n    RecyclerView.Adapter&lt;MyAppAdapter.ViewHolder&gt;//has a class viewholder which holds\r\n            {\r\n                private ArrayList&lt;ClassListChat&gt; mOriginalValues; // Original Values\r\n                private ArrayList&lt;ClassListChat&gt; mDisplayedValues;\r\n        \r\n                public class ViewHolder extends RecyclerView.ViewHolder {\r\n        \r\n                    TextView messageText;\r\n                    TextView messageUser;\r\n                    TextView messageTime;\r\n        \r\n                    public ViewHolder(@NonNull View itemView) {\r\n                        super(itemView);\r\n                    }\r\n                }\r\n        \r\n                public List &lt;ClassListChat&gt; parkingList;\r\n        \r\n                public Context context;\r\n                ArrayList&lt;ClassListChat&gt; arraylist;\r\n        \r\n        \r\n                private MyAppAdapter(List&lt;ClassListChat&gt; apps, Context context) {\r\n                    this.parkingList = apps;\r\n                    this.context = context;\r\n                    arraylist = new ArrayList&lt;ClassListChat&gt;();\r\n                    arraylist.addAll(parkingList);\r\n                }\r\n        \r\n        \r\n        \r\n                @Override\r\n                public MyAppAdapter.ViewHolder onCreateViewHolder(ViewGroup parent,int viewType) {\r\n                    View rowView = LayoutInflater.from(parent.getContext()).inflate(R.layout.listcontentstorechat,parent,false);\r\n                    ViewHolder viewHolder = new ViewHolder(rowView);\r\n                    if (rowView == null) {\r\n                        LayoutInflater inflater = getLayoutInflater();\r\n                        rowView = inflater.inflate(R.layout.listcontentstorechat, parent, false);\r\n                        viewHolder.messageText = (BubbleTextView) rowView.findViewById(R.id.message_text);\r\n                        viewHolder.messageUser = (TextView) rowView.findViewById(R.id.message_user);\r\n                        viewHolder.messageTime = (TextView) rowView.findViewById(R.id.message_time);\r\n                        rowView.setTag(viewHolder);\r\n                    } else {\r\n                        viewHolder = (ViewHolder) rowView.getTag();\r\n                    }\r\n                    // here setting up names and images\r\n        \r\n        \r\n        \r\n        \r\n                    return viewHolder;\r\n                }\r\n        \r\n                @Override\r\n                public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n                    holder.messageText.setText(parkingList.get(position).getMessageText());\r\n                    holder.messageUser.setText(parkingList.get(position).getMessageUser());\r\n                    holder.messageTime.setText(DateFormat.format(&quot;dd-MM-yyyy (HH:mm:ss)&quot;, parkingList.get(position).getMessageTime()));\r\n                }\r\n        \r\n                @Override\r\n                public int getItemCount() {\r\n                    return itemArrayList.size();\r\n                }\r\n            }\r\n    \r\n    \r\n    I would really appreciate your hard work in helping me!!\r\n    \r\n    \r\n**EDIT:** now it just gives me a blank bubbleTextView(which i implemented into my app)but it doesn&#39;t show the text,nor the time,nor the user any ideas?\r\n\r\nHere is my listcontentstorechat.xml:\r\n    \r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:id=&quot;@+id/message_user&quot;\r\n            android:textStyle=&quot;normal|bold&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_alignParentBottom=&quot;@+id/message_user&quot;\r\n            android:layout_alignParentEnd=&quot;true&quot;\r\n            android:layout_alignParentRight=&quot;true&quot;\r\n            android:id=&quot;@+id/message_time&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n    \r\n        &lt;com.github.library.bubbleview.BubbleTextView\r\n            android:layout_alignParentStart=&quot;true&quot;\r\n            android:layout_alignParentLeft=&quot;true&quot;\r\n            android:layout_marginTop=&quot;5dp&quot;\r\n            android:layout_below=&quot;@id/message_user&quot;\r\n            android:textAppearance=&quot;@style/TextAppearance.AppCompat.Body1&quot;\r\n            android:textColor=&quot;#FFF&quot;\r\n            android:textSize=&quot;18sp&quot;\r\n    \r\n            android:id=&quot;@+id/message_text&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;10dp&quot;\r\n            app:arrowWidth=&quot;8dp&quot;\r\n            app:angle=&quot;8dp&quot;\r\n            app:arrowHeight=&quot;10dp&quot;\r\n            app:arrowPosition=&quot;14dp&quot;\r\n            app:arrowLocation=&quot;left&quot;\r\n            app:bubbleColor=&quot;#333639&quot;\r\n            app:arrowCenter=&quot;true&quot;\r\n            /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nAnd here is my ClassListChat.java\r\n\r\n    public class ClassListChat {\r\n        public String messageText;\r\n        public String messageUser;\r\n        public long messageTime;\r\n    \r\n    \r\n        public ClassListChat(String messageText, String messageUser) {\r\n            this.messageText = messageText;\r\n            this.messageUser = messageUser;\r\n            messageTime = new Date().getTime();\r\n        }\r\n    \r\n        public ClassListChat() {\r\n        }\r\n    \r\n        public String getMessageText() {\r\n            return messageText;\r\n        }\r\n    \r\n        public void setMessageText(String messageText) {\r\n            this.messageText = messageText;\r\n        }\r\n    \r\n        public String getMessageUser() {\r\n            return messageUser;\r\n        }\r\n    \r\n        public void setMessageUser(String messageUser) {\r\n            this.messageUser = messageUser;\r\n        }\r\n    \r\n        public long getMessageTime() {\r\n            return messageTime;\r\n        }\r\n    \r\n        public void setMessageTime(long messageTime) {\r\n            this.messageTime = messageTime;\r\n        }\r\n\r\n\r\n**EDIT2:** After some improvements it now returns an error in the logcat saying:\r\n\r\n \r\n\r\n     java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference\r\n            at com.example.medicnes.ChatActivity$MyAppAdapter.onBindViewHolder(ChatActivity.java:275)\r\n            at com.example.medicnes.ChatActivity$MyAppAdapter.onBindViewHolder(ChatActivity.java:225)\r\n            at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\r\n            at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\r\n            at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)","title":"Attempt to read from field &#39;android.view.View androidx.recyclerview.widget.RecyclerView$ViewHolder.itemView&#39; on a null object reference","body":"<p>I am making an app that gets data from sql and puts it in a recycle view i first tried it in a list view but i found it easier in a recycle view it is basically like a chat system app anyways,when i add my data into the recycle view it gives me this error in the logcat.</p>\n\n<pre><code> java.lang.NullPointerException: Attempt to read from field\n       'android.view.View\n       androidx.recyclerview.widget.RecyclerView$ViewHolder.itemView' on a\n       null object reference\n               at androidx.recyclerview.widget.RecyclerView$Adapter.createViewHolder(RecyclerView.java:7079)\n               at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6235)\n               at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\n               at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\n               at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2303)\n               at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1627)\n               at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\n               at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\n               at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\n               at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3851)\n               at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\n               at android.view.View.layout(View.java:18010)\n               at android.view.ViewGroup.layout(ViewGroup.java:5817)\n               at android.widget.RelativeLayout.onLayout(RelativeLayout.java:1080)\n               at android.view.View.layout(View.java:18010)\n               at android.view.ViewGroup.layout(ViewGroup.java:5817)\n               at android.widget.FrameLayout.layoutChildren(FrameLayout.java:344)\n               at android.widget.FrameLayout.onLayout(FrameLayout.java:281)\n               at android.view.View.layout(View.java:18010)\n               at android.view.ViewGroup.layout(ViewGroup.java:5817)\n               at androidx.appcompat.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:444)\n               at android.view.View.layout(View.java:18010)\n               at android.view.ViewGroup.layout(ViewGroup.java:5817)\n               at android.widget.FrameLayout.layoutChildren(FrameLayout.java:344)\n               at android.widget.FrameLayout.onLayout(FrameLayout.java:281)\n               at android.view.View.layout(View.java:18010)\n               at android.view.ViewGroup.layout(ViewGroup.java:5817)\n               at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1742)\n               at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1585)\n               at android.widget.LinearLayout.onLayout(LinearLayout.java:1494)\n</code></pre>\n\n<p>Please help because it doesn't give me any clue on where is the error coming from or stuff like that.</p>\n\n<p>here is my adapter class:</p>\n\n<pre><code>public class MyAppAdapter extends \n\nRecyclerView.Adapter&lt;MyAppAdapter.ViewHolder&gt;//has a class viewholder which holds\n        {\n            private ArrayList&lt;ClassListChat&gt; mOriginalValues; // Original Values\n            private ArrayList&lt;ClassListChat&gt; mDisplayedValues;\n\n            public class ViewHolder extends RecyclerView.ViewHolder {\n\n                TextView messageText;\n                TextView messageUser;\n                TextView messageTime;\n\n                public ViewHolder(@NonNull View itemView) {\n                    super(itemView);\n                }\n            }\n\n            public List &lt;ClassListChat&gt; parkingList;\n\n            public Context context;\n            ArrayList&lt;ClassListChat&gt; arraylist;\n\n\n            private MyAppAdapter(List&lt;ClassListChat&gt; apps, Context context) {\n                this.parkingList = apps;\n                this.context = context;\n                arraylist = new ArrayList&lt;ClassListChat&gt;();\n                arraylist.addAll(parkingList);\n            }\n\n\n\n            @Override\n            public MyAppAdapter.ViewHolder onCreateViewHolder(ViewGroup parent,int viewType) {\n                View rowView = LayoutInflater.from(parent.getContext()).inflate(R.layout.listcontentstorechat,parent,false);\n                ViewHolder viewHolder = new ViewHolder(rowView);\n                if (rowView == null) {\n                    LayoutInflater inflater = getLayoutInflater();\n                    rowView = inflater.inflate(R.layout.listcontentstorechat, parent, false);\n                    viewHolder.messageText = (BubbleTextView) rowView.findViewById(R.id.message_text);\n                    viewHolder.messageUser = (TextView) rowView.findViewById(R.id.message_user);\n                    viewHolder.messageTime = (TextView) rowView.findViewById(R.id.message_time);\n                    rowView.setTag(viewHolder);\n                } else {\n                    viewHolder = (ViewHolder) rowView.getTag();\n                }\n                // here setting up names and images\n\n\n\n\n                return viewHolder;\n            }\n\n            @Override\n            public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n                holder.messageText.setText(parkingList.get(position).getMessageText());\n                holder.messageUser.setText(parkingList.get(position).getMessageUser());\n                holder.messageTime.setText(DateFormat.format(\"dd-MM-yyyy (HH:mm:ss)\", parkingList.get(position).getMessageTime()));\n            }\n\n            @Override\n            public int getItemCount() {\n                return itemArrayList.size();\n            }\n        }\n\n\nI would really appreciate your hard work in helping me!!\n</code></pre>\n\n<p><strong>EDIT:</strong> now it just gives me a blank bubbleTextView(which i implemented into my app)but it doesn't show the text,nor the time,nor the user any ideas?</p>\n\n<p>Here is my listcontentstorechat.xml:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;TextView\n        android:layout_alignParentTop=\"true\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentLeft=\"true\"\n        android:id=\"@+id/message_user\"\n        android:textStyle=\"normal|bold\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" /&gt;\n\n    &lt;TextView\n        android:layout_alignParentBottom=\"@+id/message_user\"\n        android:layout_alignParentEnd=\"true\"\n        android:layout_alignParentRight=\"true\"\n        android:id=\"@+id/message_time\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\" /&gt;\n\n    &lt;com.github.library.bubbleview.BubbleTextView\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_marginTop=\"5dp\"\n        android:layout_below=\"@id/message_user\"\n        android:textAppearance=\"@style/TextAppearance.AppCompat.Body1\"\n        android:textColor=\"#FFF\"\n        android:textSize=\"18sp\"\n\n        android:id=\"@+id/message_text\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"10dp\"\n        app:arrowWidth=\"8dp\"\n        app:angle=\"8dp\"\n        app:arrowHeight=\"10dp\"\n        app:arrowPosition=\"14dp\"\n        app:arrowLocation=\"left\"\n        app:bubbleColor=\"#333639\"\n        app:arrowCenter=\"true\"\n        /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>And here is my ClassListChat.java</p>\n\n<pre><code>public class ClassListChat {\n    public String messageText;\n    public String messageUser;\n    public long messageTime;\n\n\n    public ClassListChat(String messageText, String messageUser) {\n        this.messageText = messageText;\n        this.messageUser = messageUser;\n        messageTime = new Date().getTime();\n    }\n\n    public ClassListChat() {\n    }\n\n    public String getMessageText() {\n        return messageText;\n    }\n\n    public void setMessageText(String messageText) {\n        this.messageText = messageText;\n    }\n\n    public String getMessageUser() {\n        return messageUser;\n    }\n\n    public void setMessageUser(String messageUser) {\n        this.messageUser = messageUser;\n    }\n\n    public long getMessageTime() {\n        return messageTime;\n    }\n\n    public void setMessageTime(long messageTime) {\n        this.messageTime = messageTime;\n    }\n</code></pre>\n\n<p><strong>EDIT2:</strong> After some improvements it now returns an error in the logcat saying:</p>\n\n<pre><code> java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n        at com.example.medicnes.ChatActivity$MyAppAdapter.onBindViewHolder(ChatActivity.java:275)\n        at com.example.medicnes.ChatActivity$MyAppAdapter.onBindViewHolder(ChatActivity.java:225)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","cors"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1650021128,"post_id":71883141,"comment_id":127024298,"body_markdown":"please post what your requests looks like, because this has most likely nothing to do with the &quot;path variable&quot; also please include full spring security debug logs","body":"please post what your requests looks like, because this has most likely nothing to do with the &quot;path variable&quot; also please include full spring security debug logs"},{"owner":{"account_id":2066123,"reputation":1920,"user_id":1841601,"accept_rate":93,"display_name":"esthrim"},"score":0,"creation_date":1650022343,"post_id":71883141,"comment_id":127024562,"body_markdown":"@Toerktumlare I already update my question, I&#39;m calling from javascript ajax. If not because of the path variable?, why if i&#39;m not using the path variable it works?","body":"@Toerktumlare I already update my question, I&#39;m calling from javascript ajax. If not because of the path variable?, why if i&#39;m not using the path variable it works?"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1650042443,"post_id":71883141,"comment_id":127030528,"body_markdown":"You have gotten your answer. Because of a missing header, thats why i wanted to see the full requests. Just to point out, when someome asks for the request we are not asking for the ”code that generates the request” we are asking for the actual request which ypu can for instance find in the network tab in the developer tools of your fav browser","body":"You have gotten your answer. Because of a missing header, thats why i wanted to see the full requests. Just to point out, when someome asks for the request we are not asking for the ”code that generates the request” we are asking for the actual request which ypu can for instance find in the network tab in the developer tools of your fav browser"},{"owner":{"account_id":2066123,"reputation":1920,"user_id":1841601,"accept_rate":93,"display_name":"esthrim"},"score":0,"creation_date":1650069372,"post_id":71883141,"comment_id":127036185,"body_markdown":"@Toerktumlare Because your asking is quite ambigous, so I puth them both,","body":"@Toerktumlare Because your asking is quite ambigous, so I puth them both,"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1650069791,"post_id":71883141,"comment_id":127036242,"body_markdown":"then i say request i mean something like this https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST#example","body":"then i say request i mean something like this <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST#example\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST#examp&zwnj;&#8203;le</a>"}],"answers":[{"tags":[],"owner":{"account_id":127329,"reputation":2592,"user_id":324407,"accept_rate":25,"display_name":"Delta George"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650024516,"creation_date":1650024516,"answer_id":71883864,"question_id":71883141,"body_markdown":"When you are using path variable there is no POST body and the browser is not sending application/json Content-Type header. You controller endpoint is not matched and the server does not respond with Access-Control-Allow-Origin header to a preflight request. Try sending some value in the POST body.","title":"Error CORS Forbidden 403 Spring Boot With Spring Security when using Path Variable","body":"<p>When you are using path variable there is no POST body and the browser is not sending application/json Content-Type header. You controller endpoint is not matched and the server does not respond with Access-Control-Allow-Origin header to a preflight request. Try sending some value in the POST body.</p>\n"}],"owner":{"account_id":2066123,"reputation":1920,"user_id":1841601,"accept_rate":93,"display_name":"esthrim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4820,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71883864,"answer_count":1,"score":-1,"last_activity_date":1650024516,"creation_date":1650020076,"question_id":71883141,"body_markdown":"I know there already a lot of questions &amp; answers about this topic, but none mention about this Error when using path variable.\r\n\r\nI already put this config\r\n\r\n    @EnableWebSecurity\r\n    public class CustomWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\r\n\r\n       @Override\r\n       protected void configure(HttpSecurity http) throws Exception\r\n       {\r\n        http\r\n         .cors().and()\r\n         .csrf().disable()\r\n         .authorizeRequests().antMatchers(&quot;/file/getFile/**&quot;)           \r\n            .permitAll().anyRequest().authenticated()\r\n         .and()\r\n         .httpBasic();\r\n       }\r\n    }\r\n \r\nand when I use the path variable the response always error 403 Forbidden.\r\n\r\nERROR\r\n\r\n    @RequestMapping(value = &quot;/file&quot;)\r\n    @Service\r\n    public class FileService {\r\n     .....\r\n        @CrossOrigin(origins=&quot;http://localhost:8080&quot;, allowCredentials = &quot;true&quot;)\r\n        @RequestMapping(value = &quot;/getFile/{fileId}&quot;, method = RequestMethod.POST)\r\n        @ResponseBody\r\n        public String getFile(@PathVariable(value = &quot;fileId&quot;) String fileId) {\r\n             ....\r\n        }\r\n    }\r\n\r\nBut if I&#39;m not using the path variable, it works.\r\n\r\nSUCCESS    \r\n\r\n    @RequestMapping(value = &quot;/file&quot;)\r\n    @Service\r\n    public class FileService {\r\n     .....\r\n        @CrossOrigin(origins=&quot;http://localhost:8080&quot;, allowCredentials = &quot;true&quot;)\r\n        @RequestMapping(value = &quot;/getFile&quot;, method = RequestMethod.POST)\r\n        @ResponseBody\r\n        public String getFile(@RequestBody String jsonFileId) {\r\n             ....\r\n        }\r\n    }\r\n\r\nI&#39;m calling this from javascript, below is the javascript request method. \r\nurl example\r\n\r\n \r\n \r\n     http://localhost:8088/file/getFile/PUML1pZvusTlfBnlW3 \r\n     fdjElEw8O7iVXfj801GyFF7fWeqyvPzwf1GB9lwha3T9GOoq2KEDaqf01l\r\n     3DMRYInV9yHAMfd5_W4vY0S7d0SS9qk\r\n\r\nand the request method \r\n\r\n     $.ajax({\r\n               \r\n                url:url,\r\n                type:&quot;POST&quot;,\r\n                data:data,\r\n                dataType: &#39;json&#39;,\r\n                contentType: &quot;application/json;&quot;,\r\n                crossDomain:true,\r\n                cache:false,\r\n                async:true,\r\n                success:success,\r\n                timeout:30000,\r\n                error:function(xhr, textStatus, errorThrown) {\r\n                \tconsole.log(xhr.responseText);                \r\n                 \r\n                }\t\r\n                \t\r\n            }\r\n        });\r\n\r\nthe javascript error : \r\n\r\n    Access to XMLHttpRequest at\r\n\r\n    &#39;http://localhost:8088/file/getFile/PUML1pZvusTlf....\r\n    from origin &#39;http://localhost:8080&#39; has been blocked by CORS \r\n    policy: Response to preflight request doesn&#39;t pass access control \r\n    check: No &#39;Access-Control-Allow-Origin&#39; header is present on the \r\n    requested resource.\r\n\r\nI know I can do without the path variable, but using the path variable is more efficient in my case.\r\nSo is there any solution of this issue ? Thanks ","title":"Error CORS Forbidden 403 Spring Boot With Spring Security when using Path Variable","body":"<p>I know there already a lot of questions &amp; answers about this topic, but none mention about this Error when using path variable.</p>\n<p>I already put this config</p>\n<pre><code>@EnableWebSecurity\npublic class CustomWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\n\n   @Override\n   protected void configure(HttpSecurity http) throws Exception\n   {\n    http\n     .cors().and()\n     .csrf().disable()\n     .authorizeRequests().antMatchers(&quot;/file/getFile/**&quot;)           \n        .permitAll().anyRequest().authenticated()\n     .and()\n     .httpBasic();\n   }\n}\n</code></pre>\n<p>and when I use the path variable the response always error 403 Forbidden.</p>\n<p>ERROR</p>\n<pre><code>@RequestMapping(value = &quot;/file&quot;)\n@Service\npublic class FileService {\n .....\n    @CrossOrigin(origins=&quot;http://localhost:8080&quot;, allowCredentials = &quot;true&quot;)\n    @RequestMapping(value = &quot;/getFile/{fileId}&quot;, method = RequestMethod.POST)\n    @ResponseBody\n    public String getFile(@PathVariable(value = &quot;fileId&quot;) String fileId) {\n         ....\n    }\n}\n</code></pre>\n<p>But if I'm not using the path variable, it works.</p>\n<p>SUCCESS</p>\n<pre><code>@RequestMapping(value = &quot;/file&quot;)\n@Service\npublic class FileService {\n .....\n    @CrossOrigin(origins=&quot;http://localhost:8080&quot;, allowCredentials = &quot;true&quot;)\n    @RequestMapping(value = &quot;/getFile&quot;, method = RequestMethod.POST)\n    @ResponseBody\n    public String getFile(@RequestBody String jsonFileId) {\n         ....\n    }\n}\n</code></pre>\n<p>I'm calling this from javascript, below is the javascript request method.\nurl example</p>\n<pre><code> http://localhost:8088/file/getFile/PUML1pZvusTlfBnlW3 \n fdjElEw8O7iVXfj801GyFF7fWeqyvPzwf1GB9lwha3T9GOoq2KEDaqf01l\n 3DMRYInV9yHAMfd5_W4vY0S7d0SS9qk\n</code></pre>\n<p>and the request method</p>\n<pre><code> $.ajax({\n           \n            url:url,\n            type:&quot;POST&quot;,\n            data:data,\n            dataType: 'json',\n            contentType: &quot;application/json;&quot;,\n            crossDomain:true,\n            cache:false,\n            async:true,\n            success:success,\n            timeout:30000,\n            error:function(xhr, textStatus, errorThrown) {\n                console.log(xhr.responseText);                \n             \n            }   \n                \n        }\n    });\n</code></pre>\n<p>the javascript error :</p>\n<pre><code>Access to XMLHttpRequest at\n\n'http://localhost:8088/file/getFile/PUML1pZvusTlf....\nfrom origin 'http://localhost:8080' has been blocked by CORS \npolicy: Response to preflight request doesn't pass access control \ncheck: No 'Access-Control-Allow-Origin' header is present on the \nrequested resource.\n</code></pre>\n<p>I know I can do without the path variable, but using the path variable is more efficient in my case.\nSo is there any solution of this issue ? Thanks</p>\n"},{"tags":["java","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":1,"creation_date":1622750197,"post_id":67827886,"comment_id":119888761,"body_markdown":"I assume that something is trying to generate toString representation where all properties are stringified which leads to an endless loop of toString from parent to child child to parent parent to child and so on. \n\nDo you have some post processing after findAll or using lombok? Or does it directly occurs after invoking `repository.findAll()`","body":"I assume that something is trying to generate toString representation where all properties are stringified which leads to an endless loop of toString from parent to child child to parent parent to child and so on.   Do you have some post processing after findAll or using lombok? Or does it directly occurs after invoking <code>repository.findAll()</code>"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1622750551,"post_id":67827886,"comment_id":119888884,"body_markdown":"Did you add `@Data` to `Person` or include a custom (possibly auto-generated) `toString`?","body":"Did you add <code>@Data</code> to <code>Person</code> or include a custom (possibly auto-generated) <code>toString</code>?"},{"owner":{"account_id":6203369,"reputation":930,"user_id":4832342,"accept_rate":90,"display_name":"UnguruBulan"},"score":0,"creation_date":1622779926,"post_id":67827886,"comment_id":119894814,"body_markdown":"Yes. I&#39;m using lombok. Will try without it","body":"Yes. I&#39;m using lombok. Will try without it"}],"answers":[{"tags":[],"owner":{"account_id":6203369,"reputation":930,"user_id":4832342,"accept_rate":90,"display_name":"UnguruBulan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622782551,"creation_date":1622782551,"answer_id":67831679,"question_id":67827886,"body_markdown":"Thanks @Daniel Wosch and @dan1st for suggestions.\r\nIndeed, the generated toString from Lombok&#39;s @Data was the problem.\r\nSolution was to use @Getter, @Setter, @EqualsAndHashCode from Lombok and my own toString which didnt reference both parent and child. Just one of them and it&#39;s ok.","title":"Lombok - Hibernate @OneToOne in same class - StackOverFlowError","body":"<p>Thanks @Daniel Wosch and @dan1st for suggestions.\nIndeed, the generated toString from Lombok's @Data was the problem.\nSolution was to use @Getter, @Setter, @EqualsAndHashCode from Lombok and my own toString which didnt reference both parent and child. Just one of them and it's ok.</p>\n"},{"tags":[],"owner":{"account_id":129766,"reputation":4572,"user_id":328558,"accept_rate":81,"display_name":"javatar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650024335,"creation_date":1650024335,"answer_id":71883835,"question_id":67827886,"body_markdown":"Another option would be adding the following annotation right after the Data annotation: @EqualsAndHashCode(callSuper = false,exclude=&quot;your relational properties&quot;) \r\nJust replace the value of exclude with your field.","title":"Lombok - Hibernate @OneToOne in same class - StackOverFlowError","body":"<p>Another option would be adding the following annotation right after the Data annotation: @EqualsAndHashCode(callSuper = false,exclude=&quot;your relational properties&quot;)\nJust replace the value of exclude with your field.</p>\n"}],"owner":{"account_id":6203369,"reputation":930,"user_id":4832342,"accept_rate":90,"display_name":"UnguruBulan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650024335,"creation_date":1622749846,"question_id":67827886,"body_markdown":"I&#39;m working with 2 tables: Person and City. I have a @ManyToOne relationship which worked fine. (many persons can belong to one city).\r\nThen I needed to create a parent-child relationship. (one person can be parent of another person). The code:\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name=&quot;PERSON&quot;)\r\n    public class Person {\r\n    \r\n        @Id\r\n        @Column(name=&quot;person_id&quot;)\r\n        private int id;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;parent_id&quot;)\r\n        private Person parentPerson;\r\n    \r\n        @OneToOne(mappedBy = &quot;parentPerson&quot;)\r\n        private Person childPerson;\r\n    \r\n        public Person() {\r\n        }\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;city_id&quot;, nullable = false)\r\n        private City city;\r\n    }\r\n    \r\n    \r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;city&quot;)\r\n    public class City {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;city_id&quot;)\r\n        private Integer cityId;\r\n        \r\n        [...]\r\n    }\r\n\r\nThis code compiles, I let hibernate to create the table and I can see the `parent_id` column.\r\nHowever, after I inserted a few rows and ran `myRepository.findAll()`, I&#39;m getting the following:\r\n\r\n    java.lang.StackOverflowError\r\n    \tat java.base/java.lang.Integer.toString(Integer.java:438)\r\n    \tat java.base/java.lang.Integer.toString(Integer.java:1165)\r\n    \tat java.base/java.lang.String.valueOf(String.java:2951)\r\n    \tat package.City.toString(City.java:15)\r\n    \tat java.base/java.lang.String.valueOf(String.java:2951)\r\n    \tat package.Person.toString(Person.java:16)\r\n    at java.base/java.lang.String.valueOf(String.java:2951)\r\n    \tat package.Person.toString(Person.java:16)\r\n    \tat java.base/java.lang.String.valueOf(String.java:2951)\r\n    [...]\r\n    \tat java.base/java.lang.String.valueOf(String.java:2951)\r\n    \tat package.Person.toString(Person.java:16)\r\n    \tat java.base/java.lang.String.valueOf(String.java:2951)\r\nEven inspecting the result in debug, it was returning the StackOverFlow error, but the child-parent mappings were done correctly. Even though from parent I could inspect/expand the child, then expand the parent and so on...\r\n\r\nThe example with @OneToOne in the same class is taken from [here][1].\r\nAny ideas on how I can solve the issue?\r\n\r\n  [1]: https://stackoverflow.com/questions/18487070/how-to-add-onetoone-mapping-for-self-entity-in-hibernate","title":"Lombok - Hibernate @OneToOne in same class - StackOverFlowError","body":"<p>I'm working with 2 tables: Person and City. I have a @ManyToOne relationship which worked fine. (many persons can belong to one city).\nThen I needed to create a parent-child relationship. (one person can be parent of another person). The code:</p>\n<pre><code>@Entity\n@Data\n@Table(name=&quot;PERSON&quot;)\npublic class Person {\n\n    @Id\n    @Column(name=&quot;person_id&quot;)\n    private int id;\n\n    @OneToOne\n    @JoinColumn(name = &quot;parent_id&quot;)\n    private Person parentPerson;\n\n    @OneToOne(mappedBy = &quot;parentPerson&quot;)\n    private Person childPerson;\n\n    public Person() {\n    }\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;city_id&quot;, nullable = false)\n    private City city;\n}\n\n\n@Entity\n@Data\n@Table(name = &quot;city&quot;)\npublic class City {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;city_id&quot;)\n    private Integer cityId;\n    \n    [...]\n}\n</code></pre>\n<p>This code compiles, I let hibernate to create the table and I can see the <code>parent_id</code> column.\nHowever, after I inserted a few rows and ran <code>myRepository.findAll()</code>, I'm getting the following:</p>\n<pre><code>java.lang.StackOverflowError\n    at java.base/java.lang.Integer.toString(Integer.java:438)\n    at java.base/java.lang.Integer.toString(Integer.java:1165)\n    at java.base/java.lang.String.valueOf(String.java:2951)\n    at package.City.toString(City.java:15)\n    at java.base/java.lang.String.valueOf(String.java:2951)\n    at package.Person.toString(Person.java:16)\nat java.base/java.lang.String.valueOf(String.java:2951)\n    at package.Person.toString(Person.java:16)\n    at java.base/java.lang.String.valueOf(String.java:2951)\n[...]\n    at java.base/java.lang.String.valueOf(String.java:2951)\n    at package.Person.toString(Person.java:16)\n    at java.base/java.lang.String.valueOf(String.java:2951)\n</code></pre>\n<p>Even inspecting the result in debug, it was returning the StackOverFlow error, but the child-parent mappings were done correctly. Even though from parent I could inspect/expand the child, then expand the parent and so on...</p>\n<p>The example with @OneToOne in the same class is taken from <a href=\"https://stackoverflow.com/questions/18487070/how-to-add-onetoone-mapping-for-self-entity-in-hibernate\">here</a>.\nAny ideas on how I can solve the issue?</p>\n"},{"tags":["java","windows","cygwin","mingw","protocol-buffers"],"comments":[{"owner":{"account_id":1157423,"reputation":37963,"user_id":1137669,"accept_rate":54,"display_name":"basickarl"},"score":23,"creation_date":1474466471,"post_id":13616033,"comment_id":66543594,"body_markdown":"Amazing how bad the documentation is on installing this. It&#39;s pathetic.","body":"Amazing how bad the documentation is on installing this. It&#39;s pathetic."},{"owner":{"account_id":2889224,"reputation":484,"user_id":2478383,"display_name":"LuckyLuc"},"score":10,"creation_date":1557861514,"post_id":13616033,"comment_id":98905400,"body_markdown":"2019 and Google&#39;s documentation for setting up protocol buffers on windows is still awful.","body":"2019 and Google&#39;s documentation for setting up protocol buffers on windows is still awful."},{"owner":{"account_id":2109306,"reputation":5484,"user_id":1879699,"display_name":"Andreas"},"score":8,"creation_date":1590649702,"post_id":13616033,"comment_id":109760091,"body_markdown":"2020 and things haven&#39;t changed much.","body":"2020 and things haven&#39;t changed much."},{"owner":{"account_id":6565899,"reputation":505,"user_id":5075548,"display_name":"mikro"},"score":1,"creation_date":1640974745,"post_id":13616033,"comment_id":124702742,"body_markdown":"almost 2022 tomorrow and not much better","body":"almost 2022 tomorrow and not much better"}],"answers":[{"tags":[],"owner":{"account_id":1932309,"reputation":10794,"user_id":1741450,"accept_rate":100,"display_name":"lucasg"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1483799680,"creation_date":1483799680,"answer_id":41522545,"question_id":13616033,"body_markdown":"There is a whole documentation file for compiling protobuf on Windows : \r\n\r\n* https://github.com/google/protobuf/blob/master/src/README.md#c-installation---windows\r\n* https://github.com/google/protobuf/blob/master/cmake/README.md\r\n\r\nYou&#39;ll need 7-zip, Cmake and Visual Studio.\r\n\r\nAnyway, one of the unexpected side-effects of using a Continuous Integration tool (like Travis or Appveyor) is that there is always a up-to-date and working build script available. I happen to always look at `appveyor.yml` and `travis_config.yml` files whenever they exists.\r\n\r\n    &gt;&gt;&gt; git clone -b v3.1.0 https://github.com/google/protobuf.git \r\n    &gt;&gt;&gt; cd protobuf\r\n    &gt;&gt;&gt; curl -L -o release-1.7.0.zip https://github.com/google/googlemock/archive/release-1.7.0.zip\r\n    &gt;&gt;&gt; 7z x release-1.7.0.zip\r\n    &gt;&gt;&gt; del /Q release-1.7.0.zip\r\n    &gt;&gt;&gt; rename googlemock-release-1.7.0 gmock\r\n    &gt;&gt;&gt; curl -L -o release-1.7.0.zip &quot;https://github.com/google/googletest/archive/release-1.7.0.zip&quot;\r\n    &gt;&gt;&gt; 7z x release-1.7.0.zip\r\n    &gt;&gt;&gt; del /Q release-1.7.0.zip\r\n    &gt;&gt;&gt; rename googletest-release-1.7.0 gtest\r\n    &gt;&gt;&gt; move gtest gmock\r\n    &gt;&gt;&gt; set generator=Visual Studio 12 Win64\r\n    &gt;&gt;&gt; set vcplatform=x64\r\n    &gt;&gt;&gt; mkdir build_msvc\r\n    &gt;&gt;&gt; cd build_msvc\r\n    &gt;&gt;&gt; cmake -G &quot;%generator%&quot; -Dprotobuf_BUILD_SHARED_LIBS=%BUILD_DLL% -Dprotobuf_UNICODE=%UNICODE% ../cmake\r\n    &gt;&gt;&gt; msbuild protobuf.sln /p:Platform=%vcplatform% || goto error\r\n\r\nYou&#39;ll need `curl` (`Git Bash` has it) as well as resolving paths for the `7z.exe` and `Msbuild.exe` executables.\r\n\r\nI successfully managed to build the protobuf compiler on a Windows 10 x64 machine with Visual Studio 2015.","title":"Install Protocol Buffers on Windows","body":"<p>There is a whole documentation file for compiling protobuf on Windows : </p>\n\n<ul>\n<li><a href=\"https://github.com/google/protobuf/blob/master/src/README.md#c-installation---windows\" rel=\"noreferrer\">https://github.com/google/protobuf/blob/master/src/README.md#c-installation---windows</a></li>\n<li><a href=\"https://github.com/google/protobuf/blob/master/cmake/README.md\" rel=\"noreferrer\">https://github.com/google/protobuf/blob/master/cmake/README.md</a></li>\n</ul>\n\n<p>You'll need 7-zip, Cmake and Visual Studio.</p>\n\n<p>Anyway, one of the unexpected side-effects of using a Continuous Integration tool (like Travis or Appveyor) is that there is always a up-to-date and working build script available. I happen to always look at <code>appveyor.yml</code> and <code>travis_config.yml</code> files whenever they exists.</p>\n\n<pre><code>&gt;&gt;&gt; git clone -b v3.1.0 https://github.com/google/protobuf.git \n&gt;&gt;&gt; cd protobuf\n&gt;&gt;&gt; curl -L -o release-1.7.0.zip https://github.com/google/googlemock/archive/release-1.7.0.zip\n&gt;&gt;&gt; 7z x release-1.7.0.zip\n&gt;&gt;&gt; del /Q release-1.7.0.zip\n&gt;&gt;&gt; rename googlemock-release-1.7.0 gmock\n&gt;&gt;&gt; curl -L -o release-1.7.0.zip \"https://github.com/google/googletest/archive/release-1.7.0.zip\"\n&gt;&gt;&gt; 7z x release-1.7.0.zip\n&gt;&gt;&gt; del /Q release-1.7.0.zip\n&gt;&gt;&gt; rename googletest-release-1.7.0 gtest\n&gt;&gt;&gt; move gtest gmock\n&gt;&gt;&gt; set generator=Visual Studio 12 Win64\n&gt;&gt;&gt; set vcplatform=x64\n&gt;&gt;&gt; mkdir build_msvc\n&gt;&gt;&gt; cd build_msvc\n&gt;&gt;&gt; cmake -G \"%generator%\" -Dprotobuf_BUILD_SHARED_LIBS=%BUILD_DLL% -Dprotobuf_UNICODE=%UNICODE% ../cmake\n&gt;&gt;&gt; msbuild protobuf.sln /p:Platform=%vcplatform% || goto error\n</code></pre>\n\n<p>You'll need <code>curl</code> (<code>Git Bash</code> has it) as well as resolving paths for the <code>7z.exe</code> and <code>Msbuild.exe</code> executables.</p>\n\n<p>I successfully managed to build the protobuf compiler on a Windows 10 x64 machine with Visual Studio 2015.</p>\n"},{"tags":[],"owner":{"account_id":1212844,"reputation":6042,"user_id":1181063,"display_name":"Florian Sesser"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1599122174,"creation_date":1547139795,"answer_id":54133584,"question_id":13616033,"body_markdown":"If you just want to compile ProtoBuf definitions, you can download [precompiled binaries of protoc for all platforms](https://github.com/protocolbuffers/protobuf/releases/) right on the ProtoBuf GitHub releases page.\r\n\r\nThey had precompiled binaries at least since 2015, but it&#39;s easy to overlook them in between the many downloads.","title":"Install Protocol Buffers on Windows","body":"<p>If you just want to compile ProtoBuf definitions, you can download <a href=\"https://github.com/protocolbuffers/protobuf/releases/\" rel=\"noreferrer\">precompiled binaries of protoc for all platforms</a> right on the ProtoBuf GitHub releases page.</p>\n<p>They had precompiled binaries at least since 2015, but it's easy to overlook them in between the many downloads.</p>\n"},{"tags":[],"owner":{"account_id":2734183,"reputation":715,"user_id":2357209,"display_name":"Onur Başt&#252;rk"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1577310779,"creation_date":1577310779,"answer_id":59482094,"question_id":13616033,"body_markdown":"Download protoc-2.5.0-win32.zip from \r\n\r\nhttps://github.com/protocolbuffers/protobuf/releases/tag/v2.5.0\r\n\r\nThen to install, simply place this binary somewhere in your PATH","title":"Install Protocol Buffers on Windows","body":"<p>Download protoc-2.5.0-win32.zip from </p>\n\n<p><a href=\"https://github.com/protocolbuffers/protobuf/releases/tag/v2.5.0\" rel=\"noreferrer\">https://github.com/protocolbuffers/protobuf/releases/tag/v2.5.0</a></p>\n\n<p>Then to install, simply place this binary somewhere in your PATH</p>\n"},{"tags":[],"owner":{"account_id":10828703,"reputation":569,"user_id":7963849,"display_name":"Valex"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1586534599,"creation_date":1586534599,"answer_id":61144058,"question_id":13616033,"body_markdown":"I was build **protobuf v2.4.1 on Windows 10** as follows:\r\n\r\n- git clone https://github.com/protocolbuffers/protobuf.git;\r\n- cd protobuf;\r\n- git checkout v2.4.1;\r\n- cd vsprojects\r\n- open protobuf.sln in Visual Studio 2019\r\n- Press build solution and take many errors: min undefined and max undefined\r\n Add in file protobuf/stubs/common.h next code:\r\n\r\n&gt;     #if defined(_WIN32) &amp;&amp; !defined(min)\r\n&gt;     #define min(a,b) __min(a,b)\r\n&gt;     #define max(a,b) __max(a,b)\r\n&gt;     #endif\r\n\r\n- Press build solution and take error: *fatal error C1189: “#error:  hash_map is deprecated and will be REMOVED….*”\r\n- Add compile definition **-D_SILENCE_STDEXT_HASH_DEPRECATION_WARNINGS** solved problem\r\n- Next I had error “*error C2664: &quot;std::pair&lt;std::string,std::string&gt; std::make_pair&lt;std::string,std::string&gt;(_Ty1 &amp;&amp;,_Ty2 &amp;&amp;) noexcept”…*”\r\n- In file src\\google\\protobuf\\compiler\\command_line_interface.cc I modified string “*proto_path_.push_back(make_pair&lt; string, string &gt;(virtual_path, disk_path));*” to “**proto_path_.push_back(make_pair(virtual_path, disk_path));**” \r\n- Press build solution. All build succeed.(Tests projects not build without test framework)\r\n\r\n INSTALL:\r\n- Run extract_includes.bat to copy all the public headers into a separate &quot;include&quot; directory (under the top-level package directory).\r\n- Copy the contents of the include directory to wherever you want to put headers\r\n- Copy protoc.exe wherever you put build tools\r\n- copy libprotobuf.lib, libprotobuf-lite.lib, and libprotoc.lib wherever you put libraries.\r\n","title":"Install Protocol Buffers on Windows","body":"<p>I was build <strong>protobuf v2.4.1 on Windows 10</strong> as follows:</p>\n\n<ul>\n<li>git clone <a href=\"https://github.com/protocolbuffers/protobuf.git\" rel=\"nofollow noreferrer\">https://github.com/protocolbuffers/protobuf.git</a>;</li>\n<li>cd protobuf;</li>\n<li>git checkout v2.4.1;</li>\n<li>cd vsprojects</li>\n<li>open protobuf.sln in Visual Studio 2019</li>\n<li>Press build solution and take many errors: min undefined and max undefined\nAdd in file protobuf/stubs/common.h next code:</li>\n</ul>\n\n<blockquote>\n<pre><code>#if defined(_WIN32) &amp;&amp; !defined(min)\n#define min(a,b) __min(a,b)\n#define max(a,b) __max(a,b)\n#endif\n</code></pre>\n</blockquote>\n\n<ul>\n<li>Press build solution and take error: <em>fatal error C1189: “#error:  hash_map is deprecated and will be REMOVED….</em>”</li>\n<li>Add compile definition <strong>-D_SILENCE_STDEXT_HASH_DEPRECATION_WARNINGS</strong> solved problem</li>\n<li>Next I had error “<em>error C2664: \"std::pair std::make_pair(_Ty1 &amp;&amp;,_Ty2 &amp;&amp;) noexcept”…</em>”</li>\n<li>In file src\\google\\protobuf\\compiler\\command_line_interface.cc I modified string “<em>proto_path_.push_back(make_pair&lt; string, string >(virtual_path, disk_path));</em>” to “<strong>proto_path_.push_back(make_pair(virtual_path, disk_path));</strong>” </li>\n<li><p>Press build solution. All build succeed.(Tests projects not build without test framework)</p>\n\n<p>INSTALL:</p></li>\n<li>Run extract_includes.bat to copy all the public headers into a separate \"include\" directory (under the top-level package directory).</li>\n<li>Copy the contents of the include directory to wherever you want to put headers</li>\n<li>Copy protoc.exe wherever you put build tools</li>\n<li>copy libprotobuf.lib, libprotobuf-lite.lib, and libprotoc.lib wherever you put libraries.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":892512,"reputation":570,"user_id":930502,"display_name":"Raf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588710408,"creation_date":1588710408,"answer_id":61622452,"question_id":13616033,"body_markdown":"I&#39;d recommend using *vcpkg* tool on windows. Here is *step by step* [manual][1].\r\n\r\nRegarding *protobuf*, firstly check what options you have (in cmd):\r\n\r\n*vcpkg search protobuf*\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNext install the required package:\r\n*vcpkg install protobuf:x64-windows-static* \r\n\r\nNotice *x64-windows-static* after the colon - this is the *triplet*. Check *vcpkg help triplet* for all of them.\r\n\r\nThen go to *your_path\\\\vcpkg-master\\\\packages\\\\protobuf_x64-windows-static\\\\*\r\n\r\n[![enter image description here][3]][3]\r\n\r\nNow you can set your environment variables.\r\n\r\n  [1]: https://vcpkg.readthedocs.io/en/latest/examples/installing-and-using-packages/\r\n  [2]: https://i.stack.imgur.com/GZQpe.png\r\n  [3]: https://i.stack.imgur.com/khiL6.png","title":"Install Protocol Buffers on Windows","body":"<p>I'd recommend using <em>vcpkg</em> tool on windows. Here is <em>step by step</em> <a href=\"https://vcpkg.readthedocs.io/en/latest/examples/installing-and-using-packages/\" rel=\"nofollow noreferrer\">manual</a>.</p>\n\n<p>Regarding <em>protobuf</em>, firstly check what options you have (in cmd):</p>\n\n<p><em>vcpkg search protobuf</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/GZQpe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GZQpe.png\" alt=\"enter image description here\"></a></p>\n\n<p>Next install the required package:\n<em>vcpkg install protobuf:x64-windows-static</em> </p>\n\n<p>Notice <em>x64-windows-static</em> after the colon - this is the <em>triplet</em>. Check <em>vcpkg help triplet</em> for all of them.</p>\n\n<p>Then go to <em>your_path\\vcpkg-master\\packages\\protobuf_x64-windows-static\\</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/khiL6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/khiL6.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now you can set your environment variables.</p>\n"},{"tags":[],"owner":{"account_id":6927928,"reputation":405,"user_id":5577970,"display_name":"Richard Keene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588875518,"creation_date":1588875518,"answer_id":61664941,"question_id":13616033,"body_markdown":"Now protobuf is a NuGet package in Visual Studio. Just go get that.","title":"Install Protocol Buffers on Windows","body":"<p>Now protobuf is a NuGet package in Visual Studio. Just go get that.</p>\n"},{"tags":[],"owner":{"account_id":942897,"reputation":2171,"user_id":970673,"accept_rate":69,"display_name":"Jordan Morris"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1600820332,"creation_date":1600820332,"answer_id":64019320,"question_id":13616033,"body_markdown":"I installed it with chocolatey and it worked perfectly.\r\n\r\n    choco --install -y protoc","title":"Install Protocol Buffers on Windows","body":"<p>I installed it with chocolatey and it worked perfectly.</p>\n<pre><code>choco --install -y protoc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4675492,"reputation":39,"user_id":3785984,"display_name":"Ganang Wahyu W"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1600937551,"creation_date":1600937551,"answer_id":64042865,"question_id":13616033,"body_markdown":"just easy [ref][1]\r\n\r\n    choco install protoc --pre\r\n\r\n \r\n\r\n  [1]: https://chocolatey.org/packages/protoc","title":"Install Protocol Buffers on Windows","body":"<p>just easy <a href=\"https://chocolatey.org/packages/protoc\" rel=\"nofollow noreferrer\">ref</a></p>\n<pre><code>choco install protoc --pre\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15613629,"reputation":511,"user_id":13635342,"display_name":"Yuvaraj"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1650024207,"creation_date":1623476768,"answer_id":67946001,"question_id":13616033,"body_markdown":"For installing proto buff in windows\r\n\r\nGo to [https://github.com/protocolbuffers/protobuf/releases][1]\r\n\r\nScroll down and download the zip for windows compatible\r\n\r\n[Binary File][2]\r\n\r\nOnce download the zip, extract it to C:/\r\n\r\nJust copy the path,` C:\\protoc-3.17.3-win64\\bin` and set this as path to an environment variables\r\n\r\n[path setup][3]\r\n\r\nHope, this helps!\r\n\r\n\r\n  [1]: https://github.com/protocolbuffers/protobuf/releases\r\n  [2]: https://i.stack.imgur.com/7QR5d.png\r\n  [3]: https://i.stack.imgur.com/fOM5k.png","title":"Install Protocol Buffers on Windows","body":"<p>For installing proto buff in windows</p>\n<p>Go to <a href=\"https://github.com/protocolbuffers/protobuf/releases\" rel=\"noreferrer\">https://github.com/protocolbuffers/protobuf/releases</a></p>\n<p>Scroll down and download the zip for windows compatible</p>\n<p><a href=\"https://i.stack.imgur.com/7QR5d.png\" rel=\"noreferrer\">Binary File</a></p>\n<p>Once download the zip, extract it to C:/</p>\n<p>Just copy the path,<code> C:\\protoc-3.17.3-win64\\bin</code> and set this as path to an environment variables</p>\n<p><a href=\"https://i.stack.imgur.com/fOM5k.png\" rel=\"noreferrer\">path setup</a></p>\n<p>Hope, this helps!</p>\n"},{"tags":[],"owner":{"account_id":2113347,"reputation":7040,"user_id":1878141,"accept_rate":54,"display_name":"Christian Findlay"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1625891978,"creation_date":1625891978,"answer_id":68324759,"question_id":13616033,"body_markdown":"Use [chocolatey](https://community.chocolatey.org/packages/protoc)\r\n\r\n`choco install protoc`","title":"Install Protocol Buffers on Windows","body":"<p>Use <a href=\"https://community.chocolatey.org/packages/protoc\" rel=\"noreferrer\">chocolatey</a></p>\n<p><code>choco install protoc</code></p>\n"},{"tags":[],"owner":{"account_id":435304,"reputation":1,"user_id":821824,"display_name":"user821824"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628994069,"creation_date":1628994069,"answer_id":68788302,"question_id":13616033,"body_markdown":"choco install protoc --pre worked for, make sure your in an elevated state.\r\n\r\nthis is the output when I ran protoc from gitbash\r\n\r\n$ protoc\r\nUsage: C:\\ProgramData\\chocolatey\\lib\\protoc\\tools\\bin\\protoc.exe [OPTION] PROTO_FILES\r\nParse PROTO_FILES and generate output based on the options given:\r\n  -IPATH, --proto_path=PATH   Specify the directory in which to search for\r\n\r\nadding it to my $path environment variables didn&#39;t work from me as expected.","title":"Install Protocol Buffers on Windows","body":"<p>choco install protoc --pre worked for, make sure your in an elevated state.</p>\n<p>this is the output when I ran protoc from gitbash</p>\n<p>$ protoc\nUsage: C:\\ProgramData\\chocolatey\\lib\\protoc\\tools\\bin\\protoc.exe [OPTION] PROTO_FILES\nParse PROTO_FILES and generate output based on the options given:\n-IPATH, --proto_path=PATH   Specify the directory in which to search for</p>\n<p>adding it to my $path environment variables didn't work from me as expected.</p>\n"}],"owner":{"account_id":67839,"reputation":3952,"user_id":198274,"accept_rate":65,"display_name":"aces."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118517,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"answer_count":11,"score":51,"last_activity_date":1650024207,"creation_date":1354144024,"question_id":13616033,"body_markdown":"I am unable to find clear instructions to install Google Protocol Buffers (including compiler) on Windows x64 platform.\r\n\r\nI went through the instructions README file for compiler and source:\r\n\r\n&gt; For Compiler: To install, simply place this binary somewhere in your PATH\r\n\r\nI added system variable to Path: \r\n\r\n    PROTOC &#39;C:\\dev_tools\\protoc-2.4.1-win32&#39;\r\n\r\nI am stuck on installing Protocol Buffers source using Cygwin. I tried following \r\nUnix instructions provided in the readme file:\r\n\r\n&gt; To build and install the C++ Protocol Buffer runtime and the Protocol\r\nBuffer compiler (protoc) execute the following:\r\n\r\n&gt;     $ ./configure\r\n&gt;     $ make\r\n&gt;     $ make check\r\n&gt;     $ make install\r\n\r\n&gt; If `make check` fails, you can still install, but it is likely that\r\nsome features of this library will not work correctly on your system.\r\nProceed at your own risk.\r\n\r\n&gt; `make install` may require superuser privileges.\r\n\r\n&gt; For advanced usage information on configure and make, see INSTALL.txt.\r\n\r\n&gt; ** Hint on install location **\r\n\r\n&gt; By default, the package will be installed to /usr/local. However, on many platforms, /usr/local/lib is not part of LD_LIBRARY_PATH. You can add it, but it may be easier to just install to /usr&gt; instead.  To do this, invoke configure as follows:\r\n\r\n&gt;     ./configure --prefix=/usr\r\n\r\nI get\r\n\r\n    -bash: ./configure: No such file or directory&#39;\r\n    \r\nCan some one provide clear and detailed steps to make this work?\r\n\r\n#UPDATE\r\n\r\nI switched to using MSYS/MINGW32 instead and \r\nI followed instructions given in this [link][1]. Now I am stuck with following:\r\n\r\nWhen I run the &#39;./configure&#39; command I get following error:     \r\n**checking how to run the C++ preprocessor... /lib/cpp&lt;br/&gt;\r\nconfigure: error: C++ preprocessor &quot;/lib/cpp&quot; fails sanity check&#39;**\r\n\r\nAs a result, none of the make, make install commands work. For eg:\r\n\r\n    make: No targets specified and no makefile found. Stop.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9243816/how-to-build-google-protocol-buffers-in-windows-for-mingw","title":"Install Protocol Buffers on Windows","body":"<p>I am unable to find clear instructions to install Google Protocol Buffers (including compiler) on Windows x64 platform.</p>\n\n<p>I went through the instructions README file for compiler and source:</p>\n\n<blockquote>\n  <p>For Compiler: To install, simply place this binary somewhere in your PATH</p>\n</blockquote>\n\n<p>I added system variable to Path: </p>\n\n<pre><code>PROTOC 'C:\\dev_tools\\protoc-2.4.1-win32'\n</code></pre>\n\n<p>I am stuck on installing Protocol Buffers source using Cygwin. I tried following \nUnix instructions provided in the readme file:</p>\n\n<blockquote>\n  <p>To build and install the C++ Protocol Buffer runtime and the Protocol\n  Buffer compiler (protoc) execute the following:</p>\n\n<pre><code>$ ./configure\n$ make\n$ make check\n$ make install\n</code></pre>\n  \n  <p>If <code>make check</code> fails, you can still install, but it is likely that\n  some features of this library will not work correctly on your system.\n  Proceed at your own risk.</p>\n  \n  <p><code>make install</code> may require superuser privileges.</p>\n  \n  <p>For advanced usage information on configure and make, see INSTALL.txt.</p>\n  \n  <p>** Hint on install location **</p>\n  \n  <p>By default, the package will be installed to /usr/local. However, on many platforms, /usr/local/lib is not part of LD_LIBRARY_PATH. You can add it, but it may be easier to just install to /usr> instead.  To do this, invoke configure as follows:</p>\n\n<pre><code>./configure --prefix=/usr\n</code></pre>\n</blockquote>\n\n<p>I get</p>\n\n<pre><code>-bash: ./configure: No such file or directory'\n</code></pre>\n\n<p>Can some one provide clear and detailed steps to make this work?</p>\n\n<h1>UPDATE</h1>\n\n<p>I switched to using MSYS/MINGW32 instead and \nI followed instructions given in this <a href=\"https://stackoverflow.com/questions/9243816/how-to-build-google-protocol-buffers-in-windows-for-mingw\">link</a>. Now I am stuck with following:</p>\n\n<p>When I run the './configure' command I get following error:<br>\n<strong>checking how to run the C++ preprocessor... /lib/cpp<br/>\nconfigure: error: C++ preprocessor \"/lib/cpp\" fails sanity check'</strong></p>\n\n<p>As a result, none of the make, make install commands work. For eg:</p>\n\n<pre><code>make: No targets specified and no makefile found. Stop.\n</code></pre>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":23512211,"reputation":79,"user_id":17560651,"display_name":"Roberto Fortunato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650023923,"creation_date":1650023923,"answer_id":71883750,"question_id":71882704,"body_markdown":"You can&#39;t. You can either move from activity to activity or fragment to fragment.\r\nIn the first case you can use the code you have implemented with \r\n\r\n    private fun onClickListener() {\r\n            profileImageView.setOnClickListener {\r\n                val i = Intent(this, SecondActivityWhatever::class.java)\r\n                startActivity(i)\r\n            }\r\n}\r\n\r\notherwise you need to implement Navigation Component in order to move from fragment to fragment.\r\n\r\n(Another option in your specific case would be using a Custom Fragment Dialog to show the profile)","title":"Unable to move from activity to fragment","body":"<p>You can't. You can either move from activity to activity or fragment to fragment.\nIn the first case you can use the code you have implemented with</p>\n<pre><code>private fun onClickListener() {\n        profileImageView.setOnClickListener {\n            val i = Intent(this, SecondActivityWhatever::class.java)\n            startActivity(i)\n        }\n</code></pre>\n<p>}</p>\n<p>otherwise you need to implement Navigation Component in order to move from fragment to fragment.</p>\n<p>(Another option in your specific case would be using a Custom Fragment Dialog to show the profile)</p>\n"}],"owner":{"account_id":24188483,"reputation":1,"user_id":18147975,"display_name":"kausar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650023980,"creation_date":1650017183,"question_id":71882704,"body_markdown":"How to move from activity to fragment on button click?\r\n \r\n\r\n    private fun onClickListener() {\r\n                profileImageView.setOnClickListener {\r\n                    val i = Intent(this, ProfileFragment::class.java)\r\n                    startActivity(i)\r\n                }\r\n    }\r\n\r\n\r\n[![enter code here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6iR5W.png","title":"Unable to move from activity to fragment","body":"<p>How to move from activity to fragment on button click?</p>\n<pre><code>private fun onClickListener() {\n            profileImageView.setOnClickListener {\n                val i = Intent(this, ProfileFragment::class.java)\n                startActivity(i)\n            }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/6iR5W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6iR5W.png\" alt=\"enter code here\" /></a></p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1649084087,"post_id":71734787,"comment_id":126780470,"body_markdown":"Not possible to answer without having a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example). `XSSFCellStyle.setFillForegroundColor(XSSFColor color)` works. See https://stackoverflow.com/questions/70425477/java-apache-poi-xssf-custom-rgb-cellbackground-not-working/70426030#70426030 -&gt; https://stackoverflow.com/questions/59002274/how-to-use-colors-not-in-indexedcolors-for-apache-poi-xssf-excel/59005983#59005983, https://stackoverflow.com/questions/58594849/apache-poi-4-1-set-cell-background-color-from-hex-code/58603161#58603161.","body":"Not possible to answer without having a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a>. <code>XSSFCellStyle.setFillForegroundColor(XSSFColor color)</code> works. See <a href=\"https://stackoverflow.com/questions/70425477/java-apache-poi-xssf-custom-rgb-cellbackground-not-working/70426030#70426030\" title=\"java apache poi xssf custom rgb cellbackground not working\">stackoverflow.com/questions/70425477/&hellip;</a> -&gt; <a href=\"https://stackoverflow.com/questions/59002274/how-to-use-colors-not-in-indexedcolors-for-apache-poi-xssf-excel/59005983#59005983\" title=\"how to use colors not in indexedcolors for apache poi xssf excel\">stackoverflow.com/questions/59002274/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/58594849/apache-poi-4-1-set-cell-background-color-from-hex-code/58603161#58603161\" title=\"apache poi 4 1 set cell background color from hex code\">stackoverflow.com/questions/58594849/&hellip;</a>."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1651809159,"post_id":71734787,"comment_id":127456524,"body_markdown":"See https://stackoverflow.com/questions/45126788/not-able-to-set-custom-color-in-xssfcell-apache-poi/45127209#45127209 for why it is not possible using `org.apache.poi.ss.util` and `setFillForegroundColor(XSSFColor color)` the same time.","body":"See <a href=\"https://stackoverflow.com/questions/45126788/not-able-to-set-custom-color-in-xssfcell-apache-poi/45127209#45127209\" title=\"not able to set custom color in xssfcell apache poi\">stackoverflow.com/questions/45126788/&hellip;</a> for why it is not possible using <code>org.apache.poi.ss.util</code> and <code>setFillForegroundColor(XSSFColor color)</code> the same time."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1651814486,"post_id":71734787,"comment_id":127457372,"body_markdown":"See also https://bz.apache.org/bugzilla/show_bug.cgi?id=66052.","body":"See also <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=66052\" rel=\"nofollow noreferrer\">bz.apache.org/bugzilla/show_bug.cgi?id=66052</a>."},{"owner":{"account_id":16912921,"reputation":11,"user_id":12231574,"display_name":"AntonioBetis"},"score":0,"creation_date":1652002688,"post_id":71734787,"comment_id":127496107,"body_markdown":"Thanks for  your help. Finally I have commented the piece of code where I used RegionUtil. Instead of that, I have defined the borders when I create the differente styles.","body":"Thanks for  your help. Finally I have commented the piece of code where I used RegionUtil. Instead of that, I have defined the borders when I create the differente styles."}],"owner":{"account_id":16912921,"reputation":11,"user_id":12231574,"display_name":"AntonioBetis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650023811,"creation_date":1649064024,"question_id":71734787,"body_markdown":"Here you are a minimal, reproducible example with the error. \r\n\r\nI have a class CreateXSSFColor. Firstly, I define the styles estiloBasico and celdaVaciaGris.\r\nWhen the file excel is HSSFWorkbook type, the example works fine but if the type is XSSFWorkbook then the cell foregroundcolor in celdaVaciaGris style is always black. The problem seems to be in the double for at the bottom which prints the cell borders because if I comment this part then the example works fine again.\r\n\r\nThanks everyone.\r\n\r\n    \r\n\r\n````\r\npublic class CreateXSSFColor{\r\n\r\n    static private Workbook workbook;\r\n    static private Sheet sheet;\r\n    static private Color color;\r\n    static private CellStyle celdaVaciaGris;\r\n    static private CellStyle estiloBasico;\r\n    static private Font font;\r\n    \r\n    public static void main(String[] args) throws IOException, DecoderException {\r\n        \r\n            String fichero = &quot;Excel.xlsx&quot;;\r\n\r\n            if(fichero.endsWith(&quot;.xls&quot;))\r\n                workbook = new HSSFWorkbook();\r\n            else workbook = new XSSFWorkbook();\r\n\r\n            sheet = workbook.createSheet(); \r\n\r\n            celdaVaciaGris = workbook.createCellStyle();\r\n            if(sheet instanceof HSSFSheet){\r\n                color = setHSSFColor(217, 217, 217);            \r\n                celdaVaciaGris.setFillForegroundColor(((HSSFColor)color).getIndex());\r\n            }\r\n            else{\r\n                celdaVaciaGris = ((XSSFWorkbook)workbook).createCellStyle();\r\n                String rgbS = &quot;D9D9D9&quot;;\r\n                ((XSSFCellStyle)celdaVaciaGris).setFillForegroundColor(setXSSFColor(rgbS)); \r\n            }\r\n            celdaVaciaGris.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n            celdaVaciaGris.setDataFormat(workbook.createDataFormat().getFormat(&quot;#,##0.00 €&quot;));\r\n            celdaVaciaGris.setAlignment(HorizontalAlignment.RIGHT);\r\n\r\n            estiloBasico = workbook.createCellStyle();\r\n            estiloBasico.setAlignment(HorizontalAlignment.CENTER);\r\n            font = workbook.createFont();\r\n            font.setFontName(&quot;Calibri&quot;);\r\n            font.setFontHeightInPoints((short)11);\r\n            estiloBasico.setFont(font);                \r\n                        \r\n            int fila=0;\r\n            Row row = sheet.createRow(fila++);\r\n            Cell cell = row.createCell(0);\r\n            cell.setCellValue(&quot;yellow&quot;);\r\n            cell.setCellStyle(estiloBasico);\r\n            \r\n            row = sheet.createRow(fila++);\r\n            cell = row.createCell(0);\r\n            cell.setCellValue(&quot;&quot;);\r\n            cell.setCellStyle(celdaVaciaGris);\r\n\r\n            row = sheet.createRow(fila++);\r\n            cell = row.createCell(0);\r\n            cell.setCellValue(&quot;yellow&quot;);\r\n            cell.setCellStyle(estiloBasico);\r\n\r\n            //The problem seems to be here\r\n            for(int i=0;i&lt;1;i++){\r\n                for(int j=0;j&lt;fila;j++){\r\n                    CellRangeAddress cellRangeAddress = new CellRangeAddress(j, j, i, i);\r\n                    RegionUtil.setBorderBottom(BorderStyle.THIN, cellRangeAddress, sheet);\r\n                    RegionUtil.setBorderLeft(BorderStyle.THIN, cellRangeAddress, sheet);\r\n                    RegionUtil.setBorderRight(BorderStyle.THIN, cellRangeAddress, sheet);\r\n                    RegionUtil.setBorderTop(BorderStyle.THIN, cellRangeAddress, sheet);\r\n                }\r\n            }            \r\n            \r\n            FileOutputStream fileout = new FileOutputStream(fichero);\r\n            workbook.write(fileout);\r\n            fileout.close();\r\n            workbook.close();\r\n    }\r\n    \r\n    private static XSSFColor setXSSFColor(String rgbS) throws DecoderException{\r\n        byte[] rgbB = Hex.decodeHex(rgbS);        \r\n        XSSFColor xssfColor = new XSSFColor(rgbB, null);\r\n        return xssfColor;\r\n    }\r\n    \r\n    private static HSSFColor setHSSFColor(int r, int g, int b){\r\n        HSSFPalette palette = ((HSSFWorkbook)workbook).getCustomPalette();\r\n        HSSFColor hssfColor = null;\r\n        try {\r\n            hssfColor= palette.findColor((byte)r, (byte)g, (byte)b); \r\n            if (hssfColor == null ){\r\n                palette.setColorAtIndex(IndexedColors.LAVENDER.getIndex(), (byte)r, (byte)g,(byte)b);\r\n                hssfColor = palette.getColor(IndexedColors.LAVENDER.getIndex());\r\n            }\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return hssfColor;\r\n    }    \r\n}","title":"Can&#39;t change backgroundcolor in an excel cell using XSSFCellStyle","body":"<p>Here you are a minimal, reproducible example with the error.</p>\n<p>I have a class CreateXSSFColor. Firstly, I define the styles estiloBasico and celdaVaciaGris.\nWhen the file excel is HSSFWorkbook type, the example works fine but if the type is XSSFWorkbook then the cell foregroundcolor in celdaVaciaGris style is always black. The problem seems to be in the double for at the bottom which prints the cell borders because if I comment this part then the example works fine again.</p>\n<p>Thanks everyone.</p>\n<pre><code>public class CreateXSSFColor{\n\n    static private Workbook workbook;\n    static private Sheet sheet;\n    static private Color color;\n    static private CellStyle celdaVaciaGris;\n    static private CellStyle estiloBasico;\n    static private Font font;\n    \n    public static void main(String[] args) throws IOException, DecoderException {\n        \n            String fichero = &quot;Excel.xlsx&quot;;\n\n            if(fichero.endsWith(&quot;.xls&quot;))\n                workbook = new HSSFWorkbook();\n            else workbook = new XSSFWorkbook();\n\n            sheet = workbook.createSheet(); \n\n            celdaVaciaGris = workbook.createCellStyle();\n            if(sheet instanceof HSSFSheet){\n                color = setHSSFColor(217, 217, 217);            \n                celdaVaciaGris.setFillForegroundColor(((HSSFColor)color).getIndex());\n            }\n            else{\n                celdaVaciaGris = ((XSSFWorkbook)workbook).createCellStyle();\n                String rgbS = &quot;D9D9D9&quot;;\n                ((XSSFCellStyle)celdaVaciaGris).setFillForegroundColor(setXSSFColor(rgbS)); \n            }\n            celdaVaciaGris.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n            celdaVaciaGris.setDataFormat(workbook.createDataFormat().getFormat(&quot;#,##0.00 €&quot;));\n            celdaVaciaGris.setAlignment(HorizontalAlignment.RIGHT);\n\n            estiloBasico = workbook.createCellStyle();\n            estiloBasico.setAlignment(HorizontalAlignment.CENTER);\n            font = workbook.createFont();\n            font.setFontName(&quot;Calibri&quot;);\n            font.setFontHeightInPoints((short)11);\n            estiloBasico.setFont(font);                \n                        \n            int fila=0;\n            Row row = sheet.createRow(fila++);\n            Cell cell = row.createCell(0);\n            cell.setCellValue(&quot;yellow&quot;);\n            cell.setCellStyle(estiloBasico);\n            \n            row = sheet.createRow(fila++);\n            cell = row.createCell(0);\n            cell.setCellValue(&quot;&quot;);\n            cell.setCellStyle(celdaVaciaGris);\n\n            row = sheet.createRow(fila++);\n            cell = row.createCell(0);\n            cell.setCellValue(&quot;yellow&quot;);\n            cell.setCellStyle(estiloBasico);\n\n            //The problem seems to be here\n            for(int i=0;i&lt;1;i++){\n                for(int j=0;j&lt;fila;j++){\n                    CellRangeAddress cellRangeAddress = new CellRangeAddress(j, j, i, i);\n                    RegionUtil.setBorderBottom(BorderStyle.THIN, cellRangeAddress, sheet);\n                    RegionUtil.setBorderLeft(BorderStyle.THIN, cellRangeAddress, sheet);\n                    RegionUtil.setBorderRight(BorderStyle.THIN, cellRangeAddress, sheet);\n                    RegionUtil.setBorderTop(BorderStyle.THIN, cellRangeAddress, sheet);\n                }\n            }            \n            \n            FileOutputStream fileout = new FileOutputStream(fichero);\n            workbook.write(fileout);\n            fileout.close();\n            workbook.close();\n    }\n    \n    private static XSSFColor setXSSFColor(String rgbS) throws DecoderException{\n        byte[] rgbB = Hex.decodeHex(rgbS);        \n        XSSFColor xssfColor = new XSSFColor(rgbB, null);\n        return xssfColor;\n    }\n    \n    private static HSSFColor setHSSFColor(int r, int g, int b){\n        HSSFPalette palette = ((HSSFWorkbook)workbook).getCustomPalette();\n        HSSFColor hssfColor = null;\n        try {\n            hssfColor= palette.findColor((byte)r, (byte)g, (byte)b); \n            if (hssfColor == null ){\n                palette.setColorAtIndex(IndexedColors.LAVENDER.getIndex(), (byte)r, (byte)g,(byte)b);\n                hssfColor = palette.getColor(IndexedColors.LAVENDER.getIndex());\n            }\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n        return hssfColor;\n    }    \n}\n</code></pre>\n"},{"tags":["java","netbeans","ide"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1649974630,"post_id":71877900,"comment_id":127015946,"body_markdown":"You can hide the graph using the main menu: View &gt; Toolbars &gt; Performance - but that will also hide the additional 2 icons (for profiling) to the right of the memory usage graph. I don&#39;t believe there is any way to _only_ hide the graph. That may or may not be acceptable to you.","body":"You can hide the graph using the main menu: View &gt; Toolbars &gt; Performance - but that will also hide the additional 2 icons (for profiling) to the right of the memory usage graph. I don&#39;t believe there is any way to <i>only</i> hide the graph. That may or may not be acceptable to you."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1649975330,"post_id":71877900,"comment_id":127016068,"body_markdown":"You can also explore creating a custom toolbar using View &gt; Toolbars &gt; Customize. Maybe that allows you to hide the Performance icons (as noted above) and then add back the profiling icons you may still want to see. I have not tried that, myself.","body":"You can also explore creating a custom toolbar using View &gt; Toolbars &gt; Customize. Maybe that allows you to hide the Performance icons (as noted above) and then add back the profiling icons you may still want to see. I have not tried that, myself."},{"owner":{"account_id":3334426,"reputation":57,"user_id":2802450,"accept_rate":50,"display_name":"user2802450"},"score":0,"creation_date":1650010431,"post_id":71877900,"comment_id":127021525,"body_markdown":"Beautiful!  Like removing a splinter. ;)  Thanks a million andrewJames!!","body":"Beautiful!  Like removing a splinter. ;)  Thanks a million andrewJames!!"}],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650023796,"creation_date":1650023796,"answer_id":71883722,"question_id":71877900,"body_markdown":"_Here is my first comment as an answer, since that worked for you, and may help others:_\r\n\r\nYou can hide the graph using the main menu: View &gt; Toolbars &gt; Performance - but that will also hide the additional 2 icons (for profiling) to the right of the memory usage graph. \r\n\r\nI don&#39;t believe there is any way to only hide the graph.","title":"how to remove memory monitor from NetBeans 13 toolbar?","body":"<p><em>Here is my first comment as an answer, since that worked for you, and may help others:</em></p>\n<p>You can hide the graph using the main menu: View &gt; Toolbars &gt; Performance - but that will also hide the additional 2 icons (for profiling) to the right of the memory usage graph.</p>\n<p>I don't believe there is any way to only hide the graph.</p>\n"}],"owner":{"account_id":3334426,"reputation":57,"user_id":2802450,"accept_rate":50,"display_name":"user2802450"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71883722,"answer_count":1,"score":0,"last_activity_date":1650023796,"creation_date":1649972343,"question_id":71877900,"body_markdown":"Is there a way to delete the memory use/garbage collection widget from the toolbar in NetBeans 13?  I don&#39;t know it&#39;s proper name and not finding it under Tools &gt; Options.  The constant updating/noise is driving me nuts.\r\n\r\n[![memory usage widget][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qv2CJ.jpg","title":"how to remove memory monitor from NetBeans 13 toolbar?","body":"<p>Is there a way to delete the memory use/garbage collection widget from the toolbar in NetBeans 13?  I don't know it's proper name and not finding it under Tools &gt; Options.  The constant updating/noise is driving me nuts.</p>\n<p><a href=\"https://i.stack.imgur.com/Qv2CJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qv2CJ.jpg\" alt=\"memory usage widget\" /></a></p>\n"},{"tags":["java","youtube-api","quota","discord-jda"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1649967888,"post_id":71877246,"comment_id":127014354,"body_markdown":"how many times did you try it on the same minute?","body":"how many times did you try it on the same minute?"},{"owner":{"account_id":21886021,"reputation":11,"user_id":16173649,"display_name":"EniXo"},"score":0,"creation_date":1649968097,"post_id":71877246,"comment_id":127014415,"body_markdown":"Only one time, that&#39;s why I find it strange","body":"Only one time, that&#39;s why I find it strange"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1650022223,"post_id":71877246,"comment_id":127024542,"body_markdown":"There are no call logs and the image you are posting from google cloud console is a estimate it is not accurate in any realm of reality.  Nor is it realtime.","body":"There are no call logs and the image you are posting from google cloud console is a estimate it is not accurate in any realm of reality.  Nor is it realtime."},{"owner":{"account_id":21886021,"reputation":11,"user_id":16173649,"display_name":"EniXo"},"score":0,"creation_date":1650042834,"post_id":71877246,"comment_id":127030626,"body_markdown":"@DaImTo Thanks for the response, seems strange that they only provide an estimate tho. I guess I&#39;ll only request each 8h so that I won&#39;t exceed quota :)","body":"@DaImTo Thanks for the response, seems strange that they only provide an estimate tho. I guess I&#39;ll only request each 8h so that I won&#39;t exceed quota :)"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1650116241,"post_id":71877246,"comment_id":127042959,"body_markdown":"Its a free api you get what you pay for.  if you go over the quota you will know you will get a quota exceeded error.","body":"Its a free api you get what you pay for.  if you go over the quota you will know you will get a quota exceeded error."}],"owner":{"account_id":21886021,"reputation":11,"user_id":16173649,"display_name":"EniXo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1650022171,"creation_date":1649967758,"question_id":71877246,"body_markdown":"I&#39;m currently coding a Discord Bot, using Discord-JDA, that&#39;s notices me when my, or friends, Twitch link is used on a YouTube video&#39;s description (Best Of Twitch mainly).\r\n\r\nI&#39;m calling this API route five times (5 Twitch links)\r\n\r\n    https://youtube.googleapis.com/youtube/v3/videos?part=snippet\r\n\r\nBecause of false positive and video description being truncate with the previous call, I have to iterate on each results calling this one, for a total of around 60 vids.\r\n\r\n\r\n    https://youtube.googleapis.com/youtube/v3/search?part=snippet\r\n\r\nAccording to [quota cost caculator](https://developers.google.com/youtube/v3/determine_quota_cost#videos). That should cost me around 5x100 + 60x1 = 560 but I get a cost of 1.000\r\n\r\n\r\n![Quota Screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/60sPR.png\r\n\r\nIs there any known issue or if google provides a way to see calling logs.","title":"Why Youtube API v3 quota is wrong?","body":"<p>I'm currently coding a Discord Bot, using Discord-JDA, that's notices me when my, or friends, Twitch link is used on a YouTube video's description (Best Of Twitch mainly).</p>\n<p>I'm calling this API route five times (5 Twitch links)</p>\n<pre><code>https://youtube.googleapis.com/youtube/v3/videos?part=snippet\n</code></pre>\n<p>Because of false positive and video description being truncate with the previous call, I have to iterate on each results calling this one, for a total of around 60 vids.</p>\n<pre><code>https://youtube.googleapis.com/youtube/v3/search?part=snippet\n</code></pre>\n<p>According to <a href=\"https://developers.google.com/youtube/v3/determine_quota_cost#videos\" rel=\"nofollow noreferrer\">quota cost caculator</a>. That should cost me around 5x100 + 60x1 = 560 but I get a cost of 1.000</p>\n<p><img src=\"https://i.stack.imgur.com/60sPR.png\" alt=\"Quota Screenshot\" /></p>\n<p>Is there any known issue or if google provides a way to see calling logs.</p>\n"},{"tags":["java","spring","spring-boot","spring-jms"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1526848944,"post_id":50437994,"comment_id":87892453,"body_markdown":"? The JMS converter is for JMS messages; that curl command uses HTTP. If that&#39;s what you really mean, you need to show more context.","body":"? The JMS converter is for JMS messages; that curl command uses HTTP. If that&#39;s what you really mean, you need to show more context."},{"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"score":0,"creation_date":1526860396,"post_id":50437994,"comment_id":87895078,"body_markdown":"This was actually a question about Activemq and how to add a property to a message, turns out...","body":"This was actually a question about Activemq and how to add a property to a message, turns out..."},{"owner":{"account_id":1598175,"reputation":556,"user_id":1479785,"accept_rate":71,"display_name":"joe nayyar"},"score":0,"creation_date":1563985336,"post_id":50437994,"comment_id":100884819,"body_markdown":"In your case, it is &quot;com.me.SSMessage&quot; but how do you generally find out what is the value of _type? (I&#39;m not a Java developer so I may not understand if it is a path thing)","body":"In your case, it is &quot;com.me.SSMessage&quot; but how do you generally find out what is the value of _type? (I&#39;m not a Java developer so I may not understand if it is a path thing)"},{"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"score":0,"creation_date":1564065786,"post_id":50437994,"comment_id":100916412,"body_markdown":"It&#39;s the fully-qualified Java class that you want the de-serializer to create from the String. This means the package &amp; class separated by `.`, basically - see here for more: https://docs.oracle.com/javase/tutorial/java/package/usepkgs.html","body":"It&#39;s the fully-qualified Java class that you want the de-serializer to create from the String. This means the package &amp; class separated by <code>.</code>, basically - see here for more: <a href=\"https://docs.oracle.com/javase/tutorial/java/package/usepkgs.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/package/usepkgs.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650021973,"creation_date":1526860301,"answer_id":50440408,"question_id":50437994,"body_markdown":"This is more an Activemq/REST question than Spring:\r\n\r\n`converter.setTypeIdPropertyName(&quot;_type&quot;);`\r\n\r\nThis sets a JMS Message property, it is not a field in the message.  The stuff about message headers is here: https://docs.oracle.com/javaee/7/api/javax/jms/Message.html\r\n\r\nThe trick is how to do this with the Activemq REST interface (and thus CURL).  The answer is to add it as a `GET` parameter on the query:\r\n\r\n    curl -u &#39;un:pw&#39; -H &#39;_type: com.me.SSMessage&#39; \\\r\n    -d &#39;body={&quot;url&quot;: &quot;https://www.google.com&quot;}&#39; \\ \r\n    &quot;http://localhost:8161/api/message/ssg? \\ \r\n    type=queue&amp;clientId=consumerA&amp;_type=com.me.SSMessage&quot;\r\n\r\nEdit: I can&#39;t test it, but I don&#39;t think the `-H &#39;_type: com.me.SSMessage&#39;` is needed above...\r\n","title":"Spring Boot JMS MappingJackson2MessageConverter cannot find `_type` field even though it exists","body":"<p>This is more an Activemq/REST question than Spring:</p>\n<p><code>converter.setTypeIdPropertyName(&quot;_type&quot;);</code></p>\n<p>This sets a JMS Message property, it is not a field in the message.  The stuff about message headers is here: <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Message.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/jms/Message.html</a></p>\n<p>The trick is how to do this with the Activemq REST interface (and thus CURL).  The answer is to add it as a <code>GET</code> parameter on the query:</p>\n<pre><code>curl -u 'un:pw' -H '_type: com.me.SSMessage' \\\n-d 'body={&quot;url&quot;: &quot;https://www.google.com&quot;}' \\ \n&quot;http://localhost:8161/api/message/ssg? \\ \ntype=queue&amp;clientId=consumerA&amp;_type=com.me.SSMessage&quot;\n</code></pre>\n<p>Edit: I can't test it, but I don't think the <code>-H '_type: com.me.SSMessage'</code> is needed above...</p>\n"}],"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3912,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":50440408,"answer_count":1,"score":2,"last_activity_date":1650021973,"creation_date":1526840103,"question_id":50437994,"body_markdown":"I&#39;m using Spring boot to receive JMS message and cURL to send it.\r\n\r\nHere&#39;s the Spring config:\r\n\r\n    @Bean\r\n    public MessageConverter jsonJmsMessageConverter() {\r\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n        converter.setTargetType(MessageType.TEXT);\r\n        converter.setTypeIdPropertyName(&quot;_type&quot;);\r\n        return converter;\r\n    }\r\n\r\nWhen I try to send a message, I get:\r\n\r\n`org.springframework.jms.support.converter.MessageConversionException: Could not find type id property [_type] on message [ID:b5151b422e8a-41371-1526292561432-6:3:1:1:14] from destination [queue://ssg]`\r\n\r\nMy cURL command is:\r\n\r\n`curl -u &#39;un:pw&#39; -H &#39;_type: com.me.SSMessage&#39; -d &#39;body={&quot;_type&quot;: &quot;com.me.SSMessage&quot;, &quot;url&quot;: &quot;https://www.google.com&quot;}&#39; &quot;http://localhost:8161/api/message/ssg?type=queue&amp;clientId=consumerA&quot;`\r\n\r\n`_type` is set, both as a header (I don&#39;t think this is right) and as a field in the JSON.  Why do I get that error from the Spring app?\r\n","title":"Spring Boot JMS MappingJackson2MessageConverter cannot find `_type` field even though it exists","body":"<p>I'm using Spring boot to receive JMS message and cURL to send it.</p>\n\n<p>Here's the Spring config:</p>\n\n<pre><code>@Bean\npublic MessageConverter jsonJmsMessageConverter() {\n    MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n    converter.setTargetType(MessageType.TEXT);\n    converter.setTypeIdPropertyName(\"_type\");\n    return converter;\n}\n</code></pre>\n\n<p>When I try to send a message, I get:</p>\n\n<p><code>org.springframework.jms.support.converter.MessageConversionException: Could not find type id property [_type] on message [ID:b5151b422e8a-41371-1526292561432-6:3:1:1:14] from destination [queue://ssg]</code></p>\n\n<p>My cURL command is:</p>\n\n<p><code>curl -u 'un:pw' -H '_type: com.me.SSMessage' -d 'body={\"_type\": \"com.me.SSMessage\", \"url\": \"https://www.google.com\"}' \"http://localhost:8161/api/message/ssg?type=queue&amp;clientId=consumerA\"</code></p>\n\n<p><code>_type</code> is set, both as a header (I don't think this is right) and as a field in the JSON.  Why do I get that error from the Spring app?</p>\n"},{"tags":["java","multithreading","while-loop","parallel-processing","runnable"],"comments":[{"owner":{"account_id":2900748,"reputation":4538,"user_id":2487517,"accept_rate":57,"display_name":"Tibrogargan"},"score":0,"creation_date":1649966354,"post_id":71876996,"comment_id":127013933,"body_markdown":"Does this answer your question? [Java - creating a new thread](https://stackoverflow.com/questions/17758411/java-creating-a-new-thread)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17758411/java-creating-a-new-thread\">Java - creating a new thread</a>"},{"owner":{"account_id":18660132,"reputation":299,"user_id":13601548,"display_name":"Janitha Nawarathna"},"score":0,"creation_date":1649966669,"post_id":71876996,"comment_id":127014021,"body_markdown":"Thanks for commenting!! I&#39;m also new to threads and I don&#39;t really get how can I come up with a workaround for the mentioned while loop!! @Tibrogargan","body":"Thanks for commenting!! I&#39;m also new to threads and I don&#39;t really get how can I come up with a workaround for the mentioned while loop!! @Tibrogargan"},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1649966745,"post_id":71876996,"comment_id":127014043,"body_markdown":"Even if you&#39;re using a ThreadPoolExecutor, which could parallelize the tasks submitted, you&#39;re just sending a single Runnable implementation. You&#39;re not performing any parallel execution. Maybe what you need is a ForkJoinPool if you could divide the hash generation in subsets. Try to edit your question and provide us with the generateHash() impementation.","body":"Even if you&#39;re using a ThreadPoolExecutor, which could parallelize the tasks submitted, you&#39;re just sending a single Runnable implementation. You&#39;re not performing any parallel execution. Maybe what you need is a ForkJoinPool if you could divide the hash generation in subsets. Try to edit your question and provide us with the generateHash() impementation."},{"owner":{"account_id":2900748,"reputation":4538,"user_id":2487517,"accept_rate":57,"display_name":"Tibrogargan"},"score":0,"creation_date":1649966900,"post_id":71876996,"comment_id":127014077,"body_markdown":"You create a new thread by literally doing `myThread = new Thread ...; myThread.start()` (your code replaces the ellipsis).  So ... create a class that inherits Thread and implement the run method, then just create as many as you want using new thread/start","body":"You create a new thread by literally doing <code>myThread = new Thread ...; myThread.start()</code> (your code replaces the ellipsis).  So ... create a class that inherits Thread and implement the run method, then just create as many as you want using new thread/start"},{"owner":{"account_id":18660132,"reputation":299,"user_id":13601548,"display_name":"Janitha Nawarathna"},"score":0,"creation_date":1649991776,"post_id":71876996,"comment_id":127018378,"body_markdown":"@Tibrogargan, yes I have created a separate class that implements runnable and I have overridden the `run()` method as well!! , and @Dan I have updated the question including the full code!","body":"@Tibrogargan, yes I have created a separate class that implements runnable and I have overridden the <code>run()</code> method as well!! , and @Dan I have updated the question including the full code!"},{"owner":{"account_id":18660132,"reputation":299,"user_id":13601548,"display_name":"Janitha Nawarathna"},"score":0,"creation_date":1650018768,"post_id":71876996,"comment_id":127023657,"body_markdown":"@Dan, here I ve updated the question again with another method that I used!!","body":"@Dan, here I ve updated the question again with another method that I used!!"}],"owner":{"account_id":18660132,"reputation":299,"user_id":13601548,"display_name":"Janitha Nawarathna"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650021682,"creation_date":1649966097,"question_id":71876996,"body_markdown":"I have this while loop in my code,\r\n\r\n    while(!this.hash.substring(0, difficulty).equals(offset)) {\r\n\t\tthis.nonce++;\r\n\t\tthis.hash = this.generateHash();\r\n\t}\r\n\r\nI need to run every iteration of this while loop in a new thread and making the overall task faster!!\r\n\r\nI tried overriding the `run()` method of the `Runnable` interface as follows,\r\n\r\n    @Override\r\n\tpublic void run() {\r\n\t\twhile(!this.hash.substring(0, this.difficulty).equals(this.offset)) {\r\n\t\t    this.nonce++;\r\n\t\t    this.hash = this.generateHash();\r\n\t\t}\r\n    }\r\n\r\nAnd running it like below,\r\n\r\n   \r\n\r\n    ExecutorService es = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\r\n    Runnable c = new Create(this.timestamp, this.transactions, this.previousHash, difficulty, offset)\r\n    es.execute(c);\r\n    es.shutdown();\r\n\r\nBut this does not seem to be working either!!\r\n\r\nIs it possible?\r\n\r\nAny answer would be great!! Thanks in advance!\r\n\r\n**-- EDIT --**\r\n\r\nFollowing is the full code and the while loop is inside the `mineBlock()` method.\r\n\r\n    public class Block {\r\n    \r\n    \tpublic static final String HASH_FN = &quot;SHA-256&quot;;\r\n    \tpublic static final String ENCODING = &quot;UTF-8&quot;;\r\n    \t\r\n    \tprivate Date timestamp;\r\n    \tprivate Transaction transaction;\r\n    \tprivate String previousHash = &quot;&quot;;\r\n    \tprivate String hash;\r\n    \tprivate Integer nonce = 0;  //random number, dynamic part\r\n    \r\n    \tpublic Block(Date timestamp, Transaction transaction) {\r\n    \t\tsuper();\r\n    \t\tthis.timestamp = timestamp;\r\n    \t\tthis.transaction = transaction;\r\n    \t\thash = generateHash();\r\n    \t}\r\n    \r\n    \tpublic String generateHash() {\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//0, 1, 2  --&gt; 000000000adf0991111111...64\r\n    \t\tString base = this.timestamp + this.previousHash + this.nonce + this.transaction.toString();\r\n    \r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tfinal MessageDigest digest = MessageDigest.getInstance(HASH_FN);\r\n    \t\t\tfinal byte[] hash = digest.digest(base.getBytes(ENCODING));\r\n    \t\t\tfinal StringBuilder hexString = new StringBuilder();\r\n    \r\n    \t\t\tfor (int i = 0; i &lt; hash.length; i++) {\r\n    \t\t\t\t\r\n    \t\t\t\tfinal String hex = Integer.toHexString(0xff &amp; hash[i]);\r\n    \t\t\t\t\r\n    \t\t\t\tif (hex.length() == 1) {\r\n    \t\t\t\t\thexString.append(&#39;0&#39;);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\thexString.append(hex);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\treturn hexString.toString();\r\n    \t\t\t\r\n    \t\t} catch (Exception ex) {\r\n    \t\t\tthrow new RuntimeException(&quot;Hash Generation Exception&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t//[TODO]\r\n    \tpublic void mineBlock(int difficulty) {\r\n    \t\t\r\n    \t\tString offset = String.join(&quot;&quot;, Collections.nCopies(difficulty, &quot;0&quot;));  //add leading 0\r\n    \t\t\r\n    \t\twhile(!this.hash.substring(0, difficulty).equals(offset)) {\r\n    \t\t\tthis.nonce++;\r\n    \t\t\tthis.hash = this.generateHash();\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;A block mined!, hash &quot; + this.hash);\r\n    \t}\r\n    \r\n    \tpublic String getPreviousHash() {\r\n    \t\treturn previousHash;\r\n    \t}\r\n    \t\r\n    \tpublic void setPreviousHash(String previousHash) {\r\n    \t\tthis.previousHash = previousHash;\r\n    \t}\r\n    \r\n    \tpublic String getHash() {\r\n    \t\treturn hash;\r\n    \t}\r\n    \t\r\n    \tpublic void setHash(String hash) {\r\n    \t\tthis.hash = hash;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Block [timestamp=&quot; + timestamp + &quot;, transaction=&quot; + transaction + &quot;, previousHash=&quot;\r\n    \t\t\t\t+ previousHash + &quot;, hash=&quot; + hash + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    \tpublic void setFakeAmount(int fakeAmount) {\r\n    \t\tthis.transaction.setAmount(fakeAmount);\r\n    \t}\r\n    \r\n    }\r\n\r\n**-- EDIT 2 --**\r\n\r\nI used the following method since there are sharing resources. But, that method also does not seem to be working!!\r\n\r\n`BlockThread.java`\r\n\r\n    public class BlockThread extends Thread {\r\n    \r\n    \r\n    \tprivate Block block;\r\n    \r\n    \tpublic BlockThread(Block block) {\r\n    \t\tthis.block = block;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tthis.block.countNonce();\r\n    \t\tthis.block.genNewHash();\r\n    \t}\r\n    }\r\n\r\nInside `Block.java`, I added the following methods to update corresponding variables.\r\n\r\n    public synchronized void countNonce() {\r\n    \tthis.nonce++;\r\n    }\r\n    \r\n    public synchronized void genNewHash() {\r\n    \tthis.hash = this.generateHash();\r\n    }\r\n\r\nFinally, I ran it like this (I took the `mineBlock()` method into another class where the `blk` is initialized with a `new Block(...)`, and ran it from there. The non-parallel way works as expected in this design also.),\r\n\r\n    while(!blk.hash.substring(0, difficulty).equals(offset)) {\r\n    \tCreate create = new Create(blk);\r\n    \tcreate.start();\r\n    }\r\n\r\nWhen I&#39;m viewing, `nonce` seems to be getting updated parallelly. But, the overall method does not work in multiple threads as expected!!\r\n\r\nIt would be great if anyone could help!!","title":"How to run each iteration in a new thread of a while loop Java","body":"<p>I have this while loop in my code,</p>\n<pre><code>while(!this.hash.substring(0, difficulty).equals(offset)) {\n    this.nonce++;\n    this.hash = this.generateHash();\n}\n</code></pre>\n<p>I need to run every iteration of this while loop in a new thread and making the overall task faster!!</p>\n<p>I tried overriding the <code>run()</code> method of the <code>Runnable</code> interface as follows,</p>\n<pre><code>@Override\npublic void run() {\n    while(!this.hash.substring(0, this.difficulty).equals(this.offset)) {\n        this.nonce++;\n        this.hash = this.generateHash();\n    }\n}\n</code></pre>\n<p>And running it like below,</p>\n<pre><code>ExecutorService es = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\nRunnable c = new Create(this.timestamp, this.transactions, this.previousHash, difficulty, offset)\nes.execute(c);\nes.shutdown();\n</code></pre>\n<p>But this does not seem to be working either!!</p>\n<p>Is it possible?</p>\n<p>Any answer would be great!! Thanks in advance!</p>\n<p><strong>-- EDIT --</strong></p>\n<p>Following is the full code and the while loop is inside the <code>mineBlock()</code> method.</p>\n<pre><code>public class Block {\n\n    public static final String HASH_FN = &quot;SHA-256&quot;;\n    public static final String ENCODING = &quot;UTF-8&quot;;\n    \n    private Date timestamp;\n    private Transaction transaction;\n    private String previousHash = &quot;&quot;;\n    private String hash;\n    private Integer nonce = 0;  //random number, dynamic part\n\n    public Block(Date timestamp, Transaction transaction) {\n        super();\n        this.timestamp = timestamp;\n        this.transaction = transaction;\n        hash = generateHash();\n    }\n\n    public String generateHash() {\n                                                            //0, 1, 2  --&gt; 000000000adf0991111111...64\n        String base = this.timestamp + this.previousHash + this.nonce + this.transaction.toString();\n\n        try {\n            \n            final MessageDigest digest = MessageDigest.getInstance(HASH_FN);\n            final byte[] hash = digest.digest(base.getBytes(ENCODING));\n            final StringBuilder hexString = new StringBuilder();\n\n            for (int i = 0; i &lt; hash.length; i++) {\n                \n                final String hex = Integer.toHexString(0xff &amp; hash[i]);\n                \n                if (hex.length() == 1) {\n                    hexString.append('0');\n                }\n                \n                hexString.append(hex);\n            }\n            \n            return hexString.toString();\n            \n        } catch (Exception ex) {\n            throw new RuntimeException(&quot;Hash Generation Exception&quot;);\n        }\n    }\n    \n    //[TODO]\n    public void mineBlock(int difficulty) {\n        \n        String offset = String.join(&quot;&quot;, Collections.nCopies(difficulty, &quot;0&quot;));  //add leading 0\n        \n        while(!this.hash.substring(0, difficulty).equals(offset)) {\n            this.nonce++;\n            this.hash = this.generateHash();\n        }\n        \n        System.out.println(&quot;A block mined!, hash &quot; + this.hash);\n    }\n\n    public String getPreviousHash() {\n        return previousHash;\n    }\n    \n    public void setPreviousHash(String previousHash) {\n        this.previousHash = previousHash;\n    }\n\n    public String getHash() {\n        return hash;\n    }\n    \n    public void setHash(String hash) {\n        this.hash = hash;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Block [timestamp=&quot; + timestamp + &quot;, transaction=&quot; + transaction + &quot;, previousHash=&quot;\n                + previousHash + &quot;, hash=&quot; + hash + &quot;]&quot;;\n    }\n    \n    public void setFakeAmount(int fakeAmount) {\n        this.transaction.setAmount(fakeAmount);\n    }\n\n}\n</code></pre>\n<p><strong>-- EDIT 2 --</strong></p>\n<p>I used the following method since there are sharing resources. But, that method also does not seem to be working!!</p>\n<p><code>BlockThread.java</code></p>\n<pre><code>public class BlockThread extends Thread {\n\n\n    private Block block;\n\n    public BlockThread(Block block) {\n        this.block = block;\n    }\n\n    @Override\n    public void run() {\n        this.block.countNonce();\n        this.block.genNewHash();\n    }\n}\n</code></pre>\n<p>Inside <code>Block.java</code>, I added the following methods to update corresponding variables.</p>\n<pre><code>public synchronized void countNonce() {\n    this.nonce++;\n}\n\npublic synchronized void genNewHash() {\n    this.hash = this.generateHash();\n}\n</code></pre>\n<p>Finally, I ran it like this (I took the <code>mineBlock()</code> method into another class where the <code>blk</code> is initialized with a <code>new Block(...)</code>, and ran it from there. The non-parallel way works as expected in this design also.),</p>\n<pre><code>while(!blk.hash.substring(0, difficulty).equals(offset)) {\n    Create create = new Create(blk);\n    create.start();\n}\n</code></pre>\n<p>When I'm viewing, <code>nonce</code> seems to be getting updated parallelly. But, the overall method does not work in multiple threads as expected!!</p>\n<p>It would be great if anyone could help!!</p>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1650021829,"post_id":71882061,"comment_id":127024439,"body_markdown":"You&#39;re in a tight loop., which can apparently execute many times within the granularity of currentTimeMillis (which is probably ~10mS).  10mS is at least several tens of millions of instructions.","body":"You&#39;re in a tight loop., which can apparently execute many times within the granularity of currentTimeMillis (which is probably ~10mS).  10mS is at least several tens of millions of instructions."}],"answers":[{"tags":[],"owner":{"account_id":15974270,"reputation":177,"user_id":11527575,"display_name":"Francesco Rogo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650014598,"creation_date":1650014598,"answer_id":71882259,"question_id":71882061,"body_markdown":"currentTimeSecLocal should change every second, and it does\r\n\r\ni runned this code:\r\n\r\n```\r\n  public static void main(String[] args) throws Exception {\r\n\r\n        long lastTimeSecLocal = System.currentTimeMillis() / 1000;\r\n        long timeWindowSec = 10;\r\n\r\n        log.info(&quot;==== MAIN: before_supplyAsync(), lastTimeSecLocal = {}, timeWindowSec = {}&quot;,\r\n                lastTimeSecLocal, timeWindowSec);\r\n        CompletableFuture&lt;Boolean&gt; completableFuture = CompletableFuture.supplyAsync(() -&gt; {\r\n            long durationSecLocal = 0L;\r\n            while (durationSecLocal &lt; timeWindowSec) {\r\n                long currentTimeSecLocal = System.currentTimeMillis() / 1000;\r\n                durationSecLocal = currentTimeSecLocal - lastTimeSecLocal;\r\n                log.info(\r\n                        &quot;\\n\\t\\t&gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = {}, lastTimeSecLocal = {}, durationSecLocal = {}&quot;,\r\n                        currentTimeSecLocal, lastTimeSecLocal, durationSecLocal);\r\n            }\r\n            return true;\r\n        });\r\n        \r\n        completableFuture.get();\r\n    }\r\n```\r\n\r\nand the log is:\r\n\r\n```\r\n[cut]\r\n11:16:37.999 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \r\n\t\t&gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014197, lastTimeSecLocal = 1650014188, durationSecLocal = 9\r\n11:16:37.999 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \r\n\t\t&gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014197, lastTimeSecLocal = 1650014188, durationSecLocal = 9\r\n11:16:37.999 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \r\n\t\t&gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014197, lastTimeSecLocal = 1650014188, durationSecLocal = 9\r\n11:16:37.999 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \r\n\t\t&gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014197, lastTimeSecLocal = 1650014188, durationSecLocal = 9\r\n11:16:37.999 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \r\n\t\t&gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014197, lastTimeSecLocal = 1650014188, durationSecLocal = 9\r\n11:16:37.999 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \r\n\t\t&gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014197, lastTimeSecLocal = 1650014188, durationSecLocal = 9\r\n11:16:37.999 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \r\n\t\t&gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014197, lastTimeSecLocal = 1650014188, durationSecLocal = 9\r\n11:16:37.999 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \r\n\t\t&gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014197, lastTimeSecLocal = 1650014188, durationSecLocal = 9\r\n11:16:38.000 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \r\n\t\t&gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014198, lastTimeSecLocal = 1650014188, durationSecLocal = 10\r\n```","title":"Not change current time in CompletableFuture.supplyAsync","body":"<p>currentTimeSecLocal should change every second, and it does</p>\n<p>i runned this code:</p>\n<pre><code>  public static void main(String[] args) throws Exception {\n\n        long lastTimeSecLocal = System.currentTimeMillis() / 1000;\n        long timeWindowSec = 10;\n\n        log.info(&quot;==== MAIN: before_supplyAsync(), lastTimeSecLocal = {}, timeWindowSec = {}&quot;,\n                lastTimeSecLocal, timeWindowSec);\n        CompletableFuture&lt;Boolean&gt; completableFuture = CompletableFuture.supplyAsync(() -&gt; {\n            long durationSecLocal = 0L;\n            while (durationSecLocal &lt; timeWindowSec) {\n                long currentTimeSecLocal = System.currentTimeMillis() / 1000;\n                durationSecLocal = currentTimeSecLocal - lastTimeSecLocal;\n                log.info(\n                        &quot;\\n\\t\\t&gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = {}, lastTimeSecLocal = {}, durationSecLocal = {}&quot;,\n                        currentTimeSecLocal, lastTimeSecLocal, durationSecLocal);\n            }\n            return true;\n        });\n        \n        completableFuture.get();\n    }\n</code></pre>\n<p>and the log is:</p>\n<pre><code>[cut]\n11:16:37.999 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \n        &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014197, lastTimeSecLocal = 1650014188, durationSecLocal = 9\n11:16:37.999 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \n        &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014197, lastTimeSecLocal = 1650014188, durationSecLocal = 9\n11:16:37.999 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \n        &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014197, lastTimeSecLocal = 1650014188, durationSecLocal = 9\n11:16:37.999 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \n        &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014197, lastTimeSecLocal = 1650014188, durationSecLocal = 9\n11:16:37.999 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \n        &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014197, lastTimeSecLocal = 1650014188, durationSecLocal = 9\n11:16:37.999 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \n        &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014197, lastTimeSecLocal = 1650014188, durationSecLocal = 9\n11:16:37.999 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \n        &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014197, lastTimeSecLocal = 1650014188, durationSecLocal = 9\n11:16:37.999 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \n        &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014197, lastTimeSecLocal = 1650014188, durationSecLocal = 9\n11:16:38.000 [ForkJoinPool.commonPool-worker-19] INFO it.caensys.radbase.configuration.SecurityConfiguration - \n        &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650014198, lastTimeSecLocal = 1650014188, durationSecLocal = 10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650021478,"creation_date":1650021478,"answer_id":71883361,"question_id":71882061,"body_markdown":"This help (I don&#39;t understand why)\r\n\r\n        LOGGER.info(&quot;==== MAIN: before_supplyAsync(), lastTimeSecLocal = {}, timeWindowSec = {}&quot;,\r\n                                        lastTimeSecLocal, timeWindowSec);\r\n        CompletableFuture&lt;Boolean&gt; completableFuture = CompletableFuture.supplyAsync(() -&gt; {\r\n            long durationSecLocal = 0L;\r\n            while (durationSecLocal &lt; timeWindowSec) {\r\n                long currentTimeSecLocal = System.currentTimeMillis() / 1000;\r\n                durationSecLocal = currentTimeSecLocal - lastTimeSecLocal;\r\n                LOGGER.info(\r\n                            &quot;\\n\\t\\t&gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = {}, lastTimeSecLocal = {}, durationSecLocal = {}&quot;,\r\n                currentTimeSecLocal, lastTimeSecLocal, durationSecLocal);\r\n                    try {\r\n        \t\t\t\t\tThread.sleep(timeWindowSec * 100L);\r\n        \t\t \t} catch (InterruptedException e) {\r\n        \t\t\t\tThread.currentThread().interrupt();\r\n        \t\t\t\tbreak;\r\n        \t\t\t}\r\n        }\r\n            return true;\r\n    }); // end supplyAsync","title":"Not change current time in CompletableFuture.supplyAsync","body":"<p>This help (I don't understand why)</p>\n<pre><code>    LOGGER.info(&quot;==== MAIN: before_supplyAsync(), lastTimeSecLocal = {}, timeWindowSec = {}&quot;,\n                                    lastTimeSecLocal, timeWindowSec);\n    CompletableFuture&lt;Boolean&gt; completableFuture = CompletableFuture.supplyAsync(() -&gt; {\n        long durationSecLocal = 0L;\n        while (durationSecLocal &lt; timeWindowSec) {\n            long currentTimeSecLocal = System.currentTimeMillis() / 1000;\n            durationSecLocal = currentTimeSecLocal - lastTimeSecLocal;\n            LOGGER.info(\n                        &quot;\\n\\t\\t&gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = {}, lastTimeSecLocal = {}, durationSecLocal = {}&quot;,\n            currentTimeSecLocal, lastTimeSecLocal, durationSecLocal);\n                try {\n                        Thread.sleep(timeWindowSec * 100L);\n                } catch (InterruptedException e) {\n                    Thread.currentThread().interrupt();\n                    break;\n                }\n    }\n        return true;\n}); // end supplyAsync\n</code></pre>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650021478,"creation_date":1650013367,"question_id":71882061,"body_markdown":"Here snippet (java 8)\r\n\r\n    LOGGER.info(&quot;==== MAIN: before_supplyAsync(), lastTimeSecLocal = {}, timeWindowSec = {}&quot;,\r\n    \t\t\t\t\t\t\t\tlastTimeSecLocal, timeWindowSec);\r\n\tCompletableFuture&lt;Boolean&gt; completableFuture = CompletableFuture.supplyAsync(() -&gt; {\r\n   \t\tlong durationSecLocal = 0L;\r\n   \t\twhile (durationSecLocal &lt; timeWindowSec) {\r\n \t\t\tlong currentTimeSecLocal = System.currentTimeMillis() / 1000;\r\n   \t\t\tdurationSecLocal = currentTimeSecLocal - lastTimeSecLocal;\r\n   \t\t\tLOGGER.info(\r\n   \t\t\t\t\t\t&quot;\\n\\t\\t&gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = {}, lastTimeSecLocal = {}, durationSecLocal = {}&quot;,\r\n    \t\tcurrentTimeSecLocal, lastTimeSecLocal, durationSecLocal);\r\n    \t}\r\n    \t\treturn true;\r\n    }); // end supplyAsync\r\n\r\n\r\nAnd here logs:\r\n\r\n    2022-04-15 11:59:41.179 INFO  [MyClass:http-nio-172.19.5.163-8091-exec-9] ==== MAIN: before_supplyAsync(), lastTimeSecLocal = 1650013181, timeWindowSec = 15\r\n    2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \r\n                    &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\r\n    2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \r\n                    &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\r\n    2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \r\n                    &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\r\n    2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \r\n                    &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\r\n    2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \r\n                    &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\r\n    2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \r\n                    &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\r\n    2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \r\n                    &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\r\n    2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \r\n                    &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\r\n    2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \r\n                    &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\r\n    2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \r\n                    &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\r\n    2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \r\n                    &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\r\n    2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \r\n                    &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\r\n    2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \r\n                    &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\r\n    2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \r\n                    &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\r\n    2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \r\n                    &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\r\n\r\nWhy **currentTimeSecLocal** not changed?","title":"Not change current time in CompletableFuture.supplyAsync","body":"<p>Here snippet (java 8)</p>\n<pre><code>LOGGER.info(&quot;==== MAIN: before_supplyAsync(), lastTimeSecLocal = {}, timeWindowSec = {}&quot;,\n                                lastTimeSecLocal, timeWindowSec);\nCompletableFuture&lt;Boolean&gt; completableFuture = CompletableFuture.supplyAsync(() -&gt; {\n    long durationSecLocal = 0L;\n    while (durationSecLocal &lt; timeWindowSec) {\n        long currentTimeSecLocal = System.currentTimeMillis() / 1000;\n        durationSecLocal = currentTimeSecLocal - lastTimeSecLocal;\n        LOGGER.info(\n                    &quot;\\n\\t\\t&gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = {}, lastTimeSecLocal = {}, durationSecLocal = {}&quot;,\n        currentTimeSecLocal, lastTimeSecLocal, durationSecLocal);\n    }\n        return true;\n}); // end supplyAsync\n</code></pre>\n<p>And here logs:</p>\n<pre><code>2022-04-15 11:59:41.179 INFO  [MyClass:http-nio-172.19.5.163-8091-exec-9] ==== MAIN: before_supplyAsync(), lastTimeSecLocal = 1650013181, timeWindowSec = 15\n2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \n                &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\n2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \n                &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\n2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \n                &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\n2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \n                &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\n2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \n                &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\n2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \n                &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\n2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \n                &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\n2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \n                &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\n2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \n                &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\n2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \n                &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\n2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \n                &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\n2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \n                &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\n2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \n                &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\n2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \n                &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\n2022-04-15 11:59:41.183 INFO  [MyClass:ForkJoinPool.commonPool-worker-9] \n                &gt;&gt;&gt;&gt;&gt;&gt; supplyAsync: currentTimeSecLocal = 1650013181, lastTimeSecLocal = 1650013181, durationSecLocal = 0\n</code></pre>\n<p>Why <strong>currentTimeSecLocal</strong> not changed?</p>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1650023750,"post_id":71883335,"comment_id":127024926,"body_markdown":"What exactly is a problem with that? Endpoint configuration, getting the actual file, etc...?","body":"What exactly is a problem with that? Endpoint configuration, getting the actual file, etc...?"},{"owner":{"account_id":2653428,"reputation":849,"user_id":2294594,"accept_rate":43,"display_name":"mn0102"},"score":0,"creation_date":1650258271,"post_id":71883335,"comment_id":127066105,"body_markdown":"actually the issue is i have a logging zip file present in my directory. so on the api call i have to return that file in the response, i checked other answers for this query it gives creating new zip file and sending it but for me i already have zip, all i need to do is send it","body":"actually the issue is i have a logging zip file present in my directory. so on the api call i have to return that file in the response, i checked other answers for this query it gives creating new zip file and sending it but for me i already have zip, all i need to do is send it"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1650350806,"post_id":71883335,"comment_id":127087487,"body_markdown":"you just need to return a file for request so pretty basic stuff. look at it here https://www.baeldung.com/spring-controller-return-image-file it should work for every file","body":"you just need to return a file for request so pretty basic stuff. look at it here <a href=\"https://www.baeldung.com/spring-controller-return-image-file\" rel=\"nofollow noreferrer\">baeldung.com/spring-controller-return-image-file</a> it should work for every file"},{"owner":{"account_id":2653428,"reputation":849,"user_id":2294594,"accept_rate":43,"display_name":"mn0102"},"score":0,"creation_date":1650357071,"post_id":71883335,"comment_id":127089369,"body_markdown":"got it working, thank you...","body":"got it working, thank you..."}],"owner":{"account_id":2653428,"reputation":849,"user_id":2294594,"accept_rate":43,"display_name":"mn0102"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650021338,"creation_date":1650021338,"question_id":71883335,"body_markdown":"I have a list of zip files in a directory and I want to send a zip file as per the file name received in the request, in the response, how can we do it.\r\nZip file is already present inside directory, just need to send in response","title":"How to send zip file in a response to UI client","body":"<p>I have a list of zip files in a directory and I want to send a zip file as per the file name received in the request, in the response, how can we do it.\nZip file is already present inside directory, just need to send in response</p>\n"},{"tags":["java","spring-boot","spring-security","spring-webflux"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":3,"creation_date":1626512297,"post_id":68417140,"comment_id":120916751,"body_markdown":"It is an in-memory implementation of a `ReactiveUserDetailsService`.","body":"It is an in-memory implementation of a <code>ReactiveUserDetailsService</code>."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1626527513,"post_id":68417140,"comment_id":120920026,"body_markdown":"and to add to that comment, here is the source code https://github.com/spring-projects/spring-security/blob/a4431264e61e01954fdfcb2646942028f2489e65/core/src/main/java/org/springframework/security/core/userdetails/MapReactiveUserDetailsService.java#L34 its basically a just a Map that holds users in memory","body":"and to add to that comment, here is the source code <a href=\"https://github.com/spring-projects/spring-security/blob/a4431264e61e01954fdfcb2646942028f2489e65/core/src/main/java/org/springframework/security/core/userdetails/MapReactiveUserDetailsService.java#L34\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/blob/&hellip;</a> its basically a just a Map that holds users in memory"}],"answers":[{"tags":[],"owner":{"account_id":13632899,"reputation":2116,"user_id":9834603,"display_name":"Dmitry Kaltovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650021318,"creation_date":1650021318,"answer_id":71883331,"question_id":68417140,"body_markdown":"It creates a default `in-memory` user. That allows you to test your security. For production goals please change it to such example (kotlin):\r\n\r\n```kotlin\r\n@Service\r\nclass UserService(private val customerService: CustomerService) : ReactiveUserDetailsService {\r\n\r\n    override fun findByUsername(username: String?): Mono&lt;UserDetails&gt; = mono {\r\n        val customer: Customer = customerService.findByEmail(username!!)\r\n            ?: throw BadCredentialsException(&quot;Invalid Credentials&quot;)\r\n\r\n        val authorities: List&lt;GrantedAuthority&gt; = listOf(customer)\r\n\r\n        org.springframework.security.core.userdetails.User(\r\n            customer.email,\r\n            customer.password,\r\n            authorities\r\n        )\r\n    }\r\n}\r\n```","title":"What Does MapReactiveUserDetailsService Do in Spring Webflux Security Authentication?","body":"<p>It creates a default <code>in-memory</code> user. That allows you to test your security. For production goals please change it to such example (kotlin):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Service\nclass UserService(private val customerService: CustomerService) : ReactiveUserDetailsService {\n\n    override fun findByUsername(username: String?): Mono&lt;UserDetails&gt; = mono {\n        val customer: Customer = customerService.findByEmail(username!!)\n            ?: throw BadCredentialsException(&quot;Invalid Credentials&quot;)\n\n        val authorities: List&lt;GrantedAuthority&gt; = listOf(customer)\n\n        org.springframework.security.core.userdetails.User(\n            customer.email,\n            customer.password,\n            authorities\n        )\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17544601,"reputation":982,"user_id":12726150,"display_name":"fahmiduldul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1565,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1650021318,"creation_date":1626492228,"question_id":68417140,"body_markdown":"I&#39;m trying to implement Spring Security authentication on Spring WebFlux app. I have implemented Spring Security authentication on Spring Web before.\r\n\r\nWhen I read articles on how to implement it, I saw `MapReactiveUserDetailsService` bean but there is no explanation about this bean usage. I read the article from [here][1] and [here][2].\r\n\r\nthe bean looks like this:\r\n```\r\n@Bean\r\npublic MapReactiveUserDetailsService userDetailsService() {\r\n    UserDetails user = User\r\n      .withUsername(&quot;user&quot;)\r\n      .password(passwordEncoder().encode(&quot;password&quot;))\r\n      .roles(&quot;USER&quot;)\r\n      .build();\r\n    return new MapReactiveUserDetailsService(user);\r\n}\r\n```\r\n\r\nis there anyone know what it does?\r\n\r\n\r\n  [1]: https://dzone.com/articles/reactive-spring-security-for-webflux-rest-web-serv\r\n  [2]: https://www.baeldung.com/spring-security-5-reactive","title":"What Does MapReactiveUserDetailsService Do in Spring Webflux Security Authentication?","body":"<p>I'm trying to implement Spring Security authentication on Spring WebFlux app. I have implemented Spring Security authentication on Spring Web before.</p>\n<p>When I read articles on how to implement it, I saw <code>MapReactiveUserDetailsService</code> bean but there is no explanation about this bean usage. I read the article from <a href=\"https://dzone.com/articles/reactive-spring-security-for-webflux-rest-web-serv\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.baeldung.com/spring-security-5-reactive\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>the bean looks like this:</p>\n<pre><code>@Bean\npublic MapReactiveUserDetailsService userDetailsService() {\n    UserDetails user = User\n      .withUsername(&quot;user&quot;)\n      .password(passwordEncoder().encode(&quot;password&quot;))\n      .roles(&quot;USER&quot;)\n      .build();\n    return new MapReactiveUserDetailsService(user);\n}\n</code></pre>\n<p>is there anyone know what it does?</p>\n"},{"tags":["java","file","passwords","ioexception","filewriter"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1650018257,"post_id":71882755,"comment_id":127023510,"body_markdown":"You&#39;d have a better chance of getting help if you specified which errors you&#39;re getting. One obvious thing I see in your code that&#39;s wrong is how you compare strings, that&#39;s not gonna work the way you expect, you should be using `.equals()` instead of `==`.","body":"You&#39;d have a better chance of getting help if you specified which errors you&#39;re getting. One obvious thing I see in your code that&#39;s wrong is how you compare strings, that&#39;s not gonna work the way you expect, you should be using <code>.equals()</code> instead of <code>==</code>."}],"answers":[{"tags":[],"owner":{"account_id":24342544,"reputation":39,"user_id":18279733,"display_name":"anonimos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650020598,"creation_date":1650020598,"answer_id":71883224,"question_id":71882755,"body_markdown":"Few things I see wrong:\r\n - you have to import the File class:import java.io.File;\r\n - new FileWriter(...) throws IOException so you have to: add a catch clause, surround with try/catch or add throws IOException to main method. This will fix also the declaration of ```new Scanner(f)```;\r\n - you are missing an } to close so this is why you have the problem with &quot;else&quot; function\r\n - also, when you declare the n variable inside the method, you have to initialize it.\r\n- the code can be refactored but let&#39;s focus first on solving the errors\r\n","title":"errors in java code, i don&#39;t undersatnd why","body":"<p>Few things I see wrong:</p>\n<ul>\n<li>you have to import the File class:import java.io.File;</li>\n<li>new FileWriter(...) throws IOException so you have to: add a catch clause, surround with try/catch or add throws IOException to main method. This will fix also the declaration of <code>new Scanner(f)</code>;</li>\n<li>you are missing an } to close so this is why you have the problem with &quot;else&quot; function</li>\n<li>also, when you declare the n variable inside the method, you have to initialize it.</li>\n<li>the code can be refactored but let's focus first on solving the errors</li>\n</ul>\n"}],"owner":{"account_id":23525309,"reputation":1,"user_id":17571938,"display_name":"danto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1650055802,"answer_count":1,"score":0,"last_activity_date":1650020598,"creation_date":1650017485,"question_id":71882755,"body_markdown":"i have 4 errors in this code and i don&#39;t understand why...\r\ni am trying to do something like enter the password and only if it is right you can proceed, then i decided to also put that you can decide to change it and then the password is saved in another file called pass.txt, so this script mainly works with files, but that doesn&#39;t matter, what I don&#39;t understand is why the compiler tells me there are errors in lines 49, 63, 20 68, try to run it yourself and see if you understand something.\r\nthank you :)\r\n```import java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.util.Scanner;\r\npublic class Passwd {\r\n        public static void print(String str) {System.out.println(str);}\r\n        public static void lps(int x) {\r\n                print(&quot;wrong password&quot;);\r\n                if(x &gt;= 5) {print(&quot;last att \\n Bye&quot;);}\r\n        }\r\n        public static boolean ask(String a, String b) {\r\n                if(a == b) {\r\n                        return true;\r\n                } else {\r\n                        return false;\r\n                }\r\n        }\r\n        public static void main(String[] args) {\r\n                Scanner input = new Scanner(System.in);\r\n                try {\r\n                        IOException e = new IOException();\r\n                        File f = new File(&quot;pass.txt&quot;);\r\n                        FileWriter w = new FileWriter(&quot;pass.txt&quot;);\r\n                        Scanner ogg = new Scanner(f);\r\n                        print(&quot;change password(0) / get access(1): &quot;);\r\n                        int ans = input.nextInt(), n;\r\n                        String pass = ogg.nextLine();\r\n                        if(ans == 0) {\r\n                                while(n &lt;= 5) {\r\n                                        print(&quot;password (old): &quot;);\r\n                                        String p1 = input.nextLine();\r\n                                        if(ask(pass, p1)) {\r\n                                               print(&quot;new password: &quot;);\r\n                                               String p2 = input.nextLine(), p3 = p2+&quot;aldbd&quot;;\r\n                                               while(p2 != p3) {\r\n                                                      print(&quot;retype new password: &quot;);\r\n                                                      p3 = input.nextLine();\r\n                                                      if(p2 != p3) {print(&quot;the passwords are differents&quot;);}\r\n                                               }\r\n                                               w.write(p2);\r\n                                               w.close();\r\n                                               ogg.close();\r\n                                               print(&quot;password changed&quot;);\r\n                                               break;\r\n                                        } else {\r\n                                               n++;\r\n                                               lps(n);\r\n                                        }\r\n                        } else {\r\n                                while(n &lt;= 5) {\r\n                                        print(&quot;old password: &quot;);\r\n                                        String p4 = input.nextLine();\r\n                                        if(ask(pass, p4)) {\r\n                                                print(&quot;access garanted&quot;);\r\n                                        } else {\r\n                                                n++;\r\n                                                lps(n);\r\n                                        }\r\n                                }\r\n                                w.close();\r\n                                ogg.close();\r\n                        }\r\n                } catch(IOException e) {\r\n                        print(&quot;error&quot;);\r\n                        e.printStackTrace();\r\n                }\r\n        }\r\n}```","title":"errors in java code, i don&#39;t undersatnd why","body":"<p>i have 4 errors in this code and i don't understand why...\ni am trying to do something like enter the password and only if it is right you can proceed, then i decided to also put that you can decide to change it and then the password is saved in another file called pass.txt, so this script mainly works with files, but that doesn't matter, what I don't understand is why the compiler tells me there are errors in lines 49, 63, 20 68, try to run it yourself and see if you understand something.\nthank you :)</p>\n<pre><code>import java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.Scanner;\npublic class Passwd {\n        public static void print(String str) {System.out.println(str);}\n        public static void lps(int x) {\n                print(&quot;wrong password&quot;);\n                if(x &gt;= 5) {print(&quot;last att \\n Bye&quot;);}\n        }\n        public static boolean ask(String a, String b) {\n                if(a == b) {\n                        return true;\n                } else {\n                        return false;\n                }\n        }\n        public static void main(String[] args) {\n                Scanner input = new Scanner(System.in);\n                try {\n                        IOException e = new IOException();\n                        File f = new File(&quot;pass.txt&quot;);\n                        FileWriter w = new FileWriter(&quot;pass.txt&quot;);\n                        Scanner ogg = new Scanner(f);\n                        print(&quot;change password(0) / get access(1): &quot;);\n                        int ans = input.nextInt(), n;\n                        String pass = ogg.nextLine();\n                        if(ans == 0) {\n                                while(n &lt;= 5) {\n                                        print(&quot;password (old): &quot;);\n                                        String p1 = input.nextLine();\n                                        if(ask(pass, p1)) {\n                                               print(&quot;new password: &quot;);\n                                               String p2 = input.nextLine(), p3 = p2+&quot;aldbd&quot;;\n                                               while(p2 != p3) {\n                                                      print(&quot;retype new password: &quot;);\n                                                      p3 = input.nextLine();\n                                                      if(p2 != p3) {print(&quot;the passwords are differents&quot;);}\n                                               }\n                                               w.write(p2);\n                                               w.close();\n                                               ogg.close();\n                                               print(&quot;password changed&quot;);\n                                               break;\n                                        } else {\n                                               n++;\n                                               lps(n);\n                                        }\n                        } else {\n                                while(n &lt;= 5) {\n                                        print(&quot;old password: &quot;);\n                                        String p4 = input.nextLine();\n                                        if(ask(pass, p4)) {\n                                                print(&quot;access garanted&quot;);\n                                        } else {\n                                                n++;\n                                                lps(n);\n                                        }\n                                }\n                                w.close();\n                                ogg.close();\n                        }\n                } catch(IOException e) {\n                        print(&quot;error&quot;);\n                        e.printStackTrace();\n                }\n        }\n}```\n</code></pre>\n"},{"tags":["java","spring-batch"],"comments":[{"owner":{"account_id":12797889,"reputation":1500,"user_id":9260161,"display_name":"Philip Wrage"},"score":0,"creation_date":1585001759,"post_id":60822084,"comment_id":107610888,"body_markdown":"Have you tried moving `test/resources/application-local-test.yml` to `main/resources/application-local-test.yml`?","body":"Have you tried moving <code>test&#47;resources&#47;application-local-test.yml</code> to <code>main&#47;resources&#47;application-local-test.yml</code>?"},{"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"score":0,"creation_date":1585003849,"post_id":60822084,"comment_id":107611511,"body_markdown":"That does not fix it- thank you for the suggestion though.","body":"That does not fix it- thank you for the suggestion though."},{"owner":{"account_id":12797889,"reputation":1500,"user_id":9260161,"display_name":"Philip Wrage"},"score":0,"creation_date":1585004325,"post_id":60822084,"comment_id":107611664,"body_markdown":"Is there a reason you&#39;re setting `spring.profiles.active` in `test/resources/application-local-test.yml`?  Do you have another `test` profile that you are using with `local-test`?","body":"Is there a reason you&#39;re setting <code>spring.profiles.active</code> in <code>test&#47;resources&#47;application-local-test.yml</code>?  Do you have another <code>test</code> profile that you are using with <code>local-test</code>?"},{"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"score":0,"creation_date":1585070460,"post_id":60822084,"comment_id":107634883,"body_markdown":"no- just an unfortunate habit of copy and paste from other projects. Removing it does not fix the issue","body":"no- just an unfortunate habit of copy and paste from other projects. Removing it does not fix the issue"},{"owner":{"account_id":12797889,"reputation":1500,"user_id":9260161,"display_name":"Philip Wrage"},"score":0,"creation_date":1585071605,"post_id":60822084,"comment_id":107635434,"body_markdown":"Which version of spring boot are you using?","body":"Which version of spring boot are you using?"}],"answers":[{"tags":[],"owner":{"account_id":2415806,"reputation":1373,"user_id":2109840,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650020069,"creation_date":1650020069,"answer_id":71883138,"question_id":60822084,"body_markdown":"I ran into the same situation that I cannot load the application.yaml while using `@SpringBatchTest` to write an integration test.\r\n\r\nI ended up adding **`@SpringBootTest`** to solve the problem. \r\n\r\nAccording to the [document][1], @SpringBatchTest register beans like JobLauncherTestUtils, JobRepositoryTestUtils...etc for the test.\r\n\r\nHowever if we want to enable spring boot functionalities like loading application properties, adding @SpringBootTest seems to be a way. ([document][2])\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/test/context/SpringBatchTest.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html","title":"How do I get a SpringBatch Integration test to load my application properties?","body":"<p>I ran into the same situation that I cannot load the application.yaml while using <code>@SpringBatchTest</code> to write an integration test.</p>\n<p>I ended up adding <strong><code>@SpringBootTest</code></strong> to solve the problem.</p>\n<p>According to the <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/test/context/SpringBatchTest.html\" rel=\"nofollow noreferrer\">document</a>, @SpringBatchTest register beans like JobLauncherTestUtils, JobRepositoryTestUtils...etc for the test.</p>\n<p>However if we want to enable spring boot functionalities like loading application properties, adding @SpringBootTest seems to be a way. (<a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\" rel=\"nofollow noreferrer\">document</a>)</p>\n"}],"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71883138,"answer_count":1,"score":3,"last_activity_date":1650020069,"creation_date":1585000525,"question_id":60822084,"body_markdown":"I have the following Spring Batch test in my `src/test/java`:\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBatchTest\r\n@EnableAutoConfiguration\r\n@ContextConfiguration(classes= MyBatchConfig.class)\r\n@TestExecutionListeners({ DependencyInjectionTestExecutionListener.class,\r\n                                DirtiesContextTestExecutionListener.class})\r\n@DirtiesContext(classMode = ClassMode.AFTER_CLASS)\r\n@ActiveProfiles(&quot;local-test&quot;)\r\npublic class MyIntegrationTest {\r\n    @Autowired\r\n    private JobLauncherTestUtils jobLauncherTestUtils;\r\n\r\n    @Autowired\r\n    private JobRepositoryTestUtils jobRepositoryTestUtils;\r\n\r\n    @Test\r\n    public void testJob() {\r\n       ...\r\n    }\r\n```\r\n\r\nI define my `test/resources/application-local-test.yml`:\r\n```\r\nspring:\r\n  profiles:\r\n    active: &quot;test&quot;\r\n  datasource:\r\n    driverClassName: org.h2.Driver\r\n    url: jdbc:h2:mem:TEST_DB;DB_CLOSE_ON_EXIT=FALSE;DB_CLOSE_DELAY=-1;IGNORECASE=TRUE;\r\n    username: sa\r\n    password: pwd\r\n  jpa:\r\n    open-in-view: true\r\n    show-sql: true\r\n    hibernate:\r\n      dialect: org.hibernate.dialect.MySQL5Dialect\r\n      ddl-auto: create\r\n  h2:\r\n    console: enabled\r\n\r\ncloud:\r\n  aws:\r\n    s3:\r\n      bucket: testBucket\r\n\r\n```\r\nand in my main application, a SpringBatch Configuration:\r\n```\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class ImportProjectsBatchConfig {\r\n\r\n    public static final String JOB_NAME = &quot;myJob&quot;;\r\n\r\n    private String s3BucketName;\r\n\r\n    public ImportProjectsBatchConfig(\r\n            @Value(&quot;${cloud.aws.s3.bucket}&quot;)\r\n                    String s3BucketName) {\r\n        this.s3BucketName = s3BucketName;\r\n    }\r\n\r\n    @Bean\r\n    public String s3BucketName() {\r\n        return s3BucketName;\r\n    }\r\n\r\n    @Bean\r\n    public SimpleStepBuilder&lt;WebProject, WebProject&gt; simpleStepBuilder(StepBuilderFactory stepBuilderFactory,\r\n            ItemProcessor itemProcessor, ItemWriter itemWriter,\r\n            MyErrorItemListener errorItemListenerSupport) {\r\n        return stepBuilderFactory.get(JOB_NAME).&lt;WebProject, WebProject&gt;chunk(chunkSize)\r\n                .processor(itemProcessor).listener((ItemProcessListener) errorItemListenerSupport)\r\n                .writer(itemWriter).listener((ItemWriteListener) errorItemListenerSupport);\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen I try to run the integration test my application-local-test.yml is not getting picked up:\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;cloud.aws.s3.bucket&#39; in value &quot;${cloud.aws.s3.bucket}&quot;\r\n\tat org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:178)\r\n```\r\nWhat am I doing wrong?","title":"How do I get a SpringBatch Integration test to load my application properties?","body":"<p>I have the following Spring Batch test in my <code>src/test/java</code>:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBatchTest\n@EnableAutoConfiguration\n@ContextConfiguration(classes= MyBatchConfig.class)\n@TestExecutionListeners({ DependencyInjectionTestExecutionListener.class,\n                                DirtiesContextTestExecutionListener.class})\n@DirtiesContext(classMode = ClassMode.AFTER_CLASS)\n@ActiveProfiles(\"local-test\")\npublic class MyIntegrationTest {\n    @Autowired\n    private JobLauncherTestUtils jobLauncherTestUtils;\n\n    @Autowired\n    private JobRepositoryTestUtils jobRepositoryTestUtils;\n\n    @Test\n    public void testJob() {\n       ...\n    }\n</code></pre>\n\n<p>I define my <code>test/resources/application-local-test.yml</code>:</p>\n\n<pre><code>spring:\n  profiles:\n    active: \"test\"\n  datasource:\n    driverClassName: org.h2.Driver\n    url: jdbc:h2:mem:TEST_DB;DB_CLOSE_ON_EXIT=FALSE;DB_CLOSE_DELAY=-1;IGNORECASE=TRUE;\n    username: sa\n    password: pwd\n  jpa:\n    open-in-view: true\n    show-sql: true\n    hibernate:\n      dialect: org.hibernate.dialect.MySQL5Dialect\n      ddl-auto: create\n  h2:\n    console: enabled\n\ncloud:\n  aws:\n    s3:\n      bucket: testBucket\n\n</code></pre>\n\n<p>and in my main application, a SpringBatch Configuration:</p>\n\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class ImportProjectsBatchConfig {\n\n    public static final String JOB_NAME = \"myJob\";\n\n    private String s3BucketName;\n\n    public ImportProjectsBatchConfig(\n            @Value(\"${cloud.aws.s3.bucket}\")\n                    String s3BucketName) {\n        this.s3BucketName = s3BucketName;\n    }\n\n    @Bean\n    public String s3BucketName() {\n        return s3BucketName;\n    }\n\n    @Bean\n    public SimpleStepBuilder&lt;WebProject, WebProject&gt; simpleStepBuilder(StepBuilderFactory stepBuilderFactory,\n            ItemProcessor itemProcessor, ItemWriter itemWriter,\n            MyErrorItemListener errorItemListenerSupport) {\n        return stepBuilderFactory.get(JOB_NAME).&lt;WebProject, WebProject&gt;chunk(chunkSize)\n                .processor(itemProcessor).listener((ItemProcessListener) errorItemListenerSupport)\n                .writer(itemWriter).listener((ItemWriteListener) errorItemListenerSupport);\n    }\n\n}\n</code></pre>\n\n<p>When I try to run the integration test my application-local-test.yml is not getting picked up:</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'cloud.aws.s3.bucket' in value \"${cloud.aws.s3.bucket}\"\n    at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:178)\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1650021305,"post_id":71883010,"comment_id":127024331,"body_markdown":"Try to override `equals()` and `hashCode()` methods of both entities to be based on the id of each entity. This can lead to problems as you use `HashSet` and it may be affected.","body":"Try to override <code>equals()</code> and <code>hashCode()</code> methods of both entities to be based on the id of each entity. This can lead to problems as you use <code>HashSet</code> and it may be affected."},{"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"score":0,"creation_date":1650036064,"post_id":71883010,"comment_id":127028758,"body_markdown":"@PanagiotisBougioukos i change `Set` to `List` and `HashSet` to `ArrayList` but it&#39;s stay the same problem.","body":"@PanagiotisBougioukos i change <code>Set</code> to <code>List</code> and <code>HashSet</code> to <code>ArrayList</code> but it&#39;s stay the same problem."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1650296289,"post_id":71883010,"comment_id":127076054,"body_markdown":"Your addBankData method should not be manipulating the collection within bankData and replacing the collection if it was empty; you should only add to it. bankData seems like it needs a very simple &#39;addAssignIbanEntity(AssignIbanEntity)&#39; method that does only a null check and sets a collection if required, then add the entity to the collection. Replacing collections cause issues with change tracking and lazy semantics that should be avoided where possible. This may help, but if not, check what is actually in the entities collections before you call the addBankData method.","body":"Your addBankData method should not be manipulating the collection within bankData and replacing the collection if it was empty; you should only add to it. bankData seems like it needs a very simple &#39;addAssignIbanEntity(AssignIbanEntity)&#39; method that does only a null check and sets a collection if required, then add the entity to the collection. Replacing collections cause issues with change tracking and lazy semantics that should be avoided where possible. This may help, but if not, check what is actually in the entities collections before you call the addBankData method."}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650019166,"creation_date":1650019166,"question_id":71883010,"body_markdown":"I have the two below entities, the AssignIban contains many BankAccounts, and a bankAccount belongs to one or many AssignIban.\r\n\r\n\r\n    @Entity\r\n    public class AssignIbanEntity implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \tprivate String assignmentIbanId;\r\n    \r\n    \t@ManyToMany(mappedBy = &quot;assignIbans&quot;, cascade = CascadeType.ALL)\r\n    \tprivate Set&lt;BankAccountEntity&gt; bankData;\r\n    \r\n    \tpublic void addBankData(BankAccountEntity bankData) {\r\n    \t\tif (this.bankData == null) {\r\n    \t\t\tthis.bankData = new HashSet&lt;&gt;();\r\n    \t\t}\r\n    \t\tthis.bankData.add(bankData);\r\n    \t\tif (CollectionUtils.isEmpty(bankData.getAssignIbans())) {\r\n    \t\t\tbankData.assignIbans(new HashSet&lt;&gt;());\r\n    \t\t}\r\n    \t\tbankData.getAssignIbans().add(this);\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    @Entity(name = &quot;bank_datay&quot;)\r\n    public class BankAccountEntity implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id\r\n    \tprivate String bankDataId;\r\n    \r\n    \t@JsonIgnore\r\n    \t@ManyToMany(cascade = CascadeType.ALL)\r\n    \t@JoinTable(name = &quot;bank_account_assignment_iban&quot;, joinColumns = {\r\n    \t\t\t@JoinColumn(name = &quot;fk_bank_account&quot;) }, inverseJoinColumns = { @JoinColumn(name = &quot;fk_assignment_iban&quot;) })\r\n    \tprivate Set&lt;AssignIbanEntity&gt; assignIbans;\r\n    \t\r\n    }\r\n\r\nIn my database i have the below data:\r\n\r\nbank_data: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nbank_account_assignment_iban :\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWith the below code i get a bankAccount with the id `8aa2afbf-f079-44a3-9940-84dd01a97f7f` and i added it to an existant assignmentIban with the id `87f6f8ac-fd51-493d-860b-f6975faea472`\r\n\r\n    AssignIbanEntity assignIban = assignmentIbanRepository.findById(&quot;87f6f8ac-fd51-493d-860b-f6975faea472&quot;);\r\n    bankDataEntity bankData = bankDataRepository.findById(&quot;8aa2afbf-f079-44a3-9940-84dd01a97f7f&quot;);\r\n    if (Objects.nonNull(assignIban) &amp;&amp; Objects.nonNull(bankData)) {\r\n    \tassignIban.addBankData(bankData);\r\n    \tassignmentIbanRepository.save(assignIban);\r\n    }\r\n\r\nthe problem is that the result that i get is not correct :\r\n\r\n[![enter image description here][3]][3]\r\n\r\nExpected result:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YDKa1.png\r\n  [2]: https://i.stack.imgur.com/KkwM2.png\r\n  [3]: https://i.stack.imgur.com/EIuvV.png\r\n  [4]: https://i.stack.imgur.com/zQpSJ.png","title":"JPA: many to many relationship not working correctly","body":"<p>I have the two below entities, the AssignIban contains many BankAccounts, and a bankAccount belongs to one or many AssignIban.</p>\n<pre><code>@Entity\npublic class AssignIbanEntity implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    private String assignmentIbanId;\n\n    @ManyToMany(mappedBy = &quot;assignIbans&quot;, cascade = CascadeType.ALL)\n    private Set&lt;BankAccountEntity&gt; bankData;\n\n    public void addBankData(BankAccountEntity bankData) {\n        if (this.bankData == null) {\n            this.bankData = new HashSet&lt;&gt;();\n        }\n        this.bankData.add(bankData);\n        if (CollectionUtils.isEmpty(bankData.getAssignIbans())) {\n            bankData.assignIbans(new HashSet&lt;&gt;());\n        }\n        bankData.getAssignIbans().add(this);\n    }\n    \n}\n\n@Entity(name = &quot;bank_datay&quot;)\npublic class BankAccountEntity implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    private String bankDataId;\n\n    @JsonIgnore\n    @ManyToMany(cascade = CascadeType.ALL)\n    @JoinTable(name = &quot;bank_account_assignment_iban&quot;, joinColumns = {\n            @JoinColumn(name = &quot;fk_bank_account&quot;) }, inverseJoinColumns = { @JoinColumn(name = &quot;fk_assignment_iban&quot;) })\n    private Set&lt;AssignIbanEntity&gt; assignIbans;\n    \n}\n</code></pre>\n<p>In my database i have the below data:</p>\n<p>bank_data:</p>\n<p><a href=\"https://i.stack.imgur.com/YDKa1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YDKa1.png\" alt=\"enter image description here\" /></a></p>\n<p>bank_account_assignment_iban :</p>\n<p><a href=\"https://i.stack.imgur.com/KkwM2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KkwM2.png\" alt=\"enter image description here\" /></a></p>\n<p>With the below code i get a bankAccount with the id <code>8aa2afbf-f079-44a3-9940-84dd01a97f7f</code> and i added it to an existant assignmentIban with the id <code>87f6f8ac-fd51-493d-860b-f6975faea472</code></p>\n<pre><code>AssignIbanEntity assignIban = assignmentIbanRepository.findById(&quot;87f6f8ac-fd51-493d-860b-f6975faea472&quot;);\nbankDataEntity bankData = bankDataRepository.findById(&quot;8aa2afbf-f079-44a3-9940-84dd01a97f7f&quot;);\nif (Objects.nonNull(assignIban) &amp;&amp; Objects.nonNull(bankData)) {\n    assignIban.addBankData(bankData);\n    assignmentIbanRepository.save(assignIban);\n}\n</code></pre>\n<p>the problem is that the result that i get is not correct :</p>\n<p><a href=\"https://i.stack.imgur.com/EIuvV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EIuvV.png\" alt=\"enter image description here\" /></a></p>\n<p>Expected result:</p>\n<p><a href=\"https://i.stack.imgur.com/zQpSJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zQpSJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","audio","javasound"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":1,"creation_date":1650018296,"post_id":71882865,"comment_id":127023524,"body_markdown":"google.com -&gt; &quot;How to play sound from java&quot;","body":"google.com -&gt; &quot;How to play sound from java&quot;"}],"answers":[{"tags":[],"owner":{"account_id":21208365,"reputation":260,"user_id":15597511,"display_name":"Daksh Rawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650018727,"creation_date":1650018727,"answer_id":71882945,"question_id":71882865,"body_markdown":"try this\r\n\r\n    if (goblin.getPos().equals(coin.getPos())) {\r\n            if (goblinTarget == coin) {\r\n                targetCheck = true;\r\n            \r\n            // give goblin some points for picking this up\r\n            goblin.addScore(100);\r\n            collectedCoins.add(coin);\r\n            coinsInPlay = coinsInPlay - 1;\r\n\r\n            // play sound\r\n            File lol = new File(&quot;somesound.wav&quot;);//replace somesound.wav with your own desired audio file\r\n            try{\r\n                Clip clip = AudioSystem.getClip();\r\n                clip.open(AudioSystem.getAudioInputStream(lol));\r\n                clip.start();\r\n               } catch (Exception e){\r\n                    e.printStackTrace();\r\n               }\r\n            } \r\n        }","title":"How can i create a class that has a function takes in a string input as filename and then plays a soundfile?","body":"<p>try this</p>\n<pre><code>if (goblin.getPos().equals(coin.getPos())) {\n        if (goblinTarget == coin) {\n            targetCheck = true;\n        \n        // give goblin some points for picking this up\n        goblin.addScore(100);\n        collectedCoins.add(coin);\n        coinsInPlay = coinsInPlay - 1;\n\n        // play sound\n        File lol = new File(&quot;somesound.wav&quot;);//replace somesound.wav with your own desired audio file\n        try{\n            Clip clip = AudioSystem.getClip();\n            clip.open(AudioSystem.getAudioInputStream(lol));\n            clip.start();\n           } catch (Exception e){\n                e.printStackTrace();\n           }\n        } \n    }\n</code></pre>\n"}],"owner":{"account_id":24946568,"reputation":7,"user_id":18811831,"display_name":"monkey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"accepted_answer_id":71882945,"answer_count":1,"score":-4,"last_activity_date":1650018727,"creation_date":1650018168,"question_id":71882865,"body_markdown":"This code checks if the goblin is in the same position as a coin and then gives it points.\r\nIt should also play a sound when a coin is picked up            \r\n\r\n                if (goblin.getPos().equals(coin.getPos())) {\r\n                if (goblinTarget == coin) {\r\n                    targetCheck = true;\r\n                }\r\n                // give goblin some points for picking this up\r\n                goblin.addScore(100);\r\n                collectedCoins.add(coin);\r\n                coinsInPlay = coinsInPlay - 1;\r\n                // play sound\r\n                SoundPlayer.playSound(&quot;pickCoin&quot;);\r\n                // SoundPlayer would be the class that has a function playSound() \r\n                \r\n                \r\n            }","title":"How can i create a class that has a function takes in a string input as filename and then plays a soundfile?","body":"<p>This code checks if the goblin is in the same position as a coin and then gives it points.\nIt should also play a sound when a coin is picked up</p>\n<pre><code>            if (goblin.getPos().equals(coin.getPos())) {\n            if (goblinTarget == coin) {\n                targetCheck = true;\n            }\n            // give goblin some points for picking this up\n            goblin.addScore(100);\n            collectedCoins.add(coin);\n            coinsInPlay = coinsInPlay - 1;\n            // play sound\n            SoundPlayer.playSound(&quot;pickCoin&quot;);\n            // SoundPlayer would be the class that has a function playSound() \n            \n            \n        }\n</code></pre>\n"},{"tags":["java","arrays","file","split","line-by-line"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1569898409,"post_id":58177511,"comment_id":102735440,"body_markdown":"Show us what you have tried so far.","body":"Show us what you have tried so far."}],"answers":[{"tags":[],"owner":{"account_id":5043930,"reputation":582,"user_id":4050538,"accept_rate":33,"display_name":"Agricola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569932607,"creation_date":1569932607,"answer_id":58184709,"question_id":58177511,"body_markdown":"You can use a FileReader to read line-by-line. You can then split the resulting string on the comma, and use Double.valueOf to get your values. The following example is simple, but will assume the file is correctly formed:\r\n\r\n    public class Test {\r\n    \r\n    \tstatic class Student {\r\n    \t\tprivate String firstName;\r\n    \t\tprivate String lastName;\r\n    \t\tprivate double math;\r\n    \t\tprivate double english;\r\n    \t\tprivate double computerScience;\r\n    \t\t\r\n    \t\tpublic Student(String firstName, String lastName, double math,\r\n    \t\t\t\tdouble english, double computerScience) {\r\n                this.firstName = firstName;\r\n                this.lastName = lastName;\r\n                this.math = math;\r\n                this.english = english;\r\n                this.computerScience = computerScience;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n                return &quot;Name: &quot; + firstName + &quot; &quot; + lastName + &quot;, Math: &quot; + math +\r\n                &quot;, English: &quot; + english + &quot;, Computer Science: &quot; + computerScience;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n            BufferedReader reader;\r\n            try {\r\n                reader = new BufferedReader(new FileReader(&quot;/home/username/grades.txt&quot;));\r\n                String line = reader.readLine();\r\n                while (line != null) {\r\n                \tString[] gradeArray = line.split(&quot;,&quot;);\r\n                \tStudent myStudent = new Student(gradeArray[0], gradeArray[1],\r\n                            Double.valueOf(gradeArray[2]), Double.valueOf(gradeArray[3]),\r\n                            Double.valueOf(gradeArray[4]));\r\n                \t\t\t\r\n                    System.out.println(myStudent.toString());\r\n                    line = reader.readLine();\r\n    \t\t\t}\r\n    \t\t}\r\n            catch (NumberFormatException|IndexOutOfBoundsException badFile) {\r\n            \tSystem.out.println(&quot;You have a malformed gradebook&quot;);\r\n            \tbadFile.printStackTrace();\r\n            }\r\n    \t\tcatch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }","title":"How to split input text file that has string and doubles?","body":"<p>You can use a FileReader to read line-by-line. You can then split the resulting string on the comma, and use Double.valueOf to get your values. The following example is simple, but will assume the file is correctly formed:</p>\n\n<pre><code>public class Test {\n\n    static class Student {\n        private String firstName;\n        private String lastName;\n        private double math;\n        private double english;\n        private double computerScience;\n\n        public Student(String firstName, String lastName, double math,\n                double english, double computerScience) {\n            this.firstName = firstName;\n            this.lastName = lastName;\n            this.math = math;\n            this.english = english;\n            this.computerScience = computerScience;\n        }\n\n        @Override\n        public String toString() {\n            return \"Name: \" + firstName + \" \" + lastName + \", Math: \" + math +\n            \", English: \" + english + \", Computer Science: \" + computerScience;\n        }\n    }\n\n    public static void main(String[] args) {\n        BufferedReader reader;\n        try {\n            reader = new BufferedReader(new FileReader(\"/home/username/grades.txt\"));\n            String line = reader.readLine();\n            while (line != null) {\n                String[] gradeArray = line.split(\",\");\n                Student myStudent = new Student(gradeArray[0], gradeArray[1],\n                        Double.valueOf(gradeArray[2]), Double.valueOf(gradeArray[3]),\n                        Double.valueOf(gradeArray[4]));\n\n                System.out.println(myStudent.toString());\n                line = reader.readLine();\n            }\n        }\n        catch (NumberFormatException|IndexOutOfBoundsException badFile) {\n            System.out.println(\"You have a malformed gradebook\");\n            badFile.printStackTrace();\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":16658916,"reputation":11,"user_id":12039407,"display_name":"Michael Lewis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650018295,"creation_date":1569898326,"question_id":58177511,"body_markdown":"I am to read from an .txt input and sort into array by line (read: first name, last name, grade1, grade 2, grade3) but I am having issues.  I am assuming that I would have to create arrays for each person, but I cannot get past sorting each line entry. I understand basics about how to use split, but I assume that I will have to use nested for loops to separate strings from doubles and have each in its own array.  I am not sure about how to compile this.","title":"How to split input text file that has string and doubles?","body":"<p>I am to read from an .txt input and sort into array by line (read: first name, last name, grade1, grade 2, grade3) but I am having issues.  I am assuming that I would have to create arrays for each person, but I cannot get past sorting each line entry. I understand basics about how to use split, but I assume that I will have to use nested for loops to separate strings from doubles and have each in its own array.  I am not sure about how to compile this.</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1509550212,"creation_date":1509549798,"answer_id":47058220,"question_id":47056554,"body_markdown":"There&#39;s two main use cases\r\n\r\n**Source is in `src/main/java` in the current project** - Therefore the class does NOT exist when the buildscript classpath is defined\r\n\r\nOptions:\r\n\r\n1. Use a [JavaExec](https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html) task to run the class in another JVM\r\n\r\n2. Construct a [URLClassLoader](https://docs.oracle.com/javase/7/docs/api/java/net/URLClassLoader.html) from `sourceSets.main.runtimeClasspath` and load / run the class via the classloader\r\n\r\neg:\r\n\r\n    task doStuff {\r\n        doLast {\r\n            URL[] urls = sourceSets.main.runtimeClasspath.files as URL[]\r\n            def classloader = new URLClassLoader(urls, null)\r\n            Class myClass = classloader.load(&quot;foo.bar.MyClass&quot;)\r\n            def myInstance = myClass.newInstance()\r\n            Method method = myClass.getMethod(&quot;doStuff&quot;)\r\n            method.invoke(myInstance)\r\n        }\r\n    }\r\n\r\n**Source is in another project.** - Therefore the class will exist before the buildscript classpath is defined\r\n\r\nIn this case you can add the project to the buildscript classpath and invoke it\r\n\r\n    buildscript {\r\n        dependencies {\r\n            classpath project(&#39;:other-project&#39;)\r\n        }\r\n    }\r\n    task doStuff {\r\n        doLast {\r\n            def myClass = new MyClass()\r\n            myClass.doStuff()\r\n        }\r\n    }","title":"How to call custom Java method from Gradle","body":"<p>There's two main use cases</p>\n\n<p><strong>Source is in <code>src/main/java</code> in the current project</strong> - Therefore the class does NOT exist when the buildscript classpath is defined</p>\n\n<p>Options:</p>\n\n<ol>\n<li><p>Use a <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.JavaExec.html\" rel=\"noreferrer\">JavaExec</a> task to run the class in another JVM</p></li>\n<li><p>Construct a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/URLClassLoader.html\" rel=\"noreferrer\">URLClassLoader</a> from <code>sourceSets.main.runtimeClasspath</code> and load / run the class via the classloader</p></li>\n</ol>\n\n<p>eg:</p>\n\n<pre><code>task doStuff {\n    doLast {\n        URL[] urls = sourceSets.main.runtimeClasspath.files as URL[]\n        def classloader = new URLClassLoader(urls, null)\n        Class myClass = classloader.load(\"foo.bar.MyClass\")\n        def myInstance = myClass.newInstance()\n        Method method = myClass.getMethod(\"doStuff\")\n        method.invoke(myInstance)\n    }\n}\n</code></pre>\n\n<p><strong>Source is in another project.</strong> - Therefore the class will exist before the buildscript classpath is defined</p>\n\n<p>In this case you can add the project to the buildscript classpath and invoke it</p>\n\n<pre><code>buildscript {\n    dependencies {\n        classpath project(':other-project')\n    }\n}\ntask doStuff {\n    doLast {\n        def myClass = new MyClass()\n        myClass.doStuff()\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1509554482,"creation_date":1509554482,"answer_id":47059639,"question_id":47056554,"body_markdown":"So the easiest way is to put my build helper Java source into `buildSrc` directory: `&lt;project root dir&gt;/buildSrc/src/main/java/foo/bar/Extractor.java` and that&#39;s it, you can call `new Extractor(..).extratMetadata(...)` directly from anywhere in Gradle build script, no need to import package, no need to use Java plugin, Gradle by default understands Maven like directory structure under buildScr.\r\n\r\nCredits to: https://zeroturnaround.com/rebellabs/using-buildsrc-for-custom-logic-in-gradle-builds/\r\n","title":"How to call custom Java method from Gradle","body":"<p>So the easiest way is to put my build helper Java source into <code>buildSrc</code> directory: <code>&lt;project root dir&gt;/buildSrc/src/main/java/foo/bar/Extractor.java</code> and that's it, you can call <code>new Extractor(..).extratMetadata(...)</code> directly from anywhere in Gradle build script, no need to import package, no need to use Java plugin, Gradle by default understands Maven like directory structure under buildScr.</p>\n\n<p>Credits to: <a href=\"https://zeroturnaround.com/rebellabs/using-buildsrc-for-custom-logic-in-gradle-builds/\" rel=\"nofollow noreferrer\">https://zeroturnaround.com/rebellabs/using-buildsrc-for-custom-logic-in-gradle-builds/</a></p>\n"},{"tags":[],"owner":{"account_id":6283683,"reputation":3277,"user_id":4883754,"display_name":"Jess Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641390300,"creation_date":1641309109,"answer_id":70580966,"question_id":47056554,"body_markdown":"## Groovy\r\n\r\n1. build your project files.\r\n2. run this groovy file and call object method \r\n\r\n```groovy\r\n        // This code is similar to lance-java&#39;s\r\n        def files = sourceSets.main.runtimeClasspath.files\r\n        // files[0] is C:\\...\\YourProject\\build\\classes\\java\\main\r\n        def classLoader = new URLClassLoader((new URL[]{files[0].toURI().toURL()}))\r\n        def myClass = Class.forName(&quot;aa.bb.c.MyClass&quot;, true, classLoader);\r\n        def myInstance = myClass.newInstance()\r\n        Method method = myClass.getMethod(&quot;sayHello&quot;)\r\n        method.invoke(myInstance)\r\n```\r\n\r\n\r\n## Kotlin\r\n\r\n1. build your project files.\r\n2. run this groovy file and call class static method .\r\n\r\n```\r\nimport java.net.URLClassLoader\r\n...\r\ntask(&quot;helloworld&quot;) {\r\n    doLast {\r\n        val file: File = project.projectDir.toPath().resolve(tasks.jar.get().archiveFile.get().toString()).toFile()\r\n        val classloader: ClassLoader = URLClassLoader(arrayOf(file.toURI().toURL()))\r\n        Class.forName(&quot;mypackage.MyClass&quot;, true, classloader)\r\n            .getMethod(&quot;sayHello&quot;).invoke(null)\r\n    }\r\n}\r\n...\r\n```","title":"How to call custom Java method from Gradle","body":"<h2>Groovy</h2>\n<ol>\n<li>build your project files.</li>\n<li>run this groovy file and call object method</li>\n</ol>\n<pre><code>        // This code is similar to lance-java's\n        def files = sourceSets.main.runtimeClasspath.files\n        // files[0] is C:\\...\\YourProject\\build\\classes\\java\\main\n        def classLoader = new URLClassLoader((new URL[]{files[0].toURI().toURL()}))\n        def myClass = Class.forName(&quot;aa.bb.c.MyClass&quot;, true, classLoader);\n        def myInstance = myClass.newInstance()\n        Method method = myClass.getMethod(&quot;sayHello&quot;)\n        method.invoke(myInstance)\n</code></pre>\n<h2>Kotlin</h2>\n<ol>\n<li>build your project files.</li>\n<li>run this groovy file and call class static method .</li>\n</ol>\n<pre><code>import java.net.URLClassLoader\n...\ntask(&quot;helloworld&quot;) {\n    doLast {\n        val file: File = project.projectDir.toPath().resolve(tasks.jar.get().archiveFile.get().toString()).toFile()\n        val classloader: ClassLoader = URLClassLoader(arrayOf(file.toURI().toURL()))\n        Class.forName(&quot;mypackage.MyClass&quot;, true, classloader)\n            .getMethod(&quot;sayHello&quot;).invoke(null)\n    }\n}\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5544246,"reputation":2369,"user_id":4399576,"display_name":"Dimitar II"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650018026,"creation_date":1650018026,"answer_id":71882843,"question_id":47056554,"body_markdown":"To run your custom Java class from Gradle build script (without JVM fork) you can include it in the buildscript classpath and then import it explicitly. Example:\r\n\r\n    buildscript {\r\n        ext {\r\n            ownRepo = &quot;${System.properties[&#39;user.home&#39;]}/.gradle/local&quot;\r\n        }\r\n        // Repositories for the build script.\r\n        repositories {\r\n            ivy {\r\n                url ownRepo\r\n            }\r\n        }\r\n        // Dependencies for the build script.\r\n        dependencies {\r\n            classpath &quot;org:mytool:1.0&quot;\r\n        }\r\n    }\r\n\r\n    import org.mytool.Checksums\r\n    task calculateChecksums() {\r\n        doLast {\r\n            new Checksums().calculate(myAppDir)\r\n        }\r\n    }\r\n\r\n    ","title":"How to call custom Java method from Gradle","body":"<p>To run your custom Java class from Gradle build script (without JVM fork) you can include it in the buildscript classpath and then import it explicitly. Example:</p>\n<pre><code>buildscript {\n    ext {\n        ownRepo = &quot;${System.properties['user.home']}/.gradle/local&quot;\n    }\n    // Repositories for the build script.\n    repositories {\n        ivy {\n            url ownRepo\n        }\n    }\n    // Dependencies for the build script.\n    dependencies {\n        classpath &quot;org:mytool:1.0&quot;\n    }\n}\n\nimport org.mytool.Checksums\ntask calculateChecksums() {\n    doLast {\n        new Checksums().calculate(myAppDir)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1218774,"reputation":2511,"user_id":1185845,"accept_rate":47,"display_name":"Espinosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5317,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1650018026,"creation_date":1509544533,"question_id":47056554,"body_markdown":"Please, what is the most convenient way how to call a Java method within Gradle build script? This method contain functionality I want to use during build; a piece of functionality too complex to be a in-script Groovy method but not enough to command full custom Gradle plugin.\r\n\r\nMy question is not about running a Java application from Gradle. That would involve forking JVM, and there is no simple way how to publish output back to Gradle and I need that output.\r\n\r\nInitially I had my code in src/main/java but it has to be compiled early on to be callable from within Gradle build script.\r\n\r\nThen I tried to move the build helper class to a submodule project, a one class submodule, hoping that the submodule would be builded before the main build script is called; in there I put:\r\n\r\n     buildscript {\r\n        dependencies {\r\n           classpath &#39;this.project:build-helper:1.0-SNAPSHOT&#39;\r\n        }\r\n     }\r\n\r\nBut the `build-helper` subproject is clearly not build first, despite having in in `settings.gradle` as first and build fails as the dependency is not recognised. It seems buildscript is evaluated before submodules are built, before anything else. D&#39;oh!\r\n\r\n","title":"How to call custom Java method from Gradle","body":"<p>Please, what is the most convenient way how to call a Java method within Gradle build script? This method contain functionality I want to use during build; a piece of functionality too complex to be a in-script Groovy method but not enough to command full custom Gradle plugin.</p>\n\n<p>My question is not about running a Java application from Gradle. That would involve forking JVM, and there is no simple way how to publish output back to Gradle and I need that output.</p>\n\n<p>Initially I had my code in src/main/java but it has to be compiled early on to be callable from within Gradle build script.</p>\n\n<p>Then I tried to move the build helper class to a submodule project, a one class submodule, hoping that the submodule would be builded before the main build script is called; in there I put:</p>\n\n<pre><code> buildscript {\n    dependencies {\n       classpath 'this.project:build-helper:1.0-SNAPSHOT'\n    }\n }\n</code></pre>\n\n<p>But the <code>build-helper</code> subproject is clearly not build first, despite having in in <code>settings.gradle</code> as first and build fails as the dependency is not recognised. It seems buildscript is evaluated before submodules are built, before anything else. D'oh!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":4,"creation_date":1650017709,"post_id":71882768,"comment_id":127023347,"body_markdown":"You may want to add more/longer sample data to get the point across.","body":"You may want to add more/longer sample data to get the point across."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1650018509,"post_id":71882768,"comment_id":127023601,"body_markdown":"So in other words, you want to split this string by the comma delimiter (`,`) and then put all entries with a space in it into one group, and all other entries into the other group?","body":"So in other words, you want to split this string by the comma delimiter (<code>,</code>) and then put all entries with a space in it into one group, and all other entries into the other group?"}],"answers":[{"tags":[],"owner":{"account_id":3523094,"reputation":176,"user_id":2944895,"display_name":"Kinnison84"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650017828,"creation_date":1650017828,"answer_id":71882813,"question_id":71882768,"body_markdown":"I would try to first split them with one of the delimiters, then for each resulting substring split with the other delimiter.","title":"Get two different delimiters from same string","body":"<p>I would try to first split them with one of the delimiters, then for each resulting substring split with the other delimiter.</p>\n"}],"owner":{"account_id":24915202,"reputation":7,"user_id":18784253,"display_name":"Ace"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1650017880,"creation_date":1650017562,"question_id":71882768,"body_markdown":"How can I use split function in java using two delimiters in the same string \r\nI want to get the words with commas and spaces separately \r\n\r\n    String I = &quot;hello,hi hellow,bye&quot;\r\n\r\nI want to get the above string splited as \r\n\r\n    String var1 = hello,bye\r\n    String var2 = hi hellow\r\n\r\nAny suggestion is very much valued.\r\n\r\n","title":"Get two different delimiters from same string","body":"<p>How can I use split function in java using two delimiters in the same string\nI want to get the words with commas and spaces separately</p>\n<pre><code>String I = &quot;hello,hi hellow,bye&quot;\n</code></pre>\n<p>I want to get the above string splited as</p>\n<pre><code>String var1 = hello,bye\nString var2 = hi hellow\n</code></pre>\n<p>Any suggestion is very much valued.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1650000416,"post_id":71880384,"comment_id":127019605,"body_markdown":"Are you trying to make a multi user connected app? Like from different devices?","body":"Are you trying to make a multi user connected app? Like from different devices?"},{"owner":{"account_id":14186902,"reputation":229,"user_id":10248593,"display_name":"Jinal Patel"},"score":0,"creation_date":1650000473,"post_id":71880384,"comment_id":127019621,"body_markdown":"What crash/error are you getting?","body":"What crash/error are you getting?"},{"owner":{"account_id":14535713,"reputation":401,"user_id":10499158,"display_name":"EAS"},"score":0,"creation_date":1650006745,"post_id":71880384,"comment_id":127020732,"body_markdown":"describe where your app is getting crashed. also, add a stack trace to understand your problem.","body":"describe where your app is getting crashed. also, add a stack trace to understand your problem."},{"owner":{"account_id":8265021,"reputation":1010,"user_id":6214899,"display_name":"Cuong Nguyen"},"score":0,"creation_date":1650019473,"post_id":71880384,"comment_id":127023849,"body_markdown":"Why you want save password to SharedPreferences?","body":"Why you want save password to SharedPreferences?"},{"owner":{"account_id":8265021,"reputation":1010,"user_id":6214899,"display_name":"Cuong Nguyen"},"score":0,"creation_date":1650019507,"post_id":71880384,"comment_id":127023862,"body_markdown":"Don&#39;t save password to SharedPreferences","body":"Don&#39;t save password to SharedPreferences"}],"answers":[{"tags":[],"owner":{"account_id":14809028,"reputation":48,"user_id":10695224,"display_name":"S.Iliev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650017639,"creation_date":1650011872,"answer_id":71881828,"question_id":71880384,"body_markdown":"I think that you first must create your usrAccu.\r\n\r\n    public void usrUpdate(View v) {\r\n        // To link to the the view objects and read data\r\n        EditText userr = (EditText) findViewById(R.id.etpwd);\r\n        EditText pwdrr = (EditText) findViewById(R.id.etname);\r\n        Button btnup = (Button) findViewById(R.id.btnChange);\r\n\r\n        usrAccu = PreferenceManager.getDefaultSharedPreferences(this);\r\n\r\n        String newpwd = pwdrr.getText().toString();\r\n        String  updatedPwd = usrAccu.getString(&quot;userpass&quot;, &quot;&quot;);\r\n\r\n        //To Check if user name already exists\r\n        ....","title":"Updating password in sharedpreferences at android studio","body":"<p>I think that you first must create your usrAccu.</p>\n<pre><code>public void usrUpdate(View v) {\n    // To link to the the view objects and read data\n    EditText userr = (EditText) findViewById(R.id.etpwd);\n    EditText pwdrr = (EditText) findViewById(R.id.etname);\n    Button btnup = (Button) findViewById(R.id.btnChange);\n\n    usrAccu = PreferenceManager.getDefaultSharedPreferences(this);\n\n    String newpwd = pwdrr.getText().toString();\n    String  updatedPwd = usrAccu.getString(&quot;userpass&quot;, &quot;&quot;);\n\n    //To Check if user name already exists\n    ....\n</code></pre>\n"}],"owner":{"account_id":24944051,"reputation":1,"user_id":18809568,"display_name":"Raven"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650017639,"creation_date":1650000082,"question_id":71880384,"body_markdown":"I&#39;m working on an android studio project using sharedpreferences that is a login/register simple application.\r\n\r\nI have an activity for changing the password for an existed user and it keeps getting errors and crashes.\r\n\r\nMain activity:\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    TextView txtv;\r\n    Button chgpwd;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        txtv = (TextView) findViewById(R.id.txtvSignUp);\r\n        txtv.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n                Intent i = new Intent(getApplicationContext(),\r\n                        NewUserActivity.class);\r\n                startActivity(i);\r\n                finish();\r\n            }\r\n        });\r\n\r\n        chgpwd = (Button) findViewById(R.id.changePwd);\r\n        chgpwd.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n                Intent c = new Intent(getApplicationContext(),\r\n                        PasswordUpdateActivity.class);\r\n                startActivity(c);\r\n                finish();\r\n            }\r\n        });\r\n\r\n    }\r\n    public void usrLogIn(View v) {\r\n        // To link to the the view objects and read data\r\n        EditText uname = (EditText) findViewById(R.id.nameInp);\r\n        EditText upass = (EditText) findViewById(R.id.pwdInp);\r\n        String username = uname.getText().toString();\r\n        String userpass = upass.getText().toString();\r\n        // To open sharedPref, Create if not exist\r\n        SharedPreferences userAcc = getSharedPreferences(&quot;UsersAccounts&quot;, 0);\r\n        // To Check if user name exists in the sharedPref.\r\n        if (!userAcc.contains(username)) {\r\n            Toast.makeText(getApplicationContext(), &quot;User NOT Exists&quot;,\r\n                    Toast.LENGTH_LONG).show();\r\n            return;\r\n        }\r\n        // To chaeck if the entered password match the password stored in\r\n        // SharedPref object\r\n        if (userAcc.getString(username, null).equals(userpass)) {\r\n            Toast.makeText(getApplicationContext(), &quot;Access Authenticated&quot;,\r\n                    Toast.LENGTH_LONG).show();\r\n        } else {\r\n            Toast.makeText(getApplicationContext(), &quot;Password is wrong&quot;,\r\n                    Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nNew user activity:\r\n```\r\npublic class NewUserActivity extends AppCompatActivity {\r\n\r\n    SharedPreferences usrAccs;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_new_user);\r\n    }\r\n\r\n    public void signUp(View v) {\r\n        // Read username and password from input fields\r\n        EditText usr = (EditText) findViewById(R.id.usrInp);\r\n        EditText pwd = (EditText) findViewById(R.id.pwdInp);\r\n        // Define SharedPreference object\r\n        usrAccs = getApplicationContext().getSharedPreferences(&quot;UsersAccounts&quot;, 0);\r\n        // To create editor object for sharedPref\r\n        SharedPreferences.Editor userEdit = usrAccs.edit();\r\n        //To Check if user name already exists\r\n        if (usrAccs.contains(usr.getText().toString())) {\r\n            Toast.makeText(getApplicationContext(), &quot;User already Exists&quot;,\r\n                    Toast.LENGTH_LONG).show();\r\n            return;\r\n        }\r\n        // If It pass the if statement, it means the user does not exist\r\n        // and store info in sharedPref using Editor\r\n        userEdit.putString(usr.getText().toString(),pwd.getText().toString());\r\n        userEdit.commit();\r\n        Toast.makeText(getApplicationContext(), usr.getText().toString() + &quot; Account is created&quot;, Toast.LENGTH_LONG).show();\r\n                // To return To the main activity\r\n                Intent i = new Intent(getApplicationContext(), MainActivity.class);\r\n        startActivity(i);\r\n        finish();\r\n    }\r\n\r\n}\r\n```\r\n\r\nand lastly the password changing activity:\r\n\r\n```\r\npublic class PasswordUpdateActivity extends AppCompatActivity {\r\n\r\n    SharedPreferences usrAccu;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_password_update);\r\n    }\r\n\r\n    public void usrUpdate(View v) {\r\n        // To link to the the view objects and read data\r\n        EditText userr = (EditText) findViewById(R.id.etpwd);\r\n        EditText pwdrr = (EditText) findViewById(R.id.etname);\r\n        Button btnup = (Button) findViewById(R.id.btnChange);\r\n\r\n        String newpwd = pwdrr.getText().toString();\r\n        String  updatedPwd = usrAccu.getString(&quot;userpass&quot;, &quot;&quot;);\r\n        usrAccu = PasswordUpdateActivity.this.getSharedPreferences(&quot;UsersAccounts&quot;, 0);\r\n\r\n        //To Check if user name already exists\r\n        if (usrAccu.contains(userr.getText().toString())) {\r\n                SharedPreferences.Editor editor = usrAccu.edit();\r\n                editor.putString(&quot;userpass&quot;, newpwd);\r\n                editor.commit();\r\n\r\n                Toast.makeText(getApplicationContext(), &quot;Password Updated&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n        else{\r\n            Toast.makeText(getApplicationContext(), &quot;User Doesn&#39;t Exists&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n}\r\n```","title":"Updating password in sharedpreferences at android studio","body":"<p>I'm working on an android studio project using sharedpreferences that is a login/register simple application.</p>\n<p>I have an activity for changing the password for an existed user and it keeps getting errors and crashes.</p>\n<p>Main activity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    TextView txtv;\n    Button chgpwd;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        txtv = (TextView) findViewById(R.id.txtvSignUp);\n        txtv.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                Intent i = new Intent(getApplicationContext(),\n                        NewUserActivity.class);\n                startActivity(i);\n                finish();\n            }\n        });\n\n        chgpwd = (Button) findViewById(R.id.changePwd);\n        chgpwd.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                Intent c = new Intent(getApplicationContext(),\n                        PasswordUpdateActivity.class);\n                startActivity(c);\n                finish();\n            }\n        });\n\n    }\n    public void usrLogIn(View v) {\n        // To link to the the view objects and read data\n        EditText uname = (EditText) findViewById(R.id.nameInp);\n        EditText upass = (EditText) findViewById(R.id.pwdInp);\n        String username = uname.getText().toString();\n        String userpass = upass.getText().toString();\n        // To open sharedPref, Create if not exist\n        SharedPreferences userAcc = getSharedPreferences(&quot;UsersAccounts&quot;, 0);\n        // To Check if user name exists in the sharedPref.\n        if (!userAcc.contains(username)) {\n            Toast.makeText(getApplicationContext(), &quot;User NOT Exists&quot;,\n                    Toast.LENGTH_LONG).show();\n            return;\n        }\n        // To chaeck if the entered password match the password stored in\n        // SharedPref object\n        if (userAcc.getString(username, null).equals(userpass)) {\n            Toast.makeText(getApplicationContext(), &quot;Access Authenticated&quot;,\n                    Toast.LENGTH_LONG).show();\n        } else {\n            Toast.makeText(getApplicationContext(), &quot;Password is wrong&quot;,\n                    Toast.LENGTH_LONG).show();\n        }\n    }\n\n}\n</code></pre>\n<p>New user activity:</p>\n<pre><code>public class NewUserActivity extends AppCompatActivity {\n\n    SharedPreferences usrAccs;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_new_user);\n    }\n\n    public void signUp(View v) {\n        // Read username and password from input fields\n        EditText usr = (EditText) findViewById(R.id.usrInp);\n        EditText pwd = (EditText) findViewById(R.id.pwdInp);\n        // Define SharedPreference object\n        usrAccs = getApplicationContext().getSharedPreferences(&quot;UsersAccounts&quot;, 0);\n        // To create editor object for sharedPref\n        SharedPreferences.Editor userEdit = usrAccs.edit();\n        //To Check if user name already exists\n        if (usrAccs.contains(usr.getText().toString())) {\n            Toast.makeText(getApplicationContext(), &quot;User already Exists&quot;,\n                    Toast.LENGTH_LONG).show();\n            return;\n        }\n        // If It pass the if statement, it means the user does not exist\n        // and store info in sharedPref using Editor\n        userEdit.putString(usr.getText().toString(),pwd.getText().toString());\n        userEdit.commit();\n        Toast.makeText(getApplicationContext(), usr.getText().toString() + &quot; Account is created&quot;, Toast.LENGTH_LONG).show();\n                // To return To the main activity\n                Intent i = new Intent(getApplicationContext(), MainActivity.class);\n        startActivity(i);\n        finish();\n    }\n\n}\n</code></pre>\n<p>and lastly the password changing activity:</p>\n<pre><code>public class PasswordUpdateActivity extends AppCompatActivity {\n\n    SharedPreferences usrAccu;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_password_update);\n    }\n\n    public void usrUpdate(View v) {\n        // To link to the the view objects and read data\n        EditText userr = (EditText) findViewById(R.id.etpwd);\n        EditText pwdrr = (EditText) findViewById(R.id.etname);\n        Button btnup = (Button) findViewById(R.id.btnChange);\n\n        String newpwd = pwdrr.getText().toString();\n        String  updatedPwd = usrAccu.getString(&quot;userpass&quot;, &quot;&quot;);\n        usrAccu = PasswordUpdateActivity.this.getSharedPreferences(&quot;UsersAccounts&quot;, 0);\n\n        //To Check if user name already exists\n        if (usrAccu.contains(userr.getText().toString())) {\n                SharedPreferences.Editor editor = usrAccu.edit();\n                editor.putString(&quot;userpass&quot;, newpwd);\n                editor.commit();\n\n                Toast.makeText(getApplicationContext(), &quot;Password Updated&quot;, Toast.LENGTH_LONG).show();\n        }\n        else{\n            Toast.makeText(getApplicationContext(), &quot;User Doesn't Exists&quot;, Toast.LENGTH_LONG).show();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","list","dictionary"],"comments":[{"owner":{"account_id":10697,"reputation":28364,"user_id":20322,"display_name":"Attila"},"score":0,"creation_date":1335887562,"post_id":10400285,"comment_id":13414158,"body_markdown":"What is the relationship between the three values?","body":"What is the relationship between the three values?"},{"owner":{"account_id":957889,"reputation":18106,"user_id":982865,"accept_rate":94,"display_name":"Evgenij Reznik"},"score":0,"creation_date":1335887611,"post_id":10400285,"comment_id":13414175,"body_markdown":"They come dynamically from JTextFields and JButtons.","body":"They come dynamically from JTextFields and JButtons."},{"owner":{"account_id":10697,"reputation":28364,"user_id":20322,"display_name":"Attila"},"score":0,"creation_date":1335887921,"post_id":10400285,"comment_id":13414293,"body_markdown":"Ok, but do you want to _do_ with them?","body":"Ok, but do you want to <i>do</i> with them?"},{"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"score":0,"creation_date":1335888115,"post_id":10400285,"comment_id":80703392,"body_markdown":"Not sure what is your exact use case so providing one more option. If you can depend upon an open source library then you can leverage [Guava&#39;s Table](http://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained#Table) class.","body":"Not sure what is your exact use case so providing one more option. If you can depend upon an open source library then you can leverage <a href=\"http://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained#Table\" rel=\"nofollow noreferrer\">Guava&#39;s Table</a> class."},{"owner":{"account_id":10697,"reputation":28364,"user_id":20322,"display_name":"Attila"},"score":0,"creation_date":1335888302,"post_id":10400285,"comment_id":13414430,"body_markdown":"Then go with duffymo&#39;s answer, then insert them into the DB from the list when appropriate","body":"Then go with duffymo&#39;s answer, then insert them into the DB from the list when appropriate"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":2,"creation_date":1457614284,"post_id":10400285,"comment_id":59492378,"body_markdown":"You can use nested maps `Map&lt;String, Map&lt;String, Integer&gt;&gt;`","body":"You can use nested maps <code>Map&lt;String, Map&lt;String, Integer&gt;&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":1138001,"reputation":22629,"user_id":1122645,"accept_rate":89,"display_name":"UmNyobe"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1335887609,"creation_date":1335887609,"answer_id":10400323,"question_id":10400285,"body_markdown":"Simply create a class\r\n\r\n     class Data{\r\n      String first;\r\n      String second;\r\n      int number;\r\n     }\r\n\r\n","title":"3-Dimension List or Map","body":"<p>Simply create a class</p>\n\n<pre><code> class Data{\n  String first;\n  String second;\n  int number;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1335890273,"creation_date":1335887635,"answer_id":10400333,"question_id":10400285,"body_markdown":"Create an object that encapsulates the three together and add them to an array or List:\r\n\r\n    public class Foo {\r\n        private String s1;\r\n        private String s2; \r\n        private int v3;\r\n        // ctors, getters, etc.\r\n    }\r\n    \r\n    List&lt;Foo&gt; foos = new ArrayList&lt;Foo&gt;();\r\n    for (int i = 0; i &lt; 10; ++i) {\r\n        foos.add(new Foo(&quot;abc&quot;, &quot;def&quot;, 123);\r\n    }\r\n\r\nIf you want to insert into a database, write a DAO class:\r\n\r\n    public interface FooDao {\r\n        void save(Foo foo);    \r\n    }\r\n\r\nImplement as needed using JDBC.\r\n","title":"3-Dimension List or Map","body":"<p>Create an object that encapsulates the three together and add them to an array or List:</p>\n\n<pre><code>public class Foo {\n    private String s1;\n    private String s2; \n    private int v3;\n    // ctors, getters, etc.\n}\n\nList&lt;Foo&gt; foos = new ArrayList&lt;Foo&gt;();\nfor (int i = 0; i &lt; 10; ++i) {\n    foos.add(new Foo(\"abc\", \"def\", 123);\n}\n</code></pre>\n\n<p>If you want to insert into a database, write a DAO class:</p>\n\n<pre><code>public interface FooDao {\n    void save(Foo foo);    \n}\n</code></pre>\n\n<p>Implement as needed using JDBC.</p>\n"},{"tags":[],"owner":{"account_id":10697,"reputation":28364,"user_id":20322,"display_name":"Attila"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335887885,"creation_date":1335887885,"answer_id":10400391,"question_id":10400285,"body_markdown":"The answer depends on what the relationship between the values are.\r\n\r\n1) you just want to store all three in the same order as they come: create a custom class that encompasses all three elements and add an instance of this class to a `List&lt;MyData&gt;`.\r\n\r\n2) you want to associate the sirst string with the second-and-third data (and associate the second with the int): create a Map&lt;String, Map&lt;String, Integer&gt;&gt; and add the elements to it (you will have to create the inner map for each new first string)\r\n\r\n3) you don&#39;t want to keep duplicates, but you don&#39;t want/need a map.: Create a custom type (a&#39;la 1)) and put them in a `Set&lt;MyData&gt;`\r\n\r\n3) mix-and match","title":"3-Dimension List or Map","body":"<p>The answer depends on what the relationship between the values are.</p>\n\n<p>1) you just want to store all three in the same order as they come: create a custom class that encompasses all three elements and add an instance of this class to a <code>List&lt;MyData&gt;</code>.</p>\n\n<p>2) you want to associate the sirst string with the second-and-third data (and associate the second with the int): create a Map> and add the elements to it (you will have to create the inner map for each new first string)</p>\n\n<p>3) you don't want to keep duplicates, but you don't want/need a map.: Create a custom type (a'la 1)) and put them in a <code>Set&lt;MyData&gt;</code></p>\n\n<p>3) mix-and match</p>\n"},{"tags":[],"owner":{"account_id":133450,"reputation":30940,"user_id":334831,"accept_rate":83,"display_name":"Tombart"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1424295166,"creation_date":1368915085,"answer_id":16629473,"question_id":10400285,"body_markdown":"A Google&#39;s [Guava](https://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained#Table) code would look like this:\r\n\r\n    import com.google.common.collect.Table;\r\n    import com.google.common.collect.HashBasedTable;\r\n\r\n    Table&lt;String, String, Integer&gt; table = HashBasedTable.create();\r\n\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        table.put(&quot;abc&quot;, &quot;def&quot;, i);\r\n    }\r\n\r\nCode above will construct a HashMap inside a HashMap with a constructor that looks like this:\r\n\r\n    Table&lt;String, String, Integer&gt; table = Tables.newCustomTable(\r\n            Maps.&lt;String, Map&lt;String, Integer&gt;&gt;newHashMap(),\r\n            new Supplier&lt;Map&lt;String, Integer&gt;&gt;() {\r\n        @Override\r\n        public Map&lt;String, Integer&gt; get() {\r\n            return Maps.newHashMap();\r\n        }\r\n    });\r\n\r\nIn case you want to override the underlying structures you can easily change it.","title":"3-Dimension List or Map","body":"<p>A Google's <a href=\"https://code.google.com/p/guava-libraries/wiki/NewCollectionTypesExplained#Table\" rel=\"noreferrer\">Guava</a> code would look like this:</p>\n\n<pre><code>import com.google.common.collect.Table;\nimport com.google.common.collect.HashBasedTable;\n\nTable&lt;String, String, Integer&gt; table = HashBasedTable.create();\n\nfor (int i = 0; i &lt; 10; i++) {\n    table.put(\"abc\", \"def\", i);\n}\n</code></pre>\n\n<p>Code above will construct a HashMap inside a HashMap with a constructor that looks like this:</p>\n\n<pre><code>Table&lt;String, String, Integer&gt; table = Tables.newCustomTable(\n        Maps.&lt;String, Map&lt;String, Integer&gt;&gt;newHashMap(),\n        new Supplier&lt;Map&lt;String, Integer&gt;&gt;() {\n    @Override\n    public Map&lt;String, Integer&gt; get() {\n        return Maps.newHashMap();\n    }\n});\n</code></pre>\n\n<p>In case you want to override the underlying structures you can easily change it.</p>\n"},{"tags":[],"owner":{"account_id":7696478,"reputation":367,"user_id":5830801,"display_name":"Anshul Verma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1507395134,"creation_date":1507381177,"answer_id":46620408,"question_id":10400285,"body_markdown":"You can go with this code!\r\n\r\n    public class List3D {\r\n    \r\n        public static class MyList {\r\n            String a = null;\r\n            String b = null;\r\n            String c = null;\r\n        \r\n            MyList(String a, String b, String c) {\r\n                this.a = a;\r\n                this.b = b;\r\n                this.c = c;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            List&lt;MyList&gt; myLists = new ArrayList&lt;&gt;();\r\n            myLists.add(new MyList(&quot;anshul0&quot;, &quot;is&quot;, &quot;good&quot;));\r\n            myLists.add(new MyList(&quot;anshul1&quot;, &quot;is&quot;, &quot;good&quot;));\r\n            myLists.add(new MyList(&quot;anshul2&quot;, &quot;is&quot;, &quot;good&quot;));\r\n            myLists.add(new MyList(&quot;anshul3&quot;, &quot;is&quot;, &quot;good&quot;));\r\n            myLists.add(new MyList(&quot;anshul4&quot;, &quot;is&quot;, &quot;good&quot;));\r\n            myLists.add(new MyList(&quot;anshul5&quot;, &quot;is&quot;, &quot;good&quot;));\r\n    \r\n            for (MyList myLista : myLists)\r\n                System.out.println(myLista.a + myLista.b + myLista.c);\r\n        }\r\n    }","title":"3-Dimension List or Map","body":"<p>You can go with this code!</p>\n\n<pre><code>public class List3D {\n\n    public static class MyList {\n        String a = null;\n        String b = null;\n        String c = null;\n\n        MyList(String a, String b, String c) {\n            this.a = a;\n            this.b = b;\n            this.c = c;\n        }\n    }\n\n    public static void main(String[] args) {\n\n        List&lt;MyList&gt; myLists = new ArrayList&lt;&gt;();\n        myLists.add(new MyList(\"anshul0\", \"is\", \"good\"));\n        myLists.add(new MyList(\"anshul1\", \"is\", \"good\"));\n        myLists.add(new MyList(\"anshul2\", \"is\", \"good\"));\n        myLists.add(new MyList(\"anshul3\", \"is\", \"good\"));\n        myLists.add(new MyList(\"anshul4\", \"is\", \"good\"));\n        myLists.add(new MyList(\"anshul5\", \"is\", \"good\"));\n\n        for (MyList myLista : myLists)\n            System.out.println(myLista.a + myLista.b + myLista.c);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13309392,"reputation":190,"user_id":9653526,"display_name":"Angel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1631464711,"creation_date":1631464711,"answer_id":69153387,"question_id":10400285,"body_markdown":"If you dont want to create a class:\r\n\r\n    Map&lt;String, Map&lt;String,Integer&gt;&gt; myData;\r\n","title":"3-Dimension List or Map","body":"<p>If you dont want to create a class:</p>\n<pre><code>Map&lt;String, Map&lt;String,Integer&gt;&gt; myData;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5576146,"reputation":13,"user_id":4419472,"display_name":"Lucian Bacila"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650017547,"creation_date":1650017547,"answer_id":71882766,"question_id":10400285,"body_markdown":"For synchronized structure, you can use Tables.synchronizedTable from [guava 22][1] or later. \r\n\r\n    Table&lt;String, String, Integer&gt; table = Tables.synchronizedTable(HashBasedTable.&lt;String, String, Integer&gt;create());\r\n\r\nTo add an element into the collection you can do:\r\n\r\n    table.put(&quot;abc&quot;, &quot;def&quot;, 123);\r\nTo remove the element from the collection:\r\n\r\n    table.remove(&quot;abc&quot;, &quot;def&quot;);\r\n\r\n  [1]: https://guava.dev/releases/22.0/api/docs/com/google/common/collect/Tables.html#synchronizedTable-com.google.common.collect.Table-","title":"3-Dimension List or Map","body":"<p>For synchronized structure, you can use Tables.synchronizedTable from <a href=\"https://guava.dev/releases/22.0/api/docs/com/google/common/collect/Tables.html#synchronizedTable-com.google.common.collect.Table-\" rel=\"nofollow noreferrer\">guava 22</a> or later.</p>\n<pre><code>Table&lt;String, String, Integer&gt; table = Tables.synchronizedTable(HashBasedTable.&lt;String, String, Integer&gt;create());\n</code></pre>\n<p>To add an element into the collection you can do:</p>\n<pre><code>table.put(&quot;abc&quot;, &quot;def&quot;, 123);\n</code></pre>\n<p>To remove the element from the collection:</p>\n<pre><code>table.remove(&quot;abc&quot;, &quot;def&quot;);\n</code></pre>\n"}],"owner":{"account_id":957889,"reputation":18106,"user_id":982865,"accept_rate":94,"display_name":"Evgenij Reznik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43597,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":10400333,"answer_count":7,"score":13,"last_activity_date":1650017547,"creation_date":1335887427,"question_id":10400285,"body_markdown":"I need something like a 3-dimension (like a list or a map), which I fill with 2 Strings and an Integer within a loop. But, unfortunately I don&#39;t know which data structure to use and how.\r\n\r\n    // something like a 3-dimensional myData\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        myData.add(&quot;abc&quot;, &quot;def&quot;, 123);\r\n    }","title":"3-Dimension List or Map","body":"<p>I need something like a 3-dimension (like a list or a map), which I fill with 2 Strings and an Integer within a loop. But, unfortunately I don't know which data structure to use and how.</p>\n\n<pre><code>// something like a 3-dimensional myData\nfor (int i = 0; i &lt; 10; i++) {\n    myData.add(\"abc\", \"def\", 123);\n}\n</code></pre>\n"},{"tags":["java","apache-camel","bindy"],"answers":[{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650017198,"creation_date":1647508189,"answer_id":71509655,"question_id":71497688,"body_markdown":"In your use case, the option [`allowEmptyStream`][1] must be set to `true` at Bindy DataFormat level, as next:\r\n\r\n```\r\nBindyCsvDataFormat bindy = new BindyCsvDataFormat(SomeModel.class);\r\nbindy.setAllowEmptyStream(true);\r\n\r\nfrom(&quot;file:some/path&quot;)\r\n    .unmarshal(bindy)\r\n    // The rest of the route\r\n```\r\n\r\n\r\n  [1]: https://camel.apache.org/components/3.15.x/dataformats/bindy-dataformat.html#_dataformat_option_allowEmptyStream","title":"Bindy skipping empty csv files","body":"<p>In your use case, the option <a href=\"https://camel.apache.org/components/3.15.x/dataformats/bindy-dataformat.html#_dataformat_option_allowEmptyStream\" rel=\"nofollow noreferrer\"><code>allowEmptyStream</code></a> must be set to <code>true</code> at Bindy DataFormat level, as next:</p>\n<pre><code>BindyCsvDataFormat bindy = new BindyCsvDataFormat(SomeModel.class);\nbindy.setAllowEmptyStream(true);\n\nfrom(&quot;file:some/path&quot;)\n    .unmarshal(bindy)\n    // The rest of the route\n</code></pre>\n"}],"owner":{"account_id":15462565,"reputation":132,"user_id":11154866,"display_name":"lbma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650017198,"creation_date":1647436209,"question_id":71497688,"body_markdown":"I built a camel route that unmarshals a csv file using camel bindy and writes the contents to a database. This works perfectly apart from when the file is empty, which by the looks of it will happen a lot. The file does contain csv headers, but no relevant data e.g.:\r\n\r\n```\r\nCODE;CATEGORY;PRICE;\r\n``` \r\n\r\nIn this case the following error is thrown: \r\n```\r\njava.lang.IllegalArgumentException: No records have been defined in the CSV\r\n```\r\nI tried adding `allowEmptyStream = true` to the bindy object that I use for unmarshalling. This however does not seem to do much, as the same error appears. \r\n \r\nAny ideas on how to skip processing these empty files is very welcome.\r\n","title":"Bindy skipping empty csv files","body":"<p>I built a camel route that unmarshals a csv file using camel bindy and writes the contents to a database. This works perfectly apart from when the file is empty, which by the looks of it will happen a lot. The file does contain csv headers, but no relevant data e.g.:</p>\n<pre><code>CODE;CATEGORY;PRICE;\n</code></pre>\n<p>In this case the following error is thrown:</p>\n<pre><code>java.lang.IllegalArgumentException: No records have been defined in the CSV\n</code></pre>\n<p>I tried adding <code>allowEmptyStream = true</code> to the bindy object that I use for unmarshalling. This however does not seem to do much, as the same error appears.</p>\n<p>Any ideas on how to skip processing these empty files is very welcome.</p>\n"},{"tags":["java","log4j","log4j2","splunk"],"comments":[{"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":0,"creation_date":1649074350,"post_id":71737023,"comment_id":126776370,"body_markdown":"https://github.com/reportportal/logger-java-log4j/issues/22","body":"<a href=\"https://github.com/reportportal/logger-java-log4j/issues/22\" rel=\"nofollow noreferrer\">github.com/reportportal/logger-java-log4j/issues/22</a>"},{"owner":{"account_id":22486163,"reputation":29,"user_id":16684517,"display_name":"SE123987"},"score":0,"creation_date":1649078570,"post_id":71737023,"comment_id":126778081,"body_markdown":"@MadsHansen tnx for the soln. I swithced log4j2 to  2.11.2. Error has gone now. But I&#39;m unable to see the logs which I&#39;m sending from java to splunk here","body":"@MadsHansen tnx for the soln. I swithced log4j2 to  2.11.2. Error has gone now. But I&#39;m unable to see the logs which I&#39;m sending from java to splunk here"},{"owner":{"account_id":3110,"reputation":32932,"user_id":4418,"accept_rate":94,"display_name":"warren"},"score":0,"creation_date":1649247890,"post_id":71737023,"comment_id":126826785,"body_markdown":"Why did you reask this: https://stackoverflow.com/q/71761531/4418?","body":"Why did you reask this: <a href=\"https://stackoverflow.com/q/71761531/4418\">stackoverflow.com/q/71761531/4418</a>?"}],"answers":[{"tags":[],"owner":{"account_id":6789104,"reputation":305,"user_id":5856262,"display_name":"oskarryn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650017088,"creation_date":1650017088,"answer_id":71882691,"question_id":71737023,"body_markdown":"Add `.addAttribute(&quot;batch_size_count&quot;, &quot;1&quot;)` or make a loop producing 10 log messages, becasue that&#39;s the default value of `batch_size_count`. This has been explained in splunk docs [&quot;Configure Log4j 2&quot; section][1].\r\n\r\nBy the way, I reckon the [services/collector][2] endpoint should be used with JSON messages (e.g. `.add(builder.newLayout(&quot;JSONLayout&quot;))`). Also, you are using a log4j2 version that has the Log4Shell (CVE-2021-44228) vulnerability. It has been fixed in `2.15.0`, switch to anything between that and the newest version `2.17.2`. \r\n\r\nFinally, I share the sentiment of the answers to the question https://stackoverflow.com/questions/30881990/how-to-configure-log4j-2-x-purely-programmatically that log4j2 is troublesome to use when configured programmatically. I had issues with it in a cluster env and switching to file configuration solved all my problems.\r\n\r\n\r\n  [1]: https://dev.splunk.com/enterprise/docs/devtools/java/logging-java/howtouseloggingjava/enableloghttpjava/#Configure-Log4j-2\r\n  [2]: https://docs.splunk.com/Documentation/Splunk/8.0.6/RESTREF/RESTinput#services.2Fcollector","title":"Unable to send the logs to Splunk Enterprise local using log4j2","body":"<p>Add <code>.addAttribute(&quot;batch_size_count&quot;, &quot;1&quot;)</code> or make a loop producing 10 log messages, becasue that's the default value of <code>batch_size_count</code>. This has been explained in splunk docs <a href=\"https://dev.splunk.com/enterprise/docs/devtools/java/logging-java/howtouseloggingjava/enableloghttpjava/#Configure-Log4j-2\" rel=\"nofollow noreferrer\">&quot;Configure Log4j 2&quot; section</a>.</p>\n<p>By the way, I reckon the <a href=\"https://docs.splunk.com/Documentation/Splunk/8.0.6/RESTREF/RESTinput#services.2Fcollector\" rel=\"nofollow noreferrer\">services/collector</a> endpoint should be used with JSON messages (e.g. <code>.add(builder.newLayout(&quot;JSONLayout&quot;))</code>). Also, you are using a log4j2 version that has the Log4Shell (CVE-2021-44228) vulnerability. It has been fixed in <code>2.15.0</code>, switch to anything between that and the newest version <code>2.17.2</code>.</p>\n<p>Finally, I share the sentiment of the answers to the question <a href=\"https://stackoverflow.com/questions/30881990/how-to-configure-log4j-2-x-purely-programmatically\">How to configure log4j 2.x purely programmatically?</a> that log4j2 is troublesome to use when configured programmatically. I had issues with it in a cluster env and switching to file configuration solved all my problems.</p>\n"}],"owner":{"account_id":22486163,"reputation":29,"user_id":16684517,"display_name":"SE123987"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71882691,"answer_count":1,"score":1,"last_activity_date":1650017088,"creation_date":1649074161,"question_id":71737023,"body_markdown":"I&#39;m using log4j2 and splunk within java to send logs into my Splunk Enterprise HEC (HTTP Event Collector) Splunk Enterprise is running in my local machine.\r\n\r\nI&#39;m doing all log4j2 configuration programmatically. (I know this is not the correct way to do this but I&#39;m still doing this for learning purpose).\r\n\r\nI tried to send the logs into Splunk Enterprise directly from postman with the same URL and token and it works fine, but when I tried to send the logs from java using log4j2 I don&#39;t get anything in splunk.\r\n\r\nMy code is =&gt;\r\n\r\n    import org.apache.logging.log4j.Level;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.apache.logging.log4j.core.config.Configurator;\r\n    import org.apache.logging.log4j.core.config.builder.api.ConfigurationBuilder;\r\n    import org.apache.logging.log4j.core.config.builder.api.ConfigurationBuilderFactory;\r\n    import org.apache.logging.log4j.core.config.builder.impl.BuiltConfiguration;\r\n    import org.apache.logging.log4j.core.layout.PatternLayout;\r\n    import com.splunk.logging.*;\r\n\r\n    public class Main {\r\n\tprivate static final Logger log;\r\n\r\n\tstatic {\r\n\t  configureLog4J();\r\n\t  log = LogManager.getLogger(Main.class);\r\n\t}\r\n\tpublic static void configureLog4J() {\r\n\t\t  ConfigurationBuilder&lt;BuiltConfiguration&gt; builder =\r\n\t\t\t\t  ConfigurationBuilderFactory.newConfigurationBuilder();\r\n\r\n\t\t  // configure a splunk appender\r\n\t\t  builder.add(\r\n\t\t      builder.newAppender(&quot;splunkH&quot;, &quot;SplunkHttp&quot;)\r\n\t\t          .add(\r\n\t\t              builder.newLayout(PatternLayout.class.getSimpleName())\r\n\t\t                  .addAttribute(\r\n\t\t                      &quot;pattern&quot;,\r\n\t\t                      &quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;\r\n\t\t                  )\r\n\t\t          )\r\n\t\t          .addAttribute(&quot;sourcetype&quot;, &quot;log4j2&quot;)\r\n\t\t          .addAttribute(&quot;index&quot;, &quot;main&quot;)\r\n\t\t          .addAttribute(&quot;url&quot;, &quot;http://localhost:8088/services/collector&quot;) //I tried this url in postman and its working fine there\r\n\t\t          .addAttribute(&quot;token&quot;, &quot;xxx&quot;)\r\n\t\t          .addAttribute(&quot;disableCertificateValidation&quot;, &quot;true&quot;)\r\n\t\t          \r\n\t\t          \r\n\t\t  );\r\n\r\n\t\t  // configure the root logger\r\n\t\t  builder.add(\r\n\t\t      builder.newRootLogger(Level.INFO)\r\n\t\t          .add(builder.newAppenderRef(&quot;splunkH&quot;))\r\n\t\t  );\r\n\r\n\t\t  // apply the configuration\r\n\t\t  Configurator.initialize(builder.build());\r\n\r\n\t\t}//end of configureLog4J\r\n\r\n    public static void main(String ar[]) {\r\n        log.log(Level.INFO, &quot;Hello from log4j2&quot;);\r\n\t\t\r\n\t\tlog.log(Level.ERROR, &quot;Error from log4j2&quot;);\r\n    \r\n    }//end of main method\r\n    }//end of class\r\n\r\nmy POM file\r\n\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.splunk.logging&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;splunk-library-javalogging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.11.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.splunk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;splunk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;splunk-artifactory&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Splunk Releases&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://splunk.jfrog.io/splunk/ext-releases-local&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\nI cannot see any logs in splunk. Did I miss something ?","title":"Unable to send the logs to Splunk Enterprise local using log4j2","body":"<p>I'm using log4j2 and splunk within java to send logs into my Splunk Enterprise HEC (HTTP Event Collector) Splunk Enterprise is running in my local machine.</p>\n<p>I'm doing all log4j2 configuration programmatically. (I know this is not the correct way to do this but I'm still doing this for learning purpose).</p>\n<p>I tried to send the logs into Splunk Enterprise directly from postman with the same URL and token and it works fine, but when I tried to send the logs from java using log4j2 I don't get anything in splunk.</p>\n<p>My code is =&gt;</p>\n<pre><code>import org.apache.logging.log4j.Level;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.core.config.Configurator;\nimport org.apache.logging.log4j.core.config.builder.api.ConfigurationBuilder;\nimport org.apache.logging.log4j.core.config.builder.api.ConfigurationBuilderFactory;\nimport org.apache.logging.log4j.core.config.builder.impl.BuiltConfiguration;\nimport org.apache.logging.log4j.core.layout.PatternLayout;\nimport com.splunk.logging.*;\n\npublic class Main {\nprivate static final Logger log;\n\nstatic {\n  configureLog4J();\n  log = LogManager.getLogger(Main.class);\n}\npublic static void configureLog4J() {\n      ConfigurationBuilder&lt;BuiltConfiguration&gt; builder =\n              ConfigurationBuilderFactory.newConfigurationBuilder();\n\n      // configure a splunk appender\n      builder.add(\n          builder.newAppender(&quot;splunkH&quot;, &quot;SplunkHttp&quot;)\n              .add(\n                  builder.newLayout(PatternLayout.class.getSimpleName())\n                      .addAttribute(\n                          &quot;pattern&quot;,\n                          &quot;%d{HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n&quot;\n                      )\n              )\n              .addAttribute(&quot;sourcetype&quot;, &quot;log4j2&quot;)\n              .addAttribute(&quot;index&quot;, &quot;main&quot;)\n              .addAttribute(&quot;url&quot;, &quot;http://localhost:8088/services/collector&quot;) //I tried this url in postman and its working fine there\n              .addAttribute(&quot;token&quot;, &quot;xxx&quot;)\n              .addAttribute(&quot;disableCertificateValidation&quot;, &quot;true&quot;)\n              \n              \n      );\n\n      // configure the root logger\n      builder.add(\n          builder.newRootLogger(Level.INFO)\n              .add(builder.newAppenderRef(&quot;splunkH&quot;))\n      );\n\n      // apply the configuration\n      Configurator.initialize(builder.build());\n\n    }//end of configureLog4J\n\npublic static void main(String ar[]) {\n    log.log(Level.INFO, &quot;Hello from log4j2&quot;);\n    \n    log.log(Level.ERROR, &quot;Error from log4j2&quot;);\n\n}//end of main method\n}//end of class\n</code></pre>\n<p>my POM file</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.splunk.logging&lt;/groupId&gt;\n        &lt;artifactId&gt;splunk-library-javalogging&lt;/artifactId&gt;\n        &lt;version&gt;1.11.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.11.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.11.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.splunk&lt;/groupId&gt;\n        &lt;artifactId&gt;splunk&lt;/artifactId&gt;\n        &lt;version&gt;1.6.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;splunk-artifactory&lt;/id&gt;\n        &lt;name&gt;Splunk Releases&lt;/name&gt;\n        &lt;url&gt;https://splunk.jfrog.io/splunk/ext-releases-local&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>I cannot see any logs in splunk. Did I miss something ?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":2,"creation_date":1650014036,"post_id":71880077,"comment_id":127022331,"body_markdown":"You should quote your path if space is important","body":"You should quote your path if space is important"}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650011391,"creation_date":1650011391,"answer_id":71881763,"question_id":71880077,"body_markdown":"The blank in the path name between 18 and 2 is suspicious. Remove that. Or more precisely rename that path to something without blank.","title":"Error: Could not find or load main class 2.lib","body":"<p>The blank in the path name between 18 and 2 is suspicious. Remove that. Or more precisely rename that path to something without blank.</p>\n"}],"owner":{"account_id":24918863,"reputation":1,"user_id":18787422,"display_name":"Lily"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650017010,"creation_date":1649996745,"question_id":71880077,"body_markdown":"I need help I install JavaFX on my Macbook air but I keep getting this Error:\r\n\r\n    Could not find or load main class 2.lib\r\n\r\neven though I updated the arguments on the runtime \r\n\r\n    --module-path /Users/lily/Developer/javafx-sdk-18 2/lib --add-modules javafx.controls,javafx.fxml \r\n\r\nand added the jar files. does anyone knows how to fix this on Mac.\r\n","title":"Error: Could not find or load main class 2.lib","body":"<p>I need help I install JavaFX on my Macbook air but I keep getting this Error:</p>\n<pre><code>Could not find or load main class 2.lib\n</code></pre>\n<p>even though I updated the arguments on the runtime</p>\n<pre><code>--module-path /Users/lily/Developer/javafx-sdk-18 2/lib --add-modules javafx.controls,javafx.fxml \n</code></pre>\n<p>and added the jar files. does anyone knows how to fix this on Mac.</p>\n"},{"tags":["java","spring","spring-boot","jwt"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1649968827,"post_id":71877254,"comment_id":127014609,"body_markdown":"Is the clock on the machine you&#39;re running this on incorrect?  The token expiration date (April 14, 2022 at 23:58:11) hasn&#39;t passed even as I write this.","body":"Is the clock on the machine you&#39;re running this on incorrect?  The token expiration date (April 14, 2022 at 23:58:11) hasn&#39;t passed even as I write this."},{"owner":{"display_name":"anon"},"score":0,"creation_date":1649970389,"post_id":71877254,"comment_id":127015017,"body_markdown":"@stdunbar Where do you see this expiration date? If this would be the expiration date it would work, but in the error log it says, that the expiration date was the 2022-04-12, and not the 2022-04-14 :/","body":"@stdunbar Where do you see this expiration date? If this would be the expiration date it would work, but in the error log it says, that the expiration date was the 2022-04-12, and not the 2022-04-14 :/"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1649970886,"post_id":71877254,"comment_id":127015148,"body_markdown":"If I paste your token into [jwt.io](https://jwt.io) the `exp` field is April 14, 2022 at 23:58:11 and these are always UTC.  UTC, as of writing this, is April 14, 2022 21:13 and a bit.","body":"If I paste your token into <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">jwt.io</a> the <code>exp</code> field is April 14, 2022 at 23:58:11 and these are always UTC.  UTC, as of writing this, is April 14, 2022 21:13 and a bit."},{"owner":{"display_name":"anon"},"score":0,"creation_date":1649971264,"post_id":71877254,"comment_id":127015226,"body_markdown":"@stdunbar Oh yeah right. I even get the day of tomorrow(2022-04-15). But thats how it should be, right? I want the token to run out tomorrow so I can test it now, but as you can see in the error log(JWT expired at 2022-04-12T21:27:05Z) the token has expired at the April 12th. And this is the part I don&#39;t understand. As you said, the token hasn&#39;t even expired yet(after the info in the payload) but after the error log the token has expired at the 12th of April. And now I wan&#39;t to know why it doesn&#39;t expire tomorrow but expired 2(3) days prior?","body":"@stdunbar Oh yeah right. I even get the day of tomorrow(2022-04-15). But thats how it should be, right? I want the token to run out tomorrow so I can test it now, but as you can see in the error log(JWT expired at 2022-04-12T21:27:05Z) the token has expired at the April 12th. And this is the part I don&#39;t understand. As you said, the token hasn&#39;t even expired yet(after the info in the payload) but after the error log the token has expired at the 12th of April. And now I wan&#39;t to know why it doesn&#39;t expire tomorrow but expired 2(3) days prior?"},{"owner":{"display_name":"anon"},"score":0,"creation_date":1649972720,"post_id":71877254,"comment_id":127015549,"body_markdown":"@stdunbar &quot;The &quot;exp&quot; (expiration time) claim identifies the expiration time on or after which the JWT MUST NOT be accepted for processing. The processing of the &quot;exp&quot; claim requires **that the current date/time MUST be before the expiration date/time listed in the &quot;exp&quot; claim.**&quot; - https://gist.github.com/soulmachine/b368ce7292ddd7f91c15accccc02b8df So if it would be like it is standing in the token(even you said, that you see a date that hasn&#39;t even passed yet on jwt.io), everything should work. But somehow JWT gets a weird date from somewhere I don&#39;t know and uses that","body":"@stdunbar &quot;The &quot;exp&quot; (expiration time) claim identifies the expiration time on or after which the JWT MUST NOT be accepted for processing. The processing of the &quot;exp&quot; claim requires <b>that the current date/time MUST be before the expiration date/time listed in the &quot;exp&quot; claim.</b>&quot; - <a href=\"https://gist.github.com/soulmachine/b368ce7292ddd7f91c15accccc02b8df\" rel=\"nofollow noreferrer\">gist.github.com/soulmachine/b368ce7292ddd7f91c15accccc02b8df</a> So if it would be like it is standing in the token(even you said, that you see a date that hasn&#39;t even passed yet on jwt.io), everything should work. But somehow JWT gets a weird date from somewhere I don&#39;t know and uses that"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1649973811,"post_id":71877254,"comment_id":127015788,"body_markdown":"I feel like there is a mismatch somewhere.   The error doesn&#39;t have the same time as what you posted, regardless of the date and time zone.  The posted JWT is XX:58:11.  Your error is XX:27:05.  I&#39;d re-verify that you&#39;re really using the token you posted.","body":"I feel like there is a mismatch somewhere.   The error doesn&#39;t have the same time as what you posted, regardless of the date and time zone.  The posted JWT is XX:58:11.  Your error is XX:27:05.  I&#39;d re-verify that you&#39;re really using the token you posted."},{"owner":{"display_name":"anon"},"score":0,"creation_date":1649974126,"post_id":71877254,"comment_id":127015837,"body_markdown":"@stdunbar Yes, that correct. The expiration time in the error log is another one, then in the token. And that is the problem! I have the same question as you: Where does this time come from? Because it doesn&#39;t come from the token. Now I also posted a picture of the request, where you can see the same token","body":"@stdunbar Yes, that correct. The expiration time in the error log is another one, then in the token. And that is the problem! I have the same question as you: Where does this time come from? Because it doesn&#39;t come from the token. Now I also posted a picture of the request, where you can see the same token"}],"answers":[{"tags":[],"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650016917,"creation_date":1650016917,"answer_id":71882659,"question_id":71877254,"body_markdown":"I made a mistake, while sending the request in Postman. Instead of passing the JWT in the Header I passed it as an Parameter, which of course won&#39;t work because I have nothing that extracts the JWT from the URL&#129318;‍♂️","title":"Why do I get a &quot;io.jsonwebtoken.ExpiredJwtException&quot;?","body":"<p>I made a mistake, while sending the request in Postman. Instead of passing the JWT in the Header I passed it as an Parameter, which of course won't work because I have nothing that extracts the JWT from the URL🤦‍♂️</p>\n"}],"owner":{"display_name":"anon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7368,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71882659,"answer_count":1,"score":0,"last_activity_date":1650016917,"creation_date":1649967850,"question_id":71877254,"body_markdown":"I have a problem with my Spring Security JWT Application. I am getting an error because my JWT is expired, but I can&#39;t find, where it gets the 2022-04-12 as an expiration date. I can&#39;t find a single piece of code, which says that the expiration date is the 2022-04-12. After my understanding, it is creating a new token, each time I am logging in with a new expiration time, which also has to be true, because in my output I get a new token everytime. But because the 2022-04-12 has already passed, I am getting a &quot;io.jsonwebtoken.ExpiredJwtException&quot;. So where does it get the 2022-04-12 from???\r\nI am just providing the parts of my code, I think are neccesary, but if you need more code, just let me know!( I am using Spring Security, if that matters)\r\n\r\nFilter:\r\n```\r\npackage de.gabriel.springsecurityjwt.filters;\r\n\r\n\r\nimport de.gabriel.springsecurityjwt.services.MyUserDetailsService;\r\nimport de.gabriel.springsecurityjwt.util.JwtUtil;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.util.Date;\r\n\r\n@Component\r\npublic class JwtRequestFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    private MyUserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    private JwtUtil jwtUtil;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\r\n            throws ServletException, IOException {\r\n\r\n        final String authorizationHeader = request.getHeader(&quot;Authorization&quot;);\r\n\r\n        String username = null;\r\n        String jwt = null;\r\n\r\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n            jwt = authorizationHeader.substring(7);\r\n            username = jwtUtil.extractUsername(jwt);\r\n        }\r\n\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\r\n           if (jwtUtil.validateToken(jwt, userDetails)) { // If token is valid\r\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, userDetails.getAuthorities());\r\n                usernamePasswordAuthenticationToken\r\n                        .setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n\r\n          }\r\n\r\n        }\r\n        chain.doFilter(request, response);\r\n    }\r\n\r\n}\r\n```\r\nUtil class for JWT:\r\n```\r\npackage de.gabriel.springsecurityjwt.util;\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.function.Function;\r\n\r\n@Service\r\npublic class JwtUtil { // JwtUtil is a class that is used to create and parse JWT tokens\r\n\r\n    private final String SECRET_KEY = &quot;secret&quot;;\r\n\r\n    public String extractUsername(String token) {\r\n        return extractClaim(token, Claims::getSubject);\r\n    }\r\n\r\n    public Date extractExpiration(String token) {\r\n        return extractClaim(token, Claims::getExpiration);\r\n    }\r\n\r\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\r\n        final Claims claims = extractAllClaims(token);\r\n        return claimsResolver.apply(claims);\r\n    }\r\n    private Claims extractAllClaims(String token) {\r\n        return Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token).getBody();\r\n    }\r\n\r\n    private Boolean isTokenExpired(String token) {\r\n        return extractExpiration(token).before(new Date());\r\n    }\r\n\r\n    public String generateToken(UserDetails userDetails) {\r\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n        return createToken(claims, userDetails.getUsername());\r\n    }\r\n\r\n    private String createToken(Map&lt;String, Object&gt; claims, String subject) {\r\n        return Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 60 * 10))\r\n                .signWith(SignatureAlgorithm.HS256, SECRET_KEY).compact();\r\n    }\r\n\r\n    public Boolean validateToken(String token, UserDetails userDetails) {\r\n        final String username = extractUsername(token);\r\n        return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\r\n    }\r\n}\r\n```\r\nRest Controller class:\r\n```\r\npackage de.gabriel.springsecurityjwt;\r\n\r\nimport de.gabriel.springsecurityjwt.models.AuthenticationRequest;\r\nimport de.gabriel.springsecurityjwt.models.AuthenticationResponse;\r\nimport de.gabriel.springsecurityjwt.services.MyUserDetailsService;\r\nimport de.gabriel.springsecurityjwt.util.JwtUtil;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.Date;\r\n\r\n@RestController\r\npublic class HelloResource {\r\n\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    private JwtUtil jwtTokenUtil;\r\n\r\n    @Autowired\r\n    private MyUserDetailsService userDetailsService;\r\n\r\n    @RequestMapping( &quot;/hello&quot; )\r\n    public String hello() {\r\n        return &quot;Hello World&quot;;\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/authenticate&quot;, method = RequestMethod.POST)\r\n    public ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest) throws Exception {\r\n\r\n        try {\r\n            authenticationManager.authenticate(\r\n                    new UsernamePasswordAuthenticationToken(authenticationRequest.getUsername(), authenticationRequest.getPassword())\r\n            );\r\n        }\r\n        catch (BadCredentialsException e) {\r\n            throw new Exception(&quot;Incorrect username or password&quot;, e);\r\n        }\r\n\r\n\r\n        final UserDetails userDetails = userDetailsService\r\n                .loadUserByUsername(authenticationRequest.getUsername());\r\n\r\n        final String jwt = jwtTokenUtil.generateToken(userDetails);\r\n\r\n        return ResponseEntity.ok(new AuthenticationResponse(jwt)); // Return token\r\n\r\n    }\r\n\r\n}\r\n```\r\nSecurity Configurer class:\r\n```\r\npackage de.gabriel.springsecurityjwt;\r\n\r\nimport de.gabriel.springsecurityjwt.filters.JwtRequestFilter;\r\nimport de.gabriel.springsecurityjwt.services.MyUserDetailsService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n@EnableWebSecurity\r\npublic class SecurityConfigurer extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private UserDetailsService myUserDetailsService;\r\n    @Autowired\r\n    private JwtRequestFilter jwtRequestFilter;\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(myUserDetailsService);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return NoOpPasswordEncoder.getInstance();\r\n    }\r\n\r\n    @Override\r\n    @Bean\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.csrf().disable()\r\n                .authorizeRequests().antMatchers(&quot;/authenticate&quot;).permitAll().\r\n                anyRequest().authenticated().and().\r\n                exceptionHandling().and().sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n                httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n    }\r\n\r\n}\r\n```\r\nHere is the error log:\r\n```\r\nio.jsonwebtoken.ExpiredJwtException: JWT expired at 2022-04-12T21:27:05Z. Current time: 2022-04-14T22:20:23Z, a difference of 175998276 milliseconds.  Allowed clock skew: 0 milliseconds.\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:385) ~[jjwt-0.9.1.jar:0.9.1]\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:481) ~[jjwt-0.9.1.jar:0.9.1]\r\n\tat io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:541) ~[jjwt-0.9.1.jar:0.9.1]\r\n\tat de.gabriel.springsecurityjwt.util.JwtUtil.extractAllClaims(JwtUtil.java:31) ~[classes/:na]\r\n\tat de.gabriel.springsecurityjwt.util.JwtUtil.extractClaim(JwtUtil.java:27) ~[classes/:na]\r\n\tat de.gabriel.springsecurityjwt.util.JwtUtil.extractUsername(JwtUtil.java:19) ~[classes/:na]\r\n\tat de.gabriel.springsecurityjwt.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:41) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\nThis is the token used:\r\n```\r\neyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmb28iLCJleHAiOjE2NTAwMDIyOTEsImlhdCI6MTY0OTk2NjI5MX0.tzfB0Wy9Dp3Y9pl-5_Oc4gwPClOHlIjE8kHUcgvKhUs\r\n```\r\nAnd this is the token (payload) decoded:\r\n```\r\n{\r\n  &quot;sub&quot;: &quot;foo&quot;,\r\n  &quot;exp&quot;: 1650002291, (2022-04-15)\r\n  &quot;iat&quot;: 1649966291\r\n}\r\n```\r\nThis is a \r\n[image of the decoded JWT from jwt.io][1]\r\n\r\n\r\nAnd [this][2] this is the request I use\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qsxsb.png\r\n  [2]: https://i.stack.imgur.com/uy90I.png","title":"Why do I get a &quot;io.jsonwebtoken.ExpiredJwtException&quot;?","body":"<p>I have a problem with my Spring Security JWT Application. I am getting an error because my JWT is expired, but I can't find, where it gets the 2022-04-12 as an expiration date. I can't find a single piece of code, which says that the expiration date is the 2022-04-12. After my understanding, it is creating a new token, each time I am logging in with a new expiration time, which also has to be true, because in my output I get a new token everytime. But because the 2022-04-12 has already passed, I am getting a &quot;io.jsonwebtoken.ExpiredJwtException&quot;. So where does it get the 2022-04-12 from???\nI am just providing the parts of my code, I think are neccesary, but if you need more code, just let me know!( I am using Spring Security, if that matters)</p>\n<p>Filter:</p>\n<pre><code>package de.gabriel.springsecurityjwt.filters;\n\n\nimport de.gabriel.springsecurityjwt.services.MyUserDetailsService;\nimport de.gabriel.springsecurityjwt.util.JwtUtil;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.Date;\n\n@Component\npublic class JwtRequestFilter extends OncePerRequestFilter {\n\n    @Autowired\n    private MyUserDetailsService userDetailsService;\n\n    @Autowired\n    private JwtUtil jwtUtil;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\n            throws ServletException, IOException {\n\n        final String authorizationHeader = request.getHeader(&quot;Authorization&quot;);\n\n        String username = null;\n        String jwt = null;\n\n        if (authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n            jwt = authorizationHeader.substring(7);\n            username = jwtUtil.extractUsername(jwt);\n        }\n\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\n           if (jwtUtil.validateToken(jwt, userDetails)) { // If token is valid\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities());\n                usernamePasswordAuthenticationToken\n                        .setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n\n          }\n\n        }\n        chain.doFilter(request, response);\n    }\n\n}\n</code></pre>\n<p>Util class for JWT:</p>\n<pre><code>package de.gabriel.springsecurityjwt.util;\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.function.Function;\n\n@Service\npublic class JwtUtil { // JwtUtil is a class that is used to create and parse JWT tokens\n\n    private final String SECRET_KEY = &quot;secret&quot;;\n\n    public String extractUsername(String token) {\n        return extractClaim(token, Claims::getSubject);\n    }\n\n    public Date extractExpiration(String token) {\n        return extractClaim(token, Claims::getExpiration);\n    }\n\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\n        final Claims claims = extractAllClaims(token);\n        return claimsResolver.apply(claims);\n    }\n    private Claims extractAllClaims(String token) {\n        return Jwts.parser().setSigningKey(SECRET_KEY).parseClaimsJws(token).getBody();\n    }\n\n    private Boolean isTokenExpired(String token) {\n        return extractExpiration(token).before(new Date());\n    }\n\n    public String generateToken(UserDetails userDetails) {\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        return createToken(claims, userDetails.getUsername());\n    }\n\n    private String createToken(Map&lt;String, Object&gt; claims, String subject) {\n        return Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 60 * 10))\n                .signWith(SignatureAlgorithm.HS256, SECRET_KEY).compact();\n    }\n\n    public Boolean validateToken(String token, UserDetails userDetails) {\n        final String username = extractUsername(token);\n        return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\n    }\n}\n</code></pre>\n<p>Rest Controller class:</p>\n<pre><code>package de.gabriel.springsecurityjwt;\n\nimport de.gabriel.springsecurityjwt.models.AuthenticationRequest;\nimport de.gabriel.springsecurityjwt.models.AuthenticationResponse;\nimport de.gabriel.springsecurityjwt.services.MyUserDetailsService;\nimport de.gabriel.springsecurityjwt.util.JwtUtil;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Date;\n\n@RestController\npublic class HelloResource {\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private JwtUtil jwtTokenUtil;\n\n    @Autowired\n    private MyUserDetailsService userDetailsService;\n\n    @RequestMapping( &quot;/hello&quot; )\n    public String hello() {\n        return &quot;Hello World&quot;;\n    }\n\n    @RequestMapping(value = &quot;/authenticate&quot;, method = RequestMethod.POST)\n    public ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody AuthenticationRequest authenticationRequest) throws Exception {\n\n        try {\n            authenticationManager.authenticate(\n                    new UsernamePasswordAuthenticationToken(authenticationRequest.getUsername(), authenticationRequest.getPassword())\n            );\n        }\n        catch (BadCredentialsException e) {\n            throw new Exception(&quot;Incorrect username or password&quot;, e);\n        }\n\n\n        final UserDetails userDetails = userDetailsService\n                .loadUserByUsername(authenticationRequest.getUsername());\n\n        final String jwt = jwtTokenUtil.generateToken(userDetails);\n\n        return ResponseEntity.ok(new AuthenticationResponse(jwt)); // Return token\n\n    }\n\n}\n</code></pre>\n<p>Security Configurer class:</p>\n<pre><code>package de.gabriel.springsecurityjwt;\n\nimport de.gabriel.springsecurityjwt.filters.JwtRequestFilter;\nimport de.gabriel.springsecurityjwt.services.MyUserDetailsService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@EnableWebSecurity\npublic class SecurityConfigurer extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserDetailsService myUserDetailsService;\n    @Autowired\n    private JwtRequestFilter jwtRequestFilter;\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(myUserDetailsService);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return NoOpPasswordEncoder.getInstance();\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf().disable()\n                .authorizeRequests().antMatchers(&quot;/authenticate&quot;).permitAll().\n                anyRequest().authenticated().and().\n                exceptionHandling().and().sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n                httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n\n    }\n\n}\n</code></pre>\n<p>Here is the error log:</p>\n<pre><code>io.jsonwebtoken.ExpiredJwtException: JWT expired at 2022-04-12T21:27:05Z. Current time: 2022-04-14T22:20:23Z, a difference of 175998276 milliseconds.  Allowed clock skew: 0 milliseconds.\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:385) ~[jjwt-0.9.1.jar:0.9.1]\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:481) ~[jjwt-0.9.1.jar:0.9.1]\n    at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:541) ~[jjwt-0.9.1.jar:0.9.1]\n    at de.gabriel.springsecurityjwt.util.JwtUtil.extractAllClaims(JwtUtil.java:31) ~[classes/:na]\n    at de.gabriel.springsecurityjwt.util.JwtUtil.extractClaim(JwtUtil.java:27) ~[classes/:na]\n    at de.gabriel.springsecurityjwt.util.JwtUtil.extractUsername(JwtUtil.java:19) ~[classes/:na]\n    at de.gabriel.springsecurityjwt.filters.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:41) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>This is the token used:</p>\n<pre><code>eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJmb28iLCJleHAiOjE2NTAwMDIyOTEsImlhdCI6MTY0OTk2NjI5MX0.tzfB0Wy9Dp3Y9pl-5_Oc4gwPClOHlIjE8kHUcgvKhUs\n</code></pre>\n<p>And this is the token (payload) decoded:</p>\n<pre><code>{\n  &quot;sub&quot;: &quot;foo&quot;,\n  &quot;exp&quot;: 1650002291, (2022-04-15)\n  &quot;iat&quot;: 1649966291\n}\n</code></pre>\n<p>This is a\n<a href=\"https://i.stack.imgur.com/Qsxsb.png\" rel=\"nofollow noreferrer\">image of the decoded JWT from jwt.io</a></p>\n<p>And <a href=\"https://i.stack.imgur.com/uy90I.png\" rel=\"nofollow noreferrer\">this</a> this is the request I use</p>\n"},{"tags":["java","spring-boot","caching","redis"],"owner":{"account_id":2410596,"reputation":111,"user_id":2105747,"accept_rate":0,"display_name":"shaheer01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650016759,"creation_date":1649837383,"question_id":71854032,"body_markdown":"I am trying to create and delete a cache using RedisCacheManager with spring-boot and want to use HSET programmatically but am unable to do it. I am able to do it as a simple SET but not as HSET.\r\n\r\nThis is the bean that I have created \r\n\r\n        @Bean\r\n    public RedisCacheManager cacheManager(RedisConnectionFactory connectionFactory) {\r\n        RedisCacheConfiguration config = RedisCacheConfiguration.defaultCacheConfig() //\r\n            .entryTtl(Duration.ofHours(1)) //\r\n            .disableCachingNullValues();\r\n\r\n        return RedisCacheManager.builder(connectionFactory) //\r\n            .cacheDefaults(config) //\r\n            .build();\r\n\r\nAnd even made the class where I am making the call as @RedisHash but no luck. \r\n\r\n    @Service\r\n    @Slf4j\r\n    @RedisHash(value = &quot;CURRENT_CALLS&quot;)\r\n    public class CacheCleanupService implements Serializable {\r\n    \r\n        @CacheEvict(value = &quot;CURRENT_CALLS&quot; ,key = &quot;(#cacheKey)&quot;)\r\n        public void redisCacheNumberCleanup(String cacheKey) {\r\n            log.info(&quot;Key CLEANUP from the cache: {}&quot;, cacheKey);\r\n        }\r\n    \r\n        @Cacheable(value = &quot;CURRENT_CALLS&quot;, key = &quot;(#cacheKey)&quot;)\r\n        public String redisCacheNumberStore(String cacheKey) {\r\n            log.info(&quot;Key Add from the cache: {}&quot;, cacheKey);\r\n            return cacheKey;\r\n        }\r\n    }\r\n\r\nThe o/p I am getting is this when calling these above methods from another @Service class.\r\n\r\n\r\n    127.0.0.1:6379&gt; keys CURRENT_CALLS:*\r\n    1) &quot;CURRENT_CALLS::+15109100689:+15134631989&quot;\r\n    2) &quot;CURRENT_CALLS::+15109100648:+15134631989&quot;\r\n    3) &quot;CURRENT_CALLS::+15109100688:+15134631988&quot;\r\n\r\n    127.0.0.1:6379&gt; get &quot;CURRENT_CALLS::+15109100648:+15134631989&quot;\r\n    &quot;+15109100648:+15134631989&quot;\r\n\r\n\r\n\r\nHowever, I want the o/p like this\r\n\r\n    127.0.0.1:6379&gt; keys CURRENT_CALLS\r\n    1) &quot;CURRENT_CALLS&quot;\r\n    \r\n    127.0.0.1:6379&gt; hgetall &quot;CURRENT_CALLS&quot;\r\n    1) &quot;+15109100648:+15134631989&quot;\r\n    2) &quot;1&quot;\r\n    3) &quot;+15109100688:+15134631988&quot;\r\n    4) &quot;2&quot;\r\n    5) &quot;+15109100689:+15134631989&quot;\r\n    6) &quot;3&quot;\r\n    7) &quot;+17326667726:+17722915819&quot;\r\n    8) &quot;4&quot;\r\n\r\nNot sure how will I be able to store it in HSET rather than simple SET in redis.Even @RedisHash didnt help.\r\n\r\nIs there any way to achieve the hash of set or delete i.e HSET or HGET through annotations of springboot. I could achieve it by template but not by annotations. With annotations I am able to store normal cache in redis but not hash. Please help.","title":"Storing HSET using springboot RedisCacheManager","body":"<p>I am trying to create and delete a cache using RedisCacheManager with spring-boot and want to use HSET programmatically but am unable to do it. I am able to do it as a simple SET but not as HSET.</p>\n<p>This is the bean that I have created</p>\n<pre><code>    @Bean\npublic RedisCacheManager cacheManager(RedisConnectionFactory connectionFactory) {\n    RedisCacheConfiguration config = RedisCacheConfiguration.defaultCacheConfig() //\n        .entryTtl(Duration.ofHours(1)) //\n        .disableCachingNullValues();\n\n    return RedisCacheManager.builder(connectionFactory) //\n        .cacheDefaults(config) //\n        .build();\n</code></pre>\n<p>And even made the class where I am making the call as @RedisHash but no luck.</p>\n<pre><code>@Service\n@Slf4j\n@RedisHash(value = &quot;CURRENT_CALLS&quot;)\npublic class CacheCleanupService implements Serializable {\n\n    @CacheEvict(value = &quot;CURRENT_CALLS&quot; ,key = &quot;(#cacheKey)&quot;)\n    public void redisCacheNumberCleanup(String cacheKey) {\n        log.info(&quot;Key CLEANUP from the cache: {}&quot;, cacheKey);\n    }\n\n    @Cacheable(value = &quot;CURRENT_CALLS&quot;, key = &quot;(#cacheKey)&quot;)\n    public String redisCacheNumberStore(String cacheKey) {\n        log.info(&quot;Key Add from the cache: {}&quot;, cacheKey);\n        return cacheKey;\n    }\n}\n</code></pre>\n<p>The o/p I am getting is this when calling these above methods from another @Service class.</p>\n<pre><code>127.0.0.1:6379&gt; keys CURRENT_CALLS:*\n1) &quot;CURRENT_CALLS::+15109100689:+15134631989&quot;\n2) &quot;CURRENT_CALLS::+15109100648:+15134631989&quot;\n3) &quot;CURRENT_CALLS::+15109100688:+15134631988&quot;\n\n127.0.0.1:6379&gt; get &quot;CURRENT_CALLS::+15109100648:+15134631989&quot;\n&quot;+15109100648:+15134631989&quot;\n</code></pre>\n<p>However, I want the o/p like this</p>\n<pre><code>127.0.0.1:6379&gt; keys CURRENT_CALLS\n1) &quot;CURRENT_CALLS&quot;\n\n127.0.0.1:6379&gt; hgetall &quot;CURRENT_CALLS&quot;\n1) &quot;+15109100648:+15134631989&quot;\n2) &quot;1&quot;\n3) &quot;+15109100688:+15134631988&quot;\n4) &quot;2&quot;\n5) &quot;+15109100689:+15134631989&quot;\n6) &quot;3&quot;\n7) &quot;+17326667726:+17722915819&quot;\n8) &quot;4&quot;\n</code></pre>\n<p>Not sure how will I be able to store it in HSET rather than simple SET in redis.Even @RedisHash didnt help.</p>\n<p>Is there any way to achieve the hash of set or delete i.e HSET or HGET through annotations of springboot. I could achieve it by template but not by annotations. With annotations I am able to store normal cache in redis but not hash. Please help.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1397631723,"post_id":23102193,"comment_id":35312735,"body_markdown":"Can you post the code for CollectionsWithProps?","body":"Can you post the code for CollectionsWithProps?"},{"owner":{"account_id":3213651,"reputation":180,"user_id":3257643,"accept_rate":38,"display_name":"Reeinku"},"score":0,"creation_date":1397631898,"post_id":23102193,"comment_id":35312818,"body_markdown":"I have now added the COllectionsWithProps.java","body":"I have now added the COllectionsWithProps.java"}],"answers":[{"tags":[],"owner":{"account_id":2390644,"reputation":4058,"user_id":2090555,"accept_rate":83,"display_name":"Himanshu Bhardwaj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397632031,"creation_date":1397632031,"answer_id":23102337,"question_id":23102193,"body_markdown":"There is property name mismatch:\r\n\r\n    private Properties emails=null;\r\n\r\n\r\nshould ideally be:\r\n\r\n    private Properties adminEmails=null;\r\n\r\n\r\ngetters and setters should be renamed accordingly. This will match with what you have mentioned in the configuration files.","title":"org.springframework.beans.NotWritablePropertyException: Invalid property &#39;adminEmails&#39; of bean class","body":"<p>There is property name mismatch:</p>\n\n<pre><code>private Properties emails=null;\n</code></pre>\n\n<p>should ideally be:</p>\n\n<pre><code>private Properties adminEmails=null;\n</code></pre>\n\n<p>getters and setters should be renamed accordingly. This will match with what you have mentioned in the configuration files.</p>\n"},{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1397632050,"creation_date":1397632050,"answer_id":23102342,"question_id":23102193,"body_markdown":"In `beans.xml` you are trying to set the field `adminEmails` of `CollectionsWithProps`.\r\nHowever the class doesn&#39;t have that field, it has the `emails` field.\r\n\r\nEither fix `beans.xml` to use emails instead of `adminEmails`, or fix the source code of `CollectionsWithProps` be renaming `emails` to `adminEmails` (along with the getters and setters)","title":"org.springframework.beans.NotWritablePropertyException: Invalid property &#39;adminEmails&#39; of bean class","body":"<p>In <code>beans.xml</code> you are trying to set the field <code>adminEmails</code> of <code>CollectionsWithProps</code>.\nHowever the class doesn't have that field, it has the <code>emails</code> field.</p>\n\n<p>Either fix <code>beans.xml</code> to use emails instead of <code>adminEmails</code>, or fix the source code of <code>CollectionsWithProps</code> be renaming <code>emails</code> to <code>adminEmails</code> (along with the getters and setters)</p>\n"},{"tags":[],"owner":{"account_id":4073958,"reputation":41,"user_id":3346092,"display_name":"Vinodini Thambudurairaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455053512,"creation_date":1455053512,"answer_id":35302592,"question_id":23102193,"body_markdown":"I had the same issue and it got  resolved by just removing getter. As I required only setter for my application. Sometimes Spring gives this error.","title":"org.springframework.beans.NotWritablePropertyException: Invalid property &#39;adminEmails&#39; of bean class","body":"<p>I had the same issue and it got  resolved by just removing getter. As I required only setter for my application. Sometimes Spring gives this error.</p>\n"},{"tags":[],"owner":{"account_id":23768685,"reputation":1,"user_id":17783079,"display_name":"Sukhdev Sharma"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1650016583,"creation_date":1650016583,"answer_id":71882615,"question_id":23102193,"body_markdown":"Check for name value in .xml and Variables spelling And case should be same.","title":"org.springframework.beans.NotWritablePropertyException: Invalid property &#39;adminEmails&#39; of bean class","body":"<p>Check for name value in .xml and Variables spelling And case should be same.</p>\n"}],"owner":{"account_id":3213651,"reputation":180,"user_id":3257643,"accept_rate":38,"display_name":"Reeinku"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53761,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":23102342,"answer_count":4,"score":8,"last_activity_date":1650016583,"creation_date":1397631498,"question_id":23102193,"body_markdown":"I got stuck on this error given below:\r\n\r\n**Stack Trace**\r\n\r\n    Apr 16, 2014 12:21:23 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\r\n    INFO: Loading XML bean definitions from class path resource [beans.xml]\r\n    Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;collectionsWithProps&#39; defined in class path resource [beans.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property &#39;adminEmails&#39; of bean class [com.student.spring.impl.CollectionsWithProps]: Bean property &#39;adminEmails&#39; is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1396)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1118)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n    \tat com.student.spring.test.MyTest.main(MyTest.java:26)\r\n    Caused by: org.springframework.beans.NotWritablePropertyException: Invalid property &#39;adminEmails&#39; of bean class [com.student.spring.impl.CollectionsWithProps]: Bean property &#39;adminEmails&#39; is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\r\n    \tat org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:1064)\r\n    \tat org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:924)\r\n    \tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:76)\r\n    \tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:58)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1393)\r\n    \t... 8 more\r\n\r\nHere is my **MyTest.java**\r\n\r\n    package com.student.spring.test;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    import org.springframework.beans.factory.BeanFactory;\r\n    import org.springframework.beans.factory.xml.XmlBeanFactory;\r\n    import org.springframework.core.io.ClassPathResource;\r\n    import org.springframework.core.io.Resource;\r\n    \r\n    import com.student.spring.impl.CollectionsWithProps;\r\n    \r\n    @SuppressWarnings(&quot;deprecation&quot;)\r\n    public class MyTest {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tResource resource = new ClassPathResource(&quot;beans.xml&quot;);\r\n    \t\tBeanFactory beanFactory = new XmlBeanFactory(resource);\r\n    \r\n    \t\tCollectionsWithProps cWP = (CollectionsWithProps) beanFactory\r\n    \t\t\t\t.getBean(&quot;collectionsWithProps&quot;);\r\n    \t\tSystem.out.println(cWP);\r\n    \t}\r\n    }\r\nHere is **CollectionsWithProps.java**\r\n\r\n    package com.student.spring.impl;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    public class CollectionsWithProps {\r\n    \tprivate Properties emails=null;\r\n    \tpublic Properties getEmails() {\r\n    \t\treturn emails;\r\n    \t}\r\n    \tpublic void setEmails(Properties emails) {\r\n    \t\tthis.emails = emails;\r\n    \t}\r\n    \tpublic String toString(){\r\n    \t\treturn &quot;College [Props=&quot; + emails + &quot;]&quot;;\r\n    \t}\r\n    }\r\n\r\nHere is my **beans.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    \r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n           \t\t\t\t\thttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;bean id=&quot;collectionsWithProps&quot; class=&quot;com.student.spring.impl.CollectionsWithProps&quot;&gt;\r\n    \t\t&lt;property name=&quot;adminEmails&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;admin&quot;&gt;admin@appa.com&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;support&quot;&gt;support@appa.com&quot;&gt;&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hr&quot;&gt;hr@appa.com&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n","title":"org.springframework.beans.NotWritablePropertyException: Invalid property &#39;adminEmails&#39; of bean class","body":"<p>I got stuck on this error given below:</p>\n\n<p><strong>Stack Trace</strong></p>\n\n<pre><code>Apr 16, 2014 12:21:23 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\nINFO: Loading XML bean definitions from class path resource [beans.xml]\nException in thread \"main\" org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'collectionsWithProps' defined in class path resource [beans.xml]: Error setting property values; nested exception is org.springframework.beans.NotWritablePropertyException: Invalid property 'adminEmails' of bean class [com.student.spring.impl.CollectionsWithProps]: Bean property 'adminEmails' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1396)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1118)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n    at com.student.spring.test.MyTest.main(MyTest.java:26)\nCaused by: org.springframework.beans.NotWritablePropertyException: Invalid property 'adminEmails' of bean class [com.student.spring.impl.CollectionsWithProps]: Bean property 'adminEmails' is not writable or has an invalid setter method. Does the parameter type of the setter match the return type of the getter?\n    at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:1064)\n    at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:924)\n    at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:76)\n    at org.springframework.beans.AbstractPropertyAccessor.setPropertyValues(AbstractPropertyAccessor.java:58)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1393)\n    ... 8 more\n</code></pre>\n\n<p>Here is my <strong>MyTest.java</strong></p>\n\n<pre><code>package com.student.spring.test;\n\nimport java.util.Properties;\n\nimport org.springframework.beans.factory.BeanFactory;\nimport org.springframework.beans.factory.xml.XmlBeanFactory;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.core.io.Resource;\n\nimport com.student.spring.impl.CollectionsWithProps;\n\n@SuppressWarnings(\"deprecation\")\npublic class MyTest {\n    public static void main(String[] args) {\n        Resource resource = new ClassPathResource(\"beans.xml\");\n        BeanFactory beanFactory = new XmlBeanFactory(resource);\n\n        CollectionsWithProps cWP = (CollectionsWithProps) beanFactory\n                .getBean(\"collectionsWithProps\");\n        System.out.println(cWP);\n    }\n}\n</code></pre>\n\n<p>Here is <strong>CollectionsWithProps.java</strong></p>\n\n<pre><code>package com.student.spring.impl;\n\nimport java.util.Properties;\n\npublic class CollectionsWithProps {\n    private Properties emails=null;\n    public Properties getEmails() {\n        return emails;\n    }\n    public void setEmails(Properties emails) {\n        this.emails = emails;\n    }\n    public String toString(){\n        return \"College [Props=\" + emails + \"]\";\n    }\n}\n</code></pre>\n\n<p>Here is my <strong>beans.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:p=\"http://www.springframework.org/schema/p\"\n\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans \n                        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\"&gt;\n\n    &lt;bean id=\"collectionsWithProps\" class=\"com.student.spring.impl.CollectionsWithProps\"&gt;\n        &lt;property name=\"adminEmails\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"admin\"&gt;admin@appa.com&lt;/prop&gt;\n                &lt;prop key=\"support\"&gt;support@appa.com\"&gt;&lt;/prop&gt;\n                &lt;prop key=\"hr\"&gt;hr@appa.com&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot","kotlin"],"answers":[{"tags":[],"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650016391,"creation_date":1650016050,"answer_id":71882508,"question_id":49616466,"body_markdown":"It seems there&#39;s no Spring-provided way of doing this. \r\n\r\nThere&#39;s an open issue on the Spring GitHub page: https://github.com/spring-projects/spring-framework/issues/25815\r\n\r\nI found some solutions on StackOverflow, for example https://stackoverflow.com/a/16520399/4161471, but they seemed quite complex, or not re-usable. So I developed a workaround.\r\n\r\n\r\n#### Workaround: Parse as JSON\r\n\r\nI resolved this by creating a custom annotation and a [`HandlerMethodArgumentResolver`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/method/support/HandlerMethodArgumentResolver.html). The argument resolver will translate the request parameters using Jackson. (Using Jackson is not required, but it was nice and generic and safe.)\r\n\r\n```kotlin\r\nimport com.fasterxml.jackson.databind.ObjectMapper\r\nimport org.springframework.core.MethodParameter\r\nimport org.springframework.stereotype.Component\r\nimport org.springframework.web.bind.support.WebDataBinderFactory\r\nimport org.springframework.web.context.request.NativeWebRequest\r\nimport org.springframework.web.method.support.HandlerMethodArgumentResolver\r\nimport org.springframework.web.method.support.ModelAndViewContainer\r\n\r\n/**\r\n * Parses all request parameters and maps them to a JSON-serializable class.\r\n *\r\n * This is useful, because it allows multiple `@RequestParam`s to be\r\n * encapsulated in a single object, the values will be type-safe, and\r\n * the parameter names can be set using (for example, with `@JsonProperty`).\r\n */\r\n@Target(AnnotationTarget.VALUE_PARAMETER)\r\n@MustBeDocumented\r\nannotation class JsonRequestParam {\r\n\r\n  @Component\r\n  class ArgumentResolver(\r\n    private val objectMapper: ObjectMapper\r\n  ) : HandlerMethodArgumentResolver {\r\n  \r\n    // only resolve parameters that are annotated with JsonRequestParam\r\n    override fun supportsParameter(parameter: MethodParameter): Boolean {\r\n      return parameter.hasParameterAnnotation(JsonRequestParam::class.java)\r\n    }\r\n  \r\n    override fun resolveArgument(\r\n      parameter: MethodParameter,\r\n      mavContainer: ModelAndViewContainer?,\r\n      webRequest: NativeWebRequest,\r\n      binderFactory: WebDataBinderFactory?\r\n    ): Any? {\r\n      // `webRequest.parameterMap` is a `Map&lt;String, String[]&gt;`, so join\r\n      // the values to a string\r\n      val params: Map&lt;String, String&gt; = webRequest.parameterMap.mapValues { (_, v) -&gt; v.joinToString() }\r\n      return objectMapper.convertValue(params, parameter.parameterType)\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nNote that joining the parameter map values together with `webRequest.parameterMap.mapValues { (_, v) -&gt; v.joinToString() }` is a quick fix. It&#39;s probably not correct and will only work for classes with primitive parameters - please suggest improvements!\r\n\r\n\r\n#### Example usage\r\n\r\nSo if I have a DTO...\r\n\r\n```kotlin\r\ndata class MyDataObject(\r\n  @JsonProperty(&quot;n&quot;)\r\n  val name: String,\r\n  val age: Int,\r\n)\r\n```\r\n\r\nI&#39;ve used `@JsonProperty` to override the property name, which means the request parameter for &#39;name&#39; will be `n`.\r\n\r\nNow in my `@Controller` I can use the DTO in a `@GetMapping` method, and annotate it with the `@JsonRequestParam` I created.\r\n\r\n```kotlin\r\nimport my.project.JsonRequestParam\r\nimport org.springframework.http.ResponseEntity\r\nimport org.springframework.web.bind.annotation.GetMapping\r\nimport org.springframework.web.bind.annotation.RequestMapping\r\nimport org.springframework.web.bind.annotation.RestController\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\nclass MyDataController {\r\n\r\n  @GetMapping(value = [&quot;/data&quot;])\r\n  fun getData(\r\n    @JsonRequestParam\r\n    request: MyDataObject\r\n  ): ResponseEntity&lt;String&gt; {\r\n    return &quot;get data $request&quot;\r\n  }\r\n}\r\n```\r\n\r\nSo if I GET `/api/data?n=MyName&amp;age=22`, then I&#39;ll get a response:\r\n\r\n```none\r\nget data MyDataObject(name = &quot;MyName&quot;, age = 22)\r\n```\r\n","title":"Custom parameter names with a bean for request parameters in Spring 5","body":"<p>It seems there's no Spring-provided way of doing this.</p>\n<p>There's an open issue on the Spring GitHub page: <a href=\"https://github.com/spring-projects/spring-framework/issues/25815\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/25815</a></p>\n<p>I found some solutions on StackOverflow, for example <a href=\"https://stackoverflow.com/a/16520399/4161471\">https://stackoverflow.com/a/16520399/4161471</a>, but they seemed quite complex, or not re-usable. So I developed a workaround.</p>\n<h4>Workaround: Parse as JSON</h4>\n<p>I resolved this by creating a custom annotation and a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/method/support/HandlerMethodArgumentResolver.html\" rel=\"nofollow noreferrer\"><code>HandlerMethodArgumentResolver</code></a>. The argument resolver will translate the request parameters using Jackson. (Using Jackson is not required, but it was nice and generic and safe.)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import com.fasterxml.jackson.databind.ObjectMapper\nimport org.springframework.core.MethodParameter\nimport org.springframework.stereotype.Component\nimport org.springframework.web.bind.support.WebDataBinderFactory\nimport org.springframework.web.context.request.NativeWebRequest\nimport org.springframework.web.method.support.HandlerMethodArgumentResolver\nimport org.springframework.web.method.support.ModelAndViewContainer\n\n/**\n * Parses all request parameters and maps them to a JSON-serializable class.\n *\n * This is useful, because it allows multiple `@RequestParam`s to be\n * encapsulated in a single object, the values will be type-safe, and\n * the parameter names can be set using (for example, with `@JsonProperty`).\n */\n@Target(AnnotationTarget.VALUE_PARAMETER)\n@MustBeDocumented\nannotation class JsonRequestParam {\n\n  @Component\n  class ArgumentResolver(\n    private val objectMapper: ObjectMapper\n  ) : HandlerMethodArgumentResolver {\n  \n    // only resolve parameters that are annotated with JsonRequestParam\n    override fun supportsParameter(parameter: MethodParameter): Boolean {\n      return parameter.hasParameterAnnotation(JsonRequestParam::class.java)\n    }\n  \n    override fun resolveArgument(\n      parameter: MethodParameter,\n      mavContainer: ModelAndViewContainer?,\n      webRequest: NativeWebRequest,\n      binderFactory: WebDataBinderFactory?\n    ): Any? {\n      // `webRequest.parameterMap` is a `Map&lt;String, String[]&gt;`, so join\n      // the values to a string\n      val params: Map&lt;String, String&gt; = webRequest.parameterMap.mapValues { (_, v) -&gt; v.joinToString() }\n      return objectMapper.convertValue(params, parameter.parameterType)\n    }\n  }\n}\n</code></pre>\n<p>Note that joining the parameter map values together with <code>webRequest.parameterMap.mapValues { (_, v) -&gt; v.joinToString() }</code> is a quick fix. It's probably not correct and will only work for classes with primitive parameters - please suggest improvements!</p>\n<h4>Example usage</h4>\n<p>So if I have a DTO...</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class MyDataObject(\n  @JsonProperty(&quot;n&quot;)\n  val name: String,\n  val age: Int,\n)\n</code></pre>\n<p>I've used <code>@JsonProperty</code> to override the property name, which means the request parameter for 'name' will be <code>n</code>.</p>\n<p>Now in my <code>@Controller</code> I can use the DTO in a <code>@GetMapping</code> method, and annotate it with the <code>@JsonRequestParam</code> I created.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import my.project.JsonRequestParam\nimport org.springframework.http.ResponseEntity\nimport org.springframework.web.bind.annotation.GetMapping\nimport org.springframework.web.bind.annotation.RequestMapping\nimport org.springframework.web.bind.annotation.RestController\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\nclass MyDataController {\n\n  @GetMapping(value = [&quot;/data&quot;])\n  fun getData(\n    @JsonRequestParam\n    request: MyDataObject\n  ): ResponseEntity&lt;String&gt; {\n    return &quot;get data $request&quot;\n  }\n}\n</code></pre>\n<p>So if I GET <code>/api/data?n=MyName&amp;age=22</code>, then I'll get a response:</p>\n<pre class=\"lang-none prettyprint-override\"><code>get data MyDataObject(name = &quot;MyName&quot;, age = 22)\n</code></pre>\n"}],"owner":{"account_id":23739,"reputation":4125,"user_id":59724,"accept_rate":33,"display_name":"Graham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":775,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1650016391,"creation_date":1522692874,"question_id":49616466,"body_markdown":"I&#39;m trying to use Spring 5 to have a custom bean for my request parameters. In theory this is easy, but I want to have the field names be different from the parameter names.\r\n\r\nI can do that trivially with normal `@RequestParam` parameters, but I can&#39;t seem to get it to work with a bean.\r\n\r\nI&#39;ve found this question asked before, and the answer seems to be &quot;Do it manually&quot;, with various different options for automating that, e.g. using Argument Resolvers. But is this really still the case in Spring 5?\r\n\r\nMy code (It&#39;s Kotlin btw, but that shouldn&#39;t matter) is like this:\r\n\r\n    data class AuthorizationCodeParams(\r\n        @RequestParam(&quot;client_id&quot;) val clientIdValue: String?,\r\n        @RequestParam(&quot;redirect_uri&quot;) val redirectUriValue: String?,\r\n        @RequestParam(&quot;scope&quot;) val scopes: String?,\r\n        @RequestParam(&quot;state&quot;) val state: String?\r\n    )\r\n\r\n    fun startAuthorizationCode(params: AuthorizationCodeParams): ModelAndView {","title":"Custom parameter names with a bean for request parameters in Spring 5","body":"<p>I'm trying to use Spring 5 to have a custom bean for my request parameters. In theory this is easy, but I want to have the field names be different from the parameter names.</p>\n\n<p>I can do that trivially with normal <code>@RequestParam</code> parameters, but I can't seem to get it to work with a bean.</p>\n\n<p>I've found this question asked before, and the answer seems to be \"Do it manually\", with various different options for automating that, e.g. using Argument Resolvers. But is this really still the case in Spring 5?</p>\n\n<p>My code (It's Kotlin btw, but that shouldn't matter) is like this:</p>\n\n<pre><code>data class AuthorizationCodeParams(\n    @RequestParam(\"client_id\") val clientIdValue: String?,\n    @RequestParam(\"redirect_uri\") val redirectUriValue: String?,\n    @RequestParam(\"scope\") val scopes: String?,\n    @RequestParam(\"state\") val state: String?\n)\n\nfun startAuthorizationCode(params: AuthorizationCodeParams): ModelAndView {\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-bottomnav"],"answers":[{"tags":[],"owner":{"account_id":18782185,"reputation":296,"user_id":13696581,"display_name":"Kashif Masood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649870406,"creation_date":1649870406,"answer_id":71861529,"question_id":71859840,"body_markdown":"instead of using navView.setOnItemClickListener, you can use navController.addOnDestinationChangedListener, and in overrided onDestinationChanged method, you can check\r\n\r\n    if(destination.id ==  R.id.navigation_update) {\r\n        //your custom action here\r\n    }","title":"Saving Fragment state with Android BottomNavigation","body":"<p>instead of using navView.setOnItemClickListener, you can use navController.addOnDestinationChangedListener, and in overrided onDestinationChanged method, you can check</p>\n<pre><code>if(destination.id ==  R.id.navigation_update) {\n    //your custom action here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10354159,"reputation":3,"user_id":13517342,"display_name":"Bagomot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650016215,"creation_date":1650016215,"answer_id":71882550,"question_id":71859840,"body_markdown":"I was able to solve the problem with standard tools using Navigation.\r\nI just found a menu item and added a OnClickListener to it.\r\n\r\n    BottomNavigationItemView updateBtn = findViewById(R.id.navigation_update);\r\n    updateBtn.setOnClickListener(new View.OnClickListener() {\r\n       @Override\r\n       public void onClick(View view) {\r\n           // todo\r\n       }\r\n    });  \r\n\r\nThus, both switching fragments and clicking on the middle menu item work correctly.   ","title":"Saving Fragment state with Android BottomNavigation","body":"<p>I was able to solve the problem with standard tools using Navigation.\nI just found a menu item and added a OnClickListener to it.</p>\n<pre><code>BottomNavigationItemView updateBtn = findViewById(R.id.navigation_update);\nupdateBtn.setOnClickListener(new View.OnClickListener() {\n   @Override\n   public void onClick(View view) {\n       // todo\n   }\n});  \n</code></pre>\n<p>Thus, both switching fragments and clicking on the middle menu item work correctly.</p>\n"}],"owner":{"account_id":10354159,"reputation":3,"user_id":13517342,"display_name":"Bagomot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71882550,"answer_count":2,"score":0,"last_activity_date":1650016215,"creation_date":1649862766,"question_id":71859840,"body_markdown":"I&#39;m new to Android development, so I do not understand many, perhaps elementary things, perhaps even the stated topic does not fully reflect my questions, I apologize in advance, I could not formulate more precisely. Please help me with some questions.\r\n\r\nI have a BottomNavigation in my application with three menu items. Like on a picture:\r\n\r\n[bottom nav][1]\r\n\r\nInitially, I did it as in the standard Android Studio example:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private ActivityMainBinding binding;\r\n        private NavController navController;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n    \r\n            BottomNavigationView navView = findViewById(R.id.nav_view);\r\n            AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\r\n                    R.id.navigation_home, R.id.navigation_update, R.id.navigation_notifications)\r\n                    .build();\r\n    \r\n            navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);\r\n    \r\n            NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\r\n            NavigationUI.setupWithNavController(binding.navView, navController);\r\n        }\r\n    }\r\n\r\nIn this code, the menu items switch fragments, saving the state of each of them (I don’t know how exactly, it seems to be somewhere inside the navigation controller).\r\n\r\nBut now I needed the middle button to perform a different function, i.e. not to participate in switching fragments.\r\n\r\nThe only adequate way to do this is to use setOnItemSelectedListener.\r\n\r\nThen my code will look like this:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private ActivityMainBinding binding;\r\n        private NavController navController;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n    \r\n            BottomNavigationView navView = findViewById(R.id.nav_view);\r\n            AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\r\n                    R.id.navigation_home, R.id.navigation_update, R.id.navigation_notifications)\r\n                    .build();\r\n    \r\n            navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);\r\n    \r\n            NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\r\n            NavigationUI.setupWithNavController(binding.navView, navController);\r\n    \r\n            navView.setOnItemSelectedListener(\r\n                    new NavigationBarView.OnItemSelectedListener() {\r\n                        @Override\r\n                        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                            switch (item.getItemId()) {\r\n    \r\n                                case R.id.navigation_home:\r\n                                    navController.navigate(R.id.navigation_home);\r\n                                    break;\r\n                                case R.id.navigation_update:\r\n                                    // work for middle menu item\r\n                                    break;\r\n                                case R.id.navigation_notifications:\r\n                                    navController.navigate(R.id.navigation_notifications, savedInstanceState);\r\n                                    break;\r\n                            }\r\n                            return true;\r\n                        }\r\n                    });\r\n        }\r\n    }\r\n\r\nIt even works, except that the fragments no longer save their state. That is, for example, in the first fragment I have a RecyclerView, if I scroll it down, switch to another fragment, and then return back, then the RecyclerView is in the default state (not scrolled), that is the state has not been saved.\r\n\r\nIt turns out that in the first version of the code I can’t do individual work with the middle menu item, and in the second version the states of the fragments are not saved.\r\n\r\nPrompt correct way to deal with this problem. So that the middle menu item can be assigned a separate job, and the state of the fragments can be saved.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OALQB.jpg","title":"Saving Fragment state with Android BottomNavigation","body":"<p>I'm new to Android development, so I do not understand many, perhaps elementary things, perhaps even the stated topic does not fully reflect my questions, I apologize in advance, I could not formulate more precisely. Please help me with some questions.</p>\n<p>I have a BottomNavigation in my application with three menu items. Like on a picture:</p>\n<p><a href=\"https://i.stack.imgur.com/OALQB.jpg\" rel=\"nofollow noreferrer\">bottom nav</a></p>\n<p>Initially, I did it as in the standard Android Studio example:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private ActivityMainBinding binding;\n    private NavController navController;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        BottomNavigationView navView = findViewById(R.id.nav_view);\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\n                R.id.navigation_home, R.id.navigation_update, R.id.navigation_notifications)\n                .build();\n\n        navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);\n\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n        NavigationUI.setupWithNavController(binding.navView, navController);\n    }\n}\n</code></pre>\n<p>In this code, the menu items switch fragments, saving the state of each of them (I don’t know how exactly, it seems to be somewhere inside the navigation controller).</p>\n<p>But now I needed the middle button to perform a different function, i.e. not to participate in switching fragments.</p>\n<p>The only adequate way to do this is to use setOnItemSelectedListener.</p>\n<p>Then my code will look like this:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private ActivityMainBinding binding;\n    private NavController navController;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        BottomNavigationView navView = findViewById(R.id.nav_view);\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\n                R.id.navigation_home, R.id.navigation_update, R.id.navigation_notifications)\n                .build();\n\n        navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);\n\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n        NavigationUI.setupWithNavController(binding.navView, navController);\n\n        navView.setOnItemSelectedListener(\n                new NavigationBarView.OnItemSelectedListener() {\n                    @Override\n                    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                        switch (item.getItemId()) {\n\n                            case R.id.navigation_home:\n                                navController.navigate(R.id.navigation_home);\n                                break;\n                            case R.id.navigation_update:\n                                // work for middle menu item\n                                break;\n                            case R.id.navigation_notifications:\n                                navController.navigate(R.id.navigation_notifications, savedInstanceState);\n                                break;\n                        }\n                        return true;\n                    }\n                });\n    }\n}\n</code></pre>\n<p>It even works, except that the fragments no longer save their state. That is, for example, in the first fragment I have a RecyclerView, if I scroll it down, switch to another fragment, and then return back, then the RecyclerView is in the default state (not scrolled), that is the state has not been saved.</p>\n<p>It turns out that in the first version of the code I can’t do individual work with the middle menu item, and in the second version the states of the fragments are not saved.</p>\n<p>Prompt correct way to deal with this problem. So that the middle menu item can be assigned a separate job, and the state of the fragments can be saved.</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649674037,"creation_date":1649674037,"answer_id":71826466,"question_id":71801605,"body_markdown":"could you please explain what do you want exactly ? like If you want just to use both tables in a query that returns a one of your tables (exemple the cars by employee&#39;s name) there is no problem. But if you want to return columns from both tables you can have a look at this answer [stackoverflow.com/a/47301366/14994239][1]\r\nit shows how to handle this.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/47301366/14994239","title":"How get two joined tables from database in Spring Jpa?","body":"<p>could you please explain what do you want exactly ? like If you want just to use both tables in a query that returns a one of your tables (exemple the cars by employee's name) there is no problem. But if you want to return columns from both tables you can have a look at this answer <a href=\"https://stackoverflow.com/a/47301366/14994239\">stackoverflow.com/a/47301366/14994239</a>\nit shows how to handle this.</p>\n"},{"tags":[],"owner":{"account_id":24944273,"reputation":26,"user_id":18809773,"display_name":"yoyo yo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650015857,"creation_date":1650015857,"answer_id":71882485,"question_id":71801605,"body_markdown":"As you already had specified fetchType Eager, whenever you fetch any of the object car or the employee you will get all the data of both the corresponding objects.","title":"How get two joined tables from database in Spring Jpa?","body":"<p>As you already had specified fetchType Eager, whenever you fetch any of the object car or the employee you will get all the data of both the corresponding objects.</p>\n"}],"owner":{"account_id":15017872,"reputation":17,"user_id":12029381,"display_name":"omur turdubekov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71882485,"answer_count":2,"score":0,"last_activity_date":1650015857,"creation_date":1649441945,"question_id":71801605,"body_markdown":"I have two tables, joined each other. How I can get from database both of them using Spring data jpa?\r\n\r\nCode as below,\r\n\r\n    \r\n    @Entity\r\n    @JsonNaming(PropertyNamingStrategies.UpperSnakeCaseStrategy.class)\r\n    public class Employee {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n    private String phone;\r\n    @Enumerated(EnumType.STRING)\r\n    private Position position;\r\n    private BigDecimal salary;\r\n\r\n    @OneToOne(mappedBy = &quot;employee&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    private Car car;\r\n    }\r\n\r\n   \r\n    @Entity\r\n    @JsonNaming(PropertyNamingStrategies.UpperSnakeCaseStrategy.class)\r\n    public class Car {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String model;\r\n    private String color;\r\n    private double price;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;employee_id&quot;)\r\n    private Employee employee;\r\n    }\r\n \r\n     // my serice:\r\n    @Override\r\n    public Employee findEmployeeByName(String name) {\r\n        return employeeRepository.getEmployeeByName(name);\r\n    }\r\n\r\nresult:\r\n[result][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lmpv0.png","title":"How get two joined tables from database in Spring Jpa?","body":"<p>I have two tables, joined each other. How I can get from database both of them using Spring data jpa?</p>\n<p>Code as below,</p>\n<pre><code>@Entity\n@JsonNaming(PropertyNamingStrategies.UpperSnakeCaseStrategy.class)\npublic class Employee {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\nprivate String name;\nprivate String phone;\n@Enumerated(EnumType.STRING)\nprivate Position position;\nprivate BigDecimal salary;\n\n@OneToOne(mappedBy = &quot;employee&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\nprivate Car car;\n}\n\n\n@Entity\n@JsonNaming(PropertyNamingStrategies.UpperSnakeCaseStrategy.class)\npublic class Car {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\nprivate String model;\nprivate String color;\nprivate double price;\n\n@OneToOne\n@JoinColumn(name = &quot;employee_id&quot;)\nprivate Employee employee;\n}\n\n // my serice:\n@Override\npublic Employee findEmployeeByName(String name) {\n    return employeeRepository.getEmployeeByName(name);\n}\n</code></pre>\n<p>result:\n<a href=\"https://i.stack.imgur.com/lmpv0.png\" rel=\"nofollow noreferrer\">result</a></p>\n"},{"tags":["java","arrays","string","csv","integer"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1649930873,"post_id":71869380,"comment_id":127001552,"body_markdown":"`replaceAll(&quot;\\\\D+&quot;,&quot;&quot;)` will remove all non digit chars including ; Spliting at ; afterwards will have no effect. Remove that `replaceAll` and use just `line.split(&quot;;&quot;)`","body":"<code>replaceAll(&quot;\\\\D+&quot;,&quot;&quot;)</code> will remove all non digit chars including ; Spliting at ; afterwards will have no effect. Remove that <code>replaceAll</code> and use just <code>line.split(&quot;;&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649937633,"creation_date":1649929186,"answer_id":71869511,"question_id":71869380,"body_markdown":"Use the while loop to deal with each line. Use a variable (`i` below) to remember the line you&#39;re in. Then just loop over the splitted line like you alread do, but use the correct index for `values` (`j`, not `i`):\r\n\r\n        BufferedReader br = new BufferedReader(new FileReader(path));\r\n        String line = &quot;&quot;;\r\n\r\n        int i = 0; //to remember the line\r\n        while ((line = br.readLine()) != null) {\r\n            String[] values = line.split(&quot;;&quot;);\r\n            for (int j = 0; j&lt;values.length; j++) {\r\n                test[i][j] = Integer.parseInt(values[j]); //use j here, not i!\r\n                System.out.print(test[i][j]);\r\n            }\r\n            i++;\r\n        }","title":"Java String array values to 2D int array","body":"<p>Use the while loop to deal with each line. Use a variable (<code>i</code> below) to remember the line you're in. Then just loop over the splitted line like you alread do, but use the correct index for <code>values</code> (<code>j</code>, not <code>i</code>):</p>\n<pre><code>    BufferedReader br = new BufferedReader(new FileReader(path));\n    String line = &quot;&quot;;\n\n    int i = 0; //to remember the line\n    while ((line = br.readLine()) != null) {\n        String[] values = line.split(&quot;;&quot;);\n        for (int j = 0; j&lt;values.length; j++) {\n            test[i][j] = Integer.parseInt(values[j]); //use j here, not i!\n            System.out.print(test[i][j]);\n        }\n        i++;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22353547,"reputation":88,"user_id":16571212,"display_name":"rushabhvg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650015638,"creation_date":1649929722,"answer_id":71869634,"question_id":71869380,"body_markdown":" - Try using just &quot;i&quot; as index for values, as the inner loop is not\r\n   needed, you read values from csv in line-by-line manner.\r\n - Remove that &quot;replaceAll&quot; method as that might be giving the error!\r\n \r\nCode:\r\n\r\n```java\r\ntry {\r\n    BufferedReader br = new BufferedReader(new FileReader(path));\r\n    String line = &quot;&quot;;\r\n    int i = -1;    //here i will act as number of lines that have been &quot;read&quot;\r\n    while ((line = br.readLine()) != null) {\r\n        i+=1;    //incrementing i to increase line count, and move array to next iteration\r\n        String[] values = line.split(&quot;;&quot;);    //removed replaceAll method\r\n        for (int j = 0; j &lt; values.length; j++) {\r\n            test[i][j] = Integer.parseInt(values[j]);\r\n            System.out.print(test[i][j]);\r\n        }    //j for loop close\r\n        System.out.println();\r\n    }    //while close\r\n    System.out.println(&quot;****&quot;);\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```","title":"Java String array values to 2D int array","body":"<ul>\n<li>Try using just &quot;i&quot; as index for values, as the inner loop is not\nneeded, you read values from csv in line-by-line manner.</li>\n<li>Remove that &quot;replaceAll&quot; method as that might be giving the error!</li>\n</ul>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    BufferedReader br = new BufferedReader(new FileReader(path));\n    String line = &quot;&quot;;\n    int i = -1;    //here i will act as number of lines that have been &quot;read&quot;\n    while ((line = br.readLine()) != null) {\n        i+=1;    //incrementing i to increase line count, and move array to next iteration\n        String[] values = line.split(&quot;;&quot;);    //removed replaceAll method\n        for (int j = 0; j &lt; values.length; j++) {\n            test[i][j] = Integer.parseInt(values[j]);\n            System.out.print(test[i][j]);\n        }    //j for loop close\n        System.out.println();\n    }    //while close\n    System.out.println(&quot;****&quot;);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649931007,"creation_date":1649930422,"answer_id":71869781,"question_id":71869380,"body_markdown":"You need to have an increment variable that can be used to change the row for the matrix. Try the below code:\r\n\r\n    try {\r\n    BufferedReader br = new BufferedReader(new FileReader(path));\r\n    String line = &quot;&quot;;\r\n    int rowNumber = 0;\r\n    while ((line = br.readLine()) != null) {\r\n    \tString[] values = line.split(&quot;;&quot;);\r\n    \tfor (int j = 0; j &lt; values.length; j++) {\r\n    \t\ttest[rowNumber][j] = Integer.parseInt(values[j]);\r\n    \t\tSystem.out.print(test[rowNumber][j]);\r\n    \t}\r\n    \trowNumber++;\r\n    \tSystem.out.println();\r\n    }\r\n    System.out.println(&quot;****&quot;);\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }","title":"Java String array values to 2D int array","body":"<p>You need to have an increment variable that can be used to change the row for the matrix. Try the below code:</p>\n<pre><code>try {\nBufferedReader br = new BufferedReader(new FileReader(path));\nString line = &quot;&quot;;\nint rowNumber = 0;\nwhile ((line = br.readLine()) != null) {\n    String[] values = line.split(&quot;;&quot;);\n    for (int j = 0; j &lt; values.length; j++) {\n        test[rowNumber][j] = Integer.parseInt(values[j]);\n        System.out.print(test[rowNumber][j]);\n    }\n    rowNumber++;\n    System.out.println();\n}\nSystem.out.println(&quot;****&quot;);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649937382,"creation_date":1649937382,"answer_id":71871227,"question_id":71869380,"body_markdown":"You know the required size of the matrix. Well that&#39;s handy, but what if you didn&#39;t? What if the matrix data contained within the CSV file happens to be be of a dynamic size on a regular basis. Are you going to open the file and check every time you want to run your application against a CSV file? Maybe, and maybe you just don&#39;t have to for the current situation. It is however, nice to know you can run you application against any sized matrix within any CSV file.\r\n\r\nA 2D Array in Java is merely and Array of Arrays. When an array is declared it will be of a fixed size which is good if the CSV file happens to have matrix data contain within it that varies in size from time to time. The following code can get use the number of lines contained within the file:\r\n\r\n    int numOfLines;\r\n    try {\r\n        numOfLines = (int) java.nio.file.Files.lines(java.nio.file.Paths\r\n                .get(&quot;MatrixData.csv&quot;), java.nio.charset.Charset.defaultCharset()).count();\r\n    }\r\n    catch (java.io.IOException ex) {\r\n        ex.printStackTrace();\r\n    }\r\n\r\nWhen you are reading in data line, you split that line into a String[] array using:\r\n\r\n    String[] values = line.replaceAll(&quot;\\\\D+&quot;,&quot;&quot;).split(&quot;;&quot;);\r\n\r\nThis is not good because the `\\\\D` expression used this way within the `replaceAll()` method will effectively remove all non-digit characters from the data line string and this would also include the delimiter (**;**) used within the data line to separate the individual digits. Your split is not going to do what you really want. It will only provide you with a 4 digit numerical string. It would be better to just do away with the `replaceAll()` method altogether and just do something like:\r\n\r\n    String[] values = line.split(&quot;\\\\s*;\\\\s*&quot;);\r\n\r\nThe expression passed to the `split()` method will handle any number of whitespaces before and or after the delimiter (**if** they exist). Is whitespaces are there, they will not be part of any array element data.\r\n\r\nTry the code below. It will process any matrix size within your CSV files (even if the columns [inner Arrays] are of different lengths):\r\n\r\n    String filePath = &quot;MatrixData.csv&quot;;\r\n    // Get number of data lines in CSV file.\r\n    int lineCounter = 0;\r\n    try {\r\n        lineCounter = (int) java.nio.file.Files.lines(java.nio.file.Paths\r\n                .get(filePath), java.nio.charset.Charset.defaultCharset()).count();\r\n    }\r\n    catch (java.io.IOException ex) {\r\n        ex.printStackTrace();\r\n    }\r\n    // ---------------------------------------\r\n        \r\n    int[][] matrix = new int[lineCounter][]; //Declare &amp; initialize the 2D Array\r\n        \r\n    // &#39;Try With Resources&#39; used here to auto-close the reader and free resources.\r\n    try (java.io.BufferedReader br = new java.io.BufferedReader(new java.io.FileReader(filePath))) {\r\n        String line = &quot;&quot;;\r\n        lineCounter = 0;\r\n        while ((line = br.readLine()) != null) {\r\n            line = line.trim();\r\n            if (line.isEmpty()) { continue; } // Skip blank lines (if any).\r\n            /* Split the file lie into a String[] Array then convert \r\n               it to an int[] array (all in one line using Stream - Java8+).  */\r\n            int[] intValues = java.util.stream.Stream.of(line.split(&quot;\\\\s*;\\\\s*&quot;))\r\n                    .mapToInt(Integer::parseInt).toArray();\r\n            // Copy the new int[] Array into the current row element of the 2D Array.\r\n            matrix[lineCounter] = java.util.Arrays.copyOf(intValues, intValues.length);\r\n            lineCounter++;\r\n        }\r\n    } catch (java.io.FileNotFoundException ex) {\r\n        ex.printStackTrace();\r\n    } catch (java.io.IOException ex) {\r\n        ex.printStackTrace();\r\n    }\r\n       \r\n        \r\n    // Display the Matrix...\r\n    for (int[] ary : matrix) {\r\n        String str = java.util.Arrays.toString(ary);\r\n        System.out.println(str.substring(1, str.length() - 1));\r\n    }","title":"Java String array values to 2D int array","body":"<p>You know the required size of the matrix. Well that's handy, but what if you didn't? What if the matrix data contained within the CSV file happens to be be of a dynamic size on a regular basis. Are you going to open the file and check every time you want to run your application against a CSV file? Maybe, and maybe you just don't have to for the current situation. It is however, nice to know you can run you application against any sized matrix within any CSV file.</p>\n<p>A 2D Array in Java is merely and Array of Arrays. When an array is declared it will be of a fixed size which is good if the CSV file happens to have matrix data contain within it that varies in size from time to time. The following code can get use the number of lines contained within the file:</p>\n<pre><code>int numOfLines;\ntry {\n    numOfLines = (int) java.nio.file.Files.lines(java.nio.file.Paths\n            .get(&quot;MatrixData.csv&quot;), java.nio.charset.Charset.defaultCharset()).count();\n}\ncatch (java.io.IOException ex) {\n    ex.printStackTrace();\n}\n</code></pre>\n<p>When you are reading in data line, you split that line into a String[] array using:</p>\n<pre><code>String[] values = line.replaceAll(&quot;\\\\D+&quot;,&quot;&quot;).split(&quot;;&quot;);\n</code></pre>\n<p>This is not good because the <code>\\\\D</code> expression used this way within the <code>replaceAll()</code> method will effectively remove all non-digit characters from the data line string and this would also include the delimiter (<strong>;</strong>) used within the data line to separate the individual digits. Your split is not going to do what you really want. It will only provide you with a 4 digit numerical string. It would be better to just do away with the <code>replaceAll()</code> method altogether and just do something like:</p>\n<pre><code>String[] values = line.split(&quot;\\\\s*;\\\\s*&quot;);\n</code></pre>\n<p>The expression passed to the <code>split()</code> method will handle any number of whitespaces before and or after the delimiter (<strong>if</strong> they exist). Is whitespaces are there, they will not be part of any array element data.</p>\n<p>Try the code below. It will process any matrix size within your CSV files (even if the columns [inner Arrays] are of different lengths):</p>\n<pre><code>String filePath = &quot;MatrixData.csv&quot;;\n// Get number of data lines in CSV file.\nint lineCounter = 0;\ntry {\n    lineCounter = (int) java.nio.file.Files.lines(java.nio.file.Paths\n            .get(filePath), java.nio.charset.Charset.defaultCharset()).count();\n}\ncatch (java.io.IOException ex) {\n    ex.printStackTrace();\n}\n// ---------------------------------------\n    \nint[][] matrix = new int[lineCounter][]; //Declare &amp; initialize the 2D Array\n    \n// 'Try With Resources' used here to auto-close the reader and free resources.\ntry (java.io.BufferedReader br = new java.io.BufferedReader(new java.io.FileReader(filePath))) {\n    String line = &quot;&quot;;\n    lineCounter = 0;\n    while ((line = br.readLine()) != null) {\n        line = line.trim();\n        if (line.isEmpty()) { continue; } // Skip blank lines (if any).\n        /* Split the file lie into a String[] Array then convert \n           it to an int[] array (all in one line using Stream - Java8+).  */\n        int[] intValues = java.util.stream.Stream.of(line.split(&quot;\\\\s*;\\\\s*&quot;))\n                .mapToInt(Integer::parseInt).toArray();\n        // Copy the new int[] Array into the current row element of the 2D Array.\n        matrix[lineCounter] = java.util.Arrays.copyOf(intValues, intValues.length);\n        lineCounter++;\n    }\n} catch (java.io.FileNotFoundException ex) {\n    ex.printStackTrace();\n} catch (java.io.IOException ex) {\n    ex.printStackTrace();\n}\n   \n    \n// Display the Matrix...\nfor (int[] ary : matrix) {\n    String str = java.util.Arrays.toString(ary);\n    System.out.println(str.substring(1, str.length() - 1));\n}\n</code></pre>\n"}],"owner":{"account_id":24935008,"reputation":11,"user_id":18801687,"display_name":"limetree20"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1650015638,"creation_date":1649928593,"question_id":71869380,"body_markdown":"I am a beginner and I have a matrix in a CSV file like this:\r\n\r\n0;1;1;0  \r\n1;0;1;1  \r\n1;1;0;0  \r\n0;1;0;0  \r\n\r\nAnd I want to import it into a 2D int array so I can do multiplications with it and calculate some stuff for my graph program. This is my code so far:\r\n\r\n    try\r\n        {\r\n            BufferedReader br = new BufferedReader(new FileReader(path));\r\n            String line = &quot;&quot;;\r\n\r\n            while ((line = br.readLine()) != null)\r\n            {\r\n                String[] values = line.replaceAll(&quot;\\\\D+&quot;,&quot;&quot;).split(&quot;;&quot;);\r\n\r\n                for (int i = 0; i &lt; values.length; i++)\r\n                {\r\n                    for (int j = 0;j&lt; values.length;j++)\r\n                    {\r\n                        test[i][j] = Integer.parseInt(values[i]);\r\n                        System.out.print(test[i][j]);\r\n                    }\r\n                    System.out.println();\r\n                }\r\n            }\r\n            System.out.println(&quot;****&quot;);\r\n        } catch (IOException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n\r\nMy problem is that it will put all values from the first line into the first [] of the matrix and doesn&#39;t put every single value in each []. I tried different approaches but I always have the same outcome. I kindly ask for help.\r\n\r\nEdit: I didn&#39;t clarify my issue properly. My code takes the first like &quot;0110&quot; and doesn&#39;t put each value into each place of the first line of my matrix. It should be test[0][0] has the value 0, test[0][1] has the value 1, test[0][2] has the value 1, test[0][3] has the value 0. And the same for the other lines. But it puts the whole line in [0][0] and also cuts off the first number. So it doesn&#39;t have 0110 in that place but 110.","title":"Java String array values to 2D int array","body":"<p>I am a beginner and I have a matrix in a CSV file like this:</p>\n<p>0;1;1;0<br />\n1;0;1;1<br />\n1;1;0;0<br />\n0;1;0;0</p>\n<p>And I want to import it into a 2D int array so I can do multiplications with it and calculate some stuff for my graph program. This is my code so far:</p>\n<pre><code>try\n    {\n        BufferedReader br = new BufferedReader(new FileReader(path));\n        String line = &quot;&quot;;\n\n        while ((line = br.readLine()) != null)\n        {\n            String[] values = line.replaceAll(&quot;\\\\D+&quot;,&quot;&quot;).split(&quot;;&quot;);\n\n            for (int i = 0; i &lt; values.length; i++)\n            {\n                for (int j = 0;j&lt; values.length;j++)\n                {\n                    test[i][j] = Integer.parseInt(values[i]);\n                    System.out.print(test[i][j]);\n                }\n                System.out.println();\n            }\n        }\n        System.out.println(&quot;****&quot;);\n    } catch (IOException e)\n    {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>My problem is that it will put all values from the first line into the first [] of the matrix and doesn't put every single value in each []. I tried different approaches but I always have the same outcome. I kindly ask for help.</p>\n<p>Edit: I didn't clarify my issue properly. My code takes the first like &quot;0110&quot; and doesn't put each value into each place of the first line of my matrix. It should be test[0][0] has the value 0, test[0][1] has the value 1, test[0][2] has the value 1, test[0][3] has the value 0. And the same for the other lines. But it puts the whole line in [0][0] and also cuts off the first number. So it doesn't have 0110 in that place but 110.</p>\n"},{"tags":["java","selenium","xpath","css-selectors","webdriverwait"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1649955394,"post_id":71874994,"comment_id":127010675,"body_markdown":"click() method will first scroll the element into view.  Something is preventing that.  It&#39;s possible that another action is needed first and this button is either hidden, has a size of 0... or has no position at all in the DOM.  You might try getting the element&#39;s visibility, size and position to see if that sheds any light here.","body":"click() method will first scroll the element into view.  Something is preventing that.  It&#39;s possible that another action is needed first and this button is either hidden, has a size of 0... or has no position at all in the DOM.  You might try getting the element&#39;s visibility, size and position to see if that sheds any light here."}],"answers":[{"tags":[],"owner":{"account_id":21107152,"reputation":139,"user_id":15515891,"display_name":"Rahul"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650015623,"creation_date":1649956714,"answer_id":71875463,"question_id":71874994,"body_markdown":"I request you to please add more details. Based on my understanding &amp; knowledge, I will give my suggestions. (I&#39;ve done a few edits in answer for more understanding)\r\n\r\n(Note: I&#39;m writing the code in Java based on the latest versions of all components. So, please refer to the documentation of your version in case.)\r\n\r\nUsing JavascriptExecutor &amp; Explicit Wait (kindly import the appropriate libraries first):\r\n\r\n    long seconds = 10;  /* Enter amount of seconds you want to use in wait */\r\n    /* &#39;driver&#39; is a variable of type WebDriver */\r\n    /* Define locators and element we want to use here */\r\n    String logInBtnXpath = &quot;//button[@type=&#39;button&#39; and text()=&#39;Log in&#39;]&quot;;\r\n    By by = By.xpath(logInBtnXpath);\r\n    WebElement logInBtn = driver.findElement(by);\r\n    /* Declaring wait to be able to use explicit wait */\r\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(seconds));\r\n    wait.until(ExpectedConditions.presenceOfElementLocated(by));\r\n    /* Bringing element into view */\r\n    JavascriptExecutor jse = (JavascriptExecutor)driver;\r\n    jse.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, logInBtn);\r\n    /* Wait until element is clickable */\r\n\twait.until(ExpectedConditions.elementToBeClickable(logInBtn));\r\n    /* Click using javascript if click() method of WebElement doesn&#39;t work */\r\n    jse.executeScript(&quot;arguments[0].click();&quot;, loginBtn);\r\n\r\n\r\n","title":"Element could not be scrolled into view error while trying to click button with Selenium","body":"<p>I request you to please add more details. Based on my understanding &amp; knowledge, I will give my suggestions. (I've done a few edits in answer for more understanding)</p>\n<p>(Note: I'm writing the code in Java based on the latest versions of all components. So, please refer to the documentation of your version in case.)</p>\n<p>Using JavascriptExecutor &amp; Explicit Wait (kindly import the appropriate libraries first):</p>\n<pre><code>long seconds = 10;  /* Enter amount of seconds you want to use in wait */\n/* 'driver' is a variable of type WebDriver */\n/* Define locators and element we want to use here */\nString logInBtnXpath = &quot;//button[@type='button' and text()='Log in']&quot;;\nBy by = By.xpath(logInBtnXpath);\nWebElement logInBtn = driver.findElement(by);\n/* Declaring wait to be able to use explicit wait */\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(seconds));\nwait.until(ExpectedConditions.presenceOfElementLocated(by));\n/* Bringing element into view */\nJavascriptExecutor jse = (JavascriptExecutor)driver;\njse.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, logInBtn);\n/* Wait until element is clickable */\nwait.until(ExpectedConditions.elementToBeClickable(logInBtn));\n/* Click using javascript if click() method of WebElement doesn't work */\njse.executeScript(&quot;arguments[0].click();&quot;, loginBtn);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3251550,"reputation":37,"user_id":2741651,"display_name":"Sashank Mishra"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649959723,"creation_date":1649959723,"answer_id":71875978,"question_id":71874994,"body_markdown":"There could be some other element overlapping the same position. This can happen  if elements don&#39;t have a defined position (or have relative positions) and the resolution crunches the elements to overlap.","title":"Element could not be scrolled into view error while trying to click button with Selenium","body":"<p>There could be some other element overlapping the same position. This can happen  if elements don't have a defined position (or have relative positions) and the resolution crunches the elements to overlap.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649970589,"creation_date":1649970589,"answer_id":71877652,"question_id":71874994,"body_markdown":"To click on the _`&lt;button&gt;`_ with text as _**Log in**_  you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) which by default [scrolls the element into the view](https://stackoverflow.com/a/58537189/7429447) and you can use either of the following _locator strategies_:\r\n\r\n&gt;[tag:selenium4] compatible code\r\n\r\n- _cssSelector_:\r\n\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button.wds-c-button--primary.wds-c-button--small.wds-c-button.wds-u-hide--nav-width-down[data-testid=&#39;application-header-login-link&#39;]&quot;))).click();\r\n           \t\r\n- _xpath_:\r\n\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@class=&#39;wds-c-button--primary wds-c-button--small wds-c-button wds-u-hide--nav-width-down&#39; and text()=&#39;Log in&#39;]&quot;))).click();","title":"Element could not be scrolled into view error while trying to click button with Selenium","body":"<p>To click on the <em><code>&lt;button&gt;</code></em> with text as <em><strong>Log in</strong></em>  you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> which by default <a href=\"https://stackoverflow.com/a/58537189/7429447\">scrolls the element into the view</a> and you can use either of the following <em>locator strategies</em>:</p>\n<blockquote>\n<p><a href=\"/questions/tagged/selenium4\" class=\"post-tag\" title=\"show questions tagged &#39;selenium4&#39;\" rel=\"tag\">selenium4</a> compatible code</p>\n</blockquote>\n<ul>\n<li><p><em>cssSelector</em>:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button.wds-c-button--primary.wds-c-button--small.wds-c-button.wds-u-hide--nav-width-down[data-testid='application-header-login-link']&quot;))).click();\n</code></pre>\n</li>\n<li><p><em>xpath</em>:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@class='wds-c-button--primary wds-c-button--small wds-c-button wds-u-hide--nav-width-down' and text()='Log in']&quot;))).click();\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":22665929,"reputation":33,"user_id":16838288,"display_name":"Steven S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":581,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1650015623,"creation_date":1649954417,"question_id":71874994,"body_markdown":"When i inspect the button I can see this:\r\n```\r\n&lt;button type=&quot;button&quot; class=&quot;wds-c-button--primary wds-c-button--small wds-c-button wds-u-hide--nav-width-down&quot; role=&quot;button&quot; data-nav-close=&quot;&quot; data-testid=&quot;application-header-login-link&quot;&gt;Log in&lt;/button&gt;\r\n```\r\n\r\nI have tried finding the element with these commands but it does not work:\r\n```\r\ndriver.findElement(By.xpath(&quot;//button[contains(text(),&#39;Log in&#39;)]&quot;)).click();\r\n```\r\n```\r\ndriver.findElement(By.xpath(&quot;//button[@type=&#39;button&#39; and text()=&#39;Log in&#39;]&quot;)).click();\r\n```\r\n\r\nI get an error in console:\r\n\r\n    Element could not be scrolled into view\r\n\r\nAny ideas on why this is happening?\r\nI even added a `Thread.sleep(10000)` before running these commands.","title":"Element could not be scrolled into view error while trying to click button with Selenium","body":"<p>When i inspect the button I can see this:</p>\n<pre><code>&lt;button type=&quot;button&quot; class=&quot;wds-c-button--primary wds-c-button--small wds-c-button wds-u-hide--nav-width-down&quot; role=&quot;button&quot; data-nav-close=&quot;&quot; data-testid=&quot;application-header-login-link&quot;&gt;Log in&lt;/button&gt;\n</code></pre>\n<p>I have tried finding the element with these commands but it does not work:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//button[contains(text(),'Log in')]&quot;)).click();\n</code></pre>\n<pre><code>driver.findElement(By.xpath(&quot;//button[@type='button' and text()='Log in']&quot;)).click();\n</code></pre>\n<p>I get an error in console:</p>\n<pre><code>Element could not be scrolled into view\n</code></pre>\n<p>Any ideas on why this is happening?\nI even added a <code>Thread.sleep(10000)</code> before running these commands.</p>\n"},{"tags":["java","spring","spring-integration","dsl","spring-integration-sftp"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1457738918,"creation_date":1457738918,"answer_id":35951739,"question_id":35951472,"body_markdown":"The `Sftp.inboundAdapter()` (`SftpInboundFileSynchronizingMessageSource`) returns remote files one by one anyway. First of all it synchronizes them to the local directory and only after that poll them for message processing as `File` payload.\r\n\r\nTo process them in parallel that would be just enough to add a `taskExecutor` to your `e.poller()` definition and all those `maxMessagesPerPoll(5)` will be distributed to different threads.\r\n\r\n","title":"Need to process multiple files in parallel in Spring Integration","body":"<p>The <code>Sftp.inboundAdapter()</code> (<code>SftpInboundFileSynchronizingMessageSource</code>) returns remote files one by one anyway. First of all it synchronizes them to the local directory and only after that poll them for message processing as <code>File</code> payload.</p>\n\n<p>To process them in parallel that would be just enough to add a <code>taskExecutor</code> to your <code>e.poller()</code> definition and all those <code>maxMessagesPerPoll(5)</code> will be distributed to different threads.</p>\n"},{"tags":[],"owner":{"account_id":2739960,"reputation":681,"user_id":2361723,"accept_rate":86,"display_name":"Hans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650015568,"creation_date":1650015568,"answer_id":71882428,"question_id":35951472,"body_markdown":"For my use case, assigning the taskExecutor to the channel did the trick.\r\nHere is the code I used for a really simple application that polls a folder and processes the files. Files are handled in parallel, even if I assign only one thread to the poller.\r\n\r\n    @Slf4j\r\n    @SpringBootApplication\r\n    public class SpringIntegrationDemoApplication {\r\n    \r\n      public static void main( String[] args ) {\r\n        SpringApplication.run( SpringIntegrationDemoApplication.class, args );\r\n      }\r\n    \r\n      @Bean\r\n      public IntegrationFlow fileReadingFlow() {\r\n        return IntegrationFlows\r\n            .from( Files.inboundAdapter( new File( &quot;/tmp/in&quot; ) ).patternFilter( &quot;*.txt&quot; ),\r\n                   e -&gt;\r\n                       e.poller( Pollers.fixedDelay( 10000 )\r\n    //                               .taskExecutor( Executors.newFixedThreadPool( 1 ) )\r\n                                     .maxMessagesPerPoll( 100 )\r\n                       ) )\r\n            .channel( MessageChannels.executor( Executors.newFixedThreadPool( 100 ) ) )\r\n            .handle( &quot;myFileHandler&quot;, &quot;handleMessage&quot; )\r\n            .get();\r\n      }\r\n    \r\n      @Bean\r\n      public MessageHandler myFileHandler() {\r\n        return message -&gt; {\r\n          try {\r\n            log.info( &quot;START&quot; + message.getPayload() );\r\n            Thread.sleep( 2000 );\r\n            log.info( &quot;STOP&quot; + message.getPayload() );\r\n          }\r\n          catch ( InterruptedException e ) {\r\n            e.printStackTrace();\r\n          }\r\n        };\r\n      }\r\n    }","title":"Need to process multiple files in parallel in Spring Integration","body":"<p>For my use case, assigning the taskExecutor to the channel did the trick.\nHere is the code I used for a really simple application that polls a folder and processes the files. Files are handled in parallel, even if I assign only one thread to the poller.</p>\n<pre><code>@Slf4j\n@SpringBootApplication\npublic class SpringIntegrationDemoApplication {\n\n  public static void main( String[] args ) {\n    SpringApplication.run( SpringIntegrationDemoApplication.class, args );\n  }\n\n  @Bean\n  public IntegrationFlow fileReadingFlow() {\n    return IntegrationFlows\n        .from( Files.inboundAdapter( new File( &quot;/tmp/in&quot; ) ).patternFilter( &quot;*.txt&quot; ),\n               e -&gt;\n                   e.poller( Pollers.fixedDelay( 10000 )\n//                               .taskExecutor( Executors.newFixedThreadPool( 1 ) )\n                                 .maxMessagesPerPoll( 100 )\n                   ) )\n        .channel( MessageChannels.executor( Executors.newFixedThreadPool( 100 ) ) )\n        .handle( &quot;myFileHandler&quot;, &quot;handleMessage&quot; )\n        .get();\n  }\n\n  @Bean\n  public MessageHandler myFileHandler() {\n    return message -&gt; {\n      try {\n        log.info( &quot;START&quot; + message.getPayload() );\n        Thread.sleep( 2000 );\n        log.info( &quot;STOP&quot; + message.getPayload() );\n      }\n      catch ( InterruptedException e ) {\n        e.printStackTrace();\n      }\n    };\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":44455,"reputation":3383,"user_id":130529,"accept_rate":99,"display_name":"Harish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2356,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":35951739,"answer_count":2,"score":4,"last_activity_date":1650015568,"creation_date":1457737427,"question_id":35951472,"body_markdown":"I have a SFTP directory and reading files and sending the files for further processing to a ServiceActivator.At any point I need to process them parallely using the handler.\r\n\r\nHere is my SPring Integration java DSL flow.\r\n\r\n    IntegrationFlows.from(Sftp.inboundAdapter(getSftpSessionFactory())\r\n\t\t\t\t\t\t\t.temporaryFileSuffix(&quot;COPY&quot;)\r\n\t\t\t\t\t\t\t.localDirectory(directory)\r\n\t\t\t\t\t\t\t.deleteRemoteFiles(false)\r\n\t\t\t\t\t\t\t.preserveTimestamp(true)\r\n\t\t\t\t\t\t\t.remoteDirectory(&quot;remoteDir&quot;))\r\n\t\t\t\t\t\t\t.patternFilter(&quot;*.txt&quot;)), e -&gt; e.poller(Pollers.fixedDelay(500).maxMessagesPerPoll(5)))\r\n\t\t\t\t\t\t\t.handle(&quot;mybean&quot;, &quot;myMethod&quot;)\r\n\t\t\t\t\t\t\t.handle(Files.outboundAdapter(new File(&quot;success&quot;)))\t\t\t\r\n\t\t\t\t\t\t\t.deleteSourceFiles(true)\r\n\t\t\t\t\t\t\t.autoCreateDirectory(true))\r\n\t\t\t\t\t\t\t.get();\r\n\r\nUpdate:Here is my ThreadPoolExecutor:\r\n\r\n    @Bean(name = &quot;executor&quot;)\r\n\tpublic Executor getExecutor()\r\n\t{\r\n\t\tThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n\t\texecutor.setCorePoolSize(4);\r\n\t\texecutor.setMaxPoolSize(4);\r\n\t\texecutor.setQueueCapacity(20);\t\t\t\r\n\t\texecutor.initialize();\r\n\t\treturn executor;\r\n\t}","title":"Need to process multiple files in parallel in Spring Integration","body":"<p>I have a SFTP directory and reading files and sending the files for further processing to a ServiceActivator.At any point I need to process them parallely using the handler.</p>\n\n<p>Here is my SPring Integration java DSL flow.</p>\n\n<pre><code>IntegrationFlows.from(Sftp.inboundAdapter(getSftpSessionFactory())\n                        .temporaryFileSuffix(\"COPY\")\n                        .localDirectory(directory)\n                        .deleteRemoteFiles(false)\n                        .preserveTimestamp(true)\n                        .remoteDirectory(\"remoteDir\"))\n                        .patternFilter(\"*.txt\")), e -&gt; e.poller(Pollers.fixedDelay(500).maxMessagesPerPoll(5)))\n                        .handle(\"mybean\", \"myMethod\")\n                        .handle(Files.outboundAdapter(new File(\"success\")))         \n                        .deleteSourceFiles(true)\n                        .autoCreateDirectory(true))\n                        .get();\n</code></pre>\n\n<p>Update:Here is my ThreadPoolExecutor:</p>\n\n<pre><code>@Bean(name = \"executor\")\npublic Executor getExecutor()\n{\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n    executor.setCorePoolSize(4);\n    executor.setMaxPoolSize(4);\n    executor.setQueueCapacity(20);          \n    executor.initialize();\n    return executor;\n}\n</code></pre>\n"},{"tags":["java","android","android-intent","upgrade","auto-update"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1649850875,"post_id":71856810,"comment_id":126979350,"body_markdown":"First, that `Uri` is almost certainly wrong. Use `FileProvider` to serve up files that you can read via `content` `Uri` values. Second, `ACTION_VIEW` is no longer used for installs, as of API Level 29. You will need to look at using `PackageInstaller` instead.","body":"First, that <code>Uri</code> is almost certainly wrong. Use <code>FileProvider</code> to serve up files that you can read via <code>content</code> <code>Uri</code> values. Second, <code>ACTION_VIEW</code> is no longer used for installs, as of API Level 29. You will need to look at using <code>PackageInstaller</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":21209622,"reputation":356,"user_id":15598519,"display_name":"LegendSayantan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650015046,"creation_date":1650015046,"answer_id":71882342,"question_id":71856810,"body_markdown":"**Simple solution to install an apk in 4 steps:**\r\n\r\n1. Add these permissions in AndroidManifest.xml : [code](https://pastebin.com/irB3m4UX)\r\n\r\n2. Add this inside the `&lt;application&gt;` tag in AndroidManifest.xml : [code](https://pastebin.com/Y1gbQhTJ)\r\n\r\n3. Create a file named `file_paths.xml` in `xml` folder in `res` : [code](https://pastebin.com/jTBWfgE5)\r\n\r\n4. Use this method to install an apk file. : [code](https://pastebin.com/z28Resi4)\r\n\r\nHappy Coding!\r\n","title":"Android app upgrade itself seems right but nothing happens","body":"<p><strong>Simple solution to install an apk in 4 steps:</strong></p>\n<ol>\n<li><p>Add these permissions in AndroidManifest.xml : <a href=\"https://pastebin.com/irB3m4UX\" rel=\"nofollow noreferrer\">code</a></p>\n</li>\n<li><p>Add this inside the <code>&lt;application&gt;</code> tag in AndroidManifest.xml : <a href=\"https://pastebin.com/Y1gbQhTJ\" rel=\"nofollow noreferrer\">code</a></p>\n</li>\n<li><p>Create a file named <code>file_paths.xml</code> in <code>xml</code> folder in <code>res</code> : <a href=\"https://pastebin.com/jTBWfgE5\" rel=\"nofollow noreferrer\">code</a></p>\n</li>\n<li><p>Use this method to install an apk file. : <a href=\"https://pastebin.com/z28Resi4\" rel=\"nofollow noreferrer\">code</a></p>\n</li>\n</ol>\n<p>Happy Coding!</p>\n"}],"owner":{"account_id":315708,"reputation":187,"user_id":631523,"accept_rate":0,"display_name":"Orgil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650015046,"creation_date":1649849681,"question_id":71856810,"body_markdown":"I googled for an app upgrading itself from .apk file.\r\nHere is code. But nothing happens. No error, just nothing. I tested on Android 12.\r\n\r\n    try {\r\n        Intent install = new Intent(Intent.ACTION_VIEW);\r\n        install.setDataAndType(Uri.parse(&quot;content://&quot; + ApkFile_FullPath), &quot;application/vnd.android.package-archive&quot;);\r\n        install.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        startActivity(install);\r\n    } catch (Exception e){\r\n        Log.i(&quot;aaaaa: &quot;, &quot;intent: &quot; + e.getMessage());\r\n    }\r\n\r\nPermissions in AndroidManifest.xml as follows:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n\r\nIs it even possible to upgrade itself?","title":"Android app upgrade itself seems right but nothing happens","body":"<p>I googled for an app upgrading itself from .apk file.\nHere is code. But nothing happens. No error, just nothing. I tested on Android 12.</p>\n<pre><code>try {\n    Intent install = new Intent(Intent.ACTION_VIEW);\n    install.setDataAndType(Uri.parse(&quot;content://&quot; + ApkFile_FullPath), &quot;application/vnd.android.package-archive&quot;);\n    install.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    startActivity(install);\n} catch (Exception e){\n    Log.i(&quot;aaaaa: &quot;, &quot;intent: &quot; + e.getMessage());\n}\n</code></pre>\n<p>Permissions in AndroidManifest.xml as follows:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n</code></pre>\n<p>Is it even possible to upgrade itself?</p>\n"},{"tags":["java","selenium","collections","linkedhashmap"],"answers":[{"tags":[],"owner":{"account_id":19492409,"reputation":424,"user_id":14260355,"display_name":"BrunoT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650013939,"creation_date":1615126046,"answer_id":66517387,"question_id":66516932,"body_markdown":"Instead of passing a LinkedHashMap of element values directly, I would rather pass a wrapper class that would encapsulate the LinkedHashMap so it could overload `LinkedHashMap.put()` method with `List&lt;WebElement&gt;` and `WebElement` parameters. This would, in general, allow you to have a more robust code with easy adjustments for each WebElement types. \r\n\r\nThe `void put(WebElement webElement, String value)` method would directly save the values while the `void put(List&lt;WebElement&gt; webElements, String value)` method would (in case of *radio* elements) save only the `WebElement` which contains the given String value.\r\n\r\nExample:\r\n\r\n    class FormData {\r\n    \r\n        private Map&lt;WebElement, String&gt; map;\r\n    \r\n        public FormData() {\r\n            this.map = new LinkedHashMap&lt;WebElement, String&gt;();\r\n        }\r\n        \r\n        public void put(final WebElement webElement, final String value) {\r\n            this.map.put(webElement, value);\r\n        }\r\n        \r\n        public void put(final List&lt;WebElement&gt; webElements, final String value) throws Exception {\r\n            /* You might want to restrict this block of code to only radio buttons */\r\n            WebElement element = webElements\r\n                                     .stream()\r\n                                     .filter((key, val) -&gt; value.equals(val))\r\n                                     .findFirst()\r\n                                     .orElseThrow(new Exception(&quot;Radio with value: &quot; + value + &quot; not found!&quot;));\r\n            this.put(element, value);\r\n        }\r\n        \r\n        // getters and setters omitted\r\n\r\n    }\r\n\r\nAnd then in your `submitInputForm` method:\r\n\r\n    FormData sEnterDataList = new FormData();\r\n    // ...\r\n    sEnterDataList.put(selectHosting, sHosting);\r\n    seleniumeasy.qa.Util.commonUtil.EnterData(sEnterDataList);\r\n","title":"selenium - generic function to enter test data in webpage using nested linkedhashmap - how to handle radio buttons","body":"<p>Instead of passing a LinkedHashMap of element values directly, I would rather pass a wrapper class that would encapsulate the LinkedHashMap so it could overload <code>LinkedHashMap.put()</code> method with <code>List&lt;WebElement&gt;</code> and <code>WebElement</code> parameters. This would, in general, allow you to have a more robust code with easy adjustments for each WebElement types.</p>\n<p>The <code>void put(WebElement webElement, String value)</code> method would directly save the values while the <code>void put(List&lt;WebElement&gt; webElements, String value)</code> method would (in case of <em>radio</em> elements) save only the <code>WebElement</code> which contains the given String value.</p>\n<p>Example:</p>\n<pre><code>class FormData {\n\n    private Map&lt;WebElement, String&gt; map;\n\n    public FormData() {\n        this.map = new LinkedHashMap&lt;WebElement, String&gt;();\n    }\n    \n    public void put(final WebElement webElement, final String value) {\n        this.map.put(webElement, value);\n    }\n    \n    public void put(final List&lt;WebElement&gt; webElements, final String value) throws Exception {\n        /* You might want to restrict this block of code to only radio buttons */\n        WebElement element = webElements\n                                 .stream()\n                                 .filter((key, val) -&gt; value.equals(val))\n                                 .findFirst()\n                                 .orElseThrow(new Exception(&quot;Radio with value: &quot; + value + &quot; not found!&quot;));\n        this.put(element, value);\n    }\n    \n    // getters and setters omitted\n\n}\n</code></pre>\n<p>And then in your <code>submitInputForm</code> method:</p>\n<pre><code>FormData sEnterDataList = new FormData();\n// ...\nsEnterDataList.put(selectHosting, sHosting);\nseleniumeasy.qa.Util.commonUtil.EnterData(sEnterDataList);\n</code></pre>\n"}],"owner":{"account_id":10257021,"reputation":339,"user_id":7569590,"accept_rate":56,"display_name":"Jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650013939,"creation_date":1615123027,"question_id":66516932,"body_markdown":"I am using Selenium with Java in POM based hybrid framework. I am trying to develop a generic function to enter data in the webpage. The function accepts a linkedhashmap with key(weblement) and value (testdata to enter) pairs. It works properly so far. But I am stuck at how to handle radio buttons. Radio buttons are List of Web elements and I do not know how to pass them to this generic function. \r\n\r\nfor ex if my radio button has following dom:\r\n\r\n    &lt;div class=&#39;radio&#39;&gt;\r\n      &lt;label&gt;\r\n      &lt;input type=&#39;radio&#39; name=&#39;hosting&#39; value=&#39;yes&#39;&gt; &quot;Yes&quot;\r\n      &lt;/label&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=&#39;radio&#39;&gt;\r\n      &lt;label&gt;\r\n      &lt;input type=&#39;radio&#39; name=&#39;hosting&#39; value=&#39;no&#39;&gt; &quot;No&quot;\r\n      &lt;/label&gt;\r\n    &lt;/div&gt;\r\n\r\nIn normal circumstances, I would create a List of WebElements, iterate through them and perform actions on them. But since I am writing a generic function which accepts a LinkedHashMap how do I pass this list of WebElements to it? when we create map, key is always unique. Here key will be repeated for a set of objects with different values. \r\n\r\nfollowing is the code of my generic function.\r\n\r\n    package seleniumeasy.qa.Util;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.lang.reflect.Method;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.util.Iterator;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    \r\n    import org.apache.commons.io.FileUtils;\r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.ui.Select;\r\n    import org.testng.ITestContext;\r\n    import org.testng.Reporter;\r\n    import org.testng.annotations.DataProvider;\r\n    \r\n    import io.qameta.allure.Allure;\r\n    import seleniumeasy.qa.Base.Base;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Map.Entry;\r\n    \r\n    public class commonUtil extends Base {\r\n    \t\r\n    \tpublic static String sConfigPath = &quot;\\\\src\\\\main\\\\java\\\\seleniumeasy\\\\qa\\\\Config\\\\config.properties&quot;;\r\n    \tpublic static String sScreenShotFolderPath = &quot;\\\\Screenshots&quot;;\r\n    \t\r\n    \tpublic static int iImplicitWait = 30;\r\n    \t\r\n    \t\r\n    \tpublic static void EnterData(LinkedHashMap&lt;WebElement, String&gt; sEnterDataList)\r\n    \t{\r\n    \t\t//Map&lt;String,String&gt; sData = nsew HashMap&lt;String,String&gt;();\r\n    \t\t\r\n    \t\tfor(Entry&lt;WebElement, String&gt; element:sEnterDataList.entrySet())\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Element key is: &quot; + element.getKey().toString());\r\n    \t\t\tif(element.getKey().toString().contains(&quot;Select&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tSelect comboSelect = new Select(element.getKey());\r\n    \t\t\t\tcomboSelect.selectByVisibleText(element.getValue());\r\n    \t\t\t}\r\n    \t\t\tif(element.getKey().toString().contains(&quot;radio&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tSelect comboSelect = new Select(element.getKey());\r\n    \t\t\t\tcomboSelect.selectByVisibleText(element.getValue());\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\telement.getKey().sendKeys(element.getValue());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\nFollowing is the code in my Page class where I am calling my EnterData function.\r\n\r\n    package seleniumeasy.qa.Page;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.FindBy;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    import org.openqa.selenium.support.ui.Select;\r\n    \r\n    import io.qameta.allure.Allure;\r\n    import io.qameta.allure.Step;\r\n    import seleniumeasy.qa.Base.Base;\r\n    \r\n    public class InputFormValidationPage extends Base\r\n    {\r\n    \t@FindBy(name=&quot;first_name&quot;)\r\n    \tstatic WebElement txtFirstName;\r\n    \t\r\n    \t@FindBy(name=&quot;last_name&quot;)\r\n    \tstatic WebElement txtLastName;\r\n    \t\r\n    \t@FindBy(name=&quot;email&quot;)\r\n    \tstatic WebElement txtEmail;\r\n    \t\r\n    \t@FindBy(name=&quot;phone&quot;)\r\n    \tstatic WebElement txtPhone;\r\n    \t\r\n    \t@FindBy(name=&quot;address&quot;)\r\n    \tstatic WebElement txtAddress;\r\n    \t\r\n    \t@FindBy(name=&quot;city&quot;)\r\n    \tstatic WebElement txtCity;\r\n    \t\r\n    \t@FindBy(css=&quot;Select[name=&#39;state&#39;]&quot;)\r\n    \tstatic WebElement comboSelect;\r\n    \t\r\n    \t@FindBy(name=&quot;zip&quot;)\r\n    \tstatic WebElement txtZip;\r\n    \t\r\n    \t@FindBy(name=&quot;website&quot;)\r\n    \tstatic WebElement txtWebsite;\r\n    \t\r\n    \t@FindBy(css=&quot;input[type=&#39;radio&#39;]&quot;)\r\n    \tstatic List&lt;WebElement&gt; selectHosting;\r\n    \r\n    \t@FindBy(name=&quot;comment&quot;)\r\n    \tstatic WebElement txtComment;\r\n    \r\n    \t@FindBy(css=&quot;button[type=&#39;submit&#39;]&quot;)\r\n    \tstatic WebElement btnSubmit;\r\n    \t\r\n    \tpublic InputFormValidationPage()\r\n    \t{\r\n    \t\tPageFactory.initElements(driver, this);\r\n    \t}\r\n    \t\r\n    \t@Step(&quot;Insert data&quot;)\r\n    \tpublic void submitInputForm(String sTestCaseNo,String sFirstName,String sLastName,String sEmail,String sPhone,String sAddress,String sCity,String sState,String sZip,String sWebsite,String sHosting,String sComment)\r\n    \t{\r\n    \t\t\r\n    \t\tMap&lt;WebElement,String&gt; sEnterDataList = new LinkedHashMap&lt;WebElement,String&gt;();\r\n    \t\t\t\t\r\n    \t\t\r\n    \t\t/*txtFirstName.sendKeys(sFirstName);\r\n    \t\ttxtLastName.sendKeys(sLastName);\r\n    \t\ttxtEmail.sendKeys(sEmail);\r\n    \t\ttxtPhone.sendKeys(sPhone);\r\n    \t\ttxtAddress.sendKeys(sAddress);\r\n    \t\ttxtCity.sendKeys(sCity);*/\r\n    \t\t\r\n    \t\t//System.out.println(&quot;The type of State Combo is: &quot; + comboSelect.getAttribute(&quot;type&quot;));\r\n    \t\t//Select sComboSelect = new Select(driver.findElement(By.cssSelector(&quot;Select[name=&#39;state&#39;]&quot;)));\r\n    \t\t\r\n    \t\t/*sComboSelect.selectByVisibleText(sState);\r\n    \t\t//comboState.selectByVisibleText(sState);\r\n    \t\ttxtZip.sendKeys(sZip);;\r\n    \t\ttxtWebsite.sendKeys(sWebsite);;\r\n    \t\tfor(WebElement element:selectHosting)\r\n    \t\t{\r\n    \t\t\tif(element.getText().equalsIgnoreCase(sHosting))\r\n    \t\t\t\tif(!element.isSelected())\r\n    \t\t\t\t\telement.click();\r\n    \t\t}\r\n    \t\ttxtComment.sendKeys(sComment);;\r\n    \t\tAllure.step(&quot;Click Submit After Adding Data&quot;);\r\n    \t\tbtnSubmit.click();\r\n    \t\t\r\n    \t\t*/\r\n    \r\n    \t\tsEnterDataList.put(txtFirstName, sFirstName);\r\n    \t\tsEnterDataList.put(txtLastName, sLastName);\r\n    \t\tsEnterDataList.put(txtEmail, sEmail);\r\n    \t\tsEnterDataList.put(txtPhone, sPhone);\r\n    \t\tsEnterDataList.put(txtAddress, sAddress);\r\n    \t\tsEnterDataList.put(txtCity, sCity);\r\n    \t\tsEnterDataList.put(comboSelect, sState);\r\n    \t\tsEnterDataList.put(txtZip, sZip);\r\n    \t\tsEnterDataList.put(txtWebsite, sWebsite);\r\n    \t\t//sEnterDataList.put((WebElement) selectHosting, sHosting);\r\n    \t\t//sEnterDataList.put((WebElement) selectHosting, sHosting);\r\n    \t\tsEnterDataList.put(txtComment, sComment);\r\n    \t\tsEnterDataList.put(btnSubmit, &quot;&quot;);\r\n    \t\tseleniumeasy.qa.Util.commonUtil.EnterData((LinkedHashMap&lt;WebElement, String&gt;) sEnterDataList);\r\n    \t}\r\n    }\r\n\r\nHere is my test page which uses DataProvider to connect to my excel database and fetch records which are then passed as testdata to my Page class.\r\n\r\n    package seleniumeasy.test.Tests;\r\n    \r\n    import org.testng.annotations.AfterMethod;\r\n    import org.testng.annotations.AfterTest;\r\n    import org.testng.annotations.BeforeMethod;\r\n    import org.testng.annotations.DataProvider;\r\n    import org.testng.annotations.Listeners;\r\n    import org.testng.annotations.Test;\r\n    import org.testng.asserts.SoftAssert;\r\n    \r\n    import io.qameta.allure.Allure;\r\n    import io.qameta.allure.Description;\r\n    import junit.framework.TestListener;\r\n    import seleniumeasy.qa.Base.Base;\r\n    import seleniumeasy.qa.Page.InputFormValidationPage;\r\n    import seleniumeasy.qa.Page.managePopupWindowPage;\r\n    import seleniumeasy.qa.Util.excelDataUtil;\r\n    \r\n    //@Listeners(seleniumeasy.qa.Util.TestListener.class)\r\n    public class InputFormValidationTest extends Base{\r\n    \r\n    \tInputFormValidationPage obj;\r\n    \tmanagePopupWindowPage mObj;\r\n    \t\r\n    \t@BeforeMethod\r\n    \tpublic void setUP()\r\n    \t{\r\n    \t\tInit();\r\n    \t\t\r\n    \t\tmObj = new managePopupWindowPage();\r\n    \t\tobj = mObj.clickInputFormSubmitMenu();\t\t\r\n    \t}\r\n    \t@Description(&quot;Data Driven Test to insert new records - Excel&quot;)\r\n    \t@Test(dataProvider=&quot;getInputData&quot;,description=&quot;Data driven test using excel to insert records in the system&quot;)\r\n    \tpublic void validateInputForm(String sTestCaseNo,String sFirstName,String sLastName,String sEmail,String sPhone,String sAddress,String sCity,String sState,String sZip,String sWebsite,String sHosting,String sComment)\r\n    \t{\r\n    \t\t\r\n    \t\t//System.out.println(sTestCaseNo + &quot;-&quot; + sFirstName + &quot;-&quot; + sLastName+ &quot;-&quot;+ sEmail+ &quot;-&quot; + sPhone+ &quot;-&quot; +sAddress + &quot;-&quot; +sCity + &quot;-&quot; + sState + &quot;-&quot; +  sZip + &quot;-&quot; +  sWebsite + &quot;-&quot; +  sHosting + &quot;-&quot; +  sComment);\r\n    \t\tobj.submitInputForm(sTestCaseNo, sFirstName, sLastName, sEmail, sPhone, sAddress, sCity, sState, sZip, sWebsite, sHosting, sComment);\r\n    \t\tAllure.step(&quot;Verification after insertion of record&quot;);\r\n    \t}\r\n    \t@AfterMethod\r\n    \tpublic void tearDown()\r\n    \t{\r\n    \t\tdriver.close();\r\n    \t\tdriver.quit();\r\n    \t}\r\n    \t\r\n    \t@DataProvider\r\n    \tpublic Object[][] getInputData()\r\n    \t{\r\n    \t\tObject data[][] = excelDataUtil.readExcelFile(&quot;InputFormValidationData&quot;);\r\n    \t\t//System.out.println(&quot;Data inside data provider is as followes:&quot;);\r\n    \t\t//System.out.println(data.toString());\r\n    \t\treturn data;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\t\r\nPlease note that as of now this is working fine as I commented on the code where radio button is added to the list. It works fine for textfield, textarea and combobox objects.\tI just do not know how do I handle radio button which will have common key but different values. Maps accepts only unique key.\r\n\r\nIs it possible to send list of web elements as part of LinkedHashMap?\r\n\r\nsuggestions please\r\n","title":"selenium - generic function to enter test data in webpage using nested linkedhashmap - how to handle radio buttons","body":"<p>I am using Selenium with Java in POM based hybrid framework. I am trying to develop a generic function to enter data in the webpage. The function accepts a linkedhashmap with key(weblement) and value (testdata to enter) pairs. It works properly so far. But I am stuck at how to handle radio buttons. Radio buttons are List of Web elements and I do not know how to pass them to this generic function.</p>\n<p>for ex if my radio button has following dom:</p>\n<pre><code>&lt;div class='radio'&gt;\n  &lt;label&gt;\n  &lt;input type='radio' name='hosting' value='yes'&gt; &quot;Yes&quot;\n  &lt;/label&gt;\n&lt;/div&gt;\n&lt;div class='radio'&gt;\n  &lt;label&gt;\n  &lt;input type='radio' name='hosting' value='no'&gt; &quot;No&quot;\n  &lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n<p>In normal circumstances, I would create a List of WebElements, iterate through them and perform actions on them. But since I am writing a generic function which accepts a LinkedHashMap how do I pass this list of WebElements to it? when we create map, key is always unique. Here key will be repeated for a set of objects with different values.</p>\n<p>following is the code of my generic function.</p>\n<pre><code>package seleniumeasy.qa.Util;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.lang.reflect.Method;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.Iterator;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Set;\n\nimport org.apache.commons.io.FileUtils;\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.ui.Select;\nimport org.testng.ITestContext;\nimport org.testng.Reporter;\nimport org.testng.annotations.DataProvider;\n\nimport io.qameta.allure.Allure;\nimport seleniumeasy.qa.Base.Base;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Map.Entry;\n\npublic class commonUtil extends Base {\n    \n    public static String sConfigPath = &quot;\\\\src\\\\main\\\\java\\\\seleniumeasy\\\\qa\\\\Config\\\\config.properties&quot;;\n    public static String sScreenShotFolderPath = &quot;\\\\Screenshots&quot;;\n    \n    public static int iImplicitWait = 30;\n    \n    \n    public static void EnterData(LinkedHashMap&lt;WebElement, String&gt; sEnterDataList)\n    {\n        //Map&lt;String,String&gt; sData = nsew HashMap&lt;String,String&gt;();\n        \n        for(Entry&lt;WebElement, String&gt; element:sEnterDataList.entrySet())\n        {\n            System.out.println(&quot;Element key is: &quot; + element.getKey().toString());\n            if(element.getKey().toString().contains(&quot;Select&quot;))\n            {\n                Select comboSelect = new Select(element.getKey());\n                comboSelect.selectByVisibleText(element.getValue());\n            }\n            if(element.getKey().toString().contains(&quot;radio&quot;))\n            {\n                Select comboSelect = new Select(element.getKey());\n                comboSelect.selectByVisibleText(element.getValue());\n            }\n            else\n            {\n                element.getKey().sendKeys(element.getValue());\n            }\n        }\n        \n    }\n\n\n}\n</code></pre>\n<p>Following is the code in my Page class where I am calling my EnterData function.</p>\n<pre><code>package seleniumeasy.qa.Page;\n\nimport java.util.HashMap;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.FindBy;\nimport org.openqa.selenium.support.PageFactory;\nimport org.openqa.selenium.support.ui.Select;\n\nimport io.qameta.allure.Allure;\nimport io.qameta.allure.Step;\nimport seleniumeasy.qa.Base.Base;\n\npublic class InputFormValidationPage extends Base\n{\n    @FindBy(name=&quot;first_name&quot;)\n    static WebElement txtFirstName;\n    \n    @FindBy(name=&quot;last_name&quot;)\n    static WebElement txtLastName;\n    \n    @FindBy(name=&quot;email&quot;)\n    static WebElement txtEmail;\n    \n    @FindBy(name=&quot;phone&quot;)\n    static WebElement txtPhone;\n    \n    @FindBy(name=&quot;address&quot;)\n    static WebElement txtAddress;\n    \n    @FindBy(name=&quot;city&quot;)\n    static WebElement txtCity;\n    \n    @FindBy(css=&quot;Select[name='state']&quot;)\n    static WebElement comboSelect;\n    \n    @FindBy(name=&quot;zip&quot;)\n    static WebElement txtZip;\n    \n    @FindBy(name=&quot;website&quot;)\n    static WebElement txtWebsite;\n    \n    @FindBy(css=&quot;input[type='radio']&quot;)\n    static List&lt;WebElement&gt; selectHosting;\n\n    @FindBy(name=&quot;comment&quot;)\n    static WebElement txtComment;\n\n    @FindBy(css=&quot;button[type='submit']&quot;)\n    static WebElement btnSubmit;\n    \n    public InputFormValidationPage()\n    {\n        PageFactory.initElements(driver, this);\n    }\n    \n    @Step(&quot;Insert data&quot;)\n    public void submitInputForm(String sTestCaseNo,String sFirstName,String sLastName,String sEmail,String sPhone,String sAddress,String sCity,String sState,String sZip,String sWebsite,String sHosting,String sComment)\n    {\n        \n        Map&lt;WebElement,String&gt; sEnterDataList = new LinkedHashMap&lt;WebElement,String&gt;();\n                \n        \n        /*txtFirstName.sendKeys(sFirstName);\n        txtLastName.sendKeys(sLastName);\n        txtEmail.sendKeys(sEmail);\n        txtPhone.sendKeys(sPhone);\n        txtAddress.sendKeys(sAddress);\n        txtCity.sendKeys(sCity);*/\n        \n        //System.out.println(&quot;The type of State Combo is: &quot; + comboSelect.getAttribute(&quot;type&quot;));\n        //Select sComboSelect = new Select(driver.findElement(By.cssSelector(&quot;Select[name='state']&quot;)));\n        \n        /*sComboSelect.selectByVisibleText(sState);\n        //comboState.selectByVisibleText(sState);\n        txtZip.sendKeys(sZip);;\n        txtWebsite.sendKeys(sWebsite);;\n        for(WebElement element:selectHosting)\n        {\n            if(element.getText().equalsIgnoreCase(sHosting))\n                if(!element.isSelected())\n                    element.click();\n        }\n        txtComment.sendKeys(sComment);;\n        Allure.step(&quot;Click Submit After Adding Data&quot;);\n        btnSubmit.click();\n        \n        */\n\n        sEnterDataList.put(txtFirstName, sFirstName);\n        sEnterDataList.put(txtLastName, sLastName);\n        sEnterDataList.put(txtEmail, sEmail);\n        sEnterDataList.put(txtPhone, sPhone);\n        sEnterDataList.put(txtAddress, sAddress);\n        sEnterDataList.put(txtCity, sCity);\n        sEnterDataList.put(comboSelect, sState);\n        sEnterDataList.put(txtZip, sZip);\n        sEnterDataList.put(txtWebsite, sWebsite);\n        //sEnterDataList.put((WebElement) selectHosting, sHosting);\n        //sEnterDataList.put((WebElement) selectHosting, sHosting);\n        sEnterDataList.put(txtComment, sComment);\n        sEnterDataList.put(btnSubmit, &quot;&quot;);\n        seleniumeasy.qa.Util.commonUtil.EnterData((LinkedHashMap&lt;WebElement, String&gt;) sEnterDataList);\n    }\n}\n</code></pre>\n<p>Here is my test page which uses DataProvider to connect to my excel database and fetch records which are then passed as testdata to my Page class.</p>\n<pre><code>package seleniumeasy.test.Tests;\n\nimport org.testng.annotations.AfterMethod;\nimport org.testng.annotations.AfterTest;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Listeners;\nimport org.testng.annotations.Test;\nimport org.testng.asserts.SoftAssert;\n\nimport io.qameta.allure.Allure;\nimport io.qameta.allure.Description;\nimport junit.framework.TestListener;\nimport seleniumeasy.qa.Base.Base;\nimport seleniumeasy.qa.Page.InputFormValidationPage;\nimport seleniumeasy.qa.Page.managePopupWindowPage;\nimport seleniumeasy.qa.Util.excelDataUtil;\n\n//@Listeners(seleniumeasy.qa.Util.TestListener.class)\npublic class InputFormValidationTest extends Base{\n\n    InputFormValidationPage obj;\n    managePopupWindowPage mObj;\n    \n    @BeforeMethod\n    public void setUP()\n    {\n        Init();\n        \n        mObj = new managePopupWindowPage();\n        obj = mObj.clickInputFormSubmitMenu();      \n    }\n    @Description(&quot;Data Driven Test to insert new records - Excel&quot;)\n    @Test(dataProvider=&quot;getInputData&quot;,description=&quot;Data driven test using excel to insert records in the system&quot;)\n    public void validateInputForm(String sTestCaseNo,String sFirstName,String sLastName,String sEmail,String sPhone,String sAddress,String sCity,String sState,String sZip,String sWebsite,String sHosting,String sComment)\n    {\n        \n        //System.out.println(sTestCaseNo + &quot;-&quot; + sFirstName + &quot;-&quot; + sLastName+ &quot;-&quot;+ sEmail+ &quot;-&quot; + sPhone+ &quot;-&quot; +sAddress + &quot;-&quot; +sCity + &quot;-&quot; + sState + &quot;-&quot; +  sZip + &quot;-&quot; +  sWebsite + &quot;-&quot; +  sHosting + &quot;-&quot; +  sComment);\n        obj.submitInputForm(sTestCaseNo, sFirstName, sLastName, sEmail, sPhone, sAddress, sCity, sState, sZip, sWebsite, sHosting, sComment);\n        Allure.step(&quot;Verification after insertion of record&quot;);\n    }\n    @AfterMethod\n    public void tearDown()\n    {\n        driver.close();\n        driver.quit();\n    }\n    \n    @DataProvider\n    public Object[][] getInputData()\n    {\n        Object data[][] = excelDataUtil.readExcelFile(&quot;InputFormValidationData&quot;);\n        //System.out.println(&quot;Data inside data provider is as followes:&quot;);\n        //System.out.println(data.toString());\n        return data;\n    }\n    \n    \n}\n</code></pre>\n<p>Please note that as of now this is working fine as I commented on the code where radio button is added to the list. It works fine for textfield, textarea and combobox objects. I just do not know how do I handle radio button which will have common key but different values. Maps accepts only unique key.</p>\n<p>Is it possible to send list of web elements as part of LinkedHashMap?</p>\n<p>suggestions please</p>\n"},{"tags":["java","spring","hibernate","parameters","binding"],"comments":[{"owner":{"account_id":16404603,"reputation":359,"user_id":11849527,"display_name":"Salem loress"},"score":0,"creation_date":1649641895,"post_id":71819141,"comment_id":126919698,"body_markdown":"You have to add @Param before each parameters to identity each is resourceType or tags.","body":"You have to add @Param before each parameters to identity each is resourceType or tags."}],"answers":[{"tags":[],"owner":{"account_id":24944273,"reputation":26,"user_id":18809773,"display_name":"yoyo yo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650013609,"creation_date":1650013609,"answer_id":71882101,"question_id":71819141,"body_markdown":"You probably have different names of columns in your entity classes than the names of columns in the database, like for resource_id your variable name in the entity class could be resourceId.\r\n\r\n    @Query(value = &quot;select t.resourceId from tag t where t.resourceType = :resourceType and t.value in :tags&quot;, nativeQuery = true)\r\n    List&lt;String&gt; search(@Param(&quot;resourceType&quot;) String resourceType, @Param(&quot;tags&quot;) List&lt;String&gt; tags);","title":"Hibernate parameter binding issue with lists","body":"<p>You probably have different names of columns in your entity classes than the names of columns in the database, like for resource_id your variable name in the entity class could be resourceId.</p>\n<pre><code>@Query(value = &quot;select t.resourceId from tag t where t.resourceType = :resourceType and t.value in :tags&quot;, nativeQuery = true)\nList&lt;String&gt; search(@Param(&quot;resourceType&quot;) String resourceType, @Param(&quot;tags&quot;) List&lt;String&gt; tags);\n</code></pre>\n"}],"owner":{"account_id":9874911,"reputation":21,"user_id":7313062,"display_name":"Oscar Acosta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650013609,"creation_date":1649612840,"question_id":71819141,"body_markdown":"I have the following method in one of my repositories\r\n```\r\n@Query(value = &quot;select resource_id from tag where resource_type = :resourceType and value in :tags&quot;, nativeQuery = true)\r\n    List&lt;String&gt; search(String resourceType, List&lt;String&gt; tags);\r\n```\r\n\r\nIf I run this as a raw sql query, I obtain, as expected, several elements as a result:\r\n```\r\nselect resource_id from tag where resource_type = &#39;color&#39; and value in (&#39;red&#39;, &#39;blue&#39;);\r\n```\r\n\r\nHowever, if I run the search method from my repository or the equivalent from the method createNativeQuery of the class EntityManager, I get no result if &quot;tags&quot; contains multiple values.\r\n\r\n```\r\n2022-04-06 04:36:49.726 DEBUG 14368 --- [nio-8080-exec-1] org.hibernate.SQL                        : select resource_id from tag where resource_type = ? and value in (?)\r\nHibernate: select resource_id from tag where resource_type = ? and value in (?)\r\n2022-04-06 04:36:49.731 TRACE 14368 --- [nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [color]\r\n2022-04-06 04:36:49.732 TRACE 14368 --- [nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [red]\r\n```\r\n\r\nAll is well so far, I receive several results, but if I add an element in &quot;tags&quot;...\r\n\r\n```\r\n2022-04-06 04:36:55.041 DEBUG 14368 --- [nio-8080-exec-6] org.hibernate.SQL                        : select resource_id from tag where resource_type = ? and value in (?)\r\nHibernate: select resource_id from tag where resource_type = ? and value in (?)\r\n2022-04-06 04:36:55.041 TRACE 14368 --- [nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [color]\r\n2022-04-06 04:36:55.041 TRACE 14368 --- [nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [res,blue]\r\n```\r\n\r\nThis time I receive 0 elements as a result (which is different from the raw sql result). What surprises me is this log line:\r\n\r\n```Hibernate: select resource_id from tag where resource_type = ? and value in (?)```\r\n\r\nI expected:\r\n\r\n```select resource_id from tag where resource_type = ? and value in (?, ?)```\r\n\r\nWhat am I doing wrong?\r\n\r\nI&#39;m using spring boot 2.6.6 and the default hibernate version bundled with it (5.6.7.Final if I can believe Intellij)\r\n","title":"Hibernate parameter binding issue with lists","body":"<p>I have the following method in one of my repositories</p>\n<pre><code>@Query(value = &quot;select resource_id from tag where resource_type = :resourceType and value in :tags&quot;, nativeQuery = true)\n    List&lt;String&gt; search(String resourceType, List&lt;String&gt; tags);\n</code></pre>\n<p>If I run this as a raw sql query, I obtain, as expected, several elements as a result:</p>\n<pre><code>select resource_id from tag where resource_type = 'color' and value in ('red', 'blue');\n</code></pre>\n<p>However, if I run the search method from my repository or the equivalent from the method createNativeQuery of the class EntityManager, I get no result if &quot;tags&quot; contains multiple values.</p>\n<pre><code>2022-04-06 04:36:49.726 DEBUG 14368 --- [nio-8080-exec-1] org.hibernate.SQL                        : select resource_id from tag where resource_type = ? and value in (?)\nHibernate: select resource_id from tag where resource_type = ? and value in (?)\n2022-04-06 04:36:49.731 TRACE 14368 --- [nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [color]\n2022-04-06 04:36:49.732 TRACE 14368 --- [nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [red]\n</code></pre>\n<p>All is well so far, I receive several results, but if I add an element in &quot;tags&quot;...</p>\n<pre><code>2022-04-06 04:36:55.041 DEBUG 14368 --- [nio-8080-exec-6] org.hibernate.SQL                        : select resource_id from tag where resource_type = ? and value in (?)\nHibernate: select resource_id from tag where resource_type = ? and value in (?)\n2022-04-06 04:36:55.041 TRACE 14368 --- [nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [VARCHAR] - [color]\n2022-04-06 04:36:55.041 TRACE 14368 --- [nio-8080-exec-6] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [res,blue]\n</code></pre>\n<p>This time I receive 0 elements as a result (which is different from the raw sql result). What surprises me is this log line:</p>\n<p><code>Hibernate: select resource_id from tag where resource_type = ? and value in (?)</code></p>\n<p>I expected:</p>\n<p><code>select resource_id from tag where resource_type = ? and value in (?, ?)</code></p>\n<p>What am I doing wrong?</p>\n<p>I'm using spring boot 2.6.6 and the default hibernate version bundled with it (5.6.7.Final if I can believe Intellij)</p>\n"},{"tags":["java","spring-boot","autowired","openfeign"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1649678163,"post_id":71827108,"comment_id":126929145,"body_markdown":"make sure that the package where feignClient exists is included in the `@ComponentScan`","body":"make sure that the package where feignClient exists is included in the <code>@ComponentScan</code>"}],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650013580,"creation_date":1649684788,"answer_id":71828965,"question_id":71827108,"body_markdown":"try to add `@EnableFeignClients` in your main class:\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableFeignClients\r\npublic class ExampleApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ExampleApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\nsee more: https://www.baeldung.com/spring-cloud-openfeign","title":"Feign Client being ignored during component scan","body":"<p>try to add <code>@EnableFeignClients</code> in your main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableFeignClients\npublic class ExampleApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ExampleApplication.class, args);\n    }\n}\n</code></pre>\n<p>see more: <a href=\"https://www.baeldung.com/spring-cloud-openfeign\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-cloud-openfeign</a></p>\n"}],"owner":{"account_id":19206462,"reputation":193,"user_id":14033226,"display_name":"njari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1572,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71828965,"answer_count":1,"score":1,"last_activity_date":1650013580,"creation_date":1649676903,"question_id":71827108,"body_markdown":"I am creating a feign client to hit an external service. I added the following dependencies to my pom.xml \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;in.njari&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;util&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;util&lt;/name&gt;\r\n\t&lt;description&gt;Utilities for API Dev&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;Greenwich.SR3&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n\r\nThe two additions here are `spring-cloud-starter-openfeign` and `spring-cloud-dependencies` \r\n\r\nHere is my feign client class : \r\n```\r\n@FeignClient(name = &quot;chat-service&quot;, url = &quot;${server.chatservice.url}&quot;)\r\npublic interface ChatServiceClient {\r\n\r\n    @PostMapping(&quot;/email/send&quot;)\r\n    void sendEmail(@RequestBody Map&lt;String, String&gt; sendEmailMap);\r\n}\r\n\r\n```\r\n\r\nNext I&#39;m autowiring this in one of my existing services. However, this leads to an error. What am I missing? \r\n\r\nI tried adding `@Service` to my chatServiceClient, however that simply gives me this warning : \r\n```2022-04-11 17:02:07.358 DEBUG 87001 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Ignored because not a concrete top-level class: file [/Users/rajdeep/X/util/target/classes/in/njari/util/src/client/ChatServiceClient.class]``` \r\n\r\nI think @FeignClient should be enough to register this as a bean, however it&#39;s not. What else do I need? \r\n\r\n\r\n```\r\n2022-04-11 16:50:41.917  INFO 86938 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration&#39; of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$247290de] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.2.5.RELEASE)\r\n\r\n2022-04-11 16:50:42.110  INFO 86938 --- [           main] in.njari.util.UtilApplication            : No active profile set, falling back to default profiles: default\r\n2022-04-11 16:50:42.236 DEBUG 86938 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [/Users/rajdeep/X/util/target/classes/in/njari/util/src/ExceptionReportingAdvice.class]\r\n2022-04-11 16:50:42.268 DEBUG 86938 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [/Users/rajdeep/X/util/target/classes/in/njari/util/src/controller/UtilController.class]\r\n2022-04-11 16:50:42.978  INFO 86938 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9ddeaaa5-b9f2-314c-82de-bbd43b8d74ad\r\n2022-04-11 16:50:43.129  INFO 86938 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration&#39; of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$247290de] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-04-11 16:50:43.732  INFO 86938 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-04-11 16:50:43.753  INFO 86938 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-04-11 16:50:43.753  INFO 86938 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]\r\n2022-04-11 16:50:43.887  INFO 86938 --- [           main] o.a.c.c.C.[.[localhost].[/util-service]  : Initializing Spring embedded WebApplicationContext\r\n2022-04-11 16:50:43.888  INFO 86938 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1722 ms\r\n2022-04-11 16:50:43.930  WARN 86938 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;exceptionReportingAdvice&#39;: Unsatisfied dependency expressed through field &#39;chatServiceClient&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;in.njari.util.src.client.ChatServiceClient&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n2022-04-11 16:50:43.932  INFO 86938 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-04-11 16:50:43.948  INFO 86938 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-04-11 16:50:43.948 DEBUG 86938 --- [           main] s.c.a.AnnotationConfigApplicationContext : Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@28cda624, started on Mon Apr 11 16:50:41 IST 2022\r\n2022-04-11 16:50:44.091 ERROR 86938 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField chatServiceClient in in.njari.util.src.ExceptionReportingAdvice required a bean of type &#39;in.njari.util.src.client.ChatServiceClient&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;in.njari.util.src.client.ChatServiceClient&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n```","title":"Feign Client being ignored during component scan","body":"<p>I am creating a feign client to hit an external service. I added the following dependencies to my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;in.njari&lt;/groupId&gt;\n    &lt;artifactId&gt;util&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;util&lt;/name&gt;\n    &lt;description&gt;Utilities for API Dev&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n            &lt;version&gt;2.6.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;Greenwich.SR3&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>The two additions here are <code>spring-cloud-starter-openfeign</code> and <code>spring-cloud-dependencies</code></p>\n<p>Here is my feign client class :</p>\n<pre><code>@FeignClient(name = &quot;chat-service&quot;, url = &quot;${server.chatservice.url}&quot;)\npublic interface ChatServiceClient {\n\n    @PostMapping(&quot;/email/send&quot;)\n    void sendEmail(@RequestBody Map&lt;String, String&gt; sendEmailMap);\n}\n\n</code></pre>\n<p>Next I'm autowiring this in one of my existing services. However, this leads to an error. What am I missing?</p>\n<p>I tried adding <code>@Service</code> to my chatServiceClient, however that simply gives me this warning :\n<code>2022-04-11 17:02:07.358 DEBUG 87001 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Ignored because not a concrete top-level class: file [/Users/rajdeep/X/util/target/classes/in/njari/util/src/client/ChatServiceClient.class]</code></p>\n<p>I think @FeignClient should be enough to register this as a bean, however it's not. What else do I need?</p>\n<pre><code>2022-04-11 16:50:41.917  INFO 86938 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$247290de] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.5.RELEASE)\n\n2022-04-11 16:50:42.110  INFO 86938 --- [           main] in.njari.util.UtilApplication            : No active profile set, falling back to default profiles: default\n2022-04-11 16:50:42.236 DEBUG 86938 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [/Users/rajdeep/X/util/target/classes/in/njari/util/src/ExceptionReportingAdvice.class]\n2022-04-11 16:50:42.268 DEBUG 86938 --- [           main] o.s.c.a.ClassPathBeanDefinitionScanner   : Identified candidate component class: file [/Users/rajdeep/X/util/target/classes/in/njari/util/src/controller/UtilController.class]\n2022-04-11 16:50:42.978  INFO 86938 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9ddeaaa5-b9f2-314c-82de-bbd43b8d74ad\n2022-04-11 16:50:43.129  INFO 86938 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$247290de] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-04-11 16:50:43.732  INFO 86938 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-04-11 16:50:43.753  INFO 86938 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-04-11 16:50:43.753  INFO 86938 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.31]\n2022-04-11 16:50:43.887  INFO 86938 --- [           main] o.a.c.c.C.[.[localhost].[/util-service]  : Initializing Spring embedded WebApplicationContext\n2022-04-11 16:50:43.888  INFO 86938 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1722 ms\n2022-04-11 16:50:43.930  WARN 86938 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'exceptionReportingAdvice': Unsatisfied dependency expressed through field 'chatServiceClient'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'in.njari.util.src.client.ChatServiceClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2022-04-11 16:50:43.932  INFO 86938 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-04-11 16:50:43.948  INFO 86938 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-04-11 16:50:43.948 DEBUG 86938 --- [           main] s.c.a.AnnotationConfigApplicationContext : Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@28cda624, started on Mon Apr 11 16:50:41 IST 2022\n2022-04-11 16:50:44.091 ERROR 86938 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField chatServiceClient in in.njari.util.src.ExceptionReportingAdvice required a bean of type 'in.njari.util.src.client.ChatServiceClient' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'in.njari.util.src.client.ChatServiceClient' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","selenium","testing","automated-tests"],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650013238,"creation_date":1650013238,"answer_id":71882040,"question_id":71881850,"body_markdown":"When you are doing \r\n\r\n    driver.findElement(completeButtonByXpath);\r\n\r\nthen at this time selenium is looking for `*//button[text()=&#39;Complete&#39;]` xPath.\r\n\r\nAnd probably at this time, it is not attached to `HTML-DOM` causing `staleness`. \r\n\r\n**Solution:**\r\n\r\n1. A very simple solution is to put hardcoded sleep like this:\r\n\r\n       Thread.sleep(5000);\r\n\r\nand now look for `WebElement completeButton = driver.findElement(completeButtonByXpath);`\r\n\r\n2. Modify `completeSession` to Just have explicit waits. \r\n\r\n\t   public void completeSession() {\r\n\t    By completeButtonByXpath = By.xpath(&quot;*//button[text()=&#39;Complete&#39;]&quot;);\r\n\t    //WebElement completeButton = driver.findElement(completeButtonByXpath);\r\n\t    WebDriverWait wait = new WebDriverWait(driver, 30);\r\n\t    wait.until(ExpectedConditions.elementToBeClickable(completeButtonByXpath)).click();\r\n       }\r\n\r\n3. Retry `clicking`.\r\n\r\n**Code:**\r\n\r\n\r\n    public void completeSession() {\r\n        By completeButtonByXpath = By.xpath(&quot;*//button[text()=&#39;Complete&#39;]&quot;);\r\n        WebElement completeButton = driver.findElement(completeButtonByXpath);\r\n        int attempts = 0;\r\n        while(attempts &lt; 5) {\r\n            try {\r\n            \tcompleteButton.click();\r\n                break;\r\n            }\r\n            catch(StaleElementReferenceException staleException) {\r\n            \tstaleException.printStackTrace();\r\n            }\r\n            attempts++;\r\n        }\r\n    }\r\n\r\n","title":"Again &quot;Stale element reference: element is not attached to the page document&quot;","body":"<p>When you are doing</p>\n<pre><code>driver.findElement(completeButtonByXpath);\n</code></pre>\n<p>then at this time selenium is looking for <code>*//button[text()='Complete']</code> xPath.</p>\n<p>And probably at this time, it is not attached to <code>HTML-DOM</code> causing <code>staleness</code>.</p>\n<p><strong>Solution:</strong></p>\n<ol>\n<li><p>A very simple solution is to put hardcoded sleep like this:</p>\n<pre><code>Thread.sleep(5000);\n</code></pre>\n</li>\n</ol>\n<p>and now look for <code>WebElement completeButton = driver.findElement(completeButtonByXpath);</code></p>\n<ol start=\"2\">\n<li><p>Modify <code>completeSession</code> to Just have explicit waits.</p>\n<pre><code>public void completeSession() {\n By completeButtonByXpath = By.xpath(&quot;*//button[text()='Complete']&quot;);\n //WebElement completeButton = driver.findElement(completeButtonByXpath);\n WebDriverWait wait = new WebDriverWait(driver, 30);\n wait.until(ExpectedConditions.elementToBeClickable(completeButtonByXpath)).click();\n}\n</code></pre>\n</li>\n<li><p>Retry <code>clicking</code>.</p>\n</li>\n</ol>\n<p><strong>Code:</strong></p>\n<pre><code>public void completeSession() {\n    By completeButtonByXpath = By.xpath(&quot;*//button[text()='Complete']&quot;);\n    WebElement completeButton = driver.findElement(completeButtonByXpath);\n    int attempts = 0;\n    while(attempts &lt; 5) {\n        try {\n            completeButton.click();\n            break;\n        }\n        catch(StaleElementReferenceException staleException) {\n            staleException.printStackTrace();\n        }\n        attempts++;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12706527,"reputation":999,"user_id":9231614,"display_name":"kris82pl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9469,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71882040,"answer_count":1,"score":3,"last_activity_date":1650013238,"creation_date":1650012008,"question_id":71881850,"body_markdown":"I know that is exception is thrown when DOM tree has changed and solution for this is to find element again after refresh but...\r\n\r\nI&#39;m doing following operations:\r\n\r\n        sessionsView.filterSession(sessionName);\r\n        lockSession();\r\n        approveSession();\r\n        completeSession();\r\n\r\nAt the beginning of execution this code `completeButton` is disabled and looks like this:\r\n\r\n`&lt;button _ngcontent-mfo-c209=&quot;&quot; class=&quot;btn btn-default btn-xs pull-right&quot; style=&quot;margin-right: 10px;&quot; disabled=&quot;&quot;&gt;Complete&lt;/button&gt;`\r\n\r\nLock and approve operations are done by rest API services. After approve complete button becomes enabled so I&#39;m looking for it after this refresh and then try to click it.\r\n\r\n    public void completeSession() {\r\n        By completeButtonByXpath = By.xpath(&quot;*//button[text()=&#39;Complete&#39;]&quot;);\r\n        WebElement completeButton = driver.findElement(completeButtonByXpath);\r\n        WebDriverWait wait = new WebDriverWait(driver, 30);\r\n        wait.until(ExpectedConditions.elementToBeClickable(completeButton));\r\n        completeButton.click();\r\n    }\r\n\r\nbut I receive\r\n\r\n`org.openqa.selenium.StaleElementReferenceException: stale element reference: element is not attached to the page document`\r\n\r\nwhen I click `completeButton`\r\n\r\nI also tried with such wait \r\n`wait.until(not(ExpectedConditions.attributeContains(completeButtonByXpath, &quot;disabled&quot;, &quot;&quot;)));` but it didn&#39;t help.\r\n\r\nAny solutions ?","title":"Again &quot;Stale element reference: element is not attached to the page document&quot;","body":"<p>I know that is exception is thrown when DOM tree has changed and solution for this is to find element again after refresh but...</p>\n<p>I'm doing following operations:</p>\n<pre><code>    sessionsView.filterSession(sessionName);\n    lockSession();\n    approveSession();\n    completeSession();\n</code></pre>\n<p>At the beginning of execution this code <code>completeButton</code> is disabled and looks like this:</p>\n<p><code>&lt;button _ngcontent-mfo-c209=&quot;&quot; class=&quot;btn btn-default btn-xs pull-right&quot; style=&quot;margin-right: 10px;&quot; disabled=&quot;&quot;&gt;Complete&lt;/button&gt;</code></p>\n<p>Lock and approve operations are done by rest API services. After approve complete button becomes enabled so I'm looking for it after this refresh and then try to click it.</p>\n<pre><code>public void completeSession() {\n    By completeButtonByXpath = By.xpath(&quot;*//button[text()='Complete']&quot;);\n    WebElement completeButton = driver.findElement(completeButtonByXpath);\n    WebDriverWait wait = new WebDriverWait(driver, 30);\n    wait.until(ExpectedConditions.elementToBeClickable(completeButton));\n    completeButton.click();\n}\n</code></pre>\n<p>but I receive</p>\n<p><code>org.openqa.selenium.StaleElementReferenceException: stale element reference: element is not attached to the page document</code></p>\n<p>when I click <code>completeButton</code></p>\n<p>I also tried with such wait\n<code>wait.until(not(ExpectedConditions.attributeContains(completeButtonByXpath, &quot;disabled&quot;, &quot;&quot;)));</code> but it didn't help.</p>\n<p>Any solutions ?</p>\n"},{"tags":["java","log4j","config","slf4j"],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1336467330,"creation_date":1336467330,"answer_id":10495508,"question_id":10494119,"body_markdown":"You can&#39;t use slf4j for that, you just keep your old configuration code for log4j.\r\n\r\nslf4j does not handle the configuration part, which would be very difficult to generalize for all supported logging systems. slf4j is just an API for handling logging calls that dispatches to a particular logging implementation. It also offers a number of bridges, such as redirecting java.util.logging to slf4j.\r\n\r\nWhat happens with the log output is not part of the slf4j API.","title":"config log4j via slf4j","body":"<p>You can't use slf4j for that, you just keep your old configuration code for log4j.</p>\n\n<p>slf4j does not handle the configuration part, which would be very difficult to generalize for all supported logging systems. slf4j is just an API for handling logging calls that dispatches to a particular logging implementation. It also offers a number of bridges, such as redirecting java.util.logging to slf4j.</p>\n\n<p>What happens with the log output is not part of the slf4j API.</p>\n"}],"owner":{"account_id":1469438,"reputation":33,"user_id":1381363,"display_name":"freish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1603,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":10495508,"answer_count":1,"score":3,"last_activity_date":1650012476,"creation_date":1336460690,"question_id":10494119,"body_markdown":"we have a standalone java project using log4j for logging,and we don&#39;t config log4j via the classpath configuration. we config it in my code as bellow:\r\n\r\n    String configLocation = System.getProperty(&quot;S_HOME&quot;) + File.separator + &quot;config&quot; + File.separator + &quot;xxxLog.properties&quot;;\r\n    PropertyConfigurator.configure(configLocation)\r\n\r\n\r\nbut if we move to slf4j,how can I config log4j via slf4j?\r\n\r\n\r\n THKS","title":"config log4j via slf4j","body":"<p>we have a standalone java project using log4j for logging,and we don't config log4j via the classpath configuration. we config it in my code as bellow:</p>\n\n<pre><code>String configLocation = System.getProperty(\"S_HOME\") + File.separator + \"config\" + File.separator + \"xxxLog.properties\";\nPropertyConfigurator.configure(configLocation)\n</code></pre>\n\n<p>but if we move to slf4j,how can I config log4j via slf4j?</p>\n\n<p>THKS</p>\n"},{"tags":["java","spring-boot","keycloak"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1649606148,"post_id":71798654,"comment_id":126912932,"body_markdown":"Do you mean, users will register themselves on Keycloak and it will also be stored in spring application database as well?","body":"Do you mean, users will register themselves on Keycloak and it will also be stored in spring application database as well?"},{"owner":{"account_id":20988508,"reputation":31,"user_id":15421793,"display_name":"F3th1"},"score":0,"creation_date":1649822437,"post_id":71798654,"comment_id":126970406,"body_markdown":"Yes I would like that when the user registers it is automatically registered on springboot application","body":"Yes I would like that when the user registers it is automatically registered on springboot application"}],"answers":[{"tags":[],"owner":{"account_id":12267550,"reputation":324,"user_id":8953667,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650012206,"creation_date":1650012206,"answer_id":71881878,"question_id":71798654,"body_markdown":"You can listen when a user is created successfully using [EventiListener spi](https://www.keycloak.org/docs/latest/server_development/index.html#_events)\r\n\r\nCode sample that is only executed only when the transaction is successful:\r\n```java\r\npublic class MyEventListenerProvider implements EventListenerProvider {\r\n  private EventListenerTransaction tx = new EventListenerTransaction(this::processAdminEvent,this::processEvent);\r\n  @Override\r\n  public void onEvent(Event event) {\r\n    tx.addEvent(event);\r\n  }\r\n  @Override\r\n  public void onEvent(AdminEvent adminEvent, boolean includeRepresentation) {\r\n    tx.addAdminEvent(adminEvent, includeRepresentation);\r\n  }\r\n  private void processAdminEvent(AdminEvent adminEvent, boolean includeRepresentation) {\r\n  // Do whatever you want with the admin event\r\n  }\r\n  private void processEvent(Event event) {\r\n  // Do whatever you want with the event\r\n  }\r\n}\r\n```","title":"Sync User Keycloack with User spring boot app","body":"<p>You can listen when a user is created successfully using <a href=\"https://www.keycloak.org/docs/latest/server_development/index.html#_events\" rel=\"nofollow noreferrer\">EventiListener spi</a></p>\n<p>Code sample that is only executed only when the transaction is successful:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyEventListenerProvider implements EventListenerProvider {\n  private EventListenerTransaction tx = new EventListenerTransaction(this::processAdminEvent,this::processEvent);\n  @Override\n  public void onEvent(Event event) {\n    tx.addEvent(event);\n  }\n  @Override\n  public void onEvent(AdminEvent adminEvent, boolean includeRepresentation) {\n    tx.addAdminEvent(adminEvent, includeRepresentation);\n  }\n  private void processAdminEvent(AdminEvent adminEvent, boolean includeRepresentation) {\n  // Do whatever you want with the admin event\n  }\n  private void processEvent(Event event) {\n  // Do whatever you want with the event\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":20988508,"reputation":31,"user_id":15421793,"display_name":"F3th1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1650012206,"creation_date":1649427649,"question_id":71798654,"body_markdown":"Hello I&#39;m on a spring boot application with a keycloak authentication server and I would like to save the users on the spring database does anyone have a track to help me thank you in advance","title":"Sync User Keycloack with User spring boot app","body":"<p>Hello I'm on a spring boot application with a keycloak authentication server and I would like to save the users on the spring database does anyone have a track to help me thank you in advance</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":0,"creation_date":1650010597,"post_id":71881538,"comment_id":127021568,"body_markdown":"What kind of error you see? Can you share the stacktrace of fail?","body":"What kind of error you see? Can you share the stacktrace of fail?"},{"owner":{"account_id":16232090,"reputation":15,"user_id":11720580,"display_name":"심프로"},"score":0,"creation_date":1650011424,"post_id":71881538,"comment_id":127021722,"body_markdown":"org.springframework.core.codec.CodecException: Type definition error: [simple type, class java.lang.Object]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.lang.Object and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.metaverse.station.back.web.gathertownApi.RequestDto[&quot;mapContent&quot;]-&gt;com.metaverse.station.back.web.gathertownApi.ResponseDto[&quot;objects&quot;]-&gt;java.util.ArrayList[208]-&gt;com.metaverse.station.back.web.gathertownA","body":"org.springframework.core.codec.CodecException: Type definition error: [simple type, class java.lang.Object]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionExceptio&zwnj;&#8203;n: No serializer found for class java.lang.Object and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.metaverse.station.back.web.gathertownApi.RequestDto[&quot;map&zwnj;&#8203;Content&quot;]-&gt;com.metav&zwnj;&#8203;erse.station.back.we&zwnj;&#8203;b.gathertownApi.Resp&zwnj;&#8203;onseDto[&quot;objects&quot;]-&gt;&zwnj;&#8203;java.util.ArrayList[&zwnj;&#8203;208]-&gt;com.metaverse.&zwnj;&#8203;station.back.web.gat&zwnj;&#8203;hertownA"},{"owner":{"account_id":16232090,"reputation":15,"user_id":11720580,"display_name":"심프로"},"score":0,"creation_date":1650011480,"post_id":71881538,"comment_id":127021734,"body_markdown":"i tried to post full stacktrace but failed..","body":"i tried to post full stacktrace but failed.."},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1650011884,"post_id":71881538,"comment_id":127021833,"body_markdown":"com.metaverse.station.back.web.gathertownApi.ResponseDto[&quot;objects&quot;]-&gt;java.util.ArrayList[208]- --&gt; there is an error when conversion to ResponseDto in 209. row","body":"com.metaverse.station.back.web.gathertownApi.ResponseDto[&quot;ob&zwnj;&#8203;jects&quot;]-&gt;java.util.A&zwnj;&#8203;rrayList[208]- --&gt; there is an error when conversion to ResponseDto in 209. row"},{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":0,"creation_date":1650011942,"post_id":71881538,"comment_id":127021844,"body_markdown":"Check this question and replies https://stackoverflow.com/questions/43769301/how-to-customize-springwebflux-webclient-json-deserialization","body":"Check this question and replies <a href=\"https://stackoverflow.com/questions/43769301/how-to-customize-springwebflux-webclient-json-deserialization\" title=\"how to customize springwebflux webclient json deserialization\">stackoverflow.com/questions/43769301/&hellip;</a>"}],"owner":{"account_id":16232090,"reputation":15,"user_id":11720580,"display_name":"심프로"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650012081,"creation_date":1650009844,"question_id":71881538,"body_markdown":"I&#39;m making API for GatherTown Map to insert object with spring.\r\n\r\nIt works fine when using Resttemplate to post request.\r\n\r\nI wanted to migrate this to Webclient, so I searched and tried all day, but all failed.\r\n\r\n\r\n```java\r\npublic String withRestTemplate(RequestDto requestDto){\r\n\r\n        ResponseDto gatherTownMap = getMap(requestDto).share().block();\r\n\r\n        SampleObject gatherTownSampleMusic = new GatherTownSampleMusic();\r\n        gatherTownSampleMusic.setX(10);\r\n        gatherTownSampleMusic.setY(10);\r\n        gatherTownSampleMusic.sound.setSrc(&quot;https://cdn.gather.town/storage.googleapis.com/gather-town.appspot.com/internal-dashboard/sounds/jAlXIofmjkQFHBM_oYl-F&quot;);\r\n        gatherTownSampleMusic.sound.setLoop(false);\r\n        gatherTownSampleMusic.sound.setVolume(0.5);\r\n        gatherTownSampleMusic.sound.setMaxDistance(30);\r\n\r\n        gatherTownMap.getObjects().add(gatherTownSampleMusic);\r\n\r\n        requestDto.setMapContent(gatherTownMap);\r\n        requestDto.setSpaceId(requestDto.getSpaceId().replace(&quot;/&quot;, &quot;\\\\&quot;).replace(&quot;%20&quot;, &quot; &quot;));\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.set(HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE);\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n        HttpEntity&lt;RequestDto&gt; entity = new HttpEntity&lt;&gt;(requestDto, headers);\r\n        return restTemplate.exchange(\r\n                apiUrl,\r\n                HttpMethod.POST,\r\n                entity,\r\n                String.class\r\n        ).getBody();\r\n}\r\n\r\n```\r\n\r\nMy Failed Webclient\r\n\r\n```java\r\npublic String withWebclient(RequestDto requestDto){\r\n\r\n        ResponseDto gatherTownMap = getMap(requestDto).share().block();\r\n\r\n        SampleObject gatherTownSampleMusic = new GatherTownSampleMusic();\r\n        gatherTownSampleMusic.setX(10);\r\n        gatherTownSampleMusic.setY(10);\r\n        gatherTownSampleMusic.sound.setSrc(&quot;https://cdn.gather.town/storage.googleapis.com/gather-town.appspot.com/internal-dashboard/sounds/jAlXIofmjkQFHBM_oYl-F&quot;);\r\n        gatherTownSampleMusic.sound.setLoop(false);\r\n        gatherTownSampleMusic.sound.setVolume(0.5);\r\n        gatherTownSampleMusic.sound.setMaxDistance(30);\r\n\r\n        gatherTownMap.getObjects().add(gatherTownSampleMusic);\r\n\r\n        requestDto.setMapContent(gatherTownMap);\r\n        requestDto.setSpaceId(requestDto.getSpaceId().replace(&quot;/&quot;, &quot;\\\\&quot;).replace(&quot;%20&quot;, &quot; &quot;));\r\n\r\n        WebClient client = WebClient.create(apiUrl);\r\n        return  client.\r\n                post().\r\n                contentType(MediaType.APPLICATION_JSON).\r\n                accept(MediaType.APPLICATION_JSON).\r\n                bodyValue(requestDto).\r\n                retrieve().\r\n                bodyToMono(String.class).block();\r\n}\r\n\r\n```\r\n\r\nthis is RequestDto Class.\r\n\r\n```\r\npublic class RequestDto {\r\n\r\n    private String apiKey;\r\n    private String spaceId;\r\n    private String mapId;\r\n    private ResponseDto mapContent;\r\n    \r\n    static class ResponseDto {\r\n    private String mostRecentUpdateId;\r\n    private List&lt;Long&gt; dimensions;\r\n    private String foregroundImagePath;\r\n    private List&lt;Object&gt; spaces;\r\n    private String collisions;\r\n    private Boolean isTemplate;\r\n    private String backgroundImagePath;\r\n    private Long objectSizes;\r\n    private Boolean useDrawnBG;\r\n    private List&lt;Object&gt; assets;\r\n    private String id;\r\n    private Boolean isPublic;\r\n    private List&lt;Object&gt; announcer;\r\n    private List&lt;Object&gt; spawns;\r\n    private String version;\r\n    private List&lt;Object&gt; objects;\r\n    private List&lt;Object&gt; portals;\r\n    }\r\n\r\n}\r\n```\r\n\r\nHow can i migrate my Resttemplate method to Webclient?","title":"how to migrate Resttemplate to Webclient?","body":"<p>I'm making API for GatherTown Map to insert object with spring.</p>\n<p>It works fine when using Resttemplate to post request.</p>\n<p>I wanted to migrate this to Webclient, so I searched and tried all day, but all failed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String withRestTemplate(RequestDto requestDto){\n\n        ResponseDto gatherTownMap = getMap(requestDto).share().block();\n\n        SampleObject gatherTownSampleMusic = new GatherTownSampleMusic();\n        gatherTownSampleMusic.setX(10);\n        gatherTownSampleMusic.setY(10);\n        gatherTownSampleMusic.sound.setSrc(&quot;https://cdn.gather.town/storage.googleapis.com/gather-town.appspot.com/internal-dashboard/sounds/jAlXIofmjkQFHBM_oYl-F&quot;);\n        gatherTownSampleMusic.sound.setLoop(false);\n        gatherTownSampleMusic.sound.setVolume(0.5);\n        gatherTownSampleMusic.sound.setMaxDistance(30);\n\n        gatherTownMap.getObjects().add(gatherTownSampleMusic);\n\n        requestDto.setMapContent(gatherTownMap);\n        requestDto.setSpaceId(requestDto.getSpaceId().replace(&quot;/&quot;, &quot;\\\\&quot;).replace(&quot;%20&quot;, &quot; &quot;));\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.set(HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE);\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        HttpEntity&lt;RequestDto&gt; entity = new HttpEntity&lt;&gt;(requestDto, headers);\n        return restTemplate.exchange(\n                apiUrl,\n                HttpMethod.POST,\n                entity,\n                String.class\n        ).getBody();\n}\n\n</code></pre>\n<p>My Failed Webclient</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String withWebclient(RequestDto requestDto){\n\n        ResponseDto gatherTownMap = getMap(requestDto).share().block();\n\n        SampleObject gatherTownSampleMusic = new GatherTownSampleMusic();\n        gatherTownSampleMusic.setX(10);\n        gatherTownSampleMusic.setY(10);\n        gatherTownSampleMusic.sound.setSrc(&quot;https://cdn.gather.town/storage.googleapis.com/gather-town.appspot.com/internal-dashboard/sounds/jAlXIofmjkQFHBM_oYl-F&quot;);\n        gatherTownSampleMusic.sound.setLoop(false);\n        gatherTownSampleMusic.sound.setVolume(0.5);\n        gatherTownSampleMusic.sound.setMaxDistance(30);\n\n        gatherTownMap.getObjects().add(gatherTownSampleMusic);\n\n        requestDto.setMapContent(gatherTownMap);\n        requestDto.setSpaceId(requestDto.getSpaceId().replace(&quot;/&quot;, &quot;\\\\&quot;).replace(&quot;%20&quot;, &quot; &quot;));\n\n        WebClient client = WebClient.create(apiUrl);\n        return  client.\n                post().\n                contentType(MediaType.APPLICATION_JSON).\n                accept(MediaType.APPLICATION_JSON).\n                bodyValue(requestDto).\n                retrieve().\n                bodyToMono(String.class).block();\n}\n\n</code></pre>\n<p>this is RequestDto Class.</p>\n<pre><code>public class RequestDto {\n\n    private String apiKey;\n    private String spaceId;\n    private String mapId;\n    private ResponseDto mapContent;\n    \n    static class ResponseDto {\n    private String mostRecentUpdateId;\n    private List&lt;Long&gt; dimensions;\n    private String foregroundImagePath;\n    private List&lt;Object&gt; spaces;\n    private String collisions;\n    private Boolean isTemplate;\n    private String backgroundImagePath;\n    private Long objectSizes;\n    private Boolean useDrawnBG;\n    private List&lt;Object&gt; assets;\n    private String id;\n    private Boolean isPublic;\n    private List&lt;Object&gt; announcer;\n    private List&lt;Object&gt; spawns;\n    private String version;\n    private List&lt;Object&gt; objects;\n    private List&lt;Object&gt; portals;\n    }\n\n}\n</code></pre>\n<p>How can i migrate my Resttemplate method to Webclient?</p>\n"},{"tags":["java","sql","oracle","jdbc"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1649997278,"post_id":71880088,"comment_id":127019095,"body_markdown":"The exception contains the relevant information. You didn&#39;t paste it, making it very hard to help here.","body":"The exception contains the relevant information. You didn&#39;t paste it, making it very hard to help here."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1649998460,"post_id":71880088,"comment_id":127019275,"body_markdown":"You should post the _complete_ stack trace.","body":"You should post the <i>complete</i> stack trace."},{"owner":{"account_id":14947438,"reputation":19,"user_id":10792278,"display_name":"macman926"},"score":0,"creation_date":1649998605,"post_id":71880088,"comment_id":127019308,"body_markdown":"Oh I didnt think it was needed sorry about that","body":"Oh I didnt think it was needed sorry about that"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1650010435,"post_id":71880088,"comment_id":127021527,"body_markdown":"You still haven&#39;t posted the complete exception stacktrace, your stacktrace seems to be somewhere in the middle. A stacktrace starts with the exception name and message, followed by the call stack and zero or more &quot;caused by&quot; parts with their own exception name, message, and call stack. In addition, your question should contain a [mre], so all relevant data, minimal PSQL and Java code to reproduce the error.","body":"You still haven&#39;t posted the complete exception stacktrace, your stacktrace seems to be somewhere in the middle. A stacktrace starts with the exception name and message, followed by the call stack and zero or more &quot;caused by&quot; parts with their own exception name, message, and call stack. In addition, your question should contain a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, so all relevant data, minimal PSQL and Java code to reproduce the error."},{"owner":{"account_id":14947438,"reputation":19,"user_id":10792278,"display_name":"macman926"},"score":0,"creation_date":1650010690,"post_id":71880088,"comment_id":127021589,"body_markdown":"While trying to condense the question I messed around with the formatting and removed the exception ... added it back in","body":"While trying to condense the question I messed around with the formatting and removed the exception ... added it back in"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1650010979,"post_id":71880088,"comment_id":127021644,"body_markdown":"The problem is that your stored procedure doesn&#39;t return a result set in the third parameter, but null. So when you dereference it without a null-check, that results in the NPE. You need to find out why, and we can&#39;t help you there because you haven&#39;t provided a [mre] that shows what your PL/SQL code does.","body":"The problem is that your stored procedure doesn&#39;t return a result set in the third parameter, but null. So when you dereference it without a null-check, that results in the NPE. You need to find out why, and we can&#39;t help you there because you haven&#39;t provided a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows what your PL/SQL code does."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1650011114,"post_id":71880088,"comment_id":127021661,"body_markdown":"I saw that you did provide it in an earlier version, so I have rolled back your changes to remove that information.","body":"I saw that you did provide it in an earlier version, so I have rolled back your changes to remove that information."},{"owner":{"account_id":14947438,"reputation":19,"user_id":10792278,"display_name":"macman926"},"score":0,"creation_date":1650011304,"post_id":71880088,"comment_id":127021693,"body_markdown":"Oh thanks I was in the process of trying to add it back, i wasnt sure how much information was too much so I appreciate the tips on trying to stay concise!","body":"Oh thanks I was in the process of trying to add it back, i wasnt sure how much information was too much so I appreciate the tips on trying to stay concise!"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1650011667,"post_id":71880088,"comment_id":127021782,"body_markdown":"It looks to me like your stored procedure either returned the message &quot;Invalid Student ID!&quot; or &quot;The student has no courses&quot;, in which case the cursor is null. You will need to handle the error result of your stored procedure appropriately by not dereferencing the result set when it is null.","body":"It looks to me like your stored procedure either returned the message &quot;Invalid Student ID!&quot; or &quot;The student has no courses&quot;, in which case the cursor is null. You will need to handle the error result of your stored procedure appropriately by not dereferencing the result set when it is null."},{"owner":{"account_id":14947438,"reputation":19,"user_id":10792278,"display_name":"macman926"},"score":0,"creation_date":1650012120,"post_id":71880088,"comment_id":127021882,"body_markdown":"Shouldn&#39;t i return a non null cursor if the key I passed in is in the table (given the else condition in the procedure) ? Also by handling the error result are you refering to checking if rs is null right after calling getObject?","body":"Shouldn&#39;t i return a non null cursor if the key I passed in is in the table (given the else condition in the procedure) ? Also by handling the error result are you refering to checking if rs is null right after calling getObject?"}],"owner":{"account_id":14947438,"reputation":19,"user_id":10792278,"display_name":"macman926"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650011966,"creation_date":1649996881,"question_id":71880088,"body_markdown":"I&#39;m attempting to perform a query on my tables for an object with a particular key. I&#39;ve tested this out in SQL with stored procedures and it works. Here is the JDBC code and the output -&gt; [1]\r\n```java\r\nCallableStatement cs = conn.prepareCall(&quot;{call project2.show_students_classes(?,?,?)}&quot;);\r\ncs.setString(1, sid);\r\ncs.registerOutParameter(2, OracleTypes.VARCHAR);\r\ncs.registerOutParameter(3, OracleTypes.CURSOR);\r\ncs.execute();\r\nSystem.out.println(&quot;Query executed&quot;);\r\nString errMsg = cs.getString(2);\r\nSystem.out.println(&quot;Err msg: &quot; + errMsg);\r\nResultSet rs = (ResultSet)cs.getObject(3);\r\nSystem.out.println(&quot;Result obj acquired&quot;);\r\nResultSetMetaData rsmd = rs.getMetaData(); &lt;--- Exception thrown around here\r\nSystem.out.println(&quot;Result obj metadata acquired&quot;);\r\nint col = rsmd.getColumnCount();\r\nfor (int i = 1; i &lt;= col; i++) \r\n{\r\n     System.out.println(&quot;Entering loop for column count at: &quot;+ i);\r\n     if (i &gt; 1) { System.out.print(&quot; | &quot;); }\r\n     System.out.print(rsmd.getColumnName(i));\r\n}\r\nSystem.out.println();\r\nwhile (rs.next()) \r\n{\r\n    for (int i = 1; i &lt;= col; i++) { \r\n         System.out.println(&quot;Entering loop for column data at &quot; +i);\r\n         if (i &gt; 1) { System.out.print(&quot;   &quot;); }\r\n         System.out.print(rs.getString(i));\r\n    }\r\n    System.out.println();\r\n}\r\ncs.close();\r\n```\r\nAnd here is the stored procedure:\r\n```sql\r\nprocedure show_students_classes(mySid in students.sid%type, errMsg out varchar2, myCursor out sys_refcursor) is\r\n    counter int;\r\n    counter2 int;\r\n    begin\r\n    select count(*) into counter2 from students where sid=mySid;\r\n    if counter2=0\r\n        then errMsg := &#39;Invalid Student ID!&#39;;  \r\n    else\r\n    select count(*) into counter from enrollments where sid=mySid; \r\n    if counter = 0\r\n        then errMsg := &#39;The student has no courses&#39;;\r\n    else \r\n        open myCursor for\r\n        SELECT cl.classid, cl.dept_code || cl.course_no as DPT_COURSE_NO, co.title, cl.year, cl.semester\r\n        FROM enrollments e right join classes cl \r\n        ON e.classid=cl.classid \r\n        INNER JOIN courses co \r\n        ON co.course_no=cl.course_no\r\n        WHERE e.sid=mySid;\r\n    DBMS_SQL.return_result(myCursor);\r\n    end if;\r\n    end if;\r\n    end;\r\n```\r\nI threw in a bunch of print statements to help track where the exception is being thrown, and it doesn&#39;t get past the line with `ResultSetMetaData rsmd = rs.getMetaData()`.\r\n\r\nThe exception stacktrace. \r\n```none\r\njava.lang.NullPointerException\r\n    at mydemo3.showStudentsClasses(mydemo3.java:172)\r\n    at mydemo3.main(mydemo3.java:238)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:404)\r\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:179)\r\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:119)\r\n```\r\nLine 172 is line I referred to above.\r\n\r\n  [1]: https://i.stack.imgur.com/re7Dy.png","title":"My JDBC code creates an exception when obtaining MetaData for result set","body":"<p>I'm attempting to perform a query on my tables for an object with a particular key. I've tested this out in SQL with stored procedures and it works. Here is the JDBC code and the output -&gt; <a href=\"https://i.stack.imgur.com/re7Dy.png\" rel=\"nofollow noreferrer\">1</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>CallableStatement cs = conn.prepareCall(&quot;{call project2.show_students_classes(?,?,?)}&quot;);\ncs.setString(1, sid);\ncs.registerOutParameter(2, OracleTypes.VARCHAR);\ncs.registerOutParameter(3, OracleTypes.CURSOR);\ncs.execute();\nSystem.out.println(&quot;Query executed&quot;);\nString errMsg = cs.getString(2);\nSystem.out.println(&quot;Err msg: &quot; + errMsg);\nResultSet rs = (ResultSet)cs.getObject(3);\nSystem.out.println(&quot;Result obj acquired&quot;);\nResultSetMetaData rsmd = rs.getMetaData(); &lt;--- Exception thrown around here\nSystem.out.println(&quot;Result obj metadata acquired&quot;);\nint col = rsmd.getColumnCount();\nfor (int i = 1; i &lt;= col; i++) \n{\n     System.out.println(&quot;Entering loop for column count at: &quot;+ i);\n     if (i &gt; 1) { System.out.print(&quot; | &quot;); }\n     System.out.print(rsmd.getColumnName(i));\n}\nSystem.out.println();\nwhile (rs.next()) \n{\n    for (int i = 1; i &lt;= col; i++) { \n         System.out.println(&quot;Entering loop for column data at &quot; +i);\n         if (i &gt; 1) { System.out.print(&quot;   &quot;); }\n         System.out.print(rs.getString(i));\n    }\n    System.out.println();\n}\ncs.close();\n</code></pre>\n<p>And here is the stored procedure:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>procedure show_students_classes(mySid in students.sid%type, errMsg out varchar2, myCursor out sys_refcursor) is\n    counter int;\n    counter2 int;\n    begin\n    select count(*) into counter2 from students where sid=mySid;\n    if counter2=0\n        then errMsg := 'Invalid Student ID!';  \n    else\n    select count(*) into counter from enrollments where sid=mySid; \n    if counter = 0\n        then errMsg := 'The student has no courses';\n    else \n        open myCursor for\n        SELECT cl.classid, cl.dept_code || cl.course_no as DPT_COURSE_NO, co.title, cl.year, cl.semester\n        FROM enrollments e right join classes cl \n        ON e.classid=cl.classid \n        INNER JOIN courses co \n        ON co.course_no=cl.course_no\n        WHERE e.sid=mySid;\n    DBMS_SQL.return_result(myCursor);\n    end if;\n    end if;\n    end;\n</code></pre>\n<p>I threw in a bunch of print statements to help track where the exception is being thrown, and it doesn't get past the line with <code>ResultSetMetaData rsmd = rs.getMetaData()</code>.</p>\n<p>The exception stacktrace.</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NullPointerException\n    at mydemo3.showStudentsClasses(mydemo3.java:172)\n    at mydemo3.main(mydemo3.java:238)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.execute(Main.java:404)\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.run(Main.java:179)\n    at jdk.compiler/com.sun.tools.javac.launcher.Main.main(Main.java:119)\n</code></pre>\n<p>Line 172 is line I referred to above.</p>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650011942,"creation_date":1650011597,"answer_id":71881799,"question_id":71881358,"body_markdown":"You can capture the wildcard by introducing an additional level of indirection:\r\n\r\n\tprivate &lt;T&gt; Result actuallyMakeQuery(IQueryInput&lt;T&gt; input, FutureCallback&lt;T&gt; callback) {\r\n\t\t// ... magic\r\n\t\treturn new Result();\r\n\t}\r\n\r\n\tprivate &lt;T&gt; Result actuallyMakeQuery(QueryEntry&lt;T&gt; entry) {\r\n        // no wildcards anymore\r\n\t\treturn actuallyMakeQuery(entry.input, entry.callback);\r\n\t}\r\n\r\nAlso, you omitted the `&lt;&gt;` in\r\n\r\n    mQueries.add(new QueryEntry&lt;&gt;(input, callback));\r\n\r\nunnecessarily turning it into rawtypes.\r\n\r\nYou can then use that new method:\r\n\r\n    private void onServiceAlive() {\r\n\t\t// This method is called when this service is connected to dependencies\r\n\t\t// and is now live. Here we want to actually make the queries ...\r\n\t\tfor (final QueryEntry&lt;?&gt; entry : mQueries) {\r\n\t\t\t// no problem here anymore\r\n\t\t\tactuallyMakeQuery(entry);\r\n\t\t}\r\n\t\tmQueries.clear();\r\n\t}","title":"How to invoke generic method with a list of non-generic inputs","body":"<p>You can capture the wildcard by introducing an additional level of indirection:</p>\n<pre><code>private &lt;T&gt; Result actuallyMakeQuery(IQueryInput&lt;T&gt; input, FutureCallback&lt;T&gt; callback) {\n    // ... magic\n    return new Result();\n}\n\nprivate &lt;T&gt; Result actuallyMakeQuery(QueryEntry&lt;T&gt; entry) {\n    // no wildcards anymore\n    return actuallyMakeQuery(entry.input, entry.callback);\n}\n</code></pre>\n<p>Also, you omitted the <code>&lt;&gt;</code> in</p>\n<pre><code>mQueries.add(new QueryEntry&lt;&gt;(input, callback));\n</code></pre>\n<p>unnecessarily turning it into rawtypes.</p>\n<p>You can then use that new method:</p>\n<pre><code>private void onServiceAlive() {\n    // This method is called when this service is connected to dependencies\n    // and is now live. Here we want to actually make the queries ...\n    for (final QueryEntry&lt;?&gt; entry : mQueries) {\n        // no problem here anymore\n        actuallyMakeQuery(entry);\n    }\n    mQueries.clear();\n}\n</code></pre>\n"}],"owner":{"account_id":1600176,"reputation":870,"user_id":1481358,"accept_rate":75,"display_name":"ChaoSXDemon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71881799,"answer_count":1,"score":1,"last_activity_date":1650011942,"creation_date":1650008624,"question_id":71881358,"body_markdown":"I have the following class:\r\n```\r\npublic class RemoteService {\r\n\r\n  private static class QueryEntry&lt;T&gt; {\r\n    public final IQueryInput&lt;T&gt; input;\r\n    public final FutureCallback&lt;T&gt; callback;\r\n    // constructor not shown here\r\n  }\r\n\r\n  private final List&lt;QueryEntry&lt;?&gt;&gt; mQueries;\r\n\r\n  public &lt;T&gt; Result doStuff(IQueryInput&lt;T&gt; input, FutureCallback&lt;T&gt; callback) {\r\n    // Simplified code here\r\n    if(mIsServiceAlive) {\r\n      return actuallyMakeQuery(input, callback);\r\n    } else {\r\n      // will make it happen later\r\n      mQueries.add(new QueryEntry(input, callback));\r\n    }\r\n  }\r\n\r\n  private &lt;T&gt; Result actuallyMakeQuery(IQueryInput&lt;T&gt; input, FutureCallback&lt;T&gt; callback) {\r\n    // ... magic\r\n    return result;\r\n  }\r\n\r\n  //.. other code\r\n  \r\n  private void onServiceAlive() {\r\n    //This method is called when this service is connected to dependencies \r\n    //and is now live. Here we want to actually make the queries ...\r\n    for(final QueryEntry&lt;?&gt; entry : mQueries) {\r\n      // Compile error here because I can&#39;t reference entry&lt;T&gt;.input\r\n      // as T is now lost .... is there any where I can make this happen?\r\n      actuallyMakeQuery(entry.input, entry.callback);\r\n    }\r\n    mQueries.clear();\r\n  }\r\n\r\n}\r\n```\r\n\r\nQuestion here is quite straightforward -&gt; is there anyway I can call `actuallyMakeQuery` with `mQueries`? I don&#39;t think so because when I cache all the inputs, I lost `T` because `mQueries` is using `QueryEntry&lt;?&gt;`. I also cannot change `doStuff` signature as it is defined as an interface else where. What can I do here?","title":"How to invoke generic method with a list of non-generic inputs","body":"<p>I have the following class:</p>\n<pre><code>public class RemoteService {\n\n  private static class QueryEntry&lt;T&gt; {\n    public final IQueryInput&lt;T&gt; input;\n    public final FutureCallback&lt;T&gt; callback;\n    // constructor not shown here\n  }\n\n  private final List&lt;QueryEntry&lt;?&gt;&gt; mQueries;\n\n  public &lt;T&gt; Result doStuff(IQueryInput&lt;T&gt; input, FutureCallback&lt;T&gt; callback) {\n    // Simplified code here\n    if(mIsServiceAlive) {\n      return actuallyMakeQuery(input, callback);\n    } else {\n      // will make it happen later\n      mQueries.add(new QueryEntry(input, callback));\n    }\n  }\n\n  private &lt;T&gt; Result actuallyMakeQuery(IQueryInput&lt;T&gt; input, FutureCallback&lt;T&gt; callback) {\n    // ... magic\n    return result;\n  }\n\n  //.. other code\n  \n  private void onServiceAlive() {\n    //This method is called when this service is connected to dependencies \n    //and is now live. Here we want to actually make the queries ...\n    for(final QueryEntry&lt;?&gt; entry : mQueries) {\n      // Compile error here because I can't reference entry&lt;T&gt;.input\n      // as T is now lost .... is there any where I can make this happen?\n      actuallyMakeQuery(entry.input, entry.callback);\n    }\n    mQueries.clear();\n  }\n\n}\n</code></pre>\n<p>Question here is quite straightforward -&gt; is there anyway I can call <code>actuallyMakeQuery</code> with <code>mQueries</code>? I don't think so because when I cache all the inputs, I lost <code>T</code> because <code>mQueries</code> is using <code>QueryEntry&lt;?&gt;</code>. I also cannot change <code>doStuff</code> signature as it is defined as an interface else where. What can I do here?</p>\n"},{"tags":["java","keycloak"],"answers":[{"tags":[],"owner":{"account_id":12267550,"reputation":324,"user_id":8953667,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650011666,"creation_date":1650011666,"answer_id":71881809,"question_id":71843974,"body_markdown":"As you mentioned, you can retrieve the value using `myRealm.getSsoSessionIdleTimeout()`. In order to pass it to the user you can set it in the access/id token using a [oidc mapper](https://github.com/keycloak/keycloak/blob/main/services/src/main/java/org/keycloak/protocol/oidc/mappers/AbstractOIDCProtocolMapper.java#L36). \r\n\r\nYou can see a simple example in [this excellent repo](https://github.com/thomasdarimont/keycloak-extension-playground/blob/master/simple-oidc-mapper/src/main/java/com/github/thomasdarimont/keycloak/oidc/mapper/simple/SimpleOidcMapper.java).\r\n\r\nDon&#39;t forget to add this mapper to your client/default scope otherwise it will not be included in the tokens.","title":"retrieve keycloak SSO session idle","body":"<p>As you mentioned, you can retrieve the value using <code>myRealm.getSsoSessionIdleTimeout()</code>. In order to pass it to the user you can set it in the access/id token using a <a href=\"https://github.com/keycloak/keycloak/blob/main/services/src/main/java/org/keycloak/protocol/oidc/mappers/AbstractOIDCProtocolMapper.java#L36\" rel=\"nofollow noreferrer\">oidc mapper</a>.</p>\n<p>You can see a simple example in <a href=\"https://github.com/thomasdarimont/keycloak-extension-playground/blob/master/simple-oidc-mapper/src/main/java/com/github/thomasdarimont/keycloak/oidc/mapper/simple/SimpleOidcMapper.java\" rel=\"nofollow noreferrer\">this excellent repo</a>.</p>\n<p>Don't forget to add this mapper to your client/default scope otherwise it will not be included in the tokens.</p>\n"}],"owner":{"account_id":20757421,"reputation":5,"user_id":15243508,"display_name":"Luke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":815,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71881809,"answer_count":1,"score":0,"last_activity_date":1650011666,"creation_date":1649771614,"question_id":71843974,"body_markdown":"I am using Keycloak 17 to authenticate.  \r\nI would like to warn the user about the session Idle timeout.  \r\nIs there a way to programmatically retrieve the **SSO Session idle** time from the configuration?  \r\n\r\n[*Edit*] After looking at the sources, I found this in **RealmModel**: *realm.SsoSessionIdleTimeout*, but I don&#39;t know how to reach its value after the user logged in.  \r\nI have tried with the keycloak object like in this example, which returns 0:  \r\n`keycloak.tokenManager().refreshToken().getRefreshExpiresIn()`\r\n","title":"retrieve keycloak SSO session idle","body":"<p>I am using Keycloak 17 to authenticate.<br />\nI would like to warn the user about the session Idle timeout.<br />\nIs there a way to programmatically retrieve the <strong>SSO Session idle</strong> time from the configuration?</p>\n<p>[<em>Edit</em>] After looking at the sources, I found this in <strong>RealmModel</strong>: <em>realm.SsoSessionIdleTimeout</em>, but I don't know how to reach its value after the user logged in.<br />\nI have tried with the keycloak object like in this example, which returns 0:<br />\n<code>keycloak.tokenManager().refreshToken().getRefreshExpiresIn()</code></p>\n"},{"tags":["java","wireshark","bpf"],"comments":[{"owner":{"account_id":9270413,"reputation":11737,"user_id":6884590,"display_name":"pchaigno"},"score":0,"creation_date":1650011323,"post_id":71881276,"comment_id":127021696,"body_markdown":"I don&#39;t understand what you are trying to achieve. What do you mean by &quot;divide tx or rx packet&quot;?","body":"I don&#39;t understand what you are trying to achieve. What do you mean by &quot;divide tx or rx packet&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":1243433,"reputation":6249,"user_id":1205448,"display_name":"Dylan Reimerink"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650011479,"creation_date":1650011479,"answer_id":71881778,"question_id":71881276,"body_markdown":"You can&#39;t. [SLL][1] is not an actual network protocol, so you will never see it used when attaching eBPF programs to the kernel.\r\n\r\n[Libpcap][2] and Wireshark encapsulate packets when using cooked capture mode(capturing from multiple interfaces at once). These tools do this to add information you can normally infer from the interface, but since you can have packets from multiple interfaces mixed, we need SLL to add this information on a per-packet basis.\r\n\r\nThe options available are:\r\n* 0, if the packet was specifically sent to us by somebody else;\r\n* 1, if the packet was broadcast by somebody else;\r\n* 2, if the packet was multicast, but not broadcast, by somebody else;\r\n* 3, if the packet was sent to somebody else by somebody else;\r\n* 4, if the packet was sent by us.\r\n\r\nTo know if you are the sender or the receiver you need to know what your own IP/MAC address is. Since we don&#39;t have that info we can use these hints to see if something is incoming traffic(0), outgoing(4), routed via us(3), ect. But when you attach your eBPF program, you can infer this info in other ways.\r\n\r\n  [1]: https://wiki.wireshark.org/SLL\r\n  [2]: https://www.tcpdump.org/linktypes/LINKTYPE_LINUX_SLL.html","title":"How can i divide TX and RX packet BPF filter?","body":"<p>You can't. <a href=\"https://wiki.wireshark.org/SLL\" rel=\"nofollow noreferrer\">SLL</a> is not an actual network protocol, so you will never see it used when attaching eBPF programs to the kernel.</p>\n<p><a href=\"https://www.tcpdump.org/linktypes/LINKTYPE_LINUX_SLL.html\" rel=\"nofollow noreferrer\">Libpcap</a> and Wireshark encapsulate packets when using cooked capture mode(capturing from multiple interfaces at once). These tools do this to add information you can normally infer from the interface, but since you can have packets from multiple interfaces mixed, we need SLL to add this information on a per-packet basis.</p>\n<p>The options available are:</p>\n<ul>\n<li>0, if the packet was specifically sent to us by somebody else;</li>\n<li>1, if the packet was broadcast by somebody else;</li>\n<li>2, if the packet was multicast, but not broadcast, by somebody else;</li>\n<li>3, if the packet was sent to somebody else by somebody else;</li>\n<li>4, if the packet was sent by us.</li>\n</ul>\n<p>To know if you are the sender or the receiver you need to know what your own IP/MAC address is. Since we don't have that info we can use these hints to see if something is incoming traffic(0), outgoing(4), routed via us(3), ect. But when you attach your eBPF program, you can infer this info in other ways.</p>\n"}],"owner":{"account_id":7087181,"reputation":11,"user_id":5423651,"display_name":"hyunsang park"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650011479,"creation_date":1650008041,"question_id":71881276,"body_markdown":"I&#39;m using BPF packet filter as below source code)\r\n\r\n        BPF_JUMP(BPF_JMP|BPF_K|BPF_JEQ, 0x86dd, 0, 0x6),  // ipv6\r\n        BPF_STMT(BPF_LD|BPF_B|BPF_ABS, 0x6),              // goto protocol\r\n        BPF_JUMP(BPF_JMP|BPF_K|BPF_JEQ, 0x11, 0, 0xf),    // udp?\r\n        BPF_STMT(BPF_LD|BPF_H|BPF_ABS, 0x28),             // goto source port\r\n        BPF_JUMP(BPF_JMP|BPF_K|BPF_JEQ, 0x35, 0xc, 0),    // sport == 53?\r\n        BPF_STMT(BPF_LD|BPF_H|BPF_ABS, 0x2a),             // goto dest port\r\n        BPF_JUMP(BPF_JMP|BPF_K|BPF_JEQ, 0x35, 0xa, 0xb),  // dport == 53? \r\n\r\nBut i want to divide tx or rx packet like to &#39;Linux cooked capture&#39; in wireshark\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo how can i use BPF_STMT for get linux cooked capture field(LINKTYPE_LINUX_SLL)? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2Zwxe.png","title":"How can i divide TX and RX packet BPF filter?","body":"<p>I'm using BPF packet filter as below source code)</p>\n<pre><code>    BPF_JUMP(BPF_JMP|BPF_K|BPF_JEQ, 0x86dd, 0, 0x6),  // ipv6\n    BPF_STMT(BPF_LD|BPF_B|BPF_ABS, 0x6),              // goto protocol\n    BPF_JUMP(BPF_JMP|BPF_K|BPF_JEQ, 0x11, 0, 0xf),    // udp?\n    BPF_STMT(BPF_LD|BPF_H|BPF_ABS, 0x28),             // goto source port\n    BPF_JUMP(BPF_JMP|BPF_K|BPF_JEQ, 0x35, 0xc, 0),    // sport == 53?\n    BPF_STMT(BPF_LD|BPF_H|BPF_ABS, 0x2a),             // goto dest port\n    BPF_JUMP(BPF_JMP|BPF_K|BPF_JEQ, 0x35, 0xa, 0xb),  // dport == 53? \n</code></pre>\n<p>But i want to divide tx or rx packet like to 'Linux cooked capture' in wireshark</p>\n<p><a href=\"https://i.stack.imgur.com/2Zwxe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Zwxe.png\" alt=\"enter image description here\" /></a></p>\n<p>So how can i use BPF_STMT for get linux cooked capture field(LINKTYPE_LINUX_SLL)?</p>\n"},{"tags":["java","android-studio","kotlin","android-layout","prefix"],"comments":[{"owner":{"account_id":23435245,"reputation":894,"user_id":17493431,"display_name":"Ethan"},"score":0,"creation_date":1650080782,"post_id":71880828,"comment_id":127037557,"body_markdown":"Can we please have your code.","body":"Can we please have your code."}],"answers":[{"tags":[],"owner":{"account_id":20164068,"reputation":26,"user_id":14788455,"display_name":"Kyler Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650005296,"creation_date":1650005296,"answer_id":71880929,"question_id":71880828,"body_markdown":"try to add this in the layout\r\n\r\n`xmlns:android=&quot;http://schemas.android.com/apk/res/android`\r\n\r\nhere is an example: \r\n```\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n```","title":"Layout attribute is not defined - Android Studio","body":"<p>try to add this in the layout</p>\n<p><code>xmlns:android=&quot;http://schemas.android.com/apk/res/android</code></p>\n<p>here is an example:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14809028,"reputation":48,"user_id":10695224,"display_name":"S.Iliev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650011326,"creation_date":1650011326,"answer_id":71881753,"question_id":71880828,"body_markdown":"Try to check some of these.\r\n\r\n1) You see this error with an incorrect namespace, or a typo in the attribute. Like &#39;xmlns&#39; is wrong, it should be xmlns:android\r\n\r\n2) First node needs to contain: xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\r\n3) If you are integrating AdMob, check custom parameters like ads:adSize, you need\r\n\r\nxmlns:ads=&quot;http://schemas.android.com/apk/lib/com.google.ads&quot;\r\n\r\n4) If you are using LinearLayout you might have to define tools:\r\n\r\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;","title":"Layout attribute is not defined - Android Studio","body":"<p>Try to check some of these.</p>\n<ol>\n<li><p>You see this error with an incorrect namespace, or a typo in the attribute. Like 'xmlns' is wrong, it should be xmlns:android</p>\n</li>\n<li><p>First node needs to contain: xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</p>\n</li>\n<li><p>If you are integrating AdMob, check custom parameters like ads:adSize, you need</p>\n</li>\n</ol>\n<p>xmlns:ads=&quot;http://schemas.android.com/apk/lib/com.google.ads&quot;</p>\n<ol start=\"4\">\n<li>If you are using LinearLayout you might have to define tools:</li>\n</ol>\n<p>xmlns:tools=&quot;http://schemas.android.com/tools&quot;</p>\n"}],"owner":{"account_id":16954983,"reputation":3,"user_id":12263614,"display_name":"dr web"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71880929,"answer_count":2,"score":0,"last_activity_date":1650011326,"creation_date":1650004437,"question_id":71880828,"body_markdown":"Undeclared namespace prefix &quot;android&quot; (for attribute &quot;layout_width&quot;)\r\n\r\nHow can I fix this?\r\nThis says that android is not defined.\r\nHow can I solve it? please help","title":"Layout attribute is not defined - Android Studio","body":"<p>Undeclared namespace prefix &quot;android&quot; (for attribute &quot;layout_width&quot;)</p>\n<p>How can I fix this?\nThis says that android is not defined.\nHow can I solve it? please help</p>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":1695351,"reputation":3510,"user_id":1556820,"accept_rate":50,"display_name":"mangusta"},"score":2,"creation_date":1595575074,"post_id":63068636,"comment_id":111527798,"body_markdown":"have you checked this link: https://stackoverflow.com/questions/28056522/access-host-database-from-a-docker-container","body":"have you checked this link: <a href=\"https://stackoverflow.com/questions/28056522/access-host-database-from-a-docker-container\" title=\"access host database from a docker container\">stackoverflow.com/questions/28056522/&hellip;</a>"},{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1595588758,"post_id":63068636,"comment_id":111534100,"body_markdown":"Also [From inside of a Docker container, how do I connect to the localhost of the machine?](https://stackoverflow.com/questions/24319662/from-inside-of-a-docker-container-how-do-i-connect-to-the-localhost-of-the-mach?rq=1).","body":"Also <a href=\"https://stackoverflow.com/questions/24319662/from-inside-of-a-docker-container-how-do-i-connect-to-the-localhost-of-the-mach?rq=1\">From inside of a Docker container, how do I connect to the localhost of the machine?</a>."},{"owner":{"account_id":111515,"reputation":6240,"user_id":294552,"accept_rate":78,"display_name":"sandeepkunkunuru"},"score":0,"creation_date":1693071242,"post_id":63068636,"comment_id":135712796,"body_markdown":"Link suggested by @mangusta above does seem to work. Essentially services on the host are accessible via the host ip. Using ifconfig or ipconfig you can find the host ip and then the same.","body":"Link suggested by @mangusta above does seem to work. Essentially services on the host are accessible via the host ip. Using ifconfig or ipconfig you can find the host ip and then the same."}],"answers":[{"tags":[],"owner":{"account_id":3989434,"reputation":55891,"user_id":3288890,"accept_rate":43,"display_name":"Adiii"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1609868065,"creation_date":1595575208,"answer_id":63068712,"question_id":63068636,"body_markdown":"You can not publish port in the network mode host.\r\n\r\n\r\n&gt;Note: Given that the container does not have its own `IP-address` when using `host mode networking`, **port-mapping does not take effect**, and **the -p, --publish, -P, and --publish-all option are ignored**, producing a warning instead:\r\n\r\n[host networking][1]\r\n\r\n\r\n&gt;How can I allow access to the SpringBoot app on port 8081 and allow the Springboot app access to the host network so it can connect to the database?\r\n\r\nStill, you can not reach to `Host` network by assigning host network to the container. To reach host Network you can use Host IP or use special DNS for mac and window.\r\n\r\n```\r\nhost.docker.internal:DB_PORT\r\n```\r\nOr you can use Host IP if you are on linux\r\n```\r\nHOST_IP:DB_PORT\r\n```\r\n\r\nor you can try (works on ubuntu)\r\n\r\n```\r\ndocker run -it --rm -e HOST_IP=$(ip -o route get to 8.8.8.8 | sed -n &#39;s/.*src \\([0-9.]\\+\\).*/\\1/p&#39;) image_name\r\n```\r\nNow use `HOST_IP` as a host name in your application.\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.docker.com/network/host/","title":"Docker WARNING: Published ports are discarded when using host network mode","body":"<p>You can not publish port in the network mode host.</p>\n<blockquote>\n<p>Note: Given that the container does not have its own <code>IP-address</code> when using <code>host mode networking</code>, <strong>port-mapping does not take effect</strong>, and <strong>the -p, --publish, -P, and --publish-all option are ignored</strong>, producing a warning instead:</p>\n</blockquote>\n<p><a href=\"https://docs.docker.com/network/host/\" rel=\"noreferrer\">host networking</a></p>\n<blockquote>\n<p>How can I allow access to the SpringBoot app on port 8081 and allow the Springboot app access to the host network so it can connect to the database?</p>\n</blockquote>\n<p>Still, you can not reach to <code>Host</code> network by assigning host network to the container. To reach host Network you can use Host IP or use special DNS for mac and window.</p>\n<pre><code>host.docker.internal:DB_PORT\n</code></pre>\n<p>Or you can use Host IP if you are on linux</p>\n<pre><code>HOST_IP:DB_PORT\n</code></pre>\n<p>or you can try (works on ubuntu)</p>\n<pre><code>docker run -it --rm -e HOST_IP=$(ip -o route get to 8.8.8.8 | sed -n 's/.*src \\([0-9.]\\+\\).*/\\1/p') image_name\n</code></pre>\n<p>Now use <code>HOST_IP</code> as a host name in your application.</p>\n"},{"tags":[],"owner":{"account_id":3086196,"reputation":10637,"user_id":4144042,"accept_rate":75,"display_name":"Thanh Nguyen Van"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1595577297,"creation_date":1595577297,"answer_id":63069245,"question_id":63068636,"body_markdown":"You should change : `localhost` in connection string to : \r\n\r\n`172.17.0.1` its an IP address of containers network \r\n\r\nThen check again. ","title":"Docker WARNING: Published ports are discarded when using host network mode","body":"<p>You should change : <code>localhost</code> in connection string to :</p>\n<p><code>172.17.0.1</code> its an IP address of containers network</p>\n<p>Then check again.</p>\n"},{"tags":[],"owner":{"account_id":500243,"reputation":6414,"user_id":2233706,"accept_rate":74,"display_name":"user2233706"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1627654657,"creation_date":1627654060,"answer_id":68592330,"question_id":63068636,"body_markdown":"In my service, I replaced the references to ```localhost``` with ```host.docker.internal```, and I was able to publish the container&#39;s ports with ```-p``` and connect to services on localhost without having to use ```--network host```. My services references a .env file that has the hostnames, so I just created another .env file with the updated hostname.","title":"Docker WARNING: Published ports are discarded when using host network mode","body":"<p>In my service, I replaced the references to <code>localhost</code> with <code>host.docker.internal</code>, and I was able to publish the container's ports with <code>-p</code> and connect to services on localhost without having to use <code>--network host</code>. My services references a .env file that has the hostnames, so I just created another .env file with the updated hostname.</p>\n"}],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55614,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"answer_count":3,"score":27,"last_activity_date":1650010566,"creation_date":1595574846,"question_id":63068636,"body_markdown":"I have a Springboot app that I have Dockerized. \r\nI have it exposed on port `8081`, and can access it as expected.\r\n\r\n    http://&lt;ipaddress&gt;:8081\r\n\r\n**Problem**\r\n\r\nThe Springboot app in the docker container needs to connect to a postgres database on the same host (not in a container), but it appears like it does not gave access to the host network.\r\n\r\n&gt; Connection to localhost:5432 refused\r\n\r\nDocker cmd:\r\n\r\n    docker run -t --rm -d -p 8081:8081 --name nexct-approval-service-container nexct-approval-service-image\r\n\r\nSo I have read in order to connect to the network, you can use:\r\n\r\n    --network host \r\n\r\nHowever, then it stops allowing access to the application itself (port 8081):\r\n\r\n\r\n    WARNING: Published ports are discarded when using host network mode\r\n\r\n**Question**\r\n\r\nHow can I allow access to the SpringBoot app on port 8081 and allow the Springboot app access to the host network so it can connect to the database?\r\n\r\n_____\r\n\r\n**UPDATE**\r\n\r\n\r\nMy database connection is defined in Spring Boot:\r\n\r\n**application.properties**\r\n\r\n    spring.datasource1.driver-class-name=org.postgresql.Driver\r\n    spring.datasource1.jdbc-url=jdbc:postgresql://localhost:5432/pims\r\n    spring.datasource1.username=postgres\r\n    spring.datasource1.password=\r\n\r\n**MultipleDBConfig.java**\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackages = &quot;com.nexct&quot;)\r\n    public class MultipleDBConfig {\r\n    \r\n        @Bean(name = &quot;datasource1&quot;)\r\n        @ConfigurationProperties(&quot;spring.datasource1&quot;)\r\n        @Primary\r\n        public DataSource dataSource1(){\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n    \r\n        @Bean(name = &quot;datasource2&quot;)\r\n        @ConfigurationProperties(&quot;spring.datasource2&quot;)\r\n        public DataSource dataSource2(){\r\n            return DataSourceBuilder.create().build();\r\n        }\r\n    }","title":"Docker WARNING: Published ports are discarded when using host network mode","body":"<p>I have a Springboot app that I have Dockerized.\nI have it exposed on port <code>8081</code>, and can access it as expected.</p>\n<pre><code>http://&lt;ipaddress&gt;:8081\n</code></pre>\n<p><strong>Problem</strong></p>\n<p>The Springboot app in the docker container needs to connect to a postgres database on the same host (not in a container), but it appears like it does not gave access to the host network.</p>\n<blockquote>\n<p>Connection to localhost:5432 refused</p>\n</blockquote>\n<p>Docker cmd:</p>\n<pre><code>docker run -t --rm -d -p 8081:8081 --name nexct-approval-service-container nexct-approval-service-image\n</code></pre>\n<p>So I have read in order to connect to the network, you can use:</p>\n<pre><code>--network host \n</code></pre>\n<p>However, then it stops allowing access to the application itself (port 8081):</p>\n<pre><code>WARNING: Published ports are discarded when using host network mode\n</code></pre>\n<p><strong>Question</strong></p>\n<p>How can I allow access to the SpringBoot app on port 8081 and allow the Springboot app access to the host network so it can connect to the database?</p>\n<hr />\n<p><strong>UPDATE</strong></p>\n<p>My database connection is defined in Spring Boot:</p>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource1.driver-class-name=org.postgresql.Driver\nspring.datasource1.jdbc-url=jdbc:postgresql://localhost:5432/pims\nspring.datasource1.username=postgres\nspring.datasource1.password=\n</code></pre>\n<p><strong>MultipleDBConfig.java</strong></p>\n<pre><code>@Configuration\n@ComponentScan(basePackages = &quot;com.nexct&quot;)\npublic class MultipleDBConfig {\n\n    @Bean(name = &quot;datasource1&quot;)\n    @ConfigurationProperties(&quot;spring.datasource1&quot;)\n    @Primary\n    public DataSource dataSource1(){\n        return DataSourceBuilder.create().build();\n    }\n\n    @Bean(name = &quot;datasource2&quot;)\n    @ConfigurationProperties(&quot;spring.datasource2&quot;)\n    public DataSource dataSource2(){\n        return DataSourceBuilder.create().build();\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1372837972,"post_id":17442518,"comment_id":25338729,"body_markdown":"Define &quot;in background&quot;?","body":"Define &quot;in background&quot;?"},{"owner":{"account_id":2325393,"reputation":9581,"user_id":2040040,"accept_rate":93,"display_name":"johnchen902"},"score":0,"creation_date":1372838122,"post_id":17442518,"comment_id":25338811,"body_markdown":"@fge Maybe not blocking the main thread.","body":"@fge Maybe not blocking the main thread."},{"owner":{"account_id":1114647,"reputation":2262,"user_id":1104294,"accept_rate":67,"display_name":"David Freitag"},"score":0,"creation_date":1372838153,"post_id":17442518,"comment_id":25338828,"body_markdown":"Your question is unclear, do you want to check to see if an apk is open regardless of how it was opened, or do you want to check to see if it is open using a separate thread?","body":"Your question is unclear, do you want to check to see if an apk is open regardless of how it was opened, or do you want to check to see if it is open using a separate thread?"},{"owner":{"account_id":1583324,"reputation":4071,"user_id":1468181,"accept_rate":77,"display_name":"Victor S"},"score":0,"creation_date":1372839217,"post_id":17442518,"comment_id":25339357,"body_markdown":"@DavidFreitag I only want to check whether this file exists or not?","body":"@DavidFreitag I only want to check whether this file exists or not?"}],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372838075,"creation_date":1372838075,"answer_id":17442578,"question_id":17442518,"body_markdown":"Start by extracting the filename using `URI`:\r\n\r\n    final String path = URI.create(&quot;file:///mnt/sdcard/Download/AppSearch_2213333_60.apk&quot;)\r\n        .getPath(); // returns the path segment of this URI, ie the file path\r\n    final File file = new File(path).getCanonicalFile();\r\n    // check if file.exists(); try and check if .canRead(), etc\r\n\r\nIt is advisable to use `URI` here, since it will take care of decoding all possible spaces/characters illegal in URIs, but legal in file names.","title":"How to check whether a known uri file exists in Android storage?","body":"<p>Start by extracting the filename using <code>URI</code>:</p>\n\n<pre><code>final String path = URI.create(\"file:///mnt/sdcard/Download/AppSearch_2213333_60.apk\")\n    .getPath(); // returns the path segment of this URI, ie the file path\nfinal File file = new File(path).getCanonicalFile();\n// check if file.exists(); try and check if .canRead(), etc\n</code></pre>\n\n<p>It is advisable to use <code>URI</code> here, since it will take care of decoding all possible spaces/characters illegal in URIs, but legal in file names.</p>\n"},{"tags":[],"owner":{"account_id":2226433,"reputation":5556,"user_id":1965084,"accept_rate":97,"display_name":"alex"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1372838282,"creation_date":1372838282,"answer_id":17442639,"question_id":17442518,"body_markdown":"Check if a file of a path exists like this:\r\n\r\n    File file = new File(&quot;/mnt/sdcard/Download/AppSearch_2213333_60.apk&quot; );\r\n    if (file.exists()) {\r\n     //Do something\r\n    }\r\n\r\nKeep in mind to remove something like &quot;file://&quot; etc. otherwise use:\r\n\r\n     File file = new File(URI.create(&quot;file:///mnt/sdcard/Download/AppSearch_2213333_60.apk&quot;).getPath());\r\n     if (file.exists()) {\r\n      //Do something\r\n     }\r\n\r\nAlso you have to set proper permissions for your app in the AndroidManifest.xml to access the sdcard:\r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;","title":"How to check whether a known uri file exists in Android storage?","body":"<p>Check if a file of a path exists like this:</p>\n\n<pre><code>File file = new File(\"/mnt/sdcard/Download/AppSearch_2213333_60.apk\" );\nif (file.exists()) {\n //Do something\n}\n</code></pre>\n\n<p>Keep in mind to remove something like \"file://\" etc. otherwise use:</p>\n\n<pre><code> File file = new File(URI.create(\"file:///mnt/sdcard/Download/AppSearch_2213333_60.apk\").getPath());\n if (file.exists()) {\n  //Do something\n }\n</code></pre>\n\n<p>Also you have to set proper permissions for your app in the AndroidManifest.xml to access the sdcard:</p>\n\n<pre><code> &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2454995,"reputation":4629,"user_id":2140414,"display_name":"johnml1135"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1528725453,"creation_date":1528389874,"answer_id":50746394,"question_id":17442518,"body_markdown":"Above answers will not work for all versions of Android (see https://stackoverflow.com/questions/3401579/get-filename-and-path-from-uri-from-mediastore and https://stackoverflow.com/questions/20067508/get-real-path-from-uri-android-kitkat-new-storage-access-framework), but there is an easy way using DocumentsContract:\r\n\r\n    DocumentsContract.isDocumentUri(context,myUri)","title":"How to check whether a known uri file exists in Android storage?","body":"<p>Above answers will not work for all versions of Android (see <a href=\"https://stackoverflow.com/questions/3401579/get-filename-and-path-from-uri-from-mediastore\">Get filename and path from URI from mediastore</a> and <a href=\"https://stackoverflow.com/questions/20067508/get-real-path-from-uri-android-kitkat-new-storage-access-framework\">Get real path from URI, Android KitKat new storage access framework</a>), but there is an easy way using DocumentsContract:</p>\n\n<pre><code>DocumentsContract.isDocumentUri(context,myUri)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5486420,"reputation":771,"user_id":4361020,"accept_rate":50,"display_name":"Sirojiddin Komolov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560614715,"creation_date":1560614715,"answer_id":56611998,"question_id":17442518,"body_markdown":"I wrote a function that checks if a file exists on a given path. The path might me absolute path or Uri path.\r\n\r\n    fun localFileExist(localPathOrUri: String?, context:Context): Boolean {\r\n        if (localPathOrUri.isNullOrEmpty()) {\r\n            return false\r\n        }\r\n\r\n        var exists = File(localPathOrUri).exists()\r\n        if (exists) {\r\n            return exists\r\n        }\r\n\r\n        val cR = context.getContentResolver()\r\n        val uri = Uri.parse(localPathOrUri)\r\n\r\n        try {\r\n            val inputStream = cR.openInputStream(uri)\r\n            if (inputStream != null) {\r\n                inputStream.close()\r\n                return true\r\n            }\r\n        } catch (e: java.lang.Exception) {\r\n            //file not exists\r\n        }\r\n        return exists\r\n    }\r\n","title":"How to check whether a known uri file exists in Android storage?","body":"<p>I wrote a function that checks if a file exists on a given path. The path might me absolute path or Uri path.</p>\n\n<pre><code>fun localFileExist(localPathOrUri: String?, context:Context): Boolean {\n    if (localPathOrUri.isNullOrEmpty()) {\n        return false\n    }\n\n    var exists = File(localPathOrUri).exists()\n    if (exists) {\n        return exists\n    }\n\n    val cR = context.getContentResolver()\n    val uri = Uri.parse(localPathOrUri)\n\n    try {\n        val inputStream = cR.openInputStream(uri)\n        if (inputStream != null) {\n            inputStream.close()\n            return true\n        }\n    } catch (e: java.lang.Exception) {\n        //file not exists\n    }\n    return exists\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18892819,"reputation":81,"user_id":13782702,"display_name":"Ihor"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1592678511,"creation_date":1592677300,"answer_id":62489967,"question_id":17442518,"body_markdown":"    DocumentFile sourceFile = DocumentFile.fromSingleUri(context, uri);\r\n    boolean bool = sourceFile.exists();","title":"How to check whether a known uri file exists in Android storage?","body":"<pre><code>DocumentFile sourceFile = DocumentFile.fromSingleUri(context, uri);\nboolean bool = sourceFile.exists();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1608225132,"creation_date":1608225132,"answer_id":65345308,"question_id":17442518,"body_markdown":"I might be a little late to the party here, but I was looking for a solution to a similar problem and was finally able to find a solution for all possible edge cases. The solution is a follows:\r\n\r\n```\r\nboolean bool = false;\r\n        if(null != uri) {\r\n            try {\r\n                InputStream inputStream = context.getContentResolver().openInputStream(uri);\r\n                inputStream.close();\r\n                bool = true;\r\n            } catch (Exception e) {\r\n                Log.w(MY_TAG, &quot;File corresponding to the uri does not exist &quot; + uri.toString());\r\n            }\r\n        }\r\n```\r\n\r\nIf the file corresponding to the URI exists, then you will have an input stream object to work with, else an exception will be thrown. \r\n\r\nDo not forget to close the input stream if the file does exist.\r\n\r\n**NOTE:**\r\n```\r\nDocumentFile sourceFile = DocumentFile.fromSingleUri(context, uri);\r\nboolean bool = sourceFile.exists();\r\n```\r\ndoes handle most edge cases, but what I found out was that if a file is created programmatically and stored in some folder, the user then visits the folder and manually deletes the file (while the app is running), DocumentFile.fromSingleUri wrongly says that the file exists.","title":"How to check whether a known uri file exists in Android storage?","body":"<p>I might be a little late to the party here, but I was looking for a solution to a similar problem and was finally able to find a solution for all possible edge cases. The solution is a follows:</p>\n<pre><code>boolean bool = false;\n        if(null != uri) {\n            try {\n                InputStream inputStream = context.getContentResolver().openInputStream(uri);\n                inputStream.close();\n                bool = true;\n            } catch (Exception e) {\n                Log.w(MY_TAG, &quot;File corresponding to the uri does not exist &quot; + uri.toString());\n            }\n        }\n</code></pre>\n<p>If the file corresponding to the URI exists, then you will have an input stream object to work with, else an exception will be thrown.</p>\n<p>Do not forget to close the input stream if the file does exist.</p>\n<p><strong>NOTE:</strong></p>\n<pre><code>DocumentFile sourceFile = DocumentFile.fromSingleUri(context, uri);\nboolean bool = sourceFile.exists();\n</code></pre>\n<p>does handle most edge cases, but what I found out was that if a file is created programmatically and stored in some folder, the user then visits the folder and manually deletes the file (while the app is running), DocumentFile.fromSingleUri wrongly says that the file exists.</p>\n"},{"tags":[],"owner":{"account_id":24942797,"reputation":1,"user_id":18808448,"display_name":"Cisco Serata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650010494,"creation_date":1649986557,"answer_id":71879178,"question_id":17442518,"body_markdown":"```java\r\nimport java.nio.file.Paths;\r\nimport java.nio.file.Files;\r\n\r\nboolean exists = Files.exists(Paths.get(URI));\r\n```\r\n\r\nMuch  more concise..","title":"How to check whether a known uri file exists in Android storage?","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.nio.file.Paths;\nimport java.nio.file.Files;\n\nboolean exists = Files.exists(Paths.get(URI));\n</code></pre>\n<p>Much  more concise..</p>\n"}],"owner":{"account_id":1583324,"reputation":4071,"user_id":1468181,"accept_rate":77,"display_name":"Victor S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38781,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":17442639,"answer_count":7,"score":17,"last_activity_date":1650010494,"creation_date":1372837874,"question_id":17442518,"body_markdown":"The file uri is known, such as \r\n\r\n    `file:///mnt/sdcard/Download/AppSearch_2213333_60.apk`\r\n\r\nI want to check if this file can open or not in background, how to do?","title":"How to check whether a known uri file exists in Android storage?","body":"<p>The file uri is known, such as </p>\n\n<pre><code>`file:///mnt/sdcard/Download/AppSearch_2213333_60.apk`\n</code></pre>\n\n<p>I want to check if this file can open or not in background, how to do?</p>\n"},{"tags":["java","json","hibernate","spring-boot"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1570150600,"post_id":58228555,"comment_id":102831969,"body_markdown":"Ignoring properties?","body":"Ignoring properties?"},{"owner":{"account_id":14521868,"reputation":161,"user_id":10489326,"display_name":"yafiet andebrhan"},"score":0,"creation_date":1570150817,"post_id":58228555,"comment_id":102832011,"body_markdown":"@chrylis sorry  I didn&#39;t understand what do you mean?","body":"@chrylis sorry  I didn&#39;t understand what do you mean?"},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1570152577,"post_id":58228555,"comment_id":102832332,"body_markdown":"Please refer to [Annotation Type JsonIgnore](https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonIgnore.html).","body":"Please refer to <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonIgnore.html\" rel=\"nofollow noreferrer\">Annotation Type JsonIgnore</a>."}],"answers":[{"tags":[],"owner":{"account_id":457113,"reputation":686,"user_id":902296,"accept_rate":67,"display_name":"Ross Brigoli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570152018,"creation_date":1570152018,"answer_id":58228722,"question_id":58228555,"body_markdown":"When serializing your object into Json, the fields that are tagged with @JsonIgnore will not be included in the serialized Json object. This attribute is read by the Json serialize using reflection. ","title":"What is use of the annotation @JsonIgnore?","body":"<p>When serializing your object into Json, the fields that are tagged with @JsonIgnore will not be included in the serialized Json object. This attribute is read by the Json serialize using reflection. </p>\n"},{"tags":[],"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1628501025,"creation_date":1570175951,"answer_id":58232188,"question_id":58228555,"body_markdown":"`@JsonIgnore` is used to ignore the logical property used in **serialization** and **deserialization**. `@JsonIgnore` can be used at **setters**, **getters** or **fields**.  \r\n\r\nIf you add `@JsonIgnore` to a field or its getter method, the field is not going to be serialized.\r\n\r\nSample POJO:\r\n\r\n    class User {\r\n        @JsonIgnore\r\n        private int id;\r\n        private String name;\r\n        public int getId() {\r\n            return id;\r\n        }\r\n        @JsonIgnore\r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }  \r\n    }\r\n\r\nSample code for serialization:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    User user = new User();\r\n    user.setId(2);\r\n    user.setName(&quot;Bob&quot;);\r\n    System.out.println(mapper.writeValueAsString(user));\r\n\r\nConsole output:\r\n\r\n&gt; {&quot;name&quot;:&quot;Bob&quot;}","title":"What is use of the annotation @JsonIgnore?","body":"<p><code>@JsonIgnore</code> is used to ignore the logical property used in <strong>serialization</strong> and <strong>deserialization</strong>. <code>@JsonIgnore</code> can be used at <strong>setters</strong>, <strong>getters</strong> or <strong>fields</strong>.</p>\n<p>If you add <code>@JsonIgnore</code> to a field or its getter method, the field is not going to be serialized.</p>\n<p>Sample POJO:</p>\n<pre><code>class User {\n    @JsonIgnore\n    private int id;\n    private String name;\n    public int getId() {\n        return id;\n    }\n    @JsonIgnore\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }  \n}\n</code></pre>\n<p>Sample code for serialization:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nUser user = new User();\nuser.setId(2);\nuser.setName(&quot;Bob&quot;);\nSystem.out.println(mapper.writeValueAsString(user));\n</code></pre>\n<p>Console output:</p>\n<blockquote>\n<p>{&quot;name&quot;:&quot;Bob&quot;}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1528364,"reputation":125594,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570176652,"creation_date":1570176652,"answer_id":58232352,"question_id":58228555,"body_markdown":"The Jackson&#39;s [`@JsonIgnore`][1] annotation can be placed on fields, getters/settess and constructor parameters mark a property to be **ignored** during the serialization to JSON (or deserialization from JSON). Refer to the [Jackson annotations reference documentation][2] for more details.\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonIgnore.html\r\n  [2]: https://github.com/FasterXML/jackson-annotations/wiki/Jackson-Annotations","title":"What is use of the annotation @JsonIgnore?","body":"<p>The Jackson's <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonIgnore.html\" rel=\"nofollow noreferrer\"><code>@JsonIgnore</code></a> annotation can be placed on fields, getters/settess and constructor parameters mark a property to be <strong>ignored</strong> during the serialization to JSON (or deserialization from JSON). Refer to the <a href=\"https://github.com/FasterXML/jackson-annotations/wiki/Jackson-Annotations\" rel=\"nofollow noreferrer\">Jackson annotations reference documentation</a> for more details.</p>\n"}],"owner":{"account_id":14521868,"reputation":161,"user_id":10489326,"display_name":"yafiet andebrhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28179,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1650010261,"creation_date":1570150189,"question_id":58228555,"body_markdown":"I&#39;m joining tables with one to many cardinality, the classes I&#39;m using refer to each other. And I&#39;m using @JsonIgnore annotation with out understanding it deeply.","title":"What is use of the annotation @JsonIgnore?","body":"<p>I'm joining tables with one to many cardinality, the classes I'm using refer to each other. And I'm using @JsonIgnore annotation with out understanding it deeply.</p>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1649995652,"post_id":71879842,"comment_id":127018907,"body_markdown":"In Java a non static field can&#39;t be used in a static method, but the the opposite is possible: https://www.tutorialspoint.com/can-we-make-static-reference-to-non-static-fields-in-java","body":"In Java a non static field can&#39;t be used in a static method, but the the opposite is possible: <a href=\"https://www.tutorialspoint.com/can-we-make-static-reference-to-non-static-fields-in-java\" rel=\"nofollow noreferrer\">tutorialspoint.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13022813,"reputation":722,"user_id":9411636,"display_name":"Kaneda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649994750,"creation_date":1649994750,"answer_id":71879885,"question_id":71879842,"body_markdown":"The main method is a static method, it is called without a object of your class MqMessageHandlerApplication being instantiated, this being said, you can&#39;t call the LOG_FILE, it will only be accessible when you instantiate a object of MqMessageHandlerApplication. Try to fetch this file inside the main body, not using a field injection, then it will work.","title":"&quot;Cannot make a static reference to the non-static field&quot; error when setting a variable to System.setProperty","body":"<p>The main method is a static method, it is called without a object of your class MqMessageHandlerApplication being instantiated, this being said, you can't call the LOG_FILE, it will only be accessible when you instantiate a object of MqMessageHandlerApplication. Try to fetch this file inside the main body, not using a field injection, then it will work.</p>\n"}],"owner":{"account_id":1843462,"reputation":97,"user_id":1672382,"display_name":"user1672382"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649995925,"answer_count":1,"score":0,"last_activity_date":1650010170,"creation_date":1649994179,"question_id":71879842,"body_markdown":"I&#39;m trying to assign a `String` variable to a system property fetched from the `application.properties` in main method. But it gives me \r\n\r\n&gt; Cannot make a static reference to the non-static field LOG_FILE\r\n\r\nThis is my code snippet, what is the mistake I&#39;m making here? \r\n\r\n```\r\n@SpringBootApplication\r\npublic class MqMessageHandlerApplication {\r\n\r\n\t@Value(&quot;${logging.home.file}&quot;)\r\n\tString LOG_FILE;\t\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t//System.setProperty(&quot;LOG_DIR&quot;, &quot;D:\\\\mq-message-handler-1.0\\\\logs\\\\&quot; );\r\n\t\tSystem.setProperty(&quot;LOG_DIR&quot;, LOG_FILE );\r\n\t\tSpringApplication.run(MqMessageHandlerApplication.class, args);\t\r\n\t}\r\n\r\n}\r\n```","title":"&quot;Cannot make a static reference to the non-static field&quot; error when setting a variable to System.setProperty","body":"<p>I'm trying to assign a <code>String</code> variable to a system property fetched from the <code>application.properties</code> in main method. But it gives me</p>\n<blockquote>\n<p>Cannot make a static reference to the non-static field LOG_FILE</p>\n</blockquote>\n<p>This is my code snippet, what is the mistake I'm making here?</p>\n<pre><code>@SpringBootApplication\npublic class MqMessageHandlerApplication {\n\n    @Value(&quot;${logging.home.file}&quot;)\n    String LOG_FILE;    \n    \n    public static void main(String[] args) {\n        //System.setProperty(&quot;LOG_DIR&quot;, &quot;D:\\\\mq-message-handler-1.0\\\\logs\\\\&quot; );\n        System.setProperty(&quot;LOG_DIR&quot;, LOG_FILE );\n        SpringApplication.run(MqMessageHandlerApplication.class, args); \n    }\n\n}\n</code></pre>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":7,"creation_date":1572460635,"post_id":58631724,"comment_id":103570608,"body_markdown":"I think you are correct. A quick search over the java discussion lists brought up this: http://mail.openjdk.java.net/pipermail/nio-dev/2018-March/004810.html Still reading though to write an answer.","body":"I think you are correct. A quick search over the java discussion lists brought up this: <a href=\"http://mail.openjdk.java.net/pipermail/nio-dev/2018-March/004810.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/nio-dev/2018-March/004810.ht&zwnj;&#8203;ml</a> Still reading though to write an answer."},{"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":6,"creation_date":1579706237,"post_id":58631724,"comment_id":105857073,"body_markdown":"I prefer `Path.of` because it doesn&#39;t require additional import","body":"I prefer <code>Path.of</code> because it doesn&#39;t require additional import"}],"answers":[{"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1572462194,"creation_date":1572461291,"answer_id":58631951,"question_id":58631724,"body_markdown":"Indeed, `Path.of` was later introduced.  \r\n\r\n&gt;  Conjecture: it was introduced for the sake of a consistent `Foo.of` style.\r\n\r\nFrom the mailing list archive, this [method was once called `Path.get`][1]:\r\n\r\n&gt; The main changes in are in Path and Paths in java.nio.file.\r\n\r\n&gt; This patch copies the Paths.get() methods to static methods in Path.get() and modifies the former to call the latter respective methods. The Path specification is slightly cleaned up not to refer to Paths nor itself, e.g., “(see Path).” @implSpec annotations are added to Paths to indicate that the methods simply call their counterparts in Path.  \r\n&gt; ...\r\n\r\nThis was later changed when [Brian Goetz suggested it to be consistent with `Foo.of`](http://mail.openjdk.java.net/pipermail/nio-dev/2018-March/004828.html):\r\n\r\n&gt; \r\nSeparately, Brian Goetz suggested off-list that it would be more \r\nconsistent if these factory methods were named &quot;of&quot; so I assume the \r\nwebrev will be updated to see how that looks.\r\n\r\nNow to your last question: &quot;In that case, it would be considered preferable on consistency/aesthetic grounds?&quot;  \r\nIn the [initial mail][1] Brian Burkhalter said that he updated all references to the new method in `Path`:\r\n\r\n&gt; All source files in java.base are modified to change Paths.get() to Path.get() and to remove the import for Paths. ...\r\n\r\nSo I would therefore conclude that `Path.of` is indeed preferable to `Paths.get`.  \r\nIndeed, if you look at the [Javadoc for `Paths` for Java 13](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/Paths.html) you will find this note:\r\n\r\n&gt; **API Note**:  \r\n&gt; It is recommended to obtain a `Path` via the `Path.of` methods instead of via the `get` methods defined in this class as this class may be deprecated in a future release.\r\n\r\n[1]: http://mail.openjdk.java.net/pipermail/nio-dev/2018-March/004810.html","title":"Paths.get vs Path.of","body":"<p>Indeed, <code>Path.of</code> was later introduced.  </p>\n\n<blockquote>\n  <p>Conjecture: it was introduced for the sake of a consistent <code>Foo.of</code> style.</p>\n</blockquote>\n\n<p>From the mailing list archive, this <a href=\"http://mail.openjdk.java.net/pipermail/nio-dev/2018-March/004810.html\" rel=\"noreferrer\">method was once called <code>Path.get</code></a>:</p>\n\n<blockquote>\n  <p>The main changes in are in Path and Paths in java.nio.file.</p>\n  \n  <p>This patch copies the Paths.get() methods to static methods in Path.get() and modifies the former to call the latter respective methods. The Path specification is slightly cleaned up not to refer to Paths nor itself, e.g., “(see Path).” @implSpec annotations are added to Paths to indicate that the methods simply call their counterparts in Path.<br>\n  ...</p>\n</blockquote>\n\n<p>This was later changed when <a href=\"http://mail.openjdk.java.net/pipermail/nio-dev/2018-March/004828.html\" rel=\"noreferrer\">Brian Goetz suggested it to be consistent with <code>Foo.of</code></a>:</p>\n\n<blockquote>\n  <p>Separately, Brian Goetz suggested off-list that it would be more \n  consistent if these factory methods were named \"of\" so I assume the \n  webrev will be updated to see how that looks.</p>\n</blockquote>\n\n<p>Now to your last question: \"In that case, it would be considered preferable on consistency/aesthetic grounds?\"<br>\nIn the <a href=\"http://mail.openjdk.java.net/pipermail/nio-dev/2018-March/004810.html\" rel=\"noreferrer\">initial mail</a> Brian Burkhalter said that he updated all references to the new method in <code>Path</code>:</p>\n\n<blockquote>\n  <p>All source files in java.base are modified to change Paths.get() to Path.get() and to remove the import for Paths. ...</p>\n</blockquote>\n\n<p>So I would therefore conclude that <code>Path.of</code> is indeed preferable to <code>Paths.get</code>.<br>\nIndeed, if you look at the <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/Paths.html\" rel=\"noreferrer\">Javadoc for <code>Paths</code> for Java 13</a> you will find this note:</p>\n\n<blockquote>\n  <p><strong>API Note</strong>:<br>\n  It is recommended to obtain a <code>Path</code> via the <code>Path.of</code> methods instead of via the <code>get</code> methods defined in this class as this class may be deprecated in a future release.</p>\n</blockquote>\n"}],"owner":{"account_id":19529,"reputation":31885,"user_id":45843,"accept_rate":91,"display_name":"rwallace"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47919,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":58631951,"answer_count":1,"score":62,"last_activity_date":1650009933,"creation_date":1572460328,"question_id":58631724,"body_markdown":"As far as I can tell, `Paths.get` and `Path.of` seem to do exactly the same thing, turning one or more strings into a `Path` object; the documentations for [`Paths.get`](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Paths.html#get-java.lang.String-java.lang.String) and [`Path.of`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/Path.html#of(java.lang.String,java.lang.String)) use the same wording. Are they in fact identical?\r\n\r\n`Path.of` was introduced later. \r\n\r\n*Conjecture:* it was introduced for the sake of a consistent `Foo.of` style. In that case, it would be considered preferable on consistency/aesthetic grounds?","title":"Paths.get vs Path.of","body":"<p>As far as I can tell, <code>Paths.get</code> and <code>Path.of</code> seem to do exactly the same thing, turning one or more strings into a <code>Path</code> object; the documentations for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Paths.html#get-java.lang.String-java.lang.String\" rel=\"noreferrer\"><code>Paths.get</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/Path.html#of(java.lang.String,java.lang.String)\" rel=\"noreferrer\"><code>Path.of</code></a> use the same wording. Are they in fact identical?</p>\n<p><code>Path.of</code> was introduced later.</p>\n<p><em>Conjecture:</em> it was introduced for the sake of a consistent <code>Foo.of</code> style. In that case, it would be considered preferable on consistency/aesthetic grounds?</p>\n"},{"tags":["java","spring-boot","spring-data","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649975593,"creation_date":1649975593,"answer_id":71878267,"question_id":71878008,"body_markdown":"Do not extend `HikariConfig`.\r\n\r\nUse the default constructor of `HikariConfig()` to take the default configuration properties of Hikari and then override what you need according to your properties file as you have already done for your `jpa` properties.\r\n\r\n    @Bean\r\n    public HikariDataSource verticaDataSource() {\r\n     HikariConfig hikariConfig = new HikariConfig();\r\n            \r\n    hikariConfig.setConnectionTimeout(env.getProperty(&quot;vertica.datasource.hikari.connectionTimeout&quot;, Long.class)); \r\n      \r\n    hikariConfig.setIdleTimeout(env.getProperty(&quot;vertica.datasource.hikari.idleTimeout&quot;, Long.class)); \r\n\r\n    hikariConfig.setMaxLifetime(env.getProperty(&quot;vertica.datasource.hikari.maxLifetime&quot;, Long.class)); \r\n\r\n    hikariConfig.setKeepaliveTime(env.getProperty(&quot;vertica.datasource.hikari.keepaliveTime&quot;, Long.class));\r\n\r\n    hikariConfig.setMaximumPoolSize​(env.getProperty(&quot;vertica.datasource.hikari.maximumPoolSize&quot;, Integer.class));\r\n\r\n    hikariConfig.setMinimumIdle​(env.getProperty(&quot;vertica.datasource.hikari.minimumIdle&quot;, Integer.class));\r\n\r\n    return new HikariDataSource(hikariConfig);\r\n    \r\n    }\r\n\r\n \r\n\r\n\r\n","title":"Spring Boot Hikari properties override programmatically","body":"<p>Do not extend <code>HikariConfig</code>.</p>\n<p>Use the default constructor of <code>HikariConfig()</code> to take the default configuration properties of Hikari and then override what you need according to your properties file as you have already done for your <code>jpa</code> properties.</p>\n<pre><code>@Bean\npublic HikariDataSource verticaDataSource() {\n HikariConfig hikariConfig = new HikariConfig();\n        \nhikariConfig.setConnectionTimeout(env.getProperty(&quot;vertica.datasource.hikari.connectionTimeout&quot;, Long.class)); \n  \nhikariConfig.setIdleTimeout(env.getProperty(&quot;vertica.datasource.hikari.idleTimeout&quot;, Long.class)); \n\nhikariConfig.setMaxLifetime(env.getProperty(&quot;vertica.datasource.hikari.maxLifetime&quot;, Long.class)); \n\nhikariConfig.setKeepaliveTime(env.getProperty(&quot;vertica.datasource.hikari.keepaliveTime&quot;, Long.class));\n\nhikariConfig.setMaximumPoolSize​(env.getProperty(&quot;vertica.datasource.hikari.maximumPoolSize&quot;, Integer.class));\n\nhikariConfig.setMinimumIdle​(env.getProperty(&quot;vertica.datasource.hikari.minimumIdle&quot;, Integer.class));\n\nreturn new HikariDataSource(hikariConfig);\n\n}\n</code></pre>\n"}],"owner":{"account_id":7100941,"reputation":391,"user_id":5432511,"display_name":"curious_brain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4639,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71878267,"answer_count":1,"score":1,"last_activity_date":1650009805,"creation_date":1649973202,"question_id":71878008,"body_markdown":"I have two datasources in my Spring Boot app and therefore I cannot use the standard datasource properites. One of them is defined like below:\r\n\r\n```\r\nvertica:\r\n  datasource:\r\n    jdbc-url: jdbc:vertica://${DR_HOST}:${DR_PORT}/${DR_DB_NAME}\r\n    username: ${DR_USER}\r\n    password: ${DR_PASSWORD}\r\n    driver-class-name: com.vertica.jdbc.Driver\r\n    hikari:\r\n      connectionTimeout: 30000\r\n      idleTimeout: 10000\r\n      maxLifetime: 10000\r\n      keepaliveTime: 5000\r\n      maximumPoolSize: 20\r\n      minimumIdle: 5\r\n      #poolName: vertica-db-pool\r\n      #username: ${DB_USER}\r\n      #password: ${DB_PASSWORD}\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: none\r\n      format_sql: true\r\n      show-sql: true\r\n      naming:\r\n        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n      naming-strategy: org.hibernate.cfg.ImprovedNamingStrategy\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.VerticaDialect\r\n```\r\n\r\n```\r\n@Configuration\r\n@ConfigurationProperties(&quot;vertica.datasource&quot;)\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n        entityManagerFactoryRef = &quot;verticaEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;verticaTransactionManager&quot;,\r\n        basePackages = { &quot;com.yyy.vertica&quot; }\r\n)\r\npublic class MyDataSourceConfig extends HikariConfig {\r\n    public final static String PERSISTENCE_UNIT_NAME = &quot;vertica&quot;;\r\n    public final static String PACKAGES_TO_SCAN = &quot;com.xxx.entity&quot;;\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Bean\r\n    public HikariDataSource verticaDataSource() {\r\n        return new HikariDataSource(this);\r\n    }\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean verticaEntityManagerFactory(\r\n            final HikariDataSource verticaDataSource) {\r\n\r\n        return new LocalContainerEntityManagerFactoryBean() {{\r\n            setDataSource(verticaDataSource);\r\n            setPersistenceProviderClass(HibernatePersistenceProvider.class);\r\n            setPersistenceUnitName(PERSISTENCE_UNIT_NAME);\r\n            setPackagesToScan(PACKAGES_TO_SCAN);\r\n\r\n            Properties jpaProperties = new Properties();\r\n            jpaProperties.put(&quot;hibernate.ddl-auto&quot;, env.getProperty(&quot;vertica.jpa.hibernate.ddl-auto&quot;));\r\n            jpaProperties.put(&quot;hibernate.show-sql&quot;, env.getProperty(&quot;vertica.jpa.hibernate.show-sql&quot;));\r\n            jpaProperties.put(&quot;hibernate.format_sql&quot;, env.getProperty(&quot;vertica.jpa.hibernate.format_sql&quot;));\r\n            jpaProperties.put(&quot;hibernate.dialect&quot;, env.getProperty(&quot;vertica.jpa.properties.hibernate.dialect&quot;));\r\n\r\n            setJpaProperties(jpaProperties);\r\n\r\n            afterPropertiesSet();;\r\n        }};\r\n    }\r\n\r\n    @Bean\r\n    public PlatformTransactionManager verticaTransactionManager(EntityManagerFactory verticaEntityManagerFactory) {\r\n        return new JpaTransactionManager(verticaEntityManagerFactory);\r\n    }\r\n```\r\n\r\nThe Hikari properties defined in yaml file above are not taken into account (possibly due to ```extends HikariConfig```). The requirement is to use the default Hikari properties and override the ones defined above. Please suggest how this can be done.","title":"Spring Boot Hikari properties override programmatically","body":"<p>I have two datasources in my Spring Boot app and therefore I cannot use the standard datasource properites. One of them is defined like below:</p>\n<pre><code>vertica:\n  datasource:\n    jdbc-url: jdbc:vertica://${DR_HOST}:${DR_PORT}/${DR_DB_NAME}\n    username: ${DR_USER}\n    password: ${DR_PASSWORD}\n    driver-class-name: com.vertica.jdbc.Driver\n    hikari:\n      connectionTimeout: 30000\n      idleTimeout: 10000\n      maxLifetime: 10000\n      keepaliveTime: 5000\n      maximumPoolSize: 20\n      minimumIdle: 5\n      #poolName: vertica-db-pool\n      #username: ${DB_USER}\n      #password: ${DB_PASSWORD}\n  jpa:\n    hibernate:\n      ddl-auto: none\n      format_sql: true\n      show-sql: true\n      naming:\n        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n      naming-strategy: org.hibernate.cfg.ImprovedNamingStrategy\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.VerticaDialect\n</code></pre>\n<pre><code>@Configuration\n@ConfigurationProperties(&quot;vertica.datasource&quot;)\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        entityManagerFactoryRef = &quot;verticaEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;verticaTransactionManager&quot;,\n        basePackages = { &quot;com.yyy.vertica&quot; }\n)\npublic class MyDataSourceConfig extends HikariConfig {\n    public final static String PERSISTENCE_UNIT_NAME = &quot;vertica&quot;;\n    public final static String PACKAGES_TO_SCAN = &quot;com.xxx.entity&quot;;\n\n    @Autowired\n    private Environment env;\n\n    @Bean\n    public HikariDataSource verticaDataSource() {\n        return new HikariDataSource(this);\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean verticaEntityManagerFactory(\n            final HikariDataSource verticaDataSource) {\n\n        return new LocalContainerEntityManagerFactoryBean() {{\n            setDataSource(verticaDataSource);\n            setPersistenceProviderClass(HibernatePersistenceProvider.class);\n            setPersistenceUnitName(PERSISTENCE_UNIT_NAME);\n            setPackagesToScan(PACKAGES_TO_SCAN);\n\n            Properties jpaProperties = new Properties();\n            jpaProperties.put(&quot;hibernate.ddl-auto&quot;, env.getProperty(&quot;vertica.jpa.hibernate.ddl-auto&quot;));\n            jpaProperties.put(&quot;hibernate.show-sql&quot;, env.getProperty(&quot;vertica.jpa.hibernate.show-sql&quot;));\n            jpaProperties.put(&quot;hibernate.format_sql&quot;, env.getProperty(&quot;vertica.jpa.hibernate.format_sql&quot;));\n            jpaProperties.put(&quot;hibernate.dialect&quot;, env.getProperty(&quot;vertica.jpa.properties.hibernate.dialect&quot;));\n\n            setJpaProperties(jpaProperties);\n\n            afterPropertiesSet();;\n        }};\n    }\n\n    @Bean\n    public PlatformTransactionManager verticaTransactionManager(EntityManagerFactory verticaEntityManagerFactory) {\n        return new JpaTransactionManager(verticaEntityManagerFactory);\n    }\n</code></pre>\n<p>The Hikari properties defined in yaml file above are not taken into account (possibly due to <code>extends HikariConfig</code>). The requirement is to use the default Hikari properties and override the ones defined above. Please suggest how this can be done.</p>\n"},{"tags":["java","docker","dockerfile","dropwizard","aws-codepipeline"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1650223968,"post_id":71881042,"comment_id":127061113,"body_markdown":"You&#39;re using a [multi-stage build](https://docs.docker.com/develop/develop-images/multistage-build/). Each stage has its own separate environment.","body":"You&#39;re using a <a href=\"https://docs.docker.com/develop/develop-images/multistage-build/\" rel=\"nofollow noreferrer\">multi-stage build</a>. Each stage has its own separate environment."}],"answers":[{"tags":[],"owner":{"account_id":8427152,"reputation":1943,"user_id":6324029,"display_name":"hoangquyy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650007924,"creation_date":1650007924,"answer_id":71881264,"question_id":71881042,"body_markdown":"In Docker, there are run time ENV and build time ENV so you can&#39;t retrieve your build time ENV when the app is running.\r\n\r\nYou can set run time ENV when you edit container in Task Definition at section ENVIRONMENT with environment variables or even environment files (the files is saved in S3)","title":"Dockerfile ENV not available during container run","body":"<p>In Docker, there are run time ENV and build time ENV so you can't retrieve your build time ENV when the app is running.</p>\n<p>You can set run time ENV when you edit container in Task Definition at section ENVIRONMENT with environment variables or even environment files (the files is saved in S3)</p>\n"}],"owner":{"account_id":6191221,"reputation":13,"user_id":4823884,"display_name":"Abhi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650007924,"creation_date":1650006246,"question_id":71881042,"body_markdown":"I have a Dropwizard project that I am deploying using AWS Codepipeline with below stages:\r\n- Source\r\n- Build(CodeBuild)\r\n- Deploy(ECS)\r\n\r\nI have this below Dockerfile\r\n\r\n```dockerfile\r\nFROM public.ecr.aws/docker/library/maven:3.8.4-amazoncorretto-17 AS build\r\n\r\nWORKDIR /var/server\r\n\r\nARG EXECUTION_ENV\r\nENV ENV_VARIABLE_ENVIRONMENT ${EXECUTION_ENV}\r\nRUN echo $ENV_VARIABLE_ENVIRONMENT\r\n\r\nADD pom.xml /var/server/pom.xml\r\nADD src /var/server/src\r\n\r\nRUN mvn clean install\r\n\r\nADD config.yml  /var/server/\r\n\r\nFROM public.ecr.aws/amazoncorretto/amazoncorretto:17\r\n\r\nWORKDIR /var/server\r\nCOPY --from=build /var/server/target/server-1.0-SNAPSHOT.jar /var/server/target/server-1.0-SNAPSHOT.jar\r\nCOPY --from=build /var/server/config.yml /var/server/config.yml\r\n\r\nEXPOSE 8080\r\n\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;target/server-1.0-SNAPSHOT.jar&quot;, &quot;server&quot;, &quot;config.yml&quot;]\r\n```\r\n\r\nWithin my application, I have configured the below\r\n```\r\nbootstrap.setConfigurationSourceProvider(\r\n                new SubstitutingSourceProvider(path -&gt; Thread.currentThread().getContextClassLoader().getResourceAsStream(path),\r\n                        new EnvironmentVariableSubstitutor(false)));\r\n```\r\n\r\nWhen i run the pipeline, i observed that the environment variable ENV_VARIABLE_ENVIRONMENT prints the correct value that is passed to it using CodeBuild&#39;s environment variable. However, within the application, when i try ```System.getenv(&quot;ENV_VARIABLE_ENVIRONMENT&quot;)```, that returns null.\r\n\r\nWhy is the environment variable not available in the container when the app is run?","title":"Dockerfile ENV not available during container run","body":"<p>I have a Dropwizard project that I am deploying using AWS Codepipeline with below stages:</p>\n<ul>\n<li>Source</li>\n<li>Build(CodeBuild)</li>\n<li>Deploy(ECS)</li>\n</ul>\n<p>I have this below Dockerfile</p>\n<pre><code>FROM public.ecr.aws/docker/library/maven:3.8.4-amazoncorretto-17 AS build\n\nWORKDIR /var/server\n\nARG EXECUTION_ENV\nENV ENV_VARIABLE_ENVIRONMENT ${EXECUTION_ENV}\nRUN echo $ENV_VARIABLE_ENVIRONMENT\n\nADD pom.xml /var/server/pom.xml\nADD src /var/server/src\n\nRUN mvn clean install\n\nADD config.yml  /var/server/\n\nFROM public.ecr.aws/amazoncorretto/amazoncorretto:17\n\nWORKDIR /var/server\nCOPY --from=build /var/server/target/server-1.0-SNAPSHOT.jar /var/server/target/server-1.0-SNAPSHOT.jar\nCOPY --from=build /var/server/config.yml /var/server/config.yml\n\nEXPOSE 8080\n\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;target/server-1.0-SNAPSHOT.jar&quot;, &quot;server&quot;, &quot;config.yml&quot;]\n</code></pre>\n<p>Within my application, I have configured the below</p>\n<pre><code>bootstrap.setConfigurationSourceProvider(\n                new SubstitutingSourceProvider(path -&gt; Thread.currentThread().getContextClassLoader().getResourceAsStream(path),\n                        new EnvironmentVariableSubstitutor(false)));\n</code></pre>\n<p>When i run the pipeline, i observed that the environment variable ENV_VARIABLE_ENVIRONMENT prints the correct value that is passed to it using CodeBuild's environment variable. However, within the application, when i try <code>System.getenv(&quot;ENV_VARIABLE_ENVIRONMENT&quot;)</code>, that returns null.</p>\n<p>Why is the environment variable not available in the container when the app is run?</p>\n"},{"tags":["java","android","sql","android-recyclerview","pagination"],"comments":[{"owner":{"account_id":3404352,"reputation":890,"user_id":2855810,"display_name":"Ergin Ersoy"},"score":0,"creation_date":1552603347,"post_id":55115902,"comment_id":97085237,"body_markdown":"i suggest you to use new Android paging library instead of using scroll listener. It is highly satisfying. Then you can look at https://stackoverflow.com/questions/50074882/how-to-implement-swiperefreshlayout-with-the-new-paging-library this answer and modify it for your application.","body":"i suggest you to use new Android paging library instead of using scroll listener. It is highly satisfying. Then you can look at <a href=\"https://stackoverflow.com/questions/50074882/how-to-implement-swiperefreshlayout-with-the-new-paging-library\" title=\"how to implement swiperefreshlayout with the new paging library\">stackoverflow.com/questions/50074882/&hellip;</a> this answer and modify it for your application."},{"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"score":0,"creation_date":1552604958,"post_id":55115902,"comment_id":97085709,"body_markdown":"@ErginErsoy It&#39;s not an paging issue. As user said paging works correctly but there is data showing wrong place its more of array and sqlite issue than paging","body":"@ErginErsoy It&#39;s not an paging issue. As user said paging works correctly but there is data showing wrong place its more of array and sqlite issue than paging"},{"owner":{"account_id":2128241,"reputation":3579,"user_id":1889768,"accept_rate":85,"display_name":"Abbas"},"score":0,"creation_date":1552626245,"post_id":55115902,"comment_id":97090239,"body_markdown":"I think you&#39;re looking for something like this [TwoWay-Endless RecyclerView](https://github.com/abbasshah17/TwoWay-EndlessRecyclerView).","body":"I think you&#39;re looking for something like this <a href=\"https://github.com/abbasshah17/TwoWay-EndlessRecyclerView\" rel=\"nofollow noreferrer\">TwoWay-Endless RecyclerView</a>."},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1552652363,"post_id":55115902,"comment_id":97102783,"body_markdown":"@Abbas You right but can you let me know how to do this according to my code","body":"@Abbas You right but can you let me know how to do this according to my code"}],"answers":[{"tags":[],"owner":{"account_id":3788825,"reputation":23829,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552378782,"creation_date":1552376111,"answer_id":55116246,"question_id":55115902,"body_markdown":"**Update**\r\n\r\nNow I think, the problem is with your database query. I assume that whenever a new message is typed, it is stored in the database with the highest `ID` that makes it the latest in your database table organization. Hence, the `getLimitUserChat` should never return the latest message if you are setting the offset correctly. \r\n\r\n----\r\n\r\nI do not know what the `dataBaseAsync.execute` function do. I assume, it adds more elements into the `ArrayList` and calls the `notifyDateSetChanged`. \r\n\r\nHence the data should be populated in your `RecyclerView` in proper order if the addition of the newly fetched data to the `ArrayList` is correct. However, you might also notice that each time new paginated data is adding, your `RecyclerView` might scroll to the bottom as the reverse layout is enabled - which you might not want for a chat application. \r\n\r\nHence to keep the `RecyclerView` at the same place before loading new data you need to save the state of the `RecyclerView` and restore the state when the new data is fetched. Here is the code for storing the `RecyclerView` state and getting back into the same state. \r\n\r\n    // Save state\r\n    private Parcelable recyclerViewState;\r\n    recyclerViewState = recyclerView.getLayoutManager().onSaveInstanceState();\r\n    \r\n    // Restore state\r\n    recyclerView.getLayoutManager().onRestoreInstanceState(recyclerViewState);\r\n\r\nAnd I would like to suggest you set the `LayoutManager` like the following. \r\n\r\n    layoutManager.setReverseLayout(true);\r\n    layoutManager.setStackFromEnd(true);\r\n    recyclerView.setLayoutManager(layoutManager);\r\n    recyclerView.setAdapter(adapter);\r\n\r\nPlease double check if the `ArrayList` is populated correctly (i.e. new data at the top of the list and older data at the bottom). \r\n\r\nHope that helps! \r\n\r\nPlease remove the following from your `onPostExecute`. \r\n\r\n    if (message.size() &gt; 2){\r\n        recyclerView.smoothScrollToPosition(message.size()-1);\r\n    } else {\r\n        recyclerView.smoothScrollToPosition(layoutManager.getItemCount());\r\n    }\r\n\r\nAnd also add necessary `null` checkings in the `preExecute`. ","title":"Recycler chat Pagination add new message at top","body":"<p><strong>Update</strong></p>\n\n<p>Now I think, the problem is with your database query. I assume that whenever a new message is typed, it is stored in the database with the highest <code>ID</code> that makes it the latest in your database table organization. Hence, the <code>getLimitUserChat</code> should never return the latest message if you are setting the offset correctly. </p>\n\n<hr>\n\n<p>I do not know what the <code>dataBaseAsync.execute</code> function do. I assume, it adds more elements into the <code>ArrayList</code> and calls the <code>notifyDateSetChanged</code>. </p>\n\n<p>Hence the data should be populated in your <code>RecyclerView</code> in proper order if the addition of the newly fetched data to the <code>ArrayList</code> is correct. However, you might also notice that each time new paginated data is adding, your <code>RecyclerView</code> might scroll to the bottom as the reverse layout is enabled - which you might not want for a chat application. </p>\n\n<p>Hence to keep the <code>RecyclerView</code> at the same place before loading new data you need to save the state of the <code>RecyclerView</code> and restore the state when the new data is fetched. Here is the code for storing the <code>RecyclerView</code> state and getting back into the same state. </p>\n\n<pre><code>// Save state\nprivate Parcelable recyclerViewState;\nrecyclerViewState = recyclerView.getLayoutManager().onSaveInstanceState();\n\n// Restore state\nrecyclerView.getLayoutManager().onRestoreInstanceState(recyclerViewState);\n</code></pre>\n\n<p>And I would like to suggest you set the <code>LayoutManager</code> like the following. </p>\n\n<pre><code>layoutManager.setReverseLayout(true);\nlayoutManager.setStackFromEnd(true);\nrecyclerView.setLayoutManager(layoutManager);\nrecyclerView.setAdapter(adapter);\n</code></pre>\n\n<p>Please double check if the <code>ArrayList</code> is populated correctly (i.e. new data at the top of the list and older data at the bottom). </p>\n\n<p>Hope that helps! </p>\n\n<p>Please remove the following from your <code>onPostExecute</code>. </p>\n\n<pre><code>if (message.size() &gt; 2){\n    recyclerView.smoothScrollToPosition(message.size()-1);\n} else {\n    recyclerView.smoothScrollToPosition(layoutManager.getItemCount());\n}\n</code></pre>\n\n<p>And also add necessary <code>null</code> checkings in the <code>preExecute</code>. </p>\n"},{"tags":[],"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650007521,"creation_date":1552680343,"answer_id":55189968,"question_id":55115902,"body_markdown":"Whenever you add new item into your chat screen(arraylist) dont go with `message.add(Video);` instead add item at 0 position like this `message.add(0,Video);` which will add items at bottom of screen(top of array list) than adding top of the screen(last of array list). It will be add into start position of array i.e. `[0]` in your case.","title":"Recycler chat Pagination add new message at top","body":"<p>Whenever you add new item into your chat screen(arraylist) dont go with <code>message.add(Video);</code> instead add item at 0 position like this <code>message.add(0,Video);</code> which will add items at bottom of screen(top of array list) than adding top of the screen(last of array list). It will be add into start position of array i.e. <code>[0]</code> in your case.</p>\n"}],"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3162,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1650007521,"creation_date":1552374637,"question_id":55115902,"body_markdown":"I am working on a chat app where I need to show reverse pagination and show the user&#39;s previous chat when the user scrolls up.\r\n\r\nI am first loading data from `SQLite` database to show the last 10 messages of the user.\r\n\r\n    public Cursor getLimitUserChat(String UserID,int nextChat){\r\n        Log.d(TAG,&quot;Get Single Row Running= ID &quot;+UserID);\r\n        database=this.getReadableDatabase();\r\n        cursor = database.rawQuery(&quot;SELECT * FROM &quot; + TABLE_NAME + &quot; Where &quot;+ RECEIVER_USERID +&quot;=&quot;+ UserID+&quot; ORDER BY ID DESC LIMIT 10 OFFSET &quot;+nextChat,null);\r\n        return cursor;\r\n    }\r\n\r\nThen I add a cursor to the custom `ArrayList`\r\n\r\n    private  class databaseAsync extends AsyncTask&lt;Void,Void,Void&gt; {\r\n        boolean checkDB_Exist,chatItemsCounts;\r\n        private Parcelable recyclerViewState;\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            Log.d(TAG,&quot;Chat Database Function &quot;+databaseChatValue);\r\n            if (databaseChatValue == 0){\r\n                message.clear();\r\n            }\r\n            recyclerViewState = recyclerView.getLayoutManager().onSaveInstanceState();\r\n    \r\n    \r\n            //chatCursor=chat_database.getUserChat(UserID_Intent);\r\n            chatCount = chat_database.getUserChatCount(UserID_Intent);\r\n            chatCursor=chat_database.getLimitUserChat(UserID_Intent,databaseChatValue);\r\n            checkDB_Exist=functions.DatabaseExist(getActivity(),&quot;CHAT_DATABASE.DB&quot;);\r\n            chatItemsCounts=chatCursor.getCount()&gt;0;\r\n            chatCursor.moveToFirst();\r\n            Log.d(TAG,&quot;Chat Cursor &quot;+ chatCursor.getCount());\r\n            Log.d(TAG,&quot;Total Chat Counts &quot;+chatCount);\r\n        }\r\n    \r\n        @Override\r\n        protected Void doInBackground(Void... voids) {\r\n            if (checkDB_Exist &amp;&amp; chatCursor.getCount()&gt;0 &amp;&amp; chatCursor.getString(chatCursor.getColumnIndex(&quot;RECEIVER_USER_ID&quot;)).equals(UserID_Intent)) {\r\n                chatCursor.moveToFirst();\r\n                do {\r\n                    database_rowID = chatCursor.getInt(chatCursor.getColumnIndex(&quot;ID&quot;));\r\n                    database_userID = chatCursor.getString(chatCursor.getColumnIndex(&quot;USER_ID&quot;));\r\n                    database_RoomName = chatCursor.getString(chatCursor.getColumnIndex(&quot;ROOM_NAME&quot;));\r\n                    database_ReceiverID = chatCursor.getString(chatCursor.getColumnIndex(&quot;RECEIVER_USER_ID&quot;));\r\n                    database_MessageType = chatCursor.getString(chatCursor.getColumnIndex(&quot;MESSAGE_TYPE&quot;));\r\n                    database_Message = chatCursor.getString(chatCursor.getColumnIndex(&quot;USER_MESSAGE&quot;));\r\n                    database_MsgFrom = chatCursor.getString(chatCursor.getColumnIndex(&quot;SENDER_NAME&quot;));\r\n                    database_MsgTo = chatCursor.getString(chatCursor.getColumnIndex(&quot;RECEIVER_NAME&quot;));\r\n                    database_TimeStamp = chatCursor.getString(chatCursor.getColumnIndex(&quot;TIME_STAMP&quot;));\r\n                    database_FCMfrom = chatCursor.getString(chatCursor.getColumnIndex(&quot;SENDER_TOKEN&quot;));\r\n                    database_FCMto = chatCursor.getString(chatCursor.getColumnIndex(&quot;RECEIVER_TOKEN&quot;));\r\n                    database_LocalPath = chatCursor.getString(chatCursor.getColumnIndex(&quot;DOWNLOADED_AT&quot;));\r\n                    database_PhoneFrom = chatCursor.getString(chatCursor.getColumnIndex(&quot;MY_PHONE&quot;));\r\n                    database_PhoneTo = chatCursor.getString(chatCursor.getColumnIndex(&quot;OTHER_PHONE&quot;));\r\n    \r\n                    Log.d(TAG, &quot;Value Of Database Message String = &quot; + database_Message);\r\n                    Log.d(TAG, &quot;Row ID of Database &quot; + database_rowID);\r\n                    // Check Message Type\r\n                    if (true) {\r\n    \r\n                        if (database_MessageType.equals(&quot;Image&quot;)) {\r\n                            Log.d(TAG, &quot;Message Type Is Image&quot;);\r\n                            Log.d(TAG, &quot;Row ID of Database &quot; + database_rowID);\r\n                            Chat_Wrapper image = new Chat_Wrapper(null, database_Message, null, null, null, null, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\r\n                            message.add(image);\r\n                        } else if (database_MessageType.equals(&quot;GIF&quot;)) {\r\n                            Chat_Wrapper image = new Chat_Wrapper(null, database_Message, null, null, null, null, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\r\n                            message.add(image);\r\n                        } else if (database_MessageType.equals(&quot;Video&quot;) || (database_MessageType.equals(&quot;Youtube_Video&quot;))) {\r\n                            Log.d(TAG, &quot;Message Type Is Video&quot;);\r\n                            Chat_Wrapper Video = new Chat_Wrapper(null, null, database_Message, null, null, null, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\r\n                            message.add(Video);\r\n                        } else if (database_MessageType.equals(&quot;Audio&quot;)) {\r\n                            Log.d(TAG, &quot;Message Type Is Audio&quot;);\r\n                            Chat_Wrapper Audio = new Chat_Wrapper(null, null, null, database_Message, null, null, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\r\n                            message.add(Audio);\r\n                        } else if (database_MessageType.equals(&quot;Documents&quot;)) {\r\n                            Log.d(TAG, &quot;Message Type Is Documents&quot;);\r\n                            Chat_Wrapper Docs = new Chat_Wrapper(null, null, null, null, database_Message, null, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\r\n                            message.add(Docs);\r\n                        } else if (database_MessageType.equals(&quot;Location&quot;)) {\r\n                            Log.d(TAG, &quot;Message Type Is Location&quot;);\r\n                            Chat_Wrapper Location = new Chat_Wrapper(null, null, null, null, null, database_Message, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\r\n                            message.add(Location);\r\n                        } else if (database_MessageType.equals(&quot;Geofence&quot;)) {\r\n                            Log.d(TAG, &quot;Message Type Is Geofence&quot;);\r\n                            Chat_Wrapper GeoFence = new Chat_Wrapper(null, null, null, null, null, null, null, Chat_TimeStamp, UserPhone_Intent, UserImage_Intent, database_MsgFrom, database_Message, null, database_rowID);\r\n                            message.add(GeoFence);\r\n                        } else if (database_MessageType.equals(&quot;Contacts&quot;)) {\r\n                            Log.d(TAG, &quot;Message Type Is Contacts&quot;);\r\n                            Chat_Wrapper Contacts = new Chat_Wrapper(null, null, null, null, null, null, database_Message, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\r\n                            message.add(Contacts);\r\n                        } else if (database_MessageType.equals(&quot;Online Media&quot;)) {\r\n                            Log.d(TAG, &quot;Message Type Is Online Media&quot;);\r\n                            Chat_Wrapper Online_Media = new Chat_Wrapper(null, null, database_Message, null, null, null, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\r\n                            message.add(Online_Media);\r\n                        } else if (database_MessageType.equals(&quot;Text&quot;)) {\r\n                            Log.d(TAG, &quot;Message Type Is Text&quot;);\r\n                            Chat_Wrapper text = new Chat_Wrapper(database_Message, null, null, null, null, null, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\r\n                            message.add(text);\r\n                        } else if (database_MessageType.equals(&quot;Google_Search&quot;)) {\r\n                            Log.d(TAG, &quot;Message Type Is Google Search&quot;);\r\n                            List&lt;String&gt; gSearch = new ArrayList&lt;&gt;();\r\n                            gSearch.add(database_Message);\r\n                            Chat_Wrapper GoogleSearch = new Chat_Wrapper(null, null, null, null, null, null, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, gSearch, database_rowID);\r\n                            message.add(GoogleSearch);\r\n                        }\r\n                    }\r\n                    }\r\n                    while (chatCursor.moveToNext()) ;\r\n                    Room_Name_Intent = database_RoomName;\r\n                    chatCursor.close();\r\n                    boolean value = chat_database.isDatabaseClose();\r\n                    Log.d(TAG, &quot;Value Of Database Close or Not &quot; + value);\r\n                }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        protected void onPostExecute(Void aVoid) {\r\n            super.onPostExecute(aVoid);\r\n            recyclerView.getLayoutManager().onRestoreInstanceState(recyclerViewState);\r\n            adapter.notifyDataSetChanged();\r\n            if (message.size()&gt;2){\r\n                recyclerView.smoothScrollToPosition(message.size()-1);\r\n            }else {\r\n                recyclerView.smoothScrollToPosition(layoutManager.getItemCount());\r\n            }\r\n            Log.d(TAG,&quot;Chat Database  &quot;+database_OFFSET);\r\n            database_OFFSET +=10;\r\n            Log.d(TAG,&quot;Chat Database  &quot;+database_OFFSET);\r\n        }\r\n    }\r\n\r\nI also have made `RecyclerView` and `LayoutManager` settings like this\r\n\r\n    layoutManager.setStackFromEnd(true);\r\n    layoutManager.setReverseLayout(true);\r\n    recyclerView.setHasFixedSize(true);\r\n    recyclerView.setLayoutManager(layoutManager);\r\n    recyclerView.setAdapter(adapter);\r\n\r\nAt first load, it fetches total 10 result from the local database but as soon as it loads into screen first, it loads in the correct order (Latest message at the end and older at the top). But `RecyclerView` doesn&#39;t scroll at bottom automatically. At the start, it loads from the top and when I scroll it calls the following method. \r\n\r\n    recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n        @Override\r\n        public void onScrollStateChanged(RecyclerView recyclerView, int newState) {\r\n            super.onScrollStateChanged(recyclerView, newState);\r\n            if (newState == AbsListView.OnScrollListener.SCROLL_STATE_TOUCH_SCROLL){\r\n                Log.d(TAG,&quot;Hello I am scrolling screen &quot;);\r\n                isScrolling = true;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\r\n            super.onScrolled(recyclerView, dx, dy);\r\n            currentVisible = layoutManager.getChildCount();\r\n            TotalItems = layoutManager.getItemCount();\r\n            scrolledOutItems = layoutManager.findFirstVisibleItemPosition();\r\n            int check = TotalItems - currentVisible+scrolledOutItems;\r\n            Log.d(TAG,&quot;Current Visible = &quot;+currentVisible+&quot; Total = &quot;+TotalItems+&quot; Scrolled Out Items = &quot;+scrolledOutItems+&quot; Check = &quot;+check);\r\n\r\n            if (isScrolling &amp;&amp; TotalItems == currentVisible + scrolledOutItems ){\r\n                Log.d(TAG,&quot;Fetch Data Now &quot;+databaseChatValue);\r\n                if (chatCount &gt; databaseChatValue){\r\n                    Log.d(TAG,&quot;Total item count is more than database = &quot;+chatCount +&quot; &quot;+databaseChatValue);\r\n                    new databaseAsync().execute();\r\n                    isScrolling = false;\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\nAnd loads another into screen.\r\n\r\n***Issues In Code***\r\n\r\n - When Set `layoutManager.setStackFromEnd(true);` without `layoutManager.setReverseLayout(true);` pagination works at bottom of last message and also new message adds at bottom\r\n- When Set `layoutManager.setReverseLayout(true);` pagination works as required but new message stacked at top of the oldest message.\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Update** :I notice my newest message has index number in array [0] and my last message after scrolls to oldest message [21]. So when i typed new message into my chat box it assign to [22] in array and shows above oldest message at top not at the bottom of the screen.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/blf2N.jpg\r\n  [2]: https://i.stack.imgur.com/cieSq.jpg","title":"Recycler chat Pagination add new message at top","body":"<p>I am working on a chat app where I need to show reverse pagination and show the user's previous chat when the user scrolls up.</p>\n\n<p>I am first loading data from <code>SQLite</code> database to show the last 10 messages of the user.</p>\n\n<pre><code>public Cursor getLimitUserChat(String UserID,int nextChat){\n    Log.d(TAG,\"Get Single Row Running= ID \"+UserID);\n    database=this.getReadableDatabase();\n    cursor = database.rawQuery(\"SELECT * FROM \" + TABLE_NAME + \" Where \"+ RECEIVER_USERID +\"=\"+ UserID+\" ORDER BY ID DESC LIMIT 10 OFFSET \"+nextChat,null);\n    return cursor;\n}\n</code></pre>\n\n<p>Then I add a cursor to the custom <code>ArrayList</code></p>\n\n<pre><code>private  class databaseAsync extends AsyncTask&lt;Void,Void,Void&gt; {\n    boolean checkDB_Exist,chatItemsCounts;\n    private Parcelable recyclerViewState;\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        Log.d(TAG,\"Chat Database Function \"+databaseChatValue);\n        if (databaseChatValue == 0){\n            message.clear();\n        }\n        recyclerViewState = recyclerView.getLayoutManager().onSaveInstanceState();\n\n\n        //chatCursor=chat_database.getUserChat(UserID_Intent);\n        chatCount = chat_database.getUserChatCount(UserID_Intent);\n        chatCursor=chat_database.getLimitUserChat(UserID_Intent,databaseChatValue);\n        checkDB_Exist=functions.DatabaseExist(getActivity(),\"CHAT_DATABASE.DB\");\n        chatItemsCounts=chatCursor.getCount()&gt;0;\n        chatCursor.moveToFirst();\n        Log.d(TAG,\"Chat Cursor \"+ chatCursor.getCount());\n        Log.d(TAG,\"Total Chat Counts \"+chatCount);\n    }\n\n    @Override\n    protected Void doInBackground(Void... voids) {\n        if (checkDB_Exist &amp;&amp; chatCursor.getCount()&gt;0 &amp;&amp; chatCursor.getString(chatCursor.getColumnIndex(\"RECEIVER_USER_ID\")).equals(UserID_Intent)) {\n            chatCursor.moveToFirst();\n            do {\n                database_rowID = chatCursor.getInt(chatCursor.getColumnIndex(\"ID\"));\n                database_userID = chatCursor.getString(chatCursor.getColumnIndex(\"USER_ID\"));\n                database_RoomName = chatCursor.getString(chatCursor.getColumnIndex(\"ROOM_NAME\"));\n                database_ReceiverID = chatCursor.getString(chatCursor.getColumnIndex(\"RECEIVER_USER_ID\"));\n                database_MessageType = chatCursor.getString(chatCursor.getColumnIndex(\"MESSAGE_TYPE\"));\n                database_Message = chatCursor.getString(chatCursor.getColumnIndex(\"USER_MESSAGE\"));\n                database_MsgFrom = chatCursor.getString(chatCursor.getColumnIndex(\"SENDER_NAME\"));\n                database_MsgTo = chatCursor.getString(chatCursor.getColumnIndex(\"RECEIVER_NAME\"));\n                database_TimeStamp = chatCursor.getString(chatCursor.getColumnIndex(\"TIME_STAMP\"));\n                database_FCMfrom = chatCursor.getString(chatCursor.getColumnIndex(\"SENDER_TOKEN\"));\n                database_FCMto = chatCursor.getString(chatCursor.getColumnIndex(\"RECEIVER_TOKEN\"));\n                database_LocalPath = chatCursor.getString(chatCursor.getColumnIndex(\"DOWNLOADED_AT\"));\n                database_PhoneFrom = chatCursor.getString(chatCursor.getColumnIndex(\"MY_PHONE\"));\n                database_PhoneTo = chatCursor.getString(chatCursor.getColumnIndex(\"OTHER_PHONE\"));\n\n                Log.d(TAG, \"Value Of Database Message String = \" + database_Message);\n                Log.d(TAG, \"Row ID of Database \" + database_rowID);\n                // Check Message Type\n                if (true) {\n\n                    if (database_MessageType.equals(\"Image\")) {\n                        Log.d(TAG, \"Message Type Is Image\");\n                        Log.d(TAG, \"Row ID of Database \" + database_rowID);\n                        Chat_Wrapper image = new Chat_Wrapper(null, database_Message, null, null, null, null, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\n                        message.add(image);\n                    } else if (database_MessageType.equals(\"GIF\")) {\n                        Chat_Wrapper image = new Chat_Wrapper(null, database_Message, null, null, null, null, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\n                        message.add(image);\n                    } else if (database_MessageType.equals(\"Video\") || (database_MessageType.equals(\"Youtube_Video\"))) {\n                        Log.d(TAG, \"Message Type Is Video\");\n                        Chat_Wrapper Video = new Chat_Wrapper(null, null, database_Message, null, null, null, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\n                        message.add(Video);\n                    } else if (database_MessageType.equals(\"Audio\")) {\n                        Log.d(TAG, \"Message Type Is Audio\");\n                        Chat_Wrapper Audio = new Chat_Wrapper(null, null, null, database_Message, null, null, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\n                        message.add(Audio);\n                    } else if (database_MessageType.equals(\"Documents\")) {\n                        Log.d(TAG, \"Message Type Is Documents\");\n                        Chat_Wrapper Docs = new Chat_Wrapper(null, null, null, null, database_Message, null, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\n                        message.add(Docs);\n                    } else if (database_MessageType.equals(\"Location\")) {\n                        Log.d(TAG, \"Message Type Is Location\");\n                        Chat_Wrapper Location = new Chat_Wrapper(null, null, null, null, null, database_Message, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\n                        message.add(Location);\n                    } else if (database_MessageType.equals(\"Geofence\")) {\n                        Log.d(TAG, \"Message Type Is Geofence\");\n                        Chat_Wrapper GeoFence = new Chat_Wrapper(null, null, null, null, null, null, null, Chat_TimeStamp, UserPhone_Intent, UserImage_Intent, database_MsgFrom, database_Message, null, database_rowID);\n                        message.add(GeoFence);\n                    } else if (database_MessageType.equals(\"Contacts\")) {\n                        Log.d(TAG, \"Message Type Is Contacts\");\n                        Chat_Wrapper Contacts = new Chat_Wrapper(null, null, null, null, null, null, database_Message, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\n                        message.add(Contacts);\n                    } else if (database_MessageType.equals(\"Online Media\")) {\n                        Log.d(TAG, \"Message Type Is Online Media\");\n                        Chat_Wrapper Online_Media = new Chat_Wrapper(null, null, database_Message, null, null, null, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\n                        message.add(Online_Media);\n                    } else if (database_MessageType.equals(\"Text\")) {\n                        Log.d(TAG, \"Message Type Is Text\");\n                        Chat_Wrapper text = new Chat_Wrapper(database_Message, null, null, null, null, null, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, null, database_rowID);\n                        message.add(text);\n                    } else if (database_MessageType.equals(\"Google_Search\")) {\n                        Log.d(TAG, \"Message Type Is Google Search\");\n                        List&lt;String&gt; gSearch = new ArrayList&lt;&gt;();\n                        gSearch.add(database_Message);\n                        Chat_Wrapper GoogleSearch = new Chat_Wrapper(null, null, null, null, null, null, null, database_TimeStamp, database_PhoneTo, UserImage_Intent, database_MsgFrom, null, gSearch, database_rowID);\n                        message.add(GoogleSearch);\n                    }\n                }\n                }\n                while (chatCursor.moveToNext()) ;\n                Room_Name_Intent = database_RoomName;\n                chatCursor.close();\n                boolean value = chat_database.isDatabaseClose();\n                Log.d(TAG, \"Value Of Database Close or Not \" + value);\n            }\n\n        return null;\n    }\n\n    @Override\n    protected void onPostExecute(Void aVoid) {\n        super.onPostExecute(aVoid);\n        recyclerView.getLayoutManager().onRestoreInstanceState(recyclerViewState);\n        adapter.notifyDataSetChanged();\n        if (message.size()&gt;2){\n            recyclerView.smoothScrollToPosition(message.size()-1);\n        }else {\n            recyclerView.smoothScrollToPosition(layoutManager.getItemCount());\n        }\n        Log.d(TAG,\"Chat Database  \"+database_OFFSET);\n        database_OFFSET +=10;\n        Log.d(TAG,\"Chat Database  \"+database_OFFSET);\n    }\n}\n</code></pre>\n\n<p>I also have made <code>RecyclerView</code> and <code>LayoutManager</code> settings like this</p>\n\n<pre><code>layoutManager.setStackFromEnd(true);\nlayoutManager.setReverseLayout(true);\nrecyclerView.setHasFixedSize(true);\nrecyclerView.setLayoutManager(layoutManager);\nrecyclerView.setAdapter(adapter);\n</code></pre>\n\n<p>At first load, it fetches total 10 result from the local database but as soon as it loads into screen first, it loads in the correct order (Latest message at the end and older at the top). But <code>RecyclerView</code> doesn't scroll at bottom automatically. At the start, it loads from the top and when I scroll it calls the following method. </p>\n\n<pre><code>recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\n    @Override\n    public void onScrollStateChanged(RecyclerView recyclerView, int newState) {\n        super.onScrollStateChanged(recyclerView, newState);\n        if (newState == AbsListView.OnScrollListener.SCROLL_STATE_TOUCH_SCROLL){\n            Log.d(TAG,\"Hello I am scrolling screen \");\n            isScrolling = true;\n        }\n    }\n\n    @Override\n    public void onScrolled(RecyclerView recyclerView, int dx, int dy) {\n        super.onScrolled(recyclerView, dx, dy);\n        currentVisible = layoutManager.getChildCount();\n        TotalItems = layoutManager.getItemCount();\n        scrolledOutItems = layoutManager.findFirstVisibleItemPosition();\n        int check = TotalItems - currentVisible+scrolledOutItems;\n        Log.d(TAG,\"Current Visible = \"+currentVisible+\" Total = \"+TotalItems+\" Scrolled Out Items = \"+scrolledOutItems+\" Check = \"+check);\n\n        if (isScrolling &amp;&amp; TotalItems == currentVisible + scrolledOutItems ){\n            Log.d(TAG,\"Fetch Data Now \"+databaseChatValue);\n            if (chatCount &gt; databaseChatValue){\n                Log.d(TAG,\"Total item count is more than database = \"+chatCount +\" \"+databaseChatValue);\n                new databaseAsync().execute();\n                isScrolling = false;\n            }\n        }\n    }\n});\n</code></pre>\n\n<p>And loads another into screen.</p>\n\n<p><strong><em>Issues In Code</em></strong></p>\n\n<ul>\n<li>When Set <code>layoutManager.setStackFromEnd(true);</code> without <code>layoutManager.setReverseLayout(true);</code> pagination works at bottom of last message and also new message adds at bottom\n\n<ul>\n<li>When Set <code>layoutManager.setReverseLayout(true);</code> pagination works as required but new message stacked at top of the oldest message.</li>\n</ul></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/blf2N.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/blf2N.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Update</strong> :I notice my newest message has index number in array [0] and my last message after scrolls to oldest message [21]. So when i typed new message into my chat box it assign to [22] in array and shows above oldest message at top not at the bottom of the screen.</p>\n\n<p><a href=\"https://i.stack.imgur.com/cieSq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cieSq.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","oop","design-patterns","dependency-injection","language-agnostic"],"comments":[{"owner":{"account_id":48846,"reputation":24270,"user_id":145279,"accept_rate":88,"display_name":"Will"},"score":0,"creation_date":1431263648,"post_id":30147918,"comment_id":48410965,"body_markdown":"Can anyone downvoting or close-voting please comment as to how to improve this question?","body":"Can anyone downvoting or close-voting please comment as to how to improve this question?"}],"answers":[{"tags":[],"owner":{"account_id":97618,"reputation":168076,"user_id":264697,"accept_rate":100,"display_name":"Steven"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1650007364,"creation_date":1431281232,"answer_id":30154849,"question_id":30147918,"body_markdown":"The [Dependency Inversion Principle][1] and, more specifically, Dependency Injection tackle the problem of how make application code _loosely coupled_. This means that in many cases you want to prevent the classes in your application from depending on other concrete types, in case those dependent types contain [_volatile_ behavior][2]. A volatile dependency is a dependency that, among other things, communicates with out-of-process resources, is non-deterministic, or needs to be replaceable. Tightly coupling to volatile dependencies hinders testability, but also limits the maintainability and flexibility of your application.\r\n\r\nBut no matter what you do, and no matter how many abstractions you introduce, somewhere in your application you need to take a dependency on a concrete type. So you can’t get rid of this coupling completely—but this shouldn&#39;t be a problem: An application that is 100% abstract is also 100% useless.\r\n\r\nWhat this means is that you want to reduce the amount of coupling between classes and modules in your application, and the best way of doing that is to have a single place in the application that depends on all concrete types and will instantiate that for you. This is most beneficial because:\r\n\r\n - You will only have one place in the application that knows about the composition of object graphs, instead of having this knowledge scattered throughout the application\r\n - You will only have one place to change if you want to change implementations, or intercept/decorate instances to apply cross-cutting concerns.\r\n\r\nThis place where you wire everything up should be in your entry-point assembly. It should be the entry-point assembly, because this assembly already depends on all other assemblies anyway, making it already the most volatile part of your application.\r\n\r\nAccording to the [Stable-Dependencies Principle][3] ([2][4]) dependencies should point in direction of stability, and since the part of the application where you compose your object graphs will be the most volatile part, nothing should depend on it. That’s why this place where you compose your object graphs should be in your entry point assembly.\r\n\r\nThis entry point in the application where you compose your object graphs is commonly referred to as the [Composition Root][5].\r\n\r\nIf you feel that `EmployeeInventoryAnswerer` should not know anything about databases and `InventoryCatalogs`, it might be the case that the `EmployeeInventoryAnswerer` is mixing infrastructural logic (to build up the object graphs) and application logic. Iin other words, it might be violating the [Single Responsibility Principle][6]. In that case your `EmployeeInventoryAnswerer` should not be the entry point. Instead you should have a different entry point and the `EmployeeInventoryAnswerer` should only get a `StoreInventoryManager` injected. Your new entry point can than build up the object graph starting with `EmployeeInventoryAnswerer` and call its `AnswerInventoryQuestion` method (or whatever you decide to call it).\r\n\r\n&gt; where&#39;s the balance between testable code with injected dependencies,\r\n&gt; and information-hiding as a principal of abstraction?\r\n\r\nThe constructor is an implementation detail. Only the Composition Root knows about concrete types and it is, therefore, the only one calling those constructors. When a consuming class depends on abstractions as its incoming/injected dependencies (e.g. by specifying its constructor arguments as abstractions), the consumer knows nothing about the implementation and that makes it easier to prevent leaking implementation details onto the consumer. If the abstraction itself would leak implementation details, on the other hand, it would violate the [Dependency Inversion Principle][1]. And if the consumer would decide to cast the dependency back to the implementation, it would in turn violate the [Liskov Substitition Principle][7]. Both violations should be prevented.\r\n\r\nBut even if you would have a consumer that depends on a concrete component, that component can still do information-hiding—it doesn&#39;t have to expose its own dependencies (or other values) through public properties. And the fact that this component has a constructor that takes in the component&#39;s dependencies, does not make it violate information-hiding, because it is impossible to retrieve the component&#39;s dependencies through its constructor (you can only insert dependencies through the constructor; not receive them). And you can&#39;t change the component&#39;s dependencies, because that component itself will be injected into the consumer, and you can&#39;t call a constructor on an already created instance.\r\n\r\nAs I see it, when talking about a &quot;balance,&quot; you are providing a false choice. Instead, it&#39;s a matter of applying the [SOLID][8] principles correctly, because without applying the SOLID principles, you&#39;ll be in a bad place (from a maintainability perspective) anyway—and application of the SOLID principles undoubtedly leads to Dependency Injection.\r\n\r\n&gt; at what &quot;layer&quot; of the call-graph is it appropriate to create and pass around a database connector\r\n\r\nAt the very least, the entry point knows about the database connection, because it is only the entry point that should read from the configuration file. Reading from the configuration file should be done up front and in one single place. This allows the application to fail fast if it is misconfigured and prevents you from having reads to the config file scattered throughout your application.\r\n\r\nBut whether the entry point should be responsible of creating the database connection, that can depend on a lot of factors. I usually have some sort of `ConnectionFactory` abstraction for this, but YMMV.\r\n\r\n**UPDATE**\r\n\r\n&gt; I don&#39;t want to pass around a Context or an AppConfig to everything and end up passing dependencies classes don&#39;t need\r\n\r\nPassing dependencies a class itself doesn&#39;t need is typically not the best solution, and might indicate that you are violating the Dependency Inversion Principle and applying the [Control Freak anti-pattern][9]. Here&#39;s an example of such problem:\r\n\r\n``` c#\r\npublic class Service : ServiceAbs\r\n{\r\n    private IOtherService otherService;\r\n\r\n    public Service(IDep1 dep1, IDep2 dep2, IDep3 dep3) {\r\n        this.otherService = new OtherService(dep1, dep2, dep3);\r\n    } \r\n}\r\n```\r\n\r\nHere you see a class `Service` that takes in 3 dependencies, but it doesn&#39;t use them *at all*. It only forwards them to the `OtherService`&#39;s constructor which it creates. When `OtherService` is not *local* to `Service` (i.e. lives in a different module or layer), it means that `Service` violates the Dependency Inversion Principle—`Service` is now tightly coupled with `OtherService`. Instead, this is how `Service` should look like:\r\n\r\n``` c#\r\npublic class Service : IService\r\n{\r\n    private IOtherService otherService;\r\n\r\n    public Service(IOtherService otherService) {\r\n        this.otherService = otherService;\r\n    } \r\n}\r\n```\r\n\r\nHere `Service` only takes in what it really needs and doesn&#39;t depend on any concrete types.\r\n\r\n&gt; but I also don&#39;t want to pass the same 4 things to several different classes\r\n\r\nIf you have a group of dependencies that are often all injected together into a consumer, changes are that you are violating the Single Responsibility Principle: the consumer might do too much—know too much.\r\n\r\nThere are several solutions for this, depending on the problem at hand. One thing that comes to mind is [refactoring to Facade Services][10].\r\n\r\nIt might also be the case that those injected dependencies are cross-cutting concerns. It&#39;s often much better to apply cross-cutting concerns transparently, instead of injecting it into dozens or hundreds of consumers (which is a violation of the Open/Closed principle). You can use the [Decorator design pattern][11], [Chain-of-Responsibility design pattern][12], or dynamic interception for this.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Dependency_inversion_principle\r\n  [2]: https://livebook.manning.com/book/dependency-injection-principles-practices-patterns/chapter-1/section-1-3-2\r\n  [3]: https://en.wikipedia.org/wiki/Package_principles\r\n  [4]: https://c2.com/cgi/wiki?StableDependenciesPrinciple\r\n  [5]: https://freecontent.manning.com/dependency-injection-in-net-2nd-edition-understanding-the-composition-root/\r\n  [6]: https://en.wikipedia.org/wiki/Single_responsibility_principle\r\n  [7]: https://en.wikipedia.org/wiki/Liskov_substitution_principle\r\n  [8]: https://en.wikipedia.org/wiki/Solid_%28object-oriented_design%29\r\n  [9]: https://livebook.manning.com/book/dependency-injection-principles-practices-patterns/chapter-5/section-5-1\r\n  [10]: https://blog.ploeh.dk/2010/02/02/RefactoringtoAggregateServices/\r\n  [11]: https://en.wikipedia.org/wiki/Decorator_pattern\r\n  [12]: https://en.wikipedia.org/wiki/Chain-of-responsibility_pattern","title":"Where is the Balance Between Dependency Injection and Abstraction?","body":"<p>The <a href=\"https://en.wikipedia.org/wiki/Dependency_inversion_principle\" rel=\"nofollow noreferrer\">Dependency Inversion Principle</a> and, more specifically, Dependency Injection tackle the problem of how make application code <em>loosely coupled</em>. This means that in many cases you want to prevent the classes in your application from depending on other concrete types, in case those dependent types contain <a href=\"https://livebook.manning.com/book/dependency-injection-principles-practices-patterns/chapter-1/section-1-3-2\" rel=\"nofollow noreferrer\"><em>volatile</em> behavior</a>. A volatile dependency is a dependency that, among other things, communicates with out-of-process resources, is non-deterministic, or needs to be replaceable. Tightly coupling to volatile dependencies hinders testability, but also limits the maintainability and flexibility of your application.</p>\n<p>But no matter what you do, and no matter how many abstractions you introduce, somewhere in your application you need to take a dependency on a concrete type. So you can’t get rid of this coupling completely—but this shouldn't be a problem: An application that is 100% abstract is also 100% useless.</p>\n<p>What this means is that you want to reduce the amount of coupling between classes and modules in your application, and the best way of doing that is to have a single place in the application that depends on all concrete types and will instantiate that for you. This is most beneficial because:</p>\n<ul>\n<li>You will only have one place in the application that knows about the composition of object graphs, instead of having this knowledge scattered throughout the application</li>\n<li>You will only have one place to change if you want to change implementations, or intercept/decorate instances to apply cross-cutting concerns.</li>\n</ul>\n<p>This place where you wire everything up should be in your entry-point assembly. It should be the entry-point assembly, because this assembly already depends on all other assemblies anyway, making it already the most volatile part of your application.</p>\n<p>According to the <a href=\"https://en.wikipedia.org/wiki/Package_principles\" rel=\"nofollow noreferrer\">Stable-Dependencies Principle</a> (<a href=\"https://c2.com/cgi/wiki?StableDependenciesPrinciple\" rel=\"nofollow noreferrer\">2</a>) dependencies should point in direction of stability, and since the part of the application where you compose your object graphs will be the most volatile part, nothing should depend on it. That’s why this place where you compose your object graphs should be in your entry point assembly.</p>\n<p>This entry point in the application where you compose your object graphs is commonly referred to as the <a href=\"https://freecontent.manning.com/dependency-injection-in-net-2nd-edition-understanding-the-composition-root/\" rel=\"nofollow noreferrer\">Composition Root</a>.</p>\n<p>If you feel that <code>EmployeeInventoryAnswerer</code> should not know anything about databases and <code>InventoryCatalogs</code>, it might be the case that the <code>EmployeeInventoryAnswerer</code> is mixing infrastructural logic (to build up the object graphs) and application logic. Iin other words, it might be violating the <a href=\"https://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"nofollow noreferrer\">Single Responsibility Principle</a>. In that case your <code>EmployeeInventoryAnswerer</code> should not be the entry point. Instead you should have a different entry point and the <code>EmployeeInventoryAnswerer</code> should only get a <code>StoreInventoryManager</code> injected. Your new entry point can than build up the object graph starting with <code>EmployeeInventoryAnswerer</code> and call its <code>AnswerInventoryQuestion</code> method (or whatever you decide to call it).</p>\n<blockquote>\n<p>where's the balance between testable code with injected dependencies,\nand information-hiding as a principal of abstraction?</p>\n</blockquote>\n<p>The constructor is an implementation detail. Only the Composition Root knows about concrete types and it is, therefore, the only one calling those constructors. When a consuming class depends on abstractions as its incoming/injected dependencies (e.g. by specifying its constructor arguments as abstractions), the consumer knows nothing about the implementation and that makes it easier to prevent leaking implementation details onto the consumer. If the abstraction itself would leak implementation details, on the other hand, it would violate the <a href=\"https://en.wikipedia.org/wiki/Dependency_inversion_principle\" rel=\"nofollow noreferrer\">Dependency Inversion Principle</a>. And if the consumer would decide to cast the dependency back to the implementation, it would in turn violate the <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">Liskov Substitition Principle</a>. Both violations should be prevented.</p>\n<p>But even if you would have a consumer that depends on a concrete component, that component can still do information-hiding—it doesn't have to expose its own dependencies (or other values) through public properties. And the fact that this component has a constructor that takes in the component's dependencies, does not make it violate information-hiding, because it is impossible to retrieve the component's dependencies through its constructor (you can only insert dependencies through the constructor; not receive them). And you can't change the component's dependencies, because that component itself will be injected into the consumer, and you can't call a constructor on an already created instance.</p>\n<p>As I see it, when talking about a &quot;balance,&quot; you are providing a false choice. Instead, it's a matter of applying the <a href=\"https://en.wikipedia.org/wiki/Solid_%28object-oriented_design%29\" rel=\"nofollow noreferrer\">SOLID</a> principles correctly, because without applying the SOLID principles, you'll be in a bad place (from a maintainability perspective) anyway—and application of the SOLID principles undoubtedly leads to Dependency Injection.</p>\n<blockquote>\n<p>at what &quot;layer&quot; of the call-graph is it appropriate to create and pass around a database connector</p>\n</blockquote>\n<p>At the very least, the entry point knows about the database connection, because it is only the entry point that should read from the configuration file. Reading from the configuration file should be done up front and in one single place. This allows the application to fail fast if it is misconfigured and prevents you from having reads to the config file scattered throughout your application.</p>\n<p>But whether the entry point should be responsible of creating the database connection, that can depend on a lot of factors. I usually have some sort of <code>ConnectionFactory</code> abstraction for this, but YMMV.</p>\n<p><strong>UPDATE</strong></p>\n<blockquote>\n<p>I don't want to pass around a Context or an AppConfig to everything and end up passing dependencies classes don't need</p>\n</blockquote>\n<p>Passing dependencies a class itself doesn't need is typically not the best solution, and might indicate that you are violating the Dependency Inversion Principle and applying the <a href=\"https://livebook.manning.com/book/dependency-injection-principles-practices-patterns/chapter-5/section-5-1\" rel=\"nofollow noreferrer\">Control Freak anti-pattern</a>. Here's an example of such problem:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public class Service : ServiceAbs\n{\n    private IOtherService otherService;\n\n    public Service(IDep1 dep1, IDep2 dep2, IDep3 dep3) {\n        this.otherService = new OtherService(dep1, dep2, dep3);\n    } \n}\n</code></pre>\n<p>Here you see a class <code>Service</code> that takes in 3 dependencies, but it doesn't use them <em>at all</em>. It only forwards them to the <code>OtherService</code>'s constructor which it creates. When <code>OtherService</code> is not <em>local</em> to <code>Service</code> (i.e. lives in a different module or layer), it means that <code>Service</code> violates the Dependency Inversion Principle—<code>Service</code> is now tightly coupled with <code>OtherService</code>. Instead, this is how <code>Service</code> should look like:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public class Service : IService\n{\n    private IOtherService otherService;\n\n    public Service(IOtherService otherService) {\n        this.otherService = otherService;\n    } \n}\n</code></pre>\n<p>Here <code>Service</code> only takes in what it really needs and doesn't depend on any concrete types.</p>\n<blockquote>\n<p>but I also don't want to pass the same 4 things to several different classes</p>\n</blockquote>\n<p>If you have a group of dependencies that are often all injected together into a consumer, changes are that you are violating the Single Responsibility Principle: the consumer might do too much—know too much.</p>\n<p>There are several solutions for this, depending on the problem at hand. One thing that comes to mind is <a href=\"https://blog.ploeh.dk/2010/02/02/RefactoringtoAggregateServices/\" rel=\"nofollow noreferrer\">refactoring to Facade Services</a>.</p>\n<p>It might also be the case that those injected dependencies are cross-cutting concerns. It's often much better to apply cross-cutting concerns transparently, instead of injecting it into dozens or hundreds of consumers (which is a violation of the Open/Closed principle). You can use the <a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow noreferrer\">Decorator design pattern</a>, <a href=\"https://en.wikipedia.org/wiki/Chain-of-responsibility_pattern\" rel=\"nofollow noreferrer\">Chain-of-Responsibility design pattern</a>, or dynamic interception for this.</p>\n"}],"owner":{"account_id":48846,"reputation":24270,"user_id":145279,"accept_rate":88,"display_name":"Will"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1892,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":30154849,"answer_count":1,"score":4,"last_activity_date":1650007364,"creation_date":1431234187,"question_id":30147918,"body_markdown":"Many Architects and Engineers recommend [Dependency Injection](https://en.wikipedia.org/wiki/Dependency_injection) and other [Inversion of Control](https://en.wikipedia.org/wiki/Inversion_of_control) patterns as a way to [improve the testability of your code](https://www.youtube.com/watch?v=XcT4yYu_TTs). There&#39;s no denying that Dependency Injection makes code more testable, *however*, isn&#39;t it also a completing goal to [Abstraction](https://en.wikipedia.org/wiki/Abstraction_(computer_science)) in general?\r\n\r\nI feel conflicted! I wrote an example to illustrate this; it&#39;s not super-realistic and I wouldn&#39;t design it this way, but I needed a quick and simple example of a class structure with multiple dependencies. The first example is without Dependency Injection, and the second uses Injected Dependencies. \r\n\r\n\r\n**Non-DI Example**\r\n\r\n&lt;!-- language-all: java --&gt;\r\n\r\n\tpackage com.stackoverflow.di;\r\n\r\n\r\n\tpublic class EmployeeInventoryAnswerer()\r\n\t{\r\n\t\t/* In reality, at least the store name and product name would be\r\n\t\t * passed in, but this example can&#39;t be 8 pages long or the point\r\n\t\t * may be lost.\r\n\t\t */\r\n\t\tpublic void myEntryPoint()\r\n\t\t{\r\n\t\t\tStore oaklandStore = new Store(&#39;Oakland, CA&#39;);\r\n\t\t\tStoreInventoryManager inventoryManager = new StoreInventoryManager(oaklandStore);\r\n\t\t\tProduct fancyNewProduct = new Product(&#39;My Awesome Product&#39;);\r\n\t\t\t\r\n\t\t\tif (inventoryManager.isProductInStock(fancyNewProduct))\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Product is in stock.&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic class StoreInventoryManager\r\n\t{\r\n\t\tprotected Store store;\r\n\t\tprotected InventoryCatalog catalog;\r\n\r\n\t    public StoreInventoryManager(Store store)\r\n\t    {\r\n\t    \tthis.store = store;\r\n\t    \tthis.catalog = new InventoryCatalog();\r\n\t    }\r\n\r\n\t    public void addProduct(Product product, int quantity)\r\n\t    {\r\n\t    \tthis.catalog.addProduct(this.store, product, quantity);\r\n\t    }\r\n\r\n\t    public boolean isProductInStock(Product product)\r\n\t    {\r\n\t    \treturn this.catalog.isInStock(this.store, this.product);\r\n\t    }\r\n\t}\r\n\r\n\r\n\tpublic class InventoryCatalog\r\n\t{\r\n\t\tprotected Database db;\r\n\r\n\t\tpublic InventoryCatalog()\r\n\t\t{\r\n\t\t\tthis.db = new Database(&#39;productReadWrite&#39;);\r\n\t\t}\r\n\r\n\r\n\t\tpublic void addProduct(Store store, Product product, int initialQuantity)\r\n\t\t{\r\n\t\t\tthis.db.query(\r\n\t\t\t\t&#39;INSERT INTO store_inventory SET store_id = %d, product_id = %d, quantity = %d&#39;\r\n\t\t\t).format(\r\n\t\t\t\tstore.id, product.id, initialQuantity\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tpublic boolean isInStock(Store store, Product product)\r\n\t\t{\r\n\t\t\tQueryResult qr;\r\n\r\n\t\t\tqr = this.db.query(\r\n\t\t\t\t&#39;SELECT quantity FROM store_inventory WHERE store_id = %d AND product_id = %d&#39;\r\n\t\t\t).format(\r\n\t\t\t\tstore.id, product.id\r\n\t\t\t);\r\n\r\n\t\t\tif (qr.quantity.toInt() &gt; 0)\r\n\t\t\t{\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\r\n**Dependency-Injected Example**\r\n\r\n\tpackage com.stackoverflow.di;\r\n\r\n\r\n\tpublic class EmployeeInventoryAnswerer()\r\n\t{\r\n\t\tpublic void myEntryPoint()\r\n\t\t{\r\n\t\t\tDatabase db = new Database(&#39;productReadWrite&#39;);\r\n\t\t\tInventoryCatalog catalog = new InventoryCatalog(db);\r\n\r\n\t\t\tStore oaklandStore = new Store(&#39;Oakland, CA&#39;);\r\n\t\t\tStoreInventoryManager inventoryManager = new StoreInventoryManager(oaklandStore, catalog);\r\n\t\t\tProduct fancyNewProduct = new Product(&#39;My Awesome Product&#39;);\r\n\t\t\t\r\n\t\t\tif (inventoryManager.isProductInStock(fancyNewProduct))\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Product is in stock.&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic class StoreInventoryManager\r\n\t{\r\n\t\tprotected Store store;\r\n\t\tprotected InventoryCatalog catalog;\r\n\r\n\t    public StoreInventoryManager(Store store, InventoryCatalog catalog)\r\n\t    {\r\n\t    \tthis.store = store;\r\n\t    \tthis.catalog = catalog;\r\n\t    }\r\n\r\n\t    public void addProduct(Product product, int quantity)\r\n\t    {\r\n\t    \tthis.catalog.addProduct(this.store, product, quantity);\r\n\t    }\r\n\r\n\t    public boolean isProductInStock(Product product)\r\n\t    {\r\n\t    \treturn this.catalog.isInStock(this.store, this.product);\r\n\t    }\r\n\t}\r\n\r\n\r\n\tpublic class InventoryCatalog\r\n\t{\r\n\t\tprotected Database db;\r\n\r\n\t\tpublic InventoryCatalog(Database db)\r\n\t\t{\r\n\t\t\tthis.db = db;\r\n\t\t}\r\n\r\n\r\n\t\tpublic void addProduct(Store store, Product product, int initialQuantity)\r\n\t\t{\r\n\t\t\tthis.db.query(\r\n\t\t\t\t&#39;INSERT INTO store_inventory SET store_id = %d, product_id = %d, quantity = %d&#39;\r\n\t\t\t).format(\r\n\t\t\t\tstore.id, product.id, initialQuantity\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tpublic boolean isInStock(Store store, Product product)\r\n\t\t{\r\n\t\t\tQueryResult qr;\r\n\r\n\t\t\tqr = this.db.query(\r\n\t\t\t\t&#39;SELECT quantity FROM store_inventory WHERE store_id = %d AND product_id = %d&#39;\r\n\t\t\t).format(\r\n\t\t\t\tstore.id, product.id\r\n\t\t\t);\r\n\r\n\t\t\tif (qr.quantity.toInt() &gt; 0)\r\n\t\t\t{\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\r\n*(Please feel to make my example better if you have any ideas! It might not be the best example.)*\r\n\r\nIn my example, I feel that Abstraction has been completely violated by `EmployeeInventoryAnswerer` having knowledge of underlying implementation details of `StoreInventoryManager`.\r\n\r\nShouldn&#39;t `EmployeeInventoryAnswerer`have the perspective of, *&quot;Okay, I&#39;ll just grab a `StoreInventoryManager`, give it the name of the product the customer is looking for, and what store I want to check, and it will tell me if the product is in stock.&quot;*? Shouldn&#39;t it not know a single thing about `Database`s or `InventoryCatalog`s, as from its perspective, that&#39;s an implementation detail it need not concern itself with?\r\n\r\nSo, where&#39;s the balance between testable code with injected dependencies, and information-hiding as a principal of abstraction? Even if the middle-classes are merely passing-through dependencies, the constructor signature alone reveals irrelevant details, right?\r\n\r\n*More realistically*, let&#39;s say this a long-running background application processing data from a DBMS; at what &quot;layer&quot; of the call-graph is it appropriate to create and pass around a database connector, while still making your code testable without a running DBMS?\r\n\r\nI&#39;m very interested in learning about both OOP theory and practicality here, as well as clarifying what seems to be a paradox between DI and Information Hiding/Abstraction.","title":"Where is the Balance Between Dependency Injection and Abstraction?","body":"<p>Many Architects and Engineers recommend <a href=\"https://en.wikipedia.org/wiki/Dependency_injection\" rel=\"noreferrer\">Dependency Injection</a> and other <a href=\"https://en.wikipedia.org/wiki/Inversion_of_control\" rel=\"noreferrer\">Inversion of Control</a> patterns as a way to <a href=\"https://www.youtube.com/watch?v=XcT4yYu_TTs\" rel=\"noreferrer\">improve the testability of your code</a>. There's no denying that Dependency Injection makes code more testable, <em>however</em>, isn't it also a completing goal to <a href=\"https://en.wikipedia.org/wiki/Abstraction_(computer_science)\" rel=\"noreferrer\">Abstraction</a> in general?</p>\n\n<p>I feel conflicted! I wrote an example to illustrate this; it's not super-realistic and I wouldn't design it this way, but I needed a quick and simple example of a class structure with multiple dependencies. The first example is without Dependency Injection, and the second uses Injected Dependencies. </p>\n\n<p><strong>Non-DI Example</strong></p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverflow.di;\n\n\npublic class EmployeeInventoryAnswerer()\n{\n    /* In reality, at least the store name and product name would be\n     * passed in, but this example can't be 8 pages long or the point\n     * may be lost.\n     */\n    public void myEntryPoint()\n    {\n        Store oaklandStore = new Store('Oakland, CA');\n        StoreInventoryManager inventoryManager = new StoreInventoryManager(oaklandStore);\n        Product fancyNewProduct = new Product('My Awesome Product');\n\n        if (inventoryManager.isProductInStock(fancyNewProduct))\n        {\n            System.out.println(\"Product is in stock.\");\n        }\n    }\n}\n\n\npublic class StoreInventoryManager\n{\n    protected Store store;\n    protected InventoryCatalog catalog;\n\n    public StoreInventoryManager(Store store)\n    {\n        this.store = store;\n        this.catalog = new InventoryCatalog();\n    }\n\n    public void addProduct(Product product, int quantity)\n    {\n        this.catalog.addProduct(this.store, product, quantity);\n    }\n\n    public boolean isProductInStock(Product product)\n    {\n        return this.catalog.isInStock(this.store, this.product);\n    }\n}\n\n\npublic class InventoryCatalog\n{\n    protected Database db;\n\n    public InventoryCatalog()\n    {\n        this.db = new Database('productReadWrite');\n    }\n\n\n    public void addProduct(Store store, Product product, int initialQuantity)\n    {\n        this.db.query(\n            'INSERT INTO store_inventory SET store_id = %d, product_id = %d, quantity = %d'\n        ).format(\n            store.id, product.id, initialQuantity\n        );\n    }\n\n    public boolean isInStock(Store store, Product product)\n    {\n        QueryResult qr;\n\n        qr = this.db.query(\n            'SELECT quantity FROM store_inventory WHERE store_id = %d AND product_id = %d'\n        ).format(\n            store.id, product.id\n        );\n\n        if (qr.quantity.toInt() &gt; 0)\n        {\n            return true;\n        }\n\n        return false;\n    }\n}\n</code></pre>\n\n<p><strong>Dependency-Injected Example</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverflow.di;\n\n\npublic class EmployeeInventoryAnswerer()\n{\n    public void myEntryPoint()\n    {\n        Database db = new Database('productReadWrite');\n        InventoryCatalog catalog = new InventoryCatalog(db);\n\n        Store oaklandStore = new Store('Oakland, CA');\n        StoreInventoryManager inventoryManager = new StoreInventoryManager(oaklandStore, catalog);\n        Product fancyNewProduct = new Product('My Awesome Product');\n\n        if (inventoryManager.isProductInStock(fancyNewProduct))\n        {\n            System.out.println(\"Product is in stock.\");\n        }\n    }\n}\n\npublic class StoreInventoryManager\n{\n    protected Store store;\n    protected InventoryCatalog catalog;\n\n    public StoreInventoryManager(Store store, InventoryCatalog catalog)\n    {\n        this.store = store;\n        this.catalog = catalog;\n    }\n\n    public void addProduct(Product product, int quantity)\n    {\n        this.catalog.addProduct(this.store, product, quantity);\n    }\n\n    public boolean isProductInStock(Product product)\n    {\n        return this.catalog.isInStock(this.store, this.product);\n    }\n}\n\n\npublic class InventoryCatalog\n{\n    protected Database db;\n\n    public InventoryCatalog(Database db)\n    {\n        this.db = db;\n    }\n\n\n    public void addProduct(Store store, Product product, int initialQuantity)\n    {\n        this.db.query(\n            'INSERT INTO store_inventory SET store_id = %d, product_id = %d, quantity = %d'\n        ).format(\n            store.id, product.id, initialQuantity\n        );\n    }\n\n    public boolean isInStock(Store store, Product product)\n    {\n        QueryResult qr;\n\n        qr = this.db.query(\n            'SELECT quantity FROM store_inventory WHERE store_id = %d AND product_id = %d'\n        ).format(\n            store.id, product.id\n        );\n\n        if (qr.quantity.toInt() &gt; 0)\n        {\n            return true;\n        }\n\n        return false;\n    }\n}\n</code></pre>\n\n<p><em>(Please feel to make my example better if you have any ideas! It might not be the best example.)</em></p>\n\n<p>In my example, I feel that Abstraction has been completely violated by <code>EmployeeInventoryAnswerer</code> having knowledge of underlying implementation details of <code>StoreInventoryManager</code>.</p>\n\n<p>Shouldn't <code>EmployeeInventoryAnswerer</code>have the perspective of, <em>\"Okay, I'll just grab a <code>StoreInventoryManager</code>, give it the name of the product the customer is looking for, and what store I want to check, and it will tell me if the product is in stock.\"</em>? Shouldn't it not know a single thing about <code>Database</code>s or <code>InventoryCatalog</code>s, as from its perspective, that's an implementation detail it need not concern itself with?</p>\n\n<p>So, where's the balance between testable code with injected dependencies, and information-hiding as a principal of abstraction? Even if the middle-classes are merely passing-through dependencies, the constructor signature alone reveals irrelevant details, right?</p>\n\n<p><em>More realistically</em>, let's say this a long-running background application processing data from a DBMS; at what \"layer\" of the call-graph is it appropriate to create and pass around a database connector, while still making your code testable without a running DBMS?</p>\n\n<p>I'm very interested in learning about both OOP theory and practicality here, as well as clarifying what seems to be a paradox between DI and Information Hiding/Abstraction.</p>\n"},{"tags":["java","arrays","algorithm","linked-list","queue"],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650006529,"creation_date":1650006529,"answer_id":71881077,"question_id":71880838,"body_markdown":"&lt;h2&gt;Monotonic Queue&lt;/h2&gt;\r\n\r\nA monotonic queue can be either increasing or decreasing.\r\n\r\n&gt;In a Monotonic Increasing Queue, when a new element e is pushed, every queue&#39;s element q[i] that violates the condition q[i] &gt;= e, starting from the lowest element, is popped out of the queue.\r\n\r\nLikewise\r\n\r\n&gt;In a Monotonic Decreasing Queue, when a new element e is pushed, every queue&#39;s element q[i] that violates the condition q[i] &lt;= e, starting from the lowest element, is popped out of the queue.\r\n\r\n&lt;h2&gt;Example Monotonic Increasing Queue&lt;/h2&gt;\r\n\r\n5  =&gt;  [5] &lt;br/&gt;\r\n3  =&gt;  [3] 3 pops out 5 &lt;br/&gt;\r\n1  =&gt;  [1] 1 pops out 3 &lt;br/&gt;\r\n2  =&gt;  [1, 2] &lt;br/&gt;\r\n4  =&gt;  [1, 2, 4] &lt;br/&gt;\r\n\r\n&lt;h2&gt;Example Monotonic Decreasing Queue&lt;/h2&gt;\r\n\r\n5  =&gt;  [5] &lt;br/&gt;\r\n3  =&gt;  [5, 3] &lt;br/&gt;\r\n1  =&gt;  [5, 3, 1] &lt;br/&gt;\r\n2  =&gt;  [5, 3, 2] 2 pops out 1 &lt;br/&gt;\r\n4  =&gt;  [5, 4] 4 pops out 2, 3 &lt;br/&gt;\r\n\r\n&lt;h2&gt;Answer&lt;/h2&gt;\r\n\r\nIn your case, I&#39;m assuming that the Monotonic Queue you&#39;re trying to obtain is increasing, so based on your given array {10, 7, 1, 2, 4, 3, 8}, at every iteration we would have:\r\n\r\n10 =&gt; [10] &lt;br/&gt;\r\n7  =&gt; [7] &lt;br/&gt;\r\n1  =&gt; [1] &lt;br/&gt;\r\n2  =&gt; [1, 2] &lt;br/&gt;\r\n4  =&gt; [1, 2, 4] &lt;br/&gt;\r\n3  =&gt; [1, 2, 3] &lt;br/&gt;\r\n8  =&gt; [1, 2, 3, 8] &lt;br/&gt;\r\n\r\nIn conclusion, to answer your question:\r\n\r\n&gt;am I supposed to have {1, 2, 3, 8} or just {3, 8}?\r\n\r\nyou&#39;re supposed to obtain {1, 2, 3, 8}. ","title":"Implementation for a Monotonic Increasing Queue","body":"<h2>Monotonic Queue</h2>\n<p>A monotonic queue can be either increasing or decreasing.</p>\n<blockquote>\n<p>In a Monotonic Increasing Queue, when a new element e is pushed, every queue's element q[i] that violates the condition q[i] &gt;= e, starting from the lowest element, is popped out of the queue.</p>\n</blockquote>\n<p>Likewise</p>\n<blockquote>\n<p>In a Monotonic Decreasing Queue, when a new element e is pushed, every queue's element q[i] that violates the condition q[i] &lt;= e, starting from the lowest element, is popped out of the queue.</p>\n</blockquote>\n<h2>Example Monotonic Increasing Queue</h2>\n<p>5  =&gt;  [5] <br/>\n3  =&gt;  [3] 3 pops out 5 <br/>\n1  =&gt;  [1] 1 pops out 3 <br/>\n2  =&gt;  [1, 2] <br/>\n4  =&gt;  [1, 2, 4] <br/></p>\n<h2>Example Monotonic Decreasing Queue</h2>\n<p>5  =&gt;  [5] <br/>\n3  =&gt;  [5, 3] <br/>\n1  =&gt;  [5, 3, 1] <br/>\n2  =&gt;  [5, 3, 2] 2 pops out 1 <br/>\n4  =&gt;  [5, 4] 4 pops out 2, 3 <br/></p>\n<h2>Answer</h2>\n<p>In your case, I'm assuming that the Monotonic Queue you're trying to obtain is increasing, so based on your given array {10, 7, 1, 2, 4, 3, 8}, at every iteration we would have:</p>\n<p>10 =&gt; [10] <br/>\n7  =&gt; [7] <br/>\n1  =&gt; [1] <br/>\n2  =&gt; [1, 2] <br/>\n4  =&gt; [1, 2, 4] <br/>\n3  =&gt; [1, 2, 3] <br/>\n8  =&gt; [1, 2, 3, 8] <br/></p>\n<p>In conclusion, to answer your question:</p>\n<blockquote>\n<p>am I supposed to have {1, 2, 3, 8} or just {3, 8}?</p>\n</blockquote>\n<p>you're supposed to obtain {1, 2, 3, 8}.</p>\n"}],"owner":{"account_id":18287208,"reputation":23,"user_id":13314829,"display_name":"IkhideIfidon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71881077,"answer_count":1,"score":1,"last_activity_date":1650006529,"creation_date":1650004505,"question_id":71880838,"body_markdown":"I am trying to implement a fast ***Monotonic strictly Increasing Queue*** using the Java Deque Interface and the LinkedList class. Assume I have an array of int {10, 7, 1, 2, 4, 3, 8}, after performing a monotonic queue on this, am I supposed to have {1, 2, 3, 8} or just {3, 8}? \r\n\r\nBased on my implementation, I have {1, 2, 3, 8}.\r\n\r\nAttached is my code:\r\n\r\n```\r\nimport java.util.Deque;\r\nimport java.util.Iterator;\r\nimport java.util.LinkedList;\r\n\r\n/**\r\n * A Strictly Monotonic increasing Queue. [1, 2, 3, 6, 8, 12, 16, 23]. Where the largest element is\r\n * at the back of the Queue (tail of the linkedList).\r\n * Adapter Design Pattern.\r\n */\r\npublic class MonotonicQueue&lt;E extends Object &amp; Comparable&lt;E&gt;&gt; implements Iterable&lt;E&gt; {\r\n\r\n    private final Deque&lt;E&gt; queue;\r\n    private int t = 0;                          // Number of elements in the Queue\r\n\r\n    public MonotonicQueue() {\r\n        this.queue = new LinkedList&lt;&gt;();\r\n    }\r\n\r\n    private void nullChecker(E obj) {\r\n        if (obj == null)\r\n            throw new NullPointerException();\r\n    }\r\n\r\n    public int size() {\r\n        return t;\r\n    }\r\n\r\n    public boolean isEmpty() {\r\n        return queue.isEmpty();\r\n    }\r\n\r\n    public void push(E obj) {\r\n        nullChecker(obj);\r\n        if (isEmpty())\r\n            queue.offerFirst(obj);\r\n        else {\r\n            while(!queue.isEmpty() &amp;&amp; queue.peekLast().compareTo(obj) &gt;= 0) {\r\n                queue.pollLast();\r\n                t--;\r\n            }\r\n            queue.offerLast(obj);\r\n        }\r\n        t++;\r\n    }\r\n\r\n    public E pop() throws EmptyQueueException {\r\n        if (isEmpty())\r\n            throw new EmptyQueueException();\r\n        t--;\r\n        return queue.pop();            // This will return the maximum element (The front element) in the Queue\r\n    }\r\n\r\n    public boolean contains(E obj) {\r\n        if (obj == null)\r\n            return false;\r\n        if (isEmpty())\r\n            return false;\r\n\r\n        // If obj &gt; the element at the front of the Queue, then the Queue cannot contain obj.\r\n        else if (obj.compareTo(queue.peekLast()) &gt; 0)\r\n            return false;\r\n        else {\r\n            for (E data : this) {\r\n                if (data.compareTo(obj) == 0)\r\n                    return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder stringBuilder = new StringBuilder(&quot;[&quot;);\r\n        Iterator&lt;E&gt; iter = this.iterator();\r\n        while (iter.hasNext()) {\r\n            stringBuilder.append(iter.next());\r\n            if (iter.hasNext())\r\n                stringBuilder.append(&quot;--&gt; &quot;);\r\n        }\r\n        stringBuilder.append(&quot;]&quot;);\r\n        return stringBuilder.toString();\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;E&gt; iterator() {\r\n        return queue.iterator();\r\n    }\r\n}\r\n\r\n```\r\nThanks in advance.","title":"Implementation for a Monotonic Increasing Queue","body":"<p>I am trying to implement a fast <em><strong>Monotonic strictly Increasing Queue</strong></em> using the Java Deque Interface and the LinkedList class. Assume I have an array of int {10, 7, 1, 2, 4, 3, 8}, after performing a monotonic queue on this, am I supposed to have {1, 2, 3, 8} or just {3, 8}?</p>\n<p>Based on my implementation, I have {1, 2, 3, 8}.</p>\n<p>Attached is my code:</p>\n<pre><code>import java.util.Deque;\nimport java.util.Iterator;\nimport java.util.LinkedList;\n\n/**\n * A Strictly Monotonic increasing Queue. [1, 2, 3, 6, 8, 12, 16, 23]. Where the largest element is\n * at the back of the Queue (tail of the linkedList).\n * Adapter Design Pattern.\n */\npublic class MonotonicQueue&lt;E extends Object &amp; Comparable&lt;E&gt;&gt; implements Iterable&lt;E&gt; {\n\n    private final Deque&lt;E&gt; queue;\n    private int t = 0;                          // Number of elements in the Queue\n\n    public MonotonicQueue() {\n        this.queue = new LinkedList&lt;&gt;();\n    }\n\n    private void nullChecker(E obj) {\n        if (obj == null)\n            throw new NullPointerException();\n    }\n\n    public int size() {\n        return t;\n    }\n\n    public boolean isEmpty() {\n        return queue.isEmpty();\n    }\n\n    public void push(E obj) {\n        nullChecker(obj);\n        if (isEmpty())\n            queue.offerFirst(obj);\n        else {\n            while(!queue.isEmpty() &amp;&amp; queue.peekLast().compareTo(obj) &gt;= 0) {\n                queue.pollLast();\n                t--;\n            }\n            queue.offerLast(obj);\n        }\n        t++;\n    }\n\n    public E pop() throws EmptyQueueException {\n        if (isEmpty())\n            throw new EmptyQueueException();\n        t--;\n        return queue.pop();            // This will return the maximum element (The front element) in the Queue\n    }\n\n    public boolean contains(E obj) {\n        if (obj == null)\n            return false;\n        if (isEmpty())\n            return false;\n\n        // If obj &gt; the element at the front of the Queue, then the Queue cannot contain obj.\n        else if (obj.compareTo(queue.peekLast()) &gt; 0)\n            return false;\n        else {\n            for (E data : this) {\n                if (data.compareTo(obj) == 0)\n                    return true;\n            }\n        }\n        return false;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder stringBuilder = new StringBuilder(&quot;[&quot;);\n        Iterator&lt;E&gt; iter = this.iterator();\n        while (iter.hasNext()) {\n            stringBuilder.append(iter.next());\n            if (iter.hasNext())\n                stringBuilder.append(&quot;--&gt; &quot;);\n        }\n        stringBuilder.append(&quot;]&quot;);\n        return stringBuilder.toString();\n    }\n\n    @Override\n    public Iterator&lt;E&gt; iterator() {\n        return queue.iterator();\n    }\n}\n\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","xml","animation","graphics"],"comments":[{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":1,"creation_date":1591246351,"post_id":62186696,"comment_id":109983728,"body_markdown":"https://streamable.com/ippq1c is broken","body":"<a href=\"https://streamable.com/ippq1c\" rel=\"nofollow noreferrer\">streamable.com/ippq1c</a> is broken"},{"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"score":0,"creation_date":1591304116,"post_id":62186696,"comment_id":110013803,"body_markdown":"@AniketSahrawat Working for me","body":"@AniketSahrawat Working for me"},{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":0,"creation_date":1591304326,"post_id":62186696,"comment_id":110013884,"body_markdown":"@androidXP It doesn&#39;t comply with Indian standards of .com compliance. I tried with proxy servers as well but no luck. If it is working for you, attach that image in the question.","body":"@androidXP It doesn&#39;t comply with Indian standards of .com compliance. I tried with proxy servers as well but no luck. If it is working for you, attach that image in the question."},{"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"score":0,"creation_date":1591423266,"post_id":62186696,"comment_id":110055423,"body_markdown":"Make the drive link public we need access...","body":"Make the drive link public we need access..."},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1591428277,"post_id":62186696,"comment_id":110056538,"body_markdown":"@PraveenSP It&#39;s public already. Please check again","body":"@PraveenSP It&#39;s public already. Please check again"}],"answers":[{"tags":[],"owner":{"account_id":18505298,"reputation":420,"user_id":13481732,"display_name":"Apollo"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1591802700,"creation_date":1591802700,"answer_id":62307244,"question_id":62186696,"body_markdown":"There is a great tool for creating animating vectors like this.\r\nhttps://shapeshifter.design/ I have created your example there and I will try to explain how in next few steps.\r\n\r\nIn bottom left corner next to File, Import and Export click to add window to add new Path. After path is added select it and navigate to pathData field. First we will start with animated part, add this to pathData\r\n\r\n    M 4 6 L 22 2 L 2 22 L 19.5 3.5 L 4 6\r\n\r\nYou can check more information about M, L, Z commands here https://stackoverflow.com/a/42138513/13481732\r\n\r\nAlso set fill color to whatever you need.\r\n\r\nIn the bottom left corner for recently created path or in top right corner next to path name, select stopwatch and add pathData animation.\r\n\r\nFor first animation set \r\n\r\n    startTime = 0\r\n    endTime = 100 //CHANGE THIS BASE ON YOUR NEEDS\r\n    interpolator = Linear\r\n    fromValue = M 4 6 L 4 6 L 4 6 Z\r\n    toValue = M 4 6 L 22 2 L 19 3.5 Z\r\n\r\nThen add another animation (There is + sign on added pathData animation in bottom left corner) and set next values\r\n\r\n    startTime = 100 //CHANGE THIS BASE ON YOUR NEEDS\r\n    endTime = 200 //CHANGE THIS BASE ON YOUR NEEDS\r\n    interpolator = Linear\r\n    fromValue = M 4 6 L 22 2 L 19 3.5 Z M 22 2 L 22 2 L 19 3.5 Z\r\n    toValue = M 4 6 L 22 2 L 19 3.5 Z M 22 2 L 2 22 L 19 3.5 Z\r\n\r\nThen for white parts add two new paths. In top set pathData to this:\r\n\r\n    M 9 7.5 L 11.5 11 L 12.5 10 L 10.5 7.5 Z\r\n\r\nIn bottom set pathData to this:\r\n\r\n    M 13 12.5 L 15.5 15.5 L 17 15.5 L 14 11.5 Z\r\n\r\nTo change background color, in bottom left corner select vector and then in field canvasColor set your background Color.\r\n\r\nAfter you are done you can export it as Animated Vector Drawable and add it to your project. When you add generated .xml file to project open it and change width and height. \r\n\r\nThis is an example how to start animation:\r\n       \r\n    Drawable drawable = imageView.getDrawable();\r\n    if( drawable instanceof AnimatedVectorDrawable ) {\r\n        AnimatedVectorDrawable animation = (AnimatedVectorDrawable) drawable;\r\n        animation.start();\r\n    }","title":"Android animation to draw alphabet","body":"<p>There is a great tool for creating animating vectors like this.\n<a href=\"https://shapeshifter.design/\" rel=\"nofollow noreferrer\">https://shapeshifter.design/</a> I have created your example there and I will try to explain how in next few steps.</p>\n\n<p>In bottom left corner next to File, Import and Export click to add window to add new Path. After path is added select it and navigate to pathData field. First we will start with animated part, add this to pathData</p>\n\n<pre><code>M 4 6 L 22 2 L 2 22 L 19.5 3.5 L 4 6\n</code></pre>\n\n<p>You can check more information about M, L, Z commands here <a href=\"https://stackoverflow.com/a/42138513/13481732\">https://stackoverflow.com/a/42138513/13481732</a></p>\n\n<p>Also set fill color to whatever you need.</p>\n\n<p>In the bottom left corner for recently created path or in top right corner next to path name, select stopwatch and add pathData animation.</p>\n\n<p>For first animation set </p>\n\n<pre><code>startTime = 0\nendTime = 100 //CHANGE THIS BASE ON YOUR NEEDS\ninterpolator = Linear\nfromValue = M 4 6 L 4 6 L 4 6 Z\ntoValue = M 4 6 L 22 2 L 19 3.5 Z\n</code></pre>\n\n<p>Then add another animation (There is + sign on added pathData animation in bottom left corner) and set next values</p>\n\n<pre><code>startTime = 100 //CHANGE THIS BASE ON YOUR NEEDS\nendTime = 200 //CHANGE THIS BASE ON YOUR NEEDS\ninterpolator = Linear\nfromValue = M 4 6 L 22 2 L 19 3.5 Z M 22 2 L 22 2 L 19 3.5 Z\ntoValue = M 4 6 L 22 2 L 19 3.5 Z M 22 2 L 2 22 L 19 3.5 Z\n</code></pre>\n\n<p>Then for white parts add two new paths. In top set pathData to this:</p>\n\n<pre><code>M 9 7.5 L 11.5 11 L 12.5 10 L 10.5 7.5 Z\n</code></pre>\n\n<p>In bottom set pathData to this:</p>\n\n<pre><code>M 13 12.5 L 15.5 15.5 L 17 15.5 L 14 11.5 Z\n</code></pre>\n\n<p>To change background color, in bottom left corner select vector and then in field canvasColor set your background Color.</p>\n\n<p>After you are done you can export it as Animated Vector Drawable and add it to your project. When you add generated .xml file to project open it and change width and height. </p>\n\n<p>This is an example how to start animation:</p>\n\n<pre><code>Drawable drawable = imageView.getDrawable();\nif( drawable instanceof AnimatedVectorDrawable ) {\n    AnimatedVectorDrawable animation = (AnimatedVectorDrawable) drawable;\n    animation.start();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":554780,"reputation":1261,"user_id":5695944,"accept_rate":100,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592042755,"creation_date":1591986258,"answer_id":62350281,"question_id":62186696,"body_markdown":"The reason you are not able to use `Path` because `Path` moves an object from one place to another to produce animation. Whereas your video is creating an object(the Green section) as part of the animation. So you have two options.\r\n\r\n**Option 1**\r\nCreate an SVG and add it as an animated vector drawable within your code. \r\nYou can use an online tool to create SVG from your video. And then add that SVG into your `drawables` and create a `pathmorph` XML to change the color from black to green. Example on `[Android Developer Website][1]`\r\n\r\nUsually it will involve two steps\r\n\r\nStep 1: Get SVG file for your animation using a [video to SVG converter][1].\r\n\r\nStep 2: Change color of your SVG Path from black to green. You can read some [sample code for that][2]. Or you can use the [AnimatedSVGview][3] library for dynamically adding green color to your SVG.\r\n\r\n**Option 2**\r\nAn easier way is to convert this video to Gif and then just display it using Glide. \r\n\r\n`ImageView imageView = (ImageView) findViewById(R.id.imageView);\r\nGlide.with(this).asGif().load(R.raw.image_gif).into(imageView);`\r\n\r\n\r\n  [1]: https://image.online-convert.com/convert-to-svg\r\n  [2]: https://github.com/jaredrummler/AnimatedSvgView/blob/master/library/src/main/java/com/jaredrummler/android/widget/AnimatedSvgView.java\r\n  [3]: https://github.com/jaredrummler/AnimatedSvgView","title":"Android animation to draw alphabet","body":"<p>The reason you are not able to use <code>Path</code> because <code>Path</code> moves an object from one place to another to produce animation. Whereas your video is creating an object(the Green section) as part of the animation. So you have two options.</p>\n\n<p><strong>Option 1</strong>\nCreate an SVG and add it as an animated vector drawable within your code. \nYou can use an online tool to create SVG from your video. And then add that SVG into your <code>drawables</code> and create a <code>pathmorph</code> XML to change the color from black to green. Example on <code>[Android Developer Website][1]</code></p>\n\n<p>Usually it will involve two steps</p>\n\n<p>Step 1: Get SVG file for your animation using a <a href=\"https://image.online-convert.com/convert-to-svg\" rel=\"nofollow noreferrer\">video to SVG converter</a>.</p>\n\n<p>Step 2: Change color of your SVG Path from black to green. You can read some <a href=\"https://github.com/jaredrummler/AnimatedSvgView/blob/master/library/src/main/java/com/jaredrummler/android/widget/AnimatedSvgView.java\" rel=\"nofollow noreferrer\">sample code for that</a>. Or you can use the <a href=\"https://github.com/jaredrummler/AnimatedSvgView\" rel=\"nofollow noreferrer\">AnimatedSVGview</a> library for dynamically adding green color to your SVG.</p>\n\n<p><strong>Option 2</strong>\nAn easier way is to convert this video to Gif and then just display it using Glide. </p>\n\n<p><code>ImageView imageView = (ImageView) findViewById(R.id.imageView);\nGlide.with(this).asGif().load(R.raw.image_gif).into(imageView);</code></p>\n"}],"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":62307244,"answer_count":2,"score":5,"last_activity_date":1650006459,"creation_date":1591243385,"question_id":62186696,"body_markdown":"I am stuck at the animation part which is kinda tough for me, I need to draw [this green sign like this][1]. I tried this [Github guide][2] achieve my requirement but with using `Path` i can only move view with the help of coordinates and i am far from the result i need. I am not sure where to start to get the desired result from animation. I am avoiding embeded `GIF` and any heavy library to get my result. Please help in this kind of animation, I know it&#39;s pretty tough to get this kind of animation via code.\r\n\r\nAny help will be appreciate. Thanks \r\n\r\nIf above video link is not working please check this : [Video Link][3]\r\n\r\n\r\n  [1]: https://streamable.com/ippq1c\r\n  [2]: https://github.com/pratikishere/Androideverywhere-Resources/wiki/Android-Curved-Motion-or-Path-Animation\r\n  [3]: https://drive.google.com/file/d/1RSETe6emyLW_-aFZhCcsFc4ptVSztPU2/view?usp=sharing","title":"Android animation to draw alphabet","body":"<p>I am stuck at the animation part which is kinda tough for me, I need to draw <a href=\"https://streamable.com/ippq1c\" rel=\"nofollow noreferrer\">this green sign like this</a>. I tried this <a href=\"https://github.com/pratikishere/Androideverywhere-Resources/wiki/Android-Curved-Motion-or-Path-Animation\" rel=\"nofollow noreferrer\">Github guide</a> achieve my requirement but with using <code>Path</code> i can only move view with the help of coordinates and i am far from the result i need. I am not sure where to start to get the desired result from animation. I am avoiding embeded <code>GIF</code> and any heavy library to get my result. Please help in this kind of animation, I know it's pretty tough to get this kind of animation via code.</p>\n<p>Any help will be appreciate. Thanks</p>\n<p>If above video link is not working please check this : <a href=\"https://drive.google.com/file/d/1RSETe6emyLW_-aFZhCcsFc4ptVSztPU2/view?usp=sharing\" rel=\"nofollow noreferrer\">Video Link</a></p>\n"},{"tags":["java","swing","awt","layout-manager","grid-layout"],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650003091,"creation_date":1650003091,"answer_id":71880682,"question_id":71880593,"body_markdown":"The use of `JLabel.CENTER` is in the wrong place. It should be within the `JLabel` constructor rather than handed to the `add(JLabel, constraint)` method. It is not an appropriate constraint of the layout, but of the label. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Um8Es.png\r\n\r\n\r\n    import java.awt.GridLayout;\r\n    import javax.swing.*;\r\n    \r\n    public class Summary_Graph_JPanel1 extends JPanel {\r\n        public Summary_Graph_JPanel1() {\r\n            GridLayout g=new GridLayout(3,2);\r\n            setLayout(g);\r\n            add(new JLabel(&quot;1&quot;,JLabel.CENTER));\r\n            add(new JLabel(&quot;2&quot;,JLabel.CENTER));\r\n            add(new JLabel(&quot;3&quot;,JLabel.CENTER));\r\n            add(new JLabel(&quot;4&quot;,JLabel.CENTER));\r\n            add(new JLabel(&quot;5&quot;,JLabel.CENTER));\r\n            add(new JLabel(&quot;6&quot;,JLabel.CENTER));\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            JOptionPane.showMessageDialog(null, new Summary_Graph_JPanel1());\r\n        }\r\n    }\r\n\r\n","title":"Undefined behaviour of GridLayout","body":"<p>The use of <code>JLabel.CENTER</code> is in the wrong place. It should be within the <code>JLabel</code> constructor rather than handed to the <code>add(JLabel, constraint)</code> method. It is not an appropriate constraint of the layout, but of the label.</p>\n<p><a href=\"https://i.stack.imgur.com/Um8Es.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Um8Es.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.GridLayout;\nimport javax.swing.*;\n\npublic class Summary_Graph_JPanel1 extends JPanel {\n    public Summary_Graph_JPanel1() {\n        GridLayout g=new GridLayout(3,2);\n        setLayout(g);\n        add(new JLabel(&quot;1&quot;,JLabel.CENTER));\n        add(new JLabel(&quot;2&quot;,JLabel.CENTER));\n        add(new JLabel(&quot;3&quot;,JLabel.CENTER));\n        add(new JLabel(&quot;4&quot;,JLabel.CENTER));\n        add(new JLabel(&quot;5&quot;,JLabel.CENTER));\n        add(new JLabel(&quot;6&quot;,JLabel.CENTER));\n    }\n\n    public static void main(String[] args) {\n        JOptionPane.showMessageDialog(null, new Summary_Graph_JPanel1());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19163923,"reputation":66,"user_id":13999098,"display_name":"Harshit Rathore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71880682,"answer_count":1,"score":1,"last_activity_date":1650006126,"creation_date":1650002334,"question_id":71880593,"body_markdown":"I have created a `GridLayout(3,2)` in Java and inserted 6 `JLabel` components. They should be inserted in order of the code written, but they are arranged in descending order. Why?\r\n\r\n    import java.awt.GridLayout;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Summary_Graph_JPanel1 extends JPanel {\r\n    \tpublic Summary_Graph_JPanel1() {\r\n    \t\tGridLayout g=new GridLayout(3,2);\r\n    \t\tsetLayout(g);\r\n    \t\tadd(new JLabel(&quot;1&quot;),JLabel.CENTER);\r\n    \t\tadd(new JLabel(&quot;2&quot;),JLabel.CENTER);\r\n    \t\tadd(new JLabel(&quot;3&quot;),JLabel.CENTER);\r\n    \t\tadd(new JLabel(&quot;4&quot;),JLabel.CENTER);\r\n    \t\tadd(new JLabel(&quot;5&quot;),JLabel.CENTER);\r\n    \t\tadd(new JLabel(&quot;6&quot;),JLabel.CENTER);\r\n    \t}\r\n    }\r\n\r\nThis is how it looks:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/mGJpU.png&quot;&gt;","title":"Undefined behaviour of GridLayout","body":"<p>I have created a <code>GridLayout(3,2)</code> in Java and inserted 6 <code>JLabel</code> components. They should be inserted in order of the code written, but they are arranged in descending order. Why?</p>\n<pre><code>import java.awt.GridLayout;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class Summary_Graph_JPanel1 extends JPanel {\n    public Summary_Graph_JPanel1() {\n        GridLayout g=new GridLayout(3,2);\n        setLayout(g);\n        add(new JLabel(&quot;1&quot;),JLabel.CENTER);\n        add(new JLabel(&quot;2&quot;),JLabel.CENTER);\n        add(new JLabel(&quot;3&quot;),JLabel.CENTER);\n        add(new JLabel(&quot;4&quot;),JLabel.CENTER);\n        add(new JLabel(&quot;5&quot;),JLabel.CENTER);\n        add(new JLabel(&quot;6&quot;),JLabel.CENTER);\n    }\n}\n</code></pre>\n<p>This is how it looks:</p>\n<img src=\"https://i.stack.imgur.com/mGJpU.png\">\n"},{"tags":["java","streaming","spring-cloud-stream","spring-cloud-dataflow"],"comments":[{"owner":{"account_id":2365019,"reputation":5194,"user_id":2070861,"accept_rate":100,"display_name":"sobychacko"},"score":2,"creation_date":1649433710,"post_id":71785919,"comment_id":126882623,"body_markdown":"Why do you need to set these properties using `System.setProperty(..)`. Why can &#39;t you simply put them as part of your application configuration? (yaml or properties). That should work.","body":"Why do you need to set these properties using <code>System.setProperty(..)</code>. Why can &#39;t you simply put them as part of your application configuration? (yaml or properties). That should work."},{"owner":{"account_id":15760184,"reputation":225,"user_id":11372097,"display_name":"Antonio Miranda"},"score":0,"creation_date":1649667942,"post_id":71785919,"comment_id":126925478,"body_markdown":"You are right , I can put them in properties file. But I&#39;m in the same problem, I must to write the topic name in properties and I don&#39;t want it haha. Thanks a lot for your answer, I will edit the post to specify it.","body":"You are right , I can put them in properties file. But I&#39;m in the same problem, I must to write the topic name in properties and I don&#39;t want it haha. Thanks a lot for your answer, I will edit the post to specify it."},{"owner":{"account_id":80984,"reputation":825,"user_id":228649,"display_name":"Corneil du Plessis"},"score":0,"creation_date":1649842044,"post_id":71785919,"comment_id":126975861,"body_markdown":"System.setProperly is the best Freudian slips I&#39;ve seen in a while.","body":"System.setProperly is the best Freudian slips I&#39;ve seen in a while."},{"owner":{"account_id":15760184,"reputation":225,"user_id":11372097,"display_name":"Antonio Miranda"},"score":0,"creation_date":1650005584,"post_id":71785919,"comment_id":127020490,"body_markdown":"hahaha its fixed now","body":"hahaha its fixed now"}],"owner":{"account_id":15760184,"reputation":225,"user_id":11372097,"display_name":"Antonio Miranda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650005545,"creation_date":1649349372,"question_id":71785919,"body_markdown":"Actually I&#39;m doing my own streams in spring cloud data flow, developing my own processors and sinks. But I&#39;m a bit stucked with the internal kafka bindings. I will expose an example:\r\n\r\nI make this stream:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe code of the custom proccesor seems like this:\r\n\r\n    @EnableConfigurationProperties({Config.class})\r\n    @Configuration\r\n    public class ProcessorIndoorGps {\r\n    \r\n    \tprivate CoordDispatcher dispatcher= new CoordDispatcher () ;\r\n    \r\n    \t@Bean\r\n    \tpublic Function&lt;String, List&lt;Message&gt;&gt; split() {\r\n    \t\tSystem.setProperty(&quot;spring.cloud.stream.function.bindings.split-in-0&quot;, &quot;input&quot;);\r\n    \t\tSystem.setProperty(&quot;spring.cloud.stream.function.bindings.split-out-0&quot;, &quot;output&quot;);\r\n    \t\tSystem.setProperty(&quot;spring.cloud.stream.bindings.input.destination&quot;, &quot;processor-indorgps.time&quot;);\r\n    \t\tSystem.setProperty(&quot;spring.cloud.stream.bindings.output.destination&quot;, &quot;processor-indorgps.processor-indoorgps&quot;);\r\n    \t\treturn string -&gt; {\r\n\r\n    ....\r\n\r\nThe code and the stream works properly, but I&#39;m a bit disgusting with these `System.setProperty` (Similar to write them in properties file). They are necesary to bind the kafka topics.\r\n\r\nI remember that the older version used annotations (like @Input and @Output ) or something to bind the topics directly.\r\n\r\nAny idea to do it in the newest version ?\r\n\r\nThanks a lot.\r\n\r\nVersions:\r\n\r\n    - dataflow=2.9.2\r\n    - skipper=2.8.2\r\n    - Spring boot version=2.6.3\r\n\r\n\r\nEdit: I will add some info about the older version\r\n\r\nThe code was something like this\r\n\r\n    @EnableBinding(Processor.class)\r\n    @EnableConfigurationProperties({Config.class})\r\n    @Configuration\r\n    public class ProcessorIndoorGps {\r\n    \r\n    \t@Splitter(inputChannel = Processor.INPUT, \r\n    \t\t\t  outputChannel = Processor.OUTPUT)\r\n    \tpublic List&lt;Message&gt; split(String in) throws ParseException, IOException {\r\n    \r\n    \t\tString uuid=&quot;.....&quot;;\r\n    \t\tLong date = new Date().getTime();\r\n    \t\t...........\r\n\r\n\r\n    - Spring boot version=2.1.4.RELEASE\r\n    - dataflow=2.9.2\r\n    - skipper=2.8.2\r\n\r\nIn this version, I not need any property to bind the kafka topics. I think that this binding was done for the annotations  @EnableBinding and @Splitter , but this annotations not exist in the new Spring boot version.\r\n\r\n  [1]: https://i.stack.imgur.com/kcpF3.png","title":"Spring cloud data flow custom stream auto kafka binding","body":"<p>Actually I'm doing my own streams in spring cloud data flow, developing my own processors and sinks. But I'm a bit stucked with the internal kafka bindings. I will expose an example:</p>\n<p>I make this stream:</p>\n<p><a href=\"https://i.stack.imgur.com/kcpF3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kcpF3.png\" alt=\"enter image description here\" /></a></p>\n<p>The code of the custom proccesor seems like this:</p>\n<pre><code>@EnableConfigurationProperties({Config.class})\n@Configuration\npublic class ProcessorIndoorGps {\n\n    private CoordDispatcher dispatcher= new CoordDispatcher () ;\n\n    @Bean\n    public Function&lt;String, List&lt;Message&gt;&gt; split() {\n        System.setProperty(&quot;spring.cloud.stream.function.bindings.split-in-0&quot;, &quot;input&quot;);\n        System.setProperty(&quot;spring.cloud.stream.function.bindings.split-out-0&quot;, &quot;output&quot;);\n        System.setProperty(&quot;spring.cloud.stream.bindings.input.destination&quot;, &quot;processor-indorgps.time&quot;);\n        System.setProperty(&quot;spring.cloud.stream.bindings.output.destination&quot;, &quot;processor-indorgps.processor-indoorgps&quot;);\n        return string -&gt; {\n\n....\n</code></pre>\n<p>The code and the stream works properly, but I'm a bit disgusting with these <code>System.setProperty</code> (Similar to write them in properties file). They are necesary to bind the kafka topics.</p>\n<p>I remember that the older version used annotations (like @Input and @Output ) or something to bind the topics directly.</p>\n<p>Any idea to do it in the newest version ?</p>\n<p>Thanks a lot.</p>\n<p>Versions:</p>\n<pre><code>- dataflow=2.9.2\n- skipper=2.8.2\n- Spring boot version=2.6.3\n</code></pre>\n<p>Edit: I will add some info about the older version</p>\n<p>The code was something like this</p>\n<pre><code>@EnableBinding(Processor.class)\n@EnableConfigurationProperties({Config.class})\n@Configuration\npublic class ProcessorIndoorGps {\n\n    @Splitter(inputChannel = Processor.INPUT, \n              outputChannel = Processor.OUTPUT)\n    public List&lt;Message&gt; split(String in) throws ParseException, IOException {\n\n        String uuid=&quot;.....&quot;;\n        Long date = new Date().getTime();\n        ...........\n\n\n- Spring boot version=2.1.4.RELEASE\n- dataflow=2.9.2\n- skipper=2.8.2\n</code></pre>\n<p>In this version, I not need any property to bind the kafka topics. I think that this binding was done for the annotations  @EnableBinding and @Splitter , but this annotations not exist in the new Spring boot version.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1649979831,"post_id":71878522,"comment_id":127016897,"body_markdown":"That sounds like your `s.getId()` isn&#39;t pointing to the right node, or the task is failing. So I&#39;d recommend logging `s.getId()`, and if hat looks OK then also looking `task.getException()`.","body":"That sounds like your <code>s.getId()</code> isn&#39;t pointing to the right node, or the task is failing. So I&#39;d recommend logging <code>s.getId()</code>, and if hat looks OK then also looking <code>task.getException()</code>."},{"owner":{"account_id":19374257,"reputation":35,"user_id":14166900,"display_name":"Yeury De los Santos"},"score":0,"creation_date":1649980651,"post_id":71878522,"comment_id":127017027,"body_markdown":"s.getId is fine, it deletes 1 item, but I am looking for a way to delete every selected item, how can I pass an array to my removeValue?? I want to remove not 1 but every selected item.","body":"s.getId is fine, it deletes 1 item, but I am looking for a way to delete every selected item, how can I pass an array to my removeValue?? I want to remove not 1 but every selected item."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649993580,"creation_date":1649993580,"answer_id":71879784,"question_id":71878522,"body_markdown":"If you want to remove multiple items you can either delete them by calling `removeValue()` for each of them, or you can run a single multi-path update statement. That second option takes the form of:\r\n\r\n```\r\nMap&lt;String,Object&gt; updates = new HashMap&lt;&gt;();\r\nupdates.put(s.getId());\r\nupdates.put(second.getId());\r\nupdates.put(third.getId())\r\n\r\ndatabaseReference.updateChildren(updates).addOnCompleteListener(...);\r\n```","title":"How can I delete from firebase database only selected items in my recyclerview - andorid - java","body":"<p>If you want to remove multiple items you can either delete them by calling <code>removeValue()</code> for each of them, or you can run a single multi-path update statement. That second option takes the form of:</p>\n<pre><code>Map&lt;String,Object&gt; updates = new HashMap&lt;&gt;();\nupdates.put(s.getId());\nupdates.put(second.getId());\nupdates.put(third.getId())\n\ndatabaseReference.updateChildren(updates).addOnCompleteListener(...);\n</code></pre>\n"}],"owner":{"account_id":19374257,"reputation":35,"user_id":14166900,"display_name":"Yeury De los Santos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71879784,"answer_count":1,"score":0,"last_activity_date":1650005157,"creation_date":1649978112,"question_id":71878522,"body_markdown":"delete method\r\n\r\n    private void deleteExpense(Expense s) {\r\n        if (dialogConfirmed) {\r\n\r\n            DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;Expenses&quot;).child(Objects.requireNonNull(FirebaseAuth.getInstance().getCurrentUser()).getUid());\r\n            databaseReference.child(s.getId()).removeValue().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                    if (!task.isSuccessful()) {\r\n                        Toast.makeText(activity, activity.getString(R.string.input_error) + task.getException(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nI have an arraylist where I save selected items, but when I delete and come back to the activity they show up again because I cannot find a way to delete them from firebase. would anyone please let me know how I can take my selection list and delete those items from firebase.\r\n\r\n\r\nBased on the answers I tried this, but still no luck.\r\n\r\n    private void deleteExpense() {\r\n        if (dialogConfirmed) {\r\n\r\n            DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;Expenses&quot;).child(Objects.requireNonNull(FirebaseAuth.getInstance().getCurrentUser()).getUid());\r\n\r\n            Map&lt;String, Object&gt; delete = new HashMap&lt;&gt;();\r\n            for (Expense i : selectedExpenses) {\r\n                delete.put(&quot;item&quot; + i, null);\r\n            }\r\n\r\n            databaseReference.updateChildren(delete).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                }\r\n            });\r\n        }\r\n    }","title":"How can I delete from firebase database only selected items in my recyclerview - andorid - java","body":"<p>delete method</p>\n<pre><code>private void deleteExpense(Expense s) {\n    if (dialogConfirmed) {\n\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;Expenses&quot;).child(Objects.requireNonNull(FirebaseAuth.getInstance().getCurrentUser()).getUid());\n        databaseReference.child(s.getId()).removeValue().addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                if (!task.isSuccessful()) {\n                    Toast.makeText(activity, activity.getString(R.string.input_error) + task.getException(), Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>I have an arraylist where I save selected items, but when I delete and come back to the activity they show up again because I cannot find a way to delete them from firebase. would anyone please let me know how I can take my selection list and delete those items from firebase.</p>\n<p>Based on the answers I tried this, but still no luck.</p>\n<pre><code>private void deleteExpense() {\n    if (dialogConfirmed) {\n\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;Expenses&quot;).child(Objects.requireNonNull(FirebaseAuth.getInstance().getCurrentUser()).getUid());\n\n        Map&lt;String, Object&gt; delete = new HashMap&lt;&gt;();\n        for (Expense i : selectedExpenses) {\n            delete.put(&quot;item&quot; + i, null);\n        }\n\n        databaseReference.updateChildren(delete).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1650005110,"creation_date":1649745207,"answer_id":71838081,"question_id":71836368,"body_markdown":"Your question is not clear. But I’ll take a guess: Future versions of Java may get the feature of *virtual threads*. \r\n\r\n# Virtual threads\r\n\r\nI suspect you might be looking for the new [virtual threads][1] ([fibers][2]) feature being added as part of the [Project Loom][3] technology. \r\n\r\nIn today’s Java, Java threads are mapped onto host OS threads (“platform threads”), one to one. When the Java code in a thread blocks, such as waiting for storage I/O or network I/O, the thread blocks with no further work being done on that thread until the blocked code is able to continue. \r\n\r\nIn Loom, many virtual threads are mapped per platform thread. By “many”, I mean thousands, even millions — versus the dozens of threads commonly used nowadays. \r\n\r\nWhen the code executing in a virtual thread blocks, the JVM “dismounts” that virtual thread so as to assign a different virtual thread to the “real” platform thread. This mounting and dismounting of virtual threads onto platform threads for execution is relatively very fast and efficient, with possibilities for even more speed in future versions of Loom technologies. So many apps will see *dramatic* improvements in performance and in workload throughput. And the CPU cores will get much more exercise. \r\n\r\nTo learn more, see the articles, interviews, and presentations by members of the Project Loom team, including Ron Pressler and Alan Bateman.\r\n\r\nYou asked:\r\n\r\n&gt; Is there a FixedThreadPool can dynamicly suspend sleeping(or other waiting states) thread and running new task in JAVA?  \r\n\r\nSee [this new executor service][4].\r\n\r\n\r\n    ExecutorService es = Executors.newVirtualThreadPerTaskExecutor() ;\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/425\r\n  [2]: https://en.m.wikipedia.org/wiki/Fiber_(computer_science)\r\n  [3]: https://wiki.openjdk.java.net/display/loom/Main\r\n  [4]: https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html#newVirtualThreadPerTaskExecutor()\r\n","title":"Is there a FixedThreadPool can dynamicly suspend sleeping(or other waiting states) thread and running new task in JAVA?","body":"<p>Your question is not clear. But I’ll take a guess: Future versions of Java may get the feature of <em>virtual threads</em>.</p>\n<h1>Virtual threads</h1>\n<p>I suspect you might be looking for the new <a href=\"https://openjdk.java.net/jeps/425\" rel=\"nofollow noreferrer\">virtual threads</a> (<a href=\"https://en.m.wikipedia.org/wiki/Fiber_(computer_science)\" rel=\"nofollow noreferrer\">fibers</a>) feature being added as part of the <a href=\"https://wiki.openjdk.java.net/display/loom/Main\" rel=\"nofollow noreferrer\">Project Loom</a> technology.</p>\n<p>In today’s Java, Java threads are mapped onto host OS threads (“platform threads”), one to one. When the Java code in a thread blocks, such as waiting for storage I/O or network I/O, the thread blocks with no further work being done on that thread until the blocked code is able to continue.</p>\n<p>In Loom, many virtual threads are mapped per platform thread. By “many”, I mean thousands, even millions — versus the dozens of threads commonly used nowadays.</p>\n<p>When the code executing in a virtual thread blocks, the JVM “dismounts” that virtual thread so as to assign a different virtual thread to the “real” platform thread. This mounting and dismounting of virtual threads onto platform threads for execution is relatively very fast and efficient, with possibilities for even more speed in future versions of Loom technologies. So many apps will see <em>dramatic</em> improvements in performance and in workload throughput. And the CPU cores will get much more exercise.</p>\n<p>To learn more, see the articles, interviews, and presentations by members of the Project Loom team, including Ron Pressler and Alan Bateman.</p>\n<p>You asked:</p>\n<blockquote>\n<p>Is there a FixedThreadPool can dynamicly suspend sleeping(or other waiting states) thread and running new task in JAVA?</p>\n</blockquote>\n<p>See <a href=\"https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/Executors.html#newVirtualThreadPerTaskExecutor()\" rel=\"nofollow noreferrer\">this new executor service</a>.</p>\n<pre><code>ExecutorService es = Executors.newVirtualThreadPerTaskExecutor() ;\n</code></pre>\n"}],"owner":{"account_id":16724199,"reputation":62,"user_id":12088191,"display_name":"A1 paper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1649760487,"accepted_answer_id":71838081,"answer_count":1,"score":-2,"last_activity_date":1650005110,"creation_date":1649730788,"question_id":71836368,"body_markdown":"Ensure maximum CPU utilization. I know golang have a go expression like this, but java we can&#39;t ensure maximum CPU utilization. An unlimited number of threads consumes additional system resources","title":"Is there a FixedThreadPool can dynamicly suspend sleeping(or other waiting states) thread and running new task in JAVA?","body":"<p>Ensure maximum CPU utilization. I know golang have a go expression like this, but java we can't ensure maximum CPU utilization. An unlimited number of threads consumes additional system resources</p>\n"},{"tags":["java","swing","jframe","awt"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1649977186,"post_id":71877873,"comment_id":127016436,"body_markdown":"First, you want to make your data model correct.  A board has many cells;  therefore, the Board class should have an array of Cells (which it does).  A Cell instance represents just one cell;  it should not contain an array at all.","body":"First, you want to make your data model correct.  A board has many cells;  therefore, the Board class should have an array of Cells (which it does).  A Cell instance represents just one cell;  it should not contain an array at all."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1650004893,"post_id":71877873,"comment_id":127020350,"body_markdown":"*&quot;I also have another class, .. but didn&#39;t feel it was necessary to include.&quot;* Don&#39;t post the `Menu` class or 4 separate classes, but one [mre]. An MRE includes everything needed to run the code and see the problem, with nothing else besides that. *&quot;I know AWT is out of data and Swing is much more informative and useful, but I am being taught and have the most resources on AWT.&quot;* Only the components should not be used, and questions using all Swing components will get better answers, as even most of us who *ever* used AWT components have mostly forgotten the details.","body":"<i>&quot;I also have another class, .. but didn&#39;t feel it was necessary to include.&quot;</i> Don&#39;t post the <code>Menu</code> class or 4 separate classes, but one <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. An MRE includes everything needed to run the code and see the problem, with nothing else besides that. <i>&quot;I know AWT is out of data and Swing is much more informative and useful, but I am being taught and have the most resources on AWT.&quot;</i> Only the components should not be used, and questions using all Swing components will get better answers, as even most of us who <i>ever</i> used AWT components have mostly forgotten the details."}],"owner":{"display_name":"user16879601"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650004484,"creation_date":1649972149,"question_id":71877873,"body_markdown":"I am a student in the process of making a Tic Tac Toe game, and currently have most of the UI and grid itself. I know AWT is out of data and Swing is much more informative and useful, but I am being taught and have the most resources on AWT. I currently have 5 classes: \r\n\r\nGUI Class:\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.JFrame;\r\n\r\npublic class GUI{\r\n    JFrame frame1;\r\n    Board board1;\r\n    Buttons buttons;\r\n    MyMenu menu1;\r\n\r\n    public GUI() {\r\n        frame1 = new JFrame(&quot;Tic Tac Toe&quot;);\r\n        board1 = new Board(3,3 ,200);\r\n        buttons = new Buttons(this);\r\n        menu1 = new MyMenu(this);\r\n    }\r\n\r\n    public void start () {\r\n        frame1.setLayout(new FlowLayout());\r\n        board1.setBackground(Color.BLACK);\r\n        frame1.setMenuBar(menu1);\r\n        frame1.add(board1);\r\n        frame1.add(buttons);\r\n        frame1.pack();\r\n        frame1.setVisible(true);\r\n    }\r\n    \r\n    public static void main (String[] args) {\r\n        GUI gui = new GUI();\r\n        gui.start();\r\n    }\r\n    \r\n    public void setBackground (Color c) {\r\n        board1.setBackground(c);\r\n    }\r\n    \r\n    public void closeGame() {\r\n        frame1.dispose();\r\n    }\r\n}\r\n```\r\nBoard Class:\r\n```\r\nimport java.awt.Canvas;\r\nimport java.awt.Graphics;\r\nimport java.awt.Color;\r\nimport java.awt.*;\r\n\r\npublic class Board extends Canvas {\r\n    Cell[][] array;\r\n    int rows, cols;\r\n    public Board(int rows, int cols, int size) {\r\n        this.rows = rows;\r\n        this.cols = cols;\r\n        array = new Cell[rows][cols];\r\n        for (int r = 0; r &lt; rows; r++) {\r\n            int y = r * size;\r\n            for (int c = 0; c &lt; cols; c++) {\r\n                int x = c * size;\r\n                array[r][c] = new Cell(x, y, size);\r\n            }   \r\n        }\r\n        setSize(cols*size,rows*size);\r\n    }\r\n    \r\n    public int getNumRows() {\r\n        return rows;\r\n    }\r\n    \r\n    public int getNumCols () {\r\n        return cols;\r\n    }\r\n\r\n    public void draw(Graphics g) {\r\n        for (Cell[] row : array) {\r\n            for (Cell cell : row) {\r\n                cell.paint(g);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void paint(Graphics g) {\r\n        draw(g);\r\n    }\r\n}\r\n```\r\nCell Class:\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.*;\r\n\r\npublic class Cell\r\n{\r\n    private final int x;\r\n    private final int y;\r\n    private final int size;\r\n    int rows;\r\n    int cols;\r\n    Cell[][] array = new Cell[rows][cols];\r\n    public Cell(int x, int y, int size) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.size = size;\r\n    }\r\n\r\n    public void fillArray() {\r\n        for (int r = 0; r &lt; rows; r++) {\r\n            int y = r * size;\r\n            for (int c = 0; c &lt; cols; c++) {\r\n                int x = c * size;\r\n                array[r][c] = new Cell(x, y, size);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void paint(Graphics g) {\r\n        g.setColor(Color.YELLOW);\r\n        g.drawRect(x, y, size, size);\r\n    }\r\n}\r\n\r\n```\r\nButton Class:\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\npublic class Buttons extends Panel implements ActionListener {\r\n    Button test;\r\n    Button giveIn;\r\n    GUI gui;\r\n\r\n    public Buttons(GUI gui) {\r\n        this.gui = gui;\r\n        giveIn = new Button(&quot;GIVE UP!&quot;);\r\n        this.add(giveIn);\r\n        giveIn.addActionListener(this);\r\n\r\n    }\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource()== giveIn) {\r\n            gui.closeGame();\r\n        }\r\n    }\r\n}\r\n```\r\nI also have another class, implementing a `Menu`, but didn&#39;t feel it was necessary to include. How hard would and how would I implement it so when I click a rectangle on my grid, something is painted onto that specific rectangle? I understand I would need a mouse listener, and some sort of if statement on my paint method, as well as some methods that return the cell or rectangle clicked. How is something like this implemented?","title":"How to make AWT draw on grid on a rectangle that is clicked?","body":"<p>I am a student in the process of making a Tic Tac Toe game, and currently have most of the UI and grid itself. I know AWT is out of data and Swing is much more informative and useful, but I am being taught and have the most resources on AWT. I currently have 5 classes:</p>\n<p>GUI Class:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.JFrame;\n\npublic class GUI{\n    JFrame frame1;\n    Board board1;\n    Buttons buttons;\n    MyMenu menu1;\n\n    public GUI() {\n        frame1 = new JFrame(&quot;Tic Tac Toe&quot;);\n        board1 = new Board(3,3 ,200);\n        buttons = new Buttons(this);\n        menu1 = new MyMenu(this);\n    }\n\n    public void start () {\n        frame1.setLayout(new FlowLayout());\n        board1.setBackground(Color.BLACK);\n        frame1.setMenuBar(menu1);\n        frame1.add(board1);\n        frame1.add(buttons);\n        frame1.pack();\n        frame1.setVisible(true);\n    }\n    \n    public static void main (String[] args) {\n        GUI gui = new GUI();\n        gui.start();\n    }\n    \n    public void setBackground (Color c) {\n        board1.setBackground(c);\n    }\n    \n    public void closeGame() {\n        frame1.dispose();\n    }\n}\n</code></pre>\n<p>Board Class:</p>\n<pre><code>import java.awt.Canvas;\nimport java.awt.Graphics;\nimport java.awt.Color;\nimport java.awt.*;\n\npublic class Board extends Canvas {\n    Cell[][] array;\n    int rows, cols;\n    public Board(int rows, int cols, int size) {\n        this.rows = rows;\n        this.cols = cols;\n        array = new Cell[rows][cols];\n        for (int r = 0; r &lt; rows; r++) {\n            int y = r * size;\n            for (int c = 0; c &lt; cols; c++) {\n                int x = c * size;\n                array[r][c] = new Cell(x, y, size);\n            }   \n        }\n        setSize(cols*size,rows*size);\n    }\n    \n    public int getNumRows() {\n        return rows;\n    }\n    \n    public int getNumCols () {\n        return cols;\n    }\n\n    public void draw(Graphics g) {\n        for (Cell[] row : array) {\n            for (Cell cell : row) {\n                cell.paint(g);\n            }\n        }\n    }\n\n    public void paint(Graphics g) {\n        draw(g);\n    }\n}\n</code></pre>\n<p>Cell Class:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.*;\n\npublic class Cell\n{\n    private final int x;\n    private final int y;\n    private final int size;\n    int rows;\n    int cols;\n    Cell[][] array = new Cell[rows][cols];\n    public Cell(int x, int y, int size) {\n        this.x = x;\n        this.y = y;\n        this.size = size;\n    }\n\n    public void fillArray() {\n        for (int r = 0; r &lt; rows; r++) {\n            int y = r * size;\n            for (int c = 0; c &lt; cols; c++) {\n                int x = c * size;\n                array[r][c] = new Cell(x, y, size);\n            }\n        }\n    }\n\n    public void paint(Graphics g) {\n        g.setColor(Color.YELLOW);\n        g.drawRect(x, y, size, size);\n    }\n}\n\n</code></pre>\n<p>Button Class:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\n\npublic class Buttons extends Panel implements ActionListener {\n    Button test;\n    Button giveIn;\n    GUI gui;\n\n    public Buttons(GUI gui) {\n        this.gui = gui;\n        giveIn = new Button(&quot;GIVE UP!&quot;);\n        this.add(giveIn);\n        giveIn.addActionListener(this);\n\n    }\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource()== giveIn) {\n            gui.closeGame();\n        }\n    }\n}\n</code></pre>\n<p>I also have another class, implementing a <code>Menu</code>, but didn't feel it was necessary to include. How hard would and how would I implement it so when I click a rectangle on my grid, something is painted onto that specific rectangle? I understand I would need a mouse listener, and some sort of if statement on my paint method, as well as some methods that return the cell or rectangle clicked. How is something like this implemented?</p>\n"},{"tags":["java","spring-boot","maven","heroku","heroku-ci"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1649976914,"post_id":71878392,"comment_id":127016374,"body_markdown":"`List.of` is only present in Java 9 and later. You seem to be using 1.8.","body":"<code>List.of</code> is only present in Java 9 and later. You seem to be using 1.8."}],"answers":[{"tags":[],"owner":{"account_id":24944587,"reputation":1,"user_id":18810053,"display_name":"RAMAN PRAKASH VERMA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650003964,"creation_date":1650003964,"answer_id":71880770,"question_id":71878392,"body_markdown":"I suggest you to create a file named system.properties in project directory and write `java.runtime.version=11`. I hope it should work as because this had worked for me.","title":"Spring Boot error when deployed on Heroku","body":"<p>I suggest you to create a file named system.properties in project directory and write <code>java.runtime.version=11</code>. I hope it should work as because this had worked for me.</p>\n"}],"owner":{"account_id":23482702,"reputation":21,"user_id":17534625,"display_name":"brvim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650003964,"creation_date":1649976728,"question_id":71878392,"body_markdown":"I am having trouble deploying my app on Heroku.\r\nIt builds successfully on localhost without any errror. It even builds successfully when I do `mvn clean install` or `mvn clean package`. \r\n\r\nThis is my pom.xml file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-   4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.furntrade&lt;/groupId&gt;\r\n    &lt;artifactId&gt;SpringBoot&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;name&gt;FurntradeManagmentServet&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;webjars-bootstrap.version&gt;4.1.3&lt;/webjars-bootstrap.version&gt;\r\n        &lt;webjars-jquery-ui.version&gt;1.12.1&lt;/webjars-jquery-ui.version&gt;\r\n        &lt;webjars-jquery.version&gt;3.3.1-1&lt;/webjars-jquery.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jquery&lt;/artifactId&gt;\r\n            &lt;version&gt;${webjars-jquery.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jquery-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;${webjars-jquery-ui.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n            &lt;version&gt;${webjars-bootstrap.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\r\n            &lt;version&gt;0.30&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n            &lt;version&gt;3.18.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build-info&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;additionalProperties&gt;\r\n                                &lt;encoding.source&gt;${project.build.sourceEncoding}&lt;/encoding.source&gt;\r\n                                &lt;encoding.reporting&gt;${project.reporting.outputEncoding}&lt;/encoding.reporting&gt;\r\n                                &lt;java.source&gt;${maven.compiler.source}&lt;/java.source&gt;\r\n                                &lt;java.target&gt;${maven.compiler.target}&lt;/java.target&gt;\r\n                            &lt;/additionalProperties&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;9&lt;/source&gt;\r\n                    &lt;target&gt;9&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n\r\nThis is application.properties file (I removed my db credentials)\r\n\r\n    spring.datasource.driverClassName=org.postgresql.Driver\r\n    spring.datasource.maxActive=10\r\n    spring.datasource.maxIdle=5\r\n    spring.datasource.minIdle=2\r\n    spring.datasource.initialSize=5\r\n    spring.datasource.removeAbandoned=true\\\r\n    spring.datasource.url=jdbc:postgresql://DNLOCATION:5432/DBTANLENAME\r\n    spring.datasource.username=USERNAME\r\n    spring.datasource.password=PASSWORD\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    lspring.jpa.properties.hibernate.show_sql=true\r\n    spring.jpa.properties.hibernate.use_sql_comments=true\r\n    logging.level.org.hibernate.type=trace\r\n    hibernate.cache.auto_evict_collection_cache=true\r\n    server.error.include-message=always\r\n    spring.data.rest.base-path=/api\r\n    logging.level.org.springframework=INFO\r\n    spring.profiles.active=production\r\n    server.port=${PORT:5000}\r\n\r\n**Procfile**\r\n\r\n    web: java $JAVA_OPTS -jar target/SpringBoot-1.0.jar -Dserver.port=$PORT $JAR_OPTS\r\n\r\n**settings.properties file**\r\n\r\n    java.runtime.version=1.8\r\n\r\nThis is the error im getting in logs\r\n\r\n           [INFO] -------------------------------------------------------------\r\n           [ERROR] COMPILATION ERROR : \r\n           [INFO] -------------------------------------------------------------\r\n           [ERROR] /tmp/build_530e329c/src/main/java/com/furntrade/furntrademanagmentservet/Security/SecurityConfig.java:[40,48] cannot find symbol\r\n             symbol:   method of(java.lang.String,java.lang.String,java.lang.String)\r\n             location: interface java.util.List\r\n           [ERROR] /tmp/build_530e329c/src/main/java/com/furntrade/furntrademanagmentservet/Security/SecurityConfig.java:[41,48] cannot find symbol\r\n             symbol:   method of(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String)\r\n             location: interface java.util.List\r\n           [ERROR] /tmp/build_530e329c/src/main/java/com/furntrade/furntrademanagmentservet/Security/SecurityConfig.java:[42,48] cannot find symbol\r\n             symbol:   method of(java.lang.String)\r\n             location: interface java.util.List\r\n           [INFO] 3 errors \r\n           [INFO] -------------------------------------------------------------\r\n           [INFO] ------------------------------------------------------------------------\r\n           [INFO] BUILD FAILURE\r\n           [INFO] ------------------------------------------------------------------------\r\n           [INFO] Total time:  14.426 s\r\n           [INFO] Finished at: 2022-04-14T22:40:26Z\r\n           [INFO] ------------------------------------------------------------------------\r\n           [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project FurntradeManagmentServet: Compilation failure: Compilation failure: \r\n           [ERROR] /tmp/build_530e329c/src/main/java/com/furntrade/furntrademanagmentservet/Security/SecurityConfig.java:[40,48] cannot find symbol\r\n           [ERROR]   symbol:   method of(java.lang.String,java.lang.String,java.lang.String)\r\n           [ERROR]   location: interface java.util.List\r\n           [ERROR] /tmp/build_530e329c/src/main/java/com/furntrade/furntrademanagmentservet/Security/SecurityConfig.java:[41,48] cannot find symbol\r\n           [ERROR]   symbol:   method of(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String)\r\n           [ERROR]   location: interface java.util.List\r\n           [ERROR] /tmp/build_530e329c/src/main/java/com/furntrade/furntrademanagmentservet/Security/SecurityConfig.java:[42,48] cannot find symbol\r\n           [ERROR]   symbol:   method of(java.lang.String)\r\n           [ERROR]   location: interface java.util.List\r\n           [ERROR] -&gt; [Help 1]\r\n           [ERROR] \r\n           [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n           [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n           [ERROR] \r\n\r\nI have to mention that I don&#39;t have those `java.util.List` errors on my localhost. \r\nI have no idea where I am doing wrong. ","title":"Spring Boot error when deployed on Heroku","body":"<p>I am having trouble deploying my app on Heroku.\nIt builds successfully on localhost without any errror. It even builds successfully when I do <code>mvn clean install</code> or <code>mvn clean package</code>.</p>\n<p>This is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0\ncom.furntrade\nSpringBoot\n1.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.5.6\n \n\nFurntradeManagmentServet</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;webjars-bootstrap.version&gt;4.1.3&lt;/webjars-bootstrap.version&gt;\n    &lt;webjars-jquery-ui.version&gt;1.12.1&lt;/webjars-jquery-ui.version&gt;\n    &lt;webjars-jquery.version&gt;3.3.1-1&lt;/webjars-jquery.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;jquery&lt;/artifactId&gt;\n        &lt;version&gt;${webjars-jquery.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;jquery-ui&lt;/artifactId&gt;\n        &lt;version&gt;${webjars-jquery-ui.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n        &lt;version&gt;${webjars-bootstrap.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n        &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\n        &lt;version&gt;0.30&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n        &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n        &lt;version&gt;2.4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n        &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n        &lt;version&gt;3.18.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;build-info&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;additionalProperties&gt;\n                            &lt;encoding.source&gt;${project.build.sourceEncoding}&lt;/encoding.source&gt;\n                            &lt;encoding.reporting&gt;${project.reporting.outputEncoding}&lt;/encoding.reporting&gt;\n                            &lt;java.source&gt;${maven.compiler.source}&lt;/java.source&gt;\n                            &lt;java.target&gt;${maven.compiler.target}&lt;/java.target&gt;\n                        &lt;/additionalProperties&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;9&lt;/source&gt;\n                &lt;target&gt;9&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>This is application.properties file (I removed my db credentials)</p>\n<pre><code>spring.datasource.driverClassName=org.postgresql.Driver\nspring.datasource.maxActive=10\nspring.datasource.maxIdle=5\nspring.datasource.minIdle=2\nspring.datasource.initialSize=5\nspring.datasource.removeAbandoned=true\\\nspring.datasource.url=jdbc:postgresql://DNLOCATION:5432/DBTANLENAME\nspring.datasource.username=USERNAME\nspring.datasource.password=PASSWORD\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\nlspring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.use_sql_comments=true\nlogging.level.org.hibernate.type=trace\nhibernate.cache.auto_evict_collection_cache=true\nserver.error.include-message=always\nspring.data.rest.base-path=/api\nlogging.level.org.springframework=INFO\nspring.profiles.active=production\nserver.port=${PORT:5000}\n</code></pre>\n<p><strong>Procfile</strong></p>\n<pre><code>web: java $JAVA_OPTS -jar target/SpringBoot-1.0.jar -Dserver.port=$PORT $JAR_OPTS\n</code></pre>\n<p><strong>settings.properties file</strong></p>\n<pre><code>java.runtime.version=1.8\n</code></pre>\n<p>This is the error im getting in logs</p>\n<pre><code>       [INFO] -------------------------------------------------------------\n       [ERROR] COMPILATION ERROR : \n       [INFO] -------------------------------------------------------------\n       [ERROR] /tmp/build_530e329c/src/main/java/com/furntrade/furntrademanagmentservet/Security/SecurityConfig.java:[40,48] cannot find symbol\n         symbol:   method of(java.lang.String,java.lang.String,java.lang.String)\n         location: interface java.util.List\n       [ERROR] /tmp/build_530e329c/src/main/java/com/furntrade/furntrademanagmentservet/Security/SecurityConfig.java:[41,48] cannot find symbol\n         symbol:   method of(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String)\n         location: interface java.util.List\n       [ERROR] /tmp/build_530e329c/src/main/java/com/furntrade/furntrademanagmentservet/Security/SecurityConfig.java:[42,48] cannot find symbol\n         symbol:   method of(java.lang.String)\n         location: interface java.util.List\n       [INFO] 3 errors \n       [INFO] -------------------------------------------------------------\n       [INFO] ------------------------------------------------------------------------\n       [INFO] BUILD FAILURE\n       [INFO] ------------------------------------------------------------------------\n       [INFO] Total time:  14.426 s\n       [INFO] Finished at: 2022-04-14T22:40:26Z\n       [INFO] ------------------------------------------------------------------------\n       [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project FurntradeManagmentServet: Compilation failure: Compilation failure: \n       [ERROR] /tmp/build_530e329c/src/main/java/com/furntrade/furntrademanagmentservet/Security/SecurityConfig.java:[40,48] cannot find symbol\n       [ERROR]   symbol:   method of(java.lang.String,java.lang.String,java.lang.String)\n       [ERROR]   location: interface java.util.List\n       [ERROR] /tmp/build_530e329c/src/main/java/com/furntrade/furntrademanagmentservet/Security/SecurityConfig.java:[41,48] cannot find symbol\n       [ERROR]   symbol:   method of(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String)\n       [ERROR]   location: interface java.util.List\n       [ERROR] /tmp/build_530e329c/src/main/java/com/furntrade/furntrademanagmentservet/Security/SecurityConfig.java:[42,48] cannot find symbol\n       [ERROR]   symbol:   method of(java.lang.String)\n       [ERROR]   location: interface java.util.List\n       [ERROR] -&gt; [Help 1]\n       [ERROR] \n       [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n       [ERROR] Re-run Maven using the -X switch to enable full debug logging.\n       [ERROR] \n</code></pre>\n<p>I have to mention that I don't have those <code>java.util.List</code> errors on my localhost.\nI have no idea where I am doing wrong.</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649999353,"creation_date":1649999353,"answer_id":71880322,"question_id":71879477,"body_markdown":"You can edit Java Class template under **Preferences | Editor | File and Code Templates &gt; Files &gt; Class**\r\n\r\n![](https://i.stack.imgur.com/VjAuR.png)\r\n\r\nHere is the [documentation page](https://www.jetbrains.com/help/idea/using-file-and-code-templates.html) describing that functionality ","title":"Change default template for new java class in IntelliJ","body":"<p>You can edit Java Class template under <strong>Preferences | Editor | File and Code Templates &gt; Files &gt; Class</strong></p>\n<p><img src=\"https://i.stack.imgur.com/VjAuR.png\" alt=\"\" /></p>\n<p>Here is the <a href=\"https://www.jetbrains.com/help/idea/using-file-and-code-templates.html\" rel=\"nofollow noreferrer\">documentation page</a> describing that functionality</p>\n"}],"owner":{"account_id":19152542,"reputation":81,"user_id":13990137,"display_name":"Choych"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71880322,"answer_count":1,"score":1,"last_activity_date":1650003754,"creation_date":1649989927,"question_id":71879477,"body_markdown":"When I create a new .java class in IntelliJ or any other idea besides blueJ it just starts off with \r\n\r\n    public Class app {\r\n    \r\n    }\r\n\r\nIs there a way to set it to open with something different like an MVC Architecture template like this?\r\n\r\n\r\n    public class App{\r\n    \r\n        private int x;\r\n    \r\n        /**\r\n         * Constructor for objects of class App\r\n         */\r\n        public App()\r\n        {\r\n     \r\n        }\r\n    \r\n        /**\r\n         * An example of a method - replace this comment with your own\r\n         *\r\n         * @param  y  a sample parameter for a method\r\n         * @return    the sum of x and y\r\n         */\r\n        public int sampleMethod(int y)\r\n        {\r\n            // put your code here\r\n            return x + y;\r\n        }\r\n    }\r\n\r\n","title":"Change default template for new java class in IntelliJ","body":"<p>When I create a new .java class in IntelliJ or any other idea besides blueJ it just starts off with</p>\n<pre><code>public Class app {\n\n}\n</code></pre>\n<p>Is there a way to set it to open with something different like an MVC Architecture template like this?</p>\n<pre><code>public class App{\n\n    private int x;\n\n    /**\n     * Constructor for objects of class App\n     */\n    public App()\n    {\n \n    }\n\n    /**\n     * An example of a method - replace this comment with your own\n     *\n     * @param  y  a sample parameter for a method\n     * @return    the sum of x and y\n     */\n    public int sampleMethod(int y)\n    {\n        // put your code here\n        return x + y;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650003692,"creation_date":1650003692,"answer_id":71880739,"question_id":71880301,"body_markdown":"\r\nFix your code by following steps:\r\n\r\n1. You must to initialize your stacks, otherwise you will get NullPointerException. Add a constructor for your stacks like below:\r\n\r\n```java\r\npublic Undo() {\r\n    undo = new Stack&lt;&gt;();\r\n    redo = new Stack&lt;&gt;();\r\n    reversed = new Stack&lt;&gt;();\r\n}\r\n```\r\n \r\n2. Modify `command` method:\r\n\r\nreplace `str.equals(&quot;write&quot;)` to `str.startsWith(&quot;write&quot;)`\r\n ","title":"How do you read a txt file and invoke methods based on what&#39;s written inside the file? (Undo Stack)","body":"<p>Fix your code by following steps:</p>\n<ol>\n<li>You must to initialize your stacks, otherwise you will get NullPointerException. Add a constructor for your stacks like below:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public Undo() {\n    undo = new Stack&lt;&gt;();\n    redo = new Stack&lt;&gt;();\n    reversed = new Stack&lt;&gt;();\n}\n</code></pre>\n<ol start=\"2\">\n<li>Modify <code>command</code> method:</li>\n</ol>\n<p>replace <code>str.equals(&quot;write&quot;)</code> to <code>str.startsWith(&quot;write&quot;)</code></p>\n"}],"owner":{"account_id":24943948,"reputation":11,"user_id":18809483,"display_name":"ndjdijd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650003692,"creation_date":1649998976,"question_id":71880301,"body_markdown":" I&#39;m writing an Undo Stack and I&#39;m having trouble reading the file and invoking the methods written with in the txt file. I&#39;ve looked at other post but they don&#39;t seem to provide a clear answer. I&#39;m using the algs4 library and the In class to read the file and the In class to read the file. Problems only start once I&#39;m in the main method.\r\n\r\nOverall Code\r\n```\r\npackage edu.princeton.cs.algs4;\r\n\r\nimport java.util.NoSuchElementException;\r\nimport java.util.Scanner;\r\n\r\n/**\r\n *\r\n *\r\n *\r\n * @author James Bond\r\n */\r\npublic class Undo {\r\n\r\n    private Stack&lt;Character&gt; undo;\r\n    private Stack&lt;Character&gt; redo;\r\n    private Stack&lt;Character&gt; reversed;\r\n\r\n    /**\r\n     *\r\n     * @param write: This method uses while loop to empty all the elements from\r\n     * the stack.\r\n     * @param write: It also uses the push and pop method to put and remove\r\n     * items from the stack.\r\n     * @param ch: The character variable ch stores input from the user.\r\n     */\r\n    public void write(Character ch) {\r\n        undo.push(ch);\r\n        while (redo.isEmpty() != true) {\r\n            redo.pop();\r\n        }\r\n    }\r\n\r\n    public void Undo() {\r\n        if (undo.isEmpty()) {\r\n            throw new NoSuchElementException(&quot;Stack Underflow&quot;);\r\n        }\r\n        char poppedUndoChar = undo.pop();\r\n        redo.push(poppedUndoChar);\r\n    }\r\n\r\n    /**\r\n     * @param redo: Uses and if statement to check if the Stack is empty. and\r\n     * throws and exeception if it is empty. It also pushes the popped redo item\r\n     * onto thee the undo stack.\r\n     */\r\n    public void redo() {\r\n        if (redo.isEmpty()) {\r\n            throw new NoSuchElementException(&quot;Stack Underflow&quot;);\r\n        }\r\n        char poppedRedoChar = redo.pop();\r\n        undo.push(poppedRedoChar);\r\n    }\r\n\r\n    private void query(String str) {\r\n        int n = str.length();\r\n\r\n        if (str.equals(&quot;undo&quot;)) {\r\n            Undo();\r\n        } else if (&quot;redo&quot;.equals(str)) {\r\n            redo();\r\n        } else if (&quot;write&quot;.equals(str)) {\r\n            write(str.charAt(n - 1));\r\n        } else if (&quot;read&quot;.equals(str)) {\r\n            read();\r\n        } else if (&quot;clear&quot;.equals(str)) {\r\n            clear();\r\n        }\r\n\r\n    }\r\n\r\n    public void read() {\r\n        while (undo.isEmpty() == false) {\r\n            reversed.push(undo.pop());\r\n        }\r\n        while (reversed.isEmpty() == false) {\r\n            System.out.println(reversed.pop());\r\n        }\r\n    }\r\n\r\n    public void clear() {\r\n        while (undo.isEmpty() == false) {\r\n            undo.pop();\r\n        }\r\n        while (redo.isEmpty() == false) {\r\n            redo.pop();\r\n        }\r\n    }\r\n\r\n    public void command(String str) {\r\n        if ((str instanceof String) == false) {\r\n            throw new IllegalArgumentException(&quot;Incorrect Input&quot;);\r\n        }\r\n        int n = str.length();\r\n\r\n        if (str.equals(&quot;write&quot;)) {\r\n            write(str.charAt(6));\r\n        } else if (str.equals(&quot;undo&quot;)) {\r\n            Undo();\r\n        } else if (str.equals(&quot;redo&quot;)) {\r\n            redo();\r\n        } else if (str.equals(&quot;clear&quot;)) {\r\n            clear();\r\n        } else if (str.equals(&quot;read&quot;)) {\r\n            read();\r\n        }\r\n    }\r\n    // Scanner input = new Scanner(str);\r\n    // Ssting out = input.nextLine();\r\n    // System.out.print(out);\r\n    //\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        In input = new In(&quot;C:\\\\Users\\\\James Bond\\\\input.txt&quot;);\r\n        String str = input.readAll();\r\n        Undo kgb = new Undo();\r\n        System.out.println(str);\r\n        \r\n        while(input.readLine() != null){\r\n            kgb.command(str);\r\n            System.out.println(str);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n```\r\nTrouble Maker:\r\nSpecifically I need to read the file and invoke the methods.\r\n\r\nThe text in the file is as follows:\r\n\r\nwrite c\r\n\r\nwrite a\r\n\r\nwrite r\r\n\r\nwrite t\r\n\r\nundo\r\n\r\nundo\r\n\r\nwrite t\r\n\r\nread\r\n\r\nclear\r\n------\r\nWhich should produce this output: \r\n\r\ncat\r\n\r\n\r\n\r\nThe source of the problem is my main method.\r\n\r\nMore context at: https://www.geeksforgeeks.org/implement-undo-and-redo-features-of-a-text-editor/\r\n```\r\n    public static void main(String[] args) {\r\n        In input = new In(&quot;C:\\\\Users\\\\James Bond\\\\input.txt&quot;);\r\n        String str = input.readAll();\r\n        Undo kgb = new Undo();\r\n        System.out.println(str);\r\n        \r\n        while(input.readLine() != null){\r\n            kgb.command(str);\r\n            System.out.println(str);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\nAny help would be greatly appreciated.\r\n\r\n\r\n\r\n\r\n ","title":"How do you read a txt file and invoke methods based on what&#39;s written inside the file? (Undo Stack)","body":"<p>I'm writing an Undo Stack and I'm having trouble reading the file and invoking the methods written with in the txt file. I've looked at other post but they don't seem to provide a clear answer. I'm using the algs4 library and the In class to read the file and the In class to read the file. Problems only start once I'm in the main method.</p>\n<p>Overall Code</p>\n<pre><code>package edu.princeton.cs.algs4;\n\nimport java.util.NoSuchElementException;\nimport java.util.Scanner;\n\n/**\n *\n *\n *\n * @author James Bond\n */\npublic class Undo {\n\n    private Stack&lt;Character&gt; undo;\n    private Stack&lt;Character&gt; redo;\n    private Stack&lt;Character&gt; reversed;\n\n    /**\n     *\n     * @param write: This method uses while loop to empty all the elements from\n     * the stack.\n     * @param write: It also uses the push and pop method to put and remove\n     * items from the stack.\n     * @param ch: The character variable ch stores input from the user.\n     */\n    public void write(Character ch) {\n        undo.push(ch);\n        while (redo.isEmpty() != true) {\n            redo.pop();\n        }\n    }\n\n    public void Undo() {\n        if (undo.isEmpty()) {\n            throw new NoSuchElementException(&quot;Stack Underflow&quot;);\n        }\n        char poppedUndoChar = undo.pop();\n        redo.push(poppedUndoChar);\n    }\n\n    /**\n     * @param redo: Uses and if statement to check if the Stack is empty. and\n     * throws and exeception if it is empty. It also pushes the popped redo item\n     * onto thee the undo stack.\n     */\n    public void redo() {\n        if (redo.isEmpty()) {\n            throw new NoSuchElementException(&quot;Stack Underflow&quot;);\n        }\n        char poppedRedoChar = redo.pop();\n        undo.push(poppedRedoChar);\n    }\n\n    private void query(String str) {\n        int n = str.length();\n\n        if (str.equals(&quot;undo&quot;)) {\n            Undo();\n        } else if (&quot;redo&quot;.equals(str)) {\n            redo();\n        } else if (&quot;write&quot;.equals(str)) {\n            write(str.charAt(n - 1));\n        } else if (&quot;read&quot;.equals(str)) {\n            read();\n        } else if (&quot;clear&quot;.equals(str)) {\n            clear();\n        }\n\n    }\n\n    public void read() {\n        while (undo.isEmpty() == false) {\n            reversed.push(undo.pop());\n        }\n        while (reversed.isEmpty() == false) {\n            System.out.println(reversed.pop());\n        }\n    }\n\n    public void clear() {\n        while (undo.isEmpty() == false) {\n            undo.pop();\n        }\n        while (redo.isEmpty() == false) {\n            redo.pop();\n        }\n    }\n\n    public void command(String str) {\n        if ((str instanceof String) == false) {\n            throw new IllegalArgumentException(&quot;Incorrect Input&quot;);\n        }\n        int n = str.length();\n\n        if (str.equals(&quot;write&quot;)) {\n            write(str.charAt(6));\n        } else if (str.equals(&quot;undo&quot;)) {\n            Undo();\n        } else if (str.equals(&quot;redo&quot;)) {\n            redo();\n        } else if (str.equals(&quot;clear&quot;)) {\n            clear();\n        } else if (str.equals(&quot;read&quot;)) {\n            read();\n        }\n    }\n    // Scanner input = new Scanner(str);\n    // Ssting out = input.nextLine();\n    // System.out.print(out);\n    //\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        In input = new In(&quot;C:\\\\Users\\\\James Bond\\\\input.txt&quot;);\n        String str = input.readAll();\n        Undo kgb = new Undo();\n        System.out.println(str);\n        \n        while(input.readLine() != null){\n            kgb.command(str);\n            System.out.println(str);\n        }\n\n    }\n\n}\n\n\n\n</code></pre>\n<p>Trouble Maker:\nSpecifically I need to read the file and invoke the methods.</p>\n<p>The text in the file is as follows:</p>\n<p>write c</p>\n<p>write a</p>\n<p>write r</p>\n<p>write t</p>\n<p>undo</p>\n<p>undo</p>\n<p>write t</p>\n<p>read</p>\n<h2>clear</h2>\n<p>Which should produce this output:</p>\n<p>cat</p>\n<p>The source of the problem is my main method.</p>\n<p>More context at: <a href=\"https://www.geeksforgeeks.org/implement-undo-and-redo-features-of-a-text-editor/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/implement-undo-and-redo-features-of-a-text-editor/</a></p>\n<pre><code>    public static void main(String[] args) {\n        In input = new In(&quot;C:\\\\Users\\\\James Bond\\\\input.txt&quot;);\n        String str = input.readAll();\n        Undo kgb = new Undo();\n        System.out.println(str);\n        \n        while(input.readLine() != null){\n            kgb.command(str);\n            System.out.println(str);\n        }\n\n    }\n\n}\n</code></pre>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","android","illegalstateexception"],"answers":[{"tags":[],"owner":{"account_id":24942746,"reputation":41,"user_id":18808404,"display_name":"icyfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650003412,"creation_date":1650003412,"answer_id":71880714,"question_id":71879817,"body_markdown":"the problem has been resolved.\r\n\r\nonly use DialogFragment.show(fm,tag) replace ProgressDialog.show(fm,tag).\r\n","title":"java.lang.IllegalStateException: Fragment ProgressDialog{x) not associated with a fragment manager","body":"<p>the problem has been resolved.</p>\n<p>only use DialogFragment.show(fm,tag) replace ProgressDialog.show(fm,tag).</p>\n"}],"owner":{"account_id":24942746,"reputation":41,"user_id":18808404,"display_name":"icyfire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":804,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1650003412,"creation_date":1649993927,"question_id":71879817,"body_markdown":"I migrate the android source from API8 to API32.\r\nBecase the progressdialog class was deprecated in API26, \r\nso i want custom it. I search and founded it as follow url:\r\nhttps://qiita.com/Uchikoba/items/478d604f417465700ba1\r\n\r\ni copy it and create ProgressDialog  class in my app.\r\ni show and dismiss it in the same class, no have any problem.\r\n\r\n    public class BaseActivity extends AppCompatActivity   {\r\n    protected ProgressDialog mProgressDialog = null;\r\n\r\n      protected void callServerApi(\r\n            ApiHttpClient client,\r\n            String url, RequestParams params, int timeoutsec, boolean isAuth,\r\n            AsyncHttpResponseHandler handler, String dmsg) {\r\n\r\n        try {\r\n             mProgressDialog = ProgressDialog.newInstance(msg);\r\n            mProgressDialog.setCancelable(true);\r\n            mProgressDialog.show(getSupportFragmentManager(), &quot;tag&quot;);\r\n            dosomething();\r\n        }......\r\n\r\n       private void dosomething() {\r\n        new AsyncTask&lt;Void, Void, Void&gt;() {\r\n            @Override\r\n            protected Void doInBackground(Void... aVoid) {\r\n                try {\r\n                    Thread.sleep(5000);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(Void aVoid) {\r\n                if (mProgressDialog == null) return;\r\n                 mProgressDialog.dismiss();\r\n                 mProgressDialog = null;\r\n            }\r\n        }.execute();\r\n    }\r\n}\r\n\r\n\r\nbut i want use ProgressDialog as under consider.\r\n\r\n 1. show the progressdialog\r\n 2. communicate to server\r\n 3. get the response data and close progressdialog\r\n\r\n\r\nAccountActivity \r\n\r\n    public class AccountActivity extends BaseActivity {\r\n     ApiHttpClient mApiClient = new ApiHttpClient(ApiCookieStore.getCookieStore());\r\n\r\n   \r\n    public void callApiAuthentication(String uid, String pwd, String domain) {\r\n\r\n        RequestParams params = mApiClient.makeBaseRequestParams(&quot;account&quot;);\r\n        params.add(&quot;cj_uid&quot;, uid);\r\n        params.add(&quot;cj_pwd&quot;, pwd);\r\n        params.add(&quot;cj_domain&quot;, domain);\r\n        AsyncHttpResponseHandler handler = new AuthResponseHandler(this, uid, pwd, domain);\r\n\r\n        callServerApi(\r\n                mApiClient, &quot;http://www.sample.com/logon.do&quot;, params,\r\n                1000, false,handler, &quot;Now authenticating...&quot;);\r\n\r\n    }\r\n        public void saveInputText(String id, String pass, String domain)\r\n        throws SmartAppCipherException {\r\n\r\n        SmartAppPreference pref = new SmartAppPreference(this);\r\n        \r\n        pref.setAccount(id, pass, domain);\r\n    }\r\n}\r\n\r\nBaseActivity \r\n\r\n    public class BaseActivity extends AppCompatActivity   {\r\n    protected ProgressDialog mProgressDialog = null;\r\n    \r\n\r\n    protected void callServerApi(\r\n            ApiHttpClient client,\r\n            String url, RequestParams params, int timeoutsec, boolean isAuth,\r\n            AsyncHttpResponseHandler handler, String dmsg) {\r\n\r\n        try {\r\n            mProgressDialog = ProgressDialog.newInstance(msg);\r\n            mProgressDialog.setCancelable(true);\r\n            mProgressDialog.show(getSupportFragmentManager(), &quot;tag&quot;);\r\n\r\n            client.post(url, params, handler, timeoutsec * 1000);\r\n        }\r\n        catch(Exception  e) {\r\n         ...\r\n        }\r\n        \r\n    }\r\n\r\n    public void dismissProgress() {     \r\n        try {\r\n            if (mProgressDialog == null) return;\r\n            mProgressDialog.dismiss();\r\n            mProgressDialog = null;\r\n\r\n            }\r\n        catch(IllegalArgumentException e) {\r\n              ...\r\n        }\r\n    }\r\n\r\nAuthResponseHandler.java:\r\n\r\n    public class AuthResponseHandler extends AsyncHttpResponseHandler {\r\n\r\n    private AccountActivity mParentActivity = null;\r\n    private String mInputID;\r\n    private String mInputPassword;\r\n    private String mInputDomain;\r\n\r\n    protected AuthResponseHandler() {}\r\n    public AuthResponseHandler(AccountActivity parent, String id, String pwd, String domain) {\r\n        mParentActivity = parent;\r\n        mInputID = id;\r\n        mInputPassword = pwd;\r\n        mInputDomain = domain;\r\n    }\r\n\r\n    @Override\r\n    public void onSuccess(int statusCode, Header[] headers, byte[] responseBody) {\r\n\r\n        try {\r\n            String responseBodyString = new String(responseBody);\r\n            JsonReader jsr = new JsonReader(new StringReader(responseBodyString));\r\n            Gson gson = new Gson();\r\n            AuthResponse response = gson.fromJson(jsr, AuthResponse.class);\r\n            Logger.d(&quot;responseBodyString&quot;, responseBodyString);\r\n            if (response.getStatus() != 1) {\r\n\r\n                disptachApiError(response.getApiError());\r\n                return;\r\n            }\r\n            mParentActivity.saveInputText(mInputID, mInputPassword, mInputDomain);\r\n            mParentActivity.finish();\r\n        }\r\n        catch(Exception e) {\r\n            Logger.d(&quot;AuthResponseHandler.onReceive&quot;, &quot;failed&quot;, e);\r\n        }\r\n    }\r\n    \r\n        @Override\r\n    public void onFinish() {\r\n        \r\n        mParentActivity.dismissProgress();\r\n    }\r\n   }\r\n\r\nbuild.gradle\r\n\r\n    dependencies {\r\n    implementation &quot;androidx.constraintlayout:constraintlayout:2.1.3&quot;\r\n    implementation &quot;androidx.constraintlayout:constraintlayout-compose:1.0.0&quot;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.loopj.android:android-async-http:1.4.9&#39;\r\n    implementation &#39;androidx.work:work-runtime:2.7.1&#39;\r\n    implementation &#39;androidx.fragment:fragment:1.4.1&#39;\r\n    implementation &#39;androidx.core:core:1.7.0&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.9.0&#39;\r\n    implementation &quot;androidx.activity:activity:1.4.0&quot;\r\n    implementation files(&#39;libs/android-viewbadger.jar&#39;)\r\n\r\n\r\n\r\n\r\ni run this source ,but when call mParentActivity.dismissProgress() in AuthResponseHandler.java.\r\nthe java.lang.IllegalStateException has been occurred\r\n\r\n    java.lang.RuntimeException: java.lang.IllegalStateException: Fragment ProgressDialog{3a61bf9} (133e25a6-7db0-4a8f-8978-48deefd6308a) not associated with a fragment manager.\r\n        at com.loopj.android.http.AsyncHttpResponseHandler.onUserException(AsyncHttpResponseHandler.java:304)\r\n        at com.loopj.android.http.AsyncHttpResponseHandler.handleMessage(AsyncHttpResponseHandler.java:395)\r\n        at com.loopj.android.http.AsyncHttpResponseHandler$ResponderHandler.handleMessage(AsyncHttpResponseHandler.java:510)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\n     Caused by: java.lang.IllegalStateException: Fragment ProgressDialog{3a61bf9} (133e25a6-7db0-4a8f-8978-48deefd6308a) not associated with a fragment manager.\r\n        at androidx.fragment.app.Fragment.getParentFragmentManager(Fragment.java:1059)\r\n        at androidx.fragment.app.DialogFragment.dismissInternal(DialogFragment.java:352)\r\n        at androidx.fragment.app.DialogFragment.dismiss(DialogFragment.java:309)\r\n        at com.fujitsu.campus.smartapp.base.common.app.BaseActivity.dismissProgress(BaseActivity.java:173)\r\n        at com.fujitsu.campus.smartapp.base.config.account.AuthResponseHandler.onFinish(AuthResponseHandler.java:91)\r\n        at com.loopj.android.http.AsyncHttpResponseHandler.handleMessage(AsyncHttpResponseHandler.java:368)\r\n\r\n\r\nwho can help me?","title":"java.lang.IllegalStateException: Fragment ProgressDialog{x) not associated with a fragment manager","body":"<p>I migrate the android source from API8 to API32.\nBecase the progressdialog class was deprecated in API26,\nso i want custom it. I search and founded it as follow url:\n<a href=\"https://qiita.com/Uchikoba/items/478d604f417465700ba1\" rel=\"nofollow noreferrer\">https://qiita.com/Uchikoba/items/478d604f417465700ba1</a></p>\n<p>i copy it and create ProgressDialog  class in my app.\ni show and dismiss it in the same class, no have any problem.</p>\n<pre><code>public class BaseActivity extends AppCompatActivity   {\nprotected ProgressDialog mProgressDialog = null;\n\n  protected void callServerApi(\n        ApiHttpClient client,\n        String url, RequestParams params, int timeoutsec, boolean isAuth,\n        AsyncHttpResponseHandler handler, String dmsg) {\n\n    try {\n         mProgressDialog = ProgressDialog.newInstance(msg);\n        mProgressDialog.setCancelable(true);\n        mProgressDialog.show(getSupportFragmentManager(), &quot;tag&quot;);\n        dosomething();\n    }......\n\n   private void dosomething() {\n    new AsyncTask&lt;Void, Void, Void&gt;() {\n        @Override\n        protected Void doInBackground(Void... aVoid) {\n            try {\n                Thread.sleep(5000);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void aVoid) {\n            if (mProgressDialog == null) return;\n             mProgressDialog.dismiss();\n             mProgressDialog = null;\n        }\n    }.execute();\n}\n</code></pre>\n<p>}</p>\n<p>but i want use ProgressDialog as under consider.</p>\n<ol>\n<li>show the progressdialog</li>\n<li>communicate to server</li>\n<li>get the response data and close progressdialog</li>\n</ol>\n<p>AccountActivity</p>\n<pre><code>public class AccountActivity extends BaseActivity {\n ApiHttpClient mApiClient = new ApiHttpClient(ApiCookieStore.getCookieStore());\n\n\npublic void callApiAuthentication(String uid, String pwd, String domain) {\n\n    RequestParams params = mApiClient.makeBaseRequestParams(&quot;account&quot;);\n    params.add(&quot;cj_uid&quot;, uid);\n    params.add(&quot;cj_pwd&quot;, pwd);\n    params.add(&quot;cj_domain&quot;, domain);\n    AsyncHttpResponseHandler handler = new AuthResponseHandler(this, uid, pwd, domain);\n\n    callServerApi(\n            mApiClient, &quot;http://www.sample.com/logon.do&quot;, params,\n            1000, false,handler, &quot;Now authenticating...&quot;);\n\n}\n    public void saveInputText(String id, String pass, String domain)\n    throws SmartAppCipherException {\n\n    SmartAppPreference pref = new SmartAppPreference(this);\n    \n    pref.setAccount(id, pass, domain);\n}\n</code></pre>\n<p>}</p>\n<p>BaseActivity</p>\n<pre><code>public class BaseActivity extends AppCompatActivity   {\nprotected ProgressDialog mProgressDialog = null;\n\n\nprotected void callServerApi(\n        ApiHttpClient client,\n        String url, RequestParams params, int timeoutsec, boolean isAuth,\n        AsyncHttpResponseHandler handler, String dmsg) {\n\n    try {\n        mProgressDialog = ProgressDialog.newInstance(msg);\n        mProgressDialog.setCancelable(true);\n        mProgressDialog.show(getSupportFragmentManager(), &quot;tag&quot;);\n\n        client.post(url, params, handler, timeoutsec * 1000);\n    }\n    catch(Exception  e) {\n     ...\n    }\n    \n}\n\npublic void dismissProgress() {     \n    try {\n        if (mProgressDialog == null) return;\n        mProgressDialog.dismiss();\n        mProgressDialog = null;\n\n        }\n    catch(IllegalArgumentException e) {\n          ...\n    }\n}\n</code></pre>\n<p>AuthResponseHandler.java:</p>\n<pre><code>public class AuthResponseHandler extends AsyncHttpResponseHandler {\n\nprivate AccountActivity mParentActivity = null;\nprivate String mInputID;\nprivate String mInputPassword;\nprivate String mInputDomain;\n\nprotected AuthResponseHandler() {}\npublic AuthResponseHandler(AccountActivity parent, String id, String pwd, String domain) {\n    mParentActivity = parent;\n    mInputID = id;\n    mInputPassword = pwd;\n    mInputDomain = domain;\n}\n\n@Override\npublic void onSuccess(int statusCode, Header[] headers, byte[] responseBody) {\n\n    try {\n        String responseBodyString = new String(responseBody);\n        JsonReader jsr = new JsonReader(new StringReader(responseBodyString));\n        Gson gson = new Gson();\n        AuthResponse response = gson.fromJson(jsr, AuthResponse.class);\n        Logger.d(&quot;responseBodyString&quot;, responseBodyString);\n        if (response.getStatus() != 1) {\n\n            disptachApiError(response.getApiError());\n            return;\n        }\n        mParentActivity.saveInputText(mInputID, mInputPassword, mInputDomain);\n        mParentActivity.finish();\n    }\n    catch(Exception e) {\n        Logger.d(&quot;AuthResponseHandler.onReceive&quot;, &quot;failed&quot;, e);\n    }\n}\n\n    @Override\npublic void onFinish() {\n    \n    mParentActivity.dismissProgress();\n}\n</code></pre>\n<p>}</p>\n<p>build.gradle</p>\n<pre><code>dependencies {\nimplementation &quot;androidx.constraintlayout:constraintlayout:2.1.3&quot;\nimplementation &quot;androidx.constraintlayout:constraintlayout-compose:1.0.0&quot;\nimplementation 'androidx.legacy:legacy-support-v4:1.0.0'\nimplementation 'androidx.appcompat:appcompat:1.4.1'\nimplementation 'com.loopj.android:android-async-http:1.4.9'\nimplementation 'androidx.work:work-runtime:2.7.1'\nimplementation 'androidx.fragment:fragment:1.4.1'\nimplementation 'androidx.core:core:1.7.0'\nimplementation 'com.google.code.gson:gson:2.9.0'\nimplementation &quot;androidx.activity:activity:1.4.0&quot;\nimplementation files('libs/android-viewbadger.jar')\n</code></pre>\n<p>i run this source ,but when call mParentActivity.dismissProgress() in AuthResponseHandler.java.\nthe java.lang.IllegalStateException has been occurred</p>\n<pre><code>java.lang.RuntimeException: java.lang.IllegalStateException: Fragment ProgressDialog{3a61bf9} (133e25a6-7db0-4a8f-8978-48deefd6308a) not associated with a fragment manager.\n    at com.loopj.android.http.AsyncHttpResponseHandler.onUserException(AsyncHttpResponseHandler.java:304)\n    at com.loopj.android.http.AsyncHttpResponseHandler.handleMessage(AsyncHttpResponseHandler.java:395)\n    at com.loopj.android.http.AsyncHttpResponseHandler$ResponderHandler.handleMessage(AsyncHttpResponseHandler.java:510)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6077)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n Caused by: java.lang.IllegalStateException: Fragment ProgressDialog{3a61bf9} (133e25a6-7db0-4a8f-8978-48deefd6308a) not associated with a fragment manager.\n    at androidx.fragment.app.Fragment.getParentFragmentManager(Fragment.java:1059)\n    at androidx.fragment.app.DialogFragment.dismissInternal(DialogFragment.java:352)\n    at androidx.fragment.app.DialogFragment.dismiss(DialogFragment.java:309)\n    at com.fujitsu.campus.smartapp.base.common.app.BaseActivity.dismissProgress(BaseActivity.java:173)\n    at com.fujitsu.campus.smartapp.base.config.account.AuthResponseHandler.onFinish(AuthResponseHandler.java:91)\n    at com.loopj.android.http.AsyncHttpResponseHandler.handleMessage(AsyncHttpResponseHandler.java:368)\n</code></pre>\n<p>who can help me?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1650007157,"post_id":71866648,"comment_id":127020828,"body_markdown":"The question is also here: https://solveforums.msomimaktaba.com/threads/solved-how-can-i-set-variable-annotated-with-transient-form-a-setter-of-non-transient-variable-in-spring-jpa.822604/#post-822936 I don’t know why it’s marked “solved” there because I don’t see any solution. Maybe it’s just me.","body":"The question is also here: <a href=\"https://solveforums.msomimaktaba.com/threads/solved-how-can-i-set-variable-annotated-with-transient-form-a-setter-of-non-transient-variable-in-spring-jpa.822604/#post-822936\" rel=\"nofollow noreferrer\">solveforums.msomimaktaba.com/threads/&hellip;</a> I don’t know why it’s marked “solved” there because I don’t see any solution. Maybe it’s just me."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1650007223,"post_id":71866648,"comment_id":127020841,"body_markdown":"Probably your `getFormattedDateAndTimeString` method returns `null`. You may want to paste that method into your question.","body":"Probably your <code>getFormattedDateAndTimeString</code> method returns <code>null</code>. You may want to paste that method into your question."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1650007291,"post_id":71866648,"comment_id":127020851,"body_markdown":"I recommend you don’t use `Date`. That class is poorly designed and long outdated. For a time of day use `LocalTime` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>Date</code>. That class is poorly designed and long outdated. For a time of day use <code>LocalTime</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":24944212,"reputation":61,"user_id":18809717,"display_name":"rg226965"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650002906,"creation_date":1650002906,"answer_id":71880661,"question_id":71866648,"body_markdown":"you can try this code:\r\n```\r\n@Entity\r\n@Table(name = &quot;cap_ratio&quot;)\r\npublic class CapacitiveInfoModel {\r\n    @Id\r\n    @Column(name = &quot;time&quot;)\r\n    private Date dateAndTime;\r\n    @Transient\r\n    private String time;\r\n\r\n    public Date getDateAndTime() {\r\n        return dateAndTime;\r\n    }\r\n    public void setDateAndTime(Date dateAndTime) {\r\n        this.dateAndTime = dateAndTime;\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;HH:mm&quot;);\r\n        this.time = dateFormat.format(this.dateAndTime);\r\n    }\r\n    public String getTime() {\r\n        return time;\r\n    }\r\n}\r\n```\r\n","title":"How can I set variable annotated with @Transient form a setter of non transient variable in spring JPA?","body":"<p>you can try this code:</p>\n<pre><code>@Entity\n@Table(name = &quot;cap_ratio&quot;)\npublic class CapacitiveInfoModel {\n    @Id\n    @Column(name = &quot;time&quot;)\n    private Date dateAndTime;\n    @Transient\n    private String time;\n\n    public Date getDateAndTime() {\n        return dateAndTime;\n    }\n    public void setDateAndTime(Date dateAndTime) {\n        this.dateAndTime = dateAndTime;\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;HH:mm&quot;);\n        this.time = dateFormat.format(this.dateAndTime);\n    }\n    public String getTime() {\n        return time;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24933021,"reputation":1,"user_id":18799903,"display_name":"Pratik Bochare"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650002906,"creation_date":1649911828,"question_id":71866648,"body_markdown":"I am trying to set the time variable while the Date and Time variable is getting initialized by spring JPA but I am getting null in the time string. \r\nHow should I approach this problem ?\r\n\r\n\r\n```JAVA\r\n@Entity\r\n@Table(name = &quot;cap_ratio&quot;)\r\npublic class CapacitiveInfoModel {\r\n\t@Id\r\n\t@Column(name = &quot;time&quot;)\r\n\tprivate Date dateAndTime;\r\n\t@Transient\r\n\tprivate String time;\r\n\r\n\tpublic Date getDateAndTime() {\r\n\t\treturn dateAndTime;\r\n\t}\r\n\tpublic void setDateAndTime(Date dateAndTime) {\r\n\t\tthis.dateAndTime = dateAndTime;\r\n\t\tthis.time = DateAndTimeUtil.getFormattedDateAndTimeString(dateAndTime, &quot;HH:mm&quot;);\r\n\t}\r\n\tpublic String getTime() {\r\n\t\treturn time;\r\n\t}\r\n}\r\n```\r\n\r\n","title":"How can I set variable annotated with @Transient form a setter of non transient variable in spring JPA?","body":"<p>I am trying to set the time variable while the Date and Time variable is getting initialized by spring JPA but I am getting null in the time string.\nHow should I approach this problem ?</p>\n<pre><code>@Entity\n@Table(name = &quot;cap_ratio&quot;)\npublic class CapacitiveInfoModel {\n    @Id\n    @Column(name = &quot;time&quot;)\n    private Date dateAndTime;\n    @Transient\n    private String time;\n\n    public Date getDateAndTime() {\n        return dateAndTime;\n    }\n    public void setDateAndTime(Date dateAndTime) {\n        this.dateAndTime = dateAndTime;\n        this.time = DateAndTimeUtil.getFormattedDateAndTimeString(dateAndTime, &quot;HH:mm&quot;);\n    }\n    public String getTime() {\n        return time;\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","datetime","spring-data-jpa","timezone"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1649959513,"post_id":71875557,"comment_id":127011907,"body_markdown":"If the data type in PostgreSql is `timestamp with time zone`, it’s probably safest to use `OffsetDateTime` in Java. `Instant` might also work.","body":"If the data type in PostgreSql is <code>timestamp with time zone</code>, it’s probably safest to use <code>OffsetDateTime</code> in Java. <code>Instant</code> might also work."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1649959592,"post_id":71875557,"comment_id":127011930,"body_markdown":"If you receive a string, parse it into a `OffsetDateTime` (or which type you end up needing) in order to put it into your entity. Then Hibernate will take care of the rest. No need to worry about format in the database.","body":"If you receive a string, parse it into a <code>OffsetDateTime</code> (or which type you end up needing) in order to put it into your entity. Then Hibernate will take care of the rest. No need to worry about format in the database."}],"answers":[{"tags":[],"owner":{"account_id":24944067,"reputation":11,"user_id":18809582,"display_name":"Aditya Desai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650002775,"creation_date":1650002775,"answer_id":71880647,"question_id":71875557,"body_markdown":"To convert String to LocalDateTime you can follow this steps\r\n```\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;);    \r\nLocalDateTime dateTime = LocalDateTime.parse(&quot;2022-01-28T14:29:10.212&quot;, formatter);\r\n```\r\nAnd to convert it into OffsetDateTime you can follow this steps.\r\n```\r\nZoneId zoneId = ZoneId.of(&quot;UTC&quot;);   // Or another geographic: Europe/Paris\r\nZoneId defaultZone = ZoneId.systemDefault();\r\nZoneOffset offset = zoneId.getRules().getOffset(dateTime);\r\nOffsetDateTime offsetDateTime = OffsetDateTime.of(dateTime, offset);\r\n```","title":"How to save a date in a specific format with timezone in hibernate","body":"<p>To convert String to LocalDateTime you can follow this steps</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;);    \nLocalDateTime dateTime = LocalDateTime.parse(&quot;2022-01-28T14:29:10.212&quot;, formatter);\n</code></pre>\n<p>And to convert it into OffsetDateTime you can follow this steps.</p>\n<pre><code>ZoneId zoneId = ZoneId.of(&quot;UTC&quot;);   // Or another geographic: Europe/Paris\nZoneId defaultZone = ZoneId.systemDefault();\nZoneOffset offset = zoneId.getRules().getOffset(dateTime);\nOffsetDateTime offsetDateTime = OffsetDateTime.of(dateTime, offset);\n</code></pre>\n"}],"owner":{"account_id":18476555,"reputation":517,"user_id":13459947,"display_name":"Violetta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":925,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650002775,"creation_date":1649957241,"question_id":71875557,"body_markdown":"Previously, I used to write to the database.\r\n```\r\ninsert into test_table \r\n\t(id, event_date, insert_date) \r\nvalues \r\n\t(:id, \r\n\tto_timestamp(:event_date, &quot;YYYY-MM-DD HH24:MI:SS.FF3TZH:TZM&quot;), \r\n\tto_timestamp(:insert_date, &quot;YYYY-MM-DD HH24:MI:SS.FF3TZH:TZM&quot;) AT TIME ZONE &#39;utc&#39;)\r\n```\r\nNow I&#39;m trying to rewrite the insertion into the database using hibernate. I wrote Entity, but I don&#39;t know how to specify the correct date format `YYYY-MM-DD HH24:MI:SS.FF3TZH:TZM` and `&quot;YYYY-MM-DD HH24:MI:SS.FF3TZH:TZM&quot;` in `UTC`\r\n```\r\n@Entity\r\n@Table(name = &quot;test_table&quot;)\r\npublic class TestTable {\r\n    @Id\r\n    private Long id;\r\n\r\n    //?\r\n    private LocalDateTime eventDate;\r\n\r\n    //?\r\n    private LocalDateTime insertDate;\r\n}\r\n```\r\nAlso, I&#39;m not sure I&#39;ve chosen the right type `LocalDateTime`. The date comes to me as a string.\r\n\r\n\r\nHow do I save the date in the correct format? I use Postgresql","title":"How to save a date in a specific format with timezone in hibernate","body":"<p>Previously, I used to write to the database.</p>\n<pre><code>insert into test_table \n    (id, event_date, insert_date) \nvalues \n    (:id, \n    to_timestamp(:event_date, &quot;YYYY-MM-DD HH24:MI:SS.FF3TZH:TZM&quot;), \n    to_timestamp(:insert_date, &quot;YYYY-MM-DD HH24:MI:SS.FF3TZH:TZM&quot;) AT TIME ZONE 'utc')\n</code></pre>\n<p>Now I'm trying to rewrite the insertion into the database using hibernate. I wrote Entity, but I don't know how to specify the correct date format <code>YYYY-MM-DD HH24:MI:SS.FF3TZH:TZM</code> and <code>&quot;YYYY-MM-DD HH24:MI:SS.FF3TZH:TZM&quot;</code> in <code>UTC</code></p>\n<pre><code>@Entity\n@Table(name = &quot;test_table&quot;)\npublic class TestTable {\n    @Id\n    private Long id;\n\n    //?\n    private LocalDateTime eventDate;\n\n    //?\n    private LocalDateTime insertDate;\n}\n</code></pre>\n<p>Also, I'm not sure I've chosen the right type <code>LocalDateTime</code>. The date comes to me as a string.</p>\n<p>How do I save the date in the correct format? I use Postgresql</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8564,"page":1428,"page_size":100}
