{"items":[{"tags":["java","button","methods","parameters","listener"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654626834,"creation_date":1654626834,"answer_id":72536049,"question_id":72535987,"body_markdown":"Sounds like a `Runnable` is exactly what you need.\r\n\r\nDeclaration:\r\n```\r\npublic static ActionListener make_listener(JButton button, Runnable action) {\r\n    ActionListener listener = new ActionListener() {\r\n\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            action.run();\r\n        }\r\n    };\r\n    return listener;\r\n}\r\n```\r\nOr using a lambda for the `ActionListener` (and skipping the local variable):\r\n```\r\npublic static ActionListener make_listener(JButton button, Runnable action) {\r\n    return e -&gt; action.run();\r\n}\r\n```\r\n\r\nYou can now call it with any zero-argument method using a lambda or method reference:\r\n```\r\nActionListener listener1 = make_listener(() -&gt; callMethod());\r\nActionListener listener2 = make_listener(this::callMethod);\r\n```","title":"Pass Method as parameter for another Method in Java","body":"<p>Sounds like a <code>Runnable</code> is exactly what you need.</p>\n<p>Declaration:</p>\n<pre><code>public static ActionListener make_listener(JButton button, Runnable action) {\n    ActionListener listener = new ActionListener() {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            action.run();\n        }\n    };\n    return listener;\n}\n</code></pre>\n<p>Or using a lambda for the <code>ActionListener</code> (and skipping the local variable):</p>\n<pre><code>public static ActionListener make_listener(JButton button, Runnable action) {\n    return e -&gt; action.run();\n}\n</code></pre>\n<p>You can now call it with any zero-argument method using a lambda or method reference:</p>\n<pre><code>ActionListener listener1 = make_listener(() -&gt; callMethod());\nActionListener listener2 = make_listener(this::callMethod);\n</code></pre>\n"}],"owner":{"account_id":19189995,"reputation":5,"user_id":14019933,"display_name":"Matt Lindsey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654628182,"creation_date":1654626522,"question_id":72535987,"body_markdown":"I am creating a generic method to create action listeners for buttons, and i would like to be able to pass in another method into it&#39;s actionPerformed, rather than creating a new method for each use case of a listener. something like this:\r\n\r\n\tpublic static ActionListener makeListener(Method method) {\r\n\t\tActionListener listener = new ActionListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tmethod();\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn listener;\r\n\t}\r\n\r\nOther similar posts have had recommended Lambda Expressions, but (maybe due to a lack of understanding), I don&#39;t think those are what i need. Are there other options?\r\n","title":"Pass Method as parameter for another Method in Java","body":"<p>I am creating a generic method to create action listeners for buttons, and i would like to be able to pass in another method into it's actionPerformed, rather than creating a new method for each use case of a listener. something like this:</p>\n<pre><code>public static ActionListener makeListener(Method method) {\n    ActionListener listener = new ActionListener() {\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            method();\n        }\n    };\n    return listener;\n}\n</code></pre>\n<p>Other similar posts have had recommended Lambda Expressions, but (maybe due to a lack of understanding), I don't think those are what i need. Are there other options?</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1583415929,"post_id":60546534,"comment_id":107114688,"body_markdown":"You can use `_id` (if you know its value) to get an exact match for any document. Does document  B has a field called as &quot;&quot;key3?","body":"You can use <code>_id</code> (if you know its value) to get an exact match for any document. Does document  B has a field called as &quot;&quot;key3?"},{"owner":{"account_id":14041706,"reputation":711,"user_id":10142946,"display_name":"Gabriel Robaina"},"score":0,"creation_date":1583416027,"post_id":60546534,"comment_id":107114757,"body_markdown":"I don&#39;t know _id beforehand. I want to query for key1 and 2 only.","body":"I don&#39;t know _id beforehand. I want to query for key1 and 2 only."}],"answers":[{"tags":[],"owner":{"account_id":1122347,"reputation":35187,"user_id":1110423,"accept_rate":70,"display_name":"Alex Blex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583416109,"creation_date":1583416109,"answer_id":60546845,"question_id":60546534,"body_markdown":"Assuming by &quot;exact match&quot; you mean the document has no other fields but the ones in the query.\r\n\r\nYou will need to use aggregation framework to retrieve a list of keys in the object and filter out the ones that have unexpected keys.\r\nIn mongodb syntax it can be like this:\r\n\r\n    db.collection.aggregate([\r\n      {\r\n        $match: {\r\n            &quot;key1&quot;: &quot;Value1&quot;,\r\n            &quot;Key2&quot;: &quot;Value2&quot;\r\n        }\r\n      },\r\n      {\r\n        $addFields: {\r\n          extra_keys: {\r\n            $setDifference: [\r\n              {\r\n                $map: {\r\n                  input: {\r\n                    $objectToArray: &quot;$$ROOT&quot;\r\n                  },\r\n                  in: &quot;$$this.k&quot;\r\n                }\r\n              },\r\n              [                   // &lt;== the list of keys in the query\r\n                &quot;_id&quot;,\r\n                &quot;key1&quot;,\r\n                &quot;Key2&quot;\r\n              ]\r\n            ]\r\n          }\r\n        }\r\n      },\r\n      {\r\n        $match: {\r\n          extra_keys: []\r\n        }\r\n      }\r\n    ])","title":"Exact match document in MongoDB","body":"<p>Assuming by \"exact match\" you mean the document has no other fields but the ones in the query.</p>\n\n<p>You will need to use aggregation framework to retrieve a list of keys in the object and filter out the ones that have unexpected keys.\nIn mongodb syntax it can be like this:</p>\n\n<pre><code>db.collection.aggregate([\n  {\n    $match: {\n        \"key1\": \"Value1\",\n        \"Key2\": \"Value2\"\n    }\n  },\n  {\n    $addFields: {\n      extra_keys: {\n        $setDifference: [\n          {\n            $map: {\n              input: {\n                $objectToArray: \"$$ROOT\"\n              },\n              in: \"$$this.k\"\n            }\n          },\n          [                   // &lt;== the list of keys in the query\n            \"_id\",\n            \"key1\",\n            \"Key2\"\n          ]\n        ]\n      }\n    }\n  },\n  {\n    $match: {\n      extra_keys: []\n    }\n  }\n])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583419698,"creation_date":1583419378,"answer_id":60547903,"question_id":60546534,"body_markdown":"If your matching query `key:value` pair has the same order than your stored documents, the aggregation below [may work with **$eq** operator](https://docs.mongodb.com/manual/reference/bson-type-comparison-order/#objects).\r\n\r\n    db.collection.aggregate([\r\n      {\r\n        $match: {\r\n          $expr: {\r\n            $eq: [\r\n              {\r\n                &quot;key1&quot;: &quot;Value1&quot;,\r\n                &quot;Key2&quot;: &quot;Value2&quot;\r\n              },\r\n              {\r\n                $arrayToObject: {\r\n                  $filter: {\r\n                    input: {\r\n                      $objectToArray: &quot;$$ROOT&quot;\r\n                    },\r\n                    cond: {\r\n                      $ne: [\r\n                        &quot;$$this.k&quot;,\r\n                        &quot;_id&quot;\r\n                      ]\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    ])\r\n[MongoPlayground](https://mongoplayground.net/p/pLUvRwMBMC6)\r\n\r\n**Warning:** These objects are equals\r\n\r\n    {                          {\r\n      &quot;key1&quot;: &quot;Value1&quot;   ----      &quot;key1&quot;: &quot;Value1&quot;,\r\n      &quot;Key2&quot;: &quot;Value2&quot;,  ----      &quot;Key2&quot;: &quot;Value2&quot;\r\n    }                          }\r\n\r\nThese objects are **not** equals\r\n\r\n    {                          {\r\n      &quot;key1&quot;: &quot;Value1&quot;   --/-      &quot;Key2&quot;: &quot;Value2&quot;,\r\n      &quot;Key2&quot;: &quot;Value2&quot;,  -/--      &quot;key1&quot;: &quot;Value1&quot;\r\n    }                          }","title":"Exact match document in MongoDB","body":"<p>If your matching query <code>key:value</code> pair has the same order than your stored documents, the aggregation below <a href=\"https://docs.mongodb.com/manual/reference/bson-type-comparison-order/#objects\" rel=\"nofollow noreferrer\">may work with <strong>$eq</strong> operator</a>.</p>\n\n<pre><code>db.collection.aggregate([\n  {\n    $match: {\n      $expr: {\n        $eq: [\n          {\n            \"key1\": \"Value1\",\n            \"Key2\": \"Value2\"\n          },\n          {\n            $arrayToObject: {\n              $filter: {\n                input: {\n                  $objectToArray: \"$$ROOT\"\n                },\n                cond: {\n                  $ne: [\n                    \"$$this.k\",\n                    \"_id\"\n                  ]\n                }\n              }\n            }\n          }\n        ]\n      }\n    }\n  }\n])\n</code></pre>\n\n<p><a href=\"https://mongoplayground.net/p/pLUvRwMBMC6\" rel=\"nofollow noreferrer\">MongoPlayground</a></p>\n\n<p><strong>Warning:</strong> These objects are equals</p>\n\n<pre><code>{                          {\n  \"key1\": \"Value1\"   ----      \"key1\": \"Value1\",\n  \"Key2\": \"Value2\",  ----      \"Key2\": \"Value2\"\n}                          }\n</code></pre>\n\n<p>These objects are <strong>not</strong> equals</p>\n\n<pre><code>{                          {\n  \"key1\": \"Value1\"   --/-      \"Key2\": \"Value2\",\n  \"Key2\": \"Value2\",  -/--      \"key1\": \"Value1\"\n}                          }\n</code></pre>\n"}],"owner":{"account_id":14041706,"reputation":711,"user_id":10142946,"display_name":"Gabriel Robaina"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1654628104,"creation_date":1583415108,"question_id":60546534,"body_markdown":"I am currently using MongoDB&#39;s driver on a Java application. Suppose I have the two following documents stored in a collection:\r\n\r\nDocument A:\r\n\r\n    {\r\n      &quot;_id&quot;: &quot;something&quot;,\r\n      &quot;key1&quot;: &quot;Value1&quot;,\r\n      &quot;Key2&quot;: &quot;Value2&quot;,\r\n      &quot;Key3&quot;: &quot;Value3&quot;\r\n    }\r\n\r\nDocument B:\r\n\r\n    {\r\n      &quot;_id&quot;: &quot;somethingDifferent&quot;,\r\n      &quot;key1&quot;: &quot;Value1&quot;,\r\n      &quot;Key2&quot;: &quot;Value2&quot;\r\n    }\r\n\r\nNow, I want to retrieve an exact match of DocumentB&#39;s from the collection without also returning Document A, by using key1 and key2&#39;s values, and not _id since I don&#39;t know it beforehand.\r\n\r\nIf I just use DocumentB as a query (without _id), Mongo will also return DocumentA since it has matches all the keys and values, disconsidering the fact that DocumentA has an extra key (key3). \r\n\r\nIs there any way to perform this &quot;exact match&quot; query in Mongo? Will I have to implement a check afterwards?\r\n","title":"Exact match document in MongoDB","body":"<p>I am currently using MongoDB's driver on a Java application. Suppose I have the two following documents stored in a collection:</p>\n\n<p>Document A:</p>\n\n<pre><code>{\n  \"_id\": \"something\",\n  \"key1\": \"Value1\",\n  \"Key2\": \"Value2\",\n  \"Key3\": \"Value3\"\n}\n</code></pre>\n\n<p>Document B:</p>\n\n<pre><code>{\n  \"_id\": \"somethingDifferent\",\n  \"key1\": \"Value1\",\n  \"Key2\": \"Value2\"\n}\n</code></pre>\n\n<p>Now, I want to retrieve an exact match of DocumentB's from the collection without also returning Document A, by using key1 and key2's values, and not _id since I don't know it beforehand.</p>\n\n<p>If I just use DocumentB as a query (without _id), Mongo will also return DocumentA since it has matches all the keys and values, disconsidering the fact that DocumentA has an extra key (key3). </p>\n\n<p>Is there any way to perform this \"exact match\" query in Mongo? Will I have to implement a check afterwards?</p>\n"},{"tags":["java","linux",".class-file","xxd","compiler-version"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1654624943,"post_id":72535676,"comment_id":128133607,"body_markdown":"You&#39;re right, it&#39;s compiled for Java 5. However, you&#39;re wrong in thinking that cafebabe is 8 bytes. Each block of 4 you see is 2 bytes. &quot;ca&quot; is one byte, with unsigned value 202. &quot;fe&quot; is another byte, with unsigned value 254. That makes the 8th byte (numbered 7, because it starts at 0) the Java version.","body":"You&#39;re right, it&#39;s compiled for Java 5. However, you&#39;re wrong in thinking that cafebabe is 8 bytes. Each block of 4 you see is 2 bytes. &quot;ca&quot; is one byte, with unsigned value 202. &quot;fe&quot; is another byte, with unsigned value 254. That makes the 8th byte (numbered 7, because it starts at 0) the Java version."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1654626399,"post_id":72535676,"comment_id":128134045,"body_markdown":"This is not the “compiler version” but the target version specified to the compiler. This may match the compiler version, but doesn’t have to. You can use a compiler of one JDK to compile for a different (usually older) version using the `-target` or `--release` option.","body":"This is not the “compiler version” but the target version specified to the compiler. This may match the compiler version, but doesn’t have to. You can use a compiler of one JDK to compile for a different (usually older) version using the <code>-target</code> or <code>--release</code> option."}],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654625815,"creation_date":1654625815,"answer_id":72535873,"question_id":72535676,"body_markdown":"The simplest way is with the `file` command:\r\n\r\n    $ file FileSha256.class \r\n    FileSha256.class: compiled Java class data, version 55.0 (Java SE 11)\r\n\r\nThis is from an Ubuntu 22.04 system - I haven&#39;t tested on others.  While I do have Java installed an `strace` shows that it is never accessed.  Does it have to be `xxd`?\r\n\r\n\r\n","title":"Get java compiler version of a class file using xxd","body":"<p>The simplest way is with the <code>file</code> command:</p>\n<pre><code>$ file FileSha256.class \nFileSha256.class: compiled Java class data, version 55.0 (Java SE 11)\n</code></pre>\n<p>This is from an Ubuntu 22.04 system - I haven't tested on others.  While I do have Java installed an <code>strace</code> shows that it is never accessed.  Does it have to be <code>xxd</code>?</p>\n"},{"tags":[],"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654626811,"creation_date":1654626350,"answer_id":72535962,"question_id":72535676,"body_markdown":"The `xxd` output format is:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n```\r\n00000000: cafe babe 0000 0031 009b 0500 0000 0000  .......1........\r\n00000010: 0027 1005 0000 0000 0000 4e20 0500 0000  .&#39;........N ....\r\n|------|  |-------------------------------------|  |--------------|\r\naddress   16bit hex words                          ASCII if printable\r\n```\r\n\r\nSince each word is 16 bits / 2 bytes, represented as 4 hex digits, the 7th and 8th byte is the fourth word, `0031`, which in decimal is `49`, corresponding to [Java 5.0](https://en.wikipedia.org/wiki/Java_class_file#General_layout).\r\n\r\n(`cafe babe` is not ASCII but instead a hexadecimal joke, using the hex digits A-F to spell out english words. This is like how decimal 3735928559 happens to spell out `0xDEADBEEF` in hexadecimal)\r\n\r\nNote that this will tell you the bytecode version the compiler targeted, not necessarily which compiler was used. You can&#39;t tell whether the class was compiled by JDK 5.0 or by JDK-12 with `-target 5`.","title":"Get java compiler version of a class file using xxd","body":"<p>The <code>xxd</code> output format is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>00000000: cafe babe 0000 0031 009b 0500 0000 0000  .......1........\n00000010: 0027 1005 0000 0000 0000 4e20 0500 0000  .'........N ....\n|------|  |-------------------------------------|  |--------------|\naddress   16bit hex words                          ASCII if printable\n</code></pre>\n<p>Since each word is 16 bits / 2 bytes, represented as 4 hex digits, the 7th and 8th byte is the fourth word, <code>0031</code>, which in decimal is <code>49</code>, corresponding to <a href=\"https://en.wikipedia.org/wiki/Java_class_file#General_layout\" rel=\"nofollow noreferrer\">Java 5.0</a>.</p>\n<p>(<code>cafe babe</code> is not ASCII but instead a hexadecimal joke, using the hex digits A-F to spell out english words. This is like how decimal 3735928559 happens to spell out <code>0xDEADBEEF</code> in hexadecimal)</p>\n<p>Note that this will tell you the bytecode version the compiler targeted, not necessarily which compiler was used. You can't tell whether the class was compiled by JDK 5.0 or by JDK-12 with <code>-target 5</code>.</p>\n"}],"owner":{"account_id":2313596,"reputation":1534,"user_id":2031150,"accept_rate":92,"display_name":"Jack J"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72535873,"answer_count":2,"score":0,"last_activity_date":1654626811,"creation_date":1654624726,"question_id":72535676,"body_markdown":"I need to get the version of java that was used to compile a class file from a linux machine that doesn&#39;t have java.  I have learned from a comment on [this post][1] that this is possible using xxd.  \r\n\r\n&gt; Alternatively, if you open the class file in a hex editor you can look\r\n&gt; at bytes 7 and 8. The number will map to the numbers given in the\r\n&gt; above answer. E.g. 00 2E -&gt; JDK 1.2 = 46 (0x2E hex). Useful if you\r\n&gt; don&#39;t have access to javap.\r\n\r\nHowever, it isn&#39;t clear to me how the output is interpreted.  The first few lines of xxd displays this:\r\n\r\n    00000000: cafe babe 0000 0031 009b 0500 0000 0000  .......1........\r\n    00000010: 0027 1005 0000 0000 0000 4e20 0500 0000  .&#39;........N ....\r\n\r\nHow can I read this?  There is a [nice wiki page here][2], but it doesn&#39;t seem to follow my understanding of bytes.  I believe ASCII is supposed to be one byte per character, which would mean that &quot;cafe babe&quot; is 8 bytes.  The wiki page shows it to be 4 bytes.  Assuming that pattern is followed, then that would be that byte five is &quot;00&quot;, six is &quot;00&quot;, seven is &quot;00&quot;, and eight is &quot;31&quot;.    If this is correct, then by converting this to decimal, the minor version is (0x00 0x00) = 0, and the major version is (0x00 0x31) = 49.  The chart linked in the post I linked shows this to be Java 5.  Is this correct?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/1096159/2031150\r\n  [2]: https://en.wikipedia.org/wiki/Java_class_file#General_layout","title":"Get java compiler version of a class file using xxd","body":"<p>I need to get the version of java that was used to compile a class file from a linux machine that doesn't have java.  I have learned from a comment on <a href=\"https://stackoverflow.com/a/1096159/2031150\">this post</a> that this is possible using xxd.</p>\n<blockquote>\n<p>Alternatively, if you open the class file in a hex editor you can look\nat bytes 7 and 8. The number will map to the numbers given in the\nabove answer. E.g. 00 2E -&gt; JDK 1.2 = 46 (0x2E hex). Useful if you\ndon't have access to javap.</p>\n</blockquote>\n<p>However, it isn't clear to me how the output is interpreted.  The first few lines of xxd displays this:</p>\n<pre><code>00000000: cafe babe 0000 0031 009b 0500 0000 0000  .......1........\n00000010: 0027 1005 0000 0000 0000 4e20 0500 0000  .'........N ....\n</code></pre>\n<p>How can I read this?  There is a <a href=\"https://en.wikipedia.org/wiki/Java_class_file#General_layout\" rel=\"nofollow noreferrer\">nice wiki page here</a>, but it doesn't seem to follow my understanding of bytes.  I believe ASCII is supposed to be one byte per character, which would mean that &quot;cafe babe&quot; is 8 bytes.  The wiki page shows it to be 4 bytes.  Assuming that pattern is followed, then that would be that byte five is &quot;00&quot;, six is &quot;00&quot;, seven is &quot;00&quot;, and eight is &quot;31&quot;.    If this is correct, then by converting this to decimal, the minor version is (0x00 0x00) = 0, and the major version is (0x00 0x31) = 49.  The chart linked in the post I linked shows this to be Java 5.  Is this correct?</p>\n"},{"tags":["java","logic","factorial"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1653592335,"post_id":72396825,"comment_id":127894834,"body_markdown":"Figure out what you want `sum` (a bad name, btw) to be in terms of `i`.  That should tell you how to initialize them, what needs to happen to `sum` when you change `i`, and how to tell when your loop is done.","body":"Figure out what you want <code>sum</code> (a bad name, btw) to be in terms of <code>i</code>.  That should tell you how to initialize them, what needs to happen to <code>sum</code> when you change <code>i</code>, and how to tell when your loop is done."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1653594213,"post_id":72396825,"comment_id":127895447,"body_markdown":"`sum` should be called `product` and should be initialized to 1 (the multiplicative identity), not 0 (the additive identity).","body":"<code>sum</code> should be called <code>product</code> and should be initialized to 1 (the multiplicative identity), not 0 (the additive identity)."}],"answers":[{"tags":[],"owner":{"account_id":25399572,"reputation":21,"user_id":19209310,"display_name":"Spencer Login"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653592541,"creation_date":1653592541,"answer_id":72396911,"question_id":72396825,"body_markdown":"This can be solved pretty easily with recursion. Essentially, n! is the same as n * (n-1)!. You can use this information to build a simple recursive function to solve the problem. Ex:\r\n\r\n    public static int factorial(int n) {\r\n        if(n == 1) return 1;\r\n        return n * factorial(n - 1);\r\n    }\r\n\r\nThe base case is when n = 1, since 1! is 1.","title":"How to add my logic as per my understanding factorial?","body":"<p>This can be solved pretty easily with recursion. Essentially, n! is the same as n * (n-1)!. You can use this information to build a simple recursive function to solve the problem. Ex:</p>\n<pre><code>public static int factorial(int n) {\n    if(n == 1) return 1;\n    return n * factorial(n - 1);\n}\n</code></pre>\n<p>The base case is when n = 1, since 1! is 1.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653605960,"creation_date":1653605960,"answer_id":72398842,"question_id":72396825,"body_markdown":"Here is how I would do it.  Since factorials can get quite large, \r\nI&#39;m using a `BigInteger`.  And to expedite computations I am saving previously computed factorials.  This is known as `memoization`.\r\n```\r\nSystem.out.println(fact(1));\r\nSystem.out.println(fact(0));\r\nSystem.out.println(fact(15));\r\nSystem.out.println(fact(20));\r\nSystem.out.println(fact(22));\r\nSystem.out.println(fact(15));\r\nSystem.out.println(fact(21));\r\nSystem.out.println(fact(22));\r\nSystem.out.println(fact(23));\r\n```\r\nprints\r\n```\r\n1\r\n1\r\n1307674368000\r\n2432902008176640000\r\n1124000727777607680000\r\n1307674368000\r\n51090942171709440000\r\n1124000727777607680000\r\n25852016738884976640000\r\n```\r\n\r\nNothing too elaborate here\r\n- declare a static list to hold previously computed factorials.\r\n- check if n &gt;= 0\r\n- see if the the factorial has been computed.  If so return it.\r\n- otherwise, start with the last computed and continue.\r\n- save each subequently computed factorial\r\n- when finished, return the result.\r\n```\r\nstatic List&lt;BigInteger&gt; computedFactorials =\r\n\t\tnew ArrayList&lt;&gt;(List.of(BigInteger.ONE, BigInteger.ONE));\r\n\t\r\npublic static BigInteger fact(int n) {\r\n\tif (n &lt; 0) {\r\n\t\tthrow new IllegalArgumentException(&quot;n must be  &gt;= 0&quot;);\r\n\t}\r\n\t\r\n\tif (computedFactorials.size() &gt; n) {\r\n//\t\tSystem.out.println(&quot;successful lookup&quot;);\r\n\t\treturn computedFactorials.get(n);\r\n\t}\r\n\tint k = computedFactorials.size() - 1;\r\n\tBigInteger fact = computedFactorials.get(k);\r\n\tfor (int i = k + 1; i &lt;= n; i++) {\r\n\t\tfact = fact.multiply(BigInteger.valueOf(i));\r\n//     \tSystem.out.println(&quot;i = &quot; + i + &quot;, fact = &quot; + fact);\r\n\t\tcomputedFactorials.add(fact);\r\n\t}\r\n\treturn fact;\r\n}\r\n```\r\nIf you want to see the method in action, just uncomment the two print statements. The downside here is that the list needs to be recomputed each time the program is run.  It would be better to save this to a data base on a serialized list.  But it may also be overkill based on your specific needs.  It could easily be retrofitted to use `ints` or `longs`. \r\n","title":"How to add my logic as per my understanding factorial?","body":"<p>Here is how I would do it.  Since factorials can get quite large,\nI'm using a <code>BigInteger</code>.  And to expedite computations I am saving previously computed factorials.  This is known as <code>memoization</code>.</p>\n<pre><code>System.out.println(fact(1));\nSystem.out.println(fact(0));\nSystem.out.println(fact(15));\nSystem.out.println(fact(20));\nSystem.out.println(fact(22));\nSystem.out.println(fact(15));\nSystem.out.println(fact(21));\nSystem.out.println(fact(22));\nSystem.out.println(fact(23));\n</code></pre>\n<p>prints</p>\n<pre><code>1\n1\n1307674368000\n2432902008176640000\n1124000727777607680000\n1307674368000\n51090942171709440000\n1124000727777607680000\n25852016738884976640000\n</code></pre>\n<p>Nothing too elaborate here</p>\n<ul>\n<li>declare a static list to hold previously computed factorials.</li>\n<li>check if n &gt;= 0</li>\n<li>see if the the factorial has been computed.  If so return it.</li>\n<li>otherwise, start with the last computed and continue.</li>\n<li>save each subequently computed factorial</li>\n<li>when finished, return the result.</li>\n</ul>\n<pre><code>static List&lt;BigInteger&gt; computedFactorials =\n        new ArrayList&lt;&gt;(List.of(BigInteger.ONE, BigInteger.ONE));\n    \npublic static BigInteger fact(int n) {\n    if (n &lt; 0) {\n        throw new IllegalArgumentException(&quot;n must be  &gt;= 0&quot;);\n    }\n    \n    if (computedFactorials.size() &gt; n) {\n//      System.out.println(&quot;successful lookup&quot;);\n        return computedFactorials.get(n);\n    }\n    int k = computedFactorials.size() - 1;\n    BigInteger fact = computedFactorials.get(k);\n    for (int i = k + 1; i &lt;= n; i++) {\n        fact = fact.multiply(BigInteger.valueOf(i));\n//      System.out.println(&quot;i = &quot; + i + &quot;, fact = &quot; + fact);\n        computedFactorials.add(fact);\n    }\n    return fact;\n}\n</code></pre>\n<p>If you want to see the method in action, just uncomment the two print statements. The downside here is that the list needs to be recomputed each time the program is run.  It would be better to save this to a data base on a serialized list.  But it may also be overkill based on your specific needs.  It could easily be retrofitted to use <code>ints</code> or <code>longs</code>.</p>\n"},{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654626523,"creation_date":1654626523,"answer_id":72535988,"question_id":72396825,"body_markdown":"    private int factorial(int n) {\r\n        if (n &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;n &lt; 0&quot;);\r\n        }\r\n\r\n        int sum = 1;\r\n        for (int i = n; i &gt; 1; i--) {\r\n            sum *= i;\r\n        }\r\n        return sum;\r\n    }","title":"How to add my logic as per my understanding factorial?","body":"<pre><code>private int factorial(int n) {\n    if (n &lt; 0) {\n        throw new IllegalArgumentException(&quot;n &lt; 0&quot;);\n    }\n\n    int sum = 1;\n    for (int i = n; i &gt; 1; i--) {\n        sum *= i;\n    }\n    return sum;\n}\n</code></pre>\n"}],"owner":{"account_id":24026302,"reputation":3,"user_id":18007879,"display_name":"karthick H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":72535988,"answer_count":3,"score":-4,"last_activity_date":1654626523,"creation_date":1653592029,"question_id":72396825,"body_markdown":"I am trying to calculate the factorial, like take an example 5!\r\n\r\n\r\n5 * 4 * 3 * 2 * 1 = 120 right\r\n\r\n20 * 3 * 2 * 1\r\n\r\n60 * 2 * 1\r\n\r\n120 * 1\r\n\r\n120\r\n\r\nHow to apply this logic in code? I tried this:\r\n\r\n```\r\nint sum = 0;\r\nint num = 5;\r\nfor (int i = 1; i &lt;= num; i++)\r\n{\r\n  sum = num * (num - 1) \r\n```\r\n\r\nI know this is wrong for for loop but if I use this I get the 5 * 4 = 20 for the first iteration\r\n \r\nOr:\r\n\r\n```\r\nsum = 1;\r\nsum = sum * (num - i)\r\n```\r\n\r\nIt gives like this:\r\n\r\n 1 = 1 * 4 = 4;\r\n\r\n 4 = 4 * 3 = 12;\r\n\r\n 12 = 12 * 2 = 24\r\n\r\n 24 = 24 * 1 = 24\r\n ","title":"How to add my logic as per my understanding factorial?","body":"<p>I am trying to calculate the factorial, like take an example 5!</p>\n<p>5 * 4 * 3 * 2 * 1 = 120 right</p>\n<p>20 * 3 * 2 * 1</p>\n<p>60 * 2 * 1</p>\n<p>120 * 1</p>\n<p>120</p>\n<p>How to apply this logic in code? I tried this:</p>\n<pre><code>int sum = 0;\nint num = 5;\nfor (int i = 1; i &lt;= num; i++)\n{\n  sum = num * (num - 1) \n</code></pre>\n<p>I know this is wrong for for loop but if I use this I get the 5 * 4 = 20 for the first iteration</p>\n<p>Or:</p>\n<pre><code>sum = 1;\nsum = sum * (num - i)\n</code></pre>\n<p>It gives like this:</p>\n<p>1 = 1 * 4 = 4;</p>\n<p>4 = 4 * 3 = 12;</p>\n<p>12 = 12 * 2 = 24</p>\n<p>24 = 24 * 1 = 24</p>\n"},{"tags":["java","python","algorithm","hashmap","hashtable"],"comments":[{"owner":{"account_id":6807639,"reputation":25999,"user_id":5238915,"accept_rate":100,"display_name":"RoadRunner"},"score":2,"creation_date":1519213531,"post_id":48904661,"comment_id":84815693,"body_markdown":"Another option would be to sort and use binary search. This would be O(NlogN) however.","body":"Another option would be to sort and use binary search. This would be O(NlogN) however."}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1519212958,"creation_date":1519212561,"answer_id":48904764,"question_id":48904661,"body_markdown":"The Java solution has a check that takes care of two equal elements:\r\n\r\n    if (map.containsKey(complement) &amp;&amp; map.get(complement) != i)\r\n\r\nThe first part of this condition - `map.containsKey(complement)` - means that the number `complement` is present in the `Map`, while the second part - `map.get(complement) != i)` - means that the index of `complement` stored in the map is different from the index `i`. This means that if `complement == nums[i]`, there are two identical numbers in the input array.\r\n\r\n\r\nI don&#39;t know Python, but it looks like your code fails because\r\n\r\n    if hash_table[k-x]!= hash_table[x]\r\n\r\nalways returns false when `k-x == x`. You need to compare `hash_table[k-x]` to the current index of the input array.\r\n\r\nBased on your first Python loop, I&#39;m assuming the second loop should look like this:\r\n\r\n        for i, x in enumerate(nums):\r\n            if k-x in hash_table:\r\n                if hash_table[k-x]!= i:\r\n                    return [i, hash_table[k-x]] ","title":"Find if sum of two numbers in an array is equal to k","body":"<p>The Java solution has a check that takes care of two equal elements:</p>\n\n<pre><code>if (map.containsKey(complement) &amp;&amp; map.get(complement) != i)\n</code></pre>\n\n<p>The first part of this condition - <code>map.containsKey(complement)</code> - means that the number <code>complement</code> is present in the <code>Map</code>, while the second part - <code>map.get(complement) != i)</code> - means that the index of <code>complement</code> stored in the map is different from the index <code>i</code>. This means that if <code>complement == nums[i]</code>, there are two identical numbers in the input array.</p>\n\n<p>I don't know Python, but it looks like your code fails because</p>\n\n<pre><code>if hash_table[k-x]!= hash_table[x]\n</code></pre>\n\n<p>always returns false when <code>k-x == x</code>. You need to compare <code>hash_table[k-x]</code> to the current index of the input array.</p>\n\n<p>Based on your first Python loop, I'm assuming the second loop should look like this:</p>\n\n<pre><code>    for i, x in enumerate(nums):\n        if k-x in hash_table:\n            if hash_table[k-x]!= i:\n                return [i, hash_table[k-x]] \n</code></pre>\n"},{"tags":[],"owner":{"account_id":118793,"reputation":1661,"user_id":4020610,"display_name":"Lohmar ASHAR"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1519213369,"creation_date":1519213295,"answer_id":48905009,"question_id":48904661,"body_markdown":"Why not go with something simple as:\r\n\r\n    def twoSum(nums, target):\r\n        for i, num1 in enumerate(nums):\r\n            for j, num2 in enumerate(nums):\r\n                if num1 + num2 == target and i != j:\r\n                    return [i, j]\r\n        return [-1, -1] # or whaterver you want to say &quot;no solution found&quot;\r\nthis produces:\r\n\r\n    print twoSum([2, 7, 11, 15], 9)   # =&gt;[0, 1] 2+7\r\n    print twoSum([2, 7, 11, 15], 22)  # =&gt;[1, 3] 7+15\r\n    print twoSum([2, 7, 11, 15], 23)  # =&gt; [-1, -1]  no solution\r\n","title":"Find if sum of two numbers in an array is equal to k","body":"<p>Why not go with something simple as:</p>\n\n<pre><code>def twoSum(nums, target):\n    for i, num1 in enumerate(nums):\n        for j, num2 in enumerate(nums):\n            if num1 + num2 == target and i != j:\n                return [i, j]\n    return [-1, -1] # or whaterver you want to say \"no solution found\"\n</code></pre>\n\n<p>this produces:</p>\n\n<pre><code>print twoSum([2, 7, 11, 15], 9)   # =&gt;[0, 1] 2+7\nprint twoSum([2, 7, 11, 15], 22)  # =&gt;[1, 3] 7+15\nprint twoSum([2, 7, 11, 15], 23)  # =&gt; [-1, -1]  no solution\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1196549"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519220278,"creation_date":1519220278,"answer_id":48907389,"question_id":48904661,"body_markdown":"Alternatively to the hash table solution, you can\r\n\r\n- sort the array (time `O(N Log N)`),\r\n- maintain two indexes `i`, `j` such that `num[i] + num[j] &lt;= sum &lt; num[i] + num[j+1]`; every time you increase `i`, you decrease `j` by `0` or more to adjust. `i` starts from `0` and `j` from the end.\r\n\r\nAt worse you increase `i` `N` times and decrease `j` `N` times for a total of `O(N)` operations. In case of equality, you are done.\r\n\r\nThis can be done in-place.","title":"Find if sum of two numbers in an array is equal to k","body":"<p>Alternatively to the hash table solution, you can</p>\n\n<ul>\n<li>sort the array (time <code>O(N Log N)</code>),</li>\n<li>maintain two indexes <code>i</code>, <code>j</code> such that <code>num[i] + num[j] &lt;= sum &lt; num[i] + num[j+1]</code>; every time you increase <code>i</code>, you decrease <code>j</code> by <code>0</code> or more to adjust. <code>i</code> starts from <code>0</code> and <code>j</code> from the end.</li>\n</ul>\n\n<p>At worse you increase <code>i</code> <code>N</code> times and decrease <code>j</code> <code>N</code> times for a total of <code>O(N)</code> operations. In case of equality, you are done.</p>\n\n<p>This can be done in-place.</p>\n"},{"tags":[],"owner":{"account_id":6491483,"reputation":9,"user_id":5025412,"display_name":"Srinivas Jatoth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654626433,"creation_date":1654626433,"answer_id":72535974,"question_id":48904661,"body_markdown":"Tried out using the JavaScript, \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    let qarr = [2, 3, 5, 6, 7, 9, 21, 24, 27, 35, 50, 98] //sorted Array\r\n    const qk = 85\r\n    function check_sum(arr, k){\r\n        for( i in arr){\r\n            if(arr[i]+arr[arr.length-1] === k){\r\n                return [qarr.indexOf(arr[i]), qarr.indexOf(arr[arr.length-1])]\r\n            }\r\n            else{\r\n                if(arr[i]+arr[arr.length-1] &gt;= k){\r\n                    if(arr.length == 2){\r\n                        return arr[0]+arr[1] == k ? [qarr.indexOf(arr[0], qarr.indexOf(arr[1]))] : [null, null]\r\n                    }\r\n                    else if(arr.length == 1){\r\n                        return arr[0]*2 == k ? [qarr.indexOf(arr[0]), qarr.indexOf(arr[0])] : [null, null]\r\n                    }\r\n                    else{\r\n                        return check_sum(arr.slice(i), k)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    res = check_sum(qarr.filter(a=&gt; a&lt;=qk), qk)\r\n    console.log(&#39;result&#39;, res)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Find if sum of two numbers in an array is equal to k","body":"<p>Tried out using the JavaScript,</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let qarr = [2, 3, 5, 6, 7, 9, 21, 24, 27, 35, 50, 98] //sorted Array\nconst qk = 85\nfunction check_sum(arr, k){\n    for( i in arr){\n        if(arr[i]+arr[arr.length-1] === k){\n            return [qarr.indexOf(arr[i]), qarr.indexOf(arr[arr.length-1])]\n        }\n        else{\n            if(arr[i]+arr[arr.length-1] &gt;= k){\n                if(arr.length == 2){\n                    return arr[0]+arr[1] == k ? [qarr.indexOf(arr[0], qarr.indexOf(arr[1]))] : [null, null]\n                }\n                else if(arr.length == 1){\n                    return arr[0]*2 == k ? [qarr.indexOf(arr[0]), qarr.indexOf(arr[0])] : [null, null]\n                }\n                else{\n                    return check_sum(arr.slice(i), k)\n                }\n            }\n        }\n    }\n}\n\nres = check_sum(qarr.filter(a=&gt; a&lt;=qk), qk)\nconsole.log('result', res)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":12581047,"reputation":773,"user_id":9151730,"accept_rate":58,"display_name":"mourinho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4182,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48904764,"answer_count":4,"score":2,"last_activity_date":1654626433,"creation_date":1519212272,"question_id":48904661,"body_markdown":"I am trying to solve:\r\n\r\n    Given an array of integers, return indices of the two numbers such that they add up to a specific target.\r\n    \r\n    You may assume that each input would have exactly one solution, and you may not use the same element twice.\r\n    \r\n    Example:\r\n    Given nums = [2, 7, 11, 15], target = 9,\r\n    \r\n    Because nums[0] + nums[1] = 2 + 7 = 9,\r\n    return [0, 1].\r\n\r\nHere is my solution:\r\n\r\n    def twoSum(nums, target):\r\n            &quot;&quot;&quot;\r\n            :type nums: List[int]\r\n            :type target: int\r\n            :rtype: List[int]\r\n            &quot;&quot;&quot;\r\n            \r\n            hash_table = {}\r\n            k = target\r\n            \r\n            for i, x in enumerate(nums):\r\n                if x not in hash_table:\r\n                    hash_table[x] = i\r\n                    \r\n            for x in nums:\r\n                if k-x in hash_table:\r\n                    if hash_table[k-x]!= hash_table[x]:\r\n                        return [hash_table[x], hash_table[k-x]] \r\n\r\nNow the solution is not correct as it fails the test case like [3,3], 6. Now both 3s get stored in hash table as one entry which is expected, so only one index is recorded in the hash table for 3 and my solution doesn&#39;t work.\r\n\r\nSo, I think the solution might not be with hash tables. But the correct solution is:\r\n\r\n    public int[] twoSum(int[] nums, int target) {\r\n        Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            map.put(nums[i], i);\r\n        }\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            int complement = target - nums[i];\r\n            if (map.containsKey(complement) &amp;&amp; map.get(complement) != i) {\r\n                return new int[] { i, map.get(complement) };\r\n            }\r\n        }\r\n        throw new IllegalArgumentException(&quot;No two sum solution&quot;);\r\n    }\r\n\r\nNow, this is essentially the same solution in Java and it is mentioned as the correct one.\r\n\r\nSo, my question is:\r\n\r\n1. How can I change my solution in Python to work and not fail the test case?\r\n2. How is the Java solution different, does its hash table have some other behavior?\r\n\r\nThanks for your help.","title":"Find if sum of two numbers in an array is equal to k","body":"<p>I am trying to solve:</p>\n\n<pre><code>Given an array of integers, return indices of the two numbers such that they add up to a specific target.\n\nYou may assume that each input would have exactly one solution, and you may not use the same element twice.\n\nExample:\nGiven nums = [2, 7, 11, 15], target = 9,\n\nBecause nums[0] + nums[1] = 2 + 7 = 9,\nreturn [0, 1].\n</code></pre>\n\n<p>Here is my solution:</p>\n\n<pre><code>def twoSum(nums, target):\n        \"\"\"\n        :type nums: List[int]\n        :type target: int\n        :rtype: List[int]\n        \"\"\"\n\n        hash_table = {}\n        k = target\n\n        for i, x in enumerate(nums):\n            if x not in hash_table:\n                hash_table[x] = i\n\n        for x in nums:\n            if k-x in hash_table:\n                if hash_table[k-x]!= hash_table[x]:\n                    return [hash_table[x], hash_table[k-x]] \n</code></pre>\n\n<p>Now the solution is not correct as it fails the test case like [3,3], 6. Now both 3s get stored in hash table as one entry which is expected, so only one index is recorded in the hash table for 3 and my solution doesn't work.</p>\n\n<p>So, I think the solution might not be with hash tables. But the correct solution is:</p>\n\n<pre><code>public int[] twoSum(int[] nums, int target) {\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; nums.length; i++) {\n        map.put(nums[i], i);\n    }\n    for (int i = 0; i &lt; nums.length; i++) {\n        int complement = target - nums[i];\n        if (map.containsKey(complement) &amp;&amp; map.get(complement) != i) {\n            return new int[] { i, map.get(complement) };\n        }\n    }\n    throw new IllegalArgumentException(\"No two sum solution\");\n}\n</code></pre>\n\n<p>Now, this is essentially the same solution in Java and it is mentioned as the correct one.</p>\n\n<p>So, my question is:</p>\n\n<ol>\n<li>How can I change my solution in Python to work and not fail the test case?</li>\n<li>How is the Java solution different, does its hash table have some other behavior?</li>\n</ol>\n\n<p>Thanks for your help.</p>\n"},{"tags":["java","gradle","build.gradle","jacoco"],"comments":[{"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"score":0,"creation_date":1483621504,"post_id":41370815,"comment_id":70176610,"body_markdown":"IMHO there is no good reason to do the offline byte-code instrumentation anymore. Using a Java agent (like JaCoCo) is the most straightforward way.","body":"IMHO there is no good reason to do the offline byte-code instrumentation anymore. Using a Java agent (like JaCoCo) is the most straightforward way."},{"owner":{"account_id":13520,"reputation":2901,"user_id":27232,"accept_rate":100,"display_name":"AdrianoKF"},"score":1,"creation_date":1503403148,"post_id":41370815,"comment_id":78591318,"body_markdown":"@G.Demecki I would usually agree, but there are Java toolchains out there that do not fully support on-the-fly instrumentation through Java agents (one example is the real-time capable JamaicaVM by Aicas).","body":"@G.Demecki I would usually agree, but there are Java toolchains out there that do not fully support on-the-fly instrumentation through Java agents (one example is the real-time capable JamaicaVM by Aicas)."}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1484158815,"creation_date":1482972522,"answer_id":41371756,"question_id":41370815,"body_markdown":"The gradle jacoco plugin doesn&#39;t support offline instrumentation, it always does online instrumentation via the java agent. \r\n\r\nIf the ant jacoco plugin supports offline instrumentation that&#39;s likely the best way to get offline instrumentation working in gradle","title":"Jacoco offline instrumentation Gradle script","body":"<p>The gradle jacoco plugin doesn't support offline instrumentation, it always does online instrumentation via the java agent. </p>\n\n<p>If the ant jacoco plugin supports offline instrumentation that's likely the best way to get offline instrumentation working in gradle</p>\n"},{"tags":[],"owner":{"account_id":88629,"reputation":9961,"user_id":244993,"display_name":"Godin"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1487120219,"creation_date":1487120219,"answer_id":42238982,"question_id":41370815,"body_markdown":"Here is an example of Gradle script that performs offline instrumentation using JaCoCo Ant Task:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    \r\n    configurations {\r\n      jacoco\r\n      jacocoRuntime\r\n    }\r\n    \r\n    dependencies {\r\n      jacoco group: &#39;org.jacoco&#39;, name: &#39;org.jacoco.ant&#39;, version: &#39;0.7.9&#39;, classifier: &#39;nodeps&#39;\r\n      jacocoRuntime group: &#39;org.jacoco&#39;, name: &#39;org.jacoco.agent&#39;, version: &#39;0.7.9&#39;, classifier: &#39;runtime&#39;\r\n      testCompile &#39;junit:junit:4.12&#39;\r\n    }\r\n    \r\n    repositories {\r\n      mavenCentral()\r\n    }\r\n    \r\n    task instrument(dependsOn: [&#39;classes&#39;]) {\r\n      ext.outputDir = buildDir.path + &#39;/classes-instrumented&#39;\r\n      doLast {\r\n        ant.taskdef(name: &#39;instrument&#39;,\r\n                    classname: &#39;org.jacoco.ant.InstrumentTask&#39;,\r\n                    classpath: configurations.jacoco.asPath)\r\n        ant.instrument(destdir: outputDir) {\r\n          fileset(dir: sourceSets.main.output.classesDir)\r\n        }\r\n      }\r\n    }\r\n    \r\n    gradle.taskGraph.whenReady { graph -&gt;\r\n      if (graph.hasTask(instrument)) {\r\n        tasks.withType(Test) {\r\n          doFirst {\r\n            systemProperty &#39;jacoco-agent.destfile&#39;, buildDir.path + &#39;/jacoco/tests.exec&#39;\r\n            classpath = files(instrument.outputDir) + classpath + configurations.jacocoRuntime\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    task report(dependsOn: [&#39;instrument&#39;, &#39;test&#39;]) {\r\n      doLast {\r\n        ant.taskdef(name: &#39;report&#39;,\r\n                    classname: &#39;org.jacoco.ant.ReportTask&#39;,\r\n                    classpath: configurations.jacoco.asPath)\r\n        ant.report() {\r\n          executiondata {\r\n            ant.file(file: buildDir.path + &#39;/jacoco/tests.exec&#39;)\r\n          }\r\n          structure(name: &#39;Example&#39;) {\r\n             classfiles {\r\n               fileset(dir: sourceSets.main.output.classesDir)\r\n             }\r\n             sourcefiles {\r\n               fileset(dir: &#39;src/main/java&#39;)\r\n             }\r\n          }\r\n          html(destdir: buildDir.path + &#39;/reports/jacoco&#39;)\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Jacoco offline instrumentation Gradle script","body":"<p>Here is an example of Gradle script that performs offline instrumentation using JaCoCo Ant Task:</p>\n\n<pre><code>apply plugin: 'java'\n\nconfigurations {\n  jacoco\n  jacocoRuntime\n}\n\ndependencies {\n  jacoco group: 'org.jacoco', name: 'org.jacoco.ant', version: '0.7.9', classifier: 'nodeps'\n  jacocoRuntime group: 'org.jacoco', name: 'org.jacoco.agent', version: '0.7.9', classifier: 'runtime'\n  testCompile 'junit:junit:4.12'\n}\n\nrepositories {\n  mavenCentral()\n}\n\ntask instrument(dependsOn: ['classes']) {\n  ext.outputDir = buildDir.path + '/classes-instrumented'\n  doLast {\n    ant.taskdef(name: 'instrument',\n                classname: 'org.jacoco.ant.InstrumentTask',\n                classpath: configurations.jacoco.asPath)\n    ant.instrument(destdir: outputDir) {\n      fileset(dir: sourceSets.main.output.classesDir)\n    }\n  }\n}\n\ngradle.taskGraph.whenReady { graph -&gt;\n  if (graph.hasTask(instrument)) {\n    tasks.withType(Test) {\n      doFirst {\n        systemProperty 'jacoco-agent.destfile', buildDir.path + '/jacoco/tests.exec'\n        classpath = files(instrument.outputDir) + classpath + configurations.jacocoRuntime\n      }\n    }\n  }\n}\n\ntask report(dependsOn: ['instrument', 'test']) {\n  doLast {\n    ant.taskdef(name: 'report',\n                classname: 'org.jacoco.ant.ReportTask',\n                classpath: configurations.jacoco.asPath)\n    ant.report() {\n      executiondata {\n        ant.file(file: buildDir.path + '/jacoco/tests.exec')\n      }\n      structure(name: 'Example') {\n         classfiles {\n           fileset(dir: sourceSets.main.output.classesDir)\n         }\n         sourcefiles {\n           fileset(dir: 'src/main/java')\n         }\n      }\n      html(destdir: buildDir.path + '/reports/jacoco')\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1236539,"reputation":778,"user_id":1200024,"display_name":"Pravanjan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1574758148,"creation_date":1574758148,"answer_id":59046957,"question_id":41370815,"body_markdown":"classesDir is not available in Gradle 5 this offline instrumentation code worked for me on Gradle 5.1.1\r\n \r\n     task instrument(dependsOn: [classes, project.configurations.jacocoAnt]) {\r\n\r\n     inputs.files classes.outputs.files\r\n     File outputDir = new File(project.buildDir, &#39;instrumentedClasses&#39;)\r\n     outputs.dir outputDir\r\n     doFirst {\r\n         project.delete(outputDir)\r\n         ant.taskdef(\r\n                 resource: &#39;org/jacoco/ant/antlib.xml&#39;,\r\n                 classpath: project.configurations.jacocoAnt.asPath,\r\n                 uri: &#39;jacoco&#39;\r\n         )\r\n         def instrumented = false\r\n         if (file(sourceSets.main.java.outputDir).exists()) {\r\n             def instrumentedClassedDir = &quot;${outputDir}/${sourceSets.main.java}&quot;\r\n             ant.&#39;jacoco:instrument&#39;(destdir: instrumentedClassedDir) {\r\n                 fileset(dir: sourceSets.main.java.outputDir, includes: &#39;**/*.class&#39;)\r\n             }\r\n             //Replace the classes dir in the test classpath with the instrumented one\r\n             sourceSets.test.runtimeClasspath -= files(sourceSets.main.java.outputDir)\r\n             sourceSets.test.runtimeClasspath += files(instrumentedClassedDir)\r\n             instrumented = true\r\n         }\r\n         if (instrumented) {\r\n             test.jvmArgs += &#39;-noverify&#39;\r\n         }\r\n     }\r\n    }\r\n\r\n\r\n    test.dependsOn instrument\r\n\r\nThe above code is taken from the link \r\n &lt;https://github.com/esdk/g30l0/commit/82af4c9aad50aadc40d940471fe1b934473170c7&gt; pease follow for more information.\r\n\r\n","title":"Jacoco offline instrumentation Gradle script","body":"<p>classesDir is not available in Gradle 5 this offline instrumentation code worked for me on Gradle 5.1.1</p>\n\n<pre><code> task instrument(dependsOn: [classes, project.configurations.jacocoAnt]) {\n\n inputs.files classes.outputs.files\n File outputDir = new File(project.buildDir, 'instrumentedClasses')\n outputs.dir outputDir\n doFirst {\n     project.delete(outputDir)\n     ant.taskdef(\n             resource: 'org/jacoco/ant/antlib.xml',\n             classpath: project.configurations.jacocoAnt.asPath,\n             uri: 'jacoco'\n     )\n     def instrumented = false\n     if (file(sourceSets.main.java.outputDir).exists()) {\n         def instrumentedClassedDir = \"${outputDir}/${sourceSets.main.java}\"\n         ant.'jacoco:instrument'(destdir: instrumentedClassedDir) {\n             fileset(dir: sourceSets.main.java.outputDir, includes: '**/*.class')\n         }\n         //Replace the classes dir in the test classpath with the instrumented one\n         sourceSets.test.runtimeClasspath -= files(sourceSets.main.java.outputDir)\n         sourceSets.test.runtimeClasspath += files(instrumentedClassedDir)\n         instrumented = true\n     }\n     if (instrumented) {\n         test.jvmArgs += '-noverify'\n     }\n }\n}\n\n\ntest.dependsOn instrument\n</code></pre>\n\n<p>The above code is taken from the link \n <a href=\"https://github.com/esdk/g30l0/commit/82af4c9aad50aadc40d940471fe1b934473170c7\" rel=\"noreferrer\">https://github.com/esdk/g30l0/commit/82af4c9aad50aadc40d940471fe1b934473170c7</a> pease follow for more information.</p>\n"},{"tags":[],"owner":{"account_id":3182727,"reputation":532,"user_id":2689114,"display_name":"SergiiGnatiuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654625342,"creation_date":1581362552,"answer_id":60157036,"question_id":41370815,"body_markdown":"The answer https://stackoverflow.com/a/42238982/2689114 works for me(with some adapting to a newer gradle version).\r\n\r\nIf you have **multi-module gradle project**, then you should add some extra configuration to support cross-module code coverage. \r\n\r\nFor more details see https://stackoverflow.com/questions/60009231/cross-module-code-coverage-with-jacoco-offline-instrumentation-in-gradle-mutlimo\r\n\r\nAlso, there is a working example: https://github.com/SurpSG/jacoco-offline-instrumentation\r\n\r\n**UPD**: there is [alternative jacoco gradle plugin][1] that uses jacoco in offline mode\r\n\r\n\r\n  [1]: https://github.com/SurpSG/offlins-gradle-plugin","title":"Jacoco offline instrumentation Gradle script","body":"<p>The answer <a href=\"https://stackoverflow.com/a/42238982/2689114\">https://stackoverflow.com/a/42238982/2689114</a> works for me(with some adapting to a newer gradle version).</p>\n<p>If you have <strong>multi-module gradle project</strong>, then you should add some extra configuration to support cross-module code coverage.</p>\n<p>For more details see <a href=\"https://stackoverflow.com/questions/60009231/cross-module-code-coverage-with-jacoco-offline-instrumentation-in-gradle-mutlimo\">Cross-module code coverage with Jacoco offline instrumentation in gradle mutlimodule project</a></p>\n<p>Also, there is a working example: <a href=\"https://github.com/SurpSG/jacoco-offline-instrumentation\" rel=\"nofollow noreferrer\">https://github.com/SurpSG/jacoco-offline-instrumentation</a></p>\n<p><strong>UPD</strong>: there is <a href=\"https://github.com/SurpSG/offlins-gradle-plugin\" rel=\"nofollow noreferrer\">alternative jacoco gradle plugin</a> that uses jacoco in offline mode</p>\n"}],"owner":{"account_id":9535534,"reputation":783,"user_id":7085841,"accept_rate":64,"display_name":"karthik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11074,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":4,"score":13,"last_activity_date":1654625342,"creation_date":1482965293,"question_id":41370815,"body_markdown":"I tried looking for Jacoco offline instrumentation gradle script snippets but couldn&#39;t find one. Is it possible to do Jacoco offline instrumentation through gradle scripts ? If yes...An example of it would be greats. Thanks.\r\n\r\n","title":"Jacoco offline instrumentation Gradle script","body":"<p>I tried looking for Jacoco offline instrumentation gradle script snippets but couldn't find one. Is it possible to do Jacoco offline instrumentation through gradle scripts ? If yes...An example of it would be greats. Thanks.</p>\n"},{"tags":["java","stream","java-io"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1654599070,"post_id":72529834,"comment_id":128123675,"body_markdown":"Looks like you should use fixed widths to parse, then remove spaces.","body":"Looks like you should use fixed widths to parse, then remove spaces."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1654625451,"post_id":72529834,"comment_id":128133759,"body_markdown":"Hint: always come with code. And note: that screen shot ... shows just text. Instead of showing us all of that as image: come with your code and a true [mcve]. In your case, that could be a some sample text with less columns and rows. Focus on the core of your problem, and show us the code that doesnt work for you.","body":"Hint: always come with code. And note: that screen shot ... shows just text. Instead of showing us all of that as image: come with your code and a true <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. In your case, that could be a some sample text with less columns and rows. Focus on the core of your problem, and show us the code that doesnt work for you."}],"answers":[{"tags":[],"owner":{"account_id":22263134,"reputation":589,"user_id":16494303,"display_name":"Anton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654603768,"creation_date":1654599195,"answer_id":72529931,"question_id":72529834,"body_markdown":"read the first line of the file and split each column by checking if there is more than 1 whitespace. In addition to that you count how long each column is.\r\nafter that you can simply go through the other rows containing data and extract the information, by checking the length of the column you are at\r\n\r\n(and please don&#39;t put images of text into stackoverflow, actual text is better)\r\n\r\nEDIT:\r\npython implementation:\r\n```python\r\nimport pandas as pd\r\nimport re\r\n\r\nfile = &quot;path/to/file.txt&quot;\r\n\r\nwith open(&quot;file&quot;, &quot;r&quot;) as f:\r\n    line = f.readline()\r\n    columns = re.split(&quot;  +&quot;, line)\r\n    column_sizes = [re.finditer(column, line).__next__().start() for column in columns]\r\n    column_sizes.append(-1)\r\n\r\n    # ------\r\n    f.readline()\r\n\r\n    rows = []\r\n    while True:\r\n        line = f.readline()\r\n        if len(line) == 0:\r\n            break\r\n        elif line[-1] != &quot;\\n&quot;:\r\n            line += &quot;\\n&quot;\r\n\r\n        row = []\r\n        for i in range(len(column_sizes)-1):\r\n            value = line[column_sizes[i]:column_sizes[i+1]]\r\n            row.append(value)\r\n        rows.append(row)\r\n\r\ncolumns = [column.strip() for column in columns]\r\ndf = pd.DataFrame(data=rows, columns=columns)\r\n\r\nprint(df)\r\n\r\ndf.to_excel(file.split(&quot;.&quot;)[0] + &quot;.xlsx&quot;)\r\n```","title":"i want to convert a report which is in text format into a xlsx document. but the problem is data in text file has some missing column values","body":"<p>read the first line of the file and split each column by checking if there is more than 1 whitespace. In addition to that you count how long each column is.\nafter that you can simply go through the other rows containing data and extract the information, by checking the length of the column you are at</p>\n<p>(and please don't put images of text into stackoverflow, actual text is better)</p>\n<p>EDIT:\npython implementation:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\nimport re\n\nfile = &quot;path/to/file.txt&quot;\n\nwith open(&quot;file&quot;, &quot;r&quot;) as f:\n    line = f.readline()\n    columns = re.split(&quot;  +&quot;, line)\n    column_sizes = [re.finditer(column, line).__next__().start() for column in columns]\n    column_sizes.append(-1)\n\n    # ------\n    f.readline()\n\n    rows = []\n    while True:\n        line = f.readline()\n        if len(line) == 0:\n            break\n        elif line[-1] != &quot;\\n&quot;:\n            line += &quot;\\n&quot;\n\n        row = []\n        for i in range(len(column_sizes)-1):\n            value = line[column_sizes[i]:column_sizes[i+1]]\n            row.append(value)\n        rows.append(row)\n\ncolumns = [column.strip() for column in columns]\ndf = pd.DataFrame(data=rows, columns=columns)\n\nprint(df)\n\ndf.to_excel(file.split(&quot;.&quot;)[0] + &quot;.xlsx&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25462608,"reputation":28,"user_id":19262136,"display_name":"abdullah anis"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1654599514,"creation_date":1654599444,"answer_id":72529994,"question_id":72529834,"body_markdown":"you can use google lens to get your data out of this picture then copy and paste to excel file. the easiest way.\r\n\r\nor first convert this into pdf then use google lens. go to file scroll to print option in print setting their is an option of MICROSOFT PRINT TO PDF  select that and press print it will ask you for location then give it and use it ","title":"i want to convert a report which is in text format into a xlsx document. but the problem is data in text file has some missing column values","body":"<p>you can use google lens to get your data out of this picture then copy and paste to excel file. the easiest way.</p>\n<p>or first convert this into pdf then use google lens. go to file scroll to print option in print setting their is an option of MICROSOFT PRINT TO PDF  select that and press print it will ask you for location then give it and use it</p>\n"},{"tags":[],"owner":{"account_id":14313923,"reputation":8883,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654625153,"creation_date":1654625153,"answer_id":72535760,"question_id":72529834,"body_markdown":"You are correct that export from text to csv is not a practical start, however it would be good for import. So here is your 100% well structured source text to be saved into plain text.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd here is the import to Excel\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TtFQo.png\r\n  [2]: https://i.stack.imgur.com/9KoWw.png","title":"i want to convert a report which is in text format into a xlsx document. but the problem is data in text file has some missing column values","body":"<p>You are correct that export from text to csv is not a practical start, however it would be good for import. So here is your 100% well structured source text to be saved into plain text.</p>\n<p><a href=\"https://i.stack.imgur.com/TtFQo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TtFQo.png\" alt=\"enter image description here\" /></a></p>\n<p>And here is the import to Excel</p>\n<p><a href=\"https://i.stack.imgur.com/9KoWw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9KoWw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5924030,"reputation":27,"user_id":4660559,"display_name":"Danial Kayani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1654625153,"creation_date":1654598727,"question_id":72529834,"body_markdown":"typical report data is like this, \r\n[![Report in txt format][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DyWFj.png\r\nA simple approach that i wanted to follow was to use space as a delimeter but the data is not in a well structured manner","title":"i want to convert a report which is in text format into a xlsx document. but the problem is data in text file has some missing column values","body":"<p>typical report data is like this,\n<a href=\"https://i.stack.imgur.com/DyWFj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DyWFj.png\" alt=\"Report in txt format\" /></a></p>\n<p>A simple approach that i wanted to follow was to use space as a delimeter but the data is not in a well structured manner</p>\n"},{"tags":["java","jpa","persistence","persistence.xml"],"answers":[{"tags":[],"owner":{"account_id":25498103,"reputation":31,"user_id":19291869,"display_name":"Wisani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1654625085,"creation_date":1654613997,"answer_id":72533495,"question_id":70919178,"body_markdown":"I read on this website, [monkeyways][1], that what you need to do is edit your: \r\n\r\n - web.xml \r\n - persistance.xml\r\n\r\nThey suggested that you change the version and URL to this:\r\n\r\n - [web.xml with edited line][2]\r\n - [persistance.xml with edited line][3]\r\n\r\nThat is, the web.xml should have:\r\n\r\n    &lt;web-app version=&quot;5.0&quot; xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;&gt;\r\n\r\nAnd the persistance.xml should have:\r\n\r\n    &lt;persistence version=&quot;3.0&quot; xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;&gt;\r\n\r\nIt is my first time posting here so I hope this is clear enough.\r\nYou can also read [here][4] to understand more about these Jakarta XML Schemas\r\n\r\n\r\n  [1]: https://www.monkeyways.asia/wp/programming/java/java-jakartaee-xml/892/\r\n  [2]: https://i.stack.imgur.com/fZzMy.png\r\n  [3]: https://i.stack.imgur.com/okcnH.png\r\n  [4]: https://jakarta.ee/xml/ns/jakartaee/","title":"Unknown SAXException: Requested schema is not found in local repository","body":"<p>I read on this website, <a href=\"https://www.monkeyways.asia/wp/programming/java/java-jakartaee-xml/892/\" rel=\"nofollow noreferrer\">monkeyways</a>, that what you need to do is edit your:</p>\n<ul>\n<li>web.xml</li>\n<li>persistance.xml</li>\n</ul>\n<p>They suggested that you change the version and URL to this:</p>\n<ul>\n<li><a href=\"https://i.stack.imgur.com/fZzMy.png\" rel=\"nofollow noreferrer\">web.xml with edited line</a></li>\n<li><a href=\"https://i.stack.imgur.com/okcnH.png\" rel=\"nofollow noreferrer\">persistance.xml with edited line</a></li>\n</ul>\n<p>That is, the web.xml should have:</p>\n<pre><code>&lt;web-app version=&quot;5.0&quot; xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;&gt;\n</code></pre>\n<p>And the persistance.xml should have:</p>\n<pre><code>&lt;persistence version=&quot;3.0&quot; xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;&gt;\n</code></pre>\n<p>It is my first time posting here so I hope this is clear enough.\nYou can also read <a href=\"https://jakarta.ee/xml/ns/jakartaee/\" rel=\"nofollow noreferrer\">here</a> to understand more about these Jakarta XML Schemas</p>\n"}],"owner":{"account_id":4429615,"reputation":39,"user_id":3607058,"accept_rate":75,"display_name":"user3607058"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2185,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654625085,"creation_date":1643578812,"question_id":70919178,"body_markdown":"I try to connect my Maven app with my DB with GlassFisch server. I also tried MySql and Postgres, but I got the following error by deploy:\r\n\r\n    Exception Occurred :Error occurred during deployment: Exception while deploying the app [mavenproject4-1.0-SNAPSHOT] : org.xml.sax.SAXException: Requested schema is not found in local repository, please ensure that there are no typos in the XML namespace declaration.. Please see server.log for more details.|#]\r\n\r\nIt occurs always after I added my first entity from database. \r\n\r\nMy dependencies:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${jakartaee}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20211205&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n    &lt;artifactId&gt;org.eclipse.persistence.jpa&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.7&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n     &lt;/dependency&gt;\r\n     &lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.25&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.eclipse.persistence.core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.7&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.eclipse.persistence.asm&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.7&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.eclipse.persistence.antlr&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.7&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.eclipse.persistence.jpa.jpql&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.7&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.eclipse.persistence.moxy&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.7&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.eclipse.persistence.jpa.modelgen.processor&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.7&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    &lt;version&gt;42.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\nMy persistence.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n         &lt;persistence-unit name=&quot;com.tutorial_mavenproject4_war_1.0-SNAPSHOTPU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    &lt;class&gt;model.Invoice&lt;/class&gt;\r\n    &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n    &lt;properties&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/postgres&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\r\n      &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;postgres&quot;/&gt;\r\n      &lt;/properties&gt;\r\n      &lt;/persistence-unit&gt;\r\n      &lt;/persistence&gt;\r\n\r\n\r\nThe 2.1 version in the persistence.xml is generated, I also tried with 2.7.7 but I got the same error.\r\n\r\nThis is the stack trace of the exception:\r\n\r\n      Exception while deploying the app [mavenproject4-1.0-SNAPSHOT] :   org.xml.sax.SAXException: Requested schema is not found in local repository, please ensure that there are no typos in the XML namespace declaration.\r\n        org.xml.sax.SAXException: Requested schema is not found in local repository, please ensure that there are no typos in the XML namespace declaration.\r\n\t    at    com.sun.enterprise.deployment.node.SaxParserHandler.resolveEntity(SaxP  arserHandler.java:229)\r\n\tat    java.xml/com.sun.org.apache.xerces.internal.util.EntityResolverWrapper.resolveEntity(EntityResolverWrapper.java:111)\r\n\tat   java.xml/com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1133)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:662)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.findSchemaGrammar(XMLSchemaValidator.java:2694)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(XMLSchemaValidator.java:2069)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(XMLSchemaValidator.java:829)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:374)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:613)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3063)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:836)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:534)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:888)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:824)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1216)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:635)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:324)\r\n\tat com.sun.enterprise.deployment.io.DeploymentDescriptorFile.read(DeploymentDescriptorFile.java:294)\r\n\tat com.sun.enterprise.deployment.archivist.ExtensionsArchivist.open(ExtensionsArchivist.java:155)\r\n\tat com.sun.enterprise.deployment.archivist.PersistenceArchivist.readPersistenceDeploymentDescriptor(PersistenceArchivist.java:120)\r\n\tat com.sun.enterprise.deployment.archivist.WarPersistenceArchivist.open(WarPersistenceArchivist.java:69)\r\n\tat com.sun.enterprise.deployment.archivist.Archivist.readRestDeploymentDescriptors(Archivist.java:381)\r\n\tat com.sun.enterprise.deployment.archivist.Archivist.readDeploymentDescriptors(Archivist.java:372)\r\n\tat com.sun.enterprise.deployment.archivist.Archivist.open(Archivist.java:247)\r\n\tat com.sun.enterprise.deployment.archivist.Archivist.open(Archivist.java:256)\r\n\tat com.sun.enterprise.deployment.archivist.Archivist.open(Archivist.java:217)\r\n\tat com.sun.enterprise.deployment.archivist.ApplicationFactory.openArchive(ApplicationFactory.java:137)\r\n\tat org.glassfish.javaee.core.deployment.DolProvider.processDOL(DolProvider.java:182)\r\n\tat org.glassfish.javaee.core.deployment.DolProvider.load(DolProvider.java:206)\r\n\tat org.glassfish.javaee.core.deployment.DolProvider.load(DolProvider.java:72)\r\n\tat com.sun.enterprise.v3.server.ApplicationLifecycle.loadDeployer(ApplicationLifecycle.java:857)\r\n\tat com.sun.enterprise.v3.server.ApplicationLifecycle.setupContainerInfos(ApplicationLifecycle.java:797)\r\n\tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:354)\r\n\tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:195)\r\n\tat org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:467)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:516)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:512)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/javax.security.auth.Subject.doAs(Subject.java:361)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:511)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:542)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:534)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/javax.security.auth.Subject.doAs(Subject.java:361)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:533)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1441)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1823)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1699)\r\n\tat org.glassfish.admin.rest.utils.ResourceUtil.runCommand(ResourceUtil.java:221)\r\n\tat org.glassfish.admin.rest.utils.ResourceUtil.runCommand(ResourceUtil.java:202)\r\n\tat org.glassfish.admin.rest.utils.ResourceUtil.runCommand(ResourceUtil.java:241)\r\n\tat org.glassfish.admin.rest.resources.TemplateListOfResource.createResource(TemplateListOfResource.java:108)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167)\r\n\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n\tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n\tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\r\n\tat org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.service(GrizzlyHttpContainer.java:356)\r\n\tat org.glassfish.admin.rest.adapter.RestAdapter$2.service(RestAdapter.java:287)\r\n\tat org.glassfish.admin.rest.adapter.RestAdapter.service(RestAdapter.java:156)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:440)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:144)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:174)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:153)\r\n\tat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:196)\r\n\tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:88)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:246)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:178)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:118)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:96)\r\n\tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:51)\r\n\tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:510)\r\n\tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:82)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:83)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:34)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:101)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:535)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:515)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n","title":"Unknown SAXException: Requested schema is not found in local repository","body":"<p>I try to connect my Maven app with my DB with GlassFisch server. I also tried MySql and Postgres, but I got the following error by deploy:</p>\n<pre><code>Exception Occurred :Error occurred during deployment: Exception while deploying the app [mavenproject4-1.0-SNAPSHOT] : org.xml.sax.SAXException: Requested schema is not found in local repository, please ensure that there are no typos in the XML namespace declaration.. Please see server.log for more details.|#]\n</code></pre>\n<p>It occurs always after I added my first entity from database.</p>\n<p>My dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n        &lt;version&gt;${jakartaee}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20211205&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n  &lt;dependency&gt;\n&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n&lt;artifactId&gt;org.eclipse.persistence.jpa&lt;/artifactId&gt;\n&lt;version&gt;2.7.7&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n &lt;/dependency&gt;\n &lt;dependency&gt;\n&lt;groupId&gt;mysql&lt;/groupId&gt;\n&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;version&gt;8.0.25&lt;/version&gt;\n &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.persistence.core&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.persistence.asm&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.persistence.antlr&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.persistence.jpa.jpql&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.persistence.moxy&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n        &lt;version&gt;2.2.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.persistence.jpa.modelgen.processor&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.3&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n&lt;version&gt;42.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>My persistence.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n     &lt;persistence-unit name=&quot;com.tutorial_mavenproject4_war_1.0-SNAPSHOTPU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n&lt;class&gt;model.Invoice&lt;/class&gt;\n&lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n&lt;properties&gt;\n  &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/postgres&quot;/&gt;\n  &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;postgres&quot;/&gt;\n  &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\n  &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;postgres&quot;/&gt;\n  &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n  &lt;/persistence&gt;\n</code></pre>\n<p>The 2.1 version in the persistence.xml is generated, I also tried with 2.7.7 but I got the same error.</p>\n<p>This is the stack trace of the exception:</p>\n<pre><code>  Exception while deploying the app [mavenproject4-1.0-SNAPSHOT] :   org.xml.sax.SAXException: Requested schema is not found in local repository, please ensure that there are no typos in the XML namespace declaration.\n    org.xml.sax.SAXException: Requested schema is not found in local repository, please ensure that there are no typos in the XML namespace declaration.\n    at    com.sun.enterprise.deployment.node.SaxParserHandler.resolveEntity(SaxP  arserHandler.java:229)\nat    java.xml/com.sun.org.apache.xerces.internal.util.EntityResolverWrapper.resolveEntity(EntityResolverWrapper.java:111)\nat   java.xml/com.sun.org.apache.xerces.internal.impl.XMLEntityManager.resolveEntity(XMLEntityManager.java:1133)\nat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaLoader.resolveDocument(XMLSchemaLoader.java:662)\nat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.findSchemaGrammar(XMLSchemaValidator.java:2694)\nat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.handleStartElement(XMLSchemaValidator.java:2069)\nat java.xml/com.sun.org.apache.xerces.internal.impl.xs.XMLSchemaValidator.startElement(XMLSchemaValidator.java:829)\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:374)\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:613)\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3063)\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:836)\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\nat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:534)\nat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:888)\nat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:824)\nat java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\nat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1216)\nat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:635)\nat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:324)\nat com.sun.enterprise.deployment.io.DeploymentDescriptorFile.read(DeploymentDescriptorFile.java:294)\nat com.sun.enterprise.deployment.archivist.ExtensionsArchivist.open(ExtensionsArchivist.java:155)\nat com.sun.enterprise.deployment.archivist.PersistenceArchivist.readPersistenceDeploymentDescriptor(PersistenceArchivist.java:120)\nat com.sun.enterprise.deployment.archivist.WarPersistenceArchivist.open(WarPersistenceArchivist.java:69)\nat com.sun.enterprise.deployment.archivist.Archivist.readRestDeploymentDescriptors(Archivist.java:381)\nat com.sun.enterprise.deployment.archivist.Archivist.readDeploymentDescriptors(Archivist.java:372)\nat com.sun.enterprise.deployment.archivist.Archivist.open(Archivist.java:247)\nat com.sun.enterprise.deployment.archivist.Archivist.open(Archivist.java:256)\nat com.sun.enterprise.deployment.archivist.Archivist.open(Archivist.java:217)\nat com.sun.enterprise.deployment.archivist.ApplicationFactory.openArchive(ApplicationFactory.java:137)\nat org.glassfish.javaee.core.deployment.DolProvider.processDOL(DolProvider.java:182)\nat org.glassfish.javaee.core.deployment.DolProvider.load(DolProvider.java:206)\nat org.glassfish.javaee.core.deployment.DolProvider.load(DolProvider.java:72)\nat com.sun.enterprise.v3.server.ApplicationLifecycle.loadDeployer(ApplicationLifecycle.java:857)\nat com.sun.enterprise.v3.server.ApplicationLifecycle.setupContainerInfos(ApplicationLifecycle.java:797)\nat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:354)\nat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:195)\nat org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:467)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:516)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:512)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat java.base/javax.security.auth.Subject.doAs(Subject.java:361)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:511)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:542)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:534)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat java.base/javax.security.auth.Subject.doAs(Subject.java:361)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:533)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1441)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1823)\nat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1699)\nat org.glassfish.admin.rest.utils.ResourceUtil.runCommand(ResourceUtil.java:221)\nat org.glassfish.admin.rest.utils.ResourceUtil.runCommand(ResourceUtil.java:202)\nat org.glassfish.admin.rest.utils.ResourceUtil.runCommand(ResourceUtil.java:241)\nat org.glassfish.admin.rest.resources.TemplateListOfResource.createResource(TemplateListOfResource.java:108)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\nat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:124)\nat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:167)\nat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)\nat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:79)\nat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)\nat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)\nat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\nat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\nat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\nat org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:244)\nat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\nat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\nat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)\nat org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.service(GrizzlyHttpContainer.java:356)\nat org.glassfish.admin.rest.adapter.RestAdapter$2.service(RestAdapter.java:287)\nat org.glassfish.admin.rest.adapter.RestAdapter.service(RestAdapter.java:156)\nat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:440)\nat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:144)\nat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:174)\nat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:153)\nat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:196)\nat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:88)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:246)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:178)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:118)\nat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:96)\nat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:51)\nat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:510)\nat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:82)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:83)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:34)\nat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:101)\nat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:535)\nat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:515)\nat java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"tags":["java","jakarta-ee","version-control","dms","file-attributes"],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395039971,"creation_date":1395039971,"answer_id":22448554,"question_id":22448404,"body_markdown":"You seem to be mixing some concepts here: you are talking file version control but filesystem attributes.\r\n\r\nA [`FileAttribute`][1] is what its name says: an attribute for a file. What attributes are defined depend on the [`FileSystem`][2] implementation. `Paths.get()` will return a `Path` from the default `FileSystem`.\r\n\r\nFor instance, files on a Unix system will have attributes to tell whether the file can be read/written/executed by user/group/other. Files on a DOS filesystem will have attributes such as hidden.\r\n\r\nBut those are _dependent on the filesystem_. If you copy a file from one system to another, you will lose these attributes.\r\n\r\nOne can imagine however to write a `FileSystem` implementation for CVS for instance, where each file has a version; then you could define a `CVSFileAttribute` with a version, yes.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/FileAttribute.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystem.html","title":"what is filekey attribute and how can set filekey attribute of any document in java","body":"<p>You seem to be mixing some concepts here: you are talking file version control but filesystem attributes.</p>\n\n<p>A <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/FileAttribute.html\" rel=\"nofollow\"><code>FileAttribute</code></a> is what its name says: an attribute for a file. What attributes are defined depend on the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystem.html\" rel=\"nofollow\"><code>FileSystem</code></a> implementation. <code>Paths.get()</code> will return a <code>Path</code> from the default <code>FileSystem</code>.</p>\n\n<p>For instance, files on a Unix system will have attributes to tell whether the file can be read/written/executed by user/group/other. Files on a DOS filesystem will have attributes such as hidden.</p>\n\n<p>But those are <em>dependent on the filesystem</em>. If you copy a file from one system to another, you will lose these attributes.</p>\n\n<p>One can imagine however to write a <code>FileSystem</code> implementation for CVS for instance, where each file has a version; then you could define a <code>CVSFileAttribute</code> with a version, yes.</p>\n"}],"owner":{"account_id":4078869,"reputation":29,"user_id":3349770,"display_name":"MasterV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1749,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1654625031,"creation_date":1395039078,"question_id":22448404,"body_markdown":"plz any buddy share demo program about file version control of any document and how can uniquely identify that document at the time of when we uploading.\r\n\r\n\r\nhttp://java2s.com/Tutorials/Java/java.nio.file.attribute/BasicFileAttributes/Java_BasicFileAttributes_fileKey_.htm#Example \r\n\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.attribute.BasicFileAttributes;\r\n    public class Main\r\n    {\r\n      public static void main(String[] args) throws Exception  \r\n      {\r\n        BasicFileAttributes attr = null;\r\n        Path path = Paths.get(&quot;C:/tutorial/Java/JavaFX&quot;, &quot;Topic.txt&quot;);\r\n        attr = Files.readAttributes(path, BasicFileAttributes.class);\r\n        System.out.println(attr.fileKey());\r\n      }\r\n    }\r\n","title":"what is filekey attribute and how can set filekey attribute of any document in java","body":"<p>plz any buddy share demo program about file version control of any document and how can uniquely identify that document at the time of when we uploading.</p>\n\n<p><a href=\"http://java2s.com/Tutorials/Java/java.nio.file.attribute/BasicFileAttributes/Java_BasicFileAttributes_fileKey_.htm#Example\" rel=\"nofollow\">http://java2s.com/Tutorials/Java/java.nio.file.attribute/BasicFileAttributes/Java_BasicFileAttributes_fileKey_.htm#Example</a> </p>\n\n<pre><code>import java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.attribute.BasicFileAttributes;\npublic class Main\n{\n  public static void main(String[] args) throws Exception  \n  {\n    BasicFileAttributes attr = null;\n    Path path = Paths.get(\"C:/tutorial/Java/JavaFX\", \"Topic.txt\");\n    attr = Files.readAttributes(path, BasicFileAttributes.class);\n    System.out.println(attr.fileKey());\n  }\n}\n</code></pre>\n"},{"tags":["java","testing","junit","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654624721,"creation_date":1654624721,"answer_id":72535674,"question_id":72534711,"body_markdown":"It&#39;s true that ordering tests is considered a smell. Having said that, there might be cases where it might make sense, especially for integration tests.\r\n\r\nYour sample code is a little vague since there are no assertions there. But it seems to me you could probably combine the three operation into a single test method. If you can&#39;t do that then you can just run them in order. [JUnit 5 supports it][1] using the `@Order` annotation:\r\n\r\n```java\r\n@TestMethodOrder(OrderAnnotation.class)\r\nclass OrderedTestsDemo {\r\n\r\n    @Test\r\n    @Order(1)\r\n    void nullValues() {\r\n        // perform assertions against null values\r\n    }\r\n\r\n    @Test\r\n    @Order(2)\r\n    void emptyValues() {\r\n        // perform assertions against empty values\r\n    }\r\n\r\n    @Test\r\n    @Order(3)\r\n    void validValues() {\r\n        // perform assertions against valid values\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order-methods","title":"Junit and Integration Tests best approach","body":"<p>It's true that ordering tests is considered a smell. Having said that, there might be cases where it might make sense, especially for integration tests.</p>\n<p>Your sample code is a little vague since there are no assertions there. But it seems to me you could probably combine the three operation into a single test method. If you can't do that then you can just run them in order. <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order-methods\" rel=\"nofollow noreferrer\">JUnit 5 supports it</a> using the <code>@Order</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@TestMethodOrder(OrderAnnotation.class)\nclass OrderedTestsDemo {\n\n    @Test\n    @Order(1)\n    void nullValues() {\n        // perform assertions against null values\n    }\n\n    @Test\n    @Order(2)\n    void emptyValues() {\n        // perform assertions against empty values\n    }\n\n    @Test\n    @Order(3)\n    void validValues() {\n        // perform assertions against valid values\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72535674,"answer_count":1,"score":0,"last_activity_date":1654624721,"creation_date":1654619451,"question_id":72534711,"body_markdown":"I want to make some integration test to test my whole program (it&#39;s a standart command line Java application with program args)\r\n\r\nBasically I have 3 tests : one to create a resource, one to update the resource and finally one to delete it.\r\n\r\nI could do something like this :\r\n\r\n    @Test\r\n    public void create_resource() {\r\n        MainApp.main(new String[] {&quot;create&quot;, &quot;my_resource_name&quot;});\r\n    }\r\n\r\n    @Test\r\n    public void update_resource() {\r\n        MainApp.main(new String[] {&quot;update&quot;, &quot;my_resource_name&quot;});\r\n    }\r\n\r\n    @Test\r\n    public void delete_resource() {\r\n        MainApp.main(new String[] {&quot;delete&quot;, &quot;my_resource_name&quot;});\r\n    }\r\n\r\nIt works... as long as the methods are executed in the correct order. I&#39;ve heard that the good execution of a test should not depend of the order.\r\n","title":"Junit and Integration Tests best approach","body":"<p>I want to make some integration test to test my whole program (it's a standart command line Java application with program args)</p>\n<p>Basically I have 3 tests : one to create a resource, one to update the resource and finally one to delete it.</p>\n<p>I could do something like this :</p>\n<pre><code>@Test\npublic void create_resource() {\n    MainApp.main(new String[] {&quot;create&quot;, &quot;my_resource_name&quot;});\n}\n\n@Test\npublic void update_resource() {\n    MainApp.main(new String[] {&quot;update&quot;, &quot;my_resource_name&quot;});\n}\n\n@Test\npublic void delete_resource() {\n    MainApp.main(new String[] {&quot;delete&quot;, &quot;my_resource_name&quot;});\n}\n</code></pre>\n<p>It works... as long as the methods are executed in the correct order. I've heard that the good execution of a test should not depend of the order.</p>\n"},{"tags":["java","multithreading","timer","timertask"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":1,"creation_date":1654624201,"post_id":72535495,"comment_id":128133365,"body_markdown":"`i assume that Timer T object was collected by garbage collector and when running the row T.cancel() a run time exception should appear.` What? Why? The garbage collector collects objects which are unreachable. The timer _clearly_ isn&#39;t.","body":"<code>i assume that Timer T object was collected by garbage collector and when running the row T.cancel() a run time exception should appear.</code> What? Why? The garbage collector collects objects which are unreachable. The timer <i>clearly</i> isn&#39;t."},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1654624379,"post_id":72535495,"comment_id":128133416,"body_markdown":"@tkausl, by who the object is reachable? Who holds reference to the object?","body":"@tkausl, by who the object is reachable? Who holds reference to the object?"}],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654624411,"creation_date":1654624411,"answer_id":72535615,"question_id":72535495,"body_markdown":"The Timer&#39;s thread has a reference to the `T` instance and therefore it will not be garbage collected.  An object cannot be garbage collected until it is unreachable to every live thread.","title":"Is Timer object isn&#39;t being collected by garbage collector?","body":"<p>The Timer's thread has a reference to the <code>T</code> instance and therefore it will not be garbage collected.  An object cannot be garbage collected until it is unreachable to every live thread.</p>\n"}],"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654624411,"creation_date":1654623824,"question_id":72535495,"body_markdown":"I try to figure the following code:\r\n\r\n        package com.company;\r\n    import java.util.Calendar;\r\n    import java.util.Timer;\r\n    import java.util.TimerTask;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Timer T = new Timer();\r\n            TimerTask Birthday = new TimerTask(){\r\n                int i = 5;\r\n                @Override\r\n                public void run(){\r\n                    if(i&gt;0){\r\n                        System.out.println(i);\r\n                        i--;\r\n                    }\r\n                    else{\r\n                        System.out.println(&quot;Happy Birthday John Doe&quot;);\r\n                        T.cancel();\r\n                    }\r\n                }\r\n            };\r\n            Calendar date = Calendar.getInstance();\r\n            date.set(2021, Calendar.OCTOBER, 30,23, 59, 54);\r\n           T.scheduleAtFixedRate(Birthday, date.getTime(), 1000);\r\n        }\r\n    }\r\n\r\nI have difficult to understand how the  following line works: \r\n\r\n&gt; T.cancel();\r\n\r\nIsn&#39;t T (Timer) was collected by garbage collector when the **main** method ends?\r\nAfter all the **run** method of **TimerTask** class continue to run after **main** thread was close and therefore i assume that **Timer T** object was collected by garbage collector and when running the row **T.cancel()** a run time exception should appear.\r\nCan someone explain me what is wrong with the way i see the things?\r\n\r\n","title":"Is Timer object isn&#39;t being collected by garbage collector?","body":"<p>I try to figure the following code:</p>\n<pre><code>    package com.company;\nimport java.util.Calendar;\nimport java.util.Timer;\nimport java.util.TimerTask;\npublic class Main {\n    public static void main(String[] args) {\n        Timer T = new Timer();\n        TimerTask Birthday = new TimerTask(){\n            int i = 5;\n            @Override\n            public void run(){\n                if(i&gt;0){\n                    System.out.println(i);\n                    i--;\n                }\n                else{\n                    System.out.println(&quot;Happy Birthday John Doe&quot;);\n                    T.cancel();\n                }\n            }\n        };\n        Calendar date = Calendar.getInstance();\n        date.set(2021, Calendar.OCTOBER, 30,23, 59, 54);\n       T.scheduleAtFixedRate(Birthday, date.getTime(), 1000);\n    }\n}\n</code></pre>\n<p>I have difficult to understand how the  following line works:</p>\n<blockquote>\n<p>T.cancel();</p>\n</blockquote>\n<p>Isn't T (Timer) was collected by garbage collector when the <strong>main</strong> method ends?\nAfter all the <strong>run</strong> method of <strong>TimerTask</strong> class continue to run after <strong>main</strong> thread was close and therefore i assume that <strong>Timer T</strong> object was collected by garbage collector and when running the row <strong>T.cancel()</strong> a run time exception should appear.\nCan someone explain me what is wrong with the way i see the things?</p>\n"},{"tags":["java","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":4995738,"reputation":94,"user_id":8824639,"display_name":"ankit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654624028,"creation_date":1654624028,"answer_id":72535535,"question_id":72534359,"body_markdown":"In diagonal2 method, variable z is referring to the row number and x is referring to column number.\r\n\r\nBelow is the corrected code:\r\n\r\n    public static void diagonal2(int array[][]){\r\n    int v=3;\r\n    for(int z=0;z&lt;array.length;z++){\r\n      if(v==-1){\r\n        v=3;\r\n      }\r\n      for(int x=0;x&lt;array.length;x++){\r\n        if(x==v){\r\n          for(int y=0;y&lt;v;y++){\r\n            System.out.print(&quot;    &quot;);\r\n          }\r\n          System.out.print(array[z][x]); // This is corrected\r\n          v--;\r\n        }\r\n      }\r\n      System.out.println();\r\n    }\r\n    System.out.println(&quot;- - - - -&quot;);\r\n  }","title":"Java program displays wrong order of numbers in a diagonal of a multidimensional array","body":"<p>In diagonal2 method, variable z is referring to the row number and x is referring to column number.</p>\n<p>Below is the corrected code:</p>\n<pre><code>public static void diagonal2(int array[][]){\nint v=3;\nfor(int z=0;z&lt;array.length;z++){\n  if(v==-1){\n    v=3;\n  }\n  for(int x=0;x&lt;array.length;x++){\n    if(x==v){\n      for(int y=0;y&lt;v;y++){\n        System.out.print(&quot;    &quot;);\n      }\n      System.out.print(array[z][x]); // This is corrected\n      v--;\n    }\n  }\n  System.out.println();\n}\nSystem.out.println(&quot;- - - - -&quot;);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":25498340,"reputation":3,"user_id":19292064,"display_name":"Donatello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72535535,"answer_count":1,"score":0,"last_activity_date":1654624028,"creation_date":1654617698,"question_id":72534359,"body_markdown":"In my Java program I want two diagonals of a multidimensional array to be displayed, but the second diagonal shows the wrong order of numbers, the inverse order of numbers to be more precise. Can someone tell me what&#39;s wrong with this code?\r\n\r\n    import javax.swing.*;\r\n    public class arrays\r\n    {\r\n    int array[][]={{450,463,267,685},\r\n                    {467,483,236,898},\r\n                    {457,124,685,457},\r\n                    {986,357,321,786}};\r\n    int option=1, op=0, i=0;\r\n    public arrays()\r\n    {\r\n        while(option==1){\r\n            int num=Integer.parseInt(JOptionPane.showInputDialog(&quot;1-Diagonal1 2-Diagonal2&quot;));\r\n            switch(num){\r\n                case 1:\r\n                    diagonal1(array);\r\n                break;\r\n                case 2:\r\n                    diagonal2(array);\r\n                break;\r\n                default:\r\n                    System.out.println(&quot;That&#39;s the wrong number&quot;);\r\n                    System.out.println(&quot;- - - - -&quot;);\r\n                    option=0;\r\n            }\r\n        }\r\n    }\r\n    public void diagonal1(int array[][]){\r\n        for(int z=0;z&lt;array.length;z++){\r\n            for(int x=0;x&lt;array.length;x++){\r\n                if(x==i){\r\n                    for(int y=0;y&lt;i;y++){\r\n                        System.out.print(&quot;    &quot;);\r\n                    }\r\n                    System.out.print(array[x][z]);\r\n                }\r\n            }\r\n            i++;\r\n            System.out.println();\r\n        }\r\n        System.out.println(&quot;- - - - -&quot;);\r\n    }\r\n    public void diagonal2(int array[][]){\r\n        int v=3;\r\n        for(int z=0;z&lt;array.length;z++){\r\n            if(v==-1){\r\n                v=3;\r\n            }\r\n            for(int x=0;x&lt;array.length;x++){\r\n                if(x==v){\r\n                    for(int y=0;y&lt;v;y++){\r\n                        System.out.print(&quot;    &quot;);\r\n                    }\r\n                    System.out.print(array[x][z]);\r\n                    v--;\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n        System.out.println(&quot;- - - - -&quot;);\r\n      }\r\n     }\r\nIt gives me this:\r\n\r\n                986\r\n            124\r\n        236\r\n    685\r\nWhen it should give me this:\r\n\r\n                685\r\n            236\r\n        124\r\n    986","title":"Java program displays wrong order of numbers in a diagonal of a multidimensional array","body":"<p>In my Java program I want two diagonals of a multidimensional array to be displayed, but the second diagonal shows the wrong order of numbers, the inverse order of numbers to be more precise. Can someone tell me what's wrong with this code?</p>\n<pre><code>import javax.swing.*;\npublic class arrays\n{\nint array[][]={{450,463,267,685},\n                {467,483,236,898},\n                {457,124,685,457},\n                {986,357,321,786}};\nint option=1, op=0, i=0;\npublic arrays()\n{\n    while(option==1){\n        int num=Integer.parseInt(JOptionPane.showInputDialog(&quot;1-Diagonal1 2-Diagonal2&quot;));\n        switch(num){\n            case 1:\n                diagonal1(array);\n            break;\n            case 2:\n                diagonal2(array);\n            break;\n            default:\n                System.out.println(&quot;That's the wrong number&quot;);\n                System.out.println(&quot;- - - - -&quot;);\n                option=0;\n        }\n    }\n}\npublic void diagonal1(int array[][]){\n    for(int z=0;z&lt;array.length;z++){\n        for(int x=0;x&lt;array.length;x++){\n            if(x==i){\n                for(int y=0;y&lt;i;y++){\n                    System.out.print(&quot;    &quot;);\n                }\n                System.out.print(array[x][z]);\n            }\n        }\n        i++;\n        System.out.println();\n    }\n    System.out.println(&quot;- - - - -&quot;);\n}\npublic void diagonal2(int array[][]){\n    int v=3;\n    for(int z=0;z&lt;array.length;z++){\n        if(v==-1){\n            v=3;\n        }\n        for(int x=0;x&lt;array.length;x++){\n            if(x==v){\n                for(int y=0;y&lt;v;y++){\n                    System.out.print(&quot;    &quot;);\n                }\n                System.out.print(array[x][z]);\n                v--;\n            }\n        }\n        System.out.println();\n    }\n    System.out.println(&quot;- - - - -&quot;);\n  }\n }\n</code></pre>\n<p>It gives me this:</p>\n<pre><code>            986\n        124\n    236\n685\n</code></pre>\n<p>When it should give me this:</p>\n<pre><code>            685\n        236\n    124\n986\n</code></pre>\n"},{"tags":["java","sendmail","google-authentication"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1654570997,"post_id":72512155,"comment_id":128116324,"body_markdown":"The very page you linked to suggests using an app password. Did you try that? What happened?","body":"The very page you linked to suggests using an app password. Did you try that? What happened?"}],"answers":[{"tags":[],"owner":{"account_id":10952210,"reputation":43,"user_id":8048235,"display_name":"Israel Lacerra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654623909,"creation_date":1654623909,"answer_id":72535503,"question_id":72512155,"body_markdown":"This will work: https://www.lifewire.com/get-a-password-to-access-gmail-by-pop-imap-2-1171882\r\n\r\nAlso, this part is very important: &quot;If you don&#39;t see App passwords as an option, you must first turn on 2-Step Verification for Gmail.&quot;","title":"Solve error javax.mail.AuthenticationFailedException without enabling Less secure apps access","body":"<p>This will work: <a href=\"https://www.lifewire.com/get-a-password-to-access-gmail-by-pop-imap-2-1171882\" rel=\"nofollow noreferrer\">https://www.lifewire.com/get-a-password-to-access-gmail-by-pop-imap-2-1171882</a></p>\n<p>Also, this part is very important: &quot;If you don't see App passwords as an option, you must first turn on 2-Step Verification for Gmail.&quot;</p>\n"}],"owner":{"account_id":24414456,"reputation":11,"user_id":18341484,"display_name":"Nam Can"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1636,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1654623909,"creation_date":1654478014,"question_id":72512155,"body_markdown":"I am trying to send mail in Java and am getting the error `javax.mail.AuthenticationFailedException`. I tried to fix it and turned on Less secure apps access. But starting May 30 2022 [Google has disabled this feature][1]. Is there any other way I can send email using Java?\r\n\r\n\r\n  [1]: https://support.google.com/accounts/answer/6010255?hl=en","title":"Solve error javax.mail.AuthenticationFailedException without enabling Less secure apps access","body":"<p>I am trying to send mail in Java and am getting the error <code>javax.mail.AuthenticationFailedException</code>. I tried to fix it and turned on Less secure apps access. But starting May 30 2022 <a href=\"https://support.google.com/accounts/answer/6010255?hl=en\" rel=\"nofollow noreferrer\">Google has disabled this feature</a>. Is there any other way I can send email using Java?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14008000,"reputation":259,"user_id":10117515,"display_name":"Supritam"},"score":3,"creation_date":1654622033,"post_id":72535124,"comment_id":128132691,"body_markdown":"You need to calculate newVal inside the loop.","body":"You need to calculate newVal inside the loop."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1654622073,"post_id":72535124,"comment_id":128132701,"body_markdown":"If the user enters the annual interest rate, then isn&#39;t the monthly interest rate equal to the annual rate divided by 12 (and not 1200) ?","body":"If the user enters the annual interest rate, then isn&#39;t the monthly interest rate equal to the annual rate divided by 12 (and not 1200) ?"},{"owner":{"account_id":25456587,"reputation":1,"user_id":19257115,"display_name":"Austin Derek"},"score":0,"creation_date":1654622248,"post_id":72535124,"comment_id":128132750,"body_markdown":"When I divide the annual rate by 1200 it&#39;s making it so I don&#39;t have to make 5.75% into a decimal then dividing it again by 12 for the monthly update.","body":"When I divide the annual rate by 1200 it&#39;s making it so I don&#39;t have to make 5.75% into a decimal then dividing it again by 12 for the monthly update."},{"owner":{"account_id":14008000,"reputation":259,"user_id":10117515,"display_name":"Supritam"},"score":0,"creation_date":1654662341,"post_id":72535124,"comment_id":128141370,"body_markdown":"@AustinDerek consider upvoting and accepting answers if the problem is solved by comments or answers.","body":"@AustinDerek consider upvoting and accepting answers if the problem is solved by comments or answers."}],"answers":[{"tags":[],"owner":{"account_id":14008000,"reputation":259,"user_id":10117515,"display_name":"Supritam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654623472,"creation_date":1654622465,"answer_id":72535251,"question_id":72535124,"body_markdown":"The Calculation of newVal should be done within the loop.\r\n\r\n        import java.util.Scanner;    \r\n        import java.text.DecimalFormat;\r\n        public class FutureValues {\r\n          public static void main(String[] args) {\r\n          Scanner input = new Scanner(System.in);\r\n          DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\r\n          System.out.println(&quot;Enter the present value: &quot;);\r\n          int value = input.nextInt();\r\n          System.out.println(&quot;Enter annual interest rate: &quot;);\r\n          double rate = input.nextDouble();\r\n          double newRate = rate / 1200;\r\n          System.out.println(&quot;Enter the number of months: &quot;);\r\n          int months = input.nextInt();\r\n          for (int i = 1; i &lt;= months; i++) {\r\n              value = value + (value * newRate);\r\n              System.out.println(&quot;The future value after &quot; + i + &quot; month is &quot; + value);\r\n             \r\n        }    \r\n      }    \r\n    }   \r\n\r\n\r\n","title":"Monthly calculator for interest","body":"<p>The Calculation of newVal should be done within the loop.</p>\n<pre><code>    import java.util.Scanner;    \n    import java.text.DecimalFormat;\n    public class FutureValues {\n      public static void main(String[] args) {\n      Scanner input = new Scanner(System.in);\n      DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\n      System.out.println(&quot;Enter the present value: &quot;);\n      int value = input.nextInt();\n      System.out.println(&quot;Enter annual interest rate: &quot;);\n      double rate = input.nextDouble();\n      double newRate = rate / 1200;\n      System.out.println(&quot;Enter the number of months: &quot;);\n      int months = input.nextInt();\n      for (int i = 1; i &lt;= months; i++) {\n          value = value + (value * newRate);\n          System.out.println(&quot;The future value after &quot; + i + &quot; month is &quot; + value);\n         \n    }    \n  }    \n}   \n</code></pre>\n"}],"owner":{"account_id":25456587,"reputation":1,"user_id":19257115,"display_name":"Austin Derek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1654623472,"creation_date":1654621719,"question_id":72535124,"body_markdown":"        import java.util.Scanner;    \r\n        import java.text.DecimalFormat;\r\n        public class FutureValues {\r\n          public static void main(String[] args) {\r\n          Scanner input = new Scanner(System.in);\r\n          DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\r\n          System.out.println(&quot;Enter the present value: &quot;);\r\n          int value = input.nextInt();\r\n          System.out.println(&quot;Enter annual interest rate: &quot;);\r\n          double rate = input.nextDouble();\r\n          double newRate = rate / 1200;\r\n          System.out.println(&quot;Enter the number of months: &quot;);\r\n          int months = input.nextInt();\r\n          int i;\r\n          for (i = 1; i &lt;= months; i++) {      \r\n              double newVal = value + (value * newRate);\r\n              System.out.println(&quot;The future value after &quot; + i + &quot; month is &quot; + newVal);\r\n             \r\n        }    \r\n      }    \r\n    }    \r\nI&#39;m trying to get this to program to update the newVal to the next monthly deposit but it won&#39;t work for anything I try. \r\n\r\neg. &quot;The future value after 1 month is 1004.79&quot;\r\n    &quot;The future value after 2 months is 1009.61&quot;\r\n    and so on and so forth. I just cannot get it to update to the next value.\r\n\r\n","title":"Monthly calculator for interest","body":"<pre><code>    import java.util.Scanner;    \n    import java.text.DecimalFormat;\n    public class FutureValues {\n      public static void main(String[] args) {\n      Scanner input = new Scanner(System.in);\n      DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\n      System.out.println(&quot;Enter the present value: &quot;);\n      int value = input.nextInt();\n      System.out.println(&quot;Enter annual interest rate: &quot;);\n      double rate = input.nextDouble();\n      double newRate = rate / 1200;\n      System.out.println(&quot;Enter the number of months: &quot;);\n      int months = input.nextInt();\n      int i;\n      for (i = 1; i &lt;= months; i++) {      \n          double newVal = value + (value * newRate);\n          System.out.println(&quot;The future value after &quot; + i + &quot; month is &quot; + newVal);\n         \n    }    \n  }    \n}    \n</code></pre>\n<p>I'm trying to get this to program to update the newVal to the next monthly deposit but it won't work for anything I try.</p>\n<p>eg. &quot;The future value after 1 month is 1004.79&quot;\n&quot;The future value after 2 months is 1009.61&quot;\nand so on and so forth. I just cannot get it to update to the next value.</p>\n"},{"tags":["java","arraylist","jtable"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1654627949,"post_id":72534991,"comment_id":128134499,"body_markdown":"The ArrayList should not be a separate object. The ArrayList should be contained in a custom TableModel. Then you just update the model.","body":"The ArrayList should not be a separate object. The ArrayList should be contained in a custom TableModel. Then you just update the model."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654623420,"creation_date":1654623420,"answer_id":72535410,"question_id":72534991,"body_markdown":"You&#39;re making this really hard on yourself.  Create a custom tableModel. I&#39;m gonna use a simpler bean, but the principles are the same.  Lets say I have a list of Books and I want a tableModel to represent them:\r\n\r\n    public class BookTableModel extends AbstractTableModel {\r\n\r\n    private List&lt;Book&gt; list;\r\n    \r\n    public BookTableModel(List&lt;Book&gt; books) {\r\n        list = books;\r\n    }\r\n\r\n    public void addBook(Book book) {\r\n        list.add(book);\r\n        fireTableRowsInserted(list.size()-1, list.size()-1);\r\n    }\r\n    \r\n    @Override\r\n    public int getColumnCount() {\r\n        return 3;\r\n    }\r\n\r\n    @Override\r\n    public int getRowCount() {\r\n        return list.size();\r\n    }\r\n\r\n    @Override\r\n    public Object getValueAt(int row, int col) {\r\n        try {\r\n            Book book = list.get(row);\r\n            switch (col) {\r\n                case 0:\r\n                    return book.getIsbn();\r\n                case 1:\r\n                    return book.getTitle();\r\n                case 2:\r\n                    return book.getAuthor();\r\n                default: break;\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n    }\r\n\r\nNow if you want to add a new row, just call the `model.addBook()` method. The rest is done for you.","title":"Refreshing Jtable which get&#39;s it&#39;s data from an ArrayList","body":"<p>You're making this really hard on yourself.  Create a custom tableModel. I'm gonna use a simpler bean, but the principles are the same.  Lets say I have a list of Books and I want a tableModel to represent them:</p>\n<pre><code>public class BookTableModel extends AbstractTableModel {\n\nprivate List&lt;Book&gt; list;\n\npublic BookTableModel(List&lt;Book&gt; books) {\n    list = books;\n}\n\npublic void addBook(Book book) {\n    list.add(book);\n    fireTableRowsInserted(list.size()-1, list.size()-1);\n}\n\n@Override\npublic int getColumnCount() {\n    return 3;\n}\n\n@Override\npublic int getRowCount() {\n    return list.size();\n}\n\n@Override\npublic Object getValueAt(int row, int col) {\n    try {\n        Book book = list.get(row);\n        switch (col) {\n            case 0:\n                return book.getIsbn();\n            case 1:\n                return book.getTitle();\n            case 2:\n                return book.getAuthor();\n            default: break;\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n}\n</code></pre>\n<p>Now if you want to add a new row, just call the <code>model.addBook()</code> method. The rest is done for you.</p>\n"}],"owner":{"account_id":18926807,"reputation":31,"user_id":13809747,"display_name":"Dagun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654623420,"creation_date":1654621015,"question_id":72534991,"body_markdown":"What I&#39;m trying to do is to get some data from an ArrayList, which contains data like GroupName, Name, Time, URL, and Memo, sort it using the insert() class, which basically sorts up the data by group, and then display them on my jTable using addRow. \r\n\r\nThis works just fine, but now I need to add a new row of data, using a button. jb6 is the button that get&#39;s it data that I input in another frame, and puts it into Arraylist. I am hoping that by changing the ArrayList this way, the Jtable will refresh itself to show the new data, by putting the new ArrayList through insert() again, and displaying it. I;ve checked that the data goes correctly into Arraylist, so can anyone tell me how to refresh the JTable accordingly? Thanks.\r\n```\r\npublic class BookmarkListGUI{\r\n String[] header= {&quot;&quot;,&quot;Group&quot;,&quot;Name&quot;,&quot;URL&quot;,&quot;Time&quot;,&quot;Memo&quot;};\r\n BookmarkList bmlist=new BookmarkList(&quot;C:\\\\bookmark.txt&quot;);\r\nJTable  table = new JTable();\r\n DefaultTableModel model = new DefaultTableModel(header,0);\r\n JScrollPane scroll;\r\npublic BookmarkListGUI() {    \r\n\t\t  JPanel panel=new JPanel();\r\n          JFrame Frame1=new JFrame(&quot;Bookmark Manager&quot;);\r\n          table.setModel(model);\r\n\t\t  scroll = new JScrollPane(table);\r\n          insert();\r\n            scroll.setBounds(0,0,1000,500);\r\n            scrolladd.setBounds(0,0,1000,100);\r\n            \r\n\t\t    panel.setBounds(0,0,1000,500);\r\n\t\t    panel.setLayout(null);\r\n             panel.add(scroll);\r\n              Frame1.add(panel);\r\n\t\t    Frame1.setVisible(true);\r\n\r\n Button jb6 = new Button(&quot;INPUT&quot;);\r\n\t\t    \r\n\t\t    jb6.setLocation(1000,0);\r\n\t\t    jb6.setSize(200,50);\r\n\t        jb6.addActionListener(new ActionListener() {\r\n\t            @Override\r\n\t            public void actionPerformed(ActionEvent e) {\r\n\t            \t String o1=(String)modeladd.getValueAt(0, 0);\r\n\t \t            String o2=(String) modeladd.getValueAt(0, 1);\r\n\t \t            String o3=(String)modeladd.getValueAt(0, 2);         \r\n\t \t            String o5=(String)modeladd.getValueAt(0, 4);\r\n\t \t            LocalDateTime now = LocalDateTime.now(); \r\n\t \t    \t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd_HH:mm&quot;); \r\n\t \t    \t\tString formatedNow = now.format(formatter); \t\r\n\t \t            Bookmark add = new Bookmark(o2,formatedNow,o3,o1,o5);\r\n\t \t            \tbmlist.bookmarks.add(add);\t            \t\r\n\t            \tFrame1.setVisible(true);\r\n\t            \tFrame1.revalidate();\r\n\t            \tFrame1.repaint();\r\n\t\t             Frame2.setVisible(false); \r\n\t\t             \r\n\t\t             \r\n\t\t            \r\n\t            }\r\n\t        });\r\n\t        Frame2.add(jb6);\r\n\t\t  }\r\n public void insert() {\r\n\t\t  int bmnumber=bmlist.numBookmarks();\r\n\t\t   \t\r\n\t\t   \t int k=bmnumber;\r\n\t\t   \t int p=0;\r\n\t\t   \tfor(int i=1;i&lt;=k;i++) {\r\n\t\t   \t   bmlist.mergeByGroup();\r\n\t\t   \t   \t\tif(bmlist.getBookmark(p).getGroupName().length()!=0) {\r\n\t\t   \t   \t\t\tif(i==1) {\r\n\t\t   \t   \t\t\t model.addRow(new Object[] {&quot;&gt;&quot;,bmlist.getBookmark(p).getGroupName(),\r\n\t\t   \t   \t\t\t\t  &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;});\r\n\t\t   \t\t\t\t\tp++;\r\n\t\t   \t   \t\t\t}\r\n\t\t   \t   \t\t\telse if(bmlist.getBookmark(p).getGroupName().equals(bmlist.getBookmark(p-1).getGroupName())==true) {\r\n\t\t   \t   \t\t\t\ti--;\r\n\t\t   \t   \t\t\t\tk--;\r\n\t\t   \t   \t\t\t\tp++;\r\n\t\t   \t   \t\t\t\tcontinue;\r\n\t\t   \t   \t\t\t}\r\n\t\t   \t   \t\t\telse if(bmlist.getBookmark(p).getGroupName().equals(bmlist.getBookmark(p-1).getGroupName())==false) {\r\n\t\t   \t   \t\t\t model.addRow(new Object[] {&quot;&gt;&quot;,bmlist.getBookmark(p).getGroupName(),\r\n\t\t   \t   \t\t\t\t  &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;});\r\n\t\t   \t\t\t\t\tp++;\r\n\t\t   \t   \t\t\t}\r\n\t\t   \t   \t\t}\r\n\t\t   \t   \t\telse {\r\n\t\t   \t   \t  model.addRow(new Object[] {&quot;&quot;,&quot;&quot;,bmlist.getBookmark(p).getName(),\r\n\t\t   \t   \t\t\t\tbmlist.getBookmark(p).getUrl(),bmlist.getBookmark(p).getTime(),bmlist.getBookmark(p).getMemo()});\r\n\t\t   \t\t\t\tp++;\r\n\t\t   \t   \t\t\r\n\t\t   \t}\r\n\t\t   \t\t\t\r\n\t\t   \t}\r\n\t  }\r\n       ```\r\n   ","title":"Refreshing Jtable which get&#39;s it&#39;s data from an ArrayList","body":"<p>What I'm trying to do is to get some data from an ArrayList, which contains data like GroupName, Name, Time, URL, and Memo, sort it using the insert() class, which basically sorts up the data by group, and then display them on my jTable using addRow.</p>\n<p>This works just fine, but now I need to add a new row of data, using a button. jb6 is the button that get's it data that I input in another frame, and puts it into Arraylist. I am hoping that by changing the ArrayList this way, the Jtable will refresh itself to show the new data, by putting the new ArrayList through insert() again, and displaying it. I;ve checked that the data goes correctly into Arraylist, so can anyone tell me how to refresh the JTable accordingly? Thanks.</p>\n<pre><code>public class BookmarkListGUI{\n String[] header= {&quot;&quot;,&quot;Group&quot;,&quot;Name&quot;,&quot;URL&quot;,&quot;Time&quot;,&quot;Memo&quot;};\n BookmarkList bmlist=new BookmarkList(&quot;C:\\\\bookmark.txt&quot;);\nJTable  table = new JTable();\n DefaultTableModel model = new DefaultTableModel(header,0);\n JScrollPane scroll;\npublic BookmarkListGUI() {    \n          JPanel panel=new JPanel();\n          JFrame Frame1=new JFrame(&quot;Bookmark Manager&quot;);\n          table.setModel(model);\n          scroll = new JScrollPane(table);\n          insert();\n            scroll.setBounds(0,0,1000,500);\n            scrolladd.setBounds(0,0,1000,100);\n            \n            panel.setBounds(0,0,1000,500);\n            panel.setLayout(null);\n             panel.add(scroll);\n              Frame1.add(panel);\n            Frame1.setVisible(true);\n\n Button jb6 = new Button(&quot;INPUT&quot;);\n            \n            jb6.setLocation(1000,0);\n            jb6.setSize(200,50);\n            jb6.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                     String o1=(String)modeladd.getValueAt(0, 0);\n                    String o2=(String) modeladd.getValueAt(0, 1);\n                    String o3=(String)modeladd.getValueAt(0, 2);         \n                    String o5=(String)modeladd.getValueAt(0, 4);\n                    LocalDateTime now = LocalDateTime.now(); \n                    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd_HH:mm&quot;); \n                    String formatedNow = now.format(formatter);     \n                    Bookmark add = new Bookmark(o2,formatedNow,o3,o1,o5);\n                        bmlist.bookmarks.add(add);                  \n                    Frame1.setVisible(true);\n                    Frame1.revalidate();\n                    Frame1.repaint();\n                     Frame2.setVisible(false); \n                     \n                     \n                    \n                }\n            });\n            Frame2.add(jb6);\n          }\n public void insert() {\n          int bmnumber=bmlist.numBookmarks();\n            \n             int k=bmnumber;\n             int p=0;\n            for(int i=1;i&lt;=k;i++) {\n               bmlist.mergeByGroup();\n                    if(bmlist.getBookmark(p).getGroupName().length()!=0) {\n                        if(i==1) {\n                         model.addRow(new Object[] {&quot;&gt;&quot;,bmlist.getBookmark(p).getGroupName(),\n                              &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;});\n                            p++;\n                        }\n                        else if(bmlist.getBookmark(p).getGroupName().equals(bmlist.getBookmark(p-1).getGroupName())==true) {\n                            i--;\n                            k--;\n                            p++;\n                            continue;\n                        }\n                        else if(bmlist.getBookmark(p).getGroupName().equals(bmlist.getBookmark(p-1).getGroupName())==false) {\n                         model.addRow(new Object[] {&quot;&gt;&quot;,bmlist.getBookmark(p).getGroupName(),\n                              &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;});\n                            p++;\n                        }\n                    }\n                    else {\n                  model.addRow(new Object[] {&quot;&quot;,&quot;&quot;,bmlist.getBookmark(p).getName(),\n                            bmlist.getBookmark(p).getUrl(),bmlist.getBookmark(p).getTime(),bmlist.getBookmark(p).getMemo()});\n                        p++;\n                    \n            }\n                    \n            }\n      }\n       ```\n   \n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":3175248,"reputation":7363,"user_id":5457878,"accept_rate":67,"display_name":"gi097"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1485441941,"creation_date":1485441941,"answer_id":41876053,"question_id":41813703,"body_markdown":"Actually BouncyCastle offers all the things I needed, including AAD. For AES/GCM we can use these methods:\r\n\r\n        static byte[] gcmDecrypt(byte[] ct, byte[] key, byte[] iv, byte[] aad) throws Exception {\r\n            AEADParameters parameters = new AEADParameters(new KeyParameter(key), 128, iv, aad);\r\n            GCMBlockCipher gcmEngine = new GCMBlockCipher(new AESFastEngine());\r\n            gcmEngine.init(false, parameters);\r\n            byte[] pt = new byte[gcmEngine.getOutputSize(ct.length)];\r\n            int len = gcmEngine.processBytes(ct, 0, ct.length, pt, 0);\r\n            gcmEngine.doFinal(pt, len);\r\n            return pt;\r\n        }\r\n    \r\n        static byte[] gcmEncrypt(byte[] pt, byte[] key, byte[] iv, byte[] aad) throws Exception {\r\n            AEADParameters parameters = new AEADParameters(new KeyParameter(key), 128, iv, aad);\r\n            GCMBlockCipher gcmEngine = new GCMBlockCipher(new AESFastEngine());\r\n            gcmEngine.init(true, parameters);\r\n            byte[] ct = new byte[gcmEngine.getOutputSize(pt.length)];\r\n            int len = gcmEngine.processBytes(pt, 0, pt.length, ct, 0);\r\n            gcmEngine.doFinal(ct, len);\r\n            return ct;\r\n        }","title":"Cipher.updateAAD() below Java 7","body":"<p>Actually BouncyCastle offers all the things I needed, including AAD. For AES/GCM we can use these methods:</p>\n\n<pre><code>    static byte[] gcmDecrypt(byte[] ct, byte[] key, byte[] iv, byte[] aad) throws Exception {\n        AEADParameters parameters = new AEADParameters(new KeyParameter(key), 128, iv, aad);\n        GCMBlockCipher gcmEngine = new GCMBlockCipher(new AESFastEngine());\n        gcmEngine.init(false, parameters);\n        byte[] pt = new byte[gcmEngine.getOutputSize(ct.length)];\n        int len = gcmEngine.processBytes(ct, 0, ct.length, pt, 0);\n        gcmEngine.doFinal(pt, len);\n        return pt;\n    }\n\n    static byte[] gcmEncrypt(byte[] pt, byte[] key, byte[] iv, byte[] aad) throws Exception {\n        AEADParameters parameters = new AEADParameters(new KeyParameter(key), 128, iv, aad);\n        GCMBlockCipher gcmEngine = new GCMBlockCipher(new AESFastEngine());\n        gcmEngine.init(true, parameters);\n        byte[] ct = new byte[gcmEngine.getOutputSize(pt.length)];\n        int len = gcmEngine.processBytes(pt, 0, pt.length, ct, 0);\n        gcmEngine.doFinal(ct, len);\n        return ct;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8475093,"reputation":1,"user_id":6356601,"display_name":"Saeed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654623333,"creation_date":1645790132,"answer_id":71265504,"question_id":41813703,"body_markdown":"I improved the encrypt code above and tested it on a Sony Android 4.3 phone\r\n\r\n        import javax.crypto.Cipher;\r\n        import javax.crypto.Mac;\r\n        import javax.crypto.spec.GCMParameterSpec;\r\n        import javax.crypto.spec.SecretKeySpec;\r\n        \r\n        import org.bouncycastle.crypto.engines.AESEngine;\r\n        import org.bouncycastle.crypto.modes.GCMBlockCipher;\r\n        import org.bouncycastle.crypto.params.AEADParameters;\r\n        import org.bouncycastle.crypto.params.KeyParameter;\r\n            \r\n        \r\n        public static byte[] encrypt(byte[] password, byte[] key, byte[] iv, byte[] aad) throws Exception {\r\n        \tbyte[] encrypt;\r\n            if (Build.VERSION.SDK_INT &gt;= 21) {\r\n            \tcipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n            \tcipher.init(Cipher.ENCRYPT_MODE, new SecretKeySpec(key, &quot;AES&quot;), new GCMParameterSpec(128, iv));\r\n            \tcipher.updateAAD(aad);\r\n            \tencrypt = cipher.doFinal(password);\r\n            } else {\r\n            \tAEADParameters aeadParameters = new AEADParameters(new KeyParameter(key), 128, iv, aad);\r\n            \tGCMBlockCipher gcmBlockCipher = new GCMBlockCipher(new AESEngine());\r\n            \tgcmBlockCipher.init(true, aeadParameters);\r\n            \t//gcmEngine.processAADBytes(aad, 0, aad.length);//-- if use this remove aad in constructor AEADParameters\r\n            \r\n            \tencrypt = new byte[gcmBlockCipher.getOutputSize(password.length)];\r\n            \tint length = gcmBlockCipher.processBytes(password, 0, password.length, encrypt, 0);\r\n            \tgcmBlockCipher.doFinal(encrypt, length);\r\n            }\r\n            Log.e(&quot;encrypted : &quot; + Arrays.toString(encrypt));\r\n            return encrypt;\r\n    \t}\r\n\r\n\r\n-----------\r\n\r\n      dependencies {\r\n            //-- https://www.bouncycastle.org/latest_releases.html\r\n        \t//implementation &#39;org.bouncycastle:bcpkix-jdk15to18:1.68&#39;\r\n        \timplementation &#39;org.bouncycastle:bcprov-jdk15to18:1.68&#39;\r\n        }\r\n\r\n\r\nthanks @gi097, https://stackoverflow.com/a/62924766/6356601\r\n","title":"Cipher.updateAAD() below Java 7","body":"<p>I improved the encrypt code above and tested it on a Sony Android 4.3 phone</p>\n<pre><code>    import javax.crypto.Cipher;\n    import javax.crypto.Mac;\n    import javax.crypto.spec.GCMParameterSpec;\n    import javax.crypto.spec.SecretKeySpec;\n    \n    import org.bouncycastle.crypto.engines.AESEngine;\n    import org.bouncycastle.crypto.modes.GCMBlockCipher;\n    import org.bouncycastle.crypto.params.AEADParameters;\n    import org.bouncycastle.crypto.params.KeyParameter;\n        \n    \n    public static byte[] encrypt(byte[] password, byte[] key, byte[] iv, byte[] aad) throws Exception {\n        byte[] encrypt;\n        if (Build.VERSION.SDK_INT &gt;= 21) {\n            cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, new SecretKeySpec(key, &quot;AES&quot;), new GCMParameterSpec(128, iv));\n            cipher.updateAAD(aad);\n            encrypt = cipher.doFinal(password);\n        } else {\n            AEADParameters aeadParameters = new AEADParameters(new KeyParameter(key), 128, iv, aad);\n            GCMBlockCipher gcmBlockCipher = new GCMBlockCipher(new AESEngine());\n            gcmBlockCipher.init(true, aeadParameters);\n            //gcmEngine.processAADBytes(aad, 0, aad.length);//-- if use this remove aad in constructor AEADParameters\n        \n            encrypt = new byte[gcmBlockCipher.getOutputSize(password.length)];\n            int length = gcmBlockCipher.processBytes(password, 0, password.length, encrypt, 0);\n            gcmBlockCipher.doFinal(encrypt, length);\n        }\n        Log.e(&quot;encrypted : &quot; + Arrays.toString(encrypt));\n        return encrypt;\n    }\n</code></pre>\n<hr />\n<pre><code>  dependencies {\n        //-- https://www.bouncycastle.org/latest_releases.html\n        //implementation 'org.bouncycastle:bcpkix-jdk15to18:1.68'\n        implementation 'org.bouncycastle:bcprov-jdk15to18:1.68'\n    }\n</code></pre>\n<p>thanks @gi097, <a href=\"https://stackoverflow.com/a/62924766/6356601\">https://stackoverflow.com/a/62924766/6356601</a></p>\n"}],"owner":{"account_id":3175248,"reputation":7363,"user_id":5457878,"accept_rate":67,"display_name":"gi097"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":41876053,"answer_count":2,"score":0,"last_activity_date":1654623333,"creation_date":1485198056,"question_id":41813703,"body_markdown":"How can one use `cipher.updateAAD()` below API 19 (Java 7)? I know I can use BouncyCastle but it does not provide a backport for AEAD encryption and decryption. Are there any third-party libraries? I am using `AES/GCM/NoPadding`.","title":"Cipher.updateAAD() below Java 7","body":"<p>How can one use <code>cipher.updateAAD()</code> below API 19 (Java 7)? I know I can use BouncyCastle but it does not provide a backport for AEAD encryption and decryption. Are there any third-party libraries? I am using <code>AES/GCM/NoPadding</code>.</p>\n"},{"tags":["java","android","android-camera2"],"answers":[{"tags":[],"owner":{"account_id":16420385,"reputation":330,"user_id":11861734,"display_name":"Wasim Ansari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654589734,"creation_date":1654589734,"answer_id":72527973,"question_id":72481187,"body_markdown":"Torch and flash are two different setting in camera2. \r\nYou can try and control flash with these setting.\r\n\r\nOn\r\ncaptureRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_ON_ALWAYS_FLASH);\r\n\r\nOff\r\ncaptureRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_ON);","title":"Camera turns black when I turn off flash light","body":"<p>Torch and flash are two different setting in camera2.\nYou can try and control flash with these setting.</p>\n<p>On\ncaptureRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_ON_ALWAYS_FLASH);</p>\n<p>Off\ncaptureRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_ON);</p>\n"},{"tags":[],"owner":{"account_id":1420007,"reputation":17492,"user_id":1344825,"display_name":"Eddy Talvala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654623223,"creation_date":1654623223,"answer_id":72535378,"question_id":72481187,"body_markdown":"It&#39;s going black because you&#39;re turning off auto-exposure, and I suspect the default manual exposure and sensitivity values are so low that the image is very underexposed.\r\n\r\nYou don&#39;t need to turn auto-exposure `OFF` when you turn off the flash. To control the flash manually, you do need to make sure AE is _not_ set to `ON_AUTO_FLASH`, `ON_ALWAYS_FLASH`, or `ON_AUTO_FLASH_REDEYE`, but that just means you can leave it as `ON` all the time, if you don&#39;t need automatic flash firing.\r\n\r\nSo just remove the bit about setting `CONTROL_AE_MODE` to `CONTROL_AE_MODE_OFF`","title":"Camera turns black when I turn off flash light","body":"<p>It's going black because you're turning off auto-exposure, and I suspect the default manual exposure and sensitivity values are so low that the image is very underexposed.</p>\n<p>You don't need to turn auto-exposure <code>OFF</code> when you turn off the flash. To control the flash manually, you do need to make sure AE is <em>not</em> set to <code>ON_AUTO_FLASH</code>, <code>ON_ALWAYS_FLASH</code>, or <code>ON_AUTO_FLASH_REDEYE</code>, but that just means you can leave it as <code>ON</code> all the time, if you don't need automatic flash firing.</p>\n<p>So just remove the bit about setting <code>CONTROL_AE_MODE</code> to <code>CONTROL_AE_MODE_OFF</code></p>\n"}],"owner":{"account_id":7332712,"reputation":2128,"user_id":5585069,"accept_rate":98,"display_name":"KANAYO AUGUSTIN UG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72535378,"answer_count":2,"score":0,"last_activity_date":1654623223,"creation_date":1654196843,"question_id":72481187,"body_markdown":"I use this code below to toggle on and off camera flash light\r\n\r\n\r\n    private void toggleFlash() {\r\n        try {\r\n            if(!flashOn) {\r\n                captureRequestBuilder.set(CaptureRequest.FLASH_MODE, CaptureRequest.FLASH_MODE_TORCH);\r\n                captureRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_ON);\r\n            } else {\r\n                captureRequestBuilder.set(CaptureRequest.FLASH_MODE, CaptureRequest.FLASH_MODE_OFF);\r\n                captureRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_OFF);\r\n            }\r\n            captureSession.setRepeatingRequest(captureRequestBuilder.build(), null, handler);\r\n\t\t\tflashOn = !flashOn;\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nIt works, but the issue is this. At first when I open the camera (without flash light), I can see the image preview from the camera clear, but when I toggle on the flash and toggle it off, the preview becomes more darker than the initial time of opening the camera.\r\n\r\nI&#39;m still new to the camera API but I guess the issue is coming from here\r\n\r\n\r\n    captureRequestBuilder.set(CaptureRequest.FLASH_MODE, CaptureRequest.FLASH_MODE_OFF);\r\n    captureRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_OFF);\r\n\r\nBut I don&#39;t know the proper code to use to make the camera not to be dark. Anyone with a solution?","title":"Camera turns black when I turn off flash light","body":"<p>I use this code below to toggle on and off camera flash light</p>\n<pre><code>private void toggleFlash() {\n    try {\n        if(!flashOn) {\n            captureRequestBuilder.set(CaptureRequest.FLASH_MODE, CaptureRequest.FLASH_MODE_TORCH);\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_ON);\n        } else {\n            captureRequestBuilder.set(CaptureRequest.FLASH_MODE, CaptureRequest.FLASH_MODE_OFF);\n            captureRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_OFF);\n        }\n        captureSession.setRepeatingRequest(captureRequestBuilder.build(), null, handler);\n        flashOn = !flashOn;\n    } catch (CameraAccessException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>It works, but the issue is this. At first when I open the camera (without flash light), I can see the image preview from the camera clear, but when I toggle on the flash and toggle it off, the preview becomes more darker than the initial time of opening the camera.</p>\n<p>I'm still new to the camera API but I guess the issue is coming from here</p>\n<pre><code>captureRequestBuilder.set(CaptureRequest.FLASH_MODE, CaptureRequest.FLASH_MODE_OFF);\ncaptureRequestBuilder.set(CaptureRequest.CONTROL_AE_MODE, CaptureRequest.CONTROL_AE_MODE_OFF);\n</code></pre>\n<p>But I don't know the proper code to use to make the camera not to be dark. Anyone with a solution?</p>\n"},{"tags":["java","encryption","activemq"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1598685325,"post_id":63640522,"comment_id":112544529,"body_markdown":"I found a similar question here on SO and the solution was to change the output (the encrypted data) from actual base64-encoding to hex encoding. See this link on jasypt-FAQs: http://www.jasypt.org/faq.html#i-keep-on-receiving-encryption-operation-not-possible","body":"I found a similar question here on SO and the solution was to change the output (the encrypted data) from actual base64-encoding to hex encoding. See this link on jasypt-FAQs: <a href=\"http://www.jasypt.org/faq.html#i-keep-on-receiving-encryption-operation-not-possible\" rel=\"nofollow noreferrer\">jasypt.org/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23240756,"reputation":1,"user_id":17330112,"display_name":"lreis05"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654623040,"creation_date":1654202684,"answer_id":72482148,"question_id":63640522,"body_markdown":"\r\nThat way it worked for me, need to export environment variable in terminal before starting it.(AMQ 5.15.13)\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n  &lt;!-- schemaLocation add: spring and camel-spring.xsd   --&gt;\r\n&lt;beans\r\n  xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n  xmlns:amq=&quot;http://activemq.apache.org/schema/core&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n  http://activemq.apache.org/schema/core http://activemq.apache.org/schema/core/activemq-core.xsd \r\n  http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd&quot;&gt;\r\n  \r\n  &lt;!-- obligatorily export --password in lower case: bin\\activemq encrypt --password encrypt123 --input password1  --&gt;\r\n  &lt;bean id=&quot;environmentVariablesConfiguration&quot; class=&quot;org.jasypt.encryption.pbe.config.EnvironmentStringPBEConfig&quot;&gt;\r\n    &lt;property name=&quot;algorithm&quot; value=&quot;PBEWithMD5AndDES&quot; /&gt;\r\n    &lt;property name=&quot;passwordEnvName&quot; value=&quot;ACTIVEMQ_ENCRYPTION_PASSWORD&quot; /&gt;\r\n  &lt;/bean&gt;\r\n                                                                     \r\n  &lt;bean id=&quot;configurationEncryptor&quot; class=&quot;org.jasypt.encryption.pbe.StandardPBEStringEncryptor&quot;&gt;\r\n    &lt;property name=&quot;config&quot; ref=&quot;environmentVariablesConfiguration&quot; /&gt;\r\n  &lt;/bean&gt;  \r\n    \r\n  &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.jasypt.spring31.properties.EncryptablePropertyPlaceholderConfigurer&quot;&gt;\r\n      &lt;constructor-arg ref=&quot;configurationEncryptor&quot; /&gt; \r\n      &lt;property name=&quot;location&quot; value=&quot;file:${activemq.conf}/credentials-enc.properties&quot;/&gt; \r\n  &lt;/bean&gt; \r\n  \r\n  &lt;broker useJmx=&quot;true&quot; persistent=&quot;false&quot; xmlns=&quot;http://activemq.apache.org/schema/core&quot; &gt;\r\n\r\n &lt;!-- alter ManagementContext to false --&gt;\r\n\r\n    &lt;managementContext&gt;\r\n        &lt;managementContext createConnector=&quot;false&quot;/&gt;\r\n    &lt;/managementContext&gt;\r\n \r\n &lt;!-- add kahaBD --&gt;\r\n\t&lt;persistenceAdapter&gt;\r\n\t\t&lt;kahaDB directory=&quot;${activemq.data}/kahadb&quot;/&gt;\r\n\t&lt;/persistenceAdapter&gt; \r\n    \r\n&lt;!-- =============== --&gt;\r\n&lt;!-- plugins tag removed--&gt;\r\n&lt;!-- =============== --&gt;\r\n\r\n     &lt;!-- your config transport --&gt;\r\n    &lt;transportConnectors&gt;\r\n       &lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://0.0.0.0:61616&quot;/&gt;\r\n    &lt;/transportConnectors&gt;\r\n\r\n\r\n    &lt;shutdownHooks&gt;\r\n        &lt;bean xmlns=&quot;http://www.springframework.org/schema/beans&quot; class=&quot;org.apache.activemq.hooks.SpringContextHook&quot; /&gt;\r\n    &lt;/shutdownHooks&gt;\r\n  &lt;/broker&gt;\r\n\r\n   &lt;!-- Oracle connect  --&gt;\r\n\t&lt;bean id=&quot;requiredBeanForOracleAq&quot; class=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;/&gt;\r\n\t&lt;bean id=&quot;connectionFactoryOracleAQQueue&quot; class=&quot;oracle.jms.AQjmsFactory&quot; factory-method=&quot;getQueueConnectionFactory&quot;&gt; \r\n\t\t&lt;constructor-arg index=&quot;0&quot;&gt;\r\n\t\t\t&lt;value&gt;jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=localhost)(PORT=1521))(CONNECT_DATA=(SERVICE_NAME=SID_DB)))&lt;/value&gt;\r\n\t\t&lt;/constructor-arg&gt; \r\n\t\t&lt;constructor-arg index=&quot;1&quot; type=&quot;java.util.Properties&quot;&gt;\r\n\t\t\t&lt;value/&gt;\r\n\t\t&lt;/constructor-arg&gt;\r\n\t&lt;/bean&gt;\r\n\r\n  &lt;!-- Oracle user --&gt;\r\n\t&lt;bean id=&quot;oracleQueueCredentials&quot; class=&quot;org.springframework.jms.connection.UserCredentialsConnectionFactoryAdapter&quot;&gt;\r\n\t\t&lt;property name=&quot;targetConnectionFactory&quot;&gt;\r\n\t\t\t&lt;ref bean=&quot;connectionFactoryOracleAQQueue&quot;&gt;&lt;/ref&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;username&quot;&gt;\r\n\t\t\t&lt;value&gt;USER_DB&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;password&quot;&gt;\r\n\t\t\t&lt;value&gt;${jdbc.password}&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;oracleQueue&quot; class=&quot;org.apache.camel.component.jms.JmsComponent&quot;&gt;\r\n\t\t&lt;property name=&quot;connectionFactory&quot; ref=&quot;oracleQueueCredentials&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\n  &lt;!--  Create queues  --&gt;\r\n\t&lt;camelContext xmlns=&quot;http://camel.apache.org/schema/spring&quot;&gt; \r\n\t\t&lt;route&gt;\r\n\t\t\t&lt;from uri=&quot;oracleQueue:queue:TAB_ORACLE_queues_AMQ&quot;/&gt;\r\n\t\t\t&lt;to uri=&quot;activemq:queue:queues_AMQ&quot;/&gt;\r\n\t\t&lt;/route&gt;\r\n\t\t&lt;route&gt;\r\n\t\t\t&lt;from uri=&quot;activemq:queue:TAB_queuesOracle&quot;/&gt;\r\n\t\t\t&lt;to uri=&quot;oracleQueue:queue:queues_ORacle&quot;/&gt;\r\n\t\t&lt;/route&gt; \r\n\r\n\t&lt;/camelContext&gt;\r\n\t\r\n  &lt;!--  Use jetty.xml instead of jetty-demo.xml --&gt;\r\n  &lt;import resource=&quot;jetty.xml&quot;/&gt;\r\n\r\n&lt;/beans&gt;\r\n\r\n```","title":"ActiveMQ password EncryptionOperationNotPossibleExecption","body":"<p>That way it worked for me, need to export environment variable in terminal before starting it.(AMQ 5.15.13)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n  &lt;!-- schemaLocation add: spring and camel-spring.xsd   --&gt;\n&lt;beans\n  xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n  xmlns:amq=&quot;http://activemq.apache.org/schema/core&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n  http://activemq.apache.org/schema/core http://activemq.apache.org/schema/core/activemq-core.xsd \n  http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd&quot;&gt;\n  \n  &lt;!-- obligatorily export --password in lower case: bin\\activemq encrypt --password encrypt123 --input password1  --&gt;\n  &lt;bean id=&quot;environmentVariablesConfiguration&quot; class=&quot;org.jasypt.encryption.pbe.config.EnvironmentStringPBEConfig&quot;&gt;\n    &lt;property name=&quot;algorithm&quot; value=&quot;PBEWithMD5AndDES&quot; /&gt;\n    &lt;property name=&quot;passwordEnvName&quot; value=&quot;ACTIVEMQ_ENCRYPTION_PASSWORD&quot; /&gt;\n  &lt;/bean&gt;\n                                                                     \n  &lt;bean id=&quot;configurationEncryptor&quot; class=&quot;org.jasypt.encryption.pbe.StandardPBEStringEncryptor&quot;&gt;\n    &lt;property name=&quot;config&quot; ref=&quot;environmentVariablesConfiguration&quot; /&gt;\n  &lt;/bean&gt;  \n    \n  &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.jasypt.spring31.properties.EncryptablePropertyPlaceholderConfigurer&quot;&gt;\n      &lt;constructor-arg ref=&quot;configurationEncryptor&quot; /&gt; \n      &lt;property name=&quot;location&quot; value=&quot;file:${activemq.conf}/credentials-enc.properties&quot;/&gt; \n  &lt;/bean&gt; \n  \n  &lt;broker useJmx=&quot;true&quot; persistent=&quot;false&quot; xmlns=&quot;http://activemq.apache.org/schema/core&quot; &gt;\n\n &lt;!-- alter ManagementContext to false --&gt;\n\n    &lt;managementContext&gt;\n        &lt;managementContext createConnector=&quot;false&quot;/&gt;\n    &lt;/managementContext&gt;\n \n &lt;!-- add kahaBD --&gt;\n    &lt;persistenceAdapter&gt;\n        &lt;kahaDB directory=&quot;${activemq.data}/kahadb&quot;/&gt;\n    &lt;/persistenceAdapter&gt; \n    \n&lt;!-- =============== --&gt;\n&lt;!-- plugins tag removed--&gt;\n&lt;!-- =============== --&gt;\n\n     &lt;!-- your config transport --&gt;\n    &lt;transportConnectors&gt;\n       &lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://0.0.0.0:61616&quot;/&gt;\n    &lt;/transportConnectors&gt;\n\n\n    &lt;shutdownHooks&gt;\n        &lt;bean xmlns=&quot;http://www.springframework.org/schema/beans&quot; class=&quot;org.apache.activemq.hooks.SpringContextHook&quot; /&gt;\n    &lt;/shutdownHooks&gt;\n  &lt;/broker&gt;\n\n   &lt;!-- Oracle connect  --&gt;\n    &lt;bean id=&quot;requiredBeanForOracleAq&quot; class=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;/&gt;\n    &lt;bean id=&quot;connectionFactoryOracleAQQueue&quot; class=&quot;oracle.jms.AQjmsFactory&quot; factory-method=&quot;getQueueConnectionFactory&quot;&gt; \n        &lt;constructor-arg index=&quot;0&quot;&gt;\n            &lt;value&gt;jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=localhost)(PORT=1521))(CONNECT_DATA=(SERVICE_NAME=SID_DB)))&lt;/value&gt;\n        &lt;/constructor-arg&gt; \n        &lt;constructor-arg index=&quot;1&quot; type=&quot;java.util.Properties&quot;&gt;\n            &lt;value/&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n\n  &lt;!-- Oracle user --&gt;\n    &lt;bean id=&quot;oracleQueueCredentials&quot; class=&quot;org.springframework.jms.connection.UserCredentialsConnectionFactoryAdapter&quot;&gt;\n        &lt;property name=&quot;targetConnectionFactory&quot;&gt;\n            &lt;ref bean=&quot;connectionFactoryOracleAQQueue&quot;&gt;&lt;/ref&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;username&quot;&gt;\n            &lt;value&gt;USER_DB&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;password&quot;&gt;\n            &lt;value&gt;${jdbc.password}&lt;/value&gt;\n        &lt;/property&gt;\n\n    &lt;/bean&gt;\n    &lt;bean id=&quot;oracleQueue&quot; class=&quot;org.apache.camel.component.jms.JmsComponent&quot;&gt;\n        &lt;property name=&quot;connectionFactory&quot; ref=&quot;oracleQueueCredentials&quot;/&gt;\n    &lt;/bean&gt;\n\n  &lt;!--  Create queues  --&gt;\n    &lt;camelContext xmlns=&quot;http://camel.apache.org/schema/spring&quot;&gt; \n        &lt;route&gt;\n            &lt;from uri=&quot;oracleQueue:queue:TAB_ORACLE_queues_AMQ&quot;/&gt;\n            &lt;to uri=&quot;activemq:queue:queues_AMQ&quot;/&gt;\n        &lt;/route&gt;\n        &lt;route&gt;\n            &lt;from uri=&quot;activemq:queue:TAB_queuesOracle&quot;/&gt;\n            &lt;to uri=&quot;oracleQueue:queue:queues_ORacle&quot;/&gt;\n        &lt;/route&gt; \n\n    &lt;/camelContext&gt;\n    \n  &lt;!--  Use jetty.xml instead of jetty-demo.xml --&gt;\n  &lt;import resource=&quot;jetty.xml&quot;/&gt;\n\n&lt;/beans&gt;\n\n</code></pre>\n"}],"owner":{"account_id":19396816,"reputation":11,"user_id":14184322,"display_name":"gcr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654623040,"creation_date":1598646694,"question_id":63640522,"body_markdown":"I have been trying to get password encryption working on ActiveMQ.  \r\nI am following the example put out by Redhat. [here][1]. But when I start AMQ I get EncryptionOperationNotPossibleExecption \r\n\r\nMy question is Why?  \r\n\r\nI am on Win 10   \r\nAMQ 5.16.0  \r\nJDK 1.8.0.221  \r\n\r\nI am currently running AMQ from the command line but will ultimately have to run it as a service.\r\nHere is what I have:  \r\nconf/activemq-security.xml is the same as the conf/activemq.xml that comes with the distribution.\r\nI added the three beans that every example prescribes.  \r\n\r\n    &lt;bean id=&quot;environmentVariablesConfiguration&quot; \r\n    class=&quot;org.jasypt.encryption.pbe.config.EnvironmentStringPBEConfig&quot;&gt;\r\n        &lt;property name=&quot;algorithm&quot; value=&quot;PBEWithMD5AndDES&quot; /&gt;\r\n        &lt;property name=&quot;passwordEnvName&quot; value=&quot;ACTIVEMQ_ENCRYPTION_PASSWORD&quot; /\r\n    &lt;/bean&gt;                                                                        \r\n    &lt;bean id=&quot;configurationEncryptor&quot; \r\n        class=&quot;org.jasypt.encryption.pbe.StandardPBEStringEncryptor&quot;&gt;\r\n        &lt;property name=&quot;config&quot; ref=&quot;environmentVariablesConfiguration&quot; /&gt;\r\n    &lt;/bean&gt;    \r\n    &lt;bean id=&quot;propertyConfigurer&quot; \r\n       class=&quot;org.jasypt.spring31.properties.EncryptablePropertyPlaceholderConfigurer&quot;&gt;\r\n        &lt;constructor-arg ref=&quot;configurationEncryptor&quot; /&gt;\r\n        &lt;property name=&quot;location&quot; value=&quot;file:${activemq.base}/conf/credentials- \r\n        enc.properties&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nI ran exactly like the example.   \r\n\r\n\r\n    PS bin\\activemq encrypt --password encrypt123 --input password1\r\n\r\nI got back=ll2ltbcoSnOSw/3oc9sD9pBN5y7SzTiK\r\nI placed that in conf/credentials-enc.properties\r\n\r\n    activemq.password=ENC(ll2ltbcoSnOSw/3oc9sD9pBN5y7SzTiK)\r\n\r\nI set the environment\r\n\r\n    PS $env:ACTIVEMQ_ENCRYPTION_PASSWORD=&#39;encrypt123&#39;\r\n\r\nI ran\r\n\r\n    PS bin/activemq start xbean:conf/activemq-security.xml\r\n\r\nI get the error\r\n```\r\nJava Runtime: Oracle Corporation 1.8.0_221 C:\\Program Files\\Java\\jdk1.8.0_221\\jre\r\n  Heap sizes: current=1005056k  free=989327k  max=1005056k\r\n    JVM args: -Dcom.sun.management.jmxremote -Xms1G -Xmx1G -Djava.util.logging.config.file=logging.properties -Djava.security.auth.login.config=C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\conf\\login.config -Dactivemq.classpath=C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\conf;C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\../conf;C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\../conf; -Dactivemq.home=C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\.. -Dactivemq.base=C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\.. -Dactivemq.conf=C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\conf -Dactivemq.data=C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\data -Djava.io.tmpdir=C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\data\\tmp\r\nExtensions classpath:\r\n  [C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\lib,C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\lib\\camel,C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\lib\\optional,C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\lib\\web,C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\lib\\extra]\r\nACTIVEMQ_HOME: C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\r\nACTIVEMQ_BASE: C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\r\nACTIVEMQ_CONF: C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\conf\r\nACTIVEMQ_DATA: C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\data\r\nLoading message broker from: xbean:conf/activemq-security.xml\r\n INFO | Refreshing org.apache.activemq.xbean.XBeanBrokerFactory$1@1e127982: startup date [Fri Aug 28 15:45:07 EDT 2020]; root of context hierarchy\r\nERROR: java.lang.RuntimeException: Failed to execute start task. Reason: org.jasypt.exceptions.EncryptionOperationNotPossibleException\r\njava.lang.RuntimeException: Failed to execute start task. Reason: org.jasypt.exceptions.EncryptionOperationNotPossibleException\r\n```\r\n\r\nThanks for reading.\r\n\r\n  [1]: https://access.redhat.com/documentation/en-us/red_hat_amq/6.3/html/security_guide/password-encrypt","title":"ActiveMQ password EncryptionOperationNotPossibleExecption","body":"<p>I have been trying to get password encryption working on ActiveMQ.<br />\nI am following the example put out by Redhat. <a href=\"https://access.redhat.com/documentation/en-us/red_hat_amq/6.3/html/security_guide/password-encrypt\" rel=\"nofollow noreferrer\">here</a>. But when I start AMQ I get EncryptionOperationNotPossibleExecption</p>\n<p>My question is Why?</p>\n<p>I am on Win 10<br />\nAMQ 5.16.0<br />\nJDK 1.8.0.221</p>\n<p>I am currently running AMQ from the command line but will ultimately have to run it as a service.\nHere is what I have:<br />\nconf/activemq-security.xml is the same as the conf/activemq.xml that comes with the distribution.\nI added the three beans that every example prescribes.</p>\n<pre><code>&lt;bean id=&quot;environmentVariablesConfiguration&quot; \nclass=&quot;org.jasypt.encryption.pbe.config.EnvironmentStringPBEConfig&quot;&gt;\n    &lt;property name=&quot;algorithm&quot; value=&quot;PBEWithMD5AndDES&quot; /&gt;\n    &lt;property name=&quot;passwordEnvName&quot; value=&quot;ACTIVEMQ_ENCRYPTION_PASSWORD&quot; /\n&lt;/bean&gt;                                                                        \n&lt;bean id=&quot;configurationEncryptor&quot; \n    class=&quot;org.jasypt.encryption.pbe.StandardPBEStringEncryptor&quot;&gt;\n    &lt;property name=&quot;config&quot; ref=&quot;environmentVariablesConfiguration&quot; /&gt;\n&lt;/bean&gt;    \n&lt;bean id=&quot;propertyConfigurer&quot; \n   class=&quot;org.jasypt.spring31.properties.EncryptablePropertyPlaceholderConfigurer&quot;&gt;\n    &lt;constructor-arg ref=&quot;configurationEncryptor&quot; /&gt;\n    &lt;property name=&quot;location&quot; value=&quot;file:${activemq.base}/conf/credentials- \n    enc.properties&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>I ran exactly like the example.</p>\n<pre><code>PS bin\\activemq encrypt --password encrypt123 --input password1\n</code></pre>\n<p>I got back=ll2ltbcoSnOSw/3oc9sD9pBN5y7SzTiK\nI placed that in conf/credentials-enc.properties</p>\n<pre><code>activemq.password=ENC(ll2ltbcoSnOSw/3oc9sD9pBN5y7SzTiK)\n</code></pre>\n<p>I set the environment</p>\n<pre><code>PS $env:ACTIVEMQ_ENCRYPTION_PASSWORD='encrypt123'\n</code></pre>\n<p>I ran</p>\n<pre><code>PS bin/activemq start xbean:conf/activemq-security.xml\n</code></pre>\n<p>I get the error</p>\n<pre><code>Java Runtime: Oracle Corporation 1.8.0_221 C:\\Program Files\\Java\\jdk1.8.0_221\\jre\n  Heap sizes: current=1005056k  free=989327k  max=1005056k\n    JVM args: -Dcom.sun.management.jmxremote -Xms1G -Xmx1G -Djava.util.logging.config.file=logging.properties -Djava.security.auth.login.config=C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\conf\\login.config -Dactivemq.classpath=C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\conf;C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\../conf;C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\../conf; -Dactivemq.home=C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\.. -Dactivemq.base=C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\.. -Dactivemq.conf=C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\conf -Dactivemq.data=C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\data -Djava.io.tmpdir=C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\data\\tmp\nExtensions classpath:\n  [C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\lib,C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\lib\\camel,C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\lib\\optional,C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\lib\\web,C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\lib\\extra]\nACTIVEMQ_HOME: C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\nACTIVEMQ_BASE: C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\nACTIVEMQ_CONF: C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\conf\nACTIVEMQ_DATA: C:\\Users\\qad3\\apache-activemq-5.16.0\\bin\\..\\data\nLoading message broker from: xbean:conf/activemq-security.xml\n INFO | Refreshing org.apache.activemq.xbean.XBeanBrokerFactory$1@1e127982: startup date [Fri Aug 28 15:45:07 EDT 2020]; root of context hierarchy\nERROR: java.lang.RuntimeException: Failed to execute start task. Reason: org.jasypt.exceptions.EncryptionOperationNotPossibleException\njava.lang.RuntimeException: Failed to execute start task. Reason: org.jasypt.exceptions.EncryptionOperationNotPossibleException\n</code></pre>\n<p>Thanks for reading.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":11211027,"reputation":531,"user_id":8225099,"display_name":"wartoshika"},"score":1,"creation_date":1654608259,"post_id":72531864,"comment_id":128127278,"body_markdown":"The query looks fine to me but i have never used this annotations on the entiry class. For MongoDB entities i am using `org.springframework.data.annotation.Id` annotation for the primary key and no other annotations for the fields. (You may use `Indexed`, `NotNull`, `TextIndexed`, `DbRef`)\n\nThe dataset within the database may help finding the problem.","body":"The query looks fine to me but i have never used this annotations on the entiry class. For MongoDB entities i am using <code>org.springframework.data.annotation.Id</code> annotation for the primary key and no other annotations for the fields. (You may use <code>Indexed</code>, <code>NotNull</code>, <code>TextIndexed</code>, <code>DbRef</code>)  The dataset within the database may help finding the problem."},{"owner":{"account_id":18700725,"reputation":35,"user_id":13632996,"display_name":"Pennesi Diego"},"score":0,"creation_date":1654611164,"post_id":72531864,"comment_id":128128423,"body_markdown":"It seems it dosen&#39;t rly change a thing, but i just create another autowire mongoteplate on rest layer and it work fine.\nI can create a Dao layer for mongotemplate and nother layer for repository pattern when i need to interrogate database, but i found pretty non-linear (i prefer to have read method on Dao layer and write\\update method on deeper layer).\n\nAt this point, is something whit Spring @Service","body":"It seems it dosen&#39;t rly change a thing, but i just create another autowire mongoteplate on rest layer and it work fine. I can create a Dao layer for mongotemplate and nother layer for repository pattern when i need to interrogate database, but i found pretty non-linear (i prefer to have read method on Dao layer and write\\update method on deeper layer).  At this point, is something whit Spring @Service"},{"owner":{"account_id":11211027,"reputation":531,"user_id":8225099,"display_name":"wartoshika"},"score":1,"creation_date":1654611784,"post_id":72531864,"comment_id":128128680,"body_markdown":"You are correct. But with a bit of architecture design you can use your repository within the domain. Do you want me to give you an example?","body":"You are correct. But with a bit of architecture design you can use your repository within the domain. Do you want me to give you an example?"},{"owner":{"account_id":18700725,"reputation":35,"user_id":13632996,"display_name":"Pennesi Diego"},"score":0,"creation_date":1654612223,"post_id":72531864,"comment_id":128128851,"body_markdown":"Yes ;D would be great to learn!","body":"Yes ;D would be great to learn!"},{"owner":{"account_id":11211027,"reputation":531,"user_id":8225099,"display_name":"wartoshika"},"score":0,"creation_date":1654613649,"post_id":72531864,"comment_id":128129498,"body_markdown":"Ill start the work and will answer this question with a somehow detailed explanation and a link to the repository. Give me a few hours and ill let you know :)","body":"Ill start the work and will answer this question with a somehow detailed explanation and a link to the repository. Give me a few hours and ill let you know :)"}],"answers":[{"tags":[],"owner":{"account_id":11211027,"reputation":531,"user_id":8225099,"display_name":"wartoshika"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654622778,"creation_date":1654622778,"answer_id":72535298,"question_id":72531864,"body_markdown":"The OPs question related to a spring context issue. By just accessing the repository directly the problem could be resolved.\r\n\r\nWithin the comments an additional question/target has been found, i would like to provide an answer for that.\r\n\r\n## How to have persistence access within the domain layer?\r\n\r\nI have created a repository at [GitHub](https://github.com/wartoshika/stackoverflow-spring-boot-mongo-domain-access-layer) where you can find a working solution. This code is not best practice but will provide a solution that works.\r\n\r\nEvery constructed domain object needs access to the declared repositories. That can be a problem when using dependency injection. In order to keep entity construction pristine an abstract class has been introduces that takes the task to get the concrete repositories.\r\n\r\nThe core idea is to make the Spring `ApplicationContext` accessable statically. Having this context an access to the repositories is just one call away.\r\n\r\nBeans having the `ApplicationContextAware` interface will be called in a very early stage of Spring Boots startup. When using this class to access the context every consumer has to call it after Spring has been loaded. This can be achieved by using `@Component`, `@Configuration`, `@Bean` to run code and there will be no race condition.\r\n\r\nFurther details are within the repositories readme file.\r\n\r\nI hope that this helps you :)","title":"org.springframework.dao.IncorrectResultSizeDataAccessException Mongo Limit dosen&#39;t work?","body":"<p>The OPs question related to a spring context issue. By just accessing the repository directly the problem could be resolved.</p>\n<p>Within the comments an additional question/target has been found, i would like to provide an answer for that.</p>\n<h2>How to have persistence access within the domain layer?</h2>\n<p>I have created a repository at <a href=\"https://github.com/wartoshika/stackoverflow-spring-boot-mongo-domain-access-layer\" rel=\"nofollow noreferrer\">GitHub</a> where you can find a working solution. This code is not best practice but will provide a solution that works.</p>\n<p>Every constructed domain object needs access to the declared repositories. That can be a problem when using dependency injection. In order to keep entity construction pristine an abstract class has been introduces that takes the task to get the concrete repositories.</p>\n<p>The core idea is to make the Spring <code>ApplicationContext</code> accessable statically. Having this context an access to the repositories is just one call away.</p>\n<p>Beans having the <code>ApplicationContextAware</code> interface will be called in a very early stage of Spring Boots startup. When using this class to access the context every consumer has to call it after Spring has been loaded. This can be achieved by using <code>@Component</code>, <code>@Configuration</code>, <code>@Bean</code> to run code and there will be no race condition.</p>\n<p>Further details are within the repositories readme file.</p>\n<p>I hope that this helps you :)</p>\n"}],"owner":{"account_id":18700725,"reputation":35,"user_id":13632996,"display_name":"Pennesi Diego"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72535298,"answer_count":1,"score":0,"last_activity_date":1654622778,"creation_date":1654607725,"question_id":72531864,"body_markdown":"GoodEvening\r\ni&#39;m new about mongo, and i choose to use a mix &amp; match of RepositoryPattern and Mongotemplate\r\n\r\nNow i find a very strange error when i want to use MongoTemplate to retrive a specific value of an inner object in order to calculate a progressive ID \r\nIt seems my code work for 0 or 1 document inside a collection, but when i have equal or more than 2 documents, the method will throw a \r\n```\r\norg.springframework.dao.IncorrectResultSizeDataAccessException: Query { &quot;$java&quot; : Query: {}, Fields: {}, Sort: {} } returned non unique result.\r\n```\r\nas if limit dosen&#39;t work.\r\nI have just, for now, a rest and a repository pattern, but in the service layer i have another autowire whit mongotemplate class, this template is used by just 1 method.\r\n```\r\npublic DetailedOrder findTheBiggestBy(String byWhat){\r\n        Query query = new Query();\r\n        query.with(Sort.by(Sort.Direction.DESC,byWhat)).limit(1);\r\n        return mongoDb.findOne(query,DetailedOrder.class);\r\n    }\r\n```\r\nAs you can see is pretty simple and it actually work, becouse before moving the Template inside Service it actually work whit various documents inside collection, when i autowired it over the rest layer.\r\n\r\nThere is something i miss and is not rly related to mongo but related to spring autowire?\r\n\r\nMy detailorderClass is\r\n```\r\npackage com.service.backend.BK.Pojo;\r\n\r\nimport com.service.backend.BK.Constants.Constant;\r\nimport org.bson.codecs.pojo.annotations.BsonId;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\nimport org.springframework.data.mongodb.core.mapping.Field;\r\nimport org.springframework.data.mongodb.core.mapping.FieldType;\r\nimport org.springframework.data.mongodb.core.mapping.MongoId;\r\n\r\n\r\nimport java.util.List;\r\n@Document(&quot;Orders&quot;)\r\npublic class DetailedOrder {\r\n\r\n    @MongoId(FieldType.OBJECT_ID)\r\n    private String id;\r\n    @Field\r\n    private List&lt;Integer&gt; category;\r\n    // 1 junk to 10 Pristine\r\n    @Field\r\n    private Integer quality;\r\n    @Field\r\n    private BaseOrder baseOrder;\r\n    @Field\r\n    private String qualityDescription;\r\n\r\n    public DetailedOrder(){}\r\n    public DetailedOrder(String Description,Double price, List&lt;Integer&gt; category, Integer quality) {\r\n        this.category = category;\r\n        this.quality = quality;\r\n        this.qualityDescription = qualityDescriptionPairFactory(quality);\r\n        this.baseOrder=new BaseOrder(Description,price);\r\n    }\r\n\r\n\r\n\r\n    public List&lt;Integer&gt; getCategory() {\r\n        return category;\r\n    }\r\n    public void setCategory(List&lt;Integer&gt; category) {\r\n        this.category = category;\r\n    }\r\n    public Integer getQuality() {\r\n        return quality;\r\n    }\r\n    public void setQuality(Integer quality) {\r\n        this.quality = quality;\r\n    }\r\n    public String getQualityDescription() {\r\n        return qualityDescription;\r\n    }\r\n    public void setQualityDescription(String qualityDescription) {\r\n        this.qualityDescription = qualityDescription;}\r\n    private String qualityDescriptionPairFactory(int quality){\r\n        switch (quality){\r\n            case 1:return Constant.Quality.NOGRAD.label;\r\n            case 2:return Constant.Quality.HEAVYDMN.label;\r\n            case 3:return Constant.Quality.LOOSE.label;\r\n            case 4:return Constant.Quality.POOR.label;\r\n            case 5:return Constant.Quality.LIGHTDMN.label;\r\n            case 6:return Constant.Quality.GOOD.label;\r\n            case 7:return Constant.Quality.EXCELENT.label;\r\n            case 8:return Constant.Quality.NEARMINT.label;\r\n            case 9:return Constant.Quality.MINT.label;\r\n            case 10:return Constant.Quality.NEWUNRL.label;\r\n            default:return Constant.Quality.NOGRAD.label;        }\r\n    }\r\n    @Override\r\n    public String toString() {\r\n        return &quot;DetailedOrder{&quot; +\r\n                &quot;id=&#39;&quot; + id + &#39;\\&#39;&#39; +\r\n                &quot;, baseOrder=&#39;&quot; + getBaseOrder().returnBaseOrder() + &#39;\\&#39;&#39; +\r\n                &quot;, category=&quot; + category +\r\n                &quot;, quality=&quot; + quality +\r\n                &quot;, qualityDescription=&#39;&quot; + qualityDescription + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    public BaseOrder getBaseOrder() {\r\n        return baseOrder;\r\n    }\r\n\r\n    public void setBaseOrder(BaseOrder baseOrder) {\r\n        this.baseOrder = baseOrder;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n}\r\n```\r\nand that lead to baseOrderClass\r\n```\r\npackage com.service.backend.BK.Pojo;\r\n\r\nimport org.joda.time.DateTime;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n public class BaseOrder {\r\n     private String id;\r\n     private String description;\r\n     private Double desideredPrice;\r\n     //Pending,active,Rejected,Hault,etc etc\r\n     private int status;\r\n     \r\n     protected  BaseOrder(){}\r\n     protected  BaseOrder(String description, Double desideredPrice) {\r\n          this.description = description;\r\n          this.desideredPrice = desideredPrice;\r\n     }\r\n     public String returnBaseOrder(){\r\n          return &quot;BaseOrder{&quot; +\r\n                  &quot;id=&#39;&quot; + id + &#39;\\&#39;&#39; +\r\n                  &quot;, description=&#39;&quot; + description + &#39;\\&#39;&#39; +\r\n                  &quot;, desideredPrice=&quot; + desideredPrice +\r\n                  &quot;, status=&quot; + status +\r\n                  &#39;}&#39;;\r\n     }\r\n     \r\n     public String getDescription() {\r\n          return description;\r\n     }\r\n     public void setDescription(String description) {\r\n          this.description = description;\r\n     }\r\n     public Double getDesideredPrice() {\r\n          return desideredPrice;\r\n     }\r\n     public void setDesideredPrice(Double desideredPrice) {\r\n          this.desideredPrice = desideredPrice;\r\n     }\r\n     public int getStatus() {\r\n          return status;\r\n     }\r\n     public void setStatus(int status) {\r\n          this.status = status;\r\n     }\r\n     public String getId() {\r\n          return id;\r\n     }\r\n     public void setId(String id) {\r\n          this.id = id;\r\n     }\r\n     //###############################################################################################################//\r\n\r\n}\r\n```","title":"org.springframework.dao.IncorrectResultSizeDataAccessException Mongo Limit dosen&#39;t work?","body":"<p>GoodEvening\ni'm new about mongo, and i choose to use a mix &amp; match of RepositoryPattern and Mongotemplate</p>\n<p>Now i find a very strange error when i want to use MongoTemplate to retrive a specific value of an inner object in order to calculate a progressive ID\nIt seems my code work for 0 or 1 document inside a collection, but when i have equal or more than 2 documents, the method will throw a</p>\n<pre><code>org.springframework.dao.IncorrectResultSizeDataAccessException: Query { &quot;$java&quot; : Query: {}, Fields: {}, Sort: {} } returned non unique result.\n</code></pre>\n<p>as if limit dosen't work.\nI have just, for now, a rest and a repository pattern, but in the service layer i have another autowire whit mongotemplate class, this template is used by just 1 method.</p>\n<pre><code>public DetailedOrder findTheBiggestBy(String byWhat){\n        Query query = new Query();\n        query.with(Sort.by(Sort.Direction.DESC,byWhat)).limit(1);\n        return mongoDb.findOne(query,DetailedOrder.class);\n    }\n</code></pre>\n<p>As you can see is pretty simple and it actually work, becouse before moving the Template inside Service it actually work whit various documents inside collection, when i autowired it over the rest layer.</p>\n<p>There is something i miss and is not rly related to mongo but related to spring autowire?</p>\n<p>My detailorderClass is</p>\n<pre><code>package com.service.backend.BK.Pojo;\n\nimport com.service.backend.BK.Constants.Constant;\nimport org.bson.codecs.pojo.annotations.BsonId;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\nimport org.springframework.data.mongodb.core.mapping.Field;\nimport org.springframework.data.mongodb.core.mapping.FieldType;\nimport org.springframework.data.mongodb.core.mapping.MongoId;\n\n\nimport java.util.List;\n@Document(&quot;Orders&quot;)\npublic class DetailedOrder {\n\n    @MongoId(FieldType.OBJECT_ID)\n    private String id;\n    @Field\n    private List&lt;Integer&gt; category;\n    // 1 junk to 10 Pristine\n    @Field\n    private Integer quality;\n    @Field\n    private BaseOrder baseOrder;\n    @Field\n    private String qualityDescription;\n\n    public DetailedOrder(){}\n    public DetailedOrder(String Description,Double price, List&lt;Integer&gt; category, Integer quality) {\n        this.category = category;\n        this.quality = quality;\n        this.qualityDescription = qualityDescriptionPairFactory(quality);\n        this.baseOrder=new BaseOrder(Description,price);\n    }\n\n\n\n    public List&lt;Integer&gt; getCategory() {\n        return category;\n    }\n    public void setCategory(List&lt;Integer&gt; category) {\n        this.category = category;\n    }\n    public Integer getQuality() {\n        return quality;\n    }\n    public void setQuality(Integer quality) {\n        this.quality = quality;\n    }\n    public String getQualityDescription() {\n        return qualityDescription;\n    }\n    public void setQualityDescription(String qualityDescription) {\n        this.qualityDescription = qualityDescription;}\n    private String qualityDescriptionPairFactory(int quality){\n        switch (quality){\n            case 1:return Constant.Quality.NOGRAD.label;\n            case 2:return Constant.Quality.HEAVYDMN.label;\n            case 3:return Constant.Quality.LOOSE.label;\n            case 4:return Constant.Quality.POOR.label;\n            case 5:return Constant.Quality.LIGHTDMN.label;\n            case 6:return Constant.Quality.GOOD.label;\n            case 7:return Constant.Quality.EXCELENT.label;\n            case 8:return Constant.Quality.NEARMINT.label;\n            case 9:return Constant.Quality.MINT.label;\n            case 10:return Constant.Quality.NEWUNRL.label;\n            default:return Constant.Quality.NOGRAD.label;        }\n    }\n    @Override\n    public String toString() {\n        return &quot;DetailedOrder{&quot; +\n                &quot;id='&quot; + id + '\\'' +\n                &quot;, baseOrder='&quot; + getBaseOrder().returnBaseOrder() + '\\'' +\n                &quot;, category=&quot; + category +\n                &quot;, quality=&quot; + quality +\n                &quot;, qualityDescription='&quot; + qualityDescription + '\\'' +\n                '}';\n    }\n\n    public BaseOrder getBaseOrder() {\n        return baseOrder;\n    }\n\n    public void setBaseOrder(BaseOrder baseOrder) {\n        this.baseOrder = baseOrder;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>and that lead to baseOrderClass</p>\n<pre><code>package com.service.backend.BK.Pojo;\n\nimport org.joda.time.DateTime;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n public class BaseOrder {\n     private String id;\n     private String description;\n     private Double desideredPrice;\n     //Pending,active,Rejected,Hault,etc etc\n     private int status;\n     \n     protected  BaseOrder(){}\n     protected  BaseOrder(String description, Double desideredPrice) {\n          this.description = description;\n          this.desideredPrice = desideredPrice;\n     }\n     public String returnBaseOrder(){\n          return &quot;BaseOrder{&quot; +\n                  &quot;id='&quot; + id + '\\'' +\n                  &quot;, description='&quot; + description + '\\'' +\n                  &quot;, desideredPrice=&quot; + desideredPrice +\n                  &quot;, status=&quot; + status +\n                  '}';\n     }\n     \n     public String getDescription() {\n          return description;\n     }\n     public void setDescription(String description) {\n          this.description = description;\n     }\n     public Double getDesideredPrice() {\n          return desideredPrice;\n     }\n     public void setDesideredPrice(Double desideredPrice) {\n          this.desideredPrice = desideredPrice;\n     }\n     public int getStatus() {\n          return status;\n     }\n     public void setStatus(int status) {\n          this.status = status;\n     }\n     public String getId() {\n          return id;\n     }\n     public void setId(String id) {\n          this.id = id;\n     }\n     //###############################################################################################################//\n\n}\n</code></pre>\n"},{"tags":["java","datetime-format","dateformatter"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654622590,"creation_date":1654621846,"answer_id":72535145,"question_id":72534750,"body_markdown":" 1. Choose the *java.time* class appropriate to your input string.\r\n 2. Attempt to parse using the `parse` method.\r\n 3. Trap for `DateTimeParseException`.\r\n\r\nThe exception is thrown (a) if the inout text is malformed or (b) if its contents are nonsensical such as day of month being 32. \r\n\r\nFor your second example input, use `Instant`. That class represents a moment as seen in UTC. The `Z` on the end of your input means an offset from UTC of zero hours-minutes-seconds. Pronounced “Zulu”. \r\n\r\nIf your input text complies with the [ISO 8601][1] standard, then no need to define a formatting pattern. \r\n\r\n    try {\r\n        Instant instant = Instant.parse( &quot;2017-12-25T13:01:59.123Z&quot; ) ;\r\n    } catch ( DateTimeParseException e ) {\r\n        …\r\n    }\r\n\r\nFor your first example string, use `OffsetDateTime`. Your offset omitted the COLON character delimiter between the hours and minutes of the offset. So you’ll need to define a formatting pattern using `DateTimeFormatter` class. Search Stack Overflow, as this has been covered many times already.\r\n\r\nUse `ZonedDateTime` if the input contains a date, time, and a time zone in the format of `Continent/Region` such as `Asia/Tokyo` Or `Africa/Casablanca`.\r\n\r\nThe `ZonedDateTime` class will attempt a guess at a 2-4 character pseudo-zone, but those are not standardized and are not even unique! Values such as `CST` and `IST` should only be used in localization for presentation, never for data exchange.\r\n    \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601","title":"How to validate dates with time zone?","body":"<ol>\n<li>Choose the <em>java.time</em> class appropriate to your input string.</li>\n<li>Attempt to parse using the <code>parse</code> method.</li>\n<li>Trap for <code>DateTimeParseException</code>.</li>\n</ol>\n<p>The exception is thrown (a) if the inout text is malformed or (b) if its contents are nonsensical such as day of month being 32.</p>\n<p>For your second example input, use <code>Instant</code>. That class represents a moment as seen in UTC. The <code>Z</code> on the end of your input means an offset from UTC of zero hours-minutes-seconds. Pronounced “Zulu”.</p>\n<p>If your input text complies with the <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard, then no need to define a formatting pattern.</p>\n<pre><code>try {\n    Instant instant = Instant.parse( &quot;2017-12-25T13:01:59.123Z&quot; ) ;\n} catch ( DateTimeParseException e ) {\n    …\n}\n</code></pre>\n<p>For your first example string, use <code>OffsetDateTime</code>. Your offset omitted the COLON character delimiter between the hours and minutes of the offset. So you’ll need to define a formatting pattern using <code>DateTimeFormatter</code> class. Search Stack Overflow, as this has been covered many times already.</p>\n<p>Use <code>ZonedDateTime</code> if the input contains a date, time, and a time zone in the format of <code>Continent/Region</code> such as <code>Asia/Tokyo</code> Or <code>Africa/Casablanca</code>.</p>\n<p>The <code>ZonedDateTime</code> class will attempt a guess at a 2-4 character pseudo-zone, but those are not standardized and are not even unique! Values such as <code>CST</code> and <code>IST</code> should only be used in localization for presentation, never for data exchange.</p>\n"}],"owner":{"account_id":25258808,"reputation":47,"user_id":19090002,"display_name":"coding2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654622590,"creation_date":1654619731,"question_id":72534750,"body_markdown":"I want to use the following ISO 8601 Format(Date and time with timezone) : \r\n`yyyy-MM-ddTHH:mm:ss.SSSZ` \r\n\r\nTo verify if the string date is valid or not.\r\n\r\nI have as input a String date\r\n\r\n    String dateRight = &quot;2017-12-25T13:01:59.123-0700&quot;\r\n    String date2Right = &quot;2017-12-25T13:01:59.123Z&quot;\r\n\r\nI want to check if these dates are in the right format that I mentioned above.\r\n\r\nSo far, I tried to use ZoneDateTime, LocalDateTime, DateTimeFormatter but I am not sure how to accomplish this.\r\n\r\n\r\n\r\n\r\n","title":"How to validate dates with time zone?","body":"<p>I want to use the following ISO 8601 Format(Date and time with timezone) :\n<code>yyyy-MM-ddTHH:mm:ss.SSSZ</code></p>\n<p>To verify if the string date is valid or not.</p>\n<p>I have as input a String date</p>\n<pre><code>String dateRight = &quot;2017-12-25T13:01:59.123-0700&quot;\nString date2Right = &quot;2017-12-25T13:01:59.123Z&quot;\n</code></pre>\n<p>I want to check if these dates are in the right format that I mentioned above.</p>\n<p>So far, I tried to use ZoneDateTime, LocalDateTime, DateTimeFormatter but I am not sure how to accomplish this.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654619039,"post_id":72534019,"comment_id":128131704,"body_markdown":"What is that example data in your last line? Week numbers? Day-of-month?","body":"What is that example data in your last line? Week numbers? Day-of-month?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654619361,"post_id":72534019,"comment_id":128131805,"body_markdown":"What *exactly* is your definition of week? “calendar week” is meaningless. What is first day of week? Does week # 1 contain a specific day of week, or January 1? Are weeks always 7 days? How do you handle overlap between years in first and last weeks? Maybe [ISO 8601](https://en.m.wikipedia.org/wiki/ISO_week_date) week definition?","body":"What <i>exactly</i> is your definition of week? “calendar week” is meaningless. What is first day of week? Does week # 1 contain a specific day of week, or January 1? Are weeks always 7 days? How do you handle overlap between years in first and last weeks? Maybe <a href=\"https://en.m.wikipedia.org/wiki/ISO_week_date\" rel=\"nofollow noreferrer\">ISO 8601</a> week definition?"},{"owner":{"account_id":9102643,"reputation":45,"user_id":16119262,"display_name":"qwertz"},"score":0,"creation_date":1654621716,"post_id":72534019,"comment_id":128132590,"body_markdown":"@BasilBourque The example in the last line should represent spans of calendar weeks.\n\nThe ISO 8601 is exactly what I had in mind.","body":"@BasilBourque The example in the last line should represent spans of calendar weeks.  The ISO 8601 is exactly what I had in mind."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1654622971,"post_id":72534019,"comment_id":128132990,"body_markdown":"Working with ISO 8601 weeks has been covered many times already on Stack Overflow. Search to learn more. The *java.time* classes have some rudimentary support, while I recommend adding the *ThreeTen-Extra* library to your project for its `YearWeek` class.","body":"Working with ISO 8601 weeks has been covered many times already on Stack Overflow. Search to learn more. The <i>java.time</i> classes have some rudimentary support, while I recommend adding the <i>ThreeTen-Extra</i> library to your project for its <code>YearWeek</code> class."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1654623101,"post_id":72534019,"comment_id":128133049,"body_markdown":"As for user-interface, you’ll have to decide what is appropriate to your app and your users. You could show a regular date picker, and determine the week of the user’s selected date. You could show a list of Mondays’ dates. You could show a list of weeks in standard format of YYYY-Www.","body":"As for user-interface, you’ll have to decide what is appropriate to your app and your users. You could show a regular date picker, and determine the week of the user’s selected date. You could show a list of Mondays’ dates. You could show a list of weeks in standard format of YYYY-Www."}],"owner":{"account_id":9102643,"reputation":45,"user_id":16119262,"display_name":"qwertz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654621826,"creation_date":1654616215,"question_id":72534019,"body_markdown":"I&#39;m looking for a possibility similar to the DatePickerDialog to select calendar weeks. \r\n&lt;br&gt;It is important that this also allows spanning calendar weeks (15-20).\r\n\r\nThe current rudimentary solution is a text field that the user fills in, but this creates a lot of potential for bugs.\r\n\r\nIs there a way to modify the DatePicker accordingly? I haven&#39;t found much in the Android Developers documentation.\r\n\r\nFinal input should be possible in the format: 15-20, 23, 25-30. (representing calendar weeks)","title":"Selecting calendar weeks with Android Studio","body":"<p>I'm looking for a possibility similar to the DatePickerDialog to select calendar weeks.\n<br>It is important that this also allows spanning calendar weeks (15-20).</p>\n<p>The current rudimentary solution is a text field that the user fills in, but this creates a lot of potential for bugs.</p>\n<p>Is there a way to modify the DatePicker accordingly? I haven't found much in the Android Developers documentation.</p>\n<p>Final input should be possible in the format: 15-20, 23, 25-30. (representing calendar weeks)</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":3,"creation_date":1326805824,"post_id":8895091,"comment_id":11122704,"body_markdown":"Even java.lang.Exception (http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Exception.html) has a constructor with a String.","body":"Even java.lang.Exception (<a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Exception.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.5.0/docs/api/java/lang/Exception.h&zwnj;&#8203;tml</a>) has a constructor with a String."}],"answers":[{"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1326805656,"creation_date":1326805656,"answer_id":8895117,"question_id":8895091,"body_markdown":"Most standard exception classes provide a constructor that takes a mesage, for example:\r\n\r\n    public UnsupportedOperationException(String message) {\r\n    \tsuper(message);\r\n    }\r\n\r\nThe above class simply calls its parent&#39;s constructor, which calls its parent&#39;s constructor, and so on, ultimately culminating in:\r\n\r\n    public Throwable(String message) {\r\n        ...\r\n    }\r\n\r\n\r\nIf you create your own exception class, I think it&#39;s a good idea to following this convention.","title":"How can I set the message on an exception in Java?","body":"<p>Most standard exception classes provide a constructor that takes a mesage, for example:</p>\n\n<pre><code>public UnsupportedOperationException(String message) {\n    super(message);\n}\n</code></pre>\n\n<p>The above class simply calls its parent's constructor, which calls its parent's constructor, and so on, ultimately culminating in:</p>\n\n<pre><code>public Throwable(String message) {\n    ...\n}\n</code></pre>\n\n<p>If you create your own exception class, I think it's a good idea to following this convention.</p>\n"},{"tags":[],"owner":{"account_id":1147479,"reputation":2617,"user_id":1129916,"accept_rate":90,"display_name":"quaylar"},"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1326805712,"creation_date":1326805712,"answer_id":8895131,"question_id":8895091,"body_markdown":"Well, if the API offers an exception that suits your needs (IllegalArgumentException for example), just use it and pass your message in the constructor.","title":"How can I set the message on an exception in Java?","body":"<p>Well, if the API offers an exception that suits your needs (IllegalArgumentException for example), just use it and pass your message in the constructor.</p>\n"},{"tags":[],"owner":{"account_id":18374,"reputation":2939,"user_id":42059,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1326805794,"creation_date":1326805794,"answer_id":8895148,"question_id":8895091,"body_markdown":"The best approach is to wrap the exception.\r\n\r\n    try {\r\n        my code that throws E;\r\n    } catch (final E e) {\r\n        throw new MyE(&quot;my message&quot;, e);\r\n    }\r\n","title":"How can I set the message on an exception in Java?","body":"<p>The best approach is to wrap the exception.</p>\n\n<pre><code>try {\n    my code that throws E;\n} catch (final E e) {\n    throw new MyE(\"my message\", e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1121838,"reputation":111,"user_id":1110018,"display_name":"baruch dego"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598921420,"creation_date":1326805878,"answer_id":8895168,"question_id":8895091,"body_markdown":"The Exception class (its parent, actually - Throwable) takes a message as an argument in its constructor:\r\n\r\n`throw new Exception(&quot;message&quot;)` or `Exception(&quot;message&quot;, innerException);`\r\n","title":"How can I set the message on an exception in Java?","body":"<p>The Exception class (its parent, actually - Throwable) takes a message as an argument in its constructor:</p>\n<p><code>throw new Exception(&quot;message&quot;)</code> or <code>Exception(&quot;message&quot;, innerException);</code></p>\n"},{"tags":[],"owner":{"account_id":56079,"reputation":7550,"user_id":167973,"accept_rate":82,"display_name":"Carl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598921463,"creation_date":1326805934,"answer_id":8895178,"question_id":8895091,"body_markdown":"The root [`Exception`][1] class accepts a `String` custom message, as do (as far as I can tell) all of derivative classes.\r\n\r\nSo: no, you don&#39;t need to create a custom class.  One of the existing exceptions probably covers your case (read their descriptions to find out which).  If none of those are really satisfactory, then you can create an extension of `Exception` (or `RuntimeException`, etc.) and maintain the custom message constructor.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html\r\n\r\n","title":"How can I set the message on an exception in Java?","body":"<p>The root <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html\" rel=\"nofollow noreferrer\"><code>Exception</code></a> class accepts a <code>String</code> custom message, as do (as far as I can tell) all of derivative classes.</p>\n<p>So: no, you don't need to create a custom class.  One of the existing exceptions probably covers your case (read their descriptions to find out which).  If none of those are really satisfactory, then you can create an extension of <code>Exception</code> (or <code>RuntimeException</code>, etc.) and maintain the custom message constructor.</p>\n"},{"tags":[],"owner":{"display_name":"user5507680"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1447321797,"creation_date":1447320732,"answer_id":33668202,"question_id":8895091,"body_markdown":"You can only set the message at the creation of the exception. Here is an example if you want to set it after the creation.\r\n\r\n    public class BusinessException extends RuntimeException{\r\n        \r\n        private Collection&lt;String&gt; messages;\r\n        \r\n        public BusinessException(String msg){\r\n            super(msg);\r\n        }\r\n        \r\n        \r\n        public BusinessException(String msg, Exception cause){\r\n            super(msg, cause);\r\n        }\r\n        \r\n        \r\n        public BusinessException(Collection&lt;String&gt; messages){\r\n            super();\r\n            this.messages= messages;\r\n        }\r\n        \r\n        \r\n        public BusinessException (Collection&lt;String&gt; messages, Exception cause){\r\n            super(cause);\r\n            this.messages= messages;\r\n        }\r\n        \r\n        @Override\r\n        public String getMessage(){\r\n            String msg;\r\n            \r\n            if(this.messages!=null &amp;&amp; !this.messages.isEmpty()){\r\n                msg=&quot;[&quot;;\r\n                \r\n                for(String message : this.messages){\r\n                    msg+=message+&quot;,&quot;;\r\n                }\r\n                \r\n                msg= StringUtils.removeEnd(msg, &quot;,&quot;)+&quot;]&quot;;\r\n                \r\n            }else msg= super.getMessage();\r\n            \r\n            return msg;\r\n        }\r\n    \r\n    }","title":"How can I set the message on an exception in Java?","body":"<p>You can only set the message at the creation of the exception. Here is an example if you want to set it after the creation.</p>\n\n<pre><code>public class BusinessException extends RuntimeException{\n\n    private Collection&lt;String&gt; messages;\n\n    public BusinessException(String msg){\n        super(msg);\n    }\n\n\n    public BusinessException(String msg, Exception cause){\n        super(msg, cause);\n    }\n\n\n    public BusinessException(Collection&lt;String&gt; messages){\n        super();\n        this.messages= messages;\n    }\n\n\n    public BusinessException (Collection&lt;String&gt; messages, Exception cause){\n        super(cause);\n        this.messages= messages;\n    }\n\n    @Override\n    public String getMessage(){\n        String msg;\n\n        if(this.messages!=null &amp;&amp; !this.messages.isEmpty()){\n            msg=\"[\";\n\n            for(String message : this.messages){\n                msg+=message+\",\";\n            }\n\n            msg= StringUtils.removeEnd(msg, \",\")+\"]\";\n\n        }else msg= super.getMessage();\n\n        return msg;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8416893,"reputation":139,"user_id":6317014,"display_name":"Sakthikanth"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1631606377,"creation_date":1475230990,"answer_id":39789268,"question_id":8895091,"body_markdown":"Try this code:\r\n\r\n    try{\r\n        throw new Exception(&quot;Test String&quot;);\r\n    }\r\n    catch(Exception ex){\r\n        System.out.println(ex.getMessage());\r\n    }\r\n\r\n","title":"How can I set the message on an exception in Java?","body":"<p>Try this code:</p>\n<pre><code>try{\n    throw new Exception(&quot;Test String&quot;);\n}\ncatch(Exception ex){\n    System.out.println(ex.getMessage());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16743892,"reputation":295,"user_id":12980819,"display_name":"Falchio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654621751,"creation_date":1654621751,"answer_id":72535130,"question_id":8895091,"body_markdown":"Another variant\r\n\r\n    public class MyCustomExceptionWithoutMessageInConstructor extends IllegalArgumentException {\r\n        private static final String ERROR_MESSAGE = &quot;terrible error&quot;;\r\n    \r\n        public MyCustomExceptionWithoutMessageInConstructor() {\r\n            super(ERROR_MESSAGE);\r\n        }\r\n    }\r\n\r\n","title":"How can I set the message on an exception in Java?","body":"<p>Another variant</p>\n<pre><code>public class MyCustomExceptionWithoutMessageInConstructor extends IllegalArgumentException {\n    private static final String ERROR_MESSAGE = &quot;terrible error&quot;;\n\n    public MyCustomExceptionWithoutMessageInConstructor() {\n        super(ERROR_MESSAGE);\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user843337"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101014,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":8895131,"answer_count":8,"score":26,"last_activity_date":1654621751,"creation_date":1326805549,"question_id":8895091,"body_markdown":"I want to set a custom exception message. However, I&#39;m unsure of how to do this. Will I need to create a custom exception class or is there an easier way of doing this?\r\n\r\n\r\n\r\n\r\n","title":"How can I set the message on an exception in Java?","body":"<p>I want to set a custom exception message. However, I'm unsure of how to do this. Will I need to create a custom exception class or is there an easier way of doing this?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654621129,"creation_date":1654621129,"answer_id":72535018,"question_id":72532503,"body_markdown":"This is what I should have done:\r\n\r\n```Java\r\nString sessionCookie = req.getReader().lines().reduce(&quot;&quot;,String::concat);\r\nJSONObject jsonObject =  new JSONObject(sessionCookie);\r\nString sessionId = jsonObject.getString(&quot;sessionId&quot;);\r\n```","title":"sessionId key not found in JSON object even though print of string shows this","body":"<p>This is what I should have done:</p>\n<pre><code>String sessionCookie = req.getReader().lines().reduce(&quot;&quot;,String::concat);\nJSONObject jsonObject =  new JSONObject(sessionCookie);\nString sessionId = jsonObject.getString(&quot;sessionId&quot;);\n</code></pre>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654621129,"creation_date":1654610182,"question_id":72532503,"body_markdown":"\r\n\r\n\r\n```Java\r\nString sessionCookie = req.getReader().lines().reduce(&quot;&quot;,String::concat);\r\nJSONObject jsonObject =  HTTP.toJSONObject(sessionCookie);\r\nString someString = jsonObject.getString(&quot;sessionId&quot;);\r\n```\r\n\r\nThe value of `sessionCookie` is `{&quot;sessionId&quot;:&quot;foo&quot;}`, however the line `String someString = jsonObject.getString(&quot;sessionId&quot;);` gives this error:\r\n\r\n&gt;org.json.JSONException: JSONObject[&quot;sessionId&quot;] not found.\r\n\r\nWhat am I doing wrong here?","title":"sessionId key not found in JSON object even though print of string shows this","body":"<pre><code>String sessionCookie = req.getReader().lines().reduce(&quot;&quot;,String::concat);\nJSONObject jsonObject =  HTTP.toJSONObject(sessionCookie);\nString someString = jsonObject.getString(&quot;sessionId&quot;);\n</code></pre>\n<p>The value of <code>sessionCookie</code> is <code>{&quot;sessionId&quot;:&quot;foo&quot;}</code>, however the line <code>String someString = jsonObject.getString(&quot;sessionId&quot;);</code> gives this error:</p>\n<blockquote>\n<p>org.json.JSONException: JSONObject[&quot;sessionId&quot;] not found.</p>\n</blockquote>\n<p>What am I doing wrong here?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1654617804,"post_id":72534360,"comment_id":128131291,"body_markdown":"Which one is line 35? And what was the input?","body":"Which one is line 35? And what was the input?"},{"owner":{"account_id":957028,"reputation":15133,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1654617954,"post_id":72534360,"comment_id":128131340,"body_markdown":"But it looks like the file does not contain an `int` where you expect one to be. Maybe consider something like json or XML as dataformat, so you do not need to parse the file manually.","body":"But it looks like the file does not contain an <code>int</code> where you expect one to be. Maybe consider something like json or XML as dataformat, so you do not need to parse the file manually."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1654619289,"post_id":72534360,"comment_id":128131781,"body_markdown":"I would recommend running the code in a debugger to see when the exception pops up, such that you could inspect the current variable state (and what is currently loaded in the `Scanner`&#39;s buffer). Debuggers are very useful for this, and most IDEs include some form of debugging tools.","body":"I would recommend running the code in a debugger to see when the exception pops up, such that you could inspect the current variable state (and what is currently loaded in the <code>Scanner</code>&#39;s buffer). Debuggers are very useful for this, and most IDEs include some form of debugging tools."}],"answers":[{"tags":[],"owner":{"account_id":25228380,"reputation":63,"user_id":19063904,"display_name":"Crack_it"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654620394,"creation_date":1654620394,"answer_id":72534858,"question_id":72534360,"body_markdown":"You can have a counter to increment &amp; print it on first line inside the `while` loop to know the line number of the file. When you get the error, you know the line number printed in console. Then keeping only limited no. of line around the error line &amp; removing other content of file you can debug to find the reason.","title":"How do I solve this? Exception in thread &quot;main&quot; java.util.InputMismatchException","body":"<p>You can have a counter to increment &amp; print it on first line inside the <code>while</code> loop to know the line number of the file. When you get the error, you know the line number printed in console. Then keeping only limited no. of line around the error line &amp; removing other content of file you can debug to find the reason.</p>\n"}],"owner":{"account_id":25489276,"reputation":1,"user_id":19284358,"display_name":"senzubeanz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654620394,"creation_date":1654617710,"question_id":72534360,"body_markdown":"I&#39;ve been stuck for a while on this. I&#39;m not sure how to solve these problems. Please help me out. Here are the errors from the console:\r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n        \r\n        at java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n    \tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n    \tat java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n    \tat java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n    \tat Main.main(Main.java:35)\r\n\r\nHere&#39;s my code:\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    public class Main{\r\n    \t\r\n       public static void main(String[] args){\r\n           \r\n    \t   //new Player object\r\n           Player player = new Player();\r\n           \r\n           //open text file\r\n           File roomFile = new File(&quot;C:\\\\Users\\\\Khari\\\\eclipse-workspace\\\\MiniGame1\\\\src\\\\room.txt&quot;);\r\n           \r\n           //open a Scanner to read data from File\r\n           Scanner roomReader = null;\r\n           \r\n           try{\r\n               roomReader = new Scanner(roomFile);\r\n           }\r\n           catch (FileNotFoundException e){\r\n               System.out.println(&quot;Room.txt file has not been found&quot;);\r\n           }\r\n           \r\n           // read one value at a time\r\n           while(roomReader != null &amp;&amp; roomReader.hasNext()){\r\n        \t   \r\n        \t   //assign values to attributes\r\n               int id = roomReader.nextInt();\r\n               String desc = roomReader.nextLine();\r\n               String visitedString = roomReader.nextLine();\r\n               boolean visited = Boolean.parseBoolean(visitedString);\r\n               \r\n    \t\t//add new objects to the array list\r\n               Room room = new Room(id, desc, visited);\r\n    \r\n           }\r\n       }\r\n    }\r\n          ","title":"How do I solve this? Exception in thread &quot;main&quot; java.util.InputMismatchException","body":"<p>I've been stuck for a while on this. I'm not sure how to solve these problems. Please help me out. Here are the errors from the console:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.InputMismatchException\n    \n    at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n    at java.base/java.util.Scanner.next(Scanner.java:1594)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n    at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n    at Main.main(Main.java:35)\n</code></pre>\n<p>Here's my code:</p>\n<pre><code>import java.util.*;\nimport java.io.*;\npublic class Main{\n    \n   public static void main(String[] args){\n       \n       //new Player object\n       Player player = new Player();\n       \n       //open text file\n       File roomFile = new File(&quot;C:\\\\Users\\\\Khari\\\\eclipse-workspace\\\\MiniGame1\\\\src\\\\room.txt&quot;);\n       \n       //open a Scanner to read data from File\n       Scanner roomReader = null;\n       \n       try{\n           roomReader = new Scanner(roomFile);\n       }\n       catch (FileNotFoundException e){\n           System.out.println(&quot;Room.txt file has not been found&quot;);\n       }\n       \n       // read one value at a time\n       while(roomReader != null &amp;&amp; roomReader.hasNext()){\n           \n           //assign values to attributes\n           int id = roomReader.nextInt();\n           String desc = roomReader.nextLine();\n           String visitedString = roomReader.nextLine();\n           boolean visited = Boolean.parseBoolean(visitedString);\n           \n        //add new objects to the array list\n           Room room = new Room(id, desc, visited);\n\n       }\n   }\n}\n      \n</code></pre>\n"},{"tags":["java","logic"],"answers":[{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654532265,"creation_date":1654530670,"answer_id":72520260,"question_id":72519871,"body_markdown":"1. n or in your case the *loop* should be 1 ≤ n ≤ 1000 so check that \r\n\r\n2. The forj loop has the same length as the array loop so you could declare a constant above or use the array length. So you doesen&#39;t have to change it twice if needed. \r\n\r\n3. Use the Arrays class if you need methods for arrays like to sum (Arrays.stream(arr).sum()).  \r\n\r\n        public class A_Team {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter Number of Question: &quot;);\r\n            int count = 0;\r\n            int loop = sc.nextInt();\r\n            //1.\r\n            if (1 &lt;= loop &amp;&amp; loop &lt;= 1000) {\r\n                for (int i = 0; i &lt; loop; i++) {\r\n                    int[] arr = new int[3];\r\n                    //2.\r\n                    for (int j = 0; j &lt; arr.length; j++) {\r\n                        arr[j] = sc.nextInt();\r\n                    }\r\n                    //3.\r\n                    int sum = Arrays.stream(arr).sum();\r\n                    if (sum &gt;= 2) {\r\n                        count += 1;\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(count);\r\n         }\r\n       }\r\n\r\n","title":"I can&#39;t find my mistake in a &quot;Codeforces&quot; problem","body":"<ol>\n<li><p>n or in your case the <em>loop</em> should be 1 ≤ n ≤ 1000 so check that</p>\n</li>\n<li><p>The forj loop has the same length as the array loop so you could declare a constant above or use the array length. So you doesen't have to change it twice if needed.</p>\n</li>\n<li><p>Use the Arrays class if you need methods for arrays like to sum (Arrays.stream(arr).sum()).</p>\n<pre><code> public class A_Team {\n public static void main(String[] args) {\n     Scanner sc = new Scanner(System.in);\n     System.out.println(&quot;Enter Number of Question: &quot;);\n     int count = 0;\n     int loop = sc.nextInt();\n     //1.\n     if (1 &lt;= loop &amp;&amp; loop &lt;= 1000) {\n         for (int i = 0; i &lt; loop; i++) {\n             int[] arr = new int[3];\n             //2.\n             for (int j = 0; j &lt; arr.length; j++) {\n                 arr[j] = sc.nextInt();\n             }\n             //3.\n             int sum = Arrays.stream(arr).sum();\n             if (sum &gt;= 2) {\n                 count += 1;\n             }\n         }\n     }\n     System.out.println(count);\n  }\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654619949,"creation_date":1654619949,"answer_id":72534792,"question_id":72519871,"body_markdown":"Usually these code challenges don&#39;t want you to print anything but the answer. They are usually judged or graded by automated software that is looking for an answer in a precise format. Remove `System.out.println(&quot;Enter Number of Question: &quot;);`","title":"I can&#39;t find my mistake in a &quot;Codeforces&quot; problem","body":"<p>Usually these code challenges don't want you to print anything but the answer. They are usually judged or graded by automated software that is looking for an answer in a precise format. Remove <code>System.out.println(&quot;Enter Number of Question: &quot;);</code></p>\n"}],"owner":{"account_id":23627788,"reputation":13,"user_id":17660052,"display_name":"713 Jishnu Bandyopadhyay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72534792,"answer_count":2,"score":-1,"last_activity_date":1654619949,"creation_date":1654529006,"question_id":72519871,"body_markdown":"The question is- &lt;https://codeforces.com/problemset/problem/231/A&gt;\r\n   I was pretty sure I found the right solution in Java and it worked properly when I tried it, but when I submitted it, it said error in test 1. It would be a great help if someone can point out the mistake. My coide is below:\r\n\r\n    import java.util.*;\r\n    public class A_Team {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter Number of Question: &quot;);\r\n            int count = 0;\r\n            int loop = sc.nextInt();\r\n            for (int i = 0; i &lt; loop; i++) {\r\n                int arr[] = new int[3];\r\n                for (int j = 0; j &lt; 3; j++) {\r\n                    arr[j] = sc.nextInt();\r\n                }\r\n                if(arr[0] + arr[1] + arr[2] &gt;= 2){\r\n                    count = count + 1;\r\n                }\r\n            }\r\n            System.out.println(count);\r\n        }\r\n    }\r\n\r\n**Note:** Please don&#39;t ask to change the language, I am new to programing and I only know bits of C and Java only.","title":"I can&#39;t find my mistake in a &quot;Codeforces&quot; problem","body":"<p>The question is- <a href=\"https://codeforces.com/problemset/problem/231/A\" rel=\"nofollow noreferrer\">https://codeforces.com/problemset/problem/231/A</a>\nI was pretty sure I found the right solution in Java and it worked properly when I tried it, but when I submitted it, it said error in test 1. It would be a great help if someone can point out the mistake. My coide is below:</p>\n<pre><code>import java.util.*;\npublic class A_Team {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter Number of Question: &quot;);\n        int count = 0;\n        int loop = sc.nextInt();\n        for (int i = 0; i &lt; loop; i++) {\n            int arr[] = new int[3];\n            for (int j = 0; j &lt; 3; j++) {\n                arr[j] = sc.nextInt();\n            }\n            if(arr[0] + arr[1] + arr[2] &gt;= 2){\n                count = count + 1;\n            }\n        }\n        System.out.println(count);\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> Please don't ask to change the language, I am new to programing and I only know bits of C and Java only.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":2,"creation_date":1436876614,"post_id":31406270,"comment_id":50786517,"body_markdown":"`(dayOfWeek.getValue() % 7) + 1`?","body":"<code>(dayOfWeek.getValue() % 7) + 1</code>?"},{"owner":{"display_name":"user745733"},"score":1,"creation_date":1436876630,"post_id":31406270,"comment_id":50786529,"body_markdown":"Did you check WeekFields for your Locale?","body":"Did you check WeekFields for your Locale?"},{"owner":{"account_id":255965,"reputation":3097,"user_id":536358,"accept_rate":38,"display_name":"Samuel Parsonage"},"score":0,"creation_date":1436880166,"post_id":31406270,"comment_id":50789322,"body_markdown":"@mylenereiners could you elaborate please?","body":"@mylenereiners could you elaborate please?"}],"answers":[{"tags":[],"owner":{"account_id":3911816,"reputation":999,"user_id":3236903,"accept_rate":58,"display_name":"Manindar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1436876826,"creation_date":1436876826,"answer_id":31406562,"question_id":31406270,"body_markdown":"**DayOfWeek** is an enum representing the 7 days of the week - Monday, Tuesday, Wednesday, Thursday, Friday, Saturday and Sunday, Which is followed by the ISO-8601 standard, from 1 (Monday) to 7 (Sunday).\r\nFor more info [click here] [1]\r\n\r\nBut in Calender class it was given in different way i.e., from Sunday(1) to Saturday(7).[see here][2].\r\n\r\nThe approach you are following is good i guess.\r\n\r\n\r\n[1]:https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\r\n[2]:http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#DAY_OF_WEEK","title":"Set Calendar.DAY_OF_WEEK using java.time.DayOfWeek","body":"<p><strong>DayOfWeek</strong> is an enum representing the 7 days of the week - Monday, Tuesday, Wednesday, Thursday, Friday, Saturday and Sunday, Which is followed by the ISO-8601 standard, from 1 (Monday) to 7 (Sunday).\nFor more info <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\" rel=\"nofollow\">click here</a></p>\n\n<p>But in Calender class it was given in different way i.e., from Sunday(1) to Saturday(7).<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#DAY_OF_WEEK\" rel=\"nofollow\">see here</a>.</p>\n\n<p>The approach you are following is good i guess.</p>\n"},{"tags":[],"owner":{"account_id":3174520,"reputation":529,"user_id":2682721,"accept_rate":67,"display_name":"ChiranjeeviIT"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1436876867,"creation_date":1436876867,"answer_id":31406573,"question_id":31406270,"body_markdown":"Better solution would be Georgian calendar which will work in better way.\r\n\r\n    Calendar calendar = new GregorianCalendar();\r\n    int dayOfWeek = calendar.get(Calendar.DAY_OF_WEEK);\r\n\r\n\r\n&gt; dayOfWeek = 1 then Sunday .... dayOfWeek = 7 then Saturday\r\n\r\n\r\n  ","title":"Set Calendar.DAY_OF_WEEK using java.time.DayOfWeek","body":"<p>Better solution would be Georgian calendar which will work in better way.</p>\n\n<pre><code>Calendar calendar = new GregorianCalendar();\nint dayOfWeek = calendar.get(Calendar.DAY_OF_WEEK);\n</code></pre>\n\n<blockquote>\n  <p>dayOfWeek = 1 then Sunday .... dayOfWeek = 7 then Saturday</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":276629,"reputation":7322,"user_id":570168,"accept_rate":94,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559989707,"creation_date":1559989707,"answer_id":56505519,"question_id":31406270,"body_markdown":"I also needed to convert from Calendar days to DayOfWeek and back:\r\n\r\n```kotlin\r\nfun dayOfWeekToCalendarDay(day: DayOfWeek): Int {\r\n    return (day.value % 7) + 1\r\n}\r\n\r\nfun calendarDayToDayOfWeek(calendarDay: Int): DayOfWeek {\r\n    val temp = (calendarDay + 6) % 7\r\n    return if (temp == 0) DayOfWeek.SUNDAY else DayOfWeek.of(temp)\r\n}\r\n```","title":"Set Calendar.DAY_OF_WEEK using java.time.DayOfWeek","body":"<p>I also needed to convert from Calendar days to DayOfWeek and back:</p>\n\n<pre><code>fun dayOfWeekToCalendarDay(day: DayOfWeek): Int {\n    return (day.value % 7) + 1\n}\n\nfun calendarDayToDayOfWeek(calendarDay: Int): DayOfWeek {\n    val temp = (calendarDay + 6) % 7\n    return if (temp == 0) DayOfWeek.SUNDAY else DayOfWeek.of(temp)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560011466,"creation_date":1560011466,"answer_id":56508212,"question_id":31406270,"body_markdown":"First you should of course avoid the poorly designed and long outdated `Calendar` class with subclasses if you can. With the amounts of legacy code we have around  these days, this is not always possible.\r\n\r\nI don’t think there’s an official recommendation for how to convert, and I am pretty sure that tastes differ. One of my own first priorities would be if I could avoid doing the math myself since it’s unavoidable that it gets a bit hard to read. The comment by user745733 inspired me: I can. The built-in `WeekFields.SUNDAY_START` object numbers the days of the week in the same way `Calendar` does, from Sunday = 1 through Saturday = 7. Let’s use that.\r\n\r\n\t\tDayOfWeek dayOfWeek = DayOfWeek.TUESDAY;\r\n\t\tCalendar calendar = Calendar.getInstance();\r\n\t\t\r\n\t\tcalendar.set(Calendar.DAY_OF_WEEK, dayOfWeek.get(WeekFields.SUNDAY_START.dayOfWeek()));\r\n\t\tSystem.out.println(&quot;&quot; + calendar.get(Calendar.DAY_OF_WEEK) + &quot; &quot; + calendar.getTime());\r\n\r\nOutput when I ran just now:\r\n\r\n&gt; 3 Tue Jun 04 18:25:33 CEST 2019\r\n\r\nI got 3 and Tuesday as expected. I have tested with Saturday, Sunday and Monday too.\r\n\r\n## From `Calendar` to `DayOfWeek`\r\n\r\nThe other way, provided that what you have got is really a `GregorianCalendar`, it’s not so bad (some locales will give you a different subclass of `Calendar`, though).\r\n\r\n\t\tCalendar calendar = Calendar.getInstance();\r\n\t\tDayOfWeek dow = ((GregorianCalendar) calendar).toZonedDateTime().getDayOfWeek();\r\n\t\tSystem.out.println(&quot;&quot; + calendar.getTime() + &quot; =&gt; &quot; + dow);\r\n\r\n&gt; Sat Jun 08 18:32:38 CEST 2019 =&gt; SATURDAY","title":"Set Calendar.DAY_OF_WEEK using java.time.DayOfWeek","body":"<p>First you should of course avoid the poorly designed and long outdated <code>Calendar</code> class with subclasses if you can. With the amounts of legacy code we have around  these days, this is not always possible.</p>\n\n<p>I don’t think there’s an official recommendation for how to convert, and I am pretty sure that tastes differ. One of my own first priorities would be if I could avoid doing the math myself since it’s unavoidable that it gets a bit hard to read. The comment by user745733 inspired me: I can. The built-in <code>WeekFields.SUNDAY_START</code> object numbers the days of the week in the same way <code>Calendar</code> does, from Sunday = 1 through Saturday = 7. Let’s use that.</p>\n\n<pre><code>    DayOfWeek dayOfWeek = DayOfWeek.TUESDAY;\n    Calendar calendar = Calendar.getInstance();\n\n    calendar.set(Calendar.DAY_OF_WEEK, dayOfWeek.get(WeekFields.SUNDAY_START.dayOfWeek()));\n    System.out.println(\"\" + calendar.get(Calendar.DAY_OF_WEEK) + \" \" + calendar.getTime());\n</code></pre>\n\n<p>Output when I ran just now:</p>\n\n<blockquote>\n  <p>3 Tue Jun 04 18:25:33 CEST 2019</p>\n</blockquote>\n\n<p>I got 3 and Tuesday as expected. I have tested with Saturday, Sunday and Monday too.</p>\n\n<h2>From <code>Calendar</code> to <code>DayOfWeek</code></h2>\n\n<p>The other way, provided that what you have got is really a <code>GregorianCalendar</code>, it’s not so bad (some locales will give you a different subclass of <code>Calendar</code>, though).</p>\n\n<pre><code>    Calendar calendar = Calendar.getInstance();\n    DayOfWeek dow = ((GregorianCalendar) calendar).toZonedDateTime().getDayOfWeek();\n    System.out.println(\"\" + calendar.getTime() + \" =&gt; \" + dow);\n</code></pre>\n\n<blockquote>\n  <p>Sat Jun 08 18:32:38 CEST 2019 => SATURDAY</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":483424,"reputation":1865,"user_id":898457,"accept_rate":100,"display_name":"Alex Semeniuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654619819,"creation_date":1654619819,"answer_id":72534762,"question_id":31406270,"body_markdown":"Honestly, the most robust way is to implement something like this:\r\n\r\nFrom `Int` to `DayOfWeek`:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n    fun calendarToDayOFWeek(dayOfWeek: Int) = when(dayOfWeek) {\r\n        Calendar.MONDAY -&gt; DayOfWeek.MONDAY\r\n        Calendar.TUESDAY -&gt; DayOfWeek.TUESDAY\r\n        Calendar.WEDNESDAY -&gt; DayOfWeek.WEDNESDAY\r\n        Calendar.THURSDAY -&gt; DayOfWeek.THURSDAY\r\n        Calendar.FRIDAY -&gt; DayOfWeek.FRIDAY\r\n        Calendar.SATURDAY -&gt; DayOfWeek.SATURDAY\r\n        Calendar.SUNDAY -&gt; DayOfWeek.SUNDAY\r\n        else -&gt; throw IllegalArgumentException(&quot;Incorrect day specified&quot;)\r\n    }\r\n\r\nFrom `DayOfWeek` to `Int`:\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n    fun dayOfWeekToCalendar(dayOfWeek: DayOfWeek) = when(dayOfWeek) {\r\n        DayOfWeek.MONDAY -&gt; Calendar.MONDAY\r\n        DayOfWeek.TUESDAY -&gt; Calendar.TUESDAY\r\n        DayOfWeek.WEDNESDAY -&gt; Calendar.WEDNESDAY\r\n        DayOfWeek.THURSDAY -&gt; Calendar.THURSDAY\r\n        DayOfWeek.FRIDAY -&gt; Calendar.FRIDAY\r\n        DayOfWeek.SATURDAY -&gt; Calendar.SATURDAY\r\n        DayOfWeek.SUNDAY -&gt; Calendar.SUNDAY\r\n    }\r\n\r\nThis may look like a lot of code, but the method is much more readable than any arithmetical operations on the enumeration `values` list.","title":"Set Calendar.DAY_OF_WEEK using java.time.DayOfWeek","body":"<p>Honestly, the most robust way is to implement something like this:</p>\n<p>From <code>Int</code> to <code>DayOfWeek</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun calendarToDayOFWeek(dayOfWeek: Int) = when(dayOfWeek) {\n    Calendar.MONDAY -&gt; DayOfWeek.MONDAY\n    Calendar.TUESDAY -&gt; DayOfWeek.TUESDAY\n    Calendar.WEDNESDAY -&gt; DayOfWeek.WEDNESDAY\n    Calendar.THURSDAY -&gt; DayOfWeek.THURSDAY\n    Calendar.FRIDAY -&gt; DayOfWeek.FRIDAY\n    Calendar.SATURDAY -&gt; DayOfWeek.SATURDAY\n    Calendar.SUNDAY -&gt; DayOfWeek.SUNDAY\n    else -&gt; throw IllegalArgumentException(&quot;Incorrect day specified&quot;)\n}\n</code></pre>\n<p>From <code>DayOfWeek</code> to <code>Int</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun dayOfWeekToCalendar(dayOfWeek: DayOfWeek) = when(dayOfWeek) {\n    DayOfWeek.MONDAY -&gt; Calendar.MONDAY\n    DayOfWeek.TUESDAY -&gt; Calendar.TUESDAY\n    DayOfWeek.WEDNESDAY -&gt; Calendar.WEDNESDAY\n    DayOfWeek.THURSDAY -&gt; Calendar.THURSDAY\n    DayOfWeek.FRIDAY -&gt; Calendar.FRIDAY\n    DayOfWeek.SATURDAY -&gt; Calendar.SATURDAY\n    DayOfWeek.SUNDAY -&gt; Calendar.SUNDAY\n}\n</code></pre>\n<p>This may look like a lot of code, but the method is much more readable than any arithmetical operations on the enumeration <code>values</code> list.</p>\n"}],"owner":{"account_id":255965,"reputation":3097,"user_id":536358,"accept_rate":38,"display_name":"Samuel Parsonage"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2880,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":5,"score":4,"last_activity_date":1654619819,"creation_date":1436875986,"question_id":31406270,"body_markdown":"Currently I&#39;ve got some code that sets the DAY_OF_WEEK on a calendar based on a java8 java.time.DayOfWeek Object. Since the integer values for these types are misaligned, i.e. \r\n\r\n&gt; Calendar.SUNDAY == 1\r\n&gt; \r\n&gt; where as \r\n&gt; \r\n&gt; DayOfWeek.SUNDAY == 7\r\n\r\n I was wondering if there was a recommended way to convert from one to the other. Currently I&#39;m doing this.\r\n\r\n    calendar.set(Calendar.DAY_OF_WEEK, dayOfWeek.getValue() == 7 ? 1 : dayOfWeek.getValue() + 1);","title":"Set Calendar.DAY_OF_WEEK using java.time.DayOfWeek","body":"<p>Currently I've got some code that sets the DAY_OF_WEEK on a calendar based on a java8 java.time.DayOfWeek Object. Since the integer values for these types are misaligned, i.e. </p>\n\n<blockquote>\n  <p>Calendar.SUNDAY == 1</p>\n  \n  <p>where as </p>\n  \n  <p>DayOfWeek.SUNDAY == 7</p>\n</blockquote>\n\n<p>I was wondering if there was a recommended way to convert from one to the other. Currently I'm doing this.</p>\n\n<pre><code>calendar.set(Calendar.DAY_OF_WEEK, dayOfWeek.getValue() == 7 ? 1 : dayOfWeek.getValue() + 1);\n</code></pre>\n"},{"tags":["java","sql","jdbc","teradata"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1654328448,"post_id":72497547,"comment_id":128069002,"body_markdown":"It rather sounds like you cannot get this information through the JDBC driver. You should file a bug or improvement request with Teradata to address this in their driver.","body":"It rather sounds like you cannot get this information through the JDBC driver. You should file a bug or improvement request with Teradata to address this in their driver."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1654328642,"post_id":72497547,"comment_id":128069032,"body_markdown":"However, a quick look at the docs, suggests to me that the scale of a `NUMBER` is flexible (i.e. it isn&#39;t fixed for all values in the column, but is per-value), which means it wouldn&#39;t be possible to provide a general answer, and in that case `0` is probably the &quot;best&quot; response.","body":"However, a quick look at the docs, suggests to me that the scale of a <code>NUMBER</code> is flexible (i.e. it isn&#39;t fixed for all values in the column, but is per-value), which means it wouldn&#39;t be possible to provide a general answer, and in that case <code>0</code> is probably the &quot;best&quot; response."},{"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"score":0,"creation_date":1654333633,"post_id":72497547,"comment_id":128069836,"body_markdown":"@Mark Rotteveel, thanks for your response. Agreed that the Number(*) more like a flexible way to define scale and precision. But it has some limitations in some scenarios like what I met, I need to know the exact scale info and pass the meta info to downstream part. The downstream will round fractional data into integer if scale equals 0.","body":"@Mark Rotteveel, thanks for your response. Agreed that the Number(*) more like a flexible way to define scale and precision. But it has some limitations in some scenarios like what I met, I need to know the exact scale info and pass the meta info to downstream part. The downstream will round fractional data into integer if scale equals 0."},{"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"score":0,"creation_date":1654333817,"post_id":72497547,"comment_id":128069858,"body_markdown":"Then I&#39;m thinking about once `scale == 0` is detected, just pass sth like `scale == 10` to downstream, but it does not that make sense since the scale itself from Teradata can be 0 if the Number is defined like `Number(20,0)`.","body":"Then I&#39;m thinking about once <code>scale == 0</code> is detected, just pass sth like <code>scale == 10</code> to downstream, but it does not that make sense since the scale itself from Teradata can be 0 if the Number is defined like <code>Number(20,0)</code>."},{"owner":{"account_id":2977058,"reputation":59763,"user_id":2527905,"display_name":"dnoeth"},"score":0,"creation_date":1654343306,"post_id":72497547,"comment_id":128071343,"body_markdown":"As @MarkRotteveel wrote there&#39;s no known/fixed scale and precision for NUMBER(*), as it can be different for each value, stroring 0.0000012345 in row #1 and 123456789.01 in row #2, you can even store scientific notation like 1.23e-80 in row #3.","body":"As @MarkRotteveel wrote there&#39;s no known/fixed scale and precision for NUMBER(*), as it can be different for each value, stroring 0.0000012345 in row #1 and 123456789.01 in row #2, you can even store scientific notation like 1.23e-80 in row #3."}],"answers":[{"tags":[],"owner":{"account_id":16820485,"reputation":394,"user_id":12161087,"display_name":"Tom Nolan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654619310,"creation_date":1654619310,"answer_id":72534682,"question_id":72497547,"body_markdown":"The JDBC API Specification for the ResultSetMetaData.getScale method says &quot;Gets the designated column&#39;s number of digits to right of the decimal point. 0 is returned for data types where the scale is not applicable.&quot;\r\n\r\nhttps://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/ResultSetMetaData.html#getScale(int)\r\n\r\nWhen the scale is omitted for the NUMBER data type, or the asterisk (*) is specified for the scale of the NUMBER data type, then the Teradata Database indicates to the Teradata JDBC Driver that the scale is not available.\r\n\r\nIn that situation, when the database tells the JDBC Driver that the scale is not available, then the JDBC Driver returns zero (0) for the scale from the ResultSetMetaData.getScale method, per the JDBC API Specification.","title":"How can I get precision and scale of Teradata&#39;s number type through JDBC","body":"<p>The JDBC API Specification for the ResultSetMetaData.getScale method says &quot;Gets the designated column's number of digits to right of the decimal point. 0 is returned for data types where the scale is not applicable.&quot;</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/ResultSetMetaData.html#getScale(int)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/ResultSetMetaData.html#getScale(int)</a></p>\n<p>When the scale is omitted for the NUMBER data type, or the asterisk (*) is specified for the scale of the NUMBER data type, then the Teradata Database indicates to the Teradata JDBC Driver that the scale is not available.</p>\n<p>In that situation, when the database tells the JDBC Driver that the scale is not available, then the JDBC Driver returns zero (0) for the scale from the ResultSetMetaData.getScale method, per the JDBC API Specification.</p>\n"}],"owner":{"account_id":4116853,"reputation":10757,"user_id":3378204,"accept_rate":91,"display_name":"Eugene"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72534682,"answer_count":1,"score":1,"last_activity_date":1654619310,"creation_date":1654323370,"question_id":72497547,"body_markdown":"In Teradata, we can define Number type by something like `Number(*) or Number`, per [guideline][1] from Teradata, the definition\r\n\r\n&gt; indicate NUMBER with the system limits for precision and scale\r\n    \r\nThe precision and scale is not fixed defined and depends on so-called _system limit_. \r\n\r\nI used `resultSet.getMetaData.getPrecision(index)` and `resultSet.getMetaData.getPrecision(index)`to get the `precision` and `scale` and found that the `precision` equals to `40` and the `scale` equals to `0` in that case. \r\n\r\nThe precision and scale returned from JDBC is obviously not consistent with Teradata, although we don&#39;t know the specific scale limit here, it&#39;s indeed a value larger than `0`, or it would contrary to the so-called _system limit_. \r\n\r\nWe can do a practice by creating a table in Teradata with something like:\r\n\r\n`create set table test_db.test(id BIGINT, column1 NUMBER, column2 NUMBER) PRIMARY INDEX (id);`\r\n\r\nAnd insert data with large scale like 12.3456789, the above insert is valid and shows that the JDBC returned scale is actually not correct? How can I get the correct scale value through JDBC?\r\n\r\nNote, if the `Number` is defined with explicit precision and scale, like:  \r\n`create set table test_db.test_with_explicit_ps(id BIGINT, column1 NUMBER(20,10), column2 NUMBER(28,10)) PRIMARY INDEX (id);`  \r\nJDBC can return correct precision and scale by `resultSet.getMetaData.getPrecision/Scale(index)`. \r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.teradata.com/r/Teradata-Database-SQL-Data-Types-and-Literals/June-2017/Numeric-Data-Types/NUMBER-Data-Type","title":"How can I get precision and scale of Teradata&#39;s number type through JDBC","body":"<p>In Teradata, we can define Number type by something like <code>Number(*) or Number</code>, per <a href=\"https://docs.teradata.com/r/Teradata-Database-SQL-Data-Types-and-Literals/June-2017/Numeric-Data-Types/NUMBER-Data-Type\" rel=\"nofollow noreferrer\">guideline</a> from Teradata, the definition</p>\n<blockquote>\n<p>indicate NUMBER with the system limits for precision and scale</p>\n</blockquote>\n<p>The precision and scale is not fixed defined and depends on so-called <em>system limit</em>.</p>\n<p>I used <code>resultSet.getMetaData.getPrecision(index)</code> and <code>resultSet.getMetaData.getPrecision(index)</code>to get the <code>precision</code> and <code>scale</code> and found that the <code>precision</code> equals to <code>40</code> and the <code>scale</code> equals to <code>0</code> in that case.</p>\n<p>The precision and scale returned from JDBC is obviously not consistent with Teradata, although we don't know the specific scale limit here, it's indeed a value larger than <code>0</code>, or it would contrary to the so-called <em>system limit</em>.</p>\n<p>We can do a practice by creating a table in Teradata with something like:</p>\n<p><code>create set table test_db.test(id BIGINT, column1 NUMBER, column2 NUMBER) PRIMARY INDEX (id);</code></p>\n<p>And insert data with large scale like 12.3456789, the above insert is valid and shows that the JDBC returned scale is actually not correct? How can I get the correct scale value through JDBC?</p>\n<p>Note, if the <code>Number</code> is defined with explicit precision and scale, like:<br />\n<code>create set table test_db.test_with_explicit_ps(id BIGINT, column1 NUMBER(20,10), column2 NUMBER(28,10)) PRIMARY INDEX (id);</code><br />\nJDBC can return correct precision and scale by <code>resultSet.getMetaData.getPrecision/Scale(index)</code>.</p>\n"},{"tags":["java","processing","collision-detection","game-physics"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1654619456,"post_id":72534648,"comment_id":128131834,"body_markdown":"`for some reason the ball is detecting the collisions slightly before it hits` Could you construct some input that duplicates this problem for us?  Going through your entire code is going to be a big job, that I doubt anyone will bother.","body":"<code>for some reason the ball is detecting the collisions slightly before it hits</code> Could you construct some input that duplicates this problem for us?  Going through your entire code is going to be a big job, that I doubt anyone will bother."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1654619497,"post_id":72534648,"comment_id":128131844,"body_markdown":"Broadly speaking, these types of issues arise from either poorly-sized bounding &quot;boxes&quot; or from an error of the math behind it. You may want to add something which will draw the actual bounds directly over the images/sprites you use, so you can see where the bounds truly are (to eliminate the first problem). See the help pages regarding creating a [MCRE](https://stackoverflow.com/help/minimal-reproducible-example) (minimal, reproducible example).","body":"Broadly speaking, these types of issues arise from either poorly-sized bounding &quot;boxes&quot; or from an error of the math behind it. You may want to add something which will draw the actual bounds directly over the images/sprites you use, so you can see where the bounds truly are (to eliminate the first problem). See the help pages regarding creating a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MCRE</a> (minimal, reproducible example)."},{"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"score":1,"creation_date":1654619829,"post_id":72534648,"comment_id":128131972,"body_markdown":"Draw the ball and the paddles after the collision test.","body":"Draw the ball and the paddles after the collision test."}],"owner":{"account_id":19138926,"reputation":21,"user_id":13979298,"display_name":"Haadi Khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654619157,"creation_date":1654619157,"question_id":72534648,"body_markdown":"Im trying to create a brick breaker game for a personal project. I am using a array for the different bricks and overlaying the bricks with an image of a brick. I was able to detect the collisions but for some reason the ball is detecting the collisions slightly before it hits the actual brick. I also have a question on what way should the ball go when it hits the brick. I appreciate any help.\r\n\r\ncode:\r\n```\r\ncolor black = color(0,0,0);\r\ncolor red = color(255,0,0);\r\ncolor white = color(255,255,255);\r\n\r\nfloat ballx = 412.5, bally = 500, balld = 20, ballr = balld/2, paddleX = 362.5, paddleY = 650;\r\nfloat paddleW = 100, paddleH = 15;\r\nfloat ballspdX, ballspdY;\r\n\r\nboolean ball_drop = true;\r\n\r\nfloat direction_choice;\r\n\r\nfloat [] brickX = new float [50];\r\nfloat [] brickY = new float [50];\r\n\r\nint brickW = 50, brickH = 25;\r\nint ball_lives = 5; \r\nPFont font1;\r\nPFont font2;\r\nPImage brickimg;\r\n\r\nboolean gameover_sign = false;\r\nboolean  Game_Over_mode = false;\r\nboolean right = false;\r\nboolean left = false;\r\n\r\nvoid brickformation(){\r\n  brickX[0] = 50;\r\n  brickX[1] = 125; \r\n  brickX[2] = 200; \r\n  brickX[3] = 275;\r\n  brickX[4] = 350;\r\n  brickX[5] = 425;\r\n  brickX[6] = 500; \r\n  brickX[7] = 575;\r\n  brickX[8] = 650; \r\n  brickX[9] = 725; \r\n  brickX[10] = 50;\r\n  brickX[11] = 125; \r\n  brickX[12] = 200; \r\n  brickX[13] = 275;\r\n  brickX[14] = 350;\r\n  brickX[15] = 425;\r\n  brickX[16] = 500; \r\n  brickX[17] = 575;\r\n  brickX[18] = 650; \r\n  brickX[19] = 725; \r\n  brickX[20] = 50;\r\n  brickX[21] = 125; \r\n  brickX[22] = 200; \r\n  brickX[23] = 275;\r\n  brickX[24] = 350;\r\n  brickX[25] = 425;\r\n  brickX[26] = 500; \r\n  brickX[27] = 575;\r\n  brickX[28] = 650; \r\n  brickX[29] = 725; \r\n  brickX[30] = 50;\r\n  brickX[31] = 125; \r\n  brickX[32] = 200; \r\n  brickX[33] = 275;\r\n  brickX[34] = 350;\r\n  brickX[35] = 425;\r\n  brickX[36] = 500; \r\n  brickX[37] = 575;\r\n  brickX[38] = 650; \r\n  brickX[39] = 725; \r\n  brickX[40] = 50;\r\n  brickX[41] = 125; \r\n  brickX[42] = 200; \r\n  brickX[43] = 275;\r\n  brickX[44] = 350;\r\n  brickX[45] = 425;\r\n  brickX[46] = 500; \r\n  brickX[47] = 575;\r\n  brickX[48] = 650; \r\n  brickX[49] = 725; \r\n\r\n  brickY[0] = 50;\r\n  brickY[1] = 50; \r\n  brickY[2] = 50; \r\n  brickY[3] = 50;\r\n  brickY[4] = 50;\r\n  brickY[5] = 50;\r\n  brickY[6] = 50; \r\n  brickY[7] = 50;\r\n  brickY[8] = 50; \r\n  brickY[9] = 50; \r\n  brickY[10] = 125;\r\n  brickY[11] = 125; \r\n  brickY[12] = 125; \r\n  brickY[13] = 125;\r\n  brickY[14] = 125;\r\n  brickY[15] = 125;\r\n  brickY[16] = 125; \r\n  brickY[17] = 125;\r\n  brickY[18] = 125; \r\n  brickY[19] = 125; \r\n  brickY[20] = 200;\r\n  brickY[21] = 200; \r\n  brickY[22] = 200; \r\n  brickY[23] = 200;\r\n  brickY[24] = 200;\r\n  brickY[25] = 200;\r\n  brickY[26] = 200; \r\n  brickY[27] = 200;\r\n  brickY[28] = 200; \r\n  brickY[29] = 200; \r\n  brickY[30] = 275;\r\n  brickY[31] = 275; \r\n  brickY[32] = 275; \r\n  brickY[33] = 275;\r\n  brickY[34] = 275;\r\n  brickY[35] = 275;\r\n  brickY[36] = 275; \r\n  brickY[37] = 275;\r\n  brickY[38] = 275; \r\n  brickY[39] = 275; \r\n  brickY[40] = 350;\r\n  brickY[41] = 350; \r\n  brickY[42] = 350; \r\n  brickY[43] = 350;\r\n  brickY[44] = 350;\r\n  brickY[45] = 350;\r\n  brickY[46] = 350; \r\n  brickY[47] = 350;\r\n  brickY[48] = 350; \r\n  brickY[49] = 350; \r\n}\r\n\r\n\r\nvoid setup(){\r\n  size(825,800);\r\n  surface.setTitle(&quot;Brick breaker&quot;);\r\n  font1 = createFont(&quot;04B_19&quot;, 150);\r\n  font2 = createFont(&quot;04B_19&quot;, 35);\r\n  brickimg = loadImage(&quot;brick.jpeg&quot;);\r\n  noCursor();\r\n  smooth();\r\n  brickformation();\r\n}\r\n\r\nvoid paddle(){\r\n  noStroke();\r\n  fill(white);\r\n  rect(paddleX, paddleY, paddleW, paddleH);\r\n}\r\nvoid ball(){\r\n  noStroke();\r\n  fill(red);\r\n  circle(ballx, bally, balld);\r\n}\r\n\r\nvoid gameover(){\r\n  ///////////////////////the sign that displays game over.\r\n  stroke(black);\r\n  fill(white);\r\n  rect(0,135, 825, 240);\r\n  fill(red);\r\n  textFont(font1);\r\n  text(&quot;GAME OVER&quot;, 20, 275);\r\n  textFont(font2);\r\n  text(&quot;Press r to restart&quot;, 225, 335);\r\n  Game_Over_mode = true;\r\n}\r\n\r\nvoid reset(){\r\n\r\n  ball_lives = 5;\r\n  ballx = 412.5;\r\n  bally = 600;\r\n  gameover_sign = false;\r\n  ball_drop = true;\r\n\r\n}\r\n\r\nvoid draw(){\r\n  background(black);\r\n  paddle();\r\n  ball();\r\n  for (int i = 0; i &lt; brickX.length; i++){\r\n    brickimg.resize(brickW, brickH);\r\n    fill(white);\r\n    image(brickimg, brickX[i], brickY[i]);\r\n    rect(brickX[i], brickY[i], brickW, brickH); \r\n    //hits bottom of brick   \r\n    }\r\n \r\n  fill(white);\r\n  textFont(font2);\r\n  text(&quot;Lives = &quot; + str(ball_lives), 35, 775);\r\n  \r\n  //uses different collision for paddle to make the ball go different directions based on how they hit the paddle.\r\n  //collision for left side of paddle\r\n  if (collideLineCircle(paddleX, paddleY, paddleX + (paddleW/2), paddleY, ballx, bally, ballr)){\r\n    ball_drop = false;\r\n    ballspdY = -1;\r\n    ballspdX = 4;\r\n  }\r\n  //collision for right side of paddle.\r\n  if (collideLineCircle(paddleX + (paddleW/2), paddleY, paddleX + paddleW, paddleY, ballx, bally, ballr)){\r\n    ball_drop = false;\r\n    ballspdY = -1;\r\n    ballspdX = -4;\r\n  }\r\n\r\n  //colisions for bricks\r\n  for (int i = 0; i &lt; brickX.length; i ++){\r\n    //bottom\r\n    if (collideLineCircle(brickX[i], brickY[i] + brickH, brickX[i] + brickW, brickY[i] + brickH, ballx, bally, ballr)){\r\n      ballspdY = -ballspdY;\r\n      brickX[i] = -400;\r\n    }\r\n    //top\r\n    else if (collideLineCircle(brickX[i], brickY[i], brickX[i] + brickW, brickY[i], ballx, bally, ballr)){\r\n      ballspdY = -ballspdY;\r\n      brickX[i] = -400;\r\n    }\r\n    else if (collideLineCircle(brickX[i], brickY[i], brickX[i], brickY[i] + brickW, ballx, bally, ballr)){\r\n    ballspdX = -ballspdX;\r\n    brickX[i] = -400;\r\n    }\r\n    else if (collideLineCircle(brickX[i] + brickW, brickY[i], brickX[i] + brickW, brickY[i] + brickH, ballx, bally, ballr)){\r\n    ballspdX = -ballspdX;\r\n    brickX[i] = -400;\r\n    }\r\n  }\r\n  ////collisions for different walls of the screeen.\r\n  if (ballx + ballr &gt; width || ballx - ballr &lt; 0){\r\n    ballspdX = -ballspdX;\r\n  }\r\n  \r\n  if (bally - ballr &lt; 0){\r\n    ballspdY = 1;\r\n  }\r\n\r\n  if (ball_drop){\r\n    ballspdX = 0;\r\n    ballspdY = 1;\r\n  }\r\n \r\n\r\n  \r\n\r\n  if (ball_lives &gt;= 1){  \r\n   if (bally &gt;= 800){\r\n     ball_lives = ball_lives - 1;\r\n     bally = 600;\r\n     ballx = 412.5;\r\n     ball_drop = true;\r\n   } \r\n  }\r\n  \r\n  if (ball_lives == 0 &amp;&amp; bally &gt; 800){\r\n    gameover_sign = true;\r\n  }\r\n  \r\n  if (gameover_sign){\r\n    gameover();\r\n  }\r\n  \r\n  if (right){\r\n    if(paddleX &gt; 0){\r\n      paddleX -= 4;\r\n    }\r\n  }\r\n  if (left){\r\n    if (paddleX + paddleW &lt; width){\r\n      paddleX += 4;\r\n    }\r\n  }\r\n  \r\n \r\n  bally += ballspdY/2;\r\n  ballx += ballspdX/2;\r\n  \r\n}\r\n  boolean collideLineCircle(float x1, float y1, float x2, float y2, float cx, float cy, float cr){\r\n    float A = y2 - y1, B = x1 - x2, C = x2*y1 - x1+y2;\r\n    float denom = A+A + B*B;\r\n    if (denom == 0){\r\n    \r\n      return dist(x1,y1, cx, cy) &lt; cr;\r\n    \r\n    }\r\n    \r\n    float Ix = (B*B*cx-A*B*cy - A*C)/denom, Iy = (A*A*cy-A*B*cx - B*C)/denom;\r\n    \r\n    if (Ix &gt;= min(x1,x2) &amp;&amp; Ix &lt;= max(x1,x2) &amp; Iy &gt;= min(y1,y2) &amp;&amp; Iy &lt;= max(y1,y2)) {\r\n      return abs (A*cx + B*cy + C)/sqrt(denom) &lt; cr;\r\n    }\r\n    \r\n    float d1 = dist(x1,y1,cx,cy), d2 = dist(x2,y2,cx,cy);\r\n    return min(d1,d2) &lt; cr;\r\n    \r\n  }\r\n  \r\nvoid keyPressed(KeyEvent evt){\r\n  if (key == &#39;r&#39;){\r\n    if (Game_Over_mode){\r\n      reset();\r\n      Game_Over_mode = false;\r\n    }\r\n  }\r\n  if (key == &#39;a&#39;){\r\n    if(paddleX &gt; 0){\r\n      right = true;\r\n    }\r\n  }\r\n  else{right = false;}\r\n  \r\n  if (key == &#39;d&#39;){\r\n    if(paddleX + paddleW &lt; width){\r\n      left = true;\r\n    }\r\n  }\r\n  else{left = false;}\r\n}\r\n```","title":"Why is the game detecting collisions before it actually hits the brick?","body":"<p>Im trying to create a brick breaker game for a personal project. I am using a array for the different bricks and overlaying the bricks with an image of a brick. I was able to detect the collisions but for some reason the ball is detecting the collisions slightly before it hits the actual brick. I also have a question on what way should the ball go when it hits the brick. I appreciate any help.</p>\n<p>code:</p>\n<pre><code>color black = color(0,0,0);\ncolor red = color(255,0,0);\ncolor white = color(255,255,255);\n\nfloat ballx = 412.5, bally = 500, balld = 20, ballr = balld/2, paddleX = 362.5, paddleY = 650;\nfloat paddleW = 100, paddleH = 15;\nfloat ballspdX, ballspdY;\n\nboolean ball_drop = true;\n\nfloat direction_choice;\n\nfloat [] brickX = new float [50];\nfloat [] brickY = new float [50];\n\nint brickW = 50, brickH = 25;\nint ball_lives = 5; \nPFont font1;\nPFont font2;\nPImage brickimg;\n\nboolean gameover_sign = false;\nboolean  Game_Over_mode = false;\nboolean right = false;\nboolean left = false;\n\nvoid brickformation(){\n  brickX[0] = 50;\n  brickX[1] = 125; \n  brickX[2] = 200; \n  brickX[3] = 275;\n  brickX[4] = 350;\n  brickX[5] = 425;\n  brickX[6] = 500; \n  brickX[7] = 575;\n  brickX[8] = 650; \n  brickX[9] = 725; \n  brickX[10] = 50;\n  brickX[11] = 125; \n  brickX[12] = 200; \n  brickX[13] = 275;\n  brickX[14] = 350;\n  brickX[15] = 425;\n  brickX[16] = 500; \n  brickX[17] = 575;\n  brickX[18] = 650; \n  brickX[19] = 725; \n  brickX[20] = 50;\n  brickX[21] = 125; \n  brickX[22] = 200; \n  brickX[23] = 275;\n  brickX[24] = 350;\n  brickX[25] = 425;\n  brickX[26] = 500; \n  brickX[27] = 575;\n  brickX[28] = 650; \n  brickX[29] = 725; \n  brickX[30] = 50;\n  brickX[31] = 125; \n  brickX[32] = 200; \n  brickX[33] = 275;\n  brickX[34] = 350;\n  brickX[35] = 425;\n  brickX[36] = 500; \n  brickX[37] = 575;\n  brickX[38] = 650; \n  brickX[39] = 725; \n  brickX[40] = 50;\n  brickX[41] = 125; \n  brickX[42] = 200; \n  brickX[43] = 275;\n  brickX[44] = 350;\n  brickX[45] = 425;\n  brickX[46] = 500; \n  brickX[47] = 575;\n  brickX[48] = 650; \n  brickX[49] = 725; \n\n  brickY[0] = 50;\n  brickY[1] = 50; \n  brickY[2] = 50; \n  brickY[3] = 50;\n  brickY[4] = 50;\n  brickY[5] = 50;\n  brickY[6] = 50; \n  brickY[7] = 50;\n  brickY[8] = 50; \n  brickY[9] = 50; \n  brickY[10] = 125;\n  brickY[11] = 125; \n  brickY[12] = 125; \n  brickY[13] = 125;\n  brickY[14] = 125;\n  brickY[15] = 125;\n  brickY[16] = 125; \n  brickY[17] = 125;\n  brickY[18] = 125; \n  brickY[19] = 125; \n  brickY[20] = 200;\n  brickY[21] = 200; \n  brickY[22] = 200; \n  brickY[23] = 200;\n  brickY[24] = 200;\n  brickY[25] = 200;\n  brickY[26] = 200; \n  brickY[27] = 200;\n  brickY[28] = 200; \n  brickY[29] = 200; \n  brickY[30] = 275;\n  brickY[31] = 275; \n  brickY[32] = 275; \n  brickY[33] = 275;\n  brickY[34] = 275;\n  brickY[35] = 275;\n  brickY[36] = 275; \n  brickY[37] = 275;\n  brickY[38] = 275; \n  brickY[39] = 275; \n  brickY[40] = 350;\n  brickY[41] = 350; \n  brickY[42] = 350; \n  brickY[43] = 350;\n  brickY[44] = 350;\n  brickY[45] = 350;\n  brickY[46] = 350; \n  brickY[47] = 350;\n  brickY[48] = 350; \n  brickY[49] = 350; \n}\n\n\nvoid setup(){\n  size(825,800);\n  surface.setTitle(&quot;Brick breaker&quot;);\n  font1 = createFont(&quot;04B_19&quot;, 150);\n  font2 = createFont(&quot;04B_19&quot;, 35);\n  brickimg = loadImage(&quot;brick.jpeg&quot;);\n  noCursor();\n  smooth();\n  brickformation();\n}\n\nvoid paddle(){\n  noStroke();\n  fill(white);\n  rect(paddleX, paddleY, paddleW, paddleH);\n}\nvoid ball(){\n  noStroke();\n  fill(red);\n  circle(ballx, bally, balld);\n}\n\nvoid gameover(){\n  ///////////////////////the sign that displays game over.\n  stroke(black);\n  fill(white);\n  rect(0,135, 825, 240);\n  fill(red);\n  textFont(font1);\n  text(&quot;GAME OVER&quot;, 20, 275);\n  textFont(font2);\n  text(&quot;Press r to restart&quot;, 225, 335);\n  Game_Over_mode = true;\n}\n\nvoid reset(){\n\n  ball_lives = 5;\n  ballx = 412.5;\n  bally = 600;\n  gameover_sign = false;\n  ball_drop = true;\n\n}\n\nvoid draw(){\n  background(black);\n  paddle();\n  ball();\n  for (int i = 0; i &lt; brickX.length; i++){\n    brickimg.resize(brickW, brickH);\n    fill(white);\n    image(brickimg, brickX[i], brickY[i]);\n    rect(brickX[i], brickY[i], brickW, brickH); \n    //hits bottom of brick   \n    }\n \n  fill(white);\n  textFont(font2);\n  text(&quot;Lives = &quot; + str(ball_lives), 35, 775);\n  \n  //uses different collision for paddle to make the ball go different directions based on how they hit the paddle.\n  //collision for left side of paddle\n  if (collideLineCircle(paddleX, paddleY, paddleX + (paddleW/2), paddleY, ballx, bally, ballr)){\n    ball_drop = false;\n    ballspdY = -1;\n    ballspdX = 4;\n  }\n  //collision for right side of paddle.\n  if (collideLineCircle(paddleX + (paddleW/2), paddleY, paddleX + paddleW, paddleY, ballx, bally, ballr)){\n    ball_drop = false;\n    ballspdY = -1;\n    ballspdX = -4;\n  }\n\n  //colisions for bricks\n  for (int i = 0; i &lt; brickX.length; i ++){\n    //bottom\n    if (collideLineCircle(brickX[i], brickY[i] + brickH, brickX[i] + brickW, brickY[i] + brickH, ballx, bally, ballr)){\n      ballspdY = -ballspdY;\n      brickX[i] = -400;\n    }\n    //top\n    else if (collideLineCircle(brickX[i], brickY[i], brickX[i] + brickW, brickY[i], ballx, bally, ballr)){\n      ballspdY = -ballspdY;\n      brickX[i] = -400;\n    }\n    else if (collideLineCircle(brickX[i], brickY[i], brickX[i], brickY[i] + brickW, ballx, bally, ballr)){\n    ballspdX = -ballspdX;\n    brickX[i] = -400;\n    }\n    else if (collideLineCircle(brickX[i] + brickW, brickY[i], brickX[i] + brickW, brickY[i] + brickH, ballx, bally, ballr)){\n    ballspdX = -ballspdX;\n    brickX[i] = -400;\n    }\n  }\n  ////collisions for different walls of the screeen.\n  if (ballx + ballr &gt; width || ballx - ballr &lt; 0){\n    ballspdX = -ballspdX;\n  }\n  \n  if (bally - ballr &lt; 0){\n    ballspdY = 1;\n  }\n\n  if (ball_drop){\n    ballspdX = 0;\n    ballspdY = 1;\n  }\n \n\n  \n\n  if (ball_lives &gt;= 1){  \n   if (bally &gt;= 800){\n     ball_lives = ball_lives - 1;\n     bally = 600;\n     ballx = 412.5;\n     ball_drop = true;\n   } \n  }\n  \n  if (ball_lives == 0 &amp;&amp; bally &gt; 800){\n    gameover_sign = true;\n  }\n  \n  if (gameover_sign){\n    gameover();\n  }\n  \n  if (right){\n    if(paddleX &gt; 0){\n      paddleX -= 4;\n    }\n  }\n  if (left){\n    if (paddleX + paddleW &lt; width){\n      paddleX += 4;\n    }\n  }\n  \n \n  bally += ballspdY/2;\n  ballx += ballspdX/2;\n  \n}\n  boolean collideLineCircle(float x1, float y1, float x2, float y2, float cx, float cy, float cr){\n    float A = y2 - y1, B = x1 - x2, C = x2*y1 - x1+y2;\n    float denom = A+A + B*B;\n    if (denom == 0){\n    \n      return dist(x1,y1, cx, cy) &lt; cr;\n    \n    }\n    \n    float Ix = (B*B*cx-A*B*cy - A*C)/denom, Iy = (A*A*cy-A*B*cx - B*C)/denom;\n    \n    if (Ix &gt;= min(x1,x2) &amp;&amp; Ix &lt;= max(x1,x2) &amp; Iy &gt;= min(y1,y2) &amp;&amp; Iy &lt;= max(y1,y2)) {\n      return abs (A*cx + B*cy + C)/sqrt(denom) &lt; cr;\n    }\n    \n    float d1 = dist(x1,y1,cx,cy), d2 = dist(x2,y2,cx,cy);\n    return min(d1,d2) &lt; cr;\n    \n  }\n  \nvoid keyPressed(KeyEvent evt){\n  if (key == 'r'){\n    if (Game_Over_mode){\n      reset();\n      Game_Over_mode = false;\n    }\n  }\n  if (key == 'a'){\n    if(paddleX &gt; 0){\n      right = true;\n    }\n  }\n  else{right = false;}\n  \n  if (key == 'd'){\n    if(paddleX + paddleW &lt; width){\n      left = true;\n    }\n  }\n  else{left = false;}\n}\n</code></pre>\n"},{"tags":["java","android","linechart","mpandroidchart"],"answers":[{"tags":[],"owner":{"account_id":4597969,"reputation":2695,"user_id":3729490,"accept_rate":58,"display_name":"rafaelasguerra"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1445444363,"creation_date":1445443437,"answer_id":33264086,"question_id":33241952,"body_markdown":"1- **Enable touch** in the chart\r\n\r\n    chart.setTouchEnabled(true);\r\n\r\n2 - **Create MarkerView**\r\n\r\n    public class CustomMarkerView extends MarkerView {\r\n    \r\n        private TextView tvContent;\r\n        public CustomMarkerView (Context context, int layoutResource) {\r\n            super(context, layoutResource);\r\n            // this markerview only displays a textview\r\n            tvContent = (TextView) findViewById(R.id.tvContent);\r\n        }\r\n    \r\n        // callbacks everytime the MarkerView is redrawn, can be used to update the\r\n        // content (user-interface)\r\n        @Override\r\n        public void refreshContent(Entry e, Highlight highlight) {\r\n            tvContent.setText(&quot;&quot; + e.getVal()); // set the entry-value as the display text\r\n        }\r\n    \r\n        @Override\r\n        public int getXOffset() {\r\n            // this will center the marker-view horizontally\r\n            return -(getWidth() / 2);\r\n        }\r\n    \r\n        @Override\r\n        public int getYOffset() {\r\n            // this will cause the marker-view to be above the selected value\r\n            return -getHeight();\r\n        }\r\n    }\r\n\r\n3 - Create the **tvContent view**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;40dp&quot;\r\n        android:background=&quot;@drawable/markerImage&quot; &gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvContent&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;7dp&quot;\r\n            android:layout_marginLeft=&quot;5dp&quot;\r\n            android:layout_marginRight=&quot;5dp&quot;\r\n            android:text=&quot;&quot;\r\n            android:textSize=&quot;12dp&quot;\r\n            android:textColor=&quot;@android:color/white&quot;\r\n            android:ellipsize=&quot;end&quot;\r\n            android:singleLine=&quot;true&quot;\r\n            android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n **4.** Set the view Marker in the chart\r\n\r\n\r\n    CustomMarkerView mv = new CustomMarkerView (Context, R.layout.custom_marker_view_layout);\r\n    chart.setMarkerView(mv);\r\n\r\n\r\nhttps://github.com/PhilJay/MPAndroidChart/wiki/MarkerView\r\n\r\n\r\n\r\n","title":"Show value when tapped [MPAndroidChart]","body":"<p>1- <strong>Enable touch</strong> in the chart</p>\n\n<pre><code>chart.setTouchEnabled(true);\n</code></pre>\n\n<p>2 - <strong>Create MarkerView</strong></p>\n\n<pre><code>public class CustomMarkerView extends MarkerView {\n\n    private TextView tvContent;\n    public CustomMarkerView (Context context, int layoutResource) {\n        super(context, layoutResource);\n        // this markerview only displays a textview\n        tvContent = (TextView) findViewById(R.id.tvContent);\n    }\n\n    // callbacks everytime the MarkerView is redrawn, can be used to update the\n    // content (user-interface)\n    @Override\n    public void refreshContent(Entry e, Highlight highlight) {\n        tvContent.setText(\"\" + e.getVal()); // set the entry-value as the display text\n    }\n\n    @Override\n    public int getXOffset() {\n        // this will center the marker-view horizontally\n        return -(getWidth() / 2);\n    }\n\n    @Override\n    public int getYOffset() {\n        // this will cause the marker-view to be above the selected value\n        return -getHeight();\n    }\n}\n</code></pre>\n\n<p>3 - Create the <strong>tvContent view</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"40dp\"\n    android:background=\"@drawable/markerImage\" &gt;\n\n    &lt;TextView\n        android:id=\"@+id/tvContent\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"7dp\"\n        android:layout_marginLeft=\"5dp\"\n        android:layout_marginRight=\"5dp\"\n        android:text=\"\"\n        android:textSize=\"12dp\"\n        android:textColor=\"@android:color/white\"\n        android:ellipsize=\"end\"\n        android:singleLine=\"true\"\n        android:textAppearance=\"?android:attr/textAppearanceSmall\" /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>4.</strong> Set the view Marker in the chart</p>\n\n<pre><code>CustomMarkerView mv = new CustomMarkerView (Context, R.layout.custom_marker_view_layout);\nchart.setMarkerView(mv);\n</code></pre>\n\n<p><a href=\"https://github.com/PhilJay/MPAndroidChart/wiki/MarkerView\" rel=\"noreferrer\">https://github.com/PhilJay/MPAndroidChart/wiki/MarkerView</a></p>\n"},{"tags":[],"owner":{"account_id":8525486,"reputation":1452,"user_id":6391060,"display_name":"Andrea Scalabrini"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1522842672,"creation_date":1522842672,"answer_id":49650291,"question_id":33241952,"body_markdown":"Use **IMarker Interface** (MarkerView has been deprecated since release 3.0.0)\r\n\r\n\r\n**1. Create a new class that implements the IMarker interface**\r\n\r\n    public class YourMarkerView extends MarkerView {\r\n\r\n    private TextView tvContent;\r\n\r\n    public MyMarkerView(Context context, int layoutResource) {\r\n        super(context, layoutResource);\r\n\r\n        // find your layout components\r\n        tvContent = (TextView) findViewById(R.id.tvContent);\r\n    }\r\n\r\n    // callbacks everytime the MarkerView is redrawn, can be used to update the\r\n    // content (user-interface)\r\n    @Override\r\n    public void refreshContent(Entry e, Highlight highlight) {\r\n\r\n        tvContent.setText(&quot;&quot; + e.getY());\r\n\r\n        // this will perform necessary layouting\r\n        super.refreshContent(e, highlight);\r\n    }\r\n\r\n    private MPPointF mOffset; \r\n\r\n    @Override\r\n    public MPPointF getOffset() {\r\n\r\n        if(mOffset == null) {\r\n           // center the marker horizontally and vertically\r\n           mOffset = new MPPointF(-(getWidth() / 2), -getHeight());\r\n        }\r\n\r\n        return mOffset;\r\n    }}\r\n\r\n**2. set your marker to the chart**\r\n\r\n    IMarker marker = new YourMarkerView();\r\n    chart.setMarker(marker);\r\n\r\nReference: https://github.com/PhilJay/MPAndroidChart/wiki/IMarker-Interface","title":"Show value when tapped [MPAndroidChart]","body":"<p>Use <strong>IMarker Interface</strong> (MarkerView has been deprecated since release 3.0.0)</p>\n\n<p><strong>1. Create a new class that implements the IMarker interface</strong></p>\n\n<pre><code>public class YourMarkerView extends MarkerView {\n\nprivate TextView tvContent;\n\npublic MyMarkerView(Context context, int layoutResource) {\n    super(context, layoutResource);\n\n    // find your layout components\n    tvContent = (TextView) findViewById(R.id.tvContent);\n}\n\n// callbacks everytime the MarkerView is redrawn, can be used to update the\n// content (user-interface)\n@Override\npublic void refreshContent(Entry e, Highlight highlight) {\n\n    tvContent.setText(\"\" + e.getY());\n\n    // this will perform necessary layouting\n    super.refreshContent(e, highlight);\n}\n\nprivate MPPointF mOffset; \n\n@Override\npublic MPPointF getOffset() {\n\n    if(mOffset == null) {\n       // center the marker horizontally and vertically\n       mOffset = new MPPointF(-(getWidth() / 2), -getHeight());\n    }\n\n    return mOffset;\n}}\n</code></pre>\n\n<p><strong>2. set your marker to the chart</strong></p>\n\n<pre><code>IMarker marker = new YourMarkerView();\nchart.setMarker(marker);\n</code></pre>\n\n<p>Reference: <a href=\"https://github.com/PhilJay/MPAndroidChart/wiki/IMarker-Interface\" rel=\"noreferrer\">https://github.com/PhilJay/MPAndroidChart/wiki/IMarker-Interface</a></p>\n"},{"tags":[],"owner":{"account_id":21425630,"reputation":21,"user_id":15782993,"display_name":"Wiktor J&#243;źwik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654618770,"creation_date":1654618770,"answer_id":72534580,"question_id":33241952,"body_markdown":"Example in Kotlin for future you:\r\n\r\nDefine marker layout i.e. `gold_marker_layout`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvContent&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:text=&quot;6828.1465&quot;\r\n        android:textSize=&quot;12sp&quot;\r\n        android:textColor=&quot;@android:color/white&quot;\r\n        android:ellipsize=&quot;end&quot;\r\n        android:singleLine=&quot;true&quot;\r\n        android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n*Quick note: I set the initial text to `6828.1465` because that&#39;s my max-width text - watch out here.*\r\n\r\nIf you don&#39;t need `getXOffset` and `getYOffset` you can assign marker like that:\r\n\r\n```\r\nlineChart.marker = object : MarkerView(context, R.layout.gold_marker_layout) {\r\n    override fun refreshContent(e: Entry, highlight: Highlight) {\r\n        (findViewById&lt;View&gt;(R.id.tvContent) as TextView).text = &quot;${e.y}&quot;\r\n        }\r\n    }\r\n```\r\n\r\nThat&#39;s it, you should be good to go\r\n","title":"Show value when tapped [MPAndroidChart]","body":"<p>Example in Kotlin for future you:</p>\n<p>Define marker layout i.e. <code>gold_marker_layout</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tvContent&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:text=&quot;6828.1465&quot;\n        android:textSize=&quot;12sp&quot;\n        android:textColor=&quot;@android:color/white&quot;\n        android:ellipsize=&quot;end&quot;\n        android:singleLine=&quot;true&quot;\n        android:textAppearance=&quot;?android:attr/textAppearanceSmall&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><em>Quick note: I set the initial text to <code>6828.1465</code> because that's my max-width text - watch out here.</em></p>\n<p>If you don't need <code>getXOffset</code> and <code>getYOffset</code> you can assign marker like that:</p>\n<pre><code>lineChart.marker = object : MarkerView(context, R.layout.gold_marker_layout) {\n    override fun refreshContent(e: Entry, highlight: Highlight) {\n        (findViewById&lt;View&gt;(R.id.tvContent) as TextView).text = &quot;${e.y}&quot;\n        }\n    }\n</code></pre>\n<p>That's it, you should be good to go</p>\n"}],"owner":{"account_id":4205859,"reputation":26124,"user_id":3444777,"accept_rate":38,"display_name":"Rod_Algonquin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20971,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1654618770,"creation_date":1445358536,"question_id":33241952,"body_markdown":"I`ve been looking for a way to enable the MPAndroidChart to only display the value(label) of data point when clicked. But It seems that I could not find it online even in the documentation.\r\n\r\nI used the `line chart` and what I want is to only display the label of the certain point when clicked.","title":"Show value when tapped [MPAndroidChart]","body":"<p>I`ve been looking for a way to enable the MPAndroidChart to only display the value(label) of data point when clicked. But It seems that I could not find it online even in the documentation.</p>\n\n<p>I used the <code>line chart</code> and what I want is to only display the label of the certain point when clicked.</p>\n"},{"tags":["java","casting","instanceof","java-15"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":4,"creation_date":1654618626,"post_id":72534408,"comment_id":128131585,"body_markdown":"Use a generic type on the method itself: `public &lt;T extends Storable&gt; T get(Class&lt;T&gt; cls) { ... }`. No need for any Java 15 features.","body":"Use a generic type on the method itself: <code>public &lt;T extends Storable&gt; T get(Class&lt;T&gt; cls) { ... }</code>. No need for any Java 15 features."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1654618690,"creation_date":1654618690,"answer_id":72534556,"question_id":72534408,"body_markdown":"Make your method generic:\r\n```\r\npublic &lt;S extends Storable&gt; S get(Class&lt;S&gt; cls) {\r\n    for (Storable storable : inventory) {\r\n        if (cls.isInstance(storable)) {\r\n            this.inventory.remove(storable);\r\n            return cls.cast(storable);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```\r\nNote the use of `cls.cast`. That&#39;s like `(S) storable` but without the compiler warning.","title":"Use Class&lt;?&gt; parameter in instanceof method","body":"<p>Make your method generic:</p>\n<pre><code>public &lt;S extends Storable&gt; S get(Class&lt;S&gt; cls) {\n    for (Storable storable : inventory) {\n        if (cls.isInstance(storable)) {\n            this.inventory.remove(storable);\n            return cls.cast(storable);\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>Note the use of <code>cls.cast</code>. That's like <code>(S) storable</code> but without the compiler warning.</p>\n"}],"owner":{"account_id":18340494,"reputation":38,"user_id":13356893,"display_name":"Zerak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72534556,"answer_count":1,"score":2,"last_activity_date":1654618690,"creation_date":1654617947,"question_id":72534408,"body_markdown":"I have the following method that can return different types of Storable (ex: Food, Ore).\r\n\r\n*Inventory.java*\r\n\r\n```\r\npublic Storable get(Class&lt;? extends Storable&gt; cls) {\r\n\tfor (Storable storable : inventory) {\r\n\t\tif(cls.isInstance(storable)) {\r\n\t\t\tthis.inventory.remove(storable);\r\n\t\t\treturn storable;\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n```\r\n\r\nIt works, however I&#39;m forced to cast my result like below:\r\n\r\n```\r\nFood food = (Food) inventory.get(Food.class);\r\n```\r\n\r\nWith Java 15 and above, we can define casted object directly with `instanceof` ([link to javadoc][1]). I&#39;m wondering if I can use this new syntax and return casted object directly.\r\n\r\nI tried this but `instanceof` keyword only works with type not variable:\r\n```\r\npublic Storable get(Class&lt;? extends Storable&gt; cls) {\r\n    for (Storable storable : inventory) {\r\n    \tif(storable instanceof cls castedItem) {  //cls cannot be resolved to a type\r\n    \t\tthis.inventory.remove(storable);\r\n    \t\treturn castedItem;\r\n    \t}\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/language/pattern-matching-instanceof-operator.html","title":"Use Class&lt;?&gt; parameter in instanceof method","body":"<p>I have the following method that can return different types of Storable (ex: Food, Ore).</p>\n<p><em>Inventory.java</em></p>\n<pre><code>public Storable get(Class&lt;? extends Storable&gt; cls) {\n    for (Storable storable : inventory) {\n        if(cls.isInstance(storable)) {\n            this.inventory.remove(storable);\n            return storable;\n        }\n    }\n    return null;\n}\n</code></pre>\n<p>It works, however I'm forced to cast my result like below:</p>\n<pre><code>Food food = (Food) inventory.get(Food.class);\n</code></pre>\n<p>With Java 15 and above, we can define casted object directly with <code>instanceof</code> (<a href=\"https://docs.oracle.com/en/java/javase/15/language/pattern-matching-instanceof-operator.html\" rel=\"nofollow noreferrer\">link to javadoc</a>). I'm wondering if I can use this new syntax and return casted object directly.</p>\n<p>I tried this but <code>instanceof</code> keyword only works with type not variable:</p>\n<pre><code>public Storable get(Class&lt;? extends Storable&gt; cls) {\n    for (Storable storable : inventory) {\n        if(storable instanceof cls castedItem) {  //cls cannot be resolved to a type\n            this.inventory.remove(storable);\n            return castedItem;\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","android","bluetooth"],"owner":{"account_id":25073739,"reputation":316,"user_id":18972846,"display_name":"TechGeek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654618143,"creation_date":1654612566,"question_id":72533117,"body_markdown":"I have a code in Android Java that scans for Bluetooth devices in range and if any is discovered I desire to establish a connection to the discovered Bluetooth Device. From the official documentation here https://developer.android.com/guide/topics/connectivity/bluetooth/connect-bluetooth-devices, it says that I need not worry if the device was previously paired or not as the android operating system will auto initiate the pairing process once I call this method `BluetoothSocket.Connect`. The app is working fine in the discovery process as it returns populates my ListView object with the names of the unknown discoverable bluetooth devices in range. The `Bluetooth.Connect()` consumes a lot of processing power in the main thread and I  had to extend the Thread class and implement my Bluetooth Connect method inside the `Run` method of that class. The code is Android Java made to work from C# through the use of Xamarin Bindings.\r\nBelow is what the log cat displays when I click on the device name on the ListView\r\n```\r\nBluetoothClient D/BluetoothUtils: isSocketAllowedBySecurityPolicy start : device null\r\nBluetoothClient I/BluetoothSocket: connect() for device 74C17D called by pid: 23141\r\nBluetoothClient W/BluetoothAdapter: getBluetoothService() called with no BluetoothManagerCallback\r\n```\r\nAfter searching on the site I managed to discover that the UUID I was using was wrong and I needed to use the device to get a list of supported UUIDs. The errors on the logcat have been cleared from above to below\r\n```\r\nBluetoothClient.BluetoothClient I/BluetoothAdapter: cancelDiscovery\r\nBluetoothClient.BluetoothClient I/BluetoothAdapter: cancelDiscovery = false\r\n```\r\nThe code am using to connect to the discovered devices is below\r\n```\r\n[Activity(Label = &quot;@string/app_name&quot;, Theme = &quot;@style/AppTheme&quot;, MainLauncher = true)]\r\n    public class MainActivity : AppCompatActivity\r\n    {\r\n      protected override void OnCreate(Bundle savedInstanceState)\r\n        {\r\n            base.OnCreate(savedInstanceState); \r\n            //listview below holds the friendly names of the discovered devices\r\n            _deviceList = FindViewById&lt;ListView&gt;(Resource.Id.mylist);\r\n             //handle click when user taps on a bluetooth device name\r\n            _deviceList.ItemClick += (o, e) =&gt;\r\n            {\r\n                //initialize a nul bluetooth device\r\n                BluetoothDevice _mydevice=null;\r\n                //read the name of the device from the tapped item\r\n                string name = (string)_deviceList.GetItemAtPosition(e.Position);\r\n                //iterate through all our bluetooth devices and compare name\r\n                foreach (var device in _bluetoothDevices)\r\n                {\r\n                    if (device.Name == name)\r\n                    {\r\n                        //that is our device grab it and break out of the loop\r\n                        _mydevice = device;\r\n                        Log.Info(&quot;MainActivity&quot;, device.Name);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (_mydevice != null)\r\n                {\r\n                    //create a bluetooth socket using the\r\n                    try\r\n                    {\r\n                        //use a new thread to avoid app hanging from skipping too many frames\r\n\r\n                        BluetoothThread thread = new BluetoothThread(_mydevice,this);\r\n                        thread.Run();\r\n                        \r\n                    }\r\n                    catch (Exception m)\r\n                    {\r\n                        Toast.MakeText(this,m.Message,ToastLength.Short).Show();\r\n                    }\r\n                }\r\n                \r\n            };\r\n        }\r\n    }\r\n//this class is for multitasking to help the app process Bluetooth requests\r\n public class BluetoothThread : Thread\r\n        {\r\n            private BluetoothDevice dev;\r\n\r\n            private Context ctx;\r\n            //declare default ctor\r\n            public BluetoothThread()\r\n            {\r\n                \r\n            }\r\n            //declare the custom ctor and require context object for toasting to user \r\n            \r\n            public BluetoothThread(BluetoothDevice device,Context context)\r\n            {\r\n                dev = device;\r\n                ctx = context;\r\n            }\r\n            public override void Run()\r\n            {\r\n                //here you run attempt to connect to the bluetooth device using a new thread\r\n                try\r\n                {\r\n                    //calling this creates another thread for helping the app with multitaskinf\r\n                    Task.Run(() =&gt;\r\n                    {\r\n                           ParcelUuid[] parcelUuids = dev.GetUuids();\r\n                           BluetoothSocket socket = dev.CreateRfcommSocketToServiceRecord(UUID.FromString(parcelUuids[0].ToString()));\r\n                        socket.Connect();\r\n                    });\r\n                   \r\n                }\r\n                catch (Exception p)\r\n                {\r\n                 Toast.MakeText(ctx,p.Message,ToastLength.Short).Show();\r\n                }\r\n            }\r\n        }\r\n\r\n```\r\nI expected my app to request the remote device for a pairing request when I called `socket.Connect()` but nothing happens in my app and I get only the logcat information above, help me make this attempt to connect to a remote device start a pairing request Thank You.\r\n","title":"How to connect to discovered Bluetooth device with android java","body":"<p>I have a code in Android Java that scans for Bluetooth devices in range and if any is discovered I desire to establish a connection to the discovered Bluetooth Device. From the official documentation here <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/connect-bluetooth-devices\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/connectivity/bluetooth/connect-bluetooth-devices</a>, it says that I need not worry if the device was previously paired or not as the android operating system will auto initiate the pairing process once I call this method <code>BluetoothSocket.Connect</code>. The app is working fine in the discovery process as it returns populates my ListView object with the names of the unknown discoverable bluetooth devices in range. The <code>Bluetooth.Connect()</code> consumes a lot of processing power in the main thread and I  had to extend the Thread class and implement my Bluetooth Connect method inside the <code>Run</code> method of that class. The code is Android Java made to work from C# through the use of Xamarin Bindings.\nBelow is what the log cat displays when I click on the device name on the ListView</p>\n<pre><code>BluetoothClient D/BluetoothUtils: isSocketAllowedBySecurityPolicy start : device null\nBluetoothClient I/BluetoothSocket: connect() for device 74C17D called by pid: 23141\nBluetoothClient W/BluetoothAdapter: getBluetoothService() called with no BluetoothManagerCallback\n</code></pre>\n<p>After searching on the site I managed to discover that the UUID I was using was wrong and I needed to use the device to get a list of supported UUIDs. The errors on the logcat have been cleared from above to below</p>\n<pre><code>BluetoothClient.BluetoothClient I/BluetoothAdapter: cancelDiscovery\nBluetoothClient.BluetoothClient I/BluetoothAdapter: cancelDiscovery = false\n</code></pre>\n<p>The code am using to connect to the discovered devices is below</p>\n<pre><code>[Activity(Label = &quot;@string/app_name&quot;, Theme = &quot;@style/AppTheme&quot;, MainLauncher = true)]\n    public class MainActivity : AppCompatActivity\n    {\n      protected override void OnCreate(Bundle savedInstanceState)\n        {\n            base.OnCreate(savedInstanceState); \n            //listview below holds the friendly names of the discovered devices\n            _deviceList = FindViewById&lt;ListView&gt;(Resource.Id.mylist);\n             //handle click when user taps on a bluetooth device name\n            _deviceList.ItemClick += (o, e) =&gt;\n            {\n                //initialize a nul bluetooth device\n                BluetoothDevice _mydevice=null;\n                //read the name of the device from the tapped item\n                string name = (string)_deviceList.GetItemAtPosition(e.Position);\n                //iterate through all our bluetooth devices and compare name\n                foreach (var device in _bluetoothDevices)\n                {\n                    if (device.Name == name)\n                    {\n                        //that is our device grab it and break out of the loop\n                        _mydevice = device;\n                        Log.Info(&quot;MainActivity&quot;, device.Name);\n                        break;\n                    }\n                }\n\n                if (_mydevice != null)\n                {\n                    //create a bluetooth socket using the\n                    try\n                    {\n                        //use a new thread to avoid app hanging from skipping too many frames\n\n                        BluetoothThread thread = new BluetoothThread(_mydevice,this);\n                        thread.Run();\n                        \n                    }\n                    catch (Exception m)\n                    {\n                        Toast.MakeText(this,m.Message,ToastLength.Short).Show();\n                    }\n                }\n                \n            };\n        }\n    }\n//this class is for multitasking to help the app process Bluetooth requests\n public class BluetoothThread : Thread\n        {\n            private BluetoothDevice dev;\n\n            private Context ctx;\n            //declare default ctor\n            public BluetoothThread()\n            {\n                \n            }\n            //declare the custom ctor and require context object for toasting to user \n            \n            public BluetoothThread(BluetoothDevice device,Context context)\n            {\n                dev = device;\n                ctx = context;\n            }\n            public override void Run()\n            {\n                //here you run attempt to connect to the bluetooth device using a new thread\n                try\n                {\n                    //calling this creates another thread for helping the app with multitaskinf\n                    Task.Run(() =&gt;\n                    {\n                           ParcelUuid[] parcelUuids = dev.GetUuids();\n                           BluetoothSocket socket = dev.CreateRfcommSocketToServiceRecord(UUID.FromString(parcelUuids[0].ToString()));\n                        socket.Connect();\n                    });\n                   \n                }\n                catch (Exception p)\n                {\n                 Toast.MakeText(ctx,p.Message,ToastLength.Short).Show();\n                }\n            }\n        }\n\n</code></pre>\n<p>I expected my app to request the remote device for a pairing request when I called <code>socket.Connect()</code> but nothing happens in my app and I get only the logcat information above, help me make this attempt to connect to a remote device start a pairing request Thank You.</p>\n"},{"tags":["java","processing","minimax"],"comments":[{"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"score":0,"creation_date":1654613287,"post_id":72532882,"comment_id":128129338,"body_markdown":"Likely missing a `;` right before this function.","body":"Likely missing a <code>;</code> right before this function."},{"owner":{"account_id":23940611,"reputation":3,"user_id":17933798,"display_name":"surya narayanan"},"score":0,"creation_date":1654615096,"post_id":72532882,"comment_id":128130112,"body_markdown":"no this is a separate tab","body":"no this is a separate tab"},{"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"score":0,"creation_date":1654616050,"post_id":72532882,"comment_id":128130527,"body_markdown":"The function itself is not the problem. The problem is a code before this function. Probably the end of another tab&#39;s code.","body":"The function itself is not the problem. The problem is a code before this function. Probably the end of another tab&#39;s code."},{"owner":{"account_id":16676893,"reputation":1695,"user_id":12053079,"display_name":"eligolf"},"score":0,"creation_date":1654616087,"post_id":72532882,"comment_id":128130544,"body_markdown":"What line do you get the error at? @Rabbid76 got it correctly, the error message tells you exactly what is wrong...","body":"What line do you get the error at? @Rabbid76 got it correctly, the error message tells you exactly what is wrong..."},{"owner":{"account_id":23940611,"reputation":3,"user_id":17933798,"display_name":"surya narayanan"},"score":0,"creation_date":1654658329,"post_id":72532882,"comment_id":128140803,"body_markdown":"I figured out the problem and now there is another problem","body":"I figured out the problem and now there is another problem"},{"owner":{"account_id":23940611,"reputation":3,"user_id":17933798,"display_name":"surya narayanan"},"score":0,"creation_date":1654658393,"post_id":72532882,"comment_id":128140812,"body_markdown":"In the checkers file, it shows I have made mistake by confusing active and static modes","body":"In the checkers file, it shows I have made mistake by confusing active and static modes"},{"owner":{"account_id":16676893,"reputation":1695,"user_id":12053079,"display_name":"eligolf"},"score":0,"creation_date":1654661573,"post_id":72532882,"comment_id":128141273,"body_markdown":"Open a new question if you have a new problem. And PLEASE at least try to bebug yourself before posting on SO.","body":"Open a new question if you have a new problem. And PLEASE at least try to bebug yourself before posting on SO."},{"owner":{"account_id":23940611,"reputation":3,"user_id":17933798,"display_name":"surya narayanan"},"score":0,"creation_date":1654664261,"post_id":72532882,"comment_id":128141718,"body_markdown":"Sorry thanks for the suggestion..not very good at debugging..tried to a certain extent but I ma terrible at it","body":"Sorry thanks for the suggestion..not very good at debugging..tried to a certain extent but I ma terrible at it"},{"owner":{"account_id":16676893,"reputation":1695,"user_id":12053079,"display_name":"eligolf"},"score":0,"creation_date":1654705345,"post_id":72532882,"comment_id":128157057,"body_markdown":"It is the most valuable skill. And when the error basically says what is wrong, then you should be able to find it. If you can&#39;t then I suggest you start with some easier programs to learn first","body":"It is the most valuable skill. And when the error basically says what is wrong, then you should be able to find it. If you can&#39;t then I suggest you start with some easier programs to learn first"}],"owner":{"account_id":23940611,"reputation":3,"user_id":17933798,"display_name":"surya narayanan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":605,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654617767,"creation_date":1654611791,"question_id":72532882,"body_markdown":"i am now trying checkers......And the function definition itself is showing a problem.\r\n\r\nI tried a bunch of stuff but nothing fixes that annoying underlined piece of code.\r\n\r\n\r\n    int minimax(String[][] arr, int alpha, int beta, int depth, Boolean isMaximising){ \r\n      String win = checkWin(arr);\r\n      if (win != &quot;&quot;) {\r\n        switch(win) {\r\n        case &quot;b&quot;:\r\n          return 1;\r\n          break;\r\n        case &quot;w&quot;:\r\n          return -1;\r\n          break;\r\n        case &quot;Tie&quot;:\r\n          return 0;\r\n          break;\r\n        }\r\n      } else if (depth == 0) {\r\n        return 1;\r\n      }\r\n      int bestScore;\r\n      if (isMaximising == true) {\r\n        bestScore = -3000;\r\n        for (int i = 0; i&lt; scl; i++) {\r\n          for (int j = 0; j&lt; scl; j++) {\r\n            if ((arr[i][j] == &quot;bp&quot;) || (arr[i][j] == &quot;bk&quot;)) {\r\n              ArrayList&lt;int[]&gt; t =  getLegalMoves(arr, i, j, arr[i][j]);\r\n              for (int m = 0; m&lt; t.size()-1; m++) {\r\n                int[] t1 = new int[3];\r\n                int[] t2 = new int[3];\r\n                t1 = t.get(m);\r\n                t2 = t.get(t.size()-1);\r\n                if (t2[2] == 0) {\r\n                  if ( t1[2] == 0) {\r\n                    if (t1[0] == 0) {\r\n                      arr[t1[0]][t1[1]] = arr[i][j][0]+&quot;k&quot;;\r\n                      arr[i][j] = &quot;&quot;;\r\n                    }\r\n                    int score = minimax(arr, alpha, beta, depth -1, false);\r\n                    arr[i][j] = arr[t1[0]][t1[1]][0]+&quot;p&quot;;\r\n                    arr[t1[0]][t1[1]] = &quot;&quot;;\r\n                    score = max(score, bestScore);\r\n                    alpha = max(score, alpha);\r\n                    if (beta &lt;= alpha) {\r\n                      break;\r\n                    }\r\n                  } else {\r\n                    if (t1[0] == 0) {\r\n                      arr[t1[0]][t1[1]] = arr[i][j][0]+&quot;k&quot;;\r\n                      arr[i][j] = &quot;&quot;;\r\n                    }\r\n                    String temp = arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2];\r\n                    arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2] = &quot;&quot;;\r\n                    int score = minimax(arr, alpha, beta, depth-1, false);\r\n                    arr[i][j] = arr[t1[0]][t1[1]][0]+&quot;p&quot;;\r\n                    arr[t1[0]][t1[1]] = &quot;&quot;;\r\n                    arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2] = temp;\r\n                    score = max(score, bestScore);\r\n                    alpha = max(score, alpha);\r\n                    if (beta &lt;= alpha) {\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        bestScore = 3000;\r\n        for (int i = 0; i&lt; scl; i++) {\r\n          for (int j = 0; j&lt; scl; j++) {\r\n            if ((arr[i][j] == &quot;wp&quot;) || (arr[i][j] == &quot;wk&quot;)) {\r\n              ArrayList&lt;int[]&gt; t =  getLegalMoves(arr, i, j, arr[i][j]);\r\n              for (int m = 0; m&lt; t.size()-1; m++) {\r\n                int[] t1 = new int[3];\r\n                int[] t2 = new int[3];\r\n                t1 = t.get(m);\r\n                t2 = t.get(t.size()-1);\r\n                if (t2[2] == 0) {\r\n                  if ( t1[2] == 0) {\r\n                    if (t1[0] == 0) {\r\n                      arr[t1[0]][t1[1]] = arr[i][j][0]+&quot;k&quot;;\r\n                      arr[i][j] = &quot;&quot;;\r\n                    }\r\n                    int score = minimax(arr, alpha, beta, depth-1, true);\r\n                    arr[i][j] = arr[t1[0]][t1[1]][0]+&quot;p&quot;;\r\n                    arr[t1[0]][t1[1]] = &quot;&quot;;\r\n                    score = min(score, bestScore);\r\n                    beta = min(score, alpha);\r\n                    if (beta &lt;= alpha) {\r\n                      break;\r\n                    }\r\n                  } else {\r\n                    if (t1[0] == 0) {\r\n                      arr[t1[0]][t1[1]] = arr[i][j][0]+&quot;k&quot;;\r\n                      arr[i][j] = &quot;&quot;;\r\n                    }\r\n                    String temp = arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2];\r\n                    arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2] = &quot;&quot;;\r\n                    int score = minimax(arr, -3000, 3000, 6, true);\r\n                    arr[i][j] = arr[t1[0]][t1[1]][0]+&quot;p&quot;;\r\n                    arr[t1[0]][t1[1]] = &quot;&quot;;\r\n                    arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2] = temp;\r\n                    score = min(score, bestScore);\r\n                    beta = min(score, alpha);\r\n                    if (beta &lt;= alpha) {\r\n                      break;\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return bestScore;\r\n    }\r\n\r\n\r\nApparently something is missing in the first line. \r\n\r\n    Syntax Error - Missing name or ; near ‘int minimax(’?\r\n\r\nthis is the error it is showing.\r\n\r\n\r\n**Edit**\r\n\r\n\r\nFILE: checkers:\r\n\r\n    float w= 600;\r\n    float h= 600;\r\n    int scl = 8;\r\n    String[][] board = new String[scl][scl];\r\n    Boolean selectMode = false;\r\n    ArrayList&lt;int[]&gt; l;\r\n    \r\n    \r\n    void mousePressed() {\r\n      for (int i = 0; i&lt; scl; i++) {\r\n        for (int j = 0; j&lt; scl; j++) {\r\n          if (mouseX &gt;= w/scl*j+50 &amp; mouseX &lt; w/scl*j+50 + w/scl) {\r\n            if (mouseY &gt;= h/scl*i+100 &amp; mouseY &lt; h/scl*i+100 + h/scl) {\r\n              if (board[i][j] == &quot;bp&quot;) {\r\n                selectMode = true;\r\n                l = getLegalMoves(board, i, j, board[i][j]);\r\n                int[] temp = new int[3];\r\n                temp = l.get(l.size()-1);\r\n                if (temp[2] == 1) {\r\n                  selectMode = false;\r\n                }\r\n              } else if (board[i][j] == &quot;&quot;) {\r\n                if (selectMode == true) {\r\n                  for (int m = 0; m&lt; l.size()-1; m++) {\r\n                    int[] temp = new int[3];\r\n                    temp = l.get(m);\r\n                    int[] temp1 = new int[3];\r\n                    temp1 = l.get(l.size()-1);\r\n                    if ((i == temp[0]) &amp; (j == temp[1])) {\r\n                      if (board[i][j].indexOf(&#39;p&#39;) != -1) {\r\n                        if (temp[2] == 0) {\r\n                          board[i][j] = board[temp1[0]][temp1[1]];\r\n                          board[temp1[0]][temp1[1]] = &quot;&quot;;\r\n                          selectMode = false;\r\n                        } else {\r\n                          if (i &gt; temp1[0]) {\r\n                            if ( j &gt; temp1[1]) {\r\n                              board[i][j] = board[temp1[0]][temp1[1]];\r\n                              board[temp1[0]][temp1[1]] = &quot;&quot;;\r\n                              board[temp1[0]+1][temp1[1]+1] = &quot;&quot;;\r\n                              selectMode = false;\r\n                            } else {\r\n                              board[i][j] = board[temp1[0]][temp1[1]];\r\n                              board[temp1[0]][temp1[1]] = &quot;&quot;;\r\n                              board[temp1[0]+1][temp1[1]-1] = &quot;&quot;;\r\n                              selectMode = false;\r\n                            }\r\n                          } else {\r\n                            if ( j &gt; temp1[1]) {\r\n                              board[i][j] = board[temp1[0]][temp1[1]];\r\n                              board[temp1[0]][temp1[1]] = &quot;&quot;;\r\n                              board[temp1[0]-1][temp1[1]+1] = &quot;&quot;;\r\n                              selectMode = false;\r\n                            } else {\r\n                              board[i][j] = board[temp1[0]][temp1[1]];\r\n                              board[temp1[0]][temp1[1]] = &quot;&quot;;\r\n                              board[temp1[0]-1][temp1[1]-1] = &quot;&quot;;\r\n                              selectMode = false;\r\n                            }\r\n                          }\r\n                        }\r\n                      } else {\r\n                        if (temp[2] == 0) {\r\n                          board[i][j] = board[temp1[0]][temp1[1]];\r\n                          board[temp1[0]][temp1[1]] = &quot;&quot;;\r\n                          selectMode = false;\r\n                        } else {\r\n                          if (i &gt; temp1[0]) {\r\n                            if ( j &gt; temp1[1]) {\r\n                              board[i][j] = board[temp1[0]][temp1[1]];\r\n                              board[temp1[0]][temp1[1]] = &quot;&quot;;\r\n                              board[temp1[0]+1][temp1[1]+1] = &quot;&quot;;\r\n                              selectMode = false;\r\n                            } else {\r\n                              board[i][j] = board[temp1[0]][temp1[1]];\r\n                              board[temp1[0]][temp1[1]] = &quot;&quot;;\r\n                              board[temp1[0]+1][temp1[1]-1] = &quot;&quot;;\r\n                              selectMode = false;\r\n                            }\r\n                          } else {\r\n                            if ( j &gt; temp1[1]) {\r\n                              board[i][j] = board[temp1[0]][temp1[1]];\r\n                              board[temp1[0]][temp1[1]] = &quot;&quot;;\r\n                              board[temp1[0]-1][temp1[1]+1] = &quot;&quot;;\r\n                              selectMode = false;\r\n                            } else {\r\n                              board[i][j] = board[temp1[0]][temp1[1]];\r\n                              board[temp1[0]][temp1[1]] = &quot;&quot;;\r\n                              board[temp1[0]-1][temp1[1]-1] = &quot;&quot;;\r\n                              selectMode = false;\r\n                            }\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                  playMove(board);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nFILE:checkForWin\r\n\r\n    String checkWin(String[][] arr) {\r\n      String winner = &quot;&quot;;\r\n      int cB = 0;\r\n      int cW = 0;\r\n      for (int i = 0; i&lt; scl; i++) {\r\n        for (int j = 0; j&lt; scl; j++) {\r\n          if ((arr[i][j] == &quot;bp&quot;) || (arr[i][j] == &quot;bk&quot;)){\r\n            cB++;\r\n          }\r\n          if ((arr[i][j] == &quot;wp&quot;) || (arr[i][j] == &quot;wk&quot;)){\r\n            cW++;\r\n          }\r\n        }\r\n      }\r\n      if (cB == cW) {\r\n        int x = 0;\r\n        for (int i = 0; i&lt; scl; i++) {\r\n          for (int j = 0; j&lt; scl; j++) {\r\n            if (arr[i][j] != &quot;&quot;) {\r\n              x++;\r\n            }\r\n          }\r\n        }\r\n        if (x*2 == cB) {\r\n          winner = &quot;Tie&quot;;\r\n        }\r\n      } else {\r\n        if (cB == 0) {\r\n          winner = &quot;b&quot;;\r\n        } else if (cW == 0) {\r\n          winner = &quot;w&quot;;\r\n        }\r\n      }\r\n      return winner;\r\n    }\r\n\r\n\r\nFILE: minimaxAlgorithm\r\n\r\nfirst function is already there in the beginning\r\n\r\nsecond function\r\n\r\n    void playMove(String[][] arr) {\r\n      int bestScore = 3000;\r\n      int[] bestMove = new int[5];\r\n      for (int i = 0; i&lt; scl; i++) {\r\n        for (int j = 0; j&lt; scl; j++) {\r\n          if ((arr[i][j] == &quot;wp&quot;) || (arr[i][j] == &quot;wk&quot;)) {\r\n            ArrayList&lt;int[]&gt; t =  getLegalMoves(arr, i, j, arr[i][j]);\r\n            for (int m = 0; m&lt; t.size()-1; m++) {\r\n              int[] t1 = new int[3];\r\n              int[] t2 = new int[3];\r\n              t1 = t.get(m);\r\n              t2 = t.get(t.size()-1);\r\n              if (t2[2] == 0) {\r\n                if ( t1[2] == 0) {\r\n                  if (t1[0] == 0) {\r\n                    arr[t1[0]][t1[1]] = arr[i][j][0]+&quot;k&quot;;\r\n                    arr[i][j] = &quot;&quot;;\r\n                  }\r\n                  int score = 0;// minimax to be called\r\n                  arr[i][j] = arr[t1[0]][t1[1]][0]+&quot;p&quot;;\r\n                  arr[t1[0]][t1[1]] = &quot;&quot;;\r\n                  if (score &lt; bestScore) {\r\n                    score = bestScore;\r\n                    bestMove[0] = i;\r\n                    bestMove[1] = j;\r\n                    bestMove[2] = t1[0];\r\n                    bestMove[3] = t1[1];\r\n                    bestMove[4] = 0;\r\n                  }\r\n                } else {\r\n                  arr[t1[0]][t1[1]] = arr[i][j];\r\n                  arr[i][j] = &quot;&quot;;\r\n                  String temp = arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2];\r\n                  arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2] = &quot;&quot;;\r\n                  int score = minimax(arr, alpha, beta, depth-1, true);\r\n                  arr[i][j] = arr[t1[0]][t1[1]];\r\n                  arr[t1[0]][t1[1]] = &quot;&quot;;\r\n                  arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2] = temp;\r\n                  if (score &lt; bestScore) {\r\n                    score = bestScore;\r\n                    bestMove[0] = i;\r\n                    bestMove[1] = j;\r\n                    bestMove[2] = t1[0];\r\n                    bestMove[3] = t1[1];\r\n                    bestMove[4] = 1;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nFILE: drawing:\r\n\r\n\r\n    void draw() {\r\n      background(155, 155, 155);\r\n      strokeWeight(1);\r\n      for (int i = 0; i&lt; scl; i++) {\r\n        for (int j = 0; j&lt; scl; j++) {\r\n          if ((i+j) % 2 == 0) {\r\n            fill(210, 210, 210);\r\n          } else {\r\n            fill(181, 141, 110);\r\n          }\r\n          rect(w/scl*j+50, h/scl*i+100, w/scl, h/scl);\r\n          ellipseMode(CENTER);\r\n          if ( board[i][j] == &quot;bp&quot; ) {\r\n            fill(0);\r\n            stroke(255);\r\n            strokeWeight(1);\r\n          } else if ( board[i][j] == &quot;wp&quot; ) {\r\n            fill(255);\r\n            stroke(0);\r\n            strokeWeight(1);\r\n          }else if(board[i][j] == &quot;bk&quot;){\r\n            fill(0);\r\n            stroke(255);\r\n            strokeWeight(4);\r\n          } else if ( board[i][j] == &quot;wk&quot; ) {\r\n            fill(255);\r\n            stroke(0);\r\n            strokeWeight(4);\r\n          if ( board[i][j] != &quot;&quot; ) {\r\n            ellipse(w/scl*j+(w/(2*scl)+50), h/scl*i+(h/(2*scl)+100), w/(2*scl), h/(2*scl));\r\n          }\r\n        }\r\n      }\r\n      if (selectMode == true) {\r\n        for (int j = 0; j&lt; l.size()-1; j++) {\r\n          int[] temp = new int[3];\r\n          temp = l.get(j);\r\n          fill(256/2);\r\n          ellipse(w/scl*temp[1]+(w/(2*scl)+50), h/scl*temp[0]+(h/(2*scl)+100), w/(2*scl), h/(2*scl));\r\n        }\r\n      }\r\n    }\r\n\r\nFILE: settingUp: \r\n\r\n    void setup() {\r\n      size(700, 800);\r\n      for (int i = 0; i&lt; scl; i++) {\r\n        for (int j = 0; j&lt; scl; j++) {\r\n          if (i == 0) {\r\n            if (j % 2 == 1) {\r\n              board[i][j] = &quot;wp&quot;;\r\n            } else {\r\n              board[i][j] = &quot;&quot;;\r\n            }\r\n          } else if (i == 1) {\r\n            if (j % 2 == 0) {\r\n              board[i][j] = &quot;wp&quot;;\r\n            } else {\r\n              board[i][j] = &quot;&quot;;\r\n            }\r\n          } else if (i == 6) {\r\n            if (j % 2 == 1) {\r\n              board[i][j] = &quot;bp&quot;;\r\n            } else {\r\n              board[i][j] = &quot;&quot;;\r\n            }\r\n          } else if (i == 7) {\r\n            if (j % 2 == 0) {\r\n              board[i][j] = &quot;bp&quot;;\r\n            } else {\r\n              board[i][j] = &quot;&quot;;\r\n            }\r\n          } else {\r\n            board[i][j] = &quot;&quot;;\r\n            board[5][2] = &quot;wp&quot;;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nfinally, \r\nFILE: moves: \r\n\r\n    ArrayList&lt;int[]&gt; getLegalMoves(String[][] arr, int indexI, int indexJ, String piece) {\r\n      ArrayList&lt;int[]&gt; temp =  getAllowedMoves(arr, indexI, indexJ, 0);\r\n      int forces = 0;\r\n      for (int i = 0; i&lt; scl; i++) {\r\n        for (int j = 0; j&lt; scl; j++) {\r\n          if (arr[i][j] == piece) {\r\n            ArrayList&lt;int[]&gt; t =  getAllowedMoves(arr, i, j, 0);\r\n            for (int m = 0; m&lt; t.size()-1; m++) {\r\n              int[] t1 = new int[3];\r\n              t1 = t.get(m);\r\n              if (t1[2] == 1) {\r\n                forces++;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      Boolean flag = true;\r\n      if (forces != 0) {\r\n        for (int m = 0; m&lt; temp.size()-1; m++) {\r\n          int[] t2 = new int[3];\r\n          t2 = temp.get(m);\r\n          if (t2[2] == 1) {\r\n            flag = false;\r\n          }\r\n        }\r\n      } else {\r\n        flag = false;\r\n      }\r\n      if (flag != true) {\r\n        return getAllowedMoves(arr, indexI, indexJ, 0);\r\n      } else {\r\n        return getAllowedMoves(arr, indexI, indexJ, 1);\r\n      }\r\n    }\r\n    \r\n    \r\n    ArrayList&lt;int[]&gt; getAllowedMoves(String[][] arr, int indexI, int indexJ, int x) {\r\n      ArrayList&lt;int[]&gt; border = new ArrayList&lt;int[]&gt;(2);\r\n      if (arr[indexI][indexJ] != &quot;&quot;) {\r\n        if (arr[indexI][indexJ] == &quot;bp&quot;) {\r\n          if (indexI &gt; 0) {\r\n            if (indexJ &gt; 0) {\r\n              if ((arr[indexI-1][indexJ-1] == &quot;&quot;)) {\r\n                int [] temp = new int[3];\r\n                temp[0] = indexI-1;\r\n                temp[1] = indexJ-1;\r\n                temp[2] = 0;\r\n                border.add(temp);\r\n              } else {\r\n                if ((arr[indexI-1][indexJ-1] == &quot;wp&quot;) || (arr[indexI-1][indexJ-1] == &quot;wk&quot;)){\r\n                  if (arr[indexI-2][indexJ-2] == &quot;&quot;) {\r\n                    int [] temp = new int[3];\r\n                    temp[0] = indexI-2;\r\n                    temp[1] = indexJ-2;\r\n                    temp[2] = 1;\r\n                    border.add(temp);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            if (indexJ &lt; 7) {\r\n              if (arr[indexI-1][indexJ+1] == &quot;&quot;) {\r\n                int [] temp = new int[3];\r\n                temp[0] = indexI-1;\r\n                temp[1] = indexJ+1;\r\n                temp[2] = 0;\r\n                border.add(temp);\r\n              } else {\r\n                if ((arr[indexI-1][indexJ+1] == &quot;wp&quot;) || (arr[indexI-1][indexJ+1] == &quot;wk&quot;)) {\r\n                  if (arr[indexI-2][indexJ+2] == &quot;&quot;) {\r\n                    int [] temp = new int[3];\r\n                    temp[0] = indexI-2;\r\n                    temp[1] = indexJ+2;\r\n                    temp[2] = 1;\r\n                    border.add(temp);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (arr[indexI][indexJ] == &quot;wp&quot;) {\r\n          if (indexI &lt; 7) {\r\n            if (indexJ &lt; 7) {\r\n              if ((arr[indexI+1][indexJ+1] == &quot;&quot;)) {\r\n                int [] temp = new int[3];\r\n                temp[0] = indexI+1;\r\n                temp[1] = indexJ+1;\r\n                temp[2] = 0;\r\n                border.add(temp);\r\n              } else {\r\n                if ((arr[indexI+1][indexJ+1] == &quot;bp&quot;) || (arr[indexI+1][indexJ+1] == &quot;bk&quot;)) {\r\n                  if (arr[indexI+2][indexJ+2] == &quot;&quot;) {\r\n                    int [] temp = new int[3];\r\n                    temp[0] = indexI+2;\r\n                    temp[1] = indexJ+2;\r\n                    temp[2] = 1;\r\n                    border.add(temp);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            if (indexJ &gt; 0) {\r\n              if (arr[indexI+1][indexJ-1] == &quot;&quot;) {\r\n                int [] temp = new int[3];\r\n                temp[0] = indexI+1;\r\n                temp[1] = indexJ-1;\r\n                temp[2] = 0;\r\n                border.add(temp);\r\n              } else {\r\n                if ((arr[indexI+1][indexJ-1] == &quot;bp&quot;) || (arr[indexI+1][indexJ-1] == &quot;bk&quot;)) {\r\n                  if (arr[indexI+2][indexJ-2] == &quot;&quot;) {\r\n                    int [] temp = new int[3];\r\n                    temp[0] = indexI+2;\r\n                    temp[1] = indexJ-2;\r\n                    temp[2] = 1;\r\n                    border.add(temp);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        ///kings\r\n        if (arr[indexI][indexJ] == &quot;bk&quot;) {\r\n          if (indexI &gt; 0) {\r\n            if (indexJ &gt; 0) {\r\n              if ((arr[indexI-1][indexJ-1] == &quot;&quot;)) {\r\n                int [] temp = new int[3];\r\n                temp[0] = indexI-1;\r\n                temp[1] = indexJ-1;\r\n                temp[2] = 0;\r\n                border.add(temp);\r\n              } else {\r\n                if ((arr[indexI-1][indexJ-1] == &quot;wp&quot;) || (arr[indexI-1][indexJ-1] == &quot;wk&quot;)){\r\n                  if (arr[indexI-2][indexJ-2] == &quot;&quot;) {\r\n                    int [] temp = new int[3];\r\n                    temp[0] = indexI-2;\r\n                    temp[1] = indexJ-2;\r\n                    temp[2] = 1;\r\n                    border.add(temp);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            if (indexJ &lt; 7) {\r\n              if (arr[indexI-1][indexJ+1] == &quot;&quot;) {\r\n                int [] temp = new int[3];\r\n                temp[0] = indexI-1;\r\n                temp[1] = indexJ+1;\r\n                temp[2] = 0;\r\n                border.add(temp);\r\n              } else {\r\n                if ((arr[indexI-1][indexJ+1] == &quot;wp&quot;) || (arr[indexI-1][indexJ+1] == &quot;wk&quot;)) {\r\n                  if (arr[indexI-2][indexJ+2] == &quot;&quot;) {\r\n                    int [] temp = new int[3];\r\n                    temp[0] = indexI-2;\r\n                    temp[1] = indexJ+2;\r\n                    temp[2] = 1;\r\n                    border.add(temp);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            if ((arr[indexI+1][indexJ-1] == &quot;&quot;)) {\r\n                int [] temp = new int[3];\r\n                temp[0] = indexI+1;\r\n                temp[1] = indexJ-1;\r\n                temp[2] = 0;\r\n                border.add(temp);\r\n              } else {\r\n                if ((arr[indexI+1][indexJ-1] == &quot;wp&quot;) || (arr[indexI+1][indexJ-1] == &quot;wk&quot;)){\r\n                  if (arr[indexI+2][indexJ-2] == &quot;&quot;) {\r\n                    int [] temp = new int[3];\r\n                    temp[0] = indexI+2;\r\n                    temp[1] = indexJ-2;\r\n                    temp[2] = 1;\r\n                    border.add(temp);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            if (indexJ &lt; 7) {\r\n              if (arr[indexI+1][indexJ+1] == &quot;&quot;) {\r\n                int [] temp = new int[3];\r\n                temp[0] = indexI+1;\r\n                temp[1] = indexJ+1;\r\n                temp[2] = 0;\r\n                border.add(temp);\r\n              } else {\r\n                if ((arr[indexI+1][indexJ+1] == &quot;wp&quot;) || (arr[indexI+1][indexJ+1] == &quot;wk&quot;)) {\r\n                  if (arr[indexI+2][indexJ+2] == &quot;&quot;) {\r\n                    int [] temp = new int[3];\r\n                    temp[0] = indexI+2;\r\n                    temp[1] = indexJ+2;\r\n                    temp[2] = 1;\r\n                    border.add(temp);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if (arr[indexI][indexJ] == &quot;wk&quot;) {\r\n          if (indexI &lt; 7) {\r\n            if (indexJ &lt; 7) {\r\n              if ((arr[indexI-1][indexJ+1] == &quot;&quot;)) {\r\n                int [] temp = new int[3];\r\n                temp[0] = indexI-1;\r\n                temp[1] = indexJ+1;\r\n                temp[2] = 0;\r\n                border.add(temp);\r\n              } else {\r\n                if ((arr[indexI-1][indexJ+1] == &quot;bp&quot;) || (arr[indexI-1][indexJ+1] == &quot;bk&quot;)) {\r\n                  if (arr[indexI-2][indexJ+2] == &quot;&quot;) {\r\n                    int [] temp = new int[3];\r\n                    temp[0] = indexI-2;\r\n                    temp[1] = indexJ+2;\r\n                    temp[2] = 1;\r\n                    border.add(temp);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            if (indexJ &gt; 0) {\r\n              if (arr[indexI+1][indexJ-1] == &quot;&quot;) {\r\n                int [] temp = new int[3];\r\n                temp[0] = indexI-1;\r\n                temp[1] = indexJ-1;\r\n                temp[2] = 0;\r\n                border.add(temp);\r\n              } else {\r\n                if ((arr[indexI-1][indexJ-1] == &quot;bp&quot;) || (arr[indexI-1][indexJ-1] == &quot;bk&quot;)) {\r\n                  if (arr[indexI-2][indexJ-2] == &quot;&quot;) {\r\n                    int [] temp = new int[3];\r\n                    temp[0] = indexI-2;\r\n                    temp[1] = indexJ-2;\r\n                    temp[2] = 1;\r\n                    border.add(temp);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      int [] temp1 = new int[3];\r\n      temp1[0] = indexI;\r\n      temp1[1] = indexJ;\r\n      temp1[2] = x;\r\n      border.add(temp1);\r\n      Boolean flag = false;\r\n      for (int i = 0; i&lt;border.size()-1; i++) {\r\n        int[] temp = new int[3];\r\n        temp = border.get(i);\r\n        if (temp[2] == 1) {\r\n          flag = true;\r\n        }\r\n      }\r\n      if (flag == true) {\r\n        for (int i = 0; i&lt;border.size()-1; i++) {\r\n          int[] temp = new int[3];\r\n          temp = border.get(i);\r\n          if (temp[2] == 0) {\r\n            border.remove(i);\r\n          }\r\n        }\r\n      }\r\n      return border;\r\n    }\r\n\r\n\r\n\r\nforgive me for my terrible lack of organisation...\r\n","title":"Processing function is not working. It says &#39;Syntax Error - Missing name or ; near ‘int minimax(’?&#39;","body":"<p>i am now trying checkers......And the function definition itself is showing a problem.</p>\n<p>I tried a bunch of stuff but nothing fixes that annoying underlined piece of code.</p>\n<pre><code>int minimax(String[][] arr, int alpha, int beta, int depth, Boolean isMaximising){ \n  String win = checkWin(arr);\n  if (win != &quot;&quot;) {\n    switch(win) {\n    case &quot;b&quot;:\n      return 1;\n      break;\n    case &quot;w&quot;:\n      return -1;\n      break;\n    case &quot;Tie&quot;:\n      return 0;\n      break;\n    }\n  } else if (depth == 0) {\n    return 1;\n  }\n  int bestScore;\n  if (isMaximising == true) {\n    bestScore = -3000;\n    for (int i = 0; i&lt; scl; i++) {\n      for (int j = 0; j&lt; scl; j++) {\n        if ((arr[i][j] == &quot;bp&quot;) || (arr[i][j] == &quot;bk&quot;)) {\n          ArrayList&lt;int[]&gt; t =  getLegalMoves(arr, i, j, arr[i][j]);\n          for (int m = 0; m&lt; t.size()-1; m++) {\n            int[] t1 = new int[3];\n            int[] t2 = new int[3];\n            t1 = t.get(m);\n            t2 = t.get(t.size()-1);\n            if (t2[2] == 0) {\n              if ( t1[2] == 0) {\n                if (t1[0] == 0) {\n                  arr[t1[0]][t1[1]] = arr[i][j][0]+&quot;k&quot;;\n                  arr[i][j] = &quot;&quot;;\n                }\n                int score = minimax(arr, alpha, beta, depth -1, false);\n                arr[i][j] = arr[t1[0]][t1[1]][0]+&quot;p&quot;;\n                arr[t1[0]][t1[1]] = &quot;&quot;;\n                score = max(score, bestScore);\n                alpha = max(score, alpha);\n                if (beta &lt;= alpha) {\n                  break;\n                }\n              } else {\n                if (t1[0] == 0) {\n                  arr[t1[0]][t1[1]] = arr[i][j][0]+&quot;k&quot;;\n                  arr[i][j] = &quot;&quot;;\n                }\n                String temp = arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2];\n                arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2] = &quot;&quot;;\n                int score = minimax(arr, alpha, beta, depth-1, false);\n                arr[i][j] = arr[t1[0]][t1[1]][0]+&quot;p&quot;;\n                arr[t1[0]][t1[1]] = &quot;&quot;;\n                arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2] = temp;\n                score = max(score, bestScore);\n                alpha = max(score, alpha);\n                if (beta &lt;= alpha) {\n                  break;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  } else {\n    bestScore = 3000;\n    for (int i = 0; i&lt; scl; i++) {\n      for (int j = 0; j&lt; scl; j++) {\n        if ((arr[i][j] == &quot;wp&quot;) || (arr[i][j] == &quot;wk&quot;)) {\n          ArrayList&lt;int[]&gt; t =  getLegalMoves(arr, i, j, arr[i][j]);\n          for (int m = 0; m&lt; t.size()-1; m++) {\n            int[] t1 = new int[3];\n            int[] t2 = new int[3];\n            t1 = t.get(m);\n            t2 = t.get(t.size()-1);\n            if (t2[2] == 0) {\n              if ( t1[2] == 0) {\n                if (t1[0] == 0) {\n                  arr[t1[0]][t1[1]] = arr[i][j][0]+&quot;k&quot;;\n                  arr[i][j] = &quot;&quot;;\n                }\n                int score = minimax(arr, alpha, beta, depth-1, true);\n                arr[i][j] = arr[t1[0]][t1[1]][0]+&quot;p&quot;;\n                arr[t1[0]][t1[1]] = &quot;&quot;;\n                score = min(score, bestScore);\n                beta = min(score, alpha);\n                if (beta &lt;= alpha) {\n                  break;\n                }\n              } else {\n                if (t1[0] == 0) {\n                  arr[t1[0]][t1[1]] = arr[i][j][0]+&quot;k&quot;;\n                  arr[i][j] = &quot;&quot;;\n                }\n                String temp = arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2];\n                arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2] = &quot;&quot;;\n                int score = minimax(arr, -3000, 3000, 6, true);\n                arr[i][j] = arr[t1[0]][t1[1]][0]+&quot;p&quot;;\n                arr[t1[0]][t1[1]] = &quot;&quot;;\n                arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2] = temp;\n                score = min(score, bestScore);\n                beta = min(score, alpha);\n                if (beta &lt;= alpha) {\n                  break;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  return bestScore;\n}\n</code></pre>\n<p>Apparently something is missing in the first line.</p>\n<pre><code>Syntax Error - Missing name or ; near ‘int minimax(’?\n</code></pre>\n<p>this is the error it is showing.</p>\n<p><strong>Edit</strong></p>\n<p>FILE: checkers:</p>\n<pre><code>float w= 600;\nfloat h= 600;\nint scl = 8;\nString[][] board = new String[scl][scl];\nBoolean selectMode = false;\nArrayList&lt;int[]&gt; l;\n\n\nvoid mousePressed() {\n  for (int i = 0; i&lt; scl; i++) {\n    for (int j = 0; j&lt; scl; j++) {\n      if (mouseX &gt;= w/scl*j+50 &amp; mouseX &lt; w/scl*j+50 + w/scl) {\n        if (mouseY &gt;= h/scl*i+100 &amp; mouseY &lt; h/scl*i+100 + h/scl) {\n          if (board[i][j] == &quot;bp&quot;) {\n            selectMode = true;\n            l = getLegalMoves(board, i, j, board[i][j]);\n            int[] temp = new int[3];\n            temp = l.get(l.size()-1);\n            if (temp[2] == 1) {\n              selectMode = false;\n            }\n          } else if (board[i][j] == &quot;&quot;) {\n            if (selectMode == true) {\n              for (int m = 0; m&lt; l.size()-1; m++) {\n                int[] temp = new int[3];\n                temp = l.get(m);\n                int[] temp1 = new int[3];\n                temp1 = l.get(l.size()-1);\n                if ((i == temp[0]) &amp; (j == temp[1])) {\n                  if (board[i][j].indexOf('p') != -1) {\n                    if (temp[2] == 0) {\n                      board[i][j] = board[temp1[0]][temp1[1]];\n                      board[temp1[0]][temp1[1]] = &quot;&quot;;\n                      selectMode = false;\n                    } else {\n                      if (i &gt; temp1[0]) {\n                        if ( j &gt; temp1[1]) {\n                          board[i][j] = board[temp1[0]][temp1[1]];\n                          board[temp1[0]][temp1[1]] = &quot;&quot;;\n                          board[temp1[0]+1][temp1[1]+1] = &quot;&quot;;\n                          selectMode = false;\n                        } else {\n                          board[i][j] = board[temp1[0]][temp1[1]];\n                          board[temp1[0]][temp1[1]] = &quot;&quot;;\n                          board[temp1[0]+1][temp1[1]-1] = &quot;&quot;;\n                          selectMode = false;\n                        }\n                      } else {\n                        if ( j &gt; temp1[1]) {\n                          board[i][j] = board[temp1[0]][temp1[1]];\n                          board[temp1[0]][temp1[1]] = &quot;&quot;;\n                          board[temp1[0]-1][temp1[1]+1] = &quot;&quot;;\n                          selectMode = false;\n                        } else {\n                          board[i][j] = board[temp1[0]][temp1[1]];\n                          board[temp1[0]][temp1[1]] = &quot;&quot;;\n                          board[temp1[0]-1][temp1[1]-1] = &quot;&quot;;\n                          selectMode = false;\n                        }\n                      }\n                    }\n                  } else {\n                    if (temp[2] == 0) {\n                      board[i][j] = board[temp1[0]][temp1[1]];\n                      board[temp1[0]][temp1[1]] = &quot;&quot;;\n                      selectMode = false;\n                    } else {\n                      if (i &gt; temp1[0]) {\n                        if ( j &gt; temp1[1]) {\n                          board[i][j] = board[temp1[0]][temp1[1]];\n                          board[temp1[0]][temp1[1]] = &quot;&quot;;\n                          board[temp1[0]+1][temp1[1]+1] = &quot;&quot;;\n                          selectMode = false;\n                        } else {\n                          board[i][j] = board[temp1[0]][temp1[1]];\n                          board[temp1[0]][temp1[1]] = &quot;&quot;;\n                          board[temp1[0]+1][temp1[1]-1] = &quot;&quot;;\n                          selectMode = false;\n                        }\n                      } else {\n                        if ( j &gt; temp1[1]) {\n                          board[i][j] = board[temp1[0]][temp1[1]];\n                          board[temp1[0]][temp1[1]] = &quot;&quot;;\n                          board[temp1[0]-1][temp1[1]+1] = &quot;&quot;;\n                          selectMode = false;\n                        } else {\n                          board[i][j] = board[temp1[0]][temp1[1]];\n                          board[temp1[0]][temp1[1]] = &quot;&quot;;\n                          board[temp1[0]-1][temp1[1]-1] = &quot;&quot;;\n                          selectMode = false;\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n              playMove(board);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>FILE:checkForWin</p>\n<pre><code>String checkWin(String[][] arr) {\n  String winner = &quot;&quot;;\n  int cB = 0;\n  int cW = 0;\n  for (int i = 0; i&lt; scl; i++) {\n    for (int j = 0; j&lt; scl; j++) {\n      if ((arr[i][j] == &quot;bp&quot;) || (arr[i][j] == &quot;bk&quot;)){\n        cB++;\n      }\n      if ((arr[i][j] == &quot;wp&quot;) || (arr[i][j] == &quot;wk&quot;)){\n        cW++;\n      }\n    }\n  }\n  if (cB == cW) {\n    int x = 0;\n    for (int i = 0; i&lt; scl; i++) {\n      for (int j = 0; j&lt; scl; j++) {\n        if (arr[i][j] != &quot;&quot;) {\n          x++;\n        }\n      }\n    }\n    if (x*2 == cB) {\n      winner = &quot;Tie&quot;;\n    }\n  } else {\n    if (cB == 0) {\n      winner = &quot;b&quot;;\n    } else if (cW == 0) {\n      winner = &quot;w&quot;;\n    }\n  }\n  return winner;\n}\n</code></pre>\n<p>FILE: minimaxAlgorithm</p>\n<p>first function is already there in the beginning</p>\n<p>second function</p>\n<pre><code>void playMove(String[][] arr) {\n  int bestScore = 3000;\n  int[] bestMove = new int[5];\n  for (int i = 0; i&lt; scl; i++) {\n    for (int j = 0; j&lt; scl; j++) {\n      if ((arr[i][j] == &quot;wp&quot;) || (arr[i][j] == &quot;wk&quot;)) {\n        ArrayList&lt;int[]&gt; t =  getLegalMoves(arr, i, j, arr[i][j]);\n        for (int m = 0; m&lt; t.size()-1; m++) {\n          int[] t1 = new int[3];\n          int[] t2 = new int[3];\n          t1 = t.get(m);\n          t2 = t.get(t.size()-1);\n          if (t2[2] == 0) {\n            if ( t1[2] == 0) {\n              if (t1[0] == 0) {\n                arr[t1[0]][t1[1]] = arr[i][j][0]+&quot;k&quot;;\n                arr[i][j] = &quot;&quot;;\n              }\n              int score = 0;// minimax to be called\n              arr[i][j] = arr[t1[0]][t1[1]][0]+&quot;p&quot;;\n              arr[t1[0]][t1[1]] = &quot;&quot;;\n              if (score &lt; bestScore) {\n                score = bestScore;\n                bestMove[0] = i;\n                bestMove[1] = j;\n                bestMove[2] = t1[0];\n                bestMove[3] = t1[1];\n                bestMove[4] = 0;\n              }\n            } else {\n              arr[t1[0]][t1[1]] = arr[i][j];\n              arr[i][j] = &quot;&quot;;\n              String temp = arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2];\n              arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2] = &quot;&quot;;\n              int score = minimax(arr, alpha, beta, depth-1, true);\n              arr[i][j] = arr[t1[0]][t1[1]];\n              arr[t1[0]][t1[1]] = &quot;&quot;;\n              arr[i+(t1[0]-i)/2][j+ (t1[1]-j)/2] = temp;\n              if (score &lt; bestScore) {\n                score = bestScore;\n                bestMove[0] = i;\n                bestMove[1] = j;\n                bestMove[2] = t1[0];\n                bestMove[3] = t1[1];\n                bestMove[4] = 1;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>FILE: drawing:</p>\n<pre><code>void draw() {\n  background(155, 155, 155);\n  strokeWeight(1);\n  for (int i = 0; i&lt; scl; i++) {\n    for (int j = 0; j&lt; scl; j++) {\n      if ((i+j) % 2 == 0) {\n        fill(210, 210, 210);\n      } else {\n        fill(181, 141, 110);\n      }\n      rect(w/scl*j+50, h/scl*i+100, w/scl, h/scl);\n      ellipseMode(CENTER);\n      if ( board[i][j] == &quot;bp&quot; ) {\n        fill(0);\n        stroke(255);\n        strokeWeight(1);\n      } else if ( board[i][j] == &quot;wp&quot; ) {\n        fill(255);\n        stroke(0);\n        strokeWeight(1);\n      }else if(board[i][j] == &quot;bk&quot;){\n        fill(0);\n        stroke(255);\n        strokeWeight(4);\n      } else if ( board[i][j] == &quot;wk&quot; ) {\n        fill(255);\n        stroke(0);\n        strokeWeight(4);\n      if ( board[i][j] != &quot;&quot; ) {\n        ellipse(w/scl*j+(w/(2*scl)+50), h/scl*i+(h/(2*scl)+100), w/(2*scl), h/(2*scl));\n      }\n    }\n  }\n  if (selectMode == true) {\n    for (int j = 0; j&lt; l.size()-1; j++) {\n      int[] temp = new int[3];\n      temp = l.get(j);\n      fill(256/2);\n      ellipse(w/scl*temp[1]+(w/(2*scl)+50), h/scl*temp[0]+(h/(2*scl)+100), w/(2*scl), h/(2*scl));\n    }\n  }\n}\n</code></pre>\n<p>FILE: settingUp:</p>\n<pre><code>void setup() {\n  size(700, 800);\n  for (int i = 0; i&lt; scl; i++) {\n    for (int j = 0; j&lt; scl; j++) {\n      if (i == 0) {\n        if (j % 2 == 1) {\n          board[i][j] = &quot;wp&quot;;\n        } else {\n          board[i][j] = &quot;&quot;;\n        }\n      } else if (i == 1) {\n        if (j % 2 == 0) {\n          board[i][j] = &quot;wp&quot;;\n        } else {\n          board[i][j] = &quot;&quot;;\n        }\n      } else if (i == 6) {\n        if (j % 2 == 1) {\n          board[i][j] = &quot;bp&quot;;\n        } else {\n          board[i][j] = &quot;&quot;;\n        }\n      } else if (i == 7) {\n        if (j % 2 == 0) {\n          board[i][j] = &quot;bp&quot;;\n        } else {\n          board[i][j] = &quot;&quot;;\n        }\n      } else {\n        board[i][j] = &quot;&quot;;\n        board[5][2] = &quot;wp&quot;;\n      }\n    }\n  }\n}\n</code></pre>\n<p>finally,\nFILE: moves:</p>\n<pre><code>ArrayList&lt;int[]&gt; getLegalMoves(String[][] arr, int indexI, int indexJ, String piece) {\n  ArrayList&lt;int[]&gt; temp =  getAllowedMoves(arr, indexI, indexJ, 0);\n  int forces = 0;\n  for (int i = 0; i&lt; scl; i++) {\n    for (int j = 0; j&lt; scl; j++) {\n      if (arr[i][j] == piece) {\n        ArrayList&lt;int[]&gt; t =  getAllowedMoves(arr, i, j, 0);\n        for (int m = 0; m&lt; t.size()-1; m++) {\n          int[] t1 = new int[3];\n          t1 = t.get(m);\n          if (t1[2] == 1) {\n            forces++;\n          }\n        }\n      }\n    }\n  }\n  Boolean flag = true;\n  if (forces != 0) {\n    for (int m = 0; m&lt; temp.size()-1; m++) {\n      int[] t2 = new int[3];\n      t2 = temp.get(m);\n      if (t2[2] == 1) {\n        flag = false;\n      }\n    }\n  } else {\n    flag = false;\n  }\n  if (flag != true) {\n    return getAllowedMoves(arr, indexI, indexJ, 0);\n  } else {\n    return getAllowedMoves(arr, indexI, indexJ, 1);\n  }\n}\n\n\nArrayList&lt;int[]&gt; getAllowedMoves(String[][] arr, int indexI, int indexJ, int x) {\n  ArrayList&lt;int[]&gt; border = new ArrayList&lt;int[]&gt;(2);\n  if (arr[indexI][indexJ] != &quot;&quot;) {\n    if (arr[indexI][indexJ] == &quot;bp&quot;) {\n      if (indexI &gt; 0) {\n        if (indexJ &gt; 0) {\n          if ((arr[indexI-1][indexJ-1] == &quot;&quot;)) {\n            int [] temp = new int[3];\n            temp[0] = indexI-1;\n            temp[1] = indexJ-1;\n            temp[2] = 0;\n            border.add(temp);\n          } else {\n            if ((arr[indexI-1][indexJ-1] == &quot;wp&quot;) || (arr[indexI-1][indexJ-1] == &quot;wk&quot;)){\n              if (arr[indexI-2][indexJ-2] == &quot;&quot;) {\n                int [] temp = new int[3];\n                temp[0] = indexI-2;\n                temp[1] = indexJ-2;\n                temp[2] = 1;\n                border.add(temp);\n              }\n            }\n          }\n        }\n        if (indexJ &lt; 7) {\n          if (arr[indexI-1][indexJ+1] == &quot;&quot;) {\n            int [] temp = new int[3];\n            temp[0] = indexI-1;\n            temp[1] = indexJ+1;\n            temp[2] = 0;\n            border.add(temp);\n          } else {\n            if ((arr[indexI-1][indexJ+1] == &quot;wp&quot;) || (arr[indexI-1][indexJ+1] == &quot;wk&quot;)) {\n              if (arr[indexI-2][indexJ+2] == &quot;&quot;) {\n                int [] temp = new int[3];\n                temp[0] = indexI-2;\n                temp[1] = indexJ+2;\n                temp[2] = 1;\n                border.add(temp);\n              }\n            }\n          }\n        }\n      }\n    }\n    if (arr[indexI][indexJ] == &quot;wp&quot;) {\n      if (indexI &lt; 7) {\n        if (indexJ &lt; 7) {\n          if ((arr[indexI+1][indexJ+1] == &quot;&quot;)) {\n            int [] temp = new int[3];\n            temp[0] = indexI+1;\n            temp[1] = indexJ+1;\n            temp[2] = 0;\n            border.add(temp);\n          } else {\n            if ((arr[indexI+1][indexJ+1] == &quot;bp&quot;) || (arr[indexI+1][indexJ+1] == &quot;bk&quot;)) {\n              if (arr[indexI+2][indexJ+2] == &quot;&quot;) {\n                int [] temp = new int[3];\n                temp[0] = indexI+2;\n                temp[1] = indexJ+2;\n                temp[2] = 1;\n                border.add(temp);\n              }\n            }\n          }\n        }\n        if (indexJ &gt; 0) {\n          if (arr[indexI+1][indexJ-1] == &quot;&quot;) {\n            int [] temp = new int[3];\n            temp[0] = indexI+1;\n            temp[1] = indexJ-1;\n            temp[2] = 0;\n            border.add(temp);\n          } else {\n            if ((arr[indexI+1][indexJ-1] == &quot;bp&quot;) || (arr[indexI+1][indexJ-1] == &quot;bk&quot;)) {\n              if (arr[indexI+2][indexJ-2] == &quot;&quot;) {\n                int [] temp = new int[3];\n                temp[0] = indexI+2;\n                temp[1] = indexJ-2;\n                temp[2] = 1;\n                border.add(temp);\n              }\n            }\n          }\n        }\n      }\n    }\n    ///kings\n    if (arr[indexI][indexJ] == &quot;bk&quot;) {\n      if (indexI &gt; 0) {\n        if (indexJ &gt; 0) {\n          if ((arr[indexI-1][indexJ-1] == &quot;&quot;)) {\n            int [] temp = new int[3];\n            temp[0] = indexI-1;\n            temp[1] = indexJ-1;\n            temp[2] = 0;\n            border.add(temp);\n          } else {\n            if ((arr[indexI-1][indexJ-1] == &quot;wp&quot;) || (arr[indexI-1][indexJ-1] == &quot;wk&quot;)){\n              if (arr[indexI-2][indexJ-2] == &quot;&quot;) {\n                int [] temp = new int[3];\n                temp[0] = indexI-2;\n                temp[1] = indexJ-2;\n                temp[2] = 1;\n                border.add(temp);\n              }\n            }\n          }\n        }\n        if (indexJ &lt; 7) {\n          if (arr[indexI-1][indexJ+1] == &quot;&quot;) {\n            int [] temp = new int[3];\n            temp[0] = indexI-1;\n            temp[1] = indexJ+1;\n            temp[2] = 0;\n            border.add(temp);\n          } else {\n            if ((arr[indexI-1][indexJ+1] == &quot;wp&quot;) || (arr[indexI-1][indexJ+1] == &quot;wk&quot;)) {\n              if (arr[indexI-2][indexJ+2] == &quot;&quot;) {\n                int [] temp = new int[3];\n                temp[0] = indexI-2;\n                temp[1] = indexJ+2;\n                temp[2] = 1;\n                border.add(temp);\n              }\n            }\n          }\n        }\n        if ((arr[indexI+1][indexJ-1] == &quot;&quot;)) {\n            int [] temp = new int[3];\n            temp[0] = indexI+1;\n            temp[1] = indexJ-1;\n            temp[2] = 0;\n            border.add(temp);\n          } else {\n            if ((arr[indexI+1][indexJ-1] == &quot;wp&quot;) || (arr[indexI+1][indexJ-1] == &quot;wk&quot;)){\n              if (arr[indexI+2][indexJ-2] == &quot;&quot;) {\n                int [] temp = new int[3];\n                temp[0] = indexI+2;\n                temp[1] = indexJ-2;\n                temp[2] = 1;\n                border.add(temp);\n              }\n            }\n          }\n        }\n        if (indexJ &lt; 7) {\n          if (arr[indexI+1][indexJ+1] == &quot;&quot;) {\n            int [] temp = new int[3];\n            temp[0] = indexI+1;\n            temp[1] = indexJ+1;\n            temp[2] = 0;\n            border.add(temp);\n          } else {\n            if ((arr[indexI+1][indexJ+1] == &quot;wp&quot;) || (arr[indexI+1][indexJ+1] == &quot;wk&quot;)) {\n              if (arr[indexI+2][indexJ+2] == &quot;&quot;) {\n                int [] temp = new int[3];\n                temp[0] = indexI+2;\n                temp[1] = indexJ+2;\n                temp[2] = 1;\n                border.add(temp);\n              }\n            }\n          }\n        }\n      }\n    }\n    if (arr[indexI][indexJ] == &quot;wk&quot;) {\n      if (indexI &lt; 7) {\n        if (indexJ &lt; 7) {\n          if ((arr[indexI-1][indexJ+1] == &quot;&quot;)) {\n            int [] temp = new int[3];\n            temp[0] = indexI-1;\n            temp[1] = indexJ+1;\n            temp[2] = 0;\n            border.add(temp);\n          } else {\n            if ((arr[indexI-1][indexJ+1] == &quot;bp&quot;) || (arr[indexI-1][indexJ+1] == &quot;bk&quot;)) {\n              if (arr[indexI-2][indexJ+2] == &quot;&quot;) {\n                int [] temp = new int[3];\n                temp[0] = indexI-2;\n                temp[1] = indexJ+2;\n                temp[2] = 1;\n                border.add(temp);\n              }\n            }\n          }\n        }\n        if (indexJ &gt; 0) {\n          if (arr[indexI+1][indexJ-1] == &quot;&quot;) {\n            int [] temp = new int[3];\n            temp[0] = indexI-1;\n            temp[1] = indexJ-1;\n            temp[2] = 0;\n            border.add(temp);\n          } else {\n            if ((arr[indexI-1][indexJ-1] == &quot;bp&quot;) || (arr[indexI-1][indexJ-1] == &quot;bk&quot;)) {\n              if (arr[indexI-2][indexJ-2] == &quot;&quot;) {\n                int [] temp = new int[3];\n                temp[0] = indexI-2;\n                temp[1] = indexJ-2;\n                temp[2] = 1;\n                border.add(temp);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  int [] temp1 = new int[3];\n  temp1[0] = indexI;\n  temp1[1] = indexJ;\n  temp1[2] = x;\n  border.add(temp1);\n  Boolean flag = false;\n  for (int i = 0; i&lt;border.size()-1; i++) {\n    int[] temp = new int[3];\n    temp = border.get(i);\n    if (temp[2] == 1) {\n      flag = true;\n    }\n  }\n  if (flag == true) {\n    for (int i = 0; i&lt;border.size()-1; i++) {\n      int[] temp = new int[3];\n      temp = border.get(i);\n      if (temp[2] == 0) {\n        border.remove(i);\n      }\n    }\n  }\n  return border;\n}\n</code></pre>\n<p>forgive me for my terrible lack of organisation...</p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":17609607,"reputation":1,"user_id":12777934,"display_name":"jawobar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654617107,"creation_date":1654615569,"answer_id":72533853,"question_id":71717041,"body_markdown":"I run into exact same issue recently. You didn&#39;t mention what is your version of Spring Boot, but this got me while upgrading from 2.6.6 to 3.0.0-M3. Same code works fine with older version, so I started digging...\r\n\r\nLong story short, the root cause is in MongoAuditingRegistrar, so I guess you&#39;re using @EnableMongoAuditing annotation. When I disable auditing, everything works fine also with 3.0.0-M3 version.\r\n\r\nThe culprit is [here](https://github.com/spring-projects/spring-data-mongodb/blob/4.0.0-M4/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoAuditingRegistrar.java#L72):\r\n\r\n```\r\ndefinition.addConstructorArgValue(new RuntimeBeanReference(MappingContext.class));\r\n```\r\n\r\nIn case you are using both Mongo and Redis, there are two mapping contexts available and Spring doesn&#39;t know which one to use, as reference by MappingContext interface is too generic. \r\n\r\nIn version 2.6.6 the same thing was done like [this](https://github.com/spring-projects/spring-data-mongodb/blob/2.2.6.RELEASE/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoAuditingRegistrar.java#L95): \r\n```\r\ndefinition.setAutowireMode(AbstractBeanDefinition.AUTOWIRE_CONSTRUCTOR);\r\n```\r\n\r\nThe quick and dirty, probably not the best and final, solution that worked for me was to create my own [@EnableCustomMongoAuditing](https://github.com/spring-projects/spring-data-mongodb/blob/4.0.0-M4/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/EnableMongoAuditing.java\r\n) annotation which instead of:\r\n\r\n```\r\n@Import(MongoAuditingRegistrar.class)\r\n```\r\n\r\nwould use:\r\n```\r\n@Import(CustomMongoAuditingRegistrar.class)\r\n```\r\n\r\nwith the small change of above mentioned line to:\r\n```\r\ndefinition.addConstructorArgValue(new RuntimeBeanReference(MongoMappingContext.class));\r\n```\r\nI hope it can work, even if as a temporary solution, for you too.","title":"Spring boot with mongodb and redis as cache","body":"<p>I run into exact same issue recently. You didn't mention what is your version of Spring Boot, but this got me while upgrading from 2.6.6 to 3.0.0-M3. Same code works fine with older version, so I started digging...</p>\n<p>Long story short, the root cause is in MongoAuditingRegistrar, so I guess you're using @EnableMongoAuditing annotation. When I disable auditing, everything works fine also with 3.0.0-M3 version.</p>\n<p>The culprit is <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/4.0.0-M4/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoAuditingRegistrar.java#L72\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>definition.addConstructorArgValue(new RuntimeBeanReference(MappingContext.class));\n</code></pre>\n<p>In case you are using both Mongo and Redis, there are two mapping contexts available and Spring doesn't know which one to use, as reference by MappingContext interface is too generic.</p>\n<p>In version 2.6.6 the same thing was done like <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/2.2.6.RELEASE/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/MongoAuditingRegistrar.java#L95\" rel=\"nofollow noreferrer\">this</a>:</p>\n<pre><code>definition.setAutowireMode(AbstractBeanDefinition.AUTOWIRE_CONSTRUCTOR);\n</code></pre>\n<p>The quick and dirty, probably not the best and final, solution that worked for me was to create my own <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/4.0.0-M4/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/config/EnableMongoAuditing.java\" rel=\"nofollow noreferrer\">@EnableCustomMongoAuditing</a> annotation which instead of:</p>\n<pre><code>@Import(MongoAuditingRegistrar.class)\n</code></pre>\n<p>would use:</p>\n<pre><code>@Import(CustomMongoAuditingRegistrar.class)\n</code></pre>\n<p>with the small change of above mentioned line to:</p>\n<pre><code>definition.addConstructorArgValue(new RuntimeBeanReference(MongoMappingContext.class));\n</code></pre>\n<p>I hope it can work, even if as a temporary solution, for you too.</p>\n"}],"owner":{"account_id":23365188,"reputation":11,"user_id":17436887,"display_name":"zgast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654617107,"creation_date":1648898081,"question_id":71717041,"body_markdown":"I have a spring boot project, where i use mongodb as my main database, I wanted to include redis as a cache for the project, because it has many image accesses and it would be pretty heavy for the main db.\r\n\r\n    &lt;dependencies&gt; \t\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\t\r\n            &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n    \t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;8.1.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;!-- Exclude tomcat dependency --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;exclusions&gt;\r\n    \t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;/exclusion&gt;\r\n    \t\t&lt;/exclusions&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;!-- Include jetty dependency --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n\r\nthat are my current dependencies\r\n\r\nwhenever I want to add:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n       &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\ni get this error:\r\n\r\nCaused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type &#39;org.springframework.data.mapping.context.MappingContext&#39; available: expected single matching bean but found 2: mongoMappingContext,keyValueMappingContext \r\n\r\ndoes anyone have a idea how to fix this?","title":"Spring boot with mongodb and redis as cache","body":"<p>I have a spring boot project, where i use mongodb as my main database, I wanted to include redis as a cache for the project, because it has many image accesses and it would be pretty heavy for the main db.</p>\n<pre><code>&lt;dependencies&gt;  \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;   \n        &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n        &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n        &lt;version&gt;8.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Exclude tomcat dependency --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Include jetty dependency --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>that are my current dependencies</p>\n<p>whenever I want to add:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>i get this error:</p>\n<p>Caused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'org.springframework.data.mapping.context.MappingContext' available: expected single matching bean but found 2: mongoMappingContext,keyValueMappingContext</p>\n<p>does anyone have a idea how to fix this?</p>\n"},{"tags":["java","mongodb","database-cursor"],"comments":[{"owner":{"account_id":190832,"reputation":41974,"user_id":431012,"display_name":"Asya Kamsky"},"score":0,"creation_date":1383024389,"post_id":19630795,"comment_id":29178094,"body_markdown":"why are you getting such large batches when it takes a long time to process 100 records?  You can make a batch 1 document and then as long as you can manage to process it in less than 10 minutes you can then get the next batch/document.  See http://docs.mongodb.org/manual/reference/method/cursor.batchSize/","body":"why are you getting such large batches when it takes a long time to process 100 records?  You can make a batch 1 document and then as long as you can manage to process it in less than 10 minutes you can then get the next batch/document.  See <a href=\"http://docs.mongodb.org/manual/reference/method/cursor.batchSize/\" rel=\"nofollow noreferrer\">docs.mongodb.org/manual/reference/method/cursor.batchSize</a>"},{"owner":{"account_id":1436739,"reputation":381,"user_id":1357943,"display_name":"Yadli"},"score":0,"creation_date":1383024972,"post_id":19630795,"comment_id":29178295,"body_markdown":"I didn&#39;t touch the cursor.batchSize(). I just encapsulate 100 records and push it to pipelines. I say &#39;pipelines&#39; because there are 12 of them and the parallelisation makes things faster. It&#39;s not that I didn&#39;t touch the cursor for 10 minutes. But rather I kept pulling and pulling, and still end up getting a timeout.","body":"I didn&#39;t touch the cursor.batchSize(). I just encapsulate 100 records and push it to pipelines. I say &#39;pipelines&#39; because there are 12 of them and the parallelisation makes things faster. It&#39;s not that I didn&#39;t touch the cursor for 10 minutes. But rather I kept pulling and pulling, and still end up getting a timeout."},{"owner":{"account_id":1436739,"reputation":381,"user_id":1357943,"display_name":"Yadli"},"score":0,"creation_date":1383025056,"post_id":19630795,"comment_id":29178328,"body_markdown":"@AsyaKamsky See this:http://stackoverflow.com/questions/19649978/mongodb-cannot-iterate-through-all-data-with-cursor If making the pipelines faster would help, the problem in the link would never exist IMHO.","body":"@AsyaKamsky See this:<a href=\"http://stackoverflow.com/questions/19649978/mongodb-cannot-iterate-through-all-data-with-cursor\" title=\"mongodb cannot iterate through all data with cursor\">stackoverflow.com/questions/19649978/&hellip;</a> If making the pipelines faster would help, the problem in the link would never exist IMHO."},{"owner":{"account_id":190832,"reputation":41974,"user_id":431012,"display_name":"Asya Kamsky"},"score":0,"creation_date":1383025747,"post_id":19630795,"comment_id":29178586,"body_markdown":"not true.  the issue is the work you are doing with the results, no how fast fetching the results takes.","body":"not true.  the issue is the work you are doing with the results, no how fast fetching the results takes."},{"owner":{"account_id":190832,"reputation":41974,"user_id":431012,"display_name":"Asya Kamsky"},"score":0,"creation_date":1383105483,"post_id":19630795,"comment_id":29218587,"body_markdown":"So this was the same problem as the other question?  Same corrupt dataset?","body":"So this was the same problem as the other question?  Same corrupt dataset?"},{"owner":{"account_id":1436739,"reputation":381,"user_id":1357943,"display_name":"Yadli"},"score":0,"creation_date":1383106763,"post_id":19630795,"comment_id":29218903,"body_markdown":"Yes... The skip won&#39;t crash now.","body":"Yes... The skip won&#39;t crash now."}],"answers":[{"tags":[],"owner":{"account_id":94411,"reputation":45589,"user_id":257786,"accept_rate":83,"display_name":"mnemosyn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1382952708,"creation_date":1382952708,"answer_id":19631207,"question_id":19630795,"body_markdown":"In general, yes. If you have a monotonic field, ideally an indexed field, you can simply walk along that. For instance, if you&#39;re using fields of type `ObjectId` as primary key or if you have a `CreatedDate` or something, you can simply use an `$lt` query, take a fixed number of elements, then query again using `$lt` of the smallest `_id` or `CreatedDate` you encountered in the previous batch.\r\n\r\nBe careful about strict monotonic behavior vs. non-strict monotonic behavior: You might have to use `$lte` if the keys aren&#39;t strict, then prevent doing things twice on the dupes. Since the `_id` field is unique, `ObjectIds` are always strictly monotonic.\r\n\r\nIf you don&#39;t have such a key, things are a little more tricky. You can still iterate &#39;along the index&#39; (whatever index, be it a name, a hash, a UUID, Guid, etc.). That works just as well, but it&#39;s hard to do snapshotting, because you never know whether the result you have just found was inserted before you started to traverse, or not. Also, when documents are inserted at the beginning of the traversal, those will be missed.","title":"MongoDB: cannot use a cursor to iterate through all the data","body":"<p>In general, yes. If you have a monotonic field, ideally an indexed field, you can simply walk along that. For instance, if you're using fields of type <code>ObjectId</code> as primary key or if you have a <code>CreatedDate</code> or something, you can simply use an <code>$lt</code> query, take a fixed number of elements, then query again using <code>$lt</code> of the smallest <code>_id</code> or <code>CreatedDate</code> you encountered in the previous batch.</p>\n\n<p>Be careful about strict monotonic behavior vs. non-strict monotonic behavior: You might have to use <code>$lte</code> if the keys aren't strict, then prevent doing things twice on the dupes. Since the <code>_id</code> field is unique, <code>ObjectIds</code> are always strictly monotonic.</p>\n\n<p>If you don't have such a key, things are a little more tricky. You can still iterate 'along the index' (whatever index, be it a name, a hash, a UUID, Guid, etc.). That works just as well, but it's hard to do snapshotting, because you never know whether the result you have just found was inserted before you started to traverse, or not. Also, when documents are inserted at the beginning of the traversal, those will be missed.</p>\n"}],"owner":{"account_id":1436739,"reputation":381,"user_id":1357943,"display_name":"Yadli"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2766,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":19631207,"answer_count":1,"score":4,"last_activity_date":1654616296,"creation_date":1382951502,"question_id":19630795,"body_markdown":"Update on update:\r\n\r\n**Solved**! See this:\r\nhttps://stackoverflow.com/questions/19649978/mongodb-cannot-iterate-through-all-data-with-cursor\r\n\r\nIt&#39;s caused by corrupted data set. Not MongoDB or the driver.\r\n\r\n---\r\n\r\nI&#39;m using the latest Java driver(2.11.3) of MongoDB(2.4.6). I&#39;ve got a collection with ~250M records and I want to use a cursor to iterate through all of them. However, after 10 minutes or so I got either a false cursor.hasNext(), or an exception saying that the cursor does not exist on server.\r\n\r\nAfter that I learned about cursor timeout and wrapped my cursor.next() with try/catch. If any exception, or hasNext() returned false before iterating through all the records, the program closes the cursor and allocates a new one, and then skip right back into context.\r\n\r\nBut later on I read about cursor.skip() performance issues... And the program just reached ~20M records, and cursor.next() after cursor.skip() throwed out &quot;java.util.NoSuchElementException&quot;. I believe that&#39;s because the skip operation has timed out, which invalidated the cursor.\r\n\r\nYes I&#39;ve read about skip() performance issues and cursor timeout issues... But now I think I&#39;m in a dilemma where fixing one will break the other. \r\n\r\nSo, is there a way to gracefully iterate through all the data in a huge dataset?\r\n\r\n\r\n@mnemosyn has already pointed out that I have to rely on range-based queries. But the problem is that I want to split all the data into 16 parts and process them on different machines, and the data is not uniformly distributed within any monotonic key space. If load balancing is desired, there must be a way to calculate how many keys are in a particular range and balance them. My goal is to partition them into 16 parts, so I have to find the quartiles of quartiles (sorry, I don&#39;t know if there&#39;s a mathematical term for this) of the keys and use them to split data.\r\n\r\n\r\nIs there a way to achieve this?\r\n\r\n\r\nI do have some ideas when the first seek is achieved by obtaining the partition boundary keys. If the new cursor times out again, I can simply record the latest tweetID and jump back in with the new range. However, the range query should be fast enough or otherwise I still get timeouts. I&#39;m not confident about this...\r\n\r\n\r\nUpdate:\r\n\r\nProblem solved! I didn&#39;t realise that I don&#39;t have to partition data in a chunky way. A round-robin job dispatcher will do. See comments in the accepted answer.\r\n\r\n","title":"MongoDB: cannot use a cursor to iterate through all the data","body":"<p>Update on update:</p>\n<p><strong>Solved</strong>! See this:\n<a href=\"https://stackoverflow.com/questions/19649978/mongodb-cannot-iterate-through-all-data-with-cursor\">MongoDB: cannot iterate through all data with cursor (because data is corrupted)</a></p>\n<p>It's caused by corrupted data set. Not MongoDB or the driver.</p>\n<hr />\n<p>I'm using the latest Java driver(2.11.3) of MongoDB(2.4.6). I've got a collection with ~250M records and I want to use a cursor to iterate through all of them. However, after 10 minutes or so I got either a false cursor.hasNext(), or an exception saying that the cursor does not exist on server.</p>\n<p>After that I learned about cursor timeout and wrapped my cursor.next() with try/catch. If any exception, or hasNext() returned false before iterating through all the records, the program closes the cursor and allocates a new one, and then skip right back into context.</p>\n<p>But later on I read about cursor.skip() performance issues... And the program just reached ~20M records, and cursor.next() after cursor.skip() throwed out &quot;java.util.NoSuchElementException&quot;. I believe that's because the skip operation has timed out, which invalidated the cursor.</p>\n<p>Yes I've read about skip() performance issues and cursor timeout issues... But now I think I'm in a dilemma where fixing one will break the other.</p>\n<p>So, is there a way to gracefully iterate through all the data in a huge dataset?</p>\n<p>@mnemosyn has already pointed out that I have to rely on range-based queries. But the problem is that I want to split all the data into 16 parts and process them on different machines, and the data is not uniformly distributed within any monotonic key space. If load balancing is desired, there must be a way to calculate how many keys are in a particular range and balance them. My goal is to partition them into 16 parts, so I have to find the quartiles of quartiles (sorry, I don't know if there's a mathematical term for this) of the keys and use them to split data.</p>\n<p>Is there a way to achieve this?</p>\n<p>I do have some ideas when the first seek is achieved by obtaining the partition boundary keys. If the new cursor times out again, I can simply record the latest tweetID and jump back in with the new range. However, the range query should be fast enough or otherwise I still get timeouts. I'm not confident about this...</p>\n<p>Update:</p>\n<p>Problem solved! I didn't realise that I don't have to partition data in a chunky way. A round-robin job dispatcher will do. See comments in the accepted answer.</p>\n"},{"tags":["java","input","text-cursor"],"comments":[{"owner":{"account_id":4736829,"reputation":3179,"user_id":3830983,"accept_rate":71,"display_name":"MCMastery"},"score":0,"creation_date":1437315794,"post_id":31502176,"comment_id":50967143,"body_markdown":"I THINK that&#39;s just the IDE&#39;s problem, it happens with me too, but i don&#39;t know","body":"I THINK that&#39;s just the IDE&#39;s problem, it happens with me too, but i don&#39;t know"},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1437315830,"post_id":31502176,"comment_id":50967151,"body_markdown":"try it in a DOS window instead","body":"try it in a DOS window instead"},{"owner":{"account_id":368214,"reputation":747,"user_id":714873,"accept_rate":59,"display_name":"Karen Fisher"},"score":0,"creation_date":1437318662,"post_id":31502176,"comment_id":50968002,"body_markdown":"Thank you MCMastery, it is really the IDE problem. I&#39;ve ran the code without IDE and it works fine.","body":"Thank you MCMastery, it is really the IDE problem. I&#39;ve ran the code without IDE and it works fine."}],"answers":[{"tags":[],"owner":{"account_id":368214,"reputation":747,"user_id":714873,"accept_rate":59,"display_name":"Karen Fisher"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1437318812,"creation_date":1437318812,"answer_id":31502696,"question_id":31502176,"body_markdown":"It is a problem with IDE. When this code runs with cmd it works well.\r\nhttps://youtu.be/BpIcJbUI7MM\r\n","title":"How to put input cursor after prompt java","body":"<p>It is a problem with IDE. When this code runs with cmd it works well.\n<a href=\"https://youtu.be/BpIcJbUI7MM\" rel=\"nofollow\">https://youtu.be/BpIcJbUI7MM</a></p>\n"}],"owner":{"account_id":368214,"reputation":747,"user_id":714873,"accept_rate":59,"display_name":"Karen Fisher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8788,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":31502696,"answer_count":1,"score":4,"last_activity_date":1654616136,"creation_date":1437315647,"question_id":31502176,"body_markdown":"I tried to emulate console dialog using java. The code is simple:\r\n\r\n    \r\n    import java.util.Scanner;\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            String s;\r\n            Scanner in = new Scanner(System.in);\r\n            do {\r\n                System.out.print(&quot;&gt;&gt;&gt;&quot;);\r\n                s = in.next();\r\n                System.out.println(s);\r\n            } while ( !new String(&quot;exit&quot;).equals(s));\r\n         }\r\n    }\r\nBut when it works it puts cursor in the begining of line, not after prompt (&quot;&gt;&gt;&gt;&quot; in this case). &lt;br/&gt;\r\nIs there any way to place cursor after the prompt?\r\n(Here is brief video to show what I mean https://youtu.be/6QA6849hR9A)","title":"How to put input cursor after prompt java","body":"<p>I tried to emulate console dialog using java. The code is simple:</p>\n\n<pre><code>import java.util.Scanner;\npublic class Main {\n\n    public static void main(String[] args) {\n        String s;\n        Scanner in = new Scanner(System.in);\n        do {\n            System.out.print(\"&gt;&gt;&gt;\");\n            s = in.next();\n            System.out.println(s);\n        } while ( !new String(\"exit\").equals(s));\n     }\n}\n</code></pre>\n\n<p>But when it works it puts cursor in the begining of line, not after prompt (\">>>\" in this case). <br/>\nIs there any way to place cursor after the prompt?\n(Here is brief video to show what I mean <a href=\"https://youtu.be/6QA6849hR9A\" rel=\"nofollow\">https://youtu.be/6QA6849hR9A</a>)</p>\n"},{"tags":["java","camel-ftp","apache-camel-3"],"answers":[{"tags":[],"owner":{"account_id":13866125,"reputation":41,"user_id":10010590,"display_name":"D007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638958443,"creation_date":1638958443,"answer_id":70273263,"question_id":70243333,"body_markdown":"After several tests and debugging sessions, I understood from my application that Camel/jsch is not handling multi-threading quite efficiently and after a few google searches, i found this mail thread https://www.mail-archive.com/search?l=users@camel.apache.org&amp;q=subject:%22GenericFileOperationFailedException%22&amp;o=newest&amp;f=1 that supported my theory with camel/jsch and multi-threading. \r\n\r\nThere is always a timing issue as when then route is trying to delete the file in the specific folder, the file is already deleted and this caused the above mentioned error in the route. And, after reading the camel-sftp documentation, I used the `synchronous=true` flag which ensures that camel is strictly processing the routes synchronously, the problem was solved for me.","title":"Camel SFTP started failing after camel 2.22.1 - camel 3.9.0 upgrade","body":"<p>After several tests and debugging sessions, I understood from my application that Camel/jsch is not handling multi-threading quite efficiently and after a few google searches, i found this mail thread <a href=\"https://www.mail-archive.com/search?l=users@camel.apache.org&amp;q=subject:%22GenericFileOperationFailedException%22&amp;o=newest&amp;f=1\" rel=\"nofollow noreferrer\">https://www.mail-archive.com/search?l=users@camel.apache.org&amp;q=subject:%22GenericFileOperationFailedException%22&amp;o=newest&amp;f=1</a> that supported my theory with camel/jsch and multi-threading.</p>\n<p>There is always a timing issue as when then route is trying to delete the file in the specific folder, the file is already deleted and this caused the above mentioned error in the route. And, after reading the camel-sftp documentation, I used the <code>synchronous=true</code> flag which ensures that camel is strictly processing the routes synchronously, the problem was solved for me.</p>\n"}],"owner":{"account_id":13866125,"reputation":41,"user_id":10010590,"display_name":"D007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654615864,"creation_date":1638783005,"question_id":70243333,"body_markdown":"In camel 2.22.1 I used the following camel route to perform a file operation\r\n```\r\nfrom(sftp://&quot; + sourceUrl + &quot;&amp;preferredAuthentications=password&amp;includeExt=xml&amp;delete=true&amp;disconnect=true&amp;maxMessagesPerPoll=50&amp;preMove=${file:name.noext}.process&quot;)\r\n```\r\nthis will rename the files with .xml extension to .process and perform further route operations and finally delete the .process file from input folder. However camel 3.9.0 this route started failing. And I got the following error from the Camel file component:\r\n```\r\norg.apache.camel.component.file.GenericFileOperationFailedException: Cannot delete file: source/do-sfdc-case-import-0/2451165.process\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: com.jcraft.jsch.SftpException: No such file\r\n\tat org.apache.camel.component.file.remote.SftpOperations.deleteFile(SftpOperations.java:488)\r\n\t... 22 common frames omitted\r\n\r\norg.apache.camel.component.file.GenericFileOperationFailedException: Cannot change directory to: ..\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: com.jcraft.jsch.SftpException:\t\r\n\tat org.apache.camel.component.file.remote.SftpOperations.doChangeDirectory(SftpOperations.java:682)\r\n\t... 11 common frames omitted\r\nCaused by: java.io.IOException: Pipe closed\t\r\n\tat com.jcraft.jsch.ChannelSftp.cd(ChannelSftp.java:337)\r\n\t... 12 common frames omitted\r\n```\r\nTo resolve the issue I tried to set `stepwise=false` flag however the application became dead slow, even though when the file mentioned in this stacktrace is available in the folder, but camel reports it to be not found or is not able to change to the corresponding directory. \r\n\r\n\r\nAny idea what am I doing wrong here? Appreciate any help/tips on the same. ","title":"Camel SFTP started failing after camel 2.22.1 - camel 3.9.0 upgrade","body":"<p>In camel 2.22.1 I used the following camel route to perform a file operation</p>\n<pre><code>from(sftp://&quot; + sourceUrl + &quot;&amp;preferredAuthentications=password&amp;includeExt=xml&amp;delete=true&amp;disconnect=true&amp;maxMessagesPerPoll=50&amp;preMove=${file:name.noext}.process&quot;)\n</code></pre>\n<p>this will rename the files with .xml extension to .process and perform further route operations and finally delete the .process file from input folder. However camel 3.9.0 this route started failing. And I got the following error from the Camel file component:</p>\n<pre><code>org.apache.camel.component.file.GenericFileOperationFailedException: Cannot delete file: source/do-sfdc-case-import-0/2451165.process\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: com.jcraft.jsch.SftpException: No such file\n    at org.apache.camel.component.file.remote.SftpOperations.deleteFile(SftpOperations.java:488)\n    ... 22 common frames omitted\n\norg.apache.camel.component.file.GenericFileOperationFailedException: Cannot change directory to: ..\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: com.jcraft.jsch.SftpException:   \n    at org.apache.camel.component.file.remote.SftpOperations.doChangeDirectory(SftpOperations.java:682)\n    ... 11 common frames omitted\nCaused by: java.io.IOException: Pipe closed \n    at com.jcraft.jsch.ChannelSftp.cd(ChannelSftp.java:337)\n    ... 12 common frames omitted\n</code></pre>\n<p>To resolve the issue I tried to set <code>stepwise=false</code> flag however the application became dead slow, even though when the file mentioned in this stacktrace is available in the folder, but camel reports it to be not found or is not able to change to the corresponding directory.</p>\n<p>Any idea what am I doing wrong here? Appreciate any help/tips on the same.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1654612780,"post_id":72532996,"comment_id":128129126,"body_markdown":"Please clarify what you mean to convert map to string. You have already converted it to string(using `.toString()`) to show the above result. Adding example of desired output format would greatly help.","body":"Please clarify what you mean to convert map to string. You have already converted it to string(using <code>.toString()</code>) to show the above result. Adding example of desired output format would greatly help."},{"owner":{"account_id":14248845,"reputation":444,"user_id":11435260,"display_name":"AbrA"},"score":0,"creation_date":1654613113,"post_id":72532996,"comment_id":128129271,"body_markdown":"@Chaosfire result of toString() = &#39;{Paris={USD=100 USD}, Moscow={USD=200 USD, RUR= 200 RUR}}&#39; but I need &#39;Paris - 100 USD, Moscow - 200 USD, Moscow- 200 RUR&#39;","body":"@Chaosfire result of toString() = &#39;{Paris={USD=100 USD}, Moscow={USD=200 USD, RUR= 200 RUR}}&#39; but I need &#39;Paris - 100 USD, Moscow - 200 USD, Moscow- 200 RUR&#39;"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1654615785,"creation_date":1654613323,"answer_id":72533297,"question_id":72532996,"body_markdown":"&gt; Desired result is `&quot;Moscow 200 usd, Paris 100 USD, Moscow 200 RUR&quot;`\r\nTry it like this using flatMap.\r\n- stream the entrySet of the main map.\r\n- flatMap the inner map&#39;s values via entrySet again.\r\n- the using the key of the outer map and the value of the inner, map them to a string.\r\n- Then join the strings with a collector.\r\n```\r\nString result = map.entrySet().stream()\r\n\t\t.flatMap(e -&gt; e.getValue().entrySet().stream()\r\n\t\t\t\t.map(e2 -&gt; e.getKey() + &quot; &quot; + e2.getValue()))\r\n\t\t.collect(Collectors.joining(&quot;, &quot;));\r\nSystem.out.println(result);\r\n```\r\nprints\r\n```\r\nParis 100 USD, Moscow 200 RUR, Moscow 200 USD\r\n```\r\nNote:  Since maps are unordered, the order of the elements may not be consistent from run to run based on sums, additional Reports, etc.\r\n\r\nI don&#39;t know if your Map is required as is or a way to get the result, but you could also do it like this.\r\n- use groupingBy as before but use toMap as the collector.\r\n```\r\nMap&lt;String, Map&lt;String, BigDecimal&gt;&gt; map =\r\n\t\tlist.stream()\r\n\t\t\t\t.collect(Collectors.groupingBy(\r\n\t\t\t\t\t\tReport::getDepartmentName,\r\n\t\t\t\t\t\tCollectors.toMap(Report::getCurrency,\r\n\t\t\t\t\t\t\t\tReport::getAmount, BigDecimal::add)));\r\n```\r\n- Then you would do it similar to before but convert the BigDecimal to a String here and append the currency type(`e2.getKey()`) to that.\r\n```\r\nString result = map1.entrySet().stream().flatMap(e -&gt; e\r\n\t\t\t\t.getValue().entrySet().stream()\r\n\t\t\t\t.map(e2 -&gt; e.getKey() + &quot; &quot; + e2.getValue().toString()\r\n\t\t\t\t\t\t+ &quot; &quot; + e2.getKey()))\r\n\t\t\t\t.collect(Collectors.joining(&quot;, &quot;));","title":"How to convert Map&lt;String, Map&lt;String, String&gt;&gt; to String?","body":"<blockquote>\n<p>Desired result is <code>&quot;Moscow 200 usd, Paris 100 USD, Moscow 200 RUR&quot;</code>\nTry it like this using flatMap.</p>\n</blockquote>\n<ul>\n<li>stream the entrySet of the main map.</li>\n<li>flatMap the inner map's values via entrySet again.</li>\n<li>the using the key of the outer map and the value of the inner, map them to a string.</li>\n<li>Then join the strings with a collector.</li>\n</ul>\n<pre><code>String result = map.entrySet().stream()\n        .flatMap(e -&gt; e.getValue().entrySet().stream()\n                .map(e2 -&gt; e.getKey() + &quot; &quot; + e2.getValue()))\n        .collect(Collectors.joining(&quot;, &quot;));\nSystem.out.println(result);\n</code></pre>\n<p>prints</p>\n<pre><code>Paris 100 USD, Moscow 200 RUR, Moscow 200 USD\n</code></pre>\n<p>Note:  Since maps are unordered, the order of the elements may not be consistent from run to run based on sums, additional Reports, etc.</p>\n<p>I don't know if your Map is required as is or a way to get the result, but you could also do it like this.</p>\n<ul>\n<li>use groupingBy as before but use toMap as the collector.</li>\n</ul>\n<pre><code>Map&lt;String, Map&lt;String, BigDecimal&gt;&gt; map =\n        list.stream()\n                .collect(Collectors.groupingBy(\n                        Report::getDepartmentName,\n                        Collectors.toMap(Report::getCurrency,\n                                Report::getAmount, BigDecimal::add)));\n</code></pre>\n<ul>\n<li>Then you would do it similar to before but convert the BigDecimal to a String here and append the currency type(<code>e2.getKey()</code>) to that.</li>\n</ul>\n<pre><code>String result = map1.entrySet().stream().flatMap(e -&gt; e\n                .getValue().entrySet().stream()\n                .map(e2 -&gt; e.getKey() + &quot; &quot; + e2.getValue().toString()\n                        + &quot; &quot; + e2.getKey()))\n                .collect(Collectors.joining(&quot;, &quot;));\n</code></pre>\n"}],"owner":{"account_id":14248845,"reputation":444,"user_id":11435260,"display_name":"AbrA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":418,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72533297,"answer_count":1,"score":0,"last_activity_date":1654615785,"creation_date":1654612172,"question_id":72532996,"body_markdown":"I have an entity\r\n\r\n    public class Report {\r\n        private String departmentName;\r\n        private BigDecimal amount;\r\n        private String currency;\r\n    }\r\n    \r\nand I want to calculate the amount for each department depending on the currency and write the result in the line. \r\nExample:\r\n\r\n        List&lt;Report&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(new Report(&quot;Moscow&quot;, new BigDecimal(100), &quot;USD&quot;));\r\n        list.add(new Report(&quot;Moscow&quot;, new BigDecimal(100), &quot;USD&quot;));\r\n        list.add(new Report(&quot;Paris&quot;, new BigDecimal(100), &quot;USD&quot;));\r\n        list.add(new Report(&quot;Moscow&quot;, new BigDecimal(200), &quot;RUR&quot;));\r\nResult: `&quot;Moscow 200 usd, Paris 100 USD, Moscow 200 RUR&quot;`\r\n\r\nFor it:\r\n\r\n    Map&lt;String, Map&lt;String, String&gt;&gt; collect = list.stream().collect(\r\n                Collectors.groupingBy(doc -&gt; doc.getDepartmentName(),\r\n                        Collectors.groupingBy(Report::getCurrency,\r\n                                Collectors.collectingAndThen(Collectors.toList(), doc -&gt; {\r\n                                    BigDecimal sum = doc.stream()\r\n                                            .map(A::getAmount)\r\n                                            .filter(Objects::nonNull)\r\n                                            .reduce(BigDecimal.ZERO, BigDecimal::add);\r\n\r\n                                    String cur = doc.stream().map(Report::getCurrency)\r\n                                            .findFirst().get();\r\n                                    return sum.toString() + &quot; &quot; + cur;\r\n                                }))));\r\nAnd I receive a result:\r\n\r\n    {Paris={USD=100 USD}, Moscow={USD=200 USD, RUR= 200 RUR}} -- correct\r\nbut I don&#39;t know how to convert Map&lt;String, Map&lt;String, String&gt;&gt; to String","title":"How to convert Map&lt;String, Map&lt;String, String&gt;&gt; to String?","body":"<p>I have an entity</p>\n<pre><code>public class Report {\n    private String departmentName;\n    private BigDecimal amount;\n    private String currency;\n}\n</code></pre>\n<p>and I want to calculate the amount for each department depending on the currency and write the result in the line.\nExample:</p>\n<pre><code>    List&lt;Report&gt; list = new ArrayList&lt;&gt;();\n    list.add(new Report(&quot;Moscow&quot;, new BigDecimal(100), &quot;USD&quot;));\n    list.add(new Report(&quot;Moscow&quot;, new BigDecimal(100), &quot;USD&quot;));\n    list.add(new Report(&quot;Paris&quot;, new BigDecimal(100), &quot;USD&quot;));\n    list.add(new Report(&quot;Moscow&quot;, new BigDecimal(200), &quot;RUR&quot;));\n</code></pre>\n<p>Result: <code>&quot;Moscow 200 usd, Paris 100 USD, Moscow 200 RUR&quot;</code></p>\n<p>For it:</p>\n<pre><code>Map&lt;String, Map&lt;String, String&gt;&gt; collect = list.stream().collect(\n            Collectors.groupingBy(doc -&gt; doc.getDepartmentName(),\n                    Collectors.groupingBy(Report::getCurrency,\n                            Collectors.collectingAndThen(Collectors.toList(), doc -&gt; {\n                                BigDecimal sum = doc.stream()\n                                        .map(A::getAmount)\n                                        .filter(Objects::nonNull)\n                                        .reduce(BigDecimal.ZERO, BigDecimal::add);\n\n                                String cur = doc.stream().map(Report::getCurrency)\n                                        .findFirst().get();\n                                return sum.toString() + &quot; &quot; + cur;\n                            }))));\n</code></pre>\n<p>And I receive a result:</p>\n<pre><code>{Paris={USD=100 USD}, Moscow={USD=200 USD, RUR= 200 RUR}} -- correct\n</code></pre>\n<p>but I don't know how to convert Map&lt;String, Map&lt;String, String&gt;&gt; to String</p>\n"},{"tags":["java","spring-boot","spring-jms","jackson-databind"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":2,"creation_date":1654591732,"post_id":72528330,"comment_id":128121145,"body_markdown":"Here you go https://spring.io/guides/gs/messaging-jms/  Starter on how to do JMS with Jackson","body":"Here you go <a href=\"https://spring.io/guides/gs/messaging-jms/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/messaging-jms</a>  Starter on how to do JMS with Jackson"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1654609139,"post_id":72528330,"comment_id":128127662,"body_markdown":"Jackson is the JSON library recommended by Spring Boot: https://www.baeldung.com/jackson-object-mapper-tutorial","body":"Jackson is the JSON library recommended by Spring Boot: <a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial\" rel=\"nofollow noreferrer\">baeldung.com/jackson-object-mapper-tutorial</a>"}],"owner":{"account_id":20315059,"reputation":1,"user_id":14901122,"display_name":"Edie Reynolds"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654615470,"creation_date":1654591391,"question_id":72528330,"body_markdown":"What are the annotations required on the Java object? Which message converter should be used? A standalone Spring Boot application that converts a Java object into JSON and puts a message in the queue, and reads the JSON from the same queue as a Java object. ","title":"How do I convert a Java object to JSON and vice versa using JMS message converters in Spring Boot?","body":"<p>What are the annotations required on the Java object? Which message converter should be used? A standalone Spring Boot application that converts a Java object into JSON and puts a message in the queue, and reads the JSON from the same queue as a Java object.</p>\n"},{"tags":["java","spring-boot","jackson","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":19099127,"reputation":41,"user_id":13947762,"display_name":"chaosKP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654615354,"creation_date":1654596344,"answer_id":72529356,"question_id":71768709,"body_markdown":"If the RestTemplate is provided by bean inside a @Configuration file like so:\r\n\r\n    @Bean\r\n    public RestTemplate restTemplate(RestTemplateBuilder builder) {\r\n    \treturn builder.build();\r\n    }\r\n\r\nand then autowired via @Autowired inside the service which  uses the RestTemplate and not instantiated by &quot;new RestTemplate()&quot; the autowired services inside the custom serializer are also available for the RestTemplates REST calls.","title":"Autowiring inside jackson serializer if used by RestTemplate","body":"<p>If the RestTemplate is provided by bean inside a @Configuration file like so:</p>\n<pre><code>@Bean\npublic RestTemplate restTemplate(RestTemplateBuilder builder) {\n    return builder.build();\n}\n</code></pre>\n<p>and then autowired via @Autowired inside the service which  uses the RestTemplate and not instantiated by &quot;new RestTemplate()&quot; the autowired services inside the custom serializer are also available for the RestTemplates REST calls.</p>\n"}],"owner":{"account_id":19099127,"reputation":41,"user_id":13947762,"display_name":"chaosKP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72529356,"answer_count":1,"score":0,"last_activity_date":1654615354,"creation_date":1649255709,"question_id":71768709,"body_markdown":"I have an @Autowired in one of my Serializers which extends StdSerializer\r\n\r\n    public class RefSerializer extends StdSerializer&lt;LabeledElement&gt; {\r\n    \r\n    \t@Autowired\r\n    \tI18n i18n;\r\n    \r\n    \tpublic RefSerializer() {\r\n    \t\tthis(null);\r\n    \t}\r\n    \r\n    \tpublic RefSerializer(Class&lt;LabeledElement&gt; t) {\r\n    \t\tsuper(t);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void serialize(LabeledElement element, JsonGenerator generator, SerializerProvider provider) throws IOException {\r\n    \t\tString identifier = null;\r\n    \t\tString label = LabelUtils.labelPlanElement(this.i18n, planElement, &quot;ref&quot;);\r\n    \r\n    \t\tgenerator.writeObject(ReferenceElement.of(element.getId(), label, identifier));\r\n    \t}\r\n    }\r\n\r\nand is used by @JsonSerialize inside the model class. \r\n\r\n    @JsonSerialize(contentUsing = RefSerializer.class)\r\n    @JsonDeserialize(contentUsing = PlanElementDeserializer.class)\r\n    @OneToMany(fetch = FetchType.EAGER)\r\n    private List&lt;PlanElement&gt; planElements;\r\n\r\nIf the Serializer is called inside my @RestComponent annotated endpoints the @Autowired is resolved and everything works fine for incoming and returned models.\r\n\r\nNow I want to send the model actively via RestTemplate#exchange, but now the @Autowired inside the Serializer is null.\r\n\r\n`restTemplate.exchange(endpointUrl, httpMethod, new HttpEntity&lt;&gt;(planElement, authHeader), Map.class, authParameters);`\r\n\r\nIs there a way to get the autowiring to work for outgoing REST calls with RestTemplate?\r\n\r\nUsing Spring-boot 2.6.3, Java 17","title":"Autowiring inside jackson serializer if used by RestTemplate","body":"<p>I have an @Autowired in one of my Serializers which extends StdSerializer</p>\n<pre><code>public class RefSerializer extends StdSerializer&lt;LabeledElement&gt; {\n\n    @Autowired\n    I18n i18n;\n\n    public RefSerializer() {\n        this(null);\n    }\n\n    public RefSerializer(Class&lt;LabeledElement&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(LabeledElement element, JsonGenerator generator, SerializerProvider provider) throws IOException {\n        String identifier = null;\n        String label = LabelUtils.labelPlanElement(this.i18n, planElement, &quot;ref&quot;);\n\n        generator.writeObject(ReferenceElement.of(element.getId(), label, identifier));\n    }\n}\n</code></pre>\n<p>and is used by @JsonSerialize inside the model class.</p>\n<pre><code>@JsonSerialize(contentUsing = RefSerializer.class)\n@JsonDeserialize(contentUsing = PlanElementDeserializer.class)\n@OneToMany(fetch = FetchType.EAGER)\nprivate List&lt;PlanElement&gt; planElements;\n</code></pre>\n<p>If the Serializer is called inside my @RestComponent annotated endpoints the @Autowired is resolved and everything works fine for incoming and returned models.</p>\n<p>Now I want to send the model actively via RestTemplate#exchange, but now the @Autowired inside the Serializer is null.</p>\n<p><code>restTemplate.exchange(endpointUrl, httpMethod, new HttpEntity&lt;&gt;(planElement, authHeader), Map.class, authParameters);</code></p>\n<p>Is there a way to get the autowiring to work for outgoing REST calls with RestTemplate?</p>\n<p>Using Spring-boot 2.6.3, Java 17</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1654609582,"post_id":72505128,"comment_id":128127830,"body_markdown":"As the answer below shows, streams are a pipeline, and the operations you specify happen in-order. While it&#39;s true that streams will only operate on the elements that are needed, if you have an infinite stream, you will have to sort an infinite number of elements. Limiting before sorting will solve this problem. Also note `#sorted` is a [stateful intermediate operation](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps), `stateful` in this case meaning the entire stream must be processed before continuing.","body":"As the answer below shows, streams are a pipeline, and the operations you specify happen in-order. While it&#39;s true that streams will only operate on the elements that are needed, if you have an infinite stream, you will have to sort an infinite number of elements. Limiting before sorting will solve this problem. Also note <code>#sorted</code> is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\">stateful intermediate operation</a>, <code>stateful</code> in this case meaning the entire stream must be processed before continuing."}],"answers":[{"tags":[],"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1654615158,"creation_date":1654409257,"answer_id":72505163,"question_id":72505128,"body_markdown":"The call `new Random().ints()` returns an infinite stream of pseudo random numbers. When you sort that, it internally uses an array. However, the max size of an array is obviously less than ∞. To fix the issue, use `limit` and make your stream finite first and then perform the sorting. In fact, this optimizes away the stream processing pipeline since you are sorting only necessary elements. Here&#39;s how it looks.\r\n\r\n    new Random().ints().limit(100).map(i -&gt; i / 2).sorted().toArray();\r\n\r\n**Update**\r\n\r\nAs per the suggestion made in the below comment, you can further improve it like so.\r\n\r\n    new Random().ints(100).map(i -&gt; i / 2).sorted().toArray();\r\n\r\nThe `ints` procedure produces a stream with exactly 100 pseudo random numbers and with that you can merely dispense with the `limit`. Moreover, the latter approach is a bit more succinct than the former.","title":"Java stream: limit doesnt work with Random().ints().sorted()","body":"<p>The call <code>new Random().ints()</code> returns an infinite stream of pseudo random numbers. When you sort that, it internally uses an array. However, the max size of an array is obviously less than ∞. To fix the issue, use <code>limit</code> and make your stream finite first and then perform the sorting. In fact, this optimizes away the stream processing pipeline since you are sorting only necessary elements. Here's how it looks.</p>\n<pre><code>new Random().ints().limit(100).map(i -&gt; i / 2).sorted().toArray();\n</code></pre>\n<p><strong>Update</strong></p>\n<p>As per the suggestion made in the below comment, you can further improve it like so.</p>\n<pre><code>new Random().ints(100).map(i -&gt; i / 2).sorted().toArray();\n</code></pre>\n<p>The <code>ints</code> procedure produces a stream with exactly 100 pseudo random numbers and with that you can merely dispense with the <code>limit</code>. Moreover, the latter approach is a bit more succinct than the former.</p>\n"}],"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72505163,"answer_count":1,"score":2,"last_activity_date":1654615158,"creation_date":1654408735,"question_id":72505128,"body_markdown":"I have following code:\r\n\r\n    new Random().ints()\r\n                .map(i -&gt; i / 2)\r\n                .limit(100)\r\n                .toArray()\r\n...and it works as expected.\r\n\r\nBut this doesn&#39;t work:\r\n\r\n    new Random().ints()\r\n                .sorted()\r\n                .map(i -&gt; i / 2)\r\n                .limit(100)\r\n                .toArray()\r\n\r\nIt throws: \r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Stream size exceeds max array size\r\n\r\nShouldn&#39;t limit shortcircuit the stream and help in restricting it to 100 elements?","title":"Java stream: limit doesnt work with Random().ints().sorted()","body":"<p>I have following code:</p>\n<pre><code>new Random().ints()\n            .map(i -&gt; i / 2)\n            .limit(100)\n            .toArray()\n</code></pre>\n<p>...and it works as expected.</p>\n<p>But this doesn't work:</p>\n<pre><code>new Random().ints()\n            .sorted()\n            .map(i -&gt; i / 2)\n            .limit(100)\n            .toArray()\n</code></pre>\n<p>It throws:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Stream size exceeds max array size\n</code></pre>\n<p>Shouldn't limit shortcircuit the stream and help in restricting it to 100 elements?</p>\n"},{"tags":["java","reactjs","webpack","config"],"answers":[{"tags":[],"owner":{"account_id":7537224,"reputation":18493,"user_id":5723098,"accept_rate":80,"display_name":"Harshal Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654615134,"creation_date":1654615134,"answer_id":72533756,"question_id":72531292,"body_markdown":"There are two ways you can solve this problem.\r\n\r\nFirst approach involves using `&lt;base /&gt;` tag along with `document.write`. The idea is to generate a bundle without using any hard-coded URL. All the bundle scripts that are added to your `index.html` file (probably by [html-webpack-plugin][1]) should be relative URLs. The `index.html` file should have following code in the `head` tag.\r\n\r\n```html\r\n&lt;head&gt;\r\n\r\n  &lt;!-- VERY FIRST STATEMENT --&gt;\r\n  &lt;script&gt;\r\n    const [_, appname] = window.location.pathname.split(&#39;/&#39;);\r\n\r\n    // The trailing slash `/` is important.\r\n    document.write(`&lt;base href=&quot;/${appname}/&quot; /&gt;`);\r\n  &lt;/script&gt;\r\n\r\n  &lt;!-- Auto injected by html-webpack-plugin --&gt;\r\n  &lt;script src=&quot;rma/script/react-app/vendor/js/index.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n```\r\n\r\nThis will cause your `rma/script/react-app/vendor/js/index.min.js` to be loaded as `https/abcdefg.com/abc/rma/script/react-app/vendor/js/index.min.js` where `abc` is your application name parsed from the URL.\r\n\r\nHowever, using `document.write` is anti-pattern and discouraged. But advantage is that you can make use of Webpack&#39;s hash or chuckhash for bundle names to easily bust cache for the script on each new deployment.\r\n\r\nThe second approach involves writing an async injector for your bundled scripts. In your `index.html`, add the following to head tag:\r\n\r\n```html\r\n&lt;head&gt;\r\n\r\n  &lt;!-- VERY FIRST STATEMENT --&gt;\r\n  &lt;script&gt;\r\n    \r\n    document.addEventListener(&#39;DOMContentLoaded&#39;, () =&gt; {\r\n      const [_, appname] = window.location.pathname.split(&#39;/&#39;);\r\n      \r\n      const script = document.createElement(&#39;script&#39;);\r\n\r\n      // Use root relative `src` for the scripts\r\n      script.src = `/${appname}/rma/script/react-app/vendor/js/index.min.js`;\r\n\r\n      document.body.append(script);\r\n    });\r\n\r\n  &lt;/script&gt;\r\n\r\n&lt;/head&gt;\r\n```\r\n\r\nThe advantage is that this is cleaner approach. The downside is that, you will have slight momentary delay and you need to no upfront the name of the generated bundle file like `react-app/vendor/js/index.min.js` meaning you won&#39;t be able to use Webpack&#39;s `[hash]` or `[chunkhash]` [feature][2].\r\n\r\n\r\n[1]: https://github.com/jantimon/html-webpack-plugin\r\n[2]: https://webpack.js.org/guides/caching/","title":"How to get the URL in webpack - react application","body":"<p>There are two ways you can solve this problem.</p>\n<p>First approach involves using <code>&lt;base /&gt;</code> tag along with <code>document.write</code>. The idea is to generate a bundle without using any hard-coded URL. All the bundle scripts that are added to your <code>index.html</code> file (probably by <a href=\"https://github.com/jantimon/html-webpack-plugin\" rel=\"nofollow noreferrer\">html-webpack-plugin</a>) should be relative URLs. The <code>index.html</code> file should have following code in the <code>head</code> tag.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;head&gt;\n\n  &lt;!-- VERY FIRST STATEMENT --&gt;\n  &lt;script&gt;\n    const [_, appname] = window.location.pathname.split('/');\n\n    // The trailing slash `/` is important.\n    document.write(`&lt;base href=&quot;/${appname}/&quot; /&gt;`);\n  &lt;/script&gt;\n\n  &lt;!-- Auto injected by html-webpack-plugin --&gt;\n  &lt;script src=&quot;rma/script/react-app/vendor/js/index.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n<p>This will cause your <code>rma/script/react-app/vendor/js/index.min.js</code> to be loaded as <code>https/abcdefg.com/abc/rma/script/react-app/vendor/js/index.min.js</code> where <code>abc</code> is your application name parsed from the URL.</p>\n<p>However, using <code>document.write</code> is anti-pattern and discouraged. But advantage is that you can make use of Webpack's hash or chuckhash for bundle names to easily bust cache for the script on each new deployment.</p>\n<p>The second approach involves writing an async injector for your bundled scripts. In your <code>index.html</code>, add the following to head tag:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;head&gt;\n\n  &lt;!-- VERY FIRST STATEMENT --&gt;\n  &lt;script&gt;\n    \n    document.addEventListener('DOMContentLoaded', () =&gt; {\n      const [_, appname] = window.location.pathname.split('/');\n      \n      const script = document.createElement('script');\n\n      // Use root relative `src` for the scripts\n      script.src = `/${appname}/rma/script/react-app/vendor/js/index.min.js`;\n\n      document.body.append(script);\n    });\n\n  &lt;/script&gt;\n\n&lt;/head&gt;\n</code></pre>\n<p>The advantage is that this is cleaner approach. The downside is that, you will have slight momentary delay and you need to no upfront the name of the generated bundle file like <code>react-app/vendor/js/index.min.js</code> meaning you won't be able to use Webpack's <code>[hash]</code> or <code>[chunkhash]</code> <a href=\"https://webpack.js.org/guides/caching/\" rel=\"nofollow noreferrer\">feature</a>.</p>\n"}],"owner":{"account_id":4225038,"reputation":15,"user_id":3458749,"display_name":"user3458749"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72533756,"answer_count":1,"score":1,"last_activity_date":1654615134,"creation_date":1654605034,"question_id":72531292,"body_markdown":"My question might be silly so please bear with me.\r\n\r\n**Background** : I have a project which consists of multiple java solutions as BE and 1 react application as FE application. when we build the entire solution, a war file gets generated which we deploy on different servers to load the application.\r\n\r\n**Requirement** : We need to create single war file irrespective of the env.\r\n\r\n**Issue** : we cannot have separate build scripts and generate different war files, so creating config with different values will not work. the only option is to read the URL and use it. But it wont be available at the time of war generation.\r\n\r\n**env1 URL** : https/abcdefg.com/abc/rma/....\r\n\r\n**env2 URL** : https/abcdefg.com/def/rma/....\r\n\r\nTill now, we kept *application_context* in env file, and were updating that as per the env we are deploying. I am not getting how do I update it without the access of the URL in webpack. And if it can be done in react application, how do I do it? As of now if I deploy env1 war file to env2 I get this error -\r\n\r\nGET *https/abcdefg.com/abc/rma/script/react-app/vendor/js/index.min.js net::ERR_ABORTED 404*","title":"How to get the URL in webpack - react application","body":"<p>My question might be silly so please bear with me.</p>\n<p><strong>Background</strong> : I have a project which consists of multiple java solutions as BE and 1 react application as FE application. when we build the entire solution, a war file gets generated which we deploy on different servers to load the application.</p>\n<p><strong>Requirement</strong> : We need to create single war file irrespective of the env.</p>\n<p><strong>Issue</strong> : we cannot have separate build scripts and generate different war files, so creating config with different values will not work. the only option is to read the URL and use it. But it wont be available at the time of war generation.</p>\n<p><strong>env1 URL</strong> : https/abcdefg.com/abc/rma/....</p>\n<p><strong>env2 URL</strong> : https/abcdefg.com/def/rma/....</p>\n<p>Till now, we kept <em>application_context</em> in env file, and were updating that as per the env we are deploying. I am not getting how do I update it without the access of the URL in webpack. And if it can be done in react application, how do I do it? As of now if I deploy env1 war file to env2 I get this error -</p>\n<p>GET <em>https/abcdefg.com/abc/rma/script/react-app/vendor/js/index.min.js net::ERR_ABORTED 404</em></p>\n"},{"tags":["java","ssl","socket.io","netty","boringssl"],"comments":[{"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"score":0,"creation_date":1636541817,"post_id":69905690,"comment_id":123582799,"body_markdown":"please show the whole stack trace","body":"please show the whole stack trace"},{"owner":{"account_id":3712824,"reputation":133,"user_id":3089666,"display_name":"CovaDax"},"score":0,"creation_date":1636551877,"post_id":69905690,"comment_id":123586919,"body_markdown":"sorry about that, added","body":"sorry about that, added"}],"answers":[{"tags":[],"owner":{"account_id":45053,"reputation":3163,"user_id":132565,"accept_rate":67,"display_name":"Chase"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654614860,"creation_date":1654614860,"answer_id":72533691,"question_id":69905690,"body_markdown":"Does the server you are connecting to use Server Name Indication (SNI)? You&#39;ll sometimes get a javax.net.ssl.SSLHandshakeException: error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER and a similar stacktrace if you don&#39;t enable SNI on the client.\r\n\r\nTo enable SNI you&#39;d need to change:\r\n\r\n``` java\r\nprotected SslHandler getSslHandler(Channel ch) {\r\n    try {\r\n        final SslContext sslCtx = sslService.getSslContext();\r\n        return sslCtx.newHandler(ch.alloc());\r\n    } catch (IOException e) {\r\n        log.debug(&quot;Failed to establish Ssl Context&quot;, e);\r\n        ch.writeAndFlush(&quot;Failed to establish SSH Context&quot;);\r\n        ch.close();\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nTo\r\n\r\n``` java\r\nprotected SslHandler getSslHandler(Channel ch, String host, int port) {\r\n    try {\r\n        final SslContext sslCtx = sslService.getSslContext();\r\n        return sslCtx.newHandler(ch.alloc(), host, port);\r\n    } catch (IOException e) {\r\n        log.debug(&quot;Failed to establish Ssl Context&quot;, e);\r\n        ch.writeAndFlush(&quot;Failed to establish SSH Context&quot;);\r\n        ch.close();\r\n    }\r\n    return null;\r\n}\r\n```\r\n","title":"Netty Socket SSLHandshakeException WRONG_VERSION_NUMBER","body":"<p>Does the server you are connecting to use Server Name Indication (SNI)? You'll sometimes get a javax.net.ssl.SSLHandshakeException: error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER and a similar stacktrace if you don't enable SNI on the client.</p>\n<p>To enable SNI you'd need to change:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected SslHandler getSslHandler(Channel ch) {\n    try {\n        final SslContext sslCtx = sslService.getSslContext();\n        return sslCtx.newHandler(ch.alloc());\n    } catch (IOException e) {\n        log.debug(&quot;Failed to establish Ssl Context&quot;, e);\n        ch.writeAndFlush(&quot;Failed to establish SSH Context&quot;);\n        ch.close();\n    }\n    return null;\n}\n</code></pre>\n<p>To</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected SslHandler getSslHandler(Channel ch, String host, int port) {\n    try {\n        final SslContext sslCtx = sslService.getSslContext();\n        return sslCtx.newHandler(ch.alloc(), host, port);\n    } catch (IOException e) {\n        log.debug(&quot;Failed to establish Ssl Context&quot;, e);\n        ch.writeAndFlush(&quot;Failed to establish SSH Context&quot;);\n        ch.close();\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":3712824,"reputation":133,"user_id":3089666,"display_name":"CovaDax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1662,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654614860,"creation_date":1636495690,"question_id":69905690,"body_markdown":"I&#39;m having issues with using a cert on a netty pipeline. The Netty pipeline is executed by Spring, but the SSL is only a part of the Netty portion.\r\n\r\nfor dependencies I&#39;m using netty and boringssl\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;version&gt;4.1.70.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;netty-tcnative-boringssl-static&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.45.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI start my pipeline with adding the sslhandler\r\n\r\n    @Override\r\n    protected void initChannel(Channel ch) {\r\n        if (sslProperties.isSecured())\r\n            ch.pipeline().addLast(&quot;ssl-handler&quot;, getSslHandler(ch));\r\n    }\r\n\r\nthat gets the handler from a function\r\n\r\n    protected SslHandler getSslHandler(Channel ch) {\r\n        try {\r\n            final SslContext sslCtx = sslService.getSslContext();\r\n            return sslCtx.newHandler(ch.alloc());\r\n        } catch (IOException e) {\r\n            log.debug(&quot;Failed to establish Ssl Context&quot;, e);\r\n            ch.writeAndFlush(&quot;Failed to establish SSH Context&quot;);\r\n            ch.close();\r\n        }\r\n        return null;\r\n    }\r\n\r\nand finally makes the context\r\n\r\n    public SslContext getSslContext() throws SSLException {\r\n        PrivateKey privateKey = getPrivateKey();\r\n        X509Certificate[] certChain = getCertificateChain();\r\n        try {\r\n            return SslContextBuilder.forClient()\r\n                    .sslProvider(SslProvider.OPENSSL)\r\n                    .protocols(&quot;TLSv1&quot;, &quot;TLSv1.1&quot;, &quot;TLSv1.2&quot;, &quot;TLSv1.3&quot;)\r\n                    .trustManager(InsecureTrustManagerFactory.INSTANCE)\r\n                    .keyManager(privateKey, certChain)\r\n                    .build();\r\n        } catch (IOException e) {\r\n            log.warn(&quot;Failed to establish Ssl Context&quot;);\r\n            log.debug(&quot;Failed to establish Ssl Context&quot;, e);\r\n            throw e;\r\n        }\r\n    }\r\n\r\nThe PrivateKey and CertChain are constructed properly, but once a client tries to connect for the first time I get\r\n\r\nio.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER\r\n\r\nI&#39;ve had this working in the past, connecting to a separate server, and it worked fine then. The Channel is Initializing and it crashes when trying to read from the socket. It does not hit my try catches, and only reports the below stacktrace.\r\n\r\nI know that currently i&#39;m dealing with a TLSv1.3 where before I don&#39;t know exactly what was used. In addition, I was using JDK 1.8 when this problem was discovered, I&#39;m currently on JDK 17. I&#39;ve noticed some people saying that not all versions of 1.8 support TLSv1.3.\r\n\r\n    2021-11-10 08:41:47,218 ERROR [nioEventLoopGroup-2-1] com.test.router.nio.pipeline.handler.InboundClientCompleteHandler: Exception Caught from inbound-client-complete-handler\r\n    io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:477)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.handler.traffic.GlobalChannelTrafficShapingHandler.channelRead(GlobalChannelTrafficShapingHandler.java:573)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER\r\n    \tat io.netty.handler.ssl.ReferenceCountedOpenSslEngine.needWrapAgain(ReferenceCountedOpenSslEngine.java:1334)\r\n    \tat io.netty.handler.ssl.ReferenceCountedOpenSslEngine.sslReadErrorResult(ReferenceCountedOpenSslEngine.java:1351)\r\n    \tat io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1296)\r\n    \tat io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1383)\r\n    \tat io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1426)\r\n    \tat io.netty.handler.ssl.SslHandler$SslEngineType$1.unwrap(SslHandler.java:222)\r\n    \tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)\r\n    \tat io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)\r\n    \tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:507)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:446)\r\n    \t... 25 common frames omitted\r\n    2021-11-10 08:41:47,218 DEBUG [nioEventLoopGroup-2-1] com.test.router.pipeline.handler.decoder.EventDecoder: Caught Exception in EventDecoder: \r\n    io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:477)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.handler.traffic.GlobalChannelTrafficShapingHandler.channelRead(GlobalChannelTrafficShapingHandler.java:573)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER\r\n    \tat io.netty.handler.ssl.ReferenceCountedOpenSslEngine.needWrapAgain(ReferenceCountedOpenSslEngine.java:1334)\r\n    \tat io.netty.handler.ssl.ReferenceCountedOpenSslEngine.sslReadErrorResult(ReferenceCountedOpenSslEngine.java:1351)\r\n    \tat io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1296)\r\n    \tat io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1383)\r\n    \tat io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1426)\r\n    \tat io.netty.handler.ssl.SslHandler$SslEngineType$1.unwrap(SslHandler.java:222)\r\n    \tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)\r\n    \tat io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)\r\n    \tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:507)\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:446)\r\n    \t... 25 common frames omitted","title":"Netty Socket SSLHandshakeException WRONG_VERSION_NUMBER","body":"<p>I'm having issues with using a cert on a netty pipeline. The Netty pipeline is executed by Spring, but the SSL is only a part of the Netty portion.</p>\n<p>for dependencies I'm using netty and boringssl</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;version&gt;4.1.70.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-tcnative-boringssl-static&lt;/artifactId&gt;\n        &lt;version&gt;2.0.45.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I start my pipeline with adding the sslhandler</p>\n<pre><code>@Override\nprotected void initChannel(Channel ch) {\n    if (sslProperties.isSecured())\n        ch.pipeline().addLast(&quot;ssl-handler&quot;, getSslHandler(ch));\n}\n</code></pre>\n<p>that gets the handler from a function</p>\n<pre><code>protected SslHandler getSslHandler(Channel ch) {\n    try {\n        final SslContext sslCtx = sslService.getSslContext();\n        return sslCtx.newHandler(ch.alloc());\n    } catch (IOException e) {\n        log.debug(&quot;Failed to establish Ssl Context&quot;, e);\n        ch.writeAndFlush(&quot;Failed to establish SSH Context&quot;);\n        ch.close();\n    }\n    return null;\n}\n</code></pre>\n<p>and finally makes the context</p>\n<pre><code>public SslContext getSslContext() throws SSLException {\n    PrivateKey privateKey = getPrivateKey();\n    X509Certificate[] certChain = getCertificateChain();\n    try {\n        return SslContextBuilder.forClient()\n                .sslProvider(SslProvider.OPENSSL)\n                .protocols(&quot;TLSv1&quot;, &quot;TLSv1.1&quot;, &quot;TLSv1.2&quot;, &quot;TLSv1.3&quot;)\n                .trustManager(InsecureTrustManagerFactory.INSTANCE)\n                .keyManager(privateKey, certChain)\n                .build();\n    } catch (IOException e) {\n        log.warn(&quot;Failed to establish Ssl Context&quot;);\n        log.debug(&quot;Failed to establish Ssl Context&quot;, e);\n        throw e;\n    }\n}\n</code></pre>\n<p>The PrivateKey and CertChain are constructed properly, but once a client tries to connect for the first time I get</p>\n<p>io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER</p>\n<p>I've had this working in the past, connecting to a separate server, and it worked fine then. The Channel is Initializing and it crashes when trying to read from the socket. It does not hit my try catches, and only reports the below stacktrace.</p>\n<p>I know that currently i'm dealing with a TLSv1.3 where before I don't know exactly what was used. In addition, I was using JDK 1.8 when this problem was discovered, I'm currently on JDK 17. I've noticed some people saying that not all versions of 1.8 support TLSv1.3.</p>\n<pre><code>2021-11-10 08:41:47,218 ERROR [nioEventLoopGroup-2-1] com.test.router.nio.pipeline.handler.InboundClientCompleteHandler: Exception Caught from inbound-client-complete-handler\nio.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:477)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.traffic.GlobalChannelTrafficShapingHandler.channelRead(GlobalChannelTrafficShapingHandler.java:573)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: javax.net.ssl.SSLHandshakeException: error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER\n    at io.netty.handler.ssl.ReferenceCountedOpenSslEngine.needWrapAgain(ReferenceCountedOpenSslEngine.java:1334)\n    at io.netty.handler.ssl.ReferenceCountedOpenSslEngine.sslReadErrorResult(ReferenceCountedOpenSslEngine.java:1351)\n    at io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1296)\n    at io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1383)\n    at io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1426)\n    at io.netty.handler.ssl.SslHandler$SslEngineType$1.unwrap(SslHandler.java:222)\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)\n    at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:507)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:446)\n    ... 25 common frames omitted\n2021-11-10 08:41:47,218 DEBUG [nioEventLoopGroup-2-1] com.test.router.pipeline.handler.decoder.EventDecoder: Caught Exception in EventDecoder: \nio.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:477)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.traffic.GlobalChannelTrafficShapingHandler.channelRead(GlobalChannelTrafficShapingHandler.java:573)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: javax.net.ssl.SSLHandshakeException: error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER\n    at io.netty.handler.ssl.ReferenceCountedOpenSslEngine.needWrapAgain(ReferenceCountedOpenSslEngine.java:1334)\n    at io.netty.handler.ssl.ReferenceCountedOpenSslEngine.sslReadErrorResult(ReferenceCountedOpenSslEngine.java:1351)\n    at io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1296)\n    at io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1383)\n    at io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1426)\n    at io.netty.handler.ssl.SslHandler$SslEngineType$1.unwrap(SslHandler.java:222)\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1342)\n    at io.netty.handler.ssl.SslHandler.decodeNonJdkCompatible(SslHandler.java:1246)\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1286)\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:507)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:446)\n    ... 25 common frames omitted\n</code></pre>\n"},{"tags":["java","android","memory-leaks","rx-java","rx-android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654620869,"post_id":72533607,"comment_id":128132335,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1654757437,"post_id":72533607,"comment_id":128168840,"body_markdown":"If you keep a reference to the chain somewhere, i.e., through a `Disposable`, it is likely anything you referenced in `subscribe` callbacks are still strongly referenced. You could use http://reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/core/Completable.html#subscribe-io.reactivex.rxjava3.functions.Action-io.reactivex.rxjava3.functions.Consumer-io.reactivex.rxjava3.disposables.DisposableContainer- so that termination will remove the observer/disposable from the container.","body":"If you keep a reference to the chain somewhere, i.e., through a <code>Disposable</code>, it is likely anything you referenced in <code>subscribe</code> callbacks are still strongly referenced. You could use <a href=\"http://reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/core/Completable.html#subscribe-io.reactivex.rxjava3.functions.Action-io.reactivex.rxjava3.functions.Consumer-io.reactivex.rxjava3.disposables.DisposableContainer-\" rel=\"nofollow noreferrer\">reactivex.io/RxJava/3.x/javadoc/io/reactivex/rxjava3/core/&hellip;</a> so that termination will remove the observer/disposable from the container."}],"owner":{"account_id":24740690,"reputation":35,"user_id":18627476,"display_name":"detcle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654614495,"creation_date":1654614495,"question_id":72533607,"body_markdown":"I wanted to ask something with regards to memory leaks in general in RxJava.\r\n\r\nOnce a Single or Completable&#39;s subscription terminates (i.e. after onSuccess or onError, etc. is called), is it safe to assume that there will be no memory retained by this subscription? I wanted to ask specifically about Single or Completable because the documentation says that they terminate immediately after the execution of the subscription callbacks, unlike Observables which have to be disposed of explicitly.\r\n\r\nFor example in Android, if I had a Single or Completable that contained a strong reference to an Activity or Context, and the activity was destroyed before the Single/Completable finishes executing, it would only leak memory temporarily until the Single/Completable emits a value; and once it emits a value and thus the subscription is terminated, its reference to the activity/context would be gone along with this subscription, and hence there will be no memory leak anymore, is that correct?\r\n\r\n","title":"Memory leaks in general in RxJava","body":"<p>I wanted to ask something with regards to memory leaks in general in RxJava.</p>\n<p>Once a Single or Completable's subscription terminates (i.e. after onSuccess or onError, etc. is called), is it safe to assume that there will be no memory retained by this subscription? I wanted to ask specifically about Single or Completable because the documentation says that they terminate immediately after the execution of the subscription callbacks, unlike Observables which have to be disposed of explicitly.</p>\n<p>For example in Android, if I had a Single or Completable that contained a strong reference to an Activity or Context, and the activity was destroyed before the Single/Completable finishes executing, it would only leak memory temporarily until the Single/Completable emits a value; and once it emits a value and thus the subscription is terminated, its reference to the activity/context would be gone along with this subscription, and hence there will be no memory leak anymore, is that correct?</p>\n"},{"tags":["java","android","button","view","casting"],"comments":[{"owner":{"account_id":1243250,"reputation":1,"user_id":1205307,"display_name":"dvin"},"score":1,"creation_date":1329064475,"post_id":2805983,"comment_id":12128672,"body_markdown":"May be, you created class &quot;Button&quot; in your project?","body":"May be, you created class &quot;Button&quot; in your project?"}],"answers":[{"tags":[],"owner":{"account_id":84482,"reputation":24850,"user_id":236136,"accept_rate":84,"display_name":"CaseyB"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1273521602,"creation_date":1273521602,"answer_id":2806021,"question_id":2805983,"body_markdown":"Is the exception a ClassCastException?  If so then the view you are finding with the id `my_button` isn&#39;t a button.  If it&#39;s a NullPointerException then there is no view with the id my_button.  This could be cause by not calling setContent() before you try to find the views.","title":"Android : Cannot cast from View to Button","body":"<p>Is the exception a ClassCastException?  If so then the view you are finding with the id <code>my_button</code> isn't a button.  If it's a NullPointerException then there is no view with the id my_button.  This could be cause by not calling setContent() before you try to find the views.</p>\n"},{"tags":[],"owner":{"account_id":359976,"reputation":170,"user_id":701702,"accept_rate":75,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341836372,"creation_date":1302529972,"answer_id":5622319,"question_id":2805983,"body_markdown":"My guess is that your XML view (my_button) is not a button. Otherwise, are you sure that the id for your button is correct? It should read like &quot;`android:id=&quot;@+id/my_button&quot;`&quot;  as well as having a width and a height. Please post your XML file.","title":"Android : Cannot cast from View to Button","body":"<p>My guess is that your XML view (my_button) is not a button. Otherwise, are you sure that the id for your button is correct? It should read like \"<code>android:id=\"@+id/my_button\"</code>\"  as well as having a width and a height. Please post your XML file.</p>\n"},{"tags":[],"owner":{"account_id":466534,"reputation":2116,"user_id":871340,"accept_rate":81,"display_name":"sanjay"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1317565854,"creation_date":1317565854,"answer_id":7626962,"question_id":2805983,"body_markdown":"  try this,    \r\n    \r\n    android.widget.Button myButton = (android.widget.Button)findViewById(R.id.my_button); ","title":"Android : Cannot cast from View to Button","body":"<p>try this,    </p>\n\n<pre><code>android.widget.Button myButton = (android.widget.Button)findViewById(R.id.my_button); \n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1499731"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345739032,"creation_date":1345739032,"answer_id":12096125,"question_id":2805983,"body_markdown":"*In addition to* everything else already mentioned, I would also suggest you take a look at your import statements at the top of the document. I&#39;ve found this one in particular to be very annoying:\r\n\r\n    import android.R;\r\n\r\nDoing this means every time you reference R.id.my_button in the rest of your program, it looks through Android&#39;s default resources instead of your own.","title":"Android : Cannot cast from View to Button","body":"<p><em>In addition to</em> everything else already mentioned, I would also suggest you take a look at your import statements at the top of the document. I've found this one in particular to be very annoying:</p>\n\n<pre><code>import android.R;\n</code></pre>\n\n<p>Doing this means every time you reference R.id.my_button in the rest of your program, it looks through Android's default resources instead of your own.</p>\n"},{"tags":[],"owner":{"account_id":1654265,"reputation":6328,"user_id":1524209,"display_name":"Joe Plante"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348075801,"creation_date":1348075801,"answer_id":12499888,"question_id":2805983,"body_markdown":"I actually encountered this in code I was doing. Basically it was the &quot;If it looks like a duck and if it sounds like a duck, then why the bloody *insert expletive here* aren&#39;t you seeing it as a duck?&quot; situation. I changed the equivalent of android:id=&quot;@+id/someid&quot; by changing it to equivalent of android:id=&quot;@+id/someid_x&quot; (don&#39;t forget to do this in Java as well) and everything worked like clockwork again. \r\n\r\nSo, in my situation, I believe that there might have been an ID out there referencing another object in the R table, and it was getting the wrong or unintended item. The strangest thing is that it started to happen when put a set of views into a RelativeLayout","title":"Android : Cannot cast from View to Button","body":"<p>I actually encountered this in code I was doing. Basically it was the \"If it looks like a duck and if it sounds like a duck, then why the bloody <em>insert expletive here</em> aren't you seeing it as a duck?\" situation. I changed the equivalent of android:id=\"@+id/someid\" by changing it to equivalent of android:id=\"@+id/someid_x\" (don't forget to do this in Java as well) and everything worked like clockwork again. </p>\n\n<p>So, in my situation, I believe that there might have been an ID out there referencing another object in the R table, and it was getting the wrong or unintended item. The strangest thing is that it started to happen when put a set of views into a RelativeLayout</p>\n"},{"tags":[],"owner":{"account_id":477481,"reputation":31,"user_id":889010,"display_name":"Bewczardski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1349836020,"creation_date":1349836020,"answer_id":12811117,"question_id":2805983,"body_markdown":"I too have encountered this error and was unable to find a reason why it was happening. Like Joe Plante points out if it isn&#39;t working then something is wrong.... \r\n\r\nIn my scenario I happened to give the Relative Layout an id (ie clicking in a blank space in the graphical layout) the same ID as my button. This was causing the wrong View to be returned by FindViewById(R.id.my_button);\r\n\r\nTo check this in your xml see if the &lt;RelativeLayout has an android:id attribute:\r\n\r\n    &lt;RelativeLayout xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; &gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/btnRecipe&quot;","title":"Android : Cannot cast from View to Button","body":"<p>I too have encountered this error and was unable to find a reason why it was happening. Like Joe Plante points out if it isn't working then something is wrong.... </p>\n\n<p>In my scenario I happened to give the Relative Layout an id (ie clicking in a blank space in the graphical layout) the same ID as my button. This was causing the wrong View to be returned by FindViewById(R.id.my_button);</p>\n\n<p>To check this in your xml see if the \n\n<pre><code>&lt;RelativeLayout xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" &gt;\n\n    &lt;Button\n        android:id=\"@+id/btnRecipe\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3584417,"reputation":1,"user_id":2991895,"display_name":"Jefri singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385980575,"creation_date":1385980575,"answer_id":20326140,"question_id":2805983,"body_markdown":"this class cast exception occurred while calling the widget type mismatch like you having one Image View image1, but you are calling that in java code by  using \r\nImageButton ib=(ImageButto) findViewById(R.id.image1);\r\nthat time you get the error message like that\r\n ","title":"Android : Cannot cast from View to Button","body":"<p>this class cast exception occurred while calling the widget type mismatch like you having one Image View image1, but you are calling that in java code by  using \nImageButton ib=(ImageButto) findViewById(R.id.image1);\nthat time you get the error message like that</p>\n"},{"tags":[],"owner":{"account_id":5137929,"reputation":533,"user_id":5657715,"display_name":"Ajay V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449642373,"creation_date":1449642058,"answer_id":34171996,"question_id":2805983,"body_markdown":"Check if you have missed this line\r\n\r\n&lt;code&gt; import android.view.View; &lt;/code&gt;","title":"Android : Cannot cast from View to Button","body":"<p>Check if you have missed this line</p>\n\n<p><code> import android.view.View; </code></p>\n"},{"tags":[],"owner":{"account_id":6090918,"reputation":1398,"user_id":4753198,"accept_rate":67,"display_name":"sonichy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566702404,"creation_date":1566702404,"answer_id":57642930,"question_id":2805983,"body_markdown":"I met this in Android Studio 3.5, the IDE has not discover library by intelligence.  \r\nI solved this by manually insert the library:\r\n```\r\nimport android.widget.Button;\r\n```\r\n","title":"Android : Cannot cast from View to Button","body":"<p>I met this in Android Studio 3.5, the IDE has not discover library by intelligence.<br>\nI solved this by manually insert the library:</p>\n\n<pre><code>import android.widget.Button;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8116778,"reputation":89,"user_id":6115036,"display_name":"Cyr1lfiggus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577537735,"creation_date":1577537735,"answer_id":59511082,"question_id":2805983,"body_markdown":"In my case it was the failure to import the android.widget.Button. Once this was complete the errors resolved. \r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.os.Bundle;\r\n    import android.widget.TextView;\r\n    import android.widget.Button;\r\n\r\n","title":"Android : Cannot cast from View to Button","body":"<p>In my case it was the failure to import the android.widget.Button. Once this was complete the errors resolved. </p>\n\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\nimport android.widget.Button;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10313291,"reputation":1698,"user_id":7608371,"display_name":"Noor Hossain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579787922,"creation_date":1579787922,"answer_id":59880327,"question_id":2805983,"body_markdown":"In my case, I had created an activity, named &#39;Button&#39;. This contradict with button widget. When I change my activity name with &quot;ButtonActivity&quot;, then the problem has gone. ","title":"Android : Cannot cast from View to Button","body":"<p>In my case, I had created an activity, named 'Button'. This contradict with button widget. When I change my activity name with \"ButtonActivity\", then the problem has gone. </p>\n"},{"tags":[],"owner":{"account_id":25498160,"reputation":1,"user_id":19291918,"display_name":"Sky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654614378,"creation_date":1654614378,"answer_id":72533581,"question_id":2805983,"body_markdown":"In my case, I missed that I&#39;m  using an ImageButton.\r\n\r\nCheck it too\r\n \r\n","title":"Android : Cannot cast from View to Button","body":"<p>In my case, I missed that I'm  using an ImageButton.</p>\n<p>Check it too</p>\n"}],"owner":{"account_id":615137,"reputation":21,"user_id":337630,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15585,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":12,"score":2,"last_activity_date":1654614378,"creation_date":1273521330,"question_id":2805983,"body_markdown":"I just started working with the Android, but seem to have come across a problem that I simply can&#39;t find the answer to.  I get the error &quot;Cannot cast from View to Button&quot; on this line :\r\n\r\n    Button myButton = (Button)findViewById(R.id.my_button);\r\n\r\nI&#39;ve tried many different things to get it going, and I&#39;ve searched for the answer, but for some reason it just refuses to work right.  If anybody could point me in the right direction it&#39;d be most appreciated.\r\n\r\nThank in advance.","title":"Android : Cannot cast from View to Button","body":"<p>I just started working with the Android, but seem to have come across a problem that I simply can't find the answer to.  I get the error \"Cannot cast from View to Button\" on this line :</p>\n\n<pre><code>Button myButton = (Button)findViewById(R.id.my_button);\n</code></pre>\n\n<p>I've tried many different things to get it going, and I've searched for the answer, but for some reason it just refuses to work right.  If anybody could point me in the right direction it'd be most appreciated.</p>\n\n<p>Thank in advance.</p>\n"},{"tags":["java","css","selenium","wildcard"],"answers":[{"tags":[],"owner":{"account_id":9925735,"reputation":109,"user_id":7347393,"display_name":"Hrach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654614244,"creation_date":1654614244,"answer_id":72533548,"question_id":72532557,"body_markdown":"This worked for me:\r\n\r\n    &quot;[id^=&#39;cell_&#39;][id*=&#39;button&#39;]&quot;.","title":"Multiple &quot;conditions&quot; for CSS wildcard selectors in Selenium","body":"<p>This worked for me:</p>\n<pre><code>&quot;[id^='cell_'][id*='button']&quot;.\n</code></pre>\n"}],"owner":{"account_id":9925735,"reputation":109,"user_id":7347393,"display_name":"Hrach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":599,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72533548,"answer_count":1,"score":0,"last_activity_date":1654614244,"creation_date":1654610425,"question_id":72532557,"body_markdown":"I have multiple CSS webelements whose ids have the following form:\r\n\r\n    cell_[number]-button_[number]\r\n\r\nI want to select ALL such webelements by asking Selenium to find all elements that start with *cell* and contain *button*:\r\n\r\n```java\r\nvar elements = Util.driver.findElements(By.cssSelector(&quot;[id^=&#39;cell_&#39;] and [id*=&#39;button&#39;]&quot;));\r\n```\r\nIs this the correct way to do it? Running this code returns a list with zero elements, so something is wrong.","title":"Multiple &quot;conditions&quot; for CSS wildcard selectors in Selenium","body":"<p>I have multiple CSS webelements whose ids have the following form:</p>\n<pre><code>cell_[number]-button_[number]\n</code></pre>\n<p>I want to select ALL such webelements by asking Selenium to find all elements that start with <em>cell</em> and contain <em>button</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var elements = Util.driver.findElements(By.cssSelector(&quot;[id^='cell_'] and [id*='button']&quot;));\n</code></pre>\n<p>Is this the correct way to do it? Running this code returns a list with zero elements, so something is wrong.</p>\n"},{"tags":["java","memory","memory-management"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1652856512,"post_id":72284196,"comment_id":127704468,"body_markdown":"You need to clarify your question.  You don&#39;t have an object.  You have a static method that returns a `String`.   The amount of memory occupied by the code of the `Utils` class is not possible to determine (unless you are prepared to do a huge amount of research and &quot;bookkeeping&quot;), and it is probably irrelevant.","body":"You need to clarify your question.  You don&#39;t have an object.  You have a static method that returns a <code>String</code>.   The amount of memory occupied by the code of the <code>Utils</code> class is not possible to determine (unless you are prepared to do a huge amount of research and &quot;bookkeeping&quot;), and it is probably irrelevant."},{"owner":{"account_id":3837785,"reputation":277,"user_id":3181718,"display_name":"jr593"},"score":0,"creation_date":1652856898,"post_id":72284196,"comment_id":127704598,"body_markdown":"Why do you need to know how much memory an instance of this will take ?. In any case, it will depend on the runtime environment.","body":"Why do you need to know how much memory an instance of this will take ?. In any case, it will depend on the runtime environment."}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1654614082,"creation_date":1652857445,"answer_id":72284559,"question_id":72284196,"body_markdown":"You can&#39;t. You can only do some very rough estimates. It depends on the version of your JRE.\r\n\r\n- Every instance has a minimum memory footprint for management information like a reference to the defining class, maybe 16 bytes.\r\n- For every instance field, add the &quot;size&quot; of that field, plus some padding if the field type is shorter than the default alignment used in your JRE.\r\n- A class is an instance of the class named `Class`, having a lot of internal fields and data structures, besides the fields declared `static`. And it &quot;holds&quot; the bytecode of the methods defined there and any compiled native method versions from the HotSpot Just-In-Time compiler. So it&#39;s close to impossible to estimate the memory consumption of adding a new class to a JRE.\r\n- A string literal like `&quot;Sambhav&quot;` adds one `String` instance to the constants pool if it isn&#39;t already present there. And a `String` instance has at least a length field and an array holding the characters. The internal details have changed with various versions of JRE.\r\n\r\nNow analyzing your `Utils` class snippet:\r\n\r\n- You only have the class, no instance. So, add the (unknown) memory footprint of the class to your calculation.\r\n- Your user code needs one `String` literal that&#39;s probably not yet present in the constant pool. So, add two instances to your calculation, one `String` instance plus one character-holding array, with the array&#39;s footprint of course depending on the string length.","title":"How to know how much memory our object uses?","body":"<p>You can't. You can only do some very rough estimates. It depends on the version of your JRE.</p>\n<ul>\n<li>Every instance has a minimum memory footprint for management information like a reference to the defining class, maybe 16 bytes.</li>\n<li>For every instance field, add the &quot;size&quot; of that field, plus some padding if the field type is shorter than the default alignment used in your JRE.</li>\n<li>A class is an instance of the class named <code>Class</code>, having a lot of internal fields and data structures, besides the fields declared <code>static</code>. And it &quot;holds&quot; the bytecode of the methods defined there and any compiled native method versions from the HotSpot Just-In-Time compiler. So it's close to impossible to estimate the memory consumption of adding a new class to a JRE.</li>\n<li>A string literal like <code>&quot;Sambhav&quot;</code> adds one <code>String</code> instance to the constants pool if it isn't already present there. And a <code>String</code> instance has at least a length field and an array holding the characters. The internal details have changed with various versions of JRE.</li>\n</ul>\n<p>Now analyzing your <code>Utils</code> class snippet:</p>\n<ul>\n<li>You only have the class, no instance. So, add the (unknown) memory footprint of the class to your calculation.</li>\n<li>Your user code needs one <code>String</code> literal that's probably not yet present in the constant pool. So, add two instances to your calculation, one <code>String</code> instance plus one character-holding array, with the array's footprint of course depending on the string length.</li>\n</ul>\n"}],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1654589293,"accepted_answer_id":72284559,"answer_count":1,"score":-2,"last_activity_date":1654614082,"creation_date":1652855606,"question_id":72284196,"body_markdown":"I know that int uses 32 bits. Long uses 64 bits and etc... But, how can we know how much memory our object uses? I have a class like this:\r\n```\r\nclass Utils{\r\n   public String getName(Context context){\r\n      return &quot;Sambhav&quot;\r\n   }\r\n}\r\n```\r\n\r\nNow, how can I know how much memory does this class use?","title":"How to know how much memory our object uses?","body":"<p>I know that int uses 32 bits. Long uses 64 bits and etc... But, how can we know how much memory our object uses? I have a class like this:</p>\n<pre><code>class Utils{\n   public String getName(Context context){\n      return &quot;Sambhav&quot;\n   }\n}\n</code></pre>\n<p>Now, how can I know how much memory does this class use?</p>\n"},{"tags":["java","selenium","geckodriver","selenium-firefoxdriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1567103112,"post_id":57706965,"comment_id":101873605,"body_markdown":"Config code?  Sounds like a first run bug.  Trace this down: &quot;Config.getInstance().getFIREFOX_DRIVER_PATH()&quot;","body":"Config code?  Sounds like a first run bug.  Trace this down: &quot;Config.getInstance().getFIREFOX_DRIVER_PATH()&quot;"},{"owner":{"account_id":5154984,"reputation":31,"user_id":4128446,"display_name":"Mohamed Said"},"score":0,"creation_date":1567150327,"post_id":57706965,"comment_id":101885414,"body_markdown":"Thank you. It was solved by extracting runnable jar using &quot;Package required libraries into generated jar&quot; instead of &quot;Extract required libraries into generated jar&quot;","body":"Thank you. It was solved by extracting runnable jar using &quot;Package required libraries into generated jar&quot; instead of &quot;Extract required libraries into generated jar&quot;"}],"answers":[{"tags":[],"owner":{"account_id":5154984,"reputation":31,"user_id":4128446,"display_name":"Mohamed Said"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567150278,"creation_date":1567150278,"answer_id":57722425,"question_id":57706965,"body_markdown":"Solved by extracting runnable jar using &quot;Package required libraries into generated jar&quot; instead of &quot;Extract required libraries into generated jar&quot;","title":"Geckodriver works fine when run from IDE but throws an exception when run from executable jar","body":"<p>Solved by extracting runnable jar using \"Package required libraries into generated jar\" instead of \"Extract required libraries into generated jar\"</p>\n"},{"tags":[],"owner":{"account_id":1480496,"reputation":669,"user_id":1390012,"display_name":"mesompi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654613860,"creation_date":1654613860,"answer_id":72533453,"question_id":57706965,"body_markdown":"Here I was using an old version of selenium (4.0.0-beta-3) with Gradle, I just updated to the current version (4.2.1), then generated the jar file and the problem went away.","title":"Geckodriver works fine when run from IDE but throws an exception when run from executable jar","body":"<p>Here I was using an old version of selenium (4.0.0-beta-3) with Gradle, I just updated to the current version (4.2.1), then generated the jar file and the problem went away.</p>\n"}],"owner":{"account_id":5154984,"reputation":31,"user_id":4128446,"display_name":"Mohamed Said"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1654613860,"creation_date":1567070357,"question_id":57706965,"body_markdown":"I use selenium to download a file via firefox. everything works fine when I run from IDE (eclipse), but when I extract an executable jar I get the following exception:\r\n\r\n        Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Build info: version: &#39;unknown&#39;, revision: &#39;f148142cf8&#39;, time: &#39;2019-07-01T21:24:57&#39;\r\n    System info: host: &#39;28LJQV2&#39;, ip: &#39;192.168.5.40&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_221&#39;\r\n    Driver info: driver.version: FirefoxDriver\r\n            at java.util.Optional.orElseThrow(Unknown Source)\r\n            at org.openqa.selenium.firefox.FirefoxDriver.toExecutor(FirefoxDriver.java:179)\r\n            at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:154)\r\n\r\n    private void initSelenium() {\r\n    \t\tSystem.setProperty(&quot;webdriver.gecko.driver&quot;,         Config.getInstance().getFIREFOX_DRIVER_PATH());\r\n    \t}\r\n\r\n    private WebDriver createFirefoxDriverWithDownloadFolder(String downloadFolder) {\r\n    \t\tFirefoxProfile profile = new FirefoxProfile();\r\n    \t\tFirefoxOptions options = new FirefoxOptions();\r\n    \t\tprofile.setPreference(&quot;browser.download.folderList&quot;, 2);\r\n    \t\tprofile.setPreference(&quot;browser.download.dir&quot;, downloadFolder);\r\n    \t\tprofile.setPreference(&quot;browser.download.manager.showWhenStarting&quot;, false);\r\n    \t\tprofile.setPreference(&quot;browser.helperApps.neverAsk.openFile&quot;, &quot;application/x-msdownload&quot;);\r\n    \t\tprofile.setPreference(&quot;browser.helperApps.neverAsk.saveToDisk&quot;, &quot;application/x-msdownload, application/zip&quot;);\r\n    \r\n    \t\toptions.setProfile(profile);\r\n    \t\t\r\n    \t\tWebDriver driver = new FirefoxDriver(options);\r\n    \t\treturn driver;\r\n    \t}\r\n    \r\nIn properties file:\r\n    FIREFOX_DRIVER_PATH = C:\\\\geckodriver.exe","title":"Geckodriver works fine when run from IDE but throws an exception when run from executable jar","body":"<p>I use selenium to download a file via firefox. everything works fine when I run from IDE (eclipse), but when I extract an executable jar I get the following exception:</p>\n\n<pre><code>    Exception in thread \"main\" org.openqa.selenium.WebDriverException: Build info: version: 'unknown', revision: 'f148142cf8', time: '2019-07-01T21:24:57'\nSystem info: host: '28LJQV2', ip: '192.168.5.40', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_221'\nDriver info: driver.version: FirefoxDriver\n        at java.util.Optional.orElseThrow(Unknown Source)\n        at org.openqa.selenium.firefox.FirefoxDriver.toExecutor(FirefoxDriver.java:179)\n        at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:154)\n\nprivate void initSelenium() {\n        System.setProperty(\"webdriver.gecko.driver\",         Config.getInstance().getFIREFOX_DRIVER_PATH());\n    }\n\nprivate WebDriver createFirefoxDriverWithDownloadFolder(String downloadFolder) {\n        FirefoxProfile profile = new FirefoxProfile();\n        FirefoxOptions options = new FirefoxOptions();\n        profile.setPreference(\"browser.download.folderList\", 2);\n        profile.setPreference(\"browser.download.dir\", downloadFolder);\n        profile.setPreference(\"browser.download.manager.showWhenStarting\", false);\n        profile.setPreference(\"browser.helperApps.neverAsk.openFile\", \"application/x-msdownload\");\n        profile.setPreference(\"browser.helperApps.neverAsk.saveToDisk\", \"application/x-msdownload, application/zip\");\n\n        options.setProfile(profile);\n\n        WebDriver driver = new FirefoxDriver(options);\n        return driver;\n    }\n</code></pre>\n\n<p>In properties file:\n    FIREFOX_DRIVER_PATH = C:\\geckodriver.exe</p>\n"},{"tags":["java","metadata","apache-tika","fileinfo"],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647967706,"creation_date":1647967706,"answer_id":71575883,"question_id":71575253,"body_markdown":"You have to use a specific parser for retrieving the Microsoft Document properties.\r\n\r\nFirst add the following dependencies:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tika-parsers-standard-package&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNext, you can do something like this:\r\n\r\n    BodyContentHandler handler = new BodyContentHandler();\r\n    Metadata metadata = new Metadata();\r\n    FileInputStream inputstream = new FileInputStream(new File(&quot;C:\\\\HTML\\\\viewer\\\\files\\\\doc.doc&quot;));\r\n    ParseContext pcontext = new ParseContext();\r\n\r\n    // Specific parser\r\n    OOXMLParser msOfficeParser = new OOXMLParser();\r\n    msOfficeParser .parse(inputstream, handler, metadata, pcontext);\r\n\r\n    System.out.println(&quot;Contents of the document:&quot; + handler.toString());\r\n    System.out.println(&quot;Metadata of the document:&quot;);\r\n\r\n    String[] metadataNames = metadata.names();\r\n\r\n    for (String name : metadataNames) {\r\n      System.out.println(name + &quot;: &quot; + metadata.get(name));\r\n    }\r\n\r\nYou will obtain something like this:\r\n\r\n&gt; Metadata of the document: cp:revision: 3&lt;br&gt;\r\n&gt; extended-properties:AppVersion: 16.0000 meta:paragraph-count: 1 &lt;br&gt;\r\n&gt; meta:word-count: 83 extended-properties:Application: Microsoft Office&lt;br&gt;\r\n&gt; Word meta:last-author: Microsoft Office User\r\n\r\nReferences:\r\n- https://www.tutorialspoint.com/tika/tika_extracting_ms_office_files.htm\r\n- https://tika.apache.org/2.3.0/gettingstarted.html","title":"Missing many metadata Key-value pairs with Apache Tika","body":"<p>You have to use a specific parser for retrieving the Microsoft Document properties.</p>\n<p>First add the following dependencies:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n  &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n  &lt;artifactId&gt;tika-parsers-standard-package&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Next, you can do something like this:</p>\n<pre><code>BodyContentHandler handler = new BodyContentHandler();\nMetadata metadata = new Metadata();\nFileInputStream inputstream = new FileInputStream(new File(&quot;C:\\\\HTML\\\\viewer\\\\files\\\\doc.doc&quot;));\nParseContext pcontext = new ParseContext();\n\n// Specific parser\nOOXMLParser msOfficeParser = new OOXMLParser();\nmsOfficeParser .parse(inputstream, handler, metadata, pcontext);\n\nSystem.out.println(&quot;Contents of the document:&quot; + handler.toString());\nSystem.out.println(&quot;Metadata of the document:&quot;);\n\nString[] metadataNames = metadata.names();\n\nfor (String name : metadataNames) {\n  System.out.println(name + &quot;: &quot; + metadata.get(name));\n}\n</code></pre>\n<p>You will obtain something like this:</p>\n<blockquote>\n<p>Metadata of the document: cp:revision: 3<br>\nextended-properties:AppVersion: 16.0000 meta:paragraph-count: 1 <br>\nmeta:word-count: 83 extended-properties:Application: Microsoft Office<br>\nWord meta:last-author: Microsoft Office User</p>\n</blockquote>\n<p>References:</p>\n<ul>\n<li><a href=\"https://www.tutorialspoint.com/tika/tika_extracting_ms_office_files.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/tika/tika_extracting_ms_office_files.htm</a></li>\n<li><a href=\"https://tika.apache.org/2.3.0/gettingstarted.html\" rel=\"nofollow noreferrer\">https://tika.apache.org/2.3.0/gettingstarted.html</a></li>\n</ul>\n"}],"owner":{"account_id":22149374,"reputation":282,"user_id":16398162,"display_name":"Dr.Die_OXide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":809,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71575883,"answer_count":1,"score":1,"last_activity_date":1654613804,"creation_date":1647965035,"question_id":71575253,"body_markdown":"I am trying to get metadata of a file in JAVA using Apache Tika.The code for getting that is given below,\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.Arrays;\r\n\r\n    import org.apache.tika.exception.TikaException;\r\n    import org.apache.tika.metadata.Metadata;\r\n\r\n    import org.apache.tika.parser.AutoDetectParser;\r\n    import org.apache.tika.parser.ParseContext;\r\n    import org.apache.tika.sax.BodyContentHandler;\r\n\r\n    import org.xml.sax.SAXException;\r\n\r\n    public class tika {\r\n\r\n\tpublic static void main(final String[] args) throws IOException, SAXException, TikaException {\r\n\t      File file = new File(&quot;C:\\\\HTML\\\\viewer\\\\files\\\\doc.doc&quot;);\r\n\r\n\t      AutoDetectParser parser = new AutoDetectParser();\r\n\t      BodyContentHandler handler = new BodyContentHandler();\r\n\t      Metadata metadata = new Metadata();\r\n\t      FileInputStream inputstream = new FileInputStream(file);\r\n\t      ParseContext context = new ParseContext();\r\n\t      parser.parse(inputstream, handler, metadata, context);\r\n\r\n\t      String[] metadataNames = metadata.names();\r\n\t      System.out.println(metadataNames.length);\r\n\t        for (String key : metadataNames) {\r\n\t            String value = metadata.get(key);\r\n\t            System.out.println(key + &quot;: &quot; + value);\r\n\t        }\r\n\t      \r\n\t   }\r\n    }\r\n\r\nThe problem is I am getting only two key-value pairs which are given below,\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    2\r\n    X-TIKA:Parsed-By: org.apache.tika.parser.EmptyParser\r\n    Content-Type: application/x-tika-msoffice\r\n\r\nI am getting a warning from SLF4J which I think is not a problem for getting the desired output and If so please tell me.\r\n\r\nIts a maven project and the dependencies I have are given below,\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n      &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI am getting only the &#39;X-TIKA:Parsed-By&#39; and &#39;Content-Type&#39; key-values. I want more metadata values like the author, comments, size, etc.\r\n\r\n\r\n","title":"Missing many metadata Key-value pairs with Apache Tika","body":"<p>I am trying to get metadata of a file in JAVA using Apache Tika.The code for getting that is given below,</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Arrays;\n\nimport org.apache.tika.exception.TikaException;\nimport org.apache.tika.metadata.Metadata;\n\nimport org.apache.tika.parser.AutoDetectParser;\nimport org.apache.tika.parser.ParseContext;\nimport org.apache.tika.sax.BodyContentHandler;\n\nimport org.xml.sax.SAXException;\n\npublic class tika {\n\npublic static void main(final String[] args) throws IOException, SAXException, TikaException {\n      File file = new File(&quot;C:\\\\HTML\\\\viewer\\\\files\\\\doc.doc&quot;);\n\n      AutoDetectParser parser = new AutoDetectParser();\n      BodyContentHandler handler = new BodyContentHandler();\n      Metadata metadata = new Metadata();\n      FileInputStream inputstream = new FileInputStream(file);\n      ParseContext context = new ParseContext();\n      parser.parse(inputstream, handler, metadata, context);\n\n      String[] metadataNames = metadata.names();\n      System.out.println(metadataNames.length);\n        for (String key : metadataNames) {\n            String value = metadata.get(key);\n            System.out.println(key + &quot;: &quot; + value);\n        }\n      \n   }\n}\n</code></pre>\n<p>The problem is I am getting only two key-value pairs which are given below,</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n2\nX-TIKA:Parsed-By: org.apache.tika.parser.EmptyParser\nContent-Type: application/x-tika-msoffice\n</code></pre>\n<p>I am getting a warning from SLF4J which I think is not a problem for getting the desired output and If so please tell me.</p>\n<p>Its a maven project and the dependencies I have are given below,</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n  &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n  &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am getting only the 'X-TIKA:Parsed-By' and 'Content-Type' key-values. I want more metadata values like the author, comments, size, etc.</p>\n"},{"tags":["java","gwt","gwt-2.7"],"comments":[{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1455753359,"post_id":35454185,"comment_id":58635844,"body_markdown":"&quot;but according to this warning message it won&#39;t compile anymore with the next gwt version 2.8.0.&quot; This is incorrect - the message does not mean that the very next version will break it (you can confirm this by trying 2.8.0-beta1), but that _some_ future version may break this.","body":"&quot;but according to this warning message it won&#39;t compile anymore with the next gwt version 2.8.0.&quot; This is incorrect - the message does not mean that the very next version will break it (you can confirm this by trying 2.8.0-beta1), but that <i>some</i> future version may break this."},{"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"score":0,"creation_date":1492082366,"post_id":35454185,"comment_id":73842464,"body_markdown":"Did you get to the bottom of this?","body":"Did you get to the bottom of this?"}],"answers":[{"tags":[],"owner":{"account_id":4718474,"reputation":529,"user_id":3817053,"display_name":"Youssef Lahoud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455710392,"creation_date":1455710392,"answer_id":35456126,"question_id":35454185,"body_markdown":"The image file should be located in the source path, so if it&#39;s not the case move the image into the source path for example in a package called &quot;Resources&quot; in the Client package.\r\n\r\nOtherwise try this in the gwt.xml file: \r\n\r\n    &lt;resource path=&quot;imagefolder&quot; /&gt;","title":"GWT 2.7 Resource was located via ClassLoader. It should be registered via &lt;source /&gt; or &lt;resource /&gt; entry in your .gwt.xml","body":"<p>The image file should be located in the source path, so if it's not the case move the image into the source path for example in a package called \"Resources\" in the Client package.</p>\n\n<p>Otherwise try this in the gwt.xml file: </p>\n\n<pre><code>&lt;resource path=\"imagefolder\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2739829,"reputation":93,"user_id":2361609,"display_name":"Koponkin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503931065,"creation_date":1503931065,"answer_id":45921568,"question_id":35454185,"body_markdown":"In GWT your resources that you wont to use in ClientBundle should be located near the ClientBundle class.\r\nFor your example:\r\n\r\n    package com.somepackage.client\r\n\r\n    public interface HomeResources extends ClientBundle {\r\n        @Source(&quot;images/home.png&quot;)\r\n        ImageResource home();\r\n    }\r\n\r\nyour resources should be located inside this package: com.somepackage.client.images\r\n\r\n","title":"GWT 2.7 Resource was located via ClassLoader. It should be registered via &lt;source /&gt; or &lt;resource /&gt; entry in your .gwt.xml","body":"<p>In GWT your resources that you wont to use in ClientBundle should be located near the ClientBundle class.\nFor your example:</p>\n\n<pre><code>package com.somepackage.client\n\npublic interface HomeResources extends ClientBundle {\n    @Source(\"images/home.png\")\n    ImageResource home();\n}\n</code></pre>\n\n<p>your resources should be located inside this package: com.somepackage.client.images</p>\n"},{"tags":[],"owner":{"account_id":11368723,"reputation":11,"user_id":8334854,"display_name":"ms_rahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519357329,"creation_date":1519356906,"answer_id":48940717,"question_id":35454185,"body_markdown":"GWT compiler warning says what we need to do.\r\n\r\n&quot;It should be registered via  &lt;source /&gt; or &lt;resource /&gt; entry in your .gwt.xml.&quot; \r\n\r\nBut it doesn&#39;t say much about how to specify the path location of the image files directory. The directory path location is the relative path from .gwt.xml file.\r\n\r\nFor example \r\n\r\n&amp;lt;resource path=&quot;relative/path/to/images/directory/from/current/location&quot;/&amp;gt;","title":"GWT 2.7 Resource was located via ClassLoader. It should be registered via &lt;source /&gt; or &lt;resource /&gt; entry in your .gwt.xml","body":"<p>GWT compiler warning says what we need to do.</p>\n\n<p>\"It should be registered via   or  entry in your .gwt.xml.\" </p>\n\n<p>But it doesn't say much about how to specify the path location of the image files directory. The directory path location is the relative path from .gwt.xml file.</p>\n\n<p>For example </p>\n\n<p>&lt;resource path=\"relative/path/to/images/directory/from/current/location\"/&gt;</p>\n"},{"tags":[],"owner":{"account_id":13557325,"reputation":1,"user_id":9780298,"display_name":"Finn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526120450,"creation_date":1526120450,"answer_id":50305168,"question_id":35454185,"body_markdown":"Check the filename and resource name. \r\n\r\nfilename       resource name\r\nssLogo.png  |   ssLOGO();   =&gt; you&#39;ve got warning.  \r\nssLOGO.png  |   ssLOGO();   =&gt; Spelling check. No warning.\r\nThat&#39;s it.\r\n\r\n","title":"GWT 2.7 Resource was located via ClassLoader. It should be registered via &lt;source /&gt; or &lt;resource /&gt; entry in your .gwt.xml","body":"<p>Check the filename and resource name. </p>\n\n<p>filename       resource name\nssLogo.png  |   ssLOGO();   => you've got warning.<br>\nssLOGO.png  |   ssLOGO();   => Spelling check. No warning.\nThat's it.</p>\n"},{"tags":[],"owner":{"account_id":4728115,"reputation":21,"user_id":3824457,"display_name":"Benjamin Francisoud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654613557,"creation_date":1654613240,"answer_id":72533279,"question_id":35454185,"body_markdown":"I got that same warning message. Turns out there was a typo in the filename.\r\n\r\n```\r\n@Source(&quot;img/icons_actions/icon_down.png&quot;)\r\nImageResource iconDown();\r\n```\r\n\r\nBut the actual file was: .../img/icons_actions/icon_down.PNG\r\n\r\nJust case sensitive.\r\nMake sure it&#39;s spell exactly the same.","title":"GWT 2.7 Resource was located via ClassLoader. It should be registered via &lt;source /&gt; or &lt;resource /&gt; entry in your .gwt.xml","body":"<p>I got that same warning message. Turns out there was a typo in the filename.</p>\n<pre><code>@Source(&quot;img/icons_actions/icon_down.png&quot;)\nImageResource iconDown();\n</code></pre>\n<p>But the actual file was: .../img/icons_actions/icon_down.PNG</p>\n<p>Just case sensitive.\nMake sure it's spell exactly the same.</p>\n"}],"owner":{"account_id":7236580,"reputation":16350,"user_id":5521607,"accept_rate":25,"display_name":"Olivier Boiss&#233;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1604,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1654613557,"creation_date":1455705257,"question_id":35454185,"body_markdown":"I am migrating a project from gwt 2.6.1 to gwt 2.7.0, The compilation succeeded but it displays stange warning messages during the compilation\r\n\r\n**[WARN] Resource &#39;images/home.png&#39; was located via ClassLoader. As a result changes in that resource will not be reflected in per-file recompiles. It should be registered via  &amp;lt;source /&amp;gt; or &amp;lt;resource /&amp;gt; entry in your .gwt.xml. In a future version of GWT, we will remove this fallback and your application will stop compiling**\r\n\r\n\r\nI have an interface which extends ClientBundle\r\n\r\n    public interface HomeResources extends ClientBundle {\r\n\r\n\t    @Source(&quot;images/home.png&quot;)\r\n\t    ImageResource home();\r\n    \r\n    }\r\n\r\nand the path of the image file home.png is src/main/resources/images/home.png\r\n\r\nIt works well with gwt 2.6.1, but according to this warning message it won&#39;t compile anymore with the next gwt version 2.8.0.\r\n\r\nI tried to add these tags &amp;lt;source /&amp;gt; or &amp;lt;resource /&amp;gt; in my Module.gwt.xml file but it doesn&#39;t seem to work, any suggestion to fix this behavior ? \r\n\r\nFinally I created the folder src/main/resources/&amp;lt;same_package_ClientBundle&amp;gt;/images and placed the image in this folder, the warning message disappears","title":"GWT 2.7 Resource was located via ClassLoader. It should be registered via &lt;source /&gt; or &lt;resource /&gt; entry in your .gwt.xml","body":"<p>I am migrating a project from gwt 2.6.1 to gwt 2.7.0, The compilation succeeded but it displays stange warning messages during the compilation</p>\n\n<p><strong>[WARN] Resource 'images/home.png' was located via ClassLoader. As a result changes in that resource will not be reflected in per-file recompiles. It should be registered via  &lt;source /&gt; or &lt;resource /&gt; entry in your .gwt.xml. In a future version of GWT, we will remove this fallback and your application will stop compiling</strong></p>\n\n<p>I have an interface which extends ClientBundle</p>\n\n<pre><code>public interface HomeResources extends ClientBundle {\n\n    @Source(\"images/home.png\")\n    ImageResource home();\n\n}\n</code></pre>\n\n<p>and the path of the image file home.png is src/main/resources/images/home.png</p>\n\n<p>It works well with gwt 2.6.1, but according to this warning message it won't compile anymore with the next gwt version 2.8.0.</p>\n\n<p>I tried to add these tags &lt;source /&gt; or &lt;resource /&gt; in my Module.gwt.xml file but it doesn't seem to work, any suggestion to fix this behavior ? </p>\n\n<p>Finally I created the folder src/main/resources/&lt;same_package_ClientBundle&gt;/images and placed the image in this folder, the warning message disappears</p>\n"},{"tags":["java","string","base64","inputstream"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1488966714,"post_id":42667942,"comment_id":72460769,"body_markdown":"Did you try anything at all? If your InputStream contains image data, don&#39;t use a ``String`` though, use ``byte[]``.","body":"Did you try anything at all? If your InputStream contains image data, don&#39;t use a <code>String</code> though, use <code>byte[]</code>."},{"owner":{"account_id":8760262,"reputation":441,"user_id":6550376,"accept_rate":73,"display_name":"foo"},"score":0,"creation_date":1488967007,"post_id":42667942,"comment_id":72460991,"body_markdown":"Ok, what is it mean? I need to change this field to Byte[]? and how can I convert it to Byte[] from inputStream? thanks!","body":"Ok, what is it mean? I need to change this field to Byte[]? and how can I convert it to Byte[] from inputStream? thanks!"}],"answers":[{"tags":[],"owner":{"account_id":1764320,"reputation":1833,"user_id":1610544,"accept_rate":25,"display_name":"Alboz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1488968652,"creation_date":1488967354,"answer_id":42668219,"question_id":42667942,"body_markdown":"The simplest way would be to use [IOUtils][1] from apache-commons to do that:\r\n\r\n    String result= IOUtils.toString(inputStream, ENCODING); \r\n\r\nFrom the documentation:\r\n&gt; \ttoString(byte[] input, String encoding)\r\nGets the contents of a byte[] as a String using the specified character encoding.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/IOUtils.html\r\n\r\n\r\nAfter that To Encode/Decode in Base64:\r\n\r\n    // Encode \r\n    String resultBase64Encoded = Base64.getEncoder().encodeToString(result.getBytes(&quot;utf-8&quot;));\r\n   \r\n    \r\n    // Decode\r\n    byte[] asBytes = Base64.getDecoder().decode(resultBase64Encoded);\r\n    String resultAsStringAgain= String(asBytes, &quot;utf-8&quot;)\r\n\r\n**Note:** I&#39;m assuming you use JDK 8 for the Encode/Decode part.\r\n\r\n\r\nApparently the OP wants just to persist an InputStream to the DB. You can do that directly using JDBC:\r\n\r\n    InputStream inputStream = ......;\r\n    String sql = &quot;INSERT INTO TABLE_NAME(COLUMN_NAME) values (?)&quot;;\r\n    PreparedStatement statement = connection.prepareStatement(sql);\r\n    statement.setBlob(1, inputStream);\r\n    statement.executeUpdate();","title":"Convert InputStream to base64 string","body":"<p>The simplest way would be to use <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/IOUtils.html\" rel=\"nofollow noreferrer\">IOUtils</a> from apache-commons to do that:</p>\n\n<pre><code>String result= IOUtils.toString(inputStream, ENCODING); \n</code></pre>\n\n<p>From the documentation:</p>\n\n<blockquote>\n  <p>toString(byte[] input, String encoding)\n  Gets the contents of a byte[] as a String using the specified character encoding.</p>\n</blockquote>\n\n<p>After that To Encode/Decode in Base64:</p>\n\n<pre><code>// Encode \nString resultBase64Encoded = Base64.getEncoder().encodeToString(result.getBytes(\"utf-8\"));\n\n\n// Decode\nbyte[] asBytes = Base64.getDecoder().decode(resultBase64Encoded);\nString resultAsStringAgain= String(asBytes, \"utf-8\")\n</code></pre>\n\n<p><strong>Note:</strong> I'm assuming you use JDK 8 for the Encode/Decode part.</p>\n\n<p>Apparently the OP wants just to persist an InputStream to the DB. You can do that directly using JDBC:</p>\n\n<pre><code>InputStream inputStream = ......;\nString sql = \"INSERT INTO TABLE_NAME(COLUMN_NAME) values (?)\";\nPreparedStatement statement = connection.prepareStatement(sql);\nstatement.setBlob(1, inputStream);\nstatement.executeUpdate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7397520,"reputation":3703,"user_id":5628922,"accept_rate":100,"display_name":"mhasan"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1488968413,"creation_date":1488967387,"answer_id":42668237,"question_id":42667942,"body_markdown":"You can try something like this using the Base64 API.\r\n\r\n    InputStream finput = new FileInputStream(file);\r\n    byte[] imageBytes = new byte[(int)file.length()];\r\n    finput.read(imageBytes, 0, imageBytes.length);\r\n    finput.close();\r\n    String imageStr = Base64.encodeBase64String(imageBytes);\r\n\r\n\r\n\r\nUse this:\r\n\r\nhttp://commons.apache.org/proper/commons-codec/archives/1.9/apidocs/org/apache/commons/codec/binary/Base64.html\r\n","title":"Convert InputStream to base64 string","body":"<p>You can try something like this using the Base64 API.</p>\n\n<pre><code>InputStream finput = new FileInputStream(file);\nbyte[] imageBytes = new byte[(int)file.length()];\nfinput.read(imageBytes, 0, imageBytes.length);\nfinput.close();\nString imageStr = Base64.encodeBase64String(imageBytes);\n</code></pre>\n\n<p>Use this:</p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-codec/archives/1.9/apidocs/org/apache/commons/codec/binary/Base64.html\" rel=\"noreferrer\">http://commons.apache.org/proper/commons-codec/archives/1.9/apidocs/org/apache/commons/codec/binary/Base64.html</a></p>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488968259,"creation_date":1488968259,"answer_id":42668540,"question_id":42667942,"body_markdown":"As I mentioned, you shouldn&#39;t use ``String`` for binary data. The base64-encoded data can be stored as a String though. But since your database column is a blob, I would continue to work with a ``byte[]``.\r\n\r\nUse IOUtils to get a ``byte[]`` from the ``InputStream``:\r\n\r\n    byte[] bytes = IOUtils.toByteArray(yourInputStream);\r\n    byte[] encoded = java.util.Base64.getEncoder().encode(bytes);\r\n\r\nThen write it to the database. Writing a blob using jdbc and a PreparedStatement looks like this:\r\n\r\n    yourPreparedStatement.setBytes(nIndex, encoded);","title":"Convert InputStream to base64 string","body":"<p>As I mentioned, you shouldn't use <code>String</code> for binary data. The base64-encoded data can be stored as a String though. But since your database column is a blob, I would continue to work with a <code>byte[]</code>.</p>\n\n<p>Use IOUtils to get a <code>byte[]</code> from the <code>InputStream</code>:</p>\n\n<pre><code>byte[] bytes = IOUtils.toByteArray(yourInputStream);\nbyte[] encoded = java.util.Base64.getEncoder().encode(bytes);\n</code></pre>\n\n<p>Then write it to the database. Writing a blob using jdbc and a PreparedStatement looks like this:</p>\n\n<pre><code>yourPreparedStatement.setBytes(nIndex, encoded);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9674049,"reputation":726,"user_id":7178104,"display_name":"Raj Rusia"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1488969165,"creation_date":1488969165,"answer_id":42668880,"question_id":42667942,"body_markdown":"There is nice way to do this is using  [`IOUtils` ][2]to convert the InputStream into a `Byte Array`... \r\n\r\n**something like**\r\n\r\n        InputStream is;\r\n        byte[] bytes = IOUtils.toByteArray(is);\r\n\r\nHere you can use `Base64` to convert `Byte Array` to `String`.\r\n\r\n**Sample Code**\r\n\r\n        String encoded = Base64.getEncoder().encodeToString(bytes);\r\n\r\n Now you can use your `String`.\r\n\r\n\r\n [2]: https://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/IOUtils.html\r\n","title":"Convert InputStream to base64 string","body":"<p>There is nice way to do this is using  <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/IOUtils.html\" rel=\"noreferrer\"><code>IOUtils</code> </a>to convert the InputStream into a <code>Byte Array</code>... </p>\n\n<p><strong>something like</strong></p>\n\n<pre><code>    InputStream is;\n    byte[] bytes = IOUtils.toByteArray(is);\n</code></pre>\n\n<p>Here you can use <code>Base64</code> to convert <code>Byte Array</code> to <code>String</code>.</p>\n\n<p><strong>Sample Code</strong></p>\n\n<pre><code>    String encoded = Base64.getEncoder().encodeToString(bytes);\n</code></pre>\n\n<p>Now you can use your <code>String</code>.</p>\n"},{"tags":[],"owner":{"account_id":1241113,"reputation":428,"user_id":1203690,"display_name":"emptak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654613259,"creation_date":1654613259,"answer_id":72533283,"question_id":42667942,"body_markdown":"In case someone is looking for solution without external libraries. Java8 adds [Base64][1] utility class which contains `getEncoder()` method. Java9 adds fancy method on `InputStream` called `readAllBytes()` [Link to api][2]\r\n\r\nSo now you without any external libraries your code may look like\r\n\r\n```java\r\nimport java.io.InputStream;\r\nimport java.util.Base64;\r\n\r\npublic String encode(InputStream stream) throws IOException {\r\n  final var bytes = stream.readAllBytes();\r\n\r\n  return Base64.getEncoder().encodeToString(bytes);\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--","title":"Convert InputStream to base64 string","body":"<p>In case someone is looking for solution without external libraries. Java8 adds <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">Base64</a> utility class which contains <code>getEncoder()</code> method. Java9 adds fancy method on <code>InputStream</code> called <code>readAllBytes()</code> <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--\" rel=\"nofollow noreferrer\">Link to api</a></p>\n<p>So now you without any external libraries your code may look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.InputStream;\nimport java.util.Base64;\n\npublic String encode(InputStream stream) throws IOException {\n  final var bytes = stream.readAllBytes();\n\n  return Base64.getEncoder().encodeToString(bytes);\n}\n\n</code></pre>\n"}],"owner":{"account_id":8760262,"reputation":441,"user_id":6550376,"accept_rate":73,"display_name":"foo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86490,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":72533283,"answer_count":5,"score":23,"last_activity_date":1654613259,"creation_date":1488966538,"question_id":42667942,"body_markdown":"There is a way to convert an `InputStream` to a `String`, and encode it to base64, right?\r\n\r\nIn my function, I get `InputStream` parameter, and need to insert it into the BLOB field in my Oracle database table.\r\n\r\nIs there a way to do that? \r\n\r\n(My database object contains string field to save the image, but I don&#39;t find any way to convert the `InputStream` to string in base 64 format.)\r\n","title":"Convert InputStream to base64 string","body":"<p>There is a way to convert an <code>InputStream</code> to a <code>String</code>, and encode it to base64, right?</p>\n<p>In my function, I get <code>InputStream</code> parameter, and need to insert it into the BLOB field in my Oracle database table.</p>\n<p>Is there a way to do that?</p>\n<p>(My database object contains string field to save the image, but I don't find any way to convert the <code>InputStream</code> to string in base 64 format.)</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":17260375,"reputation":460,"user_id":12642499,"display_name":"Esther"},"score":1,"creation_date":1653927302,"post_id":72437135,"comment_id":127965515,"body_markdown":"can you paste your code in the body of this question, as code? I have an idea of why this might be happening, but I want to see all of the code first, not blocked by a debugger window","body":"can you paste your code in the body of this question, as code? I have an idea of why this might be happening, but I want to see all of the code first, not blocked by a debugger window"},{"owner":{"account_id":15446367,"reputation":31,"user_id":11143206,"display_name":"Jianhong Lu"},"score":0,"creation_date":1653928125,"post_id":72437135,"comment_id":127965759,"body_markdown":"yeah, I have updated","body":"yeah, I have updated"},{"owner":{"account_id":17260375,"reputation":460,"user_id":12642499,"display_name":"Esther"},"score":0,"creation_date":1653928830,"post_id":72437135,"comment_id":127965971,"body_markdown":"if you first entered 2, then it should wait for more input twice, and print an array with the values you entered after each time you press enter. Did you by any chance press enter twice after the first wait?","body":"if you first entered 2, then it should wait for more input twice, and print an array with the values you entered after each time you press enter. Did you by any chance press enter twice after the first wait?"},{"owner":{"account_id":15446367,"reputation":31,"user_id":11143206,"display_name":"Jianhong Lu"},"score":0,"creation_date":1653929121,"post_id":72437135,"comment_id":127966070,"body_markdown":"No, I think I only press one enter, you can try this code","body":"No, I think I only press one enter, you can try this code"},{"owner":{"account_id":17260375,"reputation":460,"user_id":12642499,"display_name":"Esther"},"score":0,"creation_date":1653929425,"post_id":72437135,"comment_id":127966157,"body_markdown":"including import statements would be helpful to those who are trying to run the code. Can you include enough code that someone can run it as is?","body":"including import statements would be helpful to those who are trying to run the code. Can you include enough code that someone can run it as is?"},{"owner":{"account_id":15446367,"reputation":31,"user_id":11143206,"display_name":"Jianhong Lu"},"score":0,"creation_date":1653929599,"post_id":72437135,"comment_id":127966220,"body_markdown":"yes, I have updated","body":"yes, I have updated"},{"owner":{"account_id":17260375,"reputation":460,"user_id":12642499,"display_name":"Esther"},"score":0,"creation_date":1653929682,"post_id":72437135,"comment_id":127966255,"body_markdown":"I just ran this and it works perfectly, what is the issue? you must be pressing enter twice somewhere. Edit: can confirm this is what happens if you press enter twice, I just tried it.","body":"I just ran this and it works perfectly, what is the issue? you must be pressing enter twice somewhere. Edit: can confirm this is what happens if you press enter twice, I just tried it."},{"owner":{"account_id":15446367,"reputation":31,"user_id":11143206,"display_name":"Jianhong Lu"},"score":0,"creation_date":1653930044,"post_id":72437135,"comment_id":127966364,"body_markdown":"I think i only used one enter, but I am not sure what is the problem. What is jdk version you use","body":"I think i only used one enter, but I am not sure what is the problem. What is jdk version you use"}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654612952,"creation_date":1653930081,"answer_id":72437813,"question_id":72437135,"body_markdown":"This issue only occurs when you run your program in an IDE, and the problem is the way the IDE works. You might want to report it as a probable bug to your IDE vendor. (I can reproduce this issue in IntelliJ IDEA 2022.1.1.)\r\n\r\nIf you run this from the command line, it works fine.\r\n\r\n*UPDATE*\r\n\r\nThis has been fixed in IntelliJ IDEA 2022.1.2. It appears to be this issue: https://youtrack.jetbrains.com/issue/IDEA-293951","title":"Issues with Java Scanner","body":"<p>This issue only occurs when you run your program in an IDE, and the problem is the way the IDE works. You might want to report it as a probable bug to your IDE vendor. (I can reproduce this issue in IntelliJ IDEA 2022.1.1.)</p>\n<p>If you run this from the command line, it works fine.</p>\n<p><em>UPDATE</em></p>\n<p>This has been fixed in IntelliJ IDEA 2022.1.2. It appears to be this issue: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-293951\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-293951</a></p>\n"}],"owner":{"account_id":15446367,"reputation":31,"user_id":11143206,"display_name":"Jianhong Lu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1654613138,"answer_count":1,"score":2,"last_activity_date":1654612952,"creation_date":1653926628,"question_id":72437135,"body_markdown":"I meet a problem while using Java Scanner. When I used two nextLine() in the code, and there would be two &quot;\\n&quot; in the string entered by me via command line. I did&#39;t understand why this happen, please help.\r\n```\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class TestScanner {\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in, StandardCharsets.UTF_8.name());\r\n        int num = Integer.parseInt(input.nextLine().trim());\r\n        for (int i = 0; i &lt; num; i++) {\r\n            System.out.print(Arrays.toString(input.nextLine().trim().split(&quot; &quot;)));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n[enter image description here][1]\r\n\r\n\r\nthis is my input: \r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/beW4s.png\r\n  [2]: https://i.stack.imgur.com/FZ1i6.png","title":"Issues with Java Scanner","body":"<p>I meet a problem while using Java Scanner. When I used two nextLine() in the code, and there would be two &quot;\\n&quot; in the string entered by me via command line. I did't understand why this happen, please help.</p>\n<pre><code>import java.nio.charset.StandardCharsets;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class TestScanner {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in, StandardCharsets.UTF_8.name());\n        int num = Integer.parseInt(input.nextLine().trim());\n        for (int i = 0; i &lt; num; i++) {\n            System.out.print(Arrays.toString(input.nextLine().trim().split(&quot; &quot;)));\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/beW4s.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>this is my input:\n<a href=\"https://i.stack.imgur.com/FZ1i6.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","multithreading","threadpool","completion-service"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1654613015,"post_id":72533152,"comment_id":128129224,"body_markdown":"I guess that `MyRequest` and `MyResponse` should share a common id which would be the key to connect each other.","body":"I guess that <code>MyRequest</code> and <code>MyResponse</code> should share a common id which would be the key to connect each other."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1654658510,"post_id":72533152,"comment_id":128140821,"body_markdown":"There is even a design pattern for it: Asynchronous Completion Token. https://www.dre.vanderbilt.edu/~schmidt/PDF/ACT.pdf","body":"There is even a design pattern for it: Asynchronous Completion Token. <a href=\"https://www.dre.vanderbilt.edu/~schmidt/PDF/ACT.pdf\" rel=\"nofollow noreferrer\">dre.vanderbilt.edu/~schmidt/PDF/ACT.pdf</a>"}],"owner":{"account_id":25099872,"reputation":51,"user_id":18950712,"display_name":"zxwang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654612721,"creation_date":1654612721,"question_id":72533152,"body_markdown":"I have bulk requests and would like to use `CompletionService` to concurrently get responses. Here is my code\r\n\r\n```\r\nExecutorService myThreadPoolExecutor = Executors.newFixedThreadPool(3);\r\nCompletionService&lt;FeeEstimationResult&gt; completionService = new ExecutorCompletionService&lt;&gt;(myThreadPoolExecutor);\r\nfor (final MyRequest myRequest : myRequestList) {\r\n    completionService.submit(() -&gt; getMyResponse(myRequest));\r\n}\r\n  \t\t\t  \r\nfor (MyRequest myRequest : myRequestList) {\r\n    try {\r\n        MyResponse myResponse = completionService.take().get();\r\n  \t} catch (final Exception e) {\r\n        log.error(e);\r\n    }\r\n}\r\n```\r\n\r\nHow can I know which request that `myResult` is related to? Will `Future` help?","title":"Java CompletionService multithreading - How to map response to request","body":"<p>I have bulk requests and would like to use <code>CompletionService</code> to concurrently get responses. Here is my code</p>\n<pre><code>ExecutorService myThreadPoolExecutor = Executors.newFixedThreadPool(3);\nCompletionService&lt;FeeEstimationResult&gt; completionService = new ExecutorCompletionService&lt;&gt;(myThreadPoolExecutor);\nfor (final MyRequest myRequest : myRequestList) {\n    completionService.submit(() -&gt; getMyResponse(myRequest));\n}\n              \nfor (MyRequest myRequest : myRequestList) {\n    try {\n        MyResponse myResponse = completionService.take().get();\n    } catch (final Exception e) {\n        log.error(e);\n    }\n}\n</code></pre>\n<p>How can I know which request that <code>myResult</code> is related to? Will <code>Future</code> help?</p>\n"},{"tags":["java","cursor","game-development"],"comments":[{"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"score":0,"creation_date":1654342994,"post_id":72499041,"comment_id":128071299,"body_markdown":"This may relate to your question: [Java - Freeze Mouse](https://stackoverflow.com/questions/23724973/java-freeze-mouse)","body":"This may relate to your question: <a href=\"https://stackoverflow.com/questions/23724973/java-freeze-mouse\">Java - Freeze Mouse</a>"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1654378299,"post_id":72499041,"comment_id":128077999,"body_markdown":"You could simply hide the mouse cursor and draw a center cross to get a similar effect. However that would still allow the user to move the mouse outside of the window - unless it is maximized to the desktop.","body":"You could simply hide the mouse cursor and draw a center cross to get a similar effect. However that would still allow the user to move the mouse outside of the window - unless it is maximized to the desktop."},{"owner":{"account_id":25444842,"reputation":29,"user_id":19247191,"display_name":"Aditya Jain"},"score":0,"creation_date":1654425954,"post_id":72499041,"comment_id":128083586,"body_markdown":"@EskandarAbedini Thank you that is a good solution... i will try that out!","body":"@EskandarAbedini Thank you that is a good solution... i will try that out!"}],"owner":{"account_id":25444842,"reputation":29,"user_id":19247191,"display_name":"Aditya Jain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654612134,"creation_date":1654338849,"question_id":72499041,"body_markdown":"For example Minecraft while playing the cursor is locked/hidden in the middle of the screen but the application can still take in the mouse movements. \r\n\r\n[Here is how it looks in minecraft][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NWx6p.png\r\n\r\n&gt;How to accomplish this in java app?\r\n\r\n*Do i need to use openGL or lwjGl or can this be done with &#39;Vanilla Java&#39;*\r\n\r\nThank you!!","title":"Is there a way to lock cursor in java","body":"<p>For example Minecraft while playing the cursor is locked/hidden in the middle of the screen but the application can still take in the mouse movements.</p>\n<p><a href=\"https://i.stack.imgur.com/NWx6p.png\" rel=\"nofollow noreferrer\">Here is how it looks in minecraft</a></p>\n<blockquote>\n<p>How to accomplish this in java app?</p>\n</blockquote>\n<p><em>Do i need to use openGL or lwjGl or can this be done with 'Vanilla Java'</em></p>\n<p>Thank you!!</p>\n"},{"tags":["java","spring","database","hibernate","select"],"comments":[{"owner":{"account_id":19955868,"reputation":96,"user_id":14624519,"display_name":"mszyba"},"score":0,"creation_date":1654612801,"post_id":72532946,"comment_id":128129131,"body_markdown":"Show your code in Controller and/or Service layer.","body":"Show your code in Controller and/or Service layer."},{"owner":{"account_id":17464613,"reputation":1,"user_id":19291550,"display_name":"Krzysztof XL-WAY"},"score":0,"creation_date":1654714785,"post_id":72532946,"comment_id":128160334,"body_markdown":"I found solution myself. I will share it soon. Thx","body":"I found solution myself. I will share it soon. Thx"}],"owner":{"account_id":17464613,"reputation":1,"user_id":19291550,"display_name":"Krzysztof XL-WAY"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654611976,"creation_date":1654611976,"question_id":72532946,"body_markdown":"i stuck on this:\r\n\r\nI hava a select form in .jsp. It takes a list from second table items=&quot;${categoryList}&quot; . But when i want to save the selection by name then only category_id is updated in table A. I need to have category name in tableA from the list and at the same time category_id in TableA (which works now). But i need name also.\r\n\r\nIs there a way to return 2 values from one list in one select?\r\nExtract from jsp\r\n\r\n    category\r\n        &lt;form:select itemLabel=&quot;name&quot; itemValue=&quot;id&quot;\r\n                     path=&quot;category.id&quot; items=&quot;${categoryList}&quot;/&gt;\r\n        enter code here\r\n\r\n\r\n","title":"In Java Hibernate, the get two values from form select in two tables","body":"<p>i stuck on this:</p>\n<p>I hava a select form in .jsp. It takes a list from second table items=&quot;${categoryList}&quot; . But when i want to save the selection by name then only category_id is updated in table A. I need to have category name in tableA from the list and at the same time category_id in TableA (which works now). But i need name also.</p>\n<p>Is there a way to return 2 values from one list in one select?\nExtract from jsp</p>\n<pre><code>category\n    &lt;form:select itemLabel=&quot;name&quot; itemValue=&quot;id&quot;\n                 path=&quot;category.id&quot; items=&quot;${categoryList}&quot;/&gt;\n    enter code here\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1654612358,"post_id":72532944,"comment_id":128128933,"body_markdown":"Look closely at what condition would cause control to come out of the while loop in your main method.","body":"Look closely at what condition would cause control to come out of the while loop in your main method."},{"owner":{"account_id":24761048,"reputation":5,"user_id":18645453,"display_name":"Sheng Yao"},"score":1,"creation_date":1654613375,"post_id":72532944,"comment_id":128129381,"body_markdown":"@k314159 erm but the while loop only break when user input any values for the numeration when is 0 or in negative. so how do i actually change the code for this loop?","body":"@k314159 erm but the while loop only break when user input any values for the numeration when is 0 or in negative. so how do i actually change the code for this loop?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1654614700,"post_id":72532944,"comment_id":128129944,"body_markdown":"You only print the output values when you&#39;re outside the while loop. Are you sure that&#39;s what you want to do?","body":"You only print the output values when you&#39;re outside the while loop. Are you sure that&#39;s what you want to do?"},{"owner":{"account_id":24761048,"reputation":5,"user_id":18645453,"display_name":"Sheng Yao"},"score":0,"creation_date":1654615963,"post_id":72532944,"comment_id":128130488,"body_markdown":"@k314159 yes and i only stop the loop when negative value is entered for numerator","body":"@k314159 yes and i only stop the loop when negative value is entered for numerator"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1654616680,"post_id":72532944,"comment_id":128130812,"body_markdown":"But don&#39;t you want to print the simplified fraction after every fraction is input? You&#39;re only printing the simplified fraction at the end when the program terminates.","body":"But don&#39;t you want to print the simplified fraction after every fraction is input? You&#39;re only printing the simplified fraction at the end when the program terminates."},{"owner":{"account_id":24761048,"reputation":5,"user_id":18645453,"display_name":"Sheng Yao"},"score":0,"creation_date":1654697187,"post_id":72532944,"comment_id":128153275,"body_markdown":"@k314159 alright finally i get what you mean! thanks alot for the advice!","body":"@k314159 alright finally i get what you mean! thanks alot for the advice!"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1654697439,"post_id":72532944,"comment_id":128153402,"body_markdown":"You&#39;re welcome, good luck","body":"You&#39;re welcome, good luck"}],"owner":{"account_id":24761048,"reputation":5,"user_id":18645453,"display_name":"Sheng Yao"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654611966,"creation_date":1654611966,"question_id":72532944,"body_markdown":"I am doing a school lab in which to add a public method to my fraction class. So the method will adds another fraction to the calling object and take the fraction class object as a parameter to return a fraction object as a result. Second is to add private simplify method to converts the fraction to simplest form and will need a method to determine the GCD.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class lab4Fraction {\r\n    \t\r\n    \tprivate int numerator;\r\n    \tprivate int denominator;\r\n    \t\t\r\n    \tpublic void setNumerator(int num){\r\n    \t\tnumerator = num;\t// to access data stored in numerator variable\r\n    \t}\r\n    \t\r\n    \tpublic void inputValues(){  // refer to lab3 exercise \r\n    \t\tScanner keyboard = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter numerator : &quot;);\r\n    \t\tnumerator = keyboard.nextInt();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Enter denominator : &quot;);\r\n    \t\tdenominator = keyboard.nextInt();\r\n    \t\t\r\n    \t\tif(denominator == 0)\r\n    \t\t\tSystem.out.println(&quot;Invalid denominator!&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic void outputValues(){\r\n    \t\tSystem.out.print(this);    // print as object to make use of toString() method\r\n    \t}\r\n    \t\r\n    \tpublic int getNumerator(){\r\n    \t\treturn numerator;\r\n    \t}\r\n    \t\r\n    \tpublic int getDenominator(){\r\n    \t\treturn denominator;\r\n    \t}\r\n    \t\r\n    \tpublic void add(Fraction fracNum){\r\n    \t\tnumerator = numerator * fracNum.getDenominator() + fracNum.getNumerator() * denominator;\r\n    \t\tdenominator = denominator * fracNum.getDenominator();\r\n    \t}\r\n    \t\r\n    \tpublic String toString() {  // to convert internal representation of fraction that stored 2 integers into a string\r\n    \t\tString buffer = numerator + &quot;/&quot; + denominator;\r\n    \t\treturn buffer;\r\n    \t}\r\n    \t\r\n    \tprivate void simplify(){   // this method is to reduce fraction \r\n    \t\tint GCD = GCD(numerator, denominator);\r\n    \t\tnumerator = numerator / GCD;\r\n    \t\tdenominator = denominator / GCD;\r\n    \t}\r\n    \r\n    \tprivate int GCD(int numerator1, int numerator2) {  // to find greatest common denominator to reduce fractions\r\n    \t\tint c;\t\t\t\t\t\t\t\t\t\t   // retrieve gcd code from  lab 4\r\n    \t\twhile (numerator1 != 0 &amp;&amp; numerator2 != 0){\r\n    \t\t\tc = numerator2;\r\n    \t\t\tnumerator2 = numerator1 % numerator2;      // modulo operator\r\n    \t\t\tnumerator1 = c;\r\n    \t\t}\r\n    \t\treturn numerator1 + numerator2;\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n\r\nfor the test fraction  \r\n\r\n    public class lab4TestFraction {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tFraction fracNumber = new Fraction();\r\n    \t\twhile(true){\r\n    \t\t\tfracNumber.inputValues();\r\n    \t\t\tif(fracNumber.getNumerator() &lt; 0){\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tfracNumber.outputValues();\r\n    \t}\r\n    \r\n    } \r\n\r\nthe output i got from this program is \r\n[program output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cdOw4.jpg\r\nwhich isn&#39;t the desired result i should get and am i able to do it without using constructor?","title":"Beginner: add simplify method to convert fraction class in simplest form and need a method to determine gcd","body":"<p>I am doing a school lab in which to add a public method to my fraction class. So the method will adds another fraction to the calling object and take the fraction class object as a parameter to return a fraction object as a result. Second is to add private simplify method to converts the fraction to simplest form and will need a method to determine the GCD.</p>\n<pre><code>import java.util.Scanner;\n\npublic class lab4Fraction {\n    \n    private int numerator;\n    private int denominator;\n        \n    public void setNumerator(int num){\n        numerator = num;    // to access data stored in numerator variable\n    }\n    \n    public void inputValues(){  // refer to lab3 exercise \n        Scanner keyboard = new Scanner(System.in);\n        System.out.println(&quot;Enter numerator : &quot;);\n        numerator = keyboard.nextInt();\n        \n        System.out.println(&quot;Enter denominator : &quot;);\n        denominator = keyboard.nextInt();\n        \n        if(denominator == 0)\n            System.out.println(&quot;Invalid denominator!&quot;);\n    }\n    \n    public void outputValues(){\n        System.out.print(this);    // print as object to make use of toString() method\n    }\n    \n    public int getNumerator(){\n        return numerator;\n    }\n    \n    public int getDenominator(){\n        return denominator;\n    }\n    \n    public void add(Fraction fracNum){\n        numerator = numerator * fracNum.getDenominator() + fracNum.getNumerator() * denominator;\n        denominator = denominator * fracNum.getDenominator();\n    }\n    \n    public String toString() {  // to convert internal representation of fraction that stored 2 integers into a string\n        String buffer = numerator + &quot;/&quot; + denominator;\n        return buffer;\n    }\n    \n    private void simplify(){   // this method is to reduce fraction \n        int GCD = GCD(numerator, denominator);\n        numerator = numerator / GCD;\n        denominator = denominator / GCD;\n    }\n\n    private int GCD(int numerator1, int numerator2) {  // to find greatest common denominator to reduce fractions\n        int c;                                         // retrieve gcd code from  lab 4\n        while (numerator1 != 0 &amp;&amp; numerator2 != 0){\n            c = numerator2;\n            numerator2 = numerator1 % numerator2;      // modulo operator\n            numerator1 = c;\n        }\n        return numerator1 + numerator2;\n    }\n    \n}\n</code></pre>\n<p>for the test fraction</p>\n<pre><code>public class lab4TestFraction {\n\n    public static void main(String[] args) {\n        \n        Fraction fracNumber = new Fraction();\n        while(true){\n            fracNumber.inputValues();\n            if(fracNumber.getNumerator() &lt; 0){\n                break;\n            }\n        }\n        fracNumber.outputValues();\n    }\n\n} \n</code></pre>\n<p>the output i got from this program is\n<a href=\"https://i.stack.imgur.com/cdOw4.jpg\" rel=\"nofollow noreferrer\">program output</a></p>\n<p>which isn't the desired result i should get and am i able to do it without using constructor?</p>\n"},{"tags":["java","spring","spring-boot","interceptor"],"comments":[{"owner":{"account_id":2218985,"reputation":1540,"user_id":1958929,"accept_rate":75,"display_name":"derstauner"},"score":0,"creation_date":1654602354,"post_id":72530463,"comment_id":128124928,"body_markdown":"Is your rest api controller extending the `WEbAspectExceptionConfig` class?","body":"Is your rest api controller extending the <code>WEbAspectExceptionConfig</code> class?"},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1654602798,"post_id":72530463,"comment_id":128125120,"body_markdown":"@derstauner no, but i will test it","body":"@derstauner no, but i will test it"},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1654602888,"post_id":72530463,"comment_id":128125159,"body_markdown":"@derstauner still empty","body":"@derstauner still empty"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1654603991,"post_id":72530463,"comment_id":128125617,"body_markdown":"What has your interceptor to do with this? If you want to send a response, do that from your `@ControllerAdvice` method, that now only logs to the logger (and probably the console).","body":"What has your interceptor to do with this? If you want to send a response, do that from your <code>@ControllerAdvice</code> method, that now only logs to the logger (and probably the console)."}],"answers":[{"tags":[],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654611459,"creation_date":1654611434,"answer_id":72532801,"question_id":72530463,"body_markdown":"Kindly `disregard` this Post Question.\r\nI used Spring AOP @Around for customize exception.\r\n\r\nThank you.","title":"Spring boot Interceptor dont show @ControllerAdvice errorhandler?","body":"<p>Kindly <code>disregard</code> this Post Question.\nI used Spring AOP @Around for customize exception.</p>\n<p>Thank you.</p>\n"}],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654611459,"creation_date":1654601533,"question_id":72530463,"body_markdown":"Implemetation: Im trying to implementin project with `Interceptor` but the Error handling in showing only in `Terminal` which is good but i need also to show in restapi in postman and its showing empty. \r\n\r\n```\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.springframework.web.servlet.HandlerInterceptor;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\n\r\npublic class WebInterceptor implements HandlerInterceptor {\r\n\t\r\n\tprivate Logger logger = LoggerFactory.getLogger(WebInterceptor.class);\r\n\r\n\t@Override\r\n\tpublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n\t\t\tthrows Exception \t{\r\n\t\tlogger.error(&quot;WebInterceptor preHandle is now logged&quot;);\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,\r\n\t\t\tModelAndView modelAndView) throws Exception {\r\n\t\tlogger.error(&quot;WebInterceptor posthandle is now logged&quot;);\r\n\t\tHandlerInterceptor.super.postHandle(request, response, handler, modelAndView);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)\r\n\t\t\tthrows Exception {\r\n\t\tlogger.error(&quot;WebInterceptor afterCompletion is now logged&quot;);\r\n\t\tHandlerInterceptor.super.afterCompletion(request, response, handler, ex);\r\n\t}\r\n\t\r\n\t\r\n\r\n\r\n\t\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n\r\n\r\n```\r\n```\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.InterceptorRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class AppConfig implements WebMvcConfigurer{\r\n\t\r\n\r\n\r\n\t@Override\r\n\tpublic void addInterceptors(InterceptorRegistry registry) {\r\n\r\n\t\tregistry.addInterceptor(new WebInterceptor()).addPathPatterns(&quot;/cart/**&quot;).order(1);\r\n\t\tregistry.addInterceptor(new WebInterceptor()).addPathPatterns(&quot;/product/**&quot;).order(2);\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n\r\n\r\n```\r\n```\r\n\r\nimport com.kongapigateway.KongAPIgateway.ModelException.DATE_FORMAT_ERROR;\r\nimport com.kongapigateway.KongAPIgateway.ModelException.ProductExecption;\r\nimport com.kongapigateway.KongAPIgateway.ModelException.ProductIDnotFound;\r\nimport com.kongapigateway.KongAPIgateway.ModelException.ProductValueNotNull;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.bind.annotation.ExceptionHandler;\r\nimport org.springframework.web.bind.annotation.ResponseStatus;\r\n\r\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\r\n\r\n@RestControllerAdvice\r\npublic class WEbAspectExceptionConfig {\r\n\t\r\n\t private Logger logger = LoggerFactory.getLogger(WEbAspectExceptionConfig.class);\r\n\r\n\t    @ExceptionHandler(ProductValueNotNull.class)\r\n\t    @ResponseStatus\r\n\t    public void handle(ProductValueNotNull e) {\r\n\t        logger.error(e.getMessage());\r\n\t    }\r\n\t    \r\n\t    @ExceptionHandler(DATE_FORMAT_ERROR.class)\r\n\t    @ResponseStatus\r\n\t    public void handle2(DATE_FORMAT_ERROR e) {\r\n\t    \t   logger.error(e.getMessage());\r\n\t    }\r\n\t    \r\n\t    @ExceptionHandler(ProductExecption.class)\r\n\t    @ResponseStatus\r\n\t    public void handle2(ProductExecption e) {\r\n\t    \t   logger.error(e.getMessage());\r\n\t    }\r\n\t    \r\n\t    @ExceptionHandler(ProductIDnotFound.class)\r\n\t    @ResponseStatus\r\n\t    public void handle2(ProductIDnotFound e) {\r\n\t    \t   logger.error(e.getMessage());\r\n\t    }\r\n\t    \r\n\t    \r\n\r\n}\r\n\r\n\r\n```\r\nTerminal Output: \r\nThis is the error handling message: `Please input all field`\r\n```\r\nkongapigateway    | 2022-06-07 11:21:33.149  INFO 1 --- [nio-8095-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\nkongapigateway    | 2022-06-07 11:21:33.161 ERROR 1 --- [nio-8095-exec-1] c.k.K.Interceptor.WebInterceptor         : WebInterceptor preHandle is now logged\r\nkongapigateway    | 2022-06-07 11:21:33.277 ERROR 1 --- [nio-8095-exec-1] c.k.K.AOP.WEbAspectExceptionConfig       : Please input all field\r\nkongapigateway    | 2022-06-07 11:21:33.277 ERROR 1 --- [nio-8095-exec-1] c.k.K.Interceptor.WebInterceptor         : WebInterceptor afterCompletion is now logged\r\n\r\n```\r\nPostman api error handler is Empty\r\n\r\n[Shown here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pe5WI.png","title":"Spring boot Interceptor dont show @ControllerAdvice errorhandler?","body":"<p>Implemetation: Im trying to implementin project with <code>Interceptor</code> but the Error handling in showing only in <code>Terminal</code> which is good but i need also to show in restapi in postman and its showing empty.</p>\n<pre><code>\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport org.springframework.web.servlet.HandlerInterceptor;\nimport org.springframework.web.servlet.ModelAndView;\n\n\npublic class WebInterceptor implements HandlerInterceptor {\n    \n    private Logger logger = LoggerFactory.getLogger(WebInterceptor.class);\n\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n            throws Exception    {\n        logger.error(&quot;WebInterceptor preHandle is now logged&quot;);\n        return true;\n    }\n\n    @Override\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,\n            ModelAndView modelAndView) throws Exception {\n        logger.error(&quot;WebInterceptor posthandle is now logged&quot;);\n        HandlerInterceptor.super.postHandle(request, response, handler, modelAndView);\n    }\n\n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)\n            throws Exception {\n        logger.error(&quot;WebInterceptor afterCompletion is now logged&quot;);\n        HandlerInterceptor.super.afterCompletion(request, response, handler, ex);\n    }\n    \n    \n\n\n    \n    \n    \n    \n\n}\n\n\n</code></pre>\n<pre><code>\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.InterceptorRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class AppConfig implements WebMvcConfigurer{\n    \n\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n\n        registry.addInterceptor(new WebInterceptor()).addPathPatterns(&quot;/cart/**&quot;).order(1);\n        registry.addInterceptor(new WebInterceptor()).addPathPatterns(&quot;/product/**&quot;).order(2);\n    }\n    \n    \n    \n    \n\n}\n\n\n</code></pre>\n<pre><code>\nimport com.kongapigateway.KongAPIgateway.ModelException.DATE_FORMAT_ERROR;\nimport com.kongapigateway.KongAPIgateway.ModelException.ProductExecption;\nimport com.kongapigateway.KongAPIgateway.ModelException.ProductIDnotFound;\nimport com.kongapigateway.KongAPIgateway.ModelException.ProductValueNotNull;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\n\n@RestControllerAdvice\npublic class WEbAspectExceptionConfig {\n    \n     private Logger logger = LoggerFactory.getLogger(WEbAspectExceptionConfig.class);\n\n        @ExceptionHandler(ProductValueNotNull.class)\n        @ResponseStatus\n        public void handle(ProductValueNotNull e) {\n            logger.error(e.getMessage());\n        }\n        \n        @ExceptionHandler(DATE_FORMAT_ERROR.class)\n        @ResponseStatus\n        public void handle2(DATE_FORMAT_ERROR e) {\n               logger.error(e.getMessage());\n        }\n        \n        @ExceptionHandler(ProductExecption.class)\n        @ResponseStatus\n        public void handle2(ProductExecption e) {\n               logger.error(e.getMessage());\n        }\n        \n        @ExceptionHandler(ProductIDnotFound.class)\n        @ResponseStatus\n        public void handle2(ProductIDnotFound e) {\n               logger.error(e.getMessage());\n        }\n        \n        \n\n}\n\n\n</code></pre>\n<p>Terminal Output:\nThis is the error handling message: <code>Please input all field</code></p>\n<pre><code>kongapigateway    | 2022-06-07 11:21:33.149  INFO 1 --- [nio-8095-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\nkongapigateway    | 2022-06-07 11:21:33.161 ERROR 1 --- [nio-8095-exec-1] c.k.K.Interceptor.WebInterceptor         : WebInterceptor preHandle is now logged\nkongapigateway    | 2022-06-07 11:21:33.277 ERROR 1 --- [nio-8095-exec-1] c.k.K.AOP.WEbAspectExceptionConfig       : Please input all field\nkongapigateway    | 2022-06-07 11:21:33.277 ERROR 1 --- [nio-8095-exec-1] c.k.K.Interceptor.WebInterceptor         : WebInterceptor afterCompletion is now logged\n\n</code></pre>\n<p>Postman api error handler is Empty</p>\n<p><a href=\"https://i.stack.imgur.com/pe5WI.png\" rel=\"nofollow noreferrer\">Shown here</a></p>\n"},{"tags":["java","streaming","grpc","flatbuffers"],"comments":[{"owner":{"account_id":9427,"reputation":5674,"user_id":17419,"display_name":"Aardappel"},"score":0,"creation_date":1654575693,"post_id":72525537,"comment_id":128117036,"body_markdown":"In Java, `FlatBuffersBuilder.offset()` gives the current size at any time, similar to `FlatBuffersBuilder::GetSize()` in C++.","body":"In Java, <code>FlatBuffersBuilder.offset()</code> gives the current size at any time, similar to <code>FlatBuffersBuilder::GetSize()</code> in C++."},{"owner":{"account_id":4715591,"reputation":71,"user_id":3814815,"display_name":"GChiappe"},"score":0,"creation_date":1654611444,"post_id":72525537,"comment_id":128128544,"body_markdown":"Thank you, but I confused terms yesterday, what we want is to know the flexbuffer size before is finished (while building it)","body":"Thank you, but I confused terms yesterday, what we want is to know the flexbuffer size before is finished (while building it)"},{"owner":{"account_id":3334422,"reputation":612,"user_id":2802446,"display_name":"G.G."},"score":0,"creation_date":1678440296,"post_id":72525537,"comment_id":133536533,"body_markdown":"Hi @Aardappel\nI am not able to find offset method on FlatBuffersBuilder. I am using 23.3.3 version of flatbuffers-java. \n\nIs it available in specific version?","body":"Hi @Aardappel I am not able to find offset method on FlatBuffersBuilder. I am using 23.3.3 version of flatbuffers-java.   Is it available in specific version?"}],"owner":{"account_id":4715591,"reputation":71,"user_id":3814815,"display_name":"GChiappe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654611365,"creation_date":1654571739,"question_id":72525537,"body_markdown":"I&#39;m currently working in high performance computing and the protocol we choose to connect the backend applications is flatbuffers because binary and zero-copy...\r\n\r\nIn one end, an app is going to send large amounts of data in &quot;client streaming&quot; form, but as we know, grpc has a default package limit of 4MB (can be set to a bigger size, but that is not what we want). To get over that, we are creating chunks of the data to send, these chunks size must be less than 4MB each but currently we don&#39;t know how to measure the size of the chunk BEFORE the **flexbuffer** is &quot;finished&quot;.\r\n\r\nWe want to know the size of the **flexbuffer** chunk before is finished because we don&#39;t actually know how much data is going to be transferred prior to the construction of the chunk (we are using flexbuffers here). Then, if we know the size, we can stop the building and sent the chunk before it reaches grpc&#39;s max package size.\r\n\r\n**Update**\r\n\r\nI&#39;m sorry I confused the terms. What we want is to know the **flexbuffer** size before is finished.\r\n\r\nThank you in advance! Hope everyone is doing good.","title":"Is there a way to know the current flatbuffer builder buffer size?","body":"<p>I'm currently working in high performance computing and the protocol we choose to connect the backend applications is flatbuffers because binary and zero-copy...</p>\n<p>In one end, an app is going to send large amounts of data in &quot;client streaming&quot; form, but as we know, grpc has a default package limit of 4MB (can be set to a bigger size, but that is not what we want). To get over that, we are creating chunks of the data to send, these chunks size must be less than 4MB each but currently we don't know how to measure the size of the chunk BEFORE the <strong>flexbuffer</strong> is &quot;finished&quot;.</p>\n<p>We want to know the size of the <strong>flexbuffer</strong> chunk before is finished because we don't actually know how much data is going to be transferred prior to the construction of the chunk (we are using flexbuffers here). Then, if we know the size, we can stop the building and sent the chunk before it reaches grpc's max package size.</p>\n<p><strong>Update</strong></p>\n<p>I'm sorry I confused the terms. What we want is to know the <strong>flexbuffer</strong> size before is finished.</p>\n<p>Thank you in advance! Hope everyone is doing good.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":9,"creation_date":1404398608,"post_id":24556796,"comment_id":38033108,"body_markdown":"Because what sense would &quot;The UnderTaker&quot; &gt; &quot;Ray Mysterio&quot; make to a person who has never watched WWE?. Java doesn&#39;t implicitly take the int values of characters and compare..( unlike in C++ where Operators are overloaded.)","body":"Because what sense would &quot;The UnderTaker&quot; &gt; &quot;Ray Mysterio&quot; make to a person who has never watched WWE?. Java doesn&#39;t implicitly take the int values of characters and compare..( unlike in C++ where Operators are overloaded.)"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1404398634,"post_id":24556796,"comment_id":38033134,"body_markdown":"Easy - because Java chose not to implement those operators to take String arguments.  You do it using Comparator implementations.","body":"Easy - because Java chose not to implement those operators to take String arguments.  You do it using Comparator implementations."},{"owner":{"account_id":25466,"reputation":36566,"user_id":65464,"accept_rate":93,"display_name":"Erich Kitzmueller"},"score":0,"creation_date":1404399739,"post_id":24556796,"comment_id":38034026,"body_markdown":"The behaviour of `&gt;` etc. should be consistent with `compareTo`, so this is not the problem.","body":"The behaviour of <code>&gt;</code> etc. should be consistent with <code>compareTo</code>, so this is not the problem."}],"answers":[{"tags":[],"owner":{"account_id":2661148,"reputation":8297,"user_id":2300800,"accept_rate":79,"display_name":"TheMP"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1404399473,"creation_date":1404398641,"answer_id":24556832,"question_id":24556796,"body_markdown":"The simple answer is: because they weren&#39;t implemented. Java (unlike e.g. C/C++) does not rely on operator overloading, so you have to get the value of a String with `length` method and then compare the results with your `&lt; &gt; &lt;= &gt;=` operators.\r\n\r\nSide note: Strings in Java also implement Comparable interface. It allows you to use compareTo method, which returns 0 if the argument is a strings are equal, a value less than 0 if the argument is greater than string which you run this method on; and a value greater than 0 if the argument is a string smaller than this string.\r\n\r\nSide note 2: By &quot;greater string&quot; I mean lexicographically greater (alphabetically).","title":"why cant we use &lt;, &lt;=, &gt;,&gt;= relational operators on String?","body":"<p>The simple answer is: because they weren't implemented. Java (unlike e.g. C/C++) does not rely on operator overloading, so you have to get the value of a String with <code>length</code> method and then compare the results with your <code>&lt; &gt; &lt;= &gt;=</code> operators.</p>\n\n<p>Side note: Strings in Java also implement Comparable interface. It allows you to use compareTo method, which returns 0 if the argument is a strings are equal, a value less than 0 if the argument is greater than string which you run this method on; and a value greater than 0 if the argument is a string smaller than this string.</p>\n\n<p>Side note 2: By \"greater string\" I mean lexicographically greater (alphabetically).</p>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404398738,"creation_date":1404398738,"answer_id":24556862,"question_id":24556796,"body_markdown":"If you really want to do this, use the `compareTo` result.\r\n\r\n    if (&quot;a&quot;.compareTo(&quot;b&quot;) &gt;= 0) {\r\n        // do stuff\r\n    }\r\n\r\nIf you want to ignore case you can do:\r\n\r\n    if (String.CASE_INSENSITIVE_ORDER.compare(&quot;A&quot;, &quot;b&quot;) &lt;= 0) {\r\n       // do stuff\r\n    }","title":"why cant we use &lt;, &lt;=, &gt;,&gt;= relational operators on String?","body":"<p>If you really want to do this, use the <code>compareTo</code> result.</p>\n\n<pre><code>if (\"a\".compareTo(\"b\") &gt;= 0) {\n    // do stuff\n}\n</code></pre>\n\n<p>If you want to ignore case you can do:</p>\n\n<pre><code>if (String.CASE_INSENSITIVE_ORDER.compare(\"A\", \"b\") &lt;= 0) {\n   // do stuff\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404398761,"creation_date":1404398761,"answer_id":24556870,"question_id":24556796,"body_markdown":"Here&#39;s the right way: \r\n\r\n    import java.util.*;\r\n    public class Coffee {\r\n        public static void main(String args[]) {\r\n            String s1=&quot;Cat&quot;;\r\n            String s2=&quot;Dog&quot;;\r\n            System.out.println(s1.compareTo(s2));\r\n        }\r\n    }","title":"why cant we use &lt;, &lt;=, &gt;,&gt;= relational operators on String?","body":"<p>Here's the right way: </p>\n\n<pre><code>import java.util.*;\npublic class Coffee {\n    public static void main(String args[]) {\n        String s1=\"Cat\";\n        String s2=\"Dog\";\n        System.out.println(s1.compareTo(s2));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4697681,"reputation":41,"user_id":3802167,"display_name":"TriedMyBest"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404399112,"creation_date":1404399112,"answer_id":24556995,"question_id":24556796,"body_markdown":"String is not a primitive data type like int and double are. Strings are objects. \r\n\r\nFor Strings, the relational operator, ==, only checks to see if the objects &quot;point&quot; to the same data in the heap. \r\n\r\nFor example,\r\n\r\n    String s1=&quot;Cat&quot;;\r\n    String s2= new String(&quot;Cat&quot;);\r\n    \r\n    if(s1==s2)\r\n    System.out.println(&quot;They are the same&quot;);\r\n\r\nThe if statement WILL NOT execute.\r\nThis is because after you created an instance of &quot;Cat&quot;, you create another instance of &quot;Cat,&quot; in the heap. The two variables do not &quot;point&quot; to the same data.\r\n\r\ncompareTo methods check to see if the actual data that the variables are allocated to in a heap are equal to each other, and is one of the many correct ways to see if two String objects are equal to each other.\r\n\r\nI hope it helped, if my response is unclear, please do not hesitate to ask.\r\n","title":"why cant we use &lt;, &lt;=, &gt;,&gt;= relational operators on String?","body":"<p>String is not a primitive data type like int and double are. Strings are objects. </p>\n\n<p>For Strings, the relational operator, ==, only checks to see if the objects \"point\" to the same data in the heap. </p>\n\n<p>For example,</p>\n\n<pre><code>String s1=\"Cat\";\nString s2= new String(\"Cat\");\n\nif(s1==s2)\nSystem.out.println(\"They are the same\");\n</code></pre>\n\n<p>The if statement WILL NOT execute.\nThis is because after you created an instance of \"Cat\", you create another instance of \"Cat,\" in the heap. The two variables do not \"point\" to the same data.</p>\n\n<p>compareTo methods check to see if the actual data that the variables are allocated to in a heap are equal to each other, and is one of the many correct ways to see if two String objects are equal to each other.</p>\n\n<p>I hope it helped, if my response is unclear, please do not hesitate to ask.</p>\n"}],"owner":{"account_id":3463299,"reputation":123,"user_id":2899676,"accept_rate":23,"display_name":"user2899676"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10136,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":4,"score":3,"last_activity_date":1654611260,"creation_date":1404398530,"question_id":24556796,"body_markdown":"I want to know why we cant use the `&lt;`, `&lt;=`, `&gt;` or `&gt;=` relational operators on Strings. \r\n\r\n    import java.util.*;\r\n    public class Coffee{\r\n        public static void main(String args[]){\r\n            String s1=&quot;Cat&quot;;\r\n            String s2=&quot;Dog&quot;;\r\n            System.out.println(s1 &lt; s2);\r\n        }\r\n    }\r\n\r\ngives the error &quot;operator &lt; cannot be applied to java.lang.String&quot;.\r\n\r\nWhy can&#39;t Java compare strings like this: `C &lt; D`?\r\n","title":"why cant we use &lt;, &lt;=, &gt;,&gt;= relational operators on String?","body":"<p>I want to know why we cant use the <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code> or <code>&gt;=</code> relational operators on Strings.</p>\n<pre><code>import java.util.*;\npublic class Coffee{\n    public static void main(String args[]){\n        String s1=&quot;Cat&quot;;\n        String s2=&quot;Dog&quot;;\n        System.out.println(s1 &lt; s2);\n    }\n}\n</code></pre>\n<p>gives the error &quot;operator &lt; cannot be applied to java.lang.String&quot;.</p>\n<p>Why can't Java compare strings like this: <code>C &lt; D</code>?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":13214732,"reputation":443,"user_id":9543676,"display_name":"Duc Vo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654610957,"creation_date":1654610957,"answer_id":72532691,"question_id":72528778,"body_markdown":"I don&#39;t know what kind of **`Datetime` you store in Database** and **`Datetime` you define in DTO Object**.\r\n\r\nCan you share more about it?\r\n\r\nIn case you use Spring Boot. Config in `properties` file to give you more info:\r\n\r\n    # Show SQL Query\r\n    spring.jpa.show-sql=true\r\n    \r\n    # Show Binding\r\n    logging.level.org.hibernate.type.descriptor.sql=trace\r\n    \r\n    # Show details patch and transaction\r\n    logging.level.ROOT=INFO\r\n    logging.level.org.hibernate.engine.transaction.internal.TransactionImpl=DEBUG\r\n    logging.level.org.springframework.orm.jpa=DEBUG\r\n    logging.level.org.springframework.transaction=DEBUG\r\n\r\nI think the issue because the converter in @Query\r\nIf use spring you can use:\r\n\r\n    @Component\r\n    @Converter(autoApply = true)\r\n    public class DateTimeConverter implements AttributeConverter&lt;LocalDateTime, Timestamp&gt; {\r\n    \r\n      @Override\r\n      public Timestamp convertToDatabaseColumn(LocalDateTime localDateTime) {\r\n        if (localDateTime == null) {\r\n          return null;\r\n        }\r\n    \r\n        return Timestamp.from(ZonedDateTime.of(localDateTime, ZoneId.systemDefault()).toInstant());\r\n      }\r\n    \r\n      @Override\r\n      public LocalDateTime convertToEntityAttribute(Timestamp timestamp) {\r\n        if (timestamp == null) {\r\n          return null;\r\n        }\r\n    \r\n        return LocalDateTime.ofInstant(Instant.ofEpochMilli(timestamp.getTime()),\r\n            ZoneId.systemDefault());\r\n      }\r\n    }","title":"Hibernate Timezone Issue","body":"<p>I don't know what kind of <strong><code>Datetime</code> you store in Database</strong> and <strong><code>Datetime</code> you define in DTO Object</strong>.</p>\n<p>Can you share more about it?</p>\n<p>In case you use Spring Boot. Config in <code>properties</code> file to give you more info:</p>\n<pre><code># Show SQL Query\nspring.jpa.show-sql=true\n\n# Show Binding\nlogging.level.org.hibernate.type.descriptor.sql=trace\n\n# Show details patch and transaction\nlogging.level.ROOT=INFO\nlogging.level.org.hibernate.engine.transaction.internal.TransactionImpl=DEBUG\nlogging.level.org.springframework.orm.jpa=DEBUG\nlogging.level.org.springframework.transaction=DEBUG\n</code></pre>\n<p>I think the issue because the converter in @Query\nIf use spring you can use:</p>\n<pre><code>@Component\n@Converter(autoApply = true)\npublic class DateTimeConverter implements AttributeConverter&lt;LocalDateTime, Timestamp&gt; {\n\n  @Override\n  public Timestamp convertToDatabaseColumn(LocalDateTime localDateTime) {\n    if (localDateTime == null) {\n      return null;\n    }\n\n    return Timestamp.from(ZonedDateTime.of(localDateTime, ZoneId.systemDefault()).toInstant());\n  }\n\n  @Override\n  public LocalDateTime convertToEntityAttribute(Timestamp timestamp) {\n    if (timestamp == null) {\n      return null;\n    }\n\n    return LocalDateTime.ofInstant(Instant.ofEpochMilli(timestamp.getTime()),\n        ZoneId.systemDefault());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":17795905,"reputation":75,"user_id":12923745,"display_name":"Daniel Ef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72532691,"answer_count":1,"score":1,"last_activity_date":1654610957,"creation_date":1654593570,"question_id":72528778,"body_markdown":"I have two entities in two different services and two different databases and both of them have one DateTime column in common \r\n\r\nwhen I want to set an exact time for both columns, in one of the services the time is right but in another one time is set for two hours ago\r\n\r\nSave Query in first entity ( wrong time ) : \r\n\r\n    @Modifying\r\n\t@Query(value = &quot;UPDATE PlatformOrganization p SET p.paymentsMatchingLastUpdate = :time WHERE p.externalUUID = :organizationExternalUUID&quot;)\r\n\tvoid updatePaymentsMatchingLastUpdateByExternalUUID(@Param(&quot;organizationExternalUUID&quot;) String organizationExternalUUID, @Param(&quot;time&quot;) LocalDateTime time);\r\n\r\n\r\nsave Query in second entity ( right time ) : \r\n\r\n    public PlatformResponse&lt;ImportConfigurationDto&gt; updateConfigurationPaymentsMatchingLastUpdate(LocalDateTime updateTime, String externalUUID) {\r\n\t\tImportConfiguration configuration = importConfigurationDao.findByExternalUUID(externalUUID);\r\n\r\n\t\tif (configuration == null)\r\n\t\t\treturn new PlatformResponse&lt;&gt;(&quot;configuration not found&quot;);\r\n\r\n\t\tconfiguration.setPaymentsMatchingLastUpdate(updateTime);\r\n\t\timportConfigurationDao.save(configuration);\r\n\r\n\t\treturn new PlatformResponse&lt;&gt;(mapper.mapToDto(configuration));\r\n\t}","title":"Hibernate Timezone Issue","body":"<p>I have two entities in two different services and two different databases and both of them have one DateTime column in common</p>\n<p>when I want to set an exact time for both columns, in one of the services the time is right but in another one time is set for two hours ago</p>\n<p>Save Query in first entity ( wrong time ) :</p>\n<pre><code>@Modifying\n@Query(value = &quot;UPDATE PlatformOrganization p SET p.paymentsMatchingLastUpdate = :time WHERE p.externalUUID = :organizationExternalUUID&quot;)\nvoid updatePaymentsMatchingLastUpdateByExternalUUID(@Param(&quot;organizationExternalUUID&quot;) String organizationExternalUUID, @Param(&quot;time&quot;) LocalDateTime time);\n</code></pre>\n<p>save Query in second entity ( right time ) :</p>\n<pre><code>public PlatformResponse&lt;ImportConfigurationDto&gt; updateConfigurationPaymentsMatchingLastUpdate(LocalDateTime updateTime, String externalUUID) {\n    ImportConfiguration configuration = importConfigurationDao.findByExternalUUID(externalUUID);\n\n    if (configuration == null)\n        return new PlatformResponse&lt;&gt;(&quot;configuration not found&quot;);\n\n    configuration.setPaymentsMatchingLastUpdate(updateTime);\n    importConfigurationDao.save(configuration);\n\n    return new PlatformResponse&lt;&gt;(mapper.mapToDto(configuration));\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jackson","deserialization","lombok"],"comments":[{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1572001110,"post_id":58556027,"comment_id":103433571,"body_markdown":"Possible duplicate of [Can&#39;t make Jackson and Lombok work together](https://stackoverflow.com/questions/39381474/cant-make-jackson-and-lombok-work-together)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/39381474/cant-make-jackson-and-lombok-work-together\">Can&#39;t make Jackson and Lombok work together</a>"},{"owner":{"account_id":6430643,"reputation":1854,"user_id":4983983,"accept_rate":60,"display_name":"tryingHard"},"score":0,"creation_date":1572001684,"post_id":58556027,"comment_id":103433835,"body_markdown":"@Strelok My question is different from `Can&#39;t make Jackson and Lombok work together` cause it works together.","body":"@Strelok My question is different from <code>Can&#39;t make Jackson and Lombok work together</code> cause it works together."},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1572002010,"post_id":58556027,"comment_id":103433995,"body_markdown":"Maybe you should read the actual linked question because the top voted answer tells you how to use the Lombok builders &#128580;. You’re hardly trying","body":"Maybe you should read the actual linked question because the top voted answer tells you how to use the Lombok builders 🙄. You’re hardly trying"},{"owner":{"account_id":6430643,"reputation":1854,"user_id":4983983,"accept_rate":60,"display_name":"tryingHard"},"score":1,"creation_date":1572002148,"post_id":58556027,"comment_id":103434066,"body_markdown":"My questions was partly about how `Jackson` works by default I don&#39;t see that mentioned there.","body":"My questions was partly about how <code>Jackson</code> works by default I don&#39;t see that mentioned there."}],"answers":[{"tags":[],"owner":{"account_id":11142984,"reputation":2547,"user_id":8178842,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571998704,"creation_date":1571998704,"answer_id":58556614,"question_id":58556027,"body_markdown":"According to [this tutorial](http://tutorials.jenkov.com/java-json/jackson-objectmapper.html) jackson searches for getter- and setter-methods. Also to create an object of the type a default constructor is needed. So basically you need a class that satisfies the [java bean](https://en.wikipedia.org/wiki/JavaBeans) conventions.\r\n\r\nLong story short: You need `@Data` for getter- and setter-methods and `@NoArgsConstructor` for the default constructor to satisfy the bean convention. `@AllArgsConstructor` and `@Builder` should not be needed for jackson.","title":"How does Jackson deserializer work by default","body":"<p>According to <a href=\"http://tutorials.jenkov.com/java-json/jackson-objectmapper.html\" rel=\"nofollow noreferrer\">this tutorial</a> jackson searches for getter- and setter-methods. Also to create an object of the type a default constructor is needed. So basically you need a class that satisfies the <a href=\"https://en.wikipedia.org/wiki/JavaBeans\" rel=\"nofollow noreferrer\">java bean</a> conventions.</p>\n\n<p>Long story short: You need <code>@Data</code> for getter- and setter-methods and <code>@NoArgsConstructor</code> for the default constructor to satisfy the bean convention. <code>@AllArgsConstructor</code> and <code>@Builder</code> should not be needed for jackson.</p>\n"},{"tags":[],"owner":{"account_id":8234352,"reputation":106,"user_id":6194103,"display_name":"Irtaza Zaidi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1572000175,"creation_date":1572000175,"answer_id":58557011,"question_id":58556027,"body_markdown":"Jackson uses default (no argument) constructor to create object and then sets value using setters. so you only need @NoArgsConstructor and @Setter.","title":"How does Jackson deserializer work by default","body":"<p>Jackson uses default (no argument) constructor to create object and then sets value using setters. so you only need @NoArgsConstructor and @Setter.</p>\n"},{"tags":[],"owner":{"account_id":74473,"reputation":1561,"user_id":213984,"display_name":"allkenang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572004119,"creation_date":1572004119,"answer_id":58557973,"question_id":58556027,"body_markdown":"Well since you are using Spring Boot, there should be a Jackson configuration class somewhere annotated with @Configuration. Something like this should enable serialization for your Java bean without the need for any annotation\r\n\r\n    @Configuration\r\n    public class JacksonConfiguration {\r\n\r\n\t   @Bean\r\n       public ObjectMapper objectMapper() {\r\n          ObjectMapper mapper = new ObjectMapper();\r\n          objectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\r\n          return mapper;\r\n       }\r\n\r\n    }","title":"How does Jackson deserializer work by default","body":"<p>Well since you are using Spring Boot, there should be a Jackson configuration class somewhere annotated with @Configuration. Something like this should enable serialization for your Java bean without the need for any annotation</p>\n\n<pre><code>@Configuration\npublic class JacksonConfiguration {\n\n   @Bean\n   public ObjectMapper objectMapper() {\n      ObjectMapper mapper = new ObjectMapper();\n      objectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\n      return mapper;\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4163517,"reputation":2571,"user_id":3413036,"display_name":"isak gilbert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572016654,"creation_date":1572016654,"answer_id":58561310,"question_id":58556027,"body_markdown":"The Jackson deserialization by default uses the **no-args constructor** and the **setters** of the object. So with Lombok, you&#39;ll need a minimum of:\r\n\r\n    @NoArgsConstructor\r\n    @Setter\r\n    public class ExampleDto {\r\n        private String fieldOne;\r\n        private String fieldsTwo;\r\n    }\r\n(Note if you&#39;re ever serializing then you&#39;ll need at least a @Getter).\r\n\r\nThere is an option to override the default deserialization of Jackson to use the Lombok builder. This is covered in top answer to https://stackoverflow.com/questions/39381474/cant-make-jackson-and-lombok-work-together (as others have mentioned). I.e.\r\n\r\n    @Builder\r\n    @Data\r\n    @JsonDeserialize(builder = ExampleDto.ExampleDtoBuilder.class)\r\n    public class ExampleDto {\r\n        private String fieldOne;\r\n        private String fieldsTwo;\r\n    }\r\n\r\n    @JsonPOJOBuilder(withPrefix = &quot;&quot;) \r\n    public static class ExampleDtoBuilder {\r\n\r\n    }\r\n\r\n","title":"How does Jackson deserializer work by default","body":"<p>The Jackson deserialization by default uses the <strong>no-args constructor</strong> and the <strong>setters</strong> of the object. So with Lombok, you'll need a minimum of:</p>\n\n<pre><code>@NoArgsConstructor\n@Setter\npublic class ExampleDto {\n    private String fieldOne;\n    private String fieldsTwo;\n}\n</code></pre>\n\n<p>(Note if you're ever serializing then you'll need at least a @Getter).</p>\n\n<p>There is an option to override the default deserialization of Jackson to use the Lombok builder. This is covered in top answer to <a href=\"https://stackoverflow.com/questions/39381474/cant-make-jackson-and-lombok-work-together\">Can&#39;t make Jackson and Lombok work together</a> (as others have mentioned). I.e.</p>\n\n<pre><code>@Builder\n@Data\n@JsonDeserialize(builder = ExampleDto.ExampleDtoBuilder.class)\npublic class ExampleDto {\n    private String fieldOne;\n    private String fieldsTwo;\n}\n\n@JsonPOJOBuilder(withPrefix = \"\") \npublic static class ExampleDtoBuilder {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8001844,"reputation":19,"user_id":6036396,"display_name":"wut"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631091766,"creation_date":1631091766,"answer_id":69100075,"question_id":58556027,"body_markdown":"Jackson uses default NoArgsConstructor and Setters. \r\n\r\nIf you don&#39;t provide Setters, jackson will set values using reflection. See - https://stackoverflow.com/questions/43821319/how-does-jackson-set-private-properties-without-setters","title":"How does Jackson deserializer work by default","body":"<p>Jackson uses default NoArgsConstructor and Setters.</p>\n<p>If you don't provide Setters, jackson will set values using reflection. See - <a href=\"https://stackoverflow.com/questions/43821319/how-does-jackson-set-private-properties-without-setters\">How does jackson set private properties without setters?</a></p>\n"},{"tags":[],"owner":{"account_id":5319768,"reputation":530,"user_id":4243558,"display_name":"khesam109"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654610578,"creation_date":1654610578,"answer_id":72532599,"question_id":58556027,"body_markdown":"Although  above answers work to solve the mentioned issue, as an updated answer, according to the [lombok official website][1], from 1.18.14, `@Jacksonized` was introduced, which automatically configures the generated builder class to be used by Jackson&#39;s deserialization. Therefore, your code could be like this:\r\n\r\n    @Builder\r\n    @Jacksonized\r\n    public class ExampleDto {\r\n        private String fieldOne;\r\n        private String fieldsTwo;\r\n    }\r\n\r\n\r\n  [1]: https://projectlombok.org/features/experimental/Jacksonized","title":"How does Jackson deserializer work by default","body":"<p>Although  above answers work to solve the mentioned issue, as an updated answer, according to the <a href=\"https://projectlombok.org/features/experimental/Jacksonized\" rel=\"nofollow noreferrer\">lombok official website</a>, from 1.18.14, <code>@Jacksonized</code> was introduced, which automatically configures the generated builder class to be used by Jackson's deserialization. Therefore, your code could be like this:</p>\n<pre><code>@Builder\n@Jacksonized\npublic class ExampleDto {\n    private String fieldOne;\n    private String fieldsTwo;\n}\n</code></pre>\n"}],"owner":{"account_id":6430643,"reputation":1854,"user_id":4983983,"accept_rate":60,"display_name":"tryingHard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7747,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1654610578,"creation_date":1571996617,"question_id":58556027,"body_markdown":"I am using `Spring-boot 2.1.6` and i have `DTO`:\r\n\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Data // setters, getters, others\r\n    @NoArgsConstructor\r\n    public class ExampleDto {\r\n        private String fieldOne;\r\n        private String fieldsTwo;\r\n    \r\n    }\r\n\r\nDo i really need that many `Lombok` annotation here? Which will `Jackson` use by default when deserializing over `HTTP` connection (microservices)?\r\nI guess only `NoArgsConstructor` + `setters` would be fine? Or does it use `reflection` and only providing no-arg-constructor is fine?\r\n\r\nIs there an option to change behaviour of `Jackson` to use only `AllArgsConstructor` or `builder`?\r\nI saw in logs that my app uses `Jackson` to deserialize stuff.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.8&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nEdit:\r\n\r\nMy question is different from https://stackoverflow.com/questions/39381474/cant-make-jackson-and-lombok-work-together cause it works.","title":"How does Jackson deserializer work by default","body":"<p>I am using <code>Spring-boot 2.1.6</code> and i have <code>DTO</code>:</p>\n\n<pre><code>@AllArgsConstructor\n@Builder\n@Data // setters, getters, others\n@NoArgsConstructor\npublic class ExampleDto {\n    private String fieldOne;\n    private String fieldsTwo;\n\n}\n</code></pre>\n\n<p>Do i really need that many <code>Lombok</code> annotation here? Which will <code>Jackson</code> use by default when deserializing over <code>HTTP</code> connection (microservices)?\nI guess only <code>NoArgsConstructor</code> + <code>setters</code> would be fine? Or does it use <code>reflection</code> and only providing no-arg-constructor is fine?</p>\n\n<p>Is there an option to change behaviour of <code>Jackson</code> to use only <code>AllArgsConstructor</code> or <code>builder</code>?\nI saw in logs that my app uses <code>Jackson</code> to deserialize stuff.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;2.8.8&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n &lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Edit:</p>\n\n<p>My question is different from <a href=\"https://stackoverflow.com/questions/39381474/cant-make-jackson-and-lombok-work-together\">Can&#39;t make Jackson and Lombok work together</a> cause it works.</p>\n"},{"tags":["java","string","replace"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1654607880,"post_id":72531878,"comment_id":128127115,"body_markdown":"You can build the replacement using a loop.","body":"You can build the replacement using a loop."},{"owner":{"account_id":25335025,"reputation":83,"user_id":19154308,"display_name":"dsknjksad"},"score":0,"creation_date":1654608144,"post_id":72531878,"comment_id":128127223,"body_markdown":"how would that work because it still just replaces with only one star","body":"how would that work because it still just replaces with only one star"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1654608448,"post_id":72531878,"comment_id":128127359,"body_markdown":"@dsknjksad not if you use a loop to generate multiple `*`s which is what Chaosfire suggested.","body":"@dsknjksad not if you use a loop to generate multiple <code>*</code>s which is what Chaosfire suggested."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1654608595,"post_id":72531878,"comment_id":128127428,"body_markdown":"Check [how to repeat a string](https://stackoverflow.com/questions/1235179/simple-way-to-repeat-a-string.)","body":"Check <a href=\"https://stackoverflow.com/questions/1235179/simple-way-to-repeat-a-string.\">how to repeat a string</a>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1654609813,"post_id":72531878,"comment_id":128127884,"body_markdown":"Out of curiosity, is this for a form of text-censoring? Because users can quickly and easily `4bc` to get around these types of filters, and other solutions exist.","body":"Out of curiosity, is this for a form of text-censoring? Because users can quickly and easily <code>4bc</code> to get around these types of filters, and other solutions exist."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1654614809,"post_id":72531878,"comment_id":128129993,"body_markdown":"@Rogue indeed, like `аbc` which does not match `abc`.","body":"@Rogue indeed, like <code>аbc</code> which does not match <code>abc</code>."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1654647958,"post_id":72531878,"comment_id":128139307,"body_markdown":"If you don&#39;t have the `repeat()` method available to you then perhaps use the [String.join()](https://www.w3resource.com/java-tutorial/string/string_join.php) method: `s = s.replace(word1, String.join(&quot;&quot;, java.util.Collections.nCopies(word1.length(), &quot;*&quot;)));`.","body":"If you don&#39;t have the <code>repeat()</code> method available to you then perhaps use the <a href=\"https://www.w3resource.com/java-tutorial/string/string_join.php\" rel=\"nofollow noreferrer\">String.join()</a> method: <code>s = s.replace(word1, String.join(&quot;&quot;, java.util.Collections.nCopies(word1.length(), &quot;*&quot;)));</code>."}],"answers":[{"tags":[],"owner":{"account_id":1573267,"reputation":7512,"user_id":1460461,"accept_rate":38,"display_name":"Benvorth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654610560,"creation_date":1654610560,"answer_id":72532592,"question_id":72531878,"body_markdown":"You can do something like this:\r\n\r\n```\r\nString s = &quot;abcdefgh&quot;;\r\nString word1 = &quot;abc&quot;;\r\n\r\nString replace = &quot;&quot;;\r\nfor (int i = 0; i &lt; word1.length(); i++) {\r\n    replace += &quot;*&quot;;\r\n}\r\n\r\ns = s.replaceAll(word1,replace);\r\nSystem.out.println(s);\r\n```\r\ngives:\r\n```\r\n***defgh","title":"Replace a part of substring with a string that is repeated","body":"<p>You can do something like this:</p>\n<pre><code>String s = &quot;abcdefgh&quot;;\nString word1 = &quot;abc&quot;;\n\nString replace = &quot;&quot;;\nfor (int i = 0; i &lt; word1.length(); i++) {\n    replace += &quot;*&quot;;\n}\n\ns = s.replaceAll(word1,replace);\nSystem.out.println(s);\n</code></pre>\n<p>gives:</p>\n<pre><code>***defgh\n</code></pre>\n"}],"owner":{"account_id":25335025,"reputation":83,"user_id":19154308,"display_name":"dsknjksad"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1654610560,"creation_date":1654607785,"question_id":72531878,"body_markdown":"I want to essentially replace part of substring that contains the `&quot;abc&quot;` with the `*`s. I want to do this using java8 (`repeat()` does not exist in java8).\r\n\r\n    String s = &quot;abcdefgh&quot;; \r\n    String word1 = &quot;abc&quot;;  \r\n    s = s.replaceAll(word1,&quot;*&quot;*word1.length());\r\n\r\n\r\noutput should be:\r\n\r\n    s = &quot;***defgh&quot;","title":"Replace a part of substring with a string that is repeated","body":"<p>I want to essentially replace part of substring that contains the <code>&quot;abc&quot;</code> with the <code>*</code>s. I want to do this using java8 (<code>repeat()</code> does not exist in java8).</p>\n<pre><code>String s = &quot;abcdefgh&quot;; \nString word1 = &quot;abc&quot;;  \ns = s.replaceAll(word1,&quot;*&quot;*word1.length());\n</code></pre>\n<p>output should be:</p>\n<pre><code>s = &quot;***defgh&quot;\n</code></pre>\n"},{"tags":["java","exception","input","try-catch"],"comments":[{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":0,"creation_date":1637166443,"post_id":70008079,"comment_id":123754788,"body_markdown":"Separate try-catch seems to be a good solution here","body":"Separate try-catch seems to be a good solution here"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1637168845,"post_id":70008079,"comment_id":123755908,"body_markdown":"If you go on to be a professional coder, you aren&#39;t likely to deal with problems like this. Using Scanner on the command line is mostly just for practice. I am a big proponent of &quot;fast fail&quot; where you give up on what you are doing early, and show the user a good error message (or log it to a file). There are some kinds of Exceptions you can recover from, but a lot of times bad input (if you can&#39;t ask the user to re-enter) is fatal","body":"If you go on to be a professional coder, you aren&#39;t likely to deal with problems like this. Using Scanner on the command line is mostly just for practice. I am a big proponent of &quot;fast fail&quot; where you give up on what you are doing early, and show the user a good error message (or log it to a file). There are some kinds of Exceptions you can recover from, but a lot of times bad input (if you can&#39;t ask the user to re-enter) is fatal"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1637169188,"post_id":70008079,"comment_id":123756047,"body_markdown":"And honestly, HTML 5 is IMO the source for the best way to deal with bad user input. The INPUT tag has really useful functionality for setting attributes to define what is permissible (checked when the FORM is submitted). This is really the state of the art at the end of 2021. It&#39;s much harder to do in Java / with try { } catch","body":"And honestly, HTML 5 is IMO the source for the best way to deal with bad user input. The INPUT tag has really useful functionality for setting attributes to define what is permissible (checked when the FORM is submitted). This is really the state of the art at the end of 2021. It&#39;s much harder to do in Java / with try { } catch"},{"owner":{"account_id":22531657,"reputation":15,"user_id":16723586,"display_name":"Kiznet007"},"score":0,"creation_date":1637200282,"post_id":70008079,"comment_id":123765233,"body_markdown":"This is good to know.","body":"This is good to know."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637166796,"creation_date":1637166553,"answer_id":70008144,"question_id":70008079,"body_markdown":"&gt; Is there a simpler way to fix this or do I need to create separate try/catch blocks for each input?\r\n\r\nYes. Instead of reading out using `nextDouble()`, just do ...\r\n\r\n```\r\nvar input1Correct = false \r\nwhile(!input1Correct) {\r\n  System.out.println(&quot;Input the first number: &quot;);\r\n  a = input.nextLine();\r\n  input1Correct = validateInput(1)  \r\n}\r\n\r\n```\r\n\r\nThen you do manual parsing and validation and if everything is OK, proceed to the next step. Otherwise, ask to reenter.\r\n\r\nYou won&#39;t even need the `catch` clause in this case.\r\n\r\nDoes this solve your problem ? Let me know in the comments.","title":"Catching exceptions on multiple inputs from user but not go back to first input","body":"<blockquote>\n<p>Is there a simpler way to fix this or do I need to create separate try/catch blocks for each input?</p>\n</blockquote>\n<p>Yes. Instead of reading out using <code>nextDouble()</code>, just do ...</p>\n<pre><code>var input1Correct = false \nwhile(!input1Correct) {\n  System.out.println(&quot;Input the first number: &quot;);\n  a = input.nextLine();\n  input1Correct = validateInput(1)  \n}\n\n</code></pre>\n<p>Then you do manual parsing and validation and if everything is OK, proceed to the next step. Otherwise, ask to reenter.</p>\n<p>You won't even need the <code>catch</code> clause in this case.</p>\n<p>Does this solve your problem ? Let me know in the comments.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637166726,"creation_date":1637166569,"answer_id":70008150,"question_id":70008079,"body_markdown":"Make methods. You have a task: &#39;ask for a double, and if the user doesn&#39;t enter one, tell them, and keep asking until they do&#39;. You want to run this task repeatedly and with different prompts.\r\n\r\nParameterize the differences and make a method. Then invoke that:\r\n\r\n```\r\npublic static double askDouble(Scanner input, String prompt) {\r\n  while (true) {\r\n    try {\r\n      System.out.println(prompt);\r\n      return input.nextDouble();\r\n    } catch (InputMismatchException e) {\r\n      System.out.println(&quot;Only numbers allowed, etc...&quot;);\r\n      input.next(); //don&#39;t mix nextLine and nextAnything else.\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nand then call that method in your main (no need for a do/while loop there, at all, or that `correctInput` boolean. In fact, your mine now becomes 3 very very simple lines. Yay methods!)\r\n","title":"Catching exceptions on multiple inputs from user but not go back to first input","body":"<p>Make methods. You have a task: 'ask for a double, and if the user doesn't enter one, tell them, and keep asking until they do'. You want to run this task repeatedly and with different prompts.</p>\n<p>Parameterize the differences and make a method. Then invoke that:</p>\n<pre><code>public static double askDouble(Scanner input, String prompt) {\n  while (true) {\n    try {\n      System.out.println(prompt);\n      return input.nextDouble();\n    } catch (InputMismatchException e) {\n      System.out.println(&quot;Only numbers allowed, etc...&quot;);\n      input.next(); //don't mix nextLine and nextAnything else.\n    }\n  }\n}\n</code></pre>\n<p>and then call that method in your main (no need for a do/while loop there, at all, or that <code>correctInput</code> boolean. In fact, your mine now becomes 3 very very simple lines. Yay methods!)</p>\n"},{"tags":[],"owner":{"account_id":16530625,"reputation":116,"user_id":11943976,"display_name":"KASMI G."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637167316,"creation_date":1637167316,"answer_id":70008344,"question_id":70008079,"body_markdown":"You can declare an array of double, read the values in a loop, in the loop you try/catch the exception. In case there is no error you increment the index.\r\nIt could be something like this : \r\n\r\n    double[] a = [0,0,0];\r\n    int i = 0;\r\n    do {\r\n       try {\r\n           System.out.println(&quot;Input the first number: &quot;);\r\n           a[i] = input.nextDouble();\r\n           i++;\r\n       } catch (InputMismatchException ie) {\r\n            System.out.println(&quot;Only numbers allowed to be entered. No letters or words!&quot;);\r\n            input.nextLine();\r\n        }\r\n    } while(i&lt;3);\r\n\r\nI don&#39;t have a compiler to test this, if there is an error let me know i&#39;ll try to help you.","title":"Catching exceptions on multiple inputs from user but not go back to first input","body":"<p>You can declare an array of double, read the values in a loop, in the loop you try/catch the exception. In case there is no error you increment the index.\nIt could be something like this :</p>\n<pre><code>double[] a = [0,0,0];\nint i = 0;\ndo {\n   try {\n       System.out.println(&quot;Input the first number: &quot;);\n       a[i] = input.nextDouble();\n       i++;\n   } catch (InputMismatchException ie) {\n        System.out.println(&quot;Only numbers allowed to be entered. No letters or words!&quot;);\n        input.nextLine();\n    }\n} while(i&lt;3);\n</code></pre>\n<p>I don't have a compiler to test this, if there is an error let me know i'll try to help you.</p>\n"},{"tags":[],"owner":{"account_id":25488526,"reputation":1,"user_id":19283732,"display_name":"Hussain Raza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654610205,"creation_date":1654531144,"answer_id":72520373,"question_id":70008079,"body_markdown":"You can use the code in this way...\r\n\r\n```\r\npackage multipleinputs;\r\nimport java.util.*;\r\n\r\npublic class multipleinputs {\r\n    public static void main(String[] args) {\r\n        int max = 0;\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            while (true) {\r\n            try {           \r\n                Scanner input = new Scanner(System.in);\r\n                 {\r\n                    System.out.println(&quot;Enter integer value #&quot; + (i + 1));\r\n                    int num = input.nextInt();\r\n                    if (num &gt; max){ \r\n                        max = num;\r\n                    }\r\n                }\r\n                break;  \r\n            }     \r\n            catch (InputMismatchException e) {\r\n                System.out.println(&quot;Only integer values are allowed. Try Again...&quot;);    \r\n            } \r\n         }\r\n       } \r\n        System.out.println(&quot;Maximum input value is &quot; + max);\r\n    } \r\n }\r\n```","title":"Catching exceptions on multiple inputs from user but not go back to first input","body":"<p>You can use the code in this way...</p>\n<pre><code>package multipleinputs;\nimport java.util.*;\n\npublic class multipleinputs {\n    public static void main(String[] args) {\n        int max = 0;\n        for (int i = 0; i &lt; 10; i++) {\n            while (true) {\n            try {           \n                Scanner input = new Scanner(System.in);\n                 {\n                    System.out.println(&quot;Enter integer value #&quot; + (i + 1));\n                    int num = input.nextInt();\n                    if (num &gt; max){ \n                        max = num;\n                    }\n                }\n                break;  \n            }     \n            catch (InputMismatchException e) {\n                System.out.println(&quot;Only integer values are allowed. Try Again...&quot;);    \n            } \n         }\n       } \n        System.out.println(&quot;Maximum input value is &quot; + max);\n    } \n }\n</code></pre>\n"}],"owner":{"account_id":22531657,"reputation":15,"user_id":16723586,"display_name":"Kiznet007"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1654610205,"creation_date":1637166287,"question_id":70008079,"body_markdown":"Here is a small program that has multiple inputs from the user to get the smallest number entered. I&#39;m trying to catch the InputMismatchException all in the same try/catch block but if the user inputs anything but an int on say the second or third int to be entered then it jumps back to the first input which the user already entered correctly. Is there a simpler way to fix this or do I need to create separate try/catch blocks for each input?\r\n\r\n\r\n\r\n\r\n\r\n        public class GrabbingSmallestValueEntered {\r\n        \t\r\n        \tpublic static void main(String[] args) {\r\n        \t\t\r\n        \t\t//Scanner input = new Scanner(System.in);\r\n        \t\tboolean correctInput = true;\r\n        \t\tdouble a = 0;\r\n        \t\tdouble b = 0;\r\n        \t\tdouble c = 0;\r\n        \t\r\n        \t\tScanner input = new Scanner(System.in);\r\n        \r\n        \t\t\tdo {\r\n        \t\t\t\t\r\n        \t\t\t\ttry {\r\n        \t\t\t\t\r\n        \t\t\t\tSystem.out.println(&quot;Input the first number: &quot;);\r\n        \t\t\t\t\ta = input.nextDouble();\r\n        \t\t\t\t\t\r\n        \t\t\t\tSystem.out.println(&quot;Input the second number: &quot;);\r\n        \t\t\t\t\tb = input.nextDouble();\r\n        \t\t\t\t\t\r\n        \t\t\t\tSystem.out.println(&quot;Input the third number: &quot;);\r\n        \t\t\t\t\tc = input.nextDouble();\r\n        \t\t\t\t\tcorrectInput = false;\r\n        \t\t\t\t\r\n        \t\t\t}catch (InputMismatchException ie) {\r\n        \t\t\t\tSystem.out.println(&quot;Only numbers allowed to be entered. No letters or words!&quot;);\r\n        \t\t\t\tinput.nextLine();\r\n        \t\t\t}\r\n        \r\n        \t\t\t\r\n        \t\t} while (correctInput);\r\n        \t\t\r\n        \t\t\tSystem.out.println(&quot;The smallest value is &quot; + smallest(a, b, c) + &quot;\\n&quot;);\r\n        \t\t\t\r\n    }\r\n    \r\n    public static double smallest(double a, double b, double c)\r\n    { \r\n\r\n      return Math.min(Math.min(a, b), c);\r\n    }\r\n    \t\r\n    \t","title":"Catching exceptions on multiple inputs from user but not go back to first input","body":"<p>Here is a small program that has multiple inputs from the user to get the smallest number entered. I'm trying to catch the InputMismatchException all in the same try/catch block but if the user inputs anything but an int on say the second or third int to be entered then it jumps back to the first input which the user already entered correctly. Is there a simpler way to fix this or do I need to create separate try/catch blocks for each input?</p>\n<pre><code>    public class GrabbingSmallestValueEntered {\n        \n        public static void main(String[] args) {\n            \n            //Scanner input = new Scanner(System.in);\n            boolean correctInput = true;\n            double a = 0;\n            double b = 0;\n            double c = 0;\n        \n            Scanner input = new Scanner(System.in);\n    \n                do {\n                    \n                    try {\n                    \n                    System.out.println(&quot;Input the first number: &quot;);\n                        a = input.nextDouble();\n                        \n                    System.out.println(&quot;Input the second number: &quot;);\n                        b = input.nextDouble();\n                        \n                    System.out.println(&quot;Input the third number: &quot;);\n                        c = input.nextDouble();\n                        correctInput = false;\n                    \n                }catch (InputMismatchException ie) {\n                    System.out.println(&quot;Only numbers allowed to be entered. No letters or words!&quot;);\n                    input.nextLine();\n                }\n    \n                \n            } while (correctInput);\n            \n                System.out.println(&quot;The smallest value is &quot; + smallest(a, b, c) + &quot;\\n&quot;);\n                \n}\n\npublic static double smallest(double a, double b, double c)\n{ \n\n  return Math.min(Math.min(a, b), c);\n}\n    \n    \n</code></pre>\n"},{"tags":["java","arraylist","iterator"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":6,"creation_date":1654602931,"post_id":72530703,"comment_id":128125176,"body_markdown":"Why not `e.getSalary()`? I don&#39;t think you want to call `li.next()` twice.","body":"Why not <code>e.getSalary()</code>? I don&#39;t think you want to call <code>li.next()</code> twice."}],"answers":[{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654609858,"creation_date":1654609858,"answer_id":72532416,"question_id":72530703,"body_markdown":"As mentioned by @JustAnotherDeveloper in comments,the problem lies here.\r\n```java\r\nEmployeeRecords e = li.next();\r\nsalary = li.next().getSalary();\r\n```\r\n`Iterator.next()` always returns the next element in the iteration and moves the pointer to it. \r\n\r\nYou have already fetched the object using `li.next()`, now if you call `li.next()` again it will return and move to the next object from the list. Thus you will never get the desired output. ","title":"Accessing an element in an arraylist (Java)","body":"<p>As mentioned by @JustAnotherDeveloper in comments,the problem lies here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>EmployeeRecords e = li.next();\nsalary = li.next().getSalary();\n</code></pre>\n<p><code>Iterator.next()</code> always returns the next element in the iteration and moves the pointer to it.</p>\n<p>You have already fetched the object using <code>li.next()</code>, now if you call <code>li.next()</code> again it will return and move to the next object from the list. Thus you will never get the desired output.</p>\n"},{"tags":[],"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654610024,"creation_date":1654610024,"answer_id":72532446,"question_id":72530703,"body_markdown":"Usage of next() twice seems to be the problem.\r\nYou can try, \r\n```\r\nEmployeeRecords e = li.next();\r\nsalary = e.getSalary();\r\n```\r\n\r\nOr not using iterator and by using for each loop (if &quot;al&quot; can be iterated using for each)\r\n```\r\nfor(EmployeeRecords e : al) {\r\n    salary = e.getSalary();\r\n    long currentEmpNo = e.getEmployeeNum();\r\n    if (currentEmpNo == empNo) {\r\n        // and the rest of the code\r\n    }\r\n}\r\n```","title":"Accessing an element in an arraylist (Java)","body":"<p>Usage of next() twice seems to be the problem.\nYou can try,</p>\n<pre><code>EmployeeRecords e = li.next();\nsalary = e.getSalary();\n</code></pre>\n<p>Or not using iterator and by using for each loop (if &quot;al&quot; can be iterated using for each)</p>\n<pre><code>for(EmployeeRecords e : al) {\n    salary = e.getSalary();\n    long currentEmpNo = e.getEmployeeNum();\n    if (currentEmpNo == empNo) {\n        // and the rest of the code\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25495368,"reputation":1,"user_id":19289508,"display_name":"Hiiro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1654610024,"creation_date":1654602577,"question_id":72530703,"body_markdown":"I&#39;ve been trying to get the salary on the code I&#39;ve been working on so I can compute the salary after `tax = tsalary`. Unfortunately, I&#39;ve hit a bump ever since I was trying to access the salary from my `ArrayList`.\r\nI tried getting the salary via `salary = li.next().getSalary();` but when I run it, I get an output not on that certain employee number I&#39;m trying to compute. \r\n\r\nEven hints of it will be plenty helpful. Thank you\r\n\r\n    case 5:\r\n\t\t\t\tfound = false;\r\n\t\t\t\tdouble tsalary = 1;\r\n\t\t\t\tSystem.out.print(&quot;Enter Employee Number: &quot;);\r\n\t\t\t\tempNo = sc.nextInt();\r\n\t\t\t\tli = al.listIterator();\r\n\t\t\t\twhile (li.hasNext()){\r\n\t\t\t\t\tEmployeeRecords e = li.next();\r\n\t\t\t\t\tsalary = li.next().getSalary();\r\n\t\t\t\t\tif (e.getEmployeeNum() == empNo) {\r\n\t\t\t\t\t\tif (salary &gt;= 20001) {\r\n\t\t\t\t\t\t\ttsalary = salary * 0.75;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttsalary = salary * 0.80;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(!found){\r\n\t\t\t\t\tSystem.out.println(&quot;Record not available / found.&quot;);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(empNo + &quot;  &quot; + name +  &quot;&#39;s salary after tax is &quot; + tsalary + &quot;.&quot;);\r\n\t\t\t\t}","title":"Accessing an element in an arraylist (Java)","body":"<p>I've been trying to get the salary on the code I've been working on so I can compute the salary after <code>tax = tsalary</code>. Unfortunately, I've hit a bump ever since I was trying to access the salary from my <code>ArrayList</code>.\nI tried getting the salary via <code>salary = li.next().getSalary();</code> but when I run it, I get an output not on that certain employee number I'm trying to compute.</p>\n<p>Even hints of it will be plenty helpful. Thank you</p>\n<pre><code>case 5:\n            found = false;\n            double tsalary = 1;\n            System.out.print(&quot;Enter Employee Number: &quot;);\n            empNo = sc.nextInt();\n            li = al.listIterator();\n            while (li.hasNext()){\n                EmployeeRecords e = li.next();\n                salary = li.next().getSalary();\n                if (e.getEmployeeNum() == empNo) {\n                    if (salary &gt;= 20001) {\n                        tsalary = salary * 0.75;\n                    } else {\n                        tsalary = salary * 0.80;\n                    }\n                    found = true;\n                }\n            }\n            if(!found){\n                System.out.println(&quot;Record not available / found.&quot;);\n            } else {\n                System.out.println(empNo + &quot;  &quot; + name +  &quot;'s salary after tax is &quot; + tsalary + &quot;.&quot;);\n            }\n</code></pre>\n"},{"tags":["java","hibernate","quarkus","reactive"],"answers":[{"tags":[],"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654610005,"creation_date":1654610005,"answer_id":72532439,"question_id":72531583,"body_markdown":"It seems there is a bit of misunderstanding, Reactive is not the same as Mutiny.\r\nReturning Type ```Uni&lt;&gt;``` or ```Multi&lt;&gt;``` from your method is Mutiny. Which could be Reactive, but it&#39;s not always the case depending on what dependencies you added. \r\n\r\nThat said, I&#39;ve seen that you call ```await().indefinitely();``` which wait for result and then give the correct non Uni type.\r\n\r\nDisclaimer: I&#39;m not a Mutiny expert so i&#39;ll try to help as much as i can.\r\n\r\nMaybe you should try with this :\r\n```\r\nreturn methodForVariable.onItem()\r\n    .transform(variable -&gt; reactiveMethod(variable))\r\n```\r\ninstead of this :\r\n```\r\nLong variable = methodForVariable.await().indefinitely();\r\nreturn reactiveMethod(variable);\r\n```\r\nI think your blocking problem comes from here, where you try to block thread to wait for async processing, and then call an async method with previously fetched value. \r\nThe way i suggested always keep processing async, so it should do the trick.\r\n\r\nFor more, be sure to check [Mutiny&#39;s documentation][1]\r\n\r\n\r\n  [1]: https://smallrye.io/smallrye-mutiny/guides","title":"IllegalStateException: The current thread cannot be blocked: vert.x-eventloop-thread-1","body":"<p>It seems there is a bit of misunderstanding, Reactive is not the same as Mutiny.\nReturning Type <code>Uni&lt;&gt;</code> or <code>Multi&lt;&gt;</code> from your method is Mutiny. Which could be Reactive, but it's not always the case depending on what dependencies you added.</p>\n<p>That said, I've seen that you call <code>await().indefinitely();</code> which wait for result and then give the correct non Uni type.</p>\n<p>Disclaimer: I'm not a Mutiny expert so i'll try to help as much as i can.</p>\n<p>Maybe you should try with this :</p>\n<pre><code>return methodForVariable.onItem()\n    .transform(variable -&gt; reactiveMethod(variable))\n</code></pre>\n<p>instead of this :</p>\n<pre><code>Long variable = methodForVariable.await().indefinitely();\nreturn reactiveMethod(variable);\n</code></pre>\n<p>I think your blocking problem comes from here, where you try to block thread to wait for async processing, and then call an async method with previously fetched value.\nThe way i suggested always keep processing async, so it should do the trick.</p>\n<p>For more, be sure to check <a href=\"https://smallrye.io/smallrye-mutiny/guides\" rel=\"nofollow noreferrer\">Mutiny's documentation</a></p>\n"}],"owner":{"account_id":15707578,"reputation":19,"user_id":11333902,"display_name":"Nabil Ansari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2733,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1654610005,"creation_date":1654606494,"question_id":72531583,"body_markdown":"I am trying to use quarkus reactive api to fetch data from another hibernate reactive project.\r\nI am getting this error whenever i try to get data from my hibernate project. I&#39;ve figured that the error occurs in methods where i&#39;ve called another method as well.[the error i am getting][1]\r\n\r\ncode for quarkus api\r\n\r\n    @GET\r\n\t@Path(&quot;/getEquipCls&quot;)\r\n\tpublic Uni&lt;List&lt;Tuple&gt;&gt; getMethod() {\r\n\t\treturn reactiveMethod();\t\t\t\t\r\n\t}\r\n\r\ncode for service class of hibernate reactive method \r\n\r\n\r\n\t@Override\r\n\tpublic Uni&lt;List&lt;Tuple&gt;&gt; reactiveMethod(params) {\r\n\t\tLong variable = methodForVariable.await().indefinitely();\r\n\t\treturn reactiveMethod(variable);\r\n\t}\r\n\r\nI&#39;ve tried @Blocking &amp; @NonBlocking annotations but none of them worked.\r\nAny help would be greatly appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ctgzt.png","title":"IllegalStateException: The current thread cannot be blocked: vert.x-eventloop-thread-1","body":"<p>I am trying to use quarkus reactive api to fetch data from another hibernate reactive project.\nI am getting this error whenever i try to get data from my hibernate project. I've figured that the error occurs in methods where i've called another method as well.<a href=\"https://i.stack.imgur.com/Ctgzt.png\" rel=\"nofollow noreferrer\">the error i am getting</a></p>\n<p>code for quarkus api</p>\n<pre><code>@GET\n@Path(&quot;/getEquipCls&quot;)\npublic Uni&lt;List&lt;Tuple&gt;&gt; getMethod() {\n    return reactiveMethod();                \n}\n</code></pre>\n<p>code for service class of hibernate reactive method</p>\n<pre><code>@Override\npublic Uni&lt;List&lt;Tuple&gt;&gt; reactiveMethod(params) {\n    Long variable = methodForVariable.await().indefinitely();\n    return reactiveMethod(variable);\n}\n</code></pre>\n<p>I've tried @Blocking &amp; @NonBlocking annotations but none of them worked.\nAny help would be greatly appreciated.</p>\n"},{"tags":["java","authentication","ssl","active-directory","ldap"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1654609622,"post_id":72532256,"comment_id":128127839,"body_markdown":"Connection timeout is pretty routine part of network connections. If you were connected and then got disconnected, the answer is to lengthen the amount of time until timeout, or to send automatic &quot;pings&quot; back and forth. If you never connected, the issue is likely to be with authorization handshake. I myself have seen this quite a bit","body":"Connection timeout is pretty routine part of network connections. If you were connected and then got disconnected, the answer is to lengthen the amount of time until timeout, or to send automatic &quot;pings&quot; back and forth. If you never connected, the issue is likely to be with authorization handshake. I myself have seen this quite a bit"},{"owner":{"account_id":25497343,"reputation":1,"user_id":19291222,"display_name":"anandhu"},"score":0,"creation_date":1654609981,"post_id":72532256,"comment_id":128127948,"body_markdown":"How to lengthen the amount of time  in active directory or how to send automatic pings. Could you refer me some website to do this.","body":"How to lengthen the amount of time  in active directory or how to send automatic pings. Could you refer me some website to do this."},{"owner":{"account_id":1239958,"reputation":39014,"user_id":1202807,"display_name":"Gabriel Luci"},"score":0,"creation_date":1654627721,"post_id":72532256,"comment_id":128134444,"body_markdown":"A connection timeout means: &quot;No reply came back from the server and we stopped waiting.&quot; Lengthening the timeout probably won&#39;t help. It&#39;s more likely that either the server name is wrong, or the server is not listening on port 636, or there is no network path from your computer to the server (maybe because of a firewall).","body":"A connection timeout means: &quot;No reply came back from the server and we stopped waiting.&quot; Lengthening the timeout probably won&#39;t help. It&#39;s more likely that either the server name is wrong, or the server is not listening on port 636, or there is no network path from your computer to the server (maybe because of a firewall)."}],"owner":{"account_id":25497343,"reputation":1,"user_id":19291222,"display_name":"anandhu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654609833,"creation_date":1654609249,"question_id":72532256,"body_markdown":"This is my following java code, where I try to authenticate administrator by setting up ssl in active directory and java.\r\n```\r\npublic class Unicode_passwordLdap{\r\n\tpublic static void main(String[] args){\r\n\t\tLdapContext ctx = null;\r\n\t\t\r\n\t\ttry{\r\n\t\t\tSecurity.addProvider(new com.sun.net.ssl.internal.ssl.Provider());\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;C://Java//jre1.8.0_331//lib//security//cacerts&quot;);\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;C://Java//jre1.8.0_331//lib//security//cacerts&quot;);\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;,&quot;changeit&quot;);\r\n\t\t\tSystem.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\r\n\t\t\tString baseName = &quot;,CN=Users,DC=trial,DC=com&quot;;\r\n\t\t\tHashtable env = new Hashtable();  \r\n\t\t\tenv.put(Context.INITIAL_CONTEXT_FACTORY,  &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);  \r\n            env.put(Context.SECURITY_AUTHENTICATION, &quot;Simple&quot;);  \r\n            env.put(Context.SECURITY_PRINCIPAL, &quot;cn=administrator&quot; + baseName);  //&quot;tom@trial.com&quot;\r\n            env.put(Context.SECURITY_CREDENTIALS, &quot;admin1*&quot;);  //&quot;Panda123*&quot;\r\n            env.put(Context.PROVIDER_URL, &quot;ldaps://WS2K19.trail.com:636&quot;); //dc=trial,dc=com\r\n\t\t\t//ldaps://WS2K19.trail.com:636\r\n\t\t\tenv.put(Context.SECURITY_PROTOCOL, &quot;ssl&quot;);\r\n\t\t\tctx = new InitialLdapContext(env,null);\t\r\n\t\t\tSystem.out.println(&quot;Connection Successfull&quot;);\r\n}catch(Exception e){\r\n\t\t\t//System.out.println(&quot;Password Cannot be Changed&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nThis is the following error I get, when I run this java code:\r\n```\r\njavax.naming.CommunicationException: WS2K19.trail.com:636 [Root exception is java.net.ConnectException: Connection timed out: connect]\r\n        at com.sun.jndi.ldap.Connection.&lt;init&gt;(Connection.java:235)\r\n        at com.sun.jndi.ldap.LdapClient.&lt;init&gt;(LdapClient.java:137)\r\n        at com.sun.jndi.ldap.LdapClient.getInstance(LdapClient.java:1615)\r\n        at com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2847)\r\n        at com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(LdapCtx.java:348)\r\n        at com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxFromUrl(LdapCtxFactory.java:225)\r\n        at com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:189)\r\n        at com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:243)\r\n        at com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:154)\r\n        at com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:84)\r\n        at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:694)\r\n        at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:313)\r\n        at javax.naming.InitialContext.init(InitialContext.java:244)\r\n        at javax.naming.ldap.InitialLdapContext.&lt;init&gt;(InitialLdapContext.java:154)\r\n        at Unicode_passwordLdap.main(Unicode_passwordLdap.java:63)\r\n```\r\nCould someone help to solve this error!!!","title":"java.naming.CommunicationException: (mydomain name):636(port) [Root exception is java.net.ConnectException: Connection timed out: connect]","body":"<p>This is my following java code, where I try to authenticate administrator by setting up ssl in active directory and java.</p>\n<pre><code>public class Unicode_passwordLdap{\n    public static void main(String[] args){\n        LdapContext ctx = null;\n        \n        try{\n            Security.addProvider(new com.sun.net.ssl.internal.ssl.Provider());\n            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;C://Java//jre1.8.0_331//lib//security//cacerts&quot;);\n            System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\n            System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;C://Java//jre1.8.0_331//lib//security//cacerts&quot;);\n            System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;,&quot;changeit&quot;);\n            System.setProperty(&quot;javax.net.debug&quot;, &quot;all&quot;);\n            String baseName = &quot;,CN=Users,DC=trial,DC=com&quot;;\n            Hashtable env = new Hashtable();  \n            env.put(Context.INITIAL_CONTEXT_FACTORY,  &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);  \n            env.put(Context.SECURITY_AUTHENTICATION, &quot;Simple&quot;);  \n            env.put(Context.SECURITY_PRINCIPAL, &quot;cn=administrator&quot; + baseName);  //&quot;tom@trial.com&quot;\n            env.put(Context.SECURITY_CREDENTIALS, &quot;admin1*&quot;);  //&quot;Panda123*&quot;\n            env.put(Context.PROVIDER_URL, &quot;ldaps://WS2K19.trail.com:636&quot;); //dc=trial,dc=com\n            //ldaps://WS2K19.trail.com:636\n            env.put(Context.SECURITY_PROTOCOL, &quot;ssl&quot;);\n            ctx = new InitialLdapContext(env,null); \n            System.out.println(&quot;Connection Successfull&quot;);\n}catch(Exception e){\n            //System.out.println(&quot;Password Cannot be Changed&quot;);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>This is the following error I get, when I run this java code:</p>\n<pre><code>javax.naming.CommunicationException: WS2K19.trail.com:636 [Root exception is java.net.ConnectException: Connection timed out: connect]\n        at com.sun.jndi.ldap.Connection.&lt;init&gt;(Connection.java:235)\n        at com.sun.jndi.ldap.LdapClient.&lt;init&gt;(LdapClient.java:137)\n        at com.sun.jndi.ldap.LdapClient.getInstance(LdapClient.java:1615)\n        at com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2847)\n        at com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(LdapCtx.java:348)\n        at com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxFromUrl(LdapCtxFactory.java:225)\n        at com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:189)\n        at com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:243)\n        at com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:154)\n        at com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:84)\n        at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:694)\n        at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:313)\n        at javax.naming.InitialContext.init(InitialContext.java:244)\n        at javax.naming.ldap.InitialLdapContext.&lt;init&gt;(InitialLdapContext.java:154)\n        at Unicode_passwordLdap.main(Unicode_passwordLdap.java:63)\n</code></pre>\n<p>Could someone help to solve this error!!!</p>\n"},{"tags":["java","io","filereader","filewriter","try-with-resources"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1654609113,"post_id":72531988,"comment_id":128127651,"body_markdown":"How do you expect to read and write the same file simultaneously?","body":"How do you expect to read and write the same file simultaneously?"},{"owner":{"account_id":16125470,"reputation":253,"user_id":11640307,"display_name":"Siva Rahul"},"score":0,"creation_date":1654610519,"post_id":72531988,"comment_id":128128147,"body_markdown":"You should not be doing reading and writing the same file simultaneously. Instead if the file is small, read all its contents put it in memory -&gt; write the file with the content in memory. If the file is big, write a temporary file simultaneously while reading the file -&gt; do the necessary changes -&gt; delete the original file -&gt; rename the temporary file to old fileName","body":"You should not be doing reading and writing the same file simultaneously. Instead if the file is small, read all its contents put it in memory -&gt; write the file with the content in memory. If the file is big, write a temporary file simultaneously while reading the file -&gt; do the necessary changes -&gt; delete the original file -&gt; rename the temporary file to old fileName"},{"owner":{"account_id":12184329,"reputation":133,"user_id":8894759,"display_name":"RomanM"},"score":0,"creation_date":1654611016,"post_id":72531988,"comment_id":128128367,"body_markdown":"@tgdavies Not sure what you mean by simultaneously? Yes, read/write are both in the same method, but they never cross each other. I read line by line. I don&#39;t expect any concurrent access to this method either. Writing only will happen when param is found in the config file.","body":"@tgdavies Not sure what you mean by simultaneously? Yes, read/write are both in the same method, but they never cross each other. I read line by line. I don&#39;t expect any concurrent access to this method either. Writing only will happen when param is found in the config file."}],"answers":[{"tags":[],"owner":{"account_id":9255220,"reputation":2956,"user_id":6874359,"display_name":"peterulb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654609486,"creation_date":1654609486,"answer_id":72532325,"question_id":72531988,"body_markdown":"The `FileWriter(String fileName)` constructor calls `FileOutputStream(String name)` which sets the `append` flag to false. This means the file will not be opened in append mode.  \r\nBased on my testing on windows the file is immediately cleared if the append flag is not set. So in your first variant there&#39;s nothing to read, since it was cleared. Your second variant works as it&#39;s cleared after you&#39;ve read the content into your `StringBuffer`.\r\n\r\n","title":"Reading and writing to the file using same try-with-resources","body":"<p>The <code>FileWriter(String fileName)</code> constructor calls <code>FileOutputStream(String name)</code> which sets the <code>append</code> flag to false. This means the file will not be opened in append mode.<br />\nBased on my testing on windows the file is immediately cleared if the append flag is not set. So in your first variant there's nothing to read, since it was cleared. Your second variant works as it's cleared after you've read the content into your <code>StringBuffer</code>.</p>\n"}],"owner":{"account_id":12184329,"reputation":133,"user_id":8894759,"display_name":"RomanM"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654609486,"creation_date":1654608142,"question_id":72531988,"body_markdown":"I&#39;m using Java, and I have a method that replaces a value of a parameter in `configFile`. I use try-with-resources so that both will be closed automatically. However, I encounter an unexpected behavior - the `while` loop doesn&#39;t read anything from that file because immediately after Java enters the try-with-resources block, `configFile` becomes empty.\r\n\r\n\r\n    private static boolean replaceValue(String param, String newValue) throws IOException {\r\n        try (BufferedReader br = new BufferedReader(new FileReader(configFile));\r\n             BufferedWriter bw = new BufferedWriter(new FileWriter(configFile))) {\r\n            String line;\r\n            StringBuilder sb = new StringBuilder();\r\n            boolean isParamPresent = false;\r\n            while ((line = br.readLine()) != null) {\r\n                if (line.startsWith(param + configDelimiter)) {\r\n                    line = line.replaceAll(&quot;(?&lt;==).*&quot;, newValue);\r\n                    isParamPresent = true;\r\n                }\r\n                sb.append(line);\r\n                sb.append(&quot;\\n&quot;);\r\n            }\r\n            if (isParamPresent) {\r\n                bw.write(sb.toString());\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nIf I change to code to be like this below, it works as expected.\r\n\r\n                if (isParamPresent) {\r\n                try (BufferedWriter bw = new BufferedWriter(new FileWriter(configFile))) {\r\n                    bw.write(sb.toString());\r\n                    return true;\r\n                }\r\n\r\nI don&#39;t understand what causes `configFile` to become empty. Can someone explain what&#39;s wrong?","title":"Reading and writing to the file using same try-with-resources","body":"<p>I'm using Java, and I have a method that replaces a value of a parameter in <code>configFile</code>. I use try-with-resources so that both will be closed automatically. However, I encounter an unexpected behavior - the <code>while</code> loop doesn't read anything from that file because immediately after Java enters the try-with-resources block, <code>configFile</code> becomes empty.</p>\n<pre><code>private static boolean replaceValue(String param, String newValue) throws IOException {\n    try (BufferedReader br = new BufferedReader(new FileReader(configFile));\n         BufferedWriter bw = new BufferedWriter(new FileWriter(configFile))) {\n        String line;\n        StringBuilder sb = new StringBuilder();\n        boolean isParamPresent = false;\n        while ((line = br.readLine()) != null) {\n            if (line.startsWith(param + configDelimiter)) {\n                line = line.replaceAll(&quot;(?&lt;==).*&quot;, newValue);\n                isParamPresent = true;\n            }\n            sb.append(line);\n            sb.append(&quot;\\n&quot;);\n        }\n        if (isParamPresent) {\n            bw.write(sb.toString());\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>If I change to code to be like this below, it works as expected.</p>\n<pre><code>            if (isParamPresent) {\n            try (BufferedWriter bw = new BufferedWriter(new FileWriter(configFile))) {\n                bw.write(sb.toString());\n                return true;\n            }\n</code></pre>\n<p>I don't understand what causes <code>configFile</code> to become empty. Can someone explain what's wrong?</p>\n"},{"tags":["java","eclipse","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1654609562,"post_id":72532315,"comment_id":128127828,"body_markdown":"https://openjfx.io/openjfx-docs/#install-javafx","body":"<a href=\"https://openjfx.io/openjfx-docs/#install-javafx\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs/#install-javafx</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1654610477,"post_id":72532315,"comment_id":128128135,"body_markdown":"Check https://stackoverflow.com/questions/57553993/no-window-comes-up-when-running-javafx-application","body":"Check <a href=\"https://stackoverflow.com/questions/57553993/no-window-comes-up-when-running-javafx-application\" title=\"no window comes up when running javafx application\">stackoverflow.com/questions/57553993/&hellip;</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1654610974,"post_id":72532315,"comment_id":128128353,"body_markdown":"This means you are including the `javafx.swt` module; you probably don&#39;t need that. Another (perhaps better) solution is to not include that module.","body":"This means you are including the <code>javafx.swt</code> module; you probably don&#39;t need that. Another (perhaps better) solution is to not include that module."}],"owner":{"account_id":22260977,"reputation":61,"user_id":16492410,"display_name":"Hammam Abo Jamous"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1654610928,"answer_count":0,"score":1,"last_activity_date":1654609463,"creation_date":1654609463,"question_id":72532315,"body_markdown":"I am working on eclipse javafx project and this is the Main.java\r\n\r\n```java\r\n\r\npackage application;\r\n\t\r\nimport javafx.application.Application;\r\n\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.fxml.FXMLLoader;\r\n\r\n\r\npublic class Main extends Application {\r\n\t\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) {\r\n\t\ttry {\r\n\t\t\tBorderPane root = (BorderPane)FXMLLoader.load(getClass().getResource(&quot;Sample.fxml&quot;));\r\n\t\t\tScene scene = new Scene(root);\r\n\t\t\tscene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n\t\t\tprimaryStage.setScene(scene);\r\n\t\t\tprimaryStage.setTitle(&quot;Restaurant&quot;);\r\n\t\t\tprimaryStage.show();\r\n\t\t} catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nand eclipse doesn&#39;t show any error, **but** after run the program\r\n\r\n-&gt; nothing appear on the screen \r\n\r\nand I don&#39;t why? ","title":"javafx application window doesn&#39;t appear after run main.java","body":"<p>I am working on eclipse javafx project and this is the Main.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage application;\n    \nimport javafx.application.Application;\n\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\nimport javafx.fxml.FXMLLoader;\n\n\npublic class Main extends Application {\n    \n    @Override\n    public void start(Stage primaryStage) {\n        try {\n            BorderPane root = (BorderPane)FXMLLoader.load(getClass().getResource(&quot;Sample.fxml&quot;));\n            Scene scene = new Scene(root);\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.setTitle(&quot;Restaurant&quot;);\n            primaryStage.show();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n        \n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n\n</code></pre>\n<p>and eclipse doesn't show any error, <strong>but</strong> after run the program</p>\n<p>-&gt; nothing appear on the screen</p>\n<p>and I don't why?</p>\n"},{"tags":["java","minecraft","mixins","minecraft-fabric"],"comments":[{"owner":{"account_id":12489064,"reputation":1172,"user_id":9091276,"accept_rate":100,"display_name":"Frontear"},"score":0,"creation_date":1654572412,"post_id":72516476,"comment_id":128116545,"body_markdown":"Another way would be to `@Shadow` the private variable from your Mixin, and use the accessor you made in your interface to pull the value. Only downside to this is you&#39;d need to do `((MultiplayerScreenAccessor) multiplayerScreen).getSelectedEntry()`. I&#39;d give you a better answer about `@Accessor`, but im honestly unfamiliar with it.","body":"Another way would be to <code>@Shadow</code> the private variable from your Mixin, and use the accessor you made in your interface to pull the value. Only downside to this is you&#39;d need to do <code>((MultiplayerScreenAccessor) multiplayerScreen).getSelectedEntry()</code>. I&#39;d give you a better answer about <code>@Accessor</code>, but im honestly unfamiliar with it."},{"owner":{"account_id":12489064,"reputation":1172,"user_id":9091276,"accept_rate":100,"display_name":"Frontear"},"score":0,"creation_date":1654572519,"post_id":72516476,"comment_id":128116558,"body_markdown":"Actually, can you confirm that the name of the private field is `selectedEntry`?","body":"Actually, can you confirm that the name of the private field is <code>selectedEntry</code>?"},{"owner":{"account_id":21541045,"reputation":21,"user_id":19281323,"display_name":"FlexICE"},"score":0,"creation_date":1654588932,"post_id":72516476,"comment_id":128120153,"body_markdown":"yes, name of the private field is selectedEntry","body":"yes, name of the private field is selectedEntry"},{"owner":{"account_id":21541045,"reputation":21,"user_id":19281323,"display_name":"FlexICE"},"score":0,"creation_date":1654598687,"post_id":72516476,"comment_id":128123546,"body_markdown":"also i can&#39;t get multiplayerScreen, i try get it like MinecraftClient.getInstance().currentScreen but it need to cast","body":"also i can&#39;t get multiplayerScreen, i try get it like MinecraftClient.getInstance().currentScreen but it need to cast"}],"answers":[{"tags":[],"owner":{"account_id":21541045,"reputation":21,"user_id":19281323,"display_name":"FlexICE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654609337,"creation_date":1654609337,"answer_id":72532283,"question_id":72516476,"body_markdown":"Use a @Shadow\r\n\r\n```java\r\n@Shadow\r\nprivate ServerInfo selectedEntry;\r\n```\r\n\r\n```java\r\n@Inject(at = @At(&quot;TAIL&quot;), method = &quot;select&quot;)\r\n    public void select(CallbackInfo callbackInfo) {\r\n        try {\r\n            System.out.println(this.selectedEntry.address);\r\n        } catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n```","title":"Minecraft Fabric Modding, how to get access to private field with help mixin Accessor","body":"<p>Use a @Shadow</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Shadow\nprivate ServerInfo selectedEntry;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject(at = @At(&quot;TAIL&quot;), method = &quot;select&quot;)\n    public void select(CallbackInfo callbackInfo) {\n        try {\n            System.out.println(this.selectedEntry.address);\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":21541045,"reputation":21,"user_id":19281323,"display_name":"FlexICE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2360,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72532283,"answer_count":1,"score":0,"last_activity_date":1654609337,"creation_date":1654512122,"question_id":72516476,"body_markdown":"i have a problem with Accessor in mixins.\r\n\r\n\r\nI want to get a private field from the MultiplayerScreen class, for this I use an [Accessor][1], but something is going wrong.\r\n\r\n**Accessor:**\r\n```java\r\npackage ru.flexice.mixin;\r\n\r\nimport net.minecraft.client.gui.screen.multiplayer.MultiplayerScreen;\r\nimport net.minecraft.client.network.ServerInfo;\r\nimport org.spongepowered.asm.mixin.Mixin;\r\nimport org.spongepowered.asm.mixin.gen.Accessor;\r\n\r\n@Mixin(MultiplayerScreen.class)\r\npublic interface MultiplayerScreenAccessor {\r\n    @Accessor\r\n    ServerInfo getSelectedEntry();\r\n}\r\n```\r\n**Inject to Code**\r\n```java\r\n@Inject(at = @At(&quot;RETURN&quot;), method = &quot;select&quot;)\r\n    private void select(CallbackInfo callbackInfo) {\r\n        try {\r\n            Screen s = MinecraftClient.getInstance().currentScreen;\r\n            if (s != null) {\r\n                System.out.println(((MultiplayerScreenAccessor) s).getSelectedEntry().address);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\nand i just get \r\n\r\n    Mixin transformation of ru.flexice.mixin.MultiplayerScreenAccessor failed\r\n\r\n  [1]: https://fabricmc.net/wiki/tutorial:mixin_accessors","title":"Minecraft Fabric Modding, how to get access to private field with help mixin Accessor","body":"<p>i have a problem with Accessor in mixins.</p>\n<p>I want to get a private field from the MultiplayerScreen class, for this I use an <a href=\"https://fabricmc.net/wiki/tutorial:mixin_accessors\" rel=\"nofollow noreferrer\">Accessor</a>, but something is going wrong.</p>\n<p><strong>Accessor:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package ru.flexice.mixin;\n\nimport net.minecraft.client.gui.screen.multiplayer.MultiplayerScreen;\nimport net.minecraft.client.network.ServerInfo;\nimport org.spongepowered.asm.mixin.Mixin;\nimport org.spongepowered.asm.mixin.gen.Accessor;\n\n@Mixin(MultiplayerScreen.class)\npublic interface MultiplayerScreenAccessor {\n    @Accessor\n    ServerInfo getSelectedEntry();\n}\n</code></pre>\n<p><strong>Inject to Code</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject(at = @At(&quot;RETURN&quot;), method = &quot;select&quot;)\n    private void select(CallbackInfo callbackInfo) {\n        try {\n            Screen s = MinecraftClient.getInstance().currentScreen;\n            if (s != null) {\n                System.out.println(((MultiplayerScreenAccessor) s).getSelectedEntry().address);\n            }\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n</code></pre>\n<p>and i just get</p>\n<pre><code>Mixin transformation of ru.flexice.mixin.MultiplayerScreenAccessor failed\n</code></pre>\n"},{"tags":["java","intellij-idea","jboss","wildfly","wildfly-10"],"answers":[{"tags":[],"owner":{"account_id":1911363,"reputation":7397,"user_id":1725096,"accept_rate":85,"display_name":"Jens Piegsa"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1492950189,"creation_date":1492945686,"answer_id":43570363,"question_id":43569980,"body_markdown":"You have multiple options here:\r\n\r\n1. via **Maven**: \r\n\r\n  * add the wildfly plugin parameters [`matchPattern`](https://docs.jboss.org/wildfly/plugins/maven/latest/undeploy-mojo.html#matchPattern) and [`matchPatternStrategy`](https://docs.jboss.org/wildfly/plugins/maven/latest/undeploy-mojo.html#matchPatternStrategy) to your `pom.xml` in the section `&lt;project&gt;&lt;build&gt;&lt;plugins&gt;`:\r\n\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;!-- use regular expressions here --&gt;\r\n    \t\t\t\t&lt;matchPattern&gt;(foo|bar).war&lt;/matchPattern&gt;\r\n    \t\t\t\t&lt;matchPatternStrategy&gt;all&lt;/matchPatternStrategy&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n\r\n      *(unfortunately there are no predefined corresponding CLI properties)*\r\n\r\n  * and run from a console\r\n\r\n      `mvn wildfly:undeploy -Dwildfly.hostname=XXX -Dwildfly.port=9993 -Dwildfly.username=XXX -Dwildfly.password=XXX -Dwildfly.protocol=https-remoting`\r\n\r\n      (or setup an equivalent *run configuration* in your IDE)\r\n\r\n\r\n\r\n2. via **WildFly Command Line Interface (CLI)**:\r\n\r\n  * run `jboss-cli -c controller=https-remoting://XXX:9993 -u=XXX`\r\n  * type in your password and then\r\n  * `undeploy ` (discover artifacts by pressing &lt;kbd&gt;TAB&lt;/kbd&gt;)\r\n\r\n3. via **WildFly Web Management Interface**:\r\n\r\n  * visit e.g. `https://XXX:9993/console/App.html#standalone-deployments`\r\n  * select the artifact and choose &#39;Remove&#39; from the dropdown menu","title":"How do I undeploy all artifacts from WildFly?","body":"<p>You have multiple options here:</p>\n\n<ol>\n<li><p>via <strong>Maven</strong>: </p>\n\n<ul>\n<li><p>add the wildfly plugin parameters <a href=\"https://docs.jboss.org/wildfly/plugins/maven/latest/undeploy-mojo.html#matchPattern\" rel=\"noreferrer\"><code>matchPattern</code></a> and <a href=\"https://docs.jboss.org/wildfly/plugins/maven/latest/undeploy-mojo.html#matchPatternStrategy\" rel=\"noreferrer\"><code>matchPatternStrategy</code></a> to your <code>pom.xml</code> in the section <code>&lt;project&gt;&lt;build&gt;&lt;plugins&gt;</code>:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;!-- use regular expressions here --&gt;\n        &lt;matchPattern&gt;(foo|bar).war&lt;/matchPattern&gt;\n        &lt;matchPatternStrategy&gt;all&lt;/matchPatternStrategy&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p><em>(unfortunately there are no predefined corresponding CLI properties)</em></p></li>\n<li><p>and run from a console</p>\n\n<p><code>mvn wildfly:undeploy -Dwildfly.hostname=XXX -Dwildfly.port=9993 -Dwildfly.username=XXX -Dwildfly.password=XXX -Dwildfly.protocol=https-remoting</code></p>\n\n<p>(or setup an equivalent <em>run configuration</em> in your IDE)</p></li>\n</ul></li>\n<li><p>via <strong>WildFly Command Line Interface (CLI)</strong>:</p>\n\n<ul>\n<li>run <code>jboss-cli -c controller=https-remoting://XXX:9993 -u=XXX</code></li>\n<li>type in your password and then</li>\n<li><code>undeploy</code> (discover artifacts by pressing <kbd>TAB</kbd>)</li>\n</ul></li>\n<li><p>via <strong>WildFly Web Management Interface</strong>:</p>\n\n<ul>\n<li>visit e.g. <code>https://XXX:9993/console/App.html#standalone-deployments</code></li>\n<li>select the artifact and choose 'Remove' from the dropdown menu</li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25353572,"reputation":1,"user_id":19170064,"display_name":"Muhammad Yeasin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654609324,"creation_date":1654609324,"answer_id":72532276,"question_id":43569980,"body_markdown":"I have logged in through wildfly web console panel (http://127.0.0.1:9990/console/index.html) and then removed old deployed SNAPSHOT from deployment tab, then Re-run my wildfly server from Intellij again and now it is works for me. When i re-run my wildfly server from intellij, it it deployed new SNAPSHOT to the server, so it is working fine and problem is solved for me.\r\n","title":"How do I undeploy all artifacts from WildFly?","body":"<p>I have logged in through wildfly web console panel (<a href=\"http://127.0.0.1:9990/console/index.html\" rel=\"nofollow noreferrer\">http://127.0.0.1:9990/console/index.html</a>) and then removed old deployed SNAPSHOT from deployment tab, then Re-run my wildfly server from Intellij again and now it is works for me. When i re-run my wildfly server from intellij, it it deployed new SNAPSHOT to the server, so it is working fine and problem is solved for me.</p>\n"}],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11777,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":43570363,"answer_count":2,"score":5,"last_activity_date":1654609324,"creation_date":1492943515,"question_id":43569980,"body_markdown":"I am developing a web application and deploying (with IntelliJ) to WildFly 10.1. I recently renamed my webapp module, which results in renaming my *war* file from `foo.war` to `bar.war`. Every time I start up, I get this error:\r\n\r\n    12:24:15,899 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service jboss.deployment.unit.&quot;foo_war_exploded.war&quot;.STRUCTURE: org.jboss.msc.service.StartException in service jboss.deployment.unit.&quot;foo_war_exploded.war&quot;.STRUCTURE: WFLYSRV0153: Failed to process phase STRUCTURE of deployment &quot;foo_war_exploded.war&quot;\r\n    \tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:154)\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)\r\n    \tat org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYSRV0160: Failed to mount deployment content\r\n    \tat org.jboss.as.server.deployment.module.DeploymentRootMountProcessor.deploy(DeploymentRootMountProcessor.java:95)\r\n    \tat org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:147)\r\n    \t... 5 more\r\n    Caused by: java.io.FileNotFoundException: /.../foo_war_exploded (No such file or directory)\r\n    \tat java.io.FileInputStream.open0(Native Method)\r\n    \tat java.io.FileInputStream.open(FileInputStream.java:195)\r\n    \tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\n    \tat org.jboss.vfs.spi.RootFileSystem.openInputStream(RootFileSystem.java:51)\r\n    \tat org.jboss.vfs.VirtualFile.openStream(VirtualFile.java:318)\r\n    \tat org.jboss.vfs.VFS.mountZipExpanded(VFS.java:533)\r\n    \tat org.jboss.as.server.deployment.DeploymentMountProvider$Factory$ServerDeploymentRepositoryImpl.mountDeploymentContent(DeploymentMountProvider.java:108)\r\n    \tat org.jboss.as.server.deployment.module.DeploymentRootMountProcessor.deploy(DeploymentRootMountProcessor.java:91)\r\n    \t... 6 more\r\n    ...\r\n    [2017-04-23 12:24:18,957] Artifact bar:war exploded: Artifact is deployed successfully\r\n\r\nNotice that deploying (and undeploying) the renamed *war* works fine. I just can&#39;t undeploy the leftover of the old *war*.\r\n\r\n**How do I undeploy all artifacts from WildFly to make a fresh start?**\r\n","title":"How do I undeploy all artifacts from WildFly?","body":"<p>I am developing a web application and deploying (with IntelliJ) to WildFly 10.1. I recently renamed my webapp module, which results in renaming my <em>war</em> file from <code>foo.war</code> to <code>bar.war</code>. Every time I start up, I get this error:</p>\n\n<pre><code>12:24:15,899 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service jboss.deployment.unit.\"foo_war_exploded.war\".STRUCTURE: org.jboss.msc.service.StartException in service jboss.deployment.unit.\"foo_war_exploded.war\".STRUCTURE: WFLYSRV0153: Failed to process phase STRUCTURE of deployment \"foo_war_exploded.war\"\n    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:154)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)\n    at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYSRV0160: Failed to mount deployment content\n    at org.jboss.as.server.deployment.module.DeploymentRootMountProcessor.deploy(DeploymentRootMountProcessor.java:95)\n    at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:147)\n    ... 5 more\nCaused by: java.io.FileNotFoundException: /.../foo_war_exploded (No such file or directory)\n    at java.io.FileInputStream.open0(Native Method)\n    at java.io.FileInputStream.open(FileInputStream.java:195)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\n    at org.jboss.vfs.spi.RootFileSystem.openInputStream(RootFileSystem.java:51)\n    at org.jboss.vfs.VirtualFile.openStream(VirtualFile.java:318)\n    at org.jboss.vfs.VFS.mountZipExpanded(VFS.java:533)\n    at org.jboss.as.server.deployment.DeploymentMountProvider$Factory$ServerDeploymentRepositoryImpl.mountDeploymentContent(DeploymentMountProvider.java:108)\n    at org.jboss.as.server.deployment.module.DeploymentRootMountProcessor.deploy(DeploymentRootMountProcessor.java:91)\n    ... 6 more\n...\n[2017-04-23 12:24:18,957] Artifact bar:war exploded: Artifact is deployed successfully\n</code></pre>\n\n<p>Notice that deploying (and undeploying) the renamed <em>war</em> works fine. I just can't undeploy the leftover of the old <em>war</em>.</p>\n\n<p><strong>How do I undeploy all artifacts from WildFly to make a fresh start?</strong></p>\n"},{"tags":["java","spring-boot","nginx","spring-webflux","nginx-reverse-proxy"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1654548452,"post_id":72522550,"comment_id":128112401,"body_markdown":"Any reason to the chosen `MediaType` as i suspect it has something to with the headers. Please supply your raw request and your raw response so we actually see the difference in responses/headers etc depending on proxy or no proxy","body":"Any reason to the chosen <code>MediaType</code> as i suspect it has something to with the headers. Please supply your raw request and your raw response so we actually see the difference in responses/headers etc depending on proxy or no proxy"},{"owner":{"account_id":2694548,"reputation":73,"user_id":2326984,"display_name":"user2326984"},"score":0,"creation_date":1654608878,"post_id":72522550,"comment_id":128127559,"body_markdown":"I originally used application/json+streaming but that was deprecated with a comment that ndjson shold be used instead. But I found the problem and will update with answer. Thanks for you feedback.","body":"I originally used application/json+streaming but that was deprecated with a comment that ndjson shold be used instead. But I found the problem and will update with answer. Thanks for you feedback."}],"answers":[{"tags":[],"owner":{"account_id":2694548,"reputation":73,"user_id":2326984,"display_name":"user2326984"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654608995,"creation_date":1654608995,"answer_id":72532190,"question_id":72522550,"body_markdown":"It ended up being a buffering issue. Adding proxy_buffering off; to the location block in nginx configuration solved it.","title":"Nginx as reverse proxy for Spring WebFlux changes streaming behavior","body":"<p>It ended up being a buffering issue. Adding proxy_buffering off; to the location block in nginx configuration solved it.</p>\n"}],"owner":{"account_id":2694548,"reputation":73,"user_id":2326984,"display_name":"user2326984"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654608995,"creation_date":1654543358,"question_id":72522550,"body_markdown":"I have developed a Spring Boot application that have RequestController&#39;s which returns a list Flux of objects.\r\n\r\nUsing the web application directly it works perfect. I get each object as my application have them ready.\r\n\r\nBut when I am running the application behind a reverse proxy using nginx I see a different behavior. Now I am not getting the result until the whole flux stream is ready.\r\n\r\nSo before I would get the first object in a second and the last after 20 seconds have passed. Now I get all objects after 20 seconds.\r\n\r\nController:\r\n\r\n    @GetMapping(path = &quot;/flux&quot;, produces = MediaType.APPLICATION_NDJSON_VALUE)\r\n    public Flux&lt;Message&gt; flux() {\r\n        return messageService.getFluxStream();\r\n    }\r\n\r\nNginx setup:\r\n\r\n    server {\r\n    listen 80;\r\n    listen [::]:80;\r\n    server_name domain.tk www.domain.tk;\r\n    return 302 https://$server_name$request_uri;\r\n    }\r\n\r\n    server {\r\n    # SSL configuration\r\n\r\n    listen 443 ssl http2;\r\n    listen [::]:443 ssl http2;\r\n    ssl_certificate         /etc/ssl/cert.pem;\r\n    ssl_certificate_key     /etc/ssl/key.pem;\r\n\r\n    server_name domain.tk www.domain.tk;\r\n\r\n    location / {\r\n        proxy_pass                    http://localhost:8082;\r\n        proxy_pass_request_headers    on;\r\n        #proxy_set_header    Host                $http_host;\r\n        #proxy_set_header    X-Real-IP           $remote_addr;\r\n        #proxy_set_header    X-Forwarded-For     $proxy_add_x_forwarded_for;\r\n        #proxy_set_header    X-Forwarded-Proto   $scheme;\r\n    }\r\n    }\r\nMy DNS is cloudflare and I have a certificate from them and is proxying traffic cloudflare.\r\n\r\nIn the nginx log I won&#39;t get see the request being logged before all the objects is ready after the 20 seconds as well. Which makes me think it&#39;s not a cloudflare proxy issue, but likely more a nginx setup issue.\r\n\r\nAny help is appreciated. ","title":"Nginx as reverse proxy for Spring WebFlux changes streaming behavior","body":"<p>I have developed a Spring Boot application that have RequestController's which returns a list Flux of objects.</p>\n<p>Using the web application directly it works perfect. I get each object as my application have them ready.</p>\n<p>But when I am running the application behind a reverse proxy using nginx I see a different behavior. Now I am not getting the result until the whole flux stream is ready.</p>\n<p>So before I would get the first object in a second and the last after 20 seconds have passed. Now I get all objects after 20 seconds.</p>\n<p>Controller:</p>\n<pre><code>@GetMapping(path = &quot;/flux&quot;, produces = MediaType.APPLICATION_NDJSON_VALUE)\npublic Flux&lt;Message&gt; flux() {\n    return messageService.getFluxStream();\n}\n</code></pre>\n<p>Nginx setup:</p>\n<pre><code>server {\nlisten 80;\nlisten [::]:80;\nserver_name domain.tk www.domain.tk;\nreturn 302 https://$server_name$request_uri;\n}\n\nserver {\n# SSL configuration\n\nlisten 443 ssl http2;\nlisten [::]:443 ssl http2;\nssl_certificate         /etc/ssl/cert.pem;\nssl_certificate_key     /etc/ssl/key.pem;\n\nserver_name domain.tk www.domain.tk;\n\nlocation / {\n    proxy_pass                    http://localhost:8082;\n    proxy_pass_request_headers    on;\n    #proxy_set_header    Host                $http_host;\n    #proxy_set_header    X-Real-IP           $remote_addr;\n    #proxy_set_header    X-Forwarded-For     $proxy_add_x_forwarded_for;\n    #proxy_set_header    X-Forwarded-Proto   $scheme;\n}\n}\n</code></pre>\n<p>My DNS is cloudflare and I have a certificate from them and is proxying traffic cloudflare.</p>\n<p>In the nginx log I won't get see the request being logged before all the objects is ready after the 20 seconds as well. Which makes me think it's not a cloudflare proxy issue, but likely more a nginx setup issue.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1654501158,"post_id":72514397,"comment_id":128097183,"body_markdown":"You have forgot to implement `add`","body":"You have forgot to implement <code>add</code>"}],"answers":[{"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654501188,"creation_date":1654501188,"answer_id":72514476,"question_id":72514397,"body_markdown":"You have declared a function `public void add(int num1,int num2);` `add` in the interface, but you have not implemented it in the classes, or rather named it wrongly `public void sum`. Either declare the function as `sum` in the interface or update the name in classes to `add`.","title":"error: wholeNumber is not abstract and does not override abstract method add(int,int) in number class wholeNumber implements number{","body":"<p>You have declared a function <code>public void add(int num1,int num2);</code> <code>add</code> in the interface, but you have not implemented it in the classes, or rather named it wrongly <code>public void sum</code>. Either declare the function as <code>sum</code> in the interface or update the name in classes to <code>add</code>.</p>\n"},{"tags":[],"owner":{"account_id":13234344,"reputation":41,"user_id":9556913,"display_name":"Ravinder Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654608755,"creation_date":1654502258,"answer_id":72514668,"question_id":72514397,"body_markdown":"Provide implementation of add abstract method defined in Number interface.\r\n&quot;java:9: error: **wholeNumber** is not abstract and does not override abstract method **add(int,int)**&quot;\r\n\r\n\r\n----------\r\n\r\n\r\nNotes on Interfaces:\r\n\r\n - It cannot be used to create objects (in the example above, it is not possible to create an &quot;Animal&quot; object in the MyMainClass)\r\n - Interface methods does not have a body - the body is provided by the &quot;implement&quot; class\r\n - On implementation of an interface, you must override all of its methods\r\n - Interface methods are by default abstract and public\r\n - Interface attributes are by default public, static and final\r\n - An interface cannot contain a constructor (as it cannot be used to create objects)\r\n\r\nReference:\r\n\r\n -https://www.w3schools.com/java/ref_keyword_implements.asp#:~:text=The%20implements%20keyword%20is%20used,keyword%20(instead%20of%20extends%20).\r\n\r\n - https://www.geeksforgeeks.org/interfaces-in-java/","title":"error: wholeNumber is not abstract and does not override abstract method add(int,int) in number class wholeNumber implements number{","body":"<p>Provide implementation of add abstract method defined in Number interface.\n&quot;java:9: error: <strong>wholeNumber</strong> is not abstract and does not override abstract method <strong>add(int,int)</strong>&quot;</p>\n<hr />\n<p>Notes on Interfaces:</p>\n<ul>\n<li>It cannot be used to create objects (in the example above, it is not possible to create an &quot;Animal&quot; object in the MyMainClass)</li>\n<li>Interface methods does not have a body - the body is provided by the &quot;implement&quot; class</li>\n<li>On implementation of an interface, you must override all of its methods</li>\n<li>Interface methods are by default abstract and public</li>\n<li>Interface attributes are by default public, static and final</li>\n<li>An interface cannot contain a constructor (as it cannot be used to create objects)</li>\n</ul>\n<p>Reference:</p>\n<p>-https://www.w3schools.com/java/ref_keyword_implements.asp#:~:text=The%20implements%20keyword%20is%20used,keyword%20(instead%20of%20extends%20).</p>\n<ul>\n<li><a href=\"https://www.geeksforgeeks.org/interfaces-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/interfaces-in-java/</a></li>\n</ul>\n"}],"owner":{"account_id":25417190,"reputation":39,"user_id":19223879,"display_name":"priston"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1654506164,"accepted_answer_id":72514668,"answer_count":2,"score":-2,"last_activity_date":1654608755,"creation_date":1654500616,"question_id":72514397,"body_markdown":"i am trying to make an interface for a whole number and a natural number but i am not able to make it can anyone tell me what i am getting the error \r\nalp1.java:9: error: wholeNumber is not abstract and does not override abstract method add(int,int) in number\r\nclass wholeNumber implements number{\r\n^\r\nalp1.java:40: error: naturalNumber is not abstract and does not override abstract method add(int,int) in number\r\nclass naturalNumber implements number{\r\n\r\n\r\n\r\n\r\n     interface number{\r\n\tpublic void validateNumber(int num);\r\n\tpublic void add(int num1,int num2);\r\n\tpublic void subtract(int num1,int num2);\r\n\tpublic void multiply(int num1,int num2);\r\n\tpublic void divide(int num1,int num2);\r\n    }\r\n\r\n    class wholeNumber implements number{\r\n\tpublic void validateNumber(int num){\r\n\t\tif(num&lt;-46340 || num&gt;46340){\r\n\t\t\tSystem.out.println(&quot;Wrong input&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void sum(int n1,int n2){\r\n\t\tint sum=n1+n2;\r\n\t\tSystem.out.println(&quot;SUM &quot;+sum);\r\n\t}\r\n\tpublic void subtract(int n1,int n2){\r\n\t \tint ans=n1-n2;\r\n\t\tSystem.out.println(&quot;subtract &quot;+ans);\r\n\t}\r\n\tpublic void multiply(int n1,int n2){\r\n\t\tint ans=n1*n2;\r\n\t\tSystem.out.println(&quot;multiply &quot;+ans);\r\n\t}\r\n\tpublic void divide(int n1,int n2){\r\n\t\tif(n2==0){\r\n\t\t\tSystem.out.println(&quot;divide 0&quot;);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tint ans=n1/n2;\r\n\t\t\tSystem.out.println(&quot;divide &quot;+ans);\r\n\t\t}\r\n\t\t\r\n\t}\r\n     }\r\n\r\n      class naturalNumber implements number{\r\n\tpublic void validateNumber(int num){\r\n\t\tif(num&lt;0|| num&gt;46340){\r\n\t\t\tSystem.out.println(&quot;Wrong input&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void sum(int n1,int n2){\r\n\t\tint sum=n1+n2;\r\n\t\tSystem.out.println(&quot;SUM &quot;+sum);\r\n\t}\r\n\tpublic void subtract(int n1,int n2){\r\n\t\tint ans=n1-n2;\r\n\t\tSystem.out.println(&quot;subtract &quot;+ans);\r\n\t}\r\n\tpublic void multiply(int n1,int n2){\r\n\t\tint ans=n1*n2;\r\n\t\tSystem.out.println(&quot;multiply &quot;+ans);\r\n\t}\r\n\tpublic void divide(int n1,int n2){\r\n\t\tif(n2==0){\r\n\t\t\tSystem.out.println(&quot;divide 0&quot;);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tint ans=n1/n2;\r\n\t\t\tSystem.out.println(&quot;divide &quot;+ans);\r\n\t\t}\r\n\t\t\r\n\t}\r\n     }\r\n\r\n    class alp1{\r\n\t\r\n\tpublic static void main(String []args){\r\n\t\t// if(args[0]==&quot;whole&quot;){\r\n\t\t// \twholeNumber obj=new wholeNumber();\r\n\r\n\t\t// }\r\n\t\tfor(int i=0;i&lt;args.length;i++)\r\n\t\t\t{System.out.println(args[i]);}\r\n\t}\r\n    }\r\n\r\n\r\n","title":"error: wholeNumber is not abstract and does not override abstract method add(int,int) in number class wholeNumber implements number{","body":"<p>i am trying to make an interface for a whole number and a natural number but i am not able to make it can anyone tell me what i am getting the error\nalp1.java:9: error: wholeNumber is not abstract and does not override abstract method add(int,int) in number\nclass wholeNumber implements number{\n^\nalp1.java:40: error: naturalNumber is not abstract and does not override abstract method add(int,int) in number\nclass naturalNumber implements number{</p>\n<pre><code> interface number{\npublic void validateNumber(int num);\npublic void add(int num1,int num2);\npublic void subtract(int num1,int num2);\npublic void multiply(int num1,int num2);\npublic void divide(int num1,int num2);\n}\n\nclass wholeNumber implements number{\npublic void validateNumber(int num){\n    if(num&lt;-46340 || num&gt;46340){\n        System.out.println(&quot;Wrong input&quot;);\n    }\n}\n\npublic void sum(int n1,int n2){\n    int sum=n1+n2;\n    System.out.println(&quot;SUM &quot;+sum);\n}\npublic void subtract(int n1,int n2){\n    int ans=n1-n2;\n    System.out.println(&quot;subtract &quot;+ans);\n}\npublic void multiply(int n1,int n2){\n    int ans=n1*n2;\n    System.out.println(&quot;multiply &quot;+ans);\n}\npublic void divide(int n1,int n2){\n    if(n2==0){\n        System.out.println(&quot;divide 0&quot;);\n    }\n    else{\n        int ans=n1/n2;\n        System.out.println(&quot;divide &quot;+ans);\n    }\n    \n}\n }\n\n  class naturalNumber implements number{\npublic void validateNumber(int num){\n    if(num&lt;0|| num&gt;46340){\n        System.out.println(&quot;Wrong input&quot;);\n    }\n}\n\npublic void sum(int n1,int n2){\n    int sum=n1+n2;\n    System.out.println(&quot;SUM &quot;+sum);\n}\npublic void subtract(int n1,int n2){\n    int ans=n1-n2;\n    System.out.println(&quot;subtract &quot;+ans);\n}\npublic void multiply(int n1,int n2){\n    int ans=n1*n2;\n    System.out.println(&quot;multiply &quot;+ans);\n}\npublic void divide(int n1,int n2){\n    if(n2==0){\n        System.out.println(&quot;divide 0&quot;);\n    }\n    else{\n        int ans=n1/n2;\n        System.out.println(&quot;divide &quot;+ans);\n    }\n    \n}\n }\n\nclass alp1{\n\npublic static void main(String []args){\n    // if(args[0]==&quot;whole&quot;){\n    //  wholeNumber obj=new wholeNumber();\n\n    // }\n    for(int i=0;i&lt;args.length;i++)\n        {System.out.println(args[i]);}\n}\n}\n</code></pre>\n"},{"tags":["java","string","java-stream"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1654519333,"post_id":72517158,"comment_id":128102515,"body_markdown":"Yes, yes it is.","body":"Yes, yes it is."}],"answers":[{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654519066,"creation_date":1654519066,"answer_id":72517826,"question_id":72517158,"body_markdown":"I think Stream API wouldn&#39;t give you any advantage. however, you can optimize your code like this \r\n\r\n      public String mirrorEnds(String string) {\r\n        StringBuilder result = new StringBuilder();\r\n\r\n        for (int i = 0; i &lt; string.length(); i++) {\r\n            if (string.charAt(i) == string.charAt(string.length() - i - 1)) {\r\n                result.append(string.charAt(i));\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n        return result.toString();\r\n    }\r\n","title":"Codingbat challenge: mirrorEnds using Stream API","body":"<p>I think Stream API wouldn't give you any advantage. however, you can optimize your code like this</p>\n<pre><code>  public String mirrorEnds(String string) {\n    StringBuilder result = new StringBuilder();\n\n    for (int i = 0; i &lt; string.length(); i++) {\n        if (string.charAt(i) == string.charAt(string.length() - i - 1)) {\n            result.append(string.charAt(i));\n        } else {\n            break;\n        }\n    }\n    return result.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654520858,"creation_date":1654519638,"answer_id":72517931,"question_id":72517158,"body_markdown":"Since you&#39;re &lt;b&gt;purposely asking for a stream-solution&lt;/b&gt; to this problem, this could be to look for the greatest index `i` where the first `i` characters match the last `i` characters reversed, with `i` starting from `length() / 2` and proceeding by decrementing `i` until it reaches 0.\r\n\r\nThe previous algorithm makes sense to be applied only if the given string isn&#39;t a palindrome. In fact, in that case, the string itself could be returned immediately.\r\n\r\n```\r\npublic static String mirrorEnds(String str) {\r\n    if (str.equals(new StringBuilder(str).reverse().toString())) {\r\n        return str;\r\n    }\r\n\r\n    OptionalInt maxLen = IntStream.iterate(str.length() / 2, i -&gt; i &gt;= 0, i -&gt; i - 1)\r\n            .filter(i -&gt; str.substring(0, i).equals((new StringBuilder(str.substring(str.length() - i))).reverse().toString()))\r\n            .max();\r\n\r\n    return maxLen.isPresent() ? str.substring(0, maxLen.getAsInt()) : null;\r\n}\r\n```\r\n\r\n&lt;h4&gt;Output&lt;/h4&gt;\r\n\r\n```\r\nab\r\na\r\naba\r\n```\r\n\r\nHere is a link to test the code:\r\n\r\nhttps://www.jdoodle.com/iembed/v0/rUL","title":"Codingbat challenge: mirrorEnds using Stream API","body":"<p>Since you're <b>purposely asking for a stream-solution</b> to this problem, this could be to look for the greatest index <code>i</code> where the first <code>i</code> characters match the last <code>i</code> characters reversed, with <code>i</code> starting from <code>length() / 2</code> and proceeding by decrementing <code>i</code> until it reaches 0.</p>\n<p>The previous algorithm makes sense to be applied only if the given string isn't a palindrome. In fact, in that case, the string itself could be returned immediately.</p>\n<pre><code>public static String mirrorEnds(String str) {\n    if (str.equals(new StringBuilder(str).reverse().toString())) {\n        return str;\n    }\n\n    OptionalInt maxLen = IntStream.iterate(str.length() / 2, i -&gt; i &gt;= 0, i -&gt; i - 1)\n            .filter(i -&gt; str.substring(0, i).equals((new StringBuilder(str.substring(str.length() - i))).reverse().toString()))\n            .max();\n\n    return maxLen.isPresent() ? str.substring(0, maxLen.getAsInt()) : null;\n}\n</code></pre>\n<h4>Output</h4>\n<pre><code>ab\na\naba\n</code></pre>\n<p>Here is a link to test the code:</p>\n<p><a href=\"https://www.jdoodle.com/iembed/v0/rUL\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/iembed/v0/rUL</a></p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654608669,"creation_date":1654530529,"answer_id":72520226,"question_id":72517158,"body_markdown":"It&#39;s doable with `IntStream.range()` in a *single stream-statement*.\r\n\r\nIn order to create a one-liner we will need&#39;ll a help of `takeWhile()`, which was introduced with Java 9. `takeWhile()` is a so-called *short-cercuit* operation, i.e. it will break after the first element that doesn&#39;t match the given *predicate*. \r\n\r\n    public static String mirrorEnds(String str) {\r\n        \r\n        return IntStream.range(0, str.length())\r\n            .takeWhile(i -&gt; str.charAt(i) == str.charAt(str.length() - 1 - i))\r\n            .map(str::codePointAt)\r\n            .collect(StringBuilder::new,\r\n                StringBuilder::appendCodePoint,\r\n                StringBuilder::append)\r\n            .toString();\r\n    }\r\n\r\nSince *CodingBat* is still on Java 8, its compiler will complain at the code above. \r\n____________________________________________________\r\n\r\nA very nice, a simple Java 8 compliant solution proposed by *@Holger*.\r\n\r\nIt looks for the index of the *first mismatch* between characters at the beginning and at the end, and generates a substring starting from the very beginning `0` up to the`mismatch` index.\r\n\r\nIn case if `findFirst()` returns an empty optional, i.e. the given string is a *palindrome* and there&#39;s no mismatch, the length of the given string will be provided via `orElse()`.\r\n\r\nThe code below passes all tests on *CodingBat*.\r\n\r\n    public String mirrorEnds(String str) {\r\n            \r\n            int mismatch = IntStream.range(0, str.length() / 2)\r\n                .filter(i -&gt; str.charAt(i) != str.charAt(str.length() - 1 - i))\r\n                .findFirst()\r\n                .orElse(str.length());\r\n            \r\n            return str.substring(0, mismatch);\r\n        }\r\n\r\n*Note* since *CodingBat* disallows *imports*, in order to run the code above on this site you need to use a so-called fully-qualified name of the class `java.util.stream.IntStream`.","title":"Codingbat challenge: mirrorEnds using Stream API","body":"<p>It's doable with <code>IntStream.range()</code> in a <em>single stream-statement</em>.</p>\n<p>In order to create a one-liner we will need'll a help of <code>takeWhile()</code>, which was introduced with Java 9. <code>takeWhile()</code> is a so-called <em>short-cercuit</em> operation, i.e. it will break after the first element that doesn't match the given <em>predicate</em>.</p>\n<pre><code>public static String mirrorEnds(String str) {\n    \n    return IntStream.range(0, str.length())\n        .takeWhile(i -&gt; str.charAt(i) == str.charAt(str.length() - 1 - i))\n        .map(str::codePointAt)\n        .collect(StringBuilder::new,\n            StringBuilder::appendCodePoint,\n            StringBuilder::append)\n        .toString();\n}\n</code></pre>\n<p>Since <em>CodingBat</em> is still on Java 8, its compiler will complain at the code above.</p>\n<hr />\n<p>A very nice, a simple Java 8 compliant solution proposed by <em>@Holger</em>.</p>\n<p>It looks for the index of the <em>first mismatch</em> between characters at the beginning and at the end, and generates a substring starting from the very beginning <code>0</code> up to the<code>mismatch</code> index.</p>\n<p>In case if <code>findFirst()</code> returns an empty optional, i.e. the given string is a <em>palindrome</em> and there's no mismatch, the length of the given string will be provided via <code>orElse()</code>.</p>\n<p>The code below passes all tests on <em>CodingBat</em>.</p>\n<pre><code>public String mirrorEnds(String str) {\n        \n        int mismatch = IntStream.range(0, str.length() / 2)\n            .filter(i -&gt; str.charAt(i) != str.charAt(str.length() - 1 - i))\n            .findFirst()\n            .orElse(str.length());\n        \n        return str.substring(0, mismatch);\n    }\n</code></pre>\n<p><em>Note</em> since <em>CodingBat</em> disallows <em>imports</em>, in order to run the code above on this site you need to use a so-called fully-qualified name of the class <code>java.util.stream.IntStream</code>.</p>\n"}],"owner":{"account_id":22312572,"reputation":140,"user_id":16561343,"display_name":"Evgeniy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72517931,"answer_count":3,"score":0,"last_activity_date":1654608669,"creation_date":1654515813,"question_id":72517158,"body_markdown":"Given the task [mirrorEnds][1] from *CodingBat*:\r\n\r\n&gt; Given a string, look for a mirror image (*backwards*) string at both\r\n&gt; the beginning and end of the given string. \r\n&gt; \r\n&gt; In other words, zero or\r\n&gt; more characters at the very beginning of the given string, and at the\r\n&gt; very end of the string in reverse order (*possibly overlapping*). For\r\n&gt; example, the string `&quot;abXYZba&quot;` has the mirror end `&quot;ab&quot;`.\r\n\r\n*Examples:*\r\n\r\n```\r\nmirrorEnds(&quot;abXYZba&quot;)  →  &quot;ab&quot;\r\nmirrorEnds(&quot;abca&quot;)     →  &quot;a&quot;\r\nmirrorEnds(&quot;aba&quot;)      →  &quot;aba&quot;\r\n```\r\nMy solution for this task is the following:\r\n\r\n    public String mirrorEnds(String str) {\r\n      String result = &quot;&quot;;\r\n      \r\n      if (str.length() % 2 != 0) {\r\n        for (int i = 0; i &lt; str.length() / 2; i++) {\r\n          if (str.charAt(i) == str.charAt(str.length() - i - 1)) {\r\n            result += &quot;&quot; + str.charAt(i);\r\n          } else {\r\n            break;\r\n          }\r\n        }\r\n        \r\n        if (result.length() == str.length() / 2) {\r\n          String strEnd = new StringBuilder(result).reverse().toString();\r\n          result += &quot;&quot; + str.charAt(str.length() / 2) + strEnd;\r\n        } \r\n      }\r\n      \r\n      if (str.length() % 2 == 0) {\r\n        for (int i = 0; i &lt; str.length() / 2; i++) {\r\n          if (str.charAt(i) == str.charAt(str.length() - i - 1)) {\r\n            result += &quot;&quot; + str.charAt(i);\r\n          } else {\r\n            break;\r\n          }\r\n        }\r\n        \r\n        if (result.length() == str.length() / 2) {\r\n          String strEnd = new StringBuilder(result).reverse().toString();\r\n          result += strEnd;\r\n        }\r\n      }\r\n      \r\n      return result;\r\n    }\r\n\r\nIs it possible to solve this problem using ***Stream API*** ?\r\n\r\n  [1]: https://codingbat.com/prob/p139411","title":"Codingbat challenge: mirrorEnds using Stream API","body":"<p>Given the task <a href=\"https://codingbat.com/prob/p139411\" rel=\"nofollow noreferrer\">mirrorEnds</a> from <em>CodingBat</em>:</p>\n<blockquote>\n<p>Given a string, look for a mirror image (<em>backwards</em>) string at both\nthe beginning and end of the given string.</p>\n<p>In other words, zero or\nmore characters at the very beginning of the given string, and at the\nvery end of the string in reverse order (<em>possibly overlapping</em>). For\nexample, the string <code>&quot;abXYZba&quot;</code> has the mirror end <code>&quot;ab&quot;</code>.</p>\n</blockquote>\n<p><em>Examples:</em></p>\n<pre><code>mirrorEnds(&quot;abXYZba&quot;)  →  &quot;ab&quot;\nmirrorEnds(&quot;abca&quot;)     →  &quot;a&quot;\nmirrorEnds(&quot;aba&quot;)      →  &quot;aba&quot;\n</code></pre>\n<p>My solution for this task is the following:</p>\n<pre><code>public String mirrorEnds(String str) {\n  String result = &quot;&quot;;\n  \n  if (str.length() % 2 != 0) {\n    for (int i = 0; i &lt; str.length() / 2; i++) {\n      if (str.charAt(i) == str.charAt(str.length() - i - 1)) {\n        result += &quot;&quot; + str.charAt(i);\n      } else {\n        break;\n      }\n    }\n    \n    if (result.length() == str.length() / 2) {\n      String strEnd = new StringBuilder(result).reverse().toString();\n      result += &quot;&quot; + str.charAt(str.length() / 2) + strEnd;\n    } \n  }\n  \n  if (str.length() % 2 == 0) {\n    for (int i = 0; i &lt; str.length() / 2; i++) {\n      if (str.charAt(i) == str.charAt(str.length() - i - 1)) {\n        result += &quot;&quot; + str.charAt(i);\n      } else {\n        break;\n      }\n    }\n    \n    if (result.length() == str.length() / 2) {\n      String strEnd = new StringBuilder(result).reverse().toString();\n      result += strEnd;\n    }\n  }\n  \n  return result;\n}\n</code></pre>\n<p>Is it possible to solve this problem using <em><strong>Stream API</strong></em> ?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1654608849,"post_id":72532051,"comment_id":128127546,"body_markdown":"`new ViewModelProvider(this)` i don&#39;t think you&#39;re creating a viewmodel with the same context or, at the very least, you&#39;re creating two different viewmodel instances, right ? you have one underneath `onCreate` and also one near `onViewCreated`","body":"<code>new ViewModelProvider(this)</code> i don&#39;t think you&#39;re creating a viewmodel with the same context or, at the very least, you&#39;re creating two different viewmodel instances, right ? you have one underneath <code>onCreate</code> and also one near <code>onViewCreated</code>"},{"owner":{"account_id":4951203,"reputation":7272,"user_id":3985071,"accept_rate":54,"display_name":"Arpit Patel"},"score":0,"creation_date":1654609892,"post_id":72532051,"comment_id":128127920,"body_markdown":"instantiate viewModel in fragment and use the same instance to update and retrieve Live data.","body":"instantiate viewModel in fragment and use the same instance to update and retrieve Live data."},{"owner":{"account_id":1206944,"reputation":533,"user_id":1176347,"accept_rate":67,"display_name":"greggyNapalm"},"score":0,"creation_date":1654628140,"post_id":72532051,"comment_id":128134559,"body_markdown":"@ArpitPatel In case I&#39;m creating a data source(3rd party library) instance in MainActivity. How to pass it to the viewModel in a fragment?","body":"@ArpitPatel In case I&#39;m creating a data source(3rd party library) instance in MainActivity. How to pass it to the viewModel in a fragment?"},{"owner":{"account_id":4951203,"reputation":7272,"user_id":3985071,"accept_rate":54,"display_name":"Arpit Patel"},"score":0,"creation_date":1655305949,"post_id":72532051,"comment_id":128302398,"body_markdown":"@greggyNapalm Use the &#39;by activityViewModels()&#39; Kotlin property delegate. https://developer.android.com/topic/libraries/architecture/viewmodel","body":"@greggyNapalm Use the &#39;by activityViewModels()&#39; Kotlin property delegate. <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/viewmodel</a>"}],"owner":{"account_id":1206944,"reputation":533,"user_id":1176347,"accept_rate":67,"display_name":"greggyNapalm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654608456,"creation_date":1654608456,"question_id":72532051,"body_markdown":"Suddenly I decided that need to gain android dev experience. I want to create a simple us which will get data from lib and push it to segment with the table view. I&#39;m following the guide https://developer.android.com/guide/fragments/communicate\r\n\r\nThe problem is that I don&#39;t have exceptions but the data in the table(R.id.sdkhash) is not updated. There should be some stupid mistake on my side, but I can&#39;t find it.\r\n\r\n**MainActivity.java**\r\nI&#39;m getting (InfoViewModel extends ViewModel) here and push the data via selectItem method.\r\n```java\r\n...\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n...\r\ninfoViewModel = new ViewModelProvider(this).get(InfoViewModel.class);\r\nRuntimeInfo runtimeInfo = new RuntimeInfo(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;); \r\ninfoViewModel.selectItem(runtimeInfo);\r\n\r\nInfoViewModel.java\r\nclass RuntimeInfo {\r\n    public String sdkHash;\r\n    public String deviceUid;\r\n    public String URL;\r\n    public String userAgent;\r\n\r\n    public RuntimeInfo(String hash, String deviceid, String url, String agent) {\r\n        sdkHash = hash;\r\n        deviceUid = deviceid;\r\n        URL = url;\r\n        userAgent = agent;\r\n    }\r\n}\r\n```\r\n\r\n**InfoViewModel.java** I&#39;m defining my ViewModel here.\r\n```java\r\nclass RuntimeInfo {\r\n    // Dummy class to hold the data.\r\n    public String sdkHash;\r\n    public String deviceUid;\r\n    public String URL;\r\n    public String userAgent;\r\n\r\n    public RuntimeInfo(String hash, String deviceid, String url, String agent) {\r\n        sdkHash = hash;\r\n        deviceUid = deviceid;\r\n        URL = url;\r\n        userAgent = agent;\r\n    }\r\n}\r\n\r\npublic class InfoViewModel extends ViewModel {\r\n    private final MutableLiveData&lt;RuntimeInfo&gt; selectedItem = new MutableLiveData&lt;RuntimeInfo&gt;();\r\n    public void selectItem(RuntimeInfo item) {\r\n        selectedItem.setValue(item);\r\n    }\r\n    public MutableLiveData&lt;RuntimeInfo&gt; getSelectedItem() {\r\n        return selectedItem;\r\n    }\r\n}\r\n```\r\n\r\n**InfoFragment.java** - Fragment which is responsible for the UI part. I want to be able to update its UI based on the data from MainActivity.\r\n```java\r\npublic class InfoFragment extends Fragment {\r\n...\r\n@Override\r\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n    super.onViewCreated(view, savedInstanceState);\r\n    hashRowview = (TextView) view.findViewById(R.id.sdkhash);\r\n    infoViewModel = new ViewModelProvider(this).get(InfoViewModel.class);\r\n    infoViewModel.getSelectedItem().observe(getViewLifecycleOwner(), item -&gt; {\r\n        hashRowview.setText((CharSequence) item.sdkHash);\r\n    });\r\n\r\n    infoViewModel.getSelectedItem();\r\n    RuntimeInfo runtimeInfo = infoViewModel.getSelectedItem().getValue();\r\n    System.out.println(&quot;*************************************** runtimeInfo:&quot; + runtimeInfo);\r\n    if (runtimeInfo != null) {\r\n        hashRowview.setText((CharSequence) runtimeInfo.sdkHash);\r\n        System.out.println(&quot;*************************************** runtimeInfo Not NULL&quot;);\r\n\r\n    }\r\n```\r\n","title":"Android ViewModel do not propagate data","body":"<p>Suddenly I decided that need to gain android dev experience. I want to create a simple us which will get data from lib and push it to segment with the table view. I'm following the guide <a href=\"https://developer.android.com/guide/fragments/communicate\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/fragments/communicate</a></p>\n<p>The problem is that I don't have exceptions but the data in the table(R.id.sdkhash) is not updated. There should be some stupid mistake on my side, but I can't find it.</p>\n<p><strong>MainActivity.java</strong>\nI'm getting (InfoViewModel extends ViewModel) here and push the data via selectItem method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n...\ninfoViewModel = new ViewModelProvider(this).get(InfoViewModel.class);\nRuntimeInfo runtimeInfo = new RuntimeInfo(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;); \ninfoViewModel.selectItem(runtimeInfo);\n\nInfoViewModel.java\nclass RuntimeInfo {\n    public String sdkHash;\n    public String deviceUid;\n    public String URL;\n    public String userAgent;\n\n    public RuntimeInfo(String hash, String deviceid, String url, String agent) {\n        sdkHash = hash;\n        deviceUid = deviceid;\n        URL = url;\n        userAgent = agent;\n    }\n}\n</code></pre>\n<p><strong>InfoViewModel.java</strong> I'm defining my ViewModel here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class RuntimeInfo {\n    // Dummy class to hold the data.\n    public String sdkHash;\n    public String deviceUid;\n    public String URL;\n    public String userAgent;\n\n    public RuntimeInfo(String hash, String deviceid, String url, String agent) {\n        sdkHash = hash;\n        deviceUid = deviceid;\n        URL = url;\n        userAgent = agent;\n    }\n}\n\npublic class InfoViewModel extends ViewModel {\n    private final MutableLiveData&lt;RuntimeInfo&gt; selectedItem = new MutableLiveData&lt;RuntimeInfo&gt;();\n    public void selectItem(RuntimeInfo item) {\n        selectedItem.setValue(item);\n    }\n    public MutableLiveData&lt;RuntimeInfo&gt; getSelectedItem() {\n        return selectedItem;\n    }\n}\n</code></pre>\n<p><strong>InfoFragment.java</strong> - Fragment which is responsible for the UI part. I want to be able to update its UI based on the data from MainActivity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class InfoFragment extends Fragment {\n...\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n    hashRowview = (TextView) view.findViewById(R.id.sdkhash);\n    infoViewModel = new ViewModelProvider(this).get(InfoViewModel.class);\n    infoViewModel.getSelectedItem().observe(getViewLifecycleOwner(), item -&gt; {\n        hashRowview.setText((CharSequence) item.sdkHash);\n    });\n\n    infoViewModel.getSelectedItem();\n    RuntimeInfo runtimeInfo = infoViewModel.getSelectedItem().getValue();\n    System.out.println(&quot;*************************************** runtimeInfo:&quot; + runtimeInfo);\n    if (runtimeInfo != null) {\n        hashRowview.setText((CharSequence) runtimeInfo.sdkHash);\n        System.out.println(&quot;*************************************** runtimeInfo Not NULL&quot;);\n\n    }\n</code></pre>\n"},{"tags":["java","android-studio"],"answers":[{"tags":[],"owner":{"account_id":14361048,"reputation":448,"user_id":10373347,"display_name":"Peer Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654608073,"creation_date":1654608073,"answer_id":72531964,"question_id":72531676,"body_markdown":"in your onCreate() method, make the below changes\r\n\r\nadd\r\n\r\n \r\n\r\n    cname = findViewById(R.id.CName);\r\n    cAdd = findViewById(R.id.cAdd);\r\n\r\ninstead of \r\n\r\n \r\n\r\n    cname.findViewById(R.id.CName);\r\n    cAdd.findViewById(R.id.cAdd);","title":"hi, i am new to android studio. I am trying to go to the next window, but when i click the button the app crashes. here is my code","body":"<p>in your onCreate() method, make the below changes</p>\n<p>add</p>\n<pre><code>cname = findViewById(R.id.CName);\ncAdd = findViewById(R.id.cAdd);\n</code></pre>\n<p>instead of</p>\n<pre><code>cname.findViewById(R.id.CName);\ncAdd.findViewById(R.id.cAdd);\n</code></pre>\n"}],"owner":{"account_id":25146596,"reputation":13,"user_id":18992285,"display_name":"UserRW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1654690325,"accepted_answer_id":72531964,"answer_count":1,"score":0,"last_activity_date":1654608073,"creation_date":1654606854,"question_id":72531676,"body_markdown":"```\r\npackage com.example.getorganized;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\nimport java.util.HashMap;\r\n\r\npublic class add extends AppCompatActivity {\r\n   private  FirebaseAuth firebaseAuth;\r\n   private  ProgressDialog progressDialo;\r\n\r\n    Button cAdd;\r\n    EditText cname;\r\n    String category = &quot;&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add);\r\n\r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n        progressDialo =new ProgressDialog(this);\r\n        progressDialo.setTitle(&quot;Please wait&quot;);\r\n        progressDialo.setCanceledOnTouchOutside(false);\r\n        cname.findViewById(R.id.CName);\r\n        cAdd.findViewById(R.id.cAdd);\r\n\r\n        cAdd.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                vaildateData();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private void vaildateData() {\r\n\r\n         category = cname.getText().toString().trim();\r\n        if(category.isEmpty()){\r\n            cname.setError(&quot;Enter name of Category&quot;);\r\n        }\r\n        else{\r\n            addTo();\r\n        }\r\n    }\r\n\r\n    private void addTo() {\r\n        progressDialo.setMessage(&quot;Adding category...&quot;);\r\n        progressDialo.show();\r\n\r\n        long timestamp = System.currentTimeMillis();\r\n\r\n        HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\r\n        hashMap.put(&quot;id&quot;, &quot;&quot; +timestamp);\r\n        hashMap.put(&quot;category&quot;, &quot;&quot;+category);\r\n        hashMap.put(&quot;timestamp&quot;, timestamp);\r\n        hashMap.put(&quot;uid&quot;, &quot;&quot;+ firebaseAuth.getUid());\r\n\r\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Categories&quot;);\r\n        ref.child(&quot;&quot;+timestamp).setValue(hashMap).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onSuccess(Void unused) {\r\n                progressDialo.dismiss();\r\n                Toast.makeText(add.this, &quot;Category added successfully&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n\r\nhi, i am new to android studio. i am trying to create a library management app that connects to firebase. i have already create a login and registration page. I am now trying to go to the next window, but when i click the button the app crashes. here is my code. this is the activity it crashes at. if i remove the following code the app does no crash. \r\nmay someone please assist me. ","title":"hi, i am new to android studio. I am trying to go to the next window, but when i click the button the app crashes. here is my code","body":"<pre><code>package com.example.getorganized;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.ProgressDialog;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnFailureListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\nimport java.util.HashMap;\n\npublic class add extends AppCompatActivity {\n   private  FirebaseAuth firebaseAuth;\n   private  ProgressDialog progressDialo;\n\n    Button cAdd;\n    EditText cname;\n    String category = &quot;&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add);\n\n        firebaseAuth = FirebaseAuth.getInstance();\n        progressDialo =new ProgressDialog(this);\n        progressDialo.setTitle(&quot;Please wait&quot;);\n        progressDialo.setCanceledOnTouchOutside(false);\n        cname.findViewById(R.id.CName);\n        cAdd.findViewById(R.id.cAdd);\n\n        cAdd.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                vaildateData();\n            }\n        });\n    }\n\n\n    private void vaildateData() {\n\n         category = cname.getText().toString().trim();\n        if(category.isEmpty()){\n            cname.setError(&quot;Enter name of Category&quot;);\n        }\n        else{\n            addTo();\n        }\n    }\n\n    private void addTo() {\n        progressDialo.setMessage(&quot;Adding category...&quot;);\n        progressDialo.show();\n\n        long timestamp = System.currentTimeMillis();\n\n        HashMap&lt;String, Object&gt; hashMap = new HashMap&lt;&gt;();\n        hashMap.put(&quot;id&quot;, &quot;&quot; +timestamp);\n        hashMap.put(&quot;category&quot;, &quot;&quot;+category);\n        hashMap.put(&quot;timestamp&quot;, timestamp);\n        hashMap.put(&quot;uid&quot;, &quot;&quot;+ firebaseAuth.getUid());\n\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Categories&quot;);\n        ref.child(&quot;&quot;+timestamp).setValue(hashMap).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n            @Override\n            public void onSuccess(Void unused) {\n                progressDialo.dismiss();\n                Toast.makeText(add.this, &quot;Category added successfully&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>hi, i am new to android studio. i am trying to create a library management app that connects to firebase. i have already create a login and registration page. I am now trying to go to the next window, but when i click the button the app crashes. here is my code. this is the activity it crashes at. if i remove the following code the app does no crash.\nmay someone please assist me.</p>\n"},{"tags":["java","spring","email","mail-sender"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654608286,"post_id":72531961,"comment_id":128127284,"body_markdown":"They&#39;re always changing stuff at Google. I think now you might try to generate some app-specific credentials and try those. They have been reasonably stable for me","body":"They&#39;re always changing stuff at Google. I think now you might try to generate some app-specific credentials and try those. They have been reasonably stable for me"},{"owner":{"account_id":25353790,"reputation":35,"user_id":19170250,"display_name":"Ayoub Elmo"},"score":0,"creation_date":1654608793,"post_id":72531961,"comment_id":128127524,"body_markdown":"Would it be simpler to use something other than gmail by any chance? Maybe something like outlook?","body":"Would it be simpler to use something other than gmail by any chance? Maybe something like outlook?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654609744,"post_id":72531961,"comment_id":128127856,"body_markdown":"Well certainly another smtp provider would be much simpler. I don&#39;t know of one at the moment to recommend. Outlook is not really relevant as it is a Mail Transfer Agent, which itself needs an smtp provider in order to send mail. If you have web hosting, you might find they provide an smtp service too.","body":"Well certainly another smtp provider would be much simpler. I don&#39;t know of one at the moment to recommend. Outlook is not really relevant as it is a Mail Transfer Agent, which itself needs an smtp provider in order to send mail. If you have web hosting, you might find they provide an smtp service too."}],"owner":{"account_id":25353790,"reputation":35,"user_id":19170250,"display_name":"Ayoub Elmo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":718,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1654608065,"creation_date":1654608065,"question_id":72531961,"body_markdown":"I&#39;ve been using spring&#39;s MailSender for a few weeks now on a project I&#39;m working on. I have it set up such that an email sends a confirmation token to a newly registered user to confirm their account. This has been working steadily the whole time. Today it&#39;s saying that the Username/Password is incorrect. It isn&#39;t. It&#39;s a gmail account that I am using, and I enabled the feature that allows for less secured apps to interact with the email. \r\n\r\nNot sure if its related but I noticed this when checking if it was enabled on the settings of the gmail account.\r\n\r\n&quot;To help keep your account secure, from May 30, 2022, ​​Google no longer supports the use of third-party apps or devices which ask you to sign in to your Google Account using only your username and password.&quot;\r\n\r\nCould this be the problem?\r\n\r\nHere&#39;s part of the error message (relevant part)\r\n\r\n``` \r\nDEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;35882577&quot;\r\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH&quot;\r\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;SMTPUTF8&quot;, arg &quot;&quot;\r\nDEBUG SMTP: STARTTLS requested but already using SSL\r\nDEBUG SMTP: protocolConnect login, host=smtp.gmail.com, user=&quot;MY EMAIL I REMOVED IT&quot;, password=&lt;non-null&gt;\r\nDEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2 \r\nDEBUG SMTP: Using mechanism LOGIN\r\nDEBUG SMTP: AUTH LOGIN command trace suppressed\r\nDEBUG SMTP: AUTH LOGIN failed\r\n\u001B[2m2022-06-07 09:12:32.509\u001B[0;39m \u001B[31mERROR\u001B[0;39m \u001B[35m8616\u001B[0;39m \u001B[2m---\u001B[0;39m \u001B[2m[nio-3307-exec-8]\u001B[0;39m \u001B[36mo.a.c.c.C.[.[.[/].[dispatcherServlet]   \u001B[0;39m \u001B[2m:\u001B[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.mail.MailAuthenticationException: Authentication failed; nested exception is javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at\r\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials m8-20020a05600c4f4800b003942a244f51sm27447733wmq.42 - gsmtp\r\n] with root cause\r\n\r\njavax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at\r\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials m8-20020a05600c4f4800b003942a244f51sm27447733wmq.42 - gsmtp\r\n```\r\n\r\n**TLDR**\r\n\r\nMy MailSender keeps saying that my credentials are wrong (Username or password) and they aren&#39;t. I also enabled less secured apps to use this email. What might be causing this problem? It was working just fine past few weeks.\r\n","title":"Spring MailSender suddenly stopped working properly","body":"<p>I've been using spring's MailSender for a few weeks now on a project I'm working on. I have it set up such that an email sends a confirmation token to a newly registered user to confirm their account. This has been working steadily the whole time. Today it's saying that the Username/Password is incorrect. It isn't. It's a gmail account that I am using, and I enabled the feature that allows for less secured apps to interact with the email.</p>\n<p>Not sure if its related but I noticed this when checking if it was enabled on the settings of the gmail account.</p>\n<p>&quot;To help keep your account secure, from May 30, 2022, ​​Google no longer supports the use of third-party apps or devices which ask you to sign in to your Google Account using only your username and password.&quot;</p>\n<p>Could this be the problem?</p>\n<p>Here's part of the error message (relevant part)</p>\n<pre><code>DEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;35882577&quot;\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;LOGIN PLAIN XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH&quot;\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;SMTPUTF8&quot;, arg &quot;&quot;\nDEBUG SMTP: STARTTLS requested but already using SSL\nDEBUG SMTP: protocolConnect login, host=smtp.gmail.com, user=&quot;MY EMAIL I REMOVED IT&quot;, password=&lt;non-null&gt;\nDEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2 \nDEBUG SMTP: Using mechanism LOGIN\nDEBUG SMTP: AUTH LOGIN command trace suppressed\nDEBUG SMTP: AUTH LOGIN failed\n[2m2022-06-07 09:12:32.509[0;39m [31mERROR[0;39m [35m8616[0;39m [2m---[0;39m [2m[nio-3307-exec-8][0;39m [36mo.a.c.c.C.[.[.[/].[dispatcherServlet]   [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.mail.MailAuthenticationException: Authentication failed; nested exception is javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials m8-20020a05600c4f4800b003942a244f51sm27447733wmq.42 - gsmtp\n] with root cause\n\njavax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials m8-20020a05600c4f4800b003942a244f51sm27447733wmq.42 - gsmtp\n</code></pre>\n<p><strong>TLDR</strong></p>\n<p>My MailSender keeps saying that my credentials are wrong (Username or password) and they aren't. I also enabled less secured apps to use this email. What might be causing this problem? It was working just fine past few weeks.</p>\n"},{"tags":["java","macos","gradle","macos-monterey"],"comments":[{"owner":{"account_id":9789138,"reputation":171,"user_id":7254424,"display_name":"thorin9000"},"score":1,"creation_date":1655560279,"post_id":72531954,"comment_id":128363371,"body_markdown":"I can run Gradle built jar files on an M1 Mac running Montery using Zulu&#39;s build of the JDK - for me, I first run the jar, get permission denied, then upon opening Security &amp; Privacy, a button appears to run it inside the general tab.  Though it looks like that button doesn&#39;t appear for you.","body":"I can run Gradle built jar files on an M1 Mac running Montery using Zulu&#39;s build of the JDK - for me, I first run the jar, get permission denied, then upon opening Security &amp; Privacy, a button appears to run it inside the general tab.  Though it looks like that button doesn&#39;t appear for you."}],"owner":{"account_id":14701984,"reputation":71,"user_id":10617776,"display_name":"Denis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1654608054,"creation_date":1654608054,"question_id":72531954,"body_markdown":"I&#39;m having troubles with an application written in Java and built with gradle on Monterey.\r\nI can build it and make a package to install it on macOS. After the installation I can see the right Icon in the Applications folder, but everytime I try to run it this dialog come out:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI think I tried everything to make it work on this OS. \r\nOn every other version of MacOS it works well. \r\nI thought the problem could be regarding some permission, so I allowed permissions to every application like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qzd9f.png\r\n  [2]: https://i.stack.imgur.com/LRfoO.png\r\n\r\nbut it still doesn&#39;t work.\r\n\r\nTried to run it via Terminal but I&#39;m having this error:\r\n\r\n    The application cannot be opened for an unexpected reason, error=Error \r\n    Domain=NSOSStatusErrorDomain Code=-10810 &quot;kLSUnknownErr: Unexpected internal error&quot; \r\n    UserInfo={_LSFunction=_LSLaunchWithRunningboard, _LSLine=2732, \r\n    NSUnderlyingError=0x600000d3ecd0 {Error Domain=RBSRequestErrorDomain Code=5 &quot;Launch \r\n    failed.&quot; UserInfo={NSLocalizedFailureReason=Launch failed., \r\n    NSUnderlyingError=0x600000d3e520 {Error Domain=NSPOSIXErrorDomain Code=2 &quot;No such file or \r\n    directory&quot; UserInfo={NSLocalizedDescription=Launchd job spawn failed}}}}}\r\n\r\n\r\nand I didn&#39;t find a solution for this.\r\n\r\nI thought it could be a problem of signature of the application or something like that, but trying with these commands in a Teminal to find a solution of any type it still doesn&#39;t run.\r\n\r\n    codesign -v &quot;MyApp.app&quot;\r\n    codesign -s &quot;MyCompany&quot; MyApp.app\r\n    sudo xattr -r -d com.apple.quarantine MyApp.app\r\n    sudo chmod -R 755 MyApp.app\r\n    sudo codesign --force --deep --sign - MyApp.app\r\n    sudo xattr -d -r com.apple.quarantine /Applications/MyApp.app\r\n\r\nNothing happened and I&#39;m at the starting situation of not working app on Monterey.\r\nIt&#39;s not a problem of Intel or M1 chip.\r\n\r\nWhat could be the solution to this problem? \r\nI searched all internet but didn&#39;t find a solution for this.\r\nThank you for the help.\r\n\r\n\r\n","title":"java app built with gradle does not start on macOs Monterey","body":"<p>I'm having troubles with an application written in Java and built with gradle on Monterey.\nI can build it and make a package to install it on macOS. After the installation I can see the right Icon in the Applications folder, but everytime I try to run it this dialog come out:</p>\n<p><a href=\"https://i.stack.imgur.com/qzd9f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qzd9f.png\" alt=\"enter image description here\" /></a></p>\n<p>I think I tried everything to make it work on this OS.\nOn every other version of MacOS it works well.\nI thought the problem could be regarding some permission, so I allowed permissions to every application like this:</p>\n<p><a href=\"https://i.stack.imgur.com/LRfoO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LRfoO.png\" alt=\"enter image description here\" /></a></p>\n<p>but it still doesn't work.</p>\n<p>Tried to run it via Terminal but I'm having this error:</p>\n<pre><code>The application cannot be opened for an unexpected reason, error=Error \nDomain=NSOSStatusErrorDomain Code=-10810 &quot;kLSUnknownErr: Unexpected internal error&quot; \nUserInfo={_LSFunction=_LSLaunchWithRunningboard, _LSLine=2732, \nNSUnderlyingError=0x600000d3ecd0 {Error Domain=RBSRequestErrorDomain Code=5 &quot;Launch \nfailed.&quot; UserInfo={NSLocalizedFailureReason=Launch failed., \nNSUnderlyingError=0x600000d3e520 {Error Domain=NSPOSIXErrorDomain Code=2 &quot;No such file or \ndirectory&quot; UserInfo={NSLocalizedDescription=Launchd job spawn failed}}}}}\n</code></pre>\n<p>and I didn't find a solution for this.</p>\n<p>I thought it could be a problem of signature of the application or something like that, but trying with these commands in a Teminal to find a solution of any type it still doesn't run.</p>\n<pre><code>codesign -v &quot;MyApp.app&quot;\ncodesign -s &quot;MyCompany&quot; MyApp.app\nsudo xattr -r -d com.apple.quarantine MyApp.app\nsudo chmod -R 755 MyApp.app\nsudo codesign --force --deep --sign - MyApp.app\nsudo xattr -d -r com.apple.quarantine /Applications/MyApp.app\n</code></pre>\n<p>Nothing happened and I'm at the starting situation of not working app on Monterey.\nIt's not a problem of Intel or M1 chip.</p>\n<p>What could be the solution to this problem?\nI searched all internet but didn't find a solution for this.\nThank you for the help.</p>\n"},{"tags":["java","maven","maven-jar-plugin"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1635315345,"post_id":69733585,"comment_id":123260936,"body_markdown":"Your pom works for me: `Manifest-Version: 1.0\nArchiver-Version: Plexus Archiver\nCreated-By: Apache Maven 3.8.1\nBuilt-By: tdavies\nBuild-Jdk: 11.0.2\nClass-Path: lib/joda-time-1.6.2-201110292322.jar lib/joda-time-1.6.2.jar\nMain-Class: org.sav.app.App`","body":"Your pom works for me: <code>Manifest-Version: 1.0 Archiver-Version: Plexus Archiver Created-By: Apache Maven 3.8.1 Built-By: tdavies Build-Jdk: 11.0.2 Class-Path: lib&#47;joda-time-1.6.2-201110292322.jar lib&#47;joda-time-1.6.2.jar Main-Class: org.sav.app.App</code>"},{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1635315553,"post_id":69733585,"comment_id":123260993,"body_markdown":"Which IDE are you using?","body":"Which IDE are you using?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635316671,"post_id":69733585,"comment_id":123261348,"body_markdown":"@JFan this is maven, no IDE is involved.","body":"@JFan this is maven, no IDE is involved."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1635322639,"post_id":69733585,"comment_id":123263552,"body_markdown":"If you like to create an executable jar you should take a look at maven-shade-plugin instead https://maven.apache.org/plugins/maven-shade-plugin/","body":"If you like to create an executable jar you should take a look at maven-shade-plugin instead <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin</a>"}],"answers":[{"tags":[],"owner":{"account_id":17915913,"reputation":1,"user_id":17022376,"display_name":"sav_"},"down_vote_count":3,"up_vote_count":0,"is_accepted":true,"score":-3,"last_activity_date":1635407389,"creation_date":1635407389,"answer_id":69750159,"question_id":69733585,"body_markdown":"Used older version of maven and it all worked fine.","title":"How to add classpath to maven","body":"<p>Used older version of maven and it all worked fine.</p>\n"},{"tags":[],"owner":{"account_id":19108702,"reputation":1,"user_id":13955212,"display_name":"RIJANIAINA Elie Fid&#232;le"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636017213,"creation_date":1636017213,"answer_id":69836807,"question_id":69733585,"body_markdown":"I&#39;n in the same trouble now, and I can&#39;t find other workaround than downgrading maven version. I&#39;m using maven 3.8.3, and I will download 3.6","title":"How to add classpath to maven","body":"<p>I'n in the same trouble now, and I can't find other workaround than downgrading maven version. I'm using maven 3.8.3, and I will download 3.6</p>\n"},{"tags":[],"owner":{"account_id":264733,"reputation":1602,"user_id":1961779,"accept_rate":100,"display_name":"Adrian B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654608033,"creation_date":1654608033,"answer_id":72531949,"question_id":69733585,"body_markdown":"To avoid that other people waste as much time as I did... I had a similar problem, where the jar that was built with openjdk 11 (worked fine with 8) and was included in a Docker image. The resulting image had the above issue with the embeded jar (outputting `ClassNotFoundException` for classes in jars that should have been on the classpath). The solution included two steps:\r\n\r\n- maven-jar-plugin version that worked 3.2.2 (I was using 3.2.0 before) [1]\r\n- dockerfile-maven-plugin explicitly set to execute on `verify` phase [2]. The reason behind this was that the image was being built before the jar manifest was updated somehow.... \r\n\r\nAfter these 2 changes, the resulting image had a jar with the correct manifest in it, that included the jars in the `lib` folder.\r\n\r\nCode snippets:\r\n\r\n[1]\r\n```xml\r\n&lt;plugin&gt;\r\n   &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n   &lt;version&gt;3.2.2&lt;/version&gt;\r\n   &lt;configuration&gt;\r\n      &lt;archive&gt;\r\n         &lt;manifest&gt;\r\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n            &lt;mainClass&gt;someclass&lt;/mainClass&gt;\r\n         &lt;/manifest&gt;\r\n      &lt;/archive&gt;\r\n   &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n[2]\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n   &lt;groupId&gt;com.spotify&lt;/groupId&gt;\r\n   &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\r\n   &lt;executions&gt;\r\n      &lt;execution&gt;\r\n         &lt;id&gt;default&lt;/id&gt;\r\n         &lt;phase&gt;verify&lt;/phase&gt;\r\n         &lt;goals&gt;\r\n            &lt;goal&gt;build&lt;/goal&gt;\r\n            &lt;goal&gt;push&lt;/goal&gt;\r\n         &lt;/goals&gt;\r\n      &lt;/execution&gt;\r\n   &lt;/executions&gt;\r\n   &lt;configuration&gt;\r\n      ...\r\n   &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"How to add classpath to maven","body":"<p>To avoid that other people waste as much time as I did... I had a similar problem, where the jar that was built with openjdk 11 (worked fine with 8) and was included in a Docker image. The resulting image had the above issue with the embeded jar (outputting <code>ClassNotFoundException</code> for classes in jars that should have been on the classpath). The solution included two steps:</p>\n<ul>\n<li>maven-jar-plugin version that worked 3.2.2 (I was using 3.2.0 before) [1]</li>\n<li>dockerfile-maven-plugin explicitly set to execute on <code>verify</code> phase [2]. The reason behind this was that the image was being built before the jar manifest was updated somehow....</li>\n</ul>\n<p>After these 2 changes, the resulting image had a jar with the correct manifest in it, that included the jars in the <code>lib</code> folder.</p>\n<p>Code snippets:</p>\n<p>[1]</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n   &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;version&gt;3.2.2&lt;/version&gt;\n   &lt;configuration&gt;\n      &lt;archive&gt;\n         &lt;manifest&gt;\n            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n            &lt;mainClass&gt;someclass&lt;/mainClass&gt;\n         &lt;/manifest&gt;\n      &lt;/archive&gt;\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>[2]</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n   &lt;groupId&gt;com.spotify&lt;/groupId&gt;\n   &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\n   &lt;executions&gt;\n      &lt;execution&gt;\n         &lt;id&gt;default&lt;/id&gt;\n         &lt;phase&gt;verify&lt;/phase&gt;\n         &lt;goals&gt;\n            &lt;goal&gt;build&lt;/goal&gt;\n            &lt;goal&gt;push&lt;/goal&gt;\n         &lt;/goals&gt;\n      &lt;/execution&gt;\n   &lt;/executions&gt;\n   &lt;configuration&gt;\n      ...\n   &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":17915913,"reputation":1,"user_id":17022376,"display_name":"sav_"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2680,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69750159,"answer_count":3,"score":0,"last_activity_date":1654608033,"creation_date":1635314901,"question_id":69733585,"body_markdown":"I want to create an executable jar with dependencies that are going to be outside the archive in folder lib. I found out that i can ask maven to copy dependencies into the folder and modify manifest file in my executable to know where to look for needed classes. The problem is that it does not add any classpaths to my manifest.\r\nPom:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.sav&lt;/groupId&gt;\r\n    &lt;artifactId&gt;console-app-01&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;utf-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;utf-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;\r\n                                ${project.build.directory}/lib\r\n                            &lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;org.sav.app.App&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.kenai.nbpwr&lt;/groupId&gt;\r\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2-201110292322&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nAfter running mvn install my manifest looks like this:\r\n```\r\nManifest-Version: 1.0\r\nArchiver-Version: Plexus Archiver\r\nCreated-By: Apache Maven 3.8.3\r\nBuilt-By: abigo\r\nBuild-Jdk: 11.0.12\r\nMain-Class: org.sav.app.App\r\n```\r\nBut it won&#39;t run. It tells me that it cannot find needed classes. As soon as i add class-path manually it runs with no problems\r\n```\r\nManifest-Version: 1.0\r\nArchiver-Version: Plexus Archiver\r\nCreated-By: Apache Maven 3.8.3\r\nBuilt-By: abigo\r\nBuild-Jdk: 11.0.12\r\nMain-Class: org.sav.app.App\r\nClass-Path: lib/joda-time-1.6.2.jar lib/joda-time-1.6.2-201110292322.jar\r\n```\r\nApplication:\r\n```\r\npackage org.sav.app;\r\n\r\nimport org.joda.time.LocalTime;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        LocalTime currentTime = new LocalTime();\r\n        System.out.printf(&quot;Current time is: %s%n&quot;, currentTime);\r\n    }\r\n\r\n}\r\n```","title":"How to add classpath to maven","body":"<p>I want to create an executable jar with dependencies that are going to be outside the archive in folder lib. I found out that i can ask maven to copy dependencies into the folder and modify manifest file in my executable to know where to look for needed classes. The problem is that it does not add any classpaths to my manifest.\nPom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.sav&lt;/groupId&gt;\n    &lt;artifactId&gt;console-app-01&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;utf-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;utf-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;\n                                ${project.build.directory}/lib\n                            &lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;org.sav.app.App&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.kenai.nbpwr&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2-201110292322&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>After running mvn install my manifest looks like this:</p>\n<pre><code>Manifest-Version: 1.0\nArchiver-Version: Plexus Archiver\nCreated-By: Apache Maven 3.8.3\nBuilt-By: abigo\nBuild-Jdk: 11.0.12\nMain-Class: org.sav.app.App\n</code></pre>\n<p>But it won't run. It tells me that it cannot find needed classes. As soon as i add class-path manually it runs with no problems</p>\n<pre><code>Manifest-Version: 1.0\nArchiver-Version: Plexus Archiver\nCreated-By: Apache Maven 3.8.3\nBuilt-By: abigo\nBuild-Jdk: 11.0.12\nMain-Class: org.sav.app.App\nClass-Path: lib/joda-time-1.6.2.jar lib/joda-time-1.6.2-201110292322.jar\n</code></pre>\n<p>Application:</p>\n<pre><code>package org.sav.app;\n\nimport org.joda.time.LocalTime;\n\npublic class App {\n\n    public static void main(String[] args) {\n        LocalTime currentTime = new LocalTime();\n        System.out.printf(&quot;Current time is: %s%n&quot;, currentTime);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","apache-kafka"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654600976,"post_id":72514329,"comment_id":128124349,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":2010707,"reputation":890,"user_id":1799206,"accept_rate":48,"display_name":"Valath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654608026,"creation_date":1654608026,"answer_id":72531944,"question_id":72514329,"body_markdown":"I don&#39;t think this can be achieved in Kafka out of the box. I would suggest to re-think the design since Kafka/ messaging system is not the best match for your requirement. Kafka consumers are meant to be independent business logic like a micro-service, even if one fails it should not affect the other. If its so critical you may consider a single topic/webservice with all required info in that topic/request and make the client transactional. Otherwise if non-critical(failure of a topic client is not affecting functionality of another topic client), then introduce some audit/alerting mechanism on top of clients to make sure that they are back online.","title":"Kafka transactions with exception","body":"<p>I don't think this can be achieved in Kafka out of the box. I would suggest to re-think the design since Kafka/ messaging system is not the best match for your requirement. Kafka consumers are meant to be independent business logic like a micro-service, even if one fails it should not affect the other. If its so critical you may consider a single topic/webservice with all required info in that topic/request and make the client transactional. Otherwise if non-critical(failure of a topic client is not affecting functionality of another topic client), then introduce some audit/alerting mechanism on top of clients to make sure that they are back online.</p>\n"}],"owner":{"account_id":25484140,"reputation":1,"user_id":19279946,"display_name":"Shahbaz Azam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654608026,"creation_date":1654500265,"question_id":72514329,"body_markdown":"I have a situation in which Producer A writes on topics A,B and C however listener for topic C throws an exception. All writes are part of a transaction. I want to know if there is a way that all writes can be rolled back automatically, as if no there were no commits in the first place?","title":"Kafka transactions with exception","body":"<p>I have a situation in which Producer A writes on topics A,B and C however listener for topic C throws an exception. All writes are part of a transaction. I want to know if there is a way that all writes can be rolled back automatically, as if no there were no commits in the first place?</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":17732738,"reputation":161,"user_id":12874906,"display_name":"bekirduran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654607620,"creation_date":1654607620,"answer_id":72531844,"question_id":72530904,"body_markdown":"can you trt this one:\r\n\r\n    this.element.findElement(By.cssSelector(&quot;input[type=&#39;button&#39;][value=&#39;Open device access&#39;]&quot;)).click();","title":"Selenium and Java: Finding elements within elements","body":"<p>can you trt this one:</p>\n<pre><code>this.element.findElement(By.cssSelector(&quot;input[type='button'][value='Open device access']&quot;)).click();\n</code></pre>\n"}],"owner":{"display_name":"user9347168"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1654607620,"creation_date":1654603410,"question_id":72530904,"body_markdown":"I&#39;m having some trouble getting Selenium to find a button by it&#39;s class, within several other elements, the _top_ one having an `id`.\r\n\r\nMarkup:\r\n\r\n    &lt;li&gt;\r\n     &lt;input data-e2e-selector=&quot;beslotningsstotte-ja&quot; class=&quot;hb-radiobutton id=&quot;beslutningsstotte-0-0&quot; value=&quot;NEI&quot;&gt;\r\n      &lt;div class=&quot;hb-label&gt;\r\n       &lt;label class=&quot;hb-label-tekst&quot; id=&quot;beslutningsstotte-0-0-NEI-label&quot; for=&quot;beslutningsstotte-0-0&quot;&gt; Nei \r\n        &lt;hb-hjelpetekst&gt;\r\n\t     &lt;div class=&quot;hb-hjelpetekst&quot;&gt;\r\n\t      &lt;button type=&quot;button&quot; class=&quot;hb-hjelpetekst-knapp&quot;&gt;\r\n\t       &lt;span id=&quot;bd9e3ac7-d2cb-45ee-8f2a-e2a57cec87a1-hjelptekst-knapp&quot;&gt;&lt;span translate=&quot;&quot;&gt;&#197;pne hjelpetekst&lt;/span&gt;&lt;/span&gt;\r\n\t        &lt;hb-ikon ikonid=&quot;hb-question-mark&quot; storrelse=&quot;&quot; id=&quot;hb-question-mark-60b067d7-978d-4a6f-ac66-e2ec402e5b78&quot; class=&quot;hb-ikon hb-ikon-- hb-ikon--hb-question-mark&quot;&gt;\r\n\t\t     &lt;svg focusable=&quot;false&quot;&gt;&lt;use xlink:href=&quot;assets/sprite.symbol.svg#ikon-hb-question-mark&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\r\n\t\t    &lt;/hb-ikon&gt;\r\n\t      &lt;/button&gt;&lt;div _ngcontent-mep-c50=&quot;&quot; role=&quot;tooltip&quot; aria-hidden=&quot;false&quot; aria-live=&quot;polite&quot; class=&quot;hb-hjelpetekst-innhold hb-hjelpetekst--utvidet-ontop&quot;&gt;&lt;div _ngcontent-mep-c50=&quot;&quot;\r\n\r\nThe element I&#39;m trying to access is the `&lt;button type=&quot;button&quot; class=&quot;hb-hjelpetekst-knapp&quot;&gt;`, which has a &lt;span&gt; with a dynamic `ID` which cannot be used.\r\n\r\nSo, I thought to give `ByChained()` a try:\r\n\r\n    this.element.findElement(new ByChained(By.id(&quot;beslutningsstotte-0-0&quot;), By.className(&quot;hb-hjelpetekst-knapp&quot;))).click();\r\n\r\nBut this gives this error:\r\n\r\n    org.openqa.selenium.NoSuchElementException: Cannot locate an element using By.chained({By.id: beslutningsstotte-0-0,By.className: hb-hjelpetekst-knapp})\r\n\r\nIs my `ByChained()` specification the problem?\r\n\r\nI also tried chaining all the element down to the &lt;hb-hjelpetekst-knapp&gt; element:\r\n\r\n    this.element.findElement(new ByChained(By.id(&quot;beslutningsstotte-0-0&quot;), By.className(&quot;hb-label&quot;), By.className(&quot;hb-label-tekst&quot;),\r\n            By.tagName(&quot;hb-hjelpetekst&quot;), By.className(&quot;hb-hjelpetekst&quot;), By.className(&quot;hb-hjelpetekst-knapp&quot;))).click();\r\n\r\nWhich didn&#39;t help, either.\r\n\r\nIdeas?","title":"Selenium and Java: Finding elements within elements","body":"<p>I'm having some trouble getting Selenium to find a button by it's class, within several other elements, the <em>top</em> one having an <code>id</code>.</p>\n<p>Markup:</p>\n<pre><code>&lt;li&gt;\n &lt;input data-e2e-selector=&quot;beslotningsstotte-ja&quot; class=&quot;hb-radiobutton id=&quot;beslutningsstotte-0-0&quot; value=&quot;NEI&quot;&gt;\n  &lt;div class=&quot;hb-label&gt;\n   &lt;label class=&quot;hb-label-tekst&quot; id=&quot;beslutningsstotte-0-0-NEI-label&quot; for=&quot;beslutningsstotte-0-0&quot;&gt; Nei \n    &lt;hb-hjelpetekst&gt;\n     &lt;div class=&quot;hb-hjelpetekst&quot;&gt;\n      &lt;button type=&quot;button&quot; class=&quot;hb-hjelpetekst-knapp&quot;&gt;\n       &lt;span id=&quot;bd9e3ac7-d2cb-45ee-8f2a-e2a57cec87a1-hjelptekst-knapp&quot;&gt;&lt;span translate=&quot;&quot;&gt;Åpne hjelpetekst&lt;/span&gt;&lt;/span&gt;\n        &lt;hb-ikon ikonid=&quot;hb-question-mark&quot; storrelse=&quot;&quot; id=&quot;hb-question-mark-60b067d7-978d-4a6f-ac66-e2ec402e5b78&quot; class=&quot;hb-ikon hb-ikon-- hb-ikon--hb-question-mark&quot;&gt;\n         &lt;svg focusable=&quot;false&quot;&gt;&lt;use xlink:href=&quot;assets/sprite.symbol.svg#ikon-hb-question-mark&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\n        &lt;/hb-ikon&gt;\n      &lt;/button&gt;&lt;div _ngcontent-mep-c50=&quot;&quot; role=&quot;tooltip&quot; aria-hidden=&quot;false&quot; aria-live=&quot;polite&quot; class=&quot;hb-hjelpetekst-innhold hb-hjelpetekst--utvidet-ontop&quot;&gt;&lt;div _ngcontent-mep-c50=&quot;&quot;\n</code></pre>\n<p>The element I'm trying to access is the <code>&lt;button type=&quot;button&quot; class=&quot;hb-hjelpetekst-knapp&quot;&gt;</code>, which has a  with a dynamic <code>ID</code> which cannot be used.</p>\n<p>So, I thought to give <code>ByChained()</code> a try:</p>\n<pre><code>this.element.findElement(new ByChained(By.id(&quot;beslutningsstotte-0-0&quot;), By.className(&quot;hb-hjelpetekst-knapp&quot;))).click();\n</code></pre>\n<p>But this gives this error:</p>\n<pre><code>org.openqa.selenium.NoSuchElementException: Cannot locate an element using By.chained({By.id: beslutningsstotte-0-0,By.className: hb-hjelpetekst-knapp})\n</code></pre>\n<p>Is my <code>ByChained()</code> specification the problem?</p>\n<p>I also tried chaining all the element down to the  element:</p>\n<pre><code>this.element.findElement(new ByChained(By.id(&quot;beslutningsstotte-0-0&quot;), By.className(&quot;hb-label&quot;), By.className(&quot;hb-label-tekst&quot;),\n        By.tagName(&quot;hb-hjelpetekst&quot;), By.className(&quot;hb-hjelpetekst&quot;), By.className(&quot;hb-hjelpetekst-knapp&quot;))).click();\n</code></pre>\n<p>Which didn't help, either.</p>\n<p>Ideas?</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":8428136,"reputation":434,"user_id":6324746,"display_name":"rizesky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654579222,"creation_date":1654579222,"answer_id":72526245,"question_id":72526075,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RDZIu.png\r\n\r\nas per documentation says, dont use onMessage with ConsumerRecord, because this message listener is acknowledging, it need the acknowledgement to acknowledge\r\n\r\nPlease rewrite this line \r\n\r\n    kafkaListenerEndpoint.setMethod(MyMessageListener.class.getMethod(&quot;onMessage&quot;, ConsumerRecord.class)) \r\n\r\non method \r\n\r\n    public KafkaListenerEndpoint createKafkaListenerEndpoint(String name, String topic)","title":"Error while implement AcknowledgingMessageListener&lt;String, String&gt;","body":"<p><a href=\"https://i.stack.imgur.com/RDZIu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RDZIu.png\" alt=\"enter image description here\" /></a></p>\n<p>as per documentation says, dont use onMessage with ConsumerRecord, because this message listener is acknowledging, it need the acknowledgement to acknowledge</p>\n<p>Please rewrite this line</p>\n<pre><code>kafkaListenerEndpoint.setMethod(MyMessageListener.class.getMethod(&quot;onMessage&quot;, ConsumerRecord.class)) \n</code></pre>\n<p>on method</p>\n<pre><code>public KafkaListenerEndpoint createKafkaListenerEndpoint(String name, String topic)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654607470,"creation_date":1654607470,"answer_id":72531806,"question_id":72526075,"body_markdown":"`MethodKafkaListenerEndpoint` is not intended to be used this way; it is for `@KafkaListener` methods.\r\n\r\nDo not use an endpoint at all, simply create a listener container and add your listener to its container properties.","title":"Error while implement AcknowledgingMessageListener&lt;String, String&gt;","body":"<p><code>MethodKafkaListenerEndpoint</code> is not intended to be used this way; it is for <code>@KafkaListener</code> methods.</p>\n<p>Do not use an endpoint at all, simply create a listener container and add your listener to its container properties.</p>\n"}],"owner":{"account_id":18484327,"reputation":25,"user_id":13465675,"display_name":"None for Nothing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1410,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72531806,"answer_count":2,"score":1,"last_activity_date":1654607470,"creation_date":1654577521,"question_id":72526075,"body_markdown":"I want to implement manual commit with ack mode MANUAL_IMMDEDIATE. I use AcknowledgingMessageListener class to make consumer. Its fine while application run but after consumer receive data then application got error but application still running. Error happen only after data received. Any suggest will be appreciate , Thanks\r\n\r\n``` package com.faza.example.dynamickafkaconsumer.listener;\r\n\r\nimport lombok.SneakyThrows;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\r\nimport org.springframework.kafka.config.KafkaListenerEndpoint;\r\nimport org.springframework.kafka.config.MethodKafkaListenerEndpoint;\r\nimport org.springframework.kafka.listener.AcknowledgingMessageListener;\r\nimport org.springframework.kafka.listener.MessageListener;\r\nimport org.springframework.kafka.support.Acknowledgment;\r\nimport org.springframework.lang.Nullable;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\n@Component\r\npublic class MyCustomMessageListener extends CustomMessageListener {\r\n\r\n    @Override\r\n    @SneakyThrows\r\n    public KafkaListenerEndpoint createKafkaListenerEndpoint(String name, String topic) {\r\n        MethodKafkaListenerEndpoint&lt;String, String&gt; kafkaListenerEndpoint =\r\n                createDefaultMethodKafkaListenerEndpoint(name, topic);\r\n        kafkaListenerEndpoint.setBean(new MyMessageListener());\r\n        kafkaListenerEndpoint.setMethod(MyMessageListener.class.getMethod(&quot;onMessage&quot;, ConsumerRecord.class));\r\n        return kafkaListenerEndpoint;\r\n    }\r\n\r\n    @Slf4j\r\n    private static class MyMessageListener implements AcknowledgingMessageListener&lt;String, String&gt; {\r\n\r\n        /**\r\n         * Invoked with data from kafka.\r\n         * @param acknowledgment ack \r\n         * @param data           the data to be processed.\r\n         */\r\n        @Override\r\n        public void onMessage(ConsumerRecord&lt;String, String&gt; data, Acknowledgment acknowledgment) {\r\n            log.info(&quot;My message listener got a new record: &quot; + data);\r\n            acknowledgment.acknowledge();\r\n            log.info(&quot;My message listener done processing record: &quot; + data);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nAPPLICATION LOG\r\n\r\n```\r\nCaused by: java.lang.UnsupportedOperationException: Container should never call this\r\n\tat org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(AcknowledgingMessageListener.java:44) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-5.3.13.jar:5.3.13]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-5.3.13.jar:5.3.13]\r\n\tat org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t... 11 common frames omitted\r\n\r\n2022-06-07 11:15:28.908  INFO 32664 --- [antopicPE-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-cleantopicPE-1, groupId=cleantopicPE] Seeking to offset 61 for partition consumerpe-0\r\n2022-06-07 11:15:28.909 ERROR 32664 --- [antopicPE-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : Error handler threw an exception\r\n\r\norg.springframework.kafka.KafkaException: Seek to current after exception; nested exception is org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method &#39;public default void org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(org.apache.kafka.clients.consumer.ConsumerRecord&lt;K, V&gt;)&#39; threw exception; nested exception is java.lang.UnsupportedOperationException: Container should never call this; nested exception is java.lang.UnsupportedOperationException: Container should never call this\r\n\tat org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:208) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.DefaultErrorHandler.handleRemaining(DefaultErrorHandler.java:133) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeErrorHandler(KafkaMessageListenerContainer.java:2682) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2563) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\nCaused by: org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method &#39;public default void org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(org.apache.kafka.clients.consumer.ConsumerRecord&lt;K, V&gt;)&#39; threw exception; nested exception is java.lang.UnsupportedOperationException: Container should never call this; nested exception is java.lang.UnsupportedOperationException: Container should never call this\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:2695) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2665) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t... 9 common frames omitted\r\n\tSuppressed: org.springframework.kafka.listener.ListenerExecutionFailedException: Restored Stack Trace\r\n\t\tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:363) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\r\nCaused by: java.lang.UnsupportedOperationException: Container should never call this\r\n\tat org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(AcknowledgingMessageListener.java:44) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-5.3.13.jar:5.3.13]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-5.3.13.jar:5.3.13]\r\n\tat org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t... 11 common frames omitted\r\n\r\n2022-06-07 11:15:29.450  INFO 32664 --- [antopicPE-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-cleantopicPE-1, groupId=cleantopicPE] Seeking to offset 61 for partition consumerpe-0\r\n2022-06-07 11:15:29.452 ERROR 32664 --- [antopicPE-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : Error handler threw an exception\r\n\r\norg.springframework.kafka.KafkaException: Seek to current after exception; nested exception is org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method &#39;public default void org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(org.apache.kafka.clients.consumer.ConsumerRecord&lt;K, V&gt;)&#39; threw exception; nested exception is java.lang.UnsupportedOperationException: Container should never call this; nested exception is java.lang.UnsupportedOperationException: Container should never call this\r\n\tat org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:208) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.DefaultErrorHandler.handleRemaining(DefaultErrorHandler.java:133) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeErrorHandler(KafkaMessageListenerContainer.java:2682) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2563) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\nCaused by: org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method &#39;public default void org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(org.apache.kafka.clients.consumer.ConsumerRecord&lt;K, V&gt;)&#39; threw exception; nested exception is java.lang.UnsupportedOperationException: Container should never call this; nested exception is java.lang.UnsupportedOperationException: Container should never call this\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:2695) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2665) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t... 9 common frames omitted\r\n\tSuppressed: org.springframework.kafka.listener.ListenerExecutionFailedException: Restored Stack Trace\r\n\t\tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:363) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\r\nCaused by: java.lang.UnsupportedOperationException: Container should never call this\r\n\tat org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(AcknowledgingMessageListener.java:44) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-5.3.13.jar:5.3.13]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-5.3.13.jar:5.3.13]\r\n\tat org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t... 11 common frames omitted\r\n\r\n2022-06-07 11:15:30.039  INFO 32664 --- [antopicPE-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-cleantopicPE-1, groupId=cleantopicPE] Seeking to offset 61 for partition consumerpe-0\r\n2022-06-07 11:15:30.041 ERROR 32664 --- [antopicPE-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : Error handler threw an exception\r\n\r\norg.springframework.kafka.KafkaException: Seek to current after exception; nested exception is org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method &#39;public default void org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(org.apache.kafka.clients.consumer.ConsumerRecord&lt;K, V&gt;)&#39; threw exception; nested exception is java.lang.UnsupportedOperationException: Container should never call this; nested exception is java.lang.UnsupportedOperationException: Container should never call this\r\n\tat org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:208) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.DefaultErrorHandler.handleRemaining(DefaultErrorHandler.java:133) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeErrorHandler(KafkaMessageListenerContainer.java:2682) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2563) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\nCaused by: org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method &#39;public default void org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(org.apache.kafka.clients.consumer.ConsumerRecord&lt;K, V&gt;)&#39; threw exception; nested exception is java.lang.UnsupportedOperationException: Container should never call this; nested exception is java.lang.UnsupportedOperationException: Container should never call this\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:2695) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2665) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t... 9 common frames omitted\r\n\tSuppressed: org.springframework.kafka.listener.ListenerExecutionFailedException: Restored Stack Trace\r\n\t\tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:363) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\r\nCaused by: java.lang.UnsupportedOperationException: Container should never call this\r\n\tat org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(AcknowledgingMessageListener.java:44) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-5.3.13.jar:5.3.13]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-5.3.13.jar:5.3.13]\r\n\tat org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t... 11 common frames omitted\r\n\r\n2022-06-07 11:15:30.710 ERROR 32664 --- [antopicPE-0-C-1] o.s.kafka.listener.DefaultErrorHandler   : Backoff FixedBackOff{interval=0, currentAttempts=10, maxAttempts=9} exhausted for consumerpe-0@61\r\n\r\norg.springframework.kafka.listener.ListenerExecutionFailedException: Listener method &#39;public default void org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(org.apache.kafka.clients.consumer.ConsumerRecord&lt;K, V&gt;)&#39; threw exception; nested exception is java.lang.UnsupportedOperationException: Container should never call this; nested exception is java.lang.UnsupportedOperationException: Container should never call this\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:2695) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2665) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\tSuppressed: org.springframework.kafka.listener.ListenerExecutionFailedException: Restored Stack Trace\r\n\t\tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:363) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\r\nCaused by: java.lang.UnsupportedOperationException: Container should never call this\r\n\tat org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(AcknowledgingMessageListener.java:44) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-5.3.13.jar:5.3.13]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-5.3.13.jar:5.3.13]\r\n\tat org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\r\n\t... 11 common frames omitted\r\n```\r\n\r\n\r\n","title":"Error while implement AcknowledgingMessageListener&lt;String, String&gt;","body":"<p>I want to implement manual commit with ack mode MANUAL_IMMDEDIATE. I use AcknowledgingMessageListener class to make consumer. Its fine while application run but after consumer receive data then application got error but application still running. Error happen only after data received. Any suggest will be appreciate , Thanks</p>\n<pre><code>\nimport lombok.SneakyThrows;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.springframework.kafka.config.KafkaListenerEndpoint;\nimport org.springframework.kafka.config.MethodKafkaListenerEndpoint;\nimport org.springframework.kafka.listener.AcknowledgingMessageListener;\nimport org.springframework.kafka.listener.MessageListener;\nimport org.springframework.kafka.support.Acknowledgment;\nimport org.springframework.lang.Nullable;\nimport org.springframework.stereotype.Component;\n\nimport java.util.concurrent.CompletableFuture;\n\n@Component\npublic class MyCustomMessageListener extends CustomMessageListener {\n\n    @Override\n    @SneakyThrows\n    public KafkaListenerEndpoint createKafkaListenerEndpoint(String name, String topic) {\n        MethodKafkaListenerEndpoint&lt;String, String&gt; kafkaListenerEndpoint =\n                createDefaultMethodKafkaListenerEndpoint(name, topic);\n        kafkaListenerEndpoint.setBean(new MyMessageListener());\n        kafkaListenerEndpoint.setMethod(MyMessageListener.class.getMethod(&quot;onMessage&quot;, ConsumerRecord.class));\n        return kafkaListenerEndpoint;\n    }\n\n    @Slf4j\n    private static class MyMessageListener implements AcknowledgingMessageListener&lt;String, String&gt; {\n\n        /**\n         * Invoked with data from kafka.\n         * @param acknowledgment ack \n         * @param data           the data to be processed.\n         */\n        @Override\n        public void onMessage(ConsumerRecord&lt;String, String&gt; data, Acknowledgment acknowledgment) {\n            log.info(&quot;My message listener got a new record: &quot; + data);\n            acknowledgment.acknowledge();\n            log.info(&quot;My message listener done processing record: &quot; + data);\n        }\n\n    }\n\n}\n</code></pre>\n<p>APPLICATION LOG</p>\n<pre><code>Caused by: java.lang.UnsupportedOperationException: Container should never call this\n    at org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(AcknowledgingMessageListener.java:44) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-5.3.13.jar:5.3.13]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-5.3.13.jar:5.3.13]\n    at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\n    ... 11 common frames omitted\n\n2022-06-07 11:15:28.908  INFO 32664 --- [antopicPE-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-cleantopicPE-1, groupId=cleantopicPE] Seeking to offset 61 for partition consumerpe-0\n2022-06-07 11:15:28.909 ERROR 32664 --- [antopicPE-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : Error handler threw an exception\n\norg.springframework.kafka.KafkaException: Seek to current after exception; nested exception is org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method 'public default void org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(org.apache.kafka.clients.consumer.ConsumerRecord&lt;K, V&gt;)' threw exception; nested exception is java.lang.UnsupportedOperationException: Container should never call this; nested exception is java.lang.UnsupportedOperationException: Container should never call this\n    at org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:208) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.DefaultErrorHandler.handleRemaining(DefaultErrorHandler.java:133) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeErrorHandler(KafkaMessageListenerContainer.java:2682) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2563) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\nCaused by: org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method 'public default void org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(org.apache.kafka.clients.consumer.ConsumerRecord&lt;K, V&gt;)' threw exception; nested exception is java.lang.UnsupportedOperationException: Container should never call this; nested exception is java.lang.UnsupportedOperationException: Container should never call this\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:2695) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2665) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552) ~[spring-kafka-2.8.6.jar:2.8.6]\n    ... 9 common frames omitted\n    Suppressed: org.springframework.kafka.listener.ListenerExecutionFailedException: Restored Stack Trace\n        at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:363) ~[spring-kafka-2.8.6.jar:2.8.6]\n        at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\n        at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\nCaused by: java.lang.UnsupportedOperationException: Container should never call this\n    at org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(AcknowledgingMessageListener.java:44) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-5.3.13.jar:5.3.13]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-5.3.13.jar:5.3.13]\n    at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\n    ... 11 common frames omitted\n\n2022-06-07 11:15:29.450  INFO 32664 --- [antopicPE-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-cleantopicPE-1, groupId=cleantopicPE] Seeking to offset 61 for partition consumerpe-0\n2022-06-07 11:15:29.452 ERROR 32664 --- [antopicPE-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : Error handler threw an exception\n\norg.springframework.kafka.KafkaException: Seek to current after exception; nested exception is org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method 'public default void org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(org.apache.kafka.clients.consumer.ConsumerRecord&lt;K, V&gt;)' threw exception; nested exception is java.lang.UnsupportedOperationException: Container should never call this; nested exception is java.lang.UnsupportedOperationException: Container should never call this\n    at org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:208) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.DefaultErrorHandler.handleRemaining(DefaultErrorHandler.java:133) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeErrorHandler(KafkaMessageListenerContainer.java:2682) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2563) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\nCaused by: org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method 'public default void org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(org.apache.kafka.clients.consumer.ConsumerRecord&lt;K, V&gt;)' threw exception; nested exception is java.lang.UnsupportedOperationException: Container should never call this; nested exception is java.lang.UnsupportedOperationException: Container should never call this\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:2695) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2665) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552) ~[spring-kafka-2.8.6.jar:2.8.6]\n    ... 9 common frames omitted\n    Suppressed: org.springframework.kafka.listener.ListenerExecutionFailedException: Restored Stack Trace\n        at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:363) ~[spring-kafka-2.8.6.jar:2.8.6]\n        at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\n        at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\nCaused by: java.lang.UnsupportedOperationException: Container should never call this\n    at org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(AcknowledgingMessageListener.java:44) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-5.3.13.jar:5.3.13]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-5.3.13.jar:5.3.13]\n    at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\n    ... 11 common frames omitted\n\n2022-06-07 11:15:30.039  INFO 32664 --- [antopicPE-0-C-1] o.a.k.clients.consumer.KafkaConsumer     : [Consumer clientId=consumer-cleantopicPE-1, groupId=cleantopicPE] Seeking to offset 61 for partition consumerpe-0\n2022-06-07 11:15:30.041 ERROR 32664 --- [antopicPE-0-C-1] o.s.k.l.KafkaMessageListenerContainer    : Error handler threw an exception\n\norg.springframework.kafka.KafkaException: Seek to current after exception; nested exception is org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method 'public default void org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(org.apache.kafka.clients.consumer.ConsumerRecord&lt;K, V&gt;)' threw exception; nested exception is java.lang.UnsupportedOperationException: Container should never call this; nested exception is java.lang.UnsupportedOperationException: Container should never call this\n    at org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:208) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.DefaultErrorHandler.handleRemaining(DefaultErrorHandler.java:133) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeErrorHandler(KafkaMessageListenerContainer.java:2682) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2563) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\nCaused by: org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method 'public default void org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(org.apache.kafka.clients.consumer.ConsumerRecord&lt;K, V&gt;)' threw exception; nested exception is java.lang.UnsupportedOperationException: Container should never call this; nested exception is java.lang.UnsupportedOperationException: Container should never call this\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:2695) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2665) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552) ~[spring-kafka-2.8.6.jar:2.8.6]\n    ... 9 common frames omitted\n    Suppressed: org.springframework.kafka.listener.ListenerExecutionFailedException: Restored Stack Trace\n        at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:363) ~[spring-kafka-2.8.6.jar:2.8.6]\n        at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\n        at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\nCaused by: java.lang.UnsupportedOperationException: Container should never call this\n    at org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(AcknowledgingMessageListener.java:44) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-5.3.13.jar:5.3.13]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-5.3.13.jar:5.3.13]\n    at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\n    ... 11 common frames omitted\n\n2022-06-07 11:15:30.710 ERROR 32664 --- [antopicPE-0-C-1] o.s.kafka.listener.DefaultErrorHandler   : Backoff FixedBackOff{interval=0, currentAttempts=10, maxAttempts=9} exhausted for consumerpe-0@61\n\norg.springframework.kafka.listener.ListenerExecutionFailedException: Listener method 'public default void org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(org.apache.kafka.clients.consumer.ConsumerRecord&lt;K, V&gt;)' threw exception; nested exception is java.lang.UnsupportedOperationException: Container should never call this; nested exception is java.lang.UnsupportedOperationException: Container should never call this\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.decorateException(KafkaMessageListenerContainer.java:2695) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2665) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2625) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2552) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2433) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2311) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:1982) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1366) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1357) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1252) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n    Suppressed: org.springframework.kafka.listener.ListenerExecutionFailedException: Restored Stack Trace\n        at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:363) ~[spring-kafka-2.8.6.jar:2.8.6]\n        at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\n        at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\nCaused by: java.lang.UnsupportedOperationException: Container should never call this\n    at org.springframework.kafka.listener.AcknowledgingMessageListener.onMessage(AcknowledgingMessageListener.java:44) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at jdk.internal.reflect.GeneratedMethodAccessor35.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-5.3.13.jar:5.3.13]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-5.3.13.jar:5.3.13]\n    at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:56) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:347) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:92) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:53) ~[spring-kafka-2.8.6.jar:2.8.6]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2645) ~[spring-kafka-2.8.6.jar:2.8.6]\n    ... 11 common frames omitted\n</code></pre>\n"},{"tags":["java","android-studio","kotlin","rx-java","rx-android"],"answers":[{"tags":[],"owner":{"account_id":21927811,"reputation":1228,"user_id":16210149,"display_name":"Anatolii Chub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654606094,"creation_date":1654606094,"answer_id":72531504,"question_id":72505921,"body_markdown":"I believe that you need to use `SingleObserver&lt;String&gt;` instead of `SingleObserver&lt;Single&lt;String&gt;&gt;` as an argument for the `subscribe` method.","title":"Single&lt;String&gt; at rxjava","body":"<p>I believe that you need to use <code>SingleObserver&lt;String&gt;</code> instead of <code>SingleObserver&lt;Single&lt;String&gt;&gt;</code> as an argument for the <code>subscribe</code> method.</p>\n"}],"owner":{"account_id":25335310,"reputation":11,"user_id":19154544,"display_name":"mrp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654606094,"creation_date":1654418609,"question_id":72505921,"body_markdown":"I want to get an output string from the server with the help of RXJava  and RetroFit Reader, but RXJava does not accept the string!\r\n\r\nfile api:\r\n\r\n    interface Api { \r\n        @POST(&quot;registerNumber.php&quot;)\r\n        fun registerNumber(@Query(&quot;phoneNumber&quot;) number:String) : Single&lt;String&gt; }\r\n    \r\n\r\nerror :\r\n\r\n[enter image description here][1]\r\n\r\nThank you for your help\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w8Ccx.png","title":"Single&lt;String&gt; at rxjava","body":"<p>I want to get an output string from the server with the help of RXJava  and RetroFit Reader, but RXJava does not accept the string!</p>\n<p>file api:</p>\n<pre><code>interface Api { \n    @POST(&quot;registerNumber.php&quot;)\n    fun registerNumber(@Query(&quot;phoneNumber&quot;) number:String) : Single&lt;String&gt; }\n</code></pre>\n<p>error :</p>\n<p><a href=\"https://i.stack.imgur.com/w8Ccx.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Thank you for your help</p>\n"},{"tags":["java","json","spring-rest"],"comments":[{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafał Sokalski"},"score":0,"creation_date":1654604588,"post_id":72531086,"comment_id":128125853,"body_markdown":"What about creating parent class like JsonType with &quot;type&quot; field and when you inherit that in DatasetInfo you call parent constructor with the current type","body":"What about creating parent class like JsonType with &quot;type&quot; field and when you inherit that in DatasetInfo you call parent constructor with the current type"},{"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"score":0,"creation_date":1654604874,"post_id":72531086,"comment_id":128125955,"body_markdown":"@RafałSokalski, I&#39;ve already written that this is the first thing coming to my mind, but it&#39;s not ideal, I&#39;d like to avoid it and prefer some annotation-based solution, or, even better, some settings (like custom JSON serialiser). These other options are easier to manage and they don&#39;t need to touch (too much) third-party target classes.","body":"@RafałSokalski, I&#39;ve already written that this is the first thing coming to my mind, but it&#39;s not ideal, I&#39;d like to avoid it and prefer some annotation-based solution, or, even better, some settings (like custom JSON serialiser). These other options are easier to manage and they don&#39;t need to touch (too much) third-party target classes."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654605855,"creation_date":1654605121,"answer_id":72531314,"question_id":72531086,"body_markdown":"I am sure there is a question about this somewhere, but i can&#39;t find it. You are looking for this annotation - [JsonTypeInfo][1].\r\n\r\n&gt; Annotation used for configuring details of if and how type information is used with JSON serialization and deserialization, to preserve information about actual class of Object instances. This is necessarily for polymorphic types, and may also be needed to link abstract declared types and matching concrete implementation.\r\n\r\n**Example usage**\r\n```\r\npackage temp;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\r\n\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, property = &quot;@whatever_property_you_desire&quot;)\r\npublic class DatasetInfo {\r\n\r\n  private String name;\r\n\r\n  //getters and setters\r\n}\r\n```\r\n`property` specifies the name of the property, `use = JsonTypeInfo.Id.CLASS` specifies that the fully qualified name will be used as type identifier.\r\n\r\n**Test**\r\n```\r\npublic class Temp {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    DatasetInfo info = new DatasetInfo();\r\n    info.setName(&quot;test&quot;);\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    String json = mapper.writeValueAsString(info);\r\n    System.out.println(json);\r\n  }\r\n}\r\n```\r\nDatasetInfo will be serialized as:\r\n```\r\n{\r\n  &quot;@whatever_property_you_desire&quot;: &quot;temp.DatasetInfo&quot;,\r\n  &quot;name&quot;: &quot;test&quot;\r\n}\r\n```\r\n\r\n**Edit:** Since you seem to want the property to be named `@type` and to use simple class name, you can simplify to\r\n```\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME)\r\n```\r\n`Id.NAME` serializes type info as simple class name, and default property name for it is `@type`.\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html","title":"Spring REST any way to set the JSON type field automatically?","body":"<p>I am sure there is a question about this somewhere, but i can't find it. You are looking for this annotation - <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html\" rel=\"nofollow noreferrer\">JsonTypeInfo</a>.</p>\n<blockquote>\n<p>Annotation used for configuring details of if and how type information is used with JSON serialization and deserialization, to preserve information about actual class of Object instances. This is necessarily for polymorphic types, and may also be needed to link abstract declared types and matching concrete implementation.</p>\n</blockquote>\n<p><strong>Example usage</strong></p>\n<pre><code>package temp;\n\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\n\n@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS, property = &quot;@whatever_property_you_desire&quot;)\npublic class DatasetInfo {\n\n  private String name;\n\n  //getters and setters\n}\n</code></pre>\n<p><code>property</code> specifies the name of the property, <code>use = JsonTypeInfo.Id.CLASS</code> specifies that the fully qualified name will be used as type identifier.</p>\n<p><strong>Test</strong></p>\n<pre><code>public class Temp {\n\n  public static void main(String[] args) throws Exception {\n    DatasetInfo info = new DatasetInfo();\n    info.setName(&quot;test&quot;);\n    ObjectMapper mapper = new ObjectMapper();\n    String json = mapper.writeValueAsString(info);\n    System.out.println(json);\n  }\n}\n</code></pre>\n<p>DatasetInfo will be serialized as:</p>\n<pre><code>{\n  &quot;@whatever_property_you_desire&quot;: &quot;temp.DatasetInfo&quot;,\n  &quot;name&quot;: &quot;test&quot;\n}\n</code></pre>\n<p><strong>Edit:</strong> Since you seem to want the property to be named <code>@type</code> and to use simple class name, you can simplify to</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME)\n</code></pre>\n<p><code>Id.NAME</code> serializes type info as simple class name, and default property name for it is <code>@type</code>.</p>\n"},{"tags":[],"owner":{"account_id":1885290,"reputation":3234,"user_id":1704634,"display_name":"blagerweij"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654606041,"creation_date":1654606041,"answer_id":72531492,"question_id":72531086,"body_markdown":"Did you look at annotating your classes with [`@JsonTypeInfo`](https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html) ? You could even make this available as a marker interface:\r\n\r\n```\r\n@JsonTypeInfo(use=JsonTypeInfo.Id.MINIMAL_CLASS, property=&quot;type&quot;)\r\npublic interface JsonTyped {\r\n}\r\n```\r\n\r\nThen your response classes can implement this marker interface in case you want them to include the basic class name.\r\n```\r\npublic class DataSetInto implements JsonTyped {\r\n...\r\n}\r\n```","title":"Spring REST any way to set the JSON type field automatically?","body":"<p>Did you look at annotating your classes with <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html\" rel=\"nofollow noreferrer\"><code>@JsonTypeInfo</code></a> ? You could even make this available as a marker interface:</p>\n<pre><code>@JsonTypeInfo(use=JsonTypeInfo.Id.MINIMAL_CLASS, property=&quot;type&quot;)\npublic interface JsonTyped {\n}\n</code></pre>\n<p>Then your response classes can implement this marker interface in case you want them to include the basic class name.</p>\n<pre><code>public class DataSetInto implements JsonTyped {\n...\n}\n</code></pre>\n"}],"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72531314,"answer_count":2,"score":0,"last_activity_date":1654606041,"creation_date":1654604127,"question_id":72531086,"body_markdown":"I&#39;m using Spring 5.3.20 to build a REST/JSON API, which is based on automatic mapping of Java POJOs to JSON objects. For instance:\r\n\r\n```java\r\n@RestController\r\n@RequestMapping ( path = &quot;/{ds}/dataset-info&quot;, method = { RequestMethod.GET, RequestMethod.POST }  )\r\n@CrossOrigin\r\npublic class DatasetInfoService\r\n{\r\n\t@RequestMapping ( path = &quot;&quot; )\r\n\tpublic DatasetInfo datasetInfo ()\r\n\t{\r\n\t\t// TODO: mockup data that need to be replaced with a real fetch from config\r\n\t\treturn new DatasetInfo () {\r\n\t\t\t{\r\n\t\t\t\tthis.setTitle ( &quot;AraTiny Dataset&quot; );\r\n\t\t\t\tthis.setOrganization ( &quot;Rothamsted Research&quot; );\r\n\t\t\t\tthis.setSpecies ( List.of (\r\n\t\t\t\t\tnew SpecieInfo ( &quot;3702&quot;, &quot;Thale cress&quot;, &quot;Arabidopsis Thaliana&quot; ),\r\n\t\t\t\t\tnew SpecieInfo ( &quot;4565&quot;, &quot;Bread Wheat&quot;, &quot;Triticum aestivum&quot; ),\r\n\t\t\t\t\tnew SpecieInfo ( &quot;4577&quot;, &quot;Maize&quot;, &quot;Zea mays&quot; ) \r\n\t\t\t\t));\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n...\r\n}\r\n```\r\n\r\nThis returns what expected, something like:\r\n\r\n```json\r\n{\r\n    &quot;title&quot;: &quot;AraTiny Dataset&quot;,\r\n    &quot;organization&quot;: &quot;Rothamsted Research&quot;,\r\n    &quot;species&quot;: [\r\n        {\r\n            &quot;taxId&quot;: &quot;3702&quot;,\r\n            &quot;commonName&quot;: &quot;Thale cress&quot;,\r\n            &quot;scientificName&quot;: &quot;Arabidopsis Thaliana&quot;\r\n        },\r\n...\r\n}\r\n```\r\n\r\nNow, my question is: I&#39;d like to add something like `&quot;@type&quot;: &quot;DatasetInfo&quot;` at the root level of every JSON object, and I&#39;d like to do it automatically. The value could be taken from the class name, so, in principle, it is automatable.  \r\n\r\nIs there a simple way to do it in Spring? Like, setting a flag? Or setting a decorator for a JSON serialiser?  \r\n\r\nThe intuitive solution would be defining `getType()` for each POJO class (or, as suggested in a comment, in a root class), but I don&#39;t think that&#39;s the most seamless one, some kind of annotation (eg, `@JsonType`) would already be better, and it would be great if some helper like that already exists, so I don&#39;t need to implement one on my own.","title":"Spring REST any way to set the JSON type field automatically?","body":"<p>I'm using Spring 5.3.20 to build a REST/JSON API, which is based on automatic mapping of Java POJOs to JSON objects. For instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping ( path = &quot;/{ds}/dataset-info&quot;, method = { RequestMethod.GET, RequestMethod.POST }  )\n@CrossOrigin\npublic class DatasetInfoService\n{\n    @RequestMapping ( path = &quot;&quot; )\n    public DatasetInfo datasetInfo ()\n    {\n        // TODO: mockup data that need to be replaced with a real fetch from config\n        return new DatasetInfo () {\n            {\n                this.setTitle ( &quot;AraTiny Dataset&quot; );\n                this.setOrganization ( &quot;Rothamsted Research&quot; );\n                this.setSpecies ( List.of (\n                    new SpecieInfo ( &quot;3702&quot;, &quot;Thale cress&quot;, &quot;Arabidopsis Thaliana&quot; ),\n                    new SpecieInfo ( &quot;4565&quot;, &quot;Bread Wheat&quot;, &quot;Triticum aestivum&quot; ),\n                    new SpecieInfo ( &quot;4577&quot;, &quot;Maize&quot;, &quot;Zea mays&quot; ) \n                ));\n            }\n        };\n    }\n...\n}\n</code></pre>\n<p>This returns what expected, something like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;title&quot;: &quot;AraTiny Dataset&quot;,\n    &quot;organization&quot;: &quot;Rothamsted Research&quot;,\n    &quot;species&quot;: [\n        {\n            &quot;taxId&quot;: &quot;3702&quot;,\n            &quot;commonName&quot;: &quot;Thale cress&quot;,\n            &quot;scientificName&quot;: &quot;Arabidopsis Thaliana&quot;\n        },\n...\n}\n</code></pre>\n<p>Now, my question is: I'd like to add something like <code>&quot;@type&quot;: &quot;DatasetInfo&quot;</code> at the root level of every JSON object, and I'd like to do it automatically. The value could be taken from the class name, so, in principle, it is automatable.</p>\n<p>Is there a simple way to do it in Spring? Like, setting a flag? Or setting a decorator for a JSON serialiser?</p>\n<p>The intuitive solution would be defining <code>getType()</code> for each POJO class (or, as suggested in a comment, in a root class), but I don't think that's the most seamless one, some kind of annotation (eg, <code>@JsonType</code>) would already be better, and it would be great if some helper like that already exists, so I don't need to implement one on my own.</p>\n"},{"tags":["java","testcontainers"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1654606327,"post_id":72531329,"comment_id":128126543,"body_markdown":"The `sharedKafkaContainer.waitingFor(Wait.forListeningPort())` actually does not change anything as it actually resets the default value.","body":"The <code>sharedKafkaContainer.waitingFor(Wait.forListeningPort())</code> actually does not change anything as it actually resets the default value."}],"answers":[{"tags":[],"owner":{"account_id":3302687,"reputation":3037,"user_id":2778422,"display_name":"zaerymoghaddam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654605970,"creation_date":1654605970,"answer_id":72531477,"question_id":72531329,"body_markdown":"They&#39;re same. The `waitingFor` method allows you to pass your custom implementation of the `WaitStrategy` interface which can check for any arbitrary condition to see if given container is up or not. The `Wait.forListeningPort` returns an instance of `HostPortWaitStrategy` which is one implementation of the `WaitStrategy`, checking for a specific port to be available and consider that as a criteria to mark a container as ready. ","title":"TestContainer what is the difference between withStartupTimeout and waitingFor(Wait.forListeningPort())?","body":"<p>They're same. The <code>waitingFor</code> method allows you to pass your custom implementation of the <code>WaitStrategy</code> interface which can check for any arbitrary condition to see if given container is up or not. The <code>Wait.forListeningPort</code> returns an instance of <code>HostPortWaitStrategy</code> which is one implementation of the <code>WaitStrategy</code>, checking for a specific port to be available and consider that as a criteria to mark a container as ready.</p>\n"}],"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":784,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72531477,"answer_count":1,"score":4,"last_activity_date":1654605970,"creation_date":1654605214,"question_id":72531329,"body_markdown":"TestContainers [doc][1] states\r\n\r\n&gt; Ordinarily Testcontainers will wait for up to 60 seconds for the\r\n&gt; container&#39;s first mapped network port to start listening.\r\n&gt; \r\n&gt; This simple measure provides a basic check whether a container is\r\n&gt; ready for use.\r\n\r\nIf I am starting my container like below\r\n\r\n```\r\nvar sharedKafkaContainer = new KafkaContainer(DockerImageName.parse(DOCKER_KAFKA_IMAGE_NAME));\r\nsharedKafkaContainer.withStartupTimeout(Duration.of(3, ChronoUnit.MINUTES));\r\n```\r\n\r\nThen the container will wait for 3 mins for the exposed or mapped port to start listening.\r\n\r\nThe below code is a succinct representation of the above and there is no difference between `withStartupTimeout` and `waitingFor(Wait.forListeningPort())` Is my understanding correct?\r\n\r\n```\r\nvar sharedKafkaContainer = new KafkaContainer(DockerImageName.parse(DOCKER_KAFKA_IMAGE_NAME));\r\nsharedKafkaContainer.withStartupTimeout(Duration.of(3, ChronoUnit.MINUTES));\r\nsharedKafkaContainer.waitingFor(Wait.forListeningPort()).start()\r\n```\r\n\r\n  [1]: https://www.testcontainers.org/features/startup_and_waits/","title":"TestContainer what is the difference between withStartupTimeout and waitingFor(Wait.forListeningPort())?","body":"<p>TestContainers <a href=\"https://www.testcontainers.org/features/startup_and_waits/\" rel=\"nofollow noreferrer\">doc</a> states</p>\n<blockquote>\n<p>Ordinarily Testcontainers will wait for up to 60 seconds for the\ncontainer's first mapped network port to start listening.</p>\n<p>This simple measure provides a basic check whether a container is\nready for use.</p>\n</blockquote>\n<p>If I am starting my container like below</p>\n<pre><code>var sharedKafkaContainer = new KafkaContainer(DockerImageName.parse(DOCKER_KAFKA_IMAGE_NAME));\nsharedKafkaContainer.withStartupTimeout(Duration.of(3, ChronoUnit.MINUTES));\n</code></pre>\n<p>Then the container will wait for 3 mins for the exposed or mapped port to start listening.</p>\n<p>The below code is a succinct representation of the above and there is no difference between <code>withStartupTimeout</code> and <code>waitingFor(Wait.forListeningPort())</code> Is my understanding correct?</p>\n<pre><code>var sharedKafkaContainer = new KafkaContainer(DockerImageName.parse(DOCKER_KAFKA_IMAGE_NAME));\nsharedKafkaContainer.withStartupTimeout(Duration.of(3, ChronoUnit.MINUTES));\nsharedKafkaContainer.waitingFor(Wait.forListeningPort()).start()\n</code></pre>\n"},{"tags":["java","maven","java-native-interface","native","maven-install-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654589693,"post_id":72521873,"comment_id":128120435,"body_markdown":"The name of artifacts in a repository is generated out of artifactId... and no there is no possibility to change that ... if you like to change that you have to change the `artifactId`...","body":"The name of artifacts in a repository is generated out of artifactId... and no there is no possibility to change that ... if you like to change that you have to change the <code>artifactId</code>..."},{"owner":{"account_id":15791969,"reputation":661,"user_id":11394968,"display_name":"Corentor"},"score":0,"creation_date":1654602844,"post_id":72521873,"comment_id":128125141,"body_markdown":"@khmarbaise, Thank you for your answer. It is clear. So I understand that if one has got the freedom to choose (or change) the artifactId, it&#39;s better to have it prefixed with &quot;lib&quot; when it relies on native libraries, in order to avoid the issues mentioned above. Unfortunately, your answer is a comment, so I am not sure how I can mark it as an accepted answer.","body":"@khmarbaise, Thank you for your answer. It is clear. So I understand that if one has got the freedom to choose (or change) the artifactId, it&#39;s better to have it prefixed with &quot;lib&quot; when it relies on native libraries, in order to avoid the issues mentioned above. Unfortunately, your answer is a comment, so I am not sure how I can mark it as an accepted answer."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1654605950,"post_id":72521873,"comment_id":128126398,"body_markdown":"Added as answer. Furthermore you can create a kind of installation/setup for the result which contains the renaming/naming into correct way... I could think of a setup created by maven-assembly-plugin or appassembler-maven-plugin","body":"Added as answer. Furthermore you can create a kind of installation/setup for the result which contains the renaming/naming into correct way... I could think of a setup created by maven-assembly-plugin or appassembler-maven-plugin"}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654605923,"creation_date":1654605923,"answer_id":72531468,"question_id":72521873,"body_markdown":"The name of artifacts in a repository is generated out of `artifactId` and no there is no possibility to change that. If you like or need to change thatyou have to change the `artifactId`.\r\n\r\nFor running that on a particular platform I would create a kind of installation package which contains the correctly named artifacts.","title":"Why does Maven trim the &quot;lib&quot; prefix when installing native libraries when Java expects this convention for linking?","body":"<p>The name of artifacts in a repository is generated out of <code>artifactId</code> and no there is no possibility to change that. If you like or need to change thatyou have to change the <code>artifactId</code>.</p>\n<p>For running that on a particular platform I would create a kind of installation package which contains the correctly named artifacts.</p>\n"}],"owner":{"account_id":15791969,"reputation":661,"user_id":11394968,"display_name":"Corentor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72531468,"answer_count":1,"score":2,"last_activity_date":1654605923,"creation_date":1654539322,"question_id":72521873,"body_markdown":"I have been reviving two projects lately involving JNI-based (Java with native libraries) code. The build system is legacy (Makefile based, not Maven or Gradle), but that&#39;s ok given the age of the projects (their inception predates Maven), and because some significant parts of the code are not written in Java.\r\n\r\nThere is no plan for replacing the Makefile (or configure) scripts with Maven or Gradle configuration scripts (the build systems I inherited work fine, and would probably not been made simpler with other tools, given the fact that the softwares are not pure Java).\r\n\r\nHowever, deploying the jars (even built with another tool) in the Maven repo is straightforward with the Maven installation plugin, and makes their use by third party code much simpler, so I went this way.\r\n\r\nI can make everything work, but I have been unable to figure out why Maven (or more specifically, the Maven install plugin) behaves like it does, that seems to make things more complex than they need to be. Most probably, my understanding of Maven&#39;s behaviour or of the Java linking system is lacking.\r\n\r\nHere is the issue: for installing a jar and its native library, one can use the following commands.\r\n\r\n```\r\nmvn install:install-file -Dfile=$(jarFile) -DgroupId=$(groupId) -DartifactId=$(artifactId) -Dversion=$(libraryVersion) -Dpackaging=jar\r\n\r\nmvn install:install-file -Dfile=$(nativeLibraryFile) -DgroupId=$(groupId) -DartifactId=$(artifactId) -Dversion=$(libraryVersion) -Dpackaging=$(soExtension)\r\n```\r\n\r\nHere soExtension can be `dll`, `so`, `dylib` depending on the operating system.\r\nThe two files end up in the same location of the Maven local repository, namely `.m2/repository/groupId/artifactId/versionId`\r\n\r\nHowever, I observed that the native library, initially called, say `libmylibrary.so`, was systematically renamed by Maven `mylibrary.so` in the repository. As a consequence, even when java is given the proper library path (the `-Djava.library.path` option), it issues a link error because it cannot find the right library name (it does expect the &quot;lib&quot; prefix, at least in my available implementations).\r\n\r\nThe link error can be solved by several means:\r\n- by renaming the file (trimmed by Maven) back to its correct name\r\n- by creating a link afterwards (on systems that support links).\r\n\r\nThe two previous solutions are a rather clumsy way to go, because they assume a knowledge of the internals of the Maven repository (going against the encapsulation principle).\r\n- another solution is not to rely on Maven, and to install native libraries under the system directories where dynamic libraries are usually expected (LD_LIBRARY_PATH or equivalent). It has been my solution of choice as a last resort, but I find it rather fragile and harder to maintain, since both files (the jar and the native library) are now separated in two different locations. It also makes the uninstallation of the package more difficult.\r\n\r\nDoes anyone know why the Maven installation system behave the way it does? And if there is a workaround for it?\r\n\r\nThank you\r\n\r\n\r\n","title":"Why does Maven trim the &quot;lib&quot; prefix when installing native libraries when Java expects this convention for linking?","body":"<p>I have been reviving two projects lately involving JNI-based (Java with native libraries) code. The build system is legacy (Makefile based, not Maven or Gradle), but that's ok given the age of the projects (their inception predates Maven), and because some significant parts of the code are not written in Java.</p>\n<p>There is no plan for replacing the Makefile (or configure) scripts with Maven or Gradle configuration scripts (the build systems I inherited work fine, and would probably not been made simpler with other tools, given the fact that the softwares are not pure Java).</p>\n<p>However, deploying the jars (even built with another tool) in the Maven repo is straightforward with the Maven installation plugin, and makes their use by third party code much simpler, so I went this way.</p>\n<p>I can make everything work, but I have been unable to figure out why Maven (or more specifically, the Maven install plugin) behaves like it does, that seems to make things more complex than they need to be. Most probably, my understanding of Maven's behaviour or of the Java linking system is lacking.</p>\n<p>Here is the issue: for installing a jar and its native library, one can use the following commands.</p>\n<pre><code>mvn install:install-file -Dfile=$(jarFile) -DgroupId=$(groupId) -DartifactId=$(artifactId) -Dversion=$(libraryVersion) -Dpackaging=jar\n\nmvn install:install-file -Dfile=$(nativeLibraryFile) -DgroupId=$(groupId) -DartifactId=$(artifactId) -Dversion=$(libraryVersion) -Dpackaging=$(soExtension)\n</code></pre>\n<p>Here soExtension can be <code>dll</code>, <code>so</code>, <code>dylib</code> depending on the operating system.\nThe two files end up in the same location of the Maven local repository, namely <code>.m2/repository/groupId/artifactId/versionId</code></p>\n<p>However, I observed that the native library, initially called, say <code>libmylibrary.so</code>, was systematically renamed by Maven <code>mylibrary.so</code> in the repository. As a consequence, even when java is given the proper library path (the <code>-Djava.library.path</code> option), it issues a link error because it cannot find the right library name (it does expect the &quot;lib&quot; prefix, at least in my available implementations).</p>\n<p>The link error can be solved by several means:</p>\n<ul>\n<li>by renaming the file (trimmed by Maven) back to its correct name</li>\n<li>by creating a link afterwards (on systems that support links).</li>\n</ul>\n<p>The two previous solutions are a rather clumsy way to go, because they assume a knowledge of the internals of the Maven repository (going against the encapsulation principle).</p>\n<ul>\n<li>another solution is not to rely on Maven, and to install native libraries under the system directories where dynamic libraries are usually expected (LD_LIBRARY_PATH or equivalent). It has been my solution of choice as a last resort, but I find it rather fragile and harder to maintain, since both files (the jar and the native library) are now separated in two different locations. It also makes the uninstallation of the package more difficult.</li>\n</ul>\n<p>Does anyone know why the Maven installation system behave the way it does? And if there is a workaround for it?</p>\n<p>Thank you</p>\n"},{"tags":["java","scala","yaml","string-interpolation","snakeyaml"],"comments":[{"owner":{"account_id":1175860,"reputation":13758,"user_id":1151929,"accept_rate":90,"display_name":"sarveshseri"},"score":0,"creation_date":1617741522,"post_id":66976066,"comment_id":118389368,"body_markdown":"as this env resolution is not a part of either YAML or Json, you will have to implement on your own. You can traverse the Json tree and whenever you see a `String` in form of `${...}`, replace that by the env resolution.","body":"as this env resolution is not a part of either YAML or Json, you will have to implement on your own. You can traverse the Json tree and whenever you see a <code>String</code> in form of <code>${...}</code>, replace that by the env resolution."},{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":1,"creation_date":1617745052,"post_id":66976066,"comment_id":118390569,"body_markdown":"With SnakeYAML, you can derive from `Constructor` and register a custom `Construct` implementation for `Tag.STR` so  that it will be used for all nodes that will be constructed into a `String`. [This answer](https://stackoverflow.com/a/41105034/347964) shows some Java code; I don&#39;t know enough Scala to translate it for your use-case.","body":"With SnakeYAML, you can derive from <code>Constructor</code> and register a custom <code>Construct</code> implementation for <code>Tag.STR</code> so  that it will be used for all nodes that will be constructed into a <code>String</code>. <a href=\"https://stackoverflow.com/a/41105034/347964\">This answer</a> shows some Java code; I don&#39;t know enough Scala to translate it for your use-case."}],"answers":[{"tags":[],"owner":{"account_id":11069281,"reputation":101,"user_id":8128025,"display_name":"Abhishek Kanaparthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650072436,"creation_date":1650072436,"answer_id":71890357,"question_id":66976066,"body_markdown":"Thanks to the comments &amp; guidance from the community. Here is my solution for the parser with custom constructors and represented:\r\n\r\n   \r\n\r\n    import java.io.{File, FileInputStream}\r\n    import scala.util.matching.Regex\r\n    import com.fasterxml.jackson.databind.{JsonNode, ObjectMapper}\r\n    import com.fasterxml.jackson.module.scala.DefaultScalaModule\r\n    import org.yaml.snakeyaml.{DumperOptions, LoaderOptions, Yaml}\r\n    import org.yaml.snakeyaml.constructor.{AbstractConstruct, Constructor}\r\n    import org.yaml.snakeyaml.error.MissingEnvironmentVariableException\r\n    import org.yaml.snakeyaml.nodes.Node\r\n    import org.yaml.snakeyaml.nodes.ScalarNode\r\n    import org.yaml.snakeyaml.nodes.Tag\r\n    import org.yaml.snakeyaml.representer.Representer\r\n    \r\n    /**\r\n     * Copyright (c) 2008, http://www.snakeyaml.org\r\n     * Class dedicated for SnakeYAML Support for Environment Variables\r\n     */\r\n    \r\n    \r\n    /**\r\n     * Construct scalar for format ${VARIABLE} replacing the template with the value from the environment.\r\n     *\r\n     * @see &lt;a href=&quot;https://bitbucket.org/asomov/snakeyaml/wiki/Variable%20substitution&quot;&gt;Variable substitution&lt;/a&gt;\r\n     * @see &lt;a href=&quot;https://docs.docker.com/compose/compose-file/#variable-substitution&quot;&gt;Variable substitution&lt;/a&gt;\r\n     */\r\n    \r\n    class EnvScalarConstructor() extends Constructor {\r\n      val ENV_TAG = new Tag(&quot;!ENV&quot;)\r\n      this.yamlConstructors.put(ENV_TAG, new ConstructEnv)\r\n    \r\n      val ENV_regex: Regex = &quot;\\\\$\\\\{\\\\s*((?&lt;name&gt;\\\\w+)((?&lt;separator&gt;:?(-|\\\\?))(?&lt;value&gt;\\\\w+)?)?)\\\\s*\\\\}&quot;.r\r\n    \r\n      private class ConstructEnv extends AbstractConstruct {\r\n        override def construct(node: Node) = {\r\n          val matchValue = constructScalar(node.asInstanceOf[ScalarNode])\r\n          val patternMatch = ENV_regex.findAllIn(matchValue)\r\n          val eval = patternMatch.toString()\r\n          val name = patternMatch.group(1)\r\n          val value = patternMatch.group(2)\r\n          val separator = null\r\n          apply(name, separator, if (value != null) value else &quot;&quot;, ENV_regex.replaceAllIn(matchValue, getEnv(name)))\r\n    \r\n        }\r\n      }\r\n    \r\n      /**\r\n       * Implement the logic for missing and unset variables\r\n       *\r\n       * @param name        - variable name in the template\r\n       * @param separator   - separator in the template, can be :-, -, :?, ?\r\n       * @param value       - default value or the error in the template\r\n       * @param environment - the value from the environment for the provided variable\r\n       * @return the value to apply in the template\r\n       */\r\n      def apply(name: String, separator: String, value: String, environment: String): String = {\r\n        if (environment != null &amp;&amp; !environment.isEmpty) return environment\r\n        // variable is either unset or empty\r\n        if (separator != null) { //there is a default value or error\r\n          if (separator == &quot;?&quot;) if (environment == null) throw new MissingEnvironmentVariableException(&quot;Missing mandatory variable &quot; + name + &quot;: &quot; + value)\r\n          if (separator == &quot;:?&quot;) {\r\n            if (environment == null) throw new MissingEnvironmentVariableException(&quot;Missing mandatory variable &quot; + name + &quot;: &quot; + value)\r\n            if (environment.isEmpty) throw new MissingEnvironmentVariableException(&quot;Empty mandatory variable &quot; + name + &quot;: &quot; + value)\r\n          }\r\n          if (separator.startsWith(&quot;:&quot;)) if (environment == null || environment.isEmpty) return value\r\n          else if (environment == null) return value\r\n        }\r\n        &quot;&quot;\r\n      }\r\n    \r\n      /**\r\n       * Get the value of the environment variable\r\n       *\r\n       * @param key - the name of the variable\r\n       * @return value or null if not set\r\n       */\r\n      def getEnv(key: String) = sys.env.getOrElse(key, System.getProperty(key, s&quot;UNKNOWN_ENV_VAR-$key&quot;))\r\n    }\r\n\r\nThe above constructor can be used in YAML Parser as follows:\r\n\r\n    /**\r\n     * Function that will be used to load the YAML file\r\n     * @param yamlFilePath - String with YAML path to read\r\n     * @return - FasterXML JsonNode\r\n     */\r\n    def parseYaml(yamlFilePath: String): JsonNode = {\r\n      val ios = new FileInputStream(new File(yamlFilePath))\r\n      // Parsing the YAML file with SnakeYAML - since Jackson Parser does not have Anchors and reference support\r\n      val loaderOptions = new LoaderOptions\r\n      loaderOptions.setAllowDuplicateKeys(false)\r\n      val yaml = new Yaml(\r\n        new EnvScalarConstructor,\r\n        new Representer,\r\n        new DumperOptions,\r\n        loaderOptions\r\n      )\r\n      val mapper = new ObjectMapper().registerModules(DefaultScalaModule)\r\n      val yamlObj = yaml.loadAs(ios, classOf[Any])\r\n    \r\n      // Converting the YAML to Jackson YAML - since it has more flexibility\r\n      val jsonString = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(yamlObj)\r\n      val jsonObj = mapper.readTree(jsonString)\r\n      println(jsonString)\r\n    \r\n      jsonObj\r\n    }","title":"YAML Environment Variable Interpolation in SnakeYAML scala","body":"<p>Thanks to the comments &amp; guidance from the community. Here is my solution for the parser with custom constructors and represented:</p>\n<pre><code>import java.io.{File, FileInputStream}\nimport scala.util.matching.Regex\nimport com.fasterxml.jackson.databind.{JsonNode, ObjectMapper}\nimport com.fasterxml.jackson.module.scala.DefaultScalaModule\nimport org.yaml.snakeyaml.{DumperOptions, LoaderOptions, Yaml}\nimport org.yaml.snakeyaml.constructor.{AbstractConstruct, Constructor}\nimport org.yaml.snakeyaml.error.MissingEnvironmentVariableException\nimport org.yaml.snakeyaml.nodes.Node\nimport org.yaml.snakeyaml.nodes.ScalarNode\nimport org.yaml.snakeyaml.nodes.Tag\nimport org.yaml.snakeyaml.representer.Representer\n\n/**\n * Copyright (c) 2008, http://www.snakeyaml.org\n * Class dedicated for SnakeYAML Support for Environment Variables\n */\n\n\n/**\n * Construct scalar for format ${VARIABLE} replacing the template with the value from the environment.\n *\n * @see &lt;a href=&quot;https://bitbucket.org/asomov/snakeyaml/wiki/Variable%20substitution&quot;&gt;Variable substitution&lt;/a&gt;\n * @see &lt;a href=&quot;https://docs.docker.com/compose/compose-file/#variable-substitution&quot;&gt;Variable substitution&lt;/a&gt;\n */\n\nclass EnvScalarConstructor() extends Constructor {\n  val ENV_TAG = new Tag(&quot;!ENV&quot;)\n  this.yamlConstructors.put(ENV_TAG, new ConstructEnv)\n\n  val ENV_regex: Regex = &quot;\\\\$\\\\{\\\\s*((?&lt;name&gt;\\\\w+)((?&lt;separator&gt;:?(-|\\\\?))(?&lt;value&gt;\\\\w+)?)?)\\\\s*\\\\}&quot;.r\n\n  private class ConstructEnv extends AbstractConstruct {\n    override def construct(node: Node) = {\n      val matchValue = constructScalar(node.asInstanceOf[ScalarNode])\n      val patternMatch = ENV_regex.findAllIn(matchValue)\n      val eval = patternMatch.toString()\n      val name = patternMatch.group(1)\n      val value = patternMatch.group(2)\n      val separator = null\n      apply(name, separator, if (value != null) value else &quot;&quot;, ENV_regex.replaceAllIn(matchValue, getEnv(name)))\n\n    }\n  }\n\n  /**\n   * Implement the logic for missing and unset variables\n   *\n   * @param name        - variable name in the template\n   * @param separator   - separator in the template, can be :-, -, :?, ?\n   * @param value       - default value or the error in the template\n   * @param environment - the value from the environment for the provided variable\n   * @return the value to apply in the template\n   */\n  def apply(name: String, separator: String, value: String, environment: String): String = {\n    if (environment != null &amp;&amp; !environment.isEmpty) return environment\n    // variable is either unset or empty\n    if (separator != null) { //there is a default value or error\n      if (separator == &quot;?&quot;) if (environment == null) throw new MissingEnvironmentVariableException(&quot;Missing mandatory variable &quot; + name + &quot;: &quot; + value)\n      if (separator == &quot;:?&quot;) {\n        if (environment == null) throw new MissingEnvironmentVariableException(&quot;Missing mandatory variable &quot; + name + &quot;: &quot; + value)\n        if (environment.isEmpty) throw new MissingEnvironmentVariableException(&quot;Empty mandatory variable &quot; + name + &quot;: &quot; + value)\n      }\n      if (separator.startsWith(&quot;:&quot;)) if (environment == null || environment.isEmpty) return value\n      else if (environment == null) return value\n    }\n    &quot;&quot;\n  }\n\n  /**\n   * Get the value of the environment variable\n   *\n   * @param key - the name of the variable\n   * @return value or null if not set\n   */\n  def getEnv(key: String) = sys.env.getOrElse(key, System.getProperty(key, s&quot;UNKNOWN_ENV_VAR-$key&quot;))\n}\n</code></pre>\n<p>The above constructor can be used in YAML Parser as follows:</p>\n<pre><code>/**\n * Function that will be used to load the YAML file\n * @param yamlFilePath - String with YAML path to read\n * @return - FasterXML JsonNode\n */\ndef parseYaml(yamlFilePath: String): JsonNode = {\n  val ios = new FileInputStream(new File(yamlFilePath))\n  // Parsing the YAML file with SnakeYAML - since Jackson Parser does not have Anchors and reference support\n  val loaderOptions = new LoaderOptions\n  loaderOptions.setAllowDuplicateKeys(false)\n  val yaml = new Yaml(\n    new EnvScalarConstructor,\n    new Representer,\n    new DumperOptions,\n    loaderOptions\n  )\n  val mapper = new ObjectMapper().registerModules(DefaultScalaModule)\n  val yamlObj = yaml.loadAs(ios, classOf[Any])\n\n  // Converting the YAML to Jackson YAML - since it has more flexibility\n  val jsonString = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(yamlObj)\n  val jsonObj = mapper.readTree(jsonString)\n  println(jsonString)\n\n  jsonObj\n}\n</code></pre>\n"}],"owner":{"account_id":11069281,"reputation":101,"user_id":8128025,"display_name":"Abhishek Kanaparthi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1666,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654605894,"creation_date":1617741040,"question_id":66976066,"body_markdown":"Leveraging the best from SnakeYAML &amp; Jackson in scala, I am using the following method to parse YAML files. This method supports the usage of anchors in YAML\r\n\r\n    import com.fasterxml.jackson.databind.{JsonNode, ObjectMapper}\r\n    import com.fasterxml.jackson.module.scala.DefaultScalaModule\r\n    import java.io.{File, FileInputStream}\r\n    import org.yaml.snakeyaml.{DumperOptions, LoaderOptions, Yaml}\r\n    /**\r\n     * YAML Parser using SnakeYAML &amp; Jackson Implementation\r\n     *\r\n     * @param yamlFilePath : Path to the YAML file that has to be parsed\r\n     * @return: JsonNode of YAML file\r\n     */\r\n    def parseYaml(yamlFilePath: String): JsonNode = {\r\n      // Parsing the YAML file with SnakeYAML - since Jackson Parser does not have Anchors and reference support\r\n      val ios = new FileInputStream(new File(yamlFilePath))\r\n      val loaderOptions = new LoaderOptions\r\n      loaderOptions.setAllowDuplicateKeys(false)\r\n      val yaml = new Yaml(\r\n        loaderOptions\r\n      )\r\n    \r\n      val mapper = new ObjectMapper().registerModules(DefaultScalaModule)\r\n      val yamlObj = yaml.loadAs(ios, classOf[Any])\r\n    \r\n      // Converting the YAML to Jackson YAML - since it has more flexibility for traversing through nodes\r\n      val jsonString = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(yamlObj)\r\n      val jsonObj = mapper.readTree(jsonString)\r\n      println(jsonString)\r\n      jsonObj\r\n    }\r\n\r\n\r\nHowever, this currently does not support the interpolation of environment variables within the YAML file. Eg: If we get the following environment variables when we do \r\n\r\n    &gt;&gt;&gt; println(System.getenv())\r\n    {PATH=/usr/bin:/bin:/usr/sbin:/sbin, XPC_FLAGS=0x0, SHELL=/bin/bash}\r\n\r\nThe question is how do we achieve environment variable interpolation in yaml file, lets say we have the following YAML file:\r\n\r\n    path_value: ${PATH}\r\n    xpc: ${XPC_FLAGS}\r\n    shell_path: ${SHELL}\r\n\r\nThen after parsing the YAML should be:\r\n\r\n    {\r\n       &quot;path_value&quot;: &quot;/usr/bin:/bin:/usr/sbin:/sbin&quot;,\r\n       &quot;xpc&quot;: &quot;0x0&quot;,\r\n       &quot;shell_path&quot;: &quot;/bin/bash&quot;\r\n    }\r\n\r\nThanks for your time &amp; efforts to answer in advance!\r\n","title":"YAML Environment Variable Interpolation in SnakeYAML scala","body":"<p>Leveraging the best from SnakeYAML &amp; Jackson in scala, I am using the following method to parse YAML files. This method supports the usage of anchors in YAML</p>\n<pre><code>import com.fasterxml.jackson.databind.{JsonNode, ObjectMapper}\nimport com.fasterxml.jackson.module.scala.DefaultScalaModule\nimport java.io.{File, FileInputStream}\nimport org.yaml.snakeyaml.{DumperOptions, LoaderOptions, Yaml}\n/**\n * YAML Parser using SnakeYAML &amp; Jackson Implementation\n *\n * @param yamlFilePath : Path to the YAML file that has to be parsed\n * @return: JsonNode of YAML file\n */\ndef parseYaml(yamlFilePath: String): JsonNode = {\n  // Parsing the YAML file with SnakeYAML - since Jackson Parser does not have Anchors and reference support\n  val ios = new FileInputStream(new File(yamlFilePath))\n  val loaderOptions = new LoaderOptions\n  loaderOptions.setAllowDuplicateKeys(false)\n  val yaml = new Yaml(\n    loaderOptions\n  )\n\n  val mapper = new ObjectMapper().registerModules(DefaultScalaModule)\n  val yamlObj = yaml.loadAs(ios, classOf[Any])\n\n  // Converting the YAML to Jackson YAML - since it has more flexibility for traversing through nodes\n  val jsonString = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(yamlObj)\n  val jsonObj = mapper.readTree(jsonString)\n  println(jsonString)\n  jsonObj\n}\n</code></pre>\n<p>However, this currently does not support the interpolation of environment variables within the YAML file. Eg: If we get the following environment variables when we do</p>\n<pre><code>&gt;&gt;&gt; println(System.getenv())\n{PATH=/usr/bin:/bin:/usr/sbin:/sbin, XPC_FLAGS=0x0, SHELL=/bin/bash}\n</code></pre>\n<p>The question is how do we achieve environment variable interpolation in yaml file, lets say we have the following YAML file:</p>\n<pre><code>path_value: ${PATH}\nxpc: ${XPC_FLAGS}\nshell_path: ${SHELL}\n</code></pre>\n<p>Then after parsing the YAML should be:</p>\n<pre><code>{\n   &quot;path_value&quot;: &quot;/usr/bin:/bin:/usr/sbin:/sbin&quot;,\n   &quot;xpc&quot;: &quot;0x0&quot;,\n   &quot;shell_path&quot;: &quot;/bin/bash&quot;\n}\n</code></pre>\n<p>Thanks for your time &amp; efforts to answer in advance!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":22287637,"reputation":1,"user_id":16515013,"display_name":"Mariya Varghese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654605659,"creation_date":1654605659,"answer_id":72531427,"question_id":70602521,"body_markdown":"I get a solution for my own question. I added below code to my manifest file.   so its working fine in every devices now.      \r\n                                                                                                                                    \r\n       &lt;queries&gt;\r\n\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.media.action.VIDEO_CAPTURE&quot; /&gt;\r\n\r\n        &lt;/intent&gt;\r\n\r\n    &lt;/queries&gt;","title":"why some android phones like Motorola fusion, Oppo A93, OnePlus phones reported issues while video capturing and uploading video?","body":"<p>I get a solution for my own question. I added below code to my manifest file.   so its working fine in every devices now.</p>\n<pre><code>   &lt;queries&gt;\n\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.media.action.VIDEO_CAPTURE&quot; /&gt;\n\n    &lt;/intent&gt;\n\n&lt;/queries&gt;\n</code></pre>\n"}],"owner":{"account_id":22287637,"reputation":1,"user_id":16515013,"display_name":"Mariya Varghese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654605659,"creation_date":1641443706,"question_id":70602521,"body_markdown":"I used video capturing code using the built-in camera in an application, but it reported issues on some Android phones like Motorola fusion, Oppo A93, OnePlus phones. On other phones it works perfectly, can anyone help me to solve this issue, I tried many times but it didn&#39;t work, I&#39;m sharing my code below. \r\n\r\n\r\n    private void captureVideo() {\r\n\r\n        Intent VideoIntent = new Intent(MediaStore.ACTION_VIDEO_CAPTURE);\r\n        if (VideoIntent.resolveActivity(getPackageManager()) != null) {\r\n            VideoIntent.putExtra(MediaStore.EXTRA_VIDEO_QUALITY, 1);\r\n            VideoIntent.putExtra(&quot;android.intent.extras.CAMERA_FACING&quot;, 1);\r\n            VideoIntent.putExtra(MediaStore.EXTRA_DURATION_LIMIT, 3);\r\n            VideoIntent.putExtra(MediaStore.EXTRA_FINISH_ON_COMPLETION,true);\r\n\r\n            startActivityForResult(VideoIntent, VIDEO_REQUEST);\r\n\r\n        }\r\n\r\n    }","title":"why some android phones like Motorola fusion, Oppo A93, OnePlus phones reported issues while video capturing and uploading video?","body":"<p>I used video capturing code using the built-in camera in an application, but it reported issues on some Android phones like Motorola fusion, Oppo A93, OnePlus phones. On other phones it works perfectly, can anyone help me to solve this issue, I tried many times but it didn't work, I'm sharing my code below.</p>\n<pre><code>private void captureVideo() {\n\n    Intent VideoIntent = new Intent(MediaStore.ACTION_VIDEO_CAPTURE);\n    if (VideoIntent.resolveActivity(getPackageManager()) != null) {\n        VideoIntent.putExtra(MediaStore.EXTRA_VIDEO_QUALITY, 1);\n        VideoIntent.putExtra(&quot;android.intent.extras.CAMERA_FACING&quot;, 1);\n        VideoIntent.putExtra(MediaStore.EXTRA_DURATION_LIMIT, 3);\n        VideoIntent.putExtra(MediaStore.EXTRA_FINISH_ON_COMPLETION,true);\n\n        startActivityForResult(VideoIntent, VIDEO_REQUEST);\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","yaml","snakeyaml"],"answers":[{"tags":[],"owner":{"account_id":3833503,"reputation":346,"user_id":3178456,"display_name":"Andrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654605571,"creation_date":1654605571,"answer_id":72531400,"question_id":72442027,"body_markdown":"Yes, it is possible. You have to implement your own Constructor in SnakeYAML","title":"How to resolve SnakeYAML type dynamically","body":"<p>Yes, it is possible. You have to implement your own Constructor in SnakeYAML</p>\n"}],"owner":{"account_id":25432553,"reputation":3,"user_id":19236717,"display_name":"yuexuan418"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72531400,"answer_count":1,"score":-1,"last_activity_date":1654605571,"creation_date":1653968425,"question_id":72442027,"body_markdown":"I have a YAML file defined as below:\r\n\r\n```yaml\r\npolicies:\r\n  - endpoint: /user/add\r\n    log: true\r\n    evaluator: consumer\r\n    data:\r\n      - \r\n        key: external\r\n        whitelist:\r\n          - name\r\n      - \r\n        key: internal\r\n        whitelist:\r\n          - name\r\n          - email\r\n          - a_phone\r\n```\r\n\r\nI want to determine the type dynamically at runtime by the field &quot;evaluator&quot;. For example, when evaluator is &quot;consumer&quot;, the type in array &quot;data&quot; is ConsumerDef, when evaluator is &quot;conditional&quot;, the type in array &quot;data&quot; is ConditionalDef. In other words, the type in array &quot;data&quot; is determined by field &quot;evaluator&quot; at runtime. I do not want to add this &quot;!!com.xxx.policy.def.ConsumerDef&quot; in array &quot;data&quot;.\r\n\r\nIs it possible to do this, and if so, how?","title":"How to resolve SnakeYAML type dynamically","body":"<p>I have a YAML file defined as below:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>policies:\n  - endpoint: /user/add\n    log: true\n    evaluator: consumer\n    data:\n      - \n        key: external\n        whitelist:\n          - name\n      - \n        key: internal\n        whitelist:\n          - name\n          - email\n          - a_phone\n</code></pre>\n<p>I want to determine the type dynamically at runtime by the field &quot;evaluator&quot;. For example, when evaluator is &quot;consumer&quot;, the type in array &quot;data&quot; is ConsumerDef, when evaluator is &quot;conditional&quot;, the type in array &quot;data&quot; is ConditionalDef. In other words, the type in array &quot;data&quot; is determined by field &quot;evaluator&quot; at runtime. I do not want to add this &quot;!!com.xxx.policy.def.ConsumerDef&quot; in array &quot;data&quot;.</p>\n<p>Is it possible to do this, and if so, how?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1654188008,"post_id":72478972,"comment_id":128037052,"body_markdown":"If you [enable the debug property](https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#features.spring-application.startup-failure), then Spring Boot outputs the condition evaluation report showing why an auto-configuration was or was not executed. What does it show?","body":"If you <a href=\"https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#features.spring-application.startup-failure\" rel=\"nofollow noreferrer\">enable the debug property</a>, then Spring Boot outputs the condition evaluation report showing why an auto-configuration was or was not executed. What does it show?"},{"owner":{"account_id":25457283,"reputation":61,"user_id":19257714,"display_name":"Rainette"},"score":0,"creation_date":1654242429,"post_id":72478972,"comment_id":128048945,"body_markdown":"Thank you for your help. I did it and log says :\n    JpaAuditingSpringConfiguration:\n      Did not match:\n         - ConditionalOnSingleCandidate (types: javax.sql.DataSource; SearchStrategy: all) did not find any beans (OnBeanCondition)\n      Matched:\n         - ConditionalOnClass found required classes &#39;javax.sql.DataSource&#39;\n\nSo the bean is not found and i don&#39;t understand why? and why it was found with 2.6.2...","body":"Thank you for your help. I did it and log says :     JpaAuditingSpringConfiguration:       Did not match:          - ConditionalOnSingleCandidate (types: javax.sql.DataSource; SearchStrategy: all) did not find any beans (OnBeanCondition)       Matched:          - ConditionalOnClass found required classes &#39;javax.sql.DataSource&#39;  So the bean is not found and i don&#39;t understand why? and why it was found with 2.6.2..."},{"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"score":0,"creation_date":1654359289,"post_id":72478972,"comment_id":128074457,"body_markdown":"Is the `DataSource` being auto-configured? This should in theory work fine as `HibernateJpaAutoConfiguration` is declared to come after `DataSourceAutoConfiguration`. But in 2.7 they have changed the mechanism around auto-configuration and maybe there is a bug. It may help if you change to the new `@AutoConfiguration`: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#changes-to-auto-configuration","body":"Is the <code>DataSource</code> being auto-configured? This should in theory work fine as <code>HibernateJpaAutoConfiguration</code> is declared to come after <code>DataSourceAutoConfiguration</code>. But in 2.7 they have changed the mechanism around auto-configuration and maybe there is a bug. It may help if you change to the new <code>@AutoConfiguration</code>: <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#changes-to-auto-configuration\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>"},{"owner":{"account_id":25457283,"reputation":61,"user_id":19257714,"display_name":"Rainette"},"score":0,"creation_date":1654594092,"post_id":72478972,"comment_id":128121977,"body_markdown":"I did it but always the same behaviour, the bean Database is not found.\nI don&#39;t understand :-(","body":"I did it but always the same behaviour, the bean Database is not found. I don&#39;t understand :-("}],"answers":[{"tags":[],"owner":{"account_id":25457283,"reputation":61,"user_id":19257714,"display_name":"Rainette"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654604919,"creation_date":1654604919,"answer_id":72531265,"question_id":72478972,"body_markdown":"So i found the solution, it was a mistake from myself... I put the `@AutoConfigureAfter` on a `@Configuration` imported by the autoconfiguration entrypoint. So i move the statement on the autoconfiguration class and now all is fine.\r\nThe new annotation `@AutoConfiguration` will be very usefull to avoid this kinf of mistake.","title":"Stange behaviour since upgrade from 2.6.2 to 2.7.0","body":"<p>So i found the solution, it was a mistake from myself... I put the <code>@AutoConfigureAfter</code> on a <code>@Configuration</code> imported by the autoconfiguration entrypoint. So i move the statement on the autoconfiguration class and now all is fine.\nThe new annotation <code>@AutoConfiguration</code> will be very usefull to avoid this kinf of mistake.</p>\n"}],"owner":{"account_id":25457283,"reputation":61,"user_id":19257714,"display_name":"Rainette"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":72531265,"answer_count":1,"score":6,"last_activity_date":1654604919,"creation_date":1654185082,"question_id":72478972,"body_markdown":"I faced to a strange behaviour while upgrading my application from SpringBoot 2.6.2 to 2.7.0.\r\nI&#39;ve a starter with autoconfiguration which is responsible of initializing JPA auditing :\r\n```\r\n@Configuration\r\n@ConditionalOnBean(DataSource.class)\r\n@ConditionalOnClass({DataSource.class, AuditorAware.class, SecurityContextHolder.class})\r\n@AutoConfigureAfter({HibernateJpaAutoConfiguration.class, SecurityAutoConfiguration.class, ClockSpringConfiguration.class})\r\n@EnableJpaAuditing(auditorAwareRef = &quot;auditorProvider&quot;, dateTimeProviderRef = &quot;dateTimeProvider&quot;)\r\npublic class JpaAuditingSpringConfiguration {\r\n    @Bean\r\n    public AuditorAware&lt;String&gt; auditorProvider() {\r\n        return () -&gt;\r\n                Optional.ofNullable(SecurityContextHolder.getContext())\r\n                        .map(SecurityContext::getAuthentication)\r\n                        .map(Authentication::getName);\r\n    }\r\n\r\n    @Bean\r\n    public DateTimeProvider dateTimeProvider(Clock clock) {\r\n        return () -&gt;\r\n                Optional.of(clock)\r\n                        .map(Clock::instant);\r\n    }\r\n}\r\n```\r\nThis starter is fine in 2.6.2. But in 2.7.0 the `@ConditionalOnBean(DataSource.class)` avoid the starter to perform initialization.\r\nWhen i remove the statement all is fine again.\r\n\r\nI don&#39;t understand why it doesn&#39;t work since the update?\r\nMaybe i misused or forgot some statement. The behaviour i attempt to is the autoconfiguration apply only if a datasource bean is registred.\r\n\r\nIf someone can help me ?\r\n\r\nPS : sorry for my english :-) ","title":"Stange behaviour since upgrade from 2.6.2 to 2.7.0","body":"<p>I faced to a strange behaviour while upgrading my application from SpringBoot 2.6.2 to 2.7.0.\nI've a starter with autoconfiguration which is responsible of initializing JPA auditing :</p>\n<pre><code>@Configuration\n@ConditionalOnBean(DataSource.class)\n@ConditionalOnClass({DataSource.class, AuditorAware.class, SecurityContextHolder.class})\n@AutoConfigureAfter({HibernateJpaAutoConfiguration.class, SecurityAutoConfiguration.class, ClockSpringConfiguration.class})\n@EnableJpaAuditing(auditorAwareRef = &quot;auditorProvider&quot;, dateTimeProviderRef = &quot;dateTimeProvider&quot;)\npublic class JpaAuditingSpringConfiguration {\n    @Bean\n    public AuditorAware&lt;String&gt; auditorProvider() {\n        return () -&gt;\n                Optional.ofNullable(SecurityContextHolder.getContext())\n                        .map(SecurityContext::getAuthentication)\n                        .map(Authentication::getName);\n    }\n\n    @Bean\n    public DateTimeProvider dateTimeProvider(Clock clock) {\n        return () -&gt;\n                Optional.of(clock)\n                        .map(Clock::instant);\n    }\n}\n</code></pre>\n<p>This starter is fine in 2.6.2. But in 2.7.0 the <code>@ConditionalOnBean(DataSource.class)</code> avoid the starter to perform initialization.\nWhen i remove the statement all is fine again.</p>\n<p>I don't understand why it doesn't work since the update?\nMaybe i misused or forgot some statement. The behaviour i attempt to is the autoconfiguration apply only if a datasource bean is registred.</p>\n<p>If someone can help me ?</p>\n<p>PS : sorry for my english :-)</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":2,"creation_date":1654605041,"post_id":72531259,"comment_id":128126036,"body_markdown":"i don&#39;t see where you&#39;re starting `GalleryFragment`, where&#39;s that code ? are you sure you&#39;re starting the fragment that you&#39;ve set the arguments on ?","body":"i don&#39;t see where you&#39;re starting <code>GalleryFragment</code>, where&#39;s that code ? are you sure you&#39;re starting the fragment that you&#39;ve set the arguments on ?"},{"owner":{"account_id":25496599,"reputation":1,"user_id":19290569,"display_name":"Aliy"},"score":0,"creation_date":1654612511,"post_id":72531259,"comment_id":128128994,"body_markdown":"yeah i just didnt get the full gallery fragment code .\nthe gallery fragment gets started and i get the error when the getint function gets invoked","body":"yeah i just didnt get the full gallery fragment code . the gallery fragment gets started and i get the error when the getint function gets invoked"}],"owner":{"account_id":25496599,"reputation":1,"user_id":19290569,"display_name":"Aliy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1654604896,"creation_date":1654604896,"question_id":72531259,"body_markdown":"i have a recycle view that have an onclick function that uses an interface to pass the position of the clicked item to the fragment that the recycle view that its populated on \r\nnow i was trying to pass that position to another fragment but it gets an null pointer reference error because the data wasnt sent \r\n\r\nthe following code is from the adapter \r\n \r\n\r\n    holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        recycleclick.onclic(holder.getAdapterPosition());\r\n\r\n    }\r\n\r\n  \r\n\r\nthe following code from the first fragment (i also tried to put the bundle code inside the oncreate function but it got the same result )\r\n\r\n        @Override\r\n    public void onclic(int position) {\r\n        //list.get(position);\r\n        //Log.d(TAG, &quot;onclic: done&quot;);\r\n     System.out.println(position);\r\n       Toast.makeText(getActivity(), &quot;aight&quot;, Toast.LENGTH_SHORT).show();\r\n        thepostion=position;\r\n        GalleryFragment fragment = new GalleryFragment();\r\n        Bundle bundle = new Bundle();\r\n        bundle.putInt(&quot;themed&quot;,thepostion);\r\n        fragment.setArguments(bundle);\r\n   \r\n\r\n    }\r\nthe following code is from the second fragment (the code is inside the oncreate function)\r\n\r\n    Bundle bundle = this.getArguments();\r\n        int x = bundle.getInt(&quot;themed&quot;);\r\n        System.out.println(&quot;gallery&quot; + x);\r\n\r\n\r\n ","title":"passing data between fragments android","body":"<p>i have a recycle view that have an onclick function that uses an interface to pass the position of the clicked item to the fragment that the recycle view that its populated on\nnow i was trying to pass that position to another fragment but it gets an null pointer reference error because the data wasnt sent</p>\n<p>the following code is from the adapter</p>\n<pre><code>holder.itemView.setOnClickListener(new View.OnClickListener() {\n@Override\npublic void onClick(View view) {\n    recycleclick.onclic(holder.getAdapterPosition());\n\n}\n</code></pre>\n<p>the following code from the first fragment (i also tried to put the bundle code inside the oncreate function but it got the same result )</p>\n<pre><code>    @Override\npublic void onclic(int position) {\n    //list.get(position);\n    //Log.d(TAG, &quot;onclic: done&quot;);\n System.out.println(position);\n   Toast.makeText(getActivity(), &quot;aight&quot;, Toast.LENGTH_SHORT).show();\n    thepostion=position;\n    GalleryFragment fragment = new GalleryFragment();\n    Bundle bundle = new Bundle();\n    bundle.putInt(&quot;themed&quot;,thepostion);\n    fragment.setArguments(bundle);\n\n\n}\n</code></pre>\n<p>the following code is from the second fragment (the code is inside the oncreate function)</p>\n<pre><code>Bundle bundle = this.getArguments();\n    int x = bundle.getInt(&quot;themed&quot;);\n    System.out.println(&quot;gallery&quot; + x);\n</code></pre>\n"},{"tags":["java","date","time","calendar"],"comments":[{"owner":{"account_id":10617263,"reputation":1103,"user_id":7819329,"accept_rate":53,"display_name":"MysteryGuy"},"score":2,"creation_date":1494952373,"post_id":16499228,"comment_id":75042169,"body_markdown":"What is b in the code?","body":"What is b in the code?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1624427237,"post_id":16499228,"comment_id":120352359,"body_markdown":"For new readers to the question I recommend you don’t use `Calendar`. That class is poorly designed and long outdated. Instead use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). See [the answer by Przemek](https://stackoverflow.com/a/33892250/5772882).","body":"For new readers to the question I recommend you don’t use <code>Calendar</code>. That class is poorly designed and long outdated. Instead use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. See <a href=\"https://stackoverflow.com/a/33892250/5772882\">the answer by Przemek</a>."}],"answers":[{"tags":[],"owner":{"account_id":350538,"reputation":26874,"user_id":688653,"accept_rate":100,"display_name":"zw324"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1508337771,"creation_date":1368289130,"answer_id":16499246,"question_id":16499228,"body_markdown":"See [JavaDoc][1]:\r\n\r\n&gt; month - the value used to set the MONTH calendar field. Month value is\r\n&gt; 0-based. e.g., 0 for January.\r\n\r\nSo, the month you set is the first month of next year.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html#set%28int,%20int,%20int%29","title":"Creating java date object from year,month,day","body":"<p>See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Calendar.html#set%28int,%20int,%20int%29\" rel=\"nofollow noreferrer\">JavaDoc</a>:</p>\n\n<blockquote>\n  <p>month - the value used to set the MONTH calendar field. Month value is\n  0-based. e.g., 0 for January.</p>\n</blockquote>\n\n<p>So, the month you set is the first month of next year.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":137,"is_accepted":true,"score":137,"last_activity_date":1368289149,"creation_date":1368289149,"answer_id":16499254,"question_id":16499228,"body_markdown":"Months are zero-based in Calendar. So 12 is interpreted as december + 1 month. Use \r\n\r\n    c.set(year, month - 1, day, 0, 0);  ","title":"Creating java date object from year,month,day","body":"<p>Months are zero-based in Calendar. So 12 is interpreted as december + 1 month. Use </p>\n\n<pre><code>c.set(year, month - 1, day, 0, 0);  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1644933,"reputation":785,"user_id":1516625,"accept_rate":80,"display_name":"Fdiazreal"},"down_vote_count":5,"up_vote_count":16,"is_accepted":false,"score":11,"last_activity_date":1414603900,"creation_date":1368290101,"answer_id":16499417,"question_id":16499228,"body_markdown":"Java&#39;s Calendar representation is not the best, they are working on it for Java 8. I would advise you to use [Joda Time][1] or another similar library.\r\n\r\nHere is a quick example using LocalDate from the Joda Time library:\r\n\r\n    LocalDate localDate = new LocalDate(year, month, day);\r\n    Date date = localDate.toDate();\r\n\r\n[Here][2] you can follow a quick start tutorial.\r\n\r\n  [1]: http://joda-time.sourceforge.net/\r\n  [2]: http://joda-time.sourceforge.net/quickstart.html","title":"Creating java date object from year,month,day","body":"<p>Java's Calendar representation is not the best, they are working on it for Java 8. I would advise you to use <a href=\"http://joda-time.sourceforge.net/\" rel=\"noreferrer\">Joda Time</a> or another similar library.</p>\n\n<p>Here is a quick example using LocalDate from the Joda Time library:</p>\n\n<pre><code>LocalDate localDate = new LocalDate(year, month, day);\nDate date = localDate.toDate();\n</code></pre>\n\n<p><a href=\"http://joda-time.sourceforge.net/quickstart.html\" rel=\"noreferrer\">Here</a> you can follow a quick start tutorial.</p>\n"},{"tags":[],"owner":{"account_id":1275436,"reputation":2012,"user_id":1230816,"accept_rate":62,"display_name":"Jemolah"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1368293019,"creation_date":1368293019,"answer_id":16499819,"question_id":16499228,"body_markdown":"Make your life easy when working with dates, timestamps and durations. Use HalDateTime from\r\n\r\nhttp://sourceforge.net/projects/haldatetime/?source=directory\r\n\r\nFor example you can just use it to parse your input like this:\r\n\r\n    HalDateTime mydate = HalDateTime.valueOf( &quot;25.12.1988&quot; );\r\n    System.out.println( mydate );   // will print in ISO format: 1988-12-25\r\n\r\nYou can also specify patterns for parsing and printing.","title":"Creating java date object from year,month,day","body":"<p>Make your life easy when working with dates, timestamps and durations. Use HalDateTime from</p>\n\n<p><a href=\"http://sourceforge.net/projects/haldatetime/?source=directory\" rel=\"nofollow\">http://sourceforge.net/projects/haldatetime/?source=directory</a></p>\n\n<p>For example you can just use it to parse your input like this:</p>\n\n<pre><code>HalDateTime mydate = HalDateTime.valueOf( \"25.12.1988\" );\nSystem.out.println( mydate );   // will print in ISO format: 1988-12-25\n</code></pre>\n\n<p>You can also specify patterns for parsing and printing.</p>\n"},{"tags":[],"owner":{"account_id":2248845,"reputation":7211,"user_id":1981559,"accept_rate":100,"display_name":"Przemek"},"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1462288661,"creation_date":1448363966,"answer_id":33892250,"question_id":16499228,"body_markdown":"# java.time\r\n\r\nUsing `java.time` framework built into Java 8\r\n\r\n    int year = 2015;\r\n    int month = 12;\r\n    int day = 22;\r\n    LocalDate.of(year, month, day); //2015-12-22\r\n    LocalDate.parse(&quot;2015-12-22&quot;); //2015-12-22\r\n    //with custom formatter \r\n    DateTimeFormatter.ofPattern formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n    LocalDate.parse(&quot;22-12-2015&quot;, formatter); //2015-12-22\r\nIf you need also information about time(hour,minute,second) use some conversion from `LocalDate` to `LocalDateTime`\r\n\r\n    LocalDate.parse(&quot;2015-12-22&quot;).atStartOfDay() //2015-12-22T00:00","title":"Creating java date object from year,month,day","body":"<h1>java.time</h1>\n\n<p>Using <code>java.time</code> framework built into Java 8</p>\n\n<pre><code>int year = 2015;\nint month = 12;\nint day = 22;\nLocalDate.of(year, month, day); //2015-12-22\nLocalDate.parse(\"2015-12-22\"); //2015-12-22\n//with custom formatter \nDateTimeFormatter.ofPattern formatter = DateTimeFormatter.ofPattern(\"dd-MM-yyyy\");\nLocalDate.parse(\"22-12-2015\", formatter); //2015-12-22\n</code></pre>\n\n<p>If you need also information about time(hour,minute,second) use some conversion from <code>LocalDate</code> to <code>LocalDateTime</code></p>\n\n<pre><code>LocalDate.parse(\"2015-12-22\").atStartOfDay() //2015-12-22T00:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2728269,"reputation":8653,"user_id":2352699,"accept_rate":36,"display_name":"Fred Porci&#250;ncula"},"down_vote_count":0,"up_vote_count":91,"is_accepted":false,"score":91,"last_activity_date":1654604855,"creation_date":1456792312,"answer_id":35712524,"question_id":16499228,"body_markdown":"That&#39;s my favorite way prior to Java 8:\r\n\r\n    Date date = new GregorianCalendar(year, month - 1, day).getTime();\r\n\r\nI&#39;d say this is a bit cleaner than:\r\n\r\n    calendar.set(year, month - 1, day, 0, 0);","title":"Creating java date object from year,month,day","body":"<p>That's my favorite way prior to Java 8:</p>\n<pre><code>Date date = new GregorianCalendar(year, month - 1, day).getTime();\n</code></pre>\n<p>I'd say this is a bit cleaner than:</p>\n<pre><code>calendar.set(year, month - 1, day, 0, 0);\n</code></pre>\n"}],"owner":{"account_id":1604942,"reputation":2704,"user_id":1485216,"accept_rate":82,"display_name":"JAVAGeek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204598,"favorite_count":0,"down_vote_count":0,"up_vote_count":128,"accepted_answer_id":16499254,"answer_count":6,"score":128,"last_activity_date":1654604855,"creation_date":1368289023,"question_id":16499228,"body_markdown":"    int day = Integer.parseInt(request.getParameter(&quot;day&quot;));  // 25\r\n    int month = Integer.parseInt(request.getParameter(&quot;month&quot;)); // 12\r\n    int year = Integer.parseInt(request.getParameter(&quot;year&quot;)); // 1988\r\n\r\n    System.out.println(year);\r\n\r\n    Calendar c = Calendar.getInstance();\r\n    c.set(year, month, day, 0, 0);\t\r\n\r\n    b.setDob(c.getTime());\r\n\r\n    System.out.println(b.getDob());  \r\n\r\n\r\n\r\nOutput is:\r\n\r\n&gt; 1988   \r\n&gt; Wed Jan 25 00:00:08 IST 1989\r\n\r\nI am passing `25 12 1988` but I get `25 Jan 1989`. Why?","title":"Creating java date object from year,month,day","body":"<pre><code>int day = Integer.parseInt(request.getParameter(\"day\"));  // 25\nint month = Integer.parseInt(request.getParameter(\"month\")); // 12\nint year = Integer.parseInt(request.getParameter(\"year\")); // 1988\n\nSystem.out.println(year);\n\nCalendar c = Calendar.getInstance();\nc.set(year, month, day, 0, 0);  \n\nb.setDob(c.getTime());\n\nSystem.out.println(b.getDob());  \n</code></pre>\n\n<p>Output is:</p>\n\n<blockquote>\n  <p>1988<br>\n  Wed Jan 25 00:00:08 IST 1989</p>\n</blockquote>\n\n<p>I am passing <code>25 12 1988</code> but I get <code>25 Jan 1989</code>. Why?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":0,"creation_date":1654603131,"post_id":72530750,"comment_id":128125266,"body_markdown":"`user.image` is null.","body":"<code>user.image</code> is null."},{"owner":{"account_id":25152257,"reputation":1,"user_id":18997460,"display_name":"Factionn"},"score":0,"creation_date":1654603606,"post_id":72530750,"comment_id":128125454,"body_markdown":"so what should i do to fix it?","body":"so what should i do to fix it?"},{"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":0,"creation_date":1654611414,"post_id":72530750,"comment_id":128128531,"body_markdown":"I can&#39;t see from the given code snippet where it&#39;s coming from. Check for null, or make it not be null.","body":"I can&#39;t see from the given code snippet where it&#39;s coming from. Check for null, or make it not be null."}],"answers":[{"tags":[],"owner":{"account_id":12870578,"reputation":489,"user_id":9309181,"display_name":"Aymen Ben Salah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654603622,"creation_date":1654603622,"answer_id":72530955,"question_id":72530750,"body_markdown":"Jus check if the user image :\r\n\r\n```\r\nif(user.image!=null){\r\nbinding.imageProfile.setImageBitmap(getUserImage(user.image)\r\n}","title":"I am having trouble to solver the error &quot;java.lang.NullPointerException: Attempt to invoke virtual method &#39;byte[]","body":"<p>Jus check if the user image :</p>\n<pre><code>if(user.image!=null){\nbinding.imageProfile.setImageBitmap(getUserImage(user.image)\n}\n</code></pre>\n"}],"owner":{"account_id":25152257,"reputation":1,"user_id":18997460,"display_name":"Factionn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1654608274,"answer_count":1,"score":0,"last_activity_date":1654604844,"creation_date":1654602810,"question_id":72530750,"body_markdown":"&gt; Error\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.fadhil.ppmproject, PID: 17263\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;byte[] java.lang.String.getBytes()&#39; on a null object reference\r\n        at android.util.Base64.decode(Base64.java:119)\r\n        at com.fadhil.ppmproject.adapters.UsersAdapter.getUserImage(UsersAdapter.java:65)\r\n        at com.fadhil.ppmproject.adapters.UsersAdapter.access$000(UsersAdapter.java:19)\r\n        at com.fadhil.ppmproject.adapters.UsersAdapter$UserViewHolder.setUserData(UsersAdapter.java:58)\r\n        at com.fadhil.ppmproject.adapters.UsersAdapter.onBindViewHolder(UsersAdapter.java:39)\r\n        at com.fadhil.ppmproject.adapters.UsersAdapter.onBindViewHolder(UsersAdapter.java:19)\r\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\r\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\r\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2303)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1627)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3851)\r\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\r\n        at android.view.View.layout(View.java:21912)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at android.view.View.layout(View.java:21912)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\r\n        at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\r\n        at android.view.View.layout(View.java:21912)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at android.view.View.layout(View.java:21912)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\r\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\r\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n        at android.view.View.layout(View.java:21912)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at android.view.View.layout(View.java:21912)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\r\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\r\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n        at android.view.View.layout(View.java:21912)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:779)\r\n        at android.view.View.layout(View.java:21912)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\r\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3080)\r\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2590)\r\nE/AndroidRuntime:     at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1721)\r\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7598)\r\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:966)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:790)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:725)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:951)\r\n        at android.os.Handler.handleCallback(Handler.java:883)\r\n        at android.os.Handler.dispatchMessage(Handler.java:100)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n```\r\n\r\n&gt;Adapter.java\r\n\r\n```\r\npackage com.fadhil.ppmproject.adapters;\r\n\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.util.Base64;\r\nimport android.view.LayoutInflater;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.fadhil.ppmproject.databinding.ItemContainerUserBinding;\r\nimport com.fadhil.ppmproject.models.User;\r\n\r\nimport java.util.List;\r\n\r\npublic class UsersAdapter extends RecyclerView.Adapter&lt;UsersAdapter.UserViewHolder&gt; {\r\n    private final List&lt;User&gt; users;\r\n\r\n    public UsersAdapter(List&lt;User&gt; users) {\r\n        this.users = users;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public UserViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        ItemContainerUserBinding itemContainerUserBinding = ItemContainerUserBinding.inflate(\r\n                LayoutInflater.from(parent.getContext()),\r\n                parent,\r\n                false\r\n        );\r\n        return new UserViewHolder(itemContainerUserBinding);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull UsersAdapter.UserViewHolder holder, int position) {\r\n        holder.setUserData(users.get(position));\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return users.size();\r\n    }\r\n\r\n    public class UserViewHolder extends RecyclerView.ViewHolder {\r\n        ItemContainerUserBinding binding;\r\n\r\n        UserViewHolder (ItemContainerUserBinding itemContainerUserBinding){\r\n            super(itemContainerUserBinding.getRoot());\r\n            binding = itemContainerUserBinding;\r\n        }\r\n        void  setUserData(User user){\r\n            binding.textName.setText(user.name);\r\n            binding.textEmail.setText(user.email);\r\n            binding.imageProfile.setImageBitmap(getUserImage(user.image));\r\n        }\r\n\r\n    }\r\n\r\n    private Bitmap getUserImage(String encodedImage){\r\n\r\n        byte[] bytes = Base64.decode(encodedImage,Base64.DEFAULT);\r\n       return BitmapFactory.decodeByteArray(bytes,0,bytes.length);\r\n    }\r\n}\r\n\r\n```","title":"I am having trouble to solver the error &quot;java.lang.NullPointerException: Attempt to invoke virtual method &#39;byte[]","body":"<blockquote>\n<p>Error</p>\n</blockquote>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.fadhil.ppmproject, PID: 17263\n    java.lang.NullPointerException: Attempt to invoke virtual method 'byte[] java.lang.String.getBytes()' on a null object reference\n        at android.util.Base64.decode(Base64.java:119)\n        at com.fadhil.ppmproject.adapters.UsersAdapter.getUserImage(UsersAdapter.java:65)\n        at com.fadhil.ppmproject.adapters.UsersAdapter.access$000(UsersAdapter.java:19)\n        at com.fadhil.ppmproject.adapters.UsersAdapter$UserViewHolder.setUserData(UsersAdapter.java:58)\n        at com.fadhil.ppmproject.adapters.UsersAdapter.onBindViewHolder(UsersAdapter.java:39)\n        at com.fadhil.ppmproject.adapters.UsersAdapter.onBindViewHolder(UsersAdapter.java:19)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6118)\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6114)\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2303)\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1627)\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1587)\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:665)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4134)\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:3851)\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4404)\n        at android.view.View.layout(View.java:21912)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at android.view.View.layout(View.java:21912)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at androidx.constraintlayout.widget.ConstraintLayout.onLayout(ConstraintLayout.java:1873)\n        at android.view.View.layout(View.java:21912)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at android.view.View.layout(View.java:21912)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n        at android.view.View.layout(View.java:21912)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at android.view.View.layout(View.java:21912)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n        at android.view.View.layout(View.java:21912)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:779)\n        at android.view.View.layout(View.java:21912)\n        at android.view.ViewGroup.layout(ViewGroup.java:6260)\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3080)\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2590)\nE/AndroidRuntime:     at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1721)\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7598)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:966)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:790)\n        at android.view.Choreographer.doFrame(Choreographer.java:725)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:951)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n<blockquote>\n<p>Adapter.java</p>\n</blockquote>\n<pre><code>package com.fadhil.ppmproject.adapters;\n\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.util.Base64;\nimport android.view.LayoutInflater;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.fadhil.ppmproject.databinding.ItemContainerUserBinding;\nimport com.fadhil.ppmproject.models.User;\n\nimport java.util.List;\n\npublic class UsersAdapter extends RecyclerView.Adapter&lt;UsersAdapter.UserViewHolder&gt; {\n    private final List&lt;User&gt; users;\n\n    public UsersAdapter(List&lt;User&gt; users) {\n        this.users = users;\n    }\n\n    @NonNull\n    @Override\n    public UserViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        ItemContainerUserBinding itemContainerUserBinding = ItemContainerUserBinding.inflate(\n                LayoutInflater.from(parent.getContext()),\n                parent,\n                false\n        );\n        return new UserViewHolder(itemContainerUserBinding);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull UsersAdapter.UserViewHolder holder, int position) {\n        holder.setUserData(users.get(position));\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return users.size();\n    }\n\n    public class UserViewHolder extends RecyclerView.ViewHolder {\n        ItemContainerUserBinding binding;\n\n        UserViewHolder (ItemContainerUserBinding itemContainerUserBinding){\n            super(itemContainerUserBinding.getRoot());\n            binding = itemContainerUserBinding;\n        }\n        void  setUserData(User user){\n            binding.textName.setText(user.name);\n            binding.textEmail.setText(user.email);\n            binding.imageProfile.setImageBitmap(getUserImage(user.image));\n        }\n\n    }\n\n    private Bitmap getUserImage(String encodedImage){\n\n        byte[] bytes = Base64.decode(encodedImage,Base64.DEFAULT);\n       return BitmapFactory.decodeByteArray(bytes,0,bytes.length);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","java-package"],"comments":[{"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"score":0,"creation_date":1654589716,"post_id":72527926,"comment_id":128120441,"body_markdown":"package shouldn&#39;t be the class name!! it should be the name of the folder that contains Class.\nyou have to import firstclass: import firstClass;\nps: try to name your class with capital letters(FirstClass)","body":"package shouldn&#39;t be the class name!! it should be the name of the folder that contains Class. you have to import firstclass: import firstClass; ps: try to name your class with capital letters(FirstClass)"},{"owner":{"account_id":18958610,"reputation":304,"user_id":17512310,"display_name":"devman"},"score":0,"creation_date":1654589943,"post_id":72527926,"comment_id":128120537,"body_markdown":"import only declare package name, not include class name and method name.","body":"import only declare package name, not include class name and method name."},{"owner":{"account_id":25249882,"reputation":13,"user_id":19082510,"display_name":"Shivi Singla"},"score":0,"creation_date":1654593932,"post_id":72527926,"comment_id":128121917,"body_markdown":"@IssaKhodadadi it didn&#39;t work","body":"@IssaKhodadadi it didn&#39;t work"},{"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"score":0,"creation_date":1654594243,"post_id":72527926,"comment_id":128122027,"body_markdown":"@ShiviSingla both your classes are in a same package?","body":"@ShiviSingla both your classes are in a same package?"},{"owner":{"account_id":25249882,"reputation":13,"user_id":19082510,"display_name":"Shivi Singla"},"score":0,"creation_date":1654738670,"post_id":72527926,"comment_id":128165613,"body_markdown":"@IssaKhodadadi by same package you mean, if you mean same file, then yes they are. \nThis is the new code:\nimport FirstClass;\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n        final FirstClass abc = new FirstClass() ;\n        abc.dep();\n    }\n}\n\n\nFile2:\n\n\nclass FirstClass{\n    public void dep(){\n        System.out.println(&quot;Hi&quot;);\n}\n}","body":"@IssaKhodadadi by same package you mean, if you mean same file, then yes they are.  This is the new code: import FirstClass; public class Main {     public static void main(String[] args) {         System.out.println(&quot;Hello world!&quot;);         final FirstClass abc = new FirstClass() ;         abc.dep();     } }   File2:   class FirstClass{     public void dep(){         System.out.println(&quot;Hi&quot;); } }"}],"answers":[{"tags":[],"owner":{"account_id":11939237,"reputation":1048,"user_id":8736602,"display_name":"yali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654604438,"creation_date":1654604438,"answer_id":72531163,"question_id":72527926,"body_markdown":"Please read the [Naming Conventions in Java][1]\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"importing class from one file to another file java package does not exist","body":"<p>Please read the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Naming Conventions in Java</a></p>\n"}],"owner":{"account_id":25249882,"reputation":13,"user_id":19082510,"display_name":"Shivi Singla"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654604438,"creation_date":1654589450,"question_id":72527926,"body_markdown":"I have two files:\r\nfile1:\r\n\r\n    package firstclass.dep;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello world!&quot;);\r\n            final firstclass abc = new firstclass() ;\r\n            abc.dep();\r\n    }\r\n    }\r\nFile2:\r\n\r\n    class firstclass{\r\n        public void dep(){\r\n            System.out.println(&quot;Hi&quot;);\r\n    }\r\n    }\r\nI am trying to import first-class file to main class file\r\nand its showing me error:\r\n\r\n&gt; Main.java:1: error: package firstclass does not exist import\r\n&gt; firstclass.dep;\r\n&gt;                  ^ 1 error\r\n\r\n","title":"importing class from one file to another file java package does not exist","body":"<p>I have two files:\nfile1:</p>\n<pre><code>package firstclass.dep;\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n        final firstclass abc = new firstclass() ;\n        abc.dep();\n}\n}\n</code></pre>\n<p>File2:</p>\n<pre><code>class firstclass{\n    public void dep(){\n        System.out.println(&quot;Hi&quot;);\n}\n}\n</code></pre>\n<p>I am trying to import first-class file to main class file\nand its showing me error:</p>\n<blockquote>\n<p>Main.java:1: error: package firstclass does not exist import\nfirstclass.dep;\n^ 1 error</p>\n</blockquote>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1654571040,"post_id":72525470,"comment_id":128116329,"body_markdown":"To capture the initial text, just use `^[^\\\\]+`, see the demo [here](https://regex101.com/r/G9LXNZ/1).  Note that in Java regex, you would have to use 4 backslashes, i.e. use `^[^\\\\\\\\]+`","body":"To capture the initial text, just use <code>^[^\\\\]+</code>, see the demo <a href=\"https://regex101.com/r/G9LXNZ/1\" rel=\"nofollow noreferrer\">here</a>.  Note that in Java regex, you would have to use 4 backslashes, i.e. use <code>^[^\\\\\\\\]+</code>"},{"owner":{"account_id":25492487,"reputation":25,"user_id":19287033,"display_name":"adamn2"},"score":0,"creation_date":1654571258,"post_id":72525470,"comment_id":128116357,"body_markdown":"I&#39;m sorry I forgot to mention but initial text could also contain backslashes or any character","body":"I&#39;m sorry I forgot to mention but initial text could also contain backslashes or any character"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1654571412,"post_id":72525470,"comment_id":128116385,"body_markdown":"Would the second path element _always_ have exactly the text `KEYWORD1`?  Or, could _any_ of the three keywords happen to appear in the second position?","body":"Would the second path element <i>always</i> have exactly the text <code>KEYWORD1</code>?  Or, could <i>any</i> of the three keywords happen to appear in the second position?"},{"owner":{"account_id":25492487,"reputation":25,"user_id":19287033,"display_name":"adamn2"},"score":0,"creation_date":1654571511,"post_id":72525470,"comment_id":128116401,"body_markdown":"Any of the three keywords could appear in the second position","body":"Any of the three keywords could appear in the second position"}],"answers":[{"tags":[],"owner":{"account_id":13113751,"reputation":142064,"user_id":9473764,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654604226,"creation_date":1654571539,"answer_id":72525521,"question_id":72525470,"body_markdown":"If the string *starts* with the text you want to capture, then you can use a start-of-string anchor followed by a lazy match on any character, terminating with a forward lookahead to one of the keywords (or end-of-string, to allow for the case with no keywords):\r\n```regex\r\n^.*?(?=\\\\(?:KEYWORD1|KEYWORD2|KEYWORD3)\\\\|$)\r\n```\r\nThis will match only the `INITIAL TEXT`\r\n\r\n[Demo on regex101][1]\r\n\r\nNote that in Java you will need to double the backslash characters in the regex string. [Demo on ideone][2]\r\n\r\n\r\n  [1]: https://regex101.com/r/5C4iNR/3\r\n  [2]: https://ideone.com/jx4NWq","title":"Lookahead and lookbehind with regex","body":"<p>If the string <em>starts</em> with the text you want to capture, then you can use a start-of-string anchor followed by a lazy match on any character, terminating with a forward lookahead to one of the keywords (or end-of-string, to allow for the case with no keywords):</p>\n<pre><code>^.*?(?=\\\\(?:KEYWORD1|KEYWORD2|KEYWORD3)\\\\|$)\n</code></pre>\n<p>This will match only the <code>INITIAL TEXT</code></p>\n<p><a href=\"https://regex101.com/r/5C4iNR/3\" rel=\"nofollow noreferrer\">Demo on regex101</a></p>\n<p>Note that in Java you will need to double the backslash characters in the regex string. <a href=\"https://ideone.com/jx4NWq\" rel=\"nofollow noreferrer\">Demo on ideone</a></p>\n"}],"owner":{"account_id":25492487,"reputation":25,"user_id":19287033,"display_name":"adamn2"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72525521,"answer_count":1,"score":0,"last_activity_date":1654604226,"creation_date":1654570919,"question_id":72525470,"body_markdown":"I am trying to build a regex pattern and I&#39;m a beginner.\r\n\r\nThe string looks like this\r\n\r\n```INITIAL TEXT\\KEYWORD1\\TEXT1\\KEYWORD2\\TEXT2\\KEYWORD3\\TEXT3```\r\n\r\nThe string starts with initial text but the **keywords with their texts could be in any order or may not be present**.\r\nThe initial text could contain any character including backslashes.\r\n\r\n**I want to capture the initial text** so I tried something like this\r\n\r\n```(?&lt;=(.*)(?=\\KEYWORD1\\|\\KEYWORD2\\|KEYWORD3).*)```\r\n\r\n\r\nI am able to capture it on regex101 in group1 but my java code doesn&#39;t recognize the group 1.\r\n\r\nThanks for helping.","title":"Lookahead and lookbehind with regex","body":"<p>I am trying to build a regex pattern and I'm a beginner.</p>\n<p>The string looks like this</p>\n<p><code>INITIAL TEXT\\KEYWORD1\\TEXT1\\KEYWORD2\\TEXT2\\KEYWORD3\\TEXT3</code></p>\n<p>The string starts with initial text but the <strong>keywords with their texts could be in any order or may not be present</strong>.\nThe initial text could contain any character including backslashes.</p>\n<p><strong>I want to capture the initial text</strong> so I tried something like this</p>\n<p><code>(?&lt;=(.*)(?=\\KEYWORD1\\|\\KEYWORD2\\|KEYWORD3).*)</code></p>\n<p>I am able to capture it on regex101 in group1 but my java code doesn't recognize the group 1.</p>\n<p>Thanks for helping.</p>\n"},{"tags":["java","oracle","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":23077061,"reputation":119,"user_id":17189874,"display_name":"Dan Chirita"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654604203,"creation_date":1654604203,"answer_id":72531107,"question_id":72531037,"body_markdown":"1. BigDecimal since it&#39;s better to use BigDecimal than Float/Double for arithmetic operations.\r\n2. Integer will be fine.","title":"In JPA which @Column attributes must i have to map a NUMBER(6,3) field in an Oracle Table?","body":"<ol>\n<li>BigDecimal since it's better to use BigDecimal than Float/Double for arithmetic operations.</li>\n<li>Integer will be fine.</li>\n</ol>\n"}],"owner":{"account_id":13412339,"reputation":25,"user_id":9678253,"display_name":"Thomas Campos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72531107,"answer_count":1,"score":0,"last_activity_date":1654604203,"creation_date":1654603961,"question_id":72531037,"body_markdown":"I want to map an Oracle Table to a Java entity i create.\r\nIn the Oracle table, i have  :\r\n- a field called A of type NUMBER(6,3)\r\n- a field called B of type NUMBER(6, 0)\r\n\r\nFor the attribute in the Java entity corresponding to the field called A,\r\nmust i have a BigDecimal (or a Float is sufficient) ?\r\nmust i have with @Column (precision = 6, scale = 2) ?\r\n\r\nI find maybe the BigDecimal a little heavy but if it is necessary, i will use it.\r\nI will in the future maybe use this entity to create table for my unitary tests with H2 (DDL). Maybe but for now, no DDL.\r\n\r\nFor the attribute in the Java entity corresponding to the field called B, \r\nis an attribute of type Integer (or int) sufficient ?\r\n\r\nThank you in advance for your answer.\r\n  Thomas","title":"In JPA which @Column attributes must i have to map a NUMBER(6,3) field in an Oracle Table?","body":"<p>I want to map an Oracle Table to a Java entity i create.\nIn the Oracle table, i have  :</p>\n<ul>\n<li>a field called A of type NUMBER(6,3)</li>\n<li>a field called B of type NUMBER(6, 0)</li>\n</ul>\n<p>For the attribute in the Java entity corresponding to the field called A,\nmust i have a BigDecimal (or a Float is sufficient) ?\nmust i have with @Column (precision = 6, scale = 2) ?</p>\n<p>I find maybe the BigDecimal a little heavy but if it is necessary, i will use it.\nI will in the future maybe use this entity to create table for my unitary tests with H2 (DDL). Maybe but for now, no DDL.</p>\n<p>For the attribute in the Java entity corresponding to the field called B,\nis an attribute of type Integer (or int) sufficient ?</p>\n<p>Thank you in advance for your answer.\nThomas</p>\n"},{"tags":["java","grails","groovy","embedded-jetty"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1654364549,"post_id":72501435,"comment_id":128075490,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":17773449,"reputation":1,"user_id":12906413,"display_name":"uniqueT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654604184,"creation_date":1654604184,"answer_id":72531102,"question_id":72501435,"body_markdown":"I think I figured it out by myself. It&#39;s not about class loading, Grails starts applications in forked mode, if I set JAVA_OPTS in shell, the grails CLI takes it, not the real application.\r\n\r\nThe correct way to add JAVA_OPTS to grails application in forked mode is to edit the bootRun configuration in the build.gradle file.\r\n\r\n    bootRun {\r\n        jvmArgs(&#39;JAVA_OPTS&#39;)\r\n    }","title":"Class loading problem in using javaagent with Grails","body":"<p>I think I figured it out by myself. It's not about class loading, Grails starts applications in forked mode, if I set JAVA_OPTS in shell, the grails CLI takes it, not the real application.</p>\n<p>The correct way to add JAVA_OPTS to grails application in forked mode is to edit the bootRun configuration in the build.gradle file.</p>\n<pre><code>bootRun {\n    jvmArgs('JAVA_OPTS')\n}\n</code></pre>\n"}],"owner":{"account_id":17773449,"reputation":1,"user_id":12906413,"display_name":"uniqueT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654604184,"creation_date":1654360453,"question_id":72501435,"body_markdown":"I wrote a javaagent that can debug web applications remotely. It works fine in many frameworks, like Tomcat, Jetty, and even Scala Play. Since Groovy is also running on JVM, I wondered could it be used for Grails. \r\n\r\nBefore describing what I&#39;ve tried. I should explain my agent a little. It starts an embedded-jetty server and provides debugging interfaces. I also wrote a custom class loader to load all classes my agent uses.\r\n\r\nSo, first I ensured the agent works fine on groovy local application. Then I added javaagent parameters to JAVA_OPTS, and started Grails application. In premain phase, the jetty server started successfully, but when I sent requests to the debugging interface, it returned nothing and a warning message about class loading could be found in the console.\r\n\r\nI designed my javaagent following the JVM specification strictly(I think), and since it can be used in other frameworks, I wonder is there anything special in Grails&#39; class loading?\r\n\r\nMy agent: https://github.com/uniquetruth/remote-debug-agent/tree/grail_research  \r\nYou can figure out how to use it in README simply. You can use the release directly too, but need to change jetty&#39;s log level in the jar file. In the branch code, I&#39;ve already turned Jetty&#39;s log on, and added join() for Jetty server, so that I can block premain phase and debug faster.  \r\nJava version: 1.8  \r\nGroovy version: 4.0.2  \r\nGrails version: 5.1.8  \r\nweb application: the default helloworld demo of Grails is ok.  \r\nafter application starts, send this request to debug interface `http://localhost:8098/trace/`  \r\nexpectation: return some text  \r\ncurrent situation: nothing returns and warning found in console: \r\n\r\n&gt; org.eclipse.jetty.io.ManagedSelector$Accept failed  \r\n&gt; java.lang.NoClassDefFoundError: Could not initialize class org.eclipse.jetty.server.HttpOutput  \r\n\r\nThere is even no stack trace.","title":"Class loading problem in using javaagent with Grails","body":"<p>I wrote a javaagent that can debug web applications remotely. It works fine in many frameworks, like Tomcat, Jetty, and even Scala Play. Since Groovy is also running on JVM, I wondered could it be used for Grails.</p>\n<p>Before describing what I've tried. I should explain my agent a little. It starts an embedded-jetty server and provides debugging interfaces. I also wrote a custom class loader to load all classes my agent uses.</p>\n<p>So, first I ensured the agent works fine on groovy local application. Then I added javaagent parameters to JAVA_OPTS, and started Grails application. In premain phase, the jetty server started successfully, but when I sent requests to the debugging interface, it returned nothing and a warning message about class loading could be found in the console.</p>\n<p>I designed my javaagent following the JVM specification strictly(I think), and since it can be used in other frameworks, I wonder is there anything special in Grails' class loading?</p>\n<p>My agent: <a href=\"https://github.com/uniquetruth/remote-debug-agent/tree/grail_research\" rel=\"nofollow noreferrer\">https://github.com/uniquetruth/remote-debug-agent/tree/grail_research</a><br />\nYou can figure out how to use it in README simply. You can use the release directly too, but need to change jetty's log level in the jar file. In the branch code, I've already turned Jetty's log on, and added join() for Jetty server, so that I can block premain phase and debug faster.<br />\nJava version: 1.8<br />\nGroovy version: 4.0.2<br />\nGrails version: 5.1.8<br />\nweb application: the default helloworld demo of Grails is ok.<br />\nafter application starts, send this request to debug interface <code>http://localhost:8098/trace/</code><br />\nexpectation: return some text<br />\ncurrent situation: nothing returns and warning found in console:</p>\n<blockquote>\n<p>org.eclipse.jetty.io.ManagedSelector$Accept failed<br />\njava.lang.NoClassDefFoundError: Could not initialize class org.eclipse.jetty.server.HttpOutput</p>\n</blockquote>\n<p>There is even no stack trace.</p>\n"},{"tags":["java","mongodb","codec","gridfs"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1585725480,"creation_date":1585725480,"answer_id":60965476,"question_id":60943175,"body_markdown":"After struggling with this problem for 1+ days, I tried to instead use Gson to write a simple JSON `String` to GridFS, which should have eliminated and issue with the serialization of the underlying Java object.  To my surprise, the same codec error persisted.  Upon closer inspection, I tracked down the error to being caused by these troubling lines:\r\n\r\n    DBObject metaData = new BasicDBObject();\r\n    metaData.put(Fields.DOCUMENTS_LIST, listOfSomePojo);\r\n\r\nHere `listOfSomePojo` was an `ArrayList` of some POJO, each of whose objects had a field I wanted to use for searching.  This is what was causing the codec error, because GridFS couldn&#39;t figure out what I was trying to do.  My intention was to include the collection, each object of which had an `_id` field for searching.  Here is the workaround I used:\r\n\r\n    List&lt;String&gt; docIds = deal.getDocumentsList().stream()\r\n        .map(x -&gt; x.getId())\r\n        .collect(Collectors.toList());\r\n    metaData.put(Fields.DOCUMENTS_LIST, docIds);\r\n\r\nThat is, I just added a plain `List&lt;String&gt;` to one of the metadata fields instead, and then searched using it.  This fixed the codec error, and now everything is working.\r\n\r\nAs a side note, if you are having a similar problem, please also make sure that any Object you wish to store in GridFS is serializable, as well as all children Objects are also serializable.  If not, it will also not work.","title":"GridFS: Can&#39;t find a codec for custom class","body":"<p>After struggling with this problem for 1+ days, I tried to instead use Gson to write a simple JSON <code>String</code> to GridFS, which should have eliminated and issue with the serialization of the underlying Java object.  To my surprise, the same codec error persisted.  Upon closer inspection, I tracked down the error to being caused by these troubling lines:</p>\n\n<pre><code>DBObject metaData = new BasicDBObject();\nmetaData.put(Fields.DOCUMENTS_LIST, listOfSomePojo);\n</code></pre>\n\n<p>Here <code>listOfSomePojo</code> was an <code>ArrayList</code> of some POJO, each of whose objects had a field I wanted to use for searching.  This is what was causing the codec error, because GridFS couldn't figure out what I was trying to do.  My intention was to include the collection, each object of which had an <code>_id</code> field for searching.  Here is the workaround I used:</p>\n\n<pre><code>List&lt;String&gt; docIds = deal.getDocumentsList().stream()\n    .map(x -&gt; x.getId())\n    .collect(Collectors.toList());\nmetaData.put(Fields.DOCUMENTS_LIST, docIds);\n</code></pre>\n\n<p>That is, I just added a plain <code>List&lt;String&gt;</code> to one of the metadata fields instead, and then searched using it.  This fixed the codec error, and now everything is working.</p>\n\n<p>As a side note, if you are having a similar problem, please also make sure that any Object you wish to store in GridFS is serializable, as well as all children Objects are also serializable.  If not, it will also not work.</p>\n"},{"tags":[],"owner":{"account_id":51748,"reputation":6271,"user_id":154630,"accept_rate":69,"display_name":"Mikeb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654603984,"creation_date":1654603984,"answer_id":72531042,"question_id":60943175,"body_markdown":"I&#39;m not sure if it&#39;s exactly related to the problem you describe but I was having similar issues - writing the GridFSFile got to a point where it was working but any reading of the file (say, in a `Cursor&lt;GridFSFile&gt;`) led to a codec failure. (GridFSFile has not public constructor, configure a Codec etc etc)  I eventually tracked it down in the debugger and saw that there was a decoder coming up but it was an AutomaticPojo codec, *not* the GridFSFileCodec. \r\n\r\nThis pointed me finally to where I was adding in my other codecs to the registry. That code looked like : \r\n\r\n    CodecProvider someCodec = PojoCodecProvider.builder().....\r\n    List&lt;CodecProvider&gt; lotsOfThese = new ArrayList&lt;&gt;(); \r\n    CodecRegistry cr = new ProvidersCodecRegistry(lotsOfThese);\r\n    CodecRegistry whole = CodecRegistries.fromRegistries(cr, db.getCodecRegistry());\r\n    db = db.withCodecRegistry(whole);\r\n\r\nBut what I didn&#39;t understand is that codecs have matching rules and order therefore matters - the union of registries (cr, defaults) will not behave the same as (defaults, cr) - and even though I thought I had a package rule in my PojoCodecProvider it appears to have matched the GridFSFile before it got to the default in the codec registry. \r\n\r\nFlipping the order in the union solved several issues for me. \r\n\r\n    CodecRegistry whole = CodecRegistries.fromRegistries(db.getCodecRegistry(), cr);\r\n","title":"GridFS: Can&#39;t find a codec for custom class","body":"<p>I'm not sure if it's exactly related to the problem you describe but I was having similar issues - writing the GridFSFile got to a point where it was working but any reading of the file (say, in a <code>Cursor&lt;GridFSFile&gt;</code>) led to a codec failure. (GridFSFile has not public constructor, configure a Codec etc etc)  I eventually tracked it down in the debugger and saw that there was a decoder coming up but it was an AutomaticPojo codec, <em>not</em> the GridFSFileCodec.</p>\n<p>This pointed me finally to where I was adding in my other codecs to the registry. That code looked like :</p>\n<pre><code>CodecProvider someCodec = PojoCodecProvider.builder().....\nList&lt;CodecProvider&gt; lotsOfThese = new ArrayList&lt;&gt;(); \nCodecRegistry cr = new ProvidersCodecRegistry(lotsOfThese);\nCodecRegistry whole = CodecRegistries.fromRegistries(cr, db.getCodecRegistry());\ndb = db.withCodecRegistry(whole);\n</code></pre>\n<p>But what I didn't understand is that codecs have matching rules and order therefore matters - the union of registries (cr, defaults) will not behave the same as (defaults, cr) - and even though I thought I had a package rule in my PojoCodecProvider it appears to have matched the GridFSFile before it got to the default in the codec registry.</p>\n<p>Flipping the order in the union solved several issues for me.</p>\n<pre><code>CodecRegistry whole = CodecRegistries.fromRegistries(db.getCodecRegistry(), cr);\n</code></pre>\n"}],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60965476,"answer_count":2,"score":1,"last_activity_date":1654603984,"creation_date":1585626704,"question_id":60943175,"body_markdown":"I am working with a legacy application which has a data model in which a given MongoDB document could, occasionally, exceed 16MB in size.  This of course would trigger an exception in Mongo, and so we have decided to shift a couple of collections over to GridFS, which does not have this size limitation.  However, while we were able to successfully shift one of the collections over to GridFS, we get the following error when trying to insert POJOs which were being stored in the other collection:\r\n\r\n&gt; org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class com.tjb.entities.SomePojo\r\n\r\nI have researched this here and elsewhere, and have found a few possible fixes.  However, these fixes seem to only be for normal Mongo, not GridFS.\r\n\r\nIs there some way to configure a custom codec for GridFS?  I am assuming that there probably is a way to get GridFS to store the POJO, since regular Mongo already has the ability to do so.\r\n\r\nFor reference, the POJO contains only `String`, Java primitive, `List`, and object fields.  A few of the fields have been marked as `@Transient`, in case that would matter.  I am using Spring data as the interface into Mongo.","title":"GridFS: Can&#39;t find a codec for custom class","body":"<p>I am working with a legacy application which has a data model in which a given MongoDB document could, occasionally, exceed 16MB in size.  This of course would trigger an exception in Mongo, and so we have decided to shift a couple of collections over to GridFS, which does not have this size limitation.  However, while we were able to successfully shift one of the collections over to GridFS, we get the following error when trying to insert POJOs which were being stored in the other collection:</p>\n\n<blockquote>\n  <p>org.bson.codecs.configuration.CodecConfigurationException: Can't find a codec for class com.tjb.entities.SomePojo</p>\n</blockquote>\n\n<p>I have researched this here and elsewhere, and have found a few possible fixes.  However, these fixes seem to only be for normal Mongo, not GridFS.</p>\n\n<p>Is there some way to configure a custom codec for GridFS?  I am assuming that there probably is a way to get GridFS to store the POJO, since regular Mongo already has the ability to do so.</p>\n\n<p>For reference, the POJO contains only <code>String</code>, Java primitive, <code>List</code>, and object fields.  A few of the fields have been marked as <code>@Transient</code>, in case that would matter.  I am using Spring data as the interface into Mongo.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":8,"creation_date":1654533115,"post_id":72520720,"comment_id":128107821,"body_markdown":"You cannot. Why do you exactly want this?","body":"You cannot. Why do you exactly want this?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1654533302,"post_id":72520720,"comment_id":128107871,"body_markdown":"Even if you could do what you&#39;ve proposed, it would effectively be a no-op as you already did `abcd=this`, so the following `this=abcd` is equivalent to `this=this`. Also keep in mind the [Liskov Substitution Principle](https://en.wikipedia.org/wiki/Liskov_substitution_principle)","body":"Even if you could do what you&#39;ve proposed, it would effectively be a no-op as you already did <code>abcd=this</code>, so the following <code>this=abcd</code> is equivalent to <code>this=this</code>. Also keep in mind the <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">Liskov Substitution Principle</a>"},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1654533339,"post_id":72520720,"comment_id":128107894,"body_markdown":"@Rogue actually no. I will edit the content in the list.","body":"@Rogue actually no. I will edit the content in the list."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1654533391,"post_id":72520720,"comment_id":128107907,"body_markdown":"@MCEmperor i need it because i am adding a `removeDuplicates` method in the class. So, when the duplicates are filtered in a temp list, I want to assign it to the object","body":"@MCEmperor i need it because i am adding a <code>removeDuplicates</code> method in the class. So, when the duplicates are filtered in a temp list, I want to assign it to the object"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1654533444,"post_id":72520720,"comment_id":128107930,"body_markdown":"When you assign a list reference to another list variable, e.g. `List&lt;T&gt; something = abcd`, they are _the same object_. If you modify one, you modify the other. In all honesty, I would avoid inheritance for this solution.","body":"When you assign a list reference to another list variable, e.g. <code>List&lt;T&gt; something = abcd</code>, they are <i>the same object</i>. If you modify one, you modify the other. In all honesty, I would avoid inheritance for this solution."},{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1654533573,"post_id":72520720,"comment_id":128107974,"body_markdown":"But @Rogue, how can I update the list inside that object because it asks me for my custom class, not the list it extends to.","body":"But @Rogue, how can I update the list inside that object because it asks me for my custom class, not the list it extends to."},{"owner":{"account_id":14809612,"reputation":1470,"user_id":10695663,"display_name":"MehranB"},"score":0,"creation_date":1654533801,"post_id":72520720,"comment_id":128108046,"body_markdown":"Why not copy the elements into the AdvancedArrayList? Am I missing something? It would be very helpful if you shared the whole `AdvancedArrayList()` class.","body":"Why not copy the elements into the AdvancedArrayList? Am I missing something? It would be very helpful if you shared the whole <code>AdvancedArrayList()</code> class."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":5,"creation_date":1654533803,"post_id":72520720,"comment_id":128108047,"body_markdown":"I&#39;m not quite sure I follow your last comment. Can you update your question to include the relevant information surrounding what you&#39;re really doing? Also be wary of the [XY problem](https://xyproblem.info/) (a common pitfall for anyone).","body":"I&#39;m not quite sure I follow your last comment. Can you update your question to include the relevant information surrounding what you&#39;re really doing? Also be wary of the <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a> (a common pitfall for anyone)."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1654534482,"post_id":72520720,"comment_id":128108265,"body_markdown":"@Sambhav.K You might want to look at https://stackoverflow.com/questions/7979623/why-is-assignment-to-this-not-allowed-in-java","body":"@Sambhav.K You might want to look at <a href=\"https://stackoverflow.com/questions/7979623/why-is-assignment-to-this-not-allowed-in-java\" title=\"why is assignment to this not allowed in java\">stackoverflow.com/questions/7979623/&hellip;</a>"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1654536884,"post_id":72520720,"comment_id":128109085,"body_markdown":"`ArrayList` is not meant to be inherited. If you want to write your own list collection, extend `AbstractList`. Your custom list can then use composition to delegate to its inner list.","body":"<code>ArrayList</code> is not meant to be inherited. If you want to write your own list collection, extend <code>AbstractList</code>. Your custom list can then use composition to delegate to its inner list."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654536802,"creation_date":1654533869,"answer_id":72520885,"question_id":72520720,"body_markdown":"It&#39;s not possible in Java. `this` cannot be reassigned. Why (and when) do you need to re-assign an object from within itself?\r\n\r\nWhen you have code such as `obj.replace(otherObj)` with an imaginary implementation of `void replace(Object other) { this = other; }`, then why not simply write `obj = otherObj` to update the reference?\r\n\r\n***\r\n\r\nFurther clarifications after comments:\r\n\r\n`ArrayList` is not meant to be inherited. If you want to write your own list collection, extend `AbstractList`. Your custom list can then use composition to delegate to its inner list.","title":"How to change the object of the class itself from inside itself?","body":"<p>It's not possible in Java. <code>this</code> cannot be reassigned. Why (and when) do you need to re-assign an object from within itself?</p>\n<p>When you have code such as <code>obj.replace(otherObj)</code> with an imaginary implementation of <code>void replace(Object other) { this = other; }</code>, then why not simply write <code>obj = otherObj</code> to update the reference?</p>\n<hr />\n<p>Further clarifications after comments:</p>\n<p><code>ArrayList</code> is not meant to be inherited. If you want to write your own list collection, extend <code>AbstractList</code>. Your custom list can then use composition to delegate to its inner list.</p>\n"},{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654603758,"creation_date":1654603336,"answer_id":72530893,"question_id":72520720,"body_markdown":"Your `#removeDuplicates` method is attempting to mutate the list object it belongs to (known by `this`, within this class), and as such should actually make those modifications to the list itself (rather than a copy). Note as well, that by iterating your newly-made list `wordDuplicate`, the `for` loop will not actually execute (since there are no values inside the list). I would personally keep track using a `Set` (namely, `HashSet` with a roughly `O(1)` lookup, aka nearly constant-time), while taking advantage of the `Iterator#remove` method:\r\n\r\n    public void removeDuplicates() {\r\n        Set&lt;T&gt; seen = new HashSet&lt;&gt;();\r\n        Iterator&lt;T&gt; itr = this.iterator(); //similar to the mechanics behind for-each\r\n        while (itr.hasNext()) { //while another element can be found\r\n            T next = itr.next(); //get the next element\r\n            if (!seen.add(next)) { //#add returns &quot;true&quot; only if it was not in the Set previously\r\n                itr.remove(); //if it was previously in the set, remove it from the List\r\n            }\r\n        }\r\n    }\r\n\r\nNote as well, that the semantics you are describing nicely fit the definition of a `Set`, which is a collection of items that do not contain duplicates. There are varients of `Set` (i.e. `LinkedHashSet`) which also allow linear traversal of the elements, based on insertion-order.\r\n\r\nFor a simpler, non-iterator solution, you could also do a &quot;dirty swap&quot; of the elements after your calculation, which would be similar to what you attempted to achieve via `this = list`:\r\n\r\n    public void removeDuplicates() {\r\n        Set&lt;T&gt; seen = new LinkedHashSet&lt;&gt;(); //to preserve iteration order\r\n        for (T obj : this) { //for each object in our current list\r\n            seen.add(obj); //will only add non-duplicates!\r\n        }\r\n        this.clear(); //wipe out our old list\r\n        this.addAll(seen); //add back our non-duplicated elements\r\n    }\r\n\r\nThis can be quicker to write, but would be less performant than the in-place removal (since the entire list must be wiped and added to again). Lastly, if this is a homework problem, try to avoid copy-pasting code directly, and instead write it out yourself at the very least. Merely working towards a solution can help to solidify the information down the line.","title":"How to change the object of the class itself from inside itself?","body":"<p>Your <code>#removeDuplicates</code> method is attempting to mutate the list object it belongs to (known by <code>this</code>, within this class), and as such should actually make those modifications to the list itself (rather than a copy). Note as well, that by iterating your newly-made list <code>wordDuplicate</code>, the <code>for</code> loop will not actually execute (since there are no values inside the list). I would personally keep track using a <code>Set</code> (namely, <code>HashSet</code> with a roughly <code>O(1)</code> lookup, aka nearly constant-time), while taking advantage of the <code>Iterator#remove</code> method:</p>\n<pre><code>public void removeDuplicates() {\n    Set&lt;T&gt; seen = new HashSet&lt;&gt;();\n    Iterator&lt;T&gt; itr = this.iterator(); //similar to the mechanics behind for-each\n    while (itr.hasNext()) { //while another element can be found\n        T next = itr.next(); //get the next element\n        if (!seen.add(next)) { //#add returns &quot;true&quot; only if it was not in the Set previously\n            itr.remove(); //if it was previously in the set, remove it from the List\n        }\n    }\n}\n</code></pre>\n<p>Note as well, that the semantics you are describing nicely fit the definition of a <code>Set</code>, which is a collection of items that do not contain duplicates. There are varients of <code>Set</code> (i.e. <code>LinkedHashSet</code>) which also allow linear traversal of the elements, based on insertion-order.</p>\n<p>For a simpler, non-iterator solution, you could also do a &quot;dirty swap&quot; of the elements after your calculation, which would be similar to what you attempted to achieve via <code>this = list</code>:</p>\n<pre><code>public void removeDuplicates() {\n    Set&lt;T&gt; seen = new LinkedHashSet&lt;&gt;(); //to preserve iteration order\n    for (T obj : this) { //for each object in our current list\n        seen.add(obj); //will only add non-duplicates!\n    }\n    this.clear(); //wipe out our old list\n    this.addAll(seen); //add back our non-duplicated elements\n}\n</code></pre>\n<p>This can be quicker to write, but would be less performant than the in-place removal (since the entire list must be wiped and added to again). Lastly, if this is a homework problem, try to avoid copy-pasting code directly, and instead write it out yourself at the very least. Merely working towards a solution can help to solidify the information down the line.</p>\n"}],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"accepted_answer_id":72530893,"answer_count":2,"score":-5,"last_activity_date":1654603758,"creation_date":1654532972,"question_id":72520720,"body_markdown":"How to change the object of the class itself from inside itself? I have one class like this:\r\n```\r\npublic class AdvancedArrayList&lt;T&gt; extends ArrayList&lt;T&gt;\r\n``` \r\nAnd I want to assign a new object to itself. But, I am unable to do that. Just see this code:\r\n```\r\nAdvancedArrayList&lt;T&gt; abcd = this; // works fine\r\nthis = abcd; // ERROR: variable expected\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd this is my entire class:\r\n```\r\npublic class AdvancedArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {\r\n\r\n    public void reverse(){\r\n        Collections.reverse(this);\r\n    }\r\n\r\n    public void removeDuplicates(){\r\n        ArrayList&lt;T&gt; wordDuplicate = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;T&gt; tempList= new ArrayList&lt;&gt;();\r\n\r\n\r\n        for (T dupObject : wordDuplicate) {\r\n            if (!tempList.contains(dupObject)) {\r\n                tempList.add(dupObject);\r\n            }\r\n        }\r\n        this = tempList;\r\n    }\r\n}\r\n```\r\n\r\nSo, how can I change the object of the class itself?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pxUBy.png","title":"How to change the object of the class itself from inside itself?","body":"<p>How to change the object of the class itself from inside itself? I have one class like this:</p>\n<pre><code>public class AdvancedArrayList&lt;T&gt; extends ArrayList&lt;T&gt;\n</code></pre>\n<p>And I want to assign a new object to itself. But, I am unable to do that. Just see this code:</p>\n<pre><code>AdvancedArrayList&lt;T&gt; abcd = this; // works fine\nthis = abcd; // ERROR: variable expected\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pxUBy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pxUBy.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is my entire class:</p>\n<pre><code>public class AdvancedArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {\n\n    public void reverse(){\n        Collections.reverse(this);\n    }\n\n    public void removeDuplicates(){\n        ArrayList&lt;T&gt; wordDuplicate = new ArrayList&lt;&gt;();\n        ArrayList&lt;T&gt; tempList= new ArrayList&lt;&gt;();\n\n\n        for (T dupObject : wordDuplicate) {\n            if (!tempList.contains(dupObject)) {\n                tempList.add(dupObject);\n            }\n        }\n        this = tempList;\n    }\n}\n</code></pre>\n<p>So, how can I change the object of the class itself?</p>\n"},{"tags":["java","collections","initialization"],"answers":[{"tags":[],"owner":{"account_id":187974,"reputation":20625,"user_id":426412,"display_name":"Vivien Barousse"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1285160730,"creation_date":1285160730,"answer_id":3769487,"question_id":3769459,"body_markdown":"Maybe that was\r\n\r\n    Collection&lt;String&gt; collection = new ArrayList&lt;String&gt;() {{\r\n        add(&quot;foo&quot;);\r\n        add(&quot;bar&quot;);\r\n    }};\r\n\r\nAlso known as double-bracket initialization.","title":"Compact syntax for instantiating an initializing collection","body":"<p>Maybe that was</p>\n\n<pre><code>Collection&lt;String&gt; collection = new ArrayList&lt;String&gt;() {{\n    add(\"foo\");\n    add(\"bar\");\n}};\n</code></pre>\n\n<p>Also known as double-bracket initialization.</p>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1285160792,"creation_date":1285160792,"answer_id":3769500,"question_id":3769459,"body_markdown":"See [Initialization of an ArrayList in one line][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1005073/initialization-of-an-arraylist-in-one-line","title":"Compact syntax for instantiating an initializing collection","body":"<p>See <a href=\"https://stackoverflow.com/questions/1005073/initialization-of-an-arraylist-in-one-line\">Initialization of an ArrayList in one line</a></p>\n"},{"tags":[],"owner":{"account_id":8620,"reputation":22142,"user_id":15619,"accept_rate":91,"display_name":"Riduidel"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1285160811,"creation_date":1285160811,"answer_id":3769502,"question_id":3769459,"body_markdown":"I guess you&#39;re thinking about\r\n\r\n    collection = new ArrayList&lt;String&gt;() { // anonymous subclass\r\n         { // anonymous initializer\r\n             add(&quot;1&quot;);\r\n             add(&quot;2&quot;);\r\n             add(&quot;3&quot;);\r\n         }\r\n    }\r\n\r\nwhich, one comapcted, gives\r\n\r\n    collection = new ArrayList&lt;String&gt;() {{ add(&quot;1&quot;); add(&quot;2&quot;); add(&quot;3&quot;); }}\r\n\r\nFUGLY, to say the least. However, there is a variant to the Arrays.asList method : [`Arrays.asList(T...a)`][1] which provides comapcity and readability. As an example, it gives the following line of code :\r\n\r\n    collection = new ArrayList&lt;String&gt;(Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;)); // yep, this one is the shorter\r\n\r\nAnd notice you don&#39;t create an anonymous subclass of ArrayList of dubious use.\r\n\r\n\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList(T...)","title":"Compact syntax for instantiating an initializing collection","body":"<p>I guess you're thinking about</p>\n\n<pre><code>collection = new ArrayList&lt;String&gt;() { // anonymous subclass\n     { // anonymous initializer\n         add(\"1\");\n         add(\"2\");\n         add(\"3\");\n     }\n}\n</code></pre>\n\n<p>which, one comapcted, gives</p>\n\n<pre><code>collection = new ArrayList&lt;String&gt;() {{ add(\"1\"); add(\"2\"); add(\"3\"); }}\n</code></pre>\n\n<p>FUGLY, to say the least. However, there is a variant to the Arrays.asList method : <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList(T...)\" rel=\"noreferrer\"><code>Arrays.asList(T...a)</code></a> which provides comapcity and readability. As an example, it gives the following line of code :</p>\n\n<pre><code>collection = new ArrayList&lt;String&gt;(Arrays.asList(\"1\", \"2\", \"3\")); // yep, this one is the shorter\n</code></pre>\n\n<p>And notice you don't create an anonymous subclass of ArrayList of dubious use.</p>\n"},{"tags":[],"owner":{"account_id":51415,"reputation":24508,"user_id":153621,"accept_rate":88,"display_name":"nanda"},"down_vote_count":1,"up_vote_count":48,"is_accepted":true,"score":47,"last_activity_date":1285160928,"creation_date":1285160928,"answer_id":3769522,"question_id":3769459,"body_markdown":"http://blog.firdau.si/2010/07/01/java-tips-initializing-collection/\r\n\r\n\r\n    List&lt;String&gt; s = Arrays.asList(&quot;1&quot;, &quot;2&quot;);\r\n","title":"Compact syntax for instantiating an initializing collection","body":"<p><a href=\"http://blog.firdau.si/2010/07/01/java-tips-initializing-collection/\" rel=\"noreferrer\">http://blog.firdau.si/2010/07/01/java-tips-initializing-collection/</a></p>\n\n<pre><code>List&lt;String&gt; s = Arrays.asList(\"1\", \"2\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":129863,"reputation":6504,"user_id":328725,"accept_rate":66,"display_name":"posdef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1285163227,"creation_date":1285163227,"answer_id":3769876,"question_id":3769459,"body_markdown":"Maybe it&#39;s just me but I dont see the point of complicating things, purely in pursuit of writing shorter/faster code. Given the choice of typing marginally fewer lines of code and far easier debugging/revising I am pretty sure I&#39;d choose the second option. \r\n\r\nSo unless there is a particular reason to push for keeping this short, I&#39;d say stick to Ockham&#39;s razor, and given a number of solutions to a problem, go with the simplest one. That way when something does go wrong (which Murphy&#39;s law clearly dictates it will) you&#39;ll have a much easier time to track it. :)","title":"Compact syntax for instantiating an initializing collection","body":"<p>Maybe it's just me but I dont see the point of complicating things, purely in pursuit of writing shorter/faster code. Given the choice of typing marginally fewer lines of code and far easier debugging/revising I am pretty sure I'd choose the second option. </p>\n\n<p>So unless there is a particular reason to push for keeping this short, I'd say stick to Ockham's razor, and given a number of solutions to a problem, go with the simplest one. That way when something does go wrong (which Murphy's law clearly dictates it will) you'll have a much easier time to track it. :)</p>\n"},{"tags":[],"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467728311,"creation_date":1467727932,"answer_id":38205691,"question_id":3769459,"body_markdown":"You could create an utility function:\r\n\r\n\t@SafeVarargs\r\n\tpublic static &lt;T&gt; List&lt;T&gt; listOf(T ... values) {\r\n\t\treturn new ArrayList&lt;T&gt;(Arrays.asList(values));\r\n\t}\r\n\r\nSo you could call it like:\r\n\r\n\tcollection = MyUtils.listOf(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n\r\nThat way, you can populate a list very easily, and still keep it mutable.","title":"Compact syntax for instantiating an initializing collection","body":"<p>You could create an utility function:</p>\n\n<pre><code>@SafeVarargs\npublic static &lt;T&gt; List&lt;T&gt; listOf(T ... values) {\n    return new ArrayList&lt;T&gt;(Arrays.asList(values));\n}\n</code></pre>\n\n<p>So you could call it like:</p>\n\n<pre><code>collection = MyUtils.listOf(\"1\", \"2\", \"3\");\n</code></pre>\n\n<p>That way, you can populate a list very easily, and still keep it mutable.</p>\n"},{"tags":[],"owner":{"account_id":84290,"reputation":12528,"user_id":235715,"accept_rate":75,"display_name":"Alex Burtsev"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1654603263,"creation_date":1654603263,"answer_id":72530879,"question_id":3769459,"body_markdown":"From **JDK9** you can use factory methods:\r\n\r\n    List&lt;String&gt; list = List.of(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;);\r\n    Set&lt;String&gt; set = Set.of(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;);","title":"Compact syntax for instantiating an initializing collection","body":"<p>From <strong>JDK9</strong> you can use factory methods:</p>\n<pre><code>List&lt;String&gt; list = List.of(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;);\nSet&lt;String&gt; set = Set.of(&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;);\n</code></pre>\n"}],"owner":{"account_id":1921,"reputation":185672,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92797,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":3769522,"answer_count":7,"score":32,"last_activity_date":1654603263,"creation_date":1285160546,"question_id":3769459,"body_markdown":"I&#39;m looking for a compact syntax for instantiating a collection and adding a few items to it. I currently use this syntax:\r\n\r\n    Collection&lt;String&gt; collection = \r\n        new ArrayList&lt;String&gt;(Arrays.asList(new String[] { &quot;1&quot;, &quot;2&quot;, &quot;3&quot; }));\r\n\r\nI seem to recall that there&#39;s a more compact way of doing this that uses an anonymous subclass of `ArrayList`, then adds the items in the subclass&#39; constructor. However, I can&#39;t seem to remember the exact syntax.\r\n\r\n\r\n","title":"Compact syntax for instantiating an initializing collection","body":"<p>I'm looking for a compact syntax for instantiating a collection and adding a few items to it. I currently use this syntax:</p>\n\n<pre><code>Collection&lt;String&gt; collection = \n    new ArrayList&lt;String&gt;(Arrays.asList(new String[] { \"1\", \"2\", \"3\" }));\n</code></pre>\n\n<p>I seem to recall that there's a more compact way of doing this that uses an anonymous subclass of <code>ArrayList</code>, then adds the items in the subclass' constructor. However, I can't seem to remember the exact syntax.</p>\n"},{"tags":["java","google-cloud-platform","jdbc","google-bigquery"],"answers":[{"tags":[],"owner":{"account_id":14233114,"reputation":765,"user_id":10281741,"display_name":"sudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654603241,"creation_date":1654603241,"answer_id":72530873,"question_id":70687677,"body_markdown":"There is no such configuration on the JDBC driver.\r\nTherefore we had to implement a workarround by using a proxy and configure it on the System level:\r\n\r\n    System.setProperty(&quot;http.proxyHost&quot;, &quot;IP_OF_THE_PROXY&quot;);\r\n    System.setProperty(&quot;http.nonProxyHosts&quot;, &quot;*.p.googleapis.com&quot;);","title":"BigQuery Simba JDBC Connect Private Service Connect","body":"<p>There is no such configuration on the JDBC driver.\nTherefore we had to implement a workarround by using a proxy and configure it on the System level:</p>\n<pre><code>System.setProperty(&quot;http.proxyHost&quot;, &quot;IP_OF_THE_PROXY&quot;);\nSystem.setProperty(&quot;http.nonProxyHosts&quot;, &quot;*.p.googleapis.com&quot;);\n</code></pre>\n"}],"owner":{"account_id":14233114,"reputation":765,"user_id":10281741,"display_name":"sudo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":903,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1654603241,"creation_date":1642017480,"question_id":70687677,"body_markdown":"We want to use the Simba JDCB driver to fetch data from our BigQuery datasets. Due to our company policy we have to use a [Private Service Connect][1] for the BigQuery API: `https://bigquery-p.p.googleapis.com` instead of the public available one (`https://bigquery.googleapis.com`).\r\nWe have successfully connected the Private Service Connect via an Interconnect and are able to use the endpoint via curl and the URL is correctly translated to the IP of the Private Service Connect :\r\n\r\n    curl -v -H &quot;Authorization: Bearer TOKEN&quot; https://bigquery-p.p.googleapis.com/bigquery/v2/projects/OUR-PROJECT/datasets\r\n\r\nSince our applications depends on the Simba JDCB driver (Version 1.2.21.1025) we have tried to use this Private Service Endpoint in the config by using:\r\n\r\n - Setting the URL of the data source: `jdbc:bigquery://https://bigquery-psc.p.googleapis.com`\r\n - Additionally setting the custom property `RootURL` to the endpoint\r\n\r\nwith the following code:\r\n\r\n    DataSource ds = new com.simba.googlebigquery.jdbc.DataSource();\r\n    ds.setURL(&quot;jdbc:bigquery://https://bigquery-p.p.googleapis.com&quot;);\r\n    ds.setCustomProperty(&quot;RootURL&quot;, &quot;http://bigquery-p.p.googleapis.com&quot;);\r\n\r\nBut the connection is failing with the following stacktrace:\r\n\r\n    Exception in thread &quot;main&quot; java.sql.SQLException: [Simba][BigQueryJDBCDriver](100004) HttpTransport IO error : Connection refused: connect.\r\n    \tat com.simba.googlebigquery.googlebigquery.client.BQClient.createAndTestClient(Unknown Source)\r\n    \tat com.simba.googlebigquery.googlebigquery.client.BQClient.serviceAccountOAuth(Unknown Source)\r\n    \tat com.simba.googlebigquery.googlebigquery.core.BQConnection.connect(Unknown Source)\r\n    \tat com.simba.googlebigquery.jdbc.common.BaseConnectionFactory.doConnect(Unknown Source)\r\n    \tat com.simba.googlebigquery.jdbc.common.AbstractDataSource.getSimbaConnection(Unknown Source)\r\n    \tat com.simba.googlebigquery.jdbc.common.AbstractDataSource.getConnection(Unknown Source)\r\n    Caused by: com.simba.googlebigquery.support.exceptions.GeneralException: [Simba][BigQueryJDBCDriver](100004) HttpTransport IO error : Connection refused: connect.\r\n    \t... 6 more\r\n    Caused by: com.simba.googlebigquery.support.exceptions.GeneralException: EXEC_JOB_EXECUTION_ERR\r\n    \tat com.simba.googlebigquery.googlebigquery.client.BQClient.throwExecException(Unknown Source)\r\n    \tat com.simba.googlebigquery.googlebigquery.client.BQClient.insertJob(Unknown Source)\r\n    \tat com.simba.googlebigquery.googlebigquery.client.BQClient.prepare(Unknown Source)\r\n    \t... 6 more\r\n    \r\n    Process finished with exit code 1\r\n\r\n\r\nHow we have to configure the Simba JDCB driver for BigQuery to point to a private api endpoint?\r\n\r\n  [1]: https://cloud.google.com/vpc/docs/private-service-connect","title":"BigQuery Simba JDBC Connect Private Service Connect","body":"<p>We want to use the Simba JDCB driver to fetch data from our BigQuery datasets. Due to our company policy we have to use a <a href=\"https://cloud.google.com/vpc/docs/private-service-connect\" rel=\"nofollow noreferrer\">Private Service Connect</a> for the BigQuery API: <code>https://bigquery-p.p.googleapis.com</code> instead of the public available one (<code>https://bigquery.googleapis.com</code>).\nWe have successfully connected the Private Service Connect via an Interconnect and are able to use the endpoint via curl and the URL is correctly translated to the IP of the Private Service Connect :</p>\n<pre><code>curl -v -H &quot;Authorization: Bearer TOKEN&quot; https://bigquery-p.p.googleapis.com/bigquery/v2/projects/OUR-PROJECT/datasets\n</code></pre>\n<p>Since our applications depends on the Simba JDCB driver (Version 1.2.21.1025) we have tried to use this Private Service Endpoint in the config by using:</p>\n<ul>\n<li>Setting the URL of the data source: <code>jdbc:bigquery://https://bigquery-psc.p.googleapis.com</code></li>\n<li>Additionally setting the custom property <code>RootURL</code> to the endpoint</li>\n</ul>\n<p>with the following code:</p>\n<pre><code>DataSource ds = new com.simba.googlebigquery.jdbc.DataSource();\nds.setURL(&quot;jdbc:bigquery://https://bigquery-p.p.googleapis.com&quot;);\nds.setCustomProperty(&quot;RootURL&quot;, &quot;http://bigquery-p.p.googleapis.com&quot;);\n</code></pre>\n<p>But the connection is failing with the following stacktrace:</p>\n<pre><code>Exception in thread &quot;main&quot; java.sql.SQLException: [Simba][BigQueryJDBCDriver](100004) HttpTransport IO error : Connection refused: connect.\n    at com.simba.googlebigquery.googlebigquery.client.BQClient.createAndTestClient(Unknown Source)\n    at com.simba.googlebigquery.googlebigquery.client.BQClient.serviceAccountOAuth(Unknown Source)\n    at com.simba.googlebigquery.googlebigquery.core.BQConnection.connect(Unknown Source)\n    at com.simba.googlebigquery.jdbc.common.BaseConnectionFactory.doConnect(Unknown Source)\n    at com.simba.googlebigquery.jdbc.common.AbstractDataSource.getSimbaConnection(Unknown Source)\n    at com.simba.googlebigquery.jdbc.common.AbstractDataSource.getConnection(Unknown Source)\nCaused by: com.simba.googlebigquery.support.exceptions.GeneralException: [Simba][BigQueryJDBCDriver](100004) HttpTransport IO error : Connection refused: connect.\n    ... 6 more\nCaused by: com.simba.googlebigquery.support.exceptions.GeneralException: EXEC_JOB_EXECUTION_ERR\n    at com.simba.googlebigquery.googlebigquery.client.BQClient.throwExecException(Unknown Source)\n    at com.simba.googlebigquery.googlebigquery.client.BQClient.insertJob(Unknown Source)\n    at com.simba.googlebigquery.googlebigquery.client.BQClient.prepare(Unknown Source)\n    ... 6 more\n\nProcess finished with exit code 1\n</code></pre>\n<p>How we have to configure the Simba JDCB driver for BigQuery to point to a private api endpoint?</p>\n"},{"tags":["java","intellij-idea","java-home"],"answers":[{"tags":[],"owner":{"account_id":6246510,"reputation":78,"user_id":4858209,"display_name":"Fotis Aronis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654603121,"creation_date":1654603121,"answer_id":72530839,"question_id":72530710,"body_markdown":"According to the link the error is referencing it could be one of many things. \r\n\r\nI would try and Delete the IDE system path (idea.system.path) as that is the easiest done from the list or I would straight up try and re-install the IDE as is suggested as that will probably take care of most of the issues existing. \r\n\r\nI would also probably backup and delete the settings directory before re-installing (idea.config.path) and try again. It says that you can do this after re-installing as well but there could be an error in the settings directory that messes with the startup, meaning that the error could be resolved without you having to re-install. \r\n\r\nYou mentioned that you cannot uninstall or re-install which seems to be an issue with windows itself. If you are running this in an older system I think that re-installing windows might be your only solution (I used to have a similar issue with visual studio community). You could also try to mess around with the registry but if you are not sure what you are doing there I would simply re-install since it is way simpler","title":"IntelliJ Will Not Launch After Update","body":"<p>According to the link the error is referencing it could be one of many things.</p>\n<p>I would try and Delete the IDE system path (idea.system.path) as that is the easiest done from the list or I would straight up try and re-install the IDE as is suggested as that will probably take care of most of the issues existing.</p>\n<p>I would also probably backup and delete the settings directory before re-installing (idea.config.path) and try again. It says that you can do this after re-installing as well but there could be an error in the settings directory that messes with the startup, meaning that the error could be resolved without you having to re-install.</p>\n<p>You mentioned that you cannot uninstall or re-install which seems to be an issue with windows itself. If you are running this in an older system I think that re-installing windows might be your only solution (I used to have a similar issue with visual studio community). You could also try to mess around with the registry but if you are not sure what you are doing there I would simply re-install since it is way simpler</p>\n"}],"owner":{"account_id":3469187,"reputation":133,"user_id":2904033,"accept_rate":6,"display_name":"user2904033"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1654603121,"creation_date":1654602609,"question_id":72530710,"body_markdown":"Windows also cannot uninstall it, so that I can reinstall it. I have not used intellij for almost a year. I updated Intellij the other day to start using it again. When I try to launch after the update I get this error:    \r\n\r\nInternal error. Please refer to https://jb.gg/ide/critical-startup-errors\r\n    \r\n    java.lang.RuntimeException: Could not find installation home path. Please make sure bin/idea.properties is present in the installation directory.\r\n        at com.intellij.openapi.application.PathManager.getHomePath(PathManager.java:94)\r\n        at com.intellij.openapi.application.PathManager.loadProperties(PathManager.java:519)\r\n        at com.intellij.idea.Main.bootstrap(Main.java:94)\r\n        at com.intellij.idea.Main.main(Main.java:84)\r\n    \r\n    -----\r\n    Your JRE: 11.0.11+9-b1504.13 amd64 (JetBrains s.r.o.)\r\n    C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2018.3.4\\jbr","title":"IntelliJ Will Not Launch After Update","body":"<p>Windows also cannot uninstall it, so that I can reinstall it. I have not used intellij for almost a year. I updated Intellij the other day to start using it again. When I try to launch after the update I get this error:</p>\n<p>Internal error. Please refer to <a href=\"https://jb.gg/ide/critical-startup-errors\" rel=\"nofollow noreferrer\">https://jb.gg/ide/critical-startup-errors</a></p>\n<pre><code>java.lang.RuntimeException: Could not find installation home path. Please make sure bin/idea.properties is present in the installation directory.\n    at com.intellij.openapi.application.PathManager.getHomePath(PathManager.java:94)\n    at com.intellij.openapi.application.PathManager.loadProperties(PathManager.java:519)\n    at com.intellij.idea.Main.bootstrap(Main.java:94)\n    at com.intellij.idea.Main.main(Main.java:84)\n\n-----\nYour JRE: 11.0.11+9-b1504.13 amd64 (JetBrains s.r.o.)\nC:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2018.3.4\\jbr\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8710,"page":1282,"page_size":100}
